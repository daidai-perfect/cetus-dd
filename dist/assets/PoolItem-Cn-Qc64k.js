import{j as e,H as r,T as a,aq as _e,a as f,f as I,P as Ye,h as Ve,C as qe,I as We,k as $e,m as Ge,n as Ze,V as k,q as Y,S as Ee,p as ne,W as xs,X as cs,Y as ps,Z as gs,a7 as us,$ as hs,a0 as js,O as ys,a6 as Ke,aa as bs}from"./vendor-BFGDaAdA.js";import{a as ms}from"./useFavoritePool-Bb9nHdPu.js";import{a as oe,B as U,I as K,F as fe,O as z,f as ee,k as de,o as Ce,n as ve,d as P,a1 as ws,G as re}from"./index-CJa1Q5Eu.js";import{C as Te}from"./CheckBox-DKraExiP.js";import{R as De}from"./RefreshButton-D05mNjjf.js";import{S as Ss}from"./SearchInputBlock-C_-D9XzV.js";import{H as Me,a as _s}from"./PositionListLoading-CuIvhI1D.js";import{u as fs,a as Xe,P as ks}from"./PositionCurrentPrice-DQC6iWOF.js";import{a as D,d as Cs,u as vs}from"./usePositionList-B4CPJwxw.js";import{u as Ts}from"./activeOrders-BoeF8gqp.js";import{a as Rs,i as As}from"./VaultsAprBlock-BN9YfW1L.js";import{u as Ps}from"./useTransaction-Cc765MUE.js";import{N as ke}from"./NoData-DtiZhmrM.js";import{u as zs}from"./useAccountBalance-CeUdpiKX.js";import{S as se}from"./SingleTokenInfo-DvfSTCmR.js";import{P as Je}from"./CoinPairInfo-BTtsocOl.js";import{L as Bs}from"./ExpendItem-C_e8gEdY.js";function sn({handleIsWatchList:s=()=>{},handleIsDisplayChecked:i=()=>{},onClickIncentiveTypes:x,handleRefresh:y,selectCoinList:b,onClickSelectCoinList:d,onDeleteSelectCoinList:p,isPools:C=!0,isProfile:g=!1,isRefreshed:w}){const{isWatchList:u,isAllPools:v,isIncentivizedOnly:T}=ms(),{isApp:l,windowWidth:n}=oe();return e.jsxs(r,{w:g?"unset":"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsxs(r,{w:{base:"100%",lg:C||g?"unset":"100%"},justify:"space-between",sx:{">button":{">div":{borderRadius:g?"8px":"12px"}}},children:[e.jsx(Ss,{selectCoinList:b,onClickSelectCoinList:d,onDeleteSelectCoinList:p}),!g&&(l||!C)&&e.jsx(De,{handleRefresh:y,isRefreshed:C?w:void 0})]}),C&&e.jsxs(r,{w:{base:"100%",lg:"unset"},justify:"space-between",gap:"8px",children:[e.jsx(U,{w:{base:n<=350?"48px":"36%",lg:"unset"},borderRadius:"12px",p:{base:"0px 8px",lg:"0 12px"},h:"40px",onClick:s,children:n<=350?e.jsx(r,{h:"38px",justify:"center",align:"center",children:e.jsx(K,{xlinkHref:"#icon-icon_star",svgFill:u?"primary":"text_paragraph"})}):e.jsxs(r,{h:"100%",justify:"space-between",gap:{base:"6px",lg:"8px"},children:[e.jsx(Te,{checked:u,onClick:()=>{}}),e.jsx(a,{color:u?"text_caption":"text_paragraph",children:"Watchlist"})]})}),e.jsxs(r,{w:{base:"100%",lg:"unset"},children:[e.jsx(U,{w:{base:"65%",lg:"unset"},borderRadius:"12px",p:l?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(r,{h:"100%",justify:"space-between",gap:l?"4px":"8px",children:[e.jsx(a,{color:T?"text_caption":"text_paragraph",children:l?"Incentivized":"Incentivized Only"}),e.jsx(_e,{isChecked:T,onChange:x})]})}),e.jsx(U,{w:{base:"35%",lg:"unset"},borderRadius:"12px",p:l?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(r,{h:"100%",justify:"space-between",children:[e.jsxs(a,{color:v?"text_caption":"text_paragraph",children:[" ",l?"All":"All pools"]}),e.jsx(_e,{isChecked:v,onChange:i})]})})]}),!g&&!l&&e.jsx(De,{handleRefresh:y,isRefreshed:w})]})]})}const Ls=({posInfo:s})=>{var p,C,g,w,u,v,T,l;const[i,x]=f.useState(!1),{posApiPoolData:y}=D(),b=(p=y[s==null?void 0:s.clmmPool])==null?void 0:p.haveMining,d=(C=y[s==null?void 0:s.clmmPool])==null?void 0:C.haveFarming;return e.jsx(I,{p:"12px 0",onClick:n=>fe(n),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:e.jsxs(Ye,{isLazy:!0,isOpen:i,children:[e.jsx(Ve,{children:e.jsxs(qe,{as:"button",cursor:Number(s==null?void 0:s.totalRewardUsd)==0?"text":"help",children:[b&&e.jsx(We,{w:"14px",h:"14px",src:"/images/icon_mining.png",mr:"4px"}),d&&e.jsx(We,{w:"14px",h:"14px",src:"/images/icon_farms.png",mr:"4px"}),e.jsx(a,{color:"primary",fontSize:"14px",textDecoration:Number(s==null?void 0:s.totalRewardUsd)==0?"none":"underline dotted",textUnderlineOffset:"3px",children:z(s==null?void 0:s.totalRewardUsd,2)})]})}),i&&Number(s==null?void 0:s.totalRewardUsd)!==0&&e.jsx($e,{children:e.jsx(Ge,{zIndex:"2",w:"fit-content",children:e.jsx(Ze,{children:e.jsxs(k,{align:"flex-start",minW:"300px",children:[((g=s==null?void 0:s.pendingFeesList)==null?void 0:g.length)>0&&e.jsxs(k,{align:"flex-start",minW:"100%",children:[e.jsxs(r,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"12px",p:"16px",children:[e.jsx(a,{fontSize:"12px",children:"Fees"}),e.jsxs(a,{color:"primary",children:[" ",z(s==null?void 0:s.feeOwedUsd,2)]})]}),(w=s==null?void 0:s.pendingFeesList)==null?void 0:w.map(n=>(console.log("ðŸš€ ~ {posInfo?.pendingFeesList?.map ~ item:",n),e.jsxs(r,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(se,{token:n.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(k,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(n==null?void 0:n.amount,6)}),e.jsx(a,{fontSize:"12px",children:z(n==null?void 0:n.amountUSD,2)})]})]},n==null?void 0:n.coin_address)))]}),((u=s==null?void 0:s.pendingRewarderList)==null?void 0:u.length)>0&&e.jsxs(k,{align:"flex-start",minW:"100%",children:[e.jsxs(r,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"6px",p:"16px",children:[e.jsx(a,{fontSize:"12px",children:"Mining rewards"}),e.jsxs(a,{color:"primary",children:[" ",z(s==null?void 0:s.rewarderUsd,2)]})]}),(v=s==null?void 0:s.pendingRewarderList)==null?void 0:v.map(n=>e.jsxs(r,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(se,{token:n.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(k,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(n==null?void 0:n.amount,6)}),e.jsx(a,{fontSize:"12px",children:z(n==null?void 0:n.amountUSD,2)})]})]},n==null?void 0:n.coin_address))]}),((T=s==null?void 0:s.pendingFarmsList)==null?void 0:T.length)>0&&e.jsxs(k,{align:"flex-start",minW:"100%",children:[e.jsxs(r,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"6px",p:"16px",children:[e.jsx(a,{fontSize:"12px",children:"Farming rewards"}),e.jsxs(a,{color:"primary",children:[" ",z(s==null?void 0:s.farmsUsd,2)]})]}),(l=s==null?void 0:s.pendingFarmsList)==null?void 0:l.map(n=>{var S;return e.jsxs(r,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(se,{token:n.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(k,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(n==null?void 0:n.amount,6)}),e.jsx(a,{fontSize:"12px",children:z(n==null?void 0:n.amountUSD,2)})]})]},(S=n==null?void 0:n.token)==null?void 0:S.coin_type)})]})]})})})})]})})};function Qe({posInfo:s,onClickCheckBox:i,checked:x,pageFrom:y,cursor:b="pointer"}){var u;const{getClmmPosName:d}=Cs(),{posPoolsOriginalData:p}=D(),C=f.useMemo(()=>{var v;if(s!=null&&s.tokenName)return s==null?void 0:s.tokenName;{const T=(v=p==null?void 0:p[s==null?void 0:s.clmmPool])==null?void 0:v.index;return d(s==null?void 0:s.index,T)}},[s==null?void 0:s.tokenName,s==null?void 0:s.index,s==null?void 0:s.clmmPool,p]),{posPoolsRelatedData:g}=D(),w=((u=g[s==null?void 0:s.posId])==null?void 0:u.displayFee)+"%";return e.jsxs(U,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsxs(r,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:[e.jsxs(k,{w:"100%",align:"flex-start",gap:"16px",children:[e.jsx(Je,{poolInfo:{...s,feeDisplay:w},symbolEllipsesDecimals:10}),e.jsx(a,{fontSize:"12px",color:"primary_gray",children:C})]}),i&&e.jsx(Te,{cursor:b,checked:x||!1,onClick:()=>i(s)})]}),y=="pendingYieldModal"?e.jsxs(r,{p:"0px 16px",w:"100%",justify:"space-between",gap:"4px",align:"flex-start",children:[e.jsx(a,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending yield"}),e.jsx(Ls,{posInfo:s})]}):e.jsxs(r,{justify:"space-between",p:"0 16px",children:[e.jsx(a,{color:"primary_gray",children:"Liquidity"}),e.jsx(Bs,{positionInfo:s,color:"primary",fontSize:"14px",haveTooltip:y!="lpBurnNext"})]})]})}function nn({onClose:s,onClickLock:i,currentLockItem:x,onClickCheckBox:y}){const{currentAccount:b,onWalletModal:d}=de(),{fullRangePosBaseList:p,fullRangePosBaseListLoading:C}=D();return e.jsxs(k,{w:"100%",gap:"20px",children:[e.jsxs(k,{w:"100%",align:"flex-start",gap:"20px",children:[e.jsx(a,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Token teams can permanently lock liquidity. The NFT representing your position is sent to a locked token account. Trading fees and mining rewards earned will still be claimable."}),e.jsx(a,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"To start, select a liquidity position below to lock. Ensure that position value and NFT mint match the position you want to lock!"}),e.jsx(a,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Note: Technically, your NFT is not burned but permanently locked."})]}),e.jsx(k,{w:"100%",gap:"16px",maxH:"320px",overflow:"auto",children:b!=null&&b.address?C?[{},{}].map((g,w)=>e.jsx(Ie,{},w)):(p==null?void 0:p.length)>0?p==null?void 0:p.map(g=>e.jsx(Qe,{posInfo:g,checked:(g==null?void 0:g.posId)==(x==null?void 0:x.posId),onClickCheckBox:w=>y(w),pageFrom:"lpBurnPrev"},g==null?void 0:g.posId)):e.jsxs(U,{pb:"30px",borderRadius:"12px",bg:"none",border:"none",pt:"0",children:[e.jsx(ke,{h:"240px",type:"nodata",pb:"0px",text:"No Available Liquidity",bg:"none",noBorder:!0}),e.jsx(a,{color:"primary_gray",children:"Burn/Lock Liquidity only available for Full-range position"})]}):e.jsx(ke,{type:"nowallet",onboard:()=>d(!0),bg:"none",border:"none"})}),e.jsxs(k,{gap:"8px",w:"100%",p:"20px 0",mt:"-20px",children:[e.jsx(Y,{disabled:Object.values(x).length<=0,w:"100%",h:"52px",fontWeight:"500",onClick:i,children:"Lock Liquidity"}),e.jsx(Y,{w:"100%",p:"20px",variant:"outline",onClick:s,cursor:"pointer",h:"52px",children:"Cancel"})]})]})}const Ie=()=>e.jsxs(U,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsx(r,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:e.jsxs(r,{gap:"0",children:[e.jsx(Ee,{size:"9"}),e.jsx(Ee,{size:"9"}),e.jsx(k,{gap:"4px",ml:"4px",align:"flex-start",children:e.jsx(ne,{height:"4",width:"100px"})})]})}),e.jsx(I,{w:"100%",p:"16px",children:e.jsx(ne,{height:"5",width:"250px"})})]}),Ns="/assets/tvl_bg-D80TUrdU.png",Fs="/assets/yield_bg-CcCC1tTK.png";function Os(){const{isAutoRefresh:s}=Ts(),{currentAccount:i}=de(),{posBaseList:x,posLiquidityData:y,posBaseListLoading:b,posLiquidityDataLoading:d}=D(),{getTokenAmountValue:p}=Ce(),{coinPriceObj:C}=ve(),{vaultsPositionObj:g}=Rs(),{getTokenAmountValueByPyth:w}=As(),u=f.useMemo(()=>{let l=0,n=0;if(s||!b&&!d)return(x==null?void 0:x.length)>0&&(i!=null&&i.address)?(x.forEach(S=>{var L,H;const _=y[S==null?void 0:S.posId],B=p((L=S==null?void 0:S.displayTokenA)==null?void 0:L.coin_type,_==null?void 0:_.displayCoinAmountA),W=p((H=S==null?void 0:S.displayTokenB)==null?void 0:H.coin_type,_==null?void 0:_.displayCoinAmountB);l=P(l).plus(B).plus(W).toString(),n=P(n).plus((_==null?void 0:_.displayCoinAmountA)||0).plus((_==null?void 0:_.displayCoinAmountB)||0).toString()}),console.log("ðŸš€ ~ clmmTotalTvl ~ total:",n,l),P(l).lte(0)&&P(n).gt(0)?"--":l):"0"},[s,x,b,y,d,i==null?void 0:i.address,C]),v=f.useMemo(()=>{let l=P(0);return ws(g)?(Object.values(g).forEach(n=>{const{category:S,displayCoinTypeA:_,displayAmountA:B,displayCoinTypeB:W,displayAmountB:L}=n,H=S=="haedal"?w(_,B):p(_,B),F=S=="haedal"?w(W,L):p(W,L),X=P(H).plus(F||0);l=l.add(X)}),l.toString()):"0"},[g,i==null?void 0:i.address]),T=f.useMemo(()=>(console.log("ðŸš€ ~ liquidityTotalTvl ~ clmmTotalTvl:",u,v),u=="--"||v=="--"?"0":P(u).plus(v).toString()),[u,v]);return{clmmTotalTvl:u,vaultTotalTvl:v,liquidityTotalTvl:T}}function Hs({isOpen:s,claimLoading:i,onClose:x,changeClaimLoading:y}){const[b,d]=f.useState(!1),{coinPriceObj:p}=ve(),{getPosRelatedData:C,getPositionBaseList:g}=vs(),{signAndExecuteTransaction:w}=Ps(),{currentAccount:u}=de(),{getBatchHarvestFeeAndRewardsTxPayload:v}=fs(),{getTokenAmountValue:T}=Ce(),[l,n]=f.useState([]),[S,_]=f.useState(!0),[B,W]=f.useState(!0),[L,H]=f.useState(.01),[F,X]=f.useState([]),[A,V]=f.useState([]),[q,N]=f.useState(""),[xe,Re]=f.useState(""),[$,Ae]=f.useState([]),{myPosYieldValue:es,posBaseList:J,posBaseListLoading:ce,posFeeDataLoading:pe,posRewardsDataLoading:ge,farmsPosRewardsDataLoading:ue,posFeeData:te,posRewardsData:ae,farmsPosRewardsData:ie}=D(),ss=t=>{const j=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,4})?).*$");t.target.value=t.target.value.replace(j,"$1"),H(t.target.value)},ns=()=>{(!L||L<.01)&&H(.01)},ts=ce||pe||ge||ue;f.useEffect(()=>{const t=[];let j="0";const m=[];if((J==null?void 0:J.length)>0&&!ce&&!pe&&!ge&&!ue){J.forEach((c,Pe)=>{var Be,Le,Ne,Fe,Oe,He,Ue;let he="0",je="0",ye="0",Q="0",G="0",Z="0";const be=[],me=[],we=[];if(((Be=Object.values(te))==null?void 0:Be.length)>0){const h=te[c==null?void 0:c.posId],o=T((Le=c==null?void 0:c.displayTokenA)==null?void 0:Le.coin_type,h==null?void 0:h.displayFeeOwedA,"--"),E=T((Ne=c==null?void 0:c.displayTokenB)==null?void 0:Ne.coin_type,h==null?void 0:h.displayFeeOwedB,"--");he=P(he).plus((h==null?void 0:h.displayFeeOwedA)||0).plus((h==null?void 0:h.displayFeeOwedB)||0).toString(),o!=="--"&&E!=="--"&&(Q=P(o).plus(E).toString()),me.push({coin_address:re((Fe=c==null?void 0:c.displayTokenA)==null?void 0:Fe.coin_type,!1),amount:h==null?void 0:h.displayFeeOwedA,amountUSD:o,token:c==null?void 0:c.displayTokenA},{coin_address:re((Oe=c==null?void 0:c.displayTokenB)==null?void 0:Oe.coin_type,!1),amount:h==null?void 0:h.displayFeeOwedB,amountUSD:E,token:c==null?void 0:c.displayTokenB})}if(((He=Object.values(ae))==null?void 0:He.length)>0){const h=ae[c==null?void 0:c.posId];(h==null?void 0:h.length)>0&&h.forEach(o=>{var E;if(je=P(je).plus(o.display_amount_owed||0).toString(),Number(o==null?void 0:o.display_amount_owed)>0){const M=T(o==null?void 0:o.token.coin_type,o.display_amount_owed);M!=="--"&&(G=P(G).plus(M).toString()),be.push({coin_address:re((E=o==null?void 0:o.token)==null?void 0:E.coin_type,!1),amount:o.display_amount_owed,amountUSD:M,token:o==null?void 0:o.token})}})}if(((Ue=Object.values(ie))==null?void 0:Ue.length)>0){const h=ie[c==null?void 0:c.id];(h==null?void 0:h.length)>0&&h.forEach(o=>{var E;if(console.log("ðŸš€ ~ currentPosRewardsData.forEach ~ reward:",o),ye=P(ye).plus(o.display_amount_owed||0).toString(),Number(o==null?void 0:o.display_amount_owed)>0){const M=T(o==null?void 0:o.token.coin_type,o.display_amount_owed);M!=="--"&&(Z=P(Z).plus(M).toString()),we.push({coin_address:re(((E=o==null?void 0:o.token)==null?void 0:E.coin_type)||"",!1),amount:o.display_amount_owed,amountUSD:M,token:o==null?void 0:o.token})}})}const ze=P(G).plus(Q).plus(Z).toString(),le=(P(he).gt(0)||P(je).gt(0)||P(ye).gt(0))&&Number(ze)==0?"--":ze;j=P(j).plus(G).plus(Q).plus(Z).toString(),Number(le)!==0&&m.push(c),B&&Number(le)>Number(L)&&t.push({...c,totalRewardUsd:le,pendingRewarderList:be,pendingFeesList:me,pendingFarmsList:we,rewarderUsd:G,feeOwedUsd:Q,farmsUsd:Z}),B||t.push({...c,totalRewardUsd:le,pendingRewarderList:be,pendingFeesList:me,pendingFarmsList:we,rewarderUsd:G,feeOwedUsd:Q,farmsUsd:Z})}),X(m);const R=t.filter(c=>Number(c.totalRewardUsd)!==0);V(R),console.log("ðŸš€ ~ constshowListposBaseList:any=useMemo ~ selectList:",R,A),B?(R==null?void 0:R.length)!==t.length?N(""):N("all"):(R==null?void 0:R.length)!==m.length?N(""):N("all");const O=t.sort((c,Pe)=>Pe.totalRewardUsd-c.totalRewardUsd);n(O),_(!1)}},[L,J,B,ce,pe,ge,ue,p]);const{calculatePendingYield:as}=Xe();f.useEffect(()=>{if(console.log("ðŸš€ ~ useEffect ~ selectList: ~ clickSelectAll ~ updatedList:",A),(A==null?void 0:A.length)>0){const{total:t,rewardAndFeeList:j}=as(A,te,ae,ie);console.log("ðŸš€ ~ useEffect ~ total:",A,t,j),Re(t),Ae(j)}else Re(""),Ae([])},[A==null?void 0:A.length,te,ae,ie]);const is=t=>{if(console.log("ðŸš€ ~ selectItem ~ item:",t),Number(t==null?void 0:t.totalRewardUsd)<=0)return;const j=A,m=(j==null?void 0:j.filter(R=>(R==null?void 0:R.posId)!==(t==null?void 0:t.posId)))||[];j!=null&&j.some(R=>(R==null?void 0:R.posId)===(t==null?void 0:t.posId))||m.push(t),console.log("ðŸš€ ~ selectItem ~ updatedList:",m),V(m),B?(m==null?void 0:m.length)!==(l==null?void 0:l.length)?N(""):N("all"):(m==null?void 0:m.length)!==(F==null?void 0:F.length)?N(""):N("all")};f.useEffect(()=>{H(.01),d(!1),W(!0)},[s]);const ls=()=>{if(q=="all")N(""),V([]);else{N("all");const t=A,j=Object.fromEntries(A.map(m=>[m==null?void 0:m.posId,m]));l.forEach(m=>{!j[m==null?void 0:m.posId]&&Number(m.totalRewardUsd)!==0&&t.push(m)}),console.log("ðŸš€ ~ clickSelectAll ~ updatedList:",j,t),V(t)}},{fetchAccountBalance:rs}=zs(),os=async()=>{y(!0);try{const t=Object.fromEntries(A.map(O=>[O==null?void 0:O.posId,O==null?void 0:O.pendingRewarderList])),{tx:j,txb:m}=await v(A,t,u==null?void 0:u.address);console.log("ðŸš€ ~ toClaimYield ~ tx:",j);const R=await w(m,{getShowInfo:()=>({modalDescriptionText:"Claim Yield",toastTitleText:"Claim"})});if(console.log("ðŸš€ ~ toClaimYield ~ res:",R),R){rs();const O=await g(u==null?void 0:u.address);C(O)}y(!1)}catch(t){y(!1),console.log("ðŸš€ ~ toClaimYield ~ error:",t)}finally{x()}},{isApp:ds}=oe();return e.jsxs(xs,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:x,isCentered:!0,children:[e.jsx(cs,{}),e.jsxs(ps,{minWidth:ds?"300px":"446px",children:[e.jsx(gs,{children:e.jsx(us,{fontWeight:"500",fontSize:"16px",children:b?"Claim Yield":"Details"})}),e.jsx(hs,{}),e.jsx(js,{p:"16px 0px 0",textAlign:"center",children:e.jsxs(I,{children:[e.jsxs(k,{w:"100%",children:[e.jsx(I,{w:"100%",p:"0 16px",children:e.jsx(k,{justify:"center",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",children:e.jsx(ne,{isLoaded:!ts,children:e.jsxs(k,{gap:"4px",align:"center",children:[e.jsx(a,{color:"primary_gray",children:b?"Total Claim":"Pending Yield"}),e.jsx(a,{color:"primary",fontSize:"20px",fontWeight:"500",children:z(b?xe:es,2)})]})})})}),!b&&e.jsxs(r,{w:"100%",p:"0 16px",justify:"space-between",mt:"12px",children:[e.jsx(a,{color:"text_caption",children:"Position"}),e.jsxs(r,{w:"calc(100% - 50px)",justify:"flex-end",children:[e.jsx(_e,{isChecked:B,onChange:()=>W(!B)}),e.jsx(a,{color:"text_caption",fontSize:"12px",children:"Hide yield <"}),e.jsx(U,{borderRadius:"8px",w:"72px",h:"24px",p:"0",lineHeight:"20px",children:e.jsx(ys,{textAlign:"center",fontSize:"12px",p:"0px 12px",value:`$${L}`,onChange:ss,onBlur:ns})})]})]}),e.jsx(k,{w:"100%",p:"0 16px 16px",maxH:"370px",overflow:"auto",pr:(l==null?void 0:l.length)>2?"16px":"20px",mr:"-4px",children:b?$==null?void 0:$.map(t=>(console.log("ðŸš€ ~ :[yieldList]?.map ~ item:",t),e.jsx(U,{w:"100%",p:"16px",borderRadius:"12px",sx:{_first:{mt:"12px"}},children:e.jsxs(r,{w:"100%",justify:"space-between",children:[e.jsx(se,{token:t==null?void 0:t.token,imgBoxStyle:{w:"32px",h:"32px"},haveName:!1,symbolFontSize:"14px",warningIcon:{iconW:"16px",iconH:"16px"}}),e.jsxs(k,{align:"flex-end",gap:"4px",children:[e.jsx(a,{color:"text_caption",children:ee(t==null?void 0:t.amount,6)}),e.jsxs(a,{children:["(",z(t==null?void 0:t.amountUSD,2),")"]})]})]})},t==null?void 0:t.coin_address))):(l==null?void 0:l.length)>0?l==null?void 0:l.map(t=>e.jsx(Qe,{posInfo:t,onClickCheckBox:j=>is(j),pageFrom:"pendingYieldModal",cursor:Number(t==null?void 0:t.totalRewardUsd)<=0?"not-allowed":"pointer",checked:A.some(j=>(j==null?void 0:j.posId)===(t==null?void 0:t.posId))},t==null?void 0:t.posId)):S?[{},{}].map((t,j)=>e.jsx(Ie,{},j)):e.jsx(ke,{type:"nodata"})}),b?e.jsx(r,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",justify:"center",mt:"-8px",children:e.jsx(U,{cursor:"pointer",w:"168px",h:"36px",lineHeight:"34px",mt:"12px",p:"0",borderRadius:"8px",onClick:()=>d(!1),sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:e.jsxs(r,{justify:"center",gap:"4px",children:[e.jsx(K,{xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),e.jsx(a,{children:"Back"})]})})}):e.jsx(I,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",mt:"-8px",children:e.jsxs(r,{justify:"space-between",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",p:"20px 16px",children:[e.jsxs(k,{gap:"4px",align:"flex-start",children:[e.jsx(a,{color:"primary_gray",children:"Amount selected"}),e.jsx(a,{color:"primary",fontSize:"18px",fontWeight:"500",children:z(xe,2)})]}),e.jsxs(r,{children:[e.jsx(a,{color:"text_caption",children:"Select All"}),e.jsx(Te,{checked:q=="all",onClick:ls})]})]})})]}),b?e.jsx(Y,{isLoading:i,disabled:($==null?void 0:$.length)==0||i,w:"100%",h:"52px",fontWeight:"500",onClick:os,children:"Confirm"}):e.jsx(Y,{disabled:Number(xe)<=0,w:"100%",h:"52px",fontWeight:"500",onClick:()=>d(!0),children:"Claim Yield"})]})})]})]})}const Se=({yieldList:s})=>{const[i,x]=f.useState(!1),{myPosYieldValue:y}=D(),{isApp:b}=oe();return e.jsx(k,{gap:"4px",p:{base:"0",lg:"12px 0"},align:"flex-start",onClick:b?()=>x(!i):()=>x(!1),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:e.jsxs(Ye,{isLazy:!0,isOpen:i,placement:"bottom-end",children:[e.jsx(Ve,{children:e.jsx(qe,{as:"button",children:e.jsx(a,{cursor:Number(y)<=0?"text":"help",fontSize:"20px",color:"primary_green",textDecoration:Number(y)<=0?"none":"underline dotted",textUnderlineOffset:"2px",children:z(y,2)})})}),i&&Number(y)>0&&(s==null?void 0:s.length)>0&&e.jsx($e,{children:e.jsx(Ge,{zIndex:"2",w:"fit-content",maxH:"200px",overflow:"auto",p:"4px 0",children:e.jsx(Ze,{p:"0px",children:e.jsx(k,{w:"100%",align:"flex-start",bg:"bg_secondary",gap:"0px",children:s==null?void 0:s.map(d=>{var p;return console.log("ðŸš€ ~ {yieldList?.map ~ item:",d),e.jsxs(r,{w:"100%",p:"10px 12px",minW:"300px",justify:"space-between",children:[e.jsx(se,{token:d==null?void 0:d.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(r,{gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(d==null?void 0:d.amount,6)}),e.jsxs(a,{fontSize:"12px",children:["(",z(d==null?void 0:d.amountUSD,2),")"]})]})]},(p=d==null?void 0:d.token)==null?void 0:p.coin_type)})})})})})]})})};function tn({isProfile:s=!1}){const{currentAccount:i}=de(),[x,y]=f.useState(!1),[b,d]=f.useState(!1),[p,C]=f.useState([]);Ce();const{coinPriceObj:g}=ve(),{myPosYieldValue:w,setMyPosYieldValue:u,posFeeDataLoading:v,posRewardsDataLoading:T,farmsPosRewardsDataLoading:l,posBaseList:n,posLiquidityData:S,posBaseListLoading:_,posLiquidityDataLoading:B,posFeeData:W,posRewardsData:L,farmsPosRewardsData:H}=D(),{clmmTotalTvl:F}=Os();i!=null&&i.address;const{calculatePendingYield:X}=Xe();f.useEffect(()=>{if(!(i!=null&&i.address))u(""),C([]);else if(!_&&(n==null?void 0:n.length)<=0&&(u("0"),C([])),(n==null?void 0:n.length)>0&&(i!=null&&i.address)&&!_&&!v&&!T&&!l){const{total:q,rewardAndFeeList:N}=X(n,W,L,H);u(q),C(N)}},[n,_,v,T,l,i,g]);const A=i!=null&&i.address?!w:!1,{isApp:V}=oe();return e.jsxs(Ke,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"20px",children:[e.jsxs(r,{justifyContent:"space-between",w:{base:"100%",lg:"50%"},p:"0 20px",h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:Ns,backgroundSize:"100% 100%",children:[e.jsx(a,{fontSize:"16px",color:"primary_gray",children:"Total Liquidity"}),e.jsx(ne,{isLoaded:!!F,children:s?e.jsx(Me,{size:"l",children:e.jsx(a,{fontSize:"20px",color:"primary",children:"$"+F=="--"?"--":z(F,2)})}):e.jsx(a,{fontSize:"20px",color:"primary",children:"$"+F=="--"?"--":z(F,2)})})]}),e.jsxs(r,{justifyContent:"space-between",p:"0 20px",w:{base:"100%",lg:"50%"},h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:Fs,backgroundSize:"100% 100%",children:[e.jsx(a,{fontSize:"16px",color:"primary_gray",children:"Pending Yield"}),e.jsx(ne,{isLoaded:!A,children:V?e.jsxs(r,{gap:"20px",children:[e.jsxs(k,{align:"flex-end",children:[e.jsx(Se,{yieldList:p}),e.jsx(Y,{isLoading:x,disabled:Number(w)<=0||x,w:"100px",h:"24px",onClick:()=>d(!0),borderRadius:"8px",fontSize:"12px",fontWeight:"500",children:"Claim All"})]}),Number(w)>0&&e.jsx(K,{xlinkHref:"#icon-icon_spread",onClick:()=>d(!0)})]}):e.jsxs(r,{onClick:()=>d(!0),children:[s?e.jsx(Me,{size:"l",children:e.jsx(Se,{yieldList:p})}):e.jsx(Se,{yieldList:p}),Number(w)>0&&e.jsx(K,{xlinkHref:"#icon-icon_spread"}),e.jsx(Y,{isLoading:x,disabled:Number(w)<=0||x,w:"112px",h:"32px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",children:"Claim All"})]})})]}),e.jsx(Hs,{isOpen:b,claimLoading:x,onClose:()=>d(!1),changeClaimLoading:q=>y(q)})]})}function an({poolInfo:s,isProfile:i=!1}){var w,u,v,T,l,n;const x=bs(),{posPoolsRelatedData:y,posApiPoolData:b}=D(),d=(w=b[s==null?void 0:s.clmmPoolAddress])==null?void 0:w.haveFarming,p=(((v=y[(u=s==null?void 0:s.list[0])==null?void 0:u.posId])==null?void 0:v.displayFee)||"--")+"%",[C,g]=f.useState(!0);return e.jsxs(k,{w:"100%",bg:"card_bg",p:"12px",borderRadius:"16px",gap:{base:"12px",lg:"16px"},children:[e.jsxs(Ke,{flexDir:{base:"column",lg:"row"},w:"100%",justify:"space-between",gap:{base:"12px",lg:"8px"},onClick:()=>g(!C),children:[e.jsx(Je,{symbolFontWeight:"500",symbolFontSize:"16px",symbolEllipsesDecimals:10,nameEllipsesDecimals:20,poolInfo:{feeDisplay:p,...s},haveName:!0}),e.jsxs(r,{flexDirection:{base:"column",lg:"row"},gap:{base:"12px",lg:"8px"},children:[e.jsxs(r,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},flexWrap:{base:"wrap",lg:"nowrap"},children:[e.jsx(a,{color:"primary_gray",children:"Current Price"}),e.jsx(ks,{symbolEllipsesDecimals:10,posId:(T=s==null?void 0:s.list[0])==null?void 0:T.posId,displayTokenA:s==null?void 0:s.displayTokenA,displayTokenB:s==null?void 0:s.displayTokenB})]}),d&&e.jsxs(r,{bg:"primary_yellow_opacity.10",h:"32px",w:{base:"100%",lg:"unset"},justify:"center",p:"0px 12px",borderRadius:"8px",onClick:S=>{fe(S),x("/farms")},border:"1px solid",borderColor:"transparent",cursor:"pointer",sx:{_hover:{border:"1px solid",borderColor:"primary_yellow"}},children:[e.jsx(a,{color:"primary_yellow",mr:"-4px",children:"Farm"}),e.jsx(K,{xlinkHref:"#icon-icon_list_token",w:"16px",h:"16px",svgFill:"primary_yellow",svgHover:"primary_yellow"})]}),e.jsxs(r,{w:{base:"100%",lg:"unset"},children:[e.jsx(Y,{onClick:S=>{fe(S),x(`/liquidity?poolAddress=${s==null?void 0:s.clmmPoolAddress}`)},borderRadius:"8px",w:{base:"50%",lg:"148px"},h:"32px",fontSize:"12px",fontWeight:"500",variant:"outline",children:"Create new position"}),e.jsx(U,{cursor:"pointer",w:{base:"50%",lg:"unset"},p:"4px 16px",h:"32px",borderRadius:"8px",bg:"none",_hover:{svg:{fill:"text_caption"}},children:e.jsxs(r,{justify:"center",w:"100%",h:"100%",gap:"4px",children:[e.jsxs(a,{fontSize:"12px",color:"primary",children:[(l=s==null?void 0:s.list)==null?void 0:l.length," ",((n=s==null?void 0:s.list)==null?void 0:n.length)>1?"Positions":"Position"]}),e.jsx(K,{svgW:"14px",svgH:"14px",w:"14px",h:"14px",xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:C?"rotate(180deg)":"rotate(0deg)"})]})})]})]})]}),C&&e.jsx(k,{w:"100%",maxH:"680px",overflow:"auto",children:s==null?void 0:s.list.map((S,_)=>e.jsx(_s,{positionInfo:S,isProfile:i},_))})]})}export{nn as L,Qe as M,sn as P,tn as a,an as b,Os as u};
//# sourceMappingURL=PoolItem-Cn-Qc64k.js.map
