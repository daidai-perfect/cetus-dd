import{l as M,aG as Q,aX as K,aL as ge,s as N,R as re,d as G,G as k,u as _e,aY as Pe,k as oe,a9 as H,$ as I,al as le,ai as Ve,Q as q,n as xe,aZ as ke,a_ as Le,v as ne,aH as Se,f as he,w as ve,r as je,a2 as ce,J as Ae}from"./index-CgoR1qPP.js";import{c as Oe}from"./useGetPoolList-B0OWueJZ.js";import{a as U,j as C,V as J,H as ie,T as we}from"./vendor-BowHGuwE.js";import{u as Ce}from"./useTokenBalance-DEiNyNp3.js";import{u as Be}from"./useToken-BSXfP_ez.js";import{a as De}from"./useFavoritePool-D1hGmbjX.js";import{H as z}from"./HTextLabelBox-By6y981y.js";const de=M(i=>({pythPriceMap:{},setPythPriceMap:e=>i({pythPriceMap:e})}));function Ie(){const{volatileVaultsSdk:i}=Q(),{setPythPriceMap:e}=de();return{getPythLastPrice:async r=>{const g=r.map(f=>K(f));console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPythLastPrice.ts:12 ~ getPythLastPrice ~ list:",g);try{const f=await i.PythPrice.getLatestPrice(g);return e(f),f}catch(f){console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPythLastPrice.ts:16 ~ getPythLastPrice ~ error:",f)}}}}const Ne=(i,e)=>({vaultsList:[],setVaultList:t=>i({vaultsList:t}),vaultListObj:{},setVaultListObj:t=>i({vaultListObj:t}),vaultListLoading:!0,setVaultListLoading:t=>i({vaultListLoading:t}),vaultsTokenList:[],setVaultsTokenList:t=>i({vaultsTokenList:t}),lpTokenInfoObj:{},setLpTokenInfoObj:t=>i({lpTokenInfoObj:t}),vaultsTotalTvlDisplay:"",setVaultTotalTvlDisplay:t=>i({vaultsTotalTvlDisplay:t})}),Z=M(ge(Ne,{name:"useVaultsStoreV2",partialize:i=>{const{vaultsList:e,vaultsTokenList:t,lpTokenInfoObj:r}=i;return{vaultsList:e,vaultsTokenList:t,lpTokenInfoObj:r}}})),Ge=M((i,e)=>({lstVaultContractInfoObj:{},haedalVaultContractInfoObj:{},vaultClmmPoolContractInfoObj:{},setLstVaultContractInfoObj:t=>{const r=e().lstVaultContractInfoObj;i(()=>({lstVaultContractInfoObj:{...r,...t}}))},setHaedalVaultContractInfoObj:t=>{const r=e().haedalVaultContractInfoObj;i(()=>({haedalVaultContractInfoObj:{...r,...t}}))},setVaultClmmPoolContractInfoObj:t=>{const r=e().vaultClmmPoolContractInfoObj;i(()=>({vaultClmmPoolContractInfoObj:{...r,...t}}))}})),ue=M(i=>({vaultsPositionObj:{},setVaultsPositionObj:e=>i(t=>({vaultsPositionObj:{...t.vaultsPositionObj,...e}})),clearVaultsPositionObj:()=>i(()=>({vaultsPositionObj:{}})),currentVaultPosition:{},setCurrentVaultPosition:e=>i(()=>({currentVaultPosition:e})),currentVaultPositionLoading:!0,setCurrentVaultPositionLoading:e=>i(()=>({currentVaultPositionLoading:e}))})),Y={"0xa528b26eae41bcfca488a9feaa3dca614b2a1d9b9b5c78c256918ced051d4c50":{vaults_id:"0xff4cc0af0ad9d50d4a3264dfaafd534437d8b66c8ebe9f92b4c39d898d6870a3",clmm_pool:"0xa528b26eae41bcfca488a9feaa3dca614b2a1d9b9b5c78c256918ced051d4c50",lpToken:{coin_type:"0x0c8a5fcbe32b9fc88fe1d758d33dd32586143998f68656f43f3a6ced95ea4dc3::lp_token::LP_TOKEN",decimals:9,description:"",logo_url:"https://j5w37hib4ojxo6bymogsbg5r5qkkdhuvfprizrw4kxakm3jxz24q.arweave.net/T22_nQHjk3d4OGONIJux7BShnpUr4ozG3FXApm03zrk",name:"",symbol:""}},"0x6c545e78638c8c1db7a48b282bb8ca79da107993fcb185f75cedc1f5adb2f535":{vaults_id:"0x5732b81e659bd2db47a5b55755743dde15be99490a39717abc80d62ec812bcb6",clmm_pool:"0x6c545e78638c8c1db7a48b282bb8ca79da107993fcb185f75cedc1f5adb2f535",lpToken:{coin_type:"0xb490d6fa9ead588a9d72da07a02914da42f6b5b1339b8118a90011a42b67a44f::lp_token::LP_TOKEN",decimals:9,logo_url:"https://tke7enjn3akurmshmxw2yr2yo4ru6joi6sxpnbsyk452k36vfdoa.arweave.net/monyNS3YFUiyR2XtrEdYdyNPJcj0rvaGWFc7pW_VKNw",description:"",name:"",symbol:""}},"0x871d8a227114f375170f149f7e9d45be822dd003eba225e83c05ac80828596bc":{vaults_id:"0xde97452e63505df696440f86f0b805263d8659b77b8c316739106009d514c270",clmm_pool:"0x871d8a227114f375170f149f7e9d45be822dd003eba225e83c05ac80828596bc",lpToken:{coin_type:"0x828b452d2aa239d48e4120c24f4a59f451b8cd8ac76706129f4ac3bd78ac8809::lp_token::LP_TOKEN",decimals:9,logo_url:"https://dzuxtnuvuq7xqcurpbk4udj74zm2h5c52ftpaxsmgvxdt3fxtgva.arweave.net/Hml5tpWkP3gKkXhVyg0_5lmj9F3RZvBeTDVuOey3mao",description:"",name:"",symbol:""}},"0xb8d7d9e66a60c239e7a60110efcf8de6c705580ed924d0dde141f4a0e2c90105":{vaults_id:"0x41a4ab1e82f90f5965bbcd828b8ffa13bab7560bd2e352ab067e343db552f527",clmm_pool:"0xb8d7d9e66a60c239e7a60110efcf8de6c705580ed924d0dde141f4a0e2c90105",lpToken:{name:"SUI-USDC Haedal Vault LP Token",symbol:"SUI-USDC Vault LPT",decimals:6,logo_url:"https://node1.irys.xyz/TZD49BnoQJTbSIsGi_qfnzfN0MuCE17hYMeOWaMqpEs",project_url:"",coin_type:"0x2f46a040b9bc3a584a3be4d7bfbb02a5fb479da17a04c6d2860ed61d95e97f3f::lpcoin::LPCOIN",description:""}},"0xe01243f37f712ef87e556afb9b1d03d0fae13f96d324ec912daffc339dfdcbd2":{vaults_id:"0xed754b6a3a6c7549c3d734cb7b464bccf9c805814b9e47b0cb99f43b4efcb4a6",clmm_pool:"0xe01243f37f712ef87e556afb9b1d03d0fae13f96d324ec912daffc339dfdcbd2",lpToken:{name:"DEEP-SUI Haedal Vault LP Token",symbol:"DEEP-SUI Vault LPT",decimals:9,logo_url:"https://node1.irys.xyz/NVpcEHcDm71AOiNdu5BjfZ5RoXwROnKMUE3PEwDOKM4",project_url:"",coin_type:"0xd418945e16ef3db737df093d0827f5ce387b36f089523e13c16e50dec6bd2524::lpcoin::LPCOIN",description:""}},"0x72f5c6eef73d77de271886219a2543e7c29a33de19a6c69c5cf1899f729c3f17":{vaults_id:"0x12ac7deea4b92b3e2c16687e2d2695fa8c045ec0a52844db7b2fc3876c9552aa",clmm_pool:"0x72f5c6eef73d77de271886219a2543e7c29a33de19a6c69c5cf1899f729c3f17",lpToken:{name:"WAL-haSUI Haedal Vault LP Token",symbol:"WAL-haSUI Vault LPT",decimals:9,logo_url:"https://node1.irys.xyz/byrMmE8Xu83i73BKML8yQGXq9H6a-mA6pDFnIQlu_84",project_url:"",coin_type:"0x5c79c0ab2c45682aba43b1acbe5c478d947f7c8397d47447906d6cc127e180fb::lpcoin::LPCOIN",description:""}},"0xaa020ad81e1621d98d4fb82c4acb80dc064722f24ef828ab633bef50fc28268b":{vaults_id:"0x99db9a7d3320d31fe6e4dc4122b948162010e331c41dc279636ca75567b93497",clmm_pool:"0xaa020ad81e1621d98d4fb82c4acb80dc064722f24ef828ab633bef50fc28268b",lpToken:{name:"haSUI-USDC Haedal Vault LP Token",symbol:"haSUI-USDC Vault LPT",decimals:6,logo_url:"https://node1.irys.xyz/uPsVdR-uVDtGW-FMwvSm4PV123RnHBzAYb2S9nO923E",project_url:"",coin_type:"0x0484a9162669957e1c1883fc2da59e3cce9afdc1eec3c72c983898dbc9e92b91::lpcoin::LPCOIN",description:""}},"0x9e59de50d9e5979fc03ac5bcacdb581c823dbd27d63a036131e17b391f2fac88":{vaults_id:"0xedfb22d1bbe5045fd1888bb8bc1c4bc1823ab24d40f5a4bea9f6eb9758a4b820",clmm_pool:"0x9e59de50d9e5979fc03ac5bcacdb581c823dbd27d63a036131e17b391f2fac88",lpToken:{name:"ETH-USDC Haedal Vault LP Token",symbol:"ETH-USDC Vault LPT",decimals:6,logo_url:"https://node1.irys.xyz/AsgmYwj4r2jNmfjHBktWEPJP1pLaamS-SMICcmFZQIc",project_url:"",coin_type:"0x8275bc774497b319db110bb97a4812a19859ab6f19dc1574746097f06103c0f9::lpcoin::LPCOIN",description:""}},"0x2e041f3fd93646dcc877f783c1f2b7fa62d30271bdef1f21ef002cebf857bded":{vaults_id:"0xbbd2d4850e4f238d39c3aa24957d2dfbb5787fa43d6c7de306bf15abe27f29f2",clmm_pool:"0x2e041f3fd93646dcc877f783c1f2b7fa62d30271bdef1f21ef002cebf857bded",lpToken:{name:"CETUS-SUI Haedal Vault LP Token",symbol:"CETUS-SUI Vault LPT",decimals:9,logo_url:"https://node1.irys.xyz/wDk5NmfNJXk2yT_ocfN3UuYtAltpTjGGr-MQzPNl9E0",project_url:"",coin_type:"0x242ddc526b9cb75513bee2fc629e01d5b7dc6da4c02d39cdab0160794635334f::lpcoin::LPCOIN",description:""}},"0x2fc6ee9183d0f1ca0d2dded02c416be6f4671bb82db55c26ce12b536812a4b8e":{vaults_id:"0xbd6252e0d56ae5eaabf055fd6c518ee5f66c1114287ca957cc698a17c3d25b16",clmm_pool:"0x2fc6ee9183d0f1ca0d2dded02c416be6f4671bb82db55c26ce12b536812a4b8e",lpToken:{name:"LBTC-SUI Haedal Vault LP Token",symbol:"LBTC-SUI Vault LPT",decimals:9,logo_url:"https://node1.irys.xyz/-CIyJycPqRHU1xnI0eJLtccVFr3PJDX_Ahz7Mlh8Pvo",project_url:"",coin_type:"0xb2d502d4ef89395934de020b195ded323bfa86d7f40b65ed5b15d6b66c722a3d::lpcoin::LPCOIN",description:""}},"0xea648440bd640d3530e8a5f02c0b56da82c2efe851156c39974b901bbb0eeab1":{vaults_id:"0x5525f5a70fffd93f616c39b59f3abdd2054fc2d19f09c8a4d94950d611a43b74",clmm_pool:"0xea648440bd640d3530e8a5f02c0b56da82c2efe851156c39974b901bbb0eeab1",lpToken:{name:"WAL-haSUI Haedal Vault LP Token",symbol:"WAL-haSUI Vault LPT",decimals:9,logo_url:"https://node1.irys.xyz/byrMmE8Xu83i73BKML8yQGXq9H6a-mA6pDFnIQlu_84",project_url:"",coin_type:"0x5c79c0ab2c45682aba43b1acbe5c478d947f7c8397d47447906d6cc127e180fb::lpcoin::LPCOIN",description:""}}};function Re(){return{wrapVaultsPoolData:(e,t,r=!1)=>{var V,B,R,F;const{category:g,hard_cap_usd:f,tvl:v}=e;console.log("ðŸš€ðŸš€ðŸš€ ~ useWrapVaultsPoolData.ts:8 ~ wrapVaultsPoolData ~ vaultsPool:",e);const{displayTokenA:j,displayTokenB:h,feeDisplay:s,isReverse:y,tokenA:a,tokenB:d}=r?e:t,b=N(e.tvl||0),o=N(g=="cetus"?e.apr*100:e.apy*100,"%"),p=N(e.lst_apy*100,"%"),L=N(e.apr*100,"%"),P=N(v,"$"),A=re(f,2),m=e.category=="cetus"?G(e==null?void 0:e.apy).add(G(e.lst_apy)).mul(100).toString():G(e.apy).mul(100).toString(),S=N(m,"%"),n=[k(j==null?void 0:j.coin_type,!1),k(h==null?void 0:h.coin_type,!1)],l=((V=t==null?void 0:t.farmsRewarderList)==null?void 0:V.map(D=>k(D==null?void 0:D.coinType,!1)))||[],u=((B=t==null?void 0:t.miningRewardList)==null?void 0:B.map(D=>k(D==null?void 0:D.coinType,!1)))||[],_=Array.from(new Set([...n,...l,...u])),x=G(f).gt(0)?N(G(v).div(f).mul(100).toString(),""):0,c=N(x||0,"%"),T=r?e.clmmPoolAddress:t.poolAddress,O=e.category=="cetus"?(F=(R=Y[T])==null?void 0:R.lpToken)==null?void 0:F.coin_type:e.lp_type||e.lpTokenType,w=e==null?void 0:e.hard_cap_usd;return{tokenA:a,tokenB:d,displayTokenA:j,displayTokenB:h,feeDisplay:s,vaultsTvl:r?"--":v,tvlDisplay:r?"--":b,vaultsTvlDisplay:r?"--":P,vaultsApyDisplay:r?"--":o,vaultsAprDisplay:r?"--":L,vaultsLstApyDisplay:r?"--":p,vaultsTotalApy:r?"--":m,vaultsTotalApyDisplay:r?"--":S,vaultsRewards:r?e.vaultsRewards:_,category:g,depositRatio:x,depositRatioDisplay:c,vaultId:r?e.vaultId:e.id,clmmPoolAddress:T,hardCapUsdDisplay:A,lpTokenType:O,hardCapUSD:w,isReverse:y}}}}function ze(){const{fetchByApi:i}=_e(),{wrapVaultsPoolData:e}=Re(),{getFavoritePoolList:t}=De(),{vaultsList:r,setVaultList:g,setVaultTotalTvlDisplay:f,setVaultListObj:v}=Z(),j=async()=>{try{const s=await i(Pe,"GET");if(s.list){const y=s.list.map(d=>d.clmm_pool),a=await t({is_vaults:!1,display_all_pools:!1,has_mining:!0,has_farming:!0,no_incentives:!0,order_by:"-vol",limit:100,offset:0,pools:y});if(a!=null&&a.list){const d=Object.fromEntries(a==null?void 0:a.list.map(o=>[o.poolAddress,o])),b=s.list.map(o=>e(o,d[o.clmm_pool]));return g(b),v(b.reduce((o,p)=>(o[p.vaultId]=p,o),{})),f(re(s==null?void 0:s.total_tvl,2)),b}}}catch(s){return console.log("ðŸš€ðŸš€ðŸš€ ~ getVaultPoolList ~ error:",s),console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultPoolList.ts:48 ~ getVaultPoolList ~ vaultsList:",r),h()}},h=async()=>{const y=(await fetch(`/data/vault-pools.json?timestamp=${new Date().getTime()}`).then(a=>a.json())).map(a=>e(a,{},!0));return console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultPoolList.ts:57 ~ poolList ~ poolList:",y),g(y),v(y.reduce((a,d)=>(a[d.vaultId]=d,a),{})),f("--"),y};return{getVaultPoolList:j}}const Ue=M(i=>({vaultsPoolObj:{},setVaultsPoolObj:e=>i(t=>({vaultsPoolObj:{...t.vaultsPoolObj,...e}}))}));function Ke(){const{volatileVaultsSdk:i}=Q();oe("clmm");const e=oe("vaults"),{setLstVaultContractInfoObj:t,setHaedalVaultContractInfoObj:r,setVaultClmmPoolContractInfoObj:g}=Ge(),{setVaultsPoolObj:f}=Ue(),v=async s=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsContract.ts:19 ~ getVaultsContractInfo ~ getVaultsContractInfo:");const y=[],a=[],d=[];s.forEach(m=>{m.category=="cetus"?y.push(m.vaultId):a.push(m.vaultId),d.push(m.clmmPoolAddress)});const{data:b}=await e.Vaults.getVaultList(),o=b.reduce((m,S)=>(m[S.id]=S,m),{});t(o);const{data:p}=await i.Vaults.getPoolList(),L=p.reduce((m,S)=>(m[S.id]=S,m),{});r(L);const A=(await i.CetusClmmSDK.Pool.getAssignPools(d)).reduce((m,S)=>(m[S.id]=S,m),{});return g(A),j(s,A,o,L),{lstVaultContractInfoObj:o,haedalVaultContractInfoObj:L,allClmmPoolContractInfoObj:A}},j=(s,y,a,d)=>{for(let b=0;b<s.length;b++){const o=s[b],p=o.category=="cetus"?a[o.vaultId]:d[o.vaultId],L=y[o.clmmPoolAddress],P=h(o,L,p);f(P)}},h=(s,y,a)=>{const{tokenA:d,tokenB:b,category:o,isReverse:p,vaultId:L}=s,P=o=="haedal"?a.clmm_vault.wrapped_position.tick_lower_index:a.position.tick_lower_index,A=o=="haedal"?a.clmm_vault.wrapped_position.tick_upper_index:a.position.tick_upper_index,m=H.tickIndexToPrice(P,d.decimals,b.decimals).toString(),S=H.tickIndexToPrice(A,d.decimals,b.decimals).toString(),n=o=="haedal"?a.clmm_vault.wrapped_position.liquidity:a.position.liquidity,l=I(1).div(I(S)).toString(),u=I(1).div(I(m)).toString(),_=new le(y.current_sqrt_price),x=H.sqrtPriceX64ToPrice(_,d.decimals,b.decimals).toString(),c=I(1).div(I(x)).toString(),T=H.tickIndexToSqrtPriceX64(P),O=H.tickIndexToSqrtPriceX64(A),w=Ve.getCoinAmountFromLiquidity(new le(n),_,T,O,!1),V=q(w.coin_amount_a.toString(),d.decimals).toString(),B=q(w.coin_amount_b.toString(),b.decimals).toString(),R=p?B:V,F=p?V:B,{percentA:D,percentB:$}=Oe(V,B,x,!1),pe=p?$:D,be=p?D:$,fe=N(I(a.protocol_fee_rate).div(1e4).mul(100).toString(),"%"),ee=k(d.coin_type,!1),te=k(b.coin_type,!1),ye=p?te:ee,me=p?ee:te;let W,E,ae,X,se;o=="haedal"&&(W=a==null?void 0:a.quote_type,E=k(W,!1)==k(d.coin_type,!1)?d:b,ae=I(a==null?void 0:a.hard_cap).div(10**(E==null?void 0:E.decimals)).toString(),X=W==d.coin_type?b:d,se=X.coin_type);const Te=o=="cetus"?a==null?void 0:a.total_supply:a==null?void 0:a.lp_token_treasury;return{[L]:{minPrice:p?l:m,minPriceResever:p?m:l,maxPrice:p?u:S,maxPriceResever:p?S:u,liquidity:n,displayAmountA:R,displayAmountB:F,displayPercentA:pe,displayPercentB:be,currentPrice:p?c:x,currentPriceReverse:p?x:c,disPlayProtocolFeeRate:fe,displayCoinTypeA:ye,displayCoinTypeB:me,hardCap:ae,quoteCoinType:W,quoteCoin:E,baseCoin:X,baseCoinType:se,totalSupply:Te}}};return{getVaultsContractInfo:v,getVaultPool:j,wrapVaultPoolContractInfo:h}}function Ye(){const{lpTokenInfoObj:i}=Z(),{volatileVaultsSdk:e}=Q(),{currentAccount:t}=xe(),{setVaultsPositionObj:r}=ue();Ce();const g=U.useRef(t==null?void 0:t.address);U.useEffect(()=>{g.current=t==null?void 0:t.address},[t==null?void 0:t.address]);const f=async(s,y,a,d)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsPosition.ts:27 ~ getVaultsPosition ~ list:",s);for(let b=0;b<s.length;b++){const o=s[b],p=o.category=="cetus"?y[o.vaultId]:a[o.vaultId],L=d[o.clmmPoolAddress];v(o,L,p)}},v=async(s,y,a,d=t==null?void 0:t.address,b)=>{try{const{category:o}=s;let p;const L=await e.FullClient.getBalance({owner:d,coinType:s.lpTokenType});console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsPosition.ts:45 ~ getVaultPosition ~ balance:",L),o=="cetus"?p=ke.buildVaultBalance(d,a,L,y):p=Le(d,L.totalBalance,a,y),console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsPosition.ts:45 ~ getVaultPosition ~ positionInfo:",p);const P=j({...p,ownerAddress:g.current==d?d:void 0},s,a,b);return console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsPosition.ts:42 ~ getVaultPosition ~ result:",P),r(P),P}catch(o){console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsPosition.ts:59 ~ getVaultPosition ~ error:",o)}},j=(s,y,a,d=i)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsPosition.ts:74 ~ wrapVaultPosition ~ tokenInfoObj:",d);const b=d[y.lpTokenType],{amount_a:o,amount_b:p,ownerAddress:L}=s,{isReverse:P,tokenA:A,tokenB:m,category:S}=y,n=q(o,A.decimals).toString(),l=q(p,m.decimals).toString(),u=s.clmm_pool_id,_=s.liquidity,x=s.vault_id,c=ne(s.coin_type_a).full_address,T=ne(s.coin_type_b).full_address,O=h(b,s.lp_token_balance),w=S=="cetus"?G(O.balance).div(a.total_supply).mul(100).toString():G(O.balance).div(a.lp_token_treasury).mul(100).toString(),V=`${Se(w,2,6)}%`,B=P?m:A,R=P?A:m;return{[x]:{...O,amountA:n,amountB:l,displayAmountA:P?l:n,displayAmountB:P?n:l,coinTypeA:c,coinTypeB:T,displayCoinTypeA:P?T:c,displayCoinTypeB:P?c:T,liquidity:_,clmmPool:u,vaultId:x,shartOfPoolDisplay:V,tokenA:A,tokenB:m,displayTokenA:B,displayTokenB:R,ownerAddress:L}}},h=(s,y)=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useGetVaultsPosition.ts:99 ~ getVaultBalance ~ tokenInfo:",s);const a=q(y,s.decimals).toString();return{balance:y,balanceFormat:a,balanceDisplay:he(a,void 0,!1,ve.ROUND_DOWN).toString()}};return{getVaultPosition:v,getVaultsPosition:f}}function Qe(){const{fetchTokenPrices:i}=je(),{setVaultListLoading:e,setVaultsTokenList:t,lpTokenInfoObj:r,setLpTokenInfoObj:g,vaultsList:f}=Z(),{getVaultPoolList:v}=ze(),{fetchTokenInfo:j,getTokenListInfo:h}=Be(),{vaultsPositionObj:s}=ue(),[y,a]=U.useState([]),{getPythLastPrice:d}=Ie(),b=(n,l=f,u=!1)=>{console.log("ðŸš€ ~ filterVaultList ~ originList:",l);const{currentTab:_,isYourHoldings:x,selectCoinList:c,sortOptions:T}=n;let O=[],w=[];(c==null?void 0:c.length)>0?w=A(l,c):w=l,_==="all"?O=w:O=w.filter(B=>B.category==_);let V;return x?V=o(T,m(O)):V=o(T,O),u||a(V),V},o=(n,l)=>{console.log("ðŸš€ ~ sortVaultList ~ options:",n);const{sortRule:u,sortType:_}=n;return l==null?void 0:l.sort((c,T)=>_==="apr"?u==="desc"?T.vaultsTotalApy-c.vaultsTotalApy:c.vaultsTotalApy-T.vaultsTotalApy:u==="desc"?T.vaultsTvl-c.vaultsTvl:c.vaultsTvl-T.vaultsTvl)},p=async(n,l=!0)=>{console.log("ðŸš€ ~ fetchVaultList ~ fetchVaultList:",n),l&&e(!0);const u=await v();console.log("ðŸš€ðŸš€ðŸš€ ~ useVaultList.ts:59 ~ fetchVaultList ~ list:",u),L(u),P(u);const _=b(n,JSON.parse(JSON.stringify(u)));e(!1),a(_)},L=async n=>{if(!n||n.length===0)return;const l=[],u=[];for(let c=0;c<n.length;c++)l.includes(n[c].displayTokenA.coin_type)||l.push(n[c].displayTokenA.coin_type),l.includes(n[c].displayTokenB.coin_type)||l.push(n[c].displayTokenB.coin_type),n[c].category=="haedal"&&!u.includes(k(n[c].displayTokenA.coin_type))&&u.push(k(n[c].displayTokenA.coin_type,!1)),n[c].category=="haedal"&&!u.includes(k(n[c].displayTokenB.coin_type))&&u.push(k(n[c].displayTokenB.coin_type,!1)),console.log("ðŸš€ðŸš€ðŸš€ ~ useVaultList.ts:96 ~ getVaultsTokenList ~ haedalTokenList:",u);d(u),l.length>0&&i(l);const _=await h(l),x=Array.from(_.values());t(x)},P=async n=>{var u,_;const l={};for(let x=0;x<n.length;x++){const c=n[x];console.log("ðŸš€ðŸš€ðŸš€ ~ useVaultList.ts:118 ~ getVaultsLpTokenList ~ vault:",c);const T=c==null?void 0:c.lpTokenType;(u=Y[c.clmmPoolAddress])!=null&&u.lpToken?l[T]=(_=Y[c.clmmPoolAddress])==null?void 0:_.lpToken:r[T]?l[T]=r[T]:l[T]=await j(T)}return console.log("ðŸš€ðŸš€ðŸš€ ~ useVaultList.ts:122 ~ getVaultsLpTokenList ~ lpTokenInfoObj:",JSON.stringify(r)),g(l),l},A=(n,l)=>{var c,T,O,w;const u=(c=l[0])!=null&&c.coin_type?k((T=l[0])==null?void 0:T.coin_type):void 0,_=(O=l[1])!=null&&O.coin_type?k((w=l[1])==null?void 0:w.coin_type):void 0;return n==null?void 0:n.filter(V=>u&&_?k(V.displayTokenA.coin_type)==u&&k(V.displayTokenB.coin_type)==_||k(V.displayTokenA.coin_type)==_&&k(V.displayTokenB.coin_type)==u:u?k(V.displayTokenA.coin_type)==u||k(V.displayTokenB.coin_type)==u:V)},m=n=>n.filter(l=>{const u=s[l.vaultId];return!!(u&&I(u.balance).gt(0))});return{filterVaultList:b,sortVaultList:o,fetchVaultList:p,vaultPageList:y,getCurrentTabNum:n=>{let l=b(n,f,!0);return String(l&&l.length||"")},getVaultsLpTokenList:P}}function Ze(){const{pythPriceMap:i}=de(),e=U.useMemo(()=>i,[i]),t=U.useCallback((g,f,v)=>{var h;const j=Number(f)==0?"0":v;if(f&&g&&+f&&ce(e)){const s=(h=e[K(g)])==null?void 0:h.price;if(s)return I(f).mul(s).toString()}return j},[e]),r=U.useCallback(g=>{var f;return g&&ce(e)?(f=e[K(g)])==null?void 0:f.price:0},[e]);return{getTokenAmountValueByPyth:t,getTokenPriceByPyth:r}}function $e({vaultsLstApyDisplay:i,vaultsApyDisplay:e,vaultsTotalApyDisplay:t,category:r,vaultsAprDisplay:g}){return C.jsx(Ae,{tooltip:C.jsx(Ee,{vaultsApyDisplay:e,vaultsLstApyDisplay:i,vaultsTotalApyDisplay:t,vaultsAprDisplay:g,category:r}),children:C.jsx(we,{textColor:"text_caption",textAlign:"right",fontWeight:"500",textDecoration:"underline dotted",color:"primary",children:r=="cetus"?t:e})})}const Ee=({vaultsLstApyDisplay:i,vaultsApyDisplay:e,vaultsTotalApyDisplay:t,category:r,vaultsAprDisplay:g})=>C.jsx(J,{gap:"12px",w:"100%",pt:"8px",pb:"8px",children:r=="cetus"?C.jsxs(J,{children:[C.jsx(z,{label:"Total APY",labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},wrapStyle:{gap:"16px"},value:t}),C.jsx(ie,{h:"1px",w:"100%",backgroundColor:"border"}),C.jsx(z,{label:"Fees and Rewards",labelStyle:{fontSize:"12px"},valueStyle:{fontSize:"12px"},wrapStyle:{gap:"16px"},value:e}),C.jsx(z,{label:"LST",labelStyle:{fontSize:"12px"},wrapStyle:{gap:"16px"},value:i,valueStyle:{fontSize:"12px"}})]}):C.jsxs(J,{children:[C.jsx(z,{label:"Cetus LP APR",labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},wrapStyle:{gap:"16px"},value:g}),C.jsx(ie,{h:"1px",w:"100%",backgroundColor:"border"}),C.jsx(z,{label:"Vault APY",labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},wrapStyle:{gap:"16px"},value:e}),C.jsx(z,{label:"(Compounding Cetus LP APR Multiple Times a Day)",labelStyle:{fontSize:"12px",lineHeight:"16px",maxW:"200px"},wrapStyle:{gap:"16px"},value:"",valueStyle:{fontSize:"12px"}})]})});export{Ee as V,Ue as a,Ie as b,ue as c,$e as d,Ye as e,Ge as f,Qe as g,Ke as h,ze as i,Ze as j,de as k,Z as u};
//# sourceMappingURL=VaultsAprBlock-ChO6zwey.js.map
