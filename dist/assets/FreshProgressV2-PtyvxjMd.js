import{j as e,P as f,L as S,dt as w,r as g,ao as N,ap as R,aq as z,C as F,at as I,au as T}from"./index-D49RffYW.js";import{r as $,g as D,a as L}from"./progress.utils-4THQPte7.js";const m=r=>e.jsx(f.circle,{cx:50,cy:50,r:42,fill:"transparent",...r});m.displayName="Circle";const v=r=>{const{size:s,isIndeterminate:t,...o}=r;return e.jsx(f.svg,{viewBox:"0 0 100 100",__css:{width:s,height:s,animation:t?`${$} 2s linear infinite`:void 0},...o})};v.displayName="Shape";const k=S((r,s)=>{const{size:t="48px",max:o=100,min:c=0,valueText:l,getValueText:d,value:p,capIsRound:a,children:u,thickness:i="10px",color:y="#0078d4",trackColor:j="#edebe9",isIndeterminate:n,...C}=r,h=D({min:c,max:o,value:p,valueText:l,getValueText:d,isIndeterminate:n}),x=n?void 0:(h.percent??0)*2.64,_=x==null?void 0:`${x} ${264-x}`,P=n?{css:{animation:`${L} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:_,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},b=w({display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:t});return e.jsxs(f.div,{ref:s,className:"chakra-progress",...h.bind,...C,__css:b,children:[e.jsxs(v,{size:t,isIndeterminate:n,children:[e.jsx(m,{stroke:j,strokeWidth:i,className:"chakra-progress__track"}),e.jsx(m,{stroke:y,strokeWidth:i,className:"chakra-progress__indicator",strokeLinecap:a?"round":void 0,opacity:h.value===0&&!n?0:void 0,...P})]}),u]})});k.displayName="CircularProgress";const E=g.forwardRef(({callbackInterval:r=20,min:s,max:t,onClick:o,size:c="18px",...l},d)=>{const[p,a]=g.useState(0);return g.useImperativeHandle(d,()=>({reset:()=>a(0)})),N({interval:1e3,callback:()=>{a(u=>{const i=u+1;return i>=r?(o(),0):i})}}),e.jsxs(R,{isLazy:!0,trigger:"hover",autoFocus:!1,returnFocusOnClose:!1,gutter:4,children:[e.jsx(z,{children:e.jsx(F,{w:"28px",h:"28px",border:"1px solid",borderColor:"border",borderRadius:"8px",bg:"bg_secondary",cursor:"pointer",...l,onClick:()=>{a(0),o()},children:e.jsx(k,{min:s,max:t,value:p,size:c,color:"text_highlight",trackColor:"circle_progress_track_color"})})}),e.jsx(I,{children:e.jsxs(T,{p:"12px",lineHeight:"20px",fontSize:"12px",children:["Auto refresh in ",r," seconds, you can click to update manually."]})})]})});export{E as default};
