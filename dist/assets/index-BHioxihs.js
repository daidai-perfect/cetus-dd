const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CollectListBox-BJvbcbpQ.js","assets/SingleTokenInfo-D28cfzld.js","assets/AddressCopyLink-V33ze5Xu.js","assets/AddressUnderline-DQBj8kxU.js","assets/CetusTooltip-D74XO5fb.js","assets/useToken-DZK_dzU3.js","assets/TokenList-DX1pi79H.js","assets/Loading-CfSmXNdE.js","assets/NoData-CGTwny5r.js","assets/useTokenBalance-BLs9nTNB.js","assets/useAccountBalance-BkCOmdNG.js","assets/TokenGoplusCard-C-SLc0-d.js","assets/HTextLabelBox-Bsxm1-Y-.js","assets/index-DHvCXxev.js","assets/ConnectButton-8UDLcKFv.js","assets/CetusLayout-DBa0JFd9.js","assets/useDocumentSize-BYcypMB8.js","assets/debounce-Y-z0BKQj.js","assets/index-BUbOgaOa.js","assets/swapWidget-BIV7naOA.js","assets/index-BAk4C4IG.js","assets/useSwapHelper-B60Pi301.js","assets/global-DSBKxi_f.js","assets/useGetPoolList-g-UFM5lp.js","assets/api-data-utils-BCUKKSI0.js","assets/SwapConfirmBlock-BCAzZ0Tc.js","assets/aggregator-9CNLNseD.js","assets/useTransaction-B_4Jg7f2.js","assets/useFindBestRouting-B6UyUTu_.js","assets/index-XbiT-K8U.js","assets/usePriceImpact-DDSffb27.js","assets/CurrentPrice-DrDGi8VN.js","assets/HighlightText-DGbw96w7.js","assets/TradeConfirmAmountInfo-BvV6xzPt.js","assets/TradeInputGroup-DHW51PUD.js","assets/_getAllKeysIn-Be6LJ_gF.js","assets/RefreshButton-CiZJCLSA.js","assets/Slippage-CSOPwUTp.js","assets/TooltipIcon-B9nqzUAW.js","assets/switch-CTPaY6an.js","assets/Stats-BLvBFUWp.js","assets/useStatistics-VydaPtyU.js","assets/index-ef6kLmcE.js","assets/VolumeChart-B8bKjTG2.js","assets/Pagination-BUK82tyz.js","assets/tr-CgVG6u5U.js","assets/YAxis-B1p3Lqxl.js","assets/throttle-Bv3l8_Th.js","assets/generateCategoricalChart-C3Lrqi61.js","assets/linear-Cl5vGKe1.js","assets/SortDropBlock-OZCC7nRw.js","assets/TableSortTh-BcmAprhL.js","assets/index-C8I2j922.js","assets/CoinPairInfo-BKqrb6GE.js","assets/TvlChart-DnSfUkgP.js","assets/Swap-B5O9K2QT.js","assets/LimitPriceChart-Ds5fE0O7.js","assets/swap-UiyfIXwY.js","assets/Dca-DlE-cCZg.js","assets/MenuDropBlock-4MrT_e3b.js","assets/IconBg-FZ4dAJUP.js","assets/RangeValue-VrD61sZb.js","assets/progress-PtX1TNGv.js","assets/progress.utils-BgTJxH-s.js","assets/useInsufficientBalanceToast-9c6kR8yD.js","assets/icon_currentprice@2x-DeObnx8l.js","assets/WarningTokenTipModal-0WqsQevr.js","assets/InputBox-Cm2u5Ykw.js","assets/useRpcListener-6V6cT5db.js","assets/usePreviousValue-qnWj3KZg.js","assets/Pools-BxYBU8jC.js","assets/usePositionList-BoU0l88X.js","assets/index-CbaF6qCz.js","assets/PositionListLoading-B2KtPOhM.js","assets/useCurrentPos-rccnNGjZ.js","assets/PriceRange-BMz9svBY.js","assets/PositionStatus-CHJ1G87m.js","assets/VTextLabelBox-BiDTLKh0.js","assets/useBurn-CemaT5By.js","assets/useNotifiSubscription-BJ-D_Wkl.js","assets/useXCetusHelper-Dkq4MOOs.js","assets/PositionCurrentPrice-l2Biih-y.js","assets/msafe-oYBkW7LJ.js","assets/Liquidity-DopwXdl_.js","assets/useGetContractPoolInfo-BjXBYB2R.js","assets/liquidity-C_6QK2Qc.js","assets/ActionButton-CnqRq_P_.js","assets/RangeAlerts-B_9VdYvj.js","assets/SelectTokenAndFeeConfirm-B_codzOX.js","assets/FeeTierSelect-BzlcFebH.js","assets/usePosAdd-qk1D_bvw.js","assets/LockInput-BB5BkeHo.js","assets/icon_lock@2x-OdzkPjmc.js","assets/common-_IjrV_V2.js","assets/PositionDetail-zGGp8lwF.js","assets/RemoveBlock-DYnG-YVE.js","assets/ExpendItem-B1TjnID1.js","assets/Farms-B1_f7Ec0.js","assets/VaultsAndFarmsTabFilter-C1WgHL_P.js","assets/FarmsTable-f2hd4c3K.js","assets/CreatePool-2Q8hj4z4.js","assets/useCreatePoolHelper-C6hheTtt.js","assets/Limit-BP7_w3xs.js","assets/Swap-CzR5UGdq.js","assets/SelectForLiquidity-BEvW2mc6.js","assets/Vaults-CcoEisD2.js","assets/useGetVaultList-DHQrNF4R.js","assets/XCetus-Dvp1NX4z.js","assets/VaultsDetailPage-BRtWQ0Zw.js","assets/TestNotifi-Cv8L6z7a.js"])))=>i.map(i=>d[i]);
var F0=Object.defineProperty;var Zu=nt=>{throw TypeError(nt)};var N0=(nt,et,at)=>et in nt?F0(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at;var xa=(nt,et,at)=>N0(nt,typeof et!="symbol"?et+"":et,at),Ru=(nt,et,at)=>et.has(nt)||Zu("Cannot "+at);var Kr=(nt,et,at)=>(Ru(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),No=(nt,et,at)=>et.has(nt)?Zu("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),bo=(nt,et,at,mt)=>(Ru(nt,et,"write to private field"),mt?mt.call(nt,at):et.set(nt,at),at),To=(nt,et,at)=>(Ru(nt,et,"access private method"),at);var Dl=(nt,et,at,mt)=>({set _($t){bo(nt,et,$t,at)},get _(){return Kr(nt,et,mt)}});function _mergeNamespaces(nt,et){for(var at=0;at<et.length;at++){const mt=et[at];if(typeof mt!="string"&&!Array.isArray(mt)){for(const $t in mt)if($t!=="default"&&!($t in nt)){const Ct=Object.getOwnPropertyDescriptor(mt,$t);Ct&&Object.defineProperty(nt,$t,Ct.get?Ct:{enumerable:!0,get:()=>mt[$t]})}}}return Object.freeze(Object.defineProperty(nt,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const $t of document.querySelectorAll('link[rel="modulepreload"]'))mt($t);new MutationObserver($t=>{for(const Ct of $t)if(Ct.type==="childList")for(const Dt of Ct.addedNodes)Dt.tagName==="LINK"&&Dt.rel==="modulepreload"&&mt(Dt)}).observe(document,{childList:!0,subtree:!0});function at($t){const Ct={};return $t.integrity&&(Ct.integrity=$t.integrity),$t.referrerPolicy&&(Ct.referrerPolicy=$t.referrerPolicy),$t.crossOrigin==="use-credentials"?Ct.credentials="include":$t.crossOrigin==="anonymous"?Ct.credentials="omit":Ct.credentials="same-origin",Ct}function mt($t){if($t.ep)return;$t.ep=!0;const Ct=at($t);fetch($t.href,Ct)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(nt){return nt&&nt.__esModule&&Object.prototype.hasOwnProperty.call(nt,"default")?nt.default:nt}function getAugmentedNamespace(nt){if(nt.__esModule)return nt;var et=nt.default;if(typeof et=="function"){var at=function mt(){return this instanceof mt?Reflect.construct(et,arguments,this.constructor):et.apply(this,arguments)};at.prototype=et.prototype}else at={};return Object.defineProperty(at,"__esModule",{value:!0}),Object.keys(nt).forEach(function(mt){var $t=Object.getOwnPropertyDescriptor(nt,mt);Object.defineProperty(at,mt,$t.get?$t:{enumerable:!0,get:function(){return nt[mt]}})}),at}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$5=Symbol.for("react.context"),v$8=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(nt){return nt===null||typeof nt!="object"?null:(nt=z$4&&nt[z$4]||nt["@@iterator"],typeof nt=="function"?nt:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$3={};function E$1(nt,et,at){this.props=nt,this.context=et,this.refs=D$3,this.updater=at||B$2}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(nt,et){if(typeof nt!="object"&&typeof nt!="function"&&nt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,nt,et,"setState")};E$1.prototype.forceUpdate=function(nt){this.updater.enqueueForceUpdate(this,nt,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(nt,et,at){this.props=nt,this.context=et,this.refs=D$3,this.updater=at||B$2}var H$3=G$2.prototype=new F$1;H$3.constructor=G$2;C$1(H$3,E$1.prototype);H$3.isPureReactComponent=!0;var I$4=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$3(nt,et,at){var mt,$t={},Ct=null,Dt=null;if(et!=null)for(mt in et.ref!==void 0&&(Dt=et.ref),et.key!==void 0&&(Ct=""+et.key),et)J$1.call(et,mt)&&!L$2.hasOwnProperty(mt)&&($t[mt]=et[mt]);var Ft=arguments.length-2;if(Ft===1)$t.children=at;else if(1<Ft){for(var Nt=Array(Ft),jt=0;jt<Ft;jt++)Nt[jt]=arguments[jt+2];$t.children=Nt}if(nt&&nt.defaultProps)for(mt in Ft=nt.defaultProps,Ft)$t[mt]===void 0&&($t[mt]=Ft[mt]);return{$$typeof:l$4,type:nt,key:Ct,ref:Dt,props:$t,_owner:K$2.current}}function N$1(nt,et){return{$$typeof:l$4,type:nt.type,key:et,ref:nt.ref,props:nt.props,_owner:nt._owner}}function O$4(nt){return typeof nt=="object"&&nt!==null&&nt.$$typeof===l$4}function escape$4(nt){var et={"=":"=0",":":"=2"};return"$"+nt.replace(/[=:]/g,function(at){return et[at]})}var P$5=/\/+/g;function Q$1(nt,et){return typeof nt=="object"&&nt!==null&&nt.key!=null?escape$4(""+nt.key):et.toString(36)}function R$2(nt,et,at,mt,$t){var Ct=typeof nt;(Ct==="undefined"||Ct==="boolean")&&(nt=null);var Dt=!1;if(nt===null)Dt=!0;else switch(Ct){case"string":case"number":Dt=!0;break;case"object":switch(nt.$$typeof){case l$4:case n$5:Dt=!0}}if(Dt)return Dt=nt,$t=$t(Dt),nt=mt===""?"."+Q$1(Dt,0):mt,I$4($t)?(at="",nt!=null&&(at=nt.replace(P$5,"$&/")+"/"),R$2($t,et,at,"",function(jt){return jt})):$t!=null&&(O$4($t)&&($t=N$1($t,at+(!$t.key||Dt&&Dt.key===$t.key?"":(""+$t.key).replace(P$5,"$&/")+"/")+nt)),et.push($t)),1;if(Dt=0,mt=mt===""?".":mt+":",I$4(nt))for(var Ft=0;Ft<nt.length;Ft++){Ct=nt[Ft];var Nt=mt+Q$1(Ct,Ft);Dt+=R$2(Ct,et,at,Nt,$t)}else if(Nt=A$3(nt),typeof Nt=="function")for(nt=Nt.call(nt),Ft=0;!(Ct=nt.next()).done;)Ct=Ct.value,Nt=mt+Q$1(Ct,Ft++),Dt+=R$2(Ct,et,at,Nt,$t);else if(Ct==="object")throw et=String(nt),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(nt).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return Dt}function S$5(nt,et,at){if(nt==null)return nt;var mt=[],$t=0;return R$2(nt,mt,"","",function(Ct){return et.call(at,Ct,$t++)}),mt}function T$2(nt){if(nt._status===-1){var et=nt._result;et=et(),et.then(function(at){(nt._status===0||nt._status===-1)&&(nt._status=1,nt._result=at)},function(at){(nt._status===0||nt._status===-1)&&(nt._status=2,nt._result=at)}),nt._status===-1&&(nt._status=0,nt._result=et)}if(nt._status===1)return nt._result.default;throw nt._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(nt,et,at){S$5(nt,function(){et.apply(this,arguments)},at)},count:function(nt){var et=0;return S$5(nt,function(){et++}),et},toArray:function(nt){return S$5(nt,function(et){return et})||[]},only:function(nt){if(!O$4(nt))throw Error("React.Children.only expected to receive a single React element child.");return nt}};react_production_min.Component=E$1;react_production_min.Fragment=p$5;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$1;react_production_min.cloneElement=function(nt,et,at){if(nt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+nt+".");var mt=C$1({},nt.props),$t=nt.key,Ct=nt.ref,Dt=nt._owner;if(et!=null){if(et.ref!==void 0&&(Ct=et.ref,Dt=K$2.current),et.key!==void 0&&($t=""+et.key),nt.type&&nt.type.defaultProps)var Ft=nt.type.defaultProps;for(Nt in et)J$1.call(et,Nt)&&!L$2.hasOwnProperty(Nt)&&(mt[Nt]=et[Nt]===void 0&&Ft!==void 0?Ft[Nt]:et[Nt])}var Nt=arguments.length-2;if(Nt===1)mt.children=at;else if(1<Nt){Ft=Array(Nt);for(var jt=0;jt<Nt;jt++)Ft[jt]=arguments[jt+2];mt.children=Ft}return{$$typeof:l$4,type:nt.type,key:$t,ref:Ct,props:mt,_owner:Dt}};react_production_min.createContext=function(nt){return nt={$$typeof:u$5,_currentValue:nt,_currentValue2:nt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},nt.Provider={$$typeof:t$5,_context:nt},nt.Consumer=nt};react_production_min.createElement=M$3;react_production_min.createFactory=function(nt){var et=M$3.bind(null,nt);return et.type=nt,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(nt){return{$$typeof:v$8,render:nt}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(nt){return{$$typeof:y$2,_payload:{_status:-1,_result:nt},_init:T$2}};react_production_min.memo=function(nt,et){return{$$typeof:x$3,type:nt,compare:et===void 0?null:et}};react_production_min.startTransition=function(nt){var et=V$2.transition;V$2.transition={};try{nt()}finally{V$2.transition=et}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(nt,et){return U$2.current.useCallback(nt,et)};react_production_min.useContext=function(nt){return U$2.current.useContext(nt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(nt){return U$2.current.useDeferredValue(nt)};react_production_min.useEffect=function(nt,et){return U$2.current.useEffect(nt,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(nt,et,at){return U$2.current.useImperativeHandle(nt,et,at)};react_production_min.useInsertionEffect=function(nt,et){return U$2.current.useInsertionEffect(nt,et)};react_production_min.useLayoutEffect=function(nt,et){return U$2.current.useLayoutEffect(nt,et)};react_production_min.useMemo=function(nt,et){return U$2.current.useMemo(nt,et)};react_production_min.useReducer=function(nt,et,at){return U$2.current.useReducer(nt,et,at)};react_production_min.useRef=function(nt){return U$2.current.useRef(nt)};react_production_min.useState=function(nt){return U$2.current.useState(nt)};react_production_min.useSyncExternalStore=function(nt,et,at){return U$2.current.useSyncExternalStore(nt,et,at)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs$2(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$4=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$4=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$5(nt,et,at){var mt,$t={},Ct=null,Dt=null;at!==void 0&&(Ct=""+at),et.key!==void 0&&(Ct=""+et.key),et.ref!==void 0&&(Dt=et.ref);for(mt in et)m$6.call(et,mt)&&!p$4.hasOwnProperty(mt)&&($t[mt]=et[mt]);if(nt&&nt.defaultProps)for(mt in et=nt.defaultProps,et)$t[mt]===void 0&&($t[mt]=et[mt]);return{$$typeof:k$4,type:nt,key:Ct,ref:Dt,props:$t,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(nt){function et(fr,sr){var Yt=fr.length;fr.push(sr);e:for(;0<Yt;){var ur=Yt-1>>>1,_r=fr[ur];if(0<$t(_r,sr))fr[ur]=sr,fr[Yt]=_r,Yt=ur;else break e}}function at(fr){return fr.length===0?null:fr[0]}function mt(fr){if(fr.length===0)return null;var sr=fr[0],Yt=fr.pop();if(Yt!==sr){fr[0]=Yt;e:for(var ur=0,_r=fr.length,yr=_r>>>1;ur<yr;){var wr=2*(ur+1)-1,Ir=fr[wr],Or=wr+1,Ar=fr[Or];if(0>$t(Ir,Yt))Or<_r&&0>$t(Ar,Ir)?(fr[ur]=Ar,fr[Or]=Yt,ur=Or):(fr[ur]=Ir,fr[wr]=Yt,ur=wr);else if(Or<_r&&0>$t(Ar,Yt))fr[ur]=Ar,fr[Or]=Yt,ur=Or;else break e}}return sr}function $t(fr,sr){var Yt=fr.sortIndex-sr.sortIndex;return Yt!==0?Yt:fr.id-sr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Ct=performance;nt.unstable_now=function(){return Ct.now()}}else{var Dt=Date,Ft=Dt.now();nt.unstable_now=function(){return Dt.now()-Ft}}var Nt=[],jt=[],Lt=1,Vt=null,er=3,ir=!1,or=!1,lr=!1,dr=typeof setTimeout=="function"?setTimeout:null,pr=typeof clearTimeout=="function"?clearTimeout:null,hr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vr(fr){for(var sr=at(jt);sr!==null;){if(sr.callback===null)mt(jt);else if(sr.startTime<=fr)mt(jt),sr.sortIndex=sr.expirationTime,et(Nt,sr);else break;sr=at(jt)}}function br(fr){if(lr=!1,vr(fr),!or)if(at(Nt)!==null)or=!0,ar(xr);else{var sr=at(jt);sr!==null&&cr(br,sr.startTime-fr)}}function xr(fr,sr){or=!1,lr&&(lr=!1,pr($r),$r=-1),ir=!0;var Yt=er;try{for(vr(sr),Vt=at(Nt);Vt!==null&&(!(Vt.expirationTime>sr)||fr&&!gr());){var ur=Vt.callback;if(typeof ur=="function"){Vt.callback=null,er=Vt.priorityLevel;var _r=ur(Vt.expirationTime<=sr);sr=nt.unstable_now(),typeof _r=="function"?Vt.callback=_r:Vt===at(Nt)&&mt(Nt),vr(sr)}else mt(Nt);Vt=at(Nt)}if(Vt!==null)var yr=!0;else{var wr=at(jt);wr!==null&&cr(br,wr.startTime-sr),yr=!1}return yr}finally{Vt=null,er=Yt,ir=!1}}var Sr=!1,Er=null,$r=-1,Cr=5,kr=-1;function gr(){return!(nt.unstable_now()-kr<Cr)}function Ut(){if(Er!==null){var fr=nt.unstable_now();kr=fr;var sr=!0;try{sr=Er(!0,fr)}finally{sr?tr():(Sr=!1,Er=null)}}else Sr=!1}var tr;if(typeof hr=="function")tr=function(){hr(Ut)};else if(typeof MessageChannel<"u"){var nr=new MessageChannel,rr=nr.port2;nr.port1.onmessage=Ut,tr=function(){rr.postMessage(null)}}else tr=function(){dr(Ut,0)};function ar(fr){Er=fr,Sr||(Sr=!0,tr())}function cr(fr,sr){$r=dr(function(){fr(nt.unstable_now())},sr)}nt.unstable_IdlePriority=5,nt.unstable_ImmediatePriority=1,nt.unstable_LowPriority=4,nt.unstable_NormalPriority=3,nt.unstable_Profiling=null,nt.unstable_UserBlockingPriority=2,nt.unstable_cancelCallback=function(fr){fr.callback=null},nt.unstable_continueExecution=function(){or||ir||(or=!0,ar(xr))},nt.unstable_forceFrameRate=function(fr){0>fr||125<fr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Cr=0<fr?Math.floor(1e3/fr):5},nt.unstable_getCurrentPriorityLevel=function(){return er},nt.unstable_getFirstCallbackNode=function(){return at(Nt)},nt.unstable_next=function(fr){switch(er){case 1:case 2:case 3:var sr=3;break;default:sr=er}var Yt=er;er=sr;try{return fr()}finally{er=Yt}},nt.unstable_pauseExecution=function(){},nt.unstable_requestPaint=function(){},nt.unstable_runWithPriority=function(fr,sr){switch(fr){case 1:case 2:case 3:case 4:case 5:break;default:fr=3}var Yt=er;er=fr;try{return sr()}finally{er=Yt}},nt.unstable_scheduleCallback=function(fr,sr,Yt){var ur=nt.unstable_now();switch(typeof Yt=="object"&&Yt!==null?(Yt=Yt.delay,Yt=typeof Yt=="number"&&0<Yt?ur+Yt:ur):Yt=ur,fr){case 1:var _r=-1;break;case 2:_r=250;break;case 5:_r=1073741823;break;case 4:_r=1e4;break;default:_r=5e3}return _r=Yt+_r,fr={id:Lt++,callback:sr,priorityLevel:fr,startTime:Yt,expirationTime:_r,sortIndex:-1},Yt>ur?(fr.sortIndex=Yt,et(jt,fr),at(Nt)===null&&fr===at(jt)&&(lr?(pr($r),$r=-1):lr=!0,cr(br,Yt-ur))):(fr.sortIndex=_r,et(Nt,fr),or||ir||(or=!0,ar(xr))),fr},nt.unstable_shouldYield=gr,nt.unstable_wrapCallback=function(fr){var sr=er;return function(){var Yt=er;er=sr;try{return fr.apply(this,arguments)}finally{er=Yt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(nt){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+nt,at=1;at<arguments.length;at++)et+="&args[]="+encodeURIComponent(arguments[at]);return"Minified React error #"+nt+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(nt,et){ha(nt,et),ha(nt+"Capture",et)}function ha(nt,et){for(ea[nt]=et,nt=0;nt<et.length;nt++)da.add(et[nt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(nt){return ja.call(ma,nt)?!0:ja.call(la,nt)?!1:ka.test(nt)?ma[nt]=!0:(la[nt]=!0,!1)}function pa(nt,et,at,mt){if(at!==null&&at.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return mt?!1:at!==null?!at.acceptsBooleans:(nt=nt.toLowerCase().slice(0,5),nt!=="data-"&&nt!=="aria-");default:return!1}}function qa(nt,et,at,mt){if(et===null||typeof et>"u"||pa(nt,et,at,mt))return!0;if(mt)return!1;if(at!==null)switch(at.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$7(nt,et,at,mt,$t,Ct,Dt){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=mt,this.attributeNamespace=$t,this.mustUseProperty=at,this.propertyName=nt,this.type=et,this.sanitizeURL=Ct,this.removeEmptyString=Dt}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(nt){z$3[nt]=new v$7(nt,0,!1,nt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(nt){var et=nt[0];z$3[et]=new v$7(et,1,!1,nt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(nt){z$3[nt]=new v$7(nt,2,!1,nt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(nt){z$3[nt]=new v$7(nt,2,!1,nt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(nt){z$3[nt]=new v$7(nt,3,!1,nt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(nt){z$3[nt]=new v$7(nt,3,!0,nt,null,!1,!1)});["capture","download"].forEach(function(nt){z$3[nt]=new v$7(nt,4,!1,nt,null,!1,!1)});["cols","rows","size","span"].forEach(function(nt){z$3[nt]=new v$7(nt,6,!1,nt,null,!1,!1)});["rowSpan","start"].forEach(function(nt){z$3[nt]=new v$7(nt,5,!1,nt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(nt){return nt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(nt){var et=nt.replace(ra,sa);z$3[et]=new v$7(et,1,!1,nt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(nt){var et=nt.replace(ra,sa);z$3[et]=new v$7(et,1,!1,nt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(nt){var et=nt.replace(ra,sa);z$3[et]=new v$7(et,1,!1,nt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(nt){z$3[nt]=new v$7(nt,1,!1,nt.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$7("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(nt){z$3[nt]=new v$7(nt,1,!1,nt.toLowerCase(),null,!0,!0)});function ta(nt,et,at,mt){var $t=z$3.hasOwnProperty(et)?z$3[et]:null;($t!==null?$t.type!==0:mt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,at,$t,mt)&&(at=null),mt||$t===null?oa(et)&&(at===null?nt.removeAttribute(et):nt.setAttribute(et,""+at)):$t.mustUseProperty?nt[$t.propertyName]=at===null?$t.type===3?!1:"":at:(et=$t.attributeName,mt=$t.attributeNamespace,at===null?nt.removeAttribute(et):($t=$t.type,at=$t===3||$t===4&&at===!0?"":""+at,mt?nt.setAttributeNS(mt,et,at):nt.setAttribute(et,at))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(nt){return nt===null||typeof nt!="object"?null:(nt=Ja&&nt[Ja]||nt["@@iterator"],typeof nt=="function"?nt:null)}var A$2=Object.assign,La;function Ma(nt){if(La===void 0)try{throw Error()}catch(at){var et=at.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+nt}var Na=!1;function Oa(nt,et){if(!nt||Na)return"";Na=!0;var at=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(jt){var mt=jt}Reflect.construct(nt,[],et)}else{try{et.call()}catch(jt){mt=jt}nt.call(et.prototype)}else{try{throw Error()}catch(jt){mt=jt}nt()}}catch(jt){if(jt&&mt&&typeof jt.stack=="string"){for(var $t=jt.stack.split(`
`),Ct=mt.stack.split(`
`),Dt=$t.length-1,Ft=Ct.length-1;1<=Dt&&0<=Ft&&$t[Dt]!==Ct[Ft];)Ft--;for(;1<=Dt&&0<=Ft;Dt--,Ft--)if($t[Dt]!==Ct[Ft]){if(Dt!==1||Ft!==1)do if(Dt--,Ft--,0>Ft||$t[Dt]!==Ct[Ft]){var Nt=`
`+$t[Dt].replace(" at new "," at ");return nt.displayName&&Nt.includes("<anonymous>")&&(Nt=Nt.replace("<anonymous>",nt.displayName)),Nt}while(1<=Dt&&0<=Ft);break}}}finally{Na=!1,Error.prepareStackTrace=at}return(nt=nt?nt.displayName||nt.name:"")?Ma(nt):""}function Pa(nt){switch(nt.tag){case 5:return Ma(nt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return nt=Oa(nt.type,!1),nt;case 11:return nt=Oa(nt.type.render,!1),nt;case 1:return nt=Oa(nt.type,!0),nt;default:return""}}function Qa(nt){if(nt==null)return null;if(typeof nt=="function")return nt.displayName||nt.name||null;if(typeof nt=="string")return nt;switch(nt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof nt=="object")switch(nt.$$typeof){case Ca:return(nt.displayName||"Context")+".Consumer";case Ba:return(nt._context.displayName||"Context")+".Provider";case Da:var et=nt.render;return nt=nt.displayName,nt||(nt=et.displayName||et.name||"",nt=nt!==""?"ForwardRef("+nt+")":"ForwardRef"),nt;case Ga:return et=nt.displayName||null,et!==null?et:Qa(nt.type)||"Memo";case Ha:et=nt._payload,nt=nt._init;try{return Qa(nt(et))}catch{}}return null}function Ra(nt){var et=nt.type;switch(nt.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return nt=et.render,nt=nt.displayName||nt.name||"",et.displayName||(nt!==""?"ForwardRef("+nt+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(nt){switch(typeof nt){case"boolean":case"number":case"string":case"undefined":return nt;case"object":return nt;default:return""}}function Ta(nt){var et=nt.type;return(nt=nt.nodeName)&&nt.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(nt){var et=Ta(nt)?"checked":"value",at=Object.getOwnPropertyDescriptor(nt.constructor.prototype,et),mt=""+nt[et];if(!nt.hasOwnProperty(et)&&typeof at<"u"&&typeof at.get=="function"&&typeof at.set=="function"){var $t=at.get,Ct=at.set;return Object.defineProperty(nt,et,{configurable:!0,get:function(){return $t.call(this)},set:function(Dt){mt=""+Dt,Ct.call(this,Dt)}}),Object.defineProperty(nt,et,{enumerable:at.enumerable}),{getValue:function(){return mt},setValue:function(Dt){mt=""+Dt},stopTracking:function(){nt._valueTracker=null,delete nt[et]}}}}function Va(nt){nt._valueTracker||(nt._valueTracker=Ua(nt))}function Wa(nt){if(!nt)return!1;var et=nt._valueTracker;if(!et)return!0;var at=et.getValue(),mt="";return nt&&(mt=Ta(nt)?nt.checked?"true":"false":nt.value),nt=mt,nt!==at?(et.setValue(nt),!0):!1}function Xa(nt){if(nt=nt||(typeof document<"u"?document:void 0),typeof nt>"u")return null;try{return nt.activeElement||nt.body}catch{return nt.body}}function Ya(nt,et){var at=et.checked;return A$2({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:at??nt._wrapperState.initialChecked})}function Za(nt,et){var at=et.defaultValue==null?"":et.defaultValue,mt=et.checked!=null?et.checked:et.defaultChecked;at=Sa(et.value!=null?et.value:at),nt._wrapperState={initialChecked:mt,initialValue:at,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(nt,et){et=et.checked,et!=null&&ta(nt,"checked",et,!1)}function bb(nt,et){ab(nt,et);var at=Sa(et.value),mt=et.type;if(at!=null)mt==="number"?(at===0&&nt.value===""||nt.value!=at)&&(nt.value=""+at):nt.value!==""+at&&(nt.value=""+at);else if(mt==="submit"||mt==="reset"){nt.removeAttribute("value");return}et.hasOwnProperty("value")?cb(nt,et.type,at):et.hasOwnProperty("defaultValue")&&cb(nt,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(nt.defaultChecked=!!et.defaultChecked)}function db(nt,et,at){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var mt=et.type;if(!(mt!=="submit"&&mt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+nt._wrapperState.initialValue,at||et===nt.value||(nt.value=et),nt.defaultValue=et}at=nt.name,at!==""&&(nt.name=""),nt.defaultChecked=!!nt._wrapperState.initialChecked,at!==""&&(nt.name=at)}function cb(nt,et,at){(et!=="number"||Xa(nt.ownerDocument)!==nt)&&(at==null?nt.defaultValue=""+nt._wrapperState.initialValue:nt.defaultValue!==""+at&&(nt.defaultValue=""+at))}var eb=Array.isArray;function fb(nt,et,at,mt){if(nt=nt.options,et){et={};for(var $t=0;$t<at.length;$t++)et["$"+at[$t]]=!0;for(at=0;at<nt.length;at++)$t=et.hasOwnProperty("$"+nt[at].value),nt[at].selected!==$t&&(nt[at].selected=$t),$t&&mt&&(nt[at].defaultSelected=!0)}else{for(at=""+Sa(at),et=null,$t=0;$t<nt.length;$t++){if(nt[$t].value===at){nt[$t].selected=!0,mt&&(nt[$t].defaultSelected=!0);return}et!==null||nt[$t].disabled||(et=nt[$t])}et!==null&&(et.selected=!0)}}function gb(nt,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},et,{value:void 0,defaultValue:void 0,children:""+nt._wrapperState.initialValue})}function hb(nt,et){var at=et.value;if(at==null){if(at=et.children,et=et.defaultValue,at!=null){if(et!=null)throw Error(p$3(92));if(eb(at)){if(1<at.length)throw Error(p$3(93));at=at[0]}et=at}et==null&&(et=""),at=et}nt._wrapperState={initialValue:Sa(at)}}function ib(nt,et){var at=Sa(et.value),mt=Sa(et.defaultValue);at!=null&&(at=""+at,at!==nt.value&&(nt.value=at),et.defaultValue==null&&nt.defaultValue!==at&&(nt.defaultValue=at)),mt!=null&&(nt.defaultValue=""+mt)}function jb(nt){var et=nt.textContent;et===nt._wrapperState.initialValue&&et!==""&&et!==null&&(nt.value=et)}function kb(nt){switch(nt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(nt,et){return nt==null||nt==="http://www.w3.org/1999/xhtml"?kb(et):nt==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":nt}var mb,nb=function(nt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,at,mt,$t){MSApp.execUnsafeLocalFunction(function(){return nt(et,at,mt,$t)})}:nt}(function(nt,et){if(nt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in nt)nt.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;nt.firstChild;)nt.removeChild(nt.firstChild);for(;et.firstChild;)nt.appendChild(et.firstChild)}});function ob(nt,et){if(et){var at=nt.firstChild;if(at&&at===nt.lastChild&&at.nodeType===3){at.nodeValue=et;return}}nt.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(nt){qb.forEach(function(et){et=et+nt.charAt(0).toUpperCase()+nt.substring(1),pb[et]=pb[nt]})});function rb(nt,et,at){return et==null||typeof et=="boolean"||et===""?"":at||typeof et!="number"||et===0||pb.hasOwnProperty(nt)&&pb[nt]?(""+et).trim():et+"px"}function sb(nt,et){nt=nt.style;for(var at in et)if(et.hasOwnProperty(at)){var mt=at.indexOf("--")===0,$t=rb(at,et[at],mt);at==="float"&&(at="cssFloat"),mt?nt.setProperty(at,$t):nt[at]=$t}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(nt,et){if(et){if(tb[nt]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$3(137,nt));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$3(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$3(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$3(62))}}function vb(nt,et){if(nt.indexOf("-")===-1)return typeof et.is=="string";switch(nt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(nt){return nt=nt.target||nt.srcElement||window,nt.correspondingUseElement&&(nt=nt.correspondingUseElement),nt.nodeType===3?nt.parentNode:nt}var yb=null,zb=null,Ab=null;function Bb(nt){if(nt=Cb(nt)){if(typeof yb!="function")throw Error(p$3(280));var et=nt.stateNode;et&&(et=Db(et),yb(nt.stateNode,nt.type,et))}}function Eb(nt){zb?Ab?Ab.push(nt):Ab=[nt]:zb=nt}function Fb(){if(zb){var nt=zb,et=Ab;if(Ab=zb=null,Bb(nt),et)for(nt=0;nt<et.length;nt++)Bb(et[nt])}}function Gb(nt,et){return nt(et)}function Hb(){}var Ib=!1;function Jb(nt,et,at){if(Ib)return nt(et,at);Ib=!0;try{return Gb(nt,et,at)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(nt,et){var at=nt.stateNode;if(at===null)return null;var mt=Db(at);if(mt===null)return null;at=mt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(mt=!mt.disabled)||(nt=nt.type,mt=!(nt==="button"||nt==="input"||nt==="select"||nt==="textarea")),nt=!mt;break e;default:nt=!1}if(nt)return null;if(at&&typeof at!="function")throw Error(p$3(231,et,typeof at));return at}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(nt,et,at,mt,$t,Ct,Dt,Ft,Nt){var jt=Array.prototype.slice.call(arguments,3);try{et.apply(at,jt)}catch(Lt){this.onError(Lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(nt){Ob=!0,Pb=nt}};function Tb(nt,et,at,mt,$t,Ct,Dt,Ft,Nt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(nt,et,at,mt,$t,Ct,Dt,Ft,Nt){if(Tb.apply(this,arguments),Ob){if(Ob){var jt=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=jt)}}function Vb(nt){var et=nt,at=nt;if(nt.alternate)for(;et.return;)et=et.return;else{nt=et;do et=nt,et.flags&4098&&(at=et.return),nt=et.return;while(nt)}return et.tag===3?at:null}function Wb(nt){if(nt.tag===13){var et=nt.memoizedState;if(et===null&&(nt=nt.alternate,nt!==null&&(et=nt.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(nt){if(Vb(nt)!==nt)throw Error(p$3(188))}function Yb(nt){var et=nt.alternate;if(!et){if(et=Vb(nt),et===null)throw Error(p$3(188));return et!==nt?null:nt}for(var at=nt,mt=et;;){var $t=at.return;if($t===null)break;var Ct=$t.alternate;if(Ct===null){if(mt=$t.return,mt!==null){at=mt;continue}break}if($t.child===Ct.child){for(Ct=$t.child;Ct;){if(Ct===at)return Xb($t),nt;if(Ct===mt)return Xb($t),et;Ct=Ct.sibling}throw Error(p$3(188))}if(at.return!==mt.return)at=$t,mt=Ct;else{for(var Dt=!1,Ft=$t.child;Ft;){if(Ft===at){Dt=!0,at=$t,mt=Ct;break}if(Ft===mt){Dt=!0,mt=$t,at=Ct;break}Ft=Ft.sibling}if(!Dt){for(Ft=Ct.child;Ft;){if(Ft===at){Dt=!0,at=Ct,mt=$t;break}if(Ft===mt){Dt=!0,mt=Ct,at=$t;break}Ft=Ft.sibling}if(!Dt)throw Error(p$3(189))}}if(at.alternate!==mt)throw Error(p$3(190))}if(at.tag!==3)throw Error(p$3(188));return at.stateNode.current===at?nt:et}function Zb(nt){return nt=Yb(nt),nt!==null?$b(nt):null}function $b(nt){if(nt.tag===5||nt.tag===6)return nt;for(nt=nt.child;nt!==null;){var et=$b(nt);if(et!==null)return et;nt=nt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(nt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,nt,void 0,(nt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(nt){return nt>>>=0,nt===0?32:31-(pc(nt)/qc|0)|0}var rc=64,sc=4194304;function tc(nt){switch(nt&-nt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return nt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return nt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return nt}}function uc(nt,et){var at=nt.pendingLanes;if(at===0)return 0;var mt=0,$t=nt.suspendedLanes,Ct=nt.pingedLanes,Dt=at&268435455;if(Dt!==0){var Ft=Dt&~$t;Ft!==0?mt=tc(Ft):(Ct&=Dt,Ct!==0&&(mt=tc(Ct)))}else Dt=at&~$t,Dt!==0?mt=tc(Dt):Ct!==0&&(mt=tc(Ct));if(mt===0)return 0;if(et!==0&&et!==mt&&!(et&$t)&&($t=mt&-mt,Ct=et&-et,$t>=Ct||$t===16&&(Ct&4194240)!==0))return et;if(mt&4&&(mt|=at&16),et=nt.entangledLanes,et!==0)for(nt=nt.entanglements,et&=mt;0<et;)at=31-oc(et),$t=1<<at,mt|=nt[at],et&=~$t;return mt}function vc(nt,et){switch(nt){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(nt,et){for(var at=nt.suspendedLanes,mt=nt.pingedLanes,$t=nt.expirationTimes,Ct=nt.pendingLanes;0<Ct;){var Dt=31-oc(Ct),Ft=1<<Dt,Nt=$t[Dt];Nt===-1?(!(Ft&at)||Ft&mt)&&($t[Dt]=vc(Ft,et)):Nt<=et&&(nt.expiredLanes|=Ft),Ct&=~Ft}}function xc(nt){return nt=nt.pendingLanes&-1073741825,nt!==0?nt:nt&1073741824?1073741824:0}function yc(){var nt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),nt}function zc(nt){for(var et=[],at=0;31>at;at++)et.push(nt);return et}function Ac(nt,et,at){nt.pendingLanes|=et,et!==536870912&&(nt.suspendedLanes=0,nt.pingedLanes=0),nt=nt.eventTimes,et=31-oc(et),nt[et]=at}function Bc(nt,et){var at=nt.pendingLanes&~et;nt.pendingLanes=et,nt.suspendedLanes=0,nt.pingedLanes=0,nt.expiredLanes&=et,nt.mutableReadLanes&=et,nt.entangledLanes&=et,et=nt.entanglements;var mt=nt.eventTimes;for(nt=nt.expirationTimes;0<at;){var $t=31-oc(at),Ct=1<<$t;et[$t]=0,mt[$t]=-1,nt[$t]=-1,at&=~Ct}}function Cc(nt,et){var at=nt.entangledLanes|=et;for(nt=nt.entanglements;at;){var mt=31-oc(at),$t=1<<mt;$t&et|nt[mt]&et&&(nt[mt]|=et),at&=~$t}}var C=0;function Dc(nt){return nt&=-nt,1<nt?4<nt?nt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(nt,et){switch(nt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(nt,et,at,mt,$t,Ct){return nt===null||nt.nativeEvent!==Ct?(nt={blockedOn:et,domEventName:at,eventSystemFlags:mt,nativeEvent:Ct,targetContainers:[$t]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),nt):(nt.eventSystemFlags|=mt,et=nt.targetContainers,$t!==null&&et.indexOf($t)===-1&&et.push($t),nt)}function Uc(nt,et,at,mt,$t){switch(et){case"focusin":return Lc=Tc(Lc,nt,et,at,mt,$t),!0;case"dragenter":return Mc=Tc(Mc,nt,et,at,mt,$t),!0;case"mouseover":return Nc=Tc(Nc,nt,et,at,mt,$t),!0;case"pointerover":var Ct=$t.pointerId;return Oc.set(Ct,Tc(Oc.get(Ct)||null,nt,et,at,mt,$t)),!0;case"gotpointercapture":return Ct=$t.pointerId,Pc.set(Ct,Tc(Pc.get(Ct)||null,nt,et,at,mt,$t)),!0}return!1}function Vc(nt){var et=Wc(nt.target);if(et!==null){var at=Vb(et);if(at!==null){if(et=at.tag,et===13){if(et=Wb(at),et!==null){nt.blockedOn=et,Ic(nt.priority,function(){Gc(at)});return}}else if(et===3&&at.stateNode.current.memoizedState.isDehydrated){nt.blockedOn=at.tag===3?at.stateNode.containerInfo:null;return}}}nt.blockedOn=null}function Xc(nt){if(nt.blockedOn!==null)return!1;for(var et=nt.targetContainers;0<et.length;){var at=Yc(nt.domEventName,nt.eventSystemFlags,et[0],nt.nativeEvent);if(at===null){at=nt.nativeEvent;var mt=new at.constructor(at.type,at);wb=mt,at.target.dispatchEvent(mt),wb=null}else return et=Cb(at),et!==null&&Fc(et),nt.blockedOn=at,!1;et.shift()}return!0}function Zc(nt,et,at){Xc(nt)&&at.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(nt,et){nt.blockedOn===et&&(nt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(nt){function et($t){return ad($t,nt)}if(0<Kc.length){ad(Kc[0],nt);for(var at=1;at<Kc.length;at++){var mt=Kc[at];mt.blockedOn===nt&&(mt.blockedOn=null)}}for(Lc!==null&&ad(Lc,nt),Mc!==null&&ad(Mc,nt),Nc!==null&&ad(Nc,nt),Oc.forEach(et),Pc.forEach(et),at=0;at<Qc.length;at++)mt=Qc[at],mt.blockedOn===nt&&(mt.blockedOn=null);for(;0<Qc.length&&(at=Qc[0],at.blockedOn===null);)Vc(at),at.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(nt,et,at,mt){var $t=C,Ct=cd.transition;cd.transition=null;try{C=1,fd(nt,et,at,mt)}finally{C=$t,cd.transition=Ct}}function gd(nt,et,at,mt){var $t=C,Ct=cd.transition;cd.transition=null;try{C=4,fd(nt,et,at,mt)}finally{C=$t,cd.transition=Ct}}function fd(nt,et,at,mt){if(dd){var $t=Yc(nt,et,at,mt);if($t===null)hd(nt,et,mt,id$3,at),Sc(nt,mt);else if(Uc($t,nt,et,at,mt))mt.stopPropagation();else if(Sc(nt,mt),et&4&&-1<Rc.indexOf(nt)){for(;$t!==null;){var Ct=Cb($t);if(Ct!==null&&Ec(Ct),Ct=Yc(nt,et,at,mt),Ct===null&&hd(nt,et,mt,id$3,at),Ct===$t)break;$t=Ct}$t!==null&&mt.stopPropagation()}else hd(nt,et,mt,null,at)}}var id$3=null;function Yc(nt,et,at,mt){if(id$3=null,nt=xb(mt),nt=Wc(nt),nt!==null)if(et=Vb(nt),et===null)nt=null;else if(at=et.tag,at===13){if(nt=Wb(et),nt!==null)return nt;nt=null}else if(at===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;nt=null}else et!==nt&&(nt=null);return id$3=nt,null}function jd(nt){switch(nt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var nt,et=ld,at=et.length,mt,$t="value"in kd?kd.value:kd.textContent,Ct=$t.length;for(nt=0;nt<at&&et[nt]===$t[nt];nt++);var Dt=at-nt;for(mt=1;mt<=Dt&&et[at-mt]===$t[Ct-mt];mt++);return md=$t.slice(nt,1<mt?1-mt:void 0)}function od(nt){var et=nt.keyCode;return"charCode"in nt?(nt=nt.charCode,nt===0&&et===13&&(nt=13)):nt=et,nt===10&&(nt=13),32<=nt||nt===13?nt:0}function pd(){return!0}function qd(){return!1}function rd(nt){function et(at,mt,$t,Ct,Dt){this._reactName=at,this._targetInst=$t,this.type=mt,this.nativeEvent=Ct,this.target=Dt,this.currentTarget=null;for(var Ft in nt)nt.hasOwnProperty(Ft)&&(at=nt[Ft],this[Ft]=at?at(Ct):Ct[Ft]);return this.isDefaultPrevented=(Ct.defaultPrevented!=null?Ct.defaultPrevented:Ct.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var at=this.nativeEvent;at&&(at.preventDefault?at.preventDefault():typeof at.returnValue!="unknown"&&(at.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var at=this.nativeEvent;at&&(at.stopPropagation?at.stopPropagation():typeof at.cancelBubble!="unknown"&&(at.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(nt){return nt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(nt){return nt.relatedTarget===void 0?nt.fromElement===nt.srcElement?nt.toElement:nt.fromElement:nt.relatedTarget},movementX:function(nt){return"movementX"in nt?nt.movementX:(nt!==yd&&(yd&&nt.type==="mousemove"?(wd=nt.screenX-yd.screenX,xd=nt.screenY-yd.screenY):xd=wd=0,yd=nt),wd)},movementY:function(nt){return"movementY"in nt?nt.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(nt){return"clipboardData"in nt?nt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(nt){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(nt):(nt=Od[nt])?!!et[nt]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(nt){if(nt.key){var et=Md[nt.key]||nt.key;if(et!=="Unidentified")return et}return nt.type==="keypress"?(nt=od(nt),nt===13?"Enter":String.fromCharCode(nt)):nt.type==="keydown"||nt.type==="keyup"?Nd[nt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(nt){return nt.type==="keypress"?od(nt):0},keyCode:function(nt){return nt.type==="keydown"||nt.type==="keyup"?nt.keyCode:0},which:function(nt){return nt.type==="keypress"?od(nt):nt.type==="keydown"||nt.type==="keyup"?nt.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(nt){return"deltaX"in nt?nt.deltaX:"wheelDeltaX"in nt?-nt.wheelDeltaX:0},deltaY:function(nt){return"deltaY"in nt?nt.deltaY:"wheelDeltaY"in nt?-nt.wheelDeltaY:"wheelDelta"in nt?-nt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$1=!1;function ge$1(nt,et){switch(nt){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(nt){return nt=nt.detail,typeof nt=="object"&&"data"in nt?nt.data:null}var ie$2=!1;function je$1(nt,et){switch(nt){case"compositionend":return he$1(et);case"keypress":return et.which!==32?null:(fe$1=!0,ee$2);case"textInput":return nt=et.data,nt===ee$2&&fe$1?null:nt;default:return null}}function ke$2(nt,et){if(ie$2)return nt==="compositionend"||!ae$1&&ge$1(nt,et)?(nt=nd(),md=ld=kd=null,ie$2=!1,nt):null;switch(nt){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de&&et.locale!=="ko"?null:et.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(nt){var et=nt&&nt.nodeName&&nt.nodeName.toLowerCase();return et==="input"?!!le$1[nt.type]:et==="textarea"}function ne$2(nt,et,at,mt){Eb(mt),et=oe$1(et,"onChange"),0<et.length&&(at=new td("onChange","change",null,at,mt),nt.push({event:at,listeners:et}))}var pe$1=null,qe=null;function re$2(nt){se$1(nt,0)}function te(nt){var et=ue(nt);if(Wa(et))return nt}function ve$2(nt,et){if(nt==="change")return et}var we$1=!1;if(ia){var xe$1;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$2=typeof ze.oninput=="function"}xe$1=ye$2}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe=pe$1=null)}function Be$1(nt){if(nt.propertyName==="value"&&te(qe)){var et=[];ne$2(et,qe,nt,xb(nt)),Jb(re$2,et)}}function Ce$1(nt,et,at){nt==="focusin"?(Ae$2(),pe$1=et,qe=at,pe$1.attachEvent("onpropertychange",Be$1)):nt==="focusout"&&Ae$2()}function De$1(nt){if(nt==="selectionchange"||nt==="keyup"||nt==="keydown")return te(qe)}function Ee$2(nt,et){if(nt==="click")return te(et)}function Fe$1(nt,et){if(nt==="input"||nt==="change")return te(et)}function Ge(nt,et){return nt===et&&(nt!==0||1/nt===1/et)||nt!==nt&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(nt,et){if(He(nt,et))return!0;if(typeof nt!="object"||nt===null||typeof et!="object"||et===null)return!1;var at=Object.keys(nt),mt=Object.keys(et);if(at.length!==mt.length)return!1;for(mt=0;mt<at.length;mt++){var $t=at[mt];if(!ja.call(et,$t)||!He(nt[$t],et[$t]))return!1}return!0}function Je$1(nt){for(;nt&&nt.firstChild;)nt=nt.firstChild;return nt}function Ke$1(nt,et){var at=Je$1(nt);nt=0;for(var mt;at;){if(at.nodeType===3){if(mt=nt+at.textContent.length,nt<=et&&mt>=et)return{node:at,offset:et-nt};nt=mt}e:{for(;at;){if(at.nextSibling){at=at.nextSibling;break e}at=at.parentNode}at=void 0}at=Je$1(at)}}function Le$1(nt,et){return nt&&et?nt===et?!0:nt&&nt.nodeType===3?!1:et&&et.nodeType===3?Le$1(nt,et.parentNode):"contains"in nt?nt.contains(et):nt.compareDocumentPosition?!!(nt.compareDocumentPosition(et)&16):!1:!1}function Me(){for(var nt=window,et=Xa();et instanceof nt.HTMLIFrameElement;){try{var at=typeof et.contentWindow.location.href=="string"}catch{at=!1}if(at)nt=et.contentWindow;else break;et=Xa(nt.document)}return et}function Ne(nt){var et=nt&&nt.nodeName&&nt.nodeName.toLowerCase();return et&&(et==="input"&&(nt.type==="text"||nt.type==="search"||nt.type==="tel"||nt.type==="url"||nt.type==="password")||et==="textarea"||nt.contentEditable==="true")}function Oe(nt){var et=Me(),at=nt.focusedElem,mt=nt.selectionRange;if(et!==at&&at&&at.ownerDocument&&Le$1(at.ownerDocument.documentElement,at)){if(mt!==null&&Ne(at)){if(et=mt.start,nt=mt.end,nt===void 0&&(nt=et),"selectionStart"in at)at.selectionStart=et,at.selectionEnd=Math.min(nt,at.value.length);else if(nt=(et=at.ownerDocument||document)&&et.defaultView||window,nt.getSelection){nt=nt.getSelection();var $t=at.textContent.length,Ct=Math.min(mt.start,$t);mt=mt.end===void 0?Ct:Math.min(mt.end,$t),!nt.extend&&Ct>mt&&($t=mt,mt=Ct,Ct=$t),$t=Ke$1(at,Ct);var Dt=Ke$1(at,mt);$t&&Dt&&(nt.rangeCount!==1||nt.anchorNode!==$t.node||nt.anchorOffset!==$t.offset||nt.focusNode!==Dt.node||nt.focusOffset!==Dt.offset)&&(et=et.createRange(),et.setStart($t.node,$t.offset),nt.removeAllRanges(),Ct>mt?(nt.addRange(et),nt.extend(Dt.node,Dt.offset)):(et.setEnd(Dt.node,Dt.offset),nt.addRange(et)))}}for(et=[],nt=at;nt=nt.parentNode;)nt.nodeType===1&&et.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof at.focus=="function"&&at.focus(),at=0;at<et.length;at++)nt=et[at],nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te=!1;function Ue$1(nt,et,at){var mt=at.window===at?at.document:at.nodeType===9?at:at.ownerDocument;Te||Qe==null||Qe!==Xa(mt)||(mt=Qe,"selectionStart"in mt&&Ne(mt)?mt={start:mt.selectionStart,end:mt.selectionEnd}:(mt=(mt.ownerDocument&&mt.ownerDocument.defaultView||window).getSelection(),mt={anchorNode:mt.anchorNode,anchorOffset:mt.anchorOffset,focusNode:mt.focusNode,focusOffset:mt.focusOffset}),Se$1&&Ie$1(Se$1,mt)||(Se$1=mt,mt=oe$1(Re$1,"onSelect"),0<mt.length&&(et=new td("onSelect","select",null,et,at),nt.push({event:et,listeners:mt}),et.target=Qe)))}function Ve$1(nt,et){var at={};return at[nt.toLowerCase()]=et.toLowerCase(),at["Webkit"+nt]="webkit"+et,at["Moz"+nt]="moz"+et,at}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(nt){if(Xe$1[nt])return Xe$1[nt];if(!We$1[nt])return nt;var et=We$1[nt],at;for(at in et)if(et.hasOwnProperty(at)&&at in Ye$1)return Xe$1[nt]=et[at];return nt}var $e$2=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(nt,et){df.set(nt,et),fa(et,[nt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(nt,et,at){var mt=nt.type||"unknown-event";nt.currentTarget=at,Ub(mt,et,void 0,nt),nt.currentTarget=null}function se$1(nt,et){et=(et&4)!==0;for(var at=0;at<nt.length;at++){var mt=nt[at],$t=mt.event;mt=mt.listeners;e:{var Ct=void 0;if(et)for(var Dt=mt.length-1;0<=Dt;Dt--){var Ft=mt[Dt],Nt=Ft.instance,jt=Ft.currentTarget;if(Ft=Ft.listener,Nt!==Ct&&$t.isPropagationStopped())break e;nf($t,Ft,jt),Ct=Nt}else for(Dt=0;Dt<mt.length;Dt++){if(Ft=mt[Dt],Nt=Ft.instance,jt=Ft.currentTarget,Ft=Ft.listener,Nt!==Ct&&$t.isPropagationStopped())break e;nf($t,Ft,jt),Ct=Nt}}}if(Qb)throw nt=Rb,Qb=!1,Rb=null,nt}function D$2(nt,et){var at=et[of];at===void 0&&(at=et[of]=new Set);var mt=nt+"__bubble";at.has(mt)||(pf(et,nt,2,!1),at.add(mt))}function qf(nt,et,at){var mt=0;et&&(mt|=4),pf(at,nt,mt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(nt){if(!nt[rf]){nt[rf]=!0,da.forEach(function(at){at!=="selectionchange"&&(mf.has(at)||qf(at,!1,nt),qf(at,!0,nt))});var et=nt.nodeType===9?nt:nt.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(nt,et,at,mt){switch(jd(et)){case 1:var $t=ed;break;case 4:$t=gd;break;default:$t=fd}at=$t.bind(null,et,at,nt),$t=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||($t=!0),mt?$t!==void 0?nt.addEventListener(et,at,{capture:!0,passive:$t}):nt.addEventListener(et,at,!0):$t!==void 0?nt.addEventListener(et,at,{passive:$t}):nt.addEventListener(et,at,!1)}function hd(nt,et,at,mt,$t){var Ct=mt;if(!(et&1)&&!(et&2)&&mt!==null)e:for(;;){if(mt===null)return;var Dt=mt.tag;if(Dt===3||Dt===4){var Ft=mt.stateNode.containerInfo;if(Ft===$t||Ft.nodeType===8&&Ft.parentNode===$t)break;if(Dt===4)for(Dt=mt.return;Dt!==null;){var Nt=Dt.tag;if((Nt===3||Nt===4)&&(Nt=Dt.stateNode.containerInfo,Nt===$t||Nt.nodeType===8&&Nt.parentNode===$t))return;Dt=Dt.return}for(;Ft!==null;){if(Dt=Wc(Ft),Dt===null)return;if(Nt=Dt.tag,Nt===5||Nt===6){mt=Ct=Dt;continue e}Ft=Ft.parentNode}}mt=mt.return}Jb(function(){var jt=Ct,Lt=xb(at),Vt=[];e:{var er=df.get(nt);if(er!==void 0){var ir=td,or=nt;switch(nt){case"keypress":if(od(at)===0)break e;case"keydown":case"keyup":ir=Rd;break;case"focusin":or="focus",ir=Fd;break;case"focusout":or="blur",ir=Fd;break;case"beforeblur":case"afterblur":ir=Fd;break;case"click":if(at.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ir=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ir=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ir=Vd;break;case $e$2:case af:case bf:ir=Hd;break;case cf:ir=Xd;break;case"scroll":ir=vd;break;case"wheel":ir=Zd;break;case"copy":case"cut":case"paste":ir=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ir=Td}var lr=(et&4)!==0,dr=!lr&&nt==="scroll",pr=lr?er!==null?er+"Capture":null:er;lr=[];for(var hr=jt,vr;hr!==null;){vr=hr;var br=vr.stateNode;if(vr.tag===5&&br!==null&&(vr=br,pr!==null&&(br=Kb(hr,pr),br!=null&&lr.push(tf(hr,br,vr)))),dr)break;hr=hr.return}0<lr.length&&(er=new ir(er,or,null,at,Lt),Vt.push({event:er,listeners:lr}))}}if(!(et&7)){e:{if(er=nt==="mouseover"||nt==="pointerover",ir=nt==="mouseout"||nt==="pointerout",er&&at!==wb&&(or=at.relatedTarget||at.fromElement)&&(Wc(or)||or[uf]))break e;if((ir||er)&&(er=Lt.window===Lt?Lt:(er=Lt.ownerDocument)?er.defaultView||er.parentWindow:window,ir?(or=at.relatedTarget||at.toElement,ir=jt,or=or?Wc(or):null,or!==null&&(dr=Vb(or),or!==dr||or.tag!==5&&or.tag!==6)&&(or=null)):(ir=null,or=jt),ir!==or)){if(lr=Bd,br="onMouseLeave",pr="onMouseEnter",hr="mouse",(nt==="pointerout"||nt==="pointerover")&&(lr=Td,br="onPointerLeave",pr="onPointerEnter",hr="pointer"),dr=ir==null?er:ue(ir),vr=or==null?er:ue(or),er=new lr(br,hr+"leave",ir,at,Lt),er.target=dr,er.relatedTarget=vr,br=null,Wc(Lt)===jt&&(lr=new lr(pr,hr+"enter",or,at,Lt),lr.target=vr,lr.relatedTarget=dr,br=lr),dr=br,ir&&or)t:{for(lr=ir,pr=or,hr=0,vr=lr;vr;vr=vf(vr))hr++;for(vr=0,br=pr;br;br=vf(br))vr++;for(;0<hr-vr;)lr=vf(lr),hr--;for(;0<vr-hr;)pr=vf(pr),vr--;for(;hr--;){if(lr===pr||pr!==null&&lr===pr.alternate)break t;lr=vf(lr),pr=vf(pr)}lr=null}else lr=null;ir!==null&&wf(Vt,er,ir,lr,!1),or!==null&&dr!==null&&wf(Vt,dr,or,lr,!0)}}e:{if(er=jt?ue(jt):window,ir=er.nodeName&&er.nodeName.toLowerCase(),ir==="select"||ir==="input"&&er.type==="file")var xr=ve$2;else if(me$1(er))if(we$1)xr=Fe$1;else{xr=De$1;var Sr=Ce$1}else(ir=er.nodeName)&&ir.toLowerCase()==="input"&&(er.type==="checkbox"||er.type==="radio")&&(xr=Ee$2);if(xr&&(xr=xr(nt,jt))){ne$2(Vt,xr,at,Lt);break e}Sr&&Sr(nt,er,jt),nt==="focusout"&&(Sr=er._wrapperState)&&Sr.controlled&&er.type==="number"&&cb(er,"number",er.value)}switch(Sr=jt?ue(jt):window,nt){case"focusin":(me$1(Sr)||Sr.contentEditable==="true")&&(Qe=Sr,Re$1=jt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue$1(Vt,at,Lt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(Vt,at,Lt)}var Er;if(ae$1)e:{switch(nt){case"compositionstart":var $r="onCompositionStart";break e;case"compositionend":$r="onCompositionEnd";break e;case"compositionupdate":$r="onCompositionUpdate";break e}$r=void 0}else ie$2?ge$1(nt,at)&&($r="onCompositionEnd"):nt==="keydown"&&at.keyCode===229&&($r="onCompositionStart");$r&&(de&&at.locale!=="ko"&&(ie$2||$r!=="onCompositionStart"?$r==="onCompositionEnd"&&ie$2&&(Er=nd()):(kd=Lt,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Sr=oe$1(jt,$r),0<Sr.length&&($r=new Ld($r,nt,null,at,Lt),Vt.push({event:$r,listeners:Sr}),Er?$r.data=Er:(Er=he$1(at),Er!==null&&($r.data=Er)))),(Er=ce?je$1(nt,at):ke$2(nt,at))&&(jt=oe$1(jt,"onBeforeInput"),0<jt.length&&(Lt=new Ld("onBeforeInput","beforeinput",null,at,Lt),Vt.push({event:Lt,listeners:jt}),Lt.data=Er))}se$1(Vt,et)})}function tf(nt,et,at){return{instance:nt,listener:et,currentTarget:at}}function oe$1(nt,et){for(var at=et+"Capture",mt=[];nt!==null;){var $t=nt,Ct=$t.stateNode;$t.tag===5&&Ct!==null&&($t=Ct,Ct=Kb(nt,at),Ct!=null&&mt.unshift(tf(nt,Ct,$t)),Ct=Kb(nt,et),Ct!=null&&mt.push(tf(nt,Ct,$t))),nt=nt.return}return mt}function vf(nt){if(nt===null)return null;do nt=nt.return;while(nt&&nt.tag!==5);return nt||null}function wf(nt,et,at,mt,$t){for(var Ct=et._reactName,Dt=[];at!==null&&at!==mt;){var Ft=at,Nt=Ft.alternate,jt=Ft.stateNode;if(Nt!==null&&Nt===mt)break;Ft.tag===5&&jt!==null&&(Ft=jt,$t?(Nt=Kb(at,Ct),Nt!=null&&Dt.unshift(tf(at,Nt,Ft))):$t||(Nt=Kb(at,Ct),Nt!=null&&Dt.push(tf(at,Nt,Ft)))),at=at.return}Dt.length!==0&&nt.push({event:et,listeners:Dt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(nt){return(typeof nt=="string"?nt:""+nt).replace(xf,`
`).replace(yf,"")}function Af(nt,et,at){if(et=zf(et),zf(nt)!==et&&at)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(nt,et){return nt==="textarea"||nt==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(nt){return Hf.resolve(null).then(nt).catch(If)}:Ff;function If(nt){setTimeout(function(){throw nt})}function Kf(nt,et){var at=et,mt=0;do{var $t=at.nextSibling;if(nt.removeChild(at),$t&&$t.nodeType===8)if(at=$t.data,at==="/$"){if(mt===0){nt.removeChild($t),bd(et);return}mt--}else at!=="$"&&at!=="$?"&&at!=="$!"||mt++;at=$t}while(at);bd(et)}function Lf(nt){for(;nt!=null;nt=nt.nextSibling){var et=nt.nodeType;if(et===1||et===3)break;if(et===8){if(et=nt.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return nt}function Mf(nt){nt=nt.previousSibling;for(var et=0;nt;){if(nt.nodeType===8){var at=nt.data;if(at==="$"||at==="$!"||at==="$?"){if(et===0)return nt;et--}else at==="/$"&&et++}nt=nt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(nt){var et=nt[Of];if(et)return et;for(var at=nt.parentNode;at;){if(et=at[uf]||at[Of]){if(at=et.alternate,et.child!==null||at!==null&&at.child!==null)for(nt=Mf(nt);nt!==null;){if(at=nt[Of])return at;nt=Mf(nt)}return et}nt=at,at=nt.parentNode}return null}function Cb(nt){return nt=nt[Of]||nt[uf],!nt||nt.tag!==5&&nt.tag!==6&&nt.tag!==13&&nt.tag!==3?null:nt}function ue(nt){if(nt.tag===5||nt.tag===6)return nt.stateNode;throw Error(p$3(33))}function Db(nt){return nt[Pf]||null}var Sf=[],Tf=-1;function Uf(nt){return{current:nt}}function E(nt){0>Tf||(nt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(nt,et){Tf++,Sf[Tf]=nt.current,nt.current=et}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(nt,et){var at=nt.type.contextTypes;if(!at)return Vf;var mt=nt.stateNode;if(mt&&mt.__reactInternalMemoizedUnmaskedChildContext===et)return mt.__reactInternalMemoizedMaskedChildContext;var $t={},Ct;for(Ct in at)$t[Ct]=et[Ct];return mt&&(nt=nt.stateNode,nt.__reactInternalMemoizedUnmaskedChildContext=et,nt.__reactInternalMemoizedMaskedChildContext=$t),$t}function Zf(nt){return nt=nt.childContextTypes,nt!=null}function $f(){E(Wf),E(H$2)}function ag(nt,et,at){if(H$2.current!==Vf)throw Error(p$3(168));G$1(H$2,et),G$1(Wf,at)}function bg(nt,et,at){var mt=nt.stateNode;if(et=et.childContextTypes,typeof mt.getChildContext!="function")return at;mt=mt.getChildContext();for(var $t in mt)if(!($t in et))throw Error(p$3(108,Ra(nt)||"Unknown",$t));return A$2({},at,mt)}function cg(nt){return nt=(nt=nt.stateNode)&&nt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$1(H$2,nt),G$1(Wf,Wf.current),!0}function dg(nt,et,at){var mt=nt.stateNode;if(!mt)throw Error(p$3(169));at?(nt=bg(nt,et,Xf),mt.__reactInternalMemoizedMergedChildContext=nt,E(Wf),E(H$2),G$1(H$2,nt)):E(Wf),G$1(Wf,at)}var eg=null,fg=!1,gg=!1;function hg(nt){eg===null?eg=[nt]:eg.push(nt)}function ig(nt){fg=!0,hg(nt)}function jg(){if(!gg&&eg!==null){gg=!0;var nt=0,et=C;try{var at=eg;for(C=1;nt<at.length;nt++){var mt=at[nt];do mt=mt(!0);while(mt!==null)}eg=null,fg=!1}catch($t){throw eg!==null&&(eg=eg.slice(nt+1)),ac(fc,jg),$t}finally{C=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(nt,et){kg[lg++]=ng,kg[lg++]=mg,mg=nt,ng=et}function ug(nt,et,at){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=nt;var mt=rg;nt=sg;var $t=32-oc(mt)-1;mt&=~(1<<$t),at+=1;var Ct=32-oc(et)+$t;if(30<Ct){var Dt=$t-$t%5;Ct=(mt&(1<<Dt)-1).toString(32),mt>>=Dt,$t-=Dt,rg=1<<32-oc(et)+$t|at<<$t|mt,sg=Ct+nt}else rg=1<<Ct|at<<$t|mt,sg=nt}function vg(nt){nt.return!==null&&(tg(nt,1),ug(nt,1,0))}function wg(nt){for(;nt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;nt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(nt,et){var at=Bg(5,null,null,0);at.elementType="DELETED",at.stateNode=et,at.return=nt,et=nt.deletions,et===null?(nt.deletions=[at],nt.flags|=16):et.push(at)}function Cg(nt,et){switch(nt.tag){case 5:var at=nt.type;return et=et.nodeType!==1||at.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(nt.stateNode=et,xg=nt,yg=Lf(et.firstChild),!0):!1;case 6:return et=nt.pendingProps===""||et.nodeType!==3?null:et,et!==null?(nt.stateNode=et,xg=nt,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(at=qg!==null?{id:rg,overflow:sg}:null,nt.memoizedState={dehydrated:et,treeContext:at,retryLane:1073741824},at=Bg(18,null,null,0),at.stateNode=et,at.return=nt,nt.child=at,xg=nt,yg=null,!0):!1;default:return!1}}function Dg(nt){return(nt.mode&1)!==0&&(nt.flags&128)===0}function Eg(nt){if(I$3){var et=yg;if(et){var at=et;if(!Cg(nt,et)){if(Dg(nt))throw Error(p$3(418));et=Lf(at.nextSibling);var mt=xg;et&&Cg(nt,et)?Ag(mt,at):(nt.flags=nt.flags&-4097|2,I$3=!1,xg=nt)}}else{if(Dg(nt))throw Error(p$3(418));nt.flags=nt.flags&-4097|2,I$3=!1,xg=nt}}}function Fg(nt){for(nt=nt.return;nt!==null&&nt.tag!==5&&nt.tag!==3&&nt.tag!==13;)nt=nt.return;xg=nt}function Gg(nt){if(nt!==xg)return!1;if(!I$3)return Fg(nt),I$3=!0,!1;var et;if((et=nt.tag!==3)&&!(et=nt.tag!==5)&&(et=nt.type,et=et!=="head"&&et!=="body"&&!Ef(nt.type,nt.memoizedProps)),et&&(et=yg)){if(Dg(nt))throw Hg(),Error(p$3(418));for(;et;)Ag(nt,et),et=Lf(et.nextSibling)}if(Fg(nt),nt.tag===13){if(nt=nt.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$3(317));e:{for(nt=nt.nextSibling,et=0;nt;){if(nt.nodeType===8){var at=nt.data;if(at==="/$"){if(et===0){yg=Lf(nt.nextSibling);break e}et--}else at!=="$"&&at!=="$!"&&at!=="$?"||et++}nt=nt.nextSibling}yg=null}}else yg=xg?Lf(nt.stateNode.nextSibling):null;return!0}function Hg(){for(var nt=yg;nt;)nt=Lf(nt.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(nt){zg===null?zg=[nt]:zg.push(nt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(nt,et,at){if(nt=at.ref,nt!==null&&typeof nt!="function"&&typeof nt!="object"){if(at._owner){if(at=at._owner,at){if(at.tag!==1)throw Error(p$3(309));var mt=at.stateNode}if(!mt)throw Error(p$3(147,nt));var $t=mt,Ct=""+nt;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===Ct?et.ref:(et=function(Dt){var Ft=$t.refs;Dt===null?delete Ft[Ct]:Ft[Ct]=Dt},et._stringRef=Ct,et)}if(typeof nt!="string")throw Error(p$3(284));if(!at._owner)throw Error(p$3(290,nt))}return nt}function Mg(nt,et){throw nt=Object.prototype.toString.call(et),Error(p$3(31,nt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":nt))}function Ng(nt){var et=nt._init;return et(nt._payload)}function Og(nt){function et(pr,hr){if(nt){var vr=pr.deletions;vr===null?(pr.deletions=[hr],pr.flags|=16):vr.push(hr)}}function at(pr,hr){if(!nt)return null;for(;hr!==null;)et(pr,hr),hr=hr.sibling;return null}function mt(pr,hr){for(pr=new Map;hr!==null;)hr.key!==null?pr.set(hr.key,hr):pr.set(hr.index,hr),hr=hr.sibling;return pr}function $t(pr,hr){return pr=Pg(pr,hr),pr.index=0,pr.sibling=null,pr}function Ct(pr,hr,vr){return pr.index=vr,nt?(vr=pr.alternate,vr!==null?(vr=vr.index,vr<hr?(pr.flags|=2,hr):vr):(pr.flags|=2,hr)):(pr.flags|=1048576,hr)}function Dt(pr){return nt&&pr.alternate===null&&(pr.flags|=2),pr}function Ft(pr,hr,vr,br){return hr===null||hr.tag!==6?(hr=Qg(vr,pr.mode,br),hr.return=pr,hr):(hr=$t(hr,vr),hr.return=pr,hr)}function Nt(pr,hr,vr,br){var xr=vr.type;return xr===ya?Lt(pr,hr,vr.props.children,br,vr.key):hr!==null&&(hr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===Ha&&Ng(xr)===hr.type)?(br=$t(hr,vr.props),br.ref=Lg(pr,hr,vr),br.return=pr,br):(br=Rg(vr.type,vr.key,vr.props,null,pr.mode,br),br.ref=Lg(pr,hr,vr),br.return=pr,br)}function jt(pr,hr,vr,br){return hr===null||hr.tag!==4||hr.stateNode.containerInfo!==vr.containerInfo||hr.stateNode.implementation!==vr.implementation?(hr=Sg(vr,pr.mode,br),hr.return=pr,hr):(hr=$t(hr,vr.children||[]),hr.return=pr,hr)}function Lt(pr,hr,vr,br,xr){return hr===null||hr.tag!==7?(hr=Tg(vr,pr.mode,br,xr),hr.return=pr,hr):(hr=$t(hr,vr),hr.return=pr,hr)}function Vt(pr,hr,vr){if(typeof hr=="string"&&hr!==""||typeof hr=="number")return hr=Qg(""+hr,pr.mode,vr),hr.return=pr,hr;if(typeof hr=="object"&&hr!==null){switch(hr.$$typeof){case va:return vr=Rg(hr.type,hr.key,hr.props,null,pr.mode,vr),vr.ref=Lg(pr,null,hr),vr.return=pr,vr;case wa:return hr=Sg(hr,pr.mode,vr),hr.return=pr,hr;case Ha:var br=hr._init;return Vt(pr,br(hr._payload),vr)}if(eb(hr)||Ka(hr))return hr=Tg(hr,pr.mode,vr,null),hr.return=pr,hr;Mg(pr,hr)}return null}function er(pr,hr,vr,br){var xr=hr!==null?hr.key:null;if(typeof vr=="string"&&vr!==""||typeof vr=="number")return xr!==null?null:Ft(pr,hr,""+vr,br);if(typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:return vr.key===xr?Nt(pr,hr,vr,br):null;case wa:return vr.key===xr?jt(pr,hr,vr,br):null;case Ha:return xr=vr._init,er(pr,hr,xr(vr._payload),br)}if(eb(vr)||Ka(vr))return xr!==null?null:Lt(pr,hr,vr,br,null);Mg(pr,vr)}return null}function ir(pr,hr,vr,br,xr){if(typeof br=="string"&&br!==""||typeof br=="number")return pr=pr.get(vr)||null,Ft(hr,pr,""+br,xr);if(typeof br=="object"&&br!==null){switch(br.$$typeof){case va:return pr=pr.get(br.key===null?vr:br.key)||null,Nt(hr,pr,br,xr);case wa:return pr=pr.get(br.key===null?vr:br.key)||null,jt(hr,pr,br,xr);case Ha:var Sr=br._init;return ir(pr,hr,vr,Sr(br._payload),xr)}if(eb(br)||Ka(br))return pr=pr.get(vr)||null,Lt(hr,pr,br,xr,null);Mg(hr,br)}return null}function or(pr,hr,vr,br){for(var xr=null,Sr=null,Er=hr,$r=hr=0,Cr=null;Er!==null&&$r<vr.length;$r++){Er.index>$r?(Cr=Er,Er=null):Cr=Er.sibling;var kr=er(pr,Er,vr[$r],br);if(kr===null){Er===null&&(Er=Cr);break}nt&&Er&&kr.alternate===null&&et(pr,Er),hr=Ct(kr,hr,$r),Sr===null?xr=kr:Sr.sibling=kr,Sr=kr,Er=Cr}if($r===vr.length)return at(pr,Er),I$3&&tg(pr,$r),xr;if(Er===null){for(;$r<vr.length;$r++)Er=Vt(pr,vr[$r],br),Er!==null&&(hr=Ct(Er,hr,$r),Sr===null?xr=Er:Sr.sibling=Er,Sr=Er);return I$3&&tg(pr,$r),xr}for(Er=mt(pr,Er);$r<vr.length;$r++)Cr=ir(Er,pr,$r,vr[$r],br),Cr!==null&&(nt&&Cr.alternate!==null&&Er.delete(Cr.key===null?$r:Cr.key),hr=Ct(Cr,hr,$r),Sr===null?xr=Cr:Sr.sibling=Cr,Sr=Cr);return nt&&Er.forEach(function(gr){return et(pr,gr)}),I$3&&tg(pr,$r),xr}function lr(pr,hr,vr,br){var xr=Ka(vr);if(typeof xr!="function")throw Error(p$3(150));if(vr=xr.call(vr),vr==null)throw Error(p$3(151));for(var Sr=xr=null,Er=hr,$r=hr=0,Cr=null,kr=vr.next();Er!==null&&!kr.done;$r++,kr=vr.next()){Er.index>$r?(Cr=Er,Er=null):Cr=Er.sibling;var gr=er(pr,Er,kr.value,br);if(gr===null){Er===null&&(Er=Cr);break}nt&&Er&&gr.alternate===null&&et(pr,Er),hr=Ct(gr,hr,$r),Sr===null?xr=gr:Sr.sibling=gr,Sr=gr,Er=Cr}if(kr.done)return at(pr,Er),I$3&&tg(pr,$r),xr;if(Er===null){for(;!kr.done;$r++,kr=vr.next())kr=Vt(pr,kr.value,br),kr!==null&&(hr=Ct(kr,hr,$r),Sr===null?xr=kr:Sr.sibling=kr,Sr=kr);return I$3&&tg(pr,$r),xr}for(Er=mt(pr,Er);!kr.done;$r++,kr=vr.next())kr=ir(Er,pr,$r,kr.value,br),kr!==null&&(nt&&kr.alternate!==null&&Er.delete(kr.key===null?$r:kr.key),hr=Ct(kr,hr,$r),Sr===null?xr=kr:Sr.sibling=kr,Sr=kr);return nt&&Er.forEach(function(Ut){return et(pr,Ut)}),I$3&&tg(pr,$r),xr}function dr(pr,hr,vr,br){if(typeof vr=="object"&&vr!==null&&vr.type===ya&&vr.key===null&&(vr=vr.props.children),typeof vr=="object"&&vr!==null){switch(vr.$$typeof){case va:e:{for(var xr=vr.key,Sr=hr;Sr!==null;){if(Sr.key===xr){if(xr=vr.type,xr===ya){if(Sr.tag===7){at(pr,Sr.sibling),hr=$t(Sr,vr.props.children),hr.return=pr,pr=hr;break e}}else if(Sr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===Ha&&Ng(xr)===Sr.type){at(pr,Sr.sibling),hr=$t(Sr,vr.props),hr.ref=Lg(pr,Sr,vr),hr.return=pr,pr=hr;break e}at(pr,Sr);break}else et(pr,Sr);Sr=Sr.sibling}vr.type===ya?(hr=Tg(vr.props.children,pr.mode,br,vr.key),hr.return=pr,pr=hr):(br=Rg(vr.type,vr.key,vr.props,null,pr.mode,br),br.ref=Lg(pr,hr,vr),br.return=pr,pr=br)}return Dt(pr);case wa:e:{for(Sr=vr.key;hr!==null;){if(hr.key===Sr)if(hr.tag===4&&hr.stateNode.containerInfo===vr.containerInfo&&hr.stateNode.implementation===vr.implementation){at(pr,hr.sibling),hr=$t(hr,vr.children||[]),hr.return=pr,pr=hr;break e}else{at(pr,hr);break}else et(pr,hr);hr=hr.sibling}hr=Sg(vr,pr.mode,br),hr.return=pr,pr=hr}return Dt(pr);case Ha:return Sr=vr._init,dr(pr,hr,Sr(vr._payload),br)}if(eb(vr))return or(pr,hr,vr,br);if(Ka(vr))return lr(pr,hr,vr,br);Mg(pr,vr)}return typeof vr=="string"&&vr!==""||typeof vr=="number"?(vr=""+vr,hr!==null&&hr.tag===6?(at(pr,hr.sibling),hr=$t(hr,vr),hr.return=pr,pr=hr):(at(pr,hr),hr=Qg(vr,pr.mode,br),hr.return=pr,pr=hr),Dt(pr)):at(pr,hr)}return dr}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(nt){var et=Wg.current;E(Wg),nt._currentValue=et}function bh(nt,et,at){for(;nt!==null;){var mt=nt.alternate;if((nt.childLanes&et)!==et?(nt.childLanes|=et,mt!==null&&(mt.childLanes|=et)):mt!==null&&(mt.childLanes&et)!==et&&(mt.childLanes|=et),nt===at)break;nt=nt.return}}function ch(nt,et){Xg=nt,Zg=Yg=null,nt=nt.dependencies,nt!==null&&nt.firstContext!==null&&(nt.lanes&et&&(dh$1=!0),nt.firstContext=null)}function eh(nt){var et=nt._currentValue;if(Zg!==nt)if(nt={context:nt,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$3(308));Yg=nt,Xg.dependencies={lanes:0,firstContext:nt}}else Yg=Yg.next=nt;return et}var fh=null;function gh(nt){fh===null?fh=[nt]:fh.push(nt)}function hh(nt,et,at,mt){var $t=et.interleaved;return $t===null?(at.next=at,gh(et)):(at.next=$t.next,$t.next=at),et.interleaved=at,ih(nt,mt)}function ih(nt,et){nt.lanes|=et;var at=nt.alternate;for(at!==null&&(at.lanes|=et),at=nt,nt=nt.return;nt!==null;)nt.childLanes|=et,at=nt.alternate,at!==null&&(at.childLanes|=et),at=nt,nt=nt.return;return at.tag===3?at.stateNode:null}var jh=!1;function kh(nt){nt.updateQueue={baseState:nt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(nt,et){nt=nt.updateQueue,et.updateQueue===nt&&(et.updateQueue={baseState:nt.baseState,firstBaseUpdate:nt.firstBaseUpdate,lastBaseUpdate:nt.lastBaseUpdate,shared:nt.shared,effects:nt.effects})}function mh(nt,et){return{eventTime:nt,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(nt,et,at){var mt=nt.updateQueue;if(mt===null)return null;if(mt=mt.shared,K$1&2){var $t=mt.pending;return $t===null?et.next=et:(et.next=$t.next,$t.next=et),mt.pending=et,ih(nt,at)}return $t=mt.interleaved,$t===null?(et.next=et,gh(mt)):(et.next=$t.next,$t.next=et),mt.interleaved=et,ih(nt,at)}function oh(nt,et,at){if(et=et.updateQueue,et!==null&&(et=et.shared,(at&4194240)!==0)){var mt=et.lanes;mt&=nt.pendingLanes,at|=mt,et.lanes=at,Cc(nt,at)}}function ph(nt,et){var at=nt.updateQueue,mt=nt.alternate;if(mt!==null&&(mt=mt.updateQueue,at===mt)){var $t=null,Ct=null;if(at=at.firstBaseUpdate,at!==null){do{var Dt={eventTime:at.eventTime,lane:at.lane,tag:at.tag,payload:at.payload,callback:at.callback,next:null};Ct===null?$t=Ct=Dt:Ct=Ct.next=Dt,at=at.next}while(at!==null);Ct===null?$t=Ct=et:Ct=Ct.next=et}else $t=Ct=et;at={baseState:mt.baseState,firstBaseUpdate:$t,lastBaseUpdate:Ct,shared:mt.shared,effects:mt.effects},nt.updateQueue=at;return}nt=at.lastBaseUpdate,nt===null?at.firstBaseUpdate=et:nt.next=et,at.lastBaseUpdate=et}function qh(nt,et,at,mt){var $t=nt.updateQueue;jh=!1;var Ct=$t.firstBaseUpdate,Dt=$t.lastBaseUpdate,Ft=$t.shared.pending;if(Ft!==null){$t.shared.pending=null;var Nt=Ft,jt=Nt.next;Nt.next=null,Dt===null?Ct=jt:Dt.next=jt,Dt=Nt;var Lt=nt.alternate;Lt!==null&&(Lt=Lt.updateQueue,Ft=Lt.lastBaseUpdate,Ft!==Dt&&(Ft===null?Lt.firstBaseUpdate=jt:Ft.next=jt,Lt.lastBaseUpdate=Nt))}if(Ct!==null){var Vt=$t.baseState;Dt=0,Lt=jt=Nt=null,Ft=Ct;do{var er=Ft.lane,ir=Ft.eventTime;if((mt&er)===er){Lt!==null&&(Lt=Lt.next={eventTime:ir,lane:0,tag:Ft.tag,payload:Ft.payload,callback:Ft.callback,next:null});e:{var or=nt,lr=Ft;switch(er=et,ir=at,lr.tag){case 1:if(or=lr.payload,typeof or=="function"){Vt=or.call(ir,Vt,er);break e}Vt=or;break e;case 3:or.flags=or.flags&-65537|128;case 0:if(or=lr.payload,er=typeof or=="function"?or.call(ir,Vt,er):or,er==null)break e;Vt=A$2({},Vt,er);break e;case 2:jh=!0}}Ft.callback!==null&&Ft.lane!==0&&(nt.flags|=64,er=$t.effects,er===null?$t.effects=[Ft]:er.push(Ft))}else ir={eventTime:ir,lane:er,tag:Ft.tag,payload:Ft.payload,callback:Ft.callback,next:null},Lt===null?(jt=Lt=ir,Nt=Vt):Lt=Lt.next=ir,Dt|=er;if(Ft=Ft.next,Ft===null){if(Ft=$t.shared.pending,Ft===null)break;er=Ft,Ft=er.next,er.next=null,$t.lastBaseUpdate=er,$t.shared.pending=null}}while(!0);if(Lt===null&&(Nt=Vt),$t.baseState=Nt,$t.firstBaseUpdate=jt,$t.lastBaseUpdate=Lt,et=$t.shared.interleaved,et!==null){$t=et;do Dt|=$t.lane,$t=$t.next;while($t!==et)}else Ct===null&&($t.shared.lanes=0);rh|=Dt,nt.lanes=Dt,nt.memoizedState=Vt}}function sh(nt,et,at){if(nt=et.effects,et.effects=null,nt!==null)for(et=0;et<nt.length;et++){var mt=nt[et],$t=mt.callback;if($t!==null){if(mt.callback=null,mt=at,typeof $t!="function")throw Error(p$3(191,$t));$t.call(mt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(nt){if(nt===th)throw Error(p$3(174));return nt}function yh(nt,et){switch(G$1(wh,et),G$1(vh$1,nt),G$1(uh,th),nt=et.nodeType,nt){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:nt=nt===8?et.parentNode:et,et=nt.namespaceURI||null,nt=nt.tagName,et=lb(et,nt)}E(uh),G$1(uh,et)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(nt){xh(wh.current);var et=xh(uh.current),at=lb(et,nt.type);et!==at&&(G$1(vh$1,nt),G$1(uh,at))}function Bh(nt){vh$1.current===nt&&(E(uh),E(vh$1))}var L$1=Uf(0);function Ch(nt){for(var et=nt;et!==null;){if(et.tag===13){var at=et.memoizedState;if(at!==null&&(at=at.dehydrated,at===null||at.data==="$?"||at.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===nt)break;for(;et.sibling===null;){if(et.return===null||et.return===nt)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var nt=0;nt<Dh.length;nt++)Dh[nt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N=null,O$3=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$3(321))}function Mh(nt,et){if(et===null)return!1;for(var at=0;at<et.length&&at<nt.length;at++)if(!He(nt[at],et[at]))return!1;return!0}function Nh(nt,et,at,mt,$t,Ct){if(Hh=Ct,M$2=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=nt===null||nt.memoizedState===null?Oh:Ph,nt=at(mt,$t),Jh){Ct=0;do{if(Jh=!1,Kh=0,25<=Ct)throw Error(p$3(301));Ct+=1,O$3=N=null,et.updateQueue=null,Fh.current=Qh,nt=at(mt,$t)}while(Jh)}if(Fh.current=Rh,et=N!==null&&N.next!==null,Hh=0,O$3=N=M$2=null,Ih=!1,et)throw Error(p$3(300));return nt}function Sh(){var nt=Kh!==0;return Kh=0,nt}function Th(){var nt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$3===null?M$2.memoizedState=O$3=nt:O$3=O$3.next=nt,O$3}function Uh(){if(N===null){var nt=M$2.alternate;nt=nt!==null?nt.memoizedState:null}else nt=N.next;var et=O$3===null?M$2.memoizedState:O$3.next;if(et!==null)O$3=et,N=nt;else{if(nt===null)throw Error(p$3(310));N=nt,nt={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$3===null?M$2.memoizedState=O$3=nt:O$3=O$3.next=nt}return O$3}function Vh(nt,et){return typeof et=="function"?et(nt):et}function Wh(nt){var et=Uh(),at=et.queue;if(at===null)throw Error(p$3(311));at.lastRenderedReducer=nt;var mt=N,$t=mt.baseQueue,Ct=at.pending;if(Ct!==null){if($t!==null){var Dt=$t.next;$t.next=Ct.next,Ct.next=Dt}mt.baseQueue=$t=Ct,at.pending=null}if($t!==null){Ct=$t.next,mt=mt.baseState;var Ft=Dt=null,Nt=null,jt=Ct;do{var Lt=jt.lane;if((Hh&Lt)===Lt)Nt!==null&&(Nt=Nt.next={lane:0,action:jt.action,hasEagerState:jt.hasEagerState,eagerState:jt.eagerState,next:null}),mt=jt.hasEagerState?jt.eagerState:nt(mt,jt.action);else{var Vt={lane:Lt,action:jt.action,hasEagerState:jt.hasEagerState,eagerState:jt.eagerState,next:null};Nt===null?(Ft=Nt=Vt,Dt=mt):Nt=Nt.next=Vt,M$2.lanes|=Lt,rh|=Lt}jt=jt.next}while(jt!==null&&jt!==Ct);Nt===null?Dt=mt:Nt.next=Ft,He(mt,et.memoizedState)||(dh$1=!0),et.memoizedState=mt,et.baseState=Dt,et.baseQueue=Nt,at.lastRenderedState=mt}if(nt=at.interleaved,nt!==null){$t=nt;do Ct=$t.lane,M$2.lanes|=Ct,rh|=Ct,$t=$t.next;while($t!==nt)}else $t===null&&(at.lanes=0);return[et.memoizedState,at.dispatch]}function Xh(nt){var et=Uh(),at=et.queue;if(at===null)throw Error(p$3(311));at.lastRenderedReducer=nt;var mt=at.dispatch,$t=at.pending,Ct=et.memoizedState;if($t!==null){at.pending=null;var Dt=$t=$t.next;do Ct=nt(Ct,Dt.action),Dt=Dt.next;while(Dt!==$t);He(Ct,et.memoizedState)||(dh$1=!0),et.memoizedState=Ct,et.baseQueue===null&&(et.baseState=Ct),at.lastRenderedState=Ct}return[Ct,mt]}function Yh(){}function Zh(nt,et){var at=M$2,mt=Uh(),$t=et(),Ct=!He(mt.memoizedState,$t);if(Ct&&(mt.memoizedState=$t,dh$1=!0),mt=mt.queue,$h(ai.bind(null,at,mt,nt),[nt]),mt.getSnapshot!==et||Ct||O$3!==null&&O$3.memoizedState.tag&1){if(at.flags|=2048,bi(9,ci.bind(null,at,mt,$t,et),void 0,null),Q===null)throw Error(p$3(349));Hh&30||di(at,et,$t)}return $t}function di(nt,et,at){nt.flags|=16384,nt={getSnapshot:et,value:at},et=M$2.updateQueue,et===null?(et={lastEffect:null,stores:null},M$2.updateQueue=et,et.stores=[nt]):(at=et.stores,at===null?et.stores=[nt]:at.push(nt))}function ci(nt,et,at,mt){et.value=at,et.getSnapshot=mt,ei(et)&&fi(nt)}function ai(nt,et,at){return at(function(){ei(et)&&fi(nt)})}function ei(nt){var et=nt.getSnapshot;nt=nt.value;try{var at=et();return!He(nt,at)}catch{return!0}}function fi(nt){var et=ih(nt,1);et!==null&&gi(et,nt,1,-1)}function hi$1(nt){var et=Th();return typeof nt=="function"&&(nt=nt()),et.memoizedState=et.baseState=nt,nt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:nt},et.queue=nt,nt=nt.dispatch=ii.bind(null,M$2,nt),[et.memoizedState,nt]}function bi(nt,et,at,mt){return nt={tag:nt,create:et,destroy:at,deps:mt,next:null},et=M$2.updateQueue,et===null?(et={lastEffect:null,stores:null},M$2.updateQueue=et,et.lastEffect=nt.next=nt):(at=et.lastEffect,at===null?et.lastEffect=nt.next=nt:(mt=at.next,at.next=nt,nt.next=mt,et.lastEffect=nt)),nt}function ji$1(){return Uh().memoizedState}function ki(nt,et,at,mt){var $t=Th();M$2.flags|=nt,$t.memoizedState=bi(1|et,at,void 0,mt===void 0?null:mt)}function li(nt,et,at,mt){var $t=Uh();mt=mt===void 0?null:mt;var Ct=void 0;if(N!==null){var Dt=N.memoizedState;if(Ct=Dt.destroy,mt!==null&&Mh(mt,Dt.deps)){$t.memoizedState=bi(et,at,Ct,mt);return}}M$2.flags|=nt,$t.memoizedState=bi(1|et,at,Ct,mt)}function mi(nt,et){return ki(8390656,8,nt,et)}function $h(nt,et){return li(2048,8,nt,et)}function ni(nt,et){return li(4,2,nt,et)}function oi(nt,et){return li(4,4,nt,et)}function pi(nt,et){if(typeof et=="function")return nt=nt(),et(nt),function(){et(null)};if(et!=null)return nt=nt(),et.current=nt,function(){et.current=null}}function qi$1(nt,et,at){return at=at!=null?at.concat([nt]):null,li(4,4,pi.bind(null,et,nt),at)}function ri(){}function si(nt,et){var at=Uh();et=et===void 0?null:et;var mt=at.memoizedState;return mt!==null&&et!==null&&Mh(et,mt[1])?mt[0]:(at.memoizedState=[nt,et],nt)}function ti(nt,et){var at=Uh();et=et===void 0?null:et;var mt=at.memoizedState;return mt!==null&&et!==null&&Mh(et,mt[1])?mt[0]:(nt=nt(),at.memoizedState=[nt,et],nt)}function ui(nt,et,at){return Hh&21?(He(at,et)||(at=yc(),M$2.lanes|=at,rh|=at,nt.baseState=!0),et):(nt.baseState&&(nt.baseState=!1,dh$1=!0),nt.memoizedState=at)}function vi(nt,et){var at=C;C=at!==0&&4>at?at:4,nt(!0);var mt=Gh.transition;Gh.transition={};try{nt(!1),et()}finally{C=at,Gh.transition=mt}}function wi(){return Uh().memoizedState}function xi$1(nt,et,at){var mt=yi(nt);if(at={lane:mt,action:at,hasEagerState:!1,eagerState:null,next:null},zi(nt))Ai$1(et,at);else if(at=hh(nt,et,at,mt),at!==null){var $t=R$1();gi(at,nt,mt,$t),Bi(at,et,mt)}}function ii(nt,et,at){var mt=yi(nt),$t={lane:mt,action:at,hasEagerState:!1,eagerState:null,next:null};if(zi(nt))Ai$1(et,$t);else{var Ct=nt.alternate;if(nt.lanes===0&&(Ct===null||Ct.lanes===0)&&(Ct=et.lastRenderedReducer,Ct!==null))try{var Dt=et.lastRenderedState,Ft=Ct(Dt,at);if($t.hasEagerState=!0,$t.eagerState=Ft,He(Ft,Dt)){var Nt=et.interleaved;Nt===null?($t.next=$t,gh(et)):($t.next=Nt.next,Nt.next=$t),et.interleaved=$t;return}}catch{}finally{}at=hh(nt,et,$t,mt),at!==null&&($t=R$1(),gi(at,nt,mt,$t),Bi(at,et,mt))}}function zi(nt){var et=nt.alternate;return nt===M$2||et!==null&&et===M$2}function Ai$1(nt,et){Jh=Ih=!0;var at=nt.pending;at===null?et.next=et:(et.next=at.next,at.next=et),nt.pending=et}function Bi(nt,et,at){if(at&4194240){var mt=et.lanes;mt&=nt.pendingLanes,at|=mt,et.lanes=at,Cc(nt,at)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(nt,et){return Th().memoizedState=[nt,et===void 0?null:et],nt},useContext:eh,useEffect:mi,useImperativeHandle:function(nt,et,at){return at=at!=null?at.concat([nt]):null,ki(4194308,4,pi.bind(null,et,nt),at)},useLayoutEffect:function(nt,et){return ki(4194308,4,nt,et)},useInsertionEffect:function(nt,et){return ki(4,2,nt,et)},useMemo:function(nt,et){var at=Th();return et=et===void 0?null:et,nt=nt(),at.memoizedState=[nt,et],nt},useReducer:function(nt,et,at){var mt=Th();return et=at!==void 0?at(et):et,mt.memoizedState=mt.baseState=et,nt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nt,lastRenderedState:et},mt.queue=nt,nt=nt.dispatch=xi$1.bind(null,M$2,nt),[mt.memoizedState,nt]},useRef:function(nt){var et=Th();return nt={current:nt},et.memoizedState=nt},useState:hi$1,useDebugValue:ri,useDeferredValue:function(nt){return Th().memoizedState=nt},useTransition:function(){var nt=hi$1(!1),et=nt[0];return nt=vi.bind(null,nt[1]),Th().memoizedState=nt,[et,nt]},useMutableSource:function(){},useSyncExternalStore:function(nt,et,at){var mt=M$2,$t=Th();if(I$3){if(at===void 0)throw Error(p$3(407));at=at()}else{if(at=et(),Q===null)throw Error(p$3(349));Hh&30||di(mt,et,at)}$t.memoizedState=at;var Ct={value:at,getSnapshot:et};return $t.queue=Ct,mi(ai.bind(null,mt,Ct,nt),[nt]),mt.flags|=2048,bi(9,ci.bind(null,mt,Ct,at,et),void 0,null),at},useId:function(){var nt=Th(),et=Q.identifierPrefix;if(I$3){var at=sg,mt=rg;at=(mt&~(1<<32-oc(mt)-1)).toString(32)+at,et=":"+et+"R"+at,at=Kh++,0<at&&(et+="H"+at.toString(32)),et+=":"}else at=Lh++,et=":"+et+"r"+at.toString(32)+":";return nt.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji$1,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(nt){var et=Uh();return ui(et,N.memoizedState,nt)},useTransition:function(){var nt=Wh(Vh)[0],et=Uh().memoizedState;return[nt,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji$1,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(nt){var et=Uh();return N===null?et.memoizedState=nt:ui(et,N.memoizedState,nt)},useTransition:function(){var nt=Xh(Vh)[0],et=Uh().memoizedState;return[nt,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(nt,et){if(nt&&nt.defaultProps){et=A$2({},et),nt=nt.defaultProps;for(var at in nt)et[at]===void 0&&(et[at]=nt[at]);return et}return et}function Di$1(nt,et,at,mt){et=nt.memoizedState,at=at(mt,et),at=at==null?et:A$2({},et,at),nt.memoizedState=at,nt.lanes===0&&(nt.updateQueue.baseState=at)}var Ei={isMounted:function(nt){return(nt=nt._reactInternals)?Vb(nt)===nt:!1},enqueueSetState:function(nt,et,at){nt=nt._reactInternals;var mt=R$1(),$t=yi(nt),Ct=mh(mt,$t);Ct.payload=et,at!=null&&(Ct.callback=at),et=nh(nt,Ct,$t),et!==null&&(gi(et,nt,$t,mt),oh(et,nt,$t))},enqueueReplaceState:function(nt,et,at){nt=nt._reactInternals;var mt=R$1(),$t=yi(nt),Ct=mh(mt,$t);Ct.tag=1,Ct.payload=et,at!=null&&(Ct.callback=at),et=nh(nt,Ct,$t),et!==null&&(gi(et,nt,$t,mt),oh(et,nt,$t))},enqueueForceUpdate:function(nt,et){nt=nt._reactInternals;var at=R$1(),mt=yi(nt),$t=mh(at,mt);$t.tag=2,et!=null&&($t.callback=et),et=nh(nt,$t,mt),et!==null&&(gi(et,nt,mt,at),oh(et,nt,mt))}};function Fi$1(nt,et,at,mt,$t,Ct,Dt){return nt=nt.stateNode,typeof nt.shouldComponentUpdate=="function"?nt.shouldComponentUpdate(mt,Ct,Dt):et.prototype&&et.prototype.isPureReactComponent?!Ie$1(at,mt)||!Ie$1($t,Ct):!0}function Gi(nt,et,at){var mt=!1,$t=Vf,Ct=et.contextType;return typeof Ct=="object"&&Ct!==null?Ct=eh(Ct):($t=Zf(et)?Xf:H$2.current,mt=et.contextTypes,Ct=(mt=mt!=null)?Yf(nt,$t):Vf),et=new et(at,Ct),nt.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,nt.stateNode=et,et._reactInternals=nt,mt&&(nt=nt.stateNode,nt.__reactInternalMemoizedUnmaskedChildContext=$t,nt.__reactInternalMemoizedMaskedChildContext=Ct),et}function Hi(nt,et,at,mt){nt=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(at,mt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(at,mt),et.state!==nt&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(nt,et,at,mt){var $t=nt.stateNode;$t.props=at,$t.state=nt.memoizedState,$t.refs={},kh(nt);var Ct=et.contextType;typeof Ct=="object"&&Ct!==null?$t.context=eh(Ct):(Ct=Zf(et)?Xf:H$2.current,$t.context=Yf(nt,Ct)),$t.state=nt.memoizedState,Ct=et.getDerivedStateFromProps,typeof Ct=="function"&&(Di$1(nt,et,Ct,at),$t.state=nt.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof $t.getSnapshotBeforeUpdate=="function"||typeof $t.UNSAFE_componentWillMount!="function"&&typeof $t.componentWillMount!="function"||(et=$t.state,typeof $t.componentWillMount=="function"&&$t.componentWillMount(),typeof $t.UNSAFE_componentWillMount=="function"&&$t.UNSAFE_componentWillMount(),et!==$t.state&&Ei.enqueueReplaceState($t,$t.state,null),qh(nt,at,$t,mt),$t.state=nt.memoizedState),typeof $t.componentDidMount=="function"&&(nt.flags|=4194308)}function Ji(nt,et){try{var at="",mt=et;do at+=Pa(mt),mt=mt.return;while(mt);var $t=at}catch(Ct){$t=`
Error generating stack: `+Ct.message+`
`+Ct.stack}return{value:nt,source:et,stack:$t,digest:null}}function Ki(nt,et,at){return{value:nt,source:null,stack:at??null,digest:et??null}}function Li$1(nt,et){try{console.error(et.value)}catch(at){setTimeout(function(){throw at})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(nt,et,at){at=mh(-1,at),at.tag=3,at.payload={element:null};var mt=et.value;return at.callback=function(){Oi$1||(Oi$1=!0,Pi=mt),Li$1(nt,et)},at}function Qi(nt,et,at){at=mh(-1,at),at.tag=3;var mt=nt.type.getDerivedStateFromError;if(typeof mt=="function"){var $t=et.value;at.payload=function(){return mt($t)},at.callback=function(){Li$1(nt,et)}}var Ct=nt.stateNode;return Ct!==null&&typeof Ct.componentDidCatch=="function"&&(at.callback=function(){Li$1(nt,et),typeof mt!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var Dt=et.stack;this.componentDidCatch(et.value,{componentStack:Dt!==null?Dt:""})}),at}function Si(nt,et,at){var mt=nt.pingCache;if(mt===null){mt=nt.pingCache=new Mi$1;var $t=new Set;mt.set(et,$t)}else $t=mt.get(et),$t===void 0&&($t=new Set,mt.set(et,$t));$t.has(at)||($t.add(at),nt=Ti.bind(null,nt,et,at),et.then(nt,nt))}function Ui(nt){do{var et;if((et=nt.tag===13)&&(et=nt.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return nt;nt=nt.return}while(nt!==null);return null}function Vi(nt,et,at,mt,$t){return nt.mode&1?(nt.flags|=65536,nt.lanes=$t,nt):(nt===et?nt.flags|=65536:(nt.flags|=128,at.flags|=131072,at.flags&=-52805,at.tag===1&&(at.alternate===null?at.tag=17:(et=mh(-1,1),et.tag=2,nh(at,et,1))),at.lanes|=1),nt)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(nt,et,at,mt){et.child=nt===null?Vg(et,null,at,mt):Ug(et,nt.child,at,mt)}function Yi(nt,et,at,mt,$t){at=at.render;var Ct=et.ref;return ch(et,$t),mt=Nh(nt,et,at,mt,Ct,$t),at=Sh(),nt!==null&&!dh$1?(et.updateQueue=nt.updateQueue,et.flags&=-2053,nt.lanes&=~$t,Zi(nt,et,$t)):(I$3&&at&&vg(et),et.flags|=1,Xi(nt,et,mt,$t),et.child)}function $i(nt,et,at,mt,$t){if(nt===null){var Ct=at.type;return typeof Ct=="function"&&!aj(Ct)&&Ct.defaultProps===void 0&&at.compare===null&&at.defaultProps===void 0?(et.tag=15,et.type=Ct,bj(nt,et,Ct,mt,$t)):(nt=Rg(at.type,null,mt,et,et.mode,$t),nt.ref=et.ref,nt.return=et,et.child=nt)}if(Ct=nt.child,!(nt.lanes&$t)){var Dt=Ct.memoizedProps;if(at=at.compare,at=at!==null?at:Ie$1,at(Dt,mt)&&nt.ref===et.ref)return Zi(nt,et,$t)}return et.flags|=1,nt=Pg(Ct,mt),nt.ref=et.ref,nt.return=et,et.child=nt}function bj(nt,et,at,mt,$t){if(nt!==null){var Ct=nt.memoizedProps;if(Ie$1(Ct,mt)&&nt.ref===et.ref)if(dh$1=!1,et.pendingProps=mt=Ct,(nt.lanes&$t)!==0)nt.flags&131072&&(dh$1=!0);else return et.lanes=nt.lanes,Zi(nt,et,$t)}return cj(nt,et,at,mt,$t)}function dj(nt,et,at){var mt=et.pendingProps,$t=mt.children,Ct=nt!==null?nt.memoizedState:null;if(mt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=at;else{if(!(at&1073741824))return nt=Ct!==null?Ct.baseLanes|at:at,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:nt,cachePool:null,transitions:null},et.updateQueue=null,G$1(ej,fj),fj|=nt,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt=Ct!==null?Ct.baseLanes:at,G$1(ej,fj),fj|=mt}else Ct!==null?(mt=Ct.baseLanes|at,et.memoizedState=null):mt=at,G$1(ej,fj),fj|=mt;return Xi(nt,et,$t,at),et.child}function gj(nt,et){var at=et.ref;(nt===null&&at!==null||nt!==null&&nt.ref!==at)&&(et.flags|=512,et.flags|=2097152)}function cj(nt,et,at,mt,$t){var Ct=Zf(at)?Xf:H$2.current;return Ct=Yf(et,Ct),ch(et,$t),at=Nh(nt,et,at,mt,Ct,$t),mt=Sh(),nt!==null&&!dh$1?(et.updateQueue=nt.updateQueue,et.flags&=-2053,nt.lanes&=~$t,Zi(nt,et,$t)):(I$3&&mt&&vg(et),et.flags|=1,Xi(nt,et,at,$t),et.child)}function hj(nt,et,at,mt,$t){if(Zf(at)){var Ct=!0;cg(et)}else Ct=!1;if(ch(et,$t),et.stateNode===null)ij(nt,et),Gi(et,at,mt),Ii(et,at,mt,$t),mt=!0;else if(nt===null){var Dt=et.stateNode,Ft=et.memoizedProps;Dt.props=Ft;var Nt=Dt.context,jt=at.contextType;typeof jt=="object"&&jt!==null?jt=eh(jt):(jt=Zf(at)?Xf:H$2.current,jt=Yf(et,jt));var Lt=at.getDerivedStateFromProps,Vt=typeof Lt=="function"||typeof Dt.getSnapshotBeforeUpdate=="function";Vt||typeof Dt.UNSAFE_componentWillReceiveProps!="function"&&typeof Dt.componentWillReceiveProps!="function"||(Ft!==mt||Nt!==jt)&&Hi(et,Dt,mt,jt),jh=!1;var er=et.memoizedState;Dt.state=er,qh(et,mt,Dt,$t),Nt=et.memoizedState,Ft!==mt||er!==Nt||Wf.current||jh?(typeof Lt=="function"&&(Di$1(et,at,Lt,mt),Nt=et.memoizedState),(Ft=jh||Fi$1(et,at,Ft,mt,er,Nt,jt))?(Vt||typeof Dt.UNSAFE_componentWillMount!="function"&&typeof Dt.componentWillMount!="function"||(typeof Dt.componentWillMount=="function"&&Dt.componentWillMount(),typeof Dt.UNSAFE_componentWillMount=="function"&&Dt.UNSAFE_componentWillMount()),typeof Dt.componentDidMount=="function"&&(et.flags|=4194308)):(typeof Dt.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=mt,et.memoizedState=Nt),Dt.props=mt,Dt.state=Nt,Dt.context=jt,mt=Ft):(typeof Dt.componentDidMount=="function"&&(et.flags|=4194308),mt=!1)}else{Dt=et.stateNode,lh(nt,et),Ft=et.memoizedProps,jt=et.type===et.elementType?Ft:Ci(et.type,Ft),Dt.props=jt,Vt=et.pendingProps,er=Dt.context,Nt=at.contextType,typeof Nt=="object"&&Nt!==null?Nt=eh(Nt):(Nt=Zf(at)?Xf:H$2.current,Nt=Yf(et,Nt));var ir=at.getDerivedStateFromProps;(Lt=typeof ir=="function"||typeof Dt.getSnapshotBeforeUpdate=="function")||typeof Dt.UNSAFE_componentWillReceiveProps!="function"&&typeof Dt.componentWillReceiveProps!="function"||(Ft!==Vt||er!==Nt)&&Hi(et,Dt,mt,Nt),jh=!1,er=et.memoizedState,Dt.state=er,qh(et,mt,Dt,$t);var or=et.memoizedState;Ft!==Vt||er!==or||Wf.current||jh?(typeof ir=="function"&&(Di$1(et,at,ir,mt),or=et.memoizedState),(jt=jh||Fi$1(et,at,jt,mt,er,or,Nt)||!1)?(Lt||typeof Dt.UNSAFE_componentWillUpdate!="function"&&typeof Dt.componentWillUpdate!="function"||(typeof Dt.componentWillUpdate=="function"&&Dt.componentWillUpdate(mt,or,Nt),typeof Dt.UNSAFE_componentWillUpdate=="function"&&Dt.UNSAFE_componentWillUpdate(mt,or,Nt)),typeof Dt.componentDidUpdate=="function"&&(et.flags|=4),typeof Dt.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof Dt.componentDidUpdate!="function"||Ft===nt.memoizedProps&&er===nt.memoizedState||(et.flags|=4),typeof Dt.getSnapshotBeforeUpdate!="function"||Ft===nt.memoizedProps&&er===nt.memoizedState||(et.flags|=1024),et.memoizedProps=mt,et.memoizedState=or),Dt.props=mt,Dt.state=or,Dt.context=Nt,mt=jt):(typeof Dt.componentDidUpdate!="function"||Ft===nt.memoizedProps&&er===nt.memoizedState||(et.flags|=4),typeof Dt.getSnapshotBeforeUpdate!="function"||Ft===nt.memoizedProps&&er===nt.memoizedState||(et.flags|=1024),mt=!1)}return jj(nt,et,at,mt,Ct,$t)}function jj(nt,et,at,mt,$t,Ct){gj(nt,et);var Dt=(et.flags&128)!==0;if(!mt&&!Dt)return $t&&dg(et,at,!1),Zi(nt,et,Ct);mt=et.stateNode,Wi.current=et;var Ft=Dt&&typeof at.getDerivedStateFromError!="function"?null:mt.render();return et.flags|=1,nt!==null&&Dt?(et.child=Ug(et,nt.child,null,Ct),et.child=Ug(et,null,Ft,Ct)):Xi(nt,et,Ft,Ct),et.memoizedState=mt.state,$t&&dg(et,at,!0),et.child}function kj(nt){var et=nt.stateNode;et.pendingContext?ag(nt,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(nt,et.context,!1),yh(nt,et.containerInfo)}function lj(nt,et,at,mt,$t){return Ig(),Jg($t),et.flags|=256,Xi(nt,et,at,mt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(nt){return{baseLanes:nt,cachePool:null,transitions:null}}function oj(nt,et,at){var mt=et.pendingProps,$t=L$1.current,Ct=!1,Dt=(et.flags&128)!==0,Ft;if((Ft=Dt)||(Ft=nt!==null&&nt.memoizedState===null?!1:($t&2)!==0),Ft?(Ct=!0,et.flags&=-129):(nt===null||nt.memoizedState!==null)&&($t|=1),G$1(L$1,$t&1),nt===null)return Eg(et),nt=et.memoizedState,nt!==null&&(nt=nt.dehydrated,nt!==null)?(et.mode&1?nt.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(Dt=mt.children,nt=mt.fallback,Ct?(mt=et.mode,Ct=et.child,Dt={mode:"hidden",children:Dt},!(mt&1)&&Ct!==null?(Ct.childLanes=0,Ct.pendingProps=Dt):Ct=pj(Dt,mt,0,null),nt=Tg(nt,mt,at,null),Ct.return=et,nt.return=et,Ct.sibling=nt,et.child=Ct,et.child.memoizedState=nj(at),et.memoizedState=mj,nt):qj(et,Dt));if($t=nt.memoizedState,$t!==null&&(Ft=$t.dehydrated,Ft!==null))return rj(nt,et,Dt,mt,Ft,$t,at);if(Ct){Ct=mt.fallback,Dt=et.mode,$t=nt.child,Ft=$t.sibling;var Nt={mode:"hidden",children:mt.children};return!(Dt&1)&&et.child!==$t?(mt=et.child,mt.childLanes=0,mt.pendingProps=Nt,et.deletions=null):(mt=Pg($t,Nt),mt.subtreeFlags=$t.subtreeFlags&14680064),Ft!==null?Ct=Pg(Ft,Ct):(Ct=Tg(Ct,Dt,at,null),Ct.flags|=2),Ct.return=et,mt.return=et,mt.sibling=Ct,et.child=mt,mt=Ct,Ct=et.child,Dt=nt.child.memoizedState,Dt=Dt===null?nj(at):{baseLanes:Dt.baseLanes|at,cachePool:null,transitions:Dt.transitions},Ct.memoizedState=Dt,Ct.childLanes=nt.childLanes&~at,et.memoizedState=mj,mt}return Ct=nt.child,nt=Ct.sibling,mt=Pg(Ct,{mode:"visible",children:mt.children}),!(et.mode&1)&&(mt.lanes=at),mt.return=et,mt.sibling=null,nt!==null&&(at=et.deletions,at===null?(et.deletions=[nt],et.flags|=16):at.push(nt)),et.child=mt,et.memoizedState=null,mt}function qj(nt,et){return et=pj({mode:"visible",children:et},nt.mode,0,null),et.return=nt,nt.child=et}function sj(nt,et,at,mt){return mt!==null&&Jg(mt),Ug(et,nt.child,null,at),nt=qj(et,et.pendingProps.children),nt.flags|=2,et.memoizedState=null,nt}function rj(nt,et,at,mt,$t,Ct,Dt){if(at)return et.flags&256?(et.flags&=-257,mt=Ki(Error(p$3(422))),sj(nt,et,Dt,mt)):et.memoizedState!==null?(et.child=nt.child,et.flags|=128,null):(Ct=mt.fallback,$t=et.mode,mt=pj({mode:"visible",children:mt.children},$t,0,null),Ct=Tg(Ct,$t,Dt,null),Ct.flags|=2,mt.return=et,Ct.return=et,mt.sibling=Ct,et.child=mt,et.mode&1&&Ug(et,nt.child,null,Dt),et.child.memoizedState=nj(Dt),et.memoizedState=mj,Ct);if(!(et.mode&1))return sj(nt,et,Dt,null);if($t.data==="$!"){if(mt=$t.nextSibling&&$t.nextSibling.dataset,mt)var Ft=mt.dgst;return mt=Ft,Ct=Error(p$3(419)),mt=Ki(Ct,mt,void 0),sj(nt,et,Dt,mt)}if(Ft=(Dt&nt.childLanes)!==0,dh$1||Ft){if(mt=Q,mt!==null){switch(Dt&-Dt){case 4:$t=2;break;case 16:$t=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$t=32;break;case 536870912:$t=268435456;break;default:$t=0}$t=$t&(mt.suspendedLanes|Dt)?0:$t,$t!==0&&$t!==Ct.retryLane&&(Ct.retryLane=$t,ih(nt,$t),gi(mt,nt,$t,-1))}return tj(),mt=Ki(Error(p$3(421))),sj(nt,et,Dt,mt)}return $t.data==="$?"?(et.flags|=128,et.child=nt.child,et=uj.bind(null,nt),$t._reactRetry=et,null):(nt=Ct.treeContext,yg=Lf($t.nextSibling),xg=et,I$3=!0,zg=null,nt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=nt.id,sg=nt.overflow,qg=et),et=qj(et,mt.children),et.flags|=4096,et)}function vj(nt,et,at){nt.lanes|=et;var mt=nt.alternate;mt!==null&&(mt.lanes|=et),bh(nt.return,et,at)}function wj(nt,et,at,mt,$t){var Ct=nt.memoizedState;Ct===null?nt.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:mt,tail:at,tailMode:$t}:(Ct.isBackwards=et,Ct.rendering=null,Ct.renderingStartTime=0,Ct.last=mt,Ct.tail=at,Ct.tailMode=$t)}function xj(nt,et,at){var mt=et.pendingProps,$t=mt.revealOrder,Ct=mt.tail;if(Xi(nt,et,mt.children,at),mt=L$1.current,mt&2)mt=mt&1|2,et.flags|=128;else{if(nt!==null&&nt.flags&128)e:for(nt=et.child;nt!==null;){if(nt.tag===13)nt.memoizedState!==null&&vj(nt,at,et);else if(nt.tag===19)vj(nt,at,et);else if(nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===et)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===et)break e;nt=nt.return}nt.sibling.return=nt.return,nt=nt.sibling}mt&=1}if(G$1(L$1,mt),!(et.mode&1))et.memoizedState=null;else switch($t){case"forwards":for(at=et.child,$t=null;at!==null;)nt=at.alternate,nt!==null&&Ch(nt)===null&&($t=at),at=at.sibling;at=$t,at===null?($t=et.child,et.child=null):($t=at.sibling,at.sibling=null),wj(et,!1,$t,at,Ct);break;case"backwards":for(at=null,$t=et.child,et.child=null;$t!==null;){if(nt=$t.alternate,nt!==null&&Ch(nt)===null){et.child=$t;break}nt=$t.sibling,$t.sibling=at,at=$t,$t=nt}wj(et,!0,at,null,Ct);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(nt,et){!(et.mode&1)&&nt!==null&&(nt.alternate=null,et.alternate=null,et.flags|=2)}function Zi(nt,et,at){if(nt!==null&&(et.dependencies=nt.dependencies),rh|=et.lanes,!(at&et.childLanes))return null;if(nt!==null&&et.child!==nt.child)throw Error(p$3(153));if(et.child!==null){for(nt=et.child,at=Pg(nt,nt.pendingProps),et.child=at,at.return=et;nt.sibling!==null;)nt=nt.sibling,at=at.sibling=Pg(nt,nt.pendingProps),at.return=et;at.sibling=null}return et.child}function yj(nt,et,at){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var mt=et.type._context,$t=et.memoizedProps.value;G$1(Wg,mt._currentValue),mt._currentValue=$t;break;case 13:if(mt=et.memoizedState,mt!==null)return mt.dehydrated!==null?(G$1(L$1,L$1.current&1),et.flags|=128,null):at&et.child.childLanes?oj(nt,et,at):(G$1(L$1,L$1.current&1),nt=Zi(nt,et,at),nt!==null?nt.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(mt=(at&et.childLanes)!==0,nt.flags&128){if(mt)return xj(nt,et,at);et.flags|=128}if($t=et.memoizedState,$t!==null&&($t.rendering=null,$t.tail=null,$t.lastEffect=null),G$1(L$1,L$1.current),mt)break;return null;case 22:case 23:return et.lanes=0,dj(nt,et,at)}return Zi(nt,et,at)}var zj,Aj,Bj,Cj;zj=function(nt,et){for(var at=et.child;at!==null;){if(at.tag===5||at.tag===6)nt.appendChild(at.stateNode);else if(at.tag!==4&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===et)break;for(;at.sibling===null;){if(at.return===null||at.return===et)return;at=at.return}at.sibling.return=at.return,at=at.sibling}};Aj=function(){};Bj=function(nt,et,at,mt){var $t=nt.memoizedProps;if($t!==mt){nt=et.stateNode,xh(uh.current);var Ct=null;switch(at){case"input":$t=Ya(nt,$t),mt=Ya(nt,mt),Ct=[];break;case"select":$t=A$2({},$t,{value:void 0}),mt=A$2({},mt,{value:void 0}),Ct=[];break;case"textarea":$t=gb(nt,$t),mt=gb(nt,mt),Ct=[];break;default:typeof $t.onClick!="function"&&typeof mt.onClick=="function"&&(nt.onclick=Bf)}ub(at,mt);var Dt;at=null;for(jt in $t)if(!mt.hasOwnProperty(jt)&&$t.hasOwnProperty(jt)&&$t[jt]!=null)if(jt==="style"){var Ft=$t[jt];for(Dt in Ft)Ft.hasOwnProperty(Dt)&&(at||(at={}),at[Dt]="")}else jt!=="dangerouslySetInnerHTML"&&jt!=="children"&&jt!=="suppressContentEditableWarning"&&jt!=="suppressHydrationWarning"&&jt!=="autoFocus"&&(ea.hasOwnProperty(jt)?Ct||(Ct=[]):(Ct=Ct||[]).push(jt,null));for(jt in mt){var Nt=mt[jt];if(Ft=$t!=null?$t[jt]:void 0,mt.hasOwnProperty(jt)&&Nt!==Ft&&(Nt!=null||Ft!=null))if(jt==="style")if(Ft){for(Dt in Ft)!Ft.hasOwnProperty(Dt)||Nt&&Nt.hasOwnProperty(Dt)||(at||(at={}),at[Dt]="");for(Dt in Nt)Nt.hasOwnProperty(Dt)&&Ft[Dt]!==Nt[Dt]&&(at||(at={}),at[Dt]=Nt[Dt])}else at||(Ct||(Ct=[]),Ct.push(jt,at)),at=Nt;else jt==="dangerouslySetInnerHTML"?(Nt=Nt?Nt.__html:void 0,Ft=Ft?Ft.__html:void 0,Nt!=null&&Ft!==Nt&&(Ct=Ct||[]).push(jt,Nt)):jt==="children"?typeof Nt!="string"&&typeof Nt!="number"||(Ct=Ct||[]).push(jt,""+Nt):jt!=="suppressContentEditableWarning"&&jt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(jt)?(Nt!=null&&jt==="onScroll"&&D$2("scroll",nt),Ct||Ft===Nt||(Ct=[])):(Ct=Ct||[]).push(jt,Nt))}at&&(Ct=Ct||[]).push("style",at);var jt=Ct;(et.updateQueue=jt)&&(et.flags|=4)}};Cj=function(nt,et,at,mt){at!==mt&&(et.flags|=4)};function Dj(nt,et){if(!I$3)switch(nt.tailMode){case"hidden":et=nt.tail;for(var at=null;et!==null;)et.alternate!==null&&(at=et),et=et.sibling;at===null?nt.tail=null:at.sibling=null;break;case"collapsed":at=nt.tail;for(var mt=null;at!==null;)at.alternate!==null&&(mt=at),at=at.sibling;mt===null?et||nt.tail===null?nt.tail=null:nt.tail.sibling=null:mt.sibling=null}}function S$4(nt){var et=nt.alternate!==null&&nt.alternate.child===nt.child,at=0,mt=0;if(et)for(var $t=nt.child;$t!==null;)at|=$t.lanes|$t.childLanes,mt|=$t.subtreeFlags&14680064,mt|=$t.flags&14680064,$t.return=nt,$t=$t.sibling;else for($t=nt.child;$t!==null;)at|=$t.lanes|$t.childLanes,mt|=$t.subtreeFlags,mt|=$t.flags,$t.return=nt,$t=$t.sibling;return nt.subtreeFlags|=mt,nt.childLanes=at,et}function Ej(nt,et,at){var mt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(et),null;case 1:return Zf(et.type)&&$f(),S$4(et),null;case 3:return mt=et.stateNode,zh(),E(Wf),E(H$2),Eh(),mt.pendingContext&&(mt.context=mt.pendingContext,mt.pendingContext=null),(nt===null||nt.child===null)&&(Gg(et)?et.flags|=4:nt===null||nt.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(nt,et),S$4(et),null;case 5:Bh(et);var $t=xh(wh.current);if(at=et.type,nt!==null&&et.stateNode!=null)Bj(nt,et,at,mt,$t),nt.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!mt){if(et.stateNode===null)throw Error(p$3(166));return S$4(et),null}if(nt=xh(uh.current),Gg(et)){mt=et.stateNode,at=et.type;var Ct=et.memoizedProps;switch(mt[Of]=et,mt[Pf]=Ct,nt=(et.mode&1)!==0,at){case"dialog":D$2("cancel",mt),D$2("close",mt);break;case"iframe":case"object":case"embed":D$2("load",mt);break;case"video":case"audio":for($t=0;$t<lf.length;$t++)D$2(lf[$t],mt);break;case"source":D$2("error",mt);break;case"img":case"image":case"link":D$2("error",mt),D$2("load",mt);break;case"details":D$2("toggle",mt);break;case"input":Za(mt,Ct),D$2("invalid",mt);break;case"select":mt._wrapperState={wasMultiple:!!Ct.multiple},D$2("invalid",mt);break;case"textarea":hb(mt,Ct),D$2("invalid",mt)}ub(at,Ct),$t=null;for(var Dt in Ct)if(Ct.hasOwnProperty(Dt)){var Ft=Ct[Dt];Dt==="children"?typeof Ft=="string"?mt.textContent!==Ft&&(Ct.suppressHydrationWarning!==!0&&Af(mt.textContent,Ft,nt),$t=["children",Ft]):typeof Ft=="number"&&mt.textContent!==""+Ft&&(Ct.suppressHydrationWarning!==!0&&Af(mt.textContent,Ft,nt),$t=["children",""+Ft]):ea.hasOwnProperty(Dt)&&Ft!=null&&Dt==="onScroll"&&D$2("scroll",mt)}switch(at){case"input":Va(mt),db(mt,Ct,!0);break;case"textarea":Va(mt),jb(mt);break;case"select":case"option":break;default:typeof Ct.onClick=="function"&&(mt.onclick=Bf)}mt=$t,et.updateQueue=mt,mt!==null&&(et.flags|=4)}else{Dt=$t.nodeType===9?$t:$t.ownerDocument,nt==="http://www.w3.org/1999/xhtml"&&(nt=kb(at)),nt==="http://www.w3.org/1999/xhtml"?at==="script"?(nt=Dt.createElement("div"),nt.innerHTML="<script><\/script>",nt=nt.removeChild(nt.firstChild)):typeof mt.is=="string"?nt=Dt.createElement(at,{is:mt.is}):(nt=Dt.createElement(at),at==="select"&&(Dt=nt,mt.multiple?Dt.multiple=!0:mt.size&&(Dt.size=mt.size))):nt=Dt.createElementNS(nt,at),nt[Of]=et,nt[Pf]=mt,zj(nt,et,!1,!1),et.stateNode=nt;e:{switch(Dt=vb(at,mt),at){case"dialog":D$2("cancel",nt),D$2("close",nt),$t=mt;break;case"iframe":case"object":case"embed":D$2("load",nt),$t=mt;break;case"video":case"audio":for($t=0;$t<lf.length;$t++)D$2(lf[$t],nt);$t=mt;break;case"source":D$2("error",nt),$t=mt;break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt),$t=mt;break;case"details":D$2("toggle",nt),$t=mt;break;case"input":Za(nt,mt),$t=Ya(nt,mt),D$2("invalid",nt);break;case"option":$t=mt;break;case"select":nt._wrapperState={wasMultiple:!!mt.multiple},$t=A$2({},mt,{value:void 0}),D$2("invalid",nt);break;case"textarea":hb(nt,mt),$t=gb(nt,mt),D$2("invalid",nt);break;default:$t=mt}ub(at,$t),Ft=$t;for(Ct in Ft)if(Ft.hasOwnProperty(Ct)){var Nt=Ft[Ct];Ct==="style"?sb(nt,Nt):Ct==="dangerouslySetInnerHTML"?(Nt=Nt?Nt.__html:void 0,Nt!=null&&nb(nt,Nt)):Ct==="children"?typeof Nt=="string"?(at!=="textarea"||Nt!=="")&&ob(nt,Nt):typeof Nt=="number"&&ob(nt,""+Nt):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(ea.hasOwnProperty(Ct)?Nt!=null&&Ct==="onScroll"&&D$2("scroll",nt):Nt!=null&&ta(nt,Ct,Nt,Dt))}switch(at){case"input":Va(nt),db(nt,mt,!1);break;case"textarea":Va(nt),jb(nt);break;case"option":mt.value!=null&&nt.setAttribute("value",""+Sa(mt.value));break;case"select":nt.multiple=!!mt.multiple,Ct=mt.value,Ct!=null?fb(nt,!!mt.multiple,Ct,!1):mt.defaultValue!=null&&fb(nt,!!mt.multiple,mt.defaultValue,!0);break;default:typeof $t.onClick=="function"&&(nt.onclick=Bf)}switch(at){case"button":case"input":case"select":case"textarea":mt=!!mt.autoFocus;break e;case"img":mt=!0;break e;default:mt=!1}}mt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$4(et),null;case 6:if(nt&&et.stateNode!=null)Cj(nt,et,nt.memoizedProps,mt);else{if(typeof mt!="string"&&et.stateNode===null)throw Error(p$3(166));if(at=xh(wh.current),xh(uh.current),Gg(et)){if(mt=et.stateNode,at=et.memoizedProps,mt[Of]=et,(Ct=mt.nodeValue!==at)&&(nt=xg,nt!==null))switch(nt.tag){case 3:Af(mt.nodeValue,at,(nt.mode&1)!==0);break;case 5:nt.memoizedProps.suppressHydrationWarning!==!0&&Af(mt.nodeValue,at,(nt.mode&1)!==0)}Ct&&(et.flags|=4)}else mt=(at.nodeType===9?at:at.ownerDocument).createTextNode(mt),mt[Of]=et,et.stateNode=mt}return S$4(et),null;case 13:if(E(L$1),mt=et.memoizedState,nt===null||nt.memoizedState!==null&&nt.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,Ct=!1;else if(Ct=Gg(et),mt!==null&&mt.dehydrated!==null){if(nt===null){if(!Ct)throw Error(p$3(318));if(Ct=et.memoizedState,Ct=Ct!==null?Ct.dehydrated:null,!Ct)throw Error(p$3(317));Ct[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$4(et),Ct=!1}else zg!==null&&(Fj(zg),zg=null),Ct=!0;if(!Ct)return et.flags&65536?et:null}return et.flags&128?(et.lanes=at,et):(mt=mt!==null,mt!==(nt!==null&&nt.memoizedState!==null)&&mt&&(et.child.flags|=8192,et.mode&1&&(nt===null||L$1.current&1?T$1===0&&(T$1=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$4(et),null);case 4:return zh(),Aj(nt,et),nt===null&&sf(et.stateNode.containerInfo),S$4(et),null;case 10:return ah(et.type._context),S$4(et),null;case 17:return Zf(et.type)&&$f(),S$4(et),null;case 19:if(E(L$1),Ct=et.memoizedState,Ct===null)return S$4(et),null;if(mt=(et.flags&128)!==0,Dt=Ct.rendering,Dt===null)if(mt)Dj(Ct,!1);else{if(T$1!==0||nt!==null&&nt.flags&128)for(nt=et.child;nt!==null;){if(Dt=Ch(nt),Dt!==null){for(et.flags|=128,Dj(Ct,!1),mt=Dt.updateQueue,mt!==null&&(et.updateQueue=mt,et.flags|=4),et.subtreeFlags=0,mt=at,at=et.child;at!==null;)Ct=at,nt=mt,Ct.flags&=14680066,Dt=Ct.alternate,Dt===null?(Ct.childLanes=0,Ct.lanes=nt,Ct.child=null,Ct.subtreeFlags=0,Ct.memoizedProps=null,Ct.memoizedState=null,Ct.updateQueue=null,Ct.dependencies=null,Ct.stateNode=null):(Ct.childLanes=Dt.childLanes,Ct.lanes=Dt.lanes,Ct.child=Dt.child,Ct.subtreeFlags=0,Ct.deletions=null,Ct.memoizedProps=Dt.memoizedProps,Ct.memoizedState=Dt.memoizedState,Ct.updateQueue=Dt.updateQueue,Ct.type=Dt.type,nt=Dt.dependencies,Ct.dependencies=nt===null?null:{lanes:nt.lanes,firstContext:nt.firstContext}),at=at.sibling;return G$1(L$1,L$1.current&1|2),et.child}nt=nt.sibling}Ct.tail!==null&&B$1()>Gj&&(et.flags|=128,mt=!0,Dj(Ct,!1),et.lanes=4194304)}else{if(!mt)if(nt=Ch(Dt),nt!==null){if(et.flags|=128,mt=!0,at=nt.updateQueue,at!==null&&(et.updateQueue=at,et.flags|=4),Dj(Ct,!0),Ct.tail===null&&Ct.tailMode==="hidden"&&!Dt.alternate&&!I$3)return S$4(et),null}else 2*B$1()-Ct.renderingStartTime>Gj&&at!==1073741824&&(et.flags|=128,mt=!0,Dj(Ct,!1),et.lanes=4194304);Ct.isBackwards?(Dt.sibling=et.child,et.child=Dt):(at=Ct.last,at!==null?at.sibling=Dt:et.child=Dt,Ct.last=Dt)}return Ct.tail!==null?(et=Ct.tail,Ct.rendering=et,Ct.tail=et.sibling,Ct.renderingStartTime=B$1(),et.sibling=null,at=L$1.current,G$1(L$1,mt?at&1|2:at&1),et):(S$4(et),null);case 22:case 23:return Hj(),mt=et.memoizedState!==null,nt!==null&&nt.memoizedState!==null!==mt&&(et.flags|=8192),mt&&et.mode&1?fj&1073741824&&(S$4(et),et.subtreeFlags&6&&(et.flags|=8192)):S$4(et),null;case 24:return null;case 25:return null}throw Error(p$3(156,et.tag))}function Ij(nt,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),nt=et.flags,nt&65536?(et.flags=nt&-65537|128,et):null;case 3:return zh(),E(Wf),E(H$2),Eh(),nt=et.flags,nt&65536&&!(nt&128)?(et.flags=nt&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E(L$1),nt=et.memoizedState,nt!==null&&nt.dehydrated!==null){if(et.alternate===null)throw Error(p$3(340));Ig()}return nt=et.flags,nt&65536?(et.flags=nt&-65537|128,et):null;case 19:return E(L$1),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(nt,et){var at=nt.ref;if(at!==null)if(typeof at=="function")try{at(null)}catch(mt){W$1(nt,et,mt)}else at.current=null}function Mj(nt,et,at){try{at()}catch(mt){W$1(nt,et,mt)}}var Nj=!1;function Oj(nt,et){if(Cf=dd,nt=Me(),Ne(nt)){if("selectionStart"in nt)var at={start:nt.selectionStart,end:nt.selectionEnd};else e:{at=(at=nt.ownerDocument)&&at.defaultView||window;var mt=at.getSelection&&at.getSelection();if(mt&&mt.rangeCount!==0){at=mt.anchorNode;var $t=mt.anchorOffset,Ct=mt.focusNode;mt=mt.focusOffset;try{at.nodeType,Ct.nodeType}catch{at=null;break e}var Dt=0,Ft=-1,Nt=-1,jt=0,Lt=0,Vt=nt,er=null;t:for(;;){for(var ir;Vt!==at||$t!==0&&Vt.nodeType!==3||(Ft=Dt+$t),Vt!==Ct||mt!==0&&Vt.nodeType!==3||(Nt=Dt+mt),Vt.nodeType===3&&(Dt+=Vt.nodeValue.length),(ir=Vt.firstChild)!==null;)er=Vt,Vt=ir;for(;;){if(Vt===nt)break t;if(er===at&&++jt===$t&&(Ft=Dt),er===Ct&&++Lt===mt&&(Nt=Dt),(ir=Vt.nextSibling)!==null)break;Vt=er,er=Vt.parentNode}Vt=ir}at=Ft===-1||Nt===-1?null:{start:Ft,end:Nt}}else at=null}at=at||{start:0,end:0}}else at=null;for(Df={focusedElem:nt,selectionRange:at},dd=!1,V$1=et;V$1!==null;)if(et=V$1,nt=et.child,(et.subtreeFlags&1028)!==0&&nt!==null)nt.return=et,V$1=nt;else for(;V$1!==null;){et=V$1;try{var or=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(or!==null){var lr=or.memoizedProps,dr=or.memoizedState,pr=et.stateNode,hr=pr.getSnapshotBeforeUpdate(et.elementType===et.type?lr:Ci(et.type,lr),dr);pr.__reactInternalSnapshotBeforeUpdate=hr}break;case 3:var vr=et.stateNode.containerInfo;vr.nodeType===1?vr.textContent="":vr.nodeType===9&&vr.documentElement&&vr.removeChild(vr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(br){W$1(et,et.return,br)}if(nt=et.sibling,nt!==null){nt.return=et.return,V$1=nt;break}V$1=et.return}return or=Nj,Nj=!1,or}function Pj(nt,et,at){var mt=et.updateQueue;if(mt=mt!==null?mt.lastEffect:null,mt!==null){var $t=mt=mt.next;do{if(($t.tag&nt)===nt){var Ct=$t.destroy;$t.destroy=void 0,Ct!==void 0&&Mj(et,at,Ct)}$t=$t.next}while($t!==mt)}}function Qj(nt,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var at=et=et.next;do{if((at.tag&nt)===nt){var mt=at.create;at.destroy=mt()}at=at.next}while(at!==et)}}function Rj(nt){var et=nt.ref;if(et!==null){var at=nt.stateNode;switch(nt.tag){case 5:nt=at;break;default:nt=at}typeof et=="function"?et(nt):et.current=nt}}function Sj(nt){var et=nt.alternate;et!==null&&(nt.alternate=null,Sj(et)),nt.child=null,nt.deletions=null,nt.sibling=null,nt.tag===5&&(et=nt.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),nt.stateNode=null,nt.return=null,nt.dependencies=null,nt.memoizedProps=null,nt.memoizedState=null,nt.pendingProps=null,nt.stateNode=null,nt.updateQueue=null}function Tj(nt){return nt.tag===5||nt.tag===3||nt.tag===4}function Uj(nt){e:for(;;){for(;nt.sibling===null;){if(nt.return===null||Tj(nt.return))return null;nt=nt.return}for(nt.sibling.return=nt.return,nt=nt.sibling;nt.tag!==5&&nt.tag!==6&&nt.tag!==18;){if(nt.flags&2||nt.child===null||nt.tag===4)continue e;nt.child.return=nt,nt=nt.child}if(!(nt.flags&2))return nt.stateNode}}function Vj(nt,et,at){var mt=nt.tag;if(mt===5||mt===6)nt=nt.stateNode,et?at.nodeType===8?at.parentNode.insertBefore(nt,et):at.insertBefore(nt,et):(at.nodeType===8?(et=at.parentNode,et.insertBefore(nt,at)):(et=at,et.appendChild(nt)),at=at._reactRootContainer,at!=null||et.onclick!==null||(et.onclick=Bf));else if(mt!==4&&(nt=nt.child,nt!==null))for(Vj(nt,et,at),nt=nt.sibling;nt!==null;)Vj(nt,et,at),nt=nt.sibling}function Wj(nt,et,at){var mt=nt.tag;if(mt===5||mt===6)nt=nt.stateNode,et?at.insertBefore(nt,et):at.appendChild(nt);else if(mt!==4&&(nt=nt.child,nt!==null))for(Wj(nt,et,at),nt=nt.sibling;nt!==null;)Wj(nt,et,at),nt=nt.sibling}var X=null,Xj=!1;function Yj(nt,et,at){for(at=at.child;at!==null;)Zj(nt,et,at),at=at.sibling}function Zj(nt,et,at){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,at)}catch{}switch(at.tag){case 5:U$1||Lj(at,et);case 6:var mt=X,$t=Xj;X=null,Yj(nt,et,at),X=mt,Xj=$t,X!==null&&(Xj?(nt=X,at=at.stateNode,nt.nodeType===8?nt.parentNode.removeChild(at):nt.removeChild(at)):X.removeChild(at.stateNode));break;case 18:X!==null&&(Xj?(nt=X,at=at.stateNode,nt.nodeType===8?Kf(nt.parentNode,at):nt.nodeType===1&&Kf(nt,at),bd(nt)):Kf(X,at.stateNode));break;case 4:mt=X,$t=Xj,X=at.stateNode.containerInfo,Xj=!0,Yj(nt,et,at),X=mt,Xj=$t;break;case 0:case 11:case 14:case 15:if(!U$1&&(mt=at.updateQueue,mt!==null&&(mt=mt.lastEffect,mt!==null))){$t=mt=mt.next;do{var Ct=$t,Dt=Ct.destroy;Ct=Ct.tag,Dt!==void 0&&(Ct&2||Ct&4)&&Mj(at,et,Dt),$t=$t.next}while($t!==mt)}Yj(nt,et,at);break;case 1:if(!U$1&&(Lj(at,et),mt=at.stateNode,typeof mt.componentWillUnmount=="function"))try{mt.props=at.memoizedProps,mt.state=at.memoizedState,mt.componentWillUnmount()}catch(Ft){W$1(at,et,Ft)}Yj(nt,et,at);break;case 21:Yj(nt,et,at);break;case 22:at.mode&1?(U$1=(mt=U$1)||at.memoizedState!==null,Yj(nt,et,at),U$1=mt):Yj(nt,et,at);break;default:Yj(nt,et,at)}}function ak(nt){var et=nt.updateQueue;if(et!==null){nt.updateQueue=null;var at=nt.stateNode;at===null&&(at=nt.stateNode=new Kj),et.forEach(function(mt){var $t=bk.bind(null,nt,mt);at.has(mt)||(at.add(mt),mt.then($t,$t))})}}function ck(nt,et){var at=et.deletions;if(at!==null)for(var mt=0;mt<at.length;mt++){var $t=at[mt];try{var Ct=nt,Dt=et,Ft=Dt;e:for(;Ft!==null;){switch(Ft.tag){case 5:X=Ft.stateNode,Xj=!1;break e;case 3:X=Ft.stateNode.containerInfo,Xj=!0;break e;case 4:X=Ft.stateNode.containerInfo,Xj=!0;break e}Ft=Ft.return}if(X===null)throw Error(p$3(160));Zj(Ct,Dt,$t),X=null,Xj=!1;var Nt=$t.alternate;Nt!==null&&(Nt.return=null),$t.return=null}catch(jt){W$1($t,et,jt)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,nt),et=et.sibling}function dk(nt,et){var at=nt.alternate,mt=nt.flags;switch(nt.tag){case 0:case 11:case 14:case 15:if(ck(et,nt),ek(nt),mt&4){try{Pj(3,nt,nt.return),Qj(3,nt)}catch(lr){W$1(nt,nt.return,lr)}try{Pj(5,nt,nt.return)}catch(lr){W$1(nt,nt.return,lr)}}break;case 1:ck(et,nt),ek(nt),mt&512&&at!==null&&Lj(at,at.return);break;case 5:if(ck(et,nt),ek(nt),mt&512&&at!==null&&Lj(at,at.return),nt.flags&32){var $t=nt.stateNode;try{ob($t,"")}catch(lr){W$1(nt,nt.return,lr)}}if(mt&4&&($t=nt.stateNode,$t!=null)){var Ct=nt.memoizedProps,Dt=at!==null?at.memoizedProps:Ct,Ft=nt.type,Nt=nt.updateQueue;if(nt.updateQueue=null,Nt!==null)try{Ft==="input"&&Ct.type==="radio"&&Ct.name!=null&&ab($t,Ct),vb(Ft,Dt);var jt=vb(Ft,Ct);for(Dt=0;Dt<Nt.length;Dt+=2){var Lt=Nt[Dt],Vt=Nt[Dt+1];Lt==="style"?sb($t,Vt):Lt==="dangerouslySetInnerHTML"?nb($t,Vt):Lt==="children"?ob($t,Vt):ta($t,Lt,Vt,jt)}switch(Ft){case"input":bb($t,Ct);break;case"textarea":ib($t,Ct);break;case"select":var er=$t._wrapperState.wasMultiple;$t._wrapperState.wasMultiple=!!Ct.multiple;var ir=Ct.value;ir!=null?fb($t,!!Ct.multiple,ir,!1):er!==!!Ct.multiple&&(Ct.defaultValue!=null?fb($t,!!Ct.multiple,Ct.defaultValue,!0):fb($t,!!Ct.multiple,Ct.multiple?[]:"",!1))}$t[Pf]=Ct}catch(lr){W$1(nt,nt.return,lr)}}break;case 6:if(ck(et,nt),ek(nt),mt&4){if(nt.stateNode===null)throw Error(p$3(162));$t=nt.stateNode,Ct=nt.memoizedProps;try{$t.nodeValue=Ct}catch(lr){W$1(nt,nt.return,lr)}}break;case 3:if(ck(et,nt),ek(nt),mt&4&&at!==null&&at.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(lr){W$1(nt,nt.return,lr)}break;case 4:ck(et,nt),ek(nt);break;case 13:ck(et,nt),ek(nt),$t=nt.child,$t.flags&8192&&(Ct=$t.memoizedState!==null,$t.stateNode.isHidden=Ct,!Ct||$t.alternate!==null&&$t.alternate.memoizedState!==null||(fk=B$1())),mt&4&&ak(nt);break;case 22:if(Lt=at!==null&&at.memoizedState!==null,nt.mode&1?(U$1=(jt=U$1)||Lt,ck(et,nt),U$1=jt):ck(et,nt),ek(nt),mt&8192){if(jt=nt.memoizedState!==null,(nt.stateNode.isHidden=jt)&&!Lt&&nt.mode&1)for(V$1=nt,Lt=nt.child;Lt!==null;){for(Vt=V$1=Lt;V$1!==null;){switch(er=V$1,ir=er.child,er.tag){case 0:case 11:case 14:case 15:Pj(4,er,er.return);break;case 1:Lj(er,er.return);var or=er.stateNode;if(typeof or.componentWillUnmount=="function"){mt=er,at=er.return;try{et=mt,or.props=et.memoizedProps,or.state=et.memoizedState,or.componentWillUnmount()}catch(lr){W$1(mt,at,lr)}}break;case 5:Lj(er,er.return);break;case 22:if(er.memoizedState!==null){gk(Vt);continue}}ir!==null?(ir.return=er,V$1=ir):gk(Vt)}Lt=Lt.sibling}e:for(Lt=null,Vt=nt;;){if(Vt.tag===5){if(Lt===null){Lt=Vt;try{$t=Vt.stateNode,jt?(Ct=$t.style,typeof Ct.setProperty=="function"?Ct.setProperty("display","none","important"):Ct.display="none"):(Ft=Vt.stateNode,Nt=Vt.memoizedProps.style,Dt=Nt!=null&&Nt.hasOwnProperty("display")?Nt.display:null,Ft.style.display=rb("display",Dt))}catch(lr){W$1(nt,nt.return,lr)}}}else if(Vt.tag===6){if(Lt===null)try{Vt.stateNode.nodeValue=jt?"":Vt.memoizedProps}catch(lr){W$1(nt,nt.return,lr)}}else if((Vt.tag!==22&&Vt.tag!==23||Vt.memoizedState===null||Vt===nt)&&Vt.child!==null){Vt.child.return=Vt,Vt=Vt.child;continue}if(Vt===nt)break e;for(;Vt.sibling===null;){if(Vt.return===null||Vt.return===nt)break e;Lt===Vt&&(Lt=null),Vt=Vt.return}Lt===Vt&&(Lt=null),Vt.sibling.return=Vt.return,Vt=Vt.sibling}}break;case 19:ck(et,nt),ek(nt),mt&4&&ak(nt);break;case 21:break;default:ck(et,nt),ek(nt)}}function ek(nt){var et=nt.flags;if(et&2){try{e:{for(var at=nt.return;at!==null;){if(Tj(at)){var mt=at;break e}at=at.return}throw Error(p$3(160))}switch(mt.tag){case 5:var $t=mt.stateNode;mt.flags&32&&(ob($t,""),mt.flags&=-33);var Ct=Uj(nt);Wj(nt,Ct,$t);break;case 3:case 4:var Dt=mt.stateNode.containerInfo,Ft=Uj(nt);Vj(nt,Ft,Dt);break;default:throw Error(p$3(161))}}catch(Nt){W$1(nt,nt.return,Nt)}nt.flags&=-3}et&4096&&(nt.flags&=-4097)}function hk(nt,et,at){V$1=nt,ik(nt)}function ik(nt,et,at){for(var mt=(nt.mode&1)!==0;V$1!==null;){var $t=V$1,Ct=$t.child;if($t.tag===22&&mt){var Dt=$t.memoizedState!==null||Jj;if(!Dt){var Ft=$t.alternate,Nt=Ft!==null&&Ft.memoizedState!==null||U$1;Ft=Jj;var jt=U$1;if(Jj=Dt,(U$1=Nt)&&!jt)for(V$1=$t;V$1!==null;)Dt=V$1,Nt=Dt.child,Dt.tag===22&&Dt.memoizedState!==null?jk($t):Nt!==null?(Nt.return=Dt,V$1=Nt):jk($t);for(;Ct!==null;)V$1=Ct,ik(Ct),Ct=Ct.sibling;V$1=$t,Jj=Ft,U$1=jt}kk(nt)}else $t.subtreeFlags&8772&&Ct!==null?(Ct.return=$t,V$1=Ct):kk(nt)}}function kk(nt){for(;V$1!==null;){var et=V$1;if(et.flags&8772){var at=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Qj(5,et);break;case 1:var mt=et.stateNode;if(et.flags&4&&!U$1)if(at===null)mt.componentDidMount();else{var $t=et.elementType===et.type?at.memoizedProps:Ci(et.type,at.memoizedProps);mt.componentDidUpdate($t,at.memoizedState,mt.__reactInternalSnapshotBeforeUpdate)}var Ct=et.updateQueue;Ct!==null&&sh(et,Ct,mt);break;case 3:var Dt=et.updateQueue;if(Dt!==null){if(at=null,et.child!==null)switch(et.child.tag){case 5:at=et.child.stateNode;break;case 1:at=et.child.stateNode}sh(et,Dt,at)}break;case 5:var Ft=et.stateNode;if(at===null&&et.flags&4){at=Ft;var Nt=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":Nt.autoFocus&&at.focus();break;case"img":Nt.src&&(at.src=Nt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var jt=et.alternate;if(jt!==null){var Lt=jt.memoizedState;if(Lt!==null){var Vt=Lt.dehydrated;Vt!==null&&bd(Vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$1||et.flags&512&&Rj(et)}catch(er){W$1(et,et.return,er)}}if(et===nt){V$1=null;break}if(at=et.sibling,at!==null){at.return=et.return,V$1=at;break}V$1=et.return}}function gk(nt){for(;V$1!==null;){var et=V$1;if(et===nt){V$1=null;break}var at=et.sibling;if(at!==null){at.return=et.return,V$1=at;break}V$1=et.return}}function jk(nt){for(;V$1!==null;){var et=V$1;try{switch(et.tag){case 0:case 11:case 15:var at=et.return;try{Qj(4,et)}catch(Nt){W$1(et,at,Nt)}break;case 1:var mt=et.stateNode;if(typeof mt.componentDidMount=="function"){var $t=et.return;try{mt.componentDidMount()}catch(Nt){W$1(et,$t,Nt)}}var Ct=et.return;try{Rj(et)}catch(Nt){W$1(et,Ct,Nt)}break;case 5:var Dt=et.return;try{Rj(et)}catch(Nt){W$1(et,Dt,Nt)}}}catch(Nt){W$1(et,et.return,Nt)}if(et===nt){V$1=null;break}var Ft=et.sibling;if(Ft!==null){Ft.return=et.return,V$1=Ft;break}V$1=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(nt){return nt.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(nt=C,nt!==0||(nt=window.event,nt=nt===void 0?16:jd(nt.type)),nt):1}function gi(nt,et,at,mt){if(50<yk)throw yk=0,zk=null,Error(p$3(185));Ac(nt,at,mt),(!(K$1&2)||nt!==Q)&&(nt===Q&&(!(K$1&2)&&(qk|=at),T$1===4&&Ck(nt,Z$1)),Dk(nt,mt),at===1&&K$1===0&&!(et.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(nt,et){var at=nt.callbackNode;wc(nt,et);var mt=uc(nt,nt===Q?Z$1:0);if(mt===0)at!==null&&bc(at),nt.callbackNode=null,nt.callbackPriority=0;else if(et=mt&-mt,nt.callbackPriority!==et){if(at!=null&&bc(at),et===1)nt.tag===0?ig(Ek.bind(null,nt)):hg(Ek.bind(null,nt)),Jf(function(){!(K$1&6)&&jg()}),at=null;else{switch(Dc(mt)){case 1:at=fc;break;case 4:at=gc;break;case 16:at=hc;break;case 536870912:at=jc;break;default:at=hc}at=Fk(at,Gk.bind(null,nt))}nt.callbackPriority=et,nt.callbackNode=at}}function Gk(nt,et){if(Ak=-1,Bk=0,K$1&6)throw Error(p$3(327));var at=nt.callbackNode;if(Hk()&&nt.callbackNode!==at)return null;var mt=uc(nt,nt===Q?Z$1:0);if(mt===0)return null;if(mt&30||mt&nt.expiredLanes||et)et=Ik(nt,mt);else{et=mt;var $t=K$1;K$1|=2;var Ct=Jk();(Q!==nt||Z$1!==et)&&(uk=null,Gj=B$1()+500,Kk(nt,et));do try{Lk();break}catch(Ft){Mk(nt,Ft)}while(!0);$g(),mk.current=Ct,K$1=$t,Y$1!==null?et=0:(Q=null,Z$1=0,et=T$1)}if(et!==0){if(et===2&&($t=xc(nt),$t!==0&&(mt=$t,et=Nk(nt,$t))),et===1)throw at=pk,Kk(nt,0),Ck(nt,mt),Dk(nt,B$1()),at;if(et===6)Ck(nt,mt);else{if($t=nt.current.alternate,!(mt&30)&&!Ok($t)&&(et=Ik(nt,mt),et===2&&(Ct=xc(nt),Ct!==0&&(mt=Ct,et=Nk(nt,Ct))),et===1))throw at=pk,Kk(nt,0),Ck(nt,mt),Dk(nt,B$1()),at;switch(nt.finishedWork=$t,nt.finishedLanes=mt,et){case 0:case 1:throw Error(p$3(345));case 2:Pk(nt,tk,uk);break;case 3:if(Ck(nt,mt),(mt&130023424)===mt&&(et=fk+500-B$1(),10<et)){if(uc(nt,0)!==0)break;if($t=nt.suspendedLanes,($t&mt)!==mt){R$1(),nt.pingedLanes|=nt.suspendedLanes&$t;break}nt.timeoutHandle=Ff(Pk.bind(null,nt,tk,uk),et);break}Pk(nt,tk,uk);break;case 4:if(Ck(nt,mt),(mt&4194240)===mt)break;for(et=nt.eventTimes,$t=-1;0<mt;){var Dt=31-oc(mt);Ct=1<<Dt,Dt=et[Dt],Dt>$t&&($t=Dt),mt&=~Ct}if(mt=$t,mt=B$1()-mt,mt=(120>mt?120:480>mt?480:1080>mt?1080:1920>mt?1920:3e3>mt?3e3:4320>mt?4320:1960*lk(mt/1960))-mt,10<mt){nt.timeoutHandle=Ff(Pk.bind(null,nt,tk,uk),mt);break}Pk(nt,tk,uk);break;case 5:Pk(nt,tk,uk);break;default:throw Error(p$3(329))}}}return Dk(nt,B$1()),nt.callbackNode===at?Gk.bind(null,nt):null}function Nk(nt,et){var at=sk;return nt.current.memoizedState.isDehydrated&&(Kk(nt,et).flags|=256),nt=Ik(nt,et),nt!==2&&(et=tk,tk=at,et!==null&&Fj(et)),nt}function Fj(nt){tk===null?tk=nt:tk.push.apply(tk,nt)}function Ok(nt){for(var et=nt;;){if(et.flags&16384){var at=et.updateQueue;if(at!==null&&(at=at.stores,at!==null))for(var mt=0;mt<at.length;mt++){var $t=at[mt],Ct=$t.getSnapshot;$t=$t.value;try{if(!He(Ct(),$t))return!1}catch{return!1}}}if(at=et.child,et.subtreeFlags&16384&&at!==null)at.return=et,et=at;else{if(et===nt)break;for(;et.sibling===null;){if(et.return===null||et.return===nt)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(nt,et){for(et&=~rk,et&=~qk,nt.suspendedLanes|=et,nt.pingedLanes&=~et,nt=nt.expirationTimes;0<et;){var at=31-oc(et),mt=1<<at;nt[at]=-1,et&=~mt}}function Ek(nt){if(K$1&6)throw Error(p$3(327));Hk();var et=uc(nt,0);if(!(et&1))return Dk(nt,B$1()),null;var at=Ik(nt,et);if(nt.tag!==0&&at===2){var mt=xc(nt);mt!==0&&(et=mt,at=Nk(nt,mt))}if(at===1)throw at=pk,Kk(nt,0),Ck(nt,et),Dk(nt,B$1()),at;if(at===6)throw Error(p$3(345));return nt.finishedWork=nt.current.alternate,nt.finishedLanes=et,Pk(nt,tk,uk),Dk(nt,B$1()),null}function Qk(nt,et){var at=K$1;K$1|=1;try{return nt(et)}finally{K$1=at,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(nt){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var et=K$1;K$1|=1;var at=ok.transition,mt=C;try{if(ok.transition=null,C=1,nt)return nt()}finally{C=mt,ok.transition=at,K$1=et,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(nt,et){nt.finishedWork=null,nt.finishedLanes=0;var at=nt.timeoutHandle;if(at!==-1&&(nt.timeoutHandle=-1,Gf(at)),Y$1!==null)for(at=Y$1.return;at!==null;){var mt=at;switch(wg(mt),mt.tag){case 1:mt=mt.type.childContextTypes,mt!=null&&$f();break;case 3:zh(),E(Wf),E(H$2),Eh();break;case 5:Bh(mt);break;case 4:zh();break;case 13:E(L$1);break;case 19:E(L$1);break;case 10:ah(mt.type._context);break;case 22:case 23:Hj()}at=at.return}if(Q=nt,Y$1=nt=Pg(nt.current,null),Z$1=fj=et,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(et=0;et<fh.length;et++)if(at=fh[et],mt=at.interleaved,mt!==null){at.interleaved=null;var $t=mt.next,Ct=at.pending;if(Ct!==null){var Dt=Ct.next;Ct.next=$t,mt.next=Dt}at.pending=mt}fh=null}return nt}function Mk(nt,et){do{var at=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var mt=M$2.memoizedState;mt!==null;){var $t=mt.queue;$t!==null&&($t.pending=null),mt=mt.next}Ih=!1}if(Hh=0,O$3=N=M$2=null,Jh=!1,Kh=0,nk.current=null,at===null||at.return===null){T$1=1,pk=et,Y$1=null;break}e:{var Ct=nt,Dt=at.return,Ft=at,Nt=et;if(et=Z$1,Ft.flags|=32768,Nt!==null&&typeof Nt=="object"&&typeof Nt.then=="function"){var jt=Nt,Lt=Ft,Vt=Lt.tag;if(!(Lt.mode&1)&&(Vt===0||Vt===11||Vt===15)){var er=Lt.alternate;er?(Lt.updateQueue=er.updateQueue,Lt.memoizedState=er.memoizedState,Lt.lanes=er.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var ir=Ui(Dt);if(ir!==null){ir.flags&=-257,Vi(ir,Dt,Ft,Ct,et),ir.mode&1&&Si(Ct,jt,et),et=ir,Nt=jt;var or=et.updateQueue;if(or===null){var lr=new Set;lr.add(Nt),et.updateQueue=lr}else or.add(Nt);break e}else{if(!(et&1)){Si(Ct,jt,et),tj();break e}Nt=Error(p$3(426))}}else if(I$3&&Ft.mode&1){var dr=Ui(Dt);if(dr!==null){!(dr.flags&65536)&&(dr.flags|=256),Vi(dr,Dt,Ft,Ct,et),Jg(Ji(Nt,Ft));break e}}Ct=Nt=Ji(Nt,Ft),T$1!==4&&(T$1=2),sk===null?sk=[Ct]:sk.push(Ct),Ct=Dt;do{switch(Ct.tag){case 3:Ct.flags|=65536,et&=-et,Ct.lanes|=et;var pr=Ni$1(Ct,Nt,et);ph(Ct,pr);break e;case 1:Ft=Nt;var hr=Ct.type,vr=Ct.stateNode;if(!(Ct.flags&128)&&(typeof hr.getDerivedStateFromError=="function"||vr!==null&&typeof vr.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(vr)))){Ct.flags|=65536,et&=-et,Ct.lanes|=et;var br=Qi(Ct,Ft,et);ph(Ct,br);break e}}Ct=Ct.return}while(Ct!==null)}Sk(at)}catch(xr){et=xr,Y$1===at&&at!==null&&(Y$1=at=at.return);continue}break}while(!0)}function Jk(){var nt=mk.current;return mk.current=Rh,nt===null?Rh:nt}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik(nt,et){var at=K$1;K$1|=2;var mt=Jk();(Q!==nt||Z$1!==et)&&(uk=null,Kk(nt,et));do try{Tk();break}catch($t){Mk(nt,$t)}while(!0);if($g(),K$1=at,mk.current=mt,Y$1!==null)throw Error(p$3(261));return Q=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(nt){var et=Vk(nt.alternate,nt,fj);nt.memoizedProps=nt.pendingProps,et===null?Sk(nt):Y$1=et,nk.current=null}function Sk(nt){var et=nt;do{var at=et.alternate;if(nt=et.return,et.flags&32768){if(at=Ij(at,et),at!==null){at.flags&=32767,Y$1=at;return}if(nt!==null)nt.flags|=32768,nt.subtreeFlags=0,nt.deletions=null;else{T$1=6,Y$1=null;return}}else if(at=Ej(at,et,fj),at!==null){Y$1=at;return}if(et=et.sibling,et!==null){Y$1=et;return}Y$1=et=nt}while(et!==null);T$1===0&&(T$1=5)}function Pk(nt,et,at){var mt=C,$t=ok.transition;try{ok.transition=null,C=1,Wk(nt,et,at,mt)}finally{ok.transition=$t,C=mt}return null}function Wk(nt,et,at,mt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$3(327));at=nt.finishedWork;var $t=nt.finishedLanes;if(at===null)return null;if(nt.finishedWork=null,nt.finishedLanes=0,at===nt.current)throw Error(p$3(177));nt.callbackNode=null,nt.callbackPriority=0;var Ct=at.lanes|at.childLanes;if(Bc(nt,Ct),nt===Q&&(Y$1=Q=null,Z$1=0),!(at.subtreeFlags&2064)&&!(at.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),Ct=(at.flags&15990)!==0,at.subtreeFlags&15990||Ct){Ct=ok.transition,ok.transition=null;var Dt=C;C=1;var Ft=K$1;K$1|=4,nk.current=null,Oj(nt,at),dk(at,nt),Oe(Df),dd=!!Cf,Df=Cf=null,nt.current=at,hk(at),dc(),K$1=Ft,C=Dt,ok.transition=Ct}else nt.current=at;if(vk&&(vk=!1,wk=nt,xk=$t),Ct=nt.pendingLanes,Ct===0&&(Ri$1=null),mc(at.stateNode),Dk(nt,B$1()),et!==null)for(mt=nt.onRecoverableError,at=0;at<et.length;at++)$t=et[at],mt($t.value,{componentStack:$t.stack,digest:$t.digest});if(Oi$1)throw Oi$1=!1,nt=Pi,Pi=null,nt;return xk&1&&nt.tag!==0&&Hk(),Ct=nt.pendingLanes,Ct&1?nt===zk?yk++:(yk=0,zk=nt):yk=0,jg(),null}function Hk(){if(wk!==null){var nt=Dc(xk),et=ok.transition,at=C;try{if(ok.transition=null,C=16>nt?16:nt,wk===null)var mt=!1;else{if(nt=wk,wk=null,xk=0,K$1&6)throw Error(p$3(331));var $t=K$1;for(K$1|=4,V$1=nt.current;V$1!==null;){var Ct=V$1,Dt=Ct.child;if(V$1.flags&16){var Ft=Ct.deletions;if(Ft!==null){for(var Nt=0;Nt<Ft.length;Nt++){var jt=Ft[Nt];for(V$1=jt;V$1!==null;){var Lt=V$1;switch(Lt.tag){case 0:case 11:case 15:Pj(8,Lt,Ct)}var Vt=Lt.child;if(Vt!==null)Vt.return=Lt,V$1=Vt;else for(;V$1!==null;){Lt=V$1;var er=Lt.sibling,ir=Lt.return;if(Sj(Lt),Lt===jt){V$1=null;break}if(er!==null){er.return=ir,V$1=er;break}V$1=ir}}}var or=Ct.alternate;if(or!==null){var lr=or.child;if(lr!==null){or.child=null;do{var dr=lr.sibling;lr.sibling=null,lr=dr}while(lr!==null)}}V$1=Ct}}if(Ct.subtreeFlags&2064&&Dt!==null)Dt.return=Ct,V$1=Dt;else e:for(;V$1!==null;){if(Ct=V$1,Ct.flags&2048)switch(Ct.tag){case 0:case 11:case 15:Pj(9,Ct,Ct.return)}var pr=Ct.sibling;if(pr!==null){pr.return=Ct.return,V$1=pr;break e}V$1=Ct.return}}var hr=nt.current;for(V$1=hr;V$1!==null;){Dt=V$1;var vr=Dt.child;if(Dt.subtreeFlags&2064&&vr!==null)vr.return=Dt,V$1=vr;else e:for(Dt=hr;V$1!==null;){if(Ft=V$1,Ft.flags&2048)try{switch(Ft.tag){case 0:case 11:case 15:Qj(9,Ft)}}catch(xr){W$1(Ft,Ft.return,xr)}if(Ft===Dt){V$1=null;break e}var br=Ft.sibling;if(br!==null){br.return=Ft.return,V$1=br;break e}V$1=Ft.return}}if(K$1=$t,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,nt)}catch{}mt=!0}return mt}finally{C=at,ok.transition=et}}return!1}function Xk(nt,et,at){et=Ji(at,et),et=Ni$1(nt,et,1),nt=nh(nt,et,1),et=R$1(),nt!==null&&(Ac(nt,1,et),Dk(nt,et))}function W$1(nt,et,at){if(nt.tag===3)Xk(nt,nt,at);else for(;et!==null;){if(et.tag===3){Xk(et,nt,at);break}else if(et.tag===1){var mt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof mt.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(mt))){nt=Ji(at,nt),nt=Qi(et,nt,1),et=nh(et,nt,1),nt=R$1(),et!==null&&(Ac(et,1,nt),Dk(et,nt));break}}et=et.return}}function Ti(nt,et,at){var mt=nt.pingCache;mt!==null&&mt.delete(et),et=R$1(),nt.pingedLanes|=nt.suspendedLanes&at,Q===nt&&(Z$1&at)===at&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(nt,0):rk|=at),Dk(nt,et)}function Yk(nt,et){et===0&&(nt.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var at=R$1();nt=ih(nt,et),nt!==null&&(Ac(nt,et,at),Dk(nt,at))}function uj(nt){var et=nt.memoizedState,at=0;et!==null&&(at=et.retryLane),Yk(nt,at)}function bk(nt,et){var at=0;switch(nt.tag){case 13:var mt=nt.stateNode,$t=nt.memoizedState;$t!==null&&(at=$t.retryLane);break;case 19:mt=nt.stateNode;break;default:throw Error(p$3(314))}mt!==null&&mt.delete(et),Yk(nt,at)}var Vk;Vk=function(nt,et,at){if(nt!==null)if(nt.memoizedProps!==et.pendingProps||Wf.current)dh$1=!0;else{if(!(nt.lanes&at)&&!(et.flags&128))return dh$1=!1,yj(nt,et,at);dh$1=!!(nt.flags&131072)}else dh$1=!1,I$3&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var mt=et.type;ij(nt,et),nt=et.pendingProps;var $t=Yf(et,H$2.current);ch(et,at),$t=Nh(null,et,mt,nt,$t,at);var Ct=Sh();return et.flags|=1,typeof $t=="object"&&$t!==null&&typeof $t.render=="function"&&$t.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(mt)?(Ct=!0,cg(et)):Ct=!1,et.memoizedState=$t.state!==null&&$t.state!==void 0?$t.state:null,kh(et),$t.updater=Ei,et.stateNode=$t,$t._reactInternals=et,Ii(et,mt,nt,at),et=jj(null,et,mt,!0,Ct,at)):(et.tag=0,I$3&&Ct&&vg(et),Xi(null,et,$t,at),et=et.child),et;case 16:mt=et.elementType;e:{switch(ij(nt,et),nt=et.pendingProps,$t=mt._init,mt=$t(mt._payload),et.type=mt,$t=et.tag=Zk(mt),nt=Ci(mt,nt),$t){case 0:et=cj(null,et,mt,nt,at);break e;case 1:et=hj(null,et,mt,nt,at);break e;case 11:et=Yi(null,et,mt,nt,at);break e;case 14:et=$i(null,et,mt,Ci(mt.type,nt),at);break e}throw Error(p$3(306,mt,""))}return et;case 0:return mt=et.type,$t=et.pendingProps,$t=et.elementType===mt?$t:Ci(mt,$t),cj(nt,et,mt,$t,at);case 1:return mt=et.type,$t=et.pendingProps,$t=et.elementType===mt?$t:Ci(mt,$t),hj(nt,et,mt,$t,at);case 3:e:{if(kj(et),nt===null)throw Error(p$3(387));mt=et.pendingProps,Ct=et.memoizedState,$t=Ct.element,lh(nt,et),qh(et,mt,null,at);var Dt=et.memoizedState;if(mt=Dt.element,Ct.isDehydrated)if(Ct={element:mt,isDehydrated:!1,cache:Dt.cache,pendingSuspenseBoundaries:Dt.pendingSuspenseBoundaries,transitions:Dt.transitions},et.updateQueue.baseState=Ct,et.memoizedState=Ct,et.flags&256){$t=Ji(Error(p$3(423)),et),et=lj(nt,et,mt,at,$t);break e}else if(mt!==$t){$t=Ji(Error(p$3(424)),et),et=lj(nt,et,mt,at,$t);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$3=!0,zg=null,at=Vg(et,null,mt,at),et.child=at;at;)at.flags=at.flags&-3|4096,at=at.sibling;else{if(Ig(),mt===$t){et=Zi(nt,et,at);break e}Xi(nt,et,mt,at)}et=et.child}return et;case 5:return Ah(et),nt===null&&Eg(et),mt=et.type,$t=et.pendingProps,Ct=nt!==null?nt.memoizedProps:null,Dt=$t.children,Ef(mt,$t)?Dt=null:Ct!==null&&Ef(mt,Ct)&&(et.flags|=32),gj(nt,et),Xi(nt,et,Dt,at),et.child;case 6:return nt===null&&Eg(et),null;case 13:return oj(nt,et,at);case 4:return yh(et,et.stateNode.containerInfo),mt=et.pendingProps,nt===null?et.child=Ug(et,null,mt,at):Xi(nt,et,mt,at),et.child;case 11:return mt=et.type,$t=et.pendingProps,$t=et.elementType===mt?$t:Ci(mt,$t),Yi(nt,et,mt,$t,at);case 7:return Xi(nt,et,et.pendingProps,at),et.child;case 8:return Xi(nt,et,et.pendingProps.children,at),et.child;case 12:return Xi(nt,et,et.pendingProps.children,at),et.child;case 10:e:{if(mt=et.type._context,$t=et.pendingProps,Ct=et.memoizedProps,Dt=$t.value,G$1(Wg,mt._currentValue),mt._currentValue=Dt,Ct!==null)if(He(Ct.value,Dt)){if(Ct.children===$t.children&&!Wf.current){et=Zi(nt,et,at);break e}}else for(Ct=et.child,Ct!==null&&(Ct.return=et);Ct!==null;){var Ft=Ct.dependencies;if(Ft!==null){Dt=Ct.child;for(var Nt=Ft.firstContext;Nt!==null;){if(Nt.context===mt){if(Ct.tag===1){Nt=mh(-1,at&-at),Nt.tag=2;var jt=Ct.updateQueue;if(jt!==null){jt=jt.shared;var Lt=jt.pending;Lt===null?Nt.next=Nt:(Nt.next=Lt.next,Lt.next=Nt),jt.pending=Nt}}Ct.lanes|=at,Nt=Ct.alternate,Nt!==null&&(Nt.lanes|=at),bh(Ct.return,at,et),Ft.lanes|=at;break}Nt=Nt.next}}else if(Ct.tag===10)Dt=Ct.type===et.type?null:Ct.child;else if(Ct.tag===18){if(Dt=Ct.return,Dt===null)throw Error(p$3(341));Dt.lanes|=at,Ft=Dt.alternate,Ft!==null&&(Ft.lanes|=at),bh(Dt,at,et),Dt=Ct.sibling}else Dt=Ct.child;if(Dt!==null)Dt.return=Ct;else for(Dt=Ct;Dt!==null;){if(Dt===et){Dt=null;break}if(Ct=Dt.sibling,Ct!==null){Ct.return=Dt.return,Dt=Ct;break}Dt=Dt.return}Ct=Dt}Xi(nt,et,$t.children,at),et=et.child}return et;case 9:return $t=et.type,mt=et.pendingProps.children,ch(et,at),$t=eh($t),mt=mt($t),et.flags|=1,Xi(nt,et,mt,at),et.child;case 14:return mt=et.type,$t=Ci(mt,et.pendingProps),$t=Ci(mt.type,$t),$i(nt,et,mt,$t,at);case 15:return bj(nt,et,et.type,et.pendingProps,at);case 17:return mt=et.type,$t=et.pendingProps,$t=et.elementType===mt?$t:Ci(mt,$t),ij(nt,et),et.tag=1,Zf(mt)?(nt=!0,cg(et)):nt=!1,ch(et,at),Gi(et,mt,$t),Ii(et,mt,$t,at),jj(null,et,mt,!0,nt,at);case 19:return xj(nt,et,at);case 22:return dj(nt,et,at)}throw Error(p$3(156,et.tag))};function Fk(nt,et){return ac(nt,et)}function $k(nt,et,at,mt){this.tag=nt,this.key=at,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=mt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(nt,et,at,mt){return new $k(nt,et,at,mt)}function aj(nt){return nt=nt.prototype,!(!nt||!nt.isReactComponent)}function Zk(nt){if(typeof nt=="function")return aj(nt)?1:0;if(nt!=null){if(nt=nt.$$typeof,nt===Da)return 11;if(nt===Ga)return 14}return 2}function Pg(nt,et){var at=nt.alternate;return at===null?(at=Bg(nt.tag,et,nt.key,nt.mode),at.elementType=nt.elementType,at.type=nt.type,at.stateNode=nt.stateNode,at.alternate=nt,nt.alternate=at):(at.pendingProps=et,at.type=nt.type,at.flags=0,at.subtreeFlags=0,at.deletions=null),at.flags=nt.flags&14680064,at.childLanes=nt.childLanes,at.lanes=nt.lanes,at.child=nt.child,at.memoizedProps=nt.memoizedProps,at.memoizedState=nt.memoizedState,at.updateQueue=nt.updateQueue,et=nt.dependencies,at.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},at.sibling=nt.sibling,at.index=nt.index,at.ref=nt.ref,at}function Rg(nt,et,at,mt,$t,Ct){var Dt=2;if(mt=nt,typeof nt=="function")aj(nt)&&(Dt=1);else if(typeof nt=="string")Dt=5;else e:switch(nt){case ya:return Tg(at.children,$t,Ct,et);case za:Dt=8,$t|=8;break;case Aa:return nt=Bg(12,at,et,$t|2),nt.elementType=Aa,nt.lanes=Ct,nt;case Ea:return nt=Bg(13,at,et,$t),nt.elementType=Ea,nt.lanes=Ct,nt;case Fa:return nt=Bg(19,at,et,$t),nt.elementType=Fa,nt.lanes=Ct,nt;case Ia:return pj(at,$t,Ct,et);default:if(typeof nt=="object"&&nt!==null)switch(nt.$$typeof){case Ba:Dt=10;break e;case Ca:Dt=9;break e;case Da:Dt=11;break e;case Ga:Dt=14;break e;case Ha:Dt=16,mt=null;break e}throw Error(p$3(130,nt==null?nt:typeof nt,""))}return et=Bg(Dt,at,et,$t),et.elementType=nt,et.type=mt,et.lanes=Ct,et}function Tg(nt,et,at,mt){return nt=Bg(7,nt,mt,et),nt.lanes=at,nt}function pj(nt,et,at,mt){return nt=Bg(22,nt,mt,et),nt.elementType=Ia,nt.lanes=at,nt.stateNode={isHidden:!1},nt}function Qg(nt,et,at){return nt=Bg(6,nt,null,et),nt.lanes=at,nt}function Sg(nt,et,at){return et=Bg(4,nt.children!==null?nt.children:[],nt.key,et),et.lanes=at,et.stateNode={containerInfo:nt.containerInfo,pendingChildren:null,implementation:nt.implementation},et}function al(nt,et,at,mt,$t){this.tag=et,this.containerInfo=nt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=mt,this.onRecoverableError=$t,this.mutableSourceEagerHydrationData=null}function bl(nt,et,at,mt,$t,Ct,Dt,Ft,Nt){return nt=new al(nt,et,at,Ft,Nt),et===1?(et=1,Ct===!0&&(et|=8)):et=0,Ct=Bg(3,null,null,et),nt.current=Ct,Ct.stateNode=nt,Ct.memoizedState={element:mt,isDehydrated:at,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(Ct),nt}function cl(nt,et,at){var mt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:mt==null?null:""+mt,children:nt,containerInfo:et,implementation:at}}function dl(nt){if(!nt)return Vf;nt=nt._reactInternals;e:{if(Vb(nt)!==nt||nt.tag!==1)throw Error(p$3(170));var et=nt;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$3(171))}if(nt.tag===1){var at=nt.type;if(Zf(at))return bg(nt,at,et)}return et}function el(nt,et,at,mt,$t,Ct,Dt,Ft,Nt){return nt=bl(at,mt,!0,nt,$t,Ct,Dt,Ft,Nt),nt.context=dl(null),at=nt.current,mt=R$1(),$t=yi(at),Ct=mh(mt,$t),Ct.callback=et??null,nh(at,Ct,$t),nt.current.lanes=$t,Ac(nt,$t,mt),Dk(nt,mt),nt}function fl(nt,et,at,mt){var $t=et.current,Ct=R$1(),Dt=yi($t);return at=dl(at),et.context===null?et.context=at:et.pendingContext=at,et=mh(Ct,Dt),et.payload={element:nt},mt=mt===void 0?null:mt,mt!==null&&(et.callback=mt),nt=nh($t,et,Dt),nt!==null&&(gi(nt,$t,Dt,Ct),oh(nt,$t,Dt)),Dt}function gl(nt){if(nt=nt.current,!nt.child)return null;switch(nt.child.tag){case 5:return nt.child.stateNode;default:return nt.child.stateNode}}function hl(nt,et){if(nt=nt.memoizedState,nt!==null&&nt.dehydrated!==null){var at=nt.retryLane;nt.retryLane=at!==0&&at<et?at:et}}function il(nt,et){hl(nt,et),(nt=nt.alternate)&&hl(nt,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(nt){console.error(nt)};function ll(nt){this._internalRoot=nt}ml.prototype.render=ll.prototype.render=function(nt){var et=this._internalRoot;if(et===null)throw Error(p$3(409));fl(nt,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var nt=this._internalRoot;if(nt!==null){this._internalRoot=null;var et=nt.containerInfo;Rk(function(){fl(null,nt,null,null)}),et[uf]=null}};function ml(nt){this._internalRoot=nt}ml.prototype.unstable_scheduleHydration=function(nt){if(nt){var et=Hc();nt={blockedOn:null,target:nt,priority:et};for(var at=0;at<Qc.length&&et!==0&&et<Qc[at].priority;at++);Qc.splice(at,0,nt),at===0&&Vc(nt)}};function nl(nt){return!(!nt||nt.nodeType!==1&&nt.nodeType!==9&&nt.nodeType!==11)}function ol(nt){return!(!nt||nt.nodeType!==1&&nt.nodeType!==9&&nt.nodeType!==11&&(nt.nodeType!==8||nt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(nt,et,at,mt,$t){if($t){if(typeof mt=="function"){var Ct=mt;mt=function(){var jt=gl(Dt);Ct.call(jt)}}var Dt=el(et,mt,nt,0,null,!1,!1,"",pl);return nt._reactRootContainer=Dt,nt[uf]=Dt.current,sf(nt.nodeType===8?nt.parentNode:nt),Rk(),Dt}for(;$t=nt.lastChild;)nt.removeChild($t);if(typeof mt=="function"){var Ft=mt;mt=function(){var jt=gl(Nt);Ft.call(jt)}}var Nt=bl(nt,0,!1,null,null,!1,!1,"",pl);return nt._reactRootContainer=Nt,nt[uf]=Nt.current,sf(nt.nodeType===8?nt.parentNode:nt),Rk(function(){fl(et,Nt,at,mt)}),Nt}function rl(nt,et,at,mt,$t){var Ct=at._reactRootContainer;if(Ct){var Dt=Ct;if(typeof $t=="function"){var Ft=$t;$t=function(){var Nt=gl(Dt);Ft.call(Nt)}}fl(et,Dt,nt,$t)}else Dt=ql(at,et,nt,$t,mt);return gl(Dt)}Ec=function(nt){switch(nt.tag){case 3:var et=nt.stateNode;if(et.current.memoizedState.isDehydrated){var at=tc(et.pendingLanes);at!==0&&(Cc(et,at|1),Dk(et,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var mt=ih(nt,1);if(mt!==null){var $t=R$1();gi(mt,nt,1,$t)}}),il(nt,1)}};Fc=function(nt){if(nt.tag===13){var et=ih(nt,134217728);if(et!==null){var at=R$1();gi(et,nt,134217728,at)}il(nt,134217728)}};Gc=function(nt){if(nt.tag===13){var et=yi(nt),at=ih(nt,et);if(at!==null){var mt=R$1();gi(at,nt,et,mt)}il(nt,et)}};Hc=function(){return C};Ic=function(nt,et){var at=C;try{return C=nt,et()}finally{C=at}};yb=function(nt,et,at){switch(et){case"input":if(bb(nt,at),et=at.name,at.type==="radio"&&et!=null){for(at=nt;at.parentNode;)at=at.parentNode;for(at=at.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<at.length;et++){var mt=at[et];if(mt!==nt&&mt.form===nt.form){var $t=Db(mt);if(!$t)throw Error(p$3(90));Wa(mt),bb(mt,$t)}}}break;case"textarea":ib(nt,at);break;case"select":et=at.value,et!=null&&fb(nt,!!at.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(nt){return nt=Zb(nt),nt===null?null:nt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(nt,et){var at=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$3(200));return cl(nt,et,null,at)};reactDom_production_min.createRoot=function(nt,et){if(!nl(nt))throw Error(p$3(299));var at=!1,mt="",$t=kl;return et!=null&&(et.unstable_strictMode===!0&&(at=!0),et.identifierPrefix!==void 0&&(mt=et.identifierPrefix),et.onRecoverableError!==void 0&&($t=et.onRecoverableError)),et=bl(nt,1,!1,null,null,at,!1,mt,$t),nt[uf]=et.current,sf(nt.nodeType===8?nt.parentNode:nt),new ll(et)};reactDom_production_min.findDOMNode=function(nt){if(nt==null)return null;if(nt.nodeType===1)return nt;var et=nt._reactInternals;if(et===void 0)throw typeof nt.render=="function"?Error(p$3(188)):(nt=Object.keys(nt).join(","),Error(p$3(268,nt)));return nt=Zb(et),nt=nt===null?null:nt.stateNode,nt};reactDom_production_min.flushSync=function(nt){return Rk(nt)};reactDom_production_min.hydrate=function(nt,et,at){if(!ol(et))throw Error(p$3(200));return rl(null,nt,et,!0,at)};reactDom_production_min.hydrateRoot=function(nt,et,at){if(!nl(nt))throw Error(p$3(405));var mt=at!=null&&at.hydratedSources||null,$t=!1,Ct="",Dt=kl;if(at!=null&&(at.unstable_strictMode===!0&&($t=!0),at.identifierPrefix!==void 0&&(Ct=at.identifierPrefix),at.onRecoverableError!==void 0&&(Dt=at.onRecoverableError)),et=el(et,null,nt,1,at??null,$t,!1,Ct,Dt),nt[uf]=et.current,sf(nt),mt)for(nt=0;nt<mt.length;nt++)at=mt[nt],$t=at._getVersion,$t=$t(at._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[at,$t]:et.mutableSourceEagerHydrationData.push(at,$t);return new ml(et)};reactDom_production_min.render=function(nt,et,at){if(!ol(et))throw Error(p$3(200));return rl(null,nt,et,!1,at)};reactDom_production_min.unmountComponentAtNode=function(nt){if(!ol(nt))throw Error(p$3(40));return nt._reactRootContainer?(Rk(function(){rl(null,null,nt,!1,function(){nt._reactRootContainer=null,nt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(nt,et,at,mt){if(!ol(at))throw Error(p$3(200));if(nt==null||nt._reactInternals===void 0)throw Error(p$3(38));return rl(nt,et,at,!1,mt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(nt){console.error(nt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$2(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var m$5=reactDomExports;client$1.createRoot=m$5.createRoot,client$1.hydrateRoot=m$5.hydrateRoot;function setRef(nt,et){typeof nt=="function"?nt(et):nt!=null&&(nt.current=et)}function composeRefs(...nt){return et=>nt.forEach(at=>setRef(at,et))}var Slot=reactExports.forwardRef((nt,et)=>{const{children:at,...mt}=nt,$t=reactExports.Children.toArray(at),Ct=$t.find(isSlottable);if(Ct){const Dt=Ct.props.children,Ft=$t.map(Nt=>Nt===Ct?reactExports.Children.count(Dt)>1?reactExports.Children.only(null):reactExports.isValidElement(Dt)?Dt.props.children:null:Nt);return jsxRuntimeExports.jsx(SlotClone,{...mt,ref:et,children:reactExports.isValidElement(Dt)?reactExports.cloneElement(Dt,void 0,Ft):null})}return jsxRuntimeExports.jsx(SlotClone,{...mt,ref:et,children:at})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((nt,et)=>{const{children:at,...mt}=nt;if(reactExports.isValidElement(at)){const $t=getElementRef(at);return reactExports.cloneElement(at,{...mergeProps(mt,at.props),ref:et?composeRefs(et,$t):$t})}return reactExports.Children.count(at)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:nt})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt});function isSlottable(nt){return reactExports.isValidElement(nt)&&nt.type===Slottable}function mergeProps(nt,et){const at={...et};for(const mt in et){const $t=nt[mt],Ct=et[mt];/^on[A-Z]/.test(mt)?$t&&Ct?at[mt]=(...Ft)=>{Ct(...Ft),$t(...Ft)}:$t&&(at[mt]=$t):mt==="style"?at[mt]={...$t,...Ct}:mt==="className"&&(at[mt]=[$t,Ct].filter(Boolean).join(" "))}return{...nt,...at}}function getElementRef(nt){var mt,$t;let et=(mt=Object.getOwnPropertyDescriptor(nt.props,"ref"))==null?void 0:mt.get,at=et&&"isReactWarning"in et&&et.isReactWarning;return at?nt.ref:(et=($t=Object.getOwnPropertyDescriptor(nt,"ref"))==null?void 0:$t.get,at=et&&"isReactWarning"in et&&et.isReactWarning,at?nt.props.ref:nt.props.ref||nt.ref)}var extendStatics$1=function(nt,et){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,mt){at.__proto__=mt}||function(at,mt){for(var $t in mt)Object.prototype.hasOwnProperty.call(mt,$t)&&(at[$t]=mt[$t])},extendStatics$1(nt,et)};function __extends$1(nt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");extendStatics$1(nt,et);function at(){this.constructor=nt}nt.prototype=et===null?Object.create(et):(at.prototype=et.prototype,new at)}var __assign$2=function(){return __assign$2=Object.assign||function(et){for(var at,mt=1,$t=arguments.length;mt<$t;mt++){at=arguments[mt];for(var Ct in at)Object.prototype.hasOwnProperty.call(at,Ct)&&(et[Ct]=at[Ct])}return et},__assign$2.apply(this,arguments)};function __rest$2(nt,et){var at={};for(var mt in nt)Object.prototype.hasOwnProperty.call(nt,mt)&&et.indexOf(mt)<0&&(at[mt]=nt[mt]);if(nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $t=0,mt=Object.getOwnPropertySymbols(nt);$t<mt.length;$t++)et.indexOf(mt[$t])<0&&Object.prototype.propertyIsEnumerable.call(nt,mt[$t])&&(at[mt[$t]]=nt[mt[$t]]);return at}function __awaiter(nt,et,at,mt){function $t(Ct){return Ct instanceof at?Ct:new at(function(Dt){Dt(Ct)})}return new(at||(at=Promise))(function(Ct,Dt){function Ft(Lt){try{jt(mt.next(Lt))}catch(Vt){Dt(Vt)}}function Nt(Lt){try{jt(mt.throw(Lt))}catch(Vt){Dt(Vt)}}function jt(Lt){Lt.done?Ct(Lt.value):$t(Lt.value).then(Ft,Nt)}jt((mt=mt.apply(nt,et||[])).next())})}function __generator$1(nt,et){var at={label:0,sent:function(){if(Ct[0]&1)throw Ct[1];return Ct[1]},trys:[],ops:[]},mt,$t,Ct,Dt=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Dt.next=Ft(0),Dt.throw=Ft(1),Dt.return=Ft(2),typeof Symbol=="function"&&(Dt[Symbol.iterator]=function(){return this}),Dt;function Ft(jt){return function(Lt){return Nt([jt,Lt])}}function Nt(jt){if(mt)throw new TypeError("Generator is already executing.");for(;Dt&&(Dt=0,jt[0]&&(at=0)),at;)try{if(mt=1,$t&&(Ct=jt[0]&2?$t.return:jt[0]?$t.throw||((Ct=$t.return)&&Ct.call($t),0):$t.next)&&!(Ct=Ct.call($t,jt[1])).done)return Ct;switch($t=0,Ct&&(jt=[jt[0]&2,Ct.value]),jt[0]){case 0:case 1:Ct=jt;break;case 4:return at.label++,{value:jt[1],done:!1};case 5:at.label++,$t=jt[1],jt=[0];continue;case 7:jt=at.ops.pop(),at.trys.pop();continue;default:if(Ct=at.trys,!(Ct=Ct.length>0&&Ct[Ct.length-1])&&(jt[0]===6||jt[0]===2)){at=0;continue}if(jt[0]===3&&(!Ct||jt[1]>Ct[0]&&jt[1]<Ct[3])){at.label=jt[1];break}if(jt[0]===6&&at.label<Ct[1]){at.label=Ct[1],Ct=jt;break}if(Ct&&at.label<Ct[2]){at.label=Ct[2],at.ops.push(jt);break}Ct[2]&&at.ops.pop(),at.trys.pop();continue}jt=et.call(nt,at)}catch(Lt){jt=[6,Lt],$t=0}finally{mt=Ct=0}if(jt[0]&5)throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}}function __read$4(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}function __spreadArray(nt,et,at){if(at||arguments.length===2)for(var mt=0,$t=et.length,Ct;mt<$t;mt++)(Ct||!(mt in et))&&(Ct||(Ct=Array.prototype.slice.call(et,0,mt)),Ct[mt]=et[mt]);return nt.concat(Ct||Array.prototype.slice.call(et))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef$1(nt,et){return typeof nt=="function"?nt(et):nt&&(nt.current=et),nt}function useCallbackRef$1(nt,et){var at=reactExports.useState(function(){return{value:nt,callback:et,facade:{get current(){return at.value},set current(mt){var $t=at.value;$t!==mt&&(at.value=mt,at.callback(mt,$t))}}}})[0];return at.callback=et,at.facade}var useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs$1(nt,et){var at=useCallbackRef$1(null,function(mt){return nt.forEach(function($t){return assignRef$1($t,mt)})});return useIsomorphicLayoutEffect$2(function(){var mt=currentValues.get(at);if(mt){var $t=new Set(mt),Ct=new Set(nt),Dt=at.current;$t.forEach(function(Ft){Ct.has(Ft)||assignRef$1(Ft,null)}),Ct.forEach(function(Ft){$t.has(Ft)||assignRef$1(Ft,Dt)})}currentValues.set(at,nt)},[nt]),at}function ItoI(nt){return nt}function innerCreateMedium(nt,et){et===void 0&&(et=ItoI);var at=[],mt=!1,$t={read:function(){if(mt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return at.length?at[at.length-1]:nt},useMedium:function(Ct){var Dt=et(Ct,mt);return at.push(Dt),function(){at=at.filter(function(Ft){return Ft!==Dt})}},assignSyncMedium:function(Ct){for(mt=!0;at.length;){var Dt=at;at=[],Dt.forEach(Ct)}at={push:function(Ft){return Ct(Ft)},filter:function(){return at}}},assignMedium:function(Ct){mt=!0;var Dt=[];if(at.length){var Ft=at;at=[],Ft.forEach(Ct),Dt=at}var Nt=function(){var Lt=Dt;Dt=[],Lt.forEach(Ct)},jt=function(){return Promise.resolve().then(Nt)};jt(),at={push:function(Lt){Dt.push(Lt),jt()},filter:function(Lt){return Dt=Dt.filter(Lt),at}}}};return $t}function createMedium(nt,et){return et===void 0&&(et=ItoI),innerCreateMedium(nt,et)}function createSidecarMedium(nt){nt===void 0&&(nt={});var et=innerCreateMedium(null);return et.options=__assign$2({async:!0,ssr:!1},nt),et}var SideCar$1=function(nt){var et=nt.sideCar,at=__rest$2(nt,["sideCar"]);if(!et)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var mt=et.read();if(!mt)throw new Error("Sidecar medium not found");return reactExports.createElement(mt,__assign$2({},at))};SideCar$1.isSideCarExport=!0;function exportSidecar(nt,et){return nt.useMedium(et),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(nt,et){var at=reactExports.useRef(null),mt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),$t=mt[0],Ct=mt[1],Dt=nt.forwardProps,Ft=nt.children,Nt=nt.className,jt=nt.removeScrollBar,Lt=nt.enabled,Vt=nt.shards,er=nt.sideCar,ir=nt.noIsolation,or=nt.inert,lr=nt.allowPinchZoom,dr=nt.as,pr=dr===void 0?"div":dr,hr=nt.gapMode,vr=__rest$2(nt,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),br=er,xr=useMergeRefs$1([at,et]),Sr=__assign$2(__assign$2({},vr),$t);return reactExports.createElement(reactExports.Fragment,null,Lt&&reactExports.createElement(br,{sideCar:effectCar,removeScrollBar:jt,shards:Vt,noIsolation:ir,inert:or,setCallbacks:Ct,allowPinchZoom:!!lr,lockRef:at,gapMode:hr}),Dt?reactExports.cloneElement(reactExports.Children.only(Ft),__assign$2(__assign$2({},Sr),{ref:xr})):reactExports.createElement(pr,__assign$2({},Sr,{className:Nt,ref:xr}),Ft))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var nt=document.createElement("style");nt.type="text/css";var et=getNonce();return et&&nt.setAttribute("nonce",et),nt}function injectStyles$1(nt,et){nt.styleSheet?nt.styleSheet.cssText=et:nt.appendChild(document.createTextNode(et))}function insertStyleTag(nt){var et=document.head||document.getElementsByTagName("head")[0];et.appendChild(nt)}var stylesheetSingleton=function(){var nt=0,et=null;return{add:function(at){nt==0&&(et=makeStyleTag())&&(injectStyles$1(et,at),insertStyleTag(et)),nt++},remove:function(){nt--,!nt&&et&&(et.parentNode&&et.parentNode.removeChild(et),et=null)}}},styleHookSingleton=function(){var nt=stylesheetSingleton();return function(et,at){reactExports.useEffect(function(){return nt.add(et),function(){nt.remove()}},[et&&at])}},styleSingleton=function(){var nt=styleHookSingleton(),et=function(at){var mt=at.styles,$t=at.dynamic;return nt(mt,$t),null};return et},zeroGap={left:0,top:0,right:0,gap:0},parse$5=function(nt){return parseInt(nt||"",10)||0},getOffset=function(nt){var et=window.getComputedStyle(document.body),at=et[nt==="padding"?"paddingLeft":"marginLeft"],mt=et[nt==="padding"?"paddingTop":"marginTop"],$t=et[nt==="padding"?"paddingRight":"marginRight"];return[parse$5(at),parse$5(mt),parse$5($t)]},getGapWidth=function(nt){if(nt===void 0&&(nt="margin"),typeof window>"u")return zeroGap;var et=getOffset(nt),at=document.documentElement.clientWidth,mt=window.innerWidth;return{left:et[0],top:et[1],right:et[2],gap:Math.max(0,mt-at+et[2]-et[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles$1=function(nt,et,at,mt){var $t=nt.left,Ct=nt.top,Dt=nt.right,Ft=nt.gap;return at===void 0&&(at="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(mt,`;
   padding-right: `).concat(Ft,"px ").concat(mt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(mt,`;
    overscroll-behavior: contain;
    `).concat([et&&"position: relative ".concat(mt,";"),at==="margin"&&`
    padding-left: `.concat($t,`px;
    padding-top: `).concat(Ct,`px;
    padding-right: `).concat(Dt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(Ft,"px ").concat(mt,`;
    `),at==="padding"&&"padding-right: ".concat(Ft,"px ").concat(mt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(Ft,"px ").concat(mt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(Ft,"px ").concat(mt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(mt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(mt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(Ft,`px;
  }
`)},getCurrentUseCounter=function(){var nt=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(nt)?nt:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var nt=getCurrentUseCounter()-1;nt<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,nt.toString())}},[])},RemoveScrollBar=function(nt){var et=nt.noRelative,at=nt.noImportant,mt=nt.gapMode,$t=mt===void 0?"margin":mt;useLockAttribute();var Ct=reactExports.useMemo(function(){return getGapWidth($t)},[$t]);return reactExports.createElement(Style,{styles:getStyles$1(Ct,!et,$t,at?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(nt){return nt.tagName==="TEXTAREA"},elementCanBeScrolled=function(nt,et){if(!(nt instanceof Element))return!1;var at=window.getComputedStyle(nt);return at[et]!=="hidden"&&!(at.overflowY===at.overflowX&&!alwaysContainsScroll(nt)&&at[et]==="visible")},elementCouldBeVScrolled=function(nt){return elementCanBeScrolled(nt,"overflowY")},elementCouldBeHScrolled=function(nt){return elementCanBeScrolled(nt,"overflowX")},locationCouldBeScrolled=function(nt,et){var at=et.ownerDocument,mt=et;do{typeof ShadowRoot<"u"&&mt instanceof ShadowRoot&&(mt=mt.host);var $t=elementCouldBeScrolled(nt,mt);if($t){var Ct=getScrollVariables(nt,mt),Dt=Ct[1],Ft=Ct[2];if(Dt>Ft)return!0}mt=mt.parentNode}while(mt&&mt!==at.body);return!1},getVScrollVariables=function(nt){var et=nt.scrollTop,at=nt.scrollHeight,mt=nt.clientHeight;return[et,at,mt]},getHScrollVariables=function(nt){var et=nt.scrollLeft,at=nt.scrollWidth,mt=nt.clientWidth;return[et,at,mt]},elementCouldBeScrolled=function(nt,et){return nt==="v"?elementCouldBeVScrolled(et):elementCouldBeHScrolled(et)},getScrollVariables=function(nt,et){return nt==="v"?getVScrollVariables(et):getHScrollVariables(et)},getDirectionFactor=function(nt,et){return nt==="h"&&et==="rtl"?-1:1},handleScroll=function(nt,et,at,mt,$t){var Ct=getDirectionFactor(nt,window.getComputedStyle(et).direction),Dt=Ct*mt,Ft=at.target,Nt=et.contains(Ft),jt=!1,Lt=Dt>0,Vt=0,er=0;do{var ir=getScrollVariables(nt,Ft),or=ir[0],lr=ir[1],dr=ir[2],pr=lr-dr-Ct*or;(or||pr)&&elementCouldBeScrolled(nt,Ft)&&(Vt+=pr,er+=or),Ft instanceof ShadowRoot?Ft=Ft.host:Ft=Ft.parentNode}while(!Nt&&Ft!==document.body||Nt&&(et.contains(Ft)||et===Ft));return(Lt&&(Math.abs(Vt)<1||!$t)||!Lt&&(Math.abs(er)<1||!$t))&&(jt=!0),jt},getTouchXY=function(nt){return"changedTouches"in nt?[nt.changedTouches[0].clientX,nt.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(nt){return[nt.deltaX,nt.deltaY]},extractRef$1=function(nt){return nt&&"current"in nt?nt.current:nt},deltaCompare=function(nt,et){return nt[0]===et[0]&&nt[1]===et[1]},generateStyle=function(nt){return`
  .block-interactivity-`.concat(nt,` {pointer-events: none;}
  .allow-interactivity-`).concat(nt,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(nt){var et=reactExports.useRef([]),at=reactExports.useRef([0,0]),mt=reactExports.useRef(),$t=reactExports.useState(idCounter++)[0],Ct=reactExports.useState(styleSingleton)[0],Dt=reactExports.useRef(nt);reactExports.useEffect(function(){Dt.current=nt},[nt]),reactExports.useEffect(function(){if(nt.inert){document.body.classList.add("block-interactivity-".concat($t));var lr=__spreadArray([nt.lockRef.current],(nt.shards||[]).map(extractRef$1),!0).filter(Boolean);return lr.forEach(function(dr){return dr.classList.add("allow-interactivity-".concat($t))}),function(){document.body.classList.remove("block-interactivity-".concat($t)),lr.forEach(function(dr){return dr.classList.remove("allow-interactivity-".concat($t))})}}},[nt.inert,nt.lockRef.current,nt.shards]);var Ft=reactExports.useCallback(function(lr,dr){if("touches"in lr&&lr.touches.length===2||lr.type==="wheel"&&lr.ctrlKey)return!Dt.current.allowPinchZoom;var pr=getTouchXY(lr),hr=at.current,vr="deltaX"in lr?lr.deltaX:hr[0]-pr[0],br="deltaY"in lr?lr.deltaY:hr[1]-pr[1],xr,Sr=lr.target,Er=Math.abs(vr)>Math.abs(br)?"h":"v";if("touches"in lr&&Er==="h"&&Sr.type==="range")return!1;var $r=locationCouldBeScrolled(Er,Sr);if(!$r)return!0;if($r?xr=Er:(xr=Er==="v"?"h":"v",$r=locationCouldBeScrolled(Er,Sr)),!$r)return!1;if(!mt.current&&"changedTouches"in lr&&(vr||br)&&(mt.current=xr),!xr)return!0;var Cr=mt.current||xr;return handleScroll(Cr,dr,lr,Cr==="h"?vr:br,!0)},[]),Nt=reactExports.useCallback(function(lr){var dr=lr;if(!(!lockStack.length||lockStack[lockStack.length-1]!==Ct)){var pr="deltaY"in dr?getDeltaXY(dr):getTouchXY(dr),hr=et.current.filter(function(xr){return xr.name===dr.type&&(xr.target===dr.target||dr.target===xr.shadowParent)&&deltaCompare(xr.delta,pr)})[0];if(hr&&hr.should){dr.cancelable&&dr.preventDefault();return}if(!hr){var vr=(Dt.current.shards||[]).map(extractRef$1).filter(Boolean).filter(function(xr){return xr.contains(dr.target)}),br=vr.length>0?Ft(dr,vr[0]):!Dt.current.noIsolation;br&&dr.cancelable&&dr.preventDefault()}}},[]),jt=reactExports.useCallback(function(lr,dr,pr,hr){var vr={name:lr,delta:dr,target:pr,should:hr,shadowParent:getOutermostShadowParent(pr)};et.current.push(vr),setTimeout(function(){et.current=et.current.filter(function(br){return br!==vr})},1)},[]),Lt=reactExports.useCallback(function(lr){at.current=getTouchXY(lr),mt.current=void 0},[]),Vt=reactExports.useCallback(function(lr){jt(lr.type,getDeltaXY(lr),lr.target,Ft(lr,nt.lockRef.current))},[]),er=reactExports.useCallback(function(lr){jt(lr.type,getTouchXY(lr),lr.target,Ft(lr,nt.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(Ct),nt.setCallbacks({onScrollCapture:Vt,onWheelCapture:Vt,onTouchMoveCapture:er}),document.addEventListener("wheel",Nt,nonPassive),document.addEventListener("touchmove",Nt,nonPassive),document.addEventListener("touchstart",Lt,nonPassive),function(){lockStack=lockStack.filter(function(lr){return lr!==Ct}),document.removeEventListener("wheel",Nt,nonPassive),document.removeEventListener("touchmove",Nt,nonPassive),document.removeEventListener("touchstart",Lt,nonPassive)}},[]);var ir=nt.removeScrollBar,or=nt.inert;return reactExports.createElement(reactExports.Fragment,null,or?reactExports.createElement(Ct,{styles:generateStyle($t)}):null,ir?reactExports.createElement(RemoveScrollBar,{gapMode:nt.gapMode}):null)}function getOutermostShadowParent(nt){for(var et=null;nt!==null;)nt instanceof ShadowRoot&&(et=nt.host,nt=nt.host),nt=nt.parentNode;return et}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(nt,et){return reactExports.createElement(RemoveScroll,__assign$2({},nt,{ref:et,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(nt){if(typeof document>"u")return null;var et=Array.isArray(nt)?nt[0]:nt;return et.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(nt){return nt&&(nt.host||unwrapHost(nt.parentNode))},correctTargets=function(nt,et){return et.map(function(at){if(nt.contains(at))return at;var mt=unwrapHost(at);return mt&&nt.contains(mt)?mt:(console.error("aria-hidden",at,"in not contained inside",nt,". Doing nothing"),null)}).filter(function(at){return!!at})},applyAttributeToOthers=function(nt,et,at,mt){var $t=correctTargets(et,Array.isArray(nt)?nt:[nt]);markerMap[at]||(markerMap[at]=new WeakMap);var Ct=markerMap[at],Dt=[],Ft=new Set,Nt=new Set($t),jt=function(Vt){!Vt||Ft.has(Vt)||(Ft.add(Vt),jt(Vt.parentNode))};$t.forEach(jt);var Lt=function(Vt){!Vt||Nt.has(Vt)||Array.prototype.forEach.call(Vt.children,function(er){if(Ft.has(er))Lt(er);else try{var ir=er.getAttribute(mt),or=ir!==null&&ir!=="false",lr=(counterMap.get(er)||0)+1,dr=(Ct.get(er)||0)+1;counterMap.set(er,lr),Ct.set(er,dr),Dt.push(er),lr===1&&or&&uncontrolledNodes.set(er,!0),dr===1&&er.setAttribute(at,"true"),or||er.setAttribute(mt,"true")}catch(pr){console.error("aria-hidden: cannot operate on ",er,pr)}})};return Lt(et),Ft.clear(),lockCount++,function(){Dt.forEach(function(Vt){var er=counterMap.get(Vt)-1,ir=Ct.get(Vt)-1;counterMap.set(Vt,er),Ct.set(Vt,ir),er||(uncontrolledNodes.has(Vt)||Vt.removeAttribute(mt),uncontrolledNodes.delete(Vt)),ir||Vt.removeAttribute(at)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(nt,et,at){at===void 0&&(at="data-aria-hidden");var mt=Array.from(Array.isArray(nt)?nt:[nt]),$t=getDefaultParent(nt);return $t?(mt.push.apply(mt,Array.from($t.querySelectorAll("[aria-live]"))),applyAttributeToOthers(mt,$t,at,"aria-hidden")):function(){return null}};function r$6(nt){var et,at,mt="";if(typeof nt=="string"||typeof nt=="number")mt+=nt;else if(typeof nt=="object")if(Array.isArray(nt)){var $t=nt.length;for(et=0;et<$t;et++)nt[et]&&(at=r$6(nt[et]))&&(mt&&(mt+=" "),mt+=at)}else for(at in nt)nt[at]&&(mt&&(mt+=" "),mt+=at);return mt}function clsx(){for(var nt,et,at=0,mt="",$t=arguments.length;at<$t;at++)(nt=arguments[at])&&(et=r$6(nt))&&(mt&&(mt+=" "),mt+=et);return mt}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(nt){return this.listeners.add(nt),this.onSubscribe(),()=>{this.listeners.delete(nt),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$6(){}function functionalUpdate(nt,et){return typeof nt=="function"?nt(et):nt}function isValidTimeout(nt){return typeof nt=="number"&&nt>=0&&nt!==1/0}function timeUntilStale(nt,et){return Math.max(nt+(et||0)-Date.now(),0)}function resolveStaleTime(nt,et){return typeof nt=="function"?nt(et):nt}function resolveEnabled(nt,et){return typeof nt=="function"?nt(et):nt}function matchQuery(nt,et){const{type:at="all",exact:mt,fetchStatus:$t,predicate:Ct,queryKey:Dt,stale:Ft}=nt;if(Dt){if(mt){if(et.queryHash!==hashQueryKeyByOptions(Dt,et.options))return!1}else if(!partialMatchKey(et.queryKey,Dt))return!1}if(at!=="all"){const Nt=et.isActive();if(at==="active"&&!Nt||at==="inactive"&&Nt)return!1}return!(typeof Ft=="boolean"&&et.isStale()!==Ft||$t&&$t!==et.state.fetchStatus||Ct&&!Ct(et))}function matchMutation(nt,et){const{exact:at,status:mt,predicate:$t,mutationKey:Ct}=nt;if(Ct){if(!et.options.mutationKey)return!1;if(at){if(hashKey(et.options.mutationKey)!==hashKey(Ct))return!1}else if(!partialMatchKey(et.options.mutationKey,Ct))return!1}return!(mt&&et.state.status!==mt||$t&&!$t(et))}function hashQueryKeyByOptions(nt,et){return((et==null?void 0:et.queryKeyHashFn)||hashKey)(nt)}function hashKey(nt){return JSON.stringify(nt,(et,at)=>isPlainObject$1(at)?Object.keys(at).sort().reduce((mt,$t)=>(mt[$t]=at[$t],mt),{}):at)}function partialMatchKey(nt,et){return nt===et?!0:typeof nt!=typeof et?!1:nt&&et&&typeof nt=="object"&&typeof et=="object"?!Object.keys(et).some(at=>!partialMatchKey(nt[at],et[at])):!1}function replaceEqualDeep(nt,et){if(nt===et)return nt;const at=isPlainArray(nt)&&isPlainArray(et);if(at||isPlainObject$1(nt)&&isPlainObject$1(et)){const mt=at?nt:Object.keys(nt),$t=mt.length,Ct=at?et:Object.keys(et),Dt=Ct.length,Ft=at?[]:{};let Nt=0;for(let jt=0;jt<Dt;jt++){const Lt=at?jt:Ct[jt];(!at&&mt.includes(Lt)||at)&&nt[Lt]===void 0&&et[Lt]===void 0?(Ft[Lt]=void 0,Nt++):(Ft[Lt]=replaceEqualDeep(nt[Lt],et[Lt]),Ft[Lt]===nt[Lt]&&nt[Lt]!==void 0&&Nt++)}return $t===Dt&&Nt===$t?nt:Ft}return et}function shallowEqualObjects(nt,et){if(!et||Object.keys(nt).length!==Object.keys(et).length)return!1;for(const at in nt)if(nt[at]!==et[at])return!1;return!0}function isPlainArray(nt){return Array.isArray(nt)&&nt.length===Object.keys(nt).length}function isPlainObject$1(nt){if(!hasObjectPrototype(nt))return!1;const et=nt.constructor;if(et===void 0)return!0;const at=et.prototype;return!(!hasObjectPrototype(at)||!at.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(nt)!==Object.prototype)}function hasObjectPrototype(nt){return Object.prototype.toString.call(nt)==="[object Object]"}function sleep$1(nt){return new Promise(et=>{setTimeout(et,nt)})}function replaceData(nt,et,at){return typeof at.structuralSharing=="function"?at.structuralSharing(nt,et):at.structuralSharing!==!1?replaceEqualDeep(nt,et):et}function addToEnd(nt,et,at=0){const mt=[...nt,et];return at&&mt.length>at?mt.slice(1):mt}function addToStart(nt,et,at=0){const mt=[et,...nt];return at&&mt.length>at?mt.slice(0,-1):mt}var skipToken=Symbol();function ensureQueryFn(nt,et){return!nt.queryFn&&(et!=null&&et.initialPromise)?()=>et.initialPromise:!nt.queryFn||nt.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${nt.queryHash}'`)):nt.queryFn}var Ol,wl,Kl,Qu,FocusManager=(Qu=class extends Subscribable{constructor(){super();No(this,Ol);No(this,wl);No(this,Kl);bo(this,Kl,et=>{if(!isServer&&window.addEventListener){const at=()=>et();return window.addEventListener("visibilitychange",at,!1),()=>{window.removeEventListener("visibilitychange",at)}}})}onSubscribe(){Kr(this,wl)||this.setEventListener(Kr(this,Kl))}onUnsubscribe(){var et;this.hasListeners()||((et=Kr(this,wl))==null||et.call(this),bo(this,wl,void 0))}setEventListener(et){var at;bo(this,Kl,et),(at=Kr(this,wl))==null||at.call(this),bo(this,wl,et(mt=>{typeof mt=="boolean"?this.setFocused(mt):this.onFocus()}))}setFocused(et){Kr(this,Ol)!==et&&(bo(this,Ol,et),this.onFocus())}onFocus(){const et=this.isFocused();this.listeners.forEach(at=>{at(et)})}isFocused(){var et;return typeof Kr(this,Ol)=="boolean"?Kr(this,Ol):((et=globalThis.document)==null?void 0:et.visibilityState)!=="hidden"}},Ol=new WeakMap,wl=new WeakMap,Kl=new WeakMap,Qu),focusManager=new FocusManager,Yl,Sl,Xl,Ju,OnlineManager=(Ju=class extends Subscribable{constructor(){super();No(this,Yl,!0);No(this,Sl);No(this,Xl);bo(this,Xl,et=>{if(!isServer&&window.addEventListener){const at=()=>et(!0),mt=()=>et(!1);return window.addEventListener("online",at,!1),window.addEventListener("offline",mt,!1),()=>{window.removeEventListener("online",at),window.removeEventListener("offline",mt)}}})}onSubscribe(){Kr(this,Sl)||this.setEventListener(Kr(this,Xl))}onUnsubscribe(){var et;this.hasListeners()||((et=Kr(this,Sl))==null||et.call(this),bo(this,Sl,void 0))}setEventListener(et){var at;bo(this,Xl,et),(at=Kr(this,Sl))==null||at.call(this),bo(this,Sl,et(this.setOnline.bind(this)))}setOnline(et){Kr(this,Yl)!==et&&(bo(this,Yl,et),this.listeners.forEach(mt=>{mt(et)}))}isOnline(){return Kr(this,Yl)}},Yl=new WeakMap,Sl=new WeakMap,Xl=new WeakMap,Ju),onlineManager=new OnlineManager;function pendingThenable(){let nt,et;const at=new Promise(($t,Ct)=>{nt=$t,et=Ct});at.status="pending",at.catch(()=>{});function mt($t){Object.assign(at,$t),delete at.resolve,delete at.reject}return at.resolve=$t=>{mt({status:"fulfilled",value:$t}),nt($t)},at.reject=$t=>{mt({status:"rejected",reason:$t}),et($t)},at}function defaultRetryDelay(nt){return Math.min(1e3*2**nt,3e4)}function canFetch(nt){return(nt??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(nt){super("CancelledError"),this.revert=nt==null?void 0:nt.revert,this.silent=nt==null?void 0:nt.silent}};function isCancelledError(nt){return nt instanceof CancelledError}function createRetryer(nt){let et=!1,at=0,mt=!1,$t;const Ct=pendingThenable(),Dt=lr=>{var dr;mt||(er(new CancelledError(lr)),(dr=nt.abort)==null||dr.call(nt))},Ft=()=>{et=!0},Nt=()=>{et=!1},jt=()=>focusManager.isFocused()&&(nt.networkMode==="always"||onlineManager.isOnline())&&nt.canRun(),Lt=()=>canFetch(nt.networkMode)&&nt.canRun(),Vt=lr=>{var dr;mt||(mt=!0,(dr=nt.onSuccess)==null||dr.call(nt,lr),$t==null||$t(),Ct.resolve(lr))},er=lr=>{var dr;mt||(mt=!0,(dr=nt.onError)==null||dr.call(nt,lr),$t==null||$t(),Ct.reject(lr))},ir=()=>new Promise(lr=>{var dr;$t=pr=>{(mt||jt())&&lr(pr)},(dr=nt.onPause)==null||dr.call(nt)}).then(()=>{var lr;$t=void 0,mt||(lr=nt.onContinue)==null||lr.call(nt)}),or=()=>{if(mt)return;let lr;const dr=at===0?nt.initialPromise:void 0;try{lr=dr??nt.fn()}catch(pr){lr=Promise.reject(pr)}Promise.resolve(lr).then(Vt).catch(pr=>{var Sr;if(mt)return;const hr=nt.retry??(isServer?0:3),vr=nt.retryDelay??defaultRetryDelay,br=typeof vr=="function"?vr(at,pr):vr,xr=hr===!0||typeof hr=="number"&&at<hr||typeof hr=="function"&&hr(at,pr);if(et||!xr){er(pr);return}at++,(Sr=nt.onFail)==null||Sr.call(nt,at,pr),sleep$1(br).then(()=>jt()?void 0:ir()).then(()=>{et?er(pr):or()})})};return{promise:Ct,cancel:Dt,continue:()=>($t==null||$t(),Ct),cancelRetry:Ft,continueRetry:Nt,canStart:Lt,start:()=>(Lt()?or():ir().then(or),Ct)}}function createNotifyManager(){let nt=[],et=0,at=Ft=>{Ft()},mt=Ft=>{Ft()},$t=Ft=>setTimeout(Ft,0);const Ct=Ft=>{et?nt.push(Ft):$t(()=>{at(Ft)})},Dt=()=>{const Ft=nt;nt=[],Ft.length&&$t(()=>{mt(()=>{Ft.forEach(Nt=>{at(Nt)})})})};return{batch:Ft=>{let Nt;et++;try{Nt=Ft()}finally{et--,et||Dt()}return Nt},batchCalls:Ft=>(...Nt)=>{Ct(()=>{Ft(...Nt)})},schedule:Ct,setNotifyFunction:Ft=>{at=Ft},setBatchNotifyFunction:Ft=>{mt=Ft},setScheduler:Ft=>{$t=Ft}}}var notifyManager=createNotifyManager(),Bl,_c,Removable=(_c=class{constructor(){No(this,Bl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&bo(this,Bl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(nt){this.gcTime=Math.max(this.gcTime||0,nt??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Kr(this,Bl)&&(clearTimeout(Kr(this,Bl)),bo(this,Bl,void 0))}},Bl=new WeakMap,_c),Zl,Ql,Is,vs,gu,Fl,Ds,Ks,_d,Query=(_d=class extends Removable{constructor(et){super();No(this,Ds);No(this,Zl);No(this,Ql);No(this,Is);No(this,vs);No(this,gu);No(this,Fl);bo(this,Fl,!1),bo(this,gu,et.defaultOptions),this.setOptions(et.options),this.observers=[],bo(this,Is,et.cache),this.queryKey=et.queryKey,this.queryHash=et.queryHash,bo(this,Zl,getDefaultState$1(this.options)),this.state=et.state??Kr(this,Zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var et;return(et=Kr(this,vs))==null?void 0:et.promise}setOptions(et){this.options={...Kr(this,gu),...et},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Kr(this,Is).remove(this)}setData(et,at){const mt=replaceData(this.state.data,et,this.options);return To(this,Ds,Ks).call(this,{data:mt,type:"success",dataUpdatedAt:at==null?void 0:at.updatedAt,manual:at==null?void 0:at.manual}),mt}setState(et,at){To(this,Ds,Ks).call(this,{type:"setState",state:et,setStateOptions:at})}cancel(et){var mt,$t;const at=(mt=Kr(this,vs))==null?void 0:mt.promise;return($t=Kr(this,vs))==null||$t.cancel(et),at?at.then(noop$6).catch(noop$6):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Kr(this,Zl))}isActive(){return this.observers.some(et=>resolveEnabled(et.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(et=>et.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(et=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,et)}onFocus(){var at;const et=this.observers.find(mt=>mt.shouldFetchOnWindowFocus());et==null||et.refetch({cancelRefetch:!1}),(at=Kr(this,vs))==null||at.continue()}onOnline(){var at;const et=this.observers.find(mt=>mt.shouldFetchOnReconnect());et==null||et.refetch({cancelRefetch:!1}),(at=Kr(this,vs))==null||at.continue()}addObserver(et){this.observers.includes(et)||(this.observers.push(et),this.clearGcTimeout(),Kr(this,Is).notify({type:"observerAdded",query:this,observer:et}))}removeObserver(et){this.observers.includes(et)&&(this.observers=this.observers.filter(at=>at!==et),this.observers.length||(Kr(this,vs)&&(Kr(this,Fl)?Kr(this,vs).cancel({revert:!0}):Kr(this,vs).cancelRetry()),this.scheduleGc()),Kr(this,Is).notify({type:"observerRemoved",query:this,observer:et}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||To(this,Ds,Ks).call(this,{type:"invalidate"})}fetch(et,at){var Nt,jt,Lt;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(at!=null&&at.cancelRefetch))this.cancel({silent:!0});else if(Kr(this,vs))return Kr(this,vs).continueRetry(),Kr(this,vs).promise}if(et&&this.setOptions(et),!this.options.queryFn){const Vt=this.observers.find(er=>er.options.queryFn);Vt&&this.setOptions(Vt.options)}const mt=new AbortController,$t=Vt=>{Object.defineProperty(Vt,"signal",{enumerable:!0,get:()=>(bo(this,Fl,!0),mt.signal)})},Ct=()=>{const Vt=ensureQueryFn(this.options,at),er={queryKey:this.queryKey,meta:this.meta};return $t(er),bo(this,Fl,!1),this.options.persister?this.options.persister(Vt,er,this):Vt(er)},Dt={fetchOptions:at,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:Ct};$t(Dt),(Nt=this.options.behavior)==null||Nt.onFetch(Dt,this),bo(this,Ql,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((jt=Dt.fetchOptions)==null?void 0:jt.meta))&&To(this,Ds,Ks).call(this,{type:"fetch",meta:(Lt=Dt.fetchOptions)==null?void 0:Lt.meta});const Ft=Vt=>{var er,ir,or,lr;isCancelledError(Vt)&&Vt.silent||To(this,Ds,Ks).call(this,{type:"error",error:Vt}),isCancelledError(Vt)||((ir=(er=Kr(this,Is).config).onError)==null||ir.call(er,Vt,this),(lr=(or=Kr(this,Is).config).onSettled)==null||lr.call(or,this.state.data,Vt,this)),this.scheduleGc()};return bo(this,vs,createRetryer({initialPromise:at==null?void 0:at.initialPromise,fn:Dt.fetchFn,abort:mt.abort.bind(mt),onSuccess:Vt=>{var er,ir,or,lr;if(Vt===void 0){Ft(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(Vt)}catch(dr){Ft(dr);return}(ir=(er=Kr(this,Is).config).onSuccess)==null||ir.call(er,Vt,this),(lr=(or=Kr(this,Is).config).onSettled)==null||lr.call(or,Vt,this.state.error,this),this.scheduleGc()},onError:Ft,onFail:(Vt,er)=>{To(this,Ds,Ks).call(this,{type:"failed",failureCount:Vt,error:er})},onPause:()=>{To(this,Ds,Ks).call(this,{type:"pause"})},onContinue:()=>{To(this,Ds,Ks).call(this,{type:"continue"})},retry:Dt.options.retry,retryDelay:Dt.options.retryDelay,networkMode:Dt.options.networkMode,canRun:()=>!0})),Kr(this,vs).start()}},Zl=new WeakMap,Ql=new WeakMap,Is=new WeakMap,vs=new WeakMap,gu=new WeakMap,Fl=new WeakMap,Ds=new WeakSet,Ks=function(et){const at=mt=>{switch(et.type){case"failed":return{...mt,fetchFailureCount:et.failureCount,fetchFailureReason:et.error};case"pause":return{...mt,fetchStatus:"paused"};case"continue":return{...mt,fetchStatus:"fetching"};case"fetch":return{...mt,...fetchState(mt.data,this.options),fetchMeta:et.meta??null};case"success":return{...mt,data:et.data,dataUpdateCount:mt.dataUpdateCount+1,dataUpdatedAt:et.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!et.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const $t=et.error;return isCancelledError($t)&&$t.revert&&Kr(this,Ql)?{...Kr(this,Ql),fetchStatus:"idle"}:{...mt,error:$t,errorUpdateCount:mt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:mt.fetchFailureCount+1,fetchFailureReason:$t,fetchStatus:"idle",status:"error"};case"invalidate":return{...mt,isInvalidated:!0};case"setState":return{...mt,...et.state}}};this.state=at(this.state),notifyManager.batch(()=>{this.observers.forEach(mt=>{mt.onQueryUpdate()}),Kr(this,Is).notify({query:this,type:"updated",action:et})})},_d);function fetchState(nt,et){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(et.networkMode)?"fetching":"paused",...nt===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(nt){const et=typeof nt.initialData=="function"?nt.initialData():nt.initialData,at=et!==void 0,mt=at?typeof nt.initialDataUpdatedAt=="function"?nt.initialDataUpdatedAt():nt.initialDataUpdatedAt:0;return{data:et,dataUpdateCount:0,dataUpdatedAt:at?mt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:at?"success":"pending",fetchStatus:"idle"}}var Vs,_f,QueryCache=(_f=class extends Subscribable{constructor(et={}){super();No(this,Vs);this.config=et,bo(this,Vs,new Map)}build(et,at,mt){const $t=at.queryKey,Ct=at.queryHash??hashQueryKeyByOptions($t,at);let Dt=this.get(Ct);return Dt||(Dt=new Query({cache:this,queryKey:$t,queryHash:Ct,options:et.defaultQueryOptions(at),state:mt,defaultOptions:et.getQueryDefaults($t)}),this.add(Dt)),Dt}add(et){Kr(this,Vs).has(et.queryHash)||(Kr(this,Vs).set(et.queryHash,et),this.notify({type:"added",query:et}))}remove(et){const at=Kr(this,Vs).get(et.queryHash);at&&(et.destroy(),at===et&&Kr(this,Vs).delete(et.queryHash),this.notify({type:"removed",query:et}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(et=>{this.remove(et)})})}get(et){return Kr(this,Vs).get(et)}getAll(){return[...Kr(this,Vs).values()]}find(et){const at={exact:!0,...et};return this.getAll().find(mt=>matchQuery(at,mt))}findAll(et={}){const at=this.getAll();return Object.keys(et).length>0?at.filter(mt=>matchQuery(et,mt)):at}notify(et){notifyManager.batch(()=>{this.listeners.forEach(at=>{at(et)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(et=>{et.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(et=>{et.onOnline()})})}},Vs=new WeakMap,_f),zs,_s,Nl,Hs,Qs,_h,Mutation=(_h=class extends Removable{constructor(et){super();No(this,Hs);No(this,zs);No(this,_s);No(this,Nl);this.mutationId=et.mutationId,bo(this,_s,et.mutationCache),bo(this,zs,[]),this.state=et.state||getDefaultState(),this.setOptions(et.options),this.scheduleGc()}setOptions(et){this.options=et,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(et){Kr(this,zs).includes(et)||(Kr(this,zs).push(et),this.clearGcTimeout(),Kr(this,_s).notify({type:"observerAdded",mutation:this,observer:et}))}removeObserver(et){bo(this,zs,Kr(this,zs).filter(at=>at!==et)),this.scheduleGc(),Kr(this,_s).notify({type:"observerRemoved",mutation:this,observer:et})}optionalRemove(){Kr(this,zs).length||(this.state.status==="pending"?this.scheduleGc():Kr(this,_s).remove(this))}continue(){var et;return((et=Kr(this,Nl))==null?void 0:et.continue())??this.execute(this.state.variables)}async execute(et){var $t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir,or,lr,dr,pr,hr,vr,br,xr,Sr,Er;bo(this,Nl,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(et):Promise.reject(new Error("No mutationFn found")),onFail:($r,Cr)=>{To(this,Hs,Qs).call(this,{type:"failed",failureCount:$r,error:Cr})},onPause:()=>{To(this,Hs,Qs).call(this,{type:"pause"})},onContinue:()=>{To(this,Hs,Qs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Kr(this,_s).canRun(this)}));const at=this.state.status==="pending",mt=!Kr(this,Nl).canStart();try{if(!at){To(this,Hs,Qs).call(this,{type:"pending",variables:et,isPaused:mt}),await((Ct=($t=Kr(this,_s).config).onMutate)==null?void 0:Ct.call($t,et,this));const Cr=await((Ft=(Dt=this.options).onMutate)==null?void 0:Ft.call(Dt,et));Cr!==this.state.context&&To(this,Hs,Qs).call(this,{type:"pending",context:Cr,variables:et,isPaused:mt})}const $r=await Kr(this,Nl).start();return await((jt=(Nt=Kr(this,_s).config).onSuccess)==null?void 0:jt.call(Nt,$r,et,this.state.context,this)),await((Vt=(Lt=this.options).onSuccess)==null?void 0:Vt.call(Lt,$r,et,this.state.context)),await((ir=(er=Kr(this,_s).config).onSettled)==null?void 0:ir.call(er,$r,null,this.state.variables,this.state.context,this)),await((lr=(or=this.options).onSettled)==null?void 0:lr.call(or,$r,null,et,this.state.context)),To(this,Hs,Qs).call(this,{type:"success",data:$r}),$r}catch($r){try{throw await((pr=(dr=Kr(this,_s).config).onError)==null?void 0:pr.call(dr,$r,et,this.state.context,this)),await((vr=(hr=this.options).onError)==null?void 0:vr.call(hr,$r,et,this.state.context)),await((xr=(br=Kr(this,_s).config).onSettled)==null?void 0:xr.call(br,void 0,$r,this.state.variables,this.state.context,this)),await((Er=(Sr=this.options).onSettled)==null?void 0:Er.call(Sr,void 0,$r,et,this.state.context)),$r}finally{To(this,Hs,Qs).call(this,{type:"error",error:$r})}}finally{Kr(this,_s).runNext(this)}}},zs=new WeakMap,_s=new WeakMap,Nl=new WeakMap,Hs=new WeakSet,Qs=function(et){const at=mt=>{switch(et.type){case"failed":return{...mt,failureCount:et.failureCount,failureReason:et.error};case"pause":return{...mt,isPaused:!0};case"continue":return{...mt,isPaused:!1};case"pending":return{...mt,context:et.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:et.isPaused,status:"pending",variables:et.variables,submittedAt:Date.now()};case"success":return{...mt,data:et.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...mt,data:void 0,error:et.error,failureCount:mt.failureCount+1,failureReason:et.error,isPaused:!1,status:"error"}}};this.state=at(this.state),notifyManager.batch(()=>{Kr(this,zs).forEach(mt=>{mt.onMutationUpdate(et)}),Kr(this,_s).notify({mutation:this,type:"updated",action:et})})},_h);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var As,vu,e0,MutationCache=(e0=class extends Subscribable{constructor(et={}){super();No(this,As);No(this,vu);this.config=et,bo(this,As,new Map),bo(this,vu,Date.now())}build(et,at,mt){const $t=new Mutation({mutationCache:this,mutationId:++Dl(this,vu)._,options:et.defaultMutationOptions(at),state:mt});return this.add($t),$t}add(et){const at=scopeFor(et),mt=Kr(this,As).get(at)??[];mt.push(et),Kr(this,As).set(at,mt),this.notify({type:"added",mutation:et})}remove(et){var mt;const at=scopeFor(et);if(Kr(this,As).has(at)){const $t=(mt=Kr(this,As).get(at))==null?void 0:mt.filter(Ct=>Ct!==et);$t&&($t.length===0?Kr(this,As).delete(at):Kr(this,As).set(at,$t))}this.notify({type:"removed",mutation:et})}canRun(et){var mt;const at=(mt=Kr(this,As).get(scopeFor(et)))==null?void 0:mt.find($t=>$t.state.status==="pending");return!at||at===et}runNext(et){var mt;const at=(mt=Kr(this,As).get(scopeFor(et)))==null?void 0:mt.find($t=>$t!==et&&$t.state.isPaused);return(at==null?void 0:at.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(et=>{this.remove(et)})})}getAll(){return[...Kr(this,As).values()].flat()}find(et){const at={exact:!0,...et};return this.getAll().find(mt=>matchMutation(at,mt))}findAll(et={}){return this.getAll().filter(at=>matchMutation(et,at))}notify(et){notifyManager.batch(()=>{this.listeners.forEach(at=>{at(et)})})}resumePausedMutations(){const et=this.getAll().filter(at=>at.state.isPaused);return notifyManager.batch(()=>Promise.all(et.map(at=>at.continue().catch(noop$6))))}},As=new WeakMap,vu=new WeakMap,e0);function scopeFor(nt){var et;return((et=nt.options.scope)==null?void 0:et.id)??String(nt.mutationId)}function infiniteQueryBehavior(nt){return{onFetch:(et,at)=>{var Lt,Vt,er,ir,or;const mt=et.options,$t=(er=(Vt=(Lt=et.fetchOptions)==null?void 0:Lt.meta)==null?void 0:Vt.fetchMore)==null?void 0:er.direction,Ct=((ir=et.state.data)==null?void 0:ir.pages)||[],Dt=((or=et.state.data)==null?void 0:or.pageParams)||[];let Ft={pages:[],pageParams:[]},Nt=0;const jt=async()=>{let lr=!1;const dr=vr=>{Object.defineProperty(vr,"signal",{enumerable:!0,get:()=>(et.signal.aborted?lr=!0:et.signal.addEventListener("abort",()=>{lr=!0}),et.signal)})},pr=ensureQueryFn(et.options,et.fetchOptions),hr=async(vr,br,xr)=>{if(lr)return Promise.reject();if(br==null&&vr.pages.length)return Promise.resolve(vr);const Sr={queryKey:et.queryKey,pageParam:br,direction:xr?"backward":"forward",meta:et.options.meta};dr(Sr);const Er=await pr(Sr),{maxPages:$r}=et.options,Cr=xr?addToStart:addToEnd;return{pages:Cr(vr.pages,Er,$r),pageParams:Cr(vr.pageParams,br,$r)}};if($t&&Ct.length){const vr=$t==="backward",br=vr?getPreviousPageParam:getNextPageParam,xr={pages:Ct,pageParams:Dt},Sr=br(mt,xr);Ft=await hr(xr,Sr,vr)}else{const vr=nt??Ct.length;do{const br=Nt===0?Dt[0]??mt.initialPageParam:getNextPageParam(mt,Ft);if(Nt>0&&br==null)break;Ft=await hr(Ft,br),Nt++}while(Nt<vr)}return Ft};et.options.persister?et.fetchFn=()=>{var lr,dr;return(dr=(lr=et.options).persister)==null?void 0:dr.call(lr,jt,{queryKey:et.queryKey,meta:et.options.meta,signal:et.signal},at)}:et.fetchFn=jt}}}function getNextPageParam(nt,{pages:et,pageParams:at}){const mt=et.length-1;return et.length>0?nt.getNextPageParam(et[mt],et,at[mt],at):void 0}function getPreviousPageParam(nt,{pages:et,pageParams:at}){var mt;return et.length>0?(mt=nt.getPreviousPageParam)==null?void 0:mt.call(nt,et[0],et,at[0],at):void 0}var cs,El,$l,Jl,eu,Cl,tu,ru,t0,QueryClient=(t0=class{constructor(nt={}){No(this,cs);No(this,El);No(this,$l);No(this,Jl);No(this,eu);No(this,Cl);No(this,tu);No(this,ru);bo(this,cs,nt.queryCache||new QueryCache),bo(this,El,nt.mutationCache||new MutationCache),bo(this,$l,nt.defaultOptions||{}),bo(this,Jl,new Map),bo(this,eu,new Map),bo(this,Cl,0)}mount(){Dl(this,Cl)._++,Kr(this,Cl)===1&&(bo(this,tu,focusManager.subscribe(async nt=>{nt&&(await this.resumePausedMutations(),Kr(this,cs).onFocus())})),bo(this,ru,onlineManager.subscribe(async nt=>{nt&&(await this.resumePausedMutations(),Kr(this,cs).onOnline())})))}unmount(){var nt,et;Dl(this,Cl)._--,Kr(this,Cl)===0&&((nt=Kr(this,tu))==null||nt.call(this),bo(this,tu,void 0),(et=Kr(this,ru))==null||et.call(this),bo(this,ru,void 0))}isFetching(nt){return Kr(this,cs).findAll({...nt,fetchStatus:"fetching"}).length}isMutating(nt){return Kr(this,El).findAll({...nt,status:"pending"}).length}getQueryData(nt){var at;const et=this.defaultQueryOptions({queryKey:nt});return(at=Kr(this,cs).get(et.queryHash))==null?void 0:at.state.data}ensureQueryData(nt){const et=this.getQueryData(nt.queryKey);if(et===void 0)return this.fetchQuery(nt);{const at=this.defaultQueryOptions(nt),mt=Kr(this,cs).build(this,at);return nt.revalidateIfStale&&mt.isStaleByTime(resolveStaleTime(at.staleTime,mt))&&this.prefetchQuery(at),Promise.resolve(et)}}getQueriesData(nt){return Kr(this,cs).findAll(nt).map(({queryKey:et,state:at})=>{const mt=at.data;return[et,mt]})}setQueryData(nt,et,at){const mt=this.defaultQueryOptions({queryKey:nt}),$t=Kr(this,cs).get(mt.queryHash),Ct=$t==null?void 0:$t.state.data,Dt=functionalUpdate(et,Ct);if(Dt!==void 0)return Kr(this,cs).build(this,mt).setData(Dt,{...at,manual:!0})}setQueriesData(nt,et,at){return notifyManager.batch(()=>Kr(this,cs).findAll(nt).map(({queryKey:mt})=>[mt,this.setQueryData(mt,et,at)]))}getQueryState(nt){var at;const et=this.defaultQueryOptions({queryKey:nt});return(at=Kr(this,cs).get(et.queryHash))==null?void 0:at.state}removeQueries(nt){const et=Kr(this,cs);notifyManager.batch(()=>{et.findAll(nt).forEach(at=>{et.remove(at)})})}resetQueries(nt,et){const at=Kr(this,cs),mt={type:"active",...nt};return notifyManager.batch(()=>(at.findAll(nt).forEach($t=>{$t.reset()}),this.refetchQueries(mt,et)))}cancelQueries(nt,et={}){const at={revert:!0,...et},mt=notifyManager.batch(()=>Kr(this,cs).findAll(nt).map($t=>$t.cancel(at)));return Promise.all(mt).then(noop$6).catch(noop$6)}invalidateQueries(nt,et={}){return notifyManager.batch(()=>{if(Kr(this,cs).findAll(nt).forEach(mt=>{mt.invalidate()}),(nt==null?void 0:nt.refetchType)==="none")return Promise.resolve();const at={...nt,type:(nt==null?void 0:nt.refetchType)??(nt==null?void 0:nt.type)??"active"};return this.refetchQueries(at,et)})}refetchQueries(nt,et={}){const at={...et,cancelRefetch:et.cancelRefetch??!0},mt=notifyManager.batch(()=>Kr(this,cs).findAll(nt).filter($t=>!$t.isDisabled()).map($t=>{let Ct=$t.fetch(void 0,at);return at.throwOnError||(Ct=Ct.catch(noop$6)),$t.state.fetchStatus==="paused"?Promise.resolve():Ct}));return Promise.all(mt).then(noop$6)}fetchQuery(nt){const et=this.defaultQueryOptions(nt);et.retry===void 0&&(et.retry=!1);const at=Kr(this,cs).build(this,et);return at.isStaleByTime(resolveStaleTime(et.staleTime,at))?at.fetch(et):Promise.resolve(at.state.data)}prefetchQuery(nt){return this.fetchQuery(nt).then(noop$6).catch(noop$6)}fetchInfiniteQuery(nt){return nt.behavior=infiniteQueryBehavior(nt.pages),this.fetchQuery(nt)}prefetchInfiniteQuery(nt){return this.fetchInfiniteQuery(nt).then(noop$6).catch(noop$6)}ensureInfiniteQueryData(nt){return nt.behavior=infiniteQueryBehavior(nt.pages),this.ensureQueryData(nt)}resumePausedMutations(){return onlineManager.isOnline()?Kr(this,El).resumePausedMutations():Promise.resolve()}getQueryCache(){return Kr(this,cs)}getMutationCache(){return Kr(this,El)}getDefaultOptions(){return Kr(this,$l)}setDefaultOptions(nt){bo(this,$l,nt)}setQueryDefaults(nt,et){Kr(this,Jl).set(hashKey(nt),{queryKey:nt,defaultOptions:et})}getQueryDefaults(nt){const et=[...Kr(this,Jl).values()],at={};return et.forEach(mt=>{partialMatchKey(nt,mt.queryKey)&&Object.assign(at,mt.defaultOptions)}),at}setMutationDefaults(nt,et){Kr(this,eu).set(hashKey(nt),{mutationKey:nt,defaultOptions:et})}getMutationDefaults(nt){const et=[...Kr(this,eu).values()];let at={};return et.forEach(mt=>{partialMatchKey(nt,mt.mutationKey)&&(at={...at,...mt.defaultOptions})}),at}defaultQueryOptions(nt){if(nt._defaulted)return nt;const et={...Kr(this,$l).queries,...this.getQueryDefaults(nt.queryKey),...nt,_defaulted:!0};return et.queryHash||(et.queryHash=hashQueryKeyByOptions(et.queryKey,et)),et.refetchOnReconnect===void 0&&(et.refetchOnReconnect=et.networkMode!=="always"),et.throwOnError===void 0&&(et.throwOnError=!!et.suspense),!et.networkMode&&et.persister&&(et.networkMode="offlineFirst"),et.queryFn===skipToken&&(et.enabled=!1),et}defaultMutationOptions(nt){return nt!=null&&nt._defaulted?nt:{...Kr(this,$l).mutations,...(nt==null?void 0:nt.mutationKey)&&this.getMutationDefaults(nt.mutationKey),...nt,_defaulted:!0}}clear(){Kr(this,cs).clear(),Kr(this,El).clear()}},cs=new WeakMap,El=new WeakMap,$l=new WeakMap,Jl=new WeakMap,eu=new WeakMap,Cl=new WeakMap,tu=new WeakMap,ru=new WeakMap,t0),Es,Zo,yu,bs,Ll,nu,Al,Ws,_u,iu,au,Ul,Vl,Tl,ou,ts,pu,ku,Mu,Iu,Pu,Du,Ou,Bu,E0,r0,QueryObserver=(r0=class extends Subscribable{constructor(et,at){super();No(this,ts);No(this,Es);No(this,Zo);No(this,yu);No(this,bs);No(this,Ll);No(this,nu);No(this,Al);No(this,Ws);No(this,_u);No(this,iu);No(this,au);No(this,Ul);No(this,Vl);No(this,Tl);No(this,ou,new Set);this.options=at,bo(this,Es,et),bo(this,Ws,null),bo(this,Al,pendingThenable()),this.options.experimental_prefetchInRender||Kr(this,Al).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(at)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Kr(this,Zo).addObserver(this),shouldFetchOnMount(Kr(this,Zo),this.options)?To(this,ts,pu).call(this):this.updateResult(),To(this,ts,Pu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Kr(this,Zo),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Kr(this,Zo),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,To(this,ts,Du).call(this),To(this,ts,Ou).call(this),Kr(this,Zo).removeObserver(this)}setOptions(et,at){const mt=this.options,$t=Kr(this,Zo);if(this.options=Kr(this,Es).defaultQueryOptions(et),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,Kr(this,Zo))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");To(this,ts,Bu).call(this),Kr(this,Zo).setOptions(this.options),mt._defaulted&&!shallowEqualObjects(this.options,mt)&&Kr(this,Es).getQueryCache().notify({type:"observerOptionsUpdated",query:Kr(this,Zo),observer:this});const Ct=this.hasListeners();Ct&&shouldFetchOptionally(Kr(this,Zo),$t,this.options,mt)&&To(this,ts,pu).call(this),this.updateResult(at),Ct&&(Kr(this,Zo)!==$t||resolveEnabled(this.options.enabled,Kr(this,Zo))!==resolveEnabled(mt.enabled,Kr(this,Zo))||resolveStaleTime(this.options.staleTime,Kr(this,Zo))!==resolveStaleTime(mt.staleTime,Kr(this,Zo)))&&To(this,ts,ku).call(this);const Dt=To(this,ts,Mu).call(this);Ct&&(Kr(this,Zo)!==$t||resolveEnabled(this.options.enabled,Kr(this,Zo))!==resolveEnabled(mt.enabled,Kr(this,Zo))||Dt!==Kr(this,Tl))&&To(this,ts,Iu).call(this,Dt)}getOptimisticResult(et){const at=Kr(this,Es).getQueryCache().build(Kr(this,Es),et),mt=this.createResult(at,et);return shouldAssignObserverCurrentProperties(this,mt)&&(bo(this,bs,mt),bo(this,nu,this.options),bo(this,Ll,Kr(this,Zo).state)),mt}getCurrentResult(){return Kr(this,bs)}trackResult(et,at){const mt={};return Object.keys(et).forEach($t=>{Object.defineProperty(mt,$t,{configurable:!1,enumerable:!0,get:()=>(this.trackProp($t),at==null||at($t),et[$t])})}),mt}trackProp(et){Kr(this,ou).add(et)}getCurrentQuery(){return Kr(this,Zo)}refetch({...et}={}){return this.fetch({...et})}fetchOptimistic(et){const at=Kr(this,Es).defaultQueryOptions(et),mt=Kr(this,Es).getQueryCache().build(Kr(this,Es),at);return mt.fetch().then(()=>this.createResult(mt,at))}fetch(et){return To(this,ts,pu).call(this,{...et,cancelRefetch:et.cancelRefetch??!0}).then(()=>(this.updateResult(),Kr(this,bs)))}createResult(et,at){var $r;const mt=Kr(this,Zo),$t=this.options,Ct=Kr(this,bs),Dt=Kr(this,Ll),Ft=Kr(this,nu),jt=et!==mt?et.state:Kr(this,yu),{state:Lt}=et;let Vt={...Lt},er=!1,ir;if(at._optimisticResults){const Cr=this.hasListeners(),kr=!Cr&&shouldFetchOnMount(et,at),gr=Cr&&shouldFetchOptionally(et,mt,at,$t);(kr||gr)&&(Vt={...Vt,...fetchState(Lt.data,et.options)}),at._optimisticResults==="isRestoring"&&(Vt.fetchStatus="idle")}let{error:or,errorUpdatedAt:lr,status:dr}=Vt;if(at.select&&Vt.data!==void 0)if(Ct&&Vt.data===(Dt==null?void 0:Dt.data)&&at.select===Kr(this,_u))ir=Kr(this,iu);else try{bo(this,_u,at.select),ir=at.select(Vt.data),ir=replaceData(Ct==null?void 0:Ct.data,ir,at),bo(this,iu,ir),bo(this,Ws,null)}catch(Cr){bo(this,Ws,Cr)}else ir=Vt.data;if(at.placeholderData!==void 0&&ir===void 0&&dr==="pending"){let Cr;if(Ct!=null&&Ct.isPlaceholderData&&at.placeholderData===(Ft==null?void 0:Ft.placeholderData))Cr=Ct.data;else if(Cr=typeof at.placeholderData=="function"?at.placeholderData(($r=Kr(this,au))==null?void 0:$r.state.data,Kr(this,au)):at.placeholderData,at.select&&Cr!==void 0)try{Cr=at.select(Cr),bo(this,Ws,null)}catch(kr){bo(this,Ws,kr)}Cr!==void 0&&(dr="success",ir=replaceData(Ct==null?void 0:Ct.data,Cr,at),er=!0)}Kr(this,Ws)&&(or=Kr(this,Ws),ir=Kr(this,iu),lr=Date.now(),dr="error");const pr=Vt.fetchStatus==="fetching",hr=dr==="pending",vr=dr==="error",br=hr&&pr,xr=ir!==void 0,Er={status:dr,fetchStatus:Vt.fetchStatus,isPending:hr,isSuccess:dr==="success",isError:vr,isInitialLoading:br,isLoading:br,data:ir,dataUpdatedAt:Vt.dataUpdatedAt,error:or,errorUpdatedAt:lr,failureCount:Vt.fetchFailureCount,failureReason:Vt.fetchFailureReason,errorUpdateCount:Vt.errorUpdateCount,isFetched:Vt.dataUpdateCount>0||Vt.errorUpdateCount>0,isFetchedAfterMount:Vt.dataUpdateCount>jt.dataUpdateCount||Vt.errorUpdateCount>jt.errorUpdateCount,isFetching:pr,isRefetching:pr&&!hr,isLoadingError:vr&&!xr,isPaused:Vt.fetchStatus==="paused",isPlaceholderData:er,isRefetchError:vr&&xr,isStale:isStale(et,at),refetch:this.refetch,promise:Kr(this,Al)};if(this.options.experimental_prefetchInRender){const Cr=Ut=>{Er.status==="error"?Ut.reject(Er.error):Er.data!==void 0&&Ut.resolve(Er.data)},kr=()=>{const Ut=bo(this,Al,Er.promise=pendingThenable());Cr(Ut)},gr=Kr(this,Al);switch(gr.status){case"pending":et.queryHash===mt.queryHash&&Cr(gr);break;case"fulfilled":(Er.status==="error"||Er.data!==gr.value)&&kr();break;case"rejected":(Er.status!=="error"||Er.error!==gr.reason)&&kr();break}}return Er}updateResult(et){const at=Kr(this,bs),mt=this.createResult(Kr(this,Zo),this.options);if(bo(this,Ll,Kr(this,Zo).state),bo(this,nu,this.options),Kr(this,Ll).data!==void 0&&bo(this,au,Kr(this,Zo)),shallowEqualObjects(mt,at))return;bo(this,bs,mt);const $t={},Ct=()=>{if(!at)return!0;const{notifyOnChangeProps:Dt}=this.options,Ft=typeof Dt=="function"?Dt():Dt;if(Ft==="all"||!Ft&&!Kr(this,ou).size)return!0;const Nt=new Set(Ft??Kr(this,ou));return this.options.throwOnError&&Nt.add("error"),Object.keys(Kr(this,bs)).some(jt=>{const Lt=jt;return Kr(this,bs)[Lt]!==at[Lt]&&Nt.has(Lt)})};(et==null?void 0:et.listeners)!==!1&&Ct()&&($t.listeners=!0),To(this,ts,E0).call(this,{...$t,...et})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&To(this,ts,Pu).call(this)}},Es=new WeakMap,Zo=new WeakMap,yu=new WeakMap,bs=new WeakMap,Ll=new WeakMap,nu=new WeakMap,Al=new WeakMap,Ws=new WeakMap,_u=new WeakMap,iu=new WeakMap,au=new WeakMap,Ul=new WeakMap,Vl=new WeakMap,Tl=new WeakMap,ou=new WeakMap,ts=new WeakSet,pu=function(et){To(this,ts,Bu).call(this);let at=Kr(this,Zo).fetch(this.options,et);return et!=null&&et.throwOnError||(at=at.catch(noop$6)),at},ku=function(){To(this,ts,Du).call(this);const et=resolveStaleTime(this.options.staleTime,Kr(this,Zo));if(isServer||Kr(this,bs).isStale||!isValidTimeout(et))return;const mt=timeUntilStale(Kr(this,bs).dataUpdatedAt,et)+1;bo(this,Ul,setTimeout(()=>{Kr(this,bs).isStale||this.updateResult()},mt))},Mu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Kr(this,Zo)):this.options.refetchInterval)??!1},Iu=function(et){To(this,ts,Ou).call(this),bo(this,Tl,et),!(isServer||resolveEnabled(this.options.enabled,Kr(this,Zo))===!1||!isValidTimeout(Kr(this,Tl))||Kr(this,Tl)===0)&&bo(this,Vl,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&To(this,ts,pu).call(this)},Kr(this,Tl)))},Pu=function(){To(this,ts,ku).call(this),To(this,ts,Iu).call(this,To(this,ts,Mu).call(this))},Du=function(){Kr(this,Ul)&&(clearTimeout(Kr(this,Ul)),bo(this,Ul,void 0))},Ou=function(){Kr(this,Vl)&&(clearInterval(Kr(this,Vl)),bo(this,Vl,void 0))},Bu=function(){const et=Kr(this,Es).getQueryCache().build(Kr(this,Es),this.options);if(et===Kr(this,Zo))return;const at=Kr(this,Zo);bo(this,Zo,et),bo(this,yu,et.state),this.hasListeners()&&(at==null||at.removeObserver(this),et.addObserver(this))},E0=function(et){notifyManager.batch(()=>{et.listeners&&this.listeners.forEach(at=>{at(Kr(this,bs))}),Kr(this,Es).getQueryCache().notify({query:Kr(this,Zo),type:"observerResultsUpdated"})})},r0);function shouldLoadOnMount(nt,et){return resolveEnabled(et.enabled,nt)!==!1&&nt.state.data===void 0&&!(nt.state.status==="error"&&et.retryOnMount===!1)}function shouldFetchOnMount(nt,et){return shouldLoadOnMount(nt,et)||nt.state.data!==void 0&&shouldFetchOn(nt,et,et.refetchOnMount)}function shouldFetchOn(nt,et,at){if(resolveEnabled(et.enabled,nt)!==!1){const mt=typeof at=="function"?at(nt):at;return mt==="always"||mt!==!1&&isStale(nt,et)}return!1}function shouldFetchOptionally(nt,et,at,mt){return(nt!==et||resolveEnabled(mt.enabled,nt)===!1)&&(!at.suspense||nt.state.status!=="error")&&isStale(nt,at)}function isStale(nt,et){return resolveEnabled(et.enabled,nt)!==!1&&nt.isStaleByTime(resolveStaleTime(et.staleTime,nt))}function shouldAssignObserverCurrentProperties(nt,et){return!shallowEqualObjects(nt.getCurrentResult(),et)}var Rl,Ml,$s,Ys,Zs,wu,Fu,n0,MutationObserver$1=(n0=class extends Subscribable{constructor(at,mt){super();No(this,Zs);No(this,Rl);No(this,Ml);No(this,$s);No(this,Ys);bo(this,Rl,at),this.setOptions(mt),this.bindMethods(),To(this,Zs,wu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(at){var $t;const mt=this.options;this.options=Kr(this,Rl).defaultMutationOptions(at),shallowEqualObjects(this.options,mt)||Kr(this,Rl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Kr(this,$s),observer:this}),mt!=null&&mt.mutationKey&&this.options.mutationKey&&hashKey(mt.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():(($t=Kr(this,$s))==null?void 0:$t.state.status)==="pending"&&Kr(this,$s).setOptions(this.options)}onUnsubscribe(){var at;this.hasListeners()||(at=Kr(this,$s))==null||at.removeObserver(this)}onMutationUpdate(at){To(this,Zs,wu).call(this),To(this,Zs,Fu).call(this,at)}getCurrentResult(){return Kr(this,Ml)}reset(){var at;(at=Kr(this,$s))==null||at.removeObserver(this),bo(this,$s,void 0),To(this,Zs,wu).call(this),To(this,Zs,Fu).call(this)}mutate(at,mt){var $t;return bo(this,Ys,mt),($t=Kr(this,$s))==null||$t.removeObserver(this),bo(this,$s,Kr(this,Rl).getMutationCache().build(Kr(this,Rl),this.options)),Kr(this,$s).addObserver(this),Kr(this,$s).execute(at)}},Rl=new WeakMap,Ml=new WeakMap,$s=new WeakMap,Ys=new WeakMap,Zs=new WeakSet,wu=function(){var mt;const at=((mt=Kr(this,$s))==null?void 0:mt.state)??getDefaultState();bo(this,Ml,{...at,isPending:at.status==="pending",isSuccess:at.status==="success",isError:at.status==="error",isIdle:at.status==="idle",mutate:this.mutate,reset:this.reset})},Fu=function(at){notifyManager.batch(()=>{var mt,$t,Ct,Dt,Ft,Nt,jt,Lt;if(Kr(this,Ys)&&this.hasListeners()){const Vt=Kr(this,Ml).variables,er=Kr(this,Ml).context;(at==null?void 0:at.type)==="success"?(($t=(mt=Kr(this,Ys)).onSuccess)==null||$t.call(mt,at.data,Vt,er),(Dt=(Ct=Kr(this,Ys)).onSettled)==null||Dt.call(Ct,at.data,null,Vt,er)):(at==null?void 0:at.type)==="error"&&((Nt=(Ft=Kr(this,Ys)).onError)==null||Nt.call(Ft,at.error,Vt,er),(Lt=(jt=Kr(this,Ys)).onSettled)==null||Lt.call(jt,void 0,at.error,Vt,er))}this.listeners.forEach(Vt=>{Vt(Kr(this,Ml))})})},n0),QueryClientContext=reactExports.createContext(void 0),useQueryClient=nt=>{const et=reactExports.useContext(QueryClientContext);if(!et)throw new Error("No QueryClient set, use QueryClientProvider to set one");return et},QueryClientProvider=({client:nt,children:et})=>(reactExports.useEffect(()=>(nt.mount(),()=>{nt.unmount()}),[nt]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:nt,children:et})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let nt=!1;return{clearReset:()=>{nt=!1},reset:()=>{nt=!0},isReset:()=>nt}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(nt,et){return typeof nt=="function"?nt(...et):!!nt}function noop$5(){}var ensurePreventErrorBoundaryRetry=(nt,et)=>{(nt.suspense||nt.throwOnError||nt.experimental_prefetchInRender)&&(et.isReset()||(nt.retryOnMount=!1))},useClearResetErrorBoundary=nt=>{reactExports.useEffect(()=>{nt.clearReset()},[nt])},getHasError=({result:nt,errorResetBoundary:et,throwOnError:at,query:mt})=>nt.isError&&!et.isReset()&&!nt.isFetching&&mt&&shouldThrowError(at,[nt.error,mt]),ensureSuspenseTimers=nt=>{nt.suspense&&(nt.staleTime===void 0&&(nt.staleTime=1e3),typeof nt.gcTime=="number"&&(nt.gcTime=Math.max(nt.gcTime,1e3)))},willFetch=(nt,et)=>nt.isLoading&&nt.isFetching&&!et,shouldSuspend=(nt,et)=>(nt==null?void 0:nt.suspense)&&et.isPending,fetchOptimistic=(nt,et,at)=>et.fetchOptimistic(nt).catch(()=>{at.clearReset()});function useBaseQuery(nt,et,at){var Lt,Vt,er,ir,or;const mt=useQueryClient(),$t=useIsRestoring(),Ct=useQueryErrorResetBoundary(),Dt=mt.defaultQueryOptions(nt);(Vt=(Lt=mt.getDefaultOptions().queries)==null?void 0:Lt._experimental_beforeQuery)==null||Vt.call(Lt,Dt),Dt._optimisticResults=$t?"isRestoring":"optimistic",ensureSuspenseTimers(Dt),ensurePreventErrorBoundaryRetry(Dt,Ct),useClearResetErrorBoundary(Ct);const Ft=!mt.getQueryCache().get(Dt.queryHash),[Nt]=reactExports.useState(()=>new et(mt,Dt)),jt=Nt.getOptimisticResult(Dt);if(reactExports.useSyncExternalStore(reactExports.useCallback(lr=>{const dr=$t?noop$5:Nt.subscribe(notifyManager.batchCalls(lr));return Nt.updateResult(),dr},[Nt,$t]),()=>Nt.getCurrentResult(),()=>Nt.getCurrentResult()),reactExports.useEffect(()=>{Nt.setOptions(Dt,{listeners:!1})},[Dt,Nt]),shouldSuspend(Dt,jt))throw fetchOptimistic(Dt,Nt,Ct);if(getHasError({result:jt,errorResetBoundary:Ct,throwOnError:Dt.throwOnError,query:mt.getQueryCache().get(Dt.queryHash)}))throw jt.error;if((ir=(er=mt.getDefaultOptions().queries)==null?void 0:er._experimental_afterQuery)==null||ir.call(er,Dt,jt),Dt.experimental_prefetchInRender&&!isServer&&willFetch(jt,$t)){const lr=Ft?fetchOptimistic(Dt,Nt,Ct):(or=mt.getQueryCache().get(Dt.queryHash))==null?void 0:or.promise;lr==null||lr.catch(noop$5).finally(()=>{Nt.updateResult()})}return Dt.notifyOnChangeProps?jt:Nt.trackResult(jt)}function useQuery(nt,et){return useBaseQuery(nt,QueryObserver)}function useMutation(nt,et){const at=useQueryClient(),[mt]=reactExports.useState(()=>new MutationObserver$1(at,nt));reactExports.useEffect(()=>{mt.setOptions(nt)},[mt,nt]);const $t=reactExports.useSyncExternalStore(reactExports.useCallback(Dt=>mt.subscribe(notifyManager.batchCalls(Dt)),[mt]),()=>mt.getCurrentResult(),()=>mt.getCurrentResult()),Ct=reactExports.useCallback((Dt,Ft)=>{mt.mutate(Dt,Ft).catch(noop$5)},[mt]);if($t.error&&shouldThrowError(mt.options.throwOnError,[$t.error]))throw $t.error;return{...$t,mutate:Ct,mutateAsync:$t.mutate}}const __vite_import_meta_env__$2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_ENV:"mainnet"},createStoreImpl=nt=>{let et;const at=new Set,mt=(Lt,Vt)=>{const er=typeof Lt=="function"?Lt(et):Lt;if(!Object.is(er,et)){const ir=et;et=Vt??(typeof er!="object"||er===null)?er:Object.assign({},et,er),at.forEach(or=>or(et,ir))}},$t=()=>et,Nt={setState:mt,getState:$t,getInitialState:()=>jt,subscribe:Lt=>(at.add(Lt),()=>at.delete(Lt)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),at.clear()}},jt=et=nt(mt,$t,Nt);return Nt},createStore$1=nt=>nt?createStoreImpl(nt):createStoreImpl;var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$3=reactExports;function h$3(nt,et){return nt===et&&(nt!==0||1/nt===1/et)||nt!==nt&&et!==et}var k$3=typeof Object.is=="function"?Object.is:h$3,l$2=e$3.useState,m$4=e$3.useEffect,n$3=e$3.useLayoutEffect,p$2=e$3.useDebugValue;function q$4(nt,et){var at=et(),mt=l$2({inst:{value:at,getSnapshot:et}}),$t=mt[0].inst,Ct=mt[1];return n$3(function(){$t.value=at,$t.getSnapshot=et,r$5($t)&&Ct({inst:$t})},[nt,at,et]),m$4(function(){return r$5($t)&&Ct({inst:$t}),nt(function(){r$5($t)&&Ct({inst:$t})})},[nt]),p$2(at),at}function r$5(nt){var et=nt.getSnapshot;nt=nt.value;try{var at=et();return!k$3(nt,at)}catch{return!0}}function t$4(nt,et){return et()}var u$4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$4:q$4;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$3.useSyncExternalStore!==void 0?e$3.useSyncExternalStore:u$4;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$2=shimExports;function p$1(nt,et){return nt===et&&(nt!==0||1/nt===1/et)||nt!==nt&&et!==et}var q$3=typeof Object.is=="function"?Object.is:p$1,r$4=n$2.useSyncExternalStore,t$3=h$2.useRef,u$3=h$2.useEffect,v$6=h$2.useMemo,w$4=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(nt,et,at,mt,$t){var Ct=t$3(null);if(Ct.current===null){var Dt={hasValue:!1,value:null};Ct.current=Dt}else Dt=Ct.current;Ct=v$6(function(){function Nt(ir){if(!jt){if(jt=!0,Lt=ir,ir=mt(ir),$t!==void 0&&Dt.hasValue){var or=Dt.value;if($t(or,ir))return Vt=or}return Vt=ir}if(or=Vt,q$3(Lt,ir))return or;var lr=mt(ir);return $t!==void 0&&$t(or,lr)?or:(Lt=ir,Vt=lr)}var jt=!1,Lt,Vt,er=at===void 0?null:at;return[function(){return Nt(et())},er===null?void 0:function(){return Nt(er())}]},[et,at,mt,$t]);var Ft=r$4(nt,Ct[0],Ct[1]);return u$3(function(){Dt.hasValue=!0,Dt.value=Ft},[Ft]),w$4(Ft),Ft};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs$2(withSelectorExports),__vite_import_meta_env__$1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_ENV:"mainnet"},{useDebugValue}=React,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$1=nt=>nt;function useStore(nt,et=identity$1,at){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&at&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const mt=useSyncExternalStoreWithSelector(nt.subscribe,nt.getState,nt.getServerState||nt.getInitialState,et,at);return useDebugValue(mt),mt}const createImpl=nt=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof nt!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const et=typeof nt=="function"?createStore$1(nt):nt,at=(mt,$t)=>useStore(et,mt,$t);return Object.assign(at,et),at},create$3=nt=>nt?createImpl(nt):createImpl;var __classPrivateFieldGet$1=function(nt,et,at,mt){if(at==="a"&&!mt)throw new TypeError("Private accessor was defined without a getter");if(typeof et=="function"?nt!==et||!mt:!et.has(nt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return at==="m"?mt:at==="a"?mt.call(nt):mt?mt.value:et.get(nt)},__classPrivateFieldSet$1=function(nt,et,at,mt,$t){if(mt==="m")throw new TypeError("Private method is not writable");if(mt==="a"&&!$t)throw new TypeError("Private accessor was defined without a setter");if(typeof et=="function"?nt!==et||!$t:!et.has(nt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return mt==="a"?$t.call(nt,at):$t?$t.value=at:et.set(nt,at),at},_AppReadyEvent_detail;let wallets;const registeredWalletsSet=new Set;function addRegisteredWallet(nt){cachedWalletsArray=void 0,registeredWalletsSet.add(nt)}function removeRegisteredWallet(nt){cachedWalletsArray=void 0,registeredWalletsSet.delete(nt)}const listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$6,on}),typeof window>"u"))return wallets;const nt=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:et})=>et(nt))}catch(et){console.error(`wallet-standard:register-wallet event listener could not be added
`,et)}try{window.dispatchEvent(new AppReadyEvent(nt))}catch(et){console.error(`wallet-standard:app-ready event could not be dispatched
`,et)}return wallets}function register(...nt){var et;return nt=nt.filter(at=>!registeredWalletsSet.has(at)),nt.length?(nt.forEach(at=>addRegisteredWallet(at)),(et=listeners.register)==null||et.forEach(at=>guard$1(()=>at(...nt))),function(){var mt;nt.forEach($t=>removeRegisteredWallet($t)),(mt=listeners.unregister)==null||mt.forEach($t=>guard$1(()=>$t(...nt)))}):()=>{}}let cachedWalletsArray;function get$6(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on(nt,et){var at;return(at=listeners[nt])!=null&&at.push(et)||(listeners[nt]=[et]),function(){var $t;listeners[nt]=($t=listeners[nt])==null?void 0:$t.filter(Ct=>et!==Ct)}}function guard$1(nt){try{nt()}catch(et){console.error(et)}}class AppReadyEvent extends Event{get detail(){return __classPrivateFieldGet$1(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(et){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet$1(this,_AppReadyEvent_detail,et,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;var __classPrivateFieldGet=function(nt,et,at,mt){if(at==="a"&&!mt)throw new TypeError("Private accessor was defined without a getter");if(typeof et=="function"?nt!==et||!mt:!et.has(nt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return at==="m"?mt:at==="a"?mt.call(nt):mt?mt.value:et.get(nt)},__classPrivateFieldSet=function(nt,et,at,mt,$t){if(mt==="m")throw new TypeError("Private method is not writable");if(mt==="a"&&!$t)throw new TypeError("Private accessor was defined without a setter");if(typeof et=="function"?nt!==et||!$t:!et.has(nt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return mt==="a"?$t.call(nt,at):$t?$t.value=at:et.set(nt,at),at},_ReadonlyWalletAccount_address,_ReadonlyWalletAccount_publicKey,_ReadonlyWalletAccount_chains,_ReadonlyWalletAccount_features,_ReadonlyWalletAccount_label,_ReadonlyWalletAccount_icon;class ReadonlyWalletAccount{get address(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_address,"f")}get publicKey(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_publicKey,"f").slice()}get chains(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_chains,"f").slice()}get features(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_features,"f").slice()}get label(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_label,"f")}get icon(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_icon,"f")}constructor(et){_ReadonlyWalletAccount_address.set(this,void 0),_ReadonlyWalletAccount_publicKey.set(this,void 0),_ReadonlyWalletAccount_chains.set(this,void 0),_ReadonlyWalletAccount_features.set(this,void 0),_ReadonlyWalletAccount_label.set(this,void 0),_ReadonlyWalletAccount_icon.set(this,void 0),new.target===ReadonlyWalletAccount&&Object.freeze(this),__classPrivateFieldSet(this,_ReadonlyWalletAccount_address,et.address,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_publicKey,et.publicKey.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_chains,et.chains.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_features,et.features.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_label,et.label,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_icon,et.icon,"f")}}_ReadonlyWalletAccount_address=new WeakMap,_ReadonlyWalletAccount_publicKey=new WeakMap,_ReadonlyWalletAccount_chains=new WeakMap,_ReadonlyWalletAccount_features=new WeakMap,_ReadonlyWalletAccount_label=new WeakMap,_ReadonlyWalletAccount_icon=new WeakMap;function base$2(nt){if(nt.length>=255)throw new TypeError("Alphabet too long");const et=new Uint8Array(256);for(let jt=0;jt<et.length;jt++)et[jt]=255;for(let jt=0;jt<nt.length;jt++){const Lt=nt.charAt(jt),Vt=Lt.charCodeAt(0);if(et[Vt]!==255)throw new TypeError(Lt+" is ambiguous");et[Vt]=jt}const at=nt.length,mt=nt.charAt(0),$t=Math.log(at)/Math.log(256),Ct=Math.log(256)/Math.log(at);function Dt(jt){if(jt instanceof Uint8Array||(ArrayBuffer.isView(jt)?jt=new Uint8Array(jt.buffer,jt.byteOffset,jt.byteLength):Array.isArray(jt)&&(jt=Uint8Array.from(jt))),!(jt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(jt.length===0)return"";let Lt=0,Vt=0,er=0;const ir=jt.length;for(;er!==ir&&jt[er]===0;)er++,Lt++;const or=(ir-er)*Ct+1>>>0,lr=new Uint8Array(or);for(;er!==ir;){let hr=jt[er],vr=0;for(let br=or-1;(hr!==0||vr<Vt)&&br!==-1;br--,vr++)hr+=256*lr[br]>>>0,lr[br]=hr%at>>>0,hr=hr/at>>>0;if(hr!==0)throw new Error("Non-zero carry");Vt=vr,er++}let dr=or-Vt;for(;dr!==or&&lr[dr]===0;)dr++;let pr=mt.repeat(Lt);for(;dr<or;++dr)pr+=nt.charAt(lr[dr]);return pr}function Ft(jt){if(typeof jt!="string")throw new TypeError("Expected String");if(jt.length===0)return new Uint8Array;let Lt=0,Vt=0,er=0;for(;jt[Lt]===mt;)Vt++,Lt++;const ir=(jt.length-Lt)*$t+1>>>0,or=new Uint8Array(ir);for(;jt[Lt];){let hr=et[jt.charCodeAt(Lt)];if(hr===255)return;let vr=0;for(let br=ir-1;(hr!==0||vr<er)&&br!==-1;br--,vr++)hr+=at*or[br]>>>0,or[br]=hr%256>>>0,hr=hr/256>>>0;if(hr!==0)throw new Error("Non-zero carry");er=vr,Lt++}let lr=ir-er;for(;lr!==ir&&or[lr]===0;)lr++;const dr=new Uint8Array(Vt+(ir-lr));let pr=Vt;for(;lr!==ir;)dr[pr++]=or[lr++];return dr}function Nt(jt){const Lt=Ft(jt);if(Lt)return Lt;throw new Error("Non-base"+at+" character")}return{encode:Dt,decodeUnsafe:Ft,decode:Nt}}var ALPHABET$2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const bs58=base$2(ALPHABET$2),toBase58=nt=>bs58.encode(nt),fromBase58=nt=>bs58.decode(nt);function fromBase64(nt){return Uint8Array.from(atob(nt),et=>et.charCodeAt(0))}const CHUNK_SIZE=8192;function toBase64(nt){if(nt.length<CHUNK_SIZE)return btoa(String.fromCharCode(...nt));let et="";for(var at=0;at<nt.length;at+=CHUNK_SIZE){const mt=nt.slice(at,at+CHUNK_SIZE);et+=String.fromCharCode(...mt)}return btoa(et)}const toB64=toBase64,fromB64=fromBase64;function fromHex(nt){var $t;const et=nt.startsWith("0x")?nt.slice(2):nt,at=et.length%2===0?et:`0${et}`,mt=(($t=at.match(/[0-9a-fA-F]{2}/g))==null?void 0:$t.map(Ct=>parseInt(Ct,16)))??[];if(mt.length!==at.length/2)throw new Error(`Invalid hex string ${nt}`);return Uint8Array.from(mt)}function toHex$2(nt){return nt.reduce((et,at)=>et+at.toString(16).padStart(2,"0"),"")}const toHEX=toHex$2,fromHEX=fromHex;function ulebEncode(nt){let et=[],at=0;if(nt===0)return[0];for(;nt>0;)et[at]=nt&127,(nt>>=7)&&(et[at]|=128),at+=1;return et}function ulebDecode(nt){let et=0,at=0,mt=0;for(;;){let $t=nt[mt];if(mt+=1,et|=($t&127)<<at,!($t&128))break;at+=7}return{value:et,length:mt}}class BcsReader{constructor(et){this.bytePosition=0,this.dataView=new DataView(et.buffer)}shift(et){return this.bytePosition+=et,this}read8(){let et=this.dataView.getUint8(this.bytePosition);return this.shift(1),et}read16(){let et=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),et}read32(){let et=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),et}read64(){let et=this.read32(),mt=this.read32().toString(16)+et.toString(16).padStart(8,"0");return BigInt("0x"+mt).toString(10)}read128(){let et=BigInt(this.read64()),mt=BigInt(this.read64()).toString(16)+et.toString(16).padStart(16,"0");return BigInt("0x"+mt).toString(10)}read256(){let et=BigInt(this.read128()),mt=BigInt(this.read128()).toString(16)+et.toString(16).padStart(32,"0");return BigInt("0x"+mt).toString(10)}readBytes(et){let at=this.bytePosition+this.dataView.byteOffset,mt=new Uint8Array(this.dataView.buffer,at,et);return this.shift(et),mt}readULEB(){let et=this.bytePosition+this.dataView.byteOffset,at=new Uint8Array(this.dataView.buffer,et),{value:mt,length:$t}=ulebDecode(at);return this.shift($t),mt}readVec(et){let at=this.readULEB(),mt=[];for(let $t=0;$t<at;$t++)mt.push(et(this,$t,at));return mt}}function encodeStr(nt,et){switch(et){case"base58":return toBase58(nt);case"base64":return toBase64(nt);case"hex":return toHex$2(nt);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function splitGenericParameters(nt,et=["<",">"]){const[at,mt]=et,$t=[];let Ct="",Dt=0;for(let Ft=0;Ft<nt.length;Ft++){const Nt=nt[Ft];if(Nt===at&&Dt++,Nt===mt&&Dt--,Dt===0&&Nt===","){$t.push(Ct.trim()),Ct="";continue}Ct+=Nt}return $t.push(Ct.trim()),$t}class BcsWriter{constructor({initialSize:et=1024,maxSize:at=1/0,allocateSize:mt=1024}={}){this.bytePosition=0,this.size=et,this.maxSize=at,this.allocateSize=mt,this.dataView=new DataView(new ArrayBuffer(et))}ensureSizeOrGrow(et){const at=this.bytePosition+et;if(at>this.size){const mt=Math.min(this.maxSize,this.size+this.allocateSize);if(at>mt)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${at}`);this.size=mt;const $t=new ArrayBuffer(this.size);new Uint8Array($t).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView($t)}}shift(et){return this.bytePosition+=et,this}write8(et){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(et)),this.shift(1)}write16(et){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(et),!0),this.shift(2)}write32(et){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(et),!0),this.shift(4)}write64(et){return toLittleEndian(BigInt(et),8).forEach(at=>this.write8(at)),this}write128(et){return toLittleEndian(BigInt(et),16).forEach(at=>this.write8(at)),this}write256(et){return toLittleEndian(BigInt(et),32).forEach(at=>this.write8(at)),this}writeULEB(et){return ulebEncode(et).forEach(at=>this.write8(at)),this}writeVec(et,at){return this.writeULEB(et.length),Array.from(et).forEach((mt,$t)=>at(this,mt,$t,et.length)),this}*[Symbol.iterator](){for(let et=0;et<this.bytePosition;et++)yield this.dataView.getUint8(et);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(et){return encodeStr(this.toBytes(),et)}}function toLittleEndian(nt,et){let at=new Uint8Array(et),mt=0;for(;nt>0;)at[mt]=Number(nt%BigInt(256)),nt=nt/BigInt(256),mt+=1;return at}var __typeError$8=nt=>{throw TypeError(nt)},__accessCheck$8=(nt,et,at)=>et.has(nt)||__typeError$8("Cannot "+at),__privateGet$8=(nt,et,at)=>(__accessCheck$8(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$8=(nt,et,at)=>et.has(nt)?__typeError$8("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet$7=(nt,et,at,mt)=>(__accessCheck$8(nt,et,"write to private field"),et.set(nt,at),at),_write,_serialize,_schema,_bytes;const _BcsType=class $0{constructor(et){__privateAdd$8(this,_write),__privateAdd$8(this,_serialize),this.name=et.name,this.read=et.read,this.serializedSize=et.serializedSize??(()=>null),__privateSet$7(this,_write,et.write),__privateSet$7(this,_serialize,et.serialize??((at,mt)=>{const $t=new BcsWriter({initialSize:this.serializedSize(at)??void 0,...mt});return __privateGet$8(this,_write).call(this,at,$t),$t.toBytes()})),this.validate=et.validate??(()=>{})}write(et,at){this.validate(et),__privateGet$8(this,_write).call(this,et,at)}serialize(et,at){return this.validate(et),new SerializedBcs(this,__privateGet$8(this,_serialize).call(this,et,at))}parse(et){const at=new BcsReader(et);return this.read(at)}fromHex(et){return this.parse(fromHex(et))}fromBase58(et){return this.parse(fromBase58(et))}fromBase64(et){return this.parse(fromBase64(et))}transform({name:et,input:at,output:mt,validate:$t}){return new $0({name:et??this.name,read:Ct=>mt(this.read(Ct)),write:(Ct,Dt)=>__privateGet$8(this,_write).call(this,at(Ct),Dt),serializedSize:Ct=>this.serializedSize(at(Ct)),serialize:(Ct,Dt)=>__privateGet$8(this,_serialize).call(this,at(Ct),Dt),validate:Ct=>{$t==null||$t(Ct),this.validate(at(Ct))}})}};_write=new WeakMap;_serialize=new WeakMap;let BcsType=_BcsType;const SERIALIZED_BCS_BRAND=Symbol.for("@mysten/serialized-bcs");function isSerializedBcs(nt){return!!nt&&typeof nt=="object"&&nt[SERIALIZED_BCS_BRAND]===!0}class SerializedBcs{constructor(et,at){__privateAdd$8(this,_schema),__privateAdd$8(this,_bytes),__privateSet$7(this,_schema,et),__privateSet$7(this,_bytes,at)}get[SERIALIZED_BCS_BRAND](){return!0}toBytes(){return __privateGet$8(this,_bytes)}toHex(){return toHex$2(__privateGet$8(this,_bytes))}toBase64(){return toBase64(__privateGet$8(this,_bytes))}toBase58(){return toBase58(__privateGet$8(this,_bytes))}parse(){return __privateGet$8(this,_schema).parse(__privateGet$8(this,_bytes))}}_schema=new WeakMap;_bytes=new WeakMap;function fixedSizeBcsType({size:nt,...et}){return new BcsType({...et,serializedSize:()=>nt})}function uIntBcsType({readMethod:nt,writeMethod:et,...at}){return fixedSizeBcsType({...at,read:mt=>mt[nt](),write:(mt,$t)=>$t[et](mt),validate:mt=>{var $t;if(mt<0||mt>at.maxValue)throw new TypeError(`Invalid ${at.name} value: ${mt}. Expected value in range 0-${at.maxValue}`);($t=at.validate)==null||$t.call(at,mt)}})}function bigUIntBcsType({readMethod:nt,writeMethod:et,...at}){return fixedSizeBcsType({...at,read:mt=>mt[nt](),write:(mt,$t)=>$t[et](BigInt(mt)),validate:mt=>{var Ct;const $t=BigInt(mt);if($t<0||$t>at.maxValue)throw new TypeError(`Invalid ${at.name} value: ${$t}. Expected value in range 0-${at.maxValue}`);(Ct=at.validate)==null||Ct.call(at,$t)}})}function dynamicSizeBcsType({serialize:nt,...et}){const at=new BcsType({...et,serialize:nt,write:(mt,$t)=>{for(const Ct of at.serialize(mt).toBytes())$t.write8(Ct)}});return at}function stringLikeBcsType({toBytes:nt,fromBytes:et,...at}){return new BcsType({...at,read:mt=>{const $t=mt.readULEB(),Ct=mt.readBytes($t);return et(Ct)},write:(mt,$t)=>{const Ct=nt(mt);$t.writeULEB(Ct.length);for(let Dt=0;Dt<Ct.length;Dt++)$t.write8(Ct[Dt])},serialize:mt=>{const $t=nt(mt),Ct=ulebEncode($t.length),Dt=new Uint8Array(Ct.length+$t.length);return Dt.set(Ct,0),Dt.set($t,Ct.length),Dt},validate:mt=>{var $t;if(typeof mt!="string")throw new TypeError(`Invalid ${at.name} value: ${mt}. Expected string`);($t=at.validate)==null||$t.call(at,mt)}})}function lazyBcsType(nt){let et=null;function at(){return et||(et=nt()),et}return new BcsType({name:"lazy",read:mt=>at().read(mt),serializedSize:mt=>at().serializedSize(mt),write:(mt,$t)=>at().write(mt,$t),serialize:(mt,$t)=>at().serialize(mt,$t).toBytes()})}const bcs$1={u8(nt){return uIntBcsType({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...nt})},u16(nt){return uIntBcsType({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...nt})},u32(nt){return uIntBcsType({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...nt})},u64(nt){return bigUIntBcsType({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...nt})},u128(nt){return bigUIntBcsType({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...nt})},u256(nt){return bigUIntBcsType({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...nt})},bool(nt){return fixedSizeBcsType({name:"bool",size:1,read:et=>et.read8()===1,write:(et,at)=>at.write8(et?1:0),...nt,validate:et=>{var at;if((at=nt==null?void 0:nt.validate)==null||at.call(nt,et),typeof et!="boolean")throw new TypeError(`Expected boolean, found ${typeof et}`)}})},uleb128(nt){return dynamicSizeBcsType({name:"uleb128",read:et=>et.readULEB(),serialize:et=>Uint8Array.from(ulebEncode(et)),...nt})},bytes(nt,et){return fixedSizeBcsType({name:`bytes[${nt}]`,size:nt,read:at=>at.readBytes(nt),write:(at,mt)=>{const $t=new Uint8Array(at);for(let Ct=0;Ct<nt;Ct++)mt.write8($t[Ct]??0)},...et,validate:at=>{var mt;if((mt=et==null?void 0:et.validate)==null||mt.call(et,at),!at||typeof at!="object"||!("length"in at))throw new TypeError(`Expected array, found ${typeof at}`);if(at.length!==nt)throw new TypeError(`Expected array of length ${nt}, found ${at.length}`)}})},string(nt){return stringLikeBcsType({name:"string",toBytes:et=>new TextEncoder().encode(et),fromBytes:et=>new TextDecoder().decode(et),...nt})},fixedArray(nt,et,at){return new BcsType({name:`${et.name}[${nt}]`,read:mt=>{const $t=new Array(nt);for(let Ct=0;Ct<nt;Ct++)$t[Ct]=et.read(mt);return $t},write:(mt,$t)=>{for(const Ct of mt)et.write(Ct,$t)},...at,validate:mt=>{var $t;if(($t=at==null?void 0:at.validate)==null||$t.call(at,mt),!mt||typeof mt!="object"||!("length"in mt))throw new TypeError(`Expected array, found ${typeof mt}`);if(mt.length!==nt)throw new TypeError(`Expected array of length ${nt}, found ${mt.length}`)}})},option(nt){return bcs$1.enum(`Option<${nt.name}>`,{None:null,Some:nt}).transform({input:et=>et==null?{None:!0}:{Some:et},output:et=>et.$kind==="Some"?et.Some:null})},vector(nt,et){return new BcsType({name:`vector<${nt.name}>`,read:at=>{const mt=at.readULEB(),$t=new Array(mt);for(let Ct=0;Ct<mt;Ct++)$t[Ct]=nt.read(at);return $t},write:(at,mt)=>{mt.writeULEB(at.length);for(const $t of at)nt.write($t,mt)},...et,validate:at=>{var mt;if((mt=et==null?void 0:et.validate)==null||mt.call(et,at),!at||typeof at!="object"||!("length"in at))throw new TypeError(`Expected array, found ${typeof at}`)}})},tuple(nt,et){return new BcsType({name:`(${nt.map(at=>at.name).join(", ")})`,serializedSize:at=>{let mt=0;for(let $t=0;$t<nt.length;$t++){const Ct=nt[$t].serializedSize(at[$t]);if(Ct==null)return null;mt+=Ct}return mt},read:at=>{const mt=[];for(const $t of nt)mt.push($t.read(at));return mt},write:(at,mt)=>{for(let $t=0;$t<nt.length;$t++)nt[$t].write(at[$t],mt)},...et,validate:at=>{var mt;if((mt=et==null?void 0:et.validate)==null||mt.call(et,at),!Array.isArray(at))throw new TypeError(`Expected array, found ${typeof at}`);if(at.length!==nt.length)throw new TypeError(`Expected array of length ${nt.length}, found ${at.length}`)}})},struct(nt,et,at){const mt=Object.entries(et);return new BcsType({name:nt,serializedSize:$t=>{let Ct=0;for(const[Dt,Ft]of mt){const Nt=Ft.serializedSize($t[Dt]);if(Nt==null)return null;Ct+=Nt}return Ct},read:$t=>{const Ct={};for(const[Dt,Ft]of mt)Ct[Dt]=Ft.read($t);return Ct},write:($t,Ct)=>{for(const[Dt,Ft]of mt)Ft.write($t[Dt],Ct)},...at,validate:$t=>{var Ct;if((Ct=at==null?void 0:at.validate)==null||Ct.call(at,$t),typeof $t!="object"||$t==null)throw new TypeError(`Expected object, found ${typeof $t}`)}})},enum(nt,et,at){const mt=Object.entries(et);return new BcsType({name:nt,read:$t=>{const Ct=$t.readULEB(),Dt=mt[Ct];if(!Dt)throw new TypeError(`Unknown value ${Ct} for enum ${nt}`);const[Ft,Nt]=Dt;return{[Ft]:(Nt==null?void 0:Nt.read($t))??!0,$kind:Ft}},write:($t,Ct)=>{const[Dt,Ft]=Object.entries($t).filter(([Nt])=>Object.hasOwn(et,Nt))[0];for(let Nt=0;Nt<mt.length;Nt++){const[jt,Lt]=mt[Nt];if(jt===Dt){Ct.writeULEB(Nt),Lt==null||Lt.write(Ft,Ct);return}}},...at,validate:$t=>{var Ft;if((Ft=at==null?void 0:at.validate)==null||Ft.call(at,$t),typeof $t!="object"||$t==null)throw new TypeError(`Expected object, found ${typeof $t}`);const Ct=Object.keys($t).filter(Nt=>$t[Nt]!==void 0&&Object.hasOwn(et,Nt));if(Ct.length!==1)throw new TypeError(`Expected object with one key, but found ${Ct.length} for type ${nt}}`);const[Dt]=Ct;if(!Object.hasOwn(et,Dt))throw new TypeError(`Invalid enum variant ${Dt}`)}})},map(nt,et){return bcs$1.vector(bcs$1.tuple([nt,et])).transform({name:`Map<${nt.name}, ${et.name}>`,input:at=>[...at.entries()],output:at=>{const mt=new Map;for(const[$t,Ct]of at)mt.set($t,Ct);return mt}})},lazy(nt){return lazyBcsType(nt)}},TX_DIGEST_LENGTH=32;function isValidTransactionDigest(nt){try{return fromBase58(nt).length===TX_DIGEST_LENGTH}catch{return!1}}const SUI_ADDRESS_LENGTH=32;function isValidSuiAddress(nt){return isHex$2(nt)&&getHexByteLength(nt)===SUI_ADDRESS_LENGTH}function isValidSuiObjectId(nt){return isValidSuiAddress(nt)}function parseTypeTag(nt){return nt.includes("::")?parseStructTag(nt):nt}function parseStructTag(nt){const[et,at]=nt.split("::"),mt=nt.slice(et.length+at.length+4),$t=mt.includes("<")?mt.slice(0,mt.indexOf("<")):mt,Ct=mt.includes("<")?splitGenericParameters(mt.slice(mt.indexOf("<")+1,mt.lastIndexOf(">"))).map(Dt=>parseTypeTag(Dt.trim())):[];return{address:normalizeSuiAddress(et),module:at,name:$t,typeParams:Ct}}function normalizeStructTag(nt){const{address:et,module:at,name:mt,typeParams:$t}=typeof nt=="string"?parseStructTag(nt):nt,Ct=($t==null?void 0:$t.length)>0?`<${$t.map(Dt=>typeof Dt=="string"?Dt:normalizeStructTag(Dt)).join(",")}>`:"";return`${et}::${at}::${mt}${Ct}`}function normalizeSuiAddress(nt,et=!1){let at=nt.toLowerCase();return!et&&at.startsWith("0x")&&(at=at.slice(2)),`0x${at.padStart(SUI_ADDRESS_LENGTH*2,"0")}`}function normalizeSuiObjectId(nt,et=!1){return normalizeSuiAddress(nt,et)}function isHex$2(nt){return/^(0x|0X)?[a-fA-F0-9]+$/.test(nt)&&nt.length%2===0}function getHexByteLength(nt){return/^(0x|0X)/.test(nt)?(nt.length-2)/2:nt.length/2}const VECTOR_REGEX=/^vector<(.+)>$/,STRUCT_REGEX=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class TypeTagSerializer{static parseFromStr(et,at=!1){if(et==="address")return{address:null};if(et==="bool")return{bool:null};if(et==="u8")return{u8:null};if(et==="u16")return{u16:null};if(et==="u32")return{u32:null};if(et==="u64")return{u64:null};if(et==="u128")return{u128:null};if(et==="u256")return{u256:null};if(et==="signer")return{signer:null};const mt=et.match(VECTOR_REGEX);if(mt)return{vector:TypeTagSerializer.parseFromStr(mt[1],at)};const $t=et.match(STRUCT_REGEX);if($t)return{struct:{address:at?normalizeSuiAddress($t[1]):$t[1],module:$t[2],name:$t[3],typeParams:$t[5]===void 0?[]:TypeTagSerializer.parseStructTypeArgs($t[5],at)}};throw new Error(`Encountered unexpected token when parsing type args for ${et}`)}static parseStructTypeArgs(et,at=!1){return splitGenericParameters(et).map(mt=>TypeTagSerializer.parseFromStr(mt,at))}static tagToString(et){if("bool"in et)return"bool";if("u8"in et)return"u8";if("u16"in et)return"u16";if("u32"in et)return"u32";if("u64"in et)return"u64";if("u128"in et)return"u128";if("u256"in et)return"u256";if("address"in et)return"address";if("signer"in et)return"signer";if("vector"in et)return`vector<${TypeTagSerializer.tagToString(et.vector)}>`;if("struct"in et){const at=et.struct,mt=at.typeParams.map(TypeTagSerializer.tagToString).join(", ");return`${at.address}::${at.module}::${at.name}${mt?`<${mt}>`:""}`}throw new Error("Invalid TypeTag")}}function unsafe_u64(nt){return bcs$1.u64({name:"unsafe_u64",...nt}).transform({input:et=>et,output:et=>Number(et)})}function optionEnum(nt){return bcs$1.enum("Option",{None:null,Some:nt})}const Address=bcs$1.bytes(SUI_ADDRESS_LENGTH).transform({validate:nt=>{const et=typeof nt=="string"?nt:toHex$2(nt);if(!et||!isValidSuiAddress(normalizeSuiAddress(et)))throw new Error(`Invalid Sui address ${et}`)},input:nt=>typeof nt=="string"?fromHex(normalizeSuiAddress(nt)):nt,output:nt=>normalizeSuiAddress(toHex$2(nt))}),ObjectDigest=bcs$1.vector(bcs$1.u8()).transform({name:"ObjectDigest",input:nt=>fromBase58(nt),output:nt=>toBase58(new Uint8Array(nt)),validate:nt=>{if(fromBase58(nt).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef=bcs$1.struct("SuiObjectRef",{objectId:Address,version:bcs$1.u64(),digest:ObjectDigest}),SharedObjectRef=bcs$1.struct("SharedObjectRef",{objectId:Address,initialSharedVersion:bcs$1.u64(),mutable:bcs$1.bool()}),ObjectArg$3=bcs$1.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef,SharedObject:SharedObjectRef,Receiving:SuiObjectRef}),CallArg$2=bcs$1.enum("CallArg",{Pure:bcs$1.struct("Pure",{bytes:bcs$1.vector(bcs$1.u8()).transform({input:nt=>typeof nt=="string"?fromBase64(nt):nt,output:nt=>toBase64(new Uint8Array(nt))})}),Object:ObjectArg$3}),InnerTypeTag=bcs$1.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:bcs$1.lazy(()=>InnerTypeTag),struct:bcs$1.lazy(()=>StructTag$1),u16:null,u32:null,u256:null}),TypeTag$1=InnerTypeTag.transform({input:nt=>typeof nt=="string"?TypeTagSerializer.parseFromStr(nt,!0):nt,output:nt=>TypeTagSerializer.tagToString(nt)}),Argument$2=bcs$1.enum("Argument",{GasCoin:null,Input:bcs$1.u16(),Result:bcs$1.u16(),NestedResult:bcs$1.tuple([bcs$1.u16(),bcs$1.u16()])}),ProgrammableMoveCall$2=bcs$1.struct("ProgrammableMoveCall",{package:Address,module:bcs$1.string(),function:bcs$1.string(),typeArguments:bcs$1.vector(TypeTag$1),arguments:bcs$1.vector(Argument$2)}),Command$2=bcs$1.enum("Command",{MoveCall:ProgrammableMoveCall$2,TransferObjects:bcs$1.struct("TransferObjects",{objects:bcs$1.vector(Argument$2),address:Argument$2}),SplitCoins:bcs$1.struct("SplitCoins",{coin:Argument$2,amounts:bcs$1.vector(Argument$2)}),MergeCoins:bcs$1.struct("MergeCoins",{destination:Argument$2,sources:bcs$1.vector(Argument$2)}),Publish:bcs$1.struct("Publish",{modules:bcs$1.vector(bcs$1.vector(bcs$1.u8()).transform({input:nt=>typeof nt=="string"?fromBase64(nt):nt,output:nt=>toBase64(new Uint8Array(nt))})),dependencies:bcs$1.vector(Address)}),MakeMoveVec:bcs$1.struct("MakeMoveVec",{type:optionEnum(TypeTag$1).transform({input:nt=>nt===null?{None:!0}:{Some:nt},output:nt=>nt.Some??null}),elements:bcs$1.vector(Argument$2)}),Upgrade:bcs$1.struct("Upgrade",{modules:bcs$1.vector(bcs$1.vector(bcs$1.u8()).transform({input:nt=>typeof nt=="string"?fromBase64(nt):nt,output:nt=>toBase64(new Uint8Array(nt))})),dependencies:bcs$1.vector(Address),package:Address,ticket:Argument$2})}),ProgrammableTransaction=bcs$1.struct("ProgrammableTransaction",{inputs:bcs$1.vector(CallArg$2),commands:bcs$1.vector(Command$2)}),TransactionKind=bcs$1.enum("TransactionKind",{ProgrammableTransaction,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration$3=bcs$1.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64()}),StructTag$1=bcs$1.struct("StructTag",{address:Address,module:bcs$1.string(),name:bcs$1.string(),typeParams:bcs$1.vector(InnerTypeTag)}),GasData$2=bcs$1.struct("GasData",{payment:bcs$1.vector(SuiObjectRef),owner:Address,price:bcs$1.u64(),budget:bcs$1.u64()}),TransactionDataV1=bcs$1.struct("TransactionDataV1",{kind:TransactionKind,sender:Address,gasData:GasData$2,expiration:TransactionExpiration$3}),TransactionData$1=bcs$1.enum("TransactionData",{V1:TransactionDataV1}),IntentScope=bcs$1.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion=bcs$1.enum("IntentVersion",{V0:null}),AppId=bcs$1.enum("AppId",{Sui:null}),Intent=bcs$1.struct("Intent",{scope:IntentScope,version:IntentVersion,appId:AppId});function IntentMessage(nt){return bcs$1.struct(`IntentMessage<${nt.name}>`,{intent:Intent,value:nt})}const CompressedSignature=bcs$1.enum("CompressedSignature",{ED25519:bcs$1.fixedArray(64,bcs$1.u8()),Secp256k1:bcs$1.fixedArray(64,bcs$1.u8()),Secp256r1:bcs$1.fixedArray(64,bcs$1.u8()),ZkLogin:bcs$1.vector(bcs$1.u8())}),PublicKey$1=bcs$1.enum("PublicKey",{ED25519:bcs$1.fixedArray(32,bcs$1.u8()),Secp256k1:bcs$1.fixedArray(33,bcs$1.u8()),Secp256r1:bcs$1.fixedArray(33,bcs$1.u8()),ZkLogin:bcs$1.vector(bcs$1.u8())}),MultiSigPkMap=bcs$1.struct("MultiSigPkMap",{pubKey:PublicKey$1,weight:bcs$1.u8()}),MultiSigPublicKey=bcs$1.struct("MultiSigPublicKey",{pk_map:bcs$1.vector(MultiSigPkMap),threshold:bcs$1.u16()}),MultiSig=bcs$1.struct("MultiSig",{sigs:bcs$1.vector(CompressedSignature),bitmap:bcs$1.u16(),multisig_pk:MultiSigPublicKey}),base64String=bcs$1.vector(bcs$1.u8()).transform({input:nt=>typeof nt=="string"?fromBase64(nt):nt,output:nt=>toBase64(new Uint8Array(nt))}),SenderSignedTransaction=bcs$1.struct("SenderSignedTransaction",{intentMessage:IntentMessage(TransactionData$1),txSignatures:bcs$1.vector(base64String)}),SenderSignedData=bcs$1.vector(SenderSignedTransaction,{name:"SenderSignedData"}),PackageUpgradeError=bcs$1.enum("PackageUpgradeError",{UnableToFetchPackage:bcs$1.struct("UnableToFetchPackage",{packageId:Address}),NotAPackage:bcs$1.struct("NotAPackage",{objectId:Address}),IncompatibleUpgrade:null,DigestDoesNotMatch:bcs$1.struct("DigestDoesNotMatch",{digest:bcs$1.vector(bcs$1.u8())}),UnknownUpgradePolicy:bcs$1.struct("UnknownUpgradePolicy",{policy:bcs$1.u8()}),PackageIDDoesNotMatch:bcs$1.struct("PackageIDDoesNotMatch",{packageId:Address,ticketId:Address})}),ModuleId=bcs$1.struct("ModuleId",{address:Address,name:bcs$1.string()}),MoveLocation=bcs$1.struct("MoveLocation",{module:ModuleId,function:bcs$1.u16(),instruction:bcs$1.u16(),functionName:bcs$1.option(bcs$1.string())}),CommandArgumentError=bcs$1.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:bcs$1.struct("IndexOutOfBounds",{idx:bcs$1.u16()}),SecondaryIndexOutOfBounds:bcs$1.struct("SecondaryIndexOutOfBounds",{resultIdx:bcs$1.u16(),secondaryIdx:bcs$1.u16()}),InvalidResultArity:bcs$1.struct("InvalidResultArity",{resultIdx:bcs$1.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError=bcs$1.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus=bcs$1.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:bcs$1.struct("MoveObjectTooBig",{objectSize:bcs$1.u64(),maxObjectSize:bcs$1.u64()}),MovePackageTooBig:bcs$1.struct("MovePackageTooBig",{objectSize:bcs$1.u64(),maxObjectSize:bcs$1.u64()}),CircularObjectOwnership:bcs$1.struct("CircularObjectOwnership",{object:Address}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:bcs$1.option(MoveLocation),MoveAbort:bcs$1.tuple([MoveLocation,bcs$1.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:bcs$1.struct("CommandArgumentError",{argIdx:bcs$1.u16(),kind:CommandArgumentError}),TypeArgumentError:bcs$1.struct("TypeArgumentError",{argumentIdx:bcs$1.u16(),kind:TypeArgumentError}),UnusedValueWithoutDrop:bcs$1.struct("UnusedValueWithoutDrop",{resultIdx:bcs$1.u16(),secondaryIdx:bcs$1.u16()}),InvalidPublicFunctionReturnType:bcs$1.struct("InvalidPublicFunctionReturnType",{idx:bcs$1.u16()}),InvalidTransferObject:null,EffectsTooLarge:bcs$1.struct("EffectsTooLarge",{currentSize:bcs$1.u64(),maxSize:bcs$1.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:bcs$1.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError}),WrittenObjectsTooLarge:bcs$1.struct("WrittenObjectsTooLarge",{currentSize:bcs$1.u64(),maxSize:bcs$1.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:bcs$1.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:bcs$1.vector(Address)}),AddressDeniedForCoin:bcs$1.struct("AddressDeniedForCoin",{address:Address,coinType:bcs$1.string()}),CoinTypeGlobalPause:bcs$1.struct("CoinTypeGlobalPause",{coinType:bcs$1.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus=bcs$1.enum("ExecutionStatus",{Success:null,Failed:bcs$1.struct("ExecutionFailed",{error:ExecutionFailureStatus,command:bcs$1.option(bcs$1.u64())})}),GasCostSummary=bcs$1.struct("GasCostSummary",{computationCost:bcs$1.u64(),storageCost:bcs$1.u64(),storageRebate:bcs$1.u64(),nonRefundableStorageFee:bcs$1.u64()}),Owner=bcs$1.enum("Owner",{AddressOwner:Address,ObjectOwner:Address,Shared:bcs$1.struct("Shared",{initialSharedVersion:bcs$1.u64()}),Immutable:null}),TransactionEffectsV1=bcs$1.struct("TransactionEffectsV1",{status:ExecutionStatus,executedEpoch:bcs$1.u64(),gasUsed:GasCostSummary,modifiedAtVersions:bcs$1.vector(bcs$1.tuple([Address,bcs$1.u64()])),sharedObjects:bcs$1.vector(SuiObjectRef),transactionDigest:ObjectDigest,created:bcs$1.vector(bcs$1.tuple([SuiObjectRef,Owner])),mutated:bcs$1.vector(bcs$1.tuple([SuiObjectRef,Owner])),unwrapped:bcs$1.vector(bcs$1.tuple([SuiObjectRef,Owner])),deleted:bcs$1.vector(SuiObjectRef),unwrappedThenDeleted:bcs$1.vector(SuiObjectRef),wrapped:bcs$1.vector(SuiObjectRef),gasObject:bcs$1.tuple([SuiObjectRef,Owner]),eventsDigest:bcs$1.option(ObjectDigest),dependencies:bcs$1.vector(ObjectDigest)}),VersionDigest=bcs$1.tuple([bcs$1.u64(),ObjectDigest]),ObjectIn=bcs$1.enum("ObjectIn",{NotExist:null,Exist:bcs$1.tuple([VersionDigest,Owner])}),ObjectOut=bcs$1.enum("ObjectOut",{NotExist:null,ObjectWrite:bcs$1.tuple([ObjectDigest,Owner]),PackageWrite:VersionDigest}),IDOperation=bcs$1.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange=bcs$1.struct("EffectsObjectChange",{inputState:ObjectIn,outputState:ObjectOut,idOperation:IDOperation}),UnchangedSharedKind=bcs$1.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest,MutateDeleted:bcs$1.u64(),ReadDeleted:bcs$1.u64(),Cancelled:bcs$1.u64(),PerEpochConfig:null}),TransactionEffectsV2=bcs$1.struct("TransactionEffectsV2",{status:ExecutionStatus,executedEpoch:bcs$1.u64(),gasUsed:GasCostSummary,transactionDigest:ObjectDigest,gasObjectIndex:bcs$1.option(bcs$1.u32()),eventsDigest:bcs$1.option(ObjectDigest),dependencies:bcs$1.vector(ObjectDigest),lamportVersion:bcs$1.u64(),changedObjects:bcs$1.vector(bcs$1.tuple([Address,EffectsObjectChange])),unchangedSharedObjects:bcs$1.vector(bcs$1.tuple([Address,UnchangedSharedKind])),auxDataDigest:bcs$1.option(ObjectDigest)}),TransactionEffects=bcs$1.enum("TransactionEffects",{V1:TransactionEffectsV1,V2:TransactionEffectsV2}),suiBcs={...bcs$1,U8:bcs$1.u8(),U16:bcs$1.u16(),U32:bcs$1.u32(),U64:bcs$1.u64(),U128:bcs$1.u128(),U256:bcs$1.u256(),ULEB128:bcs$1.uleb128(),Bool:bcs$1.bool(),String:bcs$1.string(),Address,AppId,Argument:Argument$2,CallArg:CallArg$2,CompressedSignature,GasData:GasData$2,Intent,IntentMessage,IntentScope,IntentVersion,MultiSig,MultiSigPkMap,MultiSigPublicKey,ObjectArg:ObjectArg$3,ObjectDigest,ProgrammableMoveCall:ProgrammableMoveCall$2,ProgrammableTransaction,PublicKey:PublicKey$1,SenderSignedData,SenderSignedTransaction,SharedObjectRef,StructTag:StructTag$1,SuiObjectRef,Command:Command$2,TransactionData:TransactionData$1,TransactionDataV1,TransactionExpiration:TransactionExpiration$3,TransactionKind,TypeTag:TypeTag$1,TransactionEffects},bcs=Object.freeze(Object.defineProperty({__proto__:null,BcsType,TypeTagSerializer,bcs:suiBcs},Symbol.toStringTag,{value:"Module"})),ELLIPSIS="…";function formatAddress(nt){if(nt.length<=6)return nt;const et=nt.startsWith("0x")?2:0;return`0x${nt.slice(et,et+4)}${ELLIPSIS}${nt.slice(-4)}`}function formatDigest(nt){return`${nt.slice(0,10)}${ELLIPSIS}`}const SUI_NS_NAME_REGEX=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH=235;function isValidSuiNSName(nt){return nt.length>MAX_SUI_NS_NAME_LENGTH?!1:nt.includes("@")?SUI_NS_NAME_REGEX.test(nt):SUI_NS_DOMAIN_REGEX.test(nt)}function normalizeSuiNSName(nt,et="at"){const at=nt.toLowerCase();let mt;if(at.includes("@")){if(!SUI_NS_NAME_REGEX.test(at))throw new Error(`Invalid SuiNS name ${nt}`);const[$t,Ct]=at.split("@");mt=[...$t?$t.split("."):[],Ct]}else{if(!SUI_NS_DOMAIN_REGEX.test(at))throw new Error(`Invalid SuiNS name ${nt}`);mt=at.split(".").slice(0,-1)}return et==="dot"?`${mt.join(".")}.sui`:`${mt.slice(0,-1).join(".")}@${mt[mt.length-1]}`}const SUI_DECIMALS=9,MIST_PER_SUI=BigInt(1e9),MOVE_STDLIB_ADDRESS="0x1",SUI_FRAMEWORK_ADDRESS="0x2",SUI_SYSTEM_ADDRESS="0x3",SUI_CLOCK_OBJECT_ID=normalizeSuiObjectId("0x6"),SUI_SYSTEM_MODULE_NAME="sui_system",SUI_TYPE_ARG=`${SUI_FRAMEWORK_ADDRESS}::sui::SUI`,SUI_SYSTEM_STATE_OBJECT_ID=normalizeSuiObjectId("0x5"),NAME_PATTERN=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX=/^\d+$/,MAX_APP_SIZE=64,NAME_SEPARATOR="/",isValidNamedPackage=nt=>{const et=nt.split(NAME_SEPARATOR);if(et.length<2||et.length>3)return!1;const[at,mt,$t]=et;return $t!==void 0&&!VERSION_REGEX.test($t)||!isValidSuiNSName(at)?!1:NAME_PATTERN.test(mt)&&mt.length<MAX_APP_SIZE},isValidNamedType=nt=>{const et=nt.split(/::|<|>|,/);for(const at of et)if(at.includes(NAME_SEPARATOR)&&!isValidNamedPackage(at))return!1;return!0};function anumber(nt){if(!Number.isSafeInteger(nt)||nt<0)throw new Error("positive integer expected, got "+nt)}function isBytes(nt){return nt instanceof Uint8Array||ArrayBuffer.isView(nt)&&nt.constructor.name==="Uint8Array"}function abytes(nt,...et){if(!isBytes(nt))throw new Error("Uint8Array expected");if(et.length>0&&!et.includes(nt.length))throw new Error("Uint8Array expected of length "+et+", got length="+nt.length)}function ahash(nt){if(typeof nt!="function"||typeof nt.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(nt.outputLen),anumber(nt.blockLen)}function aexists(nt,et=!0){if(nt.destroyed)throw new Error("Hash instance has been destroyed");if(et&&nt.finished)throw new Error("Hash#digest() has already been called")}function aoutput(nt,et){abytes(nt);const at=et.outputLen;if(nt.length<at)throw new Error("digestInto() expects output buffer of length at least "+at)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=nt=>new Uint32Array(nt.buffer,nt.byteOffset,Math.floor(nt.byteLength/4)),createView=nt=>new DataView(nt.buffer,nt.byteOffset,nt.byteLength),isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,byteSwap=nt=>nt<<24&4278190080|nt<<8&16711680|nt>>>8&65280|nt>>>24&255,byteSwapIfBE=isLE?nt=>nt:nt=>byteSwap(nt);function byteSwap32(nt){for(let et=0;et<nt.length;et++)nt[et]=byteSwap(nt[et])}const hexes=Array.from({length:256},(nt,et)=>et.toString(16).padStart(2,"0"));function bytesToHex(nt){abytes(nt);let et="";for(let at=0;at<nt.length;at++)et+=hexes[nt[at]];return et}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(nt){if(nt>=asciis._0&&nt<=asciis._9)return nt-asciis._0;if(nt>=asciis.A&&nt<=asciis.F)return nt-(asciis.A-10);if(nt>=asciis.a&&nt<=asciis.f)return nt-(asciis.a-10)}function hexToBytes(nt){if(typeof nt!="string")throw new Error("hex string expected, got "+typeof nt);const et=nt.length,at=et/2;if(et%2)throw new Error("hex string expected, got unpadded hex of length "+et);const mt=new Uint8Array(at);for(let $t=0,Ct=0;$t<at;$t++,Ct+=2){const Dt=asciiToBase16(nt.charCodeAt(Ct)),Ft=asciiToBase16(nt.charCodeAt(Ct+1));if(Dt===void 0||Ft===void 0){const Nt=nt[Ct]+nt[Ct+1];throw new Error('hex string expected, got non-hex character "'+Nt+'" at index '+Ct)}mt[$t]=Dt*16+Ft}return mt}function utf8ToBytes(nt){if(typeof nt!="string")throw new Error("utf8ToBytes expected string, got "+typeof nt);return new Uint8Array(new TextEncoder().encode(nt))}function toBytes(nt){return typeof nt=="string"&&(nt=utf8ToBytes(nt)),abytes(nt),nt}let Hash$1=class{clone(){return this._cloneInto()}};function checkOpts(nt,et){if(et!==void 0&&{}.toString.call(et)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(nt,et)}function wrapConstructor(nt){const et=mt=>nt().update(toBytes(mt)).digest(),at=nt();return et.outputLen=at.outputLen,et.blockLen=at.blockLen,et.create=()=>nt(),et}function wrapConstructorWithOpts(nt){const et=(mt,$t)=>nt($t).update(toBytes(mt)).digest(),at=nt({});return et.outputLen=at.outputLen,et.blockLen=at.blockLen,et.create=mt=>nt(mt),et}const SIGMA$1=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class BLAKE extends Hash$1{constructor(et,at,mt={},$t,Ct,Dt){if(super(),this.blockLen=et,this.outputLen=at,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,anumber(et),anumber(at),anumber($t),at<0||at>$t)throw new Error("outputLen bigger than keyLen");if(mt.key!==void 0&&(mt.key.length<1||mt.key.length>$t))throw new Error("key length must be undefined or 1.."+$t);if(mt.salt!==void 0&&mt.salt.length!==Ct)throw new Error("salt must be undefined or "+Ct);if(mt.personalization!==void 0&&mt.personalization.length!==Dt)throw new Error("personalization must be undefined or "+Dt);this.buffer=new Uint8Array(et),this.buffer32=u32(this.buffer)}update(et){aexists(this);const{blockLen:at,buffer:mt,buffer32:$t}=this;et=toBytes(et);const Ct=et.length,Dt=et.byteOffset,Ft=et.buffer;for(let Nt=0;Nt<Ct;){this.pos===at&&(isLE||byteSwap32($t),this.compress($t,0,!1),isLE||byteSwap32($t),this.pos=0);const jt=Math.min(at-this.pos,Ct-Nt),Lt=Dt+Nt;if(jt===at&&!(Lt%4)&&Nt+jt<Ct){const Vt=new Uint32Array(Ft,Lt,Math.floor((Ct-Nt)/4));isLE||byteSwap32(Vt);for(let er=0;Nt+at<Ct;er+=$t.length,Nt+=at)this.length+=at,this.compress(Vt,er,!1);isLE||byteSwap32(Vt);continue}mt.set(et.subarray(Nt,Nt+jt),this.pos),this.pos+=jt,this.length+=jt,Nt+=jt}return this}digestInto(et){aexists(this),aoutput(et,this);const{pos:at,buffer32:mt}=this;this.finished=!0,this.buffer.subarray(at).fill(0),isLE||byteSwap32(mt),this.compress(mt,0,!0),isLE||byteSwap32(mt);const $t=u32(et);this.get().forEach((Ct,Dt)=>$t[Dt]=byteSwapIfBE(Ct))}digest(){const{buffer:et,outputLen:at}=this;this.digestInto(et);const mt=et.slice(0,at);return this.destroy(),mt}_cloneInto(et){const{buffer:at,length:mt,finished:$t,destroyed:Ct,outputLen:Dt,pos:Ft}=this;return et||(et=new this.constructor({dkLen:Dt})),et.set(...this.get()),et.length=mt,et.finished=$t,et.destroyed=Ct,et.outputLen=Dt,et.buffer.set(at),et.pos=Ft,et}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(nt,et=!1){return et?{h:Number(nt&U32_MASK64),l:Number(nt>>_32n&U32_MASK64)}:{h:Number(nt>>_32n&U32_MASK64)|0,l:Number(nt&U32_MASK64)|0}}function split(nt,et=!1){let at=new Uint32Array(nt.length),mt=new Uint32Array(nt.length);for(let $t=0;$t<nt.length;$t++){const{h:Ct,l:Dt}=fromBig(nt[$t],et);[at[$t],mt[$t]]=[Ct,Dt]}return[at,mt]}const toBig=(nt,et)=>BigInt(nt>>>0)<<_32n|BigInt(et>>>0),shrSH=(nt,et,at)=>nt>>>at,shrSL=(nt,et,at)=>nt<<32-at|et>>>at,rotrSH=(nt,et,at)=>nt>>>at|et<<32-at,rotrSL=(nt,et,at)=>nt<<32-at|et>>>at,rotrBH=(nt,et,at)=>nt<<64-at|et>>>at-32,rotrBL=(nt,et,at)=>nt>>>at-32|et<<64-at,rotr32H=(nt,et)=>et,rotr32L=(nt,et)=>nt,rotlSH=(nt,et,at)=>nt<<at|et>>>32-at,rotlSL=(nt,et,at)=>et<<at|nt>>>32-at,rotlBH=(nt,et,at)=>et<<at-32|nt>>>64-at,rotlBL=(nt,et,at)=>nt<<at-32|et>>>64-at;function add$5(nt,et,at,mt){const $t=(et>>>0)+(mt>>>0);return{h:nt+at+($t/2**32|0)|0,l:$t|0}}const add3L=(nt,et,at)=>(nt>>>0)+(et>>>0)+(at>>>0),add3H=(nt,et,at,mt)=>et+at+mt+(nt/2**32|0)|0,add4L=(nt,et,at,mt)=>(nt>>>0)+(et>>>0)+(at>>>0)+(mt>>>0),add4H=(nt,et,at,mt,$t)=>et+at+mt+$t+(nt/2**32|0)|0,add5L=(nt,et,at,mt,$t)=>(nt>>>0)+(et>>>0)+(at>>>0)+(mt>>>0)+($t>>>0),add5H=(nt,et,at,mt,$t,Ct)=>et+at+mt+$t+Ct+(nt/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add:add$5,add3L,add3H,add4L,add4H,add5H,add5L},B2B_IV=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),BBUF=new Uint32Array(32);function G1b(nt,et,at,mt,$t,Ct){const Dt=$t[Ct],Ft=$t[Ct+1];let Nt=BBUF[2*nt],jt=BBUF[2*nt+1],Lt=BBUF[2*et],Vt=BBUF[2*et+1],er=BBUF[2*at],ir=BBUF[2*at+1],or=BBUF[2*mt],lr=BBUF[2*mt+1],dr=u64.add3L(Nt,Lt,Dt);jt=u64.add3H(dr,jt,Vt,Ft),Nt=dr|0,{Dh:lr,Dl:or}={Dh:lr^jt,Dl:or^Nt},{Dh:lr,Dl:or}={Dh:u64.rotr32H(lr,or),Dl:u64.rotr32L(lr,or)},{h:ir,l:er}=u64.add(ir,er,lr,or),{Bh:Vt,Bl:Lt}={Bh:Vt^ir,Bl:Lt^er},{Bh:Vt,Bl:Lt}={Bh:u64.rotrSH(Vt,Lt,24),Bl:u64.rotrSL(Vt,Lt,24)},BBUF[2*nt]=Nt,BBUF[2*nt+1]=jt,BBUF[2*et]=Lt,BBUF[2*et+1]=Vt,BBUF[2*at]=er,BBUF[2*at+1]=ir,BBUF[2*mt]=or,BBUF[2*mt+1]=lr}function G2b(nt,et,at,mt,$t,Ct){const Dt=$t[Ct],Ft=$t[Ct+1];let Nt=BBUF[2*nt],jt=BBUF[2*nt+1],Lt=BBUF[2*et],Vt=BBUF[2*et+1],er=BBUF[2*at],ir=BBUF[2*at+1],or=BBUF[2*mt],lr=BBUF[2*mt+1],dr=u64.add3L(Nt,Lt,Dt);jt=u64.add3H(dr,jt,Vt,Ft),Nt=dr|0,{Dh:lr,Dl:or}={Dh:lr^jt,Dl:or^Nt},{Dh:lr,Dl:or}={Dh:u64.rotrSH(lr,or,16),Dl:u64.rotrSL(lr,or,16)},{h:ir,l:er}=u64.add(ir,er,lr,or),{Bh:Vt,Bl:Lt}={Bh:Vt^ir,Bl:Lt^er},{Bh:Vt,Bl:Lt}={Bh:u64.rotrBH(Vt,Lt,63),Bl:u64.rotrBL(Vt,Lt,63)},BBUF[2*nt]=Nt,BBUF[2*nt+1]=jt,BBUF[2*et]=Lt,BBUF[2*et+1]=Vt,BBUF[2*at]=er,BBUF[2*at+1]=ir,BBUF[2*mt]=or,BBUF[2*mt+1]=lr}class BLAKE2b extends BLAKE{constructor(et={}){super(128,et.dkLen===void 0?64:et.dkLen,et,64,16,16),this.v0l=B2B_IV[0]|0,this.v0h=B2B_IV[1]|0,this.v1l=B2B_IV[2]|0,this.v1h=B2B_IV[3]|0,this.v2l=B2B_IV[4]|0,this.v2h=B2B_IV[5]|0,this.v3l=B2B_IV[6]|0,this.v3h=B2B_IV[7]|0,this.v4l=B2B_IV[8]|0,this.v4h=B2B_IV[9]|0,this.v5l=B2B_IV[10]|0,this.v5h=B2B_IV[11]|0,this.v6l=B2B_IV[12]|0,this.v6h=B2B_IV[13]|0,this.v7l=B2B_IV[14]|0,this.v7h=B2B_IV[15]|0;const at=et.key?et.key.length:0;if(this.v0l^=this.outputLen|at<<8|65536|1<<24,et.salt){const mt=u32(toBytes(et.salt));this.v4l^=byteSwapIfBE(mt[0]),this.v4h^=byteSwapIfBE(mt[1]),this.v5l^=byteSwapIfBE(mt[2]),this.v5h^=byteSwapIfBE(mt[3])}if(et.personalization){const mt=u32(toBytes(et.personalization));this.v6l^=byteSwapIfBE(mt[0]),this.v6h^=byteSwapIfBE(mt[1]),this.v7l^=byteSwapIfBE(mt[2]),this.v7h^=byteSwapIfBE(mt[3])}if(et.key){const mt=new Uint8Array(this.blockLen);mt.set(toBytes(et.key)),this.update(mt)}}get(){let{v0l:et,v0h:at,v1l:mt,v1h:$t,v2l:Ct,v2h:Dt,v3l:Ft,v3h:Nt,v4l:jt,v4h:Lt,v5l:Vt,v5h:er,v6l:ir,v6h:or,v7l:lr,v7h:dr}=this;return[et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir,or,lr,dr]}set(et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir,or,lr,dr){this.v0l=et|0,this.v0h=at|0,this.v1l=mt|0,this.v1h=$t|0,this.v2l=Ct|0,this.v2h=Dt|0,this.v3l=Ft|0,this.v3h=Nt|0,this.v4l=jt|0,this.v4h=Lt|0,this.v5l=Vt|0,this.v5h=er|0,this.v6l=ir|0,this.v6h=or|0,this.v7l=lr|0,this.v7h=dr|0}compress(et,at,mt){this.get().forEach((Nt,jt)=>BBUF[jt]=Nt),BBUF.set(B2B_IV,16);let{h:$t,l:Ct}=u64.fromBig(BigInt(this.length));BBUF[24]=B2B_IV[8]^Ct,BBUF[25]=B2B_IV[9]^$t,mt&&(BBUF[28]=~BBUF[28],BBUF[29]=~BBUF[29]);let Dt=0;const Ft=SIGMA$1;for(let Nt=0;Nt<12;Nt++)G1b(0,4,8,12,et,at+2*Ft[Dt++]),G2b(0,4,8,12,et,at+2*Ft[Dt++]),G1b(1,5,9,13,et,at+2*Ft[Dt++]),G2b(1,5,9,13,et,at+2*Ft[Dt++]),G1b(2,6,10,14,et,at+2*Ft[Dt++]),G2b(2,6,10,14,et,at+2*Ft[Dt++]),G1b(3,7,11,15,et,at+2*Ft[Dt++]),G2b(3,7,11,15,et,at+2*Ft[Dt++]),G1b(0,5,10,15,et,at+2*Ft[Dt++]),G2b(0,5,10,15,et,at+2*Ft[Dt++]),G1b(1,6,11,12,et,at+2*Ft[Dt++]),G2b(1,6,11,12,et,at+2*Ft[Dt++]),G1b(2,7,8,13,et,at+2*Ft[Dt++]),G2b(2,7,8,13,et,at+2*Ft[Dt++]),G1b(3,4,9,14,et,at+2*Ft[Dt++]),G2b(3,4,9,14,et,at+2*Ft[Dt++]);this.v0l^=BBUF[0]^BBUF[16],this.v0h^=BBUF[1]^BBUF[17],this.v1l^=BBUF[2]^BBUF[18],this.v1h^=BBUF[3]^BBUF[19],this.v2l^=BBUF[4]^BBUF[20],this.v2h^=BBUF[5]^BBUF[21],this.v3l^=BBUF[6]^BBUF[22],this.v3h^=BBUF[7]^BBUF[23],this.v4l^=BBUF[8]^BBUF[24],this.v4h^=BBUF[9]^BBUF[25],this.v5l^=BBUF[10]^BBUF[26],this.v5h^=BBUF[11]^BBUF[27],this.v6l^=BBUF[12]^BBUF[28],this.v6h^=BBUF[13]^BBUF[29],this.v7l^=BBUF[14]^BBUF[30],this.v7h^=BBUF[15]^BBUF[31],BBUF.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const blake2b$1=wrapConstructorWithOpts(nt=>new BLAKE2b(nt));function deriveDynamicFieldID(nt,et,at){const mt=suiBcs.Address.serialize(nt).toBytes(),$t=suiBcs.TypeTag.serialize(et).toBytes(),Ct=suiBcs.u64().serialize(at.length).toBytes(),Dt=blake2b$1.create({dkLen:32});return Dt.update(new Uint8Array([240])),Dt.update(mt),Dt.update(Ct),Dt.update(at),Dt.update($t),`0x${toHex$2(Dt.digest().slice(0,32))}`}const utils$7=Object.freeze(Object.defineProperty({__proto__:null,MIST_PER_SUI,MOVE_STDLIB_ADDRESS,SUI_ADDRESS_LENGTH,SUI_CLOCK_OBJECT_ID,SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG,deriveDynamicFieldID,formatAddress,formatDigest,fromB64,fromBase58,fromBase64,fromHEX,fromHex,isValidNamedPackage,isValidNamedType,isValidSuiAddress,isValidSuiNSName,isValidSuiObjectId,isValidTransactionDigest,normalizeStructTag,normalizeSuiAddress,normalizeSuiNSName,normalizeSuiObjectId,parseStructTag,toB64,toBase58,toBase64,toHEX,toHex:toHex$2},Symbol.toStringTag,{value:"Module"})),OBJECT_MODULE_NAME="object",ID_STRUCT_NAME="ID",STD_ASCII_MODULE_NAME="ascii",STD_ASCII_STRUCT_NAME="String",STD_UTF8_MODULE_NAME="string",STD_UTF8_STRUCT_NAME="String",STD_OPTION_MODULE_NAME="option",STD_OPTION_STRUCT_NAME="Option";function isTxContext(nt){const et=typeof nt.body=="object"&&"datatype"in nt.body?nt.body.datatype:null;return!!et&&normalizeSuiAddress(et.package)===normalizeSuiAddress("0x2")&&et.module==="tx_context"&&et.type==="TxContext"}function getPureBcsSchema(nt){if(typeof nt=="string")switch(nt){case"address":return suiBcs.Address;case"bool":return suiBcs.Bool;case"u8":return suiBcs.U8;case"u16":return suiBcs.U16;case"u32":return suiBcs.U32;case"u64":return suiBcs.U64;case"u128":return suiBcs.U128;case"u256":return suiBcs.U256;default:throw new Error(`Unknown type signature ${nt}`)}if("vector"in nt){if(nt.vector==="u8")return suiBcs.vector(suiBcs.U8).transform({input:at=>typeof at=="string"?new TextEncoder().encode(at):at,output:at=>at});const et=getPureBcsSchema(nt.vector);return et?suiBcs.vector(et):null}if("datatype"in nt){const et=normalizeSuiAddress(nt.datatype.package);if(et===normalizeSuiAddress(MOVE_STDLIB_ADDRESS)){if(nt.datatype.module===STD_ASCII_MODULE_NAME&&nt.datatype.type===STD_ASCII_STRUCT_NAME||nt.datatype.module===STD_UTF8_MODULE_NAME&&nt.datatype.type===STD_UTF8_STRUCT_NAME)return suiBcs.String;if(nt.datatype.module===STD_OPTION_MODULE_NAME&&nt.datatype.type===STD_OPTION_STRUCT_NAME){const at=getPureBcsSchema(nt.datatype.typeParameters[0]);return at?suiBcs.vector(at):null}}if(et===normalizeSuiAddress(SUI_FRAMEWORK_ADDRESS)&&nt.datatype.module===OBJECT_MODULE_NAME&&nt.datatype.type===ID_STRUCT_NAME)return suiBcs.Address}return null}function normalizedTypeToMoveTypeSignature(nt){return typeof nt=="object"&&"Reference"in nt?{ref:"&",body:normalizedTypeToMoveTypeSignatureBody(nt.Reference)}:typeof nt=="object"&&"MutableReference"in nt?{ref:"&mut",body:normalizedTypeToMoveTypeSignatureBody(nt.MutableReference)}:{ref:null,body:normalizedTypeToMoveTypeSignatureBody(nt)}}function normalizedTypeToMoveTypeSignatureBody(nt){if(typeof nt=="string")switch(nt){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${nt}`)}if("Vector"in nt)return{vector:normalizedTypeToMoveTypeSignatureBody(nt.Vector)};if("Struct"in nt)return{datatype:{package:nt.Struct.address,module:nt.Struct.module,type:nt.Struct.name,typeParameters:nt.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody)}};if("TypeParameter"in nt)return{typeParameter:nt.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(nt)}`)}function Pure(nt){return{$kind:"Pure",Pure:{bytes:nt instanceof Uint8Array?toBase64(nt):nt.toBase64()}}}const Inputs={Pure,ObjectRef({objectId:nt,digest:et,version:at}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:et,version:at,objectId:normalizeSuiAddress(nt)}}}},SharedObjectRef({objectId:nt,mutable:et,initialSharedVersion:at}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:et,initialSharedVersion:at,objectId:normalizeSuiAddress(nt)}}}},ReceivingRef({objectId:nt,digest:et,version:at}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:et,version:at,objectId:normalizeSuiAddress(nt)}}}}};var UUID_REGEX=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,store$d;function getGlobalConfig(nt){return{lang:(nt==null?void 0:nt.lang)??(store$d==null?void 0:store$d.lang),message:nt==null?void 0:nt.message,abortEarly:(nt==null?void 0:nt.abortEarly)??(store$d==null?void 0:store$d.abortEarly),abortPipeEarly:(nt==null?void 0:nt.abortPipeEarly)??(store$d==null?void 0:store$d.abortPipeEarly)}}var store2;function getGlobalMessage(nt){return store2==null?void 0:store2.get(nt)}var store3;function getSchemaMessage(nt){return store3==null?void 0:store3.get(nt)}var store4;function getSpecificMessage(nt,et){var at;return(at=store4==null?void 0:store4.get(nt))==null?void 0:at.get(et)}function _stringify(nt){var at,mt;const et=typeof nt;return et==="string"?`"${nt}"`:et==="number"||et==="bigint"||et==="boolean"?`${nt}`:et==="object"||et==="function"?(nt&&((mt=(at=Object.getPrototypeOf(nt))==null?void 0:at.constructor)==null?void 0:mt.name))??"null":et}function _addIssue(nt,et,at,mt,$t){const Ct=$t&&"input"in $t?$t.input:at.value,Dt=($t==null?void 0:$t.expected)??nt.expects??null,Ft=($t==null?void 0:$t.received)??_stringify(Ct),Nt={kind:nt.kind,type:nt.type,input:Ct,expected:Dt,received:Ft,message:`Invalid ${et}: ${Dt?`Expected ${Dt} but r`:"R"}eceived ${Ft}`,requirement:nt.requirement,path:$t==null?void 0:$t.path,issues:$t==null?void 0:$t.issues,lang:mt.lang,abortEarly:mt.abortEarly,abortPipeEarly:mt.abortPipeEarly},jt=nt.kind==="schema",Lt=($t==null?void 0:$t.message)??nt.message??getSpecificMessage(nt.reference,Nt.lang)??(jt?getSchemaMessage(Nt.lang):null)??mt.message??getGlobalMessage(Nt.lang);Lt&&(Nt.message=typeof Lt=="function"?Lt(Nt):Lt),jt&&(at.typed=!1),at.issues?at.issues.push(Nt):at.issues=[Nt]}function _isValidObjectKey(nt,et){return Object.hasOwn(nt,et)&&et!=="__proto__"&&et!=="prototype"&&et!=="constructor"}var ValiError=class extends Error{constructor(et){super(et[0].message);xa(this,"issues");this.name="ValiError",this.issues=et}};function check$1(nt,et){return{kind:"validation",type:"check",reference:check$1,async:!1,expects:null,requirement:nt,message:et,_run(at,mt){return at.typed&&!this.requirement(at.value)&&_addIssue(this,"input",at,mt),at}}}function integer(nt){return{kind:"validation",type:"integer",reference:integer,async:!1,expects:null,requirement:Number.isInteger,message:nt,_run(et,at){return et.typed&&!this.requirement(et.value)&&_addIssue(this,"integer",et,at),et}}}function transform$2(nt){return{kind:"transformation",type:"transform",reference:transform$2,async:!1,operation:nt,_run(et){return et.value=this.operation(et.value),et}}}function url(nt){return{kind:"validation",type:"url",reference:url,async:!1,expects:null,requirement(et){try{return new URL(et),!0}catch{return!1}},message:nt,_run(et,at){return et.typed&&!this.requirement(et.value)&&_addIssue(this,"URL",et,at),et}}}function uuid(nt){return{kind:"validation",type:"uuid",reference:uuid,async:!1,expects:null,requirement:UUID_REGEX,message:nt,_run(et,at){return et.typed&&!this.requirement.test(et.value)&&_addIssue(this,"UUID",et,at),et}}}function getDefault(nt,et,at){return typeof nt.default=="function"?nt.default(et,at):nt.default}function is(nt,et){return!nt._run({typed:!1,value:et},{abortEarly:!0}).issues}function array(nt,et){return{kind:"schema",type:"array",reference:array,expects:"Array",async:!1,item:nt,message:et,_run(at,mt){var Ct;const $t=at.value;if(Array.isArray($t)){at.typed=!0,at.value=[];for(let Dt=0;Dt<$t.length;Dt++){const Ft=$t[Dt],Nt=this.item._run({typed:!1,value:Ft},mt);if(Nt.issues){const jt={type:"array",origin:"value",input:$t,key:Dt,value:Ft};for(const Lt of Nt.issues)Lt.path?Lt.path.unshift(jt):Lt.path=[jt],(Ct=at.issues)==null||Ct.push(Lt);if(at.issues||(at.issues=Nt.issues),mt.abortEarly){at.typed=!1;break}}Nt.typed||(at.typed=!1),at.value.push(Nt.value)}}else _addIssue(this,"type",at,mt);return at}}}function bigint(nt){return{kind:"schema",type:"bigint",reference:bigint,expects:"bigint",async:!1,message:nt,_run(et,at){return typeof et.value=="bigint"?et.typed=!0:_addIssue(this,"type",et,at),et}}}function boolean(nt){return{kind:"schema",type:"boolean",reference:boolean,expects:"boolean",async:!1,message:nt,_run(et,at){return typeof et.value=="boolean"?et.typed=!0:_addIssue(this,"type",et,at),et}}}function lazy(nt){return{kind:"schema",type:"lazy",reference:lazy,expects:"unknown",async:!1,getter:nt,_run(et,at){return this.getter(et.value)._run(et,at)}}}function literal(nt,et){return{kind:"schema",type:"literal",reference:literal,expects:_stringify(nt),async:!1,literal:nt,message:et,_run(at,mt){return at.value===this.literal?at.typed=!0:_addIssue(this,"type",at,mt),at}}}function nullable(nt,...et){const at={kind:"schema",type:"nullable",reference:nullable,expects:`${nt.expects} | null`,async:!1,wrapped:nt,_run(mt,$t){return mt.value===null&&("default"in this&&(mt.value=getDefault(this,mt,$t)),mt.value===null)?(mt.typed=!0,mt):this.wrapped._run(mt,$t)}};return 0 in et&&(at.default=et[0]),at}function nullish(nt,...et){const at={kind:"schema",type:"nullish",reference:nullish,expects:`${nt.expects} | null | undefined`,async:!1,wrapped:nt,_run(mt,$t){return(mt.value===null||mt.value===void 0)&&("default"in this&&(mt.value=getDefault(this,mt,$t)),mt.value===null||mt.value===void 0)?(mt.typed=!0,mt):this.wrapped._run(mt,$t)}};return 0 in et&&(at.default=et[0]),at}function number$1(nt){return{kind:"schema",type:"number",reference:number$1,expects:"number",async:!1,message:nt,_run(et,at){return typeof et.value=="number"&&!isNaN(et.value)?et.typed=!0:_addIssue(this,"type",et,at),et}}}function object$1(nt,et){return{kind:"schema",type:"object",reference:object$1,expects:"Object",async:!1,entries:nt,message:et,_run(at,mt){var Ct;const $t=at.value;if($t&&typeof $t=="object"){at.typed=!0,at.value={};for(const Dt in this.entries){const Ft=$t[Dt],Nt=this.entries[Dt]._run({typed:!1,value:Ft},mt);if(Nt.issues){const jt={type:"object",origin:"value",input:$t,key:Dt,value:Ft};for(const Lt of Nt.issues)Lt.path?Lt.path.unshift(jt):Lt.path=[jt],(Ct=at.issues)==null||Ct.push(Lt);if(at.issues||(at.issues=Nt.issues),mt.abortEarly){at.typed=!1;break}}Nt.typed||(at.typed=!1),(Nt.value!==void 0||Dt in $t)&&(at.value[Dt]=Nt.value)}}else _addIssue(this,"type",at,mt);return at}}}function optional(nt,...et){const at={kind:"schema",type:"optional",reference:optional,expects:`${nt.expects} | undefined`,async:!1,wrapped:nt,_run(mt,$t){return mt.value===void 0&&("default"in this&&(mt.value=getDefault(this,mt,$t)),mt.value===void 0)?(mt.typed=!0,mt):this.wrapped._run(mt,$t)}};return 0 in et&&(at.default=et[0]),at}function record(nt,et,at){return{kind:"schema",type:"record",reference:record,expects:"Object",async:!1,key:nt,value:et,message:at,_run(mt,$t){var Dt,Ft;const Ct=mt.value;if(Ct&&typeof Ct=="object"){mt.typed=!0,mt.value={};for(const Nt in Ct)if(_isValidObjectKey(Ct,Nt)){const jt=Ct[Nt],Lt=this.key._run({typed:!1,value:Nt},$t);if(Lt.issues){const er={type:"object",origin:"key",input:Ct,key:Nt,value:jt};for(const ir of Lt.issues)ir.path=[er],(Dt=mt.issues)==null||Dt.push(ir);if(mt.issues||(mt.issues=Lt.issues),$t.abortEarly){mt.typed=!1;break}}const Vt=this.value._run({typed:!1,value:jt},$t);if(Vt.issues){const er={type:"object",origin:"value",input:Ct,key:Nt,value:jt};for(const ir of Vt.issues)ir.path?ir.path.unshift(er):ir.path=[er],(Ft=mt.issues)==null||Ft.push(ir);if(mt.issues||(mt.issues=Vt.issues),$t.abortEarly){mt.typed=!1;break}}(!Lt.typed||!Vt.typed)&&(mt.typed=!1),Lt.typed&&(mt.value[Lt.value]=Vt.value)}}else _addIssue(this,"type",mt,$t);return mt}}}function string(nt){return{kind:"schema",type:"string",reference:string,expects:"string",async:!1,message:nt,_run(et,at){return typeof et.value=="string"?et.typed=!0:_addIssue(this,"type",et,at),et}}}function tuple(nt,et){return{kind:"schema",type:"tuple",reference:tuple,expects:"Array",async:!1,items:nt,message:et,_run(at,mt){var Ct;const $t=at.value;if(Array.isArray($t)){at.typed=!0,at.value=[];for(let Dt=0;Dt<this.items.length;Dt++){const Ft=$t[Dt],Nt=this.items[Dt]._run({typed:!1,value:Ft},mt);if(Nt.issues){const jt={type:"array",origin:"value",input:$t,key:Dt,value:Ft};for(const Lt of Nt.issues)Lt.path?Lt.path.unshift(jt):Lt.path=[jt],(Ct=at.issues)==null||Ct.push(Lt);if(at.issues||(at.issues=Nt.issues),mt.abortEarly){at.typed=!1;break}}Nt.typed||(at.typed=!1),at.value.push(Nt.value)}}else _addIssue(this,"type",at,mt);return at}}}function _subIssues(nt){let et;if(nt)for(const at of nt)et?et.push(...at.issues):et=at.issues;return et}function union(nt,et){return{kind:"schema",type:"union",reference:union,expects:[...new Set(nt.map(at=>at.expects))].join(" | ")||"never",async:!1,options:nt,message:et,_run(at,mt){let $t,Ct,Dt;for(const Ft of this.options){const Nt=Ft._run({typed:!1,value:at.value},mt);if(Nt.typed)if(Nt.issues)Ct?Ct.push(Nt):Ct=[Nt];else{$t=Nt;break}else Dt?Dt.push(Nt):Dt=[Nt]}if($t)return $t;if(Ct){if(Ct.length===1)return Ct[0];_addIssue(this,"type",at,mt,{issues:_subIssues(Ct)}),at.typed=!0}else{if((Dt==null?void 0:Dt.length)===1)return Dt[0];_addIssue(this,"type",at,mt,{issues:_subIssues(Dt)})}return at}}}function unknown(){return{kind:"schema",type:"unknown",reference:unknown,expects:"unknown",async:!1,_run(nt){return nt.typed=!0,nt}}}function _discriminators(nt,et,at=new Set){for(const mt of et)mt.type==="variant"?_discriminators(nt,mt.options,at):at.add(mt.entries[nt].expects);return at}function variant(nt,et,at){let mt;return{kind:"schema",type:"variant",reference:variant,expects:"Object",async:!1,key:nt,options:et,message:at,_run($t,Ct){const Dt=$t.value;if(Dt&&typeof Dt=="object"){const Ft=Dt[this.key];if(this.key in Dt){let Nt;for(const jt of this.options)if(jt.type==="variant"||!jt.entries[this.key]._run({typed:!1,value:Ft},Ct).issues){const Lt=jt._run({typed:!1,value:Dt},Ct);if(!Lt.issues)return Lt;(!Nt||!Nt.typed&&Lt.typed)&&(Nt=Lt)}if(Nt)return Nt}mt||(mt=[..._discriminators(this.key,this.options)].join(" | ")||"never"),_addIssue(this,"type",$t,Ct,{input:Ft,expected:mt,path:[{type:"object",origin:"value",input:Dt,key:this.key,value:Ft}]})}else _addIssue(this,"type",$t,Ct);return $t}}}function parse$4(nt,et,at){const mt=nt._run({typed:!1,value:et},getGlobalConfig(at));if(mt.issues)throw new ValiError(mt.issues);return mt.value}function pipe$4(...nt){return{...nt[0],pipe:nt,_run(et,at){for(let mt=0;mt<nt.length;mt++){if(et.issues&&(nt[mt].kind==="schema"||nt[mt].kind==="transformation")){et.typed=!1;break}(!et.issues||!at.abortEarly&&!at.abortPipeEarly)&&(et=nt[mt]._run(et,at))}return et}}}function safeParse(nt,et,at){const mt=nt._run({typed:!1,value:et},getGlobalConfig(at));return{typed:mt.typed,success:!mt.issues,output:mt.value,issues:mt.issues}}function safeEnum(nt){const et=Object.entries(nt).map(([at,mt])=>object$1({[at]:mt}));return pipe$4(union(et),transform$2(at=>({...at,$kind:Object.keys(at)[0]})))}const SuiAddress=pipe$4(string(),transform$2(nt=>normalizeSuiAddress(nt)),check$1(isValidSuiAddress)),ObjectID=SuiAddress,BCSBytes=string(),JsonU64=pipe$4(union([string(),pipe$4(number$1(),integer())]),check$1(nt=>{try{return BigInt(nt),BigInt(nt)>=0&&BigInt(nt)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ObjectRef$1=object$1({objectId:SuiAddress,version:JsonU64,digest:string()}),Argument$1=pipe$4(union([object$1({GasCoin:literal(!0)}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("pure"))}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("object"))}),object$1({Result:pipe$4(number$1(),integer())}),object$1({NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])})]),transform$2(nt=>({...nt,$kind:Object.keys(nt)[0]}))),GasData$1=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),OpenMoveTypeSignatureBody=union([literal("address"),literal("bool"),literal("u8"),literal("u16"),literal("u32"),literal("u64"),literal("u128"),literal("u256"),object$1({vector:lazy(()=>OpenMoveTypeSignatureBody)}),object$1({datatype:object$1({package:string(),module:string(),type:string(),typeParameters:array(lazy(()=>OpenMoveTypeSignatureBody))})}),object$1({typeParameter:pipe$4(number$1(),integer())})]),OpenMoveTypeSignature=object$1({ref:nullable(union([literal("&"),literal("&mut")])),body:OpenMoveTypeSignatureBody}),ProgrammableMoveCall$1=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$1),_argumentTypes:optional(nullable(array(OpenMoveTypeSignature)))}),$Intent$1=object$1({name:string(),inputs:record(string(),union([Argument$1,array(Argument$1)])),data:record(string(),unknown())}),Command$1=safeEnum({MoveCall:ProgrammableMoveCall$1,TransferObjects:object$1({objects:array(Argument$1),address:Argument$1}),SplitCoins:object$1({coin:Argument$1,amounts:array(Argument$1)}),MergeCoins:object$1({destination:Argument$1,sources:array(Argument$1)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$1)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$1}),$Intent:$Intent$1}),ObjectArg$2=safeEnum({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$1=safeEnum({Object:ObjectArg$2,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),NormalizedCallArg$1=safeEnum({Object:ObjectArg$2,Pure:object$1({bytes:BCSBytes})}),TransactionExpiration$2=safeEnum({None:literal(!0),Epoch:JsonU64}),TransactionData=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$2),gasData:GasData$1,inputs:array(CallArg$1),commands:array(Command$1)}),Commands={MoveCall(nt){const[et,at="",mt=""]="target"in nt?nt.target.split("::"):[nt.package,nt.module,nt.function];return{$kind:"MoveCall",MoveCall:{package:et,module:at,function:mt,typeArguments:nt.typeArguments??[],arguments:nt.arguments??[]}}},TransferObjects(nt,et){return{$kind:"TransferObjects",TransferObjects:{objects:nt.map(at=>parse$4(Argument$1,at)),address:parse$4(Argument$1,et)}}},SplitCoins(nt,et){return{$kind:"SplitCoins",SplitCoins:{coin:parse$4(Argument$1,nt),amounts:et.map(at=>parse$4(Argument$1,at))}}},MergeCoins(nt,et){return{$kind:"MergeCoins",MergeCoins:{destination:parse$4(Argument$1,nt),sources:et.map(at=>parse$4(Argument$1,at))}}},Publish({modules:nt,dependencies:et}){return{$kind:"Publish",Publish:{modules:nt.map(at=>typeof at=="string"?at:toBase64(new Uint8Array(at))),dependencies:et.map(at=>normalizeSuiObjectId(at))}}},Upgrade({modules:nt,dependencies:et,package:at,ticket:mt}){return{$kind:"Upgrade",Upgrade:{modules:nt.map($t=>typeof $t=="string"?$t:toBase64(new Uint8Array($t))),dependencies:et.map($t=>normalizeSuiObjectId($t)),package:at,ticket:parse$4(Argument$1,mt)}}},MakeMoveVec({type:nt,elements:et}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:nt??null,elements:et.map(at=>parse$4(Argument$1,at))}}},Intent({name:nt,inputs:et={},data:at={}}){return{$kind:"$Intent",$Intent:{name:nt,inputs:Object.fromEntries(Object.entries(et).map(([mt,$t])=>[mt,Array.isArray($t)?$t.map(Ct=>parse$4(Argument$1,Ct)):parse$4(Argument$1,$t)])),data:at}}}},ObjectRef=object$1({digest:string(),objectId:string(),version:union([pipe$4(number$1(),integer()),string(),bigint()])}),ObjectArg$1=safeEnum({ImmOrOwned:ObjectRef,Shared:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef}),NormalizedCallArg=safeEnum({Object:ObjectArg$1,Pure:array(pipe$4(number$1(),integer()))}),TransactionInput=union([object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:optional(literal("object"))}),object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:literal("pure")})]),TransactionExpiration$1=union([object$1({Epoch:pipe$4(number$1(),integer())}),object$1({None:nullable(literal(!0))})]),StringEncodedBigint=pipe$4(union([number$1(),string(),bigint()]),check$1(nt=>{if(!["string","number","bigint"].includes(typeof nt))return!1;try{return BigInt(nt),!0}catch{return!1}})),TypeTag=union([object$1({bool:nullable(literal(!0))}),object$1({u8:nullable(literal(!0))}),object$1({u64:nullable(literal(!0))}),object$1({u128:nullable(literal(!0))}),object$1({address:nullable(literal(!0))}),object$1({signer:nullable(literal(!0))}),object$1({vector:lazy(()=>TypeTag)}),object$1({struct:lazy(()=>StructTag)}),object$1({u16:nullable(literal(!0))}),object$1({u32:nullable(literal(!0))}),object$1({u256:nullable(literal(!0))})]),StructTag=object$1({address:string(),module:string(),name:string(),typeParams:array(TypeTag)}),GasConfig=object$1({budget:optional(StringEncodedBigint),price:optional(StringEncodedBigint),payment:optional(array(ObjectRef)),owner:optional(string())}),TransactionArgumentTypes=[TransactionInput,object$1({kind:literal("GasCoin")}),object$1({kind:literal("Result"),index:pipe$4(number$1(),integer())}),object$1({kind:literal("NestedResult"),index:pipe$4(number$1(),integer()),resultIndex:pipe$4(number$1(),integer())})],TransactionArgument=union([...TransactionArgumentTypes]),MoveCallTransaction=object$1({kind:literal("MoveCall"),target:pipe$4(string(),check$1(nt=>nt.split("::").length===3)),typeArguments:array(string()),arguments:array(TransactionArgument)}),TransferObjectsTransaction=object$1({kind:literal("TransferObjects"),objects:array(TransactionArgument),address:TransactionArgument}),SplitCoinsTransaction=object$1({kind:literal("SplitCoins"),coin:TransactionArgument,amounts:array(TransactionArgument)}),MergeCoinsTransaction=object$1({kind:literal("MergeCoins"),destination:TransactionArgument,sources:array(TransactionArgument)}),MakeMoveVecTransaction=object$1({kind:literal("MakeMoveVec"),type:union([object$1({Some:TypeTag}),object$1({None:nullable(literal(!0))})]),objects:array(TransactionArgument)}),PublishTransaction=object$1({kind:literal("Publish"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string())}),UpgradeTransaction=object$1({kind:literal("Upgrade"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string()),packageId:string(),ticket:TransactionArgument}),TransactionTypes=[MoveCallTransaction,TransferObjectsTransaction,SplitCoinsTransaction,MergeCoinsTransaction,PublishTransaction,UpgradeTransaction,MakeMoveVecTransaction],TransactionType=union([...TransactionTypes]);object$1({version:literal(1),sender:optional(string()),expiration:nullish(TransactionExpiration$1),gasConfig:GasConfig,inputs:array(TransactionInput),transactions:array(TransactionType)});function serializeV1TransactionData(nt){var at;const et=nt.inputs.map((mt,$t)=>{if(mt.Object)return{kind:"Input",index:$t,value:{Object:mt.Object.ImmOrOwnedObject?{ImmOrOwned:mt.Object.ImmOrOwnedObject}:mt.Object.Receiving?{Receiving:{digest:mt.Object.Receiving.digest,version:mt.Object.Receiving.version,objectId:mt.Object.Receiving.objectId}}:{Shared:{mutable:mt.Object.SharedObject.mutable,initialSharedVersion:mt.Object.SharedObject.initialSharedVersion,objectId:mt.Object.SharedObject.objectId}}},type:"object"};if(mt.Pure)return{kind:"Input",index:$t,value:{Pure:Array.from(fromBase64(mt.Pure.bytes))},type:"pure"};if(mt.UnresolvedPure)return{kind:"Input",type:"pure",index:$t,value:mt.UnresolvedPure.value};if(mt.UnresolvedObject)return{kind:"Input",type:"object",index:$t,value:mt.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:nt.sender??void 0,expiration:((at=nt.expiration)==null?void 0:at.$kind)==="Epoch"?{Epoch:Number(nt.expiration.Epoch)}:nt.expiration?{None:!0}:null,gasConfig:{owner:nt.gasData.owner??void 0,budget:nt.gasData.budget??void 0,price:nt.gasData.price??void 0,payment:nt.gasData.payment??void 0},inputs:et,transactions:nt.commands.map(mt=>{if(mt.MakeMoveVec)return{kind:"MakeMoveVec",type:mt.MakeMoveVec.type===null?{None:!0}:{Some:TypeTagSerializer.parseFromStr(mt.MakeMoveVec.type)},objects:mt.MakeMoveVec.elements.map($t=>convertTransactionArgument($t,et))};if(mt.MergeCoins)return{kind:"MergeCoins",destination:convertTransactionArgument(mt.MergeCoins.destination,et),sources:mt.MergeCoins.sources.map($t=>convertTransactionArgument($t,et))};if(mt.MoveCall)return{kind:"MoveCall",target:`${mt.MoveCall.package}::${mt.MoveCall.module}::${mt.MoveCall.function}`,typeArguments:mt.MoveCall.typeArguments,arguments:mt.MoveCall.arguments.map($t=>convertTransactionArgument($t,et))};if(mt.Publish)return{kind:"Publish",modules:mt.Publish.modules.map($t=>Array.from(fromBase64($t))),dependencies:mt.Publish.dependencies};if(mt.SplitCoins)return{kind:"SplitCoins",coin:convertTransactionArgument(mt.SplitCoins.coin,et),amounts:mt.SplitCoins.amounts.map($t=>convertTransactionArgument($t,et))};if(mt.TransferObjects)return{kind:"TransferObjects",objects:mt.TransferObjects.objects.map($t=>convertTransactionArgument($t,et)),address:convertTransactionArgument(mt.TransferObjects.address,et)};if(mt.Upgrade)return{kind:"Upgrade",modules:mt.Upgrade.modules.map($t=>Array.from(fromBase64($t))),dependencies:mt.Upgrade.dependencies,packageId:mt.Upgrade.package,ticket:convertTransactionArgument(mt.Upgrade.ticket,et)};throw new Error(`Unknown transaction ${Object.keys(mt)}`)})}}function convertTransactionArgument(nt,et){if(nt.$kind==="GasCoin")return{kind:"GasCoin"};if(nt.$kind==="Result")return{kind:"Result",index:nt.Result};if(nt.$kind==="NestedResult")return{kind:"NestedResult",index:nt.NestedResult[0],resultIndex:nt.NestedResult[1]};if(nt.$kind==="Input")return et[nt.Input];throw new Error(`Invalid argument ${Object.keys(nt)}`)}function transactionDataFromV1(nt){var et,at,mt;return parse$4(TransactionData,{version:2,sender:nt.sender??null,expiration:nt.expiration?"Epoch"in nt.expiration?{Epoch:nt.expiration.Epoch}:{None:!0}:null,gasData:{owner:nt.gasConfig.owner??null,budget:((et=nt.gasConfig.budget)==null?void 0:et.toString())??null,price:((at=nt.gasConfig.price)==null?void 0:at.toString())??null,payment:((mt=nt.gasConfig.payment)==null?void 0:mt.map($t=>({digest:$t.digest,objectId:$t.objectId,version:$t.version.toString()})))??null},inputs:nt.inputs.map($t=>{if($t.kind==="Input"){if(is(NormalizedCallArg,$t.value)){const Ct=parse$4(NormalizedCallArg,$t.value);if(Ct.Object){if(Ct.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:Ct.Object.ImmOrOwned.objectId,version:String(Ct.Object.ImmOrOwned.version),digest:Ct.Object.ImmOrOwned.digest}}};if(Ct.Object.Shared)return{Object:{SharedObject:{mutable:Ct.Object.Shared.mutable??null,initialSharedVersion:Ct.Object.Shared.initialSharedVersion,objectId:Ct.Object.Shared.objectId}}};if(Ct.Object.Receiving)return{Object:{Receiving:{digest:Ct.Object.Receiving.digest,version:String(Ct.Object.Receiving.version),objectId:Ct.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:toBase64(new Uint8Array(Ct.Pure))}}}return $t.type==="object"?{UnresolvedObject:{objectId:$t.value}}:{UnresolvedPure:{value:$t.value}}}throw new Error("Invalid input")}),commands:nt.transactions.map($t=>{switch($t.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in $t.type?TypeTagSerializer.tagToString($t.type.Some):null,elements:$t.objects.map(Ct=>parseV1TransactionArgument(Ct))}};case"MergeCoins":return{MergeCoins:{destination:parseV1TransactionArgument($t.destination),sources:$t.sources.map(Ct=>parseV1TransactionArgument(Ct))}};case"MoveCall":{const[Ct,Dt,Ft]=$t.target.split("::");return{MoveCall:{package:Ct,module:Dt,function:Ft,typeArguments:$t.typeArguments,arguments:$t.arguments.map(Nt=>parseV1TransactionArgument(Nt))}}}case"Publish":return{Publish:{modules:$t.modules.map(Ct=>toBase64(Uint8Array.from(Ct))),dependencies:$t.dependencies}};case"SplitCoins":return{SplitCoins:{coin:parseV1TransactionArgument($t.coin),amounts:$t.amounts.map(Ct=>parseV1TransactionArgument(Ct))}};case"TransferObjects":return{TransferObjects:{objects:$t.objects.map(Ct=>parseV1TransactionArgument(Ct)),address:parseV1TransactionArgument($t.address)}};case"Upgrade":return{Upgrade:{modules:$t.modules.map(Ct=>toBase64(Uint8Array.from(Ct))),dependencies:$t.dependencies,package:$t.packageId,ticket:parseV1TransactionArgument($t.ticket)}}}throw new Error(`Unknown transaction ${Object.keys($t)}`)})})}function parseV1TransactionArgument(nt){switch(nt.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:nt.index};case"NestedResult":return{NestedResult:[nt.index,nt.resultIndex]};case"Input":return{Input:nt.index}}}function enumUnion(nt){return union(Object.entries(nt).map(([et,at])=>object$1({[et]:at})))}const Argument=enumUnion({GasCoin:literal(!0),Input:pipe$4(number$1(),integer()),Result:pipe$4(number$1(),integer()),NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])}),GasData=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),ProgrammableMoveCall=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument)}),$Intent=object$1({name:string(),inputs:record(string(),union([Argument,array(Argument)])),data:record(string(),unknown())}),Command=enumUnion({MoveCall:ProgrammableMoveCall,TransferObjects:object$1({objects:array(Argument),address:Argument}),SplitCoins:object$1({coin:Argument,amounts:array(Argument)}),MergeCoins:object$1({destination:Argument,sources:array(Argument)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument}),$Intent}),ObjectArg=enumUnion({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg=enumUnion({Object:ObjectArg,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),TransactionExpiration=enumUnion({None:literal(!0),Epoch:JsonU64}),SerializedTransactionDataV2=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration),gasData:GasData,inputs:array(CallArg),commands:array(Command)}),MAX_OBJECTS_PER_FETCH=50,GAS_SAFE_OVERHEAD=1000n,MAX_GAS=5e10;async function resolveTransactionData(nt,et,at){return await normalizeInputs(nt,et),await resolveObjectReferences(nt,et),et.onlyTransactionKind||(await setGasPrice(nt,et),await setGasBudget(nt,et),await setGasPayment(nt,et)),await validate$1(nt),await at()}async function setGasPrice(nt,et){nt.gasConfig.price||(nt.gasConfig.price=String(await getClient(et).getReferenceGasPrice()))}async function setGasBudget(nt,et){if(nt.gasConfig.budget)return;const at=await getClient(et).dryRunTransactionBlock({transactionBlock:nt.build({overrides:{gasData:{budget:String(MAX_GAS),payment:[]}}})});if(at.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${at.effects.status.error}`,{cause:at});const mt=GAS_SAFE_OVERHEAD*BigInt(nt.gasConfig.price||1n),$t=BigInt(at.effects.gasUsed.computationCost)+mt,Ct=$t+BigInt(at.effects.gasUsed.storageCost)-BigInt(at.effects.gasUsed.storageRebate);nt.gasConfig.budget=String(Ct>$t?Ct:$t)}async function setGasPayment(nt,et){if(!nt.gasConfig.payment){const mt=(await getClient(et).getCoins({owner:nt.gasConfig.owner||nt.sender,coinType:SUI_TYPE_ARG})).data.filter($t=>!nt.inputs.find(Dt=>{var Ft;return(Ft=Dt.Object)!=null&&Ft.ImmOrOwnedObject?$t.coinObjectId===Dt.Object.ImmOrOwnedObject.objectId:!1})).map($t=>({objectId:$t.coinObjectId,digest:$t.digest,version:$t.version}));if(!mt.length)throw new Error("No valid gas coins found for the transaction.");nt.gasConfig.payment=mt.map($t=>parse$4(ObjectRef$1,$t))}}async function resolveObjectReferences(nt,et){const at=nt.inputs.filter(Lt=>{var Vt;return Lt.UnresolvedObject&&!(Lt.UnresolvedObject.version||(Vt=Lt.UnresolvedObject)!=null&&Vt.initialSharedVersion)}),mt=[...new Set(at.map(Lt=>normalizeSuiObjectId(Lt.UnresolvedObject.objectId)))],$t=mt.length?chunk(mt,MAX_OBJECTS_PER_FETCH):[],Ct=(await Promise.all($t.map(Lt=>getClient(et).multiGetObjects({ids:Lt,options:{showOwner:!0}})))).flat(),Dt=new Map(mt.map((Lt,Vt)=>[Lt,Ct[Vt]])),Ft=Array.from(Dt).filter(([Lt,Vt])=>Vt.error).map(([Lt,Vt])=>JSON.stringify(Vt.error));if(Ft.length)throw new Error(`The following input objects are invalid: ${Ft.join(", ")}`);const Nt=Ct.map(Lt=>{if(Lt.error||!Lt.data)throw new Error(`Failed to fetch object: ${Lt.error}`);const Vt=Lt.data.owner,er=Vt&&typeof Vt=="object"&&"Shared"in Vt?Vt.Shared.initial_shared_version:null;return{objectId:Lt.data.objectId,digest:Lt.data.digest,version:Lt.data.version,initialSharedVersion:er}}),jt=new Map(mt.map((Lt,Vt)=>[Lt,Nt[Vt]]));for(const[Lt,Vt]of nt.inputs.entries()){if(!Vt.UnresolvedObject)continue;let er;const ir=normalizeSuiAddress(Vt.UnresolvedObject.objectId),or=jt.get(ir);Vt.UnresolvedObject.initialSharedVersion??(or==null?void 0:or.initialSharedVersion)?er=Inputs.SharedObjectRef({objectId:ir,initialSharedVersion:Vt.UnresolvedObject.initialSharedVersion||(or==null?void 0:or.initialSharedVersion),mutable:isUsedAsMutable(nt,Lt)}):isUsedAsReceiving(nt,Lt)&&(er=Inputs.ReceivingRef({objectId:ir,digest:Vt.UnresolvedObject.digest??(or==null?void 0:or.digest),version:Vt.UnresolvedObject.version??(or==null?void 0:or.version)})),nt.inputs[nt.inputs.indexOf(Vt)]=er??Inputs.ObjectRef({objectId:ir,digest:Vt.UnresolvedObject.digest??(or==null?void 0:or.digest),version:Vt.UnresolvedObject.version??(or==null?void 0:or.version)})}}async function normalizeInputs(nt,et){const{inputs:at,commands:mt}=nt,$t=[],Ct=new Set;mt.forEach(Ft=>{if(Ft.MoveCall){if(Ft.MoveCall._argumentTypes)return;if(Ft.MoveCall.arguments.map(Lt=>Lt.$kind==="Input"?nt.inputs[Lt.Input]:null).some(Lt=>(Lt==null?void 0:Lt.UnresolvedPure)||(Lt==null?void 0:Lt.UnresolvedObject))){const Lt=`${Ft.MoveCall.package}::${Ft.MoveCall.module}::${Ft.MoveCall.function}`;Ct.add(Lt),$t.push(Ft.MoveCall)}}switch(Ft.$kind){case"SplitCoins":Ft.SplitCoins.amounts.forEach(Nt=>{normalizeRawArgument(Nt,suiBcs.U64,nt)});break;case"TransferObjects":normalizeRawArgument(Ft.TransferObjects.address,suiBcs.Address,nt);break}});const Dt=new Map;if(Ct.size>0){const Ft=getClient(et);await Promise.all([...Ct].map(async Nt=>{const[jt,Lt,Vt]=Nt.split("::"),er=await Ft.getNormalizedMoveFunction({package:jt,module:Lt,function:Vt});Dt.set(Nt,er.parameters.map(ir=>normalizedTypeToMoveTypeSignature(ir)))}))}$t.length&&await Promise.all($t.map(async Ft=>{const Nt=Dt.get(`${Ft.package}::${Ft.module}::${Ft.function}`);if(!Nt)return;const Lt=Nt.length>0&&isTxContext(Nt.at(-1))?Nt.slice(0,Nt.length-1):Nt;Ft._argumentTypes=Lt})),mt.forEach(Ft=>{if(!Ft.MoveCall)return;const Nt=Ft.MoveCall,jt=`${Nt.package}::${Nt.module}::${Nt.function}`,Lt=Nt._argumentTypes;if(Lt){if(Lt.length!==Ft.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${jt}`);Lt.forEach((Vt,er)=>{var hr,vr;const ir=Nt.arguments[er];if(ir.$kind!=="Input")return;const or=at[ir.Input];if(!or.UnresolvedPure&&!or.UnresolvedObject)return;const lr=((hr=or.UnresolvedPure)==null?void 0:hr.value)??((vr=or.UnresolvedObject)==null?void 0:vr.objectId),dr=getPureBcsSchema(Vt.body);if(dr){ir.type="pure",at[at.indexOf(or)]=Inputs.Pure(dr.serialize(lr));return}if(typeof lr!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(lr,null,2)}`);ir.type="object";const pr=or.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:lr}}:or;at[ir.Input]=pr})}})}function validate$1(nt){nt.inputs.forEach((et,at)=>{if(et.$kind!=="Object"&&et.$kind!=="Pure")throw new Error(`Input at index ${at} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(et)}`)})}function normalizeRawArgument(nt,et,at){if(nt.$kind!=="Input")return;const mt=at.inputs[nt.Input];mt.$kind==="UnresolvedPure"&&(at.inputs[nt.Input]=Inputs.Pure(et.serialize(mt.UnresolvedPure.value)))}function isUsedAsMutable(nt,et){let at=!1;return nt.getInputUses(et,(mt,$t)=>{if($t.MoveCall&&$t.MoveCall._argumentTypes){const Ct=$t.MoveCall.arguments.indexOf(mt);at=$t.MoveCall._argumentTypes[Ct].ref!=="&"||at}($t.$kind==="MakeMoveVec"||$t.$kind==="MergeCoins"||$t.$kind==="SplitCoins")&&(at=!0)}),at}function isUsedAsReceiving(nt,et){let at=!1;return nt.getInputUses(et,(mt,$t)=>{if($t.MoveCall&&$t.MoveCall._argumentTypes){const Ct=$t.MoveCall.arguments.indexOf(mt);at=isReceivingType($t.MoveCall._argumentTypes[Ct])||at}}),at}function isReceivingType(nt){return typeof nt.body!="object"||!("datatype"in nt.body)?!1:nt.body.datatype.package==="0x2"&&nt.body.datatype.module==="transfer"&&nt.body.datatype.type==="Receiving"}function getClient(nt){if(!nt.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return nt.client}function chunk(nt,et){return Array.from({length:Math.ceil(nt.length/et)},(at,mt)=>nt.slice(mt*et,mt*et+et))}function createObjectMethods(nt){function et(at){return nt(at)}return et.system=()=>et("0x5"),et.clock=()=>et("0x6"),et.random=()=>et("0x8"),et.denyList=()=>et("0x403"),et.option=({type:at,value:mt})=>$t=>$t.moveCall({typeArguments:[at],target:`0x1::option::${mt===null?"none":"some"}`,arguments:mt===null?[]:[$t.object(mt)]}),et}function createPure(nt){function et(at,mt){if(typeof at=="string")return nt(schemaFromName(at).serialize(mt));if(at instanceof Uint8Array||isSerializedBcs(at))return nt(at);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return et.u8=at=>nt(suiBcs.U8.serialize(at)),et.u16=at=>nt(suiBcs.U16.serialize(at)),et.u32=at=>nt(suiBcs.U32.serialize(at)),et.u64=at=>nt(suiBcs.U64.serialize(at)),et.u128=at=>nt(suiBcs.U128.serialize(at)),et.u256=at=>nt(suiBcs.U256.serialize(at)),et.bool=at=>nt(suiBcs.Bool.serialize(at)),et.string=at=>nt(suiBcs.String.serialize(at)),et.address=at=>nt(suiBcs.Address.serialize(at)),et.id=et.address,et.vector=(at,mt)=>nt(suiBcs.vector(schemaFromName(at)).serialize(mt)),et.option=(at,mt)=>nt(suiBcs.option(schemaFromName(at)).serialize(mt)),et}function schemaFromName(nt){switch(nt){case"u8":return suiBcs.u8();case"u16":return suiBcs.u16();case"u32":return suiBcs.u32();case"u64":return suiBcs.u64();case"u128":return suiBcs.u128();case"u256":return suiBcs.u256();case"bool":return suiBcs.bool();case"string":return suiBcs.string();case"id":case"address":return suiBcs.Address}const et=nt.match(/^(vector|option)<(.+)>$/);if(et){const[at,mt]=et.slice(1);return at==="vector"?suiBcs.vector(schemaFromName(mt)):suiBcs.option(schemaFromName(mt))}throw new Error(`Invalid Pure type name: ${nt}`)}function hashTypedData(nt,et){const at=Array.from(`${nt}::`).map($t=>$t.charCodeAt(0)),mt=new Uint8Array(at.length+et.length);return mt.set(at),mt.set(et,at.length),blake2b$1(mt,{dkLen:32})}function prepareSuiAddress(nt){return normalizeSuiAddress(nt).replace("0x","")}class TransactionDataBuilder{constructor(et){this.version=2,this.sender=(et==null?void 0:et.sender)??null,this.expiration=(et==null?void 0:et.expiration)??null,this.inputs=(et==null?void 0:et.inputs)??[],this.commands=(et==null?void 0:et.commands)??[],this.gasData=(et==null?void 0:et.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(et){const mt=suiBcs.TransactionKind.parse(et).ProgrammableTransaction;if(!mt)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:mt.inputs,commands:mt.commands})}static fromBytes(et){const at=suiBcs.TransactionData.parse(et),mt=at==null?void 0:at.V1,$t=mt.kind.ProgrammableTransaction;if(!mt||!$t)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:mt.sender,expiration:mt.expiration,gasData:mt.gasData,inputs:$t.inputs,commands:$t.commands})}static restore(et){return et.version===2?new TransactionDataBuilder(parse$4(TransactionData,et)):new TransactionDataBuilder(parse$4(TransactionData,transactionDataFromV1(et)))}static getDigestFromBytes(et){const at=hashTypedData("TransactionData",et);return toBase58(at)}get gasConfig(){return this.gasData}set gasConfig(et){this.gasData=et}build({maxSizeBytes:et=1/0,overrides:at,onlyTransactionKind:mt}={}){const $t=this.inputs,Ct=this.commands,Dt={ProgrammableTransaction:{inputs:$t,commands:Ct}};if(mt)return suiBcs.TransactionKind.serialize(Dt,{maxSize:et}).toBytes();const Ft=(at==null?void 0:at.expiration)??this.expiration,Nt=(at==null?void 0:at.sender)??this.sender,jt={...this.gasData,...at==null?void 0:at.gasConfig,...at==null?void 0:at.gasData};if(!Nt)throw new Error("Missing transaction sender");if(!jt.budget)throw new Error("Missing gas budget");if(!jt.payment)throw new Error("Missing gas payment");if(!jt.price)throw new Error("Missing gas price");const Lt={sender:prepareSuiAddress(Nt),expiration:Ft||{None:!0},gasData:{payment:jt.payment,owner:prepareSuiAddress(this.gasData.owner??Nt),price:BigInt(jt.price),budget:BigInt(jt.budget)},kind:{ProgrammableTransaction:{inputs:$t,commands:Ct}}};return suiBcs.TransactionData.serialize({V1:Lt},{maxSize:et}).toBytes()}addInput(et,at){const mt=this.inputs.length;return this.inputs.push(at),{Input:mt,type:et,$kind:"Input"}}getInputUses(et,at){this.mapArguments((mt,$t)=>(mt.$kind==="Input"&&mt.Input===et&&at(mt,$t),mt))}mapArguments(et){for(const at of this.commands)switch(at.$kind){case"MoveCall":at.MoveCall.arguments=at.MoveCall.arguments.map($t=>et($t,at));break;case"TransferObjects":at.TransferObjects.objects=at.TransferObjects.objects.map($t=>et($t,at)),at.TransferObjects.address=et(at.TransferObjects.address,at);break;case"SplitCoins":at.SplitCoins.coin=et(at.SplitCoins.coin,at),at.SplitCoins.amounts=at.SplitCoins.amounts.map($t=>et($t,at));break;case"MergeCoins":at.MergeCoins.destination=et(at.MergeCoins.destination,at),at.MergeCoins.sources=at.MergeCoins.sources.map($t=>et($t,at));break;case"MakeMoveVec":at.MakeMoveVec.elements=at.MakeMoveVec.elements.map($t=>et($t,at));break;case"Upgrade":at.Upgrade.ticket=et(at.Upgrade.ticket,at);break;case"$Intent":const mt=at.$Intent.inputs;at.$Intent.inputs={};for(const[$t,Ct]of Object.entries(mt))at.$Intent.inputs[$t]=Array.isArray(Ct)?Ct.map(Dt=>et(Dt,at)):et(Ct,at);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${at.$kind}`)}}replaceCommand(et,at){if(!Array.isArray(at)){this.commands[et]=at;return}const mt=at.length-1;this.commands.splice(et,1,...at),mt!==0&&this.mapArguments($t=>{switch($t.$kind){case"Result":$t.Result>et&&($t.Result+=mt);break;case"NestedResult":$t.NestedResult[0]>et&&($t.NestedResult[0]+=mt);break}return $t})}getDigest(){const et=this.build({onlyTransactionKind:!1});return TransactionDataBuilder.getDigestFromBytes(et)}snapshot(){return parse$4(TransactionData,this)}}function getIdFromCallArg(nt){if(typeof nt=="string")return normalizeSuiAddress(nt);if(nt.Object)return nt.Object.ImmOrOwnedObject?normalizeSuiAddress(nt.Object.ImmOrOwnedObject.objectId):nt.Object.Receiving?normalizeSuiAddress(nt.Object.Receiving.objectId):normalizeSuiAddress(nt.Object.SharedObject.objectId);if(nt.UnresolvedObject)return normalizeSuiAddress(nt.UnresolvedObject.objectId)}var __typeError$7=nt=>{throw TypeError(nt)},__accessCheck$7=(nt,et,at)=>et.has(nt)||__typeError$7("Cannot "+at),__privateGet$7=(nt,et,at)=>(__accessCheck$7(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$7=(nt,et,at)=>et.has(nt)?__typeError$7("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet$6=(nt,et,at,mt)=>(__accessCheck$7(nt,et,"write to private field"),et.set(nt,at),at),__privateMethod$4=(nt,et,at)=>(__accessCheck$7(nt,et,"access private method"),at),_serializationPlugins,_buildPlugins,_intentResolvers,_data$1,_Transaction_instances,normalizeTransactionArgument_fn,resolveArgument_fn,prepareBuild_fn,runPlugins_fn;function createTransactionResult(nt){const et={$kind:"Result",Result:nt},at=[],mt=$t=>at[$t]??(at[$t]={$kind:"NestedResult",NestedResult:[nt,$t]});return new Proxy(et,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get($t,Ct){if(Ct in $t)return Reflect.get($t,Ct);if(Ct===Symbol.iterator)return function*(){let Ft=0;for(;;)yield mt(Ft),Ft++};if(typeof Ct=="symbol")return;const Dt=parseInt(Ct,10);if(!(Number.isNaN(Dt)||Dt<0))return mt(Dt)}})}const TRANSACTION_BRAND=Symbol.for("@mysten/transaction");function isTransaction(nt){return!!nt&&typeof nt=="object"&&nt[TRANSACTION_BRAND]===!0}const modulePluginRegistry={buildPlugins:new Map,serializationPlugins:new Map},TRANSACTION_REGISTRY_KEY=Symbol.for("@mysten/transaction/registry");function getGlobalPluginRegistry(){try{const nt=globalThis;return nt[TRANSACTION_REGISTRY_KEY]||(nt[TRANSACTION_REGISTRY_KEY]=modulePluginRegistry),nt[TRANSACTION_REGISTRY_KEY]}catch{return modulePluginRegistry}}const _Transaction=class Nu{constructor(){__privateAdd$7(this,_Transaction_instances),__privateAdd$7(this,_serializationPlugins),__privateAdd$7(this,_buildPlugins),__privateAdd$7(this,_intentResolvers,new Map),__privateAdd$7(this,_data$1),this.object=createObjectMethods(at=>{var Ct,Dt;if(typeof at=="function")return this.object(at(this));if(typeof at=="object"&&is(Argument$1,at))return at;const mt=getIdFromCallArg(at),$t=__privateGet$7(this,_data$1).inputs.find(Ft=>mt===getIdFromCallArg(Ft));return(Ct=$t==null?void 0:$t.Object)!=null&&Ct.SharedObject&&typeof at=="object"&&((Dt=at.Object)!=null&&Dt.SharedObject)&&($t.Object.SharedObject.mutable=$t.Object.SharedObject.mutable||at.Object.SharedObject.mutable),$t?{$kind:"Input",Input:__privateGet$7(this,_data$1).inputs.indexOf($t),type:"object"}:__privateGet$7(this,_data$1).addInput("object",typeof at=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:normalizeSuiAddress(at)}}:at)});const et=getGlobalPluginRegistry();__privateSet$6(this,_data$1,new TransactionDataBuilder),__privateSet$6(this,_buildPlugins,[...et.buildPlugins.values()]),__privateSet$6(this,_serializationPlugins,[...et.serializationPlugins.values()])}static fromKind(et){const at=new Nu;return __privateSet$6(at,_data$1,TransactionDataBuilder.fromKindBytes(typeof et=="string"?fromBase64(et):et)),at}static from(et){const at=new Nu;return isTransaction(et)?__privateSet$6(at,_data$1,new TransactionDataBuilder(et.getData())):typeof et!="string"||!et.startsWith("{")?__privateSet$6(at,_data$1,TransactionDataBuilder.fromBytes(typeof et=="string"?fromBase64(et):et)):__privateSet$6(at,_data$1,TransactionDataBuilder.restore(JSON.parse(et))),at}static registerGlobalSerializationPlugin(et,at){getGlobalPluginRegistry().serializationPlugins.set(et,at??et)}static unregisterGlobalSerializationPlugin(et){getGlobalPluginRegistry().serializationPlugins.delete(et)}static registerGlobalBuildPlugin(et,at){getGlobalPluginRegistry().buildPlugins.set(et,at??et)}static unregisterGlobalBuildPlugin(et){getGlobalPluginRegistry().buildPlugins.delete(et)}addSerializationPlugin(et){__privateGet$7(this,_serializationPlugins).push(et)}addBuildPlugin(et){__privateGet$7(this,_buildPlugins).push(et)}addIntentResolver(et,at){if(__privateGet$7(this,_intentResolvers).has(et)&&__privateGet$7(this,_intentResolvers).get(et)!==at)throw new Error(`Intent resolver for ${et} already exists`);__privateGet$7(this,_intentResolvers).set(et,at)}setSender(et){__privateGet$7(this,_data$1).sender=et}setSenderIfNotSet(et){__privateGet$7(this,_data$1).sender||(__privateGet$7(this,_data$1).sender=et)}setExpiration(et){__privateGet$7(this,_data$1).expiration=et?parse$4(TransactionExpiration$2,et):null}setGasPrice(et){__privateGet$7(this,_data$1).gasConfig.price=String(et)}setGasBudget(et){__privateGet$7(this,_data$1).gasConfig.budget=String(et)}setGasBudgetIfNotSet(et){__privateGet$7(this,_data$1).gasData.budget==null&&(__privateGet$7(this,_data$1).gasConfig.budget=String(et))}setGasOwner(et){__privateGet$7(this,_data$1).gasConfig.owner=et}setGasPayment(et){__privateGet$7(this,_data$1).gasConfig.payment=et.map(at=>parse$4(ObjectRef$1,at))}get blockData(){return serializeV1TransactionData(__privateGet$7(this,_data$1).snapshot())}getData(){return __privateGet$7(this,_data$1).snapshot()}get[TRANSACTION_BRAND](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure(et=>isSerializedBcs(et)?__privateGet$7(this,_data$1).addInput("pure",{$kind:"Pure",Pure:{bytes:et.toBase64()}}):__privateGet$7(this,_data$1).addInput("pure",is(NormalizedCallArg$1,et)?parse$4(NormalizedCallArg$1,et):et instanceof Uint8Array?Inputs.Pure(et):{$kind:"UnresolvedPure",UnresolvedPure:{value:et}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...et){return this.object(Inputs.ObjectRef(...et))}receivingRef(...et){return this.object(Inputs.ReceivingRef(...et))}sharedObjectRef(...et){return this.object(Inputs.SharedObjectRef(...et))}add(et){if(typeof et=="function")return et(this);const at=__privateGet$7(this,_data$1).commands.push(et);return createTransactionResult(at-1)}splitCoins(et,at){return this.add(Commands.SplitCoins(typeof et=="string"?this.object(et):__privateMethod$4(this,_Transaction_instances,resolveArgument_fn).call(this,et),at.map(mt=>typeof mt=="number"||typeof mt=="bigint"||typeof mt=="string"?this.pure.u64(mt):__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,mt))))}mergeCoins(et,at){return this.add(Commands.MergeCoins(this.object(et),at.map(mt=>this.object(mt))))}publish({modules:et,dependencies:at}){return this.add(Commands.Publish({modules:et,dependencies:at}))}upgrade({modules:et,dependencies:at,package:mt,ticket:$t}){return this.add(Commands.Upgrade({modules:et,dependencies:at,package:mt,ticket:this.object($t)}))}moveCall({arguments:et,...at}){return this.add(Commands.MoveCall({...at,arguments:et==null?void 0:et.map(mt=>__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,mt))}))}transferObjects(et,at){return this.add(Commands.TransferObjects(et.map(mt=>this.object(mt)),typeof at=="string"?this.pure.address(at):__privateMethod$4(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,at)))}makeMoveVec({type:et,elements:at}){return this.add(Commands.MakeMoveVec({type:et,elements:at.map(mt=>this.object(mt))}))}serialize(){return JSON.stringify(serializeV1TransactionData(__privateGet$7(this,_data$1).snapshot()))}async toJSON(et={}){return await this.prepareForSerialization(et),JSON.stringify(parse$4(SerializedTransactionDataV2,__privateGet$7(this,_data$1).snapshot()),(at,mt)=>typeof mt=="bigint"?mt.toString():mt,2)}async sign(et){const{signer:at,...mt}=et,$t=await this.build(mt);return at.signTransaction($t)}async build(et={}){return await this.prepareForSerialization(et),await __privateMethod$4(this,_Transaction_instances,prepareBuild_fn).call(this,et),__privateGet$7(this,_data$1).build({onlyTransactionKind:et.onlyTransactionKind})}async getDigest(et={}){return await __privateMethod$4(this,_Transaction_instances,prepareBuild_fn).call(this,et),__privateGet$7(this,_data$1).getDigest()}async prepareForSerialization(et){var $t;const at=new Set;for(const Ct of __privateGet$7(this,_data$1).commands)Ct.$Intent&&at.add(Ct.$Intent.name);const mt=[...__privateGet$7(this,_serializationPlugins)];for(const Ct of at)if(!(($t=et.supportedIntents)!=null&&$t.includes(Ct))){if(!__privateGet$7(this,_intentResolvers).has(Ct))throw new Error(`Missing intent resolver for ${Ct}`);mt.push(__privateGet$7(this,_intentResolvers).get(Ct))}await __privateMethod$4(this,_Transaction_instances,runPlugins_fn).call(this,mt,et)}};_serializationPlugins=new WeakMap;_buildPlugins=new WeakMap;_intentResolvers=new WeakMap;_data$1=new WeakMap;_Transaction_instances=new WeakSet;normalizeTransactionArgument_fn=function(nt){return isSerializedBcs(nt)?this.pure(nt):__privateMethod$4(this,_Transaction_instances,resolveArgument_fn).call(this,nt)};resolveArgument_fn=function(nt){return typeof nt=="function"?parse$4(Argument$1,nt(this)):parse$4(Argument$1,nt)};prepareBuild_fn=async function(nt){if(!nt.onlyTransactionKind&&!__privateGet$7(this,_data$1).sender)throw new Error("Missing transaction sender");await __privateMethod$4(this,_Transaction_instances,runPlugins_fn).call(this,[...__privateGet$7(this,_buildPlugins),resolveTransactionData],nt)};runPlugins_fn=async function(nt,et){const at=mt=>{if(mt>=nt.length)return()=>{};const $t=nt[mt];return async()=>{const Ct=at(mt+1);let Dt=!1,Ft=!1;if(await $t(__privateGet$7(this,_data$1),et,async()=>{if(Dt)throw new Error(`next() was call multiple times in TransactionPlugin ${mt}`);Dt=!0,await Ct(),Ft=!0}),!Dt)throw new Error(`next() was not called in TransactionPlugin ${mt}`);if(!Ft)throw new Error(`next() was not awaited in TransactionPlugin ${mt}`)}};await at(0)()};let Transaction=_Transaction;const COIN_WITH_BALANCE="CoinWithBalance",SUI_TYPE=normalizeStructTag("0x2::sui::SUI");function coinWithBalance({type:nt=SUI_TYPE,balance:et,useGasCoin:at=!0}){return mt=>{mt.addIntentResolver(COIN_WITH_BALANCE,resolveCoinBalance);const $t=nt==="gas"?nt:normalizeStructTag(nt);return mt.add(Commands.Intent({name:COIN_WITH_BALANCE,inputs:{},data:{type:$t===SUI_TYPE&&at?"gas":$t,balance:BigInt(et)}}))}}const CoinWithBalanceData=object$1({type:string(),balance:bigint()});async function resolveCoinBalance(nt,et,at){var jt,Lt;const mt=new Set,$t=new Map;if(!nt.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const Vt of nt.commands)if(Vt.$kind==="$Intent"&&Vt.$Intent.name===COIN_WITH_BALANCE){const{type:er,balance:ir}=parse$4(CoinWithBalanceData,Vt.$Intent.data);er!=="gas"&&ir>0n&&mt.add(er),$t.set(er,($t.get(er)??0n)+ir)}const Ct=new Set;for(const Vt of nt.inputs)(jt=Vt.Object)!=null&&jt.ImmOrOwnedObject&&Ct.add(Vt.Object.ImmOrOwnedObject.objectId),(Lt=Vt.UnresolvedObject)!=null&&Lt.objectId&&Ct.add(Vt.UnresolvedObject.objectId);const Dt=new Map,Ft=getClient(et);await Promise.all([...mt].map(async Vt=>{Dt.set(Vt,await getCoinsOfType({coinType:Vt,balance:$t.get(Vt),client:Ft,owner:nt.sender,usedIds:Ct}))}));const Nt=new Map;Nt.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[Vt,er]of nt.commands.entries()){if(er.$kind!=="$Intent"||er.$Intent.name!==COIN_WITH_BALANCE)continue;const{type:ir,balance:or}=er.$Intent.data;if(or===0n){nt.replaceCommand(Vt,Commands.MoveCall({target:"0x2::coin::zero",typeArguments:[ir]}));continue}const lr=[];if(!Nt.has(ir)){const[dr,...pr]=Dt.get(ir).map(hr=>nt.addInput("object",Inputs.ObjectRef({objectId:hr.coinObjectId,digest:hr.digest,version:hr.version})));pr.length>0&&lr.push(Commands.MergeCoins(dr,pr)),Nt.set(ir,dr)}lr.push(Commands.SplitCoins(Nt.get(ir),[nt.addInput("pure",Inputs.Pure(suiBcs.u64().serialize(or)))])),nt.replaceCommand(Vt,lr),nt.mapArguments(dr=>dr.$kind==="Result"&&dr.Result===Vt?{$kind:"NestedResult",NestedResult:[Vt+lr.length-1,0]}:dr)}return at()}async function getCoinsOfType({coinType:nt,balance:et,client:at,owner:mt,usedIds:$t}){let Ct=et;const Dt=[];return Ft();async function Ft(Nt=null){const{data:jt,hasNextPage:Lt,nextCursor:Vt}=await at.getCoins({owner:mt,coinType:nt,cursor:Nt}),er=jt.sort((ir,or)=>Number(BigInt(or.balance)-BigInt(ir.balance)));for(const ir of er){if($t.has(ir.coinObjectId))continue;const or=BigInt(ir.balance);if(Dt.push(ir),Ct-=or,Ct<=0)return Dt}if(Lt)return Ft(Vt);throw new Error(`Not enough coins of type ${nt} to satisfy requested balance`)}}async function signTransaction(nt,et){if(nt.features["sui:signTransaction"])return nt.features["sui:signTransaction"].signTransaction(et);if(!nt.features["sui:signTransactionBlock"])throw new Error(`Provided wallet (${nt.name}) does not support the signTransaction feature.`);const{signTransactionBlock:at}=nt.features["sui:signTransactionBlock"],mt=Transaction.from(await et.transaction.toJSON()),{transactionBlockBytes:$t,signature:Ct}=await at({transactionBlock:mt,account:et.account,chain:et.chain});return{bytes:$t,signature:Ct}}const REQUIRED_FEATURES=["standard:connect","standard:events"];function isWalletWithRequiredFeatureSet(nt,et=[]){return[...REQUIRED_FEATURES,...et].every(at=>at in nt.features)}const SUI_DEVNET_CHAIN="sui:devnet",SUI_TESTNET_CHAIN="sui:testnet",SUI_LOCALNET_CHAIN="sui:localnet",SUI_MAINNET_CHAIN="sui:mainnet",SUI_CHAINS=[SUI_DEVNET_CHAIN,SUI_TESTNET_CHAIN,SUI_LOCALNET_CHAIN,SUI_MAINNET_CHAIN];function toPrimitive$3(nt,et){if(typeof nt!="object"||!nt)return nt;var at=nt[Symbol.toPrimitive];if(at!==void 0){var mt=at.call(nt,et||"default");if(typeof mt!="object")return mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(nt)}function toPropertyKey$3(nt){var et=toPrimitive$3(nt,"string");return typeof et=="symbol"?et:String(et)}function _defineProperty$3(nt,et,at){return et=toPropertyKey$3(et),et in nt?Object.defineProperty(nt,et,{value:at,enumerable:!0,configurable:!0,writable:!0}):nt[et]=at,nt}function ownKeys$3(nt,et){var at=Object.keys(nt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(nt);et&&(mt=mt.filter(function($t){return Object.getOwnPropertyDescriptor(nt,$t).enumerable})),at.push.apply(at,mt)}return at}function _objectSpread2$c(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$3(Object(at),!0).forEach(function(mt){_defineProperty$3(nt,mt,at[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(at)):ownKeys$3(Object(at)).forEach(function(mt){Object.defineProperty(nt,mt,Object.getOwnPropertyDescriptor(at,mt))})}return nt}function mapValues(nt,et){var at={};for(var mt in nt)at[mt]=et(nt[mt],mt);return at}var shouldApplyCompound=(nt,et,at)=>{for(var mt of Object.keys(nt)){var $t;if(nt[mt]!==(($t=et[mt])!==null&&$t!==void 0?$t:at[mt]))return!1}return!0},createRuntimeFn=nt=>{var et=at=>{var mt=nt.defaultClassName,$t=_objectSpread2$c(_objectSpread2$c({},nt.defaultVariants),at);for(var Ct in $t){var Dt,Ft=(Dt=$t[Ct])!==null&&Dt!==void 0?Dt:nt.defaultVariants[Ct];if(Ft!=null){var Nt=Ft;typeof Nt=="boolean"&&(Nt=Nt===!0?"true":"false");var jt=nt.variantClassNames[Ct][Nt];jt&&(mt+=" "+jt)}}for(var[Lt,Vt]of nt.compoundVariants)shouldApplyCompound(Lt,$t,nt.defaultVariants)&&(mt+=" "+Vt);return mt};return et.variants=()=>Object.keys(nt.variantClassNames),et.classNames={get base(){return nt.defaultClassName.split(" ")[0]},get variants(){return mapValues(nt.variantClassNames,at=>mapValues(at,mt=>mt.split(" ")[0]))}},et};const PACKAGE_VERSION="1.16.1",TARGETED_RPC_VERSION="1.40.0",CODE_TO_ERROR_TYPE={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class SuiHTTPTransportError extends Error{}class JsonRpcError extends SuiHTTPTransportError{constructor(et,at){super(et),this.code=at,this.type=CODE_TO_ERROR_TYPE[at]??"ServerError"}}class SuiHTTPStatusError extends SuiHTTPTransportError{constructor(et,at,mt){super(et),this.status=at,this.statusText=mt}}var __typeError$6=nt=>{throw TypeError(nt)},__accessCheck$6=(nt,et,at)=>et.has(nt)||__typeError$6("Cannot "+at),__privateGet$6=(nt,et,at)=>(__accessCheck$6(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$6=(nt,et,at)=>et.has(nt)?__typeError$6("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet$5=(nt,et,at,mt)=>(__accessCheck$6(nt,et,"write to private field"),et.set(nt,at),at),__privateMethod$3=(nt,et,at)=>(__accessCheck$6(nt,et,"access private method"),at),__privateWrapper=(nt,et,at,mt)=>({set _($t){__privateSet$5(nt,et,$t)},get _(){return __privateGet$6(nt,et,mt)}}),_requestId$1,_disconnects,_webSocket,_connectionPromise,_subscriptions,_pendingRequests,_WebsocketClient_instances,setupWebSocket_fn,reconnect_fn;function getWebsocketUrl(nt){const et=new URL(nt);return et.protocol=et.protocol.replace("http","ws"),et.toString()}const DEFAULT_CLIENT_OPTIONS={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class WebsocketClient{constructor(et,at={}){if(__privateAdd$6(this,_WebsocketClient_instances),__privateAdd$6(this,_requestId$1,0),__privateAdd$6(this,_disconnects,0),__privateAdd$6(this,_webSocket,null),__privateAdd$6(this,_connectionPromise,null),__privateAdd$6(this,_subscriptions,new Set),__privateAdd$6(this,_pendingRequests,new Map),this.endpoint=et,this.options={...DEFAULT_CLIENT_OPTIONS,...at},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl(this.endpoint))}async makeRequest(et,at){const mt=await __privateMethod$3(this,_WebsocketClient_instances,setupWebSocket_fn).call(this);return new Promise(($t,Ct)=>{__privateSet$5(this,_requestId$1,__privateGet$6(this,_requestId$1)+1),__privateGet$6(this,_pendingRequests).set(__privateGet$6(this,_requestId$1),{resolve:$t,reject:Ct,timeout:setTimeout(()=>{__privateGet$6(this,_pendingRequests).delete(__privateGet$6(this,_requestId$1)),Ct(new Error(`Request timeout: ${et}`))},this.options.callTimeout)}),mt.send(JSON.stringify({jsonrpc:"2.0",id:__privateGet$6(this,_requestId$1),method:et,params:at}))}).then(({error:$t,result:Ct})=>{if($t)throw new JsonRpcError($t.message,$t.code);return Ct})}async subscribe(et){const at=new RpcSubscription(et);return __privateGet$6(this,_subscriptions).add(at),await at.subscribe(this),()=>at.unsubscribe(this)}}_requestId$1=new WeakMap;_disconnects=new WeakMap;_webSocket=new WeakMap;_connectionPromise=new WeakMap;_subscriptions=new WeakMap;_pendingRequests=new WeakMap;_WebsocketClient_instances=new WeakSet;setupWebSocket_fn=function(){return __privateGet$6(this,_connectionPromise)?__privateGet$6(this,_connectionPromise):(__privateSet$5(this,_connectionPromise,new Promise(nt=>{var et;(et=__privateGet$6(this,_webSocket))==null||et.close(),__privateSet$5(this,_webSocket,new this.options.WebSocketConstructor(this.endpoint)),__privateGet$6(this,_webSocket).addEventListener("open",()=>{__privateSet$5(this,_disconnects,0),nt(__privateGet$6(this,_webSocket))}),__privateGet$6(this,_webSocket).addEventListener("close",()=>{__privateWrapper(this,_disconnects)._++,__privateGet$6(this,_disconnects)<=this.options.maxReconnects&&setTimeout(()=>{__privateMethod$3(this,_WebsocketClient_instances,reconnect_fn).call(this)},this.options.reconnectTimeout)}),__privateGet$6(this,_webSocket).addEventListener("message",({data:at})=>{let mt;try{mt=JSON.parse(at)}catch($t){console.error(new Error(`Failed to parse RPC message: ${at}`,{cause:$t}));return}if("id"in mt&&mt.id!=null&&__privateGet$6(this,_pendingRequests).has(mt.id)){const{resolve:$t,timeout:Ct}=__privateGet$6(this,_pendingRequests).get(mt.id);clearTimeout(Ct),$t(mt)}else if("params"in mt){const{params:$t}=mt;__privateGet$6(this,_subscriptions).forEach(Ct=>{Ct.subscriptionId===$t.subscription&&$t.subscription===Ct.subscriptionId&&Ct.onMessage($t.result)})}})})),__privateGet$6(this,_connectionPromise))};reconnect_fn=async function(){var nt;return(nt=__privateGet$6(this,_webSocket))==null||nt.close(),__privateSet$5(this,_connectionPromise,null),Promise.allSettled([...__privateGet$6(this,_subscriptions)].map(et=>et.subscribe(this)))};class RpcSubscription{constructor(et){this.subscriptionId=null,this.subscribed=!1,this.input=et}onMessage(et){this.subscribed&&this.input.onMessage(et)}async unsubscribe(et){const{subscriptionId:at}=this;return this.subscribed=!1,at==null?!1:(this.subscriptionId=null,et.makeRequest(this.input.unsubscribe,[at]))}async subscribe(et){this.subscriptionId=null,this.subscribed=!0;const at=await et.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=at)}}var __typeError$5=nt=>{throw TypeError(nt)},__accessCheck$5=(nt,et,at)=>et.has(nt)||__typeError$5("Cannot "+at),__privateGet$5=(nt,et,at)=>(__accessCheck$5(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$5=(nt,et,at)=>et.has(nt)?__typeError$5("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet$4=(nt,et,at,mt)=>(__accessCheck$5(nt,et,"write to private field"),et.set(nt,at),at),__privateMethod$2=(nt,et,at)=>(__accessCheck$5(nt,et,"access private method"),at),_requestId,_options,_websocketClient,_SuiHTTPTransport_instances,getWebsocketClient_fn;class SuiHTTPTransport{constructor(et){__privateAdd$5(this,_SuiHTTPTransport_instances),__privateAdd$5(this,_requestId,0),__privateAdd$5(this,_options),__privateAdd$5(this,_websocketClient),__privateSet$4(this,_options,et)}fetch(et,at){const mt=__privateGet$5(this,_options).fetch??fetch;if(!mt)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return mt(et,at)}async request(et){var $t,Ct;__privateSet$4(this,_requestId,__privateGet$5(this,_requestId)+1);const at=await this.fetch((($t=__privateGet$5(this,_options).rpc)==null?void 0:$t.url)??__privateGet$5(this,_options).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":PACKAGE_VERSION,"Client-Target-Api-Version":TARGETED_RPC_VERSION,"Client-Request-Method":et.method,...(Ct=__privateGet$5(this,_options).rpc)==null?void 0:Ct.headers},body:JSON.stringify({jsonrpc:"2.0",id:__privateGet$5(this,_requestId),method:et.method,params:et.params})});if(!at.ok)throw new SuiHTTPStatusError(`Unexpected status code: ${at.status}`,at.status,at.statusText);const mt=await at.json();if("error"in mt&&mt.error!=null)throw new JsonRpcError(mt.error.message,mt.error.code);return mt.result}async subscribe(et){const at=await __privateMethod$2(this,_SuiHTTPTransport_instances,getWebsocketClient_fn).call(this).subscribe(et);return async()=>!!await at()}}_requestId=new WeakMap;_options=new WeakMap;_websocketClient=new WeakMap;_SuiHTTPTransport_instances=new WeakSet;getWebsocketClient_fn=function(){var nt;if(!__privateGet$5(this,_websocketClient)){const et=__privateGet$5(this,_options).WebSocketConstructor??WebSocket;if(!et)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");__privateSet$4(this,_websocketClient,new WebsocketClient(((nt=__privateGet$5(this,_options).websocket)==null?void 0:nt.url)??__privateGet$5(this,_options).url,{WebSocketConstructor:et,...__privateGet$5(this,_options).websocket}))}return __privateGet$5(this,_websocketClient)};function getFullnodeUrl$1(nt){switch(nt){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${nt}`)}}const SUI_CLIENT_BRAND=Symbol.for("@mysten/SuiClient");function isSuiClient(nt){return typeof nt=="object"&&nt!==null&&nt[SUI_CLIENT_BRAND]===!0}class SuiClient{get[SUI_CLIENT_BRAND](){return!0}constructor(et){this.transport=et.transport??new SuiHTTPTransport({url:et.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(et){if(!et.owner||!isValidSuiAddress(normalizeSuiAddress(et.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[et.owner,et.coinType,et.cursor,et.limit]})}async getAllCoins(et){if(!et.owner||!isValidSuiAddress(normalizeSuiAddress(et.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[et.owner,et.cursor,et.limit]})}async getBalance(et){if(!et.owner||!isValidSuiAddress(normalizeSuiAddress(et.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[et.owner,et.coinType]})}async getAllBalances(et){if(!et.owner||!isValidSuiAddress(normalizeSuiAddress(et.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[et.owner]})}async getCoinMetadata(et){return await this.transport.request({method:"suix_getCoinMetadata",params:[et.coinType]})}async getTotalSupply(et){return await this.transport.request({method:"suix_getTotalSupply",params:[et.coinType]})}async call(et,at){return await this.transport.request({method:et,params:at})}async getMoveFunctionArgTypes(et){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[et.package,et.module,et.function]})}async getNormalizedMoveModulesByPackage(et){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[et.package]})}async getNormalizedMoveModule(et){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[et.package,et.module]})}async getNormalizedMoveFunction(et){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[et.package,et.module,et.function]})}async getNormalizedMoveStruct(et){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[et.package,et.module,et.struct]})}async getOwnedObjects(et){if(!et.owner||!isValidSuiAddress(normalizeSuiAddress(et.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[et.owner,{filter:et.filter,options:et.options},et.cursor,et.limit]})}async getObject(et){if(!et.id||!isValidSuiObjectId(normalizeSuiObjectId(et.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[et.id,et.options]})}async tryGetPastObject(et){return await this.transport.request({method:"sui_tryGetPastObject",params:[et.id,et.version,et.options]})}async multiGetObjects(et){if(et.ids.forEach(mt=>{if(!mt||!isValidSuiObjectId(normalizeSuiObjectId(mt)))throw new Error(`Invalid Sui Object id ${mt}`)}),et.ids.length!==new Set(et.ids).size)throw new Error(`Duplicate object ids in batch call ${et.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[et.ids,et.options]})}async queryTransactionBlocks(et){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:et.filter,options:et.options},et.cursor,et.limit,(et.order||"descending")==="descending"]})}async getTransactionBlock(et){if(!isValidTransactionDigest(et.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[et.digest,et.options]})}async multiGetTransactionBlocks(et){if(et.digests.forEach(mt=>{if(!isValidTransactionDigest(mt))throw new Error(`Invalid Transaction digest ${mt}`)}),et.digests.length!==new Set(et.digests).size)throw new Error(`Duplicate digests in batch call ${et.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[et.digests,et.options]})}async executeTransactionBlock({transactionBlock:et,signature:at,options:mt,requestType:$t}){const Ct=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof et=="string"?et:toBase64(et),Array.isArray(at)?at:[at],mt]});if($t==="WaitForLocalExecution")try{await this.waitForTransaction({digest:Ct.digest})}catch{}return Ct}async signAndExecuteTransaction({transaction:et,signer:at,...mt}){let $t;et instanceof Uint8Array?$t=et:(et.setSenderIfNotSet(at.toSuiAddress()),$t=await et.build({client:this}));const{signature:Ct,bytes:Dt}=await at.signTransaction($t);return this.executeTransactionBlock({transactionBlock:Dt,signature:Ct,...mt})}async getTotalTransactionBlocks(){const et=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(et)}async getReferenceGasPrice(){const et=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(et)}async getStakes(et){if(!et.owner||!isValidSuiAddress(normalizeSuiAddress(et.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[et.owner]})}async getStakesByIds(et){return et.stakedSuiIds.forEach(at=>{if(!at||!isValidSuiObjectId(normalizeSuiObjectId(at)))throw new Error(`Invalid Sui Stake id ${at}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[et.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(et){return await this.transport.request({method:"suix_queryEvents",params:[et.query,et.cursor,et.limit,(et.order||"descending")==="descending"]})}async subscribeEvent(et){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[et.filter],onMessage:et.onMessage})}async subscribeTransaction(et){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[et.filter],onMessage:et.onMessage})}async devInspectTransactionBlock(et){var mt;let at;if(isTransaction(et.transactionBlock))et.transactionBlock.setSenderIfNotSet(et.sender),at=toBase64(await et.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof et.transactionBlock=="string")at=et.transactionBlock;else if(et.transactionBlock instanceof Uint8Array)at=toBase64(et.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[et.sender,at,(mt=et.gasPrice)==null?void 0:mt.toString(),et.epoch]})}async dryRunTransactionBlock(et){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof et.transactionBlock=="string"?et.transactionBlock:toBase64(et.transactionBlock)]})}async getDynamicFields(et){if(!et.parentId||!isValidSuiObjectId(normalizeSuiObjectId(et.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[et.parentId,et.cursor,et.limit]})}async getDynamicFieldObject(et){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[et.parentId,et.name]})}async getLatestCheckpointSequenceNumber(){const et=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(et)}async getCheckpoint(et){return await this.transport.request({method:"sui_getCheckpoint",params:[et.id]})}async getCheckpoints(et){return await this.transport.request({method:"sui_getCheckpoints",params:[et.cursor,et==null?void 0:et.limit,et.descendingOrder]})}async getCommitteeInfo(et){return await this.transport.request({method:"suix_getCommitteeInfo",params:[et==null?void 0:et.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(et){return await this.transport.request({method:"suix_getEpochMetrics",params:[et==null?void 0:et.cursor,et==null?void 0:et.limit,et==null?void 0:et.descendingOrder]})}async getAllEpochAddressMetrics(et){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[et==null?void 0:et.descendingOrder]})}async getEpochs(et){return await this.transport.request({method:"suix_getEpochs",params:[et==null?void 0:et.cursor,et==null?void 0:et.limit,et==null?void 0:et.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const et=await this.getCheckpoint({id:"0"}),at=fromBase58(et.digest);return toHex$2(at.slice(0,4))}async resolveNameServiceAddress(et){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[et.name]})}async resolveNameServiceNames({format:et="dot",...at}){const{nextCursor:mt,hasNextPage:$t,data:Ct}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[at.address,at.cursor,at.limit]});return{hasNextPage:$t,nextCursor:mt,data:Ct.map(Dt=>normalizeSuiNSName(Dt,et))}}async getProtocolConfig(et){return await this.transport.request({method:"sui_getProtocolConfig",params:[et==null?void 0:et.version]})}async waitForTransaction({signal:et,timeout:at=60*1e3,pollInterval:mt=2*1e3,...$t}){const Ct=AbortSignal.timeout(at),Dt=new Promise((Ft,Nt)=>{Ct.addEventListener("abort",()=>Nt(Ct.reason))});for(Dt.catch(()=>{});!Ct.aborted;){et==null||et.throwIfAborted();try{return await this.getTransactionBlock($t)}catch{await Promise.race([new Promise(Nt=>setTimeout(Nt,mt)),Dt])}}throw Ct.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}function messageWithIntent(nt,et){return suiBcs.IntentMessage(suiBcs.fixedArray(et.length,suiBcs.u8())).serialize({intent:{scope:{[nt]:!0},version:{V0:!0},appId:{Sui:!0}},value:et}).toBytes()}function bytesEqual(nt,et){if(nt===et)return!0;if(nt.length!==et.length)return!1;for(let at=0;at<nt.length;at++)if(nt[at]!==et[at])return!1;return!0}class PublicKey{equals(et){return bytesEqual(this.toRawBytes(),et.toRawBytes())}toBase64(){return toBase64(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const et=this.toSuiBytes();return toBase64(et)}verifyWithIntent(et,at,mt){const $t=messageWithIntent(mt,et),Ct=blake2b$1($t,{dkLen:32});return this.verify(Ct,at)}verifyPersonalMessage(et,at){return this.verifyWithIntent(suiBcs.vector(suiBcs.u8()).serialize(et).toBytes(),at,"PersonalMessage")}verifyTransaction(et,at){return this.verifyWithIntent(et,at,"TransactionData")}toSuiBytes(){const et=this.toRawBytes(),at=new Uint8Array(et.length+1);return at.set([this.flag()]),at.set(et,1),at}toSuiAddress(){return normalizeSuiAddress(bytesToHex(blake2b$1(this.toSuiBytes(),{dkLen:32})).slice(0,SUI_ADDRESS_LENGTH*2))}}const SIGNATURE_SCHEME_TO_FLAG={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},SIGNATURE_SCHEME_TO_SIZE={ED25519:32,Secp256k1:33,Secp256r1:33},SIGNATURE_FLAG_TO_SCHEME={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};function devAssert(nt,et){if(!!!nt)throw new Error(et)}function isObjectLike$1(nt){return typeof nt=="object"&&nt!==null}function invariant$S(nt,et){if(!!!nt)throw new Error("Unexpected invariant triggered.")}const LineRegExp=/\r\n|[\n\r]/g;function getLocation(nt,et){let at=0,mt=1;for(const $t of nt.body.matchAll(LineRegExp)){if(typeof $t.index=="number"||invariant$S(!1),$t.index>=et)break;at=$t.index+$t[0].length,mt+=1}return{line:mt,column:et+1-at}}function printLocation(nt){return printSourceLocation(nt.source,getLocation(nt.source,nt.start))}function printSourceLocation(nt,et){const at=nt.locationOffset.column-1,mt="".padStart(at)+nt.body,$t=et.line-1,Ct=nt.locationOffset.line-1,Dt=et.line+Ct,Ft=et.line===1?at:0,Nt=et.column+Ft,jt=`${nt.name}:${Dt}:${Nt}
`,Lt=mt.split(/\r\n|[\n\r]/g),Vt=Lt[$t];if(Vt.length>120){const er=Math.floor(Nt/80),ir=Nt%80,or=[];for(let lr=0;lr<Vt.length;lr+=80)or.push(Vt.slice(lr,lr+80));return jt+printPrefixedLines([[`${Dt} |`,or[0]],...or.slice(1,er+1).map(lr=>["|",lr]),["|","^".padStart(ir)],["|",or[er+1]]])}return jt+printPrefixedLines([[`${Dt-1} |`,Lt[$t-1]],[`${Dt} |`,Vt],["|","^".padStart(Nt)],[`${Dt+1} |`,Lt[$t+1]]])}function printPrefixedLines(nt){const et=nt.filter(([mt,$t])=>$t!==void 0),at=Math.max(...et.map(([mt])=>mt.length));return et.map(([mt,$t])=>mt.padStart(at)+($t?" "+$t:"")).join(`
`)}function toNormalizedOptions(nt){const et=nt[0];return et==null||"kind"in et||"length"in et?{nodes:et,source:nt[1],positions:nt[2],path:nt[3],originalError:nt[4],extensions:nt[5]}:et}let GraphQLError$1=class C0 extends Error{constructor(et,...at){var mt,$t,Ct;const{nodes:Dt,source:Ft,positions:Nt,path:jt,originalError:Lt,extensions:Vt}=toNormalizedOptions(at);super(et),this.name="GraphQLError",this.path=jt??void 0,this.originalError=Lt??void 0,this.nodes=undefinedIfEmpty(Array.isArray(Dt)?Dt:Dt?[Dt]:void 0);const er=undefinedIfEmpty((mt=this.nodes)===null||mt===void 0?void 0:mt.map(or=>or.loc).filter(or=>or!=null));this.source=Ft??(er==null||($t=er[0])===null||$t===void 0?void 0:$t.source),this.positions=Nt??(er==null?void 0:er.map(or=>or.start)),this.locations=Nt&&Ft?Nt.map(or=>getLocation(Ft,or)):er==null?void 0:er.map(or=>getLocation(or.source,or.start));const ir=isObjectLike$1(Lt==null?void 0:Lt.extensions)?Lt==null?void 0:Lt.extensions:void 0;this.extensions=(Ct=Vt??ir)!==null&&Ct!==void 0?Ct:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),Lt!=null&&Lt.stack?Object.defineProperty(this,"stack",{value:Lt.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,C0):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let et=this.message;if(this.nodes)for(const at of this.nodes)at.loc&&(et+=`

`+printLocation(at.loc));else if(this.source&&this.locations)for(const at of this.locations)et+=`

`+printSourceLocation(this.source,at);return et}toJSON(){const et={message:this.message};return this.locations!=null&&(et.locations=this.locations),this.path!=null&&(et.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(et.extensions=this.extensions),et}};function undefinedIfEmpty(nt){return nt===void 0||nt.length===0?void 0:nt}function syntaxError(nt,et,at){return new GraphQLError$1(`Syntax Error: ${at}`,{source:nt,positions:[et]})}class Location{constructor(et,at,mt){this.start=et.start,this.end=at.end,this.startToken=et,this.endToken=at,this.source=mt}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Token{constructor(et,at,mt,$t,Ct,Dt){this.kind=et,this.start=at,this.end=mt,this.line=$t,this.column=Ct,this.value=Dt,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kindValues=new Set(Object.keys(QueryDocumentKeys));function isNode(nt){const et=nt==null?void 0:nt.kind;return typeof et=="string"&&kindValues.has(et)}var OperationTypeNode;(function(nt){nt.QUERY="query",nt.MUTATION="mutation",nt.SUBSCRIPTION="subscription"})(OperationTypeNode||(OperationTypeNode={}));var DirectiveLocation;(function(nt){nt.QUERY="QUERY",nt.MUTATION="MUTATION",nt.SUBSCRIPTION="SUBSCRIPTION",nt.FIELD="FIELD",nt.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",nt.FRAGMENT_SPREAD="FRAGMENT_SPREAD",nt.INLINE_FRAGMENT="INLINE_FRAGMENT",nt.VARIABLE_DEFINITION="VARIABLE_DEFINITION",nt.SCHEMA="SCHEMA",nt.SCALAR="SCALAR",nt.OBJECT="OBJECT",nt.FIELD_DEFINITION="FIELD_DEFINITION",nt.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",nt.INTERFACE="INTERFACE",nt.UNION="UNION",nt.ENUM="ENUM",nt.ENUM_VALUE="ENUM_VALUE",nt.INPUT_OBJECT="INPUT_OBJECT",nt.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(DirectiveLocation||(DirectiveLocation={}));var Kind;(function(nt){nt.NAME="Name",nt.DOCUMENT="Document",nt.OPERATION_DEFINITION="OperationDefinition",nt.VARIABLE_DEFINITION="VariableDefinition",nt.SELECTION_SET="SelectionSet",nt.FIELD="Field",nt.ARGUMENT="Argument",nt.FRAGMENT_SPREAD="FragmentSpread",nt.INLINE_FRAGMENT="InlineFragment",nt.FRAGMENT_DEFINITION="FragmentDefinition",nt.VARIABLE="Variable",nt.INT="IntValue",nt.FLOAT="FloatValue",nt.STRING="StringValue",nt.BOOLEAN="BooleanValue",nt.NULL="NullValue",nt.ENUM="EnumValue",nt.LIST="ListValue",nt.OBJECT="ObjectValue",nt.OBJECT_FIELD="ObjectField",nt.DIRECTIVE="Directive",nt.NAMED_TYPE="NamedType",nt.LIST_TYPE="ListType",nt.NON_NULL_TYPE="NonNullType",nt.SCHEMA_DEFINITION="SchemaDefinition",nt.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",nt.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",nt.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",nt.FIELD_DEFINITION="FieldDefinition",nt.INPUT_VALUE_DEFINITION="InputValueDefinition",nt.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",nt.UNION_TYPE_DEFINITION="UnionTypeDefinition",nt.ENUM_TYPE_DEFINITION="EnumTypeDefinition",nt.ENUM_VALUE_DEFINITION="EnumValueDefinition",nt.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",nt.DIRECTIVE_DEFINITION="DirectiveDefinition",nt.SCHEMA_EXTENSION="SchemaExtension",nt.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",nt.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",nt.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",nt.UNION_TYPE_EXTENSION="UnionTypeExtension",nt.ENUM_TYPE_EXTENSION="EnumTypeExtension",nt.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Kind||(Kind={}));function isWhiteSpace(nt){return nt===9||nt===32}function isDigit(nt){return nt>=48&&nt<=57}function isLetter(nt){return nt>=97&&nt<=122||nt>=65&&nt<=90}function isNameStart(nt){return isLetter(nt)||nt===95}function isNameContinue(nt){return isLetter(nt)||isDigit(nt)||nt===95}function dedentBlockStringLines(nt){var et;let at=Number.MAX_SAFE_INTEGER,mt=null,$t=-1;for(let Dt=0;Dt<nt.length;++Dt){var Ct;const Ft=nt[Dt],Nt=leadingWhitespace(Ft);Nt!==Ft.length&&(mt=(Ct=mt)!==null&&Ct!==void 0?Ct:Dt,$t=Dt,Dt!==0&&Nt<at&&(at=Nt))}return nt.map((Dt,Ft)=>Ft===0?Dt:Dt.slice(at)).slice((et=mt)!==null&&et!==void 0?et:0,$t+1)}function leadingWhitespace(nt){let et=0;for(;et<nt.length&&isWhiteSpace(nt.charCodeAt(et));)++et;return et}function printBlockString(nt,et){const at=nt.replace(/"""/g,'\\"""'),mt=at.split(/\r\n|[\n\r]/g),$t=mt.length===1,Ct=mt.length>1&&mt.slice(1).every(ir=>ir.length===0||isWhiteSpace(ir.charCodeAt(0))),Dt=at.endsWith('\\"""'),Ft=nt.endsWith('"')&&!Dt,Nt=nt.endsWith("\\"),jt=Ft||Nt,Lt=!$t||nt.length>70||jt||Ct||Dt;let Vt="";const er=$t&&isWhiteSpace(nt.charCodeAt(0));return(Lt&&!er||Ct)&&(Vt+=`
`),Vt+=at,(Lt||jt)&&(Vt+=`
`),'"""'+Vt+'"""'}var TokenKind;(function(nt){nt.SOF="<SOF>",nt.EOF="<EOF>",nt.BANG="!",nt.DOLLAR="$",nt.AMP="&",nt.PAREN_L="(",nt.PAREN_R=")",nt.SPREAD="...",nt.COLON=":",nt.EQUALS="=",nt.AT="@",nt.BRACKET_L="[",nt.BRACKET_R="]",nt.BRACE_L="{",nt.PIPE="|",nt.BRACE_R="}",nt.NAME="Name",nt.INT="Int",nt.FLOAT="Float",nt.STRING="String",nt.BLOCK_STRING="BlockString",nt.COMMENT="Comment"})(TokenKind||(TokenKind={}));class Lexer{constructor(et){const at=new Token(TokenKind.SOF,0,0,0,0);this.source=et,this.lastToken=at,this.token=at,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let et=this.token;if(et.kind!==TokenKind.EOF)do if(et.next)et=et.next;else{const at=readNextToken(this,et.end);et.next=at,at.prev=et,et=at}while(et.kind===TokenKind.COMMENT);return et}}function isPunctuatorTokenKind(nt){return nt===TokenKind.BANG||nt===TokenKind.DOLLAR||nt===TokenKind.AMP||nt===TokenKind.PAREN_L||nt===TokenKind.PAREN_R||nt===TokenKind.SPREAD||nt===TokenKind.COLON||nt===TokenKind.EQUALS||nt===TokenKind.AT||nt===TokenKind.BRACKET_L||nt===TokenKind.BRACKET_R||nt===TokenKind.BRACE_L||nt===TokenKind.PIPE||nt===TokenKind.BRACE_R}function isUnicodeScalarValue(nt){return nt>=0&&nt<=55295||nt>=57344&&nt<=1114111}function isSupplementaryCodePoint(nt,et){return isLeadingSurrogate(nt.charCodeAt(et))&&isTrailingSurrogate(nt.charCodeAt(et+1))}function isLeadingSurrogate(nt){return nt>=55296&&nt<=56319}function isTrailingSurrogate(nt){return nt>=56320&&nt<=57343}function printCodePointAt(nt,et){const at=nt.source.body.codePointAt(et);if(at===void 0)return TokenKind.EOF;if(at>=32&&at<=126){const mt=String.fromCodePoint(at);return mt==='"'?`'"'`:`"${mt}"`}return"U+"+at.toString(16).toUpperCase().padStart(4,"0")}function createToken(nt,et,at,mt,$t){const Ct=nt.line,Dt=1+at-nt.lineStart;return new Token(et,at,mt,Ct,Dt,$t)}function readNextToken(nt,et){const at=nt.source.body,mt=at.length;let $t=et;for(;$t<mt;){const Ct=at.charCodeAt($t);switch(Ct){case 65279:case 9:case 32:case 44:++$t;continue;case 10:++$t,++nt.line,nt.lineStart=$t;continue;case 13:at.charCodeAt($t+1)===10?$t+=2:++$t,++nt.line,nt.lineStart=$t;continue;case 35:return readComment(nt,$t);case 33:return createToken(nt,TokenKind.BANG,$t,$t+1);case 36:return createToken(nt,TokenKind.DOLLAR,$t,$t+1);case 38:return createToken(nt,TokenKind.AMP,$t,$t+1);case 40:return createToken(nt,TokenKind.PAREN_L,$t,$t+1);case 41:return createToken(nt,TokenKind.PAREN_R,$t,$t+1);case 46:if(at.charCodeAt($t+1)===46&&at.charCodeAt($t+2)===46)return createToken(nt,TokenKind.SPREAD,$t,$t+3);break;case 58:return createToken(nt,TokenKind.COLON,$t,$t+1);case 61:return createToken(nt,TokenKind.EQUALS,$t,$t+1);case 64:return createToken(nt,TokenKind.AT,$t,$t+1);case 91:return createToken(nt,TokenKind.BRACKET_L,$t,$t+1);case 93:return createToken(nt,TokenKind.BRACKET_R,$t,$t+1);case 123:return createToken(nt,TokenKind.BRACE_L,$t,$t+1);case 124:return createToken(nt,TokenKind.PIPE,$t,$t+1);case 125:return createToken(nt,TokenKind.BRACE_R,$t,$t+1);case 34:return at.charCodeAt($t+1)===34&&at.charCodeAt($t+2)===34?readBlockString(nt,$t):readString(nt,$t)}if(isDigit(Ct)||Ct===45)return readNumber(nt,$t,Ct);if(isNameStart(Ct))return readName(nt,$t);throw syntaxError(nt.source,$t,Ct===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:isUnicodeScalarValue(Ct)||isSupplementaryCodePoint(at,$t)?`Unexpected character: ${printCodePointAt(nt,$t)}.`:`Invalid character: ${printCodePointAt(nt,$t)}.`)}return createToken(nt,TokenKind.EOF,mt,mt)}function readComment(nt,et){const at=nt.source.body,mt=at.length;let $t=et+1;for(;$t<mt;){const Ct=at.charCodeAt($t);if(Ct===10||Ct===13)break;if(isUnicodeScalarValue(Ct))++$t;else if(isSupplementaryCodePoint(at,$t))$t+=2;else break}return createToken(nt,TokenKind.COMMENT,et,$t,at.slice(et+1,$t))}function readNumber(nt,et,at){const mt=nt.source.body;let $t=et,Ct=at,Dt=!1;if(Ct===45&&(Ct=mt.charCodeAt(++$t)),Ct===48){if(Ct=mt.charCodeAt(++$t),isDigit(Ct))throw syntaxError(nt.source,$t,`Invalid number, unexpected digit after 0: ${printCodePointAt(nt,$t)}.`)}else $t=readDigits(nt,$t,Ct),Ct=mt.charCodeAt($t);if(Ct===46&&(Dt=!0,Ct=mt.charCodeAt(++$t),$t=readDigits(nt,$t,Ct),Ct=mt.charCodeAt($t)),(Ct===69||Ct===101)&&(Dt=!0,Ct=mt.charCodeAt(++$t),(Ct===43||Ct===45)&&(Ct=mt.charCodeAt(++$t)),$t=readDigits(nt,$t,Ct),Ct=mt.charCodeAt($t)),Ct===46||isNameStart(Ct))throw syntaxError(nt.source,$t,`Invalid number, expected digit but got: ${printCodePointAt(nt,$t)}.`);return createToken(nt,Dt?TokenKind.FLOAT:TokenKind.INT,et,$t,mt.slice(et,$t))}function readDigits(nt,et,at){if(!isDigit(at))throw syntaxError(nt.source,et,`Invalid number, expected digit but got: ${printCodePointAt(nt,et)}.`);const mt=nt.source.body;let $t=et+1;for(;isDigit(mt.charCodeAt($t));)++$t;return $t}function readString(nt,et){const at=nt.source.body,mt=at.length;let $t=et+1,Ct=$t,Dt="";for(;$t<mt;){const Ft=at.charCodeAt($t);if(Ft===34)return Dt+=at.slice(Ct,$t),createToken(nt,TokenKind.STRING,et,$t+1,Dt);if(Ft===92){Dt+=at.slice(Ct,$t);const Nt=at.charCodeAt($t+1)===117?at.charCodeAt($t+2)===123?readEscapedUnicodeVariableWidth(nt,$t):readEscapedUnicodeFixedWidth(nt,$t):readEscapedCharacter(nt,$t);Dt+=Nt.value,$t+=Nt.size,Ct=$t;continue}if(Ft===10||Ft===13)break;if(isUnicodeScalarValue(Ft))++$t;else if(isSupplementaryCodePoint(at,$t))$t+=2;else throw syntaxError(nt.source,$t,`Invalid character within String: ${printCodePointAt(nt,$t)}.`)}throw syntaxError(nt.source,$t,"Unterminated string.")}function readEscapedUnicodeVariableWidth(nt,et){const at=nt.source.body;let mt=0,$t=3;for(;$t<12;){const Ct=at.charCodeAt(et+$t++);if(Ct===125){if($t<5||!isUnicodeScalarValue(mt))break;return{value:String.fromCodePoint(mt),size:$t}}if(mt=mt<<4|readHexDigit(Ct),mt<0)break}throw syntaxError(nt.source,et,`Invalid Unicode escape sequence: "${at.slice(et,et+$t)}".`)}function readEscapedUnicodeFixedWidth(nt,et){const at=nt.source.body,mt=read16BitHexCode(at,et+2);if(isUnicodeScalarValue(mt))return{value:String.fromCodePoint(mt),size:6};if(isLeadingSurrogate(mt)&&at.charCodeAt(et+6)===92&&at.charCodeAt(et+7)===117){const $t=read16BitHexCode(at,et+8);if(isTrailingSurrogate($t))return{value:String.fromCodePoint(mt,$t),size:12}}throw syntaxError(nt.source,et,`Invalid Unicode escape sequence: "${at.slice(et,et+6)}".`)}function read16BitHexCode(nt,et){return readHexDigit(nt.charCodeAt(et))<<12|readHexDigit(nt.charCodeAt(et+1))<<8|readHexDigit(nt.charCodeAt(et+2))<<4|readHexDigit(nt.charCodeAt(et+3))}function readHexDigit(nt){return nt>=48&&nt<=57?nt-48:nt>=65&&nt<=70?nt-55:nt>=97&&nt<=102?nt-87:-1}function readEscapedCharacter(nt,et){const at=nt.source.body;switch(at.charCodeAt(et+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw syntaxError(nt.source,et,`Invalid character escape sequence: "${at.slice(et,et+2)}".`)}function readBlockString(nt,et){const at=nt.source.body,mt=at.length;let $t=nt.lineStart,Ct=et+3,Dt=Ct,Ft="";const Nt=[];for(;Ct<mt;){const jt=at.charCodeAt(Ct);if(jt===34&&at.charCodeAt(Ct+1)===34&&at.charCodeAt(Ct+2)===34){Ft+=at.slice(Dt,Ct),Nt.push(Ft);const Lt=createToken(nt,TokenKind.BLOCK_STRING,et,Ct+3,dedentBlockStringLines(Nt).join(`
`));return nt.line+=Nt.length-1,nt.lineStart=$t,Lt}if(jt===92&&at.charCodeAt(Ct+1)===34&&at.charCodeAt(Ct+2)===34&&at.charCodeAt(Ct+3)===34){Ft+=at.slice(Dt,Ct),Dt=Ct+1,Ct+=4;continue}if(jt===10||jt===13){Ft+=at.slice(Dt,Ct),Nt.push(Ft),jt===13&&at.charCodeAt(Ct+1)===10?Ct+=2:++Ct,Ft="",Dt=Ct,$t=Ct;continue}if(isUnicodeScalarValue(jt))++Ct;else if(isSupplementaryCodePoint(at,Ct))Ct+=2;else throw syntaxError(nt.source,Ct,`Invalid character within String: ${printCodePointAt(nt,Ct)}.`)}throw syntaxError(nt.source,Ct,"Unterminated string.")}function readName(nt,et){const at=nt.source.body,mt=at.length;let $t=et+1;for(;$t<mt;){const Ct=at.charCodeAt($t);if(isNameContinue(Ct))++$t;else break}return createToken(nt,TokenKind.NAME,et,$t,at.slice(et,$t))}const MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(nt){return formatValue(nt,[])}function formatValue(nt,et){switch(typeof nt){case"string":return JSON.stringify(nt);case"function":return nt.name?`[function ${nt.name}]`:"[function]";case"object":return formatObjectValue(nt,et);default:return String(nt)}}function formatObjectValue(nt,et){if(nt===null)return"null";if(et.includes(nt))return"[Circular]";const at=[...et,nt];if(isJSONable(nt)){const mt=nt.toJSON();if(mt!==nt)return typeof mt=="string"?mt:formatValue(mt,at)}else if(Array.isArray(nt))return formatArray(nt,at);return formatObject(nt,at)}function isJSONable(nt){return typeof nt.toJSON=="function"}function formatObject(nt,et){const at=Object.entries(nt);return at.length===0?"{}":et.length>MAX_RECURSIVE_DEPTH?"["+getObjectTag(nt)+"]":"{ "+at.map(([$t,Ct])=>$t+": "+formatValue(Ct,et)).join(", ")+" }"}function formatArray(nt,et){if(nt.length===0)return"[]";if(et.length>MAX_RECURSIVE_DEPTH)return"[Array]";const at=Math.min(MAX_ARRAY_LENGTH,nt.length),mt=nt.length-at,$t=[];for(let Ct=0;Ct<at;++Ct)$t.push(formatValue(nt[Ct],et));return mt===1?$t.push("... 1 more item"):mt>1&&$t.push(`... ${mt} more items`),"["+$t.join(", ")+"]"}function getObjectTag(nt){const et=Object.prototype.toString.call(nt).replace(/^\[object /,"").replace(/]$/,"");if(et==="Object"&&typeof nt.constructor=="function"){const at=nt.constructor.name;if(typeof at=="string"&&at!=="")return at}return et}const isProduction=globalThis.process&&!0,instanceOf=isProduction?function(et,at){return et instanceof at}:function(et,at){if(et instanceof at)return!0;if(typeof et=="object"&&et!==null){var mt;const $t=at.prototype[Symbol.toStringTag],Ct=Symbol.toStringTag in et?et[Symbol.toStringTag]:(mt=et.constructor)===null||mt===void 0?void 0:mt.name;if($t===Ct){const Dt=inspect(et);throw new Error(`Cannot use ${$t} "${Dt}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Source{constructor(et,at="GraphQL request",mt={line:1,column:1}){typeof et=="string"||devAssert(!1,`Body must be a string. Received: ${inspect(et)}.`),this.body=et,this.name=at,this.locationOffset=mt,this.locationOffset.line>0||devAssert(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function isSource(nt){return instanceOf(nt,Source)}function parse$3(nt,et){return new Parser(nt,et).parseDocument()}class Parser{constructor(et,at={}){const mt=isSource(et)?et:new Source(et);this._lexer=new Lexer(mt),this._options=at,this._tokenCounter=0}parseName(){const et=this.expectToken(TokenKind.NAME);return this.node(et,{kind:Kind.NAME,value:et.value})}parseDocument(){return this.node(this._lexer.token,{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF)})}parseDefinition(){if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();const et=this.peekDescription(),at=et?this._lexer.lookahead():this._lexer.token;if(at.kind===TokenKind.NAME){switch(at.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(et)throw syntaxError(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(at.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(at)}parseOperationDefinition(){const et=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return this.node(et,{kind:Kind.OPERATION_DEFINITION,operation:OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const at=this.parseOperationType();let mt;return this.peek(TokenKind.NAME)&&(mt=this.parseName()),this.node(et,{kind:Kind.OPERATION_DEFINITION,operation:at,name:mt,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const et=this.expectToken(TokenKind.NAME);switch(et.value){case"query":return OperationTypeNode.QUERY;case"mutation":return OperationTypeNode.MUTATION;case"subscription":return OperationTypeNode.SUBSCRIPTION}throw this.unexpected(et)}parseVariableDefinitions(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const et=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),this.node(et,{kind:Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R)})}parseSelection(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){const et=this._lexer.token,at=this.parseName();let mt,$t;return this.expectOptionalToken(TokenKind.COLON)?(mt=at,$t=this.parseName()):$t=at,this.node(et,{kind:Kind.FIELD,alias:mt,name:$t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(et){const at=et?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,at,TokenKind.PAREN_R)}parseArgument(et=!1){const at=this._lexer.token,mt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(at,{kind:Kind.ARGUMENT,name:mt,value:this.parseValueLiteral(et)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const et=this._lexer.token;this.expectToken(TokenKind.SPREAD);const at=this.expectOptionalKeyword("on");return!at&&this.peek(TokenKind.NAME)?this.node(et,{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(et,{kind:Kind.INLINE_FRAGMENT,typeCondition:at?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const et=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(et,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(et,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(et){const at=this._lexer.token;switch(at.kind){case TokenKind.BRACKET_L:return this.parseList(et);case TokenKind.BRACE_L:return this.parseObject(et);case TokenKind.INT:return this.advanceLexer(),this.node(at,{kind:Kind.INT,value:at.value});case TokenKind.FLOAT:return this.advanceLexer(),this.node(at,{kind:Kind.FLOAT,value:at.value});case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this.advanceLexer(),at.value){case"true":return this.node(at,{kind:Kind.BOOLEAN,value:!0});case"false":return this.node(at,{kind:Kind.BOOLEAN,value:!1});case"null":return this.node(at,{kind:Kind.NULL});default:return this.node(at,{kind:Kind.ENUM,value:at.value})}case TokenKind.DOLLAR:if(et)if(this.expectToken(TokenKind.DOLLAR),this._lexer.token.kind===TokenKind.NAME){const mt=this._lexer.token.value;throw syntaxError(this._lexer.source,at.start,`Unexpected variable "$${mt}" in constant value.`)}else throw this.unexpected(at);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const et=this._lexer.token;return this.advanceLexer(),this.node(et,{kind:Kind.STRING,value:et.value,block:et.kind===TokenKind.BLOCK_STRING})}parseList(et){const at=()=>this.parseValueLiteral(et);return this.node(this._lexer.token,{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,at,TokenKind.BRACKET_R)})}parseObject(et){const at=()=>this.parseObjectField(et);return this.node(this._lexer.token,{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,at,TokenKind.BRACE_R)})}parseObjectField(et){const at=this._lexer.token,mt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(at,{kind:Kind.OBJECT_FIELD,name:mt,value:this.parseValueLiteral(et)})}parseDirectives(et){const at=[];for(;this.peek(TokenKind.AT);)at.push(this.parseDirective(et));return at}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(et){const at=this._lexer.token;return this.expectToken(TokenKind.AT),this.node(at,{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(et)})}parseTypeReference(){const et=this._lexer.token;let at;if(this.expectOptionalToken(TokenKind.BRACKET_L)){const mt=this.parseTypeReference();this.expectToken(TokenKind.BRACKET_R),at=this.node(et,{kind:Kind.LIST_TYPE,type:mt})}else at=this.parseNamedType();return this.expectOptionalToken(TokenKind.BANG)?this.node(et,{kind:Kind.NON_NULL_TYPE,type:at}):at}parseNamedType(){return this.node(this._lexer.token,{kind:Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("schema");const mt=this.parseConstDirectives(),$t=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return this.node(et,{kind:Kind.SCHEMA_DEFINITION,description:at,directives:mt,operationTypes:$t})}parseOperationTypeDefinition(){const et=this._lexer.token,at=this.parseOperationType();this.expectToken(TokenKind.COLON);const mt=this.parseNamedType();return this.node(et,{kind:Kind.OPERATION_TYPE_DEFINITION,operation:at,type:mt})}parseScalarTypeDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("scalar");const mt=this.parseName(),$t=this.parseConstDirectives();return this.node(et,{kind:Kind.SCALAR_TYPE_DEFINITION,description:at,name:mt,directives:$t})}parseObjectTypeDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("type");const mt=this.parseName(),$t=this.parseImplementsInterfaces(),Ct=this.parseConstDirectives(),Dt=this.parseFieldsDefinition();return this.node(et,{kind:Kind.OBJECT_TYPE_DEFINITION,description:at,name:mt,interfaces:$t,directives:Ct,fields:Dt})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)}parseFieldDefinition(){const et=this._lexer.token,at=this.parseDescription(),mt=this.parseName(),$t=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);const Ct=this.parseTypeReference(),Dt=this.parseConstDirectives();return this.node(et,{kind:Kind.FIELD_DEFINITION,description:at,name:mt,arguments:$t,type:Ct,directives:Dt})}parseArgumentDefs(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)}parseInputValueDef(){const et=this._lexer.token,at=this.parseDescription(),mt=this.parseName();this.expectToken(TokenKind.COLON);const $t=this.parseTypeReference();let Ct;this.expectOptionalToken(TokenKind.EQUALS)&&(Ct=this.parseConstValueLiteral());const Dt=this.parseConstDirectives();return this.node(et,{kind:Kind.INPUT_VALUE_DEFINITION,description:at,name:mt,type:$t,defaultValue:Ct,directives:Dt})}parseInterfaceTypeDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("interface");const mt=this.parseName(),$t=this.parseImplementsInterfaces(),Ct=this.parseConstDirectives(),Dt=this.parseFieldsDefinition();return this.node(et,{kind:Kind.INTERFACE_TYPE_DEFINITION,description:at,name:mt,interfaces:$t,directives:Ct,fields:Dt})}parseUnionTypeDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("union");const mt=this.parseName(),$t=this.parseConstDirectives(),Ct=this.parseUnionMemberTypes();return this.node(et,{kind:Kind.UNION_TYPE_DEFINITION,description:at,name:mt,directives:$t,types:Ct})}parseUnionMemberTypes(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("enum");const mt=this.parseName(),$t=this.parseConstDirectives(),Ct=this.parseEnumValuesDefinition();return this.node(et,{kind:Kind.ENUM_TYPE_DEFINITION,description:at,name:mt,directives:$t,values:Ct})}parseEnumValuesDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)}parseEnumValueDefinition(){const et=this._lexer.token,at=this.parseDescription(),mt=this.parseEnumValueName(),$t=this.parseConstDirectives();return this.node(et,{kind:Kind.ENUM_VALUE_DEFINITION,description:at,name:mt,directives:$t})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw syntaxError(this._lexer.source,this._lexer.token.start,`${getTokenDesc(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("input");const mt=this.parseName(),$t=this.parseConstDirectives(),Ct=this.parseInputFieldsDefinition();return this.node(et,{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:at,name:mt,directives:$t,fields:Ct})}parseInputFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)}parseTypeSystemExtension(){const et=this._lexer.lookahead();if(et.kind===TokenKind.NAME)switch(et.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(et)}parseSchemaExtension(){const et=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const at=this.parseConstDirectives(),mt=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(at.length===0&&mt.length===0)throw this.unexpected();return this.node(et,{kind:Kind.SCHEMA_EXTENSION,directives:at,operationTypes:mt})}parseScalarTypeExtension(){const et=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const at=this.parseName(),mt=this.parseConstDirectives();if(mt.length===0)throw this.unexpected();return this.node(et,{kind:Kind.SCALAR_TYPE_EXTENSION,name:at,directives:mt})}parseObjectTypeExtension(){const et=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const at=this.parseName(),mt=this.parseImplementsInterfaces(),$t=this.parseConstDirectives(),Ct=this.parseFieldsDefinition();if(mt.length===0&&$t.length===0&&Ct.length===0)throw this.unexpected();return this.node(et,{kind:Kind.OBJECT_TYPE_EXTENSION,name:at,interfaces:mt,directives:$t,fields:Ct})}parseInterfaceTypeExtension(){const et=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const at=this.parseName(),mt=this.parseImplementsInterfaces(),$t=this.parseConstDirectives(),Ct=this.parseFieldsDefinition();if(mt.length===0&&$t.length===0&&Ct.length===0)throw this.unexpected();return this.node(et,{kind:Kind.INTERFACE_TYPE_EXTENSION,name:at,interfaces:mt,directives:$t,fields:Ct})}parseUnionTypeExtension(){const et=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const at=this.parseName(),mt=this.parseConstDirectives(),$t=this.parseUnionMemberTypes();if(mt.length===0&&$t.length===0)throw this.unexpected();return this.node(et,{kind:Kind.UNION_TYPE_EXTENSION,name:at,directives:mt,types:$t})}parseEnumTypeExtension(){const et=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const at=this.parseName(),mt=this.parseConstDirectives(),$t=this.parseEnumValuesDefinition();if(mt.length===0&&$t.length===0)throw this.unexpected();return this.node(et,{kind:Kind.ENUM_TYPE_EXTENSION,name:at,directives:mt,values:$t})}parseInputObjectTypeExtension(){const et=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const at=this.parseName(),mt=this.parseConstDirectives(),$t=this.parseInputFieldsDefinition();if(mt.length===0&&$t.length===0)throw this.unexpected();return this.node(et,{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:at,directives:mt,fields:$t})}parseDirectiveDefinition(){const et=this._lexer.token,at=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);const mt=this.parseName(),$t=this.parseArgumentDefs(),Ct=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const Dt=this.parseDirectiveLocations();return this.node(et,{kind:Kind.DIRECTIVE_DEFINITION,description:at,name:mt,arguments:$t,repeatable:Ct,locations:Dt})}parseDirectiveLocations(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const et=this._lexer.token,at=this.parseName();if(Object.prototype.hasOwnProperty.call(DirectiveLocation,at.value))return at;throw this.unexpected(et)}node(et,at){return this._options.noLocation!==!0&&(at.loc=new Location(et,this._lexer.lastToken,this._lexer.source)),at}peek(et){return this._lexer.token.kind===et}expectToken(et){const at=this._lexer.token;if(at.kind===et)return this.advanceLexer(),at;throw syntaxError(this._lexer.source,at.start,`Expected ${getTokenKindDesc(et)}, found ${getTokenDesc(at)}.`)}expectOptionalToken(et){return this._lexer.token.kind===et?(this.advanceLexer(),!0):!1}expectKeyword(et){const at=this._lexer.token;if(at.kind===TokenKind.NAME&&at.value===et)this.advanceLexer();else throw syntaxError(this._lexer.source,at.start,`Expected "${et}", found ${getTokenDesc(at)}.`)}expectOptionalKeyword(et){const at=this._lexer.token;return at.kind===TokenKind.NAME&&at.value===et?(this.advanceLexer(),!0):!1}unexpected(et){const at=et??this._lexer.token;return syntaxError(this._lexer.source,at.start,`Unexpected ${getTokenDesc(at)}.`)}any(et,at,mt){this.expectToken(et);const $t=[];for(;!this.expectOptionalToken(mt);)$t.push(at.call(this));return $t}optionalMany(et,at,mt){if(this.expectOptionalToken(et)){const $t=[];do $t.push(at.call(this));while(!this.expectOptionalToken(mt));return $t}return[]}many(et,at,mt){this.expectToken(et);const $t=[];do $t.push(at.call(this));while(!this.expectOptionalToken(mt));return $t}delimitedMany(et,at){this.expectOptionalToken(et);const mt=[];do mt.push(at.call(this));while(this.expectOptionalToken(et));return mt}advanceLexer(){const{maxTokens:et}=this._options,at=this._lexer.advance();if(et!==void 0&&at.kind!==TokenKind.EOF&&(++this._tokenCounter,this._tokenCounter>et))throw syntaxError(this._lexer.source,at.start,`Document contains more that ${et} tokens. Parsing aborted.`)}}function getTokenDesc(nt){const et=nt.value;return getTokenKindDesc(nt.kind)+(et!=null?` "${et}"`:"")}function getTokenKindDesc(nt){return isPunctuatorTokenKind(nt)?`"${nt}"`:nt}function printString(nt){return`"${nt.replace(escapedRegExp,escapedReplacer)}"`}const escapedRegExp=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function escapedReplacer(nt){return escapeSequences[nt.charCodeAt(0)]}const escapeSequences=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],BREAK=Object.freeze({});function visit(nt,et,at=QueryDocumentKeys){const mt=new Map;for(const pr of Object.values(Kind))mt.set(pr,getEnterLeaveForKind(et,pr));let $t,Ct=Array.isArray(nt),Dt=[nt],Ft=-1,Nt=[],jt=nt,Lt,Vt;const er=[],ir=[];do{Ft++;const pr=Ft===Dt.length,hr=pr&&Nt.length!==0;if(pr){if(Lt=ir.length===0?void 0:er[er.length-1],jt=Vt,Vt=ir.pop(),hr)if(Ct){jt=jt.slice();let br=0;for(const[xr,Sr]of Nt){const Er=xr-br;Sr===null?(jt.splice(Er,1),br++):jt[Er]=Sr}}else{jt=Object.defineProperties({},Object.getOwnPropertyDescriptors(jt));for(const[br,xr]of Nt)jt[br]=xr}Ft=$t.index,Dt=$t.keys,Nt=$t.edits,Ct=$t.inArray,$t=$t.prev}else if(Vt){if(Lt=Ct?Ft:Dt[Ft],jt=Vt[Lt],jt==null)continue;er.push(Lt)}let vr;if(!Array.isArray(jt)){var or,lr;isNode(jt)||devAssert(!1,`Invalid AST Node: ${inspect(jt)}.`);const br=pr?(or=mt.get(jt.kind))===null||or===void 0?void 0:or.leave:(lr=mt.get(jt.kind))===null||lr===void 0?void 0:lr.enter;if(vr=br==null?void 0:br.call(et,jt,Lt,Vt,er,ir),vr===BREAK)break;if(vr===!1){if(!pr){er.pop();continue}}else if(vr!==void 0&&(Nt.push([Lt,vr]),!pr))if(isNode(vr))jt=vr;else{er.pop();continue}}if(vr===void 0&&hr&&Nt.push([Lt,jt]),pr)er.pop();else{var dr;$t={inArray:Ct,index:Ft,keys:Dt,edits:Nt,prev:$t},Ct=Array.isArray(jt),Dt=Ct?jt:(dr=at[jt.kind])!==null&&dr!==void 0?dr:[],Ft=-1,Nt=[],Vt&&ir.push(Vt),Vt=jt}}while($t!==void 0);return Nt.length!==0?Nt[Nt.length-1][1]:nt}function getEnterLeaveForKind(nt,et){const at=nt[et];return typeof at=="object"?at:typeof at=="function"?{enter:at,leave:void 0}:{enter:nt.enter,leave:nt.leave}}function print(nt){return visit(nt,printDocASTReducer)}const MAX_LINE_LENGTH=80,printDocASTReducer={Name:{leave:nt=>nt.value},Variable:{leave:nt=>"$"+nt.name},Document:{leave:nt=>join(nt.definitions,`

`)},OperationDefinition:{leave(nt){const et=wrap$2("(",join(nt.variableDefinitions,", "),")"),at=join([nt.operation,join([nt.name,et]),join(nt.directives," ")]," ");return(at==="query"?"":at+" ")+nt.selectionSet}},VariableDefinition:{leave:({variable:nt,type:et,defaultValue:at,directives:mt})=>nt+": "+et+wrap$2(" = ",at)+wrap$2(" ",join(mt," "))},SelectionSet:{leave:({selections:nt})=>block(nt)},Field:{leave({alias:nt,name:et,arguments:at,directives:mt,selectionSet:$t}){const Ct=wrap$2("",nt,": ")+et;let Dt=Ct+wrap$2("(",join(at,", "),")");return Dt.length>MAX_LINE_LENGTH&&(Dt=Ct+wrap$2(`(
`,indent(join(at,`
`)),`
)`)),join([Dt,join(mt," "),$t]," ")}},Argument:{leave:({name:nt,value:et})=>nt+": "+et},FragmentSpread:{leave:({name:nt,directives:et})=>"..."+nt+wrap$2(" ",join(et," "))},InlineFragment:{leave:({typeCondition:nt,directives:et,selectionSet:at})=>join(["...",wrap$2("on ",nt),join(et," "),at]," ")},FragmentDefinition:{leave:({name:nt,typeCondition:et,variableDefinitions:at,directives:mt,selectionSet:$t})=>`fragment ${nt}${wrap$2("(",join(at,", "),")")} on ${et} ${wrap$2("",join(mt," ")," ")}`+$t},IntValue:{leave:({value:nt})=>nt},FloatValue:{leave:({value:nt})=>nt},StringValue:{leave:({value:nt,block:et})=>et?printBlockString(nt):printString(nt)},BooleanValue:{leave:({value:nt})=>nt?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:nt})=>nt},ListValue:{leave:({values:nt})=>"["+join(nt,", ")+"]"},ObjectValue:{leave:({fields:nt})=>"{"+join(nt,", ")+"}"},ObjectField:{leave:({name:nt,value:et})=>nt+": "+et},Directive:{leave:({name:nt,arguments:et})=>"@"+nt+wrap$2("(",join(et,", "),")")},NamedType:{leave:({name:nt})=>nt},ListType:{leave:({type:nt})=>"["+nt+"]"},NonNullType:{leave:({type:nt})=>nt+"!"},SchemaDefinition:{leave:({description:nt,directives:et,operationTypes:at})=>wrap$2("",nt,`
`)+join(["schema",join(et," "),block(at)]," ")},OperationTypeDefinition:{leave:({operation:nt,type:et})=>nt+": "+et},ScalarTypeDefinition:{leave:({description:nt,name:et,directives:at})=>wrap$2("",nt,`
`)+join(["scalar",et,join(at," ")]," ")},ObjectTypeDefinition:{leave:({description:nt,name:et,interfaces:at,directives:mt,fields:$t})=>wrap$2("",nt,`
`)+join(["type",et,wrap$2("implements ",join(at," & ")),join(mt," "),block($t)]," ")},FieldDefinition:{leave:({description:nt,name:et,arguments:at,type:mt,directives:$t})=>wrap$2("",nt,`
`)+et+(hasMultilineItems(at)?wrap$2(`(
`,indent(join(at,`
`)),`
)`):wrap$2("(",join(at,", "),")"))+": "+mt+wrap$2(" ",join($t," "))},InputValueDefinition:{leave:({description:nt,name:et,type:at,defaultValue:mt,directives:$t})=>wrap$2("",nt,`
`)+join([et+": "+at,wrap$2("= ",mt),join($t," ")]," ")},InterfaceTypeDefinition:{leave:({description:nt,name:et,interfaces:at,directives:mt,fields:$t})=>wrap$2("",nt,`
`)+join(["interface",et,wrap$2("implements ",join(at," & ")),join(mt," "),block($t)]," ")},UnionTypeDefinition:{leave:({description:nt,name:et,directives:at,types:mt})=>wrap$2("",nt,`
`)+join(["union",et,join(at," "),wrap$2("= ",join(mt," | "))]," ")},EnumTypeDefinition:{leave:({description:nt,name:et,directives:at,values:mt})=>wrap$2("",nt,`
`)+join(["enum",et,join(at," "),block(mt)]," ")},EnumValueDefinition:{leave:({description:nt,name:et,directives:at})=>wrap$2("",nt,`
`)+join([et,join(at," ")]," ")},InputObjectTypeDefinition:{leave:({description:nt,name:et,directives:at,fields:mt})=>wrap$2("",nt,`
`)+join(["input",et,join(at," "),block(mt)]," ")},DirectiveDefinition:{leave:({description:nt,name:et,arguments:at,repeatable:mt,locations:$t})=>wrap$2("",nt,`
`)+"directive @"+et+(hasMultilineItems(at)?wrap$2(`(
`,indent(join(at,`
`)),`
)`):wrap$2("(",join(at,", "),")"))+(mt?" repeatable":"")+" on "+join($t," | ")},SchemaExtension:{leave:({directives:nt,operationTypes:et})=>join(["extend schema",join(nt," "),block(et)]," ")},ScalarTypeExtension:{leave:({name:nt,directives:et})=>join(["extend scalar",nt,join(et," ")]," ")},ObjectTypeExtension:{leave:({name:nt,interfaces:et,directives:at,fields:mt})=>join(["extend type",nt,wrap$2("implements ",join(et," & ")),join(at," "),block(mt)]," ")},InterfaceTypeExtension:{leave:({name:nt,interfaces:et,directives:at,fields:mt})=>join(["extend interface",nt,wrap$2("implements ",join(et," & ")),join(at," "),block(mt)]," ")},UnionTypeExtension:{leave:({name:nt,directives:et,types:at})=>join(["extend union",nt,join(et," "),wrap$2("= ",join(at," | "))]," ")},EnumTypeExtension:{leave:({name:nt,directives:et,values:at})=>join(["extend enum",nt,join(et," "),block(at)]," ")},InputObjectTypeExtension:{leave:({name:nt,directives:et,fields:at})=>join(["extend input",nt,join(et," "),block(at)]," ")}};function join(nt,et=""){var at;return(at=nt==null?void 0:nt.filter(mt=>mt).join(et))!==null&&at!==void 0?at:""}function block(nt){return wrap$2(`{
`,indent(join(nt,`
`)),`
}`)}function wrap$2(nt,et,at=""){return et!=null&&et!==""?nt+et+at:""}function indent(nt){return wrap$2("  ",nt.replace(/\n/g,`
  `))}function hasMultilineItems(nt){var et;return(et=nt==null?void 0:nt.some(at=>at.includes(`
`)))!==null&&et!==void 0?et:!1}var __typeError$4=nt=>{throw TypeError(nt)},__accessCheck$4=(nt,et,at)=>et.has(nt)||__typeError$4("Cannot "+at),__privateGet$4=(nt,et,at)=>(__accessCheck$4(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$4=(nt,et,at)=>et.has(nt)?__typeError$4("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet$3=(nt,et,at,mt)=>(__accessCheck$4(nt,et,"write to private field"),et.set(nt,at),at),_url,_queries,_headers,_fetch;class SuiGraphQLRequestError extends Error{}class SuiGraphQLClient{constructor({url:et,fetch:at=fetch,headers:mt={},queries:$t={}}){__privateAdd$4(this,_url),__privateAdd$4(this,_queries),__privateAdd$4(this,_headers),__privateAdd$4(this,_fetch),__privateSet$3(this,_url,et),__privateSet$3(this,_queries,$t),__privateSet$3(this,_headers,mt),__privateSet$3(this,_fetch,(...Ct)=>at(...Ct))}async query(et){const at=await __privateGet$4(this,_fetch).call(this,__privateGet$4(this,_url),{method:"POST",headers:{"Content-Type":"application/json",...__privateGet$4(this,_headers)},body:JSON.stringify({query:typeof et.query=="string"?String(et.query):print(et.query),variables:et.variables,extensions:et.extensions,operationName:et.operationName})});if(!at.ok)throw new SuiGraphQLRequestError(`GraphQL request failed: ${at.statusText} (${at.status})`);return await at.json()}async execute(et,at){return this.query({...at,query:__privateGet$4(this,_queries)[et]})}}_url=new WeakMap;_queries=new WeakMap;_headers=new WeakMap;_fetch=new WeakMap;var e$2={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};class GraphQLError extends Error{constructor(et,at,mt,$t,Ct,Dt,Ft){super(et),this.name="GraphQLError",this.message=et,Ct&&(this.path=Ct),at&&(this.nodes=Array.isArray(at)?at:[at]),mt&&(this.source=mt),$t&&(this.positions=$t),Dt&&(this.originalError=Dt);var Nt=Ft;if(!Nt&&Dt){var jt=Dt.extensions;jt&&typeof jt=="object"&&(Nt=jt)}this.extensions=Nt||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}}var n$1,i$2;function error(nt){return new GraphQLError(`Syntax Error: Unexpected token at ${i$2} in ${nt}`)}function advance(nt){if(nt.lastIndex=i$2,nt.test(n$1))return n$1.slice(i$2,i$2=nt.lastIndex)}var t$2=/ +(?=[^\s])/y;function blockString(nt){for(var et=nt.split(`
`),at="",mt=0,$t=0,Ct=et.length-1,Dt=0;Dt<et.length;Dt++)t$2.lastIndex=0,t$2.test(et[Dt])&&(Dt&&(!mt||t$2.lastIndex<mt)&&(mt=t$2.lastIndex),$t=$t||Dt,Ct=Dt);for(var Ft=$t;Ft<=Ct;Ft++)Ft!==$t&&(at+=`
`),at+=et[Ft].slice(mt).replace(/\\"""/g,'"""');return at}function ignored(){for(var nt=0|n$1.charCodeAt(i$2++);nt===9||nt===10||nt===13||nt===32||nt===35||nt===44||nt===65279;nt=0|n$1.charCodeAt(i$2++))if(nt===35)for(;(nt=n$1.charCodeAt(i$2++))!==10&&nt!==13;);i$2--}var a$1=/[_A-Za-z]\w*/y,l$1=new RegExp("(?:(null|true|false)|\\$("+a$1.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+a$1.source+"))","y"),o$1=function(nt){return nt[nt.Const=1]="Const",nt[nt.Var=2]="Var",nt[nt.Int=3]="Int",nt[nt.Float=4]="Float",nt[nt.BlockString=5]="BlockString",nt[nt.String=6]="String",nt[nt.Enum=7]="Enum",nt}(o$1||{}),u$2=/\\/;function value(nt){var et,at;if(l$1.lastIndex=i$2,n$1.charCodeAt(i$2)===91){i$2++,ignored();for(var mt=[];n$1.charCodeAt(i$2)!==93;)mt.push(value(nt));return i$2++,ignored(),{kind:"ListValue",values:mt}}else if(n$1.charCodeAt(i$2)===123){i$2++,ignored();for(var $t=[];n$1.charCodeAt(i$2)!==125;){if((et=advance(a$1))==null||(ignored(),n$1.charCodeAt(i$2++)!==58))throw error("ObjectField");ignored(),$t.push({kind:"ObjectField",name:{kind:"Name",value:et},value:value(nt)})}return i$2++,ignored(),{kind:"ObjectValue",fields:$t}}else if((at=l$1.exec(n$1))!=null){if(i$2=l$1.lastIndex,ignored(),(et=at[o$1.Const])!=null)return et==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:et==="true"};if((et=at[o$1.Var])!=null){if(nt)throw error("Variable");return{kind:"Variable",name:{kind:"Name",value:et}}}else if((et=at[o$1.Int])!=null){var Ct;return(Ct=at[o$1.Float])!=null?{kind:"FloatValue",value:et+Ct}:{kind:"IntValue",value:et}}else{if((et=at[o$1.BlockString])!=null)return{kind:"StringValue",value:blockString(et.slice(3,-3)),block:!0};if((et=at[o$1.String])!=null)return{kind:"StringValue",value:u$2.test(et)?JSON.parse(et):et.slice(1,-1),block:!1};if((et=at[o$1.Enum])!=null)return{kind:"EnumValue",value:et}}}throw error("Value")}function arguments_(nt){if(n$1.charCodeAt(i$2)===40){var et=[];i$2++,ignored();var at;do{if((at=advance(a$1))==null||(ignored(),n$1.charCodeAt(i$2++)!==58))throw error("Argument");ignored(),et.push({kind:"Argument",name:{kind:"Name",value:at},value:value(nt)})}while(n$1.charCodeAt(i$2)!==41);return i$2++,ignored(),et}}function directives(nt){if(n$1.charCodeAt(i$2)===64){var et=[],at;do{if(i$2++,(at=advance(a$1))==null)throw error("Directive");ignored(),et.push({kind:"Directive",name:{kind:"Name",value:at},arguments:arguments_(nt)})}while(n$1.charCodeAt(i$2)===64);return et}}function type$1(){for(var nt,et=0;n$1.charCodeAt(i$2)===91;)et++,i$2++,ignored();if((nt=advance(a$1))==null)throw error("NamedType");ignored();var at={kind:"NamedType",name:{kind:"Name",value:nt}};do if(n$1.charCodeAt(i$2)===33&&(i$2++,ignored(),at={kind:"NonNullType",type:at}),et){if(n$1.charCodeAt(i$2++)!==93)throw error("NamedType");ignored(),at={kind:"ListType",type:at}}while(et--);return at}var d$4=new RegExp("(?:(\\.{3})|("+a$1.source+"))","y"),s=function(nt){return nt[nt.Spread=1]="Spread",nt[nt.Name=2]="Name",nt}(s||{});function selectionSet(){var nt=[],et,at;do if(d$4.lastIndex=i$2,(at=d$4.exec(n$1))!=null){if(i$2=d$4.lastIndex,at[s.Spread]!=null){ignored();var mt=advance(a$1);if(mt!=null&&mt!=="on")ignored(),nt.push({kind:"FragmentSpread",name:{kind:"Name",value:mt},directives:directives(!1)});else{if(ignored(),mt==="on"){if((mt=advance(a$1))==null)throw error("NamedType");ignored()}var $t=directives(!1);if(n$1.charCodeAt(i$2++)!==123)throw error("InlineFragment");ignored(),nt.push({kind:"InlineFragment",typeCondition:mt?{kind:"NamedType",name:{kind:"Name",value:mt}}:void 0,directives:$t,selectionSet:selectionSet()})}}else if((et=at[s.Name])!=null){var Ct=void 0;if(ignored(),n$1.charCodeAt(i$2)===58){if(i$2++,ignored(),Ct=et,(et=advance(a$1))==null)throw error("Field");ignored()}var Dt=arguments_(!1);ignored();var Ft=directives(!1),Nt=void 0;n$1.charCodeAt(i$2)===123&&(i$2++,ignored(),Nt=selectionSet()),nt.push({kind:"Field",alias:Ct?{kind:"Name",value:Ct}:void 0,name:{kind:"Name",value:et},arguments:Dt,directives:Ft,selectionSet:Nt})}}else throw error("SelectionSet");while(n$1.charCodeAt(i$2)!==125);return i$2++,ignored(),{kind:"SelectionSet",selections:nt}}function fragmentDefinition(){var nt,et;if((nt=advance(a$1))==null||(ignored(),advance(a$1)!=="on")||(ignored(),(et=advance(a$1))==null))throw error("FragmentDefinition");ignored();var at=directives(!1);if(n$1.charCodeAt(i$2++)!==123)throw error("FragmentDefinition");return ignored(),{kind:"FragmentDefinition",name:{kind:"Name",value:nt},typeCondition:{kind:"NamedType",name:{kind:"Name",value:et}},directives:at,selectionSet:selectionSet()}}var v$5=/(?:query|mutation|subscription|fragment)/y;function operationDefinition(nt){var et,at,mt;if(nt&&(ignored(),et=advance(a$1),at=function(){if(ignored(),n$1.charCodeAt(i$2)===40){var Ct=[];i$2++,ignored();var Dt;do{if(n$1.charCodeAt(i$2++)!==36||(Dt=advance(a$1))==null)throw error("Variable");if(ignored(),n$1.charCodeAt(i$2++)!==58)throw error("VariableDefinition");ignored();var Ft=type$1(),Nt=void 0;n$1.charCodeAt(i$2)===61&&(i$2++,ignored(),Nt=value(!0)),ignored(),Ct.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:Dt}},type:Ft,defaultValue:Nt,directives:directives(!0)})}while(n$1.charCodeAt(i$2)!==41);return i$2++,ignored(),Ct}}(),mt=directives(!1)),n$1.charCodeAt(i$2)===123)return i$2++,ignored(),{kind:"OperationDefinition",operation:nt||"query",name:et?{kind:"Name",value:et}:void 0,variableDefinitions:at,directives:mt,selectionSet:selectionSet()}}function parse$2(nt,et){return i$2=0,function(mt,$t){var Ct,Dt;ignored();var Ft=[];do if((Ct=advance(v$5))==="fragment")ignored(),Ft.push(fragmentDefinition());else if((Dt=operationDefinition(Ct))!=null)Ft.push(Dt);else throw error("Document");while(i$2<mt.length);{var Nt;return{kind:"Document",definitions:Ft,set loc(jt){Nt=jt},get loc(){return Nt||(Nt={start:0,end:mt.length,startToken:void 0,endToken:void 0,source:{body:mt,name:"graphql.web",locationOffset:{line:1,column:1}}}),Nt}}}}(n$1=typeof nt.body=="string"?nt.body:nt)}var a=0,e$1=new Set;function initGraphQLTada(){function nt(et,at){var mt=parse$2(et).definitions,$t=new Set;for(var Ct of at||[])for(var Dt of Ct.definitions)Dt.kind===e$2.FRAGMENT_DEFINITION&&!$t.has(Dt)&&(mt.push(Dt),$t.add(Dt));var Ft;(Ft=mt[0].kind===e$2.FRAGMENT_DEFINITION)&&mt[0].directives&&(mt[0].directives=mt[0].directives.filter(jt=>jt.name.value!=="_unmask"));var Nt;return{kind:e$2.DOCUMENT,definitions:mt,get loc(){if(!Nt&&Ft){var jt=et+function(Vt){try{a++;var er="";for(var ir of Vt)if(!e$1.has(ir)){e$1.add(ir);var{loc:or}=ir;or&&(er+=or.source.body)}return er}finally{--a==0&&e$1.clear()}}(at||[]);return{start:0,end:jt.length,source:{body:jt,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return Nt},set loc(jt){Nt=jt}}}return nt.scalar=function(at,mt){return mt},nt.persisted=function(at,mt){return{kind:e$2.DOCUMENT,definitions:mt?mt.definitions:[],documentId:at}},nt}initGraphQLTada();const graphql$1=initGraphQLTada();function base64UrlCharTo6Bits(nt){if(nt.length!==1)throw new Error("Invalid base64Url character: "+nt);const at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(nt);if(at===-1)throw new Error("Invalid base64Url character: "+nt);const mt=at.toString(2).padStart(6,"0");return Array.from(mt).map(Number)}function base64UrlStringToBitVector(nt){let et=[];for(let at=0;at<nt.length;at++){const mt=nt.charAt(at),$t=base64UrlCharTo6Bits(mt);et=et.concat($t)}return et}function decodeBase64URL(nt,et){if(nt.length<2)throw new Error(`Input (s = ${nt}) is not tightly packed because s.length < 2`);let at=base64UrlStringToBitVector(nt);const mt=et%4;if(mt!==0)if(mt===1)at=at.slice(2);else if(mt===2)at=at.slice(4);else throw new Error(`Input (s = ${nt}) is not tightly packed because i%4 = 3 (i = ${et}))`);const $t=(et+nt.length-1)%4;if($t!==3)if($t===2)at=at.slice(0,at.length-2);else if($t===1)at=at.slice(0,at.length-4);else throw new Error(`Input (s = ${nt}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${et}))`);if(at.length%8!==0)throw new Error("We should never reach here...");const Ct=new Uint8Array(Math.floor(at.length/8));let Dt=0;for(let Ft=0;Ft<at.length;Ft+=8){const Nt=at.slice(Ft,Ft+8),jt=parseInt(Nt.join(""),2);Ct[Dt++]=jt}return new TextDecoder().decode(Ct)}function verifyExtendedClaim(nt){if(!(nt.slice(-1)==="}"||nt.slice(-1)===","))throw new Error("Invalid claim");const et=JSON.parse("{"+nt.slice(0,-1)+"}");if(Object.keys(et).length!==1)throw new Error("Invalid claim");const at=Object.keys(et)[0];return[at,et[at]]}function extractClaimValue(nt,et){const at=decodeBase64URL(nt.value,nt.indexMod4),[mt,$t]=verifyExtendedClaim(at);if(mt!==et)throw new Error(`Invalid field name: found ${mt} expected ${et}`);return $t}const zkLoginSignature=bcs$1.struct("ZkLoginSignature",{inputs:bcs$1.struct("ZkLoginSignatureInputs",{proofPoints:bcs$1.struct("ZkLoginSignatureInputsProofPoints",{a:bcs$1.vector(bcs$1.string()),b:bcs$1.vector(bcs$1.vector(bcs$1.string())),c:bcs$1.vector(bcs$1.string())}),issBase64Details:bcs$1.struct("ZkLoginSignatureInputsClaim",{value:bcs$1.string(),indexMod4:bcs$1.u8()}),headerBase64:bcs$1.string(),addressSeed:bcs$1.string()}),maxEpoch:bcs$1.u64(),userSignature:bcs$1.vector(bcs$1.u8())});function parseZkLoginSignature(nt){return zkLoginSignature.parse(typeof nt=="string"?fromBase64(nt):nt)}function findFirstNonZeroIndex(nt){for(let et=0;et<nt.length;et++)if(nt[et]!==0)return et;return-1}function toPaddedBigEndianBytes(nt,et){const at=nt.toString(16);return hexToBytes(at.padStart(et*2,"0").slice(-et*2))}function toBigEndianBytes(nt,et){const at=toPaddedBigEndianBytes(nt,et),mt=findFirstNonZeroIndex(at);return mt===-1?new Uint8Array([0]):at.slice(mt)}var __typeError$3=nt=>{throw TypeError(nt)},__accessCheck$3=(nt,et,at)=>et.has(nt)||__typeError$3("Cannot "+at),__privateGet$3=(nt,et,at)=>(__accessCheck$3(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$3=(nt,et,at)=>et.has(nt)?__typeError$3("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet$2=(nt,et,at,mt)=>(__accessCheck$3(nt,et,"write to private field"),et.set(nt,at),at),_data,_client,_legacyAddress;const _ZkLoginPublicIdentifier=class ju extends PublicKey{constructor(et,{client:at}={}){super(),__privateAdd$3(this,_data),__privateAdd$3(this,_client),__privateAdd$3(this,_legacyAddress),__privateSet$2(this,_client,at),typeof et=="string"?__privateSet$2(this,_data,fromBase64(et)):et instanceof Uint8Array?__privateSet$2(this,_data,et):__privateSet$2(this,_data,Uint8Array.from(et)),__privateSet$2(this,_legacyAddress,__privateGet$3(this,_data).length!==__privateGet$3(this,_data)[0]+1+32),__privateGet$3(this,_legacyAddress)&&__privateSet$2(this,_data,normalizeZkLoginPublicKeyBytes(__privateGet$3(this,_data)))}equals(et){return super.equals(et)}toSuiAddress(){if(__privateGet$3(this,_legacyAddress)){const et=normalizeZkLoginPublicKeyBytes(__privateGet$3(this,_data),!0),at=new Uint8Array(et.length+1);return at[0]=this.flag(),at.set(et,1),normalizeSuiAddress(bytesToHex(blake2b$1(at,{dkLen:32})).slice(0,SUI_ADDRESS_LENGTH*2))}return super.toSuiAddress()}toRawBytes(){return __privateGet$3(this,_data)}flag(){return SIGNATURE_SCHEME_TO_FLAG.ZkLogin}async verify(et,at){throw Error("does not support")}verifyPersonalMessage(et,at){const mt=parseSerializedZkLoginSignature(at),$t=new ju(mt.publicKey).toSuiAddress();return graphqlVerifyZkLoginSignature({address:$t,bytes:toBase64(et),signature:mt.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:__privateGet$3(this,_client)})}verifyTransaction(et,at){const mt=parseSerializedZkLoginSignature(at),$t=new ju(mt.publicKey).toSuiAddress();return graphqlVerifyZkLoginSignature({address:$t,bytes:toBase64(et),signature:mt.serializedSignature,intentScope:"TRANSACTION_DATA",client:__privateGet$3(this,_client)})}};_data=new WeakMap;_client=new WeakMap;_legacyAddress=new WeakMap;let ZkLoginPublicIdentifier=_ZkLoginPublicIdentifier;function toZkLoginPublicIdentifier(nt,et,at){const mt=toPaddedBigEndianBytes(nt,32),$t=new TextEncoder().encode(et),Ct=new Uint8Array(1+$t.length+mt.length);return Ct.set([$t.length],0),Ct.set($t,1),Ct.set(mt,1+$t.length),new ZkLoginPublicIdentifier(Ct,at)}const VerifyZkLoginSignatureQuery=graphql$1(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function normalizeZkLoginPublicKeyBytes(nt,et=!1){const at=nt[0]+1,mt=BigInt(`0x${toHex$2(nt.slice(at))}`),$t=et?toBigEndianBytes(mt,32):toPaddedBigEndianBytes(mt,32),Ct=new Uint8Array(at+$t.length);return Ct.set(nt.slice(0,at),0),Ct.set($t,at),Ct}async function graphqlVerifyZkLoginSignature({address:nt,bytes:et,signature:at,intentScope:mt,client:$t=new SuiGraphQLClient({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){var Dt,Ft;const Ct=await $t.query({query:VerifyZkLoginSignatureQuery,variables:{bytes:et,signature:at,intentScope:mt,author:nt}});return((Dt=Ct.data)==null?void 0:Dt.verifyZkloginSignature.success)===!0&&((Ft=Ct.data)==null?void 0:Ft.verifyZkloginSignature.errors.length)===0}function parseSerializedZkLoginSignature(nt){const et=typeof nt=="string"?fromBase64(nt):nt;if(et[0]!==SIGNATURE_SCHEME_TO_FLAG.ZkLogin)throw new Error("Invalid signature scheme");const at=et.slice(1),{inputs:mt,maxEpoch:$t,userSignature:Ct}=parseZkLoginSignature(at),{issBase64Details:Dt,addressSeed:Ft}=mt,Nt=extractClaimValue(Dt,"iss"),jt=toZkLoginPublicIdentifier(BigInt(Ft),Nt);return{serializedSignature:toBase64(et),signatureScheme:"ZkLogin",zkLogin:{inputs:mt,maxEpoch:$t,userSignature:Ct,iss:Nt,addressSeed:BigInt(Ft)},signature:et,publicKey:jt.toRawBytes()}}function toSerializedSignature({signature:nt,signatureScheme:et,publicKey:at}){if(!at)throw new Error("`publicKey` is required");const mt=at.toRawBytes(),$t=new Uint8Array(1+nt.length+mt.length);return $t.set([SIGNATURE_SCHEME_TO_FLAG[et]]),$t.set(nt,1),$t.set(mt,1+nt.length),toBase64($t)}function parseSerializedSignature(nt){const et=fromBase64(nt),at=SIGNATURE_FLAG_TO_SCHEME[et[0]];switch(at){case"MultiSig":const mt=suiBcs.MultiSig.parse(et.slice(1));return{serializedSignature:nt,signatureScheme:at,multisig:mt,bytes:et};case"ZkLogin":return parseSerializedZkLoginSignature(nt);case"ED25519":case"Secp256k1":case"Secp256r1":const $t=SIGNATURE_SCHEME_TO_SIZE[at],Ct=et.slice(1,et.length-$t),Dt=et.slice(1+Ct.length);return{serializedSignature:nt,signatureScheme:at,signature:Ct,publicKey:Dt,bytes:et};default:throw new Error("Unsupported signature scheme")}}class HMAC extends Hash$1{constructor(et,at){super(),this.finished=!1,this.destroyed=!1,ahash(et);const mt=toBytes(at);if(this.iHash=et.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const $t=this.blockLen,Ct=new Uint8Array($t);Ct.set(mt.length>$t?et.create().update(mt).digest():mt);for(let Dt=0;Dt<Ct.length;Dt++)Ct[Dt]^=54;this.iHash.update(Ct),this.oHash=et.create();for(let Dt=0;Dt<Ct.length;Dt++)Ct[Dt]^=106;this.oHash.update(Ct),Ct.fill(0)}update(et){return aexists(this),this.iHash.update(et),this}digestInto(et){aexists(this),abytes(et,this.outputLen),this.finished=!0,this.iHash.digestInto(et),this.oHash.update(et),this.oHash.digestInto(et),this.destroy()}digest(){const et=new Uint8Array(this.oHash.outputLen);return this.digestInto(et),et}_cloneInto(et){et||(et=Object.create(Object.getPrototypeOf(this),{}));const{oHash:at,iHash:mt,finished:$t,destroyed:Ct,blockLen:Dt,outputLen:Ft}=this;return et=et,et.finished=$t,et.destroyed=Ct,et.blockLen=Dt,et.outputLen=Ft,et.oHash=at._cloneInto(et.oHash),et.iHash=mt._cloneInto(et.iHash),et}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$2=(nt,et,at)=>new HMAC(nt,et).update(at).digest();hmac$2.create=(nt,et)=>new HMAC(nt,et);function pbkdf2Init(nt,et,at,mt){ahash(nt);const $t=checkOpts({dkLen:32,asyncTick:10},mt),{c:Ct,dkLen:Dt,asyncTick:Ft}=$t;if(anumber(Ct),anumber(Dt),anumber(Ft),Ct<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const Nt=toBytes(et),jt=toBytes(at),Lt=new Uint8Array(Dt),Vt=hmac$2.create(nt,Nt),er=Vt._cloneInto().update(jt);return{c:Ct,dkLen:Dt,asyncTick:Ft,DK:Lt,PRF:Vt,PRFSalt:er}}function pbkdf2Output(nt,et,at,mt,$t){return nt.destroy(),et.destroy(),mt&&mt.destroy(),$t.fill(0),at}function pbkdf2$1(nt,et,at,mt){const{c:$t,dkLen:Ct,DK:Dt,PRF:Ft,PRFSalt:Nt}=pbkdf2Init(nt,et,at,mt);let jt;const Lt=new Uint8Array(4),Vt=createView(Lt),er=new Uint8Array(Ft.outputLen);for(let ir=1,or=0;or<Ct;ir++,or+=Ft.outputLen){const lr=Dt.subarray(or,or+Ft.outputLen);Vt.setInt32(0,ir,!1),(jt=Nt._cloneInto(jt)).update(Lt).digestInto(er),lr.set(er.subarray(0,lr.length));for(let dr=1;dr<$t;dr++){Ft._cloneInto(jt).update(er).digestInto(er);for(let pr=0;pr<lr.length;pr++)lr[pr]^=er[pr]}}return pbkdf2Output(Ft,Nt,Dt,jt,er)}function setBigUint64(nt,et,at,mt){if(typeof nt.setBigUint64=="function")return nt.setBigUint64(et,at,mt);const $t=BigInt(32),Ct=BigInt(4294967295),Dt=Number(at>>$t&Ct),Ft=Number(at&Ct),Nt=mt?4:0,jt=mt?0:4;nt.setUint32(et+Nt,Dt,mt),nt.setUint32(et+jt,Ft,mt)}class HashMD extends Hash$1{constructor(et,at,mt,$t){super(),this.blockLen=et,this.outputLen=at,this.padOffset=mt,this.isLE=$t,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(et),this.view=createView(this.buffer)}update(et){aexists(this);const{view:at,buffer:mt,blockLen:$t}=this;et=toBytes(et);const Ct=et.length;for(let Dt=0;Dt<Ct;){const Ft=Math.min($t-this.pos,Ct-Dt);if(Ft===$t){const Nt=createView(et);for(;$t<=Ct-Dt;Dt+=$t)this.process(Nt,Dt);continue}mt.set(et.subarray(Dt,Dt+Ft),this.pos),this.pos+=Ft,Dt+=Ft,this.pos===$t&&(this.process(at,0),this.pos=0)}return this.length+=et.length,this.roundClean(),this}digestInto(et){aexists(this),aoutput(et,this),this.finished=!0;const{buffer:at,view:mt,blockLen:$t,isLE:Ct}=this;let{pos:Dt}=this;at[Dt++]=128,this.buffer.subarray(Dt).fill(0),this.padOffset>$t-Dt&&(this.process(mt,0),Dt=0);for(let Vt=Dt;Vt<$t;Vt++)at[Vt]=0;setBigUint64(mt,$t-8,BigInt(this.length*8),Ct),this.process(mt,0);const Ft=createView(et),Nt=this.outputLen;if(Nt%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const jt=Nt/4,Lt=this.get();if(jt>Lt.length)throw new Error("_sha2: outputLen bigger than state");for(let Vt=0;Vt<jt;Vt++)Ft.setUint32(4*Vt,Lt[Vt],Ct)}digest(){const{buffer:et,outputLen:at}=this;this.digestInto(et);const mt=et.slice(0,at);return this.destroy(),mt}_cloneInto(et){et||(et=new this.constructor),et.set(...this.get());const{blockLen:at,buffer:mt,length:$t,finished:Ct,destroyed:Dt,pos:Ft}=this;return et.length=$t,et.pos=Ft,et.finished=Ct,et.destroyed=Dt,$t%at&&et.buffer.set(mt),et}}const[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(nt=>BigInt(nt))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:et,Al:at,Bh:mt,Bl:$t,Ch:Ct,Cl:Dt,Dh:Ft,Dl:Nt,Eh:jt,El:Lt,Fh:Vt,Fl:er,Gh:ir,Gl:or,Hh:lr,Hl:dr}=this;return[et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir,or,lr,dr]}set(et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir,or,lr,dr){this.Ah=et|0,this.Al=at|0,this.Bh=mt|0,this.Bl=$t|0,this.Ch=Ct|0,this.Cl=Dt|0,this.Dh=Ft|0,this.Dl=Nt|0,this.Eh=jt|0,this.El=Lt|0,this.Fh=Vt|0,this.Fl=er|0,this.Gh=ir|0,this.Gl=or|0,this.Hh=lr|0,this.Hl=dr|0}process(et,at){for(let vr=0;vr<16;vr++,at+=4)SHA512_W_H[vr]=et.getUint32(at),SHA512_W_L[vr]=et.getUint32(at+=4);for(let vr=16;vr<80;vr++){const br=SHA512_W_H[vr-15]|0,xr=SHA512_W_L[vr-15]|0,Sr=u64.rotrSH(br,xr,1)^u64.rotrSH(br,xr,8)^u64.shrSH(br,xr,7),Er=u64.rotrSL(br,xr,1)^u64.rotrSL(br,xr,8)^u64.shrSL(br,xr,7),$r=SHA512_W_H[vr-2]|0,Cr=SHA512_W_L[vr-2]|0,kr=u64.rotrSH($r,Cr,19)^u64.rotrBH($r,Cr,61)^u64.shrSH($r,Cr,6),gr=u64.rotrSL($r,Cr,19)^u64.rotrBL($r,Cr,61)^u64.shrSL($r,Cr,6),Ut=u64.add4L(Er,gr,SHA512_W_L[vr-7],SHA512_W_L[vr-16]),tr=u64.add4H(Ut,Sr,kr,SHA512_W_H[vr-7],SHA512_W_H[vr-16]);SHA512_W_H[vr]=tr|0,SHA512_W_L[vr]=Ut|0}let{Ah:mt,Al:$t,Bh:Ct,Bl:Dt,Ch:Ft,Cl:Nt,Dh:jt,Dl:Lt,Eh:Vt,El:er,Fh:ir,Fl:or,Gh:lr,Gl:dr,Hh:pr,Hl:hr}=this;for(let vr=0;vr<80;vr++){const br=u64.rotrSH(Vt,er,14)^u64.rotrSH(Vt,er,18)^u64.rotrBH(Vt,er,41),xr=u64.rotrSL(Vt,er,14)^u64.rotrSL(Vt,er,18)^u64.rotrBL(Vt,er,41),Sr=Vt&ir^~Vt&lr,Er=er&or^~er&dr,$r=u64.add5L(hr,xr,Er,SHA512_Kl[vr],SHA512_W_L[vr]),Cr=u64.add5H($r,pr,br,Sr,SHA512_Kh[vr],SHA512_W_H[vr]),kr=$r|0,gr=u64.rotrSH(mt,$t,28)^u64.rotrBH(mt,$t,34)^u64.rotrBH(mt,$t,39),Ut=u64.rotrSL(mt,$t,28)^u64.rotrBL(mt,$t,34)^u64.rotrBL(mt,$t,39),tr=mt&Ct^mt&Ft^Ct&Ft,nr=$t&Dt^$t&Nt^Dt&Nt;pr=lr|0,hr=dr|0,lr=ir|0,dr=or|0,ir=Vt|0,or=er|0,{h:Vt,l:er}=u64.add(jt|0,Lt|0,Cr|0,kr|0),jt=Ft|0,Lt=Nt|0,Ft=Ct|0,Nt=Dt|0,Ct=mt|0,Dt=$t|0;const rr=u64.add3L(kr,Ut,nr);mt=u64.add3H(rr,Cr,gr,tr),$t=rr|0}({h:mt,l:$t}=u64.add(this.Ah|0,this.Al|0,mt|0,$t|0)),{h:Ct,l:Dt}=u64.add(this.Bh|0,this.Bl|0,Ct|0,Dt|0),{h:Ft,l:Nt}=u64.add(this.Ch|0,this.Cl|0,Ft|0,Nt|0),{h:jt,l:Lt}=u64.add(this.Dh|0,this.Dl|0,jt|0,Lt|0),{h:Vt,l:er}=u64.add(this.Eh|0,this.El|0,Vt|0,er|0),{h:ir,l:or}=u64.add(this.Fh|0,this.Fl|0,ir|0,or|0),{h:lr,l:dr}=u64.add(this.Gh|0,this.Gl|0,lr|0,dr|0),{h:pr,l:hr}=u64.add(this.Hh|0,this.Hl|0,pr|0,hr|0),this.set(mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir,or,lr,dr,pr,hr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$3=wrapConstructor(()=>new SHA512);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function nfkd(nt){if(typeof nt!="string")throw new TypeError("invalid mnemonic type: "+typeof nt);return nt.normalize("NFKD")}function normalize$5(nt){const et=nfkd(nt),at=et.split(" ");if(![12,15,18,21,24].includes(at.length))throw new Error("Invalid mnemonic");return{nfkd:et,words:at}}const salt=nt=>nfkd("mnemonic"+nt);function mnemonicToSeedSync(nt,et=""){return pbkdf2$1(sha512$3,normalize$5(nt).nfkd,salt(et),{c:2048,dkLen:64})}function isValidHardenedPath(nt){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(nt)}function mnemonicToSeed(nt){return mnemonicToSeedSync(nt,"")}function mnemonicToSeedHex(nt){return toHex$2(mnemonicToSeed(nt))}var dist$2={};Object.defineProperty(dist$2,"__esModule",{value:!0});dist$2.bech32m=bech32=dist$2.bech32=void 0;const ALPHABET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(let nt=0;nt<ALPHABET$1.length;nt++){const et=ALPHABET$1.charAt(nt);ALPHABET_MAP[et]=nt}function polymodStep(nt){const et=nt>>25;return(nt&33554431)<<5^-(et>>0&1)&996825010^-(et>>1&1)&642813549^-(et>>2&1)&513874426^-(et>>3&1)&1027748829^-(et>>4&1)&705979059}function prefixChk(nt){let et=1;for(let at=0;at<nt.length;++at){const mt=nt.charCodeAt(at);if(mt<33||mt>126)return"Invalid prefix ("+nt+")";et=polymodStep(et)^mt>>5}et=polymodStep(et);for(let at=0;at<nt.length;++at){const mt=nt.charCodeAt(at);et=polymodStep(et)^mt&31}return et}function convert$1(nt,et,at,mt){let $t=0,Ct=0;const Dt=(1<<at)-1,Ft=[];for(let Nt=0;Nt<nt.length;++Nt)for($t=$t<<et|nt[Nt],Ct+=et;Ct>=at;)Ct-=at,Ft.push($t>>Ct&Dt);if(mt)Ct>0&&Ft.push($t<<at-Ct&Dt);else{if(Ct>=et)return"Excess padding";if($t<<at-Ct&Dt)return"Non-zero padding"}return Ft}function toWords(nt){return convert$1(nt,8,5,!0)}function fromWordsUnsafe(nt){const et=convert$1(nt,5,8,!1);if(Array.isArray(et))return et}function fromWords(nt){const et=convert$1(nt,5,8,!1);if(Array.isArray(et))return et;throw new Error(et)}function getLibraryFromEncoding(nt){let et;nt==="bech32"?et=1:et=734539939;function at(Dt,Ft,Nt){if(Nt=Nt||90,Dt.length+7+Ft.length>Nt)throw new TypeError("Exceeds length limit");Dt=Dt.toLowerCase();let jt=prefixChk(Dt);if(typeof jt=="string")throw new Error(jt);let Lt=Dt+"1";for(let Vt=0;Vt<Ft.length;++Vt){const er=Ft[Vt];if(er>>5)throw new Error("Non 5-bit word");jt=polymodStep(jt)^er,Lt+=ALPHABET$1.charAt(er)}for(let Vt=0;Vt<6;++Vt)jt=polymodStep(jt);jt^=et;for(let Vt=0;Vt<6;++Vt){const er=jt>>(5-Vt)*5&31;Lt+=ALPHABET$1.charAt(er)}return Lt}function mt(Dt,Ft){if(Ft=Ft||90,Dt.length<8)return Dt+" too short";if(Dt.length>Ft)return"Exceeds length limit";const Nt=Dt.toLowerCase(),jt=Dt.toUpperCase();if(Dt!==Nt&&Dt!==jt)return"Mixed-case string "+Dt;Dt=Nt;const Lt=Dt.lastIndexOf("1");if(Lt===-1)return"No separator character for "+Dt;if(Lt===0)return"Missing prefix for "+Dt;const Vt=Dt.slice(0,Lt),er=Dt.slice(Lt+1);if(er.length<6)return"Data too short";let ir=prefixChk(Vt);if(typeof ir=="string")return ir;const or=[];for(let lr=0;lr<er.length;++lr){const dr=er.charAt(lr),pr=ALPHABET_MAP[dr];if(pr===void 0)return"Unknown character "+dr;ir=polymodStep(ir)^pr,!(lr+6>=er.length)&&or.push(pr)}return ir!==et?"Invalid checksum for "+Dt:{prefix:Vt,words:or}}function $t(Dt,Ft){const Nt=mt(Dt,Ft);if(typeof Nt=="object")return Nt}function Ct(Dt,Ft){const Nt=mt(Dt,Ft);if(typeof Nt=="object")return Nt;throw new Error(Nt)}return{decodeUnsafe:$t,decode:Ct,encode:at,toWords,fromWordsUnsafe,fromWords}}var bech32=dist$2.bech32=getLibraryFromEncoding("bech32");dist$2.bech32m=getLibraryFromEncoding("bech32m");const PRIVATE_KEY_SIZE=32,SUI_PRIVATE_KEY_PREFIX="suiprivkey";class Signer{async signWithIntent(et,at){const mt=messageWithIntent(at,et),$t=blake2b$1(mt,{dkLen:32});return{signature:toSerializedSignature({signature:await this.sign($t),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:toBase64(et)}}async signTransaction(et){return this.signWithIntent(et,"TransactionData")}async signPersonalMessage(et){const{signature:at}=await this.signWithIntent(bcs$1.vector(bcs$1.u8()).serialize(et).toBytes(),"PersonalMessage");return{bytes:toBase64(et),signature:at}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class Keypair extends Signer{}function decodeSuiPrivateKey(nt){const{prefix:et,words:at}=bech32.decode(nt);if(et!==SUI_PRIVATE_KEY_PREFIX)throw new Error("invalid private key prefix");const mt=new Uint8Array(bech32.fromWords(at)),$t=mt.slice(1);return{schema:SIGNATURE_FLAG_TO_SCHEME[mt[0]],secretKey:$t}}function encodeSuiPrivateKey(nt,et){if(nt.length!==PRIVATE_KEY_SIZE)throw new Error("Invalid bytes length");const at=SIGNATURE_SCHEME_TO_FLAG[et],mt=new Uint8Array(nt.length+1);return mt.set([at]),mt.set(nt,1),bech32.encode(SUI_PRIVATE_KEY_PREFIX,bech32.toWords(mt))}function commonjsRequire$1(nt){throw new Error('Could not dynamically require "'+nt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={};function getDefaultExportFromCjs$1(nt){return nt&&nt.__esModule&&Object.prototype.hasOwnProperty.call(nt,"default")?nt.default:nt}var browser$f={exports:{}},process=browser$f.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(nt){if(cachedSetTimeout===setTimeout)return setTimeout(nt,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(nt,0);try{return cachedSetTimeout(nt,0)}catch{try{return cachedSetTimeout.call(null,nt,0)}catch{return cachedSetTimeout.call(this,nt,0)}}}function runClearTimeout(nt){if(cachedClearTimeout===clearTimeout)return clearTimeout(nt);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(nt);try{return cachedClearTimeout(nt)}catch{try{return cachedClearTimeout.call(null,nt)}catch{return cachedClearTimeout.call(this,nt)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var nt=runTimeout(cleanUpNextTick);draining=!0;for(var et=queue.length;et;){for(currentQueue=queue,queue=[];++queueIndex<et;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,et=queue.length}currentQueue=null,draining=!1,runClearTimeout(nt)}}process.nextTick=function(nt){var et=new Array(arguments.length-1);if(arguments.length>1)for(var at=1;at<arguments.length;at++)et[at-1]=arguments[at];queue.push(new Item$1(nt,et)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item$1(nt,et){this.fun=nt,this.array=et}Item$1.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$4(){}process.on=noop$4;process.addListener=noop$4;process.once=noop$4;process.off=noop$4;process.removeListener=noop$4;process.removeAllListeners=noop$4;process.emit=noop$4;process.prependListener=noop$4;process.prependOnceListener=noop$4;process.listeners=function(nt){return[]};process.binding=function(nt){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(nt){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$f.exports;const process$1=getDefaultExportFromCjs$1(browserExports);var browser$e={exports:{}},safeBuffer$7={exports:{}},buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(nt){var et=nt.length;if(et%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var at=nt.indexOf("=");at===-1&&(at=et);var mt=at===et?0:4-at%4;return[at,mt]}function byteLength(nt){var et=getLens(nt),at=et[0],mt=et[1];return(at+mt)*3/4-mt}function _byteLength(nt,et,at){return(et+at)*3/4-at}function toByteArray(nt){var et,at=getLens(nt),mt=at[0],$t=at[1],Ct=new Arr(_byteLength(nt,mt,$t)),Dt=0,Ft=$t>0?mt-4:mt,Nt;for(Nt=0;Nt<Ft;Nt+=4)et=revLookup[nt.charCodeAt(Nt)]<<18|revLookup[nt.charCodeAt(Nt+1)]<<12|revLookup[nt.charCodeAt(Nt+2)]<<6|revLookup[nt.charCodeAt(Nt+3)],Ct[Dt++]=et>>16&255,Ct[Dt++]=et>>8&255,Ct[Dt++]=et&255;return $t===2&&(et=revLookup[nt.charCodeAt(Nt)]<<2|revLookup[nt.charCodeAt(Nt+1)]>>4,Ct[Dt++]=et&255),$t===1&&(et=revLookup[nt.charCodeAt(Nt)]<<10|revLookup[nt.charCodeAt(Nt+1)]<<4|revLookup[nt.charCodeAt(Nt+2)]>>2,Ct[Dt++]=et>>8&255,Ct[Dt++]=et&255),Ct}function tripletToBase64(nt){return lookup[nt>>18&63]+lookup[nt>>12&63]+lookup[nt>>6&63]+lookup[nt&63]}function encodeChunk(nt,et,at){for(var mt,$t=[],Ct=et;Ct<at;Ct+=3)mt=(nt[Ct]<<16&16711680)+(nt[Ct+1]<<8&65280)+(nt[Ct+2]&255),$t.push(tripletToBase64(mt));return $t.join("")}function fromByteArray(nt){for(var et,at=nt.length,mt=at%3,$t=[],Ct=16383,Dt=0,Ft=at-mt;Dt<Ft;Dt+=Ct)$t.push(encodeChunk(nt,Dt,Dt+Ct>Ft?Ft:Dt+Ct));return mt===1?(et=nt[at-1],$t.push(lookup[et>>2]+lookup[et<<4&63]+"==")):mt===2&&(et=(nt[at-2]<<8)+nt[at-1],$t.push(lookup[et>>10]+lookup[et>>4&63]+lookup[et<<2&63]+"=")),$t.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(nt,et,at,mt,$t){var Ct,Dt,Ft=$t*8-mt-1,Nt=(1<<Ft)-1,jt=Nt>>1,Lt=-7,Vt=at?$t-1:0,er=at?-1:1,ir=nt[et+Vt];for(Vt+=er,Ct=ir&(1<<-Lt)-1,ir>>=-Lt,Lt+=Ft;Lt>0;Ct=Ct*256+nt[et+Vt],Vt+=er,Lt-=8);for(Dt=Ct&(1<<-Lt)-1,Ct>>=-Lt,Lt+=mt;Lt>0;Dt=Dt*256+nt[et+Vt],Vt+=er,Lt-=8);if(Ct===0)Ct=1-jt;else{if(Ct===Nt)return Dt?NaN:(ir?-1:1)*(1/0);Dt=Dt+Math.pow(2,mt),Ct=Ct-jt}return(ir?-1:1)*Dt*Math.pow(2,Ct-mt)};ieee754.write=function(nt,et,at,mt,$t,Ct){var Dt,Ft,Nt,jt=Ct*8-$t-1,Lt=(1<<jt)-1,Vt=Lt>>1,er=$t===23?Math.pow(2,-24)-Math.pow(2,-77):0,ir=mt?0:Ct-1,or=mt?1:-1,lr=et<0||et===0&&1/et<0?1:0;for(et=Math.abs(et),isNaN(et)||et===1/0?(Ft=isNaN(et)?1:0,Dt=Lt):(Dt=Math.floor(Math.log(et)/Math.LN2),et*(Nt=Math.pow(2,-Dt))<1&&(Dt--,Nt*=2),Dt+Vt>=1?et+=er/Nt:et+=er*Math.pow(2,1-Vt),et*Nt>=2&&(Dt++,Nt/=2),Dt+Vt>=Lt?(Ft=0,Dt=Lt):Dt+Vt>=1?(Ft=(et*Nt-1)*Math.pow(2,$t),Dt=Dt+Vt):(Ft=et*Math.pow(2,Vt-1)*Math.pow(2,$t),Dt=0));$t>=8;nt[at+ir]=Ft&255,ir+=or,Ft/=256,$t-=8);for(Dt=Dt<<$t|Ft,jt+=$t;jt>0;nt[at+ir]=Dt&255,ir+=or,Dt/=256,jt-=8);nt[at+ir-or]|=lr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(nt){const et=base64Js,at=ieee754,mt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;nt.Buffer=Lt,nt.SlowBuffer=xr,nt.INSPECT_MAX_BYTES=50;const $t=2147483647;nt.kMaxLength=$t;const{Uint8Array:Ct,ArrayBuffer:Dt,SharedArrayBuffer:Ft}=globalThis;Lt.TYPED_ARRAY_SUPPORT=Nt(),!Lt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Nt(){try{const jr=new Ct(1),Tr={foo:function(){return 42}};return Object.setPrototypeOf(Tr,Ct.prototype),Object.setPrototypeOf(jr,Tr),jr.foo()===42}catch{return!1}}Object.defineProperty(Lt.prototype,"parent",{enumerable:!0,get:function(){if(Lt.isBuffer(this))return this.buffer}}),Object.defineProperty(Lt.prototype,"offset",{enumerable:!0,get:function(){if(Lt.isBuffer(this))return this.byteOffset}});function jt(jr){if(jr>$t)throw new RangeError('The value "'+jr+'" is invalid for option "size"');const Tr=new Ct(jr);return Object.setPrototypeOf(Tr,Lt.prototype),Tr}function Lt(jr,Tr,Fr){if(typeof jr=="number"){if(typeof Tr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return or(jr)}return Vt(jr,Tr,Fr)}Lt.poolSize=8192;function Vt(jr,Tr,Fr){if(typeof jr=="string")return lr(jr,Tr);if(Dt.isView(jr))return pr(jr);if(jr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof jr);if(Qn(jr,Dt)||jr&&Qn(jr.buffer,Dt)||typeof Ft<"u"&&(Qn(jr,Ft)||jr&&Qn(jr.buffer,Ft)))return hr(jr,Tr,Fr);if(typeof jr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Wr=jr.valueOf&&jr.valueOf();if(Wr!=null&&Wr!==jr)return Lt.from(Wr,Tr,Fr);const sn=vr(jr);if(sn)return sn;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof jr[Symbol.toPrimitive]=="function")return Lt.from(jr[Symbol.toPrimitive]("string"),Tr,Fr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof jr)}Lt.from=function(jr,Tr,Fr){return Vt(jr,Tr,Fr)},Object.setPrototypeOf(Lt.prototype,Ct.prototype),Object.setPrototypeOf(Lt,Ct);function er(jr){if(typeof jr!="number")throw new TypeError('"size" argument must be of type number');if(jr<0)throw new RangeError('The value "'+jr+'" is invalid for option "size"')}function ir(jr,Tr,Fr){return er(jr),jr<=0?jt(jr):Tr!==void 0?typeof Fr=="string"?jt(jr).fill(Tr,Fr):jt(jr).fill(Tr):jt(jr)}Lt.alloc=function(jr,Tr,Fr){return ir(jr,Tr,Fr)};function or(jr){return er(jr),jt(jr<0?0:br(jr)|0)}Lt.allocUnsafe=function(jr){return or(jr)},Lt.allocUnsafeSlow=function(jr){return or(jr)};function lr(jr,Tr){if((typeof Tr!="string"||Tr==="")&&(Tr="utf8"),!Lt.isEncoding(Tr))throw new TypeError("Unknown encoding: "+Tr);const Fr=Sr(jr,Tr)|0;let Wr=jt(Fr);const sn=Wr.write(jr,Tr);return sn!==Fr&&(Wr=Wr.slice(0,sn)),Wr}function dr(jr){const Tr=jr.length<0?0:br(jr.length)|0,Fr=jt(Tr);for(let Wr=0;Wr<Tr;Wr+=1)Fr[Wr]=jr[Wr]&255;return Fr}function pr(jr){if(Qn(jr,Ct)){const Tr=new Ct(jr);return hr(Tr.buffer,Tr.byteOffset,Tr.byteLength)}return dr(jr)}function hr(jr,Tr,Fr){if(Tr<0||jr.byteLength<Tr)throw new RangeError('"offset" is outside of buffer bounds');if(jr.byteLength<Tr+(Fr||0))throw new RangeError('"length" is outside of buffer bounds');let Wr;return Tr===void 0&&Fr===void 0?Wr=new Ct(jr):Fr===void 0?Wr=new Ct(jr,Tr):Wr=new Ct(jr,Tr,Fr),Object.setPrototypeOf(Wr,Lt.prototype),Wr}function vr(jr){if(Lt.isBuffer(jr)){const Tr=br(jr.length)|0,Fr=jt(Tr);return Fr.length===0||jr.copy(Fr,0,0,Tr),Fr}if(jr.length!==void 0)return typeof jr.length!="number"||$o(jr.length)?jt(0):dr(jr);if(jr.type==="Buffer"&&Array.isArray(jr.data))return dr(jr.data)}function br(jr){if(jr>=$t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$t.toString(16)+" bytes");return jr|0}function xr(jr){return+jr!=jr&&(jr=0),Lt.alloc(+jr)}Lt.isBuffer=function(Tr){return Tr!=null&&Tr._isBuffer===!0&&Tr!==Lt.prototype},Lt.compare=function(Tr,Fr){if(Qn(Tr,Ct)&&(Tr=Lt.from(Tr,Tr.offset,Tr.byteLength)),Qn(Fr,Ct)&&(Fr=Lt.from(Fr,Fr.offset,Fr.byteLength)),!Lt.isBuffer(Tr)||!Lt.isBuffer(Fr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Tr===Fr)return 0;let Wr=Tr.length,sn=Fr.length;for(let Jn=0,Nn=Math.min(Wr,sn);Jn<Nn;++Jn)if(Tr[Jn]!==Fr[Jn]){Wr=Tr[Jn],sn=Fr[Jn];break}return Wr<sn?-1:sn<Wr?1:0},Lt.isEncoding=function(Tr){switch(String(Tr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Lt.concat=function(Tr,Fr){if(!Array.isArray(Tr))throw new TypeError('"list" argument must be an Array of Buffers');if(Tr.length===0)return Lt.alloc(0);let Wr;if(Fr===void 0)for(Fr=0,Wr=0;Wr<Tr.length;++Wr)Fr+=Tr[Wr].length;const sn=Lt.allocUnsafe(Fr);let Jn=0;for(Wr=0;Wr<Tr.length;++Wr){let Nn=Tr[Wr];if(Qn(Nn,Ct))Jn+Nn.length>sn.length?(Lt.isBuffer(Nn)||(Nn=Lt.from(Nn)),Nn.copy(sn,Jn)):Ct.prototype.set.call(sn,Nn,Jn);else if(Lt.isBuffer(Nn))Nn.copy(sn,Jn);else throw new TypeError('"list" argument must be an Array of Buffers');Jn+=Nn.length}return sn};function Sr(jr,Tr){if(Lt.isBuffer(jr))return jr.length;if(Dt.isView(jr)||Qn(jr,Dt))return jr.byteLength;if(typeof jr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof jr);const Fr=jr.length,Wr=arguments.length>2&&arguments[2]===!0;if(!Wr&&Fr===0)return 0;let sn=!1;for(;;)switch(Tr){case"ascii":case"latin1":case"binary":return Fr;case"utf8":case"utf-8":return Dn(jr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fr*2;case"hex":return Fr>>>1;case"base64":return ro(jr).length;default:if(sn)return Wr?-1:Dn(jr).length;Tr=(""+Tr).toLowerCase(),sn=!0}}Lt.byteLength=Sr;function Er(jr,Tr,Fr){let Wr=!1;if((Tr===void 0||Tr<0)&&(Tr=0),Tr>this.length||((Fr===void 0||Fr>this.length)&&(Fr=this.length),Fr<=0)||(Fr>>>=0,Tr>>>=0,Fr<=Tr))return"";for(jr||(jr="utf8");;)switch(jr){case"hex":return _r(this,Tr,Fr);case"utf8":case"utf-8":return cr(this,Tr,Fr);case"ascii":return Yt(this,Tr,Fr);case"latin1":case"binary":return ur(this,Tr,Fr);case"base64":return ar(this,Tr,Fr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yr(this,Tr,Fr);default:if(Wr)throw new TypeError("Unknown encoding: "+jr);jr=(jr+"").toLowerCase(),Wr=!0}}Lt.prototype._isBuffer=!0;function $r(jr,Tr,Fr){const Wr=jr[Tr];jr[Tr]=jr[Fr],jr[Fr]=Wr}Lt.prototype.swap16=function(){const Tr=this.length;if(Tr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Fr=0;Fr<Tr;Fr+=2)$r(this,Fr,Fr+1);return this},Lt.prototype.swap32=function(){const Tr=this.length;if(Tr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Fr=0;Fr<Tr;Fr+=4)$r(this,Fr,Fr+3),$r(this,Fr+1,Fr+2);return this},Lt.prototype.swap64=function(){const Tr=this.length;if(Tr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Fr=0;Fr<Tr;Fr+=8)$r(this,Fr,Fr+7),$r(this,Fr+1,Fr+6),$r(this,Fr+2,Fr+5),$r(this,Fr+3,Fr+4);return this},Lt.prototype.toString=function(){const Tr=this.length;return Tr===0?"":arguments.length===0?cr(this,0,Tr):Er.apply(this,arguments)},Lt.prototype.toLocaleString=Lt.prototype.toString,Lt.prototype.equals=function(Tr){if(!Lt.isBuffer(Tr))throw new TypeError("Argument must be a Buffer");return this===Tr?!0:Lt.compare(this,Tr)===0},Lt.prototype.inspect=function(){let Tr="";const Fr=nt.INSPECT_MAX_BYTES;return Tr=this.toString("hex",0,Fr).replace(/(.{2})/g,"$1 ").trim(),this.length>Fr&&(Tr+=" ... "),"<Buffer "+Tr+">"},mt&&(Lt.prototype[mt]=Lt.prototype.inspect),Lt.prototype.compare=function(Tr,Fr,Wr,sn,Jn){if(Qn(Tr,Ct)&&(Tr=Lt.from(Tr,Tr.offset,Tr.byteLength)),!Lt.isBuffer(Tr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Tr);if(Fr===void 0&&(Fr=0),Wr===void 0&&(Wr=Tr?Tr.length:0),sn===void 0&&(sn=0),Jn===void 0&&(Jn=this.length),Fr<0||Wr>Tr.length||sn<0||Jn>this.length)throw new RangeError("out of range index");if(sn>=Jn&&Fr>=Wr)return 0;if(sn>=Jn)return-1;if(Fr>=Wr)return 1;if(Fr>>>=0,Wr>>>=0,sn>>>=0,Jn>>>=0,this===Tr)return 0;let Nn=Jn-sn,Zn=Wr-Fr;const Io=Math.min(Nn,Zn),ga=this.slice(sn,Jn),ba=Tr.slice(Fr,Wr);for(let Bo=0;Bo<Io;++Bo)if(ga[Bo]!==ba[Bo]){Nn=ga[Bo],Zn=ba[Bo];break}return Nn<Zn?-1:Zn<Nn?1:0};function Cr(jr,Tr,Fr,Wr,sn){if(jr.length===0)return-1;if(typeof Fr=="string"?(Wr=Fr,Fr=0):Fr>2147483647?Fr=2147483647:Fr<-2147483648&&(Fr=-2147483648),Fr=+Fr,$o(Fr)&&(Fr=sn?0:jr.length-1),Fr<0&&(Fr=jr.length+Fr),Fr>=jr.length){if(sn)return-1;Fr=jr.length-1}else if(Fr<0)if(sn)Fr=0;else return-1;if(typeof Tr=="string"&&(Tr=Lt.from(Tr,Wr)),Lt.isBuffer(Tr))return Tr.length===0?-1:kr(jr,Tr,Fr,Wr,sn);if(typeof Tr=="number")return Tr=Tr&255,typeof Ct.prototype.indexOf=="function"?sn?Ct.prototype.indexOf.call(jr,Tr,Fr):Ct.prototype.lastIndexOf.call(jr,Tr,Fr):kr(jr,[Tr],Fr,Wr,sn);throw new TypeError("val must be string, number or Buffer")}function kr(jr,Tr,Fr,Wr,sn){let Jn=1,Nn=jr.length,Zn=Tr.length;if(Wr!==void 0&&(Wr=String(Wr).toLowerCase(),Wr==="ucs2"||Wr==="ucs-2"||Wr==="utf16le"||Wr==="utf-16le")){if(jr.length<2||Tr.length<2)return-1;Jn=2,Nn/=2,Zn/=2,Fr/=2}function Io(ba,Bo){return Jn===1?ba[Bo]:ba.readUInt16BE(Bo*Jn)}let ga;if(sn){let ba=-1;for(ga=Fr;ga<Nn;ga++)if(Io(jr,ga)===Io(Tr,ba===-1?0:ga-ba)){if(ba===-1&&(ba=ga),ga-ba+1===Zn)return ba*Jn}else ba!==-1&&(ga-=ga-ba),ba=-1}else for(Fr+Zn>Nn&&(Fr=Nn-Zn),ga=Fr;ga>=0;ga--){let ba=!0;for(let Bo=0;Bo<Zn;Bo++)if(Io(jr,ga+Bo)!==Io(Tr,Bo)){ba=!1;break}if(ba)return ga}return-1}Lt.prototype.includes=function(Tr,Fr,Wr){return this.indexOf(Tr,Fr,Wr)!==-1},Lt.prototype.indexOf=function(Tr,Fr,Wr){return Cr(this,Tr,Fr,Wr,!0)},Lt.prototype.lastIndexOf=function(Tr,Fr,Wr){return Cr(this,Tr,Fr,Wr,!1)};function gr(jr,Tr,Fr,Wr){Fr=Number(Fr)||0;const sn=jr.length-Fr;Wr?(Wr=Number(Wr),Wr>sn&&(Wr=sn)):Wr=sn;const Jn=Tr.length;Wr>Jn/2&&(Wr=Jn/2);let Nn;for(Nn=0;Nn<Wr;++Nn){const Zn=parseInt(Tr.substr(Nn*2,2),16);if($o(Zn))return Nn;jr[Fr+Nn]=Zn}return Nn}function Ut(jr,Tr,Fr,Wr){return Hn(Dn(Tr,jr.length-Fr),jr,Fr,Wr)}function tr(jr,Tr,Fr,Wr){return Hn(Qr(Tr),jr,Fr,Wr)}function nr(jr,Tr,Fr,Wr){return Hn(ro(Tr),jr,Fr,Wr)}function rr(jr,Tr,Fr,Wr){return Hn(Un(Tr,jr.length-Fr),jr,Fr,Wr)}Lt.prototype.write=function(Tr,Fr,Wr,sn){if(Fr===void 0)sn="utf8",Wr=this.length,Fr=0;else if(Wr===void 0&&typeof Fr=="string")sn=Fr,Wr=this.length,Fr=0;else if(isFinite(Fr))Fr=Fr>>>0,isFinite(Wr)?(Wr=Wr>>>0,sn===void 0&&(sn="utf8")):(sn=Wr,Wr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Jn=this.length-Fr;if((Wr===void 0||Wr>Jn)&&(Wr=Jn),Tr.length>0&&(Wr<0||Fr<0)||Fr>this.length)throw new RangeError("Attempt to write outside buffer bounds");sn||(sn="utf8");let Nn=!1;for(;;)switch(sn){case"hex":return gr(this,Tr,Fr,Wr);case"utf8":case"utf-8":return Ut(this,Tr,Fr,Wr);case"ascii":case"latin1":case"binary":return tr(this,Tr,Fr,Wr);case"base64":return nr(this,Tr,Fr,Wr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rr(this,Tr,Fr,Wr);default:if(Nn)throw new TypeError("Unknown encoding: "+sn);sn=(""+sn).toLowerCase(),Nn=!0}},Lt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ar(jr,Tr,Fr){return Tr===0&&Fr===jr.length?et.fromByteArray(jr):et.fromByteArray(jr.slice(Tr,Fr))}function cr(jr,Tr,Fr){Fr=Math.min(jr.length,Fr);const Wr=[];let sn=Tr;for(;sn<Fr;){const Jn=jr[sn];let Nn=null,Zn=Jn>239?4:Jn>223?3:Jn>191?2:1;if(sn+Zn<=Fr){let Io,ga,ba,Bo;switch(Zn){case 1:Jn<128&&(Nn=Jn);break;case 2:Io=jr[sn+1],(Io&192)===128&&(Bo=(Jn&31)<<6|Io&63,Bo>127&&(Nn=Bo));break;case 3:Io=jr[sn+1],ga=jr[sn+2],(Io&192)===128&&(ga&192)===128&&(Bo=(Jn&15)<<12|(Io&63)<<6|ga&63,Bo>2047&&(Bo<55296||Bo>57343)&&(Nn=Bo));break;case 4:Io=jr[sn+1],ga=jr[sn+2],ba=jr[sn+3],(Io&192)===128&&(ga&192)===128&&(ba&192)===128&&(Bo=(Jn&15)<<18|(Io&63)<<12|(ga&63)<<6|ba&63,Bo>65535&&Bo<1114112&&(Nn=Bo))}}Nn===null?(Nn=65533,Zn=1):Nn>65535&&(Nn-=65536,Wr.push(Nn>>>10&1023|55296),Nn=56320|Nn&1023),Wr.push(Nn),sn+=Zn}return sr(Wr)}const fr=4096;function sr(jr){const Tr=jr.length;if(Tr<=fr)return String.fromCharCode.apply(String,jr);let Fr="",Wr=0;for(;Wr<Tr;)Fr+=String.fromCharCode.apply(String,jr.slice(Wr,Wr+=fr));return Fr}function Yt(jr,Tr,Fr){let Wr="";Fr=Math.min(jr.length,Fr);for(let sn=Tr;sn<Fr;++sn)Wr+=String.fromCharCode(jr[sn]&127);return Wr}function ur(jr,Tr,Fr){let Wr="";Fr=Math.min(jr.length,Fr);for(let sn=Tr;sn<Fr;++sn)Wr+=String.fromCharCode(jr[sn]);return Wr}function _r(jr,Tr,Fr){const Wr=jr.length;(!Tr||Tr<0)&&(Tr=0),(!Fr||Fr<0||Fr>Wr)&&(Fr=Wr);let sn="";for(let Jn=Tr;Jn<Fr;++Jn)sn+=Kn[jr[Jn]];return sn}function yr(jr,Tr,Fr){const Wr=jr.slice(Tr,Fr);let sn="";for(let Jn=0;Jn<Wr.length-1;Jn+=2)sn+=String.fromCharCode(Wr[Jn]+Wr[Jn+1]*256);return sn}Lt.prototype.slice=function(Tr,Fr){const Wr=this.length;Tr=~~Tr,Fr=Fr===void 0?Wr:~~Fr,Tr<0?(Tr+=Wr,Tr<0&&(Tr=0)):Tr>Wr&&(Tr=Wr),Fr<0?(Fr+=Wr,Fr<0&&(Fr=0)):Fr>Wr&&(Fr=Wr),Fr<Tr&&(Fr=Tr);const sn=this.subarray(Tr,Fr);return Object.setPrototypeOf(sn,Lt.prototype),sn};function wr(jr,Tr,Fr){if(jr%1!==0||jr<0)throw new RangeError("offset is not uint");if(jr+Tr>Fr)throw new RangeError("Trying to access beyond buffer length")}Lt.prototype.readUintLE=Lt.prototype.readUIntLE=function(Tr,Fr,Wr){Tr=Tr>>>0,Fr=Fr>>>0,Wr||wr(Tr,Fr,this.length);let sn=this[Tr],Jn=1,Nn=0;for(;++Nn<Fr&&(Jn*=256);)sn+=this[Tr+Nn]*Jn;return sn},Lt.prototype.readUintBE=Lt.prototype.readUIntBE=function(Tr,Fr,Wr){Tr=Tr>>>0,Fr=Fr>>>0,Wr||wr(Tr,Fr,this.length);let sn=this[Tr+--Fr],Jn=1;for(;Fr>0&&(Jn*=256);)sn+=this[Tr+--Fr]*Jn;return sn},Lt.prototype.readUint8=Lt.prototype.readUInt8=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,1,this.length),this[Tr]},Lt.prototype.readUint16LE=Lt.prototype.readUInt16LE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,2,this.length),this[Tr]|this[Tr+1]<<8},Lt.prototype.readUint16BE=Lt.prototype.readUInt16BE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,2,this.length),this[Tr]<<8|this[Tr+1]},Lt.prototype.readUint32LE=Lt.prototype.readUInt32LE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,4,this.length),(this[Tr]|this[Tr+1]<<8|this[Tr+2]<<16)+this[Tr+3]*16777216},Lt.prototype.readUint32BE=Lt.prototype.readUInt32BE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,4,this.length),this[Tr]*16777216+(this[Tr+1]<<16|this[Tr+2]<<8|this[Tr+3])},Lt.prototype.readBigUInt64LE=_i(function(Tr){Tr=Tr>>>0,Jr(Tr,"offset");const Fr=this[Tr],Wr=this[Tr+7];(Fr===void 0||Wr===void 0)&&Zr(Tr,this.length-8);const sn=Fr+this[++Tr]*2**8+this[++Tr]*2**16+this[++Tr]*2**24,Jn=this[++Tr]+this[++Tr]*2**8+this[++Tr]*2**16+Wr*2**24;return BigInt(sn)+(BigInt(Jn)<<BigInt(32))}),Lt.prototype.readBigUInt64BE=_i(function(Tr){Tr=Tr>>>0,Jr(Tr,"offset");const Fr=this[Tr],Wr=this[Tr+7];(Fr===void 0||Wr===void 0)&&Zr(Tr,this.length-8);const sn=Fr*2**24+this[++Tr]*2**16+this[++Tr]*2**8+this[++Tr],Jn=this[++Tr]*2**24+this[++Tr]*2**16+this[++Tr]*2**8+Wr;return(BigInt(sn)<<BigInt(32))+BigInt(Jn)}),Lt.prototype.readIntLE=function(Tr,Fr,Wr){Tr=Tr>>>0,Fr=Fr>>>0,Wr||wr(Tr,Fr,this.length);let sn=this[Tr],Jn=1,Nn=0;for(;++Nn<Fr&&(Jn*=256);)sn+=this[Tr+Nn]*Jn;return Jn*=128,sn>=Jn&&(sn-=Math.pow(2,8*Fr)),sn},Lt.prototype.readIntBE=function(Tr,Fr,Wr){Tr=Tr>>>0,Fr=Fr>>>0,Wr||wr(Tr,Fr,this.length);let sn=Fr,Jn=1,Nn=this[Tr+--sn];for(;sn>0&&(Jn*=256);)Nn+=this[Tr+--sn]*Jn;return Jn*=128,Nn>=Jn&&(Nn-=Math.pow(2,8*Fr)),Nn},Lt.prototype.readInt8=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,1,this.length),this[Tr]&128?(255-this[Tr]+1)*-1:this[Tr]},Lt.prototype.readInt16LE=function(Tr,Fr){Tr=Tr>>>0,Fr||wr(Tr,2,this.length);const Wr=this[Tr]|this[Tr+1]<<8;return Wr&32768?Wr|4294901760:Wr},Lt.prototype.readInt16BE=function(Tr,Fr){Tr=Tr>>>0,Fr||wr(Tr,2,this.length);const Wr=this[Tr+1]|this[Tr]<<8;return Wr&32768?Wr|4294901760:Wr},Lt.prototype.readInt32LE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,4,this.length),this[Tr]|this[Tr+1]<<8|this[Tr+2]<<16|this[Tr+3]<<24},Lt.prototype.readInt32BE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,4,this.length),this[Tr]<<24|this[Tr+1]<<16|this[Tr+2]<<8|this[Tr+3]},Lt.prototype.readBigInt64LE=_i(function(Tr){Tr=Tr>>>0,Jr(Tr,"offset");const Fr=this[Tr],Wr=this[Tr+7];(Fr===void 0||Wr===void 0)&&Zr(Tr,this.length-8);const sn=this[Tr+4]+this[Tr+5]*2**8+this[Tr+6]*2**16+(Wr<<24);return(BigInt(sn)<<BigInt(32))+BigInt(Fr+this[++Tr]*2**8+this[++Tr]*2**16+this[++Tr]*2**24)}),Lt.prototype.readBigInt64BE=_i(function(Tr){Tr=Tr>>>0,Jr(Tr,"offset");const Fr=this[Tr],Wr=this[Tr+7];(Fr===void 0||Wr===void 0)&&Zr(Tr,this.length-8);const sn=(Fr<<24)+this[++Tr]*2**16+this[++Tr]*2**8+this[++Tr];return(BigInt(sn)<<BigInt(32))+BigInt(this[++Tr]*2**24+this[++Tr]*2**16+this[++Tr]*2**8+Wr)}),Lt.prototype.readFloatLE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,4,this.length),at.read(this,Tr,!0,23,4)},Lt.prototype.readFloatBE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,4,this.length),at.read(this,Tr,!1,23,4)},Lt.prototype.readDoubleLE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,8,this.length),at.read(this,Tr,!0,52,8)},Lt.prototype.readDoubleBE=function(Tr,Fr){return Tr=Tr>>>0,Fr||wr(Tr,8,this.length),at.read(this,Tr,!1,52,8)};function Ir(jr,Tr,Fr,Wr,sn,Jn){if(!Lt.isBuffer(jr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Tr>sn||Tr<Jn)throw new RangeError('"value" argument is out of bounds');if(Fr+Wr>jr.length)throw new RangeError("Index out of range")}Lt.prototype.writeUintLE=Lt.prototype.writeUIntLE=function(Tr,Fr,Wr,sn){if(Tr=+Tr,Fr=Fr>>>0,Wr=Wr>>>0,!sn){const Zn=Math.pow(2,8*Wr)-1;Ir(this,Tr,Fr,Wr,Zn,0)}let Jn=1,Nn=0;for(this[Fr]=Tr&255;++Nn<Wr&&(Jn*=256);)this[Fr+Nn]=Tr/Jn&255;return Fr+Wr},Lt.prototype.writeUintBE=Lt.prototype.writeUIntBE=function(Tr,Fr,Wr,sn){if(Tr=+Tr,Fr=Fr>>>0,Wr=Wr>>>0,!sn){const Zn=Math.pow(2,8*Wr)-1;Ir(this,Tr,Fr,Wr,Zn,0)}let Jn=Wr-1,Nn=1;for(this[Fr+Jn]=Tr&255;--Jn>=0&&(Nn*=256);)this[Fr+Jn]=Tr/Nn&255;return Fr+Wr},Lt.prototype.writeUint8=Lt.prototype.writeUInt8=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,1,255,0),this[Fr]=Tr&255,Fr+1},Lt.prototype.writeUint16LE=Lt.prototype.writeUInt16LE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,2,65535,0),this[Fr]=Tr&255,this[Fr+1]=Tr>>>8,Fr+2},Lt.prototype.writeUint16BE=Lt.prototype.writeUInt16BE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,2,65535,0),this[Fr]=Tr>>>8,this[Fr+1]=Tr&255,Fr+2},Lt.prototype.writeUint32LE=Lt.prototype.writeUInt32LE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,4,4294967295,0),this[Fr+3]=Tr>>>24,this[Fr+2]=Tr>>>16,this[Fr+1]=Tr>>>8,this[Fr]=Tr&255,Fr+4},Lt.prototype.writeUint32BE=Lt.prototype.writeUInt32BE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,4,4294967295,0),this[Fr]=Tr>>>24,this[Fr+1]=Tr>>>16,this[Fr+2]=Tr>>>8,this[Fr+3]=Tr&255,Fr+4};function Or(jr,Tr,Fr,Wr,sn){Xr(Tr,Wr,sn,jr,Fr,7);let Jn=Number(Tr&BigInt(4294967295));jr[Fr++]=Jn,Jn=Jn>>8,jr[Fr++]=Jn,Jn=Jn>>8,jr[Fr++]=Jn,Jn=Jn>>8,jr[Fr++]=Jn;let Nn=Number(Tr>>BigInt(32)&BigInt(4294967295));return jr[Fr++]=Nn,Nn=Nn>>8,jr[Fr++]=Nn,Nn=Nn>>8,jr[Fr++]=Nn,Nn=Nn>>8,jr[Fr++]=Nn,Fr}function Ar(jr,Tr,Fr,Wr,sn){Xr(Tr,Wr,sn,jr,Fr,7);let Jn=Number(Tr&BigInt(4294967295));jr[Fr+7]=Jn,Jn=Jn>>8,jr[Fr+6]=Jn,Jn=Jn>>8,jr[Fr+5]=Jn,Jn=Jn>>8,jr[Fr+4]=Jn;let Nn=Number(Tr>>BigInt(32)&BigInt(4294967295));return jr[Fr+3]=Nn,Nn=Nn>>8,jr[Fr+2]=Nn,Nn=Nn>>8,jr[Fr+1]=Nn,Nn=Nn>>8,jr[Fr]=Nn,Fr+8}Lt.prototype.writeBigUInt64LE=_i(function(Tr,Fr=0){return Or(this,Tr,Fr,BigInt(0),BigInt("0xffffffffffffffff"))}),Lt.prototype.writeBigUInt64BE=_i(function(Tr,Fr=0){return Ar(this,Tr,Fr,BigInt(0),BigInt("0xffffffffffffffff"))}),Lt.prototype.writeIntLE=function(Tr,Fr,Wr,sn){if(Tr=+Tr,Fr=Fr>>>0,!sn){const Io=Math.pow(2,8*Wr-1);Ir(this,Tr,Fr,Wr,Io-1,-Io)}let Jn=0,Nn=1,Zn=0;for(this[Fr]=Tr&255;++Jn<Wr&&(Nn*=256);)Tr<0&&Zn===0&&this[Fr+Jn-1]!==0&&(Zn=1),this[Fr+Jn]=(Tr/Nn>>0)-Zn&255;return Fr+Wr},Lt.prototype.writeIntBE=function(Tr,Fr,Wr,sn){if(Tr=+Tr,Fr=Fr>>>0,!sn){const Io=Math.pow(2,8*Wr-1);Ir(this,Tr,Fr,Wr,Io-1,-Io)}let Jn=Wr-1,Nn=1,Zn=0;for(this[Fr+Jn]=Tr&255;--Jn>=0&&(Nn*=256);)Tr<0&&Zn===0&&this[Fr+Jn+1]!==0&&(Zn=1),this[Fr+Jn]=(Tr/Nn>>0)-Zn&255;return Fr+Wr},Lt.prototype.writeInt8=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,1,127,-128),Tr<0&&(Tr=255+Tr+1),this[Fr]=Tr&255,Fr+1},Lt.prototype.writeInt16LE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,2,32767,-32768),this[Fr]=Tr&255,this[Fr+1]=Tr>>>8,Fr+2},Lt.prototype.writeInt16BE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,2,32767,-32768),this[Fr]=Tr>>>8,this[Fr+1]=Tr&255,Fr+2},Lt.prototype.writeInt32LE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,4,2147483647,-2147483648),this[Fr]=Tr&255,this[Fr+1]=Tr>>>8,this[Fr+2]=Tr>>>16,this[Fr+3]=Tr>>>24,Fr+4},Lt.prototype.writeInt32BE=function(Tr,Fr,Wr){return Tr=+Tr,Fr=Fr>>>0,Wr||Ir(this,Tr,Fr,4,2147483647,-2147483648),Tr<0&&(Tr=4294967295+Tr+1),this[Fr]=Tr>>>24,this[Fr+1]=Tr>>>16,this[Fr+2]=Tr>>>8,this[Fr+3]=Tr&255,Fr+4},Lt.prototype.writeBigInt64LE=_i(function(Tr,Fr=0){return Or(this,Tr,Fr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Lt.prototype.writeBigInt64BE=_i(function(Tr,Fr=0){return Ar(this,Tr,Fr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Nr(jr,Tr,Fr,Wr,sn,Jn){if(Fr+Wr>jr.length)throw new RangeError("Index out of range");if(Fr<0)throw new RangeError("Index out of range")}function Hr(jr,Tr,Fr,Wr,sn){return Tr=+Tr,Fr=Fr>>>0,sn||Nr(jr,Tr,Fr,4),at.write(jr,Tr,Fr,Wr,23,4),Fr+4}Lt.prototype.writeFloatLE=function(Tr,Fr,Wr){return Hr(this,Tr,Fr,!0,Wr)},Lt.prototype.writeFloatBE=function(Tr,Fr,Wr){return Hr(this,Tr,Fr,!1,Wr)};function Pr(jr,Tr,Fr,Wr,sn){return Tr=+Tr,Fr=Fr>>>0,sn||Nr(jr,Tr,Fr,8),at.write(jr,Tr,Fr,Wr,52,8),Fr+8}Lt.prototype.writeDoubleLE=function(Tr,Fr,Wr){return Pr(this,Tr,Fr,!0,Wr)},Lt.prototype.writeDoubleBE=function(Tr,Fr,Wr){return Pr(this,Tr,Fr,!1,Wr)},Lt.prototype.copy=function(Tr,Fr,Wr,sn){if(!Lt.isBuffer(Tr))throw new TypeError("argument should be a Buffer");if(Wr||(Wr=0),!sn&&sn!==0&&(sn=this.length),Fr>=Tr.length&&(Fr=Tr.length),Fr||(Fr=0),sn>0&&sn<Wr&&(sn=Wr),sn===Wr||Tr.length===0||this.length===0)return 0;if(Fr<0)throw new RangeError("targetStart out of bounds");if(Wr<0||Wr>=this.length)throw new RangeError("Index out of range");if(sn<0)throw new RangeError("sourceEnd out of bounds");sn>this.length&&(sn=this.length),Tr.length-Fr<sn-Wr&&(sn=Tr.length-Fr+Wr);const Jn=sn-Wr;return this===Tr&&typeof Ct.prototype.copyWithin=="function"?this.copyWithin(Fr,Wr,sn):Ct.prototype.set.call(Tr,this.subarray(Wr,sn),Fr),Jn},Lt.prototype.fill=function(Tr,Fr,Wr,sn){if(typeof Tr=="string"){if(typeof Fr=="string"?(sn=Fr,Fr=0,Wr=this.length):typeof Wr=="string"&&(sn=Wr,Wr=this.length),sn!==void 0&&typeof sn!="string")throw new TypeError("encoding must be a string");if(typeof sn=="string"&&!Lt.isEncoding(sn))throw new TypeError("Unknown encoding: "+sn);if(Tr.length===1){const Nn=Tr.charCodeAt(0);(sn==="utf8"&&Nn<128||sn==="latin1")&&(Tr=Nn)}}else typeof Tr=="number"?Tr=Tr&255:typeof Tr=="boolean"&&(Tr=Number(Tr));if(Fr<0||this.length<Fr||this.length<Wr)throw new RangeError("Out of range index");if(Wr<=Fr)return this;Fr=Fr>>>0,Wr=Wr===void 0?this.length:Wr>>>0,Tr||(Tr=0);let Jn;if(typeof Tr=="number")for(Jn=Fr;Jn<Wr;++Jn)this[Jn]=Tr;else{const Nn=Lt.isBuffer(Tr)?Tr:Lt.from(Tr,sn),Zn=Nn.length;if(Zn===0)throw new TypeError('The value "'+Tr+'" is invalid for argument "value"');for(Jn=0;Jn<Wr-Fr;++Jn)this[Jn+Fr]=Nn[Jn%Zn]}return this};const Dr={};function Rr(jr,Tr,Fr){Dr[jr]=class extends Fr{constructor(){super(),Object.defineProperty(this,"message",{value:Tr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${jr}]`,this.stack,delete this.name}get code(){return jr}set code(sn){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:sn,writable:!0})}toString(){return`${this.name} [${jr}]: ${this.message}`}}}Rr("ERR_BUFFER_OUT_OF_BOUNDS",function(jr){return jr?`${jr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Rr("ERR_INVALID_ARG_TYPE",function(jr,Tr){return`The "${jr}" argument must be of type number. Received type ${typeof Tr}`},TypeError),Rr("ERR_OUT_OF_RANGE",function(jr,Tr,Fr){let Wr=`The value of "${jr}" is out of range.`,sn=Fr;return Number.isInteger(Fr)&&Math.abs(Fr)>2**32?sn=Vr(String(Fr)):typeof Fr=="bigint"&&(sn=String(Fr),(Fr>BigInt(2)**BigInt(32)||Fr<-(BigInt(2)**BigInt(32)))&&(sn=Vr(sn)),sn+="n"),Wr+=` It must be ${Tr}. Received ${sn}`,Wr},RangeError);function Vr(jr){let Tr="",Fr=jr.length;const Wr=jr[0]==="-"?1:0;for(;Fr>=Wr+4;Fr-=3)Tr=`_${jr.slice(Fr-3,Fr)}${Tr}`;return`${jr.slice(0,Fr)}${Tr}`}function an(jr,Tr,Fr){Jr(Tr,"offset"),(jr[Tr]===void 0||jr[Tr+Fr]===void 0)&&Zr(Tr,jr.length-(Fr+1))}function Xr(jr,Tr,Fr,Wr,sn,Jn){if(jr>Fr||jr<Tr){const Nn=typeof Tr=="bigint"?"n":"";let Zn;throw Tr===0||Tr===BigInt(0)?Zn=`>= 0${Nn} and < 2${Nn} ** ${(Jn+1)*8}${Nn}`:Zn=`>= -(2${Nn} ** ${(Jn+1)*8-1}${Nn}) and < 2 ** ${(Jn+1)*8-1}${Nn}`,new Dr.ERR_OUT_OF_RANGE("value",Zn,jr)}an(Wr,sn,Jn)}function Jr(jr,Tr){if(typeof jr!="number")throw new Dr.ERR_INVALID_ARG_TYPE(Tr,"number",jr)}function Zr(jr,Tr,Fr){throw Math.floor(jr)!==jr?(Jr(jr,Fr),new Dr.ERR_OUT_OF_RANGE("offset","an integer",jr)):Tr<0?new Dr.ERR_BUFFER_OUT_OF_BOUNDS:new Dr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Tr}`,jr)}const Gr=/[^+/0-9A-Za-z-_]/g;function zr(jr){if(jr=jr.split("=")[0],jr=jr.trim().replace(Gr,""),jr.length<2)return"";for(;jr.length%4!==0;)jr=jr+"=";return jr}function Dn(jr,Tr){Tr=Tr||1/0;let Fr;const Wr=jr.length;let sn=null;const Jn=[];for(let Nn=0;Nn<Wr;++Nn){if(Fr=jr.charCodeAt(Nn),Fr>55295&&Fr<57344){if(!sn){if(Fr>56319){(Tr-=3)>-1&&Jn.push(239,191,189);continue}else if(Nn+1===Wr){(Tr-=3)>-1&&Jn.push(239,191,189);continue}sn=Fr;continue}if(Fr<56320){(Tr-=3)>-1&&Jn.push(239,191,189),sn=Fr;continue}Fr=(sn-55296<<10|Fr-56320)+65536}else sn&&(Tr-=3)>-1&&Jn.push(239,191,189);if(sn=null,Fr<128){if((Tr-=1)<0)break;Jn.push(Fr)}else if(Fr<2048){if((Tr-=2)<0)break;Jn.push(Fr>>6|192,Fr&63|128)}else if(Fr<65536){if((Tr-=3)<0)break;Jn.push(Fr>>12|224,Fr>>6&63|128,Fr&63|128)}else if(Fr<1114112){if((Tr-=4)<0)break;Jn.push(Fr>>18|240,Fr>>12&63|128,Fr>>6&63|128,Fr&63|128)}else throw new Error("Invalid code point")}return Jn}function Qr(jr){const Tr=[];for(let Fr=0;Fr<jr.length;++Fr)Tr.push(jr.charCodeAt(Fr)&255);return Tr}function Un(jr,Tr){let Fr,Wr,sn;const Jn=[];for(let Nn=0;Nn<jr.length&&!((Tr-=2)<0);++Nn)Fr=jr.charCodeAt(Nn),Wr=Fr>>8,sn=Fr%256,Jn.push(sn),Jn.push(Wr);return Jn}function ro(jr){return et.toByteArray(zr(jr))}function Hn(jr,Tr,Fr,Wr){let sn;for(sn=0;sn<Wr&&!(sn+Fr>=Tr.length||sn>=jr.length);++sn)Tr[sn+Fr]=jr[sn];return sn}function Qn(jr,Tr){return jr instanceof Tr||jr!=null&&jr.constructor!=null&&jr.constructor.name!=null&&jr.constructor.name===Tr.name}function $o(jr){return jr!==jr}const Kn=function(){const jr="0123456789abcdef",Tr=new Array(256);for(let Fr=0;Fr<16;++Fr){const Wr=Fr*16;for(let sn=0;sn<16;++sn)Tr[Wr+sn]=jr[Fr]+jr[sn]}return Tr}();function _i(jr){return typeof BigInt>"u"?Lo:jr}function Lo(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$1=buffer$1.Buffer,Blob$2=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File$1=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$1=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist$1=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$2,BlobOptions,Buffer:Buffer$1$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$1,default:Buffer$1,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(dist$1);var hasRequiredSafeBuffer$7;function requireSafeBuffer$7(){return hasRequiredSafeBuffer$7||(hasRequiredSafeBuffer$7=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer$7,safeBuffer$7.exports)),safeBuffer$7.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$e.exports;hasRequiredBrowser$b=1;var nt=65536,et=4294967295;function at(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var mt=requireSafeBuffer$7().Buffer,$t=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;$t&&$t.getRandomValues?browser$e.exports=Ct:browser$e.exports=at;function Ct(Dt,Ft){if(Dt>et)throw new RangeError("requested too many random bytes");var Nt=mt.allocUnsafe(Dt);if(Dt>0)if(Dt>nt)for(var jt=0;jt<Dt;jt+=nt)$t.getRandomValues(Nt.slice(jt,jt+nt));else $t.getRandomValues(Nt);return typeof Ft=="function"?process$1.nextTick(function(){Ft(null,Nt)}):Nt}return browser$e.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(et,at){at&&(et.super_=at,et.prototype=Object.create(at.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(et,at){if(at){et.super_=at;var mt=function(){};mt.prototype=at.prototype,et.prototype=new mt,et.prototype.constructor=et}}),inherits_browser.exports}var safeBuffer$6={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$6;function requireSafeBuffer$6(){return hasRequiredSafeBuffer$6||(hasRequiredSafeBuffer$6=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}Ct.prototype=Object.create(mt.prototype),$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer$6,safeBuffer$6.exports)),safeBuffer$6.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var nt=typeof Reflect=="object"?Reflect:null,et=nt&&typeof nt.apply=="function"?nt.apply:function(xr,Sr,Er){return Function.prototype.apply.call(xr,Sr,Er)},at;nt&&typeof nt.ownKeys=="function"?at=nt.ownKeys:Object.getOwnPropertySymbols?at=function(xr){return Object.getOwnPropertyNames(xr).concat(Object.getOwnPropertySymbols(xr))}:at=function(xr){return Object.getOwnPropertyNames(xr)};function mt(br){console&&console.warn&&console.warn(br)}var $t=Number.isNaN||function(xr){return xr!==xr};function Ct(){Ct.init.call(this)}events.exports=Ct,events.exports.once=pr,Ct.EventEmitter=Ct,Ct.prototype._events=void 0,Ct.prototype._eventsCount=0,Ct.prototype._maxListeners=void 0;var Dt=10;function Ft(br){if(typeof br!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof br)}Object.defineProperty(Ct,"defaultMaxListeners",{enumerable:!0,get:function(){return Dt},set:function(br){if(typeof br!="number"||br<0||$t(br))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+br+".");Dt=br}}),Ct.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ct.prototype.setMaxListeners=function(xr){if(typeof xr!="number"||xr<0||$t(xr))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+xr+".");return this._maxListeners=xr,this};function Nt(br){return br._maxListeners===void 0?Ct.defaultMaxListeners:br._maxListeners}Ct.prototype.getMaxListeners=function(){return Nt(this)},Ct.prototype.emit=function(xr){for(var Sr=[],Er=1;Er<arguments.length;Er++)Sr.push(arguments[Er]);var $r=xr==="error",Cr=this._events;if(Cr!==void 0)$r=$r&&Cr.error===void 0;else if(!$r)return!1;if($r){var kr;if(Sr.length>0&&(kr=Sr[0]),kr instanceof Error)throw kr;var gr=new Error("Unhandled error."+(kr?" ("+kr.message+")":""));throw gr.context=kr,gr}var Ut=Cr[xr];if(Ut===void 0)return!1;if(typeof Ut=="function")et(Ut,this,Sr);else for(var tr=Ut.length,nr=or(Ut,tr),Er=0;Er<tr;++Er)et(nr[Er],this,Sr);return!0};function jt(br,xr,Sr,Er){var $r,Cr,kr;if(Ft(Sr),Cr=br._events,Cr===void 0?(Cr=br._events=Object.create(null),br._eventsCount=0):(Cr.newListener!==void 0&&(br.emit("newListener",xr,Sr.listener?Sr.listener:Sr),Cr=br._events),kr=Cr[xr]),kr===void 0)kr=Cr[xr]=Sr,++br._eventsCount;else if(typeof kr=="function"?kr=Cr[xr]=Er?[Sr,kr]:[kr,Sr]:Er?kr.unshift(Sr):kr.push(Sr),$r=Nt(br),$r>0&&kr.length>$r&&!kr.warned){kr.warned=!0;var gr=new Error("Possible EventEmitter memory leak detected. "+kr.length+" "+String(xr)+" listeners added. Use emitter.setMaxListeners() to increase limit");gr.name="MaxListenersExceededWarning",gr.emitter=br,gr.type=xr,gr.count=kr.length,mt(gr)}return br}Ct.prototype.addListener=function(xr,Sr){return jt(this,xr,Sr,!1)},Ct.prototype.on=Ct.prototype.addListener,Ct.prototype.prependListener=function(xr,Sr){return jt(this,xr,Sr,!0)};function Lt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Vt(br,xr,Sr){var Er={fired:!1,wrapFn:void 0,target:br,type:xr,listener:Sr},$r=Lt.bind(Er);return $r.listener=Sr,Er.wrapFn=$r,$r}Ct.prototype.once=function(xr,Sr){return Ft(Sr),this.on(xr,Vt(this,xr,Sr)),this},Ct.prototype.prependOnceListener=function(xr,Sr){return Ft(Sr),this.prependListener(xr,Vt(this,xr,Sr)),this},Ct.prototype.removeListener=function(xr,Sr){var Er,$r,Cr,kr,gr;if(Ft(Sr),$r=this._events,$r===void 0)return this;if(Er=$r[xr],Er===void 0)return this;if(Er===Sr||Er.listener===Sr)--this._eventsCount===0?this._events=Object.create(null):(delete $r[xr],$r.removeListener&&this.emit("removeListener",xr,Er.listener||Sr));else if(typeof Er!="function"){for(Cr=-1,kr=Er.length-1;kr>=0;kr--)if(Er[kr]===Sr||Er[kr].listener===Sr){gr=Er[kr].listener,Cr=kr;break}if(Cr<0)return this;Cr===0?Er.shift():lr(Er,Cr),Er.length===1&&($r[xr]=Er[0]),$r.removeListener!==void 0&&this.emit("removeListener",xr,gr||Sr)}return this},Ct.prototype.off=Ct.prototype.removeListener,Ct.prototype.removeAllListeners=function(xr){var Sr,Er,$r;if(Er=this._events,Er===void 0)return this;if(Er.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Er[xr]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Er[xr]),this;if(arguments.length===0){var Cr=Object.keys(Er),kr;for($r=0;$r<Cr.length;++$r)kr=Cr[$r],kr!=="removeListener"&&this.removeAllListeners(kr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Sr=Er[xr],typeof Sr=="function")this.removeListener(xr,Sr);else if(Sr!==void 0)for($r=Sr.length-1;$r>=0;$r--)this.removeListener(xr,Sr[$r]);return this};function er(br,xr,Sr){var Er=br._events;if(Er===void 0)return[];var $r=Er[xr];return $r===void 0?[]:typeof $r=="function"?Sr?[$r.listener||$r]:[$r]:Sr?dr($r):or($r,$r.length)}Ct.prototype.listeners=function(xr){return er(this,xr,!0)},Ct.prototype.rawListeners=function(xr){return er(this,xr,!1)},Ct.listenerCount=function(br,xr){return typeof br.listenerCount=="function"?br.listenerCount(xr):ir.call(br,xr)},Ct.prototype.listenerCount=ir;function ir(br){var xr=this._events;if(xr!==void 0){var Sr=xr[br];if(typeof Sr=="function")return 1;if(Sr!==void 0)return Sr.length}return 0}Ct.prototype.eventNames=function(){return this._eventsCount>0?at(this._events):[]};function or(br,xr){for(var Sr=new Array(xr),Er=0;Er<xr;++Er)Sr[Er]=br[Er];return Sr}function lr(br,xr){for(;xr+1<br.length;xr++)br[xr]=br[xr+1];br.pop()}function dr(br){for(var xr=new Array(br.length),Sr=0;Sr<xr.length;++Sr)xr[Sr]=br[Sr].listener||br[Sr];return xr}function pr(br,xr){return new Promise(function(Sr,Er){function $r(kr){br.removeListener(xr,Cr),Er(kr)}function Cr(){typeof br.removeListener=="function"&&br.removeListener("error",$r),Sr([].slice.call(arguments))}vr(br,xr,Cr,{once:!0}),xr!=="error"&&hr(br,$r,{once:!0})})}function hr(br,xr,Sr){typeof br.on=="function"&&vr(br,"error",xr,Sr)}function vr(br,xr,Sr,Er){if(typeof br.on=="function")Er.once?br.once(xr,Sr):br.on(xr,Sr);else if(typeof br.addEventListener=="function")br.addEventListener(xr,function $r(Cr){Er.once&&br.removeEventListener(xr,$r),Sr(Cr)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof br)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$4={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var et={},at=Symbol("test"),mt=Object(at);if(typeof at=="string"||Object.prototype.toString.call(at)!=="[object Symbol]"||Object.prototype.toString.call(mt)!=="[object Symbol]")return!1;var $t=42;et[at]=$t;for(var Ct in et)return!1;if(typeof Object.keys=="function"&&Object.keys(et).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(et).length!==0)return!1;var Dt=Object.getOwnPropertySymbols(et);if(Dt.length!==1||Dt[0]!==at||!Object.prototype.propertyIsEnumerable.call(et,at))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var Ft=Object.getOwnPropertyDescriptor(et,at);if(Ft.value!==$t||Ft.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var nt=requireShams$1();return shams=function(){return nt()&&!!Symbol.toStringTag},shams}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var nt=requireGOPD();if(nt)try{nt([],"length")}catch{nt=null}return gopd=nt,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var nt=Object.defineProperty||!1;if(nt)try{nt({},"a",{value:1})}catch{nt=!1}return esDefineProperty=nt,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var nt=typeof Symbol<"u"&&Symbol,et=requireShams$1();return hasSymbols=function(){return typeof nt!="function"||typeof Symbol!="function"||typeof nt("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:et()},hasSymbols}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var nt="Function.prototype.bind called on incompatible ",et=Object.prototype.toString,at=Math.max,mt="[object Function]",$t=function(Nt,jt){for(var Lt=[],Vt=0;Vt<Nt.length;Vt+=1)Lt[Vt]=Nt[Vt];for(var er=0;er<jt.length;er+=1)Lt[er+Nt.length]=jt[er];return Lt},Ct=function(Nt,jt){for(var Lt=[],Vt=jt,er=0;Vt<Nt.length;Vt+=1,er+=1)Lt[er]=Nt[Vt];return Lt},Dt=function(Ft,Nt){for(var jt="",Lt=0;Lt<Ft.length;Lt+=1)jt+=Ft[Lt],Lt+1<Ft.length&&(jt+=Nt);return jt};return implementation=function(Nt){var jt=this;if(typeof jt!="function"||et.apply(jt)!==mt)throw new TypeError(nt+jt);for(var Lt=Ct(arguments,1),Vt,er=function(){if(this instanceof Vt){var pr=jt.apply(this,$t(Lt,arguments));return Object(pr)===pr?pr:this}return jt.apply(Nt,$t(Lt,arguments))},ir=at(0,jt.length-Lt.length),or=[],lr=0;lr<ir;lr++)or[lr]="$"+lr;if(Vt=Function("binder","return function ("+Dt(or,",")+"){ return binder.apply(this,arguments); }")(er),jt.prototype){var dr=function(){};dr.prototype=jt.prototype,Vt.prototype=new dr,dr.prototype=null}return Vt},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var nt=requireImplementation();return functionBind=Function.prototype.bind||nt,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var nt=requireFunctionBind(),et=requireFunctionApply(),at=requireFunctionCall(),mt=requireReflectApply();return actualApply=mt||nt.call(at,et),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var nt=requireFunctionBind(),et=requireType(),at=requireFunctionCall(),mt=requireActualApply();return callBindApplyHelpers=function(Ct){if(Ct.length<1||typeof Ct[0]!="function")throw new et("a function is required");return mt(nt,at,Ct)},callBindApplyHelpers}var get$5,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$5;hasRequiredGet=1;var nt=requireCallBindApplyHelpers(),et=requireGopd(),at=[].__proto__===Array.prototype,mt=at&&et&&et(Object.prototype,"__proto__"),$t=Object,Ct=$t.getPrototypeOf;return get$5=mt&&typeof mt.get=="function"?nt([mt.get]):typeof Ct=="function"?function(Ft){return Ct(Ft==null?Ft:$t(Ft))}:!1,get$5}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var nt=Function.prototype.call,et=Object.prototype.hasOwnProperty,at=requireFunctionBind();return hasown=at.call(nt,et),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var nt,et=requireEsErrors(),at=require_eval(),mt=requireRange(),$t=requireRef(),Ct=requireSyntax(),Dt=requireType(),Ft=requireUri(),Nt=Function,jt=function(Yt){try{return Nt('"use strict"; return ('+Yt+").constructor;")()}catch{}},Lt=requireGopd(),Vt=requireEsDefineProperty(),er=function(){throw new Dt},ir=Lt?function(){try{return arguments.callee,er}catch{try{return Lt(arguments,"callee").get}catch{return er}}}():er,or=requireHasSymbols()(),lr=requireGet(),dr=typeof Reflect=="function"&&Reflect.getPrototypeOf||Object.getPrototypeOf||lr,pr=requireFunctionApply(),hr=requireFunctionCall(),vr={},br=typeof Uint8Array>"u"||!dr?nt:dr(Uint8Array),xr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?nt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?nt:ArrayBuffer,"%ArrayIteratorPrototype%":or&&dr?dr([][Symbol.iterator]()):nt,"%AsyncFromSyncIteratorPrototype%":nt,"%AsyncFunction%":vr,"%AsyncGenerator%":vr,"%AsyncGeneratorFunction%":vr,"%AsyncIteratorPrototype%":vr,"%Atomics%":typeof Atomics>"u"?nt:Atomics,"%BigInt%":typeof BigInt>"u"?nt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?nt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?nt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?nt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":et,"%eval%":eval,"%EvalError%":at,"%Float32Array%":typeof Float32Array>"u"?nt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?nt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?nt:FinalizationRegistry,"%Function%":Nt,"%GeneratorFunction%":vr,"%Int8Array%":typeof Int8Array>"u"?nt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?nt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?nt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":or&&dr?dr(dr([][Symbol.iterator]())):nt,"%JSON%":typeof JSON=="object"?JSON:nt,"%Map%":typeof Map>"u"?nt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!or||!dr?nt:dr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%Object.getOwnPropertyDescriptor%":Lt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?nt:Promise,"%Proxy%":typeof Proxy>"u"?nt:Proxy,"%RangeError%":mt,"%ReferenceError%":$t,"%Reflect%":typeof Reflect>"u"?nt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?nt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!or||!dr?nt:dr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?nt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":or&&dr?dr(""[Symbol.iterator]()):nt,"%Symbol%":or?Symbol:nt,"%SyntaxError%":Ct,"%ThrowTypeError%":ir,"%TypedArray%":br,"%TypeError%":Dt,"%Uint8Array%":typeof Uint8Array>"u"?nt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?nt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?nt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?nt:Uint32Array,"%URIError%":Ft,"%WeakMap%":typeof WeakMap>"u"?nt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?nt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?nt:WeakSet,"%Function.prototype.call%":hr,"%Function.prototype.apply%":pr,"%Object.defineProperty%":Vt};if(dr)try{null.error}catch(Yt){var Sr=dr(dr(Yt));xr["%Error.prototype%"]=Sr}var Er=function Yt(ur){var _r;if(ur==="%AsyncFunction%")_r=jt("async function () {}");else if(ur==="%GeneratorFunction%")_r=jt("function* () {}");else if(ur==="%AsyncGeneratorFunction%")_r=jt("async function* () {}");else if(ur==="%AsyncGenerator%"){var yr=Yt("%AsyncGeneratorFunction%");yr&&(_r=yr.prototype)}else if(ur==="%AsyncIteratorPrototype%"){var wr=Yt("%AsyncGenerator%");wr&&dr&&(_r=dr(wr.prototype))}return xr[ur]=_r,_r},$r={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cr=requireFunctionBind(),kr=requireHasown(),gr=Cr.call(hr,Array.prototype.concat),Ut=Cr.call(pr,Array.prototype.splice),tr=Cr.call(hr,String.prototype.replace),nr=Cr.call(hr,String.prototype.slice),rr=Cr.call(hr,RegExp.prototype.exec),ar=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,cr=/\\(\\)?/g,fr=function(ur){var _r=nr(ur,0,1),yr=nr(ur,-1);if(_r==="%"&&yr!=="%")throw new Ct("invalid intrinsic syntax, expected closing `%`");if(yr==="%"&&_r!=="%")throw new Ct("invalid intrinsic syntax, expected opening `%`");var wr=[];return tr(ur,ar,function(Ir,Or,Ar,Nr){wr[wr.length]=Ar?tr(Nr,cr,"$1"):Or||Ir}),wr},sr=function(ur,_r){var yr=ur,wr;if(kr($r,yr)&&(wr=$r[yr],yr="%"+wr[0]+"%"),kr(xr,yr)){var Ir=xr[yr];if(Ir===vr&&(Ir=Er(yr)),typeof Ir>"u"&&!_r)throw new Dt("intrinsic "+ur+" exists, but is not available. Please file an issue!");return{alias:wr,name:yr,value:Ir}}throw new Ct("intrinsic "+ur+" does not exist!")};return getIntrinsic=function(ur,_r){if(typeof ur!="string"||ur.length===0)throw new Dt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _r!="boolean")throw new Dt('"allowMissing" argument must be a boolean');if(rr(/^%?[^%]*%?$/,ur)===null)throw new Ct("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var yr=fr(ur),wr=yr.length>0?yr[0]:"",Ir=sr("%"+wr+"%",_r),Or=Ir.name,Ar=Ir.value,Nr=!1,Hr=Ir.alias;Hr&&(wr=Hr[0],Ut(yr,gr([0,1],Hr)));for(var Pr=1,Dr=!0;Pr<yr.length;Pr+=1){var Rr=yr[Pr],Vr=nr(Rr,0,1),an=nr(Rr,-1);if((Vr==='"'||Vr==="'"||Vr==="`"||an==='"'||an==="'"||an==="`")&&Vr!==an)throw new Ct("property names with quotes must have matching quotes");if((Rr==="constructor"||!Dr)&&(Nr=!0),wr+="."+Rr,Or="%"+wr+"%",kr(xr,Or))Ar=xr[Or];else if(Ar!=null){if(!(Rr in Ar)){if(!_r)throw new Dt("base intrinsic for "+ur+" exists, but the property is not available.");return}if(Lt&&Pr+1>=yr.length){var Xr=Lt(Ar,Rr);Dr=!!Xr,Dr&&"get"in Xr&&!("originalValue"in Xr.get)?Ar=Xr.get:Ar=Ar[Rr]}else Dr=kr(Ar,Rr),Ar=Ar[Rr];Dr&&!Nr&&(xr[Or]=Ar)}}return Ar},getIntrinsic}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var nt=requireEsDefineProperty(),et=requireSyntax(),at=requireType(),mt=requireGopd();return defineDataProperty=function(Ct,Dt,Ft){if(!Ct||typeof Ct!="object"&&typeof Ct!="function")throw new at("`obj` must be an object or a function`");if(typeof Dt!="string"&&typeof Dt!="symbol")throw new at("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new at("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new at("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new at("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new at("`loose`, if provided, must be a boolean");var Nt=arguments.length>3?arguments[3]:null,jt=arguments.length>4?arguments[4]:null,Lt=arguments.length>5?arguments[5]:null,Vt=arguments.length>6?arguments[6]:!1,er=!!mt&&mt(Ct,Dt);if(nt)nt(Ct,Dt,{configurable:Lt===null&&er?er.configurable:!Lt,enumerable:Nt===null&&er?er.enumerable:!Nt,value:Ft,writable:jt===null&&er?er.writable:!jt});else if(Vt||!Nt&&!jt&&!Lt)Ct[Dt]=Ft;else throw new et("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var nt=requireEsDefineProperty(),et=function(){return!!nt};return et.hasArrayLengthDefineBug=function(){if(!nt)return null;try{return nt([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=et,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var nt=requireGetIntrinsic(),et=requireDefineDataProperty(),at=requireHasPropertyDescriptors()(),mt=requireGopd(),$t=requireType(),Ct=nt("%Math.floor%");return setFunctionLength=function(Ft,Nt){if(typeof Ft!="function")throw new $t("`fn` is not a function");if(typeof Nt!="number"||Nt<0||Nt>4294967295||Ct(Nt)!==Nt)throw new $t("`length` must be a positive 32-bit integer");var jt=arguments.length>2&&!!arguments[2],Lt=!0,Vt=!0;if("length"in Ft&&mt){var er=mt(Ft,"length");er&&!er.configurable&&(Lt=!1),er&&!er.writable&&(Vt=!1)}return(Lt||Vt||!jt)&&(at?et(Ft,"length",Nt,!0,!0):et(Ft,"length",Nt)),Ft},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var nt=requireFunctionBind(),et=requireFunctionApply(),at=requireActualApply();return applyBind=function(){return at(nt,et,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(nt){var et=requireSetFunctionLength(),at=requireEsDefineProperty(),mt=requireCallBindApplyHelpers(),$t=requireApplyBind();nt.exports=function(Dt){var Ft=mt(arguments),Nt=Dt.length-(arguments.length-1);return et(Ft,1+(Nt>0?Nt:0),!0)},at?at(nt.exports,"apply",{value:$t}):nt.exports.apply=$t}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var nt=requireGetIntrinsic(),et=requireCallBind(),at=et(nt("String.prototype.indexOf"));return callBound=function($t,Ct){var Dt=nt($t,!!Ct);return typeof Dt=="function"&&at($t,".prototype.")>-1?et(Dt):Dt},callBound}var isArguments$1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$1;hasRequiredIsArguments=1;var nt=requireShams()(),et=requireCallBound(),at=et("Object.prototype.toString"),mt=function(Ft){return nt&&Ft&&typeof Ft=="object"&&Symbol.toStringTag in Ft?!1:at(Ft)==="[object Arguments]"},$t=function(Ft){return mt(Ft)?!0:Ft!==null&&typeof Ft=="object"&&typeof Ft.length=="number"&&Ft.length>=0&&at(Ft)!=="[object Array]"&&at(Ft.callee)==="[object Function]"},Ct=function(){return mt(arguments)}();return mt.isLegacyArguments=$t,isArguments$1=Ct?mt:$t,isArguments$1}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var nt=Object.prototype.toString,et=Function.prototype.toString,at=/^\s*(?:function)?\*/,mt=requireShams()(),$t=Object.getPrototypeOf,Ct=function(){if(!mt)return!1;try{return Function("return function*() {}")()}catch{}},Dt;return isGeneratorFunction=function(Nt){if(typeof Nt!="function")return!1;if(at.test(et.call(Nt)))return!0;if(!mt){var jt=nt.call(Nt);return jt==="[object GeneratorFunction]"}if(!$t)return!1;if(typeof Dt>"u"){var Lt=Ct();Dt=Lt?$t(Lt):!1}return $t(Nt)===Dt},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var nt=Function.prototype.toString,et=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,at,mt;if(typeof et=="function"&&typeof Object.defineProperty=="function")try{at=Object.defineProperty({},"length",{get:function(){throw mt}}),mt={},et(function(){throw 42},null,at)}catch(hr){hr!==mt&&(et=null)}else et=null;var $t=/^\s*class\b/,Ct=function(vr){try{var br=nt.call(vr);return $t.test(br)}catch{return!1}},Dt=function(vr){try{return Ct(vr)?!1:(nt.call(vr),!0)}catch{return!1}},Ft=Object.prototype.toString,Nt="[object Object]",jt="[object Function]",Lt="[object GeneratorFunction]",Vt="[object HTMLAllCollection]",er="[object HTML document.all class]",ir="[object HTMLCollection]",or=typeof Symbol=="function"&&!!Symbol.toStringTag,lr=!(0 in[,]),dr=function(){return!1};if(typeof document=="object"){var pr=document.all;Ft.call(pr)===Ft.call(document.all)&&(dr=function(vr){if((lr||!vr)&&(typeof vr>"u"||typeof vr=="object"))try{var br=Ft.call(vr);return(br===Vt||br===er||br===ir||br===Nt)&&vr("")==null}catch{}return!1})}return isCallable=et?function(vr){if(dr(vr))return!0;if(!vr||typeof vr!="function"&&typeof vr!="object")return!1;try{et(vr,null,at)}catch(br){if(br!==mt)return!1}return!Ct(vr)&&Dt(vr)}:function(vr){if(dr(vr))return!0;if(!vr||typeof vr!="function"&&typeof vr!="object")return!1;if(or)return Dt(vr);if(Ct(vr))return!1;var br=Ft.call(vr);return br!==jt&&br!==Lt&&!/^\[object HTML/.test(br)?!1:Dt(vr)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var nt=requireIsCallable(),et=Object.prototype.toString,at=Object.prototype.hasOwnProperty,mt=function(Nt,jt,Lt){for(var Vt=0,er=Nt.length;Vt<er;Vt++)at.call(Nt,Vt)&&(Lt==null?jt(Nt[Vt],Vt,Nt):jt.call(Lt,Nt[Vt],Vt,Nt))},$t=function(Nt,jt,Lt){for(var Vt=0,er=Nt.length;Vt<er;Vt++)Lt==null?jt(Nt.charAt(Vt),Vt,Nt):jt.call(Lt,Nt.charAt(Vt),Vt,Nt)},Ct=function(Nt,jt,Lt){for(var Vt in Nt)at.call(Nt,Vt)&&(Lt==null?jt(Nt[Vt],Vt,Nt):jt.call(Lt,Nt[Vt],Vt,Nt))},Dt=function(Nt,jt,Lt){if(!nt(jt))throw new TypeError("iterator must be a function");var Vt;arguments.length>=3&&(Vt=Lt),et.call(Nt)==="[object Array]"?mt(Nt,jt,Vt):typeof Nt=="string"?$t(Nt,jt,Vt):Ct(Nt,jt,Vt)};return forEach_1=Dt,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var nt=requirePossibleTypedArrayNames(),et=typeof globalThis>"u"?commonjsGlobal$1:globalThis;return availableTypedArrays=function(){for(var mt=[],$t=0;$t<nt.length;$t++)typeof et[nt[$t]]=="function"&&(mt[mt.length]=nt[$t]);return mt},availableTypedArrays}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var nt=requireForEach(),et=requireAvailableTypedArrays(),at=requireCallBind(),mt=requireCallBound(),$t=requireGopd(),Ct=mt("Object.prototype.toString"),Dt=requireShams()(),Ft=typeof globalThis>"u"?commonjsGlobal$1:globalThis,Nt=et(),jt=mt("String.prototype.slice"),Lt=Object.getPrototypeOf,Vt=mt("Array.prototype.indexOf",!0)||function(dr,pr){for(var hr=0;hr<dr.length;hr+=1)if(dr[hr]===pr)return hr;return-1},er={__proto__:null};Dt&&$t&&Lt?nt(Nt,function(lr){var dr=new Ft[lr];if(Symbol.toStringTag in dr){var pr=Lt(dr),hr=$t(pr,Symbol.toStringTag);if(!hr){var vr=Lt(pr);hr=$t(vr,Symbol.toStringTag)}er["$"+lr]=at(hr.get)}}):nt(Nt,function(lr){var dr=new Ft[lr],pr=dr.slice||dr.set;pr&&(er["$"+lr]=at(pr))});var ir=function(dr){var pr=!1;return nt(er,function(hr,vr){if(!pr)try{"$"+hr(dr)===vr&&(pr=jt(vr,1))}catch{}}),pr},or=function(dr){var pr=!1;return nt(er,function(hr,vr){if(!pr)try{hr(dr),pr=jt(vr,1)}catch{}}),pr};return whichTypedArray=function(dr){if(!dr||typeof dr!="object")return!1;if(!Dt){var pr=jt(Ct(dr),8,-1);return Vt(Nt,pr)>-1?pr:pr!=="Object"?!1:or(dr)}return $t?ir(dr):null},whichTypedArray}var isTypedArray$2,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$2;hasRequiredIsTypedArray=1;var nt=requireWhichTypedArray();return isTypedArray$2=function(at){return!!nt(at)},isTypedArray$2}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(nt){var et=requireIsArguments(),at=requireIsGeneratorFunction(),mt=requireWhichTypedArray(),$t=requireIsTypedArray();function Ct(zr){return zr.call.bind(zr)}var Dt=typeof BigInt<"u",Ft=typeof Symbol<"u",Nt=Ct(Object.prototype.toString),jt=Ct(Number.prototype.valueOf),Lt=Ct(String.prototype.valueOf),Vt=Ct(Boolean.prototype.valueOf);if(Dt)var er=Ct(BigInt.prototype.valueOf);if(Ft)var ir=Ct(Symbol.prototype.valueOf);function or(zr,Dn){if(typeof zr!="object")return!1;try{return Dn(zr),!0}catch{return!1}}nt.isArgumentsObject=et,nt.isGeneratorFunction=at,nt.isTypedArray=$t;function lr(zr){return typeof Promise<"u"&&zr instanceof Promise||zr!==null&&typeof zr=="object"&&typeof zr.then=="function"&&typeof zr.catch=="function"}nt.isPromise=lr;function dr(zr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(zr):$t(zr)||yr(zr)}nt.isArrayBufferView=dr;function pr(zr){return mt(zr)==="Uint8Array"}nt.isUint8Array=pr;function hr(zr){return mt(zr)==="Uint8ClampedArray"}nt.isUint8ClampedArray=hr;function vr(zr){return mt(zr)==="Uint16Array"}nt.isUint16Array=vr;function br(zr){return mt(zr)==="Uint32Array"}nt.isUint32Array=br;function xr(zr){return mt(zr)==="Int8Array"}nt.isInt8Array=xr;function Sr(zr){return mt(zr)==="Int16Array"}nt.isInt16Array=Sr;function Er(zr){return mt(zr)==="Int32Array"}nt.isInt32Array=Er;function $r(zr){return mt(zr)==="Float32Array"}nt.isFloat32Array=$r;function Cr(zr){return mt(zr)==="Float64Array"}nt.isFloat64Array=Cr;function kr(zr){return mt(zr)==="BigInt64Array"}nt.isBigInt64Array=kr;function gr(zr){return mt(zr)==="BigUint64Array"}nt.isBigUint64Array=gr;function Ut(zr){return Nt(zr)==="[object Map]"}Ut.working=typeof Map<"u"&&Ut(new Map);function tr(zr){return typeof Map>"u"?!1:Ut.working?Ut(zr):zr instanceof Map}nt.isMap=tr;function nr(zr){return Nt(zr)==="[object Set]"}nr.working=typeof Set<"u"&&nr(new Set);function rr(zr){return typeof Set>"u"?!1:nr.working?nr(zr):zr instanceof Set}nt.isSet=rr;function ar(zr){return Nt(zr)==="[object WeakMap]"}ar.working=typeof WeakMap<"u"&&ar(new WeakMap);function cr(zr){return typeof WeakMap>"u"?!1:ar.working?ar(zr):zr instanceof WeakMap}nt.isWeakMap=cr;function fr(zr){return Nt(zr)==="[object WeakSet]"}fr.working=typeof WeakSet<"u"&&fr(new WeakSet);function sr(zr){return fr(zr)}nt.isWeakSet=sr;function Yt(zr){return Nt(zr)==="[object ArrayBuffer]"}Yt.working=typeof ArrayBuffer<"u"&&Yt(new ArrayBuffer);function ur(zr){return typeof ArrayBuffer>"u"?!1:Yt.working?Yt(zr):zr instanceof ArrayBuffer}nt.isArrayBuffer=ur;function _r(zr){return Nt(zr)==="[object DataView]"}_r.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_r(new DataView(new ArrayBuffer(1),0,1));function yr(zr){return typeof DataView>"u"?!1:_r.working?_r(zr):zr instanceof DataView}nt.isDataView=yr;var wr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ir(zr){return Nt(zr)==="[object SharedArrayBuffer]"}function Or(zr){return typeof wr>"u"?!1:(typeof Ir.working>"u"&&(Ir.working=Ir(new wr)),Ir.working?Ir(zr):zr instanceof wr)}nt.isSharedArrayBuffer=Or;function Ar(zr){return Nt(zr)==="[object AsyncFunction]"}nt.isAsyncFunction=Ar;function Nr(zr){return Nt(zr)==="[object Map Iterator]"}nt.isMapIterator=Nr;function Hr(zr){return Nt(zr)==="[object Set Iterator]"}nt.isSetIterator=Hr;function Pr(zr){return Nt(zr)==="[object Generator]"}nt.isGeneratorObject=Pr;function Dr(zr){return Nt(zr)==="[object WebAssembly.Module]"}nt.isWebAssemblyCompiledModule=Dr;function Rr(zr){return or(zr,jt)}nt.isNumberObject=Rr;function Vr(zr){return or(zr,Lt)}nt.isStringObject=Vr;function an(zr){return or(zr,Vt)}nt.isBooleanObject=an;function Xr(zr){return Dt&&or(zr,er)}nt.isBigIntObject=Xr;function Jr(zr){return Ft&&or(zr,ir)}nt.isSymbolObject=Jr;function Zr(zr){return Rr(zr)||Vr(zr)||an(zr)||Xr(zr)||Jr(zr)}nt.isBoxedPrimitive=Zr;function Gr(zr){return typeof Uint8Array<"u"&&(ur(zr)||Or(zr))}nt.isAnyArrayBuffer=Gr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(zr){Object.defineProperty(nt,zr,{enumerable:!1,value:function(){throw new Error(zr+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(et){return et&&typeof et=="object"&&typeof et.copy=="function"&&typeof et.fill=="function"&&typeof et.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(nt){var et={},at=Object.getOwnPropertyDescriptors||function(wr){for(var Ir=Object.keys(wr),Or={},Ar=0;Ar<Ir.length;Ar++)Or[Ir[Ar]]=Object.getOwnPropertyDescriptor(wr,Ir[Ar]);return Or},mt=/%[sdj%]/g;nt.format=function(yr){if(!Sr(yr)){for(var wr=[],Ir=0;Ir<arguments.length;Ir++)wr.push(Ft(arguments[Ir]));return wr.join(" ")}for(var Ir=1,Or=arguments,Ar=Or.length,Nr=String(yr).replace(mt,function(Pr){if(Pr==="%%")return"%";if(Ir>=Ar)return Pr;switch(Pr){case"%s":return String(Or[Ir++]);case"%d":return Number(Or[Ir++]);case"%j":try{return JSON.stringify(Or[Ir++])}catch{return"[Circular]"}default:return Pr}}),Hr=Or[Ir];Ir<Ar;Hr=Or[++Ir])vr(Hr)||!kr(Hr)?Nr+=" "+Hr:Nr+=" "+Ft(Hr);return Nr},nt.deprecate=function(yr,wr){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return yr;if(typeof process$1>"u")return function(){return nt.deprecate(yr,wr).apply(this,arguments)};var Ir=!1;function Or(){if(!Ir){if(process$1.throwDeprecation)throw new Error(wr);process$1.traceDeprecation?console.trace(wr):console.error(wr),Ir=!0}return yr.apply(this,arguments)}return Or};var $t={},Ct=/^$/;if(et.NODE_DEBUG){var Dt=et.NODE_DEBUG;Dt=Dt.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Ct=new RegExp("^"+Dt+"$","i")}nt.debuglog=function(yr){if(yr=yr.toUpperCase(),!$t[yr])if(Ct.test(yr)){var wr=process$1.pid;$t[yr]=function(){var Ir=nt.format.apply(nt,arguments);console.error("%s %d: %s",yr,wr,Ir)}}else $t[yr]=function(){};return $t[yr]};function Ft(yr,wr){var Ir={seen:[],stylize:jt};return arguments.length>=3&&(Ir.depth=arguments[2]),arguments.length>=4&&(Ir.colors=arguments[3]),hr(wr)?Ir.showHidden=wr:wr&&nt._extend(Ir,wr),$r(Ir.showHidden)&&(Ir.showHidden=!1),$r(Ir.depth)&&(Ir.depth=2),$r(Ir.colors)&&(Ir.colors=!1),$r(Ir.customInspect)&&(Ir.customInspect=!0),Ir.colors&&(Ir.stylize=Nt),Vt(Ir,yr,Ir.depth)}nt.inspect=Ft,Ft.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Ft.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Nt(yr,wr){var Ir=Ft.styles[wr];return Ir?"\x1B["+Ft.colors[Ir][0]+"m"+yr+"\x1B["+Ft.colors[Ir][1]+"m":yr}function jt(yr,wr){return yr}function Lt(yr){var wr={};return yr.forEach(function(Ir,Or){wr[Ir]=!0}),wr}function Vt(yr,wr,Ir){if(yr.customInspect&&wr&&tr(wr.inspect)&&wr.inspect!==nt.inspect&&!(wr.constructor&&wr.constructor.prototype===wr)){var Or=wr.inspect(Ir,yr);return Sr(Or)||(Or=Vt(yr,Or,Ir)),Or}var Ar=er(yr,wr);if(Ar)return Ar;var Nr=Object.keys(wr),Hr=Lt(Nr);if(yr.showHidden&&(Nr=Object.getOwnPropertyNames(wr)),Ut(wr)&&(Nr.indexOf("message")>=0||Nr.indexOf("description")>=0))return ir(wr);if(Nr.length===0){if(tr(wr)){var Pr=wr.name?": "+wr.name:"";return yr.stylize("[Function"+Pr+"]","special")}if(Cr(wr))return yr.stylize(RegExp.prototype.toString.call(wr),"regexp");if(gr(wr))return yr.stylize(Date.prototype.toString.call(wr),"date");if(Ut(wr))return ir(wr)}var Dr="",Rr=!1,Vr=["{","}"];if(pr(wr)&&(Rr=!0,Vr=["[","]"]),tr(wr)){var an=wr.name?": "+wr.name:"";Dr=" [Function"+an+"]"}if(Cr(wr)&&(Dr=" "+RegExp.prototype.toString.call(wr)),gr(wr)&&(Dr=" "+Date.prototype.toUTCString.call(wr)),Ut(wr)&&(Dr=" "+ir(wr)),Nr.length===0&&(!Rr||wr.length==0))return Vr[0]+Dr+Vr[1];if(Ir<0)return Cr(wr)?yr.stylize(RegExp.prototype.toString.call(wr),"regexp"):yr.stylize("[Object]","special");yr.seen.push(wr);var Xr;return Rr?Xr=or(yr,wr,Ir,Hr,Nr):Xr=Nr.map(function(Jr){return lr(yr,wr,Ir,Hr,Jr,Rr)}),yr.seen.pop(),dr(Xr,Dr,Vr)}function er(yr,wr){if($r(wr))return yr.stylize("undefined","undefined");if(Sr(wr)){var Ir="'"+JSON.stringify(wr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return yr.stylize(Ir,"string")}if(xr(wr))return yr.stylize(""+wr,"number");if(hr(wr))return yr.stylize(""+wr,"boolean");if(vr(wr))return yr.stylize("null","null")}function ir(yr){return"["+Error.prototype.toString.call(yr)+"]"}function or(yr,wr,Ir,Or,Ar){for(var Nr=[],Hr=0,Pr=wr.length;Hr<Pr;++Hr)sr(wr,String(Hr))?Nr.push(lr(yr,wr,Ir,Or,String(Hr),!0)):Nr.push("");return Ar.forEach(function(Dr){Dr.match(/^\d+$/)||Nr.push(lr(yr,wr,Ir,Or,Dr,!0))}),Nr}function lr(yr,wr,Ir,Or,Ar,Nr){var Hr,Pr,Dr;if(Dr=Object.getOwnPropertyDescriptor(wr,Ar)||{value:wr[Ar]},Dr.get?Dr.set?Pr=yr.stylize("[Getter/Setter]","special"):Pr=yr.stylize("[Getter]","special"):Dr.set&&(Pr=yr.stylize("[Setter]","special")),sr(Or,Ar)||(Hr="["+Ar+"]"),Pr||(yr.seen.indexOf(Dr.value)<0?(vr(Ir)?Pr=Vt(yr,Dr.value,null):Pr=Vt(yr,Dr.value,Ir-1),Pr.indexOf(`
`)>-1&&(Nr?Pr=Pr.split(`
`).map(function(Rr){return"  "+Rr}).join(`
`).slice(2):Pr=`
`+Pr.split(`
`).map(function(Rr){return"   "+Rr}).join(`
`))):Pr=yr.stylize("[Circular]","special")),$r(Hr)){if(Nr&&Ar.match(/^\d+$/))return Pr;Hr=JSON.stringify(""+Ar),Hr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Hr=Hr.slice(1,-1),Hr=yr.stylize(Hr,"name")):(Hr=Hr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Hr=yr.stylize(Hr,"string"))}return Hr+": "+Pr}function dr(yr,wr,Ir){var Or=yr.reduce(function(Ar,Nr){return Nr.indexOf(`
`)>=0,Ar+Nr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Or>60?Ir[0]+(wr===""?"":wr+`
 `)+" "+yr.join(`,
  `)+" "+Ir[1]:Ir[0]+wr+" "+yr.join(", ")+" "+Ir[1]}nt.types=requireTypes();function pr(yr){return Array.isArray(yr)}nt.isArray=pr;function hr(yr){return typeof yr=="boolean"}nt.isBoolean=hr;function vr(yr){return yr===null}nt.isNull=vr;function br(yr){return yr==null}nt.isNullOrUndefined=br;function xr(yr){return typeof yr=="number"}nt.isNumber=xr;function Sr(yr){return typeof yr=="string"}nt.isString=Sr;function Er(yr){return typeof yr=="symbol"}nt.isSymbol=Er;function $r(yr){return yr===void 0}nt.isUndefined=$r;function Cr(yr){return kr(yr)&&rr(yr)==="[object RegExp]"}nt.isRegExp=Cr,nt.types.isRegExp=Cr;function kr(yr){return typeof yr=="object"&&yr!==null}nt.isObject=kr;function gr(yr){return kr(yr)&&rr(yr)==="[object Date]"}nt.isDate=gr,nt.types.isDate=gr;function Ut(yr){return kr(yr)&&(rr(yr)==="[object Error]"||yr instanceof Error)}nt.isError=Ut,nt.types.isNativeError=Ut;function tr(yr){return typeof yr=="function"}nt.isFunction=tr;function nr(yr){return yr===null||typeof yr=="boolean"||typeof yr=="number"||typeof yr=="string"||typeof yr=="symbol"||typeof yr>"u"}nt.isPrimitive=nr,nt.isBuffer=requireIsBufferBrowser();function rr(yr){return Object.prototype.toString.call(yr)}function ar(yr){return yr<10?"0"+yr.toString(10):yr.toString(10)}var cr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fr(){var yr=new Date,wr=[ar(yr.getHours()),ar(yr.getMinutes()),ar(yr.getSeconds())].join(":");return[yr.getDate(),cr[yr.getMonth()],wr].join(" ")}nt.log=function(){console.log("%s - %s",fr(),nt.format.apply(nt,arguments))},nt.inherits=requireInherits_browser(),nt._extend=function(yr,wr){if(!wr||!kr(wr))return yr;for(var Ir=Object.keys(wr),Or=Ir.length;Or--;)yr[Ir[Or]]=wr[Ir[Or]];return yr};function sr(yr,wr){return Object.prototype.hasOwnProperty.call(yr,wr)}var Yt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;nt.promisify=function(wr){if(typeof wr!="function")throw new TypeError('The "original" argument must be of type Function');if(Yt&&wr[Yt]){var Ir=wr[Yt];if(typeof Ir!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Ir,Yt,{value:Ir,enumerable:!1,writable:!1,configurable:!0}),Ir}function Ir(){for(var Or,Ar,Nr=new Promise(function(Dr,Rr){Or=Dr,Ar=Rr}),Hr=[],Pr=0;Pr<arguments.length;Pr++)Hr.push(arguments[Pr]);Hr.push(function(Dr,Rr){Dr?Ar(Dr):Or(Rr)});try{wr.apply(this,Hr)}catch(Dr){Ar(Dr)}return Nr}return Object.setPrototypeOf(Ir,Object.getPrototypeOf(wr)),Yt&&Object.defineProperty(Ir,Yt,{value:Ir,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Ir,at(wr))},nt.promisify.custom=Yt;function ur(yr,wr){if(!yr){var Ir=new Error("Promise was rejected with a falsy value");Ir.reason=yr,yr=Ir}return wr(yr)}function _r(yr){if(typeof yr!="function")throw new TypeError('The "original" argument must be of type Function');function wr(){for(var Ir=[],Or=0;Or<arguments.length;Or++)Ir.push(arguments[Or]);var Ar=Ir.pop();if(typeof Ar!="function")throw new TypeError("The last argument must be of type Function");var Nr=this,Hr=function(){return Ar.apply(Nr,arguments)};yr.apply(this,Ir).then(function(Pr){process$1.nextTick(Hr.bind(null,null,Pr))},function(Pr){process$1.nextTick(ur.bind(null,Pr,Hr))})}return Object.setPrototypeOf(wr,Object.getPrototypeOf(yr)),Object.defineProperties(wr,at(yr)),wr}nt.callbackify=_r}(util$4)),util$4}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function nt(or,lr){var dr=Object.keys(or);if(Object.getOwnPropertySymbols){var pr=Object.getOwnPropertySymbols(or);lr&&(pr=pr.filter(function(hr){return Object.getOwnPropertyDescriptor(or,hr).enumerable})),dr.push.apply(dr,pr)}return dr}function et(or){for(var lr=1;lr<arguments.length;lr++){var dr=arguments[lr]!=null?arguments[lr]:{};lr%2?nt(Object(dr),!0).forEach(function(pr){at(or,pr,dr[pr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(or,Object.getOwnPropertyDescriptors(dr)):nt(Object(dr)).forEach(function(pr){Object.defineProperty(or,pr,Object.getOwnPropertyDescriptor(dr,pr))})}return or}function at(or,lr,dr){return lr=Dt(lr),lr in or?Object.defineProperty(or,lr,{value:dr,enumerable:!0,configurable:!0,writable:!0}):or[lr]=dr,or}function mt(or,lr){if(!(or instanceof lr))throw new TypeError("Cannot call a class as a function")}function $t(or,lr){for(var dr=0;dr<lr.length;dr++){var pr=lr[dr];pr.enumerable=pr.enumerable||!1,pr.configurable=!0,"value"in pr&&(pr.writable=!0),Object.defineProperty(or,Dt(pr.key),pr)}}function Ct(or,lr,dr){return lr&&$t(or.prototype,lr),Object.defineProperty(or,"prototype",{writable:!1}),or}function Dt(or){var lr=Ft(or,"string");return typeof lr=="symbol"?lr:String(lr)}function Ft(or,lr){if(typeof or!="object"||or===null)return or;var dr=or[Symbol.toPrimitive];if(dr!==void 0){var pr=dr.call(or,lr||"default");if(typeof pr!="object")return pr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(lr==="string"?String:Number)(or)}var Nt=require$$2$1,jt=Nt.Buffer,Lt=requireUtil$1(),Vt=Lt.inspect,er=Vt&&Vt.custom||"inspect";function ir(or,lr,dr){jt.prototype.copy.call(or,lr,dr)}return buffer_list=function(){function or(){mt(this,or),this.head=null,this.tail=null,this.length=0}return Ct(or,[{key:"push",value:function(dr){var pr={data:dr,next:null};this.length>0?this.tail.next=pr:this.head=pr,this.tail=pr,++this.length}},{key:"unshift",value:function(dr){var pr={data:dr,next:this.head};this.length===0&&(this.tail=pr),this.head=pr,++this.length}},{key:"shift",value:function(){if(this.length!==0){var dr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,dr}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(dr){if(this.length===0)return"";for(var pr=this.head,hr=""+pr.data;pr=pr.next;)hr+=dr+pr.data;return hr}},{key:"concat",value:function(dr){if(this.length===0)return jt.alloc(0);for(var pr=jt.allocUnsafe(dr>>>0),hr=this.head,vr=0;hr;)ir(hr.data,pr,vr),vr+=hr.data.length,hr=hr.next;return pr}},{key:"consume",value:function(dr,pr){var hr;return dr<this.head.data.length?(hr=this.head.data.slice(0,dr),this.head.data=this.head.data.slice(dr)):dr===this.head.data.length?hr=this.shift():hr=pr?this._getString(dr):this._getBuffer(dr),hr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(dr){var pr=this.head,hr=1,vr=pr.data;for(dr-=vr.length;pr=pr.next;){var br=pr.data,xr=dr>br.length?br.length:dr;if(xr===br.length?vr+=br:vr+=br.slice(0,dr),dr-=xr,dr===0){xr===br.length?(++hr,pr.next?this.head=pr.next:this.head=this.tail=null):(this.head=pr,pr.data=br.slice(xr));break}++hr}return this.length-=hr,vr}},{key:"_getBuffer",value:function(dr){var pr=jt.allocUnsafe(dr),hr=this.head,vr=1;for(hr.data.copy(pr),dr-=hr.data.length;hr=hr.next;){var br=hr.data,xr=dr>br.length?br.length:dr;if(br.copy(pr,pr.length-dr,0,xr),dr-=xr,dr===0){xr===br.length?(++vr,hr.next?this.head=hr.next:this.head=this.tail=null):(this.head=hr,hr.data=br.slice(xr));break}++vr}return this.length-=vr,pr}},{key:er,value:function(dr,pr){return Vt(this,et(et({},pr),{},{depth:0,customInspect:!1}))}}]),or}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function nt(Dt,Ft){var Nt=this,jt=this._readableState&&this._readableState.destroyed,Lt=this._writableState&&this._writableState.destroyed;return jt||Lt?(Ft?Ft(Dt):Dt&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick($t,this,Dt)):process$1.nextTick($t,this,Dt)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Dt||null,function(Vt){!Ft&&Vt?Nt._writableState?Nt._writableState.errorEmitted?process$1.nextTick(at,Nt):(Nt._writableState.errorEmitted=!0,process$1.nextTick(et,Nt,Vt)):process$1.nextTick(et,Nt,Vt):Ft?(process$1.nextTick(at,Nt),Ft(Vt)):process$1.nextTick(at,Nt)}),this)}function et(Dt,Ft){$t(Dt,Ft),at(Dt)}function at(Dt){Dt._writableState&&!Dt._writableState.emitClose||Dt._readableState&&!Dt._readableState.emitClose||Dt.emit("close")}function mt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $t(Dt,Ft){Dt.emit("error",Ft)}function Ct(Dt,Ft){var Nt=Dt._readableState,jt=Dt._writableState;Nt&&Nt.autoDestroy||jt&&jt.autoDestroy?Dt.destroy(Ft):Dt.emit("error",Ft)}return destroy_1$1={destroy:nt,undestroy:mt,errorOrDestroy:Ct},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function nt(Ft,Nt){Ft.prototype=Object.create(Nt.prototype),Ft.prototype.constructor=Ft,Ft.__proto__=Nt}var et={};function at(Ft,Nt,jt){jt||(jt=Error);function Lt(er,ir,or){return typeof Nt=="string"?Nt:Nt(er,ir,or)}var Vt=function(er){nt(ir,er);function ir(or,lr,dr){return er.call(this,Lt(or,lr,dr))||this}return ir}(jt);Vt.prototype.name=jt.name,Vt.prototype.code=Ft,et[Ft]=Vt}function mt(Ft,Nt){if(Array.isArray(Ft)){var jt=Ft.length;return Ft=Ft.map(function(Lt){return String(Lt)}),jt>2?"one of ".concat(Nt," ").concat(Ft.slice(0,jt-1).join(", "),", or ")+Ft[jt-1]:jt===2?"one of ".concat(Nt," ").concat(Ft[0]," or ").concat(Ft[1]):"of ".concat(Nt," ").concat(Ft[0])}else return"of ".concat(Nt," ").concat(String(Ft))}function $t(Ft,Nt,jt){return Ft.substr(0,Nt.length)===Nt}function Ct(Ft,Nt,jt){return(jt===void 0||jt>Ft.length)&&(jt=Ft.length),Ft.substring(jt-Nt.length,jt)===Nt}function Dt(Ft,Nt,jt){return typeof jt!="number"&&(jt=0),jt+Nt.length>Ft.length?!1:Ft.indexOf(Nt,jt)!==-1}return at("ERR_INVALID_OPT_VALUE",function(Ft,Nt){return'The value "'+Nt+'" is invalid for option "'+Ft+'"'},TypeError),at("ERR_INVALID_ARG_TYPE",function(Ft,Nt,jt){var Lt;typeof Nt=="string"&&$t(Nt,"not ")?(Lt="must not be",Nt=Nt.replace(/^not /,"")):Lt="must be";var Vt;if(Ct(Ft," argument"))Vt="The ".concat(Ft," ").concat(Lt," ").concat(mt(Nt,"type"));else{var er=Dt(Ft,".")?"property":"argument";Vt='The "'.concat(Ft,'" ').concat(er," ").concat(Lt," ").concat(mt(Nt,"type"))}return Vt+=". Received type ".concat(typeof jt),Vt},TypeError),at("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),at("ERR_METHOD_NOT_IMPLEMENTED",function(Ft){return"The "+Ft+" method is not implemented"}),at("ERR_STREAM_PREMATURE_CLOSE","Premature close"),at("ERR_STREAM_DESTROYED",function(Ft){return"Cannot call "+Ft+" after a stream was destroyed"}),at("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),at("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),at("ERR_STREAM_WRITE_AFTER_END","write after end"),at("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),at("ERR_UNKNOWN_ENCODING",function(Ft){return"Unknown encoding: "+Ft},TypeError),at("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=et,errorsBrowser}var state$1,hasRequiredState;function requireState(){if(hasRequiredState)return state$1;hasRequiredState=1;var nt=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function et(mt,$t,Ct){return mt.highWaterMark!=null?mt.highWaterMark:$t?mt[Ct]:null}function at(mt,$t,Ct,Dt){var Ft=et($t,Dt,Ct);if(Ft!=null){if(!(isFinite(Ft)&&Math.floor(Ft)===Ft)||Ft<0){var Nt=Dt?Ct:"highWaterMark";throw new nt(Nt,Ft)}return Math.floor(Ft)}return mt.objectMode?16:16*1024}return state$1={getHighWaterMark:at},state$1}var browser$d,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$d;hasRequiredBrowser$a=1,browser$d=nt;function nt(at,mt){if(et("noDeprecation"))return at;var $t=!1;function Ct(){if(!$t){if(et("throwDeprecation"))throw new Error(mt);et("traceDeprecation")?console.trace(mt):console.warn(mt),$t=!0}return at.apply(this,arguments)}return Ct}function et(at){try{if(!commonjsGlobal$1.localStorage)return!1}catch{return!1}var mt=commonjsGlobal$1.localStorage[at];return mt==null?!1:String(mt).toLowerCase()==="true"}return browser$d}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=$r;function nt(Or){var Ar=this;this.next=null,this.entry=null,this.finish=function(){Ir(Ar,Or)}}var et;$r.WritableState=Sr;var at={deprecate:requireBrowser$a()},mt=requireStreamBrowser$1(),$t=require$$2$1.Buffer,Ct=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Dt(Or){return $t.from(Or)}function Ft(Or){return $t.isBuffer(Or)||Or instanceof Ct}var Nt=requireDestroy$1(),jt=requireState(),Lt=jt.getHighWaterMark,Vt=requireErrorsBrowser().codes,er=Vt.ERR_INVALID_ARG_TYPE,ir=Vt.ERR_METHOD_NOT_IMPLEMENTED,or=Vt.ERR_MULTIPLE_CALLBACK,lr=Vt.ERR_STREAM_CANNOT_PIPE,dr=Vt.ERR_STREAM_DESTROYED,pr=Vt.ERR_STREAM_NULL_VALUES,hr=Vt.ERR_STREAM_WRITE_AFTER_END,vr=Vt.ERR_UNKNOWN_ENCODING,br=Nt.errorOrDestroy;requireInherits_browser()($r,mt);function xr(){}function Sr(Or,Ar,Nr){et=et||require_stream_duplex$1(),Or=Or||{},typeof Nr!="boolean"&&(Nr=Ar instanceof et),this.objectMode=!!Or.objectMode,Nr&&(this.objectMode=this.objectMode||!!Or.writableObjectMode),this.highWaterMark=Lt(this,Or,"writableHighWaterMark",Nr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Hr=Or.decodeStrings===!1;this.decodeStrings=!Hr,this.defaultEncoding=Or.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pr){ar(Ar,Pr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Or.emitClose!==!1,this.autoDestroy=!!Or.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new nt(this)}Sr.prototype.getBuffer=function(){for(var Ar=this.bufferedRequest,Nr=[];Ar;)Nr.push(Ar),Ar=Ar.next;return Nr},function(){try{Object.defineProperty(Sr.prototype,"buffer",{get:at.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Er;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Er=Function.prototype[Symbol.hasInstance],Object.defineProperty($r,Symbol.hasInstance,{value:function(Ar){return Er.call(this,Ar)?!0:this!==$r?!1:Ar&&Ar._writableState instanceof Sr}})):Er=function(Ar){return Ar instanceof this};function $r(Or){et=et||require_stream_duplex$1();var Ar=this instanceof et;if(!Ar&&!Er.call($r,this))return new $r(Or);this._writableState=new Sr(Or,this,Ar),this.writable=!0,Or&&(typeof Or.write=="function"&&(this._write=Or.write),typeof Or.writev=="function"&&(this._writev=Or.writev),typeof Or.destroy=="function"&&(this._destroy=Or.destroy),typeof Or.final=="function"&&(this._final=Or.final)),mt.call(this)}$r.prototype.pipe=function(){br(this,new lr)};function Cr(Or,Ar){var Nr=new hr;br(Or,Nr),process$1.nextTick(Ar,Nr)}function kr(Or,Ar,Nr,Hr){var Pr;return Nr===null?Pr=new pr:typeof Nr!="string"&&!Ar.objectMode&&(Pr=new er("chunk",["string","Buffer"],Nr)),Pr?(br(Or,Pr),process$1.nextTick(Hr,Pr),!1):!0}$r.prototype.write=function(Or,Ar,Nr){var Hr=this._writableState,Pr=!1,Dr=!Hr.objectMode&&Ft(Or);return Dr&&!$t.isBuffer(Or)&&(Or=Dt(Or)),typeof Ar=="function"&&(Nr=Ar,Ar=null),Dr?Ar="buffer":Ar||(Ar=Hr.defaultEncoding),typeof Nr!="function"&&(Nr=xr),Hr.ending?Cr(this,Nr):(Dr||kr(this,Hr,Or,Nr))&&(Hr.pendingcb++,Pr=Ut(this,Hr,Dr,Or,Ar,Nr)),Pr},$r.prototype.cork=function(){this._writableState.corked++},$r.prototype.uncork=function(){var Or=this._writableState;Or.corked&&(Or.corked--,!Or.writing&&!Or.corked&&!Or.bufferProcessing&&Or.bufferedRequest&&sr(this,Or))},$r.prototype.setDefaultEncoding=function(Ar){if(typeof Ar=="string"&&(Ar=Ar.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ar+"").toLowerCase())>-1))throw new vr(Ar);return this._writableState.defaultEncoding=Ar,this},Object.defineProperty($r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function gr(Or,Ar,Nr){return!Or.objectMode&&Or.decodeStrings!==!1&&typeof Ar=="string"&&(Ar=$t.from(Ar,Nr)),Ar}Object.defineProperty($r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ut(Or,Ar,Nr,Hr,Pr,Dr){if(!Nr){var Rr=gr(Ar,Hr,Pr);Hr!==Rr&&(Nr=!0,Pr="buffer",Hr=Rr)}var Vr=Ar.objectMode?1:Hr.length;Ar.length+=Vr;var an=Ar.length<Ar.highWaterMark;if(an||(Ar.needDrain=!0),Ar.writing||Ar.corked){var Xr=Ar.lastBufferedRequest;Ar.lastBufferedRequest={chunk:Hr,encoding:Pr,isBuf:Nr,callback:Dr,next:null},Xr?Xr.next=Ar.lastBufferedRequest:Ar.bufferedRequest=Ar.lastBufferedRequest,Ar.bufferedRequestCount+=1}else tr(Or,Ar,!1,Vr,Hr,Pr,Dr);return an}function tr(Or,Ar,Nr,Hr,Pr,Dr,Rr){Ar.writelen=Hr,Ar.writecb=Rr,Ar.writing=!0,Ar.sync=!0,Ar.destroyed?Ar.onwrite(new dr("write")):Nr?Or._writev(Pr,Ar.onwrite):Or._write(Pr,Dr,Ar.onwrite),Ar.sync=!1}function nr(Or,Ar,Nr,Hr,Pr){--Ar.pendingcb,Nr?(process$1.nextTick(Pr,Hr),process$1.nextTick(yr,Or,Ar),Or._writableState.errorEmitted=!0,br(Or,Hr)):(Pr(Hr),Or._writableState.errorEmitted=!0,br(Or,Hr),yr(Or,Ar))}function rr(Or){Or.writing=!1,Or.writecb=null,Or.length-=Or.writelen,Or.writelen=0}function ar(Or,Ar){var Nr=Or._writableState,Hr=Nr.sync,Pr=Nr.writecb;if(typeof Pr!="function")throw new or;if(rr(Nr),Ar)nr(Or,Nr,Hr,Ar,Pr);else{var Dr=Yt(Nr)||Or.destroyed;!Dr&&!Nr.corked&&!Nr.bufferProcessing&&Nr.bufferedRequest&&sr(Or,Nr),Hr?process$1.nextTick(cr,Or,Nr,Dr,Pr):cr(Or,Nr,Dr,Pr)}}function cr(Or,Ar,Nr,Hr){Nr||fr(Or,Ar),Ar.pendingcb--,Hr(),yr(Or,Ar)}function fr(Or,Ar){Ar.length===0&&Ar.needDrain&&(Ar.needDrain=!1,Or.emit("drain"))}function sr(Or,Ar){Ar.bufferProcessing=!0;var Nr=Ar.bufferedRequest;if(Or._writev&&Nr&&Nr.next){var Hr=Ar.bufferedRequestCount,Pr=new Array(Hr),Dr=Ar.corkedRequestsFree;Dr.entry=Nr;for(var Rr=0,Vr=!0;Nr;)Pr[Rr]=Nr,Nr.isBuf||(Vr=!1),Nr=Nr.next,Rr+=1;Pr.allBuffers=Vr,tr(Or,Ar,!0,Ar.length,Pr,"",Dr.finish),Ar.pendingcb++,Ar.lastBufferedRequest=null,Dr.next?(Ar.corkedRequestsFree=Dr.next,Dr.next=null):Ar.corkedRequestsFree=new nt(Ar),Ar.bufferedRequestCount=0}else{for(;Nr;){var an=Nr.chunk,Xr=Nr.encoding,Jr=Nr.callback,Zr=Ar.objectMode?1:an.length;if(tr(Or,Ar,!1,Zr,an,Xr,Jr),Nr=Nr.next,Ar.bufferedRequestCount--,Ar.writing)break}Nr===null&&(Ar.lastBufferedRequest=null)}Ar.bufferedRequest=Nr,Ar.bufferProcessing=!1}$r.prototype._write=function(Or,Ar,Nr){Nr(new ir("_write()"))},$r.prototype._writev=null,$r.prototype.end=function(Or,Ar,Nr){var Hr=this._writableState;return typeof Or=="function"?(Nr=Or,Or=null,Ar=null):typeof Ar=="function"&&(Nr=Ar,Ar=null),Or!=null&&this.write(Or,Ar),Hr.corked&&(Hr.corked=1,this.uncork()),Hr.ending||wr(this,Hr,Nr),this},Object.defineProperty($r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Yt(Or){return Or.ending&&Or.length===0&&Or.bufferedRequest===null&&!Or.finished&&!Or.writing}function ur(Or,Ar){Or._final(function(Nr){Ar.pendingcb--,Nr&&br(Or,Nr),Ar.prefinished=!0,Or.emit("prefinish"),yr(Or,Ar)})}function _r(Or,Ar){!Ar.prefinished&&!Ar.finalCalled&&(typeof Or._final=="function"&&!Ar.destroyed?(Ar.pendingcb++,Ar.finalCalled=!0,process$1.nextTick(ur,Or,Ar)):(Ar.prefinished=!0,Or.emit("prefinish")))}function yr(Or,Ar){var Nr=Yt(Ar);if(Nr&&(_r(Or,Ar),Ar.pendingcb===0&&(Ar.finished=!0,Or.emit("finish"),Ar.autoDestroy))){var Hr=Or._readableState;(!Hr||Hr.autoDestroy&&Hr.endEmitted)&&Or.destroy()}return Nr}function wr(Or,Ar,Nr){Ar.ending=!0,yr(Or,Ar),Nr&&(Ar.finished?process$1.nextTick(Nr):Or.once("finish",Nr)),Ar.ended=!0,Or.writable=!1}function Ir(Or,Ar,Nr){var Hr=Or.entry;for(Or.entry=null;Hr;){var Pr=Hr.callback;Ar.pendingcb--,Pr(Nr),Hr=Hr.next}Ar.corkedRequestsFree.next=Or}return Object.defineProperty($r.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ar){this._writableState&&(this._writableState.destroyed=Ar)}}),$r.prototype.destroy=Nt.destroy,$r.prototype._undestroy=Nt.undestroy,$r.prototype._destroy=function(Or,Ar){Ar(Or)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var nt=Object.keys||function(jt){var Lt=[];for(var Vt in jt)Lt.push(Vt);return Lt};_stream_duplex$1=Dt;var et=require_stream_readable$1(),at=require_stream_writable$1();requireInherits_browser()(Dt,et);for(var mt=nt(at.prototype),$t=0;$t<mt.length;$t++){var Ct=mt[$t];Dt.prototype[Ct]||(Dt.prototype[Ct]=at.prototype[Ct])}function Dt(jt){if(!(this instanceof Dt))return new Dt(jt);et.call(this,jt),at.call(this,jt),this.allowHalfOpen=!0,jt&&(jt.readable===!1&&(this.readable=!1),jt.writable===!1&&(this.writable=!1),jt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Ft)))}Object.defineProperty(Dt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Dt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Dt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ft(){this._writableState.ended||process$1.nextTick(Nt,this)}function Nt(jt){jt.end()}return Object.defineProperty(Dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Lt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Lt,this._writableState.destroyed=Lt)}}),_stream_duplex$1}var string_decoder={},safeBuffer$5={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$5;function requireSafeBuffer$5(){return hasRequiredSafeBuffer$5||(hasRequiredSafeBuffer$5=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}Ct.prototype=Object.create(mt.prototype),$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer$5,safeBuffer$5.exports)),safeBuffer$5.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var nt=requireSafeBuffer$5().Buffer,et=nt.isEncoding||function(pr){switch(pr=""+pr,pr&&pr.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function at(pr){if(!pr)return"utf8";for(var hr;;)switch(pr){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return pr;default:if(hr)return;pr=(""+pr).toLowerCase(),hr=!0}}function mt(pr){var hr=at(pr);if(typeof hr!="string"&&(nt.isEncoding===et||!et(pr)))throw new Error("Unknown encoding: "+pr);return hr||pr}string_decoder.StringDecoder=$t;function $t(pr){this.encoding=mt(pr);var hr;switch(this.encoding){case"utf16le":this.text=Vt,this.end=er,hr=4;break;case"utf8":this.fillLast=Nt,hr=4;break;case"base64":this.text=ir,this.end=or,hr=3;break;default:this.write=lr,this.end=dr;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=nt.allocUnsafe(hr)}$t.prototype.write=function(pr){if(pr.length===0)return"";var hr,vr;if(this.lastNeed){if(hr=this.fillLast(pr),hr===void 0)return"";vr=this.lastNeed,this.lastNeed=0}else vr=0;return vr<pr.length?hr?hr+this.text(pr,vr):this.text(pr,vr):hr||""},$t.prototype.end=Lt,$t.prototype.text=jt,$t.prototype.fillLast=function(pr){if(this.lastNeed<=pr.length)return pr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pr.copy(this.lastChar,this.lastTotal-this.lastNeed,0,pr.length),this.lastNeed-=pr.length};function Ct(pr){return pr<=127?0:pr>>5===6?2:pr>>4===14?3:pr>>3===30?4:pr>>6===2?-1:-2}function Dt(pr,hr,vr){var br=hr.length-1;if(br<vr)return 0;var xr=Ct(hr[br]);return xr>=0?(xr>0&&(pr.lastNeed=xr-1),xr):--br<vr||xr===-2?0:(xr=Ct(hr[br]),xr>=0?(xr>0&&(pr.lastNeed=xr-2),xr):--br<vr||xr===-2?0:(xr=Ct(hr[br]),xr>=0?(xr>0&&(xr===2?xr=0:pr.lastNeed=xr-3),xr):0))}function Ft(pr,hr,vr){if((hr[0]&192)!==128)return pr.lastNeed=0,"�";if(pr.lastNeed>1&&hr.length>1){if((hr[1]&192)!==128)return pr.lastNeed=1,"�";if(pr.lastNeed>2&&hr.length>2&&(hr[2]&192)!==128)return pr.lastNeed=2,"�"}}function Nt(pr){var hr=this.lastTotal-this.lastNeed,vr=Ft(this,pr);if(vr!==void 0)return vr;if(this.lastNeed<=pr.length)return pr.copy(this.lastChar,hr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);pr.copy(this.lastChar,hr,0,pr.length),this.lastNeed-=pr.length}function jt(pr,hr){var vr=Dt(this,pr,hr);if(!this.lastNeed)return pr.toString("utf8",hr);this.lastTotal=vr;var br=pr.length-(vr-this.lastNeed);return pr.copy(this.lastChar,0,br),pr.toString("utf8",hr,br)}function Lt(pr){var hr=pr&&pr.length?this.write(pr):"";return this.lastNeed?hr+"�":hr}function Vt(pr,hr){if((pr.length-hr)%2===0){var vr=pr.toString("utf16le",hr);if(vr){var br=vr.charCodeAt(vr.length-1);if(br>=55296&&br<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=pr[pr.length-2],this.lastChar[1]=pr[pr.length-1],vr.slice(0,-1)}return vr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=pr[pr.length-1],pr.toString("utf16le",hr,pr.length-1)}function er(pr){var hr=pr&&pr.length?this.write(pr):"";if(this.lastNeed){var vr=this.lastTotal-this.lastNeed;return hr+this.lastChar.toString("utf16le",0,vr)}return hr}function ir(pr,hr){var vr=(pr.length-hr)%3;return vr===0?pr.toString("base64",hr):(this.lastNeed=3-vr,this.lastTotal=3,vr===1?this.lastChar[0]=pr[pr.length-1]:(this.lastChar[0]=pr[pr.length-2],this.lastChar[1]=pr[pr.length-1]),pr.toString("base64",hr,pr.length-vr))}function or(pr){var hr=pr&&pr.length?this.write(pr):"";return this.lastNeed?hr+this.lastChar.toString("base64",0,3-this.lastNeed):hr}function lr(pr){return pr.toString(this.encoding)}function dr(pr){return pr&&pr.length?this.write(pr):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var nt=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function et(Ct){var Dt=!1;return function(){if(!Dt){Dt=!0;for(var Ft=arguments.length,Nt=new Array(Ft),jt=0;jt<Ft;jt++)Nt[jt]=arguments[jt];Ct.apply(this,Nt)}}}function at(){}function mt(Ct){return Ct.setHeader&&typeof Ct.abort=="function"}function $t(Ct,Dt,Ft){if(typeof Dt=="function")return $t(Ct,null,Dt);Dt||(Dt={}),Ft=et(Ft||at);var Nt=Dt.readable||Dt.readable!==!1&&Ct.readable,jt=Dt.writable||Dt.writable!==!1&&Ct.writable,Lt=function(){Ct.writable||er()},Vt=Ct._writableState&&Ct._writableState.finished,er=function(){jt=!1,Vt=!0,Nt||Ft.call(Ct)},ir=Ct._readableState&&Ct._readableState.endEmitted,or=function(){Nt=!1,ir=!0,jt||Ft.call(Ct)},lr=function(vr){Ft.call(Ct,vr)},dr=function(){var vr;if(Nt&&!ir)return(!Ct._readableState||!Ct._readableState.ended)&&(vr=new nt),Ft.call(Ct,vr);if(jt&&!Vt)return(!Ct._writableState||!Ct._writableState.ended)&&(vr=new nt),Ft.call(Ct,vr)},pr=function(){Ct.req.on("finish",er)};return mt(Ct)?(Ct.on("complete",er),Ct.on("abort",dr),Ct.req?pr():Ct.on("request",pr)):jt&&!Ct._writableState&&(Ct.on("end",Lt),Ct.on("close",Lt)),Ct.on("end",or),Ct.on("finish",er),Dt.error!==!1&&Ct.on("error",lr),Ct.on("close",dr),function(){Ct.removeListener("complete",er),Ct.removeListener("abort",dr),Ct.removeListener("request",pr),Ct.req&&Ct.req.removeListener("finish",er),Ct.removeListener("end",Lt),Ct.removeListener("close",Lt),Ct.removeListener("finish",er),Ct.removeListener("end",or),Ct.removeListener("error",lr),Ct.removeListener("close",dr)}}return endOfStream=$t,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var nt;function et(vr,br,xr){return br=at(br),br in vr?Object.defineProperty(vr,br,{value:xr,enumerable:!0,configurable:!0,writable:!0}):vr[br]=xr,vr}function at(vr){var br=mt(vr,"string");return typeof br=="symbol"?br:String(br)}function mt(vr,br){if(typeof vr!="object"||vr===null)return vr;var xr=vr[Symbol.toPrimitive];if(xr!==void 0){var Sr=xr.call(vr,br||"default");if(typeof Sr!="object")return Sr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(br==="string"?String:Number)(vr)}var $t=requireEndOfStream(),Ct=Symbol("lastResolve"),Dt=Symbol("lastReject"),Ft=Symbol("error"),Nt=Symbol("ended"),jt=Symbol("lastPromise"),Lt=Symbol("handlePromise"),Vt=Symbol("stream");function er(vr,br){return{value:vr,done:br}}function ir(vr){var br=vr[Ct];if(br!==null){var xr=vr[Vt].read();xr!==null&&(vr[jt]=null,vr[Ct]=null,vr[Dt]=null,br(er(xr,!1)))}}function or(vr){process$1.nextTick(ir,vr)}function lr(vr,br){return function(xr,Sr){vr.then(function(){if(br[Nt]){xr(er(void 0,!0));return}br[Lt](xr,Sr)},Sr)}}var dr=Object.getPrototypeOf(function(){}),pr=Object.setPrototypeOf((nt={get stream(){return this[Vt]},next:function(){var br=this,xr=this[Ft];if(xr!==null)return Promise.reject(xr);if(this[Nt])return Promise.resolve(er(void 0,!0));if(this[Vt].destroyed)return new Promise(function(Cr,kr){process$1.nextTick(function(){br[Ft]?kr(br[Ft]):Cr(er(void 0,!0))})});var Sr=this[jt],Er;if(Sr)Er=new Promise(lr(Sr,this));else{var $r=this[Vt].read();if($r!==null)return Promise.resolve(er($r,!1));Er=new Promise(this[Lt])}return this[jt]=Er,Er}},et(nt,Symbol.asyncIterator,function(){return this}),et(nt,"return",function(){var br=this;return new Promise(function(xr,Sr){br[Vt].destroy(null,function(Er){if(Er){Sr(Er);return}xr(er(void 0,!0))})})}),nt),dr),hr=function(br){var xr,Sr=Object.create(pr,(xr={},et(xr,Vt,{value:br,writable:!0}),et(xr,Ct,{value:null,writable:!0}),et(xr,Dt,{value:null,writable:!0}),et(xr,Ft,{value:null,writable:!0}),et(xr,Nt,{value:br._readableState.endEmitted,writable:!0}),et(xr,Lt,{value:function($r,Cr){var kr=Sr[Vt].read();kr?(Sr[jt]=null,Sr[Ct]=null,Sr[Dt]=null,$r(er(kr,!1))):(Sr[Ct]=$r,Sr[Dt]=Cr)},writable:!0}),xr));return Sr[jt]=null,$t(br,function(Er){if(Er&&Er.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $r=Sr[Dt];$r!==null&&(Sr[jt]=null,Sr[Ct]=null,Sr[Dt]=null,$r(Er)),Sr[Ft]=Er;return}var Cr=Sr[Ct];Cr!==null&&(Sr[jt]=null,Sr[Ct]=null,Sr[Dt]=null,Cr(er(void 0,!0))),Sr[Nt]=!0}),br.on("readable",or.bind(null,Sr)),Sr};return async_iterator=hr,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Cr;var nt;Cr.ReadableState=$r,requireEvents().EventEmitter;var et=function(Rr,Vr){return Rr.listeners(Vr).length},at=requireStreamBrowser$1(),mt=require$$2$1.Buffer,$t=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ct(Dr){return mt.from(Dr)}function Dt(Dr){return mt.isBuffer(Dr)||Dr instanceof $t}var Ft=requireUtil$1(),Nt;Ft&&Ft.debuglog?Nt=Ft.debuglog("stream"):Nt=function(){};var jt=requireBuffer_list(),Lt=requireDestroy$1(),Vt=requireState(),er=Vt.getHighWaterMark,ir=requireErrorsBrowser().codes,or=ir.ERR_INVALID_ARG_TYPE,lr=ir.ERR_STREAM_PUSH_AFTER_EOF,dr=ir.ERR_METHOD_NOT_IMPLEMENTED,pr=ir.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,hr,vr,br;requireInherits_browser()(Cr,at);var xr=Lt.errorOrDestroy,Sr=["error","close","destroy","pause","resume"];function Er(Dr,Rr,Vr){if(typeof Dr.prependListener=="function")return Dr.prependListener(Rr,Vr);!Dr._events||!Dr._events[Rr]?Dr.on(Rr,Vr):Array.isArray(Dr._events[Rr])?Dr._events[Rr].unshift(Vr):Dr._events[Rr]=[Vr,Dr._events[Rr]]}function $r(Dr,Rr,Vr){nt=nt||require_stream_duplex$1(),Dr=Dr||{},typeof Vr!="boolean"&&(Vr=Rr instanceof nt),this.objectMode=!!Dr.objectMode,Vr&&(this.objectMode=this.objectMode||!!Dr.readableObjectMode),this.highWaterMark=er(this,Dr,"readableHighWaterMark",Vr),this.buffer=new jt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Dr.emitClose!==!1,this.autoDestroy=!!Dr.autoDestroy,this.destroyed=!1,this.defaultEncoding=Dr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Dr.encoding&&(hr||(hr=requireString_decoder().StringDecoder),this.decoder=new hr(Dr.encoding),this.encoding=Dr.encoding)}function Cr(Dr){if(nt=nt||require_stream_duplex$1(),!(this instanceof Cr))return new Cr(Dr);var Rr=this instanceof nt;this._readableState=new $r(Dr,this,Rr),this.readable=!0,Dr&&(typeof Dr.read=="function"&&(this._read=Dr.read),typeof Dr.destroy=="function"&&(this._destroy=Dr.destroy)),at.call(this)}Object.defineProperty(Cr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Rr){this._readableState&&(this._readableState.destroyed=Rr)}}),Cr.prototype.destroy=Lt.destroy,Cr.prototype._undestroy=Lt.undestroy,Cr.prototype._destroy=function(Dr,Rr){Rr(Dr)},Cr.prototype.push=function(Dr,Rr){var Vr=this._readableState,an;return Vr.objectMode?an=!0:typeof Dr=="string"&&(Rr=Rr||Vr.defaultEncoding,Rr!==Vr.encoding&&(Dr=mt.from(Dr,Rr),Rr=""),an=!0),kr(this,Dr,Rr,!1,an)},Cr.prototype.unshift=function(Dr){return kr(this,Dr,null,!0,!1)};function kr(Dr,Rr,Vr,an,Xr){Nt("readableAddChunk",Rr);var Jr=Dr._readableState;if(Rr===null)Jr.reading=!1,ar(Dr,Jr);else{var Zr;if(Xr||(Zr=Ut(Jr,Rr)),Zr)xr(Dr,Zr);else if(Jr.objectMode||Rr&&Rr.length>0)if(typeof Rr!="string"&&!Jr.objectMode&&Object.getPrototypeOf(Rr)!==mt.prototype&&(Rr=Ct(Rr)),an)Jr.endEmitted?xr(Dr,new pr):gr(Dr,Jr,Rr,!0);else if(Jr.ended)xr(Dr,new lr);else{if(Jr.destroyed)return!1;Jr.reading=!1,Jr.decoder&&!Vr?(Rr=Jr.decoder.write(Rr),Jr.objectMode||Rr.length!==0?gr(Dr,Jr,Rr,!1):sr(Dr,Jr)):gr(Dr,Jr,Rr,!1)}else an||(Jr.reading=!1,sr(Dr,Jr))}return!Jr.ended&&(Jr.length<Jr.highWaterMark||Jr.length===0)}function gr(Dr,Rr,Vr,an){Rr.flowing&&Rr.length===0&&!Rr.sync?(Rr.awaitDrain=0,Dr.emit("data",Vr)):(Rr.length+=Rr.objectMode?1:Vr.length,an?Rr.buffer.unshift(Vr):Rr.buffer.push(Vr),Rr.needReadable&&cr(Dr)),sr(Dr,Rr)}function Ut(Dr,Rr){var Vr;return!Dt(Rr)&&typeof Rr!="string"&&Rr!==void 0&&!Dr.objectMode&&(Vr=new or("chunk",["string","Buffer","Uint8Array"],Rr)),Vr}Cr.prototype.isPaused=function(){return this._readableState.flowing===!1},Cr.prototype.setEncoding=function(Dr){hr||(hr=requireString_decoder().StringDecoder);var Rr=new hr(Dr);this._readableState.decoder=Rr,this._readableState.encoding=this._readableState.decoder.encoding;for(var Vr=this._readableState.buffer.head,an="";Vr!==null;)an+=Rr.write(Vr.data),Vr=Vr.next;return this._readableState.buffer.clear(),an!==""&&this._readableState.buffer.push(an),this._readableState.length=an.length,this};var tr=1073741824;function nr(Dr){return Dr>=tr?Dr=tr:(Dr--,Dr|=Dr>>>1,Dr|=Dr>>>2,Dr|=Dr>>>4,Dr|=Dr>>>8,Dr|=Dr>>>16,Dr++),Dr}function rr(Dr,Rr){return Dr<=0||Rr.length===0&&Rr.ended?0:Rr.objectMode?1:Dr!==Dr?Rr.flowing&&Rr.length?Rr.buffer.head.data.length:Rr.length:(Dr>Rr.highWaterMark&&(Rr.highWaterMark=nr(Dr)),Dr<=Rr.length?Dr:Rr.ended?Rr.length:(Rr.needReadable=!0,0))}Cr.prototype.read=function(Dr){Nt("read",Dr),Dr=parseInt(Dr,10);var Rr=this._readableState,Vr=Dr;if(Dr!==0&&(Rr.emittedReadable=!1),Dr===0&&Rr.needReadable&&((Rr.highWaterMark!==0?Rr.length>=Rr.highWaterMark:Rr.length>0)||Rr.ended))return Nt("read: emitReadable",Rr.length,Rr.ended),Rr.length===0&&Rr.ended?Nr(this):cr(this),null;if(Dr=rr(Dr,Rr),Dr===0&&Rr.ended)return Rr.length===0&&Nr(this),null;var an=Rr.needReadable;Nt("need readable",an),(Rr.length===0||Rr.length-Dr<Rr.highWaterMark)&&(an=!0,Nt("length less than watermark",an)),Rr.ended||Rr.reading?(an=!1,Nt("reading or ended",an)):an&&(Nt("do read"),Rr.reading=!0,Rr.sync=!0,Rr.length===0&&(Rr.needReadable=!0),this._read(Rr.highWaterMark),Rr.sync=!1,Rr.reading||(Dr=rr(Vr,Rr)));var Xr;return Dr>0?Xr=Ar(Dr,Rr):Xr=null,Xr===null?(Rr.needReadable=Rr.length<=Rr.highWaterMark,Dr=0):(Rr.length-=Dr,Rr.awaitDrain=0),Rr.length===0&&(Rr.ended||(Rr.needReadable=!0),Vr!==Dr&&Rr.ended&&Nr(this)),Xr!==null&&this.emit("data",Xr),Xr};function ar(Dr,Rr){if(Nt("onEofChunk"),!Rr.ended){if(Rr.decoder){var Vr=Rr.decoder.end();Vr&&Vr.length&&(Rr.buffer.push(Vr),Rr.length+=Rr.objectMode?1:Vr.length)}Rr.ended=!0,Rr.sync?cr(Dr):(Rr.needReadable=!1,Rr.emittedReadable||(Rr.emittedReadable=!0,fr(Dr)))}}function cr(Dr){var Rr=Dr._readableState;Nt("emitReadable",Rr.needReadable,Rr.emittedReadable),Rr.needReadable=!1,Rr.emittedReadable||(Nt("emitReadable",Rr.flowing),Rr.emittedReadable=!0,process$1.nextTick(fr,Dr))}function fr(Dr){var Rr=Dr._readableState;Nt("emitReadable_",Rr.destroyed,Rr.length,Rr.ended),!Rr.destroyed&&(Rr.length||Rr.ended)&&(Dr.emit("readable"),Rr.emittedReadable=!1),Rr.needReadable=!Rr.flowing&&!Rr.ended&&Rr.length<=Rr.highWaterMark,Or(Dr)}function sr(Dr,Rr){Rr.readingMore||(Rr.readingMore=!0,process$1.nextTick(Yt,Dr,Rr))}function Yt(Dr,Rr){for(;!Rr.reading&&!Rr.ended&&(Rr.length<Rr.highWaterMark||Rr.flowing&&Rr.length===0);){var Vr=Rr.length;if(Nt("maybeReadMore read 0"),Dr.read(0),Vr===Rr.length)break}Rr.readingMore=!1}Cr.prototype._read=function(Dr){xr(this,new dr("_read()"))},Cr.prototype.pipe=function(Dr,Rr){var Vr=this,an=this._readableState;switch(an.pipesCount){case 0:an.pipes=Dr;break;case 1:an.pipes=[an.pipes,Dr];break;default:an.pipes.push(Dr);break}an.pipesCount+=1,Nt("pipe count=%d opts=%j",an.pipesCount,Rr);var Xr=(!Rr||Rr.end!==!1)&&Dr!==process$1.stdout&&Dr!==process$1.stderr,Jr=Xr?Gr:$o;an.endEmitted?process$1.nextTick(Jr):Vr.once("end",Jr),Dr.on("unpipe",Zr);function Zr(Kn,_i){Nt("onunpipe"),Kn===Vr&&_i&&_i.hasUnpiped===!1&&(_i.hasUnpiped=!0,Qr())}function Gr(){Nt("onend"),Dr.end()}var zr=ur(Vr);Dr.on("drain",zr);var Dn=!1;function Qr(){Nt("cleanup"),Dr.removeListener("close",Hn),Dr.removeListener("finish",Qn),Dr.removeListener("drain",zr),Dr.removeListener("error",ro),Dr.removeListener("unpipe",Zr),Vr.removeListener("end",Gr),Vr.removeListener("end",$o),Vr.removeListener("data",Un),Dn=!0,an.awaitDrain&&(!Dr._writableState||Dr._writableState.needDrain)&&zr()}Vr.on("data",Un);function Un(Kn){Nt("ondata");var _i=Dr.write(Kn);Nt("dest.write",_i),_i===!1&&((an.pipesCount===1&&an.pipes===Dr||an.pipesCount>1&&Pr(an.pipes,Dr)!==-1)&&!Dn&&(Nt("false write response, pause",an.awaitDrain),an.awaitDrain++),Vr.pause())}function ro(Kn){Nt("onerror",Kn),$o(),Dr.removeListener("error",ro),et(Dr,"error")===0&&xr(Dr,Kn)}Er(Dr,"error",ro);function Hn(){Dr.removeListener("finish",Qn),$o()}Dr.once("close",Hn);function Qn(){Nt("onfinish"),Dr.removeListener("close",Hn),$o()}Dr.once("finish",Qn);function $o(){Nt("unpipe"),Vr.unpipe(Dr)}return Dr.emit("pipe",Vr),an.flowing||(Nt("pipe resume"),Vr.resume()),Dr};function ur(Dr){return function(){var Vr=Dr._readableState;Nt("pipeOnDrain",Vr.awaitDrain),Vr.awaitDrain&&Vr.awaitDrain--,Vr.awaitDrain===0&&et(Dr,"data")&&(Vr.flowing=!0,Or(Dr))}}Cr.prototype.unpipe=function(Dr){var Rr=this._readableState,Vr={hasUnpiped:!1};if(Rr.pipesCount===0)return this;if(Rr.pipesCount===1)return Dr&&Dr!==Rr.pipes?this:(Dr||(Dr=Rr.pipes),Rr.pipes=null,Rr.pipesCount=0,Rr.flowing=!1,Dr&&Dr.emit("unpipe",this,Vr),this);if(!Dr){var an=Rr.pipes,Xr=Rr.pipesCount;Rr.pipes=null,Rr.pipesCount=0,Rr.flowing=!1;for(var Jr=0;Jr<Xr;Jr++)an[Jr].emit("unpipe",this,{hasUnpiped:!1});return this}var Zr=Pr(Rr.pipes,Dr);return Zr===-1?this:(Rr.pipes.splice(Zr,1),Rr.pipesCount-=1,Rr.pipesCount===1&&(Rr.pipes=Rr.pipes[0]),Dr.emit("unpipe",this,Vr),this)},Cr.prototype.on=function(Dr,Rr){var Vr=at.prototype.on.call(this,Dr,Rr),an=this._readableState;return Dr==="data"?(an.readableListening=this.listenerCount("readable")>0,an.flowing!==!1&&this.resume()):Dr==="readable"&&!an.endEmitted&&!an.readableListening&&(an.readableListening=an.needReadable=!0,an.flowing=!1,an.emittedReadable=!1,Nt("on readable",an.length,an.reading),an.length?cr(this):an.reading||process$1.nextTick(yr,this)),Vr},Cr.prototype.addListener=Cr.prototype.on,Cr.prototype.removeListener=function(Dr,Rr){var Vr=at.prototype.removeListener.call(this,Dr,Rr);return Dr==="readable"&&process$1.nextTick(_r,this),Vr},Cr.prototype.removeAllListeners=function(Dr){var Rr=at.prototype.removeAllListeners.apply(this,arguments);return(Dr==="readable"||Dr===void 0)&&process$1.nextTick(_r,this),Rr};function _r(Dr){var Rr=Dr._readableState;Rr.readableListening=Dr.listenerCount("readable")>0,Rr.resumeScheduled&&!Rr.paused?Rr.flowing=!0:Dr.listenerCount("data")>0&&Dr.resume()}function yr(Dr){Nt("readable nexttick read 0"),Dr.read(0)}Cr.prototype.resume=function(){var Dr=this._readableState;return Dr.flowing||(Nt("resume"),Dr.flowing=!Dr.readableListening,wr(this,Dr)),Dr.paused=!1,this};function wr(Dr,Rr){Rr.resumeScheduled||(Rr.resumeScheduled=!0,process$1.nextTick(Ir,Dr,Rr))}function Ir(Dr,Rr){Nt("resume",Rr.reading),Rr.reading||Dr.read(0),Rr.resumeScheduled=!1,Dr.emit("resume"),Or(Dr),Rr.flowing&&!Rr.reading&&Dr.read(0)}Cr.prototype.pause=function(){return Nt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Nt("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Or(Dr){var Rr=Dr._readableState;for(Nt("flow",Rr.flowing);Rr.flowing&&Dr.read()!==null;);}Cr.prototype.wrap=function(Dr){var Rr=this,Vr=this._readableState,an=!1;Dr.on("end",function(){if(Nt("wrapped end"),Vr.decoder&&!Vr.ended){var Zr=Vr.decoder.end();Zr&&Zr.length&&Rr.push(Zr)}Rr.push(null)}),Dr.on("data",function(Zr){if(Nt("wrapped data"),Vr.decoder&&(Zr=Vr.decoder.write(Zr)),!(Vr.objectMode&&Zr==null)&&!(!Vr.objectMode&&(!Zr||!Zr.length))){var Gr=Rr.push(Zr);Gr||(an=!0,Dr.pause())}});for(var Xr in Dr)this[Xr]===void 0&&typeof Dr[Xr]=="function"&&(this[Xr]=function(Gr){return function(){return Dr[Gr].apply(Dr,arguments)}}(Xr));for(var Jr=0;Jr<Sr.length;Jr++)Dr.on(Sr[Jr],this.emit.bind(this,Sr[Jr]));return this._read=function(Zr){Nt("wrapped _read",Zr),an&&(an=!1,Dr.resume())},this},typeof Symbol=="function"&&(Cr.prototype[Symbol.asyncIterator]=function(){return vr===void 0&&(vr=requireAsync_iterator()),vr(this)}),Object.defineProperty(Cr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Cr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Cr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Rr){this._readableState&&(this._readableState.flowing=Rr)}}),Cr._fromList=Ar,Object.defineProperty(Cr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ar(Dr,Rr){if(Rr.length===0)return null;var Vr;return Rr.objectMode?Vr=Rr.buffer.shift():!Dr||Dr>=Rr.length?(Rr.decoder?Vr=Rr.buffer.join(""):Rr.buffer.length===1?Vr=Rr.buffer.first():Vr=Rr.buffer.concat(Rr.length),Rr.buffer.clear()):Vr=Rr.buffer.consume(Dr,Rr.decoder),Vr}function Nr(Dr){var Rr=Dr._readableState;Nt("endReadable",Rr.endEmitted),Rr.endEmitted||(Rr.ended=!0,process$1.nextTick(Hr,Rr,Dr))}function Hr(Dr,Rr){if(Nt("endReadableNT",Dr.endEmitted,Dr.length),!Dr.endEmitted&&Dr.length===0&&(Dr.endEmitted=!0,Rr.readable=!1,Rr.emit("end"),Dr.autoDestroy)){var Vr=Rr._writableState;(!Vr||Vr.autoDestroy&&Vr.finished)&&Rr.destroy()}}typeof Symbol=="function"&&(Cr.from=function(Dr,Rr){return br===void 0&&(br=requireFromBrowser()),br(Cr,Dr,Rr)});function Pr(Dr,Rr){for(var Vr=0,an=Dr.length;Vr<an;Vr++)if(Dr[Vr]===Rr)return Vr;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=Ft;var nt=requireErrorsBrowser().codes,et=nt.ERR_METHOD_NOT_IMPLEMENTED,at=nt.ERR_MULTIPLE_CALLBACK,mt=nt.ERR_TRANSFORM_ALREADY_TRANSFORMING,$t=nt.ERR_TRANSFORM_WITH_LENGTH_0,Ct=require_stream_duplex$1();requireInherits_browser()(Ft,Ct);function Dt(Lt,Vt){var er=this._transformState;er.transforming=!1;var ir=er.writecb;if(ir===null)return this.emit("error",new at);er.writechunk=null,er.writecb=null,Vt!=null&&this.push(Vt),ir(Lt);var or=this._readableState;or.reading=!1,(or.needReadable||or.length<or.highWaterMark)&&this._read(or.highWaterMark)}function Ft(Lt){if(!(this instanceof Ft))return new Ft(Lt);Ct.call(this,Lt),this._transformState={afterTransform:Dt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Lt&&(typeof Lt.transform=="function"&&(this._transform=Lt.transform),typeof Lt.flush=="function"&&(this._flush=Lt.flush)),this.on("prefinish",Nt)}function Nt(){var Lt=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(Vt,er){jt(Lt,Vt,er)}):jt(this,null,null)}Ft.prototype.push=function(Lt,Vt){return this._transformState.needTransform=!1,Ct.prototype.push.call(this,Lt,Vt)},Ft.prototype._transform=function(Lt,Vt,er){er(new et("_transform()"))},Ft.prototype._write=function(Lt,Vt,er){var ir=this._transformState;if(ir.writecb=er,ir.writechunk=Lt,ir.writeencoding=Vt,!ir.transforming){var or=this._readableState;(ir.needTransform||or.needReadable||or.length<or.highWaterMark)&&this._read(or.highWaterMark)}},Ft.prototype._read=function(Lt){var Vt=this._transformState;Vt.writechunk!==null&&!Vt.transforming?(Vt.transforming=!0,this._transform(Vt.writechunk,Vt.writeencoding,Vt.afterTransform)):Vt.needTransform=!0},Ft.prototype._destroy=function(Lt,Vt){Ct.prototype._destroy.call(this,Lt,function(er){Vt(er)})};function jt(Lt,Vt,er){if(Vt)return Lt.emit("error",Vt);if(er!=null&&Lt.push(er),Lt._writableState.length)throw new $t;if(Lt._transformState.transforming)throw new mt;return Lt.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=et;var nt=require_stream_transform$1();requireInherits_browser()(et,nt);function et(at){if(!(this instanceof et))return new et(at);nt.call(this,at)}return et.prototype._transform=function(at,mt,$t){$t(null,at)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var nt;function et(er){var ir=!1;return function(){ir||(ir=!0,er.apply(void 0,arguments))}}var at=requireErrorsBrowser().codes,mt=at.ERR_MISSING_ARGS,$t=at.ERR_STREAM_DESTROYED;function Ct(er){if(er)throw er}function Dt(er){return er.setHeader&&typeof er.abort=="function"}function Ft(er,ir,or,lr){lr=et(lr);var dr=!1;er.on("close",function(){dr=!0}),nt===void 0&&(nt=requireEndOfStream()),nt(er,{readable:ir,writable:or},function(hr){if(hr)return lr(hr);dr=!0,lr()});var pr=!1;return function(hr){if(!dr&&!pr){if(pr=!0,Dt(er))return er.abort();if(typeof er.destroy=="function")return er.destroy();lr(hr||new $t("pipe"))}}}function Nt(er){er()}function jt(er,ir){return er.pipe(ir)}function Lt(er){return!er.length||typeof er[er.length-1]!="function"?Ct:er.pop()}function Vt(){for(var er=arguments.length,ir=new Array(er),or=0;or<er;or++)ir[or]=arguments[or];var lr=Lt(ir);if(Array.isArray(ir[0])&&(ir=ir[0]),ir.length<2)throw new mt("streams");var dr,pr=ir.map(function(hr,vr){var br=vr<ir.length-1,xr=vr>0;return Ft(hr,br,xr,function(Sr){dr||(dr=Sr),Sr&&pr.forEach(Nt),!br&&(pr.forEach(Nt),lr(dr))})});return ir.reduce(jt)}return pipeline_1=Vt,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=at;var nt=requireEvents().EventEmitter,et=requireInherits_browser();et(at,nt),at.Readable=require_stream_readable$1(),at.Writable=require_stream_writable$1(),at.Duplex=require_stream_duplex$1(),at.Transform=require_stream_transform$1(),at.PassThrough=require_stream_passthrough$1(),at.finished=requireEndOfStream(),at.pipeline=requirePipeline(),at.Stream=at;function at(){nt.call(this)}return at.prototype.pipe=function(mt,$t){var Ct=this;function Dt(ir){mt.writable&&mt.write(ir)===!1&&Ct.pause&&Ct.pause()}Ct.on("data",Dt);function Ft(){Ct.readable&&Ct.resume&&Ct.resume()}mt.on("drain",Ft),!mt._isStdio&&(!$t||$t.end!==!1)&&(Ct.on("end",jt),Ct.on("close",Lt));var Nt=!1;function jt(){Nt||(Nt=!0,mt.end())}function Lt(){Nt||(Nt=!0,typeof mt.destroy=="function"&&mt.destroy())}function Vt(ir){if(er(),nt.listenerCount(this,"error")===0)throw ir}Ct.on("error",Vt),mt.on("error",Vt);function er(){Ct.removeListener("data",Dt),mt.removeListener("drain",Ft),Ct.removeListener("end",jt),Ct.removeListener("close",Lt),Ct.removeListener("error",Vt),mt.removeListener("error",Vt),Ct.removeListener("end",er),Ct.removeListener("close",er),mt.removeListener("close",er)}return Ct.on("end",er),Ct.on("close",er),mt.on("close",er),mt.emit("pipe",Ct),mt},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var nt=requireSafeBuffer$6().Buffer,et=requireStreamBrowserify().Transform,at=requireInherits_browser();function mt(Ft){et.call(this),this._block=nt.allocUnsafe(Ft),this._blockSize=Ft,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}at(mt,et),mt.prototype._transform=function(Ft,Nt,jt){var Lt=null;try{this.update(Ft,Nt)}catch(Vt){Lt=Vt}jt(Lt)},mt.prototype._flush=function(Ft){var Nt=null;try{this.push(this.digest())}catch(jt){Nt=jt}Ft(Nt)};var $t=typeof Uint8Array<"u",Ct=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(nt.prototype instanceof Uint8Array||nt.TYPED_ARRAY_SUPPORT);function Dt(Ft,Nt){if(Ft instanceof nt)return Ft;if(typeof Ft=="string")return nt.from(Ft,Nt);if(Ct&&ArrayBuffer.isView(Ft)){if(Ft.byteLength===0)return nt.alloc(0);var jt=nt.from(Ft.buffer,Ft.byteOffset,Ft.byteLength);if(jt.byteLength===Ft.byteLength)return jt}if($t&&Ft instanceof Uint8Array||nt.isBuffer(Ft)&&Ft.constructor&&typeof Ft.constructor.isBuffer=="function"&&Ft.constructor.isBuffer(Ft))return nt.from(Ft);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return mt.prototype.update=function(Ft,Nt){if(this._finalized)throw new Error("Digest already called");Ft=Dt(Ft,Nt);for(var jt=this._block,Lt=0;this._blockOffset+Ft.length-Lt>=this._blockSize;){for(var Vt=this._blockOffset;Vt<this._blockSize;)jt[Vt++]=Ft[Lt++];this._update(),this._blockOffset=0}for(;Lt<Ft.length;)jt[this._blockOffset++]=Ft[Lt++];for(var er=0,ir=Ft.length*8;ir>0;++er)this._length[er]+=ir,ir=this._length[er]/4294967296|0,ir>0&&(this._length[er]-=4294967296*ir);return this},mt.prototype._update=function(){throw new Error("_update is not implemented")},mt.prototype.digest=function(Ft){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Nt=this._digest();Ft!==void 0&&(Nt=Nt.toString(Ft)),this._block.fill(0),this._blockOffset=0;for(var jt=0;jt<4;++jt)this._length[jt]=0;return Nt},mt.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=mt,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var nt=requireInherits_browser(),et=requireHashBase(),at=requireSafeBuffer$7().Buffer,mt=new Array(16);function $t(){et.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}nt($t,et),$t.prototype._update=function(){for(var Lt=mt,Vt=0;Vt<16;++Vt)Lt[Vt]=this._block.readInt32LE(Vt*4);var er=this._a,ir=this._b,or=this._c,lr=this._d;er=Dt(er,ir,or,lr,Lt[0],3614090360,7),lr=Dt(lr,er,ir,or,Lt[1],3905402710,12),or=Dt(or,lr,er,ir,Lt[2],606105819,17),ir=Dt(ir,or,lr,er,Lt[3],3250441966,22),er=Dt(er,ir,or,lr,Lt[4],4118548399,7),lr=Dt(lr,er,ir,or,Lt[5],1200080426,12),or=Dt(or,lr,er,ir,Lt[6],2821735955,17),ir=Dt(ir,or,lr,er,Lt[7],4249261313,22),er=Dt(er,ir,or,lr,Lt[8],1770035416,7),lr=Dt(lr,er,ir,or,Lt[9],2336552879,12),or=Dt(or,lr,er,ir,Lt[10],4294925233,17),ir=Dt(ir,or,lr,er,Lt[11],2304563134,22),er=Dt(er,ir,or,lr,Lt[12],1804603682,7),lr=Dt(lr,er,ir,or,Lt[13],4254626195,12),or=Dt(or,lr,er,ir,Lt[14],2792965006,17),ir=Dt(ir,or,lr,er,Lt[15],1236535329,22),er=Ft(er,ir,or,lr,Lt[1],4129170786,5),lr=Ft(lr,er,ir,or,Lt[6],3225465664,9),or=Ft(or,lr,er,ir,Lt[11],643717713,14),ir=Ft(ir,or,lr,er,Lt[0],3921069994,20),er=Ft(er,ir,or,lr,Lt[5],3593408605,5),lr=Ft(lr,er,ir,or,Lt[10],38016083,9),or=Ft(or,lr,er,ir,Lt[15],3634488961,14),ir=Ft(ir,or,lr,er,Lt[4],3889429448,20),er=Ft(er,ir,or,lr,Lt[9],568446438,5),lr=Ft(lr,er,ir,or,Lt[14],3275163606,9),or=Ft(or,lr,er,ir,Lt[3],4107603335,14),ir=Ft(ir,or,lr,er,Lt[8],1163531501,20),er=Ft(er,ir,or,lr,Lt[13],2850285829,5),lr=Ft(lr,er,ir,or,Lt[2],4243563512,9),or=Ft(or,lr,er,ir,Lt[7],1735328473,14),ir=Ft(ir,or,lr,er,Lt[12],2368359562,20),er=Nt(er,ir,or,lr,Lt[5],4294588738,4),lr=Nt(lr,er,ir,or,Lt[8],2272392833,11),or=Nt(or,lr,er,ir,Lt[11],1839030562,16),ir=Nt(ir,or,lr,er,Lt[14],4259657740,23),er=Nt(er,ir,or,lr,Lt[1],2763975236,4),lr=Nt(lr,er,ir,or,Lt[4],1272893353,11),or=Nt(or,lr,er,ir,Lt[7],4139469664,16),ir=Nt(ir,or,lr,er,Lt[10],3200236656,23),er=Nt(er,ir,or,lr,Lt[13],681279174,4),lr=Nt(lr,er,ir,or,Lt[0],3936430074,11),or=Nt(or,lr,er,ir,Lt[3],3572445317,16),ir=Nt(ir,or,lr,er,Lt[6],76029189,23),er=Nt(er,ir,or,lr,Lt[9],3654602809,4),lr=Nt(lr,er,ir,or,Lt[12],3873151461,11),or=Nt(or,lr,er,ir,Lt[15],530742520,16),ir=Nt(ir,or,lr,er,Lt[2],3299628645,23),er=jt(er,ir,or,lr,Lt[0],4096336452,6),lr=jt(lr,er,ir,or,Lt[7],1126891415,10),or=jt(or,lr,er,ir,Lt[14],2878612391,15),ir=jt(ir,or,lr,er,Lt[5],4237533241,21),er=jt(er,ir,or,lr,Lt[12],1700485571,6),lr=jt(lr,er,ir,or,Lt[3],2399980690,10),or=jt(or,lr,er,ir,Lt[10],4293915773,15),ir=jt(ir,or,lr,er,Lt[1],2240044497,21),er=jt(er,ir,or,lr,Lt[8],1873313359,6),lr=jt(lr,er,ir,or,Lt[15],4264355552,10),or=jt(or,lr,er,ir,Lt[6],2734768916,15),ir=jt(ir,or,lr,er,Lt[13],1309151649,21),er=jt(er,ir,or,lr,Lt[4],4149444226,6),lr=jt(lr,er,ir,or,Lt[11],3174756917,10),or=jt(or,lr,er,ir,Lt[2],718787259,15),ir=jt(ir,or,lr,er,Lt[9],3951481745,21),this._a=this._a+er|0,this._b=this._b+ir|0,this._c=this._c+or|0,this._d=this._d+lr|0},$t.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Lt=at.allocUnsafe(16);return Lt.writeInt32LE(this._a,0),Lt.writeInt32LE(this._b,4),Lt.writeInt32LE(this._c,8),Lt.writeInt32LE(this._d,12),Lt};function Ct(Lt,Vt){return Lt<<Vt|Lt>>>32-Vt}function Dt(Lt,Vt,er,ir,or,lr,dr){return Ct(Lt+(Vt&er|~Vt&ir)+or+lr|0,dr)+Vt|0}function Ft(Lt,Vt,er,ir,or,lr,dr){return Ct(Lt+(Vt&ir|er&~ir)+or+lr|0,dr)+Vt|0}function Nt(Lt,Vt,er,ir,or,lr,dr){return Ct(Lt+(Vt^er^ir)+or+lr|0,dr)+Vt|0}function jt(Lt,Vt,er,ir,or,lr,dr){return Ct(Lt+(er^(Vt|~ir))+or+lr|0,dr)+Vt|0}return md5_js=$t,md5_js}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var nt=require$$2$1.Buffer,et=requireInherits_browser(),at=requireHashBase(),mt=new Array(16),$t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ct=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Dt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ft=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Nt=[0,1518500249,1859775393,2400959708,2840853838],jt=[1352829926,1548603684,1836072691,2053994217,0];function Lt(){at.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}et(Lt,at),Lt.prototype._update=function(){for(var pr=mt,hr=0;hr<16;++hr)pr[hr]=this._block.readInt32LE(hr*4);for(var vr=this._a|0,br=this._b|0,xr=this._c|0,Sr=this._d|0,Er=this._e|0,$r=this._a|0,Cr=this._b|0,kr=this._c|0,gr=this._d|0,Ut=this._e|0,tr=0;tr<80;tr+=1){var nr,rr;tr<16?(nr=er(vr,br,xr,Sr,Er,pr[$t[tr]],Nt[0],Dt[tr]),rr=dr($r,Cr,kr,gr,Ut,pr[Ct[tr]],jt[0],Ft[tr])):tr<32?(nr=ir(vr,br,xr,Sr,Er,pr[$t[tr]],Nt[1],Dt[tr]),rr=lr($r,Cr,kr,gr,Ut,pr[Ct[tr]],jt[1],Ft[tr])):tr<48?(nr=or(vr,br,xr,Sr,Er,pr[$t[tr]],Nt[2],Dt[tr]),rr=or($r,Cr,kr,gr,Ut,pr[Ct[tr]],jt[2],Ft[tr])):tr<64?(nr=lr(vr,br,xr,Sr,Er,pr[$t[tr]],Nt[3],Dt[tr]),rr=ir($r,Cr,kr,gr,Ut,pr[Ct[tr]],jt[3],Ft[tr])):(nr=dr(vr,br,xr,Sr,Er,pr[$t[tr]],Nt[4],Dt[tr]),rr=er($r,Cr,kr,gr,Ut,pr[Ct[tr]],jt[4],Ft[tr])),vr=Er,Er=Sr,Sr=Vt(xr,10),xr=br,br=nr,$r=Ut,Ut=gr,gr=Vt(kr,10),kr=Cr,Cr=rr}var ar=this._b+xr+gr|0;this._b=this._c+Sr+Ut|0,this._c=this._d+Er+$r|0,this._d=this._e+vr+Cr|0,this._e=this._a+br+kr|0,this._a=ar},Lt.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var pr=nt.alloc?nt.alloc(20):new nt(20);return pr.writeInt32LE(this._a,0),pr.writeInt32LE(this._b,4),pr.writeInt32LE(this._c,8),pr.writeInt32LE(this._d,12),pr.writeInt32LE(this._e,16),pr};function Vt(pr,hr){return pr<<hr|pr>>>32-hr}function er(pr,hr,vr,br,xr,Sr,Er,$r){return Vt(pr+(hr^vr^br)+Sr+Er|0,$r)+xr|0}function ir(pr,hr,vr,br,xr,Sr,Er,$r){return Vt(pr+(hr&vr|~hr&br)+Sr+Er|0,$r)+xr|0}function or(pr,hr,vr,br,xr,Sr,Er,$r){return Vt(pr+((hr|~vr)^br)+Sr+Er|0,$r)+xr|0}function lr(pr,hr,vr,br,xr,Sr,Er,$r){return Vt(pr+(hr&br|vr&~br)+Sr+Er|0,$r)+xr|0}function dr(pr,hr,vr,br,xr,Sr,Er,$r){return Vt(pr+(hr^(vr|~br))+Sr+Er|0,$r)+xr|0}return ripemd160$1=Lt,ripemd160$1}var sha_js={exports:{}},hash$5,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$5;hasRequiredHash$1=1;var nt=requireSafeBuffer$7().Buffer;function et(at,mt){this._block=nt.alloc(at),this._finalSize=mt,this._blockSize=at,this._len=0}return et.prototype.update=function(at,mt){typeof at=="string"&&(mt=mt||"utf8",at=nt.from(at,mt));for(var $t=this._block,Ct=this._blockSize,Dt=at.length,Ft=this._len,Nt=0;Nt<Dt;){for(var jt=Ft%Ct,Lt=Math.min(Dt-Nt,Ct-jt),Vt=0;Vt<Lt;Vt++)$t[jt+Vt]=at[Nt+Vt];Ft+=Lt,Nt+=Lt,Ft%Ct===0&&this._update($t)}return this._len+=Dt,this},et.prototype.digest=function(at){var mt=this._len%this._blockSize;this._block[mt]=128,this._block.fill(0,mt+1),mt>=this._finalSize&&(this._update(this._block),this._block.fill(0));var $t=this._len*8;if($t<=4294967295)this._block.writeUInt32BE($t,this._blockSize-4);else{var Ct=($t&4294967295)>>>0,Dt=($t-Ct)/4294967296;this._block.writeUInt32BE(Dt,this._blockSize-8),this._block.writeUInt32BE(Ct,this._blockSize-4)}this._update(this._block);var Ft=this._hash();return at?Ft.toString(at):Ft},et.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$5=et,hash$5}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var nt=requireInherits_browser(),et=requireHash$1(),at=requireSafeBuffer$7().Buffer,mt=[1518500249,1859775393,-1894007588,-899497514],$t=new Array(80);function Ct(){this.init(),this._w=$t,et.call(this,64,56)}nt(Ct,et),Ct.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Dt(jt){return jt<<5|jt>>>27}function Ft(jt){return jt<<30|jt>>>2}function Nt(jt,Lt,Vt,er){return jt===0?Lt&Vt|~Lt&er:jt===2?Lt&Vt|Lt&er|Vt&er:Lt^Vt^er}return Ct.prototype._update=function(jt){for(var Lt=this._w,Vt=this._a|0,er=this._b|0,ir=this._c|0,or=this._d|0,lr=this._e|0,dr=0;dr<16;++dr)Lt[dr]=jt.readInt32BE(dr*4);for(;dr<80;++dr)Lt[dr]=Lt[dr-3]^Lt[dr-8]^Lt[dr-14]^Lt[dr-16];for(var pr=0;pr<80;++pr){var hr=~~(pr/20),vr=Dt(Vt)+Nt(hr,er,ir,or)+lr+Lt[pr]+mt[hr]|0;lr=or,or=ir,ir=Ft(er),er=Vt,Vt=vr}this._a=Vt+this._a|0,this._b=er+this._b|0,this._c=ir+this._c|0,this._d=or+this._d|0,this._e=lr+this._e|0},Ct.prototype._hash=function(){var jt=at.allocUnsafe(20);return jt.writeInt32BE(this._a|0,0),jt.writeInt32BE(this._b|0,4),jt.writeInt32BE(this._c|0,8),jt.writeInt32BE(this._d|0,12),jt.writeInt32BE(this._e|0,16),jt},sha$1=Ct,sha$1}var sha1$1,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1;var nt=requireInherits_browser(),et=requireHash$1(),at=requireSafeBuffer$7().Buffer,mt=[1518500249,1859775393,-1894007588,-899497514],$t=new Array(80);function Ct(){this.init(),this._w=$t,et.call(this,64,56)}nt(Ct,et),Ct.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Dt(Lt){return Lt<<1|Lt>>>31}function Ft(Lt){return Lt<<5|Lt>>>27}function Nt(Lt){return Lt<<30|Lt>>>2}function jt(Lt,Vt,er,ir){return Lt===0?Vt&er|~Vt&ir:Lt===2?Vt&er|Vt&ir|er&ir:Vt^er^ir}return Ct.prototype._update=function(Lt){for(var Vt=this._w,er=this._a|0,ir=this._b|0,or=this._c|0,lr=this._d|0,dr=this._e|0,pr=0;pr<16;++pr)Vt[pr]=Lt.readInt32BE(pr*4);for(;pr<80;++pr)Vt[pr]=Dt(Vt[pr-3]^Vt[pr-8]^Vt[pr-14]^Vt[pr-16]);for(var hr=0;hr<80;++hr){var vr=~~(hr/20),br=Ft(er)+jt(vr,ir,or,lr)+dr+Vt[hr]+mt[vr]|0;dr=lr,lr=or,or=Nt(ir),ir=er,er=br}this._a=er+this._a|0,this._b=ir+this._b|0,this._c=or+this._c|0,this._d=lr+this._d|0,this._e=dr+this._e|0},Ct.prototype._hash=function(){var Lt=at.allocUnsafe(20);return Lt.writeInt32BE(this._a|0,0),Lt.writeInt32BE(this._b|0,4),Lt.writeInt32BE(this._c|0,8),Lt.writeInt32BE(this._d|0,12),Lt.writeInt32BE(this._e|0,16),Lt},sha1$1=Ct,sha1$1}var sha256$2,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$2;hasRequiredSha256$1=1;var nt=requireInherits_browser(),et=requireHash$1(),at=requireSafeBuffer$7().Buffer,mt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],$t=new Array(64);function Ct(){this.init(),this._w=$t,et.call(this,64,56)}nt(Ct,et),Ct.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Dt(er,ir,or){return or^er&(ir^or)}function Ft(er,ir,or){return er&ir|or&(er|ir)}function Nt(er){return(er>>>2|er<<30)^(er>>>13|er<<19)^(er>>>22|er<<10)}function jt(er){return(er>>>6|er<<26)^(er>>>11|er<<21)^(er>>>25|er<<7)}function Lt(er){return(er>>>7|er<<25)^(er>>>18|er<<14)^er>>>3}function Vt(er){return(er>>>17|er<<15)^(er>>>19|er<<13)^er>>>10}return Ct.prototype._update=function(er){for(var ir=this._w,or=this._a|0,lr=this._b|0,dr=this._c|0,pr=this._d|0,hr=this._e|0,vr=this._f|0,br=this._g|0,xr=this._h|0,Sr=0;Sr<16;++Sr)ir[Sr]=er.readInt32BE(Sr*4);for(;Sr<64;++Sr)ir[Sr]=Vt(ir[Sr-2])+ir[Sr-7]+Lt(ir[Sr-15])+ir[Sr-16]|0;for(var Er=0;Er<64;++Er){var $r=xr+jt(hr)+Dt(hr,vr,br)+mt[Er]+ir[Er]|0,Cr=Nt(or)+Ft(or,lr,dr)|0;xr=br,br=vr,vr=hr,hr=pr+$r|0,pr=dr,dr=lr,lr=or,or=$r+Cr|0}this._a=or+this._a|0,this._b=lr+this._b|0,this._c=dr+this._c|0,this._d=pr+this._d|0,this._e=hr+this._e|0,this._f=vr+this._f|0,this._g=br+this._g|0,this._h=xr+this._h|0},Ct.prototype._hash=function(){var er=at.allocUnsafe(32);return er.writeInt32BE(this._a,0),er.writeInt32BE(this._b,4),er.writeInt32BE(this._c,8),er.writeInt32BE(this._d,12),er.writeInt32BE(this._e,16),er.writeInt32BE(this._f,20),er.writeInt32BE(this._g,24),er.writeInt32BE(this._h,28),er},sha256$2=Ct,sha256$2}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var nt=requireInherits_browser(),et=requireSha256$1(),at=requireHash$1(),mt=requireSafeBuffer$7().Buffer,$t=new Array(64);function Ct(){this.init(),this._w=$t,at.call(this,64,56)}return nt(Ct,et),Ct.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Ct.prototype._hash=function(){var Dt=mt.allocUnsafe(28);return Dt.writeInt32BE(this._a,0),Dt.writeInt32BE(this._b,4),Dt.writeInt32BE(this._c,8),Dt.writeInt32BE(this._d,12),Dt.writeInt32BE(this._e,16),Dt.writeInt32BE(this._f,20),Dt.writeInt32BE(this._g,24),Dt},sha224$2=Ct,sha224$2}var sha512$2,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$2;hasRequiredSha512$1=1;var nt=requireInherits_browser(),et=requireHash$1(),at=requireSafeBuffer$7().Buffer,mt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],$t=new Array(160);function Ct(){this.init(),this._w=$t,et.call(this,128,112)}nt(Ct,et),Ct.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Dt(lr,dr,pr){return pr^lr&(dr^pr)}function Ft(lr,dr,pr){return lr&dr|pr&(lr|dr)}function Nt(lr,dr){return(lr>>>28|dr<<4)^(dr>>>2|lr<<30)^(dr>>>7|lr<<25)}function jt(lr,dr){return(lr>>>14|dr<<18)^(lr>>>18|dr<<14)^(dr>>>9|lr<<23)}function Lt(lr,dr){return(lr>>>1|dr<<31)^(lr>>>8|dr<<24)^lr>>>7}function Vt(lr,dr){return(lr>>>1|dr<<31)^(lr>>>8|dr<<24)^(lr>>>7|dr<<25)}function er(lr,dr){return(lr>>>19|dr<<13)^(dr>>>29|lr<<3)^lr>>>6}function ir(lr,dr){return(lr>>>19|dr<<13)^(dr>>>29|lr<<3)^(lr>>>6|dr<<26)}function or(lr,dr){return lr>>>0<dr>>>0?1:0}return Ct.prototype._update=function(lr){for(var dr=this._w,pr=this._ah|0,hr=this._bh|0,vr=this._ch|0,br=this._dh|0,xr=this._eh|0,Sr=this._fh|0,Er=this._gh|0,$r=this._hh|0,Cr=this._al|0,kr=this._bl|0,gr=this._cl|0,Ut=this._dl|0,tr=this._el|0,nr=this._fl|0,rr=this._gl|0,ar=this._hl|0,cr=0;cr<32;cr+=2)dr[cr]=lr.readInt32BE(cr*4),dr[cr+1]=lr.readInt32BE(cr*4+4);for(;cr<160;cr+=2){var fr=dr[cr-30],sr=dr[cr-15*2+1],Yt=Lt(fr,sr),ur=Vt(sr,fr);fr=dr[cr-2*2],sr=dr[cr-2*2+1];var _r=er(fr,sr),yr=ir(sr,fr),wr=dr[cr-7*2],Ir=dr[cr-7*2+1],Or=dr[cr-16*2],Ar=dr[cr-16*2+1],Nr=ur+Ir|0,Hr=Yt+wr+or(Nr,ur)|0;Nr=Nr+yr|0,Hr=Hr+_r+or(Nr,yr)|0,Nr=Nr+Ar|0,Hr=Hr+Or+or(Nr,Ar)|0,dr[cr]=Hr,dr[cr+1]=Nr}for(var Pr=0;Pr<160;Pr+=2){Hr=dr[Pr],Nr=dr[Pr+1];var Dr=Ft(pr,hr,vr),Rr=Ft(Cr,kr,gr),Vr=Nt(pr,Cr),an=Nt(Cr,pr),Xr=jt(xr,tr),Jr=jt(tr,xr),Zr=mt[Pr],Gr=mt[Pr+1],zr=Dt(xr,Sr,Er),Dn=Dt(tr,nr,rr),Qr=ar+Jr|0,Un=$r+Xr+or(Qr,ar)|0;Qr=Qr+Dn|0,Un=Un+zr+or(Qr,Dn)|0,Qr=Qr+Gr|0,Un=Un+Zr+or(Qr,Gr)|0,Qr=Qr+Nr|0,Un=Un+Hr+or(Qr,Nr)|0;var ro=an+Rr|0,Hn=Vr+Dr+or(ro,an)|0;$r=Er,ar=rr,Er=Sr,rr=nr,Sr=xr,nr=tr,tr=Ut+Qr|0,xr=br+Un+or(tr,Ut)|0,br=vr,Ut=gr,vr=hr,gr=kr,hr=pr,kr=Cr,Cr=Qr+ro|0,pr=Un+Hn+or(Cr,Qr)|0}this._al=this._al+Cr|0,this._bl=this._bl+kr|0,this._cl=this._cl+gr|0,this._dl=this._dl+Ut|0,this._el=this._el+tr|0,this._fl=this._fl+nr|0,this._gl=this._gl+rr|0,this._hl=this._hl+ar|0,this._ah=this._ah+pr+or(this._al,Cr)|0,this._bh=this._bh+hr+or(this._bl,kr)|0,this._ch=this._ch+vr+or(this._cl,gr)|0,this._dh=this._dh+br+or(this._dl,Ut)|0,this._eh=this._eh+xr+or(this._el,tr)|0,this._fh=this._fh+Sr+or(this._fl,nr)|0,this._gh=this._gh+Er+or(this._gl,rr)|0,this._hh=this._hh+$r+or(this._hl,ar)|0},Ct.prototype._hash=function(){var lr=at.allocUnsafe(64);function dr(pr,hr,vr){lr.writeInt32BE(pr,vr),lr.writeInt32BE(hr,vr+4)}return dr(this._ah,this._al,0),dr(this._bh,this._bl,8),dr(this._ch,this._cl,16),dr(this._dh,this._dl,24),dr(this._eh,this._el,32),dr(this._fh,this._fl,40),dr(this._gh,this._gl,48),dr(this._hh,this._hl,56),lr},sha512$2=Ct,sha512$2}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var nt=requireInherits_browser(),et=requireSha512$1(),at=requireHash$1(),mt=requireSafeBuffer$7().Buffer,$t=new Array(160);function Ct(){this.init(),this._w=$t,at.call(this,128,112)}return nt(Ct,et),Ct.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Ct.prototype._hash=function(){var Dt=mt.allocUnsafe(48);function Ft(Nt,jt,Lt){Dt.writeInt32BE(Nt,Lt),Dt.writeInt32BE(jt,Lt+4)}return Ft(this._ah,this._al,0),Ft(this._bh,this._bl,8),Ft(this._ch,this._cl,16),Ft(this._dh,this._dl,24),Ft(this._eh,this._el,32),Ft(this._fh,this._fl,40),Dt},sha384$2=Ct,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var nt=sha_js.exports=function(at){at=at.toLowerCase();var mt=nt[at];if(!mt)throw new Error(at+" is not supported (we accept pull requests)");return new mt};return nt.sha=requireSha$1(),nt.sha1=requireSha1$1(),nt.sha224=requireSha224$1(),nt.sha256=requireSha256$1(),nt.sha384=requireSha384$1(),nt.sha512=requireSha512$1(),sha_js.exports}var safeBuffer$4={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$4;function requireSafeBuffer$4(){return hasRequiredSafeBuffer$4||(hasRequiredSafeBuffer$4=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}Ct.prototype=Object.create(mt.prototype),$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer$4,safeBuffer$4.exports)),safeBuffer$4.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var nt=requireSafeBuffer$4().Buffer,et=requireStreamBrowserify().Transform,at=requireString_decoder().StringDecoder,mt=requireInherits_browser();function $t(Nt){et.call(this),this.hashMode=typeof Nt=="string",this.hashMode?this[Nt]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}mt($t,et);var Ct=typeof Uint8Array<"u",Dt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(nt.prototype instanceof Uint8Array||nt.TYPED_ARRAY_SUPPORT);function Ft(Nt,jt){if(Nt instanceof nt)return Nt;if(typeof Nt=="string")return nt.from(Nt,jt);if(Dt&&ArrayBuffer.isView(Nt)){if(Nt.byteLength===0)return nt.alloc(0);var Lt=nt.from(Nt.buffer,Nt.byteOffset,Nt.byteLength);if(Lt.byteLength===Nt.byteLength)return Lt}if(Ct&&Nt instanceof Uint8Array||nt.isBuffer(Nt)&&Nt.constructor&&typeof Nt.constructor.isBuffer=="function"&&Nt.constructor.isBuffer(Nt))return nt.from(Nt);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return $t.prototype.update=function(Nt,jt,Lt){var Vt=Ft(Nt,jt),er=this._update(Vt);return this.hashMode?this:(Lt&&(er=this._toString(er,Lt)),er)},$t.prototype.setAutoPadding=function(){},$t.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},$t.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},$t.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},$t.prototype._transform=function(Nt,jt,Lt){var Vt;try{this.hashMode?this._update(Nt):this.push(this._update(Nt))}catch(er){Vt=er}finally{Lt(Vt)}},$t.prototype._flush=function(Nt){var jt;try{this.push(this.__final())}catch(Lt){jt=Lt}Nt(jt)},$t.prototype._finalOrDigest=function(Nt){var jt=this.__final()||nt.alloc(0);return Nt&&(jt=this._toString(jt,Nt,!0)),jt},$t.prototype._toString=function(Nt,jt,Lt){if(this._decoder||(this._decoder=new at(jt),this._encoding=jt),this._encoding!==jt)throw new Error("can’t switch encodings");var Vt=this._decoder.write(Nt);return Lt&&(Vt+=this._decoder.end()),Vt},cipherBase=$t,cipherBase}var browser$c,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$c;hasRequiredBrowser$9=1;var nt=requireInherits_browser(),et=requireMd5_js(),at=requireRipemd160$1(),mt=requireSha_js(),$t=requireCipherBase();function Ct(Dt){$t.call(this,"digest"),this._hash=Dt}return nt(Ct,$t),Ct.prototype._update=function(Dt){this._hash.update(Dt)},Ct.prototype._final=function(){return this._hash.digest()},browser$c=function(Ft){return Ft=Ft.toLowerCase(),Ft==="md5"?new et:Ft==="rmd160"||Ft==="ripemd160"?new at:new Ct(mt(Ft))},browser$c}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var nt=requireInherits_browser(),et=requireSafeBuffer$7().Buffer,at=requireCipherBase(),mt=et.alloc(128),$t=64;function Ct(Dt,Ft){at.call(this,"digest"),typeof Ft=="string"&&(Ft=et.from(Ft)),this._alg=Dt,this._key=Ft,Ft.length>$t?Ft=Dt(Ft):Ft.length<$t&&(Ft=et.concat([Ft,mt],$t));for(var Nt=this._ipad=et.allocUnsafe($t),jt=this._opad=et.allocUnsafe($t),Lt=0;Lt<$t;Lt++)Nt[Lt]=Ft[Lt]^54,jt[Lt]=Ft[Lt]^92;this._hash=[Nt]}return nt(Ct,at),Ct.prototype._update=function(Dt){this._hash.push(Dt)},Ct.prototype._final=function(){var Dt=this._alg(et.concat(this._hash));return this._alg(et.concat([this._opad,Dt]))},legacy=Ct,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var nt=requireMd5_js();return md5$1=function(et){return new nt().update(et).digest()},md5$1}var browser$b,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$b;hasRequiredBrowser$8=1;var nt=requireInherits_browser(),et=requireLegacy(),at=requireCipherBase(),mt=requireSafeBuffer$7().Buffer,$t=requireMd5$1(),Ct=requireRipemd160$1(),Dt=requireSha_js(),Ft=mt.alloc(128);function Nt(jt,Lt){at.call(this,"digest"),typeof Lt=="string"&&(Lt=mt.from(Lt));var Vt=jt==="sha512"||jt==="sha384"?128:64;if(this._alg=jt,this._key=Lt,Lt.length>Vt){var er=jt==="rmd160"?new Ct:Dt(jt);Lt=er.update(Lt).digest()}else Lt.length<Vt&&(Lt=mt.concat([Lt,Ft],Vt));for(var ir=this._ipad=mt.allocUnsafe(Vt),or=this._opad=mt.allocUnsafe(Vt),lr=0;lr<Vt;lr++)ir[lr]=Lt[lr]^54,or[lr]=Lt[lr]^92;this._hash=jt==="rmd160"?new Ct:Dt(jt),this._hash.update(ir)}return nt(Nt,at),Nt.prototype._update=function(jt){this._hash.update(jt)},Nt.prototype._final=function(){var jt=this._hash.digest(),Lt=this._alg==="rmd160"?new Ct:Dt(this._alg);return Lt.update(this._opad).update(jt).digest()},browser$b=function(Lt,Vt){return Lt=Lt.toLowerCase(),Lt==="rmd160"||Lt==="ripemd160"?new Nt("rmd160",Vt):Lt==="md5"?new et($t,Vt):new Nt(Lt,Vt)},browser$b}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224:sha224$1,sha384:sha384$1,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$a={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var nt=Math.pow(2,30)-1;return precondition=function(et,at){if(typeof et!="number")throw new TypeError("Iterations not a number");if(et<0)throw new TypeError("Bad iterations");if(typeof at!="number")throw new TypeError("Key length not a number");if(at<0||at>nt||at!==at)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var nt;if(commonjsGlobal$1.process&&commonjsGlobal$1.process.browser)nt="utf-8";else if(commonjsGlobal$1.process&&commonjsGlobal$1.process.version){var et=parseInt(process$1.version.split(".")[0].slice(1),10);nt=et>=6?"utf-8":"binary"}else nt="utf-8";return defaultEncoding_1=nt,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var nt=requireSafeBuffer$7().Buffer;return toBuffer=function(et,at,mt){if(nt.isBuffer(et))return et;if(typeof et=="string")return nt.from(et,at);if(ArrayBuffer.isView(et))return nt.from(et.buffer);throw new TypeError(mt+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var nt=requireMd5$1(),et=requireRipemd160$1(),at=requireSha_js(),mt=requireSafeBuffer$7().Buffer,$t=requirePrecondition(),Ct=requireDefaultEncoding(),Dt=requireToBuffer(),Ft=mt.alloc(128),Nt={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function jt(er,ir,or){var lr=Lt(er),dr=er==="sha512"||er==="sha384"?128:64;ir.length>dr?ir=lr(ir):ir.length<dr&&(ir=mt.concat([ir,Ft],dr));for(var pr=mt.allocUnsafe(dr+Nt[er]),hr=mt.allocUnsafe(dr+Nt[er]),vr=0;vr<dr;vr++)pr[vr]=ir[vr]^54,hr[vr]=ir[vr]^92;var br=mt.allocUnsafe(dr+or+4);pr.copy(br,0,0,dr),this.ipad1=br,this.ipad2=pr,this.opad=hr,this.alg=er,this.blocksize=dr,this.hash=lr,this.size=Nt[er]}jt.prototype.run=function(er,ir){er.copy(ir,this.blocksize);var or=this.hash(ir);return or.copy(this.opad,this.blocksize),this.hash(this.opad)};function Lt(er){function ir(lr){return at(er).update(lr).digest()}function or(lr){return new et().update(lr).digest()}return er==="rmd160"||er==="ripemd160"?or:er==="md5"?nt:ir}function Vt(er,ir,or,lr,dr){$t(or,lr),er=Dt(er,Ct,"Password"),ir=Dt(ir,Ct,"Salt"),dr=dr||"sha1";var pr=new jt(dr,er,ir.length),hr=mt.allocUnsafe(lr),vr=mt.allocUnsafe(ir.length+4);ir.copy(vr,0,0,ir.length);for(var br=0,xr=Nt[dr],Sr=Math.ceil(lr/xr),Er=1;Er<=Sr;Er++){vr.writeUInt32BE(Er,ir.length);for(var $r=pr.run(vr,pr.ipad1),Cr=$r,kr=1;kr<or;kr++){Cr=pr.run(Cr,pr.ipad2);for(var gr=0;gr<xr;gr++)$r[gr]^=Cr[gr]}$r.copy(hr,br),br+=xr}return hr}return syncBrowser=Vt,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var nt=requireSafeBuffer$7().Buffer,et=requirePrecondition(),at=requireDefaultEncoding(),mt=requireSyncBrowser(),$t=requireToBuffer(),Ct,Dt=commonjsGlobal$1.crypto&&commonjsGlobal$1.crypto.subtle,Ft={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Nt=[];function jt(or){if(commonjsGlobal$1.process&&!commonjsGlobal$1.process.browser||!Dt||!Dt.importKey||!Dt.deriveBits)return Promise.resolve(!1);if(Nt[or]!==void 0)return Nt[or];Ct=Ct||nt.alloc(8);var lr=er(Ct,Ct,10,128,or).then(function(){return!0}).catch(function(){return!1});return Nt[or]=lr,lr}var Lt;function Vt(){return Lt||(commonjsGlobal$1.process&&commonjsGlobal$1.process.nextTick?Lt=commonjsGlobal$1.process.nextTick:commonjsGlobal$1.queueMicrotask?Lt=commonjsGlobal$1.queueMicrotask:commonjsGlobal$1.setImmediate?Lt=commonjsGlobal$1.setImmediate:Lt=commonjsGlobal$1.setTimeout,Lt)}function er(or,lr,dr,pr,hr){return Dt.importKey("raw",or,{name:"PBKDF2"},!1,["deriveBits"]).then(function(vr){return Dt.deriveBits({name:"PBKDF2",salt:lr,iterations:dr,hash:{name:hr}},vr,pr<<3)}).then(function(vr){return nt.from(vr)})}function ir(or,lr){or.then(function(dr){Vt()(function(){lr(null,dr)})},function(dr){Vt()(function(){lr(dr)})})}return async=function(or,lr,dr,pr,hr,vr){typeof hr=="function"&&(vr=hr,hr=void 0),hr=hr||"sha1";var br=Ft[hr.toLowerCase()];if(!br||typeof commonjsGlobal$1.Promise!="function"){Vt()(function(){var xr;try{xr=mt(or,lr,dr,pr,hr)}catch(Sr){return vr(Sr)}vr(null,xr)});return}if(et(dr,pr),or=$t(or,at,"Password"),lr=$t(lr,at,"Salt"),typeof vr!="function")throw new Error("No callback provided to pbkdf2");ir(jt(br).then(function(xr){return xr?er(or,lr,dr,pr,br):mt(or,lr,dr,pr,hr)}),vr)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$a.pbkdf2=requireAsync(),browser$a.pbkdf2Sync=requireSyncBrowser()),browser$a}var browser$9={},des$1={},utils$6={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$6;hasRequiredUtils$3=1,utils$6.readUInt32BE=function($t,Ct){var Dt=$t[0+Ct]<<24|$t[1+Ct]<<16|$t[2+Ct]<<8|$t[3+Ct];return Dt>>>0},utils$6.writeUInt32BE=function($t,Ct,Dt){$t[0+Dt]=Ct>>>24,$t[1+Dt]=Ct>>>16&255,$t[2+Dt]=Ct>>>8&255,$t[3+Dt]=Ct&255},utils$6.ip=function($t,Ct,Dt,Ft){for(var Nt=0,jt=0,Lt=6;Lt>=0;Lt-=2){for(var Vt=0;Vt<=24;Vt+=8)Nt<<=1,Nt|=Ct>>>Vt+Lt&1;for(var Vt=0;Vt<=24;Vt+=8)Nt<<=1,Nt|=$t>>>Vt+Lt&1}for(var Lt=6;Lt>=0;Lt-=2){for(var Vt=1;Vt<=25;Vt+=8)jt<<=1,jt|=Ct>>>Vt+Lt&1;for(var Vt=1;Vt<=25;Vt+=8)jt<<=1,jt|=$t>>>Vt+Lt&1}Dt[Ft+0]=Nt>>>0,Dt[Ft+1]=jt>>>0},utils$6.rip=function($t,Ct,Dt,Ft){for(var Nt=0,jt=0,Lt=0;Lt<4;Lt++)for(var Vt=24;Vt>=0;Vt-=8)Nt<<=1,Nt|=Ct>>>Vt+Lt&1,Nt<<=1,Nt|=$t>>>Vt+Lt&1;for(var Lt=4;Lt<8;Lt++)for(var Vt=24;Vt>=0;Vt-=8)jt<<=1,jt|=Ct>>>Vt+Lt&1,jt<<=1,jt|=$t>>>Vt+Lt&1;Dt[Ft+0]=Nt>>>0,Dt[Ft+1]=jt>>>0},utils$6.pc1=function($t,Ct,Dt,Ft){for(var Nt=0,jt=0,Lt=7;Lt>=5;Lt--){for(var Vt=0;Vt<=24;Vt+=8)Nt<<=1,Nt|=Ct>>Vt+Lt&1;for(var Vt=0;Vt<=24;Vt+=8)Nt<<=1,Nt|=$t>>Vt+Lt&1}for(var Vt=0;Vt<=24;Vt+=8)Nt<<=1,Nt|=Ct>>Vt+Lt&1;for(var Lt=1;Lt<=3;Lt++){for(var Vt=0;Vt<=24;Vt+=8)jt<<=1,jt|=Ct>>Vt+Lt&1;for(var Vt=0;Vt<=24;Vt+=8)jt<<=1,jt|=$t>>Vt+Lt&1}for(var Vt=0;Vt<=24;Vt+=8)jt<<=1,jt|=$t>>Vt+Lt&1;Dt[Ft+0]=Nt>>>0,Dt[Ft+1]=jt>>>0},utils$6.r28shl=function($t,Ct){return $t<<Ct&268435455|$t>>>28-Ct};var nt=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$6.pc2=function($t,Ct,Dt,Ft){for(var Nt=0,jt=0,Lt=nt.length>>>1,Vt=0;Vt<Lt;Vt++)Nt<<=1,Nt|=$t>>>nt[Vt]&1;for(var Vt=Lt;Vt<nt.length;Vt++)jt<<=1,jt|=Ct>>>nt[Vt]&1;Dt[Ft+0]=Nt>>>0,Dt[Ft+1]=jt>>>0},utils$6.expand=function($t,Ct,Dt){var Ft=0,Nt=0;Ft=($t&1)<<5|$t>>>27;for(var jt=23;jt>=15;jt-=4)Ft<<=6,Ft|=$t>>>jt&63;for(var jt=11;jt>=3;jt-=4)Nt|=$t>>>jt&63,Nt<<=6;Nt|=($t&31)<<1|$t>>>31,Ct[Dt+0]=Ft>>>0,Ct[Dt+1]=Nt>>>0};var et=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$6.substitute=function($t,Ct){for(var Dt=0,Ft=0;Ft<4;Ft++){var Nt=$t>>>18-Ft*6&63,jt=et[Ft*64+Nt];Dt<<=4,Dt|=jt}for(var Ft=0;Ft<4;Ft++){var Nt=Ct>>>18-Ft*6&63,jt=et[4*64+Ft*64+Nt];Dt<<=4,Dt|=jt}return Dt>>>0};var at=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$6.permute=function($t){for(var Ct=0,Dt=0;Dt<at.length;Dt++)Ct<<=1,Ct|=$t>>>at[Dt]&1;return Ct>>>0},utils$6.padSplit=function($t,Ct,Dt){for(var Ft=$t.toString(2);Ft.length<Ct;)Ft="0"+Ft;for(var Nt=[],jt=0;jt<Ct;jt+=Dt)Nt.push(Ft.slice(jt,jt+Dt));return Nt.join(" ")},utils$6}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=nt;function nt(et,at){if(!et)throw new Error(at||"Assertion failed")}return nt.equal=function(at,mt,$t){if(at!=mt)throw new Error($t||"Assertion failed: "+at+" != "+mt)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var nt=requireMinimalisticAssert();function et(at){this.options=at,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=at.padding!==!1}return cipher=et,et.prototype._init=function(){},et.prototype.update=function(mt){return mt.length===0?[]:this.type==="decrypt"?this._updateDecrypt(mt):this._updateEncrypt(mt)},et.prototype._buffer=function(mt,$t){for(var Ct=Math.min(this.buffer.length-this.bufferOff,mt.length-$t),Dt=0;Dt<Ct;Dt++)this.buffer[this.bufferOff+Dt]=mt[$t+Dt];return this.bufferOff+=Ct,Ct},et.prototype._flushBuffer=function(mt,$t){return this._update(this.buffer,0,mt,$t),this.bufferOff=0,this.blockSize},et.prototype._updateEncrypt=function(mt){var $t=0,Ct=0,Dt=(this.bufferOff+mt.length)/this.blockSize|0,Ft=new Array(Dt*this.blockSize);this.bufferOff!==0&&($t+=this._buffer(mt,$t),this.bufferOff===this.buffer.length&&(Ct+=this._flushBuffer(Ft,Ct)));for(var Nt=mt.length-(mt.length-$t)%this.blockSize;$t<Nt;$t+=this.blockSize)this._update(mt,$t,Ft,Ct),Ct+=this.blockSize;for(;$t<mt.length;$t++,this.bufferOff++)this.buffer[this.bufferOff]=mt[$t];return Ft},et.prototype._updateDecrypt=function(mt){for(var $t=0,Ct=0,Dt=Math.ceil((this.bufferOff+mt.length)/this.blockSize)-1,Ft=new Array(Dt*this.blockSize);Dt>0;Dt--)$t+=this._buffer(mt,$t),Ct+=this._flushBuffer(Ft,Ct);return $t+=this._buffer(mt,$t),Ft},et.prototype.final=function(mt){var $t;mt&&($t=this.update(mt));var Ct;return this.type==="encrypt"?Ct=this._finalEncrypt():Ct=this._finalDecrypt(),$t?$t.concat(Ct):Ct},et.prototype._pad=function(mt,$t){if($t===0)return!1;for(;$t<mt.length;)mt[$t++]=0;return!0},et.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var mt=new Array(this.blockSize);return this._update(this.buffer,0,mt,0),mt},et.prototype._unpad=function(mt){return mt},et.prototype._finalDecrypt=function(){nt.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var mt=new Array(this.blockSize);return this._flushBuffer(mt,0),this._unpad(mt)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var nt=requireMinimalisticAssert(),et=requireInherits_browser(),at=requireUtils$3(),mt=requireCipher();function $t(){this.tmp=new Array(2),this.keys=null}function Ct(Ft){mt.call(this,Ft);var Nt=new $t;this._desState=Nt,this.deriveKeys(Nt,Ft.key)}et(Ct,mt),des=Ct,Ct.create=function(Nt){return new Ct(Nt)};var Dt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return Ct.prototype.deriveKeys=function(Nt,jt){Nt.keys=new Array(16*2),nt.equal(jt.length,this.blockSize,"Invalid key length");var Lt=at.readUInt32BE(jt,0),Vt=at.readUInt32BE(jt,4);at.pc1(Lt,Vt,Nt.tmp,0),Lt=Nt.tmp[0],Vt=Nt.tmp[1];for(var er=0;er<Nt.keys.length;er+=2){var ir=Dt[er>>>1];Lt=at.r28shl(Lt,ir),Vt=at.r28shl(Vt,ir),at.pc2(Lt,Vt,Nt.keys,er)}},Ct.prototype._update=function(Nt,jt,Lt,Vt){var er=this._desState,ir=at.readUInt32BE(Nt,jt),or=at.readUInt32BE(Nt,jt+4);at.ip(ir,or,er.tmp,0),ir=er.tmp[0],or=er.tmp[1],this.type==="encrypt"?this._encrypt(er,ir,or,er.tmp,0):this._decrypt(er,ir,or,er.tmp,0),ir=er.tmp[0],or=er.tmp[1],at.writeUInt32BE(Lt,ir,Vt),at.writeUInt32BE(Lt,or,Vt+4)},Ct.prototype._pad=function(Nt,jt){if(this.padding===!1)return!1;for(var Lt=Nt.length-jt,Vt=jt;Vt<Nt.length;Vt++)Nt[Vt]=Lt;return!0},Ct.prototype._unpad=function(Nt){if(this.padding===!1)return Nt;for(var jt=Nt[Nt.length-1],Lt=Nt.length-jt;Lt<Nt.length;Lt++)nt.equal(Nt[Lt],jt);return Nt.slice(0,Nt.length-jt)},Ct.prototype._encrypt=function(Nt,jt,Lt,Vt,er){for(var ir=jt,or=Lt,lr=0;lr<Nt.keys.length;lr+=2){var dr=Nt.keys[lr],pr=Nt.keys[lr+1];at.expand(or,Nt.tmp,0),dr^=Nt.tmp[0],pr^=Nt.tmp[1];var hr=at.substitute(dr,pr),vr=at.permute(hr),br=or;or=(ir^vr)>>>0,ir=br}at.rip(or,ir,Vt,er)},Ct.prototype._decrypt=function(Nt,jt,Lt,Vt,er){for(var ir=Lt,or=jt,lr=Nt.keys.length-2;lr>=0;lr-=2){var dr=Nt.keys[lr],pr=Nt.keys[lr+1];at.expand(ir,Nt.tmp,0),dr^=Nt.tmp[0],pr^=Nt.tmp[1];var hr=at.substitute(dr,pr),vr=at.permute(hr),br=ir;ir=(or^vr)>>>0,or=br}at.rip(ir,or,Vt,er)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var nt=requireMinimalisticAssert(),et=requireInherits_browser(),at={};function mt(Ct){nt.equal(Ct.length,8,"Invalid IV length"),this.iv=new Array(8);for(var Dt=0;Dt<this.iv.length;Dt++)this.iv[Dt]=Ct[Dt]}function $t(Ct){function Dt(Lt){Ct.call(this,Lt),this._cbcInit()}et(Dt,Ct);for(var Ft=Object.keys(at),Nt=0;Nt<Ft.length;Nt++){var jt=Ft[Nt];Dt.prototype[jt]=at[jt]}return Dt.create=function(Vt){return new Dt(Vt)},Dt}return cbc$1.instantiate=$t,at._cbcInit=function(){var Dt=new mt(this.options.iv);this._cbcState=Dt},at._update=function(Dt,Ft,Nt,jt){var Lt=this._cbcState,Vt=this.constructor.super_.prototype,er=Lt.iv;if(this.type==="encrypt"){for(var ir=0;ir<this.blockSize;ir++)er[ir]^=Dt[Ft+ir];Vt._update.call(this,er,0,Nt,jt);for(var ir=0;ir<this.blockSize;ir++)er[ir]=Nt[jt+ir]}else{Vt._update.call(this,Dt,Ft,Nt,jt);for(var ir=0;ir<this.blockSize;ir++)Nt[jt+ir]^=er[ir];for(var ir=0;ir<this.blockSize;ir++)er[ir]=Dt[Ft+ir]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var nt=requireMinimalisticAssert(),et=requireInherits_browser(),at=requireCipher(),mt=requireDes$1();function $t(Dt,Ft){nt.equal(Ft.length,24,"Invalid key length");var Nt=Ft.slice(0,8),jt=Ft.slice(8,16),Lt=Ft.slice(16,24);Dt==="encrypt"?this.ciphers=[mt.create({type:"encrypt",key:Nt}),mt.create({type:"decrypt",key:jt}),mt.create({type:"encrypt",key:Lt})]:this.ciphers=[mt.create({type:"decrypt",key:Lt}),mt.create({type:"encrypt",key:jt}),mt.create({type:"decrypt",key:Nt})]}function Ct(Dt){at.call(this,Dt);var Ft=new $t(this.type,this.options.key);this._edeState=Ft}return et(Ct,at),ede=Ct,Ct.create=function(Ft){return new Ct(Ft)},Ct.prototype._update=function(Ft,Nt,jt,Lt){var Vt=this._edeState;Vt.ciphers[0]._update(Ft,Nt,jt,Lt),Vt.ciphers[1]._update(jt,Lt,jt,Lt),Vt.ciphers[2]._update(jt,Lt,jt,Lt)},Ct.prototype._pad=mt.prototype._pad,Ct.prototype._unpad=mt.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var nt=requireCipherBase(),et=requireDes(),at=requireInherits_browser(),mt=requireSafeBuffer$7().Buffer,$t={"des-ede3-cbc":et.CBC.instantiate(et.EDE),"des-ede3":et.EDE,"des-ede-cbc":et.CBC.instantiate(et.EDE),"des-ede":et.EDE,"des-cbc":et.CBC.instantiate(et.DES),"des-ecb":et.DES};$t.des=$t["des-cbc"],$t.des3=$t["des-ede3-cbc"],browserifyDes=Ct,at(Ct,nt);function Ct(Dt){nt.call(this);var Ft=Dt.mode.toLowerCase(),Nt=$t[Ft],jt;Dt.decrypt?jt="decrypt":jt="encrypt";var Lt=Dt.key;mt.isBuffer(Lt)||(Lt=mt.from(Lt)),(Ft==="des-ede"||Ft==="des-ede-cbc")&&(Lt=mt.concat([Lt,Lt.slice(0,8)]));var Vt=Dt.iv;mt.isBuffer(Vt)||(Vt=mt.from(Vt)),this._des=Nt.create({key:Lt,iv:Vt,type:jt})}return Ct.prototype._update=function(Dt){return mt.from(this._des.update(Dt))},Ct.prototype._final=function(){return mt.from(this._des.final())},browserifyDes}var browser$8={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(nt,et){return nt._cipher.encryptBlock(et)},ecb.decrypt=function(nt,et){return nt._cipher.decryptBlock(et)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(et,at){for(var mt=Math.min(et.length,at.length),$t=new Buffer$1(mt),Ct=0;Ct<mt;++Ct)$t[Ct]=et[Ct]^at[Ct];return $t}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var nt=requireBufferXor();return cbc.encrypt=function(et,at){var mt=nt(at,et._prev);return et._prev=et._cipher.encryptBlock(mt),et._prev},cbc.decrypt=function(et,at){var mt=et._prev;et._prev=at;var $t=et._cipher.decryptBlock(at);return nt($t,mt)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var nt=requireSafeBuffer$7().Buffer,et=requireBufferXor();function at(mt,$t,Ct){var Dt=$t.length,Ft=et($t,mt._cache);return mt._cache=mt._cache.slice(Dt),mt._prev=nt.concat([mt._prev,Ct?$t:Ft]),Ft}return cfb.encrypt=function(mt,$t,Ct){for(var Dt=nt.allocUnsafe(0),Ft;$t.length;)if(mt._cache.length===0&&(mt._cache=mt._cipher.encryptBlock(mt._prev),mt._prev=nt.allocUnsafe(0)),mt._cache.length<=$t.length)Ft=mt._cache.length,Dt=nt.concat([Dt,at(mt,$t.slice(0,Ft),Ct)]),$t=$t.slice(Ft);else{Dt=nt.concat([Dt,at(mt,$t,Ct)]);break}return Dt},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var nt=requireSafeBuffer$7().Buffer;function et(at,mt,$t){var Ct=at._cipher.encryptBlock(at._prev),Dt=Ct[0]^mt;return at._prev=nt.concat([at._prev.slice(1),nt.from([$t?mt:Dt])]),Dt}return cfb8.encrypt=function(at,mt,$t){for(var Ct=mt.length,Dt=nt.allocUnsafe(Ct),Ft=-1;++Ft<Ct;)Dt[Ft]=et(at,mt[Ft],$t);return Dt},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var nt=requireSafeBuffer$7().Buffer;function et(mt,$t,Ct){for(var Dt,Ft=-1,Nt=8,jt=0,Lt,Vt;++Ft<Nt;)Dt=mt._cipher.encryptBlock(mt._prev),Lt=$t&1<<7-Ft?128:0,Vt=Dt[0]^Lt,jt+=(Vt&128)>>Ft%8,mt._prev=at(mt._prev,Ct?Lt:Vt);return jt}function at(mt,$t){var Ct=mt.length,Dt=-1,Ft=nt.allocUnsafe(mt.length);for(mt=nt.concat([mt,nt.from([$t])]);++Dt<Ct;)Ft[Dt]=mt[Dt]<<1|mt[Dt+1]>>7;return Ft}return cfb1.encrypt=function(mt,$t,Ct){for(var Dt=$t.length,Ft=nt.allocUnsafe(Dt),Nt=-1;++Nt<Dt;)Ft[Nt]=et(mt,$t[Nt],Ct);return Ft},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var nt=requireBufferXor();function et(at){return at._prev=at._cipher.encryptBlock(at._prev),at._prev}return ofb.encrypt=function(at,mt){for(;at._cache.length<mt.length;)at._cache=Buffer$1.concat([at._cache,et(at)]);var $t=at._cache.slice(0,mt.length);return at._cache=at._cache.slice(mt.length),nt(mt,$t)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function nt(et){for(var at=et.length,mt;at--;)if(mt=et.readUInt8(at),mt===255)et.writeUInt8(0,at);else{mt++,et.writeUInt8(mt,at);break}}return incr32_1=nt,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var nt=requireBufferXor(),et=requireSafeBuffer$7().Buffer,at=requireIncr32();function mt(Ct){var Dt=Ct._cipher.encryptBlockRaw(Ct._prev);return at(Ct._prev),Dt}var $t=16;return ctr.encrypt=function(Ct,Dt){var Ft=Math.ceil(Dt.length/$t),Nt=Ct._cache.length;Ct._cache=et.concat([Ct._cache,et.allocUnsafe(Ft*$t)]);for(var jt=0;jt<Ft;jt++){var Lt=mt(Ct),Vt=Nt+jt*$t;Ct._cache.writeUInt32BE(Lt[0],Vt+0),Ct._cache.writeUInt32BE(Lt[1],Vt+4),Ct._cache.writeUInt32BE(Lt[2],Vt+8),Ct._cache.writeUInt32BE(Lt[3],Vt+12)}var er=Ct._cache.slice(0,Dt.length);return Ct._cache=Ct._cache.slice(Dt.length),nt(Dt,er)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var nt={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},et=require$$2;for(var at in et)et[at].module=nt[et[at].mode];return modes_1=et,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var nt=requireSafeBuffer$7().Buffer;function et(Ft){nt.isBuffer(Ft)||(Ft=nt.from(Ft));for(var Nt=Ft.length/4|0,jt=new Array(Nt),Lt=0;Lt<Nt;Lt++)jt[Lt]=Ft.readUInt32BE(Lt*4);return jt}function at(Ft){for(var Nt=0;Nt<Ft.length;Ft++)Ft[Nt]=0}function mt(Ft,Nt,jt,Lt,Vt){for(var er=jt[0],ir=jt[1],or=jt[2],lr=jt[3],dr=Ft[0]^Nt[0],pr=Ft[1]^Nt[1],hr=Ft[2]^Nt[2],vr=Ft[3]^Nt[3],br,xr,Sr,Er,$r=4,Cr=1;Cr<Vt;Cr++)br=er[dr>>>24]^ir[pr>>>16&255]^or[hr>>>8&255]^lr[vr&255]^Nt[$r++],xr=er[pr>>>24]^ir[hr>>>16&255]^or[vr>>>8&255]^lr[dr&255]^Nt[$r++],Sr=er[hr>>>24]^ir[vr>>>16&255]^or[dr>>>8&255]^lr[pr&255]^Nt[$r++],Er=er[vr>>>24]^ir[dr>>>16&255]^or[pr>>>8&255]^lr[hr&255]^Nt[$r++],dr=br,pr=xr,hr=Sr,vr=Er;return br=(Lt[dr>>>24]<<24|Lt[pr>>>16&255]<<16|Lt[hr>>>8&255]<<8|Lt[vr&255])^Nt[$r++],xr=(Lt[pr>>>24]<<24|Lt[hr>>>16&255]<<16|Lt[vr>>>8&255]<<8|Lt[dr&255])^Nt[$r++],Sr=(Lt[hr>>>24]<<24|Lt[vr>>>16&255]<<16|Lt[dr>>>8&255]<<8|Lt[pr&255])^Nt[$r++],Er=(Lt[vr>>>24]<<24|Lt[dr>>>16&255]<<16|Lt[pr>>>8&255]<<8|Lt[hr&255])^Nt[$r++],br=br>>>0,xr=xr>>>0,Sr=Sr>>>0,Er=Er>>>0,[br,xr,Sr,Er]}var $t=[0,1,2,4,8,16,32,64,128,27,54],Ct=function(){for(var Ft=new Array(256),Nt=0;Nt<256;Nt++)Nt<128?Ft[Nt]=Nt<<1:Ft[Nt]=Nt<<1^283;for(var jt=[],Lt=[],Vt=[[],[],[],[]],er=[[],[],[],[]],ir=0,or=0,lr=0;lr<256;++lr){var dr=or^or<<1^or<<2^or<<3^or<<4;dr=dr>>>8^dr&255^99,jt[ir]=dr,Lt[dr]=ir;var pr=Ft[ir],hr=Ft[pr],vr=Ft[hr],br=Ft[dr]*257^dr*16843008;Vt[0][ir]=br<<24|br>>>8,Vt[1][ir]=br<<16|br>>>16,Vt[2][ir]=br<<8|br>>>24,Vt[3][ir]=br,br=vr*16843009^hr*65537^pr*257^ir*16843008,er[0][dr]=br<<24|br>>>8,er[1][dr]=br<<16|br>>>16,er[2][dr]=br<<8|br>>>24,er[3][dr]=br,ir===0?ir=or=1:(ir=pr^Ft[Ft[Ft[vr^pr]]],or^=Ft[Ft[or]])}return{SBOX:jt,INV_SBOX:Lt,SUB_MIX:Vt,INV_SUB_MIX:er}}();function Dt(Ft){this._key=et(Ft),this._reset()}return Dt.blockSize=4*4,Dt.keySize=256/8,Dt.prototype.blockSize=Dt.blockSize,Dt.prototype.keySize=Dt.keySize,Dt.prototype._reset=function(){for(var Ft=this._key,Nt=Ft.length,jt=Nt+6,Lt=(jt+1)*4,Vt=[],er=0;er<Nt;er++)Vt[er]=Ft[er];for(er=Nt;er<Lt;er++){var ir=Vt[er-1];er%Nt===0?(ir=ir<<8|ir>>>24,ir=Ct.SBOX[ir>>>24]<<24|Ct.SBOX[ir>>>16&255]<<16|Ct.SBOX[ir>>>8&255]<<8|Ct.SBOX[ir&255],ir^=$t[er/Nt|0]<<24):Nt>6&&er%Nt===4&&(ir=Ct.SBOX[ir>>>24]<<24|Ct.SBOX[ir>>>16&255]<<16|Ct.SBOX[ir>>>8&255]<<8|Ct.SBOX[ir&255]),Vt[er]=Vt[er-Nt]^ir}for(var or=[],lr=0;lr<Lt;lr++){var dr=Lt-lr,pr=Vt[dr-(lr%4?0:4)];lr<4||dr<=4?or[lr]=pr:or[lr]=Ct.INV_SUB_MIX[0][Ct.SBOX[pr>>>24]]^Ct.INV_SUB_MIX[1][Ct.SBOX[pr>>>16&255]]^Ct.INV_SUB_MIX[2][Ct.SBOX[pr>>>8&255]]^Ct.INV_SUB_MIX[3][Ct.SBOX[pr&255]]}this._nRounds=jt,this._keySchedule=Vt,this._invKeySchedule=or},Dt.prototype.encryptBlockRaw=function(Ft){return Ft=et(Ft),mt(Ft,this._keySchedule,Ct.SUB_MIX,Ct.SBOX,this._nRounds)},Dt.prototype.encryptBlock=function(Ft){var Nt=this.encryptBlockRaw(Ft),jt=nt.allocUnsafe(16);return jt.writeUInt32BE(Nt[0],0),jt.writeUInt32BE(Nt[1],4),jt.writeUInt32BE(Nt[2],8),jt.writeUInt32BE(Nt[3],12),jt},Dt.prototype.decryptBlock=function(Ft){Ft=et(Ft);var Nt=Ft[1];Ft[1]=Ft[3],Ft[3]=Nt;var jt=mt(Ft,this._invKeySchedule,Ct.INV_SUB_MIX,Ct.INV_SBOX,this._nRounds),Lt=nt.allocUnsafe(16);return Lt.writeUInt32BE(jt[0],0),Lt.writeUInt32BE(jt[3],4),Lt.writeUInt32BE(jt[2],8),Lt.writeUInt32BE(jt[1],12),Lt},Dt.prototype.scrub=function(){at(this._keySchedule),at(this._invKeySchedule),at(this._key)},aes$1.AES=Dt,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var nt=requireSafeBuffer$7().Buffer,et=nt.alloc(16,0);function at(Ct){return[Ct.readUInt32BE(0),Ct.readUInt32BE(4),Ct.readUInt32BE(8),Ct.readUInt32BE(12)]}function mt(Ct){var Dt=nt.allocUnsafe(16);return Dt.writeUInt32BE(Ct[0]>>>0,0),Dt.writeUInt32BE(Ct[1]>>>0,4),Dt.writeUInt32BE(Ct[2]>>>0,8),Dt.writeUInt32BE(Ct[3]>>>0,12),Dt}function $t(Ct){this.h=Ct,this.state=nt.alloc(16,0),this.cache=nt.allocUnsafe(0)}return $t.prototype.ghash=function(Ct){for(var Dt=-1;++Dt<Ct.length;)this.state[Dt]^=Ct[Dt];this._multiply()},$t.prototype._multiply=function(){for(var Ct=at(this.h),Dt=[0,0,0,0],Ft,Nt,jt,Lt=-1;++Lt<128;){for(Nt=(this.state[~~(Lt/8)]&1<<7-Lt%8)!==0,Nt&&(Dt[0]^=Ct[0],Dt[1]^=Ct[1],Dt[2]^=Ct[2],Dt[3]^=Ct[3]),jt=(Ct[3]&1)!==0,Ft=3;Ft>0;Ft--)Ct[Ft]=Ct[Ft]>>>1|(Ct[Ft-1]&1)<<31;Ct[0]=Ct[0]>>>1,jt&&(Ct[0]=Ct[0]^225<<24)}this.state=mt(Dt)},$t.prototype.update=function(Ct){this.cache=nt.concat([this.cache,Ct]);for(var Dt;this.cache.length>=16;)Dt=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(Dt)},$t.prototype.final=function(Ct,Dt){return this.cache.length&&this.ghash(nt.concat([this.cache,et],16)),this.ghash(mt([0,Ct,0,Dt])),this.state},ghash=$t,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var nt=requireAes$1(),et=requireSafeBuffer$7().Buffer,at=requireCipherBase(),mt=requireInherits_browser(),$t=requireGhash(),Ct=requireBufferXor(),Dt=requireIncr32();function Ft(Lt,Vt){var er=0;Lt.length!==Vt.length&&er++;for(var ir=Math.min(Lt.length,Vt.length),or=0;or<ir;++or)er+=Lt[or]^Vt[or];return er}function Nt(Lt,Vt,er){if(Vt.length===12)return Lt._finID=et.concat([Vt,et.from([0,0,0,1])]),et.concat([Vt,et.from([0,0,0,2])]);var ir=new $t(er),or=Vt.length,lr=or%16;ir.update(Vt),lr&&(lr=16-lr,ir.update(et.alloc(lr,0))),ir.update(et.alloc(8,0));var dr=or*8,pr=et.alloc(8);pr.writeUIntBE(dr,0,8),ir.update(pr),Lt._finID=ir.state;var hr=et.from(Lt._finID);return Dt(hr),hr}function jt(Lt,Vt,er,ir){at.call(this);var or=et.alloc(4,0);this._cipher=new nt.AES(Vt);var lr=this._cipher.encryptBlock(or);this._ghash=new $t(lr),er=Nt(this,er,lr),this._prev=et.from(er),this._cache=et.allocUnsafe(0),this._secCache=et.allocUnsafe(0),this._decrypt=ir,this._alen=0,this._len=0,this._mode=Lt,this._authTag=null,this._called=!1}return mt(jt,at),jt.prototype._update=function(Lt){if(!this._called&&this._alen){var Vt=16-this._alen%16;Vt<16&&(Vt=et.alloc(Vt,0),this._ghash.update(Vt))}this._called=!0;var er=this._mode.encrypt(this,Lt);return this._decrypt?this._ghash.update(Lt):this._ghash.update(er),this._len+=Lt.length,er},jt.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Lt=Ct(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Ft(Lt,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Lt,this._cipher.scrub()},jt.prototype.getAuthTag=function(){if(this._decrypt||!et.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},jt.prototype.setAuthTag=function(Vt){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Vt},jt.prototype.setAAD=function(Vt){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Vt),this._alen+=Vt.length},authCipher=jt,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var nt=requireAes$1(),et=requireSafeBuffer$7().Buffer,at=requireCipherBase(),mt=requireInherits_browser();function $t(Ct,Dt,Ft,Nt){at.call(this),this._cipher=new nt.AES(Dt),this._prev=et.from(Ft),this._cache=et.allocUnsafe(0),this._secCache=et.allocUnsafe(0),this._decrypt=Nt,this._mode=Ct}return mt($t,at),$t.prototype._update=function(Ct){return this._mode.encrypt(this,Ct,this._decrypt)},$t.prototype._final=function(){this._cipher.scrub()},streamCipher=$t,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var nt=requireSafeBuffer$7().Buffer,et=requireMd5_js();function at(mt,$t,Ct,Dt){if(nt.isBuffer(mt)||(mt=nt.from(mt,"binary")),$t&&(nt.isBuffer($t)||($t=nt.from($t,"binary")),$t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var Ft=Ct/8,Nt=nt.alloc(Ft),jt=nt.alloc(Dt||0),Lt=nt.alloc(0);Ft>0||Dt>0;){var Vt=new et;Vt.update(Lt),Vt.update(mt),$t&&Vt.update($t),Lt=Vt.digest();var er=0;if(Ft>0){var ir=Nt.length-Ft;er=Math.min(Ft,Lt.length),Lt.copy(Nt,ir,0,er),Ft-=er}if(er<Lt.length&&Dt>0){var or=jt.length-Dt,lr=Math.min(Dt,Lt.length-er);Lt.copy(jt,or,er,er+lr),Dt-=lr}}return Lt.fill(0),{key:Nt,iv:jt}}return evp_bytestokey=at,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var nt=requireModes$1(),et=requireAuthCipher(),at=requireSafeBuffer$7().Buffer,mt=requireStreamCipher(),$t=requireCipherBase(),Ct=requireAes$1(),Dt=requireEvp_bytestokey(),Ft=requireInherits_browser();function Nt(ir,or,lr){$t.call(this),this._cache=new Lt,this._cipher=new Ct.AES(or),this._prev=at.from(lr),this._mode=ir,this._autopadding=!0}Ft(Nt,$t),Nt.prototype._update=function(ir){this._cache.add(ir);for(var or,lr,dr=[];or=this._cache.get();)lr=this._mode.encrypt(this,or),dr.push(lr);return at.concat(dr)};var jt=at.alloc(16,16);Nt.prototype._final=function(){var ir=this._cache.flush();if(this._autopadding)return ir=this._mode.encrypt(this,ir),this._cipher.scrub(),ir;if(!ir.equals(jt))throw this._cipher.scrub(),new Error("data not multiple of block length")},Nt.prototype.setAutoPadding=function(ir){return this._autopadding=!!ir,this};function Lt(){this.cache=at.allocUnsafe(0)}Lt.prototype.add=function(ir){this.cache=at.concat([this.cache,ir])},Lt.prototype.get=function(){if(this.cache.length>15){var ir=this.cache.slice(0,16);return this.cache=this.cache.slice(16),ir}return null},Lt.prototype.flush=function(){for(var ir=16-this.cache.length,or=at.allocUnsafe(ir),lr=-1;++lr<ir;)or.writeUInt8(ir,lr);return at.concat([this.cache,or])};function Vt(ir,or,lr){var dr=nt[ir.toLowerCase()];if(!dr)throw new TypeError("invalid suite type");if(typeof or=="string"&&(or=at.from(or)),or.length!==dr.key/8)throw new TypeError("invalid key length "+or.length);if(typeof lr=="string"&&(lr=at.from(lr)),dr.mode!=="GCM"&&lr.length!==dr.iv)throw new TypeError("invalid iv length "+lr.length);return dr.type==="stream"?new mt(dr.module,or,lr):dr.type==="auth"?new et(dr.module,or,lr):new Nt(dr.module,or,lr)}function er(ir,or){var lr=nt[ir.toLowerCase()];if(!lr)throw new TypeError("invalid suite type");var dr=Dt(or,!1,lr.key,lr.iv);return Vt(ir,dr.key,dr.iv)}return encrypter.createCipheriv=Vt,encrypter.createCipher=er,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var nt=requireAuthCipher(),et=requireSafeBuffer$7().Buffer,at=requireModes$1(),mt=requireStreamCipher(),$t=requireCipherBase(),Ct=requireAes$1(),Dt=requireEvp_bytestokey(),Ft=requireInherits_browser();function Nt(ir,or,lr){$t.call(this),this._cache=new jt,this._last=void 0,this._cipher=new Ct.AES(or),this._prev=et.from(lr),this._mode=ir,this._autopadding=!0}Ft(Nt,$t),Nt.prototype._update=function(ir){this._cache.add(ir);for(var or,lr,dr=[];or=this._cache.get(this._autopadding);)lr=this._mode.decrypt(this,or),dr.push(lr);return et.concat(dr)},Nt.prototype._final=function(){var ir=this._cache.flush();if(this._autopadding)return Lt(this._mode.decrypt(this,ir));if(ir)throw new Error("data not multiple of block length")},Nt.prototype.setAutoPadding=function(ir){return this._autopadding=!!ir,this};function jt(){this.cache=et.allocUnsafe(0)}jt.prototype.add=function(ir){this.cache=et.concat([this.cache,ir])},jt.prototype.get=function(ir){var or;if(ir){if(this.cache.length>16)return or=this.cache.slice(0,16),this.cache=this.cache.slice(16),or}else if(this.cache.length>=16)return or=this.cache.slice(0,16),this.cache=this.cache.slice(16),or;return null},jt.prototype.flush=function(){if(this.cache.length)return this.cache};function Lt(ir){var or=ir[15];if(or<1||or>16)throw new Error("unable to decrypt data");for(var lr=-1;++lr<or;)if(ir[lr+(16-or)]!==or)throw new Error("unable to decrypt data");if(or!==16)return ir.slice(0,16-or)}function Vt(ir,or,lr){var dr=at[ir.toLowerCase()];if(!dr)throw new TypeError("invalid suite type");if(typeof lr=="string"&&(lr=et.from(lr)),dr.mode!=="GCM"&&lr.length!==dr.iv)throw new TypeError("invalid iv length "+lr.length);if(typeof or=="string"&&(or=et.from(or)),or.length!==dr.key/8)throw new TypeError("invalid key length "+or.length);return dr.type==="stream"?new mt(dr.module,or,lr,!0):dr.type==="auth"?new nt(dr.module,or,lr,!0):new Nt(dr.module,or,lr)}function er(ir,or){var lr=at[ir.toLowerCase()];if(!lr)throw new TypeError("invalid suite type");var dr=Dt(or,!1,lr.key,lr.iv);return Vt(ir,dr.key,dr.iv)}return decrypter.createDecipher=er,decrypter.createDecipheriv=Vt,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$8;hasRequiredBrowser$6=1;var nt=requireEncrypter(),et=requireDecrypter(),at=require$$2;function mt(){return Object.keys(at)}return browser$8.createCipher=browser$8.Cipher=nt.createCipher,browser$8.createCipheriv=browser$8.Cipheriv=nt.createCipheriv,browser$8.createDecipher=browser$8.Decipher=et.createDecipher,browser$8.createDecipheriv=browser$8.Decipheriv=et.createDecipheriv,browser$8.listCiphers=browser$8.getCiphers=mt,browser$8}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(nt){nt["des-ecb"]={key:8,iv:0},nt["des-cbc"]=nt.des={key:8,iv:8},nt["des-ede3-cbc"]=nt.des3={key:24,iv:8},nt["des-ede3"]={key:24,iv:0},nt["des-ede-cbc"]={key:16,iv:8},nt["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$9;hasRequiredBrowser$5=1;var nt=requireBrowserifyDes(),et=requireBrowser$6(),at=requireModes$1(),mt=requireModes(),$t=requireEvp_bytestokey();function Ct(Lt,Vt){Lt=Lt.toLowerCase();var er,ir;if(at[Lt])er=at[Lt].key,ir=at[Lt].iv;else if(mt[Lt])er=mt[Lt].key*8,ir=mt[Lt].iv;else throw new TypeError("invalid suite type");var or=$t(Vt,!1,er,ir);return Ft(Lt,or.key,or.iv)}function Dt(Lt,Vt){Lt=Lt.toLowerCase();var er,ir;if(at[Lt])er=at[Lt].key,ir=at[Lt].iv;else if(mt[Lt])er=mt[Lt].key*8,ir=mt[Lt].iv;else throw new TypeError("invalid suite type");var or=$t(Vt,!1,er,ir);return Nt(Lt,or.key,or.iv)}function Ft(Lt,Vt,er){if(Lt=Lt.toLowerCase(),at[Lt])return et.createCipheriv(Lt,Vt,er);if(mt[Lt])return new nt({key:Vt,iv:er,mode:Lt});throw new TypeError("invalid suite type")}function Nt(Lt,Vt,er){if(Lt=Lt.toLowerCase(),at[Lt])return et.createDecipheriv(Lt,Vt,er);if(mt[Lt])return new nt({key:Vt,iv:er,mode:Lt,decrypt:!0});throw new TypeError("invalid suite type")}function jt(){return Object.keys(mt).concat(et.getCiphers())}return browser$9.createCipher=browser$9.Cipher=Ct,browser$9.createCipheriv=browser$9.Cipheriv=Ft,browser$9.createDecipher=browser$9.Decipher=Dt,browser$9.createDecipheriv=browser$9.Decipheriv=Nt,browser$9.listCiphers=browser$9.getCiphers=jt,browser$9}var browser$7={},bn$7={exports:{}};bn$7.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(nt){(function(et,at){function mt(gr,Ut){if(!gr)throw new Error(Ut||"Assertion failed")}function $t(gr,Ut){gr.super_=Ut;var tr=function(){};tr.prototype=Ut.prototype,gr.prototype=new tr,gr.prototype.constructor=gr}function Ct(gr,Ut,tr){if(Ct.isBN(gr))return gr;this.negative=0,this.words=null,this.length=0,this.red=null,gr!==null&&((Ut==="le"||Ut==="be")&&(tr=Ut,Ut=10),this._init(gr||0,Ut||10,tr||"be"))}typeof et=="object"?et.exports=Ct:at.BN=Ct,Ct.BN=Ct,Ct.wordSize=26;var Dt;try{typeof window<"u"&&typeof window.Buffer<"u"?Dt=window.Buffer:Dt=require$$2$1.Buffer}catch{}Ct.isBN=function(Ut){return Ut instanceof Ct?!0:Ut!==null&&typeof Ut=="object"&&Ut.constructor.wordSize===Ct.wordSize&&Array.isArray(Ut.words)},Ct.max=function(Ut,tr){return Ut.cmp(tr)>0?Ut:tr},Ct.min=function(Ut,tr){return Ut.cmp(tr)<0?Ut:tr},Ct.prototype._init=function(Ut,tr,nr){if(typeof Ut=="number")return this._initNumber(Ut,tr,nr);if(typeof Ut=="object")return this._initArray(Ut,tr,nr);tr==="hex"&&(tr=16),mt(tr===(tr|0)&&tr>=2&&tr<=36),Ut=Ut.toString().replace(/\s+/g,"");var rr=0;Ut[0]==="-"&&(rr++,this.negative=1),rr<Ut.length&&(tr===16?this._parseHex(Ut,rr,nr):(this._parseBase(Ut,tr,rr),nr==="le"&&this._initArray(this.toArray(),tr,nr)))},Ct.prototype._initNumber=function(Ut,tr,nr){Ut<0&&(this.negative=1,Ut=-Ut),Ut<67108864?(this.words=[Ut&67108863],this.length=1):Ut<4503599627370496?(this.words=[Ut&67108863,Ut/67108864&67108863],this.length=2):(mt(Ut<9007199254740992),this.words=[Ut&67108863,Ut/67108864&67108863,1],this.length=3),nr==="le"&&this._initArray(this.toArray(),tr,nr)},Ct.prototype._initArray=function(Ut,tr,nr){if(mt(typeof Ut.length=="number"),Ut.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ut.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar,cr,fr=0;if(nr==="be")for(rr=Ut.length-1,ar=0;rr>=0;rr-=3)cr=Ut[rr]|Ut[rr-1]<<8|Ut[rr-2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);else if(nr==="le")for(rr=0,ar=0;rr<Ut.length;rr+=3)cr=Ut[rr]|Ut[rr+1]<<8|Ut[rr+2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);return this.strip()};function Ft(gr,Ut){var tr=gr.charCodeAt(Ut);return tr>=65&&tr<=70?tr-55:tr>=97&&tr<=102?tr-87:tr-48&15}function Nt(gr,Ut,tr){var nr=Ft(gr,tr);return tr-1>=Ut&&(nr|=Ft(gr,tr-1)<<4),nr}Ct.prototype._parseHex=function(Ut,tr,nr){this.length=Math.ceil((Ut.length-tr)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar=0,cr=0,fr;if(nr==="be")for(rr=Ut.length-1;rr>=tr;rr-=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8;else{var sr=Ut.length-tr;for(rr=sr%2===0?tr+1:tr;rr<Ut.length;rr+=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8}this.strip()};function jt(gr,Ut,tr,nr){for(var rr=0,ar=Math.min(gr.length,tr),cr=Ut;cr<ar;cr++){var fr=gr.charCodeAt(cr)-48;rr*=nr,fr>=49?rr+=fr-49+10:fr>=17?rr+=fr-17+10:rr+=fr}return rr}Ct.prototype._parseBase=function(Ut,tr,nr){this.words=[0],this.length=1;for(var rr=0,ar=1;ar<=67108863;ar*=tr)rr++;rr--,ar=ar/tr|0;for(var cr=Ut.length-nr,fr=cr%rr,sr=Math.min(cr,cr-fr)+nr,Yt=0,ur=nr;ur<sr;ur+=rr)Yt=jt(Ut,ur,ur+rr,tr),this.imuln(ar),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt);if(fr!==0){var _r=1;for(Yt=jt(Ut,ur,Ut.length,tr),ur=0;ur<fr;ur++)_r*=tr;this.imuln(_r),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt)}this.strip()},Ct.prototype.copy=function(Ut){Ut.words=new Array(this.length);for(var tr=0;tr<this.length;tr++)Ut.words[tr]=this.words[tr];Ut.length=this.length,Ut.negative=this.negative,Ut.red=this.red},Ct.prototype.clone=function(){var Ut=new Ct(null);return this.copy(Ut),Ut},Ct.prototype._expand=function(Ut){for(;this.length<Ut;)this.words[this.length++]=0;return this},Ct.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ct.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],er=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ct.prototype.toString=function(Ut,tr){Ut=Ut||10,tr=tr|0||1;var nr;if(Ut===16||Ut==="hex"){nr="";for(var rr=0,ar=0,cr=0;cr<this.length;cr++){var fr=this.words[cr],sr=((fr<<rr|ar)&16777215).toString(16);ar=fr>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,cr--),ar!==0||cr!==this.length-1?nr=Lt[6-sr.length]+sr+nr:nr=sr+nr}for(ar!==0&&(nr=ar.toString(16)+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}if(Ut===(Ut|0)&&Ut>=2&&Ut<=36){var Yt=Vt[Ut],ur=er[Ut];nr="";var _r=this.clone();for(_r.negative=0;!_r.isZero();){var yr=_r.modn(ur).toString(Ut);_r=_r.idivn(ur),_r.isZero()?nr=yr+nr:nr=Lt[Yt-yr.length]+yr+nr}for(this.isZero()&&(nr="0"+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}mt(!1,"Base should be between 2 and 36")},Ct.prototype.toNumber=function(){var Ut=this.words[0];return this.length===2?Ut+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ut+=4503599627370496+this.words[1]*67108864:this.length>2&&mt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ut:Ut},Ct.prototype.toJSON=function(){return this.toString(16)},Ct.prototype.toBuffer=function(Ut,tr){return mt(typeof Dt<"u"),this.toArrayLike(Dt,Ut,tr)},Ct.prototype.toArray=function(Ut,tr){return this.toArrayLike(Array,Ut,tr)},Ct.prototype.toArrayLike=function(Ut,tr,nr){var rr=this.byteLength(),ar=nr||Math.max(1,rr);mt(rr<=ar,"byte array longer than desired length"),mt(ar>0,"Requested array length <= 0"),this.strip();var cr=tr==="le",fr=new Ut(ar),sr,Yt,ur=this.clone();if(cr){for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[Yt]=sr;for(;Yt<ar;Yt++)fr[Yt]=0}else{for(Yt=0;Yt<ar-rr;Yt++)fr[Yt]=0;for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[ar-Yt-1]=sr}return fr},Math.clz32?Ct.prototype._countBits=function(Ut){return 32-Math.clz32(Ut)}:Ct.prototype._countBits=function(Ut){var tr=Ut,nr=0;return tr>=4096&&(nr+=13,tr>>>=13),tr>=64&&(nr+=7,tr>>>=7),tr>=8&&(nr+=4,tr>>>=4),tr>=2&&(nr+=2,tr>>>=2),nr+tr},Ct.prototype._zeroBits=function(Ut){if(Ut===0)return 26;var tr=Ut,nr=0;return tr&8191||(nr+=13,tr>>>=13),tr&127||(nr+=7,tr>>>=7),tr&15||(nr+=4,tr>>>=4),tr&3||(nr+=2,tr>>>=2),tr&1||nr++,nr},Ct.prototype.bitLength=function(){var Ut=this.words[this.length-1],tr=this._countBits(Ut);return(this.length-1)*26+tr};function ir(gr){for(var Ut=new Array(gr.bitLength()),tr=0;tr<Ut.length;tr++){var nr=tr/26|0,rr=tr%26;Ut[tr]=(gr.words[nr]&1<<rr)>>>rr}return Ut}Ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ut=0,tr=0;tr<this.length;tr++){var nr=this._zeroBits(this.words[tr]);if(Ut+=nr,nr!==26)break}return Ut},Ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ct.prototype.toTwos=function(Ut){return this.negative!==0?this.abs().inotn(Ut).iaddn(1):this.clone()},Ct.prototype.fromTwos=function(Ut){return this.testn(Ut-1)?this.notn(Ut).iaddn(1).ineg():this.clone()},Ct.prototype.isNeg=function(){return this.negative!==0},Ct.prototype.neg=function(){return this.clone().ineg()},Ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ct.prototype.iuor=function(Ut){for(;this.length<Ut.length;)this.words[this.length++]=0;for(var tr=0;tr<Ut.length;tr++)this.words[tr]=this.words[tr]|Ut.words[tr];return this.strip()},Ct.prototype.ior=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuor(Ut)},Ct.prototype.or=function(Ut){return this.length>Ut.length?this.clone().ior(Ut):Ut.clone().ior(this)},Ct.prototype.uor=function(Ut){return this.length>Ut.length?this.clone().iuor(Ut):Ut.clone().iuor(this)},Ct.prototype.iuand=function(Ut){var tr;this.length>Ut.length?tr=Ut:tr=this;for(var nr=0;nr<tr.length;nr++)this.words[nr]=this.words[nr]&Ut.words[nr];return this.length=tr.length,this.strip()},Ct.prototype.iand=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuand(Ut)},Ct.prototype.and=function(Ut){return this.length>Ut.length?this.clone().iand(Ut):Ut.clone().iand(this)},Ct.prototype.uand=function(Ut){return this.length>Ut.length?this.clone().iuand(Ut):Ut.clone().iuand(this)},Ct.prototype.iuxor=function(Ut){var tr,nr;this.length>Ut.length?(tr=this,nr=Ut):(tr=Ut,nr=this);for(var rr=0;rr<nr.length;rr++)this.words[rr]=tr.words[rr]^nr.words[rr];if(this!==tr)for(;rr<tr.length;rr++)this.words[rr]=tr.words[rr];return this.length=tr.length,this.strip()},Ct.prototype.ixor=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuxor(Ut)},Ct.prototype.xor=function(Ut){return this.length>Ut.length?this.clone().ixor(Ut):Ut.clone().ixor(this)},Ct.prototype.uxor=function(Ut){return this.length>Ut.length?this.clone().iuxor(Ut):Ut.clone().iuxor(this)},Ct.prototype.inotn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Math.ceil(Ut/26)|0,nr=Ut%26;this._expand(tr),nr>0&&tr--;for(var rr=0;rr<tr;rr++)this.words[rr]=~this.words[rr]&67108863;return nr>0&&(this.words[rr]=~this.words[rr]&67108863>>26-nr),this.strip()},Ct.prototype.notn=function(Ut){return this.clone().inotn(Ut)},Ct.prototype.setn=function(Ut,tr){mt(typeof Ut=="number"&&Ut>=0);var nr=Ut/26|0,rr=Ut%26;return this._expand(nr+1),tr?this.words[nr]=this.words[nr]|1<<rr:this.words[nr]=this.words[nr]&~(1<<rr),this.strip()},Ct.prototype.iadd=function(Ut){var tr;if(this.negative!==0&&Ut.negative===0)return this.negative=0,tr=this.isub(Ut),this.negative^=1,this._normSign();if(this.negative===0&&Ut.negative!==0)return Ut.negative=0,tr=this.isub(Ut),Ut.negative=1,tr._normSign();var nr,rr;this.length>Ut.length?(nr=this,rr=Ut):(nr=Ut,rr=this);for(var ar=0,cr=0;cr<rr.length;cr++)tr=(nr.words[cr]|0)+(rr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;for(;ar!==0&&cr<nr.length;cr++)tr=(nr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;if(this.length=nr.length,ar!==0)this.words[this.length]=ar,this.length++;else if(nr!==this)for(;cr<nr.length;cr++)this.words[cr]=nr.words[cr];return this},Ct.prototype.add=function(Ut){var tr;return Ut.negative!==0&&this.negative===0?(Ut.negative=0,tr=this.sub(Ut),Ut.negative^=1,tr):Ut.negative===0&&this.negative!==0?(this.negative=0,tr=Ut.sub(this),this.negative=1,tr):this.length>Ut.length?this.clone().iadd(Ut):Ut.clone().iadd(this)},Ct.prototype.isub=function(Ut){if(Ut.negative!==0){Ut.negative=0;var tr=this.iadd(Ut);return Ut.negative=1,tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ut),this.negative=1,this._normSign();var nr=this.cmp(Ut);if(nr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,ar;nr>0?(rr=this,ar=Ut):(rr=Ut,ar=this);for(var cr=0,fr=0;fr<ar.length;fr++)tr=(rr.words[fr]|0)-(ar.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;for(;cr!==0&&fr<rr.length;fr++)tr=(rr.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;if(cr===0&&fr<rr.length&&rr!==this)for(;fr<rr.length;fr++)this.words[fr]=rr.words[fr];return this.length=Math.max(this.length,fr),rr!==this&&(this.negative=1),this.strip()},Ct.prototype.sub=function(Ut){return this.clone().isub(Ut)};function or(gr,Ut,tr){tr.negative=Ut.negative^gr.negative;var nr=gr.length+Ut.length|0;tr.length=nr,nr=nr-1|0;var rr=gr.words[0]|0,ar=Ut.words[0]|0,cr=rr*ar,fr=cr&67108863,sr=cr/67108864|0;tr.words[0]=fr;for(var Yt=1;Yt<nr;Yt++){for(var ur=sr>>>26,_r=sr&67108863,yr=Math.min(Yt,Ut.length-1),wr=Math.max(0,Yt-gr.length+1);wr<=yr;wr++){var Ir=Yt-wr|0;rr=gr.words[Ir]|0,ar=Ut.words[wr]|0,cr=rr*ar+_r,ur+=cr/67108864|0,_r=cr&67108863}tr.words[Yt]=_r|0,sr=ur|0}return sr!==0?tr.words[Yt]=sr|0:tr.length--,tr.strip()}var lr=function(Ut,tr,nr){var rr=Ut.words,ar=tr.words,cr=nr.words,fr=0,sr,Yt,ur,_r=rr[0]|0,yr=_r&8191,wr=_r>>>13,Ir=rr[1]|0,Or=Ir&8191,Ar=Ir>>>13,Nr=rr[2]|0,Hr=Nr&8191,Pr=Nr>>>13,Dr=rr[3]|0,Rr=Dr&8191,Vr=Dr>>>13,an=rr[4]|0,Xr=an&8191,Jr=an>>>13,Zr=rr[5]|0,Gr=Zr&8191,zr=Zr>>>13,Dn=rr[6]|0,Qr=Dn&8191,Un=Dn>>>13,ro=rr[7]|0,Hn=ro&8191,Qn=ro>>>13,$o=rr[8]|0,Kn=$o&8191,_i=$o>>>13,Lo=rr[9]|0,jr=Lo&8191,Tr=Lo>>>13,Fr=ar[0]|0,Wr=Fr&8191,sn=Fr>>>13,Jn=ar[1]|0,Nn=Jn&8191,Zn=Jn>>>13,Io=ar[2]|0,ga=Io&8191,ba=Io>>>13,Bo=ar[3]|0,io=Bo&8191,so=Bo>>>13,zo=ar[4]|0,eo=zo&8191,oo=zo>>>13,Ho=ar[5]|0,no=Ho&8191,ao=Ho>>>13,Gn=ar[6]|0,dn=Gn&8191,Ln=Gn>>>13,Br=ar[7]|0,Lr=Br&8191,qr=Br>>>13,Mr=ar[8]|0,Ur=Mr&8191,rn=Mr>>>13,zn=ar[9]|0,pn=zn&8191,Vn=zn>>>13;nr.negative=Ut.negative^tr.negative,nr.length=19,sr=Math.imul(yr,Wr),Yt=Math.imul(yr,sn),Yt=Yt+Math.imul(wr,Wr)|0,ur=Math.imul(wr,sn);var co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(co>>>26)|0,co&=67108863,sr=Math.imul(Or,Wr),Yt=Math.imul(Or,sn),Yt=Yt+Math.imul(Ar,Wr)|0,ur=Math.imul(Ar,sn),sr=sr+Math.imul(yr,Nn)|0,Yt=Yt+Math.imul(yr,Zn)|0,Yt=Yt+Math.imul(wr,Nn)|0,ur=ur+Math.imul(wr,Zn)|0;var uo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(uo>>>26)|0,uo&=67108863,sr=Math.imul(Hr,Wr),Yt=Math.imul(Hr,sn),Yt=Yt+Math.imul(Pr,Wr)|0,ur=Math.imul(Pr,sn),sr=sr+Math.imul(Or,Nn)|0,Yt=Yt+Math.imul(Or,Zn)|0,Yt=Yt+Math.imul(Ar,Nn)|0,ur=ur+Math.imul(Ar,Zn)|0,sr=sr+Math.imul(yr,ga)|0,Yt=Yt+Math.imul(yr,ba)|0,Yt=Yt+Math.imul(wr,ga)|0,ur=ur+Math.imul(wr,ba)|0;var Eo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,sr=Math.imul(Rr,Wr),Yt=Math.imul(Rr,sn),Yt=Yt+Math.imul(Vr,Wr)|0,ur=Math.imul(Vr,sn),sr=sr+Math.imul(Hr,Nn)|0,Yt=Yt+Math.imul(Hr,Zn)|0,Yt=Yt+Math.imul(Pr,Nn)|0,ur=ur+Math.imul(Pr,Zn)|0,sr=sr+Math.imul(Or,ga)|0,Yt=Yt+Math.imul(Or,ba)|0,Yt=Yt+Math.imul(Ar,ga)|0,ur=ur+Math.imul(Ar,ba)|0,sr=sr+Math.imul(yr,io)|0,Yt=Yt+Math.imul(yr,so)|0,Yt=Yt+Math.imul(wr,io)|0,ur=ur+Math.imul(wr,so)|0;var ho=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ho>>>26)|0,ho&=67108863,sr=Math.imul(Xr,Wr),Yt=Math.imul(Xr,sn),Yt=Yt+Math.imul(Jr,Wr)|0,ur=Math.imul(Jr,sn),sr=sr+Math.imul(Rr,Nn)|0,Yt=Yt+Math.imul(Rr,Zn)|0,Yt=Yt+Math.imul(Vr,Nn)|0,ur=ur+Math.imul(Vr,Zn)|0,sr=sr+Math.imul(Hr,ga)|0,Yt=Yt+Math.imul(Hr,ba)|0,Yt=Yt+Math.imul(Pr,ga)|0,ur=ur+Math.imul(Pr,ba)|0,sr=sr+Math.imul(Or,io)|0,Yt=Yt+Math.imul(Or,so)|0,Yt=Yt+Math.imul(Ar,io)|0,ur=ur+Math.imul(Ar,so)|0,sr=sr+Math.imul(yr,eo)|0,Yt=Yt+Math.imul(yr,oo)|0,Yt=Yt+Math.imul(wr,eo)|0,ur=ur+Math.imul(wr,oo)|0;var Co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Co>>>26)|0,Co&=67108863,sr=Math.imul(Gr,Wr),Yt=Math.imul(Gr,sn),Yt=Yt+Math.imul(zr,Wr)|0,ur=Math.imul(zr,sn),sr=sr+Math.imul(Xr,Nn)|0,Yt=Yt+Math.imul(Xr,Zn)|0,Yt=Yt+Math.imul(Jr,Nn)|0,ur=ur+Math.imul(Jr,Zn)|0,sr=sr+Math.imul(Rr,ga)|0,Yt=Yt+Math.imul(Rr,ba)|0,Yt=Yt+Math.imul(Vr,ga)|0,ur=ur+Math.imul(Vr,ba)|0,sr=sr+Math.imul(Hr,io)|0,Yt=Yt+Math.imul(Hr,so)|0,Yt=Yt+Math.imul(Pr,io)|0,ur=ur+Math.imul(Pr,so)|0,sr=sr+Math.imul(Or,eo)|0,Yt=Yt+Math.imul(Or,oo)|0,Yt=Yt+Math.imul(Ar,eo)|0,ur=ur+Math.imul(Ar,oo)|0,sr=sr+Math.imul(yr,no)|0,Yt=Yt+Math.imul(yr,ao)|0,Yt=Yt+Math.imul(wr,no)|0,ur=ur+Math.imul(wr,ao)|0;var Po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Po>>>26)|0,Po&=67108863,sr=Math.imul(Qr,Wr),Yt=Math.imul(Qr,sn),Yt=Yt+Math.imul(Un,Wr)|0,ur=Math.imul(Un,sn),sr=sr+Math.imul(Gr,Nn)|0,Yt=Yt+Math.imul(Gr,Zn)|0,Yt=Yt+Math.imul(zr,Nn)|0,ur=ur+Math.imul(zr,Zn)|0,sr=sr+Math.imul(Xr,ga)|0,Yt=Yt+Math.imul(Xr,ba)|0,Yt=Yt+Math.imul(Jr,ga)|0,ur=ur+Math.imul(Jr,ba)|0,sr=sr+Math.imul(Rr,io)|0,Yt=Yt+Math.imul(Rr,so)|0,Yt=Yt+Math.imul(Vr,io)|0,ur=ur+Math.imul(Vr,so)|0,sr=sr+Math.imul(Hr,eo)|0,Yt=Yt+Math.imul(Hr,oo)|0,Yt=Yt+Math.imul(Pr,eo)|0,ur=ur+Math.imul(Pr,oo)|0,sr=sr+Math.imul(Or,no)|0,Yt=Yt+Math.imul(Or,ao)|0,Yt=Yt+Math.imul(Ar,no)|0,ur=ur+Math.imul(Ar,ao)|0,sr=sr+Math.imul(yr,dn)|0,Yt=Yt+Math.imul(yr,Ln)|0,Yt=Yt+Math.imul(wr,dn)|0,ur=ur+Math.imul(wr,Ln)|0;var Fo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,sr=Math.imul(Hn,Wr),Yt=Math.imul(Hn,sn),Yt=Yt+Math.imul(Qn,Wr)|0,ur=Math.imul(Qn,sn),sr=sr+Math.imul(Qr,Nn)|0,Yt=Yt+Math.imul(Qr,Zn)|0,Yt=Yt+Math.imul(Un,Nn)|0,ur=ur+Math.imul(Un,Zn)|0,sr=sr+Math.imul(Gr,ga)|0,Yt=Yt+Math.imul(Gr,ba)|0,Yt=Yt+Math.imul(zr,ga)|0,ur=ur+Math.imul(zr,ba)|0,sr=sr+Math.imul(Xr,io)|0,Yt=Yt+Math.imul(Xr,so)|0,Yt=Yt+Math.imul(Jr,io)|0,ur=ur+Math.imul(Jr,so)|0,sr=sr+Math.imul(Rr,eo)|0,Yt=Yt+Math.imul(Rr,oo)|0,Yt=Yt+Math.imul(Vr,eo)|0,ur=ur+Math.imul(Vr,oo)|0,sr=sr+Math.imul(Hr,no)|0,Yt=Yt+Math.imul(Hr,ao)|0,Yt=Yt+Math.imul(Pr,no)|0,ur=ur+Math.imul(Pr,ao)|0,sr=sr+Math.imul(Or,dn)|0,Yt=Yt+Math.imul(Or,Ln)|0,Yt=Yt+Math.imul(Ar,dn)|0,ur=ur+Math.imul(Ar,Ln)|0,sr=sr+Math.imul(yr,Lr)|0,Yt=Yt+Math.imul(yr,qr)|0,Yt=Yt+Math.imul(wr,Lr)|0,ur=ur+Math.imul(wr,qr)|0;var Do=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Do>>>26)|0,Do&=67108863,sr=Math.imul(Kn,Wr),Yt=Math.imul(Kn,sn),Yt=Yt+Math.imul(_i,Wr)|0,ur=Math.imul(_i,sn),sr=sr+Math.imul(Hn,Nn)|0,Yt=Yt+Math.imul(Hn,Zn)|0,Yt=Yt+Math.imul(Qn,Nn)|0,ur=ur+Math.imul(Qn,Zn)|0,sr=sr+Math.imul(Qr,ga)|0,Yt=Yt+Math.imul(Qr,ba)|0,Yt=Yt+Math.imul(Un,ga)|0,ur=ur+Math.imul(Un,ba)|0,sr=sr+Math.imul(Gr,io)|0,Yt=Yt+Math.imul(Gr,so)|0,Yt=Yt+Math.imul(zr,io)|0,ur=ur+Math.imul(zr,so)|0,sr=sr+Math.imul(Xr,eo)|0,Yt=Yt+Math.imul(Xr,oo)|0,Yt=Yt+Math.imul(Jr,eo)|0,ur=ur+Math.imul(Jr,oo)|0,sr=sr+Math.imul(Rr,no)|0,Yt=Yt+Math.imul(Rr,ao)|0,Yt=Yt+Math.imul(Vr,no)|0,ur=ur+Math.imul(Vr,ao)|0,sr=sr+Math.imul(Hr,dn)|0,Yt=Yt+Math.imul(Hr,Ln)|0,Yt=Yt+Math.imul(Pr,dn)|0,ur=ur+Math.imul(Pr,Ln)|0,sr=sr+Math.imul(Or,Lr)|0,Yt=Yt+Math.imul(Or,qr)|0,Yt=Yt+Math.imul(Ar,Lr)|0,ur=ur+Math.imul(Ar,qr)|0,sr=sr+Math.imul(yr,Ur)|0,Yt=Yt+Math.imul(yr,rn)|0,Yt=Yt+Math.imul(wr,Ur)|0,ur=ur+Math.imul(wr,rn)|0;var ko=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ko>>>26)|0,ko&=67108863,sr=Math.imul(jr,Wr),Yt=Math.imul(jr,sn),Yt=Yt+Math.imul(Tr,Wr)|0,ur=Math.imul(Tr,sn),sr=sr+Math.imul(Kn,Nn)|0,Yt=Yt+Math.imul(Kn,Zn)|0,Yt=Yt+Math.imul(_i,Nn)|0,ur=ur+Math.imul(_i,Zn)|0,sr=sr+Math.imul(Hn,ga)|0,Yt=Yt+Math.imul(Hn,ba)|0,Yt=Yt+Math.imul(Qn,ga)|0,ur=ur+Math.imul(Qn,ba)|0,sr=sr+Math.imul(Qr,io)|0,Yt=Yt+Math.imul(Qr,so)|0,Yt=Yt+Math.imul(Un,io)|0,ur=ur+Math.imul(Un,so)|0,sr=sr+Math.imul(Gr,eo)|0,Yt=Yt+Math.imul(Gr,oo)|0,Yt=Yt+Math.imul(zr,eo)|0,ur=ur+Math.imul(zr,oo)|0,sr=sr+Math.imul(Xr,no)|0,Yt=Yt+Math.imul(Xr,ao)|0,Yt=Yt+Math.imul(Jr,no)|0,ur=ur+Math.imul(Jr,ao)|0,sr=sr+Math.imul(Rr,dn)|0,Yt=Yt+Math.imul(Rr,Ln)|0,Yt=Yt+Math.imul(Vr,dn)|0,ur=ur+Math.imul(Vr,Ln)|0,sr=sr+Math.imul(Hr,Lr)|0,Yt=Yt+Math.imul(Hr,qr)|0,Yt=Yt+Math.imul(Pr,Lr)|0,ur=ur+Math.imul(Pr,qr)|0,sr=sr+Math.imul(Or,Ur)|0,Yt=Yt+Math.imul(Or,rn)|0,Yt=Yt+Math.imul(Ar,Ur)|0,ur=ur+Math.imul(Ar,rn)|0,sr=sr+Math.imul(yr,pn)|0,Yt=Yt+Math.imul(yr,Vn)|0,Yt=Yt+Math.imul(wr,pn)|0,ur=ur+Math.imul(wr,Vn)|0;var Mo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,sr=Math.imul(jr,Nn),Yt=Math.imul(jr,Zn),Yt=Yt+Math.imul(Tr,Nn)|0,ur=Math.imul(Tr,Zn),sr=sr+Math.imul(Kn,ga)|0,Yt=Yt+Math.imul(Kn,ba)|0,Yt=Yt+Math.imul(_i,ga)|0,ur=ur+Math.imul(_i,ba)|0,sr=sr+Math.imul(Hn,io)|0,Yt=Yt+Math.imul(Hn,so)|0,Yt=Yt+Math.imul(Qn,io)|0,ur=ur+Math.imul(Qn,so)|0,sr=sr+Math.imul(Qr,eo)|0,Yt=Yt+Math.imul(Qr,oo)|0,Yt=Yt+Math.imul(Un,eo)|0,ur=ur+Math.imul(Un,oo)|0,sr=sr+Math.imul(Gr,no)|0,Yt=Yt+Math.imul(Gr,ao)|0,Yt=Yt+Math.imul(zr,no)|0,ur=ur+Math.imul(zr,ao)|0,sr=sr+Math.imul(Xr,dn)|0,Yt=Yt+Math.imul(Xr,Ln)|0,Yt=Yt+Math.imul(Jr,dn)|0,ur=ur+Math.imul(Jr,Ln)|0,sr=sr+Math.imul(Rr,Lr)|0,Yt=Yt+Math.imul(Rr,qr)|0,Yt=Yt+Math.imul(Vr,Lr)|0,ur=ur+Math.imul(Vr,qr)|0,sr=sr+Math.imul(Hr,Ur)|0,Yt=Yt+Math.imul(Hr,rn)|0,Yt=Yt+Math.imul(Pr,Ur)|0,ur=ur+Math.imul(Pr,rn)|0,sr=sr+Math.imul(Or,pn)|0,Yt=Yt+Math.imul(Or,Vn)|0,Yt=Yt+Math.imul(Ar,pn)|0,ur=ur+Math.imul(Ar,Vn)|0;var Oo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,sr=Math.imul(jr,ga),Yt=Math.imul(jr,ba),Yt=Yt+Math.imul(Tr,ga)|0,ur=Math.imul(Tr,ba),sr=sr+Math.imul(Kn,io)|0,Yt=Yt+Math.imul(Kn,so)|0,Yt=Yt+Math.imul(_i,io)|0,ur=ur+Math.imul(_i,so)|0,sr=sr+Math.imul(Hn,eo)|0,Yt=Yt+Math.imul(Hn,oo)|0,Yt=Yt+Math.imul(Qn,eo)|0,ur=ur+Math.imul(Qn,oo)|0,sr=sr+Math.imul(Qr,no)|0,Yt=Yt+Math.imul(Qr,ao)|0,Yt=Yt+Math.imul(Un,no)|0,ur=ur+Math.imul(Un,ao)|0,sr=sr+Math.imul(Gr,dn)|0,Yt=Yt+Math.imul(Gr,Ln)|0,Yt=Yt+Math.imul(zr,dn)|0,ur=ur+Math.imul(zr,Ln)|0,sr=sr+Math.imul(Xr,Lr)|0,Yt=Yt+Math.imul(Xr,qr)|0,Yt=Yt+Math.imul(Jr,Lr)|0,ur=ur+Math.imul(Jr,qr)|0,sr=sr+Math.imul(Rr,Ur)|0,Yt=Yt+Math.imul(Rr,rn)|0,Yt=Yt+Math.imul(Vr,Ur)|0,ur=ur+Math.imul(Vr,rn)|0,sr=sr+Math.imul(Hr,pn)|0,Yt=Yt+Math.imul(Hr,Vn)|0,Yt=Yt+Math.imul(Pr,pn)|0,ur=ur+Math.imul(Pr,Vn)|0;var xo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(xo>>>26)|0,xo&=67108863,sr=Math.imul(jr,io),Yt=Math.imul(jr,so),Yt=Yt+Math.imul(Tr,io)|0,ur=Math.imul(Tr,so),sr=sr+Math.imul(Kn,eo)|0,Yt=Yt+Math.imul(Kn,oo)|0,Yt=Yt+Math.imul(_i,eo)|0,ur=ur+Math.imul(_i,oo)|0,sr=sr+Math.imul(Hn,no)|0,Yt=Yt+Math.imul(Hn,ao)|0,Yt=Yt+Math.imul(Qn,no)|0,ur=ur+Math.imul(Qn,ao)|0,sr=sr+Math.imul(Qr,dn)|0,Yt=Yt+Math.imul(Qr,Ln)|0,Yt=Yt+Math.imul(Un,dn)|0,ur=ur+Math.imul(Un,Ln)|0,sr=sr+Math.imul(Gr,Lr)|0,Yt=Yt+Math.imul(Gr,qr)|0,Yt=Yt+Math.imul(zr,Lr)|0,ur=ur+Math.imul(zr,qr)|0,sr=sr+Math.imul(Xr,Ur)|0,Yt=Yt+Math.imul(Xr,rn)|0,Yt=Yt+Math.imul(Jr,Ur)|0,ur=ur+Math.imul(Jr,rn)|0,sr=sr+Math.imul(Rr,pn)|0,Yt=Yt+Math.imul(Rr,Vn)|0,Yt=Yt+Math.imul(Vr,pn)|0,ur=ur+Math.imul(Vr,Vn)|0;var Ro=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,sr=Math.imul(jr,eo),Yt=Math.imul(jr,oo),Yt=Yt+Math.imul(Tr,eo)|0,ur=Math.imul(Tr,oo),sr=sr+Math.imul(Kn,no)|0,Yt=Yt+Math.imul(Kn,ao)|0,Yt=Yt+Math.imul(_i,no)|0,ur=ur+Math.imul(_i,ao)|0,sr=sr+Math.imul(Hn,dn)|0,Yt=Yt+Math.imul(Hn,Ln)|0,Yt=Yt+Math.imul(Qn,dn)|0,ur=ur+Math.imul(Qn,Ln)|0,sr=sr+Math.imul(Qr,Lr)|0,Yt=Yt+Math.imul(Qr,qr)|0,Yt=Yt+Math.imul(Un,Lr)|0,ur=ur+Math.imul(Un,qr)|0,sr=sr+Math.imul(Gr,Ur)|0,Yt=Yt+Math.imul(Gr,rn)|0,Yt=Yt+Math.imul(zr,Ur)|0,ur=ur+Math.imul(zr,rn)|0,sr=sr+Math.imul(Xr,pn)|0,Yt=Yt+Math.imul(Xr,Vn)|0,Yt=Yt+Math.imul(Jr,pn)|0,ur=ur+Math.imul(Jr,Vn)|0;var So=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(So>>>26)|0,So&=67108863,sr=Math.imul(jr,no),Yt=Math.imul(jr,ao),Yt=Yt+Math.imul(Tr,no)|0,ur=Math.imul(Tr,ao),sr=sr+Math.imul(Kn,dn)|0,Yt=Yt+Math.imul(Kn,Ln)|0,Yt=Yt+Math.imul(_i,dn)|0,ur=ur+Math.imul(_i,Ln)|0,sr=sr+Math.imul(Hn,Lr)|0,Yt=Yt+Math.imul(Hn,qr)|0,Yt=Yt+Math.imul(Qn,Lr)|0,ur=ur+Math.imul(Qn,qr)|0,sr=sr+Math.imul(Qr,Ur)|0,Yt=Yt+Math.imul(Qr,rn)|0,Yt=Yt+Math.imul(Un,Ur)|0,ur=ur+Math.imul(Un,rn)|0,sr=sr+Math.imul(Gr,pn)|0,Yt=Yt+Math.imul(Gr,Vn)|0,Yt=Yt+Math.imul(zr,pn)|0,ur=ur+Math.imul(zr,Vn)|0;var po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(po>>>26)|0,po&=67108863,sr=Math.imul(jr,dn),Yt=Math.imul(jr,Ln),Yt=Yt+Math.imul(Tr,dn)|0,ur=Math.imul(Tr,Ln),sr=sr+Math.imul(Kn,Lr)|0,Yt=Yt+Math.imul(Kn,qr)|0,Yt=Yt+Math.imul(_i,Lr)|0,ur=ur+Math.imul(_i,qr)|0,sr=sr+Math.imul(Hn,Ur)|0,Yt=Yt+Math.imul(Hn,rn)|0,Yt=Yt+Math.imul(Qn,Ur)|0,ur=ur+Math.imul(Qn,rn)|0,sr=sr+Math.imul(Qr,pn)|0,Yt=Yt+Math.imul(Qr,Vn)|0,Yt=Yt+Math.imul(Un,pn)|0,ur=ur+Math.imul(Un,Vn)|0;var vo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(vo>>>26)|0,vo&=67108863,sr=Math.imul(jr,Lr),Yt=Math.imul(jr,qr),Yt=Yt+Math.imul(Tr,Lr)|0,ur=Math.imul(Tr,qr),sr=sr+Math.imul(Kn,Ur)|0,Yt=Yt+Math.imul(Kn,rn)|0,Yt=Yt+Math.imul(_i,Ur)|0,ur=ur+Math.imul(_i,rn)|0,sr=sr+Math.imul(Hn,pn)|0,Yt=Yt+Math.imul(Hn,Vn)|0,Yt=Yt+Math.imul(Qn,pn)|0,ur=ur+Math.imul(Qn,Vn)|0;var wo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(wo>>>26)|0,wo&=67108863,sr=Math.imul(jr,Ur),Yt=Math.imul(jr,rn),Yt=Yt+Math.imul(Tr,Ur)|0,ur=Math.imul(Tr,rn),sr=sr+Math.imul(Kn,pn)|0,Yt=Yt+Math.imul(Kn,Vn)|0,Yt=Yt+Math.imul(_i,pn)|0,ur=ur+Math.imul(_i,Vn)|0;var to=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(to>>>26)|0,to&=67108863,sr=Math.imul(jr,pn),Yt=Math.imul(jr,Vn),Yt=Yt+Math.imul(Tr,pn)|0,ur=Math.imul(Tr,Vn);var _a=(fr+sr|0)+((Yt&8191)<<13)|0;return fr=(ur+(Yt>>>13)|0)+(_a>>>26)|0,_a&=67108863,cr[0]=co,cr[1]=uo,cr[2]=Eo,cr[3]=ho,cr[4]=Co,cr[5]=Po,cr[6]=Fo,cr[7]=Do,cr[8]=ko,cr[9]=Mo,cr[10]=Oo,cr[11]=xo,cr[12]=Ro,cr[13]=So,cr[14]=po,cr[15]=vo,cr[16]=wo,cr[17]=to,cr[18]=_a,fr!==0&&(cr[19]=fr,nr.length++),nr};Math.imul||(lr=or);function dr(gr,Ut,tr){tr.negative=Ut.negative^gr.negative,tr.length=gr.length+Ut.length;for(var nr=0,rr=0,ar=0;ar<tr.length-1;ar++){var cr=rr;rr=0;for(var fr=nr&67108863,sr=Math.min(ar,Ut.length-1),Yt=Math.max(0,ar-gr.length+1);Yt<=sr;Yt++){var ur=ar-Yt,_r=gr.words[ur]|0,yr=Ut.words[Yt]|0,wr=_r*yr,Ir=wr&67108863;cr=cr+(wr/67108864|0)|0,Ir=Ir+fr|0,fr=Ir&67108863,cr=cr+(Ir>>>26)|0,rr+=cr>>>26,cr&=67108863}tr.words[ar]=fr,nr=cr,cr=rr}return nr!==0?tr.words[ar]=nr:tr.length--,tr.strip()}function pr(gr,Ut,tr){var nr=new hr;return nr.mulp(gr,Ut,tr)}Ct.prototype.mulTo=function(Ut,tr){var nr,rr=this.length+Ut.length;return this.length===10&&Ut.length===10?nr=lr(this,Ut,tr):rr<63?nr=or(this,Ut,tr):rr<1024?nr=dr(this,Ut,tr):nr=pr(this,Ut,tr),nr};function hr(gr,Ut){this.x=gr,this.y=Ut}hr.prototype.makeRBT=function(Ut){for(var tr=new Array(Ut),nr=Ct.prototype._countBits(Ut)-1,rr=0;rr<Ut;rr++)tr[rr]=this.revBin(rr,nr,Ut);return tr},hr.prototype.revBin=function(Ut,tr,nr){if(Ut===0||Ut===nr-1)return Ut;for(var rr=0,ar=0;ar<tr;ar++)rr|=(Ut&1)<<tr-ar-1,Ut>>=1;return rr},hr.prototype.permute=function(Ut,tr,nr,rr,ar,cr){for(var fr=0;fr<cr;fr++)rr[fr]=tr[Ut[fr]],ar[fr]=nr[Ut[fr]]},hr.prototype.transform=function(Ut,tr,nr,rr,ar,cr){this.permute(cr,Ut,tr,nr,rr,ar);for(var fr=1;fr<ar;fr<<=1)for(var sr=fr<<1,Yt=Math.cos(2*Math.PI/sr),ur=Math.sin(2*Math.PI/sr),_r=0;_r<ar;_r+=sr)for(var yr=Yt,wr=ur,Ir=0;Ir<fr;Ir++){var Or=nr[_r+Ir],Ar=rr[_r+Ir],Nr=nr[_r+Ir+fr],Hr=rr[_r+Ir+fr],Pr=yr*Nr-wr*Hr;Hr=yr*Hr+wr*Nr,Nr=Pr,nr[_r+Ir]=Or+Nr,rr[_r+Ir]=Ar+Hr,nr[_r+Ir+fr]=Or-Nr,rr[_r+Ir+fr]=Ar-Hr,Ir!==sr&&(Pr=Yt*yr-ur*wr,wr=Yt*wr+ur*yr,yr=Pr)}},hr.prototype.guessLen13b=function(Ut,tr){var nr=Math.max(tr,Ut)|1,rr=nr&1,ar=0;for(nr=nr/2|0;nr;nr=nr>>>1)ar++;return 1<<ar+1+rr},hr.prototype.conjugate=function(Ut,tr,nr){if(!(nr<=1))for(var rr=0;rr<nr/2;rr++){var ar=Ut[rr];Ut[rr]=Ut[nr-rr-1],Ut[nr-rr-1]=ar,ar=tr[rr],tr[rr]=-tr[nr-rr-1],tr[nr-rr-1]=-ar}},hr.prototype.normalize13b=function(Ut,tr){for(var nr=0,rr=0;rr<tr/2;rr++){var ar=Math.round(Ut[2*rr+1]/tr)*8192+Math.round(Ut[2*rr]/tr)+nr;Ut[rr]=ar&67108863,ar<67108864?nr=0:nr=ar/67108864|0}return Ut},hr.prototype.convert13b=function(Ut,tr,nr,rr){for(var ar=0,cr=0;cr<tr;cr++)ar=ar+(Ut[cr]|0),nr[2*cr]=ar&8191,ar=ar>>>13,nr[2*cr+1]=ar&8191,ar=ar>>>13;for(cr=2*tr;cr<rr;++cr)nr[cr]=0;mt(ar===0),mt((ar&-8192)===0)},hr.prototype.stub=function(Ut){for(var tr=new Array(Ut),nr=0;nr<Ut;nr++)tr[nr]=0;return tr},hr.prototype.mulp=function(Ut,tr,nr){var rr=2*this.guessLen13b(Ut.length,tr.length),ar=this.makeRBT(rr),cr=this.stub(rr),fr=new Array(rr),sr=new Array(rr),Yt=new Array(rr),ur=new Array(rr),_r=new Array(rr),yr=new Array(rr),wr=nr.words;wr.length=rr,this.convert13b(Ut.words,Ut.length,fr,rr),this.convert13b(tr.words,tr.length,ur,rr),this.transform(fr,cr,sr,Yt,rr,ar),this.transform(ur,cr,_r,yr,rr,ar);for(var Ir=0;Ir<rr;Ir++){var Or=sr[Ir]*_r[Ir]-Yt[Ir]*yr[Ir];Yt[Ir]=sr[Ir]*yr[Ir]+Yt[Ir]*_r[Ir],sr[Ir]=Or}return this.conjugate(sr,Yt,rr),this.transform(sr,Yt,wr,cr,rr,ar),this.conjugate(wr,cr,rr),this.normalize13b(wr,rr),nr.negative=Ut.negative^tr.negative,nr.length=Ut.length+tr.length,nr.strip()},Ct.prototype.mul=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),this.mulTo(Ut,tr)},Ct.prototype.mulf=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),pr(this,Ut,tr)},Ct.prototype.imul=function(Ut){return this.clone().mulTo(Ut,this)},Ct.prototype.imuln=function(Ut){mt(typeof Ut=="number"),mt(Ut<67108864);for(var tr=0,nr=0;nr<this.length;nr++){var rr=(this.words[nr]|0)*Ut,ar=(rr&67108863)+(tr&67108863);tr>>=26,tr+=rr/67108864|0,tr+=ar>>>26,this.words[nr]=ar&67108863}return tr!==0&&(this.words[nr]=tr,this.length++),this},Ct.prototype.muln=function(Ut){return this.clone().imuln(Ut)},Ct.prototype.sqr=function(){return this.mul(this)},Ct.prototype.isqr=function(){return this.imul(this.clone())},Ct.prototype.pow=function(Ut){var tr=ir(Ut);if(tr.length===0)return new Ct(1);for(var nr=this,rr=0;rr<tr.length&&tr[rr]===0;rr++,nr=nr.sqr());if(++rr<tr.length)for(var ar=nr.sqr();rr<tr.length;rr++,ar=ar.sqr())tr[rr]!==0&&(nr=nr.mul(ar));return nr},Ct.prototype.iushln=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=67108863>>>26-tr<<26-tr,ar;if(tr!==0){var cr=0;for(ar=0;ar<this.length;ar++){var fr=this.words[ar]&rr,sr=(this.words[ar]|0)-fr<<tr;this.words[ar]=sr|cr,cr=fr>>>26-tr}cr&&(this.words[ar]=cr,this.length++)}if(nr!==0){for(ar=this.length-1;ar>=0;ar--)this.words[ar+nr]=this.words[ar];for(ar=0;ar<nr;ar++)this.words[ar]=0;this.length+=nr}return this.strip()},Ct.prototype.ishln=function(Ut){return mt(this.negative===0),this.iushln(Ut)},Ct.prototype.iushrn=function(Ut,tr,nr){mt(typeof Ut=="number"&&Ut>=0);var rr;tr?rr=(tr-tr%26)/26:rr=0;var ar=Ut%26,cr=Math.min((Ut-ar)/26,this.length),fr=67108863^67108863>>>ar<<ar,sr=nr;if(rr-=cr,rr=Math.max(0,rr),sr){for(var Yt=0;Yt<cr;Yt++)sr.words[Yt]=this.words[Yt];sr.length=cr}if(cr!==0)if(this.length>cr)for(this.length-=cr,Yt=0;Yt<this.length;Yt++)this.words[Yt]=this.words[Yt+cr];else this.words[0]=0,this.length=1;var ur=0;for(Yt=this.length-1;Yt>=0&&(ur!==0||Yt>=rr);Yt--){var _r=this.words[Yt]|0;this.words[Yt]=ur<<26-ar|_r>>>ar,ur=_r&fr}return sr&&ur!==0&&(sr.words[sr.length++]=ur),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ct.prototype.ishrn=function(Ut,tr,nr){return mt(this.negative===0),this.iushrn(Ut,tr,nr)},Ct.prototype.shln=function(Ut){return this.clone().ishln(Ut)},Ct.prototype.ushln=function(Ut){return this.clone().iushln(Ut)},Ct.prototype.shrn=function(Ut){return this.clone().ishrn(Ut)},Ct.prototype.ushrn=function(Ut){return this.clone().iushrn(Ut)},Ct.prototype.testn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return!1;var ar=this.words[nr];return!!(ar&rr)},Ct.prototype.imaskn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26;if(mt(this.negative===0,"imaskn works only with positive numbers"),this.length<=nr)return this;if(tr!==0&&nr++,this.length=Math.min(nr,this.length),tr!==0){var rr=67108863^67108863>>>tr<<tr;this.words[this.length-1]&=rr}return this.strip()},Ct.prototype.maskn=function(Ut){return this.clone().imaskn(Ut)},Ct.prototype.iaddn=function(Ut){return mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0?this.isubn(-Ut):this.negative!==0?this.length===1&&(this.words[0]|0)<Ut?(this.words[0]=Ut-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ut),this.negative=1,this):this._iaddn(Ut)},Ct.prototype._iaddn=function(Ut){this.words[0]+=Ut;for(var tr=0;tr<this.length&&this.words[tr]>=67108864;tr++)this.words[tr]-=67108864,tr===this.length-1?this.words[tr+1]=1:this.words[tr+1]++;return this.length=Math.max(this.length,tr+1),this},Ct.prototype.isubn=function(Ut){if(mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0)return this.iaddn(-Ut);if(this.negative!==0)return this.negative=0,this.iaddn(Ut),this.negative=1,this;if(this.words[0]-=Ut,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tr=0;tr<this.length&&this.words[tr]<0;tr++)this.words[tr]+=67108864,this.words[tr+1]-=1;return this.strip()},Ct.prototype.addn=function(Ut){return this.clone().iaddn(Ut)},Ct.prototype.subn=function(Ut){return this.clone().isubn(Ut)},Ct.prototype.iabs=function(){return this.negative=0,this},Ct.prototype.abs=function(){return this.clone().iabs()},Ct.prototype._ishlnsubmul=function(Ut,tr,nr){var rr=Ut.length+nr,ar;this._expand(rr);var cr,fr=0;for(ar=0;ar<Ut.length;ar++){cr=(this.words[ar+nr]|0)+fr;var sr=(Ut.words[ar]|0)*tr;cr-=sr&67108863,fr=(cr>>26)-(sr/67108864|0),this.words[ar+nr]=cr&67108863}for(;ar<this.length-nr;ar++)cr=(this.words[ar+nr]|0)+fr,fr=cr>>26,this.words[ar+nr]=cr&67108863;if(fr===0)return this.strip();for(mt(fr===-1),fr=0,ar=0;ar<this.length;ar++)cr=-(this.words[ar]|0)+fr,fr=cr>>26,this.words[ar]=cr&67108863;return this.negative=1,this.strip()},Ct.prototype._wordDiv=function(Ut,tr){var nr=this.length-Ut.length,rr=this.clone(),ar=Ut,cr=ar.words[ar.length-1]|0,fr=this._countBits(cr);nr=26-fr,nr!==0&&(ar=ar.ushln(nr),rr.iushln(nr),cr=ar.words[ar.length-1]|0);var sr=rr.length-ar.length,Yt;if(tr!=="mod"){Yt=new Ct(null),Yt.length=sr+1,Yt.words=new Array(Yt.length);for(var ur=0;ur<Yt.length;ur++)Yt.words[ur]=0}var _r=rr.clone()._ishlnsubmul(ar,1,sr);_r.negative===0&&(rr=_r,Yt&&(Yt.words[sr]=1));for(var yr=sr-1;yr>=0;yr--){var wr=(rr.words[ar.length+yr]|0)*67108864+(rr.words[ar.length+yr-1]|0);for(wr=Math.min(wr/cr|0,67108863),rr._ishlnsubmul(ar,wr,yr);rr.negative!==0;)wr--,rr.negative=0,rr._ishlnsubmul(ar,1,yr),rr.isZero()||(rr.negative^=1);Yt&&(Yt.words[yr]=wr)}return Yt&&Yt.strip(),rr.strip(),tr!=="div"&&nr!==0&&rr.iushrn(nr),{div:Yt||null,mod:rr}},Ct.prototype.divmod=function(Ut,tr,nr){if(mt(!Ut.isZero()),this.isZero())return{div:new Ct(0),mod:new Ct(0)};var rr,ar,cr;return this.negative!==0&&Ut.negative===0?(cr=this.neg().divmod(Ut,tr),tr!=="mod"&&(rr=cr.div.neg()),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.iadd(Ut)),{div:rr,mod:ar}):this.negative===0&&Ut.negative!==0?(cr=this.divmod(Ut.neg(),tr),tr!=="mod"&&(rr=cr.div.neg()),{div:rr,mod:cr.mod}):this.negative&Ut.negative?(cr=this.neg().divmod(Ut.neg(),tr),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.isub(Ut)),{div:cr.div,mod:ar}):Ut.length>this.length||this.cmp(Ut)<0?{div:new Ct(0),mod:this}:Ut.length===1?tr==="div"?{div:this.divn(Ut.words[0]),mod:null}:tr==="mod"?{div:null,mod:new Ct(this.modn(Ut.words[0]))}:{div:this.divn(Ut.words[0]),mod:new Ct(this.modn(Ut.words[0]))}:this._wordDiv(Ut,tr)},Ct.prototype.div=function(Ut){return this.divmod(Ut,"div",!1).div},Ct.prototype.mod=function(Ut){return this.divmod(Ut,"mod",!1).mod},Ct.prototype.umod=function(Ut){return this.divmod(Ut,"mod",!0).mod},Ct.prototype.divRound=function(Ut){var tr=this.divmod(Ut);if(tr.mod.isZero())return tr.div;var nr=tr.div.negative!==0?tr.mod.isub(Ut):tr.mod,rr=Ut.ushrn(1),ar=Ut.andln(1),cr=nr.cmp(rr);return cr<0||ar===1&&cr===0?tr.div:tr.div.negative!==0?tr.div.isubn(1):tr.div.iaddn(1)},Ct.prototype.modn=function(Ut){mt(Ut<=67108863);for(var tr=(1<<26)%Ut,nr=0,rr=this.length-1;rr>=0;rr--)nr=(tr*nr+(this.words[rr]|0))%Ut;return nr},Ct.prototype.idivn=function(Ut){mt(Ut<=67108863);for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=(this.words[nr]|0)+tr*67108864;this.words[nr]=rr/Ut|0,tr=rr%Ut}return this.strip()},Ct.prototype.divn=function(Ut){return this.clone().idivn(Ut)},Ct.prototype.egcd=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=new Ct(0),fr=new Ct(1),sr=0;tr.isEven()&&nr.isEven();)tr.iushrn(1),nr.iushrn(1),++sr;for(var Yt=nr.clone(),ur=tr.clone();!tr.isZero();){for(var _r=0,yr=1;!(tr.words[0]&yr)&&_r<26;++_r,yr<<=1);if(_r>0)for(tr.iushrn(_r);_r-- >0;)(rr.isOdd()||ar.isOdd())&&(rr.iadd(Yt),ar.isub(ur)),rr.iushrn(1),ar.iushrn(1);for(var wr=0,Ir=1;!(nr.words[0]&Ir)&&wr<26;++wr,Ir<<=1);if(wr>0)for(nr.iushrn(wr);wr-- >0;)(cr.isOdd()||fr.isOdd())&&(cr.iadd(Yt),fr.isub(ur)),cr.iushrn(1),fr.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(cr),ar.isub(fr)):(nr.isub(tr),cr.isub(rr),fr.isub(ar))}return{a:cr,b:fr,gcd:nr.iushln(sr)}},Ct.prototype._invmp=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=nr.clone();tr.cmpn(1)>0&&nr.cmpn(1)>0;){for(var fr=0,sr=1;!(tr.words[0]&sr)&&fr<26;++fr,sr<<=1);if(fr>0)for(tr.iushrn(fr);fr-- >0;)rr.isOdd()&&rr.iadd(cr),rr.iushrn(1);for(var Yt=0,ur=1;!(nr.words[0]&ur)&&Yt<26;++Yt,ur<<=1);if(Yt>0)for(nr.iushrn(Yt);Yt-- >0;)ar.isOdd()&&ar.iadd(cr),ar.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(ar)):(nr.isub(tr),ar.isub(rr))}var _r;return tr.cmpn(1)===0?_r=rr:_r=ar,_r.cmpn(0)<0&&_r.iadd(Ut),_r},Ct.prototype.gcd=function(Ut){if(this.isZero())return Ut.abs();if(Ut.isZero())return this.abs();var tr=this.clone(),nr=Ut.clone();tr.negative=0,nr.negative=0;for(var rr=0;tr.isEven()&&nr.isEven();rr++)tr.iushrn(1),nr.iushrn(1);do{for(;tr.isEven();)tr.iushrn(1);for(;nr.isEven();)nr.iushrn(1);var ar=tr.cmp(nr);if(ar<0){var cr=tr;tr=nr,nr=cr}else if(ar===0||nr.cmpn(1)===0)break;tr.isub(nr)}while(!0);return nr.iushln(rr)},Ct.prototype.invm=function(Ut){return this.egcd(Ut).a.umod(Ut)},Ct.prototype.isEven=function(){return(this.words[0]&1)===0},Ct.prototype.isOdd=function(){return(this.words[0]&1)===1},Ct.prototype.andln=function(Ut){return this.words[0]&Ut},Ct.prototype.bincn=function(Ut){mt(typeof Ut=="number");var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return this._expand(nr+1),this.words[nr]|=rr,this;for(var ar=rr,cr=nr;ar!==0&&cr<this.length;cr++){var fr=this.words[cr]|0;fr+=ar,ar=fr>>>26,fr&=67108863,this.words[cr]=fr}return ar!==0&&(this.words[cr]=ar,this.length++),this},Ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ct.prototype.cmpn=function(Ut){var tr=Ut<0;if(this.negative!==0&&!tr)return-1;if(this.negative===0&&tr)return 1;this.strip();var nr;if(this.length>1)nr=1;else{tr&&(Ut=-Ut),mt(Ut<=67108863,"Number is too big");var rr=this.words[0]|0;nr=rr===Ut?0:rr<Ut?-1:1}return this.negative!==0?-nr|0:nr},Ct.prototype.cmp=function(Ut){if(this.negative!==0&&Ut.negative===0)return-1;if(this.negative===0&&Ut.negative!==0)return 1;var tr=this.ucmp(Ut);return this.negative!==0?-tr|0:tr},Ct.prototype.ucmp=function(Ut){if(this.length>Ut.length)return 1;if(this.length<Ut.length)return-1;for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=this.words[nr]|0,ar=Ut.words[nr]|0;if(rr!==ar){rr<ar?tr=-1:rr>ar&&(tr=1);break}}return tr},Ct.prototype.gtn=function(Ut){return this.cmpn(Ut)===1},Ct.prototype.gt=function(Ut){return this.cmp(Ut)===1},Ct.prototype.gten=function(Ut){return this.cmpn(Ut)>=0},Ct.prototype.gte=function(Ut){return this.cmp(Ut)>=0},Ct.prototype.ltn=function(Ut){return this.cmpn(Ut)===-1},Ct.prototype.lt=function(Ut){return this.cmp(Ut)===-1},Ct.prototype.lten=function(Ut){return this.cmpn(Ut)<=0},Ct.prototype.lte=function(Ut){return this.cmp(Ut)<=0},Ct.prototype.eqn=function(Ut){return this.cmpn(Ut)===0},Ct.prototype.eq=function(Ut){return this.cmp(Ut)===0},Ct.red=function(Ut){return new Cr(Ut)},Ct.prototype.toRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),mt(this.negative===0,"red works only with positives"),Ut.convertTo(this)._forceRed(Ut)},Ct.prototype.fromRed=function(){return mt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ct.prototype._forceRed=function(Ut){return this.red=Ut,this},Ct.prototype.forceRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),this._forceRed(Ut)},Ct.prototype.redAdd=function(Ut){return mt(this.red,"redAdd works only with red numbers"),this.red.add(this,Ut)},Ct.prototype.redIAdd=function(Ut){return mt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ut)},Ct.prototype.redSub=function(Ut){return mt(this.red,"redSub works only with red numbers"),this.red.sub(this,Ut)},Ct.prototype.redISub=function(Ut){return mt(this.red,"redISub works only with red numbers"),this.red.isub(this,Ut)},Ct.prototype.redShl=function(Ut){return mt(this.red,"redShl works only with red numbers"),this.red.shl(this,Ut)},Ct.prototype.redMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.mul(this,Ut)},Ct.prototype.redIMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.imul(this,Ut)},Ct.prototype.redSqr=function(){return mt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ct.prototype.redISqr=function(){return mt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ct.prototype.redSqrt=function(){return mt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ct.prototype.redInvm=function(){return mt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ct.prototype.redNeg=function(){return mt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ct.prototype.redPow=function(Ut){return mt(this.red&&!Ut.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ut)};var vr={k256:null,p224:null,p192:null,p25519:null};function br(gr,Ut){this.name=gr,this.p=new Ct(Ut,16),this.n=this.p.bitLength(),this.k=new Ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var Ut=new Ct(null);return Ut.words=new Array(Math.ceil(this.n/13)),Ut},br.prototype.ireduce=function(Ut){var tr=Ut,nr;do this.split(tr,this.tmp),tr=this.imulK(tr),tr=tr.iadd(this.tmp),nr=tr.bitLength();while(nr>this.n);var rr=nr<this.n?-1:tr.ucmp(this.p);return rr===0?(tr.words[0]=0,tr.length=1):rr>0?tr.isub(this.p):tr.strip!==void 0?tr.strip():tr._strip(),tr},br.prototype.split=function(Ut,tr){Ut.iushrn(this.n,0,tr)},br.prototype.imulK=function(Ut){return Ut.imul(this.k)};function xr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$t(xr,br),xr.prototype.split=function(Ut,tr){for(var nr=4194303,rr=Math.min(Ut.length,9),ar=0;ar<rr;ar++)tr.words[ar]=Ut.words[ar];if(tr.length=rr,Ut.length<=9){Ut.words[0]=0,Ut.length=1;return}var cr=Ut.words[9];for(tr.words[tr.length++]=cr&nr,ar=10;ar<Ut.length;ar++){var fr=Ut.words[ar]|0;Ut.words[ar-10]=(fr&nr)<<4|cr>>>22,cr=fr}cr>>>=22,Ut.words[ar-10]=cr,cr===0&&Ut.length>10?Ut.length-=10:Ut.length-=9},xr.prototype.imulK=function(Ut){Ut.words[Ut.length]=0,Ut.words[Ut.length+1]=0,Ut.length+=2;for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=Ut.words[nr]|0;tr+=rr*977,Ut.words[nr]=tr&67108863,tr=rr*64+(tr/67108864|0)}return Ut.words[Ut.length-1]===0&&(Ut.length--,Ut.words[Ut.length-1]===0&&Ut.length--),Ut};function Sr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$t(Sr,br);function Er(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$t(Er,br);function $r(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$t($r,br),$r.prototype.imulK=function(Ut){for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=(Ut.words[nr]|0)*19+tr,ar=rr&67108863;rr>>>=26,Ut.words[nr]=ar,tr=rr}return tr!==0&&(Ut.words[Ut.length++]=tr),Ut},Ct._prime=function(Ut){if(vr[Ut])return vr[Ut];var tr;if(Ut==="k256")tr=new xr;else if(Ut==="p224")tr=new Sr;else if(Ut==="p192")tr=new Er;else if(Ut==="p25519")tr=new $r;else throw new Error("Unknown prime "+Ut);return vr[Ut]=tr,tr};function Cr(gr){if(typeof gr=="string"){var Ut=Ct._prime(gr);this.m=Ut.p,this.prime=Ut}else mt(gr.gtn(1),"modulus must be greater than 1"),this.m=gr,this.prime=null}Cr.prototype._verify1=function(Ut){mt(Ut.negative===0,"red works only with positives"),mt(Ut.red,"red works only with red numbers")},Cr.prototype._verify2=function(Ut,tr){mt((Ut.negative|tr.negative)===0,"red works only with positives"),mt(Ut.red&&Ut.red===tr.red,"red works only with red numbers")},Cr.prototype.imod=function(Ut){return this.prime?this.prime.ireduce(Ut)._forceRed(this):Ut.umod(this.m)._forceRed(this)},Cr.prototype.neg=function(Ut){return Ut.isZero()?Ut.clone():this.m.sub(Ut)._forceRed(this)},Cr.prototype.add=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.add(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr._forceRed(this)},Cr.prototype.iadd=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.iadd(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr},Cr.prototype.sub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.sub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr._forceRed(this)},Cr.prototype.isub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.isub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr},Cr.prototype.shl=function(Ut,tr){return this._verify1(Ut),this.imod(Ut.ushln(tr))},Cr.prototype.imul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.imul(tr))},Cr.prototype.mul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.mul(tr))},Cr.prototype.isqr=function(Ut){return this.imul(Ut,Ut.clone())},Cr.prototype.sqr=function(Ut){return this.mul(Ut,Ut)},Cr.prototype.sqrt=function(Ut){if(Ut.isZero())return Ut.clone();var tr=this.m.andln(3);if(mt(tr%2===1),tr===3){var nr=this.m.add(new Ct(1)).iushrn(2);return this.pow(Ut,nr)}for(var rr=this.m.subn(1),ar=0;!rr.isZero()&&rr.andln(1)===0;)ar++,rr.iushrn(1);mt(!rr.isZero());var cr=new Ct(1).toRed(this),fr=cr.redNeg(),sr=this.m.subn(1).iushrn(1),Yt=this.m.bitLength();for(Yt=new Ct(2*Yt*Yt).toRed(this);this.pow(Yt,sr).cmp(fr)!==0;)Yt.redIAdd(fr);for(var ur=this.pow(Yt,rr),_r=this.pow(Ut,rr.addn(1).iushrn(1)),yr=this.pow(Ut,rr),wr=ar;yr.cmp(cr)!==0;){for(var Ir=yr,Or=0;Ir.cmp(cr)!==0;Or++)Ir=Ir.redSqr();mt(Or<wr);var Ar=this.pow(ur,new Ct(1).iushln(wr-Or-1));_r=_r.redMul(Ar),ur=Ar.redSqr(),yr=yr.redMul(ur),wr=Or}return _r},Cr.prototype.invm=function(Ut){var tr=Ut._invmp(this.m);return tr.negative!==0?(tr.negative=0,this.imod(tr).redNeg()):this.imod(tr)},Cr.prototype.pow=function(Ut,tr){if(tr.isZero())return new Ct(1).toRed(this);if(tr.cmpn(1)===0)return Ut.clone();var nr=4,rr=new Array(1<<nr);rr[0]=new Ct(1).toRed(this),rr[1]=Ut;for(var ar=2;ar<rr.length;ar++)rr[ar]=this.mul(rr[ar-1],Ut);var cr=rr[0],fr=0,sr=0,Yt=tr.bitLength()%26;for(Yt===0&&(Yt=26),ar=tr.length-1;ar>=0;ar--){for(var ur=tr.words[ar],_r=Yt-1;_r>=0;_r--){var yr=ur>>_r&1;if(cr!==rr[0]&&(cr=this.sqr(cr)),yr===0&&fr===0){sr=0;continue}fr<<=1,fr|=yr,sr++,!(sr!==nr&&(ar!==0||_r!==0))&&(cr=this.mul(cr,rr[fr]),sr=0,fr=0)}Yt=26}return cr},Cr.prototype.convertTo=function(Ut){var tr=Ut.umod(this.m);return tr===Ut?tr.clone():tr},Cr.prototype.convertFrom=function(Ut){var tr=Ut.clone();return tr.red=null,tr},Ct.mont=function(Ut){return new kr(Ut)};function kr(gr){Cr.call(this,gr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$t(kr,Cr),kr.prototype.convertTo=function(Ut){return this.imod(Ut.ushln(this.shift))},kr.prototype.convertFrom=function(Ut){var tr=this.imod(Ut.mul(this.rinv));return tr.red=null,tr},kr.prototype.imul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return Ut.words[0]=0,Ut.length=1,Ut;var nr=Ut.imul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.mul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return new Ct(0)._forceRed(this);var nr=Ut.mul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.invm=function(Ut){var tr=this.imod(Ut._invmp(this.m).mul(this.r2));return tr._forceRed(this)}})(nt,commonjsGlobal$1)}(bn$7)),bn$7.exports}var bn$6={exports:{}};bn$6.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(nt){(function(et,at){function mt(gr,Ut){if(!gr)throw new Error(Ut||"Assertion failed")}function $t(gr,Ut){gr.super_=Ut;var tr=function(){};tr.prototype=Ut.prototype,gr.prototype=new tr,gr.prototype.constructor=gr}function Ct(gr,Ut,tr){if(Ct.isBN(gr))return gr;this.negative=0,this.words=null,this.length=0,this.red=null,gr!==null&&((Ut==="le"||Ut==="be")&&(tr=Ut,Ut=10),this._init(gr||0,Ut||10,tr||"be"))}typeof et=="object"?et.exports=Ct:at.BN=Ct,Ct.BN=Ct,Ct.wordSize=26;var Dt;try{typeof window<"u"&&typeof window.Buffer<"u"?Dt=window.Buffer:Dt=require$$2$1.Buffer}catch{}Ct.isBN=function(Ut){return Ut instanceof Ct?!0:Ut!==null&&typeof Ut=="object"&&Ut.constructor.wordSize===Ct.wordSize&&Array.isArray(Ut.words)},Ct.max=function(Ut,tr){return Ut.cmp(tr)>0?Ut:tr},Ct.min=function(Ut,tr){return Ut.cmp(tr)<0?Ut:tr},Ct.prototype._init=function(Ut,tr,nr){if(typeof Ut=="number")return this._initNumber(Ut,tr,nr);if(typeof Ut=="object")return this._initArray(Ut,tr,nr);tr==="hex"&&(tr=16),mt(tr===(tr|0)&&tr>=2&&tr<=36),Ut=Ut.toString().replace(/\s+/g,"");var rr=0;Ut[0]==="-"&&(rr++,this.negative=1),rr<Ut.length&&(tr===16?this._parseHex(Ut,rr,nr):(this._parseBase(Ut,tr,rr),nr==="le"&&this._initArray(this.toArray(),tr,nr)))},Ct.prototype._initNumber=function(Ut,tr,nr){Ut<0&&(this.negative=1,Ut=-Ut),Ut<67108864?(this.words=[Ut&67108863],this.length=1):Ut<4503599627370496?(this.words=[Ut&67108863,Ut/67108864&67108863],this.length=2):(mt(Ut<9007199254740992),this.words=[Ut&67108863,Ut/67108864&67108863,1],this.length=3),nr==="le"&&this._initArray(this.toArray(),tr,nr)},Ct.prototype._initArray=function(Ut,tr,nr){if(mt(typeof Ut.length=="number"),Ut.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ut.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar,cr,fr=0;if(nr==="be")for(rr=Ut.length-1,ar=0;rr>=0;rr-=3)cr=Ut[rr]|Ut[rr-1]<<8|Ut[rr-2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);else if(nr==="le")for(rr=0,ar=0;rr<Ut.length;rr+=3)cr=Ut[rr]|Ut[rr+1]<<8|Ut[rr+2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);return this.strip()};function Ft(gr,Ut){var tr=gr.charCodeAt(Ut);return tr>=65&&tr<=70?tr-55:tr>=97&&tr<=102?tr-87:tr-48&15}function Nt(gr,Ut,tr){var nr=Ft(gr,tr);return tr-1>=Ut&&(nr|=Ft(gr,tr-1)<<4),nr}Ct.prototype._parseHex=function(Ut,tr,nr){this.length=Math.ceil((Ut.length-tr)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar=0,cr=0,fr;if(nr==="be")for(rr=Ut.length-1;rr>=tr;rr-=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8;else{var sr=Ut.length-tr;for(rr=sr%2===0?tr+1:tr;rr<Ut.length;rr+=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8}this.strip()};function jt(gr,Ut,tr,nr){for(var rr=0,ar=Math.min(gr.length,tr),cr=Ut;cr<ar;cr++){var fr=gr.charCodeAt(cr)-48;rr*=nr,fr>=49?rr+=fr-49+10:fr>=17?rr+=fr-17+10:rr+=fr}return rr}Ct.prototype._parseBase=function(Ut,tr,nr){this.words=[0],this.length=1;for(var rr=0,ar=1;ar<=67108863;ar*=tr)rr++;rr--,ar=ar/tr|0;for(var cr=Ut.length-nr,fr=cr%rr,sr=Math.min(cr,cr-fr)+nr,Yt=0,ur=nr;ur<sr;ur+=rr)Yt=jt(Ut,ur,ur+rr,tr),this.imuln(ar),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt);if(fr!==0){var _r=1;for(Yt=jt(Ut,ur,Ut.length,tr),ur=0;ur<fr;ur++)_r*=tr;this.imuln(_r),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt)}this.strip()},Ct.prototype.copy=function(Ut){Ut.words=new Array(this.length);for(var tr=0;tr<this.length;tr++)Ut.words[tr]=this.words[tr];Ut.length=this.length,Ut.negative=this.negative,Ut.red=this.red},Ct.prototype.clone=function(){var Ut=new Ct(null);return this.copy(Ut),Ut},Ct.prototype._expand=function(Ut){for(;this.length<Ut;)this.words[this.length++]=0;return this},Ct.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ct.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],er=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ct.prototype.toString=function(Ut,tr){Ut=Ut||10,tr=tr|0||1;var nr;if(Ut===16||Ut==="hex"){nr="";for(var rr=0,ar=0,cr=0;cr<this.length;cr++){var fr=this.words[cr],sr=((fr<<rr|ar)&16777215).toString(16);ar=fr>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,cr--),ar!==0||cr!==this.length-1?nr=Lt[6-sr.length]+sr+nr:nr=sr+nr}for(ar!==0&&(nr=ar.toString(16)+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}if(Ut===(Ut|0)&&Ut>=2&&Ut<=36){var Yt=Vt[Ut],ur=er[Ut];nr="";var _r=this.clone();for(_r.negative=0;!_r.isZero();){var yr=_r.modn(ur).toString(Ut);_r=_r.idivn(ur),_r.isZero()?nr=yr+nr:nr=Lt[Yt-yr.length]+yr+nr}for(this.isZero()&&(nr="0"+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}mt(!1,"Base should be between 2 and 36")},Ct.prototype.toNumber=function(){var Ut=this.words[0];return this.length===2?Ut+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ut+=4503599627370496+this.words[1]*67108864:this.length>2&&mt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ut:Ut},Ct.prototype.toJSON=function(){return this.toString(16)},Ct.prototype.toBuffer=function(Ut,tr){return mt(typeof Dt<"u"),this.toArrayLike(Dt,Ut,tr)},Ct.prototype.toArray=function(Ut,tr){return this.toArrayLike(Array,Ut,tr)},Ct.prototype.toArrayLike=function(Ut,tr,nr){var rr=this.byteLength(),ar=nr||Math.max(1,rr);mt(rr<=ar,"byte array longer than desired length"),mt(ar>0,"Requested array length <= 0"),this.strip();var cr=tr==="le",fr=new Ut(ar),sr,Yt,ur=this.clone();if(cr){for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[Yt]=sr;for(;Yt<ar;Yt++)fr[Yt]=0}else{for(Yt=0;Yt<ar-rr;Yt++)fr[Yt]=0;for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[ar-Yt-1]=sr}return fr},Math.clz32?Ct.prototype._countBits=function(Ut){return 32-Math.clz32(Ut)}:Ct.prototype._countBits=function(Ut){var tr=Ut,nr=0;return tr>=4096&&(nr+=13,tr>>>=13),tr>=64&&(nr+=7,tr>>>=7),tr>=8&&(nr+=4,tr>>>=4),tr>=2&&(nr+=2,tr>>>=2),nr+tr},Ct.prototype._zeroBits=function(Ut){if(Ut===0)return 26;var tr=Ut,nr=0;return tr&8191||(nr+=13,tr>>>=13),tr&127||(nr+=7,tr>>>=7),tr&15||(nr+=4,tr>>>=4),tr&3||(nr+=2,tr>>>=2),tr&1||nr++,nr},Ct.prototype.bitLength=function(){var Ut=this.words[this.length-1],tr=this._countBits(Ut);return(this.length-1)*26+tr};function ir(gr){for(var Ut=new Array(gr.bitLength()),tr=0;tr<Ut.length;tr++){var nr=tr/26|0,rr=tr%26;Ut[tr]=(gr.words[nr]&1<<rr)>>>rr}return Ut}Ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ut=0,tr=0;tr<this.length;tr++){var nr=this._zeroBits(this.words[tr]);if(Ut+=nr,nr!==26)break}return Ut},Ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ct.prototype.toTwos=function(Ut){return this.negative!==0?this.abs().inotn(Ut).iaddn(1):this.clone()},Ct.prototype.fromTwos=function(Ut){return this.testn(Ut-1)?this.notn(Ut).iaddn(1).ineg():this.clone()},Ct.prototype.isNeg=function(){return this.negative!==0},Ct.prototype.neg=function(){return this.clone().ineg()},Ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ct.prototype.iuor=function(Ut){for(;this.length<Ut.length;)this.words[this.length++]=0;for(var tr=0;tr<Ut.length;tr++)this.words[tr]=this.words[tr]|Ut.words[tr];return this.strip()},Ct.prototype.ior=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuor(Ut)},Ct.prototype.or=function(Ut){return this.length>Ut.length?this.clone().ior(Ut):Ut.clone().ior(this)},Ct.prototype.uor=function(Ut){return this.length>Ut.length?this.clone().iuor(Ut):Ut.clone().iuor(this)},Ct.prototype.iuand=function(Ut){var tr;this.length>Ut.length?tr=Ut:tr=this;for(var nr=0;nr<tr.length;nr++)this.words[nr]=this.words[nr]&Ut.words[nr];return this.length=tr.length,this.strip()},Ct.prototype.iand=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuand(Ut)},Ct.prototype.and=function(Ut){return this.length>Ut.length?this.clone().iand(Ut):Ut.clone().iand(this)},Ct.prototype.uand=function(Ut){return this.length>Ut.length?this.clone().iuand(Ut):Ut.clone().iuand(this)},Ct.prototype.iuxor=function(Ut){var tr,nr;this.length>Ut.length?(tr=this,nr=Ut):(tr=Ut,nr=this);for(var rr=0;rr<nr.length;rr++)this.words[rr]=tr.words[rr]^nr.words[rr];if(this!==tr)for(;rr<tr.length;rr++)this.words[rr]=tr.words[rr];return this.length=tr.length,this.strip()},Ct.prototype.ixor=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuxor(Ut)},Ct.prototype.xor=function(Ut){return this.length>Ut.length?this.clone().ixor(Ut):Ut.clone().ixor(this)},Ct.prototype.uxor=function(Ut){return this.length>Ut.length?this.clone().iuxor(Ut):Ut.clone().iuxor(this)},Ct.prototype.inotn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Math.ceil(Ut/26)|0,nr=Ut%26;this._expand(tr),nr>0&&tr--;for(var rr=0;rr<tr;rr++)this.words[rr]=~this.words[rr]&67108863;return nr>0&&(this.words[rr]=~this.words[rr]&67108863>>26-nr),this.strip()},Ct.prototype.notn=function(Ut){return this.clone().inotn(Ut)},Ct.prototype.setn=function(Ut,tr){mt(typeof Ut=="number"&&Ut>=0);var nr=Ut/26|0,rr=Ut%26;return this._expand(nr+1),tr?this.words[nr]=this.words[nr]|1<<rr:this.words[nr]=this.words[nr]&~(1<<rr),this.strip()},Ct.prototype.iadd=function(Ut){var tr;if(this.negative!==0&&Ut.negative===0)return this.negative=0,tr=this.isub(Ut),this.negative^=1,this._normSign();if(this.negative===0&&Ut.negative!==0)return Ut.negative=0,tr=this.isub(Ut),Ut.negative=1,tr._normSign();var nr,rr;this.length>Ut.length?(nr=this,rr=Ut):(nr=Ut,rr=this);for(var ar=0,cr=0;cr<rr.length;cr++)tr=(nr.words[cr]|0)+(rr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;for(;ar!==0&&cr<nr.length;cr++)tr=(nr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;if(this.length=nr.length,ar!==0)this.words[this.length]=ar,this.length++;else if(nr!==this)for(;cr<nr.length;cr++)this.words[cr]=nr.words[cr];return this},Ct.prototype.add=function(Ut){var tr;return Ut.negative!==0&&this.negative===0?(Ut.negative=0,tr=this.sub(Ut),Ut.negative^=1,tr):Ut.negative===0&&this.negative!==0?(this.negative=0,tr=Ut.sub(this),this.negative=1,tr):this.length>Ut.length?this.clone().iadd(Ut):Ut.clone().iadd(this)},Ct.prototype.isub=function(Ut){if(Ut.negative!==0){Ut.negative=0;var tr=this.iadd(Ut);return Ut.negative=1,tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ut),this.negative=1,this._normSign();var nr=this.cmp(Ut);if(nr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,ar;nr>0?(rr=this,ar=Ut):(rr=Ut,ar=this);for(var cr=0,fr=0;fr<ar.length;fr++)tr=(rr.words[fr]|0)-(ar.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;for(;cr!==0&&fr<rr.length;fr++)tr=(rr.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;if(cr===0&&fr<rr.length&&rr!==this)for(;fr<rr.length;fr++)this.words[fr]=rr.words[fr];return this.length=Math.max(this.length,fr),rr!==this&&(this.negative=1),this.strip()},Ct.prototype.sub=function(Ut){return this.clone().isub(Ut)};function or(gr,Ut,tr){tr.negative=Ut.negative^gr.negative;var nr=gr.length+Ut.length|0;tr.length=nr,nr=nr-1|0;var rr=gr.words[0]|0,ar=Ut.words[0]|0,cr=rr*ar,fr=cr&67108863,sr=cr/67108864|0;tr.words[0]=fr;for(var Yt=1;Yt<nr;Yt++){for(var ur=sr>>>26,_r=sr&67108863,yr=Math.min(Yt,Ut.length-1),wr=Math.max(0,Yt-gr.length+1);wr<=yr;wr++){var Ir=Yt-wr|0;rr=gr.words[Ir]|0,ar=Ut.words[wr]|0,cr=rr*ar+_r,ur+=cr/67108864|0,_r=cr&67108863}tr.words[Yt]=_r|0,sr=ur|0}return sr!==0?tr.words[Yt]=sr|0:tr.length--,tr.strip()}var lr=function(Ut,tr,nr){var rr=Ut.words,ar=tr.words,cr=nr.words,fr=0,sr,Yt,ur,_r=rr[0]|0,yr=_r&8191,wr=_r>>>13,Ir=rr[1]|0,Or=Ir&8191,Ar=Ir>>>13,Nr=rr[2]|0,Hr=Nr&8191,Pr=Nr>>>13,Dr=rr[3]|0,Rr=Dr&8191,Vr=Dr>>>13,an=rr[4]|0,Xr=an&8191,Jr=an>>>13,Zr=rr[5]|0,Gr=Zr&8191,zr=Zr>>>13,Dn=rr[6]|0,Qr=Dn&8191,Un=Dn>>>13,ro=rr[7]|0,Hn=ro&8191,Qn=ro>>>13,$o=rr[8]|0,Kn=$o&8191,_i=$o>>>13,Lo=rr[9]|0,jr=Lo&8191,Tr=Lo>>>13,Fr=ar[0]|0,Wr=Fr&8191,sn=Fr>>>13,Jn=ar[1]|0,Nn=Jn&8191,Zn=Jn>>>13,Io=ar[2]|0,ga=Io&8191,ba=Io>>>13,Bo=ar[3]|0,io=Bo&8191,so=Bo>>>13,zo=ar[4]|0,eo=zo&8191,oo=zo>>>13,Ho=ar[5]|0,no=Ho&8191,ao=Ho>>>13,Gn=ar[6]|0,dn=Gn&8191,Ln=Gn>>>13,Br=ar[7]|0,Lr=Br&8191,qr=Br>>>13,Mr=ar[8]|0,Ur=Mr&8191,rn=Mr>>>13,zn=ar[9]|0,pn=zn&8191,Vn=zn>>>13;nr.negative=Ut.negative^tr.negative,nr.length=19,sr=Math.imul(yr,Wr),Yt=Math.imul(yr,sn),Yt=Yt+Math.imul(wr,Wr)|0,ur=Math.imul(wr,sn);var co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(co>>>26)|0,co&=67108863,sr=Math.imul(Or,Wr),Yt=Math.imul(Or,sn),Yt=Yt+Math.imul(Ar,Wr)|0,ur=Math.imul(Ar,sn),sr=sr+Math.imul(yr,Nn)|0,Yt=Yt+Math.imul(yr,Zn)|0,Yt=Yt+Math.imul(wr,Nn)|0,ur=ur+Math.imul(wr,Zn)|0;var uo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(uo>>>26)|0,uo&=67108863,sr=Math.imul(Hr,Wr),Yt=Math.imul(Hr,sn),Yt=Yt+Math.imul(Pr,Wr)|0,ur=Math.imul(Pr,sn),sr=sr+Math.imul(Or,Nn)|0,Yt=Yt+Math.imul(Or,Zn)|0,Yt=Yt+Math.imul(Ar,Nn)|0,ur=ur+Math.imul(Ar,Zn)|0,sr=sr+Math.imul(yr,ga)|0,Yt=Yt+Math.imul(yr,ba)|0,Yt=Yt+Math.imul(wr,ga)|0,ur=ur+Math.imul(wr,ba)|0;var Eo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,sr=Math.imul(Rr,Wr),Yt=Math.imul(Rr,sn),Yt=Yt+Math.imul(Vr,Wr)|0,ur=Math.imul(Vr,sn),sr=sr+Math.imul(Hr,Nn)|0,Yt=Yt+Math.imul(Hr,Zn)|0,Yt=Yt+Math.imul(Pr,Nn)|0,ur=ur+Math.imul(Pr,Zn)|0,sr=sr+Math.imul(Or,ga)|0,Yt=Yt+Math.imul(Or,ba)|0,Yt=Yt+Math.imul(Ar,ga)|0,ur=ur+Math.imul(Ar,ba)|0,sr=sr+Math.imul(yr,io)|0,Yt=Yt+Math.imul(yr,so)|0,Yt=Yt+Math.imul(wr,io)|0,ur=ur+Math.imul(wr,so)|0;var ho=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ho>>>26)|0,ho&=67108863,sr=Math.imul(Xr,Wr),Yt=Math.imul(Xr,sn),Yt=Yt+Math.imul(Jr,Wr)|0,ur=Math.imul(Jr,sn),sr=sr+Math.imul(Rr,Nn)|0,Yt=Yt+Math.imul(Rr,Zn)|0,Yt=Yt+Math.imul(Vr,Nn)|0,ur=ur+Math.imul(Vr,Zn)|0,sr=sr+Math.imul(Hr,ga)|0,Yt=Yt+Math.imul(Hr,ba)|0,Yt=Yt+Math.imul(Pr,ga)|0,ur=ur+Math.imul(Pr,ba)|0,sr=sr+Math.imul(Or,io)|0,Yt=Yt+Math.imul(Or,so)|0,Yt=Yt+Math.imul(Ar,io)|0,ur=ur+Math.imul(Ar,so)|0,sr=sr+Math.imul(yr,eo)|0,Yt=Yt+Math.imul(yr,oo)|0,Yt=Yt+Math.imul(wr,eo)|0,ur=ur+Math.imul(wr,oo)|0;var Co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Co>>>26)|0,Co&=67108863,sr=Math.imul(Gr,Wr),Yt=Math.imul(Gr,sn),Yt=Yt+Math.imul(zr,Wr)|0,ur=Math.imul(zr,sn),sr=sr+Math.imul(Xr,Nn)|0,Yt=Yt+Math.imul(Xr,Zn)|0,Yt=Yt+Math.imul(Jr,Nn)|0,ur=ur+Math.imul(Jr,Zn)|0,sr=sr+Math.imul(Rr,ga)|0,Yt=Yt+Math.imul(Rr,ba)|0,Yt=Yt+Math.imul(Vr,ga)|0,ur=ur+Math.imul(Vr,ba)|0,sr=sr+Math.imul(Hr,io)|0,Yt=Yt+Math.imul(Hr,so)|0,Yt=Yt+Math.imul(Pr,io)|0,ur=ur+Math.imul(Pr,so)|0,sr=sr+Math.imul(Or,eo)|0,Yt=Yt+Math.imul(Or,oo)|0,Yt=Yt+Math.imul(Ar,eo)|0,ur=ur+Math.imul(Ar,oo)|0,sr=sr+Math.imul(yr,no)|0,Yt=Yt+Math.imul(yr,ao)|0,Yt=Yt+Math.imul(wr,no)|0,ur=ur+Math.imul(wr,ao)|0;var Po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Po>>>26)|0,Po&=67108863,sr=Math.imul(Qr,Wr),Yt=Math.imul(Qr,sn),Yt=Yt+Math.imul(Un,Wr)|0,ur=Math.imul(Un,sn),sr=sr+Math.imul(Gr,Nn)|0,Yt=Yt+Math.imul(Gr,Zn)|0,Yt=Yt+Math.imul(zr,Nn)|0,ur=ur+Math.imul(zr,Zn)|0,sr=sr+Math.imul(Xr,ga)|0,Yt=Yt+Math.imul(Xr,ba)|0,Yt=Yt+Math.imul(Jr,ga)|0,ur=ur+Math.imul(Jr,ba)|0,sr=sr+Math.imul(Rr,io)|0,Yt=Yt+Math.imul(Rr,so)|0,Yt=Yt+Math.imul(Vr,io)|0,ur=ur+Math.imul(Vr,so)|0,sr=sr+Math.imul(Hr,eo)|0,Yt=Yt+Math.imul(Hr,oo)|0,Yt=Yt+Math.imul(Pr,eo)|0,ur=ur+Math.imul(Pr,oo)|0,sr=sr+Math.imul(Or,no)|0,Yt=Yt+Math.imul(Or,ao)|0,Yt=Yt+Math.imul(Ar,no)|0,ur=ur+Math.imul(Ar,ao)|0,sr=sr+Math.imul(yr,dn)|0,Yt=Yt+Math.imul(yr,Ln)|0,Yt=Yt+Math.imul(wr,dn)|0,ur=ur+Math.imul(wr,Ln)|0;var Fo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,sr=Math.imul(Hn,Wr),Yt=Math.imul(Hn,sn),Yt=Yt+Math.imul(Qn,Wr)|0,ur=Math.imul(Qn,sn),sr=sr+Math.imul(Qr,Nn)|0,Yt=Yt+Math.imul(Qr,Zn)|0,Yt=Yt+Math.imul(Un,Nn)|0,ur=ur+Math.imul(Un,Zn)|0,sr=sr+Math.imul(Gr,ga)|0,Yt=Yt+Math.imul(Gr,ba)|0,Yt=Yt+Math.imul(zr,ga)|0,ur=ur+Math.imul(zr,ba)|0,sr=sr+Math.imul(Xr,io)|0,Yt=Yt+Math.imul(Xr,so)|0,Yt=Yt+Math.imul(Jr,io)|0,ur=ur+Math.imul(Jr,so)|0,sr=sr+Math.imul(Rr,eo)|0,Yt=Yt+Math.imul(Rr,oo)|0,Yt=Yt+Math.imul(Vr,eo)|0,ur=ur+Math.imul(Vr,oo)|0,sr=sr+Math.imul(Hr,no)|0,Yt=Yt+Math.imul(Hr,ao)|0,Yt=Yt+Math.imul(Pr,no)|0,ur=ur+Math.imul(Pr,ao)|0,sr=sr+Math.imul(Or,dn)|0,Yt=Yt+Math.imul(Or,Ln)|0,Yt=Yt+Math.imul(Ar,dn)|0,ur=ur+Math.imul(Ar,Ln)|0,sr=sr+Math.imul(yr,Lr)|0,Yt=Yt+Math.imul(yr,qr)|0,Yt=Yt+Math.imul(wr,Lr)|0,ur=ur+Math.imul(wr,qr)|0;var Do=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Do>>>26)|0,Do&=67108863,sr=Math.imul(Kn,Wr),Yt=Math.imul(Kn,sn),Yt=Yt+Math.imul(_i,Wr)|0,ur=Math.imul(_i,sn),sr=sr+Math.imul(Hn,Nn)|0,Yt=Yt+Math.imul(Hn,Zn)|0,Yt=Yt+Math.imul(Qn,Nn)|0,ur=ur+Math.imul(Qn,Zn)|0,sr=sr+Math.imul(Qr,ga)|0,Yt=Yt+Math.imul(Qr,ba)|0,Yt=Yt+Math.imul(Un,ga)|0,ur=ur+Math.imul(Un,ba)|0,sr=sr+Math.imul(Gr,io)|0,Yt=Yt+Math.imul(Gr,so)|0,Yt=Yt+Math.imul(zr,io)|0,ur=ur+Math.imul(zr,so)|0,sr=sr+Math.imul(Xr,eo)|0,Yt=Yt+Math.imul(Xr,oo)|0,Yt=Yt+Math.imul(Jr,eo)|0,ur=ur+Math.imul(Jr,oo)|0,sr=sr+Math.imul(Rr,no)|0,Yt=Yt+Math.imul(Rr,ao)|0,Yt=Yt+Math.imul(Vr,no)|0,ur=ur+Math.imul(Vr,ao)|0,sr=sr+Math.imul(Hr,dn)|0,Yt=Yt+Math.imul(Hr,Ln)|0,Yt=Yt+Math.imul(Pr,dn)|0,ur=ur+Math.imul(Pr,Ln)|0,sr=sr+Math.imul(Or,Lr)|0,Yt=Yt+Math.imul(Or,qr)|0,Yt=Yt+Math.imul(Ar,Lr)|0,ur=ur+Math.imul(Ar,qr)|0,sr=sr+Math.imul(yr,Ur)|0,Yt=Yt+Math.imul(yr,rn)|0,Yt=Yt+Math.imul(wr,Ur)|0,ur=ur+Math.imul(wr,rn)|0;var ko=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ko>>>26)|0,ko&=67108863,sr=Math.imul(jr,Wr),Yt=Math.imul(jr,sn),Yt=Yt+Math.imul(Tr,Wr)|0,ur=Math.imul(Tr,sn),sr=sr+Math.imul(Kn,Nn)|0,Yt=Yt+Math.imul(Kn,Zn)|0,Yt=Yt+Math.imul(_i,Nn)|0,ur=ur+Math.imul(_i,Zn)|0,sr=sr+Math.imul(Hn,ga)|0,Yt=Yt+Math.imul(Hn,ba)|0,Yt=Yt+Math.imul(Qn,ga)|0,ur=ur+Math.imul(Qn,ba)|0,sr=sr+Math.imul(Qr,io)|0,Yt=Yt+Math.imul(Qr,so)|0,Yt=Yt+Math.imul(Un,io)|0,ur=ur+Math.imul(Un,so)|0,sr=sr+Math.imul(Gr,eo)|0,Yt=Yt+Math.imul(Gr,oo)|0,Yt=Yt+Math.imul(zr,eo)|0,ur=ur+Math.imul(zr,oo)|0,sr=sr+Math.imul(Xr,no)|0,Yt=Yt+Math.imul(Xr,ao)|0,Yt=Yt+Math.imul(Jr,no)|0,ur=ur+Math.imul(Jr,ao)|0,sr=sr+Math.imul(Rr,dn)|0,Yt=Yt+Math.imul(Rr,Ln)|0,Yt=Yt+Math.imul(Vr,dn)|0,ur=ur+Math.imul(Vr,Ln)|0,sr=sr+Math.imul(Hr,Lr)|0,Yt=Yt+Math.imul(Hr,qr)|0,Yt=Yt+Math.imul(Pr,Lr)|0,ur=ur+Math.imul(Pr,qr)|0,sr=sr+Math.imul(Or,Ur)|0,Yt=Yt+Math.imul(Or,rn)|0,Yt=Yt+Math.imul(Ar,Ur)|0,ur=ur+Math.imul(Ar,rn)|0,sr=sr+Math.imul(yr,pn)|0,Yt=Yt+Math.imul(yr,Vn)|0,Yt=Yt+Math.imul(wr,pn)|0,ur=ur+Math.imul(wr,Vn)|0;var Mo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,sr=Math.imul(jr,Nn),Yt=Math.imul(jr,Zn),Yt=Yt+Math.imul(Tr,Nn)|0,ur=Math.imul(Tr,Zn),sr=sr+Math.imul(Kn,ga)|0,Yt=Yt+Math.imul(Kn,ba)|0,Yt=Yt+Math.imul(_i,ga)|0,ur=ur+Math.imul(_i,ba)|0,sr=sr+Math.imul(Hn,io)|0,Yt=Yt+Math.imul(Hn,so)|0,Yt=Yt+Math.imul(Qn,io)|0,ur=ur+Math.imul(Qn,so)|0,sr=sr+Math.imul(Qr,eo)|0,Yt=Yt+Math.imul(Qr,oo)|0,Yt=Yt+Math.imul(Un,eo)|0,ur=ur+Math.imul(Un,oo)|0,sr=sr+Math.imul(Gr,no)|0,Yt=Yt+Math.imul(Gr,ao)|0,Yt=Yt+Math.imul(zr,no)|0,ur=ur+Math.imul(zr,ao)|0,sr=sr+Math.imul(Xr,dn)|0,Yt=Yt+Math.imul(Xr,Ln)|0,Yt=Yt+Math.imul(Jr,dn)|0,ur=ur+Math.imul(Jr,Ln)|0,sr=sr+Math.imul(Rr,Lr)|0,Yt=Yt+Math.imul(Rr,qr)|0,Yt=Yt+Math.imul(Vr,Lr)|0,ur=ur+Math.imul(Vr,qr)|0,sr=sr+Math.imul(Hr,Ur)|0,Yt=Yt+Math.imul(Hr,rn)|0,Yt=Yt+Math.imul(Pr,Ur)|0,ur=ur+Math.imul(Pr,rn)|0,sr=sr+Math.imul(Or,pn)|0,Yt=Yt+Math.imul(Or,Vn)|0,Yt=Yt+Math.imul(Ar,pn)|0,ur=ur+Math.imul(Ar,Vn)|0;var Oo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,sr=Math.imul(jr,ga),Yt=Math.imul(jr,ba),Yt=Yt+Math.imul(Tr,ga)|0,ur=Math.imul(Tr,ba),sr=sr+Math.imul(Kn,io)|0,Yt=Yt+Math.imul(Kn,so)|0,Yt=Yt+Math.imul(_i,io)|0,ur=ur+Math.imul(_i,so)|0,sr=sr+Math.imul(Hn,eo)|0,Yt=Yt+Math.imul(Hn,oo)|0,Yt=Yt+Math.imul(Qn,eo)|0,ur=ur+Math.imul(Qn,oo)|0,sr=sr+Math.imul(Qr,no)|0,Yt=Yt+Math.imul(Qr,ao)|0,Yt=Yt+Math.imul(Un,no)|0,ur=ur+Math.imul(Un,ao)|0,sr=sr+Math.imul(Gr,dn)|0,Yt=Yt+Math.imul(Gr,Ln)|0,Yt=Yt+Math.imul(zr,dn)|0,ur=ur+Math.imul(zr,Ln)|0,sr=sr+Math.imul(Xr,Lr)|0,Yt=Yt+Math.imul(Xr,qr)|0,Yt=Yt+Math.imul(Jr,Lr)|0,ur=ur+Math.imul(Jr,qr)|0,sr=sr+Math.imul(Rr,Ur)|0,Yt=Yt+Math.imul(Rr,rn)|0,Yt=Yt+Math.imul(Vr,Ur)|0,ur=ur+Math.imul(Vr,rn)|0,sr=sr+Math.imul(Hr,pn)|0,Yt=Yt+Math.imul(Hr,Vn)|0,Yt=Yt+Math.imul(Pr,pn)|0,ur=ur+Math.imul(Pr,Vn)|0;var xo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(xo>>>26)|0,xo&=67108863,sr=Math.imul(jr,io),Yt=Math.imul(jr,so),Yt=Yt+Math.imul(Tr,io)|0,ur=Math.imul(Tr,so),sr=sr+Math.imul(Kn,eo)|0,Yt=Yt+Math.imul(Kn,oo)|0,Yt=Yt+Math.imul(_i,eo)|0,ur=ur+Math.imul(_i,oo)|0,sr=sr+Math.imul(Hn,no)|0,Yt=Yt+Math.imul(Hn,ao)|0,Yt=Yt+Math.imul(Qn,no)|0,ur=ur+Math.imul(Qn,ao)|0,sr=sr+Math.imul(Qr,dn)|0,Yt=Yt+Math.imul(Qr,Ln)|0,Yt=Yt+Math.imul(Un,dn)|0,ur=ur+Math.imul(Un,Ln)|0,sr=sr+Math.imul(Gr,Lr)|0,Yt=Yt+Math.imul(Gr,qr)|0,Yt=Yt+Math.imul(zr,Lr)|0,ur=ur+Math.imul(zr,qr)|0,sr=sr+Math.imul(Xr,Ur)|0,Yt=Yt+Math.imul(Xr,rn)|0,Yt=Yt+Math.imul(Jr,Ur)|0,ur=ur+Math.imul(Jr,rn)|0,sr=sr+Math.imul(Rr,pn)|0,Yt=Yt+Math.imul(Rr,Vn)|0,Yt=Yt+Math.imul(Vr,pn)|0,ur=ur+Math.imul(Vr,Vn)|0;var Ro=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,sr=Math.imul(jr,eo),Yt=Math.imul(jr,oo),Yt=Yt+Math.imul(Tr,eo)|0,ur=Math.imul(Tr,oo),sr=sr+Math.imul(Kn,no)|0,Yt=Yt+Math.imul(Kn,ao)|0,Yt=Yt+Math.imul(_i,no)|0,ur=ur+Math.imul(_i,ao)|0,sr=sr+Math.imul(Hn,dn)|0,Yt=Yt+Math.imul(Hn,Ln)|0,Yt=Yt+Math.imul(Qn,dn)|0,ur=ur+Math.imul(Qn,Ln)|0,sr=sr+Math.imul(Qr,Lr)|0,Yt=Yt+Math.imul(Qr,qr)|0,Yt=Yt+Math.imul(Un,Lr)|0,ur=ur+Math.imul(Un,qr)|0,sr=sr+Math.imul(Gr,Ur)|0,Yt=Yt+Math.imul(Gr,rn)|0,Yt=Yt+Math.imul(zr,Ur)|0,ur=ur+Math.imul(zr,rn)|0,sr=sr+Math.imul(Xr,pn)|0,Yt=Yt+Math.imul(Xr,Vn)|0,Yt=Yt+Math.imul(Jr,pn)|0,ur=ur+Math.imul(Jr,Vn)|0;var So=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(So>>>26)|0,So&=67108863,sr=Math.imul(jr,no),Yt=Math.imul(jr,ao),Yt=Yt+Math.imul(Tr,no)|0,ur=Math.imul(Tr,ao),sr=sr+Math.imul(Kn,dn)|0,Yt=Yt+Math.imul(Kn,Ln)|0,Yt=Yt+Math.imul(_i,dn)|0,ur=ur+Math.imul(_i,Ln)|0,sr=sr+Math.imul(Hn,Lr)|0,Yt=Yt+Math.imul(Hn,qr)|0,Yt=Yt+Math.imul(Qn,Lr)|0,ur=ur+Math.imul(Qn,qr)|0,sr=sr+Math.imul(Qr,Ur)|0,Yt=Yt+Math.imul(Qr,rn)|0,Yt=Yt+Math.imul(Un,Ur)|0,ur=ur+Math.imul(Un,rn)|0,sr=sr+Math.imul(Gr,pn)|0,Yt=Yt+Math.imul(Gr,Vn)|0,Yt=Yt+Math.imul(zr,pn)|0,ur=ur+Math.imul(zr,Vn)|0;var po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(po>>>26)|0,po&=67108863,sr=Math.imul(jr,dn),Yt=Math.imul(jr,Ln),Yt=Yt+Math.imul(Tr,dn)|0,ur=Math.imul(Tr,Ln),sr=sr+Math.imul(Kn,Lr)|0,Yt=Yt+Math.imul(Kn,qr)|0,Yt=Yt+Math.imul(_i,Lr)|0,ur=ur+Math.imul(_i,qr)|0,sr=sr+Math.imul(Hn,Ur)|0,Yt=Yt+Math.imul(Hn,rn)|0,Yt=Yt+Math.imul(Qn,Ur)|0,ur=ur+Math.imul(Qn,rn)|0,sr=sr+Math.imul(Qr,pn)|0,Yt=Yt+Math.imul(Qr,Vn)|0,Yt=Yt+Math.imul(Un,pn)|0,ur=ur+Math.imul(Un,Vn)|0;var vo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(vo>>>26)|0,vo&=67108863,sr=Math.imul(jr,Lr),Yt=Math.imul(jr,qr),Yt=Yt+Math.imul(Tr,Lr)|0,ur=Math.imul(Tr,qr),sr=sr+Math.imul(Kn,Ur)|0,Yt=Yt+Math.imul(Kn,rn)|0,Yt=Yt+Math.imul(_i,Ur)|0,ur=ur+Math.imul(_i,rn)|0,sr=sr+Math.imul(Hn,pn)|0,Yt=Yt+Math.imul(Hn,Vn)|0,Yt=Yt+Math.imul(Qn,pn)|0,ur=ur+Math.imul(Qn,Vn)|0;var wo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(wo>>>26)|0,wo&=67108863,sr=Math.imul(jr,Ur),Yt=Math.imul(jr,rn),Yt=Yt+Math.imul(Tr,Ur)|0,ur=Math.imul(Tr,rn),sr=sr+Math.imul(Kn,pn)|0,Yt=Yt+Math.imul(Kn,Vn)|0,Yt=Yt+Math.imul(_i,pn)|0,ur=ur+Math.imul(_i,Vn)|0;var to=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(to>>>26)|0,to&=67108863,sr=Math.imul(jr,pn),Yt=Math.imul(jr,Vn),Yt=Yt+Math.imul(Tr,pn)|0,ur=Math.imul(Tr,Vn);var _a=(fr+sr|0)+((Yt&8191)<<13)|0;return fr=(ur+(Yt>>>13)|0)+(_a>>>26)|0,_a&=67108863,cr[0]=co,cr[1]=uo,cr[2]=Eo,cr[3]=ho,cr[4]=Co,cr[5]=Po,cr[6]=Fo,cr[7]=Do,cr[8]=ko,cr[9]=Mo,cr[10]=Oo,cr[11]=xo,cr[12]=Ro,cr[13]=So,cr[14]=po,cr[15]=vo,cr[16]=wo,cr[17]=to,cr[18]=_a,fr!==0&&(cr[19]=fr,nr.length++),nr};Math.imul||(lr=or);function dr(gr,Ut,tr){tr.negative=Ut.negative^gr.negative,tr.length=gr.length+Ut.length;for(var nr=0,rr=0,ar=0;ar<tr.length-1;ar++){var cr=rr;rr=0;for(var fr=nr&67108863,sr=Math.min(ar,Ut.length-1),Yt=Math.max(0,ar-gr.length+1);Yt<=sr;Yt++){var ur=ar-Yt,_r=gr.words[ur]|0,yr=Ut.words[Yt]|0,wr=_r*yr,Ir=wr&67108863;cr=cr+(wr/67108864|0)|0,Ir=Ir+fr|0,fr=Ir&67108863,cr=cr+(Ir>>>26)|0,rr+=cr>>>26,cr&=67108863}tr.words[ar]=fr,nr=cr,cr=rr}return nr!==0?tr.words[ar]=nr:tr.length--,tr.strip()}function pr(gr,Ut,tr){var nr=new hr;return nr.mulp(gr,Ut,tr)}Ct.prototype.mulTo=function(Ut,tr){var nr,rr=this.length+Ut.length;return this.length===10&&Ut.length===10?nr=lr(this,Ut,tr):rr<63?nr=or(this,Ut,tr):rr<1024?nr=dr(this,Ut,tr):nr=pr(this,Ut,tr),nr};function hr(gr,Ut){this.x=gr,this.y=Ut}hr.prototype.makeRBT=function(Ut){for(var tr=new Array(Ut),nr=Ct.prototype._countBits(Ut)-1,rr=0;rr<Ut;rr++)tr[rr]=this.revBin(rr,nr,Ut);return tr},hr.prototype.revBin=function(Ut,tr,nr){if(Ut===0||Ut===nr-1)return Ut;for(var rr=0,ar=0;ar<tr;ar++)rr|=(Ut&1)<<tr-ar-1,Ut>>=1;return rr},hr.prototype.permute=function(Ut,tr,nr,rr,ar,cr){for(var fr=0;fr<cr;fr++)rr[fr]=tr[Ut[fr]],ar[fr]=nr[Ut[fr]]},hr.prototype.transform=function(Ut,tr,nr,rr,ar,cr){this.permute(cr,Ut,tr,nr,rr,ar);for(var fr=1;fr<ar;fr<<=1)for(var sr=fr<<1,Yt=Math.cos(2*Math.PI/sr),ur=Math.sin(2*Math.PI/sr),_r=0;_r<ar;_r+=sr)for(var yr=Yt,wr=ur,Ir=0;Ir<fr;Ir++){var Or=nr[_r+Ir],Ar=rr[_r+Ir],Nr=nr[_r+Ir+fr],Hr=rr[_r+Ir+fr],Pr=yr*Nr-wr*Hr;Hr=yr*Hr+wr*Nr,Nr=Pr,nr[_r+Ir]=Or+Nr,rr[_r+Ir]=Ar+Hr,nr[_r+Ir+fr]=Or-Nr,rr[_r+Ir+fr]=Ar-Hr,Ir!==sr&&(Pr=Yt*yr-ur*wr,wr=Yt*wr+ur*yr,yr=Pr)}},hr.prototype.guessLen13b=function(Ut,tr){var nr=Math.max(tr,Ut)|1,rr=nr&1,ar=0;for(nr=nr/2|0;nr;nr=nr>>>1)ar++;return 1<<ar+1+rr},hr.prototype.conjugate=function(Ut,tr,nr){if(!(nr<=1))for(var rr=0;rr<nr/2;rr++){var ar=Ut[rr];Ut[rr]=Ut[nr-rr-1],Ut[nr-rr-1]=ar,ar=tr[rr],tr[rr]=-tr[nr-rr-1],tr[nr-rr-1]=-ar}},hr.prototype.normalize13b=function(Ut,tr){for(var nr=0,rr=0;rr<tr/2;rr++){var ar=Math.round(Ut[2*rr+1]/tr)*8192+Math.round(Ut[2*rr]/tr)+nr;Ut[rr]=ar&67108863,ar<67108864?nr=0:nr=ar/67108864|0}return Ut},hr.prototype.convert13b=function(Ut,tr,nr,rr){for(var ar=0,cr=0;cr<tr;cr++)ar=ar+(Ut[cr]|0),nr[2*cr]=ar&8191,ar=ar>>>13,nr[2*cr+1]=ar&8191,ar=ar>>>13;for(cr=2*tr;cr<rr;++cr)nr[cr]=0;mt(ar===0),mt((ar&-8192)===0)},hr.prototype.stub=function(Ut){for(var tr=new Array(Ut),nr=0;nr<Ut;nr++)tr[nr]=0;return tr},hr.prototype.mulp=function(Ut,tr,nr){var rr=2*this.guessLen13b(Ut.length,tr.length),ar=this.makeRBT(rr),cr=this.stub(rr),fr=new Array(rr),sr=new Array(rr),Yt=new Array(rr),ur=new Array(rr),_r=new Array(rr),yr=new Array(rr),wr=nr.words;wr.length=rr,this.convert13b(Ut.words,Ut.length,fr,rr),this.convert13b(tr.words,tr.length,ur,rr),this.transform(fr,cr,sr,Yt,rr,ar),this.transform(ur,cr,_r,yr,rr,ar);for(var Ir=0;Ir<rr;Ir++){var Or=sr[Ir]*_r[Ir]-Yt[Ir]*yr[Ir];Yt[Ir]=sr[Ir]*yr[Ir]+Yt[Ir]*_r[Ir],sr[Ir]=Or}return this.conjugate(sr,Yt,rr),this.transform(sr,Yt,wr,cr,rr,ar),this.conjugate(wr,cr,rr),this.normalize13b(wr,rr),nr.negative=Ut.negative^tr.negative,nr.length=Ut.length+tr.length,nr.strip()},Ct.prototype.mul=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),this.mulTo(Ut,tr)},Ct.prototype.mulf=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),pr(this,Ut,tr)},Ct.prototype.imul=function(Ut){return this.clone().mulTo(Ut,this)},Ct.prototype.imuln=function(Ut){mt(typeof Ut=="number"),mt(Ut<67108864);for(var tr=0,nr=0;nr<this.length;nr++){var rr=(this.words[nr]|0)*Ut,ar=(rr&67108863)+(tr&67108863);tr>>=26,tr+=rr/67108864|0,tr+=ar>>>26,this.words[nr]=ar&67108863}return tr!==0&&(this.words[nr]=tr,this.length++),this},Ct.prototype.muln=function(Ut){return this.clone().imuln(Ut)},Ct.prototype.sqr=function(){return this.mul(this)},Ct.prototype.isqr=function(){return this.imul(this.clone())},Ct.prototype.pow=function(Ut){var tr=ir(Ut);if(tr.length===0)return new Ct(1);for(var nr=this,rr=0;rr<tr.length&&tr[rr]===0;rr++,nr=nr.sqr());if(++rr<tr.length)for(var ar=nr.sqr();rr<tr.length;rr++,ar=ar.sqr())tr[rr]!==0&&(nr=nr.mul(ar));return nr},Ct.prototype.iushln=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=67108863>>>26-tr<<26-tr,ar;if(tr!==0){var cr=0;for(ar=0;ar<this.length;ar++){var fr=this.words[ar]&rr,sr=(this.words[ar]|0)-fr<<tr;this.words[ar]=sr|cr,cr=fr>>>26-tr}cr&&(this.words[ar]=cr,this.length++)}if(nr!==0){for(ar=this.length-1;ar>=0;ar--)this.words[ar+nr]=this.words[ar];for(ar=0;ar<nr;ar++)this.words[ar]=0;this.length+=nr}return this.strip()},Ct.prototype.ishln=function(Ut){return mt(this.negative===0),this.iushln(Ut)},Ct.prototype.iushrn=function(Ut,tr,nr){mt(typeof Ut=="number"&&Ut>=0);var rr;tr?rr=(tr-tr%26)/26:rr=0;var ar=Ut%26,cr=Math.min((Ut-ar)/26,this.length),fr=67108863^67108863>>>ar<<ar,sr=nr;if(rr-=cr,rr=Math.max(0,rr),sr){for(var Yt=0;Yt<cr;Yt++)sr.words[Yt]=this.words[Yt];sr.length=cr}if(cr!==0)if(this.length>cr)for(this.length-=cr,Yt=0;Yt<this.length;Yt++)this.words[Yt]=this.words[Yt+cr];else this.words[0]=0,this.length=1;var ur=0;for(Yt=this.length-1;Yt>=0&&(ur!==0||Yt>=rr);Yt--){var _r=this.words[Yt]|0;this.words[Yt]=ur<<26-ar|_r>>>ar,ur=_r&fr}return sr&&ur!==0&&(sr.words[sr.length++]=ur),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ct.prototype.ishrn=function(Ut,tr,nr){return mt(this.negative===0),this.iushrn(Ut,tr,nr)},Ct.prototype.shln=function(Ut){return this.clone().ishln(Ut)},Ct.prototype.ushln=function(Ut){return this.clone().iushln(Ut)},Ct.prototype.shrn=function(Ut){return this.clone().ishrn(Ut)},Ct.prototype.ushrn=function(Ut){return this.clone().iushrn(Ut)},Ct.prototype.testn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return!1;var ar=this.words[nr];return!!(ar&rr)},Ct.prototype.imaskn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26;if(mt(this.negative===0,"imaskn works only with positive numbers"),this.length<=nr)return this;if(tr!==0&&nr++,this.length=Math.min(nr,this.length),tr!==0){var rr=67108863^67108863>>>tr<<tr;this.words[this.length-1]&=rr}return this.strip()},Ct.prototype.maskn=function(Ut){return this.clone().imaskn(Ut)},Ct.prototype.iaddn=function(Ut){return mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0?this.isubn(-Ut):this.negative!==0?this.length===1&&(this.words[0]|0)<Ut?(this.words[0]=Ut-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ut),this.negative=1,this):this._iaddn(Ut)},Ct.prototype._iaddn=function(Ut){this.words[0]+=Ut;for(var tr=0;tr<this.length&&this.words[tr]>=67108864;tr++)this.words[tr]-=67108864,tr===this.length-1?this.words[tr+1]=1:this.words[tr+1]++;return this.length=Math.max(this.length,tr+1),this},Ct.prototype.isubn=function(Ut){if(mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0)return this.iaddn(-Ut);if(this.negative!==0)return this.negative=0,this.iaddn(Ut),this.negative=1,this;if(this.words[0]-=Ut,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tr=0;tr<this.length&&this.words[tr]<0;tr++)this.words[tr]+=67108864,this.words[tr+1]-=1;return this.strip()},Ct.prototype.addn=function(Ut){return this.clone().iaddn(Ut)},Ct.prototype.subn=function(Ut){return this.clone().isubn(Ut)},Ct.prototype.iabs=function(){return this.negative=0,this},Ct.prototype.abs=function(){return this.clone().iabs()},Ct.prototype._ishlnsubmul=function(Ut,tr,nr){var rr=Ut.length+nr,ar;this._expand(rr);var cr,fr=0;for(ar=0;ar<Ut.length;ar++){cr=(this.words[ar+nr]|0)+fr;var sr=(Ut.words[ar]|0)*tr;cr-=sr&67108863,fr=(cr>>26)-(sr/67108864|0),this.words[ar+nr]=cr&67108863}for(;ar<this.length-nr;ar++)cr=(this.words[ar+nr]|0)+fr,fr=cr>>26,this.words[ar+nr]=cr&67108863;if(fr===0)return this.strip();for(mt(fr===-1),fr=0,ar=0;ar<this.length;ar++)cr=-(this.words[ar]|0)+fr,fr=cr>>26,this.words[ar]=cr&67108863;return this.negative=1,this.strip()},Ct.prototype._wordDiv=function(Ut,tr){var nr=this.length-Ut.length,rr=this.clone(),ar=Ut,cr=ar.words[ar.length-1]|0,fr=this._countBits(cr);nr=26-fr,nr!==0&&(ar=ar.ushln(nr),rr.iushln(nr),cr=ar.words[ar.length-1]|0);var sr=rr.length-ar.length,Yt;if(tr!=="mod"){Yt=new Ct(null),Yt.length=sr+1,Yt.words=new Array(Yt.length);for(var ur=0;ur<Yt.length;ur++)Yt.words[ur]=0}var _r=rr.clone()._ishlnsubmul(ar,1,sr);_r.negative===0&&(rr=_r,Yt&&(Yt.words[sr]=1));for(var yr=sr-1;yr>=0;yr--){var wr=(rr.words[ar.length+yr]|0)*67108864+(rr.words[ar.length+yr-1]|0);for(wr=Math.min(wr/cr|0,67108863),rr._ishlnsubmul(ar,wr,yr);rr.negative!==0;)wr--,rr.negative=0,rr._ishlnsubmul(ar,1,yr),rr.isZero()||(rr.negative^=1);Yt&&(Yt.words[yr]=wr)}return Yt&&Yt.strip(),rr.strip(),tr!=="div"&&nr!==0&&rr.iushrn(nr),{div:Yt||null,mod:rr}},Ct.prototype.divmod=function(Ut,tr,nr){if(mt(!Ut.isZero()),this.isZero())return{div:new Ct(0),mod:new Ct(0)};var rr,ar,cr;return this.negative!==0&&Ut.negative===0?(cr=this.neg().divmod(Ut,tr),tr!=="mod"&&(rr=cr.div.neg()),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.iadd(Ut)),{div:rr,mod:ar}):this.negative===0&&Ut.negative!==0?(cr=this.divmod(Ut.neg(),tr),tr!=="mod"&&(rr=cr.div.neg()),{div:rr,mod:cr.mod}):this.negative&Ut.negative?(cr=this.neg().divmod(Ut.neg(),tr),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.isub(Ut)),{div:cr.div,mod:ar}):Ut.length>this.length||this.cmp(Ut)<0?{div:new Ct(0),mod:this}:Ut.length===1?tr==="div"?{div:this.divn(Ut.words[0]),mod:null}:tr==="mod"?{div:null,mod:new Ct(this.modn(Ut.words[0]))}:{div:this.divn(Ut.words[0]),mod:new Ct(this.modn(Ut.words[0]))}:this._wordDiv(Ut,tr)},Ct.prototype.div=function(Ut){return this.divmod(Ut,"div",!1).div},Ct.prototype.mod=function(Ut){return this.divmod(Ut,"mod",!1).mod},Ct.prototype.umod=function(Ut){return this.divmod(Ut,"mod",!0).mod},Ct.prototype.divRound=function(Ut){var tr=this.divmod(Ut);if(tr.mod.isZero())return tr.div;var nr=tr.div.negative!==0?tr.mod.isub(Ut):tr.mod,rr=Ut.ushrn(1),ar=Ut.andln(1),cr=nr.cmp(rr);return cr<0||ar===1&&cr===0?tr.div:tr.div.negative!==0?tr.div.isubn(1):tr.div.iaddn(1)},Ct.prototype.modn=function(Ut){mt(Ut<=67108863);for(var tr=(1<<26)%Ut,nr=0,rr=this.length-1;rr>=0;rr--)nr=(tr*nr+(this.words[rr]|0))%Ut;return nr},Ct.prototype.idivn=function(Ut){mt(Ut<=67108863);for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=(this.words[nr]|0)+tr*67108864;this.words[nr]=rr/Ut|0,tr=rr%Ut}return this.strip()},Ct.prototype.divn=function(Ut){return this.clone().idivn(Ut)},Ct.prototype.egcd=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=new Ct(0),fr=new Ct(1),sr=0;tr.isEven()&&nr.isEven();)tr.iushrn(1),nr.iushrn(1),++sr;for(var Yt=nr.clone(),ur=tr.clone();!tr.isZero();){for(var _r=0,yr=1;!(tr.words[0]&yr)&&_r<26;++_r,yr<<=1);if(_r>0)for(tr.iushrn(_r);_r-- >0;)(rr.isOdd()||ar.isOdd())&&(rr.iadd(Yt),ar.isub(ur)),rr.iushrn(1),ar.iushrn(1);for(var wr=0,Ir=1;!(nr.words[0]&Ir)&&wr<26;++wr,Ir<<=1);if(wr>0)for(nr.iushrn(wr);wr-- >0;)(cr.isOdd()||fr.isOdd())&&(cr.iadd(Yt),fr.isub(ur)),cr.iushrn(1),fr.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(cr),ar.isub(fr)):(nr.isub(tr),cr.isub(rr),fr.isub(ar))}return{a:cr,b:fr,gcd:nr.iushln(sr)}},Ct.prototype._invmp=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=nr.clone();tr.cmpn(1)>0&&nr.cmpn(1)>0;){for(var fr=0,sr=1;!(tr.words[0]&sr)&&fr<26;++fr,sr<<=1);if(fr>0)for(tr.iushrn(fr);fr-- >0;)rr.isOdd()&&rr.iadd(cr),rr.iushrn(1);for(var Yt=0,ur=1;!(nr.words[0]&ur)&&Yt<26;++Yt,ur<<=1);if(Yt>0)for(nr.iushrn(Yt);Yt-- >0;)ar.isOdd()&&ar.iadd(cr),ar.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(ar)):(nr.isub(tr),ar.isub(rr))}var _r;return tr.cmpn(1)===0?_r=rr:_r=ar,_r.cmpn(0)<0&&_r.iadd(Ut),_r},Ct.prototype.gcd=function(Ut){if(this.isZero())return Ut.abs();if(Ut.isZero())return this.abs();var tr=this.clone(),nr=Ut.clone();tr.negative=0,nr.negative=0;for(var rr=0;tr.isEven()&&nr.isEven();rr++)tr.iushrn(1),nr.iushrn(1);do{for(;tr.isEven();)tr.iushrn(1);for(;nr.isEven();)nr.iushrn(1);var ar=tr.cmp(nr);if(ar<0){var cr=tr;tr=nr,nr=cr}else if(ar===0||nr.cmpn(1)===0)break;tr.isub(nr)}while(!0);return nr.iushln(rr)},Ct.prototype.invm=function(Ut){return this.egcd(Ut).a.umod(Ut)},Ct.prototype.isEven=function(){return(this.words[0]&1)===0},Ct.prototype.isOdd=function(){return(this.words[0]&1)===1},Ct.prototype.andln=function(Ut){return this.words[0]&Ut},Ct.prototype.bincn=function(Ut){mt(typeof Ut=="number");var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return this._expand(nr+1),this.words[nr]|=rr,this;for(var ar=rr,cr=nr;ar!==0&&cr<this.length;cr++){var fr=this.words[cr]|0;fr+=ar,ar=fr>>>26,fr&=67108863,this.words[cr]=fr}return ar!==0&&(this.words[cr]=ar,this.length++),this},Ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ct.prototype.cmpn=function(Ut){var tr=Ut<0;if(this.negative!==0&&!tr)return-1;if(this.negative===0&&tr)return 1;this.strip();var nr;if(this.length>1)nr=1;else{tr&&(Ut=-Ut),mt(Ut<=67108863,"Number is too big");var rr=this.words[0]|0;nr=rr===Ut?0:rr<Ut?-1:1}return this.negative!==0?-nr|0:nr},Ct.prototype.cmp=function(Ut){if(this.negative!==0&&Ut.negative===0)return-1;if(this.negative===0&&Ut.negative!==0)return 1;var tr=this.ucmp(Ut);return this.negative!==0?-tr|0:tr},Ct.prototype.ucmp=function(Ut){if(this.length>Ut.length)return 1;if(this.length<Ut.length)return-1;for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=this.words[nr]|0,ar=Ut.words[nr]|0;if(rr!==ar){rr<ar?tr=-1:rr>ar&&(tr=1);break}}return tr},Ct.prototype.gtn=function(Ut){return this.cmpn(Ut)===1},Ct.prototype.gt=function(Ut){return this.cmp(Ut)===1},Ct.prototype.gten=function(Ut){return this.cmpn(Ut)>=0},Ct.prototype.gte=function(Ut){return this.cmp(Ut)>=0},Ct.prototype.ltn=function(Ut){return this.cmpn(Ut)===-1},Ct.prototype.lt=function(Ut){return this.cmp(Ut)===-1},Ct.prototype.lten=function(Ut){return this.cmpn(Ut)<=0},Ct.prototype.lte=function(Ut){return this.cmp(Ut)<=0},Ct.prototype.eqn=function(Ut){return this.cmpn(Ut)===0},Ct.prototype.eq=function(Ut){return this.cmp(Ut)===0},Ct.red=function(Ut){return new Cr(Ut)},Ct.prototype.toRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),mt(this.negative===0,"red works only with positives"),Ut.convertTo(this)._forceRed(Ut)},Ct.prototype.fromRed=function(){return mt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ct.prototype._forceRed=function(Ut){return this.red=Ut,this},Ct.prototype.forceRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),this._forceRed(Ut)},Ct.prototype.redAdd=function(Ut){return mt(this.red,"redAdd works only with red numbers"),this.red.add(this,Ut)},Ct.prototype.redIAdd=function(Ut){return mt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ut)},Ct.prototype.redSub=function(Ut){return mt(this.red,"redSub works only with red numbers"),this.red.sub(this,Ut)},Ct.prototype.redISub=function(Ut){return mt(this.red,"redISub works only with red numbers"),this.red.isub(this,Ut)},Ct.prototype.redShl=function(Ut){return mt(this.red,"redShl works only with red numbers"),this.red.shl(this,Ut)},Ct.prototype.redMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.mul(this,Ut)},Ct.prototype.redIMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.imul(this,Ut)},Ct.prototype.redSqr=function(){return mt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ct.prototype.redISqr=function(){return mt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ct.prototype.redSqrt=function(){return mt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ct.prototype.redInvm=function(){return mt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ct.prototype.redNeg=function(){return mt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ct.prototype.redPow=function(Ut){return mt(this.red&&!Ut.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ut)};var vr={k256:null,p224:null,p192:null,p25519:null};function br(gr,Ut){this.name=gr,this.p=new Ct(Ut,16),this.n=this.p.bitLength(),this.k=new Ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var Ut=new Ct(null);return Ut.words=new Array(Math.ceil(this.n/13)),Ut},br.prototype.ireduce=function(Ut){var tr=Ut,nr;do this.split(tr,this.tmp),tr=this.imulK(tr),tr=tr.iadd(this.tmp),nr=tr.bitLength();while(nr>this.n);var rr=nr<this.n?-1:tr.ucmp(this.p);return rr===0?(tr.words[0]=0,tr.length=1):rr>0?tr.isub(this.p):tr.strip!==void 0?tr.strip():tr._strip(),tr},br.prototype.split=function(Ut,tr){Ut.iushrn(this.n,0,tr)},br.prototype.imulK=function(Ut){return Ut.imul(this.k)};function xr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$t(xr,br),xr.prototype.split=function(Ut,tr){for(var nr=4194303,rr=Math.min(Ut.length,9),ar=0;ar<rr;ar++)tr.words[ar]=Ut.words[ar];if(tr.length=rr,Ut.length<=9){Ut.words[0]=0,Ut.length=1;return}var cr=Ut.words[9];for(tr.words[tr.length++]=cr&nr,ar=10;ar<Ut.length;ar++){var fr=Ut.words[ar]|0;Ut.words[ar-10]=(fr&nr)<<4|cr>>>22,cr=fr}cr>>>=22,Ut.words[ar-10]=cr,cr===0&&Ut.length>10?Ut.length-=10:Ut.length-=9},xr.prototype.imulK=function(Ut){Ut.words[Ut.length]=0,Ut.words[Ut.length+1]=0,Ut.length+=2;for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=Ut.words[nr]|0;tr+=rr*977,Ut.words[nr]=tr&67108863,tr=rr*64+(tr/67108864|0)}return Ut.words[Ut.length-1]===0&&(Ut.length--,Ut.words[Ut.length-1]===0&&Ut.length--),Ut};function Sr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$t(Sr,br);function Er(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$t(Er,br);function $r(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$t($r,br),$r.prototype.imulK=function(Ut){for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=(Ut.words[nr]|0)*19+tr,ar=rr&67108863;rr>>>=26,Ut.words[nr]=ar,tr=rr}return tr!==0&&(Ut.words[Ut.length++]=tr),Ut},Ct._prime=function(Ut){if(vr[Ut])return vr[Ut];var tr;if(Ut==="k256")tr=new xr;else if(Ut==="p224")tr=new Sr;else if(Ut==="p192")tr=new Er;else if(Ut==="p25519")tr=new $r;else throw new Error("Unknown prime "+Ut);return vr[Ut]=tr,tr};function Cr(gr){if(typeof gr=="string"){var Ut=Ct._prime(gr);this.m=Ut.p,this.prime=Ut}else mt(gr.gtn(1),"modulus must be greater than 1"),this.m=gr,this.prime=null}Cr.prototype._verify1=function(Ut){mt(Ut.negative===0,"red works only with positives"),mt(Ut.red,"red works only with red numbers")},Cr.prototype._verify2=function(Ut,tr){mt((Ut.negative|tr.negative)===0,"red works only with positives"),mt(Ut.red&&Ut.red===tr.red,"red works only with red numbers")},Cr.prototype.imod=function(Ut){return this.prime?this.prime.ireduce(Ut)._forceRed(this):Ut.umod(this.m)._forceRed(this)},Cr.prototype.neg=function(Ut){return Ut.isZero()?Ut.clone():this.m.sub(Ut)._forceRed(this)},Cr.prototype.add=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.add(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr._forceRed(this)},Cr.prototype.iadd=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.iadd(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr},Cr.prototype.sub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.sub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr._forceRed(this)},Cr.prototype.isub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.isub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr},Cr.prototype.shl=function(Ut,tr){return this._verify1(Ut),this.imod(Ut.ushln(tr))},Cr.prototype.imul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.imul(tr))},Cr.prototype.mul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.mul(tr))},Cr.prototype.isqr=function(Ut){return this.imul(Ut,Ut.clone())},Cr.prototype.sqr=function(Ut){return this.mul(Ut,Ut)},Cr.prototype.sqrt=function(Ut){if(Ut.isZero())return Ut.clone();var tr=this.m.andln(3);if(mt(tr%2===1),tr===3){var nr=this.m.add(new Ct(1)).iushrn(2);return this.pow(Ut,nr)}for(var rr=this.m.subn(1),ar=0;!rr.isZero()&&rr.andln(1)===0;)ar++,rr.iushrn(1);mt(!rr.isZero());var cr=new Ct(1).toRed(this),fr=cr.redNeg(),sr=this.m.subn(1).iushrn(1),Yt=this.m.bitLength();for(Yt=new Ct(2*Yt*Yt).toRed(this);this.pow(Yt,sr).cmp(fr)!==0;)Yt.redIAdd(fr);for(var ur=this.pow(Yt,rr),_r=this.pow(Ut,rr.addn(1).iushrn(1)),yr=this.pow(Ut,rr),wr=ar;yr.cmp(cr)!==0;){for(var Ir=yr,Or=0;Ir.cmp(cr)!==0;Or++)Ir=Ir.redSqr();mt(Or<wr);var Ar=this.pow(ur,new Ct(1).iushln(wr-Or-1));_r=_r.redMul(Ar),ur=Ar.redSqr(),yr=yr.redMul(ur),wr=Or}return _r},Cr.prototype.invm=function(Ut){var tr=Ut._invmp(this.m);return tr.negative!==0?(tr.negative=0,this.imod(tr).redNeg()):this.imod(tr)},Cr.prototype.pow=function(Ut,tr){if(tr.isZero())return new Ct(1).toRed(this);if(tr.cmpn(1)===0)return Ut.clone();var nr=4,rr=new Array(1<<nr);rr[0]=new Ct(1).toRed(this),rr[1]=Ut;for(var ar=2;ar<rr.length;ar++)rr[ar]=this.mul(rr[ar-1],Ut);var cr=rr[0],fr=0,sr=0,Yt=tr.bitLength()%26;for(Yt===0&&(Yt=26),ar=tr.length-1;ar>=0;ar--){for(var ur=tr.words[ar],_r=Yt-1;_r>=0;_r--){var yr=ur>>_r&1;if(cr!==rr[0]&&(cr=this.sqr(cr)),yr===0&&fr===0){sr=0;continue}fr<<=1,fr|=yr,sr++,!(sr!==nr&&(ar!==0||_r!==0))&&(cr=this.mul(cr,rr[fr]),sr=0,fr=0)}Yt=26}return cr},Cr.prototype.convertTo=function(Ut){var tr=Ut.umod(this.m);return tr===Ut?tr.clone():tr},Cr.prototype.convertFrom=function(Ut){var tr=Ut.clone();return tr.red=null,tr},Ct.mont=function(Ut){return new kr(Ut)};function kr(gr){Cr.call(this,gr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$t(kr,Cr),kr.prototype.convertTo=function(Ut){return this.imod(Ut.ushln(this.shift))},kr.prototype.convertFrom=function(Ut){var tr=this.imod(Ut.mul(this.rinv));return tr.red=null,tr},kr.prototype.imul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return Ut.words[0]=0,Ut.length=1,Ut;var nr=Ut.imul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.mul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return new Ct(0)._forceRed(this);var nr=Ut.mul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.invm=function(Ut){var tr=this.imod(Ut._invmp(this.m).mul(this.r2));return tr._forceRed(this)}})(nt,commonjsGlobal$1)}(bn$6)),bn$6.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var nt;brorand.exports=function($t){return nt||(nt=new et(null)),nt.generate($t)};function et(mt){this.rand=mt}if(brorand.exports.Rand=et,et.prototype.generate=function($t){return this._rand($t)},et.prototype._rand=function($t){if(this.rand.getBytes)return this.rand.getBytes($t);for(var Ct=new Uint8Array($t),Dt=0;Dt<Ct.length;Dt++)Ct[Dt]=this.rand.getByte();return Ct},typeof self=="object")self.crypto&&self.crypto.getRandomValues?et.prototype._rand=function($t){var Ct=new Uint8Array($t);return self.crypto.getRandomValues(Ct),Ct}:self.msCrypto&&self.msCrypto.getRandomValues?et.prototype._rand=function($t){var Ct=new Uint8Array($t);return self.msCrypto.getRandomValues(Ct),Ct}:typeof window=="object"&&(et.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var at=requireCryptoBrowserify();if(typeof at.randomBytes!="function")throw new Error("Not supported");et.prototype._rand=function($t){return at.randomBytes($t)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var nt=requireBn$4(),et=requireBrorand();function at(mt){this.rand=mt||new et.Rand}return mr=at,at.create=function($t){return new at($t)},at.prototype._randbelow=function($t){var Ct=$t.bitLength(),Dt=Math.ceil(Ct/8);do var Ft=new nt(this.rand.generate(Dt));while(Ft.cmp($t)>=0);return Ft},at.prototype._randrange=function($t,Ct){var Dt=Ct.sub($t);return $t.add(this._randbelow(Dt))},at.prototype.test=function($t,Ct,Dt){var Ft=$t.bitLength(),Nt=nt.mont($t),jt=new nt(1).toRed(Nt);Ct||(Ct=Math.max(1,Ft/48|0));for(var Lt=$t.subn(1),Vt=0;!Lt.testn(Vt);Vt++);for(var er=$t.shrn(Vt),ir=Lt.toRed(Nt),or=!0;Ct>0;Ct--){var lr=this._randrange(new nt(2),Lt);Dt&&Dt(lr);var dr=lr.toRed(Nt).redPow(er);if(!(dr.cmp(jt)===0||dr.cmp(ir)===0)){for(var pr=1;pr<Vt;pr++){if(dr=dr.redSqr(),dr.cmp(jt)===0)return!1;if(dr.cmp(ir)===0)break}if(pr===Vt)return!1}}return or},at.prototype.getDivisor=function($t,Ct){var Dt=$t.bitLength(),Ft=nt.mont($t),Nt=new nt(1).toRed(Ft);Ct||(Ct=Math.max(1,Dt/48|0));for(var jt=$t.subn(1),Lt=0;!jt.testn(Lt);Lt++);for(var Vt=$t.shrn(Lt),er=jt.toRed(Ft);Ct>0;Ct--){var ir=this._randrange(new nt(2),jt),or=$t.gcd(ir);if(or.cmpn(1)!==0)return or;var lr=ir.toRed(Ft).redPow(Vt);if(!(lr.cmp(Nt)===0||lr.cmp(er)===0)){for(var dr=1;dr<Lt;dr++){if(lr=lr.redSqr(),lr.cmp(Nt)===0)return lr.fromRed().subn(1).gcd($t);if(lr.cmp(er)===0)break}if(dr===Lt)return lr=lr.redSqr(),lr.fromRed().subn(1).gcd($t)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var nt=requireBrowser$b();generatePrime=dr,dr.simpleSieve=or,dr.fermatTest=lr;var et=requireBn$5(),at=new et(24),mt=requireMr(),$t=new mt,Ct=new et(1),Dt=new et(2),Ft=new et(5);new et(16),new et(8);var Nt=new et(10),jt=new et(3);new et(7);var Lt=new et(11),Vt=new et(4);new et(12);var er=null;function ir(){if(er!==null)return er;var pr=1048576,hr=[];hr[0]=2;for(var vr=1,br=3;br<pr;br+=2){for(var xr=Math.ceil(Math.sqrt(br)),Sr=0;Sr<vr&&hr[Sr]<=xr&&br%hr[Sr]!==0;Sr++);vr!==Sr&&hr[Sr]<=xr||(hr[vr++]=br)}return er=hr,hr}function or(pr){for(var hr=ir(),vr=0;vr<hr.length;vr++)if(pr.modn(hr[vr])===0)return pr.cmpn(hr[vr])===0;return!0}function lr(pr){var hr=et.mont(pr);return Dt.toRed(hr).redPow(pr.subn(1)).fromRed().cmpn(1)===0}function dr(pr,hr){if(pr<16)return hr===2||hr===5?new et([140,123]):new et([140,39]);hr=new et(hr);for(var vr,br;;){for(vr=new et(nt(Math.ceil(pr/8)));vr.bitLength()>pr;)vr.ishrn(1);if(vr.isEven()&&vr.iadd(Ct),vr.testn(1)||vr.iadd(Dt),hr.cmp(Dt)){if(!hr.cmp(Ft))for(;vr.mod(Nt).cmp(jt);)vr.iadd(Vt)}else for(;vr.mod(at).cmp(Lt);)vr.iadd(Vt);if(br=vr.shrn(1),or(br)&&or(vr)&&lr(br)&&lr(vr)&&$t.test(br)&&$t.test(vr))return vr}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var nt=requireBn$5(),et=requireMr(),at=new et,mt=new nt(24),$t=new nt(11),Ct=new nt(10),Dt=new nt(3),Ft=new nt(7),Nt=requireGeneratePrime(),jt=requireBrowser$b();dh=or;function Lt(dr,pr){return pr=pr||"utf8",Buffer$1.isBuffer(dr)||(dr=new Buffer$1(dr,pr)),this._pub=new nt(dr),this}function Vt(dr,pr){return pr=pr||"utf8",Buffer$1.isBuffer(dr)||(dr=new Buffer$1(dr,pr)),this._priv=new nt(dr),this}var er={};function ir(dr,pr){var hr=pr.toString("hex"),vr=[hr,dr.toString(16)].join("_");if(vr in er)return er[vr];var br=0;if(dr.isEven()||!Nt.simpleSieve||!Nt.fermatTest(dr)||!at.test(dr))return br+=1,hr==="02"||hr==="05"?br+=8:br+=4,er[vr]=br,br;at.test(dr.shrn(1))||(br+=2);var xr;switch(hr){case"02":dr.mod(mt).cmp($t)&&(br+=8);break;case"05":xr=dr.mod(Ct),xr.cmp(Dt)&&xr.cmp(Ft)&&(br+=8);break;default:br+=4}return er[vr]=br,br}function or(dr,pr,hr){this.setGenerator(pr),this.__prime=new nt(dr),this._prime=nt.mont(this.__prime),this._primeLen=dr.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,hr?(this.setPublicKey=Lt,this.setPrivateKey=Vt):this._primeCode=8}Object.defineProperty(or.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ir(this.__prime,this.__gen)),this._primeCode}}),or.prototype.generateKeys=function(){return this._priv||(this._priv=new nt(jt(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},or.prototype.computeSecret=function(dr){dr=new nt(dr),dr=dr.toRed(this._prime);var pr=dr.redPow(this._priv).fromRed(),hr=new Buffer$1(pr.toArray()),vr=this.getPrime();if(hr.length<vr.length){var br=new Buffer$1(vr.length-hr.length);br.fill(0),hr=Buffer$1.concat([br,hr])}return hr},or.prototype.getPublicKey=function(pr){return lr(this._pub,pr)},or.prototype.getPrivateKey=function(pr){return lr(this._priv,pr)},or.prototype.getPrime=function(dr){return lr(this.__prime,dr)},or.prototype.getGenerator=function(dr){return lr(this._gen,dr)},or.prototype.setGenerator=function(dr,pr){return pr=pr||"utf8",Buffer$1.isBuffer(dr)||(dr=new Buffer$1(dr,pr)),this.__gen=dr,this._gen=new nt(dr),this};function lr(dr,pr){var hr=new Buffer$1(dr.toArray());return pr?hr.toString(pr):hr}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$7;hasRequiredBrowser$4=1;var nt=requireGeneratePrime(),et=require$$1$2,at=requireDh();function mt(Dt){var Ft=new Buffer$1(et[Dt].prime,"hex"),Nt=new Buffer$1(et[Dt].gen,"hex");return new at(Ft,Nt)}var $t={binary:!0,hex:!0,base64:!0};function Ct(Dt,Ft,Nt,jt){return Buffer$1.isBuffer(Ft)||$t[Ft]===void 0?Ct(Dt,"binary",Ft,Nt):(Ft=Ft||"binary",jt=jt||"binary",Nt=Nt||new Buffer$1([2]),Buffer$1.isBuffer(Nt)||(Nt=new Buffer$1(Nt,jt)),typeof Dt=="number"?new at(nt(Dt,Nt),Nt,!0):(Buffer$1.isBuffer(Dt)||(Dt=new Buffer$1(Dt,Ft)),new at(Dt,Nt,!0)))}return browser$7.DiffieHellmanGroup=browser$7.createDiffieHellmanGroup=browser$7.getDiffieHellman=mt,browser$7.createDiffieHellman=browser$7.DiffieHellman=Ct,browser$7}var safeBuffer$3={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$3;function requireSafeBuffer$3(){return hasRequiredSafeBuffer$3||(hasRequiredSafeBuffer$3=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}Ct.prototype=Object.create(mt.prototype),$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer$3,safeBuffer$3.exports)),safeBuffer$3.exports}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:nt}:processNextickArgs.exports=process$1;function nt(et,at,mt,$t){if(typeof et!="function")throw new TypeError('"callback" argument must be a function');var Ct=arguments.length,Dt,Ft;switch(Ct){case 0:case 1:return process$1.nextTick(et);case 2:return process$1.nextTick(function(){et.call(null,at)});case 3:return process$1.nextTick(function(){et.call(null,at,mt)});case 4:return process$1.nextTick(function(){et.call(null,at,mt,$t)});default:for(Dt=new Array(Ct-1),Ft=0;Ft<Dt.length;)Dt[Ft++]=arguments[Ft];return process$1.nextTick(function(){et.apply(null,Dt)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var nt={}.toString;return isarray=Array.isArray||function(et){return nt.call(et)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer$2={exports:{}},hasRequiredSafeBuffer$2;function requireSafeBuffer$2(){return hasRequiredSafeBuffer$2||(hasRequiredSafeBuffer$2=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer$2,safeBuffer$2.exports)),safeBuffer$2.exports}var util$3={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$3;hasRequiredUtil=1;function nt(lr){return Array.isArray?Array.isArray(lr):or(lr)==="[object Array]"}util$3.isArray=nt;function et(lr){return typeof lr=="boolean"}util$3.isBoolean=et;function at(lr){return lr===null}util$3.isNull=at;function mt(lr){return lr==null}util$3.isNullOrUndefined=mt;function $t(lr){return typeof lr=="number"}util$3.isNumber=$t;function Ct(lr){return typeof lr=="string"}util$3.isString=Ct;function Dt(lr){return typeof lr=="symbol"}util$3.isSymbol=Dt;function Ft(lr){return lr===void 0}util$3.isUndefined=Ft;function Nt(lr){return or(lr)==="[object RegExp]"}util$3.isRegExp=Nt;function jt(lr){return typeof lr=="object"&&lr!==null}util$3.isObject=jt;function Lt(lr){return or(lr)==="[object Date]"}util$3.isDate=Lt;function Vt(lr){return or(lr)==="[object Error]"||lr instanceof Error}util$3.isError=Vt;function er(lr){return typeof lr=="function"}util$3.isFunction=er;function ir(lr){return lr===null||typeof lr=="boolean"||typeof lr=="number"||typeof lr=="string"||typeof lr=="symbol"||typeof lr>"u"}util$3.isPrimitive=ir,util$3.isBuffer=require$$2$1.Buffer.isBuffer;function or(lr){return Object.prototype.toString.call(lr)}return util$3}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(nt){function et(Ct,Dt){if(!(Ct instanceof Dt))throw new TypeError("Cannot call a class as a function")}var at=requireSafeBuffer$2().Buffer,mt=requireUtil$1();function $t(Ct,Dt,Ft){Ct.copy(Dt,Ft)}nt.exports=function(){function Ct(){et(this,Ct),this.head=null,this.tail=null,this.length=0}return Ct.prototype.push=function(Ft){var Nt={data:Ft,next:null};this.length>0?this.tail.next=Nt:this.head=Nt,this.tail=Nt,++this.length},Ct.prototype.unshift=function(Ft){var Nt={data:Ft,next:this.head};this.length===0&&(this.tail=Nt),this.head=Nt,++this.length},Ct.prototype.shift=function(){if(this.length!==0){var Ft=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Ft}},Ct.prototype.clear=function(){this.head=this.tail=null,this.length=0},Ct.prototype.join=function(Ft){if(this.length===0)return"";for(var Nt=this.head,jt=""+Nt.data;Nt=Nt.next;)jt+=Ft+Nt.data;return jt},Ct.prototype.concat=function(Ft){if(this.length===0)return at.alloc(0);for(var Nt=at.allocUnsafe(Ft>>>0),jt=this.head,Lt=0;jt;)$t(jt.data,Nt,Lt),Lt+=jt.data.length,jt=jt.next;return Nt},Ct}(),mt&&mt.inspect&&mt.inspect.custom&&(nt.exports.prototype[mt.inspect.custom]=function(){var Ct=mt.inspect({length:this.length});return this.constructor.name+" "+Ct})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var nt=requireProcessNextickArgs();function et($t,Ct){var Dt=this,Ft=this._readableState&&this._readableState.destroyed,Nt=this._writableState&&this._writableState.destroyed;return Ft||Nt?(Ct?Ct($t):$t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,nt.nextTick(mt,this,$t)):nt.nextTick(mt,this,$t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy($t||null,function(jt){!Ct&&jt?Dt._writableState?Dt._writableState.errorEmitted||(Dt._writableState.errorEmitted=!0,nt.nextTick(mt,Dt,jt)):nt.nextTick(mt,Dt,jt):Ct&&Ct(jt)}),this)}function at(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function mt($t,Ct){$t.emit("error",Ct)}return destroy_1={destroy:et,undestroy:at},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var nt=requireProcessNextickArgs();_stream_writable=lr;function et(cr){var fr=this;this.next=null,this.entry=null,this.finish=function(){ar(fr,cr)}}var at=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:nt.nextTick,mt;lr.WritableState=ir;var $t=Object.create(requireUtil());$t.inherits=requireInherits_browser();var Ct={deprecate:requireBrowser$a()},Dt=requireStreamBrowser(),Ft=requireSafeBuffer$2().Buffer,Nt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function jt(cr){return Ft.from(cr)}function Lt(cr){return Ft.isBuffer(cr)||cr instanceof Nt}var Vt=requireDestroy();$t.inherits(lr,Dt);function er(){}function ir(cr,fr){mt=mt||require_stream_duplex(),cr=cr||{};var sr=fr instanceof mt;this.objectMode=!!cr.objectMode,sr&&(this.objectMode=this.objectMode||!!cr.writableObjectMode);var Yt=cr.highWaterMark,ur=cr.writableHighWaterMark,_r=this.objectMode?16:16*1024;Yt||Yt===0?this.highWaterMark=Yt:sr&&(ur||ur===0)?this.highWaterMark=ur:this.highWaterMark=_r,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var yr=cr.decodeStrings===!1;this.decodeStrings=!yr,this.defaultEncoding=cr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(wr){Er(fr,wr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new et(this)}ir.prototype.getBuffer=function(){for(var fr=this.bufferedRequest,sr=[];fr;)sr.push(fr),fr=fr.next;return sr},function(){try{Object.defineProperty(ir.prototype,"buffer",{get:Ct.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var or;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(or=Function.prototype[Symbol.hasInstance],Object.defineProperty(lr,Symbol.hasInstance,{value:function(cr){return or.call(this,cr)?!0:this!==lr?!1:cr&&cr._writableState instanceof ir}})):or=function(cr){return cr instanceof this};function lr(cr){if(mt=mt||require_stream_duplex(),!or.call(lr,this)&&!(this instanceof mt))return new lr(cr);this._writableState=new ir(cr,this),this.writable=!0,cr&&(typeof cr.write=="function"&&(this._write=cr.write),typeof cr.writev=="function"&&(this._writev=cr.writev),typeof cr.destroy=="function"&&(this._destroy=cr.destroy),typeof cr.final=="function"&&(this._final=cr.final)),Dt.call(this)}lr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function dr(cr,fr){var sr=new Error("write after end");cr.emit("error",sr),nt.nextTick(fr,sr)}function pr(cr,fr,sr,Yt){var ur=!0,_r=!1;return sr===null?_r=new TypeError("May not write null values to stream"):typeof sr!="string"&&sr!==void 0&&!fr.objectMode&&(_r=new TypeError("Invalid non-string/buffer chunk")),_r&&(cr.emit("error",_r),nt.nextTick(Yt,_r),ur=!1),ur}lr.prototype.write=function(cr,fr,sr){var Yt=this._writableState,ur=!1,_r=!Yt.objectMode&&Lt(cr);return _r&&!Ft.isBuffer(cr)&&(cr=jt(cr)),typeof fr=="function"&&(sr=fr,fr=null),_r?fr="buffer":fr||(fr=Yt.defaultEncoding),typeof sr!="function"&&(sr=er),Yt.ended?dr(this,sr):(_r||pr(this,Yt,cr,sr))&&(Yt.pendingcb++,ur=vr(this,Yt,_r,cr,fr,sr)),ur},lr.prototype.cork=function(){var cr=this._writableState;cr.corked++},lr.prototype.uncork=function(){var cr=this._writableState;cr.corked&&(cr.corked--,!cr.writing&&!cr.corked&&!cr.bufferProcessing&&cr.bufferedRequest&&kr(this,cr))},lr.prototype.setDefaultEncoding=function(fr){if(typeof fr=="string"&&(fr=fr.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((fr+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+fr);return this._writableState.defaultEncoding=fr,this};function hr(cr,fr,sr){return!cr.objectMode&&cr.decodeStrings!==!1&&typeof fr=="string"&&(fr=Ft.from(fr,sr)),fr}Object.defineProperty(lr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function vr(cr,fr,sr,Yt,ur,_r){if(!sr){var yr=hr(fr,Yt,ur);Yt!==yr&&(sr=!0,ur="buffer",Yt=yr)}var wr=fr.objectMode?1:Yt.length;fr.length+=wr;var Ir=fr.length<fr.highWaterMark;if(Ir||(fr.needDrain=!0),fr.writing||fr.corked){var Or=fr.lastBufferedRequest;fr.lastBufferedRequest={chunk:Yt,encoding:ur,isBuf:sr,callback:_r,next:null},Or?Or.next=fr.lastBufferedRequest:fr.bufferedRequest=fr.lastBufferedRequest,fr.bufferedRequestCount+=1}else br(cr,fr,!1,wr,Yt,ur,_r);return Ir}function br(cr,fr,sr,Yt,ur,_r,yr){fr.writelen=Yt,fr.writecb=yr,fr.writing=!0,fr.sync=!0,sr?cr._writev(ur,fr.onwrite):cr._write(ur,_r,fr.onwrite),fr.sync=!1}function xr(cr,fr,sr,Yt,ur){--fr.pendingcb,sr?(nt.nextTick(ur,Yt),nt.nextTick(nr,cr,fr),cr._writableState.errorEmitted=!0,cr.emit("error",Yt)):(ur(Yt),cr._writableState.errorEmitted=!0,cr.emit("error",Yt),nr(cr,fr))}function Sr(cr){cr.writing=!1,cr.writecb=null,cr.length-=cr.writelen,cr.writelen=0}function Er(cr,fr){var sr=cr._writableState,Yt=sr.sync,ur=sr.writecb;if(Sr(sr),fr)xr(cr,sr,Yt,fr,ur);else{var _r=gr(sr);!_r&&!sr.corked&&!sr.bufferProcessing&&sr.bufferedRequest&&kr(cr,sr),Yt?at($r,cr,sr,_r,ur):$r(cr,sr,_r,ur)}}function $r(cr,fr,sr,Yt){sr||Cr(cr,fr),fr.pendingcb--,Yt(),nr(cr,fr)}function Cr(cr,fr){fr.length===0&&fr.needDrain&&(fr.needDrain=!1,cr.emit("drain"))}function kr(cr,fr){fr.bufferProcessing=!0;var sr=fr.bufferedRequest;if(cr._writev&&sr&&sr.next){var Yt=fr.bufferedRequestCount,ur=new Array(Yt),_r=fr.corkedRequestsFree;_r.entry=sr;for(var yr=0,wr=!0;sr;)ur[yr]=sr,sr.isBuf||(wr=!1),sr=sr.next,yr+=1;ur.allBuffers=wr,br(cr,fr,!0,fr.length,ur,"",_r.finish),fr.pendingcb++,fr.lastBufferedRequest=null,_r.next?(fr.corkedRequestsFree=_r.next,_r.next=null):fr.corkedRequestsFree=new et(fr),fr.bufferedRequestCount=0}else{for(;sr;){var Ir=sr.chunk,Or=sr.encoding,Ar=sr.callback,Nr=fr.objectMode?1:Ir.length;if(br(cr,fr,!1,Nr,Ir,Or,Ar),sr=sr.next,fr.bufferedRequestCount--,fr.writing)break}sr===null&&(fr.lastBufferedRequest=null)}fr.bufferedRequest=sr,fr.bufferProcessing=!1}lr.prototype._write=function(cr,fr,sr){sr(new Error("_write() is not implemented"))},lr.prototype._writev=null,lr.prototype.end=function(cr,fr,sr){var Yt=this._writableState;typeof cr=="function"?(sr=cr,cr=null,fr=null):typeof fr=="function"&&(sr=fr,fr=null),cr!=null&&this.write(cr,fr),Yt.corked&&(Yt.corked=1,this.uncork()),Yt.ending||rr(this,Yt,sr)};function gr(cr){return cr.ending&&cr.length===0&&cr.bufferedRequest===null&&!cr.finished&&!cr.writing}function Ut(cr,fr){cr._final(function(sr){fr.pendingcb--,sr&&cr.emit("error",sr),fr.prefinished=!0,cr.emit("prefinish"),nr(cr,fr)})}function tr(cr,fr){!fr.prefinished&&!fr.finalCalled&&(typeof cr._final=="function"?(fr.pendingcb++,fr.finalCalled=!0,nt.nextTick(Ut,cr,fr)):(fr.prefinished=!0,cr.emit("prefinish")))}function nr(cr,fr){var sr=gr(fr);return sr&&(tr(cr,fr),fr.pendingcb===0&&(fr.finished=!0,cr.emit("finish"))),sr}function rr(cr,fr,sr){fr.ending=!0,nr(cr,fr),sr&&(fr.finished?nt.nextTick(sr):cr.once("finish",sr)),fr.ended=!0,cr.writable=!1}function ar(cr,fr,sr){var Yt=cr.entry;for(cr.entry=null;Yt;){var ur=Yt.callback;fr.pendingcb--,ur(sr),Yt=Yt.next}fr.corkedRequestsFree.next=cr}return Object.defineProperty(lr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(cr){this._writableState&&(this._writableState.destroyed=cr)}}),lr.prototype.destroy=Vt.destroy,lr.prototype._undestroy=Vt.undestroy,lr.prototype._destroy=function(cr,fr){this.end(),fr(cr)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var nt=requireProcessNextickArgs(),et=Object.keys||function(Vt){var er=[];for(var ir in Vt)er.push(ir);return er};_stream_duplex=Nt;var at=Object.create(requireUtil());at.inherits=requireInherits_browser();var mt=require_stream_readable(),$t=require_stream_writable();at.inherits(Nt,mt);for(var Ct=et($t.prototype),Dt=0;Dt<Ct.length;Dt++){var Ft=Ct[Dt];Nt.prototype[Ft]||(Nt.prototype[Ft]=$t.prototype[Ft])}function Nt(Vt){if(!(this instanceof Nt))return new Nt(Vt);mt.call(this,Vt),$t.call(this,Vt),Vt&&Vt.readable===!1&&(this.readable=!1),Vt&&Vt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Vt&&Vt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",jt)}Object.defineProperty(Nt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function jt(){this.allowHalfOpen||this._writableState.ended||nt.nextTick(Lt,this)}function Lt(Vt){Vt.end()}return Object.defineProperty(Nt.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Vt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Vt,this._writableState.destroyed=Vt)}}),Nt.prototype._destroy=function(Vt,er){this.push(null),this.end(),nt.nextTick(er,Vt)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var nt=requireProcessNextickArgs();_stream_readable=hr;var et=requireIsarray(),at;hr.ReadableState=pr,requireEvents().EventEmitter;var mt=function(Ar,Nr){return Ar.listeners(Nr).length},$t=requireStreamBrowser(),Ct=requireSafeBuffer$2().Buffer,Dt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Ft(Ar){return Ct.from(Ar)}function Nt(Ar){return Ct.isBuffer(Ar)||Ar instanceof Dt}var jt=Object.create(requireUtil());jt.inherits=requireInherits_browser();var Lt=requireUtil$1(),Vt=void 0;Lt&&Lt.debuglog?Vt=Lt.debuglog("stream"):Vt=function(){};var er=requireBufferList(),ir=requireDestroy(),or;jt.inherits(hr,$t);var lr=["error","close","destroy","pause","resume"];function dr(Ar,Nr,Hr){if(typeof Ar.prependListener=="function")return Ar.prependListener(Nr,Hr);!Ar._events||!Ar._events[Nr]?Ar.on(Nr,Hr):et(Ar._events[Nr])?Ar._events[Nr].unshift(Hr):Ar._events[Nr]=[Hr,Ar._events[Nr]]}function pr(Ar,Nr){at=at||require_stream_duplex(),Ar=Ar||{};var Hr=Nr instanceof at;this.objectMode=!!Ar.objectMode,Hr&&(this.objectMode=this.objectMode||!!Ar.readableObjectMode);var Pr=Ar.highWaterMark,Dr=Ar.readableHighWaterMark,Rr=this.objectMode?16:16*1024;Pr||Pr===0?this.highWaterMark=Pr:Hr&&(Dr||Dr===0)?this.highWaterMark=Dr:this.highWaterMark=Rr,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new er,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ar.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ar.encoding&&(or||(or=requireString_decoder().StringDecoder),this.decoder=new or(Ar.encoding),this.encoding=Ar.encoding)}function hr(Ar){if(at=at||require_stream_duplex(),!(this instanceof hr))return new hr(Ar);this._readableState=new pr(Ar,this),this.readable=!0,Ar&&(typeof Ar.read=="function"&&(this._read=Ar.read),typeof Ar.destroy=="function"&&(this._destroy=Ar.destroy)),$t.call(this)}Object.defineProperty(hr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Ar){this._readableState&&(this._readableState.destroyed=Ar)}}),hr.prototype.destroy=ir.destroy,hr.prototype._undestroy=ir.undestroy,hr.prototype._destroy=function(Ar,Nr){this.push(null),Nr(Ar)},hr.prototype.push=function(Ar,Nr){var Hr=this._readableState,Pr;return Hr.objectMode?Pr=!0:typeof Ar=="string"&&(Nr=Nr||Hr.defaultEncoding,Nr!==Hr.encoding&&(Ar=Ct.from(Ar,Nr),Nr=""),Pr=!0),vr(this,Ar,Nr,!1,Pr)},hr.prototype.unshift=function(Ar){return vr(this,Ar,null,!0,!1)};function vr(Ar,Nr,Hr,Pr,Dr){var Rr=Ar._readableState;if(Nr===null)Rr.reading=!1,kr(Ar,Rr);else{var Vr;Dr||(Vr=xr(Rr,Nr)),Vr?Ar.emit("error",Vr):Rr.objectMode||Nr&&Nr.length>0?(typeof Nr!="string"&&!Rr.objectMode&&Object.getPrototypeOf(Nr)!==Ct.prototype&&(Nr=Ft(Nr)),Pr?Rr.endEmitted?Ar.emit("error",new Error("stream.unshift() after end event")):br(Ar,Rr,Nr,!0):Rr.ended?Ar.emit("error",new Error("stream.push() after EOF")):(Rr.reading=!1,Rr.decoder&&!Hr?(Nr=Rr.decoder.write(Nr),Rr.objectMode||Nr.length!==0?br(Ar,Rr,Nr,!1):tr(Ar,Rr)):br(Ar,Rr,Nr,!1))):Pr||(Rr.reading=!1)}return Sr(Rr)}function br(Ar,Nr,Hr,Pr){Nr.flowing&&Nr.length===0&&!Nr.sync?(Ar.emit("data",Hr),Ar.read(0)):(Nr.length+=Nr.objectMode?1:Hr.length,Pr?Nr.buffer.unshift(Hr):Nr.buffer.push(Hr),Nr.needReadable&&gr(Ar)),tr(Ar,Nr)}function xr(Ar,Nr){var Hr;return!Nt(Nr)&&typeof Nr!="string"&&Nr!==void 0&&!Ar.objectMode&&(Hr=new TypeError("Invalid non-string/buffer chunk")),Hr}function Sr(Ar){return!Ar.ended&&(Ar.needReadable||Ar.length<Ar.highWaterMark||Ar.length===0)}hr.prototype.isPaused=function(){return this._readableState.flowing===!1},hr.prototype.setEncoding=function(Ar){return or||(or=requireString_decoder().StringDecoder),this._readableState.decoder=new or(Ar),this._readableState.encoding=Ar,this};var Er=8388608;function $r(Ar){return Ar>=Er?Ar=Er:(Ar--,Ar|=Ar>>>1,Ar|=Ar>>>2,Ar|=Ar>>>4,Ar|=Ar>>>8,Ar|=Ar>>>16,Ar++),Ar}function Cr(Ar,Nr){return Ar<=0||Nr.length===0&&Nr.ended?0:Nr.objectMode?1:Ar!==Ar?Nr.flowing&&Nr.length?Nr.buffer.head.data.length:Nr.length:(Ar>Nr.highWaterMark&&(Nr.highWaterMark=$r(Ar)),Ar<=Nr.length?Ar:Nr.ended?Nr.length:(Nr.needReadable=!0,0))}hr.prototype.read=function(Ar){Vt("read",Ar),Ar=parseInt(Ar,10);var Nr=this._readableState,Hr=Ar;if(Ar!==0&&(Nr.emittedReadable=!1),Ar===0&&Nr.needReadable&&(Nr.length>=Nr.highWaterMark||Nr.ended))return Vt("read: emitReadable",Nr.length,Nr.ended),Nr.length===0&&Nr.ended?wr(this):gr(this),null;if(Ar=Cr(Ar,Nr),Ar===0&&Nr.ended)return Nr.length===0&&wr(this),null;var Pr=Nr.needReadable;Vt("need readable",Pr),(Nr.length===0||Nr.length-Ar<Nr.highWaterMark)&&(Pr=!0,Vt("length less than watermark",Pr)),Nr.ended||Nr.reading?(Pr=!1,Vt("reading or ended",Pr)):Pr&&(Vt("do read"),Nr.reading=!0,Nr.sync=!0,Nr.length===0&&(Nr.needReadable=!0),this._read(Nr.highWaterMark),Nr.sync=!1,Nr.reading||(Ar=Cr(Hr,Nr)));var Dr;return Ar>0?Dr=Yt(Ar,Nr):Dr=null,Dr===null?(Nr.needReadable=!0,Ar=0):Nr.length-=Ar,Nr.length===0&&(Nr.ended||(Nr.needReadable=!0),Hr!==Ar&&Nr.ended&&wr(this)),Dr!==null&&this.emit("data",Dr),Dr};function kr(Ar,Nr){if(!Nr.ended){if(Nr.decoder){var Hr=Nr.decoder.end();Hr&&Hr.length&&(Nr.buffer.push(Hr),Nr.length+=Nr.objectMode?1:Hr.length)}Nr.ended=!0,gr(Ar)}}function gr(Ar){var Nr=Ar._readableState;Nr.needReadable=!1,Nr.emittedReadable||(Vt("emitReadable",Nr.flowing),Nr.emittedReadable=!0,Nr.sync?nt.nextTick(Ut,Ar):Ut(Ar))}function Ut(Ar){Vt("emit readable"),Ar.emit("readable"),sr(Ar)}function tr(Ar,Nr){Nr.readingMore||(Nr.readingMore=!0,nt.nextTick(nr,Ar,Nr))}function nr(Ar,Nr){for(var Hr=Nr.length;!Nr.reading&&!Nr.flowing&&!Nr.ended&&Nr.length<Nr.highWaterMark&&(Vt("maybeReadMore read 0"),Ar.read(0),Hr!==Nr.length);)Hr=Nr.length;Nr.readingMore=!1}hr.prototype._read=function(Ar){this.emit("error",new Error("_read() is not implemented"))},hr.prototype.pipe=function(Ar,Nr){var Hr=this,Pr=this._readableState;switch(Pr.pipesCount){case 0:Pr.pipes=Ar;break;case 1:Pr.pipes=[Pr.pipes,Ar];break;default:Pr.pipes.push(Ar);break}Pr.pipesCount+=1,Vt("pipe count=%d opts=%j",Pr.pipesCount,Nr);var Dr=(!Nr||Nr.end!==!1)&&Ar!==process$1.stdout&&Ar!==process$1.stderr,Rr=Dr?an:ro;Pr.endEmitted?nt.nextTick(Rr):Hr.once("end",Rr),Ar.on("unpipe",Vr);function Vr(Hn,Qn){Vt("onunpipe"),Hn===Hr&&Qn&&Qn.hasUnpiped===!1&&(Qn.hasUnpiped=!0,Zr())}function an(){Vt("onend"),Ar.end()}var Xr=rr(Hr);Ar.on("drain",Xr);var Jr=!1;function Zr(){Vt("cleanup"),Ar.removeListener("close",Qr),Ar.removeListener("finish",Un),Ar.removeListener("drain",Xr),Ar.removeListener("error",Dn),Ar.removeListener("unpipe",Vr),Hr.removeListener("end",an),Hr.removeListener("end",ro),Hr.removeListener("data",zr),Jr=!0,Pr.awaitDrain&&(!Ar._writableState||Ar._writableState.needDrain)&&Xr()}var Gr=!1;Hr.on("data",zr);function zr(Hn){Vt("ondata"),Gr=!1;var Qn=Ar.write(Hn);Qn===!1&&!Gr&&((Pr.pipesCount===1&&Pr.pipes===Ar||Pr.pipesCount>1&&Or(Pr.pipes,Ar)!==-1)&&!Jr&&(Vt("false write response, pause",Pr.awaitDrain),Pr.awaitDrain++,Gr=!0),Hr.pause())}function Dn(Hn){Vt("onerror",Hn),ro(),Ar.removeListener("error",Dn),mt(Ar,"error")===0&&Ar.emit("error",Hn)}dr(Ar,"error",Dn);function Qr(){Ar.removeListener("finish",Un),ro()}Ar.once("close",Qr);function Un(){Vt("onfinish"),Ar.removeListener("close",Qr),ro()}Ar.once("finish",Un);function ro(){Vt("unpipe"),Hr.unpipe(Ar)}return Ar.emit("pipe",Hr),Pr.flowing||(Vt("pipe resume"),Hr.resume()),Ar};function rr(Ar){return function(){var Nr=Ar._readableState;Vt("pipeOnDrain",Nr.awaitDrain),Nr.awaitDrain&&Nr.awaitDrain--,Nr.awaitDrain===0&&mt(Ar,"data")&&(Nr.flowing=!0,sr(Ar))}}hr.prototype.unpipe=function(Ar){var Nr=this._readableState,Hr={hasUnpiped:!1};if(Nr.pipesCount===0)return this;if(Nr.pipesCount===1)return Ar&&Ar!==Nr.pipes?this:(Ar||(Ar=Nr.pipes),Nr.pipes=null,Nr.pipesCount=0,Nr.flowing=!1,Ar&&Ar.emit("unpipe",this,Hr),this);if(!Ar){var Pr=Nr.pipes,Dr=Nr.pipesCount;Nr.pipes=null,Nr.pipesCount=0,Nr.flowing=!1;for(var Rr=0;Rr<Dr;Rr++)Pr[Rr].emit("unpipe",this,{hasUnpiped:!1});return this}var Vr=Or(Nr.pipes,Ar);return Vr===-1?this:(Nr.pipes.splice(Vr,1),Nr.pipesCount-=1,Nr.pipesCount===1&&(Nr.pipes=Nr.pipes[0]),Ar.emit("unpipe",this,Hr),this)},hr.prototype.on=function(Ar,Nr){var Hr=$t.prototype.on.call(this,Ar,Nr);if(Ar==="data")this._readableState.flowing!==!1&&this.resume();else if(Ar==="readable"){var Pr=this._readableState;!Pr.endEmitted&&!Pr.readableListening&&(Pr.readableListening=Pr.needReadable=!0,Pr.emittedReadable=!1,Pr.reading?Pr.length&&gr(this):nt.nextTick(ar,this))}return Hr},hr.prototype.addListener=hr.prototype.on;function ar(Ar){Vt("readable nexttick read 0"),Ar.read(0)}hr.prototype.resume=function(){var Ar=this._readableState;return Ar.flowing||(Vt("resume"),Ar.flowing=!0,cr(this,Ar)),this};function cr(Ar,Nr){Nr.resumeScheduled||(Nr.resumeScheduled=!0,nt.nextTick(fr,Ar,Nr))}function fr(Ar,Nr){Nr.reading||(Vt("resume read 0"),Ar.read(0)),Nr.resumeScheduled=!1,Nr.awaitDrain=0,Ar.emit("resume"),sr(Ar),Nr.flowing&&!Nr.reading&&Ar.read(0)}hr.prototype.pause=function(){return Vt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Vt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function sr(Ar){var Nr=Ar._readableState;for(Vt("flow",Nr.flowing);Nr.flowing&&Ar.read()!==null;);}hr.prototype.wrap=function(Ar){var Nr=this,Hr=this._readableState,Pr=!1;Ar.on("end",function(){if(Vt("wrapped end"),Hr.decoder&&!Hr.ended){var Vr=Hr.decoder.end();Vr&&Vr.length&&Nr.push(Vr)}Nr.push(null)}),Ar.on("data",function(Vr){if(Vt("wrapped data"),Hr.decoder&&(Vr=Hr.decoder.write(Vr)),!(Hr.objectMode&&Vr==null)&&!(!Hr.objectMode&&(!Vr||!Vr.length))){var an=Nr.push(Vr);an||(Pr=!0,Ar.pause())}});for(var Dr in Ar)this[Dr]===void 0&&typeof Ar[Dr]=="function"&&(this[Dr]=function(Vr){return function(){return Ar[Vr].apply(Ar,arguments)}}(Dr));for(var Rr=0;Rr<lr.length;Rr++)Ar.on(lr[Rr],this.emit.bind(this,lr[Rr]));return this._read=function(Vr){Vt("wrapped _read",Vr),Pr&&(Pr=!1,Ar.resume())},this},Object.defineProperty(hr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),hr._fromList=Yt;function Yt(Ar,Nr){if(Nr.length===0)return null;var Hr;return Nr.objectMode?Hr=Nr.buffer.shift():!Ar||Ar>=Nr.length?(Nr.decoder?Hr=Nr.buffer.join(""):Nr.buffer.length===1?Hr=Nr.buffer.head.data:Hr=Nr.buffer.concat(Nr.length),Nr.buffer.clear()):Hr=ur(Ar,Nr.buffer,Nr.decoder),Hr}function ur(Ar,Nr,Hr){var Pr;return Ar<Nr.head.data.length?(Pr=Nr.head.data.slice(0,Ar),Nr.head.data=Nr.head.data.slice(Ar)):Ar===Nr.head.data.length?Pr=Nr.shift():Pr=Hr?_r(Ar,Nr):yr(Ar,Nr),Pr}function _r(Ar,Nr){var Hr=Nr.head,Pr=1,Dr=Hr.data;for(Ar-=Dr.length;Hr=Hr.next;){var Rr=Hr.data,Vr=Ar>Rr.length?Rr.length:Ar;if(Vr===Rr.length?Dr+=Rr:Dr+=Rr.slice(0,Ar),Ar-=Vr,Ar===0){Vr===Rr.length?(++Pr,Hr.next?Nr.head=Hr.next:Nr.head=Nr.tail=null):(Nr.head=Hr,Hr.data=Rr.slice(Vr));break}++Pr}return Nr.length-=Pr,Dr}function yr(Ar,Nr){var Hr=Ct.allocUnsafe(Ar),Pr=Nr.head,Dr=1;for(Pr.data.copy(Hr),Ar-=Pr.data.length;Pr=Pr.next;){var Rr=Pr.data,Vr=Ar>Rr.length?Rr.length:Ar;if(Rr.copy(Hr,Hr.length-Ar,0,Vr),Ar-=Vr,Ar===0){Vr===Rr.length?(++Dr,Pr.next?Nr.head=Pr.next:Nr.head=Nr.tail=null):(Nr.head=Pr,Pr.data=Rr.slice(Vr));break}++Dr}return Nr.length-=Dr,Hr}function wr(Ar){var Nr=Ar._readableState;if(Nr.length>0)throw new Error('"endReadable()" called on non-empty stream');Nr.endEmitted||(Nr.ended=!0,nt.nextTick(Ir,Nr,Ar))}function Ir(Ar,Nr){!Ar.endEmitted&&Ar.length===0&&(Ar.endEmitted=!0,Nr.readable=!1,Nr.emit("end"))}function Or(Ar,Nr){for(var Hr=0,Pr=Ar.length;Hr<Pr;Hr++)if(Ar[Hr]===Nr)return Hr;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=mt;var nt=require_stream_duplex(),et=Object.create(requireUtil());et.inherits=requireInherits_browser(),et.inherits(mt,nt);function at(Dt,Ft){var Nt=this._transformState;Nt.transforming=!1;var jt=Nt.writecb;if(!jt)return this.emit("error",new Error("write callback called multiple times"));Nt.writechunk=null,Nt.writecb=null,Ft!=null&&this.push(Ft),jt(Dt);var Lt=this._readableState;Lt.reading=!1,(Lt.needReadable||Lt.length<Lt.highWaterMark)&&this._read(Lt.highWaterMark)}function mt(Dt){if(!(this instanceof mt))return new mt(Dt);nt.call(this,Dt),this._transformState={afterTransform:at.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Dt&&(typeof Dt.transform=="function"&&(this._transform=Dt.transform),typeof Dt.flush=="function"&&(this._flush=Dt.flush)),this.on("prefinish",$t)}function $t(){var Dt=this;typeof this._flush=="function"?this._flush(function(Ft,Nt){Ct(Dt,Ft,Nt)}):Ct(this,null,null)}mt.prototype.push=function(Dt,Ft){return this._transformState.needTransform=!1,nt.prototype.push.call(this,Dt,Ft)},mt.prototype._transform=function(Dt,Ft,Nt){throw new Error("_transform() is not implemented")},mt.prototype._write=function(Dt,Ft,Nt){var jt=this._transformState;if(jt.writecb=Nt,jt.writechunk=Dt,jt.writeencoding=Ft,!jt.transforming){var Lt=this._readableState;(jt.needTransform||Lt.needReadable||Lt.length<Lt.highWaterMark)&&this._read(Lt.highWaterMark)}},mt.prototype._read=function(Dt){var Ft=this._transformState;Ft.writechunk!==null&&Ft.writecb&&!Ft.transforming?(Ft.transforming=!0,this._transform(Ft.writechunk,Ft.writeencoding,Ft.afterTransform)):Ft.needTransform=!0},mt.prototype._destroy=function(Dt,Ft){var Nt=this;nt.prototype._destroy.call(this,Dt,function(jt){Ft(jt),Nt.emit("close")})};function Ct(Dt,Ft,Nt){if(Ft)return Dt.emit("error",Ft);if(Nt!=null&&Dt.push(Nt),Dt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(Dt._transformState.transforming)throw new Error("Calling transform done when still transforming");return Dt.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=at;var nt=require_stream_transform(),et=Object.create(requireUtil());et.inherits=requireInherits_browser(),et.inherits(at,nt);function at(mt){if(!(this instanceof at))return new at(mt);nt.call(this,mt)}return at.prototype._transform=function(mt,$t,Ct){Ct(null,mt)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(nt,et){et=nt.exports=require_stream_readable(),et.Stream=et,et.Readable=et,et.Writable=require_stream_writable(),et.Duplex=require_stream_duplex(),et.Transform=require_stream_transform(),et.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$2={exports:{}},bn$5={exports:{}};bn$5.exports;(function(nt){(function(et,at){function mt(tr,nr){if(!tr)throw new Error(nr||"Assertion failed")}function $t(tr,nr){tr.super_=nr;var rr=function(){};rr.prototype=nr.prototype,tr.prototype=new rr,tr.prototype.constructor=tr}function Ct(tr,nr,rr){if(Ct.isBN(tr))return tr;this.negative=0,this.words=null,this.length=0,this.red=null,tr!==null&&((nr==="le"||nr==="be")&&(rr=nr,nr=10),this._init(tr||0,nr||10,rr||"be"))}typeof et=="object"?et.exports=Ct:at.BN=Ct,Ct.BN=Ct,Ct.wordSize=26;var Dt;try{typeof window<"u"&&typeof window.Buffer<"u"?Dt=window.Buffer:Dt=require$$2$1.Buffer}catch{}Ct.isBN=function(nr){return nr instanceof Ct?!0:nr!==null&&typeof nr=="object"&&nr.constructor.wordSize===Ct.wordSize&&Array.isArray(nr.words)},Ct.max=function(nr,rr){return nr.cmp(rr)>0?nr:rr},Ct.min=function(nr,rr){return nr.cmp(rr)<0?nr:rr},Ct.prototype._init=function(nr,rr,ar){if(typeof nr=="number")return this._initNumber(nr,rr,ar);if(typeof nr=="object")return this._initArray(nr,rr,ar);rr==="hex"&&(rr=16),mt(rr===(rr|0)&&rr>=2&&rr<=36),nr=nr.toString().replace(/\s+/g,"");var cr=0;nr[0]==="-"&&(cr++,this.negative=1),cr<nr.length&&(rr===16?this._parseHex(nr,cr,ar):(this._parseBase(nr,rr,cr),ar==="le"&&this._initArray(this.toArray(),rr,ar)))},Ct.prototype._initNumber=function(nr,rr,ar){nr<0&&(this.negative=1,nr=-nr),nr<67108864?(this.words=[nr&67108863],this.length=1):nr<4503599627370496?(this.words=[nr&67108863,nr/67108864&67108863],this.length=2):(mt(nr<9007199254740992),this.words=[nr&67108863,nr/67108864&67108863,1],this.length=3),ar==="le"&&this._initArray(this.toArray(),rr,ar)},Ct.prototype._initArray=function(nr,rr,ar){if(mt(typeof nr.length=="number"),nr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(nr.length/3),this.words=new Array(this.length);for(var cr=0;cr<this.length;cr++)this.words[cr]=0;var fr,sr,Yt=0;if(ar==="be")for(cr=nr.length-1,fr=0;cr>=0;cr-=3)sr=nr[cr]|nr[cr-1]<<8|nr[cr-2]<<16,this.words[fr]|=sr<<Yt&67108863,this.words[fr+1]=sr>>>26-Yt&67108863,Yt+=24,Yt>=26&&(Yt-=26,fr++);else if(ar==="le")for(cr=0,fr=0;cr<nr.length;cr+=3)sr=nr[cr]|nr[cr+1]<<8|nr[cr+2]<<16,this.words[fr]|=sr<<Yt&67108863,this.words[fr+1]=sr>>>26-Yt&67108863,Yt+=24,Yt>=26&&(Yt-=26,fr++);return this._strip()};function Ft(tr,nr){var rr=tr.charCodeAt(nr);if(rr>=48&&rr<=57)return rr-48;if(rr>=65&&rr<=70)return rr-55;if(rr>=97&&rr<=102)return rr-87;mt(!1,"Invalid character in "+tr)}function Nt(tr,nr,rr){var ar=Ft(tr,rr);return rr-1>=nr&&(ar|=Ft(tr,rr-1)<<4),ar}Ct.prototype._parseHex=function(nr,rr,ar){this.length=Math.ceil((nr.length-rr)/6),this.words=new Array(this.length);for(var cr=0;cr<this.length;cr++)this.words[cr]=0;var fr=0,sr=0,Yt;if(ar==="be")for(cr=nr.length-1;cr>=rr;cr-=2)Yt=Nt(nr,rr,cr)<<fr,this.words[sr]|=Yt&67108863,fr>=18?(fr-=18,sr+=1,this.words[sr]|=Yt>>>26):fr+=8;else{var ur=nr.length-rr;for(cr=ur%2===0?rr+1:rr;cr<nr.length;cr+=2)Yt=Nt(nr,rr,cr)<<fr,this.words[sr]|=Yt&67108863,fr>=18?(fr-=18,sr+=1,this.words[sr]|=Yt>>>26):fr+=8}this._strip()};function jt(tr,nr,rr,ar){for(var cr=0,fr=0,sr=Math.min(tr.length,rr),Yt=nr;Yt<sr;Yt++){var ur=tr.charCodeAt(Yt)-48;cr*=ar,ur>=49?fr=ur-49+10:ur>=17?fr=ur-17+10:fr=ur,mt(ur>=0&&fr<ar,"Invalid character"),cr+=fr}return cr}Ct.prototype._parseBase=function(nr,rr,ar){this.words=[0],this.length=1;for(var cr=0,fr=1;fr<=67108863;fr*=rr)cr++;cr--,fr=fr/rr|0;for(var sr=nr.length-ar,Yt=sr%cr,ur=Math.min(sr,sr-Yt)+ar,_r=0,yr=ar;yr<ur;yr+=cr)_r=jt(nr,yr,yr+cr,rr),this.imuln(fr),this.words[0]+_r<67108864?this.words[0]+=_r:this._iaddn(_r);if(Yt!==0){var wr=1;for(_r=jt(nr,yr,nr.length,rr),yr=0;yr<Yt;yr++)wr*=rr;this.imuln(wr),this.words[0]+_r<67108864?this.words[0]+=_r:this._iaddn(_r)}this._strip()},Ct.prototype.copy=function(nr){nr.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)nr.words[rr]=this.words[rr];nr.length=this.length,nr.negative=this.negative,nr.red=this.red};function Lt(tr,nr){tr.words=nr.words,tr.length=nr.length,tr.negative=nr.negative,tr.red=nr.red}if(Ct.prototype._move=function(nr){Lt(nr,this)},Ct.prototype.clone=function(){var nr=new Ct(null);return this.copy(nr),nr},Ct.prototype._expand=function(nr){for(;this.length<nr;)this.words[this.length++]=0;return this},Ct.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{Ct.prototype[Symbol.for("nodejs.util.inspect.custom")]=Vt}catch{Ct.prototype.inspect=Vt}else Ct.prototype.inspect=Vt;function Vt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var er=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ir=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],or=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ct.prototype.toString=function(nr,rr){nr=nr||10,rr=rr|0||1;var ar;if(nr===16||nr==="hex"){ar="";for(var cr=0,fr=0,sr=0;sr<this.length;sr++){var Yt=this.words[sr],ur=((Yt<<cr|fr)&16777215).toString(16);fr=Yt>>>24-cr&16777215,cr+=2,cr>=26&&(cr-=26,sr--),fr!==0||sr!==this.length-1?ar=er[6-ur.length]+ur+ar:ar=ur+ar}for(fr!==0&&(ar=fr.toString(16)+ar);ar.length%rr!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}if(nr===(nr|0)&&nr>=2&&nr<=36){var _r=ir[nr],yr=or[nr];ar="";var wr=this.clone();for(wr.negative=0;!wr.isZero();){var Ir=wr.modrn(yr).toString(nr);wr=wr.idivn(yr),wr.isZero()?ar=Ir+ar:ar=er[_r-Ir.length]+Ir+ar}for(this.isZero()&&(ar="0"+ar);ar.length%rr!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}mt(!1,"Base should be between 2 and 36")},Ct.prototype.toNumber=function(){var nr=this.words[0];return this.length===2?nr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?nr+=4503599627370496+this.words[1]*67108864:this.length>2&&mt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-nr:nr},Ct.prototype.toJSON=function(){return this.toString(16,2)},Dt&&(Ct.prototype.toBuffer=function(nr,rr){return this.toArrayLike(Dt,nr,rr)}),Ct.prototype.toArray=function(nr,rr){return this.toArrayLike(Array,nr,rr)};var lr=function(nr,rr){return nr.allocUnsafe?nr.allocUnsafe(rr):new nr(rr)};Ct.prototype.toArrayLike=function(nr,rr,ar){this._strip();var cr=this.byteLength(),fr=ar||Math.max(1,cr);mt(cr<=fr,"byte array longer than desired length"),mt(fr>0,"Requested array length <= 0");var sr=lr(nr,fr),Yt=rr==="le"?"LE":"BE";return this["_toArrayLike"+Yt](sr,cr),sr},Ct.prototype._toArrayLikeLE=function(nr,rr){for(var ar=0,cr=0,fr=0,sr=0;fr<this.length;fr++){var Yt=this.words[fr]<<sr|cr;nr[ar++]=Yt&255,ar<nr.length&&(nr[ar++]=Yt>>8&255),ar<nr.length&&(nr[ar++]=Yt>>16&255),sr===6?(ar<nr.length&&(nr[ar++]=Yt>>24&255),cr=0,sr=0):(cr=Yt>>>24,sr+=2)}if(ar<nr.length)for(nr[ar++]=cr;ar<nr.length;)nr[ar++]=0},Ct.prototype._toArrayLikeBE=function(nr,rr){for(var ar=nr.length-1,cr=0,fr=0,sr=0;fr<this.length;fr++){var Yt=this.words[fr]<<sr|cr;nr[ar--]=Yt&255,ar>=0&&(nr[ar--]=Yt>>8&255),ar>=0&&(nr[ar--]=Yt>>16&255),sr===6?(ar>=0&&(nr[ar--]=Yt>>24&255),cr=0,sr=0):(cr=Yt>>>24,sr+=2)}if(ar>=0)for(nr[ar--]=cr;ar>=0;)nr[ar--]=0},Math.clz32?Ct.prototype._countBits=function(nr){return 32-Math.clz32(nr)}:Ct.prototype._countBits=function(nr){var rr=nr,ar=0;return rr>=4096&&(ar+=13,rr>>>=13),rr>=64&&(ar+=7,rr>>>=7),rr>=8&&(ar+=4,rr>>>=4),rr>=2&&(ar+=2,rr>>>=2),ar+rr},Ct.prototype._zeroBits=function(nr){if(nr===0)return 26;var rr=nr,ar=0;return rr&8191||(ar+=13,rr>>>=13),rr&127||(ar+=7,rr>>>=7),rr&15||(ar+=4,rr>>>=4),rr&3||(ar+=2,rr>>>=2),rr&1||ar++,ar},Ct.prototype.bitLength=function(){var nr=this.words[this.length-1],rr=this._countBits(nr);return(this.length-1)*26+rr};function dr(tr){for(var nr=new Array(tr.bitLength()),rr=0;rr<nr.length;rr++){var ar=rr/26|0,cr=rr%26;nr[rr]=tr.words[ar]>>>cr&1}return nr}Ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var nr=0,rr=0;rr<this.length;rr++){var ar=this._zeroBits(this.words[rr]);if(nr+=ar,ar!==26)break}return nr},Ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ct.prototype.toTwos=function(nr){return this.negative!==0?this.abs().inotn(nr).iaddn(1):this.clone()},Ct.prototype.fromTwos=function(nr){return this.testn(nr-1)?this.notn(nr).iaddn(1).ineg():this.clone()},Ct.prototype.isNeg=function(){return this.negative!==0},Ct.prototype.neg=function(){return this.clone().ineg()},Ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ct.prototype.iuor=function(nr){for(;this.length<nr.length;)this.words[this.length++]=0;for(var rr=0;rr<nr.length;rr++)this.words[rr]=this.words[rr]|nr.words[rr];return this._strip()},Ct.prototype.ior=function(nr){return mt((this.negative|nr.negative)===0),this.iuor(nr)},Ct.prototype.or=function(nr){return this.length>nr.length?this.clone().ior(nr):nr.clone().ior(this)},Ct.prototype.uor=function(nr){return this.length>nr.length?this.clone().iuor(nr):nr.clone().iuor(this)},Ct.prototype.iuand=function(nr){var rr;this.length>nr.length?rr=nr:rr=this;for(var ar=0;ar<rr.length;ar++)this.words[ar]=this.words[ar]&nr.words[ar];return this.length=rr.length,this._strip()},Ct.prototype.iand=function(nr){return mt((this.negative|nr.negative)===0),this.iuand(nr)},Ct.prototype.and=function(nr){return this.length>nr.length?this.clone().iand(nr):nr.clone().iand(this)},Ct.prototype.uand=function(nr){return this.length>nr.length?this.clone().iuand(nr):nr.clone().iuand(this)},Ct.prototype.iuxor=function(nr){var rr,ar;this.length>nr.length?(rr=this,ar=nr):(rr=nr,ar=this);for(var cr=0;cr<ar.length;cr++)this.words[cr]=rr.words[cr]^ar.words[cr];if(this!==rr)for(;cr<rr.length;cr++)this.words[cr]=rr.words[cr];return this.length=rr.length,this._strip()},Ct.prototype.ixor=function(nr){return mt((this.negative|nr.negative)===0),this.iuxor(nr)},Ct.prototype.xor=function(nr){return this.length>nr.length?this.clone().ixor(nr):nr.clone().ixor(this)},Ct.prototype.uxor=function(nr){return this.length>nr.length?this.clone().iuxor(nr):nr.clone().iuxor(this)},Ct.prototype.inotn=function(nr){mt(typeof nr=="number"&&nr>=0);var rr=Math.ceil(nr/26)|0,ar=nr%26;this._expand(rr),ar>0&&rr--;for(var cr=0;cr<rr;cr++)this.words[cr]=~this.words[cr]&67108863;return ar>0&&(this.words[cr]=~this.words[cr]&67108863>>26-ar),this._strip()},Ct.prototype.notn=function(nr){return this.clone().inotn(nr)},Ct.prototype.setn=function(nr,rr){mt(typeof nr=="number"&&nr>=0);var ar=nr/26|0,cr=nr%26;return this._expand(ar+1),rr?this.words[ar]=this.words[ar]|1<<cr:this.words[ar]=this.words[ar]&~(1<<cr),this._strip()},Ct.prototype.iadd=function(nr){var rr;if(this.negative!==0&&nr.negative===0)return this.negative=0,rr=this.isub(nr),this.negative^=1,this._normSign();if(this.negative===0&&nr.negative!==0)return nr.negative=0,rr=this.isub(nr),nr.negative=1,rr._normSign();var ar,cr;this.length>nr.length?(ar=this,cr=nr):(ar=nr,cr=this);for(var fr=0,sr=0;sr<cr.length;sr++)rr=(ar.words[sr]|0)+(cr.words[sr]|0)+fr,this.words[sr]=rr&67108863,fr=rr>>>26;for(;fr!==0&&sr<ar.length;sr++)rr=(ar.words[sr]|0)+fr,this.words[sr]=rr&67108863,fr=rr>>>26;if(this.length=ar.length,fr!==0)this.words[this.length]=fr,this.length++;else if(ar!==this)for(;sr<ar.length;sr++)this.words[sr]=ar.words[sr];return this},Ct.prototype.add=function(nr){var rr;return nr.negative!==0&&this.negative===0?(nr.negative=0,rr=this.sub(nr),nr.negative^=1,rr):nr.negative===0&&this.negative!==0?(this.negative=0,rr=nr.sub(this),this.negative=1,rr):this.length>nr.length?this.clone().iadd(nr):nr.clone().iadd(this)},Ct.prototype.isub=function(nr){if(nr.negative!==0){nr.negative=0;var rr=this.iadd(nr);return nr.negative=1,rr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(nr),this.negative=1,this._normSign();var ar=this.cmp(nr);if(ar===0)return this.negative=0,this.length=1,this.words[0]=0,this;var cr,fr;ar>0?(cr=this,fr=nr):(cr=nr,fr=this);for(var sr=0,Yt=0;Yt<fr.length;Yt++)rr=(cr.words[Yt]|0)-(fr.words[Yt]|0)+sr,sr=rr>>26,this.words[Yt]=rr&67108863;for(;sr!==0&&Yt<cr.length;Yt++)rr=(cr.words[Yt]|0)+sr,sr=rr>>26,this.words[Yt]=rr&67108863;if(sr===0&&Yt<cr.length&&cr!==this)for(;Yt<cr.length;Yt++)this.words[Yt]=cr.words[Yt];return this.length=Math.max(this.length,Yt),cr!==this&&(this.negative=1),this._strip()},Ct.prototype.sub=function(nr){return this.clone().isub(nr)};function pr(tr,nr,rr){rr.negative=nr.negative^tr.negative;var ar=tr.length+nr.length|0;rr.length=ar,ar=ar-1|0;var cr=tr.words[0]|0,fr=nr.words[0]|0,sr=cr*fr,Yt=sr&67108863,ur=sr/67108864|0;rr.words[0]=Yt;for(var _r=1;_r<ar;_r++){for(var yr=ur>>>26,wr=ur&67108863,Ir=Math.min(_r,nr.length-1),Or=Math.max(0,_r-tr.length+1);Or<=Ir;Or++){var Ar=_r-Or|0;cr=tr.words[Ar]|0,fr=nr.words[Or]|0,sr=cr*fr+wr,yr+=sr/67108864|0,wr=sr&67108863}rr.words[_r]=wr|0,ur=yr|0}return ur!==0?rr.words[_r]=ur|0:rr.length--,rr._strip()}var hr=function(nr,rr,ar){var cr=nr.words,fr=rr.words,sr=ar.words,Yt=0,ur,_r,yr,wr=cr[0]|0,Ir=wr&8191,Or=wr>>>13,Ar=cr[1]|0,Nr=Ar&8191,Hr=Ar>>>13,Pr=cr[2]|0,Dr=Pr&8191,Rr=Pr>>>13,Vr=cr[3]|0,an=Vr&8191,Xr=Vr>>>13,Jr=cr[4]|0,Zr=Jr&8191,Gr=Jr>>>13,zr=cr[5]|0,Dn=zr&8191,Qr=zr>>>13,Un=cr[6]|0,ro=Un&8191,Hn=Un>>>13,Qn=cr[7]|0,$o=Qn&8191,Kn=Qn>>>13,_i=cr[8]|0,Lo=_i&8191,jr=_i>>>13,Tr=cr[9]|0,Fr=Tr&8191,Wr=Tr>>>13,sn=fr[0]|0,Jn=sn&8191,Nn=sn>>>13,Zn=fr[1]|0,Io=Zn&8191,ga=Zn>>>13,ba=fr[2]|0,Bo=ba&8191,io=ba>>>13,so=fr[3]|0,zo=so&8191,eo=so>>>13,oo=fr[4]|0,Ho=oo&8191,no=oo>>>13,ao=fr[5]|0,Gn=ao&8191,dn=ao>>>13,Ln=fr[6]|0,Br=Ln&8191,Lr=Ln>>>13,qr=fr[7]|0,Mr=qr&8191,Ur=qr>>>13,rn=fr[8]|0,zn=rn&8191,pn=rn>>>13,Vn=fr[9]|0,co=Vn&8191,uo=Vn>>>13;ar.negative=nr.negative^rr.negative,ar.length=19,ur=Math.imul(Ir,Jn),_r=Math.imul(Ir,Nn),_r=_r+Math.imul(Or,Jn)|0,yr=Math.imul(Or,Nn);var Eo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,ur=Math.imul(Nr,Jn),_r=Math.imul(Nr,Nn),_r=_r+Math.imul(Hr,Jn)|0,yr=Math.imul(Hr,Nn),ur=ur+Math.imul(Ir,Io)|0,_r=_r+Math.imul(Ir,ga)|0,_r=_r+Math.imul(Or,Io)|0,yr=yr+Math.imul(Or,ga)|0;var ho=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(ho>>>26)|0,ho&=67108863,ur=Math.imul(Dr,Jn),_r=Math.imul(Dr,Nn),_r=_r+Math.imul(Rr,Jn)|0,yr=Math.imul(Rr,Nn),ur=ur+Math.imul(Nr,Io)|0,_r=_r+Math.imul(Nr,ga)|0,_r=_r+Math.imul(Hr,Io)|0,yr=yr+Math.imul(Hr,ga)|0,ur=ur+Math.imul(Ir,Bo)|0,_r=_r+Math.imul(Ir,io)|0,_r=_r+Math.imul(Or,Bo)|0,yr=yr+Math.imul(Or,io)|0;var Co=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Co>>>26)|0,Co&=67108863,ur=Math.imul(an,Jn),_r=Math.imul(an,Nn),_r=_r+Math.imul(Xr,Jn)|0,yr=Math.imul(Xr,Nn),ur=ur+Math.imul(Dr,Io)|0,_r=_r+Math.imul(Dr,ga)|0,_r=_r+Math.imul(Rr,Io)|0,yr=yr+Math.imul(Rr,ga)|0,ur=ur+Math.imul(Nr,Bo)|0,_r=_r+Math.imul(Nr,io)|0,_r=_r+Math.imul(Hr,Bo)|0,yr=yr+Math.imul(Hr,io)|0,ur=ur+Math.imul(Ir,zo)|0,_r=_r+Math.imul(Ir,eo)|0,_r=_r+Math.imul(Or,zo)|0,yr=yr+Math.imul(Or,eo)|0;var Po=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Po>>>26)|0,Po&=67108863,ur=Math.imul(Zr,Jn),_r=Math.imul(Zr,Nn),_r=_r+Math.imul(Gr,Jn)|0,yr=Math.imul(Gr,Nn),ur=ur+Math.imul(an,Io)|0,_r=_r+Math.imul(an,ga)|0,_r=_r+Math.imul(Xr,Io)|0,yr=yr+Math.imul(Xr,ga)|0,ur=ur+Math.imul(Dr,Bo)|0,_r=_r+Math.imul(Dr,io)|0,_r=_r+Math.imul(Rr,Bo)|0,yr=yr+Math.imul(Rr,io)|0,ur=ur+Math.imul(Nr,zo)|0,_r=_r+Math.imul(Nr,eo)|0,_r=_r+Math.imul(Hr,zo)|0,yr=yr+Math.imul(Hr,eo)|0,ur=ur+Math.imul(Ir,Ho)|0,_r=_r+Math.imul(Ir,no)|0,_r=_r+Math.imul(Or,Ho)|0,yr=yr+Math.imul(Or,no)|0;var Fo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,ur=Math.imul(Dn,Jn),_r=Math.imul(Dn,Nn),_r=_r+Math.imul(Qr,Jn)|0,yr=Math.imul(Qr,Nn),ur=ur+Math.imul(Zr,Io)|0,_r=_r+Math.imul(Zr,ga)|0,_r=_r+Math.imul(Gr,Io)|0,yr=yr+Math.imul(Gr,ga)|0,ur=ur+Math.imul(an,Bo)|0,_r=_r+Math.imul(an,io)|0,_r=_r+Math.imul(Xr,Bo)|0,yr=yr+Math.imul(Xr,io)|0,ur=ur+Math.imul(Dr,zo)|0,_r=_r+Math.imul(Dr,eo)|0,_r=_r+Math.imul(Rr,zo)|0,yr=yr+Math.imul(Rr,eo)|0,ur=ur+Math.imul(Nr,Ho)|0,_r=_r+Math.imul(Nr,no)|0,_r=_r+Math.imul(Hr,Ho)|0,yr=yr+Math.imul(Hr,no)|0,ur=ur+Math.imul(Ir,Gn)|0,_r=_r+Math.imul(Ir,dn)|0,_r=_r+Math.imul(Or,Gn)|0,yr=yr+Math.imul(Or,dn)|0;var Do=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Do>>>26)|0,Do&=67108863,ur=Math.imul(ro,Jn),_r=Math.imul(ro,Nn),_r=_r+Math.imul(Hn,Jn)|0,yr=Math.imul(Hn,Nn),ur=ur+Math.imul(Dn,Io)|0,_r=_r+Math.imul(Dn,ga)|0,_r=_r+Math.imul(Qr,Io)|0,yr=yr+Math.imul(Qr,ga)|0,ur=ur+Math.imul(Zr,Bo)|0,_r=_r+Math.imul(Zr,io)|0,_r=_r+Math.imul(Gr,Bo)|0,yr=yr+Math.imul(Gr,io)|0,ur=ur+Math.imul(an,zo)|0,_r=_r+Math.imul(an,eo)|0,_r=_r+Math.imul(Xr,zo)|0,yr=yr+Math.imul(Xr,eo)|0,ur=ur+Math.imul(Dr,Ho)|0,_r=_r+Math.imul(Dr,no)|0,_r=_r+Math.imul(Rr,Ho)|0,yr=yr+Math.imul(Rr,no)|0,ur=ur+Math.imul(Nr,Gn)|0,_r=_r+Math.imul(Nr,dn)|0,_r=_r+Math.imul(Hr,Gn)|0,yr=yr+Math.imul(Hr,dn)|0,ur=ur+Math.imul(Ir,Br)|0,_r=_r+Math.imul(Ir,Lr)|0,_r=_r+Math.imul(Or,Br)|0,yr=yr+Math.imul(Or,Lr)|0;var ko=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(ko>>>26)|0,ko&=67108863,ur=Math.imul($o,Jn),_r=Math.imul($o,Nn),_r=_r+Math.imul(Kn,Jn)|0,yr=Math.imul(Kn,Nn),ur=ur+Math.imul(ro,Io)|0,_r=_r+Math.imul(ro,ga)|0,_r=_r+Math.imul(Hn,Io)|0,yr=yr+Math.imul(Hn,ga)|0,ur=ur+Math.imul(Dn,Bo)|0,_r=_r+Math.imul(Dn,io)|0,_r=_r+Math.imul(Qr,Bo)|0,yr=yr+Math.imul(Qr,io)|0,ur=ur+Math.imul(Zr,zo)|0,_r=_r+Math.imul(Zr,eo)|0,_r=_r+Math.imul(Gr,zo)|0,yr=yr+Math.imul(Gr,eo)|0,ur=ur+Math.imul(an,Ho)|0,_r=_r+Math.imul(an,no)|0,_r=_r+Math.imul(Xr,Ho)|0,yr=yr+Math.imul(Xr,no)|0,ur=ur+Math.imul(Dr,Gn)|0,_r=_r+Math.imul(Dr,dn)|0,_r=_r+Math.imul(Rr,Gn)|0,yr=yr+Math.imul(Rr,dn)|0,ur=ur+Math.imul(Nr,Br)|0,_r=_r+Math.imul(Nr,Lr)|0,_r=_r+Math.imul(Hr,Br)|0,yr=yr+Math.imul(Hr,Lr)|0,ur=ur+Math.imul(Ir,Mr)|0,_r=_r+Math.imul(Ir,Ur)|0,_r=_r+Math.imul(Or,Mr)|0,yr=yr+Math.imul(Or,Ur)|0;var Mo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,ur=Math.imul(Lo,Jn),_r=Math.imul(Lo,Nn),_r=_r+Math.imul(jr,Jn)|0,yr=Math.imul(jr,Nn),ur=ur+Math.imul($o,Io)|0,_r=_r+Math.imul($o,ga)|0,_r=_r+Math.imul(Kn,Io)|0,yr=yr+Math.imul(Kn,ga)|0,ur=ur+Math.imul(ro,Bo)|0,_r=_r+Math.imul(ro,io)|0,_r=_r+Math.imul(Hn,Bo)|0,yr=yr+Math.imul(Hn,io)|0,ur=ur+Math.imul(Dn,zo)|0,_r=_r+Math.imul(Dn,eo)|0,_r=_r+Math.imul(Qr,zo)|0,yr=yr+Math.imul(Qr,eo)|0,ur=ur+Math.imul(Zr,Ho)|0,_r=_r+Math.imul(Zr,no)|0,_r=_r+Math.imul(Gr,Ho)|0,yr=yr+Math.imul(Gr,no)|0,ur=ur+Math.imul(an,Gn)|0,_r=_r+Math.imul(an,dn)|0,_r=_r+Math.imul(Xr,Gn)|0,yr=yr+Math.imul(Xr,dn)|0,ur=ur+Math.imul(Dr,Br)|0,_r=_r+Math.imul(Dr,Lr)|0,_r=_r+Math.imul(Rr,Br)|0,yr=yr+Math.imul(Rr,Lr)|0,ur=ur+Math.imul(Nr,Mr)|0,_r=_r+Math.imul(Nr,Ur)|0,_r=_r+Math.imul(Hr,Mr)|0,yr=yr+Math.imul(Hr,Ur)|0,ur=ur+Math.imul(Ir,zn)|0,_r=_r+Math.imul(Ir,pn)|0,_r=_r+Math.imul(Or,zn)|0,yr=yr+Math.imul(Or,pn)|0;var Oo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,ur=Math.imul(Fr,Jn),_r=Math.imul(Fr,Nn),_r=_r+Math.imul(Wr,Jn)|0,yr=Math.imul(Wr,Nn),ur=ur+Math.imul(Lo,Io)|0,_r=_r+Math.imul(Lo,ga)|0,_r=_r+Math.imul(jr,Io)|0,yr=yr+Math.imul(jr,ga)|0,ur=ur+Math.imul($o,Bo)|0,_r=_r+Math.imul($o,io)|0,_r=_r+Math.imul(Kn,Bo)|0,yr=yr+Math.imul(Kn,io)|0,ur=ur+Math.imul(ro,zo)|0,_r=_r+Math.imul(ro,eo)|0,_r=_r+Math.imul(Hn,zo)|0,yr=yr+Math.imul(Hn,eo)|0,ur=ur+Math.imul(Dn,Ho)|0,_r=_r+Math.imul(Dn,no)|0,_r=_r+Math.imul(Qr,Ho)|0,yr=yr+Math.imul(Qr,no)|0,ur=ur+Math.imul(Zr,Gn)|0,_r=_r+Math.imul(Zr,dn)|0,_r=_r+Math.imul(Gr,Gn)|0,yr=yr+Math.imul(Gr,dn)|0,ur=ur+Math.imul(an,Br)|0,_r=_r+Math.imul(an,Lr)|0,_r=_r+Math.imul(Xr,Br)|0,yr=yr+Math.imul(Xr,Lr)|0,ur=ur+Math.imul(Dr,Mr)|0,_r=_r+Math.imul(Dr,Ur)|0,_r=_r+Math.imul(Rr,Mr)|0,yr=yr+Math.imul(Rr,Ur)|0,ur=ur+Math.imul(Nr,zn)|0,_r=_r+Math.imul(Nr,pn)|0,_r=_r+Math.imul(Hr,zn)|0,yr=yr+Math.imul(Hr,pn)|0,ur=ur+Math.imul(Ir,co)|0,_r=_r+Math.imul(Ir,uo)|0,_r=_r+Math.imul(Or,co)|0,yr=yr+Math.imul(Or,uo)|0;var xo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(xo>>>26)|0,xo&=67108863,ur=Math.imul(Fr,Io),_r=Math.imul(Fr,ga),_r=_r+Math.imul(Wr,Io)|0,yr=Math.imul(Wr,ga),ur=ur+Math.imul(Lo,Bo)|0,_r=_r+Math.imul(Lo,io)|0,_r=_r+Math.imul(jr,Bo)|0,yr=yr+Math.imul(jr,io)|0,ur=ur+Math.imul($o,zo)|0,_r=_r+Math.imul($o,eo)|0,_r=_r+Math.imul(Kn,zo)|0,yr=yr+Math.imul(Kn,eo)|0,ur=ur+Math.imul(ro,Ho)|0,_r=_r+Math.imul(ro,no)|0,_r=_r+Math.imul(Hn,Ho)|0,yr=yr+Math.imul(Hn,no)|0,ur=ur+Math.imul(Dn,Gn)|0,_r=_r+Math.imul(Dn,dn)|0,_r=_r+Math.imul(Qr,Gn)|0,yr=yr+Math.imul(Qr,dn)|0,ur=ur+Math.imul(Zr,Br)|0,_r=_r+Math.imul(Zr,Lr)|0,_r=_r+Math.imul(Gr,Br)|0,yr=yr+Math.imul(Gr,Lr)|0,ur=ur+Math.imul(an,Mr)|0,_r=_r+Math.imul(an,Ur)|0,_r=_r+Math.imul(Xr,Mr)|0,yr=yr+Math.imul(Xr,Ur)|0,ur=ur+Math.imul(Dr,zn)|0,_r=_r+Math.imul(Dr,pn)|0,_r=_r+Math.imul(Rr,zn)|0,yr=yr+Math.imul(Rr,pn)|0,ur=ur+Math.imul(Nr,co)|0,_r=_r+Math.imul(Nr,uo)|0,_r=_r+Math.imul(Hr,co)|0,yr=yr+Math.imul(Hr,uo)|0;var Ro=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,ur=Math.imul(Fr,Bo),_r=Math.imul(Fr,io),_r=_r+Math.imul(Wr,Bo)|0,yr=Math.imul(Wr,io),ur=ur+Math.imul(Lo,zo)|0,_r=_r+Math.imul(Lo,eo)|0,_r=_r+Math.imul(jr,zo)|0,yr=yr+Math.imul(jr,eo)|0,ur=ur+Math.imul($o,Ho)|0,_r=_r+Math.imul($o,no)|0,_r=_r+Math.imul(Kn,Ho)|0,yr=yr+Math.imul(Kn,no)|0,ur=ur+Math.imul(ro,Gn)|0,_r=_r+Math.imul(ro,dn)|0,_r=_r+Math.imul(Hn,Gn)|0,yr=yr+Math.imul(Hn,dn)|0,ur=ur+Math.imul(Dn,Br)|0,_r=_r+Math.imul(Dn,Lr)|0,_r=_r+Math.imul(Qr,Br)|0,yr=yr+Math.imul(Qr,Lr)|0,ur=ur+Math.imul(Zr,Mr)|0,_r=_r+Math.imul(Zr,Ur)|0,_r=_r+Math.imul(Gr,Mr)|0,yr=yr+Math.imul(Gr,Ur)|0,ur=ur+Math.imul(an,zn)|0,_r=_r+Math.imul(an,pn)|0,_r=_r+Math.imul(Xr,zn)|0,yr=yr+Math.imul(Xr,pn)|0,ur=ur+Math.imul(Dr,co)|0,_r=_r+Math.imul(Dr,uo)|0,_r=_r+Math.imul(Rr,co)|0,yr=yr+Math.imul(Rr,uo)|0;var So=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(So>>>26)|0,So&=67108863,ur=Math.imul(Fr,zo),_r=Math.imul(Fr,eo),_r=_r+Math.imul(Wr,zo)|0,yr=Math.imul(Wr,eo),ur=ur+Math.imul(Lo,Ho)|0,_r=_r+Math.imul(Lo,no)|0,_r=_r+Math.imul(jr,Ho)|0,yr=yr+Math.imul(jr,no)|0,ur=ur+Math.imul($o,Gn)|0,_r=_r+Math.imul($o,dn)|0,_r=_r+Math.imul(Kn,Gn)|0,yr=yr+Math.imul(Kn,dn)|0,ur=ur+Math.imul(ro,Br)|0,_r=_r+Math.imul(ro,Lr)|0,_r=_r+Math.imul(Hn,Br)|0,yr=yr+Math.imul(Hn,Lr)|0,ur=ur+Math.imul(Dn,Mr)|0,_r=_r+Math.imul(Dn,Ur)|0,_r=_r+Math.imul(Qr,Mr)|0,yr=yr+Math.imul(Qr,Ur)|0,ur=ur+Math.imul(Zr,zn)|0,_r=_r+Math.imul(Zr,pn)|0,_r=_r+Math.imul(Gr,zn)|0,yr=yr+Math.imul(Gr,pn)|0,ur=ur+Math.imul(an,co)|0,_r=_r+Math.imul(an,uo)|0,_r=_r+Math.imul(Xr,co)|0,yr=yr+Math.imul(Xr,uo)|0;var po=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(po>>>26)|0,po&=67108863,ur=Math.imul(Fr,Ho),_r=Math.imul(Fr,no),_r=_r+Math.imul(Wr,Ho)|0,yr=Math.imul(Wr,no),ur=ur+Math.imul(Lo,Gn)|0,_r=_r+Math.imul(Lo,dn)|0,_r=_r+Math.imul(jr,Gn)|0,yr=yr+Math.imul(jr,dn)|0,ur=ur+Math.imul($o,Br)|0,_r=_r+Math.imul($o,Lr)|0,_r=_r+Math.imul(Kn,Br)|0,yr=yr+Math.imul(Kn,Lr)|0,ur=ur+Math.imul(ro,Mr)|0,_r=_r+Math.imul(ro,Ur)|0,_r=_r+Math.imul(Hn,Mr)|0,yr=yr+Math.imul(Hn,Ur)|0,ur=ur+Math.imul(Dn,zn)|0,_r=_r+Math.imul(Dn,pn)|0,_r=_r+Math.imul(Qr,zn)|0,yr=yr+Math.imul(Qr,pn)|0,ur=ur+Math.imul(Zr,co)|0,_r=_r+Math.imul(Zr,uo)|0,_r=_r+Math.imul(Gr,co)|0,yr=yr+Math.imul(Gr,uo)|0;var vo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(vo>>>26)|0,vo&=67108863,ur=Math.imul(Fr,Gn),_r=Math.imul(Fr,dn),_r=_r+Math.imul(Wr,Gn)|0,yr=Math.imul(Wr,dn),ur=ur+Math.imul(Lo,Br)|0,_r=_r+Math.imul(Lo,Lr)|0,_r=_r+Math.imul(jr,Br)|0,yr=yr+Math.imul(jr,Lr)|0,ur=ur+Math.imul($o,Mr)|0,_r=_r+Math.imul($o,Ur)|0,_r=_r+Math.imul(Kn,Mr)|0,yr=yr+Math.imul(Kn,Ur)|0,ur=ur+Math.imul(ro,zn)|0,_r=_r+Math.imul(ro,pn)|0,_r=_r+Math.imul(Hn,zn)|0,yr=yr+Math.imul(Hn,pn)|0,ur=ur+Math.imul(Dn,co)|0,_r=_r+Math.imul(Dn,uo)|0,_r=_r+Math.imul(Qr,co)|0,yr=yr+Math.imul(Qr,uo)|0;var wo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(wo>>>26)|0,wo&=67108863,ur=Math.imul(Fr,Br),_r=Math.imul(Fr,Lr),_r=_r+Math.imul(Wr,Br)|0,yr=Math.imul(Wr,Lr),ur=ur+Math.imul(Lo,Mr)|0,_r=_r+Math.imul(Lo,Ur)|0,_r=_r+Math.imul(jr,Mr)|0,yr=yr+Math.imul(jr,Ur)|0,ur=ur+Math.imul($o,zn)|0,_r=_r+Math.imul($o,pn)|0,_r=_r+Math.imul(Kn,zn)|0,yr=yr+Math.imul(Kn,pn)|0,ur=ur+Math.imul(ro,co)|0,_r=_r+Math.imul(ro,uo)|0,_r=_r+Math.imul(Hn,co)|0,yr=yr+Math.imul(Hn,uo)|0;var to=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(to>>>26)|0,to&=67108863,ur=Math.imul(Fr,Mr),_r=Math.imul(Fr,Ur),_r=_r+Math.imul(Wr,Mr)|0,yr=Math.imul(Wr,Ur),ur=ur+Math.imul(Lo,zn)|0,_r=_r+Math.imul(Lo,pn)|0,_r=_r+Math.imul(jr,zn)|0,yr=yr+Math.imul(jr,pn)|0,ur=ur+Math.imul($o,co)|0,_r=_r+Math.imul($o,uo)|0,_r=_r+Math.imul(Kn,co)|0,yr=yr+Math.imul(Kn,uo)|0;var _a=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(_a>>>26)|0,_a&=67108863,ur=Math.imul(Fr,zn),_r=Math.imul(Fr,pn),_r=_r+Math.imul(Wr,zn)|0,yr=Math.imul(Wr,pn),ur=ur+Math.imul(Lo,co)|0,_r=_r+Math.imul(Lo,uo)|0,_r=_r+Math.imul(jr,co)|0,yr=yr+Math.imul(jr,uo)|0;var yo=(Yt+ur|0)+((_r&8191)<<13)|0;Yt=(yr+(_r>>>13)|0)+(yo>>>26)|0,yo&=67108863,ur=Math.imul(Fr,co),_r=Math.imul(Fr,uo),_r=_r+Math.imul(Wr,co)|0,yr=Math.imul(Wr,uo);var Yr=(Yt+ur|0)+((_r&8191)<<13)|0;return Yt=(yr+(_r>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,sr[0]=Eo,sr[1]=ho,sr[2]=Co,sr[3]=Po,sr[4]=Fo,sr[5]=Do,sr[6]=ko,sr[7]=Mo,sr[8]=Oo,sr[9]=xo,sr[10]=Ro,sr[11]=So,sr[12]=po,sr[13]=vo,sr[14]=wo,sr[15]=to,sr[16]=_a,sr[17]=yo,sr[18]=Yr,Yt!==0&&(sr[19]=Yt,ar.length++),ar};Math.imul||(hr=pr);function vr(tr,nr,rr){rr.negative=nr.negative^tr.negative,rr.length=tr.length+nr.length;for(var ar=0,cr=0,fr=0;fr<rr.length-1;fr++){var sr=cr;cr=0;for(var Yt=ar&67108863,ur=Math.min(fr,nr.length-1),_r=Math.max(0,fr-tr.length+1);_r<=ur;_r++){var yr=fr-_r,wr=tr.words[yr]|0,Ir=nr.words[_r]|0,Or=wr*Ir,Ar=Or&67108863;sr=sr+(Or/67108864|0)|0,Ar=Ar+Yt|0,Yt=Ar&67108863,sr=sr+(Ar>>>26)|0,cr+=sr>>>26,sr&=67108863}rr.words[fr]=Yt,ar=sr,sr=cr}return ar!==0?rr.words[fr]=ar:rr.length--,rr._strip()}function br(tr,nr,rr){return vr(tr,nr,rr)}Ct.prototype.mulTo=function(nr,rr){var ar,cr=this.length+nr.length;return this.length===10&&nr.length===10?ar=hr(this,nr,rr):cr<63?ar=pr(this,nr,rr):cr<1024?ar=vr(this,nr,rr):ar=br(this,nr,rr),ar},Ct.prototype.mul=function(nr){var rr=new Ct(null);return rr.words=new Array(this.length+nr.length),this.mulTo(nr,rr)},Ct.prototype.mulf=function(nr){var rr=new Ct(null);return rr.words=new Array(this.length+nr.length),br(this,nr,rr)},Ct.prototype.imul=function(nr){return this.clone().mulTo(nr,this)},Ct.prototype.imuln=function(nr){var rr=nr<0;rr&&(nr=-nr),mt(typeof nr=="number"),mt(nr<67108864);for(var ar=0,cr=0;cr<this.length;cr++){var fr=(this.words[cr]|0)*nr,sr=(fr&67108863)+(ar&67108863);ar>>=26,ar+=fr/67108864|0,ar+=sr>>>26,this.words[cr]=sr&67108863}return ar!==0&&(this.words[cr]=ar,this.length++),rr?this.ineg():this},Ct.prototype.muln=function(nr){return this.clone().imuln(nr)},Ct.prototype.sqr=function(){return this.mul(this)},Ct.prototype.isqr=function(){return this.imul(this.clone())},Ct.prototype.pow=function(nr){var rr=dr(nr);if(rr.length===0)return new Ct(1);for(var ar=this,cr=0;cr<rr.length&&rr[cr]===0;cr++,ar=ar.sqr());if(++cr<rr.length)for(var fr=ar.sqr();cr<rr.length;cr++,fr=fr.sqr())rr[cr]!==0&&(ar=ar.mul(fr));return ar},Ct.prototype.iushln=function(nr){mt(typeof nr=="number"&&nr>=0);var rr=nr%26,ar=(nr-rr)/26,cr=67108863>>>26-rr<<26-rr,fr;if(rr!==0){var sr=0;for(fr=0;fr<this.length;fr++){var Yt=this.words[fr]&cr,ur=(this.words[fr]|0)-Yt<<rr;this.words[fr]=ur|sr,sr=Yt>>>26-rr}sr&&(this.words[fr]=sr,this.length++)}if(ar!==0){for(fr=this.length-1;fr>=0;fr--)this.words[fr+ar]=this.words[fr];for(fr=0;fr<ar;fr++)this.words[fr]=0;this.length+=ar}return this._strip()},Ct.prototype.ishln=function(nr){return mt(this.negative===0),this.iushln(nr)},Ct.prototype.iushrn=function(nr,rr,ar){mt(typeof nr=="number"&&nr>=0);var cr;rr?cr=(rr-rr%26)/26:cr=0;var fr=nr%26,sr=Math.min((nr-fr)/26,this.length),Yt=67108863^67108863>>>fr<<fr,ur=ar;if(cr-=sr,cr=Math.max(0,cr),ur){for(var _r=0;_r<sr;_r++)ur.words[_r]=this.words[_r];ur.length=sr}if(sr!==0)if(this.length>sr)for(this.length-=sr,_r=0;_r<this.length;_r++)this.words[_r]=this.words[_r+sr];else this.words[0]=0,this.length=1;var yr=0;for(_r=this.length-1;_r>=0&&(yr!==0||_r>=cr);_r--){var wr=this.words[_r]|0;this.words[_r]=yr<<26-fr|wr>>>fr,yr=wr&Yt}return ur&&yr!==0&&(ur.words[ur.length++]=yr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},Ct.prototype.ishrn=function(nr,rr,ar){return mt(this.negative===0),this.iushrn(nr,rr,ar)},Ct.prototype.shln=function(nr){return this.clone().ishln(nr)},Ct.prototype.ushln=function(nr){return this.clone().iushln(nr)},Ct.prototype.shrn=function(nr){return this.clone().ishrn(nr)},Ct.prototype.ushrn=function(nr){return this.clone().iushrn(nr)},Ct.prototype.testn=function(nr){mt(typeof nr=="number"&&nr>=0);var rr=nr%26,ar=(nr-rr)/26,cr=1<<rr;if(this.length<=ar)return!1;var fr=this.words[ar];return!!(fr&cr)},Ct.prototype.imaskn=function(nr){mt(typeof nr=="number"&&nr>=0);var rr=nr%26,ar=(nr-rr)/26;if(mt(this.negative===0,"imaskn works only with positive numbers"),this.length<=ar)return this;if(rr!==0&&ar++,this.length=Math.min(ar,this.length),rr!==0){var cr=67108863^67108863>>>rr<<rr;this.words[this.length-1]&=cr}return this._strip()},Ct.prototype.maskn=function(nr){return this.clone().imaskn(nr)},Ct.prototype.iaddn=function(nr){return mt(typeof nr=="number"),mt(nr<67108864),nr<0?this.isubn(-nr):this.negative!==0?this.length===1&&(this.words[0]|0)<=nr?(this.words[0]=nr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(nr),this.negative=1,this):this._iaddn(nr)},Ct.prototype._iaddn=function(nr){this.words[0]+=nr;for(var rr=0;rr<this.length&&this.words[rr]>=67108864;rr++)this.words[rr]-=67108864,rr===this.length-1?this.words[rr+1]=1:this.words[rr+1]++;return this.length=Math.max(this.length,rr+1),this},Ct.prototype.isubn=function(nr){if(mt(typeof nr=="number"),mt(nr<67108864),nr<0)return this.iaddn(-nr);if(this.negative!==0)return this.negative=0,this.iaddn(nr),this.negative=1,this;if(this.words[0]-=nr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var rr=0;rr<this.length&&this.words[rr]<0;rr++)this.words[rr]+=67108864,this.words[rr+1]-=1;return this._strip()},Ct.prototype.addn=function(nr){return this.clone().iaddn(nr)},Ct.prototype.subn=function(nr){return this.clone().isubn(nr)},Ct.prototype.iabs=function(){return this.negative=0,this},Ct.prototype.abs=function(){return this.clone().iabs()},Ct.prototype._ishlnsubmul=function(nr,rr,ar){var cr=nr.length+ar,fr;this._expand(cr);var sr,Yt=0;for(fr=0;fr<nr.length;fr++){sr=(this.words[fr+ar]|0)+Yt;var ur=(nr.words[fr]|0)*rr;sr-=ur&67108863,Yt=(sr>>26)-(ur/67108864|0),this.words[fr+ar]=sr&67108863}for(;fr<this.length-ar;fr++)sr=(this.words[fr+ar]|0)+Yt,Yt=sr>>26,this.words[fr+ar]=sr&67108863;if(Yt===0)return this._strip();for(mt(Yt===-1),Yt=0,fr=0;fr<this.length;fr++)sr=-(this.words[fr]|0)+Yt,Yt=sr>>26,this.words[fr]=sr&67108863;return this.negative=1,this._strip()},Ct.prototype._wordDiv=function(nr,rr){var ar=this.length-nr.length,cr=this.clone(),fr=nr,sr=fr.words[fr.length-1]|0,Yt=this._countBits(sr);ar=26-Yt,ar!==0&&(fr=fr.ushln(ar),cr.iushln(ar),sr=fr.words[fr.length-1]|0);var ur=cr.length-fr.length,_r;if(rr!=="mod"){_r=new Ct(null),_r.length=ur+1,_r.words=new Array(_r.length);for(var yr=0;yr<_r.length;yr++)_r.words[yr]=0}var wr=cr.clone()._ishlnsubmul(fr,1,ur);wr.negative===0&&(cr=wr,_r&&(_r.words[ur]=1));for(var Ir=ur-1;Ir>=0;Ir--){var Or=(cr.words[fr.length+Ir]|0)*67108864+(cr.words[fr.length+Ir-1]|0);for(Or=Math.min(Or/sr|0,67108863),cr._ishlnsubmul(fr,Or,Ir);cr.negative!==0;)Or--,cr.negative=0,cr._ishlnsubmul(fr,1,Ir),cr.isZero()||(cr.negative^=1);_r&&(_r.words[Ir]=Or)}return _r&&_r._strip(),cr._strip(),rr!=="div"&&ar!==0&&cr.iushrn(ar),{div:_r||null,mod:cr}},Ct.prototype.divmod=function(nr,rr,ar){if(mt(!nr.isZero()),this.isZero())return{div:new Ct(0),mod:new Ct(0)};var cr,fr,sr;return this.negative!==0&&nr.negative===0?(sr=this.neg().divmod(nr,rr),rr!=="mod"&&(cr=sr.div.neg()),rr!=="div"&&(fr=sr.mod.neg(),ar&&fr.negative!==0&&fr.iadd(nr)),{div:cr,mod:fr}):this.negative===0&&nr.negative!==0?(sr=this.divmod(nr.neg(),rr),rr!=="mod"&&(cr=sr.div.neg()),{div:cr,mod:sr.mod}):this.negative&nr.negative?(sr=this.neg().divmod(nr.neg(),rr),rr!=="div"&&(fr=sr.mod.neg(),ar&&fr.negative!==0&&fr.isub(nr)),{div:sr.div,mod:fr}):nr.length>this.length||this.cmp(nr)<0?{div:new Ct(0),mod:this}:nr.length===1?rr==="div"?{div:this.divn(nr.words[0]),mod:null}:rr==="mod"?{div:null,mod:new Ct(this.modrn(nr.words[0]))}:{div:this.divn(nr.words[0]),mod:new Ct(this.modrn(nr.words[0]))}:this._wordDiv(nr,rr)},Ct.prototype.div=function(nr){return this.divmod(nr,"div",!1).div},Ct.prototype.mod=function(nr){return this.divmod(nr,"mod",!1).mod},Ct.prototype.umod=function(nr){return this.divmod(nr,"mod",!0).mod},Ct.prototype.divRound=function(nr){var rr=this.divmod(nr);if(rr.mod.isZero())return rr.div;var ar=rr.div.negative!==0?rr.mod.isub(nr):rr.mod,cr=nr.ushrn(1),fr=nr.andln(1),sr=ar.cmp(cr);return sr<0||fr===1&&sr===0?rr.div:rr.div.negative!==0?rr.div.isubn(1):rr.div.iaddn(1)},Ct.prototype.modrn=function(nr){var rr=nr<0;rr&&(nr=-nr),mt(nr<=67108863);for(var ar=(1<<26)%nr,cr=0,fr=this.length-1;fr>=0;fr--)cr=(ar*cr+(this.words[fr]|0))%nr;return rr?-cr:cr},Ct.prototype.modn=function(nr){return this.modrn(nr)},Ct.prototype.idivn=function(nr){var rr=nr<0;rr&&(nr=-nr),mt(nr<=67108863);for(var ar=0,cr=this.length-1;cr>=0;cr--){var fr=(this.words[cr]|0)+ar*67108864;this.words[cr]=fr/nr|0,ar=fr%nr}return this._strip(),rr?this.ineg():this},Ct.prototype.divn=function(nr){return this.clone().idivn(nr)},Ct.prototype.egcd=function(nr){mt(nr.negative===0),mt(!nr.isZero());var rr=this,ar=nr.clone();rr.negative!==0?rr=rr.umod(nr):rr=rr.clone();for(var cr=new Ct(1),fr=new Ct(0),sr=new Ct(0),Yt=new Ct(1),ur=0;rr.isEven()&&ar.isEven();)rr.iushrn(1),ar.iushrn(1),++ur;for(var _r=ar.clone(),yr=rr.clone();!rr.isZero();){for(var wr=0,Ir=1;!(rr.words[0]&Ir)&&wr<26;++wr,Ir<<=1);if(wr>0)for(rr.iushrn(wr);wr-- >0;)(cr.isOdd()||fr.isOdd())&&(cr.iadd(_r),fr.isub(yr)),cr.iushrn(1),fr.iushrn(1);for(var Or=0,Ar=1;!(ar.words[0]&Ar)&&Or<26;++Or,Ar<<=1);if(Or>0)for(ar.iushrn(Or);Or-- >0;)(sr.isOdd()||Yt.isOdd())&&(sr.iadd(_r),Yt.isub(yr)),sr.iushrn(1),Yt.iushrn(1);rr.cmp(ar)>=0?(rr.isub(ar),cr.isub(sr),fr.isub(Yt)):(ar.isub(rr),sr.isub(cr),Yt.isub(fr))}return{a:sr,b:Yt,gcd:ar.iushln(ur)}},Ct.prototype._invmp=function(nr){mt(nr.negative===0),mt(!nr.isZero());var rr=this,ar=nr.clone();rr.negative!==0?rr=rr.umod(nr):rr=rr.clone();for(var cr=new Ct(1),fr=new Ct(0),sr=ar.clone();rr.cmpn(1)>0&&ar.cmpn(1)>0;){for(var Yt=0,ur=1;!(rr.words[0]&ur)&&Yt<26;++Yt,ur<<=1);if(Yt>0)for(rr.iushrn(Yt);Yt-- >0;)cr.isOdd()&&cr.iadd(sr),cr.iushrn(1);for(var _r=0,yr=1;!(ar.words[0]&yr)&&_r<26;++_r,yr<<=1);if(_r>0)for(ar.iushrn(_r);_r-- >0;)fr.isOdd()&&fr.iadd(sr),fr.iushrn(1);rr.cmp(ar)>=0?(rr.isub(ar),cr.isub(fr)):(ar.isub(rr),fr.isub(cr))}var wr;return rr.cmpn(1)===0?wr=cr:wr=fr,wr.cmpn(0)<0&&wr.iadd(nr),wr},Ct.prototype.gcd=function(nr){if(this.isZero())return nr.abs();if(nr.isZero())return this.abs();var rr=this.clone(),ar=nr.clone();rr.negative=0,ar.negative=0;for(var cr=0;rr.isEven()&&ar.isEven();cr++)rr.iushrn(1),ar.iushrn(1);do{for(;rr.isEven();)rr.iushrn(1);for(;ar.isEven();)ar.iushrn(1);var fr=rr.cmp(ar);if(fr<0){var sr=rr;rr=ar,ar=sr}else if(fr===0||ar.cmpn(1)===0)break;rr.isub(ar)}while(!0);return ar.iushln(cr)},Ct.prototype.invm=function(nr){return this.egcd(nr).a.umod(nr)},Ct.prototype.isEven=function(){return(this.words[0]&1)===0},Ct.prototype.isOdd=function(){return(this.words[0]&1)===1},Ct.prototype.andln=function(nr){return this.words[0]&nr},Ct.prototype.bincn=function(nr){mt(typeof nr=="number");var rr=nr%26,ar=(nr-rr)/26,cr=1<<rr;if(this.length<=ar)return this._expand(ar+1),this.words[ar]|=cr,this;for(var fr=cr,sr=ar;fr!==0&&sr<this.length;sr++){var Yt=this.words[sr]|0;Yt+=fr,fr=Yt>>>26,Yt&=67108863,this.words[sr]=Yt}return fr!==0&&(this.words[sr]=fr,this.length++),this},Ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ct.prototype.cmpn=function(nr){var rr=nr<0;if(this.negative!==0&&!rr)return-1;if(this.negative===0&&rr)return 1;this._strip();var ar;if(this.length>1)ar=1;else{rr&&(nr=-nr),mt(nr<=67108863,"Number is too big");var cr=this.words[0]|0;ar=cr===nr?0:cr<nr?-1:1}return this.negative!==0?-ar|0:ar},Ct.prototype.cmp=function(nr){if(this.negative!==0&&nr.negative===0)return-1;if(this.negative===0&&nr.negative!==0)return 1;var rr=this.ucmp(nr);return this.negative!==0?-rr|0:rr},Ct.prototype.ucmp=function(nr){if(this.length>nr.length)return 1;if(this.length<nr.length)return-1;for(var rr=0,ar=this.length-1;ar>=0;ar--){var cr=this.words[ar]|0,fr=nr.words[ar]|0;if(cr!==fr){cr<fr?rr=-1:cr>fr&&(rr=1);break}}return rr},Ct.prototype.gtn=function(nr){return this.cmpn(nr)===1},Ct.prototype.gt=function(nr){return this.cmp(nr)===1},Ct.prototype.gten=function(nr){return this.cmpn(nr)>=0},Ct.prototype.gte=function(nr){return this.cmp(nr)>=0},Ct.prototype.ltn=function(nr){return this.cmpn(nr)===-1},Ct.prototype.lt=function(nr){return this.cmp(nr)===-1},Ct.prototype.lten=function(nr){return this.cmpn(nr)<=0},Ct.prototype.lte=function(nr){return this.cmp(nr)<=0},Ct.prototype.eqn=function(nr){return this.cmpn(nr)===0},Ct.prototype.eq=function(nr){return this.cmp(nr)===0},Ct.red=function(nr){return new gr(nr)},Ct.prototype.toRed=function(nr){return mt(!this.red,"Already a number in reduction context"),mt(this.negative===0,"red works only with positives"),nr.convertTo(this)._forceRed(nr)},Ct.prototype.fromRed=function(){return mt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ct.prototype._forceRed=function(nr){return this.red=nr,this},Ct.prototype.forceRed=function(nr){return mt(!this.red,"Already a number in reduction context"),this._forceRed(nr)},Ct.prototype.redAdd=function(nr){return mt(this.red,"redAdd works only with red numbers"),this.red.add(this,nr)},Ct.prototype.redIAdd=function(nr){return mt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,nr)},Ct.prototype.redSub=function(nr){return mt(this.red,"redSub works only with red numbers"),this.red.sub(this,nr)},Ct.prototype.redISub=function(nr){return mt(this.red,"redISub works only with red numbers"),this.red.isub(this,nr)},Ct.prototype.redShl=function(nr){return mt(this.red,"redShl works only with red numbers"),this.red.shl(this,nr)},Ct.prototype.redMul=function(nr){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,nr),this.red.mul(this,nr)},Ct.prototype.redIMul=function(nr){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,nr),this.red.imul(this,nr)},Ct.prototype.redSqr=function(){return mt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ct.prototype.redISqr=function(){return mt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ct.prototype.redSqrt=function(){return mt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ct.prototype.redInvm=function(){return mt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ct.prototype.redNeg=function(){return mt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ct.prototype.redPow=function(nr){return mt(this.red&&!nr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,nr)};var xr={k256:null,p224:null,p192:null,p25519:null};function Sr(tr,nr){this.name=tr,this.p=new Ct(nr,16),this.n=this.p.bitLength(),this.k=new Ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Sr.prototype._tmp=function(){var nr=new Ct(null);return nr.words=new Array(Math.ceil(this.n/13)),nr},Sr.prototype.ireduce=function(nr){var rr=nr,ar;do this.split(rr,this.tmp),rr=this.imulK(rr),rr=rr.iadd(this.tmp),ar=rr.bitLength();while(ar>this.n);var cr=ar<this.n?-1:rr.ucmp(this.p);return cr===0?(rr.words[0]=0,rr.length=1):cr>0?rr.isub(this.p):rr.strip!==void 0?rr.strip():rr._strip(),rr},Sr.prototype.split=function(nr,rr){nr.iushrn(this.n,0,rr)},Sr.prototype.imulK=function(nr){return nr.imul(this.k)};function Er(){Sr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$t(Er,Sr),Er.prototype.split=function(nr,rr){for(var ar=4194303,cr=Math.min(nr.length,9),fr=0;fr<cr;fr++)rr.words[fr]=nr.words[fr];if(rr.length=cr,nr.length<=9){nr.words[0]=0,nr.length=1;return}var sr=nr.words[9];for(rr.words[rr.length++]=sr&ar,fr=10;fr<nr.length;fr++){var Yt=nr.words[fr]|0;nr.words[fr-10]=(Yt&ar)<<4|sr>>>22,sr=Yt}sr>>>=22,nr.words[fr-10]=sr,sr===0&&nr.length>10?nr.length-=10:nr.length-=9},Er.prototype.imulK=function(nr){nr.words[nr.length]=0,nr.words[nr.length+1]=0,nr.length+=2;for(var rr=0,ar=0;ar<nr.length;ar++){var cr=nr.words[ar]|0;rr+=cr*977,nr.words[ar]=rr&67108863,rr=cr*64+(rr/67108864|0)}return nr.words[nr.length-1]===0&&(nr.length--,nr.words[nr.length-1]===0&&nr.length--),nr};function $r(){Sr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$t($r,Sr);function Cr(){Sr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$t(Cr,Sr);function kr(){Sr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$t(kr,Sr),kr.prototype.imulK=function(nr){for(var rr=0,ar=0;ar<nr.length;ar++){var cr=(nr.words[ar]|0)*19+rr,fr=cr&67108863;cr>>>=26,nr.words[ar]=fr,rr=cr}return rr!==0&&(nr.words[nr.length++]=rr),nr},Ct._prime=function(nr){if(xr[nr])return xr[nr];var rr;if(nr==="k256")rr=new Er;else if(nr==="p224")rr=new $r;else if(nr==="p192")rr=new Cr;else if(nr==="p25519")rr=new kr;else throw new Error("Unknown prime "+nr);return xr[nr]=rr,rr};function gr(tr){if(typeof tr=="string"){var nr=Ct._prime(tr);this.m=nr.p,this.prime=nr}else mt(tr.gtn(1),"modulus must be greater than 1"),this.m=tr,this.prime=null}gr.prototype._verify1=function(nr){mt(nr.negative===0,"red works only with positives"),mt(nr.red,"red works only with red numbers")},gr.prototype._verify2=function(nr,rr){mt((nr.negative|rr.negative)===0,"red works only with positives"),mt(nr.red&&nr.red===rr.red,"red works only with red numbers")},gr.prototype.imod=function(nr){return this.prime?this.prime.ireduce(nr)._forceRed(this):(Lt(nr,nr.umod(this.m)._forceRed(this)),nr)},gr.prototype.neg=function(nr){return nr.isZero()?nr.clone():this.m.sub(nr)._forceRed(this)},gr.prototype.add=function(nr,rr){this._verify2(nr,rr);var ar=nr.add(rr);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar._forceRed(this)},gr.prototype.iadd=function(nr,rr){this._verify2(nr,rr);var ar=nr.iadd(rr);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar},gr.prototype.sub=function(nr,rr){this._verify2(nr,rr);var ar=nr.sub(rr);return ar.cmpn(0)<0&&ar.iadd(this.m),ar._forceRed(this)},gr.prototype.isub=function(nr,rr){this._verify2(nr,rr);var ar=nr.isub(rr);return ar.cmpn(0)<0&&ar.iadd(this.m),ar},gr.prototype.shl=function(nr,rr){return this._verify1(nr),this.imod(nr.ushln(rr))},gr.prototype.imul=function(nr,rr){return this._verify2(nr,rr),this.imod(nr.imul(rr))},gr.prototype.mul=function(nr,rr){return this._verify2(nr,rr),this.imod(nr.mul(rr))},gr.prototype.isqr=function(nr){return this.imul(nr,nr.clone())},gr.prototype.sqr=function(nr){return this.mul(nr,nr)},gr.prototype.sqrt=function(nr){if(nr.isZero())return nr.clone();var rr=this.m.andln(3);if(mt(rr%2===1),rr===3){var ar=this.m.add(new Ct(1)).iushrn(2);return this.pow(nr,ar)}for(var cr=this.m.subn(1),fr=0;!cr.isZero()&&cr.andln(1)===0;)fr++,cr.iushrn(1);mt(!cr.isZero());var sr=new Ct(1).toRed(this),Yt=sr.redNeg(),ur=this.m.subn(1).iushrn(1),_r=this.m.bitLength();for(_r=new Ct(2*_r*_r).toRed(this);this.pow(_r,ur).cmp(Yt)!==0;)_r.redIAdd(Yt);for(var yr=this.pow(_r,cr),wr=this.pow(nr,cr.addn(1).iushrn(1)),Ir=this.pow(nr,cr),Or=fr;Ir.cmp(sr)!==0;){for(var Ar=Ir,Nr=0;Ar.cmp(sr)!==0;Nr++)Ar=Ar.redSqr();mt(Nr<Or);var Hr=this.pow(yr,new Ct(1).iushln(Or-Nr-1));wr=wr.redMul(Hr),yr=Hr.redSqr(),Ir=Ir.redMul(yr),Or=Nr}return wr},gr.prototype.invm=function(nr){var rr=nr._invmp(this.m);return rr.negative!==0?(rr.negative=0,this.imod(rr).redNeg()):this.imod(rr)},gr.prototype.pow=function(nr,rr){if(rr.isZero())return new Ct(1).toRed(this);if(rr.cmpn(1)===0)return nr.clone();var ar=4,cr=new Array(1<<ar);cr[0]=new Ct(1).toRed(this),cr[1]=nr;for(var fr=2;fr<cr.length;fr++)cr[fr]=this.mul(cr[fr-1],nr);var sr=cr[0],Yt=0,ur=0,_r=rr.bitLength()%26;for(_r===0&&(_r=26),fr=rr.length-1;fr>=0;fr--){for(var yr=rr.words[fr],wr=_r-1;wr>=0;wr--){var Ir=yr>>wr&1;if(sr!==cr[0]&&(sr=this.sqr(sr)),Ir===0&&Yt===0){ur=0;continue}Yt<<=1,Yt|=Ir,ur++,!(ur!==ar&&(fr!==0||wr!==0))&&(sr=this.mul(sr,cr[Yt]),ur=0,Yt=0)}_r=26}return sr},gr.prototype.convertTo=function(nr){var rr=nr.umod(this.m);return rr===nr?rr.clone():rr},gr.prototype.convertFrom=function(nr){var rr=nr.clone();return rr.red=null,rr},Ct.mont=function(nr){return new Ut(nr)};function Ut(tr){gr.call(this,tr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$t(Ut,gr),Ut.prototype.convertTo=function(nr){return this.imod(nr.ushln(this.shift))},Ut.prototype.convertFrom=function(nr){var rr=this.imod(nr.mul(this.rinv));return rr.red=null,rr},Ut.prototype.imul=function(nr,rr){if(nr.isZero()||rr.isZero())return nr.words[0]=0,nr.length=1,nr;var ar=nr.imul(rr),cr=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),fr=ar.isub(cr).iushrn(this.shift),sr=fr;return fr.cmp(this.m)>=0?sr=fr.isub(this.m):fr.cmpn(0)<0&&(sr=fr.iadd(this.m)),sr._forceRed(this)},Ut.prototype.mul=function(nr,rr){if(nr.isZero()||rr.isZero())return new Ct(0)._forceRed(this);var ar=nr.mul(rr),cr=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),fr=ar.isub(cr).iushrn(this.shift),sr=fr;return fr.cmp(this.m)>=0?sr=fr.isub(this.m):fr.cmpn(0)<0&&(sr=fr.iadd(this.m)),sr._forceRed(this)},Ut.prototype.invm=function(nr){var rr=this.imod(nr._invmp(this.m).mul(this.r2));return rr._forceRed(this)}})(nt,commonjsGlobal$1)})(bn$5);var bnExports=bn$5.exports;const BN=getDefaultExportFromCjs$2(bnExports);var safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}Ct.prototype=Object.create(mt.prototype),$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var nt=bnExports,et=requireBrowser$b(),at=requireSafeBuffer$1().Buffer;function mt(Dt){var Ft=Dt.modulus.byteLength(),Nt;do Nt=new nt(et(Ft));while(Nt.cmp(Dt.modulus)>=0||!Nt.umod(Dt.prime1)||!Nt.umod(Dt.prime2));return Nt}function $t(Dt){var Ft=mt(Dt),Nt=Ft.toRed(nt.mont(Dt.modulus)).redPow(new nt(Dt.publicExponent)).fromRed();return{blinder:Nt,unblinder:Ft.invm(Dt.modulus)}}function Ct(Dt,Ft){var Nt=$t(Ft),jt=Ft.modulus.byteLength(),Lt=new nt(Dt).mul(Nt.blinder).umod(Ft.modulus),Vt=Lt.toRed(nt.mont(Ft.prime1)),er=Lt.toRed(nt.mont(Ft.prime2)),ir=Ft.coefficient,or=Ft.prime1,lr=Ft.prime2,dr=Vt.redPow(Ft.exponent1).fromRed(),pr=er.redPow(Ft.exponent2).fromRed(),hr=dr.isub(pr).imul(ir).umod(or).imul(lr);return pr.iadd(hr).imul(Nt.unblinder).umod(Ft.modulus).toArrayLike(at,"be",jt)}return Ct.getr=mt,browserifyRsa=Ct,browserifyRsa}var elliptic={};const name="elliptic",version$2="6.6.1",description="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$2={name,version:version$2,description,main:main$1,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$5={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(nt){(function(et,at){function mt(gr,Ut){if(!gr)throw new Error(Ut||"Assertion failed")}function $t(gr,Ut){gr.super_=Ut;var tr=function(){};tr.prototype=Ut.prototype,gr.prototype=new tr,gr.prototype.constructor=gr}function Ct(gr,Ut,tr){if(Ct.isBN(gr))return gr;this.negative=0,this.words=null,this.length=0,this.red=null,gr!==null&&((Ut==="le"||Ut==="be")&&(tr=Ut,Ut=10),this._init(gr||0,Ut||10,tr||"be"))}typeof et=="object"?et.exports=Ct:at.BN=Ct,Ct.BN=Ct,Ct.wordSize=26;var Dt;try{typeof window<"u"&&typeof window.Buffer<"u"?Dt=window.Buffer:Dt=require$$2$1.Buffer}catch{}Ct.isBN=function(Ut){return Ut instanceof Ct?!0:Ut!==null&&typeof Ut=="object"&&Ut.constructor.wordSize===Ct.wordSize&&Array.isArray(Ut.words)},Ct.max=function(Ut,tr){return Ut.cmp(tr)>0?Ut:tr},Ct.min=function(Ut,tr){return Ut.cmp(tr)<0?Ut:tr},Ct.prototype._init=function(Ut,tr,nr){if(typeof Ut=="number")return this._initNumber(Ut,tr,nr);if(typeof Ut=="object")return this._initArray(Ut,tr,nr);tr==="hex"&&(tr=16),mt(tr===(tr|0)&&tr>=2&&tr<=36),Ut=Ut.toString().replace(/\s+/g,"");var rr=0;Ut[0]==="-"&&(rr++,this.negative=1),rr<Ut.length&&(tr===16?this._parseHex(Ut,rr,nr):(this._parseBase(Ut,tr,rr),nr==="le"&&this._initArray(this.toArray(),tr,nr)))},Ct.prototype._initNumber=function(Ut,tr,nr){Ut<0&&(this.negative=1,Ut=-Ut),Ut<67108864?(this.words=[Ut&67108863],this.length=1):Ut<4503599627370496?(this.words=[Ut&67108863,Ut/67108864&67108863],this.length=2):(mt(Ut<9007199254740992),this.words=[Ut&67108863,Ut/67108864&67108863,1],this.length=3),nr==="le"&&this._initArray(this.toArray(),tr,nr)},Ct.prototype._initArray=function(Ut,tr,nr){if(mt(typeof Ut.length=="number"),Ut.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ut.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar,cr,fr=0;if(nr==="be")for(rr=Ut.length-1,ar=0;rr>=0;rr-=3)cr=Ut[rr]|Ut[rr-1]<<8|Ut[rr-2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);else if(nr==="le")for(rr=0,ar=0;rr<Ut.length;rr+=3)cr=Ut[rr]|Ut[rr+1]<<8|Ut[rr+2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);return this.strip()};function Ft(gr,Ut){var tr=gr.charCodeAt(Ut);return tr>=65&&tr<=70?tr-55:tr>=97&&tr<=102?tr-87:tr-48&15}function Nt(gr,Ut,tr){var nr=Ft(gr,tr);return tr-1>=Ut&&(nr|=Ft(gr,tr-1)<<4),nr}Ct.prototype._parseHex=function(Ut,tr,nr){this.length=Math.ceil((Ut.length-tr)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar=0,cr=0,fr;if(nr==="be")for(rr=Ut.length-1;rr>=tr;rr-=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8;else{var sr=Ut.length-tr;for(rr=sr%2===0?tr+1:tr;rr<Ut.length;rr+=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8}this.strip()};function jt(gr,Ut,tr,nr){for(var rr=0,ar=Math.min(gr.length,tr),cr=Ut;cr<ar;cr++){var fr=gr.charCodeAt(cr)-48;rr*=nr,fr>=49?rr+=fr-49+10:fr>=17?rr+=fr-17+10:rr+=fr}return rr}Ct.prototype._parseBase=function(Ut,tr,nr){this.words=[0],this.length=1;for(var rr=0,ar=1;ar<=67108863;ar*=tr)rr++;rr--,ar=ar/tr|0;for(var cr=Ut.length-nr,fr=cr%rr,sr=Math.min(cr,cr-fr)+nr,Yt=0,ur=nr;ur<sr;ur+=rr)Yt=jt(Ut,ur,ur+rr,tr),this.imuln(ar),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt);if(fr!==0){var _r=1;for(Yt=jt(Ut,ur,Ut.length,tr),ur=0;ur<fr;ur++)_r*=tr;this.imuln(_r),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt)}this.strip()},Ct.prototype.copy=function(Ut){Ut.words=new Array(this.length);for(var tr=0;tr<this.length;tr++)Ut.words[tr]=this.words[tr];Ut.length=this.length,Ut.negative=this.negative,Ut.red=this.red},Ct.prototype.clone=function(){var Ut=new Ct(null);return this.copy(Ut),Ut},Ct.prototype._expand=function(Ut){for(;this.length<Ut;)this.words[this.length++]=0;return this},Ct.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ct.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],er=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ct.prototype.toString=function(Ut,tr){Ut=Ut||10,tr=tr|0||1;var nr;if(Ut===16||Ut==="hex"){nr="";for(var rr=0,ar=0,cr=0;cr<this.length;cr++){var fr=this.words[cr],sr=((fr<<rr|ar)&16777215).toString(16);ar=fr>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,cr--),ar!==0||cr!==this.length-1?nr=Lt[6-sr.length]+sr+nr:nr=sr+nr}for(ar!==0&&(nr=ar.toString(16)+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}if(Ut===(Ut|0)&&Ut>=2&&Ut<=36){var Yt=Vt[Ut],ur=er[Ut];nr="";var _r=this.clone();for(_r.negative=0;!_r.isZero();){var yr=_r.modn(ur).toString(Ut);_r=_r.idivn(ur),_r.isZero()?nr=yr+nr:nr=Lt[Yt-yr.length]+yr+nr}for(this.isZero()&&(nr="0"+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}mt(!1,"Base should be between 2 and 36")},Ct.prototype.toNumber=function(){var Ut=this.words[0];return this.length===2?Ut+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ut+=4503599627370496+this.words[1]*67108864:this.length>2&&mt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ut:Ut},Ct.prototype.toJSON=function(){return this.toString(16)},Ct.prototype.toBuffer=function(Ut,tr){return mt(typeof Dt<"u"),this.toArrayLike(Dt,Ut,tr)},Ct.prototype.toArray=function(Ut,tr){return this.toArrayLike(Array,Ut,tr)},Ct.prototype.toArrayLike=function(Ut,tr,nr){var rr=this.byteLength(),ar=nr||Math.max(1,rr);mt(rr<=ar,"byte array longer than desired length"),mt(ar>0,"Requested array length <= 0"),this.strip();var cr=tr==="le",fr=new Ut(ar),sr,Yt,ur=this.clone();if(cr){for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[Yt]=sr;for(;Yt<ar;Yt++)fr[Yt]=0}else{for(Yt=0;Yt<ar-rr;Yt++)fr[Yt]=0;for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[ar-Yt-1]=sr}return fr},Math.clz32?Ct.prototype._countBits=function(Ut){return 32-Math.clz32(Ut)}:Ct.prototype._countBits=function(Ut){var tr=Ut,nr=0;return tr>=4096&&(nr+=13,tr>>>=13),tr>=64&&(nr+=7,tr>>>=7),tr>=8&&(nr+=4,tr>>>=4),tr>=2&&(nr+=2,tr>>>=2),nr+tr},Ct.prototype._zeroBits=function(Ut){if(Ut===0)return 26;var tr=Ut,nr=0;return tr&8191||(nr+=13,tr>>>=13),tr&127||(nr+=7,tr>>>=7),tr&15||(nr+=4,tr>>>=4),tr&3||(nr+=2,tr>>>=2),tr&1||nr++,nr},Ct.prototype.bitLength=function(){var Ut=this.words[this.length-1],tr=this._countBits(Ut);return(this.length-1)*26+tr};function ir(gr){for(var Ut=new Array(gr.bitLength()),tr=0;tr<Ut.length;tr++){var nr=tr/26|0,rr=tr%26;Ut[tr]=(gr.words[nr]&1<<rr)>>>rr}return Ut}Ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ut=0,tr=0;tr<this.length;tr++){var nr=this._zeroBits(this.words[tr]);if(Ut+=nr,nr!==26)break}return Ut},Ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ct.prototype.toTwos=function(Ut){return this.negative!==0?this.abs().inotn(Ut).iaddn(1):this.clone()},Ct.prototype.fromTwos=function(Ut){return this.testn(Ut-1)?this.notn(Ut).iaddn(1).ineg():this.clone()},Ct.prototype.isNeg=function(){return this.negative!==0},Ct.prototype.neg=function(){return this.clone().ineg()},Ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ct.prototype.iuor=function(Ut){for(;this.length<Ut.length;)this.words[this.length++]=0;for(var tr=0;tr<Ut.length;tr++)this.words[tr]=this.words[tr]|Ut.words[tr];return this.strip()},Ct.prototype.ior=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuor(Ut)},Ct.prototype.or=function(Ut){return this.length>Ut.length?this.clone().ior(Ut):Ut.clone().ior(this)},Ct.prototype.uor=function(Ut){return this.length>Ut.length?this.clone().iuor(Ut):Ut.clone().iuor(this)},Ct.prototype.iuand=function(Ut){var tr;this.length>Ut.length?tr=Ut:tr=this;for(var nr=0;nr<tr.length;nr++)this.words[nr]=this.words[nr]&Ut.words[nr];return this.length=tr.length,this.strip()},Ct.prototype.iand=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuand(Ut)},Ct.prototype.and=function(Ut){return this.length>Ut.length?this.clone().iand(Ut):Ut.clone().iand(this)},Ct.prototype.uand=function(Ut){return this.length>Ut.length?this.clone().iuand(Ut):Ut.clone().iuand(this)},Ct.prototype.iuxor=function(Ut){var tr,nr;this.length>Ut.length?(tr=this,nr=Ut):(tr=Ut,nr=this);for(var rr=0;rr<nr.length;rr++)this.words[rr]=tr.words[rr]^nr.words[rr];if(this!==tr)for(;rr<tr.length;rr++)this.words[rr]=tr.words[rr];return this.length=tr.length,this.strip()},Ct.prototype.ixor=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuxor(Ut)},Ct.prototype.xor=function(Ut){return this.length>Ut.length?this.clone().ixor(Ut):Ut.clone().ixor(this)},Ct.prototype.uxor=function(Ut){return this.length>Ut.length?this.clone().iuxor(Ut):Ut.clone().iuxor(this)},Ct.prototype.inotn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Math.ceil(Ut/26)|0,nr=Ut%26;this._expand(tr),nr>0&&tr--;for(var rr=0;rr<tr;rr++)this.words[rr]=~this.words[rr]&67108863;return nr>0&&(this.words[rr]=~this.words[rr]&67108863>>26-nr),this.strip()},Ct.prototype.notn=function(Ut){return this.clone().inotn(Ut)},Ct.prototype.setn=function(Ut,tr){mt(typeof Ut=="number"&&Ut>=0);var nr=Ut/26|0,rr=Ut%26;return this._expand(nr+1),tr?this.words[nr]=this.words[nr]|1<<rr:this.words[nr]=this.words[nr]&~(1<<rr),this.strip()},Ct.prototype.iadd=function(Ut){var tr;if(this.negative!==0&&Ut.negative===0)return this.negative=0,tr=this.isub(Ut),this.negative^=1,this._normSign();if(this.negative===0&&Ut.negative!==0)return Ut.negative=0,tr=this.isub(Ut),Ut.negative=1,tr._normSign();var nr,rr;this.length>Ut.length?(nr=this,rr=Ut):(nr=Ut,rr=this);for(var ar=0,cr=0;cr<rr.length;cr++)tr=(nr.words[cr]|0)+(rr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;for(;ar!==0&&cr<nr.length;cr++)tr=(nr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;if(this.length=nr.length,ar!==0)this.words[this.length]=ar,this.length++;else if(nr!==this)for(;cr<nr.length;cr++)this.words[cr]=nr.words[cr];return this},Ct.prototype.add=function(Ut){var tr;return Ut.negative!==0&&this.negative===0?(Ut.negative=0,tr=this.sub(Ut),Ut.negative^=1,tr):Ut.negative===0&&this.negative!==0?(this.negative=0,tr=Ut.sub(this),this.negative=1,tr):this.length>Ut.length?this.clone().iadd(Ut):Ut.clone().iadd(this)},Ct.prototype.isub=function(Ut){if(Ut.negative!==0){Ut.negative=0;var tr=this.iadd(Ut);return Ut.negative=1,tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ut),this.negative=1,this._normSign();var nr=this.cmp(Ut);if(nr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,ar;nr>0?(rr=this,ar=Ut):(rr=Ut,ar=this);for(var cr=0,fr=0;fr<ar.length;fr++)tr=(rr.words[fr]|0)-(ar.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;for(;cr!==0&&fr<rr.length;fr++)tr=(rr.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;if(cr===0&&fr<rr.length&&rr!==this)for(;fr<rr.length;fr++)this.words[fr]=rr.words[fr];return this.length=Math.max(this.length,fr),rr!==this&&(this.negative=1),this.strip()},Ct.prototype.sub=function(Ut){return this.clone().isub(Ut)};function or(gr,Ut,tr){tr.negative=Ut.negative^gr.negative;var nr=gr.length+Ut.length|0;tr.length=nr,nr=nr-1|0;var rr=gr.words[0]|0,ar=Ut.words[0]|0,cr=rr*ar,fr=cr&67108863,sr=cr/67108864|0;tr.words[0]=fr;for(var Yt=1;Yt<nr;Yt++){for(var ur=sr>>>26,_r=sr&67108863,yr=Math.min(Yt,Ut.length-1),wr=Math.max(0,Yt-gr.length+1);wr<=yr;wr++){var Ir=Yt-wr|0;rr=gr.words[Ir]|0,ar=Ut.words[wr]|0,cr=rr*ar+_r,ur+=cr/67108864|0,_r=cr&67108863}tr.words[Yt]=_r|0,sr=ur|0}return sr!==0?tr.words[Yt]=sr|0:tr.length--,tr.strip()}var lr=function(Ut,tr,nr){var rr=Ut.words,ar=tr.words,cr=nr.words,fr=0,sr,Yt,ur,_r=rr[0]|0,yr=_r&8191,wr=_r>>>13,Ir=rr[1]|0,Or=Ir&8191,Ar=Ir>>>13,Nr=rr[2]|0,Hr=Nr&8191,Pr=Nr>>>13,Dr=rr[3]|0,Rr=Dr&8191,Vr=Dr>>>13,an=rr[4]|0,Xr=an&8191,Jr=an>>>13,Zr=rr[5]|0,Gr=Zr&8191,zr=Zr>>>13,Dn=rr[6]|0,Qr=Dn&8191,Un=Dn>>>13,ro=rr[7]|0,Hn=ro&8191,Qn=ro>>>13,$o=rr[8]|0,Kn=$o&8191,_i=$o>>>13,Lo=rr[9]|0,jr=Lo&8191,Tr=Lo>>>13,Fr=ar[0]|0,Wr=Fr&8191,sn=Fr>>>13,Jn=ar[1]|0,Nn=Jn&8191,Zn=Jn>>>13,Io=ar[2]|0,ga=Io&8191,ba=Io>>>13,Bo=ar[3]|0,io=Bo&8191,so=Bo>>>13,zo=ar[4]|0,eo=zo&8191,oo=zo>>>13,Ho=ar[5]|0,no=Ho&8191,ao=Ho>>>13,Gn=ar[6]|0,dn=Gn&8191,Ln=Gn>>>13,Br=ar[7]|0,Lr=Br&8191,qr=Br>>>13,Mr=ar[8]|0,Ur=Mr&8191,rn=Mr>>>13,zn=ar[9]|0,pn=zn&8191,Vn=zn>>>13;nr.negative=Ut.negative^tr.negative,nr.length=19,sr=Math.imul(yr,Wr),Yt=Math.imul(yr,sn),Yt=Yt+Math.imul(wr,Wr)|0,ur=Math.imul(wr,sn);var co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(co>>>26)|0,co&=67108863,sr=Math.imul(Or,Wr),Yt=Math.imul(Or,sn),Yt=Yt+Math.imul(Ar,Wr)|0,ur=Math.imul(Ar,sn),sr=sr+Math.imul(yr,Nn)|0,Yt=Yt+Math.imul(yr,Zn)|0,Yt=Yt+Math.imul(wr,Nn)|0,ur=ur+Math.imul(wr,Zn)|0;var uo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(uo>>>26)|0,uo&=67108863,sr=Math.imul(Hr,Wr),Yt=Math.imul(Hr,sn),Yt=Yt+Math.imul(Pr,Wr)|0,ur=Math.imul(Pr,sn),sr=sr+Math.imul(Or,Nn)|0,Yt=Yt+Math.imul(Or,Zn)|0,Yt=Yt+Math.imul(Ar,Nn)|0,ur=ur+Math.imul(Ar,Zn)|0,sr=sr+Math.imul(yr,ga)|0,Yt=Yt+Math.imul(yr,ba)|0,Yt=Yt+Math.imul(wr,ga)|0,ur=ur+Math.imul(wr,ba)|0;var Eo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,sr=Math.imul(Rr,Wr),Yt=Math.imul(Rr,sn),Yt=Yt+Math.imul(Vr,Wr)|0,ur=Math.imul(Vr,sn),sr=sr+Math.imul(Hr,Nn)|0,Yt=Yt+Math.imul(Hr,Zn)|0,Yt=Yt+Math.imul(Pr,Nn)|0,ur=ur+Math.imul(Pr,Zn)|0,sr=sr+Math.imul(Or,ga)|0,Yt=Yt+Math.imul(Or,ba)|0,Yt=Yt+Math.imul(Ar,ga)|0,ur=ur+Math.imul(Ar,ba)|0,sr=sr+Math.imul(yr,io)|0,Yt=Yt+Math.imul(yr,so)|0,Yt=Yt+Math.imul(wr,io)|0,ur=ur+Math.imul(wr,so)|0;var ho=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ho>>>26)|0,ho&=67108863,sr=Math.imul(Xr,Wr),Yt=Math.imul(Xr,sn),Yt=Yt+Math.imul(Jr,Wr)|0,ur=Math.imul(Jr,sn),sr=sr+Math.imul(Rr,Nn)|0,Yt=Yt+Math.imul(Rr,Zn)|0,Yt=Yt+Math.imul(Vr,Nn)|0,ur=ur+Math.imul(Vr,Zn)|0,sr=sr+Math.imul(Hr,ga)|0,Yt=Yt+Math.imul(Hr,ba)|0,Yt=Yt+Math.imul(Pr,ga)|0,ur=ur+Math.imul(Pr,ba)|0,sr=sr+Math.imul(Or,io)|0,Yt=Yt+Math.imul(Or,so)|0,Yt=Yt+Math.imul(Ar,io)|0,ur=ur+Math.imul(Ar,so)|0,sr=sr+Math.imul(yr,eo)|0,Yt=Yt+Math.imul(yr,oo)|0,Yt=Yt+Math.imul(wr,eo)|0,ur=ur+Math.imul(wr,oo)|0;var Co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Co>>>26)|0,Co&=67108863,sr=Math.imul(Gr,Wr),Yt=Math.imul(Gr,sn),Yt=Yt+Math.imul(zr,Wr)|0,ur=Math.imul(zr,sn),sr=sr+Math.imul(Xr,Nn)|0,Yt=Yt+Math.imul(Xr,Zn)|0,Yt=Yt+Math.imul(Jr,Nn)|0,ur=ur+Math.imul(Jr,Zn)|0,sr=sr+Math.imul(Rr,ga)|0,Yt=Yt+Math.imul(Rr,ba)|0,Yt=Yt+Math.imul(Vr,ga)|0,ur=ur+Math.imul(Vr,ba)|0,sr=sr+Math.imul(Hr,io)|0,Yt=Yt+Math.imul(Hr,so)|0,Yt=Yt+Math.imul(Pr,io)|0,ur=ur+Math.imul(Pr,so)|0,sr=sr+Math.imul(Or,eo)|0,Yt=Yt+Math.imul(Or,oo)|0,Yt=Yt+Math.imul(Ar,eo)|0,ur=ur+Math.imul(Ar,oo)|0,sr=sr+Math.imul(yr,no)|0,Yt=Yt+Math.imul(yr,ao)|0,Yt=Yt+Math.imul(wr,no)|0,ur=ur+Math.imul(wr,ao)|0;var Po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Po>>>26)|0,Po&=67108863,sr=Math.imul(Qr,Wr),Yt=Math.imul(Qr,sn),Yt=Yt+Math.imul(Un,Wr)|0,ur=Math.imul(Un,sn),sr=sr+Math.imul(Gr,Nn)|0,Yt=Yt+Math.imul(Gr,Zn)|0,Yt=Yt+Math.imul(zr,Nn)|0,ur=ur+Math.imul(zr,Zn)|0,sr=sr+Math.imul(Xr,ga)|0,Yt=Yt+Math.imul(Xr,ba)|0,Yt=Yt+Math.imul(Jr,ga)|0,ur=ur+Math.imul(Jr,ba)|0,sr=sr+Math.imul(Rr,io)|0,Yt=Yt+Math.imul(Rr,so)|0,Yt=Yt+Math.imul(Vr,io)|0,ur=ur+Math.imul(Vr,so)|0,sr=sr+Math.imul(Hr,eo)|0,Yt=Yt+Math.imul(Hr,oo)|0,Yt=Yt+Math.imul(Pr,eo)|0,ur=ur+Math.imul(Pr,oo)|0,sr=sr+Math.imul(Or,no)|0,Yt=Yt+Math.imul(Or,ao)|0,Yt=Yt+Math.imul(Ar,no)|0,ur=ur+Math.imul(Ar,ao)|0,sr=sr+Math.imul(yr,dn)|0,Yt=Yt+Math.imul(yr,Ln)|0,Yt=Yt+Math.imul(wr,dn)|0,ur=ur+Math.imul(wr,Ln)|0;var Fo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,sr=Math.imul(Hn,Wr),Yt=Math.imul(Hn,sn),Yt=Yt+Math.imul(Qn,Wr)|0,ur=Math.imul(Qn,sn),sr=sr+Math.imul(Qr,Nn)|0,Yt=Yt+Math.imul(Qr,Zn)|0,Yt=Yt+Math.imul(Un,Nn)|0,ur=ur+Math.imul(Un,Zn)|0,sr=sr+Math.imul(Gr,ga)|0,Yt=Yt+Math.imul(Gr,ba)|0,Yt=Yt+Math.imul(zr,ga)|0,ur=ur+Math.imul(zr,ba)|0,sr=sr+Math.imul(Xr,io)|0,Yt=Yt+Math.imul(Xr,so)|0,Yt=Yt+Math.imul(Jr,io)|0,ur=ur+Math.imul(Jr,so)|0,sr=sr+Math.imul(Rr,eo)|0,Yt=Yt+Math.imul(Rr,oo)|0,Yt=Yt+Math.imul(Vr,eo)|0,ur=ur+Math.imul(Vr,oo)|0,sr=sr+Math.imul(Hr,no)|0,Yt=Yt+Math.imul(Hr,ao)|0,Yt=Yt+Math.imul(Pr,no)|0,ur=ur+Math.imul(Pr,ao)|0,sr=sr+Math.imul(Or,dn)|0,Yt=Yt+Math.imul(Or,Ln)|0,Yt=Yt+Math.imul(Ar,dn)|0,ur=ur+Math.imul(Ar,Ln)|0,sr=sr+Math.imul(yr,Lr)|0,Yt=Yt+Math.imul(yr,qr)|0,Yt=Yt+Math.imul(wr,Lr)|0,ur=ur+Math.imul(wr,qr)|0;var Do=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Do>>>26)|0,Do&=67108863,sr=Math.imul(Kn,Wr),Yt=Math.imul(Kn,sn),Yt=Yt+Math.imul(_i,Wr)|0,ur=Math.imul(_i,sn),sr=sr+Math.imul(Hn,Nn)|0,Yt=Yt+Math.imul(Hn,Zn)|0,Yt=Yt+Math.imul(Qn,Nn)|0,ur=ur+Math.imul(Qn,Zn)|0,sr=sr+Math.imul(Qr,ga)|0,Yt=Yt+Math.imul(Qr,ba)|0,Yt=Yt+Math.imul(Un,ga)|0,ur=ur+Math.imul(Un,ba)|0,sr=sr+Math.imul(Gr,io)|0,Yt=Yt+Math.imul(Gr,so)|0,Yt=Yt+Math.imul(zr,io)|0,ur=ur+Math.imul(zr,so)|0,sr=sr+Math.imul(Xr,eo)|0,Yt=Yt+Math.imul(Xr,oo)|0,Yt=Yt+Math.imul(Jr,eo)|0,ur=ur+Math.imul(Jr,oo)|0,sr=sr+Math.imul(Rr,no)|0,Yt=Yt+Math.imul(Rr,ao)|0,Yt=Yt+Math.imul(Vr,no)|0,ur=ur+Math.imul(Vr,ao)|0,sr=sr+Math.imul(Hr,dn)|0,Yt=Yt+Math.imul(Hr,Ln)|0,Yt=Yt+Math.imul(Pr,dn)|0,ur=ur+Math.imul(Pr,Ln)|0,sr=sr+Math.imul(Or,Lr)|0,Yt=Yt+Math.imul(Or,qr)|0,Yt=Yt+Math.imul(Ar,Lr)|0,ur=ur+Math.imul(Ar,qr)|0,sr=sr+Math.imul(yr,Ur)|0,Yt=Yt+Math.imul(yr,rn)|0,Yt=Yt+Math.imul(wr,Ur)|0,ur=ur+Math.imul(wr,rn)|0;var ko=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ko>>>26)|0,ko&=67108863,sr=Math.imul(jr,Wr),Yt=Math.imul(jr,sn),Yt=Yt+Math.imul(Tr,Wr)|0,ur=Math.imul(Tr,sn),sr=sr+Math.imul(Kn,Nn)|0,Yt=Yt+Math.imul(Kn,Zn)|0,Yt=Yt+Math.imul(_i,Nn)|0,ur=ur+Math.imul(_i,Zn)|0,sr=sr+Math.imul(Hn,ga)|0,Yt=Yt+Math.imul(Hn,ba)|0,Yt=Yt+Math.imul(Qn,ga)|0,ur=ur+Math.imul(Qn,ba)|0,sr=sr+Math.imul(Qr,io)|0,Yt=Yt+Math.imul(Qr,so)|0,Yt=Yt+Math.imul(Un,io)|0,ur=ur+Math.imul(Un,so)|0,sr=sr+Math.imul(Gr,eo)|0,Yt=Yt+Math.imul(Gr,oo)|0,Yt=Yt+Math.imul(zr,eo)|0,ur=ur+Math.imul(zr,oo)|0,sr=sr+Math.imul(Xr,no)|0,Yt=Yt+Math.imul(Xr,ao)|0,Yt=Yt+Math.imul(Jr,no)|0,ur=ur+Math.imul(Jr,ao)|0,sr=sr+Math.imul(Rr,dn)|0,Yt=Yt+Math.imul(Rr,Ln)|0,Yt=Yt+Math.imul(Vr,dn)|0,ur=ur+Math.imul(Vr,Ln)|0,sr=sr+Math.imul(Hr,Lr)|0,Yt=Yt+Math.imul(Hr,qr)|0,Yt=Yt+Math.imul(Pr,Lr)|0,ur=ur+Math.imul(Pr,qr)|0,sr=sr+Math.imul(Or,Ur)|0,Yt=Yt+Math.imul(Or,rn)|0,Yt=Yt+Math.imul(Ar,Ur)|0,ur=ur+Math.imul(Ar,rn)|0,sr=sr+Math.imul(yr,pn)|0,Yt=Yt+Math.imul(yr,Vn)|0,Yt=Yt+Math.imul(wr,pn)|0,ur=ur+Math.imul(wr,Vn)|0;var Mo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,sr=Math.imul(jr,Nn),Yt=Math.imul(jr,Zn),Yt=Yt+Math.imul(Tr,Nn)|0,ur=Math.imul(Tr,Zn),sr=sr+Math.imul(Kn,ga)|0,Yt=Yt+Math.imul(Kn,ba)|0,Yt=Yt+Math.imul(_i,ga)|0,ur=ur+Math.imul(_i,ba)|0,sr=sr+Math.imul(Hn,io)|0,Yt=Yt+Math.imul(Hn,so)|0,Yt=Yt+Math.imul(Qn,io)|0,ur=ur+Math.imul(Qn,so)|0,sr=sr+Math.imul(Qr,eo)|0,Yt=Yt+Math.imul(Qr,oo)|0,Yt=Yt+Math.imul(Un,eo)|0,ur=ur+Math.imul(Un,oo)|0,sr=sr+Math.imul(Gr,no)|0,Yt=Yt+Math.imul(Gr,ao)|0,Yt=Yt+Math.imul(zr,no)|0,ur=ur+Math.imul(zr,ao)|0,sr=sr+Math.imul(Xr,dn)|0,Yt=Yt+Math.imul(Xr,Ln)|0,Yt=Yt+Math.imul(Jr,dn)|0,ur=ur+Math.imul(Jr,Ln)|0,sr=sr+Math.imul(Rr,Lr)|0,Yt=Yt+Math.imul(Rr,qr)|0,Yt=Yt+Math.imul(Vr,Lr)|0,ur=ur+Math.imul(Vr,qr)|0,sr=sr+Math.imul(Hr,Ur)|0,Yt=Yt+Math.imul(Hr,rn)|0,Yt=Yt+Math.imul(Pr,Ur)|0,ur=ur+Math.imul(Pr,rn)|0,sr=sr+Math.imul(Or,pn)|0,Yt=Yt+Math.imul(Or,Vn)|0,Yt=Yt+Math.imul(Ar,pn)|0,ur=ur+Math.imul(Ar,Vn)|0;var Oo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,sr=Math.imul(jr,ga),Yt=Math.imul(jr,ba),Yt=Yt+Math.imul(Tr,ga)|0,ur=Math.imul(Tr,ba),sr=sr+Math.imul(Kn,io)|0,Yt=Yt+Math.imul(Kn,so)|0,Yt=Yt+Math.imul(_i,io)|0,ur=ur+Math.imul(_i,so)|0,sr=sr+Math.imul(Hn,eo)|0,Yt=Yt+Math.imul(Hn,oo)|0,Yt=Yt+Math.imul(Qn,eo)|0,ur=ur+Math.imul(Qn,oo)|0,sr=sr+Math.imul(Qr,no)|0,Yt=Yt+Math.imul(Qr,ao)|0,Yt=Yt+Math.imul(Un,no)|0,ur=ur+Math.imul(Un,ao)|0,sr=sr+Math.imul(Gr,dn)|0,Yt=Yt+Math.imul(Gr,Ln)|0,Yt=Yt+Math.imul(zr,dn)|0,ur=ur+Math.imul(zr,Ln)|0,sr=sr+Math.imul(Xr,Lr)|0,Yt=Yt+Math.imul(Xr,qr)|0,Yt=Yt+Math.imul(Jr,Lr)|0,ur=ur+Math.imul(Jr,qr)|0,sr=sr+Math.imul(Rr,Ur)|0,Yt=Yt+Math.imul(Rr,rn)|0,Yt=Yt+Math.imul(Vr,Ur)|0,ur=ur+Math.imul(Vr,rn)|0,sr=sr+Math.imul(Hr,pn)|0,Yt=Yt+Math.imul(Hr,Vn)|0,Yt=Yt+Math.imul(Pr,pn)|0,ur=ur+Math.imul(Pr,Vn)|0;var xo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(xo>>>26)|0,xo&=67108863,sr=Math.imul(jr,io),Yt=Math.imul(jr,so),Yt=Yt+Math.imul(Tr,io)|0,ur=Math.imul(Tr,so),sr=sr+Math.imul(Kn,eo)|0,Yt=Yt+Math.imul(Kn,oo)|0,Yt=Yt+Math.imul(_i,eo)|0,ur=ur+Math.imul(_i,oo)|0,sr=sr+Math.imul(Hn,no)|0,Yt=Yt+Math.imul(Hn,ao)|0,Yt=Yt+Math.imul(Qn,no)|0,ur=ur+Math.imul(Qn,ao)|0,sr=sr+Math.imul(Qr,dn)|0,Yt=Yt+Math.imul(Qr,Ln)|0,Yt=Yt+Math.imul(Un,dn)|0,ur=ur+Math.imul(Un,Ln)|0,sr=sr+Math.imul(Gr,Lr)|0,Yt=Yt+Math.imul(Gr,qr)|0,Yt=Yt+Math.imul(zr,Lr)|0,ur=ur+Math.imul(zr,qr)|0,sr=sr+Math.imul(Xr,Ur)|0,Yt=Yt+Math.imul(Xr,rn)|0,Yt=Yt+Math.imul(Jr,Ur)|0,ur=ur+Math.imul(Jr,rn)|0,sr=sr+Math.imul(Rr,pn)|0,Yt=Yt+Math.imul(Rr,Vn)|0,Yt=Yt+Math.imul(Vr,pn)|0,ur=ur+Math.imul(Vr,Vn)|0;var Ro=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,sr=Math.imul(jr,eo),Yt=Math.imul(jr,oo),Yt=Yt+Math.imul(Tr,eo)|0,ur=Math.imul(Tr,oo),sr=sr+Math.imul(Kn,no)|0,Yt=Yt+Math.imul(Kn,ao)|0,Yt=Yt+Math.imul(_i,no)|0,ur=ur+Math.imul(_i,ao)|0,sr=sr+Math.imul(Hn,dn)|0,Yt=Yt+Math.imul(Hn,Ln)|0,Yt=Yt+Math.imul(Qn,dn)|0,ur=ur+Math.imul(Qn,Ln)|0,sr=sr+Math.imul(Qr,Lr)|0,Yt=Yt+Math.imul(Qr,qr)|0,Yt=Yt+Math.imul(Un,Lr)|0,ur=ur+Math.imul(Un,qr)|0,sr=sr+Math.imul(Gr,Ur)|0,Yt=Yt+Math.imul(Gr,rn)|0,Yt=Yt+Math.imul(zr,Ur)|0,ur=ur+Math.imul(zr,rn)|0,sr=sr+Math.imul(Xr,pn)|0,Yt=Yt+Math.imul(Xr,Vn)|0,Yt=Yt+Math.imul(Jr,pn)|0,ur=ur+Math.imul(Jr,Vn)|0;var So=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(So>>>26)|0,So&=67108863,sr=Math.imul(jr,no),Yt=Math.imul(jr,ao),Yt=Yt+Math.imul(Tr,no)|0,ur=Math.imul(Tr,ao),sr=sr+Math.imul(Kn,dn)|0,Yt=Yt+Math.imul(Kn,Ln)|0,Yt=Yt+Math.imul(_i,dn)|0,ur=ur+Math.imul(_i,Ln)|0,sr=sr+Math.imul(Hn,Lr)|0,Yt=Yt+Math.imul(Hn,qr)|0,Yt=Yt+Math.imul(Qn,Lr)|0,ur=ur+Math.imul(Qn,qr)|0,sr=sr+Math.imul(Qr,Ur)|0,Yt=Yt+Math.imul(Qr,rn)|0,Yt=Yt+Math.imul(Un,Ur)|0,ur=ur+Math.imul(Un,rn)|0,sr=sr+Math.imul(Gr,pn)|0,Yt=Yt+Math.imul(Gr,Vn)|0,Yt=Yt+Math.imul(zr,pn)|0,ur=ur+Math.imul(zr,Vn)|0;var po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(po>>>26)|0,po&=67108863,sr=Math.imul(jr,dn),Yt=Math.imul(jr,Ln),Yt=Yt+Math.imul(Tr,dn)|0,ur=Math.imul(Tr,Ln),sr=sr+Math.imul(Kn,Lr)|0,Yt=Yt+Math.imul(Kn,qr)|0,Yt=Yt+Math.imul(_i,Lr)|0,ur=ur+Math.imul(_i,qr)|0,sr=sr+Math.imul(Hn,Ur)|0,Yt=Yt+Math.imul(Hn,rn)|0,Yt=Yt+Math.imul(Qn,Ur)|0,ur=ur+Math.imul(Qn,rn)|0,sr=sr+Math.imul(Qr,pn)|0,Yt=Yt+Math.imul(Qr,Vn)|0,Yt=Yt+Math.imul(Un,pn)|0,ur=ur+Math.imul(Un,Vn)|0;var vo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(vo>>>26)|0,vo&=67108863,sr=Math.imul(jr,Lr),Yt=Math.imul(jr,qr),Yt=Yt+Math.imul(Tr,Lr)|0,ur=Math.imul(Tr,qr),sr=sr+Math.imul(Kn,Ur)|0,Yt=Yt+Math.imul(Kn,rn)|0,Yt=Yt+Math.imul(_i,Ur)|0,ur=ur+Math.imul(_i,rn)|0,sr=sr+Math.imul(Hn,pn)|0,Yt=Yt+Math.imul(Hn,Vn)|0,Yt=Yt+Math.imul(Qn,pn)|0,ur=ur+Math.imul(Qn,Vn)|0;var wo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(wo>>>26)|0,wo&=67108863,sr=Math.imul(jr,Ur),Yt=Math.imul(jr,rn),Yt=Yt+Math.imul(Tr,Ur)|0,ur=Math.imul(Tr,rn),sr=sr+Math.imul(Kn,pn)|0,Yt=Yt+Math.imul(Kn,Vn)|0,Yt=Yt+Math.imul(_i,pn)|0,ur=ur+Math.imul(_i,Vn)|0;var to=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(to>>>26)|0,to&=67108863,sr=Math.imul(jr,pn),Yt=Math.imul(jr,Vn),Yt=Yt+Math.imul(Tr,pn)|0,ur=Math.imul(Tr,Vn);var _a=(fr+sr|0)+((Yt&8191)<<13)|0;return fr=(ur+(Yt>>>13)|0)+(_a>>>26)|0,_a&=67108863,cr[0]=co,cr[1]=uo,cr[2]=Eo,cr[3]=ho,cr[4]=Co,cr[5]=Po,cr[6]=Fo,cr[7]=Do,cr[8]=ko,cr[9]=Mo,cr[10]=Oo,cr[11]=xo,cr[12]=Ro,cr[13]=So,cr[14]=po,cr[15]=vo,cr[16]=wo,cr[17]=to,cr[18]=_a,fr!==0&&(cr[19]=fr,nr.length++),nr};Math.imul||(lr=or);function dr(gr,Ut,tr){tr.negative=Ut.negative^gr.negative,tr.length=gr.length+Ut.length;for(var nr=0,rr=0,ar=0;ar<tr.length-1;ar++){var cr=rr;rr=0;for(var fr=nr&67108863,sr=Math.min(ar,Ut.length-1),Yt=Math.max(0,ar-gr.length+1);Yt<=sr;Yt++){var ur=ar-Yt,_r=gr.words[ur]|0,yr=Ut.words[Yt]|0,wr=_r*yr,Ir=wr&67108863;cr=cr+(wr/67108864|0)|0,Ir=Ir+fr|0,fr=Ir&67108863,cr=cr+(Ir>>>26)|0,rr+=cr>>>26,cr&=67108863}tr.words[ar]=fr,nr=cr,cr=rr}return nr!==0?tr.words[ar]=nr:tr.length--,tr.strip()}function pr(gr,Ut,tr){var nr=new hr;return nr.mulp(gr,Ut,tr)}Ct.prototype.mulTo=function(Ut,tr){var nr,rr=this.length+Ut.length;return this.length===10&&Ut.length===10?nr=lr(this,Ut,tr):rr<63?nr=or(this,Ut,tr):rr<1024?nr=dr(this,Ut,tr):nr=pr(this,Ut,tr),nr};function hr(gr,Ut){this.x=gr,this.y=Ut}hr.prototype.makeRBT=function(Ut){for(var tr=new Array(Ut),nr=Ct.prototype._countBits(Ut)-1,rr=0;rr<Ut;rr++)tr[rr]=this.revBin(rr,nr,Ut);return tr},hr.prototype.revBin=function(Ut,tr,nr){if(Ut===0||Ut===nr-1)return Ut;for(var rr=0,ar=0;ar<tr;ar++)rr|=(Ut&1)<<tr-ar-1,Ut>>=1;return rr},hr.prototype.permute=function(Ut,tr,nr,rr,ar,cr){for(var fr=0;fr<cr;fr++)rr[fr]=tr[Ut[fr]],ar[fr]=nr[Ut[fr]]},hr.prototype.transform=function(Ut,tr,nr,rr,ar,cr){this.permute(cr,Ut,tr,nr,rr,ar);for(var fr=1;fr<ar;fr<<=1)for(var sr=fr<<1,Yt=Math.cos(2*Math.PI/sr),ur=Math.sin(2*Math.PI/sr),_r=0;_r<ar;_r+=sr)for(var yr=Yt,wr=ur,Ir=0;Ir<fr;Ir++){var Or=nr[_r+Ir],Ar=rr[_r+Ir],Nr=nr[_r+Ir+fr],Hr=rr[_r+Ir+fr],Pr=yr*Nr-wr*Hr;Hr=yr*Hr+wr*Nr,Nr=Pr,nr[_r+Ir]=Or+Nr,rr[_r+Ir]=Ar+Hr,nr[_r+Ir+fr]=Or-Nr,rr[_r+Ir+fr]=Ar-Hr,Ir!==sr&&(Pr=Yt*yr-ur*wr,wr=Yt*wr+ur*yr,yr=Pr)}},hr.prototype.guessLen13b=function(Ut,tr){var nr=Math.max(tr,Ut)|1,rr=nr&1,ar=0;for(nr=nr/2|0;nr;nr=nr>>>1)ar++;return 1<<ar+1+rr},hr.prototype.conjugate=function(Ut,tr,nr){if(!(nr<=1))for(var rr=0;rr<nr/2;rr++){var ar=Ut[rr];Ut[rr]=Ut[nr-rr-1],Ut[nr-rr-1]=ar,ar=tr[rr],tr[rr]=-tr[nr-rr-1],tr[nr-rr-1]=-ar}},hr.prototype.normalize13b=function(Ut,tr){for(var nr=0,rr=0;rr<tr/2;rr++){var ar=Math.round(Ut[2*rr+1]/tr)*8192+Math.round(Ut[2*rr]/tr)+nr;Ut[rr]=ar&67108863,ar<67108864?nr=0:nr=ar/67108864|0}return Ut},hr.prototype.convert13b=function(Ut,tr,nr,rr){for(var ar=0,cr=0;cr<tr;cr++)ar=ar+(Ut[cr]|0),nr[2*cr]=ar&8191,ar=ar>>>13,nr[2*cr+1]=ar&8191,ar=ar>>>13;for(cr=2*tr;cr<rr;++cr)nr[cr]=0;mt(ar===0),mt((ar&-8192)===0)},hr.prototype.stub=function(Ut){for(var tr=new Array(Ut),nr=0;nr<Ut;nr++)tr[nr]=0;return tr},hr.prototype.mulp=function(Ut,tr,nr){var rr=2*this.guessLen13b(Ut.length,tr.length),ar=this.makeRBT(rr),cr=this.stub(rr),fr=new Array(rr),sr=new Array(rr),Yt=new Array(rr),ur=new Array(rr),_r=new Array(rr),yr=new Array(rr),wr=nr.words;wr.length=rr,this.convert13b(Ut.words,Ut.length,fr,rr),this.convert13b(tr.words,tr.length,ur,rr),this.transform(fr,cr,sr,Yt,rr,ar),this.transform(ur,cr,_r,yr,rr,ar);for(var Ir=0;Ir<rr;Ir++){var Or=sr[Ir]*_r[Ir]-Yt[Ir]*yr[Ir];Yt[Ir]=sr[Ir]*yr[Ir]+Yt[Ir]*_r[Ir],sr[Ir]=Or}return this.conjugate(sr,Yt,rr),this.transform(sr,Yt,wr,cr,rr,ar),this.conjugate(wr,cr,rr),this.normalize13b(wr,rr),nr.negative=Ut.negative^tr.negative,nr.length=Ut.length+tr.length,nr.strip()},Ct.prototype.mul=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),this.mulTo(Ut,tr)},Ct.prototype.mulf=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),pr(this,Ut,tr)},Ct.prototype.imul=function(Ut){return this.clone().mulTo(Ut,this)},Ct.prototype.imuln=function(Ut){mt(typeof Ut=="number"),mt(Ut<67108864);for(var tr=0,nr=0;nr<this.length;nr++){var rr=(this.words[nr]|0)*Ut,ar=(rr&67108863)+(tr&67108863);tr>>=26,tr+=rr/67108864|0,tr+=ar>>>26,this.words[nr]=ar&67108863}return tr!==0&&(this.words[nr]=tr,this.length++),this},Ct.prototype.muln=function(Ut){return this.clone().imuln(Ut)},Ct.prototype.sqr=function(){return this.mul(this)},Ct.prototype.isqr=function(){return this.imul(this.clone())},Ct.prototype.pow=function(Ut){var tr=ir(Ut);if(tr.length===0)return new Ct(1);for(var nr=this,rr=0;rr<tr.length&&tr[rr]===0;rr++,nr=nr.sqr());if(++rr<tr.length)for(var ar=nr.sqr();rr<tr.length;rr++,ar=ar.sqr())tr[rr]!==0&&(nr=nr.mul(ar));return nr},Ct.prototype.iushln=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=67108863>>>26-tr<<26-tr,ar;if(tr!==0){var cr=0;for(ar=0;ar<this.length;ar++){var fr=this.words[ar]&rr,sr=(this.words[ar]|0)-fr<<tr;this.words[ar]=sr|cr,cr=fr>>>26-tr}cr&&(this.words[ar]=cr,this.length++)}if(nr!==0){for(ar=this.length-1;ar>=0;ar--)this.words[ar+nr]=this.words[ar];for(ar=0;ar<nr;ar++)this.words[ar]=0;this.length+=nr}return this.strip()},Ct.prototype.ishln=function(Ut){return mt(this.negative===0),this.iushln(Ut)},Ct.prototype.iushrn=function(Ut,tr,nr){mt(typeof Ut=="number"&&Ut>=0);var rr;tr?rr=(tr-tr%26)/26:rr=0;var ar=Ut%26,cr=Math.min((Ut-ar)/26,this.length),fr=67108863^67108863>>>ar<<ar,sr=nr;if(rr-=cr,rr=Math.max(0,rr),sr){for(var Yt=0;Yt<cr;Yt++)sr.words[Yt]=this.words[Yt];sr.length=cr}if(cr!==0)if(this.length>cr)for(this.length-=cr,Yt=0;Yt<this.length;Yt++)this.words[Yt]=this.words[Yt+cr];else this.words[0]=0,this.length=1;var ur=0;for(Yt=this.length-1;Yt>=0&&(ur!==0||Yt>=rr);Yt--){var _r=this.words[Yt]|0;this.words[Yt]=ur<<26-ar|_r>>>ar,ur=_r&fr}return sr&&ur!==0&&(sr.words[sr.length++]=ur),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ct.prototype.ishrn=function(Ut,tr,nr){return mt(this.negative===0),this.iushrn(Ut,tr,nr)},Ct.prototype.shln=function(Ut){return this.clone().ishln(Ut)},Ct.prototype.ushln=function(Ut){return this.clone().iushln(Ut)},Ct.prototype.shrn=function(Ut){return this.clone().ishrn(Ut)},Ct.prototype.ushrn=function(Ut){return this.clone().iushrn(Ut)},Ct.prototype.testn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return!1;var ar=this.words[nr];return!!(ar&rr)},Ct.prototype.imaskn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26;if(mt(this.negative===0,"imaskn works only with positive numbers"),this.length<=nr)return this;if(tr!==0&&nr++,this.length=Math.min(nr,this.length),tr!==0){var rr=67108863^67108863>>>tr<<tr;this.words[this.length-1]&=rr}return this.strip()},Ct.prototype.maskn=function(Ut){return this.clone().imaskn(Ut)},Ct.prototype.iaddn=function(Ut){return mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0?this.isubn(-Ut):this.negative!==0?this.length===1&&(this.words[0]|0)<Ut?(this.words[0]=Ut-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ut),this.negative=1,this):this._iaddn(Ut)},Ct.prototype._iaddn=function(Ut){this.words[0]+=Ut;for(var tr=0;tr<this.length&&this.words[tr]>=67108864;tr++)this.words[tr]-=67108864,tr===this.length-1?this.words[tr+1]=1:this.words[tr+1]++;return this.length=Math.max(this.length,tr+1),this},Ct.prototype.isubn=function(Ut){if(mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0)return this.iaddn(-Ut);if(this.negative!==0)return this.negative=0,this.iaddn(Ut),this.negative=1,this;if(this.words[0]-=Ut,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tr=0;tr<this.length&&this.words[tr]<0;tr++)this.words[tr]+=67108864,this.words[tr+1]-=1;return this.strip()},Ct.prototype.addn=function(Ut){return this.clone().iaddn(Ut)},Ct.prototype.subn=function(Ut){return this.clone().isubn(Ut)},Ct.prototype.iabs=function(){return this.negative=0,this},Ct.prototype.abs=function(){return this.clone().iabs()},Ct.prototype._ishlnsubmul=function(Ut,tr,nr){var rr=Ut.length+nr,ar;this._expand(rr);var cr,fr=0;for(ar=0;ar<Ut.length;ar++){cr=(this.words[ar+nr]|0)+fr;var sr=(Ut.words[ar]|0)*tr;cr-=sr&67108863,fr=(cr>>26)-(sr/67108864|0),this.words[ar+nr]=cr&67108863}for(;ar<this.length-nr;ar++)cr=(this.words[ar+nr]|0)+fr,fr=cr>>26,this.words[ar+nr]=cr&67108863;if(fr===0)return this.strip();for(mt(fr===-1),fr=0,ar=0;ar<this.length;ar++)cr=-(this.words[ar]|0)+fr,fr=cr>>26,this.words[ar]=cr&67108863;return this.negative=1,this.strip()},Ct.prototype._wordDiv=function(Ut,tr){var nr=this.length-Ut.length,rr=this.clone(),ar=Ut,cr=ar.words[ar.length-1]|0,fr=this._countBits(cr);nr=26-fr,nr!==0&&(ar=ar.ushln(nr),rr.iushln(nr),cr=ar.words[ar.length-1]|0);var sr=rr.length-ar.length,Yt;if(tr!=="mod"){Yt=new Ct(null),Yt.length=sr+1,Yt.words=new Array(Yt.length);for(var ur=0;ur<Yt.length;ur++)Yt.words[ur]=0}var _r=rr.clone()._ishlnsubmul(ar,1,sr);_r.negative===0&&(rr=_r,Yt&&(Yt.words[sr]=1));for(var yr=sr-1;yr>=0;yr--){var wr=(rr.words[ar.length+yr]|0)*67108864+(rr.words[ar.length+yr-1]|0);for(wr=Math.min(wr/cr|0,67108863),rr._ishlnsubmul(ar,wr,yr);rr.negative!==0;)wr--,rr.negative=0,rr._ishlnsubmul(ar,1,yr),rr.isZero()||(rr.negative^=1);Yt&&(Yt.words[yr]=wr)}return Yt&&Yt.strip(),rr.strip(),tr!=="div"&&nr!==0&&rr.iushrn(nr),{div:Yt||null,mod:rr}},Ct.prototype.divmod=function(Ut,tr,nr){if(mt(!Ut.isZero()),this.isZero())return{div:new Ct(0),mod:new Ct(0)};var rr,ar,cr;return this.negative!==0&&Ut.negative===0?(cr=this.neg().divmod(Ut,tr),tr!=="mod"&&(rr=cr.div.neg()),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.iadd(Ut)),{div:rr,mod:ar}):this.negative===0&&Ut.negative!==0?(cr=this.divmod(Ut.neg(),tr),tr!=="mod"&&(rr=cr.div.neg()),{div:rr,mod:cr.mod}):this.negative&Ut.negative?(cr=this.neg().divmod(Ut.neg(),tr),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.isub(Ut)),{div:cr.div,mod:ar}):Ut.length>this.length||this.cmp(Ut)<0?{div:new Ct(0),mod:this}:Ut.length===1?tr==="div"?{div:this.divn(Ut.words[0]),mod:null}:tr==="mod"?{div:null,mod:new Ct(this.modn(Ut.words[0]))}:{div:this.divn(Ut.words[0]),mod:new Ct(this.modn(Ut.words[0]))}:this._wordDiv(Ut,tr)},Ct.prototype.div=function(Ut){return this.divmod(Ut,"div",!1).div},Ct.prototype.mod=function(Ut){return this.divmod(Ut,"mod",!1).mod},Ct.prototype.umod=function(Ut){return this.divmod(Ut,"mod",!0).mod},Ct.prototype.divRound=function(Ut){var tr=this.divmod(Ut);if(tr.mod.isZero())return tr.div;var nr=tr.div.negative!==0?tr.mod.isub(Ut):tr.mod,rr=Ut.ushrn(1),ar=Ut.andln(1),cr=nr.cmp(rr);return cr<0||ar===1&&cr===0?tr.div:tr.div.negative!==0?tr.div.isubn(1):tr.div.iaddn(1)},Ct.prototype.modn=function(Ut){mt(Ut<=67108863);for(var tr=(1<<26)%Ut,nr=0,rr=this.length-1;rr>=0;rr--)nr=(tr*nr+(this.words[rr]|0))%Ut;return nr},Ct.prototype.idivn=function(Ut){mt(Ut<=67108863);for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=(this.words[nr]|0)+tr*67108864;this.words[nr]=rr/Ut|0,tr=rr%Ut}return this.strip()},Ct.prototype.divn=function(Ut){return this.clone().idivn(Ut)},Ct.prototype.egcd=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=new Ct(0),fr=new Ct(1),sr=0;tr.isEven()&&nr.isEven();)tr.iushrn(1),nr.iushrn(1),++sr;for(var Yt=nr.clone(),ur=tr.clone();!tr.isZero();){for(var _r=0,yr=1;!(tr.words[0]&yr)&&_r<26;++_r,yr<<=1);if(_r>0)for(tr.iushrn(_r);_r-- >0;)(rr.isOdd()||ar.isOdd())&&(rr.iadd(Yt),ar.isub(ur)),rr.iushrn(1),ar.iushrn(1);for(var wr=0,Ir=1;!(nr.words[0]&Ir)&&wr<26;++wr,Ir<<=1);if(wr>0)for(nr.iushrn(wr);wr-- >0;)(cr.isOdd()||fr.isOdd())&&(cr.iadd(Yt),fr.isub(ur)),cr.iushrn(1),fr.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(cr),ar.isub(fr)):(nr.isub(tr),cr.isub(rr),fr.isub(ar))}return{a:cr,b:fr,gcd:nr.iushln(sr)}},Ct.prototype._invmp=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=nr.clone();tr.cmpn(1)>0&&nr.cmpn(1)>0;){for(var fr=0,sr=1;!(tr.words[0]&sr)&&fr<26;++fr,sr<<=1);if(fr>0)for(tr.iushrn(fr);fr-- >0;)rr.isOdd()&&rr.iadd(cr),rr.iushrn(1);for(var Yt=0,ur=1;!(nr.words[0]&ur)&&Yt<26;++Yt,ur<<=1);if(Yt>0)for(nr.iushrn(Yt);Yt-- >0;)ar.isOdd()&&ar.iadd(cr),ar.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(ar)):(nr.isub(tr),ar.isub(rr))}var _r;return tr.cmpn(1)===0?_r=rr:_r=ar,_r.cmpn(0)<0&&_r.iadd(Ut),_r},Ct.prototype.gcd=function(Ut){if(this.isZero())return Ut.abs();if(Ut.isZero())return this.abs();var tr=this.clone(),nr=Ut.clone();tr.negative=0,nr.negative=0;for(var rr=0;tr.isEven()&&nr.isEven();rr++)tr.iushrn(1),nr.iushrn(1);do{for(;tr.isEven();)tr.iushrn(1);for(;nr.isEven();)nr.iushrn(1);var ar=tr.cmp(nr);if(ar<0){var cr=tr;tr=nr,nr=cr}else if(ar===0||nr.cmpn(1)===0)break;tr.isub(nr)}while(!0);return nr.iushln(rr)},Ct.prototype.invm=function(Ut){return this.egcd(Ut).a.umod(Ut)},Ct.prototype.isEven=function(){return(this.words[0]&1)===0},Ct.prototype.isOdd=function(){return(this.words[0]&1)===1},Ct.prototype.andln=function(Ut){return this.words[0]&Ut},Ct.prototype.bincn=function(Ut){mt(typeof Ut=="number");var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return this._expand(nr+1),this.words[nr]|=rr,this;for(var ar=rr,cr=nr;ar!==0&&cr<this.length;cr++){var fr=this.words[cr]|0;fr+=ar,ar=fr>>>26,fr&=67108863,this.words[cr]=fr}return ar!==0&&(this.words[cr]=ar,this.length++),this},Ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ct.prototype.cmpn=function(Ut){var tr=Ut<0;if(this.negative!==0&&!tr)return-1;if(this.negative===0&&tr)return 1;this.strip();var nr;if(this.length>1)nr=1;else{tr&&(Ut=-Ut),mt(Ut<=67108863,"Number is too big");var rr=this.words[0]|0;nr=rr===Ut?0:rr<Ut?-1:1}return this.negative!==0?-nr|0:nr},Ct.prototype.cmp=function(Ut){if(this.negative!==0&&Ut.negative===0)return-1;if(this.negative===0&&Ut.negative!==0)return 1;var tr=this.ucmp(Ut);return this.negative!==0?-tr|0:tr},Ct.prototype.ucmp=function(Ut){if(this.length>Ut.length)return 1;if(this.length<Ut.length)return-1;for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=this.words[nr]|0,ar=Ut.words[nr]|0;if(rr!==ar){rr<ar?tr=-1:rr>ar&&(tr=1);break}}return tr},Ct.prototype.gtn=function(Ut){return this.cmpn(Ut)===1},Ct.prototype.gt=function(Ut){return this.cmp(Ut)===1},Ct.prototype.gten=function(Ut){return this.cmpn(Ut)>=0},Ct.prototype.gte=function(Ut){return this.cmp(Ut)>=0},Ct.prototype.ltn=function(Ut){return this.cmpn(Ut)===-1},Ct.prototype.lt=function(Ut){return this.cmp(Ut)===-1},Ct.prototype.lten=function(Ut){return this.cmpn(Ut)<=0},Ct.prototype.lte=function(Ut){return this.cmp(Ut)<=0},Ct.prototype.eqn=function(Ut){return this.cmpn(Ut)===0},Ct.prototype.eq=function(Ut){return this.cmp(Ut)===0},Ct.red=function(Ut){return new Cr(Ut)},Ct.prototype.toRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),mt(this.negative===0,"red works only with positives"),Ut.convertTo(this)._forceRed(Ut)},Ct.prototype.fromRed=function(){return mt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ct.prototype._forceRed=function(Ut){return this.red=Ut,this},Ct.prototype.forceRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),this._forceRed(Ut)},Ct.prototype.redAdd=function(Ut){return mt(this.red,"redAdd works only with red numbers"),this.red.add(this,Ut)},Ct.prototype.redIAdd=function(Ut){return mt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ut)},Ct.prototype.redSub=function(Ut){return mt(this.red,"redSub works only with red numbers"),this.red.sub(this,Ut)},Ct.prototype.redISub=function(Ut){return mt(this.red,"redISub works only with red numbers"),this.red.isub(this,Ut)},Ct.prototype.redShl=function(Ut){return mt(this.red,"redShl works only with red numbers"),this.red.shl(this,Ut)},Ct.prototype.redMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.mul(this,Ut)},Ct.prototype.redIMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.imul(this,Ut)},Ct.prototype.redSqr=function(){return mt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ct.prototype.redISqr=function(){return mt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ct.prototype.redSqrt=function(){return mt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ct.prototype.redInvm=function(){return mt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ct.prototype.redNeg=function(){return mt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ct.prototype.redPow=function(Ut){return mt(this.red&&!Ut.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ut)};var vr={k256:null,p224:null,p192:null,p25519:null};function br(gr,Ut){this.name=gr,this.p=new Ct(Ut,16),this.n=this.p.bitLength(),this.k=new Ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var Ut=new Ct(null);return Ut.words=new Array(Math.ceil(this.n/13)),Ut},br.prototype.ireduce=function(Ut){var tr=Ut,nr;do this.split(tr,this.tmp),tr=this.imulK(tr),tr=tr.iadd(this.tmp),nr=tr.bitLength();while(nr>this.n);var rr=nr<this.n?-1:tr.ucmp(this.p);return rr===0?(tr.words[0]=0,tr.length=1):rr>0?tr.isub(this.p):tr.strip!==void 0?tr.strip():tr._strip(),tr},br.prototype.split=function(Ut,tr){Ut.iushrn(this.n,0,tr)},br.prototype.imulK=function(Ut){return Ut.imul(this.k)};function xr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$t(xr,br),xr.prototype.split=function(Ut,tr){for(var nr=4194303,rr=Math.min(Ut.length,9),ar=0;ar<rr;ar++)tr.words[ar]=Ut.words[ar];if(tr.length=rr,Ut.length<=9){Ut.words[0]=0,Ut.length=1;return}var cr=Ut.words[9];for(tr.words[tr.length++]=cr&nr,ar=10;ar<Ut.length;ar++){var fr=Ut.words[ar]|0;Ut.words[ar-10]=(fr&nr)<<4|cr>>>22,cr=fr}cr>>>=22,Ut.words[ar-10]=cr,cr===0&&Ut.length>10?Ut.length-=10:Ut.length-=9},xr.prototype.imulK=function(Ut){Ut.words[Ut.length]=0,Ut.words[Ut.length+1]=0,Ut.length+=2;for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=Ut.words[nr]|0;tr+=rr*977,Ut.words[nr]=tr&67108863,tr=rr*64+(tr/67108864|0)}return Ut.words[Ut.length-1]===0&&(Ut.length--,Ut.words[Ut.length-1]===0&&Ut.length--),Ut};function Sr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$t(Sr,br);function Er(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$t(Er,br);function $r(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$t($r,br),$r.prototype.imulK=function(Ut){for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=(Ut.words[nr]|0)*19+tr,ar=rr&67108863;rr>>>=26,Ut.words[nr]=ar,tr=rr}return tr!==0&&(Ut.words[Ut.length++]=tr),Ut},Ct._prime=function(Ut){if(vr[Ut])return vr[Ut];var tr;if(Ut==="k256")tr=new xr;else if(Ut==="p224")tr=new Sr;else if(Ut==="p192")tr=new Er;else if(Ut==="p25519")tr=new $r;else throw new Error("Unknown prime "+Ut);return vr[Ut]=tr,tr};function Cr(gr){if(typeof gr=="string"){var Ut=Ct._prime(gr);this.m=Ut.p,this.prime=Ut}else mt(gr.gtn(1),"modulus must be greater than 1"),this.m=gr,this.prime=null}Cr.prototype._verify1=function(Ut){mt(Ut.negative===0,"red works only with positives"),mt(Ut.red,"red works only with red numbers")},Cr.prototype._verify2=function(Ut,tr){mt((Ut.negative|tr.negative)===0,"red works only with positives"),mt(Ut.red&&Ut.red===tr.red,"red works only with red numbers")},Cr.prototype.imod=function(Ut){return this.prime?this.prime.ireduce(Ut)._forceRed(this):Ut.umod(this.m)._forceRed(this)},Cr.prototype.neg=function(Ut){return Ut.isZero()?Ut.clone():this.m.sub(Ut)._forceRed(this)},Cr.prototype.add=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.add(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr._forceRed(this)},Cr.prototype.iadd=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.iadd(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr},Cr.prototype.sub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.sub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr._forceRed(this)},Cr.prototype.isub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.isub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr},Cr.prototype.shl=function(Ut,tr){return this._verify1(Ut),this.imod(Ut.ushln(tr))},Cr.prototype.imul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.imul(tr))},Cr.prototype.mul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.mul(tr))},Cr.prototype.isqr=function(Ut){return this.imul(Ut,Ut.clone())},Cr.prototype.sqr=function(Ut){return this.mul(Ut,Ut)},Cr.prototype.sqrt=function(Ut){if(Ut.isZero())return Ut.clone();var tr=this.m.andln(3);if(mt(tr%2===1),tr===3){var nr=this.m.add(new Ct(1)).iushrn(2);return this.pow(Ut,nr)}for(var rr=this.m.subn(1),ar=0;!rr.isZero()&&rr.andln(1)===0;)ar++,rr.iushrn(1);mt(!rr.isZero());var cr=new Ct(1).toRed(this),fr=cr.redNeg(),sr=this.m.subn(1).iushrn(1),Yt=this.m.bitLength();for(Yt=new Ct(2*Yt*Yt).toRed(this);this.pow(Yt,sr).cmp(fr)!==0;)Yt.redIAdd(fr);for(var ur=this.pow(Yt,rr),_r=this.pow(Ut,rr.addn(1).iushrn(1)),yr=this.pow(Ut,rr),wr=ar;yr.cmp(cr)!==0;){for(var Ir=yr,Or=0;Ir.cmp(cr)!==0;Or++)Ir=Ir.redSqr();mt(Or<wr);var Ar=this.pow(ur,new Ct(1).iushln(wr-Or-1));_r=_r.redMul(Ar),ur=Ar.redSqr(),yr=yr.redMul(ur),wr=Or}return _r},Cr.prototype.invm=function(Ut){var tr=Ut._invmp(this.m);return tr.negative!==0?(tr.negative=0,this.imod(tr).redNeg()):this.imod(tr)},Cr.prototype.pow=function(Ut,tr){if(tr.isZero())return new Ct(1).toRed(this);if(tr.cmpn(1)===0)return Ut.clone();var nr=4,rr=new Array(1<<nr);rr[0]=new Ct(1).toRed(this),rr[1]=Ut;for(var ar=2;ar<rr.length;ar++)rr[ar]=this.mul(rr[ar-1],Ut);var cr=rr[0],fr=0,sr=0,Yt=tr.bitLength()%26;for(Yt===0&&(Yt=26),ar=tr.length-1;ar>=0;ar--){for(var ur=tr.words[ar],_r=Yt-1;_r>=0;_r--){var yr=ur>>_r&1;if(cr!==rr[0]&&(cr=this.sqr(cr)),yr===0&&fr===0){sr=0;continue}fr<<=1,fr|=yr,sr++,!(sr!==nr&&(ar!==0||_r!==0))&&(cr=this.mul(cr,rr[fr]),sr=0,fr=0)}Yt=26}return cr},Cr.prototype.convertTo=function(Ut){var tr=Ut.umod(this.m);return tr===Ut?tr.clone():tr},Cr.prototype.convertFrom=function(Ut){var tr=Ut.clone();return tr.red=null,tr},Ct.mont=function(Ut){return new kr(Ut)};function kr(gr){Cr.call(this,gr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$t(kr,Cr),kr.prototype.convertTo=function(Ut){return this.imod(Ut.ushln(this.shift))},kr.prototype.convertFrom=function(Ut){var tr=this.imod(Ut.mul(this.rinv));return tr.red=null,tr},kr.prototype.imul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return Ut.words[0]=0,Ut.length=1,Ut;var nr=Ut.imul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.mul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return new Ct(0)._forceRed(this);var nr=Ut.mul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.invm=function(Ut){var tr=this.imod(Ut._invmp(this.m).mul(this.r2));return tr._forceRed(this)}})(nt,commonjsGlobal$1)}(bn$4)),bn$4.exports}var utils$4={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(nt){var et=nt;function at(Ct,Dt){if(Array.isArray(Ct))return Ct.slice();if(!Ct)return[];var Ft=[];if(typeof Ct!="string"){for(var Nt=0;Nt<Ct.length;Nt++)Ft[Nt]=Ct[Nt]|0;return Ft}if(Dt==="hex"){Ct=Ct.replace(/[^a-z0-9]+/ig,""),Ct.length%2!==0&&(Ct="0"+Ct);for(var Nt=0;Nt<Ct.length;Nt+=2)Ft.push(parseInt(Ct[Nt]+Ct[Nt+1],16))}else for(var Nt=0;Nt<Ct.length;Nt++){var jt=Ct.charCodeAt(Nt),Lt=jt>>8,Vt=jt&255;Lt?Ft.push(Lt,Vt):Ft.push(Vt)}return Ft}et.toArray=at;function mt(Ct){return Ct.length===1?"0"+Ct:Ct}et.zero2=mt;function $t(Ct){for(var Dt="",Ft=0;Ft<Ct.length;Ft++)Dt+=mt(Ct[Ft].toString(16));return Dt}et.toHex=$t,et.encode=function(Dt,Ft){return Ft==="hex"?$t(Dt):Dt}}(utils$4)),utils$4}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(nt){var et=nt,at=requireBn$3(),mt=requireMinimalisticAssert(),$t=requireUtils$2();et.assert=mt,et.toArray=$t.toArray,et.zero2=$t.zero2,et.toHex=$t.toHex,et.encode=$t.encode;function Ct(Lt,Vt,er){var ir=new Array(Math.max(Lt.bitLength(),er)+1),or;for(or=0;or<ir.length;or+=1)ir[or]=0;var lr=1<<Vt+1,dr=Lt.clone();for(or=0;or<ir.length;or++){var pr,hr=dr.andln(lr-1);dr.isOdd()?(hr>(lr>>1)-1?pr=(lr>>1)-hr:pr=hr,dr.isubn(pr)):pr=0,ir[or]=pr,dr.iushrn(1)}return ir}et.getNAF=Ct;function Dt(Lt,Vt){var er=[[],[]];Lt=Lt.clone(),Vt=Vt.clone();for(var ir=0,or=0,lr;Lt.cmpn(-ir)>0||Vt.cmpn(-or)>0;){var dr=Lt.andln(3)+ir&3,pr=Vt.andln(3)+or&3;dr===3&&(dr=-1),pr===3&&(pr=-1);var hr;dr&1?(lr=Lt.andln(7)+ir&7,(lr===3||lr===5)&&pr===2?hr=-dr:hr=dr):hr=0,er[0].push(hr);var vr;pr&1?(lr=Vt.andln(7)+or&7,(lr===3||lr===5)&&dr===2?vr=-pr:vr=pr):vr=0,er[1].push(vr),2*ir===hr+1&&(ir=1-ir),2*or===vr+1&&(or=1-or),Lt.iushrn(1),Vt.iushrn(1)}return er}et.getJSF=Dt;function Ft(Lt,Vt,er){var ir="_"+Vt;Lt.prototype[Vt]=function(){return this[ir]!==void 0?this[ir]:this[ir]=er.call(this)}}et.cachedProperty=Ft;function Nt(Lt){return typeof Lt=="string"?et.toArray(Lt,"hex"):Lt}et.parseBytes=Nt;function jt(Lt){return new at(Lt,"hex","le")}et.intFromLE=jt}(utils$5)),utils$5}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var nt=requireBn$3(),et=requireUtils$1(),at=et.getNAF,mt=et.getJSF,$t=et.assert;function Ct(Ft,Nt){this.type=Ft,this.p=new nt(Nt.p,16),this.red=Nt.prime?nt.red(Nt.prime):nt.mont(this.p),this.zero=new nt(0).toRed(this.red),this.one=new nt(1).toRed(this.red),this.two=new nt(2).toRed(this.red),this.n=Nt.n&&new nt(Nt.n,16),this.g=Nt.g&&this.pointFromJSON(Nt.g,Nt.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var jt=this.n&&this.p.div(this.n);!jt||jt.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=Ct,Ct.prototype.point=function(){throw new Error("Not implemented")},Ct.prototype.validate=function(){throw new Error("Not implemented")},Ct.prototype._fixedNafMul=function(Nt,jt){$t(Nt.precomputed);var Lt=Nt._getDoubles(),Vt=at(jt,1,this._bitLength),er=(1<<Lt.step+1)-(Lt.step%2===0?2:1);er/=3;var ir=[],or,lr;for(or=0;or<Vt.length;or+=Lt.step){lr=0;for(var dr=or+Lt.step-1;dr>=or;dr--)lr=(lr<<1)+Vt[dr];ir.push(lr)}for(var pr=this.jpoint(null,null,null),hr=this.jpoint(null,null,null),vr=er;vr>0;vr--){for(or=0;or<ir.length;or++)lr=ir[or],lr===vr?hr=hr.mixedAdd(Lt.points[or]):lr===-vr&&(hr=hr.mixedAdd(Lt.points[or].neg()));pr=pr.add(hr)}return pr.toP()},Ct.prototype._wnafMul=function(Nt,jt){var Lt=4,Vt=Nt._getNAFPoints(Lt);Lt=Vt.wnd;for(var er=Vt.points,ir=at(jt,Lt,this._bitLength),or=this.jpoint(null,null,null),lr=ir.length-1;lr>=0;lr--){for(var dr=0;lr>=0&&ir[lr]===0;lr--)dr++;if(lr>=0&&dr++,or=or.dblp(dr),lr<0)break;var pr=ir[lr];$t(pr!==0),Nt.type==="affine"?pr>0?or=or.mixedAdd(er[pr-1>>1]):or=or.mixedAdd(er[-pr-1>>1].neg()):pr>0?or=or.add(er[pr-1>>1]):or=or.add(er[-pr-1>>1].neg())}return Nt.type==="affine"?or.toP():or},Ct.prototype._wnafMulAdd=function(Nt,jt,Lt,Vt,er){var ir=this._wnafT1,or=this._wnafT2,lr=this._wnafT3,dr=0,pr,hr,vr;for(pr=0;pr<Vt;pr++){vr=jt[pr];var br=vr._getNAFPoints(Nt);ir[pr]=br.wnd,or[pr]=br.points}for(pr=Vt-1;pr>=1;pr-=2){var xr=pr-1,Sr=pr;if(ir[xr]!==1||ir[Sr]!==1){lr[xr]=at(Lt[xr],ir[xr],this._bitLength),lr[Sr]=at(Lt[Sr],ir[Sr],this._bitLength),dr=Math.max(lr[xr].length,dr),dr=Math.max(lr[Sr].length,dr);continue}var Er=[jt[xr],null,null,jt[Sr]];jt[xr].y.cmp(jt[Sr].y)===0?(Er[1]=jt[xr].add(jt[Sr]),Er[2]=jt[xr].toJ().mixedAdd(jt[Sr].neg())):jt[xr].y.cmp(jt[Sr].y.redNeg())===0?(Er[1]=jt[xr].toJ().mixedAdd(jt[Sr]),Er[2]=jt[xr].add(jt[Sr].neg())):(Er[1]=jt[xr].toJ().mixedAdd(jt[Sr]),Er[2]=jt[xr].toJ().mixedAdd(jt[Sr].neg()));var $r=[-3,-1,-5,-7,0,7,5,1,3],Cr=mt(Lt[xr],Lt[Sr]);for(dr=Math.max(Cr[0].length,dr),lr[xr]=new Array(dr),lr[Sr]=new Array(dr),hr=0;hr<dr;hr++){var kr=Cr[0][hr]|0,gr=Cr[1][hr]|0;lr[xr][hr]=$r[(kr+1)*3+(gr+1)],lr[Sr][hr]=0,or[xr]=Er}}var Ut=this.jpoint(null,null,null),tr=this._wnafT4;for(pr=dr;pr>=0;pr--){for(var nr=0;pr>=0;){var rr=!0;for(hr=0;hr<Vt;hr++)tr[hr]=lr[hr][pr]|0,tr[hr]!==0&&(rr=!1);if(!rr)break;nr++,pr--}if(pr>=0&&nr++,Ut=Ut.dblp(nr),pr<0)break;for(hr=0;hr<Vt;hr++){var ar=tr[hr];ar!==0&&(ar>0?vr=or[hr][ar-1>>1]:ar<0&&(vr=or[hr][-ar-1>>1].neg()),vr.type==="affine"?Ut=Ut.mixedAdd(vr):Ut=Ut.add(vr))}}for(pr=0;pr<Vt;pr++)or[pr]=null;return er?Ut:Ut.toP()};function Dt(Ft,Nt){this.curve=Ft,this.type=Nt,this.precomputed=null}return Ct.BasePoint=Dt,Dt.prototype.eq=function(){throw new Error("Not implemented")},Dt.prototype.validate=function(){return this.curve.validate(this)},Ct.prototype.decodePoint=function(Nt,jt){Nt=et.toArray(Nt,jt);var Lt=this.p.byteLength();if((Nt[0]===4||Nt[0]===6||Nt[0]===7)&&Nt.length-1===2*Lt){Nt[0]===6?$t(Nt[Nt.length-1]%2===0):Nt[0]===7&&$t(Nt[Nt.length-1]%2===1);var Vt=this.point(Nt.slice(1,1+Lt),Nt.slice(1+Lt,1+2*Lt));return Vt}else if((Nt[0]===2||Nt[0]===3)&&Nt.length-1===Lt)return this.pointFromX(Nt.slice(1,1+Lt),Nt[0]===3);throw new Error("Unknown point format")},Dt.prototype.encodeCompressed=function(Nt){return this.encode(Nt,!0)},Dt.prototype._encode=function(Nt){var jt=this.curve.p.byteLength(),Lt=this.getX().toArray("be",jt);return Nt?[this.getY().isEven()?2:3].concat(Lt):[4].concat(Lt,this.getY().toArray("be",jt))},Dt.prototype.encode=function(Nt,jt){return et.encode(this._encode(jt),Nt)},Dt.prototype.precompute=function(Nt){if(this.precomputed)return this;var jt={doubles:null,naf:null,beta:null};return jt.naf=this._getNAFPoints(8),jt.doubles=this._getDoubles(4,Nt),jt.beta=this._getBeta(),this.precomputed=jt,this},Dt.prototype._hasDoubles=function(Nt){if(!this.precomputed)return!1;var jt=this.precomputed.doubles;return jt?jt.points.length>=Math.ceil((Nt.bitLength()+1)/jt.step):!1},Dt.prototype._getDoubles=function(Nt,jt){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Lt=[this],Vt=this,er=0;er<jt;er+=Nt){for(var ir=0;ir<Nt;ir++)Vt=Vt.dbl();Lt.push(Vt)}return{step:Nt,points:Lt}},Dt.prototype._getNAFPoints=function(Nt){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var jt=[this],Lt=(1<<Nt)-1,Vt=Lt===1?null:this.dbl(),er=1;er<Lt;er++)jt[er]=jt[er-1].add(Vt);return{wnd:Nt,points:jt}},Dt.prototype._getBeta=function(){return null},Dt.prototype.dblp=function(Nt){for(var jt=this,Lt=0;Lt<Nt;Lt++)jt=jt.dbl();return jt},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var nt=requireUtils$1(),et=requireBn$3(),at=requireInherits_browser(),mt=requireBase$1(),$t=nt.assert;function Ct(Nt){mt.call(this,"short",Nt),this.a=new et(Nt.a,16).toRed(this.red),this.b=new et(Nt.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Nt),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}at(Ct,mt),short=Ct,Ct.prototype._getEndomorphism=function(jt){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Lt,Vt;if(jt.beta)Lt=new et(jt.beta,16).toRed(this.red);else{var er=this._getEndoRoots(this.p);Lt=er[0].cmp(er[1])<0?er[0]:er[1],Lt=Lt.toRed(this.red)}if(jt.lambda)Vt=new et(jt.lambda,16);else{var ir=this._getEndoRoots(this.n);this.g.mul(ir[0]).x.cmp(this.g.x.redMul(Lt))===0?Vt=ir[0]:(Vt=ir[1],$t(this.g.mul(Vt).x.cmp(this.g.x.redMul(Lt))===0))}var or;return jt.basis?or=jt.basis.map(function(lr){return{a:new et(lr.a,16),b:new et(lr.b,16)}}):or=this._getEndoBasis(Vt),{beta:Lt,lambda:Vt,basis:or}}},Ct.prototype._getEndoRoots=function(jt){var Lt=jt===this.p?this.red:et.mont(jt),Vt=new et(2).toRed(Lt).redInvm(),er=Vt.redNeg(),ir=new et(3).toRed(Lt).redNeg().redSqrt().redMul(Vt),or=er.redAdd(ir).fromRed(),lr=er.redSub(ir).fromRed();return[or,lr]},Ct.prototype._getEndoBasis=function(jt){for(var Lt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Vt=jt,er=this.n.clone(),ir=new et(1),or=new et(0),lr=new et(0),dr=new et(1),pr,hr,vr,br,xr,Sr,Er,$r=0,Cr,kr;Vt.cmpn(0)!==0;){var gr=er.div(Vt);Cr=er.sub(gr.mul(Vt)),kr=lr.sub(gr.mul(ir));var Ut=dr.sub(gr.mul(or));if(!vr&&Cr.cmp(Lt)<0)pr=Er.neg(),hr=ir,vr=Cr.neg(),br=kr;else if(vr&&++$r===2)break;Er=Cr,er=Vt,Vt=Cr,lr=ir,ir=kr,dr=or,or=Ut}xr=Cr.neg(),Sr=kr;var tr=vr.sqr().add(br.sqr()),nr=xr.sqr().add(Sr.sqr());return nr.cmp(tr)>=0&&(xr=pr,Sr=hr),vr.negative&&(vr=vr.neg(),br=br.neg()),xr.negative&&(xr=xr.neg(),Sr=Sr.neg()),[{a:vr,b:br},{a:xr,b:Sr}]},Ct.prototype._endoSplit=function(jt){var Lt=this.endo.basis,Vt=Lt[0],er=Lt[1],ir=er.b.mul(jt).divRound(this.n),or=Vt.b.neg().mul(jt).divRound(this.n),lr=ir.mul(Vt.a),dr=or.mul(er.a),pr=ir.mul(Vt.b),hr=or.mul(er.b),vr=jt.sub(lr).sub(dr),br=pr.add(hr).neg();return{k1:vr,k2:br}},Ct.prototype.pointFromX=function(jt,Lt){jt=new et(jt,16),jt.red||(jt=jt.toRed(this.red));var Vt=jt.redSqr().redMul(jt).redIAdd(jt.redMul(this.a)).redIAdd(this.b),er=Vt.redSqrt();if(er.redSqr().redSub(Vt).cmp(this.zero)!==0)throw new Error("invalid point");var ir=er.fromRed().isOdd();return(Lt&&!ir||!Lt&&ir)&&(er=er.redNeg()),this.point(jt,er)},Ct.prototype.validate=function(jt){if(jt.inf)return!0;var Lt=jt.x,Vt=jt.y,er=this.a.redMul(Lt),ir=Lt.redSqr().redMul(Lt).redIAdd(er).redIAdd(this.b);return Vt.redSqr().redISub(ir).cmpn(0)===0},Ct.prototype._endoWnafMulAdd=function(jt,Lt,Vt){for(var er=this._endoWnafT1,ir=this._endoWnafT2,or=0;or<jt.length;or++){var lr=this._endoSplit(Lt[or]),dr=jt[or],pr=dr._getBeta();lr.k1.negative&&(lr.k1.ineg(),dr=dr.neg(!0)),lr.k2.negative&&(lr.k2.ineg(),pr=pr.neg(!0)),er[or*2]=dr,er[or*2+1]=pr,ir[or*2]=lr.k1,ir[or*2+1]=lr.k2}for(var hr=this._wnafMulAdd(1,er,ir,or*2,Vt),vr=0;vr<or*2;vr++)er[vr]=null,ir[vr]=null;return hr};function Dt(Nt,jt,Lt,Vt){mt.BasePoint.call(this,Nt,"affine"),jt===null&&Lt===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new et(jt,16),this.y=new et(Lt,16),Vt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}at(Dt,mt.BasePoint),Ct.prototype.point=function(jt,Lt,Vt){return new Dt(this,jt,Lt,Vt)},Ct.prototype.pointFromJSON=function(jt,Lt){return Dt.fromJSON(this,jt,Lt)},Dt.prototype._getBeta=function(){if(this.curve.endo){var jt=this.precomputed;if(jt&&jt.beta)return jt.beta;var Lt=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(jt){var Vt=this.curve,er=function(ir){return Vt.point(ir.x.redMul(Vt.endo.beta),ir.y)};jt.beta=Lt,Lt.precomputed={beta:null,naf:jt.naf&&{wnd:jt.naf.wnd,points:jt.naf.points.map(er)},doubles:jt.doubles&&{step:jt.doubles.step,points:jt.doubles.points.map(er)}}}return Lt}},Dt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Dt.fromJSON=function(jt,Lt,Vt){typeof Lt=="string"&&(Lt=JSON.parse(Lt));var er=jt.point(Lt[0],Lt[1],Vt);if(!Lt[2])return er;function ir(lr){return jt.point(lr[0],lr[1],Vt)}var or=Lt[2];return er.precomputed={beta:null,doubles:or.doubles&&{step:or.doubles.step,points:[er].concat(or.doubles.points.map(ir))},naf:or.naf&&{wnd:or.naf.wnd,points:[er].concat(or.naf.points.map(ir))}},er},Dt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Dt.prototype.isInfinity=function(){return this.inf},Dt.prototype.add=function(jt){if(this.inf)return jt;if(jt.inf)return this;if(this.eq(jt))return this.dbl();if(this.neg().eq(jt))return this.curve.point(null,null);if(this.x.cmp(jt.x)===0)return this.curve.point(null,null);var Lt=this.y.redSub(jt.y);Lt.cmpn(0)!==0&&(Lt=Lt.redMul(this.x.redSub(jt.x).redInvm()));var Vt=Lt.redSqr().redISub(this.x).redISub(jt.x),er=Lt.redMul(this.x.redSub(Vt)).redISub(this.y);return this.curve.point(Vt,er)},Dt.prototype.dbl=function(){if(this.inf)return this;var jt=this.y.redAdd(this.y);if(jt.cmpn(0)===0)return this.curve.point(null,null);var Lt=this.curve.a,Vt=this.x.redSqr(),er=jt.redInvm(),ir=Vt.redAdd(Vt).redIAdd(Vt).redIAdd(Lt).redMul(er),or=ir.redSqr().redISub(this.x.redAdd(this.x)),lr=ir.redMul(this.x.redSub(or)).redISub(this.y);return this.curve.point(or,lr)},Dt.prototype.getX=function(){return this.x.fromRed()},Dt.prototype.getY=function(){return this.y.fromRed()},Dt.prototype.mul=function(jt){return jt=new et(jt,16),this.isInfinity()?this:this._hasDoubles(jt)?this.curve._fixedNafMul(this,jt):this.curve.endo?this.curve._endoWnafMulAdd([this],[jt]):this.curve._wnafMul(this,jt)},Dt.prototype.mulAdd=function(jt,Lt,Vt){var er=[this,Lt],ir=[jt,Vt];return this.curve.endo?this.curve._endoWnafMulAdd(er,ir):this.curve._wnafMulAdd(1,er,ir,2)},Dt.prototype.jmulAdd=function(jt,Lt,Vt){var er=[this,Lt],ir=[jt,Vt];return this.curve.endo?this.curve._endoWnafMulAdd(er,ir,!0):this.curve._wnafMulAdd(1,er,ir,2,!0)},Dt.prototype.eq=function(jt){return this===jt||this.inf===jt.inf&&(this.inf||this.x.cmp(jt.x)===0&&this.y.cmp(jt.y)===0)},Dt.prototype.neg=function(jt){if(this.inf)return this;var Lt=this.curve.point(this.x,this.y.redNeg());if(jt&&this.precomputed){var Vt=this.precomputed,er=function(ir){return ir.neg()};Lt.precomputed={naf:Vt.naf&&{wnd:Vt.naf.wnd,points:Vt.naf.points.map(er)},doubles:Vt.doubles&&{step:Vt.doubles.step,points:Vt.doubles.points.map(er)}}}return Lt},Dt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var jt=this.curve.jpoint(this.x,this.y,this.curve.one);return jt};function Ft(Nt,jt,Lt,Vt){mt.BasePoint.call(this,Nt,"jacobian"),jt===null&&Lt===null&&Vt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new et(0)):(this.x=new et(jt,16),this.y=new et(Lt,16),this.z=new et(Vt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return at(Ft,mt.BasePoint),Ct.prototype.jpoint=function(jt,Lt,Vt){return new Ft(this,jt,Lt,Vt)},Ft.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var jt=this.z.redInvm(),Lt=jt.redSqr(),Vt=this.x.redMul(Lt),er=this.y.redMul(Lt).redMul(jt);return this.curve.point(Vt,er)},Ft.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ft.prototype.add=function(jt){if(this.isInfinity())return jt;if(jt.isInfinity())return this;var Lt=jt.z.redSqr(),Vt=this.z.redSqr(),er=this.x.redMul(Lt),ir=jt.x.redMul(Vt),or=this.y.redMul(Lt.redMul(jt.z)),lr=jt.y.redMul(Vt.redMul(this.z)),dr=er.redSub(ir),pr=or.redSub(lr);if(dr.cmpn(0)===0)return pr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var hr=dr.redSqr(),vr=hr.redMul(dr),br=er.redMul(hr),xr=pr.redSqr().redIAdd(vr).redISub(br).redISub(br),Sr=pr.redMul(br.redISub(xr)).redISub(or.redMul(vr)),Er=this.z.redMul(jt.z).redMul(dr);return this.curve.jpoint(xr,Sr,Er)},Ft.prototype.mixedAdd=function(jt){if(this.isInfinity())return jt.toJ();if(jt.isInfinity())return this;var Lt=this.z.redSqr(),Vt=this.x,er=jt.x.redMul(Lt),ir=this.y,or=jt.y.redMul(Lt).redMul(this.z),lr=Vt.redSub(er),dr=ir.redSub(or);if(lr.cmpn(0)===0)return dr.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var pr=lr.redSqr(),hr=pr.redMul(lr),vr=Vt.redMul(pr),br=dr.redSqr().redIAdd(hr).redISub(vr).redISub(vr),xr=dr.redMul(vr.redISub(br)).redISub(ir.redMul(hr)),Sr=this.z.redMul(lr);return this.curve.jpoint(br,xr,Sr)},Ft.prototype.dblp=function(jt){if(jt===0)return this;if(this.isInfinity())return this;if(!jt)return this.dbl();var Lt;if(this.curve.zeroA||this.curve.threeA){var Vt=this;for(Lt=0;Lt<jt;Lt++)Vt=Vt.dbl();return Vt}var er=this.curve.a,ir=this.curve.tinv,or=this.x,lr=this.y,dr=this.z,pr=dr.redSqr().redSqr(),hr=lr.redAdd(lr);for(Lt=0;Lt<jt;Lt++){var vr=or.redSqr(),br=hr.redSqr(),xr=br.redSqr(),Sr=vr.redAdd(vr).redIAdd(vr).redIAdd(er.redMul(pr)),Er=or.redMul(br),$r=Sr.redSqr().redISub(Er.redAdd(Er)),Cr=Er.redISub($r),kr=Sr.redMul(Cr);kr=kr.redIAdd(kr).redISub(xr);var gr=hr.redMul(dr);Lt+1<jt&&(pr=pr.redMul(xr)),or=$r,dr=gr,hr=kr}return this.curve.jpoint(or,hr.redMul(ir),dr)},Ft.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ft.prototype._zeroDbl=function(){var jt,Lt,Vt;if(this.zOne){var er=this.x.redSqr(),ir=this.y.redSqr(),or=ir.redSqr(),lr=this.x.redAdd(ir).redSqr().redISub(er).redISub(or);lr=lr.redIAdd(lr);var dr=er.redAdd(er).redIAdd(er),pr=dr.redSqr().redISub(lr).redISub(lr),hr=or.redIAdd(or);hr=hr.redIAdd(hr),hr=hr.redIAdd(hr),jt=pr,Lt=dr.redMul(lr.redISub(pr)).redISub(hr),Vt=this.y.redAdd(this.y)}else{var vr=this.x.redSqr(),br=this.y.redSqr(),xr=br.redSqr(),Sr=this.x.redAdd(br).redSqr().redISub(vr).redISub(xr);Sr=Sr.redIAdd(Sr);var Er=vr.redAdd(vr).redIAdd(vr),$r=Er.redSqr(),Cr=xr.redIAdd(xr);Cr=Cr.redIAdd(Cr),Cr=Cr.redIAdd(Cr),jt=$r.redISub(Sr).redISub(Sr),Lt=Er.redMul(Sr.redISub(jt)).redISub(Cr),Vt=this.y.redMul(this.z),Vt=Vt.redIAdd(Vt)}return this.curve.jpoint(jt,Lt,Vt)},Ft.prototype._threeDbl=function(){var jt,Lt,Vt;if(this.zOne){var er=this.x.redSqr(),ir=this.y.redSqr(),or=ir.redSqr(),lr=this.x.redAdd(ir).redSqr().redISub(er).redISub(or);lr=lr.redIAdd(lr);var dr=er.redAdd(er).redIAdd(er).redIAdd(this.curve.a),pr=dr.redSqr().redISub(lr).redISub(lr);jt=pr;var hr=or.redIAdd(or);hr=hr.redIAdd(hr),hr=hr.redIAdd(hr),Lt=dr.redMul(lr.redISub(pr)).redISub(hr),Vt=this.y.redAdd(this.y)}else{var vr=this.z.redSqr(),br=this.y.redSqr(),xr=this.x.redMul(br),Sr=this.x.redSub(vr).redMul(this.x.redAdd(vr));Sr=Sr.redAdd(Sr).redIAdd(Sr);var Er=xr.redIAdd(xr);Er=Er.redIAdd(Er);var $r=Er.redAdd(Er);jt=Sr.redSqr().redISub($r),Vt=this.y.redAdd(this.z).redSqr().redISub(br).redISub(vr);var Cr=br.redSqr();Cr=Cr.redIAdd(Cr),Cr=Cr.redIAdd(Cr),Cr=Cr.redIAdd(Cr),Lt=Sr.redMul(Er.redISub(jt)).redISub(Cr)}return this.curve.jpoint(jt,Lt,Vt)},Ft.prototype._dbl=function(){var jt=this.curve.a,Lt=this.x,Vt=this.y,er=this.z,ir=er.redSqr().redSqr(),or=Lt.redSqr(),lr=Vt.redSqr(),dr=or.redAdd(or).redIAdd(or).redIAdd(jt.redMul(ir)),pr=Lt.redAdd(Lt);pr=pr.redIAdd(pr);var hr=pr.redMul(lr),vr=dr.redSqr().redISub(hr.redAdd(hr)),br=hr.redISub(vr),xr=lr.redSqr();xr=xr.redIAdd(xr),xr=xr.redIAdd(xr),xr=xr.redIAdd(xr);var Sr=dr.redMul(br).redISub(xr),Er=Vt.redAdd(Vt).redMul(er);return this.curve.jpoint(vr,Sr,Er)},Ft.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var jt=this.x.redSqr(),Lt=this.y.redSqr(),Vt=this.z.redSqr(),er=Lt.redSqr(),ir=jt.redAdd(jt).redIAdd(jt),or=ir.redSqr(),lr=this.x.redAdd(Lt).redSqr().redISub(jt).redISub(er);lr=lr.redIAdd(lr),lr=lr.redAdd(lr).redIAdd(lr),lr=lr.redISub(or);var dr=lr.redSqr(),pr=er.redIAdd(er);pr=pr.redIAdd(pr),pr=pr.redIAdd(pr),pr=pr.redIAdd(pr);var hr=ir.redIAdd(lr).redSqr().redISub(or).redISub(dr).redISub(pr),vr=Lt.redMul(hr);vr=vr.redIAdd(vr),vr=vr.redIAdd(vr);var br=this.x.redMul(dr).redISub(vr);br=br.redIAdd(br),br=br.redIAdd(br);var xr=this.y.redMul(hr.redMul(pr.redISub(hr)).redISub(lr.redMul(dr)));xr=xr.redIAdd(xr),xr=xr.redIAdd(xr),xr=xr.redIAdd(xr);var Sr=this.z.redAdd(lr).redSqr().redISub(Vt).redISub(dr);return this.curve.jpoint(br,xr,Sr)},Ft.prototype.mul=function(jt,Lt){return jt=new et(jt,Lt),this.curve._wnafMul(this,jt)},Ft.prototype.eq=function(jt){if(jt.type==="affine")return this.eq(jt.toJ());if(this===jt)return!0;var Lt=this.z.redSqr(),Vt=jt.z.redSqr();if(this.x.redMul(Vt).redISub(jt.x.redMul(Lt)).cmpn(0)!==0)return!1;var er=Lt.redMul(this.z),ir=Vt.redMul(jt.z);return this.y.redMul(ir).redISub(jt.y.redMul(er)).cmpn(0)===0},Ft.prototype.eqXToP=function(jt){var Lt=this.z.redSqr(),Vt=jt.toRed(this.curve.red).redMul(Lt);if(this.x.cmp(Vt)===0)return!0;for(var er=jt.clone(),ir=this.curve.redN.redMul(Lt);;){if(er.iadd(this.curve.n),er.cmp(this.curve.p)>=0)return!1;if(Vt.redIAdd(ir),this.x.cmp(Vt)===0)return!0}},Ft.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ft.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var nt=requireBn$3(),et=requireInherits_browser(),at=requireBase$1(),mt=requireUtils$1();function $t(Dt){at.call(this,"mont",Dt),this.a=new nt(Dt.a,16).toRed(this.red),this.b=new nt(Dt.b,16).toRed(this.red),this.i4=new nt(4).toRed(this.red).redInvm(),this.two=new nt(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}et($t,at),mont=$t,$t.prototype.validate=function(Ft){var Nt=Ft.normalize().x,jt=Nt.redSqr(),Lt=jt.redMul(Nt).redAdd(jt.redMul(this.a)).redAdd(Nt),Vt=Lt.redSqrt();return Vt.redSqr().cmp(Lt)===0};function Ct(Dt,Ft,Nt){at.BasePoint.call(this,Dt,"projective"),Ft===null&&Nt===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new nt(Ft,16),this.z=new nt(Nt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return et(Ct,at.BasePoint),$t.prototype.decodePoint=function(Ft,Nt){return this.point(mt.toArray(Ft,Nt),1)},$t.prototype.point=function(Ft,Nt){return new Ct(this,Ft,Nt)},$t.prototype.pointFromJSON=function(Ft){return Ct.fromJSON(this,Ft)},Ct.prototype.precompute=function(){},Ct.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Ct.fromJSON=function(Ft,Nt){return new Ct(Ft,Nt[0],Nt[1]||Ft.one)},Ct.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Ct.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Ct.prototype.dbl=function(){var Ft=this.x.redAdd(this.z),Nt=Ft.redSqr(),jt=this.x.redSub(this.z),Lt=jt.redSqr(),Vt=Nt.redSub(Lt),er=Nt.redMul(Lt),ir=Vt.redMul(Lt.redAdd(this.curve.a24.redMul(Vt)));return this.curve.point(er,ir)},Ct.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Ct.prototype.diffAdd=function(Ft,Nt){var jt=this.x.redAdd(this.z),Lt=this.x.redSub(this.z),Vt=Ft.x.redAdd(Ft.z),er=Ft.x.redSub(Ft.z),ir=er.redMul(jt),or=Vt.redMul(Lt),lr=Nt.z.redMul(ir.redAdd(or).redSqr()),dr=Nt.x.redMul(ir.redISub(or).redSqr());return this.curve.point(lr,dr)},Ct.prototype.mul=function(Ft){for(var Nt=Ft.clone(),jt=this,Lt=this.curve.point(null,null),Vt=this,er=[];Nt.cmpn(0)!==0;Nt.iushrn(1))er.push(Nt.andln(1));for(var ir=er.length-1;ir>=0;ir--)er[ir]===0?(jt=jt.diffAdd(Lt,Vt),Lt=Lt.dbl()):(Lt=jt.diffAdd(Lt,Vt),jt=jt.dbl());return Lt},Ct.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Ct.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Ct.prototype.eq=function(Ft){return this.getX().cmp(Ft.getX())===0},Ct.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Ct.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var nt=requireUtils$1(),et=requireBn$3(),at=requireInherits_browser(),mt=requireBase$1(),$t=nt.assert;function Ct(Ft){this.twisted=(Ft.a|0)!==1,this.mOneA=this.twisted&&(Ft.a|0)===-1,this.extended=this.mOneA,mt.call(this,"edwards",Ft),this.a=new et(Ft.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new et(Ft.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new et(Ft.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),$t(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(Ft.c|0)===1}at(Ct,mt),edwards=Ct,Ct.prototype._mulA=function(Nt){return this.mOneA?Nt.redNeg():this.a.redMul(Nt)},Ct.prototype._mulC=function(Nt){return this.oneC?Nt:this.c.redMul(Nt)},Ct.prototype.jpoint=function(Nt,jt,Lt,Vt){return this.point(Nt,jt,Lt,Vt)},Ct.prototype.pointFromX=function(Nt,jt){Nt=new et(Nt,16),Nt.red||(Nt=Nt.toRed(this.red));var Lt=Nt.redSqr(),Vt=this.c2.redSub(this.a.redMul(Lt)),er=this.one.redSub(this.c2.redMul(this.d).redMul(Lt)),ir=Vt.redMul(er.redInvm()),or=ir.redSqrt();if(or.redSqr().redSub(ir).cmp(this.zero)!==0)throw new Error("invalid point");var lr=or.fromRed().isOdd();return(jt&&!lr||!jt&&lr)&&(or=or.redNeg()),this.point(Nt,or)},Ct.prototype.pointFromY=function(Nt,jt){Nt=new et(Nt,16),Nt.red||(Nt=Nt.toRed(this.red));var Lt=Nt.redSqr(),Vt=Lt.redSub(this.c2),er=Lt.redMul(this.d).redMul(this.c2).redSub(this.a),ir=Vt.redMul(er.redInvm());if(ir.cmp(this.zero)===0){if(jt)throw new Error("invalid point");return this.point(this.zero,Nt)}var or=ir.redSqrt();if(or.redSqr().redSub(ir).cmp(this.zero)!==0)throw new Error("invalid point");return or.fromRed().isOdd()!==jt&&(or=or.redNeg()),this.point(or,Nt)},Ct.prototype.validate=function(Nt){if(Nt.isInfinity())return!0;Nt.normalize();var jt=Nt.x.redSqr(),Lt=Nt.y.redSqr(),Vt=jt.redMul(this.a).redAdd(Lt),er=this.c2.redMul(this.one.redAdd(this.d.redMul(jt).redMul(Lt)));return Vt.cmp(er)===0};function Dt(Ft,Nt,jt,Lt,Vt){mt.BasePoint.call(this,Ft,"projective"),Nt===null&&jt===null&&Lt===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new et(Nt,16),this.y=new et(jt,16),this.z=Lt?new et(Lt,16):this.curve.one,this.t=Vt&&new et(Vt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return at(Dt,mt.BasePoint),Ct.prototype.pointFromJSON=function(Nt){return Dt.fromJSON(this,Nt)},Ct.prototype.point=function(Nt,jt,Lt,Vt){return new Dt(this,Nt,jt,Lt,Vt)},Dt.fromJSON=function(Nt,jt){return new Dt(Nt,jt[0],jt[1],jt[2])},Dt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Dt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Dt.prototype._extDbl=function(){var Nt=this.x.redSqr(),jt=this.y.redSqr(),Lt=this.z.redSqr();Lt=Lt.redIAdd(Lt);var Vt=this.curve._mulA(Nt),er=this.x.redAdd(this.y).redSqr().redISub(Nt).redISub(jt),ir=Vt.redAdd(jt),or=ir.redSub(Lt),lr=Vt.redSub(jt),dr=er.redMul(or),pr=ir.redMul(lr),hr=er.redMul(lr),vr=or.redMul(ir);return this.curve.point(dr,pr,vr,hr)},Dt.prototype._projDbl=function(){var Nt=this.x.redAdd(this.y).redSqr(),jt=this.x.redSqr(),Lt=this.y.redSqr(),Vt,er,ir,or,lr,dr;if(this.curve.twisted){or=this.curve._mulA(jt);var pr=or.redAdd(Lt);this.zOne?(Vt=Nt.redSub(jt).redSub(Lt).redMul(pr.redSub(this.curve.two)),er=pr.redMul(or.redSub(Lt)),ir=pr.redSqr().redSub(pr).redSub(pr)):(lr=this.z.redSqr(),dr=pr.redSub(lr).redISub(lr),Vt=Nt.redSub(jt).redISub(Lt).redMul(dr),er=pr.redMul(or.redSub(Lt)),ir=pr.redMul(dr))}else or=jt.redAdd(Lt),lr=this.curve._mulC(this.z).redSqr(),dr=or.redSub(lr).redSub(lr),Vt=this.curve._mulC(Nt.redISub(or)).redMul(dr),er=this.curve._mulC(or).redMul(jt.redISub(Lt)),ir=or.redMul(dr);return this.curve.point(Vt,er,ir)},Dt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Dt.prototype._extAdd=function(Nt){var jt=this.y.redSub(this.x).redMul(Nt.y.redSub(Nt.x)),Lt=this.y.redAdd(this.x).redMul(Nt.y.redAdd(Nt.x)),Vt=this.t.redMul(this.curve.dd).redMul(Nt.t),er=this.z.redMul(Nt.z.redAdd(Nt.z)),ir=Lt.redSub(jt),or=er.redSub(Vt),lr=er.redAdd(Vt),dr=Lt.redAdd(jt),pr=ir.redMul(or),hr=lr.redMul(dr),vr=ir.redMul(dr),br=or.redMul(lr);return this.curve.point(pr,hr,br,vr)},Dt.prototype._projAdd=function(Nt){var jt=this.z.redMul(Nt.z),Lt=jt.redSqr(),Vt=this.x.redMul(Nt.x),er=this.y.redMul(Nt.y),ir=this.curve.d.redMul(Vt).redMul(er),or=Lt.redSub(ir),lr=Lt.redAdd(ir),dr=this.x.redAdd(this.y).redMul(Nt.x.redAdd(Nt.y)).redISub(Vt).redISub(er),pr=jt.redMul(or).redMul(dr),hr,vr;return this.curve.twisted?(hr=jt.redMul(lr).redMul(er.redSub(this.curve._mulA(Vt))),vr=or.redMul(lr)):(hr=jt.redMul(lr).redMul(er.redSub(Vt)),vr=this.curve._mulC(or).redMul(lr)),this.curve.point(pr,hr,vr)},Dt.prototype.add=function(Nt){return this.isInfinity()?Nt:Nt.isInfinity()?this:this.curve.extended?this._extAdd(Nt):this._projAdd(Nt)},Dt.prototype.mul=function(Nt){return this._hasDoubles(Nt)?this.curve._fixedNafMul(this,Nt):this.curve._wnafMul(this,Nt)},Dt.prototype.mulAdd=function(Nt,jt,Lt){return this.curve._wnafMulAdd(1,[this,jt],[Nt,Lt],2,!1)},Dt.prototype.jmulAdd=function(Nt,jt,Lt){return this.curve._wnafMulAdd(1,[this,jt],[Nt,Lt],2,!0)},Dt.prototype.normalize=function(){if(this.zOne)return this;var Nt=this.z.redInvm();return this.x=this.x.redMul(Nt),this.y=this.y.redMul(Nt),this.t&&(this.t=this.t.redMul(Nt)),this.z=this.curve.one,this.zOne=!0,this},Dt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Dt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Dt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Dt.prototype.eq=function(Nt){return this===Nt||this.getX().cmp(Nt.getX())===0&&this.getY().cmp(Nt.getY())===0},Dt.prototype.eqXToP=function(Nt){var jt=Nt.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(jt)===0)return!0;for(var Lt=Nt.clone(),Vt=this.curve.redN.redMul(this.z);;){if(Lt.iadd(this.curve.n),Lt.cmp(this.curve.p)>=0)return!1;if(jt.redIAdd(Vt),this.x.cmp(jt)===0)return!0}},Dt.prototype.toP=Dt.prototype.normalize,Dt.prototype.mixedAdd=Dt.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(nt){var et=nt;et.base=requireBase$1(),et.short=requireShort(),et.mont=requireMont(),et.edwards=requireEdwards()}(curve)),curve}var curves={},hash$4={},utils$3={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$3;hasRequiredUtils=1;var nt=requireMinimalisticAssert(),et=requireInherits_browser();utils$3.inherits=et;function at(Ut,tr){return(Ut.charCodeAt(tr)&64512)!==55296||tr<0||tr+1>=Ut.length?!1:(Ut.charCodeAt(tr+1)&64512)===56320}function mt(Ut,tr){if(Array.isArray(Ut))return Ut.slice();if(!Ut)return[];var nr=[];if(typeof Ut=="string")if(tr){if(tr==="hex")for(Ut=Ut.replace(/[^a-z0-9]+/ig,""),Ut.length%2!==0&&(Ut="0"+Ut),ar=0;ar<Ut.length;ar+=2)nr.push(parseInt(Ut[ar]+Ut[ar+1],16))}else for(var rr=0,ar=0;ar<Ut.length;ar++){var cr=Ut.charCodeAt(ar);cr<128?nr[rr++]=cr:cr<2048?(nr[rr++]=cr>>6|192,nr[rr++]=cr&63|128):at(Ut,ar)?(cr=65536+((cr&1023)<<10)+(Ut.charCodeAt(++ar)&1023),nr[rr++]=cr>>18|240,nr[rr++]=cr>>12&63|128,nr[rr++]=cr>>6&63|128,nr[rr++]=cr&63|128):(nr[rr++]=cr>>12|224,nr[rr++]=cr>>6&63|128,nr[rr++]=cr&63|128)}else for(ar=0;ar<Ut.length;ar++)nr[ar]=Ut[ar]|0;return nr}utils$3.toArray=mt;function $t(Ut){for(var tr="",nr=0;nr<Ut.length;nr++)tr+=Ft(Ut[nr].toString(16));return tr}utils$3.toHex=$t;function Ct(Ut){var tr=Ut>>>24|Ut>>>8&65280|Ut<<8&16711680|(Ut&255)<<24;return tr>>>0}utils$3.htonl=Ct;function Dt(Ut,tr){for(var nr="",rr=0;rr<Ut.length;rr++){var ar=Ut[rr];tr==="little"&&(ar=Ct(ar)),nr+=Nt(ar.toString(16))}return nr}utils$3.toHex32=Dt;function Ft(Ut){return Ut.length===1?"0"+Ut:Ut}utils$3.zero2=Ft;function Nt(Ut){return Ut.length===7?"0"+Ut:Ut.length===6?"00"+Ut:Ut.length===5?"000"+Ut:Ut.length===4?"0000"+Ut:Ut.length===3?"00000"+Ut:Ut.length===2?"000000"+Ut:Ut.length===1?"0000000"+Ut:Ut}utils$3.zero8=Nt;function jt(Ut,tr,nr,rr){var ar=nr-tr;nt(ar%4===0);for(var cr=new Array(ar/4),fr=0,sr=tr;fr<cr.length;fr++,sr+=4){var Yt;rr==="big"?Yt=Ut[sr]<<24|Ut[sr+1]<<16|Ut[sr+2]<<8|Ut[sr+3]:Yt=Ut[sr+3]<<24|Ut[sr+2]<<16|Ut[sr+1]<<8|Ut[sr],cr[fr]=Yt>>>0}return cr}utils$3.join32=jt;function Lt(Ut,tr){for(var nr=new Array(Ut.length*4),rr=0,ar=0;rr<Ut.length;rr++,ar+=4){var cr=Ut[rr];tr==="big"?(nr[ar]=cr>>>24,nr[ar+1]=cr>>>16&255,nr[ar+2]=cr>>>8&255,nr[ar+3]=cr&255):(nr[ar+3]=cr>>>24,nr[ar+2]=cr>>>16&255,nr[ar+1]=cr>>>8&255,nr[ar]=cr&255)}return nr}utils$3.split32=Lt;function Vt(Ut,tr){return Ut>>>tr|Ut<<32-tr}utils$3.rotr32=Vt;function er(Ut,tr){return Ut<<tr|Ut>>>32-tr}utils$3.rotl32=er;function ir(Ut,tr){return Ut+tr>>>0}utils$3.sum32=ir;function or(Ut,tr,nr){return Ut+tr+nr>>>0}utils$3.sum32_3=or;function lr(Ut,tr,nr,rr){return Ut+tr+nr+rr>>>0}utils$3.sum32_4=lr;function dr(Ut,tr,nr,rr,ar){return Ut+tr+nr+rr+ar>>>0}utils$3.sum32_5=dr;function pr(Ut,tr,nr,rr){var ar=Ut[tr],cr=Ut[tr+1],fr=rr+cr>>>0,sr=(fr<rr?1:0)+nr+ar;Ut[tr]=sr>>>0,Ut[tr+1]=fr}utils$3.sum64=pr;function hr(Ut,tr,nr,rr){var ar=tr+rr>>>0,cr=(ar<tr?1:0)+Ut+nr;return cr>>>0}utils$3.sum64_hi=hr;function vr(Ut,tr,nr,rr){var ar=tr+rr;return ar>>>0}utils$3.sum64_lo=vr;function br(Ut,tr,nr,rr,ar,cr,fr,sr){var Yt=0,ur=tr;ur=ur+rr>>>0,Yt+=ur<tr?1:0,ur=ur+cr>>>0,Yt+=ur<cr?1:0,ur=ur+sr>>>0,Yt+=ur<sr?1:0;var _r=Ut+nr+ar+fr+Yt;return _r>>>0}utils$3.sum64_4_hi=br;function xr(Ut,tr,nr,rr,ar,cr,fr,sr){var Yt=tr+rr+cr+sr;return Yt>>>0}utils$3.sum64_4_lo=xr;function Sr(Ut,tr,nr,rr,ar,cr,fr,sr,Yt,ur){var _r=0,yr=tr;yr=yr+rr>>>0,_r+=yr<tr?1:0,yr=yr+cr>>>0,_r+=yr<cr?1:0,yr=yr+sr>>>0,_r+=yr<sr?1:0,yr=yr+ur>>>0,_r+=yr<ur?1:0;var wr=Ut+nr+ar+fr+Yt+_r;return wr>>>0}utils$3.sum64_5_hi=Sr;function Er(Ut,tr,nr,rr,ar,cr,fr,sr,Yt,ur){var _r=tr+rr+cr+sr+ur;return _r>>>0}utils$3.sum64_5_lo=Er;function $r(Ut,tr,nr){var rr=tr<<32-nr|Ut>>>nr;return rr>>>0}utils$3.rotr64_hi=$r;function Cr(Ut,tr,nr){var rr=Ut<<32-nr|tr>>>nr;return rr>>>0}utils$3.rotr64_lo=Cr;function kr(Ut,tr,nr){return Ut>>>nr}utils$3.shr64_hi=kr;function gr(Ut,tr,nr){var rr=Ut<<32-nr|tr>>>nr;return rr>>>0}return utils$3.shr64_lo=gr,utils$3}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var nt=requireUtils(),et=requireMinimalisticAssert();function at(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=at,at.prototype.update=function($t,Ct){if($t=nt.toArray($t,Ct),this.pending?this.pending=this.pending.concat($t):this.pending=$t,this.pendingTotal+=$t.length,this.pending.length>=this._delta8){$t=this.pending;var Dt=$t.length%this._delta8;this.pending=$t.slice($t.length-Dt,$t.length),this.pending.length===0&&(this.pending=null),$t=nt.join32($t,0,$t.length-Dt,this.endian);for(var Ft=0;Ft<$t.length;Ft+=this._delta32)this._update($t,Ft,Ft+this._delta32)}return this},at.prototype.digest=function($t){return this.update(this._pad()),et(this.pending===null),this._digest($t)},at.prototype._pad=function(){var $t=this.pendingTotal,Ct=this._delta8,Dt=Ct-($t+this.padLength)%Ct,Ft=new Array(Dt+this.padLength);Ft[0]=128;for(var Nt=1;Nt<Dt;Nt++)Ft[Nt]=0;if($t<<=3,this.endian==="big"){for(var jt=8;jt<this.padLength;jt++)Ft[Nt++]=0;Ft[Nt++]=0,Ft[Nt++]=0,Ft[Nt++]=0,Ft[Nt++]=0,Ft[Nt++]=$t>>>24&255,Ft[Nt++]=$t>>>16&255,Ft[Nt++]=$t>>>8&255,Ft[Nt++]=$t&255}else for(Ft[Nt++]=$t&255,Ft[Nt++]=$t>>>8&255,Ft[Nt++]=$t>>>16&255,Ft[Nt++]=$t>>>24&255,Ft[Nt++]=0,Ft[Nt++]=0,Ft[Nt++]=0,Ft[Nt++]=0,jt=8;jt<this.padLength;jt++)Ft[Nt++]=0;return Ft},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var nt=requireUtils(),et=nt.rotr32;function at(Lt,Vt,er,ir){if(Lt===0)return mt(Vt,er,ir);if(Lt===1||Lt===3)return Ct(Vt,er,ir);if(Lt===2)return $t(Vt,er,ir)}common.ft_1=at;function mt(Lt,Vt,er){return Lt&Vt^~Lt&er}common.ch32=mt;function $t(Lt,Vt,er){return Lt&Vt^Lt&er^Vt&er}common.maj32=$t;function Ct(Lt,Vt,er){return Lt^Vt^er}common.p32=Ct;function Dt(Lt){return et(Lt,2)^et(Lt,13)^et(Lt,22)}common.s0_256=Dt;function Ft(Lt){return et(Lt,6)^et(Lt,11)^et(Lt,25)}common.s1_256=Ft;function Nt(Lt){return et(Lt,7)^et(Lt,18)^Lt>>>3}common.g0_256=Nt;function jt(Lt){return et(Lt,17)^et(Lt,19)^Lt>>>10}return common.g1_256=jt,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var nt=requireUtils(),et=requireCommon$1(),at=requireCommon(),mt=nt.rotl32,$t=nt.sum32,Ct=nt.sum32_5,Dt=at.ft_1,Ft=et.BlockHash,Nt=[1518500249,1859775393,2400959708,3395469782];function jt(){if(!(this instanceof jt))return new jt;Ft.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return nt.inherits(jt,Ft),_1=jt,jt.blockSize=512,jt.outSize=160,jt.hmacStrength=80,jt.padLength=64,jt.prototype._update=function(Vt,er){for(var ir=this.W,or=0;or<16;or++)ir[or]=Vt[er+or];for(;or<ir.length;or++)ir[or]=mt(ir[or-3]^ir[or-8]^ir[or-14]^ir[or-16],1);var lr=this.h[0],dr=this.h[1],pr=this.h[2],hr=this.h[3],vr=this.h[4];for(or=0;or<ir.length;or++){var br=~~(or/20),xr=Ct(mt(lr,5),Dt(br,dr,pr,hr),vr,ir[or],Nt[br]);vr=hr,hr=pr,pr=mt(dr,30),dr=lr,lr=xr}this.h[0]=$t(this.h[0],lr),this.h[1]=$t(this.h[1],dr),this.h[2]=$t(this.h[2],pr),this.h[3]=$t(this.h[3],hr),this.h[4]=$t(this.h[4],vr)},jt.prototype._digest=function(Vt){return Vt==="hex"?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var nt=requireUtils(),et=requireCommon$1(),at=requireCommon(),mt=requireMinimalisticAssert(),$t=nt.sum32,Ct=nt.sum32_4,Dt=nt.sum32_5,Ft=at.ch32,Nt=at.maj32,jt=at.s0_256,Lt=at.s1_256,Vt=at.g0_256,er=at.g1_256,ir=et.BlockHash,or=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lr(){if(!(this instanceof lr))return new lr;ir.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=or,this.W=new Array(64)}return nt.inherits(lr,ir),_256=lr,lr.blockSize=512,lr.outSize=256,lr.hmacStrength=192,lr.padLength=64,lr.prototype._update=function(pr,hr){for(var vr=this.W,br=0;br<16;br++)vr[br]=pr[hr+br];for(;br<vr.length;br++)vr[br]=Ct(er(vr[br-2]),vr[br-7],Vt(vr[br-15]),vr[br-16]);var xr=this.h[0],Sr=this.h[1],Er=this.h[2],$r=this.h[3],Cr=this.h[4],kr=this.h[5],gr=this.h[6],Ut=this.h[7];for(mt(this.k.length===vr.length),br=0;br<vr.length;br++){var tr=Dt(Ut,Lt(Cr),Ft(Cr,kr,gr),this.k[br],vr[br]),nr=$t(jt(xr),Nt(xr,Sr,Er));Ut=gr,gr=kr,kr=Cr,Cr=$t($r,tr),$r=Er,Er=Sr,Sr=xr,xr=$t(tr,nr)}this.h[0]=$t(this.h[0],xr),this.h[1]=$t(this.h[1],Sr),this.h[2]=$t(this.h[2],Er),this.h[3]=$t(this.h[3],$r),this.h[4]=$t(this.h[4],Cr),this.h[5]=$t(this.h[5],kr),this.h[6]=$t(this.h[6],gr),this.h[7]=$t(this.h[7],Ut)},lr.prototype._digest=function(pr){return pr==="hex"?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var nt=requireUtils(),et=require_256();function at(){if(!(this instanceof at))return new at;et.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return nt.inherits(at,et),_224=at,at.blockSize=512,at.outSize=224,at.hmacStrength=192,at.padLength=64,at.prototype._digest=function($t){return $t==="hex"?nt.toHex32(this.h.slice(0,7),"big"):nt.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var nt=requireUtils(),et=requireCommon$1(),at=requireMinimalisticAssert(),mt=nt.rotr64_hi,$t=nt.rotr64_lo,Ct=nt.shr64_hi,Dt=nt.shr64_lo,Ft=nt.sum64,Nt=nt.sum64_hi,jt=nt.sum64_lo,Lt=nt.sum64_4_hi,Vt=nt.sum64_4_lo,er=nt.sum64_5_hi,ir=nt.sum64_5_lo,or=et.BlockHash,lr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function dr(){if(!(this instanceof dr))return new dr;or.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=lr,this.W=new Array(160)}nt.inherits(dr,or),_512=dr,dr.blockSize=1024,dr.outSize=512,dr.hmacStrength=192,dr.padLength=128,dr.prototype._prepareBlock=function(nr,rr){for(var ar=this.W,cr=0;cr<32;cr++)ar[cr]=nr[rr+cr];for(;cr<ar.length;cr+=2){var fr=gr(ar[cr-4],ar[cr-3]),sr=Ut(ar[cr-4],ar[cr-3]),Yt=ar[cr-14],ur=ar[cr-13],_r=Cr(ar[cr-30],ar[cr-29]),yr=kr(ar[cr-30],ar[cr-29]),wr=ar[cr-32],Ir=ar[cr-31];ar[cr]=Lt(fr,sr,Yt,ur,_r,yr,wr,Ir),ar[cr+1]=Vt(fr,sr,Yt,ur,_r,yr,wr,Ir)}},dr.prototype._update=function(nr,rr){this._prepareBlock(nr,rr);var ar=this.W,cr=this.h[0],fr=this.h[1],sr=this.h[2],Yt=this.h[3],ur=this.h[4],_r=this.h[5],yr=this.h[6],wr=this.h[7],Ir=this.h[8],Or=this.h[9],Ar=this.h[10],Nr=this.h[11],Hr=this.h[12],Pr=this.h[13],Dr=this.h[14],Rr=this.h[15];at(this.k.length===ar.length);for(var Vr=0;Vr<ar.length;Vr+=2){var an=Dr,Xr=Rr,Jr=Er(Ir,Or),Zr=$r(Ir,Or),Gr=pr(Ir,Or,Ar,Nr,Hr),zr=hr(Ir,Or,Ar,Nr,Hr,Pr),Dn=this.k[Vr],Qr=this.k[Vr+1],Un=ar[Vr],ro=ar[Vr+1],Hn=er(an,Xr,Jr,Zr,Gr,zr,Dn,Qr,Un,ro),Qn=ir(an,Xr,Jr,Zr,Gr,zr,Dn,Qr,Un,ro);an=xr(cr,fr),Xr=Sr(cr,fr),Jr=vr(cr,fr,sr,Yt,ur),Zr=br(cr,fr,sr,Yt,ur,_r);var $o=Nt(an,Xr,Jr,Zr),Kn=jt(an,Xr,Jr,Zr);Dr=Hr,Rr=Pr,Hr=Ar,Pr=Nr,Ar=Ir,Nr=Or,Ir=Nt(yr,wr,Hn,Qn),Or=jt(wr,wr,Hn,Qn),yr=ur,wr=_r,ur=sr,_r=Yt,sr=cr,Yt=fr,cr=Nt(Hn,Qn,$o,Kn),fr=jt(Hn,Qn,$o,Kn)}Ft(this.h,0,cr,fr),Ft(this.h,2,sr,Yt),Ft(this.h,4,ur,_r),Ft(this.h,6,yr,wr),Ft(this.h,8,Ir,Or),Ft(this.h,10,Ar,Nr),Ft(this.h,12,Hr,Pr),Ft(this.h,14,Dr,Rr)},dr.prototype._digest=function(nr){return nr==="hex"?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")};function pr(tr,nr,rr,ar,cr){var fr=tr&rr^~tr&cr;return fr<0&&(fr+=4294967296),fr}function hr(tr,nr,rr,ar,cr,fr){var sr=nr&ar^~nr&fr;return sr<0&&(sr+=4294967296),sr}function vr(tr,nr,rr,ar,cr){var fr=tr&rr^tr&cr^rr&cr;return fr<0&&(fr+=4294967296),fr}function br(tr,nr,rr,ar,cr,fr){var sr=nr&ar^nr&fr^ar&fr;return sr<0&&(sr+=4294967296),sr}function xr(tr,nr){var rr=mt(tr,nr,28),ar=mt(nr,tr,2),cr=mt(nr,tr,7),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}function Sr(tr,nr){var rr=$t(tr,nr,28),ar=$t(nr,tr,2),cr=$t(nr,tr,7),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}function Er(tr,nr){var rr=mt(tr,nr,14),ar=mt(tr,nr,18),cr=mt(nr,tr,9),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}function $r(tr,nr){var rr=$t(tr,nr,14),ar=$t(tr,nr,18),cr=$t(nr,tr,9),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}function Cr(tr,nr){var rr=mt(tr,nr,1),ar=mt(tr,nr,8),cr=Ct(tr,nr,7),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}function kr(tr,nr){var rr=$t(tr,nr,1),ar=$t(tr,nr,8),cr=Dt(tr,nr,7),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}function gr(tr,nr){var rr=mt(tr,nr,19),ar=mt(nr,tr,29),cr=Ct(tr,nr,6),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}function Ut(tr,nr){var rr=$t(tr,nr,19),ar=$t(nr,tr,29),cr=Dt(tr,nr,6),fr=rr^ar^cr;return fr<0&&(fr+=4294967296),fr}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var nt=requireUtils(),et=require_512();function at(){if(!(this instanceof at))return new at;et.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return nt.inherits(at,et),_384=at,at.blockSize=1024,at.outSize=384,at.hmacStrength=192,at.padLength=128,at.prototype._digest=function($t){return $t==="hex"?nt.toHex32(this.h.slice(0,12),"big"):nt.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var nt=requireUtils(),et=requireCommon$1(),at=nt.rotl32,mt=nt.sum32,$t=nt.sum32_3,Ct=nt.sum32_4,Dt=et.BlockHash;function Ft(){if(!(this instanceof Ft))return new Ft;Dt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}nt.inherits(Ft,Dt),ripemd.ripemd160=Ft,Ft.blockSize=512,Ft.outSize=160,Ft.hmacStrength=192,Ft.padLength=64,Ft.prototype._update=function(dr,pr){for(var hr=this.h[0],vr=this.h[1],br=this.h[2],xr=this.h[3],Sr=this.h[4],Er=hr,$r=vr,Cr=br,kr=xr,gr=Sr,Ut=0;Ut<80;Ut++){var tr=mt(at(Ct(hr,Nt(Ut,vr,br,xr),dr[Vt[Ut]+pr],jt(Ut)),ir[Ut]),Sr);hr=Sr,Sr=xr,xr=at(br,10),br=vr,vr=tr,tr=mt(at(Ct(Er,Nt(79-Ut,$r,Cr,kr),dr[er[Ut]+pr],Lt(Ut)),or[Ut]),gr),Er=gr,gr=kr,kr=at(Cr,10),Cr=$r,$r=tr}tr=$t(this.h[1],br,kr),this.h[1]=$t(this.h[2],xr,gr),this.h[2]=$t(this.h[3],Sr,Er),this.h[3]=$t(this.h[4],hr,$r),this.h[4]=$t(this.h[0],vr,Cr),this.h[0]=tr},Ft.prototype._digest=function(dr){return dr==="hex"?nt.toHex32(this.h,"little"):nt.split32(this.h,"little")};function Nt(lr,dr,pr,hr){return lr<=15?dr^pr^hr:lr<=31?dr&pr|~dr&hr:lr<=47?(dr|~pr)^hr:lr<=63?dr&hr|pr&~hr:dr^(pr|~hr)}function jt(lr){return lr<=15?0:lr<=31?1518500249:lr<=47?1859775393:lr<=63?2400959708:2840853838}function Lt(lr){return lr<=15?1352829926:lr<=31?1548603684:lr<=47?1836072691:lr<=63?2053994217:0}var Vt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],er=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ir=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],or=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var nt=requireUtils(),et=requireMinimalisticAssert();function at(mt,$t,Ct){if(!(this instanceof at))return new at(mt,$t,Ct);this.Hash=mt,this.blockSize=mt.blockSize/8,this.outSize=mt.outSize/8,this.inner=null,this.outer=null,this._init(nt.toArray($t,Ct))}return hmac$1=at,at.prototype._init=function($t){$t.length>this.blockSize&&($t=new this.Hash().update($t).digest()),et($t.length<=this.blockSize);for(var Ct=$t.length;Ct<this.blockSize;Ct++)$t.push(0);for(Ct=0;Ct<$t.length;Ct++)$t[Ct]^=54;for(this.inner=new this.Hash().update($t),Ct=0;Ct<$t.length;Ct++)$t[Ct]^=106;this.outer=new this.Hash().update($t)},at.prototype.update=function($t,Ct){return this.inner.update($t,Ct),this},at.prototype.digest=function($t){return this.outer.update(this.inner.digest()),this.outer.digest($t)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(nt){var et=nt;et.utils=requireUtils(),et.common=requireCommon$1(),et.sha=requireSha(),et.ripemd=requireRipemd(),et.hmac=requireHmac$1(),et.sha1=et.sha.sha1,et.sha256=et.sha.sha256,et.sha224=et.sha.sha224,et.sha384=et.sha.sha384,et.sha512=et.sha.sha512,et.ripemd160=et.ripemd.ripemd160}(hash$4)),hash$4}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(nt){var et=nt,at=requireHash(),mt=requireCurve(),$t=requireUtils$1(),Ct=$t.assert;function Dt(jt){jt.type==="short"?this.curve=new mt.short(jt):jt.type==="edwards"?this.curve=new mt.edwards(jt):this.curve=new mt.mont(jt),this.g=this.curve.g,this.n=this.curve.n,this.hash=jt.hash,Ct(this.g.validate(),"Invalid curve"),Ct(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}et.PresetCurve=Dt;function Ft(jt,Lt){Object.defineProperty(et,jt,{configurable:!0,enumerable:!0,get:function(){var Vt=new Dt(Lt);return Object.defineProperty(et,jt,{configurable:!0,enumerable:!0,value:Vt}),Vt}})}Ft("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:at.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),Ft("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:at.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),Ft("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:at.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),Ft("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:at.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),Ft("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:at.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),Ft("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:at.sha256,gRed:!1,g:["9"]}),Ft("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:at.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Nt;try{Nt=requireSecp256k1()}catch{Nt=void 0}Ft("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:at.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Nt]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var nt=requireHash(),et=requireUtils$2(),at=requireMinimalisticAssert();function mt($t){if(!(this instanceof mt))return new mt($t);this.hash=$t.hash,this.predResist=!!$t.predResist,this.outLen=this.hash.outSize,this.minEntropy=$t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var Ct=et.toArray($t.entropy,$t.entropyEnc||"hex"),Dt=et.toArray($t.nonce,$t.nonceEnc||"hex"),Ft=et.toArray($t.pers,$t.persEnc||"hex");at(Ct.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(Ct,Dt,Ft)}return hmacDrbg=mt,mt.prototype._init=function(Ct,Dt,Ft){var Nt=Ct.concat(Dt).concat(Ft);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var jt=0;jt<this.V.length;jt++)this.K[jt]=0,this.V[jt]=1;this._update(Nt),this._reseed=1,this.reseedInterval=281474976710656},mt.prototype._hmac=function(){return new nt.hmac(this.hash,this.K)},mt.prototype._update=function(Ct){var Dt=this._hmac().update(this.V).update([0]);Ct&&(Dt=Dt.update(Ct)),this.K=Dt.digest(),this.V=this._hmac().update(this.V).digest(),Ct&&(this.K=this._hmac().update(this.V).update([1]).update(Ct).digest(),this.V=this._hmac().update(this.V).digest())},mt.prototype.reseed=function(Ct,Dt,Ft,Nt){typeof Dt!="string"&&(Nt=Ft,Ft=Dt,Dt=null),Ct=et.toArray(Ct,Dt),Ft=et.toArray(Ft,Nt),at(Ct.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Ct.concat(Ft||[])),this._reseed=1},mt.prototype.generate=function(Ct,Dt,Ft,Nt){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof Dt!="string"&&(Nt=Ft,Ft=Dt,Dt=null),Ft&&(Ft=et.toArray(Ft,Nt||"hex"),this._update(Ft));for(var jt=[];jt.length<Ct;)this.V=this._hmac().update(this.V).digest(),jt=jt.concat(this.V);var Lt=jt.slice(0,Ct);return this._update(Ft),this._reseed++,et.encode(Lt,Dt)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var nt=requireBn$3(),et=requireUtils$1(),at=et.assert;function mt($t,Ct){this.ec=$t,this.priv=null,this.pub=null,Ct.priv&&this._importPrivate(Ct.priv,Ct.privEnc),Ct.pub&&this._importPublic(Ct.pub,Ct.pubEnc)}return key$1=mt,mt.fromPublic=function(Ct,Dt,Ft){return Dt instanceof mt?Dt:new mt(Ct,{pub:Dt,pubEnc:Ft})},mt.fromPrivate=function(Ct,Dt,Ft){return Dt instanceof mt?Dt:new mt(Ct,{priv:Dt,privEnc:Ft})},mt.prototype.validate=function(){var Ct=this.getPublic();return Ct.isInfinity()?{result:!1,reason:"Invalid public key"}:Ct.validate()?Ct.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},mt.prototype.getPublic=function(Ct,Dt){return typeof Ct=="string"&&(Dt=Ct,Ct=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),Dt?this.pub.encode(Dt,Ct):this.pub},mt.prototype.getPrivate=function(Ct){return Ct==="hex"?this.priv.toString(16,2):this.priv},mt.prototype._importPrivate=function(Ct,Dt){this.priv=new nt(Ct,Dt||16),this.priv=this.priv.umod(this.ec.curve.n)},mt.prototype._importPublic=function(Ct,Dt){if(Ct.x||Ct.y){this.ec.curve.type==="mont"?at(Ct.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&at(Ct.x&&Ct.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(Ct.x,Ct.y);return}this.pub=this.ec.curve.decodePoint(Ct,Dt)},mt.prototype.derive=function(Ct){return Ct.validate()||at(Ct.validate(),"public point not validated"),Ct.mul(this.priv).getX()},mt.prototype.sign=function(Ct,Dt,Ft){return this.ec.sign(Ct,this,Dt,Ft)},mt.prototype.verify=function(Ct,Dt,Ft){return this.ec.verify(Ct,Dt,this,void 0,Ft)},mt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var nt=requireBn$3(),et=requireUtils$1(),at=et.assert;function mt(Nt,jt){if(Nt instanceof mt)return Nt;this._importDER(Nt,jt)||(at(Nt.r&&Nt.s,"Signature without r or s"),this.r=new nt(Nt.r,16),this.s=new nt(Nt.s,16),Nt.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Nt.recoveryParam)}signature$1=mt;function $t(){this.place=0}function Ct(Nt,jt){var Lt=Nt[jt.place++];if(!(Lt&128))return Lt;var Vt=Lt&15;if(Vt===0||Vt>4||Nt[jt.place]===0)return!1;for(var er=0,ir=0,or=jt.place;ir<Vt;ir++,or++)er<<=8,er|=Nt[or],er>>>=0;return er<=127?!1:(jt.place=or,er)}function Dt(Nt){for(var jt=0,Lt=Nt.length-1;!Nt[jt]&&!(Nt[jt+1]&128)&&jt<Lt;)jt++;return jt===0?Nt:Nt.slice(jt)}mt.prototype._importDER=function(jt,Lt){jt=et.toArray(jt,Lt);var Vt=new $t;if(jt[Vt.place++]!==48)return!1;var er=Ct(jt,Vt);if(er===!1||er+Vt.place!==jt.length||jt[Vt.place++]!==2)return!1;var ir=Ct(jt,Vt);if(ir===!1||jt[Vt.place]&128)return!1;var or=jt.slice(Vt.place,ir+Vt.place);if(Vt.place+=ir,jt[Vt.place++]!==2)return!1;var lr=Ct(jt,Vt);if(lr===!1||jt.length!==lr+Vt.place||jt[Vt.place]&128)return!1;var dr=jt.slice(Vt.place,lr+Vt.place);if(or[0]===0)if(or[1]&128)or=or.slice(1);else return!1;if(dr[0]===0)if(dr[1]&128)dr=dr.slice(1);else return!1;return this.r=new nt(or),this.s=new nt(dr),this.recoveryParam=null,!0};function Ft(Nt,jt){if(jt<128){Nt.push(jt);return}var Lt=1+(Math.log(jt)/Math.LN2>>>3);for(Nt.push(Lt|128);--Lt;)Nt.push(jt>>>(Lt<<3)&255);Nt.push(jt)}return mt.prototype.toDER=function(jt){var Lt=this.r.toArray(),Vt=this.s.toArray();for(Lt[0]&128&&(Lt=[0].concat(Lt)),Vt[0]&128&&(Vt=[0].concat(Vt)),Lt=Dt(Lt),Vt=Dt(Vt);!Vt[0]&&!(Vt[1]&128);)Vt=Vt.slice(1);var er=[2];Ft(er,Lt.length),er=er.concat(Lt),er.push(2),Ft(er,Vt.length);var ir=er.concat(Vt),or=[48];return Ft(or,ir.length),or=or.concat(ir),et.encode(or,jt)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var nt=requireBn$3(),et=requireHmacDrbg(),at=requireUtils$1(),mt=requireCurves(),$t=requireBrorand(),Ct=at.assert,Dt=requireKey$1(),Ft=requireSignature$1();function Nt(jt){if(!(this instanceof Nt))return new Nt(jt);typeof jt=="string"&&(Ct(Object.prototype.hasOwnProperty.call(mt,jt),"Unknown curve "+jt),jt=mt[jt]),jt instanceof mt.PresetCurve&&(jt={curve:jt}),this.curve=jt.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=jt.curve.g,this.g.precompute(jt.curve.n.bitLength()+1),this.hash=jt.hash||jt.curve.hash}return ec=Nt,Nt.prototype.keyPair=function(Lt){return new Dt(this,Lt)},Nt.prototype.keyFromPrivate=function(Lt,Vt){return Dt.fromPrivate(this,Lt,Vt)},Nt.prototype.keyFromPublic=function(Lt,Vt){return Dt.fromPublic(this,Lt,Vt)},Nt.prototype.genKeyPair=function(Lt){Lt||(Lt={});for(var Vt=new et({hash:this.hash,pers:Lt.pers,persEnc:Lt.persEnc||"utf8",entropy:Lt.entropy||$t(this.hash.hmacStrength),entropyEnc:Lt.entropy&&Lt.entropyEnc||"utf8",nonce:this.n.toArray()}),er=this.n.byteLength(),ir=this.n.sub(new nt(2));;){var or=new nt(Vt.generate(er));if(!(or.cmp(ir)>0))return or.iaddn(1),this.keyFromPrivate(or)}},Nt.prototype._truncateToN=function(Lt,Vt,er){var ir;if(nt.isBN(Lt)||typeof Lt=="number")Lt=new nt(Lt,16),ir=Lt.byteLength();else if(typeof Lt=="object")ir=Lt.length,Lt=new nt(Lt,16);else{var or=Lt.toString();ir=or.length+1>>>1,Lt=new nt(or,16)}typeof er!="number"&&(er=ir*8);var lr=er-this.n.bitLength();return lr>0&&(Lt=Lt.ushrn(lr)),!Vt&&Lt.cmp(this.n)>=0?Lt.sub(this.n):Lt},Nt.prototype.sign=function(Lt,Vt,er,ir){if(typeof er=="object"&&(ir=er,er=null),ir||(ir={}),typeof Lt!="string"&&typeof Lt!="number"&&!nt.isBN(Lt)){Ct(typeof Lt=="object"&&Lt&&typeof Lt.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Ct(Lt.length>>>0===Lt.length);for(var or=0;or<Lt.length;or++)Ct((Lt[or]&255)===Lt[or])}Vt=this.keyFromPrivate(Vt,er),Lt=this._truncateToN(Lt,!1,ir.msgBitLength),Ct(!Lt.isNeg(),"Can not sign a negative message");var lr=this.n.byteLength(),dr=Vt.getPrivate().toArray("be",lr),pr=Lt.toArray("be",lr);Ct(new nt(pr).eq(Lt),"Can not sign message");for(var hr=new et({hash:this.hash,entropy:dr,nonce:pr,pers:ir.pers,persEnc:ir.persEnc||"utf8"}),vr=this.n.sub(new nt(1)),br=0;;br++){var xr=ir.k?ir.k(br):new nt(hr.generate(this.n.byteLength()));if(xr=this._truncateToN(xr,!0),!(xr.cmpn(1)<=0||xr.cmp(vr)>=0)){var Sr=this.g.mul(xr);if(!Sr.isInfinity()){var Er=Sr.getX(),$r=Er.umod(this.n);if($r.cmpn(0)!==0){var Cr=xr.invm(this.n).mul($r.mul(Vt.getPrivate()).iadd(Lt));if(Cr=Cr.umod(this.n),Cr.cmpn(0)!==0){var kr=(Sr.getY().isOdd()?1:0)|(Er.cmp($r)!==0?2:0);return ir.canonical&&Cr.cmp(this.nh)>0&&(Cr=this.n.sub(Cr),kr^=1),new Ft({r:$r,s:Cr,recoveryParam:kr})}}}}}},Nt.prototype.verify=function(Lt,Vt,er,ir,or){or||(or={}),Lt=this._truncateToN(Lt,!1,or.msgBitLength),er=this.keyFromPublic(er,ir),Vt=new Ft(Vt,"hex");var lr=Vt.r,dr=Vt.s;if(lr.cmpn(1)<0||lr.cmp(this.n)>=0||dr.cmpn(1)<0||dr.cmp(this.n)>=0)return!1;var pr=dr.invm(this.n),hr=pr.mul(Lt).umod(this.n),vr=pr.mul(lr).umod(this.n),br;return this.curve._maxwellTrick?(br=this.g.jmulAdd(hr,er.getPublic(),vr),br.isInfinity()?!1:br.eqXToP(lr)):(br=this.g.mulAdd(hr,er.getPublic(),vr),br.isInfinity()?!1:br.getX().umod(this.n).cmp(lr)===0)},Nt.prototype.recoverPubKey=function(jt,Lt,Vt,er){Ct((3&Vt)===Vt,"The recovery param is more than two bits"),Lt=new Ft(Lt,er);var ir=this.n,or=new nt(jt),lr=Lt.r,dr=Lt.s,pr=Vt&1,hr=Vt>>1;if(lr.cmp(this.curve.p.umod(this.curve.n))>=0&&hr)throw new Error("Unable to find sencond key candinate");hr?lr=this.curve.pointFromX(lr.add(this.curve.n),pr):lr=this.curve.pointFromX(lr,pr);var vr=Lt.r.invm(ir),br=ir.sub(or).mul(vr).umod(ir),xr=dr.mul(vr).umod(ir);return this.g.mulAdd(br,lr,xr)},Nt.prototype.getKeyRecoveryParam=function(jt,Lt,Vt,er){if(Lt=new Ft(Lt,er),Lt.recoveryParam!==null)return Lt.recoveryParam;for(var ir=0;ir<4;ir++){var or;try{or=this.recoverPubKey(jt,Lt,ir)}catch{continue}if(or.eq(Vt))return ir}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var nt=requireUtils$1(),et=nt.assert,at=nt.parseBytes,mt=nt.cachedProperty;function $t(Ct,Dt){this.eddsa=Ct,this._secret=at(Dt.secret),Ct.isPoint(Dt.pub)?this._pub=Dt.pub:this._pubBytes=at(Dt.pub)}return $t.fromPublic=function(Dt,Ft){return Ft instanceof $t?Ft:new $t(Dt,{pub:Ft})},$t.fromSecret=function(Dt,Ft){return Ft instanceof $t?Ft:new $t(Dt,{secret:Ft})},$t.prototype.secret=function(){return this._secret},mt($t,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),mt($t,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),mt($t,"privBytes",function(){var Dt=this.eddsa,Ft=this.hash(),Nt=Dt.encodingLength-1,jt=Ft.slice(0,Dt.encodingLength);return jt[0]&=248,jt[Nt]&=127,jt[Nt]|=64,jt}),mt($t,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),mt($t,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),mt($t,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),$t.prototype.sign=function(Dt){return et(this._secret,"KeyPair can only verify"),this.eddsa.sign(Dt,this)},$t.prototype.verify=function(Dt,Ft){return this.eddsa.verify(Dt,Ft,this)},$t.prototype.getSecret=function(Dt){return et(this._secret,"KeyPair is public only"),nt.encode(this.secret(),Dt)},$t.prototype.getPublic=function(Dt){return nt.encode(this.pubBytes(),Dt)},key=$t,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var nt=requireBn$3(),et=requireUtils$1(),at=et.assert,mt=et.cachedProperty,$t=et.parseBytes;function Ct(Dt,Ft){this.eddsa=Dt,typeof Ft!="object"&&(Ft=$t(Ft)),Array.isArray(Ft)&&(at(Ft.length===Dt.encodingLength*2,"Signature has invalid size"),Ft={R:Ft.slice(0,Dt.encodingLength),S:Ft.slice(Dt.encodingLength)}),at(Ft.R&&Ft.S,"Signature without R or S"),Dt.isPoint(Ft.R)&&(this._R=Ft.R),Ft.S instanceof nt&&(this._S=Ft.S),this._Rencoded=Array.isArray(Ft.R)?Ft.R:Ft.Rencoded,this._Sencoded=Array.isArray(Ft.S)?Ft.S:Ft.Sencoded}return mt(Ct,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),mt(Ct,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),mt(Ct,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),mt(Ct,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Ct.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Ct.prototype.toHex=function(){return et.encode(this.toBytes(),"hex").toUpperCase()},signature=Ct,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var nt=requireHash(),et=requireCurves(),at=requireUtils$1(),mt=at.assert,$t=at.parseBytes,Ct=requireKey(),Dt=requireSignature();function Ft(Nt){if(mt(Nt==="ed25519","only tested with ed25519 so far"),!(this instanceof Ft))return new Ft(Nt);Nt=et[Nt].curve,this.curve=Nt,this.g=Nt.g,this.g.precompute(Nt.n.bitLength()+1),this.pointClass=Nt.point().constructor,this.encodingLength=Math.ceil(Nt.n.bitLength()/8),this.hash=nt.sha512}return eddsa=Ft,Ft.prototype.sign=function(jt,Lt){jt=$t(jt);var Vt=this.keyFromSecret(Lt),er=this.hashInt(Vt.messagePrefix(),jt),ir=this.g.mul(er),or=this.encodePoint(ir),lr=this.hashInt(or,Vt.pubBytes(),jt).mul(Vt.priv()),dr=er.add(lr).umod(this.curve.n);return this.makeSignature({R:ir,S:dr,Rencoded:or})},Ft.prototype.verify=function(jt,Lt,Vt){if(jt=$t(jt),Lt=this.makeSignature(Lt),Lt.S().gte(Lt.eddsa.curve.n)||Lt.S().isNeg())return!1;var er=this.keyFromPublic(Vt),ir=this.hashInt(Lt.Rencoded(),er.pubBytes(),jt),or=this.g.mul(Lt.S()),lr=Lt.R().add(er.pub().mul(ir));return lr.eq(or)},Ft.prototype.hashInt=function(){for(var jt=this.hash(),Lt=0;Lt<arguments.length;Lt++)jt.update(arguments[Lt]);return at.intFromLE(jt.digest()).umod(this.curve.n)},Ft.prototype.keyFromPublic=function(jt){return Ct.fromPublic(this,jt)},Ft.prototype.keyFromSecret=function(jt){return Ct.fromSecret(this,jt)},Ft.prototype.makeSignature=function(jt){return jt instanceof Dt?jt:new Dt(this,jt)},Ft.prototype.encodePoint=function(jt){var Lt=jt.getY().toArray("le",this.encodingLength);return Lt[this.encodingLength-1]|=jt.getX().isOdd()?128:0,Lt},Ft.prototype.decodePoint=function(jt){jt=at.parseBytes(jt);var Lt=jt.length-1,Vt=jt.slice(0,Lt).concat(jt[Lt]&-129),er=(jt[Lt]&128)!==0,ir=at.intFromLE(Vt);return this.curve.pointFromY(ir,er)},Ft.prototype.encodeInt=function(jt){return jt.toArray("le",this.encodingLength)},Ft.prototype.decodeInt=function(jt){return at.intFromLE(jt)},Ft.prototype.isPoint=function(jt){return jt instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(nt){var et=nt;et.version=require$$0$2.version,et.utils=requireUtils$1(),et.rand=requireBrorand(),et.curve=requireCurve(),et.curves=requireCurves(),et.ec=requireEc(),et.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(nt){(function(et,at){function mt(gr,Ut){if(!gr)throw new Error(Ut||"Assertion failed")}function $t(gr,Ut){gr.super_=Ut;var tr=function(){};tr.prototype=Ut.prototype,gr.prototype=new tr,gr.prototype.constructor=gr}function Ct(gr,Ut,tr){if(Ct.isBN(gr))return gr;this.negative=0,this.words=null,this.length=0,this.red=null,gr!==null&&((Ut==="le"||Ut==="be")&&(tr=Ut,Ut=10),this._init(gr||0,Ut||10,tr||"be"))}typeof et=="object"?et.exports=Ct:at.BN=Ct,Ct.BN=Ct,Ct.wordSize=26;var Dt;try{typeof window<"u"&&typeof window.Buffer<"u"?Dt=window.Buffer:Dt=require$$2$1.Buffer}catch{}Ct.isBN=function(Ut){return Ut instanceof Ct?!0:Ut!==null&&typeof Ut=="object"&&Ut.constructor.wordSize===Ct.wordSize&&Array.isArray(Ut.words)},Ct.max=function(Ut,tr){return Ut.cmp(tr)>0?Ut:tr},Ct.min=function(Ut,tr){return Ut.cmp(tr)<0?Ut:tr},Ct.prototype._init=function(Ut,tr,nr){if(typeof Ut=="number")return this._initNumber(Ut,tr,nr);if(typeof Ut=="object")return this._initArray(Ut,tr,nr);tr==="hex"&&(tr=16),mt(tr===(tr|0)&&tr>=2&&tr<=36),Ut=Ut.toString().replace(/\s+/g,"");var rr=0;Ut[0]==="-"&&(rr++,this.negative=1),rr<Ut.length&&(tr===16?this._parseHex(Ut,rr,nr):(this._parseBase(Ut,tr,rr),nr==="le"&&this._initArray(this.toArray(),tr,nr)))},Ct.prototype._initNumber=function(Ut,tr,nr){Ut<0&&(this.negative=1,Ut=-Ut),Ut<67108864?(this.words=[Ut&67108863],this.length=1):Ut<4503599627370496?(this.words=[Ut&67108863,Ut/67108864&67108863],this.length=2):(mt(Ut<9007199254740992),this.words=[Ut&67108863,Ut/67108864&67108863,1],this.length=3),nr==="le"&&this._initArray(this.toArray(),tr,nr)},Ct.prototype._initArray=function(Ut,tr,nr){if(mt(typeof Ut.length=="number"),Ut.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ut.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar,cr,fr=0;if(nr==="be")for(rr=Ut.length-1,ar=0;rr>=0;rr-=3)cr=Ut[rr]|Ut[rr-1]<<8|Ut[rr-2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);else if(nr==="le")for(rr=0,ar=0;rr<Ut.length;rr+=3)cr=Ut[rr]|Ut[rr+1]<<8|Ut[rr+2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);return this.strip()};function Ft(gr,Ut){var tr=gr.charCodeAt(Ut);return tr>=65&&tr<=70?tr-55:tr>=97&&tr<=102?tr-87:tr-48&15}function Nt(gr,Ut,tr){var nr=Ft(gr,tr);return tr-1>=Ut&&(nr|=Ft(gr,tr-1)<<4),nr}Ct.prototype._parseHex=function(Ut,tr,nr){this.length=Math.ceil((Ut.length-tr)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar=0,cr=0,fr;if(nr==="be")for(rr=Ut.length-1;rr>=tr;rr-=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8;else{var sr=Ut.length-tr;for(rr=sr%2===0?tr+1:tr;rr<Ut.length;rr+=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8}this.strip()};function jt(gr,Ut,tr,nr){for(var rr=0,ar=Math.min(gr.length,tr),cr=Ut;cr<ar;cr++){var fr=gr.charCodeAt(cr)-48;rr*=nr,fr>=49?rr+=fr-49+10:fr>=17?rr+=fr-17+10:rr+=fr}return rr}Ct.prototype._parseBase=function(Ut,tr,nr){this.words=[0],this.length=1;for(var rr=0,ar=1;ar<=67108863;ar*=tr)rr++;rr--,ar=ar/tr|0;for(var cr=Ut.length-nr,fr=cr%rr,sr=Math.min(cr,cr-fr)+nr,Yt=0,ur=nr;ur<sr;ur+=rr)Yt=jt(Ut,ur,ur+rr,tr),this.imuln(ar),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt);if(fr!==0){var _r=1;for(Yt=jt(Ut,ur,Ut.length,tr),ur=0;ur<fr;ur++)_r*=tr;this.imuln(_r),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt)}this.strip()},Ct.prototype.copy=function(Ut){Ut.words=new Array(this.length);for(var tr=0;tr<this.length;tr++)Ut.words[tr]=this.words[tr];Ut.length=this.length,Ut.negative=this.negative,Ut.red=this.red},Ct.prototype.clone=function(){var Ut=new Ct(null);return this.copy(Ut),Ut},Ct.prototype._expand=function(Ut){for(;this.length<Ut;)this.words[this.length++]=0;return this},Ct.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ct.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],er=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ct.prototype.toString=function(Ut,tr){Ut=Ut||10,tr=tr|0||1;var nr;if(Ut===16||Ut==="hex"){nr="";for(var rr=0,ar=0,cr=0;cr<this.length;cr++){var fr=this.words[cr],sr=((fr<<rr|ar)&16777215).toString(16);ar=fr>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,cr--),ar!==0||cr!==this.length-1?nr=Lt[6-sr.length]+sr+nr:nr=sr+nr}for(ar!==0&&(nr=ar.toString(16)+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}if(Ut===(Ut|0)&&Ut>=2&&Ut<=36){var Yt=Vt[Ut],ur=er[Ut];nr="";var _r=this.clone();for(_r.negative=0;!_r.isZero();){var yr=_r.modn(ur).toString(Ut);_r=_r.idivn(ur),_r.isZero()?nr=yr+nr:nr=Lt[Yt-yr.length]+yr+nr}for(this.isZero()&&(nr="0"+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}mt(!1,"Base should be between 2 and 36")},Ct.prototype.toNumber=function(){var Ut=this.words[0];return this.length===2?Ut+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ut+=4503599627370496+this.words[1]*67108864:this.length>2&&mt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ut:Ut},Ct.prototype.toJSON=function(){return this.toString(16)},Ct.prototype.toBuffer=function(Ut,tr){return mt(typeof Dt<"u"),this.toArrayLike(Dt,Ut,tr)},Ct.prototype.toArray=function(Ut,tr){return this.toArrayLike(Array,Ut,tr)},Ct.prototype.toArrayLike=function(Ut,tr,nr){var rr=this.byteLength(),ar=nr||Math.max(1,rr);mt(rr<=ar,"byte array longer than desired length"),mt(ar>0,"Requested array length <= 0"),this.strip();var cr=tr==="le",fr=new Ut(ar),sr,Yt,ur=this.clone();if(cr){for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[Yt]=sr;for(;Yt<ar;Yt++)fr[Yt]=0}else{for(Yt=0;Yt<ar-rr;Yt++)fr[Yt]=0;for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[ar-Yt-1]=sr}return fr},Math.clz32?Ct.prototype._countBits=function(Ut){return 32-Math.clz32(Ut)}:Ct.prototype._countBits=function(Ut){var tr=Ut,nr=0;return tr>=4096&&(nr+=13,tr>>>=13),tr>=64&&(nr+=7,tr>>>=7),tr>=8&&(nr+=4,tr>>>=4),tr>=2&&(nr+=2,tr>>>=2),nr+tr},Ct.prototype._zeroBits=function(Ut){if(Ut===0)return 26;var tr=Ut,nr=0;return tr&8191||(nr+=13,tr>>>=13),tr&127||(nr+=7,tr>>>=7),tr&15||(nr+=4,tr>>>=4),tr&3||(nr+=2,tr>>>=2),tr&1||nr++,nr},Ct.prototype.bitLength=function(){var Ut=this.words[this.length-1],tr=this._countBits(Ut);return(this.length-1)*26+tr};function ir(gr){for(var Ut=new Array(gr.bitLength()),tr=0;tr<Ut.length;tr++){var nr=tr/26|0,rr=tr%26;Ut[tr]=(gr.words[nr]&1<<rr)>>>rr}return Ut}Ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ut=0,tr=0;tr<this.length;tr++){var nr=this._zeroBits(this.words[tr]);if(Ut+=nr,nr!==26)break}return Ut},Ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ct.prototype.toTwos=function(Ut){return this.negative!==0?this.abs().inotn(Ut).iaddn(1):this.clone()},Ct.prototype.fromTwos=function(Ut){return this.testn(Ut-1)?this.notn(Ut).iaddn(1).ineg():this.clone()},Ct.prototype.isNeg=function(){return this.negative!==0},Ct.prototype.neg=function(){return this.clone().ineg()},Ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ct.prototype.iuor=function(Ut){for(;this.length<Ut.length;)this.words[this.length++]=0;for(var tr=0;tr<Ut.length;tr++)this.words[tr]=this.words[tr]|Ut.words[tr];return this.strip()},Ct.prototype.ior=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuor(Ut)},Ct.prototype.or=function(Ut){return this.length>Ut.length?this.clone().ior(Ut):Ut.clone().ior(this)},Ct.prototype.uor=function(Ut){return this.length>Ut.length?this.clone().iuor(Ut):Ut.clone().iuor(this)},Ct.prototype.iuand=function(Ut){var tr;this.length>Ut.length?tr=Ut:tr=this;for(var nr=0;nr<tr.length;nr++)this.words[nr]=this.words[nr]&Ut.words[nr];return this.length=tr.length,this.strip()},Ct.prototype.iand=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuand(Ut)},Ct.prototype.and=function(Ut){return this.length>Ut.length?this.clone().iand(Ut):Ut.clone().iand(this)},Ct.prototype.uand=function(Ut){return this.length>Ut.length?this.clone().iuand(Ut):Ut.clone().iuand(this)},Ct.prototype.iuxor=function(Ut){var tr,nr;this.length>Ut.length?(tr=this,nr=Ut):(tr=Ut,nr=this);for(var rr=0;rr<nr.length;rr++)this.words[rr]=tr.words[rr]^nr.words[rr];if(this!==tr)for(;rr<tr.length;rr++)this.words[rr]=tr.words[rr];return this.length=tr.length,this.strip()},Ct.prototype.ixor=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuxor(Ut)},Ct.prototype.xor=function(Ut){return this.length>Ut.length?this.clone().ixor(Ut):Ut.clone().ixor(this)},Ct.prototype.uxor=function(Ut){return this.length>Ut.length?this.clone().iuxor(Ut):Ut.clone().iuxor(this)},Ct.prototype.inotn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Math.ceil(Ut/26)|0,nr=Ut%26;this._expand(tr),nr>0&&tr--;for(var rr=0;rr<tr;rr++)this.words[rr]=~this.words[rr]&67108863;return nr>0&&(this.words[rr]=~this.words[rr]&67108863>>26-nr),this.strip()},Ct.prototype.notn=function(Ut){return this.clone().inotn(Ut)},Ct.prototype.setn=function(Ut,tr){mt(typeof Ut=="number"&&Ut>=0);var nr=Ut/26|0,rr=Ut%26;return this._expand(nr+1),tr?this.words[nr]=this.words[nr]|1<<rr:this.words[nr]=this.words[nr]&~(1<<rr),this.strip()},Ct.prototype.iadd=function(Ut){var tr;if(this.negative!==0&&Ut.negative===0)return this.negative=0,tr=this.isub(Ut),this.negative^=1,this._normSign();if(this.negative===0&&Ut.negative!==0)return Ut.negative=0,tr=this.isub(Ut),Ut.negative=1,tr._normSign();var nr,rr;this.length>Ut.length?(nr=this,rr=Ut):(nr=Ut,rr=this);for(var ar=0,cr=0;cr<rr.length;cr++)tr=(nr.words[cr]|0)+(rr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;for(;ar!==0&&cr<nr.length;cr++)tr=(nr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;if(this.length=nr.length,ar!==0)this.words[this.length]=ar,this.length++;else if(nr!==this)for(;cr<nr.length;cr++)this.words[cr]=nr.words[cr];return this},Ct.prototype.add=function(Ut){var tr;return Ut.negative!==0&&this.negative===0?(Ut.negative=0,tr=this.sub(Ut),Ut.negative^=1,tr):Ut.negative===0&&this.negative!==0?(this.negative=0,tr=Ut.sub(this),this.negative=1,tr):this.length>Ut.length?this.clone().iadd(Ut):Ut.clone().iadd(this)},Ct.prototype.isub=function(Ut){if(Ut.negative!==0){Ut.negative=0;var tr=this.iadd(Ut);return Ut.negative=1,tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ut),this.negative=1,this._normSign();var nr=this.cmp(Ut);if(nr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,ar;nr>0?(rr=this,ar=Ut):(rr=Ut,ar=this);for(var cr=0,fr=0;fr<ar.length;fr++)tr=(rr.words[fr]|0)-(ar.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;for(;cr!==0&&fr<rr.length;fr++)tr=(rr.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;if(cr===0&&fr<rr.length&&rr!==this)for(;fr<rr.length;fr++)this.words[fr]=rr.words[fr];return this.length=Math.max(this.length,fr),rr!==this&&(this.negative=1),this.strip()},Ct.prototype.sub=function(Ut){return this.clone().isub(Ut)};function or(gr,Ut,tr){tr.negative=Ut.negative^gr.negative;var nr=gr.length+Ut.length|0;tr.length=nr,nr=nr-1|0;var rr=gr.words[0]|0,ar=Ut.words[0]|0,cr=rr*ar,fr=cr&67108863,sr=cr/67108864|0;tr.words[0]=fr;for(var Yt=1;Yt<nr;Yt++){for(var ur=sr>>>26,_r=sr&67108863,yr=Math.min(Yt,Ut.length-1),wr=Math.max(0,Yt-gr.length+1);wr<=yr;wr++){var Ir=Yt-wr|0;rr=gr.words[Ir]|0,ar=Ut.words[wr]|0,cr=rr*ar+_r,ur+=cr/67108864|0,_r=cr&67108863}tr.words[Yt]=_r|0,sr=ur|0}return sr!==0?tr.words[Yt]=sr|0:tr.length--,tr.strip()}var lr=function(Ut,tr,nr){var rr=Ut.words,ar=tr.words,cr=nr.words,fr=0,sr,Yt,ur,_r=rr[0]|0,yr=_r&8191,wr=_r>>>13,Ir=rr[1]|0,Or=Ir&8191,Ar=Ir>>>13,Nr=rr[2]|0,Hr=Nr&8191,Pr=Nr>>>13,Dr=rr[3]|0,Rr=Dr&8191,Vr=Dr>>>13,an=rr[4]|0,Xr=an&8191,Jr=an>>>13,Zr=rr[5]|0,Gr=Zr&8191,zr=Zr>>>13,Dn=rr[6]|0,Qr=Dn&8191,Un=Dn>>>13,ro=rr[7]|0,Hn=ro&8191,Qn=ro>>>13,$o=rr[8]|0,Kn=$o&8191,_i=$o>>>13,Lo=rr[9]|0,jr=Lo&8191,Tr=Lo>>>13,Fr=ar[0]|0,Wr=Fr&8191,sn=Fr>>>13,Jn=ar[1]|0,Nn=Jn&8191,Zn=Jn>>>13,Io=ar[2]|0,ga=Io&8191,ba=Io>>>13,Bo=ar[3]|0,io=Bo&8191,so=Bo>>>13,zo=ar[4]|0,eo=zo&8191,oo=zo>>>13,Ho=ar[5]|0,no=Ho&8191,ao=Ho>>>13,Gn=ar[6]|0,dn=Gn&8191,Ln=Gn>>>13,Br=ar[7]|0,Lr=Br&8191,qr=Br>>>13,Mr=ar[8]|0,Ur=Mr&8191,rn=Mr>>>13,zn=ar[9]|0,pn=zn&8191,Vn=zn>>>13;nr.negative=Ut.negative^tr.negative,nr.length=19,sr=Math.imul(yr,Wr),Yt=Math.imul(yr,sn),Yt=Yt+Math.imul(wr,Wr)|0,ur=Math.imul(wr,sn);var co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(co>>>26)|0,co&=67108863,sr=Math.imul(Or,Wr),Yt=Math.imul(Or,sn),Yt=Yt+Math.imul(Ar,Wr)|0,ur=Math.imul(Ar,sn),sr=sr+Math.imul(yr,Nn)|0,Yt=Yt+Math.imul(yr,Zn)|0,Yt=Yt+Math.imul(wr,Nn)|0,ur=ur+Math.imul(wr,Zn)|0;var uo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(uo>>>26)|0,uo&=67108863,sr=Math.imul(Hr,Wr),Yt=Math.imul(Hr,sn),Yt=Yt+Math.imul(Pr,Wr)|0,ur=Math.imul(Pr,sn),sr=sr+Math.imul(Or,Nn)|0,Yt=Yt+Math.imul(Or,Zn)|0,Yt=Yt+Math.imul(Ar,Nn)|0,ur=ur+Math.imul(Ar,Zn)|0,sr=sr+Math.imul(yr,ga)|0,Yt=Yt+Math.imul(yr,ba)|0,Yt=Yt+Math.imul(wr,ga)|0,ur=ur+Math.imul(wr,ba)|0;var Eo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,sr=Math.imul(Rr,Wr),Yt=Math.imul(Rr,sn),Yt=Yt+Math.imul(Vr,Wr)|0,ur=Math.imul(Vr,sn),sr=sr+Math.imul(Hr,Nn)|0,Yt=Yt+Math.imul(Hr,Zn)|0,Yt=Yt+Math.imul(Pr,Nn)|0,ur=ur+Math.imul(Pr,Zn)|0,sr=sr+Math.imul(Or,ga)|0,Yt=Yt+Math.imul(Or,ba)|0,Yt=Yt+Math.imul(Ar,ga)|0,ur=ur+Math.imul(Ar,ba)|0,sr=sr+Math.imul(yr,io)|0,Yt=Yt+Math.imul(yr,so)|0,Yt=Yt+Math.imul(wr,io)|0,ur=ur+Math.imul(wr,so)|0;var ho=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ho>>>26)|0,ho&=67108863,sr=Math.imul(Xr,Wr),Yt=Math.imul(Xr,sn),Yt=Yt+Math.imul(Jr,Wr)|0,ur=Math.imul(Jr,sn),sr=sr+Math.imul(Rr,Nn)|0,Yt=Yt+Math.imul(Rr,Zn)|0,Yt=Yt+Math.imul(Vr,Nn)|0,ur=ur+Math.imul(Vr,Zn)|0,sr=sr+Math.imul(Hr,ga)|0,Yt=Yt+Math.imul(Hr,ba)|0,Yt=Yt+Math.imul(Pr,ga)|0,ur=ur+Math.imul(Pr,ba)|0,sr=sr+Math.imul(Or,io)|0,Yt=Yt+Math.imul(Or,so)|0,Yt=Yt+Math.imul(Ar,io)|0,ur=ur+Math.imul(Ar,so)|0,sr=sr+Math.imul(yr,eo)|0,Yt=Yt+Math.imul(yr,oo)|0,Yt=Yt+Math.imul(wr,eo)|0,ur=ur+Math.imul(wr,oo)|0;var Co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Co>>>26)|0,Co&=67108863,sr=Math.imul(Gr,Wr),Yt=Math.imul(Gr,sn),Yt=Yt+Math.imul(zr,Wr)|0,ur=Math.imul(zr,sn),sr=sr+Math.imul(Xr,Nn)|0,Yt=Yt+Math.imul(Xr,Zn)|0,Yt=Yt+Math.imul(Jr,Nn)|0,ur=ur+Math.imul(Jr,Zn)|0,sr=sr+Math.imul(Rr,ga)|0,Yt=Yt+Math.imul(Rr,ba)|0,Yt=Yt+Math.imul(Vr,ga)|0,ur=ur+Math.imul(Vr,ba)|0,sr=sr+Math.imul(Hr,io)|0,Yt=Yt+Math.imul(Hr,so)|0,Yt=Yt+Math.imul(Pr,io)|0,ur=ur+Math.imul(Pr,so)|0,sr=sr+Math.imul(Or,eo)|0,Yt=Yt+Math.imul(Or,oo)|0,Yt=Yt+Math.imul(Ar,eo)|0,ur=ur+Math.imul(Ar,oo)|0,sr=sr+Math.imul(yr,no)|0,Yt=Yt+Math.imul(yr,ao)|0,Yt=Yt+Math.imul(wr,no)|0,ur=ur+Math.imul(wr,ao)|0;var Po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Po>>>26)|0,Po&=67108863,sr=Math.imul(Qr,Wr),Yt=Math.imul(Qr,sn),Yt=Yt+Math.imul(Un,Wr)|0,ur=Math.imul(Un,sn),sr=sr+Math.imul(Gr,Nn)|0,Yt=Yt+Math.imul(Gr,Zn)|0,Yt=Yt+Math.imul(zr,Nn)|0,ur=ur+Math.imul(zr,Zn)|0,sr=sr+Math.imul(Xr,ga)|0,Yt=Yt+Math.imul(Xr,ba)|0,Yt=Yt+Math.imul(Jr,ga)|0,ur=ur+Math.imul(Jr,ba)|0,sr=sr+Math.imul(Rr,io)|0,Yt=Yt+Math.imul(Rr,so)|0,Yt=Yt+Math.imul(Vr,io)|0,ur=ur+Math.imul(Vr,so)|0,sr=sr+Math.imul(Hr,eo)|0,Yt=Yt+Math.imul(Hr,oo)|0,Yt=Yt+Math.imul(Pr,eo)|0,ur=ur+Math.imul(Pr,oo)|0,sr=sr+Math.imul(Or,no)|0,Yt=Yt+Math.imul(Or,ao)|0,Yt=Yt+Math.imul(Ar,no)|0,ur=ur+Math.imul(Ar,ao)|0,sr=sr+Math.imul(yr,dn)|0,Yt=Yt+Math.imul(yr,Ln)|0,Yt=Yt+Math.imul(wr,dn)|0,ur=ur+Math.imul(wr,Ln)|0;var Fo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,sr=Math.imul(Hn,Wr),Yt=Math.imul(Hn,sn),Yt=Yt+Math.imul(Qn,Wr)|0,ur=Math.imul(Qn,sn),sr=sr+Math.imul(Qr,Nn)|0,Yt=Yt+Math.imul(Qr,Zn)|0,Yt=Yt+Math.imul(Un,Nn)|0,ur=ur+Math.imul(Un,Zn)|0,sr=sr+Math.imul(Gr,ga)|0,Yt=Yt+Math.imul(Gr,ba)|0,Yt=Yt+Math.imul(zr,ga)|0,ur=ur+Math.imul(zr,ba)|0,sr=sr+Math.imul(Xr,io)|0,Yt=Yt+Math.imul(Xr,so)|0,Yt=Yt+Math.imul(Jr,io)|0,ur=ur+Math.imul(Jr,so)|0,sr=sr+Math.imul(Rr,eo)|0,Yt=Yt+Math.imul(Rr,oo)|0,Yt=Yt+Math.imul(Vr,eo)|0,ur=ur+Math.imul(Vr,oo)|0,sr=sr+Math.imul(Hr,no)|0,Yt=Yt+Math.imul(Hr,ao)|0,Yt=Yt+Math.imul(Pr,no)|0,ur=ur+Math.imul(Pr,ao)|0,sr=sr+Math.imul(Or,dn)|0,Yt=Yt+Math.imul(Or,Ln)|0,Yt=Yt+Math.imul(Ar,dn)|0,ur=ur+Math.imul(Ar,Ln)|0,sr=sr+Math.imul(yr,Lr)|0,Yt=Yt+Math.imul(yr,qr)|0,Yt=Yt+Math.imul(wr,Lr)|0,ur=ur+Math.imul(wr,qr)|0;var Do=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Do>>>26)|0,Do&=67108863,sr=Math.imul(Kn,Wr),Yt=Math.imul(Kn,sn),Yt=Yt+Math.imul(_i,Wr)|0,ur=Math.imul(_i,sn),sr=sr+Math.imul(Hn,Nn)|0,Yt=Yt+Math.imul(Hn,Zn)|0,Yt=Yt+Math.imul(Qn,Nn)|0,ur=ur+Math.imul(Qn,Zn)|0,sr=sr+Math.imul(Qr,ga)|0,Yt=Yt+Math.imul(Qr,ba)|0,Yt=Yt+Math.imul(Un,ga)|0,ur=ur+Math.imul(Un,ba)|0,sr=sr+Math.imul(Gr,io)|0,Yt=Yt+Math.imul(Gr,so)|0,Yt=Yt+Math.imul(zr,io)|0,ur=ur+Math.imul(zr,so)|0,sr=sr+Math.imul(Xr,eo)|0,Yt=Yt+Math.imul(Xr,oo)|0,Yt=Yt+Math.imul(Jr,eo)|0,ur=ur+Math.imul(Jr,oo)|0,sr=sr+Math.imul(Rr,no)|0,Yt=Yt+Math.imul(Rr,ao)|0,Yt=Yt+Math.imul(Vr,no)|0,ur=ur+Math.imul(Vr,ao)|0,sr=sr+Math.imul(Hr,dn)|0,Yt=Yt+Math.imul(Hr,Ln)|0,Yt=Yt+Math.imul(Pr,dn)|0,ur=ur+Math.imul(Pr,Ln)|0,sr=sr+Math.imul(Or,Lr)|0,Yt=Yt+Math.imul(Or,qr)|0,Yt=Yt+Math.imul(Ar,Lr)|0,ur=ur+Math.imul(Ar,qr)|0,sr=sr+Math.imul(yr,Ur)|0,Yt=Yt+Math.imul(yr,rn)|0,Yt=Yt+Math.imul(wr,Ur)|0,ur=ur+Math.imul(wr,rn)|0;var ko=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ko>>>26)|0,ko&=67108863,sr=Math.imul(jr,Wr),Yt=Math.imul(jr,sn),Yt=Yt+Math.imul(Tr,Wr)|0,ur=Math.imul(Tr,sn),sr=sr+Math.imul(Kn,Nn)|0,Yt=Yt+Math.imul(Kn,Zn)|0,Yt=Yt+Math.imul(_i,Nn)|0,ur=ur+Math.imul(_i,Zn)|0,sr=sr+Math.imul(Hn,ga)|0,Yt=Yt+Math.imul(Hn,ba)|0,Yt=Yt+Math.imul(Qn,ga)|0,ur=ur+Math.imul(Qn,ba)|0,sr=sr+Math.imul(Qr,io)|0,Yt=Yt+Math.imul(Qr,so)|0,Yt=Yt+Math.imul(Un,io)|0,ur=ur+Math.imul(Un,so)|0,sr=sr+Math.imul(Gr,eo)|0,Yt=Yt+Math.imul(Gr,oo)|0,Yt=Yt+Math.imul(zr,eo)|0,ur=ur+Math.imul(zr,oo)|0,sr=sr+Math.imul(Xr,no)|0,Yt=Yt+Math.imul(Xr,ao)|0,Yt=Yt+Math.imul(Jr,no)|0,ur=ur+Math.imul(Jr,ao)|0,sr=sr+Math.imul(Rr,dn)|0,Yt=Yt+Math.imul(Rr,Ln)|0,Yt=Yt+Math.imul(Vr,dn)|0,ur=ur+Math.imul(Vr,Ln)|0,sr=sr+Math.imul(Hr,Lr)|0,Yt=Yt+Math.imul(Hr,qr)|0,Yt=Yt+Math.imul(Pr,Lr)|0,ur=ur+Math.imul(Pr,qr)|0,sr=sr+Math.imul(Or,Ur)|0,Yt=Yt+Math.imul(Or,rn)|0,Yt=Yt+Math.imul(Ar,Ur)|0,ur=ur+Math.imul(Ar,rn)|0,sr=sr+Math.imul(yr,pn)|0,Yt=Yt+Math.imul(yr,Vn)|0,Yt=Yt+Math.imul(wr,pn)|0,ur=ur+Math.imul(wr,Vn)|0;var Mo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,sr=Math.imul(jr,Nn),Yt=Math.imul(jr,Zn),Yt=Yt+Math.imul(Tr,Nn)|0,ur=Math.imul(Tr,Zn),sr=sr+Math.imul(Kn,ga)|0,Yt=Yt+Math.imul(Kn,ba)|0,Yt=Yt+Math.imul(_i,ga)|0,ur=ur+Math.imul(_i,ba)|0,sr=sr+Math.imul(Hn,io)|0,Yt=Yt+Math.imul(Hn,so)|0,Yt=Yt+Math.imul(Qn,io)|0,ur=ur+Math.imul(Qn,so)|0,sr=sr+Math.imul(Qr,eo)|0,Yt=Yt+Math.imul(Qr,oo)|0,Yt=Yt+Math.imul(Un,eo)|0,ur=ur+Math.imul(Un,oo)|0,sr=sr+Math.imul(Gr,no)|0,Yt=Yt+Math.imul(Gr,ao)|0,Yt=Yt+Math.imul(zr,no)|0,ur=ur+Math.imul(zr,ao)|0,sr=sr+Math.imul(Xr,dn)|0,Yt=Yt+Math.imul(Xr,Ln)|0,Yt=Yt+Math.imul(Jr,dn)|0,ur=ur+Math.imul(Jr,Ln)|0,sr=sr+Math.imul(Rr,Lr)|0,Yt=Yt+Math.imul(Rr,qr)|0,Yt=Yt+Math.imul(Vr,Lr)|0,ur=ur+Math.imul(Vr,qr)|0,sr=sr+Math.imul(Hr,Ur)|0,Yt=Yt+Math.imul(Hr,rn)|0,Yt=Yt+Math.imul(Pr,Ur)|0,ur=ur+Math.imul(Pr,rn)|0,sr=sr+Math.imul(Or,pn)|0,Yt=Yt+Math.imul(Or,Vn)|0,Yt=Yt+Math.imul(Ar,pn)|0,ur=ur+Math.imul(Ar,Vn)|0;var Oo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,sr=Math.imul(jr,ga),Yt=Math.imul(jr,ba),Yt=Yt+Math.imul(Tr,ga)|0,ur=Math.imul(Tr,ba),sr=sr+Math.imul(Kn,io)|0,Yt=Yt+Math.imul(Kn,so)|0,Yt=Yt+Math.imul(_i,io)|0,ur=ur+Math.imul(_i,so)|0,sr=sr+Math.imul(Hn,eo)|0,Yt=Yt+Math.imul(Hn,oo)|0,Yt=Yt+Math.imul(Qn,eo)|0,ur=ur+Math.imul(Qn,oo)|0,sr=sr+Math.imul(Qr,no)|0,Yt=Yt+Math.imul(Qr,ao)|0,Yt=Yt+Math.imul(Un,no)|0,ur=ur+Math.imul(Un,ao)|0,sr=sr+Math.imul(Gr,dn)|0,Yt=Yt+Math.imul(Gr,Ln)|0,Yt=Yt+Math.imul(zr,dn)|0,ur=ur+Math.imul(zr,Ln)|0,sr=sr+Math.imul(Xr,Lr)|0,Yt=Yt+Math.imul(Xr,qr)|0,Yt=Yt+Math.imul(Jr,Lr)|0,ur=ur+Math.imul(Jr,qr)|0,sr=sr+Math.imul(Rr,Ur)|0,Yt=Yt+Math.imul(Rr,rn)|0,Yt=Yt+Math.imul(Vr,Ur)|0,ur=ur+Math.imul(Vr,rn)|0,sr=sr+Math.imul(Hr,pn)|0,Yt=Yt+Math.imul(Hr,Vn)|0,Yt=Yt+Math.imul(Pr,pn)|0,ur=ur+Math.imul(Pr,Vn)|0;var xo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(xo>>>26)|0,xo&=67108863,sr=Math.imul(jr,io),Yt=Math.imul(jr,so),Yt=Yt+Math.imul(Tr,io)|0,ur=Math.imul(Tr,so),sr=sr+Math.imul(Kn,eo)|0,Yt=Yt+Math.imul(Kn,oo)|0,Yt=Yt+Math.imul(_i,eo)|0,ur=ur+Math.imul(_i,oo)|0,sr=sr+Math.imul(Hn,no)|0,Yt=Yt+Math.imul(Hn,ao)|0,Yt=Yt+Math.imul(Qn,no)|0,ur=ur+Math.imul(Qn,ao)|0,sr=sr+Math.imul(Qr,dn)|0,Yt=Yt+Math.imul(Qr,Ln)|0,Yt=Yt+Math.imul(Un,dn)|0,ur=ur+Math.imul(Un,Ln)|0,sr=sr+Math.imul(Gr,Lr)|0,Yt=Yt+Math.imul(Gr,qr)|0,Yt=Yt+Math.imul(zr,Lr)|0,ur=ur+Math.imul(zr,qr)|0,sr=sr+Math.imul(Xr,Ur)|0,Yt=Yt+Math.imul(Xr,rn)|0,Yt=Yt+Math.imul(Jr,Ur)|0,ur=ur+Math.imul(Jr,rn)|0,sr=sr+Math.imul(Rr,pn)|0,Yt=Yt+Math.imul(Rr,Vn)|0,Yt=Yt+Math.imul(Vr,pn)|0,ur=ur+Math.imul(Vr,Vn)|0;var Ro=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,sr=Math.imul(jr,eo),Yt=Math.imul(jr,oo),Yt=Yt+Math.imul(Tr,eo)|0,ur=Math.imul(Tr,oo),sr=sr+Math.imul(Kn,no)|0,Yt=Yt+Math.imul(Kn,ao)|0,Yt=Yt+Math.imul(_i,no)|0,ur=ur+Math.imul(_i,ao)|0,sr=sr+Math.imul(Hn,dn)|0,Yt=Yt+Math.imul(Hn,Ln)|0,Yt=Yt+Math.imul(Qn,dn)|0,ur=ur+Math.imul(Qn,Ln)|0,sr=sr+Math.imul(Qr,Lr)|0,Yt=Yt+Math.imul(Qr,qr)|0,Yt=Yt+Math.imul(Un,Lr)|0,ur=ur+Math.imul(Un,qr)|0,sr=sr+Math.imul(Gr,Ur)|0,Yt=Yt+Math.imul(Gr,rn)|0,Yt=Yt+Math.imul(zr,Ur)|0,ur=ur+Math.imul(zr,rn)|0,sr=sr+Math.imul(Xr,pn)|0,Yt=Yt+Math.imul(Xr,Vn)|0,Yt=Yt+Math.imul(Jr,pn)|0,ur=ur+Math.imul(Jr,Vn)|0;var So=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(So>>>26)|0,So&=67108863,sr=Math.imul(jr,no),Yt=Math.imul(jr,ao),Yt=Yt+Math.imul(Tr,no)|0,ur=Math.imul(Tr,ao),sr=sr+Math.imul(Kn,dn)|0,Yt=Yt+Math.imul(Kn,Ln)|0,Yt=Yt+Math.imul(_i,dn)|0,ur=ur+Math.imul(_i,Ln)|0,sr=sr+Math.imul(Hn,Lr)|0,Yt=Yt+Math.imul(Hn,qr)|0,Yt=Yt+Math.imul(Qn,Lr)|0,ur=ur+Math.imul(Qn,qr)|0,sr=sr+Math.imul(Qr,Ur)|0,Yt=Yt+Math.imul(Qr,rn)|0,Yt=Yt+Math.imul(Un,Ur)|0,ur=ur+Math.imul(Un,rn)|0,sr=sr+Math.imul(Gr,pn)|0,Yt=Yt+Math.imul(Gr,Vn)|0,Yt=Yt+Math.imul(zr,pn)|0,ur=ur+Math.imul(zr,Vn)|0;var po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(po>>>26)|0,po&=67108863,sr=Math.imul(jr,dn),Yt=Math.imul(jr,Ln),Yt=Yt+Math.imul(Tr,dn)|0,ur=Math.imul(Tr,Ln),sr=sr+Math.imul(Kn,Lr)|0,Yt=Yt+Math.imul(Kn,qr)|0,Yt=Yt+Math.imul(_i,Lr)|0,ur=ur+Math.imul(_i,qr)|0,sr=sr+Math.imul(Hn,Ur)|0,Yt=Yt+Math.imul(Hn,rn)|0,Yt=Yt+Math.imul(Qn,Ur)|0,ur=ur+Math.imul(Qn,rn)|0,sr=sr+Math.imul(Qr,pn)|0,Yt=Yt+Math.imul(Qr,Vn)|0,Yt=Yt+Math.imul(Un,pn)|0,ur=ur+Math.imul(Un,Vn)|0;var vo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(vo>>>26)|0,vo&=67108863,sr=Math.imul(jr,Lr),Yt=Math.imul(jr,qr),Yt=Yt+Math.imul(Tr,Lr)|0,ur=Math.imul(Tr,qr),sr=sr+Math.imul(Kn,Ur)|0,Yt=Yt+Math.imul(Kn,rn)|0,Yt=Yt+Math.imul(_i,Ur)|0,ur=ur+Math.imul(_i,rn)|0,sr=sr+Math.imul(Hn,pn)|0,Yt=Yt+Math.imul(Hn,Vn)|0,Yt=Yt+Math.imul(Qn,pn)|0,ur=ur+Math.imul(Qn,Vn)|0;var wo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(wo>>>26)|0,wo&=67108863,sr=Math.imul(jr,Ur),Yt=Math.imul(jr,rn),Yt=Yt+Math.imul(Tr,Ur)|0,ur=Math.imul(Tr,rn),sr=sr+Math.imul(Kn,pn)|0,Yt=Yt+Math.imul(Kn,Vn)|0,Yt=Yt+Math.imul(_i,pn)|0,ur=ur+Math.imul(_i,Vn)|0;var to=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(to>>>26)|0,to&=67108863,sr=Math.imul(jr,pn),Yt=Math.imul(jr,Vn),Yt=Yt+Math.imul(Tr,pn)|0,ur=Math.imul(Tr,Vn);var _a=(fr+sr|0)+((Yt&8191)<<13)|0;return fr=(ur+(Yt>>>13)|0)+(_a>>>26)|0,_a&=67108863,cr[0]=co,cr[1]=uo,cr[2]=Eo,cr[3]=ho,cr[4]=Co,cr[5]=Po,cr[6]=Fo,cr[7]=Do,cr[8]=ko,cr[9]=Mo,cr[10]=Oo,cr[11]=xo,cr[12]=Ro,cr[13]=So,cr[14]=po,cr[15]=vo,cr[16]=wo,cr[17]=to,cr[18]=_a,fr!==0&&(cr[19]=fr,nr.length++),nr};Math.imul||(lr=or);function dr(gr,Ut,tr){tr.negative=Ut.negative^gr.negative,tr.length=gr.length+Ut.length;for(var nr=0,rr=0,ar=0;ar<tr.length-1;ar++){var cr=rr;rr=0;for(var fr=nr&67108863,sr=Math.min(ar,Ut.length-1),Yt=Math.max(0,ar-gr.length+1);Yt<=sr;Yt++){var ur=ar-Yt,_r=gr.words[ur]|0,yr=Ut.words[Yt]|0,wr=_r*yr,Ir=wr&67108863;cr=cr+(wr/67108864|0)|0,Ir=Ir+fr|0,fr=Ir&67108863,cr=cr+(Ir>>>26)|0,rr+=cr>>>26,cr&=67108863}tr.words[ar]=fr,nr=cr,cr=rr}return nr!==0?tr.words[ar]=nr:tr.length--,tr.strip()}function pr(gr,Ut,tr){var nr=new hr;return nr.mulp(gr,Ut,tr)}Ct.prototype.mulTo=function(Ut,tr){var nr,rr=this.length+Ut.length;return this.length===10&&Ut.length===10?nr=lr(this,Ut,tr):rr<63?nr=or(this,Ut,tr):rr<1024?nr=dr(this,Ut,tr):nr=pr(this,Ut,tr),nr};function hr(gr,Ut){this.x=gr,this.y=Ut}hr.prototype.makeRBT=function(Ut){for(var tr=new Array(Ut),nr=Ct.prototype._countBits(Ut)-1,rr=0;rr<Ut;rr++)tr[rr]=this.revBin(rr,nr,Ut);return tr},hr.prototype.revBin=function(Ut,tr,nr){if(Ut===0||Ut===nr-1)return Ut;for(var rr=0,ar=0;ar<tr;ar++)rr|=(Ut&1)<<tr-ar-1,Ut>>=1;return rr},hr.prototype.permute=function(Ut,tr,nr,rr,ar,cr){for(var fr=0;fr<cr;fr++)rr[fr]=tr[Ut[fr]],ar[fr]=nr[Ut[fr]]},hr.prototype.transform=function(Ut,tr,nr,rr,ar,cr){this.permute(cr,Ut,tr,nr,rr,ar);for(var fr=1;fr<ar;fr<<=1)for(var sr=fr<<1,Yt=Math.cos(2*Math.PI/sr),ur=Math.sin(2*Math.PI/sr),_r=0;_r<ar;_r+=sr)for(var yr=Yt,wr=ur,Ir=0;Ir<fr;Ir++){var Or=nr[_r+Ir],Ar=rr[_r+Ir],Nr=nr[_r+Ir+fr],Hr=rr[_r+Ir+fr],Pr=yr*Nr-wr*Hr;Hr=yr*Hr+wr*Nr,Nr=Pr,nr[_r+Ir]=Or+Nr,rr[_r+Ir]=Ar+Hr,nr[_r+Ir+fr]=Or-Nr,rr[_r+Ir+fr]=Ar-Hr,Ir!==sr&&(Pr=Yt*yr-ur*wr,wr=Yt*wr+ur*yr,yr=Pr)}},hr.prototype.guessLen13b=function(Ut,tr){var nr=Math.max(tr,Ut)|1,rr=nr&1,ar=0;for(nr=nr/2|0;nr;nr=nr>>>1)ar++;return 1<<ar+1+rr},hr.prototype.conjugate=function(Ut,tr,nr){if(!(nr<=1))for(var rr=0;rr<nr/2;rr++){var ar=Ut[rr];Ut[rr]=Ut[nr-rr-1],Ut[nr-rr-1]=ar,ar=tr[rr],tr[rr]=-tr[nr-rr-1],tr[nr-rr-1]=-ar}},hr.prototype.normalize13b=function(Ut,tr){for(var nr=0,rr=0;rr<tr/2;rr++){var ar=Math.round(Ut[2*rr+1]/tr)*8192+Math.round(Ut[2*rr]/tr)+nr;Ut[rr]=ar&67108863,ar<67108864?nr=0:nr=ar/67108864|0}return Ut},hr.prototype.convert13b=function(Ut,tr,nr,rr){for(var ar=0,cr=0;cr<tr;cr++)ar=ar+(Ut[cr]|0),nr[2*cr]=ar&8191,ar=ar>>>13,nr[2*cr+1]=ar&8191,ar=ar>>>13;for(cr=2*tr;cr<rr;++cr)nr[cr]=0;mt(ar===0),mt((ar&-8192)===0)},hr.prototype.stub=function(Ut){for(var tr=new Array(Ut),nr=0;nr<Ut;nr++)tr[nr]=0;return tr},hr.prototype.mulp=function(Ut,tr,nr){var rr=2*this.guessLen13b(Ut.length,tr.length),ar=this.makeRBT(rr),cr=this.stub(rr),fr=new Array(rr),sr=new Array(rr),Yt=new Array(rr),ur=new Array(rr),_r=new Array(rr),yr=new Array(rr),wr=nr.words;wr.length=rr,this.convert13b(Ut.words,Ut.length,fr,rr),this.convert13b(tr.words,tr.length,ur,rr),this.transform(fr,cr,sr,Yt,rr,ar),this.transform(ur,cr,_r,yr,rr,ar);for(var Ir=0;Ir<rr;Ir++){var Or=sr[Ir]*_r[Ir]-Yt[Ir]*yr[Ir];Yt[Ir]=sr[Ir]*yr[Ir]+Yt[Ir]*_r[Ir],sr[Ir]=Or}return this.conjugate(sr,Yt,rr),this.transform(sr,Yt,wr,cr,rr,ar),this.conjugate(wr,cr,rr),this.normalize13b(wr,rr),nr.negative=Ut.negative^tr.negative,nr.length=Ut.length+tr.length,nr.strip()},Ct.prototype.mul=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),this.mulTo(Ut,tr)},Ct.prototype.mulf=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),pr(this,Ut,tr)},Ct.prototype.imul=function(Ut){return this.clone().mulTo(Ut,this)},Ct.prototype.imuln=function(Ut){mt(typeof Ut=="number"),mt(Ut<67108864);for(var tr=0,nr=0;nr<this.length;nr++){var rr=(this.words[nr]|0)*Ut,ar=(rr&67108863)+(tr&67108863);tr>>=26,tr+=rr/67108864|0,tr+=ar>>>26,this.words[nr]=ar&67108863}return tr!==0&&(this.words[nr]=tr,this.length++),this},Ct.prototype.muln=function(Ut){return this.clone().imuln(Ut)},Ct.prototype.sqr=function(){return this.mul(this)},Ct.prototype.isqr=function(){return this.imul(this.clone())},Ct.prototype.pow=function(Ut){var tr=ir(Ut);if(tr.length===0)return new Ct(1);for(var nr=this,rr=0;rr<tr.length&&tr[rr]===0;rr++,nr=nr.sqr());if(++rr<tr.length)for(var ar=nr.sqr();rr<tr.length;rr++,ar=ar.sqr())tr[rr]!==0&&(nr=nr.mul(ar));return nr},Ct.prototype.iushln=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=67108863>>>26-tr<<26-tr,ar;if(tr!==0){var cr=0;for(ar=0;ar<this.length;ar++){var fr=this.words[ar]&rr,sr=(this.words[ar]|0)-fr<<tr;this.words[ar]=sr|cr,cr=fr>>>26-tr}cr&&(this.words[ar]=cr,this.length++)}if(nr!==0){for(ar=this.length-1;ar>=0;ar--)this.words[ar+nr]=this.words[ar];for(ar=0;ar<nr;ar++)this.words[ar]=0;this.length+=nr}return this.strip()},Ct.prototype.ishln=function(Ut){return mt(this.negative===0),this.iushln(Ut)},Ct.prototype.iushrn=function(Ut,tr,nr){mt(typeof Ut=="number"&&Ut>=0);var rr;tr?rr=(tr-tr%26)/26:rr=0;var ar=Ut%26,cr=Math.min((Ut-ar)/26,this.length),fr=67108863^67108863>>>ar<<ar,sr=nr;if(rr-=cr,rr=Math.max(0,rr),sr){for(var Yt=0;Yt<cr;Yt++)sr.words[Yt]=this.words[Yt];sr.length=cr}if(cr!==0)if(this.length>cr)for(this.length-=cr,Yt=0;Yt<this.length;Yt++)this.words[Yt]=this.words[Yt+cr];else this.words[0]=0,this.length=1;var ur=0;for(Yt=this.length-1;Yt>=0&&(ur!==0||Yt>=rr);Yt--){var _r=this.words[Yt]|0;this.words[Yt]=ur<<26-ar|_r>>>ar,ur=_r&fr}return sr&&ur!==0&&(sr.words[sr.length++]=ur),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ct.prototype.ishrn=function(Ut,tr,nr){return mt(this.negative===0),this.iushrn(Ut,tr,nr)},Ct.prototype.shln=function(Ut){return this.clone().ishln(Ut)},Ct.prototype.ushln=function(Ut){return this.clone().iushln(Ut)},Ct.prototype.shrn=function(Ut){return this.clone().ishrn(Ut)},Ct.prototype.ushrn=function(Ut){return this.clone().iushrn(Ut)},Ct.prototype.testn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return!1;var ar=this.words[nr];return!!(ar&rr)},Ct.prototype.imaskn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26;if(mt(this.negative===0,"imaskn works only with positive numbers"),this.length<=nr)return this;if(tr!==0&&nr++,this.length=Math.min(nr,this.length),tr!==0){var rr=67108863^67108863>>>tr<<tr;this.words[this.length-1]&=rr}return this.strip()},Ct.prototype.maskn=function(Ut){return this.clone().imaskn(Ut)},Ct.prototype.iaddn=function(Ut){return mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0?this.isubn(-Ut):this.negative!==0?this.length===1&&(this.words[0]|0)<Ut?(this.words[0]=Ut-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ut),this.negative=1,this):this._iaddn(Ut)},Ct.prototype._iaddn=function(Ut){this.words[0]+=Ut;for(var tr=0;tr<this.length&&this.words[tr]>=67108864;tr++)this.words[tr]-=67108864,tr===this.length-1?this.words[tr+1]=1:this.words[tr+1]++;return this.length=Math.max(this.length,tr+1),this},Ct.prototype.isubn=function(Ut){if(mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0)return this.iaddn(-Ut);if(this.negative!==0)return this.negative=0,this.iaddn(Ut),this.negative=1,this;if(this.words[0]-=Ut,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tr=0;tr<this.length&&this.words[tr]<0;tr++)this.words[tr]+=67108864,this.words[tr+1]-=1;return this.strip()},Ct.prototype.addn=function(Ut){return this.clone().iaddn(Ut)},Ct.prototype.subn=function(Ut){return this.clone().isubn(Ut)},Ct.prototype.iabs=function(){return this.negative=0,this},Ct.prototype.abs=function(){return this.clone().iabs()},Ct.prototype._ishlnsubmul=function(Ut,tr,nr){var rr=Ut.length+nr,ar;this._expand(rr);var cr,fr=0;for(ar=0;ar<Ut.length;ar++){cr=(this.words[ar+nr]|0)+fr;var sr=(Ut.words[ar]|0)*tr;cr-=sr&67108863,fr=(cr>>26)-(sr/67108864|0),this.words[ar+nr]=cr&67108863}for(;ar<this.length-nr;ar++)cr=(this.words[ar+nr]|0)+fr,fr=cr>>26,this.words[ar+nr]=cr&67108863;if(fr===0)return this.strip();for(mt(fr===-1),fr=0,ar=0;ar<this.length;ar++)cr=-(this.words[ar]|0)+fr,fr=cr>>26,this.words[ar]=cr&67108863;return this.negative=1,this.strip()},Ct.prototype._wordDiv=function(Ut,tr){var nr=this.length-Ut.length,rr=this.clone(),ar=Ut,cr=ar.words[ar.length-1]|0,fr=this._countBits(cr);nr=26-fr,nr!==0&&(ar=ar.ushln(nr),rr.iushln(nr),cr=ar.words[ar.length-1]|0);var sr=rr.length-ar.length,Yt;if(tr!=="mod"){Yt=new Ct(null),Yt.length=sr+1,Yt.words=new Array(Yt.length);for(var ur=0;ur<Yt.length;ur++)Yt.words[ur]=0}var _r=rr.clone()._ishlnsubmul(ar,1,sr);_r.negative===0&&(rr=_r,Yt&&(Yt.words[sr]=1));for(var yr=sr-1;yr>=0;yr--){var wr=(rr.words[ar.length+yr]|0)*67108864+(rr.words[ar.length+yr-1]|0);for(wr=Math.min(wr/cr|0,67108863),rr._ishlnsubmul(ar,wr,yr);rr.negative!==0;)wr--,rr.negative=0,rr._ishlnsubmul(ar,1,yr),rr.isZero()||(rr.negative^=1);Yt&&(Yt.words[yr]=wr)}return Yt&&Yt.strip(),rr.strip(),tr!=="div"&&nr!==0&&rr.iushrn(nr),{div:Yt||null,mod:rr}},Ct.prototype.divmod=function(Ut,tr,nr){if(mt(!Ut.isZero()),this.isZero())return{div:new Ct(0),mod:new Ct(0)};var rr,ar,cr;return this.negative!==0&&Ut.negative===0?(cr=this.neg().divmod(Ut,tr),tr!=="mod"&&(rr=cr.div.neg()),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.iadd(Ut)),{div:rr,mod:ar}):this.negative===0&&Ut.negative!==0?(cr=this.divmod(Ut.neg(),tr),tr!=="mod"&&(rr=cr.div.neg()),{div:rr,mod:cr.mod}):this.negative&Ut.negative?(cr=this.neg().divmod(Ut.neg(),tr),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.isub(Ut)),{div:cr.div,mod:ar}):Ut.length>this.length||this.cmp(Ut)<0?{div:new Ct(0),mod:this}:Ut.length===1?tr==="div"?{div:this.divn(Ut.words[0]),mod:null}:tr==="mod"?{div:null,mod:new Ct(this.modn(Ut.words[0]))}:{div:this.divn(Ut.words[0]),mod:new Ct(this.modn(Ut.words[0]))}:this._wordDiv(Ut,tr)},Ct.prototype.div=function(Ut){return this.divmod(Ut,"div",!1).div},Ct.prototype.mod=function(Ut){return this.divmod(Ut,"mod",!1).mod},Ct.prototype.umod=function(Ut){return this.divmod(Ut,"mod",!0).mod},Ct.prototype.divRound=function(Ut){var tr=this.divmod(Ut);if(tr.mod.isZero())return tr.div;var nr=tr.div.negative!==0?tr.mod.isub(Ut):tr.mod,rr=Ut.ushrn(1),ar=Ut.andln(1),cr=nr.cmp(rr);return cr<0||ar===1&&cr===0?tr.div:tr.div.negative!==0?tr.div.isubn(1):tr.div.iaddn(1)},Ct.prototype.modn=function(Ut){mt(Ut<=67108863);for(var tr=(1<<26)%Ut,nr=0,rr=this.length-1;rr>=0;rr--)nr=(tr*nr+(this.words[rr]|0))%Ut;return nr},Ct.prototype.idivn=function(Ut){mt(Ut<=67108863);for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=(this.words[nr]|0)+tr*67108864;this.words[nr]=rr/Ut|0,tr=rr%Ut}return this.strip()},Ct.prototype.divn=function(Ut){return this.clone().idivn(Ut)},Ct.prototype.egcd=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=new Ct(0),fr=new Ct(1),sr=0;tr.isEven()&&nr.isEven();)tr.iushrn(1),nr.iushrn(1),++sr;for(var Yt=nr.clone(),ur=tr.clone();!tr.isZero();){for(var _r=0,yr=1;!(tr.words[0]&yr)&&_r<26;++_r,yr<<=1);if(_r>0)for(tr.iushrn(_r);_r-- >0;)(rr.isOdd()||ar.isOdd())&&(rr.iadd(Yt),ar.isub(ur)),rr.iushrn(1),ar.iushrn(1);for(var wr=0,Ir=1;!(nr.words[0]&Ir)&&wr<26;++wr,Ir<<=1);if(wr>0)for(nr.iushrn(wr);wr-- >0;)(cr.isOdd()||fr.isOdd())&&(cr.iadd(Yt),fr.isub(ur)),cr.iushrn(1),fr.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(cr),ar.isub(fr)):(nr.isub(tr),cr.isub(rr),fr.isub(ar))}return{a:cr,b:fr,gcd:nr.iushln(sr)}},Ct.prototype._invmp=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=nr.clone();tr.cmpn(1)>0&&nr.cmpn(1)>0;){for(var fr=0,sr=1;!(tr.words[0]&sr)&&fr<26;++fr,sr<<=1);if(fr>0)for(tr.iushrn(fr);fr-- >0;)rr.isOdd()&&rr.iadd(cr),rr.iushrn(1);for(var Yt=0,ur=1;!(nr.words[0]&ur)&&Yt<26;++Yt,ur<<=1);if(Yt>0)for(nr.iushrn(Yt);Yt-- >0;)ar.isOdd()&&ar.iadd(cr),ar.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(ar)):(nr.isub(tr),ar.isub(rr))}var _r;return tr.cmpn(1)===0?_r=rr:_r=ar,_r.cmpn(0)<0&&_r.iadd(Ut),_r},Ct.prototype.gcd=function(Ut){if(this.isZero())return Ut.abs();if(Ut.isZero())return this.abs();var tr=this.clone(),nr=Ut.clone();tr.negative=0,nr.negative=0;for(var rr=0;tr.isEven()&&nr.isEven();rr++)tr.iushrn(1),nr.iushrn(1);do{for(;tr.isEven();)tr.iushrn(1);for(;nr.isEven();)nr.iushrn(1);var ar=tr.cmp(nr);if(ar<0){var cr=tr;tr=nr,nr=cr}else if(ar===0||nr.cmpn(1)===0)break;tr.isub(nr)}while(!0);return nr.iushln(rr)},Ct.prototype.invm=function(Ut){return this.egcd(Ut).a.umod(Ut)},Ct.prototype.isEven=function(){return(this.words[0]&1)===0},Ct.prototype.isOdd=function(){return(this.words[0]&1)===1},Ct.prototype.andln=function(Ut){return this.words[0]&Ut},Ct.prototype.bincn=function(Ut){mt(typeof Ut=="number");var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return this._expand(nr+1),this.words[nr]|=rr,this;for(var ar=rr,cr=nr;ar!==0&&cr<this.length;cr++){var fr=this.words[cr]|0;fr+=ar,ar=fr>>>26,fr&=67108863,this.words[cr]=fr}return ar!==0&&(this.words[cr]=ar,this.length++),this},Ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ct.prototype.cmpn=function(Ut){var tr=Ut<0;if(this.negative!==0&&!tr)return-1;if(this.negative===0&&tr)return 1;this.strip();var nr;if(this.length>1)nr=1;else{tr&&(Ut=-Ut),mt(Ut<=67108863,"Number is too big");var rr=this.words[0]|0;nr=rr===Ut?0:rr<Ut?-1:1}return this.negative!==0?-nr|0:nr},Ct.prototype.cmp=function(Ut){if(this.negative!==0&&Ut.negative===0)return-1;if(this.negative===0&&Ut.negative!==0)return 1;var tr=this.ucmp(Ut);return this.negative!==0?-tr|0:tr},Ct.prototype.ucmp=function(Ut){if(this.length>Ut.length)return 1;if(this.length<Ut.length)return-1;for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=this.words[nr]|0,ar=Ut.words[nr]|0;if(rr!==ar){rr<ar?tr=-1:rr>ar&&(tr=1);break}}return tr},Ct.prototype.gtn=function(Ut){return this.cmpn(Ut)===1},Ct.prototype.gt=function(Ut){return this.cmp(Ut)===1},Ct.prototype.gten=function(Ut){return this.cmpn(Ut)>=0},Ct.prototype.gte=function(Ut){return this.cmp(Ut)>=0},Ct.prototype.ltn=function(Ut){return this.cmpn(Ut)===-1},Ct.prototype.lt=function(Ut){return this.cmp(Ut)===-1},Ct.prototype.lten=function(Ut){return this.cmpn(Ut)<=0},Ct.prototype.lte=function(Ut){return this.cmp(Ut)<=0},Ct.prototype.eqn=function(Ut){return this.cmpn(Ut)===0},Ct.prototype.eq=function(Ut){return this.cmp(Ut)===0},Ct.red=function(Ut){return new Cr(Ut)},Ct.prototype.toRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),mt(this.negative===0,"red works only with positives"),Ut.convertTo(this)._forceRed(Ut)},Ct.prototype.fromRed=function(){return mt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ct.prototype._forceRed=function(Ut){return this.red=Ut,this},Ct.prototype.forceRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),this._forceRed(Ut)},Ct.prototype.redAdd=function(Ut){return mt(this.red,"redAdd works only with red numbers"),this.red.add(this,Ut)},Ct.prototype.redIAdd=function(Ut){return mt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ut)},Ct.prototype.redSub=function(Ut){return mt(this.red,"redSub works only with red numbers"),this.red.sub(this,Ut)},Ct.prototype.redISub=function(Ut){return mt(this.red,"redISub works only with red numbers"),this.red.isub(this,Ut)},Ct.prototype.redShl=function(Ut){return mt(this.red,"redShl works only with red numbers"),this.red.shl(this,Ut)},Ct.prototype.redMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.mul(this,Ut)},Ct.prototype.redIMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.imul(this,Ut)},Ct.prototype.redSqr=function(){return mt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ct.prototype.redISqr=function(){return mt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ct.prototype.redSqrt=function(){return mt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ct.prototype.redInvm=function(){return mt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ct.prototype.redNeg=function(){return mt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ct.prototype.redPow=function(Ut){return mt(this.red&&!Ut.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ut)};var vr={k256:null,p224:null,p192:null,p25519:null};function br(gr,Ut){this.name=gr,this.p=new Ct(Ut,16),this.n=this.p.bitLength(),this.k=new Ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var Ut=new Ct(null);return Ut.words=new Array(Math.ceil(this.n/13)),Ut},br.prototype.ireduce=function(Ut){var tr=Ut,nr;do this.split(tr,this.tmp),tr=this.imulK(tr),tr=tr.iadd(this.tmp),nr=tr.bitLength();while(nr>this.n);var rr=nr<this.n?-1:tr.ucmp(this.p);return rr===0?(tr.words[0]=0,tr.length=1):rr>0?tr.isub(this.p):tr.strip!==void 0?tr.strip():tr._strip(),tr},br.prototype.split=function(Ut,tr){Ut.iushrn(this.n,0,tr)},br.prototype.imulK=function(Ut){return Ut.imul(this.k)};function xr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$t(xr,br),xr.prototype.split=function(Ut,tr){for(var nr=4194303,rr=Math.min(Ut.length,9),ar=0;ar<rr;ar++)tr.words[ar]=Ut.words[ar];if(tr.length=rr,Ut.length<=9){Ut.words[0]=0,Ut.length=1;return}var cr=Ut.words[9];for(tr.words[tr.length++]=cr&nr,ar=10;ar<Ut.length;ar++){var fr=Ut.words[ar]|0;Ut.words[ar-10]=(fr&nr)<<4|cr>>>22,cr=fr}cr>>>=22,Ut.words[ar-10]=cr,cr===0&&Ut.length>10?Ut.length-=10:Ut.length-=9},xr.prototype.imulK=function(Ut){Ut.words[Ut.length]=0,Ut.words[Ut.length+1]=0,Ut.length+=2;for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=Ut.words[nr]|0;tr+=rr*977,Ut.words[nr]=tr&67108863,tr=rr*64+(tr/67108864|0)}return Ut.words[Ut.length-1]===0&&(Ut.length--,Ut.words[Ut.length-1]===0&&Ut.length--),Ut};function Sr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$t(Sr,br);function Er(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$t(Er,br);function $r(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$t($r,br),$r.prototype.imulK=function(Ut){for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=(Ut.words[nr]|0)*19+tr,ar=rr&67108863;rr>>>=26,Ut.words[nr]=ar,tr=rr}return tr!==0&&(Ut.words[Ut.length++]=tr),Ut},Ct._prime=function(Ut){if(vr[Ut])return vr[Ut];var tr;if(Ut==="k256")tr=new xr;else if(Ut==="p224")tr=new Sr;else if(Ut==="p192")tr=new Er;else if(Ut==="p25519")tr=new $r;else throw new Error("Unknown prime "+Ut);return vr[Ut]=tr,tr};function Cr(gr){if(typeof gr=="string"){var Ut=Ct._prime(gr);this.m=Ut.p,this.prime=Ut}else mt(gr.gtn(1),"modulus must be greater than 1"),this.m=gr,this.prime=null}Cr.prototype._verify1=function(Ut){mt(Ut.negative===0,"red works only with positives"),mt(Ut.red,"red works only with red numbers")},Cr.prototype._verify2=function(Ut,tr){mt((Ut.negative|tr.negative)===0,"red works only with positives"),mt(Ut.red&&Ut.red===tr.red,"red works only with red numbers")},Cr.prototype.imod=function(Ut){return this.prime?this.prime.ireduce(Ut)._forceRed(this):Ut.umod(this.m)._forceRed(this)},Cr.prototype.neg=function(Ut){return Ut.isZero()?Ut.clone():this.m.sub(Ut)._forceRed(this)},Cr.prototype.add=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.add(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr._forceRed(this)},Cr.prototype.iadd=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.iadd(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr},Cr.prototype.sub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.sub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr._forceRed(this)},Cr.prototype.isub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.isub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr},Cr.prototype.shl=function(Ut,tr){return this._verify1(Ut),this.imod(Ut.ushln(tr))},Cr.prototype.imul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.imul(tr))},Cr.prototype.mul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.mul(tr))},Cr.prototype.isqr=function(Ut){return this.imul(Ut,Ut.clone())},Cr.prototype.sqr=function(Ut){return this.mul(Ut,Ut)},Cr.prototype.sqrt=function(Ut){if(Ut.isZero())return Ut.clone();var tr=this.m.andln(3);if(mt(tr%2===1),tr===3){var nr=this.m.add(new Ct(1)).iushrn(2);return this.pow(Ut,nr)}for(var rr=this.m.subn(1),ar=0;!rr.isZero()&&rr.andln(1)===0;)ar++,rr.iushrn(1);mt(!rr.isZero());var cr=new Ct(1).toRed(this),fr=cr.redNeg(),sr=this.m.subn(1).iushrn(1),Yt=this.m.bitLength();for(Yt=new Ct(2*Yt*Yt).toRed(this);this.pow(Yt,sr).cmp(fr)!==0;)Yt.redIAdd(fr);for(var ur=this.pow(Yt,rr),_r=this.pow(Ut,rr.addn(1).iushrn(1)),yr=this.pow(Ut,rr),wr=ar;yr.cmp(cr)!==0;){for(var Ir=yr,Or=0;Ir.cmp(cr)!==0;Or++)Ir=Ir.redSqr();mt(Or<wr);var Ar=this.pow(ur,new Ct(1).iushln(wr-Or-1));_r=_r.redMul(Ar),ur=Ar.redSqr(),yr=yr.redMul(ur),wr=Or}return _r},Cr.prototype.invm=function(Ut){var tr=Ut._invmp(this.m);return tr.negative!==0?(tr.negative=0,this.imod(tr).redNeg()):this.imod(tr)},Cr.prototype.pow=function(Ut,tr){if(tr.isZero())return new Ct(1).toRed(this);if(tr.cmpn(1)===0)return Ut.clone();var nr=4,rr=new Array(1<<nr);rr[0]=new Ct(1).toRed(this),rr[1]=Ut;for(var ar=2;ar<rr.length;ar++)rr[ar]=this.mul(rr[ar-1],Ut);var cr=rr[0],fr=0,sr=0,Yt=tr.bitLength()%26;for(Yt===0&&(Yt=26),ar=tr.length-1;ar>=0;ar--){for(var ur=tr.words[ar],_r=Yt-1;_r>=0;_r--){var yr=ur>>_r&1;if(cr!==rr[0]&&(cr=this.sqr(cr)),yr===0&&fr===0){sr=0;continue}fr<<=1,fr|=yr,sr++,!(sr!==nr&&(ar!==0||_r!==0))&&(cr=this.mul(cr,rr[fr]),sr=0,fr=0)}Yt=26}return cr},Cr.prototype.convertTo=function(Ut){var tr=Ut.umod(this.m);return tr===Ut?tr.clone():tr},Cr.prototype.convertFrom=function(Ut){var tr=Ut.clone();return tr.red=null,tr},Ct.mont=function(Ut){return new kr(Ut)};function kr(gr){Cr.call(this,gr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$t(kr,Cr),kr.prototype.convertTo=function(Ut){return this.imod(Ut.ushln(this.shift))},kr.prototype.convertFrom=function(Ut){var tr=this.imod(Ut.mul(this.rinv));return tr.red=null,tr},kr.prototype.imul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return Ut.words[0]=0,Ut.length=1,Ut;var nr=Ut.imul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.mul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return new Ct(0)._forceRed(this);var nr=Ut.mul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.invm=function(Ut){var tr=this.imod(Ut._invmp(this.m).mul(this.r2));return tr._forceRed(this)}})(nt,commonjsGlobal$1)}(bn$3)),bn$3.exports}var api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(nt,et){if(nt.indexOf)return nt.indexOf(et);for(var at=0;at<nt.length;at++)if(nt[at]===et)return at;return-1},Object_keys=function(nt){if(Object.keys)return Object.keys(nt);var et=[];for(var at in nt)et.push(at);return et},forEach=function(nt,et){if(nt.forEach)return nt.forEach(et);for(var at=0;at<nt.length;at++)et(nt[at],at,nt)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(nt,et,at){Object.defineProperty(nt,et,{writable:!0,enumerable:!1,configurable:!0,value:at})}}catch{return function(et,at,mt){et[at]=mt}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(et){if(!(this instanceof Script))return new Script(et);this.code=et};Script.prototype.runInContext=function(nt){if(!(nt instanceof Context))throw new TypeError("needs a 'context' argument.");var et=document.createElement("iframe");et.style||(et.style={}),et.style.display="none",document.body.appendChild(et);var at=et.contentWindow,mt=at.eval,$t=at.execScript;!mt&&$t&&($t.call(at,"null"),mt=at.eval),forEach(Object_keys(nt),function(Ft){at[Ft]=nt[Ft]}),forEach(globals,function(Ft){nt[Ft]&&(at[Ft]=nt[Ft])});var Ct=Object_keys(at),Dt=mt.call(at,this.code);return forEach(Object_keys(at),function(Ft){(Ft in nt||indexOf(Ct,Ft)===-1)&&(nt[Ft]=at[Ft])}),forEach(globals,function(Ft){Ft in nt||defineProp(nt,Ft,at[Ft])}),document.body.removeChild(et),Dt},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(nt){var et=Script.createContext(nt),at=this.runInContext(et);return nt&&forEach(Object_keys(et),function(mt){nt[mt]=et[mt]}),at},forEach(Object_keys(Script.prototype),function(nt){exports[nt]=Script[nt]=function(et){var at=Script(et);return at[nt].apply(at,[].slice.call(arguments,1))}}),exports.isContext=function(nt){return nt instanceof Context},exports.createScript=function(nt){return exports.Script(nt)},exports.createContext=Script.createContext=function(nt){var et=new Context;return typeof nt=="object"&&forEach(Object_keys(nt),function(at){et[at]=nt[at]}),et}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(nt){var et=requireAsn1$1(),at=requireInherits_browser(),mt=nt;mt.define=function(Dt,Ft){return new $t(Dt,Ft)};function $t(Ct,Dt){this.name=Ct,this.body=Dt,this.decoders={},this.encoders={}}$t.prototype._createNamed=function(Dt){var Ft;try{Ft=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{Ft=function(jt){this._initNamed(jt)}}return at(Ft,Dt),Ft.prototype._initNamed=function(jt){Dt.call(this,jt)},new Ft(this)},$t.prototype._getDecoder=function(Dt){return Dt=Dt||"der",this.decoders.hasOwnProperty(Dt)||(this.decoders[Dt]=this._createNamed(et.decoders[Dt])),this.decoders[Dt]},$t.prototype.decode=function(Dt,Ft,Nt){return this._getDecoder(Ft).decode(Dt,Nt)},$t.prototype._getEncoder=function(Dt){return Dt=Dt||"der",this.encoders.hasOwnProperty(Dt)||(this.encoders[Dt]=this._createNamed(et.encoders[Dt])),this.encoders[Dt]},$t.prototype.encode=function(Dt,Ft,Nt){return this._getEncoder(Ft).encode(Dt,Nt)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var nt=requireInherits_browser();function et(mt){this._reporterState={obj:null,path:[],options:mt||{},errors:[]}}reporter.Reporter=et,et.prototype.isError=function($t){return $t instanceof at},et.prototype.save=function(){var $t=this._reporterState;return{obj:$t.obj,pathLen:$t.path.length}},et.prototype.restore=function($t){var Ct=this._reporterState;Ct.obj=$t.obj,Ct.path=Ct.path.slice(0,$t.pathLen)},et.prototype.enterKey=function($t){return this._reporterState.path.push($t)},et.prototype.exitKey=function($t){var Ct=this._reporterState;Ct.path=Ct.path.slice(0,$t-1)},et.prototype.leaveKey=function($t,Ct,Dt){var Ft=this._reporterState;this.exitKey($t),Ft.obj!==null&&(Ft.obj[Ct]=Dt)},et.prototype.path=function(){return this._reporterState.path.join("/")},et.prototype.enterObject=function(){var $t=this._reporterState,Ct=$t.obj;return $t.obj={},Ct},et.prototype.leaveObject=function($t){var Ct=this._reporterState,Dt=Ct.obj;return Ct.obj=$t,Dt},et.prototype.error=function($t){var Ct,Dt=this._reporterState,Ft=$t instanceof at;if(Ft?Ct=$t:Ct=new at(Dt.path.map(function(Nt){return"["+JSON.stringify(Nt)+"]"}).join(""),$t.message||$t,$t.stack),!Dt.options.partial)throw Ct;return Ft||Dt.errors.push(Ct),Ct},et.prototype.wrapResult=function($t){var Ct=this._reporterState;return Ct.options.partial?{result:this.isError($t)?null:$t,errors:Ct.errors}:$t};function at(mt,$t){this.path=mt,this.rethrow($t)}return nt(at,Error),at.prototype.rethrow=function($t){if(this.message=$t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,at),!this.stack)try{throw new Error(this.message)}catch(Ct){this.stack=Ct.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var nt=requireInherits_browser(),et=requireBase().Reporter,at=require$$2$1.Buffer;function mt(Ct,Dt){if(et.call(this,Dt),!at.isBuffer(Ct)){this.error("Input not Buffer");return}this.base=Ct,this.offset=0,this.length=Ct.length}nt(mt,et),buffer.DecoderBuffer=mt,mt.prototype.save=function(){return{offset:this.offset,reporter:et.prototype.save.call(this)}},mt.prototype.restore=function(Dt){var Ft=new mt(this.base);return Ft.offset=Dt.offset,Ft.length=this.offset,this.offset=Dt.offset,et.prototype.restore.call(this,Dt.reporter),Ft},mt.prototype.isEmpty=function(){return this.offset===this.length},mt.prototype.readUInt8=function(Dt){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Dt||"DecoderBuffer overrun")},mt.prototype.skip=function(Dt,Ft){if(!(this.offset+Dt<=this.length))return this.error(Ft||"DecoderBuffer overrun");var Nt=new mt(this.base);return Nt._reporterState=this._reporterState,Nt.offset=this.offset,Nt.length=this.offset+Dt,this.offset+=Dt,Nt},mt.prototype.raw=function(Dt){return this.base.slice(Dt?Dt.offset:this.offset,this.length)};function $t(Ct,Dt){if(Array.isArray(Ct))this.length=0,this.value=Ct.map(function(Ft){return Ft instanceof $t||(Ft=new $t(Ft,Dt)),this.length+=Ft.length,Ft},this);else if(typeof Ct=="number"){if(!(0<=Ct&&Ct<=255))return Dt.error("non-byte EncoderBuffer value");this.value=Ct,this.length=1}else if(typeof Ct=="string")this.value=Ct,this.length=at.byteLength(Ct);else if(at.isBuffer(Ct))this.value=Ct,this.length=Ct.length;else return Dt.error("Unsupported type: "+typeof Ct)}return buffer.EncoderBuffer=$t,$t.prototype.join=function(Dt,Ft){return Dt||(Dt=new at(this.length)),Ft||(Ft=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Nt){Nt.join(Dt,Ft),Ft+=Nt.length}):(typeof this.value=="number"?Dt[Ft]=this.value:typeof this.value=="string"?Dt.write(this.value,Ft):at.isBuffer(this.value)&&this.value.copy(Dt,Ft),Ft+=this.length)),Dt},buffer}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;var nt=requireBase().Reporter,et=requireBase().EncoderBuffer,at=requireBase().DecoderBuffer,mt=requireMinimalisticAssert(),$t=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Ct=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat($t),Dt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Ft(jt,Lt){var Vt={};this._baseState=Vt,Vt.enc=jt,Vt.parent=Lt||null,Vt.children=null,Vt.tag=null,Vt.args=null,Vt.reverseArgs=null,Vt.choice=null,Vt.optional=!1,Vt.any=!1,Vt.obj=!1,Vt.use=null,Vt.useDecoder=null,Vt.key=null,Vt.default=null,Vt.explicit=null,Vt.implicit=null,Vt.contains=null,Vt.parent||(Vt.children=[],this._wrap())}node$1=Ft;var Nt=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return Ft.prototype.clone=function(){var Lt=this._baseState,Vt={};Nt.forEach(function(ir){Vt[ir]=Lt[ir]});var er=new this.constructor(Vt.parent);return er._baseState=Vt,er},Ft.prototype._wrap=function(){var Lt=this._baseState;Ct.forEach(function(Vt){this[Vt]=function(){var ir=new this.constructor(this);return Lt.children.push(ir),ir[Vt].apply(ir,arguments)}},this)},Ft.prototype._init=function(Lt){var Vt=this._baseState;mt(Vt.parent===null),Lt.call(this),Vt.children=Vt.children.filter(function(er){return er._baseState.parent===this},this),mt.equal(Vt.children.length,1,"Root node can have only one child")},Ft.prototype._useArgs=function(Lt){var Vt=this._baseState,er=Lt.filter(function(ir){return ir instanceof this.constructor},this);Lt=Lt.filter(function(ir){return!(ir instanceof this.constructor)},this),er.length!==0&&(mt(Vt.children===null),Vt.children=er,er.forEach(function(ir){ir._baseState.parent=this},this)),Lt.length!==0&&(mt(Vt.args===null),Vt.args=Lt,Vt.reverseArgs=Lt.map(function(ir){if(typeof ir!="object"||ir.constructor!==Object)return ir;var or={};return Object.keys(ir).forEach(function(lr){lr==(lr|0)&&(lr|=0);var dr=ir[lr];or[dr]=lr}),or}))},Dt.forEach(function(jt){Ft.prototype[jt]=function(){var Vt=this._baseState;throw new Error(jt+" not implemented for encoding: "+Vt.enc)}}),$t.forEach(function(jt){Ft.prototype[jt]=function(){var Vt=this._baseState,er=Array.prototype.slice.call(arguments);return mt(Vt.tag===null),Vt.tag=jt,this._useArgs(er),this}}),Ft.prototype.use=function(Lt){mt(Lt);var Vt=this._baseState;return mt(Vt.use===null),Vt.use=Lt,this},Ft.prototype.optional=function(){var Lt=this._baseState;return Lt.optional=!0,this},Ft.prototype.def=function(Lt){var Vt=this._baseState;return mt(Vt.default===null),Vt.default=Lt,Vt.optional=!0,this},Ft.prototype.explicit=function(Lt){var Vt=this._baseState;return mt(Vt.explicit===null&&Vt.implicit===null),Vt.explicit=Lt,this},Ft.prototype.implicit=function(Lt){var Vt=this._baseState;return mt(Vt.explicit===null&&Vt.implicit===null),Vt.implicit=Lt,this},Ft.prototype.obj=function(){var Lt=this._baseState,Vt=Array.prototype.slice.call(arguments);return Lt.obj=!0,Vt.length!==0&&this._useArgs(Vt),this},Ft.prototype.key=function(Lt){var Vt=this._baseState;return mt(Vt.key===null),Vt.key=Lt,this},Ft.prototype.any=function(){var Lt=this._baseState;return Lt.any=!0,this},Ft.prototype.choice=function(Lt){var Vt=this._baseState;return mt(Vt.choice===null),Vt.choice=Lt,this._useArgs(Object.keys(Lt).map(function(er){return Lt[er]})),this},Ft.prototype.contains=function(Lt){var Vt=this._baseState;return mt(Vt.use===null),Vt.contains=Lt,this},Ft.prototype._decode=function(Lt,Vt){var er=this._baseState;if(er.parent===null)return Lt.wrapResult(er.children[0]._decode(Lt,Vt));var ir=er.default,or=!0,lr=null;if(er.key!==null&&(lr=Lt.enterKey(er.key)),er.optional){var dr=null;if(er.explicit!==null?dr=er.explicit:er.implicit!==null?dr=er.implicit:er.tag!==null&&(dr=er.tag),dr===null&&!er.any){var pr=Lt.save();try{er.choice===null?this._decodeGeneric(er.tag,Lt,Vt):this._decodeChoice(Lt,Vt),or=!0}catch{or=!1}Lt.restore(pr)}else if(or=this._peekTag(Lt,dr,er.any),Lt.isError(or))return or}var hr;if(er.obj&&or&&(hr=Lt.enterObject()),or){if(er.explicit!==null){var vr=this._decodeTag(Lt,er.explicit);if(Lt.isError(vr))return vr;Lt=vr}var br=Lt.offset;if(er.use===null&&er.choice===null){if(er.any)var pr=Lt.save();var xr=this._decodeTag(Lt,er.implicit!==null?er.implicit:er.tag,er.any);if(Lt.isError(xr))return xr;er.any?ir=Lt.raw(pr):Lt=xr}if(Vt&&Vt.track&&er.tag!==null&&Vt.track(Lt.path(),br,Lt.length,"tagged"),Vt&&Vt.track&&er.tag!==null&&Vt.track(Lt.path(),Lt.offset,Lt.length,"content"),er.any?ir=ir:er.choice===null?ir=this._decodeGeneric(er.tag,Lt,Vt):ir=this._decodeChoice(Lt,Vt),Lt.isError(ir))return ir;if(!er.any&&er.choice===null&&er.children!==null&&er.children.forEach(function($r){$r._decode(Lt,Vt)}),er.contains&&(er.tag==="octstr"||er.tag==="bitstr")){var Sr=new at(ir);ir=this._getUse(er.contains,Lt._reporterState.obj)._decode(Sr,Vt)}}return er.obj&&or&&(ir=Lt.leaveObject(hr)),er.key!==null&&(ir!==null||or===!0)?Lt.leaveKey(lr,er.key,ir):lr!==null&&Lt.exitKey(lr),ir},Ft.prototype._decodeGeneric=function(Lt,Vt,er){var ir=this._baseState;return Lt==="seq"||Lt==="set"?null:Lt==="seqof"||Lt==="setof"?this._decodeList(Vt,Lt,ir.args[0],er):/str$/.test(Lt)?this._decodeStr(Vt,Lt,er):Lt==="objid"&&ir.args?this._decodeObjid(Vt,ir.args[0],ir.args[1],er):Lt==="objid"?this._decodeObjid(Vt,null,null,er):Lt==="gentime"||Lt==="utctime"?this._decodeTime(Vt,Lt,er):Lt==="null_"?this._decodeNull(Vt,er):Lt==="bool"?this._decodeBool(Vt,er):Lt==="objDesc"?this._decodeStr(Vt,Lt,er):Lt==="int"||Lt==="enum"?this._decodeInt(Vt,ir.args&&ir.args[0],er):ir.use!==null?this._getUse(ir.use,Vt._reporterState.obj)._decode(Vt,er):Vt.error("unknown tag: "+Lt)},Ft.prototype._getUse=function(Lt,Vt){var er=this._baseState;return er.useDecoder=this._use(Lt,Vt),mt(er.useDecoder._baseState.parent===null),er.useDecoder=er.useDecoder._baseState.children[0],er.implicit!==er.useDecoder._baseState.implicit&&(er.useDecoder=er.useDecoder.clone(),er.useDecoder._baseState.implicit=er.implicit),er.useDecoder},Ft.prototype._decodeChoice=function(Lt,Vt){var er=this._baseState,ir=null,or=!1;return Object.keys(er.choice).some(function(lr){var dr=Lt.save(),pr=er.choice[lr];try{var hr=pr._decode(Lt,Vt);if(Lt.isError(hr))return!1;ir={type:lr,value:hr},or=!0}catch{return Lt.restore(dr),!1}return!0},this),or?ir:Lt.error("Choice not matched")},Ft.prototype._createEncoderBuffer=function(Lt){return new et(Lt,this.reporter)},Ft.prototype._encode=function(Lt,Vt,er){var ir=this._baseState;if(!(ir.default!==null&&ir.default===Lt)){var or=this._encodeValue(Lt,Vt,er);if(or!==void 0&&!this._skipDefault(or,Vt,er))return or}},Ft.prototype._encodeValue=function(Lt,Vt,er){var ir=this._baseState;if(ir.parent===null)return ir.children[0]._encode(Lt,Vt||new nt);var pr=null;if(this.reporter=Vt,ir.optional&&Lt===void 0)if(ir.default!==null)Lt=ir.default;else return;var or=null,lr=!1;if(ir.any)pr=this._createEncoderBuffer(Lt);else if(ir.choice)pr=this._encodeChoice(Lt,Vt);else if(ir.contains)or=this._getUse(ir.contains,er)._encode(Lt,Vt),lr=!0;else if(ir.children)or=ir.children.map(function(br){if(br._baseState.tag==="null_")return br._encode(null,Vt,Lt);if(br._baseState.key===null)return Vt.error("Child should have a key");var xr=Vt.enterKey(br._baseState.key);if(typeof Lt!="object")return Vt.error("Child expected, but input is not object");var Sr=br._encode(Lt[br._baseState.key],Vt,Lt);return Vt.leaveKey(xr),Sr},this).filter(function(br){return br}),or=this._createEncoderBuffer(or);else if(ir.tag==="seqof"||ir.tag==="setof"){if(!(ir.args&&ir.args.length===1))return Vt.error("Too many args for : "+ir.tag);if(!Array.isArray(Lt))return Vt.error("seqof/setof, but data is not Array");var dr=this.clone();dr._baseState.implicit=null,or=this._createEncoderBuffer(Lt.map(function(br){var xr=this._baseState;return this._getUse(xr.args[0],Lt)._encode(br,Vt)},dr))}else ir.use!==null?pr=this._getUse(ir.use,er)._encode(Lt,Vt):(or=this._encodePrimitive(ir.tag,Lt),lr=!0);var pr;if(!ir.any&&ir.choice===null){var hr=ir.implicit!==null?ir.implicit:ir.tag,vr=ir.implicit===null?"universal":"context";hr===null?ir.use===null&&Vt.error("Tag could be omitted only for .use()"):ir.use===null&&(pr=this._encodeComposite(hr,lr,vr,or))}return ir.explicit!==null&&(pr=this._encodeComposite(ir.explicit,!1,"context",pr)),pr},Ft.prototype._encodeChoice=function(Lt,Vt){var er=this._baseState,ir=er.choice[Lt.type];return ir||mt(!1,Lt.type+" not found in "+JSON.stringify(Object.keys(er.choice))),ir._encode(Lt.value,Vt)},Ft.prototype._encodePrimitive=function(Lt,Vt){var er=this._baseState;if(/str$/.test(Lt))return this._encodeStr(Vt,Lt);if(Lt==="objid"&&er.args)return this._encodeObjid(Vt,er.reverseArgs[0],er.args[1]);if(Lt==="objid")return this._encodeObjid(Vt,null,null);if(Lt==="gentime"||Lt==="utctime")return this._encodeTime(Vt,Lt);if(Lt==="null_")return this._encodeNull();if(Lt==="int"||Lt==="enum")return this._encodeInt(Vt,er.args&&er.reverseArgs[0]);if(Lt==="bool")return this._encodeBool(Vt);if(Lt==="objDesc")return this._encodeStr(Vt,Lt);throw new Error("Unsupported tag: "+Lt)},Ft.prototype._isNumstr=function(Lt){return/^[0-9 ]*$/.test(Lt)},Ft.prototype._isPrintstr=function(Lt){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(Lt)},node$1}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(nt){var et=nt;et.Reporter=requireReporter().Reporter,et.DecoderBuffer=requireBuffer().DecoderBuffer,et.EncoderBuffer=requireBuffer().EncoderBuffer,et.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(nt){var et=requireConstants();nt.tagClass={0:"universal",1:"application",2:"context",3:"private"},nt.tagClassByName=et._reverse(nt.tagClass),nt.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},nt.tagByName=et._reverse(nt.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(nt){var et=nt;et._reverse=function(mt){var $t={};return Object.keys(mt).forEach(function(Ct){(Ct|0)==Ct&&(Ct=Ct|0);var Dt=mt[Ct];$t[Dt]=Ct}),$t},et.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var nt=requireInherits_browser(),et=requireAsn1$1(),at=et.base,mt=et.bignum,$t=et.constants.der;function Ct(jt){this.enc="der",this.name=jt.name,this.entity=jt,this.tree=new Dt,this.tree._init(jt.body)}der_1$1=Ct,Ct.prototype.decode=function(Lt,Vt){return Lt instanceof at.DecoderBuffer||(Lt=new at.DecoderBuffer(Lt,Vt)),this.tree._decode(Lt,Vt)};function Dt(jt){at.Node.call(this,"der",jt)}nt(Dt,at.Node),Dt.prototype._peekTag=function(Lt,Vt,er){if(Lt.isEmpty())return!1;var ir=Lt.save(),or=Ft(Lt,'Failed to peek tag: "'+Vt+'"');return Lt.isError(or)?or:(Lt.restore(ir),or.tag===Vt||or.tagStr===Vt||or.tagStr+"of"===Vt||er)},Dt.prototype._decodeTag=function(Lt,Vt,er){var ir=Ft(Lt,'Failed to decode tag of "'+Vt+'"');if(Lt.isError(ir))return ir;var or=Nt(Lt,ir.primitive,'Failed to get length of "'+Vt+'"');if(Lt.isError(or))return or;if(!er&&ir.tag!==Vt&&ir.tagStr!==Vt&&ir.tagStr+"of"!==Vt)return Lt.error('Failed to match tag: "'+Vt+'"');if(ir.primitive||or!==null)return Lt.skip(or,'Failed to match body of: "'+Vt+'"');var lr=Lt.save(),dr=this._skipUntilEnd(Lt,'Failed to skip indefinite length body: "'+this.tag+'"');return Lt.isError(dr)?dr:(or=Lt.offset-lr.offset,Lt.restore(lr),Lt.skip(or,'Failed to match body of: "'+Vt+'"'))},Dt.prototype._skipUntilEnd=function(Lt,Vt){for(;;){var er=Ft(Lt,Vt);if(Lt.isError(er))return er;var ir=Nt(Lt,er.primitive,Vt);if(Lt.isError(ir))return ir;var or;if(er.primitive||ir!==null?or=Lt.skip(ir):or=this._skipUntilEnd(Lt,Vt),Lt.isError(or))return or;if(er.tagStr==="end")break}},Dt.prototype._decodeList=function(Lt,Vt,er,ir){for(var or=[];!Lt.isEmpty();){var lr=this._peekTag(Lt,"end");if(Lt.isError(lr))return lr;var dr=er.decode(Lt,"der",ir);if(Lt.isError(dr)&&lr)break;or.push(dr)}return or},Dt.prototype._decodeStr=function(Lt,Vt){if(Vt==="bitstr"){var er=Lt.readUInt8();return Lt.isError(er)?er:{unused:er,data:Lt.raw()}}else if(Vt==="bmpstr"){var ir=Lt.raw();if(ir.length%2===1)return Lt.error("Decoding of string type: bmpstr length mismatch");for(var or="",lr=0;lr<ir.length/2;lr++)or+=String.fromCharCode(ir.readUInt16BE(lr*2));return or}else if(Vt==="numstr"){var dr=Lt.raw().toString("ascii");return this._isNumstr(dr)?dr:Lt.error("Decoding of string type: numstr unsupported characters")}else{if(Vt==="octstr")return Lt.raw();if(Vt==="objDesc")return Lt.raw();if(Vt==="printstr"){var pr=Lt.raw().toString("ascii");return this._isPrintstr(pr)?pr:Lt.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(Vt)?Lt.raw().toString():Lt.error("Decoding of string type: "+Vt+" unsupported")}},Dt.prototype._decodeObjid=function(Lt,Vt,er){for(var ir,or=[],lr=0;!Lt.isEmpty();){var dr=Lt.readUInt8();lr<<=7,lr|=dr&127,dr&128||(or.push(lr),lr=0)}dr&128&&or.push(lr);var pr=or[0]/40|0,hr=or[0]%40;if(er?ir=or:ir=[pr,hr].concat(or.slice(1)),Vt){var vr=Vt[ir.join(" ")];vr===void 0&&(vr=Vt[ir.join(".")]),vr!==void 0&&(ir=vr)}return ir},Dt.prototype._decodeTime=function(Lt,Vt){var er=Lt.raw().toString();if(Vt==="gentime")var ir=er.slice(0,4)|0,or=er.slice(4,6)|0,lr=er.slice(6,8)|0,dr=er.slice(8,10)|0,pr=er.slice(10,12)|0,hr=er.slice(12,14)|0;else if(Vt==="utctime"){var ir=er.slice(0,2)|0,or=er.slice(2,4)|0,lr=er.slice(4,6)|0,dr=er.slice(6,8)|0,pr=er.slice(8,10)|0,hr=er.slice(10,12)|0;ir<70?ir=2e3+ir:ir=1900+ir}else return Lt.error("Decoding "+Vt+" time is not supported yet");return Date.UTC(ir,or-1,lr,dr,pr,hr,0)},Dt.prototype._decodeNull=function(Lt){return null},Dt.prototype._decodeBool=function(Lt){var Vt=Lt.readUInt8();return Lt.isError(Vt)?Vt:Vt!==0},Dt.prototype._decodeInt=function(Lt,Vt){var er=Lt.raw(),ir=new mt(er);return Vt&&(ir=Vt[ir.toString(10)]||ir),ir},Dt.prototype._use=function(Lt,Vt){return typeof Lt=="function"&&(Lt=Lt(Vt)),Lt._getDecoder("der").tree};function Ft(jt,Lt){var Vt=jt.readUInt8(Lt);if(jt.isError(Vt))return Vt;var er=$t.tagClass[Vt>>6],ir=(Vt&32)===0;if((Vt&31)===31){var or=Vt;for(Vt=0;(or&128)===128;){if(or=jt.readUInt8(Lt),jt.isError(or))return or;Vt<<=7,Vt|=or&127}}else Vt&=31;var lr=$t.tag[Vt];return{cls:er,primitive:ir,tag:Vt,tagStr:lr}}function Nt(jt,Lt,Vt){var er=jt.readUInt8(Vt);if(jt.isError(er))return er;if(!Lt&&er===128)return null;if(!(er&128))return er;var ir=er&127;if(ir>4)return jt.error("length octect is too long");er=0;for(var or=0;or<ir;or++){er<<=8;var lr=jt.readUInt8(Vt);if(jt.isError(lr))return lr;er|=lr}return er}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var nt=requireInherits_browser(),et=require$$2$1.Buffer,at=requireDer$1();function mt($t){at.call(this,$t),this.enc="pem"}return nt(mt,at),pem$1=mt,mt.prototype.decode=function(Ct,Dt){for(var Ft=Ct.toString().split(/[\r\n]+/g),Nt=Dt.label.toUpperCase(),jt=/^-----(BEGIN|END) ([^-]+)-----$/,Lt=-1,Vt=-1,er=0;er<Ft.length;er++){var ir=Ft[er].match(jt);if(ir!==null&&ir[2]===Nt)if(Lt===-1){if(ir[1]!=="BEGIN")break;Lt=er}else{if(ir[1]!=="END")break;Vt=er;break}}if(Lt===-1||Vt===-1)throw new Error("PEM section not found for: "+Nt);var or=Ft.slice(Lt+1,Vt).join("");or.replace(/[^a-z0-9\+\/=]+/gi,"");var lr=new et(or,"base64");return at.prototype.decode.call(this,lr,Dt)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(nt){var et=nt;et.der=requireDer$1(),et.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var nt=requireInherits_browser(),et=require$$2$1.Buffer,at=requireAsn1$1(),mt=at.base,$t=at.constants.der;function Ct(jt){this.enc="der",this.name=jt.name,this.entity=jt,this.tree=new Dt,this.tree._init(jt.body)}der_1=Ct,Ct.prototype.encode=function(Lt,Vt){return this.tree._encode(Lt,Vt).join()};function Dt(jt){mt.Node.call(this,"der",jt)}nt(Dt,mt.Node),Dt.prototype._encodeComposite=function(Lt,Vt,er,ir){var or=Nt(Lt,Vt,er,this.reporter);if(ir.length<128){var pr=new et(2);return pr[0]=or,pr[1]=ir.length,this._createEncoderBuffer([pr,ir])}for(var lr=1,dr=ir.length;dr>=256;dr>>=8)lr++;var pr=new et(2+lr);pr[0]=or,pr[1]=128|lr;for(var dr=1+lr,hr=ir.length;hr>0;dr--,hr>>=8)pr[dr]=hr&255;return this._createEncoderBuffer([pr,ir])},Dt.prototype._encodeStr=function(Lt,Vt){if(Vt==="bitstr")return this._createEncoderBuffer([Lt.unused|0,Lt.data]);if(Vt==="bmpstr"){for(var er=new et(Lt.length*2),ir=0;ir<Lt.length;ir++)er.writeUInt16BE(Lt.charCodeAt(ir),ir*2);return this._createEncoderBuffer(er)}else return Vt==="numstr"?this._isNumstr(Lt)?this._createEncoderBuffer(Lt):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Vt==="printstr"?this._isPrintstr(Lt)?this._createEncoderBuffer(Lt):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Vt)?this._createEncoderBuffer(Lt):Vt==="objDesc"?this._createEncoderBuffer(Lt):this.reporter.error("Encoding of string type: "+Vt+" unsupported")},Dt.prototype._encodeObjid=function(Lt,Vt,er){if(typeof Lt=="string"){if(!Vt)return this.reporter.error("string objid given, but no values map found");if(!Vt.hasOwnProperty(Lt))return this.reporter.error("objid not found in values map");Lt=Vt[Lt].split(/[\s\.]+/g);for(var ir=0;ir<Lt.length;ir++)Lt[ir]|=0}else if(Array.isArray(Lt)){Lt=Lt.slice();for(var ir=0;ir<Lt.length;ir++)Lt[ir]|=0}if(!Array.isArray(Lt))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(Lt));if(!er){if(Lt[1]>=40)return this.reporter.error("Second objid identifier OOB");Lt.splice(0,2,Lt[0]*40+Lt[1])}for(var or=0,ir=0;ir<Lt.length;ir++){var lr=Lt[ir];for(or++;lr>=128;lr>>=7)or++}for(var dr=new et(or),pr=dr.length-1,ir=Lt.length-1;ir>=0;ir--){var lr=Lt[ir];for(dr[pr--]=lr&127;(lr>>=7)>0;)dr[pr--]=128|lr&127}return this._createEncoderBuffer(dr)};function Ft(jt){return jt<10?"0"+jt:jt}Dt.prototype._encodeTime=function(Lt,Vt){var er,ir=new Date(Lt);return Vt==="gentime"?er=[Ft(ir.getFullYear()),Ft(ir.getUTCMonth()+1),Ft(ir.getUTCDate()),Ft(ir.getUTCHours()),Ft(ir.getUTCMinutes()),Ft(ir.getUTCSeconds()),"Z"].join(""):Vt==="utctime"?er=[Ft(ir.getFullYear()%100),Ft(ir.getUTCMonth()+1),Ft(ir.getUTCDate()),Ft(ir.getUTCHours()),Ft(ir.getUTCMinutes()),Ft(ir.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Vt+" time is not supported yet"),this._encodeStr(er,"octstr")},Dt.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Dt.prototype._encodeInt=function(Lt,Vt){if(typeof Lt=="string"){if(!Vt)return this.reporter.error("String int or enum given, but no values map");if(!Vt.hasOwnProperty(Lt))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(Lt));Lt=Vt[Lt]}if(typeof Lt!="number"&&!et.isBuffer(Lt)){var er=Lt.toArray();!Lt.sign&&er[0]&128&&er.unshift(0),Lt=new et(er)}if(et.isBuffer(Lt)){var ir=Lt.length;Lt.length===0&&ir++;var lr=new et(ir);return Lt.copy(lr),Lt.length===0&&(lr[0]=0),this._createEncoderBuffer(lr)}if(Lt<128)return this._createEncoderBuffer(Lt);if(Lt<256)return this._createEncoderBuffer([0,Lt]);for(var ir=1,or=Lt;or>=256;or>>=8)ir++;for(var lr=new Array(ir),or=lr.length-1;or>=0;or--)lr[or]=Lt&255,Lt>>=8;return lr[0]&128&&lr.unshift(0),this._createEncoderBuffer(new et(lr))},Dt.prototype._encodeBool=function(Lt){return this._createEncoderBuffer(Lt?255:0)},Dt.prototype._use=function(Lt,Vt){return typeof Lt=="function"&&(Lt=Lt(Vt)),Lt._getEncoder("der").tree},Dt.prototype._skipDefault=function(Lt,Vt,er){var ir=this._baseState,or;if(ir.default===null)return!1;var lr=Lt.join();if(ir.defaultBuffer===void 0&&(ir.defaultBuffer=this._encodeValue(ir.default,Vt,er).join()),lr.length!==ir.defaultBuffer.length)return!1;for(or=0;or<lr.length;or++)if(lr[or]!==ir.defaultBuffer[or])return!1;return!0};function Nt(jt,Lt,Vt,er){var ir;if(jt==="seqof"?jt="seq":jt==="setof"&&(jt="set"),$t.tagByName.hasOwnProperty(jt))ir=$t.tagByName[jt];else if(typeof jt=="number"&&(jt|0)===jt)ir=jt;else return er.error("Unknown tag: "+jt);return ir>=31?er.error("Multi-octet tag encoding unsupported"):(Lt||(ir|=32),ir|=$t.tagClassByName[Vt||"universal"]<<6,ir)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var nt=requireInherits_browser(),et=requireDer();function at(mt){et.call(this,mt),this.enc="pem"}return nt(at,et),pem=at,at.prototype.encode=function($t,Ct){for(var Dt=et.prototype.encode.call(this,$t),Ft=Dt.toString("base64"),Nt=["-----BEGIN "+Ct.label+"-----"],jt=0;jt<Ft.length;jt+=64)Nt.push(Ft.slice(jt,jt+64));return Nt.push("-----END "+Ct.label+"-----"),Nt.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(nt){var et=nt;et.der=requireDer(),et.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(nt){var et=nt;et.bignum=requireBn$2(),et.define=requireApi().define,et.base=requireBase(),et.constants=requireConstants(),et.decoders=requireDecoders(),et.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var nt=requireAsn1$1(),et=nt.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),at=nt.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),mt=nt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),$t=nt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(mt),this.key("subjectPublicKey").bitstr())}),Ct=nt.define("RelativeDistinguishedName",function(){this.setof(at)}),Dt=nt.define("RDNSequence",function(){this.seqof(Ct)}),Ft=nt.define("Name",function(){this.choice({rdnSequence:this.use(Dt)})}),Nt=nt.define("Validity",function(){this.seq().obj(this.key("notBefore").use(et),this.key("notAfter").use(et))}),jt=nt.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Lt=nt.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(mt),this.key("issuer").use(Ft),this.key("validity").use(Nt),this.key("subject").use(Ft),this.key("subjectPublicKeyInfo").use($t),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(jt).optional())}),Vt=nt.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Lt),this.key("signatureAlgorithm").use(mt),this.key("signatureValue").bitstr())});return certificate=Vt,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var nt=requireAsn1$1();asn1$1.certificate=requireCertificate();var et=nt.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=et;var at=nt.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=at;var mt=nt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),$t=nt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(mt),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=$t;var Ct=nt.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(mt),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=Ct;var Dt=nt.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=Dt;var Ft=nt.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=Ft,asn1$1.DSAparam=nt.define("DSAparam",function(){this.int()});var Nt=nt.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),jt=nt.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Nt),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=jt,asn1$1.signature=nt.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(nt,et){var at=require$$2$1,mt=at.Buffer;function $t(Dt,Ft){for(var Nt in Dt)Ft[Nt]=Dt[Nt]}mt.from&&mt.alloc&&mt.allocUnsafe&&mt.allocUnsafeSlow?nt.exports=at:($t(at,et),et.Buffer=Ct);function Ct(Dt,Ft,Nt){return mt(Dt,Ft,Nt)}Ct.prototype=Object.create(mt.prototype),$t(mt,Ct),Ct.from=function(Dt,Ft,Nt){if(typeof Dt=="number")throw new TypeError("Argument must not be a number");return mt(Dt,Ft,Nt)},Ct.alloc=function(Dt,Ft,Nt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");var jt=mt(Dt);return Ft!==void 0?typeof Nt=="string"?jt.fill(Ft,Nt):jt.fill(Ft):jt.fill(0),jt},Ct.allocUnsafe=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return mt(Dt)},Ct.allocUnsafeSlow=function(Dt){if(typeof Dt!="number")throw new TypeError("Argument must be a number");return at.SlowBuffer(Dt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var nt=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,et=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,at=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,mt=requireEvp_bytestokey(),$t=requireBrowser$6(),Ct=requireSafeBuffer().Buffer;return fixProc=function(Dt,Ft){var Nt=Dt.toString(),jt=Nt.match(nt),Lt;if(jt){var er="aes"+jt[1],ir=Ct.from(jt[2],"hex"),or=Ct.from(jt[3].replace(/[\r\n]/g,""),"base64"),lr=mt(Ft,ir.slice(0,8),parseInt(jt[1],10)).key,dr=[],pr=$t.createDecipheriv(er,lr,ir);dr.push(pr.update(or)),dr.push(pr.final()),Lt=Ct.concat(dr)}else{var Vt=Nt.match(at);Lt=Ct.from(Vt[2].replace(/[\r\n]/g,""),"base64")}var hr=Nt.match(et)[1];return{tag:hr,data:Lt}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var nt=requireAsn1(),et=require$$1$1,at=requireFixProc(),mt=requireBrowser$6(),$t=requireBrowser$7(),Ct=requireSafeBuffer().Buffer;function Dt(Nt,jt){var Lt=Nt.algorithm.decrypt.kde.kdeparams.salt,Vt=parseInt(Nt.algorithm.decrypt.kde.kdeparams.iters.toString(),10),er=et[Nt.algorithm.decrypt.cipher.algo.join(".")],ir=Nt.algorithm.decrypt.cipher.iv,or=Nt.subjectPrivateKey,lr=parseInt(er.split("-")[1],10)/8,dr=$t.pbkdf2Sync(jt,Lt,Vt,lr,"sha1"),pr=mt.createDecipheriv(er,dr,ir),hr=[];return hr.push(pr.update(or)),hr.push(pr.final()),Ct.concat(hr)}function Ft(Nt){var jt;typeof Nt=="object"&&!Ct.isBuffer(Nt)&&(jt=Nt.passphrase,Nt=Nt.key),typeof Nt=="string"&&(Nt=Ct.from(Nt));var Lt=at(Nt,jt),Vt=Lt.tag,er=Lt.data,ir,or;switch(Vt){case"CERTIFICATE":or=nt.certificate.decode(er,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(or||(or=nt.PublicKey.decode(er,"der")),ir=or.algorithm.algorithm.join("."),ir){case"1.2.840.113549.1.1.1":return nt.RSAPublicKey.decode(or.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return or.subjectPrivateKey=or.subjectPublicKey,{type:"ec",data:or};case"1.2.840.10040.4.1":return or.algorithm.params.pub_key=nt.DSAparam.decode(or.subjectPublicKey.data,"der"),{type:"dsa",data:or.algorithm.params};default:throw new Error("unknown key id "+ir)}case"ENCRYPTED PRIVATE KEY":er=nt.EncryptedPrivateKey.decode(er,"der"),er=Dt(er,jt);case"PRIVATE KEY":switch(or=nt.PrivateKey.decode(er,"der"),ir=or.algorithm.algorithm.join("."),ir){case"1.2.840.113549.1.1.1":return nt.RSAPrivateKey.decode(or.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:or.algorithm.curve,privateKey:nt.ECPrivateKey.decode(or.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return or.algorithm.params.priv_key=nt.DSAparam.decode(or.subjectPrivateKey,"der"),{type:"dsa",params:or.algorithm.params};default:throw new Error("unknown key id "+ir)}case"RSA PUBLIC KEY":return nt.RSAPublicKey.decode(er,"der");case"RSA PRIVATE KEY":return nt.RSAPrivateKey.decode(er,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:nt.DSAPrivateKey.decode(er,"der")};case"EC PRIVATE KEY":return er=nt.ECPrivateKey.decode(er,"der"),{curve:er.parameters.value,privateKey:er.privateKey};default:throw new Error("unknown key type "+Vt)}}return Ft.signature=nt.signature,parseAsn1=Ft,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$2.exports;hasRequiredSign=1;var nt=requireSafeBuffer$3().Buffer,et=requireBrowser$8(),at=requireBrowserifyRsa(),mt=requireElliptic().ec,$t=bnExports,Ct=requireParseAsn1(),Dt=require$$4,Ft=1;function Nt(pr,hr,vr,br,xr){var Sr=Ct(hr);if(Sr.curve){if(br!=="ecdsa"&&br!=="ecdsa/rsa")throw new Error("wrong private key type");return jt(pr,Sr)}else if(Sr.type==="dsa"){if(br!=="dsa")throw new Error("wrong private key type");return Lt(pr,Sr,vr)}if(br!=="rsa"&&br!=="ecdsa/rsa")throw new Error("wrong private key type");if(hr.padding!==void 0&&hr.padding!==Ft)throw new Error("illegal or unsupported padding mode");pr=nt.concat([xr,pr]);for(var Er=Sr.modulus.byteLength(),$r=[0,1];pr.length+$r.length+1<Er;)$r.push(255);$r.push(0);for(var Cr=-1;++Cr<pr.length;)$r.push(pr[Cr]);var kr=at($r,Sr);return kr}function jt(pr,hr){var vr=Dt[hr.curve.join(".")];if(!vr)throw new Error("unknown curve "+hr.curve.join("."));var br=new mt(vr),xr=br.keyFromPrivate(hr.privateKey),Sr=xr.sign(pr);return nt.from(Sr.toDER())}function Lt(pr,hr,vr){for(var br=hr.params.priv_key,xr=hr.params.p,Sr=hr.params.q,Er=hr.params.g,$r=new $t(0),Cr,kr=ir(pr,Sr).mod(Sr),gr=!1,Ut=er(br,Sr,pr,vr);gr===!1;)Cr=lr(Sr,Ut,vr),$r=dr(Er,Cr,xr,Sr),gr=Cr.invm(Sr).imul(kr.add(br.mul($r))).mod(Sr),gr.cmpn(0)===0&&(gr=!1,$r=new $t(0));return Vt($r,gr)}function Vt(pr,hr){pr=pr.toArray(),hr=hr.toArray(),pr[0]&128&&(pr=[0].concat(pr)),hr[0]&128&&(hr=[0].concat(hr));var vr=pr.length+hr.length+4,br=[48,vr,2,pr.length];return br=br.concat(pr,[2,hr.length],hr),nt.from(br)}function er(pr,hr,vr,br){if(pr=nt.from(pr.toArray()),pr.length<hr.byteLength()){var xr=nt.alloc(hr.byteLength()-pr.length);pr=nt.concat([xr,pr])}var Sr=vr.length,Er=or(vr,hr),$r=nt.alloc(Sr);$r.fill(1);var Cr=nt.alloc(Sr);return Cr=et(br,Cr).update($r).update(nt.from([0])).update(pr).update(Er).digest(),$r=et(br,Cr).update($r).digest(),Cr=et(br,Cr).update($r).update(nt.from([1])).update(pr).update(Er).digest(),$r=et(br,Cr).update($r).digest(),{k:Cr,v:$r}}function ir(pr,hr){var vr=new $t(pr),br=(pr.length<<3)-hr.bitLength();return br>0&&vr.ishrn(br),vr}function or(pr,hr){pr=ir(pr,hr),pr=pr.mod(hr);var vr=nt.from(pr.toArray());if(vr.length<hr.byteLength()){var br=nt.alloc(hr.byteLength()-vr.length);vr=nt.concat([br,vr])}return vr}function lr(pr,hr,vr){var br,xr;do{for(br=nt.alloc(0);br.length*8<pr.bitLength();)hr.v=et(vr,hr.k).update(hr.v).digest(),br=nt.concat([br,hr.v]);xr=ir(br,pr),hr.k=et(vr,hr.k).update(hr.v).update(nt.from([0])).digest(),hr.v=et(vr,hr.k).update(hr.v).digest()}while(xr.cmp(pr)!==-1);return xr}function dr(pr,hr,vr,br){return pr.toRed($t.mont(vr)).redPow(hr).fromRed().mod(br)}return sign$2.exports=Nt,sign$2.exports.getKey=er,sign$2.exports.makeKey=lr,sign$2.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var nt=requireSafeBuffer$3().Buffer,et=bnExports,at=requireElliptic().ec,mt=requireParseAsn1(),$t=require$$4;function Ct(jt,Lt,Vt,er,ir){var or=mt(Vt);if(or.type==="ec"){if(er!=="ecdsa"&&er!=="ecdsa/rsa")throw new Error("wrong public key type");return Dt(jt,Lt,or)}else if(or.type==="dsa"){if(er!=="dsa")throw new Error("wrong public key type");return Ft(jt,Lt,or)}if(er!=="rsa"&&er!=="ecdsa/rsa")throw new Error("wrong public key type");Lt=nt.concat([ir,Lt]);for(var lr=or.modulus.byteLength(),dr=[1],pr=0;Lt.length+dr.length+2<lr;)dr.push(255),pr+=1;dr.push(0);for(var hr=-1;++hr<Lt.length;)dr.push(Lt[hr]);dr=nt.from(dr);var vr=et.mont(or.modulus);jt=new et(jt).toRed(vr),jt=jt.redPow(new et(or.publicExponent)),jt=nt.from(jt.fromRed().toArray());var br=pr<8?1:0;for(lr=Math.min(jt.length,dr.length),jt.length!==dr.length&&(br=1),hr=-1;++hr<lr;)br|=jt[hr]^dr[hr];return br===0}function Dt(jt,Lt,Vt){var er=$t[Vt.data.algorithm.curve.join(".")];if(!er)throw new Error("unknown curve "+Vt.data.algorithm.curve.join("."));var ir=new at(er),or=Vt.data.subjectPrivateKey.data;return ir.verify(Lt,jt,or)}function Ft(jt,Lt,Vt){var er=Vt.data.p,ir=Vt.data.q,or=Vt.data.g,lr=Vt.data.pub_key,dr=mt.signature.decode(jt,"der"),pr=dr.s,hr=dr.r;Nt(pr,ir),Nt(hr,ir);var vr=et.mont(er),br=pr.invm(ir),xr=or.toRed(vr).redPow(new et(Lt).mul(br).mod(ir)).fromRed().mul(lr.toRed(vr).redPow(hr.mul(br).mod(ir)).fromRed()).mod(er).mod(ir);return xr.cmp(hr)===0}function Nt(jt,Lt){if(jt.cmpn(0)<=0)throw new Error("invalid sig");if(jt.cmp(Lt)>=0)throw new Error("invalid sig")}return verify_1=Ct,verify_1}var browser$6,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$6;hasRequiredBrowser$3=1;var nt=requireSafeBuffer$3().Buffer,et=requireBrowser$9(),at=requireReadableBrowser(),mt=requireInherits_browser(),$t=requireSign(),Ct=requireVerify(),Dt=require$$6;Object.keys(Dt).forEach(function(Vt){Dt[Vt].id=nt.from(Dt[Vt].id,"hex"),Dt[Vt.toLowerCase()]=Dt[Vt]});function Ft(Vt){at.Writable.call(this);var er=Dt[Vt];if(!er)throw new Error("Unknown message digest");this._hashType=er.hash,this._hash=et(er.hash),this._tag=er.id,this._signType=er.sign}mt(Ft,at.Writable),Ft.prototype._write=function(er,ir,or){this._hash.update(er),or()},Ft.prototype.update=function(er,ir){return this._hash.update(typeof er=="string"?nt.from(er,ir):er),this},Ft.prototype.sign=function(er,ir){this.end();var or=this._hash.digest(),lr=$t(or,er,this._hashType,this._signType,this._tag);return ir?lr.toString(ir):lr};function Nt(Vt){at.Writable.call(this);var er=Dt[Vt];if(!er)throw new Error("Unknown message digest");this._hash=et(er.hash),this._tag=er.id,this._signType=er.sign}mt(Nt,at.Writable),Nt.prototype._write=function(er,ir,or){this._hash.update(er),or()},Nt.prototype.update=function(er,ir){return this._hash.update(typeof er=="string"?nt.from(er,ir):er),this},Nt.prototype.verify=function(er,ir,or){var lr=typeof ir=="string"?nt.from(ir,or):ir;this.end();var dr=this._hash.digest();return Ct(lr,dr,er,this._signType,this._tag)};function jt(Vt){return new Ft(Vt)}function Lt(Vt){return new Nt(Vt)}return browser$6={Sign:jt,Verify:Lt,createSign:jt,createVerify:Lt},browser$6}var bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(nt){(function(et,at){function mt(gr,Ut){if(!gr)throw new Error(Ut||"Assertion failed")}function $t(gr,Ut){gr.super_=Ut;var tr=function(){};tr.prototype=Ut.prototype,gr.prototype=new tr,gr.prototype.constructor=gr}function Ct(gr,Ut,tr){if(Ct.isBN(gr))return gr;this.negative=0,this.words=null,this.length=0,this.red=null,gr!==null&&((Ut==="le"||Ut==="be")&&(tr=Ut,Ut=10),this._init(gr||0,Ut||10,tr||"be"))}typeof et=="object"?et.exports=Ct:at.BN=Ct,Ct.BN=Ct,Ct.wordSize=26;var Dt;try{typeof window<"u"&&typeof window.Buffer<"u"?Dt=window.Buffer:Dt=require$$2$1.Buffer}catch{}Ct.isBN=function(Ut){return Ut instanceof Ct?!0:Ut!==null&&typeof Ut=="object"&&Ut.constructor.wordSize===Ct.wordSize&&Array.isArray(Ut.words)},Ct.max=function(Ut,tr){return Ut.cmp(tr)>0?Ut:tr},Ct.min=function(Ut,tr){return Ut.cmp(tr)<0?Ut:tr},Ct.prototype._init=function(Ut,tr,nr){if(typeof Ut=="number")return this._initNumber(Ut,tr,nr);if(typeof Ut=="object")return this._initArray(Ut,tr,nr);tr==="hex"&&(tr=16),mt(tr===(tr|0)&&tr>=2&&tr<=36),Ut=Ut.toString().replace(/\s+/g,"");var rr=0;Ut[0]==="-"&&(rr++,this.negative=1),rr<Ut.length&&(tr===16?this._parseHex(Ut,rr,nr):(this._parseBase(Ut,tr,rr),nr==="le"&&this._initArray(this.toArray(),tr,nr)))},Ct.prototype._initNumber=function(Ut,tr,nr){Ut<0&&(this.negative=1,Ut=-Ut),Ut<67108864?(this.words=[Ut&67108863],this.length=1):Ut<4503599627370496?(this.words=[Ut&67108863,Ut/67108864&67108863],this.length=2):(mt(Ut<9007199254740992),this.words=[Ut&67108863,Ut/67108864&67108863,1],this.length=3),nr==="le"&&this._initArray(this.toArray(),tr,nr)},Ct.prototype._initArray=function(Ut,tr,nr){if(mt(typeof Ut.length=="number"),Ut.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ut.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar,cr,fr=0;if(nr==="be")for(rr=Ut.length-1,ar=0;rr>=0;rr-=3)cr=Ut[rr]|Ut[rr-1]<<8|Ut[rr-2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);else if(nr==="le")for(rr=0,ar=0;rr<Ut.length;rr+=3)cr=Ut[rr]|Ut[rr+1]<<8|Ut[rr+2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);return this.strip()};function Ft(gr,Ut){var tr=gr.charCodeAt(Ut);return tr>=65&&tr<=70?tr-55:tr>=97&&tr<=102?tr-87:tr-48&15}function Nt(gr,Ut,tr){var nr=Ft(gr,tr);return tr-1>=Ut&&(nr|=Ft(gr,tr-1)<<4),nr}Ct.prototype._parseHex=function(Ut,tr,nr){this.length=Math.ceil((Ut.length-tr)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar=0,cr=0,fr;if(nr==="be")for(rr=Ut.length-1;rr>=tr;rr-=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8;else{var sr=Ut.length-tr;for(rr=sr%2===0?tr+1:tr;rr<Ut.length;rr+=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8}this.strip()};function jt(gr,Ut,tr,nr){for(var rr=0,ar=Math.min(gr.length,tr),cr=Ut;cr<ar;cr++){var fr=gr.charCodeAt(cr)-48;rr*=nr,fr>=49?rr+=fr-49+10:fr>=17?rr+=fr-17+10:rr+=fr}return rr}Ct.prototype._parseBase=function(Ut,tr,nr){this.words=[0],this.length=1;for(var rr=0,ar=1;ar<=67108863;ar*=tr)rr++;rr--,ar=ar/tr|0;for(var cr=Ut.length-nr,fr=cr%rr,sr=Math.min(cr,cr-fr)+nr,Yt=0,ur=nr;ur<sr;ur+=rr)Yt=jt(Ut,ur,ur+rr,tr),this.imuln(ar),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt);if(fr!==0){var _r=1;for(Yt=jt(Ut,ur,Ut.length,tr),ur=0;ur<fr;ur++)_r*=tr;this.imuln(_r),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt)}this.strip()},Ct.prototype.copy=function(Ut){Ut.words=new Array(this.length);for(var tr=0;tr<this.length;tr++)Ut.words[tr]=this.words[tr];Ut.length=this.length,Ut.negative=this.negative,Ut.red=this.red},Ct.prototype.clone=function(){var Ut=new Ct(null);return this.copy(Ut),Ut},Ct.prototype._expand=function(Ut){for(;this.length<Ut;)this.words[this.length++]=0;return this},Ct.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ct.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],er=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ct.prototype.toString=function(Ut,tr){Ut=Ut||10,tr=tr|0||1;var nr;if(Ut===16||Ut==="hex"){nr="";for(var rr=0,ar=0,cr=0;cr<this.length;cr++){var fr=this.words[cr],sr=((fr<<rr|ar)&16777215).toString(16);ar=fr>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,cr--),ar!==0||cr!==this.length-1?nr=Lt[6-sr.length]+sr+nr:nr=sr+nr}for(ar!==0&&(nr=ar.toString(16)+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}if(Ut===(Ut|0)&&Ut>=2&&Ut<=36){var Yt=Vt[Ut],ur=er[Ut];nr="";var _r=this.clone();for(_r.negative=0;!_r.isZero();){var yr=_r.modn(ur).toString(Ut);_r=_r.idivn(ur),_r.isZero()?nr=yr+nr:nr=Lt[Yt-yr.length]+yr+nr}for(this.isZero()&&(nr="0"+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}mt(!1,"Base should be between 2 and 36")},Ct.prototype.toNumber=function(){var Ut=this.words[0];return this.length===2?Ut+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ut+=4503599627370496+this.words[1]*67108864:this.length>2&&mt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ut:Ut},Ct.prototype.toJSON=function(){return this.toString(16)},Ct.prototype.toBuffer=function(Ut,tr){return mt(typeof Dt<"u"),this.toArrayLike(Dt,Ut,tr)},Ct.prototype.toArray=function(Ut,tr){return this.toArrayLike(Array,Ut,tr)},Ct.prototype.toArrayLike=function(Ut,tr,nr){var rr=this.byteLength(),ar=nr||Math.max(1,rr);mt(rr<=ar,"byte array longer than desired length"),mt(ar>0,"Requested array length <= 0"),this.strip();var cr=tr==="le",fr=new Ut(ar),sr,Yt,ur=this.clone();if(cr){for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[Yt]=sr;for(;Yt<ar;Yt++)fr[Yt]=0}else{for(Yt=0;Yt<ar-rr;Yt++)fr[Yt]=0;for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[ar-Yt-1]=sr}return fr},Math.clz32?Ct.prototype._countBits=function(Ut){return 32-Math.clz32(Ut)}:Ct.prototype._countBits=function(Ut){var tr=Ut,nr=0;return tr>=4096&&(nr+=13,tr>>>=13),tr>=64&&(nr+=7,tr>>>=7),tr>=8&&(nr+=4,tr>>>=4),tr>=2&&(nr+=2,tr>>>=2),nr+tr},Ct.prototype._zeroBits=function(Ut){if(Ut===0)return 26;var tr=Ut,nr=0;return tr&8191||(nr+=13,tr>>>=13),tr&127||(nr+=7,tr>>>=7),tr&15||(nr+=4,tr>>>=4),tr&3||(nr+=2,tr>>>=2),tr&1||nr++,nr},Ct.prototype.bitLength=function(){var Ut=this.words[this.length-1],tr=this._countBits(Ut);return(this.length-1)*26+tr};function ir(gr){for(var Ut=new Array(gr.bitLength()),tr=0;tr<Ut.length;tr++){var nr=tr/26|0,rr=tr%26;Ut[tr]=(gr.words[nr]&1<<rr)>>>rr}return Ut}Ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ut=0,tr=0;tr<this.length;tr++){var nr=this._zeroBits(this.words[tr]);if(Ut+=nr,nr!==26)break}return Ut},Ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ct.prototype.toTwos=function(Ut){return this.negative!==0?this.abs().inotn(Ut).iaddn(1):this.clone()},Ct.prototype.fromTwos=function(Ut){return this.testn(Ut-1)?this.notn(Ut).iaddn(1).ineg():this.clone()},Ct.prototype.isNeg=function(){return this.negative!==0},Ct.prototype.neg=function(){return this.clone().ineg()},Ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ct.prototype.iuor=function(Ut){for(;this.length<Ut.length;)this.words[this.length++]=0;for(var tr=0;tr<Ut.length;tr++)this.words[tr]=this.words[tr]|Ut.words[tr];return this.strip()},Ct.prototype.ior=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuor(Ut)},Ct.prototype.or=function(Ut){return this.length>Ut.length?this.clone().ior(Ut):Ut.clone().ior(this)},Ct.prototype.uor=function(Ut){return this.length>Ut.length?this.clone().iuor(Ut):Ut.clone().iuor(this)},Ct.prototype.iuand=function(Ut){var tr;this.length>Ut.length?tr=Ut:tr=this;for(var nr=0;nr<tr.length;nr++)this.words[nr]=this.words[nr]&Ut.words[nr];return this.length=tr.length,this.strip()},Ct.prototype.iand=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuand(Ut)},Ct.prototype.and=function(Ut){return this.length>Ut.length?this.clone().iand(Ut):Ut.clone().iand(this)},Ct.prototype.uand=function(Ut){return this.length>Ut.length?this.clone().iuand(Ut):Ut.clone().iuand(this)},Ct.prototype.iuxor=function(Ut){var tr,nr;this.length>Ut.length?(tr=this,nr=Ut):(tr=Ut,nr=this);for(var rr=0;rr<nr.length;rr++)this.words[rr]=tr.words[rr]^nr.words[rr];if(this!==tr)for(;rr<tr.length;rr++)this.words[rr]=tr.words[rr];return this.length=tr.length,this.strip()},Ct.prototype.ixor=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuxor(Ut)},Ct.prototype.xor=function(Ut){return this.length>Ut.length?this.clone().ixor(Ut):Ut.clone().ixor(this)},Ct.prototype.uxor=function(Ut){return this.length>Ut.length?this.clone().iuxor(Ut):Ut.clone().iuxor(this)},Ct.prototype.inotn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Math.ceil(Ut/26)|0,nr=Ut%26;this._expand(tr),nr>0&&tr--;for(var rr=0;rr<tr;rr++)this.words[rr]=~this.words[rr]&67108863;return nr>0&&(this.words[rr]=~this.words[rr]&67108863>>26-nr),this.strip()},Ct.prototype.notn=function(Ut){return this.clone().inotn(Ut)},Ct.prototype.setn=function(Ut,tr){mt(typeof Ut=="number"&&Ut>=0);var nr=Ut/26|0,rr=Ut%26;return this._expand(nr+1),tr?this.words[nr]=this.words[nr]|1<<rr:this.words[nr]=this.words[nr]&~(1<<rr),this.strip()},Ct.prototype.iadd=function(Ut){var tr;if(this.negative!==0&&Ut.negative===0)return this.negative=0,tr=this.isub(Ut),this.negative^=1,this._normSign();if(this.negative===0&&Ut.negative!==0)return Ut.negative=0,tr=this.isub(Ut),Ut.negative=1,tr._normSign();var nr,rr;this.length>Ut.length?(nr=this,rr=Ut):(nr=Ut,rr=this);for(var ar=0,cr=0;cr<rr.length;cr++)tr=(nr.words[cr]|0)+(rr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;for(;ar!==0&&cr<nr.length;cr++)tr=(nr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;if(this.length=nr.length,ar!==0)this.words[this.length]=ar,this.length++;else if(nr!==this)for(;cr<nr.length;cr++)this.words[cr]=nr.words[cr];return this},Ct.prototype.add=function(Ut){var tr;return Ut.negative!==0&&this.negative===0?(Ut.negative=0,tr=this.sub(Ut),Ut.negative^=1,tr):Ut.negative===0&&this.negative!==0?(this.negative=0,tr=Ut.sub(this),this.negative=1,tr):this.length>Ut.length?this.clone().iadd(Ut):Ut.clone().iadd(this)},Ct.prototype.isub=function(Ut){if(Ut.negative!==0){Ut.negative=0;var tr=this.iadd(Ut);return Ut.negative=1,tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ut),this.negative=1,this._normSign();var nr=this.cmp(Ut);if(nr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,ar;nr>0?(rr=this,ar=Ut):(rr=Ut,ar=this);for(var cr=0,fr=0;fr<ar.length;fr++)tr=(rr.words[fr]|0)-(ar.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;for(;cr!==0&&fr<rr.length;fr++)tr=(rr.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;if(cr===0&&fr<rr.length&&rr!==this)for(;fr<rr.length;fr++)this.words[fr]=rr.words[fr];return this.length=Math.max(this.length,fr),rr!==this&&(this.negative=1),this.strip()},Ct.prototype.sub=function(Ut){return this.clone().isub(Ut)};function or(gr,Ut,tr){tr.negative=Ut.negative^gr.negative;var nr=gr.length+Ut.length|0;tr.length=nr,nr=nr-1|0;var rr=gr.words[0]|0,ar=Ut.words[0]|0,cr=rr*ar,fr=cr&67108863,sr=cr/67108864|0;tr.words[0]=fr;for(var Yt=1;Yt<nr;Yt++){for(var ur=sr>>>26,_r=sr&67108863,yr=Math.min(Yt,Ut.length-1),wr=Math.max(0,Yt-gr.length+1);wr<=yr;wr++){var Ir=Yt-wr|0;rr=gr.words[Ir]|0,ar=Ut.words[wr]|0,cr=rr*ar+_r,ur+=cr/67108864|0,_r=cr&67108863}tr.words[Yt]=_r|0,sr=ur|0}return sr!==0?tr.words[Yt]=sr|0:tr.length--,tr.strip()}var lr=function(Ut,tr,nr){var rr=Ut.words,ar=tr.words,cr=nr.words,fr=0,sr,Yt,ur,_r=rr[0]|0,yr=_r&8191,wr=_r>>>13,Ir=rr[1]|0,Or=Ir&8191,Ar=Ir>>>13,Nr=rr[2]|0,Hr=Nr&8191,Pr=Nr>>>13,Dr=rr[3]|0,Rr=Dr&8191,Vr=Dr>>>13,an=rr[4]|0,Xr=an&8191,Jr=an>>>13,Zr=rr[5]|0,Gr=Zr&8191,zr=Zr>>>13,Dn=rr[6]|0,Qr=Dn&8191,Un=Dn>>>13,ro=rr[7]|0,Hn=ro&8191,Qn=ro>>>13,$o=rr[8]|0,Kn=$o&8191,_i=$o>>>13,Lo=rr[9]|0,jr=Lo&8191,Tr=Lo>>>13,Fr=ar[0]|0,Wr=Fr&8191,sn=Fr>>>13,Jn=ar[1]|0,Nn=Jn&8191,Zn=Jn>>>13,Io=ar[2]|0,ga=Io&8191,ba=Io>>>13,Bo=ar[3]|0,io=Bo&8191,so=Bo>>>13,zo=ar[4]|0,eo=zo&8191,oo=zo>>>13,Ho=ar[5]|0,no=Ho&8191,ao=Ho>>>13,Gn=ar[6]|0,dn=Gn&8191,Ln=Gn>>>13,Br=ar[7]|0,Lr=Br&8191,qr=Br>>>13,Mr=ar[8]|0,Ur=Mr&8191,rn=Mr>>>13,zn=ar[9]|0,pn=zn&8191,Vn=zn>>>13;nr.negative=Ut.negative^tr.negative,nr.length=19,sr=Math.imul(yr,Wr),Yt=Math.imul(yr,sn),Yt=Yt+Math.imul(wr,Wr)|0,ur=Math.imul(wr,sn);var co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(co>>>26)|0,co&=67108863,sr=Math.imul(Or,Wr),Yt=Math.imul(Or,sn),Yt=Yt+Math.imul(Ar,Wr)|0,ur=Math.imul(Ar,sn),sr=sr+Math.imul(yr,Nn)|0,Yt=Yt+Math.imul(yr,Zn)|0,Yt=Yt+Math.imul(wr,Nn)|0,ur=ur+Math.imul(wr,Zn)|0;var uo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(uo>>>26)|0,uo&=67108863,sr=Math.imul(Hr,Wr),Yt=Math.imul(Hr,sn),Yt=Yt+Math.imul(Pr,Wr)|0,ur=Math.imul(Pr,sn),sr=sr+Math.imul(Or,Nn)|0,Yt=Yt+Math.imul(Or,Zn)|0,Yt=Yt+Math.imul(Ar,Nn)|0,ur=ur+Math.imul(Ar,Zn)|0,sr=sr+Math.imul(yr,ga)|0,Yt=Yt+Math.imul(yr,ba)|0,Yt=Yt+Math.imul(wr,ga)|0,ur=ur+Math.imul(wr,ba)|0;var Eo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,sr=Math.imul(Rr,Wr),Yt=Math.imul(Rr,sn),Yt=Yt+Math.imul(Vr,Wr)|0,ur=Math.imul(Vr,sn),sr=sr+Math.imul(Hr,Nn)|0,Yt=Yt+Math.imul(Hr,Zn)|0,Yt=Yt+Math.imul(Pr,Nn)|0,ur=ur+Math.imul(Pr,Zn)|0,sr=sr+Math.imul(Or,ga)|0,Yt=Yt+Math.imul(Or,ba)|0,Yt=Yt+Math.imul(Ar,ga)|0,ur=ur+Math.imul(Ar,ba)|0,sr=sr+Math.imul(yr,io)|0,Yt=Yt+Math.imul(yr,so)|0,Yt=Yt+Math.imul(wr,io)|0,ur=ur+Math.imul(wr,so)|0;var ho=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ho>>>26)|0,ho&=67108863,sr=Math.imul(Xr,Wr),Yt=Math.imul(Xr,sn),Yt=Yt+Math.imul(Jr,Wr)|0,ur=Math.imul(Jr,sn),sr=sr+Math.imul(Rr,Nn)|0,Yt=Yt+Math.imul(Rr,Zn)|0,Yt=Yt+Math.imul(Vr,Nn)|0,ur=ur+Math.imul(Vr,Zn)|0,sr=sr+Math.imul(Hr,ga)|0,Yt=Yt+Math.imul(Hr,ba)|0,Yt=Yt+Math.imul(Pr,ga)|0,ur=ur+Math.imul(Pr,ba)|0,sr=sr+Math.imul(Or,io)|0,Yt=Yt+Math.imul(Or,so)|0,Yt=Yt+Math.imul(Ar,io)|0,ur=ur+Math.imul(Ar,so)|0,sr=sr+Math.imul(yr,eo)|0,Yt=Yt+Math.imul(yr,oo)|0,Yt=Yt+Math.imul(wr,eo)|0,ur=ur+Math.imul(wr,oo)|0;var Co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Co>>>26)|0,Co&=67108863,sr=Math.imul(Gr,Wr),Yt=Math.imul(Gr,sn),Yt=Yt+Math.imul(zr,Wr)|0,ur=Math.imul(zr,sn),sr=sr+Math.imul(Xr,Nn)|0,Yt=Yt+Math.imul(Xr,Zn)|0,Yt=Yt+Math.imul(Jr,Nn)|0,ur=ur+Math.imul(Jr,Zn)|0,sr=sr+Math.imul(Rr,ga)|0,Yt=Yt+Math.imul(Rr,ba)|0,Yt=Yt+Math.imul(Vr,ga)|0,ur=ur+Math.imul(Vr,ba)|0,sr=sr+Math.imul(Hr,io)|0,Yt=Yt+Math.imul(Hr,so)|0,Yt=Yt+Math.imul(Pr,io)|0,ur=ur+Math.imul(Pr,so)|0,sr=sr+Math.imul(Or,eo)|0,Yt=Yt+Math.imul(Or,oo)|0,Yt=Yt+Math.imul(Ar,eo)|0,ur=ur+Math.imul(Ar,oo)|0,sr=sr+Math.imul(yr,no)|0,Yt=Yt+Math.imul(yr,ao)|0,Yt=Yt+Math.imul(wr,no)|0,ur=ur+Math.imul(wr,ao)|0;var Po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Po>>>26)|0,Po&=67108863,sr=Math.imul(Qr,Wr),Yt=Math.imul(Qr,sn),Yt=Yt+Math.imul(Un,Wr)|0,ur=Math.imul(Un,sn),sr=sr+Math.imul(Gr,Nn)|0,Yt=Yt+Math.imul(Gr,Zn)|0,Yt=Yt+Math.imul(zr,Nn)|0,ur=ur+Math.imul(zr,Zn)|0,sr=sr+Math.imul(Xr,ga)|0,Yt=Yt+Math.imul(Xr,ba)|0,Yt=Yt+Math.imul(Jr,ga)|0,ur=ur+Math.imul(Jr,ba)|0,sr=sr+Math.imul(Rr,io)|0,Yt=Yt+Math.imul(Rr,so)|0,Yt=Yt+Math.imul(Vr,io)|0,ur=ur+Math.imul(Vr,so)|0,sr=sr+Math.imul(Hr,eo)|0,Yt=Yt+Math.imul(Hr,oo)|0,Yt=Yt+Math.imul(Pr,eo)|0,ur=ur+Math.imul(Pr,oo)|0,sr=sr+Math.imul(Or,no)|0,Yt=Yt+Math.imul(Or,ao)|0,Yt=Yt+Math.imul(Ar,no)|0,ur=ur+Math.imul(Ar,ao)|0,sr=sr+Math.imul(yr,dn)|0,Yt=Yt+Math.imul(yr,Ln)|0,Yt=Yt+Math.imul(wr,dn)|0,ur=ur+Math.imul(wr,Ln)|0;var Fo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,sr=Math.imul(Hn,Wr),Yt=Math.imul(Hn,sn),Yt=Yt+Math.imul(Qn,Wr)|0,ur=Math.imul(Qn,sn),sr=sr+Math.imul(Qr,Nn)|0,Yt=Yt+Math.imul(Qr,Zn)|0,Yt=Yt+Math.imul(Un,Nn)|0,ur=ur+Math.imul(Un,Zn)|0,sr=sr+Math.imul(Gr,ga)|0,Yt=Yt+Math.imul(Gr,ba)|0,Yt=Yt+Math.imul(zr,ga)|0,ur=ur+Math.imul(zr,ba)|0,sr=sr+Math.imul(Xr,io)|0,Yt=Yt+Math.imul(Xr,so)|0,Yt=Yt+Math.imul(Jr,io)|0,ur=ur+Math.imul(Jr,so)|0,sr=sr+Math.imul(Rr,eo)|0,Yt=Yt+Math.imul(Rr,oo)|0,Yt=Yt+Math.imul(Vr,eo)|0,ur=ur+Math.imul(Vr,oo)|0,sr=sr+Math.imul(Hr,no)|0,Yt=Yt+Math.imul(Hr,ao)|0,Yt=Yt+Math.imul(Pr,no)|0,ur=ur+Math.imul(Pr,ao)|0,sr=sr+Math.imul(Or,dn)|0,Yt=Yt+Math.imul(Or,Ln)|0,Yt=Yt+Math.imul(Ar,dn)|0,ur=ur+Math.imul(Ar,Ln)|0,sr=sr+Math.imul(yr,Lr)|0,Yt=Yt+Math.imul(yr,qr)|0,Yt=Yt+Math.imul(wr,Lr)|0,ur=ur+Math.imul(wr,qr)|0;var Do=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Do>>>26)|0,Do&=67108863,sr=Math.imul(Kn,Wr),Yt=Math.imul(Kn,sn),Yt=Yt+Math.imul(_i,Wr)|0,ur=Math.imul(_i,sn),sr=sr+Math.imul(Hn,Nn)|0,Yt=Yt+Math.imul(Hn,Zn)|0,Yt=Yt+Math.imul(Qn,Nn)|0,ur=ur+Math.imul(Qn,Zn)|0,sr=sr+Math.imul(Qr,ga)|0,Yt=Yt+Math.imul(Qr,ba)|0,Yt=Yt+Math.imul(Un,ga)|0,ur=ur+Math.imul(Un,ba)|0,sr=sr+Math.imul(Gr,io)|0,Yt=Yt+Math.imul(Gr,so)|0,Yt=Yt+Math.imul(zr,io)|0,ur=ur+Math.imul(zr,so)|0,sr=sr+Math.imul(Xr,eo)|0,Yt=Yt+Math.imul(Xr,oo)|0,Yt=Yt+Math.imul(Jr,eo)|0,ur=ur+Math.imul(Jr,oo)|0,sr=sr+Math.imul(Rr,no)|0,Yt=Yt+Math.imul(Rr,ao)|0,Yt=Yt+Math.imul(Vr,no)|0,ur=ur+Math.imul(Vr,ao)|0,sr=sr+Math.imul(Hr,dn)|0,Yt=Yt+Math.imul(Hr,Ln)|0,Yt=Yt+Math.imul(Pr,dn)|0,ur=ur+Math.imul(Pr,Ln)|0,sr=sr+Math.imul(Or,Lr)|0,Yt=Yt+Math.imul(Or,qr)|0,Yt=Yt+Math.imul(Ar,Lr)|0,ur=ur+Math.imul(Ar,qr)|0,sr=sr+Math.imul(yr,Ur)|0,Yt=Yt+Math.imul(yr,rn)|0,Yt=Yt+Math.imul(wr,Ur)|0,ur=ur+Math.imul(wr,rn)|0;var ko=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ko>>>26)|0,ko&=67108863,sr=Math.imul(jr,Wr),Yt=Math.imul(jr,sn),Yt=Yt+Math.imul(Tr,Wr)|0,ur=Math.imul(Tr,sn),sr=sr+Math.imul(Kn,Nn)|0,Yt=Yt+Math.imul(Kn,Zn)|0,Yt=Yt+Math.imul(_i,Nn)|0,ur=ur+Math.imul(_i,Zn)|0,sr=sr+Math.imul(Hn,ga)|0,Yt=Yt+Math.imul(Hn,ba)|0,Yt=Yt+Math.imul(Qn,ga)|0,ur=ur+Math.imul(Qn,ba)|0,sr=sr+Math.imul(Qr,io)|0,Yt=Yt+Math.imul(Qr,so)|0,Yt=Yt+Math.imul(Un,io)|0,ur=ur+Math.imul(Un,so)|0,sr=sr+Math.imul(Gr,eo)|0,Yt=Yt+Math.imul(Gr,oo)|0,Yt=Yt+Math.imul(zr,eo)|0,ur=ur+Math.imul(zr,oo)|0,sr=sr+Math.imul(Xr,no)|0,Yt=Yt+Math.imul(Xr,ao)|0,Yt=Yt+Math.imul(Jr,no)|0,ur=ur+Math.imul(Jr,ao)|0,sr=sr+Math.imul(Rr,dn)|0,Yt=Yt+Math.imul(Rr,Ln)|0,Yt=Yt+Math.imul(Vr,dn)|0,ur=ur+Math.imul(Vr,Ln)|0,sr=sr+Math.imul(Hr,Lr)|0,Yt=Yt+Math.imul(Hr,qr)|0,Yt=Yt+Math.imul(Pr,Lr)|0,ur=ur+Math.imul(Pr,qr)|0,sr=sr+Math.imul(Or,Ur)|0,Yt=Yt+Math.imul(Or,rn)|0,Yt=Yt+Math.imul(Ar,Ur)|0,ur=ur+Math.imul(Ar,rn)|0,sr=sr+Math.imul(yr,pn)|0,Yt=Yt+Math.imul(yr,Vn)|0,Yt=Yt+Math.imul(wr,pn)|0,ur=ur+Math.imul(wr,Vn)|0;var Mo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,sr=Math.imul(jr,Nn),Yt=Math.imul(jr,Zn),Yt=Yt+Math.imul(Tr,Nn)|0,ur=Math.imul(Tr,Zn),sr=sr+Math.imul(Kn,ga)|0,Yt=Yt+Math.imul(Kn,ba)|0,Yt=Yt+Math.imul(_i,ga)|0,ur=ur+Math.imul(_i,ba)|0,sr=sr+Math.imul(Hn,io)|0,Yt=Yt+Math.imul(Hn,so)|0,Yt=Yt+Math.imul(Qn,io)|0,ur=ur+Math.imul(Qn,so)|0,sr=sr+Math.imul(Qr,eo)|0,Yt=Yt+Math.imul(Qr,oo)|0,Yt=Yt+Math.imul(Un,eo)|0,ur=ur+Math.imul(Un,oo)|0,sr=sr+Math.imul(Gr,no)|0,Yt=Yt+Math.imul(Gr,ao)|0,Yt=Yt+Math.imul(zr,no)|0,ur=ur+Math.imul(zr,ao)|0,sr=sr+Math.imul(Xr,dn)|0,Yt=Yt+Math.imul(Xr,Ln)|0,Yt=Yt+Math.imul(Jr,dn)|0,ur=ur+Math.imul(Jr,Ln)|0,sr=sr+Math.imul(Rr,Lr)|0,Yt=Yt+Math.imul(Rr,qr)|0,Yt=Yt+Math.imul(Vr,Lr)|0,ur=ur+Math.imul(Vr,qr)|0,sr=sr+Math.imul(Hr,Ur)|0,Yt=Yt+Math.imul(Hr,rn)|0,Yt=Yt+Math.imul(Pr,Ur)|0,ur=ur+Math.imul(Pr,rn)|0,sr=sr+Math.imul(Or,pn)|0,Yt=Yt+Math.imul(Or,Vn)|0,Yt=Yt+Math.imul(Ar,pn)|0,ur=ur+Math.imul(Ar,Vn)|0;var Oo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,sr=Math.imul(jr,ga),Yt=Math.imul(jr,ba),Yt=Yt+Math.imul(Tr,ga)|0,ur=Math.imul(Tr,ba),sr=sr+Math.imul(Kn,io)|0,Yt=Yt+Math.imul(Kn,so)|0,Yt=Yt+Math.imul(_i,io)|0,ur=ur+Math.imul(_i,so)|0,sr=sr+Math.imul(Hn,eo)|0,Yt=Yt+Math.imul(Hn,oo)|0,Yt=Yt+Math.imul(Qn,eo)|0,ur=ur+Math.imul(Qn,oo)|0,sr=sr+Math.imul(Qr,no)|0,Yt=Yt+Math.imul(Qr,ao)|0,Yt=Yt+Math.imul(Un,no)|0,ur=ur+Math.imul(Un,ao)|0,sr=sr+Math.imul(Gr,dn)|0,Yt=Yt+Math.imul(Gr,Ln)|0,Yt=Yt+Math.imul(zr,dn)|0,ur=ur+Math.imul(zr,Ln)|0,sr=sr+Math.imul(Xr,Lr)|0,Yt=Yt+Math.imul(Xr,qr)|0,Yt=Yt+Math.imul(Jr,Lr)|0,ur=ur+Math.imul(Jr,qr)|0,sr=sr+Math.imul(Rr,Ur)|0,Yt=Yt+Math.imul(Rr,rn)|0,Yt=Yt+Math.imul(Vr,Ur)|0,ur=ur+Math.imul(Vr,rn)|0,sr=sr+Math.imul(Hr,pn)|0,Yt=Yt+Math.imul(Hr,Vn)|0,Yt=Yt+Math.imul(Pr,pn)|0,ur=ur+Math.imul(Pr,Vn)|0;var xo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(xo>>>26)|0,xo&=67108863,sr=Math.imul(jr,io),Yt=Math.imul(jr,so),Yt=Yt+Math.imul(Tr,io)|0,ur=Math.imul(Tr,so),sr=sr+Math.imul(Kn,eo)|0,Yt=Yt+Math.imul(Kn,oo)|0,Yt=Yt+Math.imul(_i,eo)|0,ur=ur+Math.imul(_i,oo)|0,sr=sr+Math.imul(Hn,no)|0,Yt=Yt+Math.imul(Hn,ao)|0,Yt=Yt+Math.imul(Qn,no)|0,ur=ur+Math.imul(Qn,ao)|0,sr=sr+Math.imul(Qr,dn)|0,Yt=Yt+Math.imul(Qr,Ln)|0,Yt=Yt+Math.imul(Un,dn)|0,ur=ur+Math.imul(Un,Ln)|0,sr=sr+Math.imul(Gr,Lr)|0,Yt=Yt+Math.imul(Gr,qr)|0,Yt=Yt+Math.imul(zr,Lr)|0,ur=ur+Math.imul(zr,qr)|0,sr=sr+Math.imul(Xr,Ur)|0,Yt=Yt+Math.imul(Xr,rn)|0,Yt=Yt+Math.imul(Jr,Ur)|0,ur=ur+Math.imul(Jr,rn)|0,sr=sr+Math.imul(Rr,pn)|0,Yt=Yt+Math.imul(Rr,Vn)|0,Yt=Yt+Math.imul(Vr,pn)|0,ur=ur+Math.imul(Vr,Vn)|0;var Ro=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,sr=Math.imul(jr,eo),Yt=Math.imul(jr,oo),Yt=Yt+Math.imul(Tr,eo)|0,ur=Math.imul(Tr,oo),sr=sr+Math.imul(Kn,no)|0,Yt=Yt+Math.imul(Kn,ao)|0,Yt=Yt+Math.imul(_i,no)|0,ur=ur+Math.imul(_i,ao)|0,sr=sr+Math.imul(Hn,dn)|0,Yt=Yt+Math.imul(Hn,Ln)|0,Yt=Yt+Math.imul(Qn,dn)|0,ur=ur+Math.imul(Qn,Ln)|0,sr=sr+Math.imul(Qr,Lr)|0,Yt=Yt+Math.imul(Qr,qr)|0,Yt=Yt+Math.imul(Un,Lr)|0,ur=ur+Math.imul(Un,qr)|0,sr=sr+Math.imul(Gr,Ur)|0,Yt=Yt+Math.imul(Gr,rn)|0,Yt=Yt+Math.imul(zr,Ur)|0,ur=ur+Math.imul(zr,rn)|0,sr=sr+Math.imul(Xr,pn)|0,Yt=Yt+Math.imul(Xr,Vn)|0,Yt=Yt+Math.imul(Jr,pn)|0,ur=ur+Math.imul(Jr,Vn)|0;var So=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(So>>>26)|0,So&=67108863,sr=Math.imul(jr,no),Yt=Math.imul(jr,ao),Yt=Yt+Math.imul(Tr,no)|0,ur=Math.imul(Tr,ao),sr=sr+Math.imul(Kn,dn)|0,Yt=Yt+Math.imul(Kn,Ln)|0,Yt=Yt+Math.imul(_i,dn)|0,ur=ur+Math.imul(_i,Ln)|0,sr=sr+Math.imul(Hn,Lr)|0,Yt=Yt+Math.imul(Hn,qr)|0,Yt=Yt+Math.imul(Qn,Lr)|0,ur=ur+Math.imul(Qn,qr)|0,sr=sr+Math.imul(Qr,Ur)|0,Yt=Yt+Math.imul(Qr,rn)|0,Yt=Yt+Math.imul(Un,Ur)|0,ur=ur+Math.imul(Un,rn)|0,sr=sr+Math.imul(Gr,pn)|0,Yt=Yt+Math.imul(Gr,Vn)|0,Yt=Yt+Math.imul(zr,pn)|0,ur=ur+Math.imul(zr,Vn)|0;var po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(po>>>26)|0,po&=67108863,sr=Math.imul(jr,dn),Yt=Math.imul(jr,Ln),Yt=Yt+Math.imul(Tr,dn)|0,ur=Math.imul(Tr,Ln),sr=sr+Math.imul(Kn,Lr)|0,Yt=Yt+Math.imul(Kn,qr)|0,Yt=Yt+Math.imul(_i,Lr)|0,ur=ur+Math.imul(_i,qr)|0,sr=sr+Math.imul(Hn,Ur)|0,Yt=Yt+Math.imul(Hn,rn)|0,Yt=Yt+Math.imul(Qn,Ur)|0,ur=ur+Math.imul(Qn,rn)|0,sr=sr+Math.imul(Qr,pn)|0,Yt=Yt+Math.imul(Qr,Vn)|0,Yt=Yt+Math.imul(Un,pn)|0,ur=ur+Math.imul(Un,Vn)|0;var vo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(vo>>>26)|0,vo&=67108863,sr=Math.imul(jr,Lr),Yt=Math.imul(jr,qr),Yt=Yt+Math.imul(Tr,Lr)|0,ur=Math.imul(Tr,qr),sr=sr+Math.imul(Kn,Ur)|0,Yt=Yt+Math.imul(Kn,rn)|0,Yt=Yt+Math.imul(_i,Ur)|0,ur=ur+Math.imul(_i,rn)|0,sr=sr+Math.imul(Hn,pn)|0,Yt=Yt+Math.imul(Hn,Vn)|0,Yt=Yt+Math.imul(Qn,pn)|0,ur=ur+Math.imul(Qn,Vn)|0;var wo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(wo>>>26)|0,wo&=67108863,sr=Math.imul(jr,Ur),Yt=Math.imul(jr,rn),Yt=Yt+Math.imul(Tr,Ur)|0,ur=Math.imul(Tr,rn),sr=sr+Math.imul(Kn,pn)|0,Yt=Yt+Math.imul(Kn,Vn)|0,Yt=Yt+Math.imul(_i,pn)|0,ur=ur+Math.imul(_i,Vn)|0;var to=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(to>>>26)|0,to&=67108863,sr=Math.imul(jr,pn),Yt=Math.imul(jr,Vn),Yt=Yt+Math.imul(Tr,pn)|0,ur=Math.imul(Tr,Vn);var _a=(fr+sr|0)+((Yt&8191)<<13)|0;return fr=(ur+(Yt>>>13)|0)+(_a>>>26)|0,_a&=67108863,cr[0]=co,cr[1]=uo,cr[2]=Eo,cr[3]=ho,cr[4]=Co,cr[5]=Po,cr[6]=Fo,cr[7]=Do,cr[8]=ko,cr[9]=Mo,cr[10]=Oo,cr[11]=xo,cr[12]=Ro,cr[13]=So,cr[14]=po,cr[15]=vo,cr[16]=wo,cr[17]=to,cr[18]=_a,fr!==0&&(cr[19]=fr,nr.length++),nr};Math.imul||(lr=or);function dr(gr,Ut,tr){tr.negative=Ut.negative^gr.negative,tr.length=gr.length+Ut.length;for(var nr=0,rr=0,ar=0;ar<tr.length-1;ar++){var cr=rr;rr=0;for(var fr=nr&67108863,sr=Math.min(ar,Ut.length-1),Yt=Math.max(0,ar-gr.length+1);Yt<=sr;Yt++){var ur=ar-Yt,_r=gr.words[ur]|0,yr=Ut.words[Yt]|0,wr=_r*yr,Ir=wr&67108863;cr=cr+(wr/67108864|0)|0,Ir=Ir+fr|0,fr=Ir&67108863,cr=cr+(Ir>>>26)|0,rr+=cr>>>26,cr&=67108863}tr.words[ar]=fr,nr=cr,cr=rr}return nr!==0?tr.words[ar]=nr:tr.length--,tr.strip()}function pr(gr,Ut,tr){var nr=new hr;return nr.mulp(gr,Ut,tr)}Ct.prototype.mulTo=function(Ut,tr){var nr,rr=this.length+Ut.length;return this.length===10&&Ut.length===10?nr=lr(this,Ut,tr):rr<63?nr=or(this,Ut,tr):rr<1024?nr=dr(this,Ut,tr):nr=pr(this,Ut,tr),nr};function hr(gr,Ut){this.x=gr,this.y=Ut}hr.prototype.makeRBT=function(Ut){for(var tr=new Array(Ut),nr=Ct.prototype._countBits(Ut)-1,rr=0;rr<Ut;rr++)tr[rr]=this.revBin(rr,nr,Ut);return tr},hr.prototype.revBin=function(Ut,tr,nr){if(Ut===0||Ut===nr-1)return Ut;for(var rr=0,ar=0;ar<tr;ar++)rr|=(Ut&1)<<tr-ar-1,Ut>>=1;return rr},hr.prototype.permute=function(Ut,tr,nr,rr,ar,cr){for(var fr=0;fr<cr;fr++)rr[fr]=tr[Ut[fr]],ar[fr]=nr[Ut[fr]]},hr.prototype.transform=function(Ut,tr,nr,rr,ar,cr){this.permute(cr,Ut,tr,nr,rr,ar);for(var fr=1;fr<ar;fr<<=1)for(var sr=fr<<1,Yt=Math.cos(2*Math.PI/sr),ur=Math.sin(2*Math.PI/sr),_r=0;_r<ar;_r+=sr)for(var yr=Yt,wr=ur,Ir=0;Ir<fr;Ir++){var Or=nr[_r+Ir],Ar=rr[_r+Ir],Nr=nr[_r+Ir+fr],Hr=rr[_r+Ir+fr],Pr=yr*Nr-wr*Hr;Hr=yr*Hr+wr*Nr,Nr=Pr,nr[_r+Ir]=Or+Nr,rr[_r+Ir]=Ar+Hr,nr[_r+Ir+fr]=Or-Nr,rr[_r+Ir+fr]=Ar-Hr,Ir!==sr&&(Pr=Yt*yr-ur*wr,wr=Yt*wr+ur*yr,yr=Pr)}},hr.prototype.guessLen13b=function(Ut,tr){var nr=Math.max(tr,Ut)|1,rr=nr&1,ar=0;for(nr=nr/2|0;nr;nr=nr>>>1)ar++;return 1<<ar+1+rr},hr.prototype.conjugate=function(Ut,tr,nr){if(!(nr<=1))for(var rr=0;rr<nr/2;rr++){var ar=Ut[rr];Ut[rr]=Ut[nr-rr-1],Ut[nr-rr-1]=ar,ar=tr[rr],tr[rr]=-tr[nr-rr-1],tr[nr-rr-1]=-ar}},hr.prototype.normalize13b=function(Ut,tr){for(var nr=0,rr=0;rr<tr/2;rr++){var ar=Math.round(Ut[2*rr+1]/tr)*8192+Math.round(Ut[2*rr]/tr)+nr;Ut[rr]=ar&67108863,ar<67108864?nr=0:nr=ar/67108864|0}return Ut},hr.prototype.convert13b=function(Ut,tr,nr,rr){for(var ar=0,cr=0;cr<tr;cr++)ar=ar+(Ut[cr]|0),nr[2*cr]=ar&8191,ar=ar>>>13,nr[2*cr+1]=ar&8191,ar=ar>>>13;for(cr=2*tr;cr<rr;++cr)nr[cr]=0;mt(ar===0),mt((ar&-8192)===0)},hr.prototype.stub=function(Ut){for(var tr=new Array(Ut),nr=0;nr<Ut;nr++)tr[nr]=0;return tr},hr.prototype.mulp=function(Ut,tr,nr){var rr=2*this.guessLen13b(Ut.length,tr.length),ar=this.makeRBT(rr),cr=this.stub(rr),fr=new Array(rr),sr=new Array(rr),Yt=new Array(rr),ur=new Array(rr),_r=new Array(rr),yr=new Array(rr),wr=nr.words;wr.length=rr,this.convert13b(Ut.words,Ut.length,fr,rr),this.convert13b(tr.words,tr.length,ur,rr),this.transform(fr,cr,sr,Yt,rr,ar),this.transform(ur,cr,_r,yr,rr,ar);for(var Ir=0;Ir<rr;Ir++){var Or=sr[Ir]*_r[Ir]-Yt[Ir]*yr[Ir];Yt[Ir]=sr[Ir]*yr[Ir]+Yt[Ir]*_r[Ir],sr[Ir]=Or}return this.conjugate(sr,Yt,rr),this.transform(sr,Yt,wr,cr,rr,ar),this.conjugate(wr,cr,rr),this.normalize13b(wr,rr),nr.negative=Ut.negative^tr.negative,nr.length=Ut.length+tr.length,nr.strip()},Ct.prototype.mul=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),this.mulTo(Ut,tr)},Ct.prototype.mulf=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),pr(this,Ut,tr)},Ct.prototype.imul=function(Ut){return this.clone().mulTo(Ut,this)},Ct.prototype.imuln=function(Ut){mt(typeof Ut=="number"),mt(Ut<67108864);for(var tr=0,nr=0;nr<this.length;nr++){var rr=(this.words[nr]|0)*Ut,ar=(rr&67108863)+(tr&67108863);tr>>=26,tr+=rr/67108864|0,tr+=ar>>>26,this.words[nr]=ar&67108863}return tr!==0&&(this.words[nr]=tr,this.length++),this},Ct.prototype.muln=function(Ut){return this.clone().imuln(Ut)},Ct.prototype.sqr=function(){return this.mul(this)},Ct.prototype.isqr=function(){return this.imul(this.clone())},Ct.prototype.pow=function(Ut){var tr=ir(Ut);if(tr.length===0)return new Ct(1);for(var nr=this,rr=0;rr<tr.length&&tr[rr]===0;rr++,nr=nr.sqr());if(++rr<tr.length)for(var ar=nr.sqr();rr<tr.length;rr++,ar=ar.sqr())tr[rr]!==0&&(nr=nr.mul(ar));return nr},Ct.prototype.iushln=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=67108863>>>26-tr<<26-tr,ar;if(tr!==0){var cr=0;for(ar=0;ar<this.length;ar++){var fr=this.words[ar]&rr,sr=(this.words[ar]|0)-fr<<tr;this.words[ar]=sr|cr,cr=fr>>>26-tr}cr&&(this.words[ar]=cr,this.length++)}if(nr!==0){for(ar=this.length-1;ar>=0;ar--)this.words[ar+nr]=this.words[ar];for(ar=0;ar<nr;ar++)this.words[ar]=0;this.length+=nr}return this.strip()},Ct.prototype.ishln=function(Ut){return mt(this.negative===0),this.iushln(Ut)},Ct.prototype.iushrn=function(Ut,tr,nr){mt(typeof Ut=="number"&&Ut>=0);var rr;tr?rr=(tr-tr%26)/26:rr=0;var ar=Ut%26,cr=Math.min((Ut-ar)/26,this.length),fr=67108863^67108863>>>ar<<ar,sr=nr;if(rr-=cr,rr=Math.max(0,rr),sr){for(var Yt=0;Yt<cr;Yt++)sr.words[Yt]=this.words[Yt];sr.length=cr}if(cr!==0)if(this.length>cr)for(this.length-=cr,Yt=0;Yt<this.length;Yt++)this.words[Yt]=this.words[Yt+cr];else this.words[0]=0,this.length=1;var ur=0;for(Yt=this.length-1;Yt>=0&&(ur!==0||Yt>=rr);Yt--){var _r=this.words[Yt]|0;this.words[Yt]=ur<<26-ar|_r>>>ar,ur=_r&fr}return sr&&ur!==0&&(sr.words[sr.length++]=ur),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ct.prototype.ishrn=function(Ut,tr,nr){return mt(this.negative===0),this.iushrn(Ut,tr,nr)},Ct.prototype.shln=function(Ut){return this.clone().ishln(Ut)},Ct.prototype.ushln=function(Ut){return this.clone().iushln(Ut)},Ct.prototype.shrn=function(Ut){return this.clone().ishrn(Ut)},Ct.prototype.ushrn=function(Ut){return this.clone().iushrn(Ut)},Ct.prototype.testn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return!1;var ar=this.words[nr];return!!(ar&rr)},Ct.prototype.imaskn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26;if(mt(this.negative===0,"imaskn works only with positive numbers"),this.length<=nr)return this;if(tr!==0&&nr++,this.length=Math.min(nr,this.length),tr!==0){var rr=67108863^67108863>>>tr<<tr;this.words[this.length-1]&=rr}return this.strip()},Ct.prototype.maskn=function(Ut){return this.clone().imaskn(Ut)},Ct.prototype.iaddn=function(Ut){return mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0?this.isubn(-Ut):this.negative!==0?this.length===1&&(this.words[0]|0)<Ut?(this.words[0]=Ut-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ut),this.negative=1,this):this._iaddn(Ut)},Ct.prototype._iaddn=function(Ut){this.words[0]+=Ut;for(var tr=0;tr<this.length&&this.words[tr]>=67108864;tr++)this.words[tr]-=67108864,tr===this.length-1?this.words[tr+1]=1:this.words[tr+1]++;return this.length=Math.max(this.length,tr+1),this},Ct.prototype.isubn=function(Ut){if(mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0)return this.iaddn(-Ut);if(this.negative!==0)return this.negative=0,this.iaddn(Ut),this.negative=1,this;if(this.words[0]-=Ut,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tr=0;tr<this.length&&this.words[tr]<0;tr++)this.words[tr]+=67108864,this.words[tr+1]-=1;return this.strip()},Ct.prototype.addn=function(Ut){return this.clone().iaddn(Ut)},Ct.prototype.subn=function(Ut){return this.clone().isubn(Ut)},Ct.prototype.iabs=function(){return this.negative=0,this},Ct.prototype.abs=function(){return this.clone().iabs()},Ct.prototype._ishlnsubmul=function(Ut,tr,nr){var rr=Ut.length+nr,ar;this._expand(rr);var cr,fr=0;for(ar=0;ar<Ut.length;ar++){cr=(this.words[ar+nr]|0)+fr;var sr=(Ut.words[ar]|0)*tr;cr-=sr&67108863,fr=(cr>>26)-(sr/67108864|0),this.words[ar+nr]=cr&67108863}for(;ar<this.length-nr;ar++)cr=(this.words[ar+nr]|0)+fr,fr=cr>>26,this.words[ar+nr]=cr&67108863;if(fr===0)return this.strip();for(mt(fr===-1),fr=0,ar=0;ar<this.length;ar++)cr=-(this.words[ar]|0)+fr,fr=cr>>26,this.words[ar]=cr&67108863;return this.negative=1,this.strip()},Ct.prototype._wordDiv=function(Ut,tr){var nr=this.length-Ut.length,rr=this.clone(),ar=Ut,cr=ar.words[ar.length-1]|0,fr=this._countBits(cr);nr=26-fr,nr!==0&&(ar=ar.ushln(nr),rr.iushln(nr),cr=ar.words[ar.length-1]|0);var sr=rr.length-ar.length,Yt;if(tr!=="mod"){Yt=new Ct(null),Yt.length=sr+1,Yt.words=new Array(Yt.length);for(var ur=0;ur<Yt.length;ur++)Yt.words[ur]=0}var _r=rr.clone()._ishlnsubmul(ar,1,sr);_r.negative===0&&(rr=_r,Yt&&(Yt.words[sr]=1));for(var yr=sr-1;yr>=0;yr--){var wr=(rr.words[ar.length+yr]|0)*67108864+(rr.words[ar.length+yr-1]|0);for(wr=Math.min(wr/cr|0,67108863),rr._ishlnsubmul(ar,wr,yr);rr.negative!==0;)wr--,rr.negative=0,rr._ishlnsubmul(ar,1,yr),rr.isZero()||(rr.negative^=1);Yt&&(Yt.words[yr]=wr)}return Yt&&Yt.strip(),rr.strip(),tr!=="div"&&nr!==0&&rr.iushrn(nr),{div:Yt||null,mod:rr}},Ct.prototype.divmod=function(Ut,tr,nr){if(mt(!Ut.isZero()),this.isZero())return{div:new Ct(0),mod:new Ct(0)};var rr,ar,cr;return this.negative!==0&&Ut.negative===0?(cr=this.neg().divmod(Ut,tr),tr!=="mod"&&(rr=cr.div.neg()),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.iadd(Ut)),{div:rr,mod:ar}):this.negative===0&&Ut.negative!==0?(cr=this.divmod(Ut.neg(),tr),tr!=="mod"&&(rr=cr.div.neg()),{div:rr,mod:cr.mod}):this.negative&Ut.negative?(cr=this.neg().divmod(Ut.neg(),tr),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.isub(Ut)),{div:cr.div,mod:ar}):Ut.length>this.length||this.cmp(Ut)<0?{div:new Ct(0),mod:this}:Ut.length===1?tr==="div"?{div:this.divn(Ut.words[0]),mod:null}:tr==="mod"?{div:null,mod:new Ct(this.modn(Ut.words[0]))}:{div:this.divn(Ut.words[0]),mod:new Ct(this.modn(Ut.words[0]))}:this._wordDiv(Ut,tr)},Ct.prototype.div=function(Ut){return this.divmod(Ut,"div",!1).div},Ct.prototype.mod=function(Ut){return this.divmod(Ut,"mod",!1).mod},Ct.prototype.umod=function(Ut){return this.divmod(Ut,"mod",!0).mod},Ct.prototype.divRound=function(Ut){var tr=this.divmod(Ut);if(tr.mod.isZero())return tr.div;var nr=tr.div.negative!==0?tr.mod.isub(Ut):tr.mod,rr=Ut.ushrn(1),ar=Ut.andln(1),cr=nr.cmp(rr);return cr<0||ar===1&&cr===0?tr.div:tr.div.negative!==0?tr.div.isubn(1):tr.div.iaddn(1)},Ct.prototype.modn=function(Ut){mt(Ut<=67108863);for(var tr=(1<<26)%Ut,nr=0,rr=this.length-1;rr>=0;rr--)nr=(tr*nr+(this.words[rr]|0))%Ut;return nr},Ct.prototype.idivn=function(Ut){mt(Ut<=67108863);for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=(this.words[nr]|0)+tr*67108864;this.words[nr]=rr/Ut|0,tr=rr%Ut}return this.strip()},Ct.prototype.divn=function(Ut){return this.clone().idivn(Ut)},Ct.prototype.egcd=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=new Ct(0),fr=new Ct(1),sr=0;tr.isEven()&&nr.isEven();)tr.iushrn(1),nr.iushrn(1),++sr;for(var Yt=nr.clone(),ur=tr.clone();!tr.isZero();){for(var _r=0,yr=1;!(tr.words[0]&yr)&&_r<26;++_r,yr<<=1);if(_r>0)for(tr.iushrn(_r);_r-- >0;)(rr.isOdd()||ar.isOdd())&&(rr.iadd(Yt),ar.isub(ur)),rr.iushrn(1),ar.iushrn(1);for(var wr=0,Ir=1;!(nr.words[0]&Ir)&&wr<26;++wr,Ir<<=1);if(wr>0)for(nr.iushrn(wr);wr-- >0;)(cr.isOdd()||fr.isOdd())&&(cr.iadd(Yt),fr.isub(ur)),cr.iushrn(1),fr.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(cr),ar.isub(fr)):(nr.isub(tr),cr.isub(rr),fr.isub(ar))}return{a:cr,b:fr,gcd:nr.iushln(sr)}},Ct.prototype._invmp=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=nr.clone();tr.cmpn(1)>0&&nr.cmpn(1)>0;){for(var fr=0,sr=1;!(tr.words[0]&sr)&&fr<26;++fr,sr<<=1);if(fr>0)for(tr.iushrn(fr);fr-- >0;)rr.isOdd()&&rr.iadd(cr),rr.iushrn(1);for(var Yt=0,ur=1;!(nr.words[0]&ur)&&Yt<26;++Yt,ur<<=1);if(Yt>0)for(nr.iushrn(Yt);Yt-- >0;)ar.isOdd()&&ar.iadd(cr),ar.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(ar)):(nr.isub(tr),ar.isub(rr))}var _r;return tr.cmpn(1)===0?_r=rr:_r=ar,_r.cmpn(0)<0&&_r.iadd(Ut),_r},Ct.prototype.gcd=function(Ut){if(this.isZero())return Ut.abs();if(Ut.isZero())return this.abs();var tr=this.clone(),nr=Ut.clone();tr.negative=0,nr.negative=0;for(var rr=0;tr.isEven()&&nr.isEven();rr++)tr.iushrn(1),nr.iushrn(1);do{for(;tr.isEven();)tr.iushrn(1);for(;nr.isEven();)nr.iushrn(1);var ar=tr.cmp(nr);if(ar<0){var cr=tr;tr=nr,nr=cr}else if(ar===0||nr.cmpn(1)===0)break;tr.isub(nr)}while(!0);return nr.iushln(rr)},Ct.prototype.invm=function(Ut){return this.egcd(Ut).a.umod(Ut)},Ct.prototype.isEven=function(){return(this.words[0]&1)===0},Ct.prototype.isOdd=function(){return(this.words[0]&1)===1},Ct.prototype.andln=function(Ut){return this.words[0]&Ut},Ct.prototype.bincn=function(Ut){mt(typeof Ut=="number");var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return this._expand(nr+1),this.words[nr]|=rr,this;for(var ar=rr,cr=nr;ar!==0&&cr<this.length;cr++){var fr=this.words[cr]|0;fr+=ar,ar=fr>>>26,fr&=67108863,this.words[cr]=fr}return ar!==0&&(this.words[cr]=ar,this.length++),this},Ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ct.prototype.cmpn=function(Ut){var tr=Ut<0;if(this.negative!==0&&!tr)return-1;if(this.negative===0&&tr)return 1;this.strip();var nr;if(this.length>1)nr=1;else{tr&&(Ut=-Ut),mt(Ut<=67108863,"Number is too big");var rr=this.words[0]|0;nr=rr===Ut?0:rr<Ut?-1:1}return this.negative!==0?-nr|0:nr},Ct.prototype.cmp=function(Ut){if(this.negative!==0&&Ut.negative===0)return-1;if(this.negative===0&&Ut.negative!==0)return 1;var tr=this.ucmp(Ut);return this.negative!==0?-tr|0:tr},Ct.prototype.ucmp=function(Ut){if(this.length>Ut.length)return 1;if(this.length<Ut.length)return-1;for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=this.words[nr]|0,ar=Ut.words[nr]|0;if(rr!==ar){rr<ar?tr=-1:rr>ar&&(tr=1);break}}return tr},Ct.prototype.gtn=function(Ut){return this.cmpn(Ut)===1},Ct.prototype.gt=function(Ut){return this.cmp(Ut)===1},Ct.prototype.gten=function(Ut){return this.cmpn(Ut)>=0},Ct.prototype.gte=function(Ut){return this.cmp(Ut)>=0},Ct.prototype.ltn=function(Ut){return this.cmpn(Ut)===-1},Ct.prototype.lt=function(Ut){return this.cmp(Ut)===-1},Ct.prototype.lten=function(Ut){return this.cmpn(Ut)<=0},Ct.prototype.lte=function(Ut){return this.cmp(Ut)<=0},Ct.prototype.eqn=function(Ut){return this.cmpn(Ut)===0},Ct.prototype.eq=function(Ut){return this.cmp(Ut)===0},Ct.red=function(Ut){return new Cr(Ut)},Ct.prototype.toRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),mt(this.negative===0,"red works only with positives"),Ut.convertTo(this)._forceRed(Ut)},Ct.prototype.fromRed=function(){return mt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ct.prototype._forceRed=function(Ut){return this.red=Ut,this},Ct.prototype.forceRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),this._forceRed(Ut)},Ct.prototype.redAdd=function(Ut){return mt(this.red,"redAdd works only with red numbers"),this.red.add(this,Ut)},Ct.prototype.redIAdd=function(Ut){return mt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ut)},Ct.prototype.redSub=function(Ut){return mt(this.red,"redSub works only with red numbers"),this.red.sub(this,Ut)},Ct.prototype.redISub=function(Ut){return mt(this.red,"redISub works only with red numbers"),this.red.isub(this,Ut)},Ct.prototype.redShl=function(Ut){return mt(this.red,"redShl works only with red numbers"),this.red.shl(this,Ut)},Ct.prototype.redMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.mul(this,Ut)},Ct.prototype.redIMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.imul(this,Ut)},Ct.prototype.redSqr=function(){return mt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ct.prototype.redISqr=function(){return mt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ct.prototype.redSqrt=function(){return mt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ct.prototype.redInvm=function(){return mt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ct.prototype.redNeg=function(){return mt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ct.prototype.redPow=function(Ut){return mt(this.red&&!Ut.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ut)};var vr={k256:null,p224:null,p192:null,p25519:null};function br(gr,Ut){this.name=gr,this.p=new Ct(Ut,16),this.n=this.p.bitLength(),this.k=new Ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var Ut=new Ct(null);return Ut.words=new Array(Math.ceil(this.n/13)),Ut},br.prototype.ireduce=function(Ut){var tr=Ut,nr;do this.split(tr,this.tmp),tr=this.imulK(tr),tr=tr.iadd(this.tmp),nr=tr.bitLength();while(nr>this.n);var rr=nr<this.n?-1:tr.ucmp(this.p);return rr===0?(tr.words[0]=0,tr.length=1):rr>0?tr.isub(this.p):tr.strip!==void 0?tr.strip():tr._strip(),tr},br.prototype.split=function(Ut,tr){Ut.iushrn(this.n,0,tr)},br.prototype.imulK=function(Ut){return Ut.imul(this.k)};function xr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$t(xr,br),xr.prototype.split=function(Ut,tr){for(var nr=4194303,rr=Math.min(Ut.length,9),ar=0;ar<rr;ar++)tr.words[ar]=Ut.words[ar];if(tr.length=rr,Ut.length<=9){Ut.words[0]=0,Ut.length=1;return}var cr=Ut.words[9];for(tr.words[tr.length++]=cr&nr,ar=10;ar<Ut.length;ar++){var fr=Ut.words[ar]|0;Ut.words[ar-10]=(fr&nr)<<4|cr>>>22,cr=fr}cr>>>=22,Ut.words[ar-10]=cr,cr===0&&Ut.length>10?Ut.length-=10:Ut.length-=9},xr.prototype.imulK=function(Ut){Ut.words[Ut.length]=0,Ut.words[Ut.length+1]=0,Ut.length+=2;for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=Ut.words[nr]|0;tr+=rr*977,Ut.words[nr]=tr&67108863,tr=rr*64+(tr/67108864|0)}return Ut.words[Ut.length-1]===0&&(Ut.length--,Ut.words[Ut.length-1]===0&&Ut.length--),Ut};function Sr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$t(Sr,br);function Er(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$t(Er,br);function $r(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$t($r,br),$r.prototype.imulK=function(Ut){for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=(Ut.words[nr]|0)*19+tr,ar=rr&67108863;rr>>>=26,Ut.words[nr]=ar,tr=rr}return tr!==0&&(Ut.words[Ut.length++]=tr),Ut},Ct._prime=function(Ut){if(vr[Ut])return vr[Ut];var tr;if(Ut==="k256")tr=new xr;else if(Ut==="p224")tr=new Sr;else if(Ut==="p192")tr=new Er;else if(Ut==="p25519")tr=new $r;else throw new Error("Unknown prime "+Ut);return vr[Ut]=tr,tr};function Cr(gr){if(typeof gr=="string"){var Ut=Ct._prime(gr);this.m=Ut.p,this.prime=Ut}else mt(gr.gtn(1),"modulus must be greater than 1"),this.m=gr,this.prime=null}Cr.prototype._verify1=function(Ut){mt(Ut.negative===0,"red works only with positives"),mt(Ut.red,"red works only with red numbers")},Cr.prototype._verify2=function(Ut,tr){mt((Ut.negative|tr.negative)===0,"red works only with positives"),mt(Ut.red&&Ut.red===tr.red,"red works only with red numbers")},Cr.prototype.imod=function(Ut){return this.prime?this.prime.ireduce(Ut)._forceRed(this):Ut.umod(this.m)._forceRed(this)},Cr.prototype.neg=function(Ut){return Ut.isZero()?Ut.clone():this.m.sub(Ut)._forceRed(this)},Cr.prototype.add=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.add(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr._forceRed(this)},Cr.prototype.iadd=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.iadd(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr},Cr.prototype.sub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.sub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr._forceRed(this)},Cr.prototype.isub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.isub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr},Cr.prototype.shl=function(Ut,tr){return this._verify1(Ut),this.imod(Ut.ushln(tr))},Cr.prototype.imul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.imul(tr))},Cr.prototype.mul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.mul(tr))},Cr.prototype.isqr=function(Ut){return this.imul(Ut,Ut.clone())},Cr.prototype.sqr=function(Ut){return this.mul(Ut,Ut)},Cr.prototype.sqrt=function(Ut){if(Ut.isZero())return Ut.clone();var tr=this.m.andln(3);if(mt(tr%2===1),tr===3){var nr=this.m.add(new Ct(1)).iushrn(2);return this.pow(Ut,nr)}for(var rr=this.m.subn(1),ar=0;!rr.isZero()&&rr.andln(1)===0;)ar++,rr.iushrn(1);mt(!rr.isZero());var cr=new Ct(1).toRed(this),fr=cr.redNeg(),sr=this.m.subn(1).iushrn(1),Yt=this.m.bitLength();for(Yt=new Ct(2*Yt*Yt).toRed(this);this.pow(Yt,sr).cmp(fr)!==0;)Yt.redIAdd(fr);for(var ur=this.pow(Yt,rr),_r=this.pow(Ut,rr.addn(1).iushrn(1)),yr=this.pow(Ut,rr),wr=ar;yr.cmp(cr)!==0;){for(var Ir=yr,Or=0;Ir.cmp(cr)!==0;Or++)Ir=Ir.redSqr();mt(Or<wr);var Ar=this.pow(ur,new Ct(1).iushln(wr-Or-1));_r=_r.redMul(Ar),ur=Ar.redSqr(),yr=yr.redMul(ur),wr=Or}return _r},Cr.prototype.invm=function(Ut){var tr=Ut._invmp(this.m);return tr.negative!==0?(tr.negative=0,this.imod(tr).redNeg()):this.imod(tr)},Cr.prototype.pow=function(Ut,tr){if(tr.isZero())return new Ct(1).toRed(this);if(tr.cmpn(1)===0)return Ut.clone();var nr=4,rr=new Array(1<<nr);rr[0]=new Ct(1).toRed(this),rr[1]=Ut;for(var ar=2;ar<rr.length;ar++)rr[ar]=this.mul(rr[ar-1],Ut);var cr=rr[0],fr=0,sr=0,Yt=tr.bitLength()%26;for(Yt===0&&(Yt=26),ar=tr.length-1;ar>=0;ar--){for(var ur=tr.words[ar],_r=Yt-1;_r>=0;_r--){var yr=ur>>_r&1;if(cr!==rr[0]&&(cr=this.sqr(cr)),yr===0&&fr===0){sr=0;continue}fr<<=1,fr|=yr,sr++,!(sr!==nr&&(ar!==0||_r!==0))&&(cr=this.mul(cr,rr[fr]),sr=0,fr=0)}Yt=26}return cr},Cr.prototype.convertTo=function(Ut){var tr=Ut.umod(this.m);return tr===Ut?tr.clone():tr},Cr.prototype.convertFrom=function(Ut){var tr=Ut.clone();return tr.red=null,tr},Ct.mont=function(Ut){return new kr(Ut)};function kr(gr){Cr.call(this,gr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$t(kr,Cr),kr.prototype.convertTo=function(Ut){return this.imod(Ut.ushln(this.shift))},kr.prototype.convertFrom=function(Ut){var tr=this.imod(Ut.mul(this.rinv));return tr.red=null,tr},kr.prototype.imul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return Ut.words[0]=0,Ut.length=1,Ut;var nr=Ut.imul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.mul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return new Ct(0)._forceRed(this);var nr=Ut.mul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.invm=function(Ut){var tr=this.imod(Ut._invmp(this.m).mul(this.r2));return tr._forceRed(this)}})(nt,commonjsGlobal$1)}(bn$2)),bn$2.exports}var browser$5,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$5;hasRequiredBrowser$2=1;var nt=requireElliptic(),et=requireBn$1();browser$5=function(Dt){return new mt(Dt)};var at={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};at.p224=at.secp224r1,at.p256=at.secp256r1=at.prime256v1,at.p192=at.secp192r1=at.prime192v1,at.p384=at.secp384r1,at.p521=at.secp521r1;function mt(Ct){this.curveType=at[Ct],this.curveType||(this.curveType={name:Ct}),this.curve=new nt.ec(this.curveType.name),this.keys=void 0}mt.prototype.generateKeys=function(Ct,Dt){return this.keys=this.curve.genKeyPair(),this.getPublicKey(Ct,Dt)},mt.prototype.computeSecret=function(Ct,Dt,Ft){Dt=Dt||"utf8",Buffer$1.isBuffer(Ct)||(Ct=new Buffer$1(Ct,Dt));var Nt=this.curve.keyFromPublic(Ct).getPublic(),jt=Nt.mul(this.keys.getPrivate()).getX();return $t(jt,Ft,this.curveType.byteLength)},mt.prototype.getPublicKey=function(Ct,Dt){var Ft=this.keys.getPublic(Dt==="compressed",!0);return Dt==="hybrid"&&(Ft[Ft.length-1]%2?Ft[0]=7:Ft[0]=6),$t(Ft,Ct)},mt.prototype.getPrivateKey=function(Ct){return $t(this.keys.getPrivate(),Ct)},mt.prototype.setPublicKey=function(Ct,Dt){return Dt=Dt||"utf8",Buffer$1.isBuffer(Ct)||(Ct=new Buffer$1(Ct,Dt)),this.keys._importPublic(Ct),this},mt.prototype.setPrivateKey=function(Ct,Dt){Dt=Dt||"utf8",Buffer$1.isBuffer(Ct)||(Ct=new Buffer$1(Ct,Dt));var Ft=new et(Ct);return Ft=Ft.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(Ft),this};function $t(Ct,Dt,Ft){Array.isArray(Ct)||(Ct=Ct.toArray());var Nt=new Buffer$1(Ct);if(Ft&&Nt.length<Ft){var jt=new Buffer$1(Ft-Nt.length);jt.fill(0),Nt=Buffer$1.concat([jt,Nt])}return Dt?Nt.toString(Dt):Nt}return browser$5}var browser$4={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var nt=requireBrowser$9(),et=requireSafeBuffer$7().Buffer;mgf=function(mt,$t){for(var Ct=et.alloc(0),Dt=0,Ft;Ct.length<$t;)Ft=at(Dt++),Ct=et.concat([Ct,nt("sha1").update(mt).update(Ft).digest()]);return Ct.slice(0,$t)};function at(mt){var $t=et.allocUnsafe(4);return $t.writeUInt32BE(mt,0),$t}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(et,at){for(var mt=et.length,$t=-1;++$t<mt;)et[$t]^=at[$t];return et}),xor}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(nt){(function(et,at){function mt(gr,Ut){if(!gr)throw new Error(Ut||"Assertion failed")}function $t(gr,Ut){gr.super_=Ut;var tr=function(){};tr.prototype=Ut.prototype,gr.prototype=new tr,gr.prototype.constructor=gr}function Ct(gr,Ut,tr){if(Ct.isBN(gr))return gr;this.negative=0,this.words=null,this.length=0,this.red=null,gr!==null&&((Ut==="le"||Ut==="be")&&(tr=Ut,Ut=10),this._init(gr||0,Ut||10,tr||"be"))}typeof et=="object"?et.exports=Ct:at.BN=Ct,Ct.BN=Ct,Ct.wordSize=26;var Dt;try{typeof window<"u"&&typeof window.Buffer<"u"?Dt=window.Buffer:Dt=require$$2$1.Buffer}catch{}Ct.isBN=function(Ut){return Ut instanceof Ct?!0:Ut!==null&&typeof Ut=="object"&&Ut.constructor.wordSize===Ct.wordSize&&Array.isArray(Ut.words)},Ct.max=function(Ut,tr){return Ut.cmp(tr)>0?Ut:tr},Ct.min=function(Ut,tr){return Ut.cmp(tr)<0?Ut:tr},Ct.prototype._init=function(Ut,tr,nr){if(typeof Ut=="number")return this._initNumber(Ut,tr,nr);if(typeof Ut=="object")return this._initArray(Ut,tr,nr);tr==="hex"&&(tr=16),mt(tr===(tr|0)&&tr>=2&&tr<=36),Ut=Ut.toString().replace(/\s+/g,"");var rr=0;Ut[0]==="-"&&(rr++,this.negative=1),rr<Ut.length&&(tr===16?this._parseHex(Ut,rr,nr):(this._parseBase(Ut,tr,rr),nr==="le"&&this._initArray(this.toArray(),tr,nr)))},Ct.prototype._initNumber=function(Ut,tr,nr){Ut<0&&(this.negative=1,Ut=-Ut),Ut<67108864?(this.words=[Ut&67108863],this.length=1):Ut<4503599627370496?(this.words=[Ut&67108863,Ut/67108864&67108863],this.length=2):(mt(Ut<9007199254740992),this.words=[Ut&67108863,Ut/67108864&67108863,1],this.length=3),nr==="le"&&this._initArray(this.toArray(),tr,nr)},Ct.prototype._initArray=function(Ut,tr,nr){if(mt(typeof Ut.length=="number"),Ut.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Ut.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar,cr,fr=0;if(nr==="be")for(rr=Ut.length-1,ar=0;rr>=0;rr-=3)cr=Ut[rr]|Ut[rr-1]<<8|Ut[rr-2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);else if(nr==="le")for(rr=0,ar=0;rr<Ut.length;rr+=3)cr=Ut[rr]|Ut[rr+1]<<8|Ut[rr+2]<<16,this.words[ar]|=cr<<fr&67108863,this.words[ar+1]=cr>>>26-fr&67108863,fr+=24,fr>=26&&(fr-=26,ar++);return this.strip()};function Ft(gr,Ut){var tr=gr.charCodeAt(Ut);return tr>=65&&tr<=70?tr-55:tr>=97&&tr<=102?tr-87:tr-48&15}function Nt(gr,Ut,tr){var nr=Ft(gr,tr);return tr-1>=Ut&&(nr|=Ft(gr,tr-1)<<4),nr}Ct.prototype._parseHex=function(Ut,tr,nr){this.length=Math.ceil((Ut.length-tr)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var ar=0,cr=0,fr;if(nr==="be")for(rr=Ut.length-1;rr>=tr;rr-=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8;else{var sr=Ut.length-tr;for(rr=sr%2===0?tr+1:tr;rr<Ut.length;rr+=2)fr=Nt(Ut,tr,rr)<<ar,this.words[cr]|=fr&67108863,ar>=18?(ar-=18,cr+=1,this.words[cr]|=fr>>>26):ar+=8}this.strip()};function jt(gr,Ut,tr,nr){for(var rr=0,ar=Math.min(gr.length,tr),cr=Ut;cr<ar;cr++){var fr=gr.charCodeAt(cr)-48;rr*=nr,fr>=49?rr+=fr-49+10:fr>=17?rr+=fr-17+10:rr+=fr}return rr}Ct.prototype._parseBase=function(Ut,tr,nr){this.words=[0],this.length=1;for(var rr=0,ar=1;ar<=67108863;ar*=tr)rr++;rr--,ar=ar/tr|0;for(var cr=Ut.length-nr,fr=cr%rr,sr=Math.min(cr,cr-fr)+nr,Yt=0,ur=nr;ur<sr;ur+=rr)Yt=jt(Ut,ur,ur+rr,tr),this.imuln(ar),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt);if(fr!==0){var _r=1;for(Yt=jt(Ut,ur,Ut.length,tr),ur=0;ur<fr;ur++)_r*=tr;this.imuln(_r),this.words[0]+Yt<67108864?this.words[0]+=Yt:this._iaddn(Yt)}this.strip()},Ct.prototype.copy=function(Ut){Ut.words=new Array(this.length);for(var tr=0;tr<this.length;tr++)Ut.words[tr]=this.words[tr];Ut.length=this.length,Ut.negative=this.negative,Ut.red=this.red},Ct.prototype.clone=function(){var Ut=new Ct(null);return this.copy(Ut),Ut},Ct.prototype._expand=function(Ut){for(;this.length<Ut;)this.words[this.length++]=0;return this},Ct.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Ct.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},Ct.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],er=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Ct.prototype.toString=function(Ut,tr){Ut=Ut||10,tr=tr|0||1;var nr;if(Ut===16||Ut==="hex"){nr="";for(var rr=0,ar=0,cr=0;cr<this.length;cr++){var fr=this.words[cr],sr=((fr<<rr|ar)&16777215).toString(16);ar=fr>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,cr--),ar!==0||cr!==this.length-1?nr=Lt[6-sr.length]+sr+nr:nr=sr+nr}for(ar!==0&&(nr=ar.toString(16)+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}if(Ut===(Ut|0)&&Ut>=2&&Ut<=36){var Yt=Vt[Ut],ur=er[Ut];nr="";var _r=this.clone();for(_r.negative=0;!_r.isZero();){var yr=_r.modn(ur).toString(Ut);_r=_r.idivn(ur),_r.isZero()?nr=yr+nr:nr=Lt[Yt-yr.length]+yr+nr}for(this.isZero()&&(nr="0"+nr);nr.length%tr!==0;)nr="0"+nr;return this.negative!==0&&(nr="-"+nr),nr}mt(!1,"Base should be between 2 and 36")},Ct.prototype.toNumber=function(){var Ut=this.words[0];return this.length===2?Ut+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Ut+=4503599627370496+this.words[1]*67108864:this.length>2&&mt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Ut:Ut},Ct.prototype.toJSON=function(){return this.toString(16)},Ct.prototype.toBuffer=function(Ut,tr){return mt(typeof Dt<"u"),this.toArrayLike(Dt,Ut,tr)},Ct.prototype.toArray=function(Ut,tr){return this.toArrayLike(Array,Ut,tr)},Ct.prototype.toArrayLike=function(Ut,tr,nr){var rr=this.byteLength(),ar=nr||Math.max(1,rr);mt(rr<=ar,"byte array longer than desired length"),mt(ar>0,"Requested array length <= 0"),this.strip();var cr=tr==="le",fr=new Ut(ar),sr,Yt,ur=this.clone();if(cr){for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[Yt]=sr;for(;Yt<ar;Yt++)fr[Yt]=0}else{for(Yt=0;Yt<ar-rr;Yt++)fr[Yt]=0;for(Yt=0;!ur.isZero();Yt++)sr=ur.andln(255),ur.iushrn(8),fr[ar-Yt-1]=sr}return fr},Math.clz32?Ct.prototype._countBits=function(Ut){return 32-Math.clz32(Ut)}:Ct.prototype._countBits=function(Ut){var tr=Ut,nr=0;return tr>=4096&&(nr+=13,tr>>>=13),tr>=64&&(nr+=7,tr>>>=7),tr>=8&&(nr+=4,tr>>>=4),tr>=2&&(nr+=2,tr>>>=2),nr+tr},Ct.prototype._zeroBits=function(Ut){if(Ut===0)return 26;var tr=Ut,nr=0;return tr&8191||(nr+=13,tr>>>=13),tr&127||(nr+=7,tr>>>=7),tr&15||(nr+=4,tr>>>=4),tr&3||(nr+=2,tr>>>=2),tr&1||nr++,nr},Ct.prototype.bitLength=function(){var Ut=this.words[this.length-1],tr=this._countBits(Ut);return(this.length-1)*26+tr};function ir(gr){for(var Ut=new Array(gr.bitLength()),tr=0;tr<Ut.length;tr++){var nr=tr/26|0,rr=tr%26;Ut[tr]=(gr.words[nr]&1<<rr)>>>rr}return Ut}Ct.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Ut=0,tr=0;tr<this.length;tr++){var nr=this._zeroBits(this.words[tr]);if(Ut+=nr,nr!==26)break}return Ut},Ct.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Ct.prototype.toTwos=function(Ut){return this.negative!==0?this.abs().inotn(Ut).iaddn(1):this.clone()},Ct.prototype.fromTwos=function(Ut){return this.testn(Ut-1)?this.notn(Ut).iaddn(1).ineg():this.clone()},Ct.prototype.isNeg=function(){return this.negative!==0},Ct.prototype.neg=function(){return this.clone().ineg()},Ct.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Ct.prototype.iuor=function(Ut){for(;this.length<Ut.length;)this.words[this.length++]=0;for(var tr=0;tr<Ut.length;tr++)this.words[tr]=this.words[tr]|Ut.words[tr];return this.strip()},Ct.prototype.ior=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuor(Ut)},Ct.prototype.or=function(Ut){return this.length>Ut.length?this.clone().ior(Ut):Ut.clone().ior(this)},Ct.prototype.uor=function(Ut){return this.length>Ut.length?this.clone().iuor(Ut):Ut.clone().iuor(this)},Ct.prototype.iuand=function(Ut){var tr;this.length>Ut.length?tr=Ut:tr=this;for(var nr=0;nr<tr.length;nr++)this.words[nr]=this.words[nr]&Ut.words[nr];return this.length=tr.length,this.strip()},Ct.prototype.iand=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuand(Ut)},Ct.prototype.and=function(Ut){return this.length>Ut.length?this.clone().iand(Ut):Ut.clone().iand(this)},Ct.prototype.uand=function(Ut){return this.length>Ut.length?this.clone().iuand(Ut):Ut.clone().iuand(this)},Ct.prototype.iuxor=function(Ut){var tr,nr;this.length>Ut.length?(tr=this,nr=Ut):(tr=Ut,nr=this);for(var rr=0;rr<nr.length;rr++)this.words[rr]=tr.words[rr]^nr.words[rr];if(this!==tr)for(;rr<tr.length;rr++)this.words[rr]=tr.words[rr];return this.length=tr.length,this.strip()},Ct.prototype.ixor=function(Ut){return mt((this.negative|Ut.negative)===0),this.iuxor(Ut)},Ct.prototype.xor=function(Ut){return this.length>Ut.length?this.clone().ixor(Ut):Ut.clone().ixor(this)},Ct.prototype.uxor=function(Ut){return this.length>Ut.length?this.clone().iuxor(Ut):Ut.clone().iuxor(this)},Ct.prototype.inotn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Math.ceil(Ut/26)|0,nr=Ut%26;this._expand(tr),nr>0&&tr--;for(var rr=0;rr<tr;rr++)this.words[rr]=~this.words[rr]&67108863;return nr>0&&(this.words[rr]=~this.words[rr]&67108863>>26-nr),this.strip()},Ct.prototype.notn=function(Ut){return this.clone().inotn(Ut)},Ct.prototype.setn=function(Ut,tr){mt(typeof Ut=="number"&&Ut>=0);var nr=Ut/26|0,rr=Ut%26;return this._expand(nr+1),tr?this.words[nr]=this.words[nr]|1<<rr:this.words[nr]=this.words[nr]&~(1<<rr),this.strip()},Ct.prototype.iadd=function(Ut){var tr;if(this.negative!==0&&Ut.negative===0)return this.negative=0,tr=this.isub(Ut),this.negative^=1,this._normSign();if(this.negative===0&&Ut.negative!==0)return Ut.negative=0,tr=this.isub(Ut),Ut.negative=1,tr._normSign();var nr,rr;this.length>Ut.length?(nr=this,rr=Ut):(nr=Ut,rr=this);for(var ar=0,cr=0;cr<rr.length;cr++)tr=(nr.words[cr]|0)+(rr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;for(;ar!==0&&cr<nr.length;cr++)tr=(nr.words[cr]|0)+ar,this.words[cr]=tr&67108863,ar=tr>>>26;if(this.length=nr.length,ar!==0)this.words[this.length]=ar,this.length++;else if(nr!==this)for(;cr<nr.length;cr++)this.words[cr]=nr.words[cr];return this},Ct.prototype.add=function(Ut){var tr;return Ut.negative!==0&&this.negative===0?(Ut.negative=0,tr=this.sub(Ut),Ut.negative^=1,tr):Ut.negative===0&&this.negative!==0?(this.negative=0,tr=Ut.sub(this),this.negative=1,tr):this.length>Ut.length?this.clone().iadd(Ut):Ut.clone().iadd(this)},Ct.prototype.isub=function(Ut){if(Ut.negative!==0){Ut.negative=0;var tr=this.iadd(Ut);return Ut.negative=1,tr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Ut),this.negative=1,this._normSign();var nr=this.cmp(Ut);if(nr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,ar;nr>0?(rr=this,ar=Ut):(rr=Ut,ar=this);for(var cr=0,fr=0;fr<ar.length;fr++)tr=(rr.words[fr]|0)-(ar.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;for(;cr!==0&&fr<rr.length;fr++)tr=(rr.words[fr]|0)+cr,cr=tr>>26,this.words[fr]=tr&67108863;if(cr===0&&fr<rr.length&&rr!==this)for(;fr<rr.length;fr++)this.words[fr]=rr.words[fr];return this.length=Math.max(this.length,fr),rr!==this&&(this.negative=1),this.strip()},Ct.prototype.sub=function(Ut){return this.clone().isub(Ut)};function or(gr,Ut,tr){tr.negative=Ut.negative^gr.negative;var nr=gr.length+Ut.length|0;tr.length=nr,nr=nr-1|0;var rr=gr.words[0]|0,ar=Ut.words[0]|0,cr=rr*ar,fr=cr&67108863,sr=cr/67108864|0;tr.words[0]=fr;for(var Yt=1;Yt<nr;Yt++){for(var ur=sr>>>26,_r=sr&67108863,yr=Math.min(Yt,Ut.length-1),wr=Math.max(0,Yt-gr.length+1);wr<=yr;wr++){var Ir=Yt-wr|0;rr=gr.words[Ir]|0,ar=Ut.words[wr]|0,cr=rr*ar+_r,ur+=cr/67108864|0,_r=cr&67108863}tr.words[Yt]=_r|0,sr=ur|0}return sr!==0?tr.words[Yt]=sr|0:tr.length--,tr.strip()}var lr=function(Ut,tr,nr){var rr=Ut.words,ar=tr.words,cr=nr.words,fr=0,sr,Yt,ur,_r=rr[0]|0,yr=_r&8191,wr=_r>>>13,Ir=rr[1]|0,Or=Ir&8191,Ar=Ir>>>13,Nr=rr[2]|0,Hr=Nr&8191,Pr=Nr>>>13,Dr=rr[3]|0,Rr=Dr&8191,Vr=Dr>>>13,an=rr[4]|0,Xr=an&8191,Jr=an>>>13,Zr=rr[5]|0,Gr=Zr&8191,zr=Zr>>>13,Dn=rr[6]|0,Qr=Dn&8191,Un=Dn>>>13,ro=rr[7]|0,Hn=ro&8191,Qn=ro>>>13,$o=rr[8]|0,Kn=$o&8191,_i=$o>>>13,Lo=rr[9]|0,jr=Lo&8191,Tr=Lo>>>13,Fr=ar[0]|0,Wr=Fr&8191,sn=Fr>>>13,Jn=ar[1]|0,Nn=Jn&8191,Zn=Jn>>>13,Io=ar[2]|0,ga=Io&8191,ba=Io>>>13,Bo=ar[3]|0,io=Bo&8191,so=Bo>>>13,zo=ar[4]|0,eo=zo&8191,oo=zo>>>13,Ho=ar[5]|0,no=Ho&8191,ao=Ho>>>13,Gn=ar[6]|0,dn=Gn&8191,Ln=Gn>>>13,Br=ar[7]|0,Lr=Br&8191,qr=Br>>>13,Mr=ar[8]|0,Ur=Mr&8191,rn=Mr>>>13,zn=ar[9]|0,pn=zn&8191,Vn=zn>>>13;nr.negative=Ut.negative^tr.negative,nr.length=19,sr=Math.imul(yr,Wr),Yt=Math.imul(yr,sn),Yt=Yt+Math.imul(wr,Wr)|0,ur=Math.imul(wr,sn);var co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(co>>>26)|0,co&=67108863,sr=Math.imul(Or,Wr),Yt=Math.imul(Or,sn),Yt=Yt+Math.imul(Ar,Wr)|0,ur=Math.imul(Ar,sn),sr=sr+Math.imul(yr,Nn)|0,Yt=Yt+Math.imul(yr,Zn)|0,Yt=Yt+Math.imul(wr,Nn)|0,ur=ur+Math.imul(wr,Zn)|0;var uo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(uo>>>26)|0,uo&=67108863,sr=Math.imul(Hr,Wr),Yt=Math.imul(Hr,sn),Yt=Yt+Math.imul(Pr,Wr)|0,ur=Math.imul(Pr,sn),sr=sr+Math.imul(Or,Nn)|0,Yt=Yt+Math.imul(Or,Zn)|0,Yt=Yt+Math.imul(Ar,Nn)|0,ur=ur+Math.imul(Ar,Zn)|0,sr=sr+Math.imul(yr,ga)|0,Yt=Yt+Math.imul(yr,ba)|0,Yt=Yt+Math.imul(wr,ga)|0,ur=ur+Math.imul(wr,ba)|0;var Eo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Eo>>>26)|0,Eo&=67108863,sr=Math.imul(Rr,Wr),Yt=Math.imul(Rr,sn),Yt=Yt+Math.imul(Vr,Wr)|0,ur=Math.imul(Vr,sn),sr=sr+Math.imul(Hr,Nn)|0,Yt=Yt+Math.imul(Hr,Zn)|0,Yt=Yt+Math.imul(Pr,Nn)|0,ur=ur+Math.imul(Pr,Zn)|0,sr=sr+Math.imul(Or,ga)|0,Yt=Yt+Math.imul(Or,ba)|0,Yt=Yt+Math.imul(Ar,ga)|0,ur=ur+Math.imul(Ar,ba)|0,sr=sr+Math.imul(yr,io)|0,Yt=Yt+Math.imul(yr,so)|0,Yt=Yt+Math.imul(wr,io)|0,ur=ur+Math.imul(wr,so)|0;var ho=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ho>>>26)|0,ho&=67108863,sr=Math.imul(Xr,Wr),Yt=Math.imul(Xr,sn),Yt=Yt+Math.imul(Jr,Wr)|0,ur=Math.imul(Jr,sn),sr=sr+Math.imul(Rr,Nn)|0,Yt=Yt+Math.imul(Rr,Zn)|0,Yt=Yt+Math.imul(Vr,Nn)|0,ur=ur+Math.imul(Vr,Zn)|0,sr=sr+Math.imul(Hr,ga)|0,Yt=Yt+Math.imul(Hr,ba)|0,Yt=Yt+Math.imul(Pr,ga)|0,ur=ur+Math.imul(Pr,ba)|0,sr=sr+Math.imul(Or,io)|0,Yt=Yt+Math.imul(Or,so)|0,Yt=Yt+Math.imul(Ar,io)|0,ur=ur+Math.imul(Ar,so)|0,sr=sr+Math.imul(yr,eo)|0,Yt=Yt+Math.imul(yr,oo)|0,Yt=Yt+Math.imul(wr,eo)|0,ur=ur+Math.imul(wr,oo)|0;var Co=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Co>>>26)|0,Co&=67108863,sr=Math.imul(Gr,Wr),Yt=Math.imul(Gr,sn),Yt=Yt+Math.imul(zr,Wr)|0,ur=Math.imul(zr,sn),sr=sr+Math.imul(Xr,Nn)|0,Yt=Yt+Math.imul(Xr,Zn)|0,Yt=Yt+Math.imul(Jr,Nn)|0,ur=ur+Math.imul(Jr,Zn)|0,sr=sr+Math.imul(Rr,ga)|0,Yt=Yt+Math.imul(Rr,ba)|0,Yt=Yt+Math.imul(Vr,ga)|0,ur=ur+Math.imul(Vr,ba)|0,sr=sr+Math.imul(Hr,io)|0,Yt=Yt+Math.imul(Hr,so)|0,Yt=Yt+Math.imul(Pr,io)|0,ur=ur+Math.imul(Pr,so)|0,sr=sr+Math.imul(Or,eo)|0,Yt=Yt+Math.imul(Or,oo)|0,Yt=Yt+Math.imul(Ar,eo)|0,ur=ur+Math.imul(Ar,oo)|0,sr=sr+Math.imul(yr,no)|0,Yt=Yt+Math.imul(yr,ao)|0,Yt=Yt+Math.imul(wr,no)|0,ur=ur+Math.imul(wr,ao)|0;var Po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Po>>>26)|0,Po&=67108863,sr=Math.imul(Qr,Wr),Yt=Math.imul(Qr,sn),Yt=Yt+Math.imul(Un,Wr)|0,ur=Math.imul(Un,sn),sr=sr+Math.imul(Gr,Nn)|0,Yt=Yt+Math.imul(Gr,Zn)|0,Yt=Yt+Math.imul(zr,Nn)|0,ur=ur+Math.imul(zr,Zn)|0,sr=sr+Math.imul(Xr,ga)|0,Yt=Yt+Math.imul(Xr,ba)|0,Yt=Yt+Math.imul(Jr,ga)|0,ur=ur+Math.imul(Jr,ba)|0,sr=sr+Math.imul(Rr,io)|0,Yt=Yt+Math.imul(Rr,so)|0,Yt=Yt+Math.imul(Vr,io)|0,ur=ur+Math.imul(Vr,so)|0,sr=sr+Math.imul(Hr,eo)|0,Yt=Yt+Math.imul(Hr,oo)|0,Yt=Yt+Math.imul(Pr,eo)|0,ur=ur+Math.imul(Pr,oo)|0,sr=sr+Math.imul(Or,no)|0,Yt=Yt+Math.imul(Or,ao)|0,Yt=Yt+Math.imul(Ar,no)|0,ur=ur+Math.imul(Ar,ao)|0,sr=sr+Math.imul(yr,dn)|0,Yt=Yt+Math.imul(yr,Ln)|0,Yt=Yt+Math.imul(wr,dn)|0,ur=ur+Math.imul(wr,Ln)|0;var Fo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,sr=Math.imul(Hn,Wr),Yt=Math.imul(Hn,sn),Yt=Yt+Math.imul(Qn,Wr)|0,ur=Math.imul(Qn,sn),sr=sr+Math.imul(Qr,Nn)|0,Yt=Yt+Math.imul(Qr,Zn)|0,Yt=Yt+Math.imul(Un,Nn)|0,ur=ur+Math.imul(Un,Zn)|0,sr=sr+Math.imul(Gr,ga)|0,Yt=Yt+Math.imul(Gr,ba)|0,Yt=Yt+Math.imul(zr,ga)|0,ur=ur+Math.imul(zr,ba)|0,sr=sr+Math.imul(Xr,io)|0,Yt=Yt+Math.imul(Xr,so)|0,Yt=Yt+Math.imul(Jr,io)|0,ur=ur+Math.imul(Jr,so)|0,sr=sr+Math.imul(Rr,eo)|0,Yt=Yt+Math.imul(Rr,oo)|0,Yt=Yt+Math.imul(Vr,eo)|0,ur=ur+Math.imul(Vr,oo)|0,sr=sr+Math.imul(Hr,no)|0,Yt=Yt+Math.imul(Hr,ao)|0,Yt=Yt+Math.imul(Pr,no)|0,ur=ur+Math.imul(Pr,ao)|0,sr=sr+Math.imul(Or,dn)|0,Yt=Yt+Math.imul(Or,Ln)|0,Yt=Yt+Math.imul(Ar,dn)|0,ur=ur+Math.imul(Ar,Ln)|0,sr=sr+Math.imul(yr,Lr)|0,Yt=Yt+Math.imul(yr,qr)|0,Yt=Yt+Math.imul(wr,Lr)|0,ur=ur+Math.imul(wr,qr)|0;var Do=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Do>>>26)|0,Do&=67108863,sr=Math.imul(Kn,Wr),Yt=Math.imul(Kn,sn),Yt=Yt+Math.imul(_i,Wr)|0,ur=Math.imul(_i,sn),sr=sr+Math.imul(Hn,Nn)|0,Yt=Yt+Math.imul(Hn,Zn)|0,Yt=Yt+Math.imul(Qn,Nn)|0,ur=ur+Math.imul(Qn,Zn)|0,sr=sr+Math.imul(Qr,ga)|0,Yt=Yt+Math.imul(Qr,ba)|0,Yt=Yt+Math.imul(Un,ga)|0,ur=ur+Math.imul(Un,ba)|0,sr=sr+Math.imul(Gr,io)|0,Yt=Yt+Math.imul(Gr,so)|0,Yt=Yt+Math.imul(zr,io)|0,ur=ur+Math.imul(zr,so)|0,sr=sr+Math.imul(Xr,eo)|0,Yt=Yt+Math.imul(Xr,oo)|0,Yt=Yt+Math.imul(Jr,eo)|0,ur=ur+Math.imul(Jr,oo)|0,sr=sr+Math.imul(Rr,no)|0,Yt=Yt+Math.imul(Rr,ao)|0,Yt=Yt+Math.imul(Vr,no)|0,ur=ur+Math.imul(Vr,ao)|0,sr=sr+Math.imul(Hr,dn)|0,Yt=Yt+Math.imul(Hr,Ln)|0,Yt=Yt+Math.imul(Pr,dn)|0,ur=ur+Math.imul(Pr,Ln)|0,sr=sr+Math.imul(Or,Lr)|0,Yt=Yt+Math.imul(Or,qr)|0,Yt=Yt+Math.imul(Ar,Lr)|0,ur=ur+Math.imul(Ar,qr)|0,sr=sr+Math.imul(yr,Ur)|0,Yt=Yt+Math.imul(yr,rn)|0,Yt=Yt+Math.imul(wr,Ur)|0,ur=ur+Math.imul(wr,rn)|0;var ko=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(ko>>>26)|0,ko&=67108863,sr=Math.imul(jr,Wr),Yt=Math.imul(jr,sn),Yt=Yt+Math.imul(Tr,Wr)|0,ur=Math.imul(Tr,sn),sr=sr+Math.imul(Kn,Nn)|0,Yt=Yt+Math.imul(Kn,Zn)|0,Yt=Yt+Math.imul(_i,Nn)|0,ur=ur+Math.imul(_i,Zn)|0,sr=sr+Math.imul(Hn,ga)|0,Yt=Yt+Math.imul(Hn,ba)|0,Yt=Yt+Math.imul(Qn,ga)|0,ur=ur+Math.imul(Qn,ba)|0,sr=sr+Math.imul(Qr,io)|0,Yt=Yt+Math.imul(Qr,so)|0,Yt=Yt+Math.imul(Un,io)|0,ur=ur+Math.imul(Un,so)|0,sr=sr+Math.imul(Gr,eo)|0,Yt=Yt+Math.imul(Gr,oo)|0,Yt=Yt+Math.imul(zr,eo)|0,ur=ur+Math.imul(zr,oo)|0,sr=sr+Math.imul(Xr,no)|0,Yt=Yt+Math.imul(Xr,ao)|0,Yt=Yt+Math.imul(Jr,no)|0,ur=ur+Math.imul(Jr,ao)|0,sr=sr+Math.imul(Rr,dn)|0,Yt=Yt+Math.imul(Rr,Ln)|0,Yt=Yt+Math.imul(Vr,dn)|0,ur=ur+Math.imul(Vr,Ln)|0,sr=sr+Math.imul(Hr,Lr)|0,Yt=Yt+Math.imul(Hr,qr)|0,Yt=Yt+Math.imul(Pr,Lr)|0,ur=ur+Math.imul(Pr,qr)|0,sr=sr+Math.imul(Or,Ur)|0,Yt=Yt+Math.imul(Or,rn)|0,Yt=Yt+Math.imul(Ar,Ur)|0,ur=ur+Math.imul(Ar,rn)|0,sr=sr+Math.imul(yr,pn)|0,Yt=Yt+Math.imul(yr,Vn)|0,Yt=Yt+Math.imul(wr,pn)|0,ur=ur+Math.imul(wr,Vn)|0;var Mo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,sr=Math.imul(jr,Nn),Yt=Math.imul(jr,Zn),Yt=Yt+Math.imul(Tr,Nn)|0,ur=Math.imul(Tr,Zn),sr=sr+Math.imul(Kn,ga)|0,Yt=Yt+Math.imul(Kn,ba)|0,Yt=Yt+Math.imul(_i,ga)|0,ur=ur+Math.imul(_i,ba)|0,sr=sr+Math.imul(Hn,io)|0,Yt=Yt+Math.imul(Hn,so)|0,Yt=Yt+Math.imul(Qn,io)|0,ur=ur+Math.imul(Qn,so)|0,sr=sr+Math.imul(Qr,eo)|0,Yt=Yt+Math.imul(Qr,oo)|0,Yt=Yt+Math.imul(Un,eo)|0,ur=ur+Math.imul(Un,oo)|0,sr=sr+Math.imul(Gr,no)|0,Yt=Yt+Math.imul(Gr,ao)|0,Yt=Yt+Math.imul(zr,no)|0,ur=ur+Math.imul(zr,ao)|0,sr=sr+Math.imul(Xr,dn)|0,Yt=Yt+Math.imul(Xr,Ln)|0,Yt=Yt+Math.imul(Jr,dn)|0,ur=ur+Math.imul(Jr,Ln)|0,sr=sr+Math.imul(Rr,Lr)|0,Yt=Yt+Math.imul(Rr,qr)|0,Yt=Yt+Math.imul(Vr,Lr)|0,ur=ur+Math.imul(Vr,qr)|0,sr=sr+Math.imul(Hr,Ur)|0,Yt=Yt+Math.imul(Hr,rn)|0,Yt=Yt+Math.imul(Pr,Ur)|0,ur=ur+Math.imul(Pr,rn)|0,sr=sr+Math.imul(Or,pn)|0,Yt=Yt+Math.imul(Or,Vn)|0,Yt=Yt+Math.imul(Ar,pn)|0,ur=ur+Math.imul(Ar,Vn)|0;var Oo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,sr=Math.imul(jr,ga),Yt=Math.imul(jr,ba),Yt=Yt+Math.imul(Tr,ga)|0,ur=Math.imul(Tr,ba),sr=sr+Math.imul(Kn,io)|0,Yt=Yt+Math.imul(Kn,so)|0,Yt=Yt+Math.imul(_i,io)|0,ur=ur+Math.imul(_i,so)|0,sr=sr+Math.imul(Hn,eo)|0,Yt=Yt+Math.imul(Hn,oo)|0,Yt=Yt+Math.imul(Qn,eo)|0,ur=ur+Math.imul(Qn,oo)|0,sr=sr+Math.imul(Qr,no)|0,Yt=Yt+Math.imul(Qr,ao)|0,Yt=Yt+Math.imul(Un,no)|0,ur=ur+Math.imul(Un,ao)|0,sr=sr+Math.imul(Gr,dn)|0,Yt=Yt+Math.imul(Gr,Ln)|0,Yt=Yt+Math.imul(zr,dn)|0,ur=ur+Math.imul(zr,Ln)|0,sr=sr+Math.imul(Xr,Lr)|0,Yt=Yt+Math.imul(Xr,qr)|0,Yt=Yt+Math.imul(Jr,Lr)|0,ur=ur+Math.imul(Jr,qr)|0,sr=sr+Math.imul(Rr,Ur)|0,Yt=Yt+Math.imul(Rr,rn)|0,Yt=Yt+Math.imul(Vr,Ur)|0,ur=ur+Math.imul(Vr,rn)|0,sr=sr+Math.imul(Hr,pn)|0,Yt=Yt+Math.imul(Hr,Vn)|0,Yt=Yt+Math.imul(Pr,pn)|0,ur=ur+Math.imul(Pr,Vn)|0;var xo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(xo>>>26)|0,xo&=67108863,sr=Math.imul(jr,io),Yt=Math.imul(jr,so),Yt=Yt+Math.imul(Tr,io)|0,ur=Math.imul(Tr,so),sr=sr+Math.imul(Kn,eo)|0,Yt=Yt+Math.imul(Kn,oo)|0,Yt=Yt+Math.imul(_i,eo)|0,ur=ur+Math.imul(_i,oo)|0,sr=sr+Math.imul(Hn,no)|0,Yt=Yt+Math.imul(Hn,ao)|0,Yt=Yt+Math.imul(Qn,no)|0,ur=ur+Math.imul(Qn,ao)|0,sr=sr+Math.imul(Qr,dn)|0,Yt=Yt+Math.imul(Qr,Ln)|0,Yt=Yt+Math.imul(Un,dn)|0,ur=ur+Math.imul(Un,Ln)|0,sr=sr+Math.imul(Gr,Lr)|0,Yt=Yt+Math.imul(Gr,qr)|0,Yt=Yt+Math.imul(zr,Lr)|0,ur=ur+Math.imul(zr,qr)|0,sr=sr+Math.imul(Xr,Ur)|0,Yt=Yt+Math.imul(Xr,rn)|0,Yt=Yt+Math.imul(Jr,Ur)|0,ur=ur+Math.imul(Jr,rn)|0,sr=sr+Math.imul(Rr,pn)|0,Yt=Yt+Math.imul(Rr,Vn)|0,Yt=Yt+Math.imul(Vr,pn)|0,ur=ur+Math.imul(Vr,Vn)|0;var Ro=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,sr=Math.imul(jr,eo),Yt=Math.imul(jr,oo),Yt=Yt+Math.imul(Tr,eo)|0,ur=Math.imul(Tr,oo),sr=sr+Math.imul(Kn,no)|0,Yt=Yt+Math.imul(Kn,ao)|0,Yt=Yt+Math.imul(_i,no)|0,ur=ur+Math.imul(_i,ao)|0,sr=sr+Math.imul(Hn,dn)|0,Yt=Yt+Math.imul(Hn,Ln)|0,Yt=Yt+Math.imul(Qn,dn)|0,ur=ur+Math.imul(Qn,Ln)|0,sr=sr+Math.imul(Qr,Lr)|0,Yt=Yt+Math.imul(Qr,qr)|0,Yt=Yt+Math.imul(Un,Lr)|0,ur=ur+Math.imul(Un,qr)|0,sr=sr+Math.imul(Gr,Ur)|0,Yt=Yt+Math.imul(Gr,rn)|0,Yt=Yt+Math.imul(zr,Ur)|0,ur=ur+Math.imul(zr,rn)|0,sr=sr+Math.imul(Xr,pn)|0,Yt=Yt+Math.imul(Xr,Vn)|0,Yt=Yt+Math.imul(Jr,pn)|0,ur=ur+Math.imul(Jr,Vn)|0;var So=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(So>>>26)|0,So&=67108863,sr=Math.imul(jr,no),Yt=Math.imul(jr,ao),Yt=Yt+Math.imul(Tr,no)|0,ur=Math.imul(Tr,ao),sr=sr+Math.imul(Kn,dn)|0,Yt=Yt+Math.imul(Kn,Ln)|0,Yt=Yt+Math.imul(_i,dn)|0,ur=ur+Math.imul(_i,Ln)|0,sr=sr+Math.imul(Hn,Lr)|0,Yt=Yt+Math.imul(Hn,qr)|0,Yt=Yt+Math.imul(Qn,Lr)|0,ur=ur+Math.imul(Qn,qr)|0,sr=sr+Math.imul(Qr,Ur)|0,Yt=Yt+Math.imul(Qr,rn)|0,Yt=Yt+Math.imul(Un,Ur)|0,ur=ur+Math.imul(Un,rn)|0,sr=sr+Math.imul(Gr,pn)|0,Yt=Yt+Math.imul(Gr,Vn)|0,Yt=Yt+Math.imul(zr,pn)|0,ur=ur+Math.imul(zr,Vn)|0;var po=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(po>>>26)|0,po&=67108863,sr=Math.imul(jr,dn),Yt=Math.imul(jr,Ln),Yt=Yt+Math.imul(Tr,dn)|0,ur=Math.imul(Tr,Ln),sr=sr+Math.imul(Kn,Lr)|0,Yt=Yt+Math.imul(Kn,qr)|0,Yt=Yt+Math.imul(_i,Lr)|0,ur=ur+Math.imul(_i,qr)|0,sr=sr+Math.imul(Hn,Ur)|0,Yt=Yt+Math.imul(Hn,rn)|0,Yt=Yt+Math.imul(Qn,Ur)|0,ur=ur+Math.imul(Qn,rn)|0,sr=sr+Math.imul(Qr,pn)|0,Yt=Yt+Math.imul(Qr,Vn)|0,Yt=Yt+Math.imul(Un,pn)|0,ur=ur+Math.imul(Un,Vn)|0;var vo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(vo>>>26)|0,vo&=67108863,sr=Math.imul(jr,Lr),Yt=Math.imul(jr,qr),Yt=Yt+Math.imul(Tr,Lr)|0,ur=Math.imul(Tr,qr),sr=sr+Math.imul(Kn,Ur)|0,Yt=Yt+Math.imul(Kn,rn)|0,Yt=Yt+Math.imul(_i,Ur)|0,ur=ur+Math.imul(_i,rn)|0,sr=sr+Math.imul(Hn,pn)|0,Yt=Yt+Math.imul(Hn,Vn)|0,Yt=Yt+Math.imul(Qn,pn)|0,ur=ur+Math.imul(Qn,Vn)|0;var wo=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(wo>>>26)|0,wo&=67108863,sr=Math.imul(jr,Ur),Yt=Math.imul(jr,rn),Yt=Yt+Math.imul(Tr,Ur)|0,ur=Math.imul(Tr,rn),sr=sr+Math.imul(Kn,pn)|0,Yt=Yt+Math.imul(Kn,Vn)|0,Yt=Yt+Math.imul(_i,pn)|0,ur=ur+Math.imul(_i,Vn)|0;var to=(fr+sr|0)+((Yt&8191)<<13)|0;fr=(ur+(Yt>>>13)|0)+(to>>>26)|0,to&=67108863,sr=Math.imul(jr,pn),Yt=Math.imul(jr,Vn),Yt=Yt+Math.imul(Tr,pn)|0,ur=Math.imul(Tr,Vn);var _a=(fr+sr|0)+((Yt&8191)<<13)|0;return fr=(ur+(Yt>>>13)|0)+(_a>>>26)|0,_a&=67108863,cr[0]=co,cr[1]=uo,cr[2]=Eo,cr[3]=ho,cr[4]=Co,cr[5]=Po,cr[6]=Fo,cr[7]=Do,cr[8]=ko,cr[9]=Mo,cr[10]=Oo,cr[11]=xo,cr[12]=Ro,cr[13]=So,cr[14]=po,cr[15]=vo,cr[16]=wo,cr[17]=to,cr[18]=_a,fr!==0&&(cr[19]=fr,nr.length++),nr};Math.imul||(lr=or);function dr(gr,Ut,tr){tr.negative=Ut.negative^gr.negative,tr.length=gr.length+Ut.length;for(var nr=0,rr=0,ar=0;ar<tr.length-1;ar++){var cr=rr;rr=0;for(var fr=nr&67108863,sr=Math.min(ar,Ut.length-1),Yt=Math.max(0,ar-gr.length+1);Yt<=sr;Yt++){var ur=ar-Yt,_r=gr.words[ur]|0,yr=Ut.words[Yt]|0,wr=_r*yr,Ir=wr&67108863;cr=cr+(wr/67108864|0)|0,Ir=Ir+fr|0,fr=Ir&67108863,cr=cr+(Ir>>>26)|0,rr+=cr>>>26,cr&=67108863}tr.words[ar]=fr,nr=cr,cr=rr}return nr!==0?tr.words[ar]=nr:tr.length--,tr.strip()}function pr(gr,Ut,tr){var nr=new hr;return nr.mulp(gr,Ut,tr)}Ct.prototype.mulTo=function(Ut,tr){var nr,rr=this.length+Ut.length;return this.length===10&&Ut.length===10?nr=lr(this,Ut,tr):rr<63?nr=or(this,Ut,tr):rr<1024?nr=dr(this,Ut,tr):nr=pr(this,Ut,tr),nr};function hr(gr,Ut){this.x=gr,this.y=Ut}hr.prototype.makeRBT=function(Ut){for(var tr=new Array(Ut),nr=Ct.prototype._countBits(Ut)-1,rr=0;rr<Ut;rr++)tr[rr]=this.revBin(rr,nr,Ut);return tr},hr.prototype.revBin=function(Ut,tr,nr){if(Ut===0||Ut===nr-1)return Ut;for(var rr=0,ar=0;ar<tr;ar++)rr|=(Ut&1)<<tr-ar-1,Ut>>=1;return rr},hr.prototype.permute=function(Ut,tr,nr,rr,ar,cr){for(var fr=0;fr<cr;fr++)rr[fr]=tr[Ut[fr]],ar[fr]=nr[Ut[fr]]},hr.prototype.transform=function(Ut,tr,nr,rr,ar,cr){this.permute(cr,Ut,tr,nr,rr,ar);for(var fr=1;fr<ar;fr<<=1)for(var sr=fr<<1,Yt=Math.cos(2*Math.PI/sr),ur=Math.sin(2*Math.PI/sr),_r=0;_r<ar;_r+=sr)for(var yr=Yt,wr=ur,Ir=0;Ir<fr;Ir++){var Or=nr[_r+Ir],Ar=rr[_r+Ir],Nr=nr[_r+Ir+fr],Hr=rr[_r+Ir+fr],Pr=yr*Nr-wr*Hr;Hr=yr*Hr+wr*Nr,Nr=Pr,nr[_r+Ir]=Or+Nr,rr[_r+Ir]=Ar+Hr,nr[_r+Ir+fr]=Or-Nr,rr[_r+Ir+fr]=Ar-Hr,Ir!==sr&&(Pr=Yt*yr-ur*wr,wr=Yt*wr+ur*yr,yr=Pr)}},hr.prototype.guessLen13b=function(Ut,tr){var nr=Math.max(tr,Ut)|1,rr=nr&1,ar=0;for(nr=nr/2|0;nr;nr=nr>>>1)ar++;return 1<<ar+1+rr},hr.prototype.conjugate=function(Ut,tr,nr){if(!(nr<=1))for(var rr=0;rr<nr/2;rr++){var ar=Ut[rr];Ut[rr]=Ut[nr-rr-1],Ut[nr-rr-1]=ar,ar=tr[rr],tr[rr]=-tr[nr-rr-1],tr[nr-rr-1]=-ar}},hr.prototype.normalize13b=function(Ut,tr){for(var nr=0,rr=0;rr<tr/2;rr++){var ar=Math.round(Ut[2*rr+1]/tr)*8192+Math.round(Ut[2*rr]/tr)+nr;Ut[rr]=ar&67108863,ar<67108864?nr=0:nr=ar/67108864|0}return Ut},hr.prototype.convert13b=function(Ut,tr,nr,rr){for(var ar=0,cr=0;cr<tr;cr++)ar=ar+(Ut[cr]|0),nr[2*cr]=ar&8191,ar=ar>>>13,nr[2*cr+1]=ar&8191,ar=ar>>>13;for(cr=2*tr;cr<rr;++cr)nr[cr]=0;mt(ar===0),mt((ar&-8192)===0)},hr.prototype.stub=function(Ut){for(var tr=new Array(Ut),nr=0;nr<Ut;nr++)tr[nr]=0;return tr},hr.prototype.mulp=function(Ut,tr,nr){var rr=2*this.guessLen13b(Ut.length,tr.length),ar=this.makeRBT(rr),cr=this.stub(rr),fr=new Array(rr),sr=new Array(rr),Yt=new Array(rr),ur=new Array(rr),_r=new Array(rr),yr=new Array(rr),wr=nr.words;wr.length=rr,this.convert13b(Ut.words,Ut.length,fr,rr),this.convert13b(tr.words,tr.length,ur,rr),this.transform(fr,cr,sr,Yt,rr,ar),this.transform(ur,cr,_r,yr,rr,ar);for(var Ir=0;Ir<rr;Ir++){var Or=sr[Ir]*_r[Ir]-Yt[Ir]*yr[Ir];Yt[Ir]=sr[Ir]*yr[Ir]+Yt[Ir]*_r[Ir],sr[Ir]=Or}return this.conjugate(sr,Yt,rr),this.transform(sr,Yt,wr,cr,rr,ar),this.conjugate(wr,cr,rr),this.normalize13b(wr,rr),nr.negative=Ut.negative^tr.negative,nr.length=Ut.length+tr.length,nr.strip()},Ct.prototype.mul=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),this.mulTo(Ut,tr)},Ct.prototype.mulf=function(Ut){var tr=new Ct(null);return tr.words=new Array(this.length+Ut.length),pr(this,Ut,tr)},Ct.prototype.imul=function(Ut){return this.clone().mulTo(Ut,this)},Ct.prototype.imuln=function(Ut){mt(typeof Ut=="number"),mt(Ut<67108864);for(var tr=0,nr=0;nr<this.length;nr++){var rr=(this.words[nr]|0)*Ut,ar=(rr&67108863)+(tr&67108863);tr>>=26,tr+=rr/67108864|0,tr+=ar>>>26,this.words[nr]=ar&67108863}return tr!==0&&(this.words[nr]=tr,this.length++),this},Ct.prototype.muln=function(Ut){return this.clone().imuln(Ut)},Ct.prototype.sqr=function(){return this.mul(this)},Ct.prototype.isqr=function(){return this.imul(this.clone())},Ct.prototype.pow=function(Ut){var tr=ir(Ut);if(tr.length===0)return new Ct(1);for(var nr=this,rr=0;rr<tr.length&&tr[rr]===0;rr++,nr=nr.sqr());if(++rr<tr.length)for(var ar=nr.sqr();rr<tr.length;rr++,ar=ar.sqr())tr[rr]!==0&&(nr=nr.mul(ar));return nr},Ct.prototype.iushln=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=67108863>>>26-tr<<26-tr,ar;if(tr!==0){var cr=0;for(ar=0;ar<this.length;ar++){var fr=this.words[ar]&rr,sr=(this.words[ar]|0)-fr<<tr;this.words[ar]=sr|cr,cr=fr>>>26-tr}cr&&(this.words[ar]=cr,this.length++)}if(nr!==0){for(ar=this.length-1;ar>=0;ar--)this.words[ar+nr]=this.words[ar];for(ar=0;ar<nr;ar++)this.words[ar]=0;this.length+=nr}return this.strip()},Ct.prototype.ishln=function(Ut){return mt(this.negative===0),this.iushln(Ut)},Ct.prototype.iushrn=function(Ut,tr,nr){mt(typeof Ut=="number"&&Ut>=0);var rr;tr?rr=(tr-tr%26)/26:rr=0;var ar=Ut%26,cr=Math.min((Ut-ar)/26,this.length),fr=67108863^67108863>>>ar<<ar,sr=nr;if(rr-=cr,rr=Math.max(0,rr),sr){for(var Yt=0;Yt<cr;Yt++)sr.words[Yt]=this.words[Yt];sr.length=cr}if(cr!==0)if(this.length>cr)for(this.length-=cr,Yt=0;Yt<this.length;Yt++)this.words[Yt]=this.words[Yt+cr];else this.words[0]=0,this.length=1;var ur=0;for(Yt=this.length-1;Yt>=0&&(ur!==0||Yt>=rr);Yt--){var _r=this.words[Yt]|0;this.words[Yt]=ur<<26-ar|_r>>>ar,ur=_r&fr}return sr&&ur!==0&&(sr.words[sr.length++]=ur),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},Ct.prototype.ishrn=function(Ut,tr,nr){return mt(this.negative===0),this.iushrn(Ut,tr,nr)},Ct.prototype.shln=function(Ut){return this.clone().ishln(Ut)},Ct.prototype.ushln=function(Ut){return this.clone().iushln(Ut)},Ct.prototype.shrn=function(Ut){return this.clone().ishrn(Ut)},Ct.prototype.ushrn=function(Ut){return this.clone().iushrn(Ut)},Ct.prototype.testn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return!1;var ar=this.words[nr];return!!(ar&rr)},Ct.prototype.imaskn=function(Ut){mt(typeof Ut=="number"&&Ut>=0);var tr=Ut%26,nr=(Ut-tr)/26;if(mt(this.negative===0,"imaskn works only with positive numbers"),this.length<=nr)return this;if(tr!==0&&nr++,this.length=Math.min(nr,this.length),tr!==0){var rr=67108863^67108863>>>tr<<tr;this.words[this.length-1]&=rr}return this.strip()},Ct.prototype.maskn=function(Ut){return this.clone().imaskn(Ut)},Ct.prototype.iaddn=function(Ut){return mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0?this.isubn(-Ut):this.negative!==0?this.length===1&&(this.words[0]|0)<Ut?(this.words[0]=Ut-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Ut),this.negative=1,this):this._iaddn(Ut)},Ct.prototype._iaddn=function(Ut){this.words[0]+=Ut;for(var tr=0;tr<this.length&&this.words[tr]>=67108864;tr++)this.words[tr]-=67108864,tr===this.length-1?this.words[tr+1]=1:this.words[tr+1]++;return this.length=Math.max(this.length,tr+1),this},Ct.prototype.isubn=function(Ut){if(mt(typeof Ut=="number"),mt(Ut<67108864),Ut<0)return this.iaddn(-Ut);if(this.negative!==0)return this.negative=0,this.iaddn(Ut),this.negative=1,this;if(this.words[0]-=Ut,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var tr=0;tr<this.length&&this.words[tr]<0;tr++)this.words[tr]+=67108864,this.words[tr+1]-=1;return this.strip()},Ct.prototype.addn=function(Ut){return this.clone().iaddn(Ut)},Ct.prototype.subn=function(Ut){return this.clone().isubn(Ut)},Ct.prototype.iabs=function(){return this.negative=0,this},Ct.prototype.abs=function(){return this.clone().iabs()},Ct.prototype._ishlnsubmul=function(Ut,tr,nr){var rr=Ut.length+nr,ar;this._expand(rr);var cr,fr=0;for(ar=0;ar<Ut.length;ar++){cr=(this.words[ar+nr]|0)+fr;var sr=(Ut.words[ar]|0)*tr;cr-=sr&67108863,fr=(cr>>26)-(sr/67108864|0),this.words[ar+nr]=cr&67108863}for(;ar<this.length-nr;ar++)cr=(this.words[ar+nr]|0)+fr,fr=cr>>26,this.words[ar+nr]=cr&67108863;if(fr===0)return this.strip();for(mt(fr===-1),fr=0,ar=0;ar<this.length;ar++)cr=-(this.words[ar]|0)+fr,fr=cr>>26,this.words[ar]=cr&67108863;return this.negative=1,this.strip()},Ct.prototype._wordDiv=function(Ut,tr){var nr=this.length-Ut.length,rr=this.clone(),ar=Ut,cr=ar.words[ar.length-1]|0,fr=this._countBits(cr);nr=26-fr,nr!==0&&(ar=ar.ushln(nr),rr.iushln(nr),cr=ar.words[ar.length-1]|0);var sr=rr.length-ar.length,Yt;if(tr!=="mod"){Yt=new Ct(null),Yt.length=sr+1,Yt.words=new Array(Yt.length);for(var ur=0;ur<Yt.length;ur++)Yt.words[ur]=0}var _r=rr.clone()._ishlnsubmul(ar,1,sr);_r.negative===0&&(rr=_r,Yt&&(Yt.words[sr]=1));for(var yr=sr-1;yr>=0;yr--){var wr=(rr.words[ar.length+yr]|0)*67108864+(rr.words[ar.length+yr-1]|0);for(wr=Math.min(wr/cr|0,67108863),rr._ishlnsubmul(ar,wr,yr);rr.negative!==0;)wr--,rr.negative=0,rr._ishlnsubmul(ar,1,yr),rr.isZero()||(rr.negative^=1);Yt&&(Yt.words[yr]=wr)}return Yt&&Yt.strip(),rr.strip(),tr!=="div"&&nr!==0&&rr.iushrn(nr),{div:Yt||null,mod:rr}},Ct.prototype.divmod=function(Ut,tr,nr){if(mt(!Ut.isZero()),this.isZero())return{div:new Ct(0),mod:new Ct(0)};var rr,ar,cr;return this.negative!==0&&Ut.negative===0?(cr=this.neg().divmod(Ut,tr),tr!=="mod"&&(rr=cr.div.neg()),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.iadd(Ut)),{div:rr,mod:ar}):this.negative===0&&Ut.negative!==0?(cr=this.divmod(Ut.neg(),tr),tr!=="mod"&&(rr=cr.div.neg()),{div:rr,mod:cr.mod}):this.negative&Ut.negative?(cr=this.neg().divmod(Ut.neg(),tr),tr!=="div"&&(ar=cr.mod.neg(),nr&&ar.negative!==0&&ar.isub(Ut)),{div:cr.div,mod:ar}):Ut.length>this.length||this.cmp(Ut)<0?{div:new Ct(0),mod:this}:Ut.length===1?tr==="div"?{div:this.divn(Ut.words[0]),mod:null}:tr==="mod"?{div:null,mod:new Ct(this.modn(Ut.words[0]))}:{div:this.divn(Ut.words[0]),mod:new Ct(this.modn(Ut.words[0]))}:this._wordDiv(Ut,tr)},Ct.prototype.div=function(Ut){return this.divmod(Ut,"div",!1).div},Ct.prototype.mod=function(Ut){return this.divmod(Ut,"mod",!1).mod},Ct.prototype.umod=function(Ut){return this.divmod(Ut,"mod",!0).mod},Ct.prototype.divRound=function(Ut){var tr=this.divmod(Ut);if(tr.mod.isZero())return tr.div;var nr=tr.div.negative!==0?tr.mod.isub(Ut):tr.mod,rr=Ut.ushrn(1),ar=Ut.andln(1),cr=nr.cmp(rr);return cr<0||ar===1&&cr===0?tr.div:tr.div.negative!==0?tr.div.isubn(1):tr.div.iaddn(1)},Ct.prototype.modn=function(Ut){mt(Ut<=67108863);for(var tr=(1<<26)%Ut,nr=0,rr=this.length-1;rr>=0;rr--)nr=(tr*nr+(this.words[rr]|0))%Ut;return nr},Ct.prototype.idivn=function(Ut){mt(Ut<=67108863);for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=(this.words[nr]|0)+tr*67108864;this.words[nr]=rr/Ut|0,tr=rr%Ut}return this.strip()},Ct.prototype.divn=function(Ut){return this.clone().idivn(Ut)},Ct.prototype.egcd=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=new Ct(0),fr=new Ct(1),sr=0;tr.isEven()&&nr.isEven();)tr.iushrn(1),nr.iushrn(1),++sr;for(var Yt=nr.clone(),ur=tr.clone();!tr.isZero();){for(var _r=0,yr=1;!(tr.words[0]&yr)&&_r<26;++_r,yr<<=1);if(_r>0)for(tr.iushrn(_r);_r-- >0;)(rr.isOdd()||ar.isOdd())&&(rr.iadd(Yt),ar.isub(ur)),rr.iushrn(1),ar.iushrn(1);for(var wr=0,Ir=1;!(nr.words[0]&Ir)&&wr<26;++wr,Ir<<=1);if(wr>0)for(nr.iushrn(wr);wr-- >0;)(cr.isOdd()||fr.isOdd())&&(cr.iadd(Yt),fr.isub(ur)),cr.iushrn(1),fr.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(cr),ar.isub(fr)):(nr.isub(tr),cr.isub(rr),fr.isub(ar))}return{a:cr,b:fr,gcd:nr.iushln(sr)}},Ct.prototype._invmp=function(Ut){mt(Ut.negative===0),mt(!Ut.isZero());var tr=this,nr=Ut.clone();tr.negative!==0?tr=tr.umod(Ut):tr=tr.clone();for(var rr=new Ct(1),ar=new Ct(0),cr=nr.clone();tr.cmpn(1)>0&&nr.cmpn(1)>0;){for(var fr=0,sr=1;!(tr.words[0]&sr)&&fr<26;++fr,sr<<=1);if(fr>0)for(tr.iushrn(fr);fr-- >0;)rr.isOdd()&&rr.iadd(cr),rr.iushrn(1);for(var Yt=0,ur=1;!(nr.words[0]&ur)&&Yt<26;++Yt,ur<<=1);if(Yt>0)for(nr.iushrn(Yt);Yt-- >0;)ar.isOdd()&&ar.iadd(cr),ar.iushrn(1);tr.cmp(nr)>=0?(tr.isub(nr),rr.isub(ar)):(nr.isub(tr),ar.isub(rr))}var _r;return tr.cmpn(1)===0?_r=rr:_r=ar,_r.cmpn(0)<0&&_r.iadd(Ut),_r},Ct.prototype.gcd=function(Ut){if(this.isZero())return Ut.abs();if(Ut.isZero())return this.abs();var tr=this.clone(),nr=Ut.clone();tr.negative=0,nr.negative=0;for(var rr=0;tr.isEven()&&nr.isEven();rr++)tr.iushrn(1),nr.iushrn(1);do{for(;tr.isEven();)tr.iushrn(1);for(;nr.isEven();)nr.iushrn(1);var ar=tr.cmp(nr);if(ar<0){var cr=tr;tr=nr,nr=cr}else if(ar===0||nr.cmpn(1)===0)break;tr.isub(nr)}while(!0);return nr.iushln(rr)},Ct.prototype.invm=function(Ut){return this.egcd(Ut).a.umod(Ut)},Ct.prototype.isEven=function(){return(this.words[0]&1)===0},Ct.prototype.isOdd=function(){return(this.words[0]&1)===1},Ct.prototype.andln=function(Ut){return this.words[0]&Ut},Ct.prototype.bincn=function(Ut){mt(typeof Ut=="number");var tr=Ut%26,nr=(Ut-tr)/26,rr=1<<tr;if(this.length<=nr)return this._expand(nr+1),this.words[nr]|=rr,this;for(var ar=rr,cr=nr;ar!==0&&cr<this.length;cr++){var fr=this.words[cr]|0;fr+=ar,ar=fr>>>26,fr&=67108863,this.words[cr]=fr}return ar!==0&&(this.words[cr]=ar,this.length++),this},Ct.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Ct.prototype.cmpn=function(Ut){var tr=Ut<0;if(this.negative!==0&&!tr)return-1;if(this.negative===0&&tr)return 1;this.strip();var nr;if(this.length>1)nr=1;else{tr&&(Ut=-Ut),mt(Ut<=67108863,"Number is too big");var rr=this.words[0]|0;nr=rr===Ut?0:rr<Ut?-1:1}return this.negative!==0?-nr|0:nr},Ct.prototype.cmp=function(Ut){if(this.negative!==0&&Ut.negative===0)return-1;if(this.negative===0&&Ut.negative!==0)return 1;var tr=this.ucmp(Ut);return this.negative!==0?-tr|0:tr},Ct.prototype.ucmp=function(Ut){if(this.length>Ut.length)return 1;if(this.length<Ut.length)return-1;for(var tr=0,nr=this.length-1;nr>=0;nr--){var rr=this.words[nr]|0,ar=Ut.words[nr]|0;if(rr!==ar){rr<ar?tr=-1:rr>ar&&(tr=1);break}}return tr},Ct.prototype.gtn=function(Ut){return this.cmpn(Ut)===1},Ct.prototype.gt=function(Ut){return this.cmp(Ut)===1},Ct.prototype.gten=function(Ut){return this.cmpn(Ut)>=0},Ct.prototype.gte=function(Ut){return this.cmp(Ut)>=0},Ct.prototype.ltn=function(Ut){return this.cmpn(Ut)===-1},Ct.prototype.lt=function(Ut){return this.cmp(Ut)===-1},Ct.prototype.lten=function(Ut){return this.cmpn(Ut)<=0},Ct.prototype.lte=function(Ut){return this.cmp(Ut)<=0},Ct.prototype.eqn=function(Ut){return this.cmpn(Ut)===0},Ct.prototype.eq=function(Ut){return this.cmp(Ut)===0},Ct.red=function(Ut){return new Cr(Ut)},Ct.prototype.toRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),mt(this.negative===0,"red works only with positives"),Ut.convertTo(this)._forceRed(Ut)},Ct.prototype.fromRed=function(){return mt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Ct.prototype._forceRed=function(Ut){return this.red=Ut,this},Ct.prototype.forceRed=function(Ut){return mt(!this.red,"Already a number in reduction context"),this._forceRed(Ut)},Ct.prototype.redAdd=function(Ut){return mt(this.red,"redAdd works only with red numbers"),this.red.add(this,Ut)},Ct.prototype.redIAdd=function(Ut){return mt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Ut)},Ct.prototype.redSub=function(Ut){return mt(this.red,"redSub works only with red numbers"),this.red.sub(this,Ut)},Ct.prototype.redISub=function(Ut){return mt(this.red,"redISub works only with red numbers"),this.red.isub(this,Ut)},Ct.prototype.redShl=function(Ut){return mt(this.red,"redShl works only with red numbers"),this.red.shl(this,Ut)},Ct.prototype.redMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.mul(this,Ut)},Ct.prototype.redIMul=function(Ut){return mt(this.red,"redMul works only with red numbers"),this.red._verify2(this,Ut),this.red.imul(this,Ut)},Ct.prototype.redSqr=function(){return mt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Ct.prototype.redISqr=function(){return mt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Ct.prototype.redSqrt=function(){return mt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Ct.prototype.redInvm=function(){return mt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Ct.prototype.redNeg=function(){return mt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Ct.prototype.redPow=function(Ut){return mt(this.red&&!Ut.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Ut)};var vr={k256:null,p224:null,p192:null,p25519:null};function br(gr,Ut){this.name=gr,this.p=new Ct(Ut,16),this.n=this.p.bitLength(),this.k=new Ct(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var Ut=new Ct(null);return Ut.words=new Array(Math.ceil(this.n/13)),Ut},br.prototype.ireduce=function(Ut){var tr=Ut,nr;do this.split(tr,this.tmp),tr=this.imulK(tr),tr=tr.iadd(this.tmp),nr=tr.bitLength();while(nr>this.n);var rr=nr<this.n?-1:tr.ucmp(this.p);return rr===0?(tr.words[0]=0,tr.length=1):rr>0?tr.isub(this.p):tr.strip!==void 0?tr.strip():tr._strip(),tr},br.prototype.split=function(Ut,tr){Ut.iushrn(this.n,0,tr)},br.prototype.imulK=function(Ut){return Ut.imul(this.k)};function xr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$t(xr,br),xr.prototype.split=function(Ut,tr){for(var nr=4194303,rr=Math.min(Ut.length,9),ar=0;ar<rr;ar++)tr.words[ar]=Ut.words[ar];if(tr.length=rr,Ut.length<=9){Ut.words[0]=0,Ut.length=1;return}var cr=Ut.words[9];for(tr.words[tr.length++]=cr&nr,ar=10;ar<Ut.length;ar++){var fr=Ut.words[ar]|0;Ut.words[ar-10]=(fr&nr)<<4|cr>>>22,cr=fr}cr>>>=22,Ut.words[ar-10]=cr,cr===0&&Ut.length>10?Ut.length-=10:Ut.length-=9},xr.prototype.imulK=function(Ut){Ut.words[Ut.length]=0,Ut.words[Ut.length+1]=0,Ut.length+=2;for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=Ut.words[nr]|0;tr+=rr*977,Ut.words[nr]=tr&67108863,tr=rr*64+(tr/67108864|0)}return Ut.words[Ut.length-1]===0&&(Ut.length--,Ut.words[Ut.length-1]===0&&Ut.length--),Ut};function Sr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$t(Sr,br);function Er(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$t(Er,br);function $r(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$t($r,br),$r.prototype.imulK=function(Ut){for(var tr=0,nr=0;nr<Ut.length;nr++){var rr=(Ut.words[nr]|0)*19+tr,ar=rr&67108863;rr>>>=26,Ut.words[nr]=ar,tr=rr}return tr!==0&&(Ut.words[Ut.length++]=tr),Ut},Ct._prime=function(Ut){if(vr[Ut])return vr[Ut];var tr;if(Ut==="k256")tr=new xr;else if(Ut==="p224")tr=new Sr;else if(Ut==="p192")tr=new Er;else if(Ut==="p25519")tr=new $r;else throw new Error("Unknown prime "+Ut);return vr[Ut]=tr,tr};function Cr(gr){if(typeof gr=="string"){var Ut=Ct._prime(gr);this.m=Ut.p,this.prime=Ut}else mt(gr.gtn(1),"modulus must be greater than 1"),this.m=gr,this.prime=null}Cr.prototype._verify1=function(Ut){mt(Ut.negative===0,"red works only with positives"),mt(Ut.red,"red works only with red numbers")},Cr.prototype._verify2=function(Ut,tr){mt((Ut.negative|tr.negative)===0,"red works only with positives"),mt(Ut.red&&Ut.red===tr.red,"red works only with red numbers")},Cr.prototype.imod=function(Ut){return this.prime?this.prime.ireduce(Ut)._forceRed(this):Ut.umod(this.m)._forceRed(this)},Cr.prototype.neg=function(Ut){return Ut.isZero()?Ut.clone():this.m.sub(Ut)._forceRed(this)},Cr.prototype.add=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.add(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr._forceRed(this)},Cr.prototype.iadd=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.iadd(tr);return nr.cmp(this.m)>=0&&nr.isub(this.m),nr},Cr.prototype.sub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.sub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr._forceRed(this)},Cr.prototype.isub=function(Ut,tr){this._verify2(Ut,tr);var nr=Ut.isub(tr);return nr.cmpn(0)<0&&nr.iadd(this.m),nr},Cr.prototype.shl=function(Ut,tr){return this._verify1(Ut),this.imod(Ut.ushln(tr))},Cr.prototype.imul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.imul(tr))},Cr.prototype.mul=function(Ut,tr){return this._verify2(Ut,tr),this.imod(Ut.mul(tr))},Cr.prototype.isqr=function(Ut){return this.imul(Ut,Ut.clone())},Cr.prototype.sqr=function(Ut){return this.mul(Ut,Ut)},Cr.prototype.sqrt=function(Ut){if(Ut.isZero())return Ut.clone();var tr=this.m.andln(3);if(mt(tr%2===1),tr===3){var nr=this.m.add(new Ct(1)).iushrn(2);return this.pow(Ut,nr)}for(var rr=this.m.subn(1),ar=0;!rr.isZero()&&rr.andln(1)===0;)ar++,rr.iushrn(1);mt(!rr.isZero());var cr=new Ct(1).toRed(this),fr=cr.redNeg(),sr=this.m.subn(1).iushrn(1),Yt=this.m.bitLength();for(Yt=new Ct(2*Yt*Yt).toRed(this);this.pow(Yt,sr).cmp(fr)!==0;)Yt.redIAdd(fr);for(var ur=this.pow(Yt,rr),_r=this.pow(Ut,rr.addn(1).iushrn(1)),yr=this.pow(Ut,rr),wr=ar;yr.cmp(cr)!==0;){for(var Ir=yr,Or=0;Ir.cmp(cr)!==0;Or++)Ir=Ir.redSqr();mt(Or<wr);var Ar=this.pow(ur,new Ct(1).iushln(wr-Or-1));_r=_r.redMul(Ar),ur=Ar.redSqr(),yr=yr.redMul(ur),wr=Or}return _r},Cr.prototype.invm=function(Ut){var tr=Ut._invmp(this.m);return tr.negative!==0?(tr.negative=0,this.imod(tr).redNeg()):this.imod(tr)},Cr.prototype.pow=function(Ut,tr){if(tr.isZero())return new Ct(1).toRed(this);if(tr.cmpn(1)===0)return Ut.clone();var nr=4,rr=new Array(1<<nr);rr[0]=new Ct(1).toRed(this),rr[1]=Ut;for(var ar=2;ar<rr.length;ar++)rr[ar]=this.mul(rr[ar-1],Ut);var cr=rr[0],fr=0,sr=0,Yt=tr.bitLength()%26;for(Yt===0&&(Yt=26),ar=tr.length-1;ar>=0;ar--){for(var ur=tr.words[ar],_r=Yt-1;_r>=0;_r--){var yr=ur>>_r&1;if(cr!==rr[0]&&(cr=this.sqr(cr)),yr===0&&fr===0){sr=0;continue}fr<<=1,fr|=yr,sr++,!(sr!==nr&&(ar!==0||_r!==0))&&(cr=this.mul(cr,rr[fr]),sr=0,fr=0)}Yt=26}return cr},Cr.prototype.convertTo=function(Ut){var tr=Ut.umod(this.m);return tr===Ut?tr.clone():tr},Cr.prototype.convertFrom=function(Ut){var tr=Ut.clone();return tr.red=null,tr},Ct.mont=function(Ut){return new kr(Ut)};function kr(gr){Cr.call(this,gr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Ct(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$t(kr,Cr),kr.prototype.convertTo=function(Ut){return this.imod(Ut.ushln(this.shift))},kr.prototype.convertFrom=function(Ut){var tr=this.imod(Ut.mul(this.rinv));return tr.red=null,tr},kr.prototype.imul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return Ut.words[0]=0,Ut.length=1,Ut;var nr=Ut.imul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.mul=function(Ut,tr){if(Ut.isZero()||tr.isZero())return new Ct(0)._forceRed(this);var nr=Ut.mul(tr),rr=nr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ar=nr.isub(rr).iushrn(this.shift),cr=ar;return ar.cmp(this.m)>=0?cr=ar.isub(this.m):ar.cmpn(0)<0&&(cr=ar.iadd(this.m)),cr._forceRed(this)},kr.prototype.invm=function(Ut){var tr=this.imod(Ut._invmp(this.m).mul(this.r2));return tr._forceRed(this)}})(nt,commonjsGlobal$1)}(bn$1)),bn$1.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var nt=requireBn(),et=requireSafeBuffer$7().Buffer;function at(mt,$t){return et.from(mt.toRed(nt.mont($t.modulus)).redPow(new nt($t.publicExponent)).fromRed().toArray())}return withPublic_1=at,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var nt=requireParseAsn1(),et=requireBrowser$b(),at=requireBrowser$9(),mt=requireMgf(),$t=requireXor(),Ct=requireBn(),Dt=requireWithPublic(),Ft=requireBrowserifyRsa(),Nt=requireSafeBuffer$7().Buffer;publicEncrypt=function(ir,or,lr){var dr;ir.padding?dr=ir.padding:lr?dr=1:dr=4;var pr=nt(ir),hr;if(dr===4)hr=jt(pr,or);else if(dr===1)hr=Lt(pr,or,lr);else if(dr===3){if(hr=new Ct(or),hr.cmp(pr.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return lr?Ft(hr,pr):Dt(hr,pr)};function jt(er,ir){var or=er.modulus.byteLength(),lr=ir.length,dr=at("sha1").update(Nt.alloc(0)).digest(),pr=dr.length,hr=2*pr;if(lr>or-hr-2)throw new Error("message too long");var vr=Nt.alloc(or-lr-hr-2),br=or-pr-1,xr=et(pr),Sr=$t(Nt.concat([dr,vr,Nt.alloc(1,1),ir],br),mt(xr,br)),Er=$t(xr,mt(Sr,pr));return new Ct(Nt.concat([Nt.alloc(1),Er,Sr],or))}function Lt(er,ir,or){var lr=ir.length,dr=er.modulus.byteLength();if(lr>dr-11)throw new Error("message too long");var pr;return or?pr=Nt.alloc(dr-lr-3,255):pr=Vt(dr-lr-3),new Ct(Nt.concat([Nt.from([0,or?1:2]),pr,Nt.alloc(1),ir],dr))}function Vt(er){for(var ir=Nt.allocUnsafe(er),or=0,lr=et(er*2),dr=0,pr;or<er;)dr===lr.length&&(lr=et(er*2),dr=0),pr=lr[dr++],pr&&(ir[or++]=pr);return ir}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var nt=requireParseAsn1(),et=requireMgf(),at=requireXor(),mt=requireBn(),$t=requireBrowserifyRsa(),Ct=requireBrowser$9(),Dt=requireWithPublic(),Ft=requireSafeBuffer$7().Buffer;privateDecrypt=function(er,ir,or){var lr;er.padding?lr=er.padding:or?lr=1:lr=4;var dr=nt(er),pr=dr.modulus.byteLength();if(ir.length>pr||new mt(ir).cmp(dr.modulus)>=0)throw new Error("decryption error");var hr;or?hr=Dt(new mt(ir),dr):hr=$t(ir,dr);var vr=Ft.alloc(pr-hr.length);if(hr=Ft.concat([vr,hr],pr),lr===4)return Nt(dr,hr);if(lr===1)return jt(dr,hr,or);if(lr===3)return hr;throw new Error("unknown padding")};function Nt(Vt,er){var ir=Vt.modulus.byteLength(),or=Ct("sha1").update(Ft.alloc(0)).digest(),lr=or.length;if(er[0]!==0)throw new Error("decryption error");var dr=er.slice(1,lr+1),pr=er.slice(lr+1),hr=at(dr,et(pr,lr)),vr=at(pr,et(hr,ir-lr-1));if(Lt(or,vr.slice(0,lr)))throw new Error("decryption error");for(var br=lr;vr[br]===0;)br++;if(vr[br++]!==1)throw new Error("decryption error");return vr.slice(br)}function jt(Vt,er,ir){for(var or=er.slice(0,2),lr=2,dr=0;er[lr++]!==0;)if(lr>=er.length){dr++;break}var pr=er.slice(2,lr-1);if((or.toString("hex")!=="0002"&&!ir||or.toString("hex")!=="0001"&&ir)&&dr++,pr.length<8&&dr++,dr)throw new Error("decryption error");return er.slice(lr)}function Lt(Vt,er){Vt=Ft.from(Vt),er=Ft.from(er);var ir=0,or=Vt.length;Vt.length!==er.length&&(ir++,or=Math.min(Vt.length,er.length));for(var lr=-1;++lr<or;)ir+=Vt[lr]^er[lr];return ir}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(nt){nt.publicEncrypt=requirePublicEncrypt(),nt.privateDecrypt=requirePrivateDecrypt(),nt.privateEncrypt=function(at,mt){return nt.publicEncrypt(at,mt,!0)},nt.publicDecrypt=function(at,mt){return nt.privateDecrypt(at,mt,!0)}}(browser$4)),browser$4}var browser$3={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$3;hasRequiredBrowser=1;function nt(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var et=requireSafeBuffer$7(),at=requireBrowser$b(),mt=et.Buffer,$t=et.kMaxLength,Ct=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto,Dt=Math.pow(2,32)-1;function Ft(er,ir){if(typeof er!="number"||er!==er)throw new TypeError("offset must be a number");if(er>Dt||er<0)throw new TypeError("offset must be a uint32");if(er>$t||er>ir)throw new RangeError("offset out of range")}function Nt(er,ir,or){if(typeof er!="number"||er!==er)throw new TypeError("size must be a number");if(er>Dt||er<0)throw new TypeError("size must be a uint32");if(er+ir>or||er>$t)throw new RangeError("buffer too small")}Ct&&Ct.getRandomValues||!process$1.browser?(browser$3.randomFill=jt,browser$3.randomFillSync=Vt):(browser$3.randomFill=nt,browser$3.randomFillSync=nt);function jt(er,ir,or,lr){if(!mt.isBuffer(er)&&!(er instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof ir=="function")lr=ir,ir=0,or=er.length;else if(typeof or=="function")lr=or,or=er.length-ir;else if(typeof lr!="function")throw new TypeError('"cb" argument must be a function');return Ft(ir,er.length),Nt(or,ir,er.length),Lt(er,ir,or,lr)}function Lt(er,ir,or,lr){if(process$1.browser){var dr=er.buffer,pr=new Uint8Array(dr,ir,or);if(Ct.getRandomValues(pr),lr){process$1.nextTick(function(){lr(null,er)});return}return er}if(lr){at(or,function(vr,br){if(vr)return lr(vr);br.copy(er,ir),lr(null,er)});return}var hr=at(or);return hr.copy(er,ir),er}function Vt(er,ir,or){if(typeof ir>"u"&&(ir=0),!mt.isBuffer(er)&&!(er instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return Ft(ir,er.length),or===void 0&&(or=er.length-ir),Nt(or,ir,er.length),Lt(er,ir,or)}return browser$3}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var nt=requireAlgos(),et=Object.keys(nt),at=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(et);cryptoBrowserify.getHashes=function(){return at};var mt=requireBrowser$7();cryptoBrowserify.pbkdf2=mt.pbkdf2,cryptoBrowserify.pbkdf2Sync=mt.pbkdf2Sync;var $t=requireBrowser$5();cryptoBrowserify.Cipher=$t.Cipher,cryptoBrowserify.createCipher=$t.createCipher,cryptoBrowserify.Cipheriv=$t.Cipheriv,cryptoBrowserify.createCipheriv=$t.createCipheriv,cryptoBrowserify.Decipher=$t.Decipher,cryptoBrowserify.createDecipher=$t.createDecipher,cryptoBrowserify.Decipheriv=$t.Decipheriv,cryptoBrowserify.createDecipheriv=$t.createDecipheriv,cryptoBrowserify.getCiphers=$t.getCiphers,cryptoBrowserify.listCiphers=$t.listCiphers;var Ct=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=Ct.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=Ct.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=Ct.getDiffieHellman,cryptoBrowserify.createDiffieHellman=Ct.createDiffieHellman,cryptoBrowserify.DiffieHellman=Ct.DiffieHellman;var Dt=requireBrowser$3();cryptoBrowserify.createSign=Dt.createSign,cryptoBrowserify.Sign=Dt.Sign,cryptoBrowserify.createVerify=Dt.createVerify,cryptoBrowserify.Verify=Dt.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var Ft=requireBrowser$1();cryptoBrowserify.publicEncrypt=Ft.publicEncrypt,cryptoBrowserify.privateEncrypt=Ft.privateEncrypt,cryptoBrowserify.publicDecrypt=Ft.publicDecrypt,cryptoBrowserify.privateDecrypt=Ft.privateDecrypt;var Nt=requireBrowser();return cryptoBrowserify.randomFill=Nt.randomFill,cryptoBrowserify.randomFillSync=Nt.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(nt){(function(et){var at=function(Br){var Lr,qr=new Float64Array(16);if(Br)for(Lr=0;Lr<Br.length;Lr++)qr[Lr]=Br[Lr];return qr},mt=function(){throw new Error("no PRNG")},$t=new Uint8Array(16),Ct=new Uint8Array(32);Ct[0]=9;var Dt=at(),Ft=at([1]),Nt=at([56129,1]),jt=at([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Lt=at([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Vt=at([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),er=at([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ir=at([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function or(Br,Lr,qr,Mr){Br[Lr]=qr>>24&255,Br[Lr+1]=qr>>16&255,Br[Lr+2]=qr>>8&255,Br[Lr+3]=qr&255,Br[Lr+4]=Mr>>24&255,Br[Lr+5]=Mr>>16&255,Br[Lr+6]=Mr>>8&255,Br[Lr+7]=Mr&255}function lr(Br,Lr,qr,Mr,Ur){var rn,zn=0;for(rn=0;rn<Ur;rn++)zn|=Br[Lr+rn]^qr[Mr+rn];return(1&zn-1>>>8)-1}function dr(Br,Lr,qr,Mr){return lr(Br,Lr,qr,Mr,16)}function pr(Br,Lr,qr,Mr){return lr(Br,Lr,qr,Mr,32)}function hr(Br,Lr,qr,Mr){for(var Ur=Mr[0]&255|(Mr[1]&255)<<8|(Mr[2]&255)<<16|(Mr[3]&255)<<24,rn=qr[0]&255|(qr[1]&255)<<8|(qr[2]&255)<<16|(qr[3]&255)<<24,zn=qr[4]&255|(qr[5]&255)<<8|(qr[6]&255)<<16|(qr[7]&255)<<24,pn=qr[8]&255|(qr[9]&255)<<8|(qr[10]&255)<<16|(qr[11]&255)<<24,Vn=qr[12]&255|(qr[13]&255)<<8|(qr[14]&255)<<16|(qr[15]&255)<<24,co=Mr[4]&255|(Mr[5]&255)<<8|(Mr[6]&255)<<16|(Mr[7]&255)<<24,uo=Lr[0]&255|(Lr[1]&255)<<8|(Lr[2]&255)<<16|(Lr[3]&255)<<24,Eo=Lr[4]&255|(Lr[5]&255)<<8|(Lr[6]&255)<<16|(Lr[7]&255)<<24,ho=Lr[8]&255|(Lr[9]&255)<<8|(Lr[10]&255)<<16|(Lr[11]&255)<<24,Co=Lr[12]&255|(Lr[13]&255)<<8|(Lr[14]&255)<<16|(Lr[15]&255)<<24,Po=Mr[8]&255|(Mr[9]&255)<<8|(Mr[10]&255)<<16|(Mr[11]&255)<<24,Fo=qr[16]&255|(qr[17]&255)<<8|(qr[18]&255)<<16|(qr[19]&255)<<24,Do=qr[20]&255|(qr[21]&255)<<8|(qr[22]&255)<<16|(qr[23]&255)<<24,ko=qr[24]&255|(qr[25]&255)<<8|(qr[26]&255)<<16|(qr[27]&255)<<24,Mo=qr[28]&255|(qr[29]&255)<<8|(qr[30]&255)<<16|(qr[31]&255)<<24,Oo=Mr[12]&255|(Mr[13]&255)<<8|(Mr[14]&255)<<16|(Mr[15]&255)<<24,xo=Ur,Ro=rn,So=zn,po=pn,vo=Vn,wo=co,to=uo,_a=Eo,yo=ho,Yr=Co,Cn=Po,nn=Fo,Yn=Do,na=ko,Xn=Mo,lo=Oo,$n,mo=0;mo<20;mo+=2)$n=xo+Yn|0,vo^=$n<<7|$n>>>25,$n=vo+xo|0,yo^=$n<<9|$n>>>23,$n=yo+vo|0,Yn^=$n<<13|$n>>>19,$n=Yn+yo|0,xo^=$n<<18|$n>>>14,$n=wo+Ro|0,Yr^=$n<<7|$n>>>25,$n=Yr+wo|0,na^=$n<<9|$n>>>23,$n=na+Yr|0,Ro^=$n<<13|$n>>>19,$n=Ro+na|0,wo^=$n<<18|$n>>>14,$n=Cn+to|0,Xn^=$n<<7|$n>>>25,$n=Xn+Cn|0,So^=$n<<9|$n>>>23,$n=So+Xn|0,to^=$n<<13|$n>>>19,$n=to+So|0,Cn^=$n<<18|$n>>>14,$n=lo+nn|0,po^=$n<<7|$n>>>25,$n=po+lo|0,_a^=$n<<9|$n>>>23,$n=_a+po|0,nn^=$n<<13|$n>>>19,$n=nn+_a|0,lo^=$n<<18|$n>>>14,$n=xo+po|0,Ro^=$n<<7|$n>>>25,$n=Ro+xo|0,So^=$n<<9|$n>>>23,$n=So+Ro|0,po^=$n<<13|$n>>>19,$n=po+So|0,xo^=$n<<18|$n>>>14,$n=wo+vo|0,to^=$n<<7|$n>>>25,$n=to+wo|0,_a^=$n<<9|$n>>>23,$n=_a+to|0,vo^=$n<<13|$n>>>19,$n=vo+_a|0,wo^=$n<<18|$n>>>14,$n=Cn+Yr|0,nn^=$n<<7|$n>>>25,$n=nn+Cn|0,yo^=$n<<9|$n>>>23,$n=yo+nn|0,Yr^=$n<<13|$n>>>19,$n=Yr+yo|0,Cn^=$n<<18|$n>>>14,$n=lo+Xn|0,Yn^=$n<<7|$n>>>25,$n=Yn+lo|0,na^=$n<<9|$n>>>23,$n=na+Yn|0,Xn^=$n<<13|$n>>>19,$n=Xn+na|0,lo^=$n<<18|$n>>>14;xo=xo+Ur|0,Ro=Ro+rn|0,So=So+zn|0,po=po+pn|0,vo=vo+Vn|0,wo=wo+co|0,to=to+uo|0,_a=_a+Eo|0,yo=yo+ho|0,Yr=Yr+Co|0,Cn=Cn+Po|0,nn=nn+Fo|0,Yn=Yn+Do|0,na=na+ko|0,Xn=Xn+Mo|0,lo=lo+Oo|0,Br[0]=xo>>>0&255,Br[1]=xo>>>8&255,Br[2]=xo>>>16&255,Br[3]=xo>>>24&255,Br[4]=Ro>>>0&255,Br[5]=Ro>>>8&255,Br[6]=Ro>>>16&255,Br[7]=Ro>>>24&255,Br[8]=So>>>0&255,Br[9]=So>>>8&255,Br[10]=So>>>16&255,Br[11]=So>>>24&255,Br[12]=po>>>0&255,Br[13]=po>>>8&255,Br[14]=po>>>16&255,Br[15]=po>>>24&255,Br[16]=vo>>>0&255,Br[17]=vo>>>8&255,Br[18]=vo>>>16&255,Br[19]=vo>>>24&255,Br[20]=wo>>>0&255,Br[21]=wo>>>8&255,Br[22]=wo>>>16&255,Br[23]=wo>>>24&255,Br[24]=to>>>0&255,Br[25]=to>>>8&255,Br[26]=to>>>16&255,Br[27]=to>>>24&255,Br[28]=_a>>>0&255,Br[29]=_a>>>8&255,Br[30]=_a>>>16&255,Br[31]=_a>>>24&255,Br[32]=yo>>>0&255,Br[33]=yo>>>8&255,Br[34]=yo>>>16&255,Br[35]=yo>>>24&255,Br[36]=Yr>>>0&255,Br[37]=Yr>>>8&255,Br[38]=Yr>>>16&255,Br[39]=Yr>>>24&255,Br[40]=Cn>>>0&255,Br[41]=Cn>>>8&255,Br[42]=Cn>>>16&255,Br[43]=Cn>>>24&255,Br[44]=nn>>>0&255,Br[45]=nn>>>8&255,Br[46]=nn>>>16&255,Br[47]=nn>>>24&255,Br[48]=Yn>>>0&255,Br[49]=Yn>>>8&255,Br[50]=Yn>>>16&255,Br[51]=Yn>>>24&255,Br[52]=na>>>0&255,Br[53]=na>>>8&255,Br[54]=na>>>16&255,Br[55]=na>>>24&255,Br[56]=Xn>>>0&255,Br[57]=Xn>>>8&255,Br[58]=Xn>>>16&255,Br[59]=Xn>>>24&255,Br[60]=lo>>>0&255,Br[61]=lo>>>8&255,Br[62]=lo>>>16&255,Br[63]=lo>>>24&255}function vr(Br,Lr,qr,Mr){for(var Ur=Mr[0]&255|(Mr[1]&255)<<8|(Mr[2]&255)<<16|(Mr[3]&255)<<24,rn=qr[0]&255|(qr[1]&255)<<8|(qr[2]&255)<<16|(qr[3]&255)<<24,zn=qr[4]&255|(qr[5]&255)<<8|(qr[6]&255)<<16|(qr[7]&255)<<24,pn=qr[8]&255|(qr[9]&255)<<8|(qr[10]&255)<<16|(qr[11]&255)<<24,Vn=qr[12]&255|(qr[13]&255)<<8|(qr[14]&255)<<16|(qr[15]&255)<<24,co=Mr[4]&255|(Mr[5]&255)<<8|(Mr[6]&255)<<16|(Mr[7]&255)<<24,uo=Lr[0]&255|(Lr[1]&255)<<8|(Lr[2]&255)<<16|(Lr[3]&255)<<24,Eo=Lr[4]&255|(Lr[5]&255)<<8|(Lr[6]&255)<<16|(Lr[7]&255)<<24,ho=Lr[8]&255|(Lr[9]&255)<<8|(Lr[10]&255)<<16|(Lr[11]&255)<<24,Co=Lr[12]&255|(Lr[13]&255)<<8|(Lr[14]&255)<<16|(Lr[15]&255)<<24,Po=Mr[8]&255|(Mr[9]&255)<<8|(Mr[10]&255)<<16|(Mr[11]&255)<<24,Fo=qr[16]&255|(qr[17]&255)<<8|(qr[18]&255)<<16|(qr[19]&255)<<24,Do=qr[20]&255|(qr[21]&255)<<8|(qr[22]&255)<<16|(qr[23]&255)<<24,ko=qr[24]&255|(qr[25]&255)<<8|(qr[26]&255)<<16|(qr[27]&255)<<24,Mo=qr[28]&255|(qr[29]&255)<<8|(qr[30]&255)<<16|(qr[31]&255)<<24,Oo=Mr[12]&255|(Mr[13]&255)<<8|(Mr[14]&255)<<16|(Mr[15]&255)<<24,xo=Ur,Ro=rn,So=zn,po=pn,vo=Vn,wo=co,to=uo,_a=Eo,yo=ho,Yr=Co,Cn=Po,nn=Fo,Yn=Do,na=ko,Xn=Mo,lo=Oo,$n,mo=0;mo<20;mo+=2)$n=xo+Yn|0,vo^=$n<<7|$n>>>25,$n=vo+xo|0,yo^=$n<<9|$n>>>23,$n=yo+vo|0,Yn^=$n<<13|$n>>>19,$n=Yn+yo|0,xo^=$n<<18|$n>>>14,$n=wo+Ro|0,Yr^=$n<<7|$n>>>25,$n=Yr+wo|0,na^=$n<<9|$n>>>23,$n=na+Yr|0,Ro^=$n<<13|$n>>>19,$n=Ro+na|0,wo^=$n<<18|$n>>>14,$n=Cn+to|0,Xn^=$n<<7|$n>>>25,$n=Xn+Cn|0,So^=$n<<9|$n>>>23,$n=So+Xn|0,to^=$n<<13|$n>>>19,$n=to+So|0,Cn^=$n<<18|$n>>>14,$n=lo+nn|0,po^=$n<<7|$n>>>25,$n=po+lo|0,_a^=$n<<9|$n>>>23,$n=_a+po|0,nn^=$n<<13|$n>>>19,$n=nn+_a|0,lo^=$n<<18|$n>>>14,$n=xo+po|0,Ro^=$n<<7|$n>>>25,$n=Ro+xo|0,So^=$n<<9|$n>>>23,$n=So+Ro|0,po^=$n<<13|$n>>>19,$n=po+So|0,xo^=$n<<18|$n>>>14,$n=wo+vo|0,to^=$n<<7|$n>>>25,$n=to+wo|0,_a^=$n<<9|$n>>>23,$n=_a+to|0,vo^=$n<<13|$n>>>19,$n=vo+_a|0,wo^=$n<<18|$n>>>14,$n=Cn+Yr|0,nn^=$n<<7|$n>>>25,$n=nn+Cn|0,yo^=$n<<9|$n>>>23,$n=yo+nn|0,Yr^=$n<<13|$n>>>19,$n=Yr+yo|0,Cn^=$n<<18|$n>>>14,$n=lo+Xn|0,Yn^=$n<<7|$n>>>25,$n=Yn+lo|0,na^=$n<<9|$n>>>23,$n=na+Yn|0,Xn^=$n<<13|$n>>>19,$n=Xn+na|0,lo^=$n<<18|$n>>>14;Br[0]=xo>>>0&255,Br[1]=xo>>>8&255,Br[2]=xo>>>16&255,Br[3]=xo>>>24&255,Br[4]=wo>>>0&255,Br[5]=wo>>>8&255,Br[6]=wo>>>16&255,Br[7]=wo>>>24&255,Br[8]=Cn>>>0&255,Br[9]=Cn>>>8&255,Br[10]=Cn>>>16&255,Br[11]=Cn>>>24&255,Br[12]=lo>>>0&255,Br[13]=lo>>>8&255,Br[14]=lo>>>16&255,Br[15]=lo>>>24&255,Br[16]=to>>>0&255,Br[17]=to>>>8&255,Br[18]=to>>>16&255,Br[19]=to>>>24&255,Br[20]=_a>>>0&255,Br[21]=_a>>>8&255,Br[22]=_a>>>16&255,Br[23]=_a>>>24&255,Br[24]=yo>>>0&255,Br[25]=yo>>>8&255,Br[26]=yo>>>16&255,Br[27]=yo>>>24&255,Br[28]=Yr>>>0&255,Br[29]=Yr>>>8&255,Br[30]=Yr>>>16&255,Br[31]=Yr>>>24&255}function br(Br,Lr,qr,Mr){hr(Br,Lr,qr,Mr)}function xr(Br,Lr,qr,Mr){vr(Br,Lr,qr,Mr)}var Sr=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Er(Br,Lr,qr,Mr,Ur,rn,zn){var pn=new Uint8Array(16),Vn=new Uint8Array(64),co,uo;for(uo=0;uo<16;uo++)pn[uo]=0;for(uo=0;uo<8;uo++)pn[uo]=rn[uo];for(;Ur>=64;){for(br(Vn,pn,zn,Sr),uo=0;uo<64;uo++)Br[Lr+uo]=qr[Mr+uo]^Vn[uo];for(co=1,uo=8;uo<16;uo++)co=co+(pn[uo]&255)|0,pn[uo]=co&255,co>>>=8;Ur-=64,Lr+=64,Mr+=64}if(Ur>0)for(br(Vn,pn,zn,Sr),uo=0;uo<Ur;uo++)Br[Lr+uo]=qr[Mr+uo]^Vn[uo];return 0}function $r(Br,Lr,qr,Mr,Ur){var rn=new Uint8Array(16),zn=new Uint8Array(64),pn,Vn;for(Vn=0;Vn<16;Vn++)rn[Vn]=0;for(Vn=0;Vn<8;Vn++)rn[Vn]=Mr[Vn];for(;qr>=64;){for(br(zn,rn,Ur,Sr),Vn=0;Vn<64;Vn++)Br[Lr+Vn]=zn[Vn];for(pn=1,Vn=8;Vn<16;Vn++)pn=pn+(rn[Vn]&255)|0,rn[Vn]=pn&255,pn>>>=8;qr-=64,Lr+=64}if(qr>0)for(br(zn,rn,Ur,Sr),Vn=0;Vn<qr;Vn++)Br[Lr+Vn]=zn[Vn];return 0}function Cr(Br,Lr,qr,Mr,Ur){var rn=new Uint8Array(32);xr(rn,Mr,Ur,Sr);for(var zn=new Uint8Array(8),pn=0;pn<8;pn++)zn[pn]=Mr[pn+16];return $r(Br,Lr,qr,zn,rn)}function kr(Br,Lr,qr,Mr,Ur,rn,zn){var pn=new Uint8Array(32);xr(pn,rn,zn,Sr);for(var Vn=new Uint8Array(8),co=0;co<8;co++)Vn[co]=rn[co+16];return Er(Br,Lr,qr,Mr,Ur,Vn,pn)}var gr=function(Br){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Lr,qr,Mr,Ur,rn,zn,pn,Vn;Lr=Br[0]&255|(Br[1]&255)<<8,this.r[0]=Lr&8191,qr=Br[2]&255|(Br[3]&255)<<8,this.r[1]=(Lr>>>13|qr<<3)&8191,Mr=Br[4]&255|(Br[5]&255)<<8,this.r[2]=(qr>>>10|Mr<<6)&7939,Ur=Br[6]&255|(Br[7]&255)<<8,this.r[3]=(Mr>>>7|Ur<<9)&8191,rn=Br[8]&255|(Br[9]&255)<<8,this.r[4]=(Ur>>>4|rn<<12)&255,this.r[5]=rn>>>1&8190,zn=Br[10]&255|(Br[11]&255)<<8,this.r[6]=(rn>>>14|zn<<2)&8191,pn=Br[12]&255|(Br[13]&255)<<8,this.r[7]=(zn>>>11|pn<<5)&8065,Vn=Br[14]&255|(Br[15]&255)<<8,this.r[8]=(pn>>>8|Vn<<8)&8191,this.r[9]=Vn>>>5&127,this.pad[0]=Br[16]&255|(Br[17]&255)<<8,this.pad[1]=Br[18]&255|(Br[19]&255)<<8,this.pad[2]=Br[20]&255|(Br[21]&255)<<8,this.pad[3]=Br[22]&255|(Br[23]&255)<<8,this.pad[4]=Br[24]&255|(Br[25]&255)<<8,this.pad[5]=Br[26]&255|(Br[27]&255)<<8,this.pad[6]=Br[28]&255|(Br[29]&255)<<8,this.pad[7]=Br[30]&255|(Br[31]&255)<<8};gr.prototype.blocks=function(Br,Lr,qr){for(var Mr=this.fin?0:2048,Ur,rn,zn,pn,Vn,co,uo,Eo,ho,Co,Po,Fo,Do,ko,Mo,Oo,xo,Ro,So,po=this.h[0],vo=this.h[1],wo=this.h[2],to=this.h[3],_a=this.h[4],yo=this.h[5],Yr=this.h[6],Cn=this.h[7],nn=this.h[8],Yn=this.h[9],na=this.r[0],Xn=this.r[1],lo=this.r[2],$n=this.r[3],mo=this.r[4],go=this.r[5],_o=this.r[6],Ao=this.r[7],qo=this.r[8],Uo=this.r[9];qr>=16;)Ur=Br[Lr+0]&255|(Br[Lr+1]&255)<<8,po+=Ur&8191,rn=Br[Lr+2]&255|(Br[Lr+3]&255)<<8,vo+=(Ur>>>13|rn<<3)&8191,zn=Br[Lr+4]&255|(Br[Lr+5]&255)<<8,wo+=(rn>>>10|zn<<6)&8191,pn=Br[Lr+6]&255|(Br[Lr+7]&255)<<8,to+=(zn>>>7|pn<<9)&8191,Vn=Br[Lr+8]&255|(Br[Lr+9]&255)<<8,_a+=(pn>>>4|Vn<<12)&8191,yo+=Vn>>>1&8191,co=Br[Lr+10]&255|(Br[Lr+11]&255)<<8,Yr+=(Vn>>>14|co<<2)&8191,uo=Br[Lr+12]&255|(Br[Lr+13]&255)<<8,Cn+=(co>>>11|uo<<5)&8191,Eo=Br[Lr+14]&255|(Br[Lr+15]&255)<<8,nn+=(uo>>>8|Eo<<8)&8191,Yn+=Eo>>>5|Mr,ho=0,Co=ho,Co+=po*na,Co+=vo*(5*Uo),Co+=wo*(5*qo),Co+=to*(5*Ao),Co+=_a*(5*_o),ho=Co>>>13,Co&=8191,Co+=yo*(5*go),Co+=Yr*(5*mo),Co+=Cn*(5*$n),Co+=nn*(5*lo),Co+=Yn*(5*Xn),ho+=Co>>>13,Co&=8191,Po=ho,Po+=po*Xn,Po+=vo*na,Po+=wo*(5*Uo),Po+=to*(5*qo),Po+=_a*(5*Ao),ho=Po>>>13,Po&=8191,Po+=yo*(5*_o),Po+=Yr*(5*go),Po+=Cn*(5*mo),Po+=nn*(5*$n),Po+=Yn*(5*lo),ho+=Po>>>13,Po&=8191,Fo=ho,Fo+=po*lo,Fo+=vo*Xn,Fo+=wo*na,Fo+=to*(5*Uo),Fo+=_a*(5*qo),ho=Fo>>>13,Fo&=8191,Fo+=yo*(5*Ao),Fo+=Yr*(5*_o),Fo+=Cn*(5*go),Fo+=nn*(5*mo),Fo+=Yn*(5*$n),ho+=Fo>>>13,Fo&=8191,Do=ho,Do+=po*$n,Do+=vo*lo,Do+=wo*Xn,Do+=to*na,Do+=_a*(5*Uo),ho=Do>>>13,Do&=8191,Do+=yo*(5*qo),Do+=Yr*(5*Ao),Do+=Cn*(5*_o),Do+=nn*(5*go),Do+=Yn*(5*mo),ho+=Do>>>13,Do&=8191,ko=ho,ko+=po*mo,ko+=vo*$n,ko+=wo*lo,ko+=to*Xn,ko+=_a*na,ho=ko>>>13,ko&=8191,ko+=yo*(5*Uo),ko+=Yr*(5*qo),ko+=Cn*(5*Ao),ko+=nn*(5*_o),ko+=Yn*(5*go),ho+=ko>>>13,ko&=8191,Mo=ho,Mo+=po*go,Mo+=vo*mo,Mo+=wo*$n,Mo+=to*lo,Mo+=_a*Xn,ho=Mo>>>13,Mo&=8191,Mo+=yo*na,Mo+=Yr*(5*Uo),Mo+=Cn*(5*qo),Mo+=nn*(5*Ao),Mo+=Yn*(5*_o),ho+=Mo>>>13,Mo&=8191,Oo=ho,Oo+=po*_o,Oo+=vo*go,Oo+=wo*mo,Oo+=to*$n,Oo+=_a*lo,ho=Oo>>>13,Oo&=8191,Oo+=yo*Xn,Oo+=Yr*na,Oo+=Cn*(5*Uo),Oo+=nn*(5*qo),Oo+=Yn*(5*Ao),ho+=Oo>>>13,Oo&=8191,xo=ho,xo+=po*Ao,xo+=vo*_o,xo+=wo*go,xo+=to*mo,xo+=_a*$n,ho=xo>>>13,xo&=8191,xo+=yo*lo,xo+=Yr*Xn,xo+=Cn*na,xo+=nn*(5*Uo),xo+=Yn*(5*qo),ho+=xo>>>13,xo&=8191,Ro=ho,Ro+=po*qo,Ro+=vo*Ao,Ro+=wo*_o,Ro+=to*go,Ro+=_a*mo,ho=Ro>>>13,Ro&=8191,Ro+=yo*$n,Ro+=Yr*lo,Ro+=Cn*Xn,Ro+=nn*na,Ro+=Yn*(5*Uo),ho+=Ro>>>13,Ro&=8191,So=ho,So+=po*Uo,So+=vo*qo,So+=wo*Ao,So+=to*_o,So+=_a*go,ho=So>>>13,So&=8191,So+=yo*mo,So+=Yr*$n,So+=Cn*lo,So+=nn*Xn,So+=Yn*na,ho+=So>>>13,So&=8191,ho=(ho<<2)+ho|0,ho=ho+Co|0,Co=ho&8191,ho=ho>>>13,Po+=ho,po=Co,vo=Po,wo=Fo,to=Do,_a=ko,yo=Mo,Yr=Oo,Cn=xo,nn=Ro,Yn=So,Lr+=16,qr-=16;this.h[0]=po,this.h[1]=vo,this.h[2]=wo,this.h[3]=to,this.h[4]=_a,this.h[5]=yo,this.h[6]=Yr,this.h[7]=Cn,this.h[8]=nn,this.h[9]=Yn},gr.prototype.finish=function(Br,Lr){var qr=new Uint16Array(10),Mr,Ur,rn,zn;if(this.leftover){for(zn=this.leftover,this.buffer[zn++]=1;zn<16;zn++)this.buffer[zn]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Mr=this.h[1]>>>13,this.h[1]&=8191,zn=2;zn<10;zn++)this.h[zn]+=Mr,Mr=this.h[zn]>>>13,this.h[zn]&=8191;for(this.h[0]+=Mr*5,Mr=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Mr,Mr=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Mr,qr[0]=this.h[0]+5,Mr=qr[0]>>>13,qr[0]&=8191,zn=1;zn<10;zn++)qr[zn]=this.h[zn]+Mr,Mr=qr[zn]>>>13,qr[zn]&=8191;for(qr[9]-=8192,Ur=(Mr^1)-1,zn=0;zn<10;zn++)qr[zn]&=Ur;for(Ur=~Ur,zn=0;zn<10;zn++)this.h[zn]=this.h[zn]&Ur|qr[zn];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,rn=this.h[0]+this.pad[0],this.h[0]=rn&65535,zn=1;zn<8;zn++)rn=(this.h[zn]+this.pad[zn]|0)+(rn>>>16)|0,this.h[zn]=rn&65535;Br[Lr+0]=this.h[0]>>>0&255,Br[Lr+1]=this.h[0]>>>8&255,Br[Lr+2]=this.h[1]>>>0&255,Br[Lr+3]=this.h[1]>>>8&255,Br[Lr+4]=this.h[2]>>>0&255,Br[Lr+5]=this.h[2]>>>8&255,Br[Lr+6]=this.h[3]>>>0&255,Br[Lr+7]=this.h[3]>>>8&255,Br[Lr+8]=this.h[4]>>>0&255,Br[Lr+9]=this.h[4]>>>8&255,Br[Lr+10]=this.h[5]>>>0&255,Br[Lr+11]=this.h[5]>>>8&255,Br[Lr+12]=this.h[6]>>>0&255,Br[Lr+13]=this.h[6]>>>8&255,Br[Lr+14]=this.h[7]>>>0&255,Br[Lr+15]=this.h[7]>>>8&255},gr.prototype.update=function(Br,Lr,qr){var Mr,Ur;if(this.leftover){for(Ur=16-this.leftover,Ur>qr&&(Ur=qr),Mr=0;Mr<Ur;Mr++)this.buffer[this.leftover+Mr]=Br[Lr+Mr];if(qr-=Ur,Lr+=Ur,this.leftover+=Ur,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(qr>=16&&(Ur=qr-qr%16,this.blocks(Br,Lr,Ur),Lr+=Ur,qr-=Ur),qr){for(Mr=0;Mr<qr;Mr++)this.buffer[this.leftover+Mr]=Br[Lr+Mr];this.leftover+=qr}};function Ut(Br,Lr,qr,Mr,Ur,rn){var zn=new gr(rn);return zn.update(qr,Mr,Ur),zn.finish(Br,Lr),0}function tr(Br,Lr,qr,Mr,Ur,rn){var zn=new Uint8Array(16);return Ut(zn,0,qr,Mr,Ur,rn),dr(Br,Lr,zn,0)}function nr(Br,Lr,qr,Mr,Ur){var rn;if(qr<32)return-1;for(kr(Br,0,Lr,0,qr,Mr,Ur),Ut(Br,16,Br,32,qr-32,Br),rn=0;rn<16;rn++)Br[rn]=0;return 0}function rr(Br,Lr,qr,Mr,Ur){var rn,zn=new Uint8Array(32);if(qr<32||(Cr(zn,0,32,Mr,Ur),tr(Lr,16,Lr,32,qr-32,zn)!==0))return-1;for(kr(Br,0,Lr,0,qr,Mr,Ur),rn=0;rn<32;rn++)Br[rn]=0;return 0}function ar(Br,Lr){var qr;for(qr=0;qr<16;qr++)Br[qr]=Lr[qr]|0}function cr(Br){var Lr,qr,Mr=1;for(Lr=0;Lr<16;Lr++)qr=Br[Lr]+Mr+65535,Mr=Math.floor(qr/65536),Br[Lr]=qr-Mr*65536;Br[0]+=Mr-1+37*(Mr-1)}function fr(Br,Lr,qr){for(var Mr,Ur=~(qr-1),rn=0;rn<16;rn++)Mr=Ur&(Br[rn]^Lr[rn]),Br[rn]^=Mr,Lr[rn]^=Mr}function sr(Br,Lr){var qr,Mr,Ur,rn=at(),zn=at();for(qr=0;qr<16;qr++)zn[qr]=Lr[qr];for(cr(zn),cr(zn),cr(zn),Mr=0;Mr<2;Mr++){for(rn[0]=zn[0]-65517,qr=1;qr<15;qr++)rn[qr]=zn[qr]-65535-(rn[qr-1]>>16&1),rn[qr-1]&=65535;rn[15]=zn[15]-32767-(rn[14]>>16&1),Ur=rn[15]>>16&1,rn[14]&=65535,fr(zn,rn,1-Ur)}for(qr=0;qr<16;qr++)Br[2*qr]=zn[qr]&255,Br[2*qr+1]=zn[qr]>>8}function Yt(Br,Lr){var qr=new Uint8Array(32),Mr=new Uint8Array(32);return sr(qr,Br),sr(Mr,Lr),pr(qr,0,Mr,0)}function ur(Br){var Lr=new Uint8Array(32);return sr(Lr,Br),Lr[0]&1}function _r(Br,Lr){var qr;for(qr=0;qr<16;qr++)Br[qr]=Lr[2*qr]+(Lr[2*qr+1]<<8);Br[15]&=32767}function yr(Br,Lr,qr){for(var Mr=0;Mr<16;Mr++)Br[Mr]=Lr[Mr]+qr[Mr]}function wr(Br,Lr,qr){for(var Mr=0;Mr<16;Mr++)Br[Mr]=Lr[Mr]-qr[Mr]}function Ir(Br,Lr,qr){var Mr,Ur,rn=0,zn=0,pn=0,Vn=0,co=0,uo=0,Eo=0,ho=0,Co=0,Po=0,Fo=0,Do=0,ko=0,Mo=0,Oo=0,xo=0,Ro=0,So=0,po=0,vo=0,wo=0,to=0,_a=0,yo=0,Yr=0,Cn=0,nn=0,Yn=0,na=0,Xn=0,lo=0,$n=qr[0],mo=qr[1],go=qr[2],_o=qr[3],Ao=qr[4],qo=qr[5],Uo=qr[6],Wo=qr[7],Go=qr[8],Ko=qr[9],Xo=qr[10],es=qr[11],rs=qr[12],ds=qr[13],us=qr[14],hs=qr[15];Mr=Lr[0],rn+=Mr*$n,zn+=Mr*mo,pn+=Mr*go,Vn+=Mr*_o,co+=Mr*Ao,uo+=Mr*qo,Eo+=Mr*Uo,ho+=Mr*Wo,Co+=Mr*Go,Po+=Mr*Ko,Fo+=Mr*Xo,Do+=Mr*es,ko+=Mr*rs,Mo+=Mr*ds,Oo+=Mr*us,xo+=Mr*hs,Mr=Lr[1],zn+=Mr*$n,pn+=Mr*mo,Vn+=Mr*go,co+=Mr*_o,uo+=Mr*Ao,Eo+=Mr*qo,ho+=Mr*Uo,Co+=Mr*Wo,Po+=Mr*Go,Fo+=Mr*Ko,Do+=Mr*Xo,ko+=Mr*es,Mo+=Mr*rs,Oo+=Mr*ds,xo+=Mr*us,Ro+=Mr*hs,Mr=Lr[2],pn+=Mr*$n,Vn+=Mr*mo,co+=Mr*go,uo+=Mr*_o,Eo+=Mr*Ao,ho+=Mr*qo,Co+=Mr*Uo,Po+=Mr*Wo,Fo+=Mr*Go,Do+=Mr*Ko,ko+=Mr*Xo,Mo+=Mr*es,Oo+=Mr*rs,xo+=Mr*ds,Ro+=Mr*us,So+=Mr*hs,Mr=Lr[3],Vn+=Mr*$n,co+=Mr*mo,uo+=Mr*go,Eo+=Mr*_o,ho+=Mr*Ao,Co+=Mr*qo,Po+=Mr*Uo,Fo+=Mr*Wo,Do+=Mr*Go,ko+=Mr*Ko,Mo+=Mr*Xo,Oo+=Mr*es,xo+=Mr*rs,Ro+=Mr*ds,So+=Mr*us,po+=Mr*hs,Mr=Lr[4],co+=Mr*$n,uo+=Mr*mo,Eo+=Mr*go,ho+=Mr*_o,Co+=Mr*Ao,Po+=Mr*qo,Fo+=Mr*Uo,Do+=Mr*Wo,ko+=Mr*Go,Mo+=Mr*Ko,Oo+=Mr*Xo,xo+=Mr*es,Ro+=Mr*rs,So+=Mr*ds,po+=Mr*us,vo+=Mr*hs,Mr=Lr[5],uo+=Mr*$n,Eo+=Mr*mo,ho+=Mr*go,Co+=Mr*_o,Po+=Mr*Ao,Fo+=Mr*qo,Do+=Mr*Uo,ko+=Mr*Wo,Mo+=Mr*Go,Oo+=Mr*Ko,xo+=Mr*Xo,Ro+=Mr*es,So+=Mr*rs,po+=Mr*ds,vo+=Mr*us,wo+=Mr*hs,Mr=Lr[6],Eo+=Mr*$n,ho+=Mr*mo,Co+=Mr*go,Po+=Mr*_o,Fo+=Mr*Ao,Do+=Mr*qo,ko+=Mr*Uo,Mo+=Mr*Wo,Oo+=Mr*Go,xo+=Mr*Ko,Ro+=Mr*Xo,So+=Mr*es,po+=Mr*rs,vo+=Mr*ds,wo+=Mr*us,to+=Mr*hs,Mr=Lr[7],ho+=Mr*$n,Co+=Mr*mo,Po+=Mr*go,Fo+=Mr*_o,Do+=Mr*Ao,ko+=Mr*qo,Mo+=Mr*Uo,Oo+=Mr*Wo,xo+=Mr*Go,Ro+=Mr*Ko,So+=Mr*Xo,po+=Mr*es,vo+=Mr*rs,wo+=Mr*ds,to+=Mr*us,_a+=Mr*hs,Mr=Lr[8],Co+=Mr*$n,Po+=Mr*mo,Fo+=Mr*go,Do+=Mr*_o,ko+=Mr*Ao,Mo+=Mr*qo,Oo+=Mr*Uo,xo+=Mr*Wo,Ro+=Mr*Go,So+=Mr*Ko,po+=Mr*Xo,vo+=Mr*es,wo+=Mr*rs,to+=Mr*ds,_a+=Mr*us,yo+=Mr*hs,Mr=Lr[9],Po+=Mr*$n,Fo+=Mr*mo,Do+=Mr*go,ko+=Mr*_o,Mo+=Mr*Ao,Oo+=Mr*qo,xo+=Mr*Uo,Ro+=Mr*Wo,So+=Mr*Go,po+=Mr*Ko,vo+=Mr*Xo,wo+=Mr*es,to+=Mr*rs,_a+=Mr*ds,yo+=Mr*us,Yr+=Mr*hs,Mr=Lr[10],Fo+=Mr*$n,Do+=Mr*mo,ko+=Mr*go,Mo+=Mr*_o,Oo+=Mr*Ao,xo+=Mr*qo,Ro+=Mr*Uo,So+=Mr*Wo,po+=Mr*Go,vo+=Mr*Ko,wo+=Mr*Xo,to+=Mr*es,_a+=Mr*rs,yo+=Mr*ds,Yr+=Mr*us,Cn+=Mr*hs,Mr=Lr[11],Do+=Mr*$n,ko+=Mr*mo,Mo+=Mr*go,Oo+=Mr*_o,xo+=Mr*Ao,Ro+=Mr*qo,So+=Mr*Uo,po+=Mr*Wo,vo+=Mr*Go,wo+=Mr*Ko,to+=Mr*Xo,_a+=Mr*es,yo+=Mr*rs,Yr+=Mr*ds,Cn+=Mr*us,nn+=Mr*hs,Mr=Lr[12],ko+=Mr*$n,Mo+=Mr*mo,Oo+=Mr*go,xo+=Mr*_o,Ro+=Mr*Ao,So+=Mr*qo,po+=Mr*Uo,vo+=Mr*Wo,wo+=Mr*Go,to+=Mr*Ko,_a+=Mr*Xo,yo+=Mr*es,Yr+=Mr*rs,Cn+=Mr*ds,nn+=Mr*us,Yn+=Mr*hs,Mr=Lr[13],Mo+=Mr*$n,Oo+=Mr*mo,xo+=Mr*go,Ro+=Mr*_o,So+=Mr*Ao,po+=Mr*qo,vo+=Mr*Uo,wo+=Mr*Wo,to+=Mr*Go,_a+=Mr*Ko,yo+=Mr*Xo,Yr+=Mr*es,Cn+=Mr*rs,nn+=Mr*ds,Yn+=Mr*us,na+=Mr*hs,Mr=Lr[14],Oo+=Mr*$n,xo+=Mr*mo,Ro+=Mr*go,So+=Mr*_o,po+=Mr*Ao,vo+=Mr*qo,wo+=Mr*Uo,to+=Mr*Wo,_a+=Mr*Go,yo+=Mr*Ko,Yr+=Mr*Xo,Cn+=Mr*es,nn+=Mr*rs,Yn+=Mr*ds,na+=Mr*us,Xn+=Mr*hs,Mr=Lr[15],xo+=Mr*$n,Ro+=Mr*mo,So+=Mr*go,po+=Mr*_o,vo+=Mr*Ao,wo+=Mr*qo,to+=Mr*Uo,_a+=Mr*Wo,yo+=Mr*Go,Yr+=Mr*Ko,Cn+=Mr*Xo,nn+=Mr*es,Yn+=Mr*rs,na+=Mr*ds,Xn+=Mr*us,lo+=Mr*hs,rn+=38*Ro,zn+=38*So,pn+=38*po,Vn+=38*vo,co+=38*wo,uo+=38*to,Eo+=38*_a,ho+=38*yo,Co+=38*Yr,Po+=38*Cn,Fo+=38*nn,Do+=38*Yn,ko+=38*na,Mo+=38*Xn,Oo+=38*lo,Ur=1,Mr=rn+Ur+65535,Ur=Math.floor(Mr/65536),rn=Mr-Ur*65536,Mr=zn+Ur+65535,Ur=Math.floor(Mr/65536),zn=Mr-Ur*65536,Mr=pn+Ur+65535,Ur=Math.floor(Mr/65536),pn=Mr-Ur*65536,Mr=Vn+Ur+65535,Ur=Math.floor(Mr/65536),Vn=Mr-Ur*65536,Mr=co+Ur+65535,Ur=Math.floor(Mr/65536),co=Mr-Ur*65536,Mr=uo+Ur+65535,Ur=Math.floor(Mr/65536),uo=Mr-Ur*65536,Mr=Eo+Ur+65535,Ur=Math.floor(Mr/65536),Eo=Mr-Ur*65536,Mr=ho+Ur+65535,Ur=Math.floor(Mr/65536),ho=Mr-Ur*65536,Mr=Co+Ur+65535,Ur=Math.floor(Mr/65536),Co=Mr-Ur*65536,Mr=Po+Ur+65535,Ur=Math.floor(Mr/65536),Po=Mr-Ur*65536,Mr=Fo+Ur+65535,Ur=Math.floor(Mr/65536),Fo=Mr-Ur*65536,Mr=Do+Ur+65535,Ur=Math.floor(Mr/65536),Do=Mr-Ur*65536,Mr=ko+Ur+65535,Ur=Math.floor(Mr/65536),ko=Mr-Ur*65536,Mr=Mo+Ur+65535,Ur=Math.floor(Mr/65536),Mo=Mr-Ur*65536,Mr=Oo+Ur+65535,Ur=Math.floor(Mr/65536),Oo=Mr-Ur*65536,Mr=xo+Ur+65535,Ur=Math.floor(Mr/65536),xo=Mr-Ur*65536,rn+=Ur-1+37*(Ur-1),Ur=1,Mr=rn+Ur+65535,Ur=Math.floor(Mr/65536),rn=Mr-Ur*65536,Mr=zn+Ur+65535,Ur=Math.floor(Mr/65536),zn=Mr-Ur*65536,Mr=pn+Ur+65535,Ur=Math.floor(Mr/65536),pn=Mr-Ur*65536,Mr=Vn+Ur+65535,Ur=Math.floor(Mr/65536),Vn=Mr-Ur*65536,Mr=co+Ur+65535,Ur=Math.floor(Mr/65536),co=Mr-Ur*65536,Mr=uo+Ur+65535,Ur=Math.floor(Mr/65536),uo=Mr-Ur*65536,Mr=Eo+Ur+65535,Ur=Math.floor(Mr/65536),Eo=Mr-Ur*65536,Mr=ho+Ur+65535,Ur=Math.floor(Mr/65536),ho=Mr-Ur*65536,Mr=Co+Ur+65535,Ur=Math.floor(Mr/65536),Co=Mr-Ur*65536,Mr=Po+Ur+65535,Ur=Math.floor(Mr/65536),Po=Mr-Ur*65536,Mr=Fo+Ur+65535,Ur=Math.floor(Mr/65536),Fo=Mr-Ur*65536,Mr=Do+Ur+65535,Ur=Math.floor(Mr/65536),Do=Mr-Ur*65536,Mr=ko+Ur+65535,Ur=Math.floor(Mr/65536),ko=Mr-Ur*65536,Mr=Mo+Ur+65535,Ur=Math.floor(Mr/65536),Mo=Mr-Ur*65536,Mr=Oo+Ur+65535,Ur=Math.floor(Mr/65536),Oo=Mr-Ur*65536,Mr=xo+Ur+65535,Ur=Math.floor(Mr/65536),xo=Mr-Ur*65536,rn+=Ur-1+37*(Ur-1),Br[0]=rn,Br[1]=zn,Br[2]=pn,Br[3]=Vn,Br[4]=co,Br[5]=uo,Br[6]=Eo,Br[7]=ho,Br[8]=Co,Br[9]=Po,Br[10]=Fo,Br[11]=Do,Br[12]=ko,Br[13]=Mo,Br[14]=Oo,Br[15]=xo}function Or(Br,Lr){Ir(Br,Lr,Lr)}function Ar(Br,Lr){var qr=at(),Mr;for(Mr=0;Mr<16;Mr++)qr[Mr]=Lr[Mr];for(Mr=253;Mr>=0;Mr--)Or(qr,qr),Mr!==2&&Mr!==4&&Ir(qr,qr,Lr);for(Mr=0;Mr<16;Mr++)Br[Mr]=qr[Mr]}function Nr(Br,Lr){var qr=at(),Mr;for(Mr=0;Mr<16;Mr++)qr[Mr]=Lr[Mr];for(Mr=250;Mr>=0;Mr--)Or(qr,qr),Mr!==1&&Ir(qr,qr,Lr);for(Mr=0;Mr<16;Mr++)Br[Mr]=qr[Mr]}function Hr(Br,Lr,qr){var Mr=new Uint8Array(32),Ur=new Float64Array(80),rn,zn,pn=at(),Vn=at(),co=at(),uo=at(),Eo=at(),ho=at();for(zn=0;zn<31;zn++)Mr[zn]=Lr[zn];for(Mr[31]=Lr[31]&127|64,Mr[0]&=248,_r(Ur,qr),zn=0;zn<16;zn++)Vn[zn]=Ur[zn],uo[zn]=pn[zn]=co[zn]=0;for(pn[0]=uo[0]=1,zn=254;zn>=0;--zn)rn=Mr[zn>>>3]>>>(zn&7)&1,fr(pn,Vn,rn),fr(co,uo,rn),yr(Eo,pn,co),wr(pn,pn,co),yr(co,Vn,uo),wr(Vn,Vn,uo),Or(uo,Eo),Or(ho,pn),Ir(pn,co,pn),Ir(co,Vn,Eo),yr(Eo,pn,co),wr(pn,pn,co),Or(Vn,pn),wr(co,uo,ho),Ir(pn,co,Nt),yr(pn,pn,uo),Ir(co,co,pn),Ir(pn,uo,ho),Ir(uo,Vn,Ur),Or(Vn,Eo),fr(pn,Vn,rn),fr(co,uo,rn);for(zn=0;zn<16;zn++)Ur[zn+16]=pn[zn],Ur[zn+32]=co[zn],Ur[zn+48]=Vn[zn],Ur[zn+64]=uo[zn];var Co=Ur.subarray(32),Po=Ur.subarray(16);return Ar(Co,Co),Ir(Po,Po,Co),sr(Br,Po),0}function Pr(Br,Lr){return Hr(Br,Lr,Ct)}function Dr(Br,Lr){return mt(Lr,32),Pr(Br,Lr)}function Rr(Br,Lr,qr){var Mr=new Uint8Array(32);return Hr(Mr,qr,Lr),xr(Br,$t,Mr,Sr)}var Vr=nr,an=rr;function Xr(Br,Lr,qr,Mr,Ur,rn){var zn=new Uint8Array(32);return Rr(zn,Ur,rn),Vr(Br,Lr,qr,Mr,zn)}function Jr(Br,Lr,qr,Mr,Ur,rn){var zn=new Uint8Array(32);return Rr(zn,Ur,rn),an(Br,Lr,qr,Mr,zn)}var Zr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Gr(Br,Lr,qr,Mr){for(var Ur=new Int32Array(16),rn=new Int32Array(16),zn,pn,Vn,co,uo,Eo,ho,Co,Po,Fo,Do,ko,Mo,Oo,xo,Ro,So,po,vo,wo,to,_a,yo,Yr,Cn,nn,Yn=Br[0],na=Br[1],Xn=Br[2],lo=Br[3],$n=Br[4],mo=Br[5],go=Br[6],_o=Br[7],Ao=Lr[0],qo=Lr[1],Uo=Lr[2],Wo=Lr[3],Go=Lr[4],Ko=Lr[5],Xo=Lr[6],es=Lr[7],rs=0;Mr>=128;){for(vo=0;vo<16;vo++)wo=8*vo+rs,Ur[vo]=qr[wo+0]<<24|qr[wo+1]<<16|qr[wo+2]<<8|qr[wo+3],rn[vo]=qr[wo+4]<<24|qr[wo+5]<<16|qr[wo+6]<<8|qr[wo+7];for(vo=0;vo<80;vo++)if(zn=Yn,pn=na,Vn=Xn,co=lo,uo=$n,Eo=mo,ho=go,Co=_o,Po=Ao,Fo=qo,Do=Uo,ko=Wo,Mo=Go,Oo=Ko,xo=Xo,Ro=es,to=_o,_a=es,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=($n>>>14|Go<<18)^($n>>>18|Go<<14)^(Go>>>9|$n<<23),_a=(Go>>>14|$n<<18)^(Go>>>18|$n<<14)^($n>>>9|Go<<23),yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,to=$n&mo^~$n&go,_a=Go&Ko^~Go&Xo,yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,to=Zr[vo*2],_a=Zr[vo*2+1],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,to=Ur[vo%16],_a=rn[vo%16],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,So=Cn&65535|nn<<16,po=yo&65535|Yr<<16,to=So,_a=po,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=(Yn>>>28|Ao<<4)^(Ao>>>2|Yn<<30)^(Ao>>>7|Yn<<25),_a=(Ao>>>28|Yn<<4)^(Yn>>>2|Ao<<30)^(Yn>>>7|Ao<<25),yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,to=Yn&na^Yn&Xn^na&Xn,_a=Ao&qo^Ao&Uo^qo&Uo,yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Co=Cn&65535|nn<<16,Ro=yo&65535|Yr<<16,to=co,_a=ko,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=So,_a=po,yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,co=Cn&65535|nn<<16,ko=yo&65535|Yr<<16,na=zn,Xn=pn,lo=Vn,$n=co,mo=uo,go=Eo,_o=ho,Yn=Co,qo=Po,Uo=Fo,Wo=Do,Go=ko,Ko=Mo,Xo=Oo,es=xo,Ao=Ro,vo%16===15)for(wo=0;wo<16;wo++)to=Ur[wo],_a=rn[wo],yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Ur[(wo+9)%16],_a=rn[(wo+9)%16],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,So=Ur[(wo+1)%16],po=rn[(wo+1)%16],to=(So>>>1|po<<31)^(So>>>8|po<<24)^So>>>7,_a=(po>>>1|So<<31)^(po>>>8|So<<24)^(po>>>7|So<<25),yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,So=Ur[(wo+14)%16],po=rn[(wo+14)%16],to=(So>>>19|po<<13)^(po>>>29|So<<3)^So>>>6,_a=(po>>>19|So<<13)^(So>>>29|po<<3)^(po>>>6|So<<26),yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Ur[wo]=Cn&65535|nn<<16,rn[wo]=yo&65535|Yr<<16;to=Yn,_a=Ao,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[0],_a=Lr[0],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[0]=Yn=Cn&65535|nn<<16,Lr[0]=Ao=yo&65535|Yr<<16,to=na,_a=qo,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[1],_a=Lr[1],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[1]=na=Cn&65535|nn<<16,Lr[1]=qo=yo&65535|Yr<<16,to=Xn,_a=Uo,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[2],_a=Lr[2],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[2]=Xn=Cn&65535|nn<<16,Lr[2]=Uo=yo&65535|Yr<<16,to=lo,_a=Wo,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[3],_a=Lr[3],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[3]=lo=Cn&65535|nn<<16,Lr[3]=Wo=yo&65535|Yr<<16,to=$n,_a=Go,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[4],_a=Lr[4],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[4]=$n=Cn&65535|nn<<16,Lr[4]=Go=yo&65535|Yr<<16,to=mo,_a=Ko,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[5],_a=Lr[5],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[5]=mo=Cn&65535|nn<<16,Lr[5]=Ko=yo&65535|Yr<<16,to=go,_a=Xo,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[6],_a=Lr[6],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[6]=go=Cn&65535|nn<<16,Lr[6]=Xo=yo&65535|Yr<<16,to=_o,_a=es,yo=_a&65535,Yr=_a>>>16,Cn=to&65535,nn=to>>>16,to=Br[7],_a=Lr[7],yo+=_a&65535,Yr+=_a>>>16,Cn+=to&65535,nn+=to>>>16,Yr+=yo>>>16,Cn+=Yr>>>16,nn+=Cn>>>16,Br[7]=_o=Cn&65535|nn<<16,Lr[7]=es=yo&65535|Yr<<16,rs+=128,Mr-=128}return Mr}function zr(Br,Lr,qr){var Mr=new Int32Array(8),Ur=new Int32Array(8),rn=new Uint8Array(256),zn,pn=qr;for(Mr[0]=1779033703,Mr[1]=3144134277,Mr[2]=1013904242,Mr[3]=2773480762,Mr[4]=1359893119,Mr[5]=2600822924,Mr[6]=528734635,Mr[7]=1541459225,Ur[0]=4089235720,Ur[1]=2227873595,Ur[2]=4271175723,Ur[3]=1595750129,Ur[4]=2917565137,Ur[5]=725511199,Ur[6]=4215389547,Ur[7]=327033209,Gr(Mr,Ur,Lr,qr),qr%=128,zn=0;zn<qr;zn++)rn[zn]=Lr[pn-qr+zn];for(rn[qr]=128,qr=256-128*(qr<112?1:0),rn[qr-9]=0,or(rn,qr-8,pn/536870912|0,pn<<3),Gr(Mr,Ur,rn,qr),zn=0;zn<8;zn++)or(Br,8*zn,Mr[zn],Ur[zn]);return 0}function Dn(Br,Lr){var qr=at(),Mr=at(),Ur=at(),rn=at(),zn=at(),pn=at(),Vn=at(),co=at(),uo=at();wr(qr,Br[1],Br[0]),wr(uo,Lr[1],Lr[0]),Ir(qr,qr,uo),yr(Mr,Br[0],Br[1]),yr(uo,Lr[0],Lr[1]),Ir(Mr,Mr,uo),Ir(Ur,Br[3],Lr[3]),Ir(Ur,Ur,Lt),Ir(rn,Br[2],Lr[2]),yr(rn,rn,rn),wr(zn,Mr,qr),wr(pn,rn,Ur),yr(Vn,rn,Ur),yr(co,Mr,qr),Ir(Br[0],zn,pn),Ir(Br[1],co,Vn),Ir(Br[2],Vn,pn),Ir(Br[3],zn,co)}function Qr(Br,Lr,qr){var Mr;for(Mr=0;Mr<4;Mr++)fr(Br[Mr],Lr[Mr],qr)}function Un(Br,Lr){var qr=at(),Mr=at(),Ur=at();Ar(Ur,Lr[2]),Ir(qr,Lr[0],Ur),Ir(Mr,Lr[1],Ur),sr(Br,Mr),Br[31]^=ur(qr)<<7}function ro(Br,Lr,qr){var Mr,Ur;for(ar(Br[0],Dt),ar(Br[1],Ft),ar(Br[2],Ft),ar(Br[3],Dt),Ur=255;Ur>=0;--Ur)Mr=qr[Ur/8|0]>>(Ur&7)&1,Qr(Br,Lr,Mr),Dn(Lr,Br),Dn(Br,Br),Qr(Br,Lr,Mr)}function Hn(Br,Lr){var qr=[at(),at(),at(),at()];ar(qr[0],Vt),ar(qr[1],er),ar(qr[2],Ft),Ir(qr[3],Vt,er),ro(Br,qr,Lr)}function Qn(Br,Lr,qr){var Mr=new Uint8Array(64),Ur=[at(),at(),at(),at()],rn;for(qr||mt(Lr,32),zr(Mr,Lr,32),Mr[0]&=248,Mr[31]&=127,Mr[31]|=64,Hn(Ur,Mr),Un(Br,Ur),rn=0;rn<32;rn++)Lr[rn+32]=Br[rn];return 0}var $o=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Kn(Br,Lr){var qr,Mr,Ur,rn;for(Mr=63;Mr>=32;--Mr){for(qr=0,Ur=Mr-32,rn=Mr-12;Ur<rn;++Ur)Lr[Ur]+=qr-16*Lr[Mr]*$o[Ur-(Mr-32)],qr=Math.floor((Lr[Ur]+128)/256),Lr[Ur]-=qr*256;Lr[Ur]+=qr,Lr[Mr]=0}for(qr=0,Ur=0;Ur<32;Ur++)Lr[Ur]+=qr-(Lr[31]>>4)*$o[Ur],qr=Lr[Ur]>>8,Lr[Ur]&=255;for(Ur=0;Ur<32;Ur++)Lr[Ur]-=qr*$o[Ur];for(Mr=0;Mr<32;Mr++)Lr[Mr+1]+=Lr[Mr]>>8,Br[Mr]=Lr[Mr]&255}function _i(Br){var Lr=new Float64Array(64),qr;for(qr=0;qr<64;qr++)Lr[qr]=Br[qr];for(qr=0;qr<64;qr++)Br[qr]=0;Kn(Br,Lr)}function Lo(Br,Lr,qr,Mr){var Ur=new Uint8Array(64),rn=new Uint8Array(64),zn=new Uint8Array(64),pn,Vn,co=new Float64Array(64),uo=[at(),at(),at(),at()];zr(Ur,Mr,32),Ur[0]&=248,Ur[31]&=127,Ur[31]|=64;var Eo=qr+64;for(pn=0;pn<qr;pn++)Br[64+pn]=Lr[pn];for(pn=0;pn<32;pn++)Br[32+pn]=Ur[32+pn];for(zr(zn,Br.subarray(32),qr+32),_i(zn),Hn(uo,zn),Un(Br,uo),pn=32;pn<64;pn++)Br[pn]=Mr[pn];for(zr(rn,Br,qr+64),_i(rn),pn=0;pn<64;pn++)co[pn]=0;for(pn=0;pn<32;pn++)co[pn]=zn[pn];for(pn=0;pn<32;pn++)for(Vn=0;Vn<32;Vn++)co[pn+Vn]+=rn[pn]*Ur[Vn];return Kn(Br.subarray(32),co),Eo}function jr(Br,Lr){var qr=at(),Mr=at(),Ur=at(),rn=at(),zn=at(),pn=at(),Vn=at();return ar(Br[2],Ft),_r(Br[1],Lr),Or(Ur,Br[1]),Ir(rn,Ur,jt),wr(Ur,Ur,Br[2]),yr(rn,Br[2],rn),Or(zn,rn),Or(pn,zn),Ir(Vn,pn,zn),Ir(qr,Vn,Ur),Ir(qr,qr,rn),Nr(qr,qr),Ir(qr,qr,Ur),Ir(qr,qr,rn),Ir(qr,qr,rn),Ir(Br[0],qr,rn),Or(Mr,Br[0]),Ir(Mr,Mr,rn),Yt(Mr,Ur)&&Ir(Br[0],Br[0],ir),Or(Mr,Br[0]),Ir(Mr,Mr,rn),Yt(Mr,Ur)?-1:(ur(Br[0])===Lr[31]>>7&&wr(Br[0],Dt,Br[0]),Ir(Br[3],Br[0],Br[1]),0)}function Tr(Br,Lr,qr,Mr){var Ur,rn=new Uint8Array(32),zn=new Uint8Array(64),pn=[at(),at(),at(),at()],Vn=[at(),at(),at(),at()];if(qr<64||jr(Vn,Mr))return-1;for(Ur=0;Ur<qr;Ur++)Br[Ur]=Lr[Ur];for(Ur=0;Ur<32;Ur++)Br[Ur+32]=Mr[Ur];if(zr(zn,Br,qr),_i(zn),ro(pn,Vn,zn),Hn(Vn,Lr.subarray(32)),Dn(pn,Vn),Un(rn,pn),qr-=64,pr(Lr,0,rn,0)){for(Ur=0;Ur<qr;Ur++)Br[Ur]=0;return-1}for(Ur=0;Ur<qr;Ur++)Br[Ur]=Lr[Ur+64];return qr}var Fr=32,Wr=24,sn=32,Jn=16,Nn=32,Zn=32,Io=32,ga=32,ba=32,Bo=Wr,io=sn,so=Jn,zo=64,eo=32,oo=64,Ho=32,no=64;et.lowlevel={crypto_core_hsalsa20:xr,crypto_stream_xor:kr,crypto_stream:Cr,crypto_stream_salsa20_xor:Er,crypto_stream_salsa20:$r,crypto_onetimeauth:Ut,crypto_onetimeauth_verify:tr,crypto_verify_16:dr,crypto_verify_32:pr,crypto_secretbox:nr,crypto_secretbox_open:rr,crypto_scalarmult:Hr,crypto_scalarmult_base:Pr,crypto_box_beforenm:Rr,crypto_box_afternm:Vr,crypto_box:Xr,crypto_box_open:Jr,crypto_box_keypair:Dr,crypto_hash:zr,crypto_sign:Lo,crypto_sign_keypair:Qn,crypto_sign_open:Tr,crypto_secretbox_KEYBYTES:Fr,crypto_secretbox_NONCEBYTES:Wr,crypto_secretbox_ZEROBYTES:sn,crypto_secretbox_BOXZEROBYTES:Jn,crypto_scalarmult_BYTES:Nn,crypto_scalarmult_SCALARBYTES:Zn,crypto_box_PUBLICKEYBYTES:Io,crypto_box_SECRETKEYBYTES:ga,crypto_box_BEFORENMBYTES:ba,crypto_box_NONCEBYTES:Bo,crypto_box_ZEROBYTES:io,crypto_box_BOXZEROBYTES:so,crypto_sign_BYTES:zo,crypto_sign_PUBLICKEYBYTES:eo,crypto_sign_SECRETKEYBYTES:oo,crypto_sign_SEEDBYTES:Ho,crypto_hash_BYTES:no,gf:at,D:jt,L:$o,pack25519:sr,unpack25519:_r,M:Ir,A:yr,S:Or,Z:wr,pow2523:Nr,add:Dn,set25519:ar,modL:Kn,scalarmult:ro,scalarbase:Hn};function ao(Br,Lr){if(Br.length!==Fr)throw new Error("bad key size");if(Lr.length!==Wr)throw new Error("bad nonce size")}function Gn(Br,Lr){if(Br.length!==Io)throw new Error("bad public key size");if(Lr.length!==ga)throw new Error("bad secret key size")}function dn(){for(var Br=0;Br<arguments.length;Br++)if(!(arguments[Br]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ln(Br){for(var Lr=0;Lr<Br.length;Lr++)Br[Lr]=0}et.randomBytes=function(Br){var Lr=new Uint8Array(Br);return mt(Lr,Br),Lr},et.secretbox=function(Br,Lr,qr){dn(Br,Lr,qr),ao(qr,Lr);for(var Mr=new Uint8Array(sn+Br.length),Ur=new Uint8Array(Mr.length),rn=0;rn<Br.length;rn++)Mr[rn+sn]=Br[rn];return nr(Ur,Mr,Mr.length,Lr,qr),Ur.subarray(Jn)},et.secretbox.open=function(Br,Lr,qr){dn(Br,Lr,qr),ao(qr,Lr);for(var Mr=new Uint8Array(Jn+Br.length),Ur=new Uint8Array(Mr.length),rn=0;rn<Br.length;rn++)Mr[rn+Jn]=Br[rn];return Mr.length<32||rr(Ur,Mr,Mr.length,Lr,qr)!==0?null:Ur.subarray(sn)},et.secretbox.keyLength=Fr,et.secretbox.nonceLength=Wr,et.secretbox.overheadLength=Jn,et.scalarMult=function(Br,Lr){if(dn(Br,Lr),Br.length!==Zn)throw new Error("bad n size");if(Lr.length!==Nn)throw new Error("bad p size");var qr=new Uint8Array(Nn);return Hr(qr,Br,Lr),qr},et.scalarMult.base=function(Br){if(dn(Br),Br.length!==Zn)throw new Error("bad n size");var Lr=new Uint8Array(Nn);return Pr(Lr,Br),Lr},et.scalarMult.scalarLength=Zn,et.scalarMult.groupElementLength=Nn,et.box=function(Br,Lr,qr,Mr){var Ur=et.box.before(qr,Mr);return et.secretbox(Br,Lr,Ur)},et.box.before=function(Br,Lr){dn(Br,Lr),Gn(Br,Lr);var qr=new Uint8Array(ba);return Rr(qr,Br,Lr),qr},et.box.after=et.secretbox,et.box.open=function(Br,Lr,qr,Mr){var Ur=et.box.before(qr,Mr);return et.secretbox.open(Br,Lr,Ur)},et.box.open.after=et.secretbox.open,et.box.keyPair=function(){var Br=new Uint8Array(Io),Lr=new Uint8Array(ga);return Dr(Br,Lr),{publicKey:Br,secretKey:Lr}},et.box.keyPair.fromSecretKey=function(Br){if(dn(Br),Br.length!==ga)throw new Error("bad secret key size");var Lr=new Uint8Array(Io);return Pr(Lr,Br),{publicKey:Lr,secretKey:new Uint8Array(Br)}},et.box.publicKeyLength=Io,et.box.secretKeyLength=ga,et.box.sharedKeyLength=ba,et.box.nonceLength=Bo,et.box.overheadLength=et.secretbox.overheadLength,et.sign=function(Br,Lr){if(dn(Br,Lr),Lr.length!==oo)throw new Error("bad secret key size");var qr=new Uint8Array(zo+Br.length);return Lo(qr,Br,Br.length,Lr),qr},et.sign.open=function(Br,Lr){if(dn(Br,Lr),Lr.length!==eo)throw new Error("bad public key size");var qr=new Uint8Array(Br.length),Mr=Tr(qr,Br,Br.length,Lr);if(Mr<0)return null;for(var Ur=new Uint8Array(Mr),rn=0;rn<Ur.length;rn++)Ur[rn]=qr[rn];return Ur},et.sign.detached=function(Br,Lr){for(var qr=et.sign(Br,Lr),Mr=new Uint8Array(zo),Ur=0;Ur<Mr.length;Ur++)Mr[Ur]=qr[Ur];return Mr},et.sign.detached.verify=function(Br,Lr,qr){if(dn(Br,Lr,qr),Lr.length!==zo)throw new Error("bad signature size");if(qr.length!==eo)throw new Error("bad public key size");var Mr=new Uint8Array(zo+Br.length),Ur=new Uint8Array(zo+Br.length),rn;for(rn=0;rn<zo;rn++)Mr[rn]=Lr[rn];for(rn=0;rn<Br.length;rn++)Mr[rn+zo]=Br[rn];return Tr(Ur,Mr,Mr.length,qr)>=0},et.sign.keyPair=function(){var Br=new Uint8Array(eo),Lr=new Uint8Array(oo);return Qn(Br,Lr),{publicKey:Br,secretKey:Lr}},et.sign.keyPair.fromSecretKey=function(Br){if(dn(Br),Br.length!==oo)throw new Error("bad secret key size");for(var Lr=new Uint8Array(eo),qr=0;qr<Lr.length;qr++)Lr[qr]=Br[32+qr];return{publicKey:Lr,secretKey:new Uint8Array(Br)}},et.sign.keyPair.fromSeed=function(Br){if(dn(Br),Br.length!==Ho)throw new Error("bad seed size");for(var Lr=new Uint8Array(eo),qr=new Uint8Array(oo),Mr=0;Mr<32;Mr++)qr[Mr]=Br[Mr];return Qn(Lr,qr,!0),{publicKey:Lr,secretKey:qr}},et.sign.publicKeyLength=eo,et.sign.secretKeyLength=oo,et.sign.seedLength=Ho,et.sign.signatureLength=zo,et.hash=function(Br){dn(Br);var Lr=new Uint8Array(no);return zr(Lr,Br,Br.length),Lr},et.hash.hashLength=no,et.verify=function(Br,Lr){return dn(Br,Lr),Br.length===0||Lr.length===0||Br.length!==Lr.length?!1:lr(Br,0,Lr,0,Br.length)===0},et.setPRNG=function(Br){mt=Br},function(){var Br=typeof self<"u"?self.crypto||self.msCrypto:null;if(Br&&Br.getRandomValues){var Lr=65536;et.setPRNG(function(qr,Mr){var Ur,rn=new Uint8Array(Mr);for(Ur=0;Ur<Mr;Ur+=Lr)Br.getRandomValues(rn.subarray(Ur,Ur+Math.min(Mr-Ur,Lr)));for(Ur=0;Ur<Mr;Ur++)qr[Ur]=rn[Ur];Ln(rn)})}else typeof commonjsRequire$1<"u"&&(Br=requireCryptoBrowserify(),Br&&Br.randomBytes&&et.setPRNG(function(qr,Mr){var Ur,rn=Br.randomBytes(Mr);for(Ur=0;Ur<Mr;Ur++)qr[Ur]=rn[Ur];Ln(rn)}))}()})(nt.exports?nt.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const nacl=getDefaultExportFromCjs$2(naclFastExports),ED25519_CURVE="ed25519 seed",HARDENED_OFFSET=2147483648,pathRegex=new RegExp("^m(\\/[0-9]+')+$"),replaceDerive=nt=>nt.replace("'",""),getMasterKeyFromSeed=nt=>{const at=hmac$2.create(sha512$3,ED25519_CURVE).update(fromHex(nt)).digest(),mt=at.slice(0,32),$t=at.slice(32);return{key:mt,chainCode:$t}},CKDPriv=({key:nt,chainCode:et},at)=>{const mt=new ArrayBuffer(4);new DataView(mt).setUint32(0,at);const Ct=new Uint8Array(1+nt.length+mt.byteLength);Ct.set(new Uint8Array(1).fill(0)),Ct.set(nt,1),Ct.set(new Uint8Array(mt,0,mt.byteLength),nt.length+1);const Dt=hmac$2.create(sha512$3,et).update(Ct).digest(),Ft=Dt.slice(0,32),Nt=Dt.slice(32);return{key:Ft,chainCode:Nt}},isValidPath=nt=>pathRegex.test(nt)?!nt.split("/").slice(1).map(replaceDerive).some(isNaN):!1,derivePath=(nt,et,at=HARDENED_OFFSET)=>{if(!isValidPath(nt))throw new Error("Invalid derivation path");const{key:mt,chainCode:$t}=getMasterKeyFromSeed(et);return nt.split("/").slice(1).map(replaceDerive).map(Dt=>parseInt(Dt,10)).reduce((Dt,Ft)=>CKDPriv(Dt,Ft+at),{key:mt,chainCode:$t})},PUBLIC_KEY_SIZE=32;class Ed25519PublicKey extends PublicKey{constructor(et){if(super(),typeof et=="string"?this.data=fromBase64(et):et instanceof Uint8Array?this.data=et:this.data=Uint8Array.from(et),this.data.length!==PUBLIC_KEY_SIZE)throw new Error(`Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`)}equals(et){return super.equals(et)}toRawBytes(){return this.data}flag(){return SIGNATURE_SCHEME_TO_FLAG.ED25519}async verify(et,at){let mt;if(typeof at=="string"){const $t=parseSerializedSignature(at);if($t.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!bytesEqual(this.toRawBytes(),$t.publicKey))throw new Error("Signature does not match public key");mt=$t.signature}else mt=at;return nacl.sign.detached.verify(et,mt,this.toRawBytes())}}Ed25519PublicKey.SIZE=PUBLIC_KEY_SIZE;const DEFAULT_ED25519_DERIVATION_PATH="m/44'/784'/0'/0'/0'";class Ed25519Keypair extends Keypair{constructor(et){super(),et?this.keypair=et:this.keypair=nacl.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new Ed25519Keypair(nacl.sign.keyPair())}static fromSecretKey(et,at){if(typeof et=="string"){const Ct=decodeSuiPrivateKey(et);if(Ct.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${Ct.schema}`);return this.fromSecretKey(Ct.secretKey,at)}const mt=et.length;if(mt!==PRIVATE_KEY_SIZE)throw new Error(`Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${mt}.`);const $t=nacl.sign.keyPair.fromSeed(et);if(!at||!at.skipValidation){const Dt=new TextEncoder().encode("sui validation"),Ft=nacl.sign.detached(Dt,$t.secretKey);if(!nacl.sign.detached.verify(Dt,Ft,$t.publicKey))throw new Error("provided secretKey is invalid")}return new Ed25519Keypair($t)}getPublicKey(){return new Ed25519PublicKey(this.keypair.publicKey)}getSecretKey(){return encodeSuiPrivateKey(this.keypair.secretKey.slice(0,PRIVATE_KEY_SIZE),this.getKeyScheme())}async sign(et){return nacl.sign.detached(et,this.keypair.secretKey)}static deriveKeypair(et,at){if(at==null&&(at=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(at))throw new Error("Invalid derivation path");const{key:mt}=derivePath(at,mnemonicToSeedHex(et));return Ed25519Keypair.fromSecretKey(mt)}static deriveKeypairFromSeed(et,at){if(at==null&&(at=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(at))throw new Error("Invalid derivation path");const{key:mt}=derivePath(at,et);return Ed25519Keypair.fromSecretKey(mt)}}function mitt(nt){return{all:nt=nt||new Map,on:function(et,at){var mt=nt.get(et);mt?mt.push(at):nt.set(et,[at])},off:function(et,at){var mt=nt.get(et);mt&&(at?mt.splice(mt.indexOf(at)>>>0,1):nt.set(et,[]))},emit:function(et,at){var mt=nt.get(et);mt&&mt.slice().map(function($t){$t(at)}),(mt=nt.get("*"))&&mt.slice().map(function($t){$t(et,at)})}}}function withResolvers(){let nt,et;return{promise:new Promise((mt,$t)=>{nt=mt,et=$t}),reject:et,resolve:nt}}const StashedRequestData=variant("type",[object$1({type:literal("connect")}),object$1({type:literal("sign-transaction-block"),data:string("`data` is required"),address:string("`address` is required")}),object$1({type:literal("sign-personal-message"),bytes:string("`bytes` is required"),address:string("`address` is required")})]);object$1({id:pipe$4(string("`id` is required"),uuid()),origin:pipe$4(string(),url("`origin` must be a valid URL")),name:optional(string()),payload:StashedRequestData});const StashedResponseData=variant("type",[object$1({type:literal("connect"),address:string()}),object$1({type:literal("sign-transaction-block"),bytes:string(),signature:string()}),object$1({type:literal("sign-personal-message"),bytes:string(),signature:string()})]),StashedResponsePayload=variant("type",[object$1({type:literal("reject")}),object$1({type:literal("resolve"),data:StashedResponseData})]),StashedResponse=object$1({id:pipe$4(string(),uuid()),source:literal("zksend-channel"),payload:StashedResponsePayload});var __typeError$2=nt=>{throw TypeError(nt)},__accessCheck$2=(nt,et,at)=>et.has(nt)||__typeError$2("Cannot "+at),__privateGet$2=(nt,et,at)=>(__accessCheck$2(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$2=(nt,et,at)=>et.has(nt)?__typeError$2("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet$1=(nt,et,at,mt)=>(__accessCheck$2(nt,et,"write to private field"),et.set(nt,at),at),__privateMethod$1=(nt,et,at)=>(__accessCheck$2(nt,et,"access private method"),at),_popup,_id,_origin$1,_name$1,_network$1,_promise,_resolve,_reject,_interval,_listener,_StashedPopup_instances,cleanup_fn;const DEFAULT_STASHED_ORIGIN="https://getstashed.com";class StashedPopup{constructor({name:et,network:at,origin:mt=DEFAULT_STASHED_ORIGIN}){__privateAdd$2(this,_StashedPopup_instances),__privateAdd$2(this,_popup),__privateAdd$2(this,_id),__privateAdd$2(this,_origin$1),__privateAdd$2(this,_name$1),__privateAdd$2(this,_network$1),__privateAdd$2(this,_promise),__privateAdd$2(this,_resolve),__privateAdd$2(this,_reject),__privateAdd$2(this,_interval,null),__privateAdd$2(this,_listener,Nt=>{if(Nt.origin!==__privateGet$2(this,_origin$1))return;const{success:jt,output:Lt}=safeParse(StashedResponse,Nt.data);!jt||Lt.id!==__privateGet$2(this,_id)||(__privateMethod$1(this,_StashedPopup_instances,cleanup_fn).call(this),Lt.payload.type==="reject"?__privateGet$2(this,_reject).call(this,new Error("User rejected the request")):Lt.payload.type==="resolve"&&__privateGet$2(this,_resolve).call(this,Lt.payload.data))});const $t=window.open("about:blank","_blank");if(!$t)throw new Error("Failed to open new window");__privateSet$1(this,_popup,$t),__privateSet$1(this,_id,crypto.randomUUID()),__privateSet$1(this,_origin$1,mt),__privateSet$1(this,_name$1,et),__privateSet$1(this,_network$1,at);const{promise:Ct,resolve:Dt,reject:Ft}=withResolvers();__privateSet$1(this,_promise,Ct),__privateSet$1(this,_resolve,Dt),__privateSet$1(this,_reject,Ft),__privateSet$1(this,_interval,setInterval(()=>{try{__privateGet$2(this,_popup).closed&&(__privateMethod$1(this,_StashedPopup_instances,cleanup_fn).call(this),Ft(new Error("User closed the Stashed window")))}catch{}},1e3))}send({type:et,...at}){return window.addEventListener("message",__privateGet$2(this,_listener)),__privateGet$2(this,_popup).location.assign(`${__privateGet$2(this,_origin$1)}/dapp/${et}?${new URLSearchParams({id:__privateGet$2(this,_id),origin:window.origin,network:__privateGet$2(this,_network$1),name:__privateGet$2(this,_name$1)})}${at?`#${new URLSearchParams(at)}`:""}`),__privateGet$2(this,_promise)}close(){__privateMethod$1(this,_StashedPopup_instances,cleanup_fn).call(this),__privateGet$2(this,_popup).close()}}_popup=new WeakMap;_id=new WeakMap;_origin$1=new WeakMap;_name$1=new WeakMap;_network$1=new WeakMap;_promise=new WeakMap;_resolve=new WeakMap;_reject=new WeakMap;_interval=new WeakMap;_listener=new WeakMap;_StashedPopup_instances=new WeakSet;cleanup_fn=function(){__privateGet$2(this,_interval)&&(clearInterval(__privateGet$2(this,_interval)),__privateSet$1(this,_interval,null)),window.removeEventListener("message",__privateGet$2(this,_listener))};var __typeError$1=nt=>{throw TypeError(nt)},__accessCheck$1=(nt,et,at)=>et.has(nt)||__typeError$1("Cannot "+at),__privateGet$1=(nt,et,at)=>(__accessCheck$1(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd$1=(nt,et,at)=>et.has(nt)?__typeError$1("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),__privateSet=(nt,et,at,mt)=>(__accessCheck$1(nt,et,"write to private field"),et.set(nt,at),at),__privateMethod=(nt,et,at)=>(__accessCheck$1(nt,et,"access private method"),at),_events,_accounts,_origin,_name,_network,_signTransactionBlock,_signTransaction,_signPersonalMessage,_on,_StashedWallet_instances,setAccount_fn,_connect,_disconnect;const STASHED_RECENT_ADDRESS_KEY="stashed:recentAddress",STASHED_WALLET_NAME="Stashed";class StashedWallet{constructor({name:et,network:at,address:mt,origin:$t=DEFAULT_STASHED_ORIGIN}){__privateAdd$1(this,_StashedWallet_instances),__privateAdd$1(this,_events),__privateAdd$1(this,_accounts),__privateAdd$1(this,_origin),__privateAdd$1(this,_name),__privateAdd$1(this,_network),__privateAdd$1(this,_signTransactionBlock,async({transactionBlock:Ct,account:Dt})=>{Ct.setSenderIfNotSet(Dt.address);const Ft=Ct.serialize(),jt=await new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}).send({type:"sign-transaction-block",data:Ft,address:Dt.address});return{transactionBlockBytes:jt.bytes,signature:jt.signature}}),__privateAdd$1(this,_signTransaction,async({transaction:Ct,account:Dt})=>{const Ft=new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}),Nt=Transaction.from(await Ct.toJSON());Nt.setSenderIfNotSet(Dt.address);const jt=Nt.serialize(),Lt=await Ft.send({type:"sign-transaction-block",data:jt,address:Dt.address});return{bytes:Lt.bytes,signature:Lt.signature}}),__privateAdd$1(this,_signPersonalMessage,async({message:Ct,account:Dt})=>{const Ft=new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}),Nt=toBase64(Ct),jt=await Ft.send({type:"sign-personal-message",bytes:Nt,address:Dt.address});return{bytes:Nt,signature:jt.signature}}),__privateAdd$1(this,_on,(Ct,Dt)=>(__privateGet$1(this,_events).on(Ct,Dt),()=>__privateGet$1(this,_events).off(Ct,Dt))),__privateAdd$1(this,_connect,async Ct=>{if(Ct!=null&&Ct.silent){const Nt=localStorage.getItem(STASHED_RECENT_ADDRESS_KEY);return Nt&&__privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this,Nt),{accounts:this.accounts}}const Ft=await new StashedPopup({name:__privateGet$1(this,_name),origin:__privateGet$1(this,_origin),network:__privateGet$1(this,_network)}).send({type:"connect"});if(!("address"in Ft))throw new Error("Unexpected response");return __privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this,Ft.address),{accounts:this.accounts}}),__privateAdd$1(this,_disconnect,async()=>{localStorage.removeItem(STASHED_RECENT_ADDRESS_KEY),__privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this)}),__privateSet(this,_accounts,[]),__privateSet(this,_events,mitt()),__privateSet(this,_origin,$t),__privateSet(this,_name,et),__privateSet(this,_network,at),mt&&__privateMethod(this,_StashedWallet_instances,setAccount_fn).call(this,mt)}get name(){return STASHED_WALLET_NAME}get icon(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjU0IiBoZWlnaHQ9IjU0IiB4PSIxIiB5PSIxIiBmaWxsPSIjNTE5REU5IiByeD0iMjciLz48cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHg9IjEiIHk9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iMjciLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTguMzUzIDM1LjA2NGMuOTIxIDMuNDM4IDQuMzYzIDYuNTUxIDExLjQ4MyA0LjY0NCA2Ljc5NC0xLjgyMSAxMS4wNTItNy40MSA5Ljk0OC0xMS41My0uMzgxLTEuNDIzLTEuNTMtMi4zODctMy4zLTIuMjNsLTE1LjgzMiAxLjMyYy0uOTk3LjA3Ni0xLjQ1NC0uMDg4LTEuNzE4LS43MTYtLjI1Ni0uNTk5LS4xMS0xLjI0MSAxLjA5NC0xLjg1bDEyLjA0OC02LjE4M2MuOTI0LS40NyAxLjUzOS0uNjY2IDIuMTAxLS40NjguMzUyLjEyOC41ODQuNjM4LjM3MSAxLjI2N2wtLjc4MSAyLjMwNmMtLjk1OSAyLjgzIDEuMDk0IDMuNDg4IDIuMjUgMy4xNzggMS43NTEtLjQ2OSAyLjE2My0yLjEzNiAxLjU5OS00LjI0LTEuNDMtNS4zMzctNy4wOS02LjE3LTEyLjIyMy00Ljc5Ni01LjIyMiAxLjQtOS43NDggNS42My04LjM2NiAxMC43ODkuMzI1IDEuMjE1IDEuNDQ0IDIuMTg2IDIuNzQgMi4xNTdsMS45NzgtLjAwNWMuNDA3LS4wMS4yNi4wMjQgMS4wNDYtLjA0MS43ODQtLjA2NSAyLjg4LS4zMjMgMi44OC0uMzIzbDEwLjI4Ni0xLjE2NC4yNjUtLjAzOGMuNjAyLS4xMDMgMS4wNTYuMDUzIDEuNDQuNzE1LjU3Ni45OTEtLjMwMiAxLjczOC0xLjM1MiAyLjYzM2wtLjA4NS4wNzItOS4wNDEgNy43OTJjLTEuNTUgMS4zMzctMi42MzkuODM0LTMuMDItLjU4OWwtMS4zNS01LjA0Yy0uMzM0LTEuMjQ0LTEuNTUtMi4yMjEtMi45NzQtMS44NC0xLjc4LjQ3Ny0xLjkyNCAyLjU1LTEuNDg3IDQuMThaIi8+PC9zdmc+Cg=="}get version(){return"1.0.0"}get chains(){return[SUI_MAINNET_CHAIN]}get accounts(){return __privateGet$1(this,_accounts)}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet$1(this,_connect)},"standard:disconnect":{version:"1.0.0",disconnect:__privateGet$1(this,_disconnect)},"standard:events":{version:"1.0.0",on:__privateGet$1(this,_on)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet$1(this,_signTransactionBlock)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet$1(this,_signTransaction)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet$1(this,_signPersonalMessage)}}}}_events=new WeakMap;_accounts=new WeakMap;_origin=new WeakMap;_name=new WeakMap;_network=new WeakMap;_signTransactionBlock=new WeakMap;_signTransaction=new WeakMap;_signPersonalMessage=new WeakMap;_on=new WeakMap;_StashedWallet_instances=new WeakSet;setAccount_fn=function(nt){nt?(__privateSet(this,_accounts,[new ReadonlyWalletAccount({address:nt,chains:[SUI_MAINNET_CHAIN],features:["sui:signTransactionBlock","sui:signPersonalMessage"],publicKey:new Uint8Array})]),localStorage.setItem(STASHED_RECENT_ADDRESS_KEY,nt)):__privateSet(this,_accounts,[]),__privateGet$1(this,_events).emit("change",{accounts:this.accounts})};_connect=new WeakMap;_disconnect=new WeakMap;function registerStashedWallet(nt,{origin:et,network:at="mainnet"}={}){const mt=getWallets();let $t=null;try{const Ft=new URLSearchParams(window.location.search);$t=Ft.get("stashed_address")||Ft.get("zksend_address")}catch{}const Ct=new StashedWallet({name:nt,network:at,origin:et,address:$t}),Dt=mt.register(Ct);return{wallet:Ct,unregister:Dt,addressFromRedirect:$t}}const __vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_ENV:"mainnet"};function createJSONStorage(nt,et){let at;try{at=nt()}catch{return}return{getItem:$t=>{var Ct;const Dt=Nt=>Nt===null?null:JSON.parse(Nt,void 0),Ft=(Ct=at.getItem($t))!=null?Ct:null;return Ft instanceof Promise?Ft.then(Dt):Dt(Ft)},setItem:($t,Ct)=>at.setItem($t,JSON.stringify(Ct,void 0)),removeItem:$t=>at.removeItem($t)}}const toThenable=nt=>et=>{try{const at=nt(et);return at instanceof Promise?at:{then(mt){return toThenable(mt)(at)},catch(mt){return this}}}catch(at){return{then(mt){return this},catch(mt){return toThenable(mt)(at)}}}},oldImpl=(nt,et)=>(at,mt,$t)=>{let Ct={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:dr=>dr,version:0,merge:(dr,pr)=>({...pr,...dr}),...et},Dt=!1;const Ft=new Set,Nt=new Set;let jt;try{jt=Ct.getStorage()}catch{}if(!jt)return nt((...dr)=>{console.warn(`[zustand persist middleware] Unable to update item '${Ct.name}', the given storage is currently unavailable.`),at(...dr)},mt,$t);const Lt=toThenable(Ct.serialize),Vt=()=>{const dr=Ct.partialize({...mt()});let pr;const hr=Lt({state:dr,version:Ct.version}).then(vr=>jt.setItem(Ct.name,vr)).catch(vr=>{pr=vr});if(pr)throw pr;return hr},er=$t.setState;$t.setState=(dr,pr)=>{er(dr,pr),Vt()};const ir=nt((...dr)=>{at(...dr),Vt()},mt,$t);let or;const lr=()=>{var dr;if(!jt)return;Dt=!1,Ft.forEach(hr=>hr(mt()));const pr=((dr=Ct.onRehydrateStorage)==null?void 0:dr.call(Ct,mt()))||void 0;return toThenable(jt.getItem.bind(jt))(Ct.name).then(hr=>{if(hr)return Ct.deserialize(hr)}).then(hr=>{if(hr)if(typeof hr.version=="number"&&hr.version!==Ct.version){if(Ct.migrate)return Ct.migrate(hr.state,hr.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return hr.state}).then(hr=>{var vr;return or=Ct.merge(hr,(vr=mt())!=null?vr:ir),at(or,!0),Vt()}).then(()=>{pr==null||pr(or,void 0),Dt=!0,Nt.forEach(hr=>hr(or))}).catch(hr=>{pr==null||pr(void 0,hr)})};return $t.persist={setOptions:dr=>{Ct={...Ct,...dr},dr.getStorage&&(jt=dr.getStorage())},clearStorage:()=>{jt==null||jt.removeItem(Ct.name)},getOptions:()=>Ct,rehydrate:()=>lr(),hasHydrated:()=>Dt,onHydrate:dr=>(Ft.add(dr),()=>{Ft.delete(dr)}),onFinishHydration:dr=>(Nt.add(dr),()=>{Nt.delete(dr)})},lr(),or||ir},newImpl=(nt,et)=>(at,mt,$t)=>{let Ct={storage:createJSONStorage(()=>localStorage),partialize:lr=>lr,version:0,merge:(lr,dr)=>({...dr,...lr}),...et},Dt=!1;const Ft=new Set,Nt=new Set;let jt=Ct.storage;if(!jt)return nt((...lr)=>{console.warn(`[zustand persist middleware] Unable to update item '${Ct.name}', the given storage is currently unavailable.`),at(...lr)},mt,$t);const Lt=()=>{const lr=Ct.partialize({...mt()});return jt.setItem(Ct.name,{state:lr,version:Ct.version})},Vt=$t.setState;$t.setState=(lr,dr)=>{Vt(lr,dr),Lt()};const er=nt((...lr)=>{at(...lr),Lt()},mt,$t);$t.getInitialState=()=>er;let ir;const or=()=>{var lr,dr;if(!jt)return;Dt=!1,Ft.forEach(hr=>{var vr;return hr((vr=mt())!=null?vr:er)});const pr=((dr=Ct.onRehydrateStorage)==null?void 0:dr.call(Ct,(lr=mt())!=null?lr:er))||void 0;return toThenable(jt.getItem.bind(jt))(Ct.name).then(hr=>{if(hr)if(typeof hr.version=="number"&&hr.version!==Ct.version){if(Ct.migrate)return[!0,Ct.migrate(hr.state,hr.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,hr.state];return[!1,void 0]}).then(hr=>{var vr;const[br,xr]=hr;if(ir=Ct.merge(xr,(vr=mt())!=null?vr:er),at(ir,!0),br)return Lt()}).then(()=>{pr==null||pr(ir,void 0),ir=mt(),Dt=!0,Nt.forEach(hr=>hr(ir))}).catch(hr=>{pr==null||pr(void 0,hr)})};return $t.persist={setOptions:lr=>{Ct={...Ct,...lr},lr.storage&&(jt=lr.storage)},clearStorage:()=>{jt==null||jt.removeItem(Ct.name)},getOptions:()=>Ct,rehydrate:()=>or(),hasHydrated:()=>Dt,onHydrate:lr=>(Ft.add(lr),()=>{Ft.delete(lr)}),onFinishHydration:lr=>(Nt.add(lr),()=>{Nt.delete(lr)})},Ct.skipHydration||or(),ir||er},persistImpl=(nt,et)=>"getStorage"in et||"serialize"in et||"deserialize"in et?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(nt,et)):newImpl(nt,et),persist=persistImpl;function getVarName(nt){var et=nt.match(/^var\((.*)\)$/);return et?et[1]:nt}function get$4(nt,et){var at=nt;for(var mt of et){if(!(mt in at))throw new Error("Path ".concat(et.join(" -> ")," does not exist in object"));at=at[mt]}return at}function walkObject$1(nt,et){var at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],mt={};for(var $t in nt){var Ct=nt[$t],Dt=[...at,$t];typeof Ct=="string"||typeof Ct=="number"||Ct==null?mt[$t]=et(Ct,Dt):typeof Ct=="object"&&!Array.isArray(Ct)?mt[$t]=walkObject$1(Ct,et,Dt):console.warn('Skipping invalid key "'.concat(Dt.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(Ct)?"Array":typeof Ct,'"'))}return mt}function assignInlineVars(nt,et){var at={};if(typeof et=="object"){var mt=nt;walkObject$1(et,(Ft,Nt)=>{if(Ft!=null){var jt=get$4(mt,Nt);at[getVarName(jt)]=String(Ft)}})}else{var $t=nt;for(var Ct in $t){var Dt=$t[Ct];Dt!=null&&(at[getVarName(Ct)]=Dt)}}return Object.defineProperty(at,"toString",{value:function(){return Object.keys(this).map(Nt=>"".concat(Nt,":").concat(this[Nt])).join(";")},writable:!1}),at}var stylesheets={},injectStyles=nt=>{var{fileScope:et,css:at}=nt,mt=et.packageName?[et.packageName,et.filePath].join("/"):et.filePath,$t=stylesheets[mt];if(!$t){var Ct=document.createElement("style");et.packageName&&Ct.setAttribute("data-package",et.packageName),Ct.setAttribute("data-file",et.filePath),Ct.setAttribute("type","text/css"),$t=stylesheets[mt]=Ct,document.head.appendChild(Ct)}$t.innerHTML=at};/*! https://mths.be/cssesc v3.0.0 by @mathias */var object={},hasOwnProperty$b=object.hasOwnProperty,merge$3=function nt(et,at){if(!et)return at;var mt={};for(var $t in at)mt[$t]=hasOwnProperty$b.call(et,$t)?et[$t]:at[$t];return mt},regexAnySingleEscape=/[ -,\.\/:-@\[-\^`\{-~]/,regexSingleEscape=/[ -,\.\/:-@\[\]\^`\{-~]/,regexExcessiveSpaces=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,cssesc=function nt(et,at){at=merge$3(at,nt.options),at.quotes!="single"&&at.quotes!="double"&&(at.quotes="single");for(var mt=at.quotes=="double"?'"':"'",$t=at.isIdentifier,Ct=et.charAt(0),Dt="",Ft=0,Nt=et.length;Ft<Nt;){var jt=et.charAt(Ft++),Lt=jt.charCodeAt(),Vt=void 0;if(Lt<32||Lt>126){if(Lt>=55296&&Lt<=56319&&Ft<Nt){var er=et.charCodeAt(Ft++);(er&64512)==56320?Lt=((Lt&1023)<<10)+(er&1023)+65536:Ft--}Vt="\\"+Lt.toString(16).toUpperCase()+" "}else at.escapeEverything?regexAnySingleEscape.test(jt)?Vt="\\"+jt:Vt="\\"+Lt.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(jt)?Vt="\\"+Lt.toString(16).toUpperCase()+" ":jt=="\\"||!$t&&(jt=='"'&&mt==jt||jt=="'"&&mt==jt)||$t&&regexSingleEscape.test(jt)?Vt="\\"+jt:Vt=jt;Dt+=Vt}return $t&&(/^-[-\d]/.test(Dt)?Dt="\\-"+Dt.slice(1):/\d/.test(Ct)&&(Dt="\\3"+Ct+" "+Dt.slice(1))),Dt=Dt.replace(regexExcessiveSpaces,function(ir,or,lr){return or&&or.length%2?ir:(or||"")+lr}),!$t&&at.wrap?mt+Dt+mt:Dt};cssesc.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};cssesc.version="3.0.0";var cssesc_1=cssesc;const cssesc$1=getDefaultExportFromCjs$2(cssesc_1);var AhoCorasick=class{constructor(nt){const{failure:et,gotoFn:at,output:mt}=this._buildTables(nt);this.gotoFn=at,this.output=mt,this.failure=et}_buildTables(nt){const et={0:{}},at={};let mt=0;for(const Dt of nt){let Ft=0;for(const Nt of Dt)et[Ft]&&Nt in et[Ft]?Ft=et[Ft][Nt]:(mt++,et[Ft][Nt]=mt,et[mt]={},Ft=mt,at[mt]=[]);at[Ft].push(Dt)}const $t={},Ct=[];for(const Dt in et[0]){const Ft=et[0][Dt];$t[Ft]=0,Ct.push(Ft)}for(;Ct.length>0;){const Dt=Ct.shift();if(Dt!==void 0)for(const Ft in et[Dt]){const Nt=et[Dt][Ft];Ct.push(Nt);let jt=$t[Dt];for(;jt>0&&!(Ft in et[jt]);)jt=$t[jt];if(Ft in et[jt]){const Lt=et[jt][Ft];$t[Nt]=Lt,at[Nt]=[...at[Nt],...at[Lt]]}else $t[Nt]=0}}return{gotoFn:et,output:at,failure:$t}}search(nt){let et=0;const at=[];for(let mt=0;mt<nt.length;mt++){const $t=nt[mt];for(;et>0&&!($t in this.gotoFn[et]);)et=this.failure[et];if($t in this.gotoFn[et]&&(et=this.gotoFn[et][$t],this.output[et].length>0)){const Ct=this.output[et];at.push([mt,Ct])}}return at}match(nt){let et=0;for(let at=0;at<nt.length;at++){const mt=nt[at];for(;et>0&&!(mt in this.gotoFn[et]);)et=this.failure[et];if(mt in this.gotoFn[et]&&(et=this.gotoFn[et][mt],this.output[et].length>0))return!0}return!1}},mockAdapter={appendCss:()=>{},registerClassName:()=>{},onEndFileScope:()=>{},registerComposition:()=>{},markCompositionUsed:()=>{},getIdentOption:()=>"short"},adapterStack=[mockAdapter],currentAdapter=()=>{if(adapterStack.length<1)throw new Error("No adapter configured");return adapterStack[adapterStack.length-1]},hasConfiguredAdapter=!1,setAdapterIfNotSet=nt=>{hasConfiguredAdapter||setAdapter(nt)},setAdapter=nt=>{if(!nt)throw new Error('No adapter provided when calling "setAdapter"');hasConfiguredAdapter=!0,adapterStack.push(nt)},markCompositionUsed=function nt(){return currentAdapter().markCompositionUsed(...arguments)};function _taggedTemplateLiteral(nt,et){return et||(et=nt.slice(0)),Object.freeze(Object.defineProperties(nt,{raw:{value:Object.freeze(et)}}))}var SelectorType;(function(nt){nt.Attribute="attribute",nt.Pseudo="pseudo",nt.PseudoElement="pseudo-element",nt.Tag="tag",nt.Universal="universal",nt.Adjacent="adjacent",nt.Child="child",nt.Descendant="descendant",nt.Parent="parent",nt.Sibling="sibling",nt.ColumnCombinator="column-combinator"})(SelectorType||(SelectorType={}));var AttributeAction;(function(nt){nt.Any="any",nt.Element="element",nt.End="end",nt.Equals="equals",nt.Exists="exists",nt.Hyphen="hyphen",nt.Not="not",nt.Start="start"})(AttributeAction||(AttributeAction={}));const reName=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,reEscape=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,actionTypes=new Map([[126,AttributeAction.Element],[94,AttributeAction.Start],[36,AttributeAction.End],[42,AttributeAction.Any],[33,AttributeAction.Not],[124,AttributeAction.Hyphen]]),unpackPseudos=new Set(["has","not","matches","is","where","host","host-context"]);function isTraversal(nt){switch(nt.type){case SelectorType.Adjacent:case SelectorType.Child:case SelectorType.Descendant:case SelectorType.Parent:case SelectorType.Sibling:case SelectorType.ColumnCombinator:return!0;default:return!1}}const stripQuotesFromPseudos=new Set(["contains","icontains"]);function funescape(nt,et,at){const mt=parseInt(et,16)-65536;return mt!==mt||at?et:mt<0?String.fromCharCode(mt+65536):String.fromCharCode(mt>>10|55296,mt&1023|56320)}function unescapeCSS(nt){return nt.replace(reEscape,funescape)}function isQuote(nt){return nt===39||nt===34}function isWhitespace(nt){return nt===32||nt===9||nt===10||nt===12||nt===13}function parse$1(nt){const et=[],at=parseSelector(et,`${nt}`,0);if(at<nt.length)throw new Error(`Unmatched selector: ${nt.slice(at)}`);return et}function parseSelector(nt,et,at){let mt=[];function $t(er){const ir=et.slice(at+er).match(reName);if(!ir)throw new Error(`Expected name, found ${et.slice(at)}`);const[or]=ir;return at+=er+or.length,unescapeCSS(or)}function Ct(er){for(at+=er;at<et.length&&isWhitespace(et.charCodeAt(at));)at++}function Dt(){at+=1;const er=at;let ir=1;for(;ir>0&&at<et.length;at++)et.charCodeAt(at)===40&&!Ft(at)?ir++:et.charCodeAt(at)===41&&!Ft(at)&&ir--;if(ir)throw new Error("Parenthesis not matched");return unescapeCSS(et.slice(er,at-1))}function Ft(er){let ir=0;for(;et.charCodeAt(--er)===92;)ir++;return(ir&1)===1}function Nt(){if(mt.length>0&&isTraversal(mt[mt.length-1]))throw new Error("Did not expect successive traversals.")}function jt(er){if(mt.length>0&&mt[mt.length-1].type===SelectorType.Descendant){mt[mt.length-1].type=er;return}Nt(),mt.push({type:er})}function Lt(er,ir){mt.push({type:SelectorType.Attribute,name:er,action:ir,value:$t(1),namespace:null,ignoreCase:"quirks"})}function Vt(){if(mt.length&&mt[mt.length-1].type===SelectorType.Descendant&&mt.pop(),mt.length===0)throw new Error("Empty sub-selector");nt.push(mt)}if(Ct(0),et.length===at)return at;e:for(;at<et.length;){const er=et.charCodeAt(at);switch(er){case 32:case 9:case 10:case 12:case 13:{(mt.length===0||mt[0].type!==SelectorType.Descendant)&&(Nt(),mt.push({type:SelectorType.Descendant})),Ct(1);break}case 62:{jt(SelectorType.Child),Ct(1);break}case 60:{jt(SelectorType.Parent),Ct(1);break}case 126:{jt(SelectorType.Sibling),Ct(1);break}case 43:{jt(SelectorType.Adjacent),Ct(1);break}case 46:{Lt("class",AttributeAction.Element);break}case 35:{Lt("id",AttributeAction.Equals);break}case 91:{Ct(1);let ir,or=null;et.charCodeAt(at)===124?ir=$t(1):et.startsWith("*|",at)?(or="*",ir=$t(2)):(ir=$t(0),et.charCodeAt(at)===124&&et.charCodeAt(at+1)!==61&&(or=ir,ir=$t(1))),Ct(0);let lr=AttributeAction.Exists;const dr=actionTypes.get(et.charCodeAt(at));if(dr){if(lr=dr,et.charCodeAt(at+1)!==61)throw new Error("Expected `=`");Ct(2)}else et.charCodeAt(at)===61&&(lr=AttributeAction.Equals,Ct(1));let pr="",hr=null;if(lr!=="exists"){if(isQuote(et.charCodeAt(at))){const xr=et.charCodeAt(at);let Sr=at+1;for(;Sr<et.length&&(et.charCodeAt(Sr)!==xr||Ft(Sr));)Sr+=1;if(et.charCodeAt(Sr)!==xr)throw new Error("Attribute value didn't end");pr=unescapeCSS(et.slice(at+1,Sr)),at=Sr+1}else{const xr=at;for(;at<et.length&&(!isWhitespace(et.charCodeAt(at))&&et.charCodeAt(at)!==93||Ft(at));)at+=1;pr=unescapeCSS(et.slice(xr,at))}Ct(0);const br=et.charCodeAt(at)|32;br===115?(hr=!1,Ct(1)):br===105&&(hr=!0,Ct(1))}if(et.charCodeAt(at)!==93)throw new Error("Attribute selector didn't terminate");at+=1;const vr={type:SelectorType.Attribute,name:ir,action:lr,value:pr,namespace:or,ignoreCase:hr};mt.push(vr);break}case 58:{if(et.charCodeAt(at+1)===58){mt.push({type:SelectorType.PseudoElement,name:$t(2).toLowerCase(),data:et.charCodeAt(at)===40?Dt():null});continue}const ir=$t(1).toLowerCase();let or=null;if(et.charCodeAt(at)===40)if(unpackPseudos.has(ir)){if(isQuote(et.charCodeAt(at+1)))throw new Error(`Pseudo-selector ${ir} cannot be quoted`);if(or=[],at=parseSelector(or,et,at+1),et.charCodeAt(at)!==41)throw new Error(`Missing closing parenthesis in :${ir} (${et})`);at+=1}else{if(or=Dt(),stripQuotesFromPseudos.has(ir)){const lr=or.charCodeAt(0);lr===or.charCodeAt(or.length-1)&&isQuote(lr)&&(or=or.slice(1,-1))}or=unescapeCSS(or)}mt.push({type:SelectorType.Pseudo,name:ir,data:or});break}case 44:{Vt(),mt=[],Ct(1);break}default:{if(et.startsWith("/*",at)){const lr=et.indexOf("*/",at+2);if(lr<0)throw new Error("Comment was not terminated");at=lr+2,mt.length===0&&Ct(0);break}let ir=null,or;if(er===42)at+=1,or="*";else if(er===124){if(or="",et.charCodeAt(at+1)===124){jt(SelectorType.ColumnCombinator),Ct(2);break}}else if(reName.test(et.slice(at)))or=$t(0);else break e;et.charCodeAt(at)===124&&et.charCodeAt(at+1)!==124&&(ir=or,et.charCodeAt(at+1)===42?(or="*",at+=2):or=$t(1)),mt.push(or==="*"?{type:SelectorType.Universal,namespace:ir}:{type:SelectorType.Tag,name:or,namespace:ir})}}}return Vt(),at}function ownKeys$2(nt,et){var at=Object.keys(nt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(nt);et&&(mt=mt.filter(function($t){return Object.getOwnPropertyDescriptor(nt,$t).enumerable})),at.push.apply(at,mt)}return at}function _objectSpread$1(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(Object(at),!0).forEach(function(mt){_defineProperty$2(nt,mt,at[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(at)):ownKeys$2(Object(at)).forEach(function(mt){Object.defineProperty(nt,mt,Object.getOwnPropertyDescriptor(at,mt))})}return nt}function _defineProperty$2(nt,et,at){return et=_toPropertyKey(et),et in nt?Object.defineProperty(nt,et,{value:at,enumerable:!0,configurable:!0,writable:!0}):nt[et]=at,nt}function _toPropertyKey(nt){var et=_toPrimitive(nt,"string");return typeof et=="symbol"?et:String(et)}function _toPrimitive(nt,et){if(typeof nt!="object"||nt===null)return nt;var at=nt[Symbol.toPrimitive];if(at!==void 0){var mt=at.call(nt,et||"default");if(typeof mt!="object")return mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(nt)}const dedent=createDedent({});function createDedent(nt){return et.withOptions=at=>createDedent(_objectSpread$1(_objectSpread$1({},nt),at)),et;function et(at,...mt){const $t=typeof at=="string"?[at]:at.raw,{escapeSpecialCharacters:Ct=Array.isArray(at)}=nt;let Dt="";for(let jt=0;jt<$t.length;jt++){let Lt=$t[jt];Ct&&(Lt=Lt.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),Dt+=Lt,jt<mt.length&&(Dt+=mt[jt])}const Ft=Dt.split(`
`);let Nt=null;for(const jt of Ft){const Lt=jt.match(/^(\s+)\S+/);if(Lt){const Vt=Lt[1].length;Nt?Nt=Math.min(Nt,Vt):Nt=Vt}}if(Nt!==null){const jt=Nt;Dt=Ft.map(Lt=>Lt[0]===" "||Lt[0]==="	"?Lt.slice(jt):Lt).join(`
`)}return Dt=Dt.trim(),Ct&&(Dt=Dt.replace(/\\n/g,`
`)),Dt}}/*! @license MediaQueryParser - MIT License - Tom Golden (github@tbjgolden.com) *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$1=function(){return __assign$1=Object.assign||function(et){for(var at,mt=1,$t=arguments.length;mt<$t;mt++){at=arguments[mt];for(var Ct in at)Object.prototype.hasOwnProperty.call(at,Ct)&&(et[Ct]=at[Ct])}return et},__assign$1.apply(this,arguments)};function __rest$1(nt,et){var at={};for(var mt in nt)Object.prototype.hasOwnProperty.call(nt,mt)&&et.indexOf(mt)<0&&(at[mt]=nt[mt]);if(nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $t=0,mt=Object.getOwnPropertySymbols(nt);$t<mt.length;$t++)et.indexOf(mt[$t])<0&&Object.prototype.propertyIsEnumerable.call(nt,mt[$t])&&(at[mt[$t]]=nt[mt[$t]]);return at}function __values(nt){var et=typeof Symbol=="function"&&Symbol.iterator,at=et&&nt[et],mt=0;if(at)return at.call(nt);if(nt&&typeof nt.length=="number")return{next:function(){return nt&&mt>=nt.length&&(nt=void 0),{value:nt&&nt[mt++],done:!nt}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$3(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}var weirdNewlines=/(\u000D|\u000C|\u000D\u000A)/g,nullOrSurrogates=/[\u0000\uD800-\uDFFF]/g,commentRegex=/(\/\*)[\s\S]*?(\*\/)/g,lexicalAnalysis=function nt(et,at){at===void 0&&(at=0),et=et.replace(weirdNewlines,`
`).replace(nullOrSurrogates,"�"),et=et.replace(commentRegex,"");for(var mt=[];at<et.length;at+=1){var $t=et.charCodeAt(at);if($t===9||$t===32||$t===10){for(var Ct=et.charCodeAt(++at);Ct===9||Ct===32||Ct===10;)Ct=et.charCodeAt(++at);at-=1,mt.push({type:"<whitespace-token>"})}else if($t===34){var Dt=consumeString(et,at);if(Dt===null)return null;var Ft=__read$3(Dt,2),Nt=Ft[0],jt=Ft[1];mt.push({type:"<string-token>",value:jt}),at=Nt}else if($t===35){if(at+1<et.length){var Lt=et.charCodeAt(at+1);if(Lt===95||Lt>=65&&Lt<=90||Lt>=97&&Lt<=122||Lt>=128||Lt>=48&&Lt<=57||Lt===92&&at+2<et.length&&et.charCodeAt(at+2)!==10){var Vt=wouldStartIdentifier(et,at+1)?"id":"unrestricted",Dt=consumeIdentUnsafe(et,at+1);if(Dt!==null){var er=__read$3(Dt,2),Nt=er[0],jt=er[1];mt.push({type:"<hash-token>",value:jt.toLowerCase(),flag:Vt}),at=Nt;continue}}}mt.push({type:"<delim-token>",value:$t})}else if($t===39){var Dt=consumeString(et,at);if(Dt===null)return null;var ir=__read$3(Dt,2),Nt=ir[0],jt=ir[1];mt.push({type:"<string-token>",value:jt}),at=Nt}else if($t===40)mt.push({type:"<(-token>"});else if($t===41)mt.push({type:"<)-token>"});else if($t===43){var or=consumeNumeric(et,at);if(or===null)mt.push({type:"<delim-token>",value:$t});else{var lr=__read$3(or,2),Nt=lr[0],dr=lr[1];dr[0]==="<dimension-token>"?mt.push({type:"<dimension-token>",value:dr[1],unit:dr[2].toLowerCase(),flag:"number"}):dr[0]==="<number-token>"?mt.push({type:dr[0],value:dr[1],flag:dr[2]}):mt.push({type:dr[0],value:dr[1],flag:"number"}),at=Nt}}else if($t===44)mt.push({type:"<comma-token>"});else if($t===45){var pr=consumeNumeric(et,at);if(pr!==null){var hr=__read$3(pr,2),Nt=hr[0],dr=hr[1];dr[0]==="<dimension-token>"?mt.push({type:"<dimension-token>",value:dr[1],unit:dr[2].toLowerCase(),flag:"number"}):dr[0]==="<number-token>"?mt.push({type:dr[0],value:dr[1],flag:dr[2]}):mt.push({type:dr[0],value:dr[1],flag:"number"}),at=Nt;continue}if(at+2<et.length){var Lt=et.charCodeAt(at+1),vr=et.charCodeAt(at+2);if(Lt===45&&vr===62){mt.push({type:"<CDC-token>"}),at+=2;continue}}var Dt=consumeIdentLike(et,at);if(Dt!==null){var br=__read$3(Dt,3),Nt=br[0],jt=br[1],xr=br[2];mt.push({type:xr,value:jt}),at=Nt;continue}mt.push({type:"<delim-token>",value:$t})}else if($t===46){var pr=consumeNumeric(et,at);if(pr===null)mt.push({type:"<delim-token>",value:$t});else{var Sr=__read$3(pr,2),Nt=Sr[0],dr=Sr[1];dr[0]==="<dimension-token>"?mt.push({type:"<dimension-token>",value:dr[1],unit:dr[2].toLowerCase(),flag:"number"}):dr[0]==="<number-token>"?mt.push({type:dr[0],value:dr[1],flag:dr[2]}):mt.push({type:dr[0],value:dr[1],flag:"number"}),at=Nt;continue}}else if($t===58)mt.push({type:"<colon-token>"});else if($t===59)mt.push({type:"<semicolon-token>"});else if($t===60){if(at+3<et.length){var Lt=et.charCodeAt(at+1),vr=et.charCodeAt(at+2),Er=et.charCodeAt(at+3);if(Lt===33&&vr===45&&Er===45){mt.push({type:"<CDO-token>"}),at+=3;continue}}mt.push({type:"<delim-token>",value:$t})}else if($t===64){var Dt=consumeIdent(et,at+1);if(Dt!==null){var $r=__read$3(Dt,2),Nt=$r[0],jt=$r[1];mt.push({type:"<at-keyword-token>",value:jt.toLowerCase()}),at=Nt;continue}mt.push({type:"<delim-token>",value:$t})}else if($t===91)mt.push({type:"<[-token>"});else if($t===92){var Dt=consumeEscape(et,at);if(Dt===null)return null;var Cr=__read$3(Dt,2),Nt=Cr[0],jt=Cr[1];et=et.slice(0,at)+jt+et.slice(Nt+1),at-=1}else if($t===93)mt.push({type:"<]-token>"});else if($t===123)mt.push({type:"<{-token>"});else if($t===125)mt.push({type:"<}-token>"});else if($t>=48&&$t<=57){var Dt=consumeNumeric(et,at),kr=__read$3(Dt,2),Nt=kr[0],dr=kr[1];dr[0]==="<dimension-token>"?mt.push({type:"<dimension-token>",value:dr[1],unit:dr[2].toLowerCase(),flag:"number"}):dr[0]==="<number-token>"?mt.push({type:dr[0],value:dr[1],flag:dr[2]}):mt.push({type:dr[0],value:dr[1],flag:"number"}),at=Nt}else if($t===95||$t>=65&&$t<=90||$t>=97&&$t<=122||$t>=128){var Dt=consumeIdentLike(et,at);if(Dt===null)return null;var gr=__read$3(Dt,3),Nt=gr[0],jt=gr[1],xr=gr[2];mt.push({type:xr,value:jt}),at=Nt}else mt.push({type:"<delim-token>",value:$t})}return mt.push({type:"<EOF-token>"}),mt},consumeString=function nt(et,at){if(et.length<=at+1)return null;for(var mt=et.charCodeAt(at),$t=[],Ct=at+1;Ct<et.length;Ct+=1){var Dt=et.charCodeAt(Ct);if(Dt===mt)return[Ct,String.fromCharCode.apply(null,$t)];if(Dt===92){var Ft=consumeEscape(et,Ct);if(Ft===null)return null;var Nt=__read$3(Ft,2),jt=Nt[0],Lt=Nt[1];$t.push(Lt),Ct=jt}else{if(Dt===10)return null;$t.push(Dt)}}return null},wouldStartIdentifier=function nt(et,at){if(et.length<=at)return!1;var mt=et.charCodeAt(at);if(mt===45){if(et.length<=at+1)return!1;var $t=et.charCodeAt(at+1);if($t===45||$t===95||$t>=65&&$t<=90||$t>=97&&$t<=122||$t>=128)return!0;if($t===92){if(et.length<=at+2)return!1;var Ct=et.charCodeAt(at+2);return Ct!==10}else return!1}else{if(mt===95||mt>=65&&mt<=90||mt>=97&&mt<=122||mt>=128)return!0;if(mt===92){if(et.length<=at+1)return!1;var $t=et.charCodeAt(at+1);return $t!==10}else return!1}},consumeEscape=function nt(et,at){if(et.length<=at+1||et.charCodeAt(at)!==92)return null;var mt=et.charCodeAt(at+1);if(mt===10)return null;if(mt>=48&&mt<=57||mt>=65&&mt<=70||mt>=97&&mt<=102){for(var $t=[mt],Ct=Math.min(at+7,et.length),Dt=at+2;Dt<Ct;Dt+=1){var Ft=et.charCodeAt(Dt);if(Ft>=48&&Ft<=57||Ft>=65&&Ft<=70||Ft>=97&&Ft<=102)$t.push(Ft);else break}if(Dt<et.length){var Nt=et.charCodeAt(Dt);(Nt===9||Nt===32||Nt===10)&&(Dt+=1)}return[Dt-1,parseInt(String.fromCharCode.apply(null,$t),16)]}else return[at+1,mt]},consumeNumeric=function nt(et,at){var mt=consumeNumber(et,at);if(mt===null)return null;var $t=__read$3(mt,3),Ct=$t[0],Dt=$t[1],Ft=$t[2],Nt=consumeIdent(et,Ct+1);if(Nt!==null){var jt=__read$3(Nt,2),Lt=jt[0],Vt=jt[1];return[Lt,["<dimension-token>",Dt,Vt]]}return Ct+1<et.length&&et.charCodeAt(Ct+1)===37?[Ct+1,["<percentage-token>",Dt]]:[Ct,["<number-token>",Dt,Ft]]},consumeNumber=function nt(et,at){if(et.length<=at)return null;var mt="integer",$t=[],Ct=et.charCodeAt(at);for((Ct===43||Ct===45)&&(at+=1,Ct===45&&$t.push(45));at<et.length;){var Dt=et.charCodeAt(at);if(Dt>=48&&Dt<=57)$t.push(Dt),at+=1;else break}if(at+1<et.length){var Ft=et.charCodeAt(at),Nt=et.charCodeAt(at+1);if(Ft===46&&Nt>=48&&Nt<=57)for($t.push(Ft,Nt),mt="number",at+=2;at<et.length;){var Dt=et.charCodeAt(at);if(Dt>=48&&Dt<=57)$t.push(Dt),at+=1;else break}}if(at+1<et.length){var Ft=et.charCodeAt(at),Nt=et.charCodeAt(at+1),jt=et.charCodeAt(at+2);if(Ft===69||Ft===101){var Lt=Nt>=48&&Nt<=57;if(Lt||(Nt===43||Nt===45)&&jt>=48&&jt<=57)for(mt="number",Lt?($t.push(69,Nt),at+=2):Nt===45?($t.push(69,45,jt),at+=3):($t.push(69,jt),at+=3);at<et.length;){var Dt=et.charCodeAt(at);if(Dt>=48&&Dt<=57)$t.push(Dt),at+=1;else break}}}var Vt=String.fromCharCode.apply(null,$t),er=mt==="number"?parseFloat(Vt):parseInt(Vt);return er===-0&&(er=0),Number.isNaN(er)?null:[at-1,er,mt]},consumeIdentUnsafe=function nt(et,at){if(et.length<=at)return null;for(var mt=[],$t=et.charCodeAt(at);at<et.length;$t=et.charCodeAt(++at)){if($t===45||$t===95||$t>=65&&$t<=90||$t>=97&&$t<=122||$t>=128||$t>=48&&$t<=57){mt.push($t);continue}else{var Ct=consumeEscape(et,at);if(Ct!==null){var Dt=__read$3(Ct,2),Ft=Dt[0],Nt=Dt[1];mt.push(Nt),at=Ft;continue}}break}return at===0?null:[at-1,String.fromCharCode.apply(null,mt)]},consumeIdent=function nt(et,at){if(et.length<=at||!wouldStartIdentifier(et,at))return null;for(var mt=[],$t=et.charCodeAt(at);at<et.length;$t=et.charCodeAt(++at)){if($t===45||$t===95||$t>=65&&$t<=90||$t>=97&&$t<=122||$t>=128||$t>=48&&$t<=57){mt.push($t);continue}else{var Ct=consumeEscape(et,at);if(Ct!==null){var Dt=__read$3(Ct,2),Ft=Dt[0],Nt=Dt[1];mt.push(Nt),at=Ft;continue}}break}return[at-1,String.fromCharCode.apply(null,mt)]},consumeUrl=function nt(et,at){for(var mt=et.charCodeAt(at);mt===9||mt===32||mt===10;)mt=et.charCodeAt(++at);for(var $t=[],Ct=!1;at<et.length;){if(mt===41)return[at,String.fromCharCode.apply(null,$t)];if(mt===34||mt===39||mt===40)return null;if(mt===9||mt===32||mt===10)!Ct&&$t.length!==0&&(Ct=!0);else if(mt===92){var Dt=consumeEscape(et,at);if(Dt===null||Ct)return null;var Ft=__read$3(Dt,2),Nt=Ft[0],jt=Ft[1];$t.push(jt),at=Nt}else{if(Ct)return null;$t.push(mt)}mt=et.charCodeAt(++at)}return null},consumeIdentLike=function nt(et,at){var mt=consumeIdent(et,at);if(mt===null)return null;var $t=__read$3(mt,2),Ct=$t[0],Dt=$t[1];if(Dt.toLowerCase()==="url"){if(et.length>Ct+1){var Ft=et.charCodeAt(Ct+1);if(Ft===40){for(var Nt=2;Ct+Nt<et.length;Nt+=1){var jt=et.charCodeAt(Ct+Nt);if(jt===34||jt===39)return[Ct+1,Dt.toLowerCase(),"<function-token>"];if(jt!==9&&jt!==32&&jt!==10){var Lt=consumeUrl(et,Ct+Nt);if(Lt===null)return null;var Vt=__read$3(Lt,2),er=Vt[0],ir=Vt[1];return[er,ir,"<url-token>"]}}return[Ct+1,Dt.toLowerCase(),"<function-token>"]}}}else if(et.length>Ct+1){var Ft=et.charCodeAt(Ct+1);if(Ft===40)return[Ct+1,Dt.toLowerCase(),"<function-token>"]}return[Ct,Dt.toLowerCase(),"<ident-token>"]},simplifyAST=function nt(et){for(var at=et.length-1;at>=0;at--)et[at]=simplifyMediaQuery(et[at]);return et},simplifyMediaQuery=function nt(et){if(et.mediaCondition===null)return et;var at=simplifyMediaCondition(et.mediaCondition);return at.operator===null&&at.children.length===1&&"children"in at.children[0]&&(at=at.children[0]),{mediaPrefix:et.mediaPrefix,mediaType:et.mediaType,mediaCondition:at}},simplifyMediaCondition=function nt(et){for(var at=et.children.length-1;at>=0;at--){var mt=et.children[at];if(!("context"in mt)){var $t=nt(mt);if($t.operator===null&&$t.children.length===1)et.children[at]=$t.children[0];else if($t.operator===et.operator&&($t.operator==="and"||$t.operator==="or")){for(var Ct=[at,1],Dt=0;Dt<$t.children.length;Dt++)Ct.push($t.children[Dt]);et.children.splice.apply(et.children,Ct)}}}return et},createError$1=function nt(et,at){return at instanceof Error?new Error("".concat(at.message.trim(),`
`).concat(et.trim())):new Error(et.trim())},toAST=function nt(et){return simplifyAST(toUnflattenedAST(et))},toUnflattenedAST=function nt(et){var at=lexicalAnalysis(et.trim());if(at===null)throw createError$1("Failed tokenizing");var mt=0,$t=at.length-1;if(at[0].type==="<at-keyword-token>"&&at[0].value==="media"){if(at[1].type!=="<whitespace-token>")throw createError$1("Expected whitespace after media");mt=2;for(var Ct=2;Ct<at.length-1;Ct++){var Dt=at[Ct];if(Dt.type==="<{-token>"){$t=Ct;break}else if(Dt.type==="<semicolon-token>")throw createError$1("Expected '{' in media query but found ';'")}}return at=at.slice(mt,$t),syntacticAnalysis(at)},removeWhitespace=function nt(et){for(var at=[],mt=!1,$t=0;$t<et.length;$t++)et[$t].type==="<whitespace-token>"?(mt=!0,at.length>0&&(at[at.length-1].wsAfter=!0)):(at.push(__assign$1(__assign$1({},et[$t]),{wsBefore:mt,wsAfter:!1})),mt=!1);return at},syntacticAnalysis=function nt(et){for(var at,mt,$t=[[]],Ct=0;Ct<et.length;Ct++){var Dt=et[Ct];Dt.type==="<comma-token>"?$t.push([]):$t[$t.length-1].push(Dt)}var Ft=$t.map(removeWhitespace);if(Ft.length===1&&Ft[0].length===0)return[{mediaCondition:null,mediaPrefix:null,mediaType:"all"}];var Nt=Ft.map(function(ir){return ir.length===0?null:tokenizeMediaQuery(ir)}),jt=[];try{for(var Lt=__values(Nt),Vt=Lt.next();!Vt.done;Vt=Lt.next()){var er=Vt.value;er!==null&&jt.push(er)}}catch(ir){at={error:ir}}finally{try{Vt&&!Vt.done&&(mt=Lt.return)&&mt.call(Lt)}finally{if(at)throw at.error}}if(jt.length===0)throw createError$1("No valid media queries");return jt},tokenizeMediaQuery=function nt(et){var at=et[0];if(at.type==="<(-token>")try{return{mediaPrefix:null,mediaType:"all",mediaCondition:tokenizeMediaCondition(et,!0)}}catch(Vt){throw createError$1("Expected media condition after '('",Vt)}else if(at.type==="<ident-token>"){var mt=null,$t=void 0,Ct=at.value;(Ct==="only"||Ct==="not")&&(mt=Ct);var Dt=mt===null?0:1;if(et.length<=Dt)throw createError$1("Expected extra token in media query");var Ft=et[Dt];if(Ft.type==="<ident-token>"){var Nt=Ft.value;if(Nt==="all")$t="all";else if(Nt==="print"||Nt==="screen")$t=Nt;else if(Nt==="tty"||Nt==="tv"||Nt==="projection"||Nt==="handheld"||Nt==="braille"||Nt==="embossed"||Nt==="aural"||Nt==="speech")mt=mt==="not"?null:"not",$t="all";else throw createError$1("Unknown ident '".concat(Nt,"' in media query"))}else if(mt==="not"&&Ft.type==="<(-token>"){var jt=[{type:"<(-token>",wsBefore:!1,wsAfter:!1}];jt.push.apply(jt,et),jt.push({type:"<)-token>",wsBefore:!1,wsAfter:!1});try{return{mediaPrefix:null,mediaType:"all",mediaCondition:tokenizeMediaCondition(jt,!0)}}catch(Vt){throw createError$1("Expected media condition after '('",Vt)}}else throw createError$1("Invalid media query");if(Dt+1===et.length)return{mediaPrefix:mt,mediaType:$t,mediaCondition:null};if(Dt+4<et.length){var Lt=et[Dt+1];if(Lt.type==="<ident-token>"&&Lt.value==="and")try{return{mediaPrefix:mt,mediaType:$t,mediaCondition:tokenizeMediaCondition(et.slice(Dt+2),!1)}}catch(Vt){throw createError$1("Expected media condition after 'and'",Vt)}else throw createError$1("Expected 'and' after media prefix")}else throw createError$1("Expected media condition after media prefix")}else throw createError$1("Expected media condition or media prefix")},tokenizeMediaCondition=function nt(et,at,mt){if(mt===void 0&&(mt=null),et.length<3||et[0].type!=="<(-token>"||et[et.length-1].type!=="<)-token>")throw new Error("Invalid media condition");for(var $t=et.length-1,Ct=0,Dt=0,Ft=0;Ft<et.length;Ft++){var Nt=et[Ft];if(Nt.type==="<(-token>"?(Dt+=1,Ct=Math.max(Ct,Dt)):Nt.type==="<)-token>"&&(Dt-=1),Dt===0){$t=Ft;break}}if(Dt!==0)throw new Error(`Mismatched parens
Invalid media condition`);var jt,Lt=et.slice(0,$t+1);if(Ct===1?jt=tokenizeMediaFeature(Lt):Lt[1].type==="<ident-token>"&&Lt[1].value==="not"?jt=nt(Lt.slice(2,-1),!0,"not"):jt=nt(Lt.slice(1,-1),!0),$t===et.length-1)return{operator:mt,children:[jt]};var Vt=et[$t+1];if(Vt.type!=="<ident-token>")throw new Error(`Invalid operator
Invalid media condition`);if(mt!==null&&mt!==Vt.value)throw new Error("'".concat(Vt.value,"' and '").concat(mt,`' must not be at same level
Invalid media condition`));if(Vt.value==="or"&&!at)throw new Error(`Cannot use 'or' at top level of a media query
Invalid media condition`);if(Vt.value!=="and"&&Vt.value!=="or")throw new Error("Invalid operator: '".concat(Vt.value,`'
Invalid media condition`));var er=nt(et.slice($t+2),at,Vt.value);return{operator:Vt.value,children:[jt].concat(er.children)}},tokenizeMediaFeature=function nt(et){if(et.length<3||et[0].type!=="<(-token>"||et[et.length-1].type!=="<)-token>")throw new Error("Invalid media feature");for(var at=[et[0]],mt=1;mt<et.length;mt++){if(mt<et.length-2){var $t=et[mt],Ct=et[mt+1],Dt=et[mt+2];if($t.type==="<number-token>"&&$t.value>0&&Ct.type==="<delim-token>"&&Ct.value===47&&Dt.type==="<number-token>"&&Dt.value>0){at.push({type:"<ratio-token>",numerator:$t.value,denominator:Dt.value,wsBefore:$t.wsBefore,wsAfter:Dt.wsAfter}),mt+=2;continue}}at.push(et[mt])}var Ft=at[1];if(Ft.type==="<ident-token>"&&at.length===3)return{context:"boolean",feature:Ft.value};if(at.length===5&&at[1].type==="<ident-token>"&&at[2].type==="<colon-token>"){var Nt=at[3];if(Nt.type==="<number-token>"||Nt.type==="<dimension-token>"||Nt.type==="<ratio-token>"||Nt.type==="<ident-token>"){var jt=at[1].value,Lt=null,Vt=jt.slice(0,4);Vt==="min-"?(Lt="min",jt=jt.slice(4)):Vt==="max-"&&(Lt="max",jt=jt.slice(4)),Nt.wsBefore,Nt.wsAfter;var er=__rest$1(Nt,["wsBefore","wsAfter"]);return{context:"value",prefix:Lt,feature:jt,value:er}}}else if(at.length>=5)try{var ir=tokenizeRange(at);return{context:"range",feature:ir.featureName,range:ir}}catch(or){throw createError$1("Invalid media feature",or)}throw new Error("Invalid media feature")},tokenizeRange=function nt(et){var at,mt,$t,Ct;if(et.length<5||et[0].type!=="<(-token>"||et[et.length-1].type!=="<)-token>")throw new Error("Invalid range");var Dt={leftToken:null,leftOp:null,featureName:"",rightOp:null,rightToken:null},Ft=et[1].type==="<number-token>"||et[1].type==="<dimension-token>"||et[1].type==="<ratio-token>"||et[1].type==="<ident-token>"&&et[1].value==="infinite";if(et[2].type==="<delim-token>"){if(et[2].value===60)et[3].type==="<delim-token>"&&et[3].value===61&&!et[3].wsBefore?Dt[Ft?"leftOp":"rightOp"]="<=":Dt[Ft?"leftOp":"rightOp"]="<";else if(et[2].value===62)et[3].type==="<delim-token>"&&et[3].value===61&&!et[3].wsBefore?Dt[Ft?"leftOp":"rightOp"]=">=":Dt[Ft?"leftOp":"rightOp"]=">";else if(et[2].value===61)Dt[Ft?"leftOp":"rightOp"]="=";else throw new Error("Invalid range");if(Ft)Dt.leftToken=et[1];else if(et[1].type==="<ident-token>")Dt.featureName=et[1].value;else throw new Error("Invalid range");var Nt=2+((mt=(at=Dt[Ft?"leftOp":"rightOp"])===null||at===void 0?void 0:at.length)!==null&&mt!==void 0?mt:0),jt=et[Nt];if(Ft)if(jt.type==="<ident-token>"){if(Dt.featureName=jt.value,et.length>=7){var Lt=et[Nt+1],Vt=et[Nt+2];if(Lt.type==="<delim-token>"){var er=Lt.value;if(er===60)Vt.type==="<delim-token>"&&Vt.value===61&&!Vt.wsBefore?Dt.rightOp="<=":Dt.rightOp="<";else if(er===62)Vt.type==="<delim-token>"&&Vt.value===61&&!Vt.wsBefore?Dt.rightOp=">=":Dt.rightOp=">";else throw new Error("Invalid range");var ir=et[Nt+1+((Ct=($t=Dt.rightOp)===null||$t===void 0?void 0:$t.length)!==null&&Ct!==void 0?Ct:0)];Dt.rightToken=ir}else throw new Error("Invalid range")}else if(Nt+2!==et.length)throw new Error("Invalid range")}else throw new Error("Invalid range");else Dt.rightToken=jt;var or=null,lr=Dt.leftToken,dr=Dt.leftOp,pr=Dt.featureName,hr=Dt.rightOp,vr=Dt.rightToken,br=null;if(lr!==null){if(lr.type==="<ident-token>"){var xr=lr.type,Sr=lr.value;Sr==="infinite"&&(br={type:xr,value:Sr})}else if(lr.type==="<number-token>"||lr.type==="<dimension-token>"||lr.type==="<ratio-token>"){lr.wsBefore,lr.wsAfter;var Er=__rest$1(lr,["wsBefore","wsAfter"]);br=Er}}var $r=null;if(vr!==null){if(vr.type==="<ident-token>"){var xr=vr.type,Sr=vr.value;Sr==="infinite"&&($r={type:xr,value:Sr})}else if(vr.type==="<number-token>"||vr.type==="<dimension-token>"||vr.type==="<ratio-token>"){vr.wsBefore,vr.wsAfter;var Cr=__rest$1(vr,["wsBefore","wsAfter"]);$r=Cr}}if(br!==null&&$r!==null)if((dr==="<"||dr==="<=")&&(hr==="<"||hr==="<="))or={leftToken:br,leftOp:dr,featureName:pr,rightOp:hr,rightToken:$r};else if((dr===">"||dr===">=")&&(hr===">"||hr===">="))or={leftToken:br,leftOp:dr,featureName:pr,rightOp:hr,rightToken:$r};else throw new Error("Invalid range");else br===null&&dr===null&&hr!==null&&$r!==null?or={leftToken:br,leftOp:dr,featureName:pr,rightOp:hr,rightToken:$r}:br!==null&&dr!==null&&hr===null&&$r===null&&(or={leftToken:br,leftOp:dr,featureName:pr,rightOp:hr,rightToken:$r});return or}else throw new Error("Invalid range")};function toPrimitive$2(nt,et){if(typeof nt!="object"||!nt)return nt;var at=nt[Symbol.toPrimitive];if(at!==void 0){var mt=at.call(nt,et||"default");if(typeof mt!="object")return mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(nt)}function toPropertyKey$2(nt){var et=toPrimitive$2(nt,"string");return typeof et=="symbol"?et:String(et)}function _defineProperty$1(nt,et,at){return et=toPropertyKey$2(et),et in nt?Object.defineProperty(nt,et,{value:at,enumerable:!0,configurable:!0,writable:!0}):nt[et]=at,nt}function ownKeys$1(nt,et){var at=Object.keys(nt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(nt);et&&(mt=mt.filter(function($t){return Object.getOwnPropertyDescriptor(nt,$t).enumerable})),at.push.apply(at,mt)}return at}function _objectSpread2$b(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object(at),!0).forEach(function(mt){_defineProperty$1(nt,mt,at[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(at)):ownKeys$1(Object(at)).forEach(function(mt){Object.defineProperty(nt,mt,Object.getOwnPropertyDescriptor(at,mt))})}return nt}function _objectWithoutPropertiesLoose$2(nt,et){if(nt==null)return{};var at={},mt=Object.keys(nt),$t,Ct;for(Ct=0;Ct<mt.length;Ct++)$t=mt[Ct],!(et.indexOf($t)>=0)&&(at[$t]=nt[$t]);return at}function _objectWithoutProperties(nt,et){if(nt==null)return{};var at=_objectWithoutPropertiesLoose$2(nt,et),mt,$t;if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(nt);for($t=0;$t<Ct.length;$t++)mt=Ct[$t],!(et.indexOf(mt)>=0)&&Object.prototype.propertyIsEnumerable.call(nt,mt)&&(at[mt]=nt[mt])}return at}function forEach$1(nt,et){for(var at in nt)et(nt[at],at)}function omit$1(nt,et){var at={};for(var mt in nt)et.indexOf(mt)===-1&&(at[mt]=nt[mt]);return at}function mapKeys(nt,et){var at={};for(var mt in nt)at[et(nt[mt],mt)]=nt[mt];return at}var _templateObject$1;function escapeRegex(nt){return nt.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var validateSelector=(nt,et)=>{var at=()=>{var $t=new RegExp(".".concat(escapeRegex(cssesc$1(et,{isIdentifier:!0}))),"g");return nt.replace($t,"&")},mt;try{mt=parse$1(nt)}catch{throw new Error("Invalid selector: ".concat(at()))}mt.forEach($t=>{try{for(var Ct=$t.length-1;Ct>=-1;Ct--){if(!$t[Ct])throw new Error;var Dt=$t[Ct];if(Dt.type==="child"||Dt.type==="parent"||Dt.type==="sibling"||Dt.type==="adjacent"||Dt.type==="descendant")throw new Error;if(Dt.type==="attribute"&&Dt.name==="class"&&Dt.value===et)return}}catch{throw new Error(dedent(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral([`
        Invalid selector: `,`
    
        Style selectors must target the '&' character (along with any modifiers), e.g. `," or ",`.
        
        This is to ensure that each style block only affects the styling of a single class.
        
        If your selector is targeting another class, you should move it to the style definition for that class, e.g. given we have styles for 'parent' and 'child' elements, instead of adding a selector of `,") to 'parent', you should add ",` to 'child').
        
        If your selector is targeting something global, use the 'globalStyle' function instead, e.g. if you wanted to write `,", you should instead write 'globalStyle(",`, { ... })'
      `])),at(),"`${parent} &`","`${parent} &:hover`","`& ${child}`","`${parent} &`","`& h1`","`${parent} h1`"))}})};class ConditionalRuleset{constructor(){this.ruleset=new Map,this.precedenceLookup=new Map}findOrCreateCondition(et){var at=this.ruleset.get(et);return at||(at={query:et,rules:[],children:new ConditionalRuleset},this.ruleset.set(et,at)),at}getConditionalRulesetByPath(et){var at=this;for(var mt of et){var $t=at.findOrCreateCondition(mt);at=$t.children}return at}addRule(et,at,mt){var $t=this.getConditionalRulesetByPath(mt),Ct=$t.findOrCreateCondition(at);if(!Ct)throw new Error("Failed to add conditional rule");Ct.rules.push(et)}addConditionPrecedence(et,at){for(var mt=this.getConditionalRulesetByPath(et),$t=0;$t<at.length;$t++){var Ct,Dt=at[$t],Ft=(Ct=mt.precedenceLookup.get(Dt))!==null&&Ct!==void 0?Ct:new Set;for(var Nt of at.slice($t+1))Ft.add(Nt);mt.precedenceLookup.set(Dt,Ft)}}isCompatible(et){for(var[at,mt]of this.precedenceLookup.entries())for(var $t of mt){var Ct;if((Ct=et.precedenceLookup.get($t))!==null&&Ct!==void 0&&Ct.has(at))return!1}for(var{query:Dt,children:Ft}of et.ruleset.values()){var Nt=this.ruleset.get(Dt);if(Nt&&!Nt.children.isCompatible(Ft))return!1}return!0}merge(et){for(var{query:at,rules:mt,children:$t}of et.ruleset.values()){var Ct=this.ruleset.get(at);Ct?(Ct.rules.push(...mt),Ct.children.merge($t)):this.ruleset.set(at,{query:at,rules:mt,children:$t})}for(var[Dt,Ft]of et.precedenceLookup.entries()){var Nt,jt=(Nt=this.precedenceLookup.get(Dt))!==null&&Nt!==void 0?Nt:new Set;this.precedenceLookup.set(Dt,new Set([...jt,...Ft]))}}mergeIfCompatible(et){return this.isCompatible(et)?(this.merge(et),!0):!1}getSortedRuleset(){var et=this,at=[],mt=function(Ft){var Nt=et.ruleset.get($t);if(!Nt)throw new Error("Can't find condition for ".concat($t));var jt=at.findIndex(Lt=>Ft.has(Lt.query));jt>-1?at.splice(jt,0,Nt):at.push(Nt)};for(var[$t,Ct]of this.precedenceLookup.entries())mt(Ct);return at}renderToArray(){var et=[];for(var{query:at,rules:mt,children:$t}of this.getSortedRuleset()){var Ct={};for(var Dt of mt)Ct[Dt.selector]=_objectSpread2$b(_objectSpread2$b({},Ct[Dt.selector]),Dt.rule);Object.assign(Ct,...$t.renderToArray()),et.push({[at]:Ct})}return et}}var simplePseudoMap={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-calendar-picker-indicator":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},simplePseudos=Object.keys(simplePseudoMap),simplePseudoLookup=simplePseudoMap,_templateObject,createMediaQueryError=(nt,et)=>new Error(dedent(_templateObject||(_templateObject=_taggedTemplateLiteral([`
    Invalid media query: "`,`"

    `,`

    Read more on MDN: https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries
  `])),nt,et)),validateMediaQuery=nt=>{if(nt==="@media ")throw createMediaQueryError(nt,"Query is empty");try{toAST(nt)}catch(et){throw createMediaQueryError(nt,et.message)}},_excluded$3=["vars"],_excluded2=["content"],DECLARATION$1="__DECLARATION",UNITLESS={animationIterationCount:!0,borderImage:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,initialLetter:!0,lineClamp:!0,lineHeight:!0,maxLines:!0,opacity:!0,order:!0,orphans:!0,scale:!0,tabSize:!0,WebkitLineClamp:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,maskBorder:!0,maskBorderOutset:!0,maskBorderSlice:!0,maskBorderWidth:!0,shapeImageThreshold:!0,stopOpacity:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function dashify(nt){return nt.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function replaceBetweenIndexes(nt,et,at,mt){var $t=nt.slice(0,et),Ct=nt.slice(at);return"".concat($t).concat(mt).concat(Ct)}var DOUBLE_SPACE="  ",specialKeys=[...simplePseudos,"@layer","@media","@supports","@container","selectors"];class Stylesheet{constructor(et,at){this.rules=[],this.conditionalRulesets=[new ConditionalRuleset],this.fontFaceRules=[],this.keyframesRules=[],this.localClassNamesMap=new Map(et.map(mt=>[mt,mt])),this.localClassNamesSearch=new AhoCorasick(et),this.layers=new Map,this.composedClassLists=at.map(mt=>{var{identifier:$t,classList:Ct}=mt;return{identifier:$t,regex:RegExp("(".concat(Ct,")"),"g")}}).reverse()}processCssObj(et){if(et.type==="fontFace"){this.fontFaceRules.push(et.rule);return}if(et.type==="keyframes"){et.rule=Object.fromEntries(Object.entries(et.rule).map(Ct=>{var[Dt,Ft]=Ct;return[Dt,this.transformProperties(Ft)]})),this.keyframesRules.push(et);return}if(this.currConditionalRuleset=new ConditionalRuleset,et.type==="layer"){var at="@layer ".concat(et.name);this.addLayer([at])}else{var mt=omit$1(et.rule,specialKeys);this.addRule({selector:et.selector,rule:mt}),this.transformLayer(et,et.rule["@layer"]),this.transformMedia(et,et.rule["@media"]),this.transformSupports(et,et.rule["@supports"]),this.transformContainer(et,et.rule["@container"]),this.transformSimplePseudos(et,et.rule),this.transformSelectors(et,et.rule)}var $t=this.conditionalRulesets[this.conditionalRulesets.length-1];$t.mergeIfCompatible(this.currConditionalRuleset)||this.conditionalRulesets.push(this.currConditionalRuleset)}addConditionalRule(et,at){var mt=this.transformVars(this.transformProperties(et.rule)),$t=this.transformSelector(et.selector);if(!this.currConditionalRuleset)throw new Error("Couldn't add conditional rule");var Ct=at[at.length-1],Dt=at.slice(0,at.length-1);this.currConditionalRuleset.addRule({selector:$t,rule:mt},Ct,Dt)}addRule(et){var at=this.transformVars(this.transformProperties(et.rule)),mt=this.transformSelector(et.selector);this.rules.push({selector:mt,rule:at})}addLayer(et){var at=et.join(" - ");this.layers.set(at,et)}transformProperties(et){return this.transformContent(this.pixelifyProperties(et))}pixelifyProperties(et){return forEach$1(et,(at,mt)=>{typeof at=="number"&&at!==0&&!UNITLESS[mt]&&(et[mt]="".concat(at,"px"))}),et}transformVars(et){var{vars:at}=et,mt=_objectWithoutProperties(et,_excluded$3);return at?_objectSpread2$b(_objectSpread2$b({},mapKeys(at,($t,Ct)=>getVarName(Ct))),mt):mt}transformContent(et){var{content:at}=et,mt=_objectWithoutProperties(et,_excluded2);if(typeof at>"u")return mt;var $t=Array.isArray(at)?at:[at];return _objectSpread2$b({content:$t.map(Ct=>Ct&&(Ct.includes('"')||Ct.includes("'")||/^([A-Za-z\-]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)(\s|$)/.test(Ct))?Ct:'"'.concat(Ct,'"'))},mt)}transformClassname(et){return".".concat(cssesc$1(et,{isIdentifier:!0}))}transformSelector(et){var at=et,mt=function(or){at=at.replace(Ct,()=>(markCompositionUsed(or),or))};for(var{identifier:$t,regex:Ct}of this.composedClassLists)mt($t);if(this.localClassNamesMap.has(at))return this.transformClassname(at);for(var Dt=this.localClassNamesSearch.search(at),Ft=at.length,Nt=Dt.length-1;Nt>=0;Nt--){var[jt,[Lt]]=Dt[Nt],Vt=jt-Lt.length+1,er=Ft<=jt;er||(Ft=Vt,at[Vt-1]!=="."&&(at=replaceBetweenIndexes(at,Vt,jt+1,this.transformClassname(Lt))))}return at}transformSelectors(et,at,mt){forEach$1(at.selectors,($t,Ct)=>{if(et.type!=="local")throw new Error("Selectors are not allowed within ".concat(et.type==="global"?'"globalStyle"':'"selectors"'));var Dt=this.transformSelector(Ct.replace(RegExp("&","g"),et.selector));validateSelector(Dt,et.selector);var Ft={selector:Dt,rule:omit$1($t,specialKeys)};mt?this.addConditionalRule(Ft,mt):this.addRule(Ft);var Nt={type:"selector",selector:Dt,rule:$t};this.transformLayer(Nt,$t["@layer"],mt),this.transformSupports(Nt,$t["@supports"],mt),this.transformMedia(Nt,$t["@media"],mt)})}transformMedia(et,at){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(at){var $t;($t=this.currConditionalRuleset)===null||$t===void 0||$t.addConditionPrecedence(mt,Object.keys(at).map(jt=>"@media ".concat(jt)));for(var[Ct,Dt]of Object.entries(at)){var Ft="@media ".concat(Ct);validateMediaQuery(Ft);var Nt=[...mt,Ft];this.addConditionalRule({selector:et.selector,rule:omit$1(Dt,specialKeys)},Nt),et.type==="local"&&(this.transformSimplePseudos(et,Dt,Nt),this.transformSelectors(et,Dt,Nt)),this.transformLayer(et,Dt["@layer"],Nt),this.transformSupports(et,Dt["@supports"],Nt),this.transformContainer(et,Dt["@container"],Nt)}}}transformContainer(et,at){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(at){var $t;($t=this.currConditionalRuleset)===null||$t===void 0||$t.addConditionPrecedence(mt,Object.keys(at).map(Ct=>"@container ".concat(Ct))),forEach$1(at,(Ct,Dt)=>{var Ft="@container ".concat(Dt),Nt=[...mt,Ft];this.addConditionalRule({selector:et.selector,rule:omit$1(Ct,specialKeys)},Nt),et.type==="local"&&(this.transformSimplePseudos(et,Ct,Nt),this.transformSelectors(et,Ct,Nt)),this.transformLayer(et,Ct["@layer"],Nt),this.transformSupports(et,Ct["@supports"],Nt),this.transformMedia(et,Ct["@media"],Nt)})}}transformLayer(et,at){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(at){var $t;($t=this.currConditionalRuleset)===null||$t===void 0||$t.addConditionPrecedence(mt,Object.keys(at).map(Ct=>"@layer ".concat(Ct))),forEach$1(at,(Ct,Dt)=>{var Ft=[...mt,"@layer ".concat(Dt)];this.addLayer(Ft),this.addConditionalRule({selector:et.selector,rule:omit$1(Ct,specialKeys)},Ft),et.type==="local"&&(this.transformSimplePseudos(et,Ct,Ft),this.transformSelectors(et,Ct,Ft)),this.transformMedia(et,Ct["@media"],Ft),this.transformSupports(et,Ct["@supports"],Ft),this.transformContainer(et,Ct["@container"],Ft)})}}transformSupports(et,at){var mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(at){var $t;($t=this.currConditionalRuleset)===null||$t===void 0||$t.addConditionPrecedence(mt,Object.keys(at).map(Ct=>"@supports ".concat(Ct))),forEach$1(at,(Ct,Dt)=>{var Ft=[...mt,"@supports ".concat(Dt)];this.addConditionalRule({selector:et.selector,rule:omit$1(Ct,specialKeys)},Ft),et.type==="local"&&(this.transformSimplePseudos(et,Ct,Ft),this.transformSelectors(et,Ct,Ft)),this.transformLayer(et,Ct["@layer"],Ft),this.transformMedia(et,Ct["@media"],Ft),this.transformContainer(et,Ct["@container"],Ft)})}}transformSimplePseudos(et,at,mt){for(var $t of Object.keys(at))if(simplePseudoLookup[$t]){if(et.type!=="local")throw new Error("Simple pseudos are not valid in ".concat(et.type==="global"?'"globalStyle"':'"selectors"'));mt?this.addConditionalRule({selector:"".concat(et.selector).concat($t),rule:at[$t]},mt):this.addRule({conditions:mt,selector:"".concat(et.selector).concat($t),rule:at[$t]})}}toCss(){var et=[];for(var at of this.fontFaceRules)et.push(renderCss({"@font-face":at}));for(var mt of this.keyframesRules)et.push(renderCss({["@keyframes ".concat(mt.name)]:mt.rule}));for(var $t of this.layers.values()){var[Ct,...Dt]=$t.reverse(),Ft={[Ct]:DECLARATION$1};for(var Nt of Dt)Ft={[Nt]:Ft};et.push(renderCss(Ft))}for(var jt of this.rules)et.push(renderCss({[jt.selector]:jt.rule}));for(var Lt of this.conditionalRulesets)for(var Vt of Lt.renderToArray())et.push(renderCss(Vt));return et.filter(Boolean)}}function renderCss(nt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",at=[],mt=function(Dt){var Ft=nt[Dt];if(Ft&&Array.isArray(Ft))at.push(...Ft.map(jt=>renderCss({[Dt]:jt},et)));else if(Ft&&typeof Ft=="object"){var Nt=Object.keys(Ft).length===0;Nt||at.push("".concat(et).concat(Dt,` {
`).concat(renderCss(Ft,et+DOUBLE_SPACE),`
`).concat(et,"}"))}else Ft===DECLARATION$1?at.push("".concat(et).concat(Dt,";")):at.push("".concat(et).concat(Dt.startsWith("--")?Dt:dashify(Dt),": ").concat(Ft,";"))};for(var $t of Object.keys(nt))mt($t);return at.join(`
`)}function transformCss(nt){var{localClassNames:et,cssObjs:at,composedClassLists:mt}=nt,$t=new Stylesheet(et,mt);for(var Ct of at)$t.processCssObj(Ct);return $t.toCss()}function murmur2(nt){for(var et=0,at,mt=0,$t=nt.length;$t>=4;++mt,$t-=4)at=nt.charCodeAt(mt)&255|(nt.charCodeAt(++mt)&255)<<8|(nt.charCodeAt(++mt)&255)<<16|(nt.charCodeAt(++mt)&255)<<24,at=(at&65535)*1540483477+((at>>>16)*59797<<16),at^=at>>>24,et=(at&65535)*1540483477+((at>>>16)*59797<<16)^(et&65535)*1540483477+((et>>>16)*59797<<16);switch($t){case 3:et^=(nt.charCodeAt(mt+2)&255)<<16;case 2:et^=(nt.charCodeAt(mt+1)&255)<<8;case 1:et^=nt.charCodeAt(mt)&255,et=(et&65535)*1540483477+((et>>>16)*59797<<16)}return et^=et>>>13,et=(et&65535)*1540483477+((et>>>16)*59797<<16),((et^et>>>15)>>>0).toString(36)}const perf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned=new Set,PROCESS=typeof process$1=="object"&&process$1?process$1:{},emitWarning=(nt,et,at,mt)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(nt,et,at,mt):console.error(`[${at}] ${et}: ${nt}`)};let AC=globalThis.AbortController,AS=globalThis.AbortSignal;var i0;if(typeof AC>"u"){AS=class{constructor(){xa(this,"onabort");xa(this,"_onabort",[]);xa(this,"reason");xa(this,"aborted",!1)}addEventListener(mt,$t){this._onabort.push($t)}},AC=class{constructor(){xa(this,"signal",new AS);et()}abort(mt){var $t,Ct;if(!this.signal.aborted){this.signal.reason=mt,this.signal.aborted=!0;for(const Dt of this.signal._onabort)Dt(mt);(Ct=($t=this.signal).onabort)==null||Ct.call($t,mt)}}};let nt=((i0=PROCESS.env)==null?void 0:i0.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const et=()=>{nt&&(nt=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",et))}}const shouldWarn=nt=>!warned.has(nt),isPosInt=nt=>nt&&nt===Math.floor(nt)&&nt>0&&isFinite(nt),getUintArray=nt=>isPosInt(nt)?nt<=Math.pow(2,8)?Uint8Array:nt<=Math.pow(2,16)?Uint16Array:nt<=Math.pow(2,32)?Uint32Array:nt<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(et){super(et),this.fill(0)}}var Gs,su;let Stack$2=(Gs=class{constructor(et,at){xa(this,"heap");xa(this,"length");if(!Kr(Gs,su))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new at(et),this.length=0}static create(et){const at=getUintArray(et);if(!at)return[];bo(Gs,su,!0);const mt=new Gs(et,at);return bo(Gs,su,!1),mt}push(et){this.heap[this.length++]=et}pop(){return this.heap[--this.length]}},su=new WeakMap,No(Gs,su,!1),Gs);var a0,o0,Os,Ts,Bs,Fs,lu,uu,ps,Ns,fs,os,Yo,xs,Rs,ys,ms,js,gs,Ls,qs,ks,Us,Il,Ss,jo,Lu,zl,Xs,bu,Ms,A0,Hl,cu,xu,Js,yl,qu,Su,Eu,as,Uu,mu,_l,Vu;const zu=class zu{constructor(et){No(this,jo);No(this,Os);No(this,Ts);No(this,Bs);No(this,Fs);No(this,lu);No(this,uu);xa(this,"ttl");xa(this,"ttlResolution");xa(this,"ttlAutopurge");xa(this,"updateAgeOnGet");xa(this,"updateAgeOnHas");xa(this,"allowStale");xa(this,"noDisposeOnSet");xa(this,"noUpdateTTL");xa(this,"maxEntrySize");xa(this,"sizeCalculation");xa(this,"noDeleteOnFetchRejection");xa(this,"noDeleteOnStaleGet");xa(this,"allowStaleOnFetchAbort");xa(this,"allowStaleOnFetchRejection");xa(this,"ignoreFetchAbort");No(this,ps);No(this,Ns);No(this,fs);No(this,os);No(this,Yo);No(this,xs);No(this,Rs);No(this,ys);No(this,ms);No(this,js);No(this,gs);No(this,Ls);No(this,qs);No(this,ks);No(this,Us);No(this,Il);No(this,Ss);No(this,zl,()=>{});No(this,Xs,()=>{});No(this,bu,()=>{});No(this,Ms,()=>!1);No(this,Hl,et=>{});No(this,cu,(et,at,mt)=>{});No(this,xu,(et,at,mt,$t)=>{if(mt||$t)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});xa(this,a0,"LRUCache");const{max:at=0,ttl:mt,ttlResolution:$t=1,ttlAutopurge:Ct,updateAgeOnGet:Dt,updateAgeOnHas:Ft,allowStale:Nt,dispose:jt,disposeAfter:Lt,noDisposeOnSet:Vt,noUpdateTTL:er,maxSize:ir=0,maxEntrySize:or=0,sizeCalculation:lr,fetchMethod:dr,memoMethod:pr,noDeleteOnFetchRejection:hr,noDeleteOnStaleGet:vr,allowStaleOnFetchRejection:br,allowStaleOnFetchAbort:xr,ignoreFetchAbort:Sr}=et;if(at!==0&&!isPosInt(at))throw new TypeError("max option must be a nonnegative integer");const Er=at?getUintArray(at):Array;if(!Er)throw new Error("invalid max value: "+at);if(bo(this,Os,at),bo(this,Ts,ir),this.maxEntrySize=or||Kr(this,Ts),this.sizeCalculation=lr,this.sizeCalculation){if(!Kr(this,Ts)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(pr!==void 0&&typeof pr!="function")throw new TypeError("memoMethod must be a function if defined");if(bo(this,uu,pr),dr!==void 0&&typeof dr!="function")throw new TypeError("fetchMethod must be a function if specified");if(bo(this,lu,dr),bo(this,Il,!!dr),bo(this,fs,new Map),bo(this,os,new Array(at).fill(void 0)),bo(this,Yo,new Array(at).fill(void 0)),bo(this,xs,new Er(at)),bo(this,Rs,new Er(at)),bo(this,ys,0),bo(this,ms,0),bo(this,js,Stack$2.create(at)),bo(this,ps,0),bo(this,Ns,0),typeof jt=="function"&&bo(this,Bs,jt),typeof Lt=="function"?(bo(this,Fs,Lt),bo(this,gs,[])):(bo(this,Fs,void 0),bo(this,gs,void 0)),bo(this,Us,!!Kr(this,Bs)),bo(this,Ss,!!Kr(this,Fs)),this.noDisposeOnSet=!!Vt,this.noUpdateTTL=!!er,this.noDeleteOnFetchRejection=!!hr,this.allowStaleOnFetchRejection=!!br,this.allowStaleOnFetchAbort=!!xr,this.ignoreFetchAbort=!!Sr,this.maxEntrySize!==0){if(Kr(this,Ts)!==0&&!isPosInt(Kr(this,Ts)))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");To(this,jo,A0).call(this)}if(this.allowStale=!!Nt,this.noDeleteOnStaleGet=!!vr,this.updateAgeOnGet=!!Dt,this.updateAgeOnHas=!!Ft,this.ttlResolution=isPosInt($t)||$t===0?$t:1,this.ttlAutopurge=!!Ct,this.ttl=mt||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");To(this,jo,Lu).call(this)}if(Kr(this,Os)===0&&this.ttl===0&&Kr(this,Ts)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!Kr(this,Os)&&!Kr(this,Ts)){const $r="LRU_CACHE_UNBOUNDED";shouldWarn($r)&&(warned.add($r),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",$r,zu))}}static unsafeExposeInternals(et){return{starts:Kr(et,qs),ttls:Kr(et,ks),sizes:Kr(et,Ls),keyMap:Kr(et,fs),keyList:Kr(et,os),valList:Kr(et,Yo),next:Kr(et,xs),prev:Kr(et,Rs),get head(){return Kr(et,ys)},get tail(){return Kr(et,ms)},free:Kr(et,js),isBackgroundFetch:at=>{var mt;return To(mt=et,jo,as).call(mt,at)},backgroundFetch:(at,mt,$t,Ct)=>{var Dt;return To(Dt=et,jo,Eu).call(Dt,at,mt,$t,Ct)},moveToTail:at=>{var mt;return To(mt=et,jo,mu).call(mt,at)},indexes:at=>{var mt;return To(mt=et,jo,Js).call(mt,at)},rindexes:at=>{var mt;return To(mt=et,jo,yl).call(mt,at)},isStale:at=>{var mt;return Kr(mt=et,Ms).call(mt,at)}}}get max(){return Kr(this,Os)}get maxSize(){return Kr(this,Ts)}get calculatedSize(){return Kr(this,Ns)}get size(){return Kr(this,ps)}get fetchMethod(){return Kr(this,lu)}get memoMethod(){return Kr(this,uu)}get dispose(){return Kr(this,Bs)}get disposeAfter(){return Kr(this,Fs)}getRemainingTTL(et){return Kr(this,fs).has(et)?1/0:0}*entries(){for(const et of To(this,jo,Js).call(this))Kr(this,Yo)[et]!==void 0&&Kr(this,os)[et]!==void 0&&!To(this,jo,as).call(this,Kr(this,Yo)[et])&&(yield[Kr(this,os)[et],Kr(this,Yo)[et]])}*rentries(){for(const et of To(this,jo,yl).call(this))Kr(this,Yo)[et]!==void 0&&Kr(this,os)[et]!==void 0&&!To(this,jo,as).call(this,Kr(this,Yo)[et])&&(yield[Kr(this,os)[et],Kr(this,Yo)[et]])}*keys(){for(const et of To(this,jo,Js).call(this)){const at=Kr(this,os)[et];at!==void 0&&!To(this,jo,as).call(this,Kr(this,Yo)[et])&&(yield at)}}*rkeys(){for(const et of To(this,jo,yl).call(this)){const at=Kr(this,os)[et];at!==void 0&&!To(this,jo,as).call(this,Kr(this,Yo)[et])&&(yield at)}}*values(){for(const et of To(this,jo,Js).call(this))Kr(this,Yo)[et]!==void 0&&!To(this,jo,as).call(this,Kr(this,Yo)[et])&&(yield Kr(this,Yo)[et])}*rvalues(){for(const et of To(this,jo,yl).call(this))Kr(this,Yo)[et]!==void 0&&!To(this,jo,as).call(this,Kr(this,Yo)[et])&&(yield Kr(this,Yo)[et])}[(o0=Symbol.iterator,a0=Symbol.toStringTag,o0)](){return this.entries()}find(et,at={}){for(const mt of To(this,jo,Js).call(this)){const $t=Kr(this,Yo)[mt],Ct=To(this,jo,as).call(this,$t)?$t.__staleWhileFetching:$t;if(Ct!==void 0&&et(Ct,Kr(this,os)[mt],this))return this.get(Kr(this,os)[mt],at)}}forEach(et,at=this){for(const mt of To(this,jo,Js).call(this)){const $t=Kr(this,Yo)[mt],Ct=To(this,jo,as).call(this,$t)?$t.__staleWhileFetching:$t;Ct!==void 0&&et.call(at,Ct,Kr(this,os)[mt],this)}}rforEach(et,at=this){for(const mt of To(this,jo,yl).call(this)){const $t=Kr(this,Yo)[mt],Ct=To(this,jo,as).call(this,$t)?$t.__staleWhileFetching:$t;Ct!==void 0&&et.call(at,Ct,Kr(this,os)[mt],this)}}purgeStale(){let et=!1;for(const at of To(this,jo,yl).call(this,{allowStale:!0}))Kr(this,Ms).call(this,at)&&(To(this,jo,_l).call(this,Kr(this,os)[at],"expire"),et=!0);return et}info(et){const at=Kr(this,fs).get(et);if(at===void 0)return;const mt=Kr(this,Yo)[at],$t=To(this,jo,as).call(this,mt)?mt.__staleWhileFetching:mt;if($t===void 0)return;const Ct={value:$t};if(Kr(this,ks)&&Kr(this,qs)){const Dt=Kr(this,ks)[at],Ft=Kr(this,qs)[at];if(Dt&&Ft){const Nt=Dt-(perf.now()-Ft);Ct.ttl=Nt,Ct.start=Date.now()}}return Kr(this,Ls)&&(Ct.size=Kr(this,Ls)[at]),Ct}dump(){const et=[];for(const at of To(this,jo,Js).call(this,{allowStale:!0})){const mt=Kr(this,os)[at],$t=Kr(this,Yo)[at],Ct=To(this,jo,as).call(this,$t)?$t.__staleWhileFetching:$t;if(Ct===void 0||mt===void 0)continue;const Dt={value:Ct};if(Kr(this,ks)&&Kr(this,qs)){Dt.ttl=Kr(this,ks)[at];const Ft=perf.now()-Kr(this,qs)[at];Dt.start=Math.floor(Date.now()-Ft)}Kr(this,Ls)&&(Dt.size=Kr(this,Ls)[at]),et.unshift([mt,Dt])}return et}load(et){this.clear();for(const[at,mt]of et){if(mt.start){const $t=Date.now()-mt.start;mt.start=perf.now()-$t}this.set(at,mt.value,mt)}}set(et,at,mt={}){var er,ir,or,lr,dr;if(at===void 0)return this.delete(et),this;const{ttl:$t=this.ttl,start:Ct,noDisposeOnSet:Dt=this.noDisposeOnSet,sizeCalculation:Ft=this.sizeCalculation,status:Nt}=mt;let{noUpdateTTL:jt=this.noUpdateTTL}=mt;const Lt=Kr(this,xu).call(this,et,at,mt.size||0,Ft);if(this.maxEntrySize&&Lt>this.maxEntrySize)return Nt&&(Nt.set="miss",Nt.maxEntrySizeExceeded=!0),To(this,jo,_l).call(this,et,"set"),this;let Vt=Kr(this,ps)===0?void 0:Kr(this,fs).get(et);if(Vt===void 0)Vt=Kr(this,ps)===0?Kr(this,ms):Kr(this,js).length!==0?Kr(this,js).pop():Kr(this,ps)===Kr(this,Os)?To(this,jo,Su).call(this,!1):Kr(this,ps),Kr(this,os)[Vt]=et,Kr(this,Yo)[Vt]=at,Kr(this,fs).set(et,Vt),Kr(this,xs)[Kr(this,ms)]=Vt,Kr(this,Rs)[Vt]=Kr(this,ms),bo(this,ms,Vt),Dl(this,ps)._++,Kr(this,cu).call(this,Vt,Lt,Nt),Nt&&(Nt.set="add"),jt=!1;else{To(this,jo,mu).call(this,Vt);const pr=Kr(this,Yo)[Vt];if(at!==pr){if(Kr(this,Il)&&To(this,jo,as).call(this,pr)){pr.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:hr}=pr;hr!==void 0&&!Dt&&(Kr(this,Us)&&((er=Kr(this,Bs))==null||er.call(this,hr,et,"set")),Kr(this,Ss)&&((ir=Kr(this,gs))==null||ir.push([hr,et,"set"])))}else Dt||(Kr(this,Us)&&((or=Kr(this,Bs))==null||or.call(this,pr,et,"set")),Kr(this,Ss)&&((lr=Kr(this,gs))==null||lr.push([pr,et,"set"])));if(Kr(this,Hl).call(this,Vt),Kr(this,cu).call(this,Vt,Lt,Nt),Kr(this,Yo)[Vt]=at,Nt){Nt.set="replace";const hr=pr&&To(this,jo,as).call(this,pr)?pr.__staleWhileFetching:pr;hr!==void 0&&(Nt.oldValue=hr)}}else Nt&&(Nt.set="update")}if($t!==0&&!Kr(this,ks)&&To(this,jo,Lu).call(this),Kr(this,ks)&&(jt||Kr(this,bu).call(this,Vt,$t,Ct),Nt&&Kr(this,Xs).call(this,Nt,Vt)),!Dt&&Kr(this,Ss)&&Kr(this,gs)){const pr=Kr(this,gs);let hr;for(;hr=pr==null?void 0:pr.shift();)(dr=Kr(this,Fs))==null||dr.call(this,...hr)}return this}pop(){var et;try{for(;Kr(this,ps);){const at=Kr(this,Yo)[Kr(this,ys)];if(To(this,jo,Su).call(this,!0),To(this,jo,as).call(this,at)){if(at.__staleWhileFetching)return at.__staleWhileFetching}else if(at!==void 0)return at}}finally{if(Kr(this,Ss)&&Kr(this,gs)){const at=Kr(this,gs);let mt;for(;mt=at==null?void 0:at.shift();)(et=Kr(this,Fs))==null||et.call(this,...mt)}}}has(et,at={}){const{updateAgeOnHas:mt=this.updateAgeOnHas,status:$t}=at,Ct=Kr(this,fs).get(et);if(Ct!==void 0){const Dt=Kr(this,Yo)[Ct];if(To(this,jo,as).call(this,Dt)&&Dt.__staleWhileFetching===void 0)return!1;if(Kr(this,Ms).call(this,Ct))$t&&($t.has="stale",Kr(this,Xs).call(this,$t,Ct));else return mt&&Kr(this,zl).call(this,Ct),$t&&($t.has="hit",Kr(this,Xs).call(this,$t,Ct)),!0}else $t&&($t.has="miss");return!1}peek(et,at={}){const{allowStale:mt=this.allowStale}=at,$t=Kr(this,fs).get(et);if($t===void 0||!mt&&Kr(this,Ms).call(this,$t))return;const Ct=Kr(this,Yo)[$t];return To(this,jo,as).call(this,Ct)?Ct.__staleWhileFetching:Ct}async fetch(et,at={}){const{allowStale:mt=this.allowStale,updateAgeOnGet:$t=this.updateAgeOnGet,noDeleteOnStaleGet:Ct=this.noDeleteOnStaleGet,ttl:Dt=this.ttl,noDisposeOnSet:Ft=this.noDisposeOnSet,size:Nt=0,sizeCalculation:jt=this.sizeCalculation,noUpdateTTL:Lt=this.noUpdateTTL,noDeleteOnFetchRejection:Vt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:er=this.allowStaleOnFetchRejection,ignoreFetchAbort:ir=this.ignoreFetchAbort,allowStaleOnFetchAbort:or=this.allowStaleOnFetchAbort,context:lr,forceRefresh:dr=!1,status:pr,signal:hr}=at;if(!Kr(this,Il))return pr&&(pr.fetch="get"),this.get(et,{allowStale:mt,updateAgeOnGet:$t,noDeleteOnStaleGet:Ct,status:pr});const vr={allowStale:mt,updateAgeOnGet:$t,noDeleteOnStaleGet:Ct,ttl:Dt,noDisposeOnSet:Ft,size:Nt,sizeCalculation:jt,noUpdateTTL:Lt,noDeleteOnFetchRejection:Vt,allowStaleOnFetchRejection:er,allowStaleOnFetchAbort:or,ignoreFetchAbort:ir,status:pr,signal:hr};let br=Kr(this,fs).get(et);if(br===void 0){pr&&(pr.fetch="miss");const xr=To(this,jo,Eu).call(this,et,br,vr,lr);return xr.__returned=xr}else{const xr=Kr(this,Yo)[br];if(To(this,jo,as).call(this,xr)){const kr=mt&&xr.__staleWhileFetching!==void 0;return pr&&(pr.fetch="inflight",kr&&(pr.returnedStale=!0)),kr?xr.__staleWhileFetching:xr.__returned=xr}const Sr=Kr(this,Ms).call(this,br);if(!dr&&!Sr)return pr&&(pr.fetch="hit"),To(this,jo,mu).call(this,br),$t&&Kr(this,zl).call(this,br),pr&&Kr(this,Xs).call(this,pr,br),xr;const Er=To(this,jo,Eu).call(this,et,br,vr,lr),Cr=Er.__staleWhileFetching!==void 0&&mt;return pr&&(pr.fetch=Sr?"stale":"refresh",Cr&&Sr&&(pr.returnedStale=!0)),Cr?Er.__staleWhileFetching:Er.__returned=Er}}async forceFetch(et,at={}){const mt=await this.fetch(et,at);if(mt===void 0)throw new Error("fetch() returned undefined");return mt}memo(et,at={}){const mt=Kr(this,uu);if(!mt)throw new Error("no memoMethod provided to constructor");const{context:$t,forceRefresh:Ct,...Dt}=at,Ft=this.get(et,Dt);if(!Ct&&Ft!==void 0)return Ft;const Nt=mt(et,Ft,{options:Dt,context:$t});return this.set(et,Nt,Dt),Nt}get(et,at={}){const{allowStale:mt=this.allowStale,updateAgeOnGet:$t=this.updateAgeOnGet,noDeleteOnStaleGet:Ct=this.noDeleteOnStaleGet,status:Dt}=at,Ft=Kr(this,fs).get(et);if(Ft!==void 0){const Nt=Kr(this,Yo)[Ft],jt=To(this,jo,as).call(this,Nt);return Dt&&Kr(this,Xs).call(this,Dt,Ft),Kr(this,Ms).call(this,Ft)?(Dt&&(Dt.get="stale"),jt?(Dt&&mt&&Nt.__staleWhileFetching!==void 0&&(Dt.returnedStale=!0),mt?Nt.__staleWhileFetching:void 0):(Ct||To(this,jo,_l).call(this,et,"expire"),Dt&&mt&&(Dt.returnedStale=!0),mt?Nt:void 0)):(Dt&&(Dt.get="hit"),jt?Nt.__staleWhileFetching:(To(this,jo,mu).call(this,Ft),$t&&Kr(this,zl).call(this,Ft),Nt))}else Dt&&(Dt.get="miss")}delete(et){return To(this,jo,_l).call(this,et,"delete")}clear(){return To(this,jo,Vu).call(this,"delete")}};Os=new WeakMap,Ts=new WeakMap,Bs=new WeakMap,Fs=new WeakMap,lu=new WeakMap,uu=new WeakMap,ps=new WeakMap,Ns=new WeakMap,fs=new WeakMap,os=new WeakMap,Yo=new WeakMap,xs=new WeakMap,Rs=new WeakMap,ys=new WeakMap,ms=new WeakMap,js=new WeakMap,gs=new WeakMap,Ls=new WeakMap,qs=new WeakMap,ks=new WeakMap,Us=new WeakMap,Il=new WeakMap,Ss=new WeakMap,jo=new WeakSet,Lu=function(){const et=new ZeroArray(Kr(this,Os)),at=new ZeroArray(Kr(this,Os));bo(this,ks,et),bo(this,qs,at),bo(this,bu,(Ct,Dt,Ft=perf.now())=>{if(at[Ct]=Dt!==0?Ft:0,et[Ct]=Dt,Dt!==0&&this.ttlAutopurge){const Nt=setTimeout(()=>{Kr(this,Ms).call(this,Ct)&&To(this,jo,_l).call(this,Kr(this,os)[Ct],"expire")},Dt+1);Nt.unref&&Nt.unref()}}),bo(this,zl,Ct=>{at[Ct]=et[Ct]!==0?perf.now():0}),bo(this,Xs,(Ct,Dt)=>{if(et[Dt]){const Ft=et[Dt],Nt=at[Dt];if(!Ft||!Nt)return;Ct.ttl=Ft,Ct.start=Nt,Ct.now=mt||$t();const jt=Ct.now-Nt;Ct.remainingTTL=Ft-jt}});let mt=0;const $t=()=>{const Ct=perf.now();if(this.ttlResolution>0){mt=Ct;const Dt=setTimeout(()=>mt=0,this.ttlResolution);Dt.unref&&Dt.unref()}return Ct};this.getRemainingTTL=Ct=>{const Dt=Kr(this,fs).get(Ct);if(Dt===void 0)return 0;const Ft=et[Dt],Nt=at[Dt];if(!Ft||!Nt)return 1/0;const jt=(mt||$t())-Nt;return Ft-jt},bo(this,Ms,Ct=>{const Dt=at[Ct],Ft=et[Ct];return!!Ft&&!!Dt&&(mt||$t())-Dt>Ft})},zl=new WeakMap,Xs=new WeakMap,bu=new WeakMap,Ms=new WeakMap,A0=function(){const et=new ZeroArray(Kr(this,Os));bo(this,Ns,0),bo(this,Ls,et),bo(this,Hl,at=>{bo(this,Ns,Kr(this,Ns)-et[at]),et[at]=0}),bo(this,xu,(at,mt,$t,Ct)=>{if(To(this,jo,as).call(this,mt))return 0;if(!isPosInt($t))if(Ct){if(typeof Ct!="function")throw new TypeError("sizeCalculation must be a function");if($t=Ct(mt,at),!isPosInt($t))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return $t}),bo(this,cu,(at,mt,$t)=>{if(et[at]=mt,Kr(this,Ts)){const Ct=Kr(this,Ts)-et[at];for(;Kr(this,Ns)>Ct;)To(this,jo,Su).call(this,!0)}bo(this,Ns,Kr(this,Ns)+et[at]),$t&&($t.entrySize=mt,$t.totalCalculatedSize=Kr(this,Ns))})},Hl=new WeakMap,cu=new WeakMap,xu=new WeakMap,Js=function*({allowStale:et=this.allowStale}={}){if(Kr(this,ps))for(let at=Kr(this,ms);!(!To(this,jo,qu).call(this,at)||((et||!Kr(this,Ms).call(this,at))&&(yield at),at===Kr(this,ys)));)at=Kr(this,Rs)[at]},yl=function*({allowStale:et=this.allowStale}={}){if(Kr(this,ps))for(let at=Kr(this,ys);!(!To(this,jo,qu).call(this,at)||((et||!Kr(this,Ms).call(this,at))&&(yield at),at===Kr(this,ms)));)at=Kr(this,xs)[at]},qu=function(et){return et!==void 0&&Kr(this,fs).get(Kr(this,os)[et])===et},Su=function(et){var Ct,Dt;const at=Kr(this,ys),mt=Kr(this,os)[at],$t=Kr(this,Yo)[at];return Kr(this,Il)&&To(this,jo,as).call(this,$t)?$t.__abortController.abort(new Error("evicted")):(Kr(this,Us)||Kr(this,Ss))&&(Kr(this,Us)&&((Ct=Kr(this,Bs))==null||Ct.call(this,$t,mt,"evict")),Kr(this,Ss)&&((Dt=Kr(this,gs))==null||Dt.push([$t,mt,"evict"]))),Kr(this,Hl).call(this,at),et&&(Kr(this,os)[at]=void 0,Kr(this,Yo)[at]=void 0,Kr(this,js).push(at)),Kr(this,ps)===1?(bo(this,ys,bo(this,ms,0)),Kr(this,js).length=0):bo(this,ys,Kr(this,xs)[at]),Kr(this,fs).delete(mt),Dl(this,ps)._--,at},Eu=function(et,at,mt,$t){const Ct=at===void 0?void 0:Kr(this,Yo)[at];if(To(this,jo,as).call(this,Ct))return Ct;const Dt=new AC,{signal:Ft}=mt;Ft==null||Ft.addEventListener("abort",()=>Dt.abort(Ft.reason),{signal:Dt.signal});const Nt={signal:Dt.signal,options:mt,context:$t},jt=(lr,dr=!1)=>{const{aborted:pr}=Dt.signal,hr=mt.ignoreFetchAbort&&lr!==void 0;if(mt.status&&(pr&&!dr?(mt.status.fetchAborted=!0,mt.status.fetchError=Dt.signal.reason,hr&&(mt.status.fetchAbortIgnored=!0)):mt.status.fetchResolved=!0),pr&&!hr&&!dr)return Vt(Dt.signal.reason);const vr=ir;return Kr(this,Yo)[at]===ir&&(lr===void 0?vr.__staleWhileFetching?Kr(this,Yo)[at]=vr.__staleWhileFetching:To(this,jo,_l).call(this,et,"fetch"):(mt.status&&(mt.status.fetchUpdated=!0),this.set(et,lr,Nt.options))),lr},Lt=lr=>(mt.status&&(mt.status.fetchRejected=!0,mt.status.fetchError=lr),Vt(lr)),Vt=lr=>{const{aborted:dr}=Dt.signal,pr=dr&&mt.allowStaleOnFetchAbort,hr=pr||mt.allowStaleOnFetchRejection,vr=hr||mt.noDeleteOnFetchRejection,br=ir;if(Kr(this,Yo)[at]===ir&&(!vr||br.__staleWhileFetching===void 0?To(this,jo,_l).call(this,et,"fetch"):pr||(Kr(this,Yo)[at]=br.__staleWhileFetching)),hr)return mt.status&&br.__staleWhileFetching!==void 0&&(mt.status.returnedStale=!0),br.__staleWhileFetching;if(br.__returned===br)throw lr},er=(lr,dr)=>{var hr;const pr=(hr=Kr(this,lu))==null?void 0:hr.call(this,et,Ct,Nt);pr&&pr instanceof Promise&&pr.then(vr=>lr(vr===void 0?void 0:vr),dr),Dt.signal.addEventListener("abort",()=>{(!mt.ignoreFetchAbort||mt.allowStaleOnFetchAbort)&&(lr(void 0),mt.allowStaleOnFetchAbort&&(lr=vr=>jt(vr,!0)))})};mt.status&&(mt.status.fetchDispatched=!0);const ir=new Promise(er).then(jt,Lt),or=Object.assign(ir,{__abortController:Dt,__staleWhileFetching:Ct,__returned:void 0});return at===void 0?(this.set(et,or,{...Nt.options,status:void 0}),at=Kr(this,fs).get(et)):Kr(this,Yo)[at]=or,or},as=function(et){if(!Kr(this,Il))return!1;const at=et;return!!at&&at instanceof Promise&&at.hasOwnProperty("__staleWhileFetching")&&at.__abortController instanceof AC},Uu=function(et,at){Kr(this,Rs)[at]=et,Kr(this,xs)[et]=at},mu=function(et){et!==Kr(this,ms)&&(et===Kr(this,ys)?bo(this,ys,Kr(this,xs)[et]):To(this,jo,Uu).call(this,Kr(this,Rs)[et],Kr(this,xs)[et]),To(this,jo,Uu).call(this,Kr(this,ms),et),bo(this,ms,et))},_l=function(et,at){var $t,Ct,Dt,Ft;let mt=!1;if(Kr(this,ps)!==0){const Nt=Kr(this,fs).get(et);if(Nt!==void 0)if(mt=!0,Kr(this,ps)===1)To(this,jo,Vu).call(this,at);else{Kr(this,Hl).call(this,Nt);const jt=Kr(this,Yo)[Nt];if(To(this,jo,as).call(this,jt)?jt.__abortController.abort(new Error("deleted")):(Kr(this,Us)||Kr(this,Ss))&&(Kr(this,Us)&&(($t=Kr(this,Bs))==null||$t.call(this,jt,et,at)),Kr(this,Ss)&&((Ct=Kr(this,gs))==null||Ct.push([jt,et,at]))),Kr(this,fs).delete(et),Kr(this,os)[Nt]=void 0,Kr(this,Yo)[Nt]=void 0,Nt===Kr(this,ms))bo(this,ms,Kr(this,Rs)[Nt]);else if(Nt===Kr(this,ys))bo(this,ys,Kr(this,xs)[Nt]);else{const Lt=Kr(this,Rs)[Nt];Kr(this,xs)[Lt]=Kr(this,xs)[Nt];const Vt=Kr(this,xs)[Nt];Kr(this,Rs)[Vt]=Kr(this,Rs)[Nt]}Dl(this,ps)._--,Kr(this,js).push(Nt)}}if(Kr(this,Ss)&&((Dt=Kr(this,gs))!=null&&Dt.length)){const Nt=Kr(this,gs);let jt;for(;jt=Nt==null?void 0:Nt.shift();)(Ft=Kr(this,Fs))==null||Ft.call(this,...jt)}return mt},Vu=function(et){var at,mt,$t;for(const Ct of To(this,jo,yl).call(this,{allowStale:!0})){const Dt=Kr(this,Yo)[Ct];if(To(this,jo,as).call(this,Dt))Dt.__abortController.abort(new Error("deleted"));else{const Ft=Kr(this,os)[Ct];Kr(this,Us)&&((at=Kr(this,Bs))==null||at.call(this,Dt,Ft,et)),Kr(this,Ss)&&((mt=Kr(this,gs))==null||mt.push([Dt,Ft,et]))}}if(Kr(this,fs).clear(),Kr(this,Yo).fill(void 0),Kr(this,os).fill(void 0),Kr(this,ks)&&Kr(this,qs)&&(Kr(this,ks).fill(0),Kr(this,qs).fill(0)),Kr(this,Ls)&&Kr(this,Ls).fill(0),bo(this,ys,0),bo(this,ms,0),Kr(this,js).length=0,bo(this,Ns,0),bo(this,ps,0),Kr(this,Ss)&&Kr(this,gs)){const Ct=Kr(this,gs);let Dt;for(;Dt=Ct==null?void 0:Ct.shift();)($t=Kr(this,Fs))==null||$t.call(this,...Dt)}};let LRUCache=zu;var isMergeableObject=function nt(et){return isNonNullObject(et)&&!isSpecial(et)};function isNonNullObject(nt){return!!nt&&typeof nt=="object"}function isSpecial(nt){var et=Object.prototype.toString.call(nt);return et==="[object RegExp]"||et==="[object Date]"||isReactElement(nt)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(nt){return nt.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(nt){return Array.isArray(nt)?[]:{}}function cloneUnlessOtherwiseSpecified(nt,et){return et.clone!==!1&&et.isMergeableObject(nt)?deepmerge(emptyTarget(nt),nt,et):nt}function defaultArrayMerge(nt,et,at){return nt.concat(et).map(function(mt){return cloneUnlessOtherwiseSpecified(mt,at)})}function getMergeFunction(nt,et){if(!et.customMerge)return deepmerge;var at=et.customMerge(nt);return typeof at=="function"?at:deepmerge}function getEnumerableOwnPropertySymbols(nt){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(nt).filter(function(et){return Object.propertyIsEnumerable.call(nt,et)}):[]}function getKeys(nt){return Object.keys(nt).concat(getEnumerableOwnPropertySymbols(nt))}function propertyIsOnObject(nt,et){try{return et in nt}catch{return!1}}function propertyIsUnsafe(nt,et){return propertyIsOnObject(nt,et)&&!(Object.hasOwnProperty.call(nt,et)&&Object.propertyIsEnumerable.call(nt,et))}function mergeObject(nt,et,at){var mt={};return at.isMergeableObject(nt)&&getKeys(nt).forEach(function($t){mt[$t]=cloneUnlessOtherwiseSpecified(nt[$t],at)}),getKeys(et).forEach(function($t){propertyIsUnsafe(nt,$t)||(propertyIsOnObject(nt,$t)&&at.isMergeableObject(et[$t])?mt[$t]=getMergeFunction($t,at)(nt[$t],et[$t],at):mt[$t]=cloneUnlessOtherwiseSpecified(et[$t],at))}),mt}function deepmerge(nt,et,at){at=at||{},at.arrayMerge=at.arrayMerge||defaultArrayMerge,at.isMergeableObject=at.isMergeableObject||isMergeableObject,at.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var mt=Array.isArray(et),$t=Array.isArray(nt),Ct=mt===$t;return Ct?mt?at.arrayMerge(nt,et,at):mergeObject(nt,et,at):cloneUnlessOtherwiseSpecified(et,at)}deepmerge.all=function nt(et,at){if(!Array.isArray(et))throw new Error("first argument should be an array");return et.reduce(function(mt,$t){return deepmerge(mt,$t,at)},{})};var localClassNames=new Set,composedClassLists=[],bufferedCSSObjs=[],browserRuntimeAdapter={appendCss:nt=>{bufferedCSSObjs.push(nt)},registerClassName:nt=>{localClassNames.add(nt)},registerComposition:nt=>{composedClassLists.push(nt)},markCompositionUsed:()=>{},onEndFileScope:nt=>{var et=transformCss({localClassNames:Array.from(localClassNames),composedClassLists,cssObjs:bufferedCSSObjs}).join(`
`);injectStyles({fileScope:nt,css:et}),bufferedCSSObjs=[]},getIdentOption:()=>"short"};setAdapterIfNotSet(browserRuntimeAdapter);var getLastSlashBeforeIndex=(nt,et)=>{for(var at=et-1;at>=0;){if(nt[at]==="/")return at;at--}return-1},_getDebugFileName=nt=>{var et,at=nt.lastIndexOf(".css");if(at===-1)return"";var mt=getLastSlashBeforeIndex(nt,at);if(et=nt.slice(mt+1,at),mt===-1)return et;var $t=getLastSlashBeforeIndex(nt,mt-1),Ct=nt.slice($t+1,mt),Dt=et!=="index"?et:Ct;return Dt},memoizedGetDebugFileName=()=>{var nt=new LRUCache({max:500});return et=>{var at=nt.get(et);if(at)return at;var mt=_getDebugFileName(et);return nt.set(et,mt),mt}};memoizedGetDebugFileName();function createGlobalThemeContract(nt,et){return walkObject$1(nt,(at,mt)=>{var $t=typeof et=="function"?et(at,mt):at,Ct=typeof $t=="string"?$t.replace(/^\-\-/,""):null;if(typeof Ct!="string"||Ct!==cssesc$1(Ct,{isIdentifier:!0}))throw new Error('Invalid variable name for "'.concat(mt.join("."),'": ').concat(Ct));return"var(--".concat(Ct,")")})}var __create$1=Object.create,__defProp$8=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$3=Object.prototype.hasOwnProperty,__typeError=nt=>{throw TypeError(nt)},__esm=(nt,et)=>function(){return nt&&(et=(0,nt[__getOwnPropNames$1(nt)[0]])(nt=0)),et},__commonJS$1=(nt,et)=>function(){return et||(0,nt[__getOwnPropNames$1(nt)[0]])((et={exports:{}}).exports,et),et.exports},__copyProps$1=(nt,et,at,mt)=>{if(et&&typeof et=="object"||typeof et=="function")for(let $t of __getOwnPropNames$1(et))!__hasOwnProp$3.call(nt,$t)&&$t!==at&&__defProp$8(nt,$t,{get:()=>et[$t],enumerable:!(mt=__getOwnPropDesc$1(et,$t))||mt.enumerable});return nt},__toESM$1=(nt,et,at)=>(at=nt!=null?__create$1(__getProtoOf$1(nt)):{},__copyProps$1(!nt||!nt.__esModule?__defProp$8(at,"default",{value:nt,enumerable:!0}):at,nt)),__accessCheck=(nt,et,at)=>et.has(nt)||__typeError("Cannot "+at),__privateGet=(nt,et,at)=>(__accessCheck(nt,et,"read from private field"),at?at.call(nt):et.get(nt)),__privateAdd=(nt,et,at)=>et.has(nt)?__typeError("Cannot add the same private member more than once"):et instanceof WeakSet?et.add(nt):et.set(nt,at),init_StyleMarker_css_ts_vanilla=__esm({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),require_StyleMarker_css=__commonJS$1({"src/components/styling/StyleMarker.css.ts"(){init_StyleMarker_css_ts_vanilla()}}),walletMutationKeys={all:{baseScope:"wallet"},connectWallet:formMutationKeyFn("connect-wallet"),autoconnectWallet:formMutationKeyFn("autoconnect-wallet"),disconnectWallet:formMutationKeyFn("disconnect-wallet"),signPersonalMessage:formMutationKeyFn("sign-personal-message"),signTransaction:formMutationKeyFn("sign-transaction"),signAndExecuteTransaction:formMutationKeyFn("sign-and-execute-transaction"),switchAccount:formMutationKeyFn("switch-account"),reportTransactionEffects:formMutationKeyFn("report-transaction-effects")};function formMutationKeyFn(nt){return function(at=[]){return[{...walletMutationKeys.all,baseEntity:nt},...at]}}var WalletContext=reactExports.createContext(null);function useWalletStore(nt){const et=reactExports.useContext(WalletContext);if(!et)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return useStore(et,nt)}function useConnectWallet({mutationKey:nt,...et}={}){const at=useWalletStore($t=>$t.setWalletConnected),mt=useWalletStore($t=>$t.setConnectionStatus);return useMutation({mutationKey:walletMutationKeys.connectWallet(nt),mutationFn:async({wallet:$t,accountAddress:Ct,...Dt})=>{try{mt("connecting");const Ft=await $t.features["standard:connect"].connect(Dt),Nt=Ft.accounts.filter(Lt=>Lt.chains.some(Vt=>Vt.split(":")[0]==="sui")),jt=getSelectedAccount(Nt,Ct);return at($t,Nt,jt,Ft.supportedIntents),{accounts:Nt}}catch(Ft){throw mt("disconnected"),Ft}},...et})}function getSelectedAccount(nt,et){return nt.length===0?null:et?nt.find(mt=>mt.address===et)??nt[0]:nt[0]}function getRegisteredWallets(nt,et){const $t=getWallets().get().filter(Ct=>isWalletWithRequiredFeatureSet(Ct)&&(!et||et(Ct)));return[...nt.map(Ct=>$t.find(Dt=>Dt.name===Ct)).filter(Boolean),...$t.filter(Ct=>!nt.includes(Ct.name))]}function getWalletUniqueIdentifier(nt){return(nt==null?void 0:nt.id)??(nt==null?void 0:nt.name)}var styleDataAttributeName="data-dapp-kit",styleDataAttributeSelector=`[${styleDataAttributeName}]`,styleDataAttribute={[styleDataAttributeName]:""};__toESM$1(require_StyleMarker_css());var StyleMarker=reactExports.forwardRef(({children:nt,...et},at)=>jsxRuntimeExports.jsx(Slot,{ref:at,...et,...styleDataAttribute,children:nt}));StyleMarker.displayName="StyleMarker";var headingVariants=createRuntimeFn({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),Heading$1=reactExports.forwardRef(({children:nt,className:et,asChild:at=!1,as:mt="h1",size:$t,weight:Ct,truncate:Dt,...Ft},Nt)=>jsxRuntimeExports.jsx(Slot,{...Ft,ref:Nt,className:clsx(headingVariants({size:$t,weight:Ct,truncate:Dt}),et),children:at?nt:jsxRuntimeExports.jsx(mt,{children:nt})}));Heading$1.displayName="Heading";var container$1="IconButton_container__s6n7bq0",IconButton=reactExports.forwardRef(({className:nt,asChild:et=!1,...at},mt)=>{const $t=et?Slot:"button";return jsxRuntimeExports.jsx($t,{...at,className:clsx(container$1,nt),ref:mt})});IconButton.displayName="Button";var buttonVariants=createRuntimeFn({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),Button$1=reactExports.forwardRef(({className:nt,variant:et,size:at,asChild:mt=!1,...$t},Ct)=>{const Dt=mt?Slot:"button";return jsxRuntimeExports.jsx(Dt,{...$t,className:clsx(buttonVariants({variant:et,size:at}),nt),ref:Ct})});Button$1.displayName="Button";var textVariants=createRuntimeFn({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),Text$1=reactExports.forwardRef(({children:nt,className:et,asChild:at=!1,as:mt="div",size:$t,weight:Ct,color:Dt,mono:Ft,...Nt},jt)=>jsxRuntimeExports.jsx(Slot,{...Nt,ref:jt,className:clsx(textVariants({size:$t,weight:Ct,color:Dt,mono:Ft}),et),children:at?nt:jsxRuntimeExports.jsx(mt,{children:nt})}));Text$1.displayName="Text";function useWallets(){return useWalletStore(nt=>nt.wallets)}function useCurrentAccount(){return useWalletStore(nt=>nt.currentAccount)}var SuiClientContext=reactExports.createContext(null),DEFAULT_NETWORKS={localnet:{url:getFullnodeUrl$1("localnet")}},DEFAULT_CREATE_CLIENT=function nt(et,at){return isSuiClient(at)?at:new SuiClient(at)};function SuiClientProvider(nt){const{onNetworkChange:et,network:at,children:mt}=nt,$t=nt.networks??DEFAULT_NETWORKS,Ct=nt.createClient??DEFAULT_CREATE_CLIENT,[Dt,Ft]=reactExports.useState(nt.network??nt.defaultNetwork??Object.keys($t)[0]),Nt=nt.network??Dt,jt=reactExports.useMemo(()=>Ct(Nt,$t[Nt]),[Ct,Nt,$t]),Lt=reactExports.useMemo(()=>({client:jt,networks:$t,network:Nt,config:$t[Nt]instanceof SuiClient?null:$t[Nt],selectNetwork:Vt=>{Nt!==Vt&&(!at&&Vt!==Dt&&Ft(Vt),et==null||et(Vt))}}),[jt,$t,Dt,Nt,at,et]);return jsxRuntimeExports.jsx(SuiClientContext.Provider,{value:Lt,children:mt})}function useSuiClientContext(){const nt=reactExports.useContext(SuiClientContext);if(!nt)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return nt}function useSuiClient(){return useSuiClientContext().client}var WalletNotConnectedError=class extends Error{},WalletNoAccountSelectedError=class extends Error{},WalletFeatureNotSupportedError=class extends Error{},WalletAccountNotFoundError=class extends Error{};function useCurrentWallet(){const nt=useWalletStore(mt=>mt.currentWallet),et=useWalletStore(mt=>mt.connectionStatus),at=useWalletStore(mt=>mt.supportedIntents);switch(et){case"connecting":return{connectionStatus:et,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:et,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:et,currentWallet:nt,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:at}}}function useDisconnectWallet({mutationKey:nt,...et}={}){const{currentWallet:at}=useCurrentWallet(),mt=useWalletStore($t=>$t.setWalletDisconnected);return useMutation({mutationKey:walletMutationKeys.disconnectWallet(nt),mutationFn:async()=>{var $t;if(!at)throw new WalletNotConnectedError("No wallet is connected.");try{await(($t=at.features["standard:disconnect"])==null?void 0:$t.disconnect())}catch(Ct){console.error("Failed to disconnect the application from the current wallet.",Ct)}mt()},...et})}function useSwitchAccount({mutationKey:nt,...et}={}){const{currentWallet:at}=useCurrentWallet(),mt=useWalletStore($t=>$t.setAccountSwitched);return useMutation({mutationKey:walletMutationKeys.switchAccount(nt),mutationFn:async({account:$t})=>{if(!at)throw new WalletNotConnectedError("No wallet is connected.");const Ct=at.accounts.find(Dt=>Dt.address===$t.address);if(!Ct)throw new WalletAccountNotFoundError(`No account with address ${$t.address} is connected to ${at.name}.`);mt(Ct)},...et})}function createInMemoryStore(){const nt=new Map;return{getItem(et){return nt.get(et)},setItem(et,at){nt.set(et,at)},removeItem(et){nt.delete(et)}}}var SUI_WALLET_NAME="Sui Wallet",DEFAULT_STORAGE=typeof window<"u"&&window.localStorage?localStorage:createInMemoryStore(),DEFAULT_STORAGE_KEY="sui-dapp-kit:wallet-connection-info",SIGN_FEATURES=["sui:signTransaction","sui:signTransactionBlock"],DEFAULT_WALLET_FILTER=nt=>SIGN_FEATURES.some(et=>nt.features[et]),DEFAULT_PREFERRED_WALLETS=[SUI_WALLET_NAME,STASHED_WALLET_NAME];function useAutoConnectWallet(){const{mutateAsync:nt}=useConnectWallet(),et=useWalletStore(Lt=>Lt.autoConnectEnabled),at=useWalletStore(Lt=>Lt.lastConnectedWalletName),mt=useWalletStore(Lt=>Lt.lastConnectedAccountAddress),$t=useWallets(),{isConnected:Ct}=useCurrentWallet(),[Dt,Ft]=reactExports.useState(!1);reactExports.useLayoutEffect(()=>{Ft(!0)},[]);const{data:Nt,isError:jt}=useQuery({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:Ct,autoConnectEnabled:et,lastConnectedWalletName:at,lastConnectedAccountAddress:mt,walletCount:$t.length}],queryFn:async()=>{if(!et)return"disabled";if(!at||!mt||Ct)return"attempted";const Lt=$t.find(Vt=>getWalletUniqueIdentifier(Vt)===at);return Lt&&await nt({wallet:Lt,accountAddress:mt,silent:!0}),"attempted"},enabled:et,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return et?Dt?Ct||!at||jt?"attempted":Nt??"idle":"idle":"disabled"}function useStashedWallet(nt){const et=useAutoConnectWallet(),[at,mt]=reactExports.useState(null),[$t,Ct]=reactExports.useState(null),{mutate:Dt}=useConnectWallet();reactExports.useEffect(()=>{!at||!$t||et!=="attempted"||(Dt({wallet:$t,silent:!0}),mt(null))},[at,et,Dt,$t]),reactExports.useLayoutEffect(()=>{if(!(nt!=null&&nt.name))return;const{wallet:Ft,unregister:Nt,addressFromRedirect:jt}=registerStashedWallet(nt.name,{origin:nt.origin,network:nt.network});return jt&&(Ct(Ft),mt(jt)),Nt},[nt==null?void 0:nt.name,nt==null?void 0:nt.origin,nt==null?void 0:nt.network])}var WALLET_NAME="Unsafe Burner Wallet";function useUnsafeBurnerWallet(nt){const et=useSuiClient();reactExports.useEffect(()=>nt?registerUnsafeBurnerWallet(et):void 0,[nt,et])}function registerUnsafeBurnerWallet(nt){var et,at,mt,$t,Ct,Dt,Ft;const Nt=getWallets();if(Nt.get().find(ir=>ir.name===WALLET_NAME)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const Lt=new Ed25519Keypair,Vt=new ReadonlyWalletAccount({address:Lt.getPublicKey().toSuiAddress(),publicKey:Lt.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class er{constructor(){__privateAdd(this,et,()=>()=>{}),__privateAdd(this,at,async()=>({accounts:this.accounts})),__privateAdd(this,mt,async or=>{const{bytes:lr,signature:dr}=await Lt.signPersonalMessage(or.message);return{bytes:lr,signature:dr}}),__privateAdd(this,$t,async or=>{const{bytes:lr,signature:dr}=await or.transactionBlock.sign({client:nt,signer:Lt});return{transactionBlockBytes:lr,signature:dr}}),__privateAdd(this,Ct,async or=>{var pr;const{bytes:lr,signature:dr}=await Transaction.from(await or.transaction.toJSON()).sign({client:nt,signer:Lt});return(pr=or.signal)==null||pr.throwIfAborted(),{bytes:lr,signature:dr}}),__privateAdd(this,Dt,async or=>{const{bytes:lr,signature:dr}=await or.transactionBlock.sign({client:nt,signer:Lt});return nt.executeTransactionBlock({signature:dr,transactionBlock:lr,options:or.options})}),__privateAdd(this,Ft,async or=>{var vr;const{bytes:lr,signature:dr}=await Transaction.from(await or.transaction.toJSON()).sign({client:nt,signer:Lt});(vr=or.signal)==null||vr.throwIfAborted();const{rawEffects:pr,digest:hr}=await nt.executeTransactionBlock({signature:dr,transactionBlock:lr,options:{showRawEffects:!0}});return{bytes:lr,signature:dr,digest:hr,effects:toBase64(new Uint8Array(pr))}})}get version(){return"1.0.0"}get name(){return WALLET_NAME}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return SUI_CHAINS}get accounts(){return[Vt]}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet(this,at)},"standard:events":{version:"1.0.0",on:__privateGet(this,et)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet(this,mt)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet(this,$t)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:__privateGet(this,Dt)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet(this,Ct)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:__privateGet(this,Ft)}}}}return et=new WeakMap,at=new WeakMap,mt=new WeakMap,$t=new WeakMap,Ct=new WeakMap,Dt=new WeakMap,Ft=new WeakMap,Nt.register(new er)}function useWalletPropertiesChanged(){const{currentWallet:nt}=useCurrentWallet(),et=useWalletStore(at=>at.updateWalletAccounts);reactExports.useEffect(()=>nt==null?void 0:nt.features["standard:events"].on("change",({accounts:mt})=>{mt&&et(mt)}),[nt==null?void 0:nt.features,et])}function useWalletsChanged(nt,et){const at=useWalletStore($t=>$t.setWalletRegistered),mt=useWalletStore($t=>$t.setWalletUnregistered);reactExports.useEffect(()=>{const $t=getWallets();at(getRegisteredWallets(nt,et));const Ct=$t.on("register",()=>{at(getRegisteredWallets(nt,et))}),Dt=$t.on("unregister",Ft=>{mt(getRegisteredWallets(nt,et),Ft)});return()=>{Ct(),Dt()}},[nt,et,at,mt])}var lightTheme={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function createWalletStore({wallets:nt,storage:et,storageKey:at,autoConnectEnabled:mt}){return createStore$1()(persist(($t,Ct)=>({autoConnectEnabled:mt,wallets:nt,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(Dt){$t(()=>({connectionStatus:Dt}))},setWalletConnected(Dt,Ft,Nt,jt=[]){$t(()=>({accounts:Ft,currentWallet:Dt,currentAccount:Nt,lastConnectedWalletName:getWalletUniqueIdentifier(Dt),lastConnectedAccountAddress:Nt==null?void 0:Nt.address,connectionStatus:"connected",supportedIntents:jt}))},setWalletDisconnected(){$t(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(Dt){$t(()=>({currentAccount:Dt,lastConnectedAccountAddress:Dt.address}))},setWalletRegistered(Dt){$t(()=>({wallets:Dt}))},setWalletUnregistered(Dt,Ft){Ft===Ct().currentWallet?$t(()=>({wallets:Dt,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):$t(()=>({wallets:Dt}))},updateWalletAccounts(Dt){const Ft=Ct().currentAccount;$t(()=>({accounts:Dt,currentAccount:Ft&&Dt.find(({address:Nt})=>Nt===Ft.address)||Dt[0]}))}}),{name:at,storage:createJSONStorage(()=>et),partialize:({lastConnectedWalletName:$t,lastConnectedAccountAddress:Ct})=>({lastConnectedWalletName:$t,lastConnectedAccountAddress:Ct})}))}var themeContractValues={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},themeVars=createGlobalThemeContract(themeContractValues,(nt,et)=>`dapp-kit-${et.join("-")}`);function InjectedThemeStyles({theme:nt}){const et=Array.isArray(nt)?getDynamicThemeStyles(nt):getStaticThemeStyles(nt);return jsxRuntimeExports.jsx("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:et}})}function getDynamicThemeStyles(nt){return nt.map(({mediaQuery:et,selector:at,variables:mt})=>{const $t=getStaticThemeStyles(mt),Ct=at?`${at} ${$t}`:$t;return et?`@media ${et}{${Ct}}`:Ct}).join(" ")}function getStaticThemeStyles(nt){return`${styleDataAttributeSelector} {${cssStringFromTheme(nt)}}`}function cssStringFromTheme(nt){return Object.entries(assignInlineVars(themeVars,nt)).map(([et,at])=>`${et}:${at};`).join("")}function WalletProvider({preferredWallets:nt=DEFAULT_PREFERRED_WALLETS,walletFilter:et=DEFAULT_WALLET_FILTER,storage:at=DEFAULT_STORAGE,storageKey:mt=DEFAULT_STORAGE_KEY,enableUnsafeBurner:$t=!1,autoConnect:Ct=!1,stashedWallet:Dt,theme:Ft=lightTheme,children:Nt}){const jt=reactExports.useRef(createWalletStore({autoConnectEnabled:Ct,wallets:getRegisteredWallets(nt,et),storage:at||createInMemoryStore(),storageKey:mt}));return jsxRuntimeExports.jsx(WalletContext.Provider,{value:jt.current,children:jsxRuntimeExports.jsxs(WalletConnectionManager,{preferredWallets:nt,walletFilter:et,enableUnsafeBurner:$t,stashedWallet:Dt,children:[Ft?jsxRuntimeExports.jsx(InjectedThemeStyles,{theme:Ft}):null,Nt]})})}function WalletConnectionManager({preferredWallets:nt=DEFAULT_PREFERRED_WALLETS,walletFilter:et=DEFAULT_WALLET_FILTER,enableUnsafeBurner:at=!1,stashedWallet:mt,children:$t}){return useWalletsChanged(nt,et),useWalletPropertiesChanged(),useStashedWallet(mt),useUnsafeBurnerWallet(at),useAutoConnectWallet(),$t}function createNetworkConfig(nt){function et(){const{config:$t}=useSuiClientContext();if(!$t)throw new Error("No network config found");return $t}function at(){const{variables:$t}=et();return $t??{}}function mt($t){return at()[$t]}return{networkConfig:nt,useNetworkConfig:et,useNetworkVariables:at,useNetworkVariable:mt}}function useReportTransactionEffects({mutationKey:nt,...et}={}){const{currentWallet:at}=useCurrentWallet(),mt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.reportTransactionEffects(nt),mutationFn:async({effects:$t,chain:Ct=at==null?void 0:at.chains[0],account:Dt=mt})=>{if(!at)throw new WalletNotConnectedError("No wallet is connected.");if(!Dt)throw new WalletNoAccountSelectedError("No wallet account is selected to report transaction effects for");const Ft=at.features["sui:reportTransactionEffects"];if(Ft)return await Ft.reportTransactionEffects({effects:Array.isArray($t)?toBase64(new Uint8Array($t)):$t,account:Dt,chain:Ct??(at==null?void 0:at.chains[0])})},...et})}function useSignAndExecuteTransaction({mutationKey:nt,execute:et,...at}={}){const{currentWallet:mt,supportedIntents:$t}=useCurrentWallet(),Ct=useCurrentAccount(),Dt=useSuiClient(),{mutate:Ft}=useReportTransactionEffects(),Nt=et??(async({bytes:jt,signature:Lt})=>{const{digest:Vt,rawEffects:er}=await Dt.executeTransactionBlock({transactionBlock:jt,signature:Lt,options:{showRawEffects:!0}});return{digest:Vt,rawEffects:er,effects:toBase64(new Uint8Array(er)),bytes:jt,signature:Lt}});return useMutation({mutationKey:walletMutationKeys.signAndExecuteTransaction(nt),mutationFn:async({transaction:jt,...Lt})=>{var pr;if(!mt)throw new WalletNotConnectedError("No wallet is connected.");const Vt=Lt.account??Ct;if(!Vt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");const er=Lt.chain??(Vt==null?void 0:Vt.chains[0]);if(!mt.features["sui:signTransaction"]&&!mt.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{signature:ir,bytes:or}=await signTransaction(mt,{...Lt,transaction:{async toJSON(){return typeof jt=="string"?jt:await jt.toJSON({supportedIntents:$t,client:Dt})}},account:Vt,chain:Lt.chain??Vt.chains[0]}),lr=await Nt({bytes:or,signature:ir});let dr;if("effects"in lr&&((pr=lr.effects)!=null&&pr.bcs))dr=lr.effects.bcs;else if("rawEffects"in lr)dr=toBase64(new Uint8Array(lr.rawEffects));else throw new Error("Could not parse effects from transaction result.");return Ft({effects:dr,account:Vt,chain:er}),lr},...at})}function useSignPersonalMessage({mutationKey:nt,...et}={}){const{currentWallet:at}=useCurrentWallet(),mt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.signPersonalMessage(nt),mutationFn:async $t=>{if(!at)throw new WalletNotConnectedError("No wallet is connected.");const Ct=$t.account??mt;if(!Ct)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the personal message with.");const Dt=at.features["sui:signPersonalMessage"];if(Dt)return await Dt.signPersonalMessage({...$t,account:Ct});const Ft=at.features["sui:signMessage"];if(Ft){console.warn("This wallet doesn't support the `signPersonalMessage` feature... falling back to `signMessage`.");const{messageBytes:Nt,signature:jt}=await Ft.signMessage({...$t,account:Ct});return{bytes:Nt,signature:jt}}throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signPersonalMessage` feature.")},...et})}function useSignTransaction({mutationKey:nt,...et}={}){const{currentWallet:at}=useCurrentWallet(),mt=useCurrentAccount(),$t=useSuiClient(),{mutate:Ct}=useReportTransactionEffects();return useMutation({mutationKey:walletMutationKeys.signTransaction(nt),mutationFn:async({transaction:Dt,...Ft})=>{if(!at)throw new WalletNotConnectedError("No wallet is connected.");const Nt=Ft.account??mt;if(!Nt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");if(!at.features["sui:signTransaction"]&&!at.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{bytes:jt,signature:Lt}=await signTransaction(at,{...Ft,transaction:{toJSON:async()=>typeof Dt=="string"?Dt:await Dt.toJSON({supportedIntents:[],client:$t})},account:Nt,chain:Ft.chain??Nt.chains[0]});return{bytes:jt,signature:Lt,reportTransactionEffects:Vt=>{Ct({effects:Vt,account:Nt,chain:Ft.chain??Nt.chains[0]})}}},...et})}/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et];for(var mt in at)Object.prototype.hasOwnProperty.call(at,mt)&&(nt[mt]=at[mt])}return nt},_extends$3.apply(this,arguments)}var Action$1;(function(nt){nt.Pop="POP",nt.Push="PUSH",nt.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(nt){nt===void 0&&(nt={});function et(mt,$t){let{pathname:Ct,search:Dt,hash:Ft}=mt.location;return createLocation("",{pathname:Ct,search:Dt,hash:Ft},$t.state&&$t.state.usr||null,$t.state&&$t.state.key||"default")}function at(mt,$t){return typeof $t=="string"?$t:createPath($t)}return getUrlBasedHistory(et,at,null,nt)}function invariant$R(nt,et){if(nt===!1||nt===null||typeof nt>"u")throw new Error(et)}function warning$4(nt,et){if(!nt){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(nt,et){return{usr:nt.state,key:nt.key,idx:et}}function createLocation(nt,et,at,mt){return at===void 0&&(at=null),_extends$3({pathname:typeof nt=="string"?nt:nt.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:at,key:et&&et.key||mt||createKey()})}function createPath(nt){let{pathname:et="/",search:at="",hash:mt=""}=nt;return at&&at!=="?"&&(et+=at.charAt(0)==="?"?at:"?"+at),mt&&mt!=="#"&&(et+=mt.charAt(0)==="#"?mt:"#"+mt),et}function parsePath(nt){let et={};if(nt){let at=nt.indexOf("#");at>=0&&(et.hash=nt.substr(at),nt=nt.substr(0,at));let mt=nt.indexOf("?");mt>=0&&(et.search=nt.substr(mt),nt=nt.substr(0,mt)),nt&&(et.pathname=nt)}return et}function getUrlBasedHistory(nt,et,at,mt){mt===void 0&&(mt={});let{window:$t=document.defaultView,v5Compat:Ct=!1}=mt,Dt=$t.history,Ft=Action$1.Pop,Nt=null,jt=Lt();jt==null&&(jt=0,Dt.replaceState(_extends$3({},Dt.state,{idx:jt}),""));function Lt(){return(Dt.state||{idx:null}).idx}function Vt(){Ft=Action$1.Pop;let dr=Lt(),pr=dr==null?null:dr-jt;jt=dr,Nt&&Nt({action:Ft,location:lr.location,delta:pr})}function er(dr,pr){Ft=Action$1.Push;let hr=createLocation(lr.location,dr,pr);jt=Lt()+1;let vr=getHistoryState(hr,jt),br=lr.createHref(hr);try{Dt.pushState(vr,"",br)}catch(xr){if(xr instanceof DOMException&&xr.name==="DataCloneError")throw xr;$t.location.assign(br)}Ct&&Nt&&Nt({action:Ft,location:lr.location,delta:1})}function ir(dr,pr){Ft=Action$1.Replace;let hr=createLocation(lr.location,dr,pr);jt=Lt();let vr=getHistoryState(hr,jt),br=lr.createHref(hr);Dt.replaceState(vr,"",br),Ct&&Nt&&Nt({action:Ft,location:lr.location,delta:0})}function or(dr){let pr=$t.location.origin!=="null"?$t.location.origin:$t.location.href,hr=typeof dr=="string"?dr:createPath(dr);return hr=hr.replace(/ $/,"%20"),invariant$R(pr,"No window.location.(origin|href) available to create URL for href: "+hr),new URL(hr,pr)}let lr={get action(){return Ft},get location(){return nt($t,Dt)},listen(dr){if(Nt)throw new Error("A history only accepts one active listener");return $t.addEventListener(PopStateEventType,Vt),Nt=dr,()=>{$t.removeEventListener(PopStateEventType,Vt),Nt=null}},createHref(dr){return et($t,dr)},createURL:or,encodeLocation(dr){let pr=or(dr);return{pathname:pr.pathname,search:pr.search,hash:pr.hash}},push:er,replace:ir,go(dr){return Dt.go(dr)}};return lr}var ResultType;(function(nt){nt.data="data",nt.deferred="deferred",nt.redirect="redirect",nt.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(nt){return nt.index===!0}function convertRoutesToDataRoutes(nt,et,at,mt){return at===void 0&&(at=[]),mt===void 0&&(mt={}),nt.map(($t,Ct)=>{let Dt=[...at,String(Ct)],Ft=typeof $t.id=="string"?$t.id:Dt.join("-");if(invariant$R($t.index!==!0||!$t.children,"Cannot specify children on an index route"),invariant$R(!mt[Ft],'Found a route id collision on id "'+Ft+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute($t)){let Nt=_extends$3({},$t,et($t),{id:Ft});return mt[Ft]=Nt,Nt}else{let Nt=_extends$3({},$t,et($t),{id:Ft,children:void 0});return mt[Ft]=Nt,$t.children&&(Nt.children=convertRoutesToDataRoutes($t.children,et,Dt,mt)),Nt}})}function matchRoutes(nt,et,at){return at===void 0&&(at="/"),matchRoutesImpl(nt,et,at,!1)}function matchRoutesImpl(nt,et,at,mt){let $t=typeof et=="string"?parsePath(et):et,Ct=stripBasename($t.pathname||"/",at);if(Ct==null)return null;let Dt=flattenRoutes(nt);rankRouteBranches(Dt);let Ft=null;for(let Nt=0;Ft==null&&Nt<Dt.length;++Nt){let jt=decodePath(Ct);Ft=matchRouteBranch(Dt[Nt],jt,mt)}return Ft}function convertRouteMatchToUiMatch(nt,et){let{route:at,pathname:mt,params:$t}=nt;return{id:at.id,pathname:mt,params:$t,data:et[at.id],handle:at.handle}}function flattenRoutes(nt,et,at,mt){et===void 0&&(et=[]),at===void 0&&(at=[]),mt===void 0&&(mt="");let $t=(Ct,Dt,Ft)=>{let Nt={relativePath:Ft===void 0?Ct.path||"":Ft,caseSensitive:Ct.caseSensitive===!0,childrenIndex:Dt,route:Ct};Nt.relativePath.startsWith("/")&&(invariant$R(Nt.relativePath.startsWith(mt),'Absolute route path "'+Nt.relativePath+'" nested under path '+('"'+mt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Nt.relativePath=Nt.relativePath.slice(mt.length));let jt=joinPaths([mt,Nt.relativePath]),Lt=at.concat(Nt);Ct.children&&Ct.children.length>0&&(invariant$R(Ct.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+jt+'".')),flattenRoutes(Ct.children,et,Lt,jt)),!(Ct.path==null&&!Ct.index)&&et.push({path:jt,score:computeScore(jt,Ct.index),routesMeta:Lt})};return nt.forEach((Ct,Dt)=>{var Ft;if(Ct.path===""||!((Ft=Ct.path)!=null&&Ft.includes("?")))$t(Ct,Dt);else for(let Nt of explodeOptionalSegments(Ct.path))$t(Ct,Dt,Nt)}),et}function explodeOptionalSegments(nt){let et=nt.split("/");if(et.length===0)return[];let[at,...mt]=et,$t=at.endsWith("?"),Ct=at.replace(/\?$/,"");if(mt.length===0)return $t?[Ct,""]:[Ct];let Dt=explodeOptionalSegments(mt.join("/")),Ft=[];return Ft.push(...Dt.map(Nt=>Nt===""?Ct:[Ct,Nt].join("/"))),$t&&Ft.push(...Dt),Ft.map(Nt=>nt.startsWith("/")&&Nt===""?"/":Nt)}function rankRouteBranches(nt){nt.sort((et,at)=>et.score!==at.score?at.score-et.score:compareIndexes(et.routesMeta.map(mt=>mt.childrenIndex),at.routesMeta.map(mt=>mt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=nt=>nt==="*";function computeScore(nt,et){let at=nt.split("/"),mt=at.length;return at.some(isSplat)&&(mt+=splatPenalty),et&&(mt+=indexRouteValue),at.filter($t=>!isSplat($t)).reduce(($t,Ct)=>$t+(paramRe.test(Ct)?dynamicSegmentValue:Ct===""?emptySegmentValue:staticSegmentValue),mt)}function compareIndexes(nt,et){return nt.length===et.length&&nt.slice(0,-1).every((mt,$t)=>mt===et[$t])?nt[nt.length-1]-et[et.length-1]:0}function matchRouteBranch(nt,et,at){at===void 0&&(at=!1);let{routesMeta:mt}=nt,$t={},Ct="/",Dt=[];for(let Ft=0;Ft<mt.length;++Ft){let Nt=mt[Ft],jt=Ft===mt.length-1,Lt=Ct==="/"?et:et.slice(Ct.length)||"/",Vt=matchPath({path:Nt.relativePath,caseSensitive:Nt.caseSensitive,end:jt},Lt),er=Nt.route;if(!Vt&&jt&&at&&!mt[mt.length-1].route.index&&(Vt=matchPath({path:Nt.relativePath,caseSensitive:Nt.caseSensitive,end:!1},Lt)),!Vt)return null;Object.assign($t,Vt.params),Dt.push({params:$t,pathname:joinPaths([Ct,Vt.pathname]),pathnameBase:normalizePathname(joinPaths([Ct,Vt.pathnameBase])),route:er}),Vt.pathnameBase!=="/"&&(Ct=joinPaths([Ct,Vt.pathnameBase]))}return Dt}function matchPath(nt,et){typeof nt=="string"&&(nt={path:nt,caseSensitive:!1,end:!0});let[at,mt]=compilePath(nt.path,nt.caseSensitive,nt.end),$t=et.match(at);if(!$t)return null;let Ct=$t[0],Dt=Ct.replace(/(.)\/+$/,"$1"),Ft=$t.slice(1);return{params:mt.reduce((jt,Lt,Vt)=>{let{paramName:er,isOptional:ir}=Lt;if(er==="*"){let lr=Ft[Vt]||"";Dt=Ct.slice(0,Ct.length-lr.length).replace(/(.)\/+$/,"$1")}const or=Ft[Vt];return ir&&!or?jt[er]=void 0:jt[er]=(or||"").replace(/%2F/g,"/"),jt},{}),pathname:Ct,pathnameBase:Dt,pattern:nt}}function compilePath(nt,et,at){et===void 0&&(et=!1),at===void 0&&(at=!0),warning$4(nt==="*"||!nt.endsWith("*")||nt.endsWith("/*"),'Route path "'+nt+'" will be treated as if it were '+('"'+nt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+nt.replace(/\*$/,"/*")+'".'));let mt=[],$t="^"+nt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Dt,Ft,Nt)=>(mt.push({paramName:Ft,isOptional:Nt!=null}),Nt?"/?([^\\/]+)?":"/([^\\/]+)"));return nt.endsWith("*")?(mt.push({paramName:"*"}),$t+=nt==="*"||nt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):at?$t+="\\/*$":nt!==""&&nt!=="/"&&($t+="(?:(?=\\/|$))"),[new RegExp($t,et?void 0:"i"),mt]}function decodePath(nt){try{return nt.split("/").map(et=>decodeURIComponent(et).replace(/\//g,"%2F")).join("/")}catch(et){return warning$4(!1,'The URL path "'+nt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),nt}}function stripBasename(nt,et){if(et==="/")return nt;if(!nt.toLowerCase().startsWith(et.toLowerCase()))return null;let at=et.endsWith("/")?et.length-1:et.length,mt=nt.charAt(at);return mt&&mt!=="/"?null:nt.slice(at)||"/"}function resolvePath(nt,et){et===void 0&&(et="/");let{pathname:at,search:mt="",hash:$t=""}=typeof nt=="string"?parsePath(nt):nt;return{pathname:at?at.startsWith("/")?at:resolvePathname(at,et):et,search:normalizeSearch(mt),hash:normalizeHash($t)}}function resolvePathname(nt,et){let at=et.replace(/\/+$/,"").split("/");return nt.split("/").forEach($t=>{$t===".."?at.length>1&&at.pop():$t!=="."&&at.push($t)}),at.length>1?at.join("/"):"/"}function getInvalidPathError(nt,et,at,mt){return"Cannot include a '"+nt+"' character in a manually specified "+("`to."+et+"` field ["+JSON.stringify(mt)+"].  Please separate it out to the ")+("`to."+at+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(nt){return nt.filter((et,at)=>at===0||et.route.path&&et.route.path.length>0)}function getResolveToMatches(nt,et){let at=getPathContributingMatches(nt);return et?at.map((mt,$t)=>$t===at.length-1?mt.pathname:mt.pathnameBase):at.map(mt=>mt.pathnameBase)}function resolveTo(nt,et,at,mt){mt===void 0&&(mt=!1);let $t;typeof nt=="string"?$t=parsePath(nt):($t=_extends$3({},nt),invariant$R(!$t.pathname||!$t.pathname.includes("?"),getInvalidPathError("?","pathname","search",$t)),invariant$R(!$t.pathname||!$t.pathname.includes("#"),getInvalidPathError("#","pathname","hash",$t)),invariant$R(!$t.search||!$t.search.includes("#"),getInvalidPathError("#","search","hash",$t)));let Ct=nt===""||$t.pathname==="",Dt=Ct?"/":$t.pathname,Ft;if(Dt==null)Ft=at;else{let Vt=et.length-1;if(!mt&&Dt.startsWith("..")){let er=Dt.split("/");for(;er[0]==="..";)er.shift(),Vt-=1;$t.pathname=er.join("/")}Ft=Vt>=0?et[Vt]:"/"}let Nt=resolvePath($t,Ft),jt=Dt&&Dt!=="/"&&Dt.endsWith("/"),Lt=(Ct||Dt===".")&&at.endsWith("/");return!Nt.pathname.endsWith("/")&&(jt||Lt)&&(Nt.pathname+="/"),Nt}const joinPaths=nt=>nt.join("/").replace(/\/\/+/g,"/"),normalizePathname=nt=>nt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=nt=>!nt||nt==="?"?"":nt.startsWith("?")?nt:"?"+nt,normalizeHash=nt=>!nt||nt==="#"?"":nt.startsWith("#")?nt:"#"+nt;class ErrorResponseImpl{constructor(et,at,mt,$t){$t===void 0&&($t=!1),this.status=et,this.statusText=at||"",this.internal=$t,mt instanceof Error?(this.data=mt.toString(),this.error=mt):this.data=mt}}function isRouteErrorResponse(nt){return nt!=null&&typeof nt.status=="number"&&typeof nt.statusText=="string"&&typeof nt.internal=="boolean"&&"data"in nt}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=nt=>({hasErrorBoundary:!!nt.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(nt){const et=nt.window?nt.window:typeof window<"u"?window:void 0,at=typeof et<"u"&&typeof et.document<"u"&&typeof et.document.createElement<"u",mt=!at;invariant$R(nt.routes.length>0,"You must provide a non-empty routes array to createRouter");let $t;if(nt.mapRouteProperties)$t=nt.mapRouteProperties;else if(nt.detectErrorBoundary){let Gn=nt.detectErrorBoundary;$t=dn=>({hasErrorBoundary:Gn(dn)})}else $t=defaultMapRouteProperties;let Ct={},Dt=convertRoutesToDataRoutes(nt.routes,$t,void 0,Ct),Ft,Nt=nt.basename||"/",jt=nt.dataStrategy||defaultDataStrategy,Lt=nt.patchRoutesOnNavigation,Vt=_extends$3({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},nt.future),er=null,ir=new Set,or=null,lr=null,dr=null,pr=nt.hydrationData!=null,hr=matchRoutes(Dt,nt.history.location,Nt),vr=null;if(hr==null&&!Lt){let Gn=getInternalRouterError(404,{pathname:nt.history.location.pathname}),{matches:dn,route:Ln}=getShortCircuitMatches(Dt);hr=dn,vr={[Ln.id]:Gn}}hr&&!nt.hydrationData&&oo(hr,Dt,nt.history.location.pathname).active&&(hr=null);let br;if(hr)if(hr.some(Gn=>Gn.route.lazy))br=!1;else if(!hr.some(Gn=>Gn.route.loader))br=!0;else if(Vt.v7_partialHydration){let Gn=nt.hydrationData?nt.hydrationData.loaderData:null,dn=nt.hydrationData?nt.hydrationData.errors:null;if(dn){let Ln=hr.findIndex(Br=>dn[Br.route.id]!==void 0);br=hr.slice(0,Ln+1).every(Br=>!shouldLoadRouteOnHydration(Br.route,Gn,dn))}else br=hr.every(Ln=>!shouldLoadRouteOnHydration(Ln.route,Gn,dn))}else br=nt.hydrationData!=null;else if(br=!1,hr=[],Vt.v7_partialHydration){let Gn=oo(null,Dt,nt.history.location.pathname);Gn.active&&Gn.matches&&(hr=Gn.matches)}let xr,Sr={historyAction:nt.history.action,location:nt.history.location,matches:hr,initialized:br,navigation:IDLE_NAVIGATION,restoreScrollPosition:nt.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:nt.hydrationData&&nt.hydrationData.loaderData||{},actionData:nt.hydrationData&&nt.hydrationData.actionData||null,errors:nt.hydrationData&&nt.hydrationData.errors||vr,fetchers:new Map,blockers:new Map},Er=Action$1.Pop,$r=!1,Cr,kr=!1,gr=new Map,Ut=null,tr=!1,nr=!1,rr=[],ar=new Set,cr=new Map,fr=0,sr=-1,Yt=new Map,ur=new Set,_r=new Map,yr=new Map,wr=new Set,Ir=new Map,Or=new Map,Ar;function Nr(){if(er=nt.history.listen(Gn=>{let{action:dn,location:Ln,delta:Br}=Gn;if(Ar){Ar(),Ar=void 0;return}warning$4(Or.size===0||Br!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Lr=ga({currentLocation:Sr.location,nextLocation:Ln,historyAction:dn});if(Lr&&Br!=null){let qr=new Promise(Mr=>{Ar=Mr});nt.history.go(Br*-1),Io(Lr,{state:"blocked",location:Ln,proceed(){Io(Lr,{state:"proceeding",proceed:void 0,reset:void 0,location:Ln}),qr.then(()=>nt.history.go(Br))},reset(){let Mr=new Map(Sr.blockers);Mr.set(Lr,IDLE_BLOCKER),Dr({blockers:Mr})}});return}return Xr(dn,Ln)}),at){restoreAppliedTransitions(et,gr);let Gn=()=>persistAppliedTransitions(et,gr);et.addEventListener("pagehide",Gn),Ut=()=>et.removeEventListener("pagehide",Gn)}return Sr.initialized||Xr(Action$1.Pop,Sr.location,{initialHydration:!0}),xr}function Hr(){er&&er(),Ut&&Ut(),ir.clear(),Cr&&Cr.abort(),Sr.fetchers.forEach((Gn,dn)=>jr(dn)),Sr.blockers.forEach((Gn,dn)=>Zn(dn))}function Pr(Gn){return ir.add(Gn),()=>ir.delete(Gn)}function Dr(Gn,dn){dn===void 0&&(dn={}),Sr=_extends$3({},Sr,Gn);let Ln=[],Br=[];Vt.v7_fetcherPersist&&Sr.fetchers.forEach((Lr,qr)=>{Lr.state==="idle"&&(wr.has(qr)?Br.push(qr):Ln.push(qr))}),[...ir].forEach(Lr=>Lr(Sr,{deletedFetchers:Br,viewTransitionOpts:dn.viewTransitionOpts,flushSync:dn.flushSync===!0})),Vt.v7_fetcherPersist&&(Ln.forEach(Lr=>Sr.fetchers.delete(Lr)),Br.forEach(Lr=>jr(Lr)))}function Rr(Gn,dn,Ln){var Br,Lr;let{flushSync:qr}=Ln===void 0?{}:Ln,Mr=Sr.actionData!=null&&Sr.navigation.formMethod!=null&&isMutationMethod(Sr.navigation.formMethod)&&Sr.navigation.state==="loading"&&((Br=Gn.state)==null?void 0:Br._isRedirect)!==!0,Ur;dn.actionData?Object.keys(dn.actionData).length>0?Ur=dn.actionData:Ur=null:Mr?Ur=Sr.actionData:Ur=null;let rn=dn.loaderData?mergeLoaderData(Sr.loaderData,dn.loaderData,dn.matches||[],dn.errors):Sr.loaderData,zn=Sr.blockers;zn.size>0&&(zn=new Map(zn),zn.forEach((co,uo)=>zn.set(uo,IDLE_BLOCKER)));let pn=$r===!0||Sr.navigation.formMethod!=null&&isMutationMethod(Sr.navigation.formMethod)&&((Lr=Gn.state)==null?void 0:Lr._isRedirect)!==!0;Ft&&(Dt=Ft,Ft=void 0),tr||Er===Action$1.Pop||(Er===Action$1.Push?nt.history.push(Gn,Gn.state):Er===Action$1.Replace&&nt.history.replace(Gn,Gn.state));let Vn;if(Er===Action$1.Pop){let co=gr.get(Sr.location.pathname);co&&co.has(Gn.pathname)?Vn={currentLocation:Sr.location,nextLocation:Gn}:gr.has(Gn.pathname)&&(Vn={currentLocation:Gn,nextLocation:Sr.location})}else if(kr){let co=gr.get(Sr.location.pathname);co?co.add(Gn.pathname):(co=new Set([Gn.pathname]),gr.set(Sr.location.pathname,co)),Vn={currentLocation:Sr.location,nextLocation:Gn}}Dr(_extends$3({},dn,{actionData:Ur,loaderData:rn,historyAction:Er,location:Gn,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:eo(Gn,dn.matches||Sr.matches),preventScrollReset:pn,blockers:zn}),{viewTransitionOpts:Vn,flushSync:qr===!0}),Er=Action$1.Pop,$r=!1,kr=!1,tr=!1,nr=!1,rr=[]}async function Vr(Gn,dn){if(typeof Gn=="number"){nt.history.go(Gn);return}let Ln=normalizeTo(Sr.location,Sr.matches,Nt,Vt.v7_prependBasename,Gn,Vt.v7_relativeSplatPath,dn==null?void 0:dn.fromRouteId,dn==null?void 0:dn.relative),{path:Br,submission:Lr,error:qr}=normalizeNavigateOptions(Vt.v7_normalizeFormMethod,!1,Ln,dn),Mr=Sr.location,Ur=createLocation(Sr.location,Br,dn&&dn.state);Ur=_extends$3({},Ur,nt.history.encodeLocation(Ur));let rn=dn&&dn.replace!=null?dn.replace:void 0,zn=Action$1.Push;rn===!0?zn=Action$1.Replace:rn===!1||Lr!=null&&isMutationMethod(Lr.formMethod)&&Lr.formAction===Sr.location.pathname+Sr.location.search&&(zn=Action$1.Replace);let pn=dn&&"preventScrollReset"in dn?dn.preventScrollReset===!0:void 0,Vn=(dn&&dn.flushSync)===!0,co=ga({currentLocation:Mr,nextLocation:Ur,historyAction:zn});if(co){Io(co,{state:"blocked",location:Ur,proceed(){Io(co,{state:"proceeding",proceed:void 0,reset:void 0,location:Ur}),Vr(Gn,dn)},reset(){let uo=new Map(Sr.blockers);uo.set(co,IDLE_BLOCKER),Dr({blockers:uo})}});return}return await Xr(zn,Ur,{submission:Lr,pendingError:qr,preventScrollReset:pn,replace:dn&&dn.replace,enableViewTransition:dn&&dn.viewTransition,flushSync:Vn})}function an(){if($o(),Dr({revalidation:"loading"}),Sr.navigation.state!=="submitting"){if(Sr.navigation.state==="idle"){Xr(Sr.historyAction,Sr.location,{startUninterruptedRevalidation:!0});return}Xr(Er||Sr.historyAction,Sr.navigation.location,{overrideNavigation:Sr.navigation,enableViewTransition:kr===!0})}}async function Xr(Gn,dn,Ln){Cr&&Cr.abort(),Cr=null,Er=Gn,tr=(Ln&&Ln.startUninterruptedRevalidation)===!0,zo(Sr.location,Sr.matches),$r=(Ln&&Ln.preventScrollReset)===!0,kr=(Ln&&Ln.enableViewTransition)===!0;let Br=Ft||Dt,Lr=Ln&&Ln.overrideNavigation,qr=matchRoutes(Br,dn,Nt),Mr=(Ln&&Ln.flushSync)===!0,Ur=oo(qr,Br,dn.pathname);if(Ur.active&&Ur.matches&&(qr=Ur.matches),!qr){let{error:Eo,notFoundMatches:ho,route:Co}=ba(dn.pathname);Rr(dn,{matches:ho,loaderData:{},errors:{[Co.id]:Eo}},{flushSync:Mr});return}if(Sr.initialized&&!nr&&isHashChangeOnly(Sr.location,dn)&&!(Ln&&Ln.submission&&isMutationMethod(Ln.submission.formMethod))){Rr(dn,{matches:qr},{flushSync:Mr});return}Cr=new AbortController;let rn=createClientSideRequest(nt.history,dn,Cr.signal,Ln&&Ln.submission),zn;if(Ln&&Ln.pendingError)zn=[findNearestBoundary(qr).route.id,{type:ResultType.error,error:Ln.pendingError}];else if(Ln&&Ln.submission&&isMutationMethod(Ln.submission.formMethod)){let Eo=await Jr(rn,dn,Ln.submission,qr,Ur.active,{replace:Ln.replace,flushSync:Mr});if(Eo.shortCircuited)return;if(Eo.pendingActionResult){let[ho,Co]=Eo.pendingActionResult;if(isErrorResult$2(Co)&&isRouteErrorResponse(Co.error)&&Co.error.status===404){Cr=null,Rr(dn,{matches:Eo.matches,loaderData:{},errors:{[ho]:Co.error}});return}}qr=Eo.matches||qr,zn=Eo.pendingActionResult,Lr=getLoadingNavigation(dn,Ln.submission),Mr=!1,Ur.active=!1,rn=createClientSideRequest(nt.history,rn.url,rn.signal)}let{shortCircuited:pn,matches:Vn,loaderData:co,errors:uo}=await Zr(rn,dn,qr,Ur.active,Lr,Ln&&Ln.submission,Ln&&Ln.fetcherSubmission,Ln&&Ln.replace,Ln&&Ln.initialHydration===!0,Mr,zn);pn||(Cr=null,Rr(dn,_extends$3({matches:Vn||qr},getActionDataForCommit(zn),{loaderData:co,errors:uo})))}async function Jr(Gn,dn,Ln,Br,Lr,qr){qr===void 0&&(qr={}),$o();let Mr=getSubmittingNavigation(dn,Ln);if(Dr({navigation:Mr},{flushSync:qr.flushSync===!0}),Lr){let zn=await Ho(Br,dn.pathname,Gn.signal);if(zn.type==="aborted")return{shortCircuited:!0};if(zn.type==="error"){let pn=findNearestBoundary(zn.partialMatches).route.id;return{matches:zn.partialMatches,pendingActionResult:[pn,{type:ResultType.error,error:zn.error}]}}else if(zn.matches)Br=zn.matches;else{let{notFoundMatches:pn,error:Vn,route:co}=ba(dn.pathname);return{matches:pn,pendingActionResult:[co.id,{type:ResultType.error,error:Vn}]}}}let Ur,rn=getTargetMatch(Br,dn);if(!rn.route.action&&!rn.route.lazy)Ur={type:ResultType.error,error:getInternalRouterError(405,{method:Gn.method,pathname:dn.pathname,routeId:rn.route.id})};else if(Ur=(await Hn("action",Sr,Gn,[rn],Br,null))[rn.route.id],Gn.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Ur)){let zn;return qr&&qr.replace!=null?zn=qr.replace:zn=normalizeRedirectLocation(Ur.response.headers.get("Location"),new URL(Gn.url),Nt)===Sr.location.pathname+Sr.location.search,await ro(Gn,Ur,!0,{submission:Ln,replace:zn}),{shortCircuited:!0}}if(isDeferredResult(Ur))throw getInternalRouterError(400,{type:"defer-action"});if(isErrorResult$2(Ur)){let zn=findNearestBoundary(Br,rn.route.id);return(qr&&qr.replace)!==!0&&(Er=Action$1.Push),{matches:Br,pendingActionResult:[zn.route.id,Ur]}}return{matches:Br,pendingActionResult:[rn.route.id,Ur]}}async function Zr(Gn,dn,Ln,Br,Lr,qr,Mr,Ur,rn,zn,pn){let Vn=Lr||getLoadingNavigation(dn,qr),co=qr||Mr||getSubmissionFromNavigation(Vn),uo=!tr&&(!Vt.v7_partialHydration||!rn);if(Br){if(uo){let vo=Gr(pn);Dr(_extends$3({navigation:Vn},vo!==void 0?{actionData:vo}:{}),{flushSync:zn})}let po=await Ho(Ln,dn.pathname,Gn.signal);if(po.type==="aborted")return{shortCircuited:!0};if(po.type==="error"){let vo=findNearestBoundary(po.partialMatches).route.id;return{matches:po.partialMatches,loaderData:{},errors:{[vo]:po.error}}}else if(po.matches)Ln=po.matches;else{let{error:vo,notFoundMatches:wo,route:to}=ba(dn.pathname);return{matches:wo,loaderData:{},errors:{[to.id]:vo}}}}let Eo=Ft||Dt,[ho,Co]=getMatchesToLoad(nt.history,Sr,Ln,co,dn,Vt.v7_partialHydration&&rn===!0,Vt.v7_skipActionErrorRevalidation,nr,rr,ar,wr,_r,ur,Eo,Nt,pn);if(Bo(po=>!(Ln&&Ln.some(vo=>vo.route.id===po))||ho&&ho.some(vo=>vo.route.id===po)),sr=++fr,ho.length===0&&Co.length===0){let po=sn();return Rr(dn,_extends$3({matches:Ln,loaderData:{},errors:pn&&isErrorResult$2(pn[1])?{[pn[0]]:pn[1].error}:null},getActionDataForCommit(pn),po?{fetchers:new Map(Sr.fetchers)}:{}),{flushSync:zn}),{shortCircuited:!0}}if(uo){let po={};if(!Br){po.navigation=Vn;let vo=Gr(pn);vo!==void 0&&(po.actionData=vo)}Co.length>0&&(po.fetchers=zr(Co)),Dr(po,{flushSync:zn})}Co.forEach(po=>{Fr(po.key),po.controller&&cr.set(po.key,po.controller)});let Po=()=>Co.forEach(po=>Fr(po.key));Cr&&Cr.signal.addEventListener("abort",Po);let{loaderResults:Fo,fetcherResults:Do}=await Qn(Sr,Ln,ho,Co,Gn);if(Gn.signal.aborted)return{shortCircuited:!0};Cr&&Cr.signal.removeEventListener("abort",Po),Co.forEach(po=>cr.delete(po.key));let ko=findRedirect(Fo);if(ko)return await ro(Gn,ko.result,!0,{replace:Ur}),{shortCircuited:!0};if(ko=findRedirect(Do),ko)return ur.add(ko.key),await ro(Gn,ko.result,!0,{replace:Ur}),{shortCircuited:!0};let{loaderData:Mo,errors:Oo}=processLoaderData(Sr,Ln,Fo,pn,Co,Do,Ir);Ir.forEach((po,vo)=>{po.subscribe(wo=>{(wo||po.done)&&Ir.delete(vo)})}),Vt.v7_partialHydration&&rn&&Sr.errors&&(Oo=_extends$3({},Sr.errors,Oo));let xo=sn(),Ro=Jn(sr),So=xo||Ro||Co.length>0;return _extends$3({matches:Ln,loaderData:Mo,errors:Oo},So?{fetchers:new Map(Sr.fetchers)}:{})}function Gr(Gn){if(Gn&&!isErrorResult$2(Gn[1]))return{[Gn[0]]:Gn[1].data};if(Sr.actionData)return Object.keys(Sr.actionData).length===0?null:Sr.actionData}function zr(Gn){return Gn.forEach(dn=>{let Ln=Sr.fetchers.get(dn.key),Br=getLoadingFetcher(void 0,Ln?Ln.data:void 0);Sr.fetchers.set(dn.key,Br)}),new Map(Sr.fetchers)}function Dn(Gn,dn,Ln,Br){if(mt)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Fr(Gn);let Lr=(Br&&Br.flushSync)===!0,qr=Ft||Dt,Mr=normalizeTo(Sr.location,Sr.matches,Nt,Vt.v7_prependBasename,Ln,Vt.v7_relativeSplatPath,dn,Br==null?void 0:Br.relative),Ur=matchRoutes(qr,Mr,Nt),rn=oo(Ur,qr,Mr);if(rn.active&&rn.matches&&(Ur=rn.matches),!Ur){_i(Gn,dn,getInternalRouterError(404,{pathname:Mr}),{flushSync:Lr});return}let{path:zn,submission:pn,error:Vn}=normalizeNavigateOptions(Vt.v7_normalizeFormMethod,!0,Mr,Br);if(Vn){_i(Gn,dn,Vn,{flushSync:Lr});return}let co=getTargetMatch(Ur,zn),uo=(Br&&Br.preventScrollReset)===!0;if(pn&&isMutationMethod(pn.formMethod)){Qr(Gn,dn,zn,co,Ur,rn.active,Lr,uo,pn);return}_r.set(Gn,{routeId:dn,path:zn}),Un(Gn,dn,zn,co,Ur,rn.active,Lr,uo,pn)}async function Qr(Gn,dn,Ln,Br,Lr,qr,Mr,Ur,rn){$o(),_r.delete(Gn);function zn(_a){if(!_a.route.action&&!_a.route.lazy){let yo=getInternalRouterError(405,{method:rn.formMethod,pathname:Ln,routeId:dn});return _i(Gn,dn,yo,{flushSync:Mr}),!0}return!1}if(!qr&&zn(Br))return;let pn=Sr.fetchers.get(Gn);Kn(Gn,getSubmittingFetcher(rn,pn),{flushSync:Mr});let Vn=new AbortController,co=createClientSideRequest(nt.history,Ln,Vn.signal,rn);if(qr){let _a=await Ho(Lr,Ln,co.signal);if(_a.type==="aborted")return;if(_a.type==="error"){_i(Gn,dn,_a.error,{flushSync:Mr});return}else if(_a.matches){if(Lr=_a.matches,Br=getTargetMatch(Lr,Ln),zn(Br))return}else{_i(Gn,dn,getInternalRouterError(404,{pathname:Ln}),{flushSync:Mr});return}}cr.set(Gn,Vn);let uo=fr,ho=(await Hn("action",Sr,co,[Br],Lr,Gn))[Br.route.id];if(co.signal.aborted){cr.get(Gn)===Vn&&cr.delete(Gn);return}if(Vt.v7_fetcherPersist&&wr.has(Gn)){if(isRedirectResult(ho)||isErrorResult$2(ho)){Kn(Gn,getDoneFetcher(void 0));return}}else{if(isRedirectResult(ho))if(cr.delete(Gn),sr>uo){Kn(Gn,getDoneFetcher(void 0));return}else return ur.add(Gn),Kn(Gn,getLoadingFetcher(rn)),ro(co,ho,!1,{fetcherSubmission:rn,preventScrollReset:Ur});if(isErrorResult$2(ho)){_i(Gn,dn,ho.error);return}}if(isDeferredResult(ho))throw getInternalRouterError(400,{type:"defer-action"});let Co=Sr.navigation.location||Sr.location,Po=createClientSideRequest(nt.history,Co,Vn.signal),Fo=Ft||Dt,Do=Sr.navigation.state!=="idle"?matchRoutes(Fo,Sr.navigation.location,Nt):Sr.matches;invariant$R(Do,"Didn't find any matches after fetcher action");let ko=++fr;Yt.set(Gn,ko);let Mo=getLoadingFetcher(rn,ho.data);Sr.fetchers.set(Gn,Mo);let[Oo,xo]=getMatchesToLoad(nt.history,Sr,Do,rn,Co,!1,Vt.v7_skipActionErrorRevalidation,nr,rr,ar,wr,_r,ur,Fo,Nt,[Br.route.id,ho]);xo.filter(_a=>_a.key!==Gn).forEach(_a=>{let yo=_a.key,Yr=Sr.fetchers.get(yo),Cn=getLoadingFetcher(void 0,Yr?Yr.data:void 0);Sr.fetchers.set(yo,Cn),Fr(yo),_a.controller&&cr.set(yo,_a.controller)}),Dr({fetchers:new Map(Sr.fetchers)});let Ro=()=>xo.forEach(_a=>Fr(_a.key));Vn.signal.addEventListener("abort",Ro);let{loaderResults:So,fetcherResults:po}=await Qn(Sr,Do,Oo,xo,Po);if(Vn.signal.aborted)return;Vn.signal.removeEventListener("abort",Ro),Yt.delete(Gn),cr.delete(Gn),xo.forEach(_a=>cr.delete(_a.key));let vo=findRedirect(So);if(vo)return ro(Po,vo.result,!1,{preventScrollReset:Ur});if(vo=findRedirect(po),vo)return ur.add(vo.key),ro(Po,vo.result,!1,{preventScrollReset:Ur});let{loaderData:wo,errors:to}=processLoaderData(Sr,Do,So,void 0,xo,po,Ir);if(Sr.fetchers.has(Gn)){let _a=getDoneFetcher(ho.data);Sr.fetchers.set(Gn,_a)}Jn(ko),Sr.navigation.state==="loading"&&ko>sr?(invariant$R(Er,"Expected pending action"),Cr&&Cr.abort(),Rr(Sr.navigation.location,{matches:Do,loaderData:wo,errors:to,fetchers:new Map(Sr.fetchers)})):(Dr({errors:to,loaderData:mergeLoaderData(Sr.loaderData,wo,Do,to),fetchers:new Map(Sr.fetchers)}),nr=!1)}async function Un(Gn,dn,Ln,Br,Lr,qr,Mr,Ur,rn){let zn=Sr.fetchers.get(Gn);Kn(Gn,getLoadingFetcher(rn,zn?zn.data:void 0),{flushSync:Mr});let pn=new AbortController,Vn=createClientSideRequest(nt.history,Ln,pn.signal);if(qr){let ho=await Ho(Lr,Ln,Vn.signal);if(ho.type==="aborted")return;if(ho.type==="error"){_i(Gn,dn,ho.error,{flushSync:Mr});return}else if(ho.matches)Lr=ho.matches,Br=getTargetMatch(Lr,Ln);else{_i(Gn,dn,getInternalRouterError(404,{pathname:Ln}),{flushSync:Mr});return}}cr.set(Gn,pn);let co=fr,Eo=(await Hn("loader",Sr,Vn,[Br],Lr,Gn))[Br.route.id];if(isDeferredResult(Eo)&&(Eo=await resolveDeferredData(Eo,Vn.signal,!0)||Eo),cr.get(Gn)===pn&&cr.delete(Gn),!Vn.signal.aborted){if(wr.has(Gn)){Kn(Gn,getDoneFetcher(void 0));return}if(isRedirectResult(Eo))if(sr>co){Kn(Gn,getDoneFetcher(void 0));return}else{ur.add(Gn),await ro(Vn,Eo,!1,{preventScrollReset:Ur});return}if(isErrorResult$2(Eo)){_i(Gn,dn,Eo.error);return}invariant$R(!isDeferredResult(Eo),"Unhandled fetcher deferred data"),Kn(Gn,getDoneFetcher(Eo.data))}}async function ro(Gn,dn,Ln,Br){let{submission:Lr,fetcherSubmission:qr,preventScrollReset:Mr,replace:Ur}=Br===void 0?{}:Br;dn.response.headers.has("X-Remix-Revalidate")&&(nr=!0);let rn=dn.response.headers.get("Location");invariant$R(rn,"Expected a Location header on the redirect Response"),rn=normalizeRedirectLocation(rn,new URL(Gn.url),Nt);let zn=createLocation(Sr.location,rn,{_isRedirect:!0});if(at){let ho=!1;if(dn.response.headers.has("X-Remix-Reload-Document"))ho=!0;else if(ABSOLUTE_URL_REGEX$1.test(rn)){const Co=nt.history.createURL(rn);ho=Co.origin!==et.location.origin||stripBasename(Co.pathname,Nt)==null}if(ho){Ur?et.location.replace(rn):et.location.assign(rn);return}}Cr=null;let pn=Ur===!0||dn.response.headers.has("X-Remix-Replace")?Action$1.Replace:Action$1.Push,{formMethod:Vn,formAction:co,formEncType:uo}=Sr.navigation;!Lr&&!qr&&Vn&&co&&uo&&(Lr=getSubmissionFromNavigation(Sr.navigation));let Eo=Lr||qr;if(redirectPreserveMethodStatusCodes.has(dn.response.status)&&Eo&&isMutationMethod(Eo.formMethod))await Xr(pn,zn,{submission:_extends$3({},Eo,{formAction:rn}),preventScrollReset:Mr||$r,enableViewTransition:Ln?kr:void 0});else{let ho=getLoadingNavigation(zn,Lr);await Xr(pn,zn,{overrideNavigation:ho,fetcherSubmission:qr,preventScrollReset:Mr||$r,enableViewTransition:Ln?kr:void 0})}}async function Hn(Gn,dn,Ln,Br,Lr,qr){let Mr,Ur={};try{Mr=await callDataStrategyImpl(jt,Gn,dn,Ln,Br,Lr,qr,Ct,$t)}catch(rn){return Br.forEach(zn=>{Ur[zn.route.id]={type:ResultType.error,error:rn}}),Ur}for(let[rn,zn]of Object.entries(Mr))if(isRedirectDataStrategyResultResult(zn)){let pn=zn.result;Ur[rn]={type:ResultType.redirect,response:normalizeRelativeRoutingRedirectResponse(pn,Ln,rn,Lr,Nt,Vt.v7_relativeSplatPath)}}else Ur[rn]=await convertDataStrategyResultToDataResult(zn);return Ur}async function Qn(Gn,dn,Ln,Br,Lr){let qr=Gn.matches,Mr=Hn("loader",Gn,Lr,Ln,dn,null),Ur=Promise.all(Br.map(async pn=>{if(pn.matches&&pn.match&&pn.controller){let co=(await Hn("loader",Gn,createClientSideRequest(nt.history,pn.path,pn.controller.signal),[pn.match],pn.matches,pn.key))[pn.match.route.id];return{[pn.key]:co}}else return Promise.resolve({[pn.key]:{type:ResultType.error,error:getInternalRouterError(404,{pathname:pn.path})}})})),rn=await Mr,zn=(await Ur).reduce((pn,Vn)=>Object.assign(pn,Vn),{});return await Promise.all([resolveNavigationDeferredResults(dn,rn,Lr.signal,qr,Gn.loaderData),resolveFetcherDeferredResults(dn,zn,Br)]),{loaderResults:rn,fetcherResults:zn}}function $o(){nr=!0,rr.push(...Bo()),_r.forEach((Gn,dn)=>{cr.has(dn)&&ar.add(dn),Fr(dn)})}function Kn(Gn,dn,Ln){Ln===void 0&&(Ln={}),Sr.fetchers.set(Gn,dn),Dr({fetchers:new Map(Sr.fetchers)},{flushSync:(Ln&&Ln.flushSync)===!0})}function _i(Gn,dn,Ln,Br){Br===void 0&&(Br={});let Lr=findNearestBoundary(Sr.matches,dn);jr(Gn),Dr({errors:{[Lr.route.id]:Ln},fetchers:new Map(Sr.fetchers)},{flushSync:(Br&&Br.flushSync)===!0})}function Lo(Gn){return Vt.v7_fetcherPersist&&(yr.set(Gn,(yr.get(Gn)||0)+1),wr.has(Gn)&&wr.delete(Gn)),Sr.fetchers.get(Gn)||IDLE_FETCHER}function jr(Gn){let dn=Sr.fetchers.get(Gn);cr.has(Gn)&&!(dn&&dn.state==="loading"&&Yt.has(Gn))&&Fr(Gn),_r.delete(Gn),Yt.delete(Gn),ur.delete(Gn),wr.delete(Gn),ar.delete(Gn),Sr.fetchers.delete(Gn)}function Tr(Gn){if(Vt.v7_fetcherPersist){let dn=(yr.get(Gn)||0)-1;dn<=0?(yr.delete(Gn),wr.add(Gn)):yr.set(Gn,dn)}else jr(Gn);Dr({fetchers:new Map(Sr.fetchers)})}function Fr(Gn){let dn=cr.get(Gn);dn&&(dn.abort(),cr.delete(Gn))}function Wr(Gn){for(let dn of Gn){let Ln=Lo(dn),Br=getDoneFetcher(Ln.data);Sr.fetchers.set(dn,Br)}}function sn(){let Gn=[],dn=!1;for(let Ln of ur){let Br=Sr.fetchers.get(Ln);invariant$R(Br,"Expected fetcher: "+Ln),Br.state==="loading"&&(ur.delete(Ln),Gn.push(Ln),dn=!0)}return Wr(Gn),dn}function Jn(Gn){let dn=[];for(let[Ln,Br]of Yt)if(Br<Gn){let Lr=Sr.fetchers.get(Ln);invariant$R(Lr,"Expected fetcher: "+Ln),Lr.state==="loading"&&(Fr(Ln),Yt.delete(Ln),dn.push(Ln))}return Wr(dn),dn.length>0}function Nn(Gn,dn){let Ln=Sr.blockers.get(Gn)||IDLE_BLOCKER;return Or.get(Gn)!==dn&&Or.set(Gn,dn),Ln}function Zn(Gn){Sr.blockers.delete(Gn),Or.delete(Gn)}function Io(Gn,dn){let Ln=Sr.blockers.get(Gn)||IDLE_BLOCKER;invariant$R(Ln.state==="unblocked"&&dn.state==="blocked"||Ln.state==="blocked"&&dn.state==="blocked"||Ln.state==="blocked"&&dn.state==="proceeding"||Ln.state==="blocked"&&dn.state==="unblocked"||Ln.state==="proceeding"&&dn.state==="unblocked","Invalid blocker state transition: "+Ln.state+" -> "+dn.state);let Br=new Map(Sr.blockers);Br.set(Gn,dn),Dr({blockers:Br})}function ga(Gn){let{currentLocation:dn,nextLocation:Ln,historyAction:Br}=Gn;if(Or.size===0)return;Or.size>1&&warning$4(!1,"A router only supports one blocker at a time");let Lr=Array.from(Or.entries()),[qr,Mr]=Lr[Lr.length-1],Ur=Sr.blockers.get(qr);if(!(Ur&&Ur.state==="proceeding")&&Mr({currentLocation:dn,nextLocation:Ln,historyAction:Br}))return qr}function ba(Gn){let dn=getInternalRouterError(404,{pathname:Gn}),Ln=Ft||Dt,{matches:Br,route:Lr}=getShortCircuitMatches(Ln);return Bo(),{notFoundMatches:Br,route:Lr,error:dn}}function Bo(Gn){let dn=[];return Ir.forEach((Ln,Br)=>{(!Gn||Gn(Br))&&(Ln.cancel(),dn.push(Br),Ir.delete(Br))}),dn}function io(Gn,dn,Ln){if(or=Gn,dr=dn,lr=Ln||null,!pr&&Sr.navigation===IDLE_NAVIGATION){pr=!0;let Br=eo(Sr.location,Sr.matches);Br!=null&&Dr({restoreScrollPosition:Br})}return()=>{or=null,dr=null,lr=null}}function so(Gn,dn){return lr&&lr(Gn,dn.map(Br=>convertRouteMatchToUiMatch(Br,Sr.loaderData)))||Gn.key}function zo(Gn,dn){if(or&&dr){let Ln=so(Gn,dn);or[Ln]=dr()}}function eo(Gn,dn){if(or){let Ln=so(Gn,dn),Br=or[Ln];if(typeof Br=="number")return Br}return null}function oo(Gn,dn,Ln){if(Lt)if(Gn){if(Object.keys(Gn[0].params).length>0)return{active:!0,matches:matchRoutesImpl(dn,Ln,Nt,!0)}}else return{active:!0,matches:matchRoutesImpl(dn,Ln,Nt,!0)||[]};return{active:!1,matches:null}}async function Ho(Gn,dn,Ln){if(!Lt)return{type:"success",matches:Gn};let Br=Gn;for(;;){let Lr=Ft==null,qr=Ft||Dt,Mr=Ct;try{await Lt({path:dn,matches:Br,patch:(zn,pn)=>{Ln.aborted||patchRoutesImpl(zn,pn,qr,Mr,$t)}})}catch(zn){return{type:"error",error:zn,partialMatches:Br}}finally{Lr&&!Ln.aborted&&(Dt=[...Dt])}if(Ln.aborted)return{type:"aborted"};let Ur=matchRoutes(qr,dn,Nt);if(Ur)return{type:"success",matches:Ur};let rn=matchRoutesImpl(qr,dn,Nt,!0);if(!rn||Br.length===rn.length&&Br.every((zn,pn)=>zn.route.id===rn[pn].route.id))return{type:"success",matches:null};Br=rn}}function no(Gn){Ct={},Ft=convertRoutesToDataRoutes(Gn,$t,void 0,Ct)}function ao(Gn,dn){let Ln=Ft==null;patchRoutesImpl(Gn,dn,Ft||Dt,Ct,$t),Ln&&(Dt=[...Dt],Dr({}))}return xr={get basename(){return Nt},get future(){return Vt},get state(){return Sr},get routes(){return Dt},get window(){return et},initialize:Nr,subscribe:Pr,enableScrollRestoration:io,navigate:Vr,fetch:Dn,revalidate:an,createHref:Gn=>nt.history.createHref(Gn),encodeLocation:Gn=>nt.history.encodeLocation(Gn),getFetcher:Lo,deleteFetcher:Tr,dispose:Hr,getBlocker:Nn,deleteBlocker:Zn,patchRoutes:ao,_internalFetchControllers:cr,_internalActiveDeferreds:Ir,_internalSetRoutes:no},xr}function isSubmissionNavigation(nt){return nt!=null&&("formData"in nt&&nt.formData!=null||"body"in nt&&nt.body!==void 0)}function normalizeTo(nt,et,at,mt,$t,Ct,Dt,Ft){let Nt,jt;if(Dt){Nt=[];for(let Vt of et)if(Nt.push(Vt),Vt.route.id===Dt){jt=Vt;break}}else Nt=et,jt=et[et.length-1];let Lt=resolveTo($t||".",getResolveToMatches(Nt,Ct),stripBasename(nt.pathname,at)||nt.pathname,Ft==="path");if($t==null&&(Lt.search=nt.search,Lt.hash=nt.hash),($t==null||$t===""||$t===".")&&jt){let Vt=hasNakedIndexQuery(Lt.search);if(jt.route.index&&!Vt)Lt.search=Lt.search?Lt.search.replace(/^\?/,"?index&"):"?index";else if(!jt.route.index&&Vt){let er=new URLSearchParams(Lt.search),ir=er.getAll("index");er.delete("index"),ir.filter(lr=>lr).forEach(lr=>er.append("index",lr));let or=er.toString();Lt.search=or?"?"+or:""}}return mt&&at!=="/"&&(Lt.pathname=Lt.pathname==="/"?at:joinPaths([at,Lt.pathname])),createPath(Lt)}function normalizeNavigateOptions(nt,et,at,mt){if(!mt||!isSubmissionNavigation(mt))return{path:at};if(mt.formMethod&&!isValidMethod(mt.formMethod))return{path:at,error:getInternalRouterError(405,{method:mt.formMethod})};let $t=()=>({path:at,error:getInternalRouterError(400,{type:"invalid-body"})}),Ct=mt.formMethod||"get",Dt=nt?Ct.toUpperCase():Ct.toLowerCase(),Ft=stripHashFromPath(at);if(mt.body!==void 0){if(mt.formEncType==="text/plain"){if(!isMutationMethod(Dt))return $t();let er=typeof mt.body=="string"?mt.body:mt.body instanceof FormData||mt.body instanceof URLSearchParams?Array.from(mt.body.entries()).reduce((ir,or)=>{let[lr,dr]=or;return""+ir+lr+"="+dr+`
`},""):String(mt.body);return{path:at,submission:{formMethod:Dt,formAction:Ft,formEncType:mt.formEncType,formData:void 0,json:void 0,text:er}}}else if(mt.formEncType==="application/json"){if(!isMutationMethod(Dt))return $t();try{let er=typeof mt.body=="string"?JSON.parse(mt.body):mt.body;return{path:at,submission:{formMethod:Dt,formAction:Ft,formEncType:mt.formEncType,formData:void 0,json:er,text:void 0}}}catch{return $t()}}}invariant$R(typeof FormData=="function","FormData is not available in this environment");let Nt,jt;if(mt.formData)Nt=convertFormDataToSearchParams(mt.formData),jt=mt.formData;else if(mt.body instanceof FormData)Nt=convertFormDataToSearchParams(mt.body),jt=mt.body;else if(mt.body instanceof URLSearchParams)Nt=mt.body,jt=convertSearchParamsToFormData(Nt);else if(mt.body==null)Nt=new URLSearchParams,jt=new FormData;else try{Nt=new URLSearchParams(mt.body),jt=convertSearchParamsToFormData(Nt)}catch{return $t()}let Lt={formMethod:Dt,formAction:Ft,formEncType:mt&&mt.formEncType||"application/x-www-form-urlencoded",formData:jt,json:void 0,text:void 0};if(isMutationMethod(Lt.formMethod))return{path:at,submission:Lt};let Vt=parsePath(at);return et&&Vt.search&&hasNakedIndexQuery(Vt.search)&&Nt.append("index",""),Vt.search="?"+Nt,{path:createPath(Vt),submission:Lt}}function getLoaderMatchesUntilBoundary(nt,et,at){at===void 0&&(at=!1);let mt=nt.findIndex($t=>$t.route.id===et);return mt>=0?nt.slice(0,at?mt+1:mt):nt}function getMatchesToLoad(nt,et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir,or,lr){let dr=lr?isErrorResult$2(lr[1])?lr[1].error:lr[1].data:void 0,pr=nt.createURL(et.location),hr=nt.createURL($t),vr=at;Ct&&et.errors?vr=getLoaderMatchesUntilBoundary(at,Object.keys(et.errors)[0],!0):lr&&isErrorResult$2(lr[1])&&(vr=getLoaderMatchesUntilBoundary(at,lr[0]));let br=lr?lr[1].statusCode:void 0,xr=Dt&&br&&br>=400,Sr=vr.filter(($r,Cr)=>{let{route:kr}=$r;if(kr.lazy)return!0;if(kr.loader==null)return!1;if(Ct)return shouldLoadRouteOnHydration(kr,et.loaderData,et.errors);if(isNewLoader(et.loaderData,et.matches[Cr],$r)||Nt.some(tr=>tr===$r.route.id))return!0;let gr=et.matches[Cr],Ut=$r;return shouldRevalidateLoader($r,_extends$3({currentUrl:pr,currentParams:gr.params,nextUrl:hr,nextParams:Ut.params},mt,{actionResult:dr,actionStatus:br,defaultShouldRevalidate:xr?!1:Ft||pr.pathname+pr.search===hr.pathname+hr.search||pr.search!==hr.search||isNewRouteInstance(gr,Ut)}))}),Er=[];return Vt.forEach(($r,Cr)=>{if(Ct||!at.some(nr=>nr.route.id===$r.routeId)||Lt.has(Cr))return;let kr=matchRoutes(ir,$r.path,or);if(!kr){Er.push({key:Cr,routeId:$r.routeId,path:$r.path,matches:null,match:null,controller:null});return}let gr=et.fetchers.get(Cr),Ut=getTargetMatch(kr,$r.path),tr=!1;er.has(Cr)?tr=!1:jt.has(Cr)?(jt.delete(Cr),tr=!0):gr&&gr.state!=="idle"&&gr.data===void 0?tr=Ft:tr=shouldRevalidateLoader(Ut,_extends$3({currentUrl:pr,currentParams:et.matches[et.matches.length-1].params,nextUrl:hr,nextParams:at[at.length-1].params},mt,{actionResult:dr,actionStatus:br,defaultShouldRevalidate:xr?!1:Ft})),tr&&Er.push({key:Cr,routeId:$r.routeId,path:$r.path,matches:kr,match:Ut,controller:new AbortController})}),[Sr,Er]}function shouldLoadRouteOnHydration(nt,et,at){if(nt.lazy)return!0;if(!nt.loader)return!1;let mt=et!=null&&et[nt.id]!==void 0,$t=at!=null&&at[nt.id]!==void 0;return!mt&&$t?!1:typeof nt.loader=="function"&&nt.loader.hydrate===!0?!0:!mt&&!$t}function isNewLoader(nt,et,at){let mt=!et||at.route.id!==et.route.id,$t=nt[at.route.id]===void 0;return mt||$t}function isNewRouteInstance(nt,et){let at=nt.route.path;return nt.pathname!==et.pathname||at!=null&&at.endsWith("*")&&nt.params["*"]!==et.params["*"]}function shouldRevalidateLoader(nt,et){if(nt.route.shouldRevalidate){let at=nt.route.shouldRevalidate(et);if(typeof at=="boolean")return at}return et.defaultShouldRevalidate}function patchRoutesImpl(nt,et,at,mt,$t){var Ct;let Dt;if(nt){let jt=mt[nt];invariant$R(jt,"No route found to patch children into: routeId = "+nt),jt.children||(jt.children=[]),Dt=jt.children}else Dt=at;let Ft=et.filter(jt=>!Dt.some(Lt=>isSameRoute(jt,Lt))),Nt=convertRoutesToDataRoutes(Ft,$t,[nt||"_","patch",String(((Ct=Dt)==null?void 0:Ct.length)||"0")],mt);Dt.push(...Nt)}function isSameRoute(nt,et){return"id"in nt&&"id"in et&&nt.id===et.id?!0:nt.index===et.index&&nt.path===et.path&&nt.caseSensitive===et.caseSensitive?(!nt.children||nt.children.length===0)&&(!et.children||et.children.length===0)?!0:nt.children.every((at,mt)=>{var $t;return($t=et.children)==null?void 0:$t.some(Ct=>isSameRoute(at,Ct))}):!1}async function loadLazyRouteModule(nt,et,at){if(!nt.lazy)return;let mt=await nt.lazy();if(!nt.lazy)return;let $t=at[nt.id];invariant$R($t,"No route found in manifest");let Ct={};for(let Dt in mt){let Nt=$t[Dt]!==void 0&&Dt!=="hasErrorBoundary";warning$4(!Nt,'Route "'+$t.id+'" has a static property "'+Dt+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+Dt+'" will be ignored.')),!Nt&&!immutableRouteKeys.has(Dt)&&(Ct[Dt]=mt[Dt])}Object.assign($t,Ct),Object.assign($t,_extends$3({},et($t),{lazy:void 0}))}async function defaultDataStrategy(nt){let{matches:et}=nt,at=et.filter($t=>$t.shouldLoad);return(await Promise.all(at.map($t=>$t.resolve()))).reduce(($t,Ct,Dt)=>Object.assign($t,{[at[Dt].route.id]:Ct}),{})}async function callDataStrategyImpl(nt,et,at,mt,$t,Ct,Dt,Ft,Nt,jt){let Lt=Ct.map(ir=>ir.route.lazy?loadLazyRouteModule(ir.route,Nt,Ft):void 0),Vt=Ct.map((ir,or)=>{let lr=Lt[or],dr=$t.some(hr=>hr.route.id===ir.route.id);return _extends$3({},ir,{shouldLoad:dr,resolve:async hr=>(hr&&mt.method==="GET"&&(ir.route.lazy||ir.route.loader)&&(dr=!0),dr?callLoaderOrAction(et,mt,ir,lr,hr,jt):Promise.resolve({type:ResultType.data,result:void 0}))})}),er=await nt({matches:Vt,request:mt,params:Ct[0].params,fetcherKey:Dt,context:jt});try{await Promise.all(Lt)}catch{}return er}async function callLoaderOrAction(nt,et,at,mt,$t,Ct){let Dt,Ft,Nt=jt=>{let Lt,Vt=new Promise((or,lr)=>Lt=lr);Ft=()=>Lt(),et.signal.addEventListener("abort",Ft);let er=or=>typeof jt!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+nt+'" [routeId: '+at.route.id+"]"))):jt({request:et,params:at.params,context:Ct},...or!==void 0?[or]:[]),ir=(async()=>{try{return{type:"data",result:await($t?$t(lr=>er(lr)):er())}}catch(or){return{type:"error",result:or}}})();return Promise.race([ir,Vt])};try{let jt=at.route[nt];if(mt)if(jt){let Lt,[Vt]=await Promise.all([Nt(jt).catch(er=>{Lt=er}),mt]);if(Lt!==void 0)throw Lt;Dt=Vt}else if(await mt,jt=at.route[nt],jt)Dt=await Nt(jt);else if(nt==="action"){let Lt=new URL(et.url),Vt=Lt.pathname+Lt.search;throw getInternalRouterError(405,{method:et.method,pathname:Vt,routeId:at.route.id})}else return{type:ResultType.data,result:void 0};else if(jt)Dt=await Nt(jt);else{let Lt=new URL(et.url),Vt=Lt.pathname+Lt.search;throw getInternalRouterError(404,{pathname:Vt})}invariant$R(Dt.result!==void 0,"You defined "+(nt==="action"?"an action":"a loader")+" for route "+('"'+at.route.id+"\" but didn't return anything from your `"+nt+"` ")+"function. Please return a value or `null`.")}catch(jt){return{type:ResultType.error,result:jt}}finally{Ft&&et.signal.removeEventListener("abort",Ft)}return Dt}async function convertDataStrategyResultToDataResult(nt){let{result:et,type:at}=nt;if(isResponse$1(et)){let jt;try{let Lt=et.headers.get("Content-Type");Lt&&/\bapplication\/json\b/.test(Lt)?et.body==null?jt=null:jt=await et.json():jt=await et.text()}catch(Lt){return{type:ResultType.error,error:Lt}}return at===ResultType.error?{type:ResultType.error,error:new ErrorResponseImpl(et.status,et.statusText,jt),statusCode:et.status,headers:et.headers}:{type:ResultType.data,data:jt,statusCode:et.status,headers:et.headers}}if(at===ResultType.error){if(isDataWithResponseInit(et)){var mt;if(et.data instanceof Error){var $t;return{type:ResultType.error,error:et.data,statusCode:($t=et.init)==null?void 0:$t.status}}et=new ErrorResponseImpl(((mt=et.init)==null?void 0:mt.status)||500,void 0,et.data)}return{type:ResultType.error,error:et,statusCode:isRouteErrorResponse(et)?et.status:void 0}}if(isDeferredData(et)){var Ct,Dt;return{type:ResultType.deferred,deferredData:et,statusCode:(Ct=et.init)==null?void 0:Ct.status,headers:((Dt=et.init)==null?void 0:Dt.headers)&&new Headers(et.init.headers)}}if(isDataWithResponseInit(et)){var Ft,Nt;return{type:ResultType.data,data:et.data,statusCode:(Ft=et.init)==null?void 0:Ft.status,headers:(Nt=et.init)!=null&&Nt.headers?new Headers(et.init.headers):void 0}}return{type:ResultType.data,data:et}}function normalizeRelativeRoutingRedirectResponse(nt,et,at,mt,$t,Ct){let Dt=nt.headers.get("Location");if(invariant$R(Dt,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(Dt)){let Ft=mt.slice(0,mt.findIndex(Nt=>Nt.route.id===at)+1);Dt=normalizeTo(new URL(et.url),Ft,$t,!0,Dt,Ct),nt.headers.set("Location",Dt)}return nt}function normalizeRedirectLocation(nt,et,at){if(ABSOLUTE_URL_REGEX$1.test(nt)){let mt=nt,$t=mt.startsWith("//")?new URL(et.protocol+mt):new URL(mt),Ct=stripBasename($t.pathname,at)!=null;if($t.origin===et.origin&&Ct)return $t.pathname+$t.search+$t.hash}return nt}function createClientSideRequest(nt,et,at,mt){let $t=nt.createURL(stripHashFromPath(et)).toString(),Ct={signal:at};if(mt&&isMutationMethod(mt.formMethod)){let{formMethod:Dt,formEncType:Ft}=mt;Ct.method=Dt.toUpperCase(),Ft==="application/json"?(Ct.headers=new Headers({"Content-Type":Ft}),Ct.body=JSON.stringify(mt.json)):Ft==="text/plain"?Ct.body=mt.text:Ft==="application/x-www-form-urlencoded"&&mt.formData?Ct.body=convertFormDataToSearchParams(mt.formData):Ct.body=mt.formData}return new Request($t,Ct)}function convertFormDataToSearchParams(nt){let et=new URLSearchParams;for(let[at,mt]of nt.entries())et.append(at,typeof mt=="string"?mt:mt.name);return et}function convertSearchParamsToFormData(nt){let et=new FormData;for(let[at,mt]of nt.entries())et.append(at,mt);return et}function processRouteLoaderData(nt,et,at,mt,$t){let Ct={},Dt=null,Ft,Nt=!1,jt={},Lt=at&&isErrorResult$2(at[1])?at[1].error:void 0;return nt.forEach(Vt=>{if(!(Vt.route.id in et))return;let er=Vt.route.id,ir=et[er];if(invariant$R(!isRedirectResult(ir),"Cannot handle redirect results in processLoaderData"),isErrorResult$2(ir)){let or=ir.error;Lt!==void 0&&(or=Lt,Lt=void 0),Dt=Dt||{};{let lr=findNearestBoundary(nt,er);Dt[lr.route.id]==null&&(Dt[lr.route.id]=or)}Ct[er]=void 0,Nt||(Nt=!0,Ft=isRouteErrorResponse(ir.error)?ir.error.status:500),ir.headers&&(jt[er]=ir.headers)}else isDeferredResult(ir)?(mt.set(er,ir.deferredData),Ct[er]=ir.deferredData.data,ir.statusCode!=null&&ir.statusCode!==200&&!Nt&&(Ft=ir.statusCode),ir.headers&&(jt[er]=ir.headers)):(Ct[er]=ir.data,ir.statusCode&&ir.statusCode!==200&&!Nt&&(Ft=ir.statusCode),ir.headers&&(jt[er]=ir.headers))}),Lt!==void 0&&at&&(Dt={[at[0]]:Lt},Ct[at[0]]=void 0),{loaderData:Ct,errors:Dt,statusCode:Ft||200,loaderHeaders:jt}}function processLoaderData(nt,et,at,mt,$t,Ct,Dt){let{loaderData:Ft,errors:Nt}=processRouteLoaderData(et,at,mt,Dt);return $t.forEach(jt=>{let{key:Lt,match:Vt,controller:er}=jt,ir=Ct[Lt];if(invariant$R(ir,"Did not find corresponding fetcher result"),!(er&&er.signal.aborted))if(isErrorResult$2(ir)){let or=findNearestBoundary(nt.matches,Vt==null?void 0:Vt.route.id);Nt&&Nt[or.route.id]||(Nt=_extends$3({},Nt,{[or.route.id]:ir.error})),nt.fetchers.delete(Lt)}else if(isRedirectResult(ir))invariant$R(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(ir))invariant$R(!1,"Unhandled fetcher deferred data");else{let or=getDoneFetcher(ir.data);nt.fetchers.set(Lt,or)}}),{loaderData:Ft,errors:Nt}}function mergeLoaderData(nt,et,at,mt){let $t=_extends$3({},et);for(let Ct of at){let Dt=Ct.route.id;if(et.hasOwnProperty(Dt)?et[Dt]!==void 0&&($t[Dt]=et[Dt]):nt[Dt]!==void 0&&Ct.route.loader&&($t[Dt]=nt[Dt]),mt&&mt.hasOwnProperty(Dt))break}return $t}function getActionDataForCommit(nt){return nt?isErrorResult$2(nt[1])?{actionData:{}}:{actionData:{[nt[0]]:nt[1].data}}:{}}function findNearestBoundary(nt,et){return(et?nt.slice(0,nt.findIndex(mt=>mt.route.id===et)+1):[...nt]).reverse().find(mt=>mt.route.hasErrorBoundary===!0)||nt[0]}function getShortCircuitMatches(nt){let et=nt.length===1?nt[0]:nt.find(at=>at.index||!at.path||at.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:et}],route:et}}function getInternalRouterError(nt,et){let{pathname:at,routeId:mt,method:$t,type:Ct,message:Dt}=et===void 0?{}:et,Ft="Unknown Server Error",Nt="Unknown @remix-run/router error";return nt===400?(Ft="Bad Request",$t&&at&&mt?Nt="You made a "+$t+' request to "'+at+'" but '+('did not provide a `loader` for route "'+mt+'", ')+"so there is no way to handle the request.":Ct==="defer-action"?Nt="defer() is not supported in actions":Ct==="invalid-body"&&(Nt="Unable to encode submission body")):nt===403?(Ft="Forbidden",Nt='Route "'+mt+'" does not match URL "'+at+'"'):nt===404?(Ft="Not Found",Nt='No route matches URL "'+at+'"'):nt===405&&(Ft="Method Not Allowed",$t&&at&&mt?Nt="You made a "+$t.toUpperCase()+' request to "'+at+'" but '+('did not provide an `action` for route "'+mt+'", ')+"so there is no way to handle the request.":$t&&(Nt='Invalid request method "'+$t.toUpperCase()+'"')),new ErrorResponseImpl(nt||500,Ft,new Error(Nt),!0)}function findRedirect(nt){let et=Object.entries(nt);for(let at=et.length-1;at>=0;at--){let[mt,$t]=et[at];if(isRedirectResult($t))return{key:mt,result:$t}}}function stripHashFromPath(nt){let et=typeof nt=="string"?parsePath(nt):nt;return createPath(_extends$3({},et,{hash:""}))}function isHashChangeOnly(nt,et){return nt.pathname!==et.pathname||nt.search!==et.search?!1:nt.hash===""?et.hash!=="":nt.hash===et.hash?!0:et.hash!==""}function isRedirectDataStrategyResultResult(nt){return isResponse$1(nt.result)&&redirectStatusCodes.has(nt.result.status)}function isDeferredResult(nt){return nt.type===ResultType.deferred}function isErrorResult$2(nt){return nt.type===ResultType.error}function isRedirectResult(nt){return(nt&&nt.type)===ResultType.redirect}function isDataWithResponseInit(nt){return typeof nt=="object"&&nt!=null&&"type"in nt&&"data"in nt&&"init"in nt&&nt.type==="DataWithResponseInit"}function isDeferredData(nt){let et=nt;return et&&typeof et=="object"&&typeof et.data=="object"&&typeof et.subscribe=="function"&&typeof et.cancel=="function"&&typeof et.resolveData=="function"}function isResponse$1(nt){return nt!=null&&typeof nt.status=="number"&&typeof nt.statusText=="string"&&typeof nt.headers=="object"&&typeof nt.body<"u"}function isValidMethod(nt){return validRequestMethods.has(nt.toLowerCase())}function isMutationMethod(nt){return validMutationMethods.has(nt.toLowerCase())}async function resolveNavigationDeferredResults(nt,et,at,mt,$t){let Ct=Object.entries(et);for(let Dt=0;Dt<Ct.length;Dt++){let[Ft,Nt]=Ct[Dt],jt=nt.find(er=>(er==null?void 0:er.route.id)===Ft);if(!jt)continue;let Lt=mt.find(er=>er.route.id===jt.route.id),Vt=Lt!=null&&!isNewRouteInstance(Lt,jt)&&($t&&$t[jt.route.id])!==void 0;isDeferredResult(Nt)&&Vt&&await resolveDeferredData(Nt,at,!1).then(er=>{er&&(et[Ft]=er)})}}async function resolveFetcherDeferredResults(nt,et,at){for(let mt=0;mt<at.length;mt++){let{key:$t,routeId:Ct,controller:Dt}=at[mt],Ft=et[$t];nt.find(jt=>(jt==null?void 0:jt.route.id)===Ct)&&isDeferredResult(Ft)&&(invariant$R(Dt,"Expected an AbortController for revalidating fetcher deferred result"),await resolveDeferredData(Ft,Dt.signal,!0).then(jt=>{jt&&(et[$t]=jt)}))}}async function resolveDeferredData(nt,et,at){if(at===void 0&&(at=!1),!await nt.deferredData.resolveData(et)){if(at)try{return{type:ResultType.data,data:nt.deferredData.unwrappedData}}catch($t){return{type:ResultType.error,error:$t}}return{type:ResultType.data,data:nt.deferredData.data}}}function hasNakedIndexQuery(nt){return new URLSearchParams(nt).getAll("index").some(et=>et==="")}function getTargetMatch(nt,et){let at=typeof et=="string"?parsePath(et).search:et.search;if(nt[nt.length-1].route.index&&hasNakedIndexQuery(at||""))return nt[nt.length-1];let mt=getPathContributingMatches(nt);return mt[mt.length-1]}function getSubmissionFromNavigation(nt){let{formMethod:et,formAction:at,formEncType:mt,text:$t,formData:Ct,json:Dt}=nt;if(!(!et||!at||!mt)){if($t!=null)return{formMethod:et,formAction:at,formEncType:mt,formData:void 0,json:void 0,text:$t};if(Ct!=null)return{formMethod:et,formAction:at,formEncType:mt,formData:Ct,json:void 0,text:void 0};if(Dt!==void 0)return{formMethod:et,formAction:at,formEncType:mt,formData:void 0,json:Dt,text:void 0}}}function getLoadingNavigation(nt,et){return et?{state:"loading",location:nt,formMethod:et.formMethod,formAction:et.formAction,formEncType:et.formEncType,formData:et.formData,json:et.json,text:et.text}:{state:"loading",location:nt,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(nt,et){return{state:"submitting",location:nt,formMethod:et.formMethod,formAction:et.formAction,formEncType:et.formEncType,formData:et.formData,json:et.json,text:et.text}}function getLoadingFetcher(nt,et){return nt?{state:"loading",formMethod:nt.formMethod,formAction:nt.formAction,formEncType:nt.formEncType,formData:nt.formData,json:nt.json,text:nt.text,data:et}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:et}}function getSubmittingFetcher(nt,et){return{state:"submitting",formMethod:nt.formMethod,formAction:nt.formAction,formEncType:nt.formEncType,formData:nt.formData,json:nt.json,text:nt.text,data:et?et.data:void 0}}function getDoneFetcher(nt){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:nt}}function restoreAppliedTransitions(nt,et){try{let at=nt.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(at){let mt=JSON.parse(at);for(let[$t,Ct]of Object.entries(mt||{}))Ct&&Array.isArray(Ct)&&et.set($t,new Set(Ct||[]))}}catch{}}function persistAppliedTransitions(nt,et){if(et.size>0){let at={};for(let[mt,$t]of et)at[mt]=[...$t];try{nt.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(at))}catch(mt){warning$4(!1,"Failed to save applied view transitions in sessionStorage ("+mt+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et];for(var mt in at)Object.prototype.hasOwnProperty.call(at,mt)&&(nt[mt]=at[mt])}return nt},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(nt,et){let{relative:at}=et===void 0?{}:et;useInRouterContext()||invariant$R(!1);let{basename:mt,navigator:$t}=reactExports.useContext(NavigationContext),{hash:Ct,pathname:Dt,search:Ft}=useResolvedPath(nt,{relative:at}),Nt=Dt;return mt!=="/"&&(Nt=Dt==="/"?mt:joinPaths([mt,Dt])),$t.createHref({pathname:Nt,search:Ft,hash:Ct})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$R(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(nt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(nt)}function useNavigate(){let{isDataRoute:nt}=reactExports.useContext(RouteContext);return nt?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$R(!1);let nt=reactExports.useContext(DataRouterContext),{basename:et,future:at,navigator:mt}=reactExports.useContext(NavigationContext),{matches:$t}=reactExports.useContext(RouteContext),{pathname:Ct}=useLocation(),Dt=JSON.stringify(getResolveToMatches($t,at.v7_relativeSplatPath)),Ft=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{Ft.current=!0}),reactExports.useCallback(function(jt,Lt){if(Lt===void 0&&(Lt={}),!Ft.current)return;if(typeof jt=="number"){mt.go(jt);return}let Vt=resolveTo(jt,JSON.parse(Dt),Ct,Lt.relative==="path");nt==null&&et!=="/"&&(Vt.pathname=Vt.pathname==="/"?et:joinPaths([et,Vt.pathname])),(Lt.replace?mt.replace:mt.push)(Vt,Lt.state,Lt)},[et,mt,Dt,Ct,nt])}const OutletContext=reactExports.createContext(null);function useOutlet(nt){let et=reactExports.useContext(RouteContext).outlet;return et&&reactExports.createElement(OutletContext.Provider,{value:nt},et)}function useParams(){let{matches:nt}=reactExports.useContext(RouteContext),et=nt[nt.length-1];return et?et.params:{}}function useResolvedPath(nt,et){let{relative:at}=et===void 0?{}:et,{future:mt}=reactExports.useContext(NavigationContext),{matches:$t}=reactExports.useContext(RouteContext),{pathname:Ct}=useLocation(),Dt=JSON.stringify(getResolveToMatches($t,mt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(nt,JSON.parse(Dt),Ct,at==="path"),[nt,Dt,Ct,at])}function useRoutesImpl(nt,et,at,mt){useInRouterContext()||invariant$R(!1);let{navigator:$t}=reactExports.useContext(NavigationContext),{matches:Ct}=reactExports.useContext(RouteContext),Dt=Ct[Ct.length-1],Ft=Dt?Dt.params:{};Dt&&Dt.pathname;let Nt=Dt?Dt.pathnameBase:"/";Dt&&Dt.route;let jt=useLocation(),Lt;Lt=jt;let Vt=Lt.pathname||"/",er=Vt;if(Nt!=="/"){let lr=Nt.replace(/^\//,"").split("/");er="/"+Vt.replace(/^\//,"").split("/").slice(lr.length).join("/")}let ir=matchRoutes(nt,{pathname:er});return _renderMatches(ir&&ir.map(lr=>Object.assign({},lr,{params:Object.assign({},Ft,lr.params),pathname:joinPaths([Nt,$t.encodeLocation?$t.encodeLocation(lr.pathname).pathname:lr.pathname]),pathnameBase:lr.pathnameBase==="/"?Nt:joinPaths([Nt,$t.encodeLocation?$t.encodeLocation(lr.pathnameBase).pathname:lr.pathnameBase])})),Ct,at,mt)}function DefaultErrorComponent(){let nt=useRouteError(),et=isRouteErrorResponse(nt)?nt.status+" "+nt.statusText:nt instanceof Error?nt.message:JSON.stringify(nt),at=nt instanceof Error?nt.stack:null,$t={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),at?reactExports.createElement("pre",{style:$t},at):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,at){return at.location!==et.location||at.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error!==void 0?et.error:at.error,location:at.location,revalidation:et.revalidation||at.revalidation}}componentDidCatch(et,at){console.error("React Router caught the following error during render",et,at)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(nt){let{routeContext:et,match:at,children:mt}=nt,$t=reactExports.useContext(DataRouterContext);return $t&&$t.static&&$t.staticContext&&(at.route.errorElement||at.route.ErrorBoundary)&&($t.staticContext._deepestRenderedBoundaryId=at.route.id),reactExports.createElement(RouteContext.Provider,{value:et},mt)}function _renderMatches(nt,et,at,mt){var $t;if(et===void 0&&(et=[]),at===void 0&&(at=null),mt===void 0&&(mt=null),nt==null){var Ct;if(!at)return null;if(at.errors)nt=at.matches;else if((Ct=mt)!=null&&Ct.v7_partialHydration&&et.length===0&&!at.initialized&&at.matches.length>0)nt=at.matches;else return null}let Dt=nt,Ft=($t=at)==null?void 0:$t.errors;if(Ft!=null){let Lt=Dt.findIndex(Vt=>Vt.route.id&&(Ft==null?void 0:Ft[Vt.route.id])!==void 0);Lt>=0||invariant$R(!1),Dt=Dt.slice(0,Math.min(Dt.length,Lt+1))}let Nt=!1,jt=-1;if(at&&mt&&mt.v7_partialHydration)for(let Lt=0;Lt<Dt.length;Lt++){let Vt=Dt[Lt];if((Vt.route.HydrateFallback||Vt.route.hydrateFallbackElement)&&(jt=Lt),Vt.route.id){let{loaderData:er,errors:ir}=at,or=Vt.route.loader&&er[Vt.route.id]===void 0&&(!ir||ir[Vt.route.id]===void 0);if(Vt.route.lazy||or){Nt=!0,jt>=0?Dt=Dt.slice(0,jt+1):Dt=[Dt[0]];break}}}return Dt.reduceRight((Lt,Vt,er)=>{let ir,or=!1,lr=null,dr=null;at&&(ir=Ft&&Vt.route.id?Ft[Vt.route.id]:void 0,lr=Vt.route.errorElement||defaultErrorElement,Nt&&(jt<0&&er===0?(or=!0,dr=null):jt===er&&(or=!0,dr=Vt.route.hydrateFallbackElement||null)));let pr=et.concat(Dt.slice(0,er+1)),hr=()=>{let vr;return ir?vr=lr:or?vr=dr:Vt.route.Component?vr=reactExports.createElement(Vt.route.Component,null):Vt.route.element?vr=Vt.route.element:vr=Lt,reactExports.createElement(RenderedRoute,{match:Vt,routeContext:{outlet:Lt,matches:pr,isDataRoute:at!=null},children:vr})};return at&&(Vt.route.ErrorBoundary||Vt.route.errorElement||er===0)?reactExports.createElement(RenderErrorBoundary,{location:at.location,revalidation:at.revalidation,component:lr,error:ir,children:hr(),routeContext:{outlet:null,matches:pr,isDataRoute:!0}}):hr()},null)}var DataRouterHook$1=function(nt){return nt.UseBlocker="useBlocker",nt.UseRevalidator="useRevalidator",nt.UseNavigateStable="useNavigate",nt}(DataRouterHook$1||{}),DataRouterStateHook$1=function(nt){return nt.UseBlocker="useBlocker",nt.UseLoaderData="useLoaderData",nt.UseActionData="useActionData",nt.UseRouteError="useRouteError",nt.UseNavigation="useNavigation",nt.UseRouteLoaderData="useRouteLoaderData",nt.UseMatches="useMatches",nt.UseRevalidator="useRevalidator",nt.UseNavigateStable="useNavigate",nt.UseRouteId="useRouteId",nt}(DataRouterStateHook$1||{});function useDataRouterContext(nt){let et=reactExports.useContext(DataRouterContext);return et||invariant$R(!1),et}function useDataRouterState(nt){let et=reactExports.useContext(DataRouterStateContext);return et||invariant$R(!1),et}function useRouteContext(nt){let et=reactExports.useContext(RouteContext);return et||invariant$R(!1),et}function useCurrentRouteId(nt){let et=useRouteContext(),at=et.matches[et.matches.length-1];return at.route.id||invariant$R(!1),at.route.id}function useRouteError(){var nt;let et=reactExports.useContext(RouteErrorContext),at=useDataRouterState(DataRouterStateHook$1.UseRouteError),mt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et!==void 0?et:(nt=at.errors)==null?void 0:nt[mt]}function useNavigateStable(){let{router:nt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),et=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),at=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{at.current=!0}),reactExports.useCallback(function($t,Ct){Ct===void 0&&(Ct={}),at.current&&(typeof $t=="number"?nt.navigate($t):nt.navigate($t,_extends$2({fromRouteId:et},Ct)))},[nt,et])}const alreadyWarned={};function warnOnce(nt,et){alreadyWarned[et]||(alreadyWarned[et]=!0,console.warn(et))}const logDeprecation=(nt,et,at)=>warnOnce(nt,"⚠️ React Router Future Flag Warning: "+et+". "+("You can use the `"+nt+"` future flag to opt-in early. ")+("For more information, see "+at+"."));function logV6DeprecationWarnings(nt,et){nt!=null&&nt.v7_startTransition||logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(nt!=null&&nt.v7_relativeSplatPath)&&(!et||!et.v7_relativeSplatPath)&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),et&&(et.v7_fetcherPersist||logDeprecation("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),et.v7_normalizeFormMethod||logDeprecation("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),et.v7_partialHydration||logDeprecation("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),et.v7_skipActionErrorRevalidation||logDeprecation("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Navigate(nt){let{to:et,replace:at,state:mt,relative:$t}=nt;useInRouterContext()||invariant$R(!1);let{future:Ct,static:Dt}=reactExports.useContext(NavigationContext),{matches:Ft}=reactExports.useContext(RouteContext),{pathname:Nt}=useLocation(),jt=useNavigate(),Lt=resolveTo(et,getResolveToMatches(Ft,Ct.v7_relativeSplatPath),Nt,$t==="path"),Vt=JSON.stringify(Lt);return reactExports.useEffect(()=>jt(JSON.parse(Vt),{replace:at,state:mt,relative:$t}),[jt,Vt,$t,at,mt]),null}function Outlet(nt){return useOutlet(nt.context)}function Router(nt){let{basename:et="/",children:at=null,location:mt,navigationType:$t=Action$1.Pop,navigator:Ct,static:Dt=!1,future:Ft}=nt;useInRouterContext()&&invariant$R(!1);let Nt=et.replace(/^\/*/,"/"),jt=reactExports.useMemo(()=>({basename:Nt,navigator:Ct,static:Dt,future:_extends$2({v7_relativeSplatPath:!1},Ft)}),[Nt,Ft,Ct,Dt]);typeof mt=="string"&&(mt=parsePath(mt));let{pathname:Lt="/",search:Vt="",hash:er="",state:ir=null,key:or="default"}=mt,lr=reactExports.useMemo(()=>{let dr=stripBasename(Lt,Nt);return dr==null?null:{location:{pathname:dr,search:Vt,hash:er,state:ir,key:or},navigationType:$t}},[Nt,Lt,Vt,er,ir,or,$t]);return lr==null?null:reactExports.createElement(NavigationContext.Provider,{value:jt},reactExports.createElement(LocationContext.Provider,{children:at,value:lr}))}new Promise(()=>{});function mapRouteProperties(nt){let et={hasErrorBoundary:nt.ErrorBoundary!=null||nt.errorElement!=null};return nt.Component&&Object.assign(et,{element:reactExports.createElement(nt.Component),Component:void 0}),nt.HydrateFallback&&Object.assign(et,{hydrateFallbackElement:reactExports.createElement(nt.HydrateFallback),HydrateFallback:void 0}),nt.ErrorBoundary&&Object.assign(et,{errorElement:reactExports.createElement(nt.ErrorBoundary),ErrorBoundary:void 0}),et}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et];for(var mt in at)Object.prototype.hasOwnProperty.call(at,mt)&&(nt[mt]=at[mt])}return nt},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(nt,et){if(nt==null)return{};var at={},mt=Object.keys(nt),$t,Ct;for(Ct=0;Ct<mt.length;Ct++)$t=mt[Ct],!(et.indexOf($t)>=0)&&(at[$t]=nt[$t]);return at}function isModifiedEvent(nt){return!!(nt.metaKey||nt.altKey||nt.ctrlKey||nt.shiftKey)}function shouldProcessLinkClick(nt,et){return nt.button===0&&(!et||et==="_self")&&!isModifiedEvent(nt)}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch(nt){}function createBrowserRouter(nt,et){return createRouter({basename:void 0,future:_extends$1({},void 0,{v7_prependBasename:!0}),history:createBrowserHistory({window:void 0}),hydrationData:parseHydrationData(),routes:nt,mapRouteProperties,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function parseHydrationData(){var nt;let et=(nt=window)==null?void 0:nt.__staticRouterHydrationData;return et&&et.errors&&(et=_extends$1({},et,{errors:deserializeErrors(et.errors)})),et}function deserializeErrors(nt){if(!nt)return null;let et=Object.entries(nt),at={};for(let[mt,$t]of et)if($t&&$t.__type==="RouteErrorResponse")at[mt]=new ErrorResponseImpl($t.status,$t.statusText,$t.data,$t.internal===!0);else if($t&&$t.__type==="Error"){if($t.__subType){let Ct=window[$t.__subType];if(typeof Ct=="function")try{let Dt=new Ct($t.message);Dt.stack="",at[mt]=Dt}catch{}}if(at[mt]==null){let Ct=new Error($t.message);Ct.stack="",at[mt]=Ct}}else at[mt]=$t;return at}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),FetchersContext=reactExports.createContext(new Map),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION],FLUSH_SYNC="flushSync",flushSyncImpl=ReactDOM$1[FLUSH_SYNC];function startTransitionSafe(nt){startTransitionImpl?startTransitionImpl(nt):nt()}function flushSyncSafe(nt){flushSyncImpl?flushSyncImpl(nt):nt()}class Deferred{constructor(){this.status="pending",this.promise=new Promise((et,at)=>{this.resolve=mt=>{this.status==="pending"&&(this.status="resolved",et(mt))},this.reject=mt=>{this.status==="pending"&&(this.status="rejected",at(mt))}})}}function RouterProvider(nt){let{fallbackElement:et,router:at,future:mt}=nt,[$t,Ct]=reactExports.useState(at.state),[Dt,Ft]=reactExports.useState(),[Nt,jt]=reactExports.useState({isTransitioning:!1}),[Lt,Vt]=reactExports.useState(),[er,ir]=reactExports.useState(),[or,lr]=reactExports.useState(),dr=reactExports.useRef(new Map),{v7_startTransition:pr}=mt||{},hr=reactExports.useCallback($r=>{pr?startTransitionSafe($r):$r()},[pr]),vr=reactExports.useCallback(($r,Cr)=>{let{deletedFetchers:kr,flushSync:gr,viewTransitionOpts:Ut}=Cr;kr.forEach(nr=>dr.current.delete(nr)),$r.fetchers.forEach((nr,rr)=>{nr.data!==void 0&&dr.current.set(rr,nr.data)});let tr=at.window==null||at.window.document==null||typeof at.window.document.startViewTransition!="function";if(!Ut||tr){gr?flushSyncSafe(()=>Ct($r)):hr(()=>Ct($r));return}if(gr){flushSyncSafe(()=>{er&&(Lt&&Lt.resolve(),er.skipTransition()),jt({isTransitioning:!0,flushSync:!0,currentLocation:Ut.currentLocation,nextLocation:Ut.nextLocation})});let nr=at.window.document.startViewTransition(()=>{flushSyncSafe(()=>Ct($r))});nr.finished.finally(()=>{flushSyncSafe(()=>{Vt(void 0),ir(void 0),Ft(void 0),jt({isTransitioning:!1})})}),flushSyncSafe(()=>ir(nr));return}er?(Lt&&Lt.resolve(),er.skipTransition(),lr({state:$r,currentLocation:Ut.currentLocation,nextLocation:Ut.nextLocation})):(Ft($r),jt({isTransitioning:!0,flushSync:!1,currentLocation:Ut.currentLocation,nextLocation:Ut.nextLocation}))},[at.window,er,Lt,dr,hr]);reactExports.useLayoutEffect(()=>at.subscribe(vr),[at,vr]),reactExports.useEffect(()=>{Nt.isTransitioning&&!Nt.flushSync&&Vt(new Deferred)},[Nt]),reactExports.useEffect(()=>{if(Lt&&Dt&&at.window){let $r=Dt,Cr=Lt.promise,kr=at.window.document.startViewTransition(async()=>{hr(()=>Ct($r)),await Cr});kr.finished.finally(()=>{Vt(void 0),ir(void 0),Ft(void 0),jt({isTransitioning:!1})}),ir(kr)}},[hr,Dt,Lt,at.window]),reactExports.useEffect(()=>{Lt&&Dt&&$t.location.key===Dt.location.key&&Lt.resolve()},[Lt,er,$t.location,Dt]),reactExports.useEffect(()=>{!Nt.isTransitioning&&or&&(Ft(or.state),jt({isTransitioning:!0,flushSync:!1,currentLocation:or.currentLocation,nextLocation:or.nextLocation}),lr(void 0))},[Nt.isTransitioning,or]),reactExports.useEffect(()=>{},[]);let br=reactExports.useMemo(()=>({createHref:at.createHref,encodeLocation:at.encodeLocation,go:$r=>at.navigate($r),push:($r,Cr,kr)=>at.navigate($r,{state:Cr,preventScrollReset:kr==null?void 0:kr.preventScrollReset}),replace:($r,Cr,kr)=>at.navigate($r,{replace:!0,state:Cr,preventScrollReset:kr==null?void 0:kr.preventScrollReset})}),[at]),xr=at.basename||"/",Sr=reactExports.useMemo(()=>({router:at,navigator:br,static:!1,basename:xr}),[at,br,xr]),Er=reactExports.useMemo(()=>({v7_relativeSplatPath:at.future.v7_relativeSplatPath}),[at.future.v7_relativeSplatPath]);return reactExports.useEffect(()=>logV6DeprecationWarnings(mt,at.future),[mt,at.future]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:Sr},reactExports.createElement(DataRouterStateContext.Provider,{value:$t},reactExports.createElement(FetchersContext.Provider,{value:dr.current},reactExports.createElement(ViewTransitionContext.Provider,{value:Nt},reactExports.createElement(Router,{basename:xr,location:$t.location,navigationType:$t.historyAction,navigator:br,future:Er},$t.initialized||at.future.v7_partialHydration?reactExports.createElement(MemoizedDataRoutes,{routes:at.routes,future:at.future,state:$t}):et))))),null)}const MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes(nt){let{routes:et,future:at,state:mt}=nt;return useRoutesImpl(et,void 0,mt,at)}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function nt(et,at){let{onClick:mt,relative:$t,reloadDocument:Ct,replace:Dt,state:Ft,target:Nt,to:jt,preventScrollReset:Lt,viewTransition:Vt}=et,er=_objectWithoutPropertiesLoose$1(et,_excluded$2),{basename:ir}=reactExports.useContext(NavigationContext),or,lr=!1;if(typeof jt=="string"&&ABSOLUTE_URL_REGEX.test(jt)&&(or=jt,isBrowser$3))try{let vr=new URL(window.location.href),br=jt.startsWith("//")?new URL(vr.protocol+jt):new URL(jt),xr=stripBasename(br.pathname,ir);br.origin===vr.origin&&xr!=null?jt=xr+br.search+br.hash:lr=!0}catch{}let dr=useHref(jt,{relative:$t}),pr=useLinkClickHandler(jt,{replace:Dt,state:Ft,target:Nt,preventScrollReset:Lt,relative:$t,viewTransition:Vt});function hr(vr){mt&&mt(vr),vr.defaultPrevented||pr(vr)}return reactExports.createElement("a",_extends$1({},er,{href:or||dr,onClick:lr||Ct?mt:hr,ref:at,target:Nt}))});var DataRouterHook;(function(nt){nt.UseScrollRestoration="useScrollRestoration",nt.UseSubmit="useSubmit",nt.UseSubmitFetcher="useSubmitFetcher",nt.UseFetcher="useFetcher",nt.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(nt){nt.UseFetcher="useFetcher",nt.UseFetchers="useFetchers",nt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(nt,et){let{target:at,replace:mt,state:$t,preventScrollReset:Ct,relative:Dt,viewTransition:Ft}=et===void 0?{}:et,Nt=useNavigate(),jt=useLocation(),Lt=useResolvedPath(nt,{relative:Dt});return reactExports.useCallback(Vt=>{if(shouldProcessLinkClick(Vt,at)){Vt.preventDefault();let er=mt!==void 0?mt:createPath(jt)===createPath(Lt);Nt(nt,{replace:er,state:$t,preventScrollReset:Ct,relative:Dt,viewTransition:Ft})}},[jt,Nt,Lt,mt,$t,at,nt,Ct,Dt,Ft])}const scriptRel="modulepreload",assetsURL=function(nt){return"/"+nt},seen={},__vitePreload=function nt(et,at,mt){let $t=Promise.resolve();if(at&&at.length>0){document.getElementsByTagName("link");const Dt=document.querySelector("meta[property=csp-nonce]"),Ft=(Dt==null?void 0:Dt.nonce)||(Dt==null?void 0:Dt.getAttribute("nonce"));$t=Promise.allSettled(at.map(Nt=>{if(Nt=assetsURL(Nt),Nt in seen)return;seen[Nt]=!0;const jt=Nt.endsWith(".css"),Lt=jt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Nt}"]${Lt}`))return;const Vt=document.createElement("link");if(Vt.rel=jt?"stylesheet":scriptRel,jt||(Vt.as="script"),Vt.crossOrigin="",Vt.href=Nt,Ft&&Vt.setAttribute("nonce",Ft),document.head.appendChild(Vt),jt)return new Promise((er,ir)=>{Vt.addEventListener("load",er),Vt.addEventListener("error",()=>ir(new Error(`Unable to preload CSS for ${Nt}`)))})}))}function Ct(Dt){const Ft=new Event("vite:preloadError",{cancelable:!0});if(Ft.payload=Dt,window.dispatchEvent(Ft),!Ft.defaultPrevented)throw Dt}return $t.then(Dt=>{for(const Ft of Dt||[])Ft.status==="rejected"&&Ct(Ft.reason);return et().catch(Ct)})},GeneralLoading=()=>{const nt=reactExports.useRef(null);return reactExports.useEffect(()=>{if(nt.current){const et=nt.current.style;et.setProperty("--size-loader","50px"),et.setProperty("--size-orbe","10px")}},[]),jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",background:"#161616",position:"relative"},children:jsxRuntimeExports.jsx("div",{ref:nt,style:{width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px"},children:jsxRuntimeExports.jsx("img",{src:"/images/img-bg-loading.gif",alt:"icon",style:{width:"100px",height:"100px"}})})})},store$c=(nt,et)=>({showConvertModel:!0,phaseDividendInfoMap:{},dividendManager:void 0,XCetusManager:void 0,dividendRewardList:[],lockCetusListLoading:!1,veNFT:void 0,veNFTLoading:!1,lockCetusList:[],owner:"",setVeNFTLoading:at=>{nt(()=>({veNFTLoading:at}))},setVeNFT:(at,mt)=>{nt(()=>({veNFT:at,owner:mt}))},setLockCetusList:at=>{console.log("🚀 ~ list:",at),nt(()=>({lockCetusList:[...at]}))},setLockCetusListLoading:at=>{nt(()=>({lockCetusListLoading:at}))},setXCetusManager:at=>{nt(()=>({XCetusManager:at}))},setDividendManager:at=>{nt(()=>({dividendManager:at}))},setDividendRewardList:at=>{nt(()=>({dividendRewardList:at}))},setPhaseDividendInfoMap:at=>{const mt=et().phaseDividendInfoMap;mt[at.phase]=at,nt(()=>({phaseDividendInfoMap:{...mt}}))},setShowConvertModel:at=>{nt(()=>({showConvertModel:at}))},clearData:()=>{nt(()=>({veNFT:void 0,owner:"",lockCetusList:[],lockCetusListLoading:!1,veNFTLoading:!1,dividendRewardList:[]}))}}),useXCetusStore=create$3(persist(store$c,{name:"useXCetusStore",partialize:nt=>{const{owner:et,veNFT:at,lockCetusList:mt,XCetusManager:$t,dividendManager:Ct,phaseDividendInfoMap:Dt,showConvertModel:Ft}=nt;return{owner:et,veNFT:at,lockCetusList:mt,XCetusManager:$t,dividendManager:Ct,phaseDividendInfoMap:Dt,showConvertModel:Ft}}}));function useDebounceFunction(nt,et=1e3){const at=reactExports.useRef(),mt=reactExports.useCallback((...$t)=>{at.current&&clearTimeout(at.current),at.current=setTimeout(()=>{nt(...$t)},et)},[nt,et]);return reactExports.useEffect(()=>()=>{at.current&&clearTimeout(at.current)},[]),mt}function useWindowWidth(){const[nt,et]=reactExports.useState(window.innerWidth),at=useDebounceFunction(()=>{et(window.innerWidth)},300);reactExports.useEffect(()=>(window.addEventListener("resize",at),()=>{window.removeEventListener("resize",at)}),[]);const mt=reactExports.useMemo(()=>nt<810,[nt]);return{windowWidth:nt,isApp:mt}}function addDomEvent$1(nt,et,at,mt){return nt.addEventListener(et,at,mt),()=>{nt.removeEventListener(et,at,mt)}}function isHTMLElement$2(nt){return nt!=null&&typeof nt=="object"&&"nodeType"in nt&&nt.nodeType===Node.ELEMENT_NODE}function isBrowser$2(){return!!(globalThis!=null&&globalThis.document)}function isHiddenElement(nt){return nt.parentElement&&isHiddenElement(nt.parentElement)?!0:nt.hidden}function isContentEditableElement(nt){const et=nt.getAttribute("contenteditable");return et!=="false"&&et!=null}function isDisabledElement(nt){return!!nt.getAttribute("disabled")||!!nt.getAttribute("aria-disabled")}function getOwnerWindow(nt){var et;return((et=getOwnerDocument$2(nt))==null?void 0:et.defaultView)??window}function getOwnerDocument$2(nt){return isHTMLElement$2(nt)?nt.ownerDocument:document}function getEventWindow(nt){return nt.view??window}function getActiveElement$1(nt){return getOwnerDocument$2(nt).activeElement}function isMouseEvent(nt){const et=getEventWindow(nt);return typeof et.PointerEvent<"u"&&nt instanceof et.PointerEvent?nt.pointerType==="mouse":nt instanceof et.MouseEvent}function isTouchEvent(nt){return!!nt.touches}function isMultiTouchEvent(nt){return isTouchEvent(nt)&&nt.touches.length>1}function pointFromTouch(nt,et="page"){const at=nt.touches[0]||nt.changedTouches[0];return{x:at[`${et}X`],y:at[`${et}Y`]}}function pointFromMouse(nt,et="page"){return{x:nt[`${et}X`],y:nt[`${et}Y`]}}function getEventPoint(nt,et="page"){return isTouchEvent(nt)?pointFromTouch(nt,et):pointFromMouse(nt,et)}function filter$2(nt){return et=>{const at=isMouseEvent(et);(!at||at&&et.button===0)&&nt(et)}}function wrap$1(nt,et=!1){function at($t){nt($t,{point:getEventPoint($t)})}return et?filter$2(at):at}function addPointerEvent$1(nt,et,at,mt){return addDomEvent$1(nt,et,wrap$1(at,et==="pointerdown"),mt)}function assignAfter(nt,...et){if(nt==null)throw new TypeError("Cannot convert undefined or null to object");const at={...nt};for(const mt of et)if(mt!=null)for(const $t in mt)Object.prototype.hasOwnProperty.call(mt,$t)&&($t in at&&delete at[$t],at[$t]=mt[$t]);return at}const dataAttr=nt=>nt?"":void 0,ariaAttr=nt=>nt?!0:void 0;function isArray$2(nt){return Array.isArray(nt)}function isObject$3(nt){const et=typeof nt;return nt!=null&&(et==="object"||et==="function")&&!isArray$2(nt)}function getLastItem(nt){const et=nt==null?0:nt.length;return et?nt[et-1]:void 0}function analyzeCSSValue$1(nt){const et=parseFloat(nt.toString()),at=nt.toString().replace(String(et),"");return{unitless:!at,value:et,unit:at}}function px$1(nt){if(nt==null)return nt;const{unitless:et}=analyzeCSSValue$1(nt);return et||typeof nt=="number"?`${nt}px`:nt}const sortByBreakpointValue=(nt,et)=>parseInt(nt[1],10)>parseInt(et[1],10)?1:-1,sortBps=nt=>Object.fromEntries(Object.entries(nt).sort(sortByBreakpointValue));function normalize$4(nt){const et=sortBps(nt);return Object.assign(Object.values(et),et)}function keys$1(nt){const et=Object.keys(sortBps(nt));return new Set(et)}function subtract$4(nt){if(!nt)return nt;nt=px$1(nt)??nt;const et=-.02;return typeof nt=="number"?`${nt+et}`:nt.replace(/(\d+\.?\d*)/u,at=>`${parseFloat(at)+et}`)}function toMediaQueryString(nt,et){const at=["@media screen"];return nt&&at.push("and",`(min-width: ${px$1(nt)})`),et&&at.push("and",`(max-width: ${px$1(et)})`),at.join(" ")}function analyzeBreakpoints(nt){if(!nt)return null;nt.base=nt.base??"0px";const et=normalize$4(nt),at=Object.entries(nt).sort(sortByBreakpointValue).map(([Ct,Dt],Ft,Nt)=>{let[,jt]=Nt[Ft+1]??[];return jt=parseFloat(jt)>0?subtract$4(jt):void 0,{_minW:subtract$4(Dt),breakpoint:Ct,minW:Dt,maxW:jt,maxWQuery:toMediaQueryString(null,jt),minWQuery:toMediaQueryString(Dt),minMaxQuery:toMediaQueryString(Dt,jt)}}),mt=keys$1(nt),$t=Array.from(mt.values());return{keys:mt,normalized:et,isResponsive(Ct){const Dt=Object.keys(Ct);return Dt.length>0&&Dt.every(Ft=>mt.has(Ft))},asObject:sortBps(nt),asArray:normalize$4(nt),details:at,get(Ct){return at.find(Dt=>Dt.breakpoint===Ct)},media:[null,...et.map(Ct=>toMediaQueryString(Ct)).slice(1)],toArrayValue(Ct){if(!isObject$3(Ct))throw new Error("toArrayValue: value must be an object");const Dt=$t.map(Ft=>Ct[Ft]??null);for(;getLastItem(Dt)===null;)Dt.pop();return Dt},toObjectValue(Ct){if(!Array.isArray(Ct))throw new Error("toObjectValue: value must be an array");return Ct.reduce((Dt,Ft,Nt)=>{const jt=$t[Nt];return jt!=null&&Ft!=null&&(Dt[jt]=Ft),Dt},{})}}}function callAll(...nt){return function(...at){nt.forEach(mt=>mt==null?void 0:mt(...at))}}function callAllHandlers(...nt){return function(at){nt.some(mt=>(mt==null||mt(at),at==null?void 0:at.defaultPrevented))}}function getValidChildren(nt){return reactExports.Children.toArray(nt).filter(et=>reactExports.isValidElement(et))}function compact(nt){const et=Object.assign({},nt);for(let at in et)et[at]===void 0&&delete et[at];return et}function getErrorMessage(nt,et){return`${nt} returned \`undefined\`. Seems you forgot to wrap component within ${et}`}function createContext(nt={}){const{name:et,strict:at=!0,hookName:mt="useContext",providerName:$t="Provider",errorMessage:Ct,defaultValue:Dt}=nt,Ft=reactExports.createContext(Dt);Ft.displayName=et;function Nt(){var Lt;const jt=reactExports.useContext(Ft);if(!jt&&at){const Vt=new Error(Ct??getErrorMessage(mt,$t));throw Vt.name="ContextError",(Lt=Error.captureStackTrace)==null||Lt.call(Error,Vt,Nt),Vt}return jt}return[Ft.Provider,Nt,Ft]}const cx=(...nt)=>nt.filter(Boolean).join(" "),hasTabIndex=nt=>nt.hasAttribute("tabindex"),hasNegativeTabIndex=nt=>hasTabIndex(nt)&&nt.tabIndex===-1;function isFocusable(nt){if(!isHTMLElement$2(nt)||isHiddenElement(nt)||isDisabledElement(nt))return!1;const{localName:et}=nt;if(["input","select","textarea","button"].indexOf(et)>=0)return!0;const mt={a:()=>nt.hasAttribute("href"),audio:()=>nt.hasAttribute("controls"),video:()=>nt.hasAttribute("controls")};return et in mt?mt[et]():isContentEditableElement(nt)?!0:hasTabIndex(nt)}function isTabbable(nt){return nt?isHTMLElement$2(nt)&&isFocusable(nt)&&!hasNegativeTabIndex(nt):!1}const focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=nt=>nt.offsetWidth>0&&nt.offsetHeight>0;function getAllFocusable(nt){const et=Array.from(nt.querySelectorAll(focusableElSelector));return et.unshift(nt),et.filter(at=>isFocusable(at)&&isVisible(at))}function get$3(nt,et,at,mt){const $t=typeof et=="string"?et.split("."):[et];for(mt=0;mt<$t.length&&nt;mt+=1)nt=nt[$t[mt]];return nt===void 0?at:nt}const memoize$3=nt=>{const et=new WeakMap;return(mt,$t,Ct,Dt)=>{if(typeof mt>"u")return nt(mt,$t,Ct);et.has(mt)||et.set(mt,new Map);const Ft=et.get(mt);if(Ft.has($t))return Ft.get($t);const Nt=nt(mt,$t,Ct,Dt);return Ft.set($t,Nt),Nt}},memoizedGet$1=memoize$3(get$3),interopDefault=nt=>nt.default||nt;function lazyDisclosure(nt){const{wasSelected:et,enabled:at,isSelected:mt,mode:$t="unmount"}=nt;return!!(!at||mt||$t==="keepMounted"&&et)}function toNumber(nt){const et=parseFloat(nt);return typeof et!="number"||Number.isNaN(et)?0:et}function toPrecision(nt,et){let at=toNumber(nt);const mt=10**(et??10);return at=Math.round(at*mt)/mt,et?at.toFixed(et):at.toString()}function countDecimalPlaces(nt){if(!Number.isFinite(nt))return 0;let et=1,at=0;for(;Math.round(nt*et)/et!==nt;)et*=10,at+=1;return at}function valueToPercent(nt,et,at){return(nt-et)*100/(at-et)}function percentToValue(nt,et,at){return(at-et)*nt+et}function roundValueToStep(nt,et,at){const mt=Math.round((nt-et)/at)*at+et,$t=countDecimalPlaces(at);return toPrecision(mt,$t)}function clampValue(nt,et,at){return nt==null?nt:(at<et&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(nt,et),at))}function omit(nt,et=[]){const at=Object.assign({},nt);for(const mt of et)mt in at&&delete at[mt];return at}function pick(nt,et){const at={};for(const mt of et)mt in nt&&(at[mt]=nt[mt]);return at}function mapResponsive(nt,et){return Array.isArray(nt)?nt.map(at=>at===null?null:et(at)):isObject$3(nt)?Object.keys(nt).reduce((at,mt)=>(at[mt]=et(nt[mt]),at),{}):nt!=null?et(nt):null}const isFunction$4=nt=>typeof nt=="function";function runIfFn$1(nt,...et){return isFunction$4(nt)?nt(...et):nt}function isScrollParent$1(nt){const et=nt.ownerDocument.defaultView||window,{overflow:at,overflowX:mt,overflowY:$t}=et.getComputedStyle(nt);return/auto|scroll|overlay|hidden/.test(at+$t+mt)}function getParent(nt){return nt.localName==="html"?nt:nt.assignedSlot||nt.parentElement||nt.ownerDocument.documentElement}function getScrollParent$1(nt){return["html","body","#document"].includes(nt.localName)?nt.ownerDocument.body:isHTMLElement$2(nt)&&isScrollParent$1(nt)?nt:getScrollParent$1(getParent(nt))}function splitProps(nt,...et){const at=Object.getOwnPropertyDescriptors(nt),mt=Object.keys(at),$t=Dt=>{const Ft={};for(let Nt=0;Nt<Dt.length;Nt++){const jt=Dt[Nt];at[jt]&&(Object.defineProperty(Ft,jt,at[jt]),delete at[jt])}return Ft},Ct=Dt=>$t(Array.isArray(Dt)?Dt:mt.filter(Dt));return et.map(Ct).concat($t(mt))}function walkObject(nt,et,at={}){const{stop:mt,getKey:$t}=at;function Ct(Dt,Ft=[]){if(isObject$3(Dt)||Array.isArray(Dt)){const Nt={};for(const[jt,Lt]of Object.entries(Dt)){const Vt=($t==null?void 0:$t(jt))??jt,er=[...Ft,Vt];if(mt!=null&&mt(Dt,er))return et(Dt,Ft);Nt[Vt]=Ct(Lt,er)}return Nt}return et(Dt,Ft)}return Ct(nt)}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(nt,et){var at=200,mt="__lodash_hash_undefined__",$t=800,Ct=16,Dt=9007199254740991,Ft="[object Arguments]",Nt="[object Array]",jt="[object AsyncFunction]",Lt="[object Boolean]",Vt="[object Date]",er="[object Error]",ir="[object Function]",or="[object GeneratorFunction]",lr="[object Map]",dr="[object Number]",pr="[object Null]",hr="[object Object]",vr="[object Proxy]",br="[object RegExp]",xr="[object Set]",Sr="[object String]",Er="[object Undefined]",$r="[object WeakMap]",Cr="[object ArrayBuffer]",kr="[object DataView]",gr="[object Float32Array]",Ut="[object Float64Array]",tr="[object Int8Array]",nr="[object Int16Array]",rr="[object Int32Array]",ar="[object Uint8Array]",cr="[object Uint8ClampedArray]",fr="[object Uint16Array]",sr="[object Uint32Array]",Yt=/[\\^$.*+?()[\]{}|]/g,ur=/^\[object .+?Constructor\]$/,_r=/^(?:0|[1-9]\d*)$/,yr={};yr[gr]=yr[Ut]=yr[tr]=yr[nr]=yr[rr]=yr[ar]=yr[cr]=yr[fr]=yr[sr]=!0,yr[Ft]=yr[Nt]=yr[Cr]=yr[Lt]=yr[kr]=yr[Vt]=yr[er]=yr[ir]=yr[lr]=yr[dr]=yr[hr]=yr[br]=yr[xr]=yr[Sr]=yr[$r]=!1;var wr=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,Ir=typeof self=="object"&&self&&self.Object===Object&&self,Or=wr||Ir||Function("return this")(),Ar=et&&!et.nodeType&&et,Nr=Ar&&!0&&nt&&!nt.nodeType&&nt,Hr=Nr&&Nr.exports===Ar,Pr=Hr&&wr.process,Dr=function(){try{var Wn=Nr&&Nr.require&&Nr.require("util").types;return Wn||Pr&&Pr.binding&&Pr.binding("util")}catch{}}(),Rr=Dr&&Dr.isTypedArray;function Vr(Wn,$a,fo){switch(fo.length){case 0:return Wn.call($a);case 1:return Wn.call($a,fo[0]);case 2:return Wn.call($a,fo[0],fo[1]);case 3:return Wn.call($a,fo[0],fo[1],fo[2])}return Wn.apply($a,fo)}function an(Wn,$a){for(var fo=-1,Vo=Array(Wn);++fo<Wn;)Vo[fo]=$a(fo);return Vo}function Xr(Wn){return function($a){return Wn($a)}}function Jr(Wn,$a){return Wn==null?void 0:Wn[$a]}function Zr(Wn,$a){return function(fo){return Wn($a(fo))}}var Gr=Array.prototype,zr=Function.prototype,Dn=Object.prototype,Qr=Or["__core-js_shared__"],Un=zr.toString,ro=Dn.hasOwnProperty,Hn=function(){var Wn=/[^.]+$/.exec(Qr&&Qr.keys&&Qr.keys.IE_PROTO||"");return Wn?"Symbol(src)_1."+Wn:""}(),Qn=Dn.toString,$o=Un.call(Object),Kn=RegExp("^"+Un.call(ro).replace(Yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_i=Hr?Or.Buffer:void 0,Lo=Or.Symbol,jr=Or.Uint8Array;_i&&_i.allocUnsafe;var Tr=Zr(Object.getPrototypeOf,Object),Fr=Object.create,Wr=Dn.propertyIsEnumerable,sn=Gr.splice,Jn=Lo?Lo.toStringTag:void 0,Nn=function(){try{var Wn=mo(Object,"defineProperty");return Wn({},"",{}),Wn}catch{}}(),Zn=_i?_i.isBuffer:void 0,Io=Math.max,ga=Date.now,ba=mo(Or,"Map"),Bo=mo(Object,"create"),io=function(){function Wn(){}return function($a){if(!Pl($a))return{};if(Fr)return Fr($a);Wn.prototype=$a;var fo=new Wn;return Wn.prototype=void 0,fo}}();function so(Wn){var $a=-1,fo=Wn==null?0:Wn.length;for(this.clear();++$a<fo;){var Vo=Wn[$a];this.set(Vo[0],Vo[1])}}function zo(){this.__data__=Bo?Bo(null):{},this.size=0}function eo(Wn){var $a=this.has(Wn)&&delete this.__data__[Wn];return this.size-=$a?1:0,$a}function oo(Wn){var $a=this.__data__;if(Bo){var fo=$a[Wn];return fo===mt?void 0:fo}return ro.call($a,Wn)?$a[Wn]:void 0}function Ho(Wn){var $a=this.__data__;return Bo?$a[Wn]!==void 0:ro.call($a,Wn)}function no(Wn,$a){var fo=this.__data__;return this.size+=this.has(Wn)?0:1,fo[Wn]=Bo&&$a===void 0?mt:$a,this}so.prototype.clear=zo,so.prototype.delete=eo,so.prototype.get=oo,so.prototype.has=Ho,so.prototype.set=no;function ao(Wn){var $a=-1,fo=Wn==null?0:Wn.length;for(this.clear();++$a<fo;){var Vo=Wn[$a];this.set(Vo[0],Vo[1])}}function Gn(){this.__data__=[],this.size=0}function dn(Wn){var $a=this.__data__,fo=ko($a,Wn);if(fo<0)return!1;var Vo=$a.length-1;return fo==Vo?$a.pop():sn.call($a,fo,1),--this.size,!0}function Ln(Wn){var $a=this.__data__,fo=ko($a,Wn);return fo<0?void 0:$a[fo][1]}function Br(Wn){return ko(this.__data__,Wn)>-1}function Lr(Wn,$a){var fo=this.__data__,Vo=ko(fo,Wn);return Vo<0?(++this.size,fo.push([Wn,$a])):fo[Vo][1]=$a,this}ao.prototype.clear=Gn,ao.prototype.delete=dn,ao.prototype.get=Ln,ao.prototype.has=Br,ao.prototype.set=Lr;function qr(Wn){var $a=-1,fo=Wn==null?0:Wn.length;for(this.clear();++$a<fo;){var Vo=Wn[$a];this.set(Vo[0],Vo[1])}}function Mr(){this.size=0,this.__data__={hash:new so,map:new(ba||ao),string:new so}}function Ur(Wn){var $a=$n(this,Wn).delete(Wn);return this.size-=$a?1:0,$a}function rn(Wn){return $n(this,Wn).get(Wn)}function zn(Wn){return $n(this,Wn).has(Wn)}function pn(Wn,$a){var fo=$n(this,Wn),Vo=fo.size;return fo.set(Wn,$a),this.size+=fo.size==Vo?0:1,this}qr.prototype.clear=Mr,qr.prototype.delete=Ur,qr.prototype.get=rn,qr.prototype.has=zn,qr.prototype.set=pn;function Vn(Wn){var $a=this.__data__=new ao(Wn);this.size=$a.size}function co(){this.__data__=new ao,this.size=0}function uo(Wn){var $a=this.__data__,fo=$a.delete(Wn);return this.size=$a.size,fo}function Eo(Wn){return this.__data__.get(Wn)}function ho(Wn){return this.__data__.has(Wn)}function Co(Wn,$a){var fo=this.__data__;if(fo instanceof ao){var Vo=fo.__data__;if(!ba||Vo.length<at-1)return Vo.push([Wn,$a]),this.size=++fo.size,this;fo=this.__data__=new qr(Vo)}return fo.set(Wn,$a),this.size=fo.size,this}Vn.prototype.clear=co,Vn.prototype.delete=uo,Vn.prototype.get=Eo,Vn.prototype.has=ho,Vn.prototype.set=Co;function Po(Wn,$a){var fo=Gl(Wn),Vo=!fo&&du(Wn),Qo=!fo&&!Vo&&Hu(Wn),ns=!fo&&!Vo&&!Qo&&Gu(Wn),ss=fo||Vo||Qo||ns,Jo=ss?an(Wn.length,String):[],ls=Jo.length;for(var Ps in Wn)ss&&(Ps=="length"||Qo&&(Ps=="offset"||Ps=="parent")||ns&&(Ps=="buffer"||Ps=="byteLength"||Ps=="byteOffset")||Ao(Ps,ls))||Jo.push(Ps);return Jo}function Fo(Wn,$a,fo){(fo!==void 0&&!Wl(Wn[$a],fo)||fo===void 0&&!($a in Wn))&&Mo(Wn,$a,fo)}function Do(Wn,$a,fo){var Vo=Wn[$a];(!(ro.call(Wn,$a)&&Wl(Vo,fo))||fo===void 0&&!($a in Wn))&&Mo(Wn,$a,fo)}function ko(Wn,$a){for(var fo=Wn.length;fo--;)if(Wl(Wn[fo][0],$a))return fo;return-1}function Mo(Wn,$a,fo){$a=="__proto__"&&Nn?Nn(Wn,$a,{configurable:!0,enumerable:!0,value:fo,writable:!0}):Wn[$a]=fo}var Oo=lo();function xo(Wn){return Wn==null?Wn===void 0?Er:pr:Jn&&Jn in Object(Wn)?go(Wn):Xo(Wn)}function Ro(Wn){return fu(Wn)&&xo(Wn)==Ft}function So(Wn){if(!Pl(Wn)||Wo(Wn))return!1;var $a=Cu(Wn)?Kn:ur;return $a.test(hs(Wn))}function po(Wn){return fu(Wn)&&Wu(Wn.length)&&!!yr[xo(Wn)]}function vo(Wn){if(!Pl(Wn))return Ko(Wn);var $a=Go(Wn),fo=[];for(var Vo in Wn)Vo=="constructor"&&($a||!ro.call(Wn,Vo))||fo.push(Vo);return fo}function wo(Wn,$a,fo,Vo,Qo){Wn!==$a&&Oo($a,function(ns,ss){if(Qo||(Qo=new Vn),Pl(ns))to(Wn,$a,ss,fo,wo,Vo,Qo);else{var Jo=Vo?Vo(rs(Wn,ss),ns,ss+"",Wn,$a,Qo):void 0;Jo===void 0&&(Jo=ns),Fo(Wn,ss,Jo)}},Ku)}function to(Wn,$a,fo,Vo,Qo,ns,ss){var Jo=rs(Wn,fo),ls=rs($a,fo),Ps=ss.get(ls);if(Ps){Fo(Wn,fo,Ps);return}var Cs=ns?ns(Jo,ls,fo+"",Wn,$a,ss):void 0,hu=Cs===void 0;if(hu){var Au=Gl(ls),Tu=!Au&&Hu(ls),Xu=!Au&&!Tu&&Gu(ls);Cs=ls,Au||Tu||Xu?Gl(Jo)?Cs=Jo:M0(Jo)?Cs=Yn(Jo):Tu?(hu=!1,Cs=Yr(ls)):Xu?(hu=!1,Cs=nn(ls)):Cs=[]:I0(ls)||du(ls)?(Cs=Jo,du(Jo)?Cs=P0(Jo):(!Pl(Jo)||Cu(Jo))&&(Cs=_o(ls))):hu=!1}hu&&(ss.set(ls,Cs),Qo(Cs,ls,Vo,ns,ss),ss.delete(ls)),Fo(Wn,fo,Cs)}function _a(Wn,$a){return ds(es(Wn,$a,Yu),Wn+"")}var yo=Nn?function(Wn,$a){return Nn(Wn,"toString",{configurable:!0,enumerable:!1,value:O0($a),writable:!0})}:Yu;function Yr(Wn,$a){return Wn.slice()}function Cn(Wn){var $a=new Wn.constructor(Wn.byteLength);return new jr($a).set(new jr(Wn)),$a}function nn(Wn,$a){var fo=Cn(Wn.buffer);return new Wn.constructor(fo,Wn.byteOffset,Wn.length)}function Yn(Wn,$a){var fo=-1,Vo=Wn.length;for($a||($a=Array(Vo));++fo<Vo;)$a[fo]=Wn[fo];return $a}function na(Wn,$a,fo,Vo){var Qo=!fo;fo||(fo={});for(var ns=-1,ss=$a.length;++ns<ss;){var Jo=$a[ns],ls=void 0;ls===void 0&&(ls=Wn[Jo]),Qo?Mo(fo,Jo,ls):Do(fo,Jo,ls)}return fo}function Xn(Wn){return _a(function($a,fo){var Vo=-1,Qo=fo.length,ns=Qo>1?fo[Qo-1]:void 0,ss=Qo>2?fo[2]:void 0;for(ns=Wn.length>3&&typeof ns=="function"?(Qo--,ns):void 0,ss&&qo(fo[0],fo[1],ss)&&(ns=Qo<3?void 0:ns,Qo=1),$a=Object($a);++Vo<Qo;){var Jo=fo[Vo];Jo&&Wn($a,Jo,Vo,ns)}return $a})}function lo(Wn){return function($a,fo,Vo){for(var Qo=-1,ns=Object($a),ss=Vo($a),Jo=ss.length;Jo--;){var ls=ss[++Qo];if(fo(ns[ls],ls,ns)===!1)break}return $a}}function $n(Wn,$a){var fo=Wn.__data__;return Uo($a)?fo[typeof $a=="string"?"string":"hash"]:fo.map}function mo(Wn,$a){var fo=Jr(Wn,$a);return So(fo)?fo:void 0}function go(Wn){var $a=ro.call(Wn,Jn),fo=Wn[Jn];try{Wn[Jn]=void 0;var Vo=!0}catch{}var Qo=Qn.call(Wn);return Vo&&($a?Wn[Jn]=fo:delete Wn[Jn]),Qo}function _o(Wn){return typeof Wn.constructor=="function"&&!Go(Wn)?io(Tr(Wn)):{}}function Ao(Wn,$a){var fo=typeof Wn;return $a=$a??Dt,!!$a&&(fo=="number"||fo!="symbol"&&_r.test(Wn))&&Wn>-1&&Wn%1==0&&Wn<$a}function qo(Wn,$a,fo){if(!Pl(fo))return!1;var Vo=typeof $a;return(Vo=="number"?$u(fo)&&Ao($a,fo.length):Vo=="string"&&$a in fo)?Wl(fo[$a],Wn):!1}function Uo(Wn){var $a=typeof Wn;return $a=="string"||$a=="number"||$a=="symbol"||$a=="boolean"?Wn!=="__proto__":Wn===null}function Wo(Wn){return!!Hn&&Hn in Wn}function Go(Wn){var $a=Wn&&Wn.constructor,fo=typeof $a=="function"&&$a.prototype||Dn;return Wn===fo}function Ko(Wn){var $a=[];if(Wn!=null)for(var fo in Object(Wn))$a.push(fo);return $a}function Xo(Wn){return Qn.call(Wn)}function es(Wn,$a,fo){return $a=Io($a===void 0?Wn.length-1:$a,0),function(){for(var Vo=arguments,Qo=-1,ns=Io(Vo.length-$a,0),ss=Array(ns);++Qo<ns;)ss[Qo]=Vo[$a+Qo];Qo=-1;for(var Jo=Array($a+1);++Qo<$a;)Jo[Qo]=Vo[Qo];return Jo[$a]=fo(ss),Vr(Wn,this,Jo)}}function rs(Wn,$a){if(!($a==="constructor"&&typeof Wn[$a]=="function")&&$a!="__proto__")return Wn[$a]}var ds=us(yo);function us(Wn){var $a=0,fo=0;return function(){var Vo=ga(),Qo=Ct-(Vo-fo);if(fo=Vo,Qo>0){if(++$a>=$t)return arguments[0]}else $a=0;return Wn.apply(void 0,arguments)}}function hs(Wn){if(Wn!=null){try{return Un.call(Wn)}catch{}try{return Wn+""}catch{}}return""}function Wl(Wn,$a){return Wn===$a||Wn!==Wn&&$a!==$a}var du=Ro(function(){return arguments}())?Ro:function(Wn){return fu(Wn)&&ro.call(Wn,"callee")&&!Wr.call(Wn,"callee")},Gl=Array.isArray;function $u(Wn){return Wn!=null&&Wu(Wn.length)&&!Cu(Wn)}function M0(Wn){return fu(Wn)&&$u(Wn)}var Hu=Zn||B0;function Cu(Wn){if(!Pl(Wn))return!1;var $a=xo(Wn);return $a==ir||$a==or||$a==jt||$a==vr}function Wu(Wn){return typeof Wn=="number"&&Wn>-1&&Wn%1==0&&Wn<=Dt}function Pl(Wn){var $a=typeof Wn;return Wn!=null&&($a=="object"||$a=="function")}function fu(Wn){return Wn!=null&&typeof Wn=="object"}function I0(Wn){if(!fu(Wn)||xo(Wn)!=hr)return!1;var $a=Tr(Wn);if($a===null)return!0;var fo=ro.call($a,"constructor")&&$a.constructor;return typeof fo=="function"&&fo instanceof fo&&Un.call(fo)==$o}var Gu=Rr?Xr(Rr):po;function P0(Wn){return na(Wn,Ku(Wn))}function Ku(Wn){return $u(Wn)?Po(Wn):vo(Wn)}var D0=Xn(function(Wn,$a,fo,Vo){wo(Wn,$a,fo,Vo)});function O0(Wn){return function(){return Wn}}function Yu(Wn){return Wn}function B0(){return!1}nt.exports=D0})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs$2(lodash_mergewithExports);function useCallbackRef(nt,et=[]){const at=reactExports.useRef(nt);return reactExports.useEffect(()=>{at.current=nt}),reactExports.useCallback((...mt)=>{var $t;return($t=at.current)==null?void 0:$t.call(at,...mt)},et)}function useEventListener(nt,et,at,mt){const $t=useCallbackRef(at);return reactExports.useEffect(()=>{const Ct=typeof nt=="function"?nt():nt??document;if(!(!at||!Ct))return Ct.addEventListener(et,$t,mt),()=>{Ct.removeEventListener(et,$t,mt)}},[et,nt,mt,$t,at]),()=>{const Ct=typeof nt=="function"?nt():nt??document;Ct==null||Ct.removeEventListener(et,$t,mt)}}function useAnimationState(nt){const{isOpen:et,ref:at}=nt,[mt,$t]=reactExports.useState(et),[Ct,Dt]=reactExports.useState(!1);return reactExports.useEffect(()=>{Ct||($t(et),Dt(!0))},[et,Ct,mt]),useEventListener(()=>at.current,"animationend",()=>{$t(et)}),{present:!(et?!1:!mt),onComplete(){var Lt;const Nt=getOwnerWindow(at.current),jt=new Nt.CustomEvent("animationend",{bubbles:!0});(Lt=at.current)==null||Lt.dispatchEvent(jt)}}}function useControllableState(nt){const{value:et,defaultValue:at,onChange:mt,shouldUpdate:$t=(er,ir)=>er!==ir}=nt,Ct=useCallbackRef(mt),Dt=useCallbackRef($t),[Ft,Nt]=reactExports.useState(at),jt=et!==void 0,Lt=jt?et:Ft,Vt=useCallbackRef(er=>{const or=typeof er=="function"?er(Lt):er;Dt(Lt,or)&&(jt||Nt(or),Ct(or))},[jt,Ct,Lt,Dt]);return[Lt,Vt]}function useDisclosure(nt={}){const{onClose:et,onOpen:at,isOpen:mt,id:$t}=nt,Ct=useCallbackRef(at),Dt=useCallbackRef(et),[Ft,Nt]=reactExports.useState(nt.defaultIsOpen||!1),jt=mt!==void 0?mt:Ft,Lt=mt!==void 0,Vt=reactExports.useId(),er=$t??`disclosure-${Vt}`,ir=reactExports.useCallback(()=>{Lt||Nt(!1),Dt==null||Dt()},[Lt,Dt]),or=reactExports.useCallback(()=>{Lt||Nt(!0),Ct==null||Ct()},[Lt,Ct]),lr=reactExports.useCallback(()=>{jt?ir():or()},[jt,or,ir]);function dr(hr={}){return{...hr,"aria-expanded":jt,"aria-controls":er,onClick(vr){var br;(br=hr.onClick)==null||br.call(hr,vr),lr()}}}function pr(hr={}){return{...hr,hidden:!jt,id:er}}return{isOpen:jt,onOpen:or,onClose:ir,onToggle:lr,isControlled:Lt,getButtonProps:dr,getDisclosureProps:pr}}const useSafeLayoutEffect$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,useUpdateEffect=(nt,et)=>{const at=reactExports.useRef(!1),mt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(at.current&&mt.current)return nt();mt.current=!0},et),reactExports.useEffect(()=>(at.current=!0,()=>{at.current=!1}),[])};function preventReturnFocus(nt){const et=nt.current;if(!et)return!1;const at=getActiveElement$1(et);return!at||et.contains(at)?!1:!!isTabbable(at)}function useFocusOnHide(nt,et){const{shouldFocus:at,visible:mt,focusRef:$t}=et,Ct=at&&!mt;useUpdateEffect(()=>{if(!Ct||preventReturnFocus(nt))return;const Dt=($t==null?void 0:$t.current)||nt.current;let Ft;if(Dt)return Ft=requestAnimationFrame(()=>{Dt.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(Ft)}},[Ct,nt,$t])}const defaultOptions$2={preventScroll:!0,shouldFocus:!1};function useFocusOnShow(nt,et=defaultOptions$2){const{focusRef:at,preventScroll:mt,shouldFocus:$t,visible:Ct}=et,Dt=isRefObject$2(nt)?nt.current:nt,Ft=$t&&Ct,Nt=reactExports.useRef(Ft),jt=reactExports.useRef(Ct);useSafeLayoutEffect$2(()=>{!jt.current&&Ct&&(Nt.current=Ft),jt.current=Ct},[Ct,Ft]);const Lt=reactExports.useCallback(()=>{if(!(!Ct||!Dt||!Nt.current)&&(Nt.current=!1,!Dt.contains(document.activeElement)))if(at!=null&&at.current)requestAnimationFrame(()=>{var Vt;(Vt=at.current)==null||Vt.focus({preventScroll:mt})});else{const Vt=getAllFocusable(Dt);Vt.length>0&&requestAnimationFrame(()=>{Vt[0].focus({preventScroll:mt})})}},[Ct,mt,Dt,at]);useUpdateEffect(()=>{Lt()},[Lt]),useEventListener(Dt,"transitionend",Lt)}function isRefObject$2(nt){return"current"in nt}function isRefObject$1(nt){return"current"in nt}const isDom=()=>typeof window<"u";function getPlatform(){const nt=navigator.userAgentData;return(nt==null?void 0:nt.platform)??navigator.platform}const vn$1=nt=>isDom()&&nt.test(navigator.vendor),pt$1=nt=>isDom()&&nt.test(getPlatform()),isApple=()=>pt$1(/mac|iphone|ipad|ipod/i),isSafari=()=>isApple()&&vn$1(/apple/i);function useFocusOnPointerDown(nt){const{ref:et,elements:at,enabled:mt}=nt,$t=()=>{var Ct;return((Ct=et.current)==null?void 0:Ct.ownerDocument)??document};useEventListener($t,"pointerdown",Ct=>{var jt,Lt;if(!isSafari()||!mt)return;const Dt=((Lt=(jt=Ct.composedPath)==null?void 0:jt.call(Ct))==null?void 0:Lt[0])??Ct.target,Nt=(at??[et]).some(Vt=>{const er=isRefObject$1(Vt)?Vt.current:Vt;return(er==null?void 0:er.contains(Dt))||er===Dt});$t().activeElement!==Dt&&Nt&&(Ct.preventDefault(),Dt.focus())})}function useId(nt,et){const at=reactExports.useId();return reactExports.useMemo(()=>nt||[et,at].filter(Boolean).join("-"),[nt,et,at])}function useIds$1(nt,...et){const at=useId(nt);return reactExports.useMemo(()=>et.map(mt=>`${mt}-${at}`),[at,et])}function useLatestRef(nt){const et=reactExports.useRef(null);return et.current=nt,et}function assignRef(nt,et){if(nt!=null){if(typeof nt=="function"){nt(et);return}try{nt.current=et}catch{throw new Error(`Cannot assign value '${et}' to ref '${nt}'`)}}}function mergeRefs(...nt){return et=>{nt.forEach(at=>{assignRef(at,et)})}}function useMergeRefs(...nt){return reactExports.useMemo(()=>mergeRefs(...nt),nt)}function useOutsideClick(nt){const{ref:et,handler:at,enabled:mt=!0}=nt,$t=useCallbackRef(at),Dt=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!mt)return;const Ft=Vt=>{isValidEvent(Vt,et)&&(Dt.isPointerDown=!0)},Nt=Vt=>{if(Dt.ignoreEmulatedMouseEvents){Dt.ignoreEmulatedMouseEvents=!1;return}Dt.isPointerDown&&at&&isValidEvent(Vt,et)&&(Dt.isPointerDown=!1,$t(Vt))},jt=Vt=>{Dt.ignoreEmulatedMouseEvents=!0,at&&Dt.isPointerDown&&isValidEvent(Vt,et)&&(Dt.isPointerDown=!1,$t(Vt))},Lt=getOwnerDocument$1(et.current);return Lt.addEventListener("mousedown",Ft,!0),Lt.addEventListener("mouseup",Nt,!0),Lt.addEventListener("touchstart",Ft,!0),Lt.addEventListener("touchend",jt,!0),()=>{Lt.removeEventListener("mousedown",Ft,!0),Lt.removeEventListener("mouseup",Nt,!0),Lt.removeEventListener("touchstart",Ft,!0),Lt.removeEventListener("touchend",jt,!0)}},[at,et,$t,Dt,mt])}function isValidEvent(nt,et){var mt,$t;const at=((mt=nt.composedPath)==null?void 0:mt.call(nt)[0])??nt.target;return at&&!getOwnerDocument$1(at).contains(at)?!1:!(($t=et.current)!=null&&$t.contains(at))}function getOwnerDocument$1(nt){return(nt==null?void 0:nt.ownerDocument)??document}function usePrevious(nt){const et=reactExports.useRef();return reactExports.useEffect(()=>{et.current=nt},[nt]),et.current}function useTimeout(nt,et){const at=useCallbackRef(nt);reactExports.useEffect(()=>{if(et==null)return;let mt=null;return mt=window.setTimeout(()=>{at()},et),()=>{mt&&window.clearTimeout(mt)}},[et,at])}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?nt=>window.requestAnimationFrame(nt):nt=>setTimeout(()=>nt(getCurrentTime()),defaultTimestep);function createRenderStep$1(nt){let et=[],at=[],mt=0,$t=!1,Ct=!1;const Dt=new WeakSet,Ft={schedule:(Nt,jt=!1,Lt=!1)=>{const Vt=Lt&&$t,er=Vt?et:at;return jt&&Dt.add(Nt),er.indexOf(Nt)===-1&&(er.push(Nt),Vt&&$t&&(mt=et.length)),Nt},cancel:Nt=>{const jt=at.indexOf(Nt);jt!==-1&&at.splice(jt,1),Dt.delete(Nt)},process:Nt=>{if($t){Ct=!0;return}if($t=!0,[et,at]=[at,et],at.length=0,mt=et.length,mt)for(let jt=0;jt<mt;jt++){const Lt=et[jt];Lt(Nt),Dt.has(Lt)&&(Ft.schedule(Lt),nt())}$t=!1,Ct&&(Ct=!1,Ft.process(Nt))}};return Ft}const maxElapsed$1=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame$1={delta:0,timestamp:0},stepsOrder$1=["read","update","preRender","render","postRender"],steps=stepsOrder$1.reduce((nt,et)=>(nt[et]=createRenderStep$1(()=>runNextFrame=!0),nt),{}),sync=stepsOrder$1.reduce((nt,et)=>{const at=steps[et];return nt[et]=(mt,$t=!1,Ct=!1)=>(runNextFrame||startLoop(),at.schedule(mt,$t,Ct)),nt},{}),cancelSync=stepsOrder$1.reduce((nt,et)=>(nt[et]=steps[et].cancel,nt),{});stepsOrder$1.reduce((nt,et)=>(nt[et]=()=>steps[et].process(frame$1),nt),{});const processStep=nt=>steps[nt].process(frame$1),processFrame=nt=>{runNextFrame=!1,frame$1.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(nt-frame$1.timestamp,maxElapsed$1),1),frame$1.timestamp=nt,isProcessing=!0,stepsOrder$1.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame$1;var __defProp$7=Object.defineProperty,__defNormalProp$7=(nt,et,at)=>et in nt?__defProp$7(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__publicField$4=(nt,et,at)=>(__defNormalProp$7(nt,typeof et!="symbol"?et+"":et,at),at);class PanEvent{constructor(et,at,mt){if(__publicField$4(this,"history",[]),__publicField$4(this,"startEvent",null),__publicField$4(this,"lastEvent",null),__publicField$4(this,"lastEventInfo",null),__publicField$4(this,"handlers",{}),__publicField$4(this,"removeListeners",()=>{}),__publicField$4(this,"threshold",3),__publicField$4(this,"win"),__publicField$4(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const Ft=getPanInfo$1(this.lastEventInfo,this.history),Nt=this.startEvent!==null,jt=distance$1(Ft.offset,{x:0,y:0})>=this.threshold;if(!Nt&&!jt)return;const{timestamp:Lt}=getFrameData();this.history.push({...Ft.point,timestamp:Lt});const{onStart:Vt,onMove:er}=this.handlers;Nt||(Vt==null||Vt(this.lastEvent,Ft),this.startEvent=this.lastEvent),er==null||er(this.lastEvent,Ft)}),__publicField$4(this,"onPointerMove",(Ft,Nt)=>{this.lastEvent=Ft,this.lastEventInfo=Nt,sync.update(this.updatePoint,!0)}),__publicField$4(this,"onPointerUp",(Ft,Nt)=>{const jt=getPanInfo$1(Nt,this.history),{onEnd:Lt,onSessionEnd:Vt}=this.handlers;Vt==null||Vt(Ft,jt),this.end(),!(!Lt||!this.startEvent)&&(Lt==null||Lt(Ft,jt))}),this.win=et.view??window,isMultiTouchEvent(et))return;this.handlers=at,mt&&(this.threshold=mt),et.stopPropagation(),et.preventDefault();const $t={point:getEventPoint(et)},{timestamp:Ct}=getFrameData();this.history=[{...$t.point,timestamp:Ct}];const{onSessionStart:Dt}=at;Dt==null||Dt(et,getPanInfo$1($t,this.history)),this.removeListeners=pipe$3(addPointerEvent$1(this.win,"pointermove",this.onPointerMove),addPointerEvent$1(this.win,"pointerup",this.onPointerUp),addPointerEvent$1(this.win,"pointercancel",this.onPointerUp))}updateHandlers(et){this.handlers=et}end(){var et;(et=this.removeListeners)==null||et.call(this),cancelSync.update(this.updatePoint)}}function subtract$3(nt,et){return{x:nt.x-et.x,y:nt.y-et.y}}function getPanInfo$1(nt,et){return{point:nt.point,delta:subtract$3(nt.point,et[et.length-1]),offset:subtract$3(nt.point,et[0]),velocity:getVelocity$1(et,.1)}}const toMilliseconds=nt=>nt*1e3;function getVelocity$1(nt,et){if(nt.length<2)return{x:0,y:0};let at=nt.length-1,mt=null;const $t=nt[nt.length-1];for(;at>=0&&(mt=nt[at],!($t.timestamp-mt.timestamp>toMilliseconds(et)));)at--;if(!mt)return{x:0,y:0};const Ct=($t.timestamp-mt.timestamp)/1e3;if(Ct===0)return{x:0,y:0};const Dt={x:($t.x-mt.x)/Ct,y:($t.y-mt.y)/Ct};return Dt.x===1/0&&(Dt.x=0),Dt.y===1/0&&(Dt.y=0),Dt}function pipe$3(...nt){return et=>nt.reduce((at,mt)=>mt(at),et)}function distance1D(nt,et){return Math.abs(nt-et)}function isPoint(nt){return"x"in nt&&"y"in nt}function distance$1(nt,et){if(typeof nt=="number"&&typeof et=="number")return distance1D(nt,et);if(isPoint(nt)&&isPoint(et)){const at=distance1D(nt.x,et.x),mt=distance1D(nt.y,et.y);return Math.sqrt(at**2+mt**2)}return 0}function usePanEvent(nt,et){const{onPan:at,onPanStart:mt,onPanEnd:$t,onPanSessionStart:Ct,onPanSessionEnd:Dt,threshold:Ft}=et,Nt=!!(at||mt||$t||Ct||Dt),jt=reactExports.useRef(null),Lt=useLatestRef({onSessionStart:Ct,onSessionEnd:Dt,onStart:mt,onMove:at,onEnd(Vt,er){jt.current=null,$t==null||$t(Vt,er)}});reactExports.useEffect(()=>{var Vt;(Vt=jt.current)==null||Vt.updateHandlers(Lt.current)}),reactExports.useEffect(()=>{const Vt=nt.current;if(!Vt||!Nt)return;function er(ir){jt.current=new PanEvent(ir,Lt.current,Ft)}return addPointerEvent$1(Vt,"pointerdown",er)},[nt,Nt,Lt,Ft]),reactExports.useEffect(()=>()=>{var Vt;(Vt=jt.current)==null||Vt.end(),jt.current=null},[])}const state={open:(nt,et)=>`${nt}[data-open], ${nt}[open], ${nt}[data-state=open] ${et}`,closed:(nt,et)=>`${nt}[data-closed], ${nt}[data-state=closed] ${et}`,hover:(nt,et)=>`${nt}:hover ${et}, ${nt}[data-hover] ${et}`,focus:(nt,et)=>`${nt}:focus ${et}, ${nt}[data-focus] ${et}`,focusVisible:(nt,et)=>`${nt}:focus-visible ${et}`,focusWithin:(nt,et)=>`${nt}:focus-within ${et}`,active:(nt,et)=>`${nt}:active ${et}, ${nt}[data-active] ${et}`,disabled:(nt,et)=>`${nt}:disabled ${et}, ${nt}[data-disabled] ${et}`,invalid:(nt,et)=>`${nt}:invalid ${et}, ${nt}[data-invalid] ${et}`,checked:(nt,et)=>`${nt}:checked ${et}, ${nt}[data-checked] ${et}`,indeterminate:(nt,et)=>`${nt}:indeterminate ${et}, ${nt}[aria-checked=mixed] ${et}, ${nt}[data-indeterminate] ${et}`,readOnly:(nt,et)=>`${nt}:read-only ${et}, ${nt}[readonly] ${et}, ${nt}[data-read-only] ${et}`,expanded:(nt,et)=>`${nt}:read-only ${et}, ${nt}[aria-expanded=true] ${et}, ${nt}[data-expanded] ${et}`,placeholderShown:(nt,et)=>`${nt}:placeholder-shown ${et}`},toGroup=nt=>merge$2(et=>nt(et,"&"),"[role=group]","[data-group]",".group"),toPeer=nt=>merge$2(et=>nt(et,"~ &"),"[data-peer]",".peer"),merge$2=(nt,...et)=>et.map(nt).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:toGroup(state.open),_groupClosed:toGroup(state.closed),_groupHover:toGroup(state.hover),_peerHover:toPeer(state.hover),_groupFocus:toGroup(state.focus),_peerFocus:toPeer(state.focus),_groupFocusVisible:toGroup(state.focusVisible),_peerFocusVisible:toPeer(state.focusVisible),_groupActive:toGroup(state.active),_peerActive:toPeer(state.active),_groupDisabled:toGroup(state.disabled),_peerDisabled:toPeer(state.disabled),_groupInvalid:toGroup(state.invalid),_peerInvalid:toPeer(state.invalid),_groupChecked:toGroup(state.checked),_peerChecked:toPeer(state.checked),_groupFocusWithin:toGroup(state.focusWithin),_peerFocusWithin:toPeer(state.focusWithin),_peerPlaceholderShown:toPeer(state.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},pseudoPropNames=Object.keys(pseudoSelectors),isImportant=nt=>/!(important)?$/.test(nt),withoutImportant=nt=>typeof nt=="string"?nt.replace(/!(important)?$/,"").trim():nt,tokenToCSSVar=(nt,et)=>at=>{const mt=String(et),$t=isImportant(mt),Ct=withoutImportant(mt),Dt=nt?`${nt}.${Ct}`:Ct;let Ft=isObject$3(at.__cssMap)&&Dt in at.__cssMap?at.__cssMap[Dt].varRef:et;return Ft=withoutImportant(Ft),$t?`${Ft} !important`:Ft};function createTransform(nt){const{scale:et,transform:at,compose:mt}=nt;return(Ct,Dt)=>{const Ft=tokenToCSSVar(et,Ct)(Dt);let Nt=(at==null?void 0:at(Ft,Dt))??Ft;return mt&&(Nt=mt(Nt,Dt)),Nt}}const pipe$2=(...nt)=>et=>nt.reduce((at,mt)=>mt(at),et);function toConfig(nt,et){return at=>{const mt={property:at,scale:nt};return mt.transform=createTransform({scale:nt,transform:et}),mt}}const getRtl=({rtl:nt,ltr:et})=>at=>at.direction==="rtl"?nt:et;function logical(nt){const{property:et,scale:at,transform:mt}=nt;return{scale:at,property:getRtl(et),transform:at?createTransform({scale:at,compose:mt}):mt}}const transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}const filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(nt){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":nt,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=nt=>nt.trim();function parseGradient(nt,et){if(nt==null||globalSet.has(nt))return nt;if(!(isCSSFunction(nt)||globalSet.has(nt)))return`url('${nt}')`;const $t=/(^[a-z-A-Z]+)\((.*)\)/g.exec(nt),Ct=$t==null?void 0:$t[1],Dt=$t==null?void 0:$t[2];if(!Ct||!Dt)return nt;const Ft=Ct.includes("-gradient")?Ct:`${Ct}-gradient`,[Nt,...jt]=Dt.split(",").map(trimSpace).filter(Boolean);if((jt==null?void 0:jt.length)===0)return nt;const Lt=Nt in directionMap?directionMap[Nt]:Nt;jt.unshift(Lt);const Vt=jt.map(er=>{if(valueSet.has(er))return er;const ir=er.indexOf(" "),[or,lr]=ir!==-1?[er.substr(0,ir),er.substr(ir+1)]:[er],dr=isCSSFunction(lr)?lr:lr&&lr.split(" "),pr=`colors.${or}`,hr=pr in et.__cssMap?et.__cssMap[pr].varRef:or;return dr?[hr,...Array.isArray(dr)?dr:[dr]].join(" "):hr});return`${Ft}(${Vt.join(", ")})`}const isCSSFunction=nt=>typeof nt=="string"&&nt.includes("(")&&nt.includes(")"),gradientTransform=(nt,et)=>parseGradient(nt,et??{});function isCssVar$1(nt){return/^var\(--.+\)$/.test(nt)}const analyzeCSSValue=nt=>{const et=parseFloat(nt.toString()),at=nt.toString().replace(String(et),"");return{unitless:!at,value:et,unit:at}},wrap=nt=>et=>`${nt}(${et})`,transformFunctions={filter(nt){return nt!=="auto"?nt:filterTemplate},backdropFilter(nt){return nt!=="auto"?nt:backdropFilterTemplate},ring(nt){return getRingTemplate(transformFunctions.px(nt))},bgClip(nt){return nt==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:nt}},transform(nt){return nt==="auto"?getTransformTemplate():nt==="auto-gpu"?getTransformGpuTemplate():nt},vh(nt){return nt==="$100vh"?"var(--chakra-vh)":nt},px(nt){if(nt==null)return nt;const{unitless:et}=analyzeCSSValue(nt);return et||typeof nt=="number"?`${nt}px`:nt},fraction(nt){return typeof nt!="number"||nt>1?nt:`${nt*100}%`},float(nt,et){const at={left:"right",right:"left"};return et.direction==="rtl"?at[nt]:nt},degree(nt){if(isCssVar$1(nt)||nt==null)return nt;const et=typeof nt=="string"&&!nt.endsWith("deg");return typeof nt=="number"||et?`${nt}deg`:nt},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:nt=>wrap("hue-rotate")(transformFunctions.degree(nt)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(nt){return nt==null||isCSSFunction(nt)||globalSet.has(nt)?nt:`url(${nt})`},outline(nt){const et=String(nt)==="0"||String(nt)==="none";return nt!==null&&et?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:nt}},flexDirection(nt){const{space:et,divide:at}=flexDirectionTemplate[nt]??{},mt={flexDirection:nt};return et&&(mt[et]=1),at&&(mt[at]=1),mt}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(nt){return{property:nt,transform:transformFunctions.degree}},prop(nt,et,at){return{property:nt,scale:et,...et&&{transform:createTransform({scale:et,transform:at})}}},propT(nt,et){return{property:nt,transform:et}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});const border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});const color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke"),accentColor:t$1.colors("accentColor"),textFillColor:t$1.colors("textFillColor")},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});const layout$1={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(nt,et)=>{var $t,Ct;return{[`@media screen and (min-width: ${((Ct=($t=et.__breakpoints)==null?void 0:$t.get(nt))==null?void 0:Ct.minW)??nt})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(nt,et)=>{var $t,Ct;return{[`@media screen and (max-width: ${((Ct=($t=et.__breakpoints)==null?void 0:$t.get(nt))==null?void 0:Ct._minW)??nt})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});const filter$1={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function get$2(nt,et,at,mt){const $t=typeof et=="string"?et.split("."):[et];for(mt=0;mt<$t.length&&nt;mt+=1)nt=nt[$t[mt]];return nt===void 0?at:nt}const memoize$2=nt=>{const et=new WeakMap;return(mt,$t,Ct,Dt)=>{if(typeof mt>"u")return nt(mt,$t,Ct);et.has(mt)||et.set(mt,new Map);const Ft=et.get(mt);if(Ft.has($t))return Ft.get($t);const Nt=nt(mt,$t,Ct,Dt);return Ft.set($t,Nt),Nt}},memoizedGet=memoize$2(get$2),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(nt,et,at)=>{const mt={},$t=memoizedGet(nt,et,{});for(const Ct in $t)Ct in at&&at[Ct]!=null||(mt[Ct]=$t[Ct]);return mt},others={srOnly:{transform(nt){return nt===!0?srOnly:nt==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(nt,et,at)=>getWithPriority(et,`layerStyles.${nt}`,at)},textStyle:{processResult:!0,transform:(nt,et,at)=>getWithPriority(et,`textStyles.${nt}`,at)},apply:{processResult:!0,transform:(nt,et,at)=>getWithPriority(et,nt,at)}},position$1={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});const effect$3={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect$3,{shadow:effect$3.boxShadow});const space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});const scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},typography$2={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(nt){if(nt===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform$1={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},list={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$1,ring,interactivity,grid,others,position$1,effect$3,space,scroll,typography$2,textDecoration,transform$1,list,transition$1);Object.assign({},space,layout$1,flexbox,grid,position$1);const propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=nt=>nt in styleProps,expandResponsive=nt=>et=>{if(!et.__breakpoints)return nt;const{isResponsive:at,toArrayValue:mt,media:$t}=et.__breakpoints,Ct={};for(const Dt in nt){let Ft=runIfFn$1(nt[Dt],et);if(Ft==null)continue;if(Ft=isObject$3(Ft)&&at(Ft)?mt(Ft):Ft,!Array.isArray(Ft)){Ct[Dt]=Ft;continue}const Nt=Ft.slice(0,$t.length).length;for(let jt=0;jt<Nt;jt+=1){const Lt=$t==null?void 0:$t[jt];if(!Lt){Ct[Dt]=Ft[jt];continue}Ct[Lt]=Ct[Lt]||{},Ft[jt]!=null&&(Ct[Lt][Dt]=Ft[jt])}}return Ct};function splitByComma(nt){const et=[];let at="",mt=!1;for(let $t=0;$t<nt.length;$t++){const Ct=nt[$t];Ct==="("?(mt=!0,at+=Ct):Ct===")"?(mt=!1,at+=Ct):Ct===","&&!mt?(et.push(at),at=""):at+=Ct}return at=at.trim(),at&&et.push(at),et}function isCssVar(nt){return/^var\(--.+\)$/.test(nt)}const isCSSVariableTokenValue=(nt,et)=>nt.startsWith("--")&&typeof et=="string"&&!isCssVar(et),resolveTokenValue=(nt,et)=>{if(et==null)return et;const at=Dt=>{var Ft,Nt;return(Nt=(Ft=nt.__cssMap)==null?void 0:Ft[Dt])==null?void 0:Nt.varRef},mt=Dt=>at(Dt)??Dt,[$t,Ct]=splitByComma(et);return et=at($t)??mt(Ct)??mt(et),et};function getCss(nt){const{configs:et={},pseudos:at={},theme:mt}=nt,$t=(Ct,Dt=!1)=>{var Lt;const Ft=runIfFn$1(Ct,mt),Nt=expandResponsive(Ft)(mt);let jt={};for(let Vt in Nt){const er=Nt[Vt];let ir=runIfFn$1(er,mt);Vt in at&&(Vt=at[Vt]),isCSSVariableTokenValue(Vt,ir)&&(ir=resolveTokenValue(mt,ir));let or=et[Vt];if(or===!0&&(or={property:Vt}),isObject$3(ir)){jt[Vt]=jt[Vt]??{},jt[Vt]=mergeWith({},jt[Vt],$t(ir,!0));continue}let lr=((Lt=or==null?void 0:or.transform)==null?void 0:Lt.call(or,ir,mt,Ft))??ir;lr=or!=null&&or.processResult?$t(lr,!0):lr;const dr=runIfFn$1(or==null?void 0:or.property,mt);if(!Dt&&(or!=null&&or.static)){const pr=runIfFn$1(or.static,mt);jt=mergeWith({},jt,pr)}if(dr&&Array.isArray(dr)){for(const pr of dr)jt[pr]=lr;continue}if(dr){dr==="&"&&isObject$3(lr)?jt=mergeWith({},jt,lr):jt[dr]=lr;continue}if(isObject$3(lr)){jt=mergeWith({},jt,lr);continue}jt[Vt]=lr}return jt};return $t}const css$2=nt=>et=>getCss({theme:et,pseudos:pseudoSelectors,configs:systemProps})(nt);function defineStyle(nt){return nt}function defineStyleConfig(nt){return nt}function createMultiStyleConfigHelpers(nt){return{definePartsStyle(et){return et},defineMultiStyleConfig(et){return{parts:nt,...et}}}}function getCSSVar(nt,et,at){var mt,$t;return(($t=(mt=nt.__cssMap)==null?void 0:mt[`${et}.${at}`])==null?void 0:$t.varRef)??at}function normalize$3(nt,et){if(Array.isArray(nt))return nt;if(isObject$3(nt))return et(nt);if(nt!=null)return[nt]}function getNextIndex$1(nt,et){for(let at=et+1;at<nt.length;at++)if(nt[at]!=null)return at;return-1}function createResolver(nt){const et=nt.__breakpoints;return function(mt,$t,Ct,Dt){var er,ir;if(!et)return;const Ft={},Nt=normalize$3(Ct,et.toArrayValue);if(!Nt)return Ft;const jt=Nt.length,Lt=jt===1,Vt=!!mt.parts;for(let or=0;or<jt;or++){const lr=et.details[or],dr=et.details[getNextIndex$1(Nt,or)],pr=toMediaQueryString(lr.minW,dr==null?void 0:dr._minW),hr=runIfFn$1((er=mt[$t])==null?void 0:er[Nt[or]],Dt);if(hr){if(Vt){(ir=mt.parts)==null||ir.forEach(vr=>{mergeWith(Ft,{[vr]:Lt?hr[vr]:{[pr]:hr[vr]}})});continue}if(!Vt){Lt?mergeWith(Ft,hr):Ft[pr]=hr;continue}Ft[pr]=hr}}return Ft}}function resolveStyleConfig(nt){return et=>{const{variant:at,size:mt,theme:$t}=et,Ct=createResolver($t);return mergeWith({},runIfFn$1(nt.baseStyle??{},et),Ct(nt,"sizes",mt,et),Ct(nt,"variants",at,et))}}function omitThemingProps(nt){return omit(nt,["styleConfig","size","variant","colorScheme"])}function resolveReference(nt){return isObject$3(nt)&&nt.reference?nt.reference:String(nt)}const toExpression=(nt,...et)=>et.map(resolveReference).join(` ${nt} `).replace(/calc/g,""),add$4=(...nt)=>`calc(${toExpression("+",...nt)})`,subtract$2=(...nt)=>`calc(${toExpression("-",...nt)})`,multiply$2=(...nt)=>`calc(${toExpression("*",...nt)})`,divide$4=(...nt)=>`calc(${toExpression("/",...nt)})`,negate$1=nt=>{const et=resolveReference(nt);return et!=null&&!Number.isNaN(parseFloat(et))?String(et).startsWith("-")?String(et).slice(1):`-${et}`:multiply$2(et,-1)},calc$1=Object.assign(nt=>({add:(...et)=>calc$1(add$4(nt,...et)),subtract:(...et)=>calc$1(subtract$2(nt,...et)),multiply:(...et)=>calc$1(multiply$2(nt,...et)),divide:(...et)=>calc$1(divide$4(nt,...et)),negate:()=>calc$1(negate$1(nt)),toString:()=>nt.toString()}),{add:add$4,subtract:subtract$2,multiply:multiply$2,divide:divide$4,negate:negate$1});function replaceWhiteSpace$1(nt,et="-"){return nt.replace(/\s+/g,et)}function escape$3(nt){const et=replaceWhiteSpace$1(nt.toString());return escapeSymbol(escapeDot(et))}function escapeDot(nt){return nt.includes("\\.")?nt:!Number.isInteger(parseFloat(nt.toString()))?nt.replace(".","\\."):nt}function escapeSymbol(nt){return nt.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(nt,et=""){return[et,nt].filter(Boolean).join("-")}function toVarReference(nt,et){return`var(${nt}${et?`, ${et}`:""})`}function toVarDefinition(nt,et=""){return escape$3(`--${addPrefix$1(nt,et)}`)}function cssVar$1(nt,et,at){const mt=toVarDefinition(nt,at);return{variable:mt,reference:toVarReference(mt,et)}}function defineCssVars(nt,et){const at={};for(const mt of et){if(Array.isArray(mt)){const[$t,Ct]=mt;at[$t]=cssVar$1(`${nt}-${$t}`,Ct);continue}at[mt]=cssVar$1(`${nt}-${mt}`)}return at}const tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(nt){return pick(nt,tokens)}function extractSemanticTokens(nt){return nt.semanticTokens}function omitVars(nt){const{__cssMap:et,__cssVars:at,__breakpoints:mt,...$t}=nt;return $t}function flattenTokens(nt){const et=extractTokens(nt),at=extractSemanticTokens(nt),mt=Ct=>pseudoPropNames.includes(Ct)||Ct==="default",$t={};return walkObject(et,(Ct,Dt)=>{Ct!=null&&($t[Dt.join(".")]={isSemantic:!1,value:Ct})}),walkObject(at,(Ct,Dt)=>{Ct!=null&&($t[Dt.join(".")]={isSemantic:!0,value:Ct})},{stop:Ct=>Object.keys(Ct).every(mt)}),$t}function tokenToCssVar(nt,et){return cssVar$1(String(nt).replace(/\./g,"-"),void 0,et)}function createThemeVars(nt){var Dt;const et=flattenTokens(nt),at=(Dt=nt.config)==null?void 0:Dt.cssVarPrefix;let mt={};const $t={};function Ct(Ft,Nt){const Lt=[String(Ft).split(".")[0],Nt].join(".");if(!et[Lt])return Nt;const{reference:er}=tokenToCssVar(Lt,at);return er}for(const[Ft,Nt]of Object.entries(et)){const{isSemantic:jt,value:Lt}=Nt,{variable:Vt,reference:er}=tokenToCssVar(Ft,at);if(!jt){if(Ft.startsWith("space")){const or=Ft.split("."),[lr,...dr]=or,pr=`${lr}.-${dr.join(".")}`,hr=calc$1.negate(Lt),vr=calc$1.negate(er);$t[pr]={value:hr,var:Vt,varRef:vr}}mt[Vt]=Lt,$t[Ft]={value:Lt,var:Vt,varRef:er};continue}const ir=isObject$3(Lt)?Lt:{default:Lt};mt=mergeWith(mt,Object.entries(ir).reduce((or,[lr,dr])=>{if(!dr)return or;const pr=Ct(Ft,`${dr}`);if(lr==="default")return or[Vt]=pr,or;const hr=(pseudoSelectors==null?void 0:pseudoSelectors[lr])??lr;return or[hr]={[Vt]:pr},or},{})),$t[Ft]={value:er,var:Vt,varRef:er}}return{cssVars:mt,cssMap:$t}}function toCSSVar(nt){const et=omitVars(nt),{cssMap:at,cssVars:mt}=createThemeVars(et);return Object.assign(et,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...mt},__cssMap:at,__breakpoints:analyzeBreakpoints(et.breakpoints)}),et}function anatomy(nt,et={}){let at=!1;function mt(){if(!at){at=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function $t(...Lt){mt();for(const Vt of Lt)et[Vt]=Nt(Vt);return anatomy(nt,et)}function Ct(...Lt){for(const Vt of Lt)Vt in et||(et[Vt]=Nt(Vt));return anatomy(nt,et)}function Dt(){return Object.fromEntries(Object.entries(et).map(([Vt,er])=>[Vt,er.selector]))}function Ft(){return Object.fromEntries(Object.entries(et).map(([Vt,er])=>[Vt,er.className]))}function Nt(Lt){const ir=`chakra-${(["container","root"].includes(Lt??"")?[nt]:[nt,Lt]).filter(Boolean).join("__")}`;return{className:ir,selector:`.${ir}`,toString:()=>Lt}}return{parts:$t,toPart:Nt,extend:Ct,selectors:Dt,classnames:Ft,get keys(){return Object.keys(et)},__type:{}}}const accordionAnatomy=anatomy("accordion").parts("root","container","button","panel","icon"),alertAnatomy=anatomy("alert").parts("title","description","container","icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container","excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container","separator");anatomy("button").parts();const checkboxAnatomy=anatomy("checkbox").parts("control","icon","container","label");anatomy("progress").parts("track","filledTrack","label");const drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item","groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");const popoverAnatomy=anatomy("popover").parts("content","header","body","footer","popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$4={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon$6={fontSize:"1.25em"},baseStyle$H=definePartsStyle$p({container:baseStyleContainer$4,button:baseStyleButton$1,panel:baseStylePanel,icon:baseStyleIcon$6}),accordionTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$H});function guard(nt,et,at){return Math.min(Math.max(nt,at),et)}class ColorError extends Error{constructor(et){super(`Failed to parse color: "${et}"`)}}var ColorError$1=ColorError;function parseToRgba(nt){if(typeof nt!="string")throw new ColorError$1(nt);if(nt.trim().toLowerCase()==="transparent")return[0,0,0,0];let et=nt.trim();et=namedColorRegex.test(nt)?nameToHex(nt):nt;const at=reducedHexRegex.exec(et);if(at){const Dt=Array.from(at).slice(1);return[...Dt.slice(0,3).map(Ft=>parseInt(r$3(Ft,2),16)),parseInt(r$3(Dt[3]||"f",2),16)/255]}const mt=hexRegex.exec(et);if(mt){const Dt=Array.from(mt).slice(1);return[...Dt.slice(0,3).map(Ft=>parseInt(Ft,16)),parseInt(Dt[3]||"ff",16)/255]}const $t=rgbaRegex.exec(et);if($t){const Dt=Array.from($t).slice(1);return[...Dt.slice(0,3).map(Ft=>parseInt(Ft,10)),parseFloat(Dt[3]||"1")]}const Ct=hslaRegex.exec(et);if(Ct){const[Dt,Ft,Nt,jt]=Array.from(Ct).slice(1).map(parseFloat);if(guard(0,100,Ft)!==Ft)throw new ColorError$1(nt);if(guard(0,100,Nt)!==Nt)throw new ColorError$1(nt);return[...hslToRgb(Dt,Ft,Nt),Number.isNaN(jt)?1:jt]}throw new ColorError$1(nt)}function hash$3(nt){let et=5381,at=nt.length;for(;at;)et=et*33^nt.charCodeAt(--at);return(et>>>0)%2341}const colorToInt=nt=>parseInt(nt.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((nt,et)=>{const at=colorToInt(et.substring(0,3)),mt=colorToInt(et.substring(3)).toString(16);let $t="";for(let Ct=0;Ct<6-mt.length;Ct++)$t+="0";return nt[at]=`${$t}${mt}`,nt},{});function nameToHex(nt){const et=nt.toLowerCase().trim(),at=compressedColorMap[hash$3(et)];if(!at)throw new ColorError$1(nt);return`#${at}`}const r$3=(nt,et)=>Array.from(Array(et)).map(()=>nt).join(""),reducedHexRegex=new RegExp(`^#${r$3("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$3("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$3(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=nt=>Math.round(nt*255),hslToRgb=(nt,et,at)=>{let mt=at/100;if(et===0)return[mt,mt,mt].map(roundColor);const $t=(nt%360+360)%360/60,Ct=(1-Math.abs(2*mt-1))*(et/100),Dt=Ct*(1-Math.abs($t%2-1));let Ft=0,Nt=0,jt=0;$t>=0&&$t<1?(Ft=Ct,Nt=Dt):$t>=1&&$t<2?(Ft=Dt,Nt=Ct):$t>=2&&$t<3?(Nt=Ct,jt=Dt):$t>=3&&$t<4?(Nt=Dt,jt=Ct):$t>=4&&$t<5?(Ft=Dt,jt=Ct):$t>=5&&$t<6&&(Ft=Ct,jt=Dt);const Lt=mt-Ct/2,Vt=Ft+Lt,er=Nt+Lt,ir=jt+Lt;return[Vt,er,ir].map(roundColor)};function rgba$1(nt,et,at,mt){return`rgba(${guard(0,255,nt).toFixed()}, ${guard(0,255,et).toFixed()}, ${guard(0,255,at).toFixed()}, ${parseFloat(guard(0,1,mt).toFixed(3))})`}function transparentize$1(nt,et){const[at,mt,$t,Ct]=parseToRgba(nt);return rgba$1(at,mt,$t,Ct-et)}function toHex$1(nt){const[et,at,mt,$t]=parseToRgba(nt);let Ct=Dt=>{const Ft=guard(0,255,Dt).toString(16);return Ft.length===1?`0${Ft}`:Ft};return`#${Ct(et)}${Ct(at)}${Ct(mt)}${$t<1?Ct(Math.round($t*255)):""}`}const isEmptyObject$2=nt=>Object.keys(nt).length===0;function get$1(nt,et,at,mt,$t){for(et=et.split?et.split("."):et,mt=0;mt<et.length;mt++)nt=nt?nt[et[mt]]:$t;return nt===$t?at:nt}const getColor=(nt,et,at)=>{const mt=get$1(nt,`colors.${et}`,et);try{return toHex$1(mt),mt}catch{return"#000000"}},getBrightness=nt=>{const[et,at,mt]=parseToRgba(nt);return(et*299+at*587+mt*114)/1e3},tone=nt=>et=>{const at=getColor(et,nt);return getBrightness(at)<128?"dark":"light"},isDark=nt=>et=>tone(nt)(et)==="dark",transparentize=(nt,et)=>at=>{const mt=getColor(at,nt);return transparentize$1(mt,1-et)};function generateStripe(nt="1rem",et="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${et} 25%,
    transparent 25%,
    transparent 50%,
    ${et} 50%,
    ${et} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${nt} ${nt}`}}const randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(nt){const et=randomHex();return!nt||isEmptyObject$2(nt)?et:nt.string&&nt.colors?randomColorFromList(nt.string,nt.colors):nt.string&&!nt.colors?randomColorFromString(nt.string):nt.colors&&!nt.string?randomFromList(nt.colors):et}function randomColorFromString(nt){let et=0;if(nt.length===0)return et.toString();for(let mt=0;mt<nt.length;mt+=1)et=nt.charCodeAt(mt)+((et<<5)-et),et=et&et;let at="#";for(let mt=0;mt<3;mt+=1){const $t=et>>mt*8&255;at+=`00${$t.toString(16)}`.substr(-2)}return at}function randomColorFromList(nt,et){let at=0;if(nt.length===0)return et[0];for(let mt=0;mt<nt.length;mt+=1)at=nt.charCodeAt(mt)+((at<<5)-at),at=at&at;return at=(at%et.length+et.length)%et.length,et[at]}function randomFromList(nt){return nt[Math.floor(Math.random()*nt.length)]}function mode(nt,et){return at=>at.colorMode==="dark"?et:nt}function orient$2(nt){const{orientation:et,vertical:at,horizontal:mt}=nt;return et?et==="vertical"?at:mt:{}}function toRef(nt){return isObject$3(nt)&&nt.reference?nt.reference:String(nt)}const toExpr=(nt,...et)=>et.map(toRef).join(` ${nt} `).replace(/calc/g,""),add$3=(...nt)=>`calc(${toExpr("+",...nt)})`,subtract$1=(...nt)=>`calc(${toExpr("-",...nt)})`,multiply$1=(...nt)=>`calc(${toExpr("*",...nt)})`,divide$3=(...nt)=>`calc(${toExpr("/",...nt)})`,negate=nt=>{const et=toRef(nt);return et!=null&&!Number.isNaN(parseFloat(et))?String(et).startsWith("-")?String(et).slice(1):`-${et}`:multiply$1(et,-1)},calc=Object.assign(nt=>({add:(...et)=>calc(add$3(nt,...et)),subtract:(...et)=>calc(subtract$1(nt,...et)),multiply:(...et)=>calc(multiply$1(nt,...et)),divide:(...et)=>calc(divide$3(nt,...et)),negate:()=>calc(negate(nt)),toString:()=>nt.toString()}),{add:add$3,subtract:subtract$1,multiply:multiply$1,divide:divide$3,negate});function isDecimal$2(nt){return!Number.isInteger(parseFloat(nt.toString()))}function replaceWhiteSpace(nt,et="-"){return nt.replace(/\s+/g,et)}function escape$2(nt){const et=replaceWhiteSpace(nt.toString());return et.includes("\\.")?nt:isDecimal$2(nt)?et.replace(".","\\."):nt}function addPrefix(nt,et=""){return[et,escape$2(nt)].filter(Boolean).join("-")}function toVarRef(nt,et){return`var(${escape$2(nt)}${et?`, ${et}`:""})`}function toVar$1(nt,et=""){return`--${addPrefix(nt,et)}`}function cssVar(nt,et){const at=toVar$1(nt,et==null?void 0:et.prefix);return{variable:at,reference:toVarRef(at,getFallback(et==null?void 0:et.fallback))}}function getFallback(nt){return nt==null?void 0:nt.reference}const{definePartsStyle:definePartsStyle$o,defineMultiStyleConfig:defineMultiStyleConfig$o}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg$5=cssVar$1("alert-fg"),$bg$f=cssVar$1("alert-bg"),baseStyle$G=definePartsStyle$o({container:{bg:$bg$f.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(nt){const{theme:et,colorScheme:at}=nt,mt=transparentize(`${at}.200`,.16)(et);return{light:`colors.${at}.100`,dark:mt}}const variantSubtle$1=definePartsStyle$o(nt=>{const{colorScheme:et}=nt,at=getBg(nt);return{container:{[$fg$5.variable]:`colors.${et}.600`,[$bg$f.variable]:at.light,_dark:{[$fg$5.variable]:`colors.${et}.200`,[$bg$f.variable]:at.dark}}}}),variantLeftAccent=definePartsStyle$o(nt=>{const{colorScheme:et}=nt,at=getBg(nt);return{container:{[$fg$5.variable]:`colors.${et}.600`,[$bg$f.variable]:at.light,_dark:{[$fg$5.variable]:`colors.${et}.200`,[$bg$f.variable]:at.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg$5.reference}}}),variantTopAccent=definePartsStyle$o(nt=>{const{colorScheme:et}=nt,at=getBg(nt);return{container:{[$fg$5.variable]:`colors.${et}.600`,[$bg$f.variable]:at.light,_dark:{[$fg$5.variable]:`colors.${et}.200`,[$bg$f.variable]:at.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg$5.reference}}}),variantSolid$3=definePartsStyle$o(nt=>{const{colorScheme:et}=nt;return{container:{[$fg$5.variable]:"colors.white",[$bg$f.variable]:`colors.${et}.600`,_dark:{[$fg$5.variable]:"colors.gray.900",[$bg$f.variable]:`colors.${et}.200`},color:$fg$5.reference}}}),variants$g={subtle:variantSubtle$1,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid$3},alertTheme$1=defineMultiStyleConfig$o({baseStyle:baseStyle$G,variants:variants$g,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},isFunction$3=nt=>typeof nt=="function";function runIfFn(nt,...et){return isFunction$3(nt)?nt(...et):nt}const{definePartsStyle:definePartsStyle$n,defineMultiStyleConfig:defineMultiStyleConfig$n}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border$3=cssVar$1("avatar-border-color"),$bg$e=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size$4=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border$3.reference,[$border$3.variable]:"white",_dark:{[$border$3.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg$e.reference,fontSize:$fs.reference,width:$size$4.reference,height:$size$4.reference,lineHeight:"1",[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"}},baseStyleContainer$3=nt=>{const{name:et,theme:at}=nt,mt=et?randomColor({string:et}):"colors.gray.400",$t=isDark(mt)(at);let Ct="white";return $t||(Ct="gray.800"),{bg:$bg$e.reference,fontSize:$fs.reference,color:Ct,borderColor:$border$3.reference,verticalAlign:"top",width:$size$4.reference,height:$size$4.reference,"&:not([data-loaded])":{[$bg$e.variable]:mt},[$border$3.variable]:"colors.white",_dark:{[$border$3.variable]:"colors.gray.800"}}},baseStyleLabel$4={fontSize:$fs.reference,lineHeight:"1"},baseStyle$F=definePartsStyle$n(nt=>({badge:runIfFn(baseStyleBadge,nt),excessLabel:runIfFn(baseStyleExcessLabel,nt),container:runIfFn(baseStyleContainer$3,nt),label:baseStyleLabel$4}));function getSize$3(nt){const et=nt!=="100%"?sizes$m[nt]:void 0;return definePartsStyle$n({container:{[$size$4.variable]:et??nt,[$fs.variable]:`calc(${et??nt} / 2.5)`},excessLabel:{[$size$4.variable]:et??nt,[$fs.variable]:`calc(${et??nt} / 2.5)`}})}const sizes$l={"2xs":getSize$3(4),xs:getSize$3(6),sm:getSize$3(8),md:getSize$3(12),lg:getSize$3(16),xl:getSize$3(24),"2xl":getSize$3(32),full:getSize$3("100%")},avatarTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$F,sizes:sizes$l,defaultProps:{size:"md"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$E={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$2=nt=>{const{colorScheme:et,theme:at}=nt,mt=transparentize(`${et}.500`,.6)(at);return{[vars.bg.variable]:`colors.${et}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:mt,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle=nt=>{const{colorScheme:et,theme:at}=nt,mt=transparentize(`${et}.200`,.16)(at);return{[vars.bg.variable]:`colors.${et}.100`,[vars.color.variable]:`colors.${et}.800`,_dark:{[vars.bg.variable]:mt,[vars.color.variable]:`colors.${et}.200`}}},variantOutline$2=nt=>{const{colorScheme:et,theme:at}=nt,mt=transparentize(`${et}.200`,.8)(at);return{[vars.color.variable]:`colors.${et}.500`,_dark:{[vars.color.variable]:mt},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$f={solid:variantSolid$2,subtle:variantSubtle,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$E,variants:variants$f,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$D=definePartsStyle$m({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$D}),baseStyle$C={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=nt=>{const{colorScheme:et,theme:at}=nt;if(et==="gray")return{color:mode("gray.800","whiteAlpha.900")(nt),_hover:{bg:mode("gray.100","whiteAlpha.200")(nt)},_active:{bg:mode("gray.200","whiteAlpha.300")(nt)}};const mt=transparentize(`${et}.200`,.12)(at),$t=transparentize(`${et}.200`,.24)(at);return{color:mode(`${et}.600`,`${et}.200`)(nt),bg:"transparent",_hover:{bg:mode(`${et}.50`,mt)(nt)},_active:{bg:mode(`${et}.100`,$t)(nt)}}},variantOutline$1=nt=>{const{colorScheme:et}=nt,at=mode("gray.200","whiteAlpha.300")(nt);return{border:"1px solid",borderColor:et==="gray"?at:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn(variantGhost,nt)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$1=nt=>{const{colorScheme:et}=nt;if(et==="gray"){const Ft=mode("gray.100","whiteAlpha.200")(nt);return{bg:Ft,color:mode("gray.800","whiteAlpha.900")(nt),_hover:{bg:mode("gray.200","whiteAlpha.300")(nt),_disabled:{bg:Ft}},_active:{bg:mode("gray.300","whiteAlpha.400")(nt)}}}const{bg:at=`${et}.500`,color:mt="white",hoverBg:$t=`${et}.600`,activeBg:Ct=`${et}.700`}=accessibleColorMap[et]??{},Dt=mode(at,`${et}.200`)(nt);return{bg:Dt,color:mode(mt,"gray.800")(nt),_hover:{bg:mode($t,`${et}.300`)(nt),_disabled:{bg:Dt}},_active:{bg:mode(Ct,`${et}.400`)(nt)}}},variantLink=nt=>{const{colorScheme:et}=nt;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${et}.500`,`${et}.200`)(nt),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${et}.700`,`${et}.500`)(nt)}}},variantUnstyled$2={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$e={ghost:variantGhost,outline:variantOutline$1,solid:variantSolid$1,link:variantLink,unstyled:variantUnstyled$2},sizes$k={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme$1={baseStyle:baseStyle$C,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$l,defineMultiStyleConfig:defineMultiStyleConfig$l}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$d=cssVar$1("card-bg"),$padding$1=cssVar$1("card-padding"),$shadow$3=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$2=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$B=definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-body-bg",backgroundColor:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$2.reference,borderColor:$borderColor.reference},body:{padding:$padding$1.reference,flex:"1 1 0%"},header:{padding:$padding$1.reference},footer:{padding:$padding$1.reference}}),sizes$j={sm:definePartsStyle$l({container:{[$radius.variable]:"radii.base",[$padding$1.variable]:"space.3"}}),md:definePartsStyle$l({container:{[$radius.variable]:"radii.md",[$padding$1.variable]:"space.5"}}),lg:definePartsStyle$l({container:{[$radius.variable]:"radii.xl",[$padding$1.variable]:"space.7"}})},variants$d={elevated:definePartsStyle$l({container:{[$shadow$3.variable]:"shadows.base",_dark:{[$bg$d.variable]:"colors.gray.700"}}}),outline:definePartsStyle$l({container:{[$border$2.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding$1.variable]:0},header:{[$padding$1.variable]:0},footer:{[$padding$1.variable]:0}}},cardTheme$1=defineMultiStyleConfig$l({baseStyle:baseStyle$B,variants:variants$d,sizes:sizes$j,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=nt=>{const{colorScheme:et}=nt;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${et}.500`,`${et}.200`)(nt),borderColor:mode(`${et}.500`,`${et}.200`)(nt),color:mode("white","gray.900")(nt),_hover:{bg:mode(`${et}.600`,`${et}.300`)(nt),borderColor:mode(`${et}.600`,`${et}.300`)(nt)},_disabled:{borderColor:mode("gray.200","transparent")(nt),bg:mode("gray.200","whiteAlpha.300")(nt),color:mode("gray.500","whiteAlpha.500")(nt)}},_indeterminate:{bg:mode(`${et}.500`,`${et}.200`)(nt),borderColor:mode(`${et}.500`,`${et}.200`)(nt),color:mode("white","gray.900")(nt)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(nt),borderColor:mode("gray.100","transparent")(nt)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(nt)}}},baseStyleContainer$2={_disabled:{cursor:"not-allowed"}},baseStyleLabel$3={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$A=definePartsStyle$k(nt=>({icon:baseStyleIcon$5,container:baseStyleContainer$2,control:runIfFn(baseStyleControl$1,nt),label:baseStyleLabel$3})),sizes$i={sm:definePartsStyle$k({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$k({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$k({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme$1=defineMultiStyleConfig$k({baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("close-button-size"),$bg$c=cssVar("close-button-bg"),baseStyle$z={w:[$size$2.reference],h:[$size$2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$c.variable]:"colors.blackAlpha.100",_dark:{[$bg$c.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$c.variable]:"colors.blackAlpha.200",_dark:{[$bg$c.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$c.reference},sizes$h={lg:{[$size$2.variable]:"sizes.10",fontSize:"md"},md:{[$size$2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$z,sizes:sizes$h,defaultProps:{size:"md"}},{variants:variants$c,defaultProps}=badgeTheme,baseStyle$y={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$y,variants:variants$c,defaultProps},baseStyle$x={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$x},baseStyle$w={opacity:.6,borderColor:"inherit"},variantSolid={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$b={solid:variantSolid,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$w,variants:variants$b,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$j,defineMultiStyleConfig:defineMultiStyleConfig$j}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$b=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$2(nt){return definePartsStyle$j(nt==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:nt}})}const baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog$1=nt=>{const{isFullHeight:et}=nt;return{...et&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$b.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$b.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$b.reference,boxShadow:$bs.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$3={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter$2={px:"6",py:"4"},baseStyle$v=definePartsStyle$j(nt=>({overlay:baseStyleOverlay$1,dialogContainer:baseStyleDialogContainer$1,dialog:runIfFn(baseStyleDialog$1,nt),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$3,body:baseStyleBody$2,footer:baseStyleFooter$2})),sizes$g={xs:getSize$2("xs"),sm:getSize$2("md"),md:getSize$2("lg"),lg:getSize$2("2xl"),xl:getSize$2("4xl"),full:getSize$2("full")},drawerTheme$1=defineMultiStyleConfig$j({baseStyle:baseStyle$v,sizes:sizes$g,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$u=definePartsStyle$i({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$u}),{definePartsStyle:definePartsStyle$h,defineMultiStyleConfig:defineMultiStyleConfig$h}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$4=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$4.variable]:"colors.red.500",_dark:{[$fg$4.variable]:"colors.red.300"},color:$fg$4.reference},baseStyleHelperText={mt:"2",[$fg$4.variable]:"colors.gray.600",_dark:{[$fg$4.variable]:"colors.whiteAlpha.600"},color:$fg$4.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$t=definePartsStyle$h({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme$1=defineMultiStyleConfig$h({baseStyle:baseStyle$t}),{definePartsStyle:definePartsStyle$g,defineMultiStyleConfig:defineMultiStyleConfig$g}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$3=cssVar$1("form-error-color"),baseStyleText={[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$4={marginEnd:"0.5em",[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference},baseStyle$s=definePartsStyle$g({text:baseStyleText,icon:baseStyleIcon$4}),formErrorTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$s}),baseStyle$r={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$r},baseStyle$q={fontFamily:"heading",fontWeight:"bold"},sizes$f={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme$1={baseStyle:baseStyle$q,sizes:sizes$f,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height$1=cssVar$1("input-height"),$fontSize$1=cssVar$1("input-font-size"),$padding=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$p=definePartsStyle$f({addon:{height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize$1.variable]:"fontSizes.lg",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.12"},md:{[$fontSize$1.variable]:"fontSizes.md",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.10"},sm:{[$fontSize$1.variable]:"fontSizes.sm",[$padding.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.8"},xs:{[$fontSize$1.variable]:"fontSizes.xs",[$padding.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.6"}},sizes$e={lg:definePartsStyle$f({field:size.lg,group:size.lg}),md:definePartsStyle$f({field:size.md,group:size.md}),sm:definePartsStyle$f({field:size.sm,group:size.sm}),xs:definePartsStyle$f({field:size.xs,group:size.xs})};function getDefaults(nt){const{focusBorderColor:et,errorBorderColor:at}=nt;return{focusBorderColor:et||mode("blue.500","blue.300")(nt),errorBorderColor:at||mode("red.500","red.300")(nt)}}const variantOutline=definePartsStyle$f(nt=>{const{theme:et}=nt,{focusBorderColor:at,errorBorderColor:mt}=getDefaults(nt);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(nt)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(et,mt),boxShadow:`0 0 0 1px ${getColor(et,mt)}`},_focusVisible:{zIndex:1,borderColor:getColor(et,at),boxShadow:`0 0 0 1px ${getColor(et,at)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(nt),bg:mode("gray.100","whiteAlpha.300")(nt)}}}),variantFilled=definePartsStyle$f(nt=>{const{theme:et}=nt,{focusBorderColor:at,errorBorderColor:mt}=getDefaults(nt);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(nt),_hover:{bg:mode("gray.200","whiteAlpha.100")(nt)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(et,mt)},_focusVisible:{bg:"transparent",borderColor:getColor(et,at)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(nt)}}}),variantFlushed=definePartsStyle$f(nt=>{const{theme:et}=nt,{focusBorderColor:at,errorBorderColor:mt}=getDefaults(nt);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(et,mt),boxShadow:`0px 1px 0px 0px ${getColor(et,mt)}`},_focusVisible:{borderColor:getColor(et,at),boxShadow:`0px 1px 0px 0px ${getColor(et,at)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$f({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme$1=defineMultiStyleConfig$f({baseStyle:baseStyle$p,sizes:sizes$e,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),$bg$a=cssVar$1("kbd-bg"),baseStyle$o={[$bg$a.variable]:"colors.gray.100",_dark:{[$bg$a.variable]:"colors.whiteAlpha.100"},bg:$bg$a.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$o},baseStyle$n={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$n},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$m=definePartsStyle$e({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$m}),{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$9=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$9.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$9.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:$bg$9.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$9.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton={transitionProperty:"common",transitionDuration:"normal"},baseStyle$l=definePartsStyle$d({button:baseStyleButton,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme$1=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$8=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer=nt=>{const{isCentered:et,scrollBehavior:at}=nt;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:et?"center":"flex-start",overflow:at==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog=nt=>{const{isCentered:et,scrollBehavior:at}=nt;return{borderRadius:"md",color:"inherit",my:et?"auto":"16",mx:et?"auto":void 0,zIndex:"modal",maxH:at==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$8.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$8.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$8.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$1={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$1=nt=>{const{scrollBehavior:et}=nt;return{px:"6",py:"2",flex:"1",overflow:et==="inside"?"auto":void 0}},baseStyleFooter$1={px:"6",py:"4"},baseStyle$k=definePartsStyle$c(nt=>({overlay:baseStyleOverlay,dialogContainer:runIfFn(baseStyleDialogContainer,nt),dialog:runIfFn(baseStyleDialog,nt),header:baseStyleHeader$1,closeButton:baseStyleCloseButton$2,body:runIfFn(baseStyleBody$1,nt),footer:baseStyleFooter$1}));function getSize$1(nt){return definePartsStyle$c(nt==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:nt}})}const sizes$d={xs:getSize$1("xs"),sm:getSize$1("sm"),md:getSize$1("md"),lg:getSize$1("lg"),xl:getSize$1("xl"),"2xl":getSize$1("2xl"),"3xl":getSize$1("3xl"),"4xl":getSize$1("4xl"),"5xl":getSize$1("5xl"),"6xl":getSize$1("6xl"),full:getSize$1("full")},modalTheme$1=defineMultiStyleConfig$c({baseStyle:baseStyle$k,sizes:sizes$d,defaultProps:{size:"md"}}),typography$1={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$7=cssVar("number-input-bg"),$fg$2=cssVar("number-input-color"),$border$1=cssVar("number-input-border-color"),baseStyleRoot$1={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField$1=nt=>{var et;return((et=runIfFn(inputTheme$1.baseStyle,nt))==null?void 0:et.field)??{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$1.reference,color:$fg$2.reference,bg:$bg$7.reference,[$fg$2.variable]:"colors.chakra-body-text",[$border$1.variable]:"colors.chakra-border-color",_dark:{[$fg$2.variable]:"colors.whiteAlpha.800",[$border$1.variable]:"colors.whiteAlpha.300"},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$j=definePartsStyle$b(nt=>({root:baseStyleRoot$1,field:runIfFn(baseStyleField$1,nt)??{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}));function getSize(nt){var Ct,Dt;const et=(Ct=inputTheme$1.sizes)==null?void 0:Ct[nt],at={lg:"md",md:"md",sm:"sm",xs:"sm"},mt=((Dt=et.field)==null?void 0:Dt.fontSize)??"md",$t=typography$1.fontSizes[mt];return definePartsStyle$b({field:{...et.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc($t).multiply(.75).toString(),_first:{borderTopEndRadius:at[nt]},_last:{borderBottomEndRadius:at[nt],mt:"-1px",borderTopWidth:1}}})}const sizes$c={xs:getSize("xs"),sm:getSize("sm"),md:getSize("md"),lg:getSize("lg")},numberInputTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$c,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps});var s0;const baseStyle$i={...(s0=inputTheme$1.baseStyle)==null?void 0:s0.field,textAlign:"center"},sizes$b={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var l0;const variants$9={outline:nt=>{var et,at;return((at=runIfFn((et=inputTheme$1.variants)==null?void 0:et.outline,nt))==null?void 0:at.field)??{}},flushed:nt=>{var et,at;return((at=runIfFn((et=inputTheme$1.variants)==null?void 0:et.flushed,nt))==null?void 0:at.field)??{}},filled:nt=>{var et,at;return((at=runIfFn((et=inputTheme$1.variants)==null?void 0:et.filled,nt))==null?void 0:at.field)??{}},unstyled:((l0=inputTheme$1.variants)==null?void 0:l0.unstyled.field)??{}},pinInputTheme={baseStyle:baseStyle$i,sizes:sizes$b,variants:variants$9,defaultProps:inputTheme$1.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg$1=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:"popover"},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg$1.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody={px:3,py:2},baseStyleFooter={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$h=definePartsStyle$a({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader,body:baseStyleBody,footer:baseStyleFooter,closeButton:baseStyleCloseButton$1}),popoverTheme$1=defineMultiStyleConfig$a({baseStyle:baseStyle$h}),{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=nt=>{const{colorScheme:et,theme:at,isIndeterminate:mt,hasStripe:$t}=nt,Ct=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(nt),Dt=mode(`${et}.500`,`${et}.200`)(nt),Ft=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(at,Dt)} 50%,
    transparent 100%
  )`;return{...!mt&&$t&&Ct,...mt?{bgImage:Ft}:{bgColor:Dt}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$2=nt=>({bg:mode("gray.100","whiteAlpha.300")(nt)}),baseStyleFilledTrack$1=nt=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(nt)}),baseStyle$g=definePartsStyle$9(nt=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(nt),track:baseStyleTrack$2(nt)})),sizes$a={xs:definePartsStyle$9({track:{h:"1"}}),sm:definePartsStyle$9({track:{h:"2"}}),md:definePartsStyle$9({track:{h:"3"}}),lg:definePartsStyle$9({track:{h:"4"}})},progressTheme$1=defineMultiStyleConfig$9({sizes:sizes$a,baseStyle:baseStyle$g,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$8,definePartsStyle:definePartsStyle$8}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=nt=>{var at;const et=(at=runIfFn(checkboxTheme$1.baseStyle,nt))==null?void 0:at.control;return{...et,borderRadius:"full",_checked:{...et==null?void 0:et._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$f=definePartsStyle$8(nt=>{var et,at;return{label:(et=checkboxTheme$1.baseStyle)==null?void 0:et.call(checkboxTheme$1,nt).label,container:(at=checkboxTheme$1.baseStyle)==null?void 0:at.call(checkboxTheme$1,nt).container,control:baseStyleControl(nt)}}),sizes$9={md:definePartsStyle$8({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$8({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$8({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$7,definePartsStyle:definePartsStyle$7}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$6=cssVar$1("select-bg");var u0;const baseStyleField={...(u0=inputTheme$1.baseStyle)==null?void 0:u0.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$6.reference,[$bg$6.variable]:"colors.white",_dark:{[$bg$6.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$6.reference}},baseStyleIcon$1={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$e=definePartsStyle$7({field:baseStyleField,icon:baseStyleIcon$1}),iconSpacing={paddingInlineEnd:"8"};var c0,d0,f0,h0,p0,m0,g0,v0;const sizes$8={lg:{...(c0=inputTheme$1.sizes)==null?void 0:c0.lg,field:{...(d0=inputTheme$1.sizes)==null?void 0:d0.lg.field,...iconSpacing}},md:{...(f0=inputTheme$1.sizes)==null?void 0:f0.md,field:{...(h0=inputTheme$1.sizes)==null?void 0:h0.md.field,...iconSpacing}},sm:{...(p0=inputTheme$1.sizes)==null?void 0:p0.sm,field:{...(m0=inputTheme$1.sizes)==null?void 0:m0.sm.field,...iconSpacing}},xs:{...(g0=inputTheme$1.sizes)==null?void 0:g0.xs,field:{...(v0=inputTheme$1.sizes)==null?void 0:v0.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e,sizes:sizes$8,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps}),$startColor$2=cssVar$1("skeleton-start-color"),$endColor$2=cssVar$1("skeleton-end-color"),baseStyle$d={[$startColor$2.variable]:"colors.gray.100",[$endColor$2.variable]:"colors.gray.400",_dark:{[$startColor$2.variable]:"colors.gray.800",[$endColor$2.variable]:"colors.gray.600"},background:$startColor$2.reference,borderColor:$endColor$2.reference,opacity:.7,borderRadius:"sm"},skeletonTheme$1={baseStyle:baseStyle$d},$bg$5=cssVar$1("skip-link-bg"),baseStyle$c={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$5.variable]:"colors.white",_dark:{[$bg$5.variable]:"colors.gray.700"},bg:$bg$5.reference}},skipLinkTheme={baseStyle:baseStyle$c},{defineMultiStyleConfig:defineMultiStyleConfig$6,definePartsStyle:definePartsStyle$6}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$4=cssVar$1("slider-bg"),baseStyleContainer$1=nt=>{const{orientation:et}=nt;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient$2({orientation:et,vertical:{h:"100%",px:calc$1($thumbSize.reference).divide(2).toString()},horizontal:{w:"100%",py:calc$1($thumbSize.reference).divide(2).toString()}})}},baseStyleTrack$1=nt=>({...orient$2({orientation:nt.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$4.variable]:"colors.gray.200",_dark:{[$bg$4.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$4.variable]:"colors.gray.300",_dark:{[$bg$4.variable]:"colors.whiteAlpha.300"}},bg:$bg$4.reference}),baseStyleThumb$1=nt=>{const{orientation:et}=nt;return{...orient$2({orientation:et,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=nt=>{const{colorScheme:et}=nt;return{width:"inherit",height:"inherit",[$bg$4.variable]:`colors.${et}.500`,_dark:{[$bg$4.variable]:`colors.${et}.200`},bg:$bg$4.reference}},baseStyle$b=definePartsStyle$6(nt=>({container:baseStyleContainer$1(nt),track:baseStyleTrack$1(nt),thumb:baseStyleThumb$1(nt),filledTrack:baseStyleFilledTrack(nt)})),sizeLg=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$7={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme$1=defineMultiStyleConfig$6({baseStyle:baseStyle$b,sizes:sizes$7,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$a={width:[$size$1.reference],height:[$size$1.reference]},sizes$6={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$a,sizes:sizes$6,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$5,definePartsStyle:definePartsStyle$5}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$9=definePartsStyle$5({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon}),sizes$5={md:definePartsStyle$5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$9,sizes:sizes$5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$8=definePartsStyle$4(({colorScheme:nt})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${nt}.500`,_dark:{[$accentColor.variable]:`colors.${nt}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size.reference,height:$size.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size.reference} - 8px)`,top:`calc(${$size.reference} + 4px)`,insetStart:`calc(${$size.reference} / 2 - 1px)`}}})),stepperTheme$1=defineMultiStyleConfig$4({baseStyle:baseStyle$8,sizes:{xs:definePartsStyle$4({stepper:{[$size.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$4({stepper:{[$size.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$4({stepper:{[$size.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$4({stepper:{[$size.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$3,definePartsStyle:definePartsStyle$3}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$3=cssVar("switch-bg"),baseStyleTrack=nt=>{const{colorScheme:et}=nt;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$3.variable]:"colors.gray.300",_dark:{[$bg$3.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$3.variable]:`colors.${et}.500`,_dark:{[$bg$3.variable]:`colors.${et}.200`}},bg:$bg$3.reference}},baseStyleThumb={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$7=definePartsStyle$3(nt=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack(nt),thumb:baseStyleThumb})),sizes$4={sm:definePartsStyle$3({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$3({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$3({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme$1=defineMultiStyleConfig$3({baseStyle:baseStyle$7,sizes:sizes$4,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$2,definePartsStyle:definePartsStyle$2}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$6=definePartsStyle$2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$2(nt=>{const{colorScheme:et}=nt;return{th:{color:mode("gray.600","gray.400")(nt),borderBottom:"1px",borderColor:mode(`${et}.100`,`${et}.700`)(nt),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${et}.100`,`${et}.700`)(nt),...numericStyles},caption:{color:mode("gray.600","gray.100")(nt)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$2(nt=>{const{colorScheme:et}=nt;return{th:{color:mode("gray.600","gray.400")(nt),borderBottom:"1px",borderColor:mode(`${et}.100`,`${et}.700`)(nt),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${et}.100`,`${et}.700`)(nt),...numericStyles},caption:{color:mode("gray.600","gray.100")(nt)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${et}.100`,`${et}.700`)(nt)},td:{background:mode(`${et}.100`,`${et}.700`)(nt)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$8={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$3={sm:definePartsStyle$2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme$1=defineMultiStyleConfig$2({baseStyle:baseStyle$6,variants:variants$8,sizes:sizes$3,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$1=cssVar$1("tabs-color"),$bg$2=cssVar$1("tabs-bg"),$border=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$1,definePartsStyle:definePartsStyle$1}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot=nt=>{const{orientation:et}=nt;return{display:et==="vertical"?"flex":"block"}},baseStyleTab=nt=>{const{isFitted:et}=nt;return{flex:et?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=nt=>{const{align:et="start",orientation:at}=nt;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[et],flexDirection:at==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$5=definePartsStyle$1(nt=>({root:baseStyleRoot(nt),tab:baseStyleTab(nt),tablist:baseStyleTablist(nt),tabpanel:baseStyleTabpanel})),sizes$2={sm:definePartsStyle$1({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$1({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$1({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$1(nt=>{const{colorScheme:et,orientation:at}=nt,mt=at==="vertical",$t=mt?"borderStart":"borderBottom",Ct=mt?"marginStart":"marginBottom";return{tablist:{[$t]:"2px solid",borderColor:"inherit"},tab:{[$t]:"2px solid",borderColor:"transparent",[Ct]:"-2px",_selected:{[$fg$1.variable]:`colors.${et}.600`,_dark:{[$fg$1.variable]:`colors.${et}.300`},borderColor:"currentColor"},_active:{[$bg$2.variable]:"colors.gray.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantEnclosed=definePartsStyle$1(nt=>{const{colorScheme:et}=nt;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border.variable]:"transparent",_selected:{[$fg$1.variable]:`colors.${et}.600`,[$border.variable]:"colors.white",_dark:{[$fg$1.variable]:`colors.${et}.300`,[$border.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border.reference},color:$fg$1.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$1(nt=>{const{colorScheme:et}=nt;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$2.variable]:"colors.gray.50",_dark:{[$bg$2.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$2.variable]:"colors.white",[$fg$1.variable]:`colors.${et}.600`,_dark:{[$bg$2.variable]:"colors.gray.800",[$fg$1.variable]:`colors.${et}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$1.reference,bg:$bg$2.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$1(nt=>{const{colorScheme:et,theme:at}=nt;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(at,`${et}.700`),bg:getColor(at,`${et}.100`)}}}}),variantSolidRounded=definePartsStyle$1(nt=>{const{colorScheme:et}=nt;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$1.variable]:"colors.gray.600",_dark:{[$fg$1.variable]:"inherit"},_selected:{[$fg$1.variable]:"colors.white",[$bg$2.variable]:`colors.${et}.600`,_dark:{[$fg$1.variable]:"colors.gray.800",[$bg$2.variable]:`colors.${et}.300`}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantUnstyled=definePartsStyle$1({}),variants$7={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled},tabsTheme$1=defineMultiStyleConfig$1({baseStyle:baseStyle$5,sizes:sizes$2,variants:variants$7,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig,definePartsStyle}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$1=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$1.variable]:vars.bg.reference,[$shadow.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$1.reference,boxShadow:$shadow.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize.reference,px:$paddingX.reference,_focusVisible:{[$shadow.variable]:"shadows.outline"}},baseStyleLabel={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$4=definePartsStyle({container:baseStyleContainer,label:baseStyleLabel,closeButton:baseStyleCloseButton}),sizes$1={sm:definePartsStyle({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$6={subtle:definePartsStyle(nt=>{var et;return{container:(et=badgeTheme.variants)==null?void 0:et.subtle(nt)}}),solid:definePartsStyle(nt=>{var et;return{container:(et=badgeTheme.variants)==null?void 0:et.solid(nt)}}),outline:definePartsStyle(nt=>{var et;return{container:(et=badgeTheme.variants)==null?void 0:et.outline(nt)}})},tagTheme=defineMultiStyleConfig({variants:variants$6,baseStyle:baseStyle$4,sizes:sizes$1,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var y0;const baseStyle$3={...(y0=inputTheme$1.baseStyle)==null?void 0:y0.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var _0;const variants$5={outline:nt=>{var et;return((et=inputTheme$1.variants)==null?void 0:et.outline(nt).field)??{}},flushed:nt=>{var et;return((et=inputTheme$1.variants)==null?void 0:et.flushed(nt).field)??{}},filled:nt=>{var et;return((et=inputTheme$1.variants)==null?void 0:et.filled(nt).field)??{}},unstyled:((_0=inputTheme$1.variants)==null?void 0:_0.unstyled.field)??{}};var b0,x0,w0,S0;const sizes={xs:((b0=inputTheme$1.sizes)==null?void 0:b0.xs.field)??{},sm:((x0=inputTheme$1.sizes)==null?void 0:x0.sm.field)??{},md:((w0=inputTheme$1.sizes)==null?void 0:w0.md.field)??{},lg:((S0=inputTheme$1.sizes)==null?void 0:S0.lg.field)??{}},textareaTheme={baseStyle:baseStyle$3,sizes,variants:variants$5,defaultProps:{size:"md",variant:"outline"}},$bg=cssVar("tooltip-bg"),$fg=cssVar("tooltip-fg"),$arrowBg=cssVar("popper-arrow-bg"),baseStyle$2={bg:$bg.reference,color:$fg.reference,[$bg.variable]:"colors.gray.700",[$fg.variable]:"colors.whiteAlpha.900",_dark:{[$bg.variable]:"colors.gray.300",[$fg.variable]:"colors.gray.900"},[$arrowBg.variable]:$bg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme$1={baseStyle:baseStyle$2},components$1={Accordion:accordionTheme,Alert:alertTheme$1,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme$1,Checkbox:checkboxTheme$1,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme$1,Editable:editableTheme,Form:formTheme$1,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme$1,Input:inputTheme$1,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme$1,Modal:modalTheme$1,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme$1,Progress:progressTheme$1,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme$1,SkipLink:skipLinkTheme,Slider:sliderTheme$1,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme$1,Table:tableTheme$1,Tabs:tabsTheme$1,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme$1,Card:cardTheme$1,Stepper:stepperTheme$1},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},colors$1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},foundations$1={breakpoints:breakpoints$1,zIndices,radii,blur,colors:colors$1,...typography$1,sizes:sizes$m,shadows,space:spacing,borders:borders$1,transition},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles$1={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(nt){return isObject$3(nt)?requiredChakraThemeKeys.every(et=>Object.prototype.hasOwnProperty.call(nt,et)):!1}const direction="ltr",config$4={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations$1,components:components$1,styles:styles$1,config:config$4};var isDevelopment$3=!1;function sheetForTag(nt){if(nt.sheet)return nt.sheet;for(var et=0;et<document.styleSheets.length;et++)if(document.styleSheets[et].ownerNode===nt)return document.styleSheets[et]}function createStyleElement(nt){var et=document.createElement("style");return et.setAttribute("data-emotion",nt.key),nt.nonce!==void 0&&et.setAttribute("nonce",nt.nonce),et.appendChild(document.createTextNode("")),et.setAttribute("data-s",""),et}var StyleSheet=function(){function nt(at){var mt=this;this._insertTag=function($t){var Ct;mt.tags.length===0?mt.insertionPoint?Ct=mt.insertionPoint.nextSibling:mt.prepend?Ct=mt.container.firstChild:Ct=mt.before:Ct=mt.tags[mt.tags.length-1].nextSibling,mt.container.insertBefore($t,Ct),mt.tags.push($t)},this.isSpeedy=at.speedy===void 0?!isDevelopment$3:at.speedy,this.tags=[],this.ctr=0,this.nonce=at.nonce,this.key=at.key,this.container=at.container,this.prepend=at.prepend,this.insertionPoint=at.insertionPoint,this.before=null}var et=nt.prototype;return et.hydrate=function(mt){mt.forEach(this._insertTag)},et.insert=function(mt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var $t=this.tags[this.tags.length-1];if(this.isSpeedy){var Ct=sheetForTag($t);try{Ct.insertRule(mt,Ct.cssRules.length)}catch{}}else $t.appendChild(document.createTextNode(mt));this.ctr++},et.flush=function(){this.tags.forEach(function(mt){var $t;return($t=mt.parentNode)==null?void 0:$t.removeChild(mt)}),this.tags=[],this.ctr=0},nt}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$2=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(nt,et){return charat(nt,0)^45?(((et<<2^charat(nt,0))<<2^charat(nt,1))<<2^charat(nt,2))<<2^charat(nt,3):0}function trim$1(nt){return nt.trim()}function match(nt,et){return(nt=et.exec(nt))?nt[0]:nt}function replace(nt,et,at){return nt.replace(et,at)}function indexof(nt,et){return nt.indexOf(et)}function charat(nt,et){return nt.charCodeAt(et)|0}function substr(nt,et,at){return nt.slice(et,at)}function strlen(nt){return nt.length}function sizeof(nt){return nt.length}function append(nt,et){return et.push(nt),nt}function combine(nt,et){return nt.map(et).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(nt,et,at,mt,$t,Ct,Dt){return{value:nt,root:et,parent:at,type:mt,props:$t,children:Ct,line,column,length:Dt,return:""}}function copy(nt,et){return assign(node("",null,null,"",null,null,0),nt,{length:-nt.length},et)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(nt,et){return substr(characters,nt,et)}function token(nt){switch(nt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(nt){return line=column=1,length=strlen(characters=nt),position=0,[]}function dealloc(nt){return characters="",nt}function delimit(nt){return trim$1(slice(position-1,delimiter(nt===91?nt+2:nt===40?nt+1:nt)))}function whitespace(nt){for(;(character=peek())&&character<33;)next();return token(nt)>2||token(character)>3?"":" "}function escaping(nt,et){for(;--et&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(nt,caret()+(et<6&&peek()==32&&next()==32))}function delimiter(nt){for(;next();)switch(character){case nt:return position;case 34:case 39:nt!==34&&nt!==39&&delimiter(character);break;case 40:nt===41&&delimiter(nt);break;case 92:next();break}return position}function commenter(nt,et){for(;next()&&nt+character!==57;)if(nt+character===84&&peek()===47)break;return"/*"+slice(et,position-1)+"*"+from(nt===47?nt:next())}function identifier(nt){for(;!token(peek());)next();return slice(nt,position)}function compile(nt){return dealloc(parse("",null,null,null,[""],nt=alloc(nt),0,[0],nt))}function parse(nt,et,at,mt,$t,Ct,Dt,Ft,Nt){for(var jt=0,Lt=0,Vt=Dt,er=0,ir=0,or=0,lr=1,dr=1,pr=1,hr=0,vr="",br=$t,xr=Ct,Sr=mt,Er=vr;dr;)switch(or=hr,hr=next()){case 40:if(or!=108&&charat(Er,Vt-1)==58){indexof(Er+=replace(delimit(hr),"&","&\f"),"&\f")!=-1&&(pr=-1);break}case 34:case 39:case 91:Er+=delimit(hr);break;case 9:case 10:case 13:case 32:Er+=whitespace(or);break;case 92:Er+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),et,at),Nt);break;default:Er+="/"}break;case 123*lr:Ft[jt++]=strlen(Er)*pr;case 125*lr:case 59:case 0:switch(hr){case 0:case 125:dr=0;case 59+Lt:pr==-1&&(Er=replace(Er,/\f/g,"")),ir>0&&strlen(Er)-Vt&&append(ir>32?declaration(Er+";",mt,at,Vt-1):declaration(replace(Er," ","")+";",mt,at,Vt-2),Nt);break;case 59:Er+=";";default:if(append(Sr=ruleset(Er,et,at,jt,Lt,$t,Ft,vr,br=[],xr=[],Vt),Ct),hr===123)if(Lt===0)parse(Er,et,Sr,Sr,br,Ct,Vt,Ft,xr);else switch(er===99&&charat(Er,3)===110?100:er){case 100:case 108:case 109:case 115:parse(nt,Sr,Sr,mt&&append(ruleset(nt,Sr,Sr,0,0,$t,Ft,vr,$t,br=[],Vt),xr),$t,xr,Vt,Ft,mt?br:xr);break;default:parse(Er,Sr,Sr,Sr,[""],xr,0,Ft,xr)}}jt=Lt=ir=0,lr=pr=1,vr=Er="",Vt=Dt;break;case 58:Vt=1+strlen(Er),ir=or;default:if(lr<1){if(hr==123)--lr;else if(hr==125&&lr++==0&&prev()==125)continue}switch(Er+=from(hr),hr*lr){case 38:pr=Lt>0?1:(Er+="\f",-1);break;case 44:Ft[jt++]=(strlen(Er)-1)*pr,pr=1;break;case 64:peek()===45&&(Er+=delimit(next())),er=peek(),Lt=Vt=strlen(vr=Er+=identifier(caret())),hr++;break;case 45:or===45&&strlen(Er)==2&&(lr=0)}}return Ct}function ruleset(nt,et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt){for(var Vt=$t-1,er=$t===0?Ct:[""],ir=sizeof(er),or=0,lr=0,dr=0;or<mt;++or)for(var pr=0,hr=substr(nt,Vt+1,Vt=abs$2(lr=Dt[or])),vr=nt;pr<ir;++pr)(vr=trim$1(lr>0?er[pr]+" "+hr:replace(hr,/&\f/g,er[pr])))&&(Nt[dr++]=vr);return node(nt,et,at,$t===0?RULESET:Ft,Nt,jt,Lt)}function comment(nt,et,at){return node(nt,et,at,COMMENT,from(char()),substr(nt,2,-2),0)}function declaration(nt,et,at,mt){return node(nt,et,at,DECLARATION,substr(nt,0,mt),substr(nt,mt+1,-1),mt)}function serialize(nt,et){for(var at="",mt=sizeof(nt),$t=0;$t<mt;$t++)at+=et(nt[$t],$t,nt,et)||"";return at}function stringify$1(nt,et,at,mt){switch(nt.type){case LAYER:if(nt.children.length)break;case IMPORT:case DECLARATION:return nt.return=nt.return||nt.value;case COMMENT:return"";case KEYFRAMES:return nt.return=nt.value+"{"+serialize(nt.children,mt)+"}";case RULESET:nt.value=nt.props.join(",")}return strlen(at=serialize(nt.children,mt))?nt.return=nt.value+"{"+at+"}":""}function middleware(nt){var et=sizeof(nt);return function(at,mt,$t,Ct){for(var Dt="",Ft=0;Ft<et;Ft++)Dt+=nt[Ft](at,mt,$t,Ct)||"";return Dt}}function rulesheet(nt){return function(et){et.root||(et=et.return)&&nt(et)}}var weakMemoize=function nt(et){var at=new WeakMap;return function(mt){if(at.has(mt))return at.get(mt);var $t=et(mt);return at.set(mt,$t),$t}};function memoize$1(nt){var et=Object.create(null);return function(at){return et[at]===void 0&&(et[at]=nt(at)),et[at]}}var identifierWithPointTracking=function nt(et,at,mt){for(var $t=0,Ct=0;$t=Ct,Ct=peek(),$t===38&&Ct===12&&(at[mt]=1),!token(Ct);)next();return slice(et,position)},toRules=function nt(et,at){var mt=-1,$t=44;do switch(token($t)){case 0:$t===38&&peek()===12&&(at[mt]=1),et[mt]+=identifierWithPointTracking(position-1,at,mt);break;case 2:et[mt]+=delimit($t);break;case 4:if($t===44){et[++mt]=peek()===58?"&\f":"",at[mt]=et[mt].length;break}default:et[mt]+=from($t)}while($t=next());return et},getRules=function nt(et,at){return dealloc(toRules(alloc(et),at))},fixedElements=new WeakMap,compat=function nt(et){if(!(et.type!=="rule"||!et.parent||et.length<1)){for(var at=et.value,mt=et.parent,$t=et.column===mt.column&&et.line===mt.line;mt.type!=="rule";)if(mt=mt.parent,!mt)return;if(!(et.props.length===1&&at.charCodeAt(0)!==58&&!fixedElements.get(mt))&&!$t){fixedElements.set(et,!0);for(var Ct=[],Dt=getRules(at,Ct),Ft=mt.props,Nt=0,jt=0;Nt<Dt.length;Nt++)for(var Lt=0;Lt<Ft.length;Lt++,jt++)et.props[jt]=Ct[Nt]?Dt[Nt].replace(/&\f/g,Ft[Lt]):Ft[Lt]+" "+Dt[Nt]}}},removeLabel=function nt(et){if(et.type==="decl"){var at=et.value;at.charCodeAt(0)===108&&at.charCodeAt(2)===98&&(et.return="",et.value="")}};function prefix(nt,et){switch(hash$2(nt,et)){case 5103:return WEBKIT+"print-"+nt+nt;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+nt+nt;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+nt+MOZ+nt+MS+nt+nt;case 6828:case 4268:return WEBKIT+nt+MS+nt+nt;case 6165:return WEBKIT+nt+MS+"flex-"+nt+nt;case 5187:return WEBKIT+nt+replace(nt,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+nt;case 5443:return WEBKIT+nt+MS+"flex-item-"+replace(nt,/flex-|-self/,"")+nt;case 4675:return WEBKIT+nt+MS+"flex-line-pack"+replace(nt,/align-content|flex-|-self/,"")+nt;case 5548:return WEBKIT+nt+MS+replace(nt,"shrink","negative")+nt;case 5292:return WEBKIT+nt+MS+replace(nt,"basis","preferred-size")+nt;case 6060:return WEBKIT+"box-"+replace(nt,"-grow","")+WEBKIT+nt+MS+replace(nt,"grow","positive")+nt;case 4554:return WEBKIT+replace(nt,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+nt;case 6187:return replace(replace(replace(nt,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),nt,"")+nt;case 5495:case 3959:return replace(nt,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(nt,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+nt+nt;case 4095:case 3583:case 4068:case 2532:return replace(nt,/(.+)-inline(.+)/,WEBKIT+"$1$2")+nt;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(nt)-1-et>6)switch(charat(nt,et+1)){case 109:if(charat(nt,et+4)!==45)break;case 102:return replace(nt,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(nt,et+3)==108?"$3":"$2-$3"))+nt;case 115:return~indexof(nt,"stretch")?prefix(replace(nt,"stretch","fill-available"),et)+nt:nt}break;case 4949:if(charat(nt,et+1)!==115)break;case 6444:switch(charat(nt,strlen(nt)-3-(~indexof(nt,"!important")&&10))){case 107:return replace(nt,":",":"+WEBKIT)+nt;case 101:return replace(nt,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(nt,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+nt}break;case 5936:switch(charat(nt,et+11)){case 114:return WEBKIT+nt+MS+replace(nt,/[svh]\w+-[tblr]{2}/,"tb")+nt;case 108:return WEBKIT+nt+MS+replace(nt,/[svh]\w+-[tblr]{2}/,"tb-rl")+nt;case 45:return WEBKIT+nt+MS+replace(nt,/[svh]\w+-[tblr]{2}/,"lr")+nt}return WEBKIT+nt+MS+nt+nt}return nt}var prefixer=function nt(et,at,mt,$t){if(et.length>-1&&!et.return)switch(et.type){case DECLARATION:et.return=prefix(et.value,et.length);break;case KEYFRAMES:return serialize([copy(et,{value:replace(et.value,"@","@"+WEBKIT)})],$t);case RULESET:if(et.length)return combine(et.props,function(Ct){switch(match(Ct,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(et,{props:[replace(Ct,/:(read-\w+)/,":"+MOZ+"$1")]})],$t);case"::placeholder":return serialize([copy(et,{props:[replace(Ct,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(et,{props:[replace(Ct,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(et,{props:[replace(Ct,/:(plac\w+)/,MS+"input-$1")]})],$t)}return""})}},defaultStylisPlugins=[prefixer],createCache=function nt(et){var at=et.key;if(at==="css"){var mt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(mt,function(lr){var dr=lr.getAttribute("data-emotion");dr.indexOf(" ")!==-1&&(document.head.appendChild(lr),lr.setAttribute("data-s",""))})}var $t=et.stylisPlugins||defaultStylisPlugins,Ct={},Dt,Ft=[];Dt=et.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+at+' "]'),function(lr){for(var dr=lr.getAttribute("data-emotion").split(" "),pr=1;pr<dr.length;pr++)Ct[dr[pr]]=!0;Ft.push(lr)});var Nt,jt=[compat,removeLabel];{var Lt,Vt=[stringify$1,rulesheet(function(lr){Lt.insert(lr)})],er=middleware(jt.concat($t,Vt)),ir=function(dr){return serialize(compile(dr),er)};Nt=function(dr,pr,hr,vr){Lt=hr,ir(dr?dr+"{"+pr.styles+"}":pr.styles),vr&&(or.inserted[pr.name]=!0)}}var or={key:at,sheet:new StyleSheet({key:at,container:Dt,nonce:et.nonce,speedy:et.speedy,prepend:et.prepend,insertionPoint:et.insertionPoint}),nonce:et.nonce,inserted:Ct,registered:{},insert:Nt};return or.sheet.hydrate(Ft),or};function _extends(){return _extends=Object.assign?Object.assign.bind():function(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et];for(var mt in at)({}).hasOwnProperty.call(at,mt)&&(nt[mt]=at[mt])}return nt},_extends.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$1=b$2?Symbol.for("react.element"):60103,d$3=b$2?Symbol.for("react.portal"):60106,e=b$2?Symbol.for("react.fragment"):60107,f=b$2?Symbol.for("react.strict_mode"):60108,g$1=b$2?Symbol.for("react.profiler"):60114,h$1=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l=b$2?Symbol.for("react.async_mode"):60111,m$3=b$2?Symbol.for("react.concurrent_mode"):60111,n=b$2?Symbol.for("react.forward_ref"):60112,p=b$2?Symbol.for("react.suspense"):60113,q$2=b$2?Symbol.for("react.suspense_list"):60120,r$2=b$2?Symbol.for("react.memo"):60115,t=b$2?Symbol.for("react.lazy"):60116,v$4=b$2?Symbol.for("react.block"):60121,w$3=b$2?Symbol.for("react.fundamental"):60117,x$2=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z$2(nt){if(typeof nt=="object"&&nt!==null){var et=nt.$$typeof;switch(et){case c$1:switch(nt=nt.type,nt){case l:case m$3:case e:case g$1:case f:case p:return nt;default:switch(nt=nt&&nt.$$typeof,nt){case k$2:case n:case t:case r$2:case h$1:return nt;default:return et}}case d$3:return et}}}function A$1(nt){return z$2(nt)===m$3}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$3;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$2;reactIs_production_min.Portal=d$3;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(nt){return A$1(nt)||z$2(nt)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(nt){return z$2(nt)===k$2};reactIs_production_min.isContextProvider=function(nt){return z$2(nt)===h$1};reactIs_production_min.isElement=function(nt){return typeof nt=="object"&&nt!==null&&nt.$$typeof===c$1};reactIs_production_min.isForwardRef=function(nt){return z$2(nt)===n};reactIs_production_min.isFragment=function(nt){return z$2(nt)===e};reactIs_production_min.isLazy=function(nt){return z$2(nt)===t};reactIs_production_min.isMemo=function(nt){return z$2(nt)===r$2};reactIs_production_min.isPortal=function(nt){return z$2(nt)===d$3};reactIs_production_min.isProfiler=function(nt){return z$2(nt)===g$1};reactIs_production_min.isStrictMode=function(nt){return z$2(nt)===f};reactIs_production_min.isSuspense=function(nt){return z$2(nt)===p};reactIs_production_min.isValidElementType=function(nt){return typeof nt=="string"||typeof nt=="function"||nt===e||nt===m$3||nt===g$1||nt===f||nt===p||nt===q$2||typeof nt=="object"&&nt!==null&&(nt.$$typeof===t||nt.$$typeof===r$2||nt.$$typeof===h$1||nt.$$typeof===k$2||nt.$$typeof===n||nt.$$typeof===w$3||nt.$$typeof===x$2||nt.$$typeof===y$1||nt.$$typeof===v$4)};reactIs_production_min.typeOf=z$2;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(nt,et,at){var mt="";return at.split(" ").forEach(function($t){nt[$t]!==void 0?et.push(nt[$t]+";"):$t&&(mt+=$t+" ")}),mt}var registerStyles=function nt(et,at,mt){var $t=et.key+"-"+at.name;(mt===!1||isBrowser$1===!1)&&et.registered[$t]===void 0&&(et.registered[$t]=at.styles)},insertStyles=function nt(et,at,mt){registerStyles(et,at,mt);var $t=et.key+"-"+at.name;if(et.inserted[at.name]===void 0){var Ct=at;do et.insert(at===Ct?"."+$t:"",Ct,et.sheet,!0),Ct=Ct.next;while(Ct!==void 0)}},unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$2=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function nt(et){return et.charCodeAt(1)===45},isProcessableValue=function nt(et){return et!=null&&typeof et!="boolean"},processStyleName=memoize$1(function(nt){return isCustomProperty(nt)?nt:nt.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function nt(et,at){switch(et){case"animation":case"animationName":if(typeof at=="string")return at.replace(animationRegex,function(mt,$t,Ct){return cursor={name:$t,styles:Ct,next:cursor},$t})}return unitlessKeys[et]!==1&&!isCustomProperty(et)&&typeof at=="number"&&at!==0?at+"px":at},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(nt,et,at){if(at==null)return"";var mt=at;if(mt.__emotion_styles!==void 0)return mt;switch(typeof at){case"boolean":return"";case"object":{var $t=at;if($t.anim===1)return cursor={name:$t.name,styles:$t.styles,next:cursor},$t.name;var Ct=at;if(Ct.styles!==void 0){var Dt=Ct.next;if(Dt!==void 0)for(;Dt!==void 0;)cursor={name:Dt.name,styles:Dt.styles,next:cursor},Dt=Dt.next;var Ft=Ct.styles+";";return Ft}return createStringFromObject(nt,et,at)}case"function":{if(nt!==void 0){var Nt=cursor,jt=at(nt);return cursor=Nt,handleInterpolation(nt,et,jt)}break}}var Lt=at;if(et==null)return Lt;var Vt=et[Lt];return Vt!==void 0?Vt:Lt}function createStringFromObject(nt,et,at){var mt="";if(Array.isArray(at))for(var $t=0;$t<at.length;$t++)mt+=handleInterpolation(nt,et,at[$t])+";";else for(var Ct in at){var Dt=at[Ct];if(typeof Dt!="object"){var Ft=Dt;et!=null&&et[Ft]!==void 0?mt+=Ct+"{"+et[Ft]+"}":isProcessableValue(Ft)&&(mt+=processStyleName(Ct)+":"+processStyleValue(Ct,Ft)+";")}else{if(Ct==="NO_COMPONENT_SELECTOR"&&isDevelopment$2)throw new Error(noComponentSelectorMessage);if(Array.isArray(Dt)&&typeof Dt[0]=="string"&&(et==null||et[Dt[0]]===void 0))for(var Nt=0;Nt<Dt.length;Nt++)isProcessableValue(Dt[Nt])&&(mt+=processStyleName(Ct)+":"+processStyleValue(Ct,Dt[Nt])+";");else{var jt=handleInterpolation(nt,et,Dt);switch(Ct){case"animation":case"animationName":{mt+=processStyleName(Ct)+":"+jt+";";break}default:mt+=Ct+"{"+jt+"}"}}}}return mt}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(nt,et,at){if(nt.length===1&&typeof nt[0]=="object"&&nt[0]!==null&&nt[0].styles!==void 0)return nt[0];var mt=!0,$t="";cursor=void 0;var Ct=nt[0];if(Ct==null||Ct.raw===void 0)mt=!1,$t+=handleInterpolation(at,et,Ct);else{var Dt=Ct;$t+=Dt[0]}for(var Ft=1;Ft<nt.length;Ft++)if($t+=handleInterpolation(at,et,nt[Ft]),mt){var Nt=Ct;$t+=Nt[Ft]}labelPattern.lastIndex=0;for(var jt="",Lt;(Lt=labelPattern.exec($t))!==null;)jt+="-"+Lt[1];var Vt=murmur2($t)+jt;return{name:Vt,styles:$t,next:cursor}}var syncFallback=function nt(et){return et()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,isDevelopment$1=!1,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function nt(et){return reactExports.forwardRef(function(at,mt){var $t=reactExports.useContext(EmotionCacheContext);return et(at,$t,mt)})},ThemeContext=reactExports.createContext({}),getTheme$1=function nt(et,at){if(typeof at=="function"){var mt=at(et);return mt}return _extends({},et,at)},createCacheWithTheme=weakMemoize(function(nt){return weakMemoize(function(et){return getTheme$1(nt,et)})}),ThemeProvider$1=function nt(et){var at=reactExports.useContext(ThemeContext);return et.theme!==at&&(at=createCacheWithTheme(at)(et.theme)),reactExports.createElement(ThemeContext.Provider,{value:at},et.children)},hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function nt(et,at){var mt={};for(var $t in at)hasOwn.call(at,$t)&&(mt[$t]=at[$t]);return mt[typePropName]=et,mt},Insertion$1=function nt(et){var at=et.cache,mt=et.serialized,$t=et.isStringTag;return registerStyles(at,mt,$t),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(at,mt,$t)}),null},Emotion=withEmotionCache(function(nt,et,at){var mt=nt.css;typeof mt=="string"&&et.registered[mt]!==void 0&&(mt=et.registered[mt]);var $t=nt[typePropName],Ct=[mt],Dt="";typeof nt.className=="string"?Dt=getRegisteredStyles(et.registered,Ct,nt.className):nt.className!=null&&(Dt=nt.className+" ");var Ft=serializeStyles(Ct,void 0,reactExports.useContext(ThemeContext));Dt+=et.key+"-"+Ft.name;var Nt={};for(var jt in nt)hasOwn.call(nt,jt)&&jt!=="css"&&jt!==typePropName&&!isDevelopment$1&&(Nt[jt]=nt[jt]);return Nt.className=Dt,at&&(Nt.ref=at),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:et,serialized:Ft,isStringTag:typeof $t=="string"}),reactExports.createElement($t,Nt))}),Emotion$1=Emotion,jsx=function nt(et,at){var mt=arguments;if(at==null||!hasOwn.call(at,"css"))return reactExports.createElement.apply(void 0,mt);var $t=mt.length,Ct=new Array($t);Ct[0]=Emotion$1,Ct[1]=createEmotionProps(et,at);for(var Dt=2;Dt<$t;Dt++)Ct[Dt]=mt[Dt];return reactExports.createElement.apply(null,Ct)};(function(nt){var et;et||(et=nt.JSX||(nt.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(nt,et){var at=nt.styles,mt=serializeStyles([at],void 0,reactExports.useContext(ThemeContext)),$t=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var Ct=et.key+"-global",Dt=new et.sheet.constructor({key:Ct,nonce:et.sheet.nonce,container:et.sheet.container,speedy:et.sheet.isSpeedy}),Ft=!1,Nt=document.querySelector('style[data-emotion="'+Ct+" "+mt.name+'"]');return et.sheet.tags.length&&(Dt.before=et.sheet.tags[0]),Nt!==null&&(Ft=!0,Nt.setAttribute("data-emotion",Ct),Dt.hydrate([Nt])),$t.current=[Dt,Ft],function(){Dt.flush()}},[et]),useInsertionEffectWithLayoutFallback(function(){var Ct=$t.current,Dt=Ct[0],Ft=Ct[1];if(Ft){Ct[1]=!1;return}if(mt.next!==void 0&&insertStyles(et,mt.next,!0),Dt.tags.length){var Nt=Dt.tags[Dt.tags.length-1].nextElementSibling;Dt.before=Nt,Dt.flush()}et.insert("",mt,Dt,!1)},[et,mt.name]),null});function css$1(){for(var nt=arguments.length,et=new Array(nt),at=0;at<nt;at++)et[at]=arguments[at];return serializeStyles(et)}function keyframes$1(){var nt=css$1.apply(void 0,arguments),et="animation-"+nt.name;return{name:et,styles:"@keyframes "+et+"{"+nt.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const nt=reactExports.useContext(ColorModeContext);if(nt===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return nt}const classNames$1={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(nt={}){const{preventTransition:et=!0,nonce:at}=nt,mt={setDataset:$t=>{const Ct=et?mt.preventTransition():void 0;document.documentElement.dataset.theme=$t,document.documentElement.style.colorScheme=$t,Ct==null||Ct()},setClassName($t){document.body.classList.add($t?classNames$1.dark:classNames$1.light),document.body.classList.remove($t?classNames$1.light:classNames$1.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme($t){return mt.query().matches??$t==="dark"?"dark":"light"},addListener($t){const Ct=mt.query(),Dt=Ft=>{$t(Ft.matches?"dark":"light")};return typeof Ct.addListener=="function"?Ct.addListener(Dt):Ct.addEventListener("change",Dt),()=>{typeof Ct.removeListener=="function"?Ct.removeListener(Dt):Ct.removeEventListener("change",Dt)}},preventTransition(){const $t=document.createElement("style");return $t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),at!==void 0&&($t.nonce=at),document.head.appendChild($t),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild($t)})})}}};return mt}const STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(nt){return{ssr:!1,type:"localStorage",get(et){if(!(globalThis!=null&&globalThis.document))return et;let at;try{at=localStorage.getItem(nt)||et}catch{}return at||et},set(et){try{localStorage.setItem(nt,et)}catch{}}}}const localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$3=()=>{},useSafeLayoutEffect$1=isBrowser$2()?reactExports.useLayoutEffect:reactExports.useEffect;function getTheme(nt,et){return nt.type==="cookie"&&nt.ssr?nt.get(et):et}const ColorModeProvider=withEmotionCache(function nt(et,at){const{value:mt,children:$t,options:{useSystemColorMode:Ct,initialColorMode:Dt,disableTransitionOnChange:Ft}={},colorModeManager:Nt=localStorageManager}=et,jt=Dt==="dark"?"dark":"light",[Lt,Vt]=reactExports.useState(()=>getTheme(Nt,jt)),[er,ir]=reactExports.useState(()=>getTheme(Nt)),{getSystemTheme:or,setClassName:lr,setDataset:dr,addListener:pr}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:Ft,nonce:at==null?void 0:at.nonce}),[Ft,at==null?void 0:at.nonce]),hr=Dt==="system"&&!Lt?er:Lt,vr=reactExports.useCallback(Sr=>{const Er=Sr==="system"?or():Sr;Vt(Er),lr(Er==="dark"),dr(Er),Nt.set(Er)},[Nt,or,lr,dr]);useSafeLayoutEffect$1(()=>{Dt==="system"&&ir(or())},[]),reactExports.useEffect(()=>{const Sr=Nt.get();if(Sr){vr(Sr);return}if(Dt==="system"){vr("system");return}vr(jt)},[Nt,jt,Dt,vr]);const br=reactExports.useCallback(()=>{vr(hr==="dark"?"light":"dark")},[hr,vr]);reactExports.useEffect(()=>{if(Ct)return pr(vr)},[Ct,pr,vr]);const xr=reactExports.useMemo(()=>({colorMode:mt??hr,toggleColorMode:mt?noop$3:br,setColorMode:mt?noop$3:vr,forced:mt!==void 0}),[hr,br,vr,mt]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:xr,children:$t})});ColorModeProvider.displayName="ColorModeProvider";const css=String.raw,vhPolyfill=css`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:nt=""})=>jsxRuntimeExports.jsx(Global,{styles:css`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${nt} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${nt} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${nt} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${nt} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${nt} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${nt} :where(b, strong) {
        font-weight: bold;
      }

      ${nt} small {
        font-size: 80%;
      }

      ${nt} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${nt} sub {
        bottom: -0.25em;
      }

      ${nt} sup {
        top: -0.5em;
      }

      ${nt} img {
        border-style: none;
      }

      ${nt} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${nt} :where(button, input) {
        overflow: visible;
      }

      ${nt} :where(button, select) {
        text-transform: none;
      }

      ${nt} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${nt} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${nt} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${nt} progress {
        vertical-align: baseline;
      }

      ${nt} textarea {
        overflow: auto;
      }

      ${nt} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${nt} input[type="number"]::-webkit-inner-spin-button,
      ${nt} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${nt} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${nt} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${nt} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${nt} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${nt} details {
        display: block;
      }

      ${nt} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${nt} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${nt} button {
        background: transparent;
        padding: 0;
      }

      ${nt} fieldset {
        margin: 0;
        padding: 0;
      }

      ${nt} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${nt} textarea {
        resize: vertical;
      }

      ${nt} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${nt} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${nt} table {
        border-collapse: collapse;
      }

      ${nt} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${nt} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${nt} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${nt} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${nt} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function ThemeProvider(nt){const{cssVarsRoot:et,theme:at,children:mt}=nt,$t=reactExports.useMemo(()=>toCSSVar(at),[at]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:$t,children:[jsxRuntimeExports.jsx(CSSVars,{root:et}),mt]})}function CSSVars({root:nt=":host, :root"}){const et=[nt,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:at=>({[et]:at.__cssVars})})}createContext({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GlobalStyle(){const{colorMode:nt}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:et=>{const at=memoizedGet$1(et,"styles.global"),mt=runIfFn$1(at,{theme:et,colorMode:nt});return mt?css$2(mt)(et):void 0}})}const[PortalManagerContextProvider,usePortalManager]=createContext({strict:!1,name:"PortalManagerContext"});function PortalManager(nt){const{children:et,zIndex:at}=nt;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:at},children:et})}PortalManager.displayName="PortalManager";const EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(nt){const{children:et,environment:at,disabled:mt}=nt,$t=reactExports.useRef(null),Ct=reactExports.useMemo(()=>at||{getDocument:()=>{var Ft;return((Ft=$t.current)==null?void 0:Ft.ownerDocument)??document},getWindow:()=>{var Ft;return((Ft=$t.current)==null?void 0:Ft.ownerDocument.defaultView)??window}},[at]),Dt=!mt||!at;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:Ct,children:[et,Dt&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:$t})]})}EnvironmentProvider.displayName="EnvironmentProvider";const Provider=nt=>{const{children:et,colorModeManager:at,portalZIndex:mt,resetScope:$t,resetCSS:Ct=!0,theme:Dt={},environment:Ft,cssVarsRoot:Nt,disableEnvironment:jt,disableGlobalStyle:Lt}=nt,Vt=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:Ft,disabled:jt,children:et});return jsxRuntimeExports.jsx(ThemeProvider,{theme:Dt,cssVarsRoot:Nt,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:at,options:Dt.config,children:[Ct?jsxRuntimeExports.jsx(CSSReset,{scope:$t}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!Lt&&jsxRuntimeExports.jsx(GlobalStyle,{}),mt?jsxRuntimeExports.jsx(PortalManager,{zIndex:mt,children:Vt}):Vt]})})};function createDOMMotionComponentProxy(nt){if(typeof Proxy>"u")return nt;const et=new Map,at=(...mt)=>nt(...mt);return new Proxy(at,{get:(mt,$t)=>$t==="create"?nt:(et.has($t)||et.set($t,nt($t)),et.get($t))})}function isAnimationControls(nt){return nt!==null&&typeof nt=="object"&&typeof nt.start=="function"}const isKeyframesTarget=nt=>Array.isArray(nt);function shallowCompare(nt,et){if(!Array.isArray(et))return!1;const at=et.length;if(at!==nt.length)return!1;for(let mt=0;mt<at;mt++)if(et[mt]!==nt[mt])return!1;return!0}function isVariantLabel(nt){return typeof nt=="string"||Array.isArray(nt)}function getValueState(nt){const et=[{},{}];return nt==null||nt.values.forEach((at,mt)=>{et[0][mt]=at.get(),et[1][mt]=at.getVelocity()}),et}function resolveVariantFromProps(nt,et,at,mt){if(typeof et=="function"){const[$t,Ct]=getValueState(mt);et=et(at!==void 0?at:nt.custom,$t,Ct)}if(typeof et=="string"&&(et=nt.variants&&nt.variants[et]),typeof et=="function"){const[$t,Ct]=getValueState(mt);et=et(at!==void 0?at:nt.custom,$t,Ct)}return et}function resolveVariant(nt,et,at){const mt=nt.getProps();return resolveVariantFromProps(mt,et,at!==void 0?at:mt.custom,nt)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=nt=>nt*1e3,millisecondsToSeconds=nt=>nt/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=nt=>({type:"spring",stiffness:550,damping:nt===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(nt,{keyframes:et})=>et.length>2?keyframesTransition:transformProps.has(nt)?nt.startsWith("scale")?criticallyDampedSpring(et[1]):underDampedSpring:ease;function getValueTransition(nt,et){return nt?nt[et]||nt.default||nt:void 0}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=nt=>nt!==null;function getFinalKeyframe(nt,{repeat:et,repeatType:at="loop"},mt){const $t=nt.filter(isNotNull),Ct=et&&at!=="loop"&&et%2===1?0:$t.length-1;return!Ct||mt===void 0?$t[Ct]:mt}const noop$2=nt=>nt;let invariant$Q=noop$2;function createRenderStep(nt){let et=new Set,at=new Set,mt=!1,$t=!1;const Ct=new WeakSet;let Dt={delta:0,timestamp:0,isProcessing:!1};function Ft(jt){Ct.has(jt)&&(Nt.schedule(jt),nt()),jt(Dt)}const Nt={schedule:(jt,Lt=!1,Vt=!1)=>{const ir=Vt&&mt?et:at;return Lt&&Ct.add(jt),ir.has(jt)||ir.add(jt),jt},cancel:jt=>{at.delete(jt),Ct.delete(jt)},process:jt=>{if(Dt=jt,mt){$t=!0;return}mt=!0,[et,at]=[at,et],at.clear(),et.forEach(Ft),mt=!1,$t&&($t=!1,Nt.process(jt))}};return Nt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(nt,et){let at=!1,mt=!0;const $t={delta:0,timestamp:0,isProcessing:!1},Ct=()=>at=!0,Dt=stepsOrder.reduce((pr,hr)=>(pr[hr]=createRenderStep(Ct),pr),{}),{read:Ft,resolveKeyframes:Nt,update:jt,preRender:Lt,render:Vt,postRender:er}=Dt,ir=()=>{const pr=performance.now();at=!1,$t.delta=mt?1e3/60:Math.max(Math.min(pr-$t.timestamp,maxElapsed),1),$t.timestamp=pr,$t.isProcessing=!0,Ft.process($t),Nt.process($t),jt.process($t),Lt.process($t),Vt.process($t),er.process($t),$t.isProcessing=!1,at&&et&&(mt=!1,nt(ir))},or=()=>{at=!0,mt=!0,$t.isProcessing||nt(ir)};return{schedule:stepsOrder.reduce((pr,hr)=>{const vr=Dt[hr];return pr[hr]=(br,xr=!1,Sr=!1)=>(at||or(),vr.schedule(br,xr,Sr)),pr},{}),cancel:pr=>{for(let hr=0;hr<stepsOrder.length;hr++)Dt[stepsOrder[hr]].cancel(pr)},state:$t,steps:Dt}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),calcBezier=(nt,et,at)=>(((1-3*at+3*et)*nt+(3*at-6*et))*nt+3*et)*nt,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(nt,et,at,mt,$t){let Ct,Dt,Ft=0;do Dt=et+(at-et)/2,Ct=calcBezier(Dt,mt,$t)-nt,Ct>0?at=Dt:et=Dt;while(Math.abs(Ct)>subdivisionPrecision&&++Ft<subdivisionMaxIterations);return Dt}function cubicBezier(nt,et,at,mt){if(nt===et&&at===mt)return noop$2;const $t=Ct=>binarySubdivide(Ct,0,1,nt,at);return Ct=>Ct===0||Ct===1?Ct:calcBezier($t(Ct),et,mt)}const mirrorEasing=nt=>et=>et<=.5?nt(2*et)/2:(2-nt(2*(1-et)))/2,reverseEasing=nt=>et=>1-nt(1-et),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=nt=>(nt*=2)<1?.5*backIn(nt):.5*(2-Math.pow(2,-10*(nt-1))),circIn=nt=>1-Math.sin(Math.acos(nt)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=nt=>/^0[^.\s]+$/u.test(nt);function isNone(nt){return typeof nt=="number"?nt===0:nt!==null?nt==="none"||nt==="0"||isZeroValueString(nt):!0}const isNumericalString=nt=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(nt),checkStringStartsWith=nt=>et=>typeof et=="string"&&et.startsWith(nt),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=nt=>startsAsVariableToken(nt)?singleCssVariableRegex.test(nt.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(nt){const et=splitCSSVariableRegex.exec(nt);if(!et)return[,];const[,at,mt,$t]=et;return[`--${at??mt}`,$t]}function getVariableValue(nt,et,at=1){const[mt,$t]=parseCSSVariable(nt);if(!mt)return;const Ct=window.getComputedStyle(et).getPropertyValue(mt);if(Ct){const Dt=Ct.trim();return isNumericalString(Dt)?parseFloat(Dt):Dt}return isCSSVariableToken($t)?getVariableValue($t,et,at+1):$t}const clamp$4=(nt,et,at)=>at>et?et:at<nt?nt:at,number={test:nt=>typeof nt=="number",parse:parseFloat,transform:nt=>nt},alpha={...number,transform:nt=>clamp$4(0,1,nt)},scale$1={...number,default:1},createUnitType=nt=>({test:et=>typeof et=="string"&&et.endsWith(nt)&&et.split(" ").length===1,parse:parseFloat,transform:et=>`${et}${nt}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:nt=>percent.parse(nt)/100,transform:nt=>percent.transform(nt*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=nt=>nt===number||nt===px,getPosFromMatrix=(nt,et)=>parseFloat(nt.split(", ")[et]),getTranslateFromMatrix=(nt,et)=>(at,{transform:mt})=>{if(mt==="none"||!mt)return 0;const $t=mt.match(/^matrix3d\((.+)\)$/u);if($t)return getPosFromMatrix($t[1],et);{const Ct=mt.match(/^matrix\((.+)\)$/u);return Ct?getPosFromMatrix(Ct[1],nt):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(nt=>!transformKeys.has(nt));function removeNonTranslationalTransform(nt){const et=[];return nonTranslationalTransformKeys.forEach(at=>{const mt=nt.getValue(at);mt!==void 0&&(et.push([at,mt.get()]),mt.set(at.startsWith("scale")?1:0))}),et}const positionalValues={width:({x:nt},{paddingLeft:et="0",paddingRight:at="0"})=>nt.max-nt.min-parseFloat(et)-parseFloat(at),height:({y:nt},{paddingTop:et="0",paddingBottom:at="0"})=>nt.max-nt.min-parseFloat(et)-parseFloat(at),top:(nt,{top:et})=>parseFloat(et),left:(nt,{left:et})=>parseFloat(et),bottom:({y:nt},{top:et})=>parseFloat(et)+(nt.max-nt.min),right:({x:nt},{left:et})=>parseFloat(et)+(nt.max-nt.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=nt=>et=>et.test(nt),auto$1={test:nt=>nt==="auto",parse:nt=>nt},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=nt=>dimensionValueTypes.find(testValueType(nt)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const nt=Array.from(toResolve).filter(mt=>mt.needsMeasurement),et=new Set(nt.map(mt=>mt.element)),at=new Map;et.forEach(mt=>{const $t=removeNonTranslationalTransform(mt);$t.length&&(at.set(mt,$t),mt.render())}),nt.forEach(mt=>mt.measureInitialState()),et.forEach(mt=>{mt.render();const $t=at.get(mt);$t&&$t.forEach(([Ct,Dt])=>{var Ft;(Ft=mt.getValue(Ct))===null||Ft===void 0||Ft.set(Dt)})}),nt.forEach(mt=>mt.measureEndState()),nt.forEach(mt=>{mt.suspendedScrollY!==void 0&&window.scrollTo(0,mt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(nt=>nt.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(nt=>{nt.readKeyframes(),nt.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(et,at,mt,$t,Ct,Dt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...et],this.onComplete=at,this.name=mt,this.motionValue=$t,this.element=Ct,this.isAsync=Dt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:et,name:at,element:mt,motionValue:$t}=this;for(let Ct=0;Ct<et.length;Ct++)if(et[Ct]===null)if(Ct===0){const Dt=$t==null?void 0:$t.get(),Ft=et[et.length-1];if(Dt!==void 0)et[0]=Dt;else if(mt&&at){const Nt=mt.readValue(at,Ft);Nt!=null&&(et[0]=Nt)}et[0]===void 0&&(et[0]=Ft),$t&&Dt===void 0&&$t.set(et[0])}else et[Ct]=et[Ct-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sanitize=nt=>Math.round(nt*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(nt){return nt==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(nt,et)=>at=>!!(typeof at=="string"&&singleColorRegex.test(at)&&at.startsWith(nt)||et&&!isNullish(at)&&Object.prototype.hasOwnProperty.call(at,et)),splitColor=(nt,et,at)=>mt=>{if(typeof mt!="string")return mt;const[$t,Ct,Dt,Ft]=mt.match(floatRegex);return{[nt]:parseFloat($t),[et]:parseFloat(Ct),[at]:parseFloat(Dt),alpha:Ft!==void 0?parseFloat(Ft):1}},clampRgbUnit=nt=>clamp$4(0,255,nt),rgbUnit={...number,transform:nt=>Math.round(clampRgbUnit(nt))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:nt,green:et,blue:at,alpha:mt=1})=>"rgba("+rgbUnit.transform(nt)+", "+rgbUnit.transform(et)+", "+rgbUnit.transform(at)+", "+sanitize(alpha.transform(mt))+")"};function parseHex(nt){let et="",at="",mt="",$t="";return nt.length>5?(et=nt.substring(1,3),at=nt.substring(3,5),mt=nt.substring(5,7),$t=nt.substring(7,9)):(et=nt.substring(1,2),at=nt.substring(2,3),mt=nt.substring(3,4),$t=nt.substring(4,5),et+=et,at+=at,mt+=mt,$t+=$t),{red:parseInt(et,16),green:parseInt(at,16),blue:parseInt(mt,16),alpha:$t?parseInt($t,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:nt,saturation:et,lightness:at,alpha:mt=1})=>"hsla("+Math.round(nt)+", "+percent.transform(sanitize(et))+", "+percent.transform(sanitize(at))+", "+sanitize(alpha.transform(mt))+")"},color={test:nt=>rgba.test(nt)||hex.test(nt)||hsla.test(nt),parse:nt=>rgba.test(nt)?rgba.parse(nt):hsla.test(nt)?hsla.parse(nt):hex.parse(nt),transform:nt=>typeof nt=="string"?nt:nt.hasOwnProperty("red")?rgba.transform(nt):hsla.transform(nt)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(nt){var et,at;return isNaN(nt)&&typeof nt=="string"&&(((et=nt.match(floatRegex))===null||et===void 0?void 0:et.length)||0)+(((at=nt.match(colorRegex))===null||at===void 0?void 0:at.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(nt){const et=nt.toString(),at=[],mt={color:[],number:[],var:[]},$t=[];let Ct=0;const Ft=et.replace(complexRegex,Nt=>(color.test(Nt)?(mt.color.push(Ct),$t.push(COLOR_TOKEN),at.push(color.parse(Nt))):Nt.startsWith(VAR_FUNCTION_TOKEN)?(mt.var.push(Ct),$t.push(VAR_TOKEN),at.push(Nt)):(mt.number.push(Ct),$t.push(NUMBER_TOKEN),at.push(parseFloat(Nt))),++Ct,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:at,split:Ft,indexes:mt,types:$t}}function parseComplexValue(nt){return analyseComplexValue(nt).values}function createTransformer(nt){const{split:et,types:at}=analyseComplexValue(nt),mt=et.length;return $t=>{let Ct="";for(let Dt=0;Dt<mt;Dt++)if(Ct+=et[Dt],$t[Dt]!==void 0){const Ft=at[Dt];Ft===NUMBER_TOKEN?Ct+=sanitize($t[Dt]):Ft===COLOR_TOKEN?Ct+=color.transform($t[Dt]):Ct+=$t[Dt]}return Ct}}const convertNumbersToZero=nt=>typeof nt=="number"?0:nt;function getAnimatableNone$1(nt){const et=parseComplexValue(nt);return createTransformer(nt)(et.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(nt){const[et,at]=nt.slice(0,-1).split("(");if(et==="drop-shadow")return nt;const[mt]=at.match(floatRegex)||[];if(!mt)return nt;const $t=at.replace(mt,"");let Ct=maxDefaults.has(et)?1:0;return mt!==at&&(Ct*=100),et+"("+Ct+$t+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:nt=>{const et=nt.match(functionRegex);return et?et.map(applyDefaultFilter).join(" "):nt}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=nt=>defaultValueTypes[nt];function getAnimatableNone(nt,et){let at=getDefaultValueType(nt);return at!==filter&&(at=complex),at.getAnimatableNone?at.getAnimatableNone(et):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(nt,et,at){let mt=0,$t;for(;mt<nt.length&&!$t;){const Ct=nt[mt];typeof Ct=="string"&&!invalidTemplates.has(Ct)&&analyseComplexValue(Ct).values.length&&($t=nt[mt]),mt++}if($t&&at)for(const Ct of et)nt[Ct]=getAnimatableNone(at,$t)}class DOMKeyframesResolver extends KeyframeResolver{constructor(et,at,mt,$t,Ct){super(et,at,mt,$t,Ct,!0)}readKeyframes(){const{unresolvedKeyframes:et,element:at,name:mt}=this;if(!at||!at.current)return;super.readKeyframes();for(let Nt=0;Nt<et.length;Nt++){let jt=et[Nt];if(typeof jt=="string"&&(jt=jt.trim(),isCSSVariableToken(jt))){const Lt=getVariableValue(jt,at.current);Lt!==void 0&&(et[Nt]=Lt),Nt===et.length-1&&(this.finalKeyframe=jt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(mt)||et.length!==2)return;const[$t,Ct]=et,Dt=findDimensionValueType($t),Ft=findDimensionValueType(Ct);if(Dt!==Ft)if(isNumOrPxType(Dt)&&isNumOrPxType(Ft))for(let Nt=0;Nt<et.length;Nt++){const jt=et[Nt];typeof jt=="string"&&(et[Nt]=parseFloat(jt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:et,name:at}=this,mt=[];for(let $t=0;$t<et.length;$t++)isNone(et[$t])&&mt.push($t);mt.length&&makeNoneKeyframesAnimatable(et,mt,at)}measureInitialState(){const{element:et,unresolvedKeyframes:at,name:mt}=this;if(!et||!et.current)return;mt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[mt](et.measureViewportBox(),window.getComputedStyle(et.current)),at[0]=this.measuredOrigin;const $t=at[at.length-1];$t!==void 0&&et.getValue(mt,$t).jump($t,!1)}measureEndState(){var et;const{element:at,name:mt,unresolvedKeyframes:$t}=this;if(!at||!at.current)return;const Ct=at.getValue(mt);Ct&&Ct.jump(this.measuredOrigin,!1);const Dt=$t.length-1,Ft=$t[Dt];$t[Dt]=positionalValues[mt](at.measureViewportBox(),window.getComputedStyle(at.current)),Ft!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Ft),!((et=this.removedTransforms)===null||et===void 0)&&et.length&&this.removedTransforms.forEach(([Nt,jt])=>{at.getValue(Nt).set(jt)}),this.resolveNoneKeyframes()}}function isGenerator(nt){return typeof nt=="function"}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:nt=>{now=nt,queueMicrotask(clearTime)}},isAnimatable=(nt,et)=>et==="zIndex"?!1:!!(typeof nt=="number"||Array.isArray(nt)||typeof nt=="string"&&(complex.test(nt)||nt==="0")&&!nt.startsWith("url("));function hasKeyframesChanged(nt){const et=nt[0];if(nt.length===1)return!0;for(let at=0;at<nt.length;at++)if(nt[at]!==et)return!0}function canAnimate(nt,et,at,mt){const $t=nt[0];if($t===null)return!1;if(et==="display"||et==="visibility")return!0;const Ct=nt[nt.length-1],Dt=isAnimatable($t,et),Ft=isAnimatable(Ct,et);return!Dt||!Ft?!1:hasKeyframesChanged(nt)||(at==="spring"||isGenerator(at))&&mt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:et=!0,delay:at=0,type:mt="keyframes",repeat:$t=0,repeatDelay:Ct=0,repeatType:Dt="loop",...Ft}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:et,delay:at,type:mt,repeat:$t,repeatDelay:Ct,repeatType:Dt,...Ft},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(et,at){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:mt,type:$t,velocity:Ct,delay:Dt,onComplete:Ft,onUpdate:Nt,isGenerator:jt}=this.options;if(!jt&&!canAnimate(et,mt,$t,Ct))if(Dt)this.options.duration=0;else{Nt==null||Nt(getFinalKeyframe(et,this.options,at)),Ft==null||Ft(),this.resolveFinishedPromise();return}const Lt=this.initPlayback(et,at);Lt!==!1&&(this._resolved={keyframes:et,finalKeyframe:at,...Lt},this.onPostResolved())}onPostResolved(){}then(et,at){return this.currentFinishedPromise.then(et,at)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(et=>{this.resolveFinishedPromise=et})}}const progress=(nt,et,at)=>{const mt=et-nt;return mt===0?1:(at-nt)/mt},generateLinearEasing=(nt,et,at=10)=>{let mt="";const $t=Math.max(Math.round(et/at),2);for(let Ct=0;Ct<$t;Ct++)mt+=nt(progress(0,$t-1,Ct))+", ";return`linear(${mt.substring(0,mt.length-2)})`};function velocityPerSecond(nt,et){return et?nt*(1e3/et):0}const velocitySampleDuration=5;function calcGeneratorVelocity(nt,et,at){const mt=Math.max(et-velocitySampleDuration,0);return velocityPerSecond(at-nt(mt),et-mt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:nt=springDefaults.duration,bounce:et=springDefaults.bounce,velocity:at=springDefaults.velocity,mass:mt=springDefaults.mass}){let $t,Ct,Dt=1-et;Dt=clamp$4(springDefaults.minDamping,springDefaults.maxDamping,Dt),nt=clamp$4(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(nt)),Dt<1?($t=jt=>{const Lt=jt*Dt,Vt=Lt*nt,er=Lt-at,ir=calcAngularFreq(jt,Dt),or=Math.exp(-Vt);return safeMin-er/ir*or},Ct=jt=>{const Vt=jt*Dt*nt,er=Vt*at+at,ir=Math.pow(Dt,2)*Math.pow(jt,2)*nt,or=Math.exp(-Vt),lr=calcAngularFreq(Math.pow(jt,2),Dt);return(-$t(jt)+safeMin>0?-1:1)*((er-ir)*or)/lr}):($t=jt=>{const Lt=Math.exp(-jt*nt),Vt=(jt-at)*nt+1;return-safeMin+Lt*Vt},Ct=jt=>{const Lt=Math.exp(-jt*nt),Vt=(at-jt)*(nt*nt);return Lt*Vt});const Ft=5/nt,Nt=approximateRoot($t,Ct,Ft);if(nt=secondsToMilliseconds(nt),isNaN(Nt))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:nt};{const jt=Math.pow(Nt,2)*mt;return{stiffness:jt,damping:Dt*2*Math.sqrt(mt*jt),duration:nt}}}const rootIterations=12;function approximateRoot(nt,et,at){let mt=at;for(let $t=1;$t<rootIterations;$t++)mt=mt-nt(mt)/et(mt);return mt}function calcAngularFreq(nt,et){return nt*Math.sqrt(1-et*et)}const maxGeneratorDuration=2e4;function calcGeneratorDuration(nt){let et=0;const at=50;let mt=nt.next(et);for(;!mt.done&&et<maxGeneratorDuration;)et+=at,mt=nt.next(et);return et>=maxGeneratorDuration?1/0:et}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(nt,et){return et.some(at=>nt[at]!==void 0)}function getSpringOptions(nt){let et={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...nt};if(!isSpringType(nt,physicsKeys)&&isSpringType(nt,durationKeys))if(nt.visualDuration){const at=nt.visualDuration,mt=2*Math.PI/(at*1.2),$t=mt*mt,Ct=2*clamp$4(.05,1,1-nt.bounce)*Math.sqrt($t);et={...et,mass:springDefaults.mass,stiffness:$t,damping:Ct}}else{const at=findSpring(nt);et={...et,...at,mass:springDefaults.mass},et.isResolvedFromDuration=!0}return et}function spring(nt=springDefaults.visualDuration,et=springDefaults.bounce){const at=typeof nt!="object"?{visualDuration:nt,keyframes:[0,1],bounce:et}:nt;let{restSpeed:mt,restDelta:$t}=at;const Ct=at.keyframes[0],Dt=at.keyframes[at.keyframes.length-1],Ft={done:!1,value:Ct},{stiffness:Nt,damping:jt,mass:Lt,duration:Vt,velocity:er,isResolvedFromDuration:ir}=getSpringOptions({...at,velocity:-millisecondsToSeconds(at.velocity||0)}),or=er||0,lr=jt/(2*Math.sqrt(Nt*Lt)),dr=Dt-Ct,pr=millisecondsToSeconds(Math.sqrt(Nt/Lt)),hr=Math.abs(dr)<5;mt||(mt=hr?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),$t||($t=hr?springDefaults.restDelta.granular:springDefaults.restDelta.default);let vr;if(lr<1){const xr=calcAngularFreq(pr,lr);vr=Sr=>{const Er=Math.exp(-lr*pr*Sr);return Dt-Er*((or+lr*pr*dr)/xr*Math.sin(xr*Sr)+dr*Math.cos(xr*Sr))}}else if(lr===1)vr=xr=>Dt-Math.exp(-pr*xr)*(dr+(or+pr*dr)*xr);else{const xr=pr*Math.sqrt(lr*lr-1);vr=Sr=>{const Er=Math.exp(-lr*pr*Sr),$r=Math.min(xr*Sr,300);return Dt-Er*((or+lr*pr*dr)*Math.sinh($r)+xr*dr*Math.cosh($r))/xr}}const br={calculatedDuration:ir&&Vt||null,next:xr=>{const Sr=vr(xr);if(ir)Ft.done=xr>=Vt;else{let Er=0;lr<1&&(Er=xr===0?secondsToMilliseconds(or):calcGeneratorVelocity(vr,xr,Sr));const $r=Math.abs(Er)<=mt,Cr=Math.abs(Dt-Sr)<=$t;Ft.done=$r&&Cr}return Ft.value=Ft.done?Dt:Sr,Ft},toString:()=>{const xr=Math.min(calcGeneratorDuration(br),maxGeneratorDuration),Sr=generateLinearEasing(Er=>br.next(xr*Er).value,xr,30);return xr+"ms "+Sr}};return br}function inertia({keyframes:nt,velocity:et=0,power:at=.8,timeConstant:mt=325,bounceDamping:$t=10,bounceStiffness:Ct=500,modifyTarget:Dt,min:Ft,max:Nt,restDelta:jt=.5,restSpeed:Lt}){const Vt=nt[0],er={done:!1,value:Vt},ir=$r=>Ft!==void 0&&$r<Ft||Nt!==void 0&&$r>Nt,or=$r=>Ft===void 0?Nt:Nt===void 0||Math.abs(Ft-$r)<Math.abs(Nt-$r)?Ft:Nt;let lr=at*et;const dr=Vt+lr,pr=Dt===void 0?dr:Dt(dr);pr!==dr&&(lr=pr-Vt);const hr=$r=>-lr*Math.exp(-$r/mt),vr=$r=>pr+hr($r),br=$r=>{const Cr=hr($r),kr=vr($r);er.done=Math.abs(Cr)<=jt,er.value=er.done?pr:kr};let xr,Sr;const Er=$r=>{ir(er.value)&&(xr=$r,Sr=spring({keyframes:[er.value,or(er.value)],velocity:calcGeneratorVelocity(vr,$r,er.value),damping:$t,stiffness:Ct,restDelta:jt,restSpeed:Lt}))};return Er(0),{calculatedDuration:null,next:$r=>{let Cr=!1;return!Sr&&xr===void 0&&(Cr=!0,br($r),Er($r)),xr!==void 0&&$r>=xr?Sr.next($r-xr):(!Cr&&br($r),er)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=nt=>Array.isArray(nt)&&typeof nt[0]!="number",isBezierDefinition=nt=>Array.isArray(nt)&&typeof nt[0]=="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=nt=>{if(isBezierDefinition(nt)){invariant$Q(nt.length===4);const[et,at,mt,$t]=nt;return cubicBezier(et,at,mt,$t)}else if(typeof nt=="string")return invariant$Q(easingLookup[nt]!==void 0),easingLookup[nt];return nt},combineFunctions=(nt,et)=>at=>et(nt(at)),pipe$1=(...nt)=>nt.reduce(combineFunctions),mixNumber$1=(nt,et,at)=>nt+(et-nt)*at;function hueToRgb(nt,et,at){return at<0&&(at+=1),at>1&&(at-=1),at<1/6?nt+(et-nt)*6*at:at<1/2?et:at<2/3?nt+(et-nt)*(2/3-at)*6:nt}function hslaToRgba({hue:nt,saturation:et,lightness:at,alpha:mt}){nt/=360,et/=100,at/=100;let $t=0,Ct=0,Dt=0;if(!et)$t=Ct=Dt=at;else{const Ft=at<.5?at*(1+et):at+et-at*et,Nt=2*at-Ft;$t=hueToRgb(Nt,Ft,nt+1/3),Ct=hueToRgb(Nt,Ft,nt),Dt=hueToRgb(Nt,Ft,nt-1/3)}return{red:Math.round($t*255),green:Math.round(Ct*255),blue:Math.round(Dt*255),alpha:mt}}function mixImmediate(nt,et){return at=>at>0?et:nt}const mixLinearColor=(nt,et,at)=>{const mt=nt*nt,$t=at*(et*et-mt)+mt;return $t<0?0:Math.sqrt($t)},colorTypes=[hex,rgba,hsla],getColorType=nt=>colorTypes.find(et=>et.test(nt));function asRGBA(nt){const et=getColorType(nt);if(!et)return!1;let at=et.parse(nt);return et===hsla&&(at=hslaToRgba(at)),at}const mixColor=(nt,et)=>{const at=asRGBA(nt),mt=asRGBA(et);if(!at||!mt)return mixImmediate(nt,et);const $t={...at};return Ct=>($t.red=mixLinearColor(at.red,mt.red,Ct),$t.green=mixLinearColor(at.green,mt.green,Ct),$t.blue=mixLinearColor(at.blue,mt.blue,Ct),$t.alpha=mixNumber$1(at.alpha,mt.alpha,Ct),rgba.transform($t))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(nt,et){return invisibleValues.has(nt)?at=>at<=0?nt:et:at=>at>=1?et:nt}function mixNumber(nt,et){return at=>mixNumber$1(nt,et,at)}function getMixer(nt){return typeof nt=="number"?mixNumber:typeof nt=="string"?isCSSVariableToken(nt)?mixImmediate:color.test(nt)?mixColor:mixComplex:Array.isArray(nt)?mixArray:typeof nt=="object"?color.test(nt)?mixColor:mixObject:mixImmediate}function mixArray(nt,et){const at=[...nt],mt=at.length,$t=nt.map((Ct,Dt)=>getMixer(Ct)(Ct,et[Dt]));return Ct=>{for(let Dt=0;Dt<mt;Dt++)at[Dt]=$t[Dt](Ct);return at}}function mixObject(nt,et){const at={...nt,...et},mt={};for(const $t in at)nt[$t]!==void 0&&et[$t]!==void 0&&(mt[$t]=getMixer(nt[$t])(nt[$t],et[$t]));return $t=>{for(const Ct in mt)at[Ct]=mt[Ct]($t);return at}}function matchOrder(nt,et){var at;const mt=[],$t={color:0,var:0,number:0};for(let Ct=0;Ct<et.values.length;Ct++){const Dt=et.types[Ct],Ft=nt.indexes[Dt][$t[Dt]],Nt=(at=nt.values[Ft])!==null&&at!==void 0?at:0;mt[Ct]=Nt,$t[Dt]++}return mt}const mixComplex=(nt,et)=>{const at=complex.createTransformer(et),mt=analyseComplexValue(nt),$t=analyseComplexValue(et);return mt.indexes.var.length===$t.indexes.var.length&&mt.indexes.color.length===$t.indexes.color.length&&mt.indexes.number.length>=$t.indexes.number.length?invisibleValues.has(nt)&&!$t.values.length||invisibleValues.has(et)&&!mt.values.length?mixVisibility(nt,et):pipe$1(mixArray(matchOrder(mt,$t),$t.values),at):mixImmediate(nt,et)};function mix(nt,et,at){return typeof nt=="number"&&typeof et=="number"&&typeof at=="number"?mixNumber$1(nt,et,at):getMixer(nt)(nt,et)}function createMixers(nt,et,at){const mt=[],$t=at||mix,Ct=nt.length-1;for(let Dt=0;Dt<Ct;Dt++){let Ft=$t(nt[Dt],nt[Dt+1]);if(et){const Nt=Array.isArray(et)?et[Dt]||noop$2:et;Ft=pipe$1(Nt,Ft)}mt.push(Ft)}return mt}function interpolate(nt,et,{clamp:at=!0,ease:mt,mixer:$t}={}){const Ct=nt.length;if(invariant$Q(Ct===et.length),Ct===1)return()=>et[0];if(Ct===2&&nt[0]===nt[1])return()=>et[1];nt[0]>nt[Ct-1]&&(nt=[...nt].reverse(),et=[...et].reverse());const Dt=createMixers(et,mt,$t),Ft=Dt.length,Nt=jt=>{let Lt=0;if(Ft>1)for(;Lt<nt.length-2&&!(jt<nt[Lt+1]);Lt++);const Vt=progress(nt[Lt],nt[Lt+1],jt);return Dt[Lt](Vt)};return at?jt=>Nt(clamp$4(nt[0],nt[Ct-1],jt)):Nt}function fillOffset(nt,et){const at=nt[nt.length-1];for(let mt=1;mt<=et;mt++){const $t=progress(0,et,mt);nt.push(mixNumber$1(at,1,$t))}}function defaultOffset(nt){const et=[0];return fillOffset(et,nt.length-1),et}function convertOffsetToTimes(nt,et){return nt.map(at=>at*et)}function defaultEasing(nt,et){return nt.map(()=>et||easeInOut).splice(0,nt.length-1)}function keyframes({duration:nt=300,keyframes:et,times:at,ease:mt="easeInOut"}){const $t=isEasingArray(mt)?mt.map(easingDefinitionToFunction):easingDefinitionToFunction(mt),Ct={done:!1,value:et[0]},Dt=convertOffsetToTimes(at&&at.length===et.length?at:defaultOffset(et),nt),Ft=interpolate(Dt,et,{ease:Array.isArray($t)?$t:defaultEasing(et,$t)});return{calculatedDuration:nt,next:Nt=>(Ct.value=Ft(Nt),Ct.done=Nt>=nt,Ct)}}const frameloopDriver=nt=>{const et=({timestamp:at})=>nt(at);return{start:()=>frame.update(et,!0),stop:()=>cancelFrame(et),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=nt=>nt/100;class MainThreadAnimation extends BaseAnimation{constructor(et){super(et),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Nt}=this.options;Nt&&Nt()};const{name:at,motionValue:mt,element:$t,keyframes:Ct}=this.options,Dt=($t==null?void 0:$t.KeyframeResolver)||KeyframeResolver,Ft=(Nt,jt)=>this.onKeyframesResolved(Nt,jt);this.resolver=new Dt(Ct,Ft,at,mt,$t),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(et){const{type:at="keyframes",repeat:mt=0,repeatDelay:$t=0,repeatType:Ct,velocity:Dt=0}=this.options,Ft=isGenerator(at)?at:generators[at]||keyframes;let Nt,jt;Ft!==keyframes&&typeof et[0]!="number"&&(Nt=pipe$1(percentToProgress,mix(et[0],et[1])),et=[0,100]);const Lt=Ft({...this.options,keyframes:et});Ct==="mirror"&&(jt=Ft({...this.options,keyframes:[...et].reverse(),velocity:-Dt})),Lt.calculatedDuration===null&&(Lt.calculatedDuration=calcGeneratorDuration(Lt));const{calculatedDuration:Vt}=Lt,er=Vt+$t,ir=er*(mt+1)-$t;return{generator:Lt,mirroredGenerator:jt,mapPercentToKeyframes:Nt,calculatedDuration:Vt,resolvedDuration:er,totalDuration:ir}}onPostResolved(){const{autoplay:et=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!et?this.pause():this.state=this.pendingPlayState}tick(et,at=!1){const{resolved:mt}=this;if(!mt){const{keyframes:$r}=this.options;return{done:!0,value:$r[$r.length-1]}}const{finalKeyframe:$t,generator:Ct,mirroredGenerator:Dt,mapPercentToKeyframes:Ft,keyframes:Nt,calculatedDuration:jt,totalDuration:Lt,resolvedDuration:Vt}=mt;if(this.startTime===null)return Ct.next(0);const{delay:er,repeat:ir,repeatType:or,repeatDelay:lr,onUpdate:dr}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,et):this.speed<0&&(this.startTime=Math.min(et-Lt/this.speed,this.startTime)),at?this.currentTime=et:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(et-this.startTime)*this.speed;const pr=this.currentTime-er*(this.speed>=0?1:-1),hr=this.speed>=0?pr<0:pr>Lt;this.currentTime=Math.max(pr,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Lt);let vr=this.currentTime,br=Ct;if(ir){const $r=Math.min(this.currentTime,Lt)/Vt;let Cr=Math.floor($r),kr=$r%1;!kr&&$r>=1&&(kr=1),kr===1&&Cr--,Cr=Math.min(Cr,ir+1),!!(Cr%2)&&(or==="reverse"?(kr=1-kr,lr&&(kr-=lr/Vt)):or==="mirror"&&(br=Dt)),vr=clamp$4(0,1,kr)*Vt}const xr=hr?{done:!1,value:Nt[0]}:br.next(vr);Ft&&(xr.value=Ft(xr.value));let{done:Sr}=xr;!hr&&jt!==null&&(Sr=this.speed>=0?this.currentTime>=Lt:this.currentTime<=0);const Er=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Sr);return Er&&$t!==void 0&&(xr.value=getFinalKeyframe(Nt,this.options,$t)),dr&&dr(xr.value),Er&&this.finish(),xr}get duration(){const{resolved:et}=this;return et?millisecondsToSeconds(et.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(et){et=secondsToMilliseconds(et),this.currentTime=et,this.holdTime!==null||this.speed===0?this.holdTime=et:this.driver&&(this.startTime=this.driver.now()-et/this.speed)}get speed(){return this.playbackSpeed}set speed(et){const at=this.playbackSpeed!==et;this.playbackSpeed=et,at&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:et=frameloopDriver,onPlay:at,startTime:mt}=this.options;this.driver||(this.driver=et(Ct=>this.tick(Ct))),at&&at();const $t=this.driver.now();this.holdTime!==null?this.startTime=$t-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=$t):this.startTime=mt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var et;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(et=this.currentTime)!==null&&et!==void 0?et:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:et}=this.options;et&&et()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(et){return this.startTime=0,this.tick(et,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function memo(nt){let et;return()=>(et===void 0&&(et=nt()),et)}const supportsFlags={linearEasing:void 0};function memoSupports(nt,et){const at=memo(nt);return()=>{var mt;return(mt=supportsFlags[et])!==null&&mt!==void 0?mt:at()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(nt){return!!(typeof nt=="function"&&supportsLinearEasing()||!nt||typeof nt=="string"&&(nt in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(nt)||Array.isArray(nt)&&nt.every(isWaapiSupportedEasing))}const cubicBezierAsString=([nt,et,at,mt])=>`cubic-bezier(${nt}, ${et}, ${at}, ${mt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(nt,et){if(nt)return typeof nt=="function"&&supportsLinearEasing()?generateLinearEasing(nt,et):isBezierDefinition(nt)?cubicBezierAsString(nt):Array.isArray(nt)?nt.map(at=>mapEasingToNativeEasing(at,et)||supportedWaapiEasing.easeOut):supportedWaapiEasing[nt]}function startWaapiAnimation(nt,et,at,{delay:mt=0,duration:$t=300,repeat:Ct=0,repeatType:Dt="loop",ease:Ft="easeInOut",times:Nt}={}){const jt={[et]:at};Nt&&(jt.offset=Nt);const Lt=mapEasingToNativeEasing(Ft,$t);return Array.isArray(Lt)&&(jt.easing=Lt),nt.animate(jt,{delay:mt,duration:$t,easing:Array.isArray(Lt)?"linear":Lt,fill:"both",iterations:Ct+1,direction:Dt==="reverse"?"alternate":"normal"})}function attachTimeline(nt,et){nt.timeline=et,nt.onfinish=null}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(nt){return isGenerator(nt.type)||nt.type==="spring"||!isWaapiSupportedEasing(nt.ease)}function pregenerateKeyframes(nt,et){const at=new MainThreadAnimation({...et,keyframes:nt,repeat:0,delay:0,isGenerator:!0});let mt={done:!1,value:nt[0]};const $t=[];let Ct=0;for(;!mt.done&&Ct<maxDuration;)mt=at.sample(Ct),$t.push(mt.value),Ct+=sampleDelta;return{times:void 0,keyframes:$t,duration:Ct-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(nt){return nt in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(et){super(et);const{name:at,motionValue:mt,element:$t,keyframes:Ct}=this.options;this.resolver=new DOMKeyframesResolver(Ct,(Dt,Ft)=>this.onKeyframesResolved(Dt,Ft),at,mt,$t),this.resolver.scheduleResolve()}initPlayback(et,at){var mt;let{duration:$t=300,times:Ct,ease:Dt,type:Ft,motionValue:Nt,name:jt,startTime:Lt}=this.options;if(!(!((mt=Nt.owner)===null||mt===void 0)&&mt.current))return!1;if(typeof Dt=="string"&&supportsLinearEasing()&&isUnsupportedEase(Dt)&&(Dt=unsupportedEasingFunctions[Dt]),requiresPregeneratedKeyframes(this.options)){const{onComplete:er,onUpdate:ir,motionValue:or,element:lr,...dr}=this.options,pr=pregenerateKeyframes(et,dr);et=pr.keyframes,et.length===1&&(et[1]=et[0]),$t=pr.duration,Ct=pr.times,Dt=pr.ease,Ft="keyframes"}const Vt=startWaapiAnimation(Nt.owner.current,jt,et,{...this.options,duration:$t,times:Ct,ease:Dt});return Vt.startTime=Lt??this.calcStartTime(),this.pendingTimeline?(attachTimeline(Vt,this.pendingTimeline),this.pendingTimeline=void 0):Vt.onfinish=()=>{const{onComplete:er}=this.options;Nt.set(getFinalKeyframe(et,this.options,at)),er&&er(),this.cancel(),this.resolveFinishedPromise()},{animation:Vt,duration:$t,times:Ct,type:Ft,ease:Dt,keyframes:et}}get duration(){const{resolved:et}=this;if(!et)return 0;const{duration:at}=et;return millisecondsToSeconds(at)}get time(){const{resolved:et}=this;if(!et)return 0;const{animation:at}=et;return millisecondsToSeconds(at.currentTime||0)}set time(et){const{resolved:at}=this;if(!at)return;const{animation:mt}=at;mt.currentTime=secondsToMilliseconds(et)}get speed(){const{resolved:et}=this;if(!et)return 1;const{animation:at}=et;return at.playbackRate}set speed(et){const{resolved:at}=this;if(!at)return;const{animation:mt}=at;mt.playbackRate=et}get state(){const{resolved:et}=this;if(!et)return"idle";const{animation:at}=et;return at.playState}get startTime(){const{resolved:et}=this;if(!et)return null;const{animation:at}=et;return at.startTime}attachTimeline(et){if(!this._resolved)this.pendingTimeline=et;else{const{resolved:at}=this;if(!at)return noop$2;const{animation:mt}=at;attachTimeline(mt,et)}return noop$2}play(){if(this.isStopped)return;const{resolved:et}=this;if(!et)return;const{animation:at}=et;at.playState==="finished"&&this.updateFinishedPromise(),at.play()}pause(){const{resolved:et}=this;if(!et)return;const{animation:at}=et;at.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:et}=this;if(!et)return;const{animation:at,keyframes:mt,duration:$t,type:Ct,ease:Dt,times:Ft}=et;if(at.playState==="idle"||at.playState==="finished")return;if(this.time){const{motionValue:jt,onUpdate:Lt,onComplete:Vt,element:er,...ir}=this.options,or=new MainThreadAnimation({...ir,keyframes:mt,duration:$t,type:Ct,ease:Dt,times:Ft,isGenerator:!0}),lr=secondsToMilliseconds(this.time);jt.setWithVelocity(or.sample(lr-sampleDelta).value,or.sample(lr).value,sampleDelta)}const{onStop:Nt}=this.options;Nt&&Nt(),this.cancel()}complete(){const{resolved:et}=this;et&&et.animation.finish()}cancel(){const{resolved:et}=this;et&&et.animation.cancel()}static supports(et){const{motionValue:at,name:mt,repeatDelay:$t,repeatType:Ct,damping:Dt,type:Ft}=et;return supportsWaapi()&&mt&&acceleratedValues.has(mt)&&at&&at.owner&&at.owner.current instanceof HTMLElement&&!at.owner.getProps().onUpdate&&!$t&&Ct!=="mirror"&&Dt!==0&&Ft!=="inertia"}}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(et){this.stop=()=>this.runAll("stop"),this.animations=et.filter(Boolean)}then(et,at){return Promise.all(this.animations).then(et).catch(at)}getAll(et){return this.animations[0][et]}setAll(et,at){for(let mt=0;mt<this.animations.length;mt++)this.animations[mt][et]=at}attachTimeline(et,at){const mt=this.animations.map($t=>supportsScrollTimeline()&&$t.attachTimeline?$t.attachTimeline(et):at($t));return()=>{mt.forEach(($t,Ct)=>{$t&&$t(),this.animations[Ct].stop()})}}get time(){return this.getAll("time")}set time(et){this.setAll("time",et)}get speed(){return this.getAll("speed")}set speed(et){this.setAll("speed",et)}get startTime(){return this.getAll("startTime")}get duration(){let et=0;for(let at=0;at<this.animations.length;at++)et=Math.max(et,this.animations[at].duration);return et}runAll(et){this.animations.forEach(at=>at[et]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function isTransitionDefined({when:nt,delay:et,delayChildren:at,staggerChildren:mt,staggerDirection:$t,repeat:Ct,repeatType:Dt,repeatDelay:Ft,from:Nt,elapsed:jt,...Lt}){return!!Object.keys(Lt).length}const animateMotionValue=(nt,et,at,mt={},$t,Ct)=>Dt=>{const Ft=getValueTransition(mt,nt)||{},Nt=Ft.delay||mt.delay||0;let{elapsed:jt=0}=mt;jt=jt-secondsToMilliseconds(Nt);let Lt={keyframes:Array.isArray(at)?at:[null,at],ease:"easeOut",velocity:et.getVelocity(),...Ft,delay:-jt,onUpdate:er=>{et.set(er),Ft.onUpdate&&Ft.onUpdate(er)},onComplete:()=>{Dt(),Ft.onComplete&&Ft.onComplete()},name:nt,motionValue:et,element:Ct?void 0:$t};isTransitionDefined(Ft)||(Lt={...Lt,...getDefaultTransition(nt,Lt)}),Lt.duration&&(Lt.duration=secondsToMilliseconds(Lt.duration)),Lt.repeatDelay&&(Lt.repeatDelay=secondsToMilliseconds(Lt.repeatDelay)),Lt.from!==void 0&&(Lt.keyframes[0]=Lt.from);let Vt=!1;if((Lt.type===!1||Lt.duration===0&&!Lt.repeatDelay)&&(Lt.duration=0,Lt.delay===0&&(Vt=!0)),Vt&&!Ct&&et.get()!==void 0){const er=getFinalKeyframe(Lt.keyframes,Ft);if(er!==void 0)return frame.update(()=>{Lt.onUpdate(er),Lt.onComplete()}),new GroupPlaybackControls([])}return!Ct&&AcceleratedAnimation.supports(Lt)?new AcceleratedAnimation(Lt):new MainThreadAnimation(Lt)},isCustomValue=nt=>!!(nt&&typeof nt=="object"&&nt.mix&&nt.toValue),resolveFinalValueInKeyframes=nt=>isKeyframesTarget(nt)?nt[nt.length-1]||0:nt;function addUniqueItem(nt,et){nt.indexOf(et)===-1&&nt.push(et)}function removeItem(nt,et){const at=nt.indexOf(et);at>-1&&nt.splice(at,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(et){return addUniqueItem(this.subscriptions,et),()=>removeItem(this.subscriptions,et)}notify(et,at,mt){const $t=this.subscriptions.length;if($t)if($t===1)this.subscriptions[0](et,at,mt);else for(let Ct=0;Ct<$t;Ct++){const Dt=this.subscriptions[Ct];Dt&&Dt(et,at,mt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=nt=>!isNaN(parseFloat(nt));class MotionValue{constructor(et,at={}){this.version="11.13.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(mt,$t=!0)=>{const Ct=time.now();this.updatedAt!==Ct&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(mt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),$t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(et),this.owner=at.owner}setCurrent(et){this.current=et,this.updatedAt=time.now(),this.canTrackVelocity===null&&et!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(et=this.current){this.prevFrameValue=et,this.prevUpdatedAt=this.updatedAt}onChange(et){return this.on("change",et)}on(et,at){this.events[et]||(this.events[et]=new SubscriptionManager);const mt=this.events[et].add(at);return et==="change"?()=>{mt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:mt}clearListeners(){for(const et in this.events)this.events[et].clear()}attach(et,at){this.passiveEffect=et,this.stopPassiveEffect=at}set(et,at=!0){!at||!this.passiveEffect?this.updateAndNotify(et,at):this.passiveEffect(et,this.updateAndNotify)}setWithVelocity(et,at,mt){this.set(at),this.prev=void 0,this.prevFrameValue=et,this.prevUpdatedAt=this.updatedAt-mt}jump(et,at=!0){this.updateAndNotify(et),this.prev=et,this.prevUpdatedAt=this.prevFrameValue=void 0,at&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const et=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||et-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const at=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),at)}start(et){return this.stop(),new Promise(at=>{this.hasAnimated=!0,this.animation=et(at),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(nt,et){return new MotionValue(nt,et)}function setMotionValue(nt,et,at){nt.hasValue(et)?nt.getValue(et).set(at):nt.addValue(et,motionValue(at))}function setTarget(nt,et){const at=resolveVariant(nt,et);let{transitionEnd:mt={},transition:$t={},...Ct}=at||{};Ct={...Ct,...mt};for(const Dt in Ct){const Ft=resolveFinalValueInKeyframes(Ct[Dt]);setMotionValue(nt,Dt,Ft)}}const camelToDash=nt=>nt.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(nt){return nt.props[optimizedAppearDataAttribute]}const isMotionValue=nt=>!!(nt&&nt.getVelocity);function isWillChangeMotionValue(nt){return!!(isMotionValue(nt)&&nt.add)}function addValueToWillChange(nt,et){const at=nt.getValue("willChange");if(isWillChangeMotionValue(at))return at.add(et)}function shouldBlockAnimation({protectedKeys:nt,needsAnimating:et},at){const mt=nt.hasOwnProperty(at)&&et[at]!==!0;return et[at]=!1,mt}function animateTarget(nt,et,{delay:at=0,transitionOverride:mt,type:$t}={}){var Ct;let{transition:Dt=nt.getDefaultTransition(),transitionEnd:Ft,...Nt}=et;mt&&(Dt=mt);const jt=[],Lt=$t&&nt.animationState&&nt.animationState.getState()[$t];for(const Vt in Nt){const er=nt.getValue(Vt,(Ct=nt.latestValues[Vt])!==null&&Ct!==void 0?Ct:null),ir=Nt[Vt];if(ir===void 0||Lt&&shouldBlockAnimation(Lt,Vt))continue;const or={delay:at,...getValueTransition(Dt||{},Vt)};let lr=!1;if(window.MotionHandoffAnimation){const pr=getOptimisedAppearId(nt);if(pr){const hr=window.MotionHandoffAnimation(pr,Vt,frame);hr!==null&&(or.startTime=hr,lr=!0)}}addValueToWillChange(nt,Vt),er.start(animateMotionValue(Vt,er,ir,nt.shouldReduceMotion&&transformProps.has(Vt)?{type:!1}:or,nt,lr));const dr=er.animation;dr&&jt.push(dr)}return Ft&&Promise.all(jt).then(()=>{frame.update(()=>{Ft&&setTarget(nt,Ft)})}),jt}function animateVariant(nt,et,at={}){var mt;const $t=resolveVariant(nt,et,at.type==="exit"?(mt=nt.presenceContext)===null||mt===void 0?void 0:mt.custom:void 0);let{transition:Ct=nt.getDefaultTransition()||{}}=$t||{};at.transitionOverride&&(Ct=at.transitionOverride);const Dt=$t?()=>Promise.all(animateTarget(nt,$t,at)):()=>Promise.resolve(),Ft=nt.variantChildren&&nt.variantChildren.size?(jt=0)=>{const{delayChildren:Lt=0,staggerChildren:Vt,staggerDirection:er}=Ct;return animateChildren(nt,et,Lt+jt,Vt,er,at)}:()=>Promise.resolve(),{when:Nt}=Ct;if(Nt){const[jt,Lt]=Nt==="beforeChildren"?[Dt,Ft]:[Ft,Dt];return jt().then(()=>Lt())}else return Promise.all([Dt(),Ft(at.delay)])}function animateChildren(nt,et,at=0,mt=0,$t=1,Ct){const Dt=[],Ft=(nt.variantChildren.size-1)*mt,Nt=$t===1?(jt=0)=>jt*mt:(jt=0)=>Ft-jt*mt;return Array.from(nt.variantChildren).sort(sortByTreeOrder).forEach((jt,Lt)=>{jt.notify("AnimationStart",et),Dt.push(animateVariant(jt,et,{...Ct,delay:at+Nt(Lt)}).then(()=>jt.notify("AnimationComplete",et)))}),Promise.all(Dt)}function sortByTreeOrder(nt,et){return nt.sortNodePosition(et)}function animateVisualElement(nt,et,at={}){nt.notify("AnimationStart",et);let mt;if(Array.isArray(et)){const $t=et.map(Ct=>animateVariant(nt,Ct,at));mt=Promise.all($t)}else if(typeof et=="string")mt=animateVariant(nt,et,at);else{const $t=typeof et=="function"?resolveVariant(nt,et,at.custom):et;mt=Promise.all(animateTarget(nt,$t,at))}return mt.then(()=>{nt.notify("AnimationComplete",et)})}const numVariantProps=variantProps.length;function getVariantContext(nt){if(!nt)return;if(!nt.isControllingVariants){const at=nt.parent?getVariantContext(nt.parent)||{}:{};return nt.props.initial!==void 0&&(at.initial=nt.props.initial),at}const et={};for(let at=0;at<numVariantProps;at++){const mt=variantProps[at],$t=nt.props[mt];(isVariantLabel($t)||$t===!1)&&(et[mt]=$t)}return et}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(nt){return et=>Promise.all(et.map(({animation:at,options:mt})=>animateVisualElement(nt,at,mt)))}function createAnimationState(nt){let et=animateList(nt),at=createState(),mt=!0;const $t=Nt=>(jt,Lt)=>{var Vt;const er=resolveVariant(nt,Lt,Nt==="exit"?(Vt=nt.presenceContext)===null||Vt===void 0?void 0:Vt.custom:void 0);if(er){const{transition:ir,transitionEnd:or,...lr}=er;jt={...jt,...lr,...or}}return jt};function Ct(Nt){et=Nt(nt)}function Dt(Nt){const{props:jt}=nt,Lt=getVariantContext(nt.parent)||{},Vt=[],er=new Set;let ir={},or=1/0;for(let dr=0;dr<numAnimationTypes;dr++){const pr=reversePriorityOrder[dr],hr=at[pr],vr=jt[pr]!==void 0?jt[pr]:Lt[pr],br=isVariantLabel(vr),xr=pr===Nt?hr.isActive:null;xr===!1&&(or=dr);let Sr=vr===Lt[pr]&&vr!==jt[pr]&&br;if(Sr&&mt&&nt.manuallyAnimateOnMount&&(Sr=!1),hr.protectedKeys={...ir},!hr.isActive&&xr===null||!vr&&!hr.prevProp||isAnimationControls(vr)||typeof vr=="boolean")continue;const Er=checkVariantsDidChange(hr.prevProp,vr);let $r=Er||pr===Nt&&hr.isActive&&!Sr&&br||dr>or&&br,Cr=!1;const kr=Array.isArray(vr)?vr:[vr];let gr=kr.reduce($t(pr),{});xr===!1&&(gr={});const{prevResolvedValues:Ut={}}=hr,tr={...Ut,...gr},nr=cr=>{$r=!0,er.has(cr)&&(Cr=!0,er.delete(cr)),hr.needsAnimating[cr]=!0;const fr=nt.getValue(cr);fr&&(fr.liveStyle=!1)};for(const cr in tr){const fr=gr[cr],sr=Ut[cr];if(ir.hasOwnProperty(cr))continue;let Yt=!1;isKeyframesTarget(fr)&&isKeyframesTarget(sr)?Yt=!shallowCompare(fr,sr):Yt=fr!==sr,Yt?fr!=null?nr(cr):er.add(cr):fr!==void 0&&er.has(cr)?nr(cr):hr.protectedKeys[cr]=!0}hr.prevProp=vr,hr.prevResolvedValues=gr,hr.isActive&&(ir={...ir,...gr}),mt&&nt.blockInitialAnimation&&($r=!1),$r&&(!(Sr&&Er)||Cr)&&Vt.push(...kr.map(cr=>({animation:cr,options:{type:pr}})))}if(er.size){const dr={};er.forEach(pr=>{const hr=nt.getBaseTarget(pr),vr=nt.getValue(pr);vr&&(vr.liveStyle=!0),dr[pr]=hr??null}),Vt.push({animation:dr})}let lr=!!Vt.length;return mt&&(jt.initial===!1||jt.initial===jt.animate)&&!nt.manuallyAnimateOnMount&&(lr=!1),mt=!1,lr?et(Vt):Promise.resolve()}function Ft(Nt,jt){var Lt;if(at[Nt].isActive===jt)return Promise.resolve();(Lt=nt.variantChildren)===null||Lt===void 0||Lt.forEach(er=>{var ir;return(ir=er.animationState)===null||ir===void 0?void 0:ir.setActive(Nt,jt)}),at[Nt].isActive=jt;const Vt=Dt(Nt);for(const er in at)at[er].protectedKeys={};return Vt}return{animateChanges:Dt,setActive:Ft,setAnimateFunction:Ct,getState:()=>at,reset:()=>{at=createState(),mt=!0}}}function checkVariantsDidChange(nt,et){return typeof et=="string"?et!==nt:Array.isArray(et)?!shallowCompare(et,nt):!1}function createTypeState(nt=!1){return{isActive:nt,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(et){this.isMounted=!1,this.node=et}update(){}}class AnimationFeature extends Feature{constructor(et){super(et),et.animationState||(et.animationState=createAnimationState(et))}updateAnimationControlsSubscription(){const{animate:et}=this.node.getProps();isAnimationControls(et)&&(this.unmountControls=et.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:et}=this.node.getProps(),{animate:at}=this.node.prevProps||{};et!==at&&this.updateAnimationControlsSubscription()}unmount(){var et;this.node.animationState.reset(),(et=this.unmountControls)===null||et===void 0||et.call(this)}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:et,onExitComplete:at}=this.node.presenceContext,{isPresent:mt}=this.node.prevPresenceContext||{};if(!this.node.animationState||et===mt)return;const $t=this.node.animationState.setActive("exit",!et);at&&!et&&$t.then(()=>at(this.id))}mount(){const{register:et}=this.node.presenceContext||{};et&&(this.unmount=et(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function resolveElements(nt,et,at){var mt;if(nt instanceof Element)return[nt];if(typeof nt=="string"){let $t=document;const Ct=(mt=void 0)!==null&&mt!==void 0?mt:$t.querySelectorAll(nt);return Ct?Array.from(Ct):[]}return Array.from(nt)}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function filterEvents(nt){return et=>{et.pointerType==="touch"||isDragActive()||nt(et)}}function hover(nt,et,at={}){const mt=new AbortController,$t={passive:!0,...at,signal:mt.signal},Ct=filterEvents(Dt=>{const{target:Ft}=Dt,Nt=et(Dt);if(!Nt||!Ft)return;const jt=filterEvents(Lt=>{Nt(Lt),Ft.removeEventListener("pointerleave",jt)});Ft.addEventListener("pointerleave",jt,$t)});return resolveElements(nt).forEach(Dt=>{Dt.addEventListener("pointerenter",Ct,$t)}),()=>mt.abort()}function setDragLock(nt){return nt==="x"||nt==="y"?isDragging[nt]?null:(isDragging[nt]=!0,()=>{isDragging[nt]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const isPrimaryPointer=nt=>nt.pointerType==="mouse"?typeof nt.button!="number"||nt.button<=0:nt.isPrimary!==!1;function extractEventInfo(nt){return{point:{x:nt.pageX,y:nt.pageY}}}const addPointerInfo=nt=>et=>isPrimaryPointer(et)&&nt(et,extractEventInfo(et));function addDomEvent(nt,et,at,mt={passive:!0}){return nt.addEventListener(et,at,mt),()=>nt.removeEventListener(et,at)}function addPointerEvent(nt,et,at,mt){return addDomEvent(nt,et,addPointerInfo(at),mt)}const distance=(nt,et)=>Math.abs(nt-et);function distance2D(nt,et){const at=distance(nt.x,et.x),mt=distance(nt.y,et.y);return Math.sqrt(at**2+mt**2)}class PanSession{constructor(et,at,{transformPagePoint:mt,contextWindow:$t,dragSnapToOrigin:Ct=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Vt=getPanInfo(this.lastMoveEventInfo,this.history),er=this.startEvent!==null,ir=distance2D(Vt.offset,{x:0,y:0})>=3;if(!er&&!ir)return;const{point:or}=Vt,{timestamp:lr}=frameData;this.history.push({...or,timestamp:lr});const{onStart:dr,onMove:pr}=this.handlers;er||(dr&&dr(this.lastMoveEvent,Vt),this.startEvent=this.lastMoveEvent),pr&&pr(this.lastMoveEvent,Vt)},this.handlePointerMove=(Vt,er)=>{this.lastMoveEvent=Vt,this.lastMoveEventInfo=transformPoint(er,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Vt,er)=>{this.end();const{onEnd:ir,onSessionEnd:or,resumeAnimation:lr}=this.handlers;if(this.dragSnapToOrigin&&lr&&lr(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const dr=getPanInfo(Vt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(er,this.transformPagePoint),this.history);this.startEvent&&ir&&ir(Vt,dr),or&&or(Vt,dr)},!isPrimaryPointer(et))return;this.dragSnapToOrigin=Ct,this.handlers=at,this.transformPagePoint=mt,this.contextWindow=$t||window;const Dt=extractEventInfo(et),Ft=transformPoint(Dt,this.transformPagePoint),{point:Nt}=Ft,{timestamp:jt}=frameData;this.history=[{...Nt,timestamp:jt}];const{onSessionStart:Lt}=at;Lt&&Lt(et,getPanInfo(Ft,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(et){this.handlers=et}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(nt,et){return et?{point:et(nt.point)}:nt}function subtractPoint(nt,et){return{x:nt.x-et.x,y:nt.y-et.y}}function getPanInfo({point:nt},et){return{point:nt,delta:subtractPoint(nt,lastDevicePoint(et)),offset:subtractPoint(nt,startDevicePoint(et)),velocity:getVelocity(et,.1)}}function startDevicePoint(nt){return nt[0]}function lastDevicePoint(nt){return nt[nt.length-1]}function getVelocity(nt,et){if(nt.length<2)return{x:0,y:0};let at=nt.length-1,mt=null;const $t=lastDevicePoint(nt);for(;at>=0&&(mt=nt[at],!($t.timestamp-mt.timestamp>secondsToMilliseconds(et)));)at--;if(!mt)return{x:0,y:0};const Ct=millisecondsToSeconds($t.timestamp-mt.timestamp);if(Ct===0)return{x:0,y:0};const Dt={x:($t.x-mt.x)/Ct,y:($t.y-mt.y)/Ct};return Dt.x===1/0&&(Dt.x=0),Dt.y===1/0&&(Dt.y=0),Dt}function isRefObject(nt){return nt&&typeof nt=="object"&&Object.prototype.hasOwnProperty.call(nt,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(nt){return nt.max-nt.min}function isNear(nt,et,at){return Math.abs(nt-et)<=at}function calcAxisDelta(nt,et,at,mt=.5){nt.origin=mt,nt.originPoint=mixNumber$1(et.min,et.max,nt.origin),nt.scale=calcLength(at)/calcLength(et),nt.translate=mixNumber$1(at.min,at.max,nt.origin)-nt.originPoint,(nt.scale>=SCALE_MIN&&nt.scale<=SCALE_MAX||isNaN(nt.scale))&&(nt.scale=1),(nt.translate>=TRANSLATE_MIN&&nt.translate<=TRANSLATE_MAX||isNaN(nt.translate))&&(nt.translate=0)}function calcBoxDelta(nt,et,at,mt){calcAxisDelta(nt.x,et.x,at.x,mt?mt.originX:void 0),calcAxisDelta(nt.y,et.y,at.y,mt?mt.originY:void 0)}function calcRelativeAxis(nt,et,at){nt.min=at.min+et.min,nt.max=nt.min+calcLength(et)}function calcRelativeBox(nt,et,at){calcRelativeAxis(nt.x,et.x,at.x),calcRelativeAxis(nt.y,et.y,at.y)}function calcRelativeAxisPosition(nt,et,at){nt.min=et.min-at.min,nt.max=nt.min+calcLength(et)}function calcRelativePosition(nt,et,at){calcRelativeAxisPosition(nt.x,et.x,at.x),calcRelativeAxisPosition(nt.y,et.y,at.y)}function applyConstraints(nt,{min:et,max:at},mt){return et!==void 0&&nt<et?nt=mt?mixNumber$1(et,nt,mt.min):Math.max(nt,et):at!==void 0&&nt>at&&(nt=mt?mixNumber$1(at,nt,mt.max):Math.min(nt,at)),nt}function calcRelativeAxisConstraints(nt,et,at){return{min:et!==void 0?nt.min+et:void 0,max:at!==void 0?nt.max+at-(nt.max-nt.min):void 0}}function calcRelativeConstraints(nt,{top:et,left:at,bottom:mt,right:$t}){return{x:calcRelativeAxisConstraints(nt.x,at,$t),y:calcRelativeAxisConstraints(nt.y,et,mt)}}function calcViewportAxisConstraints(nt,et){let at=et.min-nt.min,mt=et.max-nt.max;return et.max-et.min<nt.max-nt.min&&([at,mt]=[mt,at]),{min:at,max:mt}}function calcViewportConstraints(nt,et){return{x:calcViewportAxisConstraints(nt.x,et.x),y:calcViewportAxisConstraints(nt.y,et.y)}}function calcOrigin$1(nt,et){let at=.5;const mt=calcLength(nt),$t=calcLength(et);return $t>mt?at=progress(et.min,et.max-mt,nt.min):mt>$t&&(at=progress(nt.min,nt.max-$t,et.min)),clamp$4(0,1,at)}function rebaseAxisConstraints(nt,et){const at={};return et.min!==void 0&&(at.min=et.min-nt.min),et.max!==void 0&&(at.max=et.max-nt.min),at}const defaultElastic=.35;function resolveDragElastic(nt=defaultElastic){return nt===!1?nt=0:nt===!0&&(nt=defaultElastic),{x:resolveAxisElastic(nt,"left","right"),y:resolveAxisElastic(nt,"top","bottom")}}function resolveAxisElastic(nt,et,at){return{min:resolvePointElastic(nt,et),max:resolvePointElastic(nt,at)}}function resolvePointElastic(nt,et){return typeof nt=="number"?nt:nt[et]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(nt){return[nt("x"),nt("y")]}function convertBoundingBoxToBox({top:nt,left:et,right:at,bottom:mt}){return{x:{min:et,max:at},y:{min:nt,max:mt}}}function convertBoxToBoundingBox({x:nt,y:et}){return{top:et.min,right:nt.max,bottom:et.max,left:nt.min}}function transformBoxPoints(nt,et){if(!et)return nt;const at=et({x:nt.left,y:nt.top}),mt=et({x:nt.right,y:nt.bottom});return{top:at.y,left:at.x,bottom:mt.y,right:mt.x}}function isIdentityScale(nt){return nt===void 0||nt===1}function hasScale({scale:nt,scaleX:et,scaleY:at}){return!isIdentityScale(nt)||!isIdentityScale(et)||!isIdentityScale(at)}function hasTransform(nt){return hasScale(nt)||has2DTranslate(nt)||nt.z||nt.rotate||nt.rotateX||nt.rotateY||nt.skewX||nt.skewY}function has2DTranslate(nt){return is2DTranslate(nt.x)||is2DTranslate(nt.y)}function is2DTranslate(nt){return nt&&nt!=="0%"}function scalePoint(nt,et,at){const mt=nt-at,$t=et*mt;return at+$t}function applyPointDelta(nt,et,at,mt,$t){return $t!==void 0&&(nt=scalePoint(nt,$t,mt)),scalePoint(nt,at,mt)+et}function applyAxisDelta(nt,et=0,at=1,mt,$t){nt.min=applyPointDelta(nt.min,et,at,mt,$t),nt.max=applyPointDelta(nt.max,et,at,mt,$t)}function applyBoxDelta(nt,{x:et,y:at}){applyAxisDelta(nt.x,et.translate,et.scale,et.originPoint),applyAxisDelta(nt.y,at.translate,at.scale,at.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(nt,et,at,mt=!1){const $t=at.length;if(!$t)return;et.x=et.y=1;let Ct,Dt;for(let Ft=0;Ft<$t;Ft++){Ct=at[Ft],Dt=Ct.projectionDelta;const{visualElement:Nt}=Ct.options;Nt&&Nt.props.style&&Nt.props.style.display==="contents"||(mt&&Ct.options.layoutScroll&&Ct.scroll&&Ct!==Ct.root&&transformBox(nt,{x:-Ct.scroll.offset.x,y:-Ct.scroll.offset.y}),Dt&&(et.x*=Dt.x.scale,et.y*=Dt.y.scale,applyBoxDelta(nt,Dt)),mt&&hasTransform(Ct.latestValues)&&transformBox(nt,Ct.latestValues))}et.x<TREE_SCALE_SNAP_MAX&&et.x>TREE_SCALE_SNAP_MIN&&(et.x=1),et.y<TREE_SCALE_SNAP_MAX&&et.y>TREE_SCALE_SNAP_MIN&&(et.y=1)}function translateAxis(nt,et){nt.min=nt.min+et,nt.max=nt.max+et}function transformAxis(nt,et,at,mt,$t=.5){const Ct=mixNumber$1(nt.min,nt.max,$t);applyAxisDelta(nt,et,at,Ct,mt)}function transformBox(nt,et){transformAxis(nt.x,et.x,et.scaleX,et.scale,et.originX),transformAxis(nt.y,et.y,et.scaleY,et.scale,et.originY)}function measureViewportBox(nt,et){return convertBoundingBoxToBox(transformBoxPoints(nt.getBoundingClientRect(),et))}function measurePageBox(nt,et,at){const mt=measureViewportBox(nt,at),{scroll:$t}=et;return $t&&(translateAxis(mt.x,$t.offset.x),translateAxis(mt.y,$t.offset.y)),mt}const getContextWindow=({current:nt})=>nt?nt.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(et){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=et}start(et,{snapToCursor:at=!1}={}){const{presenceContext:mt}=this.visualElement;if(mt&&mt.isPresent===!1)return;const $t=Lt=>{const{dragSnapToOrigin:Vt}=this.getProps();Vt?this.pauseAnimation():this.stopAnimation(),at&&this.snapToCursor(extractEventInfo(Lt).point)},Ct=(Lt,Vt)=>{const{drag:er,dragPropagation:ir,onDragStart:or}=this.getProps();if(er&&!ir&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(er),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(dr=>{let pr=this.getAxisMotionValue(dr).get()||0;if(percent.test(pr)){const{projection:hr}=this.visualElement;if(hr&&hr.layout){const vr=hr.layout.layoutBox[dr];vr&&(pr=calcLength(vr)*(parseFloat(pr)/100))}}this.originPoint[dr]=pr}),or&&frame.postRender(()=>or(Lt,Vt)),addValueToWillChange(this.visualElement,"transform");const{animationState:lr}=this.visualElement;lr&&lr.setActive("whileDrag",!0)},Dt=(Lt,Vt)=>{const{dragPropagation:er,dragDirectionLock:ir,onDirectionLock:or,onDrag:lr}=this.getProps();if(!er&&!this.openDragLock)return;const{offset:dr}=Vt;if(ir&&this.currentDirection===null){this.currentDirection=getCurrentDirection(dr),this.currentDirection!==null&&or&&or(this.currentDirection);return}this.updateAxis("x",Vt.point,dr),this.updateAxis("y",Vt.point,dr),this.visualElement.render(),lr&&lr(Lt,Vt)},Ft=(Lt,Vt)=>this.stop(Lt,Vt),Nt=()=>eachAxis(Lt=>{var Vt;return this.getAnimationState(Lt)==="paused"&&((Vt=this.getAxisMotionValue(Lt).animation)===null||Vt===void 0?void 0:Vt.play())}),{dragSnapToOrigin:jt}=this.getProps();this.panSession=new PanSession(et,{onSessionStart:$t,onStart:Ct,onMove:Dt,onSessionEnd:Ft,resumeAnimation:Nt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:jt,contextWindow:getContextWindow(this.visualElement)})}stop(et,at){const mt=this.isDragging;if(this.cancel(),!mt)return;const{velocity:$t}=at;this.startAnimation($t);const{onDragEnd:Ct}=this.getProps();Ct&&frame.postRender(()=>Ct(et,at))}cancel(){this.isDragging=!1;const{projection:et,animationState:at}=this.visualElement;et&&(et.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:mt}=this.getProps();!mt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),at&&at.setActive("whileDrag",!1)}updateAxis(et,at,mt){const{drag:$t}=this.getProps();if(!mt||!shouldDrag(et,$t,this.currentDirection))return;const Ct=this.getAxisMotionValue(et);let Dt=this.originPoint[et]+mt[et];this.constraints&&this.constraints[et]&&(Dt=applyConstraints(Dt,this.constraints[et],this.elastic[et])),Ct.set(Dt)}resolveConstraints(){var et;const{dragConstraints:at,dragElastic:mt}=this.getProps(),$t=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(et=this.visualElement.projection)===null||et===void 0?void 0:et.layout,Ct=this.constraints;at&&isRefObject(at)?this.constraints||(this.constraints=this.resolveRefConstraints()):at&&$t?this.constraints=calcRelativeConstraints($t.layoutBox,at):this.constraints=!1,this.elastic=resolveDragElastic(mt),Ct!==this.constraints&&$t&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Dt=>{this.constraints!==!1&&this.getAxisMotionValue(Dt)&&(this.constraints[Dt]=rebaseAxisConstraints($t.layoutBox[Dt],this.constraints[Dt]))})}resolveRefConstraints(){const{dragConstraints:et,onMeasureDragConstraints:at}=this.getProps();if(!et||!isRefObject(et))return!1;const mt=et.current,{projection:$t}=this.visualElement;if(!$t||!$t.layout)return!1;const Ct=measurePageBox(mt,$t.root,this.visualElement.getTransformPagePoint());let Dt=calcViewportConstraints($t.layout.layoutBox,Ct);if(at){const Ft=at(convertBoxToBoundingBox(Dt));this.hasMutatedConstraints=!!Ft,Ft&&(Dt=convertBoundingBoxToBox(Ft))}return Dt}startAnimation(et){const{drag:at,dragMomentum:mt,dragElastic:$t,dragTransition:Ct,dragSnapToOrigin:Dt,onDragTransitionEnd:Ft}=this.getProps(),Nt=this.constraints||{},jt=eachAxis(Lt=>{if(!shouldDrag(Lt,at,this.currentDirection))return;let Vt=Nt&&Nt[Lt]||{};Dt&&(Vt={min:0,max:0});const er=$t?200:1e6,ir=$t?40:1e7,or={type:"inertia",velocity:mt?et[Lt]:0,bounceStiffness:er,bounceDamping:ir,timeConstant:750,restDelta:1,restSpeed:10,...Ct,...Vt};return this.startAxisValueAnimation(Lt,or)});return Promise.all(jt).then(Ft)}startAxisValueAnimation(et,at){const mt=this.getAxisMotionValue(et);return addValueToWillChange(this.visualElement,et),mt.start(animateMotionValue(et,mt,0,at,this.visualElement,!1))}stopAnimation(){eachAxis(et=>this.getAxisMotionValue(et).stop())}pauseAnimation(){eachAxis(et=>{var at;return(at=this.getAxisMotionValue(et).animation)===null||at===void 0?void 0:at.pause()})}getAnimationState(et){var at;return(at=this.getAxisMotionValue(et).animation)===null||at===void 0?void 0:at.state}getAxisMotionValue(et){const at=`_drag${et.toUpperCase()}`,mt=this.visualElement.getProps(),$t=mt[at];return $t||this.visualElement.getValue(et,(mt.initial?mt.initial[et]:void 0)||0)}snapToCursor(et){eachAxis(at=>{const{drag:mt}=this.getProps();if(!shouldDrag(at,mt,this.currentDirection))return;const{projection:$t}=this.visualElement,Ct=this.getAxisMotionValue(at);if($t&&$t.layout){const{min:Dt,max:Ft}=$t.layout.layoutBox[at];Ct.set(et[at]-mixNumber$1(Dt,Ft,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:et,dragConstraints:at}=this.getProps(),{projection:mt}=this.visualElement;if(!isRefObject(at)||!mt||!this.constraints)return;this.stopAnimation();const $t={x:0,y:0};eachAxis(Dt=>{const Ft=this.getAxisMotionValue(Dt);if(Ft&&this.constraints!==!1){const Nt=Ft.get();$t[Dt]=calcOrigin$1({min:Nt,max:Nt},this.constraints[Dt])}});const{transformTemplate:Ct}=this.visualElement.getProps();this.visualElement.current.style.transform=Ct?Ct({},""):"none",mt.root&&mt.root.updateScroll(),mt.updateLayout(),this.resolveConstraints(),eachAxis(Dt=>{if(!shouldDrag(Dt,et,null))return;const Ft=this.getAxisMotionValue(Dt),{min:Nt,max:jt}=this.constraints[Dt];Ft.set(mixNumber$1(Nt,jt,$t[Dt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const et=this.visualElement.current,at=addPointerEvent(et,"pointerdown",Nt=>{const{drag:jt,dragListener:Lt=!0}=this.getProps();jt&&Lt&&this.start(Nt)}),mt=()=>{const{dragConstraints:Nt}=this.getProps();isRefObject(Nt)&&Nt.current&&(this.constraints=this.resolveRefConstraints())},{projection:$t}=this.visualElement,Ct=$t.addEventListener("measure",mt);$t&&!$t.layout&&($t.root&&$t.root.updateScroll(),$t.updateLayout()),frame.read(mt);const Dt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Ft=$t.addEventListener("didUpdate",({delta:Nt,hasLayoutChanged:jt})=>{this.isDragging&&jt&&(eachAxis(Lt=>{const Vt=this.getAxisMotionValue(Lt);Vt&&(this.originPoint[Lt]+=Nt[Lt].translate,Vt.set(Vt.get()+Nt[Lt].translate))}),this.visualElement.render())});return()=>{Dt(),at(),Ct(),Ft&&Ft()}}getProps(){const et=this.visualElement.getProps(),{drag:at=!1,dragDirectionLock:mt=!1,dragPropagation:$t=!1,dragConstraints:Ct=!1,dragElastic:Dt=defaultElastic,dragMomentum:Ft=!0}=et;return{...et,drag:at,dragDirectionLock:mt,dragPropagation:$t,dragConstraints:Ct,dragElastic:Dt,dragMomentum:Ft}}}function shouldDrag(nt,et,at){return(et===!0||et===nt)&&(at===null||at===nt)}function getCurrentDirection(nt,et=10){let at=null;return Math.abs(nt.y)>et?at="y":Math.abs(nt.x)>et&&(at="x"),at}class DragGesture extends Feature{constructor(et){super(et),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(et)}mount(){const{dragControls:et}=this.node.getProps();et&&(this.removeGroupControls=et.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=nt=>(et,at)=>{nt&&frame.postRender(()=>nt(et,at))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(et){this.session=new PanSession(et,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:et,onPanStart:at,onPan:mt,onPanEnd:$t}=this.node.getProps();return{onSessionStart:asyncHandler(et),onStart:asyncHandler(at),onMove:mt,onEnd:(Ct,Dt)=>{delete this.session,$t&&frame.postRender(()=>$t(Ct,Dt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",et=>this.onPointerDown(et))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const nt=reactExports.useContext(PresenceContext);if(nt===null)return[!0,null];const{isPresent:et,onExitComplete:at,register:mt}=nt,$t=reactExports.useId();reactExports.useEffect(()=>mt($t),[]);const Ct=reactExports.useCallback(()=>at&&at($t),[$t,at]);return!et&&at?[!1,Ct]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(nt){return nt===null?!0:nt.isPresent}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(nt,et){return et.max===et.min?0:nt/(et.max-et.min)*100}const correctBorderRadius={correct:(nt,et)=>{if(!et.target)return nt;if(typeof nt=="string")if(px.test(nt))nt=parseFloat(nt);else return nt;const at=pixelsToPercent(nt,et.target.x),mt=pixelsToPercent(nt,et.target.y);return`${at}% ${mt}%`}},correctBoxShadow={correct:(nt,{treeScale:et,projectionDelta:at})=>{const mt=nt,$t=complex.parse(nt);if($t.length>5)return mt;const Ct=complex.createTransformer(nt),Dt=typeof $t[0]!="number"?1:0,Ft=at.x.scale*et.x,Nt=at.y.scale*et.y;$t[0+Dt]/=Ft,$t[1+Dt]/=Nt;const jt=mixNumber$1(Ft,Nt,.5);return typeof $t[2+Dt]=="number"&&($t[2+Dt]/=jt),typeof $t[3+Dt]=="number"&&($t[3+Dt]/=jt),Ct($t)}},scaleCorrectors={};function addScaleCorrector(nt){Object.assign(scaleCorrectors,nt)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:et,layoutGroup:at,switchLayoutGroup:mt,layoutId:$t}=this.props,{projection:Ct}=et;addScaleCorrector(defaultScaleCorrectors),Ct&&(at.group&&at.group.add(Ct),mt&&mt.register&&$t&&mt.register(Ct),Ct.root.didUpdate(),Ct.addEventListener("animationComplete",()=>{this.safeToRemove()}),Ct.setOptions({...Ct.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(et){const{layoutDependency:at,visualElement:mt,drag:$t,isPresent:Ct}=this.props,Dt=mt.projection;return Dt&&(Dt.isPresent=Ct,$t||et.layoutDependency!==at||at===void 0?Dt.willUpdate():this.safeToRemove(),et.isPresent!==Ct&&(Ct?Dt.promote():Dt.relegate()||frame.postRender(()=>{const Ft=Dt.getStack();(!Ft||!Ft.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:et}=this.props.visualElement;et&&(et.root.didUpdate(),microtask.postRender(()=>{!et.currentAnimation&&et.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:et,layoutGroup:at,switchLayoutGroup:mt}=this.props,{projection:$t}=et;$t&&($t.scheduleCheckAfterUnmount(),at&&at.group&&at.group.remove($t),mt&&mt.deregister&&mt.deregister($t))}safeToRemove(){const{safeToRemove:et}=this.props;et&&et()}render(){return null}}function MeasureLayout(nt){const[et,at]=usePresence(),mt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...nt,layoutGroup:mt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:et,safeToRemove:at})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=nt=>typeof nt=="string"?parseFloat(nt):nt,isPx=nt=>typeof nt=="number"||px.test(nt);function mixValues(nt,et,at,mt,$t,Ct){$t?(nt.opacity=mixNumber$1(0,at.opacity!==void 0?at.opacity:1,easeCrossfadeIn(mt)),nt.opacityExit=mixNumber$1(et.opacity!==void 0?et.opacity:1,0,easeCrossfadeOut(mt))):Ct&&(nt.opacity=mixNumber$1(et.opacity!==void 0?et.opacity:1,at.opacity!==void 0?at.opacity:1,mt));for(let Dt=0;Dt<numBorders;Dt++){const Ft=`border${borders[Dt]}Radius`;let Nt=getRadius(et,Ft),jt=getRadius(at,Ft);if(Nt===void 0&&jt===void 0)continue;Nt||(Nt=0),jt||(jt=0),Nt===0||jt===0||isPx(Nt)===isPx(jt)?(nt[Ft]=Math.max(mixNumber$1(asNumber(Nt),asNumber(jt),mt),0),(percent.test(jt)||percent.test(Nt))&&(nt[Ft]+="%")):nt[Ft]=jt}(et.rotate||at.rotate)&&(nt.rotate=mixNumber$1(et.rotate||0,at.rotate||0,mt))}function getRadius(nt,et){return nt[et]!==void 0?nt[et]:nt.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(nt,et,at){return mt=>mt<nt?0:mt>et?1:at(progress(nt,et,mt))}function copyAxisInto(nt,et){nt.min=et.min,nt.max=et.max}function copyBoxInto(nt,et){copyAxisInto(nt.x,et.x),copyAxisInto(nt.y,et.y)}function copyAxisDeltaInto(nt,et){nt.translate=et.translate,nt.scale=et.scale,nt.originPoint=et.originPoint,nt.origin=et.origin}function removePointDelta(nt,et,at,mt,$t){return nt-=et,nt=scalePoint(nt,1/at,mt),$t!==void 0&&(nt=scalePoint(nt,1/$t,mt)),nt}function removeAxisDelta(nt,et=0,at=1,mt=.5,$t,Ct=nt,Dt=nt){if(percent.test(et)&&(et=parseFloat(et),et=mixNumber$1(Dt.min,Dt.max,et/100)-Dt.min),typeof et!="number")return;let Ft=mixNumber$1(Ct.min,Ct.max,mt);nt===Ct&&(Ft-=et),nt.min=removePointDelta(nt.min,et,at,Ft,$t),nt.max=removePointDelta(nt.max,et,at,Ft,$t)}function removeAxisTransforms(nt,et,[at,mt,$t],Ct,Dt){removeAxisDelta(nt,et[at],et[mt],et[$t],et.scale,Ct,Dt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(nt,et,at,mt){removeAxisTransforms(nt.x,et,xKeys,at?at.x:void 0,mt?mt.x:void 0),removeAxisTransforms(nt.y,et,yKeys,at?at.y:void 0,mt?mt.y:void 0)}function isAxisDeltaZero(nt){return nt.translate===0&&nt.scale===1}function isDeltaZero(nt){return isAxisDeltaZero(nt.x)&&isAxisDeltaZero(nt.y)}function axisEquals(nt,et){return nt.min===et.min&&nt.max===et.max}function boxEquals(nt,et){return axisEquals(nt.x,et.x)&&axisEquals(nt.y,et.y)}function axisEqualsRounded(nt,et){return Math.round(nt.min)===Math.round(et.min)&&Math.round(nt.max)===Math.round(et.max)}function boxEqualsRounded(nt,et){return axisEqualsRounded(nt.x,et.x)&&axisEqualsRounded(nt.y,et.y)}function aspectRatio(nt){return calcLength(nt.x)/calcLength(nt.y)}function axisDeltaEquals(nt,et){return nt.translate===et.translate&&nt.scale===et.scale&&nt.originPoint===et.originPoint}class NodeStack{constructor(){this.members=[]}add(et){addUniqueItem(this.members,et),et.scheduleRender()}remove(et){if(removeItem(this.members,et),et===this.prevLead&&(this.prevLead=void 0),et===this.lead){const at=this.members[this.members.length-1];at&&this.promote(at)}}relegate(et){const at=this.members.findIndex($t=>et===$t);if(at===0)return!1;let mt;for(let $t=at;$t>=0;$t--){const Ct=this.members[$t];if(Ct.isPresent!==!1){mt=Ct;break}}return mt?(this.promote(mt),!0):!1}promote(et,at){const mt=this.lead;if(et!==mt&&(this.prevLead=mt,this.lead=et,et.show(),mt)){mt.instance&&mt.scheduleRender(),et.scheduleRender(),et.resumeFrom=mt,at&&(et.resumeFrom.preserveOpacity=!0),mt.snapshot&&(et.snapshot=mt.snapshot,et.snapshot.latestValues=mt.animationValues||mt.latestValues),et.root&&et.root.isUpdating&&(et.isLayoutDirty=!0);const{crossfade:$t}=et.options;$t===!1&&mt.hide()}}exitAnimationComplete(){this.members.forEach(et=>{const{options:at,resumingFrom:mt}=et;at.onExitComplete&&at.onExitComplete(),mt&&mt.options.onExitComplete&&mt.options.onExitComplete()})}scheduleRender(){this.members.forEach(et=>{et.instance&&et.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(nt,et,at){let mt="";const $t=nt.x.translate/et.x,Ct=nt.y.translate/et.y,Dt=(at==null?void 0:at.z)||0;if(($t||Ct||Dt)&&(mt=`translate3d(${$t}px, ${Ct}px, ${Dt}px) `),(et.x!==1||et.y!==1)&&(mt+=`scale(${1/et.x}, ${1/et.y}) `),at){const{transformPerspective:jt,rotate:Lt,rotateX:Vt,rotateY:er,skewX:ir,skewY:or}=at;jt&&(mt=`perspective(${jt}px) ${mt}`),Lt&&(mt+=`rotate(${Lt}deg) `),Vt&&(mt+=`rotateX(${Vt}deg) `),er&&(mt+=`rotateY(${er}deg) `),ir&&(mt+=`skewX(${ir}deg) `),or&&(mt+=`skewY(${or}deg) `)}const Ft=nt.x.scale*et.x,Nt=nt.y.scale*et.y;return(Ft!==1||Nt!==1)&&(mt+=`scale(${Ft}, ${Nt})`),mt||"none"}const compareByDepth=(nt,et)=>nt.depth-et.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(et){addUniqueItem(this.children,et),this.isDirty=!0}remove(et){removeItem(this.children,et),this.isDirty=!0}forEach(et){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(et)}}function resolveMotionValue(nt){const et=isMotionValue(nt)?nt.get():nt;return isCustomValue(et)?et.toValue():et}function delay(nt,et){const at=time.now(),mt=({timestamp:$t})=>{const Ct=$t-at;Ct>=et&&(cancelFrame(mt),nt(Ct-et))};return frame.read(mt,!0),()=>cancelFrame(mt)}function isSVGElement(nt){return nt instanceof SVGElement&&nt.tagName!=="svg"}function animateSingleValue(nt,et,at){const mt=isMotionValue(nt)?nt:motionValue(nt);return mt.start(animateMotionValue("",mt,et,at)),mt.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;function resetDistortingTransform(nt,et,at,mt){const{latestValues:$t}=et;$t[nt]&&(at[nt]=$t[nt],et.setStaticValue(nt,0),mt&&(mt[nt]=0))}function cancelTreeOptimisedTransformAnimations(nt){if(nt.hasCheckedOptimisedAppear=!0,nt.root===nt)return;const{visualElement:et}=nt.options;if(!et)return;const at=getOptimisedAppearId(et);if(window.MotionHasOptimisedAnimation(at,"transform")){const{layout:$t,layoutId:Ct}=nt.options;window.MotionCancelOptimisedAnimation(at,"transform",frame,!($t||Ct))}const{parent:mt}=nt;mt&&!mt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(mt)}function createProjectionNode$1({attachResizeListener:nt,defaultParent:et,measureScroll:at,checkIsScrollRoot:mt,resetTransform:$t}){return class{constructor(Dt={},Ft=et==null?void 0:et()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Dt,this.root=Ft?Ft.root||Ft:this,this.path=Ft?[...Ft.path,Ft]:[],this.parent=Ft,this.depth=Ft?Ft.depth+1:0;for(let Nt=0;Nt<this.path.length;Nt++)this.path[Nt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Dt,Ft){return this.eventHandlers.has(Dt)||this.eventHandlers.set(Dt,new SubscriptionManager),this.eventHandlers.get(Dt).add(Ft)}notifyListeners(Dt,...Ft){const Nt=this.eventHandlers.get(Dt);Nt&&Nt.notify(...Ft)}hasListeners(Dt){return this.eventHandlers.has(Dt)}mount(Dt,Ft=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(Dt),this.instance=Dt;const{layoutId:Nt,layout:jt,visualElement:Lt}=this.options;if(Lt&&!Lt.current&&Lt.mount(Dt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Ft&&(jt||Nt)&&(this.isLayoutDirty=!0),nt){let Vt;const er=()=>this.root.updateBlockedByResize=!1;nt(Dt,()=>{this.root.updateBlockedByResize=!0,Vt&&Vt(),Vt=delay(er,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Nt&&this.root.registerSharedNode(Nt,this),this.options.animate!==!1&&Lt&&(Nt||jt)&&this.addEventListener("didUpdate",({delta:Vt,hasLayoutChanged:er,hasRelativeTargetChanged:ir,layout:or})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const lr=this.options.transition||Lt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:dr,onLayoutAnimationComplete:pr}=Lt.getProps(),hr=!this.targetLayout||!boxEqualsRounded(this.targetLayout,or)||ir,vr=!er&&ir;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||vr||er&&(hr||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(Vt,vr);const br={...getValueTransition(lr,"layout"),onPlay:dr,onComplete:pr};(Lt.shouldReduceMotion||this.options.layoutRoot)&&(br.delay=0,br.type=!1),this.startAnimation(br)}else er||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=or})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Dt=this.getStack();Dt&&Dt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Dt}=this.options;return Dt&&Dt.getProps().transformTemplate}willUpdate(Dt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Lt=0;Lt<this.path.length;Lt++){const Vt=this.path[Lt];Vt.shouldResetTransform=!0,Vt.updateScroll("snapshot"),Vt.options.layoutRoot&&Vt.willUpdate(!1)}const{layoutId:Ft,layout:Nt}=this.options;if(Ft===void 0&&!Nt)return;const jt=this.getTransformTemplate();this.prevTransformTemplateValue=jt?jt(this.latestValues,""):void 0,this.updateSnapshot(),Dt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Ft=time.now();frameData.delta=clamp$4(0,1e3/60,Ft-frameData.timestamp),frameData.timestamp=Ft,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Nt=0;Nt<this.path.length;Nt++)this.path[Nt].updateScroll();const Dt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Ft}=this.options;Ft&&Ft.notify("LayoutMeasure",this.layout.layoutBox,Dt?Dt.layoutBox:void 0)}updateScroll(Dt="measure"){let Ft=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Dt&&(Ft=!1),Ft){const Nt=mt(this.instance);this.scroll={animationId:this.root.animationId,phase:Dt,isRoot:Nt,offset:at(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Nt}}}resetTransform(){if(!$t)return;const Dt=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Ft=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Nt=this.getTransformTemplate(),jt=Nt?Nt(this.latestValues,""):void 0,Lt=jt!==this.prevTransformTemplateValue;Dt&&(Ft||hasTransform(this.latestValues)||Lt)&&($t(this.instance,jt),this.shouldResetTransform=!1,this.scheduleRender())}measure(Dt=!0){const Ft=this.measurePageBox();let Nt=this.removeElementScroll(Ft);return Dt&&(Nt=this.removeTransform(Nt)),roundBox(Nt),{animationId:this.root.animationId,measuredBox:Ft,layoutBox:Nt,latestValues:{},source:this.id}}measurePageBox(){var Dt;const{visualElement:Ft}=this.options;if(!Ft)return createBox();const Nt=Ft.measureViewportBox();if(!(((Dt=this.scroll)===null||Dt===void 0?void 0:Dt.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Lt}=this.root;Lt&&(translateAxis(Nt.x,Lt.offset.x),translateAxis(Nt.y,Lt.offset.y))}return Nt}removeElementScroll(Dt){var Ft;const Nt=createBox();if(copyBoxInto(Nt,Dt),!((Ft=this.scroll)===null||Ft===void 0)&&Ft.wasRoot)return Nt;for(let jt=0;jt<this.path.length;jt++){const Lt=this.path[jt],{scroll:Vt,options:er}=Lt;Lt!==this.root&&Vt&&er.layoutScroll&&(Vt.wasRoot&&copyBoxInto(Nt,Dt),translateAxis(Nt.x,Vt.offset.x),translateAxis(Nt.y,Vt.offset.y))}return Nt}applyTransform(Dt,Ft=!1){const Nt=createBox();copyBoxInto(Nt,Dt);for(let jt=0;jt<this.path.length;jt++){const Lt=this.path[jt];!Ft&&Lt.options.layoutScroll&&Lt.scroll&&Lt!==Lt.root&&transformBox(Nt,{x:-Lt.scroll.offset.x,y:-Lt.scroll.offset.y}),hasTransform(Lt.latestValues)&&transformBox(Nt,Lt.latestValues)}return hasTransform(this.latestValues)&&transformBox(Nt,this.latestValues),Nt}removeTransform(Dt){const Ft=createBox();copyBoxInto(Ft,Dt);for(let Nt=0;Nt<this.path.length;Nt++){const jt=this.path[Nt];if(!jt.instance||!hasTransform(jt.latestValues))continue;hasScale(jt.latestValues)&&jt.updateSnapshot();const Lt=createBox(),Vt=jt.measurePageBox();copyBoxInto(Lt,Vt),removeBoxTransforms(Ft,jt.latestValues,jt.snapshot?jt.snapshot.layoutBox:void 0,Lt)}return hasTransform(this.latestValues)&&removeBoxTransforms(Ft,this.latestValues),Ft}setTargetDelta(Dt){this.targetDelta=Dt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Dt){this.options={...this.options,...Dt,crossfade:Dt.crossfade!==void 0?Dt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Dt=!1){var Ft;const Nt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Nt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Nt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Nt.isSharedProjectionDirty);const jt=!!this.resumingFrom||this!==Nt;if(!(Dt||jt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Ft=this.parent)===null||Ft===void 0)&&Ft.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:Vt,layoutId:er}=this.options;if(!(!this.layout||!(Vt||er))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const ir=this.getClosestProjectingParent();ir&&ir.layout&&this.animationProgress!==1?(this.relativeParent=ir,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,ir.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const ir=this.getClosestProjectingParent();ir&&!!ir.resumingFrom==!!this.resumingFrom&&!ir.options.layoutScroll&&ir.target&&this.animationProgress!==1?(this.relativeParent=ir,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,ir.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Dt;const Ft=this.getLead(),Nt=!!this.resumingFrom||this!==Ft;let jt=!0;if((this.isProjectionDirty||!((Dt=this.parent)===null||Dt===void 0)&&Dt.isProjectionDirty)&&(jt=!1),Nt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(jt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(jt=!1),jt)return;const{layout:Lt,layoutId:Vt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Lt||Vt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const er=this.treeScale.x,ir=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Nt),Ft.layout&&!Ft.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Ft.target=Ft.layout.layoutBox,Ft.targetWithTransforms=createBox());const{target:or}=Ft;if(!or){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,or,this.latestValues),(this.treeScale.x!==er||this.treeScale.y!==ir||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",or)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Dt=!0){var Ft;if((Ft=this.options.visualElement)===null||Ft===void 0||Ft.scheduleRender(),Dt){const Nt=this.getStack();Nt&&Nt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(Dt,Ft=!1){const Nt=this.snapshot,jt=Nt?Nt.latestValues:{},Lt={...this.latestValues},Vt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Ft;const er=createBox(),ir=Nt?Nt.source:void 0,or=this.layout?this.layout.source:void 0,lr=ir!==or,dr=this.getStack(),pr=!dr||dr.members.length<=1,hr=!!(lr&&!pr&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let vr;this.mixTargetDelta=br=>{const xr=br/1e3;mixAxisDelta(Vt.x,Dt.x,xr),mixAxisDelta(Vt.y,Dt.y,xr),this.setTargetDelta(Vt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(er,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,er,xr),vr&&boxEquals(this.relativeTarget,vr)&&(this.isProjectionDirty=!1),vr||(vr=createBox()),copyBoxInto(vr,this.relativeTarget)),lr&&(this.animationValues=Lt,mixValues(Lt,jt,this.latestValues,xr,hr,pr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=xr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Dt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Dt,onUpdate:Ft=>{this.mixTargetDelta(Ft),Dt.onUpdate&&Dt.onUpdate(Ft)},onComplete:()=>{Dt.onComplete&&Dt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Dt=this.getStack();Dt&&Dt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Dt=this.getLead();let{targetWithTransforms:Ft,target:Nt,layout:jt,latestValues:Lt}=Dt;if(!(!Ft||!Nt||!jt)){if(this!==Dt&&this.layout&&jt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,jt.layoutBox)){Nt=this.target||createBox();const Vt=calcLength(this.layout.layoutBox.x);Nt.x.min=Dt.target.x.min,Nt.x.max=Nt.x.min+Vt;const er=calcLength(this.layout.layoutBox.y);Nt.y.min=Dt.target.y.min,Nt.y.max=Nt.y.min+er}copyBoxInto(Ft,Nt),transformBox(Ft,Lt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Ft,Lt)}}registerSharedNode(Dt,Ft){this.sharedNodes.has(Dt)||this.sharedNodes.set(Dt,new NodeStack),this.sharedNodes.get(Dt).add(Ft);const jt=Ft.options.initialPromotionConfig;Ft.promote({transition:jt?jt.transition:void 0,preserveFollowOpacity:jt&&jt.shouldPreserveFollowOpacity?jt.shouldPreserveFollowOpacity(Ft):void 0})}isLead(){const Dt=this.getStack();return Dt?Dt.lead===this:!0}getLead(){var Dt;const{layoutId:Ft}=this.options;return Ft?((Dt=this.getStack())===null||Dt===void 0?void 0:Dt.lead)||this:this}getPrevLead(){var Dt;const{layoutId:Ft}=this.options;return Ft?(Dt=this.getStack())===null||Dt===void 0?void 0:Dt.prevLead:void 0}getStack(){const{layoutId:Dt}=this.options;if(Dt)return this.root.sharedNodes.get(Dt)}promote({needsReset:Dt,transition:Ft,preserveFollowOpacity:Nt}={}){const jt=this.getStack();jt&&jt.promote(this,Nt),Dt&&(this.projectionDelta=void 0,this.needsReset=!0),Ft&&this.setOptions({transition:Ft})}relegate(){const Dt=this.getStack();return Dt?Dt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Dt}=this.options;if(!Dt)return;let Ft=!1;const{latestValues:Nt}=Dt;if((Nt.z||Nt.rotate||Nt.rotateX||Nt.rotateY||Nt.rotateZ||Nt.skewX||Nt.skewY)&&(Ft=!0),!Ft)return;const jt={};Nt.z&&resetDistortingTransform("z",Dt,jt,this.animationValues);for(let Lt=0;Lt<transformAxes.length;Lt++)resetDistortingTransform(`rotate${transformAxes[Lt]}`,Dt,jt,this.animationValues),resetDistortingTransform(`skew${transformAxes[Lt]}`,Dt,jt,this.animationValues);Dt.render();for(const Lt in jt)Dt.setStaticValue(Lt,jt[Lt]),this.animationValues&&(this.animationValues[Lt]=jt[Lt]);Dt.scheduleRender()}getProjectionStyles(Dt){var Ft,Nt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const jt={visibility:""},Lt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,jt.opacity="",jt.pointerEvents=resolveMotionValue(Dt==null?void 0:Dt.pointerEvents)||"",jt.transform=Lt?Lt(this.latestValues,""):"none",jt;const Vt=this.getLead();if(!this.projectionDelta||!this.layout||!Vt.target){const lr={};return this.options.layoutId&&(lr.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,lr.pointerEvents=resolveMotionValue(Dt==null?void 0:Dt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(lr.transform=Lt?Lt({},""):"none",this.hasProjected=!1),lr}const er=Vt.animationValues||Vt.latestValues;this.applyTransformsToTarget(),jt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,er),Lt&&(jt.transform=Lt(er,jt.transform));const{x:ir,y:or}=this.projectionDelta;jt.transformOrigin=`${ir.origin*100}% ${or.origin*100}% 0`,Vt.animationValues?jt.opacity=Vt===this?(Nt=(Ft=er.opacity)!==null&&Ft!==void 0?Ft:this.latestValues.opacity)!==null&&Nt!==void 0?Nt:1:this.preserveOpacity?this.latestValues.opacity:er.opacityExit:jt.opacity=Vt===this?er.opacity!==void 0?er.opacity:"":er.opacityExit!==void 0?er.opacityExit:0;for(const lr in scaleCorrectors){if(er[lr]===void 0)continue;const{correct:dr,applyTo:pr}=scaleCorrectors[lr],hr=jt.transform==="none"?er[lr]:dr(er[lr],Vt);if(pr){const vr=pr.length;for(let br=0;br<vr;br++)jt[pr[br]]=hr}else jt[lr]=hr}return this.options.layoutId&&(jt.pointerEvents=Vt===this?resolveMotionValue(Dt==null?void 0:Dt.pointerEvents)||"":"none"),jt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Dt=>{var Ft;return(Ft=Dt.currentAnimation)===null||Ft===void 0?void 0:Ft.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(nt){nt.updateLayout()}function notifyLayoutUpdate(nt){var et;const at=((et=nt.resumeFrom)===null||et===void 0?void 0:et.snapshot)||nt.snapshot;if(nt.isLead()&&nt.layout&&at&&nt.hasListeners("didUpdate")){const{layoutBox:mt,measuredBox:$t}=nt.layout,{animationType:Ct}=nt.options,Dt=at.source!==nt.layout.source;Ct==="size"?eachAxis(Vt=>{const er=Dt?at.measuredBox[Vt]:at.layoutBox[Vt],ir=calcLength(er);er.min=mt[Vt].min,er.max=er.min+ir}):shouldAnimatePositionOnly(Ct,at.layoutBox,mt)&&eachAxis(Vt=>{const er=Dt?at.measuredBox[Vt]:at.layoutBox[Vt],ir=calcLength(mt[Vt]);er.max=er.min+ir,nt.relativeTarget&&!nt.currentAnimation&&(nt.isProjectionDirty=!0,nt.relativeTarget[Vt].max=nt.relativeTarget[Vt].min+ir)});const Ft=createDelta();calcBoxDelta(Ft,mt,at.layoutBox);const Nt=createDelta();Dt?calcBoxDelta(Nt,nt.applyTransform($t,!0),at.measuredBox):calcBoxDelta(Nt,mt,at.layoutBox);const jt=!isDeltaZero(Ft);let Lt=!1;if(!nt.resumeFrom){const Vt=nt.getClosestProjectingParent();if(Vt&&!Vt.resumeFrom){const{snapshot:er,layout:ir}=Vt;if(er&&ir){const or=createBox();calcRelativePosition(or,at.layoutBox,er.layoutBox);const lr=createBox();calcRelativePosition(lr,mt,ir.layoutBox),boxEqualsRounded(or,lr)||(Lt=!0),Vt.options.layoutRoot&&(nt.relativeTarget=lr,nt.relativeTargetOrigin=or,nt.relativeParent=Vt)}}}nt.notifyListeners("didUpdate",{layout:mt,snapshot:at,delta:Nt,layoutDelta:Ft,hasLayoutChanged:jt,hasRelativeTargetChanged:Lt})}else if(nt.isLead()){const{onExitComplete:mt}=nt.options;mt&&mt()}nt.options.transition=void 0}function propagateDirtyNodes(nt){isDebug&&metrics.totalNodes++,nt.parent&&(nt.isProjecting()||(nt.isProjectionDirty=nt.parent.isProjectionDirty),nt.isSharedProjectionDirty||(nt.isSharedProjectionDirty=!!(nt.isProjectionDirty||nt.parent.isProjectionDirty||nt.parent.isSharedProjectionDirty)),nt.isTransformDirty||(nt.isTransformDirty=nt.parent.isTransformDirty))}function cleanDirtyNodes(nt){nt.isProjectionDirty=nt.isSharedProjectionDirty=nt.isTransformDirty=!1}function clearSnapshot(nt){nt.clearSnapshot()}function clearMeasurements(nt){nt.clearMeasurements()}function clearIsLayoutDirty(nt){nt.isLayoutDirty=!1}function resetTransformStyle(nt){const{visualElement:et}=nt.options;et&&et.getProps().onBeforeLayoutMeasure&&et.notify("BeforeLayoutMeasure"),nt.resetTransform()}function finishAnimation(nt){nt.finishAnimation(),nt.targetDelta=nt.relativeTarget=nt.target=void 0,nt.isProjectionDirty=!0}function resolveTargetDelta(nt){nt.resolveTargetDelta()}function calcProjection(nt){nt.calcProjection()}function resetSkewAndRotation(nt){nt.resetSkewAndRotation()}function removeLeadSnapshots(nt){nt.removeLeadSnapshot()}function mixAxisDelta(nt,et,at){nt.translate=mixNumber$1(et.translate,0,at),nt.scale=mixNumber$1(et.scale,1,at),nt.origin=et.origin,nt.originPoint=et.originPoint}function mixAxis(nt,et,at,mt){nt.min=mixNumber$1(et.min,at.min,mt),nt.max=mixNumber$1(et.max,at.max,mt)}function mixBox(nt,et,at,mt){mixAxis(nt.x,et.x,at.x,mt),mixAxis(nt.y,et.y,at.y,mt)}function hasOpacityCrossfade(nt){return nt.animationValues&&nt.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=nt=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(nt),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(nt){nt.min=roundPoint(nt.min),nt.max=roundPoint(nt.max)}function roundBox(nt){roundAxis(nt.x),roundAxis(nt.y)}function shouldAnimatePositionOnly(nt,et,at){return nt==="position"||nt==="preserve-aspect"&&!isNear(aspectRatio(et),aspectRatio(at),.2)}function checkNodeWasScrollRoot(nt){var et;return nt!==nt.root&&((et=nt.scroll)===null||et===void 0?void 0:et.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(nt,et)=>addDomEvent(nt,"resize",et),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:nt=>({x:nt.scrollLeft,y:nt.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const nt=new DocumentProjectionNode({});nt.mount(window),nt.setOptions({layoutScroll:!0}),rootProjectionNode.current=nt}return rootProjectionNode.current},resetTransform:(nt,et)=>{nt.style.transform=et!==void 0?et:"none"},checkIsScrollRoot:nt=>window.getComputedStyle(nt).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(nt,et,at){const{props:mt}=nt;nt.animationState&&mt.whileHover&&nt.animationState.setActive("whileHover",at==="Start");const $t="onHover"+at,Ct=mt[$t];Ct&&frame.postRender(()=>Ct(et,extractEventInfo(et)))}class HoverGesture extends Feature{mount(){const{current:et}=this.node;et&&(this.unmount=hover(et,at=>(handleHoverEvent(this.node,at,"Start"),mt=>handleHoverEvent(this.node,mt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let et=!1;try{et=this.node.current.matches(":focus-visible")}catch{et=!0}!et||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(nt,et)=>et?nt===et?!0:isNodeOrChild(nt,et.parentElement):!1;function fireSyntheticPointerEvent(nt,et){if(!et)return;const at=new PointerEvent("pointer"+nt);et(at,extractEventInfo(at))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$2,this.removeEndListeners=noop$2,this.removeAccessibleListeners=noop$2,this.startPointerPress=(et,at)=>{if(this.isPressing)return;this.removeEndListeners();const mt=this.node.getProps(),Ct=addPointerEvent(window,"pointerup",(Ft,Nt)=>{if(!this.checkPressEnd())return;const{onTap:jt,onTapCancel:Lt,globalTapTarget:Vt}=this.node.getProps(),er=!Vt&&!isNodeOrChild(this.node.current,Ft.target)?Lt:jt;er&&frame.update(()=>er(Ft,Nt))},{passive:!(mt.onTap||mt.onPointerUp)}),Dt=addPointerEvent(window,"pointercancel",(Ft,Nt)=>this.cancelPress(Ft,Nt),{passive:!(mt.onTapCancel||mt.onPointerCancel)});this.removeEndListeners=pipe$1(Ct,Dt),this.startPress(et,at)},this.startAccessiblePress=()=>{const et=Ct=>{if(Ct.key!=="Enter"||this.isPressing)return;const Dt=Ft=>{Ft.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(Nt,jt)=>{const{onTap:Lt}=this.node.getProps();Lt&&frame.postRender(()=>Lt(Nt,jt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",Dt),fireSyntheticPointerEvent("down",(Ft,Nt)=>{this.startPress(Ft,Nt)})},at=addDomEvent(this.node.current,"keydown",et),mt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(Ct,Dt)=>this.cancelPress(Ct,Dt))},$t=addDomEvent(this.node.current,"blur",mt);this.removeAccessibleListeners=pipe$1(at,$t)}}startPress(et,at){this.isPressing=!0;const{onTapStart:mt,whileTap:$t}=this.node.getProps();$t&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),mt&&frame.postRender(()=>mt(et,at))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(et,at){if(!this.checkPressEnd())return;const{onTapCancel:mt}=this.node.getProps();mt&&frame.postRender(()=>mt(et,at))}mount(){const et=this.node.getProps(),at=addPointerEvent(et.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(et.onTapStart||et.onPointerStart)}),mt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe$1(at,mt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=nt=>{const et=observerCallbacks.get(nt.target);et&&et(nt)},fireAllObserverCallbacks=nt=>{nt.forEach(fireObserverCallback)};function initIntersectionObserver({root:nt,...et}){const at=nt||document;observers.has(at)||observers.set(at,{});const mt=observers.get(at),$t=JSON.stringify(et);return mt[$t]||(mt[$t]=new IntersectionObserver(fireAllObserverCallbacks,{root:nt,...et})),mt[$t]}function observeIntersection(nt,et,at){const mt=initIntersectionObserver(et);return observerCallbacks.set(nt,at),mt.observe(nt),()=>{observerCallbacks.delete(nt),mt.unobserve(nt)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:et={}}=this.node.getProps(),{root:at,margin:mt,amount:$t="some",once:Ct}=et,Dt={root:at?at.current:void 0,rootMargin:mt,threshold:typeof $t=="number"?$t:thresholdNames[$t]},Ft=Nt=>{const{isIntersecting:jt}=Nt;if(this.isInView===jt||(this.isInView=jt,Ct&&!jt&&this.hasEnteredView))return;jt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",jt);const{onViewportEnter:Lt,onViewportLeave:Vt}=this.node.getProps(),er=jt?Lt:Vt;er&&er(Nt)};return observeIntersection(this.node.current,Dt,Ft)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:et,prevProps:at}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(et,at))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:nt={}},{viewport:et={}}={}){return at=>nt[at]!==et[at]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:nt=>nt,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(nt,et,at,mt,$t){var Ct,Dt;const{visualElement:Ft}=reactExports.useContext(MotionContext),Nt=reactExports.useContext(LazyContext),jt=reactExports.useContext(PresenceContext),Lt=reactExports.useContext(MotionConfigContext).reducedMotion,Vt=reactExports.useRef(null);mt=mt||Nt.renderer,!Vt.current&&mt&&(Vt.current=mt(nt,{visualState:et,parent:Ft,props:at,presenceContext:jt,blockInitialAnimation:jt?jt.initial===!1:!1,reducedMotionConfig:Lt}));const er=Vt.current,ir=reactExports.useContext(SwitchLayoutGroupContext);er&&!er.projection&&$t&&(er.type==="html"||er.type==="svg")&&createProjectionNode(Vt.current,at,$t,ir);const or=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{er&&or.current&&er.update(at,jt)});const lr=at[optimizedAppearDataAttribute],dr=reactExports.useRef(!!lr&&!(!((Ct=window.MotionHandoffIsComplete)===null||Ct===void 0)&&Ct.call(window,lr))&&((Dt=window.MotionHasOptimisedAnimation)===null||Dt===void 0?void 0:Dt.call(window,lr)));return useIsomorphicLayoutEffect(()=>{er&&(or.current=!0,window.MotionIsMounted=!0,er.updateFeatures(),microtask.render(er.render),dr.current&&er.animationState&&er.animationState.animateChanges())}),reactExports.useEffect(()=>{er&&(!dr.current&&er.animationState&&er.animationState.animateChanges(),dr.current&&(queueMicrotask(()=>{var pr;(pr=window.MotionHandoffMarkAsComplete)===null||pr===void 0||pr.call(window,lr)}),dr.current=!1))}),er}function createProjectionNode(nt,et,at,mt){const{layoutId:$t,layout:Ct,drag:Dt,dragConstraints:Ft,layoutScroll:Nt,layoutRoot:jt}=et;nt.projection=new at(nt.latestValues,et["data-framer-portal-id"]?void 0:getClosestProjectingNode(nt.parent)),nt.projection.setOptions({layoutId:$t,layout:Ct,alwaysMeasureLayout:!!Dt||Ft&&isRefObject(Ft),visualElement:nt,animationType:typeof Ct=="string"?Ct:"both",initialPromotionConfig:mt,layoutScroll:Nt,layoutRoot:jt})}function getClosestProjectingNode(nt){if(nt)return nt.options.allowProjection!==!1?nt.projection:getClosestProjectingNode(nt.parent)}function useMotionRef(nt,et,at){return reactExports.useCallback(mt=>{mt&&nt.mount&&nt.mount(mt),et&&(mt?et.mount(mt):et.unmount()),at&&(typeof at=="function"?at(mt):isRefObject(at)&&(at.current=mt))},[et])}function isControllingVariants(nt){return isAnimationControls(nt.animate)||variantProps.some(et=>isVariantLabel(nt[et]))}function isVariantNode(nt){return!!(isControllingVariants(nt)||nt.variants)}function getCurrentTreeVariants(nt,et){if(isControllingVariants(nt)){const{initial:at,animate:mt}=nt;return{initial:at===!1||isVariantLabel(at)?at:void 0,animate:isVariantLabel(mt)?mt:void 0}}return nt.inherit!==!1?et:{}}function useCreateMotionContext(nt){const{initial:et,animate:at}=getCurrentTreeVariants(nt,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:et,animate:at}),[variantLabelsAsDependency(et),variantLabelsAsDependency(at)])}function variantLabelsAsDependency(nt){return Array.isArray(nt)?nt.join(" "):nt}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const nt in featureProps)featureDefinitions[nt]={isEnabled:et=>featureProps[nt].some(at=>!!et[at])};function loadFeatures(nt){for(const et in nt)featureDefinitions[et]={...featureDefinitions[et],...nt[et]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:nt,createVisualElement:et,useRender:at,useVisualState:mt,Component:$t}){nt&&loadFeatures(nt);function Ct(Ft,Nt){let jt;const Lt={...reactExports.useContext(MotionConfigContext),...Ft,layoutId:useLayoutId(Ft)},{isStatic:Vt}=Lt,er=useCreateMotionContext(Ft),ir=mt(Ft,Vt);if(!Vt&&isBrowser){useStrictMode();const or=getProjectionFunctionality(Lt);jt=or.MeasureLayout,er.visualElement=useVisualElement($t,ir,Lt,et,or.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:er,children:[jt&&er.visualElement?jsxRuntimeExports.jsx(jt,{visualElement:er.visualElement,...Lt}):null,at($t,Ft,useMotionRef(ir,er.visualElement,Nt),ir,Vt,er.visualElement)]})}const Dt=reactExports.forwardRef(Ct);return Dt[motionComponentSymbol]=$t,Dt}function useLayoutId({layoutId:nt}){const et=reactExports.useContext(LayoutGroupContext).id;return et&&nt!==void 0?et+"-"+nt:nt}function useStrictMode(nt,et){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(nt){const{drag:et,layout:at}=featureDefinitions;if(!et&&!at)return{};const mt={...et,...at};return{MeasureLayout:et!=null&&et.isEnabled(nt)||at!=null&&at.isEnabled(nt)?mt.MeasureLayout:void 0,ProjectionNode:mt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(nt){return typeof nt!="string"||nt.includes("-")?!1:!!(lowercaseSVGElements.indexOf(nt)>-1||/[A-Z]/u.test(nt))}function renderHTML(nt,{style:et,vars:at},mt,$t){Object.assign(nt.style,et,$t&&$t.getProjectionStyles(mt));for(const Ct in at)nt.style.setProperty(Ct,at[Ct])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(nt,et,at,mt){renderHTML(nt,et,void 0,mt);for(const $t in et.attrs)nt.setAttribute(camelCaseAttributes.has($t)?$t:camelToDash($t),et.attrs[$t])}function isForcedMotionValue(nt,{layout:et,layoutId:at}){return transformProps.has(nt)||nt.startsWith("origin")||(et||at!==void 0)&&(!!scaleCorrectors[nt]||nt==="opacity")}function scrapeMotionValuesFromProps$1(nt,et,at){var mt;const{style:$t}=nt,Ct={};for(const Dt in $t)(isMotionValue($t[Dt])||et.style&&isMotionValue(et.style[Dt])||isForcedMotionValue(Dt,nt)||((mt=at==null?void 0:at.getValue(Dt))===null||mt===void 0?void 0:mt.liveStyle)!==void 0)&&(Ct[Dt]=$t[Dt]);return Ct}function scrapeMotionValuesFromProps(nt,et,at){const mt=scrapeMotionValuesFromProps$1(nt,et,at);for(const $t in nt)if(isMotionValue(nt[$t])||isMotionValue(et[$t])){const Ct=transformPropOrder.indexOf($t)!==-1?"attr"+$t.charAt(0).toUpperCase()+$t.substring(1):$t;mt[Ct]=nt[$t]}return mt}function useConstant(nt){const et=reactExports.useRef(null);return et.current===null&&(et.current=nt()),et.current}function makeState({scrapeMotionValuesFromProps:nt,createRenderState:et,onMount:at},mt,$t,Ct){const Dt={latestValues:makeLatestValues(mt,$t,Ct,nt),renderState:et()};return at&&(Dt.mount=Ft=>at(mt,Ft,Dt)),Dt}const makeUseVisualState=nt=>(et,at)=>{const mt=reactExports.useContext(MotionContext),$t=reactExports.useContext(PresenceContext),Ct=()=>makeState(nt,et,mt,$t);return at?Ct():useConstant(Ct)};function makeLatestValues(nt,et,at,mt){const $t={},Ct=mt(nt,{});for(const er in Ct)$t[er]=resolveMotionValue(Ct[er]);let{initial:Dt,animate:Ft}=nt;const Nt=isControllingVariants(nt),jt=isVariantNode(nt);et&&jt&&!Nt&&nt.inherit!==!1&&(Dt===void 0&&(Dt=et.initial),Ft===void 0&&(Ft=et.animate));let Lt=at?at.initial===!1:!1;Lt=Lt||Dt===!1;const Vt=Lt?Ft:Dt;if(Vt&&typeof Vt!="boolean"&&!isAnimationControls(Vt)){const er=Array.isArray(Vt)?Vt:[Vt];for(let ir=0;ir<er.length;ir++){const or=resolveVariantFromProps(nt,er[ir]);if(or){const{transitionEnd:lr,transition:dr,...pr}=or;for(const hr in pr){let vr=pr[hr];if(Array.isArray(vr)){const br=Lt?vr.length-1:0;vr=vr[br]}vr!==null&&($t[hr]=vr)}for(const hr in lr)$t[hr]=lr[hr]}}}return $t}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(nt,et)=>et&&typeof nt=="number"?et.transform(nt):nt,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(nt,et,at){let mt="",$t=!0;for(let Ct=0;Ct<numTransforms;Ct++){const Dt=transformPropOrder[Ct],Ft=nt[Dt];if(Ft===void 0)continue;let Nt=!0;if(typeof Ft=="number"?Nt=Ft===(Dt.startsWith("scale")?1:0):Nt=parseFloat(Ft)===0,!Nt||at){const jt=getValueAsType(Ft,numberValueTypes[Dt]);if(!Nt){$t=!1;const Lt=translateAlias[Dt]||Dt;mt+=`${Lt}(${jt}) `}at&&(et[Dt]=jt)}}return mt=mt.trim(),at?mt=at(et,$t?"":mt):$t&&(mt="none"),mt}function buildHTMLStyles(nt,et,at){const{style:mt,vars:$t,transformOrigin:Ct}=nt;let Dt=!1,Ft=!1;for(const Nt in et){const jt=et[Nt];if(transformProps.has(Nt)){Dt=!0;continue}else if(isCSSVariableName(Nt)){$t[Nt]=jt;continue}else{const Lt=getValueAsType(jt,numberValueTypes[Nt]);Nt.startsWith("origin")?(Ft=!0,Ct[Nt]=Lt):mt[Nt]=Lt}}if(et.transform||(Dt||at?mt.transform=buildTransform(et,nt.transform,at):mt.transform&&(mt.transform="none")),Ft){const{originX:Nt="50%",originY:jt="50%",originZ:Lt=0}=Ct;mt.transformOrigin=`${Nt} ${jt} ${Lt}`}}function calcOrigin(nt,et,at){return typeof nt=="string"?nt:px.transform(et+at*nt)}function calcSVGTransformOrigin(nt,et,at){const mt=calcOrigin(et,nt.x,nt.width),$t=calcOrigin(at,nt.y,nt.height);return`${mt} ${$t}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(nt,et,at=1,mt=0,$t=!0){nt.pathLength=1;const Ct=$t?dashKeys:camelKeys;nt[Ct.offset]=px.transform(-mt);const Dt=px.transform(et),Ft=px.transform(at);nt[Ct.array]=`${Dt} ${Ft}`}function buildSVGAttrs(nt,{attrX:et,attrY:at,attrScale:mt,originX:$t,originY:Ct,pathLength:Dt,pathSpacing:Ft=1,pathOffset:Nt=0,...jt},Lt,Vt){if(buildHTMLStyles(nt,jt,Vt),Lt){nt.style.viewBox&&(nt.attrs.viewBox=nt.style.viewBox);return}nt.attrs=nt.style,nt.style={};const{attrs:er,style:ir,dimensions:or}=nt;er.transform&&(or&&(ir.transform=er.transform),delete er.transform),or&&($t!==void 0||Ct!==void 0||ir.transform)&&(ir.transformOrigin=calcSVGTransformOrigin(or,$t!==void 0?$t:.5,Ct!==void 0?Ct:.5)),et!==void 0&&(er.x=et),at!==void 0&&(er.y=at),mt!==void 0&&(er.scale=mt),Dt!==void 0&&buildSVGPath(er,Dt,Ft,Nt,!1)}const isSVGTag=nt=>typeof nt=="string"&&nt.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(nt,et,{renderState:at,latestValues:mt})=>{frame.read(()=>{try{at.dimensions=typeof et.getBBox=="function"?et.getBBox():et.getBoundingClientRect()}catch{at.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(at,mt,isSVGTag(et.tagName),nt.transformTemplate),renderSVG(et,at)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(nt,et,at){for(const mt in et)!isMotionValue(et[mt])&&!isForcedMotionValue(mt,at)&&(nt[mt]=et[mt])}function useInitialMotionValues({transformTemplate:nt},et){return reactExports.useMemo(()=>{const at=createHtmlRenderState();return buildHTMLStyles(at,et,nt),Object.assign({},at.vars,at.style)},[et])}function useStyle(nt,et){const at=nt.style||{},mt={};return copyRawValuesOnly(mt,at,nt),Object.assign(mt,useInitialMotionValues(nt,et)),mt}function useHTMLProps(nt,et){const at={},mt=useStyle(nt,et);return nt.drag&&nt.dragListener!==!1&&(at.draggable=!1,mt.userSelect=mt.WebkitUserSelect=mt.WebkitTouchCallout="none",mt.touchAction=nt.drag===!0?"none":`pan-${nt.drag==="x"?"y":"x"}`),nt.tabIndex===void 0&&(nt.onTap||nt.onTapStart||nt.whileTap)&&(at.tabIndex=0),at.style=mt,at}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(nt){return nt.startsWith("while")||nt.startsWith("drag")&&nt!=="draggable"||nt.startsWith("layout")||nt.startsWith("onTap")||nt.startsWith("onPan")||nt.startsWith("onLayout")||validMotionProps.has(nt)}let shouldForward=nt=>!isValidMotionProp(nt);function loadExternalIsValidProp(nt){nt&&(shouldForward=et=>et.startsWith("on")?!isValidMotionProp(et):nt(et))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(nt){}function filterProps(nt,et,at){const mt={};for(const $t in nt)$t==="values"&&typeof nt.values=="object"||(shouldForward($t)||at===!0&&isValidMotionProp($t)||!et&&!isValidMotionProp($t)||nt.draggable&&$t.startsWith("onDrag"))&&(mt[$t]=nt[$t]);return mt}function useSVGProps(nt,et,at,mt){const $t=reactExports.useMemo(()=>{const Ct=createSvgRenderState();return buildSVGAttrs(Ct,et,isSVGTag(mt),nt.transformTemplate),{...Ct.attrs,style:{...Ct.style}}},[et]);if(nt.style){const Ct={};copyRawValuesOnly(Ct,nt.style,nt),$t.style={...Ct,...$t.style}}return $t}function createUseRender(nt=!1){return(at,mt,$t,{latestValues:Ct},Dt)=>{const Nt=(isSVGComponent(at)?useSVGProps:useHTMLProps)(mt,Ct,Dt,at),jt=filterProps(mt,typeof at=="string",nt),Lt=at!==reactExports.Fragment?{...jt,...Nt,ref:$t}:{},{children:Vt}=mt,er=reactExports.useMemo(()=>isMotionValue(Vt)?Vt.get():Vt,[Vt]);return reactExports.createElement(at,{...Lt,children:er})}}function createMotionComponentFactory(nt,et){return function(mt,{forwardMotionProps:$t}={forwardMotionProps:!1}){const Dt={...isSVGComponent(mt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:nt,useRender:createUseRender($t),createVisualElement:et,Component:mt};return createRendererMotionComponent(Dt)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const nt=window.matchMedia("(prefers-reduced-motion)"),et=()=>prefersReducedMotion.current=nt.matches;nt.addListener(et),et()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(nt,et,at){for(const mt in et){const $t=et[mt],Ct=at[mt];if(isMotionValue($t))nt.addValue(mt,$t);else if(isMotionValue(Ct))nt.addValue(mt,motionValue($t,{owner:nt}));else if(Ct!==$t)if(nt.hasValue(mt)){const Dt=nt.getValue(mt);Dt.liveStyle===!0?Dt.jump($t):Dt.hasAnimated||Dt.set($t)}else{const Dt=nt.getStaticValue(mt);nt.addValue(mt,motionValue(Dt!==void 0?Dt:$t,{owner:nt}))}}for(const mt in at)et[mt]===void 0&&nt.removeValue(mt);return et}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=nt=>valueTypes.find(testValueType(nt)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(et,at,mt){return{}}constructor({parent:et,props:at,presenceContext:mt,reducedMotionConfig:$t,blockInitialAnimation:Ct,visualState:Dt},Ft={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const er=time.now();this.renderScheduledAt<er&&(this.renderScheduledAt=er,frame.render(this.render,!1,!0))};const{latestValues:Nt,renderState:jt}=Dt;this.latestValues=Nt,this.baseTarget={...Nt},this.initialValues=at.initial?{...Nt}:{},this.renderState=jt,this.parent=et,this.props=at,this.presenceContext=mt,this.depth=et?et.depth+1:0,this.reducedMotionConfig=$t,this.options=Ft,this.blockInitialAnimation=!!Ct,this.isControllingVariants=isControllingVariants(at),this.isVariantNode=isVariantNode(at),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(et&&et.current);const{willChange:Lt,...Vt}=this.scrapeMotionValuesFromProps(at,{},this);for(const er in Vt){const ir=Vt[er];Nt[er]!==void 0&&isMotionValue(ir)&&ir.set(Nt[er],!1)}}mount(et){this.current=et,visualElementStore.set(et,this),this.projection&&!this.projection.instance&&this.projection.mount(et),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((at,mt)=>this.bindToMotionValue(mt,at)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(et=>et()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const et in this.events)this.events[et].clear();for(const et in this.features){const at=this.features[et];at&&(at.unmount(),at.isMounted=!1)}this.current=null}bindToMotionValue(et,at){this.valueSubscriptions.has(et)&&this.valueSubscriptions.get(et)();const mt=transformProps.has(et),$t=at.on("change",Ft=>{this.latestValues[et]=Ft,this.props.onUpdate&&frame.preRender(this.notifyUpdate),mt&&this.projection&&(this.projection.isTransformDirty=!0)}),Ct=at.on("renderRequest",this.scheduleRender);let Dt;window.MotionCheckAppearSync&&(Dt=window.MotionCheckAppearSync(this,et,at)),this.valueSubscriptions.set(et,()=>{$t(),Ct(),Dt&&Dt(),at.owner&&at.stop()})}sortNodePosition(et){return!this.current||!this.sortInstanceNodePosition||this.type!==et.type?0:this.sortInstanceNodePosition(this.current,et.current)}updateFeatures(){let et="animation";for(et in featureDefinitions){const at=featureDefinitions[et];if(!at)continue;const{isEnabled:mt,Feature:$t}=at;if(!this.features[et]&&$t&&mt(this.props)&&(this.features[et]=new $t(this)),this.features[et]){const Ct=this.features[et];Ct.isMounted?Ct.update():(Ct.mount(),Ct.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(et){return this.latestValues[et]}setStaticValue(et,at){this.latestValues[et]=at}update(et,at){(et.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=et,this.prevPresenceContext=this.presenceContext,this.presenceContext=at;for(let mt=0;mt<propEventHandlers.length;mt++){const $t=propEventHandlers[mt];this.propEventSubscriptions[$t]&&(this.propEventSubscriptions[$t](),delete this.propEventSubscriptions[$t]);const Ct="on"+$t,Dt=et[Ct];Dt&&(this.propEventSubscriptions[$t]=this.on($t,Dt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(et,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(et){return this.props.variants?this.props.variants[et]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(et){const at=this.getClosestVariantNode();if(at)return at.variantChildren&&at.variantChildren.add(et),()=>at.variantChildren.delete(et)}addValue(et,at){const mt=this.values.get(et);at!==mt&&(mt&&this.removeValue(et),this.bindToMotionValue(et,at),this.values.set(et,at),this.latestValues[et]=at.get())}removeValue(et){this.values.delete(et);const at=this.valueSubscriptions.get(et);at&&(at(),this.valueSubscriptions.delete(et)),delete this.latestValues[et],this.removeValueFromRenderState(et,this.renderState)}hasValue(et){return this.values.has(et)}getValue(et,at){if(this.props.values&&this.props.values[et])return this.props.values[et];let mt=this.values.get(et);return mt===void 0&&at!==void 0&&(mt=motionValue(at===null?void 0:at,{owner:this}),this.addValue(et,mt)),mt}readValue(et,at){var mt;let $t=this.latestValues[et]!==void 0||!this.current?this.latestValues[et]:(mt=this.getBaseTargetFromProps(this.props,et))!==null&&mt!==void 0?mt:this.readValueFromInstance(this.current,et,this.options);return $t!=null&&(typeof $t=="string"&&(isNumericalString($t)||isZeroValueString($t))?$t=parseFloat($t):!findValueType($t)&&complex.test(at)&&($t=getAnimatableNone(et,at)),this.setBaseTarget(et,isMotionValue($t)?$t.get():$t)),isMotionValue($t)?$t.get():$t}setBaseTarget(et,at){this.baseTarget[et]=at}getBaseTarget(et){var at;const{initial:mt}=this.props;let $t;if(typeof mt=="string"||typeof mt=="object"){const Dt=resolveVariantFromProps(this.props,mt,(at=this.presenceContext)===null||at===void 0?void 0:at.custom);Dt&&($t=Dt[et])}if(mt&&$t!==void 0)return $t;const Ct=this.getBaseTargetFromProps(this.props,et);return Ct!==void 0&&!isMotionValue(Ct)?Ct:this.initialValues[et]!==void 0&&$t===void 0?void 0:this.baseTarget[et]}on(et,at){return this.events[et]||(this.events[et]=new SubscriptionManager),this.events[et].add(at)}notify(et,...at){this.events[et]&&this.events[et].notify(...at)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(et,at){return et.compareDocumentPosition(at)&2?1:-1}getBaseTargetFromProps(et,at){return et.style?et.style[at]:void 0}removeValueFromRenderState(et,{vars:at,style:mt}){delete at[et],delete mt[et]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:et}=this.props;isMotionValue(et)&&(this.childSubscription=et.on("change",at=>{this.current&&(this.current.textContent=`${at}`)}))}}function getComputedStyle$1(nt){return window.getComputedStyle(nt)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(et,at){if(transformProps.has(at)){const mt=getDefaultValueType(at);return mt&&mt.default||0}else{const mt=getComputedStyle$1(et),$t=(isCSSVariableName(at)?mt.getPropertyValue(at):mt[at])||0;return typeof $t=="string"?$t.trim():$t}}measureInstanceViewportBox(et,{transformPagePoint:at}){return measureViewportBox(et,at)}build(et,at,mt){buildHTMLStyles(et,at,mt.transformTemplate)}scrapeMotionValuesFromProps(et,at,mt){return scrapeMotionValuesFromProps$1(et,at,mt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(et,at){return et[at]}readValueFromInstance(et,at){if(transformProps.has(at)){const mt=getDefaultValueType(at);return mt&&mt.default||0}return at=camelCaseAttributes.has(at)?at:camelToDash(at),et.getAttribute(at)}scrapeMotionValuesFromProps(et,at,mt){return scrapeMotionValuesFromProps(et,at,mt)}build(et,at,mt){buildSVGAttrs(et,at,this.isSVGTag,mt.transformTemplate)}renderInstance(et,at,mt,$t){renderSVG(et,at,mt,$t)}mount(et){this.isSVGTag=isSVGTag(et.tagName),super.mount(et)}}const createDomVisualElement=(nt,et)=>isSVGComponent(nt)?new SVGVisualElement(et):new HTMLVisualElement(et,{allowProjection:nt!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(et){const at=this.props.childRef.current;if(at&&et.isPresent&&!this.props.isPresent){const mt=this.props.sizeRef.current;mt.height=at.offsetHeight||0,mt.width=at.offsetWidth||0,mt.top=at.offsetTop,mt.left=at.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:nt,isPresent:et}){const at=reactExports.useId(),mt=reactExports.useRef(null),$t=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:Ct}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Dt,height:Ft,top:Nt,left:jt}=$t.current;if(et||!mt.current||!Dt||!Ft)return;mt.current.dataset.motionPopId=at;const Lt=document.createElement("style");return Ct&&(Lt.nonce=Ct),document.head.appendChild(Lt),Lt.sheet&&Lt.sheet.insertRule(`
          [data-motion-pop-id="${at}"] {
            position: absolute !important;
            width: ${Dt}px !important;
            height: ${Ft}px !important;
            top: ${Nt}px !important;
            left: ${jt}px !important;
          }
        `),()=>{document.head.removeChild(Lt)}},[et]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:et,childRef:mt,sizeRef:$t,children:reactExports.cloneElement(nt,{ref:mt})})}const PresenceChild=({children:nt,initial:et,isPresent:at,onExitComplete:mt,custom:$t,presenceAffectsLayout:Ct,mode:Dt})=>{const Ft=useConstant(newChildrenMap),Nt=reactExports.useId(),jt=reactExports.useCallback(Vt=>{Ft.set(Vt,!0);for(const er of Ft.values())if(!er)return;mt&&mt()},[Ft,mt]),Lt=reactExports.useMemo(()=>({id:Nt,initial:et,isPresent:at,custom:$t,onExitComplete:jt,register:Vt=>(Ft.set(Vt,!1),()=>Ft.delete(Vt))}),Ct?[Math.random(),jt]:[at,jt]);return reactExports.useMemo(()=>{Ft.forEach((Vt,er)=>Ft.set(er,!1))},[at]),reactExports.useEffect(()=>{!at&&!Ft.size&&mt&&mt()},[at]),Dt==="popLayout"&&(nt=jsxRuntimeExports.jsx(PopChild,{isPresent:at,children:nt})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Lt,children:nt})};function newChildrenMap(){return new Map}const getChildKey=nt=>nt.key||"";function onlyElements(nt){const et=[];return reactExports.Children.forEach(nt,at=>{reactExports.isValidElement(at)&&et.push(at)}),et}const AnimatePresence=({children:nt,exitBeforeEnter:et,custom:at,initial:mt=!0,onExitComplete:$t,presenceAffectsLayout:Ct=!0,mode:Dt="sync"})=>{const Ft=reactExports.useMemo(()=>onlyElements(nt),[nt]),Nt=Ft.map(getChildKey),jt=reactExports.useRef(!0),Lt=reactExports.useRef(Ft),Vt=useConstant(()=>new Map),[er,ir]=reactExports.useState(Ft),[or,lr]=reactExports.useState(Ft);useIsomorphicLayoutEffect(()=>{jt.current=!1,Lt.current=Ft;for(let hr=0;hr<or.length;hr++){const vr=getChildKey(or[hr]);Nt.includes(vr)?Vt.delete(vr):Vt.get(vr)!==!0&&Vt.set(vr,!1)}},[or,Nt.length,Nt.join("-")]);const dr=[];if(Ft!==er){let hr=[...Ft];for(let vr=0;vr<or.length;vr++){const br=or[vr],xr=getChildKey(br);Nt.includes(xr)||(hr.splice(vr,0,br),dr.push(br))}Dt==="wait"&&dr.length&&(hr=dr),lr(onlyElements(hr)),ir(Ft);return}const{forceRender:pr}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:or.map(hr=>{const vr=getChildKey(hr),br=Ft===or||Nt.includes(vr),xr=()=>{if(Vt.has(vr))Vt.set(vr,!0);else return;let Sr=!0;Vt.forEach(Er=>{Er||(Sr=!1)}),Sr&&(pr==null||pr(),lr(Lt.current),$t&&$t())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:br,initial:!jt.current||mt?void 0:!1,custom:br?void 0:at,presenceAffectsLayout:Ct,mode:Dt,onExitComplete:br?void 0:xr,children:hr},vr)})})},findById=(nt,et)=>nt.find(at=>at.id===et);function findToast(nt,et){const at=getToastPosition(nt,et),mt=at?nt[at].findIndex($t=>$t.id===et):-1;return{position:at,index:mt}}function getToastPosition(nt,et){for(const[at,mt]of Object.entries(nt))if(findById(mt,et))return at}function getToastStyle(nt){const et=nt.includes("right"),at=nt.includes("left");let mt="center";return et&&(mt="flex-end"),at&&(mt="flex-start"),{display:"flex",flexDirection:"column",alignItems:mt}}function getToastListStyle(nt){const at=nt==="top"||nt==="bottom"?"0 auto":void 0,mt=nt.includes("top")?"env(safe-area-inset-top, 0px)":void 0,$t=nt.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,Ct=nt.includes("left")?void 0:"env(safe-area-inset-right, 0px)",Dt=nt.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:at,top:mt,bottom:$t,right:Ct,left:Dt}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(nt){return reactPropsRegex.test(nt)||nt.charCodeAt(0)===111&&nt.charCodeAt(1)===110&&nt.charCodeAt(2)<91}),isDevelopment=!1,testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function nt(et){return et!=="theme"},getDefaultShouldForwardProp=function nt(et){return typeof et=="string"&&et.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function nt(et,at,mt){var $t;if(at){var Ct=at.shouldForwardProp;$t=et.__emotion_forwardProp&&Ct?function(Dt){return et.__emotion_forwardProp(Dt)&&Ct(Dt)}:Ct}return typeof $t!="function"&&mt&&($t=et.__emotion_forwardProp),$t},Insertion=function nt(et){var at=et.cache,mt=et.serialized,$t=et.isStringTag;return registerStyles(at,mt,$t),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(at,mt,$t)}),null},createStyled=function nt(et,at){var mt=et.__emotion_real===et,$t=mt&&et.__emotion_base||et,Ct,Dt;at!==void 0&&(Ct=at.label,Dt=at.target);var Ft=composeShouldForwardProps(et,at,mt),Nt=Ft||getDefaultShouldForwardProp($t),jt=!Nt("as");return function(){var Lt=arguments,Vt=mt&&et.__emotion_styles!==void 0?et.__emotion_styles.slice(0):[];if(Ct!==void 0&&Vt.push("label:"+Ct+";"),Lt[0]==null||Lt[0].raw===void 0)Vt.push.apply(Vt,Lt);else{var er=Lt[0];Vt.push(er[0]);for(var ir=Lt.length,or=1;or<ir;or++)Vt.push(Lt[or],er[or])}var lr=withEmotionCache(function(dr,pr,hr){var vr=jt&&dr.as||$t,br="",xr=[],Sr=dr;if(dr.theme==null){Sr={};for(var Er in dr)Sr[Er]=dr[Er];Sr.theme=reactExports.useContext(ThemeContext)}typeof dr.className=="string"?br=getRegisteredStyles(pr.registered,xr,dr.className):dr.className!=null&&(br=dr.className+" ");var $r=serializeStyles(Vt.concat(xr),pr.registered,Sr);br+=pr.key+"-"+$r.name,Dt!==void 0&&(br+=" "+Dt);var Cr=jt&&Ft===void 0?getDefaultShouldForwardProp(vr):Nt,kr={};for(var gr in dr)jt&&gr==="as"||Cr(gr)&&(kr[gr]=dr[gr]);return kr.className=br,hr&&(kr.ref=hr),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:pr,serialized:$r,isStringTag:typeof vr=="string"}),reactExports.createElement(vr,kr))});return lr.displayName=Ct!==void 0?Ct:"Styled("+(typeof $t=="string"?$t:$t.displayName||$t.name||"Component")+")",lr.defaultProps=et.defaultProps,lr.__emotion_real=lr,lr.__emotion_base=$t,lr.__emotion_styles=Vt,lr.__emotion_forwardProp=Ft,Object.defineProperty(lr,"toString",{value:function(){return Dt===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+Dt}}),lr.withComponent=function(dr,pr){var hr=nt(dr,_extends({},at,pr,{shouldForwardProp:composeShouldForwardProps(lr,pr,!0)}));return hr.apply(void 0,Vt)},lr}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind(null);tags.forEach(function(nt){newStyled[nt]=newStyled(nt)});const allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(nt){return(validHTMLProps.has(nt)||!allPropNames.has(nt))&&nt[0]!=="_"}const emotion_styled=interopDefault(newStyled),toCSSObject=({baseStyle:nt})=>et=>{const{theme:at,css:mt,__css:$t,sx:Ct,...Dt}=et,[Ft]=splitProps(Dt,isStyleProp),Nt=runIfFn$1(nt,et),jt=assignAfter({},$t,Nt,compact(Ft),Ct),Lt=css$2(jt)(et.theme);return mt?[Lt,mt]:Lt};function styled(nt,et){const{baseStyle:at,...mt}=et??{};mt.shouldForwardProp||(mt.shouldForwardProp=shouldForwardProp);const $t=toCSSObject({baseStyle:at}),Ct=emotion_styled(nt,mt)($t);return reactExports.forwardRef(function(Nt,jt){const{children:Lt,...Vt}=Nt,{colorMode:er,forced:ir}=useColorMode(),or=ir?er:void 0;return reactExports.createElement(Ct,{ref:jt,"data-theme":or,...Vt},Lt)})}function factory(){const nt=new Map;return new Proxy(styled,{apply(et,at,mt){return styled(...mt)},get(et,at){return nt.has(at)||nt.set(at,styled(at)),nt.get(at)}})}const chakra=factory(),toastMotionVariants={initial:nt=>{const{position:et}=nt,at=["top","bottom"].includes(et)?"y":"x";let mt=["top-right","bottom-right"].includes(et)?1:-1;return et==="bottom"&&(mt=1),{opacity:0,[at]:mt*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(nt=>{const{id:et,message:at,onCloseComplete:mt,onRequestRemove:$t,requestClose:Ct=!1,position:Dt="bottom",duration:Ft=5e3,containerStyle:Nt,motionVariants:jt=toastMotionVariants,toastSpacing:Lt="0.5rem"}=nt,[Vt,er]=reactExports.useState(Ft),ir=useIsPresent();useUpdateEffect(()=>{ir||mt==null||mt()},[ir]),useUpdateEffect(()=>{er(Ft)},[Ft]);const or=()=>er(null),lr=()=>er(Ft),dr=()=>{ir&&$t()};reactExports.useEffect(()=>{ir&&Ct&&$t()},[ir,Ct,$t]),useTimeout(dr,Vt);const pr=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:Lt,...Nt}),[Nt,Lt]),hr=reactExports.useMemo(()=>getToastStyle(Dt),[Dt]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:jt,initial:"initial",animate:"animate",exit:"exit",onHoverStart:or,onHoverEnd:lr,custom:{position:Dt},style:hr,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:pr,children:runIfFn$1(at,{id:et,onClose:dr})})})});ToastComponent.displayName="ToastComponent";function forwardRef(nt){return reactExports.forwardRef(nt)}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(nt,et){if(nt===et)return!0;if(nt&&et&&typeof nt=="object"&&typeof et=="object"){if(nt.constructor!==et.constructor)return!1;var at,mt,$t;if(Array.isArray(nt)){if(at=nt.length,at!=et.length)return!1;for(mt=at;mt--!==0;)if(!equal(nt[mt],et[mt]))return!1;return!0}var Ct;if(hasMap&&nt instanceof Map&&et instanceof Map){if(nt.size!==et.size)return!1;for(Ct=nt.entries();!(mt=Ct.next()).done;)if(!et.has(mt.value[0]))return!1;for(Ct=nt.entries();!(mt=Ct.next()).done;)if(!equal(mt.value[1],et.get(mt.value[0])))return!1;return!0}if(hasSet&&nt instanceof Set&&et instanceof Set){if(nt.size!==et.size)return!1;for(Ct=nt.entries();!(mt=Ct.next()).done;)if(!et.has(mt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(nt)&&ArrayBuffer.isView(et)){if(at=nt.length,at!=et.length)return!1;for(mt=at;mt--!==0;)if(nt[mt]!==et[mt])return!1;return!0}if(nt.constructor===RegExp)return nt.source===et.source&&nt.flags===et.flags;if(nt.valueOf!==Object.prototype.valueOf&&typeof nt.valueOf=="function"&&typeof et.valueOf=="function")return nt.valueOf()===et.valueOf();if(nt.toString!==Object.prototype.toString&&typeof nt.toString=="function"&&typeof et.toString=="function")return nt.toString()===et.toString();if($t=Object.keys(nt),at=$t.length,at!==Object.keys(et).length)return!1;for(mt=at;mt--!==0;)if(!Object.prototype.hasOwnProperty.call(et,$t[mt]))return!1;if(hasElementType&&nt instanceof Element)return!1;for(mt=at;mt--!==0;)if(!(($t[mt]==="_owner"||$t[mt]==="__v"||$t[mt]==="__o")&&nt.$$typeof)&&!equal(nt[$t[mt]],et[$t[mt]]))return!1;return!0}return nt!==nt&&et!==et}var reactFastCompare=function nt(et,at){try{return equal(et,at)}catch(mt){if((mt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw mt}};const isEqual=getDefaultExportFromCjs$2(reactFastCompare);function useTheme(){const nt=reactExports.useContext(ThemeContext);if(!nt)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return nt}function useChakra(){const nt=useColorMode(),et=useTheme();return{...nt,theme:et}}function getTokenValue(nt,et,at){if(et==null)return et;const mt=$t=>{var Ct,Dt;return(Dt=(Ct=nt.__cssMap)==null?void 0:Ct[$t])==null?void 0:Dt.value};return mt(et)??mt(at)??at}function useToken(nt,et,at){const mt=useTheme();return getToken(nt,et,at)(mt)}function getToken(nt,et,at){const mt=Array.isArray(et)?et:[et],$t=Array.isArray(at)?at:[at];return Ct=>{const Dt=$t.filter(Boolean),Ft=mt.map((Nt,jt)=>{const Lt=`${nt}.${Nt}`;return getTokenValue(Ct,Lt,Dt[jt]??Nt)});return Array.isArray(et)?Ft:Ft[0]}}function useStyleConfigImpl(nt,et={}){const{styleConfig:at,...mt}=et,{theme:$t,colorMode:Ct}=useChakra(),Dt=nt?memoizedGet$1($t,`components.${nt}`):void 0,Ft=at||Dt,Nt=mergeWith({theme:$t,colorMode:Ct},(Ft==null?void 0:Ft.defaultProps)??{},compact(omit(mt,["children"])),(Lt,Vt)=>Lt?void 0:Vt),jt=reactExports.useRef({});if(Ft){const Vt=resolveStyleConfig(Ft)(Nt);isEqual(jt.current,Vt)||(jt.current=Vt)}return jt.current}function useStyleConfig(nt,et={}){return useStyleConfigImpl(nt,et)}function useMultiStyleConfig(nt,et={}){return useStyleConfigImpl(nt,et)}const fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon$1=forwardRef((nt,et)=>{const{as:at,viewBox:mt,color:$t="currentColor",focusable:Ct=!1,children:Dt,className:Ft,__css:Nt,...jt}=nt,Lt=cx("chakra-icon",Ft),Vt=useStyleConfig("Icon",nt),er={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:$t,...Nt,...Vt},ir={ref:et,focusable:Ct,className:Lt,__css:er},or=mt??fallbackIcon.viewBox;if(at&&typeof at!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:at,...ir,...jt});const lr=Dt??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:or,...ir,...jt,children:lr})});Icon$1.displayName="Icon";function CheckIcon(nt){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...nt,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(nt){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...nt,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(nt){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...nt,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const spin$1=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner$1=forwardRef((nt,et)=>{const at=useStyleConfig("Spinner",nt),{label:mt="Loading...",thickness:$t="2px",speed:Ct="0.45s",emptyColor:Dt="transparent",className:Ft,...Nt}=omitThemingProps(nt),jt=cx("chakra-spinner",Ft),Lt={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:$t,borderBottomColor:Dt,borderLeftColor:Dt,animation:`${spin$1} ${Ct} linear infinite`,...at};return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:Lt,className:jt,...Nt,children:mt&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:mt})})});Spinner$1.displayName="Spinner";const[AlertProvider,useAlertContext]=createContext({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner$1,colorScheme:"blue"}};function getStatusColorScheme(nt){return STATUSES[nt].colorScheme}function getStatusIcon(nt){return STATUSES[nt].icon}const Alert=forwardRef(function nt(et,at){const{status:mt="info",addRole:$t=!0,...Ct}=omitThemingProps(et),Dt=et.colorScheme??getStatusColorScheme(mt),Ft=useMultiStyleConfig("Alert",{...et,colorScheme:Dt}),Nt={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...Ft.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:mt},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:Ft,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":mt,role:$t?"alert":void 0,ref:at,...Ct,className:cx("chakra-alert",et.className),__css:Nt})})})});Alert.displayName="Alert";function AlertIcon(nt){const{status:et}=useAlertContext(),at=getStatusIcon(et),mt=useAlertStyles(),$t=et==="loading"?mt.spinner:mt.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":et,...nt,className:cx("chakra-alert__icon",nt.className),__css:$t,children:nt.children||jsxRuntimeExports.jsx(at,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";const AlertTitle=forwardRef(function nt(et,at){const mt=useAlertStyles(),{status:$t}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:at,"data-status":$t,...et,className:cx("chakra-alert__title",et.className),__css:mt.title})});AlertTitle.displayName="AlertTitle";const AlertDescription=forwardRef(function nt(et,at){const{status:mt}=useAlertContext(),$t=useAlertStyles(),Ct={display:"inline",...$t.description};return jsxRuntimeExports.jsx(chakra.div,{ref:at,"data-status":mt,...et,className:cx("chakra-alert__desc",et.className),__css:Ct})});AlertDescription.displayName="AlertDescription";function CloseIcon(nt){return jsxRuntimeExports.jsx(Icon$1,{focusable:"false","aria-hidden":!0,...nt,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const CloseButton=forwardRef(function nt(et,at){const mt=useStyleConfig("CloseButton",et),{children:$t,isDisabled:Ct,__css:Dt,...Ft}=omitThemingProps(et),Nt={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:at,disabled:Ct,__css:{...Nt,...mt,...Dt},...Ft,children:$t||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";const Toast$1=nt=>{const{status:et,variant:at="solid",id:mt,title:$t,isClosable:Ct,onClose:Dt,description:Ft,colorScheme:Nt,icon:jt}=nt,Lt=mt?{root:`toast-${mt}`,title:`toast-${mt}-title`,description:`toast-${mt}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:et,variant:at,id:Lt==null?void 0:Lt.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:Nt,children:[jsxRuntimeExports.jsx(AlertIcon,{children:jt}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[$t&&jsxRuntimeExports.jsx(AlertTitle,{id:Lt==null?void 0:Lt.title,children:$t}),Ft&&jsxRuntimeExports.jsx(AlertDescription,{id:Lt==null?void 0:Lt.description,display:"block",children:Ft})]}),Ct&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:Dt,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(nt={}){const{render:et,toastComponent:at=Toast$1}=nt;return $t=>typeof et=="function"?et({...$t,...nt}):jsxRuntimeExports.jsx(at,{...$t,...nt})}const initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(nt){let et=nt;const at=new Set,mt=$t=>{et=$t(et),at.forEach(Ct=>Ct())};return{getState:()=>et,subscribe:$t=>(at.add($t),()=>{mt(()=>nt),at.delete($t)}),removeToast:($t,Ct)=>{mt(Dt=>({...Dt,[Ct]:Dt[Ct].filter(Ft=>Ft.id!=$t)}))},notify:($t,Ct)=>{const Dt=createToast($t,Ct),{position:Ft,id:Nt}=Dt;return mt(jt=>{const Vt=Ft.includes("top")?[Dt,...jt[Ft]??[]]:[...jt[Ft]??[],Dt];return{...jt,[Ft]:Vt}}),Nt},update:($t,Ct)=>{$t&&mt(Dt=>{const Ft={...Dt},{position:Nt,index:jt}=findToast(Ft,$t);return Nt&&jt!==-1&&(Ft[Nt][jt]={...Ft[Nt][jt],...Ct,message:createRenderToast(Ct)}),Ft})},closeAll:({positions:$t}={})=>{mt(Ct=>($t??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((Nt,jt)=>(Nt[jt]=Ct[jt].map(Lt=>({...Lt,requestClose:!0})),Nt),{...Ct}))},close:$t=>{mt(Ct=>{const Dt=getToastPosition(Ct,$t);return Dt?{...Ct,[Dt]:Ct[Dt].map(Ft=>Ft.id==$t?{...Ft,requestClose:!0}:Ft)}:Ct})},isActive:$t=>!!findToast(toastStore.getState(),$t).position}}let counter=0;function createToast(nt,et={}){counter+=1;const at=et.id??counter,mt=et.position??"bottom";return{id:at,message:nt,position:mt,duration:et.duration,onCloseComplete:et.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(at),mt),status:et.status,requestClose:!1,containerStyle:et.containerStyle}}const[PortalContextProvider,usePortalContext]=createContext({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=nt=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:nt.zIndex,top:0,left:0,right:0},children:nt.children}),DefaultPortal=nt=>{const{appendToParentPortal:et,children:at}=nt,[mt,$t]=reactExports.useState(null),Ct=reactExports.useRef(null),[,Dt]=reactExports.useState({});reactExports.useEffect(()=>Dt({}),[]);const Ft=usePortalContext(),Nt=usePortalManager();useSafeLayoutEffect$2(()=>{if(!mt)return;const Lt=mt.ownerDocument,Vt=et?Ft??Lt.body:Lt.body;if(!Vt)return;Ct.current=Lt.createElement("div"),Ct.current.className=PORTAL_CLASSNAME,Vt.appendChild(Ct.current),Dt({});const er=Ct.current;return()=>{Vt.contains(er)&&Vt.removeChild(er)}},[mt]);const jt=Nt!=null&&Nt.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:Nt==null?void 0:Nt.zIndex,children:at}):at;return Ct.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:Ct.current,children:jt}),Ct.current):jsxRuntimeExports.jsx("span",{ref:Lt=>{Lt&&$t(Lt)}})},ContainerPortal=nt=>{const{children:et,containerRef:at,appendToParentPortal:mt}=nt,$t=at.current,Ct=$t??(typeof window<"u"?document.body:void 0),Dt=reactExports.useMemo(()=>{const Nt=$t==null?void 0:$t.ownerDocument.createElement("div");return Nt&&(Nt.className=PORTAL_CLASSNAME),Nt},[$t]),[,Ft]=reactExports.useState({});return useSafeLayoutEffect$2(()=>Ft({}),[]),useSafeLayoutEffect$2(()=>{if(!(!Dt||!Ct))return Ct.appendChild(Dt),()=>{Ct.removeChild(Dt)}},[Dt,Ct]),Ct&&Dt?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:mt?Dt:null,children:et}),Dt):null};function Portal(nt){const et={appendToParentPortal:!0,...nt},{containerRef:at,...mt}=et;return at?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:at,...mt}):jsxRuntimeExports.jsx(DefaultPortal,{...mt})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";const[ToastOptionProvider,useToastOptionContext]=createContext({name:"ToastOptionsContext",strict:!1}),ToastProvider=nt=>{const et=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:at,component:mt=ToastComponent,portalProps:$t,animatePresenceProps:Ct}=nt,Ft=Object.keys(et).map(Nt=>{const jt=et[Nt];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${Nt}`,id:`chakra-toast-manager-${Nt}`,style:getToastListStyle(Nt),children:jsxRuntimeExports.jsx(AnimatePresence,{...Ct,initial:!1,children:jt.map(Lt=>jsxRuntimeExports.jsx(mt,{motionVariants:at,...Lt},Lt.id))})},Nt)});return jsxRuntimeExports.jsx(Portal,{...$t,children:Ft})},createProvider=nt=>function({children:at,theme:mt=nt,toastOptions:$t,...Ct}){return jsxRuntimeExports.jsxs(Provider,{theme:mt,...Ct,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:$t==null?void 0:$t.defaultOptions,children:at}),jsxRuntimeExports.jsx(ToastProvider,{...$t})]})},ChakraProvider=createProvider(theme$1);function sortNodes(nt){return nt.sort((et,at)=>{const mt=et.compareDocumentPosition(at);if(mt&Node.DOCUMENT_POSITION_FOLLOWING||mt&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(mt&Node.DOCUMENT_POSITION_PRECEDING||mt&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(mt&Node.DOCUMENT_POSITION_DISCONNECTED||mt&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const isElement$2=nt=>typeof nt=="object"&&"nodeType"in nt&&nt.nodeType===Node.ELEMENT_NODE;function getNextIndex(nt,et,at){let mt=nt+1;return at&&mt>=et&&(mt=0),mt}function getPrevIndex(nt,et,at){let mt=nt-1;return at&&mt<0&&(mt=et),mt}const useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,cast$1=nt=>nt;var __defProp$6=Object.defineProperty,__defNormalProp$6=(nt,et,at)=>et in nt?__defProp$6(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__publicField$3=(nt,et,at)=>(__defNormalProp$6(nt,typeof et!="symbol"?et+"":et,at),at);class DescendantsManager{constructor(){__publicField$3(this,"descendants",new Map),__publicField$3(this,"register",et=>{if(et!=null)return isElement$2(et)?this.registerNode(et):at=>{this.registerNode(at,et)}}),__publicField$3(this,"unregister",et=>{this.descendants.delete(et);const at=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(at)}),__publicField$3(this,"destroy",()=>{this.descendants.clear()}),__publicField$3(this,"assignIndex",et=>{this.descendants.forEach(at=>{const mt=et.indexOf(at.node);at.index=mt,at.node.dataset.index=at.index.toString()})}),__publicField$3(this,"count",()=>this.descendants.size),__publicField$3(this,"enabledCount",()=>this.enabledValues().length),__publicField$3(this,"values",()=>Array.from(this.descendants.values()).sort((at,mt)=>at.index-mt.index)),__publicField$3(this,"enabledValues",()=>this.values().filter(et=>!et.disabled)),__publicField$3(this,"item",et=>{if(this.count()!==0)return this.values()[et]}),__publicField$3(this,"enabledItem",et=>{if(this.enabledCount()!==0)return this.enabledValues()[et]}),__publicField$3(this,"first",()=>this.item(0)),__publicField$3(this,"firstEnabled",()=>this.enabledItem(0)),__publicField$3(this,"last",()=>this.item(this.descendants.size-1)),__publicField$3(this,"lastEnabled",()=>{const et=this.enabledValues().length-1;return this.enabledItem(et)}),__publicField$3(this,"indexOf",et=>{var at;return et?((at=this.descendants.get(et))==null?void 0:at.index)??-1:-1}),__publicField$3(this,"enabledIndexOf",et=>et==null?-1:this.enabledValues().findIndex(at=>at.node.isSameNode(et))),__publicField$3(this,"next",(et,at=!0)=>{const mt=getNextIndex(et,this.count(),at);return this.item(mt)}),__publicField$3(this,"nextEnabled",(et,at=!0)=>{const mt=this.item(et);if(!mt)return;const $t=this.enabledIndexOf(mt.node),Ct=getNextIndex($t,this.enabledCount(),at);return this.enabledItem(Ct)}),__publicField$3(this,"prev",(et,at=!0)=>{const mt=getPrevIndex(et,this.count()-1,at);return this.item(mt)}),__publicField$3(this,"prevEnabled",(et,at=!0)=>{const mt=this.item(et);if(!mt)return;const $t=this.enabledIndexOf(mt.node),Ct=getPrevIndex($t,this.enabledCount()-1,at);return this.enabledItem(Ct)}),__publicField$3(this,"registerNode",(et,at)=>{if(!et||this.descendants.has(et))return;const mt=Array.from(this.descendants.keys()).concat(et),$t=sortNodes(mt);at!=null&&at.disabled&&(at.disabled=!!at.disabled);const Ct={node:et,index:-1,...at};this.descendants.set(et,Ct),this.assignIndex($t)})}}function createDescendantContext(){const[nt,et]=createContext({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[nt,et,()=>{const $t=reactExports.useRef(new DescendantsManager);return useSafeLayoutEffect(()=>()=>$t.current.destroy()),$t.current},$t=>{const Ct=et(),[Dt,Ft]=reactExports.useState(-1),Nt=reactExports.useRef(null);useSafeLayoutEffect(()=>()=>{Nt.current&&Ct.unregister(Nt.current)},[]),useSafeLayoutEffect(()=>{if(!Nt.current)return;const Lt=Number(Nt.current.dataset.index);Dt!=Lt&&!Number.isNaN(Lt)&&Ft(Lt)});const jt=cast$1($t?Ct.register($t):Ct.register);return{descendants:Ct,index:Dt,enabledIndex:Ct.enabledIndexOf(Nt.current),register:mergeRefs(jt,Nt)}}]}const TRANSITION_EASINGS={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_VARIANTS={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function getSlideTransition(nt){switch((nt==null?void 0:nt.direction)??"right"){case"right":return TRANSITION_VARIANTS.slideRight;case"left":return TRANSITION_VARIANTS.slideLeft;case"bottom":return TRANSITION_VARIANTS.slideDown;case"top":return TRANSITION_VARIANTS.slideUp;default:return TRANSITION_VARIANTS.slideRight}}const TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(nt,et)=>({...nt,delay:typeof et=="number"?et:et==null?void 0:et.enter}),exit:(nt,et)=>({...nt,delay:typeof et=="number"?et:et==null?void 0:et.exit})};function useImage(nt){const{loading:et,src:at,srcSet:mt,onLoad:$t,onError:Ct,crossOrigin:Dt,sizes:Ft,ignoreFallback:Nt}=nt,[jt,Lt]=reactExports.useState("pending");reactExports.useEffect(()=>{Lt(at?"loading":"pending")},[at]);const Vt=reactExports.useRef(),er=reactExports.useCallback(()=>{if(!at)return;ir();const or=new Image;or.src=at,Dt&&(or.crossOrigin=Dt),mt&&(or.srcset=mt),Ft&&(or.sizes=Ft),et&&(or.loading=et),or.onload=lr=>{ir(),Lt("loaded"),$t==null||$t(lr)},or.onerror=lr=>{ir(),Lt("failed"),Ct==null||Ct(lr)},Vt.current=or},[at,Dt,mt,Ft,$t,Ct,et]),ir=()=>{Vt.current&&(Vt.current.onload=null,Vt.current.onerror=null,Vt.current=null)};return useSafeLayoutEffect$2(()=>{if(!Nt)return jt==="loading"&&er(),()=>{ir()}},[jt,er,Nt]),Nt?"loaded":jt}const shouldShowFallbackImage=(nt,et)=>nt!=="loaded"&&et==="beforeLoadOrError"||nt==="failed"&&et==="onError",Box=chakra("div");Box.displayName="Box";const[ButtonGroupProvider,useButtonGroup]=createContext({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(nt){const{children:et,className:at,...mt}=nt,$t=reactExports.isValidElement(et)?reactExports.cloneElement(et,{"aria-hidden":!0,focusable:!1}):et,Ct=cx("chakra-button__icon",at);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...mt,className:Ct,children:$t})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(nt){const{label:et,placement:at,spacing:mt="0.5rem",children:$t=jsxRuntimeExports.jsx(Spinner$1,{color:"currentColor",width:"1em",height:"1em"}),className:Ct,__css:Dt,...Ft}=nt,Nt=cx("chakra-button__spinner",Ct),jt=at==="start"?"marginEnd":"marginStart",Lt=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:et?"relative":"absolute",[jt]:et?mt:0,fontSize:"1em",lineHeight:"normal",...Dt}),[Dt,et,jt,mt]);return jsxRuntimeExports.jsx(chakra.div,{className:Nt,...Ft,__css:Lt,children:$t})}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(nt){const[et,at]=reactExports.useState(!nt);return{ref:reactExports.useCallback(Ct=>{Ct&&at(Ct.tagName==="BUTTON")},[]),type:et?"button":void 0}}const Button=forwardRef((nt,et)=>{const at=useButtonGroup(),mt=useStyleConfig("Button",{...at,...nt}),{isDisabled:$t=at==null?void 0:at.isDisabled,isLoading:Ct,isActive:Dt,children:Ft,leftIcon:Nt,rightIcon:jt,loadingText:Lt,iconSpacing:Vt="0.5rem",type:er,spinner:ir,spinnerPlacement:or="start",className:lr,as:dr,shouldWrapChildren:pr,...hr}=omitThemingProps(nt),vr=reactExports.useMemo(()=>{const Er={...mt==null?void 0:mt._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...mt,...!!at&&{_focus:Er}}},[mt,at]),{ref:br,type:xr}=useButtonType(dr),Sr={rightIcon:jt,leftIcon:Nt,iconSpacing:Vt,children:Ft,shouldWrapChildren:pr};return jsxRuntimeExports.jsxs(chakra.button,{disabled:$t||Ct,ref:useMergeRefs(et,br),as:dr,type:er??xr,"data-active":dataAttr(Dt),"data-loading":dataAttr(Ct),__css:vr,className:cx("chakra-button",lr),...hr,children:[Ct&&or==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:Lt,placement:"start",spacing:Vt,children:ir}),Ct?Lt||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...Sr})}):jsxRuntimeExports.jsx(ButtonContent,{...Sr}),Ct&&or==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:Lt,placement:"end",spacing:Vt,children:ir})]})});Button.displayName="Button";function ButtonContent(nt){const{leftIcon:et,rightIcon:at,children:mt,iconSpacing:$t,shouldWrapChildren:Ct}=nt;return Ct?jsxRuntimeExports.jsxs("span",{style:{display:"contents"},children:[et&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:$t,children:et}),mt,at&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:$t,children:at})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:$t,children:et}),mt,at&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:$t,children:at})]})}const Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";const centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function nt(et,at){const{axis:mt="both",...$t}=et;return jsxRuntimeExports.jsx(chakra.div,{ref:at,__css:centerStyles[mt],...$t,position:"absolute"})});const[FormControlStylesProvider,useFormControlStyles]=createContext({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext({strict:!1,name:"FormControlContext"});function useFormControlProvider(nt){const{id:et,isRequired:at,isInvalid:mt,isDisabled:$t,isReadOnly:Ct,...Dt}=nt,Ft=reactExports.useId(),Nt=et||`field-${Ft}`,jt=`${Nt}-label`,Lt=`${Nt}-feedback`,Vt=`${Nt}-helptext`,[er,ir]=reactExports.useState(!1),[or,lr]=reactExports.useState(!1),[dr,pr]=reactExports.useState(!1),hr=reactExports.useCallback((Er={},$r=null)=>({id:Vt,...Er,ref:mergeRefs($r,Cr=>{Cr&&lr(!0)})}),[Vt]),vr=reactExports.useCallback((Er={},$r=null)=>({...Er,ref:$r,"data-focus":dataAttr(dr),"data-disabled":dataAttr($t),"data-invalid":dataAttr(mt),"data-readonly":dataAttr(Ct),id:Er.id!==void 0?Er.id:jt,htmlFor:Er.htmlFor!==void 0?Er.htmlFor:Nt}),[Nt,$t,dr,mt,Ct,jt]),br=reactExports.useCallback((Er={},$r=null)=>({id:Lt,...Er,ref:mergeRefs($r,Cr=>{Cr&&ir(!0)}),"aria-live":"polite"}),[Lt]),xr=reactExports.useCallback((Er={},$r=null)=>({...Er,...Dt,ref:$r,role:"group","data-focus":dataAttr(dr),"data-disabled":dataAttr($t),"data-invalid":dataAttr(mt),"data-readonly":dataAttr(Ct)}),[Dt,$t,dr,mt,Ct]),Sr=reactExports.useCallback((Er={},$r=null)=>({...Er,ref:$r,role:"presentation","aria-hidden":!0,children:Er.children||"*"}),[]);return{isRequired:!!at,isInvalid:!!mt,isReadOnly:!!Ct,isDisabled:!!$t,isFocused:!!dr,onFocus:()=>pr(!0),onBlur:()=>pr(!1),hasFeedbackText:er,setHasFeedbackText:ir,hasHelpText:or,setHasHelpText:lr,id:Nt,labelId:jt,feedbackId:Lt,helpTextId:Vt,htmlProps:Dt,getHelpTextProps:hr,getErrorMessageProps:br,getRootProps:xr,getLabelProps:vr,getRequiredIndicatorProps:Sr}}const FormControl=forwardRef(function nt(et,at){const mt=useMultiStyleConfig("Form",et),$t=omitThemingProps(et),{getRootProps:Ct,htmlProps:Dt,...Ft}=useFormControlProvider($t),Nt=cx("chakra-form-control",et.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:Ft,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:mt,children:jsxRuntimeExports.jsx(chakra.div,{...Ct({},at),className:Nt,__css:mt.container})})})});FormControl.displayName="FormControl";const FormHelperText=forwardRef(function nt(et,at){const mt=useFormControlContext(),$t=useFormControlStyles(),Ct=cx("chakra-form__helper-text",et.className);return jsxRuntimeExports.jsx(chakra.div,{...mt==null?void 0:mt.getHelpTextProps(et,at),__css:$t.helperText,className:Ct})});FormHelperText.displayName="FormHelperText";function useFormControl(nt){const{isDisabled:et,isInvalid:at,isReadOnly:mt,isRequired:$t,...Ct}=useFormControlProps(nt);return{...Ct,disabled:et,readOnly:mt,required:$t,"aria-invalid":ariaAttr(at),"aria-required":ariaAttr($t),"aria-readonly":ariaAttr(mt)}}function useFormControlProps(nt){const et=useFormControlContext(),{id:at,disabled:mt,readOnly:$t,required:Ct,isRequired:Dt,isInvalid:Ft,isReadOnly:Nt,isDisabled:jt,onFocus:Lt,onBlur:Vt,...er}=nt,ir=nt["aria-describedby"]?[nt["aria-describedby"]]:[];return et!=null&&et.hasFeedbackText&&(et!=null&&et.isInvalid)&&ir.push(et.feedbackId),et!=null&&et.hasHelpText&&ir.push(et.helpTextId),{...er,"aria-describedby":ir.join(" ")||void 0,id:at??(et==null?void 0:et.id),isDisabled:mt??jt??(et==null?void 0:et.isDisabled),isReadOnly:$t??Nt??(et==null?void 0:et.isReadOnly),isRequired:Ct??Dt??(et==null?void 0:et.isRequired),isInvalid:Ft??(et==null?void 0:et.isInvalid),onFocus:callAllHandlers(et==null?void 0:et.onFocus,Lt),onBlur:callAllHandlers(et==null?void 0:et.onBlur,Vt)}}const Divider$1=forwardRef(function nt(et,at){const{borderLeftWidth:mt,borderBottomWidth:$t,borderTopWidth:Ct,borderRightWidth:Dt,borderWidth:Ft,borderStyle:Nt,borderColor:jt,...Lt}=useStyleConfig("Divider",et),{className:Vt,orientation:er="horizontal",__css:ir,...or}=omitThemingProps(et),lr={vertical:{borderLeftWidth:mt||Dt||Ft||"1px",height:"100%"},horizontal:{borderBottomWidth:$t||Ct||Ft||"1px",width:"100%"}};return jsxRuntimeExports.jsx(chakra.hr,{ref:at,"aria-orientation":er,...or,__css:{...Lt,border:"0",borderColor:jt,borderStyle:Nt,...lr[er],...ir},className:cx("chakra-divider",Vt)})});Divider$1.displayName="Divider";function isFunction$2(nt){return typeof nt=="function"}function pipe(...nt){return et=>nt.reduce((at,mt)=>mt(at),et)}const createExtendTheme=nt=>function(...at){let mt=[...at],$t=at[at.length-1];return isChakraTheme($t)&&mt.length>1?mt=mt.slice(0,mt.length-1):$t=nt,pipe(...mt.map(Ct=>Dt=>isFunction$2(Ct)?Ct(Dt):mergeThemeOverride(Dt,Ct)))($t)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...nt){return mergeWith({},...nt,mergeThemeCustomizer)}function mergeThemeCustomizer(nt,et,at,mt){if((isFunction$2(nt)||isFunction$2(et))&&Object.prototype.hasOwnProperty.call(mt,at))return(...$t)=>{const Ct=isFunction$2(nt)?nt(...$t):nt,Dt=isFunction$2(et)?et(...$t):et;return mergeWith({},Ct,Dt,mergeThemeCustomizer)};if(isArray$2(nt)&&isArray$2(et))return[...nt,...et];if(isArray$2(nt)&&isObject$3(et))return et}const Flex=forwardRef(function nt(et,at){const{direction:mt,align:$t,justify:Ct,wrap:Dt,basis:Ft,grow:Nt,shrink:jt,...Lt}=et,Vt={display:"flex",flexDirection:mt,alignItems:$t,justifyContent:Ct,flexWrap:Dt,flexBasis:Ft,flexGrow:Nt,flexShrink:jt};return jsxRuntimeExports.jsx(chakra.div,{ref:at,__css:Vt,...Lt})});Flex.displayName="Flex";function _objectWithoutPropertiesLoose(nt,et){if(nt==null)return{};var at={};for(var mt in nt)if({}.hasOwnProperty.call(nt,mt)){if(et.includes(mt))continue;at[mt]=nt[mt]}return at}var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus",hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},mediumFocus=createMedium({},function(nt){var et=nt.target,at=nt.currentTarget;return{target:et,currentTarget:at}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function nt(et,at){var mt,$t=reactExports.useState(),Ct=$t[0],Dt=$t[1],Ft=reactExports.useRef(),Nt=reactExports.useRef(!1),jt=reactExports.useRef(null),Lt=reactExports.useState({}),Vt=Lt[1],er=et.children,ir=et.disabled,or=ir===void 0?!1:ir,lr=et.noFocusGuards,dr=lr===void 0?!1:lr,pr=et.persistentFocus,hr=pr===void 0?!1:pr,vr=et.crossFrame,br=vr===void 0?!0:vr,xr=et.autoFocus,Sr=xr===void 0?!0:xr;et.allowTextSelection;var Er=et.group,$r=et.className,Cr=et.whiteList,kr=et.hasPositiveIndices,gr=et.shards,Ut=gr===void 0?emptyArray:gr,tr=et.as,nr=tr===void 0?"div":tr,rr=et.lockProps,ar=rr===void 0?{}:rr,cr=et.sideCar,fr=et.returnFocus,sr=fr===void 0?!1:fr,Yt=et.focusOptions,ur=et.onActivation,_r=et.onDeactivation,yr=reactExports.useState({}),wr=yr[0],Ir=reactExports.useCallback(function(Jr){var Zr=Jr.captureFocusRestore;if(!jt.current){var Gr,zr=(Gr=document)==null?void 0:Gr.activeElement;jt.current=zr,zr!==document.body&&(jt.current=Zr(zr))}Ft.current&&ur&&ur(Ft.current),Nt.current=!0,Vt()},[ur]),Or=reactExports.useCallback(function(){Nt.current=!1,_r&&_r(Ft.current),Vt()},[_r]),Ar=reactExports.useCallback(function(Jr){var Zr=jt.current;if(Zr){var Gr=(typeof Zr=="function"?Zr():Zr)||document.body,zr=typeof sr=="function"?sr(Gr):sr;if(zr){var Dn=typeof zr=="object"?zr:void 0;jt.current=null,Jr?Promise.resolve().then(function(){return Gr.focus(Dn)}):Gr.focus(Dn)}}},[sr]),Nr=reactExports.useCallback(function(Jr){Nt.current&&mediumFocus.useMedium(Jr)},[]),Hr=mediumBlur.useMedium,Pr=reactExports.useCallback(function(Jr){Ft.current!==Jr&&(Ft.current=Jr,Dt(Jr))},[]),Dr=_extends((mt={},mt[FOCUS_DISABLED]=or&&"disabled",mt[FOCUS_GROUP]=Er,mt),ar),Rr=dr!==!0,Vr=Rr&&dr!=="tail",an=useMergeRefs$1([at,Pr]),Xr=reactExports.useMemo(function(){return{observed:Ft,shards:Ut,enabled:!or,active:Nt.current}},[or,Nt.current,Ut,Ct]);return reactExports.createElement(reactExports.Fragment,null,Rr&&[reactExports.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:or?-1:0,style:hiddenGuard}),kr?reactExports.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:or?-1:1,style:hiddenGuard}):null],!or&&reactExports.createElement(cr,{id:wr,sideCar:mediumSidecar,observed:Ct,disabled:or,persistentFocus:hr,crossFrame:br,autoFocus:Sr,whiteList:Cr,shards:Ut,onActivation:Ir,onDeactivation:Or,returnFocus:Ar,focusOptions:Yt,noFocusGuards:dr}),reactExports.createElement(nr,_extends({ref:an},Dr,{className:$r,onBlur:Hr,onFocus:Nr}),reactExports.createElement(focusScope.Provider,{value:Xr},er)),Vr&&reactExports.createElement("div",{"data-focus-guard":!0,tabIndex:or?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(nt,et){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,mt){return at.__proto__=mt,at},_setPrototypeOf(nt,et)}function _inheritsLoose(nt,et){nt.prototype=Object.create(et.prototype),nt.prototype.constructor=nt,_setPrototypeOf(nt,et)}function _typeof$1(nt){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$1(nt)}function toPrimitive$1(nt,et){if(_typeof$1(nt)!="object"||!nt)return nt;var at=nt[Symbol.toPrimitive];if(at!==void 0){var mt=at.call(nt,et||"default");if(_typeof$1(mt)!="object")return mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(nt)}function toPropertyKey$1(nt){var et=toPrimitive$1(nt,"string");return _typeof$1(et)=="symbol"?et:et+""}function _defineProperty(nt,et,at){return(et=toPropertyKey$1(et))in nt?Object.defineProperty(nt,et,{value:at,enumerable:!0,configurable:!0,writable:!0}):nt[et]=at,nt}function withSideEffect(nt,et){function at(mt){return mt.displayName||mt.name||"Component"}return function($t){var Ct=[],Dt;function Ft(){Dt=nt(Ct.map(function(jt){return jt.props})),et(Dt)}var Nt=function(jt){_inheritsLoose(Lt,jt);function Lt(){return jt.apply(this,arguments)||this}Lt.peek=function(){return Dt};var Vt=Lt.prototype;return Vt.componentDidMount=function(){Ct.push(this),Ft()},Vt.componentDidUpdate=function(){Ft()},Vt.componentWillUnmount=function(){var ir=Ct.indexOf(this);Ct.splice(ir,1),Ft()},Vt.render=function(){return React.createElement($t,this.props)},Lt}(reactExports.PureComponent);return _defineProperty(Nt,"displayName","SideEffect("+at($t)+")"),Nt}}var toArray$1=function(nt){for(var et=Array(nt.length),at=0;at<nt.length;++at)et[at]=nt[at];return et},asArray=function(nt){return Array.isArray(nt)?nt:[nt]},getFirst=function(nt){return Array.isArray(nt)?nt[0]:nt},isElementHidden=function(nt){if(nt.nodeType!==Node.ELEMENT_NODE)return!1;var et=window.getComputedStyle(nt,null);return!et||!et.getPropertyValue?!1:et.getPropertyValue("display")==="none"||et.getPropertyValue("visibility")==="hidden"},getParentNode$1=function(nt){return nt.parentNode&&nt.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?nt.parentNode.host:nt.parentNode},isTopNode=function(nt){return nt===document||nt&&nt.nodeType===Node.DOCUMENT_NODE},isInert=function(nt){return nt.hasAttribute("inert")},isVisibleUncached=function(nt,et){return!nt||isTopNode(nt)||!isElementHidden(nt)&&!isInert(nt)&&et(getParentNode$1(nt))},isVisibleCached=function(nt,et){var at=nt.get(et);if(at!==void 0)return at;var mt=isVisibleUncached(et,isVisibleCached.bind(void 0,nt));return nt.set(et,mt),mt},isAutoFocusAllowedUncached=function(nt,et){return nt&&!isTopNode(nt)?isAutoFocusAllowed(nt)?et(getParentNode$1(nt)):!1:!0},isAutoFocusAllowedCached=function(nt,et){var at=nt.get(et);if(at!==void 0)return at;var mt=isAutoFocusAllowedUncached(et,isAutoFocusAllowedCached.bind(void 0,nt));return nt.set(et,mt),mt},getDataset=function(nt){return nt.dataset},isHTMLButtonElement=function(nt){return nt.tagName==="BUTTON"},isHTMLInputElement=function(nt){return nt.tagName==="INPUT"},isRadioElement=function(nt){return isHTMLInputElement(nt)&&nt.type==="radio"},notHiddenInput=function(nt){return!((isHTMLInputElement(nt)||isHTMLButtonElement(nt))&&(nt.type==="hidden"||nt.disabled))},isAutoFocusAllowed=function(nt){var et=nt.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(et)},isGuard=function(nt){var et;return!!(nt&&(!((et=getDataset(nt))===null||et===void 0)&&et.focusGuard))},isNotAGuard=function(nt){return!isGuard(nt)},isDefined=function(nt){return!!nt},tabSort=function(nt,et){var at=Math.max(0,nt.tabIndex),mt=Math.max(0,et.tabIndex),$t=at-mt,Ct=nt.index-et.index;if($t){if(!at)return 1;if(!mt)return-1}return $t||Ct},getTabIndex=function(nt){return nt.tabIndex<0&&!nt.hasAttribute("tabindex")?0:nt.tabIndex},orderByTabIndex=function(nt,et,at){return toArray$1(nt).map(function(mt,$t){var Ct=getTabIndex(mt);return{node:mt,index:$t,tabIndex:at&&Ct===-1?(mt.dataset||{}).focusGuard?0:-1:Ct}}).filter(function(mt){return!et||mt.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(nt,et){return toArray$1((nt.shadowRoot||nt).children).reduce(function(at,mt){return at.concat(mt.matches(et?queryGuardTabbables:queryTabbables)?[mt]:[],getFocusablesWithShadowDom(mt))},[])},getFocusablesWithIFrame=function(nt,et){var at;return nt instanceof HTMLIFrameElement&&(!((at=nt.contentDocument)===null||at===void 0)&&at.body)?getFocusables([nt.contentDocument.body],et):[nt]},getFocusables=function(nt,et){return nt.reduce(function(at,mt){var $t,Ct=getFocusablesWithShadowDom(mt,et),Dt=($t=[]).concat.apply($t,Ct.map(function(Ft){return getFocusablesWithIFrame(Ft,et)}));return at.concat(Dt,mt.parentNode?toArray$1(mt.parentNode.querySelectorAll(queryTabbables)).filter(function(Ft){return Ft===mt}):[])},[])},getParentAutofocusables=function(nt){var et=nt.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray$1(et).map(function(at){return getFocusables([at])}).reduce(function(at,mt){return at.concat(mt)},[])},filterFocusable=function(nt,et){return toArray$1(nt).filter(function(at){return isVisibleCached(et,at)}).filter(function(at){return notHiddenInput(at)})},filterAutoFocusable=function(nt,et){return et===void 0&&(et=new Map),toArray$1(nt).filter(function(at){return isAutoFocusAllowedCached(et,at)})},getTabbableNodes=function(nt,et,at){return orderByTabIndex(filterFocusable(getFocusables(nt,at),et),!0,at)},getFocusableNodes=function(nt,et){return orderByTabIndex(filterFocusable(getFocusables(nt),et),!1)},parentAutofocusables=function(nt,et){return filterFocusable(getParentAutofocusables(nt),et)},contains$2=function(nt,et){return nt.shadowRoot?contains$2(nt.shadowRoot,et):Object.getPrototypeOf(nt).contains!==void 0&&Object.getPrototypeOf(nt).contains.call(nt,et)?!0:toArray$1(nt.children).some(function(at){var mt;if(at instanceof HTMLIFrameElement){var $t=(mt=at.contentDocument)===null||mt===void 0?void 0:mt.body;return $t?contains$2($t,et):!1}return contains$2(at,et)})},filterNested=function(nt){for(var et=new Set,at=nt.length,mt=0;mt<at;mt+=1)for(var $t=mt+1;$t<at;$t+=1){var Ct=nt[mt].compareDocumentPosition(nt[$t]);(Ct&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&et.add($t),(Ct&Node.DOCUMENT_POSITION_CONTAINS)>0&&et.add(mt)}return nt.filter(function(Dt,Ft){return!et.has(Ft)})},getTopParent=function(nt){return nt.parentNode?getTopParent(nt.parentNode):nt},getAllAffectedNodes=function(nt){var et=asArray(nt);return et.filter(Boolean).reduce(function(at,mt){var $t=mt.getAttribute(FOCUS_GROUP);return at.push.apply(at,$t?filterNested(toArray$1(getTopParent(mt).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat($t,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[mt]),at},[])},safeProbe=function(nt){try{return nt()}catch{return}},getActiveElement=function(nt){if(nt===void 0&&(nt=document),!(!nt||!nt.activeElement)){var et=nt.activeElement;return et.shadowRoot?getActiveElement(et.shadowRoot):et instanceof HTMLIFrameElement&&safeProbe(function(){return et.contentWindow.document})?getActiveElement(et.contentWindow.document):et}},focusInFrame=function(nt,et){return nt===et},focusInsideIframe=function(nt,et){return!!toArray$1(nt.querySelectorAll("iframe")).some(function(at){return focusInFrame(at,et)})},focusInside=function(nt,et){return et===void 0&&(et=getActiveElement(getFirst(nt).ownerDocument)),!et||et.dataset&&et.dataset.focusGuard?!1:getAllAffectedNodes(nt).some(function(at){return contains$2(at,et)||focusInsideIframe(at,et)})},focusIsHidden=function(nt){nt===void 0&&(nt=document);var et=getActiveElement(nt);return et?toArray$1(nt.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(at){return contains$2(at,et)}):!1},findSelectedRadio=function(nt,et){return et.filter(isRadioElement).filter(function(at){return at.name===nt.name}).filter(function(at){return at.checked})[0]||nt},correctNode=function(nt,et){return isRadioElement(nt)&&nt.name?findSelectedRadio(nt,et):nt},correctNodes=function(nt){var et=new Set;return nt.forEach(function(at){return et.add(correctNode(at,nt))}),nt.filter(function(at){return et.has(at)})},pickFirstFocus=function(nt){return nt[0]&&nt.length>1?correctNode(nt[0],nt):nt[0]},pickFocusable=function(nt,et){return nt.indexOf(correctNode(et,nt))},NEW_FOCUS="NEW_FOCUS",newFocus=function(nt,et,at,mt,$t){var Ct=nt.length,Dt=nt[0],Ft=nt[Ct-1],Nt=isGuard(mt);if(!(mt&&nt.indexOf(mt)>=0)){var jt=mt!==void 0?at.indexOf(mt):-1,Lt=$t?at.indexOf($t):jt,Vt=$t?nt.indexOf($t):-1;if(jt===-1)return Vt!==-1?Vt:NEW_FOCUS;if(Vt===-1)return NEW_FOCUS;var er=jt-Lt,ir=at.indexOf(Dt),or=at.indexOf(Ft),lr=correctNodes(at),dr=mt!==void 0?lr.indexOf(mt):-1,pr=dr-($t?lr.indexOf($t):jt);if(!er&&Vt>=0||et.length===0)return Vt;var hr=pickFocusable(nt,et[0]),vr=pickFocusable(nt,et[et.length-1]);if(jt<=ir&&Nt&&Math.abs(er)>1)return vr;if(jt>=or&&Nt&&Math.abs(er)>1)return hr;if(er&&Math.abs(pr)>1)return Vt;if(jt<=ir)return vr;if(jt>or)return hr;if(er)return Math.abs(er)>1?Vt:(Ct+Vt+er)%Ct}},findAutoFocused=function(nt){return function(et){var at,mt=(at=getDataset(et))===null||at===void 0?void 0:at.autofocus;return et.autofocus||mt!==void 0&&mt!=="false"||nt.indexOf(et)>=0}},pickAutofocus=function(nt,et,at){var mt=nt.map(function(Ct){var Dt=Ct.node;return Dt}),$t=filterAutoFocusable(mt.filter(findAutoFocused(at)));return $t&&$t.length?pickFirstFocus($t):pickFirstFocus(filterAutoFocusable(et))},getParents=function(nt,et){return et===void 0&&(et=[]),et.push(nt),nt.parentNode&&getParents(nt.parentNode.host||nt.parentNode,et),et},getCommonParent=function(nt,et){for(var at=getParents(nt),mt=getParents(et),$t=0;$t<at.length;$t+=1){var Ct=at[$t];if(mt.indexOf(Ct)>=0)return Ct}return!1},getTopCommonParent=function(nt,et,at){var mt=asArray(nt),$t=asArray(et),Ct=mt[0],Dt=!1;return $t.filter(Boolean).forEach(function(Ft){Dt=getCommonParent(Dt||Ft,Ft)||Dt,at.filter(Boolean).forEach(function(Nt){var jt=getCommonParent(Ct,Nt);jt&&(!Dt||contains$2(jt,Dt)?Dt=jt:Dt=getCommonParent(jt,Dt))})}),Dt},allParentAutofocusables=function(nt,et){return nt.reduce(function(at,mt){return at.concat(parentAutofocusables(mt,et))},[])},reorderNodes=function(nt,et){var at=new Map;return et.forEach(function(mt){return at.set(mt.node,mt)}),nt.map(function(mt){return at.get(mt)}).filter(isDefined)},focusSolver=function(nt,et){var at=getActiveElement(asArray(nt).length>0?document:getFirst(nt).ownerDocument),mt=getAllAffectedNodes(nt).filter(isNotAGuard),$t=getTopCommonParent(at||nt,nt,mt),Ct=new Map,Dt=getFocusableNodes(mt,Ct),Ft=Dt.filter(function(or){var lr=or.node;return isNotAGuard(lr)});if(Ft[0]){var Nt=getFocusableNodes([$t],Ct).map(function(or){var lr=or.node;return lr}),jt=reorderNodes(Nt,Ft),Lt=jt.map(function(or){var lr=or.node;return lr}),Vt=jt.filter(function(or){var lr=or.tabIndex;return lr>=0}).map(function(or){var lr=or.node;return lr}),er=newFocus(Lt,Vt,Nt,at,et);if(er===NEW_FOCUS){var ir=pickAutofocus(Dt,Vt,allParentAutofocusables(mt,Ct))||pickAutofocus(Dt,Lt,allParentAutofocusables(mt,Ct));if(ir)return{node:ir};console.warn("focus-lock: cannot find any node to move focus into");return}return er===void 0?er:jt[er]}},expandFocusableNodes=function(nt){var et=getAllAffectedNodes(nt).filter(isNotAGuard),at=getTopCommonParent(nt,nt,et),mt=orderByTabIndex(getFocusables([at],!0),!0,!0),$t=getFocusables(et,!1);return mt.map(function(Ct){var Dt=Ct.node,Ft=Ct.index;return{node:Dt,index:Ft,lockItem:$t.indexOf(Dt)>=0,guard:isGuard(Dt)}})},focusOn=function(nt,et){nt&&("focus"in nt&&nt.focus(et),"contentWindow"in nt&&nt.contentWindow&&nt.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(nt,et,at){at===void 0&&(at={});var mt=focusSolver(nt,et);if(!lockDisabled&&mt){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(mt.node,at.focusOptions),guardCount--}};function weakRef(nt){if(!nt)return null;if(typeof WeakRef>"u")return function(){return nt||null};var et=nt?new WeakRef(nt):null;return function(){return(et==null?void 0:et.deref())||null}}var recordElementLocation=function(nt){if(!nt)return null;for(var et=[],at=nt;at&&at!==document.body;)et.push({current:weakRef(at),parent:weakRef(at.parentElement),left:weakRef(at.previousElementSibling),right:weakRef(at.nextElementSibling)}),at=at.parentElement;return{element:weakRef(nt),stack:et,ownerDocument:nt.ownerDocument}},restoreFocusTo=function(nt){var et,at,mt,$t,Ct;if(nt)for(var Dt=nt.stack,Ft=nt.ownerDocument,Nt=new Map,jt=0,Lt=Dt;jt<Lt.length;jt++){var Vt=Lt[jt],er=(et=Vt.parent)===null||et===void 0?void 0:et.call(Vt);if(er&&Ft.contains(er)){for(var ir=(at=Vt.left)===null||at===void 0?void 0:at.call(Vt),or=Vt.current(),lr=er.contains(or)?or:void 0,dr=(mt=Vt.right)===null||mt===void 0?void 0:mt.call(Vt),pr=getTabbableNodes([er],Nt),hr=(Ct=($t=lr??(ir==null?void 0:ir.nextElementSibling))!==null&&$t!==void 0?$t:dr)!==null&&Ct!==void 0?Ct:ir;hr;){for(var vr=0,br=pr;vr<br.length;vr++){var xr=br[vr];if(hr!=null&&hr.contains(xr.node))return xr.node}hr=hr.nextElementSibling}if(pr.length)return pr[0].node}}},captureFocusRestore=function(nt){var et=recordElementLocation(nt);return function(){return restoreFocusTo(et)}},getRelativeFocusable=function(nt,et,at){if(!nt||!et)return console.error("no element or scope given"),{};var mt=asArray(et);if(mt.every(function(Dt){return!contains$2(Dt,nt)}))return console.error("Active element is not contained in the scope"),{};var $t=at?getTabbableNodes(mt,new Map):getFocusableNodes(mt,new Map),Ct=$t.findIndex(function(Dt){var Ft=Dt.node;return Ft===nt});if(Ct!==-1)return{prev:$t[Ct-1],next:$t[Ct+1],first:$t[0],last:$t[$t.length-1]}},getBoundary=function(nt,et){var at=et?getTabbableNodes(asArray(nt),new Map):getFocusableNodes(asArray(nt),new Map);return{first:at[0],last:at[at.length-1]}},defaultOptions$1=function(nt){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},nt)},moveFocus=function(nt,et,at){et===void 0&&(et={});var mt=defaultOptions$1(et),$t=getRelativeFocusable(nt,mt.scope,mt.onlyTabbable);if($t){var Ct=at($t,mt.cycle);Ct&&focusOn(Ct.node,mt.focusOptions)}},focusNextElement=function(nt,et){et===void 0&&(et={}),moveFocus(nt,et,function(at,mt){var $t=at.next,Ct=at.first;return $t||mt&&Ct})},focusPrevElement=function(nt,et){et===void 0&&(et={}),moveFocus(nt,et,function(at,mt){var $t=at.prev,Ct=at.last;return $t||mt&&Ct})},pickBoundary=function(nt,et,at){var mt,$t=getBoundary(nt,(mt=et.onlyTabbable)!==null&&mt!==void 0?mt:!0),Ct=$t[at];Ct&&focusOn(Ct.node,et.focusOptions)},focusFirstElement=function(nt,et){et===void 0&&(et={}),pickBoundary(nt,et,"first")},focusLastElement=function(nt,et){et===void 0&&(et={}),pickBoundary(nt,et,"last")};function deferAction(nt){setTimeout(nt,1)}var extractRef=function nt(et){return et&&"current"in et?et.current:et},focusOnBody=function nt(){return document&&document.activeElement===document.body},isFreeFocus=function nt(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function nt(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function nt(){return!0},focusWhitelisted=function nt(et){return(lastActiveTrap.whiteList||defaultWhitelist)(et)},recordPortal=function nt(et,at){lastPortaledElement={observerNode:et,portaledElement:at}},focusIsPortaledPair=function nt(et){return lastPortaledElement&&lastPortaledElement.portaledElement===et};function autoGuard(nt,et,at,mt){var $t=null,Ct=nt;do{var Dt=mt[Ct];if(Dt.guard)Dt.node.dataset.focusAutoGuard&&($t=Dt);else if(Dt.lockItem){if(Ct!==nt)return;$t=null}else break}while((Ct+=at)!==et);$t&&($t.node.tabIndex=0)}var focusWasOutside=function nt(et){return et?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function nt(et,at,mt){return at&&(at.host===et&&(!at.activeElement||mt.contains(at.activeElement))||at.parentNode&&nt(et,at.parentNode,mt))},withinHost=function nt(et,at){return at.some(function(mt){return checkInHost(et,mt,mt)})},getNodeFocusables=function nt(et){return getFocusableNodes(et,new Map)},isNotFocusable=function nt(et){return!getNodeFocusables([et.parentNode]).some(function(at){return at.node===et})},activateTrap=function nt(){var et=!1;if(lastActiveTrap){var at=lastActiveTrap,mt=at.observed,$t=at.persistentFocus,Ct=at.autoFocus,Dt=at.shards,Ft=at.crossFrame,Nt=at.focusOptions,jt=at.noFocusGuards,Lt=mt||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){lastActiveFocus=null;var Vt=tryRestoreFocus();Vt&&Vt.focus()}var er=document&&document.activeElement;if(Lt){var ir=[Lt].concat(Dt.map(extractRef).filter(Boolean)),or=function(){if(!focusWasOutside(Ft)||!jt||!lastActiveFocus||windowFocused)return!1;var vr=getNodeFocusables(ir),br=vr.findIndex(function(xr){var Sr=xr.node;return Sr===lastActiveFocus});return br===0||br===vr.length-1};if((!er||focusWhitelisted(er))&&($t||or()||!isFreeFocus()||!lastActiveFocus&&Ct)&&(Lt&&!(focusInside(ir)||er&&withinHost(er,ir)||focusIsPortaledPair(er))&&(document&&!lastActiveFocus&&er&&!Ct?(er.blur&&er.blur(),document.body.focus()):(et=moveFocusInside(ir,lastActiveFocus,{focusOptions:Nt}),lastPortaledElement={})),focusWasOutsideWindow=!1,lastActiveFocus=document&&document.activeElement,tryRestoreFocus=captureFocusRestore(lastActiveFocus)),document&&er!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var lr=document&&document.activeElement,dr=expandFocusableNodes(ir),pr=dr.map(function(hr){var vr=hr.node;return vr}).indexOf(lr);pr>-1&&(dr.filter(function(hr){var vr=hr.guard,br=hr.node;return vr&&br.dataset.focusAutoGuard}).forEach(function(hr){var vr=hr.node;return vr.removeAttribute("tabIndex")}),autoGuard(pr,dr.length,1,dr),autoGuard(pr,-1,-1,dr))}}}return et},onTrap=function nt(et){activateTrap()&&et&&(et.stopPropagation(),et.preventDefault())},onBlur=function nt(){return deferAction(activateTrap)},onFocus=function nt(et){var at=et.target,mt=et.currentTarget;mt.contains(at)||recordPortal(mt,at)},FocusWatcher=function nt(){return null},onWindowFocus=function nt(){windowFocused=!0},onWindowBlur=function nt(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function nt(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function nt(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(nt){return nt.filter(function(et){var at=et.disabled;return!at})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(nt){var et=nt.slice(-1)[0];et&&!lastActiveTrap&&attachHandler();var at=lastActiveTrap,mt=at&&et&&et.id===at.id;lastActiveTrap=et,at&&!mt&&(at.onDeactivation(),nt.filter(function($t){var Ct=$t.id;return Ct===at.id}).length||at.returnFocus(!et)),et?(lastActiveFocus=null,(!mt||at.observed!==et.observed)&&et.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(nt){return nt(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function nt(et,at){return reactExports.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:at},et))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusTrap=FocusLockCombination.default??FocusLockCombination,FocusLock=nt=>{const{initialFocusRef:et,finalFocusRef:at,contentRef:mt,restoreFocus:$t,children:Ct,isDisabled:Dt,autoFocus:Ft,persistentFocus:Nt,lockFocusAcrossFrames:jt}=nt,Lt=reactExports.useCallback(()=>{et!=null&&et.current?et.current.focus():mt!=null&&mt.current&&getAllFocusable(mt.current).length===0&&requestAnimationFrame(()=>{var or;(or=mt.current)==null||or.focus()})},[et,mt]),Vt=reactExports.useCallback(()=>{var ir;(ir=at==null?void 0:at.current)==null||ir.focus()},[at]),er=$t&&!at;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:jt,persistentFocus:Nt,autoFocus:Ft,disabled:Dt,onActivation:Lt,onDeactivation:Vt,returnFocus:er,children:Ct})};FocusLock.displayName="FocusLock";const Grid=forwardRef(function nt(et,at){const{templateAreas:mt,gap:$t,rowGap:Ct,columnGap:Dt,column:Ft,row:Nt,autoFlow:jt,autoRows:Lt,templateRows:Vt,autoColumns:er,templateColumns:ir,...or}=et,lr={display:"grid",gridTemplateAreas:mt,gridGap:$t,gridRowGap:Ct,gridColumnGap:Dt,gridAutoColumns:er,gridColumn:Ft,gridRow:Nt,gridAutoFlow:jt,gridAutoRows:Lt,gridTemplateRows:Vt,gridTemplateColumns:ir};return jsxRuntimeExports.jsx(chakra.div,{ref:at,__css:lr,...or})});Grid.displayName="Grid";function spanFn(nt){return mapResponsive(nt,et=>et==="auto"?"auto":`span ${et}/span ${et}`)}const GridItem=forwardRef(function nt(et,at){const{area:mt,colSpan:$t,colStart:Ct,colEnd:Dt,rowEnd:Ft,rowSpan:Nt,rowStart:jt,...Lt}=et,Vt=compact({gridArea:mt,gridColumn:spanFn($t),gridRow:spanFn(Nt),gridColumnStart:Ct,gridColumnEnd:Dt,gridRowStart:jt,gridRowEnd:Ft});return jsxRuntimeExports.jsx(chakra.div,{ref:at,__css:Vt,...Lt})});GridItem.displayName="GridItem";const NativeImage=forwardRef(function nt(et,at){const{htmlWidth:mt,htmlHeight:$t,alt:Ct,...Dt}=et;return jsxRuntimeExports.jsx("img",{width:mt,height:$t,ref:at,alt:Ct,...Dt})});NativeImage.displayName="NativeImage";const Image$1=forwardRef(function nt(et,at){const{fallbackSrc:mt,fallback:$t,src:Ct,srcSet:Dt,align:Ft,fit:Nt,loading:jt,ignoreFallback:Lt,crossOrigin:Vt,fallbackStrategy:er="beforeLoadOrError",referrerPolicy:ir,...or}=et,lr=mt!==void 0||$t!==void 0,dr=jt!=null||Lt||!lr,pr=useImage({...et,crossOrigin:Vt,ignoreFallback:dr}),hr=shouldShowFallbackImage(pr,er),vr={ref:at,objectFit:Nt,objectPosition:Ft,...dr?or:omit(or,["onError","onLoad"])};return hr?$t||jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,className:"chakra-image__placeholder",src:mt,...vr}):jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,src:Ct,srcSet:Dt,crossOrigin:Vt,loading:jt,referrerPolicy:ir,className:"chakra-image",...vr})});Image$1.displayName="Image";const Input=forwardRef(function nt(et,at){const{htmlSize:mt,...$t}=et,Ct=useMultiStyleConfig("Input",$t),Dt=omitThemingProps($t),Ft=useFormControl(Dt),Nt=cx("chakra-input",et.className);return jsxRuntimeExports.jsx(chakra.input,{size:mt,...Ft,__css:Ct.field,ref:at,className:Nt})});Input.displayName="Input";Input.id="Input";const[InputGroupStylesProvider,useInputGroupStyles]=createContext({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),InputGroup=forwardRef(function nt(et,at){const mt=useMultiStyleConfig("Input",et),{children:$t,className:Ct,...Dt}=omitThemingProps(et),Ft=cx("chakra-input__group",Ct),Nt={},jt=getValidChildren($t),Lt=mt.field;jt.forEach(er=>{mt&&(Lt&&er.type.id==="InputLeftElement"&&(Nt.paddingStart=Lt.height??Lt.h),Lt&&er.type.id==="InputRightElement"&&(Nt.paddingEnd=Lt.height??Lt.h),er.type.id==="InputRightAddon"&&(Nt.borderEndRadius=0),er.type.id==="InputLeftAddon"&&(Nt.borderStartRadius=0))});const Vt=jt.map(er=>{var or,lr;const ir=compact({size:((or=er.props)==null?void 0:or.size)||et.size,variant:((lr=er.props)==null?void 0:lr.variant)||et.variant});return er.type.id!=="Input"?reactExports.cloneElement(er,ir):reactExports.cloneElement(er,Object.assign(ir,Nt,er.props))});return jsxRuntimeExports.jsx(chakra.div,{className:Ft,ref:at,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...mt.group},"data-group":!0,...Dt,children:jsxRuntimeExports.jsx(InputGroupStylesProvider,{value:mt,children:Vt})})});InputGroup.displayName="InputGroup";const placements$1={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},StyledAddon=chakra("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),InputAddon=forwardRef(function nt(et,at){const{placement:mt="left",...$t}=et,Ct=placements$1[mt]??{},Dt=useInputGroupStyles();return jsxRuntimeExports.jsx(StyledAddon,{ref:at,...$t,__css:{...Dt.addon,...Ct}})});InputAddon.displayName="InputAddon";const InputLeftAddon=forwardRef(function nt(et,at){return jsxRuntimeExports.jsx(InputAddon,{ref:at,placement:"left",...et,className:cx("chakra-input__left-addon",et.className)})});InputLeftAddon.displayName="InputLeftAddon";InputLeftAddon.id="InputLeftAddon";const InputRightAddon=forwardRef(function nt(et,at){return jsxRuntimeExports.jsx(InputAddon,{ref:at,placement:"right",...et,className:cx("chakra-input__right-addon",et.className)})});InputRightAddon.displayName="InputRightAddon";InputRightAddon.id="InputRightAddon";const StyledInputElement=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),InputElement=forwardRef(function nt(et,at){const{placement:mt="left",...$t}=et,Ct=useInputGroupStyles(),Dt=Ct.field,Nt={[mt==="left"?"insetStart":"insetEnd"]:"0",width:(Dt==null?void 0:Dt.height)??(Dt==null?void 0:Dt.h),height:(Dt==null?void 0:Dt.height)??(Dt==null?void 0:Dt.h),fontSize:Dt==null?void 0:Dt.fontSize,...Ct.element};return jsxRuntimeExports.jsx(StyledInputElement,{ref:at,__css:Nt,...$t})});InputElement.id="InputElement";InputElement.displayName="InputElement";const InputLeftElement=forwardRef(function nt(et,at){const{className:mt,...$t}=et,Ct=cx("chakra-input__left-element",mt);return jsxRuntimeExports.jsx(InputElement,{ref:at,placement:"left",className:Ct,...$t})});InputLeftElement.id="InputLeftElement";InputLeftElement.displayName="InputLeftElement";const InputRightElement=forwardRef(function nt(et,at){const{className:mt,...$t}=et,Ct=cx("chakra-input__right-element",mt);return jsxRuntimeExports.jsx(InputElement,{ref:at,placement:"right",className:Ct,...$t})});InputRightElement.id="InputRightElement";InputRightElement.displayName="InputRightElement";const Link=forwardRef(function nt(et,at){const mt=useStyleConfig("Link",et),{className:$t,isExternal:Ct,...Dt}=omitThemingProps(et);return jsxRuntimeExports.jsx(chakra.a,{target:Ct?"_blank":void 0,rel:Ct?"noopener":void 0,ref:at,className:cx("chakra-link",$t),...Dt,__css:mt})});Link.displayName="Link";function getNextItemFromSearch(nt,et,at,mt){if(et==null)return mt;if(!mt)return nt.find(Dt=>at(Dt).toLowerCase().startsWith(et.toLowerCase()));const $t=nt.filter(Ct=>at(Ct).toLowerCase().startsWith(et.toLowerCase()));if($t.length>0){let Ct;return $t.includes(mt)?(Ct=$t.indexOf(mt)+1,Ct===$t.length&&(Ct=0),$t[Ct]):(Ct=nt.indexOf($t[0]),nt[Ct])}return mt}function isPrintableCharacter(nt){const{key:et}=nt;return et.length===1||et.length>1&&/[^a-zA-Z0-9]/.test(et)}function useShortcut(nt={}){const{timeout:et=300,preventDefault:at=()=>!0}=nt,[mt,$t]=reactExports.useState([]),Ct=reactExports.useRef(),Dt=()=>{Ct.current&&(clearTimeout(Ct.current),Ct.current=null)},Ft=()=>{Dt(),Ct.current=setTimeout(()=>{$t([]),Ct.current=null},et)};reactExports.useEffect(()=>Dt,[]);function Nt(jt){return Lt=>{if(Lt.key==="Backspace"){const Vt=[...mt];Vt.pop(),$t(Vt);return}if(isPrintableCharacter(Lt)){const Vt=mt.concat(Lt.key);at(Lt)&&(Lt.preventDefault(),Lt.stopPropagation()),$t(Vt),jt(Vt.join("")),Ft()}}}return Nt}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(nt,et){return nt.concat([et+"-"+start,et+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(nt,et){return nt.concat([et,et+"-"+start,et+"-"+end])},[]),beforeRead="beforeRead",read$1="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read$1,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(nt){return nt?(nt.nodeName||"").toLowerCase():null}function getWindow(nt){if(nt==null)return window;if(nt.toString()!=="[object Window]"){var et=nt.ownerDocument;return et&&et.defaultView||window}return nt}function isElement$1(nt){var et=getWindow(nt).Element;return nt instanceof et||nt instanceof Element}function isHTMLElement$1(nt){var et=getWindow(nt).HTMLElement;return nt instanceof et||nt instanceof HTMLElement}function isShadowRoot(nt){if(typeof ShadowRoot>"u")return!1;var et=getWindow(nt).ShadowRoot;return nt instanceof et||nt instanceof ShadowRoot}function applyStyles(nt){var et=nt.state;Object.keys(et.elements).forEach(function(at){var mt=et.styles[at]||{},$t=et.attributes[at]||{},Ct=et.elements[at];!isHTMLElement$1(Ct)||!getNodeName(Ct)||(Object.assign(Ct.style,mt),Object.keys($t).forEach(function(Dt){var Ft=$t[Dt];Ft===!1?Ct.removeAttribute(Dt):Ct.setAttribute(Dt,Ft===!0?"":Ft)}))})}function effect$2(nt){var et=nt.state,at={popper:{position:et.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(et.elements.popper.style,at.popper),et.styles=at,et.elements.arrow&&Object.assign(et.elements.arrow.style,at.arrow),function(){Object.keys(et.elements).forEach(function(mt){var $t=et.elements[mt],Ct=et.attributes[mt]||{},Dt=Object.keys(et.styles.hasOwnProperty(mt)?et.styles[mt]:at[mt]),Ft=Dt.reduce(function(Nt,jt){return Nt[jt]="",Nt},{});!isHTMLElement$1($t)||!getNodeName($t)||(Object.assign($t.style,Ft),Object.keys(Ct).forEach(function(Nt){$t.removeAttribute(Nt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(nt){return nt.split("-")[0]}var max$2=Math.max,min$2=Math.min,round$2=Math.round;function getUAString(){var nt=navigator.userAgentData;return nt!=null&&nt.brands&&Array.isArray(nt.brands)?nt.brands.map(function(et){return et.brand+"/"+et.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(nt,et,at){et===void 0&&(et=!1),at===void 0&&(at=!1);var mt=nt.getBoundingClientRect(),$t=1,Ct=1;et&&isHTMLElement$1(nt)&&($t=nt.offsetWidth>0&&round$2(mt.width)/nt.offsetWidth||1,Ct=nt.offsetHeight>0&&round$2(mt.height)/nt.offsetHeight||1);var Dt=isElement$1(nt)?getWindow(nt):window,Ft=Dt.visualViewport,Nt=!isLayoutViewport()&&at,jt=(mt.left+(Nt&&Ft?Ft.offsetLeft:0))/$t,Lt=(mt.top+(Nt&&Ft?Ft.offsetTop:0))/Ct,Vt=mt.width/$t,er=mt.height/Ct;return{width:Vt,height:er,top:Lt,right:jt+Vt,bottom:Lt+er,left:jt,x:jt,y:Lt}}function getLayoutRect(nt){var et=getBoundingClientRect(nt),at=nt.offsetWidth,mt=nt.offsetHeight;return Math.abs(et.width-at)<=1&&(at=et.width),Math.abs(et.height-mt)<=1&&(mt=et.height),{x:nt.offsetLeft,y:nt.offsetTop,width:at,height:mt}}function contains$1(nt,et){var at=et.getRootNode&&et.getRootNode();if(nt.contains(et))return!0;if(at&&isShadowRoot(at)){var mt=et;do{if(mt&&nt.isSameNode(mt))return!0;mt=mt.parentNode||mt.host}while(mt)}return!1}function getComputedStyle(nt){return getWindow(nt).getComputedStyle(nt)}function isTableElement(nt){return["table","td","th"].indexOf(getNodeName(nt))>=0}function getDocumentElement(nt){return((isElement$1(nt)?nt.ownerDocument:nt.document)||window.document).documentElement}function getParentNode(nt){return getNodeName(nt)==="html"?nt:nt.assignedSlot||nt.parentNode||(isShadowRoot(nt)?nt.host:null)||getDocumentElement(nt)}function getTrueOffsetParent(nt){return!isHTMLElement$1(nt)||getComputedStyle(nt).position==="fixed"?null:nt.offsetParent}function getContainingBlock(nt){var et=/firefox/i.test(getUAString()),at=/Trident/i.test(getUAString());if(at&&isHTMLElement$1(nt)){var mt=getComputedStyle(nt);if(mt.position==="fixed")return null}var $t=getParentNode(nt);for(isShadowRoot($t)&&($t=$t.host);isHTMLElement$1($t)&&["html","body"].indexOf(getNodeName($t))<0;){var Ct=getComputedStyle($t);if(Ct.transform!=="none"||Ct.perspective!=="none"||Ct.contain==="paint"||["transform","perspective"].indexOf(Ct.willChange)!==-1||et&&Ct.willChange==="filter"||et&&Ct.filter&&Ct.filter!=="none")return $t;$t=$t.parentNode}return null}function getOffsetParent(nt){for(var et=getWindow(nt),at=getTrueOffsetParent(nt);at&&isTableElement(at)&&getComputedStyle(at).position==="static";)at=getTrueOffsetParent(at);return at&&(getNodeName(at)==="html"||getNodeName(at)==="body"&&getComputedStyle(at).position==="static")?et:at||getContainingBlock(nt)||et}function getMainAxisFromPlacement(nt){return["top","bottom"].indexOf(nt)>=0?"x":"y"}function within(nt,et,at){return max$2(nt,min$2(et,at))}function withinMaxClamp(nt,et,at){var mt=within(nt,et,at);return mt>at?at:mt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(nt){return Object.assign({},getFreshSideObject(),nt)}function expandToHashMap(nt,et){return et.reduce(function(at,mt){return at[mt]=nt,at},{})}var toPaddingObject=function nt(et,at){return et=typeof et=="function"?et(Object.assign({},at.rects,{placement:at.placement})):et,mergePaddingObject(typeof et!="number"?et:expandToHashMap(et,basePlacements))};function arrow(nt){var et,at=nt.state,mt=nt.name,$t=nt.options,Ct=at.elements.arrow,Dt=at.modifiersData.popperOffsets,Ft=getBasePlacement(at.placement),Nt=getMainAxisFromPlacement(Ft),jt=[left,right].indexOf(Ft)>=0,Lt=jt?"height":"width";if(!(!Ct||!Dt)){var Vt=toPaddingObject($t.padding,at),er=getLayoutRect(Ct),ir=Nt==="y"?top:left,or=Nt==="y"?bottom:right,lr=at.rects.reference[Lt]+at.rects.reference[Nt]-Dt[Nt]-at.rects.popper[Lt],dr=Dt[Nt]-at.rects.reference[Nt],pr=getOffsetParent(Ct),hr=pr?Nt==="y"?pr.clientHeight||0:pr.clientWidth||0:0,vr=lr/2-dr/2,br=Vt[ir],xr=hr-er[Lt]-Vt[or],Sr=hr/2-er[Lt]/2+vr,Er=within(br,Sr,xr),$r=Nt;at.modifiersData[mt]=(et={},et[$r]=Er,et.centerOffset=Er-Sr,et)}}function effect$1(nt){var et=nt.state,at=nt.options,mt=at.element,$t=mt===void 0?"[data-popper-arrow]":mt;$t!=null&&(typeof $t=="string"&&($t=et.elements.popper.querySelector($t),!$t)||contains$1(et.elements.popper,$t)&&(et.elements.arrow=$t))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(nt){return nt.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(nt,et){var at=nt.x,mt=nt.y,$t=et.devicePixelRatio||1;return{x:round$2(at*$t)/$t||0,y:round$2(mt*$t)/$t||0}}function mapToStyles(nt){var et,at=nt.popper,mt=nt.popperRect,$t=nt.placement,Ct=nt.variation,Dt=nt.offsets,Ft=nt.position,Nt=nt.gpuAcceleration,jt=nt.adaptive,Lt=nt.roundOffsets,Vt=nt.isFixed,er=Dt.x,ir=er===void 0?0:er,or=Dt.y,lr=or===void 0?0:or,dr=typeof Lt=="function"?Lt({x:ir,y:lr}):{x:ir,y:lr};ir=dr.x,lr=dr.y;var pr=Dt.hasOwnProperty("x"),hr=Dt.hasOwnProperty("y"),vr=left,br=top,xr=window;if(jt){var Sr=getOffsetParent(at),Er="clientHeight",$r="clientWidth";if(Sr===getWindow(at)&&(Sr=getDocumentElement(at),getComputedStyle(Sr).position!=="static"&&Ft==="absolute"&&(Er="scrollHeight",$r="scrollWidth")),Sr=Sr,$t===top||($t===left||$t===right)&&Ct===end){br=bottom;var Cr=Vt&&Sr===xr&&xr.visualViewport?xr.visualViewport.height:Sr[Er];lr-=Cr-mt.height,lr*=Nt?1:-1}if($t===left||($t===top||$t===bottom)&&Ct===end){vr=right;var kr=Vt&&Sr===xr&&xr.visualViewport?xr.visualViewport.width:Sr[$r];ir-=kr-mt.width,ir*=Nt?1:-1}}var gr=Object.assign({position:Ft},jt&&unsetSides),Ut=Lt===!0?roundOffsetsByDPR({x:ir,y:lr},getWindow(at)):{x:ir,y:lr};if(ir=Ut.x,lr=Ut.y,Nt){var tr;return Object.assign({},gr,(tr={},tr[br]=hr?"0":"",tr[vr]=pr?"0":"",tr.transform=(xr.devicePixelRatio||1)<=1?"translate("+ir+"px, "+lr+"px)":"translate3d("+ir+"px, "+lr+"px, 0)",tr))}return Object.assign({},gr,(et={},et[br]=hr?lr+"px":"",et[vr]=pr?ir+"px":"",et.transform="",et))}function computeStyles(nt){var et=nt.state,at=nt.options,mt=at.gpuAcceleration,$t=mt===void 0?!0:mt,Ct=at.adaptive,Dt=Ct===void 0?!0:Ct,Ft=at.roundOffsets,Nt=Ft===void 0?!0:Ft,jt={placement:getBasePlacement(et.placement),variation:getVariation(et.placement),popper:et.elements.popper,popperRect:et.rects.popper,gpuAcceleration:$t,isFixed:et.options.strategy==="fixed"};et.modifiersData.popperOffsets!=null&&(et.styles.popper=Object.assign({},et.styles.popper,mapToStyles(Object.assign({},jt,{offsets:et.modifiersData.popperOffsets,position:et.options.strategy,adaptive:Dt,roundOffsets:Nt})))),et.modifiersData.arrow!=null&&(et.styles.arrow=Object.assign({},et.styles.arrow,mapToStyles(Object.assign({},jt,{offsets:et.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Nt})))),et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-placement":et.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(nt){var et=nt.state,at=nt.instance,mt=nt.options,$t=mt.scroll,Ct=$t===void 0?!0:$t,Dt=mt.resize,Ft=Dt===void 0?!0:Dt,Nt=getWindow(et.elements.popper),jt=[].concat(et.scrollParents.reference,et.scrollParents.popper);return Ct&&jt.forEach(function(Lt){Lt.addEventListener("scroll",at.update,passive)}),Ft&&Nt.addEventListener("resize",at.update,passive),function(){Ct&&jt.forEach(function(Lt){Lt.removeEventListener("scroll",at.update,passive)}),Ft&&Nt.removeEventListener("resize",at.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function nt(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(nt){return nt.replace(/left|right|bottom|top/g,function(et){return hash$1[et]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(nt){return nt.replace(/start|end/g,function(et){return hash[et]})}function getWindowScroll(nt){var et=getWindow(nt),at=et.pageXOffset,mt=et.pageYOffset;return{scrollLeft:at,scrollTop:mt}}function getWindowScrollBarX(nt){return getBoundingClientRect(getDocumentElement(nt)).left+getWindowScroll(nt).scrollLeft}function getViewportRect(nt,et){var at=getWindow(nt),mt=getDocumentElement(nt),$t=at.visualViewport,Ct=mt.clientWidth,Dt=mt.clientHeight,Ft=0,Nt=0;if($t){Ct=$t.width,Dt=$t.height;var jt=isLayoutViewport();(jt||!jt&&et==="fixed")&&(Ft=$t.offsetLeft,Nt=$t.offsetTop)}return{width:Ct,height:Dt,x:Ft+getWindowScrollBarX(nt),y:Nt}}function getDocumentRect(nt){var et,at=getDocumentElement(nt),mt=getWindowScroll(nt),$t=(et=nt.ownerDocument)==null?void 0:et.body,Ct=max$2(at.scrollWidth,at.clientWidth,$t?$t.scrollWidth:0,$t?$t.clientWidth:0),Dt=max$2(at.scrollHeight,at.clientHeight,$t?$t.scrollHeight:0,$t?$t.clientHeight:0),Ft=-mt.scrollLeft+getWindowScrollBarX(nt),Nt=-mt.scrollTop;return getComputedStyle($t||at).direction==="rtl"&&(Ft+=max$2(at.clientWidth,$t?$t.clientWidth:0)-Ct),{width:Ct,height:Dt,x:Ft,y:Nt}}function isScrollParent(nt){var et=getComputedStyle(nt),at=et.overflow,mt=et.overflowX,$t=et.overflowY;return/auto|scroll|overlay|hidden/.test(at+$t+mt)}function getScrollParent(nt){return["html","body","#document"].indexOf(getNodeName(nt))>=0?nt.ownerDocument.body:isHTMLElement$1(nt)&&isScrollParent(nt)?nt:getScrollParent(getParentNode(nt))}function listScrollParents(nt,et){var at;et===void 0&&(et=[]);var mt=getScrollParent(nt),$t=mt===((at=nt.ownerDocument)==null?void 0:at.body),Ct=getWindow(mt),Dt=$t?[Ct].concat(Ct.visualViewport||[],isScrollParent(mt)?mt:[]):mt,Ft=et.concat(Dt);return $t?Ft:Ft.concat(listScrollParents(getParentNode(Dt)))}function rectToClientRect(nt){return Object.assign({},nt,{left:nt.x,top:nt.y,right:nt.x+nt.width,bottom:nt.y+nt.height})}function getInnerBoundingClientRect(nt,et){var at=getBoundingClientRect(nt,!1,et==="fixed");return at.top=at.top+nt.clientTop,at.left=at.left+nt.clientLeft,at.bottom=at.top+nt.clientHeight,at.right=at.left+nt.clientWidth,at.width=nt.clientWidth,at.height=nt.clientHeight,at.x=at.left,at.y=at.top,at}function getClientRectFromMixedType(nt,et,at){return et===viewport?rectToClientRect(getViewportRect(nt,at)):isElement$1(et)?getInnerBoundingClientRect(et,at):rectToClientRect(getDocumentRect(getDocumentElement(nt)))}function getClippingParents(nt){var et=listScrollParents(getParentNode(nt)),at=["absolute","fixed"].indexOf(getComputedStyle(nt).position)>=0,mt=at&&isHTMLElement$1(nt)?getOffsetParent(nt):nt;return isElement$1(mt)?et.filter(function($t){return isElement$1($t)&&contains$1($t,mt)&&getNodeName($t)!=="body"}):[]}function getClippingRect(nt,et,at,mt){var $t=et==="clippingParents"?getClippingParents(nt):[].concat(et),Ct=[].concat($t,[at]),Dt=Ct[0],Ft=Ct.reduce(function(Nt,jt){var Lt=getClientRectFromMixedType(nt,jt,mt);return Nt.top=max$2(Lt.top,Nt.top),Nt.right=min$2(Lt.right,Nt.right),Nt.bottom=min$2(Lt.bottom,Nt.bottom),Nt.left=max$2(Lt.left,Nt.left),Nt},getClientRectFromMixedType(nt,Dt,mt));return Ft.width=Ft.right-Ft.left,Ft.height=Ft.bottom-Ft.top,Ft.x=Ft.left,Ft.y=Ft.top,Ft}function computeOffsets(nt){var et=nt.reference,at=nt.element,mt=nt.placement,$t=mt?getBasePlacement(mt):null,Ct=mt?getVariation(mt):null,Dt=et.x+et.width/2-at.width/2,Ft=et.y+et.height/2-at.height/2,Nt;switch($t){case top:Nt={x:Dt,y:et.y-at.height};break;case bottom:Nt={x:Dt,y:et.y+et.height};break;case right:Nt={x:et.x+et.width,y:Ft};break;case left:Nt={x:et.x-at.width,y:Ft};break;default:Nt={x:et.x,y:et.y}}var jt=$t?getMainAxisFromPlacement($t):null;if(jt!=null){var Lt=jt==="y"?"height":"width";switch(Ct){case start:Nt[jt]=Nt[jt]-(et[Lt]/2-at[Lt]/2);break;case end:Nt[jt]=Nt[jt]+(et[Lt]/2-at[Lt]/2);break}}return Nt}function detectOverflow(nt,et){et===void 0&&(et={});var at=et,mt=at.placement,$t=mt===void 0?nt.placement:mt,Ct=at.strategy,Dt=Ct===void 0?nt.strategy:Ct,Ft=at.boundary,Nt=Ft===void 0?clippingParents:Ft,jt=at.rootBoundary,Lt=jt===void 0?viewport:jt,Vt=at.elementContext,er=Vt===void 0?popper:Vt,ir=at.altBoundary,or=ir===void 0?!1:ir,lr=at.padding,dr=lr===void 0?0:lr,pr=mergePaddingObject(typeof dr!="number"?dr:expandToHashMap(dr,basePlacements)),hr=er===popper?reference:popper,vr=nt.rects.popper,br=nt.elements[or?hr:er],xr=getClippingRect(isElement$1(br)?br:br.contextElement||getDocumentElement(nt.elements.popper),Nt,Lt,Dt),Sr=getBoundingClientRect(nt.elements.reference),Er=computeOffsets({reference:Sr,element:vr,strategy:"absolute",placement:$t}),$r=rectToClientRect(Object.assign({},vr,Er)),Cr=er===popper?$r:Sr,kr={top:xr.top-Cr.top+pr.top,bottom:Cr.bottom-xr.bottom+pr.bottom,left:xr.left-Cr.left+pr.left,right:Cr.right-xr.right+pr.right},gr=nt.modifiersData.offset;if(er===popper&&gr){var Ut=gr[$t];Object.keys(kr).forEach(function(tr){var nr=[right,bottom].indexOf(tr)>=0?1:-1,rr=[top,bottom].indexOf(tr)>=0?"y":"x";kr[tr]+=Ut[rr]*nr})}return kr}function computeAutoPlacement(nt,et){et===void 0&&(et={});var at=et,mt=at.placement,$t=at.boundary,Ct=at.rootBoundary,Dt=at.padding,Ft=at.flipVariations,Nt=at.allowedAutoPlacements,jt=Nt===void 0?placements:Nt,Lt=getVariation(mt),Vt=Lt?Ft?variationPlacements:variationPlacements.filter(function(or){return getVariation(or)===Lt}):basePlacements,er=Vt.filter(function(or){return jt.indexOf(or)>=0});er.length===0&&(er=Vt);var ir=er.reduce(function(or,lr){return or[lr]=detectOverflow(nt,{placement:lr,boundary:$t,rootBoundary:Ct,padding:Dt})[getBasePlacement(lr)],or},{});return Object.keys(ir).sort(function(or,lr){return ir[or]-ir[lr]})}function getExpandedFallbackPlacements(nt){if(getBasePlacement(nt)===auto)return[];var et=getOppositePlacement(nt);return[getOppositeVariationPlacement(nt),et,getOppositeVariationPlacement(et)]}function flip(nt){var et=nt.state,at=nt.options,mt=nt.name;if(!et.modifiersData[mt]._skip){for(var $t=at.mainAxis,Ct=$t===void 0?!0:$t,Dt=at.altAxis,Ft=Dt===void 0?!0:Dt,Nt=at.fallbackPlacements,jt=at.padding,Lt=at.boundary,Vt=at.rootBoundary,er=at.altBoundary,ir=at.flipVariations,or=ir===void 0?!0:ir,lr=at.allowedAutoPlacements,dr=et.options.placement,pr=getBasePlacement(dr),hr=pr===dr,vr=Nt||(hr||!or?[getOppositePlacement(dr)]:getExpandedFallbackPlacements(dr)),br=[dr].concat(vr).reduce(function(wr,Ir){return wr.concat(getBasePlacement(Ir)===auto?computeAutoPlacement(et,{placement:Ir,boundary:Lt,rootBoundary:Vt,padding:jt,flipVariations:or,allowedAutoPlacements:lr}):Ir)},[]),xr=et.rects.reference,Sr=et.rects.popper,Er=new Map,$r=!0,Cr=br[0],kr=0;kr<br.length;kr++){var gr=br[kr],Ut=getBasePlacement(gr),tr=getVariation(gr)===start,nr=[top,bottom].indexOf(Ut)>=0,rr=nr?"width":"height",ar=detectOverflow(et,{placement:gr,boundary:Lt,rootBoundary:Vt,altBoundary:er,padding:jt}),cr=nr?tr?right:left:tr?bottom:top;xr[rr]>Sr[rr]&&(cr=getOppositePlacement(cr));var fr=getOppositePlacement(cr),sr=[];if(Ct&&sr.push(ar[Ut]<=0),Ft&&sr.push(ar[cr]<=0,ar[fr]<=0),sr.every(function(wr){return wr})){Cr=gr,$r=!1;break}Er.set(gr,sr)}if($r)for(var Yt=or?3:1,ur=function(Ir){var Or=br.find(function(Ar){var Nr=Er.get(Ar);if(Nr)return Nr.slice(0,Ir).every(function(Hr){return Hr})});if(Or)return Cr=Or,"break"},_r=Yt;_r>0;_r--){var yr=ur(_r);if(yr==="break")break}et.placement!==Cr&&(et.modifiersData[mt]._skip=!0,et.placement=Cr,et.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(nt,et,at){return at===void 0&&(at={x:0,y:0}),{top:nt.top-et.height-at.y,right:nt.right-et.width+at.x,bottom:nt.bottom-et.height+at.y,left:nt.left-et.width-at.x}}function isAnySideFullyClipped(nt){return[top,right,bottom,left].some(function(et){return nt[et]>=0})}function hide(nt){var et=nt.state,at=nt.name,mt=et.rects.reference,$t=et.rects.popper,Ct=et.modifiersData.preventOverflow,Dt=detectOverflow(et,{elementContext:"reference"}),Ft=detectOverflow(et,{altBoundary:!0}),Nt=getSideOffsets(Dt,mt),jt=getSideOffsets(Ft,$t,Ct),Lt=isAnySideFullyClipped(Nt),Vt=isAnySideFullyClipped(jt);et.modifiersData[at]={referenceClippingOffsets:Nt,popperEscapeOffsets:jt,isReferenceHidden:Lt,hasPopperEscaped:Vt},et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-reference-hidden":Lt,"data-popper-escaped":Vt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(nt,et,at){var mt=getBasePlacement(nt),$t=[left,top].indexOf(mt)>=0?-1:1,Ct=typeof at=="function"?at(Object.assign({},et,{placement:nt})):at,Dt=Ct[0],Ft=Ct[1];return Dt=Dt||0,Ft=(Ft||0)*$t,[left,right].indexOf(mt)>=0?{x:Ft,y:Dt}:{x:Dt,y:Ft}}function offset(nt){var et=nt.state,at=nt.options,mt=nt.name,$t=at.offset,Ct=$t===void 0?[0,0]:$t,Dt=placements.reduce(function(Lt,Vt){return Lt[Vt]=distanceAndSkiddingToXY(Vt,et.rects,Ct),Lt},{}),Ft=Dt[et.placement],Nt=Ft.x,jt=Ft.y;et.modifiersData.popperOffsets!=null&&(et.modifiersData.popperOffsets.x+=Nt,et.modifiersData.popperOffsets.y+=jt),et.modifiersData[mt]=Dt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(nt){var et=nt.state,at=nt.name;et.modifiersData[at]=computeOffsets({reference:et.rects.reference,element:et.rects.popper,strategy:"absolute",placement:et.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(nt){return nt==="x"?"y":"x"}function preventOverflow(nt){var et=nt.state,at=nt.options,mt=nt.name,$t=at.mainAxis,Ct=$t===void 0?!0:$t,Dt=at.altAxis,Ft=Dt===void 0?!1:Dt,Nt=at.boundary,jt=at.rootBoundary,Lt=at.altBoundary,Vt=at.padding,er=at.tether,ir=er===void 0?!0:er,or=at.tetherOffset,lr=or===void 0?0:or,dr=detectOverflow(et,{boundary:Nt,rootBoundary:jt,padding:Vt,altBoundary:Lt}),pr=getBasePlacement(et.placement),hr=getVariation(et.placement),vr=!hr,br=getMainAxisFromPlacement(pr),xr=getAltAxis(br),Sr=et.modifiersData.popperOffsets,Er=et.rects.reference,$r=et.rects.popper,Cr=typeof lr=="function"?lr(Object.assign({},et.rects,{placement:et.placement})):lr,kr=typeof Cr=="number"?{mainAxis:Cr,altAxis:Cr}:Object.assign({mainAxis:0,altAxis:0},Cr),gr=et.modifiersData.offset?et.modifiersData.offset[et.placement]:null,Ut={x:0,y:0};if(Sr){if(Ct){var tr,nr=br==="y"?top:left,rr=br==="y"?bottom:right,ar=br==="y"?"height":"width",cr=Sr[br],fr=cr+dr[nr],sr=cr-dr[rr],Yt=ir?-$r[ar]/2:0,ur=hr===start?Er[ar]:$r[ar],_r=hr===start?-$r[ar]:-Er[ar],yr=et.elements.arrow,wr=ir&&yr?getLayoutRect(yr):{width:0,height:0},Ir=et.modifiersData["arrow#persistent"]?et.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Or=Ir[nr],Ar=Ir[rr],Nr=within(0,Er[ar],wr[ar]),Hr=vr?Er[ar]/2-Yt-Nr-Or-kr.mainAxis:ur-Nr-Or-kr.mainAxis,Pr=vr?-Er[ar]/2+Yt+Nr+Ar+kr.mainAxis:_r+Nr+Ar+kr.mainAxis,Dr=et.elements.arrow&&getOffsetParent(et.elements.arrow),Rr=Dr?br==="y"?Dr.clientTop||0:Dr.clientLeft||0:0,Vr=(tr=gr==null?void 0:gr[br])!=null?tr:0,an=cr+Hr-Vr-Rr,Xr=cr+Pr-Vr,Jr=within(ir?min$2(fr,an):fr,cr,ir?max$2(sr,Xr):sr);Sr[br]=Jr,Ut[br]=Jr-cr}if(Ft){var Zr,Gr=br==="x"?top:left,zr=br==="x"?bottom:right,Dn=Sr[xr],Qr=xr==="y"?"height":"width",Un=Dn+dr[Gr],ro=Dn-dr[zr],Hn=[top,left].indexOf(pr)!==-1,Qn=(Zr=gr==null?void 0:gr[xr])!=null?Zr:0,$o=Hn?Un:Dn-Er[Qr]-$r[Qr]-Qn+kr.altAxis,Kn=Hn?Dn+Er[Qr]+$r[Qr]-Qn-kr.altAxis:ro,_i=ir&&Hn?withinMaxClamp($o,Dn,Kn):within(ir?$o:Un,Dn,ir?Kn:ro);Sr[xr]=_i,Ut[xr]=_i-Dn}et.modifiersData[mt]=Ut}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(nt){return{scrollLeft:nt.scrollLeft,scrollTop:nt.scrollTop}}function getNodeScroll(nt){return nt===getWindow(nt)||!isHTMLElement$1(nt)?getWindowScroll(nt):getHTMLElementScroll(nt)}function isElementScaled(nt){var et=nt.getBoundingClientRect(),at=round$2(et.width)/nt.offsetWidth||1,mt=round$2(et.height)/nt.offsetHeight||1;return at!==1||mt!==1}function getCompositeRect(nt,et,at){at===void 0&&(at=!1);var mt=isHTMLElement$1(et),$t=isHTMLElement$1(et)&&isElementScaled(et),Ct=getDocumentElement(et),Dt=getBoundingClientRect(nt,$t,at),Ft={scrollLeft:0,scrollTop:0},Nt={x:0,y:0};return(mt||!mt&&!at)&&((getNodeName(et)!=="body"||isScrollParent(Ct))&&(Ft=getNodeScroll(et)),isHTMLElement$1(et)?(Nt=getBoundingClientRect(et,!0),Nt.x+=et.clientLeft,Nt.y+=et.clientTop):Ct&&(Nt.x=getWindowScrollBarX(Ct))),{x:Dt.left+Ft.scrollLeft-Nt.x,y:Dt.top+Ft.scrollTop-Nt.y,width:Dt.width,height:Dt.height}}function order(nt){var et=new Map,at=new Set,mt=[];nt.forEach(function(Ct){et.set(Ct.name,Ct)});function $t(Ct){at.add(Ct.name);var Dt=[].concat(Ct.requires||[],Ct.requiresIfExists||[]);Dt.forEach(function(Ft){if(!at.has(Ft)){var Nt=et.get(Ft);Nt&&$t(Nt)}}),mt.push(Ct)}return nt.forEach(function(Ct){at.has(Ct.name)||$t(Ct)}),mt}function orderModifiers(nt){var et=order(nt);return modifierPhases.reduce(function(at,mt){return at.concat(et.filter(function($t){return $t.phase===mt}))},[])}function debounce(nt){var et;return function(){return et||(et=new Promise(function(at){Promise.resolve().then(function(){et=void 0,at(nt())})})),et}}function mergeByName(nt){var et=nt.reduce(function(at,mt){var $t=at[mt.name];return at[mt.name]=$t?Object.assign({},$t,mt,{options:Object.assign({},$t.options,mt.options),data:Object.assign({},$t.data,mt.data)}):mt,at},{});return Object.keys(et).map(function(at){return et[at]})}var DEFAULT_OPTIONS$1={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var nt=arguments.length,et=new Array(nt),at=0;at<nt;at++)et[at]=arguments[at];return!et.some(function(mt){return!(mt&&typeof mt.getBoundingClientRect=="function")})}function popperGenerator(nt){nt===void 0&&(nt={});var et=nt,at=et.defaultModifiers,mt=at===void 0?[]:at,$t=et.defaultOptions,Ct=$t===void 0?DEFAULT_OPTIONS$1:$t;return function(Ft,Nt,jt){jt===void 0&&(jt=Ct);var Lt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$1,Ct),modifiersData:{},elements:{reference:Ft,popper:Nt},attributes:{},styles:{}},Vt=[],er=!1,ir={state:Lt,setOptions:function(pr){var hr=typeof pr=="function"?pr(Lt.options):pr;lr(),Lt.options=Object.assign({},Ct,Lt.options,hr),Lt.scrollParents={reference:isElement$1(Ft)?listScrollParents(Ft):Ft.contextElement?listScrollParents(Ft.contextElement):[],popper:listScrollParents(Nt)};var vr=orderModifiers(mergeByName([].concat(mt,Lt.options.modifiers)));return Lt.orderedModifiers=vr.filter(function(br){return br.enabled}),or(),ir.update()},forceUpdate:function(){if(!er){var pr=Lt.elements,hr=pr.reference,vr=pr.popper;if(areValidElements(hr,vr)){Lt.rects={reference:getCompositeRect(hr,getOffsetParent(vr),Lt.options.strategy==="fixed"),popper:getLayoutRect(vr)},Lt.reset=!1,Lt.placement=Lt.options.placement,Lt.orderedModifiers.forEach(function(kr){return Lt.modifiersData[kr.name]=Object.assign({},kr.data)});for(var br=0;br<Lt.orderedModifiers.length;br++){if(Lt.reset===!0){Lt.reset=!1,br=-1;continue}var xr=Lt.orderedModifiers[br],Sr=xr.fn,Er=xr.options,$r=Er===void 0?{}:Er,Cr=xr.name;typeof Sr=="function"&&(Lt=Sr({state:Lt,options:$r,name:Cr,instance:ir})||Lt)}}}},update:debounce(function(){return new Promise(function(dr){ir.forceUpdate(),dr(Lt)})}),destroy:function(){lr(),er=!0}};if(!areValidElements(Ft,Nt))return ir;ir.setOptions(jt).then(function(dr){!er&&jt.onFirstUpdate&&jt.onFirstUpdate(dr)});function or(){Lt.orderedModifiers.forEach(function(dr){var pr=dr.name,hr=dr.options,vr=hr===void 0?{}:hr,br=dr.effect;if(typeof br=="function"){var xr=br({state:Lt,name:pr,instance:ir,options:vr}),Sr=function(){};Vt.push(xr||Sr)}})}function lr(){Vt.forEach(function(dr){return dr()}),Vt=[]}return ir}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const toVar=(nt,et)=>({var:nt,varRef:et?`var(${nt}, ${et})`:`var(${nt})`}),cssVars={arrowShadowColor:toVar("--popper-arrow-shadow-color"),arrowSize:toVar("--popper-arrow-size","8px"),arrowSizeHalf:toVar("--popper-arrow-size-half"),arrowBg:toVar("--popper-arrow-bg"),transformOrigin:toVar("--popper-transform-origin"),arrowOffset:toVar("--popper-arrow-offset")};function getBoxShadow(nt){if(nt.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(nt.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(nt.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(nt.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const transforms={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},toTransformOrigin=nt=>transforms[nt],defaultEventListeners={scroll:!0,resize:!0};function getEventListenerOptions(nt){let et;return typeof nt=="object"?et={enabled:!0,options:{...defaultEventListeners,...nt}}:et={enabled:nt,options:defaultEventListeners},et}const matchWidth={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:nt})=>{nt.styles.popper.width=`${nt.rects.reference.width}px`},effect:({state:nt})=>()=>{const et=nt.elements.reference;nt.elements.popper.style.width=`${et.offsetWidth}px`}},transformOrigin={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:nt})=>{setTransformOrigin(nt)},effect:({state:nt})=>()=>{setTransformOrigin(nt)}},setTransformOrigin=nt=>{nt.elements.popper.style.setProperty(cssVars.transformOrigin.var,toTransformOrigin(nt.placement))},positionArrow={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:nt})=>{setArrowStyles(nt)}},setArrowStyles=nt=>{var at;if(!nt.placement)return;const et=getArrowStyle$1(nt.placement);if((at=nt.elements)!=null&&at.arrow&&et){Object.assign(nt.elements.arrow.style,{[et.property]:et.value,width:cssVars.arrowSize.varRef,height:cssVars.arrowSize.varRef,zIndex:-1});const mt={[cssVars.arrowSizeHalf.var]:`calc(${cssVars.arrowSize.varRef} / 2 - 1px)`,[cssVars.arrowOffset.var]:`calc(${cssVars.arrowSizeHalf.varRef} * -1)`};for(const $t in mt)nt.elements.arrow.style.setProperty($t,mt[$t])}},getArrowStyle$1=nt=>{if(nt.startsWith("top"))return{property:"bottom",value:cssVars.arrowOffset.varRef};if(nt.startsWith("bottom"))return{property:"top",value:cssVars.arrowOffset.varRef};if(nt.startsWith("left"))return{property:"right",value:cssVars.arrowOffset.varRef};if(nt.startsWith("right"))return{property:"left",value:cssVars.arrowOffset.varRef}},innerArrow={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:nt})=>{setInnerArrowStyles(nt)},effect:({state:nt})=>()=>{setInnerArrowStyles(nt)}},setInnerArrowStyles=nt=>{if(!nt.elements.arrow)return;const et=nt.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!et)return;const at=getBoxShadow(nt.placement);at&&et.style.setProperty("--popper-arrow-default-shadow",at),Object.assign(et.style,{transform:"rotate(45deg)",background:cssVars.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},logicals={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},opposites={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function getPopperPlacement(nt,et="ltr"){var mt;const at=((mt=logicals[nt])==null?void 0:mt[et])||nt;return et==="ltr"?at:opposites[nt]??at}function usePopper(nt={}){const{enabled:et=!0,modifiers:at,placement:mt="bottom",strategy:$t="absolute",arrowPadding:Ct=8,eventListeners:Dt=!0,offset:Ft,gutter:Nt=8,flip:jt=!0,boundary:Lt="clippingParents",preventOverflow:Vt=!0,matchWidth:er,direction:ir="ltr"}=nt,or=reactExports.useRef(null),lr=reactExports.useRef(null),dr=reactExports.useRef(null),pr=getPopperPlacement(mt,ir),hr=reactExports.useRef(()=>{}),vr=reactExports.useCallback(()=>{var kr;!et||!or.current||!lr.current||((kr=hr.current)==null||kr.call(hr),dr.current=createPopper(or.current,lr.current,{placement:pr,modifiers:[innerArrow,positionArrow,transformOrigin,{...matchWidth,enabled:!!er},{name:"eventListeners",...getEventListenerOptions(Dt)},{name:"arrow",options:{padding:Ct}},{name:"offset",options:{offset:Ft??[0,Nt]}},{name:"flip",enabled:!!jt,options:{padding:8}},{name:"preventOverflow",enabled:!!Vt,options:{boundary:Lt}},...at??[]],strategy:$t}),dr.current.forceUpdate(),hr.current=dr.current.destroy)},[pr,et,at,er,Dt,Ct,Ft,Nt,jt,Vt,Lt,$t]);reactExports.useEffect(()=>()=>{var kr;!or.current&&!lr.current&&((kr=dr.current)==null||kr.destroy(),dr.current=null)},[]);const br=reactExports.useCallback(kr=>{or.current=kr,vr()},[vr]),xr=reactExports.useCallback((kr={},gr=null)=>({...kr,ref:mergeRefs(br,gr)}),[br]),Sr=reactExports.useCallback(kr=>{lr.current=kr,vr()},[vr]),Er=reactExports.useCallback((kr={},gr=null)=>({...kr,ref:mergeRefs(Sr,gr),style:{...kr.style,position:$t,minWidth:er?void 0:"max-content",inset:"0 auto auto 0"}}),[$t,Sr,er]),$r=reactExports.useCallback((kr={},gr=null)=>{const{size:Ut,shadowColor:tr,bg:nr,style:rr,...ar}=kr;return{...ar,ref:gr,"data-popper-arrow":"",style:getArrowStyle(kr)}},[]),Cr=reactExports.useCallback((kr={},gr=null)=>({...kr,ref:gr,"data-popper-arrow-inner":""}),[]);return{update(){var kr;(kr=dr.current)==null||kr.update()},forceUpdate(){var kr;(kr=dr.current)==null||kr.forceUpdate()},transformOrigin:cssVars.transformOrigin.varRef,referenceRef:br,popperRef:Sr,getPopperProps:Er,getArrowProps:$r,getArrowInnerProps:Cr,getReferenceProps:xr}}function getArrowStyle(nt){const{size:et,shadowColor:at,bg:mt,style:$t}=nt,Ct={...$t,position:"absolute"};return et&&(Ct["--popper-arrow-size"]=et),at&&(Ct["--popper-arrow-shadow-color"]=at),mt&&(Ct["--popper-arrow-bg"]=mt),Ct}function useEventListeners(){const nt=reactExports.useRef(new Map),et=nt.current,at=reactExports.useCallback(($t,Ct,Dt,Ft)=>{nt.current.set(Dt,{type:Ct,el:$t,options:Ft}),$t.addEventListener(Ct,Dt,Ft)},[]),mt=reactExports.useCallback(($t,Ct,Dt,Ft)=>{$t.removeEventListener(Ct,Dt,Ft),nt.current.delete(Dt)},[]);return reactExports.useEffect(()=>()=>{et.forEach(($t,Ct)=>{mt($t.el,$t.type,Ct,$t.options)})},[mt,et]),{add:at,remove:mt}}function isValidElement(nt){var $t,Ct;const et=((Ct=($t=nt.composedPath)==null?void 0:$t.call(nt))==null?void 0:Ct[0])??nt.target,{tagName:at,isContentEditable:mt}=et;return at!=="INPUT"&&at!=="TEXTAREA"&&mt!==!0}function useClickable(nt={}){const{ref:et,isDisabled:at,isFocusable:mt,clickOnEnter:$t=!0,clickOnSpace:Ct=!0,onMouseDown:Dt,onMouseUp:Ft,onClick:Nt,onKeyDown:jt,onKeyUp:Lt,tabIndex:Vt,onMouseOver:er,onMouseLeave:ir,...or}=nt,[lr,dr]=reactExports.useState(!0),[pr,hr]=reactExports.useState(!1),vr=useEventListeners(),br=cr=>{cr&&cr.tagName!=="BUTTON"&&dr(!1)},xr=lr?Vt:Vt||0,Sr=at&&!mt,Er=reactExports.useCallback(cr=>{if(at){cr.stopPropagation(),cr.preventDefault();return}cr.currentTarget.focus(),Nt==null||Nt(cr)},[at,Nt]),$r=reactExports.useCallback(cr=>{pr&&isValidElement(cr)&&(cr.preventDefault(),cr.stopPropagation(),hr(!1),vr.remove(document,"keyup",$r,!1))},[pr,vr]),Cr=reactExports.useCallback(cr=>{if(jt==null||jt(cr),at||cr.defaultPrevented||cr.metaKey||!isValidElement(cr.nativeEvent)||lr)return;const fr=$t&&cr.key==="Enter";Ct&&cr.key===" "&&(cr.preventDefault(),hr(!0)),fr&&(cr.preventDefault(),cr.currentTarget.click()),vr.add(document,"keyup",$r,!1)},[at,lr,jt,$t,Ct,vr,$r]),kr=reactExports.useCallback(cr=>{if(Lt==null||Lt(cr),at||cr.defaultPrevented||cr.metaKey||!isValidElement(cr.nativeEvent)||lr)return;Ct&&cr.key===" "&&(cr.preventDefault(),hr(!1),cr.currentTarget.click())},[Ct,lr,at,Lt]),gr=reactExports.useCallback(cr=>{cr.button===0&&(hr(!1),vr.remove(document,"mouseup",gr,!1))},[vr]),Ut=reactExports.useCallback(cr=>{if(cr.button!==0)return;if(at){cr.stopPropagation(),cr.preventDefault();return}lr||hr(!0),cr.currentTarget.focus({preventScroll:!0}),vr.add(document,"mouseup",gr,!1),Dt==null||Dt(cr)},[at,lr,Dt,vr,gr]),tr=reactExports.useCallback(cr=>{cr.button===0&&(lr||hr(!1),Ft==null||Ft(cr))},[Ft,lr]),nr=reactExports.useCallback(cr=>{if(at){cr.preventDefault();return}er==null||er(cr)},[at,er]),rr=reactExports.useCallback(cr=>{pr&&(cr.preventDefault(),hr(!1)),ir==null||ir(cr)},[pr,ir]),ar=mergeRefs(et,br);return lr?{...or,ref:ar,type:"button","aria-disabled":Sr?void 0:at,disabled:Sr,onClick:Er,onMouseDown:Dt,onMouseUp:Ft,onKeyUp:Lt,onKeyDown:jt,onMouseOver:er,onMouseLeave:ir}:{...or,ref:ar,role:"button","data-active":dataAttr(pr),"aria-disabled":at?"true":void 0,tabIndex:Sr?void 0:xr,onClick:Er,onMouseDown:Ut,onMouseUp:tr,onKeyUp:kr,onKeyDown:Cr,onMouseOver:nr,onMouseLeave:rr}}const[MenuDescendantsProvider,useMenuDescendantsContext,useMenuDescendants,useMenuDescendant]=createDescendantContext(),[MenuProvider,useMenuContext]=createContext({strict:!1,name:"MenuContext"});function getOwnerDocument(nt){return(nt==null?void 0:nt.ownerDocument)??document}function isActiveElement(nt){return getOwnerDocument(nt).activeElement===nt}function useMenu(nt={}){const{id:et,closeOnSelect:at=!0,closeOnBlur:mt=!0,initialFocusRef:$t,autoSelect:Ct=!0,isLazy:Dt,isOpen:Ft,defaultIsOpen:Nt,onClose:jt,onOpen:Lt,placement:Vt="bottom-start",lazyBehavior:er="unmount",direction:ir,computePositionOnMount:or=!1,...lr}=nt,dr=reactExports.useRef(null),pr=reactExports.useRef(null),hr=reactExports.useRef(!0),vr=useMenuDescendants(),br=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var yr;(yr=dr.current)==null||yr.focus({preventScroll:!1})})},[]),xr=reactExports.useCallback(()=>{const yr=setTimeout(()=>{var wr,Ir;if($t)(wr=$t.current)==null||wr.focus();else if(!vr.count())(Ir=dr.current)==null||Ir.focus({preventScroll:!1});else{const Or=vr.firstEnabled();Or&&nr(Or.index)}});sr.current.add(yr)},[vr,$t]),Sr=reactExports.useCallback(()=>{const yr=setTimeout(()=>{var wr;if(!vr.count())(wr=dr.current)==null||wr.focus({preventScroll:!1});else{const Ir=vr.lastEnabled();Ir&&nr(Ir.index)}});sr.current.add(yr)},[vr]),Er=reactExports.useCallback(()=>{Lt==null||Lt(),Ct?xr():br()},[Ct,xr,br,Lt]),{isOpen:$r,onOpen:Cr,onClose:kr,onToggle:gr}=useDisclosure({isOpen:Ft,defaultIsOpen:Nt,onClose:jt,onOpen:Er});useOutsideClick({enabled:$r&&mt,ref:dr,handler:yr=>{var Ir,Or,Ar;const wr=((Or=(Ir=yr.composedPath)==null?void 0:Ir.call(yr))==null?void 0:Or[0])??yr.target;(Ar=pr.current)!=null&&Ar.contains(wr)||kr()}});const Ut=usePopper({...lr,enabled:$r||or,placement:Vt,direction:ir}),[tr,nr]=reactExports.useState(-1);useFocusOnHide(dr,{focusRef:pr,visible:$r,shouldFocus:!0});const rr=useAnimationState({isOpen:$r,ref:dr}),[ar,cr]=useIds$1(et,"menu-button","menu-list"),fr=reactExports.useCallback(()=>{Cr(),br()},[Cr,br]),sr=reactExports.useRef(new Set([]));reactExports.useEffect(()=>{const yr=sr.current;return()=>{yr.forEach(wr=>clearTimeout(wr)),yr.clear()}},[]),useUpdateEffect(()=>{var yr;$r||(nr(-1),(yr=dr.current)==null||yr.scrollTo(0,0))},[$r]),useUpdateEffect(()=>{$r&&tr===-1&&br()},[tr,$r]),reactExports.useEffect(()=>{var wr;if(!$r)return;const yr=vr.item(tr);(wr=yr==null?void 0:yr.node)==null||wr.focus({preventScroll:!hr.current})},[vr,tr,$r]);const Yt=reactExports.useCallback(()=>{Cr(),xr()},[xr,Cr]),ur=reactExports.useCallback(()=>{hr.current=!0,Cr(),Sr()},[Cr,Sr]),_r=reactExports.useCallback(()=>{var Ar,Nr;const yr=getOwnerDocument(dr.current),wr=(Ar=dr.current)==null?void 0:Ar.contains(yr.activeElement);if(!($r&&!wr))return;const Or=(Nr=vr.item(tr))==null?void 0:Nr.node;Or==null||Or.focus({preventScroll:!hr.current})},[$r,tr,vr]);return{openAndFocusMenu:fr,openAndFocusFirstItem:Yt,openAndFocusLastItem:ur,onTransitionEnd:_r,unstable__animationState:rr,descendants:vr,popper:Ut,buttonId:ar,menuId:cr,forceUpdate:Ut.forceUpdate,orientation:"vertical",isOpen:$r,onToggle:gr,onOpen:Cr,onClose:kr,menuRef:dr,buttonRef:pr,focusedIndex:tr,closeOnSelect:at,closeOnBlur:mt,autoSelect:Ct,setFocusedIndex:nr,isLazy:Dt,lazyBehavior:er,initialFocusRef:$t,scrollIntoViewRef:hr}}function useMenuButton(nt={},et=null){const at=useMenuContext(),{onToggle:mt,popper:$t,openAndFocusFirstItem:Ct,openAndFocusLastItem:Dt,scrollIntoViewRef:Ft}=at,Nt=reactExports.useCallback(jt=>{const Lt=jt.key,er={Enter:Ct,ArrowDown:Ct,ArrowUp:Dt}[Lt];er&&(Ft.current=!0,jt.preventDefault(),jt.stopPropagation(),er(jt))},[Ct,Dt,Ft]);return{...nt,ref:mergeRefs(at.buttonRef,et,$t.referenceRef),id:at.buttonId,"data-active":dataAttr(at.isOpen),"aria-expanded":at.isOpen,"aria-haspopup":"menu","aria-controls":at.menuId,onClick:callAllHandlers(nt.onClick,mt),onKeyDown:callAllHandlers(nt.onKeyDown,Nt)}}function isTargetMenuItem(nt){var et;return isHTMLElement(nt)&&!!((et=nt==null?void 0:nt.getAttribute("role"))!=null&&et.startsWith("menuitem"))}function useMenuList(nt={},et=null){const at=useMenuContext();if(!at)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:mt,setFocusedIndex:$t,menuRef:Ct,isOpen:Dt,onClose:Ft,menuId:Nt,isLazy:jt,lazyBehavior:Lt,scrollIntoViewRef:Vt,unstable__animationState:er}=at,ir=useMenuDescendantsContext(),or=useShortcut({preventDefault:hr=>hr.key!==" "&&isTargetMenuItem(hr.target)}),lr=reactExports.useCallback(hr=>{if(!hr.currentTarget.contains(hr.target))return;const vr=hr.key,xr={Tab:Er=>Er.preventDefault(),Escape:Er=>{Er.stopPropagation(),Ft()},ArrowDown:()=>{Vt.current=!0;const Er=ir.nextEnabled(mt)??ir.firstEnabled();Er&&$t(Er.index)},ArrowUp:()=>{Vt.current=!0;const Er=ir.prevEnabled(mt)??ir.firstEnabled();Er&&$t(Er.index)}}[vr];if(xr){hr.preventDefault(),xr(hr);return}const Sr=or(Er=>{const $r=getNextItemFromSearch(ir.values(),Er,Cr=>{var kr;return((kr=Cr==null?void 0:Cr.node)==null?void 0:kr.textContent)??""},ir.item(mt));if($r){const Cr=ir.indexOf($r.node);$t(Cr)}});isTargetMenuItem(hr.target)&&Sr(hr)},[ir,mt,or,Ft,$t,Vt]),dr=reactExports.useRef(!1);Dt&&(dr.current=!0);const pr=lazyDisclosure({wasSelected:dr.current,enabled:jt,mode:Lt,isSelected:er.present});return{...nt,ref:mergeRefs(Ct,et),children:pr?nt.children:null,tabIndex:-1,role:"menu",id:Nt,style:{...nt.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:callAllHandlers(nt.onKeyDown,lr)}}function useMenuPositioner(nt={}){const{popper:et,isOpen:at}=useMenuContext();return et.getPopperProps({...nt,style:{visibility:at?"visible":"hidden",...nt.style}})}function useMenuItem(nt={},et=null){const{onMouseEnter:at,onMouseMove:mt,onMouseLeave:$t,onClick:Ct,onFocus:Dt,isDisabled:Ft,isFocusable:Nt,closeOnSelect:jt,type:Lt,...Vt}=nt,er=useMenuContext(),{setFocusedIndex:ir,focusedIndex:or,closeOnSelect:lr,onClose:dr,menuId:pr,scrollIntoViewRef:hr}=er,vr=reactExports.useRef(null),br=`${pr}-menuitem-${reactExports.useId()}`,{index:xr,register:Sr}=useMenuDescendant({disabled:Ft&&!Nt}),Er=reactExports.useCallback(nr=>{at==null||at(nr),!Ft&&(hr.current=!1,ir(xr))},[ir,xr,Ft,at,hr]),$r=reactExports.useCallback(nr=>{mt==null||mt(nr),vr.current&&!isActiveElement(vr.current)&&Er(nr)},[Er,mt]),Cr=reactExports.useCallback(nr=>{$t==null||$t(nr),!Ft&&ir(-1)},[ir,Ft,$t]),kr=reactExports.useCallback(nr=>{Ct==null||Ct(nr),isTargetMenuItem(nr.currentTarget)&&(jt??lr)&&dr()},[dr,Ct,lr,jt]),gr=reactExports.useCallback(nr=>{Dt==null||Dt(nr),ir(xr)},[ir,Dt,xr]),Ut=xr===or,tr=useClickable({onClick:kr,onFocus:gr,onMouseEnter:Er,onMouseMove:$r,onMouseLeave:Cr,ref:mergeRefs(Sr,vr,et),isDisabled:Ft,isFocusable:Nt});return{...Vt,...tr,type:Lt??tr.type,id:br,role:"menuitem",tabIndex:Ut?0:-1}}function isHTMLElement(nt){if(!isElement(nt))return!1;const et=nt.ownerDocument.defaultView??window;return nt instanceof et.HTMLElement}function isElement(nt){return nt!=null&&typeof nt=="object"&&"nodeType"in nt&&nt.nodeType===Node.ELEMENT_NODE}const[MenuStylesProvider,useMenuStyles]=createContext({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Menu=nt=>{const{children:et}=nt,at=useMultiStyleConfig("Menu",nt),mt=omitThemingProps(nt),{direction:$t}=useTheme(),{descendants:Ct,...Dt}=useMenu({...mt,direction:$t}),Ft=reactExports.useMemo(()=>Dt,[Dt]),{isOpen:Nt,onClose:jt,forceUpdate:Lt}=Ft;return jsxRuntimeExports.jsx(MenuDescendantsProvider,{value:Ct,children:jsxRuntimeExports.jsx(MenuProvider,{value:Ft,children:jsxRuntimeExports.jsx(MenuStylesProvider,{value:at,children:runIfFn$1(et,{isOpen:Nt,onClose:jt,forceUpdate:Lt})})})})};Menu.displayName="Menu";const StyledMenuButton=forwardRef((nt,et)=>{const at=useMenuStyles();return jsxRuntimeExports.jsx(chakra.button,{ref:et,...nt,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...at.button}})}),MenuButton=forwardRef((nt,et)=>{const{children:at,as:mt,...$t}=nt,Ct=useMenuButton($t,et),Dt=mt||StyledMenuButton;return jsxRuntimeExports.jsx(Dt,{...Ct,className:cx("chakra-menu__menu-button",nt.className),children:jsxRuntimeExports.jsx(chakra.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:nt.children})})});MenuButton.displayName="MenuButton";const MenuCommand=forwardRef((nt,et)=>{const at=useMenuStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:et,...nt,__css:at.command,className:"chakra-menu__command"})});MenuCommand.displayName="MenuCommand";const MenuIcon=nt=>{const{className:et,children:at,...mt}=nt,$t=useMenuStyles(),Ct=reactExports.Children.only(at),Dt=reactExports.isValidElement(Ct)?reactExports.cloneElement(Ct,{focusable:"false","aria-hidden":!0,className:cx("chakra-menu__icon",Ct.props.className)}):null,Ft=cx("chakra-menu__icon-wrapper",et);return jsxRuntimeExports.jsx(chakra.span,{className:Ft,...mt,__css:$t.icon,children:Dt})};MenuIcon.displayName="MenuIcon";const StyledMenuItem=forwardRef((nt,et)=>{const{type:at,...mt}=nt,$t=useMenuStyles(),Ct=mt.as||at?at??void 0:"button",Dt=reactExports.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...$t.item}),[$t.item]);return jsxRuntimeExports.jsx(chakra.button,{ref:et,type:Ct,...mt,__css:Dt})}),MenuItem=forwardRef((nt,et)=>{const{icon:at,iconSpacing:mt="0.75rem",command:$t,commandSpacing:Ct="0.75rem",children:Dt,...Ft}=nt,Nt=useMenuItem(Ft,et),Lt=at||$t?jsxRuntimeExports.jsx("span",{style:{pointerEvents:"none",flex:1},children:Dt}):Dt;return jsxRuntimeExports.jsxs(StyledMenuItem,{...Nt,className:cx("chakra-menu__menuitem",Nt.className),children:[at&&jsxRuntimeExports.jsx(MenuIcon,{fontSize:"0.8em",marginEnd:mt,children:at}),Lt,$t&&jsxRuntimeExports.jsx(MenuCommand,{marginStart:Ct,children:$t})]})});MenuItem.displayName="MenuItem";const motionVariants={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},MenuTransition=chakra(motion.div),MenuList=forwardRef(function nt(et,at){var er;const{rootProps:mt,motionProps:$t,...Ct}=et,{isOpen:Dt,onTransitionEnd:Ft,unstable__animationState:Nt}=useMenuContext(),jt=useMenuList(Ct,at),Lt=useMenuPositioner(mt),Vt=useMenuStyles();return jsxRuntimeExports.jsx(chakra.div,{...Lt,__css:{zIndex:et.zIndex??((er=Vt.list)==null?void 0:er.zIndex)},children:jsxRuntimeExports.jsx(MenuTransition,{variants:motionVariants,initial:!1,animate:Dt?"enter":"exit",__css:{outline:0,...Vt.list},...$t,...jt,className:cx("chakra-menu__menu-list",jt.className),onUpdate:Ft,onAnimationComplete:callAll(Nt.onComplete,jt.onAnimationComplete)})})});MenuList.displayName="MenuList";var __defProp$5=Object.defineProperty,__defNormalProp$5=(nt,et,at)=>et in nt?__defProp$5(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__publicField$2=(nt,et,at)=>(__defNormalProp$5(nt,et+"",at),at);class ModalManager{constructor(){__publicField$2(this,"modals"),this.modals=new Set}add(et){return this.modals.add(et),this.modals.size}remove(et){this.modals.delete(et)}isTopModal(et){if(!et)return!1;const at=Array.from(this.modals)[this.modals.size-1];return et===at}}const modalManager=new ModalManager;function useModalManager(nt,et){const[at,mt]=reactExports.useState(0);return reactExports.useEffect(()=>{const $t=nt.current;if($t){if(et){const Ct=modalManager.add($t);mt(Ct)}return()=>{modalManager.remove($t),mt(0)}}},[et,nt]),at}function useModal(nt){const{isOpen:et,onClose:at,id:mt,closeOnOverlayClick:$t=!0,closeOnEsc:Ct=!0,useInert:Dt=!0,onOverlayClick:Ft,onEsc:Nt}=nt,jt=reactExports.useRef(null),Lt=reactExports.useRef(null),[Vt,er,ir]=useIds(mt,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(jt,et&&Dt);const or=useModalManager(jt,et),lr=reactExports.useRef(null),dr=reactExports.useCallback(Cr=>{lr.current=Cr.target},[]),pr=reactExports.useCallback(Cr=>{Cr.key==="Escape"&&(Cr.stopPropagation(),Ct&&(at==null||at()),Nt==null||Nt())},[Ct,at,Nt]),[hr,vr]=reactExports.useState(!1),[br,xr]=reactExports.useState(!1),Sr=reactExports.useCallback((Cr={},kr=null)=>({role:"dialog",...Cr,ref:mergeRefs(kr,jt),id:Vt,tabIndex:-1,"aria-modal":!0,"aria-labelledby":hr?er:void 0,"aria-describedby":br?ir:void 0,onClick:callAllHandlers(Cr.onClick,gr=>gr.stopPropagation())}),[ir,br,Vt,er,hr]),Er=reactExports.useCallback(Cr=>{Cr.stopPropagation(),lr.current===Cr.target&&modalManager.isTopModal(jt.current)&&($t&&(at==null||at()),Ft==null||Ft())},[at,$t,Ft]),$r=reactExports.useCallback((Cr={},kr=null)=>({...Cr,ref:mergeRefs(kr,Lt),onClick:callAllHandlers(Cr.onClick,Er),onKeyDown:callAllHandlers(Cr.onKeyDown,pr),onMouseDown:callAllHandlers(Cr.onMouseDown,dr)}),[pr,dr,Er]);return{isOpen:et,onClose:at,headerId:er,bodyId:ir,setBodyMounted:xr,setHeaderMounted:vr,dialogRef:jt,overlayRef:Lt,getDialogProps:Sr,getDialogContainerProps:$r,index:or}}function useAriaHidden(nt,et){const at=nt.current;reactExports.useEffect(()=>{if(!(!nt.current||!et))return hideOthers(nt.current)},[et,nt,at])}function useIds(nt,...et){const at=reactExports.useId(),mt=nt||at;return reactExports.useMemo(()=>et.map($t=>`${$t}-${mt}`),[mt,et])}const[ModalStylesProvider,useModalStyles]=createContext({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal$1=nt=>{const et={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...nt,lockFocusAcrossFrames:nt.lockFocusAcrossFrames||!0},{portalProps:at,children:mt,autoFocus:$t,trapFocus:Ct,initialFocusRef:Dt,finalFocusRef:Ft,returnFocusOnClose:Nt,blockScrollOnMount:jt,allowPinchZoom:Lt,preserveScrollBarGap:Vt,motionPreset:er,lockFocusAcrossFrames:ir,animatePresenceProps:or,onCloseComplete:lr}=et,dr=useMultiStyleConfig("Modal",et),hr={...useModal(et),autoFocus:$t,trapFocus:Ct,initialFocusRef:Dt,finalFocusRef:Ft,returnFocusOnClose:Nt,blockScrollOnMount:jt,allowPinchZoom:Lt,preserveScrollBarGap:Vt,motionPreset:er,lockFocusAcrossFrames:ir};return jsxRuntimeExports.jsx(ModalContextProvider,{value:hr,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:dr,children:jsxRuntimeExports.jsx(AnimatePresence,{...or,onExitComplete:lr,children:hr.isOpen&&jsxRuntimeExports.jsx(Portal,{...at,children:mt})})})})};Modal$1.displayName="Modal";function ModalFocusScope(nt){const{autoFocus:et,trapFocus:at,dialogRef:mt,initialFocusRef:$t,blockScrollOnMount:Ct,allowPinchZoom:Dt,finalFocusRef:Ft,returnFocusOnClose:Nt,preserveScrollBarGap:jt,lockFocusAcrossFrames:Lt,isOpen:Vt}=useModalContext(),[er,ir]=usePresence();reactExports.useEffect(()=>{!er&&ir&&setTimeout(ir)},[er,ir]);const or=useModalManager(mt,Vt);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:et,isDisabled:!at,initialFocusRef:$t,finalFocusRef:Ft,restoreFocus:Nt,contentRef:mt,lockFocusAcrossFrames:Lt,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!jt,allowPinchZoom:Dt,enabled:or===1&&Ct,forwardProps:!0,children:nt.children})})}const variants$4={initial:({offsetX:nt,offsetY:et,transition:at,transitionEnd:mt,delay:$t})=>({opacity:0,x:nt,y:et,transition:(at==null?void 0:at.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,$t),transitionEnd:mt==null?void 0:mt.exit}),enter:({transition:nt,transitionEnd:et,delay:at})=>({opacity:1,x:0,y:0,transition:(nt==null?void 0:nt.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,at),transitionEnd:et==null?void 0:et.enter}),exit:({offsetY:nt,offsetX:et,transition:at,transitionEnd:mt,reverse:$t,delay:Ct})=>{const Dt={x:et,y:nt};return{opacity:0,transition:(at==null?void 0:at.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,Ct),...$t?{...Dt,transitionEnd:mt==null?void 0:mt.exit}:{transitionEnd:{...Dt,...mt==null?void 0:mt.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$4},SlideFade=reactExports.forwardRef(function nt(et,at){const{unmountOnExit:mt,in:$t,reverse:Ct=!0,className:Dt,offsetX:Ft=0,offsetY:Nt=8,transition:jt,transitionEnd:Lt,delay:Vt,animatePresenceProps:er,...ir}=et,or=mt?$t&&mt:!0,lr=$t||mt?"enter":"exit",dr={offsetX:Ft,offsetY:Nt,reverse:Ct,transition:jt,transitionEnd:Lt,delay:Vt};return jsxRuntimeExports.jsx(AnimatePresence,{...er,custom:dr,children:or&&jsxRuntimeExports.jsx(motion.div,{ref:at,className:cx("chakra-offset-slide",Dt),custom:dr,...slideFadeConfig,animate:lr,...ir})})});SlideFade.displayName="SlideFade";const variants$3={exit:({reverse:nt,initialScale:et,transition:at,transitionEnd:mt,delay:$t})=>({opacity:0,...nt?{scale:et,transitionEnd:mt==null?void 0:mt.exit}:{transitionEnd:{scale:et,...mt==null?void 0:mt.exit}},transition:(at==null?void 0:at.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,$t)}),enter:({transitionEnd:nt,transition:et,delay:at})=>({opacity:1,scale:1,transition:(et==null?void 0:et.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,at),transitionEnd:nt==null?void 0:nt.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$3},ScaleFade=reactExports.forwardRef(function nt(et,at){const{unmountOnExit:mt,in:$t,reverse:Ct=!0,initialScale:Dt=.95,className:Ft,transition:Nt,transitionEnd:jt,delay:Lt,animatePresenceProps:Vt,...er}=et,ir=mt?$t&&mt:!0,or=$t||mt?"enter":"exit",lr={initialScale:Dt,reverse:Ct,transition:Nt,transitionEnd:jt,delay:Lt};return jsxRuntimeExports.jsx(AnimatePresence,{...Vt,custom:lr,children:ir&&jsxRuntimeExports.jsx(motion.div,{ref:at,className:cx("chakra-offset-slide",Ft),...scaleFadeConfig,animate:or,custom:lr,...er})})});ScaleFade.displayName="ScaleFade";const transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection$1=chakra(motion.section),getMotionProps=nt=>transitions[nt||"none"],ModalTransition=reactExports.forwardRef((nt,et)=>{const{preset:at,motionProps:mt=getMotionProps(at),...$t}=nt;return jsxRuntimeExports.jsx(MotionSection$1,{ref:et,...mt,...$t})});ModalTransition.displayName="ModalTransition";const ModalContent=forwardRef((nt,et)=>{const{className:at,children:mt,containerProps:$t,motionProps:Ct,...Dt}=nt,{getDialogProps:Ft,getDialogContainerProps:Nt}=useModalContext(),jt=Ft(Dt,et),Lt=Nt($t),Vt=cx("chakra-modal__content",at),er=useModalStyles(),ir={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...er.dialog},or={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...er.dialogContainer},{motionPreset:lr}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...Lt,className:"chakra-modal__content-container",tabIndex:-1,__css:or,children:jsxRuntimeExports.jsx(ModalTransition,{preset:lr,motionProps:Ct,className:Vt,...jt,__css:ir,children:mt})})})});ModalContent.displayName="ModalContent";const ModalBody=forwardRef((nt,et)=>{const{className:at,...mt}=nt,{bodyId:$t,setBodyMounted:Ct}=useModalContext();reactExports.useEffect(()=>(Ct(!0),()=>Ct(!1)),[Ct]);const Dt=cx("chakra-modal__body",at),Ft=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:et,className:Dt,id:$t,...mt,__css:Ft.body})});ModalBody.displayName="ModalBody";const ModalCloseButton=forwardRef((nt,et)=>{const{onClick:at,className:mt,...$t}=nt,{onClose:Ct}=useModalContext(),Dt=cx("chakra-modal__close-btn",mt),Ft=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:et,__css:Ft.closeButton,className:Dt,onClick:callAllHandlers(at,Nt=>{Nt.stopPropagation(),Ct()}),...$t})});ModalCloseButton.displayName="ModalCloseButton";const ModalFooter=forwardRef((nt,et)=>{const{className:at,...mt}=nt,$t=cx("chakra-modal__footer",at),Ct=useModalStyles(),Dt={display:"flex",alignItems:"center",justifyContent:"flex-end",...Ct.footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:et,...mt,__css:Dt,className:$t})});ModalFooter.displayName="ModalFooter";const ModalHeader=forwardRef((nt,et)=>{const{className:at,...mt}=nt,{headerId:$t,setHeaderMounted:Ct}=useModalContext();reactExports.useEffect(()=>(Ct(!0),()=>Ct(!1)),[Ct]);const Dt=cx("chakra-modal__header",at),Ft=useModalStyles(),Nt={flex:0,...Ft.header};return jsxRuntimeExports.jsx(chakra.header,{ref:et,className:Dt,id:$t,...mt,__css:Nt})});ModalHeader.displayName="ModalHeader";const variants$2={enter:({transition:nt,transitionEnd:et,delay:at}={})=>({opacity:1,transition:(nt==null?void 0:nt.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,at),transitionEnd:et==null?void 0:et.enter}),exit:({transition:nt,transitionEnd:et,delay:at}={})=>({opacity:0,transition:(nt==null?void 0:nt.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,at),transitionEnd:et==null?void 0:et.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function nt(et,at){const{unmountOnExit:mt,in:$t,className:Ct,transition:Dt,transitionEnd:Ft,delay:Nt,animatePresenceProps:jt,...Lt}=et,Vt=$t||mt?"enter":"exit",er=mt?$t&&mt:!0,ir={transition:Dt,transitionEnd:Ft,delay:Nt};return jsxRuntimeExports.jsx(AnimatePresence,{...jt,custom:ir,children:er&&jsxRuntimeExports.jsx(motion.div,{ref:at,className:cx("chakra-fade",Ct),custom:ir,...fadeConfig,animate:Vt,...Lt})})});Fade.displayName="Fade";const MotionDiv$2=chakra(motion.div),ModalOverlay=forwardRef((nt,et)=>{const{className:at,transition:mt,motionProps:$t,...Ct}=nt,Dt=cx("chakra-modal__overlay",at),Nt={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:jt}=useModalContext(),Vt=$t||(jt==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv$2,{...Vt,__css:Nt,ref:et,className:Dt,...Ct})});ModalOverlay.displayName="ModalOverlay";const[DrawerContextProvider,useDrawerContext]=createContext(),placementMap={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function getDrawerPlacement(nt,et){var at;if(nt)return((at=placementMap[nt])==null?void 0:at[et])??nt}function Drawer$1(nt){var jt;const{isOpen:et,onClose:at,placement:mt="right",children:$t,...Ct}=nt,Dt=useTheme(),Ft=(jt=Dt.components)==null?void 0:jt.Drawer,Nt=getDrawerPlacement(mt,Dt.direction);return jsxRuntimeExports.jsx(DrawerContextProvider,{value:{placement:Nt},children:jsxRuntimeExports.jsx(Modal$1,{isOpen:et,onClose:at,styleConfig:Ft,...Ct,children:$t})})}const defaultTransition={exit:{duration:.15,ease:TRANSITION_EASINGS.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},variants$1={exit:({direction:nt,transition:et,transitionEnd:at,delay:mt})=>{const{exit:$t}=getSlideTransition({direction:nt});return{...$t,transition:(et==null?void 0:et.exit)??withDelay.exit(defaultTransition.exit,mt),transitionEnd:at==null?void 0:at.exit}},enter:({direction:nt,transitionEnd:et,transition:at,delay:mt})=>{const{enter:$t}=getSlideTransition({direction:nt});return{...$t,transition:(at==null?void 0:at.enter)??withDelay.enter(defaultTransition.enter,mt),transitionEnd:et==null?void 0:et.enter}}},Slide=reactExports.forwardRef(function nt(et,at){const{direction:mt="right",style:$t,unmountOnExit:Ct,in:Dt,className:Ft,transition:Nt,transitionEnd:jt,delay:Lt,motionProps:Vt,animatePresenceProps:er,...ir}=et,or=getSlideTransition({direction:mt}),lr=Object.assign({position:"fixed"},or.position,$t),dr=Ct?Dt&&Ct:!0,pr=Dt||Ct?"enter":"exit",hr={transitionEnd:jt,transition:Nt,direction:mt,delay:Lt};return jsxRuntimeExports.jsx(AnimatePresence,{...er,custom:hr,children:dr&&jsxRuntimeExports.jsx(motion.div,{...ir,ref:at,initial:"exit",className:cx("chakra-slide",Ft),animate:pr,exit:"exit",custom:hr,variants:variants$1,style:lr,...Vt})})});Slide.displayName="Slide";const MotionDiv$1=chakra(Slide),DrawerContent=forwardRef((nt,et)=>{const{className:at,children:mt,motionProps:$t,containerProps:Ct,...Dt}=nt,{getDialogProps:Ft,getDialogContainerProps:Nt,isOpen:jt}=useModalContext(),Lt=Ft(Dt,et),Vt=Nt(Ct),er=cx("chakra-modal__content",at),ir=useModalStyles(),or={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...ir.dialog},lr={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...ir.dialogContainer},{placement:dr}=useDrawerContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...Vt,className:"chakra-modal__content-container",__css:lr,children:jsxRuntimeExports.jsx(MotionDiv$1,{motionProps:$t,direction:dr,in:jt,className:er,...Lt,__css:or,children:mt})})})});DrawerContent.displayName="DrawerContent";const[PopoverProvider,usePopoverContext]=createContext({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[PopoverStylesProvider,usePopoverStyles]=createContext({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),TRIGGER={click:"click",hover:"hover"};function usePopover(nt={}){const{closeOnBlur:et=!0,closeOnEsc:at=!0,initialFocusRef:mt,id:$t,returnFocusOnClose:Ct=!0,autoFocus:Dt=!0,arrowSize:Ft,arrowShadowColor:Nt,trigger:jt=TRIGGER.click,openDelay:Lt=200,closeDelay:Vt=200,isLazy:er,lazyBehavior:ir="unmount",computePositionOnMount:or,...lr}=nt,{isOpen:dr,onClose:pr,onOpen:hr,onToggle:vr}=useDisclosure(nt),[br,xr]=reactExports.useState(Ct);reactExports.useEffect(()=>xr(Ct),[Ct]);const Sr=reactExports.useRef(null),Er=reactExports.useRef(null),$r=reactExports.useRef(null),Cr=reactExports.useRef(!1),kr=reactExports.useRef(!1);dr&&(kr.current=!0);const[gr,Ut]=reactExports.useState(!1),[tr,nr]=reactExports.useState(!1),rr=reactExports.useId(),ar=$t??rr,[cr,fr,sr,Yt]=["popover-trigger","popover-content","popover-header","popover-body"].map(Zr=>`${Zr}-${ar}`),{referenceRef:ur,getArrowProps:_r,getPopperProps:yr,getArrowInnerProps:wr,forceUpdate:Ir}=usePopper({...lr,enabled:dr||!!or}),Or=useAnimationState({isOpen:dr,ref:$r});useFocusOnPointerDown({enabled:dr,ref:Er}),useFocusOnHide($r,{focusRef:Er,visible:dr,shouldFocus:br&&jt===TRIGGER.click}),useFocusOnShow($r,{focusRef:mt,visible:dr,shouldFocus:Dt&&jt===TRIGGER.click}),useOutsideClick({enabled:dr&&et,ref:$r,handler(Zr){var zr;const Gr=((zr=Zr.composedPath)==null?void 0:zr.call(Zr)[0])??[Zr.target];contains(Er.current,Gr)||(Gr&&xr(!isFocusable(Gr)),pr())}});const Ar=lazyDisclosure({wasSelected:kr.current,enabled:er,mode:ir,isSelected:Or.present}),Nr=reactExports.useCallback((Zr={},Gr=null)=>{const zr={...Zr,style:{...Zr.style,transformOrigin:cssVars.transformOrigin.varRef,[cssVars.arrowSize.var]:Ft?`${Ft}px`:void 0,[cssVars.arrowShadowColor.var]:Nt},ref:mergeRefs($r,Gr),children:Ar?Zr.children:null,id:fr,tabIndex:-1,role:"dialog",onKeyDown:callAllHandlers(Zr.onKeyDown,Dn=>{Dn.nativeEvent.isComposing||at&&Dn.key==="Escape"&&(Dn.preventDefault(),Dn.stopPropagation(),pr())}),onBlur:callAllHandlers(Zr.onBlur,Dn=>{const Qr=getRelatedTarget(Dn),Un=contains($r.current,Qr),ro=contains(Er.current,Qr),Hn=!Un&&!ro;Qr&&xr(!isFocusable(Qr)),dr&&et&&Hn&&pr()}),"aria-labelledby":gr?sr:void 0,"aria-describedby":tr?Yt:void 0};return jt===TRIGGER.hover&&(zr.role="tooltip",zr.onMouseEnter=callAllHandlers(Zr.onMouseEnter,()=>{Cr.current=!0}),zr.onMouseLeave=callAllHandlers(Zr.onMouseLeave,Dn=>{Dn.nativeEvent.relatedTarget!==null&&(Cr.current=!1,setTimeout(()=>pr(),Vt))})),zr},[Ar,fr,gr,sr,tr,Yt,jt,at,pr,dr,et,Vt,Nt,Ft]),Hr=reactExports.useCallback((Zr={},Gr=null)=>yr({...Zr,style:{visibility:dr?"visible":"hidden",...Zr.style}},Gr),[dr,yr]),Pr=reactExports.useCallback((Zr,Gr=null)=>({...Zr,ref:mergeRefs(Gr,Sr,ur)}),[Sr,ur]),Dr=reactExports.useRef(),Rr=reactExports.useRef(),Vr=reactExports.useCallback(Zr=>{Sr.current==null&&ur(Zr)},[ur]),an=reactExports.useCallback((Zr={},Gr=null)=>{const zr={...Zr,ref:mergeRefs(Er,Gr,Vr),id:cr,"aria-haspopup":"dialog","aria-expanded":dr,"aria-controls":fr};return jt===TRIGGER.click&&(zr.onClick=callAllHandlers(Zr.onClick,vr)),jt===TRIGGER.hover&&(zr.onFocus=callAllHandlers(Zr.onFocus,()=>{Dr.current===void 0&&hr()}),zr.onBlur=callAllHandlers(Zr.onBlur,Dn=>{const Qr=getRelatedTarget(Dn),Un=!contains($r.current,Qr);dr&&et&&Un&&pr()}),zr.onKeyDown=callAllHandlers(Zr.onKeyDown,Dn=>{Dn.key==="Escape"&&pr()}),zr.onMouseEnter=callAllHandlers(Zr.onMouseEnter,()=>{Cr.current=!0,Dr.current=window.setTimeout(()=>hr(),Lt)}),zr.onMouseLeave=callAllHandlers(Zr.onMouseLeave,()=>{Cr.current=!1,Dr.current&&(clearTimeout(Dr.current),Dr.current=void 0),Rr.current=window.setTimeout(()=>{Cr.current===!1&&pr()},Vt)})),zr},[cr,dr,fr,jt,Vr,vr,hr,et,pr,Lt,Vt]);reactExports.useEffect(()=>()=>{Dr.current&&clearTimeout(Dr.current),Rr.current&&clearTimeout(Rr.current)},[]);const Xr=reactExports.useCallback((Zr={},Gr=null)=>({...Zr,id:sr,ref:mergeRefs(Gr,zr=>{Ut(!!zr)})}),[sr]),Jr=reactExports.useCallback((Zr={},Gr=null)=>({...Zr,id:Yt,ref:mergeRefs(Gr,zr=>{nr(!!zr)})}),[Yt]);return{forceUpdate:Ir,isOpen:dr,onAnimationComplete:Or.onComplete,onClose:pr,getAnchorProps:Pr,getArrowProps:_r,getArrowInnerProps:wr,getPopoverPositionerProps:Hr,getPopoverProps:Nr,getTriggerProps:an,getHeaderProps:Xr,getBodyProps:Jr}}function contains(nt,et){return nt===et||(nt==null?void 0:nt.contains(et))}function getRelatedTarget(nt){const et=nt.currentTarget.ownerDocument.activeElement;return nt.relatedTarget??et}function Popover(nt){const et=useMultiStyleConfig("Popover",nt),{children:at,...mt}=omitThemingProps(nt),$t=useTheme(),Ct=usePopover({...mt,direction:$t.direction});return jsxRuntimeExports.jsx(PopoverProvider,{value:Ct,children:jsxRuntimeExports.jsx(PopoverStylesProvider,{value:et,children:runIfFn$1(at,{isOpen:Ct.isOpen,onClose:Ct.onClose,forceUpdate:Ct.forceUpdate})})})}Popover.displayName="Popover";const PopoverBody=forwardRef(function nt(et,at){const{getBodyProps:mt}=usePopoverContext(),$t=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.div,{...mt(et,at),className:cx("chakra-popover__body",et.className),__css:$t.body})});PopoverBody.displayName="PopoverBody";function mergeVariants(nt){if(nt)return{enter:{...nt.enter,visibility:"visible"},exit:{...nt.exit,transitionEnd:{visibility:"hidden"}}}}const scaleFade={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},MotionSection=chakra(motion.section),PopoverTransition=forwardRef(function nt(et,at){const{variants:mt=scaleFade,...$t}=et,{isOpen:Ct}=usePopoverContext();return jsxRuntimeExports.jsx(MotionSection,{ref:at,variants:mergeVariants(mt),initial:!1,animate:Ct?"enter":"exit",...$t})});PopoverTransition.displayName="PopoverTransition";const PopoverContent=forwardRef(function nt(et,at){const{rootProps:mt,motionProps:$t,...Ct}=et,{getPopoverProps:Dt,getPopoverPositionerProps:Ft,onAnimationComplete:Nt}=usePopoverContext(),jt=usePopoverStyles(),Lt={position:"relative",display:"flex",flexDirection:"column",...jt.content};return jsxRuntimeExports.jsx(chakra.div,{...Ft(mt),__css:jt.popper,className:"chakra-popover__popper",children:jsxRuntimeExports.jsx(PopoverTransition,{...$t,...Dt(Ct,at),onAnimationComplete:callAll(Nt,Ct.onAnimationComplete),className:cx("chakra-popover__content",et.className),__css:Lt})})});PopoverContent.displayName="PopoverContent";function PopoverFooter(nt){const et=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.footer,{...nt,className:cx("chakra-popover__footer",nt.className),__css:et.footer})}PopoverFooter.displayName="PopoverFooter";function PopoverTrigger(nt){const et=reactExports.Children.only(nt.children),{getTriggerProps:at}=usePopoverContext();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reactExports.cloneElement(et,at(et.props,et.ref))})}PopoverTrigger.displayName="PopoverTrigger";function useIsFirstRender(){const nt=reactExports.useRef(!0);return reactExports.useEffect(()=>{nt.current=!1},[]),nt.current}const StyledSkeleton=chakra("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),$startColor$1=cssVar$1("skeleton-start-color"),$endColor$1=cssVar$1("skeleton-end-color"),fade=keyframes$1({from:{opacity:0},to:{opacity:1}}),bgFade=keyframes$1({from:{borderColor:$startColor$1.reference,background:$startColor$1.reference},to:{borderColor:$endColor$1.reference,background:$endColor$1.reference}}),Skeleton=forwardRef((nt,et)=>{const at={...nt,fadeDuration:typeof nt.fadeDuration=="number"?nt.fadeDuration:.4,speed:typeof nt.speed=="number"?nt.speed:.8},mt=useStyleConfig("Skeleton",at),$t=useIsFirstRender(),{startColor:Ct="",endColor:Dt="",isLoaded:Ft,fadeDuration:Nt,speed:jt,className:Lt,fitContent:Vt,animation:er,...ir}=omitThemingProps(at),[or,lr]=useToken("colors",[Ct,Dt]),dr=usePrevious(Ft),pr=cx("chakra-skeleton",Lt),hr={...or&&{[$startColor$1.variable]:or},...lr&&{[$endColor$1.variable]:lr}};if(Ft){const vr=$t||dr?"none":`${fade} ${Nt}s`;return jsxRuntimeExports.jsx(chakra.div,{ref:et,className:pr,__css:{animation:vr},...ir})}return jsxRuntimeExports.jsx(StyledSkeleton,{ref:et,className:pr,...ir,__css:{width:Vt?"fit-content":void 0,...mt,...hr,_dark:{...mt._dark,...hr},animation:er||`${jt}s linear infinite alternate ${bgFade}`}})});Skeleton.displayName="Skeleton";const SkeletonCircle=({size:nt="2rem",...et})=>jsxRuntimeExports.jsx(Skeleton,{borderRadius:"full",boxSize:nt,...et});SkeletonCircle.displayName="SkeletonCircle";function getIds(nt){return{root:`slider-root-${nt}`,getThumb:et=>`slider-thumb-${nt}-${et}`,getInput:et=>`slider-input-${nt}-${et}`,track:`slider-track-${nt}`,innerTrack:`slider-filled-track-${nt}`,getMarker:et=>`slider-marker-${nt}-${et}`,output:`slider-output-${nt}`}}function orient$1(nt){const{orientation:et,vertical:at,horizontal:mt}=nt;return et==="vertical"?at:mt}function getStyles(nt){const{orientation:et,thumbPercents:at,isReversed:mt}=nt,$t=ir=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...orient$1({orientation:et,vertical:{bottom:`calc(${at[ir]}% - var(--slider-thumb-size) / 2)`},horizontal:{left:`calc(${at[ir]}% - var(--slider-thumb-size) / 2)`}})}),Ct={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},Dt={position:"absolute",...orient$1({orientation:et,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},Ft=at.length===1,Nt=[0,mt?100-at[0]:at[0]],jt=Ft?Nt:at;let Lt=jt[0];!Ft&&mt&&(Lt=100-Lt);const Vt=Math.abs(jt[jt.length-1]-jt[0]),er={...Dt,...orient$1({orientation:et,vertical:mt?{height:`${Vt}%`,top:`${Lt}%`}:{height:`${Vt}%`,bottom:`${Lt}%`},horizontal:mt?{width:`${Vt}%`,right:`${Lt}%`}:{width:`${Vt}%`,left:`${Lt}%`}})};return{trackStyle:Dt,innerTrackStyle:er,rootStyle:Ct,getThumbStyle:$t}}function getIsReversed(nt){const{isReversed:et,direction:at,orientation:mt}=nt;return at==="ltr"||mt==="vertical"?et:!et}function useSlider(nt){const{min:et=0,max:at=100,onChange:mt,value:$t,defaultValue:Ct,isReversed:Dt,direction:Ft="ltr",orientation:Nt="horizontal",id:jt,isDisabled:Lt,isReadOnly:Vt,onChangeStart:er,onChangeEnd:ir,step:or=1,getAriaValueText:lr,"aria-valuetext":dr,"aria-label":pr,"aria-labelledby":hr,name:vr,focusThumbOnChange:br=!0,...xr}=nt,Sr=useCallbackRef(er),Er=useCallbackRef(ir),$r=useCallbackRef(lr),Cr=getIsReversed({isReversed:Dt,direction:Ft,orientation:Nt}),[kr,gr]=useControllableState({value:$t,defaultValue:Ct??getDefaultValue(et,at),onChange:mt}),[Ut,tr]=reactExports.useState(!1),[nr,rr]=reactExports.useState(!1),ar=!(Lt||Vt),cr=(at-et)/10,fr=or||(at-et)/100,sr=clampValue(kr,et,at),Yt=at-sr+et,_r=valueToPercent(Cr?Yt:sr,et,at),yr=Nt==="vertical",wr=useLatestRef({min:et,max:at,step:or,isDisabled:Lt,value:sr,isInteractive:ar,isReversed:Cr,isVertical:yr,eventSource:null,focusThumbOnChange:br,orientation:Nt}),Ir=reactExports.useRef(null),Or=reactExports.useRef(null),Ar=reactExports.useRef(null),Nr=reactExports.useId(),Hr=jt??Nr,[Pr,Dr]=[`slider-thumb-${Hr}`,`slider-track-${Hr}`],Rr=reactExports.useCallback(jr=>{var ga;if(!Ir.current)return;const Tr=wr.current;Tr.eventSource="pointer";const Fr=Ir.current.getBoundingClientRect(),{clientX:Wr,clientY:sn}=((ga=jr.touches)==null?void 0:ga[0])??jr,Jn=yr?Fr.bottom-sn:Wr-Fr.left,Nn=yr?Fr.height:Fr.width;let Zn=Jn/Nn;Cr&&(Zn=1-Zn);let Io=percentToValue(Zn,Tr.min,Tr.max);return Tr.step&&(Io=parseFloat(roundValueToStep(Io,Tr.min,Tr.step))),Io=clampValue(Io,Tr.min,Tr.max),Io},[yr,Cr,wr]),Vr=reactExports.useCallback(jr=>{const Tr=wr.current;Tr.isInteractive&&(jr=parseFloat(roundValueToStep(jr,Tr.min,fr)),jr=clampValue(jr,Tr.min,Tr.max),gr(jr))},[fr,gr,wr]),an=reactExports.useMemo(()=>({stepUp(jr=fr){const Tr=Cr?sr-jr:sr+jr;Vr(Tr)},stepDown(jr=fr){const Tr=Cr?sr+jr:sr-jr;Vr(Tr)},reset(){Vr(Ct||0)},stepTo(jr){Vr(jr)}}),[Vr,Cr,sr,fr,Ct]),Xr=reactExports.useCallback(jr=>{const Tr=wr.current,Wr={ArrowRight:()=>an.stepUp(),ArrowUp:()=>an.stepUp(),ArrowLeft:()=>an.stepDown(),ArrowDown:()=>an.stepDown(),PageUp:()=>an.stepUp(cr),PageDown:()=>an.stepDown(cr),Home:()=>Vr(Tr.min),End:()=>Vr(Tr.max)}[jr.key];Wr&&(jr.preventDefault(),jr.stopPropagation(),Wr(jr),Tr.eventSource="keyboard")},[an,Vr,cr,wr]),Jr=($r==null?void 0:$r(sr))??dr,{getThumbStyle:Zr,rootStyle:Gr,trackStyle:zr,innerTrackStyle:Dn}=reactExports.useMemo(()=>{const jr=wr.current;return getStyles({isReversed:Cr,orientation:jr.orientation,thumbPercents:[_r]})},[Cr,_r,wr]),Qr=reactExports.useCallback(()=>{wr.current.focusThumbOnChange&&setTimeout(()=>{var Tr;return(Tr=Or.current)==null?void 0:Tr.focus()})},[wr]);useUpdateEffect(()=>{const jr=wr.current;Qr(),jr.eventSource==="keyboard"&&(Er==null||Er(jr.value))},[sr,Er]);function Un(jr){const Tr=Rr(jr);Tr!=null&&Tr!==wr.current.value&&gr(Tr)}usePanEvent(Ar,{onPanSessionStart(jr){const Tr=wr.current;Tr.isInteractive&&(tr(!0),Qr(),Un(jr),Sr==null||Sr(Tr.value))},onPanSessionEnd(){const jr=wr.current;jr.isInteractive&&(tr(!1),Er==null||Er(jr.value))},onPan(jr){wr.current.isInteractive&&Un(jr)}});const ro=reactExports.useCallback((jr={},Tr=null)=>({...jr,...xr,ref:mergeRefs(Tr,Ar),tabIndex:-1,"aria-disabled":ariaAttr(Lt),"data-focused":dataAttr(nr),style:{...jr.style,...Gr}}),[xr,Lt,nr,Gr]),Hn=reactExports.useCallback((jr={},Tr=null)=>({...jr,ref:mergeRefs(Tr,Ir),id:Dr,"data-disabled":dataAttr(Lt),style:{...jr.style,...zr}}),[Lt,Dr,zr]),Qn=reactExports.useCallback((jr={},Tr=null)=>({...jr,ref:Tr,style:{...jr.style,...Dn}}),[Dn]),$o=reactExports.useCallback((jr={},Tr=null)=>({...jr,ref:mergeRefs(Tr,Or),role:"slider",tabIndex:ar?0:void 0,id:Pr,"data-active":dataAttr(Ut),"aria-valuetext":Jr,"aria-valuemin":et,"aria-valuemax":at,"aria-valuenow":sr,"aria-orientation":Nt,"aria-disabled":ariaAttr(Lt),"aria-readonly":ariaAttr(Vt),"aria-label":pr,"aria-labelledby":pr?void 0:hr,style:{...jr.style,...Zr(0)},onKeyDown:callAllHandlers(jr.onKeyDown,Xr),onFocus:callAllHandlers(jr.onFocus,()=>rr(!0)),onBlur:callAllHandlers(jr.onBlur,()=>rr(!1))}),[ar,Pr,Ut,Jr,et,at,sr,Nt,Lt,Vt,pr,hr,Zr,Xr]),Kn=reactExports.useCallback((jr,Tr=null)=>{const Fr=!(jr.value<et||jr.value>at),Wr=sr>=jr.value,sn=valueToPercent(jr.value,et,at),Jn={position:"absolute",pointerEvents:"none",...orient({orientation:Nt,vertical:{bottom:Cr?`${100-sn}%`:`${sn}%`},horizontal:{left:Cr?`${100-sn}%`:`${sn}%`}})};return{...jr,ref:Tr,role:"presentation","aria-hidden":!0,"data-disabled":dataAttr(Lt),"data-invalid":dataAttr(!Fr),"data-highlighted":dataAttr(Wr),style:{...jr.style,...Jn}}},[Lt,Cr,at,et,Nt,sr]),_i=reactExports.useCallback((jr={},Tr=null)=>({...jr,ref:Tr,type:"hidden",value:sr,name:vr}),[vr,sr]);return{state:{value:sr,isFocused:nr,isDragging:Ut},actions:an,getRootProps:ro,getTrackProps:Hn,getInnerTrackProps:Qn,getThumbProps:$o,getMarkerProps:Kn,getInputProps:_i}}function orient(nt){const{orientation:et,vertical:at,horizontal:mt}=nt;return et==="vertical"?at:mt}function getDefaultValue(nt,et){return et<nt?nt:nt+(et-nt)/2}const[SliderProvider,useSliderContext]=createContext({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[SliderStylesProvider,useSliderStyles]=createContext({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),Slider=forwardRef((nt,et)=>{const at={...nt,orientation:(nt==null?void 0:nt.orientation)??"horizontal"},mt=useMultiStyleConfig("Slider",at),$t=omitThemingProps(at),{direction:Ct}=useTheme();$t.direction=Ct;const{getInputProps:Dt,getRootProps:Ft,...Nt}=useSlider($t),jt=Ft(),Lt=Dt({},et);return jsxRuntimeExports.jsx(SliderProvider,{value:Nt,children:jsxRuntimeExports.jsx(SliderStylesProvider,{value:mt,children:jsxRuntimeExports.jsxs(chakra.div,{...jt,className:cx("chakra-slider",at.className),__css:mt.container,children:[at.children,jsxRuntimeExports.jsx("input",{...Lt})]})})})});Slider.displayName="Slider";const SliderThumb=forwardRef((nt,et)=>{const{getThumbProps:at}=useSliderContext(),mt=useSliderStyles(),$t=at(nt,et);return jsxRuntimeExports.jsx(chakra.div,{...$t,className:cx("chakra-slider__thumb",nt.className),__css:mt.thumb})});SliderThumb.displayName="SliderThumb";const SliderTrack=forwardRef((nt,et)=>{const{getTrackProps:at}=useSliderContext(),mt=useSliderStyles(),$t=at(nt,et);return jsxRuntimeExports.jsx(chakra.div,{...$t,className:cx("chakra-slider__track",nt.className),__css:mt.track})});SliderTrack.displayName="SliderTrack";const SliderFilledTrack=forwardRef((nt,et)=>{const{getInnerTrackProps:at}=useSliderContext(),mt=useSliderStyles(),$t=at(nt,et);return jsxRuntimeExports.jsx(chakra.div,{...$t,className:cx("chakra-slider__filled-track",nt.className),__css:mt.filledTrack})});SliderFilledTrack.displayName="SliderFilledTrack";const SliderMark=forwardRef((nt,et)=>{const{getMarkerProps:at}=useSliderContext(),mt=useSliderStyles(),$t=at(nt,et);return jsxRuntimeExports.jsx(chakra.div,{...$t,className:cx("chakra-slider__marker",nt.className),__css:mt.mark})});SliderMark.displayName="SliderMark";const StackItem=nt=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...nt,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...nt.__css}});StackItem.displayName="StackItem";function getDividerStyles(nt){const{spacing:et,direction:at}=nt,mt={column:{my:et,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:et,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:et,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:et,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(at,$t=>mt[$t])}}const Stack$1=forwardRef((nt,et)=>{const{isInline:at,direction:mt,align:$t,justify:Ct,spacing:Dt="0.5rem",wrap:Ft,children:Nt,divider:jt,className:Lt,shouldWrapChildren:Vt,...er}=nt,ir=at?"row":mt??"column",or=reactExports.useMemo(()=>getDividerStyles({spacing:Dt,direction:ir}),[Dt,ir]),lr=!!jt,dr=!Vt&&!lr,pr=reactExports.useMemo(()=>{const vr=getValidChildren(Nt);return dr?vr:vr.map((br,xr)=>{const Sr=typeof br.key<"u"?br.key:xr,Er=xr+1===vr.length,Cr=Vt?jsxRuntimeExports.jsx(StackItem,{children:br},Sr):br;if(!lr)return Cr;const kr=reactExports.cloneElement(jt,{__css:or}),gr=Er?null:kr;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Cr,gr]},Sr)})},[jt,or,lr,dr,Vt,Nt]),hr=cx("chakra-stack",Lt);return jsxRuntimeExports.jsx(chakra.div,{ref:et,display:"flex",alignItems:$t,justifyContent:Ct,flexDirection:ir,flexWrap:Ft,gap:lr?void 0:Dt,className:hr,...er,children:pr})});Stack$1.displayName="Stack";const HStack=forwardRef((nt,et)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...nt,direction:"row",ref:et}));HStack.displayName="HStack";const VStack=forwardRef((nt,et)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...nt,direction:"column",ref:et}));VStack.displayName="VStack";const[TagStylesProvider,useTagStyles]=createContext({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Tag=forwardRef((nt,et)=>{const at=useMultiStyleConfig("Tag",nt),mt=omitThemingProps(nt),$t={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...at.container};return jsxRuntimeExports.jsx(TagStylesProvider,{value:at,children:jsxRuntimeExports.jsx(chakra.span,{ref:et,...mt,__css:$t})})});Tag.displayName="Tag";const TagLabel=forwardRef((nt,et)=>{const at=useTagStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:et,noOfLines:1,...nt,__css:at.label})});TagLabel.displayName="TagLabel";const TagLeftIcon=forwardRef((nt,et)=>jsxRuntimeExports.jsx(Icon$1,{ref:et,verticalAlign:"top",marginEnd:"0.5rem",...nt}));TagLeftIcon.displayName="TagLeftIcon";const TagRightIcon=forwardRef((nt,et)=>jsxRuntimeExports.jsx(Icon$1,{ref:et,verticalAlign:"top",marginStart:"0.5rem",...nt}));TagRightIcon.displayName="TagRightIcon";const TagCloseIcon=nt=>jsxRuntimeExports.jsx(Icon$1,{verticalAlign:"inherit",viewBox:"0 0 512 512",...nt,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});TagCloseIcon.displayName="TagCloseIcon";const TagCloseButton=forwardRef((nt,et)=>{const{isDisabled:at,children:mt,...$t}=nt,Dt={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...useTagStyles().closeButton};return jsxRuntimeExports.jsx(chakra.button,{ref:et,"aria-label":"close",...$t,type:"button",disabled:at,__css:Dt,children:mt||jsxRuntimeExports.jsx(TagCloseIcon,{})})});TagCloseButton.displayName="TagCloseButton";function getToastPlacement(nt,et){const at=nt??"bottom",$t={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[at];return($t==null?void 0:$t[et])??at}function createToastFn(nt,et){const at=$t=>({...et,...$t,position:getToastPlacement(($t==null?void 0:$t.position)??(et==null?void 0:et.position),nt)}),mt=$t=>{const Ct=at($t),Dt=createRenderToast(Ct);return toastStore.notify(Dt,Ct)};return mt.update=($t,Ct)=>{toastStore.update($t,at(Ct))},mt.promise=($t,Ct)=>{const Dt=mt({...Ct.loading,status:"loading",duration:null});$t.then(Ft=>mt.update(Dt,{status:"success",duration:5e3,...runIfFn$1(Ct.success,Ft)})).catch(Ft=>mt.update(Dt,{status:"error",duration:5e3,...runIfFn$1(Ct.error,Ft)}))},mt.closeAll=toastStore.closeAll,mt.close=toastStore.close,mt.isActive=toastStore.isActive,mt}function useToast(nt){const{theme:et}=useChakra(),at=useToastOptionContext();return reactExports.useMemo(()=>createToastFn(et.direction,{...at,...nt}),[nt,et.direction,at])}const scale={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},getDoc=nt=>{var et;return((et=nt.current)==null?void 0:et.ownerDocument)||document},getWin=nt=>{var et,at;return((at=(et=nt.current)==null?void 0:et.ownerDocument)==null?void 0:at.defaultView)||window};function useTooltip(nt={}){const{openDelay:et=0,closeDelay:at=0,closeOnClick:mt=!0,closeOnMouseDown:$t,closeOnScroll:Ct,closeOnPointerDown:Dt=$t,closeOnEsc:Ft=!0,onOpen:Nt,onClose:jt,placement:Lt,id:Vt,isOpen:er,defaultIsOpen:ir,arrowSize:or=10,arrowShadowColor:lr,arrowPadding:dr,modifiers:pr,isDisabled:hr,gutter:vr,offset:br,direction:xr,...Sr}=nt,{isOpen:Er,onOpen:$r,onClose:Cr}=useDisclosure({isOpen:er,defaultIsOpen:ir,onOpen:Nt,onClose:jt}),{referenceRef:kr,getPopperProps:gr,getArrowInnerProps:Ut,getArrowProps:tr}=usePopper({enabled:Er,placement:Lt,arrowPadding:dr,modifiers:pr,gutter:vr,offset:br,direction:xr}),nr=reactExports.useId(),ar=`tooltip-${Vt??nr}`,cr=reactExports.useRef(null),fr=reactExports.useRef(),sr=reactExports.useCallback(()=>{fr.current&&(clearTimeout(fr.current),fr.current=void 0)},[]),Yt=reactExports.useRef(),ur=reactExports.useCallback(()=>{Yt.current&&(clearTimeout(Yt.current),Yt.current=void 0)},[]),_r=reactExports.useCallback(()=>{ur(),Cr()},[Cr,ur]),yr=useCloseEvent(cr,_r),wr=reactExports.useCallback(()=>{if(!hr&&!fr.current){Er&&yr();const Rr=getWin(cr);fr.current=Rr.setTimeout($r,et)}},[yr,hr,Er,$r,et]),Ir=reactExports.useCallback(()=>{sr();const Rr=getWin(cr);Yt.current=Rr.setTimeout(_r,at)},[at,_r,sr]),Or=reactExports.useCallback(()=>{Er&&mt&&Ir()},[mt,Ir,Er]),Ar=reactExports.useCallback(()=>{Er&&Dt&&Ir()},[Dt,Ir,Er]),Nr=reactExports.useCallback(Rr=>{Er&&Rr.key==="Escape"&&Ir()},[Er,Ir]);useEventListener(()=>getDoc(cr),"keydown",Ft?Nr:void 0),useEventListener(()=>{if(!Ct)return null;const Rr=cr.current;if(!Rr)return null;const Vr=getScrollParent$1(Rr);return Vr.localName==="body"?getWin(cr):Vr},"scroll",()=>{Er&&Ct&&_r()},{passive:!0,capture:!0}),reactExports.useEffect(()=>{hr&&(sr(),Er&&Cr())},[hr,Er,Cr,sr]),reactExports.useEffect(()=>()=>{sr(),ur()},[sr,ur]),useEventListener(()=>cr.current,"pointerleave",Ir);const Hr=reactExports.useCallback((Rr={},Vr=null)=>({...Rr,ref:mergeRefs(cr,Vr,kr),onPointerEnter:callAllHandlers(Rr.onPointerEnter,Xr=>{Xr.pointerType!=="touch"&&wr()}),onClick:callAllHandlers(Rr.onClick,Or),onPointerDown:callAllHandlers(Rr.onPointerDown,Ar),onFocus:callAllHandlers(Rr.onFocus,wr),onBlur:callAllHandlers(Rr.onBlur,Ir),"aria-describedby":Er?ar:void 0}),[wr,Ir,Ar,Er,ar,Or,kr]),Pr=reactExports.useCallback((Rr={},Vr=null)=>gr({...Rr,style:{...Rr.style,[cssVars.arrowSize.var]:or?`${or}px`:void 0,[cssVars.arrowShadowColor.var]:lr}},Vr),[gr,or,lr]),Dr=reactExports.useCallback((Rr={},Vr=null)=>{const an={...Rr.style,position:"relative",transformOrigin:cssVars.transformOrigin.varRef};return{ref:Vr,...Sr,...Rr,id:ar,role:"tooltip",style:an}},[Sr,ar]);return{isOpen:Er,show:wr,hide:Ir,getTriggerProps:Hr,getTooltipProps:Dr,getTooltipPositionerProps:Pr,getArrowProps:tr,getArrowInnerProps:Ut}}const closeEventName="chakra-ui:close-tooltip";function useCloseEvent(nt,et){return reactExports.useEffect(()=>{const at=getDoc(nt);return at.addEventListener(closeEventName,et),()=>at.removeEventListener(closeEventName,et)},[et,nt]),()=>{const at=getDoc(nt),mt=getWin(nt);at.dispatchEvent(new mt.CustomEvent(closeEventName))}}const MotionDiv=chakra(motion.div),Tooltip=forwardRef((nt,et)=>{const at=useStyleConfig("Tooltip",nt),mt=omitThemingProps(nt),$t=useTheme(),{children:Ct,label:Dt,shouldWrapChildren:Ft,"aria-label":Nt,hasArrow:jt,bg:Lt,portalProps:Vt,background:er,backgroundColor:ir,bgColor:or,motionProps:lr,animatePresenceProps:dr,...pr}=mt,hr=er??ir??Lt??or;if(hr){at.bg=hr;const kr=getCSSVar($t,"colors",hr);at[cssVars.arrowBg.var]=kr}const vr=useTooltip({...pr,direction:$t.direction}),br=!reactExports.isValidElement(Ct)||Ft;let xr;if(br)xr=jsxRuntimeExports.jsx(chakra.span,{display:"inline-block",tabIndex:0,...vr.getTriggerProps(),children:Ct});else{const kr=reactExports.Children.only(Ct);xr=reactExports.cloneElement(kr,vr.getTriggerProps(kr.props,kr.ref))}const Sr=!!Nt,Er=vr.getTooltipProps({},et),$r=Sr?omit(Er,["role","id"]):Er,Cr=pick(Er,["role","id"]);return Dt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[xr,jsxRuntimeExports.jsx(AnimatePresence,{...dr,children:vr.isOpen&&jsxRuntimeExports.jsx(Portal,{...Vt,children:jsxRuntimeExports.jsx(chakra.div,{...vr.getTooltipPositionerProps(),__css:{zIndex:at.zIndex,pointerEvents:"none"},children:jsxRuntimeExports.jsxs(MotionDiv,{variants:scale,initial:"exit",animate:"enter",exit:"exit",...lr,...$r,__css:at,children:[Dt,Sr&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,...Cr,children:Nt}),jt&&jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:at.bg}})})]})})})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ct})});Tooltip.displayName="Tooltip";const Heading=forwardRef(function nt(et,at){const mt=useStyleConfig("Heading",et),{className:$t,...Ct}=omitThemingProps(et);return jsxRuntimeExports.jsx(chakra.h2,{ref:at,className:cx("chakra-heading",et.className),...Ct,__css:mt})});Heading.displayName="Heading";const Text=forwardRef(function nt(et,at){const mt=useStyleConfig("Text",et),{className:$t,align:Ct,decoration:Dt,casing:Ft,...Nt}=omitThemingProps(et),jt=compact({textAlign:et.align,textDecoration:et.decoration,textTransform:et.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:at,className:cx("chakra-text",et.className),...jt,...Nt,__css:mt})});Text.displayName="Text";function SwitchChain({chainsList:nt,currentChain:et,onChange:at}){const{isApp:mt}=useWindowWidth();return jsxRuntimeExports.jsx(Menu,{isLazy:!0,children:({isOpen:$t})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MenuButton,{as:Button,variant:"outline",h:"36px",borderRadius:"8px",p:mt?"6px":"6px 11px",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Image$1,{src:et.icon,w:"20px",h:"20px",borderRadius:"50%"}),!mt&&jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:et.name})]})})})})}const isSuiObjectType=nt=>nt.split("::").length==3,add0x=nt=>{console.log(nt,"add0x");let et;return nt.startsWith("0x")?et=nt:et=`0x${nt}`,et},getSuiObjectType=nt=>{const et=nt.split("::");return et.length==3?`${add0x(et[0])}::${et[1]}::${et[2].toUpperCase()}`.replace(/\s+/g,""):nt.toLowerCase()};function suiAddressLongToShort(nt){return nt.toLocaleLowerCase()=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::sui"?"0x2::sui::SUI":nt}const fetchGet=async function(nt,et,at=3e4){const mt=[];let $t="";if(et){for(const Nt in et){const jt=`${Nt}=${et[Nt]}`;mt.push(jt)}const Ft=mt.join("&");$t=`${nt}?${Ft}`}else $t=nt;const Ct=new AbortController,Dt=setTimeout(()=>{Ct.abort()},at);try{const Ft=await fetch($t,{signal:Ct.signal});if(clearTimeout(Dt),!Ft.ok)throw new Error("Request failed");const Nt=await Ft.json();return(Nt==null?void 0:Nt.data)||Nt}catch(Ft){throw clearTimeout(Dt),Ft.name==="AbortError"?new Error("request time out"):Ft}},fetchPost=async function(nt,et,at=3e4,mt){const $t=new AbortController,Ct=setTimeout(()=>{$t.abort()},at);try{const Dt=await fetch(nt,{headers:mt,body:JSON.stringify(et),method:"POST",signal:$t.signal});if(clearTimeout(Ct),!Dt.ok)throw new Error("Request failed");return Dt.json()}catch(Dt){throw clearTimeout(Ct),Dt.name==="AbortError"?new Error("request time out"):Dt}};/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT$1=9e15,MAX_DIGITS$1=1e9,NUMERALS$1="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI$1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT$1,maxE:EXP_LIMIT$1,crypto:!1},inexact$1,quadrant$1,external$1=!0,decimalError$1="[DecimalError] ",invalidArgument$1=decimalError$1+"Invalid argument: ",precisionLimitExceeded$1=decimalError$1+"Precision limit exceeded",cryptoUnavailable$1=decimalError$1+"crypto unavailable",tag$1="[object Decimal]",mathfloor$1=Math.floor,mathpow$1=Math.pow,isBinary$1=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex$1=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal$1=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal$1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE$1=1e7,LOG_BASE$1=7,MAX_SAFE_INTEGER$3=9007199254740991,LN10_PRECISION$1=LN10$1.length-1,PI_PRECISION$1=PI$1.length-1,P$3={toStringTag:tag$1};P$3.absoluteValue=P$3.abs=function(){var nt=new this.constructor(this);return nt.s<0&&(nt.s=1),finalise$1(nt)};P$3.ceil=function(){return finalise$1(new this.constructor(this),this.e+1,2)};P$3.clampedTo=P$3.clamp=function(nt,et){var at,mt=this,$t=mt.constructor;if(nt=new $t(nt),et=new $t(et),!nt.s||!et.s)return new $t(NaN);if(nt.gt(et))throw Error(invalidArgument$1+et);return at=mt.cmp(nt),at<0?nt:mt.cmp(et)>0?et:new $t(mt)};P$3.comparedTo=P$3.cmp=function(nt){var et,at,mt,$t,Ct=this,Dt=Ct.d,Ft=(nt=new Ct.constructor(nt)).d,Nt=Ct.s,jt=nt.s;if(!Dt||!Ft)return!Nt||!jt?NaN:Nt!==jt?Nt:Dt===Ft?0:!Dt^Nt<0?1:-1;if(!Dt[0]||!Ft[0])return Dt[0]?Nt:Ft[0]?-jt:0;if(Nt!==jt)return Nt;if(Ct.e!==nt.e)return Ct.e>nt.e^Nt<0?1:-1;for(mt=Dt.length,$t=Ft.length,et=0,at=mt<$t?mt:$t;et<at;++et)if(Dt[et]!==Ft[et])return Dt[et]>Ft[et]^Nt<0?1:-1;return mt===$t?0:mt>$t^Nt<0?1:-1};P$3.cosine=P$3.cos=function(){var nt,et,at=this,mt=at.constructor;return at.d?at.d[0]?(nt=mt.precision,et=mt.rounding,mt.precision=nt+Math.max(at.e,at.sd())+LOG_BASE$1,mt.rounding=1,at=cosine$1(mt,toLessThanHalfPi$1(mt,at)),mt.precision=nt,mt.rounding=et,finalise$1(quadrant$1==2||quadrant$1==3?at.neg():at,nt,et,!0)):new mt(1):new mt(NaN)};P$3.cubeRoot=P$3.cbrt=function(){var nt,et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt=this,Vt=Lt.constructor;if(!Lt.isFinite()||Lt.isZero())return new Vt(Lt);for(external$1=!1,Ct=Lt.s*mathpow$1(Lt.s*Lt,1/3),!Ct||Math.abs(Ct)==1/0?(at=digitsToString$1(Lt.d),nt=Lt.e,(Ct=(nt-at.length+1)%3)&&(at+=Ct==1||Ct==-2?"0":"00"),Ct=mathpow$1(at,1/3),nt=mathfloor$1((nt+1)/3)-(nt%3==(nt<0?-1:2)),Ct==1/0?at="5e"+nt:(at=Ct.toExponential(),at=at.slice(0,at.indexOf("e")+1)+nt),mt=new Vt(at),mt.s=Lt.s):mt=new Vt(Ct.toString()),Dt=(nt=Vt.precision)+3;;)if(Ft=mt,Nt=Ft.times(Ft).times(Ft),jt=Nt.plus(Lt),mt=divide$2(jt.plus(Lt).times(Ft),jt.plus(Nt),Dt+2,1),digitsToString$1(Ft.d).slice(0,Dt)===(at=digitsToString$1(mt.d)).slice(0,Dt))if(at=at.slice(Dt-3,Dt+1),at=="9999"||!$t&&at=="4999"){if(!$t&&(finalise$1(Ft,nt+1,0),Ft.times(Ft).times(Ft).eq(Lt))){mt=Ft;break}Dt+=4,$t=1}else{(!+at||!+at.slice(1)&&at.charAt(0)=="5")&&(finalise$1(mt,nt+1,1),et=!mt.times(mt).times(mt).eq(Lt));break}return external$1=!0,finalise$1(mt,nt,Vt.rounding,et)};P$3.decimalPlaces=P$3.dp=function(){var nt,et=this.d,at=NaN;if(et){if(nt=et.length-1,at=(nt-mathfloor$1(this.e/LOG_BASE$1))*LOG_BASE$1,nt=et[nt],nt)for(;nt%10==0;nt/=10)at--;at<0&&(at=0)}return at};P$3.dividedBy=P$3.div=function(nt){return divide$2(this,new this.constructor(nt))};P$3.dividedToIntegerBy=P$3.divToInt=function(nt){var et=this,at=et.constructor;return finalise$1(divide$2(et,new at(nt),0,1,1),at.precision,at.rounding)};P$3.equals=P$3.eq=function(nt){return this.cmp(nt)===0};P$3.floor=function(){return finalise$1(new this.constructor(this),this.e+1,3)};P$3.greaterThan=P$3.gt=function(nt){return this.cmp(nt)>0};P$3.greaterThanOrEqualTo=P$3.gte=function(nt){var et=this.cmp(nt);return et==1||et===0};P$3.hyperbolicCosine=P$3.cosh=function(){var nt,et,at,mt,$t,Ct=this,Dt=Ct.constructor,Ft=new Dt(1);if(!Ct.isFinite())return new Dt(Ct.s?1/0:NaN);if(Ct.isZero())return Ft;at=Dt.precision,mt=Dt.rounding,Dt.precision=at+Math.max(Ct.e,Ct.sd())+4,Dt.rounding=1,$t=Ct.d.length,$t<32?(nt=Math.ceil($t/3),et=(1/tinyPow$1(4,nt)).toString()):(nt=16,et="2.3283064365386962890625e-10"),Ct=taylorSeries$1(Dt,1,Ct.times(et),new Dt(1),!0);for(var Nt,jt=nt,Lt=new Dt(8);jt--;)Nt=Ct.times(Ct),Ct=Ft.minus(Nt.times(Lt.minus(Nt.times(Lt))));return finalise$1(Ct,Dt.precision=at,Dt.rounding=mt,!0)};P$3.hyperbolicSine=P$3.sinh=function(){var nt,et,at,mt,$t=this,Ct=$t.constructor;if(!$t.isFinite()||$t.isZero())return new Ct($t);if(et=Ct.precision,at=Ct.rounding,Ct.precision=et+Math.max($t.e,$t.sd())+4,Ct.rounding=1,mt=$t.d.length,mt<3)$t=taylorSeries$1(Ct,2,$t,$t,!0);else{nt=1.4*Math.sqrt(mt),nt=nt>16?16:nt|0,$t=$t.times(1/tinyPow$1(5,nt)),$t=taylorSeries$1(Ct,2,$t,$t,!0);for(var Dt,Ft=new Ct(5),Nt=new Ct(16),jt=new Ct(20);nt--;)Dt=$t.times($t),$t=$t.times(Ft.plus(Dt.times(Nt.times(Dt).plus(jt))))}return Ct.precision=et,Ct.rounding=at,finalise$1($t,et,at,!0)};P$3.hyperbolicTangent=P$3.tanh=function(){var nt,et,at=this,mt=at.constructor;return at.isFinite()?at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+7,mt.rounding=1,divide$2(at.sinh(),at.cosh(),mt.precision=nt,mt.rounding=et)):new mt(at.s)};P$3.inverseCosine=P$3.acos=function(){var nt,et=this,at=et.constructor,mt=et.abs().cmp(1),$t=at.precision,Ct=at.rounding;return mt!==-1?mt===0?et.isNeg()?getPi$1(at,$t,Ct):new at(0):new at(NaN):et.isZero()?getPi$1(at,$t+4,Ct).times(.5):(at.precision=$t+6,at.rounding=1,et=et.asin(),nt=getPi$1(at,$t+4,Ct).times(.5),at.precision=$t,at.rounding=Ct,nt.minus(et))};P$3.inverseHyperbolicCosine=P$3.acosh=function(){var nt,et,at=this,mt=at.constructor;return at.lte(1)?new mt(at.eq(1)?0:NaN):at.isFinite()?(nt=mt.precision,et=mt.rounding,mt.precision=nt+Math.max(Math.abs(at.e),at.sd())+4,mt.rounding=1,external$1=!1,at=at.times(at).minus(1).sqrt().plus(at),external$1=!0,mt.precision=nt,mt.rounding=et,at.ln()):new mt(at)};P$3.inverseHyperbolicSine=P$3.asinh=function(){var nt,et,at=this,mt=at.constructor;return!at.isFinite()||at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+2*Math.max(Math.abs(at.e),at.sd())+6,mt.rounding=1,external$1=!1,at=at.times(at).plus(1).sqrt().plus(at),external$1=!0,mt.precision=nt,mt.rounding=et,at.ln())};P$3.inverseHyperbolicTangent=P$3.atanh=function(){var nt,et,at,mt,$t=this,Ct=$t.constructor;return $t.isFinite()?$t.e>=0?new Ct($t.abs().eq(1)?$t.s/0:$t.isZero()?$t:NaN):(nt=Ct.precision,et=Ct.rounding,mt=$t.sd(),Math.max(mt,nt)<2*-$t.e-1?finalise$1(new Ct($t),nt,et,!0):(Ct.precision=at=mt-$t.e,$t=divide$2($t.plus(1),new Ct(1).minus($t),at+nt,1),Ct.precision=nt+4,Ct.rounding=1,$t=$t.ln(),Ct.precision=nt,Ct.rounding=et,$t.times(.5))):new Ct(NaN)};P$3.inverseSine=P$3.asin=function(){var nt,et,at,mt,$t=this,Ct=$t.constructor;return $t.isZero()?new Ct($t):(et=$t.abs().cmp(1),at=Ct.precision,mt=Ct.rounding,et!==-1?et===0?(nt=getPi$1(Ct,at+4,mt).times(.5),nt.s=$t.s,nt):new Ct(NaN):(Ct.precision=at+6,Ct.rounding=1,$t=$t.div(new Ct(1).minus($t.times($t)).sqrt().plus(1)).atan(),Ct.precision=at,Ct.rounding=mt,$t.times(2)))};P$3.inverseTangent=P$3.atan=function(){var nt,et,at,mt,$t,Ct,Dt,Ft,Nt,jt=this,Lt=jt.constructor,Vt=Lt.precision,er=Lt.rounding;if(jt.isFinite()){if(jt.isZero())return new Lt(jt);if(jt.abs().eq(1)&&Vt+4<=PI_PRECISION$1)return Dt=getPi$1(Lt,Vt+4,er).times(.25),Dt.s=jt.s,Dt}else{if(!jt.s)return new Lt(NaN);if(Vt+4<=PI_PRECISION$1)return Dt=getPi$1(Lt,Vt+4,er).times(.5),Dt.s=jt.s,Dt}for(Lt.precision=Ft=Vt+10,Lt.rounding=1,at=Math.min(28,Ft/LOG_BASE$1+2|0),nt=at;nt;--nt)jt=jt.div(jt.times(jt).plus(1).sqrt().plus(1));for(external$1=!1,et=Math.ceil(Ft/LOG_BASE$1),mt=1,Nt=jt.times(jt),Dt=new Lt(jt),$t=jt;nt!==-1;)if($t=$t.times(Nt),Ct=Dt.minus($t.div(mt+=2)),$t=$t.times(Nt),Dt=Ct.plus($t.div(mt+=2)),Dt.d[et]!==void 0)for(nt=et;Dt.d[nt]===Ct.d[nt]&&nt--;);return at&&(Dt=Dt.times(2<<at-1)),external$1=!0,finalise$1(Dt,Lt.precision=Vt,Lt.rounding=er,!0)};P$3.isFinite=function(){return!!this.d};P$3.isInteger=P$3.isInt=function(){return!!this.d&&mathfloor$1(this.e/LOG_BASE$1)>this.d.length-2};P$3.isNaN=function(){return!this.s};P$3.isNegative=P$3.isNeg=function(){return this.s<0};P$3.isPositive=P$3.isPos=function(){return this.s>0};P$3.isZero=function(){return!!this.d&&this.d[0]===0};P$3.lessThan=P$3.lt=function(nt){return this.cmp(nt)<0};P$3.lessThanOrEqualTo=P$3.lte=function(nt){return this.cmp(nt)<1};P$3.logarithm=P$3.log=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt=this,Lt=jt.constructor,Vt=Lt.precision,er=Lt.rounding,ir=5;if(nt==null)nt=new Lt(10),et=!0;else{if(nt=new Lt(nt),at=nt.d,nt.s<0||!at||!at[0]||nt.eq(1))return new Lt(NaN);et=nt.eq(10)}if(at=jt.d,jt.s<0||!at||!at[0]||jt.eq(1))return new Lt(at&&!at[0]?-1/0:jt.s!=1?NaN:at?0:1/0);if(et)if(at.length>1)Ct=!0;else{for($t=at[0];$t%10===0;)$t/=10;Ct=$t!==1}if(external$1=!1,Ft=Vt+ir,Dt=naturalLogarithm$1(jt,Ft),mt=et?getLn10$1(Lt,Ft+10):naturalLogarithm$1(nt,Ft),Nt=divide$2(Dt,mt,Ft,1),checkRoundingDigits$1(Nt.d,$t=Vt,er))do if(Ft+=10,Dt=naturalLogarithm$1(jt,Ft),mt=et?getLn10$1(Lt,Ft+10):naturalLogarithm$1(nt,Ft),Nt=divide$2(Dt,mt,Ft,1),!Ct){+digitsToString$1(Nt.d).slice($t+1,$t+15)+1==1e14&&(Nt=finalise$1(Nt,Vt+1,0));break}while(checkRoundingDigits$1(Nt.d,$t+=10,er));return external$1=!0,finalise$1(Nt,Vt,er)};P$3.minus=P$3.sub=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=this,or=ir.constructor;if(nt=new or(nt),!ir.d||!nt.d)return!ir.s||!nt.s?nt=new or(NaN):ir.d?nt.s=-nt.s:nt=new or(nt.d||ir.s!==nt.s?ir:NaN),nt;if(ir.s!=nt.s)return nt.s=-nt.s,ir.plus(nt);if(jt=ir.d,er=nt.d,Ft=or.precision,Nt=or.rounding,!jt[0]||!er[0]){if(er[0])nt.s=-nt.s;else if(jt[0])nt=new or(ir);else return new or(Nt===3?-0:0);return external$1?finalise$1(nt,Ft,Nt):nt}if(at=mathfloor$1(nt.e/LOG_BASE$1),Lt=mathfloor$1(ir.e/LOG_BASE$1),jt=jt.slice(),Ct=Lt-at,Ct){for(Vt=Ct<0,Vt?(et=jt,Ct=-Ct,Dt=er.length):(et=er,at=Lt,Dt=jt.length),mt=Math.max(Math.ceil(Ft/LOG_BASE$1),Dt)+2,Ct>mt&&(Ct=mt,et.length=1),et.reverse(),mt=Ct;mt--;)et.push(0);et.reverse()}else{for(mt=jt.length,Dt=er.length,Vt=mt<Dt,Vt&&(Dt=mt),mt=0;mt<Dt;mt++)if(jt[mt]!=er[mt]){Vt=jt[mt]<er[mt];break}Ct=0}for(Vt&&(et=jt,jt=er,er=et,nt.s=-nt.s),Dt=jt.length,mt=er.length-Dt;mt>0;--mt)jt[Dt++]=0;for(mt=er.length;mt>Ct;){if(jt[--mt]<er[mt]){for($t=mt;$t&&jt[--$t]===0;)jt[$t]=BASE$1-1;--jt[$t],jt[mt]+=BASE$1}jt[mt]-=er[mt]}for(;jt[--Dt]===0;)jt.pop();for(;jt[0]===0;jt.shift())--at;return jt[0]?(nt.d=jt,nt.e=getBase10Exponent$1(jt,at),external$1?finalise$1(nt,Ft,Nt):nt):new or(Nt===3?-0:0)};P$3.modulo=P$3.mod=function(nt){var et,at=this,mt=at.constructor;return nt=new mt(nt),!at.d||!nt.s||nt.d&&!nt.d[0]?new mt(NaN):!nt.d||at.d&&!at.d[0]?finalise$1(new mt(at),mt.precision,mt.rounding):(external$1=!1,mt.modulo==9?(et=divide$2(at,nt.abs(),0,3,1),et.s*=nt.s):et=divide$2(at,nt,0,mt.modulo,1),et=et.times(nt),external$1=!0,at.minus(et))};P$3.naturalExponential=P$3.exp=function(){return naturalExponential$1(this)};P$3.naturalLogarithm=P$3.ln=function(){return naturalLogarithm$1(this)};P$3.negated=P$3.neg=function(){var nt=new this.constructor(this);return nt.s=-nt.s,finalise$1(nt)};P$3.plus=P$3.add=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt=this,er=Vt.constructor;if(nt=new er(nt),!Vt.d||!nt.d)return!Vt.s||!nt.s?nt=new er(NaN):Vt.d||(nt=new er(nt.d||Vt.s===nt.s?Vt:NaN)),nt;if(Vt.s!=nt.s)return nt.s=-nt.s,Vt.minus(nt);if(jt=Vt.d,Lt=nt.d,Ft=er.precision,Nt=er.rounding,!jt[0]||!Lt[0])return Lt[0]||(nt=new er(Vt)),external$1?finalise$1(nt,Ft,Nt):nt;if(Ct=mathfloor$1(Vt.e/LOG_BASE$1),mt=mathfloor$1(nt.e/LOG_BASE$1),jt=jt.slice(),$t=Ct-mt,$t){for($t<0?(at=jt,$t=-$t,Dt=Lt.length):(at=Lt,mt=Ct,Dt=jt.length),Ct=Math.ceil(Ft/LOG_BASE$1),Dt=Ct>Dt?Ct+1:Dt+1,$t>Dt&&($t=Dt,at.length=1),at.reverse();$t--;)at.push(0);at.reverse()}for(Dt=jt.length,$t=Lt.length,Dt-$t<0&&($t=Dt,at=Lt,Lt=jt,jt=at),et=0;$t;)et=(jt[--$t]=jt[$t]+Lt[$t]+et)/BASE$1|0,jt[$t]%=BASE$1;for(et&&(jt.unshift(et),++mt),Dt=jt.length;jt[--Dt]==0;)jt.pop();return nt.d=jt,nt.e=getBase10Exponent$1(jt,mt),external$1?finalise$1(nt,Ft,Nt):nt};P$3.precision=P$3.sd=function(nt){var et,at=this;if(nt!==void 0&&nt!==!!nt&&nt!==1&&nt!==0)throw Error(invalidArgument$1+nt);return at.d?(et=getPrecision$1(at.d),nt&&at.e+1>et&&(et=at.e+1)):et=NaN,et};P$3.round=function(){var nt=this,et=nt.constructor;return finalise$1(new et(nt),nt.e+1,et.rounding)};P$3.sine=P$3.sin=function(){var nt,et,at=this,mt=at.constructor;return at.isFinite()?at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+Math.max(at.e,at.sd())+LOG_BASE$1,mt.rounding=1,at=sine$1(mt,toLessThanHalfPi$1(mt,at)),mt.precision=nt,mt.rounding=et,finalise$1(quadrant$1>2?at.neg():at,nt,et,!0)):new mt(NaN)};P$3.squareRoot=P$3.sqrt=function(){var nt,et,at,mt,$t,Ct,Dt=this,Ft=Dt.d,Nt=Dt.e,jt=Dt.s,Lt=Dt.constructor;if(jt!==1||!Ft||!Ft[0])return new Lt(!jt||jt<0&&(!Ft||Ft[0])?NaN:Ft?Dt:1/0);for(external$1=!1,jt=Math.sqrt(+Dt),jt==0||jt==1/0?(et=digitsToString$1(Ft),(et.length+Nt)%2==0&&(et+="0"),jt=Math.sqrt(et),Nt=mathfloor$1((Nt+1)/2)-(Nt<0||Nt%2),jt==1/0?et="5e"+Nt:(et=jt.toExponential(),et=et.slice(0,et.indexOf("e")+1)+Nt),mt=new Lt(et)):mt=new Lt(jt.toString()),at=(Nt=Lt.precision)+3;;)if(Ct=mt,mt=Ct.plus(divide$2(Dt,Ct,at+2,1)).times(.5),digitsToString$1(Ct.d).slice(0,at)===(et=digitsToString$1(mt.d)).slice(0,at))if(et=et.slice(at-3,at+1),et=="9999"||!$t&&et=="4999"){if(!$t&&(finalise$1(Ct,Nt+1,0),Ct.times(Ct).eq(Dt))){mt=Ct;break}at+=4,$t=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise$1(mt,Nt+1,1),nt=!mt.times(mt).eq(Dt));break}return external$1=!0,finalise$1(mt,Nt,Lt.rounding,nt)};P$3.tangent=P$3.tan=function(){var nt,et,at=this,mt=at.constructor;return at.isFinite()?at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+10,mt.rounding=1,at=at.sin(),at.s=1,at=divide$2(at,new mt(1).minus(at.times(at)).sqrt(),nt+10,0),mt.precision=nt,mt.rounding=et,finalise$1(quadrant$1==2||quadrant$1==4?at.neg():at,nt,et,!0)):new mt(NaN)};P$3.times=P$3.mul=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt=this,Vt=Lt.constructor,er=Lt.d,ir=(nt=new Vt(nt)).d;if(nt.s*=Lt.s,!er||!er[0]||!ir||!ir[0])return new Vt(!nt.s||er&&!er[0]&&!ir||ir&&!ir[0]&&!er?NaN:!er||!ir?nt.s/0:nt.s*0);for(at=mathfloor$1(Lt.e/LOG_BASE$1)+mathfloor$1(nt.e/LOG_BASE$1),Nt=er.length,jt=ir.length,Nt<jt&&(Ct=er,er=ir,ir=Ct,Dt=Nt,Nt=jt,jt=Dt),Ct=[],Dt=Nt+jt,mt=Dt;mt--;)Ct.push(0);for(mt=jt;--mt>=0;){for(et=0,$t=Nt+mt;$t>mt;)Ft=Ct[$t]+ir[mt]*er[$t-mt-1]+et,Ct[$t--]=Ft%BASE$1|0,et=Ft/BASE$1|0;Ct[$t]=(Ct[$t]+et)%BASE$1|0}for(;!Ct[--Dt];)Ct.pop();return et?++at:Ct.shift(),nt.d=Ct,nt.e=getBase10Exponent$1(Ct,at),external$1?finalise$1(nt,Vt.precision,Vt.rounding):nt};P$3.toBinary=function(nt,et){return toStringBinary$1(this,2,nt,et)};P$3.toDecimalPlaces=P$3.toDP=function(nt,et){var at=this,mt=at.constructor;return at=new mt(at),nt===void 0?at:(checkInt32$1(nt,0,MAX_DIGITS$1),et===void 0?et=mt.rounding:checkInt32$1(et,0,8),finalise$1(at,nt+at.e+1,et))};P$3.toExponential=function(nt,et){var at,mt=this,$t=mt.constructor;return nt===void 0?at=finiteToString$1(mt,!0):(checkInt32$1(nt,0,MAX_DIGITS$1),et===void 0?et=$t.rounding:checkInt32$1(et,0,8),mt=finalise$1(new $t(mt),nt+1,et),at=finiteToString$1(mt,!0,nt+1)),mt.isNeg()&&!mt.isZero()?"-"+at:at};P$3.toFixed=function(nt,et){var at,mt,$t=this,Ct=$t.constructor;return nt===void 0?at=finiteToString$1($t):(checkInt32$1(nt,0,MAX_DIGITS$1),et===void 0?et=Ct.rounding:checkInt32$1(et,0,8),mt=finalise$1(new Ct($t),nt+$t.e+1,et),at=finiteToString$1(mt,!1,nt+mt.e+1)),$t.isNeg()&&!$t.isZero()?"-"+at:at};P$3.toFraction=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=this,or=ir.d,lr=ir.constructor;if(!or)return new lr(ir);if(jt=at=new lr(1),mt=Nt=new lr(0),et=new lr(mt),Ct=et.e=getPrecision$1(or)-ir.e-1,Dt=Ct%LOG_BASE$1,et.d[0]=mathpow$1(10,Dt<0?LOG_BASE$1+Dt:Dt),nt==null)nt=Ct>0?et:jt;else{if(Ft=new lr(nt),!Ft.isInt()||Ft.lt(jt))throw Error(invalidArgument$1+Ft);nt=Ft.gt(et)?Ct>0?et:jt:Ft}for(external$1=!1,Ft=new lr(digitsToString$1(or)),Lt=lr.precision,lr.precision=Ct=or.length*LOG_BASE$1*2;Vt=divide$2(Ft,et,0,1,1),$t=at.plus(Vt.times(mt)),$t.cmp(nt)!=1;)at=mt,mt=$t,$t=jt,jt=Nt.plus(Vt.times($t)),Nt=$t,$t=et,et=Ft.minus(Vt.times($t)),Ft=$t;return $t=divide$2(nt.minus(at),mt,0,1,1),Nt=Nt.plus($t.times(jt)),at=at.plus($t.times(mt)),Nt.s=jt.s=ir.s,er=divide$2(jt,mt,Ct,1).minus(ir).abs().cmp(divide$2(Nt,at,Ct,1).minus(ir).abs())<1?[jt,mt]:[Nt,at],lr.precision=Lt,external$1=!0,er};P$3.toHexadecimal=P$3.toHex=function(nt,et){return toStringBinary$1(this,16,nt,et)};P$3.toNearest=function(nt,et){var at=this,mt=at.constructor;if(at=new mt(at),nt==null){if(!at.d)return at;nt=new mt(1),et=mt.rounding}else{if(nt=new mt(nt),et===void 0?et=mt.rounding:checkInt32$1(et,0,8),!at.d)return nt.s?at:nt;if(!nt.d)return nt.s&&(nt.s=at.s),nt}return nt.d[0]?(external$1=!1,at=divide$2(at,nt,0,et,1).times(nt),external$1=!0,finalise$1(at)):(nt.s=at.s,at=nt),at};P$3.toNumber=function(){return+this};P$3.toOctal=function(nt,et){return toStringBinary$1(this,8,nt,et)};P$3.toPower=P$3.pow=function(nt){var et,at,mt,$t,Ct,Dt,Ft=this,Nt=Ft.constructor,jt=+(nt=new Nt(nt));if(!Ft.d||!nt.d||!Ft.d[0]||!nt.d[0])return new Nt(mathpow$1(+Ft,jt));if(Ft=new Nt(Ft),Ft.eq(1))return Ft;if(mt=Nt.precision,Ct=Nt.rounding,nt.eq(1))return finalise$1(Ft,mt,Ct);if(et=mathfloor$1(nt.e/LOG_BASE$1),et>=nt.d.length-1&&(at=jt<0?-jt:jt)<=MAX_SAFE_INTEGER$3)return $t=intPow$1(Nt,Ft,at,mt),nt.s<0?new Nt(1).div($t):finalise$1($t,mt,Ct);if(Dt=Ft.s,Dt<0){if(et<nt.d.length-1)return new Nt(NaN);if(nt.d[et]&1||(Dt=1),Ft.e==0&&Ft.d[0]==1&&Ft.d.length==1)return Ft.s=Dt,Ft}return at=mathpow$1(+Ft,jt),et=at==0||!isFinite(at)?mathfloor$1(jt*(Math.log("0."+digitsToString$1(Ft.d))/Math.LN10+Ft.e+1)):new Nt(at+"").e,et>Nt.maxE+1||et<Nt.minE-1?new Nt(et>0?Dt/0:0):(external$1=!1,Nt.rounding=Ft.s=1,at=Math.min(12,(et+"").length),$t=naturalExponential$1(nt.times(naturalLogarithm$1(Ft,mt+at)),mt),$t.d&&($t=finalise$1($t,mt+5,1),checkRoundingDigits$1($t.d,mt,Ct)&&(et=mt+10,$t=finalise$1(naturalExponential$1(nt.times(naturalLogarithm$1(Ft,et+at)),et),et+5,1),+digitsToString$1($t.d).slice(mt+1,mt+15)+1==1e14&&($t=finalise$1($t,mt+1,0)))),$t.s=Dt,external$1=!0,Nt.rounding=Ct,finalise$1($t,mt,Ct))};P$3.toPrecision=function(nt,et){var at,mt=this,$t=mt.constructor;return nt===void 0?at=finiteToString$1(mt,mt.e<=$t.toExpNeg||mt.e>=$t.toExpPos):(checkInt32$1(nt,1,MAX_DIGITS$1),et===void 0?et=$t.rounding:checkInt32$1(et,0,8),mt=finalise$1(new $t(mt),nt,et),at=finiteToString$1(mt,nt<=mt.e||mt.e<=$t.toExpNeg,nt)),mt.isNeg()&&!mt.isZero()?"-"+at:at};P$3.toSignificantDigits=P$3.toSD=function(nt,et){var at=this,mt=at.constructor;return nt===void 0?(nt=mt.precision,et=mt.rounding):(checkInt32$1(nt,1,MAX_DIGITS$1),et===void 0?et=mt.rounding:checkInt32$1(et,0,8)),finalise$1(new mt(at),nt,et)};P$3.toString=function(){var nt=this,et=nt.constructor,at=finiteToString$1(nt,nt.e<=et.toExpNeg||nt.e>=et.toExpPos);return nt.isNeg()&&!nt.isZero()?"-"+at:at};P$3.truncated=P$3.trunc=function(){return finalise$1(new this.constructor(this),this.e+1,1)};P$3.valueOf=P$3.toJSON=function(){var nt=this,et=nt.constructor,at=finiteToString$1(nt,nt.e<=et.toExpNeg||nt.e>=et.toExpPos);return nt.isNeg()?"-"+at:at};function digitsToString$1(nt){var et,at,mt,$t=nt.length-1,Ct="",Dt=nt[0];if($t>0){for(Ct+=Dt,et=1;et<$t;et++)mt=nt[et]+"",at=LOG_BASE$1-mt.length,at&&(Ct+=getZeroString$1(at)),Ct+=mt;Dt=nt[et],mt=Dt+"",at=LOG_BASE$1-mt.length,at&&(Ct+=getZeroString$1(at))}else if(Dt===0)return"0";for(;Dt%10===0;)Dt/=10;return Ct+Dt}function checkInt32$1(nt,et,at){if(nt!==~~nt||nt<et||nt>at)throw Error(invalidArgument$1+nt)}function checkRoundingDigits$1(nt,et,at,mt){var $t,Ct,Dt,Ft;for(Ct=nt[0];Ct>=10;Ct/=10)--et;return--et<0?(et+=LOG_BASE$1,$t=0):($t=Math.ceil((et+1)/LOG_BASE$1),et%=LOG_BASE$1),Ct=mathpow$1(10,LOG_BASE$1-et),Ft=nt[$t]%Ct|0,mt==null?et<3?(et==0?Ft=Ft/100|0:et==1&&(Ft=Ft/10|0),Dt=at<4&&Ft==99999||at>3&&Ft==49999||Ft==5e4||Ft==0):Dt=(at<4&&Ft+1==Ct||at>3&&Ft+1==Ct/2)&&(nt[$t+1]/Ct/100|0)==mathpow$1(10,et-2)-1||(Ft==Ct/2||Ft==0)&&(nt[$t+1]/Ct/100|0)==0:et<4?(et==0?Ft=Ft/1e3|0:et==1?Ft=Ft/100|0:et==2&&(Ft=Ft/10|0),Dt=(mt||at<4)&&Ft==9999||!mt&&at>3&&Ft==4999):Dt=((mt||at<4)&&Ft+1==Ct||!mt&&at>3&&Ft+1==Ct/2)&&(nt[$t+1]/Ct/1e3|0)==mathpow$1(10,et-3)-1,Dt}function convertBase$1(nt,et,at){for(var mt,$t=[0],Ct,Dt=0,Ft=nt.length;Dt<Ft;){for(Ct=$t.length;Ct--;)$t[Ct]*=et;for($t[0]+=NUMERALS$1.indexOf(nt.charAt(Dt++)),mt=0;mt<$t.length;mt++)$t[mt]>at-1&&($t[mt+1]===void 0&&($t[mt+1]=0),$t[mt+1]+=$t[mt]/at|0,$t[mt]%=at)}return $t.reverse()}function cosine$1(nt,et){var at,mt,$t;if(et.isZero())return et;mt=et.d.length,mt<32?(at=Math.ceil(mt/3),$t=(1/tinyPow$1(4,at)).toString()):(at=16,$t="2.3283064365386962890625e-10"),nt.precision+=at,et=taylorSeries$1(nt,1,et.times($t),new nt(1));for(var Ct=at;Ct--;){var Dt=et.times(et);et=Dt.times(Dt).minus(Dt).times(8).plus(1)}return nt.precision-=at,et}var divide$2=function(){function nt(mt,$t,Ct){var Dt,Ft=0,Nt=mt.length;for(mt=mt.slice();Nt--;)Dt=mt[Nt]*$t+Ft,mt[Nt]=Dt%Ct|0,Ft=Dt/Ct|0;return Ft&&mt.unshift(Ft),mt}function et(mt,$t,Ct,Dt){var Ft,Nt;if(Ct!=Dt)Nt=Ct>Dt?1:-1;else for(Ft=Nt=0;Ft<Ct;Ft++)if(mt[Ft]!=$t[Ft]){Nt=mt[Ft]>$t[Ft]?1:-1;break}return Nt}function at(mt,$t,Ct,Dt){for(var Ft=0;Ct--;)mt[Ct]-=Ft,Ft=mt[Ct]<$t[Ct]?1:0,mt[Ct]=Ft*Dt+mt[Ct]-$t[Ct];for(;!mt[0]&&mt.length>1;)mt.shift()}return function(mt,$t,Ct,Dt,Ft,Nt){var jt,Lt,Vt,er,ir,or,lr,dr,pr,hr,vr,br,xr,Sr,Er,$r,Cr,kr,gr,Ut,tr=mt.constructor,nr=mt.s==$t.s?1:-1,rr=mt.d,ar=$t.d;if(!rr||!rr[0]||!ar||!ar[0])return new tr(!mt.s||!$t.s||(rr?ar&&rr[0]==ar[0]:!ar)?NaN:rr&&rr[0]==0||!ar?nr*0:nr/0);for(Nt?(ir=1,Lt=mt.e-$t.e):(Nt=BASE$1,ir=LOG_BASE$1,Lt=mathfloor$1(mt.e/ir)-mathfloor$1($t.e/ir)),gr=ar.length,Cr=rr.length,pr=new tr(nr),hr=pr.d=[],Vt=0;ar[Vt]==(rr[Vt]||0);Vt++);if(ar[Vt]>(rr[Vt]||0)&&Lt--,Ct==null?(Sr=Ct=tr.precision,Dt=tr.rounding):Ft?Sr=Ct+(mt.e-$t.e)+1:Sr=Ct,Sr<0)hr.push(1),or=!0;else{if(Sr=Sr/ir+2|0,Vt=0,gr==1){for(er=0,ar=ar[0],Sr++;(Vt<Cr||er)&&Sr--;Vt++)Er=er*Nt+(rr[Vt]||0),hr[Vt]=Er/ar|0,er=Er%ar|0;or=er||Vt<Cr}else{for(er=Nt/(ar[0]+1)|0,er>1&&(ar=nt(ar,er,Nt),rr=nt(rr,er,Nt),gr=ar.length,Cr=rr.length),$r=gr,vr=rr.slice(0,gr),br=vr.length;br<gr;)vr[br++]=0;Ut=ar.slice(),Ut.unshift(0),kr=ar[0],ar[1]>=Nt/2&&++kr;do er=0,jt=et(ar,vr,gr,br),jt<0?(xr=vr[0],gr!=br&&(xr=xr*Nt+(vr[1]||0)),er=xr/kr|0,er>1?(er>=Nt&&(er=Nt-1),lr=nt(ar,er,Nt),dr=lr.length,br=vr.length,jt=et(lr,vr,dr,br),jt==1&&(er--,at(lr,gr<dr?Ut:ar,dr,Nt))):(er==0&&(jt=er=1),lr=ar.slice()),dr=lr.length,dr<br&&lr.unshift(0),at(vr,lr,br,Nt),jt==-1&&(br=vr.length,jt=et(ar,vr,gr,br),jt<1&&(er++,at(vr,gr<br?Ut:ar,br,Nt))),br=vr.length):jt===0&&(er++,vr=[0]),hr[Vt++]=er,jt&&vr[0]?vr[br++]=rr[$r]||0:(vr=[rr[$r]],br=1);while(($r++<Cr||vr[0]!==void 0)&&Sr--);or=vr[0]!==void 0}hr[0]||hr.shift()}if(ir==1)pr.e=Lt,inexact$1=or;else{for(Vt=1,er=hr[0];er>=10;er/=10)Vt++;pr.e=Vt+Lt*ir-1,finalise$1(pr,Ft?Ct+pr.e+1:Ct,Dt,or)}return pr}}();function finalise$1(nt,et,at,mt){var $t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=nt.constructor;e:if(et!=null){if(Vt=nt.d,!Vt)return nt;for($t=1,Ft=Vt[0];Ft>=10;Ft/=10)$t++;if(Ct=et-$t,Ct<0)Ct+=LOG_BASE$1,Dt=et,Lt=Vt[er=0],Nt=Lt/mathpow$1(10,$t-Dt-1)%10|0;else if(er=Math.ceil((Ct+1)/LOG_BASE$1),Ft=Vt.length,er>=Ft)if(mt){for(;Ft++<=er;)Vt.push(0);Lt=Nt=0,$t=1,Ct%=LOG_BASE$1,Dt=Ct-LOG_BASE$1+1}else break e;else{for(Lt=Ft=Vt[er],$t=1;Ft>=10;Ft/=10)$t++;Ct%=LOG_BASE$1,Dt=Ct-LOG_BASE$1+$t,Nt=Dt<0?0:Lt/mathpow$1(10,$t-Dt-1)%10|0}if(mt=mt||et<0||Vt[er+1]!==void 0||(Dt<0?Lt:Lt%mathpow$1(10,$t-Dt-1)),jt=at<4?(Nt||mt)&&(at==0||at==(nt.s<0?3:2)):Nt>5||Nt==5&&(at==4||mt||at==6&&(Ct>0?Dt>0?Lt/mathpow$1(10,$t-Dt):0:Vt[er-1])%10&1||at==(nt.s<0?8:7)),et<1||!Vt[0])return Vt.length=0,jt?(et-=nt.e+1,Vt[0]=mathpow$1(10,(LOG_BASE$1-et%LOG_BASE$1)%LOG_BASE$1),nt.e=-et||0):Vt[0]=nt.e=0,nt;if(Ct==0?(Vt.length=er,Ft=1,er--):(Vt.length=er+1,Ft=mathpow$1(10,LOG_BASE$1-Ct),Vt[er]=Dt>0?(Lt/mathpow$1(10,$t-Dt)%mathpow$1(10,Dt)|0)*Ft:0),jt)for(;;)if(er==0){for(Ct=1,Dt=Vt[0];Dt>=10;Dt/=10)Ct++;for(Dt=Vt[0]+=Ft,Ft=1;Dt>=10;Dt/=10)Ft++;Ct!=Ft&&(nt.e++,Vt[0]==BASE$1&&(Vt[0]=1));break}else{if(Vt[er]+=Ft,Vt[er]!=BASE$1)break;Vt[er--]=0,Ft=1}for(Ct=Vt.length;Vt[--Ct]===0;)Vt.pop()}return external$1&&(nt.e>ir.maxE?(nt.d=null,nt.e=NaN):nt.e<ir.minE&&(nt.e=0,nt.d=[0])),nt}function finiteToString$1(nt,et,at){if(!nt.isFinite())return nonFiniteToString$1(nt);var mt,$t=nt.e,Ct=digitsToString$1(nt.d),Dt=Ct.length;return et?(at&&(mt=at-Dt)>0?Ct=Ct.charAt(0)+"."+Ct.slice(1)+getZeroString$1(mt):Dt>1&&(Ct=Ct.charAt(0)+"."+Ct.slice(1)),Ct=Ct+(nt.e<0?"e":"e+")+nt.e):$t<0?(Ct="0."+getZeroString$1(-$t-1)+Ct,at&&(mt=at-Dt)>0&&(Ct+=getZeroString$1(mt))):$t>=Dt?(Ct+=getZeroString$1($t+1-Dt),at&&(mt=at-$t-1)>0&&(Ct=Ct+"."+getZeroString$1(mt))):((mt=$t+1)<Dt&&(Ct=Ct.slice(0,mt)+"."+Ct.slice(mt)),at&&(mt=at-Dt)>0&&($t+1===Dt&&(Ct+="."),Ct+=getZeroString$1(mt))),Ct}function getBase10Exponent$1(nt,et){var at=nt[0];for(et*=LOG_BASE$1;at>=10;at/=10)et++;return et}function getLn10$1(nt,et,at){if(et>LN10_PRECISION$1)throw external$1=!0,at&&(nt.precision=at),Error(precisionLimitExceeded$1);return finalise$1(new nt(LN10$1),et,1,!0)}function getPi$1(nt,et,at){if(et>PI_PRECISION$1)throw Error(precisionLimitExceeded$1);return finalise$1(new nt(PI$1),et,at,!0)}function getPrecision$1(nt){var et=nt.length-1,at=et*LOG_BASE$1+1;if(et=nt[et],et){for(;et%10==0;et/=10)at--;for(et=nt[0];et>=10;et/=10)at++}return at}function getZeroString$1(nt){for(var et="";nt--;)et+="0";return et}function intPow$1(nt,et,at,mt){var $t,Ct=new nt(1),Dt=Math.ceil(mt/LOG_BASE$1+4);for(external$1=!1;;){if(at%2&&(Ct=Ct.times(et),truncate$1(Ct.d,Dt)&&($t=!0)),at=mathfloor$1(at/2),at===0){at=Ct.d.length-1,$t&&Ct.d[at]===0&&++Ct.d[at];break}et=et.times(et),truncate$1(et.d,Dt)}return external$1=!0,Ct}function isOdd$1(nt){return nt.d[nt.d.length-1]&1}function maxOrMin$1(nt,et,at){for(var mt,$t=new nt(et[0]),Ct=0;++Ct<et.length;)if(mt=new nt(et[Ct]),mt.s)$t[at](mt)&&($t=mt);else{$t=mt;break}return $t}function naturalExponential$1(nt,et){var at,mt,$t,Ct,Dt,Ft,Nt,jt=0,Lt=0,Vt=0,er=nt.constructor,ir=er.rounding,or=er.precision;if(!nt.d||!nt.d[0]||nt.e>17)return new er(nt.d?nt.d[0]?nt.s<0?0:1/0:1:nt.s?nt.s<0?0:nt:NaN);for(et==null?(external$1=!1,Nt=or):Nt=et,Ft=new er(.03125);nt.e>-2;)nt=nt.times(Ft),Vt+=5;for(mt=Math.log(mathpow$1(2,Vt))/Math.LN10*2+5|0,Nt+=mt,at=Ct=Dt=new er(1),er.precision=Nt;;){if(Ct=finalise$1(Ct.times(nt),Nt,1),at=at.times(++Lt),Ft=Dt.plus(divide$2(Ct,at,Nt,1)),digitsToString$1(Ft.d).slice(0,Nt)===digitsToString$1(Dt.d).slice(0,Nt)){for($t=Vt;$t--;)Dt=finalise$1(Dt.times(Dt),Nt,1);if(et==null)if(jt<3&&checkRoundingDigits$1(Dt.d,Nt-mt,ir,jt))er.precision=Nt+=10,at=Ct=Ft=new er(1),Lt=0,jt++;else return finalise$1(Dt,er.precision=or,ir,external$1=!0);else return er.precision=or,Dt}Dt=Ft}}function naturalLogarithm$1(nt,et){var at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=1,or=10,lr=nt,dr=lr.d,pr=lr.constructor,hr=pr.rounding,vr=pr.precision;if(lr.s<0||!dr||!dr[0]||!lr.e&&dr[0]==1&&dr.length==1)return new pr(dr&&!dr[0]?-1/0:lr.s!=1?NaN:dr?0:lr);if(et==null?(external$1=!1,Lt=vr):Lt=et,pr.precision=Lt+=or,at=digitsToString$1(dr),mt=at.charAt(0),Math.abs(Ct=lr.e)<15e14){for(;mt<7&&mt!=1||mt==1&&at.charAt(1)>3;)lr=lr.times(nt),at=digitsToString$1(lr.d),mt=at.charAt(0),ir++;Ct=lr.e,mt>1?(lr=new pr("0."+at),Ct++):lr=new pr(mt+"."+at.slice(1))}else return jt=getLn10$1(pr,Lt+2,vr).times(Ct+""),lr=naturalLogarithm$1(new pr(mt+"."+at.slice(1)),Lt-or).plus(jt),pr.precision=vr,et==null?finalise$1(lr,vr,hr,external$1=!0):lr;for(Vt=lr,Nt=Dt=lr=divide$2(lr.minus(1),lr.plus(1),Lt,1),er=finalise$1(lr.times(lr),Lt,1),$t=3;;){if(Dt=finalise$1(Dt.times(er),Lt,1),jt=Nt.plus(divide$2(Dt,new pr($t),Lt,1)),digitsToString$1(jt.d).slice(0,Lt)===digitsToString$1(Nt.d).slice(0,Lt))if(Nt=Nt.times(2),Ct!==0&&(Nt=Nt.plus(getLn10$1(pr,Lt+2,vr).times(Ct+""))),Nt=divide$2(Nt,new pr(ir),Lt,1),et==null)if(checkRoundingDigits$1(Nt.d,Lt-or,hr,Ft))pr.precision=Lt+=or,jt=Dt=lr=divide$2(Vt.minus(1),Vt.plus(1),Lt,1),er=finalise$1(lr.times(lr),Lt,1),$t=Ft=1;else return finalise$1(Nt,pr.precision=vr,hr,external$1=!0);else return pr.precision=vr,Nt;Nt=jt,$t+=2}}function nonFiniteToString$1(nt){return String(nt.s*nt.s/0)}function parseDecimal$1(nt,et){var at,mt,$t;for((at=et.indexOf("."))>-1&&(et=et.replace(".","")),(mt=et.search(/e/i))>0?(at<0&&(at=mt),at+=+et.slice(mt+1),et=et.substring(0,mt)):at<0&&(at=et.length),mt=0;et.charCodeAt(mt)===48;mt++);for($t=et.length;et.charCodeAt($t-1)===48;--$t);if(et=et.slice(mt,$t),et){if($t-=mt,nt.e=at=at-mt-1,nt.d=[],mt=(at+1)%LOG_BASE$1,at<0&&(mt+=LOG_BASE$1),mt<$t){for(mt&&nt.d.push(+et.slice(0,mt)),$t-=LOG_BASE$1;mt<$t;)nt.d.push(+et.slice(mt,mt+=LOG_BASE$1));et=et.slice(mt),mt=LOG_BASE$1-et.length}else mt-=$t;for(;mt--;)et+="0";nt.d.push(+et),external$1&&(nt.e>nt.constructor.maxE?(nt.d=null,nt.e=NaN):nt.e<nt.constructor.minE&&(nt.e=0,nt.d=[0]))}else nt.e=0,nt.d=[0];return nt}function parseOther$1(nt,et){var at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt;if(et.indexOf("_")>-1){if(et=et.replace(/(\d)_(?=\d)/g,"$1"),isDecimal$1.test(et))return parseDecimal$1(nt,et)}else if(et==="Infinity"||et==="NaN")return+et||(nt.s=NaN),nt.e=NaN,nt.d=null,nt;if(isHex$1.test(et))at=16,et=et.toLowerCase();else if(isBinary$1.test(et))at=2;else if(isOctal$1.test(et))at=8;else throw Error(invalidArgument$1+et);for(Ct=et.search(/p/i),Ct>0?(Nt=+et.slice(Ct+1),et=et.substring(2,Ct)):et=et.slice(2),Ct=et.indexOf("."),Dt=Ct>=0,mt=nt.constructor,Dt&&(et=et.replace(".",""),Ft=et.length,Ct=Ft-Ct,$t=intPow$1(mt,new mt(at),Ct,Ct*2)),jt=convertBase$1(et,at,BASE$1),Lt=jt.length-1,Ct=Lt;jt[Ct]===0;--Ct)jt.pop();return Ct<0?new mt(nt.s*0):(nt.e=getBase10Exponent$1(jt,Lt),nt.d=jt,external$1=!1,Dt&&(nt=divide$2(nt,$t,Ft*4)),Nt&&(nt=nt.times(Math.abs(Nt)<54?mathpow$1(2,Nt):Decimal$1.pow(2,Nt))),external$1=!0,nt)}function sine$1(nt,et){var at,mt=et.d.length;if(mt<3)return et.isZero()?et:taylorSeries$1(nt,2,et,et);at=1.4*Math.sqrt(mt),at=at>16?16:at|0,et=et.times(1/tinyPow$1(5,at)),et=taylorSeries$1(nt,2,et,et);for(var $t,Ct=new nt(5),Dt=new nt(16),Ft=new nt(20);at--;)$t=et.times(et),et=et.times(Ct.plus($t.times(Dt.times($t).minus(Ft))));return et}function taylorSeries$1(nt,et,at,mt,$t){var Ct,Dt,Ft,Nt,jt=nt.precision,Lt=Math.ceil(jt/LOG_BASE$1);for(external$1=!1,Nt=at.times(at),Ft=new nt(mt);;){if(Dt=divide$2(Ft.times(Nt),new nt(et++*et++),jt,1),Ft=$t?mt.plus(Dt):mt.minus(Dt),mt=divide$2(Dt.times(Nt),new nt(et++*et++),jt,1),Dt=Ft.plus(mt),Dt.d[Lt]!==void 0){for(Ct=Lt;Dt.d[Ct]===Ft.d[Ct]&&Ct--;);if(Ct==-1)break}Ct=Ft,Ft=mt,mt=Dt,Dt=Ct}return external$1=!0,Dt.d.length=Lt+1,Dt}function tinyPow$1(nt,et){for(var at=nt;--et;)at*=nt;return at}function toLessThanHalfPi$1(nt,et){var at,mt=et.s<0,$t=getPi$1(nt,nt.precision,1),Ct=$t.times(.5);if(et=et.abs(),et.lte(Ct))return quadrant$1=mt?4:1,et;if(at=et.divToInt($t),at.isZero())quadrant$1=mt?3:2;else{if(et=et.minus(at.times($t)),et.lte(Ct))return quadrant$1=isOdd$1(at)?mt?2:3:mt?4:1,et;quadrant$1=isOdd$1(at)?mt?1:4:mt?3:2}return et.minus($t).abs()}function toStringBinary$1(nt,et,at,mt){var $t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=nt.constructor,or=at!==void 0;if(or?(checkInt32$1(at,1,MAX_DIGITS$1),mt===void 0?mt=ir.rounding:checkInt32$1(mt,0,8)):(at=ir.precision,mt=ir.rounding),!nt.isFinite())Lt=nonFiniteToString$1(nt);else{for(Lt=finiteToString$1(nt),Dt=Lt.indexOf("."),or?($t=2,et==16?at=at*4-3:et==8&&(at=at*3-2)):$t=et,Dt>=0&&(Lt=Lt.replace(".",""),er=new ir(1),er.e=Lt.length-Dt,er.d=convertBase$1(finiteToString$1(er),10,$t),er.e=er.d.length),Vt=convertBase$1(Lt,10,$t),Ct=Nt=Vt.length;Vt[--Nt]==0;)Vt.pop();if(!Vt[0])Lt=or?"0p+0":"0";else{if(Dt<0?Ct--:(nt=new ir(nt),nt.d=Vt,nt.e=Ct,nt=divide$2(nt,er,at,mt,0,$t),Vt=nt.d,Ct=nt.e,jt=inexact$1),Dt=Vt[at],Ft=$t/2,jt=jt||Vt[at+1]!==void 0,jt=mt<4?(Dt!==void 0||jt)&&(mt===0||mt===(nt.s<0?3:2)):Dt>Ft||Dt===Ft&&(mt===4||jt||mt===6&&Vt[at-1]&1||mt===(nt.s<0?8:7)),Vt.length=at,jt)for(;++Vt[--at]>$t-1;)Vt[at]=0,at||(++Ct,Vt.unshift(1));for(Nt=Vt.length;!Vt[Nt-1];--Nt);for(Dt=0,Lt="";Dt<Nt;Dt++)Lt+=NUMERALS$1.charAt(Vt[Dt]);if(or){if(Nt>1)if(et==16||et==8){for(Dt=et==16?4:3,--Nt;Nt%Dt;Nt++)Lt+="0";for(Vt=convertBase$1(Lt,$t,et),Nt=Vt.length;!Vt[Nt-1];--Nt);for(Dt=1,Lt="1.";Dt<Nt;Dt++)Lt+=NUMERALS$1.charAt(Vt[Dt])}else Lt=Lt.charAt(0)+"."+Lt.slice(1);Lt=Lt+(Ct<0?"p":"p+")+Ct}else if(Ct<0){for(;++Ct;)Lt="0"+Lt;Lt="0."+Lt}else if(++Ct>Nt)for(Ct-=Nt;Ct--;)Lt+="0";else Ct<Nt&&(Lt=Lt.slice(0,Ct)+"."+Lt.slice(Ct))}Lt=(et==16?"0x":et==2?"0b":et==8?"0o":"")+Lt}return nt.s<0?"-"+Lt:Lt}function truncate$1(nt,et){if(nt.length>et)return nt.length=et,!0}function abs$1(nt){return new this(nt).abs()}function acos$1(nt){return new this(nt).acos()}function acosh$1(nt){return new this(nt).acosh()}function add$2(nt,et){return new this(nt).plus(et)}function asin$1(nt){return new this(nt).asin()}function asinh$1(nt){return new this(nt).asinh()}function atan$1(nt){return new this(nt).atan()}function atanh$1(nt){return new this(nt).atanh()}function atan2$1(nt,et){nt=new this(nt),et=new this(et);var at,mt=this.precision,$t=this.rounding,Ct=mt+4;return!nt.s||!et.s?at=new this(NaN):!nt.d&&!et.d?(at=getPi$1(this,Ct,1).times(et.s>0?.25:.75),at.s=nt.s):!et.d||nt.isZero()?(at=et.s<0?getPi$1(this,mt,$t):new this(0),at.s=nt.s):!nt.d||et.isZero()?(at=getPi$1(this,Ct,1).times(.5),at.s=nt.s):et.s<0?(this.precision=Ct,this.rounding=1,at=this.atan(divide$2(nt,et,Ct,1)),et=getPi$1(this,Ct,1),this.precision=mt,this.rounding=$t,at=nt.s<0?at.minus(et):at.plus(et)):at=this.atan(divide$2(nt,et,Ct,1)),at}function cbrt$1(nt){return new this(nt).cbrt()}function ceil$1(nt){return finalise$1(nt=new this(nt),nt.e+1,2)}function clamp$3(nt,et,at){return new this(nt).clamp(et,at)}function config$3(nt){if(!nt||typeof nt!="object")throw Error(decimalError$1+"Object expected");var et,at,mt,$t=nt.defaults===!0,Ct=["precision",1,MAX_DIGITS$1,"rounding",0,8,"toExpNeg",-EXP_LIMIT$1,0,"toExpPos",0,EXP_LIMIT$1,"maxE",0,EXP_LIMIT$1,"minE",-EXP_LIMIT$1,0,"modulo",0,9];for(et=0;et<Ct.length;et+=3)if(at=Ct[et],$t&&(this[at]=DEFAULTS$1[at]),(mt=nt[at])!==void 0)if(mathfloor$1(mt)===mt&&mt>=Ct[et+1]&&mt<=Ct[et+2])this[at]=mt;else throw Error(invalidArgument$1+at+": "+mt);if(at="crypto",$t&&(this[at]=DEFAULTS$1[at]),(mt=nt[at])!==void 0)if(mt===!0||mt===!1||mt===0||mt===1)if(mt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[at]=!0;else throw Error(cryptoUnavailable$1);else this[at]=!1;else throw Error(invalidArgument$1+at+": "+mt);return this}function cos$1(nt){return new this(nt).cos()}function cosh$1(nt){return new this(nt).cosh()}function clone$2(nt){var et,at,mt;function $t(Ct){var Dt,Ft,Nt,jt=this;if(!(jt instanceof $t))return new $t(Ct);if(jt.constructor=$t,isDecimalInstance$1(Ct)){jt.s=Ct.s,external$1?!Ct.d||Ct.e>$t.maxE?(jt.e=NaN,jt.d=null):Ct.e<$t.minE?(jt.e=0,jt.d=[0]):(jt.e=Ct.e,jt.d=Ct.d.slice()):(jt.e=Ct.e,jt.d=Ct.d?Ct.d.slice():Ct.d);return}if(Nt=typeof Ct,Nt==="number"){if(Ct===0){jt.s=1/Ct<0?-1:1,jt.e=0,jt.d=[0];return}if(Ct<0?(Ct=-Ct,jt.s=-1):jt.s=1,Ct===~~Ct&&Ct<1e7){for(Dt=0,Ft=Ct;Ft>=10;Ft/=10)Dt++;external$1?Dt>$t.maxE?(jt.e=NaN,jt.d=null):Dt<$t.minE?(jt.e=0,jt.d=[0]):(jt.e=Dt,jt.d=[Ct]):(jt.e=Dt,jt.d=[Ct]);return}else if(Ct*0!==0){Ct||(jt.s=NaN),jt.e=NaN,jt.d=null;return}return parseDecimal$1(jt,Ct.toString())}else if(Nt!=="string")throw Error(invalidArgument$1+Ct);return(Ft=Ct.charCodeAt(0))===45?(Ct=Ct.slice(1),jt.s=-1):(Ft===43&&(Ct=Ct.slice(1)),jt.s=1),isDecimal$1.test(Ct)?parseDecimal$1(jt,Ct):parseOther$1(jt,Ct)}if($t.prototype=P$3,$t.ROUND_UP=0,$t.ROUND_DOWN=1,$t.ROUND_CEIL=2,$t.ROUND_FLOOR=3,$t.ROUND_HALF_UP=4,$t.ROUND_HALF_DOWN=5,$t.ROUND_HALF_EVEN=6,$t.ROUND_HALF_CEIL=7,$t.ROUND_HALF_FLOOR=8,$t.EUCLID=9,$t.config=$t.set=config$3,$t.clone=clone$2,$t.isDecimal=isDecimalInstance$1,$t.abs=abs$1,$t.acos=acos$1,$t.acosh=acosh$1,$t.add=add$2,$t.asin=asin$1,$t.asinh=asinh$1,$t.atan=atan$1,$t.atanh=atanh$1,$t.atan2=atan2$1,$t.cbrt=cbrt$1,$t.ceil=ceil$1,$t.clamp=clamp$3,$t.cos=cos$1,$t.cosh=cosh$1,$t.div=div$1,$t.exp=exp$1,$t.floor=floor$1,$t.hypot=hypot$1,$t.ln=ln$3,$t.log=log$1,$t.log10=log10$1,$t.log2=log2$1,$t.max=max$1,$t.min=min$1,$t.mod=mod$1,$t.mul=mul$1,$t.pow=pow$1,$t.random=random$1,$t.round=round$1,$t.sign=sign$1,$t.sin=sin$1,$t.sinh=sinh$1,$t.sqrt=sqrt$1,$t.sub=sub$1,$t.sum=sum$1,$t.tan=tan$1,$t.tanh=tanh$1,$t.trunc=trunc$1,nt===void 0&&(nt={}),nt&&nt.defaults!==!0)for(mt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],et=0;et<mt.length;)nt.hasOwnProperty(at=mt[et++])||(nt[at]=this[at]);return $t.config(nt),$t}function div$1(nt,et){return new this(nt).div(et)}function exp$1(nt){return new this(nt).exp()}function floor$1(nt){return finalise$1(nt=new this(nt),nt.e+1,3)}function hypot$1(){var nt,et,at=new this(0);for(external$1=!1,nt=0;nt<arguments.length;)if(et=new this(arguments[nt++]),et.d)at.d&&(at=at.plus(et.times(et)));else{if(et.s)return external$1=!0,new this(1/0);at=et}return external$1=!0,at.sqrt()}function isDecimalInstance$1(nt){return nt instanceof Decimal$1||nt&&nt.toStringTag===tag$1||!1}function ln$3(nt){return new this(nt).ln()}function log$1(nt,et){return new this(nt).log(et)}function log2$1(nt){return new this(nt).log(2)}function log10$1(nt){return new this(nt).log(10)}function max$1(){return maxOrMin$1(this,arguments,"lt")}function min$1(){return maxOrMin$1(this,arguments,"gt")}function mod$1(nt,et){return new this(nt).mod(et)}function mul$1(nt,et){return new this(nt).mul(et)}function pow$1(nt,et){return new this(nt).pow(et)}function random$1(nt){var et,at,mt,$t,Ct=0,Dt=new this(1),Ft=[];if(nt===void 0?nt=this.precision:checkInt32$1(nt,1,MAX_DIGITS$1),mt=Math.ceil(nt/LOG_BASE$1),this.crypto)if(crypto.getRandomValues)for(et=crypto.getRandomValues(new Uint32Array(mt));Ct<mt;)$t=et[Ct],$t>=429e7?et[Ct]=crypto.getRandomValues(new Uint32Array(1))[0]:Ft[Ct++]=$t%1e7;else if(crypto.randomBytes){for(et=crypto.randomBytes(mt*=4);Ct<mt;)$t=et[Ct]+(et[Ct+1]<<8)+(et[Ct+2]<<16)+((et[Ct+3]&127)<<24),$t>=214e7?crypto.randomBytes(4).copy(et,Ct):(Ft.push($t%1e7),Ct+=4);Ct=mt/4}else throw Error(cryptoUnavailable$1);else for(;Ct<mt;)Ft[Ct++]=Math.random()*1e7|0;for(mt=Ft[--Ct],nt%=LOG_BASE$1,mt&&nt&&($t=mathpow$1(10,LOG_BASE$1-nt),Ft[Ct]=(mt/$t|0)*$t);Ft[Ct]===0;Ct--)Ft.pop();if(Ct<0)at=0,Ft=[0];else{for(at=-1;Ft[0]===0;at-=LOG_BASE$1)Ft.shift();for(mt=1,$t=Ft[0];$t>=10;$t/=10)mt++;mt<LOG_BASE$1&&(at-=LOG_BASE$1-mt)}return Dt.e=at,Dt.d=Ft,Dt}function round$1(nt){return finalise$1(nt=new this(nt),nt.e+1,this.rounding)}function sign$1(nt){return nt=new this(nt),nt.d?nt.d[0]?nt.s:0*nt.s:nt.s||NaN}function sin$1(nt){return new this(nt).sin()}function sinh$1(nt){return new this(nt).sinh()}function sqrt$1(nt){return new this(nt).sqrt()}function sub$1(nt,et){return new this(nt).sub(et)}function sum$1(){var nt=0,et=arguments,at=new this(et[nt]);for(external$1=!1;at.s&&++nt<et.length;)at=at.plus(et[nt]);return external$1=!0,finalise$1(at,this.precision,this.rounding)}function tan$1(nt){return new this(nt).tan()}function tanh$1(nt){return new this(nt).tanh()}function trunc$1(nt){return finalise$1(nt=new this(nt),nt.e+1,1)}P$3[Symbol.for("nodejs.util.inspect.custom")]=P$3.toString;P$3[Symbol.toStringTag]="Decimal";var Decimal$1=P$3.constructor=clone$2(DEFAULTS$1);LN10$1=new Decimal$1(LN10$1);PI$1=new Decimal$1(PI$1);var CompareResult;(function(nt){nt[nt.EQUAL=0]="EQUAL",nt[nt.GREATER=1]="GREATER",nt[nt.LESS=-1]="LESS"})(CompareResult||(CompareResult={}));var Comparator=function(){function nt(et){this.compare=et||nt.defaultCompareFunction}return nt.defaultCompareFunction=function(et,at){return et===at?CompareResult.EQUAL:et<at?CompareResult.LESS:CompareResult.GREATER},nt.prototype.equal=function(et,at){return this.compare(et,at)===CompareResult.EQUAL},nt.prototype.lessThan=function(et,at){return this.compare(et,at)===CompareResult.LESS},nt.prototype.greaterThan=function(et,at){return this.compare(et,at)===CompareResult.GREATER},nt.prototype.lessThanOrEqual=function(et,at){return this.lessThan(et,at)||this.equal(et,at)},nt.prototype.greaterThanOrEqual=function(et,at){return this.greaterThan(et,at)||this.equal(et,at)},nt.prototype.reverse=function(){var et=this.compare;this.compare=function(at,mt){return et(mt,at)}},nt}(),SinglyNode=function(){function nt(et){this.value=et,this.next=null}return nt}(),DoublyNode=function(){function nt(et){this.value=et,this.next=null,this.prev=null}return nt}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(nt,et){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,mt){at.__proto__=mt}||function(at,mt){for(var $t in mt)mt.hasOwnProperty($t)&&(at[$t]=mt[$t])},extendStatics(nt,et)};function __extends(nt,et){extendStatics(nt,et);function at(){this.constructor=nt}nt.prototype=et===null?Object.create(et):(at.prototype=et.prototype,new at)}function __generator(nt,et){var at={label:0,sent:function(){if(Ct[0]&1)throw Ct[1];return Ct[1]},trys:[],ops:[]},mt,$t,Ct,Dt;return Dt={next:Ft(0),throw:Ft(1),return:Ft(2)},typeof Symbol=="function"&&(Dt[Symbol.iterator]=function(){return this}),Dt;function Ft(jt){return function(Lt){return Nt([jt,Lt])}}function Nt(jt){if(mt)throw new TypeError("Generator is already executing.");for(;at;)try{if(mt=1,$t&&(Ct=jt[0]&2?$t.return:jt[0]?$t.throw||((Ct=$t.return)&&Ct.call($t),0):$t.next)&&!(Ct=Ct.call($t,jt[1])).done)return Ct;switch($t=0,Ct&&(jt=[jt[0]&2,Ct.value]),jt[0]){case 0:case 1:Ct=jt;break;case 4:return at.label++,{value:jt[1],done:!1};case 5:at.label++,$t=jt[1],jt=[0];continue;case 7:jt=at.ops.pop(),at.trys.pop();continue;default:if(Ct=at.trys,!(Ct=Ct.length>0&&Ct[Ct.length-1])&&(jt[0]===6||jt[0]===2)){at=0;continue}if(jt[0]===3&&(!Ct||jt[1]>Ct[0]&&jt[1]<Ct[3])){at.label=jt[1];break}if(jt[0]===6&&at.label<Ct[1]){at.label=Ct[1],Ct=jt;break}if(Ct&&at.label<Ct[2]){at.label=Ct[2],at.ops.push(jt);break}Ct[2]&&at.ops.pop(),at.trys.pop();continue}jt=et.call(nt,at)}catch(Lt){jt=[6,Lt],$t=0}finally{mt=Ct=0}if(jt[0]&5)throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}}function __read$2(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}function __spread$2(){for(var nt=[],et=0;et<arguments.length;et++)nt=nt.concat(__read$2(arguments[et]));return nt}var OBFUSCATED_ERROR="obfuse error occur";function invariant$P(nt,et){if(!nt)throw new Error("[linked-list] "+(et||OBFUSCATED_ERROR))}var INDEX_NOT_FOUND=-1,List=function(){function nt(){for(var et=this,at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];this._head=null,this._tail=null,this._length=0,this.compare=new Comparator,at.length>0&&at.forEach(function($t){et.append($t)})}return Object.defineProperty(nt.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"loopLength",{get:function(){var et=!1,at=1;if(!this._head)return 0;for(var mt=this._head,$t=this._head;$t.next&&$t.next.next;)if($t=$t.next.next,mt=mt.next,mt===$t){et=!0;break}if(et){for($t=$t.next;mt!==$t;)at++,$t=$t.next;return at}else return 0},enumerable:!0,configurable:!0}),nt.prototype.getNode=function(et){var at=this._length;invariant$P(at>0&&et>=0&&et<at,"[linked-list] index "+et+" out of scope of list, which length is "+at);for(var mt=this._head,$t=0;$t<et;)mt=mt.next,$t++;return mt},nt.prototype.get=function(et){var at=this.getNode(et);return at?at.value:null},nt.prototype.find=function(et){var at=et.value,mt=et.callback;if(!this._head)return null;for(var $t=this._head;$t;){if(mt&&mt($t.value)||at!==void 0&&this.compare.equal($t.value,at))return $t;$t=$t.next}return null},nt.prototype.indexOf=function(et){if(!this._head)return INDEX_NOT_FOUND;for(var at=this._head,mt=-1;at.next;){if(mt++,this.compare.equal(at.value,et))return mt;at=at.next}return at===this._tail&&this.compare.equal(at.value,et)&&(mt+=1),mt},nt.prototype.first=function(et){invariant$P(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var at=this.iterator(),mt=[],$t=Math.min(et,this.length),Ct=0;Ct<$t;Ct++){var Dt=at.next();mt.push(Dt.value)}return mt},nt.prototype.toArray=function(){return __spread$2(this)},nt.prototype.isEmpty=function(){return this._head===null},nt.prototype.iterator=function(){var et;return __generator(this,function(at){switch(at.label){case 0:et=this._head,at.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return at.sent(),et=et.next,[3,1];case 3:return[2]}})},nt.prototype[Symbol.iterator]=function(){return this.iterator()},nt}(),SinglyList=function(nt){__extends(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];return nt.apply(this,__spread$2(at))||this}return et.prototype.append=function(at){var mt=new SinglyNode(at);return this._tail?(this._tail.next=mt,this._tail=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.prepend=function(at){var mt=new SinglyNode(at);return this._head?(mt.next=this._head,this._head=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.remove=function(at){var mt=this._head;if(mt){if(this.compare.equal(mt.value,at))return mt.next?(this._head=mt.next,mt.next=null):this._head=this._tail=null,this._length--,at;for(var $t=mt;;){if(this.compare.equal(mt.value,at))return mt.next?$t.next=mt.next:(this._tail=$t,this._tail.next=null),mt.next=null,this._length--,at;if(mt.next)$t=mt,mt=mt.next;else return}}},et.prototype.removeHead=function(){var at=this._head;if(at)return this._head.next?(this._head=at.next,at.next=null):(this._head=null,this._tail=null),this._length--,at.value},et.prototype.removeTail=function(){var at=this._tail;if(at){if(!this._head.next)this._head=null,this._tail=null;else{for(var mt=this._head;mt.next!==at;)mt=mt.next;mt.next=null,this._tail=mt}return this._length--,at.value}},et.prototype.reverse=function(){if(this._head){var at=this._head,mt=null,$t;for(this._tail=this._head;at!==null;)$t=at.next,at.next=mt,mt=at,at=$t;this._head=mt}},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,__spread$2([void 0],at)))},et}(List),AbstractCircleSinglyList=function(nt){__extends(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,__spread$2(at))||this;return $t.cyclization(),$t}return et.prototype.iterator=function(){var at;return __generator(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,at===this._head&&(at=null),[3,1];case 3:return[2]}})},et.prototype.circleIterator=function(){var at;return __generator(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,[3,1];case 3:return[2]}})},et.prototype[Symbol.iterator]=function(){return this.iterator()},et.prototype.mapToNormalListFn=function(at){for(var mt=[],$t=1;$t<arguments.length;$t++)mt[$t-1]=arguments[$t];this.breakCircle();var Ct=nt.prototype[at].apply(this,mt);return this.cyclization(),Ct},et.prototype.getNode=function(at){return this.mapToNormalListFn("getNode",at)},et.prototype.append=function(at){return this.mapToNormalListFn("append",at)},et.prototype.prepend=function(at){return this.mapToNormalListFn("prepend",at)},et.prototype.find=function(at){return this.mapToNormalListFn("find",at)},et.prototype.indexOf=function(at){return this.mapToNormalListFn("indexOf",at)},et.prototype.remove=function(at){return this.mapToNormalListFn("remove",at)},et.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},et.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},et.prototype.first=function(at){invariant$P(at>=0,"[linked-list] param 'num' ("+at+") should not less than 0");for(var mt=this.circleIterator(),$t=[],Ct=0;Ct<at;Ct++){var Dt=mt.next();$t.push(Dt.value)}return $t},et.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},et.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},et}(SinglyList);(function(nt){__extends(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,__spread$2(at))||this;return $t.cyclization(),$t}return et.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},et.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,__spread$2([void 0],at)))},et})(AbstractCircleSinglyList);var DoublyList=function(nt){__extends(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];return nt.apply(this,__spread$2(at))||this}return et.prototype.append=function(at){var mt=new DoublyNode(at);return this._tail?(this._tail.next=mt,mt.prev=this._tail,this._tail=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.prepend=function(at){var mt=new DoublyNode(at);return this._head?(mt.next=this._head,this._head.prev=mt,this._head=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.remove=function(at){var mt=this._head;if(mt){if(this.compare.equal(mt.value,at))return mt.next?(this._head=mt.next,this._head.prev=null,mt.next=mt.prev=null):this._head=this._tail=null,this._length--,at;for(;;){if(this.compare.equal(mt.value,at))return mt.next?(mt.prev.next=mt.next,mt.next.prev=mt.prev,mt.next=mt.prev=null):(mt.prev.next=null,this._tail=mt.prev,mt.next=mt.prev=null),this._length--,mt.value;if(mt.next)mt=mt.next;else return}}},et.prototype.removeHead=function(){var at=this._head;if(at)return this._head.next?(at.next.prev=null,this._head=at.next,at.next=null):(this._head=null,this._tail=null),this._length--,at.value},et.prototype.removeTail=function(){var at=this._tail;if(at)return this._head.next?(at.prev.next=null,this._tail=at.prev,at.next=at.prev=null):(this._head=null,this._tail=null),this._length--,at.value},et.prototype.reverse=function(){if(this._head){var at=this._head,mt=null,$t;for(this._tail=this._head;at!==null;)$t=at.next,at.next=mt,at.prev=$t,mt=at,at=$t;this._head=mt}},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,__spread$2([void 0],at)))},et}(List),AbstractCircleDoublyList=function(nt){__extends(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,__spread$2(at))||this;return $t.cyclization(),$t}return et.prototype.iterator=function(){var at;return __generator(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,at===this._head&&(at=null),[3,1];case 3:return[2]}})},et.prototype.circleIterator=function(){var at;return __generator(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,[3,1];case 3:return[2]}})},et.prototype[Symbol.iterator]=function(){return this.iterator()},et.prototype.mapToNormalListFn=function(at){for(var mt=[],$t=1;$t<arguments.length;$t++)mt[$t-1]=arguments[$t];this.breakCircle();var Ct=nt.prototype[at].apply(this,mt);return this.cyclization(),Ct},et.prototype.getNode=function(at){return this.mapToNormalListFn("getNode",at)},et.prototype.append=function(at){return this.mapToNormalListFn("append",at)},et.prototype.prepend=function(at){return this.mapToNormalListFn("prepend",at)},et.prototype.find=function(at){return this.mapToNormalListFn("find",at)},et.prototype.indexOf=function(at){return this.mapToNormalListFn("indexOf",at)},et.prototype.remove=function(at){return this.mapToNormalListFn("remove",at)},et.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},et.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},et.prototype.first=function(at){invariant$P(at>=0,"[linked-list] param 'num' ("+at+") should not less than 0");for(var mt=this.circleIterator(),$t=[],Ct=0;Ct<at;Ct++){var Dt=mt.next();$t.push(Dt.value)}return $t},et.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},et.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},et}(DoublyList);(function(nt){__extends(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,__spread$2(at))||this;return $t.cyclization(),$t}return et.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},et.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,__spread$2([void 0],at)))},et})(AbstractCircleDoublyList);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read$1(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}function __spread$1(){for(var nt=[],et=0;et<arguments.length;et++)nt=nt.concat(__read$1(arguments[et]));return nt}var Queue=function(){function nt(){for(var et=[],at=0;at<arguments.length;at++)et[at]=arguments[at];this.queue=new(SinglyList.bind.apply(SinglyList,__spread$1([void 0],et)))}return Object.defineProperty(nt.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),nt.prototype.isEmpty=function(){return this.queue.isEmpty()},nt.prototype.enqueue=function(et){return this.queue.append(et)},nt.prototype.dequeue=function(){var et=this.queue.removeHead();return typeof et<"u"?et:void 0},nt.prototype.toArray=function(){return this.queue.toArray()},nt}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}function __spread(){for(var nt=[],et=0;et<arguments.length;et++)nt=nt.concat(__read(arguments[et]));return nt}var stack=function(){function nt(){for(var et=[],at=0;at<arguments.length;at++)et[at]=arguments[at];this.stack=new(SinglyList.bind.apply(SinglyList,__spread([void 0],et)))}return Object.defineProperty(nt.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),nt.prototype.isEmpty=function(){return this.stack.isEmpty()},nt.prototype.push=function(et){return this.stack.append(et)},nt.prototype.pop=function(){var et=this.stack.removeTail();return typeof et<"u"?et:void 0},nt.prototype.popBottom=function(){var et=this.stack.removeHead();return typeof et<"u"?et:void 0},nt.prototype.toArray=function(){return this.stack.toArray()},nt}(),GraphEdge=function(){function nt(et,at,mt){mt===void 0&&(mt=0),this.startVertex=et,this.endVertex=at,this.weight=mt}return nt.prototype.getKey=function(){var et=this.startVertex.getKey(),at=this.endVertex.getKey();return et+"_"+at},nt.prototype.reverse=function(){var et=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=et,this},nt.prototype.clone=function(){return new nt(this.startVertex,this.endVertex,this.weight)},nt.prototype.toString=function(){return this.getKey()},nt}();function invariant$O(nt,et,at){if(at===void 0&&(at="cc-graph"),!nt)throw new Error((at?"["+at+"]":"")+" Invariant failed: "+et)}function isExist(nt,et){et===void 0&&(et=!0);var at=typeof nt<"u"&&nt!==null;return et?at&&nt!=="undefined"&&nt!=="null":at}var GraphVertex=function(){function nt(et){invariant$O(isExist(et),"Graph vertex must have a value"),this.value=et,this.edges=new Map}return nt.prototype.addEdge=function(et){return this.edges.set(et.getKey(),et),this},nt.prototype.deleteEdge=function(et){this.edges.delete(et.getKey())},nt.prototype.getNeighbors=function(){var et=this,at=this.getEdges(),mt=function($t){return $t.startVertex===et?$t.endVertex:$t.startVertex};return at.map(mt)},nt.prototype.getEdges=function(){return Array.from(this.edges.values())},nt.prototype.getDegree=function(){return this.getEdges().length},nt.prototype.hasEdge=function(et){var at=this.getEdges().find(function(mt){return mt===et});return!!at},nt.prototype.hasNeighbor=function(et){var at=this.getEdges().find(function(mt){return mt.startVertex===et||mt.endVertex===et});return!!at},nt.prototype.findEdge=function(et){var at=function($t){return $t.startVertex===et||$t.endVertex===et},mt=this.getEdges().find(at);return mt||null},nt.prototype.getKey=function(){return this.value},nt.prototype.deleteAllEdges=function(){var et=this;return this.getEdges().forEach(function(at){return et.deleteEdge(at)}),this},nt.prototype.toString=function(et){return et?et(this.value):""+this.value},nt}();function buildDualStack(nt,et,at,mt){if(nt){et.push(nt),mt.set(nt.getKey(),!0);var $t=nt.getNeighbors().filter(function(Ct){return!mt.get(Ct.getKey())});at.push($t)}}function cutdownDualStack(nt,et,at){var mt=nt.pop();mt&&at.set(mt.getKey(),!1),et.pop()}var Graph=function(){function nt(et){et===void 0&&(et=!1),this.vertices={},this.edges={},this.isDirected=et}return nt.prototype.addVertex=function(et){return this.vertices[et.getKey()]=et,this},nt.prototype.getVertexByKey=function(et){return this.vertices[et]},nt.prototype.getNeighbors=function(et){return et.getNeighbors()},nt.prototype.getAllVertices=function(){return Object.values(this.vertices)},nt.prototype.getAllEdges=function(){return Object.values(this.edges)},nt.prototype.addEdge=function(et,at){if(at===void 0&&(at=!1),this.edges[et.getKey()]){if(at)return this;invariant$O(!1,"Edge has already been added before")}var mt=this.getVertexByKey(et.startVertex.getKey()),$t=this.getVertexByKey(et.endVertex.getKey());if(mt||(this.addVertex(et.startVertex),mt=this.getVertexByKey(et.startVertex.getKey())),$t||(this.addVertex(et.endVertex),$t=this.getVertexByKey(et.endVertex.getKey())),this.edges[et.getKey()]=et,this.isDirected)mt.addEdge(et);else{mt.addEdge(et);var Ct=et.clone();$t.addEdge(Ct.reverse())}return this},nt.prototype.deleteEdge=function(et,at){if(at===void 0&&(at=!1),!this.edges[et.getKey()]){if(at)return this;invariant$O(!1,"Edge not found in graph")}delete this.edges[et.getKey()];var mt=this.getVertexByKey(et.startVertex.getKey()),$t=this.getVertexByKey(et.endVertex.getKey());return mt.deleteEdge(et),$t.deleteEdge(et),this},nt.prototype.findEdge=function(et,at){var mt=this.getVertexByKey(et.getKey());return mt?mt.findEdge(at):null},nt.prototype.getWeight=function(){return this.getAllEdges().reduce(function(et,at){return et+at.weight},0)},nt.prototype.reverse=function(){var et=this;return this.getAllEdges().forEach(function(at){et.deleteEdge(at),at.reverse(),et.addEdge(at)}),this},nt.prototype.getVerticesIndices=function(){var et={};return this.getAllVertices().forEach(function(at,mt){et[at.getKey()]=mt}),et},nt.prototype.getAdjacencyMatrix=function(){var et=this,at=this.getAllVertices(),mt=this.getVerticesIndices(),$t=Array(at.length).fill(null).map(function(){return Array(at.length).fill(1/0)});return at.forEach(function(Ct,Dt){Ct.getNeighbors().forEach(function(Ft){var Nt=mt[Ft.getKey()],jt=et.findEdge(Ct,Ft);jt&&($t[Dt][Nt]=jt.weight)})}),$t},nt.prototype.toString=function(){return Object.keys(this.vertices).toString()},nt.prototype.bfs=function(et){var at,mt,$t;return __generator$1(this,function(Ct){switch(Ct.label){case 0:at=new Map,mt=new Queue,mt.enqueue(et),Ct.label=1;case 1:return mt.isEmpty()?[3,4]:($t=mt.dequeue(),$t&&!at.has($t.getKey())?[4,$t]:[3,3]);case 2:Ct.sent(),at.set($t.getKey(),$t),$t.getNeighbors().forEach(function(Dt){return mt.enqueue(Dt)}),Ct.label=3;case 3:return[3,1];case 4:return[2]}})},nt.prototype.dfs=function(et){var at,mt,$t;return __generator$1(this,function(Ct){switch(Ct.label){case 0:at=new Map,mt=new stack,mt.push(et),Ct.label=1;case 1:return mt.isEmpty()?[3,4]:($t=mt.pop(),$t&&!at.has($t.getKey())?[4,$t]:[3,3]);case 2:Ct.sent(),at.set($t.getKey(),$t),$t.getNeighbors().forEach(function(Dt){return mt.push(Dt)}),Ct.label=3;case 3:return[3,1];case 4:return[2]}})},nt.prototype.findAllPath=function(et,at){var mt,$t,Ct,Dt,Ft,Nt,jt;return __generator$1(this,function(Lt){switch(Lt.label){case 0:return mt=[],et!==at?[3,2]:(mt.push(et),[4,mt]);case 1:return Lt.sent(),[2];case 2:$t=new Map,Ct=new stack,Dt=new stack,buildDualStack(et,Ct,Dt,$t),Lt.label=3;case 3:if(Ct.isEmpty())return[3,6];if(Ft=Dt.pop(),Ft&&Ft.length)Nt=Ft.shift(),Dt.push(Ft),Nt&&buildDualStack(Nt,Ct,Dt,$t);else return Dt.push(Ft),cutdownDualStack(Ct,Dt,$t),[3,3];return jt=Ct.peek,jt!==at?[3,5]:[4,Ct.toArray()];case 4:Lt.sent(),cutdownDualStack(Ct,Dt,$t),Lt.label=5;case 5:return[3,3];case 6:return[2]}})},nt}();const version$1="3.7.7",VERSION$3=version$1,_hasBuffer=typeof Buffer$1=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(nt=>{let et={};return nt.forEach((at,mt)=>et[at]=mt),et})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):nt=>new Uint8Array(Array.prototype.slice.call(nt,0)),_mkUriSafe=nt=>nt.replace(/=/g,"").replace(/[+\/]/g,et=>et=="+"?"-":"_"),_tidyB64=nt=>nt.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=nt=>{let et,at,mt,$t,Ct="";const Dt=nt.length%3;for(let Ft=0;Ft<nt.length;){if((at=nt.charCodeAt(Ft++))>255||(mt=nt.charCodeAt(Ft++))>255||($t=nt.charCodeAt(Ft++))>255)throw new TypeError("invalid character found");et=at<<16|mt<<8|$t,Ct+=b64chs[et>>18&63]+b64chs[et>>12&63]+b64chs[et>>6&63]+b64chs[et&63]}return Dt?Ct.slice(0,Dt-3)+"===".substring(Dt):Ct},_btoa=typeof btoa=="function"?nt=>btoa(nt):_hasBuffer?nt=>Buffer$1.from(nt,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?nt=>Buffer$1.from(nt).toString("base64"):nt=>{let at=[];for(let mt=0,$t=nt.length;mt<$t;mt+=4096)at.push(_fromCC.apply(null,nt.subarray(mt,mt+4096)));return _btoa(at.join(""))},fromUint8Array=(nt,et=!1)=>et?_mkUriSafe(_fromUint8Array(nt)):_fromUint8Array(nt),cb_utob=nt=>{if(nt.length<2){var et=nt.charCodeAt(0);return et<128?nt:et<2048?_fromCC(192|et>>>6)+_fromCC(128|et&63):_fromCC(224|et>>>12&15)+_fromCC(128|et>>>6&63)+_fromCC(128|et&63)}else{var et=65536+(nt.charCodeAt(0)-55296)*1024+(nt.charCodeAt(1)-56320);return _fromCC(240|et>>>18&7)+_fromCC(128|et>>>12&63)+_fromCC(128|et>>>6&63)+_fromCC(128|et&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=nt=>nt.replace(re_utob,cb_utob),_encode=_hasBuffer?nt=>Buffer$1.from(nt,"utf8").toString("base64"):_TE?nt=>_fromUint8Array(_TE.encode(nt)):nt=>_btoa(utob(nt)),encode$2=(nt,et=!1)=>et?_mkUriSafe(_encode(nt)):_encode(nt),encodeURI$1=nt=>encode$2(nt,!0),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=nt=>{switch(nt.length){case 4:var et=(7&nt.charCodeAt(0))<<18|(63&nt.charCodeAt(1))<<12|(63&nt.charCodeAt(2))<<6|63&nt.charCodeAt(3),at=et-65536;return _fromCC((at>>>10)+55296)+_fromCC((at&1023)+56320);case 3:return _fromCC((15&nt.charCodeAt(0))<<12|(63&nt.charCodeAt(1))<<6|63&nt.charCodeAt(2));default:return _fromCC((31&nt.charCodeAt(0))<<6|63&nt.charCodeAt(1))}},btou=nt=>nt.replace(re_btou,cb_btou),atobPolyfill=nt=>{if(nt=nt.replace(/\s+/g,""),!b64re.test(nt))throw new TypeError("malformed base64.");nt+="==".slice(2-(nt.length&3));let et,at="",mt,$t;for(let Ct=0;Ct<nt.length;)et=b64tab[nt.charAt(Ct++)]<<18|b64tab[nt.charAt(Ct++)]<<12|(mt=b64tab[nt.charAt(Ct++)])<<6|($t=b64tab[nt.charAt(Ct++)]),at+=mt===64?_fromCC(et>>16&255):$t===64?_fromCC(et>>16&255,et>>8&255):_fromCC(et>>16&255,et>>8&255,et&255);return at},_atob=typeof atob=="function"?nt=>atob(_tidyB64(nt)):_hasBuffer?nt=>Buffer$1.from(nt,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?nt=>_U8Afrom(Buffer$1.from(nt,"base64")):nt=>_U8Afrom(_atob(nt).split("").map(et=>et.charCodeAt(0))),toUint8Array=nt=>_toUint8Array(_unURI(nt)),_decode=_hasBuffer?nt=>Buffer$1.from(nt,"base64").toString("utf8"):_TD?nt=>_TD.decode(_toUint8Array(nt)):nt=>btou(_atob(nt)),_unURI=nt=>_tidyB64(nt.replace(/[-_]/g,et=>et=="-"?"+":"/")),decode=nt=>_decode(_unURI(nt)),isValid=nt=>{if(typeof nt!="string")return!1;const et=nt.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(et)||!/[^\s0-9a-zA-Z\-_]/.test(et)},_noEnum=nt=>({value:nt,enumerable:!1,writable:!0,configurable:!0}),extendString=function(){const nt=(et,at)=>Object.defineProperty(String.prototype,et,_noEnum(at));nt("fromBase64",function(){return decode(this)}),nt("toBase64",function(et){return encode$2(this,et)}),nt("toBase64URI",function(){return encode$2(this,!0)}),nt("toBase64URL",function(){return encode$2(this,!0)}),nt("toUint8Array",function(){return toUint8Array(this)})},extendUint8Array=function(){const nt=(et,at)=>Object.defineProperty(Uint8Array.prototype,et,_noEnum(at));nt("toBase64",function(et){return fromUint8Array(this,et)}),nt("toBase64URI",function(){return fromUint8Array(this,!0)}),nt("toBase64URL",function(){return fromUint8Array(this,!0)})},extendBuiltins=()=>{extendString(),extendUint8Array()},gBase64={version:version$1,VERSION:VERSION$3,atob:_atob,atobPolyfill,btoa:_btoa,btoaPolyfill,fromBase64:decode,toBase64:encode$2,encode:encode$2,encodeURI:encodeURI$1,encodeURL:encodeURI$1,utob,btou,decode,isValid,fromUint8Array,toUint8Array,extendString,extendUint8Array,extendBuiltins};let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let nt=0;nt<256;++nt)byteToHex$1.push((nt+256).toString(16).slice(1));function unsafeStringify(nt,et=0){return byteToHex$1[nt[et+0]]+byteToHex$1[nt[et+1]]+byteToHex$1[nt[et+2]]+byteToHex$1[nt[et+3]]+"-"+byteToHex$1[nt[et+4]]+byteToHex$1[nt[et+5]]+"-"+byteToHex$1[nt[et+6]]+byteToHex$1[nt[et+7]]+"-"+byteToHex$1[nt[et+8]]+byteToHex$1[nt[et+9]]+"-"+byteToHex$1[nt[et+10]]+byteToHex$1[nt[et+11]]+byteToHex$1[nt[et+12]]+byteToHex$1[nt[et+13]]+byteToHex$1[nt[et+14]]+byteToHex$1[nt[et+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4$1(nt,et,at){if(native.randomUUID&&!et&&!nt)return native.randomUUID();nt=nt||{};const mt=nt.random||(nt.rng||rng$1)();return mt[6]=mt[6]&15|64,mt[8]=mt[8]&63|128,unsafeStringify(mt)}const global$1=globalThis||void 0||self;function bind(nt,et){return function(){return nt.apply(et,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(nt=>et=>{const at=toString$1.call(et);return nt[at]||(nt[at]=at.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=nt=>(nt=nt.toLowerCase(),et=>kindOf(et)===nt),typeOfTest=nt=>et=>typeof et===nt,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(nt){return nt!==null&&!isUndefined(nt)&&nt.constructor!==null&&!isUndefined(nt.constructor)&&isFunction$1(nt.constructor.isBuffer)&&nt.constructor.isBuffer(nt)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(nt){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(nt):et=nt&&nt.buffer&&isArrayBuffer(nt.buffer),et}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=nt=>nt!==null&&typeof nt=="object",isBoolean=nt=>nt===!0||nt===!1,isPlainObject=nt=>{if(kindOf(nt)!=="object")return!1;const et=getPrototypeOf(nt);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in nt)&&!(Symbol.iterator in nt)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=nt=>isObject$2(nt)&&isFunction$1(nt.pipe),isFormData=nt=>{let et;return nt&&(typeof FormData=="function"&&nt instanceof FormData||isFunction$1(nt.append)&&((et=kindOf(nt))==="formdata"||et==="object"&&isFunction$1(nt.toString)&&nt.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest$1,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=nt=>nt.trim?nt.trim():nt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(nt,et,{allOwnKeys:at=!1}={}){if(nt===null||typeof nt>"u")return;let mt,$t;if(typeof nt!="object"&&(nt=[nt]),isArray$1(nt))for(mt=0,$t=nt.length;mt<$t;mt++)et.call(null,nt[mt],mt,nt);else{const Ct=at?Object.getOwnPropertyNames(nt):Object.keys(nt),Dt=Ct.length;let Ft;for(mt=0;mt<Dt;mt++)Ft=Ct[mt],et.call(null,nt[Ft],Ft,nt)}}function findKey(nt,et){et=et.toLowerCase();const at=Object.keys(nt);let mt=at.length,$t;for(;mt-- >0;)if($t=at[mt],et===$t.toLowerCase())return $t;return null}const _global$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined=nt=>!isUndefined(nt)&&nt!==_global$1;function merge$1(){const{caseless:nt}=isContextDefined(this)&&this||{},et={},at=(mt,$t)=>{const Ct=nt&&findKey(et,$t)||$t;isPlainObject(et[Ct])&&isPlainObject(mt)?et[Ct]=merge$1(et[Ct],mt):isPlainObject(mt)?et[Ct]=merge$1({},mt):isArray$1(mt)?et[Ct]=mt.slice():et[Ct]=mt};for(let mt=0,$t=arguments.length;mt<$t;mt++)arguments[mt]&&forEach(arguments[mt],at);return et}const extend=(nt,et,at,{allOwnKeys:mt}={})=>(forEach(et,($t,Ct)=>{at&&isFunction$1($t)?nt[Ct]=bind($t,at):nt[Ct]=$t},{allOwnKeys:mt}),nt),stripBOM=nt=>(nt.charCodeAt(0)===65279&&(nt=nt.slice(1)),nt),inherits=(nt,et,at,mt)=>{nt.prototype=Object.create(et.prototype,mt),nt.prototype.constructor=nt,Object.defineProperty(nt,"super",{value:et.prototype}),at&&Object.assign(nt.prototype,at)},toFlatObject=(nt,et,at,mt)=>{let $t,Ct,Dt;const Ft={};if(et=et||{},nt==null)return et;do{for($t=Object.getOwnPropertyNames(nt),Ct=$t.length;Ct-- >0;)Dt=$t[Ct],(!mt||mt(Dt,nt,et))&&!Ft[Dt]&&(et[Dt]=nt[Dt],Ft[Dt]=!0);nt=at!==!1&&getPrototypeOf(nt)}while(nt&&(!at||at(nt,et))&&nt!==Object.prototype);return et},endsWith=(nt,et,at)=>{nt=String(nt),(at===void 0||at>nt.length)&&(at=nt.length),at-=et.length;const mt=nt.indexOf(et,at);return mt!==-1&&mt===at},toArray=nt=>{if(!nt)return null;if(isArray$1(nt))return nt;let et=nt.length;if(!isNumber(et))return null;const at=new Array(et);for(;et-- >0;)at[et]=nt[et];return at},isTypedArray$1=(nt=>et=>nt&&et instanceof nt)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(nt,et)=>{const mt=(nt&&nt[Symbol.iterator]).call(nt);let $t;for(;($t=mt.next())&&!$t.done;){const Ct=$t.value;et.call(nt,Ct[0],Ct[1])}},matchAll=(nt,et)=>{let at;const mt=[];for(;(at=nt.exec(et))!==null;)mt.push(at);return mt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=nt=>nt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(at,mt,$t){return mt.toUpperCase()+$t}),hasOwnProperty$a=(({hasOwnProperty:nt})=>(et,at)=>nt.call(et,at))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(nt,et)=>{const at=Object.getOwnPropertyDescriptors(nt),mt={};forEach(at,($t,Ct)=>{let Dt;(Dt=et($t,Ct,nt))!==!1&&(mt[Ct]=Dt||$t)}),Object.defineProperties(nt,mt)},freezeMethods=nt=>{reduceDescriptors(nt,(et,at)=>{if(isFunction$1(nt)&&["arguments","caller","callee"].indexOf(at)!==-1)return!1;const mt=nt[at];if(isFunction$1(mt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+at+"'")})}})},toObjectSet=(nt,et)=>{const at={},mt=$t=>{$t.forEach(Ct=>{at[Ct]=!0})};return isArray$1(nt)?mt(nt):mt(String(nt).split(et)),at},noop$1=()=>{},toFiniteNumber=(nt,et)=>nt!=null&&Number.isFinite(nt=+nt)?nt:et,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(nt=16,et=ALPHABET.ALPHA_DIGIT)=>{let at="";const{length:mt}=et;for(;nt--;)at+=et[Math.random()*mt|0];return at};function isSpecCompliantForm(nt){return!!(nt&&isFunction$1(nt.append)&&nt[Symbol.toStringTag]==="FormData"&&nt[Symbol.iterator])}const toJSONObject=nt=>{const et=new Array(10),at=(mt,$t)=>{if(isObject$2(mt)){if(et.indexOf(mt)>=0)return;if(!("toJSON"in mt)){et[$t]=mt;const Ct=isArray$1(mt)?[]:{};return forEach(mt,(Dt,Ft)=>{const Nt=at(Dt,$t+1);!isUndefined(Nt)&&(Ct[Ft]=Nt)}),et[$t]=void 0,Ct}}return mt};return at(nt,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=nt=>nt&&(isObject$2(nt)||isFunction$1(nt))&&isFunction$1(nt.then)&&isFunction$1(nt.catch),_setImmediate=((nt,et)=>nt?setImmediate:et?((at,mt)=>(_global$1.addEventListener("message",({source:$t,data:Ct})=>{$t===_global$1&&Ct===at&&mt.length&&mt.shift()()},!1),$t=>{mt.push($t),_global$1.postMessage(at,"*")}))(`axios@${Math.random()}`,[]):at=>setTimeout(at))(typeof setImmediate=="function",isFunction$1(_global$1.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global$1):typeof process$1<"u"&&process$1.nextTick||_setImmediate,utils$2={isArray:isArray$1,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$2,isPlainObject,isReadableStream,isRequest:isRequest$1,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$a,hasOwnProp:hasOwnProperty$a,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global$1,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError$1(nt,et,at,mt,$t){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=nt,this.name="AxiosError",et&&(this.code=et),at&&(this.config=at),mt&&(this.request=mt),$t&&(this.response=$t,this.status=$t.status?$t.status:null)}utils$2.inherits(AxiosError$1,Error,{toJSON:function nt(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(nt=>{descriptors[nt]={value:nt}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(nt,et,at,mt,$t,Ct)=>{const Dt=Object.create(prototype$1);return utils$2.toFlatObject(nt,Dt,function(Nt){return Nt!==Error.prototype},Ft=>Ft!=="isAxiosError"),AxiosError$1.call(Dt,nt.message,et,at,mt,$t),Dt.cause=nt,Dt.name=nt.name,Ct&&Object.assign(Dt,Ct),Dt};const httpAdapter=null;function isVisitable(nt){return utils$2.isPlainObject(nt)||utils$2.isArray(nt)}function removeBrackets(nt){return utils$2.endsWith(nt,"[]")?nt.slice(0,-2):nt}function renderKey(nt,et,at){return nt?nt.concat(et).map(function($t,Ct){return $t=removeBrackets($t),!at&&Ct?"["+$t+"]":$t}).join(at?".":""):et}function isFlatArray(nt){return utils$2.isArray(nt)&&!nt.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function nt(et){return/^is[A-Z]/.test(et)});function toFormData$1(nt,et,at){if(!utils$2.isObject(nt))throw new TypeError("target must be an object");et=et||new FormData,at=utils$2.toFlatObject(at,{metaTokens:!0,dots:!1,indexes:!1},!1,function(lr,dr){return!utils$2.isUndefined(dr[lr])});const mt=at.metaTokens,$t=at.visitor||Lt,Ct=at.dots,Dt=at.indexes,Nt=(at.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(et);if(!utils$2.isFunction($t))throw new TypeError("visitor must be a function");function jt(or){if(or===null)return"";if(utils$2.isDate(or))return or.toISOString();if(!Nt&&utils$2.isBlob(or))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(or)||utils$2.isTypedArray(or)?Nt&&typeof Blob=="function"?new Blob([or]):Buffer$1.from(or):or}function Lt(or,lr,dr){let pr=or;if(or&&!dr&&typeof or=="object"){if(utils$2.endsWith(lr,"{}"))lr=mt?lr:lr.slice(0,-2),or=JSON.stringify(or);else if(utils$2.isArray(or)&&isFlatArray(or)||(utils$2.isFileList(or)||utils$2.endsWith(lr,"[]"))&&(pr=utils$2.toArray(or)))return lr=removeBrackets(lr),pr.forEach(function(vr,br){!(utils$2.isUndefined(vr)||vr===null)&&et.append(Dt===!0?renderKey([lr],br,Ct):Dt===null?lr:lr+"[]",jt(vr))}),!1}return isVisitable(or)?!0:(et.append(renderKey(dr,lr,Ct),jt(or)),!1)}const Vt=[],er=Object.assign(predicates,{defaultVisitor:Lt,convertValue:jt,isVisitable});function ir(or,lr){if(!utils$2.isUndefined(or)){if(Vt.indexOf(or)!==-1)throw Error("Circular reference detected in "+lr.join("."));Vt.push(or),utils$2.forEach(or,function(pr,hr){(!(utils$2.isUndefined(pr)||pr===null)&&$t.call(et,pr,utils$2.isString(hr)?hr.trim():hr,lr,er))===!0&&ir(pr,lr?lr.concat(hr):[hr])}),Vt.pop()}}if(!utils$2.isObject(nt))throw new TypeError("data must be an object");return ir(nt),et}function encode$1(nt){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(nt).replace(/[!'()~]|%20|%00/g,function(mt){return et[mt]})}function AxiosURLSearchParams(nt,et){this._pairs=[],nt&&toFormData$1(nt,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function nt(et,at){this._pairs.push([et,at])};prototype.toString=function nt(et){const at=et?function(mt){return et.call(this,mt,encode$1)}:encode$1;return this._pairs.map(function($t){return at($t[0])+"="+at($t[1])},"").join("&")};function encode(nt){return encodeURIComponent(nt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(nt,et,at){if(!et)return nt;const mt=at&&at.encode||encode;utils$2.isFunction(at)&&(at={serialize:at});const $t=at&&at.serialize;let Ct;if($t?Ct=$t(et,at):Ct=utils$2.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,at).toString(mt),Ct){const Dt=nt.indexOf("#");Dt!==-1&&(nt=nt.slice(0,Dt)),nt+=(nt.indexOf("?")===-1?"?":"&")+Ct}return nt}class InterceptorManager{constructor(){this.handlers=[]}use(et,at,mt){return this.handlers.push({fulfilled:et,rejected:at,synchronous:mt?mt.synchronous:!1,runWhen:mt?mt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$2.forEach(this.handlers,function(mt){mt!==null&&et(mt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$1,...platform$1};function toURLEncodedForm(nt,et){return toFormData$1(nt,new platform.classes.URLSearchParams,Object.assign({visitor:function(at,mt,$t,Ct){return platform.isNode&&utils$2.isBuffer(at)?(this.append(mt,at.toString("base64")),!1):Ct.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(nt){return utils$2.matchAll(/\w+|\[(\w*)]/g,nt).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(nt){const et={},at=Object.keys(nt);let mt;const $t=at.length;let Ct;for(mt=0;mt<$t;mt++)Ct=at[mt],et[Ct]=nt[Ct];return et}function formDataToJSON(nt){function et(at,mt,$t,Ct){let Dt=at[Ct++];if(Dt==="__proto__")return!0;const Ft=Number.isFinite(+Dt),Nt=Ct>=at.length;return Dt=!Dt&&utils$2.isArray($t)?$t.length:Dt,Nt?(utils$2.hasOwnProp($t,Dt)?$t[Dt]=[$t[Dt],mt]:$t[Dt]=mt,!Ft):((!$t[Dt]||!utils$2.isObject($t[Dt]))&&($t[Dt]=[]),et(at,mt,$t[Dt],Ct)&&utils$2.isArray($t[Dt])&&($t[Dt]=arrayToObject($t[Dt])),!Ft)}if(utils$2.isFormData(nt)&&utils$2.isFunction(nt.entries)){const at={};return utils$2.forEachEntry(nt,(mt,$t)=>{et(parsePropPath(mt),$t,at,0)}),at}return null}function stringifySafely(nt,et,at){if(utils$2.isString(nt))try{return(et||JSON.parse)(nt),utils$2.trim(nt)}catch(mt){if(mt.name!=="SyntaxError")throw mt}return(0,JSON.stringify)(nt)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function nt(et,at){const mt=at.getContentType()||"",$t=mt.indexOf("application/json")>-1,Ct=utils$2.isObject(et);if(Ct&&utils$2.isHTMLForm(et)&&(et=new FormData(et)),utils$2.isFormData(et))return $t?JSON.stringify(formDataToJSON(et)):et;if(utils$2.isArrayBuffer(et)||utils$2.isBuffer(et)||utils$2.isStream(et)||utils$2.isFile(et)||utils$2.isBlob(et)||utils$2.isReadableStream(et))return et;if(utils$2.isArrayBufferView(et))return et.buffer;if(utils$2.isURLSearchParams(et))return at.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let Ft;if(Ct){if(mt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((Ft=utils$2.isFileList(et))||mt.indexOf("multipart/form-data")>-1){const Nt=this.env&&this.env.FormData;return toFormData$1(Ft?{"files[]":et}:et,Nt&&new Nt,this.formSerializer)}}return Ct||$t?(at.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function nt(et){const at=this.transitional||defaults.transitional,mt=at&&at.forcedJSONParsing,$t=this.responseType==="json";if(utils$2.isResponse(et)||utils$2.isReadableStream(et))return et;if(et&&utils$2.isString(et)&&(mt&&!this.responseType||$t)){const Dt=!(at&&at.silentJSONParsing)&&$t;try{return JSON.parse(et)}catch(Ft){if(Dt)throw Ft.name==="SyntaxError"?AxiosError$1.from(Ft,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):Ft}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function nt(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],nt=>{defaults.headers[nt]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=nt=>{const et={};let at,mt,$t;return nt&&nt.split(`
`).forEach(function(Dt){$t=Dt.indexOf(":"),at=Dt.substring(0,$t).trim().toLowerCase(),mt=Dt.substring($t+1).trim(),!(!at||et[at]&&ignoreDuplicateOf[at])&&(at==="set-cookie"?et[at]?et[at].push(mt):et[at]=[mt]:et[at]=et[at]?et[at]+", "+mt:mt)}),et},$internals=Symbol("internals");function normalizeHeader(nt){return nt&&String(nt).trim().toLowerCase()}function normalizeValue(nt){return nt===!1||nt==null?nt:utils$2.isArray(nt)?nt.map(normalizeValue):String(nt)}function parseTokens(nt){const et=Object.create(null),at=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let mt;for(;mt=at.exec(nt);)et[mt[1]]=mt[2];return et}const isValidHeaderName=nt=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(nt.trim());function matchHeaderValue(nt,et,at,mt,$t){if(utils$2.isFunction(mt))return mt.call(this,et,at);if($t&&(et=at),!!utils$2.isString(et)){if(utils$2.isString(mt))return et.indexOf(mt)!==-1;if(utils$2.isRegExp(mt))return mt.test(et)}}function formatHeader(nt){return nt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,at,mt)=>at.toUpperCase()+mt)}function buildAccessors(nt,et){const at=utils$2.toCamelCase(" "+et);["get","set","has"].forEach(mt=>{Object.defineProperty(nt,mt+at,{value:function($t,Ct,Dt){return this[mt].call(this,et,$t,Ct,Dt)},configurable:!0})})}let AxiosHeaders$1=class{constructor(et){et&&this.set(et)}set(et,at,mt){const $t=this;function Ct(Ft,Nt,jt){const Lt=normalizeHeader(Nt);if(!Lt)throw new Error("header name must be a non-empty string");const Vt=utils$2.findKey($t,Lt);(!Vt||$t[Vt]===void 0||jt===!0||jt===void 0&&$t[Vt]!==!1)&&($t[Vt||Nt]=normalizeValue(Ft))}const Dt=(Ft,Nt)=>utils$2.forEach(Ft,(jt,Lt)=>Ct(jt,Lt,Nt));if(utils$2.isPlainObject(et)||et instanceof this.constructor)Dt(et,at);else if(utils$2.isString(et)&&(et=et.trim())&&!isValidHeaderName(et))Dt(parseHeaders(et),at);else if(utils$2.isHeaders(et))for(const[Ft,Nt]of et.entries())Ct(Nt,Ft,mt);else et!=null&&Ct(at,et,mt);return this}get(et,at){if(et=normalizeHeader(et),et){const mt=utils$2.findKey(this,et);if(mt){const $t=this[mt];if(!at)return $t;if(at===!0)return parseTokens($t);if(utils$2.isFunction(at))return at.call(this,$t,mt);if(utils$2.isRegExp(at))return at.exec($t);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,at){if(et=normalizeHeader(et),et){const mt=utils$2.findKey(this,et);return!!(mt&&this[mt]!==void 0&&(!at||matchHeaderValue(this,this[mt],mt,at)))}return!1}delete(et,at){const mt=this;let $t=!1;function Ct(Dt){if(Dt=normalizeHeader(Dt),Dt){const Ft=utils$2.findKey(mt,Dt);Ft&&(!at||matchHeaderValue(mt,mt[Ft],Ft,at))&&(delete mt[Ft],$t=!0)}}return utils$2.isArray(et)?et.forEach(Ct):Ct(et),$t}clear(et){const at=Object.keys(this);let mt=at.length,$t=!1;for(;mt--;){const Ct=at[mt];(!et||matchHeaderValue(this,this[Ct],Ct,et,!0))&&(delete this[Ct],$t=!0)}return $t}normalize(et){const at=this,mt={};return utils$2.forEach(this,($t,Ct)=>{const Dt=utils$2.findKey(mt,Ct);if(Dt){at[Dt]=normalizeValue($t),delete at[Ct];return}const Ft=et?formatHeader(Ct):String(Ct).trim();Ft!==Ct&&delete at[Ct],at[Ft]=normalizeValue($t),mt[Ft]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const at=Object.create(null);return utils$2.forEach(this,(mt,$t)=>{mt!=null&&mt!==!1&&(at[$t]=et&&utils$2.isArray(mt)?mt.join(", "):mt)}),at}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,at])=>et+": "+at).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...at){const mt=new this(et);return at.forEach($t=>mt.set($t)),mt}static accessor(et){const mt=(this[$internals]=this[$internals]={accessors:{}}).accessors,$t=this.prototype;function Ct(Dt){const Ft=normalizeHeader(Dt);mt[Ft]||(buildAccessors($t,Dt),mt[Ft]=!0)}return utils$2.isArray(et)?et.forEach(Ct):Ct(et),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders$1.prototype,({value:nt},et)=>{let at=et[0].toUpperCase()+et.slice(1);return{get:()=>nt,set(mt){this[at]=mt}}});utils$2.freezeMethods(AxiosHeaders$1);function transformData(nt,et){const at=this||defaults,mt=et||at,$t=AxiosHeaders$1.from(mt.headers);let Ct=mt.data;return utils$2.forEach(nt,function(Ft){Ct=Ft.call(at,Ct,$t.normalize(),et?et.status:void 0)}),$t.normalize(),Ct}function isCancel$1(nt){return!!(nt&&nt.__CANCEL__)}function CanceledError$1(nt,et,at){AxiosError$1.call(this,nt??"canceled",AxiosError$1.ERR_CANCELED,et,at),this.name="CanceledError"}utils$2.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(nt,et,at){const mt=at.config.validateStatus;!at.status||!mt||mt(at.status)?nt(at):et(new AxiosError$1("Request failed with status code "+at.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(at.status/100)-4],at.config,at.request,at))}function parseProtocol(nt){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(nt);return et&&et[1]||""}function speedometer(nt,et){nt=nt||10;const at=new Array(nt),mt=new Array(nt);let $t=0,Ct=0,Dt;return et=et!==void 0?et:1e3,function(Nt){const jt=Date.now(),Lt=mt[Ct];Dt||(Dt=jt),at[$t]=Nt,mt[$t]=jt;let Vt=Ct,er=0;for(;Vt!==$t;)er+=at[Vt++],Vt=Vt%nt;if($t=($t+1)%nt,$t===Ct&&(Ct=(Ct+1)%nt),jt-Dt<et)return;const ir=Lt&&jt-Lt;return ir?Math.round(er*1e3/ir):void 0}}function throttle(nt,et){let at=0,mt=1e3/et,$t,Ct;const Dt=(jt,Lt=Date.now())=>{at=Lt,$t=null,Ct&&(clearTimeout(Ct),Ct=null),nt.apply(null,jt)};return[(...jt)=>{const Lt=Date.now(),Vt=Lt-at;Vt>=mt?Dt(jt,Lt):($t=jt,Ct||(Ct=setTimeout(()=>{Ct=null,Dt($t)},mt-Vt)))},()=>$t&&Dt($t)]}const progressEventReducer=(nt,et,at=3)=>{let mt=0;const $t=speedometer(50,250);return throttle(Ct=>{const Dt=Ct.loaded,Ft=Ct.lengthComputable?Ct.total:void 0,Nt=Dt-mt,jt=$t(Nt),Lt=Dt<=Ft;mt=Dt;const Vt={loaded:Dt,total:Ft,progress:Ft?Dt/Ft:void 0,bytes:Nt,rate:jt||void 0,estimated:jt&&Ft&&Lt?(Ft-Dt)/jt:void 0,event:Ct,lengthComputable:Ft!=null,[et?"download":"upload"]:!0};nt(Vt)},at)},progressEventDecorator=(nt,et)=>{const at=nt!=null;return[mt=>et[0]({lengthComputable:at,total:nt,loaded:mt}),et[1]]},asyncDecorator=nt=>(...et)=>utils$2.asap(()=>nt(...et)),isURLSameOrigin=platform.hasStandardBrowserEnv?((nt,et)=>at=>(at=new URL(at,platform.origin),nt.protocol===at.protocol&&nt.host===at.host&&(et||nt.port===at.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(nt,et,at,mt,$t,Ct){const Dt=[nt+"="+encodeURIComponent(et)];utils$2.isNumber(at)&&Dt.push("expires="+new Date(at).toGMTString()),utils$2.isString(mt)&&Dt.push("path="+mt),utils$2.isString($t)&&Dt.push("domain="+$t),Ct===!0&&Dt.push("secure"),document.cookie=Dt.join("; ")},read(nt){const et=document.cookie.match(new RegExp("(^|;\\s*)("+nt+")=([^;]*)"));return et?decodeURIComponent(et[3]):null},remove(nt){this.write(nt,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(nt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(nt)}function combineURLs(nt,et){return et?nt.replace(/\/?\/$/,"")+"/"+et.replace(/^\/+/,""):nt}function buildFullPath(nt,et){return nt&&!isAbsoluteURL(et)?combineURLs(nt,et):et}const headersToObject=nt=>nt instanceof AxiosHeaders$1?{...nt}:nt;function mergeConfig$1(nt,et){et=et||{};const at={};function mt(jt,Lt,Vt,er){return utils$2.isPlainObject(jt)&&utils$2.isPlainObject(Lt)?utils$2.merge.call({caseless:er},jt,Lt):utils$2.isPlainObject(Lt)?utils$2.merge({},Lt):utils$2.isArray(Lt)?Lt.slice():Lt}function $t(jt,Lt,Vt,er){if(utils$2.isUndefined(Lt)){if(!utils$2.isUndefined(jt))return mt(void 0,jt,Vt,er)}else return mt(jt,Lt,Vt,er)}function Ct(jt,Lt){if(!utils$2.isUndefined(Lt))return mt(void 0,Lt)}function Dt(jt,Lt){if(utils$2.isUndefined(Lt)){if(!utils$2.isUndefined(jt))return mt(void 0,jt)}else return mt(void 0,Lt)}function Ft(jt,Lt,Vt){if(Vt in et)return mt(jt,Lt);if(Vt in nt)return mt(void 0,jt)}const Nt={url:Ct,method:Ct,data:Ct,baseURL:Dt,transformRequest:Dt,transformResponse:Dt,paramsSerializer:Dt,timeout:Dt,timeoutMessage:Dt,withCredentials:Dt,withXSRFToken:Dt,adapter:Dt,responseType:Dt,xsrfCookieName:Dt,xsrfHeaderName:Dt,onUploadProgress:Dt,onDownloadProgress:Dt,decompress:Dt,maxContentLength:Dt,maxBodyLength:Dt,beforeRedirect:Dt,transport:Dt,httpAgent:Dt,httpsAgent:Dt,cancelToken:Dt,socketPath:Dt,responseEncoding:Dt,validateStatus:Ft,headers:(jt,Lt,Vt)=>$t(headersToObject(jt),headersToObject(Lt),Vt,!0)};return utils$2.forEach(Object.keys(Object.assign({},nt,et)),function(Lt){const Vt=Nt[Lt]||$t,er=Vt(nt[Lt],et[Lt],Lt);utils$2.isUndefined(er)&&Vt!==Ft||(at[Lt]=er)}),at}const resolveConfig=nt=>{const et=mergeConfig$1({},nt);let{data:at,withXSRFToken:mt,xsrfHeaderName:$t,xsrfCookieName:Ct,headers:Dt,auth:Ft}=et;et.headers=Dt=AxiosHeaders$1.from(Dt),et.url=buildURL(buildFullPath(et.baseURL,et.url),nt.params,nt.paramsSerializer),Ft&&Dt.set("Authorization","Basic "+btoa((Ft.username||"")+":"+(Ft.password?unescape(encodeURIComponent(Ft.password)):"")));let Nt;if(utils$2.isFormData(at)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Dt.setContentType(void 0);else if((Nt=Dt.getContentType())!==!1){const[jt,...Lt]=Nt?Nt.split(";").map(Vt=>Vt.trim()).filter(Boolean):[];Dt.setContentType([jt||"multipart/form-data",...Lt].join("; "))}}if(platform.hasStandardBrowserEnv&&(mt&&utils$2.isFunction(mt)&&(mt=mt(et)),mt||mt!==!1&&isURLSameOrigin(et.url))){const jt=$t&&Ct&&cookies.read(Ct);jt&&Dt.set($t,jt)}return et},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(nt){return new Promise(function(at,mt){const $t=resolveConfig(nt);let Ct=$t.data;const Dt=AxiosHeaders$1.from($t.headers).normalize();let{responseType:Ft,onUploadProgress:Nt,onDownloadProgress:jt}=$t,Lt,Vt,er,ir,or;function lr(){ir&&ir(),or&&or(),$t.cancelToken&&$t.cancelToken.unsubscribe(Lt),$t.signal&&$t.signal.removeEventListener("abort",Lt)}let dr=new XMLHttpRequest;dr.open($t.method.toUpperCase(),$t.url,!0),dr.timeout=$t.timeout;function pr(){if(!dr)return;const vr=AxiosHeaders$1.from("getAllResponseHeaders"in dr&&dr.getAllResponseHeaders()),xr={data:!Ft||Ft==="text"||Ft==="json"?dr.responseText:dr.response,status:dr.status,statusText:dr.statusText,headers:vr,config:nt,request:dr};settle(function(Er){at(Er),lr()},function(Er){mt(Er),lr()},xr),dr=null}"onloadend"in dr?dr.onloadend=pr:dr.onreadystatechange=function(){!dr||dr.readyState!==4||dr.status===0&&!(dr.responseURL&&dr.responseURL.indexOf("file:")===0)||setTimeout(pr)},dr.onabort=function(){dr&&(mt(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,nt,dr)),dr=null)},dr.onerror=function(){mt(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,nt,dr)),dr=null},dr.ontimeout=function(){let br=$t.timeout?"timeout of "+$t.timeout+"ms exceeded":"timeout exceeded";const xr=$t.transitional||transitionalDefaults;$t.timeoutErrorMessage&&(br=$t.timeoutErrorMessage),mt(new AxiosError$1(br,xr.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,nt,dr)),dr=null},Ct===void 0&&Dt.setContentType(null),"setRequestHeader"in dr&&utils$2.forEach(Dt.toJSON(),function(br,xr){dr.setRequestHeader(xr,br)}),utils$2.isUndefined($t.withCredentials)||(dr.withCredentials=!!$t.withCredentials),Ft&&Ft!=="json"&&(dr.responseType=$t.responseType),jt&&([er,or]=progressEventReducer(jt,!0),dr.addEventListener("progress",er)),Nt&&dr.upload&&([Vt,ir]=progressEventReducer(Nt),dr.upload.addEventListener("progress",Vt),dr.upload.addEventListener("loadend",ir)),($t.cancelToken||$t.signal)&&(Lt=vr=>{dr&&(mt(!vr||vr.type?new CanceledError$1(null,nt,dr):vr),dr.abort(),dr=null)},$t.cancelToken&&$t.cancelToken.subscribe(Lt),$t.signal&&($t.signal.aborted?Lt():$t.signal.addEventListener("abort",Lt)));const hr=parseProtocol($t.url);if(hr&&platform.protocols.indexOf(hr)===-1){mt(new AxiosError$1("Unsupported protocol "+hr+":",AxiosError$1.ERR_BAD_REQUEST,nt));return}dr.send(Ct||null)})},composeSignals=(nt,et)=>{const{length:at}=nt=nt?nt.filter(Boolean):[];if(et||at){let mt=new AbortController,$t;const Ct=function(jt){if(!$t){$t=!0,Ft();const Lt=jt instanceof Error?jt:this.reason;mt.abort(Lt instanceof AxiosError$1?Lt:new CanceledError$1(Lt instanceof Error?Lt.message:Lt))}};let Dt=et&&setTimeout(()=>{Dt=null,Ct(new AxiosError$1(`timeout ${et} of ms exceeded`,AxiosError$1.ETIMEDOUT))},et);const Ft=()=>{nt&&(Dt&&clearTimeout(Dt),Dt=null,nt.forEach(jt=>{jt.unsubscribe?jt.unsubscribe(Ct):jt.removeEventListener("abort",Ct)}),nt=null)};nt.forEach(jt=>jt.addEventListener("abort",Ct));const{signal:Nt}=mt;return Nt.unsubscribe=()=>utils$2.asap(Ft),Nt}},streamChunk=function*(nt,et){let at=nt.byteLength;if(at<et){yield nt;return}let mt=0,$t;for(;mt<at;)$t=mt+et,yield nt.slice(mt,$t),mt=$t},readBytes=async function*(nt,et){for await(const at of readStream(nt))yield*streamChunk(at,et)},readStream=async function*(nt){if(nt[Symbol.asyncIterator]){yield*nt;return}const et=nt.getReader();try{for(;;){const{done:at,value:mt}=await et.read();if(at)break;yield mt}}finally{await et.cancel()}},trackStream=(nt,et,at,mt)=>{const $t=readBytes(nt,et);let Ct=0,Dt,Ft=Nt=>{Dt||(Dt=!0,mt&&mt(Nt))};return new ReadableStream({async pull(Nt){try{const{done:jt,value:Lt}=await $t.next();if(jt){Ft(),Nt.close();return}let Vt=Lt.byteLength;if(at){let er=Ct+=Vt;at(er)}Nt.enqueue(new Uint8Array(Lt))}catch(jt){throw Ft(jt),jt}},cancel(Nt){return Ft(Nt),$t.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(nt=>et=>nt.encode(et))(new TextEncoder):async nt=>new Uint8Array(await new Response(nt).arrayBuffer())),test=(nt,...et)=>{try{return!!nt(...et)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let nt=!1;const et=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return nt=!0,"half"}}).headers.has("Content-Type");return nt&&!et}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$2.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(nt=>nt.body)};isFetchSupported&&(nt=>{["text","arrayBuffer","blob","formData","stream"].forEach(et=>{!resolvers[et]&&(resolvers[et]=utils$2.isFunction(nt[et])?at=>at[et]():(at,mt)=>{throw new AxiosError$1(`Response type '${et}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,mt)})})})(new Response);const getBodyLength=async nt=>{if(nt==null)return 0;if(utils$2.isBlob(nt))return nt.size;if(utils$2.isSpecCompliantForm(nt))return(await new Request(platform.origin,{method:"POST",body:nt}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(nt)||utils$2.isArrayBuffer(nt))return nt.byteLength;if(utils$2.isURLSearchParams(nt)&&(nt=nt+""),utils$2.isString(nt))return(await encodeText(nt)).byteLength},resolveBodyLength=async(nt,et)=>{const at=utils$2.toFiniteNumber(nt.getContentLength());return at??getBodyLength(et)},fetchAdapter=isFetchSupported&&(async nt=>{let{url:et,method:at,data:mt,signal:$t,cancelToken:Ct,timeout:Dt,onDownloadProgress:Ft,onUploadProgress:Nt,responseType:jt,headers:Lt,withCredentials:Vt="same-origin",fetchOptions:er}=resolveConfig(nt);jt=jt?(jt+"").toLowerCase():"text";let ir=composeSignals([$t,Ct&&Ct.toAbortSignal()],Dt),or;const lr=ir&&ir.unsubscribe&&(()=>{ir.unsubscribe()});let dr;try{if(Nt&&supportsRequestStream&&at!=="get"&&at!=="head"&&(dr=await resolveBodyLength(Lt,mt))!==0){let xr=new Request(et,{method:"POST",body:mt,duplex:"half"}),Sr;if(utils$2.isFormData(mt)&&(Sr=xr.headers.get("content-type"))&&Lt.setContentType(Sr),xr.body){const[Er,$r]=progressEventDecorator(dr,progressEventReducer(asyncDecorator(Nt)));mt=trackStream(xr.body,DEFAULT_CHUNK_SIZE,Er,$r)}}utils$2.isString(Vt)||(Vt=Vt?"include":"omit");const pr="credentials"in Request.prototype;or=new Request(et,{...er,signal:ir,method:at.toUpperCase(),headers:Lt.normalize().toJSON(),body:mt,duplex:"half",credentials:pr?Vt:void 0});let hr=await fetch(or);const vr=supportsResponseStream&&(jt==="stream"||jt==="response");if(supportsResponseStream&&(Ft||vr&&lr)){const xr={};["status","statusText","headers"].forEach(Cr=>{xr[Cr]=hr[Cr]});const Sr=utils$2.toFiniteNumber(hr.headers.get("content-length")),[Er,$r]=Ft&&progressEventDecorator(Sr,progressEventReducer(asyncDecorator(Ft),!0))||[];hr=new Response(trackStream(hr.body,DEFAULT_CHUNK_SIZE,Er,()=>{$r&&$r(),lr&&lr()}),xr)}jt=jt||"text";let br=await resolvers[utils$2.findKey(resolvers,jt)||"text"](hr,nt);return!vr&&lr&&lr(),await new Promise((xr,Sr)=>{settle(xr,Sr,{data:br,headers:AxiosHeaders$1.from(hr.headers),status:hr.status,statusText:hr.statusText,config:nt,request:or})})}catch(pr){throw lr&&lr(),pr&&pr.name==="TypeError"&&/fetch/i.test(pr.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,nt,or),{cause:pr.cause||pr}):AxiosError$1.from(pr,pr&&pr.code,nt,or)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$2.forEach(knownAdapters,(nt,et)=>{if(nt){try{Object.defineProperty(nt,"name",{value:et})}catch{}Object.defineProperty(nt,"adapterName",{value:et})}});const renderReason=nt=>`- ${nt}`,isResolvedHandle=nt=>utils$2.isFunction(nt)||nt===null||nt===!1,adapters={getAdapter:nt=>{nt=utils$2.isArray(nt)?nt:[nt];const{length:et}=nt;let at,mt;const $t={};for(let Ct=0;Ct<et;Ct++){at=nt[Ct];let Dt;if(mt=at,!isResolvedHandle(at)&&(mt=knownAdapters[(Dt=String(at)).toLowerCase()],mt===void 0))throw new AxiosError$1(`Unknown adapter '${Dt}'`);if(mt)break;$t[Dt||"#"+Ct]=mt}if(!mt){const Ct=Object.entries($t).map(([Ft,Nt])=>`adapter ${Ft} `+(Nt===!1?"is not supported by the environment":"is not available in the build"));let Dt=et?Ct.length>1?`since :
`+Ct.map(renderReason).join(`
`):" "+renderReason(Ct[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+Dt,"ERR_NOT_SUPPORT")}return mt},adapters:knownAdapters};function throwIfCancellationRequested(nt){if(nt.cancelToken&&nt.cancelToken.throwIfRequested(),nt.signal&&nt.signal.aborted)throw new CanceledError$1(null,nt)}function dispatchRequest(nt){return throwIfCancellationRequested(nt),nt.headers=AxiosHeaders$1.from(nt.headers),nt.data=transformData.call(nt,nt.transformRequest),["post","put","patch"].indexOf(nt.method)!==-1&&nt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(nt.adapter||defaults.adapter)(nt).then(function(mt){return throwIfCancellationRequested(nt),mt.data=transformData.call(nt,nt.transformResponse,mt),mt.headers=AxiosHeaders$1.from(mt.headers),mt},function(mt){return isCancel$1(mt)||(throwIfCancellationRequested(nt),mt&&mt.response&&(mt.response.data=transformData.call(nt,nt.transformResponse,mt.response),mt.response.headers=AxiosHeaders$1.from(mt.response.headers))),Promise.reject(mt)})}const VERSION$2="1.7.9",validators$1={};["object","boolean","number","function","string","symbol"].forEach((nt,et)=>{validators$1[nt]=function(mt){return typeof mt===nt||"a"+(et<1?"n ":" ")+nt}});const deprecatedWarnings={};validators$1.transitional=function nt(et,at,mt){function $t(Ct,Dt){return"[Axios v"+VERSION$2+"] Transitional option '"+Ct+"'"+Dt+(mt?". "+mt:"")}return(Ct,Dt,Ft)=>{if(et===!1)throw new AxiosError$1($t(Dt," has been removed"+(at?" in "+at:"")),AxiosError$1.ERR_DEPRECATED);return at&&!deprecatedWarnings[Dt]&&(deprecatedWarnings[Dt]=!0,console.warn($t(Dt," has been deprecated since v"+at+" and will be removed in the near future"))),et?et(Ct,Dt,Ft):!0}};validators$1.spelling=function nt(et){return(at,mt)=>(console.warn(`${mt} is likely a misspelling of ${et}`),!0)};function assertOptions(nt,et,at){if(typeof nt!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const mt=Object.keys(nt);let $t=mt.length;for(;$t-- >0;){const Ct=mt[$t],Dt=et[Ct];if(Dt){const Ft=nt[Ct],Nt=Ft===void 0||Dt(Ft,Ct,nt);if(Nt!==!0)throw new AxiosError$1("option "+Ct+" must be "+Nt,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(at!==!0)throw new AxiosError$1("Unknown option "+Ct,AxiosError$1.ERR_BAD_OPTION)}}const validator$1={assertOptions,validators:validators$1},validators=validator$1.validators;let Axios$1=class{constructor(et){this.defaults=et,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(et,at){try{return await this._request(et,at)}catch(mt){if(mt instanceof Error){let $t={};Error.captureStackTrace?Error.captureStackTrace($t):$t=new Error;const Ct=$t.stack?$t.stack.replace(/^.+\n/,""):"";try{mt.stack?Ct&&!String(mt.stack).endsWith(Ct.replace(/^.+\n.+\n/,""))&&(mt.stack+=`
`+Ct):mt.stack=Ct}catch{}}throw mt}}_request(et,at){typeof et=="string"?(at=at||{},at.url=et):at=et||{},at=mergeConfig$1(this.defaults,at);const{transitional:mt,paramsSerializer:$t,headers:Ct}=at;mt!==void 0&&validator$1.assertOptions(mt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),$t!=null&&(utils$2.isFunction($t)?at.paramsSerializer={serialize:$t}:validator$1.assertOptions($t,{encode:validators.function,serialize:validators.function},!0)),validator$1.assertOptions(at,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),at.method=(at.method||this.defaults.method||"get").toLowerCase();let Dt=Ct&&utils$2.merge(Ct.common,Ct[at.method]);Ct&&utils$2.forEach(["delete","get","head","post","put","patch","common"],or=>{delete Ct[or]}),at.headers=AxiosHeaders$1.concat(Dt,Ct);const Ft=[];let Nt=!0;this.interceptors.request.forEach(function(lr){typeof lr.runWhen=="function"&&lr.runWhen(at)===!1||(Nt=Nt&&lr.synchronous,Ft.unshift(lr.fulfilled,lr.rejected))});const jt=[];this.interceptors.response.forEach(function(lr){jt.push(lr.fulfilled,lr.rejected)});let Lt,Vt=0,er;if(!Nt){const or=[dispatchRequest.bind(this),void 0];for(or.unshift.apply(or,Ft),or.push.apply(or,jt),er=or.length,Lt=Promise.resolve(at);Vt<er;)Lt=Lt.then(or[Vt++],or[Vt++]);return Lt}er=Ft.length;let ir=at;for(Vt=0;Vt<er;){const or=Ft[Vt++],lr=Ft[Vt++];try{ir=or(ir)}catch(dr){lr.call(this,dr);break}}try{Lt=dispatchRequest.call(this,ir)}catch(or){return Promise.reject(or)}for(Vt=0,er=jt.length;Vt<er;)Lt=Lt.then(jt[Vt++],jt[Vt++]);return Lt}getUri(et){et=mergeConfig$1(this.defaults,et);const at=buildFullPath(et.baseURL,et.url);return buildURL(at,et.params,et.paramsSerializer)}};utils$2.forEach(["delete","get","head","options"],function nt(et){Axios$1.prototype[et]=function(at,mt){return this.request(mergeConfig$1(mt||{},{method:et,url:at,data:(mt||{}).data}))}});utils$2.forEach(["post","put","patch"],function nt(et){function at(mt){return function(Ct,Dt,Ft){return this.request(mergeConfig$1(Ft||{},{method:et,headers:mt?{"Content-Type":"multipart/form-data"}:{},url:Ct,data:Dt}))}}Axios$1.prototype[et]=at(),Axios$1.prototype[et+"Form"]=at(!0)});let CancelToken$1=class T0{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let at;this.promise=new Promise(function(Ct){at=Ct});const mt=this;this.promise.then($t=>{if(!mt._listeners)return;let Ct=mt._listeners.length;for(;Ct-- >0;)mt._listeners[Ct]($t);mt._listeners=null}),this.promise.then=$t=>{let Ct;const Dt=new Promise(Ft=>{mt.subscribe(Ft),Ct=Ft}).then($t);return Dt.cancel=function(){mt.unsubscribe(Ct)},Dt},et(function(Ct,Dt,Ft){mt.reason||(mt.reason=new CanceledError$1(Ct,Dt,Ft),at(mt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const at=this._listeners.indexOf(et);at!==-1&&this._listeners.splice(at,1)}toAbortSignal(){const et=new AbortController,at=mt=>{et.abort(mt)};return this.subscribe(at),et.signal.unsubscribe=()=>this.unsubscribe(at),et.signal}static source(){let et;return{token:new T0(function($t){et=$t}),cancel:et}}};function spread$1(nt){return function(at){return nt.apply(null,at)}}function isAxiosError$1(nt){return utils$2.isObject(nt)&&nt.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([nt,et])=>{HttpStatusCode$1[et]=nt});function createInstance(nt){const et=new Axios$1(nt),at=bind(Axios$1.prototype.request,et);return utils$2.extend(at,Axios$1.prototype,et,{allOwnKeys:!0}),utils$2.extend(at,et,null,{allOwnKeys:!0}),at.create=function($t){return createInstance(mergeConfig$1(nt,$t))},at}const axios$1=createInstance(defaults);axios$1.Axios=Axios$1;axios$1.CanceledError=CanceledError$1;axios$1.CancelToken=CancelToken$1;axios$1.isCancel=isCancel$1;axios$1.VERSION=VERSION$2;axios$1.toFormData=toFormData$1;axios$1.AxiosError=AxiosError$1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function nt(et){return Promise.all(et)};axios$1.spread=spread$1;axios$1.isAxiosError=isAxiosError$1;axios$1.mergeConfig=mergeConfig$1;axios$1.AxiosHeaders=AxiosHeaders$1;axios$1.formToJSON=nt=>formDataToJSON(utils$2.isHTMLForm(nt)?new FormData(nt):nt);axios$1.getAdapter=adapters.getAdapter;axios$1.HttpStatusCode=HttpStatusCode$1;axios$1.default=axios$1;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION:VERSION$1,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios$1,axios=Object.freeze(Object.defineProperty({__proto__:null,Axios,AxiosError,AxiosHeaders,Cancel,CancelToken,CanceledError,HttpStatusCode,VERSION:VERSION$1,all,default:axios$1,formToJSON,getAdapter,isAxiosError,isCancel,mergeConfig,spread,toFormData},Symbol.toStringTag,{value:"Module"}));var __defProp$4=Object.defineProperty,__defNormalProp$4=(nt,et,at)=>et in nt?__defProp$4(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__publicField$1=(nt,et,at)=>(__defNormalProp$4(nt,et+"",at),at),cacheTime5min=5*60*1e3,cacheTime24h=24*60*60*1e3;function getFutureTime(nt){return Date.parse(new Date().toString())+nt}var CachedContent=class{constructor(nt,et=0){xa(this,"overdueTime");xa(this,"value");this.overdueTime=et,this.value=nt}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var decimal_default$1=Decimal$1,ClmmpoolsError=class extends Error{constructor(et,at){super(et);xa(this,"message");xa(this,"errorCode");this.message=et,this.errorCode=at}static isClmmpoolsErrorCode(et,at){return et instanceof ClmmpoolsError&&et.errorCode===at}},ZERO$1=new BN(0),ONE=new BN(1),TWO$1=new BN(2);TWO$1.pow(new BN(128));var U64_MAX=TWO$1.pow(new BN(64)).sub(ONE),U128_MAX=TWO$1.pow(new BN(128)).sub(ONE),MathUtil=class{static toX64_BN(nt){return nt.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(nt){return nt.mul(decimal_default$1.pow(2,64))}static toX64(nt){return new BN(nt.mul(decimal_default$1.pow(2,64)).floor().toFixed())}static fromX64(nt){return new decimal_default$1(nt.toString()).mul(decimal_default$1.pow(2,-64))}static fromX64_Decimal(nt){return nt.mul(decimal_default$1.pow(2,-64))}static fromX64_BN(nt){return nt.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(nt){let et=nt.shrn(64);return nt.mod(U64_MAX).gt(ZERO$1)&&(et=et.add(ONE)),et}static divRoundUp(nt,et){return nt.mod(et).eq(ZERO$1)?nt.div(et):nt.div(et).add(new BN(1))}static subUnderflowU128(nt,et){return nt.lt(et)?nt.sub(et).add(U128_MAX):nt.sub(et)}static checkUnsignedSub(nt,et){const at=nt.sub(et);if(at.isNeg())throw new ClmmpoolsError("Unsigned integer sub overflow","UnsignedIntegerOverflow");return at}static checkMul(nt,et,at){const mt=nt.mul(et);if(this.isOverflow(mt,at))throw new ClmmpoolsError("Multiplication overflow","MultiplicationOverflow");return mt}static checkMulDivFloor(nt,et,at,mt){if(at.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const $t=nt.mul(et).div(at);if(this.isOverflow($t,mt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return $t}static checkMulDivCeil(nt,et,at,mt){if(at.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const $t=nt.mul(et).add(at.sub(ONE)).div(at);if(this.isOverflow($t,mt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return $t}static checkMulDivRound(nt,et,at,mt){if(at.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const $t=nt.mul(et.add(at.shrn(1))).div(at);if(this.isOverflow($t,mt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return $t}static checkMulShiftRight(nt,et,at,mt){const $t=nt.mul(et).div(new BN(2).pow(new BN(at)));if(this.isOverflow($t,mt))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return $t}static checkMulShiftRight64RoundUpIf(nt,et,at,mt){const $t=nt.mul(et),Dt=mt&&$t.and(U64_MAX).gt(ZERO$1)?$t.shrn(64).add(ONE):$t.shrn(64);if(this.isOverflow(Dt,at))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return Dt}static checkMulShiftLeft(nt,et,at,mt){const $t=nt.mul(et).shln(at);if(this.isOverflow($t,mt))throw new ClmmpoolsError("Multiplication shift left overflow","MulShiftLeftOverflow");return $t}static checkDivRoundUpIf(nt,et,at){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");return at?this.divRoundUp(nt,et):nt.div(et)}static isOverflow(nt,et){return nt.gte(TWO$1.pow(new BN(et)))}static sign(nt){return nt.testn(127)?1:0}static is_neg(nt){return this.sign(nt)===1}static abs_u128(nt){return nt.gt(ZERO$1)?nt:this.u128_neg(nt.subn(1))}static u128_neg(nt){return nt.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(nt){return this.is_neg(nt)?nt.abs():this.neg_from(nt)}static abs(nt){return this.sign(nt)===0?nt:this.u128_neg(nt.sub(new BN(1)))}static neg_from(nt){return nt.eq(ZERO$1)?nt:this.u128_neg(nt).add(new BN(1)).or(new BN(1).shln(127))}};function transClmmpoolDataWithoutTicks(nt){return{coinA:nt.coinTypeA,coinB:nt.coinTypeB,currentSqrtPrice:new BN(nt.current_sqrt_price),currentTickIndex:nt.current_tick_index,feeGrowthGlobalA:new BN(nt.fee_growth_global_a),feeGrowthGlobalB:new BN(nt.fee_growth_global_b),feeProtocolCoinA:new BN(nt.fee_protocol_coin_a),feeProtocolCoinB:new BN(nt.fee_protocol_coin_b),feeRate:new BN(nt.fee_rate),liquidity:new BN(nt.liquidity),tickIndexes:[],tickSpacing:Number(nt.tickSpacing),ticks:[],collection_name:""}}var MAX_TICK_INDEX=443636,MIN_TICK_INDEX=-443636,MAX_SQRT_PRICE="79226673515401279992447579055",MIN_SQRT_PRICE="4295048016",FEE_RATE_DENOMINATOR=new BN(1e6),CLOCK_ADDRESS$1="0x0000000000000000000000000000000000000000000000000000000000000006",ClmmPartnerModule="partner",ClmmIntegratePoolModule="pool_script",ClmmIntegratePoolV2Module="pool_script_v2",ClmmIntegratePoolV3Module="pool_script_v3",ClmmIntegrateRouterModule="router",ClmmIntegrateRouterWithPartnerModule="router_with_partner",ClmmFetcherModule="fetcher_script",ClmmExpectSwapModule="expect_swap",ClmmIntegrateUtilsModule="utils",DeepbookCustodianV2Moudle="custodian_v2",DeepbookClobV2Moudle="clob_v2",DeepbookEndpointsV2Moudle="endpoints_v2",ClmmPositionStatus=(nt=>(nt.Deleted="Deleted",nt.Exists="Exists",nt.NotExists="NotExists",nt))(ClmmPositionStatus||{});function getPackagerConfigs(nt){if(nt.config===void 0)throw new ClmmpoolsError(`package: ${nt.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return nt.config}var poolFilterEvenTypes=["RemoveLiquidityEvent","SwapEvent","AddLiquidityEvent"],BIT_PRECISION=14,LOG_B_2_X32="59543866431248",LOG_B_P_ERR_MARGIN_LOWER_X64="184467440737095516",LOG_B_P_ERR_MARGIN_UPPER_X64="15793534762490258745",TICK_BOUND=443636;function signedShiftLeft(nt,et,at){const mt=nt.toTwos(at).shln(et);return mt.imaskn(at+1),mt.fromTwos(at)}function signedShiftRight(nt,et,at){const mt=nt.toTwos(at).shrn(et);return mt.imaskn(at-et+1),mt.fromTwos(at-et)}function tickIndexToSqrtPricePositive(nt){let et;return nt&1?et=new BN("79232123823359799118286999567"):et=new BN("79228162514264337593543950336"),nt&2&&(et=signedShiftRight(et.mul(new BN("79236085330515764027303304731")),96,256)),nt&4&&(et=signedShiftRight(et.mul(new BN("79244008939048815603706035061")),96,256)),nt&8&&(et=signedShiftRight(et.mul(new BN("79259858533276714757314932305")),96,256)),nt&16&&(et=signedShiftRight(et.mul(new BN("79291567232598584799939703904")),96,256)),nt&32&&(et=signedShiftRight(et.mul(new BN("79355022692464371645785046466")),96,256)),nt&64&&(et=signedShiftRight(et.mul(new BN("79482085999252804386437311141")),96,256)),nt&128&&(et=signedShiftRight(et.mul(new BN("79736823300114093921829183326")),96,256)),nt&256&&(et=signedShiftRight(et.mul(new BN("80248749790819932309965073892")),96,256)),nt&512&&(et=signedShiftRight(et.mul(new BN("81282483887344747381513967011")),96,256)),nt&1024&&(et=signedShiftRight(et.mul(new BN("83390072131320151908154831281")),96,256)),nt&2048&&(et=signedShiftRight(et.mul(new BN("87770609709833776024991924138")),96,256)),nt&4096&&(et=signedShiftRight(et.mul(new BN("97234110755111693312479820773")),96,256)),nt&8192&&(et=signedShiftRight(et.mul(new BN("119332217159966728226237229890")),96,256)),nt&16384&&(et=signedShiftRight(et.mul(new BN("179736315981702064433883588727")),96,256)),nt&32768&&(et=signedShiftRight(et.mul(new BN("407748233172238350107850275304")),96,256)),nt&65536&&(et=signedShiftRight(et.mul(new BN("2098478828474011932436660412517")),96,256)),nt&131072&&(et=signedShiftRight(et.mul(new BN("55581415166113811149459800483533")),96,256)),nt&262144&&(et=signedShiftRight(et.mul(new BN("38992368544603139932233054999993551")),96,256)),signedShiftRight(et,32,256)}function tickIndexToSqrtPriceNegative(nt){const et=Math.abs(nt);let at;return et&1?at=new BN("18445821805675392311"):at=new BN("18446744073709551616"),et&2&&(at=signedShiftRight(at.mul(new BN("18444899583751176498")),64,256)),et&4&&(at=signedShiftRight(at.mul(new BN("18443055278223354162")),64,256)),et&8&&(at=signedShiftRight(at.mul(new BN("18439367220385604838")),64,256)),et&16&&(at=signedShiftRight(at.mul(new BN("18431993317065449817")),64,256)),et&32&&(at=signedShiftRight(at.mul(new BN("18417254355718160513")),64,256)),et&64&&(at=signedShiftRight(at.mul(new BN("18387811781193591352")),64,256)),et&128&&(at=signedShiftRight(at.mul(new BN("18329067761203520168")),64,256)),et&256&&(at=signedShiftRight(at.mul(new BN("18212142134806087854")),64,256)),et&512&&(at=signedShiftRight(at.mul(new BN("17980523815641551639")),64,256)),et&1024&&(at=signedShiftRight(at.mul(new BN("17526086738831147013")),64,256)),et&2048&&(at=signedShiftRight(at.mul(new BN("16651378430235024244")),64,256)),et&4096&&(at=signedShiftRight(at.mul(new BN("15030750278693429944")),64,256)),et&8192&&(at=signedShiftRight(at.mul(new BN("12247334978882834399")),64,256)),et&16384&&(at=signedShiftRight(at.mul(new BN("8131365268884726200")),64,256)),et&32768&&(at=signedShiftRight(at.mul(new BN("3584323654723342297")),64,256)),et&65536&&(at=signedShiftRight(at.mul(new BN("696457651847595233")),64,256)),et&131072&&(at=signedShiftRight(at.mul(new BN("26294789957452057")),64,256)),et&262144&&(at=signedShiftRight(at.mul(new BN("37481735321082")),64,256)),at}var TickMath=class{static priceToSqrtPriceX64(nt,et,at){return MathUtil.toX64(nt.mul(decimal_default$1.pow(10,at-et)).sqrt())}static sqrtPriceX64ToPrice(nt,et,at){return MathUtil.fromX64(nt).pow(2).mul(decimal_default$1.pow(10,et-at))}static tickIndexToSqrtPriceX64(nt){return nt>0?new BN(tickIndexToSqrtPricePositive(nt)):new BN(tickIndexToSqrtPriceNegative(nt))}static sqrtPriceX64ToTickIndex(nt){if(nt.gt(new BN(MAX_SQRT_PRICE))||nt.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");const et=nt.bitLength()-1,at=new BN(et-64),mt=signedShiftLeft(at,32,128);let $t=new BN("8000000000000000","hex"),Ct=0,Dt=new BN(0),Ft=et>=64?nt.shrn(et-63):nt.shln(63-et);for(;$t.gt(new BN(0))&&Ct<BIT_PRECISION;){Ft=Ft.mul(Ft);const or=Ft.shrn(127);Ft=Ft.shrn(63+or.toNumber()),Dt=Dt.add($t.mul(or)),$t=$t.shrn(1),Ct+=1}const Nt=Dt.shrn(32),Lt=mt.add(Nt).mul(new BN(LOG_B_2_X32)),Vt=signedShiftRight(Lt.sub(new BN(LOG_B_P_ERR_MARGIN_LOWER_X64)),64,128).toNumber(),er=signedShiftRight(Lt.add(new BN(LOG_B_P_ERR_MARGIN_UPPER_X64)),64,128).toNumber();return Vt===er?Vt:TickMath.tickIndexToSqrtPriceX64(er).lte(nt)?er:Vt}static tickIndexToPrice(nt,et,at){return TickMath.sqrtPriceX64ToPrice(TickMath.tickIndexToSqrtPriceX64(nt),et,at)}static priceToTickIndex(nt,et,at){return TickMath.sqrtPriceX64ToTickIndex(TickMath.priceToSqrtPriceX64(nt,et,at))}static priceToInitializableTickIndex(nt,et,at,mt){return TickMath.getInitializableTickIndex(TickMath.priceToTickIndex(nt,et,at),mt)}static getInitializableTickIndex(nt,et){return nt-nt%et}static getNextInitializableTickIndex(nt,et){return TickMath.getInitializableTickIndex(nt,et)+et}static getPrevInitializableTickIndex(nt,et){return TickMath.getInitializableTickIndex(nt,et)-et}};function getTickDataFromUrlData(nt){const et=[];for(const at of nt){const mt={objectId:at.objectId,index:Number(asIntN(BigInt(at.index)).toString()),sqrtPrice:at.sqrtPrice,liquidityNet:new BN(BigInt.asIntN(128,BigInt(BigInt(at.liquidityNet.toString()))).toString()),liquidityGross:at.liquidityGross,feeGrowthOutsideA:at.feeGrowthOutsideA,feeGrowthOutsideB:at.feeGrowthOutsideB,rewardersGrowthOutside:[new BN(at.rewardersGrowthOutside[0]),new BN(at.rewardersGrowthOutside[1]),new BN(at.rewardersGrowthOutside[2])]};et.push(mt)}return et}function tickScore(nt){return d$2(nt).add(d$2(TICK_BOUND))}new BN(365);new BN(24);new BN(3600);new BN(.5);var SwapUtils=class{static getDefaultSqrtPriceLimit(nt){return new BN(nt?MIN_SQRT_PRICE:MAX_SQRT_PRICE)}static getDefaultOtherAmountThreshold(nt){return nt?ZERO$1:U64_MAX}};function getNextSqrtPriceAUp(nt,et,at,mt){if(at.eq(ZERO$1))return nt;const $t=MathUtil.checkMulShiftLeft(nt,et,64,256),Ct=et.shln(64),Dt=MathUtil.checkMul(nt,at,256);if(!mt&&Ct.lte(Dt))throw new ClmmpoolsError("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const Ft=mt?MathUtil.checkDivRoundUpIf($t,Ct.add(Dt),!0):MathUtil.checkDivRoundUpIf($t,Ct.sub(Dt),!0);if(Ft.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(Ft.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return Ft}function getNextSqrtPriceBDown(nt,et,at,mt){const $t=MathUtil.checkDivRoundUpIf(at.shln(64),et,!mt),Ct=mt?nt.add($t):nt.sub($t);if(Ct.lt(new BN(MIN_SQRT_PRICE))||Ct.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return Ct}function getNextSqrtPriceFromInput(nt,et,at,mt){return mt?getNextSqrtPriceAUp(nt,et,at,!0):getNextSqrtPriceBDown(nt,et,at,!0)}function getNextSqrtPriceFromOutput(nt,et,at,mt){return mt?getNextSqrtPriceBDown(nt,et,at,!1):getNextSqrtPriceAUp(nt,et,at,!1)}function getDeltaUpFromInput(nt,et,at,mt){const $t=nt.gt(et)?nt.sub(et):et.sub(nt);if(at.lte(ZERO$1)||$t.eq(ZERO$1))return ZERO$1;let Ct;if(mt){const Dt=new BN(at).mul(new BN($t)).shln(64),Ft=et.mul(nt),Nt=Dt.div(Ft);Ct=Dt.mod(Ft).eq(ZERO$1)?Nt:Nt.add(ONE)}else{const Dt=new BN(at).mul(new BN($t));Ct=Dt.and(U64_MAX).gt(ZERO$1)?Dt.shrn(64).add(ONE):Dt.shrn(64)}return Ct}function getDeltaDownFromOutput(nt,et,at,mt){const $t=nt.gt(et)?nt.sub(et):et.sub(nt);if(at.lte(ZERO$1)||$t.eq(ZERO$1))return ZERO$1;let Ct;if(mt)Ct=at.mul($t).shrn(64);else{const Dt=at.mul($t).shln(64),Ft=et.mul(nt);Ct=Dt.div(Ft)}return Ct}function computeSwapStep(nt,et,at,mt,$t,Ct){if(at===ZERO$1)return{amountIn:ZERO$1,amountOut:ZERO$1,nextSqrtPrice:et,feeAmount:ZERO$1};const Dt=nt.gte(et);let Ft,Nt,jt,Lt;if(Ct){const Vt=MathUtil.checkMulDivFloor(mt,MathUtil.checkUnsignedSub(FEE_RATE_DENOMINATOR,$t),FEE_RATE_DENOMINATOR,64),er=getDeltaUpFromInput(nt,et,at,Dt);er.gt(Vt)?(Ft=Vt,Lt=MathUtil.checkUnsignedSub(mt,Vt),jt=getNextSqrtPriceFromInput(nt,at,Vt,Dt)):(Ft=er,Lt=MathUtil.checkMulDivCeil(Ft,$t,FEE_RATE_DENOMINATOR.sub($t),64),jt=et),Nt=getDeltaDownFromOutput(nt,jt,at,Dt)}else{const Vt=getDeltaDownFromOutput(nt,et,at,Dt);Vt.gt(mt)?(Nt=mt,jt=getNextSqrtPriceFromOutput(nt,at,mt,Dt)):(Nt=Vt,jt=et),Ft=getDeltaUpFromInput(nt,jt,at,Dt),Lt=MathUtil.checkMulDivCeil(Ft,$t,FEE_RATE_DENOMINATOR.sub($t),64)}return{amountIn:Ft,amountOut:Nt,nextSqrtPrice:jt,feeAmount:Lt}}function computeSwap(nt,et,at,mt,$t){let Ct=at,Dt=mt.liquidity,{currentSqrtPrice:Ft}=mt;const Nt={amountIn:ZERO$1,amountOut:ZERO$1,feeAmount:ZERO$1,refAmount:ZERO$1,nextSqrtPrice:ZERO$1,crossTickNum:0};let jt,Lt;const Vt=SwapUtils.getDefaultSqrtPriceLimit(nt);for(const er of $t){if(nt&&mt.currentTickIndex<er.index||!nt&&mt.currentTickIndex>=er.index||er===null)continue;nt&&Vt.gt(er.sqrtPrice)||!nt&&Vt.lt(er.sqrtPrice)?jt=Vt:jt=er.sqrtPrice;const ir=computeSwapStep(Ft,jt,Dt,Ct,mt.feeRate,et);if(ir.amountIn.eq(ZERO$1)||(Ct=et?Ct.sub(ir.amountIn.add(ir.feeAmount)):Ct.sub(ir.amountOut)),Nt.amountIn=Nt.amountIn.add(ir.amountIn),Nt.amountOut=Nt.amountOut.add(ir.amountOut),Nt.feeAmount=Nt.feeAmount.add(ir.feeAmount),ir.nextSqrtPrice.eq(er.sqrtPrice)?(Lt=er.liquidityNet.mul(new BN(-1)),nt?MathUtil.is_neg(Lt)?Dt=Dt.add(new BN(asUintN(BigInt(Lt.toString()),128))):Dt=Dt.add(Lt):MathUtil.is_neg(Lt)?Dt=Dt.sub(new BN(asUintN(BigInt(Lt.toString()),128))):Dt=Dt.sub(Lt),Ft=er.sqrtPrice):Ft=ir.nextSqrtPrice,Nt.crossTickNum+=1,Ct.eq(ZERO$1))break}return Nt.amountIn=Nt.amountIn.add(Nt.feeAmount),Nt.nextSqrtPrice=Ft,Nt}function estimateLiquidityForCoinA(nt,et,at){const mt=BN.min(nt,et),$t=BN.max(nt,et),Ct=MathUtil.fromX64_BN(at.mul($t).mul(mt)),Dt=$t.sub(mt);return!Ct.isZero()&&!Dt.isZero()?Ct.div(Dt):new BN(0)}function estimateLiquidityForCoinB(nt,et,at){const mt=BN.min(nt,et),Ct=BN.max(nt,et).sub(mt);return Ct.isZero()?new BN(0):at.shln(64).div(Ct)}var ClmmPoolUtil=class{static updateFeeRate(nt,et,at,mt,$t){const Ct=MathUtil.checkMulDivCeil(et,new BN(mt),FEE_RATE_DENOMINATOR,64),Dt=at===0?ZERO$1:MathUtil.checkMulDivFloor(et,new BN(at),FEE_RATE_DENOMINATOR,64),Ft=et.mul(Ct).mul(Dt);if($t?nt.feeProtocolCoinA=nt.feeProtocolCoinA.add(Ct):nt.feeProtocolCoinB=nt.feeProtocolCoinB.add(Ct),Ft.eq(ZERO$1)||nt.liquidity.eq(ZERO$1))return{refFee:Dt,clmm:nt};const Nt=Ft.shln(64).div(nt.liquidity);return $t?nt.feeGrowthGlobalA=nt.feeGrowthGlobalA.add(Nt):nt.feeGrowthGlobalB=nt.feeGrowthGlobalB.add(Nt),{refFee:Dt,clmm:nt}}static getCoinAmountFromLiquidity(nt,et,at,mt,$t){const Ct=new decimal_default$1(nt.toString()),Dt=new decimal_default$1(et.toString()),Ft=new decimal_default$1(at.toString()),Nt=new decimal_default$1(mt.toString());let jt,Lt;return et.lt(at)?(jt=MathUtil.toX64_Decimal(Ct).mul(Nt.sub(Ft)).div(Ft.mul(Nt)),Lt=new decimal_default$1(0)):et.lt(mt)?(jt=MathUtil.toX64_Decimal(Ct).mul(Nt.sub(Dt)).div(Dt.mul(Nt)),Lt=MathUtil.fromX64_Decimal(Ct.mul(Dt.sub(Ft)))):(jt=new decimal_default$1(0),Lt=MathUtil.fromX64_Decimal(Ct.mul(Nt.sub(Ft)))),$t?{coinA:new BN(jt.ceil().toString()),coinB:new BN(Lt.ceil().toString())}:{coinA:new BN(jt.floor().toString()),coinB:new BN(Lt.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(nt,et,at,mt,$t,Ct,Dt){const Ft=TickMath.sqrtPriceX64ToTickIndex(Dt),Nt=TickMath.tickIndexToSqrtPriceX64(nt),jt=TickMath.tickIndexToSqrtPriceX64(et);let Lt;if(Ft<nt){if(!mt)throw new ClmmpoolsError("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");Lt=estimateLiquidityForCoinA(Nt,jt,at)}else if(Ft>et){if(mt)throw new ClmmpoolsError("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");Lt=estimateLiquidityForCoinB(jt,Nt,at)}else mt?Lt=estimateLiquidityForCoinA(Dt,jt,at):Lt=estimateLiquidityForCoinB(Dt,Nt,at);const Vt=ClmmPoolUtil.getCoinAmountFromLiquidity(Lt,Dt,Nt,jt,$t),er=$t?d$2(Vt.coinA.toString()).mul(1+Ct).toString():d$2(Vt.coinA.toString()).mul(1-Ct).toString(),ir=$t?d$2(Vt.coinB.toString()).mul(1+Ct).toString():d$2(Vt.coinB.toString()).mul(1-Ct).toString();return{coinAmountA:Vt.coinA,coinAmountB:Vt.coinB,tokenMaxA:$t?new BN(decimal_default$1.ceil(er).toString()):new BN(decimal_default$1.floor(er).toString()),tokenMaxB:$t?new BN(decimal_default$1.ceil(ir).toString()):new BN(decimal_default$1.floor(ir).toString()),liquidityAmount:Lt,fix_amount_a:mt}}static estimateLiquidityFromcoinAmounts(nt,et,at,mt){if(et>at)throw new ClmmpoolsError("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");const $t=TickMath.sqrtPriceX64ToTickIndex(nt),Ct=TickMath.tickIndexToSqrtPriceX64(et),Dt=TickMath.tickIndexToSqrtPriceX64(at);if($t<et)return estimateLiquidityForCoinA(Ct,Dt,mt.coinA);if($t>=at)return estimateLiquidityForCoinB(Dt,Ct,mt.coinB);const Ft=estimateLiquidityForCoinA(nt,Dt,mt.coinA),Nt=estimateLiquidityForCoinB(nt,Ct,mt.coinB);return BN.min(Ft,Nt)}static estCoinAmountsFromTotalAmount(nt,et,at,mt,$t,Ct){const{ratioA:Dt,ratioB:Ft}=ClmmPoolUtil.calculateDepositRatioFixTokenA(nt,et,at),Nt=d$2(mt).mul(Dt).div($t),jt=d$2(mt).mul(Ft).div(Ct);return{amountA:Nt,amountB:jt}}static calculateDepositRatioFixTokenA(nt,et,at){const mt=new BN(1e8),{coinAmountB:$t}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(nt,et,mt,!0,!0,0,at),Ct=TickMath.sqrtPriceX64ToPrice(at,0,0),Dt=d$2(mt.toString()).mul(Ct),Ft=Dt.add($t.toString()),Nt=Dt.div(Ft),jt=d$2($t.toString()).div(Ft);return{ratioA:Nt,ratioB:jt}}};function removeHexPrefix(nt){return nt.startsWith("0x")?`${nt.slice(2)}`:nt}var EQUAL=0,LESS_THAN=1,GREATER_THAN=2;function cmp(nt,et){return nt===et?EQUAL:nt<et?LESS_THAN:GREATER_THAN}function compare(nt,et){let at=0;const mt=nt.length<=et.length?nt.length:et.length,$t=cmp(nt.length,et.length);for(;at<mt;){const Ct=cmp(nt.charCodeAt(at),et.charCodeAt(at));if(at+=1,Ct!==0)return Ct}return $t}function isSortedSymbols(nt,et){return compare(nt,et)===LESS_THAN}function composeType$1(nt,...et){const at=Array.isArray(et[et.length-1])?et.pop():[];let $t=[nt,...et].filter(Boolean).join("::");return at&&at.length&&($t+=`<${at.join(", ")}>`),$t}function extractStructTagFromType$1(nt){var et;try{let at=nt.replace(/\s/g,"");const mt=at.match(/(<.+>)$/),$t=(et=mt==null?void 0:mt[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if($t){at=at.slice(0,at.indexOf("<"));const jt={...extractStructTagFromType$1(at),type_arguments:$t.map(Lt=>extractStructTagFromType$1(Lt).source_address)};return jt.type_arguments=jt.type_arguments.map(Lt=>CoinAssist.isSuiCoin(Lt)?Lt:extractStructTagFromType$1(Lt).source_address),jt.source_address=composeType$1(jt.full_address,jt.type_arguments),jt}const Ct=at.split("::"),Ft={full_address:at,address:at===GAS_TYPE_ARG$1||at===GAS_TYPE_ARG_LONG$1?"0x2":normalizeSuiObjectId(Ct[0]),module:Ct[1],name:Ct[2],type_arguments:[],source_address:""};return Ft.full_address=`${Ft.address}::${Ft.module}::${Ft.name}`,Ft.source_address=composeType$1(Ft.full_address,Ft.type_arguments),Ft}catch{return{full_address:nt,address:"",module:"",name:"",type_arguments:[],source_address:nt}}}function normalizeCoinType$1(nt){return extractStructTagFromType$1(nt).source_address}function fixSuiObjectId(nt){return nt.toLowerCase().startsWith("0x")?normalizeSuiObjectId(nt):nt}var fixCoinType=(nt,et=!0)=>{const at=nt.split("::"),mt=at.shift();let $t=normalizeSuiObjectId(mt);return et&&($t=removeHexPrefix($t)),`${$t}::${at.join("::")}`};function patchFixSuiObjectId(nt){for(const et in nt){const at=typeof nt[et];if(at==="object")patchFixSuiObjectId(nt[et]);else if(at==="string"){const mt=nt[et];mt&&!mt.includes("::")&&(nt[et]=fixSuiObjectId(mt))}}}var COIN_TYPE$1="0x2::coin::Coin",COIN_TYPE_ARG_REGEX$1=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG$1="0x2::sui::SUI",GAS_TYPE_ARG_LONG$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinAssist=class{static getCoinTypeArg(nt){const et=nt.type.match(COIN_TYPE_ARG_REGEX$1);return et?et[1]:null}static isSUI(nt){const et=CoinAssist.getCoinTypeArg(nt);return et?CoinAssist.getCoinSymbol(et)==="SUI":!1}static getCoinSymbol(nt){return nt.substring(nt.lastIndexOf(":")+1)}static getBalance(nt){return BigInt(nt.fields.balance)}static totalBalance(nt,et){let at=BigInt(0);return nt.forEach(mt=>{et===mt.coinAddress&&(at+=BigInt(mt.balance))}),at}static getID(nt){return nt.fields.id.id}static getCoinTypeFromArg(nt){return`${COIN_TYPE$1}<${nt}>`}static getFaucetCoins(nt){const{events:et}=nt,at=[];return et==null||et.forEach(mt=>{const{type:$t}=mt;if(extractStructTagFromType$1($t).name==="InitEvent"){const Ct=mt.parsedJson;at.push({transactionModule:mt.transactionModule,suplyID:Ct.suplyID,decimals:Ct.decimals})}}),at}static getCoinAssets(nt,et){const at=[];return et.forEach(mt=>{normalizeCoinType$1(mt.coinAddress)===normalizeCoinType$1(nt)&&at.push(mt)}),at}static isSuiCoin(nt){return extractStructTagFromType$1(nt).full_address===GAS_TYPE_ARG$1}static selectCoinObjectIdGreaterThanOrEqual(nt,et,at=[]){const mt=CoinAssist.selectCoinAssetGreaterThanOrEqual(nt,et,at),$t=mt.selectedCoins.map(Ft=>Ft.coinObjectId),Ct=mt.remainingCoins,Dt=mt.selectedCoins.map(Ft=>Ft.balance.toString());return{objectArray:$t,remainCoins:Ct,amountArray:Dt}}static selectCoinAssetGreaterThanOrEqual(nt,et,at=[]){const mt=CoinAssist.sortByBalance(nt.filter(Nt=>!at.includes(Nt.coinObjectId))),$t=CoinAssist.calculateTotalBalance(mt);if($t<et)return{selectedCoins:[],remainingCoins:mt};if($t===et)return{selectedCoins:mt,remainingCoins:[]};let Ct=BigInt(0);const Dt=[],Ft=[...mt];for(;Ct<$t;){const Nt=et-Ct,jt=Ft.findIndex(Vt=>Vt.balance>=Nt);if(jt!==-1){Dt.push(Ft[jt]),Ft.splice(jt,1);break}const Lt=Ft.pop();Lt.balance>0&&(Dt.push(Lt),Ct+=Lt.balance)}return{selectedCoins:CoinAssist.sortByBalance(Dt),remainingCoins:CoinAssist.sortByBalance(Ft)}}static sortByBalance(nt){return nt.sort((et,at)=>et.balance<at.balance?-1:et.balance>at.balance?1:0)}static sortByBalanceDes(nt){return nt.sort((et,at)=>et.balance>at.balance?-1:et.balance<at.balance?0:1)}static calculateTotalBalance(nt){return nt.reduce((et,at)=>et+at.balance,BigInt(0))}},Percentage=class{constructor(nt,et){xa(this,"numerator");xa(this,"denominator");this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=nt,this.denominator=et}static fromDecimal(nt){return Percentage.fromFraction(nt.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(nt,et){const at=typeof nt=="number"?new BN(nt.toString()):nt,mt=typeof et=="number"?new BN(et.toString()):et;return new Percentage(at,mt)}};function adjustForSlippage(nt,{numerator:et,denominator:at},mt){return mt?nt.mul(at.add(et)).div(at):nt.mul(at).div(at.add(et))}function adjustForCoinSlippage(nt,et,at){return{tokenMaxA:adjustForSlippage(nt.coinA,et,at),tokenMaxB:adjustForSlippage(nt.coinB,et,at)}}function d$2(nt){return Decimal$1.isDecimal(nt)?nt:new Decimal$1(nt===void 0?0:nt)}function decimalsMultiplier(nt){return d$2(10).pow(d$2(nt).abs())}function getSuiObjectData(nt){return nt.data}function getObjectDeletedResponse(nt){if(nt.error&&"object_id"in nt.error&&"version"in nt.error&&"digest"in nt.error){const{error:et}=nt;return{objectId:et.object_id,version:et.version,digest:et.digest}}}function getObjectNotExistsResponse(nt){if(nt.error&&"object_id"in nt.error&&!("version"in nt.error)&&!("digest"in nt.error))return nt.error.object_id}function getObjectReference(nt){if("reference"in nt)return nt.reference;const et=getSuiObjectData(nt);return et?{objectId:et.objectId,version:et.version,digest:et.digest}:getObjectDeletedResponse(nt)}function getObjectId(nt){var et;return"objectId"in nt?nt.objectId:((et=getObjectReference(nt))==null?void 0:et.objectId)??getObjectNotExistsResponse(nt)}function isSuiObjectResponse(nt){return nt.data!==void 0}function isSuiObjectDataWithContent(nt){return nt.content!==void 0}function getMoveObject(nt){const et="data"in nt?getSuiObjectData(nt):nt;if(!(!et||!isSuiObjectDataWithContent(et)||et.content.dataType!=="moveObject"))return et.content}function getMoveObjectType(nt){var et;return(et=getMoveObject(nt))==null?void 0:et.type}function getObjectType(nt){var at;const et=isSuiObjectResponse(nt)?nt.data:nt;return!(et!=null&&et.type)&&"data"in nt?((at=et==null?void 0:et.content)==null?void 0:at.dataType)==="package"?"package":getMoveObjectType(nt):et==null?void 0:et.type}function getObjectPreviousTransactionDigest(nt){var et;return(et=getSuiObjectData(nt))==null?void 0:et.previousTransaction}function getObjectOwner(nt){var et;return(et=getSuiObjectData(nt))==null?void 0:et.owner}function getObjectDisplay(nt){var at;const et=(at=getSuiObjectData(nt))==null?void 0:at.display;return et||{data:null,error:null}}function getObjectFields(nt){var at;const et=(at=getMoveObject(nt))==null?void 0:at.fields;if(et)return"fields"in et?et.fields:et}function toDecimalsAmount(nt,et){const at=decimalsMultiplier(d$2(et));return Number(d$2(nt).mul(at))}function asUintN(nt,et=32){return BigInt.asUintN(et,BigInt(nt)).toString()}function asIntN(nt,et=32){return Number(BigInt.asIntN(et,BigInt(nt)))}function fromDecimalsAmount(nt,et){const at=decimalsMultiplier(d$2(et));return Number(d$2(nt).div(at))}function buildPoolName(nt,et,at){const mt=extractStructTagFromType$1(nt).name,$t=extractStructTagFromType$1(et).name;return`${mt}-${$t}[${at}]`}function buildPool(nt){const et=getMoveObjectType(nt),at=extractStructTagFromType$1(et),mt=getObjectFields(nt);if(mt==null)throw new ClmmpoolsError(`Pool id ${getObjectId(nt)} not exists.`,"InvalidPoolObject");const $t=[];mt.rewarder_manager.fields.rewarders.forEach(Dt=>{const{emissions_per_second:Ft}=Dt.fields,Nt=MathUtil.fromX64(new BN(Ft)),jt=Math.floor(Nt.toNumber()*60*60*24);$t.push({emissions_per_second:Ft,coinAddress:extractStructTagFromType$1(Dt.fields.reward_coin.fields.name).source_address,growth_global:Dt.fields.growth_global,emissionsEveryDay:jt})});const Ct={poolAddress:getObjectId(nt),poolType:et,coinTypeA:at.type_arguments[0],coinTypeB:at.type_arguments[1],coinAmountA:mt.coin_a,coinAmountB:mt.coin_b,current_sqrt_price:mt.current_sqrt_price,current_tick_index:asIntN(BigInt(mt.current_tick_index.fields.bits)),fee_growth_global_a:mt.fee_growth_global_a,fee_growth_global_b:mt.fee_growth_global_b,fee_protocol_coin_a:mt.fee_protocol_coin_a,fee_protocol_coin_b:mt.fee_protocol_coin_b,fee_rate:mt.fee_rate,is_pause:mt.is_pause,liquidity:mt.liquidity,position_manager:{positions_handle:mt.position_manager.fields.positions.fields.id.id,size:mt.position_manager.fields.positions.fields.size},rewarder_infos:$t,rewarder_last_updated_time:mt.rewarder_manager.fields.last_updated_time,tickSpacing:mt.tick_spacing,ticks_handle:mt.tick_manager.fields.ticks.fields.id.id,uri:mt.url,index:Number(mt.index),name:""};return Ct.name=buildPoolName(Ct.coinTypeA,Ct.coinTypeB,Ct.tickSpacing),Ct}function buildNFT(nt){const et=getObjectDisplay(nt).data,at={creator:"",description:"",image_url:"",link:"",name:"",project_url:""};return et&&(at.creator=et.creator,at.description=et.description,at.image_url=et.image_url,at.link=et.link,at.name=et.name,at.project_url=et.project_url),at}function buildPosition(nt){var Dt,Ft;if(nt.error!=null||((Ft=(Dt=nt.data)==null?void 0:Dt.content)==null?void 0:Ft.dataType)!=="moveObject")throw new ClmmpoolsError(`Position not exists. Get Position error:${nt.error}`,"InvalidPositionObject");let et={creator:"",description:"",image_url:"",link:"",name:"",project_url:""},at={...et,pos_object_id:"",owner:"",type:"",coin_type_a:"",coin_type_b:"",liquidity:"",tick_lower_index:0,tick_upper_index:0,index:0,pool:"",reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"},mt=getObjectFields(nt);if(mt){const Nt=getMoveObjectType(nt),jt=getObjectOwner(nt);"nft"in mt?(mt=mt.nft.fields,et.description=mt.description,et.name=mt.name,et.link=mt.url):et=buildNFT(nt),at={...et,pos_object_id:mt.id.id,owner:jt.AddressOwner,type:Nt,liquidity:mt.liquidity,coin_type_a:mt.coin_type_a.fields.name,coin_type_b:mt.coin_type_b.fields.name,tick_lower_index:asIntN(BigInt(mt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(mt.tick_upper_index.fields.bits)),index:mt.index,pool:mt.pool,reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"}}const $t=getObjectDeletedResponse(nt);$t&&(at.pos_object_id=$t.objectId,at.position_status="Deleted");const Ct=getObjectNotExistsResponse(nt);return Ct&&(at.pos_object_id=Ct,at.position_status="NotExists"),at}function buildPositionReward(nt){const et={reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0"};nt="fields"in nt?nt.fields:nt,nt.rewards.forEach((Ct,Dt)=>{const{amount_owned:Ft,growth_inside:Nt}="fields"in Ct?Ct.fields:Ct;Dt===0?(et.reward_amount_owed_0=Ft,et.reward_growth_inside_0=Nt):Dt===1?(et.reward_amount_owed_1=Ft,et.reward_growth_inside_1=Nt):Dt===2&&(et.reward_amount_owed_2=Ft,et.reward_growth_inside_2=Nt)});const at="fields"in nt.tick_lower_index?nt.tick_lower_index.fields.bits:nt.tick_lower_index.bits,mt="fields"in nt.tick_upper_index?nt.tick_upper_index.fields.bits:nt.tick_upper_index.bits;return{liquidity:nt.liquidity,tick_lower_index:asIntN(BigInt(at)),tick_upper_index:asIntN(BigInt(mt)),...et,fee_growth_inside_a:nt.fee_growth_inside_a,fee_owed_a:nt.fee_owned_a,fee_growth_inside_b:nt.fee_growth_inside_b,fee_owed_b:nt.fee_owned_b,pos_object_id:nt.position_id}}function buildTickData(nt){var $t,Ct;if(nt.error!=null||((Ct=($t=nt.data)==null?void 0:$t.content)==null?void 0:Ct.dataType)!=="moveObject")throw new ClmmpoolsError(`Tick not exists. Get tick data error:${nt.error}`,"InvalidTickObject");const at=getObjectFields(nt).value.fields.value.fields;return{objectId:getObjectId(nt),index:asIntN(BigInt(at.index.fields.bits)),sqrtPrice:new BN(at.sqrt_price),liquidityNet:new BN(at.liquidity_net.fields.bits),liquidityGross:new BN(at.liquidity_gross),feeGrowthOutsideA:new BN(at.fee_growth_outside_a),feeGrowthOutsideB:new BN(at.fee_growth_outside_b),rewardersGrowthOutside:at.rewards_growth_outside}}function buildTickDataByEvent(nt){if(!nt||!nt.index||!nt.sqrt_price||!nt.liquidity_net||!nt.liquidity_gross||!nt.fee_growth_outside_a||!nt.fee_growth_outside_b)throw new ClmmpoolsError("Invalid tick fields.","InvalidTickFields");const et=asIntN(BigInt(nt.index.bits)),at=new BN(nt.sqrt_price),mt=new BN(nt.liquidity_net.bits),$t=new BN(nt.liquidity_gross),Ct=new BN(nt.fee_growth_outside_a),Dt=new BN(nt.fee_growth_outside_b),Ft=nt.rewards_growth_outside||[];return{objectId:"",index:et,sqrtPrice:at,liquidityNet:mt,liquidityGross:$t,feeGrowthOutsideA:Ct,feeGrowthOutsideB:Dt,rewardersGrowthOutside:Ft}}function buildPositionTransactionInfo(nt,et,at){const mt=[],{timestampMs:$t,events:Ct}=nt,Dt=["AddLiquidityEvent","RemoveLiquidityEvent","CollectFeeEvent","CollectRewardEvent","CollectRewardV2Event","HarvestEvent"];return Ct==null||Ct.forEach((Ft,Nt)=>{const jt=extractStructTagFromType$1(Ft.type).name;if(Dt.includes(jt)){const Lt={txDigest:Ft.id.txDigest,packageId:Ft.packageId,transactionModule:Ft.transactionModule,sender:Ft.sender,type:Ft.type,timestampMs:$t||"0",parsedJson:Ft.parsedJson,index:`${et}_${Nt}`};switch(jt){case"CollectFeeEvent":at.includes(Lt.parsedJson.position)&&(d$2(Lt.parsedJson.amount_a).gt(0)||d$2(Lt.parsedJson.amount_b).gt(0))&&mt.push(Lt);break;case"RemoveLiquidityEvent":case"AddLiquidityEvent":(d$2(Lt.parsedJson.amount_a).gt(0)||d$2(Lt.parsedJson.amount_b).gt(0))&&mt.push(Lt);break;case"CollectRewardEvent":case"HarvestEvent":case"CollectRewardV2Event":(at.includes(Lt.parsedJson.position)||at.includes(Lt.parsedJson.wrapped_position_id))&&d$2(Lt.parsedJson.amount).gt(0)&&mt.push(Lt);break}}}),mt}function buildPoolTransactionInfo(nt,et,at,mt){const $t=[],{timestampMs:Ct,events:Dt}=nt;return Dt==null||Dt.forEach((Ft,Nt)=>{const{name:jt,address:Lt}=extractStructTagFromType$1(Ft.type);if(poolFilterEvenTypes.includes(jt)&&Lt===at&&mt===Ft.parsedJson.pool){const Vt={tx:Ft.id.txDigest,sender:Ft.sender,type:Ft.type,block_time:Ct||"0",index:`${et}_${Nt}`,parsedJson:Ft.parsedJson};$t.push(Vt)}}),$t}var TickUtil=class{static getMinIndex(nt){return MIN_TICK_INDEX+Math.abs(MIN_TICK_INDEX)%nt}static getMaxIndex(nt){return MAX_TICK_INDEX-MAX_TICK_INDEX%nt}};function getNearestTickByTick(nt,et){const at=Math.abs(nt)%et;return nt>0?at>et/2?nt+et-at:nt-at:at>et/2?nt-et+at:nt+at}function getRewardInTickRange(nt,et,at,mt,$t,Ct){const Dt=nt.rewarder_infos,Ft=[];for(let Nt=0;Nt<Dt.length;Nt+=1){let jt=Ct[Nt];et!==null&&(nt.current_tick_index<mt?jt=Ct[Nt].sub(new BN(et.rewardersGrowthOutside[Nt])):jt=et.rewardersGrowthOutside[Nt]);let Lt=new BN(0);at!==null&&(nt.current_tick_index>=$t?Lt=Ct[Nt].sub(new BN(at.rewardersGrowthOutside[Nt])):Lt=at.rewardersGrowthOutside[Nt]);const Vt=MathUtil.subUnderflowU128(MathUtil.subUnderflowU128(new BN(Ct[Nt]),new BN(jt)),new BN(Lt));Ft.push(Vt)}return Ft}function findAdjustCoin(nt){const et=CoinAssist.isSuiCoin(nt.coinTypeA),at=CoinAssist.isSuiCoin(nt.coinTypeB);return{isAdjustCoinA:et,isAdjustCoinB:at}}function reverSlippageAmount(nt,et){return Decimal$1.ceil(d$2(nt).div(1+et)).toString()}var _TransactionUtil=class{static createCollectRewarderAndFeeParams(nt,et,at,mt,$t,Ct){$t===void 0&&($t=[...mt]),Ct===void 0&&(Ct=[...mt]);const Dt=normalizeCoinType$1(at.coinTypeA),Ft=normalizeCoinType$1(at.coinTypeB);if(at.collect_fee){const jt=_TransactionUtil.buildCoinForAmount(et,$t,BigInt(0),Dt,!1);$t=jt.remainCoins;const Lt=_TransactionUtil.buildCoinForAmount(et,Ct,BigInt(0),Ft,!1);Ct=Lt.remainCoins,et=nt.Position.createCollectFeePaylod({pool_id:at.pool_id,pos_id:at.pos_id,coinTypeA:at.coinTypeA,coinTypeB:at.coinTypeB},et,jt.targetCoin,Lt.targetCoin)}const Nt=[];return at.rewarder_coin_types.forEach(jt=>{switch(normalizeCoinType$1(jt)){case Dt:Nt.push(_TransactionUtil.buildCoinForAmount(et,$t,BigInt(0),jt,!1).targetCoin);break;case Ft:Nt.push(_TransactionUtil.buildCoinForAmount(et,Ct,BigInt(0),jt,!1).targetCoin);break;default:Nt.push(_TransactionUtil.buildCoinForAmount(et,mt,BigInt(0),jt,!1).targetCoin);break}}),et=nt.Rewarder.createCollectRewarderPaylod(at,et,Nt),et}static async adjustTransactionForGas(nt,et,at,mt){mt.setSender(nt.senderAddress);const $t=CoinAssist.selectCoinAssetGreaterThanOrEqual(et,at).selectedCoins;if($t.length===0)throw new ClmmpoolsError("Insufficient balance","InsufficientBalance");const Ct=CoinAssist.calculateTotalBalance(et);if(Ct-at>1e9)return{fixAmount:at};const Dt=await nt.fullClient.calculationTxGas(mt);if(CoinAssist.selectCoinAssetGreaterThanOrEqual(et,BigInt(Dt),$t.map(Nt=>Nt.coinObjectId)).selectedCoins.length===0){const Nt=BigInt(Dt)+BigInt(500);if(Ct-at<Nt){if(at-=Nt,at<0)throw new ClmmpoolsError("gas Insufficient balance","InsufficientBalance");const jt=new Transaction;return{fixAmount:at,newTx:jt}}}return{fixAmount:at}}static async buildAddLiquidityFixTokenForGas(nt,et,at,mt,$t,Ct,Dt){$t=await _TransactionUtil.buildAddLiquidityFixToken(nt,et,at,$t,Ct,Dt);const{isAdjustCoinA:Ft}=findAdjustCoin(at),Nt=Ft?at.amount_a:at.amount_b,jt=await _TransactionUtil.adjustTransactionForGas(nt,CoinAssist.getCoinAssets(Ft?at.coinTypeA:at.coinTypeB,et),BigInt(Nt),$t),{fixAmount:Lt}=jt,{newTx:Vt}=jt;if(Vt!=null){let er,ir;if(Ft)at.amount_a=Number(Lt),er=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(Vt,!at.fix_amount_a,Lt.toString(),at.slippage,at.coinTypeA,et,!1,!0),ir=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(Vt,at.fix_amount_a,at.amount_b,at.slippage,at.coinTypeB,et,!1,!0);else return at.amount_b=Number(Lt),er=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(Vt,!at.fix_amount_a,at.amount_a,at.slippage,at.coinTypeA,et,!1,!0),ir=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(Vt,at.fix_amount_a,Lt.toString(),at.slippage,at.coinTypeB,et,!1,!0),at=_TransactionUtil.fixAddLiquidityFixTokenParams(at,mt.slippage,mt.curSqrtPrice),$t=await _TransactionUtil.buildAddLiquidityFixTokenArgs(Vt,nt,et,at,er,ir),$t}return $t}static async buildAddLiquidityFixToken(nt,et,at,mt,$t,Ct){if(nt.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");mt=mt||new Transaction;let Dt,Ft;return $t==null||Ct==null?(Dt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(mt,!at.fix_amount_a,at.amount_a,at.slippage,at.coinTypeA,et,!1,!0),Ft=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(mt,at.fix_amount_a,at.amount_b,at.slippage,at.coinTypeB,et,!1,!0)):(Dt={targetCoin:$t,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},Ft={targetCoin:Ct,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),mt=_TransactionUtil.buildAddLiquidityFixTokenArgs(mt,nt,et,at,Dt,Ft),mt}static buildAddLiquidityFixTokenCoinInput(nt,et,at,mt,$t,Ct,Dt=!0,Ft=!0){return et?_TransactionUtil.buildCoinForAmountInterval(nt,Ct,{amountSecond:BigInt(reverSlippageAmount(at,mt)),amountFirst:BigInt(at)},$t,Dt,Ft):_TransactionUtil.buildCoinForAmount(nt,Ct,BigInt(at),$t,Dt,Ft)}static fixAddLiquidityFixTokenParams(nt,et,at){const mt=nt.fix_amount_a?nt.amount_a:nt.amount_b,$t=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(Number(nt.tick_lower),Number(nt.tick_upper),new BN(mt),nt.fix_amount_a,!0,et,at);return nt.amount_a=nt.fix_amount_a?nt.amount_a:$t.tokenMaxA.toNumber(),nt.amount_b=nt.fix_amount_a?$t.tokenMaxB.toNumber():nt.amount_b,nt}static buildAddLiquidityFixTokenArgs(nt,et,at,mt,$t,Ct){const Dt=[mt.coinTypeA,mt.coinTypeB],Ft=mt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:Nt,integrate:jt}=et.sdkOptions;mt.is_open||(nt=_TransactionUtil.createCollectRewarderAndFeeParams(et,nt,mt,at,$t.remainCoins,Ct.remainCoins));const Lt=getPackagerConfigs(Nt),Vt=mt.is_open?[nt.object(Lt.global_config_id),nt.object(mt.pool_id),nt.pure.u32(Number(asUintN(BigInt(mt.tick_lower)).toString())),nt.pure.u32(Number(asUintN(BigInt(mt.tick_upper)).toString())),$t.targetCoin,Ct.targetCoin,nt.pure.u64(mt.amount_a),nt.pure.u64(mt.amount_b),nt.pure.bool(mt.fix_amount_a),nt.object(CLOCK_ADDRESS$1)]:[nt.object(Lt.global_config_id),nt.object(mt.pool_id),nt.object(mt.pos_id),$t.targetCoin,Ct.targetCoin,nt.pure.u64(mt.amount_a),nt.pure.u64(mt.amount_b),nt.pure.bool(mt.fix_amount_a),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${jt.published_at}::${ClmmIntegratePoolV2Module}::${Ft}`,typeArguments:Dt,arguments:Vt}),nt}static async buildSwapTransactionForGas(nt,et,at,mt){let $t=_TransactionUtil.buildSwapTransaction(nt,et,at);$t.setSender(nt.senderAddress);const Ct=await _TransactionUtil.adjustTransactionForGas(nt,CoinAssist.getCoinAssets(et.a2b?et.coinTypeA:et.coinTypeB,at),BigInt(et.by_amount_in?et.amount:et.amount_limit),$t),{fixAmount:Dt,newTx:Ft}=Ct;if(Ft!==void 0){Ft.setSender(nt.senderAddress),et.by_amount_in?et.amount=Dt.toString():et.amount_limit=Dt.toString(),et=await _TransactionUtil.fixSwapParams(nt,et,mt);const Nt=_TransactionUtil.buildCoinForAmount($t,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA),jt=_TransactionUtil.buildCoinForAmount($t,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB);$t=_TransactionUtil.buildSwapTransactionArgs(Ft,et,nt.sdkOptions,Nt,jt)}return $t}static buildSwapTransaction(nt,et,at){let mt=new Transaction;mt.setSender(nt.senderAddress);const $t=_TransactionUtil.buildCoinForAmount(mt,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA,!1),Ct=_TransactionUtil.buildCoinForAmount(mt,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB,!1);return mt=_TransactionUtil.buildSwapTransactionArgs(mt,et,nt.sdkOptions,$t,Ct),mt}static buildSwapTransactionArgs(nt,et,at,mt,$t){const{clmm_pool:Ct,integrate:Dt}=at,Ft=SwapUtils.getDefaultSqrtPriceLimit(et.a2b),Nt=[et.coinTypeA,et.coinTypeB],{global_config_id:jt}=getPackagerConfigs(Ct);if(jt===void 0)throw Error("clmm.config.global_config_id is undefined");const Lt=et.swap_partner!==void 0,Vt=Lt?et.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":et.a2b?"swap_a2b":"swap_b2a",er=Lt?[nt.object(jt),nt.object(et.pool_id),nt.object(et.swap_partner),mt.targetCoin,$t.targetCoin,nt.pure.bool(et.by_amount_in),nt.pure.u64(et.amount),nt.pure.u64(et.amount_limit),nt.pure.u128(Ft.toString()),nt.object(CLOCK_ADDRESS$1)]:[nt.object(jt),nt.object(et.pool_id),mt.targetCoin,$t.targetCoin,nt.pure.bool(et.by_amount_in),nt.pure.u64(et.amount),nt.pure.u64(et.amount_limit),nt.pure.u128(Ft.toString()),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${Dt.published_at}::${ClmmIntegratePoolV2Module}::${Vt}`,typeArguments:Nt,arguments:er}),nt}static async buildSwapTransactionWithoutTransferCoinsForGas(nt,et,at,mt){let{tx:$t,coinABs:Ct}=_TransactionUtil.buildSwapTransactionWithoutTransferCoins(nt,et,at);$t.setSender(nt.senderAddress);const Dt=await _TransactionUtil.adjustTransactionForGas(nt,CoinAssist.getCoinAssets(et.a2b?et.coinTypeA:et.coinTypeB,at),BigInt(et.by_amount_in?et.amount:et.amount_limit),$t),{fixAmount:Ft,newTx:Nt}=Dt;if(Nt!==void 0){Nt.setSender(nt.senderAddress),et.by_amount_in?et.amount=Ft.toString():et.amount_limit=Ft.toString(),et=await _TransactionUtil.fixSwapParams(nt,et,mt);const jt=_TransactionUtil.buildCoinForAmount($t,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA,!1,!0),Lt=_TransactionUtil.buildCoinForAmount($t,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB,!1,!0),Vt=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(nt,Nt,et,nt.sdkOptions,jt,Lt);$t=Vt.tx,Ct=Vt.txRes}return{tx:$t,coinABs:Ct}}static buildSwapTransactionWithoutTransferCoins(nt,et,at){const mt=new Transaction;mt.setSender(nt.senderAddress);const $t=_TransactionUtil.buildCoinForAmount(mt,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA,!1,!0),Ct=_TransactionUtil.buildCoinForAmount(mt,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB,!1,!0),Dt=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(nt,mt,et,nt.sdkOptions,$t,Ct);return{tx:Dt.tx,coinABs:Dt.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(nt,et,at,mt,$t,Ct){const{clmm_pool:Dt,integrate:Ft}=mt,Nt=SwapUtils.getDefaultSqrtPriceLimit(at.a2b),{global_config_id:jt}=getPackagerConfigs(Dt);if(jt===void 0)throw Error("clmm.config.global_config_id is undefined");const Lt=at.swap_partner!==void 0,Vt=Lt?"swap_with_partner":"swap",er=Lt?ClmmIntegrateRouterWithPartnerModule:ClmmIntegrateRouterModule,ir=Lt?[et.object(jt),et.object(at.pool_id),et.object(at.swap_partner),$t.targetCoin,Ct.targetCoin,et.pure.bool(at.a2b),et.pure.bool(at.by_amount_in),et.pure.u64(at.amount),et.pure.u128(Nt.toString()),et.pure.bool(!1),et.object(CLOCK_ADDRESS$1)]:[et.object(jt),et.object(at.pool_id),$t.targetCoin,Ct.targetCoin,et.pure.bool(at.a2b),et.pure.bool(at.by_amount_in),et.pure.u64(at.amount),et.pure.u128(Nt.toString()),et.pure.bool(!1),et.object(CLOCK_ADDRESS$1)],or=[at.coinTypeA,at.coinTypeB],lr=et.moveCall({target:`${Ft.published_at}::${er}::${Vt}`,typeArguments:or,arguments:ir});if(at.by_amount_in){const dr=at.a2b?at.coinTypeB:at.coinTypeA,pr=at.a2b?lr[1]:lr[0],hr=Number(at.amount_limit);this.checkCoinThreshold(nt,at.by_amount_in,et,pr,hr,dr)}return{tx:et,txRes:lr}}static async fixSwapParams(nt,et,at){const{currentPool:mt}=at;try{const $t=await nt.Swap.preswap({decimalsA:at.decimalsA,decimalsB:at.decimalsB,a2b:et.a2b,byAmountIn:et.by_amount_in,amount:et.amount,pool:mt,currentSqrtPrice:mt.current_sqrt_price,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB}),Ct=at.byAmountIn?$t.estimatedAmountOut:$t.estimatedAmountIn,Dt=adjustForSlippage(Ct,at.slippage,!at.byAmountIn);et.amount_limit=Dt.toString()}catch($t){console.log("fixSwapParams",$t)}return et}static async syncBuildCoinInputForAmount(nt,et,at,mt,$t=!0,Ct=!0){if(nt.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const Dt=await nt.getOwnerCoinAssets(nt.senderAddress,mt);return _TransactionUtil.buildCoinForAmount(et,Dt,at,mt,$t,Ct).targetCoin}static buildCoinForAmount(nt,et,at,mt,$t=!0,Ct=!0){const Dt=CoinAssist.getCoinAssets(mt,et);if(at===BigInt(0))return _TransactionUtil.buildZeroValueCoin(et,nt,mt,$t);const Ft=CoinAssist.calculateTotalBalance(Dt);if(Ft<at)throw new ClmmpoolsError(`The amount(${Ft}) is Insufficient balance for ${mt} , expect ${at} `,"InsufficientBalance");return _TransactionUtil.buildCoin(nt,et,Dt,at,mt,$t,Ct)}static buildCoinWithBalance(nt,et){return nt===BigInt(0)&&CoinAssist.isSuiCoin(et)?coinWithBalance({balance:nt,useGasCoin:!1}):coinWithBalance({balance:nt,type:et})}static buildVectorCoin(nt,et,at,mt,$t,Ct=!0){if(CoinAssist.isSuiCoin($t)){const Vt=nt.splitCoins(nt.gas,[nt.pure.u64(mt)]);return{targetCoin:nt.makeMoveVec({elements:[Vt]}),remainCoins:et,tragetCoinAmount:mt.toString(),isMintZeroCoin:!1,originalSplitedCoin:nt.gas}}const{targetCoin:Dt,originalSplitedCoin:Ft,tragetCoinAmount:Nt,selectedCoinsResult:jt,coinObjectIds:Lt}=this.buildSpitTargeCoin(nt,mt,at,Ct);return Ct?{targetCoin:nt.makeMoveVec({elements:[Dt]}),remainCoins:jt.remainCoins,originalSplitedCoin:Ft,tragetCoinAmount:Nt,isMintZeroCoin:!1}:{targetCoin:nt.makeMoveVec({elements:Lt.map(Vt=>nt.object(Vt))}),remainCoins:jt.remainCoins,tragetCoinAmount:jt.amountArray.reduce((Vt,er)=>Number(Vt)+Number(er),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(nt,et,at,mt,$t=!0){if(CoinAssist.isSuiCoin(mt)){if(at===0n&&et.length>1){const Vt=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(et,at);return{targetCoin:nt.object(Vt.objectArray[0]),remainCoins:Vt.remainCoins,tragetCoinAmount:Vt.amountArray[0],isMintZeroCoin:!1}}const jt=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(et,at);return{targetCoin:nt.splitCoins(nt.gas,[nt.pure.u64(at)]),remainCoins:jt.remainCoins,tragetCoinAmount:at.toString(),isMintZeroCoin:!1,originalSplitedCoin:nt.gas}}const{targetCoin:Ct,originalSplitedCoin:Dt,tragetCoinAmount:Ft,selectedCoinsResult:Nt}=this.buildSpitTargeCoin(nt,at,et,$t);return{targetCoin:Ct,remainCoins:Nt.remainCoins,originalSplitedCoin:Dt,tragetCoinAmount:Ft,isMintZeroCoin:!1}}static buildSpitTargeCoin(nt,et,at,mt){const $t=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(at,et),Ct=$t.amountArray.reduce((ir,or)=>Number(ir)+Number(or),0).toString(),Dt=$t.objectArray,[Ft,...Nt]=Dt,jt=nt.object(Ft);let Lt=jt;const Vt=$t.amountArray.reduce((ir,or)=>Number(ir)+Number(or),0).toString();let er;return Nt.length>0&&nt.mergeCoins(jt,Nt.map(ir=>nt.object(ir))),mt&&Number(Ct)>Number(et)&&(Lt=nt.splitCoins(jt,[nt.pure.u64(et)]),er=jt),{originalSplitedCoin:er,targetCoin:Lt,tragetCoinAmount:Vt,selectedCoinsResult:$t,coinObjectIds:Dt}}static buildCoin(nt,et,at,mt,$t,Ct=!0,Dt=!0){return Ct?this.buildVectorCoin(nt,et,at,mt,$t,Dt):this.buildOneCoin(nt,at,mt,$t,Dt)}static buildZeroValueCoin(nt,et,at,mt=!0){const $t=_TransactionUtil.callMintZeroValueCoin(et,at);let Ct;return mt?Ct=et.makeMoveVec({elements:[$t]}):Ct=$t,{targetCoin:Ct,remainCoins:nt,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(nt,et,at,mt,$t=!0,Ct=!0){const Dt=CoinAssist.getCoinAssets(mt,et);if(at.amountFirst===BigInt(0))return Dt.length>0?_TransactionUtil.buildCoin(nt,[...et],[...Dt],at.amountFirst,mt,$t,Ct):_TransactionUtil.buildZeroValueCoin(et,nt,mt,$t);const Ft=CoinAssist.calculateTotalBalance(Dt);if(Ft>=at.amountFirst)return _TransactionUtil.buildCoin(nt,[...et],[...Dt],at.amountFirst,mt,$t,Ct);if(Ft<at.amountSecond)throw new ClmmpoolsError(`The amount(${Ft}) is Insufficient balance for ${mt} , expect ${at.amountSecond} `,"InsufficientBalance");return _TransactionUtil.buildCoin(nt,[...et],[...Dt],at.amountSecond,mt,$t,Ct)}static async buildRouterSwapTransaction(nt,et,at,mt,$t){let Ct=new Transaction;return et.paths.length>1&&(et.partner=""),Ct=await this.buildRouterBasePathTx(nt,et,at,mt,Ct,$t),Ct}static async buildRouterBasePathTx(nt,et,at,mt,$t,Ct){const Dt=et.paths.filter(vr=>vr&&vr.poolAddress),Ft=Number(Dt.reduce((vr,br)=>vr.add(br.amountIn),ZERO$1).toString()),Nt=Number(Dt.reduce((vr,br)=>vr.add(br.amountOut),ZERO$1).toString()),jt=Math.round(at?Number(Nt.toString())*(1-et.priceSlippagePoint):Number(Ft.toString())*(1+et.priceSlippagePoint)),Lt=et.paths[0].coinType[0],Vt=et.paths[0].coinType[et.paths[0].coinType.length-1],er=_TransactionUtil.buildCoinForAmount($t,mt,BigInt(at?Ft:jt),Lt,!1,!0),ir=er.originalSplitedCoin!==void 0,or=_TransactionUtil.buildCoinForAmount($t,mt,0n,Vt,!1),lr=await this.buildRouterBasePathReturnCoins(nt,et,at,er,or,$t),dr=[],{toCoin:pr,fromCoin:hr}=lr;if($t=lr.tx,or.isMintZeroCoin?dr.push({coinType:Vt,coin:pr}):or.originalSplitedCoin!==void 0?$t.mergeCoins(or.originalSplitedCoin,[pr]):$t.mergeCoins(or.targetCoin,[pr]),ir){const vr=er==null?void 0:er.originalSplitedCoin;$t.mergeCoins(vr,[hr])}else dr.push({coinType:Lt,coin:hr});for(let vr=0;vr<dr.length;vr++)this.buildTransferCoin(nt,$t,dr[vr].coin,dr[vr].coinType,Ct);return $t}static async buildRouterBasePathReturnCoins(nt,et,at,mt,$t,Ct){const{clmm_pool:Dt,integrate:Ft}=nt.sdkOptions,Nt=getPackagerConfigs(Dt).global_config_id,jt=et.paths.filter(vr=>vr&&vr.poolAddress),Lt=Number(jt.reduce((vr,br)=>vr.add(br.amountIn),ZERO$1).toString()),Vt=Number(jt.reduce((vr,br)=>vr.add(br.amountOut),ZERO$1).toString()),er=Math.round(at?Number(Vt.toString())*(1-et.priceSlippagePoint):Number(Lt.toString())*(1+et.priceSlippagePoint)),ir=et.paths[0].coinType[0],or=et.paths[0].coinType[et.paths[0].coinType.length-1];let lr=mt.targetCoin,dr;$t.isMintZeroCoin||$t.originalSplitedCoin!==void 0?dr=$t.targetCoin:dr=_TransactionUtil.callMintZeroValueCoin(Ct,or);const pr=et.partner==="",hr=pr?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule;for(const vr of jt)if(vr.poolAddress.length===1){const br=vr.a2b[0],xr={amount:Number(vr.amountIn.toString()),amountLimit:er,poolCoinA:vr.a2b[0]?ir:or,poolCoinB:vr.a2b[0]?or:ir},Sr=pr?"swap":"swap_with_partner",Er=br?lr:dr,$r=br?dr:lr,Cr=at?vr.amountIn.toString():vr.amountOut.toString(),kr=SwapUtils.getDefaultSqrtPriceLimit(br).toString(),gr=pr?[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Er,$r,Ct.pure.bool(br),Ct.pure.bool(at),Ct.pure.u64(Cr),Ct.pure.u128(kr),Ct.pure.bool(!1),Ct.object(CLOCK_ADDRESS$1)]:[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Ct.object(et.partner),Er,$r,Ct.pure.bool(br),Ct.pure.bool(at),Ct.pure.u64(Cr),Ct.pure.u128(kr),Ct.pure.bool(!1),Ct.object(CLOCK_ADDRESS$1)],Ut=[xr.poolCoinA,xr.poolCoinB],tr=Ct.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${hr}::${Sr}`,typeArguments:Ut,arguments:gr});lr=br?tr[0]:tr[1],dr=br?tr[1]:tr[0]}else{const br=at?vr.amountIn:vr.rawAmountLimit[0],xr=at?0:vr.amountOut;let Sr="";vr.a2b[0]?vr.a2b[1]?Sr="swap_ab_bc":Sr="swap_ab_cb":vr.a2b[1]?Sr="swap_ba_bc":Sr="swap_ba_cb",pr||(Sr=`${Sr}_with_partner`);const Er=SwapUtils.getDefaultSqrtPriceLimit(vr.a2b[0]),$r=SwapUtils.getDefaultSqrtPriceLimit(vr.a2b[1]),Cr=pr?[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Ct.object(vr.poolAddress[1]),lr,dr,Ct.pure.bool(at),Ct.pure.u64(br.toString()),Ct.pure.u64(xr.toString()),Ct.pure.u128(Er.toString()),Ct.pure.u128($r.toString()),Ct.object(CLOCK_ADDRESS$1)]:[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Ct.object(vr.poolAddress[1]),Ct.object(et.partner),lr,dr,Ct.pure.bool(at),Ct.pure.u64(br.toString()),Ct.pure.u64(xr.toString()),Ct.pure.u128(Er.toString()),Ct.pure.u128($r.toString()),Ct.object(CLOCK_ADDRESS$1)],kr=[vr.coinType[0],vr.coinType[1],vr.coinType[2]],gr=Ct.moveCall({target:`${Ft.published_at}::${hr}::${Sr}`,typeArguments:kr,arguments:Cr});lr=gr[0],dr=gr[1]}return this.checkCoinThreshold(nt,at,Ct,dr,er,or),{fromCoin:lr,toCoin:dr,tx:Ct}}static async buildAggregatorSwapReturnCoins(nt,et,at,mt,$t,Ct,Dt,Ft){if(Ft==null){if(nt.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");Ft=nt.senderAddress}et.splitPaths.length>1&&($t="");let Nt,jt;const Lt=et.splitPaths.some(Vt=>Vt.basePaths.some(er=>er.label==="Deepbook"));if((!et.byAmountIn||et.splitPaths.length===1)&&!Lt){const Vt=[];for(const or of et.splitPaths){const lr=[],dr=[],pr=[],hr=[];for(let br=0;br<or.basePaths.length;br+=1){const xr=or.basePaths[br];lr.push(xr.direction),dr.push(xr.poolAddress),pr.push(new BN(xr.inputAmount.toString())),br===0?hr.push(xr.fromCoin,xr.toCoin):hr.push(xr.toCoin)}const vr={amountIn:new BN(or.inputAmount.toString()),amountOut:new BN(or.outputAmount.toString()),poolAddress:dr,a2b:lr,rawAmountLimit:pr,isExceed:!1,coinType:hr};Vt.push(vr)}const er={paths:Vt,partner:$t,priceSlippagePoint:Ct},ir=await this.buildRouterBasePathReturnCoins(nt,er,et.byAmountIn,at,mt,Dt);Nt=ir.fromCoin,jt=ir.toCoin,Dt=ir.tx}else{const Vt=Math.round(et.outputAmount*(1-Ct));Nt=at.targetCoin,mt.isMintZeroCoin||mt.originalSplitedCoin!==void 0?jt=mt.targetCoin:jt=_TransactionUtil.callMintZeroValueCoin(Dt,et.toCoin);let er=!1,ir;if(Lt){const[or,lr]=DeepbookUtils.createAccountCap(Ft,nt.sdkOptions,Dt);Dt=lr,ir=or,er=!0}for(let or=0;or<et.splitPaths.length;or+=1){const lr=et.splitPaths[or];let dr;for(let pr=0;pr<lr.basePaths.length;pr+=1){const hr=lr.basePaths[pr];if(hr.label==="Deepbook")if(pr===0)if(lr.basePaths.length===1){const vr=this.buildDeepbookBasePathTx(nt,hr,Dt,ir,Nt,jt,!1);Nt=vr.from,jt=vr.to}else{dr=_TransactionUtil.callMintZeroValueCoin(Dt,hr.toCoin);const vr=this.buildDeepbookBasePathTx(nt,hr,Dt,ir,Nt,dr,!1);Nt=vr.from,dr=vr.to}else{const vr=this.buildDeepbookBasePathTx(nt,hr,Dt,ir,dr,jt,!0);dr=vr.from,jt=vr.to}if(hr.label==="Cetus")if(pr===0)if(lr.basePaths.length===1){const vr=this.buildClmmBasePathTx(nt,hr,Dt,et.byAmountIn,Nt,jt,!1,$t);Nt=vr.from,jt=vr.to}else{dr=_TransactionUtil.callMintZeroValueCoin(Dt,hr.toCoin);const vr=this.buildClmmBasePathTx(nt,hr,Dt,et.byAmountIn,Nt,dr,!1,$t);Nt=vr.from,dr=vr.to}else{const vr=this.buildClmmBasePathTx(nt,hr,Dt,et.byAmountIn,dr,jt,!0,$t);dr=vr.from,jt=vr.to,Dt.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::send_coin`,typeArguments:[hr.fromCoin],arguments:[dr,Dt.pure.address(Ft)]})}}}this.checkCoinThreshold(nt,et.byAmountIn,Dt,jt,Vt,et.toCoin),er&&(Dt=DeepbookUtils.deleteAccountCapByObject(ir,nt.sdkOptions,Dt))}return{fromCoin:Nt,toCoin:jt,tx:Dt}}static async buildAggregatorSwapTransaction(nt,et,at,mt,$t,Ct){let Dt=new Transaction;const Ft=et.byAmountIn?Math.round(et.outputAmount*(1-$t)):Math.round(et.inputAmount*(1+$t)),Nt=_TransactionUtil.buildCoinForAmount(Dt,at,et.byAmountIn?BigInt(et.inputAmount):BigInt(Ft),et.fromCoin,!1,!0),jt=Nt.originalSplitedCoin!=null,Lt=_TransactionUtil.buildCoinForAmount(Dt,at,0n,et.toCoin,!1),Vt=await this.buildAggregatorSwapReturnCoins(nt,et,Nt,Lt,mt,$t,Dt,Ct),{fromCoin:er,toCoin:ir}=Vt;Dt=Vt.tx;const or=[];if(Lt.isMintZeroCoin?or.push({coinType:et.toCoin,coin:ir}):Lt.originalSplitedCoin!=null?Dt.mergeCoins(Lt.originalSplitedCoin,[ir]):Dt.mergeCoins(Lt.targetCoin,[ir]),jt){const lr=Nt.originalSplitedCoin;Dt.mergeCoins(lr,[er])}else or.push({coinType:et.fromCoin,coin:er});for(let lr=0;lr<or.length;lr++)this.buildTransferCoin(nt,Dt,or[lr].coin,or[lr].coinType,Ct);return Dt}static checkCoinThreshold(nt,et,at,mt,$t,Ct){et&&at.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${ClmmIntegrateRouterModule}::check_coin_threshold`,typeArguments:[Ct],arguments:[mt,at.pure.u64($t)]})}static buildDeepbookBasePathTx(nt,et,at,mt,$t,Ct,Dt){const Ft=et.direction?$t:Ct,Nt=et.direction?Ct:$t,jt=[at.object(et.poolAddress),mt,at.pure.u64(et.inputAmount),at.pure.u64(0),at.pure.bool(et.direction),Ft,Nt,at.pure.bool(Dt),at.object(CLOCK_ADDRESS$1)],Lt=et.direction?[et.fromCoin,et.toCoin]:[et.toCoin,et.fromCoin],Vt=at.moveCall({target:`${nt.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Lt,arguments:jt});return $t=et.direction?Vt[0]:Vt[1],Ct=et.direction?Vt[1]:Vt[0],{from:$t,to:Ct,tx:at}}static buildClmmBasePathTx(nt,et,at,mt,$t,Ct,Dt,Ft){const{clmm_pool:Nt,integrate:jt}=nt.sdkOptions,Lt=getPackagerConfigs(Nt).global_config_id;let Vt=et.direction?$t:Ct,er=et.direction?Ct:$t;const ir=Ft==="",or=ir?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule,lr=ir?"swap":"swap_with_partner",dr=mt?et.inputAmount.toString():et.outputAmount.toString(),pr=SwapUtils.getDefaultSqrtPriceLimit(et.direction),hr=ir?[at.object(Lt),at.object(et.poolAddress),Vt,er,at.pure.bool(et.direction),at.pure.bool(mt),at.pure.u64(dr),at.pure.u128(pr.toString()),at.pure.bool(Dt),at.object(CLOCK_ADDRESS$1)]:[at.object(Lt),at.object(et.poolAddress),at.object(Ft),Vt,er,at.pure.bool(et.direction),at.pure.bool(mt),at.pure.u64(dr),at.pure.u128(pr.toString()),at.pure.bool(Dt),at.object(CLOCK_ADDRESS$1)],vr=et.direction?[et.fromCoin,et.toCoin]:[et.toCoin,et.fromCoin],br=at.moveCall({target:`${jt.published_at}::${or}::${lr}`,typeArguments:vr,arguments:hr});return Vt=br[0],er=br[1],$t=et.direction?Vt:er,Ct=et.direction?er:Vt,{from:$t,to:Ct,tx:at}}static buildCoinTypePair(nt,et){const at=[];if(nt.length===2){const mt=[];mt.push(nt[0],nt[1]),at.push(mt)}else{const mt=[];mt.push(nt[0],nt[nt.length-1]),at.push(mt);for(let $t=1;$t<nt.length-1;$t+=1){if(et[$t-1]===0)continue;const Ct=[];Ct.push(nt[0],nt[$t],nt[nt.length-1]),at.push(Ct)}}return at}static buildTransferCoinToSender(nt,et,at,mt){et.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::transfer_coin_to_sender`,typeArguments:[mt],arguments:[at]})}static buildTransferCoin(nt,et,at,mt,$t){$t!=null?et.transferObjects([at],et.pure.address($t)):_TransactionUtil.buildTransferCoinToSender(nt,et,at,mt)}},TransactionUtil=_TransactionUtil;__publicField$1(TransactionUtil,"callMintZeroValueCoin",(nt,et)=>nt.moveCall({target:"0x2::coin::zero",typeArguments:[et]}));function checkInvalidSuiAddress$1(nt){return!(!nt.startsWith("0x")||nt.length!==66)}var FLOAT_SCALING=new BN(1e9),DeepbookUtils=class{static createAccountCap(nt,et,at,mt=!1){if(nt.length===0)throw Error("this config sdk senderAddress is empty");const{deepbook:$t}=et,[Ct]=at.moveCall({target:`${$t.published_at}::${DeepbookClobV2Moudle}::create_account`,typeArguments:[],arguments:[]});return mt&&at.transferObjects([Ct],at.pure.address(nt)),[Ct,at]}static deleteAccountCap(nt,et,at){const{deepbook:mt}=et,$t=[at.object(nt)];return at.moveCall({target:`${mt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:$t}),at}static deleteAccountCapByObject(nt,et,at){const{deepbook:mt}=et,$t=[nt];return at.moveCall({target:`${mt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:$t}),at}static async getAccountCap(nt,et=!0){const at=await nt.fullClient.getOwnedObjectsByPage(nt.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:et,showOwner:!0},filter:{MoveModule:{package:nt.sdkOptions.deepbook.package_id,module:DeepbookCustodianV2Moudle}}});return at.data.length===0?"":at.data[0].data.objectId}static async getPools(nt){const et=nt.sdkOptions.deepbook.package_id,at=[];try{(await nt.fullClient.queryEventsByPage({MoveEventType:`${et}::clob_v2::PoolCreated`})).data.forEach($t=>{const Ct=$t.parsedJson;Ct&&at.push({poolID:Ct.pool_id,tickSize:Number(Ct.tick_size),lotSize:Number(Ct.lot_size),takerFeeRate:Number(Ct.taker_fee_rate),makerRebateRate:Number(Ct.maker_rebate_rate),baseAsset:Ct.base_asset.name,quoteAsset:Ct.quote_asset.name})})}catch(mt){console.log("getPoolImmutables",mt)}return at}static async getPoolAsks(nt,et,at,mt){var er;const{simulationAccount:$t}=nt.sdkOptions,{deepbook_endpoint_v2:Ct}=nt.sdkOptions,Dt=new Transaction,Ft=[],Nt=[at,mt],jt=[Dt.object(et),Dt.pure.u64("0"),Dt.pure.u64("999999999999"),Dt.object(CLOCK_ADDRESS$1)];Dt.moveCall({target:`${Ct.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:jt,typeArguments:Nt});const Vt=(er=(await nt.fullClient.devInspectTransactionBlock({transactionBlock:Dt,sender:$t.address})).events)==null?void 0:er.filter(ir=>extractStructTagFromType$1(ir.type).name==="BookStatus");if(Vt.length===0)return Ft;for(let ir=0;ir<Vt[0].parsedJson.depths.length;ir++){const or=Vt[0].parsedJson.price[ir],lr=Vt[0].parsedJson.depths[ir],dr={price:parseInt(or,10),quantity:parseInt(lr,10)};Ft.push(dr)}return Ft}static async getPoolBids(nt,et,at,mt){var er;const{simulationAccount:$t}=nt.sdkOptions,{deepbook_endpoint_v2:Ct}=nt.sdkOptions,Dt=new Transaction,Ft=[],Nt=[at,mt],jt=[Dt.object(et),Dt.pure.u64("0"),Dt.pure.u64("999999999999"),Dt.object(CLOCK_ADDRESS$1)];Dt.moveCall({target:`${Ct.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:jt,typeArguments:Nt});const Vt=(er=(await nt.fullClient.devInspectTransactionBlock({transactionBlock:Dt,sender:$t.address})).events)==null?void 0:er.filter(ir=>extractStructTagFromType$1(ir.type).name==="BookStatus");if(Vt.length===0)return Ft;for(let ir=0;ir<Vt[0].parsedJson.depths.length;ir++){const or=Vt[0].parsedJson.price[ir],lr=Vt[0].parsedJson.depths[ir],dr={price:parseInt(or,10),quantity:parseInt(lr,10)};Ft.push(dr)}return Ft}static async preSwap(nt,et,at,mt){let $t=!1,Ct=ZERO$1,Dt=new BN(mt),Ft=ZERO$1;const Nt=new BN(mt);if(at){let jt=await this.getPoolBids(nt,et.poolID,et.baseAsset,et.quoteAsset);jt===null&&($t=!0),jt=jt.sort((Lt,Vt)=>Vt.price-Lt.price);for(let Lt=0;Lt<jt.length;Lt+=1){const Vt=new BN(jt[Lt].quantity),er=new BN(jt[Lt].price),ir=Vt.mul(new BN(er)).mul(new BN(et.takerFeeRate)).div(FLOAT_SCALING).div(FLOAT_SCALING);if(Dt.gt(Vt))Dt=Dt.sub(Vt),Ct=Ct.add(Vt.mul(er).div(FLOAT_SCALING).sub(ir)),Ft=Ft.add(ir);else{const or=Dt.mul(new BN(jt[Lt].price)).div(FLOAT_SCALING),lr=or.mul(new BN(et.takerFeeRate)).div(FLOAT_SCALING);Ct=Ct.add(or.sub(lr)),Dt=Dt.sub(Dt),Ft=Ft.add(lr)}if(Dt.eq(ZERO$1))break}}else{const jt=await this.getPoolAsks(nt,et.poolID,et.baseAsset,et.quoteAsset);jt===null&&($t=!0);for(let Lt=0;Lt<jt.length;Lt+=1){const Vt=new BN(jt[Lt].price).mul(new BN(jt[Lt].quantity)).div(new BN(1e9)),er=Vt.mul(new BN(et.takerFeeRate)).div(FLOAT_SCALING),ir=Vt.add(er);if(Dt.gt(Vt))Ct=Ct.add(new BN(jt[Lt].quantity)),Dt=Dt.sub(ir),Ft=Ft.add(er);else{const or=new BN(jt[Lt].quantity).div(new BN(et.lotSize)),lr=ir.div(or),dr=Dt.div(lr);Ct=Ct.add(dr.muln(et.lotSize)),Dt=Dt.sub(dr.mul(lr)),Ft=Ft.add(dr.div(or).mul(er))}if(Dt.eq(ZERO$1))break}}return{poolAddress:et.poolID,estimatedAmountIn:Nt.sub(Dt).toNumber(),estimatedAmountOut:Ct.toNumber(),estimatedFeeAmount:Ft,isExceed:$t,amount:Number(mt),aToB:at,byAmountIn:!0}}static async simulateSwap(nt,et,at,mt,$t,Ct){var xr;const{deepbook_endpoint_v2:Dt}=nt.sdkOptions;let Ft=new Transaction;const Nt=await this.getAccountCap(nt);let jt;if(Nt===""){const Sr=this.createAccountCap(nt.senderAddress,nt.sdkOptions,Ft),Er=Sr[0];Ft=Sr[1],jt=Er}else jt=Ft.object(Nt);const Lt=await nt.getOwnerCoinAssets(nt.senderAddress),Vt=TransactionUtil.buildCoinForAmount(Ft,Lt,BigInt(Ct),at,!1),er=Vt==null?void 0:Vt.targetCoin,ir=TransactionUtil.buildCoinForAmount(Ft,Lt,BigInt(Ct),mt,!1),or=ir==null?void 0:ir.targetCoin,lr=[at,mt],dr=[Ft.object(et),jt,Ft.pure.u64(Ct),Ft.pure.u64(0),Ft.pure.bool($t),er,or,Ft.object(CLOCK_ADDRESS$1)];Ft.moveCall({target:`${Dt.published_at}::${DeepbookEndpointsV2Moudle}::swap`,arguments:dr,typeArguments:lr});const{simulationAccount:pr}=nt.sdkOptions,vr=(xr=(await nt.fullClient.devInspectTransactionBlock({transactionBlock:Ft,sender:pr.address})).events)==null?void 0:xr.filter(Sr=>extractStructTagFromType$1(Sr.type).name==="DeepbookSwapEvent");if(vr.length===0)return null;const br=vr[0].parsedJson;return{poolAddress:br.pool,estimatedAmountIn:br.amount_in,estimatedAmountOut:br.amount_out,aToB:br.atob}}},RpcModule=class extends SuiClient{async queryEventsByPage(nt,et="all"){let at=[],mt=!0;const $t=et==="all";let Ct=$t?null:et.cursor;do{const Dt=await this.queryEvents({query:nt,cursor:Ct,limit:$t?null:et.limit});Dt.data?(at=[...at,...Dt.data],mt=Dt.hasNextPage,Ct=Dt.nextCursor):mt=!1}while($t&&mt);return{data:at,nextCursor:Ct,hasNextPage:mt}}async queryTransactionBlocksByPage(nt,et="all",at="ascending"){let mt=[],$t=!0;const Ct=et==="all";let Dt=Ct?null:et.cursor;do{const Ft=await this.queryTransactionBlocks({filter:nt,cursor:Dt,order:at,limit:Ct?null:et.limit,options:{showEvents:!0}});Ft.data?(mt=[...mt,...Ft.data],$t=Ft.hasNextPage,Dt=Ft.nextCursor):$t=!1}while(Ct&&$t);return{data:mt,nextCursor:Dt,hasNextPage:$t}}async getOwnedObjectsByPage(nt,et,at="all"){let mt=[],$t=!0;const Ct=at==="all";let Dt=Ct?null:at.cursor;do{const Ft=await this.getOwnedObjects({owner:nt,...et,cursor:Dt,limit:Ct?null:at.limit});Ft.data?(mt=[...mt,...Ft.data],$t=Ft.hasNextPage,Dt=Ft.nextCursor):$t=!1}while(Ct&&$t);return{data:mt,nextCursor:Dt,hasNextPage:$t}}async getDynamicFieldsByPage(nt,et="all"){let at=[],mt=!0;const $t=et==="all";let Ct=$t?null:et.cursor;do{const Dt=await this.getDynamicFields({parentId:nt,cursor:Ct,limit:$t?null:et.limit});Dt.data?(at=[...at,...Dt.data],mt=Dt.hasNextPage,Ct=Dt.nextCursor):mt=!1}while($t&&mt);return{data:at,nextCursor:Ct,hasNextPage:mt}}async batchGetObjects(nt,et,at=50){let mt=[];try{for(let $t=0;$t<Math.ceil(nt.length/at);$t++){const Ct=await this.multiGetObjects({ids:nt.slice($t*at,at*($t+1)),options:et});mt=[...mt,...Ct]}}catch($t){console.log($t)}return mt}async calculationTxGas(nt){const{sender:et}=nt.blockData;if(et===void 0)throw Error("sdk sender is empty");const at=await this.devInspectTransactionBlock({transactionBlock:nt,sender:et}),{gasUsed:mt}=at.effects;return Number(mt.computationCost)+Number(mt.storageCost)-Number(mt.storageRebate)}async sendTransaction(nt,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:nt,options:{showEffects:!0,showEvents:!0}})}catch(at){console.log("error: ",at)}}async sendSimulationTransaction(nt,et,at=!0){try{if(at)return await this.devInspectTransactionBlock({transactionBlock:nt,sender:et})}catch(mt){console.log("devInspectTransactionBlock error",mt)}}},PoolModule=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}async getPositionList(nt,et="all"){const at={data:[],hasNextPage:!0},mt=await this._sdk.fullClient.getDynamicFieldsByPage(nt,et);at.hasNextPage=mt.hasNextPage,at.nextCursor=mt.nextCursor;const $t=mt.data.map(Dt=>{if(Dt.error!=null)throw new ClmmpoolsError(`when getPositionList get position objects error: ${Dt.error}, please check the rpc, contracts address config and position id.`,"InvalidConfig");return Dt.name.value}),Ct=await this._sdk.Position.getSipmlePositionList($t);return at.data=Ct,at}async getPoolImmutables(nt=[],et=0,at=100,mt=!1){const{package_id:$t}=this._sdk.sdkOptions.clmm_pool,Ct=`${$t}_getInitPoolEvent`,Dt=this.getCache(Ct,mt),Ft=[],Nt=[];if(Dt!==void 0&&Ft.push(...Dt),Ft.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${$t}::factory::CreatePoolEvent`})).data.forEach(Vt=>{const er=Vt.parsedJson;er&&Ft.push({poolAddress:er.pool_id,tickSpacing:er.tick_spacing,coinTypeA:extractStructTagFromType$1(er.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(er.coin_type_b).full_address})}),this.updateCache(Ct,Ft,cacheTime24h)}catch(Lt){console.log("getPoolImmutables",Lt)}const jt=nt.length>0;for(let Lt=0;Lt<Ft.length;Lt+=1){const Vt=Ft[Lt];jt&&!nt.includes(Vt.poolAddress)||!jt&&(Lt<et||Lt>=et+at)||Nt.push(Vt)}return Nt}async getPools(nt=[],et=0,at=100){var Dt,Ft,Nt;const mt=[];let $t=[];nt.length>0?$t=[...nt]:(await this.getPoolImmutables([],et,at,!1)).forEach(Lt=>$t.push(Lt.poolAddress));const Ct=await this._sdk.fullClient.batchGetObjects($t,{showContent:!0,showType:!0});for(const jt of Ct){if(jt.error!=null||((Ft=(Dt=jt.data)==null?void 0:Dt.content)==null?void 0:Ft.dataType)!=="moveObject")throw new ClmmpoolsError(`getPools error code: ${((Nt=jt.error)==null?void 0:Nt.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Lt=buildPool(jt);mt.push(Lt);const Vt=`${Lt.poolAddress}_getPoolObject`;this.updateCache(Vt,Lt,cacheTime24h)}return mt}async getPoolImmutablesWithPage(nt="all",et=!1){const{package_id:at}=this._sdk.sdkOptions.clmm_pool,mt=[],$t={data:[],hasNextPage:!1},Ct=nt==="all",Dt=`${at}_getPoolImmutables`;if(Ct){const Ft=this.getCache(Dt,et);Ft&&mt.push(...Ft)}if(mt.length===0)try{const Ft=`${at}::factory::CreatePoolEvent`,Nt=await this._sdk.fullClient.queryEventsByPage({MoveEventType:Ft},nt);$t.hasNextPage=Nt.hasNextPage,$t.nextCursor=Nt.nextCursor,Nt.data.forEach(jt=>{const Lt=jt.parsedJson;if(Lt){const Vt={poolAddress:Lt.pool_id,tickSpacing:Lt.tick_spacing,coinTypeA:extractStructTagFromType$1(Lt.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(Lt.coin_type_b).full_address};mt.push(Vt)}})}catch(Ft){console.log("getPoolImmutables",Ft)}return $t.data=mt,Ct&&this.updateCache(`${at}_getPoolImmutables`,mt,cacheTime24h),$t}async getPoolsWithPage(nt=[],et="all",at=!1){var Dt,Ft,Nt;const mt=[];let $t=[];nt.length>0?$t=[...nt]:(await this.getPoolImmutablesWithPage(et,at)).data.forEach(Lt=>$t.push(Lt.poolAddress));const Ct=await this._sdk.fullClient.batchGetObjects($t,{showContent:!0,showType:!0});for(const jt of Ct){if(jt.error!=null||((Ft=(Dt=jt.data)==null?void 0:Dt.content)==null?void 0:Ft.dataType)!=="moveObject")throw new ClmmpoolsError(`getPoolWithPages error code: ${((Nt=jt.error)==null?void 0:Nt.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Lt=buildPool(jt);mt.push(Lt);const Vt=`${Lt.poolAddress}_getPoolObject`;this.updateCache(Vt,Lt,cacheTime24h)}return mt}async getPool(nt,et=!0){var Dt,Ft,Nt;const at=`${nt}_getPoolObject`,mt=this.getCache(at,et);if(mt!==void 0)return mt;const $t=await this._sdk.fullClient.getObject({id:nt,options:{showType:!0,showContent:!0}});if($t.error!=null||((Ft=(Dt=$t.data)==null?void 0:Dt.content)==null?void 0:Ft.dataType)!=="moveObject")throw new ClmmpoolsError(`getPool error code: ${((Nt=$t.error)==null?void 0:Nt.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");const Ct=buildPool($t);return this.updateCache(at,Ct),Ct}async getPoolByCoins(nt,et){if(nt.length===0)return[];for(let Ft=0;Ft<nt.length;Ft++)nt[Ft]==="0x2::sui::SUI"&&(nt[Ft]="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI");let at=this._sdk.sdkOptions.statsPoolsUrl;if(!at)throw new ClmmpoolsError("statsPoolsUrl is not set in the sdk options.","StatsPoolsUrlNotSet");at+=`?order_by=-fees&limit=100&has_mining=true&has_farming=true&no_incentives=true&display_all_pools=true&coin_type=${nt.join(",")}`;const mt=await fetch(at);let $t;try{$t=await mt.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${at}].`,"InvalidSwapCountUrl")}const Ct=$t.data.lp_list;if(!Ct||Ct.length===0)throw new ClmmpoolsError(`Failed tp [arse response from ${at}].`,"PoolsNotFound");const Dt=[];for(const Ft of Ct)nt.includes(Ft.coin_a_address)&&nt.includes(Ft.coin_b_address)&&(et!=null?Ft.fee===et.toString()&&Dt.push(Ft.address):Dt.push(Ft.address));return Dt.length>0?await this.getPools(Dt):[]}async creatPoolsTransactionPayload(nt){for(const at of nt)if(isSortedSymbols(normalizeSuiAddress(at.coinTypeA),normalizeSuiAddress(at.coinTypeB))){const mt=at.coinTypeB;at.coinTypeB=at.coinTypeA,at.coinTypeA=mt}return await this.creatPool(nt)}async creatPoolTransactionPayload(nt){if(isSortedSymbols(normalizeSuiAddress(nt.coinTypeA),normalizeSuiAddress(nt.coinTypeB))){const et=nt.coinTypeB;nt.coinTypeB=nt.coinTypeA,nt.coinTypeA=et;const at=nt.metadata_b;nt.metadata_b=nt.metadata_a,nt.metadata_a=at}return await this.createPoolAndAddLiquidity(nt)}async createPoolTransactionPayload(nt){if(isSortedSymbols(normalizeSuiAddress(nt.coinTypeA),normalizeSuiAddress(nt.coinTypeB))){const et=nt.coinTypeB;nt.coinTypeB=nt.coinTypeA,nt.coinTypeA=et;const at=nt.metadata_b;nt.metadata_b=nt.metadata_a,nt.metadata_a=at}return await this.createPoolAndAddLiquidity(nt)}async createPoolTransactionRowPayload(nt){if(isSortedSymbols(normalizeSuiAddress(nt.coinTypeA),normalizeSuiAddress(nt.coinTypeB))){const et=nt.coinTypeB;nt.coinTypeB=nt.coinTypeA,nt.coinTypeA=et;const at=nt.metadata_b;nt.metadata_b=nt.metadata_a,nt.metadata_a=at}return await this.createPoolAndAddLiquidityRow(nt)}async getClmmConfigs(nt=!1){const{package_id:et}=this._sdk.sdkOptions.clmm_pool,at=`${et}_getInitEvent`,mt=this.getCache(at,nt);if(mt!==void 0)return mt;const $t=await this._sdk.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),Ct=getObjectPreviousTransactionDigest($t),Dt=(await this._sdk.fullClient.queryEventsByPage({Transaction:Ct})).data,Ft={pools_id:"",global_config_id:"",global_vault_id:"",admin_cap_id:""};return Dt.length>0&&(Dt.forEach(Nt=>{const jt=Nt.parsedJson;if(Nt.type)switch(extractStructTagFromType$1(Nt.type).full_address){case`${et}::config::InitConfigEvent`:Ft.global_config_id=jt.global_config_id,Ft.admin_cap_id=jt.admin_cap_id;break;case`${et}::factory::InitFactoryEvent`:Ft.pools_id=jt.pools_id;break;case`${et}::rewarder::RewarderInitEvent`:Ft.global_vault_id=jt.global_vault_id;break;case`${et}::partner::InitPartnerEvent`:Ft.partners_id=jt.partners_id;break}}),this.updateCache(at,Ft,cacheTime24h)),Ft}async getSuiTransactionResponse(nt,et=!1){const at=`${nt}_getSuiTransactionResponse`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let $t;try{$t=await this._sdk.fullClient.getTransactionBlock({digest:nt,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{$t=await this._sdk.fullClient.getTransactionBlock({digest:nt,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(at,$t,cacheTime24h),$t}async getPoolTransactionList({poolId:nt,paginationArgs:et,order:at="descending",fullRpcUrl:mt}){const{fullClient:$t,sdkOptions:Ct}=this._sdk;let Dt;mt?Dt=new RpcModule({url:mt}):Dt=$t;const Ft={data:[],hasNextPage:!1},Nt=et,jt=et.limit||10;do{const Lt=await Dt.queryTransactionBlocksByPage({ChangedObject:nt},{...Nt,limit:50},at);Lt.data.forEach((Vt,er)=>{Ft.nextCursor=Lt.nextCursor;const ir=buildPoolTransactionInfo(Vt,er,Ct.clmm_pool.package_id,nt);Ft.data=[...Ft.data,...ir]}),Ft.hasNextPage=Lt.hasNextPage,Ft.nextCursor=Lt.nextCursor,Nt.cursor=Lt.nextCursor}while(Ft.data.length<jt&&Ft.hasNextPage);return Ft.data.length>jt&&(Ft.data=Ft.data.slice(0,jt),Ft.nextCursor=Ft.data[Ft.data.length-1].tx),Ft}async creatPool(nt){const et=new Transaction,{integrate:at,clmm_pool:mt}=this.sdk.sdkOptions,$t=getPackagerConfigs(mt),Ct=$t.global_config_id,Dt=$t.pools_id;return nt.forEach(Ft=>{const Nt=[et.object(Ct),et.object(Dt),et.pure.u32(Ft.tick_spacing),et.pure.u128(Ft.initialize_sqrt_price),et.pure.string(Ft.uri),et.object(CLOCK_ADDRESS$1)];et.moveCall({target:`${at.published_at}::${ClmmIntegratePoolModule}::create_pool`,typeArguments:[Ft.coinTypeA,Ft.coinTypeB],arguments:Nt})}),et}async createPoolAndAddLiquidity(nt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=new Transaction;et.setSender(this.sdk.senderAddress);const{integrate:at,clmm_pool:mt}=this.sdk.sdkOptions,$t=getPackagerConfigs(mt),Ct=$t.global_config_id,Dt=$t.pools_id,Ft=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),Nt=TransactionUtil.buildCoinForAmount(et,Ft,BigInt(nt.amount_a),nt.coinTypeA,!1,!0),jt=TransactionUtil.buildCoinForAmount(et,Ft,BigInt(nt.amount_b),nt.coinTypeB,!1,!0),Lt=[et.object(Ct),et.object(Dt),et.pure.u32(nt.tick_spacing),et.pure.u128(nt.initialize_sqrt_price),et.pure.string(nt.uri),et.pure.u32(Number(asUintN(BigInt(nt.tick_lower)).toString())),et.pure.u32(Number(asUintN(BigInt(nt.tick_upper)).toString())),Nt.targetCoin,jt.targetCoin,et.object(nt.metadata_a),et.object(nt.metadata_b),et.pure.bool(nt.fix_amount_a),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${at.published_at}::pool_creator_v2::create_pool_v2`,typeArguments:[nt.coinTypeA,nt.coinTypeB],arguments:Lt}),TransactionUtil.buildTransferCoinToSender(this._sdk,et,Nt.targetCoin,nt.coinTypeA),TransactionUtil.buildTransferCoinToSender(this._sdk,et,jt.targetCoin,nt.coinTypeB),et}async createPoolAndAddLiquidityRow(nt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=new Transaction,{clmm_pool:at}=this.sdk.sdkOptions,mt=getPackagerConfigs(at),$t=mt.global_config_id,Ct=mt.pools_id,Dt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),Ft=TransactionUtil.buildCoinForAmount(et,Dt,BigInt(nt.amount_a),nt.coinTypeA,!1,!0),Nt=TransactionUtil.buildCoinForAmount(et,Dt,BigInt(nt.amount_b),nt.coinTypeB,!1,!0),jt=[et.object($t),et.object(Ct),et.pure.u32(nt.tick_spacing),et.pure.u128(nt.initialize_sqrt_price),et.pure.string(nt.uri),et.pure.u32(Number(asUintN(BigInt(nt.tick_lower)).toString())),et.pure.u32(Number(asUintN(BigInt(nt.tick_upper)).toString())),Ft.targetCoin,Nt.targetCoin,et.object(nt.metadata_a),et.object(nt.metadata_b),et.pure.bool(nt.fix_amount_a),et.object(CLOCK_ADDRESS$1)],Lt=et.moveCall({target:`${at.published_at}::pool_creator::create_pool_v2`,typeArguments:[nt.coinTypeA,nt.coinTypeB],arguments:jt});return{transaction:et,position:Lt[0],coinAObject:Lt[1],coinBObject:Lt[2],coinAType:nt.coinTypeA,coinBType:nt.coinTypeB}}async fetchTicks(nt){let et=[],at=[];for(;;){const $t=await this.getTicks({pool_id:nt.pool_id,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,start:at,limit:512});if(et=[...et,...$t],$t.length<512)break;at=[Number(asUintN(BigInt($t[$t.length-1].index)))]}return et}async getTicks(nt){var jt;const{integrate:et,simulationAccount:at}=this.sdk.sdkOptions,mt=[],$t=[nt.coinTypeA,nt.coinTypeB],Ct=new Transaction,Dt=Ct.makeMoveVec({elements:nt.start.map(Lt=>Ct.pure.u32(Lt)),type:"u32"}),Ft=[Ct.object(nt.pool_id),Dt,Ct.pure.u64(nt.limit.toString())];if(Ct.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_ticks`,arguments:Ft,typeArguments:$t}),!checkInvalidSuiAddress$1(at.address))throw new ClmmpoolsError("Invalid simulation account: Configuration requires a valid Sui address. Please check your SDK configuration.","InvalidSimulateAccount");const Nt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:at.address});if(Nt.error!=null)throw new ClmmpoolsError(`getTicks error code: ${Nt.error??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return(jt=Nt.events)==null||jt.forEach(Lt=>{extractStructTagFromType$1(Lt.type).name==="FetchTicksResultEvent"&&Lt.parsedJson.ticks.forEach(Vt=>{mt.push(buildTickDataByEvent(Vt))})}),mt}async fetchPositionRewardList(nt){var Dt;const{integrate:et,simulationAccount:at}=this.sdk.sdkOptions,mt=[];let $t=[];const Ct=512;for(;;){const Ft=[nt.coinTypeA,nt.coinTypeB],Nt=new Transaction,jt=Nt.makeMoveVec({elements:$t.map(ir=>Nt.pure.address(ir)),type:void 0}),Lt=[Nt.object(nt.pool_id),jt,Nt.pure.u64(Ct)];if(Nt.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_positions`,arguments:Lt,typeArguments:Ft}),!checkInvalidSuiAddress$1(at.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const Vt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Nt,sender:at.address});if(Vt.error!=null)throw new ClmmpoolsError(`fetch position reward error code: ${Vt.error??"unknown error"}, please check config and tick object ids`,"InvalidPositionRewardObject");const er=[];if((Dt=Vt==null?void 0:Vt.events)==null||Dt.forEach(ir=>{extractStructTagFromType$1(ir.type).name==="FetchPositionsEvent"&&ir.parsedJson.positions.forEach(or=>{const lr=buildPositionReward(or);er.push(lr)})}),mt.push(...er),er.length<Ct)break;$t=[er[er.length-1].pos_object_id]}return mt}async fetchTicksByRpc(nt){let et=[],at=null;const mt=50;for(;;){const $t=[],Ct=await this.sdk.fullClient.getDynamicFields({parentId:nt,cursor:at,limit:mt});if(at=Ct.nextCursor,Ct.data.forEach(Dt=>{extractStructTagFromType$1(Dt.objectType).module==="skip_list"&&$t.push(Dt.objectId)}),et=[...et,...await this.getTicksByRpc($t)],!Ct.hasNextPage)break}return et}async getTicksByRpc(nt){var mt,$t,Ct;const et=[],at=await this.sdk.fullClient.batchGetObjects(nt,{showContent:!0,showType:!0});for(const Dt of at){if(Dt.error!=null||(($t=(mt=Dt.data)==null?void 0:mt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${((Ct=Dt.error)==null?void 0:Ct.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");const Ft=buildTickData(Dt);Ft!=null&&et.push(Ft)}return et}async getTickDataByIndex(nt,et){var $t,Ct;const at={type:"u64",value:asUintN(BigInt(tickScore(et).toString())).toString()},mt=await this.sdk.fullClient.getDynamicFieldObject({parentId:nt,name:at});if(mt.error!=null||((Ct=($t=mt.data)==null?void 0:$t.content)==null?void 0:Ct.dataType)!=="moveObject")throw new ClmmpoolsError(`get tick by index: ${et} error: ${mt.error}`,"InvalidTickIndex");return buildTickData(mt)}async getTickDataByObjectId(nt){var at,mt,$t;const et=await this.sdk.fullClient.getObject({id:nt,options:{showContent:!0}});if(et.error!=null||((mt=(at=et.data)==null?void 0:at.content)==null?void 0:mt.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${(($t=et.error)==null?void 0:$t.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return buildTickData(et)}async getPartnerRefFeeAmount(nt,et=!0){var Nt,jt;const at=await this._sdk.fullClient.batchGetObjects([nt],{showOwner:!0,showContent:!0,showDisplay:et,showType:!0});if(((jt=(Nt=at[0].data)==null?void 0:Nt.content)==null?void 0:jt.dataType)!=="moveObject")throw new ClmmpoolsError(`get partner by object id: ${nt} error: ${at[0].error}`,"NotFoundPartnerObject");const mt=at[0].data.content.fields.balances,$t=await this._sdk.fullClient.getDynamicFieldsByPage(mt.fields.id.id),Ct=[];$t.data.forEach(Lt=>{Lt.objectId!=null&&Ct.push(Lt.objectId)});const Dt=[];return(await this._sdk.fullClient.batchGetObjects(Ct,{showOwner:!0,showContent:!0,showDisplay:et,showType:!0})).forEach(Lt=>{var er,ir;if(Lt.error!=null||((ir=(er=Lt.data)==null?void 0:er.content)==null?void 0:ir.dataType)!=="moveObject")throw new ClmmpoolsError(`get coin by object id: ${Lt.data.objectId} error: ${Lt.error}`,"InvalidParnterRefFeeFields");const Vt={coinAddress:Lt.data.content.fields.name,coinObjectId:Lt.data.objectId,balance:BigInt(Lt.data.content.fields.value)};Dt.push(Vt)}),Dt}async claimPartnerRefFeePayload(nt,et,at){const mt=new Transaction,{clmm_pool:$t}=this.sdk.sdkOptions,{global_config_id:Ct}=getPackagerConfigs($t),Dt=[at],Ft=[mt.object(Ct),mt.object(nt),mt.object(et)];return mt.moveCall({target:`${$t.published_at}::${ClmmPartnerModule}::claim_ref_fee`,arguments:Ft,typeArguments:Dt}),mt}updateCache(nt,et,at=cacheTime5min){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){const at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},PositionModule=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}buildPositionType(){return`${this._sdk.sdkOptions.clmm_pool.package_id}::position::Position`}async getPositionTransactionList({posId:nt,paginationArgs:et="all",order:at="ascending",fullRpcUrl:mt,originPosId:$t}){const{fullClient:Ct}=this._sdk,Dt=[nt];$t&&Dt.push($t);let Ft;mt?Ft=new RpcModule({url:mt}):Ft=Ct;const Nt={data:[],hasNextPage:!1};try{const jt=await Ft.queryTransactionBlocksByPage({ChangedObject:nt},et,at);return jt.data.forEach((Lt,Vt)=>{const er=buildPositionTransactionInfo(Lt,Vt,Dt);Nt.data=[...Nt.data,...er]}),Nt.hasNextPage=jt.hasNextPage,Nt.nextCursor=jt.nextCursor,Nt}catch(jt){console.log("Error in getPositionTransactionList:",jt)}return Nt}async getPositionList(nt,et=[],at=!0){const mt=[],$t=await this._sdk.fullClient.getOwnedObjectsByPage(nt,{options:{showType:!0,showContent:!0,showDisplay:at,showOwner:!0},filter:{Package:this._sdk.sdkOptions.clmm_pool.package_id}}),Ct=et.length>0;for(const Dt of $t.data)if(extractStructTagFromType$1(Dt.data.type).full_address===this.buildPositionType()){const Nt=buildPosition(Dt),jt=`${Nt.pos_object_id}_getPositionList`;this.updateCache(jt,Nt,cacheTime24h),Ct?et.includes(Nt.pool)&&mt.push(Nt):mt.push(Nt)}return mt}async getPosition(nt,et,at=!0,mt=!0){let $t=await this.getSimplePosition(et,mt);return at&&($t=await this.updatePositionRewarders(nt,$t)),$t}async getPositionById(nt,et=!0,at=!0){const mt=await this.getSimplePosition(nt,at);if(et){const $t=await this._sdk.Pool.getPool(mt.pool,!1);return await this.updatePositionRewarders($t.position_manager.positions_handle,mt)}return mt}async getSimplePosition(nt,et=!0){const at=`${nt}_getPositionList`;let mt=this.getSimplePositionByCache(nt);if(mt===void 0){const $t=await this.sdk.fullClient.getObject({id:nt,options:{showContent:!0,showType:!0,showDisplay:et,showOwner:!0}});mt=buildPosition($t),this.updateCache(at,mt,cacheTime24h)}return mt}getSimplePositionByCache(nt){const et=`${nt}_getPositionList`;return this.getCache(et)}async getSipmlePositionList(nt,et=!0){const at=[],mt=[];return nt.forEach($t=>{const Ct=this.getSimplePositionByCache($t);Ct?at.push(Ct):mt.push($t)}),mt.length>0&&(await this._sdk.fullClient.batchGetObjects(mt,{showOwner:!0,showContent:!0,showDisplay:et,showType:!0})).forEach(Ct=>{if(Ct.error==null){const Dt=buildPosition(Ct);at.push(Dt);const Ft=`${Dt.pos_object_id}_getPositionList`;this.updateCache(Ft,Dt,cacheTime24h)}}),at}async updatePositionRewarders(nt,et){const at=await this.getPositionRewarders(nt,et.pos_object_id);return{...et,...at}}async getPositionRewarders(nt,et){try{const at=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"0x2::object::ID",value:et}}),$t=getObjectFields(at.data).value.fields.value;return buildPositionReward($t)}catch(at){console.log(at);return}}async fetchPosFeeAmount(nt){var Nt;const{clmm_pool:et,integrate:at,simulationAccount:mt}=this.sdk.sdkOptions,$t=new Transaction;for(const jt of nt){const Lt=[jt.coinTypeA,jt.coinTypeB],Vt=[$t.object(getPackagerConfigs(et).global_config_id),$t.object(jt.poolAddress),$t.pure.address(jt.positionId)];$t.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:Vt,typeArguments:Lt})}if(!checkInvalidSuiAddress$1(mt.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const Ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:mt.address});if(Ct.error!=null)throw new ClmmpoolsError(`fetch position fee error code: ${Ct.error??"unknown error"}, please check config and postion and pool object ids`,"InvalidPoolObject");const Dt=(Nt=Ct.events)==null?void 0:Nt.filter(jt=>extractStructTagFromType$1(jt.type).name==="FetchPositionFeesEvent");if(Dt.length===0)return[];const Ft=[];for(let jt=0;jt<Dt.length;jt+=1){const{parsedJson:Lt}=Dt[jt],Vt={feeOwedA:new BN(Lt.fee_owned_a),feeOwedB:new BN(Lt.fee_owned_b),position_id:Lt.position_id};Ft.push(Vt)}return Ft}async batchFetchPositionFees(nt){const et=[];for(const mt of nt){const $t=await this._sdk.Position.getPositionById(mt,!1),Ct=await this._sdk.Pool.getPool($t.pool,!1);et.push({poolAddress:Ct.poolAddress,positionId:$t.pos_object_id,coinTypeA:Ct.coinTypeA,coinTypeB:Ct.coinTypeB})}const at={};if(et.length>0){const mt=await this.fetchPosFeeAmount(et);for(const $t of mt)at[$t.position_id]=$t;return at}return at}async createAddLiquidityFixTokenPayload(nt,et,at,mt,$t){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const Ct=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(et){const{isAdjustCoinA:Dt,isAdjustCoinB:Ft}=findAdjustCoin(nt);if(nt=nt,nt.fix_amount_a&&Dt||!nt.fix_amount_a&&Ft)return at=await TransactionUtil.buildAddLiquidityFixTokenForGas(this._sdk,Ct,nt,et,at,mt,$t),at}return TransactionUtil.buildAddLiquidityFixToken(this._sdk,Ct,nt,at,mt,$t)}async createAddLiquidityPayload(nt,et,at,mt){const{integrate:$t,clmm_pool:Ct}=this._sdk.sdkOptions;if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const Dt=asUintN(BigInt(nt.tick_lower)).toString(),Ft=asUintN(BigInt(nt.tick_upper)).toString(),Nt=[nt.coinTypeA,nt.coinTypeB];et=et||new Transaction;const jt=!isValidSuiObjectId(nt.pos_id),Lt=BigInt(nt.max_amount_a),Vt=BigInt(nt.max_amount_b);let er,ir;if(at==null||mt==null){const or=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);er=TransactionUtil.buildCoinForAmount(et,or,Lt,nt.coinTypeA,!1,!0),ir=TransactionUtil.buildCoinForAmount(et,or,Vt,nt.coinTypeB,!1,!0)}else er={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},ir={targetCoin:mt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"};if(jt)et.moveCall({target:`${$t.published_at}::${ClmmIntegratePoolV2Module}::open_position_with_liquidity`,typeArguments:Nt,arguments:[et.object(getPackagerConfigs(Ct).global_config_id),et.object(nt.pool_id),et.pure.u32(Number(Dt)),et.pure.u32(Number(Ft)),er.targetCoin,ir.targetCoin,et.pure.u64(nt.max_amount_a),et.pure.u64(nt.max_amount_b),et.pure.u128(nt.delta_liquidity),et.object(CLOCK_ADDRESS$1)]});else{const or=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);et=TransactionUtil.createCollectRewarderAndFeeParams(this.sdk,et,nt,or,er.remainCoins,ir.remainCoins),et.moveCall({target:`${$t.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity`,typeArguments:Nt,arguments:[et.object(getPackagerConfigs(Ct).global_config_id),et.object(nt.pool_id),et.object(nt.pos_id),er.targetCoin,ir.targetCoin,et.pure.u64(nt.max_amount_a),et.pure.u64(nt.max_amount_b),et.pure.u128(nt.delta_liquidity),et.object(CLOCK_ADDRESS$1)]})}return et}async removeLiquidityTransactionPayload(nt,et){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:at,integrate:mt}=this.sdk.sdkOptions,$t="remove_liquidity";et=et||new Transaction;const Ct=[nt.coinTypeA,nt.coinTypeB],Dt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);et=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,et,nt,Dt);const Ft=[et.object(getPackagerConfigs(at).global_config_id),et.object(nt.pool_id),et.object(nt.pos_id),et.pure.u128(nt.delta_liquidity),et.pure.u64(nt.min_amount_a),et.pure.u64(nt.min_amount_b),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolModule}::${$t}`,typeArguments:Ct,arguments:Ft}),et}async closePositionTransactionPayload(nt,et){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:at,integrate:mt}=this.sdk.sdkOptions;et=et||new Transaction;const $t=[nt.coinTypeA,nt.coinTypeB],Ct=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);return et=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,et,nt,Ct),et.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolModule}::close_position`,typeArguments:$t,arguments:[et.object(getPackagerConfigs(at).global_config_id),et.object(nt.pool_id),et.object(nt.pos_id),et.pure.u64(nt.min_amount_a),et.pure.u64(nt.min_amount_b),et.object(CLOCK_ADDRESS$1)]}),et}openPositionTransactionPayload(nt,et){const{clmm_pool:at,integrate:mt}=this.sdk.sdkOptions;et=et||new Transaction;const $t=[nt.coinTypeA,nt.coinTypeB],Ct=asUintN(BigInt(nt.tick_lower)).toString(),Dt=asUintN(BigInt(nt.tick_upper)).toString(),Ft=[et.object(getPackagerConfigs(at).global_config_id),et.object(nt.pool_id),et.pure.u32(Number(Ct)),et.pure.u32(Number(Dt))];return et.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolModule}::open_position`,typeArguments:$t,arguments:Ft}),et}async collectFeeTransactionPayload(nt,et,at,mt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");et=et||new Transaction;const $t=at||TransactionUtil.buildCoinWithBalance(BigInt(0),nt.coinTypeA),Ct=mt||TransactionUtil.buildCoinWithBalance(BigInt(0),nt.coinTypeB);return this.createCollectFeePaylod(nt,et,$t,Ct),et}createCollectFeePaylod(nt,et,at,mt){const{clmm_pool:$t,integrate:Ct}=this.sdk.sdkOptions,Dt=[nt.coinTypeA,nt.coinTypeB],Ft=[et.object(getPackagerConfigs($t).global_config_id),et.object(nt.pool_id),et.object(nt.pos_id),at,mt];return et.moveCall({target:`${Ct.published_at}::${ClmmIntegratePoolV2Module}::collect_fee`,typeArguments:Dt,arguments:Ft}),et}createCollectFeeNoSendPaylod(nt,et,at,mt){const{clmm_pool:$t,integrate:Ct}=this.sdk.sdkOptions,Dt=[nt.coinTypeA,nt.coinTypeB],Ft=[et.object(getPackagerConfigs($t).global_config_id),et.object(nt.pool_id),et.object(nt.pos_id),at,mt];return et.moveCall({target:`${Ct.published_at}::${ClmmIntegratePoolV3Module}::collect_fee`,typeArguments:Dt,arguments:Ft}),et}async calculateFee(nt){const et=await this.collectFeeTransactionPayload(nt);if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const at=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:et,sender:this.sdk.senderAddress});for(const mt of at.events)if(extractStructTagFromType$1(mt.type).name==="CollectFeeEvent"){const $t=mt.parsedJson;return{feeOwedA:$t.amount_a,feeOwedB:$t.amount_b}}return{feeOwedA:"0",feeOwedB:"0"}}updateCache(nt,et,at=cacheTime5min){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){const at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},RewarderModule=class{constructor(nt){xa(this,"_sdk");xa(this,"growthGlobal");this._sdk=nt,this.growthGlobal=[ZERO$1,ZERO$1,ZERO$1]}get sdk(){return this._sdk}async emissionsEveryDay(nt){const at=(await this.sdk.Pool.getPool(nt)).rewarder_infos;if(!at)return null;const mt=[];for(const $t of at){const Ct=MathUtil.fromX64(new BN($t.emissions_per_second));mt.push({emissions:Math.floor(Ct.toNumber()*60*60*24),coin_address:$t.coinAddress})}return mt}async updatePoolRewarder(nt,et){const at=await this.sdk.Pool.getPool(nt),mt=at.rewarder_last_updated_time;if(at.rewarder_last_updated_time=et.toString(),Number(at.liquidity)===0||et.eq(new BN(mt)))return at;const $t=et.div(new BN(1e3)).sub(new BN(mt)).add(new BN(15)),Ct=at.rewarder_infos;for(let Dt=0;Dt<Ct.length;Dt+=1){const Ft=Ct[Dt],Nt=MathUtil.checkMulDivFloor($t,new BN(Ft.emissions_per_second),new BN(at.liquidity),128);this.growthGlobal[Dt]=new BN(Ft.growth_global).add(new BN(Nt))}return at}async posRewardersAmount(nt,et,at){const mt=Date.parse(new Date().toString()),$t=await this.updatePoolRewarder(nt,new BN(mt)),Ct=await this.sdk.Position.getPositionRewarders(et,at);if(Ct===void 0)return[];const Dt=$t.ticks_handle,Ft=await this.sdk.Pool.getTickDataByIndex(Dt,Ct.tick_lower_index),Nt=await this.sdk.Pool.getTickDataByIndex(Dt,Ct.tick_upper_index);return this.posRewardersAmountInternal($t,Ct,Ft,Nt)}async poolRewardersAmount(nt,et){const at=Date.parse(new Date().toString()),mt=await this.updatePoolRewarder(et,new BN(at)),$t=await this.sdk.Position.getPositionList(nt,[et]),Ct=await this.getPoolLowerAndUpperTicks(mt.ticks_handle,$t),Dt=[ZERO$1,ZERO$1,ZERO$1];for(let Ft=0;Ft<$t.length;Ft+=1){const Nt=await this.posRewardersAmountInternal(mt,$t[Ft],Ct[0][Ft],Ct[1][Ft]);for(let jt=0;jt<3;jt+=1)Dt[jt]=Dt[jt].add(Nt[jt].amount_owed)}return Dt}posRewardersAmountInternal(nt,et,at,mt){const $t=et.tick_lower_index,Ct=et.tick_upper_index,Dt=getRewardInTickRange(nt,at,mt,$t,Ct,this.growthGlobal),Ft=[],Nt=[];if(Dt.length>0){let jt=MathUtil.subUnderflowU128(Dt[0],new BN(et.reward_growth_inside_0));jt.gt(new BN("3402823669209384634633745948738404"))&&(jt=ONE);const Lt=MathUtil.checkMulShiftRight(new BN(et.liquidity),jt,64,128);Ft.push(Dt[0]),Nt.push({amount_owed:new BN(et.reward_amount_owed_0).add(Lt),coin_address:nt.rewarder_infos[0].coinAddress})}if(Dt.length>1){let jt=MathUtil.subUnderflowU128(Dt[1],new BN(et.reward_growth_inside_1));jt.gt(new BN("3402823669209384634633745948738404"))&&(jt=ONE);const Lt=MathUtil.checkMulShiftRight(new BN(et.liquidity),jt,64,128);Ft.push(Dt[1]),Nt.push({amount_owed:new BN(et.reward_amount_owed_1).add(Lt),coin_address:nt.rewarder_infos[1].coinAddress})}if(Dt.length>2){let jt=MathUtil.subUnderflowU128(Dt[2],new BN(et.reward_growth_inside_2));jt.gt(new BN("3402823669209384634633745948738404"))&&(jt=ONE);const Lt=MathUtil.checkMulShiftRight(new BN(et.liquidity),jt,64,128);Ft.push(Dt[2]),Nt.push({amount_owed:new BN(et.reward_amount_owed_2).add(Lt),coin_address:nt.rewarder_infos[2].coinAddress})}return Nt}async batchFetchPositionRewarders(nt){const et=[];for(const mt of nt){const $t=await this._sdk.Position.getPositionById(mt,!1),Ct=await this._sdk.Pool.getPool($t.pool,!1);et.push({poolAddress:Ct.poolAddress,positionId:$t.pos_object_id,coinTypeA:Ct.coinTypeA,coinTypeB:Ct.coinTypeB,rewarderInfo:Ct.rewarder_infos})}const at={};if(et.length>0){const mt=await this.fetchPosRewardersAmount(et);for(const $t of mt)at[$t.positionId]=$t.rewarderAmountOwed;return at}return at}async fetchPositionRewarders(nt,et){const at={poolAddress:nt.poolAddress,positionId:et,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,rewarderInfo:nt.rewarder_infos};return(await this.fetchPosRewardersAmount([at]))[0].rewarderAmountOwed}async batchFetchPositionFees(nt){const et=[];for(const mt of nt){const $t=await this._sdk.Position.getPositionById(mt,!1),Ct=await this._sdk.Pool.getPool($t.pool,!1);et.push({poolAddress:Ct.poolAddress,positionId:$t.pos_object_id,coinTypeA:Ct.coinTypeA,coinTypeB:Ct.coinTypeB})}const at={};if(et.length>0){const mt=await this.fetchPosFeeAmount(et);for(const $t of mt)at[$t.position_id]=$t;return at}return at}async fetchPosFeeAmount(nt){var Nt;const{clmm_pool:et,integrate:at,simulationAccount:mt}=this.sdk.sdkOptions,$t=new Transaction;for(const jt of nt){const Lt=[jt.coinTypeA,jt.coinTypeB],Vt=[$t.object(getPackagerConfigs(et).global_config_id),$t.object(jt.poolAddress),$t.pure.address(jt.positionId)];$t.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:Vt,typeArguments:Lt})}const Dt=(Nt=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:mt.address})).events)==null?void 0:Nt.filter(jt=>extractStructTagFromType$1(jt.type).name==="FetchPositionFeesEvent");if(Dt.length===0)return[];const Ft=[];for(let jt=0;jt<Dt.length;jt+=1){const{parsedJson:Lt}=Dt[jt],Vt={feeOwedA:new BN(Lt.fee_owned_a),feeOwedB:new BN(Lt.fee_owned_b),position_id:Lt.position_id};Ft.push(Vt)}return Ft}async fetchPosRewardersAmount(nt){var Nt;const{clmm_pool:et,integrate:at,simulationAccount:mt}=this.sdk.sdkOptions,$t=new Transaction;for(const jt of nt){const Lt=[jt.coinTypeA,jt.coinTypeB],Vt=[$t.object(getPackagerConfigs(et).global_config_id),$t.object(jt.poolAddress),$t.pure.address(jt.positionId),$t.object(CLOCK_ADDRESS$1)];$t.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:Vt,typeArguments:Lt})}if(!checkInvalidSuiAddress$1(mt.address))throw new ClmmpoolsError(`this config simulationAccount: ${mt.address} is not set right`,"InvalidSimulateAccount");const Ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:mt.address});if(Ct.error!=null)throw new ClmmpoolsError(`fetch position rewards error code: ${Ct.error??"unknown error"}, please check config and params`,"InvalidConfig");const Dt=(Nt=Ct.events)==null?void 0:Nt.filter(jt=>extractStructTagFromType$1(jt.type).name==="FetchPositionRewardsEvent");if(Dt.length===0)return[];if(Dt.length!==nt.length)throw new ClmmpoolsError("valueData.length !== params.pools.length");const Ft=[];for(let jt=0;jt<Dt.length;jt+=1){const Lt={poolAddress:nt[jt].poolAddress,positionId:nt[jt].positionId,rewarderAmountOwed:[]};for(let Vt=0;Vt<nt[jt].rewarderInfo.length;Vt+=1)Lt.rewarderAmountOwed.push({amount_owed:new BN(Dt[jt].parsedJson.data[Vt]),coin_address:nt[jt].rewarderInfo[Vt].coinAddress});Ft.push(Lt)}return Ft}async fetchPoolRewardersAmount(nt,et){const at=await this.sdk.Pool.getPool(et),mt=await this.sdk.Position.getPositionList(nt,[et]),$t=[];for(const Ft of mt)$t.push({poolAddress:at.poolAddress,positionId:Ft.pos_object_id,rewarderInfo:at.rewarder_infos,coinTypeA:at.coinTypeA,coinTypeB:at.coinTypeB});const Ct=await this.fetchPosRewardersAmount($t),Dt=[ZERO$1,ZERO$1,ZERO$1];if(Ct!=null)for(const Ft of Ct)for(let Nt=0;Nt<Ft.rewarderAmountOwed.length;Nt+=1)Dt[Nt]=Dt[Nt].add(Ft.rewarderAmountOwed[Nt].amount_owed);return Dt}async getPoolLowerAndUpperTicks(nt,et){const at=[],mt=[];for(const $t of et){const Ct=await this.sdk.Pool.getTickDataByIndex(nt,$t.tick_lower_index),Dt=await this.sdk.Pool.getTickDataByIndex(nt,$t.tick_upper_index);at.push(Ct),mt.push(Dt)}return[at,mt]}async collectRewarderTransactionPayload(nt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);let at=new Transaction;return at=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,at,nt,et),at}async batchCollectRewardePayload(nt,et,at,mt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const $t=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);et=et||new Transaction;const Ct={};return nt.forEach(Dt=>{const Ft=normalizeCoinType$1(Dt.coinTypeA),Nt=normalizeCoinType$1(Dt.coinTypeB);if(Dt.collect_fee){let Lt=Ct[Ft];Lt==null&&(at==null?Lt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(0),Ft,!1):Lt={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},Ct[Ft]=Lt);let Vt=Ct[Nt];Vt==null&&(mt==null?Vt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(0),Nt,!1):Vt={targetCoin:mt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},Ct[Nt]=Vt),et=this._sdk.Position.createCollectFeeNoSendPaylod({pool_id:Dt.pool_id,pos_id:Dt.pos_id,coinTypeA:Dt.coinTypeA,coinTypeB:Dt.coinTypeB},et,Lt.targetCoin,Vt.targetCoin)}const jt=[];Dt.rewarder_coin_types.forEach(Lt=>{const Vt=normalizeCoinType$1(Lt);let er=Ct[Lt];er===void 0&&(er=TransactionUtil.buildCoinForAmount(et,$t,BigInt(0),Vt,!1),Ct[Vt]=er),jt.push(er.targetCoin)}),et=this.createCollectRewarderNoSendPaylod(Dt,et,jt)}),Object.keys(Ct).forEach(Dt=>{const Ft=Ct[Dt];Ft.isMintZeroCoin&&TransactionUtil.buildTransferCoin(this.sdk,et,Ft.targetCoin,Dt,this.sdk.senderAddress)}),et}createCollectRewarderPaylod(nt,et,at){const{clmm_pool:mt,integrate:$t}=this.sdk.sdkOptions,Ct=getPackagerConfigs(mt),Dt=[nt.coinTypeA,nt.coinTypeB];return nt.rewarder_coin_types.forEach((Ft,Nt)=>{et&&et.moveCall({target:`${$t.published_at}::${ClmmIntegratePoolV2Module}::collect_reward`,typeArguments:[...Dt,Ft],arguments:[et.object(Ct.global_config_id),et.object(nt.pool_id),et.object(nt.pos_id),et.object(Ct.global_vault_id),at[Nt],et.object(CLOCK_ADDRESS$1)]})}),et}createCollectRewarderNoSendPaylod(nt,et,at){const{clmm_pool:mt,integrate:$t}=this.sdk.sdkOptions,Ct=getPackagerConfigs(mt),Dt=[nt.coinTypeA,nt.coinTypeB];return nt.rewarder_coin_types.forEach((Ft,Nt)=>{et&&et.moveCall({target:`${$t.published_at}::${ClmmIntegratePoolV3Module}::collect_reward`,typeArguments:[...Dt,Ft],arguments:[et.object(Ct.global_config_id),et.object(nt.pool_id),et.object(nt.pos_id),et.object(Ct.global_vault_id),at[Nt],et.object(CLOCK_ADDRESS$1)]})}),et}};function _pairSymbol(nt,et){return{pair:`${nt}-${et}`,reversePair:`${et}-${nt}`}}var RouterModule=class{constructor(nt){xa(this,"graph");xa(this,"pathProviders");xa(this,"coinProviders");xa(this,"_coinAddressMap");xa(this,"poolAddressMap");xa(this,"_sdk");this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new Graph(!1),this._coinAddressMap=new Map,this.poolAddressMap=new Map,this._sdk=nt,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.preRouterSwapA2B2C=this.preRouterSwapA2B2C.bind(this),this.price=this.price.bind(this),this.getPoolWithTVL=this.getPoolWithTVL.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(nt,et){const{pair:at,reversePair:mt}=_pairSymbol(nt,et);let $t=this.poolAddressMap.get(at);if($t!=null)return{addressMap:$t,direction:!0};if($t=this.poolAddressMap.get(mt),$t!=null)return{addressMap:$t,direction:!1}}setCoinList(){this.coinProviders.coins.forEach(nt=>{this._coinAddressMap.set(nt.address,nt)})}loadGraph(nt,et){this.addCoinProvider(nt),this.addPathProvider(et),this.setCoinList(),this.pathProviders.forEach(at=>{const{paths:mt}=at;mt.forEach($t=>{const Ct=this.graph.getVertexByKey($t.base)??new GraphVertex($t.base),Dt=this.graph.getVertexByKey($t.quote)??new GraphVertex($t.quote);this.graph.addEdge(new GraphEdge(Ct,Dt));const Ft=this._coinAddressMap.get($t.base),Nt=this._coinAddressMap.get($t.quote);if(Ft!=null&&Nt!=null){const jt=_pairSymbol($t.base,$t.quote).pair;this.poolAddressMap.set(jt,$t.addressMap)}})})}addPathProvider(nt){for(let et=0;et<nt.paths.length;et+=1){const{base:at,quote:mt}=nt.paths[et];at.localeCompare(mt)<0&&(nt.paths[et].base=mt,nt.paths[et].quote=at),at==="0x2::sui::SUI"&&(nt.paths[et].base=mt,nt.paths[et].quote=at),mt==="0x2::sui::SUI"&&(nt.paths[et].base=at,nt.paths[et].quote=mt)}return this.pathProviders.push(nt),this}addCoinProvider(nt){return this.coinProviders=nt,this}tokenInfo(nt){return this._coinAddressMap.get(nt)}getFeeRate(nt,et,at){const mt=_pairSymbol(nt,et).pair,$t=this.poolAddressMap.get(mt);if($t!=null){for(const[Ft,Nt]of $t.entries())if(Nt===at)return Ft*100}const Ct=_pairSymbol(nt,et).reversePair,Dt=this.poolAddressMap.get(Ct);if(Dt!=null){for(const[Ft,Nt]of Dt.entries())if(Nt===at)return Ft*100}return 0}async price(nt,et,at,mt,$t,Ct,Dt){const Ft=this.tokenInfo(nt),Nt=this.tokenInfo(et);if(Ft===void 0||Nt===void 0)throw new ClmmpoolsError("From/To coin is undefined","InvalidCoin");const jt=this.graph.getVertexByKey(Ft.address),Lt=this.graph.getVertexByKey(Nt.address),Vt=this.graph.findAllPath(jt,Lt),er=Array.from(Vt);if(er.length===0)throw new ClmmpoolsError("No find valid path in coin graph","NotFoundPath");let ir=[];for(let kr=0;kr<er.length;kr+=1){const gr=er[kr];if(gr.length>3)continue;const Ut=[],tr=[],nr=[],rr=[];for(let ar=0;ar<gr.length-1;ar+=1){const cr=gr[ar].value.toString(),fr=gr[ar+1].value.toString(),sr=this.getPoolAddressMapAndDirection(cr,fr),Yt=sr==null?void 0:sr.addressMap,ur=sr==null?void 0:sr.direction;Yt!=null&&ur!=null&&(tr.push(ur),Ut.push(cr),Ut.push(fr),Yt.forEach(_r=>{ar===0?nr.push(_r):rr.push(_r)}))}for(const ar of nr)if(rr.length>0)for(const cr of rr){const fr={stepNums:2,poolAB:ar,poolBC:cr,a2b:tr[0],b2c:tr[1],amount:at,byAmountIn:mt,coinTypeA:Ut[0],coinTypeB:Ut[1],coinTypeC:Ut[3]};ir.push(fr)}else{const cr={stepNums:1,poolAB:ar,poolBC:void 0,a2b:tr[0],b2c:void 0,amount:at,byAmountIn:mt,coinTypeA:Ut[0],coinTypeB:Ut[1],coinTypeC:void 0};ir.push(cr)}}const or=ir.filter(kr=>kr.stepNums===1),lr=ir.filter(kr=>kr.stepNums!==1);let dr=[];try{dr=await this.getPoolWithTVL()}catch{dr=[]}if(dr.length>0){const kr=new Map(dr.map(gr=>[gr.poolAddress,gr]));lr.sort((gr,Ut)=>{let tr=0,nr=0;if(kr.has(gr.poolAB)&&kr.has(gr.poolBC)){const rr=kr.get(gr.poolAB),ar=kr.get(gr.poolBC);tr=Math.min(rr.tvl,ar.tvl)}if(kr.has(Ut.poolAB)&&kr.has(Ut.poolBC)){const rr=kr.get(Ut.poolAB),ar=kr.get(Ut.poolBC);nr=Math.min(rr.tvl,ar.tvl)}return nr-tr})}if(ir=[...or,...lr],ir.length===0){if(Dt!=null){const kr=await this.sdk.Swap.preSwapWithMultiPool(Dt),gr={amountIn:new BN(kr.estimatedAmountIn),amountOut:new BN(kr.estimatedAmountOut),poolAddress:[kr.poolAddress],a2b:[kr.aToB],rawAmountLimit:mt?[kr.estimatedAmountOut]:[kr.estimatedAmountIn],isExceed:kr.isExceed,coinType:[nt,et]},Ut={paths:[gr],partner:Ct,priceSlippagePoint:$t};return{amountIn:new BN(kr.estimatedAmountIn),amountOut:new BN(kr.estimatedAmountOut),paths:[gr],a2b:kr.aToB,b2c:void 0,byAmountIn:mt,isExceed:kr.isExceed,targetSqrtPrice:[kr.estimatedEndSqrtPrice],currentSqrtPrice:[kr.estimatedStartSqrtPrice],coinTypeA:nt,coinTypeB:et,coinTypeC:void 0,createTxParams:Ut}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}const pr=await this.preRouterSwapA2B2C(ir.slice(0,16));if(pr==null){if(Dt!=null){const gr=await this.sdk.Swap.preSwapWithMultiPool(Dt),Ut={amountIn:new BN(gr.estimatedAmountIn),amountOut:new BN(gr.estimatedAmountOut),poolAddress:[gr.poolAddress],a2b:[gr.aToB],rawAmountLimit:mt?[gr.estimatedAmountOut]:[gr.estimatedAmountIn],isExceed:gr.isExceed,coinType:[nt,et]},tr={paths:[Ut],partner:Ct,priceSlippagePoint:$t};return{amountIn:new BN(gr.estimatedAmountIn),amountOut:new BN(gr.estimatedAmountOut),paths:[Ut],a2b:gr.aToB,b2c:void 0,byAmountIn:mt,isExceed:gr.isExceed,targetSqrtPrice:[gr.estimatedEndSqrtPrice],currentSqrtPrice:[gr.estimatedStartSqrtPrice],coinTypeA:nt,coinTypeB:et,coinTypeC:void 0,createTxParams:tr}}return{amountIn:ZERO$1,amountOut:ZERO$1,paths:[],a2b:!1,b2c:!1,byAmountIn:mt,isExceed:!0,targetSqrtPrice:[],currentSqrtPrice:[],coinTypeA:"",coinTypeB:"",coinTypeC:void 0,createTxParams:void 0}}const hr=pr.index,vr=ir[hr].poolBC!=null?[ir[hr].poolAB,ir[hr].poolBC]:[ir[hr].poolAB],br=mt?[pr.amountMedium,pr.amountOut]:[pr.amountIn,pr.amountMedium],xr=[];xr.push(ir[hr].a2b),pr.stepNum>1&&xr.push(ir[hr].b2c);const Sr=[];Sr.push(ir[hr].coinTypeA),Sr.push(ir[hr].coinTypeB),pr.stepNum>1&&Sr.push(ir[hr].coinTypeC);const Er={amountIn:pr.amountIn,amountOut:pr.amountOut,poolAddress:vr,a2b:xr,rawAmountLimit:br,isExceed:pr.isExceed,coinType:Sr},$r={paths:[Er],partner:Ct,priceSlippagePoint:$t};return{amountIn:pr.amountIn,amountOut:pr.amountOut,paths:[Er],a2b:ir[hr].a2b,b2c:pr.stepNum>1?ir[hr].b2c:void 0,byAmountIn:mt,isExceed:pr.isExceed,targetSqrtPrice:pr.targetSqrtPrice,currentSqrtPrice:pr.currentSqrtPrice,coinTypeA:ir[hr].coinTypeA,coinTypeB:ir[hr].coinTypeB,coinTypeC:pr.stepNum>1?ir[hr].coinTypeC:void 0,createTxParams:$r}}async priceUseV1(nt,et,at,mt,$t,Ct,Dt){if(Dt!=null){const Ft=await this.sdk.Swap.preSwapWithMultiPool(Dt),Nt={amountIn:new BN(Ft.estimatedAmountIn),amountOut:new BN(Ft.estimatedAmountOut),poolAddress:[Ft.poolAddress],a2b:[Ft.aToB],rawAmountLimit:mt?[Ft.estimatedAmountOut]:[Ft.estimatedAmountIn],isExceed:Ft.isExceed,coinType:[nt,et]},jt={paths:[Nt],partner:Ct,priceSlippagePoint:$t};return{amountIn:new BN(Ft.estimatedAmountIn),amountOut:new BN(Ft.estimatedAmountOut),paths:[Nt],a2b:Ft.aToB,b2c:void 0,byAmountIn:mt,isExceed:Ft.isExceed,targetSqrtPrice:[Ft.estimatedEndSqrtPrice],currentSqrtPrice:[Ft.estimatedStartSqrtPrice],coinTypeA:nt,coinTypeB:et,coinTypeC:void 0,createTxParams:jt}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}async preRouterSwapA2B2C(nt){var Vt;if(nt.length===0)return null;const{integrate:et,simulationAccount:at}=this.sdk.sdkOptions,mt=new Transaction;for(const er of nt)if(er.stepNums>1){const ir=[mt.object(er.poolAB),mt.object(er.poolBC),mt.pure.bool(er.a2b),mt.pure.bool(er.b2c),mt.pure.bool(er.byAmountIn),mt.pure.u64(er.amount.toString())],or=[];er.a2b?or.push(er.coinTypeA,er.coinTypeB):or.push(er.coinTypeB,er.coinTypeA),er.b2c?or.push(er.coinTypeB,er.coinTypeC):or.push(er.coinTypeC,er.coinTypeB),mt.moveCall({target:`${et.published_at}::${ClmmIntegrateRouterModule}::calculate_router_swap_result`,typeArguments:or,arguments:ir})}else{const ir=[mt.object(er.poolAB),mt.pure.bool(er.a2b),mt.pure.bool(er.byAmountIn),mt.pure.u64(er.amount.toString())],or=er.a2b?[er.coinTypeA,er.coinTypeB]:[er.coinTypeB,er.coinTypeA];mt.moveCall({target:`${et.published_at}::${ClmmExpectSwapModule}::get_expect_swap_result`,arguments:ir,typeArguments:or})}if(!checkInvalidSuiAddress$1(at.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const Ct=(Vt=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:at.address})).events)==null?void 0:Vt.filter(er=>extractStructTagFromType$1(er.type).name==="CalculatedRouterSwapResultEvent"||extractStructTagFromType$1(er.type).name==="ExpectSwapResultEvent");if(Ct.length===0)return null;let Dt=nt[0].byAmountIn?ZERO$1:U64_MAX,Ft=0;for(let er=0;er<Ct.length;er+=1)if(!Ct[er].parsedJson.data.is_exceed)if(nt[0].byAmountIn){const ir=new BN(Ct[er].parsedJson.data.amount_out);ir.gt(Dt)&&(Ft=er,Dt=ir)}else{const ir=nt[er].stepNums>1?new BN(Ct[er].parsedJson.data.amount_in):new BN(Ct[er].parsedJson.data.amount_in).add(new BN(Ct[er].parsedJson.data.fee_amount));ir.lt(Dt)&&(Ft=er,Dt=ir)}const Nt=[],jt=[];return nt[Ft].stepNums>1?(jt.push(Ct[Ft].parsedJson.data.target_sqrt_price_ab,Ct[Ft].parsedJson.data.target_sqrt_price_cd),Nt.push(Ct[Ft].parsedJson.data.current_sqrt_price_ab,Ct[Ft].parsedJson.data.current_sqrt_price_cd)):(jt.push(Ct[Ft].parsedJson.data.after_sqrt_price),Nt.push(Ct[Ft].parsedJson.current_sqrt_price)),{index:Ft,amountIn:nt[0].byAmountIn?nt[Ft].amount:Dt,amountMedium:Ct[Ft].parsedJson.data.amount_medium,amountOut:nt[0].byAmountIn?Dt:nt[Ft].amount,targetSqrtPrice:jt,currentSqrtPrice:Nt,isExceed:Ct[Ft].parsedJson.data.is_exceed,stepNum:nt[Ft].stepNums}}async getPoolWithTVL(){const nt=[],{swapCountUrl:et}=this._sdk.sdkOptions;if(!et)return nt;let at;try{at=await fetch(et)}catch{throw new ClmmpoolsError(`Failed to get pool list with liquidity from ${et}.`,"InvalidSwapCountUrl")}let mt;try{mt=await at.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${et}].`,"InvalidSwapCountUrl")}if(mt.code!==200)throw new ClmmpoolsError(`Failed to get pool list from ${et}. Statu code is ${mt.code}.`,"InvalidSwapCountUrl");const{pools:$t}=mt.data;for(const Ct of $t)nt.push({poolAddress:Ct.swap_account,tvl:Number(Ct.tvl_in_usd)});return nt}},SwapModule=class{constructor(nt){xa(this,"_sdk");xa(this,"calculateSingleImpact",(nt,et)=>et.minus(nt).div(et).mul(100));this._sdk=nt}get sdk(){return this._sdk}calculateSwapFee(nt){let et=d$2(0);return nt.forEach(at=>{const mt=at.basePaths.length;if(mt>0){const $t=at.basePaths[0],Ct=$t.label==="Cetus"?new Decimal$1($t.feeRate).div(10**6):new Decimal$1($t.feeRate).div(10**9),Dt=d$2($t.inputAmount).div(10**$t.fromDecimal).mul(Ct);if(et=et.add(Dt),mt>1){const Ft=at.basePaths[1],Nt=$t.direction?$t.currentPrice:new Decimal$1(1).div($t.currentPrice),jt=Ft.direction?Ft.currentPrice:new Decimal$1(1).div(Ft.currentPrice),Lt=Ft.label==="Cetus"?new Decimal$1(Ft.feeRate).div(10**6):new Decimal$1(Ft.feeRate).div(10**9),er=d$2(Ft.outputAmount).div(10**Ft.toDecimal).mul(Lt).div(Nt.mul(jt));et=et.add(er)}}}),et.toString()}calculateSwapPriceImpact(nt){let et=d$2(0);return nt.forEach(at=>{const mt=at.basePaths.length;if(mt===1){const $t=at.basePaths[0],Ct=d$2($t.outputAmount).div(10**$t.toDecimal),Dt=d$2($t.inputAmount).div(10**$t.fromDecimal),Ft=Ct.div(Dt),Nt=$t.direction?new Decimal$1($t.currentPrice):new Decimal$1(1).div($t.currentPrice);et=et.add(this.calculateSingleImpact(Ft,Nt))}if(mt===2){const $t=at.basePaths[0],Ct=at.basePaths[1],Dt=$t.direction?new Decimal$1($t.currentPrice):new Decimal$1(1).div($t.currentPrice),Ft=Ct.direction?new Decimal$1(Ct.currentPrice):new Decimal$1(1).div(Ct.currentPrice),Nt=Dt.mul(Ft),jt=new Decimal$1(Ct.outputAmount).div(10**Ct.toDecimal),Lt=new Decimal$1($t.inputAmount).div(10**$t.fromDecimal),Vt=jt.div(Lt);et=et.add(this.calculateSingleImpact(Vt,Nt))}}),et.toString()}async preSwapWithMultiPool(nt){var jt;const{integrate:et,simulationAccount:at}=this.sdk.sdkOptions,mt=new Transaction,$t=[nt.coinTypeA,nt.coinTypeB];for(let Lt=0;Lt<nt.poolAddresses.length;Lt+=1){const Vt=[mt.object(nt.poolAddresses[Lt]),mt.pure.bool(nt.a2b),mt.pure.bool(nt.byAmountIn),mt.pure.u64(nt.amount)];mt.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:Vt,typeArguments:$t})}if(!checkInvalidSuiAddress$1(at.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const Ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:at.address});if(Ct.error!=null)throw new ClmmpoolsError(`pre swap with multi pools error code: ${Ct.error??"unknown error"}, please check config and params`,"InvalidConfig");const Dt=(jt=Ct.events)==null?void 0:jt.filter(Lt=>extractStructTagFromType$1(Lt.type).name==="CalculatedSwapResultEvent");if(Dt.length===0)return null;if(Dt.length!==nt.poolAddresses.length)throw new ClmmpoolsError("valueData.length !== params.pools.length","ParamsLengthNotEqual");let Ft=nt.byAmountIn?ZERO$1:U64_MAX,Nt=0;for(let Lt=0;Lt<Dt.length;Lt+=1)if(!Dt[Lt].parsedJson.data.is_exceed)if(nt.byAmountIn){const Vt=new BN(Dt[Lt].parsedJson.data.amount_out);Vt.gt(Ft)&&(Nt=Lt,Ft=Vt)}else{const Vt=new BN(Dt[Lt].parsedJson.data.amount_out);Vt.lt(Ft)&&(Nt=Lt,Ft=Vt)}return this.transformSwapWithMultiPoolData({poolAddress:nt.poolAddresses[Nt],a2b:nt.a2b,byAmountIn:nt.byAmountIn,amount:nt.amount,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB},Dt[Nt].parsedJson)}async preswap(nt){var Nt;const{integrate:et,simulationAccount:at}=this.sdk.sdkOptions,mt=new Transaction,$t=[nt.coinTypeA,nt.coinTypeB],Ct=[mt.object(nt.pool.poolAddress),mt.pure.bool(nt.a2b),mt.pure.bool(nt.byAmountIn),mt.pure.u64(nt.amount)];if(mt.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:Ct,typeArguments:$t}),!checkInvalidSuiAddress$1(at.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const Dt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:at.address});if(Dt.error!=null)throw new ClmmpoolsError(`preswap error code: ${Dt.error??"unknown error"}, please check config and params`,"InvalidConfig");const Ft=(Nt=Dt.events)==null?void 0:Nt.filter(jt=>extractStructTagFromType$1(jt.type).name==="CalculatedSwapResultEvent");return Ft.length===0?null:this.transformSwapData(nt,Ft[0].parsedJson.data)}transformSwapData(nt,et){const at=et.amount_in&&et.fee_amount?new BN(et.amount_in).add(new BN(et.fee_amount)).toString():"";return{poolAddress:nt.pool.poolAddress,currentSqrtPrice:nt.currentSqrtPrice,estimatedAmountIn:at,estimatedAmountOut:et.amount_out,estimatedEndSqrtPrice:et.after_sqrt_price,estimatedFeeAmount:et.fee_amount,isExceed:et.is_exceed,amount:nt.amount,aToB:nt.a2b,byAmountIn:nt.byAmountIn}}transformSwapWithMultiPoolData(nt,et){const{data:at}=et;console.log("json data. ",at);const mt=at.amount_in&&at.fee_amount?new BN(at.amount_in).add(new BN(at.fee_amount)).toString():"";return{poolAddress:nt.poolAddress,estimatedAmountIn:mt,estimatedAmountOut:at.amount_out,estimatedEndSqrtPrice:at.after_sqrt_price,estimatedStartSqrtPrice:at.step_results[0].current_sqrt_price,estimatedFeeAmount:at.fee_amount,isExceed:at.is_exceed,amount:nt.amount,aToB:nt.a2b,byAmountIn:nt.byAmountIn}}calculateRates(nt){const{currentPool:et}=nt,at=transClmmpoolDataWithoutTicks(et);let mt;nt.a2b?mt=nt.swapTicks.sort((Vt,er)=>er.index-Vt.index):mt=nt.swapTicks.sort((Vt,er)=>Vt.index-er.index);const $t=computeSwap(nt.a2b,nt.byAmountIn,nt.amount,at,mt);let Ct=!1;nt.byAmountIn?Ct=$t.amountIn.lt(nt.amount):Ct=$t.amountOut.lt(nt.amount);const Dt=SwapUtils.getDefaultSqrtPriceLimit(nt.a2b);nt.a2b&&$t.nextSqrtPrice.lt(Dt)&&(Ct=!0),!nt.a2b&&$t.nextSqrtPrice.gt(Dt)&&(Ct=!0);let Ft=0;$t.crossTickNum>6&&$t.crossTickNum<40&&(Ft=22e3*($t.crossTickNum-6)),$t.crossTickNum>40&&(Ct=!0);const Nt=TickMath.sqrtPriceX64ToPrice(at.currentSqrtPrice,nt.decimalsA,nt.decimalsB).toNumber(),jt=TickMath.sqrtPriceX64ToPrice($t.nextSqrtPrice,nt.decimalsA,nt.decimalsB).toNumber(),Lt=Math.abs(Nt-jt)/Nt*100;return{estimatedAmountIn:$t.amountIn,estimatedAmountOut:$t.amountOut,estimatedEndSqrtPrice:$t.nextSqrtPrice,estimatedFeeAmount:$t.feeAmount,isExceed:Ct,extraComputeLimit:Ft,amount:nt.amount,aToB:nt.a2b,byAmountIn:nt.byAmountIn,priceImpactPct:Lt}}async createSwapTransactionPayload(nt,et){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const at=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(et){const{isAdjustCoinA:mt,isAdjustCoinB:$t}=findAdjustCoin(nt);if(nt.a2b&&mt||!nt.a2b&&$t)return await TransactionUtil.buildSwapTransactionForGas(this._sdk,nt,at,et)}return TransactionUtil.buildSwapTransaction(this.sdk,nt,at)}async createSwapTransactionWithoutTransferCoinsPayload(nt,et){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const at=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(et){const{isAdjustCoinA:mt,isAdjustCoinB:$t}=findAdjustCoin(nt);if(nt.a2b&&mt||!nt.a2b&&$t)return await TransactionUtil.buildSwapTransactionWithoutTransferCoinsForGas(this._sdk,nt,at,et)}return TransactionUtil.buildSwapTransactionWithoutTransferCoins(this.sdk,nt,at)}},TokenModule=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}async getAllRegisteredTokenList(nt=!1){return await this.factchTokenList("",nt)}async getOwnerTokenList(nt="",et=!1){return await this.factchTokenList(nt,et)}async getAllRegisteredPoolList(nt=!1){return await this.factchPoolList("",nt)}async getOwnerPoolList(nt="",et=!1){return await this.factchPoolList(nt,et)}async getWarpPoolList(nt=!1){return await this.factchWarpPoolList("","",nt)}async getOwnerWarpPoolList(nt="",et="",at=!1){return await this.factchWarpPoolList(nt,et,at)}async getTokenListByCoinTypes(nt){const et={},mt=this.getCache("getAllRegisteredTokenList");if(mt!==void 0){const Ct=mt;for(const Dt of nt)for(const Ft of Ct)if(normalizeCoinType$1(Dt)===normalizeCoinType$1(Ft.address)){et[Dt]=Ft;continue}}const $t=nt.filter(Ct=>et[Ct]===void 0);for(const Ct of $t){const Dt=`${Ct}_metadata`,Ft=this.getCache(Dt);if(Ft!==void 0)et[Ct]=Ft;else{const Nt=await this._sdk.fullClient.getCoinMetadata({coinType:Ct});if(Nt){const jt={id:Nt.id,name:Nt.name,symbol:Nt.symbol,official_symbol:Nt.symbol,coingecko_id:"",decimals:Nt.decimals,project_url:"",logo_url:Nt.iconUrl,address:Ct};et[Ct]=jt,this.updateCache(Dt,jt,cacheTime24h)}}}return et}async factchTokenList(nt="",et=!1){var Vt;const{simulationAccount:at,token:mt}=this.sdk.sdkOptions,Ct=this.getCache("getAllRegisteredTokenList",et);if(Ct!==void 0)return Ct;const Dt=nt.length>0,Ft=512;let Nt=0,jt=[];if(mt===void 0)throw Error("please config token ofsdkOptions");const Lt=getPackagerConfigs(mt);for(;;){const er=new Transaction;er.moveCall({target:`${mt.published_at}::coin_list::${Dt?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:Dt?[er.pure.address(Lt.coin_registry_id),er.pure.address(nt),er.pure.u64(Nt),er.pure.u64(Ft)]:[er.pure.address(Lt.coin_registry_id),er.pure.u64(Nt),er.pure.u64(Ft)]});const ir=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:er,sender:at.address}),or=[];if((Vt=ir.events)==null||Vt.forEach(lr=>{extractStructTagFromType$1(lr.type).full_address===`${mt.published_at}::coin_list::FetchCoinListEvent`&&lr.parsedJson.full_list.value_list.forEach(pr=>{or.push(this.transformData(pr,!1))})}),jt=[...jt,...or],or.length<Ft)break;Nt=jt.length}return jt}async factchPoolList(nt="",et=!1){var Vt;const{simulationAccount:at,token:mt}=this.sdk.sdkOptions,Ct=this.getCache("getAllRegisteredPoolList",et);if(Ct!==void 0)return Ct;let Dt=[];const Ft=512;let Nt=0;const jt=nt.length>0;if(mt===void 0)throw Error("please config token ofsdkOptions");const Lt=getPackagerConfigs(mt);for(;;){const er=new Transaction;if(er.moveCall({target:`${mt.published_at}::lp_list::${jt?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:jt?[er.pure.address(Lt.pool_registry_id),er.pure.address(nt),er.pure.u64(Nt),er.pure.u64(Ft)]:[er.pure.address(Lt.pool_registry_id),er.pure.u64(Nt),er.pure.u64(Ft)]}),!checkInvalidSuiAddress$1(at.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const ir=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:er,sender:at.address}),or=[];if((Vt=ir.events)==null||Vt.forEach(lr=>{extractStructTagFromType$1(lr.type).full_address===`${mt.published_at}::lp_list::FetchPoolListEvent`&&lr.parsedJson.full_list.value_list.forEach(pr=>{or.push(this.transformData(pr,!0))})}),Dt=[...Dt,...or],or.length<Ft)break;Nt=Dt.length}return Dt}async factchWarpPoolList(nt="",et="",at=!1){const mt=await this.factchPoolList(nt,at);if(mt.length===0)return[];const $t=await this.factchTokenList(et,at),Ct=[];for(const Dt of mt){for(const Ft of $t)Ft.address===Dt.coin_a_address&&(Dt.coinA=Ft),Ft.address===Dt.coin_b_address&&(Dt.coinB=Ft);Ct.push(Dt)}return Ct}async getTokenConfigEvent(nt=!1){const et=this._sdk.sdkOptions.token.package_id,at=`${et}_getTokenConfigEvent`,mt=this.getCache(at,nt);if(mt!==void 0)return mt;const $t=await this._sdk.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),Ct=getObjectPreviousTransactionDigest($t),Dt=await this._sdk.fullClient.queryEventsByPage({Transaction:Ct}),Ft={coin_registry_id:"",pool_registry_id:"",coin_list_owner:"",pool_list_owner:""};return Dt.data.length>0&&Dt.data.forEach(Nt=>{const jt=extractStructTagFromType$1(Nt.type);if(Nt.transactionModule==="coin_list")switch(jt.name){case"InitListEvent":Ft.coin_list_owner=Nt.parsedJson.list_id;break;case"InitRegistryEvent":Ft.coin_registry_id=Nt.parsedJson.registry_id;break}else if(Nt.transactionModule==="lp_list")switch(jt.name){case"InitListEvent<address>":Ft.pool_list_owner=Nt.parsedJson.list_id;break;case"InitRegistryEvent<address>":Ft.pool_registry_id=Nt.parsedJson.registry_id;break}}),Ft.coin_registry_id.length>0&&this.updateCache(at,Ft,cacheTime24h),Ft}transformData(nt,et){const at={...nt};if(et)try{at.coin_a_address=extractStructTagFromType$1(at.coin_a_address).full_address,at.coin_b_address=extractStructTagFromType$1(at.coin_b_address).full_address}catch{}else at.address=extractStructTagFromType$1(at.address).full_address;if(nt.extensions){const mt=nt.extensions.contents;for(const $t of mt){const{key:Ct}=$t;let{value:Dt}=$t;if(Ct==="labels")try{Dt=JSON.parse(decodeURIComponent(gBase64.decode(Dt)))}catch{}Ct==="pyth_id"&&(Dt=normalizeSuiObjectId(Dt)),at[Ct]=Dt}delete at.extensions}return at}updateCache(nt,et,at=cacheTime5min){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){const at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},RouterModuleV2=class{constructor(nt){xa(this,"_sdk");this._sdk=nt}get sdk(){return this._sdk}calculatePrice(nt,et,at,mt,$t){const Ct=mt?et:at,Dt=mt?at:et;return $t==="Cetus"?TickMath.sqrtPriceX64ToPrice(nt,Ct,Dt):new Decimal$1(nt.toString()).div(new Decimal$1(10).pow(new Decimal$1(Dt+9-Ct)))}parseJsonResult(nt){return{isExceed:nt.is_exceed,isTimeout:nt.is_timeout,inputAmount:nt.input_amount,outputAmount:nt.output_amount,fromCoin:nt.from_coin,toCoin:nt.to_coin,byAmountIn:nt.by_amount_in,splitPaths:nt.split_paths.map(at=>({pathIndex:at.path_index,lastQuoteOutput:at.last_quote_output,percent:at.percent,basePaths:at.best_path.map($t=>({direction:$t.direction,label:$t.label,poolAddress:$t.provider,fromCoin:$t.from_coin,toCoin:$t.to_coin,outputAmount:$t.output_amount,inputAmount:$t.input_amount,feeRate:$t.fee_rate,currentSqrtPrice:new BN($t.current_sqrt_price.toString()),afterSqrtPrice:$t.label==="Cetus"?new BN($t.after_sqrt_price.toString()):ZERO$1,fromDecimal:$t.from_decimal,toDecimal:$t.to_decimal,currentPrice:this.calculatePrice(new BN($t.current_sqrt_price.toString()),$t.from_decimal,$t.to_decimal,$t.direction,$t.label)})),inputAmount:at.input_amount,outputAmount:at.output_amount}))}}async fetchDataWithAxios(nt,et,at){try{const mt={...et,timeout:at},$t=await axios$1(nt,mt);return $t.status===200?this.parseJsonResult($t.data):null}catch(mt){return console.error(mt),null}}async getBestRouter(nt,et,at,mt,$t,Ct,Dt,Ft,Nt=!1,jt=!1,Lt=[]){let Vt=null,er="v2",ir={},or=this.sdk.sdkOptions.aggregatorUrl;if(Lt.length>0){const lr=new URL(or);or=`${lr.protocol}//${lr.hostname}/router_with_lp_changes`,ir={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:nt,to:et,amount:at,by_amount_in:mt,order_split:Nt,external_router:jt,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:Lt})}}else or=`
      ${or}?from=${encodeURIComponent(nt)}&to=${encodeURIComponent(et)}&amount=${encodeURIComponent(at)}&by_amount_in=${encodeURIComponent(mt)}&order_split=${encodeURIComponent(Nt)}&external_router=${encodeURIComponent(jt)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(Vt=await this.fetchDataWithAxios(or,ir,6e3),Vt==null){const lr=await this.sdk.Router.priceUseV1(nt,et,new BN(at),mt,$t,Ct,Ft),dr=[];for(const hr of lr.paths){const vr=[];if(hr.poolAddress.length>1){const xr=this.sdk.Router.tokenInfo(hr.coinType[0]).decimals,Sr=this.sdk.Router.tokenInfo(hr.coinType[1]).decimals,Er=hr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(lr.currentSqrtPrice[0]),xr,Sr):TickMath.sqrtPriceX64ToPrice(new BN(lr.currentSqrtPrice[0]),Sr,xr),$r={direction:hr.a2b[0],label:"Cetus",poolAddress:hr.poolAddress[0],fromCoin:hr.coinType[0],toCoin:hr.coinType[1],feeRate:this.sdk.Router.getFeeRate(hr.coinType[0],hr.coinType[1],hr.poolAddress[0]),outputAmount:lr.byAmountIn?hr.rawAmountLimit[0].toString():hr.rawAmountLimit[1].toString(),inputAmount:hr.amountIn.toString(),currentSqrtPrice:lr.currentSqrtPrice[0],currentPrice:Er,fromDecimal:xr,toDecimal:Sr},Cr=this.sdk.Router.tokenInfo(hr.coinType[1]).decimals,kr=this.sdk.Router.tokenInfo(hr.coinType[2]).decimals,gr=hr.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN(lr.currentSqrtPrice[1]),Cr,kr):TickMath.sqrtPriceX64ToPrice(new BN(lr.currentSqrtPrice[1]),kr,Cr),Ut={direction:hr.a2b[1],label:"Cetus",poolAddress:hr.poolAddress[1],fromCoin:hr.coinType[1],toCoin:hr.coinType[2],feeRate:this.sdk.Router.getFeeRate(hr.coinType[1],hr.coinType[2],hr.poolAddress[1]),outputAmount:hr.amountOut.toString(),inputAmount:lr.byAmountIn?hr.rawAmountLimit[0].toString():hr.rawAmountLimit[1].toString(),currentSqrtPrice:lr.currentSqrtPrice[1],currentPrice:gr,fromDecimal:Cr,toDecimal:kr};vr.push($r,Ut)}else{const xr=this.sdk.Router.tokenInfo(hr.coinType[0]).decimals,Sr=this.sdk.Router.tokenInfo(hr.coinType[1]).decimals,Er=hr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(lr.currentSqrtPrice[0]),xr,Sr):TickMath.sqrtPriceX64ToPrice(new BN(lr.currentSqrtPrice[0]),Sr,xr),$r={direction:hr.a2b[0],label:"Cetus",poolAddress:hr.poolAddress[0],fromCoin:hr.coinType[0],toCoin:hr.coinType[1],feeRate:this.sdk.Router.getFeeRate(hr.coinType[0],hr.coinType[1],hr.poolAddress[0]),outputAmount:hr.amountOut.toString(),inputAmount:hr.amountIn.toString(),currentSqrtPrice:lr.currentSqrtPrice[0],currentPrice:Er,fromDecimal:xr,toDecimal:Sr};vr.push($r)}const br={percent:Number(hr.amountIn)/Number(lr.amountIn)*100,inputAmount:Number(hr.amountIn.toString()),outputAmount:Number(hr.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:vr};dr.push(br)}const pr={isExceed:lr.isExceed,isTimeout:!0,inputAmount:Number(lr.amountIn.toString()),outputAmount:Number(lr.amountOut.toString()),fromCoin:lr.coinTypeA,toCoin:lr.coinTypeC!=null?lr.coinTypeC:lr.coinTypeB,byAmountIn:lr.byAmountIn,splitPaths:dr};er="v1",Vt=pr}return{result:Vt,version:er}}async getBestRouterByServer(nt,et,at,mt,$t,Ct=!1,Dt=!1,Ft=[]){let Nt=null,jt={},Lt=this.sdk.sdkOptions.aggregatorUrl;if(Ft.length>0){const Vt=new URL(Lt);Lt=`${Vt.protocol}//${Vt.hostname}/router_with_lp_changes`,jt={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:nt,to:et,amount:at,by_amount_in:mt,order_split:Ct,external_router:Dt,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:Ft})}}else Lt=`
      ${Lt}?from=${encodeURIComponent(nt)}&to=${encodeURIComponent(et)}&amount=${encodeURIComponent(at)}&by_amount_in=${encodeURIComponent(mt)}&order_split=${encodeURIComponent(Ct)}&external_router=${encodeURIComponent(Dt)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(Nt=await this.fetchDataWithAxios(Lt,jt,6e3),Nt==null)throw new ClmmpoolsError("Invalid server response","InvalidServerResponse");return Nt}async getBestRouterByRpc(nt,et,at,mt,$t,Ct,Dt){const Ft=await this.sdk.Router.priceUseV1(nt,et,new BN(at),mt,$t,Ct,Dt),Nt=[];for(const Lt of Ft.paths){const Vt=[];if(Lt.poolAddress.length>1){const ir=this.sdk.Router.tokenInfo(Lt.coinType[0]).decimals,or=this.sdk.Router.tokenInfo(Lt.coinType[1]).decimals,lr=Lt.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(Ft.currentSqrtPrice[0]),ir,or):TickMath.sqrtPriceX64ToPrice(new BN(Ft.currentSqrtPrice[0]),or,ir),dr={direction:Lt.a2b[0],label:"Cetus",poolAddress:Lt.poolAddress[0],fromCoin:Lt.coinType[0],toCoin:Lt.coinType[1],feeRate:this.sdk.Router.getFeeRate(Lt.coinType[0],Lt.coinType[1],Lt.poolAddress[0]),outputAmount:Ft.byAmountIn?Lt.rawAmountLimit[0].toString():Lt.rawAmountLimit[1].toString(),inputAmount:Lt.amountIn.toString(),currentSqrtPrice:Ft.currentSqrtPrice[0],currentPrice:lr,fromDecimal:ir,toDecimal:or},pr=this.sdk.Router.tokenInfo(Lt.coinType[1]).decimals,hr=this.sdk.Router.tokenInfo(Lt.coinType[2]).decimals,vr=Lt.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN(Ft.currentSqrtPrice[1]),pr,hr):TickMath.sqrtPriceX64ToPrice(new BN(Ft.currentSqrtPrice[1]),hr,pr),br={direction:Lt.a2b[1],label:"Cetus",poolAddress:Lt.poolAddress[1],fromCoin:Lt.coinType[1],toCoin:Lt.coinType[2],feeRate:this.sdk.Router.getFeeRate(Lt.coinType[1],Lt.coinType[2],Lt.poolAddress[1]),outputAmount:Lt.amountOut.toString(),inputAmount:Ft.byAmountIn?Lt.rawAmountLimit[0].toString():Lt.rawAmountLimit[1].toString(),currentSqrtPrice:Ft.currentSqrtPrice[1],currentPrice:vr,fromDecimal:pr,toDecimal:hr};Vt.push(dr,br)}else{const ir=this.sdk.Router.tokenInfo(Lt.coinType[0]).decimals,or=this.sdk.Router.tokenInfo(Lt.coinType[1]).decimals,lr=Lt.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(Ft.currentSqrtPrice[0]),ir,or):TickMath.sqrtPriceX64ToPrice(new BN(Ft.currentSqrtPrice[0]),or,ir),dr={direction:Lt.a2b[0],label:"Cetus",poolAddress:Lt.poolAddress[0],fromCoin:Lt.coinType[0],toCoin:Lt.coinType[1],feeRate:this.sdk.Router.getFeeRate(Lt.coinType[0],Lt.coinType[1],Lt.poolAddress[0]),outputAmount:Lt.amountOut.toString(),inputAmount:Lt.amountIn.toString(),currentSqrtPrice:Ft.currentSqrtPrice[0],currentPrice:lr,fromDecimal:ir,toDecimal:or};Vt.push(dr)}const er={percent:Number(Lt.amountIn)/Number(Ft.amountIn)*100,inputAmount:Number(Lt.amountIn.toString()),outputAmount:Number(Lt.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:Vt};Nt.push(er)}return{isExceed:Ft.isExceed,isTimeout:!0,inputAmount:Number(Ft.amountIn.toString()),outputAmount:Number(Ft.amountOut.toString()),fromCoin:Ft.coinTypeA,toCoin:Ft.coinTypeC!=null?Ft.coinTypeC:Ft.coinTypeB,byAmountIn:Ft.byAmountIn,splitPaths:Nt}}},ConfigModule=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}setTokenListCache(nt){const{coin_list_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${et}_getCoinConfigs`,mt=this.getCache(at),$t=mt?[...mt,...nt]:nt;this.updateCache(at,$t,cacheTime24h)}async getTokenListByCoinTypes(nt){const et={},{coin_list_handle:at}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),mt=`${at}_getCoinConfigs`,$t=this.getCache(mt);if($t!==void 0){const Dt=$t;for(const Ft of nt)for(const Nt of Dt)if(normalizeCoinType$1(Ft)===normalizeCoinType$1(Nt.address)){et[Ft]=Nt;continue}}const Ct=nt.filter(Dt=>et[Dt]===void 0);for(const Dt of Ct){const Ft=`${Dt}_metadata`,Nt=this.getCache(Ft);if(Nt!==void 0)et[Dt]=Nt;else{const jt=await this._sdk.fullClient.getCoinMetadata({coinType:Dt});if(jt){const Lt={id:jt.id,pyth_id:"",name:jt.name,symbol:jt.symbol,official_symbol:jt.symbol,coingecko_id:"",decimals:jt.decimals,project_url:"",logo_url:jt.iconUrl,address:Dt};et[Dt]=Lt,this.updateCache(Ft,Lt,cacheTime24h)}else console.log(`not found ${Dt}`)}}return et}async getCoinConfigs(nt=!1,et=!0){const{coin_list_handle:at}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),mt=`${at}_getCoinConfigs`,$t=this.getCache(mt,nt);if($t)return $t;const Dt=(await this._sdk.fullClient.getDynamicFieldsByPage(at)).data.map(jt=>jt.objectId),Ft=await this._sdk.fullClient.batchGetObjects(Dt,{showContent:!0}),Nt=[];return Ft.forEach(jt=>{var Vt,er;if(jt.error!=null||((er=(Vt=jt.data)==null?void 0:Vt.content)==null?void 0:er.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${jt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Lt=this.buildCoinConfig(jt,et);this.updateCache(`${at}_${Lt.address}_getCoinConfig`,Lt,cacheTime24h),Nt.push({...Lt})}),this.updateCache(mt,Nt,cacheTime24h),Nt}async getCoinConfig(nt,et=!1,at=!0){var Nt,jt;const{coin_list_handle:mt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),$t=`${mt}_${nt}_getCoinConfig`,Ct=this.getCache($t,et);if(Ct)return Ct;const Dt=await this._sdk.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"0x1::type_name::TypeName",value:{name:fixCoinType(nt)}}});if(Dt.error!=null||((jt=(Nt=Dt.data)==null?void 0:Nt.content)==null?void 0:jt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfig get object error: ${Dt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildCoinConfig(Dt,at);return this.updateCache($t,Ft,cacheTime24h),Ft}buildCoinConfig(nt,et=!0){let at=getObjectFields(nt);at=at.value.fields;const mt={...at};return mt.id=getObjectId(nt),mt.address=extractStructTagFromType$1(at.coin_type.fields.name).full_address,at.pyth_id&&(mt.pyth_id=normalizeSuiObjectId(at.pyth_id)),this.transformExtensions(mt,at.extension_fields.fields.contents,et),delete mt.coin_type,mt}async getClmmPoolConfigs(nt=!1,et=!0){const{clmm_pools_handle:at}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),mt=`${at}_getClmmPoolConfigs`,$t=this.getCache(mt,nt);if($t)return $t;const Dt=(await this._sdk.fullClient.getDynamicFieldsByPage(at)).data.map(jt=>jt.objectId),Ft=await this._sdk.fullClient.batchGetObjects(Dt,{showContent:!0}),Nt=[];return Ft.forEach(jt=>{var Vt,er;if(jt.error!=null||((er=(Vt=jt.data)==null?void 0:Vt.content)==null?void 0:er.dataType)!=="moveObject")throw new ClmmpoolsError(`when getClmmPoolsConfigs get objects error: ${jt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Lt=this.buildClmmPoolConfig(jt,et);this.updateCache(`${Lt.pool_address}_getClmmPoolConfig`,Lt,cacheTime24h),Nt.push({...Lt})}),this.updateCache(mt,Nt,cacheTime24h),Nt}async getClmmPoolConfig(nt,et=!1,at=!0){const{clmm_pools_handle:mt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),$t=`${nt}_getClmmPoolConfig`,Ct=this.getCache($t,et);if(Ct)return Ct;const Dt=await this._sdk.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"address",value:nt}}),Ft=this.buildClmmPoolConfig(Dt,at);return this.updateCache($t,Ft,cacheTime24h),Ft}buildClmmPoolConfig(nt,et=!0){let at=getObjectFields(nt);at=at.value.fields;const mt={...at};return mt.id=getObjectId(nt),mt.pool_address=normalizeSuiObjectId(at.pool_address),this.transformExtensions(mt,at.extension_fields.fields.contents,et),mt}async getLaunchpadPoolConfigs(nt=!1,et=!0){const{launchpad_pools_handle:at}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),mt=`${at}_getLaunchpadPoolConfigs`,$t=this.getCache(mt,nt);if($t)return $t;const Dt=(await this._sdk.fullClient.getDynamicFieldsByPage(at)).data.map(jt=>jt.objectId),Ft=await this._sdk.fullClient.batchGetObjects(Dt,{showContent:!0}),Nt=[];return Ft.forEach(jt=>{var Vt,er;if(jt.error!=null||((er=(Vt=jt.data)==null?void 0:Vt.content)==null?void 0:er.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${jt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Lt=this.buildLaunchpadPoolConfig(jt,et);this.updateCache(`${Lt.pool_address}_getLaunchpadPoolConfig`,Lt,cacheTime24h),Nt.push({...Lt})}),this.updateCache(mt,Nt,cacheTime24h),Nt}async getLaunchpadPoolConfig(nt,et=!1,at=!0){const{launchpad_pools_handle:mt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),$t=`${nt}_getLaunchpadPoolConfig`,Ct=this.getCache($t,et);if(Ct)return Ct;const Dt=await this._sdk.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"address",value:nt}}),Ft=this.buildLaunchpadPoolConfig(Dt,at);return this.updateCache($t,Ft,cacheTime24h),Ft}buildLaunchpadPoolConfig(nt,et=!0){let at=getObjectFields(nt);at=at.value.fields;const mt={...at};mt.id=getObjectId(nt),mt.pool_address=normalizeSuiObjectId(at.pool_address),this.transformExtensions(mt,at.extension_fields.fields.contents,et);const $t=[];at.social_media.fields.contents.forEach(Ct=>{$t.push({name:Ct.fields.value.fields.name,link:Ct.fields.value.fields.link})}),mt.social_media=$t;try{mt.regulation=decodeURIComponent(gBase64.decode(mt.regulation).replace(/%/g,"%25"))}catch{mt.regulation=gBase64.decode(mt.regulation)}return mt}transformExtensions(nt,et,at=!0){const mt=[];for(const $t of et){const{key:Ct}=$t.fields;let{value:Dt}=$t.fields;if(Ct==="labels")try{const Ft=decodeURIComponent(gBase64.decode(Dt));try{Dt=JSON.parse(Ft)}catch{Dt=Ft}}catch{}at&&(nt[Ct]=Dt),mt.push({key:Ct,value:Dt})}delete nt.extension_fields,at||(nt.extensions=mt)}async getCetusConfig(nt=!1){const et=this._sdk.sdkOptions.cetus_config.package_id,at=`${et}_getCetusConfig`,mt=this.getCache(at,nt);if(mt!==void 0)return mt;const $t=await this._sdk.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),Ct=getObjectPreviousTransactionDigest($t),Dt=await this._sdk.fullClient.queryEventsByPage({Transaction:Ct});let Ft={coin_list_id:"",launchpad_pools_id:"",clmm_pools_id:"",admin_cap_id:"",global_config_id:"",coin_list_handle:"",launchpad_pools_handle:"",clmm_pools_handle:""};if(Dt.data.length>0)for(const Nt of Dt.data)switch(extractStructTagFromType$1(Nt.type).name){case"InitCoinListEvent":Ft.coin_list_id=Nt.parsedJson.coin_list_id;break;case"InitLaunchpadPoolsEvent":Ft.launchpad_pools_id=Nt.parsedJson.launchpad_pools_id;break;case"InitClmmPoolsEvent":Ft.clmm_pools_id=Nt.parsedJson.pools_id;break;case"InitConfigEvent":Ft.global_config_id=Nt.parsedJson.global_config_id,Ft.admin_cap_id=Nt.parsedJson.admin_cap_id;break}return Ft=await this.getCetusConfigHandle(Ft),Ft.clmm_pools_id.length>0&&this.updateCache(at,Ft,cacheTime24h),Ft}async getCetusConfigHandle(nt){const et=[nt.clmm_pools_id,nt.coin_list_id,nt.launchpad_pools_id];return(await this._sdk.fullClient.multiGetObjects({ids:et,options:{showContent:!0}})).forEach(mt=>{var Dt,Ft;if(mt.error!=null||((Ft=(Dt=mt.data)==null?void 0:Dt.content)==null?void 0:Ft.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCetusConfigHandle get objects error: ${mt.error}, please check the rpc and contracts address config.`,"InvalidConfigHandle");const $t=getObjectFields(mt),Ct=getObjectType(mt);switch(extractStructTagFromType$1(Ct).name){case"ClmmPools":nt.clmm_pools_handle=$t.pools.fields.id.id;break;case"CoinList":nt.coin_list_handle=$t.coins.fields.id.id;break;case"LaunchpadPools":nt.launchpad_pools_handle=$t.pools.fields.id.id;break}}),nt}updateCache(nt,et,at=cacheTime5min){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){try{const at=this._cache[nt];if(!at)return;if(et||!at.isValid()){delete this._cache[nt];return}return at.value}catch(at){console.error(`Error accessing cache for key ${nt}:`,at);return}}},CetusClmmSDK=class{constructor(nt){xa(this,"_cache",{});xa(this,"_rpcModule");xa(this,"_pool");xa(this,"_position");xa(this,"_swap");xa(this,"_rewarder");xa(this,"_router");xa(this,"_router_v2");xa(this,"_token");xa(this,"_config");xa(this,"_sdkOptions");xa(this,"_senderAddress","");this._sdkOptions=nt,this._rpcModule=new RpcModule({url:nt.fullRpcUrl}),this._swap=new SwapModule(this),this._pool=new PoolModule(this),this._position=new PositionModule(this),this._rewarder=new RewarderModule(this),this._router=new RouterModule(this),this._router_v2=new RouterModuleV2(this),this._token=new TokenModule(this),this._config=new ConfigModule(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(nt){this._senderAddress=nt}get Swap(){return this._swap}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Pool(){return this._pool}get Position(){return this._position}get Rewarder(){return this._rewarder}get Router(){return this._router}get RouterV2(){return this._router_v2}get CetusConfig(){return this._config}get Token(){return this._token}async getOwnerCoinAssets(nt,et,at=!0){const mt=[];let $t=null;const Ct=`${this.sdkOptions.fullRpcUrl}_${nt}_${et}_getOwnerCoinAssets`,Dt=this.getCache(Ct,at);if(Dt)return Dt;for(;;){const Ft=await(et?this.fullClient.getCoins({owner:nt,coinType:et,cursor:$t}):this.fullClient.getAllCoins({owner:nt,cursor:$t}));if(Ft.data.forEach(Nt=>{BigInt(Nt.balance)>0&&mt.push({coinAddress:extractStructTagFromType$1(Nt.coinType).source_address,coinObjectId:Nt.coinObjectId,balance:BigInt(Nt.balance)})}),$t=Ft.nextCursor,!Ft.hasNextPage)break}return this.updateCache(Ct,mt,30*1e3),mt}async getOwnerCoinBalances(nt,et){let at=[];return et?at=[await this.fullClient.getBalance({owner:nt,coinType:et})]:at=[...await this.fullClient.getAllBalances({owner:nt})],at}updateCache(nt,et,at=cacheTime24h){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){const at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},SDKConfig2={clmmConfig:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",admin_cap_id:"0xa456f86a53fc31e1243f065738ff1fc93f5a62cc080ff894a0fb3747556a799b"},cetusConfig:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}};getFullnodeUrl$1("testnet"),SDKConfig2.cetusConfig,SDKConfig2.clmmConfig;var src_default=CetusClmmSDK;function cancelBubble(nt){nt.stopPropagation(),nt.nativeEvent.stopImmediatePropagation()}const addressAbridge=(nt,et="")=>et=="long"?nt&&nt.length>40?nt.substring(0,40)+"...":nt&&nt.length<40?nt:"":nt?nt.substring(0,6)+"..."+nt.substring(nt.length-4):"",sleepTime=async nt=>new Promise(et=>{setTimeout(()=>{et(1)},nt)});function singleFormat(nt){return nt.toString().length===1?"0"+nt:nt}function getYMD(nt){const et=nt.getFullYear(),at=nt.getMonth()+1,mt=nt.getDate();return et+"/"+singleFormat(at)+"/"+singleFormat(mt)}function getMD(nt){const et=nt.getMonth()+1,at=nt.getDate();return singleFormat(et)+"/"+singleFormat(at)}function getMDY(nt){const et=nt.getFullYear(),at=nt.getMonth()+1,mt=nt.getDate();return singleFormat(at)+"/"+singleFormat(mt)+"/"+new String(et).slice(2,4)}function getHMS(nt){const et=nt.getHours(),at=nt.getMinutes(),mt=nt.getSeconds();return singleFormat(et)+":"+singleFormat(at)+":"+singleFormat(mt)}function getHM(nt){const et=nt.getHours(),at=nt.getMinutes();return singleFormat(et)+":"+singleFormat(at)}function getTimeZone(nt){const at=new Date(nt),mt=at.getTimezoneOffset()+480;return at.setMinutes(at.getMinutes()+mt),at}const timeFormat=(nt,et)=>{if(nt){const at=getTimeZone(nt);switch(et){case"HMS":return getHMS(at);case"MDY":return getMDY(at);case"YMD":return getYMD(at);case"MD":return getMD(at);case"HM":return getHM(at)}}},timeFormatUTC=(nt,et)=>{if(nt){const at=new Date(nt);if(!et)return getYMDUTC(at)+" "+getHMSUTC(at);switch(et){case"HMS":return getHMSUTC(at);case"YMD":return getYMDUTC(at);case"MD":return getMDUTC(at);case"HM":return getHMUTC(at);case"YMDHM":return getYMDUTC(at)+" "+getHMUTC(at);default:return"--"}}};function getYMDUTC(nt){const et=nt.getUTCFullYear(),at=nt.getUTCMonth()+1,mt=nt.getUTCDate();return et+"-"+singleFormat(at)+"-"+singleFormat(mt)}function getMDUTC(nt){const et=nt.getUTCMonth()+1,at=nt.getUTCDate();return singleFormat(et)+"/"+singleFormat(at)}function getHMSUTC(nt){const et=nt.getUTCHours(),at=nt.getUTCMinutes(),mt=nt.getUTCSeconds();return singleFormat(et)+":"+singleFormat(at)+":"+singleFormat(mt)}function getHMUTC(nt){const et=nt.getUTCHours(),at=nt.getUTCMinutes();return singleFormat(et)+":"+singleFormat(at)}const getTimeDifferenceString=nt=>{const et=Math.floor(nt/1e3),at=Math.floor(new Date().getTime()/1e3),mt=60,$t=60*mt,Ct=24*$t,Dt=30*Ct,Ft=365*Ct,Nt=at-et;if(Nt<mt)return"recently";if(Nt<$t){const jt=Math.floor(Nt/mt);return jt==1?`${jt} minute ago`:`${jt} minutes ago`}else if(Nt<Ct){const jt=Math.floor(Nt/$t);return jt==1?`${jt} hour ago`:`${jt} hours ago`}else if(Nt<Dt){const jt=Math.floor(Nt/Ct);return jt==1?`${jt} day ago`:`${jt} days ago`}else if(Nt<Ft){const jt=Math.floor(Nt/Dt);return jt==1?`${jt} mouth ago`:`${jt} mouths ago`}else{const jt=Math.floor(Nt/Ft);return jt==1?`${jt} year ago`:`${jt} years ago`}};function amountToBN(nt,et){if(et===void 0)return new BN(0);if(nt===""||d$1(nt).equals(0))return new BN(0);const at=d$1(nt).mul(Math.pow(10,et)).toString();if(d$1(at).gte(1))return new BN(at);throw Error("amountToBN value lt 1")}function bnToAmount(nt,et){return et===void 0?"":d$1(nt==null?void 0:nt.toString()).div(Math.pow(10,et)).toString()}function parseOwnerBalanceChanges(nt,et,at=!1){var Ft;const mt=nt.balanceChanges,$t=(Ft=nt.effects)==null?void 0:Ft.gasUsed,Ct={};let Dt="0";return $t&&(Dt=d$1($t.computationCost).add($t.storageCost).sub($t.storageRebate).mul(-1).toFixed(0)),mt&&mt.forEach(Nt=>{const jt=extractStructTagFromType$1(Nt.coinType).full_address;if(Nt.owner.AddressOwner===et){const Lt=CoinAssist.isSuiCoin(jt);let Vt=Nt.amount;Lt&&(Vt=at?Vt:d$1(Vt).sub(Dt).toFixed(0));const er={coinType:jt,amount:Vt};Ct[jt]=er}}),Ct}function getBalanceChanges(nt,et){if(et){const at=nt[extractStructTagFromType$1(et.coin_type).full_address];if(at)return fromDecimalsAmountFix(d$1(at.amount).abs().toFixed(0),et.decimals)}}function coinMetadataToCoinInfo(nt,et){return{id:nt.id||void 0,logo_url:nt.iconUrl||void 0,coin_type:et,decimals:nt.decimals,description:nt.description,name:nt.name,symbol:nt.symbol}}function parsePositionIdFromEvent(nt){var Ct,Dt;let et,at;const mt=(Ct=nt.events)==null?void 0:Ct.find(Ft=>Ft.type.includes("pool::OpenPositionEvent"));mt&&(et=mt.parsedJson.position);const $t=(Dt=nt.events)==null?void 0:Dt.find(Ft=>Ft.type.includes("pool::DepositEvent"));return $t&&(at=$t.parsedJson.wrapped_position_id),{posId:et,farmsPosId:at}}const isHexColor=nt=>/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/i.test(nt),isRgbColor=nt=>/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/.test(nt),isRgbaColor=nt=>/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(nt),isColorValue=nt=>isHexColor(nt)||isRgbColor(nt)||isRgbaColor(nt),isAvailableObject=nt=>!!nt&&Object.keys(nt).length>0,removeComma=nt=>(nt+"").replace(/,/g,"");function base64ToUint8Array(nt){const et=Buffer$1.from(nt,"base64").toString("binary"),at=new Uint8Array(et.length);for(let mt=0;mt<et.length;mt++)at[mt]=et.charCodeAt(mt);return at}Decimal$1.config({precision:256,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-256,toExpPos:256});var dayjs_min={exports:{}};(function(nt,et){(function(at,mt){nt.exports=mt()})(commonjsGlobal$1,function(){var at=1e3,mt=6e4,$t=36e5,Ct="millisecond",Dt="second",Ft="minute",Nt="hour",jt="day",Lt="week",Vt="month",er="quarter",ir="year",or="date",lr="Invalid Date",dr=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,pr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,hr={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(nr){var rr=["th","st","nd","rd"],ar=nr%100;return"["+nr+(rr[(ar-20)%10]||rr[ar]||rr[0])+"]"}},vr=function(nr,rr,ar){var cr=String(nr);return!cr||cr.length>=rr?nr:""+Array(rr+1-cr.length).join(ar)+nr},br={s:vr,z:function(nr){var rr=-nr.utcOffset(),ar=Math.abs(rr),cr=Math.floor(ar/60),fr=ar%60;return(rr<=0?"+":"-")+vr(cr,2,"0")+":"+vr(fr,2,"0")},m:function nr(rr,ar){if(rr.date()<ar.date())return-nr(ar,rr);var cr=12*(ar.year()-rr.year())+(ar.month()-rr.month()),fr=rr.clone().add(cr,Vt),sr=ar-fr<0,Yt=rr.clone().add(cr+(sr?-1:1),Vt);return+(-(cr+(ar-fr)/(sr?fr-Yt:Yt-fr))||0)},a:function(nr){return nr<0?Math.ceil(nr)||0:Math.floor(nr)},p:function(nr){return{M:Vt,y:ir,w:Lt,d:jt,D:or,h:Nt,m:Ft,s:Dt,ms:Ct,Q:er}[nr]||String(nr||"").toLowerCase().replace(/s$/,"")},u:function(nr){return nr===void 0}},xr="en",Sr={};Sr[xr]=hr;var Er="$isDayjsObject",$r=function(nr){return nr instanceof Ut||!(!nr||!nr[Er])},Cr=function nr(rr,ar,cr){var fr;if(!rr)return xr;if(typeof rr=="string"){var sr=rr.toLowerCase();Sr[sr]&&(fr=sr),ar&&(Sr[sr]=ar,fr=sr);var Yt=rr.split("-");if(!fr&&Yt.length>1)return nr(Yt[0])}else{var ur=rr.name;Sr[ur]=rr,fr=ur}return!cr&&fr&&(xr=fr),fr||!cr&&xr},kr=function(nr,rr){if($r(nr))return nr.clone();var ar=typeof rr=="object"?rr:{};return ar.date=nr,ar.args=arguments,new Ut(ar)},gr=br;gr.l=Cr,gr.i=$r,gr.w=function(nr,rr){return kr(nr,{locale:rr.$L,utc:rr.$u,x:rr.$x,$offset:rr.$offset})};var Ut=function(){function nr(ar){this.$L=Cr(ar.locale,null,!0),this.parse(ar),this.$x=this.$x||ar.x||{},this[Er]=!0}var rr=nr.prototype;return rr.parse=function(ar){this.$d=function(cr){var fr=cr.date,sr=cr.utc;if(fr===null)return new Date(NaN);if(gr.u(fr))return new Date;if(fr instanceof Date)return new Date(fr);if(typeof fr=="string"&&!/Z$/i.test(fr)){var Yt=fr.match(dr);if(Yt){var ur=Yt[2]-1||0,_r=(Yt[7]||"0").substring(0,3);return sr?new Date(Date.UTC(Yt[1],ur,Yt[3]||1,Yt[4]||0,Yt[5]||0,Yt[6]||0,_r)):new Date(Yt[1],ur,Yt[3]||1,Yt[4]||0,Yt[5]||0,Yt[6]||0,_r)}}return new Date(fr)}(ar),this.init()},rr.init=function(){var ar=this.$d;this.$y=ar.getFullYear(),this.$M=ar.getMonth(),this.$D=ar.getDate(),this.$W=ar.getDay(),this.$H=ar.getHours(),this.$m=ar.getMinutes(),this.$s=ar.getSeconds(),this.$ms=ar.getMilliseconds()},rr.$utils=function(){return gr},rr.isValid=function(){return this.$d.toString()!==lr},rr.isSame=function(ar,cr){var fr=kr(ar);return this.startOf(cr)<=fr&&fr<=this.endOf(cr)},rr.isAfter=function(ar,cr){return kr(ar)<this.startOf(cr)},rr.isBefore=function(ar,cr){return this.endOf(cr)<kr(ar)},rr.$g=function(ar,cr,fr){return gr.u(ar)?this[cr]:this.set(fr,ar)},rr.unix=function(){return Math.floor(this.valueOf()/1e3)},rr.valueOf=function(){return this.$d.getTime()},rr.startOf=function(ar,cr){var fr=this,sr=!!gr.u(cr)||cr,Yt=gr.p(ar),ur=function(Hr,Pr){var Dr=gr.w(fr.$u?Date.UTC(fr.$y,Pr,Hr):new Date(fr.$y,Pr,Hr),fr);return sr?Dr:Dr.endOf(jt)},_r=function(Hr,Pr){return gr.w(fr.toDate()[Hr].apply(fr.toDate("s"),(sr?[0,0,0,0]:[23,59,59,999]).slice(Pr)),fr)},yr=this.$W,wr=this.$M,Ir=this.$D,Or="set"+(this.$u?"UTC":"");switch(Yt){case ir:return sr?ur(1,0):ur(31,11);case Vt:return sr?ur(1,wr):ur(0,wr+1);case Lt:var Ar=this.$locale().weekStart||0,Nr=(yr<Ar?yr+7:yr)-Ar;return ur(sr?Ir-Nr:Ir+(6-Nr),wr);case jt:case or:return _r(Or+"Hours",0);case Nt:return _r(Or+"Minutes",1);case Ft:return _r(Or+"Seconds",2);case Dt:return _r(Or+"Milliseconds",3);default:return this.clone()}},rr.endOf=function(ar){return this.startOf(ar,!1)},rr.$set=function(ar,cr){var fr,sr=gr.p(ar),Yt="set"+(this.$u?"UTC":""),ur=(fr={},fr[jt]=Yt+"Date",fr[or]=Yt+"Date",fr[Vt]=Yt+"Month",fr[ir]=Yt+"FullYear",fr[Nt]=Yt+"Hours",fr[Ft]=Yt+"Minutes",fr[Dt]=Yt+"Seconds",fr[Ct]=Yt+"Milliseconds",fr)[sr],_r=sr===jt?this.$D+(cr-this.$W):cr;if(sr===Vt||sr===ir){var yr=this.clone().set(or,1);yr.$d[ur](_r),yr.init(),this.$d=yr.set(or,Math.min(this.$D,yr.daysInMonth())).$d}else ur&&this.$d[ur](_r);return this.init(),this},rr.set=function(ar,cr){return this.clone().$set(ar,cr)},rr.get=function(ar){return this[gr.p(ar)]()},rr.add=function(ar,cr){var fr,sr=this;ar=Number(ar);var Yt=gr.p(cr),ur=function(wr){var Ir=kr(sr);return gr.w(Ir.date(Ir.date()+Math.round(wr*ar)),sr)};if(Yt===Vt)return this.set(Vt,this.$M+ar);if(Yt===ir)return this.set(ir,this.$y+ar);if(Yt===jt)return ur(1);if(Yt===Lt)return ur(7);var _r=(fr={},fr[Ft]=mt,fr[Nt]=$t,fr[Dt]=at,fr)[Yt]||1,yr=this.$d.getTime()+ar*_r;return gr.w(yr,this)},rr.subtract=function(ar,cr){return this.add(-1*ar,cr)},rr.format=function(ar){var cr=this,fr=this.$locale();if(!this.isValid())return fr.invalidDate||lr;var sr=ar||"YYYY-MM-DDTHH:mm:ssZ",Yt=gr.z(this),ur=this.$H,_r=this.$m,yr=this.$M,wr=fr.weekdays,Ir=fr.months,Or=fr.meridiem,Ar=function(Pr,Dr,Rr,Vr){return Pr&&(Pr[Dr]||Pr(cr,sr))||Rr[Dr].slice(0,Vr)},Nr=function(Pr){return gr.s(ur%12||12,Pr,"0")},Hr=Or||function(Pr,Dr,Rr){var Vr=Pr<12?"AM":"PM";return Rr?Vr.toLowerCase():Vr};return sr.replace(pr,function(Pr,Dr){return Dr||function(Rr){switch(Rr){case"YY":return String(cr.$y).slice(-2);case"YYYY":return gr.s(cr.$y,4,"0");case"M":return yr+1;case"MM":return gr.s(yr+1,2,"0");case"MMM":return Ar(fr.monthsShort,yr,Ir,3);case"MMMM":return Ar(Ir,yr);case"D":return cr.$D;case"DD":return gr.s(cr.$D,2,"0");case"d":return String(cr.$W);case"dd":return Ar(fr.weekdaysMin,cr.$W,wr,2);case"ddd":return Ar(fr.weekdaysShort,cr.$W,wr,3);case"dddd":return wr[cr.$W];case"H":return String(ur);case"HH":return gr.s(ur,2,"0");case"h":return Nr(1);case"hh":return Nr(2);case"a":return Hr(ur,_r,!0);case"A":return Hr(ur,_r,!1);case"m":return String(_r);case"mm":return gr.s(_r,2,"0");case"s":return String(cr.$s);case"ss":return gr.s(cr.$s,2,"0");case"SSS":return gr.s(cr.$ms,3,"0");case"Z":return Yt}return null}(Pr)||Yt.replace(":","")})},rr.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},rr.diff=function(ar,cr,fr){var sr,Yt=this,ur=gr.p(cr),_r=kr(ar),yr=(_r.utcOffset()-this.utcOffset())*mt,wr=this-_r,Ir=function(){return gr.m(Yt,_r)};switch(ur){case ir:sr=Ir()/12;break;case Vt:sr=Ir();break;case er:sr=Ir()/3;break;case Lt:sr=(wr-yr)/6048e5;break;case jt:sr=(wr-yr)/864e5;break;case Nt:sr=wr/$t;break;case Ft:sr=wr/mt;break;case Dt:sr=wr/at;break;default:sr=wr}return fr?sr:gr.a(sr)},rr.daysInMonth=function(){return this.endOf(Vt).$D},rr.$locale=function(){return Sr[this.$L]},rr.locale=function(ar,cr){if(!ar)return this.$L;var fr=this.clone(),sr=Cr(ar,cr,!0);return sr&&(fr.$L=sr),fr},rr.clone=function(){return gr.w(this.$d,this)},rr.toDate=function(){return new Date(this.valueOf())},rr.toJSON=function(){return this.isValid()?this.toISOString():null},rr.toISOString=function(){return this.$d.toISOString()},rr.toString=function(){return this.$d.toUTCString()},nr}(),tr=Ut.prototype;return kr.prototype=tr,[["$ms",Ct],["$s",Dt],["$m",Ft],["$H",Nt],["$W",jt],["$M",Vt],["$y",ir],["$D",or]].forEach(function(nr){tr[nr[1]]=function(rr){return this.$g(rr,nr[0],nr[1])}}),kr.extend=function(nr,rr){return nr.$i||(nr(rr,Ut,kr),nr.$i=!0),kr},kr.locale=Cr,kr.isDayjs=$r,kr.unix=function(nr){return kr(1e3*nr)},kr.en=Sr[xr],kr.Ls=Sr,kr.p={},kr})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs$2(dayjs_minExports);var duration$1={exports:{}};(function(nt,et){(function(at,mt){nt.exports=mt()})(commonjsGlobal$1,function(){var at,mt,$t=1e3,Ct=6e4,Dt=36e5,Ft=864e5,Nt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,jt=31536e6,Lt=2628e6,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,er={years:jt,months:Lt,days:Ft,hours:Dt,minutes:Ct,seconds:$t,milliseconds:1,weeks:6048e5},ir=function(Sr){return Sr instanceof br},or=function(Sr,Er,$r){return new br(Sr,$r,Er.$l)},lr=function(Sr){return mt.p(Sr)+"s"},dr=function(Sr){return Sr<0},pr=function(Sr){return dr(Sr)?Math.ceil(Sr):Math.floor(Sr)},hr=function(Sr){return Math.abs(Sr)},vr=function(Sr,Er){return Sr?dr(Sr)?{negative:!0,format:""+hr(Sr)+Er}:{negative:!1,format:""+Sr+Er}:{negative:!1,format:""}},br=function(){function Sr($r,Cr,kr){var gr=this;if(this.$d={},this.$l=kr,$r===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Cr)return or($r*er[lr(Cr)],this);if(typeof $r=="number")return this.$ms=$r,this.parseFromMilliseconds(),this;if(typeof $r=="object")return Object.keys($r).forEach(function(nr){gr.$d[lr(nr)]=$r[nr]}),this.calMilliseconds(),this;if(typeof $r=="string"){var Ut=$r.match(Vt);if(Ut){var tr=Ut.slice(2).map(function(nr){return nr!=null?Number(nr):0});return this.$d.years=tr[0],this.$d.months=tr[1],this.$d.weeks=tr[2],this.$d.days=tr[3],this.$d.hours=tr[4],this.$d.minutes=tr[5],this.$d.seconds=tr[6],this.calMilliseconds(),this}}return this}var Er=Sr.prototype;return Er.calMilliseconds=function(){var $r=this;this.$ms=Object.keys(this.$d).reduce(function(Cr,kr){return Cr+($r.$d[kr]||0)*er[kr]},0)},Er.parseFromMilliseconds=function(){var $r=this.$ms;this.$d.years=pr($r/jt),$r%=jt,this.$d.months=pr($r/Lt),$r%=Lt,this.$d.days=pr($r/Ft),$r%=Ft,this.$d.hours=pr($r/Dt),$r%=Dt,this.$d.minutes=pr($r/Ct),$r%=Ct,this.$d.seconds=pr($r/$t),$r%=$t,this.$d.milliseconds=$r},Er.toISOString=function(){var $r=vr(this.$d.years,"Y"),Cr=vr(this.$d.months,"M"),kr=+this.$d.days||0;this.$d.weeks&&(kr+=7*this.$d.weeks);var gr=vr(kr,"D"),Ut=vr(this.$d.hours,"H"),tr=vr(this.$d.minutes,"M"),nr=this.$d.seconds||0;this.$d.milliseconds&&(nr+=this.$d.milliseconds/1e3,nr=Math.round(1e3*nr)/1e3);var rr=vr(nr,"S"),ar=$r.negative||Cr.negative||gr.negative||Ut.negative||tr.negative||rr.negative,cr=Ut.format||tr.format||rr.format?"T":"",fr=(ar?"-":"")+"P"+$r.format+Cr.format+gr.format+cr+Ut.format+tr.format+rr.format;return fr==="P"||fr==="-P"?"P0D":fr},Er.toJSON=function(){return this.toISOString()},Er.format=function($r){var Cr=$r||"YYYY-MM-DDTHH:mm:ss",kr={Y:this.$d.years,YY:mt.s(this.$d.years,2,"0"),YYYY:mt.s(this.$d.years,4,"0"),M:this.$d.months,MM:mt.s(this.$d.months,2,"0"),D:this.$d.days,DD:mt.s(this.$d.days,2,"0"),H:this.$d.hours,HH:mt.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:mt.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:mt.s(this.$d.seconds,2,"0"),SSS:mt.s(this.$d.milliseconds,3,"0")};return Cr.replace(Nt,function(gr,Ut){return Ut||String(kr[gr])})},Er.as=function($r){return this.$ms/er[lr($r)]},Er.get=function($r){var Cr=this.$ms,kr=lr($r);return kr==="milliseconds"?Cr%=1e3:Cr=kr==="weeks"?pr(Cr/er[kr]):this.$d[kr],Cr||0},Er.add=function($r,Cr,kr){var gr;return gr=Cr?$r*er[lr(Cr)]:ir($r)?$r.$ms:or($r,this).$ms,or(this.$ms+gr*(kr?-1:1),this)},Er.subtract=function($r,Cr){return this.add($r,Cr,!0)},Er.locale=function($r){var Cr=this.clone();return Cr.$l=$r,Cr},Er.clone=function(){return or(this.$ms,this)},Er.humanize=function($r){return at().add(this.$ms,"ms").locale(this.$l).fromNow(!$r)},Er.valueOf=function(){return this.asMilliseconds()},Er.milliseconds=function(){return this.get("milliseconds")},Er.asMilliseconds=function(){return this.as("milliseconds")},Er.seconds=function(){return this.get("seconds")},Er.asSeconds=function(){return this.as("seconds")},Er.minutes=function(){return this.get("minutes")},Er.asMinutes=function(){return this.as("minutes")},Er.hours=function(){return this.get("hours")},Er.asHours=function(){return this.as("hours")},Er.days=function(){return this.get("days")},Er.asDays=function(){return this.as("days")},Er.weeks=function(){return this.get("weeks")},Er.asWeeks=function(){return this.as("weeks")},Er.months=function(){return this.get("months")},Er.asMonths=function(){return this.as("months")},Er.years=function(){return this.get("years")},Er.asYears=function(){return this.as("years")},Sr}(),xr=function(Sr,Er,$r){return Sr.add(Er.years()*$r,"y").add(Er.months()*$r,"M").add(Er.days()*$r,"d").add(Er.hours()*$r,"h").add(Er.minutes()*$r,"m").add(Er.seconds()*$r,"s").add(Er.milliseconds()*$r,"ms")};return function(Sr,Er,$r){at=$r,mt=$r().$utils(),$r.duration=function(gr,Ut){var tr=$r.locale();return or(gr,{$l:tr},Ut)},$r.isDuration=ir;var Cr=Er.prototype.add,kr=Er.prototype.subtract;Er.prototype.add=function(gr,Ut){return ir(gr)?xr(this,gr,1):Cr.bind(this)(gr,Ut)},Er.prototype.subtract=function(gr,Ut){return ir(gr)?xr(this,gr,-1):kr.bind(this)(gr,Ut)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs$2(durationExports);var relativeTime$1={exports:{}};(function(nt,et){(function(at,mt){nt.exports=mt()})(commonjsGlobal$1,function(){return function(at,mt,$t){at=at||{};var Ct=mt.prototype,Dt={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ft(jt,Lt,Vt,er){return Ct.fromToBase(jt,Lt,Vt,er)}$t.en.relativeTime=Dt,Ct.fromToBase=function(jt,Lt,Vt,er,ir){for(var or,lr,dr,pr=Vt.$locale().relativeTime||Dt,hr=at.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],vr=hr.length,br=0;br<vr;br+=1){var xr=hr[br];xr.d&&(or=er?$t(jt).diff(Vt,xr.d,!0):Vt.diff(jt,xr.d,!0));var Sr=(at.rounding||Math.round)(Math.abs(or));if(dr=or>0,Sr<=xr.r||!xr.r){Sr<=1&&br>0&&(xr=hr[br-1]);var Er=pr[xr.l];ir&&(Sr=ir(""+Sr)),lr=typeof Er=="string"?Er.replace("%d",Sr):Er(Sr,Lt,xr.l,dr);break}}if(Lt)return lr;var $r=dr?pr.future:pr.past;return typeof $r=="function"?$r(lr):$r.replace("%s",lr)},Ct.to=function(jt,Lt){return Ft(jt,Lt,this,!0)},Ct.from=function(jt,Lt){return Ft(jt,Lt,this)};var Nt=function(jt){return jt.$u?$t.utc():$t()};Ct.toNow=function(jt){return this.to(Nt(this),jt)},Ct.fromNow=function(jt){return this.from(Nt(this),jt)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs$2(relativeTimeExports);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{};function getDefaultExportFromCjs(nt){return nt&&nt.__esModule&&Object.prototype.hasOwnProperty.call(nt,"default")?nt.default:nt}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var enUS,hasRequiredEnUS;function requireEnUS(){return hasRequiredEnUS||(hasRequiredEnUS=1,enUS={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(nt){let et=nt%10;return~~(nt%100/10)===1?"th":et===1?"st":et===2?"nd":et===3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),enUS}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var unformatting,hasRequiredUnformatting;function requireUnformatting(){if(hasRequiredUnformatting)return unformatting;hasRequiredUnformatting=1;const nt=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function et(Nt){return Nt.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function at(Nt,jt,Lt,Vt,er,ir,or){if(!isNaN(+Nt))return+Nt;let lr="",dr=Nt.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(dr!==Nt)return-1*at(dr,jt,Lt,Vt,er,ir);for(let Sr=0;Sr<nt.length;Sr++){let Er=nt[Sr];if(lr=Nt.replace(RegExp(`([0-9 ])(${Er.key})$`),"$1"),lr!==Nt)return at(lr,jt,Lt,Vt,er,ir)*Er.factor}if(lr=Nt.replace("%",""),lr!==Nt)return at(lr,jt,Lt,Vt,er,ir)/100;let pr=parseFloat(Nt);if(isNaN(pr))return;let hr=Vt(pr);if(hr&&hr!=="."&&(lr=Nt.replace(new RegExp(`${et(hr)}$`),""),lr!==Nt))return at(lr,jt,Lt,Vt,er,ir);let vr={};Object.keys(ir).forEach(Sr=>{vr[ir[Sr]]=Sr});let br=Object.keys(vr).sort().reverse(),xr=br.length;for(let Sr=0;Sr<xr;Sr++){let Er=br[Sr],$r=vr[Er];if(lr=Nt.replace(Er,""),lr!==Nt){let Cr;switch($r){case"thousand":Cr=Math.pow(10,3);break;case"million":Cr=Math.pow(10,6);break;case"billion":Cr=Math.pow(10,9);break;case"trillion":Cr=Math.pow(10,12);break}return at(lr,jt,Lt,Vt,er,ir)*Cr}}}function mt(Nt,jt,Lt){let Vt=Nt.replace(Lt,"");return Vt=Vt.replace(new RegExp(`([0-9])${et(jt.thousands)}([0-9])`,"g"),"$1$2"),Vt=Vt.replace(jt.decimal,"."),Vt}function $t(Nt,jt,Lt="",Vt,er,ir,or){if(Nt==="")return;if(Nt===er)return 0;let lr=mt(Nt,jt,Lt);return at(lr,jt,Lt,Vt,er,ir)}function Ct(Nt,jt){if(!(Nt.indexOf(":")&&jt.thousands!==":"))return!1;let Vt=Nt.split(":");if(Vt.length!==3)return!1;let er=+Vt[0],ir=+Vt[1],or=+Vt[2];return!isNaN(er)&&!isNaN(ir)&&!isNaN(or)}function Dt(Nt){let jt=Nt.split(":"),Lt=+jt[0],Vt=+jt[1];return+jt[2]+60*Vt+3600*Lt}function Ft(Nt,jt){const Lt=requireGlobalState();let Vt=Lt.currentDelimiters(),er=Lt.currentCurrency().symbol,ir=Lt.currentOrdinal(),or=Lt.getZeroFormat(),lr=Lt.currentAbbreviations(),dr;if(typeof Nt=="string")Ct(Nt,Vt)?dr=Dt(Nt):dr=$t(Nt,Vt,er,ir,or,lr);else if(typeof Nt=="number")dr=Nt;else return;if(dr!==void 0)return dr}return unformatting={unformat:Ft},unformatting}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var validating$1,hasRequiredValidating;function requireValidating(){if(hasRequiredValidating)return validating$1;hasRequiredValidating=1;let nt=requireUnformatting();const et=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,at=["currency","percent","byte","time","ordinal","number"],mt=["trillion","billion","million","thousand"],$t=["prefix","infix","postfix"],Ct=["sign","parenthesis"],Dt={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},jt={output:{type:"string",validValues:at},base:{type:"string",validValues:["decimal","binary","general"],restriction:(dr,pr)=>pr.output==="byte",message:"`base` must be provided only when the output is `byte`",mandatory:dr=>dr.output==="byte"},characteristic:{type:"number",restriction:dr=>dr>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:mt},average:"boolean",lowPrecision:{type:"boolean",restriction:(dr,pr)=>pr.average===!0,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:$t},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:dr=>dr>=0,message:"value must be positive"},{restriction:(dr,pr)=>!pr.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:dr=>dr>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:Ct},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(dr,pr)=>pr.output==="percent",message:"`prefixSymbol` can be provided only when the output is `percent`"}},Lt={languageTag:{type:"string",mandatory:!0,restriction:dr=>dr.match(et),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:Dt,spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function Vt(dr,pr){let hr=er(dr),vr=or(pr);return hr&&vr}function er(dr){return nt.unformat(dr)!==void 0}function ir(dr,pr,hr,vr=!1){let br=Object.keys(dr).map(xr=>{if(!pr[xr])return console.error(`${hr} Invalid key: ${xr}`),!1;let Sr=dr[xr],Er=pr[xr];if(typeof Er=="string"&&(Er={type:Er}),Er.type==="format"){if(!ir(Sr,jt,`[Validate ${xr}]`,!0))return!1}else if(typeof Sr!==Er.type)return console.error(`${hr} ${xr} type mismatched: "${Er.type}" expected, "${typeof Sr}" provided`),!1;if(Er.restrictions&&Er.restrictions.length){let $r=Er.restrictions.length;for(let Cr=0;Cr<$r;Cr++){let{restriction:kr,message:gr}=Er.restrictions[Cr];if(!kr(Sr,dr))return console.error(`${hr} ${xr} invalid value: ${gr}`),!1}}return Er.restriction&&!Er.restriction(Sr,dr)?(console.error(`${hr} ${xr} invalid value: ${Er.message}`),!1):Er.validValues&&Er.validValues.indexOf(Sr)===-1?(console.error(`${hr} ${xr} invalid value: must be among ${JSON.stringify(Er.validValues)}, "${Sr}" provided`),!1):!(Er.children&&!ir(Sr,Er.children,`[Validate ${xr}]`))});return vr||br.push(...Object.keys(pr).map(xr=>{let Sr=pr[xr];if(typeof Sr=="string"&&(Sr={type:Sr}),Sr.mandatory){let Er=Sr.mandatory;if(typeof Er=="function"&&(Er=Er(dr)),Er&&dr[xr]===void 0)return console.error(`${hr} Missing mandatory key "${xr}"`),!1}return!0})),br.reduce((xr,Sr)=>xr&&Sr,!0)}function or(dr){return ir(dr,jt,"[Validate format]")}function lr(dr){return ir(dr,Lt,"[Validate language]")}return validating$1={validate:Vt,validateFormat:or,validateInput:er,validateLanguage:lr},validating$1}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function parsePrefix(nt,et){let at=nt.match(/^{([^}]*)}/);return at?(et.prefix=at[1],nt.slice(at[0].length)):nt}function parsePostfix(nt,et){let at=nt.match(/{([^}]*)}$/);return at?(et.postfix=at[1],nt.slice(0,-at[0].length)):nt}function parseOutput(nt,et){if(nt.indexOf("$")!==-1){et.output="currency";return}if(nt.indexOf("%")!==-1){et.output="percent";return}if(nt.indexOf("bd")!==-1){et.output="byte",et.base="general";return}if(nt.indexOf("b")!==-1){et.output="byte",et.base="binary";return}if(nt.indexOf("d")!==-1){et.output="byte",et.base="decimal";return}if(nt.indexOf(":")!==-1){et.output="time";return}nt.indexOf("o")!==-1&&(et.output="ordinal")}function parseThousandSeparated(nt,et){nt.indexOf(",")!==-1&&(et.thousandSeparated=!0)}function parseSpaceSeparated(nt,et){nt.indexOf(" ")!==-1&&(et.spaceSeparated=!0,et.spaceSeparatedCurrency=!0,(et.average||et.forceAverage)&&(et.spaceSeparatedAbbreviation=!0))}function parseTotalLength(nt,et){let at=nt.match(/[1-9]+[0-9]*/);at&&(et.totalLength=+at[0])}function parseCharacteristic(nt,et){let mt=nt.split(".")[0].match(/0+/);mt&&(et.characteristic=mt[0].length)}function parseMantissa(nt,et){let at=nt.split(".")[1];if(at){let mt=at.match(/0+/);mt&&(et.mantissa=mt[0].length)}}function parseTrimMantissa(nt,et){const at=nt.split(".")[1];at&&(et.trimMantissa=at.indexOf("[")!==-1)}function parseAverage(nt,et){nt.indexOf("a")!==-1&&(et.average=!0)}function parseForceAverage(nt,et){nt.indexOf("K")!==-1?et.forceAverage="thousand":nt.indexOf("M")!==-1?et.forceAverage="million":nt.indexOf("B")!==-1?et.forceAverage="billion":nt.indexOf("T")!==-1&&(et.forceAverage="trillion")}function parseOptionalMantissa(nt,et){nt.match(/\[\.]/)?et.optionalMantissa=!0:nt.match(/\./)&&(et.optionalMantissa=!1)}function parseOptionalCharacteristic(nt,et){if(nt.indexOf(".")!==-1){let at=nt.split(".")[0];et.optionalCharacteristic=at.indexOf("0")===-1}}function parseNegative(nt,et){nt.match(/^\+?\([^)]*\)$/)&&(et.negative="parenthesis"),nt.match(/^\+?-/)&&(et.negative="sign")}function parseForceSign(nt,et){nt.match(/^\+/)&&(et.forceSign=!0)}function parseFormat(nt,et={}){return typeof nt!="string"?nt:(nt=parsePrefix(nt,et),nt=parsePostfix(nt,et),parseOutput(nt,et),parseTotalLength(nt,et),parseCharacteristic(nt,et),parseOptionalCharacteristic(nt,et),parseAverage(nt,et),parseForceAverage(nt,et),parseMantissa(nt,et),parseOptionalMantissa(nt,et),parseTrimMantissa(nt,et),parseThousandSeparated(nt,et),parseSpaceSeparated(nt,et),parseNegative(nt,et),parseForceSign(nt,et),et)}var parsing$2={parseFormat};/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var globalState$2,hasRequiredGlobalState;function requireGlobalState(){if(hasRequiredGlobalState)return globalState$2;hasRequiredGlobalState=1;const nt=requireEnUS(),et=requireValidating(),at=parsing$2;let mt={},$t,Ct={},Dt=null,Ft={};function Nt(Lt){$t=Lt}function jt(){return Ct[$t]}return mt.languages=()=>Object.assign({},Ct),mt.currentLanguage=()=>$t,mt.currentBytes=()=>jt().bytes||{},mt.currentCurrency=()=>jt().currency,mt.currentAbbreviations=()=>jt().abbreviations,mt.currentDelimiters=()=>jt().delimiters,mt.currentOrdinal=()=>jt().ordinal,mt.currentDefaults=()=>Object.assign({},jt().defaults,Ft),mt.currentOrdinalDefaultFormat=()=>Object.assign({},mt.currentDefaults(),jt().ordinalFormat),mt.currentByteDefaultFormat=()=>Object.assign({},mt.currentDefaults(),jt().byteFormat),mt.currentPercentageDefaultFormat=()=>Object.assign({},mt.currentDefaults(),jt().percentageFormat),mt.currentCurrencyDefaultFormat=()=>Object.assign({},mt.currentDefaults(),jt().currencyFormat),mt.currentTimeDefaultFormat=()=>Object.assign({},mt.currentDefaults(),jt().timeFormat),mt.setDefaults=Lt=>{Lt=at.parseFormat(Lt),et.validateFormat(Lt)&&(Ft=Lt)},mt.getZeroFormat=()=>Dt,mt.setZeroFormat=Lt=>Dt=typeof Lt=="string"?Lt:null,mt.hasZeroFormat=()=>Dt!==null,mt.languageData=Lt=>{if(Lt){if(Ct[Lt])return Ct[Lt];throw new Error(`Unknown tag "${Lt}"`)}return jt()},mt.registerLanguage=(Lt,Vt=!1)=>{if(!et.validateLanguage(Lt))throw new Error("Invalid language data");Ct[Lt.languageTag]=Lt,Vt&&Nt(Lt.languageTag)},mt.setLanguage=(Lt,Vt=nt.languageTag)=>{if(!Ct[Lt]){let er=Lt.split("-")[0],ir=Object.keys(Ct).find(or=>or.split("-")[0]===er);if(!Ct[ir]){Nt(Vt);return}Nt(ir);return}Nt(Lt)},mt.registerLanguage(nt),$t=nt.languageTag,globalState$2=mt,globalState$2}function commonjsRequire(nt){throw new Error('Could not dynamically require "'+nt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function loadLanguagesInNode(nt,et){nt.forEach(at=>{let mt;try{mt=commonjsRequire(`../languages/${at}`)}catch{console.error(`Unable to load "${at}". No matching language file found.`)}mt&&et.registerLanguage(mt)})}var loading=nt=>({loadLanguagesInNode:et=>loadLanguagesInNode(et,nt)}),bignumber={exports:{}};(function(nt){(function(et){var at,mt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,$t=Math.ceil,Ct=Math.floor,Dt="[BigNumber Error] ",Ft=Dt+"Number primitive has more than 15 significant digits: ",Nt=1e14,jt=14,Lt=9007199254740991,Vt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],er=1e7,ir=1e9;function or(Sr){var Er,$r,Cr,kr=wr.prototype={constructor:wr,toString:null,valueOf:null},gr=new wr(1),Ut=20,tr=4,nr=-7,rr=21,ar=-1e7,cr=1e7,fr=!1,sr=1,Yt=0,ur={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},_r="0123456789abcdefghijklmnopqrstuvwxyz",yr=!0;function wr(Pr,Dr){var Rr,Vr,an,Xr,Jr,Zr,Gr,zr,Dn=this;if(!(Dn instanceof wr))return new wr(Pr,Dr);if(Dr==null){if(Pr&&Pr._isBigNumber===!0){Dn.s=Pr.s,!Pr.c||Pr.e>cr?Dn.c=Dn.e=null:Pr.e<ar?Dn.c=[Dn.e=0]:(Dn.e=Pr.e,Dn.c=Pr.c.slice());return}if((Zr=typeof Pr=="number")&&Pr*0==0){if(Dn.s=1/Pr<0?(Pr=-Pr,-1):1,Pr===~~Pr){for(Xr=0,Jr=Pr;Jr>=10;Jr/=10,Xr++);Xr>cr?Dn.c=Dn.e=null:(Dn.e=Xr,Dn.c=[Pr]);return}zr=String(Pr)}else{if(!mt.test(zr=String(Pr)))return Cr(Dn,zr,Zr);Dn.s=zr.charCodeAt(0)==45?(zr=zr.slice(1),-1):1}(Xr=zr.indexOf("."))>-1&&(zr=zr.replace(".","")),(Jr=zr.search(/e/i))>0?(Xr<0&&(Xr=Jr),Xr+=+zr.slice(Jr+1),zr=zr.substring(0,Jr)):Xr<0&&(Xr=zr.length)}else{if(hr(Dr,2,_r.length,"Base"),Dr==10&&yr)return Dn=new wr(Pr),Nr(Dn,Ut+Dn.e+1,tr);if(zr=String(Pr),Zr=typeof Pr=="number"){if(Pr*0!=0)return Cr(Dn,zr,Zr,Dr);if(Dn.s=1/Pr<0?(zr=zr.slice(1),-1):1,wr.DEBUG&&zr.replace(/^0\.0*|\./,"").length>15)throw Error(Ft+Pr)}else Dn.s=zr.charCodeAt(0)===45?(zr=zr.slice(1),-1):1;for(Rr=_r.slice(0,Dr),Xr=Jr=0,Gr=zr.length;Jr<Gr;Jr++)if(Rr.indexOf(Vr=zr.charAt(Jr))<0){if(Vr=="."){if(Jr>Xr){Xr=Gr;continue}}else if(!an&&(zr==zr.toUpperCase()&&(zr=zr.toLowerCase())||zr==zr.toLowerCase()&&(zr=zr.toUpperCase()))){an=!0,Jr=-1,Xr=0;continue}return Cr(Dn,String(Pr),Zr,Dr)}Zr=!1,zr=$r(zr,Dr,10,Dn.s),(Xr=zr.indexOf("."))>-1?zr=zr.replace(".",""):Xr=zr.length}for(Jr=0;zr.charCodeAt(Jr)===48;Jr++);for(Gr=zr.length;zr.charCodeAt(--Gr)===48;);if(zr=zr.slice(Jr,++Gr)){if(Gr-=Jr,Zr&&wr.DEBUG&&Gr>15&&(Pr>Lt||Pr!==Ct(Pr)))throw Error(Ft+Dn.s*Pr);if((Xr=Xr-Jr-1)>cr)Dn.c=Dn.e=null;else if(Xr<ar)Dn.c=[Dn.e=0];else{if(Dn.e=Xr,Dn.c=[],Jr=(Xr+1)%jt,Xr<0&&(Jr+=jt),Jr<Gr){for(Jr&&Dn.c.push(+zr.slice(0,Jr)),Gr-=jt;Jr<Gr;)Dn.c.push(+zr.slice(Jr,Jr+=jt));Jr=jt-(zr=zr.slice(Jr)).length}else Jr-=Gr;for(;Jr--;zr+="0");Dn.c.push(+zr)}}else Dn.c=[Dn.e=0]}wr.clone=or,wr.ROUND_UP=0,wr.ROUND_DOWN=1,wr.ROUND_CEIL=2,wr.ROUND_FLOOR=3,wr.ROUND_HALF_UP=4,wr.ROUND_HALF_DOWN=5,wr.ROUND_HALF_EVEN=6,wr.ROUND_HALF_CEIL=7,wr.ROUND_HALF_FLOOR=8,wr.EUCLID=9,wr.config=wr.set=function(Pr){var Dr,Rr;if(Pr!=null)if(typeof Pr=="object"){if(Pr.hasOwnProperty(Dr="DECIMAL_PLACES")&&(Rr=Pr[Dr],hr(Rr,0,ir,Dr),Ut=Rr),Pr.hasOwnProperty(Dr="ROUNDING_MODE")&&(Rr=Pr[Dr],hr(Rr,0,8,Dr),tr=Rr),Pr.hasOwnProperty(Dr="EXPONENTIAL_AT")&&(Rr=Pr[Dr],Rr&&Rr.pop?(hr(Rr[0],-ir,0,Dr),hr(Rr[1],0,ir,Dr),nr=Rr[0],rr=Rr[1]):(hr(Rr,-ir,ir,Dr),nr=-(rr=Rr<0?-Rr:Rr))),Pr.hasOwnProperty(Dr="RANGE"))if(Rr=Pr[Dr],Rr&&Rr.pop)hr(Rr[0],-ir,-1,Dr),hr(Rr[1],1,ir,Dr),ar=Rr[0],cr=Rr[1];else if(hr(Rr,-ir,ir,Dr),Rr)ar=-(cr=Rr<0?-Rr:Rr);else throw Error(Dt+Dr+" cannot be zero: "+Rr);if(Pr.hasOwnProperty(Dr="CRYPTO"))if(Rr=Pr[Dr],Rr===!!Rr)if(Rr)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))fr=Rr;else throw fr=!Rr,Error(Dt+"crypto unavailable");else fr=Rr;else throw Error(Dt+Dr+" not true or false: "+Rr);if(Pr.hasOwnProperty(Dr="MODULO_MODE")&&(Rr=Pr[Dr],hr(Rr,0,9,Dr),sr=Rr),Pr.hasOwnProperty(Dr="POW_PRECISION")&&(Rr=Pr[Dr],hr(Rr,0,ir,Dr),Yt=Rr),Pr.hasOwnProperty(Dr="FORMAT"))if(Rr=Pr[Dr],typeof Rr=="object")ur=Rr;else throw Error(Dt+Dr+" not an object: "+Rr);if(Pr.hasOwnProperty(Dr="ALPHABET"))if(Rr=Pr[Dr],typeof Rr=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Rr))yr=Rr.slice(0,10)=="0123456789",_r=Rr;else throw Error(Dt+Dr+" invalid: "+Rr)}else throw Error(Dt+"Object expected: "+Pr);return{DECIMAL_PLACES:Ut,ROUNDING_MODE:tr,EXPONENTIAL_AT:[nr,rr],RANGE:[ar,cr],CRYPTO:fr,MODULO_MODE:sr,POW_PRECISION:Yt,FORMAT:ur,ALPHABET:_r}},wr.isBigNumber=function(Pr){if(!Pr||Pr._isBigNumber!==!0)return!1;if(!wr.DEBUG)return!0;var Dr,Rr,Vr=Pr.c,an=Pr.e,Xr=Pr.s;e:if({}.toString.call(Vr)=="[object Array]"){if((Xr===1||Xr===-1)&&an>=-ir&&an<=ir&&an===Ct(an)){if(Vr[0]===0){if(an===0&&Vr.length===1)return!0;break e}if(Dr=(an+1)%jt,Dr<1&&(Dr+=jt),String(Vr[0]).length==Dr){for(Dr=0;Dr<Vr.length;Dr++)if(Rr=Vr[Dr],Rr<0||Rr>=Nt||Rr!==Ct(Rr))break e;if(Rr!==0)return!0}}}else if(Vr===null&&an===null&&(Xr===null||Xr===1||Xr===-1))return!0;throw Error(Dt+"Invalid BigNumber: "+Pr)},wr.maximum=wr.max=function(){return Or(arguments,-1)},wr.minimum=wr.min=function(){return Or(arguments,1)},wr.random=function(){var Pr=9007199254740992,Dr=Math.random()*Pr&2097151?function(){return Ct(Math.random()*Pr)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Rr){var Vr,an,Xr,Jr,Zr,Gr=0,zr=[],Dn=new wr(gr);if(Rr==null?Rr=Ut:hr(Rr,0,ir),Jr=$t(Rr/jt),fr)if(crypto.getRandomValues){for(Vr=crypto.getRandomValues(new Uint32Array(Jr*=2));Gr<Jr;)Zr=Vr[Gr]*131072+(Vr[Gr+1]>>>11),Zr>=9e15?(an=crypto.getRandomValues(new Uint32Array(2)),Vr[Gr]=an[0],Vr[Gr+1]=an[1]):(zr.push(Zr%1e14),Gr+=2);Gr=Jr/2}else if(crypto.randomBytes){for(Vr=crypto.randomBytes(Jr*=7);Gr<Jr;)Zr=(Vr[Gr]&31)*281474976710656+Vr[Gr+1]*1099511627776+Vr[Gr+2]*4294967296+Vr[Gr+3]*16777216+(Vr[Gr+4]<<16)+(Vr[Gr+5]<<8)+Vr[Gr+6],Zr>=9e15?crypto.randomBytes(7).copy(Vr,Gr):(zr.push(Zr%1e14),Gr+=7);Gr=Jr/7}else throw fr=!1,Error(Dt+"crypto unavailable");if(!fr)for(;Gr<Jr;)Zr=Dr(),Zr<9e15&&(zr[Gr++]=Zr%1e14);for(Jr=zr[--Gr],Rr%=jt,Jr&&Rr&&(Zr=Vt[jt-Rr],zr[Gr]=Ct(Jr/Zr)*Zr);zr[Gr]===0;zr.pop(),Gr--);if(Gr<0)zr=[Xr=0];else{for(Xr=-1;zr[0]===0;zr.splice(0,1),Xr-=jt);for(Gr=1,Zr=zr[0];Zr>=10;Zr/=10,Gr++);Gr<jt&&(Xr-=jt-Gr)}return Dn.e=Xr,Dn.c=zr,Dn}}(),wr.sum=function(){for(var Pr=1,Dr=arguments,Rr=new wr(Dr[0]);Pr<Dr.length;)Rr=Rr.plus(Dr[Pr++]);return Rr},$r=function(){var Pr="0123456789";function Dr(Rr,Vr,an,Xr){for(var Jr,Zr=[0],Gr,zr=0,Dn=Rr.length;zr<Dn;){for(Gr=Zr.length;Gr--;Zr[Gr]*=Vr);for(Zr[0]+=Xr.indexOf(Rr.charAt(zr++)),Jr=0;Jr<Zr.length;Jr++)Zr[Jr]>an-1&&(Zr[Jr+1]==null&&(Zr[Jr+1]=0),Zr[Jr+1]+=Zr[Jr]/an|0,Zr[Jr]%=an)}return Zr.reverse()}return function(Rr,Vr,an,Xr,Jr){var Zr,Gr,zr,Dn,Qr,Un,ro,Hn,Qn=Rr.indexOf("."),$o=Ut,Kn=tr;for(Qn>=0&&(Dn=Yt,Yt=0,Rr=Rr.replace(".",""),Hn=new wr(Vr),Un=Hn.pow(Rr.length-Qn),Yt=Dn,Hn.c=Dr(xr(dr(Un.c),Un.e,"0"),10,an,Pr),Hn.e=Hn.c.length),ro=Dr(Rr,Vr,an,Jr?(Zr=_r,Pr):(Zr=Pr,_r)),zr=Dn=ro.length;ro[--Dn]==0;ro.pop());if(!ro[0])return Zr.charAt(0);if(Qn<0?--zr:(Un.c=ro,Un.e=zr,Un.s=Xr,Un=Er(Un,Hn,$o,Kn,an),ro=Un.c,Qr=Un.r,zr=Un.e),Gr=zr+$o+1,Qn=ro[Gr],Dn=an/2,Qr=Qr||Gr<0||ro[Gr+1]!=null,Qr=Kn<4?(Qn!=null||Qr)&&(Kn==0||Kn==(Un.s<0?3:2)):Qn>Dn||Qn==Dn&&(Kn==4||Qr||Kn==6&&ro[Gr-1]&1||Kn==(Un.s<0?8:7)),Gr<1||!ro[0])Rr=Qr?xr(Zr.charAt(1),-$o,Zr.charAt(0)):Zr.charAt(0);else{if(ro.length=Gr,Qr)for(--an;++ro[--Gr]>an;)ro[Gr]=0,Gr||(++zr,ro=[1].concat(ro));for(Dn=ro.length;!ro[--Dn];);for(Qn=0,Rr="";Qn<=Dn;Rr+=Zr.charAt(ro[Qn++]));Rr=xr(Rr,zr,Zr.charAt(0))}return Rr}}(),Er=function(){function Pr(Vr,an,Xr){var Jr,Zr,Gr,zr,Dn=0,Qr=Vr.length,Un=an%er,ro=an/er|0;for(Vr=Vr.slice();Qr--;)Gr=Vr[Qr]%er,zr=Vr[Qr]/er|0,Jr=ro*Gr+zr*Un,Zr=Un*Gr+Jr%er*er+Dn,Dn=(Zr/Xr|0)+(Jr/er|0)+ro*zr,Vr[Qr]=Zr%Xr;return Dn&&(Vr=[Dn].concat(Vr)),Vr}function Dr(Vr,an,Xr,Jr){var Zr,Gr;if(Xr!=Jr)Gr=Xr>Jr?1:-1;else for(Zr=Gr=0;Zr<Xr;Zr++)if(Vr[Zr]!=an[Zr]){Gr=Vr[Zr]>an[Zr]?1:-1;break}return Gr}function Rr(Vr,an,Xr,Jr){for(var Zr=0;Xr--;)Vr[Xr]-=Zr,Zr=Vr[Xr]<an[Xr]?1:0,Vr[Xr]=Zr*Jr+Vr[Xr]-an[Xr];for(;!Vr[0]&&Vr.length>1;Vr.splice(0,1));}return function(Vr,an,Xr,Jr,Zr){var Gr,zr,Dn,Qr,Un,ro,Hn,Qn,$o,Kn,_i,Lo,jr,Tr,Fr,Wr,sn,Jn=Vr.s==an.s?1:-1,Nn=Vr.c,Zn=an.c;if(!Nn||!Nn[0]||!Zn||!Zn[0])return new wr(!Vr.s||!an.s||(Nn?Zn&&Nn[0]==Zn[0]:!Zn)?NaN:Nn&&Nn[0]==0||!Zn?Jn*0:Jn/0);for(Qn=new wr(Jn),$o=Qn.c=[],zr=Vr.e-an.e,Jn=Xr+zr+1,Zr||(Zr=Nt,zr=lr(Vr.e/jt)-lr(an.e/jt),Jn=Jn/jt|0),Dn=0;Zn[Dn]==(Nn[Dn]||0);Dn++);if(Zn[Dn]>(Nn[Dn]||0)&&zr--,Jn<0)$o.push(1),Qr=!0;else{for(Tr=Nn.length,Wr=Zn.length,Dn=0,Jn+=2,Un=Ct(Zr/(Zn[0]+1)),Un>1&&(Zn=Pr(Zn,Un,Zr),Nn=Pr(Nn,Un,Zr),Wr=Zn.length,Tr=Nn.length),jr=Wr,Kn=Nn.slice(0,Wr),_i=Kn.length;_i<Wr;Kn[_i++]=0);sn=Zn.slice(),sn=[0].concat(sn),Fr=Zn[0],Zn[1]>=Zr/2&&Fr++;do{if(Un=0,Gr=Dr(Zn,Kn,Wr,_i),Gr<0){if(Lo=Kn[0],Wr!=_i&&(Lo=Lo*Zr+(Kn[1]||0)),Un=Ct(Lo/Fr),Un>1)for(Un>=Zr&&(Un=Zr-1),ro=Pr(Zn,Un,Zr),Hn=ro.length,_i=Kn.length;Dr(ro,Kn,Hn,_i)==1;)Un--,Rr(ro,Wr<Hn?sn:Zn,Hn,Zr),Hn=ro.length,Gr=1;else Un==0&&(Gr=Un=1),ro=Zn.slice(),Hn=ro.length;if(Hn<_i&&(ro=[0].concat(ro)),Rr(Kn,ro,_i,Zr),_i=Kn.length,Gr==-1)for(;Dr(Zn,Kn,Wr,_i)<1;)Un++,Rr(Kn,Wr<_i?sn:Zn,_i,Zr),_i=Kn.length}else Gr===0&&(Un++,Kn=[0]);$o[Dn++]=Un,Kn[0]?Kn[_i++]=Nn[jr]||0:(Kn=[Nn[jr]],_i=1)}while((jr++<Tr||Kn[0]!=null)&&Jn--);Qr=Kn[0]!=null,$o[0]||$o.splice(0,1)}if(Zr==Nt){for(Dn=1,Jn=$o[0];Jn>=10;Jn/=10,Dn++);Nr(Qn,Xr+(Qn.e=Dn+zr*jt-1)+1,Jr,Qr)}else Qn.e=zr,Qn.r=+Qr;return Qn}}();function Ir(Pr,Dr,Rr,Vr){var an,Xr,Jr,Zr,Gr;if(Rr==null?Rr=tr:hr(Rr,0,8),!Pr.c)return Pr.toString();if(an=Pr.c[0],Jr=Pr.e,Dr==null)Gr=dr(Pr.c),Gr=Vr==1||Vr==2&&(Jr<=nr||Jr>=rr)?br(Gr,Jr):xr(Gr,Jr,"0");else if(Pr=Nr(new wr(Pr),Dr,Rr),Xr=Pr.e,Gr=dr(Pr.c),Zr=Gr.length,Vr==1||Vr==2&&(Dr<=Xr||Xr<=nr)){for(;Zr<Dr;Gr+="0",Zr++);Gr=br(Gr,Xr)}else if(Dr-=Jr,Gr=xr(Gr,Xr,"0"),Xr+1>Zr){if(--Dr>0)for(Gr+=".";Dr--;Gr+="0");}else if(Dr+=Xr-Zr,Dr>0)for(Xr+1==Zr&&(Gr+=".");Dr--;Gr+="0");return Pr.s<0&&an?"-"+Gr:Gr}function Or(Pr,Dr){for(var Rr,Vr,an=1,Xr=new wr(Pr[0]);an<Pr.length;an++)Vr=new wr(Pr[an]),(!Vr.s||(Rr=pr(Xr,Vr))===Dr||Rr===0&&Xr.s===Dr)&&(Xr=Vr);return Xr}function Ar(Pr,Dr,Rr){for(var Vr=1,an=Dr.length;!Dr[--an];Dr.pop());for(an=Dr[0];an>=10;an/=10,Vr++);return(Rr=Vr+Rr*jt-1)>cr?Pr.c=Pr.e=null:Rr<ar?Pr.c=[Pr.e=0]:(Pr.e=Rr,Pr.c=Dr),Pr}Cr=function(){var Pr=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Dr=/^([^.]+)\.$/,Rr=/^\.([^.]+)$/,Vr=/^-?(Infinity|NaN)$/,an=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Xr,Jr,Zr,Gr){var zr,Dn=Zr?Jr:Jr.replace(an,"");if(Vr.test(Dn))Xr.s=isNaN(Dn)?null:Dn<0?-1:1;else{if(!Zr&&(Dn=Dn.replace(Pr,function(Qr,Un,ro){return zr=(ro=ro.toLowerCase())=="x"?16:ro=="b"?2:8,!Gr||Gr==zr?Un:Qr}),Gr&&(zr=Gr,Dn=Dn.replace(Dr,"$1").replace(Rr,"0.$1")),Jr!=Dn))return new wr(Dn,zr);if(wr.DEBUG)throw Error(Dt+"Not a"+(Gr?" base "+Gr:"")+" number: "+Jr);Xr.s=null}Xr.c=Xr.e=null}}();function Nr(Pr,Dr,Rr,Vr){var an,Xr,Jr,Zr,Gr,zr,Dn,Qr=Pr.c,Un=Vt;if(Qr){e:{for(an=1,Zr=Qr[0];Zr>=10;Zr/=10,an++);if(Xr=Dr-an,Xr<0)Xr+=jt,Jr=Dr,Gr=Qr[zr=0],Dn=Ct(Gr/Un[an-Jr-1]%10);else if(zr=$t((Xr+1)/jt),zr>=Qr.length)if(Vr){for(;Qr.length<=zr;Qr.push(0));Gr=Dn=0,an=1,Xr%=jt,Jr=Xr-jt+1}else break e;else{for(Gr=Zr=Qr[zr],an=1;Zr>=10;Zr/=10,an++);Xr%=jt,Jr=Xr-jt+an,Dn=Jr<0?0:Ct(Gr/Un[an-Jr-1]%10)}if(Vr=Vr||Dr<0||Qr[zr+1]!=null||(Jr<0?Gr:Gr%Un[an-Jr-1]),Vr=Rr<4?(Dn||Vr)&&(Rr==0||Rr==(Pr.s<0?3:2)):Dn>5||Dn==5&&(Rr==4||Vr||Rr==6&&(Xr>0?Jr>0?Gr/Un[an-Jr]:0:Qr[zr-1])%10&1||Rr==(Pr.s<0?8:7)),Dr<1||!Qr[0])return Qr.length=0,Vr?(Dr-=Pr.e+1,Qr[0]=Un[(jt-Dr%jt)%jt],Pr.e=-Dr||0):Qr[0]=Pr.e=0,Pr;if(Xr==0?(Qr.length=zr,Zr=1,zr--):(Qr.length=zr+1,Zr=Un[jt-Xr],Qr[zr]=Jr>0?Ct(Gr/Un[an-Jr]%Un[Jr])*Zr:0),Vr)for(;;)if(zr==0){for(Xr=1,Jr=Qr[0];Jr>=10;Jr/=10,Xr++);for(Jr=Qr[0]+=Zr,Zr=1;Jr>=10;Jr/=10,Zr++);Xr!=Zr&&(Pr.e++,Qr[0]==Nt&&(Qr[0]=1));break}else{if(Qr[zr]+=Zr,Qr[zr]!=Nt)break;Qr[zr--]=0,Zr=1}for(Xr=Qr.length;Qr[--Xr]===0;Qr.pop());}Pr.e>cr?Pr.c=Pr.e=null:Pr.e<ar&&(Pr.c=[Pr.e=0])}return Pr}function Hr(Pr){var Dr,Rr=Pr.e;return Rr===null?Pr.toString():(Dr=dr(Pr.c),Dr=Rr<=nr||Rr>=rr?br(Dr,Rr):xr(Dr,Rr,"0"),Pr.s<0?"-"+Dr:Dr)}return kr.absoluteValue=kr.abs=function(){var Pr=new wr(this);return Pr.s<0&&(Pr.s=1),Pr},kr.comparedTo=function(Pr,Dr){return pr(this,new wr(Pr,Dr))},kr.decimalPlaces=kr.dp=function(Pr,Dr){var Rr,Vr,an,Xr=this;if(Pr!=null)return hr(Pr,0,ir),Dr==null?Dr=tr:hr(Dr,0,8),Nr(new wr(Xr),Pr+Xr.e+1,Dr);if(!(Rr=Xr.c))return null;if(Vr=((an=Rr.length-1)-lr(this.e/jt))*jt,an=Rr[an])for(;an%10==0;an/=10,Vr--);return Vr<0&&(Vr=0),Vr},kr.dividedBy=kr.div=function(Pr,Dr){return Er(this,new wr(Pr,Dr),Ut,tr)},kr.dividedToIntegerBy=kr.idiv=function(Pr,Dr){return Er(this,new wr(Pr,Dr),0,1)},kr.exponentiatedBy=kr.pow=function(Pr,Dr){var Rr,Vr,an,Xr,Jr,Zr,Gr,zr,Dn,Qr=this;if(Pr=new wr(Pr),Pr.c&&!Pr.isInteger())throw Error(Dt+"Exponent not an integer: "+Hr(Pr));if(Dr!=null&&(Dr=new wr(Dr)),Zr=Pr.e>14,!Qr.c||!Qr.c[0]||Qr.c[0]==1&&!Qr.e&&Qr.c.length==1||!Pr.c||!Pr.c[0])return Dn=new wr(Math.pow(+Hr(Qr),Zr?Pr.s*(2-vr(Pr)):+Hr(Pr))),Dr?Dn.mod(Dr):Dn;if(Gr=Pr.s<0,Dr){if(Dr.c?!Dr.c[0]:!Dr.s)return new wr(NaN);Vr=!Gr&&Qr.isInteger()&&Dr.isInteger(),Vr&&(Qr=Qr.mod(Dr))}else{if(Pr.e>9&&(Qr.e>0||Qr.e<-1||(Qr.e==0?Qr.c[0]>1||Zr&&Qr.c[1]>=24e7:Qr.c[0]<8e13||Zr&&Qr.c[0]<=9999975e7)))return Xr=Qr.s<0&&vr(Pr)?-0:0,Qr.e>-1&&(Xr=1/Xr),new wr(Gr?1/Xr:Xr);Yt&&(Xr=$t(Yt/jt+2))}for(Zr?(Rr=new wr(.5),Gr&&(Pr.s=1),zr=vr(Pr)):(an=Math.abs(+Hr(Pr)),zr=an%2),Dn=new wr(gr);;){if(zr){if(Dn=Dn.times(Qr),!Dn.c)break;Xr?Dn.c.length>Xr&&(Dn.c.length=Xr):Vr&&(Dn=Dn.mod(Dr))}if(an){if(an=Ct(an/2),an===0)break;zr=an%2}else if(Pr=Pr.times(Rr),Nr(Pr,Pr.e+1,1),Pr.e>14)zr=vr(Pr);else{if(an=+Hr(Pr),an===0)break;zr=an%2}Qr=Qr.times(Qr),Xr?Qr.c&&Qr.c.length>Xr&&(Qr.c.length=Xr):Vr&&(Qr=Qr.mod(Dr))}return Vr?Dn:(Gr&&(Dn=gr.div(Dn)),Dr?Dn.mod(Dr):Xr?Nr(Dn,Yt,tr,Jr):Dn)},kr.integerValue=function(Pr){var Dr=new wr(this);return Pr==null?Pr=tr:hr(Pr,0,8),Nr(Dr,Dr.e+1,Pr)},kr.isEqualTo=kr.eq=function(Pr,Dr){return pr(this,new wr(Pr,Dr))===0},kr.isFinite=function(){return!!this.c},kr.isGreaterThan=kr.gt=function(Pr,Dr){return pr(this,new wr(Pr,Dr))>0},kr.isGreaterThanOrEqualTo=kr.gte=function(Pr,Dr){return(Dr=pr(this,new wr(Pr,Dr)))===1||Dr===0},kr.isInteger=function(){return!!this.c&&lr(this.e/jt)>this.c.length-2},kr.isLessThan=kr.lt=function(Pr,Dr){return pr(this,new wr(Pr,Dr))<0},kr.isLessThanOrEqualTo=kr.lte=function(Pr,Dr){return(Dr=pr(this,new wr(Pr,Dr)))===-1||Dr===0},kr.isNaN=function(){return!this.s},kr.isNegative=function(){return this.s<0},kr.isPositive=function(){return this.s>0},kr.isZero=function(){return!!this.c&&this.c[0]==0},kr.minus=function(Pr,Dr){var Rr,Vr,an,Xr,Jr=this,Zr=Jr.s;if(Pr=new wr(Pr,Dr),Dr=Pr.s,!Zr||!Dr)return new wr(NaN);if(Zr!=Dr)return Pr.s=-Dr,Jr.plus(Pr);var Gr=Jr.e/jt,zr=Pr.e/jt,Dn=Jr.c,Qr=Pr.c;if(!Gr||!zr){if(!Dn||!Qr)return Dn?(Pr.s=-Dr,Pr):new wr(Qr?Jr:NaN);if(!Dn[0]||!Qr[0])return Qr[0]?(Pr.s=-Dr,Pr):new wr(Dn[0]?Jr:tr==3?-0:0)}if(Gr=lr(Gr),zr=lr(zr),Dn=Dn.slice(),Zr=Gr-zr){for((Xr=Zr<0)?(Zr=-Zr,an=Dn):(zr=Gr,an=Qr),an.reverse(),Dr=Zr;Dr--;an.push(0));an.reverse()}else for(Vr=(Xr=(Zr=Dn.length)<(Dr=Qr.length))?Zr:Dr,Zr=Dr=0;Dr<Vr;Dr++)if(Dn[Dr]!=Qr[Dr]){Xr=Dn[Dr]<Qr[Dr];break}if(Xr&&(an=Dn,Dn=Qr,Qr=an,Pr.s=-Pr.s),Dr=(Vr=Qr.length)-(Rr=Dn.length),Dr>0)for(;Dr--;Dn[Rr++]=0);for(Dr=Nt-1;Vr>Zr;){if(Dn[--Vr]<Qr[Vr]){for(Rr=Vr;Rr&&!Dn[--Rr];Dn[Rr]=Dr);--Dn[Rr],Dn[Vr]+=Nt}Dn[Vr]-=Qr[Vr]}for(;Dn[0]==0;Dn.splice(0,1),--zr);return Dn[0]?Ar(Pr,Dn,zr):(Pr.s=tr==3?-1:1,Pr.c=[Pr.e=0],Pr)},kr.modulo=kr.mod=function(Pr,Dr){var Rr,Vr,an=this;return Pr=new wr(Pr,Dr),!an.c||!Pr.s||Pr.c&&!Pr.c[0]?new wr(NaN):!Pr.c||an.c&&!an.c[0]?new wr(an):(sr==9?(Vr=Pr.s,Pr.s=1,Rr=Er(an,Pr,0,3),Pr.s=Vr,Rr.s*=Vr):Rr=Er(an,Pr,0,sr),Pr=an.minus(Rr.times(Pr)),!Pr.c[0]&&sr==1&&(Pr.s=an.s),Pr)},kr.multipliedBy=kr.times=function(Pr,Dr){var Rr,Vr,an,Xr,Jr,Zr,Gr,zr,Dn,Qr,Un,ro,Hn,Qn,$o,Kn=this,_i=Kn.c,Lo=(Pr=new wr(Pr,Dr)).c;if(!_i||!Lo||!_i[0]||!Lo[0])return!Kn.s||!Pr.s||_i&&!_i[0]&&!Lo||Lo&&!Lo[0]&&!_i?Pr.c=Pr.e=Pr.s=null:(Pr.s*=Kn.s,!_i||!Lo?Pr.c=Pr.e=null:(Pr.c=[0],Pr.e=0)),Pr;for(Vr=lr(Kn.e/jt)+lr(Pr.e/jt),Pr.s*=Kn.s,Gr=_i.length,Qr=Lo.length,Gr<Qr&&(Hn=_i,_i=Lo,Lo=Hn,an=Gr,Gr=Qr,Qr=an),an=Gr+Qr,Hn=[];an--;Hn.push(0));for(Qn=Nt,$o=er,an=Qr;--an>=0;){for(Rr=0,Un=Lo[an]%$o,ro=Lo[an]/$o|0,Jr=Gr,Xr=an+Jr;Xr>an;)zr=_i[--Jr]%$o,Dn=_i[Jr]/$o|0,Zr=ro*zr+Dn*Un,zr=Un*zr+Zr%$o*$o+Hn[Xr]+Rr,Rr=(zr/Qn|0)+(Zr/$o|0)+ro*Dn,Hn[Xr--]=zr%Qn;Hn[Xr]=Rr}return Rr?++Vr:Hn.splice(0,1),Ar(Pr,Hn,Vr)},kr.negated=function(){var Pr=new wr(this);return Pr.s=-Pr.s||null,Pr},kr.plus=function(Pr,Dr){var Rr,Vr=this,an=Vr.s;if(Pr=new wr(Pr,Dr),Dr=Pr.s,!an||!Dr)return new wr(NaN);if(an!=Dr)return Pr.s=-Dr,Vr.minus(Pr);var Xr=Vr.e/jt,Jr=Pr.e/jt,Zr=Vr.c,Gr=Pr.c;if(!Xr||!Jr){if(!Zr||!Gr)return new wr(an/0);if(!Zr[0]||!Gr[0])return Gr[0]?Pr:new wr(Zr[0]?Vr:an*0)}if(Xr=lr(Xr),Jr=lr(Jr),Zr=Zr.slice(),an=Xr-Jr){for(an>0?(Jr=Xr,Rr=Gr):(an=-an,Rr=Zr),Rr.reverse();an--;Rr.push(0));Rr.reverse()}for(an=Zr.length,Dr=Gr.length,an-Dr<0&&(Rr=Gr,Gr=Zr,Zr=Rr,Dr=an),an=0;Dr;)an=(Zr[--Dr]=Zr[Dr]+Gr[Dr]+an)/Nt|0,Zr[Dr]=Nt===Zr[Dr]?0:Zr[Dr]%Nt;return an&&(Zr=[an].concat(Zr),++Jr),Ar(Pr,Zr,Jr)},kr.precision=kr.sd=function(Pr,Dr){var Rr,Vr,an,Xr=this;if(Pr!=null&&Pr!==!!Pr)return hr(Pr,1,ir),Dr==null?Dr=tr:hr(Dr,0,8),Nr(new wr(Xr),Pr,Dr);if(!(Rr=Xr.c))return null;if(an=Rr.length-1,Vr=an*jt+1,an=Rr[an]){for(;an%10==0;an/=10,Vr--);for(an=Rr[0];an>=10;an/=10,Vr++);}return Pr&&Xr.e+1>Vr&&(Vr=Xr.e+1),Vr},kr.shiftedBy=function(Pr){return hr(Pr,-Lt,Lt),this.times("1e"+Pr)},kr.squareRoot=kr.sqrt=function(){var Pr,Dr,Rr,Vr,an,Xr=this,Jr=Xr.c,Zr=Xr.s,Gr=Xr.e,zr=Ut+4,Dn=new wr("0.5");if(Zr!==1||!Jr||!Jr[0])return new wr(!Zr||Zr<0&&(!Jr||Jr[0])?NaN:Jr?Xr:1/0);if(Zr=Math.sqrt(+Hr(Xr)),Zr==0||Zr==1/0?(Dr=dr(Jr),(Dr.length+Gr)%2==0&&(Dr+="0"),Zr=Math.sqrt(+Dr),Gr=lr((Gr+1)/2)-(Gr<0||Gr%2),Zr==1/0?Dr="5e"+Gr:(Dr=Zr.toExponential(),Dr=Dr.slice(0,Dr.indexOf("e")+1)+Gr),Rr=new wr(Dr)):Rr=new wr(Zr+""),Rr.c[0]){for(Gr=Rr.e,Zr=Gr+zr,Zr<3&&(Zr=0);;)if(an=Rr,Rr=Dn.times(an.plus(Er(Xr,an,zr,1))),dr(an.c).slice(0,Zr)===(Dr=dr(Rr.c)).slice(0,Zr))if(Rr.e<Gr&&--Zr,Dr=Dr.slice(Zr-3,Zr+1),Dr=="9999"||!Vr&&Dr=="4999"){if(!Vr&&(Nr(an,an.e+Ut+2,0),an.times(an).eq(Xr))){Rr=an;break}zr+=4,Zr+=4,Vr=1}else{(!+Dr||!+Dr.slice(1)&&Dr.charAt(0)=="5")&&(Nr(Rr,Rr.e+Ut+2,1),Pr=!Rr.times(Rr).eq(Xr));break}}return Nr(Rr,Rr.e+Ut+1,tr,Pr)},kr.toExponential=function(Pr,Dr){return Pr!=null&&(hr(Pr,0,ir),Pr++),Ir(this,Pr,Dr,1)},kr.toFixed=function(Pr,Dr){return Pr!=null&&(hr(Pr,0,ir),Pr=Pr+this.e+1),Ir(this,Pr,Dr)},kr.toFormat=function(Pr,Dr,Rr){var Vr,an=this;if(Rr==null)Pr!=null&&Dr&&typeof Dr=="object"?(Rr=Dr,Dr=null):Pr&&typeof Pr=="object"?(Rr=Pr,Pr=Dr=null):Rr=ur;else if(typeof Rr!="object")throw Error(Dt+"Argument not an object: "+Rr);if(Vr=an.toFixed(Pr,Dr),an.c){var Xr,Jr=Vr.split("."),Zr=+Rr.groupSize,Gr=+Rr.secondaryGroupSize,zr=Rr.groupSeparator||"",Dn=Jr[0],Qr=Jr[1],Un=an.s<0,ro=Un?Dn.slice(1):Dn,Hn=ro.length;if(Gr&&(Xr=Zr,Zr=Gr,Gr=Xr,Hn-=Xr),Zr>0&&Hn>0){for(Xr=Hn%Zr||Zr,Dn=ro.substr(0,Xr);Xr<Hn;Xr+=Zr)Dn+=zr+ro.substr(Xr,Zr);Gr>0&&(Dn+=zr+ro.slice(Xr)),Un&&(Dn="-"+Dn)}Vr=Qr?Dn+(Rr.decimalSeparator||"")+((Gr=+Rr.fractionGroupSize)?Qr.replace(new RegExp("\\d{"+Gr+"}\\B","g"),"$&"+(Rr.fractionGroupSeparator||"")):Qr):Dn}return(Rr.prefix||"")+Vr+(Rr.suffix||"")},kr.toFraction=function(Pr){var Dr,Rr,Vr,an,Xr,Jr,Zr,Gr,zr,Dn,Qr,Un,ro=this,Hn=ro.c;if(Pr!=null&&(Zr=new wr(Pr),!Zr.isInteger()&&(Zr.c||Zr.s!==1)||Zr.lt(gr)))throw Error(Dt+"Argument "+(Zr.isInteger()?"out of range: ":"not an integer: ")+Hr(Zr));if(!Hn)return new wr(ro);for(Dr=new wr(gr),zr=Rr=new wr(gr),Vr=Gr=new wr(gr),Un=dr(Hn),Xr=Dr.e=Un.length-ro.e-1,Dr.c[0]=Vt[(Jr=Xr%jt)<0?jt+Jr:Jr],Pr=!Pr||Zr.comparedTo(Dr)>0?Xr>0?Dr:zr:Zr,Jr=cr,cr=1/0,Zr=new wr(Un),Gr.c[0]=0;Dn=Er(Zr,Dr,0,1),an=Rr.plus(Dn.times(Vr)),an.comparedTo(Pr)!=1;)Rr=Vr,Vr=an,zr=Gr.plus(Dn.times(an=zr)),Gr=an,Dr=Zr.minus(Dn.times(an=Dr)),Zr=an;return an=Er(Pr.minus(Rr),Vr,0,1),Gr=Gr.plus(an.times(zr)),Rr=Rr.plus(an.times(Vr)),Gr.s=zr.s=ro.s,Xr=Xr*2,Qr=Er(zr,Vr,Xr,tr).minus(ro).abs().comparedTo(Er(Gr,Rr,Xr,tr).minus(ro).abs())<1?[zr,Vr]:[Gr,Rr],cr=Jr,Qr},kr.toNumber=function(){return+Hr(this)},kr.toPrecision=function(Pr,Dr){return Pr!=null&&hr(Pr,1,ir),Ir(this,Pr,Dr,2)},kr.toString=function(Pr){var Dr,Rr=this,Vr=Rr.s,an=Rr.e;return an===null?Vr?(Dr="Infinity",Vr<0&&(Dr="-"+Dr)):Dr="NaN":(Pr==null?Dr=an<=nr||an>=rr?br(dr(Rr.c),an):xr(dr(Rr.c),an,"0"):Pr===10&&yr?(Rr=Nr(new wr(Rr),Ut+an+1,tr),Dr=xr(dr(Rr.c),Rr.e,"0")):(hr(Pr,2,_r.length,"Base"),Dr=$r(xr(dr(Rr.c),an,"0"),10,Pr,Vr,!0)),Vr<0&&Rr.c[0]&&(Dr="-"+Dr)),Dr},kr.valueOf=kr.toJSON=function(){return Hr(this)},kr._isBigNumber=!0,Sr!=null&&wr.set(Sr),wr}function lr(Sr){var Er=Sr|0;return Sr>0||Sr===Er?Er:Er-1}function dr(Sr){for(var Er,$r,Cr=1,kr=Sr.length,gr=Sr[0]+"";Cr<kr;){for(Er=Sr[Cr++]+"",$r=jt-Er.length;$r--;Er="0"+Er);gr+=Er}for(kr=gr.length;gr.charCodeAt(--kr)===48;);return gr.slice(0,kr+1||1)}function pr(Sr,Er){var $r,Cr,kr=Sr.c,gr=Er.c,Ut=Sr.s,tr=Er.s,nr=Sr.e,rr=Er.e;if(!Ut||!tr)return null;if($r=kr&&!kr[0],Cr=gr&&!gr[0],$r||Cr)return $r?Cr?0:-tr:Ut;if(Ut!=tr)return Ut;if($r=Ut<0,Cr=nr==rr,!kr||!gr)return Cr?0:!kr^$r?1:-1;if(!Cr)return nr>rr^$r?1:-1;for(tr=(nr=kr.length)<(rr=gr.length)?nr:rr,Ut=0;Ut<tr;Ut++)if(kr[Ut]!=gr[Ut])return kr[Ut]>gr[Ut]^$r?1:-1;return nr==rr?0:nr>rr^$r?1:-1}function hr(Sr,Er,$r,Cr){if(Sr<Er||Sr>$r||Sr!==Ct(Sr))throw Error(Dt+(Cr||"Argument")+(typeof Sr=="number"?Sr<Er||Sr>$r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Sr))}function vr(Sr){var Er=Sr.c.length-1;return lr(Sr.e/jt)==Er&&Sr.c[Er]%2!=0}function br(Sr,Er){return(Sr.length>1?Sr.charAt(0)+"."+Sr.slice(1):Sr)+(Er<0?"e":"e+")+Er}function xr(Sr,Er,$r){var Cr,kr;if(Er<0){for(kr=$r+".";++Er;kr+=$r);Sr=kr+Sr}else if(Cr=Sr.length,++Er>Cr){for(kr=$r,Er-=Cr;--Er;kr+=$r);Sr+=kr}else Er<Cr&&(Sr=Sr.slice(0,Er)+"."+Sr.slice(Er));return Sr}at=or(),at.default=at.BigNumber=at,nt.exports?nt.exports=at:(et||(et=typeof self<"u"&&self?self:window),et.BigNumber=at)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const globalState$1=requireGlobalState(),validating=requireValidating(),parsing$1=parsing$2,BigNumber$1=bignumberExports,powers={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},defaultOptions={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes,decimalSuffixes}=globalState$1.currentBytes(),bytes={general:{scale:1024,suffixes:decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:decimalSuffixes,marker:"d"}};function format$1(nt,et={},at){if(typeof et=="string"&&(et=parsing$1.parseFormat(et)),!validating.validateFormat(et))return"ERROR: invalid format";let $t=et.prefix||"",Ct=et.postfix||"",Dt=formatNumbro(nt,et,at);return Dt=insertPrefix(Dt,$t),Dt=insertPostfix(Dt,Ct),Dt}function formatNumbro(nt,et,at){switch(et.output){case"currency":return et=formatOrDefault(et,globalState$1.currentCurrencyDefaultFormat()),formatCurrency$2(nt,et,globalState$1);case"percent":return et=formatOrDefault(et,globalState$1.currentPercentageDefaultFormat()),formatPercentage$1(nt,et,globalState$1,at);case"byte":return et=formatOrDefault(et,globalState$1.currentByteDefaultFormat()),formatByte(nt,et,globalState$1,at);case"time":return et=formatOrDefault(et,globalState$1.currentTimeDefaultFormat()),formatTime(nt);case"ordinal":return et=formatOrDefault(et,globalState$1.currentOrdinalDefaultFormat()),formatOrdinal(nt,et,globalState$1);case"number":default:return formatNumber$1({instance:nt,providedFormat:et,numbro:at})}}function getDecimalByteUnit(nt){let et=bytes.decimal;return getFormatByteUnits(nt._value,et.suffixes,et.scale).suffix}function getBinaryByteUnit(nt){let et=bytes.binary;return getFormatByteUnits(nt._value,et.suffixes,et.scale).suffix}function getByteUnit(nt){let et=bytes.general;return getFormatByteUnits(nt._value,et.suffixes,et.scale).suffix}function getFormatByteUnits(nt,et,at){let mt=et[0],$t=Math.abs(nt);if($t>=at){for(let Ct=1;Ct<et.length;++Ct){let Dt=Math.pow(at,Ct),Ft=Math.pow(at,Ct+1);if($t>=Dt&&$t<Ft){mt=et[Ct],nt=nt/Dt;break}}mt===et[0]&&(nt=nt/Math.pow(at,et.length-1),mt=et[et.length-1])}return{value:nt,suffix:mt}}function formatByte(nt,et,at,mt){let $t=et.base||"binary",Ct=Object.assign({},defaultOptions,et);const{binarySuffixes:Dt,decimalSuffixes:Ft}=at.currentBytes();let jt={general:{scale:1024,suffixes:Ft||decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:Dt||binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:Ft||decimalSuffixes,marker:"d"}}[$t],{value:Lt,suffix:Vt}=getFormatByteUnits(nt._value,jt.suffixes,jt.scale);return`${formatNumber$1({instance:mt(Lt),providedFormat:et,state:at,defaults:at.currentByteDefaultFormat()})}${Ct.spaceSeparated?" ":""}${Vt}`}function formatOrdinal(nt,et,at){let mt=at.currentOrdinal(),$t=Object.assign({},defaultOptions,et),Ct=formatNumber$1({instance:nt,providedFormat:et,state:at}),Dt=mt(nt._value);return`${Ct}${$t.spaceSeparated?" ":""}${Dt}`}function formatTime(nt){let et=Math.floor(nt._value/60/60),at=Math.floor((nt._value-et*60*60)/60),mt=Math.round(nt._value-et*60*60-at*60);return`${et}:${at<10?"0":""}${at}:${mt<10?"0":""}${mt}`}function formatPercentage$1(nt,et,at,mt){let $t=et.prefixSymbol,Ct=formatNumber$1({instance:mt(nt._value*100),providedFormat:et,state:at}),Dt=Object.assign({},defaultOptions,et);return $t?`%${Dt.spaceSeparated?" ":""}${Ct}`:`${Ct}${Dt.spaceSeparated?" ":""}%`}function formatCurrency$2(nt,et,at){const mt=at.currentCurrency();let $t=Object.assign({},et),Ct=Object.assign({},defaultOptions,$t),Dt,Ft="",Nt=!!Ct.totalLength||!!Ct.forceAverage||Ct.average,jt=$t.currencyPosition||mt.position,Lt=$t.currencySymbol||mt.symbol;const Vt=Ct.spaceSeparatedCurrency!==void 0?Ct.spaceSeparatedCurrency:Ct.spaceSeparated;$t.lowPrecision===void 0&&($t.lowPrecision=!1),Vt&&(Ft=" "),jt==="infix"&&(Dt=Ft+Lt+Ft);let er=formatNumber$1({instance:nt,providedFormat:$t,state:at,decimalSeparator:Dt});return jt==="prefix"&&(nt._value<0&&Ct.negative==="sign"?er=`-${Ft}${Lt}${er.slice(1)}`:nt._value>0&&Ct.forceSign?er=`+${Ft}${Lt}${er.slice(1)}`:er=Lt+Ft+er),(!jt||jt==="postfix")&&(Ft=!Ct.spaceSeparatedAbbreviation&&Nt?"":Ft,er=er+Ft+Lt),er}function computeAverage({value:nt,forceAverage:et,lowPrecision:at=!0,abbreviations:mt,spaceSeparated:$t=!1,totalLength:Ct=0,roundingFunction:Dt=Math.round}){let Ft="",Nt=Math.abs(nt),jt=-1;if(et&&mt[et]&&powers[et]?(Ft=mt[et],nt=nt/powers[et]):Nt>=powers.trillion||at&&Dt(Nt/powers.trillion)===1?(Ft=mt.trillion,nt=nt/powers.trillion):Nt<powers.trillion&&Nt>=powers.billion||at&&Dt(Nt/powers.billion)===1?(Ft=mt.billion,nt=nt/powers.billion):Nt<powers.billion&&Nt>=powers.million||at&&Dt(Nt/powers.million)===1?(Ft=mt.million,nt=nt/powers.million):(Nt<powers.million&&Nt>=powers.thousand||at&&Dt(Nt/powers.thousand)===1)&&(Ft=mt.thousand,nt=nt/powers.thousand),Ft&&(Ft=($t?" ":"")+Ft),Ct){let Vt=nt<0,er=nt.toString().split(".")[0],ir=Vt?er.length-1:er.length;jt=Math.max(Ct-ir,0)}return{value:nt,abbreviation:Ft,mantissaPrecision:jt}}function computeExponential({value:nt,characteristicPrecision:et}){let[at,mt]=nt.toExponential().split("e"),$t=+at;if(!et)return{value:$t,abbreviation:`e${mt}`};let Ct=1;return Ct<et&&($t=$t*Math.pow(10,et-Ct),mt=+mt-(et-Ct),mt=mt>=0?`+${mt}`:mt),{value:$t,abbreviation:`e${mt}`}}function zeroes(nt){let et="";for(let at=0;at<nt;at++)et+="0";return et}function toFixedLarge(nt,et){let at=nt.toString(),[mt,$t]=at.split("e"),[Ct,Dt=""]=mt.split(".");if(+$t>0)at=Ct+Dt+zeroes($t-Dt.length);else{let Ft=".";+Ct<0?Ft=`-0${Ft}`:Ft=`0${Ft}`;let Nt=(zeroes(-$t-1)+Math.abs(Ct)+Dt).substr(0,et);Nt.length<et&&(Nt+=zeroes(et-Nt.length)),at=Ft+Nt}return+$t>0&&et>0&&(at+=`.${zeroes(et)}`),at}function toFixed(nt,et,at=Math.round){return nt.toString().indexOf("e")!==-1?toFixedLarge(nt,et):new BigNumber$1(at(+`${nt}e+${et}`)/Math.pow(10,et)).toFixed(et)}function setMantissaPrecision(nt,et,at,mt,$t,Ct){if(mt===-1)return nt;let Dt=toFixed(et,mt,Ct),[Ft,Nt=""]=Dt.toString().split(".");if(Nt.match(/^0+$/)&&(at||$t))return Ft;let jt=Nt.match(/0+$/);return $t&&jt?`${Ft}.${Nt.toString().slice(0,jt.index)}`:Dt.toString()}function setCharacteristicPrecision(nt,et,at,mt){let $t=nt,[Ct,Dt]=$t.toString().split(".");if(Ct.match(/^-?0$/)&&at)return Dt?`${Ct.replace("0","")}.${Dt}`:Ct.replace("0","");const Ft=et<0&&Ct.indexOf("-")===0;if(Ft&&(Ct=Ct.slice(1),$t=$t.slice(1)),Ct.length<mt){let Nt=mt-Ct.length;for(let jt=0;jt<Nt;jt++)$t=`0${$t}`}return Ft&&($t=`-${$t}`),$t.toString()}function indexesOfGroupSpaces(nt,et){let at=[],mt=0;for(let $t=nt;$t>0;$t--)mt===et&&(at.unshift($t),mt=0),mt++;return at}function replaceDelimiters(nt,et,at,mt,$t){let Ct=mt.currentDelimiters(),Dt=Ct.thousands;$t=$t||Ct.decimal;let Ft=Ct.thousandsSize||3,Nt=nt.toString(),jt=Nt.split(".")[0],Lt=Nt.split(".")[1];const Vt=et<0&&jt.indexOf("-")===0;return at&&(Vt&&(jt=jt.slice(1)),indexesOfGroupSpaces(jt.length,Ft).forEach((ir,or)=>{jt=jt.slice(0,ir+or)+Dt+jt.slice(ir+or)}),Vt&&(jt=`-${jt}`)),Lt?Nt=jt+$t+Lt:Nt=jt,Nt}function insertAbbreviation(nt,et){return nt+et}function insertSign(nt,et,at){return et===0?nt:+nt==0?nt.replace("-",""):et>0?`+${nt}`:at==="sign"?nt:`(${nt.replace("-","")})`}function insertPrefix(nt,et){return et+nt}function insertPostfix(nt,et){return nt+et}function formatNumber$1({instance:nt,providedFormat:et,state:at=globalState$1,decimalSeparator:mt,defaults:$t=at.currentDefaults()}){let Ct=nt._value;if(Ct===0&&at.hasZeroFormat())return at.getZeroFormat();if(!isFinite(Ct))return Ct.toString();let Dt=Object.assign({},defaultOptions,$t,et),Ft=Dt.totalLength,Nt=Ft?0:Dt.characteristic,jt=Dt.optionalCharacteristic,Lt=Dt.forceAverage,Vt=Dt.lowPrecision,er=!!Ft||!!Lt||Dt.average,ir=Ft?-1:er&&et.mantissa===void 0?0:Dt.mantissa,or=Ft?!1:et.optionalMantissa===void 0?ir===-1:Dt.optionalMantissa,lr=Dt.trimMantissa,dr=Dt.thousandSeparated,pr=Dt.spaceSeparated,hr=Dt.negative,vr=Dt.forceSign,br=Dt.exponential,xr=Dt.roundingFunction,Sr="";if(er){let $r=computeAverage({value:Ct,forceAverage:Lt,lowPrecision:Vt,abbreviations:at.currentAbbreviations(),spaceSeparated:pr,roundingFunction:xr,totalLength:Ft});Ct=$r.value,Sr+=$r.abbreviation,Ft&&(ir=$r.mantissaPrecision)}if(br){let $r=computeExponential({value:Ct,characteristicPrecision:Nt});Ct=$r.value,Sr=$r.abbreviation+Sr}let Er=setMantissaPrecision(Ct.toString(),Ct,or,ir,lr,xr);return Er=setCharacteristicPrecision(Er,Ct,jt,Nt),Er=replaceDelimiters(Er,Ct,dr,at,mt),(er||br)&&(Er=insertAbbreviation(Er,Sr)),(vr||Ct<0)&&(Er=insertSign(Er,Ct,hr)),Er}function formatOrDefault(nt,et){if(!nt)return et;let at=Object.keys(nt);return at.length===1&&at[0]==="output"?et:nt}var formatting=nt=>({format:(...et)=>format$1(...et,nt),getByteUnit:(...et)=>getByteUnit(...et,nt),getBinaryByteUnit:(...et)=>getBinaryByteUnit(...et,nt),getDecimalByteUnit:(...et)=>getDecimalByteUnit(...et,nt),formatOrDefault});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const BigNumber=bignumberExports;function add$1(nt,et,at){let mt=new BigNumber(nt._value),$t=et;return at.isNumbro(et)&&($t=et._value),$t=new BigNumber($t),nt._value=mt.plus($t).toNumber(),nt}function subtract(nt,et,at){let mt=new BigNumber(nt._value),$t=et;return at.isNumbro(et)&&($t=et._value),$t=new BigNumber($t),nt._value=mt.minus($t).toNumber(),nt}function multiply(nt,et,at){let mt=new BigNumber(nt._value),$t=et;return at.isNumbro(et)&&($t=et._value),$t=new BigNumber($t),nt._value=mt.times($t).toNumber(),nt}function divide$1(nt,et,at){let mt=new BigNumber(nt._value),$t=et;return at.isNumbro(et)&&($t=et._value),$t=new BigNumber($t),nt._value=mt.dividedBy($t).toNumber(),nt}function set(nt,et,at){let mt=et;return at.isNumbro(et)&&(mt=et._value),nt._value=mt,nt}function difference(nt,et,at){let mt=at(nt._value);return subtract(mt,et,at),Math.abs(mt._value)}var manipulating=nt=>({add:(et,at)=>add$1(et,at,nt),subtract:(et,at)=>subtract(et,at,nt),multiply:(et,at)=>multiply(et,at,nt),divide:(et,at)=>divide$1(et,at,nt),set:(et,at)=>set(et,at,nt),difference:(et,at)=>difference(et,at,nt),BigNumber});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const VERSION="2.5.0",globalState=requireGlobalState(),validator=requireValidating(),loader=loading(numbro),unformatter=requireUnformatting();let formatter=formatting(numbro),manipulate=manipulating(numbro);const parsing=parsing$2;class Numbro{constructor(et){this._value=et}clone(){return numbro(this._value)}format(et={}){return formatter.format(this,et)}formatCurrency(et){return typeof et=="string"&&(et=parsing.parseFormat(et)),et=formatter.formatOrDefault(et,globalState.currentCurrencyDefaultFormat()),et.output="currency",formatter.format(this,et)}formatTime(et={}){return et.output="time",formatter.format(this,et)}binaryByteUnits(){return formatter.getBinaryByteUnit(this)}decimalByteUnits(){return formatter.getDecimalByteUnit(this)}byteUnits(){return formatter.getByteUnit(this)}difference(et){return manipulate.difference(this,et)}add(et){return manipulate.add(this,et)}subtract(et){return manipulate.subtract(this,et)}multiply(et){return manipulate.multiply(this,et)}divide(et){return manipulate.divide(this,et)}set(et){return manipulate.set(this,normalizeInput$1(et))}value(){return this._value}valueOf(){return this._value}}function normalizeInput$1(nt){let et=nt;return numbro.isNumbro(nt)?et=nt._value:typeof nt=="string"?et=numbro.unformat(nt):isNaN(nt)&&(et=NaN),et}function numbro(nt){return new Numbro(normalizeInput$1(nt))}numbro.version=VERSION;numbro.isNumbro=function(nt){return nt instanceof Numbro};numbro.language=globalState.currentLanguage;numbro.registerLanguage=globalState.registerLanguage;numbro.setLanguage=globalState.setLanguage;numbro.languages=globalState.languages;numbro.languageData=globalState.languageData;numbro.zeroFormat=globalState.setZeroFormat;numbro.defaultFormat=globalState.currentDefaults;numbro.setDefaults=globalState.setDefaults;numbro.defaultCurrencyFormat=globalState.currentCurrencyDefaultFormat;numbro.validate=validator.validate;numbro.loadLanguagesInNode=loader.loadLanguagesInNode;numbro.unformat=unformatter.unformat;numbro.BigNumber=manipulate.BigNumber;var numbro_1=numbro,numbro$1=getDefaultExportFromCjs(numbro_1);const d$1=nt=>Decimal$1.isDecimal(nt)?nt:new Decimal$1(typeof nt>"u"||nt==="undefined"||!nt?0:nt),addComma=nt=>{try{return d$1(nt).gt(1)?numbro$1(nt).format({thousandSeparated:!0,exponential:!1}):nt}catch{return nt}},addCommaWithNoMantissa=nt=>{try{return d$1(nt).gt(1)?numbro$1(nt).format({thousandSeparated:!0,mantissa:0}):nt}catch{return nt}},fixRounding=(nt,et)=>d$1(nt).toDP(et,Decimal$1.ROUND_HALF_DOWN).toString(),fixNumber=(nt,et,at)=>d$1(nt).toDP(et,at).toString(),fixDown=(nt,et)=>{try{return d$1(nt).toDP(et,Decimal$1.ROUND_DOWN).toString()}catch{return String(nt)}};function getGtZeroIndex(nt){let et=0;if(nt)for(;et<nt.length;){if(d$1(nt[et]).gt(0))return et;et++}return 0}dayjs.extend(relativeTime);dayjs.extend(duration);const formatCurrency$1=(nt,et,at,mt)=>{try{if(nt===void 0||nt==="--")return"$--";const $t=formatNumberWithDown(nt,et,!0).toString();if(d$1($t).equals(0))return"$0";const Ct=$t.startsWith("-");let Dt=mt?$t:addComma($t).toString();return Dt.includes("e")&&(Dt=mt?$t:addCommaWithNoMantissa($t).toString()),!at&&Number($t)<Math.pow(10,-et)?Ct?`-$${Dt.slice(1)}`:`<$${Math.pow(10,-et).toFixed(et)}`:Ct?`-$${Dt.slice(1)}`:`$${Dt}`}catch($t){return console.log("🚀 ~ formatCurrency ~ error:",$t),"$--"}},formatPercentage=(nt,et=2,at=!1,mt=!1)=>{if(nt===void 0)return"--";if(d$1(nt).equals(0))return mt?`< ${Math.pow(10,-et)}%`:"0%";if(!at){if(Number(nt)>=0&&Number(nt)<=Math.pow(10,-et))return`<${Math.pow(10,-et).toFixed(et)}%`;if(Number(nt)<0&&Number(nt)*-1<=Math.pow(10,-et))return` < -${Math.pow(10,-et).toFixed(et)}%`}return`${fixDown(nt,et)}%`},formatNumber=(nt,et,at,mt=Decimal$1.ROUND_HALF_DOWN,$t=!1)=>{if(nt==="∞")return"∞";if(nt!=="0"&&!nt||(nt=convertScientificToDecimal(nt.toString(),et),d$1(nt).equals(0)))return"0";if(et!==void 0){const Lt=fixNumber(nt,et,mt);if(d$1(Lt).equals(0)){if($t)return Lt}else return at?Lt:addComma(Lt)}const Ct=d$1(nt).toString(),Dt=Ct.split("."),Ft=Dt[0],Nt=Dt[1];let jt;if(d$1(Ft).gt(0))!Nt||d$1(Ft.length).gte(9)?jt=fixNumber(Ct,0,mt):d$1(Ft.length).gte(4)?jt=fixNumber(Ct,2,mt):jt=fixNumber(Ct,4,mt);else{fixNumber(Ct,6,mt);const Lt=getGtZeroIndex(Nt);if(Lt<6)jt=fixNumber(Ct,Lt+6,mt);else if(Lt>=6&&Lt<=38)jt=fixNumber(Ct,Lt+4,mt);else return"0"}return at||d$1(Ft).lt(1)?jt:addComma(jt)},formatNumberWithDown=(nt,et,at,mt=!1)=>formatNumber(nt,et,at,Decimal$1.ROUND_DOWN,mt),formatTickPrice=(nt,et,at)=>{const $t=d$1(nt).toString().split("."),Ct=$t[0],Dt=$t[1];if(Ct==="0"&&et){const Ft=getGtZeroIndex(Dt),Nt=et-Ft,jt=Nt<=0?Number(Ft):et;return Nt<=2?formatNumber(nt,jt+2,at,Decimal$1.ROUND_DOWN):formatNumber(nt,et,at,Decimal$1.ROUND_DOWN)}else return formatNumber(nt,et,at,Decimal$1.ROUND_DOWN)},formatPrice=(nt,et,at)=>{if(nt==="∞")return"∞";if(nt!=="0"&&!nt||d$1(nt).equals(0))return"0";if(et!==void 0){const Nt=fixDown(nt,et);if(!d$1(Nt).equals(0))return String(at?Nt:addComma(Nt))}const mt=d$1(nt).toString(),$t=mt.split("."),Ct=$t[0],Dt=$t[1];let Ft;if(d$1(Ct).gt(0))d$1(Ct).gt(9)?Ft=fixDown(mt,2):Ft=fixDown(mt,3);else{const Nt=getGtZeroIndex(Dt);Ft=fixDown(mt,Nt+3)}return at||d$1(Ct).lt(1)?String(Ft):String(addComma(Ft))},formatCurrencyWithKMB=(nt,et=2)=>{var $t;const at=d$1(nt||"0");let mt;return at.gte(Math.pow(10,9))?mt=formatCurrency$1(fixRounding(($t=at.div(Math.pow(10,9)))==null?void 0:$t.toString(),et),et)+"B":mt=formatCurrency$1(nt,et),mt},formatDateTime=nt=>nt?dayjs(nt).format("YYYY-MM-DD HH:mm:ss"):"",fixDEAdd=(nt,et,at=!0)=>{if(`${nt}`=="0")return!parseFloat(et)||!at?"0":"0.".padEnd(et+2,"0");if(!nt)return"--";const mt=parseFloat(nt),$t=nt.toString(),Ct=mt<0;let Dt=$t;if($t.toLowerCase().includes("e")){const Ft=$t.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/);if(!Ft)return nt.toString();const Nt=Ft[1]||"0",jt=Ft[2]||"",Lt=Ft[3],Vt=parseInt(Ft[4],10);let er="",ir=jt.substring(Vt)||"";if(ir&&(ir=`.${ir}`),Lt!=="-"){for(let or=0;or<Vt;or++)er+=jt[or]||"0";Dt=Nt+er+ir}else{let or="0";for(let lr=0;lr<Vt;lr++)er=(Nt[Nt.length-lr-1]||"0")+er;Nt.length>Vt&&(or=Nt.substring(0,Nt.length-Vt)),Dt=`${or}.${er}${jt}`}}if(et&&at){let Ft=`${Dt.split(".")[0]}.`;const Nt=Dt.split(".")[1]||"";for(let jt=0;jt<et;jt++)Ft+=Nt[jt]||"0";Dt=Ft}return`${Ct?"-":""}${Dt}`};function formatCurrencyInput(nt,et=6){try{const at=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${et}})?).*$`);return nt.replace(at,"$1")}catch(at){return console.log("🚀 ~ formatCurrencyInput ~ error:",at),""}}const inputValue="abc123.456def",formattedValue=formatCurrencyInput(inputValue,2);console.log(formattedValue);function fromDecimalsAmountFix(nt,et){const at=fromDecimalsAmount(nt,et);return convertScientificToDecimal(at.toString(),Number(et))}function convertScientificToDecimal(nt,et=9){if(nt===void 0)return"";const at=nt==null?void 0:nt.toLowerCase();if(at.includes("e")){if(at.includes("+"))return fixDEAdd(at,et);const[mt,$t]=at.split("e");let Ct=mt;const Dt=Math.abs(parseInt($t,10));let Ft="",Nt=Ct.length;if(mt.includes(".")){const[jt,Lt]=mt.split(".");Ct=jt+Lt,Nt=jt.length}for(let jt=0;jt<Dt-Nt;jt++)Ft+="0";return`0.${Ft}${Ct}`.slice(0,et+2)}return nt}const removePercentSign=nt=>{if(nt!=null&&nt.includes("%")){const et=nt.split("%");return d$1(et==null?void 0:et[0]).equals("0")?"0":d$1(et==null?void 0:et[0]).div(100).toString()}return nt};function symbolDataDisplayProcessing(nt,et="$",at=2){if(nt==="--")return"--";const mt=d$1(10).pow(-at).toString();return d$1(nt).gt(0)&&d$1(nt).lt(mt)?et==="%"?`<${mt}${et}`:`<${et}${mt}`:et==="%"?`${formatNumberWithDown(nt,at)}${et}`:`${et}${formatNumberWithDown(nt,at)}`}const TOKEN_MAP_KEY="tokenMap",COLLECT_TOKEN_LIST="collectTokenList",USER_COLLECT_TOKEN_LIST="userCollectTokenList",IMPORT_TOKEN_LIST="importTokenList",LIQUIDITY_TRUST_TOKEN_LIST="liquidityTrustTokenList",IS_WATCH_LIST="isWatchList",IS_ALL_POOLS="isAllPools",IS_INCENTIVIZED_ONLY="isIncentivizedOnly",POOL_FAVORITE_LIST="poolFavoriteList",NOTIFI_SIGNATURE="notifiSignature";var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(nt,et){(function(at){nt.exports=at()})(function(){return function at(mt,$t,Ct){function Dt(jt,Lt){if(!$t[jt]){if(!mt[jt]){var Vt=typeof commonjsRequire$1=="function"&&commonjsRequire$1;if(!Lt&&Vt)return Vt(jt,!0);if(Ft)return Ft(jt,!0);var er=new Error("Cannot find module '"+jt+"'");throw er.code="MODULE_NOT_FOUND",er}var ir=$t[jt]={exports:{}};mt[jt][0].call(ir.exports,function(or){var lr=mt[jt][1][or];return Dt(lr||or)},ir,ir.exports,at,mt,$t,Ct)}return $t[jt].exports}for(var Ft=typeof commonjsRequire$1=="function"&&commonjsRequire$1,Nt=0;Nt<Ct.length;Nt++)Dt(Ct[Nt]);return Dt}({1:[function(at,mt,$t){(function(Ct){var Dt=Ct.MutationObserver||Ct.WebKitMutationObserver,Ft;if(Dt){var Nt=0,jt=new Dt(or),Lt=Ct.document.createTextNode("");jt.observe(Lt,{characterData:!0}),Ft=function(){Lt.data=Nt=++Nt%2}}else if(!Ct.setImmediate&&typeof Ct.MessageChannel<"u"){var Vt=new Ct.MessageChannel;Vt.port1.onmessage=or,Ft=function(){Vt.port2.postMessage(0)}}else"document"in Ct&&"onreadystatechange"in Ct.document.createElement("script")?Ft=function(){var dr=Ct.document.createElement("script");dr.onreadystatechange=function(){or(),dr.onreadystatechange=null,dr.parentNode.removeChild(dr),dr=null},Ct.document.documentElement.appendChild(dr)}:Ft=function(){setTimeout(or,0)};var er,ir=[];function or(){er=!0;for(var dr,pr,hr=ir.length;hr;){for(pr=ir,ir=[],dr=-1;++dr<hr;)pr[dr]();hr=ir.length}er=!1}mt.exports=lr;function lr(dr){ir.push(dr)===1&&!er&&Ft()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(at,mt,$t){var Ct=at(1);function Dt(){}var Ft={},Nt=["REJECTED"],jt=["FULFILLED"],Lt=["PENDING"];mt.exports=Vt;function Vt(xr){if(typeof xr!="function")throw new TypeError("resolver must be a function");this.state=Lt,this.queue=[],this.outcome=void 0,xr!==Dt&&lr(this,xr)}Vt.prototype.catch=function(xr){return this.then(null,xr)},Vt.prototype.then=function(xr,Sr){if(typeof xr!="function"&&this.state===jt||typeof Sr!="function"&&this.state===Nt)return this;var Er=new this.constructor(Dt);if(this.state!==Lt){var $r=this.state===jt?xr:Sr;ir(Er,$r,this.outcome)}else this.queue.push(new er(Er,xr,Sr));return Er};function er(xr,Sr,Er){this.promise=xr,typeof Sr=="function"&&(this.onFulfilled=Sr,this.callFulfilled=this.otherCallFulfilled),typeof Er=="function"&&(this.onRejected=Er,this.callRejected=this.otherCallRejected)}er.prototype.callFulfilled=function(xr){Ft.resolve(this.promise,xr)},er.prototype.otherCallFulfilled=function(xr){ir(this.promise,this.onFulfilled,xr)},er.prototype.callRejected=function(xr){Ft.reject(this.promise,xr)},er.prototype.otherCallRejected=function(xr){ir(this.promise,this.onRejected,xr)};function ir(xr,Sr,Er){Ct(function(){var $r;try{$r=Sr(Er)}catch(Cr){return Ft.reject(xr,Cr)}$r===xr?Ft.reject(xr,new TypeError("Cannot resolve promise with itself")):Ft.resolve(xr,$r)})}Ft.resolve=function(xr,Sr){var Er=dr(or,Sr);if(Er.status==="error")return Ft.reject(xr,Er.value);var $r=Er.value;if($r)lr(xr,$r);else{xr.state=jt,xr.outcome=Sr;for(var Cr=-1,kr=xr.queue.length;++Cr<kr;)xr.queue[Cr].callFulfilled(Sr)}return xr},Ft.reject=function(xr,Sr){xr.state=Nt,xr.outcome=Sr;for(var Er=-1,$r=xr.queue.length;++Er<$r;)xr.queue[Er].callRejected(Sr);return xr};function or(xr){var Sr=xr&&xr.then;if(xr&&(typeof xr=="object"||typeof xr=="function")&&typeof Sr=="function")return function(){Sr.apply(xr,arguments)}}function lr(xr,Sr){var Er=!1;function $r(Ut){Er||(Er=!0,Ft.reject(xr,Ut))}function Cr(Ut){Er||(Er=!0,Ft.resolve(xr,Ut))}function kr(){Sr(Cr,$r)}var gr=dr(kr);gr.status==="error"&&$r(gr.value)}function dr(xr,Sr){var Er={};try{Er.value=xr(Sr),Er.status="success"}catch($r){Er.status="error",Er.value=$r}return Er}Vt.resolve=pr;function pr(xr){return xr instanceof this?xr:Ft.resolve(new this(Dt),xr)}Vt.reject=hr;function hr(xr){var Sr=new this(Dt);return Ft.reject(Sr,xr)}Vt.all=vr;function vr(xr){var Sr=this;if(Object.prototype.toString.call(xr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Er=xr.length,$r=!1;if(!Er)return this.resolve([]);for(var Cr=new Array(Er),kr=0,gr=-1,Ut=new this(Dt);++gr<Er;)tr(xr[gr],gr);return Ut;function tr(nr,rr){Sr.resolve(nr).then(ar,function(cr){$r||($r=!0,Ft.reject(Ut,cr))});function ar(cr){Cr[rr]=cr,++kr===Er&&!$r&&($r=!0,Ft.resolve(Ut,Cr))}}}Vt.race=br;function br(xr){var Sr=this;if(Object.prototype.toString.call(xr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Er=xr.length,$r=!1;if(!Er)return this.resolve([]);for(var Cr=-1,kr=new this(Dt);++Cr<Er;)gr(xr[Cr]);return kr;function gr(Ut){Sr.resolve(Ut).then(function(tr){$r||($r=!0,Ft.resolve(kr,tr))},function(tr){$r||($r=!0,Ft.reject(kr,tr))})}}},{1:1}],3:[function(at,mt,$t){(function(Ct){typeof Ct.Promise!="function"&&(Ct.Promise=at(2))}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(at,mt,$t){var Ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yr){return typeof Yr}:function(Yr){return Yr&&typeof Symbol=="function"&&Yr.constructor===Symbol&&Yr!==Symbol.prototype?"symbol":typeof Yr};function Dt(Yr,Cn){if(!(Yr instanceof Cn))throw new TypeError("Cannot call a class as a function")}function Ft(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var Nt=Ft();function jt(){try{if(!Nt||!Nt.open)return!1;var Yr=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Cn=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Yr||Cn)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function Lt(Yr,Cn){Yr=Yr||[],Cn=Cn||{};try{return new Blob(Yr,Cn)}catch(Xn){if(Xn.name!=="TypeError")throw Xn;for(var nn=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Yn=new nn,na=0;na<Yr.length;na+=1)Yn.append(Yr[na]);return Yn.getBlob(Cn.type)}}typeof Promise>"u"&&at(3);var Vt=Promise;function er(Yr,Cn){Cn&&Yr.then(function(nn){Cn(null,nn)},function(nn){Cn(nn)})}function ir(Yr,Cn,nn){typeof Cn=="function"&&Yr.then(Cn),typeof nn=="function"&&Yr.catch(nn)}function or(Yr){return typeof Yr!="string"&&(console.warn(Yr+" used as a key, but it is not a string."),Yr=String(Yr)),Yr}function lr(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var dr="local-forage-detect-blob-support",pr=void 0,hr={},vr=Object.prototype.toString,br="readonly",xr="readwrite";function Sr(Yr){for(var Cn=Yr.length,nn=new ArrayBuffer(Cn),Yn=new Uint8Array(nn),na=0;na<Cn;na++)Yn[na]=Yr.charCodeAt(na);return nn}function Er(Yr){return new Vt(function(Cn){var nn=Yr.transaction(dr,xr),Yn=Lt([""]);nn.objectStore(dr).put(Yn,"key"),nn.onabort=function(na){na.preventDefault(),na.stopPropagation(),Cn(!1)},nn.oncomplete=function(){var na=navigator.userAgent.match(/Chrome\/(\d+)/),Xn=navigator.userAgent.match(/Edge\//);Cn(Xn||!na||parseInt(na[1],10)>=43)}}).catch(function(){return!1})}function $r(Yr){return typeof pr=="boolean"?Vt.resolve(pr):Er(Yr).then(function(Cn){return pr=Cn,pr})}function Cr(Yr){var Cn=hr[Yr.name],nn={};nn.promise=new Vt(function(Yn,na){nn.resolve=Yn,nn.reject=na}),Cn.deferredOperations.push(nn),Cn.dbReady?Cn.dbReady=Cn.dbReady.then(function(){return nn.promise}):Cn.dbReady=nn.promise}function kr(Yr){var Cn=hr[Yr.name],nn=Cn.deferredOperations.pop();if(nn)return nn.resolve(),nn.promise}function gr(Yr,Cn){var nn=hr[Yr.name],Yn=nn.deferredOperations.pop();if(Yn)return Yn.reject(Cn),Yn.promise}function Ut(Yr,Cn){return new Vt(function(nn,Yn){if(hr[Yr.name]=hr[Yr.name]||_r(),Yr.db)if(Cn)Cr(Yr),Yr.db.close();else return nn(Yr.db);var na=[Yr.name];Cn&&na.push(Yr.version);var Xn=Nt.open.apply(Nt,na);Cn&&(Xn.onupgradeneeded=function(lo){var $n=Xn.result;try{$n.createObjectStore(Yr.storeName),lo.oldVersion<=1&&$n.createObjectStore(dr)}catch(mo){if(mo.name==="ConstraintError")console.warn('The database "'+Yr.name+'" has been upgraded from version '+lo.oldVersion+" to version "+lo.newVersion+', but the storage "'+Yr.storeName+'" already exists.');else throw mo}}),Xn.onerror=function(lo){lo.preventDefault(),Yn(Xn.error)},Xn.onsuccess=function(){var lo=Xn.result;lo.onversionchange=function($n){$n.target.close()},nn(lo),kr(Yr)}})}function tr(Yr){return Ut(Yr,!1)}function nr(Yr){return Ut(Yr,!0)}function rr(Yr,Cn){if(!Yr.db)return!0;var nn=!Yr.db.objectStoreNames.contains(Yr.storeName),Yn=Yr.version<Yr.db.version,na=Yr.version>Yr.db.version;if(Yn&&(Yr.version!==Cn&&console.warn('The database "'+Yr.name+`" can't be downgraded from version `+Yr.db.version+" to version "+Yr.version+"."),Yr.version=Yr.db.version),na||nn){if(nn){var Xn=Yr.db.version+1;Xn>Yr.version&&(Yr.version=Xn)}return!0}return!1}function ar(Yr){return new Vt(function(Cn,nn){var Yn=new FileReader;Yn.onerror=nn,Yn.onloadend=function(na){var Xn=btoa(na.target.result||"");Cn({__local_forage_encoded_blob:!0,data:Xn,type:Yr.type})},Yn.readAsBinaryString(Yr)})}function cr(Yr){var Cn=Sr(atob(Yr.data));return Lt([Cn],{type:Yr.type})}function fr(Yr){return Yr&&Yr.__local_forage_encoded_blob}function sr(Yr){var Cn=this,nn=Cn._initReady().then(function(){var Yn=hr[Cn._dbInfo.name];if(Yn&&Yn.dbReady)return Yn.dbReady});return ir(nn,Yr,Yr),nn}function Yt(Yr){Cr(Yr);for(var Cn=hr[Yr.name],nn=Cn.forages,Yn=0;Yn<nn.length;Yn++){var na=nn[Yn];na._dbInfo.db&&(na._dbInfo.db.close(),na._dbInfo.db=null)}return Yr.db=null,tr(Yr).then(function(Xn){return Yr.db=Xn,rr(Yr)?nr(Yr):Xn}).then(function(Xn){Yr.db=Cn.db=Xn;for(var lo=0;lo<nn.length;lo++)nn[lo]._dbInfo.db=Xn}).catch(function(Xn){throw gr(Yr,Xn),Xn})}function ur(Yr,Cn,nn,Yn){Yn===void 0&&(Yn=1);try{var na=Yr.db.transaction(Yr.storeName,Cn);nn(null,na)}catch(Xn){if(Yn>0&&(!Yr.db||Xn.name==="InvalidStateError"||Xn.name==="NotFoundError"))return Vt.resolve().then(function(){if(!Yr.db||Xn.name==="NotFoundError"&&!Yr.db.objectStoreNames.contains(Yr.storeName)&&Yr.version<=Yr.db.version)return Yr.db&&(Yr.version=Yr.db.version+1),nr(Yr)}).then(function(){return Yt(Yr).then(function(){ur(Yr,Cn,nn,Yn-1)})}).catch(nn);nn(Xn)}}function _r(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function yr(Yr){var Cn=this,nn={db:null};if(Yr)for(var Yn in Yr)nn[Yn]=Yr[Yn];var na=hr[nn.name];na||(na=_r(),hr[nn.name]=na),na.forages.push(Cn),Cn._initReady||(Cn._initReady=Cn.ready,Cn.ready=sr);var Xn=[];function lo(){return Vt.resolve()}for(var $n=0;$n<na.forages.length;$n++){var mo=na.forages[$n];mo!==Cn&&Xn.push(mo._initReady().catch(lo))}var go=na.forages.slice(0);return Vt.all(Xn).then(function(){return nn.db=na.db,tr(nn)}).then(function(_o){return nn.db=_o,rr(nn,Cn._defaultConfig.version)?nr(nn):_o}).then(function(_o){nn.db=na.db=_o,Cn._dbInfo=nn;for(var Ao=0;Ao<go.length;Ao++){var qo=go[Ao];qo!==Cn&&(qo._dbInfo.db=nn.db,qo._dbInfo.version=nn.version)}})}function wr(Yr,Cn){var nn=this;Yr=or(Yr);var Yn=new Vt(function(na,Xn){nn.ready().then(function(){ur(nn._dbInfo,br,function(lo,$n){if(lo)return Xn(lo);try{var mo=$n.objectStore(nn._dbInfo.storeName),go=mo.get(Yr);go.onsuccess=function(){var _o=go.result;_o===void 0&&(_o=null),fr(_o)&&(_o=cr(_o)),na(_o)},go.onerror=function(){Xn(go.error)}}catch(_o){Xn(_o)}})}).catch(Xn)});return er(Yn,Cn),Yn}function Ir(Yr,Cn){var nn=this,Yn=new Vt(function(na,Xn){nn.ready().then(function(){ur(nn._dbInfo,br,function(lo,$n){if(lo)return Xn(lo);try{var mo=$n.objectStore(nn._dbInfo.storeName),go=mo.openCursor(),_o=1;go.onsuccess=function(){var Ao=go.result;if(Ao){var qo=Ao.value;fr(qo)&&(qo=cr(qo));var Uo=Yr(qo,Ao.key,_o++);Uo!==void 0?na(Uo):Ao.continue()}else na()},go.onerror=function(){Xn(go.error)}}catch(Ao){Xn(Ao)}})}).catch(Xn)});return er(Yn,Cn),Yn}function Or(Yr,Cn,nn){var Yn=this;Yr=or(Yr);var na=new Vt(function(Xn,lo){var $n;Yn.ready().then(function(){return $n=Yn._dbInfo,vr.call(Cn)==="[object Blob]"?$r($n.db).then(function(mo){return mo?Cn:ar(Cn)}):Cn}).then(function(mo){ur(Yn._dbInfo,xr,function(go,_o){if(go)return lo(go);try{var Ao=_o.objectStore(Yn._dbInfo.storeName);mo===null&&(mo=void 0);var qo=Ao.put(mo,Yr);_o.oncomplete=function(){mo===void 0&&(mo=null),Xn(mo)},_o.onabort=_o.onerror=function(){var Uo=qo.error?qo.error:qo.transaction.error;lo(Uo)}}catch(Uo){lo(Uo)}})}).catch(lo)});return er(na,nn),na}function Ar(Yr,Cn){var nn=this;Yr=or(Yr);var Yn=new Vt(function(na,Xn){nn.ready().then(function(){ur(nn._dbInfo,xr,function(lo,$n){if(lo)return Xn(lo);try{var mo=$n.objectStore(nn._dbInfo.storeName),go=mo.delete(Yr);$n.oncomplete=function(){na()},$n.onerror=function(){Xn(go.error)},$n.onabort=function(){var _o=go.error?go.error:go.transaction.error;Xn(_o)}}catch(_o){Xn(_o)}})}).catch(Xn)});return er(Yn,Cn),Yn}function Nr(Yr){var Cn=this,nn=new Vt(function(Yn,na){Cn.ready().then(function(){ur(Cn._dbInfo,xr,function(Xn,lo){if(Xn)return na(Xn);try{var $n=lo.objectStore(Cn._dbInfo.storeName),mo=$n.clear();lo.oncomplete=function(){Yn()},lo.onabort=lo.onerror=function(){var go=mo.error?mo.error:mo.transaction.error;na(go)}}catch(go){na(go)}})}).catch(na)});return er(nn,Yr),nn}function Hr(Yr){var Cn=this,nn=new Vt(function(Yn,na){Cn.ready().then(function(){ur(Cn._dbInfo,br,function(Xn,lo){if(Xn)return na(Xn);try{var $n=lo.objectStore(Cn._dbInfo.storeName),mo=$n.count();mo.onsuccess=function(){Yn(mo.result)},mo.onerror=function(){na(mo.error)}}catch(go){na(go)}})}).catch(na)});return er(nn,Yr),nn}function Pr(Yr,Cn){var nn=this,Yn=new Vt(function(na,Xn){if(Yr<0){na(null);return}nn.ready().then(function(){ur(nn._dbInfo,br,function(lo,$n){if(lo)return Xn(lo);try{var mo=$n.objectStore(nn._dbInfo.storeName),go=!1,_o=mo.openKeyCursor();_o.onsuccess=function(){var Ao=_o.result;if(!Ao){na(null);return}Yr===0||go?na(Ao.key):(go=!0,Ao.advance(Yr))},_o.onerror=function(){Xn(_o.error)}}catch(Ao){Xn(Ao)}})}).catch(Xn)});return er(Yn,Cn),Yn}function Dr(Yr){var Cn=this,nn=new Vt(function(Yn,na){Cn.ready().then(function(){ur(Cn._dbInfo,br,function(Xn,lo){if(Xn)return na(Xn);try{var $n=lo.objectStore(Cn._dbInfo.storeName),mo=$n.openKeyCursor(),go=[];mo.onsuccess=function(){var _o=mo.result;if(!_o){Yn(go);return}go.push(_o.key),_o.continue()},mo.onerror=function(){na(mo.error)}}catch(_o){na(_o)}})}).catch(na)});return er(nn,Yr),nn}function Rr(Yr,Cn){Cn=lr.apply(this,arguments);var nn=this.config();Yr=typeof Yr!="function"&&Yr||{},Yr.name||(Yr.name=Yr.name||nn.name,Yr.storeName=Yr.storeName||nn.storeName);var Yn=this,na;if(!Yr.name)na=Vt.reject("Invalid arguments");else{var Xn=Yr.name===nn.name&&Yn._dbInfo.db,lo=Xn?Vt.resolve(Yn._dbInfo.db):tr(Yr).then(function($n){var mo=hr[Yr.name],go=mo.forages;mo.db=$n;for(var _o=0;_o<go.length;_o++)go[_o]._dbInfo.db=$n;return $n});Yr.storeName?na=lo.then(function($n){if($n.objectStoreNames.contains(Yr.storeName)){var mo=$n.version+1;Cr(Yr);var go=hr[Yr.name],_o=go.forages;$n.close();for(var Ao=0;Ao<_o.length;Ao++){var qo=_o[Ao];qo._dbInfo.db=null,qo._dbInfo.version=mo}var Uo=new Vt(function(Wo,Go){var Ko=Nt.open(Yr.name,mo);Ko.onerror=function(Xo){var es=Ko.result;es.close(),Go(Xo)},Ko.onupgradeneeded=function(){var Xo=Ko.result;Xo.deleteObjectStore(Yr.storeName)},Ko.onsuccess=function(){var Xo=Ko.result;Xo.close(),Wo(Xo)}});return Uo.then(function(Wo){go.db=Wo;for(var Go=0;Go<_o.length;Go++){var Ko=_o[Go];Ko._dbInfo.db=Wo,kr(Ko._dbInfo)}}).catch(function(Wo){throw(gr(Yr,Wo)||Vt.resolve()).catch(function(){}),Wo})}}):na=lo.then(function($n){Cr(Yr);var mo=hr[Yr.name],go=mo.forages;$n.close();for(var _o=0;_o<go.length;_o++){var Ao=go[_o];Ao._dbInfo.db=null}var qo=new Vt(function(Uo,Wo){var Go=Nt.deleteDatabase(Yr.name);Go.onerror=function(){var Ko=Go.result;Ko&&Ko.close(),Wo(Go.error)},Go.onblocked=function(){console.warn('dropInstance blocked for database "'+Yr.name+'" until all open connections are closed')},Go.onsuccess=function(){var Ko=Go.result;Ko&&Ko.close(),Uo(Ko)}});return qo.then(function(Uo){mo.db=Uo;for(var Wo=0;Wo<go.length;Wo++){var Go=go[Wo];kr(Go._dbInfo)}}).catch(function(Uo){throw(gr(Yr,Uo)||Vt.resolve()).catch(function(){}),Uo})})}return er(na,Cn),na}var Vr={_driver:"asyncStorage",_initStorage:yr,_support:jt(),iterate:Ir,getItem:wr,setItem:Or,removeItem:Ar,clear:Nr,length:Hr,key:Pr,keys:Dr,dropInstance:Rr};function an(){return typeof openDatabase=="function"}var Xr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jr="~~local_forage_type~",Zr=/^~~local_forage_type~([^~]+)~/,Gr="__lfsc__:",zr=Gr.length,Dn="arbf",Qr="blob",Un="si08",ro="ui08",Hn="uic8",Qn="si16",$o="si32",Kn="ur16",_i="ui32",Lo="fl32",jr="fl64",Tr=zr+Dn.length,Fr=Object.prototype.toString;function Wr(Yr){var Cn=Yr.length*.75,nn=Yr.length,Yn,na=0,Xn,lo,$n,mo;Yr[Yr.length-1]==="="&&(Cn--,Yr[Yr.length-2]==="="&&Cn--);var go=new ArrayBuffer(Cn),_o=new Uint8Array(go);for(Yn=0;Yn<nn;Yn+=4)Xn=Xr.indexOf(Yr[Yn]),lo=Xr.indexOf(Yr[Yn+1]),$n=Xr.indexOf(Yr[Yn+2]),mo=Xr.indexOf(Yr[Yn+3]),_o[na++]=Xn<<2|lo>>4,_o[na++]=(lo&15)<<4|$n>>2,_o[na++]=($n&3)<<6|mo&63;return go}function sn(Yr){var Cn=new Uint8Array(Yr),nn="",Yn;for(Yn=0;Yn<Cn.length;Yn+=3)nn+=Xr[Cn[Yn]>>2],nn+=Xr[(Cn[Yn]&3)<<4|Cn[Yn+1]>>4],nn+=Xr[(Cn[Yn+1]&15)<<2|Cn[Yn+2]>>6],nn+=Xr[Cn[Yn+2]&63];return Cn.length%3===2?nn=nn.substring(0,nn.length-1)+"=":Cn.length%3===1&&(nn=nn.substring(0,nn.length-2)+"=="),nn}function Jn(Yr,Cn){var nn="";if(Yr&&(nn=Fr.call(Yr)),Yr&&(nn==="[object ArrayBuffer]"||Yr.buffer&&Fr.call(Yr.buffer)==="[object ArrayBuffer]")){var Yn,na=Gr;Yr instanceof ArrayBuffer?(Yn=Yr,na+=Dn):(Yn=Yr.buffer,nn==="[object Int8Array]"?na+=Un:nn==="[object Uint8Array]"?na+=ro:nn==="[object Uint8ClampedArray]"?na+=Hn:nn==="[object Int16Array]"?na+=Qn:nn==="[object Uint16Array]"?na+=Kn:nn==="[object Int32Array]"?na+=$o:nn==="[object Uint32Array]"?na+=_i:nn==="[object Float32Array]"?na+=Lo:nn==="[object Float64Array]"?na+=jr:Cn(new Error("Failed to get type for BinaryArray"))),Cn(na+sn(Yn))}else if(nn==="[object Blob]"){var Xn=new FileReader;Xn.onload=function(){var lo=Jr+Yr.type+"~"+sn(this.result);Cn(Gr+Qr+lo)},Xn.readAsArrayBuffer(Yr)}else try{Cn(JSON.stringify(Yr))}catch(lo){console.error("Couldn't convert value into a JSON string: ",Yr),Cn(null,lo)}}function Nn(Yr){if(Yr.substring(0,zr)!==Gr)return JSON.parse(Yr);var Cn=Yr.substring(Tr),nn=Yr.substring(zr,Tr),Yn;if(nn===Qr&&Zr.test(Cn)){var na=Cn.match(Zr);Yn=na[1],Cn=Cn.substring(na[0].length)}var Xn=Wr(Cn);switch(nn){case Dn:return Xn;case Qr:return Lt([Xn],{type:Yn});case Un:return new Int8Array(Xn);case ro:return new Uint8Array(Xn);case Hn:return new Uint8ClampedArray(Xn);case Qn:return new Int16Array(Xn);case Kn:return new Uint16Array(Xn);case $o:return new Int32Array(Xn);case _i:return new Uint32Array(Xn);case Lo:return new Float32Array(Xn);case jr:return new Float64Array(Xn);default:throw new Error("Unkown type: "+nn)}}var Zn={serialize:Jn,deserialize:Nn,stringToBuffer:Wr,bufferToString:sn};function Io(Yr,Cn,nn,Yn){Yr.executeSql("CREATE TABLE IF NOT EXISTS "+Cn.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],nn,Yn)}function ga(Yr){var Cn=this,nn={db:null};if(Yr)for(var Yn in Yr)nn[Yn]=typeof Yr[Yn]!="string"?Yr[Yn].toString():Yr[Yn];var na=new Vt(function(Xn,lo){try{nn.db=openDatabase(nn.name,String(nn.version),nn.description,nn.size)}catch($n){return lo($n)}nn.db.transaction(function($n){Io($n,nn,function(){Cn._dbInfo=nn,Xn()},function(mo,go){lo(go)})},lo)});return nn.serializer=Zn,na}function ba(Yr,Cn,nn,Yn,na,Xn){Yr.executeSql(nn,Yn,na,function(lo,$n){$n.code===$n.SYNTAX_ERR?lo.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Cn.storeName],function(mo,go){go.rows.length?Xn(mo,$n):Io(mo,Cn,function(){mo.executeSql(nn,Yn,na,Xn)},Xn)},Xn):Xn(lo,$n)},Xn)}function Bo(Yr,Cn){var nn=this;Yr=or(Yr);var Yn=new Vt(function(na,Xn){nn.ready().then(function(){var lo=nn._dbInfo;lo.db.transaction(function($n){ba($n,lo,"SELECT * FROM "+lo.storeName+" WHERE key = ? LIMIT 1",[Yr],function(mo,go){var _o=go.rows.length?go.rows.item(0).value:null;_o&&(_o=lo.serializer.deserialize(_o)),na(_o)},function(mo,go){Xn(go)})})}).catch(Xn)});return er(Yn,Cn),Yn}function io(Yr,Cn){var nn=this,Yn=new Vt(function(na,Xn){nn.ready().then(function(){var lo=nn._dbInfo;lo.db.transaction(function($n){ba($n,lo,"SELECT * FROM "+lo.storeName,[],function(mo,go){for(var _o=go.rows,Ao=_o.length,qo=0;qo<Ao;qo++){var Uo=_o.item(qo),Wo=Uo.value;if(Wo&&(Wo=lo.serializer.deserialize(Wo)),Wo=Yr(Wo,Uo.key,qo+1),Wo!==void 0){na(Wo);return}}na()},function(mo,go){Xn(go)})})}).catch(Xn)});return er(Yn,Cn),Yn}function so(Yr,Cn,nn,Yn){var na=this;Yr=or(Yr);var Xn=new Vt(function(lo,$n){na.ready().then(function(){Cn===void 0&&(Cn=null);var mo=Cn,go=na._dbInfo;go.serializer.serialize(Cn,function(_o,Ao){Ao?$n(Ao):go.db.transaction(function(qo){ba(qo,go,"INSERT OR REPLACE INTO "+go.storeName+" (key, value) VALUES (?, ?)",[Yr,_o],function(){lo(mo)},function(Uo,Wo){$n(Wo)})},function(qo){if(qo.code===qo.QUOTA_ERR){if(Yn>0){lo(so.apply(na,[Yr,mo,nn,Yn-1]));return}$n(qo)}})})}).catch($n)});return er(Xn,nn),Xn}function zo(Yr,Cn,nn){return so.apply(this,[Yr,Cn,nn,1])}function eo(Yr,Cn){var nn=this;Yr=or(Yr);var Yn=new Vt(function(na,Xn){nn.ready().then(function(){var lo=nn._dbInfo;lo.db.transaction(function($n){ba($n,lo,"DELETE FROM "+lo.storeName+" WHERE key = ?",[Yr],function(){na()},function(mo,go){Xn(go)})})}).catch(Xn)});return er(Yn,Cn),Yn}function oo(Yr){var Cn=this,nn=new Vt(function(Yn,na){Cn.ready().then(function(){var Xn=Cn._dbInfo;Xn.db.transaction(function(lo){ba(lo,Xn,"DELETE FROM "+Xn.storeName,[],function(){Yn()},function($n,mo){na(mo)})})}).catch(na)});return er(nn,Yr),nn}function Ho(Yr){var Cn=this,nn=new Vt(function(Yn,na){Cn.ready().then(function(){var Xn=Cn._dbInfo;Xn.db.transaction(function(lo){ba(lo,Xn,"SELECT COUNT(key) as c FROM "+Xn.storeName,[],function($n,mo){var go=mo.rows.item(0).c;Yn(go)},function($n,mo){na(mo)})})}).catch(na)});return er(nn,Yr),nn}function no(Yr,Cn){var nn=this,Yn=new Vt(function(na,Xn){nn.ready().then(function(){var lo=nn._dbInfo;lo.db.transaction(function($n){ba($n,lo,"SELECT key FROM "+lo.storeName+" WHERE id = ? LIMIT 1",[Yr+1],function(mo,go){var _o=go.rows.length?go.rows.item(0).key:null;na(_o)},function(mo,go){Xn(go)})})}).catch(Xn)});return er(Yn,Cn),Yn}function ao(Yr){var Cn=this,nn=new Vt(function(Yn,na){Cn.ready().then(function(){var Xn=Cn._dbInfo;Xn.db.transaction(function(lo){ba(lo,Xn,"SELECT key FROM "+Xn.storeName,[],function($n,mo){for(var go=[],_o=0;_o<mo.rows.length;_o++)go.push(mo.rows.item(_o).key);Yn(go)},function($n,mo){na(mo)})})}).catch(na)});return er(nn,Yr),nn}function Gn(Yr){return new Vt(function(Cn,nn){Yr.transaction(function(Yn){Yn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(na,Xn){for(var lo=[],$n=0;$n<Xn.rows.length;$n++)lo.push(Xn.rows.item($n).name);Cn({db:Yr,storeNames:lo})},function(na,Xn){nn(Xn)})},function(Yn){nn(Yn)})})}function dn(Yr,Cn){Cn=lr.apply(this,arguments);var nn=this.config();Yr=typeof Yr!="function"&&Yr||{},Yr.name||(Yr.name=Yr.name||nn.name,Yr.storeName=Yr.storeName||nn.storeName);var Yn=this,na;return Yr.name?na=new Vt(function(Xn){var lo;Yr.name===nn.name?lo=Yn._dbInfo.db:lo=openDatabase(Yr.name,"","",0),Yr.storeName?Xn({db:lo,storeNames:[Yr.storeName]}):Xn(Gn(lo))}).then(function(Xn){return new Vt(function(lo,$n){Xn.db.transaction(function(mo){function go(Uo){return new Vt(function(Wo,Go){mo.executeSql("DROP TABLE IF EXISTS "+Uo,[],function(){Wo()},function(Ko,Xo){Go(Xo)})})}for(var _o=[],Ao=0,qo=Xn.storeNames.length;Ao<qo;Ao++)_o.push(go(Xn.storeNames[Ao]));Vt.all(_o).then(function(){lo()}).catch(function(Uo){$n(Uo)})},function(mo){$n(mo)})})}):na=Vt.reject("Invalid arguments"),er(na,Cn),na}var Ln={_driver:"webSQLStorage",_initStorage:ga,_support:an(),iterate:io,getItem:Bo,setItem:zo,removeItem:eo,clear:oo,length:Ho,key:no,keys:ao,dropInstance:dn};function Br(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Lr(Yr,Cn){var nn=Yr.name+"/";return Yr.storeName!==Cn.storeName&&(nn+=Yr.storeName+"/"),nn}function qr(){var Yr="_localforage_support_test";try{return localStorage.setItem(Yr,!0),localStorage.removeItem(Yr),!1}catch{return!0}}function Mr(){return!qr()||localStorage.length>0}function Ur(Yr){var Cn=this,nn={};if(Yr)for(var Yn in Yr)nn[Yn]=Yr[Yn];return nn.keyPrefix=Lr(Yr,Cn._defaultConfig),Mr()?(Cn._dbInfo=nn,nn.serializer=Zn,Vt.resolve()):Vt.reject()}function rn(Yr){var Cn=this,nn=Cn.ready().then(function(){for(var Yn=Cn._dbInfo.keyPrefix,na=localStorage.length-1;na>=0;na--){var Xn=localStorage.key(na);Xn.indexOf(Yn)===0&&localStorage.removeItem(Xn)}});return er(nn,Yr),nn}function zn(Yr,Cn){var nn=this;Yr=or(Yr);var Yn=nn.ready().then(function(){var na=nn._dbInfo,Xn=localStorage.getItem(na.keyPrefix+Yr);return Xn&&(Xn=na.serializer.deserialize(Xn)),Xn});return er(Yn,Cn),Yn}function pn(Yr,Cn){var nn=this,Yn=nn.ready().then(function(){for(var na=nn._dbInfo,Xn=na.keyPrefix,lo=Xn.length,$n=localStorage.length,mo=1,go=0;go<$n;go++){var _o=localStorage.key(go);if(_o.indexOf(Xn)===0){var Ao=localStorage.getItem(_o);if(Ao&&(Ao=na.serializer.deserialize(Ao)),Ao=Yr(Ao,_o.substring(lo),mo++),Ao!==void 0)return Ao}}});return er(Yn,Cn),Yn}function Vn(Yr,Cn){var nn=this,Yn=nn.ready().then(function(){var na=nn._dbInfo,Xn;try{Xn=localStorage.key(Yr)}catch{Xn=null}return Xn&&(Xn=Xn.substring(na.keyPrefix.length)),Xn});return er(Yn,Cn),Yn}function co(Yr){var Cn=this,nn=Cn.ready().then(function(){for(var Yn=Cn._dbInfo,na=localStorage.length,Xn=[],lo=0;lo<na;lo++){var $n=localStorage.key(lo);$n.indexOf(Yn.keyPrefix)===0&&Xn.push($n.substring(Yn.keyPrefix.length))}return Xn});return er(nn,Yr),nn}function uo(Yr){var Cn=this,nn=Cn.keys().then(function(Yn){return Yn.length});return er(nn,Yr),nn}function Eo(Yr,Cn){var nn=this;Yr=or(Yr);var Yn=nn.ready().then(function(){var na=nn._dbInfo;localStorage.removeItem(na.keyPrefix+Yr)});return er(Yn,Cn),Yn}function ho(Yr,Cn,nn){var Yn=this;Yr=or(Yr);var na=Yn.ready().then(function(){Cn===void 0&&(Cn=null);var Xn=Cn;return new Vt(function(lo,$n){var mo=Yn._dbInfo;mo.serializer.serialize(Cn,function(go,_o){if(_o)$n(_o);else try{localStorage.setItem(mo.keyPrefix+Yr,go),lo(Xn)}catch(Ao){(Ao.name==="QuotaExceededError"||Ao.name==="NS_ERROR_DOM_QUOTA_REACHED")&&$n(Ao),$n(Ao)}})})});return er(na,nn),na}function Co(Yr,Cn){if(Cn=lr.apply(this,arguments),Yr=typeof Yr!="function"&&Yr||{},!Yr.name){var nn=this.config();Yr.name=Yr.name||nn.name,Yr.storeName=Yr.storeName||nn.storeName}var Yn=this,na;return Yr.name?na=new Vt(function(Xn){Yr.storeName?Xn(Lr(Yr,Yn._defaultConfig)):Xn(Yr.name+"/")}).then(function(Xn){for(var lo=localStorage.length-1;lo>=0;lo--){var $n=localStorage.key(lo);$n.indexOf(Xn)===0&&localStorage.removeItem($n)}}):na=Vt.reject("Invalid arguments"),er(na,Cn),na}var Po={_driver:"localStorageWrapper",_initStorage:Ur,_support:Br(),iterate:pn,getItem:zn,setItem:ho,removeItem:Eo,clear:rn,length:uo,key:Vn,keys:co,dropInstance:Co},Fo=function(Cn,nn){return Cn===nn||typeof Cn=="number"&&typeof nn=="number"&&isNaN(Cn)&&isNaN(nn)},Do=function(Cn,nn){for(var Yn=Cn.length,na=0;na<Yn;){if(Fo(Cn[na],nn))return!0;na++}return!1},ko=Array.isArray||function(Yr){return Object.prototype.toString.call(Yr)==="[object Array]"},Mo={},Oo={},xo={INDEXEDDB:Vr,WEBSQL:Ln,LOCALSTORAGE:Po},Ro=[xo.INDEXEDDB._driver,xo.WEBSQL._driver,xo.LOCALSTORAGE._driver],So=["dropInstance"],po=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(So),vo={description:"",driver:Ro.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function wo(Yr,Cn){Yr[Cn]=function(){var nn=arguments;return Yr.ready().then(function(){return Yr[Cn].apply(Yr,nn)})}}function to(){for(var Yr=1;Yr<arguments.length;Yr++){var Cn=arguments[Yr];if(Cn)for(var nn in Cn)Cn.hasOwnProperty(nn)&&(ko(Cn[nn])?arguments[0][nn]=Cn[nn].slice():arguments[0][nn]=Cn[nn])}return arguments[0]}var _a=function(){function Yr(Cn){Dt(this,Yr);for(var nn in xo)if(xo.hasOwnProperty(nn)){var Yn=xo[nn],na=Yn._driver;this[nn]=na,Mo[na]||this.defineDriver(Yn)}this._defaultConfig=to({},vo),this._config=to({},this._defaultConfig,Cn),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Yr.prototype.config=function(nn){if((typeof nn>"u"?"undefined":Ct(nn))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Yn in nn){if(Yn==="storeName"&&(nn[Yn]=nn[Yn].replace(/\W/g,"_")),Yn==="version"&&typeof nn[Yn]!="number")return new Error("Database version must be a number.");this._config[Yn]=nn[Yn]}return"driver"in nn&&nn.driver?this.setDriver(this._config.driver):!0}else return typeof nn=="string"?this._config[nn]:this._config},Yr.prototype.defineDriver=function(nn,Yn,na){var Xn=new Vt(function(lo,$n){try{var mo=nn._driver,go=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!nn._driver){$n(go);return}for(var _o=po.concat("_initStorage"),Ao=0,qo=_o.length;Ao<qo;Ao++){var Uo=_o[Ao],Wo=!Do(So,Uo);if((Wo||nn[Uo])&&typeof nn[Uo]!="function"){$n(go);return}}var Go=function(){for(var es=function(Wl){return function(){var du=new Error("Method "+Wl+" is not implemented by the current driver"),Gl=Vt.reject(du);return er(Gl,arguments[arguments.length-1]),Gl}},rs=0,ds=So.length;rs<ds;rs++){var us=So[rs];nn[us]||(nn[us]=es(us))}};Go();var Ko=function(es){Mo[mo]&&console.info("Redefining LocalForage driver: "+mo),Mo[mo]=nn,Oo[mo]=es,lo()};"_support"in nn?nn._support&&typeof nn._support=="function"?nn._support().then(Ko,$n):Ko(!!nn._support):Ko(!0)}catch(Xo){$n(Xo)}});return ir(Xn,Yn,na),Xn},Yr.prototype.driver=function(){return this._driver||null},Yr.prototype.getDriver=function(nn,Yn,na){var Xn=Mo[nn]?Vt.resolve(Mo[nn]):Vt.reject(new Error("Driver not found."));return ir(Xn,Yn,na),Xn},Yr.prototype.getSerializer=function(nn){var Yn=Vt.resolve(Zn);return ir(Yn,nn),Yn},Yr.prototype.ready=function(nn){var Yn=this,na=Yn._driverSet.then(function(){return Yn._ready===null&&(Yn._ready=Yn._initDriver()),Yn._ready});return ir(na,nn,nn),na},Yr.prototype.setDriver=function(nn,Yn,na){var Xn=this;ko(nn)||(nn=[nn]);var lo=this._getSupportedDrivers(nn);function $n(){Xn._config.driver=Xn.driver()}function mo(Ao){return Xn._extend(Ao),$n(),Xn._ready=Xn._initStorage(Xn._config),Xn._ready}function go(Ao){return function(){var qo=0;function Uo(){for(;qo<Ao.length;){var Wo=Ao[qo];return qo++,Xn._dbInfo=null,Xn._ready=null,Xn.getDriver(Wo).then(mo).catch(Uo)}$n();var Go=new Error("No available storage method found.");return Xn._driverSet=Vt.reject(Go),Xn._driverSet}return Uo()}}var _o=this._driverSet!==null?this._driverSet.catch(function(){return Vt.resolve()}):Vt.resolve();return this._driverSet=_o.then(function(){var Ao=lo[0];return Xn._dbInfo=null,Xn._ready=null,Xn.getDriver(Ao).then(function(qo){Xn._driver=qo._driver,$n(),Xn._wrapLibraryMethodsWithReady(),Xn._initDriver=go(lo)})}).catch(function(){$n();var Ao=new Error("No available storage method found.");return Xn._driverSet=Vt.reject(Ao),Xn._driverSet}),ir(this._driverSet,Yn,na),this._driverSet},Yr.prototype.supports=function(nn){return!!Oo[nn]},Yr.prototype._extend=function(nn){to(this,nn)},Yr.prototype._getSupportedDrivers=function(nn){for(var Yn=[],na=0,Xn=nn.length;na<Xn;na++){var lo=nn[na];this.supports(lo)&&Yn.push(lo)}return Yn},Yr.prototype._wrapLibraryMethodsWithReady=function(){for(var nn=0,Yn=po.length;nn<Yn;nn++)wo(this,po[nn])},Yr.prototype.createInstance=function(nn){return new Yr(nn)},Yr}(),yo=new _a;mt.exports=yo},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs$2(localforageExports);localforage.config({name:"CetusSite",storeName:"tokens"});class LocalStorageService{static async setItem(et,at){try{await localforage.setItem(et,at)}catch(mt){console.error(`Failed to set item with key "${et}"`,mt)}}static async getItem(et){try{return await localforage.getItem(et)}catch(at){return console.error(`Failed to get item with key "${et}"`,at),null}}static async removeItem(et){try{await localforage.removeItem(et)}catch(at){console.error(`Failed to remove item with key "${et}"`,at)}}static async clear(){try{await localforage.clear()}catch(et){console.error("Failed to clear storage",et)}}}const textEllipses=(nt,et=10)=>nt?(nt==null?void 0:nt.length)>et&&d$1(et).gt(0)?`${nt.slice(0,et)}...`:nt:"";function Icon(nt){const{xlinkHref:et,fontSize:at,svgW:mt,svgH:$t,boxW:Ct,boxH:Dt,variant:Ft,svgHover:Nt,svgFill:jt,onClick:Lt,iconCursor:Vt="pointer",isActive:er,activeColor:ir,activeHoverColor:or,...lr}=nt,[dr,pr]=reactExports.useState(!1),{isApp:hr}=useWindowWidth(),vr=xr=>{hr&&pr(!0),Lt&&Lt(xr)},br=reactExports.useMemo(()=>{const xr={base:{box:{w:Ct||at||"20px",h:Dt||at||"20px",bg:"none",_hover:!dr&&!hr?{svg:{fill:er&&or?or:Nt||"text_caption"}}:void 0},svg:{fill:er&&ir?isColorValue(ir)?ir:`var(--chakra-colors-${ir||"text_paragraph"})`:jt&&isColorValue(jt)?jt:`var(--chakra-colors-${jt||"text_paragraph"})`,width:mt||at||"20px",height:$t||at||"20px"}},gray:{box:{w:Dt||at||"20px",h:Dt||at||"20px",bg:"none",_hover:!dr&&!hr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:mt||at||"20px",height:$t||at||"20px"}},primary:{box:{w:Dt||at||"20px",h:Dt||at||"20px",bg:"none",_hover:!dr&&!hr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:mt||at||"20px",height:$t||at||"20px"}},warning:{box:{w:Dt||at||"20px",h:Dt||at||"20px",bg:"none",_hover:!dr&&!hr?{svg:{fill:"primary_yellow"}}:void 0},svg:{fill:"var(--chakra-colors-primary_yellow)",width:mt||at||"20px",height:$t||at||"20px"}},error:{box:{w:Dt||at||"20px",h:Dt||at||"20px",bg:"none",_hover:!dr&&!hr?{svg:{fill:"primary_red"}}:void 0},svg:{fill:"var(--chakra-colors-primary_red)",width:mt||at||"20px",height:$t||at||"20px"}},solid:{box:{bg:"checked_bg",w:Ct||at||"24px",h:Dt||at||"24px",borderRadius:"4px",_hover:!dr&&!hr?{svg:{fill:er&&or?or:Nt||"text_caption"}}:void 0},svg:{fill:er&&ir?isColorValue(ir)?ir:`var(--chakra-colors-${ir||"text_paragraph"})`:jt&&isColorValue(jt)?jt:`var(--chakra-colors-${jt||"text_paragraph"})`,width:mt||at||"16px",height:$t||at||"16px"}},rectangle:{box:{bg:"card_bg",w:Ct||at||"28px",h:Dt||at||"20px",borderRadius:"8px",_hover:!dr&&!hr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-primary)",width:mt||at||"16px",height:$t||at||"16px"}},round:{box:{bg:"card_bg",w:Ct||at||"20px",h:Dt||at||"20px",borderRadius:"50%",border:"1px",borderStyle:"solid",borderColor:"var(--chakra-colors-border)",background:"var(--chakra-colors-bg_secondary)",_hover:!dr&&!hr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:mt||at||"16px",height:$t||at||"16px"}}};return Ft?xr[Ft]:xr.base},[Ft,mt,$t,Ct,Dt,at,jt,Nt,er,ir,or]);return jsxRuntimeExports.jsx(Center,{cursor:Vt,...br.box,...lr,onClick:vr,children:jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",...br.svg,children:jsxRuntimeExports.jsx("use",{xlinkHref:et})})})}function BackButton({text:nt,onClick:et,...at}){const mt=useNavigate();return jsxRuntimeExports.jsxs(Flex,{w:"73px",h:"32px",align:"center",justifyContent:"center",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",fontWeight:"500",onClick:()=>{et?et():mt(-1)},sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},...at,children:[nt!=="Back to DEX"&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_descending",fontSize:"16px",transform:"rotate(90deg)"}),jsxRuntimeExports.jsx(Text,{lineHeight:"1",children:nt||"Back"})]})}function CheckBox(nt){const{checked:et,width:at,height:mt,borderRadius:$t,onClick:Ct,cursor:Dt="pointer"}=nt;return jsxRuntimeExports.jsx(Flex,{align:"center",justifyContent:"center",background:"checked_bg",border:"1px solid",borderColor:"border",cursor:Dt,width:at||"20px",height:mt||"20px",borderRadius:$t||"4px",onClick:Ct,sx:{svg:{fill:"primary !important"}},children:et?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check"}):null})}const store$b=(nt,et)=>({collectList:[],collectObj:{},setCollectList:at=>{nt(()=>({collectList:at,collectObj:Object.fromEntries(at.map(mt=>[mt.coin_type,mt]))}))},trustedTokenList:[],setTrustedList:at=>{nt(()=>({trustedTokenList:at}))},filterTokenLoading:!1,setFilterTokenLoading:at=>{nt(()=>({filterTokenLoading:at}))},filterTokenList:[],setFilterTokenList:at=>{nt(()=>({filterTokenList:at}))},importTokenList:[],setImportTokenList:at=>{nt(()=>({importTokenList:at}))},liquidityTrustTokenList:[],setLiquidityTrustTokenList:at=>{nt(()=>({liquidityTrustTokenList:at}))},isShowImportBtn:!1,setShowImportBtn:at=>{nt(()=>({isShowImportBtn:at}))},trustedListLabel:[],setTrustedListLabel:at=>{nt(()=>({trustedListLabel:at}))},tokenModalOpacity:1,setTokenModalOpacity:at=>{nt(()=>({tokenModalOpacity:at}))},userCollectList:[],userCollectObj:{},setUserCollectList:at=>{console.log("🚀🚀🚀 ~ list:",at),nt(()=>({userCollectList:at,userCollectObj:Object.fromEntries(at.map(mt=>[mt.coin_type,mt]))}))}}),useTokenSelectStore=create$3(persist(store$b,{name:"useTokenSelectStore",partialize:nt=>{const{importTokenList:et,liquidityTrustTokenList:at}=nt;return{importTokenList:et,liquidityTrustTokenList:at}}})),APP_ENV="mainnet";function getQueryParam(nt){const et=new URLSearchParams(window.location.search);return window.location.host==="app.cetus.zone"?"":et.get(nt)}let apiUrl="";try{apiUrl=getQueryParam("apiUrl")||""}catch(nt){console.log("🚀 ~ error:",nt),apiUrl=""}const baseConfigMainnet={fullRpcUrl:"https://fullnode.mainnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigMainnet={...baseConfigMainnet,cetus_config:{package_id:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",published_at:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",version:void 0,config:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}},clmm_pool:{package_id:"0x1eabed72c53feb3805120a081dc15963c204dc8d091542592abaf7a35689b2fb",published_at:"0xc6faf3703b0e8ba9ed06b7851134bbbe7565eb35ff823fd78432baa4cbeaa12e",version:0,config:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",admin_cap_id:"",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"}},integrate:{package_id:"0x996c4d9480708fb8b92aa7acf819fb0497b5ec8e65ba06601cae2fb6db3312c3",published_at:"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:`${apiUrl||"https://api-sui.cetus.zone"}/router_v2`},burnConfigMainnet={...baseConfigMainnet,burn:{package_id:"0x12d73de9a6bc3cb658ec9dc0fe7de2662be1cea5c76c092fcc3606048cdbac27",published_at:"0xb977b00649d3ab8950bcbbafb01fcf32e2e7718eb3133eff2e48c0cef04b1495",manager_id:"0x1d94aa32518d0cb00f9de6ed60d450c9a2090761f326752ffad06b2e9404f845",clmm_global_config:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",clmm_global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",burn_pool_handle:"0xc9aacf74bd7cc8da8820ae28ca4473b7e01c87be19bc35bf81c9c7311e1b299e"}},peripheryConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"},limit_order:{package_id:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",published_at:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",config:{rate_orders_indexer_id:"0xe7fa62b6fc095ed5659b85c735f4322059e1f4616dcf3343adece6e7eb52bf47",rate_orders_indexer_handle:"0x81a95c812cab1c9cc7a1c10446d93d2d9517097211c72b544f7efed33b540bcc",global_config_id:"0xd3403f23a053b52e5c4ef0c2a8be316120c435ec338f2596647b6befd569fd9c",token_list_handle:"0x644a7f05eff2a1b4c266d7ce849c8494fb068a4e29037c7c523e5eb822389d8d",user_orders_indexer_id:"0x7f851ac19e438f97e78a5335eed4f12766a3a0ae94340bab7956a402f0e6212e",user_orders_indexer_handle:"0x84703679acd2eeaee8de4945be79d029ab94966bc22e0f6cfd696032fd31bbc7"}},frams:{package_id:"0x11ea791d82b5742cc8cab0bf7946035c97d9001d7c3803a93f119753da66f526",published_at:"0x585381670c3d7c1f78caeb6c803f449442659743f4047a01b942da08bbfa19f6",config:{global_config_id:"0x21215f2f6de04b57dd87d9be7bb4e15499aec935e36078e2488f36436d64996e",rewarder_manager_id:"0xe0e155a88c77025056da08db5b1701a91b79edb6167462f768e387c3ed6614d5",rewarder_manager_handle:"0xb32e312cbb3367d6f3d2b4e57c9225e903d29b7b9f612dae2ddf75bdeb26a5aa",admin_cap_id:"0xf10fbf1fea5b7aeaa524b87769461a28c5c977613046360093673991f26d886c"}},dca:{package_id:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",published_at:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",config:{admin_cap_id:"0xbcdd7391245dd8d6118a39bc83e6d9a7cfca899d06cc283c1a4cae41b2508574",global_config_id:"0x5db218756f8486fa2ac26fab590c4be4e439be54e6d932c9a30b20573a5b706a",indexer_id:"0x713f0968d042b48f4ec57e4e21bd7e346d06355f59776faedc9497ca990a9f77",user_indexer_id:"0x0ae365f60f2fa692831f9496c9e49b2440c74f14e8eab6f88dbb418c443b5020",in_coin_whitelist_id:"0x845643253afdfef9c4202e7af5e2de374b7f4766f78694903e8b2c0f83dab3ce",out_coin_whitelist_id:"0xe398b24a2b28f1ffd18394eaa78538d6ec8111dcb5fd919424bd3d42764c19f7"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:""}}}}},MainnetTokens={SUI:{id:"0x9258181f5ceac8dbffb7030890243caed69a9599d2886d957a9cb7656af3bdb3",coin_type:"0x2::sui::SUI",decimals:9,description:"",name:"Sui",symbol:"SUI",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",is_trusted:!0,extensions:{rank:"880"}},CETUS:{id:"0x4c0dce55eff2db5419bbd2d239d1aa22b4a400c01bbb648b058a9883989025da",coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",decimals:9,description:"",name:"Cetus Token",symbol:"CETUS",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",is_trusted:!0},xCETUS:{coin_type:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0},USDC:{id:"0x69b7a7c3c200439c1b5f3b19d7d495d5966d5f08de66c69276152f8db3992ec6",coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",decimals:6,description:"",name:"USDC",symbol:"USDC",logo_url:"https://circle.com/usdc-icon",is_trusted:!0,extensions:{rank:"1000"}}},MainnetCreatePoolQuoteTokens=["0x2::sui::SUI","0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x375f70cf2ae4c00bf37117d0c85a2c71545e6ee05c4a5c7d282cd66a4504b068::usdt::USDT","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS","0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI","0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK","0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT","0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI","0x83556891f4a0f233ce7b05cfe7f957d4020492a34f5405b2cb9377d060bef4bf::spring_sui::SPRING_SUI","0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN","0xaafb102dd0902f5055cadecd687fb5b71ca82ef0e0285d90afde828ec58ca96b::btc::BTC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD"];var lib$3={},SuiPriceServiceConnection$1={},lib$2={},PriceServiceConnection$1={},lib$1={},PriceFeed={};Object.defineProperty(PriceFeed,"__esModule",{value:!0});PriceFeed.Convert=void 0;class Convert{static toPriceFeed(et){return cast(et,r$1("PriceFeed"))}static priceFeedToJson(et){return uncast(et,r$1("PriceFeed"))}static toPrice(et){return cast(et,r$1("Price"))}static priceToJson(et){return uncast(et,r$1("Price"))}static toPriceFeedMetadata(et){return cast(et,r$1("PriceFeedMetadata"))}static priceFeedMetadataToJson(et){return uncast(et,r$1("PriceFeedMetadata"))}}PriceFeed.Convert=Convert;function invalidValue(nt,et,at=""){throw Error(at?`Invalid value for key "${at}". Expected type ${JSON.stringify(nt)} but got ${JSON.stringify(et)}`:`Invalid value ${JSON.stringify(et)} for type ${JSON.stringify(nt)}`)}function jsonToJSProps(nt){if(nt.jsonToJS===void 0){const et={};nt.props.forEach(at=>et[at.json]={key:at.js,typ:at.typ}),nt.jsonToJS=et}return nt.jsonToJS}function jsToJSONProps(nt){if(nt.jsToJSON===void 0){const et={};nt.props.forEach(at=>et[at.js]={key:at.json,typ:at.typ}),nt.jsToJSON=et}return nt.jsToJSON}function transform(nt,et,at,mt=""){function $t(Lt,Vt){return typeof Lt==typeof Vt?Vt:invalidValue(Lt,Vt,mt)}function Ct(Lt,Vt){const er=Lt.length;for(let ir=0;ir<er;ir++){const or=Lt[ir];try{return transform(Vt,or,at)}catch{}}return invalidValue(Lt,Vt)}function Dt(Lt,Vt){return Lt.indexOf(Vt)!==-1?Vt:invalidValue(Lt,Vt)}function Ft(Lt,Vt){return Array.isArray(Vt)?Vt.map(er=>transform(er,Lt,at)):invalidValue("array",Vt)}function Nt(Lt){if(Lt===null)return null;const Vt=new Date(Lt);return isNaN(Vt.valueOf())?invalidValue("Date",Lt):Vt}function jt(Lt,Vt,er){if(er===null||typeof er!="object"||Array.isArray(er))return invalidValue("object",er);const ir={};return Object.getOwnPropertyNames(Lt).forEach(or=>{const lr=Lt[or],dr=Object.prototype.hasOwnProperty.call(er,or)?er[or]:void 0;ir[lr.key]=transform(dr,lr.typ,at,lr.key)}),Object.getOwnPropertyNames(er).forEach(or=>{Object.prototype.hasOwnProperty.call(Lt,or)||(ir[or]=transform(er[or],Vt,at,or))}),ir}if(et==="any")return nt;if(et===null)return nt===null?nt:invalidValue(et,nt);if(et===!1)return invalidValue(et,nt);for(;typeof et=="object"&&et.ref!==void 0;)et=typeMap[et.ref];return Array.isArray(et)?Dt(et,nt):typeof et=="object"?et.hasOwnProperty("unionMembers")?Ct(et.unionMembers,nt):et.hasOwnProperty("arrayItems")?Ft(et.arrayItems,nt):et.hasOwnProperty("props")?jt(at(et),et.additional,nt):invalidValue(et,nt):et===Date&&typeof nt!="number"?Nt(nt):$t(et,nt)}function cast(nt,et){return transform(nt,et,jsonToJSProps)}function uncast(nt,et){return transform(nt,et,jsToJSONProps)}function u$1(...nt){return{unionMembers:nt}}function o(nt,et){return{props:nt,additional:et}}function r$1(nt){return{ref:nt}}const typeMap={PriceFeed:o([{json:"ema_price",js:"ema_price",typ:r$1("Price")},{json:"id",js:"id",typ:""},{json:"metadata",js:"metadata",typ:u$1(void 0,r$1("PriceFeedMetadata"))},{json:"price",js:"price",typ:r$1("Price")},{json:"vaa",js:"vaa",typ:u$1(void 0,"")}],"any"),Price:o([{json:"conf",js:"conf",typ:""},{json:"expo",js:"expo",typ:0},{json:"price",js:"price",typ:""},{json:"publish_time",js:"publish_time",typ:0}],"any"),PriceFeedMetadata:o([{json:"attestation_time",js:"attestation_time",typ:u$1(void 0,0)},{json:"emitter_chain",js:"emitter_chain",typ:0},{json:"prev_publish_time",js:"prev_publish_time",typ:u$1(void 0,0)},{json:"price_service_receive_time",js:"price_service_receive_time",typ:u$1(void 0,0)},{json:"sequence_number",js:"sequence_number",typ:u$1(void 0,0)},{json:"slot",js:"slot",typ:u$1(void 0,0)}],"any")};var AccumulatorUpdateData={},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(nt){return nt&&nt.__esModule?nt:{default:nt}};Object.defineProperty(AccumulatorUpdateData,"__esModule",{value:!0});AccumulatorUpdateData.parseAccumulatorUpdateData=AccumulatorUpdateData.sliceAccumulatorUpdateData=AccumulatorUpdateData.parseTwapMessage=AccumulatorUpdateData.parsePriceFeedMessage=AccumulatorUpdateData.isAccumulatorUpdateData=void 0;const bn_js_1=__importDefault$2(bnExports),ACCUMULATOR_MAGIC="504e4155",MAJOR_VERSION=1,MINOR_VERSION=0,KECCAK160_HASH_SIZE=20,PRICE_FEED_MESSAGE_VARIANT=0,TWAP_MESSAGE_VARIANT=1;function isAccumulatorUpdateData(nt){return nt.toString("hex").slice(0,8)===ACCUMULATOR_MAGIC&&nt[4]===MAJOR_VERSION&&nt[5]===MINOR_VERSION}AccumulatorUpdateData.isAccumulatorUpdateData=isAccumulatorUpdateData;function parsePriceFeedMessage(nt){let et=0;if(nt.readUInt8(et)!==PRICE_FEED_MESSAGE_VARIANT)throw new Error("Not a price feed message");et+=1;const mt=nt.subarray(et,et+32);et+=32;const $t=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const Ct=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const Dt=nt.readInt32BE(et);et+=4;const Ft=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const Nt=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const jt=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const Lt=new bn_js_1.default(nt.subarray(et,et+8),"be");return et+=8,{feedId:mt,price:$t,confidence:Ct,exponent:Dt,publishTime:Ft,prevPublishTime:Nt,emaPrice:jt,emaConf:Lt}}AccumulatorUpdateData.parsePriceFeedMessage=parsePriceFeedMessage;function parseTwapMessage(nt){let et=0;if(nt.readUInt8(et)!==TWAP_MESSAGE_VARIANT)throw new Error("Not a twap message");et+=1;const mt=nt.subarray(et,et+32);et+=32;const $t=new bn_js_1.default(nt.subarray(et,et+16),"be");et+=16;const Ct=new bn_js_1.default(nt.subarray(et,et+16),"be");et+=16;const Dt=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const Ft=nt.readInt32BE(et);et+=4;const Nt=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const jt=new bn_js_1.default(nt.subarray(et,et+8),"be");et+=8;const Lt=new bn_js_1.default(nt.subarray(et,et+8),"be");return et+=8,{feedId:mt,cumulativePrice:$t,cumulativeConf:Ct,numDownSlots:Dt,exponent:Ft,publishTime:Nt,prevPublishTime:jt,publishSlot:Lt}}AccumulatorUpdateData.parseTwapMessage=parseTwapMessage;function sliceAccumulatorUpdateData(nt,et,at){if(!isAccumulatorUpdateData(nt))throw new Error("Invalid accumulator message");let mt=6;const $t=nt.readUint8(mt);mt+=1+$t,mt+=1;const Ct=nt.readUint16BE(mt);mt+=2,mt+=Ct;const Dt=mt,Ft=[],Nt=nt.readUInt8(mt);mt+=1;for(let Lt=0;Lt<Nt;Lt++){const Vt=mt,er=nt.readUint16BE(mt);mt+=2,mt+=er;const ir=nt.readUInt8(mt);mt+=1,mt+=KECCAK160_HASH_SIZE*ir,Ft.push(nt.subarray(Vt,mt))}if(mt!==nt.length)throw new Error("Didn't reach the end of the message");const jt=Ft.slice(et,at);return Buffer$1.concat([nt.subarray(0,Dt),Buffer$1.from([jt.length]),...Ft.slice(et,at)])}AccumulatorUpdateData.sliceAccumulatorUpdateData=sliceAccumulatorUpdateData;function parseAccumulatorUpdateData(nt){if(!isAccumulatorUpdateData(nt))throw new Error("Invalid accumulator message");let et=6;const at=nt.readUint8(et);et+=1+at,et+=1;const mt=nt.readUint16BE(et);et+=2;const $t=nt.subarray(et,et+mt);et+=mt;const Ct=nt.readUInt8(et),Dt=[];et+=1;for(let Ft=0;Ft<Ct;Ft++){const Nt=nt.readUint16BE(et);et+=2;const jt=nt.subarray(et,et+Nt);et+=Nt;const Lt=nt.readUInt8(et);et+=1;const Vt=[];for(let er=0;er<Lt;er++)Vt.push(Array.from(nt.subarray(et,et+KECCAK160_HASH_SIZE))),et+=KECCAK160_HASH_SIZE;Dt.push({message:jt,proof:Vt})}if(et!==nt.length)throw new Error("Didn't reach the end of the message");return{vaa:$t,updates:Dt}}AccumulatorUpdateData.parseAccumulatorUpdateData=parseAccumulatorUpdateData;(function(nt){Object.defineProperty(nt,"__esModule",{value:!0}),nt.PriceFeed=nt.PriceFeedMetadata=nt.Price=nt.parseTwapMessage=nt.parsePriceFeedMessage=nt.parseAccumulatorUpdateData=nt.sliceAccumulatorUpdateData=nt.isAccumulatorUpdateData=void 0;const et=PriceFeed;var at=AccumulatorUpdateData;Object.defineProperty(nt,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return at.isAccumulatorUpdateData}}),Object.defineProperty(nt,"sliceAccumulatorUpdateData",{enumerable:!0,get:function(){return at.sliceAccumulatorUpdateData}}),Object.defineProperty(nt,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return at.parseAccumulatorUpdateData}}),Object.defineProperty(nt,"parsePriceFeedMessage",{enumerable:!0,get:function(){return at.parsePriceFeedMessage}}),Object.defineProperty(nt,"parseTwapMessage",{enumerable:!0,get:function(){return at.parseTwapMessage}});class mt{constructor(Ft){xa(this,"conf");xa(this,"expo");xa(this,"price");xa(this,"publishTime");this.conf=Ft.conf,this.expo=Ft.expo,this.price=Ft.price,this.publishTime=Ft.publishTime}getPriceAsNumberUnchecked(){return Number(this.price)*10**this.expo}getConfAsNumberUnchecked(){return Number(this.conf)*10**this.expo}static fromJson(Ft){const Nt=et.Convert.toPrice(Ft);return new mt({conf:Nt.conf,expo:Nt.expo,price:Nt.price,publishTime:Nt.publish_time})}toJson(){const Ft={conf:this.conf,expo:this.expo,price:this.price,publish_time:this.publishTime};return et.Convert.priceToJson(Ft)}}nt.Price=mt;class $t{constructor(Ft){xa(this,"attestationTime");xa(this,"emitterChain");xa(this,"priceServiceReceiveTime");xa(this,"sequenceNumber");xa(this,"slot");xa(this,"prevPublishTime");this.attestationTime=Ft.attestationTime,this.emitterChain=Ft.emitterChain,this.priceServiceReceiveTime=Ft.receiveTime,this.sequenceNumber=Ft.sequenceNumber,this.slot=Ft.slot,this.prevPublishTime=Ft.prevPublishTime}static fromJson(Ft){if(Ft===void 0)return;const Nt=et.Convert.toPriceFeedMetadata(Ft);return new $t({attestationTime:Nt.attestation_time,emitterChain:Nt.emitter_chain,receiveTime:Nt.price_service_receive_time,sequenceNumber:Nt.sequence_number,slot:Nt.slot,prevPublishTime:Nt.prev_publish_time})}toJson(){const Ft={attestation_time:this.attestationTime,emitter_chain:this.emitterChain,price_service_receive_time:this.priceServiceReceiveTime,sequence_number:this.sequenceNumber,slot:this.slot,prev_publish_time:this.prevPublishTime};return et.Convert.priceFeedMetadataToJson(Ft)}}nt.PriceFeedMetadata=$t;let Ct=class R0{constructor(Ft){xa(this,"emaPrice");xa(this,"id");xa(this,"metadata");xa(this,"vaa");xa(this,"price");this.emaPrice=Ft.emaPrice,this.id=Ft.id,this.metadata=Ft.metadata,this.vaa=Ft.vaa,this.price=Ft.price}static fromJson(Ft){const Nt=et.Convert.toPriceFeed(Ft);return new R0({emaPrice:mt.fromJson(Nt.ema_price),id:Nt.id,metadata:$t.fromJson(Nt.metadata),vaa:Nt.vaa,price:mt.fromJson(Nt.price)})}toJson(){var Nt;const Ft={ema_price:this.emaPrice.toJson(),id:this.id,metadata:(Nt=this.metadata)==null?void 0:Nt.toJson(),price:this.price.toJson()};return et.Convert.priceFeedToJson(Ft)}getPriceUnchecked(){return this.price}getEmaPriceUnchecked(){return this.emaPrice}getPriceNoOlderThan(Ft){const Nt=this.getPriceUnchecked(),jt=Math.floor(Date.now()/1e3);if(!(Math.abs(jt-Nt.publishTime)>Ft))return Nt}getEmaPriceNoOlderThan(Ft){const Nt=this.getEmaPriceUnchecked(),jt=Math.floor(Date.now()/1e3);if(!(Math.abs(jt-Nt.publishTime)>Ft))return Nt}getMetadata(){return this.metadata}getVAA(){return this.vaa}};nt.PriceFeed=Ct})(lib$1);const require$$0$1=getAugmentedNamespace(axios);var axiosRetry$2={exports:{}},cjs={},interopRequireDefault={exports:{}};(function(nt){function et(at){return at&&at.__esModule?at:{default:at}}nt.exports=et,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,regeneratorRuntime$1={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(nt){function et(at){"@babel/helpers - typeof";return nt.exports=et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(mt){return typeof mt}:function(mt){return mt&&typeof Symbol=="function"&&mt.constructor===Symbol&&mt!==Symbol.prototype?"symbol":typeof mt},nt.exports.__esModule=!0,nt.exports.default=nt.exports,et(at)}nt.exports=et,nt.exports.__esModule=!0,nt.exports.default=nt.exports}(_typeof)),_typeof.exports}var hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(nt){var et=require_typeof().default;function at(){nt.exports=at=function(){return $t},nt.exports.__esModule=!0,nt.exports.default=nt.exports;var mt,$t={},Ct=Object.prototype,Dt=Ct.hasOwnProperty,Ft=Object.defineProperty||function(sr,Yt,ur){sr[Yt]=ur.value},Nt=typeof Symbol=="function"?Symbol:{},jt=Nt.iterator||"@@iterator",Lt=Nt.asyncIterator||"@@asyncIterator",Vt=Nt.toStringTag||"@@toStringTag";function er(sr,Yt,ur){return Object.defineProperty(sr,Yt,{value:ur,enumerable:!0,configurable:!0,writable:!0}),sr[Yt]}try{er({},"")}catch{er=function(ur,_r,yr){return ur[_r]=yr}}function ir(sr,Yt,ur,_r){var yr=Yt&&Yt.prototype instanceof br?Yt:br,wr=Object.create(yr.prototype),Ir=new cr(_r||[]);return Ft(wr,"_invoke",{value:tr(sr,ur,Ir)}),wr}function or(sr,Yt,ur){try{return{type:"normal",arg:sr.call(Yt,ur)}}catch(_r){return{type:"throw",arg:_r}}}$t.wrap=ir;var lr="suspendedStart",dr="suspendedYield",pr="executing",hr="completed",vr={};function br(){}function xr(){}function Sr(){}var Er={};er(Er,jt,function(){return this});var $r=Object.getPrototypeOf,Cr=$r&&$r($r(fr([])));Cr&&Cr!==Ct&&Dt.call(Cr,jt)&&(Er=Cr);var kr=Sr.prototype=br.prototype=Object.create(Er);function gr(sr){["next","throw","return"].forEach(function(Yt){er(sr,Yt,function(ur){return this._invoke(Yt,ur)})})}function Ut(sr,Yt){function ur(yr,wr,Ir,Or){var Ar=or(sr[yr],sr,wr);if(Ar.type!=="throw"){var Nr=Ar.arg,Hr=Nr.value;return Hr&&et(Hr)=="object"&&Dt.call(Hr,"__await")?Yt.resolve(Hr.__await).then(function(Pr){ur("next",Pr,Ir,Or)},function(Pr){ur("throw",Pr,Ir,Or)}):Yt.resolve(Hr).then(function(Pr){Nr.value=Pr,Ir(Nr)},function(Pr){return ur("throw",Pr,Ir,Or)})}Or(Ar.arg)}var _r;Ft(this,"_invoke",{value:function(wr,Ir){function Or(){return new Yt(function(Ar,Nr){ur(wr,Ir,Ar,Nr)})}return _r=_r?_r.then(Or,Or):Or()}})}function tr(sr,Yt,ur){var _r=lr;return function(yr,wr){if(_r===pr)throw Error("Generator is already running");if(_r===hr){if(yr==="throw")throw wr;return{value:mt,done:!0}}for(ur.method=yr,ur.arg=wr;;){var Ir=ur.delegate;if(Ir){var Or=nr(Ir,ur);if(Or){if(Or===vr)continue;return Or}}if(ur.method==="next")ur.sent=ur._sent=ur.arg;else if(ur.method==="throw"){if(_r===lr)throw _r=hr,ur.arg;ur.dispatchException(ur.arg)}else ur.method==="return"&&ur.abrupt("return",ur.arg);_r=pr;var Ar=or(sr,Yt,ur);if(Ar.type==="normal"){if(_r=ur.done?hr:dr,Ar.arg===vr)continue;return{value:Ar.arg,done:ur.done}}Ar.type==="throw"&&(_r=hr,ur.method="throw",ur.arg=Ar.arg)}}}function nr(sr,Yt){var ur=Yt.method,_r=sr.iterator[ur];if(_r===mt)return Yt.delegate=null,ur==="throw"&&sr.iterator.return&&(Yt.method="return",Yt.arg=mt,nr(sr,Yt),Yt.method==="throw")||ur!=="return"&&(Yt.method="throw",Yt.arg=new TypeError("The iterator does not provide a '"+ur+"' method")),vr;var yr=or(_r,sr.iterator,Yt.arg);if(yr.type==="throw")return Yt.method="throw",Yt.arg=yr.arg,Yt.delegate=null,vr;var wr=yr.arg;return wr?wr.done?(Yt[sr.resultName]=wr.value,Yt.next=sr.nextLoc,Yt.method!=="return"&&(Yt.method="next",Yt.arg=mt),Yt.delegate=null,vr):wr:(Yt.method="throw",Yt.arg=new TypeError("iterator result is not an object"),Yt.delegate=null,vr)}function rr(sr){var Yt={tryLoc:sr[0]};1 in sr&&(Yt.catchLoc=sr[1]),2 in sr&&(Yt.finallyLoc=sr[2],Yt.afterLoc=sr[3]),this.tryEntries.push(Yt)}function ar(sr){var Yt=sr.completion||{};Yt.type="normal",delete Yt.arg,sr.completion=Yt}function cr(sr){this.tryEntries=[{tryLoc:"root"}],sr.forEach(rr,this),this.reset(!0)}function fr(sr){if(sr||sr===""){var Yt=sr[jt];if(Yt)return Yt.call(sr);if(typeof sr.next=="function")return sr;if(!isNaN(sr.length)){var ur=-1,_r=function yr(){for(;++ur<sr.length;)if(Dt.call(sr,ur))return yr.value=sr[ur],yr.done=!1,yr;return yr.value=mt,yr.done=!0,yr};return _r.next=_r}}throw new TypeError(et(sr)+" is not iterable")}return xr.prototype=Sr,Ft(kr,"constructor",{value:Sr,configurable:!0}),Ft(Sr,"constructor",{value:xr,configurable:!0}),xr.displayName=er(Sr,Vt,"GeneratorFunction"),$t.isGeneratorFunction=function(sr){var Yt=typeof sr=="function"&&sr.constructor;return!!Yt&&(Yt===xr||(Yt.displayName||Yt.name)==="GeneratorFunction")},$t.mark=function(sr){return Object.setPrototypeOf?Object.setPrototypeOf(sr,Sr):(sr.__proto__=Sr,er(sr,Vt,"GeneratorFunction")),sr.prototype=Object.create(kr),sr},$t.awrap=function(sr){return{__await:sr}},gr(Ut.prototype),er(Ut.prototype,Lt,function(){return this}),$t.AsyncIterator=Ut,$t.async=function(sr,Yt,ur,_r,yr){yr===void 0&&(yr=Promise);var wr=new Ut(ir(sr,Yt,ur,_r),yr);return $t.isGeneratorFunction(Yt)?wr:wr.next().then(function(Ir){return Ir.done?Ir.value:wr.next()})},gr(kr),er(kr,Vt,"Generator"),er(kr,jt,function(){return this}),er(kr,"toString",function(){return"[object Generator]"}),$t.keys=function(sr){var Yt=Object(sr),ur=[];for(var _r in Yt)ur.push(_r);return ur.reverse(),function yr(){for(;ur.length;){var wr=ur.pop();if(wr in Yt)return yr.value=wr,yr.done=!1,yr}return yr.done=!0,yr}},$t.values=fr,cr.prototype={constructor:cr,reset:function(Yt){if(this.prev=0,this.next=0,this.sent=this._sent=mt,this.done=!1,this.delegate=null,this.method="next",this.arg=mt,this.tryEntries.forEach(ar),!Yt)for(var ur in this)ur.charAt(0)==="t"&&Dt.call(this,ur)&&!isNaN(+ur.slice(1))&&(this[ur]=mt)},stop:function(){this.done=!0;var Yt=this.tryEntries[0].completion;if(Yt.type==="throw")throw Yt.arg;return this.rval},dispatchException:function(Yt){if(this.done)throw Yt;var ur=this;function _r(Nr,Hr){return Ir.type="throw",Ir.arg=Yt,ur.next=Nr,Hr&&(ur.method="next",ur.arg=mt),!!Hr}for(var yr=this.tryEntries.length-1;yr>=0;--yr){var wr=this.tryEntries[yr],Ir=wr.completion;if(wr.tryLoc==="root")return _r("end");if(wr.tryLoc<=this.prev){var Or=Dt.call(wr,"catchLoc"),Ar=Dt.call(wr,"finallyLoc");if(Or&&Ar){if(this.prev<wr.catchLoc)return _r(wr.catchLoc,!0);if(this.prev<wr.finallyLoc)return _r(wr.finallyLoc)}else if(Or){if(this.prev<wr.catchLoc)return _r(wr.catchLoc,!0)}else{if(!Ar)throw Error("try statement without catch or finally");if(this.prev<wr.finallyLoc)return _r(wr.finallyLoc)}}}},abrupt:function(Yt,ur){for(var _r=this.tryEntries.length-1;_r>=0;--_r){var yr=this.tryEntries[_r];if(yr.tryLoc<=this.prev&&Dt.call(yr,"finallyLoc")&&this.prev<yr.finallyLoc){var wr=yr;break}}wr&&(Yt==="break"||Yt==="continue")&&wr.tryLoc<=ur&&ur<=wr.finallyLoc&&(wr=null);var Ir=wr?wr.completion:{};return Ir.type=Yt,Ir.arg=ur,wr?(this.method="next",this.next=wr.finallyLoc,vr):this.complete(Ir)},complete:function(Yt,ur){if(Yt.type==="throw")throw Yt.arg;return Yt.type==="break"||Yt.type==="continue"?this.next=Yt.arg:Yt.type==="return"?(this.rval=this.arg=Yt.arg,this.method="return",this.next="end"):Yt.type==="normal"&&ur&&(this.next=ur),vr},finish:function(Yt){for(var ur=this.tryEntries.length-1;ur>=0;--ur){var _r=this.tryEntries[ur];if(_r.finallyLoc===Yt)return this.complete(_r.completion,_r.afterLoc),ar(_r),vr}},catch:function(Yt){for(var ur=this.tryEntries.length-1;ur>=0;--ur){var _r=this.tryEntries[ur];if(_r.tryLoc===Yt){var yr=_r.completion;if(yr.type==="throw"){var wr=yr.arg;ar(_r)}return wr}}throw Error("illegal catch attempt")},delegateYield:function(Yt,ur,_r){return this.delegate={iterator:fr(Yt),resultName:ur,nextLoc:_r},this.method==="next"&&(this.arg=mt),vr}},$t}nt.exports=at,nt.exports.__esModule=!0,nt.exports.default=nt.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var nt=requireRegeneratorRuntime()();regenerator=nt;try{regeneratorRuntime=nt}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=nt:Function("r","regeneratorRuntime = r")(nt)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(nt){function et(mt,$t,Ct,Dt,Ft,Nt,jt){try{var Lt=mt[Nt](jt),Vt=Lt.value}catch(er){return void Ct(er)}Lt.done?$t(Vt):Promise.resolve(Vt).then(Dt,Ft)}function at(mt){return function(){var $t=this,Ct=arguments;return new Promise(function(Dt,Ft){var Nt=mt.apply($t,Ct);function jt(Vt){et(Nt,Dt,Ft,jt,Lt,"next",Vt)}function Lt(Vt){et(Nt,Dt,Ft,jt,Lt,"throw",Vt)}jt(void 0)})}}nt.exports=at,nt.exports.__esModule=!0,nt.exports.default=nt.exports}(asyncToGenerator)),asyncToGenerator.exports}var defineProperty={exports:{}},toPropertyKey={exports:{}},toPrimitive={exports:{}},hasRequiredToPrimitive;function requireToPrimitive(){return hasRequiredToPrimitive||(hasRequiredToPrimitive=1,function(nt){var et=require_typeof().default;function at(mt,$t){if(et(mt)!="object"||!mt)return mt;var Ct=mt[Symbol.toPrimitive];if(Ct!==void 0){var Dt=Ct.call(mt,$t||"default");if(et(Dt)!="object")return Dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($t==="string"?String:Number)(mt)}nt.exports=at,nt.exports.__esModule=!0,nt.exports.default=nt.exports}(toPrimitive)),toPrimitive.exports}var hasRequiredToPropertyKey;function requireToPropertyKey(){return hasRequiredToPropertyKey||(hasRequiredToPropertyKey=1,function(nt){var et=require_typeof().default,at=requireToPrimitive();function mt($t){var Ct=at($t,"string");return et(Ct)=="symbol"?Ct:Ct+""}nt.exports=mt,nt.exports.__esModule=!0,nt.exports.default=nt.exports}(toPropertyKey)),toPropertyKey.exports}var hasRequiredDefineProperty;function requireDefineProperty(){return hasRequiredDefineProperty||(hasRequiredDefineProperty=1,function(nt){var et=requireToPropertyKey();function at(mt,$t,Ct){return($t=et($t))in mt?Object.defineProperty(mt,$t,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):mt[$t]=Ct,mt}nt.exports=at,nt.exports.__esModule=!0,nt.exports.default=nt.exports}(defineProperty)),defineProperty.exports}var isRetryAllowed,hasRequiredIsRetryAllowed;function requireIsRetryAllowed(){if(hasRequiredIsRetryAllowed)return isRetryAllowed;hasRequiredIsRetryAllowed=1;const nt=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return isRetryAllowed=et=>!nt.has(et&&et.code),isRetryAllowed}var _interopRequireDefault$t=interopRequireDefaultExports;Object.defineProperty(cjs,"__esModule",{value:!0});cjs.isNetworkError=isNetworkError;cjs.isRetryableError=isRetryableError;cjs.isSafeRequestError=isSafeRequestError;cjs.isIdempotentRequestError=isIdempotentRequestError;cjs.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;cjs.exponentialDelay=exponentialDelay;cjs.default=axiosRetry$1;cjs.DEFAULT_OPTIONS=cjs.namespace=void 0;var _regenerator=_interopRequireDefault$t(requireRegenerator()),_typeof2=_interopRequireDefault$t(require_typeof()),_asyncToGenerator2=_interopRequireDefault$t(requireAsyncToGenerator()),_defineProperty2$6=_interopRequireDefault$t(requireDefineProperty()),_isRetryAllowed=_interopRequireDefault$t(requireIsRetryAllowed());function ownKeys(nt,et){var at=Object.keys(nt);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(nt);et&&(mt=mt.filter(function($t){return Object.getOwnPropertyDescriptor(nt,$t).enumerable})),at.push.apply(at,mt)}return at}function _objectSpread(nt){for(var et=1;et<arguments.length;et++){var at=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object(at),!0).forEach(function(mt){(0,_defineProperty2$6.default)(nt,mt,at[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(at)):ownKeys(Object(at)).forEach(function(mt){Object.defineProperty(nt,mt,Object.getOwnPropertyDescriptor(at,mt))})}return nt}var namespace="axios-retry";cjs.namespace=namespace;function isNetworkError(nt){var et=["ERR_CANCELED","ECONNABORTED"];return!nt.response&&!!nt.code&&!et.includes(nt.code)&&(0,_isRetryAllowed.default)(nt)}var SAFE_HTTP_METHODS=["get","head","options"],IDEMPOTENT_HTTP_METHODS=SAFE_HTTP_METHODS.concat(["put","delete"]);function isRetryableError(nt){return nt.code!=="ECONNABORTED"&&(!nt.response||nt.response.status>=500&&nt.response.status<=599)}function isSafeRequestError(nt){return nt.config?isRetryableError(nt)&&SAFE_HTTP_METHODS.indexOf(nt.config.method)!==-1:!1}function isIdempotentRequestError(nt){return nt.config?isRetryableError(nt)&&IDEMPOTENT_HTTP_METHODS.indexOf(nt.config.method)!==-1:!1}function isNetworkOrIdempotentRequestError(nt){return isNetworkError(nt)||isIdempotentRequestError(nt)}function noDelay(){return 0}function exponentialDelay(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,at=Math.pow(2,nt)*et,mt=at*.2*Math.random();return at+mt}var DEFAULT_OPTIONS={retries:3,retryCondition:isNetworkOrIdempotentRequestError,retryDelay:noDelay,shouldResetTimeout:!1,onRetry:function nt(){}};cjs.DEFAULT_OPTIONS=DEFAULT_OPTIONS;function getRequestOptions(nt,et){return _objectSpread(_objectSpread(_objectSpread({},DEFAULT_OPTIONS),et),nt[namespace])}function getCurrentState(nt,et){var at=getRequestOptions(nt,et);return at.retryCount=at.retryCount||0,nt[namespace]=at,at}function fixConfig(nt,et){nt.defaults.agent===et.agent&&delete et.agent,nt.defaults.httpAgent===et.httpAgent&&delete et.httpAgent,nt.defaults.httpsAgent===et.httpsAgent&&delete et.httpsAgent}function shouldRetry(nt,et){return _shouldRetry.apply(this,arguments)}function _shouldRetry(){return _shouldRetry=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function nt(et,at){var mt,$t,Ct,Dt;return _regenerator.default.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:if(mt=et.retries,$t=et.retryCondition,Ct=et.retryCount<mt&&$t(at),(0,_typeof2.default)(Ct)!=="object"){Nt.next=13;break}return Nt.prev=3,Nt.next=6,Ct;case 6:return Dt=Nt.sent,Nt.abrupt("return",Dt!==!1);case 10:return Nt.prev=10,Nt.t0=Nt.catch(3),Nt.abrupt("return",!1);case 13:return Nt.abrupt("return",Ct);case 14:case"end":return Nt.stop()}},nt,null,[[3,10]])})),_shouldRetry.apply(this,arguments)}function axiosRetry$1(nt,et){var at=nt.interceptors.request.use(function($t){var Ct=getCurrentState($t,et);return Ct.lastRequestTime=Date.now(),$t}),mt=nt.interceptors.response.use(null,function(){var $t=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function Ct(Dt){var Ft,Nt,jt,Lt,Vt,er,ir,or;return _regenerator.default.wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:if(Ft=Dt.config,Ft){dr.next=3;break}return dr.abrupt("return",Promise.reject(Dt));case 3:return Nt=getCurrentState(Ft,et),dr.next=6,shouldRetry(Nt,Dt);case 6:if(!dr.sent){dr.next=21;break}if(Nt.retryCount+=1,jt=Nt.retryDelay,Lt=Nt.shouldResetTimeout,Vt=Nt.onRetry,er=jt(Nt.retryCount,Dt),fixConfig(nt,Ft),!(!Lt&&Ft.timeout&&Nt.lastRequestTime)){dr.next=17;break}if(ir=Date.now()-Nt.lastRequestTime,or=Ft.timeout-ir-er,!(or<=0)){dr.next=16;break}return dr.abrupt("return",Promise.reject(Dt));case 16:Ft.timeout=or;case 17:return Ft.transformRequest=[function(pr){return pr}],dr.next=20,Vt(Nt.retryCount,Dt,Ft);case 20:return dr.abrupt("return",new Promise(function(pr){return setTimeout(function(){return pr(nt(Ft))},er)}));case 21:return dr.abrupt("return",Promise.reject(Dt));case 22:case"end":return dr.stop()}},Ct)}));return function(Ct){return $t.apply(this,arguments)}}());return{requestInterceptorId:at,responseInterceptorId:mt}}axiosRetry$1.isNetworkError=isNetworkError;axiosRetry$1.isSafeRequestError=isSafeRequestError;axiosRetry$1.isIdempotentRequestError=isIdempotentRequestError;axiosRetry$1.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;axiosRetry$1.exponentialDelay=exponentialDelay;axiosRetry$1.isRetryableError=isRetryableError;const axiosRetry=cjs.default;axiosRetry$2.exports=axiosRetry;axiosRetry$2.exports.default=axiosRetry;var axiosRetryExports=axiosRetry$2.exports,ResillientWebSocket={},ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof commonjsGlobal$1<"u"?ws=commonjsGlobal$1.WebSocket||commonjsGlobal$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);var browser$2=ws,__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(nt){return nt&&nt.__esModule?nt:{default:nt}};Object.defineProperty(ResillientWebSocket,"__esModule",{value:!0});ResillientWebSocket.ResilientWebSocket=void 0;const isomorphic_ws_1=__importDefault$1(browser$2),PING_TIMEOUT_DURATION=33e3;class ResilientWebSocket{constructor(et,at){xa(this,"endpoint");xa(this,"wsClient");xa(this,"wsUserClosed");xa(this,"wsFailedAttempts");xa(this,"pingTimeout");xa(this,"logger");xa(this,"onError");xa(this,"onMessage");xa(this,"onReconnect");this.endpoint=et,this.logger=at,this.wsFailedAttempts=0,this.onError=mt=>{var $t;($t=this.logger)==null||$t.error(mt)},this.wsUserClosed=!0,this.onMessage=()=>{},this.onReconnect=()=>{}}async send(et){var at,mt,$t;(at=this.logger)==null||at.info(`Sending ${et}`),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0?(mt=this.logger)==null||mt.error("Couldn't connect to the websocket server. Error callback is called."):($t=this.wsClient)==null||$t.send(et)}async startWebSocket(){var et;this.wsClient===void 0&&((et=this.logger)==null||et.info("Creating Web Socket client"),this.wsClient=new isomorphic_ws_1.default(this.endpoint),this.wsUserClosed=!1,this.wsClient.onopen=()=>{this.wsFailedAttempts=0,this.wsClient.on!==void 0&&this.heartbeat()},this.wsClient.onerror=at=>{this.onError(at.error)},this.wsClient.onmessage=at=>{this.onMessage(at.data)},this.wsClient.onclose=async()=>{var at,mt;if(this.pingTimeout!==void 0&&clearInterval(this.pingTimeout),this.wsUserClosed===!1){this.wsFailedAttempts+=1,this.wsClient=void 0;const $t=expoBackoff(this.wsFailedAttempts);(at=this.logger)==null||at.error(`Connection closed unexpectedly or because of timeout. Reconnecting after ${$t}ms.`),await sleep($t),this.restartUnexpectedClosedWebsocket()}else(mt=this.logger)==null||mt.info("The connection has been closed successfully.")},this.wsClient.on!==void 0&&this.wsClient.on("ping",this.heartbeat.bind(this)))}heartbeat(){var et;(et=this.logger)==null||et.info("Heartbeat"),this.pingTimeout!==void 0&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var at,mt;(at=this.logger)==null||at.warn("Connection timed out. Reconnecting..."),(mt=this.wsClient)==null||mt.terminate(),this.restartUnexpectedClosedWebsocket()},PING_TIMEOUT_DURATION)}async waitForMaybeReadyWebSocket(){let et=0;for(;this.wsClient!==void 0&&this.wsClient.readyState!==this.wsClient.OPEN;)if(et>5e3){this.wsClient.close();return}else et+=10,await sleep(10)}async restartUnexpectedClosedWebsocket(){var et;if(this.wsUserClosed!==!0){if(await this.startWebSocket(),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0){(et=this.logger)==null||et.error("Couldn't reconnect to websocket. Error callback is called.");return}this.onReconnect()}}closeWebSocket(){if(this.wsClient!==void 0){const et=this.wsClient;this.wsClient=void 0,et.close()}this.wsUserClosed=!0}}ResillientWebSocket.ResilientWebSocket=ResilientWebSocket;async function sleep(nt){return new Promise(et=>setTimeout(et,nt))}function expoBackoff(nt){return 2**nt*100}var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.removeLeading0xIfExists=utils.makeWebsocketUrl=void 0;function makeWebsocketUrl(nt){const et=new URL("ws",nt),at=et.protocol==="https:";return et.protocol=at?"wss:":"ws:",et.toString()}utils.makeWebsocketUrl=makeWebsocketUrl;function removeLeading0xIfExists(nt){return nt.startsWith("0x")?nt.substring(2):nt}utils.removeLeading0xIfExists=removeLeading0xIfExists;var __importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(nt){return nt&&nt.__esModule?nt:{default:nt}};Object.defineProperty(PriceServiceConnection$1,"__esModule",{value:!0});PriceServiceConnection$1.PriceServiceConnection=void 0;const price_service_sdk_1=lib$1,axios_1$1=__importDefault(require$$0$1),axios_retry_1=__importDefault(axiosRetryExports),ResillientWebSocket_1=ResillientWebSocket,utils_1$1=utils;class PriceServiceConnection{constructor(et,at){xa(this,"httpClient");xa(this,"priceFeedCallbacks");xa(this,"wsClient");xa(this,"wsEndpoint");xa(this,"logger");xa(this,"priceFeedRequestConfig");xa(this,"onWsError");var mt,$t,Ct;this.httpClient=axios_1$1.default.create({baseURL:et,timeout:(at==null?void 0:at.timeout)||5e3}),(0,axios_retry_1.default)(this.httpClient,{retries:(at==null?void 0:at.httpRetries)||3,retryDelay:axios_retry_1.default.exponentialDelay}),this.priceFeedRequestConfig={binary:(mt=at==null?void 0:at.priceFeedRequestConfig)==null?void 0:mt.binary,verbose:(($t=at==null?void 0:at.priceFeedRequestConfig)==null?void 0:$t.verbose)??(at==null?void 0:at.verbose),allowOutOfOrder:(Ct=at==null?void 0:at.priceFeedRequestConfig)==null?void 0:Ct.allowOutOfOrder},this.priceFeedCallbacks=new Map,this.logger=(at==null?void 0:at.logger)||{trace:()=>{},debug:()=>{},info:()=>{},warn:console.warn,error:console.error},this.onWsError=Dt=>{this.logger.error(Dt),typeof process$1<"u"&&typeof process$1.exit=="function"?(this.logger.error("Halting the process due to the websocket error"),process$1.exit(1)):this.logger.error("Cannot halt process. Please handle the websocket error.")},this.wsEndpoint=(0,utils_1$1.makeWebsocketUrl)(et)}async getLatestPriceFeeds(et){return et.length===0?[]:(await this.httpClient.get("/api/latest_price_feeds",{params:{ids:et,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}})).data.map($t=>price_service_sdk_1.PriceFeed.fromJson($t))}async getLatestVaas(et){return(await this.httpClient.get("/api/latest_vaas",{params:{ids:et}})).data}async getVaa(et,at){const mt=await this.httpClient.get("/api/get_vaa",{params:{id:et,publish_time:at}});return[mt.data.vaa,mt.data.publishTime]}async getPriceFeed(et,at){const mt=await this.httpClient.get("/api/get_price_feed",{params:{id:et,publish_time:at,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}});return price_service_sdk_1.PriceFeed.fromJson(mt.data)}async getPriceFeedIds(){return(await this.httpClient.get("/api/price_feed_ids")).data}async subscribePriceFeedUpdates(et,at){var Ct;this.wsClient===void 0&&await this.startWebSocket(),et=et.map(Dt=>(0,utils_1$1.removeLeading0xIfExists)(Dt));const mt=[];for(const Dt of et)this.priceFeedCallbacks.has(Dt)||(this.priceFeedCallbacks.set(Dt,new Set),mt.push(Dt)),this.priceFeedCallbacks.get(Dt).add(at);const $t={ids:mt,type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};await((Ct=this.wsClient)==null?void 0:Ct.send(JSON.stringify($t)))}async unsubscribePriceFeedUpdates(et,at){var Ct;this.wsClient===void 0&&await this.startWebSocket(),et=et.map(Dt=>(0,utils_1$1.removeLeading0xIfExists)(Dt));const mt=[];for(const Dt of et)if(this.priceFeedCallbacks.has(Dt)){let Ft=!1;at===void 0?(this.priceFeedCallbacks.delete(Dt),Ft=!0):(this.priceFeedCallbacks.get(Dt).delete(at),this.priceFeedCallbacks.get(Dt).size===0&&(this.priceFeedCallbacks.delete(Dt),Ft=!0)),Ft&&mt.push(Dt)}const $t={ids:mt,type:"unsubscribe"};await((Ct=this.wsClient)==null?void 0:Ct.send(JSON.stringify($t))),this.priceFeedCallbacks.size===0&&this.closeWebSocket()}async startWebSocket(){if(this.wsEndpoint===void 0)throw new Error("Websocket endpoint is undefined.");this.wsClient=new ResillientWebSocket_1.ResilientWebSocket(this.wsEndpoint,this.logger),this.wsClient.onError=this.onWsError,this.wsClient.onReconnect=()=>{var et;if(this.priceFeedCallbacks.size>0){const at={ids:Array.from(this.priceFeedCallbacks.keys()),type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};this.logger.info("Resubscribing to existing price feeds."),(et=this.wsClient)==null||et.send(JSON.stringify(at))}},this.wsClient.onMessage=et=>{this.logger.info(`Received message ${et.toString()}`);let at;try{at=JSON.parse(et.toString())}catch(mt){this.logger.error(`Error parsing message ${et.toString()} as JSON.`),this.logger.error(mt),this.onWsError(mt);return}if(at.type==="response")at.status==="error"&&(this.logger.error(`Error response from the websocket server ${at.error}.`),this.onWsError(new Error(at.error)));else if(at.type==="price_update"){let mt;try{mt=price_service_sdk_1.PriceFeed.fromJson(at.price_feed)}catch($t){this.logger.error(`Error parsing price feeds from message ${et.toString()}.`),this.logger.error($t),this.onWsError($t);return}if(this.priceFeedCallbacks.has(mt.id))for(const $t of this.priceFeedCallbacks.get(mt.id))$t(mt)}else this.logger.warn(`Ignoring unsupported server response ${et.toString()}.`)},await this.wsClient.startWebSocket()}closeWebSocket(){var et;(et=this.wsClient)==null||et.closeWebSocket(),this.wsClient=void 0,this.priceFeedCallbacks.clear()}}PriceServiceConnection$1.PriceServiceConnection=PriceServiceConnection;(function(nt){Object.defineProperty(nt,"__esModule",{value:!0}),nt.parseAccumulatorUpdateData=nt.isAccumulatorUpdateData=nt.Price=nt.PriceFeed=nt.PriceFeedMetadata=nt.PriceServiceConnection=void 0;var et=PriceServiceConnection$1;Object.defineProperty(nt,"PriceServiceConnection",{enumerable:!0,get:function(){return et.PriceServiceConnection}});var at=lib$1;Object.defineProperty(nt,"PriceFeedMetadata",{enumerable:!0,get:function(){return at.PriceFeedMetadata}}),Object.defineProperty(nt,"PriceFeed",{enumerable:!0,get:function(){return at.PriceFeed}}),Object.defineProperty(nt,"Price",{enumerable:!0,get:function(){return at.Price}}),Object.defineProperty(nt,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return at.isAccumulatorUpdateData}}),Object.defineProperty(nt,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return at.parseAccumulatorUpdateData}})})(lib$2);Object.defineProperty(SuiPriceServiceConnection$1,"__esModule",{value:!0});SuiPriceServiceConnection$1.SuiPriceServiceConnection=void 0;const price_service_client_1=lib$2,buffer_1$1=require$$2$1;class SuiPriceServiceConnection extends price_service_client_1.PriceServiceConnection{async getPriceFeedsUpdateData(et){return(await this.getLatestVaas(et)).map(mt=>buffer_1$1.Buffer.from(mt,"base64"))}}SuiPriceServiceConnection$1.SuiPriceServiceConnection=SuiPriceServiceConnection;var client={};const require$$0=getAugmentedNamespace(utils$7),require$$1=getAugmentedNamespace(bcs);Object.defineProperty(client,"__esModule",{value:!0});client.SuiPythClient=void 0;const utils_1=require$$0,bcs_1=require$$1,buffer_1=require$$2$1,MAX_ARGUMENT_SIZE=16*1024;class SuiPythClient{constructor(et,at,mt){xa(this,"provider");xa(this,"pythStateId");xa(this,"wormholeStateId");xa(this,"pythPackageId");xa(this,"wormholePackageId");xa(this,"priceTableInfo");xa(this,"priceFeedObjectIdCache",new Map);xa(this,"baseUpdateFee");this.provider=et,this.pythStateId=at,this.wormholeStateId=mt,this.pythPackageId=void 0,this.wormholePackageId=void 0}async getBaseUpdateFee(){if(this.baseUpdateFee===void 0){const et=await this.provider.getObject({id:this.pythStateId,options:{showContent:!0}});if(!et.data||!et.data.content||et.data.content.dataType!=="moveObject")throw new Error("Unable to fetch pyth state object");this.baseUpdateFee=et.data.content.fields.base_update_fee}return this.baseUpdateFee}async getPackageId(et){const at=await this.provider.getObject({id:et,options:{showContent:!0}}).then(mt=>{var $t,Ct,Dt;if(((Ct=($t=mt.data)==null?void 0:$t.content)==null?void 0:Ct.dataType)=="moveObject")return mt.data.content.fields;throw console.log((Dt=mt.data)==null?void 0:Dt.content),new Error(`Cannot fetch package id for object ${et}`)});if("upgrade_cap"in at)return at.upgrade_cap.fields.package;throw new Error("upgrade_cap not found")}async verifyVaas(et,at){const mt=await this.getWormholePackageId(),$t=[];for(const Ct of et){const[Dt]=at.moveCall({target:`${mt}::vaa::parse_and_verify`,arguments:[at.object(this.wormholeStateId),at.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(Ct),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),at.object(utils_1.SUI_CLOCK_OBJECT_ID)]});$t.push(Dt)}return $t}async updatePriceFeeds(et,at,mt){const $t=await this.getPythPackageId();let Ct;if(at.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const Dt=this.extractVaaBytesFromAccumulatorMessage(at[0]),Ft=await this.verifyVaas([Dt],et);[Ct]=et.moveCall({target:`${$t}::pyth::create_authenticated_price_infos_using_accumulator`,arguments:[et.object(this.pythStateId),et.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(at[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),Ft[0],et.object(utils_1.SUI_CLOCK_OBJECT_ID)]});const Nt=[],jt=await this.getBaseUpdateFee(),Lt=et.splitCoins(et.gas,mt.map(()=>et.pure.u64(jt)));let Vt=0;for(const er of mt){const ir=await this.getPriceFeedObjectId(er);if(!ir)throw new Error(`Price feed ${er} not found, please create it first`);Nt.push(ir),[Ct]=et.moveCall({target:`${$t}::pyth::update_single_price_feed`,arguments:[et.object(this.pythStateId),Ct,et.object(ir),Lt[Vt],et.object(utils_1.SUI_CLOCK_OBJECT_ID)]}),Vt++}return et.moveCall({target:`${$t}::hot_potato_vector::destroy`,arguments:[Ct],typeArguments:[`${$t}::price_info::PriceInfo`]}),Nt}async createPriceFeed(et,at){const mt=await this.getPythPackageId();if(at.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const $t=this.extractVaaBytesFromAccumulatorMessage(at[0]),Ct=await this.verifyVaas([$t],et);et.moveCall({target:`${mt}::pyth::create_price_feeds_using_accumulator`,arguments:[et.object(this.pythStateId),et.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(at[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),Ct[0],et.object(utils_1.SUI_CLOCK_OBJECT_ID)]})}async getWormholePackageId(){return this.wormholePackageId||(this.wormholePackageId=await this.getPackageId(this.wormholeStateId)),this.wormholePackageId}async getPythPackageId(){return this.pythPackageId||(this.pythPackageId=await this.getPackageId(this.pythStateId)),this.pythPackageId}async getPriceFeedObjectId(et){const at=et.replace("0x","");if(!this.priceFeedObjectIdCache.has(at)){const{id:mt,fieldType:$t}=await this.getPriceTableInfo(),Ct=await this.provider.getDynamicFieldObject({parentId:mt,name:{type:`${$t}::price_identifier::PriceIdentifier`,value:{bytes:Array.from(buffer_1.Buffer.from(at,"hex"))}}});if(!Ct.data||!Ct.data.content)return;if(Ct.data.content.dataType!=="moveObject")throw new Error("Price feed type mismatch");this.priceFeedObjectIdCache.set(at,Ct.data.content.fields.value)}return this.priceFeedObjectIdCache.get(at)}async getPriceTableInfo(){if(this.priceTableInfo===void 0){const et=await this.provider.getDynamicFieldObject({parentId:this.pythStateId,name:{type:"vector<u8>",value:"price_info"}});if(!et.data||!et.data.type)throw new Error("Price Table not found, contract may not be initialized");let at=et.data.type.replace("0x2::table::Table<","");at=at.replace("::price_identifier::PriceIdentifier, 0x2::object::ID>",""),this.priceTableInfo={id:et.data.objectId,fieldType:at}}return this.priceTableInfo}extractVaaBytesFromAccumulatorMessage(et){const mt=7+et.readUint8(6)+1,$t=et.readUint16BE(mt),Ct=mt+2;return et.subarray(Ct,Ct+$t)}}client.SuiPythClient=SuiPythClient;(function(nt){Object.defineProperty(nt,"__esModule",{value:!0}),nt.PriceFeed=nt.Price=nt.SuiPythClient=nt.SuiPriceServiceConnection=void 0;var et=SuiPriceServiceConnection$1;Object.defineProperty(nt,"SuiPriceServiceConnection",{enumerable:!0,get:function(){return et.SuiPriceServiceConnection}});var at=client;Object.defineProperty(nt,"SuiPythClient",{enumerable:!0,get:function(){return at.SuiPythClient}});var mt=lib$2;Object.defineProperty(nt,"Price",{enumerable:!0,get:function(){return mt.Price}}),Object.defineProperty(nt,"PriceFeed",{enumerable:!0,get:function(){return mt.PriceFeed}})})(lib$3);var __create=Object.create,__defProp$3=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(nt,et,at)=>et in nt?__defProp$3(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__spreadValues$2=(nt,et)=>{for(var at in et||(et={}))__hasOwnProp$2.call(et,at)&&__defNormalProp$3(nt,at,et[at]);if(__getOwnPropSymbols$2)for(var at of __getOwnPropSymbols$2(et))__propIsEnum$2.call(et,at)&&__defNormalProp$3(nt,at,et[at]);return nt},__spreadProps$1=(nt,et)=>__defProps$1(nt,__getOwnPropDescs$1(et)),__require=(nt=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(nt,{get:(et,at)=>(typeof require<"u"?require:et)[at]}):nt)(function(nt){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+nt+'" is not supported')}),__commonJS=(nt,et)=>function(){return et||(0,nt[__getOwnPropNames(nt)[0]])((et={exports:{}}).exports,et),et.exports},__copyProps=(nt,et,at,mt)=>{if(et&&typeof et=="object"||typeof et=="function")for(let $t of __getOwnPropNames(et))!__hasOwnProp$2.call(nt,$t)&&$t!==at&&__defProp$3(nt,$t,{get:()=>et[$t],enumerable:!(mt=__getOwnPropDesc(et,$t))||mt.enumerable});return nt},__toESM=(nt,et,at)=>(at=nt!=null?__create(__getProtoOf(nt)):{},__copyProps(!nt||!nt.__esModule?__defProp$3(at,"default",{value:nt,enumerable:!0}):at,nt)),__async=(nt,et,at)=>new Promise((mt,$t)=>{var Ct=Nt=>{try{Ft(at.next(Nt))}catch(jt){$t(jt)}},Dt=Nt=>{try{Ft(at.throw(Nt))}catch(jt){$t(jt)}},Ft=Nt=>Nt.done?mt(Nt.value):Promise.resolve(Nt.value).then(Ct,Dt);Ft((at=at.apply(nt,et)).next())}),require_bn=__commonJS({"node_modules/bn.js/lib/bn.js"(nt,et){(function(at,mt){function $t(nr,rr){if(!nr)throw new Error(rr||"Assertion failed")}function Ct(nr,rr){nr.super_=rr;var ar=function(){};ar.prototype=rr.prototype,nr.prototype=new ar,nr.prototype.constructor=nr}function Dt(nr,rr,ar){if(Dt.isBN(nr))return nr;this.negative=0,this.words=null,this.length=0,this.red=null,nr!==null&&((rr==="le"||rr==="be")&&(ar=rr,rr=10),this._init(nr||0,rr||10,ar||"be"))}typeof at=="object"?at.exports=Dt:mt.BN=Dt,Dt.BN=Dt,Dt.wordSize=26;var Ft;try{typeof window<"u"&&typeof window.Buffer<"u"?Ft=window.Buffer:Ft=__require("buffer").Buffer}catch{}Dt.isBN=function(rr){return rr instanceof Dt?!0:rr!==null&&typeof rr=="object"&&rr.constructor.wordSize===Dt.wordSize&&Array.isArray(rr.words)},Dt.max=function(rr,ar){return rr.cmp(ar)>0?rr:ar},Dt.min=function(rr,ar){return rr.cmp(ar)<0?rr:ar},Dt.prototype._init=function(rr,ar,cr){if(typeof rr=="number")return this._initNumber(rr,ar,cr);if(typeof rr=="object")return this._initArray(rr,ar,cr);ar==="hex"&&(ar=16),$t(ar===(ar|0)&&ar>=2&&ar<=36),rr=rr.toString().replace(/\s+/g,"");var fr=0;rr[0]==="-"&&(fr++,this.negative=1),fr<rr.length&&(ar===16?this._parseHex(rr,fr,cr):(this._parseBase(rr,ar,fr),cr==="le"&&this._initArray(this.toArray(),ar,cr)))},Dt.prototype._initNumber=function(rr,ar,cr){rr<0&&(this.negative=1,rr=-rr),rr<67108864?(this.words=[rr&67108863],this.length=1):rr<4503599627370496?(this.words=[rr&67108863,rr/67108864&67108863],this.length=2):($t(rr<9007199254740992),this.words=[rr&67108863,rr/67108864&67108863,1],this.length=3),cr==="le"&&this._initArray(this.toArray(),ar,cr)},Dt.prototype._initArray=function(rr,ar,cr){if($t(typeof rr.length=="number"),rr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(rr.length/3),this.words=new Array(this.length);for(var fr=0;fr<this.length;fr++)this.words[fr]=0;var sr,Yt,ur=0;if(cr==="be")for(fr=rr.length-1,sr=0;fr>=0;fr-=3)Yt=rr[fr]|rr[fr-1]<<8|rr[fr-2]<<16,this.words[sr]|=Yt<<ur&67108863,this.words[sr+1]=Yt>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,sr++);else if(cr==="le")for(fr=0,sr=0;fr<rr.length;fr+=3)Yt=rr[fr]|rr[fr+1]<<8|rr[fr+2]<<16,this.words[sr]|=Yt<<ur&67108863,this.words[sr+1]=Yt>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,sr++);return this._strip()};function Nt(nr,rr){var ar=nr.charCodeAt(rr);if(ar>=48&&ar<=57)return ar-48;if(ar>=65&&ar<=70)return ar-55;if(ar>=97&&ar<=102)return ar-87;$t(!1,"Invalid character in "+nr)}function jt(nr,rr,ar){var cr=Nt(nr,ar);return ar-1>=rr&&(cr|=Nt(nr,ar-1)<<4),cr}Dt.prototype._parseHex=function(rr,ar,cr){this.length=Math.ceil((rr.length-ar)/6),this.words=new Array(this.length);for(var fr=0;fr<this.length;fr++)this.words[fr]=0;var sr=0,Yt=0,ur;if(cr==="be")for(fr=rr.length-1;fr>=ar;fr-=2)ur=jt(rr,ar,fr)<<sr,this.words[Yt]|=ur&67108863,sr>=18?(sr-=18,Yt+=1,this.words[Yt]|=ur>>>26):sr+=8;else{var _r=rr.length-ar;for(fr=_r%2===0?ar+1:ar;fr<rr.length;fr+=2)ur=jt(rr,ar,fr)<<sr,this.words[Yt]|=ur&67108863,sr>=18?(sr-=18,Yt+=1,this.words[Yt]|=ur>>>26):sr+=8}this._strip()};function Lt(nr,rr,ar,cr){for(var fr=0,sr=0,Yt=Math.min(nr.length,ar),ur=rr;ur<Yt;ur++){var _r=nr.charCodeAt(ur)-48;fr*=cr,_r>=49?sr=_r-49+10:_r>=17?sr=_r-17+10:sr=_r,$t(_r>=0&&sr<cr,"Invalid character"),fr+=sr}return fr}Dt.prototype._parseBase=function(rr,ar,cr){this.words=[0],this.length=1;for(var fr=0,sr=1;sr<=67108863;sr*=ar)fr++;fr--,sr=sr/ar|0;for(var Yt=rr.length-cr,ur=Yt%fr,_r=Math.min(Yt,Yt-ur)+cr,yr=0,wr=cr;wr<_r;wr+=fr)yr=Lt(rr,wr,wr+fr,ar),this.imuln(sr),this.words[0]+yr<67108864?this.words[0]+=yr:this._iaddn(yr);if(ur!==0){var Ir=1;for(yr=Lt(rr,wr,rr.length,ar),wr=0;wr<ur;wr++)Ir*=ar;this.imuln(Ir),this.words[0]+yr<67108864?this.words[0]+=yr:this._iaddn(yr)}this._strip()},Dt.prototype.copy=function(rr){rr.words=new Array(this.length);for(var ar=0;ar<this.length;ar++)rr.words[ar]=this.words[ar];rr.length=this.length,rr.negative=this.negative,rr.red=this.red};function Vt(nr,rr){nr.words=rr.words,nr.length=rr.length,nr.negative=rr.negative,nr.red=rr.red}if(Dt.prototype._move=function(rr){Vt(rr,this)},Dt.prototype.clone=function(){var rr=new Dt(null);return this.copy(rr),rr},Dt.prototype._expand=function(rr){for(;this.length<rr;)this.words[this.length++]=0;return this},Dt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},Dt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{Dt.prototype[Symbol.for("nodejs.util.inspect.custom")]=er}catch{Dt.prototype.inspect=er}else Dt.prototype.inspect=er;function er(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ir=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],or=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],lr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];Dt.prototype.toString=function(rr,ar){rr=rr||10,ar=ar|0||1;var cr;if(rr===16||rr==="hex"){cr="";for(var fr=0,sr=0,Yt=0;Yt<this.length;Yt++){var ur=this.words[Yt],_r=((ur<<fr|sr)&16777215).toString(16);sr=ur>>>24-fr&16777215,fr+=2,fr>=26&&(fr-=26,Yt--),sr!==0||Yt!==this.length-1?cr=ir[6-_r.length]+_r+cr:cr=_r+cr}for(sr!==0&&(cr=sr.toString(16)+cr);cr.length%ar!==0;)cr="0"+cr;return this.negative!==0&&(cr="-"+cr),cr}if(rr===(rr|0)&&rr>=2&&rr<=36){var yr=or[rr],wr=lr[rr];cr="";var Ir=this.clone();for(Ir.negative=0;!Ir.isZero();){var Or=Ir.modrn(wr).toString(rr);Ir=Ir.idivn(wr),Ir.isZero()?cr=Or+cr:cr=ir[yr-Or.length]+Or+cr}for(this.isZero()&&(cr="0"+cr);cr.length%ar!==0;)cr="0"+cr;return this.negative!==0&&(cr="-"+cr),cr}$t(!1,"Base should be between 2 and 36")},Dt.prototype.toNumber=function(){var rr=this.words[0];return this.length===2?rr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?rr+=4503599627370496+this.words[1]*67108864:this.length>2&&$t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-rr:rr},Dt.prototype.toJSON=function(){return this.toString(16,2)},Ft&&(Dt.prototype.toBuffer=function(rr,ar){return this.toArrayLike(Ft,rr,ar)}),Dt.prototype.toArray=function(rr,ar){return this.toArrayLike(Array,rr,ar)};var dr=function(rr,ar){return rr.allocUnsafe?rr.allocUnsafe(ar):new rr(ar)};Dt.prototype.toArrayLike=function(rr,ar,cr){this._strip();var fr=this.byteLength(),sr=cr||Math.max(1,fr);$t(fr<=sr,"byte array longer than desired length"),$t(sr>0,"Requested array length <= 0");var Yt=dr(rr,sr),ur=ar==="le"?"LE":"BE";return this["_toArrayLike"+ur](Yt,fr),Yt},Dt.prototype._toArrayLikeLE=function(rr,ar){for(var cr=0,fr=0,sr=0,Yt=0;sr<this.length;sr++){var ur=this.words[sr]<<Yt|fr;rr[cr++]=ur&255,cr<rr.length&&(rr[cr++]=ur>>8&255),cr<rr.length&&(rr[cr++]=ur>>16&255),Yt===6?(cr<rr.length&&(rr[cr++]=ur>>24&255),fr=0,Yt=0):(fr=ur>>>24,Yt+=2)}if(cr<rr.length)for(rr[cr++]=fr;cr<rr.length;)rr[cr++]=0},Dt.prototype._toArrayLikeBE=function(rr,ar){for(var cr=rr.length-1,fr=0,sr=0,Yt=0;sr<this.length;sr++){var ur=this.words[sr]<<Yt|fr;rr[cr--]=ur&255,cr>=0&&(rr[cr--]=ur>>8&255),cr>=0&&(rr[cr--]=ur>>16&255),Yt===6?(cr>=0&&(rr[cr--]=ur>>24&255),fr=0,Yt=0):(fr=ur>>>24,Yt+=2)}if(cr>=0)for(rr[cr--]=fr;cr>=0;)rr[cr--]=0},Math.clz32?Dt.prototype._countBits=function(rr){return 32-Math.clz32(rr)}:Dt.prototype._countBits=function(rr){var ar=rr,cr=0;return ar>=4096&&(cr+=13,ar>>>=13),ar>=64&&(cr+=7,ar>>>=7),ar>=8&&(cr+=4,ar>>>=4),ar>=2&&(cr+=2,ar>>>=2),cr+ar},Dt.prototype._zeroBits=function(rr){if(rr===0)return 26;var ar=rr,cr=0;return ar&8191||(cr+=13,ar>>>=13),ar&127||(cr+=7,ar>>>=7),ar&15||(cr+=4,ar>>>=4),ar&3||(cr+=2,ar>>>=2),ar&1||cr++,cr},Dt.prototype.bitLength=function(){var rr=this.words[this.length-1],ar=this._countBits(rr);return(this.length-1)*26+ar};function pr(nr){for(var rr=new Array(nr.bitLength()),ar=0;ar<rr.length;ar++){var cr=ar/26|0,fr=ar%26;rr[ar]=nr.words[cr]>>>fr&1}return rr}Dt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var rr=0,ar=0;ar<this.length;ar++){var cr=this._zeroBits(this.words[ar]);if(rr+=cr,cr!==26)break}return rr},Dt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},Dt.prototype.toTwos=function(rr){return this.negative!==0?this.abs().inotn(rr).iaddn(1):this.clone()},Dt.prototype.fromTwos=function(rr){return this.testn(rr-1)?this.notn(rr).iaddn(1).ineg():this.clone()},Dt.prototype.isNeg=function(){return this.negative!==0},Dt.prototype.neg=function(){return this.clone().ineg()},Dt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},Dt.prototype.iuor=function(rr){for(;this.length<rr.length;)this.words[this.length++]=0;for(var ar=0;ar<rr.length;ar++)this.words[ar]=this.words[ar]|rr.words[ar];return this._strip()},Dt.prototype.ior=function(rr){return $t((this.negative|rr.negative)===0),this.iuor(rr)},Dt.prototype.or=function(rr){return this.length>rr.length?this.clone().ior(rr):rr.clone().ior(this)},Dt.prototype.uor=function(rr){return this.length>rr.length?this.clone().iuor(rr):rr.clone().iuor(this)},Dt.prototype.iuand=function(rr){var ar;this.length>rr.length?ar=rr:ar=this;for(var cr=0;cr<ar.length;cr++)this.words[cr]=this.words[cr]&rr.words[cr];return this.length=ar.length,this._strip()},Dt.prototype.iand=function(rr){return $t((this.negative|rr.negative)===0),this.iuand(rr)},Dt.prototype.and=function(rr){return this.length>rr.length?this.clone().iand(rr):rr.clone().iand(this)},Dt.prototype.uand=function(rr){return this.length>rr.length?this.clone().iuand(rr):rr.clone().iuand(this)},Dt.prototype.iuxor=function(rr){var ar,cr;this.length>rr.length?(ar=this,cr=rr):(ar=rr,cr=this);for(var fr=0;fr<cr.length;fr++)this.words[fr]=ar.words[fr]^cr.words[fr];if(this!==ar)for(;fr<ar.length;fr++)this.words[fr]=ar.words[fr];return this.length=ar.length,this._strip()},Dt.prototype.ixor=function(rr){return $t((this.negative|rr.negative)===0),this.iuxor(rr)},Dt.prototype.xor=function(rr){return this.length>rr.length?this.clone().ixor(rr):rr.clone().ixor(this)},Dt.prototype.uxor=function(rr){return this.length>rr.length?this.clone().iuxor(rr):rr.clone().iuxor(this)},Dt.prototype.inotn=function(rr){$t(typeof rr=="number"&&rr>=0);var ar=Math.ceil(rr/26)|0,cr=rr%26;this._expand(ar),cr>0&&ar--;for(var fr=0;fr<ar;fr++)this.words[fr]=~this.words[fr]&67108863;return cr>0&&(this.words[fr]=~this.words[fr]&67108863>>26-cr),this._strip()},Dt.prototype.notn=function(rr){return this.clone().inotn(rr)},Dt.prototype.setn=function(rr,ar){$t(typeof rr=="number"&&rr>=0);var cr=rr/26|0,fr=rr%26;return this._expand(cr+1),ar?this.words[cr]=this.words[cr]|1<<fr:this.words[cr]=this.words[cr]&~(1<<fr),this._strip()},Dt.prototype.iadd=function(rr){var ar;if(this.negative!==0&&rr.negative===0)return this.negative=0,ar=this.isub(rr),this.negative^=1,this._normSign();if(this.negative===0&&rr.negative!==0)return rr.negative=0,ar=this.isub(rr),rr.negative=1,ar._normSign();var cr,fr;this.length>rr.length?(cr=this,fr=rr):(cr=rr,fr=this);for(var sr=0,Yt=0;Yt<fr.length;Yt++)ar=(cr.words[Yt]|0)+(fr.words[Yt]|0)+sr,this.words[Yt]=ar&67108863,sr=ar>>>26;for(;sr!==0&&Yt<cr.length;Yt++)ar=(cr.words[Yt]|0)+sr,this.words[Yt]=ar&67108863,sr=ar>>>26;if(this.length=cr.length,sr!==0)this.words[this.length]=sr,this.length++;else if(cr!==this)for(;Yt<cr.length;Yt++)this.words[Yt]=cr.words[Yt];return this},Dt.prototype.add=function(rr){var ar;return rr.negative!==0&&this.negative===0?(rr.negative=0,ar=this.sub(rr),rr.negative^=1,ar):rr.negative===0&&this.negative!==0?(this.negative=0,ar=rr.sub(this),this.negative=1,ar):this.length>rr.length?this.clone().iadd(rr):rr.clone().iadd(this)},Dt.prototype.isub=function(rr){if(rr.negative!==0){rr.negative=0;var ar=this.iadd(rr);return rr.negative=1,ar._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(rr),this.negative=1,this._normSign();var cr=this.cmp(rr);if(cr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var fr,sr;cr>0?(fr=this,sr=rr):(fr=rr,sr=this);for(var Yt=0,ur=0;ur<sr.length;ur++)ar=(fr.words[ur]|0)-(sr.words[ur]|0)+Yt,Yt=ar>>26,this.words[ur]=ar&67108863;for(;Yt!==0&&ur<fr.length;ur++)ar=(fr.words[ur]|0)+Yt,Yt=ar>>26,this.words[ur]=ar&67108863;if(Yt===0&&ur<fr.length&&fr!==this)for(;ur<fr.length;ur++)this.words[ur]=fr.words[ur];return this.length=Math.max(this.length,ur),fr!==this&&(this.negative=1),this._strip()},Dt.prototype.sub=function(rr){return this.clone().isub(rr)};function hr(nr,rr,ar){ar.negative=rr.negative^nr.negative;var cr=nr.length+rr.length|0;ar.length=cr,cr=cr-1|0;var fr=nr.words[0]|0,sr=rr.words[0]|0,Yt=fr*sr,ur=Yt&67108863,_r=Yt/67108864|0;ar.words[0]=ur;for(var yr=1;yr<cr;yr++){for(var wr=_r>>>26,Ir=_r&67108863,Or=Math.min(yr,rr.length-1),Ar=Math.max(0,yr-nr.length+1);Ar<=Or;Ar++){var Nr=yr-Ar|0;fr=nr.words[Nr]|0,sr=rr.words[Ar]|0,Yt=fr*sr+Ir,wr+=Yt/67108864|0,Ir=Yt&67108863}ar.words[yr]=Ir|0,_r=wr|0}return _r!==0?ar.words[yr]=_r|0:ar.length--,ar._strip()}var vr=function(rr,ar,cr){var fr=rr.words,sr=ar.words,Yt=cr.words,ur=0,_r,yr,wr,Ir=fr[0]|0,Or=Ir&8191,Ar=Ir>>>13,Nr=fr[1]|0,Hr=Nr&8191,Pr=Nr>>>13,Dr=fr[2]|0,Rr=Dr&8191,Vr=Dr>>>13,an=fr[3]|0,Xr=an&8191,Jr=an>>>13,Zr=fr[4]|0,Gr=Zr&8191,zr=Zr>>>13,Dn=fr[5]|0,Qr=Dn&8191,Un=Dn>>>13,ro=fr[6]|0,Hn=ro&8191,Qn=ro>>>13,$o=fr[7]|0,Kn=$o&8191,_i=$o>>>13,Lo=fr[8]|0,jr=Lo&8191,Tr=Lo>>>13,Fr=fr[9]|0,Wr=Fr&8191,sn=Fr>>>13,Jn=sr[0]|0,Nn=Jn&8191,Zn=Jn>>>13,Io=sr[1]|0,ga=Io&8191,ba=Io>>>13,Bo=sr[2]|0,io=Bo&8191,so=Bo>>>13,zo=sr[3]|0,eo=zo&8191,oo=zo>>>13,Ho=sr[4]|0,no=Ho&8191,ao=Ho>>>13,Gn=sr[5]|0,dn=Gn&8191,Ln=Gn>>>13,Br=sr[6]|0,Lr=Br&8191,qr=Br>>>13,Mr=sr[7]|0,Ur=Mr&8191,rn=Mr>>>13,zn=sr[8]|0,pn=zn&8191,Vn=zn>>>13,co=sr[9]|0,uo=co&8191,Eo=co>>>13;cr.negative=rr.negative^ar.negative,cr.length=19,_r=Math.imul(Or,Nn),yr=Math.imul(Or,Zn),yr=yr+Math.imul(Ar,Nn)|0,wr=Math.imul(Ar,Zn);var ho=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(ho>>>26)|0,ho&=67108863,_r=Math.imul(Hr,Nn),yr=Math.imul(Hr,Zn),yr=yr+Math.imul(Pr,Nn)|0,wr=Math.imul(Pr,Zn),_r=_r+Math.imul(Or,ga)|0,yr=yr+Math.imul(Or,ba)|0,yr=yr+Math.imul(Ar,ga)|0,wr=wr+Math.imul(Ar,ba)|0;var Co=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Co>>>26)|0,Co&=67108863,_r=Math.imul(Rr,Nn),yr=Math.imul(Rr,Zn),yr=yr+Math.imul(Vr,Nn)|0,wr=Math.imul(Vr,Zn),_r=_r+Math.imul(Hr,ga)|0,yr=yr+Math.imul(Hr,ba)|0,yr=yr+Math.imul(Pr,ga)|0,wr=wr+Math.imul(Pr,ba)|0,_r=_r+Math.imul(Or,io)|0,yr=yr+Math.imul(Or,so)|0,yr=yr+Math.imul(Ar,io)|0,wr=wr+Math.imul(Ar,so)|0;var Po=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Po>>>26)|0,Po&=67108863,_r=Math.imul(Xr,Nn),yr=Math.imul(Xr,Zn),yr=yr+Math.imul(Jr,Nn)|0,wr=Math.imul(Jr,Zn),_r=_r+Math.imul(Rr,ga)|0,yr=yr+Math.imul(Rr,ba)|0,yr=yr+Math.imul(Vr,ga)|0,wr=wr+Math.imul(Vr,ba)|0,_r=_r+Math.imul(Hr,io)|0,yr=yr+Math.imul(Hr,so)|0,yr=yr+Math.imul(Pr,io)|0,wr=wr+Math.imul(Pr,so)|0,_r=_r+Math.imul(Or,eo)|0,yr=yr+Math.imul(Or,oo)|0,yr=yr+Math.imul(Ar,eo)|0,wr=wr+Math.imul(Ar,oo)|0;var Fo=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,_r=Math.imul(Gr,Nn),yr=Math.imul(Gr,Zn),yr=yr+Math.imul(zr,Nn)|0,wr=Math.imul(zr,Zn),_r=_r+Math.imul(Xr,ga)|0,yr=yr+Math.imul(Xr,ba)|0,yr=yr+Math.imul(Jr,ga)|0,wr=wr+Math.imul(Jr,ba)|0,_r=_r+Math.imul(Rr,io)|0,yr=yr+Math.imul(Rr,so)|0,yr=yr+Math.imul(Vr,io)|0,wr=wr+Math.imul(Vr,so)|0,_r=_r+Math.imul(Hr,eo)|0,yr=yr+Math.imul(Hr,oo)|0,yr=yr+Math.imul(Pr,eo)|0,wr=wr+Math.imul(Pr,oo)|0,_r=_r+Math.imul(Or,no)|0,yr=yr+Math.imul(Or,ao)|0,yr=yr+Math.imul(Ar,no)|0,wr=wr+Math.imul(Ar,ao)|0;var Do=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Do>>>26)|0,Do&=67108863,_r=Math.imul(Qr,Nn),yr=Math.imul(Qr,Zn),yr=yr+Math.imul(Un,Nn)|0,wr=Math.imul(Un,Zn),_r=_r+Math.imul(Gr,ga)|0,yr=yr+Math.imul(Gr,ba)|0,yr=yr+Math.imul(zr,ga)|0,wr=wr+Math.imul(zr,ba)|0,_r=_r+Math.imul(Xr,io)|0,yr=yr+Math.imul(Xr,so)|0,yr=yr+Math.imul(Jr,io)|0,wr=wr+Math.imul(Jr,so)|0,_r=_r+Math.imul(Rr,eo)|0,yr=yr+Math.imul(Rr,oo)|0,yr=yr+Math.imul(Vr,eo)|0,wr=wr+Math.imul(Vr,oo)|0,_r=_r+Math.imul(Hr,no)|0,yr=yr+Math.imul(Hr,ao)|0,yr=yr+Math.imul(Pr,no)|0,wr=wr+Math.imul(Pr,ao)|0,_r=_r+Math.imul(Or,dn)|0,yr=yr+Math.imul(Or,Ln)|0,yr=yr+Math.imul(Ar,dn)|0,wr=wr+Math.imul(Ar,Ln)|0;var ko=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(ko>>>26)|0,ko&=67108863,_r=Math.imul(Hn,Nn),yr=Math.imul(Hn,Zn),yr=yr+Math.imul(Qn,Nn)|0,wr=Math.imul(Qn,Zn),_r=_r+Math.imul(Qr,ga)|0,yr=yr+Math.imul(Qr,ba)|0,yr=yr+Math.imul(Un,ga)|0,wr=wr+Math.imul(Un,ba)|0,_r=_r+Math.imul(Gr,io)|0,yr=yr+Math.imul(Gr,so)|0,yr=yr+Math.imul(zr,io)|0,wr=wr+Math.imul(zr,so)|0,_r=_r+Math.imul(Xr,eo)|0,yr=yr+Math.imul(Xr,oo)|0,yr=yr+Math.imul(Jr,eo)|0,wr=wr+Math.imul(Jr,oo)|0,_r=_r+Math.imul(Rr,no)|0,yr=yr+Math.imul(Rr,ao)|0,yr=yr+Math.imul(Vr,no)|0,wr=wr+Math.imul(Vr,ao)|0,_r=_r+Math.imul(Hr,dn)|0,yr=yr+Math.imul(Hr,Ln)|0,yr=yr+Math.imul(Pr,dn)|0,wr=wr+Math.imul(Pr,Ln)|0,_r=_r+Math.imul(Or,Lr)|0,yr=yr+Math.imul(Or,qr)|0,yr=yr+Math.imul(Ar,Lr)|0,wr=wr+Math.imul(Ar,qr)|0;var Mo=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,_r=Math.imul(Kn,Nn),yr=Math.imul(Kn,Zn),yr=yr+Math.imul(_i,Nn)|0,wr=Math.imul(_i,Zn),_r=_r+Math.imul(Hn,ga)|0,yr=yr+Math.imul(Hn,ba)|0,yr=yr+Math.imul(Qn,ga)|0,wr=wr+Math.imul(Qn,ba)|0,_r=_r+Math.imul(Qr,io)|0,yr=yr+Math.imul(Qr,so)|0,yr=yr+Math.imul(Un,io)|0,wr=wr+Math.imul(Un,so)|0,_r=_r+Math.imul(Gr,eo)|0,yr=yr+Math.imul(Gr,oo)|0,yr=yr+Math.imul(zr,eo)|0,wr=wr+Math.imul(zr,oo)|0,_r=_r+Math.imul(Xr,no)|0,yr=yr+Math.imul(Xr,ao)|0,yr=yr+Math.imul(Jr,no)|0,wr=wr+Math.imul(Jr,ao)|0,_r=_r+Math.imul(Rr,dn)|0,yr=yr+Math.imul(Rr,Ln)|0,yr=yr+Math.imul(Vr,dn)|0,wr=wr+Math.imul(Vr,Ln)|0,_r=_r+Math.imul(Hr,Lr)|0,yr=yr+Math.imul(Hr,qr)|0,yr=yr+Math.imul(Pr,Lr)|0,wr=wr+Math.imul(Pr,qr)|0,_r=_r+Math.imul(Or,Ur)|0,yr=yr+Math.imul(Or,rn)|0,yr=yr+Math.imul(Ar,Ur)|0,wr=wr+Math.imul(Ar,rn)|0;var Oo=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,_r=Math.imul(jr,Nn),yr=Math.imul(jr,Zn),yr=yr+Math.imul(Tr,Nn)|0,wr=Math.imul(Tr,Zn),_r=_r+Math.imul(Kn,ga)|0,yr=yr+Math.imul(Kn,ba)|0,yr=yr+Math.imul(_i,ga)|0,wr=wr+Math.imul(_i,ba)|0,_r=_r+Math.imul(Hn,io)|0,yr=yr+Math.imul(Hn,so)|0,yr=yr+Math.imul(Qn,io)|0,wr=wr+Math.imul(Qn,so)|0,_r=_r+Math.imul(Qr,eo)|0,yr=yr+Math.imul(Qr,oo)|0,yr=yr+Math.imul(Un,eo)|0,wr=wr+Math.imul(Un,oo)|0,_r=_r+Math.imul(Gr,no)|0,yr=yr+Math.imul(Gr,ao)|0,yr=yr+Math.imul(zr,no)|0,wr=wr+Math.imul(zr,ao)|0,_r=_r+Math.imul(Xr,dn)|0,yr=yr+Math.imul(Xr,Ln)|0,yr=yr+Math.imul(Jr,dn)|0,wr=wr+Math.imul(Jr,Ln)|0,_r=_r+Math.imul(Rr,Lr)|0,yr=yr+Math.imul(Rr,qr)|0,yr=yr+Math.imul(Vr,Lr)|0,wr=wr+Math.imul(Vr,qr)|0,_r=_r+Math.imul(Hr,Ur)|0,yr=yr+Math.imul(Hr,rn)|0,yr=yr+Math.imul(Pr,Ur)|0,wr=wr+Math.imul(Pr,rn)|0,_r=_r+Math.imul(Or,pn)|0,yr=yr+Math.imul(Or,Vn)|0,yr=yr+Math.imul(Ar,pn)|0,wr=wr+Math.imul(Ar,Vn)|0;var xo=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(xo>>>26)|0,xo&=67108863,_r=Math.imul(Wr,Nn),yr=Math.imul(Wr,Zn),yr=yr+Math.imul(sn,Nn)|0,wr=Math.imul(sn,Zn),_r=_r+Math.imul(jr,ga)|0,yr=yr+Math.imul(jr,ba)|0,yr=yr+Math.imul(Tr,ga)|0,wr=wr+Math.imul(Tr,ba)|0,_r=_r+Math.imul(Kn,io)|0,yr=yr+Math.imul(Kn,so)|0,yr=yr+Math.imul(_i,io)|0,wr=wr+Math.imul(_i,so)|0,_r=_r+Math.imul(Hn,eo)|0,yr=yr+Math.imul(Hn,oo)|0,yr=yr+Math.imul(Qn,eo)|0,wr=wr+Math.imul(Qn,oo)|0,_r=_r+Math.imul(Qr,no)|0,yr=yr+Math.imul(Qr,ao)|0,yr=yr+Math.imul(Un,no)|0,wr=wr+Math.imul(Un,ao)|0,_r=_r+Math.imul(Gr,dn)|0,yr=yr+Math.imul(Gr,Ln)|0,yr=yr+Math.imul(zr,dn)|0,wr=wr+Math.imul(zr,Ln)|0,_r=_r+Math.imul(Xr,Lr)|0,yr=yr+Math.imul(Xr,qr)|0,yr=yr+Math.imul(Jr,Lr)|0,wr=wr+Math.imul(Jr,qr)|0,_r=_r+Math.imul(Rr,Ur)|0,yr=yr+Math.imul(Rr,rn)|0,yr=yr+Math.imul(Vr,Ur)|0,wr=wr+Math.imul(Vr,rn)|0,_r=_r+Math.imul(Hr,pn)|0,yr=yr+Math.imul(Hr,Vn)|0,yr=yr+Math.imul(Pr,pn)|0,wr=wr+Math.imul(Pr,Vn)|0,_r=_r+Math.imul(Or,uo)|0,yr=yr+Math.imul(Or,Eo)|0,yr=yr+Math.imul(Ar,uo)|0,wr=wr+Math.imul(Ar,Eo)|0;var Ro=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,_r=Math.imul(Wr,ga),yr=Math.imul(Wr,ba),yr=yr+Math.imul(sn,ga)|0,wr=Math.imul(sn,ba),_r=_r+Math.imul(jr,io)|0,yr=yr+Math.imul(jr,so)|0,yr=yr+Math.imul(Tr,io)|0,wr=wr+Math.imul(Tr,so)|0,_r=_r+Math.imul(Kn,eo)|0,yr=yr+Math.imul(Kn,oo)|0,yr=yr+Math.imul(_i,eo)|0,wr=wr+Math.imul(_i,oo)|0,_r=_r+Math.imul(Hn,no)|0,yr=yr+Math.imul(Hn,ao)|0,yr=yr+Math.imul(Qn,no)|0,wr=wr+Math.imul(Qn,ao)|0,_r=_r+Math.imul(Qr,dn)|0,yr=yr+Math.imul(Qr,Ln)|0,yr=yr+Math.imul(Un,dn)|0,wr=wr+Math.imul(Un,Ln)|0,_r=_r+Math.imul(Gr,Lr)|0,yr=yr+Math.imul(Gr,qr)|0,yr=yr+Math.imul(zr,Lr)|0,wr=wr+Math.imul(zr,qr)|0,_r=_r+Math.imul(Xr,Ur)|0,yr=yr+Math.imul(Xr,rn)|0,yr=yr+Math.imul(Jr,Ur)|0,wr=wr+Math.imul(Jr,rn)|0,_r=_r+Math.imul(Rr,pn)|0,yr=yr+Math.imul(Rr,Vn)|0,yr=yr+Math.imul(Vr,pn)|0,wr=wr+Math.imul(Vr,Vn)|0,_r=_r+Math.imul(Hr,uo)|0,yr=yr+Math.imul(Hr,Eo)|0,yr=yr+Math.imul(Pr,uo)|0,wr=wr+Math.imul(Pr,Eo)|0;var So=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(So>>>26)|0,So&=67108863,_r=Math.imul(Wr,io),yr=Math.imul(Wr,so),yr=yr+Math.imul(sn,io)|0,wr=Math.imul(sn,so),_r=_r+Math.imul(jr,eo)|0,yr=yr+Math.imul(jr,oo)|0,yr=yr+Math.imul(Tr,eo)|0,wr=wr+Math.imul(Tr,oo)|0,_r=_r+Math.imul(Kn,no)|0,yr=yr+Math.imul(Kn,ao)|0,yr=yr+Math.imul(_i,no)|0,wr=wr+Math.imul(_i,ao)|0,_r=_r+Math.imul(Hn,dn)|0,yr=yr+Math.imul(Hn,Ln)|0,yr=yr+Math.imul(Qn,dn)|0,wr=wr+Math.imul(Qn,Ln)|0,_r=_r+Math.imul(Qr,Lr)|0,yr=yr+Math.imul(Qr,qr)|0,yr=yr+Math.imul(Un,Lr)|0,wr=wr+Math.imul(Un,qr)|0,_r=_r+Math.imul(Gr,Ur)|0,yr=yr+Math.imul(Gr,rn)|0,yr=yr+Math.imul(zr,Ur)|0,wr=wr+Math.imul(zr,rn)|0,_r=_r+Math.imul(Xr,pn)|0,yr=yr+Math.imul(Xr,Vn)|0,yr=yr+Math.imul(Jr,pn)|0,wr=wr+Math.imul(Jr,Vn)|0,_r=_r+Math.imul(Rr,uo)|0,yr=yr+Math.imul(Rr,Eo)|0,yr=yr+Math.imul(Vr,uo)|0,wr=wr+Math.imul(Vr,Eo)|0;var po=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(po>>>26)|0,po&=67108863,_r=Math.imul(Wr,eo),yr=Math.imul(Wr,oo),yr=yr+Math.imul(sn,eo)|0,wr=Math.imul(sn,oo),_r=_r+Math.imul(jr,no)|0,yr=yr+Math.imul(jr,ao)|0,yr=yr+Math.imul(Tr,no)|0,wr=wr+Math.imul(Tr,ao)|0,_r=_r+Math.imul(Kn,dn)|0,yr=yr+Math.imul(Kn,Ln)|0,yr=yr+Math.imul(_i,dn)|0,wr=wr+Math.imul(_i,Ln)|0,_r=_r+Math.imul(Hn,Lr)|0,yr=yr+Math.imul(Hn,qr)|0,yr=yr+Math.imul(Qn,Lr)|0,wr=wr+Math.imul(Qn,qr)|0,_r=_r+Math.imul(Qr,Ur)|0,yr=yr+Math.imul(Qr,rn)|0,yr=yr+Math.imul(Un,Ur)|0,wr=wr+Math.imul(Un,rn)|0,_r=_r+Math.imul(Gr,pn)|0,yr=yr+Math.imul(Gr,Vn)|0,yr=yr+Math.imul(zr,pn)|0,wr=wr+Math.imul(zr,Vn)|0,_r=_r+Math.imul(Xr,uo)|0,yr=yr+Math.imul(Xr,Eo)|0,yr=yr+Math.imul(Jr,uo)|0,wr=wr+Math.imul(Jr,Eo)|0;var vo=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(vo>>>26)|0,vo&=67108863,_r=Math.imul(Wr,no),yr=Math.imul(Wr,ao),yr=yr+Math.imul(sn,no)|0,wr=Math.imul(sn,ao),_r=_r+Math.imul(jr,dn)|0,yr=yr+Math.imul(jr,Ln)|0,yr=yr+Math.imul(Tr,dn)|0,wr=wr+Math.imul(Tr,Ln)|0,_r=_r+Math.imul(Kn,Lr)|0,yr=yr+Math.imul(Kn,qr)|0,yr=yr+Math.imul(_i,Lr)|0,wr=wr+Math.imul(_i,qr)|0,_r=_r+Math.imul(Hn,Ur)|0,yr=yr+Math.imul(Hn,rn)|0,yr=yr+Math.imul(Qn,Ur)|0,wr=wr+Math.imul(Qn,rn)|0,_r=_r+Math.imul(Qr,pn)|0,yr=yr+Math.imul(Qr,Vn)|0,yr=yr+Math.imul(Un,pn)|0,wr=wr+Math.imul(Un,Vn)|0,_r=_r+Math.imul(Gr,uo)|0,yr=yr+Math.imul(Gr,Eo)|0,yr=yr+Math.imul(zr,uo)|0,wr=wr+Math.imul(zr,Eo)|0;var wo=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(wo>>>26)|0,wo&=67108863,_r=Math.imul(Wr,dn),yr=Math.imul(Wr,Ln),yr=yr+Math.imul(sn,dn)|0,wr=Math.imul(sn,Ln),_r=_r+Math.imul(jr,Lr)|0,yr=yr+Math.imul(jr,qr)|0,yr=yr+Math.imul(Tr,Lr)|0,wr=wr+Math.imul(Tr,qr)|0,_r=_r+Math.imul(Kn,Ur)|0,yr=yr+Math.imul(Kn,rn)|0,yr=yr+Math.imul(_i,Ur)|0,wr=wr+Math.imul(_i,rn)|0,_r=_r+Math.imul(Hn,pn)|0,yr=yr+Math.imul(Hn,Vn)|0,yr=yr+Math.imul(Qn,pn)|0,wr=wr+Math.imul(Qn,Vn)|0,_r=_r+Math.imul(Qr,uo)|0,yr=yr+Math.imul(Qr,Eo)|0,yr=yr+Math.imul(Un,uo)|0,wr=wr+Math.imul(Un,Eo)|0;var to=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(to>>>26)|0,to&=67108863,_r=Math.imul(Wr,Lr),yr=Math.imul(Wr,qr),yr=yr+Math.imul(sn,Lr)|0,wr=Math.imul(sn,qr),_r=_r+Math.imul(jr,Ur)|0,yr=yr+Math.imul(jr,rn)|0,yr=yr+Math.imul(Tr,Ur)|0,wr=wr+Math.imul(Tr,rn)|0,_r=_r+Math.imul(Kn,pn)|0,yr=yr+Math.imul(Kn,Vn)|0,yr=yr+Math.imul(_i,pn)|0,wr=wr+Math.imul(_i,Vn)|0,_r=_r+Math.imul(Hn,uo)|0,yr=yr+Math.imul(Hn,Eo)|0,yr=yr+Math.imul(Qn,uo)|0,wr=wr+Math.imul(Qn,Eo)|0;var _a=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(_a>>>26)|0,_a&=67108863,_r=Math.imul(Wr,Ur),yr=Math.imul(Wr,rn),yr=yr+Math.imul(sn,Ur)|0,wr=Math.imul(sn,rn),_r=_r+Math.imul(jr,pn)|0,yr=yr+Math.imul(jr,Vn)|0,yr=yr+Math.imul(Tr,pn)|0,wr=wr+Math.imul(Tr,Vn)|0,_r=_r+Math.imul(Kn,uo)|0,yr=yr+Math.imul(Kn,Eo)|0,yr=yr+Math.imul(_i,uo)|0,wr=wr+Math.imul(_i,Eo)|0;var yo=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(yo>>>26)|0,yo&=67108863,_r=Math.imul(Wr,pn),yr=Math.imul(Wr,Vn),yr=yr+Math.imul(sn,pn)|0,wr=Math.imul(sn,Vn),_r=_r+Math.imul(jr,uo)|0,yr=yr+Math.imul(jr,Eo)|0,yr=yr+Math.imul(Tr,uo)|0,wr=wr+Math.imul(Tr,Eo)|0;var Yr=(ur+_r|0)+((yr&8191)<<13)|0;ur=(wr+(yr>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,_r=Math.imul(Wr,uo),yr=Math.imul(Wr,Eo),yr=yr+Math.imul(sn,uo)|0,wr=Math.imul(sn,Eo);var Cn=(ur+_r|0)+((yr&8191)<<13)|0;return ur=(wr+(yr>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,Yt[0]=ho,Yt[1]=Co,Yt[2]=Po,Yt[3]=Fo,Yt[4]=Do,Yt[5]=ko,Yt[6]=Mo,Yt[7]=Oo,Yt[8]=xo,Yt[9]=Ro,Yt[10]=So,Yt[11]=po,Yt[12]=vo,Yt[13]=wo,Yt[14]=to,Yt[15]=_a,Yt[16]=yo,Yt[17]=Yr,Yt[18]=Cn,ur!==0&&(Yt[19]=ur,cr.length++),cr};Math.imul||(vr=hr);function br(nr,rr,ar){ar.negative=rr.negative^nr.negative,ar.length=nr.length+rr.length;for(var cr=0,fr=0,sr=0;sr<ar.length-1;sr++){var Yt=fr;fr=0;for(var ur=cr&67108863,_r=Math.min(sr,rr.length-1),yr=Math.max(0,sr-nr.length+1);yr<=_r;yr++){var wr=sr-yr,Ir=nr.words[wr]|0,Or=rr.words[yr]|0,Ar=Ir*Or,Nr=Ar&67108863;Yt=Yt+(Ar/67108864|0)|0,Nr=Nr+ur|0,ur=Nr&67108863,Yt=Yt+(Nr>>>26)|0,fr+=Yt>>>26,Yt&=67108863}ar.words[sr]=ur,cr=Yt,Yt=fr}return cr!==0?ar.words[sr]=cr:ar.length--,ar._strip()}function xr(nr,rr,ar){return br(nr,rr,ar)}Dt.prototype.mulTo=function(rr,ar){var cr,fr=this.length+rr.length;return this.length===10&&rr.length===10?cr=vr(this,rr,ar):fr<63?cr=hr(this,rr,ar):fr<1024?cr=br(this,rr,ar):cr=xr(this,rr,ar),cr},Dt.prototype.mul=function(rr){var ar=new Dt(null);return ar.words=new Array(this.length+rr.length),this.mulTo(rr,ar)},Dt.prototype.mulf=function(rr){var ar=new Dt(null);return ar.words=new Array(this.length+rr.length),xr(this,rr,ar)},Dt.prototype.imul=function(rr){return this.clone().mulTo(rr,this)},Dt.prototype.imuln=function(rr){var ar=rr<0;ar&&(rr=-rr),$t(typeof rr=="number"),$t(rr<67108864);for(var cr=0,fr=0;fr<this.length;fr++){var sr=(this.words[fr]|0)*rr,Yt=(sr&67108863)+(cr&67108863);cr>>=26,cr+=sr/67108864|0,cr+=Yt>>>26,this.words[fr]=Yt&67108863}return cr!==0&&(this.words[fr]=cr,this.length++),ar?this.ineg():this},Dt.prototype.muln=function(rr){return this.clone().imuln(rr)},Dt.prototype.sqr=function(){return this.mul(this)},Dt.prototype.isqr=function(){return this.imul(this.clone())},Dt.prototype.pow=function(rr){var ar=pr(rr);if(ar.length===0)return new Dt(1);for(var cr=this,fr=0;fr<ar.length&&ar[fr]===0;fr++,cr=cr.sqr());if(++fr<ar.length)for(var sr=cr.sqr();fr<ar.length;fr++,sr=sr.sqr())ar[fr]!==0&&(cr=cr.mul(sr));return cr},Dt.prototype.iushln=function(rr){$t(typeof rr=="number"&&rr>=0);var ar=rr%26,cr=(rr-ar)/26,fr=67108863>>>26-ar<<26-ar,sr;if(ar!==0){var Yt=0;for(sr=0;sr<this.length;sr++){var ur=this.words[sr]&fr,_r=(this.words[sr]|0)-ur<<ar;this.words[sr]=_r|Yt,Yt=ur>>>26-ar}Yt&&(this.words[sr]=Yt,this.length++)}if(cr!==0){for(sr=this.length-1;sr>=0;sr--)this.words[sr+cr]=this.words[sr];for(sr=0;sr<cr;sr++)this.words[sr]=0;this.length+=cr}return this._strip()},Dt.prototype.ishln=function(rr){return $t(this.negative===0),this.iushln(rr)},Dt.prototype.iushrn=function(rr,ar,cr){$t(typeof rr=="number"&&rr>=0);var fr;ar?fr=(ar-ar%26)/26:fr=0;var sr=rr%26,Yt=Math.min((rr-sr)/26,this.length),ur=67108863^67108863>>>sr<<sr,_r=cr;if(fr-=Yt,fr=Math.max(0,fr),_r){for(var yr=0;yr<Yt;yr++)_r.words[yr]=this.words[yr];_r.length=Yt}if(Yt!==0)if(this.length>Yt)for(this.length-=Yt,yr=0;yr<this.length;yr++)this.words[yr]=this.words[yr+Yt];else this.words[0]=0,this.length=1;var wr=0;for(yr=this.length-1;yr>=0&&(wr!==0||yr>=fr);yr--){var Ir=this.words[yr]|0;this.words[yr]=wr<<26-sr|Ir>>>sr,wr=Ir&ur}return _r&&wr!==0&&(_r.words[_r.length++]=wr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},Dt.prototype.ishrn=function(rr,ar,cr){return $t(this.negative===0),this.iushrn(rr,ar,cr)},Dt.prototype.shln=function(rr){return this.clone().ishln(rr)},Dt.prototype.ushln=function(rr){return this.clone().iushln(rr)},Dt.prototype.shrn=function(rr){return this.clone().ishrn(rr)},Dt.prototype.ushrn=function(rr){return this.clone().iushrn(rr)},Dt.prototype.testn=function(rr){$t(typeof rr=="number"&&rr>=0);var ar=rr%26,cr=(rr-ar)/26,fr=1<<ar;if(this.length<=cr)return!1;var sr=this.words[cr];return!!(sr&fr)},Dt.prototype.imaskn=function(rr){$t(typeof rr=="number"&&rr>=0);var ar=rr%26,cr=(rr-ar)/26;if($t(this.negative===0,"imaskn works only with positive numbers"),this.length<=cr)return this;if(ar!==0&&cr++,this.length=Math.min(cr,this.length),ar!==0){var fr=67108863^67108863>>>ar<<ar;this.words[this.length-1]&=fr}return this._strip()},Dt.prototype.maskn=function(rr){return this.clone().imaskn(rr)},Dt.prototype.iaddn=function(rr){return $t(typeof rr=="number"),$t(rr<67108864),rr<0?this.isubn(-rr):this.negative!==0?this.length===1&&(this.words[0]|0)<=rr?(this.words[0]=rr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(rr),this.negative=1,this):this._iaddn(rr)},Dt.prototype._iaddn=function(rr){this.words[0]+=rr;for(var ar=0;ar<this.length&&this.words[ar]>=67108864;ar++)this.words[ar]-=67108864,ar===this.length-1?this.words[ar+1]=1:this.words[ar+1]++;return this.length=Math.max(this.length,ar+1),this},Dt.prototype.isubn=function(rr){if($t(typeof rr=="number"),$t(rr<67108864),rr<0)return this.iaddn(-rr);if(this.negative!==0)return this.negative=0,this.iaddn(rr),this.negative=1,this;if(this.words[0]-=rr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ar=0;ar<this.length&&this.words[ar]<0;ar++)this.words[ar]+=67108864,this.words[ar+1]-=1;return this._strip()},Dt.prototype.addn=function(rr){return this.clone().iaddn(rr)},Dt.prototype.subn=function(rr){return this.clone().isubn(rr)},Dt.prototype.iabs=function(){return this.negative=0,this},Dt.prototype.abs=function(){return this.clone().iabs()},Dt.prototype._ishlnsubmul=function(rr,ar,cr){var fr=rr.length+cr,sr;this._expand(fr);var Yt,ur=0;for(sr=0;sr<rr.length;sr++){Yt=(this.words[sr+cr]|0)+ur;var _r=(rr.words[sr]|0)*ar;Yt-=_r&67108863,ur=(Yt>>26)-(_r/67108864|0),this.words[sr+cr]=Yt&67108863}for(;sr<this.length-cr;sr++)Yt=(this.words[sr+cr]|0)+ur,ur=Yt>>26,this.words[sr+cr]=Yt&67108863;if(ur===0)return this._strip();for($t(ur===-1),ur=0,sr=0;sr<this.length;sr++)Yt=-(this.words[sr]|0)+ur,ur=Yt>>26,this.words[sr]=Yt&67108863;return this.negative=1,this._strip()},Dt.prototype._wordDiv=function(rr,ar){var cr=this.length-rr.length,fr=this.clone(),sr=rr,Yt=sr.words[sr.length-1]|0,ur=this._countBits(Yt);cr=26-ur,cr!==0&&(sr=sr.ushln(cr),fr.iushln(cr),Yt=sr.words[sr.length-1]|0);var _r=fr.length-sr.length,yr;if(ar!=="mod"){yr=new Dt(null),yr.length=_r+1,yr.words=new Array(yr.length);for(var wr=0;wr<yr.length;wr++)yr.words[wr]=0}var Ir=fr.clone()._ishlnsubmul(sr,1,_r);Ir.negative===0&&(fr=Ir,yr&&(yr.words[_r]=1));for(var Or=_r-1;Or>=0;Or--){var Ar=(fr.words[sr.length+Or]|0)*67108864+(fr.words[sr.length+Or-1]|0);for(Ar=Math.min(Ar/Yt|0,67108863),fr._ishlnsubmul(sr,Ar,Or);fr.negative!==0;)Ar--,fr.negative=0,fr._ishlnsubmul(sr,1,Or),fr.isZero()||(fr.negative^=1);yr&&(yr.words[Or]=Ar)}return yr&&yr._strip(),fr._strip(),ar!=="div"&&cr!==0&&fr.iushrn(cr),{div:yr||null,mod:fr}},Dt.prototype.divmod=function(rr,ar,cr){if($t(!rr.isZero()),this.isZero())return{div:new Dt(0),mod:new Dt(0)};var fr,sr,Yt;return this.negative!==0&&rr.negative===0?(Yt=this.neg().divmod(rr,ar),ar!=="mod"&&(fr=Yt.div.neg()),ar!=="div"&&(sr=Yt.mod.neg(),cr&&sr.negative!==0&&sr.iadd(rr)),{div:fr,mod:sr}):this.negative===0&&rr.negative!==0?(Yt=this.divmod(rr.neg(),ar),ar!=="mod"&&(fr=Yt.div.neg()),{div:fr,mod:Yt.mod}):this.negative&rr.negative?(Yt=this.neg().divmod(rr.neg(),ar),ar!=="div"&&(sr=Yt.mod.neg(),cr&&sr.negative!==0&&sr.isub(rr)),{div:Yt.div,mod:sr}):rr.length>this.length||this.cmp(rr)<0?{div:new Dt(0),mod:this}:rr.length===1?ar==="div"?{div:this.divn(rr.words[0]),mod:null}:ar==="mod"?{div:null,mod:new Dt(this.modrn(rr.words[0]))}:{div:this.divn(rr.words[0]),mod:new Dt(this.modrn(rr.words[0]))}:this._wordDiv(rr,ar)},Dt.prototype.div=function(rr){return this.divmod(rr,"div",!1).div},Dt.prototype.mod=function(rr){return this.divmod(rr,"mod",!1).mod},Dt.prototype.umod=function(rr){return this.divmod(rr,"mod",!0).mod},Dt.prototype.divRound=function(rr){var ar=this.divmod(rr);if(ar.mod.isZero())return ar.div;var cr=ar.div.negative!==0?ar.mod.isub(rr):ar.mod,fr=rr.ushrn(1),sr=rr.andln(1),Yt=cr.cmp(fr);return Yt<0||sr===1&&Yt===0?ar.div:ar.div.negative!==0?ar.div.isubn(1):ar.div.iaddn(1)},Dt.prototype.modrn=function(rr){var ar=rr<0;ar&&(rr=-rr),$t(rr<=67108863);for(var cr=(1<<26)%rr,fr=0,sr=this.length-1;sr>=0;sr--)fr=(cr*fr+(this.words[sr]|0))%rr;return ar?-fr:fr},Dt.prototype.modn=function(rr){return this.modrn(rr)},Dt.prototype.idivn=function(rr){var ar=rr<0;ar&&(rr=-rr),$t(rr<=67108863);for(var cr=0,fr=this.length-1;fr>=0;fr--){var sr=(this.words[fr]|0)+cr*67108864;this.words[fr]=sr/rr|0,cr=sr%rr}return this._strip(),ar?this.ineg():this},Dt.prototype.divn=function(rr){return this.clone().idivn(rr)},Dt.prototype.egcd=function(rr){$t(rr.negative===0),$t(!rr.isZero());var ar=this,cr=rr.clone();ar.negative!==0?ar=ar.umod(rr):ar=ar.clone();for(var fr=new Dt(1),sr=new Dt(0),Yt=new Dt(0),ur=new Dt(1),_r=0;ar.isEven()&&cr.isEven();)ar.iushrn(1),cr.iushrn(1),++_r;for(var yr=cr.clone(),wr=ar.clone();!ar.isZero();){for(var Ir=0,Or=1;!(ar.words[0]&Or)&&Ir<26;++Ir,Or<<=1);if(Ir>0)for(ar.iushrn(Ir);Ir-- >0;)(fr.isOdd()||sr.isOdd())&&(fr.iadd(yr),sr.isub(wr)),fr.iushrn(1),sr.iushrn(1);for(var Ar=0,Nr=1;!(cr.words[0]&Nr)&&Ar<26;++Ar,Nr<<=1);if(Ar>0)for(cr.iushrn(Ar);Ar-- >0;)(Yt.isOdd()||ur.isOdd())&&(Yt.iadd(yr),ur.isub(wr)),Yt.iushrn(1),ur.iushrn(1);ar.cmp(cr)>=0?(ar.isub(cr),fr.isub(Yt),sr.isub(ur)):(cr.isub(ar),Yt.isub(fr),ur.isub(sr))}return{a:Yt,b:ur,gcd:cr.iushln(_r)}},Dt.prototype._invmp=function(rr){$t(rr.negative===0),$t(!rr.isZero());var ar=this,cr=rr.clone();ar.negative!==0?ar=ar.umod(rr):ar=ar.clone();for(var fr=new Dt(1),sr=new Dt(0),Yt=cr.clone();ar.cmpn(1)>0&&cr.cmpn(1)>0;){for(var ur=0,_r=1;!(ar.words[0]&_r)&&ur<26;++ur,_r<<=1);if(ur>0)for(ar.iushrn(ur);ur-- >0;)fr.isOdd()&&fr.iadd(Yt),fr.iushrn(1);for(var yr=0,wr=1;!(cr.words[0]&wr)&&yr<26;++yr,wr<<=1);if(yr>0)for(cr.iushrn(yr);yr-- >0;)sr.isOdd()&&sr.iadd(Yt),sr.iushrn(1);ar.cmp(cr)>=0?(ar.isub(cr),fr.isub(sr)):(cr.isub(ar),sr.isub(fr))}var Ir;return ar.cmpn(1)===0?Ir=fr:Ir=sr,Ir.cmpn(0)<0&&Ir.iadd(rr),Ir},Dt.prototype.gcd=function(rr){if(this.isZero())return rr.abs();if(rr.isZero())return this.abs();var ar=this.clone(),cr=rr.clone();ar.negative=0,cr.negative=0;for(var fr=0;ar.isEven()&&cr.isEven();fr++)ar.iushrn(1),cr.iushrn(1);do{for(;ar.isEven();)ar.iushrn(1);for(;cr.isEven();)cr.iushrn(1);var sr=ar.cmp(cr);if(sr<0){var Yt=ar;ar=cr,cr=Yt}else if(sr===0||cr.cmpn(1)===0)break;ar.isub(cr)}while(!0);return cr.iushln(fr)},Dt.prototype.invm=function(rr){return this.egcd(rr).a.umod(rr)},Dt.prototype.isEven=function(){return(this.words[0]&1)===0},Dt.prototype.isOdd=function(){return(this.words[0]&1)===1},Dt.prototype.andln=function(rr){return this.words[0]&rr},Dt.prototype.bincn=function(rr){$t(typeof rr=="number");var ar=rr%26,cr=(rr-ar)/26,fr=1<<ar;if(this.length<=cr)return this._expand(cr+1),this.words[cr]|=fr,this;for(var sr=fr,Yt=cr;sr!==0&&Yt<this.length;Yt++){var ur=this.words[Yt]|0;ur+=sr,sr=ur>>>26,ur&=67108863,this.words[Yt]=ur}return sr!==0&&(this.words[Yt]=sr,this.length++),this},Dt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},Dt.prototype.cmpn=function(rr){var ar=rr<0;if(this.negative!==0&&!ar)return-1;if(this.negative===0&&ar)return 1;this._strip();var cr;if(this.length>1)cr=1;else{ar&&(rr=-rr),$t(rr<=67108863,"Number is too big");var fr=this.words[0]|0;cr=fr===rr?0:fr<rr?-1:1}return this.negative!==0?-cr|0:cr},Dt.prototype.cmp=function(rr){if(this.negative!==0&&rr.negative===0)return-1;if(this.negative===0&&rr.negative!==0)return 1;var ar=this.ucmp(rr);return this.negative!==0?-ar|0:ar},Dt.prototype.ucmp=function(rr){if(this.length>rr.length)return 1;if(this.length<rr.length)return-1;for(var ar=0,cr=this.length-1;cr>=0;cr--){var fr=this.words[cr]|0,sr=rr.words[cr]|0;if(fr!==sr){fr<sr?ar=-1:fr>sr&&(ar=1);break}}return ar},Dt.prototype.gtn=function(rr){return this.cmpn(rr)===1},Dt.prototype.gt=function(rr){return this.cmp(rr)===1},Dt.prototype.gten=function(rr){return this.cmpn(rr)>=0},Dt.prototype.gte=function(rr){return this.cmp(rr)>=0},Dt.prototype.ltn=function(rr){return this.cmpn(rr)===-1},Dt.prototype.lt=function(rr){return this.cmp(rr)===-1},Dt.prototype.lten=function(rr){return this.cmpn(rr)<=0},Dt.prototype.lte=function(rr){return this.cmp(rr)<=0},Dt.prototype.eqn=function(rr){return this.cmpn(rr)===0},Dt.prototype.eq=function(rr){return this.cmp(rr)===0},Dt.red=function(rr){return new Ut(rr)},Dt.prototype.toRed=function(rr){return $t(!this.red,"Already a number in reduction context"),$t(this.negative===0,"red works only with positives"),rr.convertTo(this)._forceRed(rr)},Dt.prototype.fromRed=function(){return $t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},Dt.prototype._forceRed=function(rr){return this.red=rr,this},Dt.prototype.forceRed=function(rr){return $t(!this.red,"Already a number in reduction context"),this._forceRed(rr)},Dt.prototype.redAdd=function(rr){return $t(this.red,"redAdd works only with red numbers"),this.red.add(this,rr)},Dt.prototype.redIAdd=function(rr){return $t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,rr)},Dt.prototype.redSub=function(rr){return $t(this.red,"redSub works only with red numbers"),this.red.sub(this,rr)},Dt.prototype.redISub=function(rr){return $t(this.red,"redISub works only with red numbers"),this.red.isub(this,rr)},Dt.prototype.redShl=function(rr){return $t(this.red,"redShl works only with red numbers"),this.red.shl(this,rr)},Dt.prototype.redMul=function(rr){return $t(this.red,"redMul works only with red numbers"),this.red._verify2(this,rr),this.red.mul(this,rr)},Dt.prototype.redIMul=function(rr){return $t(this.red,"redMul works only with red numbers"),this.red._verify2(this,rr),this.red.imul(this,rr)},Dt.prototype.redSqr=function(){return $t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},Dt.prototype.redISqr=function(){return $t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},Dt.prototype.redSqrt=function(){return $t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},Dt.prototype.redInvm=function(){return $t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},Dt.prototype.redNeg=function(){return $t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},Dt.prototype.redPow=function(rr){return $t(this.red&&!rr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,rr)};var Sr={k256:null,p224:null,p192:null,p25519:null};function Er(nr,rr){this.name=nr,this.p=new Dt(rr,16),this.n=this.p.bitLength(),this.k=new Dt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Er.prototype._tmp=function(){var rr=new Dt(null);return rr.words=new Array(Math.ceil(this.n/13)),rr},Er.prototype.ireduce=function(rr){var ar=rr,cr;do this.split(ar,this.tmp),ar=this.imulK(ar),ar=ar.iadd(this.tmp),cr=ar.bitLength();while(cr>this.n);var fr=cr<this.n?-1:ar.ucmp(this.p);return fr===0?(ar.words[0]=0,ar.length=1):fr>0?ar.isub(this.p):ar.strip!==void 0?ar.strip():ar._strip(),ar},Er.prototype.split=function(rr,ar){rr.iushrn(this.n,0,ar)},Er.prototype.imulK=function(rr){return rr.imul(this.k)};function $r(){Er.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Ct($r,Er),$r.prototype.split=function(rr,ar){for(var cr=4194303,fr=Math.min(rr.length,9),sr=0;sr<fr;sr++)ar.words[sr]=rr.words[sr];if(ar.length=fr,rr.length<=9){rr.words[0]=0,rr.length=1;return}var Yt=rr.words[9];for(ar.words[ar.length++]=Yt&cr,sr=10;sr<rr.length;sr++){var ur=rr.words[sr]|0;rr.words[sr-10]=(ur&cr)<<4|Yt>>>22,Yt=ur}Yt>>>=22,rr.words[sr-10]=Yt,Yt===0&&rr.length>10?rr.length-=10:rr.length-=9},$r.prototype.imulK=function(rr){rr.words[rr.length]=0,rr.words[rr.length+1]=0,rr.length+=2;for(var ar=0,cr=0;cr<rr.length;cr++){var fr=rr.words[cr]|0;ar+=fr*977,rr.words[cr]=ar&67108863,ar=fr*64+(ar/67108864|0)}return rr.words[rr.length-1]===0&&(rr.length--,rr.words[rr.length-1]===0&&rr.length--),rr};function Cr(){Er.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Ct(Cr,Er);function kr(){Er.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Ct(kr,Er);function gr(){Er.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Ct(gr,Er),gr.prototype.imulK=function(rr){for(var ar=0,cr=0;cr<rr.length;cr++){var fr=(rr.words[cr]|0)*19+ar,sr=fr&67108863;fr>>>=26,rr.words[cr]=sr,ar=fr}return ar!==0&&(rr.words[rr.length++]=ar),rr},Dt._prime=function(rr){if(Sr[rr])return Sr[rr];var ar;if(rr==="k256")ar=new $r;else if(rr==="p224")ar=new Cr;else if(rr==="p192")ar=new kr;else if(rr==="p25519")ar=new gr;else throw new Error("Unknown prime "+rr);return Sr[rr]=ar,ar};function Ut(nr){if(typeof nr=="string"){var rr=Dt._prime(nr);this.m=rr.p,this.prime=rr}else $t(nr.gtn(1),"modulus must be greater than 1"),this.m=nr,this.prime=null}Ut.prototype._verify1=function(rr){$t(rr.negative===0,"red works only with positives"),$t(rr.red,"red works only with red numbers")},Ut.prototype._verify2=function(rr,ar){$t((rr.negative|ar.negative)===0,"red works only with positives"),$t(rr.red&&rr.red===ar.red,"red works only with red numbers")},Ut.prototype.imod=function(rr){return this.prime?this.prime.ireduce(rr)._forceRed(this):(Vt(rr,rr.umod(this.m)._forceRed(this)),rr)},Ut.prototype.neg=function(rr){return rr.isZero()?rr.clone():this.m.sub(rr)._forceRed(this)},Ut.prototype.add=function(rr,ar){this._verify2(rr,ar);var cr=rr.add(ar);return cr.cmp(this.m)>=0&&cr.isub(this.m),cr._forceRed(this)},Ut.prototype.iadd=function(rr,ar){this._verify2(rr,ar);var cr=rr.iadd(ar);return cr.cmp(this.m)>=0&&cr.isub(this.m),cr},Ut.prototype.sub=function(rr,ar){this._verify2(rr,ar);var cr=rr.sub(ar);return cr.cmpn(0)<0&&cr.iadd(this.m),cr._forceRed(this)},Ut.prototype.isub=function(rr,ar){this._verify2(rr,ar);var cr=rr.isub(ar);return cr.cmpn(0)<0&&cr.iadd(this.m),cr},Ut.prototype.shl=function(rr,ar){return this._verify1(rr),this.imod(rr.ushln(ar))},Ut.prototype.imul=function(rr,ar){return this._verify2(rr,ar),this.imod(rr.imul(ar))},Ut.prototype.mul=function(rr,ar){return this._verify2(rr,ar),this.imod(rr.mul(ar))},Ut.prototype.isqr=function(rr){return this.imul(rr,rr.clone())},Ut.prototype.sqr=function(rr){return this.mul(rr,rr)},Ut.prototype.sqrt=function(rr){if(rr.isZero())return rr.clone();var ar=this.m.andln(3);if($t(ar%2===1),ar===3){var cr=this.m.add(new Dt(1)).iushrn(2);return this.pow(rr,cr)}for(var fr=this.m.subn(1),sr=0;!fr.isZero()&&fr.andln(1)===0;)sr++,fr.iushrn(1);$t(!fr.isZero());var Yt=new Dt(1).toRed(this),ur=Yt.redNeg(),_r=this.m.subn(1).iushrn(1),yr=this.m.bitLength();for(yr=new Dt(2*yr*yr).toRed(this);this.pow(yr,_r).cmp(ur)!==0;)yr.redIAdd(ur);for(var wr=this.pow(yr,fr),Ir=this.pow(rr,fr.addn(1).iushrn(1)),Or=this.pow(rr,fr),Ar=sr;Or.cmp(Yt)!==0;){for(var Nr=Or,Hr=0;Nr.cmp(Yt)!==0;Hr++)Nr=Nr.redSqr();$t(Hr<Ar);var Pr=this.pow(wr,new Dt(1).iushln(Ar-Hr-1));Ir=Ir.redMul(Pr),wr=Pr.redSqr(),Or=Or.redMul(wr),Ar=Hr}return Ir},Ut.prototype.invm=function(rr){var ar=rr._invmp(this.m);return ar.negative!==0?(ar.negative=0,this.imod(ar).redNeg()):this.imod(ar)},Ut.prototype.pow=function(rr,ar){if(ar.isZero())return new Dt(1).toRed(this);if(ar.cmpn(1)===0)return rr.clone();var cr=4,fr=new Array(1<<cr);fr[0]=new Dt(1).toRed(this),fr[1]=rr;for(var sr=2;sr<fr.length;sr++)fr[sr]=this.mul(fr[sr-1],rr);var Yt=fr[0],ur=0,_r=0,yr=ar.bitLength()%26;for(yr===0&&(yr=26),sr=ar.length-1;sr>=0;sr--){for(var wr=ar.words[sr],Ir=yr-1;Ir>=0;Ir--){var Or=wr>>Ir&1;if(Yt!==fr[0]&&(Yt=this.sqr(Yt)),Or===0&&ur===0){_r=0;continue}ur<<=1,ur|=Or,_r++,!(_r!==cr&&(sr!==0||Ir!==0))&&(Yt=this.mul(Yt,fr[ur]),_r=0,ur=0)}yr=26}return Yt},Ut.prototype.convertTo=function(rr){var ar=rr.umod(this.m);return ar===rr?ar.clone():ar},Ut.prototype.convertFrom=function(rr){var ar=rr.clone();return ar.red=null,ar},Dt.mont=function(rr){return new tr(rr)};function tr(nr){Ut.call(this,nr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new Dt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Ct(tr,Ut),tr.prototype.convertTo=function(rr){return this.imod(rr.ushln(this.shift))},tr.prototype.convertFrom=function(rr){var ar=this.imod(rr.mul(this.rinv));return ar.red=null,ar},tr.prototype.imul=function(rr,ar){if(rr.isZero()||ar.isZero())return rr.words[0]=0,rr.length=1,rr;var cr=rr.imul(ar),fr=cr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),sr=cr.isub(fr).iushrn(this.shift),Yt=sr;return sr.cmp(this.m)>=0?Yt=sr.isub(this.m):sr.cmpn(0)<0&&(Yt=sr.iadd(this.m)),Yt._forceRed(this)},tr.prototype.mul=function(rr,ar){if(rr.isZero()||ar.isZero())return new Dt(0)._forceRed(this);var cr=rr.mul(ar),fr=cr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),sr=cr.isub(fr).iushrn(this.shift),Yt=sr;return sr.cmp(this.m)>=0?Yt=sr.isub(this.m):sr.cmpn(0)<0&&(Yt=sr.iadd(this.m)),Yt._forceRed(this)},tr.prototype.invm=function(rr){var ar=this.imod(rr._invmp(this.m).mul(this.r2));return ar._forceRed(this)}})(typeof et>"u"||et,nt)}}),EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER$2=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P$2={toStringTag:tag};P$2.absoluteValue=P$2.abs=function(){var nt=new this.constructor(this);return nt.s<0&&(nt.s=1),finalise(nt)};P$2.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$2.clampedTo=P$2.clamp=function(nt,et){var at,mt=this,$t=mt.constructor;if(nt=new $t(nt),et=new $t(et),!nt.s||!et.s)return new $t(NaN);if(nt.gt(et))throw Error(invalidArgument+et);return at=mt.cmp(nt),at<0?nt:mt.cmp(et)>0?et:new $t(mt)};P$2.comparedTo=P$2.cmp=function(nt){var et,at,mt,$t,Ct=this,Dt=Ct.d,Ft=(nt=new Ct.constructor(nt)).d,Nt=Ct.s,jt=nt.s;if(!Dt||!Ft)return!Nt||!jt?NaN:Nt!==jt?Nt:Dt===Ft?0:!Dt^Nt<0?1:-1;if(!Dt[0]||!Ft[0])return Dt[0]?Nt:Ft[0]?-jt:0;if(Nt!==jt)return Nt;if(Ct.e!==nt.e)return Ct.e>nt.e^Nt<0?1:-1;for(mt=Dt.length,$t=Ft.length,et=0,at=mt<$t?mt:$t;et<at;++et)if(Dt[et]!==Ft[et])return Dt[et]>Ft[et]^Nt<0?1:-1;return mt===$t?0:mt>$t^Nt<0?1:-1};P$2.cosine=P$2.cos=function(){var nt,et,at=this,mt=at.constructor;return at.d?at.d[0]?(nt=mt.precision,et=mt.rounding,mt.precision=nt+Math.max(at.e,at.sd())+LOG_BASE,mt.rounding=1,at=cosine(mt,toLessThanHalfPi(mt,at)),mt.precision=nt,mt.rounding=et,finalise(quadrant==2||quadrant==3?at.neg():at,nt,et,!0)):new mt(1):new mt(NaN)};P$2.cubeRoot=P$2.cbrt=function(){var nt,et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt=this,Vt=Lt.constructor;if(!Lt.isFinite()||Lt.isZero())return new Vt(Lt);for(external=!1,Ct=Lt.s*mathpow(Lt.s*Lt,1/3),!Ct||Math.abs(Ct)==1/0?(at=digitsToString(Lt.d),nt=Lt.e,(Ct=(nt-at.length+1)%3)&&(at+=Ct==1||Ct==-2?"0":"00"),Ct=mathpow(at,1/3),nt=mathfloor((nt+1)/3)-(nt%3==(nt<0?-1:2)),Ct==1/0?at="5e"+nt:(at=Ct.toExponential(),at=at.slice(0,at.indexOf("e")+1)+nt),mt=new Vt(at),mt.s=Lt.s):mt=new Vt(Ct.toString()),Dt=(nt=Vt.precision)+3;;)if(Ft=mt,Nt=Ft.times(Ft).times(Ft),jt=Nt.plus(Lt),mt=divide(jt.plus(Lt).times(Ft),jt.plus(Nt),Dt+2,1),digitsToString(Ft.d).slice(0,Dt)===(at=digitsToString(mt.d)).slice(0,Dt))if(at=at.slice(Dt-3,Dt+1),at=="9999"||!$t&&at=="4999"){if(!$t&&(finalise(Ft,nt+1,0),Ft.times(Ft).times(Ft).eq(Lt))){mt=Ft;break}Dt+=4,$t=1}else{(!+at||!+at.slice(1)&&at.charAt(0)=="5")&&(finalise(mt,nt+1,1),et=!mt.times(mt).times(mt).eq(Lt));break}return external=!0,finalise(mt,nt,Vt.rounding,et)};P$2.decimalPlaces=P$2.dp=function(){var nt,et=this.d,at=NaN;if(et){if(nt=et.length-1,at=(nt-mathfloor(this.e/LOG_BASE))*LOG_BASE,nt=et[nt],nt)for(;nt%10==0;nt/=10)at--;at<0&&(at=0)}return at};P$2.dividedBy=P$2.div=function(nt){return divide(this,new this.constructor(nt))};P$2.dividedToIntegerBy=P$2.divToInt=function(nt){var et=this,at=et.constructor;return finalise(divide(et,new at(nt),0,1,1),at.precision,at.rounding)};P$2.equals=P$2.eq=function(nt){return this.cmp(nt)===0};P$2.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$2.greaterThan=P$2.gt=function(nt){return this.cmp(nt)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(nt){var et=this.cmp(nt);return et==1||et===0};P$2.hyperbolicCosine=P$2.cosh=function(){var nt,et,at,mt,$t,Ct=this,Dt=Ct.constructor,Ft=new Dt(1);if(!Ct.isFinite())return new Dt(Ct.s?1/0:NaN);if(Ct.isZero())return Ft;at=Dt.precision,mt=Dt.rounding,Dt.precision=at+Math.max(Ct.e,Ct.sd())+4,Dt.rounding=1,$t=Ct.d.length,$t<32?(nt=Math.ceil($t/3),et=(1/tinyPow(4,nt)).toString()):(nt=16,et="2.3283064365386962890625e-10"),Ct=taylorSeries(Dt,1,Ct.times(et),new Dt(1),!0);for(var Nt,jt=nt,Lt=new Dt(8);jt--;)Nt=Ct.times(Ct),Ct=Ft.minus(Nt.times(Lt.minus(Nt.times(Lt))));return finalise(Ct,Dt.precision=at,Dt.rounding=mt,!0)};P$2.hyperbolicSine=P$2.sinh=function(){var nt,et,at,mt,$t=this,Ct=$t.constructor;if(!$t.isFinite()||$t.isZero())return new Ct($t);if(et=Ct.precision,at=Ct.rounding,Ct.precision=et+Math.max($t.e,$t.sd())+4,Ct.rounding=1,mt=$t.d.length,mt<3)$t=taylorSeries(Ct,2,$t,$t,!0);else{nt=1.4*Math.sqrt(mt),nt=nt>16?16:nt|0,$t=$t.times(1/tinyPow(5,nt)),$t=taylorSeries(Ct,2,$t,$t,!0);for(var Dt,Ft=new Ct(5),Nt=new Ct(16),jt=new Ct(20);nt--;)Dt=$t.times($t),$t=$t.times(Ft.plus(Dt.times(Nt.times(Dt).plus(jt))))}return Ct.precision=et,Ct.rounding=at,finalise($t,et,at,!0)};P$2.hyperbolicTangent=P$2.tanh=function(){var nt,et,at=this,mt=at.constructor;return at.isFinite()?at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+7,mt.rounding=1,divide(at.sinh(),at.cosh(),mt.precision=nt,mt.rounding=et)):new mt(at.s)};P$2.inverseCosine=P$2.acos=function(){var nt,et=this,at=et.constructor,mt=et.abs().cmp(1),$t=at.precision,Ct=at.rounding;return mt!==-1?mt===0?et.isNeg()?getPi(at,$t,Ct):new at(0):new at(NaN):et.isZero()?getPi(at,$t+4,Ct).times(.5):(at.precision=$t+6,at.rounding=1,et=et.asin(),nt=getPi(at,$t+4,Ct).times(.5),at.precision=$t,at.rounding=Ct,nt.minus(et))};P$2.inverseHyperbolicCosine=P$2.acosh=function(){var nt,et,at=this,mt=at.constructor;return at.lte(1)?new mt(at.eq(1)?0:NaN):at.isFinite()?(nt=mt.precision,et=mt.rounding,mt.precision=nt+Math.max(Math.abs(at.e),at.sd())+4,mt.rounding=1,external=!1,at=at.times(at).minus(1).sqrt().plus(at),external=!0,mt.precision=nt,mt.rounding=et,at.ln()):new mt(at)};P$2.inverseHyperbolicSine=P$2.asinh=function(){var nt,et,at=this,mt=at.constructor;return!at.isFinite()||at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+2*Math.max(Math.abs(at.e),at.sd())+6,mt.rounding=1,external=!1,at=at.times(at).plus(1).sqrt().plus(at),external=!0,mt.precision=nt,mt.rounding=et,at.ln())};P$2.inverseHyperbolicTangent=P$2.atanh=function(){var nt,et,at,mt,$t=this,Ct=$t.constructor;return $t.isFinite()?$t.e>=0?new Ct($t.abs().eq(1)?$t.s/0:$t.isZero()?$t:NaN):(nt=Ct.precision,et=Ct.rounding,mt=$t.sd(),Math.max(mt,nt)<2*-$t.e-1?finalise(new Ct($t),nt,et,!0):(Ct.precision=at=mt-$t.e,$t=divide($t.plus(1),new Ct(1).minus($t),at+nt,1),Ct.precision=nt+4,Ct.rounding=1,$t=$t.ln(),Ct.precision=nt,Ct.rounding=et,$t.times(.5))):new Ct(NaN)};P$2.inverseSine=P$2.asin=function(){var nt,et,at,mt,$t=this,Ct=$t.constructor;return $t.isZero()?new Ct($t):(et=$t.abs().cmp(1),at=Ct.precision,mt=Ct.rounding,et!==-1?et===0?(nt=getPi(Ct,at+4,mt).times(.5),nt.s=$t.s,nt):new Ct(NaN):(Ct.precision=at+6,Ct.rounding=1,$t=$t.div(new Ct(1).minus($t.times($t)).sqrt().plus(1)).atan(),Ct.precision=at,Ct.rounding=mt,$t.times(2)))};P$2.inverseTangent=P$2.atan=function(){var nt,et,at,mt,$t,Ct,Dt,Ft,Nt,jt=this,Lt=jt.constructor,Vt=Lt.precision,er=Lt.rounding;if(jt.isFinite()){if(jt.isZero())return new Lt(jt);if(jt.abs().eq(1)&&Vt+4<=PI_PRECISION)return Dt=getPi(Lt,Vt+4,er).times(.25),Dt.s=jt.s,Dt}else{if(!jt.s)return new Lt(NaN);if(Vt+4<=PI_PRECISION)return Dt=getPi(Lt,Vt+4,er).times(.5),Dt.s=jt.s,Dt}for(Lt.precision=Ft=Vt+10,Lt.rounding=1,at=Math.min(28,Ft/LOG_BASE+2|0),nt=at;nt;--nt)jt=jt.div(jt.times(jt).plus(1).sqrt().plus(1));for(external=!1,et=Math.ceil(Ft/LOG_BASE),mt=1,Nt=jt.times(jt),Dt=new Lt(jt),$t=jt;nt!==-1;)if($t=$t.times(Nt),Ct=Dt.minus($t.div(mt+=2)),$t=$t.times(Nt),Dt=Ct.plus($t.div(mt+=2)),Dt.d[et]!==void 0)for(nt=et;Dt.d[nt]===Ct.d[nt]&&nt--;);return at&&(Dt=Dt.times(2<<at-1)),external=!0,finalise(Dt,Lt.precision=Vt,Lt.rounding=er,!0)};P$2.isFinite=function(){return!!this.d};P$2.isInteger=P$2.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$2.isNaN=function(){return!this.s};P$2.isNegative=P$2.isNeg=function(){return this.s<0};P$2.isPositive=P$2.isPos=function(){return this.s>0};P$2.isZero=function(){return!!this.d&&this.d[0]===0};P$2.lessThan=P$2.lt=function(nt){return this.cmp(nt)<0};P$2.lessThanOrEqualTo=P$2.lte=function(nt){return this.cmp(nt)<1};P$2.logarithm=P$2.log=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt=this,Lt=jt.constructor,Vt=Lt.precision,er=Lt.rounding,ir=5;if(nt==null)nt=new Lt(10),et=!0;else{if(nt=new Lt(nt),at=nt.d,nt.s<0||!at||!at[0]||nt.eq(1))return new Lt(NaN);et=nt.eq(10)}if(at=jt.d,jt.s<0||!at||!at[0]||jt.eq(1))return new Lt(at&&!at[0]?-1/0:jt.s!=1?NaN:at?0:1/0);if(et)if(at.length>1)Ct=!0;else{for($t=at[0];$t%10===0;)$t/=10;Ct=$t!==1}if(external=!1,Ft=Vt+ir,Dt=naturalLogarithm(jt,Ft),mt=et?getLn10(Lt,Ft+10):naturalLogarithm(nt,Ft),Nt=divide(Dt,mt,Ft,1),checkRoundingDigits(Nt.d,$t=Vt,er))do if(Ft+=10,Dt=naturalLogarithm(jt,Ft),mt=et?getLn10(Lt,Ft+10):naturalLogarithm(nt,Ft),Nt=divide(Dt,mt,Ft,1),!Ct){+digitsToString(Nt.d).slice($t+1,$t+15)+1==1e14&&(Nt=finalise(Nt,Vt+1,0));break}while(checkRoundingDigits(Nt.d,$t+=10,er));return external=!0,finalise(Nt,Vt,er)};P$2.minus=P$2.sub=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=this,or=ir.constructor;if(nt=new or(nt),!ir.d||!nt.d)return!ir.s||!nt.s?nt=new or(NaN):ir.d?nt.s=-nt.s:nt=new or(nt.d||ir.s!==nt.s?ir:NaN),nt;if(ir.s!=nt.s)return nt.s=-nt.s,ir.plus(nt);if(jt=ir.d,er=nt.d,Ft=or.precision,Nt=or.rounding,!jt[0]||!er[0]){if(er[0])nt.s=-nt.s;else if(jt[0])nt=new or(ir);else return new or(Nt===3?-0:0);return external?finalise(nt,Ft,Nt):nt}if(at=mathfloor(nt.e/LOG_BASE),Lt=mathfloor(ir.e/LOG_BASE),jt=jt.slice(),Ct=Lt-at,Ct){for(Vt=Ct<0,Vt?(et=jt,Ct=-Ct,Dt=er.length):(et=er,at=Lt,Dt=jt.length),mt=Math.max(Math.ceil(Ft/LOG_BASE),Dt)+2,Ct>mt&&(Ct=mt,et.length=1),et.reverse(),mt=Ct;mt--;)et.push(0);et.reverse()}else{for(mt=jt.length,Dt=er.length,Vt=mt<Dt,Vt&&(Dt=mt),mt=0;mt<Dt;mt++)if(jt[mt]!=er[mt]){Vt=jt[mt]<er[mt];break}Ct=0}for(Vt&&(et=jt,jt=er,er=et,nt.s=-nt.s),Dt=jt.length,mt=er.length-Dt;mt>0;--mt)jt[Dt++]=0;for(mt=er.length;mt>Ct;){if(jt[--mt]<er[mt]){for($t=mt;$t&&jt[--$t]===0;)jt[$t]=BASE-1;--jt[$t],jt[mt]+=BASE}jt[mt]-=er[mt]}for(;jt[--Dt]===0;)jt.pop();for(;jt[0]===0;jt.shift())--at;return jt[0]?(nt.d=jt,nt.e=getBase10Exponent(jt,at),external?finalise(nt,Ft,Nt):nt):new or(Nt===3?-0:0)};P$2.modulo=P$2.mod=function(nt){var et,at=this,mt=at.constructor;return nt=new mt(nt),!at.d||!nt.s||nt.d&&!nt.d[0]?new mt(NaN):!nt.d||at.d&&!at.d[0]?finalise(new mt(at),mt.precision,mt.rounding):(external=!1,mt.modulo==9?(et=divide(at,nt.abs(),0,3,1),et.s*=nt.s):et=divide(at,nt,0,mt.modulo,1),et=et.times(nt),external=!0,at.minus(et))};P$2.naturalExponential=P$2.exp=function(){return naturalExponential(this)};P$2.naturalLogarithm=P$2.ln=function(){return naturalLogarithm(this)};P$2.negated=P$2.neg=function(){var nt=new this.constructor(this);return nt.s=-nt.s,finalise(nt)};P$2.plus=P$2.add=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt=this,er=Vt.constructor;if(nt=new er(nt),!Vt.d||!nt.d)return!Vt.s||!nt.s?nt=new er(NaN):Vt.d||(nt=new er(nt.d||Vt.s===nt.s?Vt:NaN)),nt;if(Vt.s!=nt.s)return nt.s=-nt.s,Vt.minus(nt);if(jt=Vt.d,Lt=nt.d,Ft=er.precision,Nt=er.rounding,!jt[0]||!Lt[0])return Lt[0]||(nt=new er(Vt)),external?finalise(nt,Ft,Nt):nt;if(Ct=mathfloor(Vt.e/LOG_BASE),mt=mathfloor(nt.e/LOG_BASE),jt=jt.slice(),$t=Ct-mt,$t){for($t<0?(at=jt,$t=-$t,Dt=Lt.length):(at=Lt,mt=Ct,Dt=jt.length),Ct=Math.ceil(Ft/LOG_BASE),Dt=Ct>Dt?Ct+1:Dt+1,$t>Dt&&($t=Dt,at.length=1),at.reverse();$t--;)at.push(0);at.reverse()}for(Dt=jt.length,$t=Lt.length,Dt-$t<0&&($t=Dt,at=Lt,Lt=jt,jt=at),et=0;$t;)et=(jt[--$t]=jt[$t]+Lt[$t]+et)/BASE|0,jt[$t]%=BASE;for(et&&(jt.unshift(et),++mt),Dt=jt.length;jt[--Dt]==0;)jt.pop();return nt.d=jt,nt.e=getBase10Exponent(jt,mt),external?finalise(nt,Ft,Nt):nt};P$2.precision=P$2.sd=function(nt){var et,at=this;if(nt!==void 0&&nt!==!!nt&&nt!==1&&nt!==0)throw Error(invalidArgument+nt);return at.d?(et=getPrecision(at.d),nt&&at.e+1>et&&(et=at.e+1)):et=NaN,et};P$2.round=function(){var nt=this,et=nt.constructor;return finalise(new et(nt),nt.e+1,et.rounding)};P$2.sine=P$2.sin=function(){var nt,et,at=this,mt=at.constructor;return at.isFinite()?at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+Math.max(at.e,at.sd())+LOG_BASE,mt.rounding=1,at=sine(mt,toLessThanHalfPi(mt,at)),mt.precision=nt,mt.rounding=et,finalise(quadrant>2?at.neg():at,nt,et,!0)):new mt(NaN)};P$2.squareRoot=P$2.sqrt=function(){var nt,et,at,mt,$t,Ct,Dt=this,Ft=Dt.d,Nt=Dt.e,jt=Dt.s,Lt=Dt.constructor;if(jt!==1||!Ft||!Ft[0])return new Lt(!jt||jt<0&&(!Ft||Ft[0])?NaN:Ft?Dt:1/0);for(external=!1,jt=Math.sqrt(+Dt),jt==0||jt==1/0?(et=digitsToString(Ft),(et.length+Nt)%2==0&&(et+="0"),jt=Math.sqrt(et),Nt=mathfloor((Nt+1)/2)-(Nt<0||Nt%2),jt==1/0?et="5e"+Nt:(et=jt.toExponential(),et=et.slice(0,et.indexOf("e")+1)+Nt),mt=new Lt(et)):mt=new Lt(jt.toString()),at=(Nt=Lt.precision)+3;;)if(Ct=mt,mt=Ct.plus(divide(Dt,Ct,at+2,1)).times(.5),digitsToString(Ct.d).slice(0,at)===(et=digitsToString(mt.d)).slice(0,at))if(et=et.slice(at-3,at+1),et=="9999"||!$t&&et=="4999"){if(!$t&&(finalise(Ct,Nt+1,0),Ct.times(Ct).eq(Dt))){mt=Ct;break}at+=4,$t=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise(mt,Nt+1,1),nt=!mt.times(mt).eq(Dt));break}return external=!0,finalise(mt,Nt,Lt.rounding,nt)};P$2.tangent=P$2.tan=function(){var nt,et,at=this,mt=at.constructor;return at.isFinite()?at.isZero()?new mt(at):(nt=mt.precision,et=mt.rounding,mt.precision=nt+10,mt.rounding=1,at=at.sin(),at.s=1,at=divide(at,new mt(1).minus(at.times(at)).sqrt(),nt+10,0),mt.precision=nt,mt.rounding=et,finalise(quadrant==2||quadrant==4?at.neg():at,nt,et,!0)):new mt(NaN)};P$2.times=P$2.mul=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt=this,Vt=Lt.constructor,er=Lt.d,ir=(nt=new Vt(nt)).d;if(nt.s*=Lt.s,!er||!er[0]||!ir||!ir[0])return new Vt(!nt.s||er&&!er[0]&&!ir||ir&&!ir[0]&&!er?NaN:!er||!ir?nt.s/0:nt.s*0);for(at=mathfloor(Lt.e/LOG_BASE)+mathfloor(nt.e/LOG_BASE),Nt=er.length,jt=ir.length,Nt<jt&&(Ct=er,er=ir,ir=Ct,Dt=Nt,Nt=jt,jt=Dt),Ct=[],Dt=Nt+jt,mt=Dt;mt--;)Ct.push(0);for(mt=jt;--mt>=0;){for(et=0,$t=Nt+mt;$t>mt;)Ft=Ct[$t]+ir[mt]*er[$t-mt-1]+et,Ct[$t--]=Ft%BASE|0,et=Ft/BASE|0;Ct[$t]=(Ct[$t]+et)%BASE|0}for(;!Ct[--Dt];)Ct.pop();return et?++at:Ct.shift(),nt.d=Ct,nt.e=getBase10Exponent(Ct,at),external?finalise(nt,Vt.precision,Vt.rounding):nt};P$2.toBinary=function(nt,et){return toStringBinary(this,2,nt,et)};P$2.toDecimalPlaces=P$2.toDP=function(nt,et){var at=this,mt=at.constructor;return at=new mt(at),nt===void 0?at:(checkInt32(nt,0,MAX_DIGITS),et===void 0?et=mt.rounding:checkInt32(et,0,8),finalise(at,nt+at.e+1,et))};P$2.toExponential=function(nt,et){var at,mt=this,$t=mt.constructor;return nt===void 0?at=finiteToString(mt,!0):(checkInt32(nt,0,MAX_DIGITS),et===void 0?et=$t.rounding:checkInt32(et,0,8),mt=finalise(new $t(mt),nt+1,et),at=finiteToString(mt,!0,nt+1)),mt.isNeg()&&!mt.isZero()?"-"+at:at};P$2.toFixed=function(nt,et){var at,mt,$t=this,Ct=$t.constructor;return nt===void 0?at=finiteToString($t):(checkInt32(nt,0,MAX_DIGITS),et===void 0?et=Ct.rounding:checkInt32(et,0,8),mt=finalise(new Ct($t),nt+$t.e+1,et),at=finiteToString(mt,!1,nt+mt.e+1)),$t.isNeg()&&!$t.isZero()?"-"+at:at};P$2.toFraction=function(nt){var et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=this,or=ir.d,lr=ir.constructor;if(!or)return new lr(ir);if(jt=at=new lr(1),mt=Nt=new lr(0),et=new lr(mt),Ct=et.e=getPrecision(or)-ir.e-1,Dt=Ct%LOG_BASE,et.d[0]=mathpow(10,Dt<0?LOG_BASE+Dt:Dt),nt==null)nt=Ct>0?et:jt;else{if(Ft=new lr(nt),!Ft.isInt()||Ft.lt(jt))throw Error(invalidArgument+Ft);nt=Ft.gt(et)?Ct>0?et:jt:Ft}for(external=!1,Ft=new lr(digitsToString(or)),Lt=lr.precision,lr.precision=Ct=or.length*LOG_BASE*2;Vt=divide(Ft,et,0,1,1),$t=at.plus(Vt.times(mt)),$t.cmp(nt)!=1;)at=mt,mt=$t,$t=jt,jt=Nt.plus(Vt.times($t)),Nt=$t,$t=et,et=Ft.minus(Vt.times($t)),Ft=$t;return $t=divide(nt.minus(at),mt,0,1,1),Nt=Nt.plus($t.times(jt)),at=at.plus($t.times(mt)),Nt.s=jt.s=ir.s,er=divide(jt,mt,Ct,1).minus(ir).abs().cmp(divide(Nt,at,Ct,1).minus(ir).abs())<1?[jt,mt]:[Nt,at],lr.precision=Lt,external=!0,er};P$2.toHexadecimal=P$2.toHex=function(nt,et){return toStringBinary(this,16,nt,et)};P$2.toNearest=function(nt,et){var at=this,mt=at.constructor;if(at=new mt(at),nt==null){if(!at.d)return at;nt=new mt(1),et=mt.rounding}else{if(nt=new mt(nt),et===void 0?et=mt.rounding:checkInt32(et,0,8),!at.d)return nt.s?at:nt;if(!nt.d)return nt.s&&(nt.s=at.s),nt}return nt.d[0]?(external=!1,at=divide(at,nt,0,et,1).times(nt),external=!0,finalise(at)):(nt.s=at.s,at=nt),at};P$2.toNumber=function(){return+this};P$2.toOctal=function(nt,et){return toStringBinary(this,8,nt,et)};P$2.toPower=P$2.pow=function(nt){var et,at,mt,$t,Ct,Dt,Ft=this,Nt=Ft.constructor,jt=+(nt=new Nt(nt));if(!Ft.d||!nt.d||!Ft.d[0]||!nt.d[0])return new Nt(mathpow(+Ft,jt));if(Ft=new Nt(Ft),Ft.eq(1))return Ft;if(mt=Nt.precision,Ct=Nt.rounding,nt.eq(1))return finalise(Ft,mt,Ct);if(et=mathfloor(nt.e/LOG_BASE),et>=nt.d.length-1&&(at=jt<0?-jt:jt)<=MAX_SAFE_INTEGER$2)return $t=intPow(Nt,Ft,at,mt),nt.s<0?new Nt(1).div($t):finalise($t,mt,Ct);if(Dt=Ft.s,Dt<0){if(et<nt.d.length-1)return new Nt(NaN);if(nt.d[et]&1||(Dt=1),Ft.e==0&&Ft.d[0]==1&&Ft.d.length==1)return Ft.s=Dt,Ft}return at=mathpow(+Ft,jt),et=at==0||!isFinite(at)?mathfloor(jt*(Math.log("0."+digitsToString(Ft.d))/Math.LN10+Ft.e+1)):new Nt(at+"").e,et>Nt.maxE+1||et<Nt.minE-1?new Nt(et>0?Dt/0:0):(external=!1,Nt.rounding=Ft.s=1,at=Math.min(12,(et+"").length),$t=naturalExponential(nt.times(naturalLogarithm(Ft,mt+at)),mt),$t.d&&($t=finalise($t,mt+5,1),checkRoundingDigits($t.d,mt,Ct)&&(et=mt+10,$t=finalise(naturalExponential(nt.times(naturalLogarithm(Ft,et+at)),et),et+5,1),+digitsToString($t.d).slice(mt+1,mt+15)+1==1e14&&($t=finalise($t,mt+1,0)))),$t.s=Dt,external=!0,Nt.rounding=Ct,finalise($t,mt,Ct))};P$2.toPrecision=function(nt,et){var at,mt=this,$t=mt.constructor;return nt===void 0?at=finiteToString(mt,mt.e<=$t.toExpNeg||mt.e>=$t.toExpPos):(checkInt32(nt,1,MAX_DIGITS),et===void 0?et=$t.rounding:checkInt32(et,0,8),mt=finalise(new $t(mt),nt,et),at=finiteToString(mt,nt<=mt.e||mt.e<=$t.toExpNeg,nt)),mt.isNeg()&&!mt.isZero()?"-"+at:at};P$2.toSignificantDigits=P$2.toSD=function(nt,et){var at=this,mt=at.constructor;return nt===void 0?(nt=mt.precision,et=mt.rounding):(checkInt32(nt,1,MAX_DIGITS),et===void 0?et=mt.rounding:checkInt32(et,0,8)),finalise(new mt(at),nt,et)};P$2.toString=function(){var nt=this,et=nt.constructor,at=finiteToString(nt,nt.e<=et.toExpNeg||nt.e>=et.toExpPos);return nt.isNeg()&&!nt.isZero()?"-"+at:at};P$2.truncated=P$2.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$2.valueOf=P$2.toJSON=function(){var nt=this,et=nt.constructor,at=finiteToString(nt,nt.e<=et.toExpNeg||nt.e>=et.toExpPos);return nt.isNeg()?"-"+at:at};function digitsToString(nt){var et,at,mt,$t=nt.length-1,Ct="",Dt=nt[0];if($t>0){for(Ct+=Dt,et=1;et<$t;et++)mt=nt[et]+"",at=LOG_BASE-mt.length,at&&(Ct+=getZeroString(at)),Ct+=mt;Dt=nt[et],mt=Dt+"",at=LOG_BASE-mt.length,at&&(Ct+=getZeroString(at))}else if(Dt===0)return"0";for(;Dt%10===0;)Dt/=10;return Ct+Dt}function checkInt32(nt,et,at){if(nt!==~~nt||nt<et||nt>at)throw Error(invalidArgument+nt)}function checkRoundingDigits(nt,et,at,mt){var $t,Ct,Dt,Ft;for(Ct=nt[0];Ct>=10;Ct/=10)--et;return--et<0?(et+=LOG_BASE,$t=0):($t=Math.ceil((et+1)/LOG_BASE),et%=LOG_BASE),Ct=mathpow(10,LOG_BASE-et),Ft=nt[$t]%Ct|0,mt==null?et<3?(et==0?Ft=Ft/100|0:et==1&&(Ft=Ft/10|0),Dt=at<4&&Ft==99999||at>3&&Ft==49999||Ft==5e4||Ft==0):Dt=(at<4&&Ft+1==Ct||at>3&&Ft+1==Ct/2)&&(nt[$t+1]/Ct/100|0)==mathpow(10,et-2)-1||(Ft==Ct/2||Ft==0)&&(nt[$t+1]/Ct/100|0)==0:et<4?(et==0?Ft=Ft/1e3|0:et==1?Ft=Ft/100|0:et==2&&(Ft=Ft/10|0),Dt=(mt||at<4)&&Ft==9999||!mt&&at>3&&Ft==4999):Dt=((mt||at<4)&&Ft+1==Ct||!mt&&at>3&&Ft+1==Ct/2)&&(nt[$t+1]/Ct/1e3|0)==mathpow(10,et-3)-1,Dt}function convertBase(nt,et,at){for(var mt,$t=[0],Ct,Dt=0,Ft=nt.length;Dt<Ft;){for(Ct=$t.length;Ct--;)$t[Ct]*=et;for($t[0]+=NUMERALS.indexOf(nt.charAt(Dt++)),mt=0;mt<$t.length;mt++)$t[mt]>at-1&&($t[mt+1]===void 0&&($t[mt+1]=0),$t[mt+1]+=$t[mt]/at|0,$t[mt]%=at)}return $t.reverse()}function cosine(nt,et){var at,mt,$t;if(et.isZero())return et;mt=et.d.length,mt<32?(at=Math.ceil(mt/3),$t=(1/tinyPow(4,at)).toString()):(at=16,$t="2.3283064365386962890625e-10"),nt.precision+=at,et=taylorSeries(nt,1,et.times($t),new nt(1));for(var Ct=at;Ct--;){var Dt=et.times(et);et=Dt.times(Dt).minus(Dt).times(8).plus(1)}return nt.precision-=at,et}var divide=function(){function nt(mt,$t,Ct){var Dt,Ft=0,Nt=mt.length;for(mt=mt.slice();Nt--;)Dt=mt[Nt]*$t+Ft,mt[Nt]=Dt%Ct|0,Ft=Dt/Ct|0;return Ft&&mt.unshift(Ft),mt}function et(mt,$t,Ct,Dt){var Ft,Nt;if(Ct!=Dt)Nt=Ct>Dt?1:-1;else for(Ft=Nt=0;Ft<Ct;Ft++)if(mt[Ft]!=$t[Ft]){Nt=mt[Ft]>$t[Ft]?1:-1;break}return Nt}function at(mt,$t,Ct,Dt){for(var Ft=0;Ct--;)mt[Ct]-=Ft,Ft=mt[Ct]<$t[Ct]?1:0,mt[Ct]=Ft*Dt+mt[Ct]-$t[Ct];for(;!mt[0]&&mt.length>1;)mt.shift()}return function(mt,$t,Ct,Dt,Ft,Nt){var jt,Lt,Vt,er,ir,or,lr,dr,pr,hr,vr,br,xr,Sr,Er,$r,Cr,kr,gr,Ut,tr=mt.constructor,nr=mt.s==$t.s?1:-1,rr=mt.d,ar=$t.d;if(!rr||!rr[0]||!ar||!ar[0])return new tr(!mt.s||!$t.s||(rr?ar&&rr[0]==ar[0]:!ar)?NaN:rr&&rr[0]==0||!ar?nr*0:nr/0);for(Nt?(ir=1,Lt=mt.e-$t.e):(Nt=BASE,ir=LOG_BASE,Lt=mathfloor(mt.e/ir)-mathfloor($t.e/ir)),gr=ar.length,Cr=rr.length,pr=new tr(nr),hr=pr.d=[],Vt=0;ar[Vt]==(rr[Vt]||0);Vt++);if(ar[Vt]>(rr[Vt]||0)&&Lt--,Ct==null?(Sr=Ct=tr.precision,Dt=tr.rounding):Ft?Sr=Ct+(mt.e-$t.e)+1:Sr=Ct,Sr<0)hr.push(1),or=!0;else{if(Sr=Sr/ir+2|0,Vt=0,gr==1){for(er=0,ar=ar[0],Sr++;(Vt<Cr||er)&&Sr--;Vt++)Er=er*Nt+(rr[Vt]||0),hr[Vt]=Er/ar|0,er=Er%ar|0;or=er||Vt<Cr}else{for(er=Nt/(ar[0]+1)|0,er>1&&(ar=nt(ar,er,Nt),rr=nt(rr,er,Nt),gr=ar.length,Cr=rr.length),$r=gr,vr=rr.slice(0,gr),br=vr.length;br<gr;)vr[br++]=0;Ut=ar.slice(),Ut.unshift(0),kr=ar[0],ar[1]>=Nt/2&&++kr;do er=0,jt=et(ar,vr,gr,br),jt<0?(xr=vr[0],gr!=br&&(xr=xr*Nt+(vr[1]||0)),er=xr/kr|0,er>1?(er>=Nt&&(er=Nt-1),lr=nt(ar,er,Nt),dr=lr.length,br=vr.length,jt=et(lr,vr,dr,br),jt==1&&(er--,at(lr,gr<dr?Ut:ar,dr,Nt))):(er==0&&(jt=er=1),lr=ar.slice()),dr=lr.length,dr<br&&lr.unshift(0),at(vr,lr,br,Nt),jt==-1&&(br=vr.length,jt=et(ar,vr,gr,br),jt<1&&(er++,at(vr,gr<br?Ut:ar,br,Nt))),br=vr.length):jt===0&&(er++,vr=[0]),hr[Vt++]=er,jt&&vr[0]?vr[br++]=rr[$r]||0:(vr=[rr[$r]],br=1);while(($r++<Cr||vr[0]!==void 0)&&Sr--);or=vr[0]!==void 0}hr[0]||hr.shift()}if(ir==1)pr.e=Lt,inexact=or;else{for(Vt=1,er=hr[0];er>=10;er/=10)Vt++;pr.e=Vt+Lt*ir-1,finalise(pr,Ft?Ct+pr.e+1:Ct,Dt,or)}return pr}}();function finalise(nt,et,at,mt){var $t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=nt.constructor;e:if(et!=null){if(Vt=nt.d,!Vt)return nt;for($t=1,Ft=Vt[0];Ft>=10;Ft/=10)$t++;if(Ct=et-$t,Ct<0)Ct+=LOG_BASE,Dt=et,Lt=Vt[er=0],Nt=Lt/mathpow(10,$t-Dt-1)%10|0;else if(er=Math.ceil((Ct+1)/LOG_BASE),Ft=Vt.length,er>=Ft)if(mt){for(;Ft++<=er;)Vt.push(0);Lt=Nt=0,$t=1,Ct%=LOG_BASE,Dt=Ct-LOG_BASE+1}else break e;else{for(Lt=Ft=Vt[er],$t=1;Ft>=10;Ft/=10)$t++;Ct%=LOG_BASE,Dt=Ct-LOG_BASE+$t,Nt=Dt<0?0:Lt/mathpow(10,$t-Dt-1)%10|0}if(mt=mt||et<0||Vt[er+1]!==void 0||(Dt<0?Lt:Lt%mathpow(10,$t-Dt-1)),jt=at<4?(Nt||mt)&&(at==0||at==(nt.s<0?3:2)):Nt>5||Nt==5&&(at==4||mt||at==6&&(Ct>0?Dt>0?Lt/mathpow(10,$t-Dt):0:Vt[er-1])%10&1||at==(nt.s<0?8:7)),et<1||!Vt[0])return Vt.length=0,jt?(et-=nt.e+1,Vt[0]=mathpow(10,(LOG_BASE-et%LOG_BASE)%LOG_BASE),nt.e=-et||0):Vt[0]=nt.e=0,nt;if(Ct==0?(Vt.length=er,Ft=1,er--):(Vt.length=er+1,Ft=mathpow(10,LOG_BASE-Ct),Vt[er]=Dt>0?(Lt/mathpow(10,$t-Dt)%mathpow(10,Dt)|0)*Ft:0),jt)for(;;)if(er==0){for(Ct=1,Dt=Vt[0];Dt>=10;Dt/=10)Ct++;for(Dt=Vt[0]+=Ft,Ft=1;Dt>=10;Dt/=10)Ft++;Ct!=Ft&&(nt.e++,Vt[0]==BASE&&(Vt[0]=1));break}else{if(Vt[er]+=Ft,Vt[er]!=BASE)break;Vt[er--]=0,Ft=1}for(Ct=Vt.length;Vt[--Ct]===0;)Vt.pop()}return external&&(nt.e>ir.maxE?(nt.d=null,nt.e=NaN):nt.e<ir.minE&&(nt.e=0,nt.d=[0])),nt}function finiteToString(nt,et,at){if(!nt.isFinite())return nonFiniteToString(nt);var mt,$t=nt.e,Ct=digitsToString(nt.d),Dt=Ct.length;return et?(at&&(mt=at-Dt)>0?Ct=Ct.charAt(0)+"."+Ct.slice(1)+getZeroString(mt):Dt>1&&(Ct=Ct.charAt(0)+"."+Ct.slice(1)),Ct=Ct+(nt.e<0?"e":"e+")+nt.e):$t<0?(Ct="0."+getZeroString(-$t-1)+Ct,at&&(mt=at-Dt)>0&&(Ct+=getZeroString(mt))):$t>=Dt?(Ct+=getZeroString($t+1-Dt),at&&(mt=at-$t-1)>0&&(Ct=Ct+"."+getZeroString(mt))):((mt=$t+1)<Dt&&(Ct=Ct.slice(0,mt)+"."+Ct.slice(mt)),at&&(mt=at-Dt)>0&&($t+1===Dt&&(Ct+="."),Ct+=getZeroString(mt))),Ct}function getBase10Exponent(nt,et){var at=nt[0];for(et*=LOG_BASE;at>=10;at/=10)et++;return et}function getLn10(nt,et,at){if(et>LN10_PRECISION)throw external=!0,at&&(nt.precision=at),Error(precisionLimitExceeded);return finalise(new nt(LN10),et,1,!0)}function getPi(nt,et,at){if(et>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new nt(PI),et,at,!0)}function getPrecision(nt){var et=nt.length-1,at=et*LOG_BASE+1;if(et=nt[et],et){for(;et%10==0;et/=10)at--;for(et=nt[0];et>=10;et/=10)at++}return at}function getZeroString(nt){for(var et="";nt--;)et+="0";return et}function intPow(nt,et,at,mt){var $t,Ct=new nt(1),Dt=Math.ceil(mt/LOG_BASE+4);for(external=!1;;){if(at%2&&(Ct=Ct.times(et),truncate(Ct.d,Dt)&&($t=!0)),at=mathfloor(at/2),at===0){at=Ct.d.length-1,$t&&Ct.d[at]===0&&++Ct.d[at];break}et=et.times(et),truncate(et.d,Dt)}return external=!0,Ct}function isOdd(nt){return nt.d[nt.d.length-1]&1}function maxOrMin(nt,et,at){for(var mt,$t=new nt(et[0]),Ct=0;++Ct<et.length;)if(mt=new nt(et[Ct]),mt.s)$t[at](mt)&&($t=mt);else{$t=mt;break}return $t}function naturalExponential(nt,et){var at,mt,$t,Ct,Dt,Ft,Nt,jt=0,Lt=0,Vt=0,er=nt.constructor,ir=er.rounding,or=er.precision;if(!nt.d||!nt.d[0]||nt.e>17)return new er(nt.d?nt.d[0]?nt.s<0?0:1/0:1:nt.s?nt.s<0?0:nt:NaN);for(et==null?(external=!1,Nt=or):Nt=et,Ft=new er(.03125);nt.e>-2;)nt=nt.times(Ft),Vt+=5;for(mt=Math.log(mathpow(2,Vt))/Math.LN10*2+5|0,Nt+=mt,at=Ct=Dt=new er(1),er.precision=Nt;;){if(Ct=finalise(Ct.times(nt),Nt,1),at=at.times(++Lt),Ft=Dt.plus(divide(Ct,at,Nt,1)),digitsToString(Ft.d).slice(0,Nt)===digitsToString(Dt.d).slice(0,Nt)){for($t=Vt;$t--;)Dt=finalise(Dt.times(Dt),Nt,1);if(et==null)if(jt<3&&checkRoundingDigits(Dt.d,Nt-mt,ir,jt))er.precision=Nt+=10,at=Ct=Ft=new er(1),Lt=0,jt++;else return finalise(Dt,er.precision=or,ir,external=!0);else return er.precision=or,Dt}Dt=Ft}}function naturalLogarithm(nt,et){var at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=1,or=10,lr=nt,dr=lr.d,pr=lr.constructor,hr=pr.rounding,vr=pr.precision;if(lr.s<0||!dr||!dr[0]||!lr.e&&dr[0]==1&&dr.length==1)return new pr(dr&&!dr[0]?-1/0:lr.s!=1?NaN:dr?0:lr);if(et==null?(external=!1,Lt=vr):Lt=et,pr.precision=Lt+=or,at=digitsToString(dr),mt=at.charAt(0),Math.abs(Ct=lr.e)<15e14){for(;mt<7&&mt!=1||mt==1&&at.charAt(1)>3;)lr=lr.times(nt),at=digitsToString(lr.d),mt=at.charAt(0),ir++;Ct=lr.e,mt>1?(lr=new pr("0."+at),Ct++):lr=new pr(mt+"."+at.slice(1))}else return jt=getLn10(pr,Lt+2,vr).times(Ct+""),lr=naturalLogarithm(new pr(mt+"."+at.slice(1)),Lt-or).plus(jt),pr.precision=vr,et==null?finalise(lr,vr,hr,external=!0):lr;for(Vt=lr,Nt=Dt=lr=divide(lr.minus(1),lr.plus(1),Lt,1),er=finalise(lr.times(lr),Lt,1),$t=3;;){if(Dt=finalise(Dt.times(er),Lt,1),jt=Nt.plus(divide(Dt,new pr($t),Lt,1)),digitsToString(jt.d).slice(0,Lt)===digitsToString(Nt.d).slice(0,Lt))if(Nt=Nt.times(2),Ct!==0&&(Nt=Nt.plus(getLn10(pr,Lt+2,vr).times(Ct+""))),Nt=divide(Nt,new pr(ir),Lt,1),et==null)if(checkRoundingDigits(Nt.d,Lt-or,hr,Ft))pr.precision=Lt+=or,jt=Dt=lr=divide(Vt.minus(1),Vt.plus(1),Lt,1),er=finalise(lr.times(lr),Lt,1),$t=Ft=1;else return finalise(Nt,pr.precision=vr,hr,external=!0);else return pr.precision=vr,Nt;Nt=jt,$t+=2}}function nonFiniteToString(nt){return String(nt.s*nt.s/0)}function parseDecimal(nt,et){var at,mt,$t;for((at=et.indexOf("."))>-1&&(et=et.replace(".","")),(mt=et.search(/e/i))>0?(at<0&&(at=mt),at+=+et.slice(mt+1),et=et.substring(0,mt)):at<0&&(at=et.length),mt=0;et.charCodeAt(mt)===48;mt++);for($t=et.length;et.charCodeAt($t-1)===48;--$t);if(et=et.slice(mt,$t),et){if($t-=mt,nt.e=at=at-mt-1,nt.d=[],mt=(at+1)%LOG_BASE,at<0&&(mt+=LOG_BASE),mt<$t){for(mt&&nt.d.push(+et.slice(0,mt)),$t-=LOG_BASE;mt<$t;)nt.d.push(+et.slice(mt,mt+=LOG_BASE));et=et.slice(mt),mt=LOG_BASE-et.length}else mt-=$t;for(;mt--;)et+="0";nt.d.push(+et),external&&(nt.e>nt.constructor.maxE?(nt.d=null,nt.e=NaN):nt.e<nt.constructor.minE&&(nt.e=0,nt.d=[0]))}else nt.e=0,nt.d=[0];return nt}function parseOther(nt,et){var at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt;if(et.indexOf("_")>-1){if(et=et.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(et))return parseDecimal(nt,et)}else if(et==="Infinity"||et==="NaN")return+et||(nt.s=NaN),nt.e=NaN,nt.d=null,nt;if(isHex.test(et))at=16,et=et.toLowerCase();else if(isBinary.test(et))at=2;else if(isOctal.test(et))at=8;else throw Error(invalidArgument+et);for(Ct=et.search(/p/i),Ct>0?(Nt=+et.slice(Ct+1),et=et.substring(2,Ct)):et=et.slice(2),Ct=et.indexOf("."),Dt=Ct>=0,mt=nt.constructor,Dt&&(et=et.replace(".",""),Ft=et.length,Ct=Ft-Ct,$t=intPow(mt,new mt(at),Ct,Ct*2)),jt=convertBase(et,at,BASE),Lt=jt.length-1,Ct=Lt;jt[Ct]===0;--Ct)jt.pop();return Ct<0?new mt(nt.s*0):(nt.e=getBase10Exponent(jt,Lt),nt.d=jt,external=!1,Dt&&(nt=divide(nt,$t,Ft*4)),Nt&&(nt=nt.times(Math.abs(Nt)<54?mathpow(2,Nt):Decimal.pow(2,Nt))),external=!0,nt)}function sine(nt,et){var at,mt=et.d.length;if(mt<3)return et.isZero()?et:taylorSeries(nt,2,et,et);at=1.4*Math.sqrt(mt),at=at>16?16:at|0,et=et.times(1/tinyPow(5,at)),et=taylorSeries(nt,2,et,et);for(var $t,Ct=new nt(5),Dt=new nt(16),Ft=new nt(20);at--;)$t=et.times(et),et=et.times(Ct.plus($t.times(Dt.times($t).minus(Ft))));return et}function taylorSeries(nt,et,at,mt,$t){var Ct,Dt,Ft,Nt,jt=nt.precision,Lt=Math.ceil(jt/LOG_BASE);for(external=!1,Nt=at.times(at),Ft=new nt(mt);;){if(Dt=divide(Ft.times(Nt),new nt(et++*et++),jt,1),Ft=$t?mt.plus(Dt):mt.minus(Dt),mt=divide(Dt.times(Nt),new nt(et++*et++),jt,1),Dt=Ft.plus(mt),Dt.d[Lt]!==void 0){for(Ct=Lt;Dt.d[Ct]===Ft.d[Ct]&&Ct--;);if(Ct==-1)break}Ct=Ft,Ft=mt,mt=Dt,Dt=Ct}return external=!0,Dt.d.length=Lt+1,Dt}function tinyPow(nt,et){for(var at=nt;--et;)at*=nt;return at}function toLessThanHalfPi(nt,et){var at,mt=et.s<0,$t=getPi(nt,nt.precision,1),Ct=$t.times(.5);if(et=et.abs(),et.lte(Ct))return quadrant=mt?4:1,et;if(at=et.divToInt($t),at.isZero())quadrant=mt?3:2;else{if(et=et.minus(at.times($t)),et.lte(Ct))return quadrant=isOdd(at)?mt?2:3:mt?4:1,et;quadrant=isOdd(at)?mt?1:4:mt?3:2}return et.minus($t).abs()}function toStringBinary(nt,et,at,mt){var $t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir=nt.constructor,or=at!==void 0;if(or?(checkInt32(at,1,MAX_DIGITS),mt===void 0?mt=ir.rounding:checkInt32(mt,0,8)):(at=ir.precision,mt=ir.rounding),!nt.isFinite())Lt=nonFiniteToString(nt);else{for(Lt=finiteToString(nt),Dt=Lt.indexOf("."),or?($t=2,et==16?at=at*4-3:et==8&&(at=at*3-2)):$t=et,Dt>=0&&(Lt=Lt.replace(".",""),er=new ir(1),er.e=Lt.length-Dt,er.d=convertBase(finiteToString(er),10,$t),er.e=er.d.length),Vt=convertBase(Lt,10,$t),Ct=Nt=Vt.length;Vt[--Nt]==0;)Vt.pop();if(!Vt[0])Lt=or?"0p+0":"0";else{if(Dt<0?Ct--:(nt=new ir(nt),nt.d=Vt,nt.e=Ct,nt=divide(nt,er,at,mt,0,$t),Vt=nt.d,Ct=nt.e,jt=inexact),Dt=Vt[at],Ft=$t/2,jt=jt||Vt[at+1]!==void 0,jt=mt<4?(Dt!==void 0||jt)&&(mt===0||mt===(nt.s<0?3:2)):Dt>Ft||Dt===Ft&&(mt===4||jt||mt===6&&Vt[at-1]&1||mt===(nt.s<0?8:7)),Vt.length=at,jt)for(;++Vt[--at]>$t-1;)Vt[at]=0,at||(++Ct,Vt.unshift(1));for(Nt=Vt.length;!Vt[Nt-1];--Nt);for(Dt=0,Lt="";Dt<Nt;Dt++)Lt+=NUMERALS.charAt(Vt[Dt]);if(or){if(Nt>1)if(et==16||et==8){for(Dt=et==16?4:3,--Nt;Nt%Dt;Nt++)Lt+="0";for(Vt=convertBase(Lt,$t,et),Nt=Vt.length;!Vt[Nt-1];--Nt);for(Dt=1,Lt="1.";Dt<Nt;Dt++)Lt+=NUMERALS.charAt(Vt[Dt])}else Lt=Lt.charAt(0)+"."+Lt.slice(1);Lt=Lt+(Ct<0?"p":"p+")+Ct}else if(Ct<0){for(;++Ct;)Lt="0"+Lt;Lt="0."+Lt}else if(++Ct>Nt)for(Ct-=Nt;Ct--;)Lt+="0";else Ct<Nt&&(Lt=Lt.slice(0,Ct)+"."+Lt.slice(Ct))}Lt=(et==16?"0x":et==2?"0b":et==8?"0o":"")+Lt}return nt.s<0?"-"+Lt:Lt}function truncate(nt,et){if(nt.length>et)return nt.length=et,!0}function abs(nt){return new this(nt).abs()}function acos(nt){return new this(nt).acos()}function acosh(nt){return new this(nt).acosh()}function add(nt,et){return new this(nt).plus(et)}function asin(nt){return new this(nt).asin()}function asinh(nt){return new this(nt).asinh()}function atan(nt){return new this(nt).atan()}function atanh(nt){return new this(nt).atanh()}function atan2(nt,et){nt=new this(nt),et=new this(et);var at,mt=this.precision,$t=this.rounding,Ct=mt+4;return!nt.s||!et.s?at=new this(NaN):!nt.d&&!et.d?(at=getPi(this,Ct,1).times(et.s>0?.25:.75),at.s=nt.s):!et.d||nt.isZero()?(at=et.s<0?getPi(this,mt,$t):new this(0),at.s=nt.s):!nt.d||et.isZero()?(at=getPi(this,Ct,1).times(.5),at.s=nt.s):et.s<0?(this.precision=Ct,this.rounding=1,at=this.atan(divide(nt,et,Ct,1)),et=getPi(this,Ct,1),this.precision=mt,this.rounding=$t,at=nt.s<0?at.minus(et):at.plus(et)):at=this.atan(divide(nt,et,Ct,1)),at}function cbrt(nt){return new this(nt).cbrt()}function ceil(nt){return finalise(nt=new this(nt),nt.e+1,2)}function clamp$2(nt,et,at){return new this(nt).clamp(et,at)}function config$2(nt){if(!nt||typeof nt!="object")throw Error(decimalError+"Object expected");var et,at,mt,$t=nt.defaults===!0,Ct=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(et=0;et<Ct.length;et+=3)if(at=Ct[et],$t&&(this[at]=DEFAULTS[at]),(mt=nt[at])!==void 0)if(mathfloor(mt)===mt&&mt>=Ct[et+1]&&mt<=Ct[et+2])this[at]=mt;else throw Error(invalidArgument+at+": "+mt);if(at="crypto",$t&&(this[at]=DEFAULTS[at]),(mt=nt[at])!==void 0)if(mt===!0||mt===!1||mt===0||mt===1)if(mt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[at]=!0;else throw Error(cryptoUnavailable);else this[at]=!1;else throw Error(invalidArgument+at+": "+mt);return this}function cos(nt){return new this(nt).cos()}function cosh(nt){return new this(nt).cosh()}function clone$1(nt){var et,at,mt;function $t(Ct){var Dt,Ft,Nt,jt=this;if(!(jt instanceof $t))return new $t(Ct);if(jt.constructor=$t,isDecimalInstance(Ct)){jt.s=Ct.s,external?!Ct.d||Ct.e>$t.maxE?(jt.e=NaN,jt.d=null):Ct.e<$t.minE?(jt.e=0,jt.d=[0]):(jt.e=Ct.e,jt.d=Ct.d.slice()):(jt.e=Ct.e,jt.d=Ct.d?Ct.d.slice():Ct.d);return}if(Nt=typeof Ct,Nt==="number"){if(Ct===0){jt.s=1/Ct<0?-1:1,jt.e=0,jt.d=[0];return}if(Ct<0?(Ct=-Ct,jt.s=-1):jt.s=1,Ct===~~Ct&&Ct<1e7){for(Dt=0,Ft=Ct;Ft>=10;Ft/=10)Dt++;external?Dt>$t.maxE?(jt.e=NaN,jt.d=null):Dt<$t.minE?(jt.e=0,jt.d=[0]):(jt.e=Dt,jt.d=[Ct]):(jt.e=Dt,jt.d=[Ct]);return}else if(Ct*0!==0){Ct||(jt.s=NaN),jt.e=NaN,jt.d=null;return}return parseDecimal(jt,Ct.toString())}else if(Nt!=="string")throw Error(invalidArgument+Ct);return(Ft=Ct.charCodeAt(0))===45?(Ct=Ct.slice(1),jt.s=-1):(Ft===43&&(Ct=Ct.slice(1)),jt.s=1),isDecimal.test(Ct)?parseDecimal(jt,Ct):parseOther(jt,Ct)}if($t.prototype=P$2,$t.ROUND_UP=0,$t.ROUND_DOWN=1,$t.ROUND_CEIL=2,$t.ROUND_FLOOR=3,$t.ROUND_HALF_UP=4,$t.ROUND_HALF_DOWN=5,$t.ROUND_HALF_EVEN=6,$t.ROUND_HALF_CEIL=7,$t.ROUND_HALF_FLOOR=8,$t.EUCLID=9,$t.config=$t.set=config$2,$t.clone=clone$1,$t.isDecimal=isDecimalInstance,$t.abs=abs,$t.acos=acos,$t.acosh=acosh,$t.add=add,$t.asin=asin,$t.asinh=asinh,$t.atan=atan,$t.atanh=atanh,$t.atan2=atan2,$t.cbrt=cbrt,$t.ceil=ceil,$t.clamp=clamp$2,$t.cos=cos,$t.cosh=cosh,$t.div=div,$t.exp=exp,$t.floor=floor,$t.hypot=hypot,$t.ln=ln$2,$t.log=log,$t.log10=log10,$t.log2=log2,$t.max=max,$t.min=min,$t.mod=mod,$t.mul=mul,$t.pow=pow,$t.random=random,$t.round=round,$t.sign=sign,$t.sin=sin,$t.sinh=sinh,$t.sqrt=sqrt,$t.sub=sub,$t.sum=sum,$t.tan=tan,$t.tanh=tanh,$t.trunc=trunc,nt===void 0&&(nt={}),nt&&nt.defaults!==!0)for(mt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],et=0;et<mt.length;)nt.hasOwnProperty(at=mt[et++])||(nt[at]=this[at]);return $t.config(nt),$t}function div(nt,et){return new this(nt).div(et)}function exp(nt){return new this(nt).exp()}function floor(nt){return finalise(nt=new this(nt),nt.e+1,3)}function hypot(){var nt,et,at=new this(0);for(external=!1,nt=0;nt<arguments.length;)if(et=new this(arguments[nt++]),et.d)at.d&&(at=at.plus(et.times(et)));else{if(et.s)return external=!0,new this(1/0);at=et}return external=!0,at.sqrt()}function isDecimalInstance(nt){return nt instanceof Decimal||nt&&nt.toStringTag===tag||!1}function ln$2(nt){return new this(nt).ln()}function log(nt,et){return new this(nt).log(et)}function log2(nt){return new this(nt).log(2)}function log10(nt){return new this(nt).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(nt,et){return new this(nt).mod(et)}function mul(nt,et){return new this(nt).mul(et)}function pow(nt,et){return new this(nt).pow(et)}function random(nt){var et,at,mt,$t,Ct=0,Dt=new this(1),Ft=[];if(nt===void 0?nt=this.precision:checkInt32(nt,1,MAX_DIGITS),mt=Math.ceil(nt/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(et=crypto.getRandomValues(new Uint32Array(mt));Ct<mt;)$t=et[Ct],$t>=429e7?et[Ct]=crypto.getRandomValues(new Uint32Array(1))[0]:Ft[Ct++]=$t%1e7;else if(crypto.randomBytes){for(et=crypto.randomBytes(mt*=4);Ct<mt;)$t=et[Ct]+(et[Ct+1]<<8)+(et[Ct+2]<<16)+((et[Ct+3]&127)<<24),$t>=214e7?crypto.randomBytes(4).copy(et,Ct):(Ft.push($t%1e7),Ct+=4);Ct=mt/4}else throw Error(cryptoUnavailable);else for(;Ct<mt;)Ft[Ct++]=Math.random()*1e7|0;for(mt=Ft[--Ct],nt%=LOG_BASE,mt&&nt&&($t=mathpow(10,LOG_BASE-nt),Ft[Ct]=(mt/$t|0)*$t);Ft[Ct]===0;Ct--)Ft.pop();if(Ct<0)at=0,Ft=[0];else{for(at=-1;Ft[0]===0;at-=LOG_BASE)Ft.shift();for(mt=1,$t=Ft[0];$t>=10;$t/=10)mt++;mt<LOG_BASE&&(at-=LOG_BASE-mt)}return Dt.e=at,Dt.d=Ft,Dt}function round(nt){return finalise(nt=new this(nt),nt.e+1,this.rounding)}function sign(nt){return nt=new this(nt),nt.d?nt.d[0]?nt.s:0*nt.s:nt.s||NaN}function sin(nt){return new this(nt).sin()}function sinh(nt){return new this(nt).sinh()}function sqrt(nt){return new this(nt).sqrt()}function sub(nt,et){return new this(nt).sub(et)}function sum(){var nt=0,et=arguments,at=new this(et[nt]);for(external=!1;at.s&&++nt<et.length;)at=at.plus(et[nt]);return external=!0,finalise(at,this.precision,this.rounding)}function tan(nt){return new this(nt).tan()}function tanh(nt){return new this(nt).tanh()}function trunc(nt){return finalise(nt=new this(nt),nt.e+1,1)}P$2[Symbol.for("nodejs.util.inspect.custom")]=P$2.toString;P$2[Symbol.toStringTag]="Decimal";var Decimal=P$2.constructor=clone$1(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);var decimal_default=Decimal,import_bn5=__toESM(require_bn()),import_bn=__toESM(require_bn()),Aftermath=class{constructor(nt){if(nt!==0)throw new Error("Aftermath only supported on mainnet");this.slippage="900000000000000000",this.poolRegistry="0xfcc774493db2c45c79f688f88d28023a3e7d98e4ee9f48bbf5c7990f651577ae",this.protocolFeeVault="0xf194d9b1bcad972e45a7dd67dd49b3ee1e3357a00a50850c52cd51bb450e13b4",this.treasury="0x28e499dff5e864a2eafe476269a4f5035f1c16f338da7be18b103499abf271ce",this.insuranceFund="0xf0c40d67b078000e18032334c3325c47b9ec9f3d9ae4128be820d54663d14e3b",this.referrealVault="0x35d35b0e5b177593d8c3a801462485572fc30861e6ce96a55af6dc4730709278"}amountLimit(nt){return new import_bn.default(nt).mul(new import_bn.default(this.slippage)).div(new import_bn.default("1000000000000000000")).toString()}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt];if(at.extendedDetails==null)throw new Error("Extended details not supported");if(at.extendedDetails.aftermathLpSupplyType==null)throw new Error("LP supply type not supported");const Vt=[et.object(at.id),et.object(this.poolRegistry),et.object(this.protocolFeeVault),et.object(this.treasury),et.object(this.insuranceFund),et.object(this.referrealVault),et.pure.u64(this.amountLimit(at.amountOut)),et.pure.u64(this.slippage),mt],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::aftermath::${Nt}`,typeArguments:[jt,Lt,at.extendedDetails.aftermathLpSupplyType],arguments:Vt})})}},DEEPBOOK_PACKAGE_ID="0x000000000000000000000000000000000000000000000000000000000000dee9",DeepbookV2=class{constructor(nt){if(nt!==0)throw new Error("Aftermath only supported on mainnet")}getAccountCap(nt,et){return __async(this,null,function*(){let at=50,mt=null;for(;;){const $t=nt.getOwnedObjects({owner:et,cursor:mt,limit:at,filter:{MoveModule:{package:DEEPBOOK_PACKAGE_ID,module:"custodian_v2"}}});if($t!=null&&$t.data!=null){if($t.data.length!==0)return $t.data[0].data.objectId;if($t.data.length<50)break}else break}return null})}getOrCreateAccountCap(nt,et,at){return __async(this,null,function*(){let mt=yield this.getAccountCap(et,at);return mt!==null?{accountCap:nt.object(mt),isCreate:!1}:{accountCap:nt.moveCall({target:`${DEEPBOOK_PACKAGE_ID}::clob_v2::create_account`,typeArguments:[],arguments:[]}),isCreate:!0}})}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=yield this.getOrCreateAccountCap(et,nt.client,nt.signer),er=[et.object(at.id),mt,Vt.accountCap,et.object(CLOCK_ADDRESS)],ir=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t),or=et.moveCall({target:`${ir}::deepbook::${Nt}`,typeArguments:[jt,Lt],arguments:er});return Vt.isCreate&&et.transferObjects([Vt.accountCap],nt.signer),or})}},KriyaV2=class{constructor(nt){if(nt!==0)throw new Error("Kriya amm only supported on mainnet")}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=[et.object(at.id),mt],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::kriya_amm::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}},KriyaV3=class{constructor(nt){if(nt!==0)throw new Error("Kriya clmm only supported on mainnet");this.version="0xf5145a7ac345ca8736cf8c76047d00d6d378f30e81be6f6eb557184d9de93c78"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=[et.object(at.id),mt,et.object(this.version),et.object(CLOCK_ADDRESS)],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::kriya_clmm::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}},FlowxV2=class{constructor(nt){if(nt!==0)throw new Error("Flowx only supported on mainnet");this.container="0xb65dcbf63fd3ad5d0ebfbf334780dc9f785eff38a4459e37ab08fa79576ee511"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=[et.object(this.container),mt],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::flowx_amm::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}},FlowxV3=class{constructor(nt){if(nt!==0)throw new Error("Flowx clmm only supported on mainnet");this.versioned="0x67624a1533b5aff5d0dfcf5e598684350efd38134d2d245f475524c03a64e656",this.poolRegistry="0x27565d24a4cd51127ac90e4074a841bbe356cca7bf5759ddc14a975be1632abc"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=[et.object(this.poolRegistry),et.pure.u64(at.feeRate*1e6),mt,et.object(this.versioned),et.object(CLOCK_ADDRESS)],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::flowx_clmm::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}},Turbos=class{constructor(nt){if(nt!==0)throw new Error("Turbos only supported on mainnet");this.versioned="0xf1cf0e81048df168ebeb1b8030fad24b3e0b53ae827c25053fff0779c1445b6f"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt];if(at.extendedDetails==null)throw new Error("Extended details not supported");if(at.extendedDetails.turbosFeeType==null)throw new Error("Turbos fee type not supported");const Vt=[et.object(at.id),mt,et.object(CLOCK_ADDRESS),et.object(this.versioned)],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::turbos::${Nt}`,typeArguments:[jt,Lt,at.extendedDetails.turbosFeeType],arguments:Vt})})}},Cetus=class{constructor(nt,et){this.globalConfig=nt===0?"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f":"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",this.partner=et??(nt===0?"0x639b5e433da31739e800cd085f356e64cae222966d0f1b11bd9dc76b322ff58b":"0x1f5fa5c820f40d43fc47815ad06d95e40a1942ff72a732a92e8ef4aa8cde70a5")}flash_swap(nt,et,at,mt,$t){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["flash_swap_a2b",Dt,Ft]:["flash_swap_b2a",Ft,Dt];let Vt=mt?at.amountIn:at.amountOut;const er=[et.object(this.globalConfig),et.object(at.id),et.object(this.partner),et.pure.u64(Vt),et.pure.bool(mt),et.object(CLOCK_ADDRESS)],ir=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t),or=et.moveCall({target:`${ir}::cetus::${Nt}`,typeArguments:[jt,Lt],arguments:er});return{targetCoin:or[0],flashReceipt:or[1],payAmount:or[2]}}repay_flash_swap(nt,et,at,mt,$t,Ct){const{direction:Dt,from:Ft,target:Nt}=at,[jt,Lt,Vt]=Dt?["repay_flash_swap_a2b",Ft,Nt]:["repay_flash_swap_b2a",Nt,Ft],er=[et.object(this.globalConfig),et.object(at.id),et.object(this.partner),mt,$t],ir=getAggregatorV2PublishedAt(nt.publishedAtV2(),Ct);return et.moveCall({target:`${ir}::cetus::${jt}`,typeArguments:[Lt,Vt],arguments:er})[0]}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=[et.object(this.globalConfig),et.object(at.id),et.object(this.partner),mt,et.object(CLOCK_ADDRESS)],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::cetus::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}};function composeType(nt,...et){const at=Array.isArray(et[et.length-1])?et.pop():[];let $t=[nt,...et].filter(Boolean).join("::");return at&&at.length&&($t+=`<${at.join(", ")}>`),$t}function extractStructTagFromType(nt){var et;try{let at=nt.replace(/\s/g,"");const mt=at.match(/(<.+>)$/),$t=(et=mt==null?void 0:mt[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if($t){at=at.slice(0,at.indexOf("<"));const Nt=extractStructTagFromType(at),jt=__spreadProps$1(__spreadValues$2({},Nt),{type_arguments:$t.map(Lt=>extractStructTagFromType(Lt).source_address)});return jt.type_arguments=jt.type_arguments.map(Lt=>CoinUtils.isSuiCoin(Lt)?Lt:extractStructTagFromType(Lt).source_address),jt.source_address=composeType(jt.full_address,jt.type_arguments),jt}const Ct=at.split("::"),Ft={full_address:at,address:at===GAS_TYPE_ARG||at===GAS_TYPE_ARG_LONG?"0x2":normalizeSuiObjectId(Ct[0]),module:Ct[1],name:Ct[2],type_arguments:[],source_address:""};return Ft.full_address=`${Ft.address}::${Ft.module}::${Ft.name}`,Ft.source_address=composeType(Ft.full_address,Ft.type_arguments),Ft}catch{return{full_address:nt,address:"",module:"",name:"",type_arguments:[],source_address:nt}}}function normalizeCoinType(nt){return extractStructTagFromType(nt).source_address}var COIN_TYPE="0x2::coin::Coin",COIN_TYPE_ARG_REGEX=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG="0x2::sui::SUI",GAS_TYPE_ARG_LONG="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinUtils=class xl{static getCoinTypeArg(et){const at=et.type.match(COIN_TYPE_ARG_REGEX);return at?at[1]:null}static isSUI(et){const at=xl.getCoinTypeArg(et);return at?xl.getCoinSymbol(at)==="SUI":!1}static getCoinSymbol(et){return et.substring(et.lastIndexOf(":")+1)}static getBalance(et){return BigInt(et.fields.balance)}static totalBalance(et,at){let mt=BigInt(0);return et.forEach($t=>{at===$t.coinAddress&&(mt+=BigInt($t.balance))}),mt}static getID(et){return et.fields.id.id}static getCoinTypeFromArg(et){return`${COIN_TYPE}<${et}>`}static getCoinAssets(et,at){const mt=[];return at.forEach($t=>{normalizeCoinType($t.coinAddress)===normalizeCoinType(et)&&mt.push($t)}),mt}static isSuiCoin(et){return extractStructTagFromType(et).full_address===GAS_TYPE_ARG}static selectCoinObjectIdGreaterThanOrEqual(et,at,mt=[]){const $t=xl.selectCoinAssetGreaterThanOrEqual(et,at,mt),Ct=$t.selectedCoins.map(Nt=>Nt.coinObjectId),Dt=$t.remainingCoins,Ft=$t.selectedCoins.map(Nt=>Nt.balance.toString());return{objectArray:Ct,remainCoins:Dt,amountArray:Ft}}static selectCoinAssetGreaterThanOrEqual(et,at,mt=[]){const $t=xl.sortByBalance(et.filter(jt=>!mt.includes(jt.coinObjectId))),Ct=xl.calculateTotalBalance($t);if(Ct<at)return{selectedCoins:[],remainingCoins:$t};if(Ct===at)return{selectedCoins:$t,remainingCoins:[]};let Dt=BigInt(0);const Ft=[],Nt=[...$t];for(;Dt<Ct;){const jt=at-Dt,Lt=Nt.findIndex(er=>er.balance>=jt);if(Lt!==-1){Ft.push(Nt[Lt]),Nt.splice(Lt,1);break}const Vt=Nt.pop();Vt.balance>0&&(Ft.push(Vt),Dt+=Vt.balance)}return{selectedCoins:xl.sortByBalance(Ft),remainingCoins:xl.sortByBalance(Nt)}}static sortByBalance(et){return et.sort((at,mt)=>at.balance<mt.balance?-1:at.balance>mt.balance?1:0)}static sortByBalanceDes(et){return et.sort((at,mt)=>at.balance>mt.balance?-1:at.balance<mt.balance?0:1)}static calculateTotalBalance(et){return et.reduce((at,mt)=>at+mt.balance,BigInt(0))}};function getAggregatorServerErrorMessage(nt){switch(nt){case 1e4:return"Calculate error";case 10001:return"Input number too large can not fit in target type";case 10002:return"No router";case 10003:return"Insufficient Liquidity";case 10004:return"Target token is detected as a HoneyPot scam";case 10005:return"Too many requests. Please try again later";default:return"Unknown error"}}function completionCoin(nt){const et=nt.indexOf("::");if(et===-1)return nt;const at=nt.substring(0,et),mt=nt.substring(et);if(!at.startsWith("0x"))return nt;const $t=at.substring(2);return $t.length>64?nt:`0x${$t.padStart(64,"0")}${mt}`}function compareCoins(nt,et){nt=completionCoin(nt),et=completionCoin(et);const at=Math.min(nt.length,et.length);for(let mt=0;mt<at;mt++){if(nt[mt]>et[mt])return!0;if(nt[mt]<et[mt])return!1}return!0}function mintZeroCoin(nt,et){return nt.moveCall({target:"0x2::coin::zero",typeArguments:[et]})}function buildInputCoin(nt,et,at,mt){const $t=CoinUtils.getCoinAssets(mt,et);if(at===BigInt(0))return CoinUtils.isSuiCoin(mt)||$t.length===0&&!CoinUtils.isSuiCoin(mt)?{targetCoin:mintZeroCoin(nt,mt),isMintZeroCoin:!0,targetCoinAmount:0}:{targetCoin:nt.object($t[0].coinObjectId),isMintZeroCoin:!1,targetCoinAmount:Number($t[0].balance.toString())};if(CoinUtils.calculateTotalBalance($t)<at)throw new AggregateError("Insufficient balance when build merge coin, coinType: "+mt,"InsufficientBalance"+mt);if(CoinUtils.isSuiCoin(mt))return{targetCoin:nt.splitCoins(nt.gas,[nt.pure.u64(at.toString())]),isMintZeroCoin:!0,targetCoinAmount:Number(at.toString())};let Dt=CoinUtils.sortByBalance($t);Dt.slice(0,3).reduce((er,ir)=>er+ir.balance,BigInt(0))<BigInt(at)&&(Dt=CoinUtils.sortByBalanceDes($t));let Nt=CoinUtils.selectCoinObjectIdGreaterThanOrEqual(Dt,at);const[jt,...Lt]=Nt.objectArray;return Lt.length>0&&nt.mergeCoins(jt,Lt.map(er=>nt.object(er))),{targetCoin:nt.splitCoins(nt.object(jt),[nt.pure.u64(at.toString())]),isMintZeroCoin:!1,targetCoinAmount:Number(at.toString())}}function checkInvalidSuiAddress(nt){return!(!nt.startsWith("0x")||nt.length!==66)}var import_bn4=__toESM(require_bn()),import_bn3=__toESM(require_bn()),import_bn2=__toESM(require_bn()),ZERO=new import_bn2.default(0);new import_bn2.default(1);var TWO=new import_bn2.default(2);TWO.pow(new import_bn2.default(128));var U64_MAX_BN=new import_bn2.default("18446744073709551615"),TEN_POW_NINE=1e9;function CalculateAmountLimit(nt,et,at){let mt=ZERO;return et?mt=nt.mul(new import_bn3.default(TEN_POW_NINE-at*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):mt=nt.mul(new import_bn3.default(TEN_POW_NINE+at*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),Number(mt.toString())}function CalculateAmountLimitBN(nt,et,at){let mt=ZERO;return et?mt=nt.mul(new import_bn3.default(TEN_POW_NINE-at*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):mt=nt.mul(new import_bn3.default(TEN_POW_NINE+at*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),mt}function sqrtPriceX64ToPrice(nt,et,at){return new decimal_default(nt).mul(decimal_default.pow(2,-64)).pow(2).mul(decimal_default.pow(10,et-at))}function swapInPools(nt,et,at,mt){return __async(this,null,function*(){var $t,Ct,Dt,Ft,Nt;const{from:jt,target:Lt,amount:Vt,byAmountIn:er,pools:ir}=et,or=completionCoin(jt),lr=completionCoin(Lt),dr=new Transaction,pr=compareCoins(or,lr),hr=mt===0?"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4":"0x4f920e1ef6318cfba77e20a0538a419a5a504c14230169438b99aba485db40a6",vr=pr?or:lr,br=pr?lr:or,xr=[vr,br];for(let ur=0;ur<ir.length;ur++){const _r=[dr.object(ir[ur]),dr.pure.bool(pr),dr.pure.bool(er),dr.pure.u64(Vt.toString())];dr.moveCall({target:`${hr}::fetcher_script::calculate_swap_result`,arguments:_r,typeArguments:xr})}if(!checkInvalidSuiAddress(at))throw new AggregateError("Aggregator package not set","InvalidWallet");const Sr=yield nt.devInspectTransactionBlock({transactionBlock:dr,sender:at});if(Sr.error!=null)throw console.log("simulateRes.error",Sr.error),new AggregateError("Aggregator package not set","SimulateError");const Er=($t=Sr.events)==null?void 0:$t.filter(ur=>ur.type.includes("CalculatedSwapResultEvent"));if(Er.length===0||Er.length!==ir.length)throw new AggregateError("Simulate event result error","simulateEventError");let $r=er?ZERO:U64_MAX_BN,Cr=0;for(let ur=0;ur<Er.length;ur+=1)if(!Er[ur].parsedJson.data.is_exceed)if(et.byAmountIn){const _r=new import_bn4.BN(Er[ur].parsedJson.data.amount_out);_r.gt($r)&&(Cr=ur,$r=_r)}else{const _r=new import_bn4.BN(Er[ur].parsedJson.data.amount_out);_r.lt($r)&&(Cr=ur,$r=_r)}const kr=Er[Cr].parsedJson.data,gr=kr.step_results[0].current_sqrt_price,[Ut,tr]=yield Promise.all([nt.getCoinMetadata({coinType:vr}).then(ur=>ur==null?void 0:ur.decimals),nt.getCoinMetadata({coinType:br}).then(ur=>ur==null?void 0:ur.decimals)]);if(Ut==null||tr==null)throw new AggregateError("Simulate event result error","CannotGetDecimals");const nr=sqrtPriceX64ToPrice(gr,Ut,tr),rr=Number(kr.fee_rate)/1e6,ar=new import_bn4.BN((Ct=kr.amount_in)!=null?Ct:0),cr=new import_bn4.BN((Dt=kr.fee_amount)!=null?Dt:0),fr=ar.add(cr),sr={amountIn:fr,amountOut:new import_bn4.BN((Ft=kr.amount_out)!=null?Ft:0),routes:[{path:[{id:ir[Cr],direction:pr,provider:"CETUS",from:or,target:lr,feeRate:rr,amountIn:kr.amount_in,amountOut:kr.amount_out,extendedDetails:{afterSqrtPrice:kr.after_sqrt_price}}],amountIn:fr,amountOut:new import_bn4.BN((Nt=kr.amount_out)!=null?Nt:0),initialPrice:nr}],insufficientLiquidity:!1,byAmountIn:et.byAmountIn};return{isExceed:kr.is_exceed,routeData:sr}})}var Haedal=class{constructor(nt){if(nt!==0)throw new Error("Haedal only supported on mainnet")}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct}=at,Dt=Ct?"swap_a2b":"swap_b2a",Ft=[et.object(at.id),et.object("0x5"),mt],Nt=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${Nt}::haedal::${Dt}`,typeArguments:[],arguments:Ft})})}},Afsui=class{constructor(nt){if(nt!==0)throw new Error("Afsui only supported on mainnet");this.stakedSuiVault="0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",this.safe="0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",this.referVault="0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",this.validator="0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct}=at;if(!Ct)throw new Error("Afsui not support b2a swap");const Dt="swap_a2b",Ft=[et.object(this.stakedSuiVault),et.object(this.safe),et.object("0x5"),et.object(this.referVault),et.object(this.validator),mt],Nt=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${Nt}::afsui::${Dt}`,typeArguments:[],arguments:Ft})})}},Volo=class{constructor(nt){if(nt!==0)throw new Error("Volo only supported on mainnet");this.nativePool="0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",this.metadata="0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct}=at;if(!Ct)throw new Error("Volo not support b2a swap");const Dt="swap_a2b",Ft=[et.object(this.nativePool),et.object(this.metadata),et.object("0x5"),mt],Nt=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${Nt}::volo::${Dt}`,typeArguments:[],arguments:Ft})})}},Bluemove=class{constructor(nt){if(nt!==0)throw new Error("Bluemove only supported on mainnet");this.dexInfo="0x3f2d9f724f4a1ce5e71676448dc452be9a6243dac9c5b975a588c8c867066e92"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=[et.object(this.dexInfo),mt],er=getAggregatorV2PublishedAt(nt.publishedAtV2(),$t);return et.moveCall({target:`${er}::bluemove::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}},DeepbookV3=class{constructor(nt){this.deepbookV3Config=nt===0?"0xe4099d0cda04f3aa80028fac91a9b3dbe50d08f2ff42aa2c29473926e34ca48c":"0xe19b5d072346cae83a037d4e3c8492068a74410a74e5830b3a68012db38296aa"}swap(nt,et,at,mt,$t,Ct){return __async(this,null,function*(){const{direction:Dt,from:Ft,target:Nt}=at,[jt,Lt,Vt]=Dt?["swap_a2b",Ft,Nt]:["swap_b2a",Nt,Ft];let er;Ct?er=Ct:er=mintZeroCoin(et,nt.deepbookv3DeepFeeType());const ir=[et.object(this.deepbookV3Config),et.object(at.id),mt,er,et.object(CLOCK_ADDRESS)],or=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${or}::deepbookv3::${jt}`,typeArguments:[Lt,Vt],arguments:ir})})}},Scallop=class{constructor(nt){if(nt!==0)throw new Error("Scallop only supported on mainnet");this.version=nt===0?"0x07871c4b3c847a0f674510d4978d5cf6f960452795e8ff6f189fd2088a3f6ac7":"0x0",this.market=nt===0?"0xa757975255146dc9686aa823b7838b507f315d704f428cbadad2f4ea061939d9":"0x0"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Dt,Ft];if(at.extendedDetails==null)throw new Error("Extended details not supported");if(at.extendedDetails.scallopScoinTreasury==null)throw new Error("Scallop coin treasury not supported");const Vt=[et.object(this.version),et.object(this.market),et.object(at.extendedDetails.scallopScoinTreasury),mt,et.object(CLOCK_ADDRESS)],er=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${er}::scallop::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}},Suilend=class{constructor(nt){if(nt!==0)throw new Error("Suilend only supported on mainnet");this.sui_system_state=nt===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt]=Ct?["swap_a2b",Ft]:["swap_b2a",Dt],Lt=[et.object(at.id),et.object(this.sui_system_state),mt],Vt=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${Vt}::suilend::${Nt}`,typeArguments:[jt],arguments:Lt})})}},Bluefin=class{constructor(nt){if(nt!==0)throw new Error("Bluefin only supported on mainnet");this.globalConfig="0x03db251ba509a8d5d8777b6338836082335d93eecbdd09a11e190a1cff51c352"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt],Vt=[et.object(this.globalConfig),et.object(at.id),mt,et.object(CLOCK_ADDRESS)],er=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${er}::bluefin::${Nt}`,typeArguments:[jt,Lt],arguments:Vt})})}},HaedalPmm=class{constructor(nt,et){if(nt===1)throw new Error("HaedalPmm is not supported on testnet");this.pythPriceIDs=et}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt];let Vt,er;if(at.extendedDetails==null)throw new Error("Extended details not supported haedal pmm");if(!at.extendedDetails.haedalPmmBasePriceSeed||!at.extendedDetails.haedalPmmQuotePriceSeed)throw new Error("Base price seed or quote price seed not supported");Vt=at.extendedDetails.haedalPmmBasePriceSeed,er=at.extendedDetails.haedalPmmQuotePriceSeed;const ir=this.pythPriceIDs.get(Vt),or=this.pythPriceIDs.get(er);if(!ir||!or)throw new Error("Base price info object id or quote price info object id not found");const lr=[et.object(at.id),et.object(ir),et.object(or),mt,et.object(CLOCK_ADDRESS)],dr=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${dr}::haedalpmm::${Nt}`,typeArguments:[jt,Lt],arguments:lr})})}},Alphafi=class{constructor(nt){if(nt!==0)throw new Error("Alphafi only supported on mainnet");this.sui_system_state=nt===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt]=Ct?["swap_a2b",Ft]:["swap_b2a",Dt],Lt=[et.object(at.id),et.object(this.sui_system_state),mt],Vt=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${Vt}::alphafi::${Nt}`,typeArguments:[jt],arguments:Lt})})}},Steamm=class{constructor(nt){if(nt!==0)throw new Error("Steamm only supported on mainnet")}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt];if(at.extendedDetails==null)throw new Error("Extended details not supported");if(at.extendedDetails.steammBankA==null)throw new Error("Steamm bank a type not supported");if(at.extendedDetails.steammBankB==null)throw new Error("Steamm bank b type not supported");if(at.extendedDetails.steammLendingMarket==null)throw new Error("Steamm lending market not supported");if(at.extendedDetails.steammLendingMarketType==null)throw new Error("Steamm lending market type not supported");if(at.extendedDetails.steammBCoinAType==null)throw new Error("Steamm b coin a type not supported");if(at.extendedDetails.steammBCoinBType==null)throw new Error("Steamm b coin b type not supported");if(at.extendedDetails.steammLPToken==null)throw new Error("Steamm lp token not supported");const Vt=[et.object(at.id),et.object(at.extendedDetails.steammBankA),et.object(at.extendedDetails.steammBankB),et.object(at.extendedDetails.steammLendingMarket),mt,et.object(CLOCK_ADDRESS)],er=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${er}::steammfe::${Nt}`,typeArguments:[at.extendedDetails.steammLendingMarketType,jt,Lt,at.extendedDetails.steammBCoinAType,at.extendedDetails.steammBCoinBType,at.extendedDetails.steammLPToken],arguments:Vt})})}},SUPER_SUI_TYPE="0x790f258062909e3a0ffc78b3c53ac2f62d7084c3bab95644bdeb05add7250001::super_sui::SUPER_SUI",MUSD_TYPE="0xe44df51c0b21a27ab915fa1fe2ca610cd3eaa6d9666fe5e62b988bf7f0bd8722::musd::MUSD",METH_TYPE="0xccd628c2334c5ed33e6c47d6c21bb664f8b6307b2ac32c2462a61f69a31ebcee::meth::METH",Metastable=class{constructor(nt,et){if(nt!==0)throw new Error("Metastable only supported on mainnet");this.versionID="0x4696559327b35ff2ab26904e7426a1646312e9c836d5c6cff6709a5ccc30915c",this.pythPriceIDs=et}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt,Vt]=Ct?["swap_a2b","create_deposit_cap",Dt,Ft]:["swap_b2a","create_withdraw_cap",Ft,Dt];let er="",ir="pyth",or="";if(at.extendedDetails==null)throw new Error("Extended details not supported metastable");if(!at.extendedDetails.metastableCreateCapPkgId||!at.extendedDetails.metastableCreateCapModule||!at.extendedDetails.metastableRegistryId||!at.extendedDetails.metastableWhitelistedAppId)throw new Error("CreateCapPkgId or CreateCapModule or RegistryId or WhitelistedAppId or CreateCapAllTypeParams not supported");er=at.extendedDetails.metastableCreateCapPkgId,ir=at.extendedDetails.metastableCreateCapModule,or=at.extendedDetails.metastableWhitelistedAppId;const lr=[Vt];at.extendedDetails.metastableCreateCapAllTypeParams&&lr.push(Lt);const dr=[et.object(or),et.object(at.id)];switch(Vt){case SUPER_SUI_TYPE:{if(!at.extendedDetails.metastableRegistryId)throw new Error("Not found registry id for super sui");dr.push(et.object(at.extendedDetails.metastableRegistryId));break}case MUSD_TYPE:{if(at.extendedDetails.metastablePriceSeed!=null){const xr=this.pythPriceIDs.get(at.extendedDetails.metastablePriceSeed);if(xr==null)throw new Error("Invalid Pyth price feed: "+at.extendedDetails.metastablePriceSeed);dr.push(et.object(xr))}if(at.extendedDetails.metastableETHPriceSeed!=null){const xr=this.pythPriceIDs.get(at.extendedDetails.metastableETHPriceSeed);if(xr==null)throw new Error("Invalid Pyth price feed: "+at.extendedDetails.metastableETHPriceSeed);dr.push(et.object(xr))}dr.push(et.object(CLOCK_ADDRESS));break}case METH_TYPE:{if(at.extendedDetails.metastablePriceSeed!=null){const xr=this.pythPriceIDs.get(at.extendedDetails.metastablePriceSeed);if(xr==null)throw new Error("Invalid Pyth price feed: "+at.extendedDetails.metastablePriceSeed);dr.push(et.object(xr))}if(at.extendedDetails.metastableETHPriceSeed!=null){const xr=this.pythPriceIDs.get(at.extendedDetails.metastableETHPriceSeed);if(xr==null)throw new Error("Invalid Pyth price feed: "+at.extendedDetails.metastableETHPriceSeed);dr.push(et.object(xr))}dr.push(et.object(CLOCK_ADDRESS));break}default:throw new Error("Invalid Metacoin: "+Vt)}const pr=et.moveCall({target:`${er}::${ir}::${jt}`,typeArguments:lr,arguments:dr}),hr=[et.object(at.id),et.object(this.versionID),pr,mt],vr=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${vr}::metastable::${Nt}`,typeArguments:[Lt,Vt],arguments:hr})})}},Obric=class{constructor(nt,et){if(nt===1)throw new Error("Obric is not supported on testnet");this.pythPriceIDs=et,this.pythStateObjectId="0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}swap(nt,et,at,mt,$t){return __async(this,null,function*(){const{direction:Ct,from:Dt,target:Ft}=at,[Nt,jt,Lt]=Ct?["swap_a2b",Dt,Ft]:["swap_b2a",Ft,Dt];let Vt,er,ir,or;if(at.extendedDetails==null)throw new Error("Extended details not supported in obric");if(at.extendedDetails.obricCoinAPriceSeed&&at.extendedDetails.obricCoinBPriceSeed)Vt=at.extendedDetails.obricCoinAPriceSeed,ir=this.pythPriceIDs.get(Vt),er=at.extendedDetails.obricCoinBPriceSeed,or=this.pythPriceIDs.get(er);else{if(!at.extendedDetails.obricCoinAPriceId||!at.extendedDetails.obricCoinBPriceId)throw new Error("Base price id or quote price id not supported");ir=at.extendedDetails.obricCoinAPriceId,or=at.extendedDetails.obricCoinBPriceId}if(!ir||!or)throw new Error("Base price info object id or quote price info object id not found");const lr=[et.object(at.id),mt,et.object(this.pythStateObjectId),et.object(ir),et.object(or),et.object(CLOCK_ADDRESS)],dr=getAggregatorV2ExtendPublishedAt(nt.publishedAtV2Extend(),$t);return et.moveCall({target:`${dr}::obric::${Nt}`,typeArguments:[jt,Lt],arguments:lr})})}},CETUS="CETUS",DEEPBOOKV2="DEEPBOOK",KRIYA="KRIYA",FLOWXV2="FLOWX",FLOWXV3="FLOWXV3",KRIYAV3="KRIYAV3",TURBOS="TURBOS",AFTERMATH="AFTERMATH",HAEDAL="HAEDAL",VOLO="VOLO",AFSUI="AFSUI",BLUEMOVE="BLUEMOVE",DEEPBOOKV3="DEEPBOOKV3",SCALLOP="SCALLOP",SUILEND="SUILEND",BLUEFIN="BLUEFIN",HAEDALPMM="HAEDALPMM",ALPHAFI="ALPHAFI",SPRINGSUI="SPRINGSUI",STEAMM="STEAMM",METASTABLE="METASTABLE",OBRIC="OBRIC",DEFAULT_ENDPOINT="https://api-sui.cetus.zone/router_v2";function isBuilderRouterSwapParams(nt){return Array.isArray(nt.routers)}function isBuilderFastRouterSwapParams(nt){return Array.isArray(nt.routers)}var _AggregatorClient=class k0{constructor(et,at,mt,$t){this.endpoint=et?processEndpoint(et):DEFAULT_ENDPOINT,this.client=mt||new SuiClient({url:getFullnodeUrl$1("mainnet")}),this.signer=at||"",this.env=$t||0,this.allCoins=new Map;const Ct=k0.CONFIG[this.env];this.pythConnections=Ct.connections,this.pythClient=new lib$3.SuiPythClient(this.client,Ct.pythStateId,Ct.wormholeStateId)}getCoins(et,at=!0){return __async(this,null,function*(){if(this.signer==="")throw new Error("Signer is required, but not provided.");let mt=null,$t=50;if(!at){const Dt=this.allCoins.get(et);if(Dt)return Dt}const Ct=[];for(;;)try{const Dt=yield this.client.getCoins({owner:this.signer,coinType:et,cursor:mt,limit:$t});for(const Ft of Dt.data)Ct.push({coinAddress:extractStructTagFromType(Ft.coinType).source_address,coinObjectId:Ft.coinObjectId,balance:BigInt(Ft.balance)});if(Dt.data.length<$t)break;mt=Dt.data[$t-1].coinObjectId}catch(Dt){console.error("getCoins error:",Dt);break}return this.allCoins.set(et,Ct),Ct})}findRouters(et){return __async(this,null,function*(){return getRouterResult(this.endpoint,et)})}executeFlexibleInputSwap(et,at,mt,$t,Ct,Dt,Ft,Nt){return __async(this,null,function*(){if(mt.length===0)throw new Error("No router found");const jt=mt[0].path[mt[0].path.length-1].target,Lt=[];for(let or=0;or<mt.length-1;or++){if(mt[or].path.length===0)throw new Error("Empty path");let dr=et.splitCoins(at,[mt[or].amountIn.toString()])[0];for(const pr of mt[or].path)dr=yield this.newDex(pr.provider,Ct,Dt).swap(this,et,pr,dr,Nt,Ft);Lt.push(dr)}if(mt[mt.length-1].path.length===0)throw new Error("Empty path");let Vt=at;for(const or of mt[mt.length-1].path)Vt=yield this.newDex(or.provider,Ct,Dt).swap(this,et,or,Vt,Nt,Ft);Lt.push(Vt);const er=getAggregatorV2PublishedAt(this.publishedAtV2(),Nt);return this.checkCoinThresholdAndMergeCoin(et,Lt,jt,$t,er)})}expectInputSwap(et,at,mt,$t,Ct,Dt,Ft,Nt){return __async(this,null,function*(){if(mt.length===0)throw new Error("No router found");const jt=mt.map(dr=>dr.amountIn.toString()),Lt=mt[0].path[0].from,Vt=mt[0].path[mt[0].path.length-1].target,er=et.splitCoins(at,jt),ir=[];for(let dr=0;dr<mt.length;dr++){if(mt[dr].path.length===0)throw new Error("Empty path");let pr=er[dr];for(const hr of mt[dr].path)pr=yield this.newDex(hr.provider,Ct,Dt).swap(this,et,hr,pr,Nt,Ft);ir.push(pr)}const or=getAggregatorV2PublishedAt(this.publishedAtV2(),Nt);return this.transferOrDestoryCoin(et,at,Lt,this.publishedAtV2()),this.checkCoinThresholdAndMergeCoin(et,ir,Vt,$t,or)})}expectOutputSwap(et,at,mt,$t,Ct){return __async(this,null,function*(){const Dt=[],Ft=[],Nt=[],jt=new Cetus(this.env,$t),Lt=getAggregatorV2PublishedAt(this.publishedAtV2(),Ct);for(let er=0;er<mt.length;er++){const ir=mt[er];for(let lr=ir.path.length-1;lr>=0;lr--){const dr=ir.path[lr],pr=jt.flash_swap(this,et,dr,!1);Dt.unshift(pr.targetCoin),Ft.unshift(pr.flashReceipt)}let or=at;for(let lr=0;lr<ir.path.length;lr++){const dr=ir.path[lr],pr=jt.repay_flash_swap(this,et,dr,or,Ft[lr]);or=Dt[lr],lr===0?at=pr:this.transferOrDestoryCoin(et,pr,dr.from,Lt),lr===ir.path.length-1&&Nt.push(or)}}const Vt=mt[0].path[0].from;if(this.transferOrDestoryCoin(et,at,Vt,Lt),Nt.length>1){const er=et.makeMoveVec({elements:Nt.slice(1)});et.moveCall({target:`${SUI_FRAMEWORK_ADDRESS}::pay::join_vec`,typeArguments:[mt[0].path[mt[0].path.length-1].target],arguments:[Nt[0],er]})}return Nt[0]})}swapInPools(et){return __async(this,null,function*(){let at;try{at=yield swapInPools(this.client,et,this.signer,this.env)}catch(mt){return console.error("swapInPools error:",mt),null}return at})}routerSwap(et){return __async(this,null,function*(){const{routers:at,inputCoin:mt,slippage:$t,txb:Ct,partner:Dt,deepbookv3DeepFee:Ft}=et,Nt=Array.isArray(at)?at:at.routes,jt=isBuilderRouterSwapParams(et)?et.byAmountIn:et.routers.byAmountIn,Lt=Nt.reduce((vr,br)=>vr.add(br.amountIn),new import_bn5.default(0)),Vt=Nt.reduce((vr,br)=>vr.add(br.amountOut),new import_bn5.default(0)),er=CalculateAmountLimitBN(jt?Vt:Lt,jt,$t),ir=isBuilderRouterSwapParams(et)?void 0:et.routers.packages,or=getAggregatorV2PublishedAt(this.publishedAtV2(),ir),lr=findPythPriceIDs(Nt),dr=lr.length>0?yield this.updatePythPriceIDs(lr,Ct):new Map;if(jt)return yield this.expectInputSwap(Ct,mt,Nt,er,dr,Dt,Ft,ir);const pr=Ct.splitCoins(mt,[er.toString()]);return this.transferOrDestoryCoin(Ct,mt,Nt[0].path[0].from,or),yield this.expectOutputSwap(Ct,pr[0],Nt,Dt)})}fixableRouterSwap(et){return __async(this,null,function*(){const{routers:at,inputCoin:mt,slippage:$t,txb:Ct,partner:Dt,deepbookv3DeepFee:Ft}=et,Nt=Array.isArray(at)?at:at.routes,jt=et.routers.byAmountIn,Lt=Nt.reduce((pr,hr)=>pr.add(hr.amountIn),new import_bn5.default(0)),Vt=Nt.reduce((pr,hr)=>pr.add(hr.amountOut),new import_bn5.default(0)),er=CalculateAmountLimitBN(jt?Vt:Lt,jt,$t),ir=isBuilderRouterSwapParams(et)?void 0:et.routers.packages;getAggregatorV2PublishedAt(this.publishedAtV2(),ir);const or=findPythPriceIDs(Nt),lr=or.length>0?yield this.updatePythPriceIDs(or,Ct):new Map;return jt?yield this.executeFlexibleInputSwap(Ct,mt,Nt,er,lr,Dt,Ft,ir):yield this.expectOutputSwap(Ct,mt,Nt,Dt)})}fastRouterSwap(et){return __async(this,null,function*(){const{routers:at,slippage:mt,txb:$t,partner:Ct,refreshAllCoins:Dt,payDeepFeeAmount:Ft}=et,Nt=Array.isArray(at)?at:at.routes,jt=Nt[0].path[0].from;let Lt=yield this.getCoins(jt,Dt);const Vt=Nt[0].path[Nt[0].path.length-1].target,er=Nt.reduce((xr,Sr)=>xr.add(Sr.amountIn),new import_bn5.default(0)),ir=Nt.reduce((xr,Sr)=>xr.add(Sr.amountOut),new import_bn5.default(0)),or=isBuilderFastRouterSwapParams(et)?et.byAmountIn:et.routers.byAmountIn,lr=CalculateAmountLimit(or?ir:er,or,mt),pr=buildInputCoin($t,Lt,BigInt((or?er:lr).toString()),jt);let hr;if(Ft&&Ft>0){let xr=yield this.getCoins(this.deepbookv3DeepFeeType());hr=buildInputCoin($t,xr,BigInt(Ft),this.deepbookv3DeepFeeType()).targetCoin}const vr=isBuilderFastRouterSwapParams(et)?{routers:Nt,inputCoin:pr.targetCoin,slippage:mt,byAmountIn:or,txb:$t,partner:Ct,deepbookv3DeepFee:hr}:{routers:et.routers,inputCoin:pr.targetCoin,slippage:mt,byAmountIn:or,txb:$t,partner:Ct,deepbookv3DeepFee:hr},br=yield this.routerSwap(vr);if(CoinUtils.isSuiCoin(Vt))$t.mergeCoins($t.gas,[br]);else{let xr=yield this.getCoins(Vt,Dt);const Sr=buildInputCoin($t,xr,BigInt(0),Vt),Er=isBuilderFastRouterSwapParams(et)?void 0:et.routers.packages,$r=getAggregatorV2PublishedAt(this.publishedAtV2(),Er);$t.mergeCoins(Sr.targetCoin,[br]),Sr.isMintZeroCoin&&this.transferOrDestoryCoin($t,Sr.targetCoin,Vt,$r)}})}publishedAtV2(){return this.env===0?"0x3864c7c59a4889fec05d1aae4bc9dba5a0e0940594b424fbed44cb3f6ac4c032":"0x52eae33adeb44de55cfb3f281d4cc9e02d976181c0952f5323648b5717b33934"}publishedAtV2Extend(){return this.env===0?"0x200e762fa2c49f3dc150813038fbf22fd4f894ac6f23ebe1085c62f2ef97f1ca":"0xabb6a81c8a216828e317719e06125de5bb2cb0fe8f9916ff8c023ca5be224c78"}deepbookv3DeepFeeType(){return this.env===0?"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":"0x36dbef866a1d62bf7328989a10fb2f07d769f4ee587c0de4a0a256e57e0a58a8::deep::DEEP"}transferOrDestoryCoin(et,at,mt,$t){et.moveCall({target:`${$t}::utils::transfer_or_destroy_coin`,typeArguments:[mt],arguments:[at]})}checkCoinThresholdAndMergeCoin(et,at,mt,$t,Ct){let Dt=at[0];if(at.length>1){let Ft=et.makeMoveVec({elements:at.slice(1)});et.moveCall({target:`${SUI_FRAMEWORK_ADDRESS}::pay::join_vec`,typeArguments:[mt],arguments:[at[0],Ft]}),Dt=at[0]}return et.moveCall({target:`${Ct}::utils::check_coin_threshold`,typeArguments:[mt],arguments:[Dt,et.pure.u64($t.toString())]}),Dt}newDex(et,at,mt){switch(et){case CETUS:return new Cetus(this.env,mt);case DEEPBOOKV2:return new DeepbookV2(this.env);case DEEPBOOKV3:return new DeepbookV3(this.env);case KRIYA:return new KriyaV2(this.env);case KRIYAV3:return new KriyaV3(this.env);case FLOWXV2:return new FlowxV2(this.env);case FLOWXV3:return new FlowxV3(this.env);case TURBOS:return new Turbos(this.env);case AFTERMATH:return new Aftermath(this.env);case HAEDAL:return new Haedal(this.env);case AFSUI:return new Afsui(this.env);case VOLO:return new Volo(this.env);case BLUEMOVE:return new Bluemove(this.env);case SCALLOP:return new Scallop(this.env);case SUILEND:return new Suilend(this.env);case SPRINGSUI:return new Suilend(this.env);case BLUEFIN:return new Bluefin(this.env);case HAEDALPMM:return new HaedalPmm(this.env,at);case ALPHAFI:return new Alphafi(this.env);case STEAMM:return new Steamm(this.env);case METASTABLE:return new Metastable(this.env,at);case OBRIC:return new Obric(this.env,at);default:throw new Error(`Unsupported dex ${et}`)}}signAndExecuteTransaction(et,at){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:et,signer:at,options:{showEffects:!0,showEvents:!0,showInput:!0,showBalanceChanges:!0}})})}devInspectTransactionBlock(et){return __async(this,null,function*(){return yield this.client.devInspectTransactionBlock({transactionBlock:et,sender:this.signer})})}sendTransaction(et,at){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:et,signer:at})})}getDeepbookV3Config(){return __async(this,null,function*(){const et=yield getDeepbookV3Config(this.endpoint);return et?et.data:null})}updatePythPriceIDs(et,at){return __async(this,null,function*(){let mt=null,$t=null;for(const Ft of this.pythConnections)try{mt=yield Ft.getPriceFeedsUpdateData(et);break}catch(Nt){$t=Nt,console.log("Error: ",Nt);continue}if(mt==null)throw new Error(`No pyth price seeds update data found: ${$t==null?void 0:$t.message}`);let Ct=[];try{Ct=yield this.pythClient.updatePriceFeeds(at,mt,et)}catch(Ft){throw new Error(`Failed to update price feeds: ${Ft}`)}let Dt=new Map;for(let Ft=0;Ft<et.length;Ft++)Dt.set(et[Ft],Ct[Ft]);return Dt})}};_AggregatorClient.CONFIG={1:{connections:[new lib$3.SuiPriceServiceConnection("https://hermes-beta.pyth.network")],wormholeStateId:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",pythStateId:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c"},0:{connections:[new lib$3.SuiPriceServiceConnection("https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com/219cf7a8-6d75-432d-a648-d487a6dd5dc3/hermes",{timeout:3e3}),new lib$3.SuiPriceServiceConnection("https://hermes.pyth.network",{timeout:3e3})],wormholeStateId:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pythStateId:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}};var AggregatorClient22=_AggregatorClient;function findPythPriceIDs(nt){const et=new Set;for(const at of nt)for(const mt of at.path)mt.provider===HAEDALPMM&&mt.extendedDetails&&mt.extendedDetails.haedalPmmBasePriceSeed&&mt.extendedDetails.haedalPmmQuotePriceSeed&&(et.add(mt.extendedDetails.haedalPmmBasePriceSeed),et.add(mt.extendedDetails.haedalPmmQuotePriceSeed)),mt.provider===METASTABLE&&(mt.extendedDetails&&mt.extendedDetails.metastablePriceSeed&&et.add(mt.extendedDetails.metastablePriceSeed),mt.extendedDetails&&mt.extendedDetails.metastableETHPriceSeed&&et.add(mt.extendedDetails.metastableETHPriceSeed)),mt.provider===OBRIC&&(mt.extendedDetails&&mt.extendedDetails.obricCoinAPriceSeed&&et.add(mt.extendedDetails.obricCoinAPriceSeed),mt.extendedDetails&&mt.extendedDetails.obricCoinBPriceSeed&&et.add(mt.extendedDetails.obricCoinBPriceSeed));return Array.from(et)}function parseRouterResponse(nt,et){let at=0;for(const Ct of nt.routes)for(const Dt of Ct.path)Dt.extended_details&&Dt.extended_details.deepbookv3_deep_fee&&(at+=Number(Dt.extended_details.deepbookv3_deep_fee));let mt;if(nt.packages!=null){mt=new Map;for(const[Ct,Dt]of Object.entries(nt.packages))mt.set(Ct,Dt)}return{amountIn:new import_bn5.default(nt.amount_in.toString()),amountOut:new import_bn5.default(nt.amount_out.toString()),byAmountIn:et,insufficientLiquidity:!1,routes:nt.routes.map(Ct=>({path:Ct.path.map(Dt=>{var Ft,Nt,jt,Lt,Vt,er,ir,or,lr,dr,pr,hr,vr,br,xr,Sr,Er,$r,Cr,kr,gr,Ut,tr,nr,rr;let ar;Dt.provider===AFTERMATH&&(ar=Dt.extended_details.aftermath_pool_flatness===0?"v2":"v3");let cr;return(Dt.provider===TURBOS||Dt.provider===AFTERMATH||Dt.provider===CETUS||Dt.provider===DEEPBOOKV3||Dt.provider===SCALLOP||Dt.provider===HAEDALPMM||Dt.provider===STEAMM||Dt.provider===METASTABLE||Dt.provider===OBRIC)&&(cr={aftermathLpSupplyType:(Ft=Dt.extended_details)==null?void 0:Ft.aftermath_lp_supply_type,turbosFeeType:(Nt=Dt.extended_details)==null?void 0:Nt.turbos_fee_type,afterSqrtPrice:(jt=Dt.extended_details)==null?void 0:jt.after_sqrt_price,deepbookv3DeepFee:(Lt=Dt.extended_details)==null?void 0:Lt.deepbookv3_deep_fee,scallopScoinTreasury:(Vt=Dt.extended_details)==null?void 0:Vt.scallop_scoin_treasury,haedalPmmBasePriceSeed:(er=Dt.extended_details)==null?void 0:er.haedal_pmm_base_price_seed,haedalPmmQuotePriceSeed:(ir=Dt.extended_details)==null?void 0:ir.haedal_pmm_quote_price_seed,steammBankA:(or=Dt.extended_details)==null?void 0:or.steamm_bank_a,steammBankB:(lr=Dt.extended_details)==null?void 0:lr.steamm_bank_b,steammLendingMarket:(dr=Dt.extended_details)==null?void 0:dr.steamm_lending_market,steammLendingMarketType:(pr=Dt.extended_details)==null?void 0:pr.steamm_lending_market_type,steammBCoinAType:(hr=Dt.extended_details)==null?void 0:hr.steamm_btoken_a_type,steammBCoinBType:(vr=Dt.extended_details)==null?void 0:vr.steamm_btoken_b_type,steammLPToken:(br=Dt.extended_details)==null?void 0:br.steamm_lp_token_type,metastablePriceSeed:(xr=Dt.extended_details)==null?void 0:xr.metastable_price_seed,metastableETHPriceSeed:(Sr=Dt.extended_details)==null?void 0:Sr.metastable_eth_price_seed,metastableWhitelistedAppId:(Er=Dt.extended_details)==null?void 0:Er.metastable_whitelisted_app_id,metastableCreateCapPkgId:($r=Dt.extended_details)==null?void 0:$r.metastable_create_cap_pkg_id,metastableCreateCapModule:(Cr=Dt.extended_details)==null?void 0:Cr.metastable_create_cap_module,metastableCreateCapAllTypeParams:(kr=Dt.extended_details)==null?void 0:kr.metastable_create_cap_all_type_params,metastableRegistryId:(gr=Dt.extended_details)==null?void 0:gr.metastable_registry_id,obricCoinAPriceSeed:(Ut=Dt.extended_details)==null?void 0:Ut.obric_coin_a_price_seed,obricCoinBPriceSeed:(tr=Dt.extended_details)==null?void 0:tr.obric_coin_b_price_seed,obricCoinAPriceId:(nr=Dt.extended_details)==null?void 0:nr.obric_coin_a_price_id,obricCoinBPriceId:(rr=Dt.extended_details)==null?void 0:rr.obric_coin_b_price_id}),{id:Dt.id,direction:Dt.direction,provider:Dt.provider,from:Dt.from,target:Dt.target,feeRate:Dt.fee_rate,amountIn:Dt.amount_in,amountOut:Dt.amount_out,extendedDetails:cr,version:ar}}),amountIn:new import_bn5.default(Ct.amount_in.toString()),amountOut:new import_bn5.default(Ct.amount_out.toString()),initialPrice:new decimal_default(Ct.initial_price.toString())})),totalDeepFee:at,packages:mt}}var CLOCK_ADDRESS=SUI_CLOCK_OBJECT_ID,AGGREGATOR_V2="aggregator_v2",AGGREGATOR_V2_EXTEND="aggregator_v2_extend";function getAggregatorV2PublishedAt(nt,et){var at;return et instanceof Map&&(at=et.get(AGGREGATOR_V2))!=null?at:nt}function getAggregatorV2ExtendPublishedAt(nt,et){var at;return et instanceof Map&&(at=et.get(AGGREGATOR_V2_EXTEND))!=null?at:nt}__toESM(require_bn());var dealWithFastRouterSwapParamsForMsafe=nt=>{var et,at,mt;return __spreadProps$1(__spreadValues$2({},nt),{amountIn:(et=nt==null?void 0:nt.amountIn)==null?void 0:et.toString(),amountOut:(at=nt==null?void 0:nt.amountIn)==null?void 0:at.toString(),routes:(mt=nt==null?void 0:nt.routes)==null?void 0:mt.map(Ct=>{var Dt,Ft,Nt;return __spreadProps$1(__spreadValues$2({},Ct),{amountIn:(Dt=Ct==null?void 0:Ct.amountIn)==null?void 0:Dt.toString(),amountOut:(Ft=Ct==null?void 0:Ct.amountOut)==null?void 0:Ft.toString(),initialPrice:(Nt=Ct==null?void 0:Ct.initialPrice)==null?void 0:Nt.toString()})})})};function processEndpoint(nt){return nt.endsWith("/find_routes")?nt.replace("/find_routes",""):nt}var SDK_VERSION=1000400;function getRouterResult(nt,et){return __async(this,null,function*(){let at;if(et.liquidityChanges&&et.liquidityChanges.length>0?at=yield postRouterWithLiquidityChanges(nt,et):at=yield getRouter(nt,et),!at)return null;if(!at.ok){let Ct=10001;return at.status===429&&(Ct=10005),{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:et.byAmountIn,insufficientLiquidity:!1,error:{code:Ct,msg:getAggregatorServerErrorMessage(Ct)}}}const mt=yield at.json(),$t=mt.msg==="liquidity is not enough";return mt.msg&&mt.msg.indexOf("HoneyPot scam")>-1?{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:et.byAmountIn,insufficientLiquidity:$t,error:{code:10004,msg:getAggregatorServerErrorMessage(10004)}}:mt.data!=null?parseRouterResponse(mt.data,et.byAmountIn):{amountIn:ZERO,amountOut:ZERO,routes:[],insufficientLiquidity:$t,byAmountIn:et.byAmountIn,error:{code:10003,msg:getAggregatorServerErrorMessage(10003)}}})}function getRouter(nt,et){return __async(this,null,function*(){try{const{from:at,target:mt,amount:$t,byAmountIn:Ct,depth:Dt,splitAlgorithm:Ft,splitFactor:Nt,splitCount:jt,providers:Lt}=et,Vt=completionCoin(at),er=completionCoin(mt);let ir=`${nt}/find_routes?from=${Vt}&target=${er}&amount=${$t.toString()}&by_amount_in=${Ct}`;return Dt&&(ir+=`&depth=${Dt}`),Ft&&(ir+=`&split_algorithm=${Ft}`),Nt&&(ir+=`&split_factor=${Nt}`),jt&&(ir+=`&split_count=${jt}`),Lt&&Lt.length>0&&(ir+=`&providers=${Lt.join(",")}`),ir+=`&v=${SDK_VERSION}`,yield fetch(ir)}catch(at){return console.error(at),null}})}function postRouterWithLiquidityChanges(nt,et){return __async(this,null,function*(){const{from:at,target:mt,amount:$t,byAmountIn:Ct,depth:Dt,splitAlgorithm:Ft,splitFactor:Nt,splitCount:jt,providers:Lt,liquidityChanges:Vt}=et,er=completionCoin(at),ir=completionCoin(mt),or=`${nt}/find_routes`,lr=Lt==null?void 0:Lt.join(","),dr={from:er,target:ir,amount:Number($t.toString()),by_amount_in:Ct,depth:Dt,split_algorithm:Ft,split_factor:Nt,split_count:jt,providers:lr,liquidity_changes:Vt.map(pr=>({pool:pr.poolID,tick_lower:pr.ticklower,tick_upper:pr.tickUpper,delta_liquidity:pr.deltaLiquidity})),v:SDK_VERSION};try{return yield fetch(or,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dr)})}catch(pr){return console.error("Error:",pr),null}})}function getDeepbookV3Config(nt){return __async(this,null,function*(){const et=`${nt}/deepbookv3_config`;try{return(yield fetch(et)).json()}catch(at){return console.error("Error:",at),null}})}var Env=(nt=>(nt[nt.Mainnet=0]="Mainnet",nt[nt.Testnet=1]="Testnet",nt))(Env||{});const vaultsConfigMainnet={...baseConfigMainnet,vaults:{package_id:"0xd3453d9be7e35efe222f78a810bb3af1859fd1600926afced8b4936d825c9a05",published_at:"0x1ed1fef522ccea98a4fbd954543d5019238ec89282fbdea9a753e0a17e96fc28",config:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d",published_at:"0xaabf0856070391df81fad9240049d69c5a51c3d376cc0885eeedd516526cc79b",version:1,config:{staking_id:"0x47b224762220393057ebf4f70501b6e657c3e56684737568439a04f80849b2ca",coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI"}},volo:{package_id:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",published_at:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",version:1,config:{native_pool:"0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",vsui_metadata:"0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60",coin_type:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT"}},aftermath:{package_id:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",published_at:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",version:1,config:{staked_sui_vault:"0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",referral_vault:"0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",safe:"0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",validator_address:"0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2",coin_type:"0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI"}}}},frams:peripheryConfigMainnet.frams,aggregator:{endPoint:clmmConfigMainnet.aggregatorUrl+"/find_routes",fullNodeurl:clmmConfigMainnet.fullRpcUrl,walletAddress:clmmConfigMainnet.simulationAccount.address,env:Env.Mainnet},clmm_pool:clmmConfigMainnet.clmm_pool,integrate:clmmConfigMainnet.integrate},xCetusConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"}},baseConfigTestnet={fullRpcUrl:"https://sui-testnet-endpoint.blockvision.org",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigTestnet={...baseConfigTestnet,cetus_config:{package_id:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",published_at:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",version:void 0,config:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}},clmm_pool:{package_id:"0x0c7ae833c220aa73a3643a0d508afa4ac5d50d97312ea4584e35f9eb21b9df12",published_at:"0x85e61285a10efc6602ab00df70a0c06357c384ef4c5633ecf73016df1500c704",version:0,config:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",admin_cap_id:"0xd0accadc3d0b27f0cfaebe8e546968ac7874b9a9f5964669b4c9a7e1dcf80a28",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea"}},integrate:{package_id:"0x2918cf39850de6d5d94d8196dc878c8c722cd79db659318e00bff57fbb4e2ede",published_at:"0x19dd42e05fa6c9988a60d30686ee3feb776672b5547e328d6dab16563da65293",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:"https://api-sui.devcetus.com/router_v2"},burnConfigTestnet={...baseConfigTestnet,burn:{package_id:"0x3b494006831b046481c8046910106e2dfbe0d1fa9bc01e41783fb3ff6534ed3a",published_at:"0xaf89f8215c5b07eaac8b77c7745ce62f94cb76ef4bcb854e283f644c519ef43e",manager_id:"0xd04529ef15b7dad6699ee905daca0698858cab49724b2b2a1fc6b1ebc5e474ef",clmm_global_config:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",clmm_global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",burn_pool_handle:"0x20262dac8853ab8f63c98e0b17bfb1c758efc33d0092ac3c5f204dfb7ba81ac5"}},peripheryConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"},limit_order:{package_id:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",published_at:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",config:{rate_orders_indexer_id:"0xeaa7dc3a4b70c14b434aed2cef0bdd272a781c630ea3c54c25fa53c72fb3cf96",rate_orders_indexer_handle:"0x62eea7ce7be125e6b43fac6158d0ac8a6b0f263446d4631ad5a3629d82fef2ed",global_config_id:"0xd4d98f126233057b3a01f17adfb5bc77d7bdb0332fe982ab44c6c7a2f66443dc",token_list_handle:"0x81233cdf2165f013a57c3ab180b079e0f411483ba7f80dd6fbcb74426d2045f9",user_orders_indexer_id:"0x18ff28ae25ea50c703a0dfcc49653cc7dd7035207e26c8f86fa9e4aea49037d0",user_orders_indexer_handle:"0xbe3301b85fb0fc99deacb68c31d971837ae23a65c38680cf79a6b8562518b4c7"}},frams:{package_id:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",published_at:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",config:{global_config_id:"0x499132a4baf342a0fe9528a3666a77b2aece3be129f4a3ada469fef4b9c34fb4",rewarder_manager_id:"0x960c7800e301fd1e47b79037927b426db57b643bd2934f7069d81c2dae092230",rewarder_manager_handle:"0x1274149371876b60742cd02071a09f2aa72ffee75b76fdfc45724d98f18ea5b5",admin_cap_id:"0x110175e641c1ea8f9287f4fd59cb6a1fb97a3f3ec595aa30d0e6ed93ac4caa0c"}},dca:{package_id:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",published_at:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",config:{admin_cap_id:"0xf54334a5cf41874d151cc610f7575f2b9ca8aab32103be3ed87f07f73388dcf2",global_config_id:"0xdac150723df0b51c1407ea942036d7f9d4e3b064ff35a4136dd31ffb397497e0",indexer_id:"0xacd0ab94883a8785c5258388618b6252f0c2e9384b23f91fc23f6c8ef44d445c",user_indexer_id:"0xc4ca05342746468383922650a3137bd3efc49d4c7a37431ed11a94c08dbfb677",in_coin_whitelist_id:"0xe72cdb8a0777bbcb5105b7045b90f5fdc8c7b946d48fd4cec0607d201a45a9b7",out_coin_whitelist_id:"0xbe67538ca0e4683fef704b374d034f5a4f79cdc756ea47cec82df55b37d4ff0a"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:"::afsui::AFSUI"}}}}},TestnetTokens={SUI:{decimals:9,name:"Sui",symbol:"SUI",description:"",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",id:"0x587c29de216efd4219573e08a1f6964d4fa7cb714518c2c8a0f29abfa264327d",coin_type:"0x2::sui::SUI",is_trusted:!0},CETUS:{decimals:9,name:"Cetus Token",symbol:"CETUS",description:"CETUS is the native token of Cetus Protocol.",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",id:"0xf5dd74cd76c4bb4b0c6ac1b1388982a64f2cd089278d453e2067038fe50cbc1d",coin_type:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7::cetus::CETUS",is_trusted:!0},xCETUS:{coin_type:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0}},TestnetCreatePoolQuoteTokens=["0x2::sui::SUI","0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::cetus::CETUS"],vaultsConfigTestnet={...baseConfigTestnet,vaults:{package_id:"",published_at:""},frams:peripheryConfigTestnet.frams,aggregator:{endPoint:clmmConfigTestnet.aggregatorUrl,fullNodeurl:clmmConfigTestnet.fullRpcUrl,walletAddress:clmmConfigTestnet.simulationAccount.address,env:Env.Mainnet},clmm_pool:clmmConfigTestnet.clmm_pool,integrate:clmmConfigTestnet.integrate},xCetusConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"}},envConfigs={mainnet:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:apiUrl||"https://api-sui.cetus.zone",notifi_api:"https://api.notifi.network/gql",clmm_sdk_options:clmmConfigMainnet,periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens},pre:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:"https://api-sui-cloudfront.cetus.zone",notifi_api:"https://api.notifi.network/gql",clmm_sdk_options:{...clmmConfigMainnet,aggregatorUrl:"https://api-sui-cloudfront.cetus.zone/router_v2"},periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens},testnet:{env:"testnet",cetus_clmm_site:"https://cetus-cmm-app-testnet.netlify.app",cetus_api:"https://api-sui.devcetus.com",notifi_api:"https://api.notifi.network/gql",clmm_sdk_options:clmmConfigTestnet,periphery_sdk_options:peripheryConfigTestnet,burn_sdk_options:burnConfigTestnet,sui_coin:TestnetTokens.SUI,cetus_coin:TestnetTokens.CETUS,clmm_swap:{from_coin:TestnetTokens.CETUS,to_coin:TestnetTokens.SUI},vaults_sdk_options:vaultsConfigTestnet,xcetus_sdk_options:xCetusConfigTestnet,x_cetus_coin:TestnetTokens.xCETUS,create_pool_quote_coin_list:TestnetCreatePoolQuoteTokens}},envConfigs$1=envConfigs[APP_ENV];function useGetTokenSource(){const{trustedTokenList:nt,importTokenList:et,liquidityTrustTokenList:at}=useTokenSelectStore();return{getTokenSource:Dt=>{console.log("🚀🚀🚀 ~ file: useGetTokenSource.ts:8 ~ getTokenSource ~ tokensInfo:",Dt);const Ft=[],Nt=new Set([...nt.map(jt=>jt.coin_type),...et.map(jt=>jt.coin_type)]);console.log("🚀 ~ getTokenSource ~ tokenTypesSet:",Nt);for(const jt of Dt)Nt.has(suiAddressLongToShort(add0x(jt.coin_type)))||Ft.push(jt);return Ft},getTrustTokenSource:Dt=>{const Ft=[],Nt=new Set([...nt.map(jt=>jt.coin_type),...et.map(jt=>jt.coin_type),...at.map(jt=>jt.coin_type)]);for(const jt of Dt)Nt.has(suiAddressLongToShort(add0x(jt.coin_type||(jt==null?void 0:jt.address)||"")))||Ft.push(jt);return Ft},getShowCoinTag:Dt=>{if(console.log(Dt,"getShowCoinTag"),fixCoinType(Dt)===fixCoinType(envConfigs$1.x_cetus_coin.coin_type))return!1;const Ft=Array.from(new Set([...nt.map(Nt=>Nt.coin_type),...et.map(Nt=>Nt.coin_type)]));return!((Ft==null?void 0:Ft.length)>0&&(Ft!=null&&Ft.includes(suiAddressLongToShort(add0x(Dt)))))}}}const IconTipsTriangle="/images/token-warning@2x.png",placeholderImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAQcklEQVR4Ac07C3BUVZb33vfp7nQSgiEhYYYgESEj40oZjERH/MxAnFEGQQYUZILRGix1y3V3q3bZqd2trZpZqram1rJ2tMZZiUGFAURQ4romiALjmlkFB2eGEVyMEAQSEiSQ9O+9fvfuOfe923Q66aQ7dDS3q/vcd9+553fPOffzXlMyxqX4hc1Vls9p4Iao5nm8Mp5HSoSfmsIUGjcJRfbMIoJa1CFRbhlh2k3CrJ3F6EG/rTWee3DlkbEUUQqQawYTX3ppVTxInoxN4rPjVxAfAf0kDwG/WEM4RKGUEiEEQYgF0ITxJY2ZPfSwHiJPnV+9etMQ3S6rKWcGmPTcq+XWxOhzVhlfGJ8oQGkoSlnFJcUAAlSk8EHoort1bPMaXGN5lzoao5O1muf9a3vW3nvGRbq8XyXaqKlMebG5IpTXtzF6JZ/PfYINSyjFADDUoCA0eiN+SVvXINIuKKF3qQzKLMr9x9n+YLig/vSPF3UMy3OEm6M2ALgqLd6y5fnwVXyNCJChFZcKU2GcoyGtlx6FuD7MYuQDjemHhNC7mLggR5HTCeWUxic7JD6HG6QGDDmbTxSzrCtEELRPKyOLEB74jDWdu+++hyFslJlGUHng7bTEB6INvPrGC6/O65tmt1iTeKGKWxfDGy7OhL+Tduq9ZLMZ9j19uuGekwMpZHY1pfG1qVZe7Il4EV8ZLSNlYGZgIK3qEXDrZje5GOgw67oevPd3mVG+hJW1AUpf3vpI+GrxjAOj7qmrIpZQhwr/CdbG+sz67tWLj11ic/m1kpden8ELrI2RabyWaIO9QkNv+D/9sbMPLPtVNtyyMsDkra809s8iawjjXj9lAhjxk+TTYLdY1bFm+cFsBMgWt6JpW3WomG6KVpCZhCg5XCqUMBE8Qpq6VvyoIVO6GRmg+oAwvji9sy00zalWKrsMBPF1sW69kzzU9eNlzZkyzQXelM2vLbImORtik3mJoqeCw39CO1gxZUntwbnUVvfSwRENgMp39OzoiJWJsgFZG5JO8BjdfWbpkrp0xL+K9sk7drZEruILYDZxZ0/PCj7IQRXFSytGMsLQ2TtJ8tOnX2+zy2kZo5CBgAdCZjNR8Alb/3Urj2J2wQAUHNHWs7gGczBmSfxlxC6jZadA9iRVhqwOa4CpW3c1RqeRalRcKg+E9X5m5x81lp1acc9Ph6T4NTSiLPlH2TI9BEMDJlDyxipI9dStzY3DiZQ2BK78TfMjfVXiWYHUvKKHme1v1+Z0PPCDP6u28QQrXn7zmmilcyieB6sJKFJwUAA85NHj99815OwwpAfM2PLmvHCleAbmeHR86VK6o4n8z/X7xqvyqDDKhjKirDIc0HOhhKc7z6BOiJNaBhkAV3jhUtEiTMZcV5ImEAXt+vr2Vd/fkUpgvF2jjCgrGEAagaED+xiTOmGiTCmDGiq3v7khdBVpkHjeOj3vBG39/J7v5yTbz9y2pyZO4/cIH68RGisV1PEJjerUZr3MEqepTd+JGUUvnlp647kUWbO6nL7rv1vC3+QLZRzgzAAl2E4b25f94CH3yv0dYICq37Rd2VfZ+5ljgNdjQeP10O4TC+4sddFH94tTae/J1v+0J4il9kRRgHbFkroXSuyLOBG+bnbcd8H4+6Mr7tjmYmf/O233W2djk0SJUpLGCJ/YUTD98PLvdChqA0IgHux/QRiUuRMJ/moi0E0HWEx1zBRevW33yp7w7guRaaTeLiIFFBwTJ2z5wRjFD0L4qqkWJKDWZDK972p7y1Vv7P4thmWm/JLxUHYIBJnHZS6HsI75IxuTcRKEv/Xq/vL+qdEvhA7B42H4z7Kjn935varkDtnUZ2/f+9cXKuxfEH1oBbw1S2K3m0obhUOcwBn6x2N3LfiL1PuZXF/91ttHwiV8lsJlccLzv/B/85N755/BtoQHCM1+juhgepnzYfS5JvIuslWqY7Zw1ta9t/dNc35BNfR0dy7BnS3W5Q4XR9yrJzzOa8PEJZOXB2EneO23tu/5WbYyIL4fdGACZgVcwCE/g8El6OqVhAGsK8hC5YoI8zq1tj8uv2NUGxt0WV4qXgd+lKEFgB5+UQAFk+uJ+x4u9pFf7IF1+MRK2d8oobOBqAPqInl44WaDroqGNMC1r7y3igeZLyEc7OeDjlmvkLKF1726/x/sQoz3S/GtaCPUYESCZ/S2CZ/7/nLSZ+bcwuPaT/292peEo0uC4wNMrmMbDwr/ddvfW56tLIjvt7QHkSfSQWM6Qeq79pV90rt1RIDT2ielc4KzYsz5e1nnR4tvGvV+PjaBPCGVl2kes72XaoA4A+MWHGf1Hy+/5SXk7RX0tH+dtWffWasIsrbKTIAv6ygUFJg6lwDIelb4eOktn1a17uu0ilm5O9OAQfPok0Brk/SAeFDMxpjDDI3QF9ZfRoajKTVv/2+xU0QnSWvLpQjGM9JF21OS36ntTFE+wSZw3vgXxFOeI3uAPAjx42gkkcwSnTKs+EJsM+YepIPQBp2xK6vefqDKKdB8ig06qBHW/yNDuoPQ7Ivxh3HIL9FT4sOkaml81qKb07qxYeu70BM176PqCGVd6P2DGGbYYEZ9T+O0rsKAg86oOxOG1QCjLnMk+r+vn4U+vL/mZIZ0B6E5wfxfFp7QH8w/pW0PnGPHjQizlQK+C/TYKxQegKQpIo/f7I4QIKD7w0gpKHMHZ6fSdB2xGXUy+2kIB0Z6GAdgOA260Fk1k5GPvAQxI9rREakNg/CHuutCcLvJ+0rM2uYDVZbD7xe287FsSPNj+cXPpHAw3ljQj2BGkRCMKLSY9m9pumbUjLo5QQ6nWi59WPNU67DyqyTczTJyrozTP2VELQuktkVz8fHWPw/XZe6uD/89VMwrKYehUVkQvQCFBeg/T08eWHbD74ejMdI9nWuHIQNUKzyui0omfLRERSlaH7aSHyqErwreuPPAP0ZK+V8BfxmK0k1lunIj1rA1J9hv/PBy5dFs9gHqqkKSmFqJDkskHzapAiIcUvWvAtb810cbw6V8NSjtPtrA0XcdUoYkCCzyusnj7y29ftjwyURWqZsAD1PIBjV1ouHy1ysQb36f2aUuxxLiarHmrY/ejxTzeaiwikulPPLW4owHv6SPv7/4+iFPc7KVD3ULEczBrsaCMU2nGuiPqwNsBuubNC43CbJhDH/mtfz+gFVMr8cHWirmVcJDqEdppKBPq9t393W/zZUYqFtykoVzCKpj4kOGsiiYK45p6Nz8xh/+KTTRcZXH0fDYq4QX6NU+KY36bty1uKovDYlRN8NaAAzudsddtq7B4yzHSwIogBXVy+H2qJfBmUhm5Yu/w5GQkqDRPYnAE/D8YdP/3HXt6kzoZIuDulEShwnV7QkPuCAK4hT0dz/SPQxtcraEs8G/tfmTRTzA8uQuD4yQgFDP+5K1jJXyKCMF3dwlPww18NMc5jDmUAsb5VeGA5+TjUJZ4zJxp4x7GAU5JXnQtDWrvG723VnTy6KDcPgceeokp0IIhjixdCPOuh2Bz+HBQvDljN6QBc2sUSHpTlErT+yssr8ZoYeGWyZnzWiIDtSgNW4SdG/qFu1msPBp12Dk8St3gxr99hB9c9hE8y+FnAo95K3hEnpMC+yEZrte5+qqC61d17h2kApxB3LG0eAmHfWWMxPpNc4+CPSTShcXfQ4zEmRjTrN+uSETfsk43NRmUbkQcqcBqfvC5s+r+kvif5ZPVyU2FfkX6bTWuhmj3hEmMx0v9YUtx6b2F/ATcpTdmUfk9xjXsNZF04+YMRZTbgnOAZMRe2K8CJ4rOVAn1E3paVoshrrLIzHDZocdgyd2SY5JVgLjv80Vc0Xn7uaeb0Ty+xJr+ksB4GIELO3h5rqK1xR+LiHqJDdZEHH4cp5hk8NIH3aHcAji6E956UhOTXaAlv3w3ZMz8F4uC2fRYNwniuM+Ir+2V0eIXzgLxUVYzgvqYvnhHQdQ3D0Wg2M/x3wKGUkDvFE3dZNhURkGOE3gCVGc8425lqQACMqZBgRBYSQvD8qFiStOrtkSC3RJuD8EAaw5YqgzMpIGwIrfYq3JAsX8tPaultOJsECcyy4+d/GT7sEIYdpls0glgDrYAVarpj+EvhhtVXgJA5j+wFo4O4fXrnBssBmSoc6llRRyLiCuAlUiSoW5oJ9KQ+qAp2rg2cgbpmFu8sBahZcwwI75JWf8UbbftZTrnpaPzry35dQihXz50Jd40qP4KIgCqofSl8/HpYCyW342UxkaBxZ13HFnSWLLnzAAdvH7J9aDD3DVAb0garINuRII0q2Me3c0UBzwNsw53ifXISBlT4w+GJhrHHVM1sddEiW1LNl9dkPY7zRgEwSBPCvIg/yw87uT65LQRl39kRBpAz2Xe4Ele7paIj6ReAaIAgcirHHngtKHkoUfZAA8qlq8r7vX1gS8BwyzBsQNPOEUeRG2fvv3Jo2bN8OSlUitL3u75+chP193aXULD4UdevH1W0uKcJmXjD8gBPAGIgRsrQ4e6cN7GuieYAU4R4yYfN2Kd3qWJncej3WUMWqKdTiVQyaTwQWvFnPUKVV5lH+QAbBx64Li3wUd/TGNum9byVgFN4jpbMuqt/uuQZzxWFA2lBFHEZWXD9YpE/mO+RjqNJTMQxoAEbfcfsWvIPabXC9w05QD/2CJmM6h8egJK945vzRsxA/BatJQSRZlRx223F6U9lR5UA5ItdLydy8ciGnePgGxMSdAbsxztPWbbyscFzlh5d6LPw8zZx2Kliw//IHl4LZbJ8xNbkutp/UAhVh0W2Gtj7NOdClpWeQB8RXWxLqVe/taFN7XBVEGlAWHRYYqyIfQz7XOovmFtSPJNcBi6ZB/IoTRv7+/LUrEwKUxuILBRXfAMR9q+q6/OV3/sWhfs+fioohGNsCj5xJFHyMfj/gDVDsYvCWv9tc0B6/LK+IIH9jb3xhjdA3HA3VZcEYBzwC+JiefGpyu2nhHcFTvFbn0Rv6tfydU7TC6KcbETJyyB/TA0OS06cXbgg0D2oe5GEhgGER1a827oUcijDwjX+fBcPCOtLz7wk9oW4Hhr3/2JprTZwuPvi9m9NmRjVFCwK09xV37SxEglnlAkMeabg+mTXhKh2SYtQGw88PvWfMijtNiC1KYbADwBLlwwreMDSE6dUI3BwK+p5+toaM6Xnv0AzE1EoE/TRGyEly9LHXE0d3R7eFU52JA0+qe/4455FSXrHBqfVQGQCIoTMN+6/kYERASQ68nJDNYWIEhQhoRR+H57580h3zo9xuHoE9XXpDITUk4RMpjlEymUXsOvAd0A4TYtx1CZ8UJHNenunmSBvBUk8PuoqlxvvnV/m0uSQbyxGFR0X8uvjFGyHzO4eB5mKJGDKEsKRGEM436N+lQZJTHg4fhHwL2Fxbr9U/Pph1D4WbaNmoPSGXwk/2inAvnOYuLhfAA2of3lcCeuoMzhooZhLIDYKo2t2XArw7vSxqEtsLjtLW/nk+l9wxAGMVFzgyQzPvRNrHKtvmTNiezwZV96dx4JAPBcgPCR8R0Sg6bJnvq2Vqa+wOaZMHHov74+6LKiZMGSGTVEPeV4P0lkMNNgBrMJHIAIG7gRRV4c0EQS6OkG1rbIbEd1HTS+Mub6JGxkEvR/H/1GixGG+ou8QAAAABJRU5ErkJggg==";function SingleCoinImage(nt){const{coinType:et,variant:at,imageUrl:mt,w:$t,h:Ct,p:Dt,showTag:Ft=!1,showTagWidth:Nt,showTagHeight:jt,borderColor:Lt,imageStyle:Vt={},imgBoxStyle:er={},...ir}=nt,or=reactExports.useMemo(()=>{const vr={default:{box:{border:"none",w:$t||"32px",h:Ct||"32px"}},border:{box:{bg:"checked_bg",border:"1px",borderColor:Lt||"border",borderRadius:"100%",w:$t||"46px",h:$t||"46px",p:Dt||"5px"}}};return at?vr[at]:vr.default},[at,$t,Lt,Dt]),{getShowCoinTag:lr}=useGetTokenSource(),{trustedTokenList:dr,importTokenList:pr}=useTokenSelectStore(),hr=reactExports.useMemo(()=>et&&(dr==null?void 0:dr.length)>0?lr(et):!1,[et,dr,pr]);return jsxRuntimeExports.jsxs(Flex,{display:"flex",position:"relative",children:[jsxRuntimeExports.jsx(Center,{...or.box,...er,...ir,children:jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:mt,fallbackSrc:placeholderImg,borderRadius:"100%",w:"100%",h:"100%",...Vt,minW:Vt.w||"unset",minH:Vt.h||"unset"})}),hr&&jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:IconTipsTriangle,fallbackSrc:placeholderImg,w:Nt||"16px",h:jt||"16px",right:at==="border"?"1px":"-3px",style:{position:"absolute",bottom:"0px"}})]})}function CoinPairImage(nt){const{coinAIconUrl:et,coinBIconUrl:at,coinACoinType:mt,coinBCoinType:$t,ml:Ct,showATag:Dt,showBTag:Ft,...Nt}=nt;return jsxRuntimeExports.jsxs(HStack,{gap:"0px",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et,...Nt,showTag:Dt,coinType:mt}),jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:at,...Nt,ml:Ct||"0px",showTag:Ft,coinType:$t})]})}const formatCurrency=nt=>{try{return nt.startsWith("-")?`-$${nt.slice(1)}`:`$${nt}`}catch(et){return console.log("🚀 ~ formatCurrency ~ error:",et),"$--"}};function Comma({value:nt,currency:et}){const at=(et?formatCurrency(nt+""):nt)+"",mt=(at+"").indexOf("$"),$t=mt>-1?(addComma(at.slice(mt+1))+"").split(","):(addComma(at)+"").split(","),Ct=$t.length;return jsxRuntimeExports.jsxs(Box,{as:"span",children:[mt>-1&&at.slice(0,mt+1),$t.map((Dt,Ft)=>jsxRuntimeExports.jsxs(Box,{as:"span",children:[Dt,Ft<Ct-1&&jsxRuntimeExports.jsx(Box,{as:"span",className:"delimiter",children:","})]},`${Dt}-${Ft}`))]})}const store$a=(nt,et)=>({currentCrypto:"",setCurrentCrypto:at=>{nt(()=>({currentCrypto:at}))},isShowAlchemyCrypto:!1,setIsShowAlchemyCrypto:at=>{nt(()=>({isShowAlchemyCrypto:at}))},isShowKodoCrypto:!1,setIsShowKodoCrypto:at=>{nt(()=>({isShowKodoCrypto:at}))}}),useCryptoStore=create$3(store$a),store$9=(nt,et)=>({globalLoading:!0,setGlobalLoading:at=>{nt(()=>({globalLoading:at}))},isScrollTop:!1,setIsScrollTop:at=>{nt(()=>({isScrollTop:at}))}});create$3(store$9);const store$8=(nt,et)=>({notifiAlerts:[],setNotifiAlerts:at=>{nt(()=>({notifiAlerts:at}))},notifiSourceGroups:[],setNotifiSourceGroups:at=>{nt(()=>({notifiSourceGroups:at}))},notifiSources:[],setNotifiSources:at=>{nt(()=>({notifiSources:at}))},isChecked:!1,setIsChecked:at=>{nt(()=>({isChecked:at}))},isShowNotifi:!1,setIsShowNotifi:at=>{nt(()=>({isShowNotifi:at}))},notifiSubscriptionLoading:!1,setNotifiSubscriptionLoading:at=>{nt(()=>({notifiSubscriptionLoading:at}))},notifiLoginLoading:!1,setNotifiLoginLoading:at=>{nt(()=>({notifiLoginLoading:at}))},notifiClient:{},setNotifiClient:at=>{nt(()=>({notifiClient:at}))},notifiStatus:"",setNotifiStatus:at=>{nt(()=>({notifiStatus:at}))},defaultTargetGroup:[],setDefaultTargetGroup:at=>{nt(()=>({defaultTargetGroup:at}))},notifiAccountAddress:"",setNotifiAccountAddress:at=>{nt(()=>({notifiAccountAddress:at}))},emailTarget:{},setEmailTarget:at=>{nt(()=>({emailTarget:at}))},telegramTarget:{},setTelegramTarget:at=>{nt(()=>({telegramTarget:at}))},smsTarget:{},setSmsTarget:at=>{nt(()=>({smsTarget:at}))}}),useNotifiStore=create$3(store$8);LocalStorageService.getItem(NOTIFI_SIGNATURE).then(nt=>{});const useToastStore=create$3((nt,et)=>({toastId:0,accumulateToastId:()=>{const at=et().toastId+1;return nt(()=>({toastId:at})),at}})),store$7=(nt,et)=>({requestTokenList:[],addRequestTokenList:at=>{nt(()=>({requestTokenList:[...et().requestTokenList,at]}))},setToken:at=>{const{tokenMap:mt,requestTokenList:$t}=et(),Ct=new Map(mt);Ct.set(extractStructTagFromType$1(at.coin_type).full_address,at);const Dt=$t.filter(Ft=>Ft!==at.coin_type);nt(()=>({tokenMap:Ct,requestTokenList:[...Dt]})),LocalStorageService.setItem(TOKEN_MAP_KEY,Ct)},tokenMap:new Map,setTokenMap:at=>{nt(()=>({tokenMap:at})),LocalStorageService.setItem(TOKEN_MAP_KEY,at)}}),useTokenStore=create$3(store$7);LocalStorageService.getItem(TOKEN_MAP_KEY).then(nt=>{console.log("🚀 ~ file: token.ts:57 ~ savedTokenMap:",nt),nt!==null&&useTokenStore.getState().setTokenMap(nt)});const store$6=(nt,et)=>({isLoading:!1,ownerAddress:void 0,tokenBalanceObj:{},setTokenBalanceObj:(at,mt)=>{const{tokenBalanceObj:$t,ownerAddress:Ct}=et();nt(mt!==Ct?()=>({tokenBalanceObj:{...at},ownerAddress:mt}):()=>({tokenBalanceObj:{...$t,...at},ownerAddress:mt}))},setIsLoading:at=>{nt(()=>({isLoading:at}))},clearData:()=>{nt(()=>({tokenBalanceObj:{},ownerAddress:void 0}))}}),useTokenBalanceStore=create$3(persist(store$6,{name:"useTokenBalanceStore",version:1}));var x$1=24*60*60*1e3;function T(nt){return Date.parse(new Date().toString())+nt}var b$1=class{constructor(et,at=0){xa(this,"overdueTime");xa(this,"value");this.overdueTime=at,this.value=et}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};function S$3(nt,et=32){return Number(BigInt.asIntN(et,BigInt(nt)))}var D$1="0x2::coin::Coin",v$3=/^0x2::coin::Coin<(.+)>$/,P$1="0x2::sui::SUI",j$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",u=class{static getCoinTypeArg(nt){let et=nt.type.match(v$3);return et?et[1]:null}static isSUI(nt){let et=u.getCoinTypeArg(nt);return et?u.getCoinSymbol(et)==="SUI":!1}static getCoinSymbol(nt){return nt.substring(nt.lastIndexOf(":")+1)}static getBalance(nt){return BigInt(nt.fields.balance)}static totalBalance(nt,et){let at=BigInt(0);return nt.forEach(mt=>{et===mt.coinAddress&&(at+=BigInt(mt.balance))}),at}static getID(nt){return nt.fields.id.id}static getCoinTypeFromArg(nt){return`${D$1}<${nt}>`}static getFaucetCoins(nt){let{events:et}=nt,at=[];return et==null||et.forEach(mt=>{let{type:$t}=mt;if(d($t).name==="InitEvent"){let Ct=mt.parsedJson;at.push({transactionModule:mt.transactionModule,suplyID:Ct.suplyID,decimals:Ct.decimals})}}),at}static getCoinAssets(nt,et){let at=[];return et.forEach(mt=>{A(mt.coinAddress)===A(nt)&&at.push(mt)}),at}static isSuiCoin(nt){return d(nt).full_address===P$1}static selectCoinObjectIdGreaterThanOrEqual(nt,et,at=[]){let mt=u.selectCoinAssetGreaterThanOrEqual(nt,et,at),$t=mt.selectedCoins.map(Ft=>Ft.coinObjectId),Ct=mt.remainingCoins,Dt=mt.selectedCoins.map(Ft=>Ft.balance.toString());return{objectArray:$t,remainCoins:Ct,amountArray:Dt}}static selectCoinAssetGreaterThanOrEqual(nt,et,at=[]){let mt=u.sortByBalance(nt.filter(Nt=>!at.includes(Nt.coinObjectId))),$t=u.calculateTotalBalance(mt);if($t<et)return{selectedCoins:[],remainingCoins:mt};if($t===et)return{selectedCoins:mt,remainingCoins:[]};let Ct=BigInt(0),Dt=[],Ft=[...mt];for(;Ct<$t;){let Nt=et-Ct,jt=Ft.findIndex(Vt=>Vt.balance>=Nt);if(jt!==-1){Dt.push(Ft[jt]),Ft.splice(jt,1);break}let Lt=Ft.pop();Lt.balance>0&&(Dt.push(Lt),Ct+=Lt.balance)}return{selectedCoins:u.sortByBalance(Dt),remainingCoins:u.sortByBalance(Ft)}}static sortByBalance(nt){return nt.sort((et,at)=>et.balance<at.balance?-1:et.balance>at.balance?1:0)}static sortByBalanceDes(nt){return nt.sort((et,at)=>et.balance>at.balance?-1:et.balance<at.balance?0:1)}static calculateTotalBalance(nt){return nt.reduce((et,at)=>et+at.balance,BigInt(0))}};function k$1(nt){return nt.startsWith("0x")?`${nt.slice(2)}`:nt}function I$2(nt,...et){let at=Array.isArray(et[et.length-1])?et.pop():[],mt=[nt,...et].filter(Boolean).join("::");return at&&at.length&&(mt+=`<${at.join(", ")}>`),mt}function d(nt){var et,at;try{let mt=nt.replace(/\s/g,""),$t=(at=(et=mt.match(/(<.+>)$/))==null?void 0:et[0])==null?void 0:at.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if($t){mt=mt.slice(0,mt.indexOf("<"));let Ft={...d(mt),type_arguments:$t.map(Nt=>d(Nt).source_address)};return Ft.type_arguments=Ft.type_arguments.map(Nt=>u.isSuiCoin(Nt)?Nt:d(Nt).source_address),Ft.source_address=I$2(Ft.full_address,Ft.type_arguments),Ft}let Ct=mt.split("::"),Dt={full_address:mt,address:mt===P$1||mt===j$1?"0x2":normalizeSuiObjectId(Ct[0]),module:Ct[1],name:Ct[2],type_arguments:[],source_address:""};return Dt.full_address=`${Dt.address}::${Dt.module}::${Dt.name}`,Dt.source_address=I$2(Dt.full_address,Dt.type_arguments),Dt}catch{return{full_address:nt,address:"",module:"",name:"",type_arguments:[],source_address:nt}}}function A(nt){return d(nt).source_address}function L(nt){return nt.toLowerCase().startsWith("0x")?normalizeSuiObjectId(nt):nt}var ee$1=(nt,et=!0)=>{let at=nt.split("::"),mt=at.shift(),$t=normalizeSuiObjectId(mt);return et&&($t=k$1($t)),`${$t}::${at.join("::")}`};function O$2(nt){for(let et in nt){let at=typeof nt[et];if(at==="object")O$2(nt[et]);else if(at==="string"){let mt=nt[et];mt&&!mt.includes("::")&&(nt[et]=L(mt))}}}var g=class{static buildBurnPositionNFT(nt){var mt;let et=nt.position.fields,at=`Cetus Burned LP | Pool${(mt=et.name.split("Pool"))==null?void 0:mt[1]}`;return{id:nt.id.id,url:et.url,pool_id:et.pool,coinTypeA:d(et.coin_type_a.fields.name).full_address,coinTypeB:d(et.coin_type_b.fields.name).full_address,description:et.description,name:at,liquidity:et.liquidity,clmm_position_id:et.id.id,clmm_pool_id:et.pool,tick_lower_index:S$3(BigInt(et.tick_lower_index.fields.bits)),tick_upper_index:S$3(BigInt(et.tick_upper_index.fields.bits)),index:et.index,is_lp_burn:!0}}},w$2="0x0000000000000000000000000000000000000000000000000000000000000006",h=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}async getHaveBurnPoolList(){var nt,et,at,mt,$t,Ct,Dt,Ft;try{let{package_id:Nt,manager_id:jt}=this._sdk.sdkOptions.burn,Lt=await this._sdk.fullClient.getObject({id:jt,options:{showType:!0,showContent:!0}});console.log("🚀 ~ file: burnModule.ts:32 ~ BurnModule ~ getHaveBurnPoolList ~ object:",Lt);let Vt=(Ct=($t=(mt=(at=(et=(nt=Lt==null?void 0:Lt.data)==null?void 0:nt.content)==null?void 0:et.fields)==null?void 0:at.position)==null?void 0:mt.fields)==null?void 0:$t.id)==null?void 0:Ct.id;return(Ft=(Dt=await this._sdk.fullClient.getDynamicFieldsByPage(Vt))==null?void 0:Dt.data)==null?void 0:Ft.map(er=>{var ir;return(ir=er==null?void 0:er.name)==null?void 0:ir.value})}catch(Nt){return console.log("getHaveBurnPoolList ~ error:",Nt),[]}}async getPositionHandle(nt){let{burn_pool_handle:et}=this._sdk.sdkOptions.burn,at=`getPosHandle_${nt}`,mt=this._sdk.getCache(at);return mt||(mt=(await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:nt}})).data.content.fields.value.fields.id.id,mt&&this._sdk.updateCache(at,mt),mt)}async getPoolBurnPositionList(nt){var et,at,mt;try{let $t=await this.getPositionHandle(nt);if($t===void 0)throw Error("Not found posHandle");let Ct=(at=(et=await this._sdk.fullClient.getDynamicFieldsByPage($t))==null?void 0:et.data)==null?void 0:at.map(Dt=>Dt.objectId);if(Ct.length>0){let Dt=(await this._sdk.fullClient.batchGetObjects(Ct,{showContent:!0})).map(Ft=>Ft.data.content.fields.value.fields.burned_position_id);return(mt=await this._sdk.fullClient.batchGetObjects(Dt,{showContent:!0}))==null?void 0:mt.map(Ft=>{var Nt,jt;return g.buildBurnPositionNFT((jt=(Nt=Ft==null?void 0:Ft.data)==null?void 0:Nt.content)==null?void 0:jt.fields)})}return[]}catch($t){return console.log("getPoolBurnPositionList ~ error:",$t),[]}}async getBurnPositionList(nt){var at,mt;let{package_id:et}=this._sdk.sdkOptions.burn;return(mt=(at=await this._sdk.fullClient.getOwnedObjectsByPage(nt,{options:{showType:!0,showContent:!0,showOwner:!0,showDisplay:!0},filter:{MatchAny:[{StructType:`${et}::lp_burn::CetusLPBurnProof`}]}}))==null?void 0:at.data)==null?void 0:mt.map($t=>{var Ct,Dt;return g.buildBurnPositionNFT((Dt=(Ct=$t==null?void 0:$t.data)==null?void 0:Ct.content)==null?void 0:Dt.fields)})}async getBurnPositon(nt){var at,mt,$t,Ct;let et=await this._sdk.fullClient.getObject({id:nt,options:{showContent:!0,showType:!0}});return(mt=(at=et==null?void 0:et.data)==null?void 0:at.content)!=null&&mt.fields?g.buildBurnPositionNFT((Ct=($t=et==null?void 0:et.data)==null?void 0:$t.content)==null?void 0:Ct.fields):null}createBurnPayload(nt,et){et=et||new Transaction;let at=typeof nt.pos=="string"?et.object(nt.pos):nt.pos,{published_at:mt,manager_id:$t}=this._sdk.sdkOptions.burn,Ct=`${mt}::lp_burn::burn`;return et.moveCall({target:Ct,arguments:[et.object($t),et.object(nt.pool),at],typeArguments:[nt.coinTypeA,nt.coinTypeB]}),et}createBurnLPV2Payload(nt,et){et=et||new Transaction;let at=typeof nt=="string"?et.object(nt):nt,{published_at:mt,manager_id:$t}=this._sdk.sdkOptions.burn,Ct=`${mt}::lp_burn::burn_lp_v2`,[Dt]=et.moveCall({target:Ct,arguments:[et.object($t),at],typeArguments:[]});return Dt}createCollectFeePaylaod(nt,et){et=et||new Transaction;let{published_at:at,manager_id:mt,clmm_global_config:$t}=this._sdk.sdkOptions.burn,Ct=`${at}::lp_burn::collect_fee`,Dt=et.moveCall({target:Ct,arguments:[et.object(mt),et.object($t),et.object(nt.pool),et.object(nt.pos)],typeArguments:[nt.coinTypeA,nt.coinTypeB]});return et.transferObjects([Dt[0]],et.pure.address(nt.account)),et.transferObjects([Dt[1]],et.pure.address(nt.account)),et}crateCollectRewardPayload(nt,et){var Ft,Nt;et=et||new Transaction;let{published_at:at,manager_id:mt,clmm_global_config:$t,clmm_global_vault_id:Ct}=this._sdk.sdkOptions.burn,Dt=`${at}::lp_burn::collect_reward`;for(let jt=0;jt<((Ft=nt.rewarderCoinTypes)==null?void 0:Ft.length);jt++){let Lt=(Nt=nt.rewarderCoinTypes)==null?void 0:Nt[jt],Vt=et.moveCall({target:Dt,arguments:[et.object(mt),et.object($t),et.object(nt.pool),et.object(nt.pos),et.object(Ct),et.object(w$2)],typeArguments:[nt.coinTypeA,nt.coinTypeB,Lt]});et.transferObjects([Vt],et.pure.address(nt.account))}return et}createCollectFeesPaylaod(nt,et){et=et||new Transaction;let{published_at:at,manager_id:mt,clmm_global_config:$t}=this._sdk.sdkOptions.burn,Ct=`${at}::lp_burn::collect_fee`;for(let Dt=0;Dt<nt.length;Dt++){let Ft=nt[Dt],Nt=et.moveCall({target:Ct,arguments:[et.object(mt),et.object($t),et.object(Ft.pool),et.object(Ft.pos)],typeArguments:[Ft.coinTypeA,Ft.coinTypeB]});et.transferObjects([Nt[0]],et.pure.address(Ft.account)),et.transferObjects([Nt[1]],et.pure.address(Ft.account))}return et}crateCollectRewardsPayload(nt,et){var Ft,Nt;et=et||new Transaction;let{published_at:at,manager_id:mt,clmm_global_config:$t,clmm_global_vault_id:Ct}=this._sdk.sdkOptions.burn,Dt=`${at}::lp_burn::collect_reward`;for(let jt=0;jt<nt.length;jt++){let Lt=nt[jt];for(let Vt=0;Vt<((Ft=Lt.rewarderCoinTypes)==null?void 0:Ft.length);Vt++){let er=(Nt=Lt.rewarderCoinTypes)==null?void 0:Nt[Vt],ir=et.moveCall({target:Dt,arguments:[et.object(mt),et.object($t),et.object(Lt.pool),et.object(Lt.pos),et.object(Ct),et.object(w$2)],typeArguments:[Lt.coinTypeA,Lt.coinTypeB,er]});et.transferObjects([ir],et.pure.address(Lt.account))}}return et}},y=class extends SuiClient{async queryEventsByPage(nt,et="all"){let at=[],mt=!0,$t=et==="all",Ct=$t?null:et.cursor;do{let Dt=await this.queryEvents({query:nt,cursor:Ct,limit:$t?null:et.limit});Dt.data?(at=[...at,...Dt.data],mt=Dt.hasNextPage,Ct=Dt.nextCursor):mt=!1}while($t&&mt);return{data:at,nextCursor:Ct,hasNextPage:mt}}async getOwnedObjectsByPage(nt,et,at="all"){let mt=[],$t=!0,Ct=at==="all",Dt=Ct?null:at.cursor;do{let Ft=await this.getOwnedObjects({owner:nt,...et,cursor:Dt,limit:Ct?null:at.limit});Ft.data?(mt=[...mt,...Ft.data],$t=Ft.hasNextPage,Dt=Ft.nextCursor):$t=!1}while(Ct&&$t);return{data:mt,nextCursor:Dt,hasNextPage:$t}}async getDynamicFieldsByPage(nt,et="all"){let at=[],mt=!0,$t=et==="all",Ct=$t?null:et.cursor;do{let Dt=await this.getDynamicFields({parentId:nt,cursor:Ct,limit:$t?null:et.limit});Dt.data?(at=[...at,...Dt.data],mt=Dt.hasNextPage,Ct=Dt.nextCursor):mt=!1}while($t&&mt);return{data:at,nextCursor:Ct,hasNextPage:mt}}async batchGetObjects(nt,et,at=50){let mt=[];try{for(let $t=0;$t<Math.ceil(nt.length/at);$t++){let Ct=await this.multiGetObjects({ids:nt.slice($t*at,at*($t+1)),options:et});mt=[...mt,...Ct]}}catch($t){console.log($t)}return mt}async calculationTxGas(nt){let{sender:et}=nt.blockData;if(et===void 0)throw Error("sdk sender is empty");let at=await this.devInspectTransactionBlock({transactionBlock:nt,sender:et}),{gasUsed:mt}=at.effects;return Number(mt.computationCost)+Number(mt.storageCost)-Number(mt.storageRebate)}async sendTransaction(nt,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:nt,options:{showEffects:!0,showEvents:!0}})}catch(at){console.log("error: ",at)}}async sendSimulationTransaction(nt,et,at=!0){try{if(at)return await this.devInspectTransactionBlock({transactionBlock:nt,sender:et})}catch(mt){console.log("devInspectTransactionBlock error",mt)}}},_$1=class{constructor(et){xa(this,"_cache",{});xa(this,"_rpcModule");xa(this,"_sdkOptions");xa(this,"_senderAddress","");xa(this,"_burn");this._sdkOptions=et,this._rpcModule=new y({url:et.fullRpcUrl}),this._burn=new h(this),O$2(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(et){this._senderAddress=et}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Burn(){return this._burn}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(et,at,mt=!0){let $t=[],Ct=null,Dt=`${this.sdkOptions.fullRpcUrl}_${et}_${at}_getOwnerCoinAssets`,Ft=this.getCache(Dt,mt);if(Ft)return Ft;for(;;){let Nt=await(at?this.fullClient.getCoins({owner:et,coinType:at,cursor:Ct}):this.fullClient.getAllCoins({owner:et,cursor:Ct}));if(Nt.data.forEach(jt=>{BigInt(jt.balance)>0&&$t.push({coinAddress:d(jt.coinType).source_address,coinObjectId:jt.coinObjectId,balance:BigInt(jt.balance)})}),Ct=Nt.nextCursor,!Nt.hasNextPage)break}return this.updateCache(Dt,$t,30*1e3),$t}async getOwnerCoinBalances(et,at){let mt=[];return at?mt=[await this.fullClient.getBalance({owner:et,coinType:at})]:mt=[...await this.fullClient.getAllBalances({owner:et})],mt}updateCache(et,at,mt=x$1){let $t=this._cache[et];$t?($t.overdueTime=T(mt),$t.value=at):$t=new b$1(at,T(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et],$t=mt==null?void 0:mt.isValid();if(!at&&$t)return mt.value;$t||delete this._cache[et]}};const store$5=(nt,et)=>({coinPriceObj:{},setPriceObj:at=>{const mt=et().coinPriceObj;nt({coinPriceObj:{...mt,...at}})},clearPriceObj:at=>{const mt=et().coinPriceObj;at.forEach($t=>{delete mt[d($t).full_address]}),nt({coinPriceObj:{...mt}})}}),useTokenPriceStore=create$3(store$5),useTransactionStore=create$3((nt,et)=>({manualCloseIdList:[],transactionModalVisible:!1,transactionData:void 0,setTransactionModalVisible:at=>{nt(()=>({transactionModalVisible:at}))},setTransactionData:at=>{nt(()=>({transactionData:at}))},setManualCloseId:at=>{nt(mt=>({manualCloseIdList:[...mt.manualCloseIdList,at]}))}})),useAccountStore=create$3((nt,et)=>({addressChangeVersion:0,accounts:[],currentAccount:void 0,isOpenWalletModal:!1,saveCurrentAccount:at=>{var Ct;const mt=(Ct=et().currentAccount)==null?void 0:Ct.address,$t=et().addressChangeVersion;mt&&at&&mt!==at.address?nt({currentAccount:at,addressChangeVersion:$t+1}):nt({currentAccount:at})},saveAccounts:at=>{nt({accounts:at})},onWalletModal:at=>{nt({isOpenWalletModal:at})}})),store$4=(nt,et)=>({isInitLoading:!1,clmmSdk:new CetusClmmSDK(envConfigs$1.clmm_sdk_options),aggregatorSDK:new AggregatorClient22(envConfigs$1.clmm_sdk_options.aggregatorUrl,envConfigs$1.clmm_sdk_options.simulationAccount.address,new SuiClient({url:envConfigs$1.clmm_sdk_options.fullRpcUrl}),envConfigs$1.env==="testnet"?Env.Testnet:Env.Mainnet),setClmmSdk:at=>{nt(()=>({clmmSdk:at}))},setAggregatorSDK:at=>{nt(()=>({aggregatorSDK:at}))},setIsInitLoading:at=>{nt(()=>({isInitLoading:at}))}}),useClmmSDKStore=create$3(store$4),store$3=(nt,et)=>({domains:[envConfigs$1.cetus_api],unhealthyDomains:[],currentDomain:envConfigs$1.cetus_api,setCurrentDomain:at=>{nt(()=>({currentDomain:at}))},setUnhealthyDomains:at=>{nt(()=>({unhealthyDomains:[...et().unhealthyDomains,at]}))}}),useGlobalApiDomainStore=create$3(store$3),defaultMainnetNodes=[{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"BlockVision 2",link:"https://cetus-mainnet-endpoint.blockvision.org"},{name:"Suiet",link:"https://mainnet.suiet.app:443"},{name:"Blast",link:"https://sui-mainnet.blastapi.io/5e2b3e4f-dc83-432b-86d1-70fb73e88187"},{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"Triton",link:"https://cetus-suimain-e31f.mainnet.sui.rpcpool.com"},{name:"Custom",link:""}],defaultMainnetExplorers=[{name:"SuiVision",link:"https://suivision.xyz",img:"/images/img_suivision@2x.png"},{name:"Suiscan",link:"https://suiscan.xyz/mainnet",img:"/images/img_suiscan@2x.png"}],defaultNodes=defaultMainnetNodes,defaultNode=defaultMainnetNodes[0],defaultExplorers=defaultMainnetExplorers,defaultExplorer=defaultMainnetExplorers[0],suiWalletList=[{name:"Sui Wallet",walletName:"Sui Wallet",url:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",icon:"sui-wallet-icon"},{name:"Phantom",walletName:"Phantom",url:"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa",icon:"phantom"},{name:"OKX",walletName:"OKX Wallet",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"okx"},{name:"Suiet",walletName:"Suiet",url:"https://chrome.google.com/webstore/detail/suiet-sui-wallet/khpkpbbcccdmmclmpigdgddabeilkdpd",icon:"suiet-icon"},{name:"Binance",walletName:"Binance Wallet",url:"https://chromewebstore.google.com/detail/%E5%B8%81%E5%AE%89%E9%93%BE%E9%92%B1%E5%8C%85/fhbohimaelbohpjbbldcngcnapndodjp?hl=zh-CN&utm_source=ext_sidebar",icon:"binance"},{name:"Stashed",walletName:"Stashed",url:"https://getstashed.com",icon:"stashed"},{name:"Bybit Wallet",walletName:"Bybit Wallet",url:"https://chromewebstore.google.com/search/Bybit%20Wallet?hl=zh-CN&utm_source=ext_sidebar",icon:"bybit"},{name:"Gate",walletName:"Gate Wallet",url:"https://chromewebstore.google.com/detail/gate-wallet/cpmkedoipcpimgecpmgpldfpohjplkpp",icon:"gate"},{name:"Bitget Wallet",walletName:"Bitget Wallet",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",icon:"bitget"},{name:"SuiMetaMaskSnap",walletName:"Sui MetaMask Snap",url:"https://suisnap.com",icon:"metamask"},{name:"Surf",walletName:"Surf Wallet",url:"https://chrome.google.com/webstore/detail/surf-wallet/emeeapjkbcbpbpgaagfchmcgglmebnen",icon:"surf"},{name:"Coin98",walletName:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",icon:"coin98"},{name:"MSafe",walletName:"MSafe Wallet",url:"https://sui.m-safe.io/",icon:"msafe"},{name:"OneKey",walletName:"OneKey Wallet",url:"https://chromewebstore.google.com/detail/onekey/jnmbobjmhlngoefaiojfljckilhhlhcj",icon:"onekey"},{name:"TokenPocket",walletName:"TokenPocket Wallet",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",icon:"tokenpocket"},{name:"Nightly",walletName:"Nightly",url:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa",icon:"nightly"},{name:"Martian",walletName:"Martian Sui Wallet",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",icon:"martian"},{name:"Fewcha",walletName:"Fewcha Move Wallet",url:"https://fewcha.app/",icon:"fewcha"},{name:"SafePal",walletName:"SafePal",url:"https://chrome.google.com/webstore/detail/safepal-extension-wallet/lgmpcpglpngdoalbgeoldeajfclnhafa",icon:"safepal"},{name:"Math",walletName:"MathWallet",url:"https://mathwallet.org/",icon:"math"}],store$2=(nt,et)=>({rpcSpeed:{},currentExplorer:defaultExplorer,explorerList:[...defaultExplorers],currentNode:{...defaultNode},nodes:[...defaultNodes],switchNode:at=>{nt(()=>({currentNode:at}))},switchExplorer:at=>{nt(()=>({currentExplorer:at}))},setNodeList:at=>{nt(()=>({nodes:[...at]}))},setRpcSpeed:at=>{nt(()=>({rpcSpeed:at}))}}),useRpcConfigStore=create$3(persist(store$2,{name:"useRpcConfigStore",version:4})),store$1=(nt,et)=>({deepbookV3Config:null,providers:["CETUS"],isBuyCryptoConfirm:!1,setIsBuyCryptoConfirm:at=>{nt(()=>({isBuyCryptoConfirm:at}))},isTerm:!1,setIsTerm:at=>{nt(()=>({isTerm:at}))},setProviders:at=>{nt(()=>({providers:at}))},setDeepbookV3Config:at=>{nt(()=>({deepbookV3Config:at}))}}),useWebConfigStore=create$3(persist(store$1,{name:"useWebConfigStore",version:3}));function useGlobalToast(){const{accumulateToastId:nt}=useToastStore(),et=useToast({position:"top-right",duration:5e3,containerStyle:{maxW:"660px"}}),at=Lt=>Lt||`toast${nt()}`;return{closeToast:Lt=>{et.close(Lt)},successTsToast:Lt=>{const{transactionId:Vt}=Lt,er=at(Vt);return et({id:er,render:()=>jsxRuntimeExports.jsx(Toast,{...Lt,transactionId:er,status:"success",onClose:()=>et.close(er)})}),er},failedTsToast:Lt=>{const{transactionId:Vt}=Lt,er=at(Vt);return et({id:er,render:()=>jsxRuntimeExports.jsx(Toast,{...Lt,transactionId:er,status:"rejected",onClose:()=>et.close(er)})}),er},submittedTsToast:Lt=>{const{transactionId:Vt}=Lt,er=at(Vt);return et({id:er,render:()=>jsxRuntimeExports.jsx(Toast,{...Lt,transactionId:er,status:"submitted",onClose:()=>et.close(er)})}),er},closeAllToast:()=>{et.closeAll()},customToast:Lt=>{const Vt=at();return et({id:Vt,render:()=>jsxRuntimeExports.jsx(CustomToast,{onClose:()=>et.close(Vt),children:Lt})}),Vt},showCommonToast:(Lt,Vt="success",er)=>{const ir=at(),or={getShowInfo:()=>({toastTitleText:Lt,toastDescriptionContent:er})};return et({id:ir,render:()=>jsxRuntimeExports.jsx(Toast,{...or,transactionId:ir,status:Vt,onClose:()=>et.close(ir)})}),ir}}}function Drawer({title:nt,isOpen:et,onClose:at,children:mt,cancelText:$t,okText:Ct,onSubmit:Dt,footer:Ft=!1,placement:Nt,size:jt}){return jsxRuntimeExports.jsxs(Drawer$1,{isOpen:et,placement:Nt||"right",onClose:at,size:jt||"md",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(DrawerContent,{h:"100dvh !important",minH:"calc(100vh - 80px) !important",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{children:nt}),jsxRuntimeExports.jsx(ModalBody,{children:mt}),jsxRuntimeExports.jsx(ModalFooter,{children:typeof Ft!="boolean"?Ft:Ft&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",mr:3,onClick:at,children:$t}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:Dt,children:Ct})]})})]})]})}const TextWrap=({children:nt,haveTooltip:et=!0,...at})=>{const mt=reactExports.useRef(null),[$t,Ct]=reactExports.useState(!1),Dt=()=>{const Nt=mt.current;Nt&&Nt.scrollWidth>Nt.clientWidth?Ct(!0):Ct(!1)},{isApp:Ft}=useWindowWidth();return jsxRuntimeExports.jsx(Box,{w:"100%",onClick:Nt=>cancelBubble(Nt),children:Ft?jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"wrap",wordBreak:"break-all",textAlign:"right",...at,children:nt}):$t&&et?jsxRuntimeExports.jsx(Tooltip,{placement:"top",label:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:nt}),children:jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:mt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseLeave:()=>Ct(!1),tabIndex:0,...at,children:nt})}):jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:mt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseEnter:Dt,tabIndex:0,...at,children:nt})})},SingleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"130px"})]})]}),SingleTokenInfoH5=({data:nt})=>{const{loading:et,imageUrl:at,symbol:mt,name:$t}=nt;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et?jsxRuntimeExports.jsx(SingleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:at,w:"24px",h:"24px"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:{md:"0",lg:"0.5rem"},children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",children:mt}),jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:$t})]})]})})},DoubleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsx(Box,{ml:"-8px",children:jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"})}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"60px"})]})]}),PairTokenInfo=({data:nt,fee:et,loading:at})=>{var mt,$t,Ct,Dt;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:at?jsxRuntimeExports.jsx(DoubleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{gap:"0px",w:"100%",children:[jsxRuntimeExports.jsx(CoinPairImage,{w:"40px",variant:"border",coinAIconUrl:(mt=nt[0])==null?void 0:mt.imageUrl,coinBIconUrl:($t=nt[1])==null?void 0:$t.imageUrl}),jsxRuntimeExports.jsx(VStack,{gap:"0px",ml:"8px",align:"flex-start",children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(Ct=nt[0])==null?void 0:Ct.symbol}),jsxRuntimeExports.jsx(Text,{color:"text_caption",children:"-"}),jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(Dt=nt[1])==null?void 0:Dt.symbol})]})})]})})};var HandleEventType=(nt=>(nt.Add="add",nt.Edit="edit",nt.Delete="delete",nt))(HandleEventType||{}),H5MapTableCells=(nt=>(nt.Regular="regular",nt.Double="double",nt.Divider="divider",nt.Action="action",nt.Cos="cos",nt))(H5MapTableCells||{}),TitleEnum=(nt=>(nt.SingleToken="SingleToken",nt.ST="ST",nt.DoubleToken="DoubleToken",nt.DT="DT",nt))(TitleEnum||{});const handleElement=({value:nt})=>{let et,at;if(reactExports.isValidElement(nt)||typeof nt=="string"||typeof nt=="number")et=nt;else if(typeof nt=="function")et=nt();else if(typeof nt=="object"&&nt!==null){const{text:mt,render:$t}=nt;if("color"in nt&&(at=nt.color),mt)et=mt;else if($t)et=handleElement({value:$t});else throw new Error("You must select one of text or render to assign a valid value.")}else throw new Error("A valid value is required here.");return[et,at]},renderNode=nt=>handleElement({value:nt})[0];function transColumns2H5(nt,et,at){return nt.map(mt=>({type:H5MapTableCells.Cos,label:mt.title,showLabel:mt==null?void 0:mt.showLabel,key:mt.key,hidden:mt.hidden?typeof mt.hidden=="function"?mt.hidden(et):mt.hidden:!1,value:typeof mt.render=="function"?mt.render(et,at):mt.render||et[mt.key]}))}const Regular=({value:nt,...et})=>{let at="text_caption";"color"in et&&(at=et.color);const[mt,$t]=handleElement({value:nt});return at=$t||at,jsxRuntimeExports.jsx(Text,{color:at,children:mt})},Action=({value:nt,onChange:et,btn:at,...mt})=>{if(!nt){const{text:Ft,color:Nt="primary",bg_color:jt="bg_secondary"}=at;return jsxRuntimeExports.jsx(Button,{w:"60px",h:"20px",borderRadius:"4px",color:Nt,bgColor:jt,size:"xs",onClick:(...Lt)=>et==null?void 0:et(HandleEventType.Add,...Lt),children:Ft})}let $t="text_caption";"color"in mt&&($t=mt.color||$t);const[Ct,Dt]=handleElement({value:nt});return $t=Dt||$t,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:$t,children:Ct}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",onClick:(...Ft)=>et==null?void 0:et(HandleEventType.Edit,...Ft)}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",onClick:(...Ft)=>et==null?void 0:et(HandleEventType.Delete,...Ft)})]})},Divider=({value:nt})=>{let et="text_caption",at="text_paragraph";const[mt,$t]=handleElement({value:nt[0]}),[Ct,Dt]=handleElement({value:nt[1]});return et=$t||et,at=Dt||at,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:et,children:mt}),jsxRuntimeExports.jsxs(Text,{color:at,children:["/ ",Ct]})]})},Double=({value:nt,onChange:et})=>{var Nt;let at="text_caption",mt="text_paragraph";const[$t,Ct]=handleElement({value:nt[0]}),[Dt,Ft]=handleElement({value:nt[1]});return at=Ct||at,mt=Ft||mt,jsxRuntimeExports.jsxs(VStack,{gap:"0.2em",alignItems:"flex-end",children:[jsxRuntimeExports.jsxs(HStack,{h:"12px",children:[jsxRuntimeExports.jsx(Text,{color:at,children:$t}),typeof nt[0]=="object"&&((Nt=nt[0])==null?void 0:Nt.editable)&&jsxRuntimeExports.jsx(Icon,{onClick:(...jt)=>et==null?void 0:et(HandleEventType.Edit,...jt),xlinkHref:"#icon-icon_edit"})]}),jsxRuntimeExports.jsx(Text,{h:"12px",color:mt,children:Dt})]})},Cos=({value:nt})=>typeof nt=="function"?nt():jsxRuntimeExports.jsx(Box,{fontFamily:"Inter",fontSize:"14px",color:"text_caption",children:nt});function useTextColor({isLong:nt}){const et=reactExports.useMemo(()=>nt?"primary":"primary_red",[nt]),at=reactExports.useMemo(()=>nt?"primary_opacity.10":"primary_red_opacity.10",[nt]);return{color:et,bg:at}}const ItemsMap={[H5MapTableCells.Regular]:Regular,[H5MapTableCells.Action]:Action,[H5MapTableCells.Divider]:Divider,[H5MapTableCells.Double]:Double,[H5MapTableCells.Cos]:Cos},TitleMap={[TitleEnum.SingleToken]:SingleTokenInfoH5,[TitleEnum.ST]:SingleTokenInfoH5,[TitleEnum.DoubleToken]:PairTokenInfo,[TitleEnum.DT]:PairTokenInfo},Title=({data:nt})=>{if(!nt)return null;const{type:et,...at}=nt,mt=TitleMap[et];return jsxRuntimeExports.jsx(mt,{...at})},Bottom=({data:nt})=>{if(typeof nt=="function")return nt();if(reactExports.isValidElement(nt))return nt;if(typeof nt=="object"&&(nt!=null&&nt.data)&&Array.isArray(nt==null?void 0:nt.data)){const{style:et,data:at}=nt;return jsxRuntimeExports.jsx(HStack,{w:"100%",justifyContent:"space-between",...et,children:at.map(mt=>{const{text:$t,render:Ct,...Dt}=mt;return jsxRuntimeExports.jsx(Button,{...Dt,children:renderNode({text:$t,render:Ct})},mt.key||mt.text)})})}if(typeof nt=="object"){const{text:et,render:at,...mt}=nt;return jsxRuntimeExports.jsx(Button,{...mt,children:renderNode({text:et,render:at})})}return null};function H5MapTableItem({data:nt,children:et,loading:at,skeletonLength:mt=5,itemHeight:$t="40px",style:Ct,title:Dt,bottom:Ft,onClick:Nt}){const jt=new Array(mt).fill(0);return jsxRuntimeExports.jsxs(VStack,{gap:"0.5em",...Ct,onClick:Nt,children:[et,jsxRuntimeExports.jsx(Title,{data:Dt}),at?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jt==null?void 0:jt.map((Lt,Vt)=>jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",flexBasis:$t,children:[jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"}),jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"})]},Vt))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:nt==null?void 0:nt.map(Lt=>{const{label:Vt,type:er,key:ir,showLabel:or=!0,hidden:lr=!1,...dr}=Lt,pr=ItemsMap[er];return jsxRuntimeExports.jsx(React.Fragment,{children:!lr&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:lr?"-8px":"0",flexBasis:$t,children:[or&&jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Box,{children:renderNode(Vt)}),typeof Vt=="object"&&(Vt==null?void 0:Vt.tooltip)&&jsxRuntimeExports.jsx(Tooltip,{label:renderNode(Vt==null?void 0:Vt.tooltip),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_tips",cursor:"help"})})]}),jsxRuntimeExports.jsx(pr,{...dr})]},ir||(Vt==null?void 0:Vt.toString()))},ir||(Vt==null?void 0:Vt.toString()))})}),jsxRuntimeExports.jsx(Bottom,{data:Ft})]})}const Logo=({name:nt,logo:et,multiple:at,isLong:mt})=>{const{color:$t,bg:Ct}=useTextColor({isLong:mt});return jsxRuntimeExports.jsxs(HStack,{flexBasis:"32px",gap:"8px",children:[jsxRuntimeExports.jsx(Box,{flexBasis:"32px",children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"50%",src:et})}),jsxRuntimeExports.jsxs(VStack,{gap:"2px",alignItems:"flex-start",children:[jsxRuntimeExports.jsx(Text,{flexBasis:"14px",color:"text_caption",children:nt}),jsxRuntimeExports.jsx(Tag,{flexBasis:"16px",color:$t,bgColor:Ct,children:`${at}x ${mt?"Long":"Short"}`})]})]})};H5MapTableItem.Logo=Logo;function Modal({title:nt="",isOpen:et,showOverlay:at=!0,closeable:mt=!0,isCentered:$t=!0,onClose:Ct,children:Dt,footer:Ft,okText:Nt="OK",cancelText:jt="Cancel",onOk:Lt,onCancel:Vt}){return jsxRuntimeExports.jsxs(Modal$1,{isOpen:et,onClose:Ct,isCentered:$t,children:[at&&jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:nt}),mt&&jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:Dt}),Ft||(Ft===null?null:jsxRuntimeExports.jsxs(ModalFooter,{children:[jsxRuntimeExports.jsx(Button,{mr:3,onClick:Vt,variant:"outline",children:jt}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:Lt,children:Nt})]}))]})]})}function __rest(nt,et){var at={};for(var mt in nt)Object.prototype.hasOwnProperty.call(nt,mt)&&et.indexOf(mt)<0&&(at[mt]=nt[mt]);if(nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $t=0,mt=Object.getOwnPropertySymbols(nt);$t<mt.length;$t++)et.indexOf(mt[$t])<0&&Object.prototype.propertyIsEnumerable.call(nt,mt[$t])&&(at[mt[$t]]=nt[mt[$t]]);return at}var SourceType;(function(nt){nt.event="event",nt.props="prop"})(SourceType||(SourceType={}));function noop(){}function memoizeOnce(nt){var et,at=void 0;return function(){for(var mt=[],$t=arguments.length;$t--;)mt[$t]=arguments[$t];return et&&mt.length===et.length&&mt.every(function(Ct,Dt){return Ct===et[Dt]})||(et=mt,at=nt.apply(void 0,mt)),at}}function charIsNumber(nt){return!!(nt||"").match(/\d/)}function isNil(nt){return nt==null}function isNanValue(nt){return typeof nt=="number"&&isNaN(nt)}function isNotValidValue(nt){return isNil(nt)||isNanValue(nt)||typeof nt=="number"&&!isFinite(nt)}function escapeRegExp(nt){return nt.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(nt){switch(nt){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(nt,et,at){var mt=getThousandsGroupRegex(at),$t=nt.search(/[1-9]/);return $t=$t===-1?nt.length:$t,nt.substring(0,$t)+nt.substring($t,nt.length).replace(mt,"$1"+et)}function usePersistentCallback(nt){var et=reactExports.useRef(nt);et.current=nt;var at=reactExports.useRef(function(){for(var mt=[],$t=arguments.length;$t--;)mt[$t]=arguments[$t];return et.current.apply(et,mt)});return at.current}function splitDecimal(nt,et){et===void 0&&(et=!0);var at=nt[0]==="-",mt=at&&et;nt=nt.replace("-","");var $t=nt.split("."),Ct=$t[0],Dt=$t[1]||"";return{beforeDecimal:Ct,afterDecimal:Dt,hasNegation:at,addNegation:mt}}function fixLeadingZero(nt){if(!nt)return nt;var et=nt[0]==="-";et&&(nt=nt.substring(1,nt.length));var at=nt.split("."),mt=at[0].replace(/^0+/,"")||"0",$t=at[1]||"";return(et?"-":"")+mt+($t?"."+$t:"")}function limitToScale(nt,et,at){for(var mt="",$t=at?"0":"",Ct=0;Ct<=et-1;Ct++)mt+=nt[Ct]||$t;return mt}function repeat(nt,et){return Array(et+1).join(nt)}function toNumericString(nt){var et=nt+"",at=et[0]==="-"?"-":"";at&&(et=et.substring(1));var mt=et.split(/[eE]/g),$t=mt[0],Ct=mt[1];if(Ct=Number(Ct),!Ct)return at+$t;$t=$t.replace(".","");var Dt=1+Ct,Ft=$t.length;return Dt<0?$t="0."+repeat("0",Math.abs(Dt))+$t:Dt>=Ft?$t=$t+repeat("0",Dt-Ft):$t=($t.substring(0,Dt)||"0")+"."+$t.substring(Dt),at+$t}function roundToPrecision(nt,et,at){if(["","-"].indexOf(nt)!==-1)return nt;var mt=(nt.indexOf(".")!==-1||at)&&et,$t=splitDecimal(nt),Ct=$t.beforeDecimal,Dt=$t.afterDecimal,Ft=$t.hasNegation,Nt=parseFloat("0."+(Dt||"0")),jt=Dt.length<=et?"0."+Dt:Nt.toFixed(et),Lt=jt.split("."),Vt=Ct;Ct&&Number(Lt[0])&&(Vt=Ct.split("").reverse().reduce(function(lr,dr,pr){return lr.length>pr?(Number(lr[0])+Number(dr)).toString()+lr.substring(1,lr.length):dr+lr},Lt[0]));var er=limitToScale(Lt[1]||"",et,at),ir=Ft?"-":"",or=mt?".":"";return""+ir+Vt+or+er}function setCaretPosition(nt,et){if(nt.value=nt.value,nt!==null){if(nt.createTextRange){var at=nt.createTextRange();return at.move("character",et),at.select(),!0}return nt.selectionStart||nt.selectionStart===0?(nt.focus(),nt.setSelectionRange(et,et),!0):(nt.focus(),!1)}}var findChangeRange=memoizeOnce(function(nt,et){for(var at=0,mt=0,$t=nt.length,Ct=et.length;nt[at]===et[at]&&at<$t;)at++;for(;nt[$t-1-mt]===et[Ct-1-mt]&&Ct-mt>at&&$t-mt>at;)mt++;return{from:{start:at,end:$t-mt},to:{start:at,end:Ct-mt}}}),findChangedRangeFromCaretPositions=function(nt,et){var at=Math.min(nt.selectionStart,et);return{from:{start:at,end:nt.selectionEnd},to:{start:at,end:et}}};function clamp$1(nt,et,at){return Math.min(Math.max(nt,et),at)}function geInputCaretPosition(nt){return Math.max(nt.selectionStart,nt.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(nt){return{from:{start:0,end:0},to:{start:0,end:nt.length},lastValue:""}}function defaultIsCharacterSame(nt){var et=nt.currentValue,at=nt.formattedValue,mt=nt.currentValueIndex,$t=nt.formattedValueIndex;return et[mt]===at[$t]}function getCaretPosition(nt,et,at,mt,$t,Ct,Dt){Dt===void 0&&(Dt=defaultIsCharacterSame);var Ft=$t.findIndex(function(br){return br}),Nt=nt.slice(0,Ft);!et&&!at.startsWith(Nt)&&(et=Nt,at=Nt+at,mt=mt+Nt.length);for(var jt=at.length,Lt=nt.length,Vt={},er=new Array(jt),ir=0;ir<jt;ir++){er[ir]=-1;for(var or=0,lr=Lt;or<lr;or++){var dr=Dt({currentValue:at,lastValue:et,formattedValue:nt,currentValueIndex:ir,formattedValueIndex:or});if(dr&&Vt[or]!==!0){er[ir]=or,Vt[or]=!0;break}}}for(var pr=mt;pr<jt&&(er[pr]===-1||!Ct(at[pr]));)pr++;var hr=pr===jt||er[pr]===-1?Lt:er[pr];for(pr=mt-1;pr>0&&er[pr]===-1;)pr--;var vr=pr===-1||er[pr]===-1?0:er[pr]+1;return vr>hr?hr:mt-vr<hr-mt?vr:hr}function getCaretPosInBoundary(nt,et,at,mt){var $t=nt.length;if(et=clamp$1(et,0,$t),mt==="left"){for(;et>=0&&!at[et];)et--;et===-1&&(et=at.indexOf(!0))}else{for(;et<=$t&&!at[et];)et++;et>$t&&(et=at.lastIndexOf(!0))}return et===-1&&(et=$t),et}function caretUnknownFormatBoundary(nt){for(var et=Array.from({length:nt.length+1}).map(function(){return!0}),at=0,mt=et.length;at<mt;at++)et[at]=!!(charIsNumber(nt[at])||charIsNumber(nt[at-1]));return et}function useInternalValues(nt,et,at,mt,$t,Ct){Ct===void 0&&(Ct=noop);var Dt=usePersistentCallback(function(or,lr){var dr,pr;return isNotValidValue(or)?(pr="",dr=""):typeof or=="number"||lr?(pr=typeof or=="number"?toNumericString(or):or,dr=mt(pr)):(pr=$t(or,void 0),dr=mt(pr)),{formattedValue:dr,numAsString:pr}}),Ft=reactExports.useState(function(){return Dt(isNil(nt)?et:nt,at)}),Nt=Ft[0],jt=Ft[1],Lt=function(or,lr){or.formattedValue!==Nt.formattedValue&&jt({formattedValue:or.formattedValue,numAsString:or.value}),Ct(or,lr)},Vt=nt,er=at;isNil(nt)&&(Vt=Nt.numAsString,er=!0);var ir=Dt(Vt,er);return reactExports.useMemo(function(){jt(ir)},[ir.formattedValue]),[Nt,Lt]}function defaultRemoveFormatting(nt){return nt.replace(/[^0-9]/g,"")}function defaultFormat(nt){return nt}function NumberFormatBase(nt){var et=nt.type;et===void 0&&(et="text");var at=nt.displayType;at===void 0&&(at="input");var mt=nt.customInput,$t=nt.renderText,Ct=nt.getInputRef,Dt=nt.format;Dt===void 0&&(Dt=defaultFormat);var Ft=nt.removeFormatting;Ft===void 0&&(Ft=defaultRemoveFormatting);var Nt=nt.defaultValue,jt=nt.valueIsNumericString,Lt=nt.onValueChange,Vt=nt.isAllowed,er=nt.onChange;er===void 0&&(er=noop);var ir=nt.onKeyDown;ir===void 0&&(ir=noop);var or=nt.onMouseUp;or===void 0&&(or=noop);var lr=nt.onFocus;lr===void 0&&(lr=noop);var dr=nt.onBlur;dr===void 0&&(dr=noop);var pr=nt.value,hr=nt.getCaretBoundary;hr===void 0&&(hr=caretUnknownFormatBoundary);var vr=nt.isValidInputCharacter;vr===void 0&&(vr=charIsNumber);var br=nt.isCharacterSame,xr=__rest(nt,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),Sr=useInternalValues(pr,Nt,!!jt,Dt,Ft,Lt),Er=Sr[0],$r=Er.formattedValue,Cr=Er.numAsString,kr=Sr[1],gr=reactExports.useRef(),Ut=reactExports.useRef({formattedValue:$r,numAsString:Cr}),tr=function(Zr,Gr){Ut.current={formattedValue:Zr.formattedValue,numAsString:Zr.value},kr(Zr,Gr)},nr=reactExports.useState(!1),rr=nr[0],ar=nr[1],cr=reactExports.useRef(null),fr=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return ar(!0),function(){clearTimeout(fr.current.setCaretTimeout),clearTimeout(fr.current.focusTimeout)}},[]);var sr=Dt,Yt=function(Zr,Gr){var zr=parseFloat(Gr);return{formattedValue:Zr,value:Gr,floatValue:isNaN(zr)?void 0:zr}},ur=function(Zr,Gr,zr){Zr.selectionStart===0&&Zr.selectionEnd===Zr.value.length||(setCaretPosition(Zr,Gr),fr.current.setCaretTimeout=setTimeout(function(){Zr.value===zr&&Zr.selectionStart!==Gr&&setCaretPosition(Zr,Gr)},0))},_r=function(Zr,Gr,zr){return getCaretPosInBoundary(Zr,Gr,hr(Zr),zr)},yr=function(Zr,Gr,zr){var Dn=hr(Gr),Qr=getCaretPosition(Gr,$r,Zr,zr,Dn,vr,br);return Qr=getCaretPosInBoundary(Gr,Qr,Dn),Qr},wr=function(Zr){var Gr=Zr.formattedValue;Gr===void 0&&(Gr="");var zr=Zr.input,Dn=Zr.source,Qr=Zr.event,Un=Zr.numAsString,ro;if(zr){var Hn=Zr.inputValue||zr.value,Qn=geInputCaretPosition(zr);zr.value=Gr,ro=yr(Hn,Gr,Qn),ro!==void 0&&ur(zr,ro,Gr)}Gr!==$r&&tr(Yt(Gr,Un),{event:Qr,source:Dn})};reactExports.useEffect(function(){var Zr=Ut.current,Gr=Zr.formattedValue,zr=Zr.numAsString;($r!==Gr||Cr!==zr)&&tr(Yt($r,Cr),{event:void 0,source:SourceType.props})},[$r,Cr]);var Ir=cr.current?geInputCaretPosition(cr.current):void 0,Or=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;Or(function(){var Zr=cr.current;if($r!==Ut.current.formattedValue&&Zr){var Gr=yr(Ut.current.formattedValue,$r,Ir);Zr.value=$r,ur(Zr,Gr,$r)}},[$r]);var Ar=function(Zr,Gr,zr){var Dn=Gr.target,Qr=gr.current?findChangedRangeFromCaretPositions(gr.current,Dn.selectionEnd):findChangeRange($r,Zr),Un=Object.assign(Object.assign({},Qr),{lastValue:$r}),ro=Ft(Zr,Un),Hn=sr(ro);if(ro=Ft(Hn,void 0),Vt&&!Vt(Yt(Hn,ro))){var Qn=Gr.target,$o=geInputCaretPosition(Qn),Kn=yr(Zr,$r,$o);return Qn.value=$r,ur(Qn,Kn,$r),!1}return wr({formattedValue:Hn,numAsString:ro,inputValue:Zr,event:Gr,source:zr,input:Gr.target}),!0},Nr=function(Zr,Gr){Gr===void 0&&(Gr=0);var zr=Zr.selectionStart,Dn=Zr.selectionEnd;gr.current={selectionStart:zr,selectionEnd:Dn+Gr}},Hr=function(Zr){var Gr=Zr.target,zr=Gr.value,Dn=Ar(zr,Zr,SourceType.event);Dn&&er(Zr),gr.current=void 0},Pr=function(Zr){var Gr=Zr.target,zr=Zr.key,Dn=Gr.selectionStart,Qr=Gr.selectionEnd,Un=Gr.value;Un===void 0&&(Un="");var ro;zr==="ArrowLeft"||zr==="Backspace"?ro=Math.max(Dn-1,0):zr==="ArrowRight"?ro=Math.min(Dn+1,Un.length):zr==="Delete"&&(ro=Dn);var Hn=0;zr==="Delete"&&Dn===Qr&&(Hn=1);var Qn=zr==="ArrowLeft"||zr==="ArrowRight";if(ro===void 0||Dn!==Qr&&!Qn){ir(Zr),Nr(Gr,Hn);return}var $o=ro;if(Qn){var Kn=zr==="ArrowLeft"?"left":"right";$o=_r(Un,ro,Kn),$o!==ro&&Zr.preventDefault()}else zr==="Delete"&&!vr(Un[ro])?$o=_r(Un,ro,"right"):zr==="Backspace"&&!vr(Un[ro])&&($o=_r(Un,ro,"left"));$o!==ro&&ur(Gr,$o,Un),ir(Zr),Nr(Gr,Hn)},Dr=function(Zr){var Gr=Zr.target,zr=function(){var Dn=Gr.selectionStart,Qr=Gr.selectionEnd,Un=Gr.value;if(Un===void 0&&(Un=""),Dn===Qr){var ro=_r(Un,Dn);ro!==Dn&&ur(Gr,ro,Un)}};zr(),requestAnimationFrame(function(){zr()}),or(Zr),Nr(Gr)},Rr=function(Zr){Zr.persist&&Zr.persist();var Gr=Zr.target,zr=Zr.currentTarget;cr.current=Gr,fr.current.focusTimeout=setTimeout(function(){var Dn=Gr.selectionStart,Qr=Gr.selectionEnd,Un=Gr.value;Un===void 0&&(Un="");var ro=_r(Un,Dn);ro!==Dn&&!(Dn===0&&Qr===Un.length)&&ur(Gr,ro,Un),lr(Object.assign(Object.assign({},Zr),{currentTarget:zr}))},0)},Vr=function(Zr){cr.current=null,clearTimeout(fr.current.focusTimeout),clearTimeout(fr.current.setCaretTimeout),dr(Zr)},an=rr&&addInputMode()?"numeric":void 0,Xr=Object.assign({inputMode:an},xr,{type:et,value:$r,onChange:Hr,onKeyDown:Pr,onMouseUp:Dr,onFocus:Rr,onBlur:Vr});if(at==="text")return $t?React.createElement(React.Fragment,null,$t($r,xr)||null):React.createElement("span",Object.assign({},xr,{ref:Ct}),$r);if(mt){var Jr=mt;return React.createElement(Jr,Object.assign({},Xr,{ref:Ct}))}return React.createElement("input",Object.assign({},Xr,{ref:Ct}))}function format(nt,et){var at=et.decimalScale,mt=et.fixedDecimalScale,$t=et.prefix;$t===void 0&&($t="");var Ct=et.suffix;Ct===void 0&&(Ct="");var Dt=et.allowNegative,Ft=et.thousandsGroupStyle;if(Ft===void 0&&(Ft="thousand"),nt===""||nt==="-")return nt;var Nt=getSeparators(et),jt=Nt.thousandSeparator,Lt=Nt.decimalSeparator,Vt=at!==0&&nt.indexOf(".")!==-1||at&&mt,er=splitDecimal(nt,Dt),ir=er.beforeDecimal,or=er.afterDecimal,lr=er.addNegation;return at!==void 0&&(or=limitToScale(or,at,!!mt)),jt&&(ir=applyThousandSeparator(ir,jt,Ft)),$t&&(ir=$t+ir),Ct&&(or=or+Ct),lr&&(ir="-"+ir),nt=ir+(Vt&&Lt||"")+or,nt}function getSeparators(nt){var et=nt.decimalSeparator;et===void 0&&(et=".");var at=nt.thousandSeparator,mt=nt.allowedDecimalSeparators;return at===!0&&(at=","),mt||(mt=[et,"."]),{decimalSeparator:et,thousandSeparator:at,allowedDecimalSeparators:mt}}function handleNegation(nt,et){nt===void 0&&(nt="");var at=new RegExp("(-)"),mt=new RegExp("(-)(.)*(-)"),$t=at.test(nt),Ct=mt.test(nt);return nt=nt.replace(/-/g,""),$t&&!Ct&&et&&(nt="-"+nt),nt}function getNumberRegex(nt,et){return new RegExp("(^-)|[0-9]|"+escapeRegExp(nt),"g")}function isNumericString(nt,et,at){return nt===""?!0:!(et!=null&&et.match(/\d/))&&!(at!=null&&at.match(/\d/))&&typeof nt=="string"&&!isNaN(Number(nt))}function removeFormatting(nt,et,at){var mt;et===void 0&&(et=getDefaultChangeMeta(nt));var $t=at.allowNegative,Ct=at.prefix;Ct===void 0&&(Ct="");var Dt=at.suffix;Dt===void 0&&(Dt="");var Ft=at.decimalScale,Nt=et.from,jt=et.to,Lt=jt.start,Vt=jt.end,er=getSeparators(at),ir=er.allowedDecimalSeparators,or=er.decimalSeparator,lr=nt[Vt]===or;if(charIsNumber(nt)&&(nt===Ct||nt===Dt)&&et.lastValue==="")return nt;if(Vt-Lt===1&&ir.indexOf(nt[Lt])!==-1){var dr=Ft===0?"":or;nt=nt.substring(0,Lt)+dr+nt.substring(Lt+1,nt.length)}var pr=function(cr,fr,sr){var Yt=!1,ur=!1;Ct.startsWith("-")?Yt=!1:cr.startsWith("--")?(Yt=!1,ur=!0):Dt.startsWith("-")&&cr.length===Dt.length?Yt=!1:cr[0]==="-"&&(Yt=!0);var _r=Yt?1:0;return ur&&(_r=2),_r&&(cr=cr.substring(_r),fr-=_r,sr-=_r),{value:cr,start:fr,end:sr,hasNegation:Yt}},hr=pr(nt,Lt,Vt),vr=hr.hasNegation;mt=hr,nt=mt.value,Lt=mt.start,Vt=mt.end;var br=pr(et.lastValue,Nt.start,Nt.end),xr=br.start,Sr=br.end,Er=br.value,$r=nt.substring(Lt,Vt);nt.length&&Er.length&&(xr>Er.length-Dt.length||Sr<Ct.length)&&!($r&&Dt.startsWith($r))&&(nt=Er);var Cr=0;nt.startsWith(Ct)?Cr+=Ct.length:Lt<Ct.length&&(Cr=Lt),nt=nt.substring(Cr),Vt-=Cr;var kr=nt.length,gr=nt.length-Dt.length;nt.endsWith(Dt)?kr=gr:(Vt>gr||Vt>nt.length-Dt.length)&&(kr=Vt),nt=nt.substring(0,kr),nt=handleNegation(vr?"-"+nt:nt,$t),nt=(nt.match(getNumberRegex(or))||[]).join("");var Ut=nt.indexOf(or);nt=nt.replace(new RegExp(escapeRegExp(or),"g"),function(cr,fr){return fr===Ut?".":""});var tr=splitDecimal(nt,$t),nr=tr.beforeDecimal,rr=tr.afterDecimal,ar=tr.addNegation;return jt.end-jt.start<Nt.end-Nt.start&&nr===""&&lr&&!parseFloat(rr)&&(nt=ar?"-":""),nt}function getCaretBoundary(nt,et){var at=et.prefix;at===void 0&&(at="");var mt=et.suffix;mt===void 0&&(mt="");var $t=Array.from({length:nt.length+1}).map(function(){return!0}),Ct=nt[0]==="-";$t.fill(!1,0,at.length+(Ct?1:0));var Dt=nt.length;return $t.fill(!1,Dt-mt.length+1,Dt+1),$t}function validateAndUpdateProps(nt){var et=getSeparators(nt),at=et.thousandSeparator,mt=et.decimalSeparator,$t=nt.prefix;$t===void 0&&($t="");var Ct=nt.allowNegative;if(Ct===void 0&&(Ct=!0),at===mt)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+at+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+mt+` (default value for decimalSeparator is .)
     `);return $t.startsWith("-")&&Ct&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+$t+`
      allowNegative: `+Ct+`
    `),Ct=!1),Object.assign(Object.assign({},nt),{allowNegative:Ct})}function useNumericFormat(nt){nt=validateAndUpdateProps(nt),nt.decimalSeparator,nt.allowedDecimalSeparators,nt.thousandsGroupStyle;var et=nt.suffix,at=nt.allowNegative,mt=nt.allowLeadingZeros,$t=nt.onKeyDown;$t===void 0&&($t=noop);var Ct=nt.onBlur;Ct===void 0&&(Ct=noop);var Dt=nt.thousandSeparator,Ft=nt.decimalScale,Nt=nt.fixedDecimalScale,jt=nt.prefix;jt===void 0&&(jt="");var Lt=nt.defaultValue,Vt=nt.value,er=nt.valueIsNumericString,ir=nt.onValueChange,or=__rest(nt,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),lr=getSeparators(nt),dr=lr.decimalSeparator,pr=lr.allowedDecimalSeparators,hr=function(ar){return format(ar,nt)},vr=function(ar,cr){return removeFormatting(ar,cr,nt)},br=isNil(Vt)?Lt:Vt,xr=er??isNumericString(br,jt,et);isNil(Vt)?isNil(Lt)||(xr=xr||typeof Lt=="number"):xr=xr||typeof Vt=="number";var Sr=function(ar){return isNotValidValue(ar)?ar:(typeof ar=="number"&&(ar=toNumericString(ar)),xr&&typeof Ft=="number"?roundToPrecision(ar,Ft,!!Nt):ar)},Er=useInternalValues(Sr(Vt),Sr(Lt),!!xr,hr,vr,ir),$r=Er[0],Cr=$r.numAsString,kr=$r.formattedValue,gr=Er[1],Ut=function(ar){var cr=ar.target,fr=ar.key,sr=cr.selectionStart,Yt=cr.selectionEnd,ur=cr.value;if(ur===void 0&&(ur=""),(fr==="Backspace"||fr==="Delete")&&Yt<jt.length){ar.preventDefault();return}if(sr!==Yt){$t(ar);return}fr==="Backspace"&&ur[0]==="-"&&sr===jt.length+1&&at&&setCaretPosition(cr,1),Ft&&Nt&&(fr==="Backspace"&&ur[sr-1]===dr?(setCaretPosition(cr,sr-1),ar.preventDefault()):fr==="Delete"&&ur[sr]===dr&&ar.preventDefault()),pr!=null&&pr.includes(fr)&&ur[sr]===dr&&setCaretPosition(cr,sr+1);var _r=Dt===!0?",":Dt;fr==="Backspace"&&ur[sr-1]===_r&&setCaretPosition(cr,sr-1),fr==="Delete"&&ur[sr]===_r&&setCaretPosition(cr,sr+1),$t(ar)},tr=function(ar){var cr=Cr;if(cr.match(/\d/g)||(cr=""),mt||(cr=fixLeadingZero(cr)),Nt&&Ft&&(cr=roundToPrecision(cr,Ft,Nt)),cr!==Cr){var fr=format(cr,nt);gr({formattedValue:fr,value:cr,floatValue:parseFloat(cr)},{event:ar,source:SourceType.event})}Ct(ar)},nr=function(ar){return ar===dr?!0:charIsNumber(ar)},rr=function(ar){var cr=ar.currentValue,fr=ar.lastValue,sr=ar.formattedValue,Yt=ar.currentValueIndex,ur=ar.formattedValueIndex,_r=cr[Yt],yr=sr[ur],wr=findChangeRange(fr,cr),Ir=wr.to,Or=function(Ar){return vr(Ar).indexOf(".")+jt.length};return Vt===0&&Nt&&Ft&&cr[Ir.start]===dr&&Or(cr)<Yt&&Or(sr)>ur?!1:Yt>=Ir.start&&Yt<Ir.end&&pr&&pr.includes(_r)&&yr===dr?!0:_r===yr};return Object.assign(Object.assign({},or),{value:kr,valueIsNumericString:!1,isValidInputCharacter:nr,isCharacterSame:rr,onValueChange:gr,format:hr,removeFormatting:vr,getCaretBoundary:function(ar){return getCaretBoundary(ar,nt)},onKeyDown:Ut,onBlur:tr})}function NumericFormat(nt){var et=useNumericFormat(nt);return React.createElement(NumberFormatBase,Object.assign({},et))}function NumericFormatInput(nt){const{value:et,decimals:at,placeholder:mt,style:$t,onChange:Ct,maxValue:Dt,minValue:Ft=0,inputAllowed:Nt=!0,prefix:jt,...Lt}=nt,Vt=er=>{var or;const ir=(or=er==null?void 0:er.target)==null?void 0:or.value;if(ir){if(ir.startsWith(".")){Ct(ir.slice(1,ir.length));return}try{if(d$1(ir).eq(0)){Ct("0");return}}catch(dr){console.log("🚀 ~ handleChange ~ error:",dr)}let lr=ir.replace(/^0+$/,"0").replace(/^0+(?!\.\d+$)/g,"").replace(/,/g,"")||"";if(lr.startsWith("-")){Ct("");return}jt&&(lr=lr.replace(jt,"")),Dt!==void 0&&d$1(lr).gt(Dt)?lr=Dt.toString():Ft!==void 0&&d$1(lr).lt(Ft)&&(lr=Ft.toString()),Ct(String(lr))}else Ct("")};return jsxRuntimeExports.jsx(NumericFormat,{value:et,disabled:!Nt,placeholder:mt,decimalScale:at,prefix:jt,allowLeadingZeros:!0,thousandSeparator:",",onMouseDown:er=>{cancelBubble(er)},isAllowed:er=>!er.value.startsWith("-"),onChange:Vt,...Lt,style:{...$t,cursor:Nt?"text":"not-allowed",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontFeatureSettings:"tnum",fontVariant:"tabular-nums"}})}const GhostLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA6RJREFUWEfNl2von2MYxz/fbdnCvBA1ipKMcopFEXOYGCWxYmi1N8KmyCEph/bCqRSWkawZy8ihkY1lSu3NbHthYjO1lReIlpkmYw5fz7Wu5+/e7//8fr9nz2juV7/fdd/X9/re132dHtFx2Z4AzEn1ZyX92gVKw5Rsj5H0V+8526cAs1O+WNLnw7Ca9gcSsH0yMBdYK+mlEsD26cCslC2R9GnP/pXAScAySVv6kRtGYCZwUSovlLS+BhpEwPapwIw8u07Se10JTAbuSuUfgQcl7Y7//QjYPgi4DTiseJ6vOhFIQzcDZybAcknvpvx44NaUPydpa8rDYxekfJOk1wfFRpsgPAKYB4wDdki6Nw2NKZ7nozpQbYfHJgJ/AM9I2tGKQLr0DCDebFNPQE0DrgXWSFo8CND29cCJwEpJH/fgHFMFZQTvF7XH9nggUg2IKB+bCmuBpZK2FUE3oU2uJ9b4ylO7Ct2IhwuBE1IWaf10eG3kCWzHW9dvF+d+rxRekfRBl/wujEf8TC0uF1sbJa2MH3vFgO1zgRuAwxMg3nF2UyFqQ8p23Pym4uxOYLWkzbVsVBDaHg9EEbkM2CBpQRtjTWfyOa4GJgGfAOslhWdH1tAs6Gq8rd6BJ2D7YOC0zPOa+E8ZKKOaUNub9aRfXPQoIDpovQL7W9meX6XgcQ3AL0t6o4vBXh3bUV/OasD64X9B4MA+wb/h4v3B6JsFtsdK+nN/wNvoNhWiiNQYRK6rhorPgPu6ErEd+K8CEYTRa56S9EvfQmT7YuAW4Mji0ExJ37e5TUP0H1KV4m+AaHax4vcDkt4cVYptR5+fXoBEyYxBY1kX47WO7egFjwBR4uv1oqTb40/djqMNR3eKoSPW6jT+XQE0TlI0p4HLdmBMkvR1oXss8HDVD65K2TZJMVH90w1tnwOcB6yStKG0YjsGzHuAtyU9NoiB7aXZ+++XtKgHJ/AjvmJYWb4XgX6gtqOEvlW5MYbN7ZIujbPZ6epW+0K07Mgc4EsgastvwPmlJ5psDG1Gth8HYiSL9ZqkJ5LA2cCSlM+StC7ldwN3pnyFpHIeGMVh2HfBlKqJPJ9a24FrJP2chi6PtMq9OyS9n/K4fcTQ0bk3Q9Kafh4eRiDePepBrIckrSgCq5FAkoghpB5k3qnSuB7f99kDEZiPVrNijN0xmo8s230JJIknqwn7ivhIkbSqkwf6KaWBS4pbzpX04aDz/wWBQ2NqTuAb69jYVxJ/A8eXcdbPzepuAAAAAElFTkSuQmCC",PrimaryLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAbKADAAQAAAABAAAAbAAAAAD529oeAAAJzUlEQVR4Ae1dz4sURxj9undNVkLMikSIoJ5zCYSQy6oQFQNBE5ND9p6jxvwAYf+IgBCj0WPu5pCYuJeMPwLqXiQEctmzK6wgSH4RNHHdzns1U2PP7MzO7E5V12uYRu2enpn6Xr3X1V399fuczGq+XPit2P70sR0tMjuCruyxwnZZhr9cClvG9jK2lrLCGhNTNn/ytex3915N/8lqitvO/1J8sLpqnxSFHUAfJofsx0qW2c08t3On3si+G/I7Uh+rnWDn7hT7CrMvINTMKExCuAV0fu6TN7Pbo7RT9XdrI9ilopi4/4udsVX7LChJuZ195Q07PZtlT4O2G6mxWgj2za/F9F8rdgnXJF6nwi+ZNbZN2uxHr2d/hG88bIvygrXEWoBYr4bteldrmS1CtBl10fIu2FIveRpsjay4YrHXOCAYizGlSOgCIy2Yu2bFOg12EeFeIpaL2es9kX2yp0TOBlcLu5WCpzyz/aqzR9kRxql7CrEYM2XsQX2WFIw3xaPeZw3q+HrvMzYxrPeZVO9JCsYMRipCfFwFDB5LeS13DWNu8MljewCQw6abyv0Jub2yZcp2quUe5UbYk3/tmIBYFH6yhSXkQTByW3KCYcjHyWZsgiolLB6+nGAAttuDE1grYXF06AnG51kqixKWFid6gvmHjwqiKWFRFQz3QLhv1ViUsHhG5EYYLvT3PbjUayUsngs5wVoeDI8v7brpB0mLoSu6nmAwzHRhTPlSCYvjQU4wXMCuplSoHJtOq/JrhW05wbY8b1dAzIoAOSu0xQng6IAgJxhzd7SidaBM8IIY1PKIpEFOMAcKvsEEGnWEpHexY4fIC8xcNZev7hS3Uz0To2fx0zezfYrMSI4wEoUjaS4VYSljD+qzrGDOUwGT56AOBH8fMVX9HOyrrGAER0cuhlp1U2vEcjEZXHSRFoz2aTpyIdpidP6aRtJZdcu2tGAUiU5cOnKjjrSmVVve9Us+ZGeJBFdexsUQTTZqI5gXb1xu5Jmo2Xpc0FczwTxcZ4uD0wqnCpp3duPxZ6+S2XtIKjeYp1RMN/m+DLPe8CnxxJViuz21oyQIdcV7kNGmB8P7MJaxbxn7lkiQTdj8xWP1rikehsTyZ27eLbb/a6i55gFUoOaa3HirAWuuzdVdL4G/xvNm8wf2boyfoQX7+EfYp+nIzewAUkZDmTyR4lkB6JsZ8nJfv1vPmuKyGOttX7uHmuunm+Mnn7Bzh3cPx89AwU5dRhUJa4ptxJpiswXcQ8ydP16vmuL1ROJ71+8W+/As6AscmCPVXGMgLGAUzB3auz4/fQXjNPrnH+wMhApaU4yAZ996rz41xf0EK8DPtSU7g5KooPyg1Ons4T12OutTc91TsM9vFNP//W3QLI4LF6fKxnMv2uyXB/VrinsJduP3YvrJX3Frrrdss9mD29fys0awllgLECtqmSpEW4RoM3UTjWKt/GkLOPPE5cdscfIlm+kWrSM1xdNga2RFBcOjlgcEYzFmr6NYcR9PgxxZscVy/OCAcLG6+OkQzF2zIp0GewnAUy5j9npPcR+vWZhcVFesgVguZomM9imRs0H8zyJJaooxxParzx7dbDBRzfUkaq797LE9wjh1LwlZ6WbK2MN21E3dh/1w4M+VYzvB3E3xiPdZo2DkPR4xjNJGzO/ypnjk+6xRAOIez2FAG04wl8EYpcEA31XA0K8bLoPR782K9nsMGXOD2ao9wARgqHRTLHxMYxW57VTLPTI3+Ng0+Jky25nnq3YstVg8CIiBWGIdEJtt95Hp8EMs4KjCaeoA1pSweKiYRlc3jfdB+6yJhdcwpTpeJSxN2gohfoAlbz3P6qNptbuVsJR67p/1lXYl29zFESYFKBkV/QL7h4/93q9yP7DkuAfCH41FCUubEaGaayhV4PHLuKa4LU7vDZmaa8C7n9OD0Rtn9XuVsJR6L8MPMC1z0rFUApd0UwlLm4hMhx/YCJZyZBiutsEl3sA1rLrChyH7Ckwy/ODy1chXc7vCtNCQ+KN9zGGALS5agE02vNV0+KEtLne5O1jRNtmfcF8DBrU8IjvnfIMi/BCLy9bTNxiO+c21pIChH3L6Bvu9V9V+jwGnxeZy8jJqihM9EwOIhQvHNWuKPT8/3S1uJ3smBs/i23ub/LgRRlDYSFZTnDK2F2TQmibPQZ+J9X45dlsweipwpFdeU8yY6n4OCkFPBU2esUTp1y5jej8HP9MWjC/oyMVsrbKpNWMxJmPXYaEjF/dClfHDWC5miZwOwVjfS0cuiIxeU8wYjKVeU1ziymifpiMXZ4X4/CCGi9Vl2e4QjODoxKUjN+ZIY9t1dP2SHzpx6ciNOtLATy/XL+PjYOm90JE7LobozQ33ShVDlGGOy43KbKzdlik36oY2LujrZqTztUxBXycsM9ri6G5qGWZ2tx7r+6fWrmQW37mHi2ODeUrFdFN3n0K+pi2O7iZca1gyS49Kr5JZV3PNPGW0ktmQnQrZ1tEL8A3mdhQ/bnPE11wjY+MOIJDWrrnGf6fXmFq1+fmTG6spDok1RFt9Jx0hGo/ZxqGLqCku3K8gHUCcYU2wfCpxEzej566fGK6mOGYfNtN27QQ7eLHYh1NNkJprzJHnbpxYv6Z4M6TG/E5tBPvwUjHx8GGcmuIdO+z0t7Pj33EOdqC9/00x/cfjuDXF01M2+/1Ha2uKg3UiUEPyI8yJ9cgW0N/YZbyL01ttRl20NampQAdCkGZ4GnQjK75YxPsqYzFmEPCRGpEWjNcsTDCqK0ZALBczEtkhmpU9JXI2iBKkWyE6udE2kJzerzp71B1hmLpvlOhgn08Ze0AnJAXjTXEqfwn5YmxiGMBdkrclBWtlMJIQ4oMqYPBYymu5axhzg/+gphggh003lfsTcnvlBdQUq+Ue5UbYo0znd5xbWEIeBCO3JScYrh/VTeMH0KeExUNVFEymzhmCyWCRFUypzlkJi6xgOKr902uPMdlaCYsnQe6UiGdU4ElkUcLSokROMJyGZGqKlbD4Q1hOMKU6ZyUssoLhqF7y4FKvlbB4LuRGGDLlMjXFdFp5olTWcoJtLXR+x5m2OBWhPA45wVq5u/Q117DDqeURKZqcYA4UfIP+iEq1pncxVez14spl6z3YgxfS1lzfOKlZcy05wpxoMHl68Spfp4w9oLOygtFTkaqmWNXPQS1lBSM4OnKjVjoySHlB5aOLWd4nti17DfM8jY2knonmWnqEESKduHTkRh1pGFl1cP2SD3nBvGgv77B3YlzT2CbbVrdokwcu8qfEJsxn/47LjZ5xUautcUFfreR6Bpa2OLqb8NTzCP66mmv/pBinj2bJLGqusd1gnlIx3fSsN4O3/geTqWMhW4ldAwAAAABJRU5ErkJggg==",spin=keyframes$1`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`,imageMap={primary:PrimaryLoading,ghost:GhostLoading};function Spinner({size:nt="20px",variant:et="primary",wrapStyle:at={}}){return jsxRuntimeExports.jsx(Center,{w:"100%",h:"100%",...at,children:jsxRuntimeExports.jsx(Image$1,{boxSize:nt,src:imageMap[et],alt:"Loading",animation:`${spin} 1s linear infinite`})})}const alertTheme={baseStyle:{zIndex:999999,button:{color:"orange"},container:{zIndex:999999,bg:"none"},icon:{color:"text_paragraph"},spinner:{color:"text_paragraph"},title:{color:"text_caption",fontSize:"md"},description:{color:"text_paragraph",fontSize:"sm"}},variants:{subtle:{}},defaultProps:{variant:"subtle"}},baseStyle$1={fontWeight:"normal",borderRadius:"12px",fontFamily:"Inter",minW:"unset !important",_focusVisible:{boxShadow:"none",outline:"none"}},variants={solid:{bg:"primary",minW:"unset !important",_hover:{bg:{base:"",lg:"primary_hover"},_disabled:{bg:"primary_disabled",color:"primary_gray"}},_active:{bg:"primary_hover"},_disabled:{opacity:1,bg:"primary_disabled",color:"primary_gray",_hover:{bg:"unset",color:"unset",opacity:1}},color:"block_color"},outline:{bg:"button_outline_bg",border:"1px solid ",borderColor:"border !important",color:"primary",minW:"unset !important",_hover:{borderColor:"border",bg:{base:"",lg:"button_outline_hov_bg"},color:{base:"",lg:"primary"}},_active:{borderColor:"border",bg:"button_outline_hov_bg",color:"primary"},_disabled:{opacity:1,bg:"button_outline_disabled_bg",color:"primary_gray",border:"1px solid",borderColor:"border",_hover:{opacity:1,color:"primary_gray",bg:"button_outline_disabled_bg !important"}}},ghost:{bg:"button_ghost_bg !important",borderRadius:"8px",border:"1px solid",borderColor:"border !important",color:"primary_gray",minW:"unset !important",_hover:{border:{base:"",lg:"1px solid"},borderColor:{base:"",lg:"border !important"},bg:{base:"",lg:"button_ghost_hov_bg !important"},color:"primary_gray"},_active:{border:"1px solid",borderColor:"border !important",bg:"button_ghost_hov_bg !important",color:"primary_gray"},_disabled:{opacity:1,border:"1px solid",borderColor:"border !important",bg:"button_ghost_disabled_bg !important",color:"primary_gray",_hover:{opacity:1,bg:"button_ghost_disabled_bg !important",color:"primary_gray"}}}},buttonTheme={baseStyle:baseStyle$1,variants,defaultProps:{size:"md",variant:"solid"},sizes:{lg:{fontWeight:"550",height:"48px"},md:{fontWeight:"400"}}},cardTheme={baseStyle:{container:{borderRadius:"16px",paddingLeft:"16px",paddingRight:"16px",paddingTop:"20px",paddingBottom:"20px"},body:{color:"text_paragraph",padding:"0px,0px,0px,0px"},header:{color:"text_caption"},footer:{}},variants:{filled:{container:{bg:"card_bg"}},outline:{container:{bg:"card_bg"}}},defaultProps:{variant:"filled"}},checkboxTheme={baseStyle:{icon:{},container:{},control:{bg:"checked_bg",border:"0px",borderRadius:"4px",color:"primary",_hover:{bg:"checked_bg",color:"primary"},_checked:{bg:"checked_bg",color:"primary"}},label:{color:"text_caption",_checked:{color:"primary"}}}},drawerTheme={baseStyle:{overlay:{bg:"block_color_opacity.80",backdropFilter:"blur(10px)"},dialogContainer:{padding:{md:"0 8px",lg:"0px"}},dialog:{bg:"block_color_opacity.93",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)"},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},baseStyle={fontFamily:"Inter"},formTheme={baseStyle},headingTheme={baseStyle:{fontFamily:"Inter",color:"text_caption"}},inputTheme={baseStyle:{addon:{"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},field:{fontFamily:"Inter","::placeholder":{color:"text_paragraph"},_light:{"::placeholder":{color:"text_paragraph"}}}},variants:{unstyled:{field:{color:"text_caption",fontSize:"2xl",_disabled:{color:"text_paragraph",opacity:1}},"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},outline:{field:{bg:"bg_secondary",color:"text_caption",border:"1px",borderColor:"border",borderRadius:"16px",fontSize:"2xl",height:"52px",width:"100%",_hover:{borderColor:"border",bg:"bg_secondary"},"::placeholder":{color:"text_paragraph"},_focusVisible:{borderColor:"primary",boxShadow:"0px 1px 0px 0px primary"}},addon:{height:"100%"}}},defaultProps:{variant:"unstyled"}},menuTheme={baseStyle:{button:{bg:"bg_secondary",color:"text_paragraph"},list:{bg:"bg_secondary",p:"16px",borderRadius:"12px",backdropFilter:"blur(20px)",border:"1px solid",borderColor:"border",boxShadow:"unset !important"},item:{bg:"none",color:"text_paragraph",fontSize:"sm"},groupTitle:{},icon:{},command:{},divider:{}}},modalTheme={baseStyle:{overlay:{bg:"rgba(0,0,0,0.8)"},dialogContainer:{top:"28px",bottom:"28px",overflowY:"scroll",padding:{base:"0 8px 56px",lg:"0px 0 56px"}},dialog:{bg:"background",border:"1px solid",borderColor:"border",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)",transition:{duration:.1}},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},popoverTheme={baseStyle:{popper:{bg:"transparent",color:"text_paragraph",borderRadius:"0px",border:"0px solid",borderColor:"border",_focus:{outline:"none !important",boxShadow:"unset !important"}},content:{bg:"bg_secondary",border:"1px solid",borderColor:"border",borderRadius:"8px",_focus:{outline:"unset",boxShadow:"unset !important"}},header:{color:"text_caption",fontSize:"12px"},body:{color:"text_paragraph",borderRadius:"8px"},footer:{color:"text_paragraph"},closeButton:{color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"}}}},progressTheme={baseStyle:{track:{borderRadius:"8px",bg:"transparent",border:"0px",borderColor:"none"},filledTrack:{bg:"process_bg",borderRadius:"8px"}},defaultProps:{}},$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),skeletonTheme={baseStyle:{[$startColor.variable]:"var(--chakra-colors-loading_gradient_start)",[$endColor.variable]:"var(--chakra-colors-loading_gradient_end)",background:"background",width:"96px",height:"16px",borderRadius:"4px",opacity:"0.5"}},sliderTheme={baseStyle:{container:{},track:{bg:"bg_four",h:"4px",borderRadius:"4px"},thumb:{w:"12px",h:"12px",bg:"primary",borderRadius:"10px",border:"1px",borderColor:"bg_four",position:"relative",_before:{content:"''",width:"6px",height:"6px",borderRadius:"100%",background:"bg_four",position:"absolute",left:"50%",top:"50%",marginLeft:"-3px",marginTop:"-3px"},_focusVisible:{boxShadow:"sm"}},filledTrack:{bg:"primary"}},defaultProps:{colorScheme:"primary"}},stepperTheme={baseStyle:{stepper:{},title:{fontSize:"14px",color:"text_caption",opacity:.5,"&[data-status=complete]":{color:"primary",opacity:1},"&[data-status=active]":{color:"primary",opacity:1}},description:{},number:{},step:{minH:"66px",display:"flex",justifyContent:"flex-start",alignItems:"center"},icon:{},indicator:{w:"28px",h:"28px",borderRadius:"8px","&[data-status=complete]":{bg:"none",borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=active]":{borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=incomplete]":{bg:"none",borderWidth:"1px",borderColor:"border",color:"#FFCA680"}},separator:{marginTop:"14px","&[data-orientation=vertical]":{w:"1px",h:"32px",bg:"primary",maxH:"auto"}}}},switchTheme={baseStyle:{thumb:{w:"14px",h:"14px",borderRadius:"7px",bg:"switch_thumb",_checked:{bg:"switch_thumb"}},track:{align:"center",w:"28px",h:"14px",bg:"switch_inactive_bg",p:"1px",border:"1px solid",borderRadius:"9px",borderColor:"border !important",_checked:{bg:"switch_active_bg"},_focusVisible:{boxShadow:"unset !important"}}}},tableTheme={baseStyle:{fontFamily:"Inter"},sizes:{sm:{th:{fontSize:"12px"},td:{fontSize:"14px"}}},variants:{unstyled:{table:{},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",textTransform:"none",fontSize:"14px",p:"8px !important",_first:{pl:"16px !important"},_last:{textAlign:"right",pr:"16px !important"}},tbody:{tr:{td:{textAlign:"right",color:"text_caption",fontFamily:"Inter",p:"8px !important",_first:{pl:"16px !important",textAlign:"left",borderRadius:"12px 0 0 12px"},_last:{pr:"16px !important",borderRadius:"0 12px  12px 0"}},_hover:{bg:"primary_opacity.10",borderRadius:"12px",backdropFilter:"blur(10px)"}}}},simple:{table:{borderCollapse:"separate",borderSpacing:"0px 4px"},th:{fontFamily:"Inter",textTransform:"none",fontSize:"14px",fontWeight:"400",borderBottom:"0px",padding:"0px"},tr:{_last:{td:{border:"none"}}},td:{fontFamily:"Inter",borderColor:"border",padding:"16px 0px"}},simple_list:{table:{borderCollapse:"separate",borderSpacing:"0px 0px"},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",fontSize:"14px",textTransform:"none",textAlign:"right",padding:"12px 8px",_first:{pl:"16px",textAlign:"left"},_last:{textAlign:"right",pr:"16px"}},tbody:{tr:{td:{fontFamily:"Inter",bg:"bg_secondary",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"border",textAlign:"right",padding:"16px 8px",_first:{pl:"16px",borderRadius:"16px 0 0 16px",borderLeft:"1px solid",borderColor:"border",textAlign:"left"},_last:{pr:"16px",borderRadius:"0 16px  16px 0",borderRight:"1px solid",borderColor:"border"}},_hover:{bg:"primary_opacity.10",borderRadius:"16px",backdropFilter:"blur(10px)"}}}},striped:{table:{},th:{fontFamily:"Inter",color:"text_paragraph",textTransform:"none",padding:"16px",border:"none"},td:{fontFamily:"Inter",color:"text_caption",border:"none !important",padding:"16px"}}},defaultProps:{variant:"unstyled"}},tabsTheme={variants:{}},textTheme={baseStyle:{fontSize:"sm",color:"text_paragraph",fontFamily:"Inter"}},tooltipTheme={baseStyle:{bg:"bg_secondary",color:"text_paragraph",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"9px 12px",fontSize:"12px",boxShadow:"unset"}},components={Button:buttonTheme,Switch:switchTheme,Input:inputTheme,Text:textTheme,Heading:headingTheme,Checkbox:checkboxTheme,Progress:progressTheme,Slider:sliderTheme,Card:cardTheme,Menu:menuTheme,Modal:modalTheme,Tooltip:tooltipTheme,Popover:popoverTheme,Stepper:stepperTheme,Skeleton:skeletonTheme,Table:tableTheme,Alert:alertTheme,Drawer:drawerTheme,FormControl:formTheme,Tabs:tabsTheme},typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},foundations={typography},colors={background:"#161616",bg_primary:"#161616",bg_secondary:"#0F0F0F",bg_third:"#191919",bg_four:"#202224",bg_fifth:"#1A1D21",bg_six:"#191B1E",bg_seven:"#171717",menu_item_bg:"#181818",menu_item_hover_bg:"#1f1f1f",block_color:"#000000",text_caption:"#FFFFFF",text_paragraph:"#909CA4",text_highlight:"#72C1F7",top_coin_address_text:"#86FFE4",primary:"#75C8FF",primary_gray:"#7F98A7",primary_green:"#68FFD8",primary_yellow:"#FFCA68",primary_red:"#FF5073",primary_blue:"#62AADB",light_coral:"#AE6161",quote_green:"#027658",text_green:"#AAFFC9",primary_hover:"#8DD2FF",primary_disabled:"#25303A",button_outline_bg:"#0F0F0F",button_outline_hov_bg:"rgba(114,193,247,0.1)",button_outline_disabled_bg:"#25303A",button_ghost_bg:"#1A1C25",button_ghost_hov_bg:"#242733",button_ghost_disabled_bg:"#25303A",switch_active_bg:"#72C1F7",switch_inactive_bg:"#768691",switch_thumb:"#FFFFFF",border:"#2A3238",button_outline_border:"#00334C",input_error_border:"#FC8181",h5_route_border:"#8BABBE",h5_router_percentage_bg:"#22333D",token_inactive_border:"#2b3239",token_active_border:"#4F86AB",trade_input_border_light:"#344E61",checked_bg:"#1A1C25",process_bg:"#3C60F7",process_bg_value:"#2CDAB0",card_bg:"#192128",card_bg_hover:"#1D262E",form_card_bg:"#1D1F21",input_bg:"#141414",input_disabled:"#121719",launch_title:"#C3F8E6",scroll_header_bg:"linear-gradient( 270deg, #003D4C 0%, #170033 100%)",scroll_header_border:"linear-gradient( 270deg, #005B99 0%, #480077 100%)",ranking_table_bg:"linear-gradient( 0deg, #151A29 0%, #0F0F0F 100%)",market_table_bg:"linear-gradient( 0deg, #152429 0%, #0F0F0F 100%)",status_text:"linear-gradient(to left, #4CB6FF 0%, #7CFFD0 100%)",ranking_list_h5_bg:"linear-gradient( 180deg, #0F0F0F 100%, #151A29 0%)",trade_icon_shadow:"inset 0px 0px 6px 0px rgba(255,255,255,0.2)",bubble_bg_created:"#003254",bubble_bg_complete:"linear-gradient( 270deg, #055C45 0%, #002E73 100%)",bubble_bg_buy:"#006147",bubble_bg_sell:"#46121C",plus_mode_color:"linear-gradient(90deg, #c7f9d4, #eff7d0 48%, #f8beff)",beta_tag_color:"linear-gradient( 90deg, #C6F9D4 5%, #FFFDB3 30%, #D5ECFA 66%, #FBD7FF 87%, #F7B8FF 100%)",beta_tag_border_color:"linear-gradient(90deg, rgba(198, 249, 212, 1), rgba(255, 253, 179, 1), rgba(213, 236, 250, 1), rgba(251, 215, 255, 1), rgba(247, 184, 255, 1)) 1 1",circle_progress_color:"#72C1F7",circle_progress_track_color:"#333333",crop_slider_tracker:"#1F272D",status_tag_bg:"#313336",progress_track:"linear-gradient( 270deg, #22A5FF 0%, #7CFFD0 100%)",skeleton_light:"linear-gradient( 270deg, #606060 0%, #313131 100%)",pending_yield_bg:"#192128",position_status_bg:"rgba(118, 200, 255, 0.1)",position_farms_bg:"rgba(203, 150, 255, 0.2)",position_farms_color:"rgba(203, 150, 255, 1)",modal_bg:"rgba(32, 32, 32, 0.8)",primary_opacity:{10:"rgba(117,200,255,0.1)",50:"rgba(117,200,255,0.5)",60:"rgba(117,200,255,0.6)"},primary_green_opacity:{10:"rgba(104,255,216,0.1)"},primary_yellow_opacity:{10:"rgba(255,202,104,0.1)"},primary_red_bg:"rgba(63, 35, 40,0.8)",primary_red_opacity:{10:"rgba(255,80,115,0.1)"},text_paragraph_opacity:{20:"rgba(144,156,164,0.2)"},text_highlight_opacity:{10:"rgba(114,193,247,0.1)",20:"rgba(114,193,247,0.2)",30:"rgba(114,193,247,0.3)"},block_color_opacity:{4:"rgba(0,0,0,0.04)",10:"rgba(0,0,0,0.1)",50:"rgba(0,0,0,0.5)",93:"rgba(0,0,0,0.93)",80:"rgba(0,0,0,0.8)"},white_color_opacity:{10:"rgba(255,255,255,0.1)",50:"rgba(255,255,255,0.5)",80:"rgba(255,255,255,0.8)"},frosted_glass:{1:"rgba(59,59,59,0.1)",5:"rgba(218,218,218,0.05)"},swap_bg_primary:"#1B242C",swap_bg_secondary:"#161A1E",swap_card_bg:"#161A1E",swap_card_bg_2:"rgba(114, 193, 247, 0.05)",swap_border:"rgba(114, 193, 247, 0.2)"},styles={global:{"@font-face":{fontFamily:"Inter",fontWeight:"normal",fontStyle:"normal",fontDisplay:"swap"},"html body":{width:"100%",background:"background",fontFamily:"Inter"},body:{lineHeight:1},label:{fontFamily:"Inter"},button:{fontFamily:"Inter",_focusVisible:{boxShadow:"none",outline:"none"}},input:{fontFamily:"Inter",caretColor:"var(--chakra-colors-text_caption) !important"},".recharts-cartesian-axis-line":{display:"none"},".recharts-sector:focus":{outline:"none !important"},".recharts-cartesian-axis-ticks":{marginTop:"4px"},".chakra-input__right-element":{height:"100% !important"},".chakra-toast__inner":{button:{color:"text_paragraph",_hover:{color:"text_caption"}}},".exchange":{w:"40px",h:"44px",cursor:"pointer",bgSize:"100% auto",bgRepeat:"no-repeat",bgPosition:"center center",mt:"-20px",mb:"-2px",zIndex:9},".swap-exchange":{bgImage:'url("/images/btn_swap@2x.png")',_hover:{bgImage:'url("/images/btn_swap_hov@2x.png")'}},".liquidity-add":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add_hov@2x.png")'}},".position-img":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add@2x.png")'}},".confirm-order-img":{w:"30px",h:"33px",bgImage:'url("/images/btn_down@2x.png")',_hover:{bgImage:'url("/images/btn_down@2x.png")'}},".aprTooltip_btn":{display:"flex",alignItems:"center"},".delimiter":{fontFamily:"Inter",fontWeight:"normal"},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},".loading_animation":{animation:"rotate 1s linear infinite"},".price-historical-selection":{display:"none !important"},".price-historical-y-axis text":{display:"none"},".price-historical-y-axis line":{display:"none"},".price-historical-y-axis path":{display:"none"},".price-historical-x-axis line":{display:"none"},".price-historical-x-axis path":{display:"none"}}},config$1={initialColorMode:"dark",useSystemColorMode:!1},textStyles={caption:{fontWeight:400,lineHeight:"100%",color:"text_caption",fontFamily:"Inter"},paragraph:{fontWeight:400,lineHeight:"100%",color:"text_paragraph",fontFamily:"Inter"}},breakpoints={base:"0px",md:"500px",lg:"810px",xl:"1200px","2xl":"2500px"},theme=extendTheme({config:config$1,styles,textStyles,breakpoints,...foundations,components,semanticTokens:{colors}});function Block({children:nt,...et}){return jsxRuntimeExports.jsx(Box,{as:"div",w:"100%",borderRadius:"20px",border:"1px solid",borderColor:"border",bg:"bg_secondary",p:"20px 16px",...et,children:nt})}var depsEqual=function(nt,et){return nt===void 0&&(nt=[]),et===void 0&&(et=[]),isEqual(nt,et)},createDeepCompareEffect=function(nt){return function(et,at){var mt=reactExports.useRef(),$t=reactExports.useRef(0);(at===void 0||!depsEqual(at,mt.current))&&($t.current+=1),mt.current=at,nt(et,[$t.current])}};const useDeepCompareEffect=createDeepCompareEffect(reactExports.useEffect);function TokenAvatar({coin_type:nt,size:et="38px",src:at,is_trusted:mt=!0,variant:$t,style:Ct={}}){return jsxRuntimeExports.jsx(Box,{w:et,h:et,minW:et,minH:et,maxW:et,maxH:et,borderRadius:"50%",children:jsxRuntimeExports.jsx(SingleCoinImage,{variant:$t,imageUrl:at,w:et,h:et,borderRadius:"50%",coinType:nt,p:"4px",imgBoxStyle:Ct})})}const TokenSelectModal$1=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0));function CoinSelect$1({value:nt,onSelect:et,loading:at,currentCoinKey:mt,whiteTokenList:$t,tokenStyle:Ct={},tokenSize:Dt="38px",symbolStyle:Ft={},wrapStyle:Nt={},isShowLabelTab:jt=!0,isShowCollectListBox:Lt=!0,isShowTokenListTab:Vt=!0,disabled:er=!1,openSelectTokenModal:ir,selectModalCallback:or}){const{isOpen:lr,onOpen:dr,onClose:pr}=useDisclosure(),[hr,vr]=reactExports.useState(!1),{pathname:br}=useLocation();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{w:"100%",variant:"unstyled",display:"flex",alignItems:"center",gap:"8px",onClick:()=>{ir?ir():dr(),or&&or(!0)},cursor:"pointer",onMouseEnter:()=>vr(!0),onMouseLeave:()=>vr(!1),isDisabled:er,...Nt,children:[at?jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SkeletonCircle,{w:Dt,h:Dt}),jsxRuntimeExports.jsx(Skeleton,{h:Ft.fontSize||"16px"})]}):nt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TokenAvatar,{variant:"border",src:(nt==null?void 0:nt.logo_url)||"",is_trusted:nt==null?void 0:nt.is_trusted,coin_type:nt==null?void 0:nt.coin_type,size:Dt,style:hr?{...Ct,borderColor:"token_active_border",boxShadow:"0px 0px 6px 0px #0067AD"}:Ct}),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",...Ft,children:textEllipses((nt==null?void 0:nt.symbol)||"",10)})]}):jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",fontWeight:"600",children:"Select a token"}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",svgFill:hr?"text_caption":"text_paragraph"})]}),jsxRuntimeExports.jsx(TokenSelectModal$1,{tokenInfo:nt,lastSelectedToken:(nt==null?void 0:nt.coin_type)||"",isOpen:lr,currentCoinKey:mt,whiteTokenList:$t,isShowLabelTab:jt,isShowTokenListTab:Vt&&br!=="/dca",isShowCollectListBox:Lt&&br!=="/dca",onSelectToken:xr=>{et(xr)},onClose:()=>{pr(),or&&or(!1)}})]})}const CoinSelect$2=reactExports.memo(CoinSelect$1),CoinSelect$3=Object.freeze(Object.defineProperty({__proto__:null,default:CoinSelect$2},Symbol.toStringTag,{value:"Module"}));var cryptoJs={exports:{}},core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(nt,et){(function(at,mt){nt.exports=mt()})(commonjsGlobal$1,function(){var at=at||function(mt,$t){var Ct;if(typeof window<"u"&&window.crypto&&(Ct=window.crypto),typeof self<"u"&&self.crypto&&(Ct=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(Ct=globalThis.crypto),!Ct&&typeof window<"u"&&window.msCrypto&&(Ct=window.msCrypto),!Ct&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(Ct=commonjsGlobal$1.crypto),!Ct&&typeof commonjsRequire$1=="function")try{Ct=requireCryptoBrowserify()}catch{}var Dt=function(){if(Ct){if(typeof Ct.getRandomValues=="function")try{return Ct.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof Ct.randomBytes=="function")try{return Ct.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},Ft=Object.create||function(){function hr(){}return function(vr){var br;return hr.prototype=vr,br=new hr,hr.prototype=null,br}}(),Nt={},jt=Nt.lib={},Lt=jt.Base=function(){return{extend:function(hr){var vr=Ft(this);return hr&&vr.mixIn(hr),(!vr.hasOwnProperty("init")||this.init===vr.init)&&(vr.init=function(){vr.$super.init.apply(this,arguments)}),vr.init.prototype=vr,vr.$super=this,vr},create:function(){var hr=this.extend();return hr.init.apply(hr,arguments),hr},init:function(){},mixIn:function(hr){for(var vr in hr)hr.hasOwnProperty(vr)&&(this[vr]=hr[vr]);hr.hasOwnProperty("toString")&&(this.toString=hr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),Vt=jt.WordArray=Lt.extend({init:function(hr,vr){hr=this.words=hr||[],vr!=$t?this.sigBytes=vr:this.sigBytes=hr.length*4},toString:function(hr){return(hr||ir).stringify(this)},concat:function(hr){var vr=this.words,br=hr.words,xr=this.sigBytes,Sr=hr.sigBytes;if(this.clamp(),xr%4)for(var Er=0;Er<Sr;Er++){var $r=br[Er>>>2]>>>24-Er%4*8&255;vr[xr+Er>>>2]|=$r<<24-(xr+Er)%4*8}else for(var Cr=0;Cr<Sr;Cr+=4)vr[xr+Cr>>>2]=br[Cr>>>2];return this.sigBytes+=Sr,this},clamp:function(){var hr=this.words,vr=this.sigBytes;hr[vr>>>2]&=4294967295<<32-vr%4*8,hr.length=mt.ceil(vr/4)},clone:function(){var hr=Lt.clone.call(this);return hr.words=this.words.slice(0),hr},random:function(hr){for(var vr=[],br=0;br<hr;br+=4)vr.push(Dt());return new Vt.init(vr,hr)}}),er=Nt.enc={},ir=er.Hex={stringify:function(hr){for(var vr=hr.words,br=hr.sigBytes,xr=[],Sr=0;Sr<br;Sr++){var Er=vr[Sr>>>2]>>>24-Sr%4*8&255;xr.push((Er>>>4).toString(16)),xr.push((Er&15).toString(16))}return xr.join("")},parse:function(hr){for(var vr=hr.length,br=[],xr=0;xr<vr;xr+=2)br[xr>>>3]|=parseInt(hr.substr(xr,2),16)<<24-xr%8*4;return new Vt.init(br,vr/2)}},or=er.Latin1={stringify:function(hr){for(var vr=hr.words,br=hr.sigBytes,xr=[],Sr=0;Sr<br;Sr++){var Er=vr[Sr>>>2]>>>24-Sr%4*8&255;xr.push(String.fromCharCode(Er))}return xr.join("")},parse:function(hr){for(var vr=hr.length,br=[],xr=0;xr<vr;xr++)br[xr>>>2]|=(hr.charCodeAt(xr)&255)<<24-xr%4*8;return new Vt.init(br,vr)}},lr=er.Utf8={stringify:function(hr){try{return decodeURIComponent(escape(or.stringify(hr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(hr){return or.parse(unescape(encodeURIComponent(hr)))}},dr=jt.BufferedBlockAlgorithm=Lt.extend({reset:function(){this._data=new Vt.init,this._nDataBytes=0},_append:function(hr){typeof hr=="string"&&(hr=lr.parse(hr)),this._data.concat(hr),this._nDataBytes+=hr.sigBytes},_process:function(hr){var vr,br=this._data,xr=br.words,Sr=br.sigBytes,Er=this.blockSize,$r=Er*4,Cr=Sr/$r;hr?Cr=mt.ceil(Cr):Cr=mt.max((Cr|0)-this._minBufferSize,0);var kr=Cr*Er,gr=mt.min(kr*4,Sr);if(kr){for(var Ut=0;Ut<kr;Ut+=Er)this._doProcessBlock(xr,Ut);vr=xr.splice(0,kr),br.sigBytes-=gr}return new Vt.init(vr,gr)},clone:function(){var hr=Lt.clone.call(this);return hr._data=this._data.clone(),hr},_minBufferSize:0});jt.Hasher=dr.extend({cfg:Lt.extend(),init:function(hr){this.cfg=this.cfg.extend(hr),this.reset()},reset:function(){dr.reset.call(this),this._doReset()},update:function(hr){return this._append(hr),this._process(),this},finalize:function(hr){hr&&this._append(hr);var vr=this._doFinalize();return vr},blockSize:16,_createHelper:function(hr){return function(vr,br){return new hr.init(br).finalize(vr)}},_createHmacHelper:function(hr){return function(vr,br){return new pr.HMAC.init(hr,br).finalize(vr)}}});var pr=Nt.algo={};return Nt}(Math);return at})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(mt){var $t=at,Ct=$t.lib,Dt=Ct.Base,Ft=Ct.WordArray,Nt=$t.x64={};Nt.Word=Dt.extend({init:function(jt,Lt){this.high=jt,this.low=Lt}}),Nt.WordArray=Dt.extend({init:function(jt,Lt){jt=this.words=jt||[],Lt!=mt?this.sigBytes=Lt:this.sigBytes=jt.length*8},toX32:function(){for(var jt=this.words,Lt=jt.length,Vt=[],er=0;er<Lt;er++){var ir=jt[er];Vt.push(ir.high),Vt.push(ir.low)}return Ft.create(Vt,this.sigBytes)},clone:function(){for(var jt=Dt.clone.call(this),Lt=jt.words=this.words.slice(0),Vt=Lt.length,er=0;er<Vt;er++)Lt[er]=Lt[er].clone();return jt}})}(),at})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(){if(typeof ArrayBuffer=="function"){var mt=at,$t=mt.lib,Ct=$t.WordArray,Dt=Ct.init,Ft=Ct.init=function(Nt){if(Nt instanceof ArrayBuffer&&(Nt=new Uint8Array(Nt)),(Nt instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Nt instanceof Uint8ClampedArray||Nt instanceof Int16Array||Nt instanceof Uint16Array||Nt instanceof Int32Array||Nt instanceof Uint32Array||Nt instanceof Float32Array||Nt instanceof Float64Array)&&(Nt=new Uint8Array(Nt.buffer,Nt.byteOffset,Nt.byteLength)),Nt instanceof Uint8Array){for(var jt=Nt.byteLength,Lt=[],Vt=0;Vt<jt;Vt++)Lt[Vt>>>2]|=Nt[Vt]<<24-Vt%4*8;Dt.call(this,Lt,jt)}else Dt.apply(this,arguments)};Ft.prototype=Ct}}(),at.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.WordArray,Dt=mt.enc;Dt.Utf16=Dt.Utf16BE={stringify:function(Nt){for(var jt=Nt.words,Lt=Nt.sigBytes,Vt=[],er=0;er<Lt;er+=2){var ir=jt[er>>>2]>>>16-er%4*8&65535;Vt.push(String.fromCharCode(ir))}return Vt.join("")},parse:function(Nt){for(var jt=Nt.length,Lt=[],Vt=0;Vt<jt;Vt++)Lt[Vt>>>1]|=Nt.charCodeAt(Vt)<<16-Vt%2*16;return Ct.create(Lt,jt*2)}},Dt.Utf16LE={stringify:function(Nt){for(var jt=Nt.words,Lt=Nt.sigBytes,Vt=[],er=0;er<Lt;er+=2){var ir=Ft(jt[er>>>2]>>>16-er%4*8&65535);Vt.push(String.fromCharCode(ir))}return Vt.join("")},parse:function(Nt){for(var jt=Nt.length,Lt=[],Vt=0;Vt<jt;Vt++)Lt[Vt>>>1]|=Ft(Nt.charCodeAt(Vt)<<16-Vt%2*16);return Ct.create(Lt,jt*2)}};function Ft(Nt){return Nt<<8&4278255360|Nt>>>8&16711935}}(),at.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.WordArray,Dt=mt.enc;Dt.Base64={stringify:function(Nt){var jt=Nt.words,Lt=Nt.sigBytes,Vt=this._map;Nt.clamp();for(var er=[],ir=0;ir<Lt;ir+=3)for(var or=jt[ir>>>2]>>>24-ir%4*8&255,lr=jt[ir+1>>>2]>>>24-(ir+1)%4*8&255,dr=jt[ir+2>>>2]>>>24-(ir+2)%4*8&255,pr=or<<16|lr<<8|dr,hr=0;hr<4&&ir+hr*.75<Lt;hr++)er.push(Vt.charAt(pr>>>6*(3-hr)&63));var vr=Vt.charAt(64);if(vr)for(;er.length%4;)er.push(vr);return er.join("")},parse:function(Nt){var jt=Nt.length,Lt=this._map,Vt=this._reverseMap;if(!Vt){Vt=this._reverseMap=[];for(var er=0;er<Lt.length;er++)Vt[Lt.charCodeAt(er)]=er}var ir=Lt.charAt(64);if(ir){var or=Nt.indexOf(ir);or!==-1&&(jt=or)}return Ft(Nt,jt,Vt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function Ft(Nt,jt,Lt){for(var Vt=[],er=0,ir=0;ir<jt;ir++)if(ir%4){var or=Lt[Nt.charCodeAt(ir-1)]<<ir%4*2,lr=Lt[Nt.charCodeAt(ir)]>>>6-ir%4*2,dr=or|lr;Vt[er>>>2]|=dr<<24-er%4*8,er++}return Ct.create(Vt,er)}}(),at.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.WordArray,Dt=mt.enc;Dt.Base64url={stringify:function(Nt,jt){jt===void 0&&(jt=!0);var Lt=Nt.words,Vt=Nt.sigBytes,er=jt?this._safe_map:this._map;Nt.clamp();for(var ir=[],or=0;or<Vt;or+=3)for(var lr=Lt[or>>>2]>>>24-or%4*8&255,dr=Lt[or+1>>>2]>>>24-(or+1)%4*8&255,pr=Lt[or+2>>>2]>>>24-(or+2)%4*8&255,hr=lr<<16|dr<<8|pr,vr=0;vr<4&&or+vr*.75<Vt;vr++)ir.push(er.charAt(hr>>>6*(3-vr)&63));var br=er.charAt(64);if(br)for(;ir.length%4;)ir.push(br);return ir.join("")},parse:function(Nt,jt){jt===void 0&&(jt=!0);var Lt=Nt.length,Vt=jt?this._safe_map:this._map,er=this._reverseMap;if(!er){er=this._reverseMap=[];for(var ir=0;ir<Vt.length;ir++)er[Vt.charCodeAt(ir)]=ir}var or=Vt.charAt(64);if(or){var lr=Nt.indexOf(or);lr!==-1&&(Lt=lr)}return Ft(Nt,Lt,er)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function Ft(Nt,jt,Lt){for(var Vt=[],er=0,ir=0;ir<jt;ir++)if(ir%4){var or=Lt[Nt.charCodeAt(ir-1)]<<ir%4*2,lr=Lt[Nt.charCodeAt(ir)]>>>6-ir%4*2,dr=or|lr;Vt[er>>>2]|=dr<<24-er%4*8,er++}return Ct.create(Vt,er)}}(),at.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(mt){var $t=at,Ct=$t.lib,Dt=Ct.WordArray,Ft=Ct.Hasher,Nt=$t.algo,jt=[];(function(){for(var lr=0;lr<64;lr++)jt[lr]=mt.abs(mt.sin(lr+1))*4294967296|0})();var Lt=Nt.MD5=Ft.extend({_doReset:function(){this._hash=new Dt.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(lr,dr){for(var pr=0;pr<16;pr++){var hr=dr+pr,vr=lr[hr];lr[hr]=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360}var br=this._hash.words,xr=lr[dr+0],Sr=lr[dr+1],Er=lr[dr+2],$r=lr[dr+3],Cr=lr[dr+4],kr=lr[dr+5],gr=lr[dr+6],Ut=lr[dr+7],tr=lr[dr+8],nr=lr[dr+9],rr=lr[dr+10],ar=lr[dr+11],cr=lr[dr+12],fr=lr[dr+13],sr=lr[dr+14],Yt=lr[dr+15],ur=br[0],_r=br[1],yr=br[2],wr=br[3];ur=Vt(ur,_r,yr,wr,xr,7,jt[0]),wr=Vt(wr,ur,_r,yr,Sr,12,jt[1]),yr=Vt(yr,wr,ur,_r,Er,17,jt[2]),_r=Vt(_r,yr,wr,ur,$r,22,jt[3]),ur=Vt(ur,_r,yr,wr,Cr,7,jt[4]),wr=Vt(wr,ur,_r,yr,kr,12,jt[5]),yr=Vt(yr,wr,ur,_r,gr,17,jt[6]),_r=Vt(_r,yr,wr,ur,Ut,22,jt[7]),ur=Vt(ur,_r,yr,wr,tr,7,jt[8]),wr=Vt(wr,ur,_r,yr,nr,12,jt[9]),yr=Vt(yr,wr,ur,_r,rr,17,jt[10]),_r=Vt(_r,yr,wr,ur,ar,22,jt[11]),ur=Vt(ur,_r,yr,wr,cr,7,jt[12]),wr=Vt(wr,ur,_r,yr,fr,12,jt[13]),yr=Vt(yr,wr,ur,_r,sr,17,jt[14]),_r=Vt(_r,yr,wr,ur,Yt,22,jt[15]),ur=er(ur,_r,yr,wr,Sr,5,jt[16]),wr=er(wr,ur,_r,yr,gr,9,jt[17]),yr=er(yr,wr,ur,_r,ar,14,jt[18]),_r=er(_r,yr,wr,ur,xr,20,jt[19]),ur=er(ur,_r,yr,wr,kr,5,jt[20]),wr=er(wr,ur,_r,yr,rr,9,jt[21]),yr=er(yr,wr,ur,_r,Yt,14,jt[22]),_r=er(_r,yr,wr,ur,Cr,20,jt[23]),ur=er(ur,_r,yr,wr,nr,5,jt[24]),wr=er(wr,ur,_r,yr,sr,9,jt[25]),yr=er(yr,wr,ur,_r,$r,14,jt[26]),_r=er(_r,yr,wr,ur,tr,20,jt[27]),ur=er(ur,_r,yr,wr,fr,5,jt[28]),wr=er(wr,ur,_r,yr,Er,9,jt[29]),yr=er(yr,wr,ur,_r,Ut,14,jt[30]),_r=er(_r,yr,wr,ur,cr,20,jt[31]),ur=ir(ur,_r,yr,wr,kr,4,jt[32]),wr=ir(wr,ur,_r,yr,tr,11,jt[33]),yr=ir(yr,wr,ur,_r,ar,16,jt[34]),_r=ir(_r,yr,wr,ur,sr,23,jt[35]),ur=ir(ur,_r,yr,wr,Sr,4,jt[36]),wr=ir(wr,ur,_r,yr,Cr,11,jt[37]),yr=ir(yr,wr,ur,_r,Ut,16,jt[38]),_r=ir(_r,yr,wr,ur,rr,23,jt[39]),ur=ir(ur,_r,yr,wr,fr,4,jt[40]),wr=ir(wr,ur,_r,yr,xr,11,jt[41]),yr=ir(yr,wr,ur,_r,$r,16,jt[42]),_r=ir(_r,yr,wr,ur,gr,23,jt[43]),ur=ir(ur,_r,yr,wr,nr,4,jt[44]),wr=ir(wr,ur,_r,yr,cr,11,jt[45]),yr=ir(yr,wr,ur,_r,Yt,16,jt[46]),_r=ir(_r,yr,wr,ur,Er,23,jt[47]),ur=or(ur,_r,yr,wr,xr,6,jt[48]),wr=or(wr,ur,_r,yr,Ut,10,jt[49]),yr=or(yr,wr,ur,_r,sr,15,jt[50]),_r=or(_r,yr,wr,ur,kr,21,jt[51]),ur=or(ur,_r,yr,wr,cr,6,jt[52]),wr=or(wr,ur,_r,yr,$r,10,jt[53]),yr=or(yr,wr,ur,_r,rr,15,jt[54]),_r=or(_r,yr,wr,ur,Sr,21,jt[55]),ur=or(ur,_r,yr,wr,tr,6,jt[56]),wr=or(wr,ur,_r,yr,Yt,10,jt[57]),yr=or(yr,wr,ur,_r,gr,15,jt[58]),_r=or(_r,yr,wr,ur,fr,21,jt[59]),ur=or(ur,_r,yr,wr,Cr,6,jt[60]),wr=or(wr,ur,_r,yr,ar,10,jt[61]),yr=or(yr,wr,ur,_r,Er,15,jt[62]),_r=or(_r,yr,wr,ur,nr,21,jt[63]),br[0]=br[0]+ur|0,br[1]=br[1]+_r|0,br[2]=br[2]+yr|0,br[3]=br[3]+wr|0},_doFinalize:function(){var lr=this._data,dr=lr.words,pr=this._nDataBytes*8,hr=lr.sigBytes*8;dr[hr>>>5]|=128<<24-hr%32;var vr=mt.floor(pr/4294967296),br=pr;dr[(hr+64>>>9<<4)+15]=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360,dr[(hr+64>>>9<<4)+14]=(br<<8|br>>>24)&16711935|(br<<24|br>>>8)&4278255360,lr.sigBytes=(dr.length+1)*4,this._process();for(var xr=this._hash,Sr=xr.words,Er=0;Er<4;Er++){var $r=Sr[Er];Sr[Er]=($r<<8|$r>>>24)&16711935|($r<<24|$r>>>8)&4278255360}return xr},clone:function(){var lr=Ft.clone.call(this);return lr._hash=this._hash.clone(),lr}});function Vt(lr,dr,pr,hr,vr,br,xr){var Sr=lr+(dr&pr|~dr&hr)+vr+xr;return(Sr<<br|Sr>>>32-br)+dr}function er(lr,dr,pr,hr,vr,br,xr){var Sr=lr+(dr&hr|pr&~hr)+vr+xr;return(Sr<<br|Sr>>>32-br)+dr}function ir(lr,dr,pr,hr,vr,br,xr){var Sr=lr+(dr^pr^hr)+vr+xr;return(Sr<<br|Sr>>>32-br)+dr}function or(lr,dr,pr,hr,vr,br,xr){var Sr=lr+(pr^(dr|~hr))+vr+xr;return(Sr<<br|Sr>>>32-br)+dr}$t.MD5=Ft._createHelper(Lt),$t.HmacMD5=Ft._createHmacHelper(Lt)}(Math),at.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.WordArray,Dt=$t.Hasher,Ft=mt.algo,Nt=[],jt=Ft.SHA1=Dt.extend({_doReset:function(){this._hash=new Ct.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Lt,Vt){for(var er=this._hash.words,ir=er[0],or=er[1],lr=er[2],dr=er[3],pr=er[4],hr=0;hr<80;hr++){if(hr<16)Nt[hr]=Lt[Vt+hr]|0;else{var vr=Nt[hr-3]^Nt[hr-8]^Nt[hr-14]^Nt[hr-16];Nt[hr]=vr<<1|vr>>>31}var br=(ir<<5|ir>>>27)+pr+Nt[hr];hr<20?br+=(or&lr|~or&dr)+1518500249:hr<40?br+=(or^lr^dr)+1859775393:hr<60?br+=(or&lr|or&dr|lr&dr)-1894007588:br+=(or^lr^dr)-899497514,pr=dr,dr=lr,lr=or<<30|or>>>2,or=ir,ir=br}er[0]=er[0]+ir|0,er[1]=er[1]+or|0,er[2]=er[2]+lr|0,er[3]=er[3]+dr|0,er[4]=er[4]+pr|0},_doFinalize:function(){var Lt=this._data,Vt=Lt.words,er=this._nDataBytes*8,ir=Lt.sigBytes*8;return Vt[ir>>>5]|=128<<24-ir%32,Vt[(ir+64>>>9<<4)+14]=Math.floor(er/4294967296),Vt[(ir+64>>>9<<4)+15]=er,Lt.sigBytes=Vt.length*4,this._process(),this._hash},clone:function(){var Lt=Dt.clone.call(this);return Lt._hash=this._hash.clone(),Lt}});mt.SHA1=Dt._createHelper(jt),mt.HmacSHA1=Dt._createHmacHelper(jt)}(),at.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){return function(mt){var $t=at,Ct=$t.lib,Dt=Ct.WordArray,Ft=Ct.Hasher,Nt=$t.algo,jt=[],Lt=[];(function(){function ir(pr){for(var hr=mt.sqrt(pr),vr=2;vr<=hr;vr++)if(!(pr%vr))return!1;return!0}function or(pr){return(pr-(pr|0))*4294967296|0}for(var lr=2,dr=0;dr<64;)ir(lr)&&(dr<8&&(jt[dr]=or(mt.pow(lr,1/2))),Lt[dr]=or(mt.pow(lr,1/3)),dr++),lr++})();var Vt=[],er=Nt.SHA256=Ft.extend({_doReset:function(){this._hash=new Dt.init(jt.slice(0))},_doProcessBlock:function(ir,or){for(var lr=this._hash.words,dr=lr[0],pr=lr[1],hr=lr[2],vr=lr[3],br=lr[4],xr=lr[5],Sr=lr[6],Er=lr[7],$r=0;$r<64;$r++){if($r<16)Vt[$r]=ir[or+$r]|0;else{var Cr=Vt[$r-15],kr=(Cr<<25|Cr>>>7)^(Cr<<14|Cr>>>18)^Cr>>>3,gr=Vt[$r-2],Ut=(gr<<15|gr>>>17)^(gr<<13|gr>>>19)^gr>>>10;Vt[$r]=kr+Vt[$r-7]+Ut+Vt[$r-16]}var tr=br&xr^~br&Sr,nr=dr&pr^dr&hr^pr&hr,rr=(dr<<30|dr>>>2)^(dr<<19|dr>>>13)^(dr<<10|dr>>>22),ar=(br<<26|br>>>6)^(br<<21|br>>>11)^(br<<7|br>>>25),cr=Er+ar+tr+Lt[$r]+Vt[$r],fr=rr+nr;Er=Sr,Sr=xr,xr=br,br=vr+cr|0,vr=hr,hr=pr,pr=dr,dr=cr+fr|0}lr[0]=lr[0]+dr|0,lr[1]=lr[1]+pr|0,lr[2]=lr[2]+hr|0,lr[3]=lr[3]+vr|0,lr[4]=lr[4]+br|0,lr[5]=lr[5]+xr|0,lr[6]=lr[6]+Sr|0,lr[7]=lr[7]+Er|0},_doFinalize:function(){var ir=this._data,or=ir.words,lr=this._nDataBytes*8,dr=ir.sigBytes*8;return or[dr>>>5]|=128<<24-dr%32,or[(dr+64>>>9<<4)+14]=mt.floor(lr/4294967296),or[(dr+64>>>9<<4)+15]=lr,ir.sigBytes=or.length*4,this._process(),this._hash},clone:function(){var ir=Ft.clone.call(this);return ir._hash=this._hash.clone(),ir}});$t.SHA256=Ft._createHelper(er),$t.HmacSHA256=Ft._createHmacHelper(er)}(Math),at.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireSha256())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.WordArray,Dt=mt.algo,Ft=Dt.SHA256,Nt=Dt.SHA224=Ft.extend({_doReset:function(){this._hash=new Ct.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var jt=Ft._doFinalize.call(this);return jt.sigBytes-=4,jt}});mt.SHA224=Ft._createHelper(Nt),mt.HmacSHA224=Ft._createHmacHelper(Nt)}(),at.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.Hasher,Dt=mt.x64,Ft=Dt.Word,Nt=Dt.WordArray,jt=mt.algo;function Lt(){return Ft.create.apply(Ft,arguments)}var Vt=[Lt(1116352408,3609767458),Lt(1899447441,602891725),Lt(3049323471,3964484399),Lt(3921009573,2173295548),Lt(961987163,4081628472),Lt(1508970993,3053834265),Lt(2453635748,2937671579),Lt(2870763221,3664609560),Lt(3624381080,2734883394),Lt(310598401,1164996542),Lt(607225278,1323610764),Lt(1426881987,3590304994),Lt(1925078388,4068182383),Lt(2162078206,991336113),Lt(2614888103,633803317),Lt(3248222580,3479774868),Lt(3835390401,2666613458),Lt(4022224774,944711139),Lt(264347078,2341262773),Lt(604807628,2007800933),Lt(770255983,1495990901),Lt(1249150122,1856431235),Lt(1555081692,3175218132),Lt(1996064986,2198950837),Lt(2554220882,3999719339),Lt(2821834349,766784016),Lt(2952996808,2566594879),Lt(3210313671,3203337956),Lt(3336571891,1034457026),Lt(3584528711,2466948901),Lt(113926993,3758326383),Lt(338241895,168717936),Lt(666307205,1188179964),Lt(773529912,1546045734),Lt(1294757372,1522805485),Lt(1396182291,2643833823),Lt(1695183700,2343527390),Lt(1986661051,1014477480),Lt(2177026350,1206759142),Lt(2456956037,344077627),Lt(2730485921,1290863460),Lt(2820302411,3158454273),Lt(3259730800,3505952657),Lt(3345764771,106217008),Lt(3516065817,3606008344),Lt(3600352804,1432725776),Lt(4094571909,1467031594),Lt(275423344,851169720),Lt(430227734,3100823752),Lt(506948616,1363258195),Lt(659060556,3750685593),Lt(883997877,3785050280),Lt(958139571,3318307427),Lt(1322822218,3812723403),Lt(1537002063,2003034995),Lt(1747873779,3602036899),Lt(1955562222,1575990012),Lt(2024104815,1125592928),Lt(2227730452,2716904306),Lt(2361852424,442776044),Lt(2428436474,593698344),Lt(2756734187,3733110249),Lt(3204031479,2999351573),Lt(3329325298,3815920427),Lt(3391569614,3928383900),Lt(3515267271,566280711),Lt(3940187606,3454069534),Lt(4118630271,4000239992),Lt(116418474,1914138554),Lt(174292421,2731055270),Lt(289380356,3203993006),Lt(460393269,320620315),Lt(685471733,587496836),Lt(852142971,1086792851),Lt(1017036298,365543100),Lt(1126000580,2618297676),Lt(1288033470,3409855158),Lt(1501505948,4234509866),Lt(1607167915,987167468),Lt(1816402316,1246189591)],er=[];(function(){for(var or=0;or<80;or++)er[or]=Lt()})();var ir=jt.SHA512=Ct.extend({_doReset:function(){this._hash=new Nt.init([new Ft.init(1779033703,4089235720),new Ft.init(3144134277,2227873595),new Ft.init(1013904242,4271175723),new Ft.init(2773480762,1595750129),new Ft.init(1359893119,2917565137),new Ft.init(2600822924,725511199),new Ft.init(528734635,4215389547),new Ft.init(1541459225,327033209)])},_doProcessBlock:function(or,lr){for(var dr=this._hash.words,pr=dr[0],hr=dr[1],vr=dr[2],br=dr[3],xr=dr[4],Sr=dr[5],Er=dr[6],$r=dr[7],Cr=pr.high,kr=pr.low,gr=hr.high,Ut=hr.low,tr=vr.high,nr=vr.low,rr=br.high,ar=br.low,cr=xr.high,fr=xr.low,sr=Sr.high,Yt=Sr.low,ur=Er.high,_r=Er.low,yr=$r.high,wr=$r.low,Ir=Cr,Or=kr,Ar=gr,Nr=Ut,Hr=tr,Pr=nr,Dr=rr,Rr=ar,Vr=cr,an=fr,Xr=sr,Jr=Yt,Zr=ur,Gr=_r,zr=yr,Dn=wr,Qr=0;Qr<80;Qr++){var Un,ro,Hn=er[Qr];if(Qr<16)ro=Hn.high=or[lr+Qr*2]|0,Un=Hn.low=or[lr+Qr*2+1]|0;else{var Qn=er[Qr-15],$o=Qn.high,Kn=Qn.low,_i=($o>>>1|Kn<<31)^($o>>>8|Kn<<24)^$o>>>7,Lo=(Kn>>>1|$o<<31)^(Kn>>>8|$o<<24)^(Kn>>>7|$o<<25),jr=er[Qr-2],Tr=jr.high,Fr=jr.low,Wr=(Tr>>>19|Fr<<13)^(Tr<<3|Fr>>>29)^Tr>>>6,sn=(Fr>>>19|Tr<<13)^(Fr<<3|Tr>>>29)^(Fr>>>6|Tr<<26),Jn=er[Qr-7],Nn=Jn.high,Zn=Jn.low,Io=er[Qr-16],ga=Io.high,ba=Io.low;Un=Lo+Zn,ro=_i+Nn+(Un>>>0<Lo>>>0?1:0),Un=Un+sn,ro=ro+Wr+(Un>>>0<sn>>>0?1:0),Un=Un+ba,ro=ro+ga+(Un>>>0<ba>>>0?1:0),Hn.high=ro,Hn.low=Un}var Bo=Vr&Xr^~Vr&Zr,io=an&Jr^~an&Gr,so=Ir&Ar^Ir&Hr^Ar&Hr,zo=Or&Nr^Or&Pr^Nr&Pr,eo=(Ir>>>28|Or<<4)^(Ir<<30|Or>>>2)^(Ir<<25|Or>>>7),oo=(Or>>>28|Ir<<4)^(Or<<30|Ir>>>2)^(Or<<25|Ir>>>7),Ho=(Vr>>>14|an<<18)^(Vr>>>18|an<<14)^(Vr<<23|an>>>9),no=(an>>>14|Vr<<18)^(an>>>18|Vr<<14)^(an<<23|Vr>>>9),ao=Vt[Qr],Gn=ao.high,dn=ao.low,Ln=Dn+no,Br=zr+Ho+(Ln>>>0<Dn>>>0?1:0),Ln=Ln+io,Br=Br+Bo+(Ln>>>0<io>>>0?1:0),Ln=Ln+dn,Br=Br+Gn+(Ln>>>0<dn>>>0?1:0),Ln=Ln+Un,Br=Br+ro+(Ln>>>0<Un>>>0?1:0),Lr=oo+zo,qr=eo+so+(Lr>>>0<oo>>>0?1:0);zr=Zr,Dn=Gr,Zr=Xr,Gr=Jr,Xr=Vr,Jr=an,an=Rr+Ln|0,Vr=Dr+Br+(an>>>0<Rr>>>0?1:0)|0,Dr=Hr,Rr=Pr,Hr=Ar,Pr=Nr,Ar=Ir,Nr=Or,Or=Ln+Lr|0,Ir=Br+qr+(Or>>>0<Ln>>>0?1:0)|0}kr=pr.low=kr+Or,pr.high=Cr+Ir+(kr>>>0<Or>>>0?1:0),Ut=hr.low=Ut+Nr,hr.high=gr+Ar+(Ut>>>0<Nr>>>0?1:0),nr=vr.low=nr+Pr,vr.high=tr+Hr+(nr>>>0<Pr>>>0?1:0),ar=br.low=ar+Rr,br.high=rr+Dr+(ar>>>0<Rr>>>0?1:0),fr=xr.low=fr+an,xr.high=cr+Vr+(fr>>>0<an>>>0?1:0),Yt=Sr.low=Yt+Jr,Sr.high=sr+Xr+(Yt>>>0<Jr>>>0?1:0),_r=Er.low=_r+Gr,Er.high=ur+Zr+(_r>>>0<Gr>>>0?1:0),wr=$r.low=wr+Dn,$r.high=yr+zr+(wr>>>0<Dn>>>0?1:0)},_doFinalize:function(){var or=this._data,lr=or.words,dr=this._nDataBytes*8,pr=or.sigBytes*8;lr[pr>>>5]|=128<<24-pr%32,lr[(pr+128>>>10<<5)+30]=Math.floor(dr/4294967296),lr[(pr+128>>>10<<5)+31]=dr,or.sigBytes=lr.length*4,this._process();var hr=this._hash.toX32();return hr},clone:function(){var or=Ct.clone.call(this);return or._hash=this._hash.clone(),or},blockSize:1024/32});mt.SHA512=Ct._createHelper(ir),mt.HmacSHA512=Ct._createHmacHelper(ir)}(),at.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.x64,Ct=$t.Word,Dt=$t.WordArray,Ft=mt.algo,Nt=Ft.SHA512,jt=Ft.SHA384=Nt.extend({_doReset:function(){this._hash=new Dt.init([new Ct.init(3418070365,3238371032),new Ct.init(1654270250,914150663),new Ct.init(2438529370,812702999),new Ct.init(355462360,4144912697),new Ct.init(1731405415,4290775857),new Ct.init(2394180231,1750603025),new Ct.init(3675008525,1694076839),new Ct.init(1203062813,3204075428)])},_doFinalize:function(){var Lt=Nt._doFinalize.call(this);return Lt.sigBytes-=16,Lt}});mt.SHA384=Nt._createHelper(jt),mt.HmacSHA384=Nt._createHmacHelper(jt)}(),at.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(at){return function(mt){var $t=at,Ct=$t.lib,Dt=Ct.WordArray,Ft=Ct.Hasher,Nt=$t.x64,jt=Nt.Word,Lt=$t.algo,Vt=[],er=[],ir=[];(function(){for(var dr=1,pr=0,hr=0;hr<24;hr++){Vt[dr+5*pr]=(hr+1)*(hr+2)/2%64;var vr=pr%5,br=(2*dr+3*pr)%5;dr=vr,pr=br}for(var dr=0;dr<5;dr++)for(var pr=0;pr<5;pr++)er[dr+5*pr]=pr+(2*dr+3*pr)%5*5;for(var xr=1,Sr=0;Sr<24;Sr++){for(var Er=0,$r=0,Cr=0;Cr<7;Cr++){if(xr&1){var kr=(1<<Cr)-1;kr<32?$r^=1<<kr:Er^=1<<kr-32}xr&128?xr=xr<<1^113:xr<<=1}ir[Sr]=jt.create(Er,$r)}})();var or=[];(function(){for(var dr=0;dr<25;dr++)or[dr]=jt.create()})();var lr=Lt.SHA3=Ft.extend({cfg:Ft.cfg.extend({outputLength:512}),_doReset:function(){for(var dr=this._state=[],pr=0;pr<25;pr++)dr[pr]=new jt.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(dr,pr){for(var hr=this._state,vr=this.blockSize/2,br=0;br<vr;br++){var xr=dr[pr+2*br],Sr=dr[pr+2*br+1];xr=(xr<<8|xr>>>24)&16711935|(xr<<24|xr>>>8)&4278255360,Sr=(Sr<<8|Sr>>>24)&16711935|(Sr<<24|Sr>>>8)&4278255360;var Er=hr[br];Er.high^=Sr,Er.low^=xr}for(var $r=0;$r<24;$r++){for(var Cr=0;Cr<5;Cr++){for(var kr=0,gr=0,Ut=0;Ut<5;Ut++){var Er=hr[Cr+5*Ut];kr^=Er.high,gr^=Er.low}var tr=or[Cr];tr.high=kr,tr.low=gr}for(var Cr=0;Cr<5;Cr++)for(var nr=or[(Cr+4)%5],rr=or[(Cr+1)%5],ar=rr.high,cr=rr.low,kr=nr.high^(ar<<1|cr>>>31),gr=nr.low^(cr<<1|ar>>>31),Ut=0;Ut<5;Ut++){var Er=hr[Cr+5*Ut];Er.high^=kr,Er.low^=gr}for(var fr=1;fr<25;fr++){var kr,gr,Er=hr[fr],sr=Er.high,Yt=Er.low,ur=Vt[fr];ur<32?(kr=sr<<ur|Yt>>>32-ur,gr=Yt<<ur|sr>>>32-ur):(kr=Yt<<ur-32|sr>>>64-ur,gr=sr<<ur-32|Yt>>>64-ur);var _r=or[er[fr]];_r.high=kr,_r.low=gr}var yr=or[0],wr=hr[0];yr.high=wr.high,yr.low=wr.low;for(var Cr=0;Cr<5;Cr++)for(var Ut=0;Ut<5;Ut++){var fr=Cr+5*Ut,Er=hr[fr],Ir=or[fr],Or=or[(Cr+1)%5+5*Ut],Ar=or[(Cr+2)%5+5*Ut];Er.high=Ir.high^~Or.high&Ar.high,Er.low=Ir.low^~Or.low&Ar.low}var Er=hr[0],Nr=ir[$r];Er.high^=Nr.high,Er.low^=Nr.low}},_doFinalize:function(){var dr=this._data,pr=dr.words;this._nDataBytes*8;var hr=dr.sigBytes*8,vr=this.blockSize*32;pr[hr>>>5]|=1<<24-hr%32,pr[(mt.ceil((hr+1)/vr)*vr>>>5)-1]|=128,dr.sigBytes=pr.length*4,this._process();for(var br=this._state,xr=this.cfg.outputLength/8,Sr=xr/8,Er=[],$r=0;$r<Sr;$r++){var Cr=br[$r],kr=Cr.high,gr=Cr.low;kr=(kr<<8|kr>>>24)&16711935|(kr<<24|kr>>>8)&4278255360,gr=(gr<<8|gr>>>24)&16711935|(gr<<24|gr>>>8)&4278255360,Er.push(gr),Er.push(kr)}return new Dt.init(Er,xr)},clone:function(){for(var dr=Ft.clone.call(this),pr=dr._state=this._state.slice(0),hr=0;hr<25;hr++)pr[hr]=pr[hr].clone();return dr}});$t.SHA3=Ft._createHelper(lr),$t.HmacSHA3=Ft._createHmacHelper(lr)}(Math),at.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(mt){var $t=at,Ct=$t.lib,Dt=Ct.WordArray,Ft=Ct.Hasher,Nt=$t.algo,jt=Dt.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Lt=Dt.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Vt=Dt.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),er=Dt.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),ir=Dt.create([0,1518500249,1859775393,2400959708,2840853838]),or=Dt.create([1352829926,1548603684,1836072691,2053994217,0]),lr=Nt.RIPEMD160=Ft.extend({_doReset:function(){this._hash=Dt.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Sr,Er){for(var $r=0;$r<16;$r++){var Cr=Er+$r,kr=Sr[Cr];Sr[Cr]=(kr<<8|kr>>>24)&16711935|(kr<<24|kr>>>8)&4278255360}var gr=this._hash.words,Ut=ir.words,tr=or.words,nr=jt.words,rr=Lt.words,ar=Vt.words,cr=er.words,fr,sr,Yt,ur,_r,yr,wr,Ir,Or,Ar;yr=fr=gr[0],wr=sr=gr[1],Ir=Yt=gr[2],Or=ur=gr[3],Ar=_r=gr[4];for(var Nr,$r=0;$r<80;$r+=1)Nr=fr+Sr[Er+nr[$r]]|0,$r<16?Nr+=dr(sr,Yt,ur)+Ut[0]:$r<32?Nr+=pr(sr,Yt,ur)+Ut[1]:$r<48?Nr+=hr(sr,Yt,ur)+Ut[2]:$r<64?Nr+=vr(sr,Yt,ur)+Ut[3]:Nr+=br(sr,Yt,ur)+Ut[4],Nr=Nr|0,Nr=xr(Nr,ar[$r]),Nr=Nr+_r|0,fr=_r,_r=ur,ur=xr(Yt,10),Yt=sr,sr=Nr,Nr=yr+Sr[Er+rr[$r]]|0,$r<16?Nr+=br(wr,Ir,Or)+tr[0]:$r<32?Nr+=vr(wr,Ir,Or)+tr[1]:$r<48?Nr+=hr(wr,Ir,Or)+tr[2]:$r<64?Nr+=pr(wr,Ir,Or)+tr[3]:Nr+=dr(wr,Ir,Or)+tr[4],Nr=Nr|0,Nr=xr(Nr,cr[$r]),Nr=Nr+Ar|0,yr=Ar,Ar=Or,Or=xr(Ir,10),Ir=wr,wr=Nr;Nr=gr[1]+Yt+Or|0,gr[1]=gr[2]+ur+Ar|0,gr[2]=gr[3]+_r+yr|0,gr[3]=gr[4]+fr+wr|0,gr[4]=gr[0]+sr+Ir|0,gr[0]=Nr},_doFinalize:function(){var Sr=this._data,Er=Sr.words,$r=this._nDataBytes*8,Cr=Sr.sigBytes*8;Er[Cr>>>5]|=128<<24-Cr%32,Er[(Cr+64>>>9<<4)+14]=($r<<8|$r>>>24)&16711935|($r<<24|$r>>>8)&4278255360,Sr.sigBytes=(Er.length+1)*4,this._process();for(var kr=this._hash,gr=kr.words,Ut=0;Ut<5;Ut++){var tr=gr[Ut];gr[Ut]=(tr<<8|tr>>>24)&16711935|(tr<<24|tr>>>8)&4278255360}return kr},clone:function(){var Sr=Ft.clone.call(this);return Sr._hash=this._hash.clone(),Sr}});function dr(Sr,Er,$r){return Sr^Er^$r}function pr(Sr,Er,$r){return Sr&Er|~Sr&$r}function hr(Sr,Er,$r){return(Sr|~Er)^$r}function vr(Sr,Er,$r){return Sr&$r|Er&~$r}function br(Sr,Er,$r){return Sr^(Er|~$r)}function xr(Sr,Er){return Sr<<Er|Sr>>>32-Er}$t.RIPEMD160=Ft._createHelper(lr),$t.HmacRIPEMD160=Ft._createHmacHelper(lr)}(),at.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(nt,et){(function(at,mt){nt.exports=mt(requireCore())})(commonjsGlobal$1,function(at){(function(){var mt=at,$t=mt.lib,Ct=$t.Base,Dt=mt.enc,Ft=Dt.Utf8,Nt=mt.algo;Nt.HMAC=Ct.extend({init:function(jt,Lt){jt=this._hasher=new jt.init,typeof Lt=="string"&&(Lt=Ft.parse(Lt));var Vt=jt.blockSize,er=Vt*4;Lt.sigBytes>er&&(Lt=jt.finalize(Lt)),Lt.clamp();for(var ir=this._oKey=Lt.clone(),or=this._iKey=Lt.clone(),lr=ir.words,dr=or.words,pr=0;pr<Vt;pr++)lr[pr]^=1549556828,dr[pr]^=909522486;ir.sigBytes=or.sigBytes=er,this.reset()},reset:function(){var jt=this._hasher;jt.reset(),jt.update(this._iKey)},update:function(jt){return this._hasher.update(jt),this},finalize:function(jt){var Lt=this._hasher,Vt=Lt.finalize(jt);Lt.reset();var er=Lt.finalize(this._oKey.clone().concat(Vt));return er}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.Base,Dt=$t.WordArray,Ft=mt.algo,Nt=Ft.SHA256,jt=Ft.HMAC,Lt=Ft.PBKDF2=Ct.extend({cfg:Ct.extend({keySize:128/32,hasher:Nt,iterations:25e4}),init:function(Vt){this.cfg=this.cfg.extend(Vt)},compute:function(Vt,er){for(var ir=this.cfg,or=jt.create(ir.hasher,Vt),lr=Dt.create(),dr=Dt.create([1]),pr=lr.words,hr=dr.words,vr=ir.keySize,br=ir.iterations;pr.length<vr;){var xr=or.update(er).finalize(dr);or.reset();for(var Sr=xr.words,Er=Sr.length,$r=xr,Cr=1;Cr<br;Cr++){$r=or.finalize($r),or.reset();for(var kr=$r.words,gr=0;gr<Er;gr++)Sr[gr]^=kr[gr]}lr.concat(xr),hr[0]++}return lr.sigBytes=vr*4,lr}});mt.PBKDF2=function(Vt,er,ir){return Lt.create(ir).compute(Vt,er)}}(),at.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.Base,Dt=$t.WordArray,Ft=mt.algo,Nt=Ft.MD5,jt=Ft.EvpKDF=Ct.extend({cfg:Ct.extend({keySize:128/32,hasher:Nt,iterations:1}),init:function(Lt){this.cfg=this.cfg.extend(Lt)},compute:function(Lt,Vt){for(var er,ir=this.cfg,or=ir.hasher.create(),lr=Dt.create(),dr=lr.words,pr=ir.keySize,hr=ir.iterations;dr.length<pr;){er&&or.update(er),er=or.update(Lt).finalize(Vt),or.reset();for(var vr=1;vr<hr;vr++)er=or.finalize(er),or.reset();lr.concat(er)}return lr.sigBytes=pr*4,lr}});mt.EvpKDF=function(Lt,Vt,er){return jt.create(er).compute(Lt,Vt)}}(),at.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(at){at.lib.Cipher||function(mt){var $t=at,Ct=$t.lib,Dt=Ct.Base,Ft=Ct.WordArray,Nt=Ct.BufferedBlockAlgorithm,jt=$t.enc;jt.Utf8;var Lt=jt.Base64,Vt=$t.algo,er=Vt.EvpKDF,ir=Ct.Cipher=Nt.extend({cfg:Dt.extend(),createEncryptor:function(kr,gr){return this.create(this._ENC_XFORM_MODE,kr,gr)},createDecryptor:function(kr,gr){return this.create(this._DEC_XFORM_MODE,kr,gr)},init:function(kr,gr,Ut){this.cfg=this.cfg.extend(Ut),this._xformMode=kr,this._key=gr,this.reset()},reset:function(){Nt.reset.call(this),this._doReset()},process:function(kr){return this._append(kr),this._process()},finalize:function(kr){kr&&this._append(kr);var gr=this._doFinalize();return gr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function kr(gr){return typeof gr=="string"?Cr:Sr}return function(gr){return{encrypt:function(Ut,tr,nr){return kr(tr).encrypt(gr,Ut,tr,nr)},decrypt:function(Ut,tr,nr){return kr(tr).decrypt(gr,Ut,tr,nr)}}}}()});Ct.StreamCipher=ir.extend({_doFinalize:function(){var kr=this._process(!0);return kr},blockSize:1});var or=$t.mode={},lr=Ct.BlockCipherMode=Dt.extend({createEncryptor:function(kr,gr){return this.Encryptor.create(kr,gr)},createDecryptor:function(kr,gr){return this.Decryptor.create(kr,gr)},init:function(kr,gr){this._cipher=kr,this._iv=gr}}),dr=or.CBC=function(){var kr=lr.extend();kr.Encryptor=kr.extend({processBlock:function(Ut,tr){var nr=this._cipher,rr=nr.blockSize;gr.call(this,Ut,tr,rr),nr.encryptBlock(Ut,tr),this._prevBlock=Ut.slice(tr,tr+rr)}}),kr.Decryptor=kr.extend({processBlock:function(Ut,tr){var nr=this._cipher,rr=nr.blockSize,ar=Ut.slice(tr,tr+rr);nr.decryptBlock(Ut,tr),gr.call(this,Ut,tr,rr),this._prevBlock=ar}});function gr(Ut,tr,nr){var rr,ar=this._iv;ar?(rr=ar,this._iv=mt):rr=this._prevBlock;for(var cr=0;cr<nr;cr++)Ut[tr+cr]^=rr[cr]}return kr}(),pr=$t.pad={},hr=pr.Pkcs7={pad:function(kr,gr){for(var Ut=gr*4,tr=Ut-kr.sigBytes%Ut,nr=tr<<24|tr<<16|tr<<8|tr,rr=[],ar=0;ar<tr;ar+=4)rr.push(nr);var cr=Ft.create(rr,tr);kr.concat(cr)},unpad:function(kr){var gr=kr.words[kr.sigBytes-1>>>2]&255;kr.sigBytes-=gr}};Ct.BlockCipher=ir.extend({cfg:ir.cfg.extend({mode:dr,padding:hr}),reset:function(){var kr;ir.reset.call(this);var gr=this.cfg,Ut=gr.iv,tr=gr.mode;this._xformMode==this._ENC_XFORM_MODE?kr=tr.createEncryptor:(kr=tr.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==kr?this._mode.init(this,Ut&&Ut.words):(this._mode=kr.call(tr,this,Ut&&Ut.words),this._mode.__creator=kr)},_doProcessBlock:function(kr,gr){this._mode.processBlock(kr,gr)},_doFinalize:function(){var kr,gr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(gr.pad(this._data,this.blockSize),kr=this._process(!0)):(kr=this._process(!0),gr.unpad(kr)),kr},blockSize:128/32});var vr=Ct.CipherParams=Dt.extend({init:function(kr){this.mixIn(kr)},toString:function(kr){return(kr||this.formatter).stringify(this)}}),br=$t.format={},xr=br.OpenSSL={stringify:function(kr){var gr,Ut=kr.ciphertext,tr=kr.salt;return tr?gr=Ft.create([1398893684,1701076831]).concat(tr).concat(Ut):gr=Ut,gr.toString(Lt)},parse:function(kr){var gr,Ut=Lt.parse(kr),tr=Ut.words;return tr[0]==1398893684&&tr[1]==1701076831&&(gr=Ft.create(tr.slice(2,4)),tr.splice(0,4),Ut.sigBytes-=16),vr.create({ciphertext:Ut,salt:gr})}},Sr=Ct.SerializableCipher=Dt.extend({cfg:Dt.extend({format:xr}),encrypt:function(kr,gr,Ut,tr){tr=this.cfg.extend(tr);var nr=kr.createEncryptor(Ut,tr),rr=nr.finalize(gr),ar=nr.cfg;return vr.create({ciphertext:rr,key:Ut,iv:ar.iv,algorithm:kr,mode:ar.mode,padding:ar.padding,blockSize:kr.blockSize,formatter:tr.format})},decrypt:function(kr,gr,Ut,tr){tr=this.cfg.extend(tr),gr=this._parse(gr,tr.format);var nr=kr.createDecryptor(Ut,tr).finalize(gr.ciphertext);return nr},_parse:function(kr,gr){return typeof kr=="string"?gr.parse(kr,this):kr}}),Er=$t.kdf={},$r=Er.OpenSSL={execute:function(kr,gr,Ut,tr,nr){if(tr||(tr=Ft.random(64/8)),nr)var rr=er.create({keySize:gr+Ut,hasher:nr}).compute(kr,tr);else var rr=er.create({keySize:gr+Ut}).compute(kr,tr);var ar=Ft.create(rr.words.slice(gr),Ut*4);return rr.sigBytes=gr*4,vr.create({key:rr,iv:ar,salt:tr})}},Cr=Ct.PasswordBasedCipher=Sr.extend({cfg:Sr.cfg.extend({kdf:$r}),encrypt:function(kr,gr,Ut,tr){tr=this.cfg.extend(tr);var nr=tr.kdf.execute(Ut,kr.keySize,kr.ivSize,tr.salt,tr.hasher);tr.iv=nr.iv;var rr=Sr.encrypt.call(this,kr,gr,nr.key,tr);return rr.mixIn(nr),rr},decrypt:function(kr,gr,Ut,tr){tr=this.cfg.extend(tr),gr=this._parse(gr,tr.format);var nr=tr.kdf.execute(Ut,kr.keySize,kr.ivSize,gr.salt,tr.hasher);tr.iv=nr.iv;var rr=Sr.decrypt.call(this,kr,gr,nr.key,tr);return rr}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.mode.CFB=function(){var mt=at.lib.BlockCipherMode.extend();mt.Encryptor=mt.extend({processBlock:function(Ct,Dt){var Ft=this._cipher,Nt=Ft.blockSize;$t.call(this,Ct,Dt,Nt,Ft),this._prevBlock=Ct.slice(Dt,Dt+Nt)}}),mt.Decryptor=mt.extend({processBlock:function(Ct,Dt){var Ft=this._cipher,Nt=Ft.blockSize,jt=Ct.slice(Dt,Dt+Nt);$t.call(this,Ct,Dt,Nt,Ft),this._prevBlock=jt}});function $t(Ct,Dt,Ft,Nt){var jt,Lt=this._iv;Lt?(jt=Lt.slice(0),this._iv=void 0):jt=this._prevBlock,Nt.encryptBlock(jt,0);for(var Vt=0;Vt<Ft;Vt++)Ct[Dt+Vt]^=jt[Vt]}return mt}(),at.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.mode.CTR=function(){var mt=at.lib.BlockCipherMode.extend(),$t=mt.Encryptor=mt.extend({processBlock:function(Ct,Dt){var Ft=this._cipher,Nt=Ft.blockSize,jt=this._iv,Lt=this._counter;jt&&(Lt=this._counter=jt.slice(0),this._iv=void 0);var Vt=Lt.slice(0);Ft.encryptBlock(Vt,0),Lt[Nt-1]=Lt[Nt-1]+1|0;for(var er=0;er<Nt;er++)Ct[Dt+er]^=Vt[er]}});return mt.Decryptor=$t,mt}(),at.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return at.mode.CTRGladman=function(){var mt=at.lib.BlockCipherMode.extend();function $t(Ft){if((Ft>>24&255)===255){var Nt=Ft>>16&255,jt=Ft>>8&255,Lt=Ft&255;Nt===255?(Nt=0,jt===255?(jt=0,Lt===255?Lt=0:++Lt):++jt):++Nt,Ft=0,Ft+=Nt<<16,Ft+=jt<<8,Ft+=Lt}else Ft+=1<<24;return Ft}function Ct(Ft){return(Ft[0]=$t(Ft[0]))===0&&(Ft[1]=$t(Ft[1])),Ft}var Dt=mt.Encryptor=mt.extend({processBlock:function(Ft,Nt){var jt=this._cipher,Lt=jt.blockSize,Vt=this._iv,er=this._counter;Vt&&(er=this._counter=Vt.slice(0),this._iv=void 0),Ct(er);var ir=er.slice(0);jt.encryptBlock(ir,0);for(var or=0;or<Lt;or++)Ft[Nt+or]^=ir[or]}});return mt.Decryptor=Dt,mt}(),at.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.mode.OFB=function(){var mt=at.lib.BlockCipherMode.extend(),$t=mt.Encryptor=mt.extend({processBlock:function(Ct,Dt){var Ft=this._cipher,Nt=Ft.blockSize,jt=this._iv,Lt=this._keystream;jt&&(Lt=this._keystream=jt.slice(0),this._iv=void 0),Ft.encryptBlock(Lt,0);for(var Vt=0;Vt<Nt;Vt++)Ct[Dt+Vt]^=Lt[Vt]}});return mt.Decryptor=$t,mt}(),at.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.mode.ECB=function(){var mt=at.lib.BlockCipherMode.extend();return mt.Encryptor=mt.extend({processBlock:function($t,Ct){this._cipher.encryptBlock($t,Ct)}}),mt.Decryptor=mt.extend({processBlock:function($t,Ct){this._cipher.decryptBlock($t,Ct)}}),mt}(),at.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.pad.AnsiX923={pad:function(mt,$t){var Ct=mt.sigBytes,Dt=$t*4,Ft=Dt-Ct%Dt,Nt=Ct+Ft-1;mt.clamp(),mt.words[Nt>>>2]|=Ft<<24-Nt%4*8,mt.sigBytes+=Ft},unpad:function(mt){var $t=mt.words[mt.sigBytes-1>>>2]&255;mt.sigBytes-=$t}},at.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.pad.Iso10126={pad:function(mt,$t){var Ct=$t*4,Dt=Ct-mt.sigBytes%Ct;mt.concat(at.lib.WordArray.random(Dt-1)).concat(at.lib.WordArray.create([Dt<<24],1))},unpad:function(mt){var $t=mt.words[mt.sigBytes-1>>>2]&255;mt.sigBytes-=$t}},at.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.pad.Iso97971={pad:function(mt,$t){mt.concat(at.lib.WordArray.create([2147483648],1)),at.pad.ZeroPadding.pad(mt,$t)},unpad:function(mt){at.pad.ZeroPadding.unpad(mt),mt.sigBytes--}},at.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.pad.ZeroPadding={pad:function(mt,$t){var Ct=$t*4;mt.clamp(),mt.sigBytes+=Ct-(mt.sigBytes%Ct||Ct)},unpad:function(mt){for(var $t=mt.words,Ct=mt.sigBytes-1,Ct=mt.sigBytes-1;Ct>=0;Ct--)if($t[Ct>>>2]>>>24-Ct%4*8&255){mt.sigBytes=Ct+1;break}}},at.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return at.pad.NoPadding={pad:function(){},unpad:function(){}},at.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(at){return function(mt){var $t=at,Ct=$t.lib,Dt=Ct.CipherParams,Ft=$t.enc,Nt=Ft.Hex,jt=$t.format;jt.Hex={stringify:function(Lt){return Lt.ciphertext.toString(Nt)},parse:function(Lt){var Vt=Nt.parse(Lt);return Dt.create({ciphertext:Vt})}}}(),at.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.BlockCipher,Dt=mt.algo,Ft=[],Nt=[],jt=[],Lt=[],Vt=[],er=[],ir=[],or=[],lr=[],dr=[];(function(){for(var vr=[],br=0;br<256;br++)br<128?vr[br]=br<<1:vr[br]=br<<1^283;for(var xr=0,Sr=0,br=0;br<256;br++){var Er=Sr^Sr<<1^Sr<<2^Sr<<3^Sr<<4;Er=Er>>>8^Er&255^99,Ft[xr]=Er,Nt[Er]=xr;var $r=vr[xr],Cr=vr[$r],kr=vr[Cr],gr=vr[Er]*257^Er*16843008;jt[xr]=gr<<24|gr>>>8,Lt[xr]=gr<<16|gr>>>16,Vt[xr]=gr<<8|gr>>>24,er[xr]=gr;var gr=kr*16843009^Cr*65537^$r*257^xr*16843008;ir[Er]=gr<<24|gr>>>8,or[Er]=gr<<16|gr>>>16,lr[Er]=gr<<8|gr>>>24,dr[Er]=gr,xr?(xr=$r^vr[vr[vr[kr^$r]]],Sr^=vr[vr[Sr]]):xr=Sr=1}})();var pr=[0,1,2,4,8,16,32,64,128,27,54],hr=Dt.AES=Ct.extend({_doReset:function(){var vr;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var br=this._keyPriorReset=this._key,xr=br.words,Sr=br.sigBytes/4,Er=this._nRounds=Sr+6,$r=(Er+1)*4,Cr=this._keySchedule=[],kr=0;kr<$r;kr++)kr<Sr?Cr[kr]=xr[kr]:(vr=Cr[kr-1],kr%Sr?Sr>6&&kr%Sr==4&&(vr=Ft[vr>>>24]<<24|Ft[vr>>>16&255]<<16|Ft[vr>>>8&255]<<8|Ft[vr&255]):(vr=vr<<8|vr>>>24,vr=Ft[vr>>>24]<<24|Ft[vr>>>16&255]<<16|Ft[vr>>>8&255]<<8|Ft[vr&255],vr^=pr[kr/Sr|0]<<24),Cr[kr]=Cr[kr-Sr]^vr);for(var gr=this._invKeySchedule=[],Ut=0;Ut<$r;Ut++){var kr=$r-Ut;if(Ut%4)var vr=Cr[kr];else var vr=Cr[kr-4];Ut<4||kr<=4?gr[Ut]=vr:gr[Ut]=ir[Ft[vr>>>24]]^or[Ft[vr>>>16&255]]^lr[Ft[vr>>>8&255]]^dr[Ft[vr&255]]}}},encryptBlock:function(vr,br){this._doCryptBlock(vr,br,this._keySchedule,jt,Lt,Vt,er,Ft)},decryptBlock:function(vr,br){var xr=vr[br+1];vr[br+1]=vr[br+3],vr[br+3]=xr,this._doCryptBlock(vr,br,this._invKeySchedule,ir,or,lr,dr,Nt);var xr=vr[br+1];vr[br+1]=vr[br+3],vr[br+3]=xr},_doCryptBlock:function(vr,br,xr,Sr,Er,$r,Cr,kr){for(var gr=this._nRounds,Ut=vr[br]^xr[0],tr=vr[br+1]^xr[1],nr=vr[br+2]^xr[2],rr=vr[br+3]^xr[3],ar=4,cr=1;cr<gr;cr++){var fr=Sr[Ut>>>24]^Er[tr>>>16&255]^$r[nr>>>8&255]^Cr[rr&255]^xr[ar++],sr=Sr[tr>>>24]^Er[nr>>>16&255]^$r[rr>>>8&255]^Cr[Ut&255]^xr[ar++],Yt=Sr[nr>>>24]^Er[rr>>>16&255]^$r[Ut>>>8&255]^Cr[tr&255]^xr[ar++],ur=Sr[rr>>>24]^Er[Ut>>>16&255]^$r[tr>>>8&255]^Cr[nr&255]^xr[ar++];Ut=fr,tr=sr,nr=Yt,rr=ur}var fr=(kr[Ut>>>24]<<24|kr[tr>>>16&255]<<16|kr[nr>>>8&255]<<8|kr[rr&255])^xr[ar++],sr=(kr[tr>>>24]<<24|kr[nr>>>16&255]<<16|kr[rr>>>8&255]<<8|kr[Ut&255])^xr[ar++],Yt=(kr[nr>>>24]<<24|kr[rr>>>16&255]<<16|kr[Ut>>>8&255]<<8|kr[tr&255])^xr[ar++],ur=(kr[rr>>>24]<<24|kr[Ut>>>16&255]<<16|kr[tr>>>8&255]<<8|kr[nr&255])^xr[ar++];vr[br]=fr,vr[br+1]=sr,vr[br+2]=Yt,vr[br+3]=ur},keySize:256/32});mt.AES=Ct._createHelper(hr)}(),at.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.WordArray,Dt=$t.BlockCipher,Ft=mt.algo,Nt=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],jt=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Lt=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],Vt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],er=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],ir=Ft.DES=Dt.extend({_doReset:function(){for(var pr=this._key,hr=pr.words,vr=[],br=0;br<56;br++){var xr=Nt[br]-1;vr[br]=hr[xr>>>5]>>>31-xr%32&1}for(var Sr=this._subKeys=[],Er=0;Er<16;Er++){for(var $r=Sr[Er]=[],Cr=Lt[Er],br=0;br<24;br++)$r[br/6|0]|=vr[(jt[br]-1+Cr)%28]<<31-br%6,$r[4+(br/6|0)]|=vr[28+(jt[br+24]-1+Cr)%28]<<31-br%6;$r[0]=$r[0]<<1|$r[0]>>>31;for(var br=1;br<7;br++)$r[br]=$r[br]>>>(br-1)*4+3;$r[7]=$r[7]<<5|$r[7]>>>27}for(var kr=this._invSubKeys=[],br=0;br<16;br++)kr[br]=Sr[15-br]},encryptBlock:function(pr,hr){this._doCryptBlock(pr,hr,this._subKeys)},decryptBlock:function(pr,hr){this._doCryptBlock(pr,hr,this._invSubKeys)},_doCryptBlock:function(pr,hr,vr){this._lBlock=pr[hr],this._rBlock=pr[hr+1],or.call(this,4,252645135),or.call(this,16,65535),lr.call(this,2,858993459),lr.call(this,8,16711935),or.call(this,1,1431655765);for(var br=0;br<16;br++){for(var xr=vr[br],Sr=this._lBlock,Er=this._rBlock,$r=0,Cr=0;Cr<8;Cr++)$r|=Vt[Cr][((Er^xr[Cr])&er[Cr])>>>0];this._lBlock=Er,this._rBlock=Sr^$r}var kr=this._lBlock;this._lBlock=this._rBlock,this._rBlock=kr,or.call(this,1,1431655765),lr.call(this,8,16711935),lr.call(this,2,858993459),or.call(this,16,65535),or.call(this,4,252645135),pr[hr]=this._lBlock,pr[hr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function or(pr,hr){var vr=(this._lBlock>>>pr^this._rBlock)&hr;this._rBlock^=vr,this._lBlock^=vr<<pr}function lr(pr,hr){var vr=(this._rBlock>>>pr^this._lBlock)&hr;this._lBlock^=vr,this._rBlock^=vr<<pr}mt.DES=Dt._createHelper(ir);var dr=Ft.TripleDES=Dt.extend({_doReset:function(){var pr=this._key,hr=pr.words;if(hr.length!==2&&hr.length!==4&&hr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var vr=hr.slice(0,2),br=hr.length<4?hr.slice(0,2):hr.slice(2,4),xr=hr.length<6?hr.slice(0,2):hr.slice(4,6);this._des1=ir.createEncryptor(Ct.create(vr)),this._des2=ir.createEncryptor(Ct.create(br)),this._des3=ir.createEncryptor(Ct.create(xr))},encryptBlock:function(pr,hr){this._des1.encryptBlock(pr,hr),this._des2.decryptBlock(pr,hr),this._des3.encryptBlock(pr,hr)},decryptBlock:function(pr,hr){this._des3.decryptBlock(pr,hr),this._des2.encryptBlock(pr,hr),this._des1.decryptBlock(pr,hr)},keySize:192/32,ivSize:64/32,blockSize:64/32});mt.TripleDES=Dt._createHelper(dr)}(),at.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.StreamCipher,Dt=mt.algo,Ft=Dt.RC4=Ct.extend({_doReset:function(){for(var Lt=this._key,Vt=Lt.words,er=Lt.sigBytes,ir=this._S=[],or=0;or<256;or++)ir[or]=or;for(var or=0,lr=0;or<256;or++){var dr=or%er,pr=Vt[dr>>>2]>>>24-dr%4*8&255;lr=(lr+ir[or]+pr)%256;var hr=ir[or];ir[or]=ir[lr],ir[lr]=hr}this._i=this._j=0},_doProcessBlock:function(Lt,Vt){Lt[Vt]^=Nt.call(this)},keySize:256/32,ivSize:0});function Nt(){for(var Lt=this._S,Vt=this._i,er=this._j,ir=0,or=0;or<4;or++){Vt=(Vt+1)%256,er=(er+Lt[Vt])%256;var lr=Lt[Vt];Lt[Vt]=Lt[er],Lt[er]=lr,ir|=Lt[(Lt[Vt]+Lt[er])%256]<<24-or*8}return this._i=Vt,this._j=er,ir}mt.RC4=Ct._createHelper(Ft);var jt=Dt.RC4Drop=Ft.extend({cfg:Ft.cfg.extend({drop:192}),_doReset:function(){Ft._doReset.call(this);for(var Lt=this.cfg.drop;Lt>0;Lt--)Nt.call(this)}});mt.RC4Drop=Ct._createHelper(jt)}(),at.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.StreamCipher,Dt=mt.algo,Ft=[],Nt=[],jt=[],Lt=Dt.Rabbit=Ct.extend({_doReset:function(){for(var er=this._key.words,ir=this.cfg.iv,or=0;or<4;or++)er[or]=(er[or]<<8|er[or]>>>24)&16711935|(er[or]<<24|er[or]>>>8)&4278255360;var lr=this._X=[er[0],er[3]<<16|er[2]>>>16,er[1],er[0]<<16|er[3]>>>16,er[2],er[1]<<16|er[0]>>>16,er[3],er[2]<<16|er[1]>>>16],dr=this._C=[er[2]<<16|er[2]>>>16,er[0]&4294901760|er[1]&65535,er[3]<<16|er[3]>>>16,er[1]&4294901760|er[2]&65535,er[0]<<16|er[0]>>>16,er[2]&4294901760|er[3]&65535,er[1]<<16|er[1]>>>16,er[3]&4294901760|er[0]&65535];this._b=0;for(var or=0;or<4;or++)Vt.call(this);for(var or=0;or<8;or++)dr[or]^=lr[or+4&7];if(ir){var pr=ir.words,hr=pr[0],vr=pr[1],br=(hr<<8|hr>>>24)&16711935|(hr<<24|hr>>>8)&4278255360,xr=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360,Sr=br>>>16|xr&4294901760,Er=xr<<16|br&65535;dr[0]^=br,dr[1]^=Sr,dr[2]^=xr,dr[3]^=Er,dr[4]^=br,dr[5]^=Sr,dr[6]^=xr,dr[7]^=Er;for(var or=0;or<4;or++)Vt.call(this)}},_doProcessBlock:function(er,ir){var or=this._X;Vt.call(this),Ft[0]=or[0]^or[5]>>>16^or[3]<<16,Ft[1]=or[2]^or[7]>>>16^or[5]<<16,Ft[2]=or[4]^or[1]>>>16^or[7]<<16,Ft[3]=or[6]^or[3]>>>16^or[1]<<16;for(var lr=0;lr<4;lr++)Ft[lr]=(Ft[lr]<<8|Ft[lr]>>>24)&16711935|(Ft[lr]<<24|Ft[lr]>>>8)&4278255360,er[ir+lr]^=Ft[lr]},blockSize:128/32,ivSize:64/32});function Vt(){for(var er=this._X,ir=this._C,or=0;or<8;or++)Nt[or]=ir[or];ir[0]=ir[0]+1295307597+this._b|0,ir[1]=ir[1]+3545052371+(ir[0]>>>0<Nt[0]>>>0?1:0)|0,ir[2]=ir[2]+886263092+(ir[1]>>>0<Nt[1]>>>0?1:0)|0,ir[3]=ir[3]+1295307597+(ir[2]>>>0<Nt[2]>>>0?1:0)|0,ir[4]=ir[4]+3545052371+(ir[3]>>>0<Nt[3]>>>0?1:0)|0,ir[5]=ir[5]+886263092+(ir[4]>>>0<Nt[4]>>>0?1:0)|0,ir[6]=ir[6]+1295307597+(ir[5]>>>0<Nt[5]>>>0?1:0)|0,ir[7]=ir[7]+3545052371+(ir[6]>>>0<Nt[6]>>>0?1:0)|0,this._b=ir[7]>>>0<Nt[7]>>>0?1:0;for(var or=0;or<8;or++){var lr=er[or]+ir[or],dr=lr&65535,pr=lr>>>16,hr=((dr*dr>>>17)+dr*pr>>>15)+pr*pr,vr=((lr&4294901760)*lr|0)+((lr&65535)*lr|0);jt[or]=hr^vr}er[0]=jt[0]+(jt[7]<<16|jt[7]>>>16)+(jt[6]<<16|jt[6]>>>16)|0,er[1]=jt[1]+(jt[0]<<8|jt[0]>>>24)+jt[7]|0,er[2]=jt[2]+(jt[1]<<16|jt[1]>>>16)+(jt[0]<<16|jt[0]>>>16)|0,er[3]=jt[3]+(jt[2]<<8|jt[2]>>>24)+jt[1]|0,er[4]=jt[4]+(jt[3]<<16|jt[3]>>>16)+(jt[2]<<16|jt[2]>>>16)|0,er[5]=jt[5]+(jt[4]<<8|jt[4]>>>24)+jt[3]|0,er[6]=jt[6]+(jt[5]<<16|jt[5]>>>16)+(jt[4]<<16|jt[4]>>>16)|0,er[7]=jt[7]+(jt[6]<<8|jt[6]>>>24)+jt[5]|0}mt.Rabbit=Ct._createHelper(Lt)}(),at.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.StreamCipher,Dt=mt.algo,Ft=[],Nt=[],jt=[],Lt=Dt.RabbitLegacy=Ct.extend({_doReset:function(){var er=this._key.words,ir=this.cfg.iv,or=this._X=[er[0],er[3]<<16|er[2]>>>16,er[1],er[0]<<16|er[3]>>>16,er[2],er[1]<<16|er[0]>>>16,er[3],er[2]<<16|er[1]>>>16],lr=this._C=[er[2]<<16|er[2]>>>16,er[0]&4294901760|er[1]&65535,er[3]<<16|er[3]>>>16,er[1]&4294901760|er[2]&65535,er[0]<<16|er[0]>>>16,er[2]&4294901760|er[3]&65535,er[1]<<16|er[1]>>>16,er[3]&4294901760|er[0]&65535];this._b=0;for(var dr=0;dr<4;dr++)Vt.call(this);for(var dr=0;dr<8;dr++)lr[dr]^=or[dr+4&7];if(ir){var pr=ir.words,hr=pr[0],vr=pr[1],br=(hr<<8|hr>>>24)&16711935|(hr<<24|hr>>>8)&4278255360,xr=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360,Sr=br>>>16|xr&4294901760,Er=xr<<16|br&65535;lr[0]^=br,lr[1]^=Sr,lr[2]^=xr,lr[3]^=Er,lr[4]^=br,lr[5]^=Sr,lr[6]^=xr,lr[7]^=Er;for(var dr=0;dr<4;dr++)Vt.call(this)}},_doProcessBlock:function(er,ir){var or=this._X;Vt.call(this),Ft[0]=or[0]^or[5]>>>16^or[3]<<16,Ft[1]=or[2]^or[7]>>>16^or[5]<<16,Ft[2]=or[4]^or[1]>>>16^or[7]<<16,Ft[3]=or[6]^or[3]>>>16^or[1]<<16;for(var lr=0;lr<4;lr++)Ft[lr]=(Ft[lr]<<8|Ft[lr]>>>24)&16711935|(Ft[lr]<<24|Ft[lr]>>>8)&4278255360,er[ir+lr]^=Ft[lr]},blockSize:128/32,ivSize:64/32});function Vt(){for(var er=this._X,ir=this._C,or=0;or<8;or++)Nt[or]=ir[or];ir[0]=ir[0]+1295307597+this._b|0,ir[1]=ir[1]+3545052371+(ir[0]>>>0<Nt[0]>>>0?1:0)|0,ir[2]=ir[2]+886263092+(ir[1]>>>0<Nt[1]>>>0?1:0)|0,ir[3]=ir[3]+1295307597+(ir[2]>>>0<Nt[2]>>>0?1:0)|0,ir[4]=ir[4]+3545052371+(ir[3]>>>0<Nt[3]>>>0?1:0)|0,ir[5]=ir[5]+886263092+(ir[4]>>>0<Nt[4]>>>0?1:0)|0,ir[6]=ir[6]+1295307597+(ir[5]>>>0<Nt[5]>>>0?1:0)|0,ir[7]=ir[7]+3545052371+(ir[6]>>>0<Nt[6]>>>0?1:0)|0,this._b=ir[7]>>>0<Nt[7]>>>0?1:0;for(var or=0;or<8;or++){var lr=er[or]+ir[or],dr=lr&65535,pr=lr>>>16,hr=((dr*dr>>>17)+dr*pr>>>15)+pr*pr,vr=((lr&4294901760)*lr|0)+((lr&65535)*lr|0);jt[or]=hr^vr}er[0]=jt[0]+(jt[7]<<16|jt[7]>>>16)+(jt[6]<<16|jt[6]>>>16)|0,er[1]=jt[1]+(jt[0]<<8|jt[0]>>>24)+jt[7]|0,er[2]=jt[2]+(jt[1]<<16|jt[1]>>>16)+(jt[0]<<16|jt[0]>>>16)|0,er[3]=jt[3]+(jt[2]<<8|jt[2]>>>24)+jt[1]|0,er[4]=jt[4]+(jt[3]<<16|jt[3]>>>16)+(jt[2]<<16|jt[2]>>>16)|0,er[5]=jt[5]+(jt[4]<<8|jt[4]>>>24)+jt[3]|0,er[6]=jt[6]+(jt[5]<<16|jt[5]>>>16)+(jt[4]<<16|jt[4]>>>16)|0,er[7]=jt[7]+(jt[6]<<8|jt[6]>>>24)+jt[5]|0}mt.RabbitLegacy=Ct._createHelper(Lt)}(),at.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(at){return function(){var mt=at,$t=mt.lib,Ct=$t.BlockCipher,Dt=mt.algo;const Ft=16,Nt=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],jt=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Lt={pbox:[],sbox:[]};function Vt(dr,pr){let hr=pr>>24&255,vr=pr>>16&255,br=pr>>8&255,xr=pr&255,Sr=dr.sbox[0][hr]+dr.sbox[1][vr];return Sr=Sr^dr.sbox[2][br],Sr=Sr+dr.sbox[3][xr],Sr}function er(dr,pr,hr){let vr=pr,br=hr,xr;for(let Sr=0;Sr<Ft;++Sr)vr=vr^dr.pbox[Sr],br=Vt(dr,vr)^br,xr=vr,vr=br,br=xr;return xr=vr,vr=br,br=xr,br=br^dr.pbox[Ft],vr=vr^dr.pbox[Ft+1],{left:vr,right:br}}function ir(dr,pr,hr){let vr=pr,br=hr,xr;for(let Sr=Ft+1;Sr>1;--Sr)vr=vr^dr.pbox[Sr],br=Vt(dr,vr)^br,xr=vr,vr=br,br=xr;return xr=vr,vr=br,br=xr,br=br^dr.pbox[1],vr=vr^dr.pbox[0],{left:vr,right:br}}function or(dr,pr,hr){for(let Er=0;Er<4;Er++){dr.sbox[Er]=[];for(let $r=0;$r<256;$r++)dr.sbox[Er][$r]=jt[Er][$r]}let vr=0;for(let Er=0;Er<Ft+2;Er++)dr.pbox[Er]=Nt[Er]^pr[vr],vr++,vr>=hr&&(vr=0);let br=0,xr=0,Sr=0;for(let Er=0;Er<Ft+2;Er+=2)Sr=er(dr,br,xr),br=Sr.left,xr=Sr.right,dr.pbox[Er]=br,dr.pbox[Er+1]=xr;for(let Er=0;Er<4;Er++)for(let $r=0;$r<256;$r+=2)Sr=er(dr,br,xr),br=Sr.left,xr=Sr.right,dr.sbox[Er][$r]=br,dr.sbox[Er][$r+1]=xr;return!0}var lr=Dt.Blowfish=Ct.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var dr=this._keyPriorReset=this._key,pr=dr.words,hr=dr.sigBytes/4;or(Lt,pr,hr)}},encryptBlock:function(dr,pr){var hr=er(Lt,dr[pr],dr[pr+1]);dr[pr]=hr.left,dr[pr+1]=hr.right},decryptBlock:function(dr,pr){var hr=ir(Lt,dr[pr],dr[pr+1]);dr[pr]=hr.left,dr[pr+1]=hr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});mt.Blowfish=Ct._createHelper(lr)}(),at.Blowfish})}(blowfish)),blowfish.exports}(function(nt,et){(function(at,mt,$t){nt.exports=mt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(at){return at})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const crypto$1=getDefaultExportFromCjs$2(cryptoJsExports);var __defProp$2=Object.defineProperty,__defNormalProp$2=(nt,et,at)=>et in nt?__defProp$2(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__name=(nt,et)=>__defProp$2(nt,"name",{value:et,configurable:!0}),__publicField=(nt,et,at)=>(__defNormalProp$2(nt,typeof et!="symbol"?et+"":et,at),at),DEFAULT_HOST="https://pay.coinbase.com",generateOnRampURL=__name(({host:nt=DEFAULT_HOST,...et})=>{const at=new URL(nt);if(at.pathname="/buy/select-asset",et.destinationWallets&&et.addresses)throw new Error("Only one of destinationWallets or addresses can be provided");if(!et.destinationWallets&&!et.addresses)throw new Error("One of destinationWallets or addresses must be provided");return Object.keys(et).forEach(mt=>{const $t=et[mt];$t!==void 0&&(["string","number","boolean"].includes(typeof $t)?at.searchParams.append(mt,$t.toString()):at.searchParams.append(mt,JSON.stringify($t)))}),at.searchParams.sort(),at.toString()},"generateOnRampURL"),EMBEDDED_IFRAME_ID="cbpay-embedded-onramp",createEmbeddedContent=__name(({url:nt,width:et="100%",height:at="100%",position:mt="fixed",top:$t="0px"})=>{const Ct=document.createElement("iframe");return Ct.style.border="unset",Ct.style.borderWidth="0",Ct.style.width=et.toString(),Ct.style.height=at.toString(),Ct.style.position=mt,Ct.style.top=$t,Ct.id=EMBEDDED_IFRAME_ID,Ct.src=nt,Ct},"createEmbeddedContent"),MessageCodes;(function(nt){nt.LaunchEmbedded="launch_embedded",nt.AppReady="app_ready",nt.AppParams="app_params",nt.SigninSuccess="signin_success",nt.Success="success",nt.Exit="exit",nt.Event="event",nt.Error="error",nt.PixelReady="pixel_ready",nt.OnAppParamsNonce="on_app_params_nonce"})(MessageCodes||(MessageCodes={}));var onBroadcastedPostMessage=__name((nt,{onMessage:et,shouldUnsubscribe:at=!0,allowedOrigin:mt,onValidateOrigin:$t=__name(()=>Promise.resolve(!0),"onValidateOrigin")})=>{const Ct=__name(Dt=>{const{eventName:Ft,data:Nt}=parsePostMessage(Dt.data),jt=!mt||Dt.origin===mt;Ft===nt&&(async()=>jt&&await $t(Dt.origin)&&(et(Nt),at&&window.removeEventListener("message",Ct)))()},"onMessage");return window.addEventListener("message",Ct),()=>{window.removeEventListener("message",Ct)}},"onBroadcastedPostMessage"),broadcastPostMessage=__name((nt,et,{allowedOrigin:at="*",data:mt}={})=>{const $t=formatPostMessage(et,mt);nt.postMessage($t,at)},"broadcastPostMessage"),parsePostMessage=__name(nt=>{try{return JSON.parse(nt)}catch{return{eventName:nt}}},"parsePostMessage"),formatPostMessage=__name((nt,et)=>et?JSON.stringify({eventName:nt,data:et}):nt,"formatPostMessage"),generateOffRampURL=__name(({host:nt=DEFAULT_HOST,...et})=>{const at=new URL(nt);return at.pathname="/v3/sell/input",Object.keys(et).forEach(mt=>{const $t=et[mt];$t!==void 0&&(["string","number","boolean"].includes(typeof $t)?at.searchParams.append(mt,$t.toString()):at.searchParams.append(mt,JSON.stringify($t)))}),at.searchParams.sort(),at.toString()},"generateOffRampURL"),PopupSizes={signin:{width:460,height:730},widget:{width:430,height:600}},CoinbasePixel=class{constructor({host:nt=DEFAULT_HOST,appId:et,appParams:at,debug:mt,theme:$t}){__publicField(this,"debug"),__publicField(this,"host"),__publicField(this,"appId"),__publicField(this,"eventStreamListeners",{}),__publicField(this,"unsubs",[]),__publicField(this,"appParams"),__publicField(this,"removeEventListener"),__publicField(this,"theme"),__publicField(this,"openExperience",__name(Ct=>{var Vt,er,ir,or;this.log("Attempting to open experience"),this.setupExperienceListeners(Ct);const{experienceLoggedIn:Dt,experienceLoggedOut:Ft,embeddedContentStyles:Nt}=Ct,jt=Ft||Dt;let Lt="";if(Ct.path==="/v3/sell"?Lt=generateOffRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}):Lt=generateOnRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}),this.log("Opening experience",{experience:jt}),jt==="embedded"){this.log("DEPRECATION WARNING: Two factor authentication does not work in an iframe, so the embedded experience should not be used. It will be removed in a future release");const lr=__name(()=>{var pr;const dr=createEmbeddedContent({url:Lt,...Nt});Nt!=null&&Nt.target?(pr=document.querySelector(Nt==null?void 0:Nt.target))==null||pr.replaceChildren(dr):document.body.appendChild(dr)},"openEmbeddedExperience");this.startDirectSignin(lr)}else jt==="popup"&&((er=(Vt=window.chrome)==null?void 0:Vt.windows)!=null&&er.create)?window.chrome.windows.create({url:Lt,setSelfAsOpener:!0,type:"popup",focused:!0,width:PopupSizes.signin.width,height:PopupSizes.signin.height,left:window.screenLeft-PopupSizes.signin.width-10,top:window.screenTop},lr=>{const dr=__name(()=>{lr!=null&&lr.id&&(chrome.windows.update(lr.id,{width:PopupSizes.widget.width,height:PopupSizes.widget.height,left:window.screenLeft-PopupSizes.widget.width-10,top:window.screenTop}),this.removeEventStreamListener("open",dr))},"onOpenCallback");this.addEventStreamListener("open",dr)}):jt==="new_tab"&&((or=(ir=window.chrome)==null?void 0:ir.tabs)!=null&&or.create)?window.chrome.tabs.create({url:Lt}):openWindow(Lt,jt)},"openExperience")),__publicField(this,"endExperience",__name(()=>{var Ct;(Ct=document.getElementById(EMBEDDED_IFRAME_ID))==null||Ct.remove()},"endExperience")),__publicField(this,"destroy",__name(()=>{this.unsubs.forEach(Ct=>Ct())},"destroy")),__publicField(this,"setupExperienceListeners",__name(({onSuccess:Ct,onExit:Dt,onEvent:Ft,onRequestedUrl:Nt})=>{this.removeEventListener&&this.removeEventListener(),this.removeEventListener=this.onMessage("event",{shouldUnsubscribe:!1,onMessage:jt=>{var Vt;const Lt=jt;(Vt=this.eventStreamListeners[Lt.eventName])==null||Vt.forEach(er=>er==null?void 0:er()),Lt.eventName==="success"&&(Ct==null||Ct()),Lt.eventName==="exit"&&(Dt==null||Dt(Lt.error)),Lt.eventName==="request_open_url"&&(Nt==null||Nt(Lt.url)),Ft==null||Ft(jt)}})},"setupExperienceListeners")),__publicField(this,"startDirectSignin",__name(Ct=>{const Dt=new URLSearchParams;Dt.set("appId",this.appId),Dt.set("type","direct");const Ft=`${this.host}/signin?${Dt.toString()}`,Nt=openWindow(Ft,"popup");this.onMessage("signin_success",{onMessage:()=>{Nt==null||Nt.close(),Ct()}})},"startDirectSignin")),__publicField(this,"addEventStreamListener",__name((Ct,Dt)=>{var Ft;this.eventStreamListeners[Ct]?(Ft=this.eventStreamListeners[Ct])==null||Ft.push(Dt):this.eventStreamListeners[Ct]=[Dt]},"addEventStreamListener")),__publicField(this,"removeEventStreamListener",__name((Ct,Dt)=>{var Ft;if(this.eventStreamListeners[Ct]){const Nt=(Ft=this.eventStreamListeners[Ct])==null?void 0:Ft.filter(jt=>jt!==Dt);this.eventStreamListeners[Ct]=Nt}},"removeEventStreamListener")),__publicField(this,"onMessage",__name((...Ct)=>{const Dt=onBroadcastedPostMessage(Ct[0],{allowedOrigin:this.host,...Ct[1]});return this.unsubs.push(Dt),Dt},"onMessage")),__publicField(this,"log",__name((...Ct)=>{this.debug&&console.log("[CBPAY]",...Ct)},"log")),this.host=nt,this.appId=et,this.appParams=at,this.debug=mt||!1,this.theme=$t}};__name(CoinbasePixel,"CoinbasePixel");function openWindow(nt,et){return window.open(nt,"Coinbase",et==="popup"?`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, height=${PopupSizes.signin.height},width=${PopupSizes.signin.width}`:void 0)}__name(openWindow,"openWindow");var widgetRoutes={buy:"/buy",checkout:"/checkout",sell:"/v3/sell"},CBPayInstance=class{constructor(nt){if(__publicField(this,"pixel"),__publicField(this,"options"),__publicField(this,"open",__name(()=>{const{widget:et,experienceLoggedIn:at,experienceLoggedOut:mt,embeddedContentStyles:$t,onExit:Ct,onSuccess:Dt,onEvent:Ft,onRequestedUrl:Nt,closeOnSuccess:jt,closeOnExit:Lt}=this.options;this.pixel.openExperience({path:widgetRoutes[et],experienceLoggedIn:at,experienceLoggedOut:mt,embeddedContentStyles:$t,onExit:()=>{Ct==null||Ct(),Lt&&this.pixel.endExperience()},onSuccess:()=>{Dt==null||Dt(),jt&&this.pixel.endExperience()},onRequestedUrl:Nt,onEvent:Ft})},"open")),__publicField(this,"destroy",__name(()=>{this.pixel.destroy()},"destroy")),this.options=nt,this.pixel=new CoinbasePixel({...nt,appParams:{widget:nt.widget,...nt.appParams}}),nt.target){const et=document.querySelector(nt.target);et&&et.addEventListener("click",this.open)}}};__name(CBPayInstance,"CBPayInstance");function broadcastEvent(nt,et){broadcastPostMessage(nt,"event",{data:et})}__name(broadcastEvent,"broadcastEvent");function CustomToast(nt){const{children:et,onClose:at}=nt;return jsxRuntimeExports.jsxs(HStack,{w:"440px",bg:"background",border:"2px",borderColor:"border",borderRadius:"12px",p:"16px",position:"relative",gap:"16px",sx:{"@media screen and (max-width: 810px)":{w:"unset",minW:"330px",p:"16px"}},children:[jsxRuntimeExports.jsx(VStack,{w:"100%",alignItems:"start",children:et}),jsxRuntimeExports.jsx(Center,{onClick:at,position:"absolute",right:"16px",top:"16px",children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}const img_nodata_error="/assets/img_nodata@2x-BiWQ6WZn.png";function Notfound$1(){return jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsxs(Flex,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"background",direction:"column",left:"50%",top:"0px",transform:"translateX(-50%)",children:[jsxRuntimeExports.jsx(Text,{fontSize:"20px",mb:"-50px",textColor:"text_caption",children:"Oops..."}),jsxRuntimeExports.jsx(Image$1,{w:"350px",h:"529px",src:img_nodata_error}),jsxRuntimeExports.jsx(Text,{fontSize:{md:"32px",lg:"60px"},textColor:"primary",mt:"-80px",children:"Something Error"}),jsxRuntimeExports.jsx(Button,{mt:"40px",w:"200px",onClick:()=>window.location.reload(),children:"Refresh"})]})})}const MAX_RETRY_COUNT=1;class ErrorBoundary extends React.Component{constructor(et){super(et),this.state={showErrorComponent:!1,hasError:!1,retryCount:0}}getRetryCountFromURL(){const et=new URLSearchParams(window.location.search);return parseInt(et.get("retryCount")||"0",10)}updateRetryCountInURL(et){const at=new URLSearchParams(window.location.search);at.set("retryCount",et.toString()),window.history.replaceState(null,"",`${window.location.pathname}?${at.toString()}`)}static getDerivedStateFromError(et){return{hasError:!0,showErrorComponent:!1}}componentDidCatch(et,at){if(console.error("Error caught in Error Boundary: ",et,at),et&&String(et).includes("Failed to fetch dynamically imported module")){const $t=this.getRetryCountFromURL();if($t<MAX_RETRY_COUNT){const Ct=$t+1;this.updateRetryCountInURL(Ct),console.log(`Retrying... (${Ct}/${MAX_RETRY_COUNT})`),window.location.reload()}else console.error("Max retry count reached. Showing fallback UI."),this.setState({showErrorComponent:!0,hasError:!0})}else this.setState({showErrorComponent:!0,hasError:!0})}render(){return this.state.hasError?this.state.showErrorComponent?jsxRuntimeExports.jsx(Notfound$1,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):this.props.children}}function NavLink(nt){const{children:et,link:at,type:mt="reactRouterLink",isActive:$t,fontSize:Ct,...Dt}=nt,Ft={fontFamily:"Inter",color:$t?"text_caption":"text_paragraph",fontSize:Ct||"15px",cursor:"pointer",height:"24px",lineHeight:"24px",_hover:{color:"text_caption"}};return mt==="reactRouterLink"?jsxRuntimeExports.jsx(Link,{as:Link$1,to:at,...Ft,...Dt,children:et}):mt==="_blank"?jsxRuntimeExports.jsx(Link,{href:at,target:"_blank",...Ft,...Dt,children:et}):jsxRuntimeExports.jsx(Box,{as:"a",...Ft,...Dt,children:et})}function useTokenPrice(){const{coinPriceObj:nt,setPriceObj:et,clearPriceObj:at}=useTokenPriceStore(),mt=async Nt=>{try{const jt=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/market_price`,Lt=await fetchGet(jt,{base_symbol_address_pair:Nt.map(er=>fixCoinType(er,!1))});console.log("🚀 ~ file: useRates.ts:8 ~ fetchRates ~ res:",Lt);const Vt=Lt.prices;if(Vt){const er={};Vt.forEach(ir=>{er[extractStructTagFromType$1(ir.base_symbol).full_address]=ir}),et(er)}return Vt}catch(jt){return console.log("🚀 ~ file: useRates.ts:21 ~ fetchRates ~ error:",jt),at(Nt),null}},$t=reactExports.useCallback(Nt=>{if(!Nt)return;const jt=nt[extractStructTagFromType$1(Nt).full_address];if(jt)return jt},[nt]),Ct=reactExports.useCallback((Nt,jt,Lt)=>{const Vt=Number(jt)==0||!Lt?"0":Lt;if(jt&&Nt&&+jt){const er=$t(Nt);if(er)return d$2(jt).mul(er.price).toString()}return Vt},[nt]),Dt=reactExports.useCallback((Nt,jt,Lt)=>{const Vt=Number(jt)==0||!Lt?"0":Lt;if(jt&&Nt&&+jt){const er=$t(Nt);if(er)return d$2(jt).div(er.price).toString()}return Vt},[nt]);return{getTokenAmountValue:Ct,getTokenAmount:Dt,getTokenPrice:$t,fetchTokenPrices:mt,getPriceKline:async(Nt,jt)=>{var er;const Lt=Nt==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":Nt,Vt=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/coin/kline?coin_address=${Lt}&interval=day&market=${jt}`;try{const ir=await fetchGet(Vt),or=Math.min(...ir.list.map(lr=>Number(lr==null?void 0:lr.price)));return{price:((er=ir==null?void 0:ir.list)==null?void 0:er.reverse().map(lr=>({...lr,value:d$2(lr==null?void 0:lr.price).minus(or).toString()})))||[],daily_rate:ir==null?void 0:ir.daily_rate.replace("%","")}}catch{return{price:[],daily_rate:""}}}}}var freeGlobal=typeof global$1=="object"&&global$1&&global$1.Object===Object&&global$1,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(nt){var et=hasOwnProperty$9.call(nt,symToStringTag$1),at=nt[symToStringTag$1];try{nt[symToStringTag$1]=void 0;var mt=!0}catch{}var $t=nativeObjectToString$1.call(nt);return mt&&(et?nt[symToStringTag$1]=at:delete nt[symToStringTag$1]),$t}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(nt){return nativeObjectToString.call(nt)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(nt){return nt==null?nt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(nt)?getRawTag(nt):objectToString(nt)}function isObjectLike(nt){return nt!=null&&typeof nt=="object"}var symbolTag$1="[object Symbol]";function isSymbol(nt){return typeof nt=="symbol"||isObjectLike(nt)&&baseGetTag(nt)==symbolTag$1}function arrayMap(nt,et){for(var at=-1,mt=nt==null?0:nt.length,$t=Array(mt);++at<mt;)$t[at]=et(nt[at],at,nt);return $t}var isArray=Array.isArray,INFINITY$1=1/0,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(nt){if(typeof nt=="string")return nt;if(isArray(nt))return arrayMap(nt,baseToString)+"";if(isSymbol(nt))return symbolToString?symbolToString.call(nt):"";var et=nt+"";return et=="0"&&1/nt==-INFINITY$1?"-0":et}function isObject$1(nt){var et=typeof nt;return nt!=null&&(et=="object"||et=="function")}function identity(nt){return nt}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(nt){if(!isObject$1(nt))return!1;var et=baseGetTag(nt);return et==funcTag$1||et==genTag||et==asyncTag||et==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var nt=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return nt?"Symbol(src)_1."+nt:""}();function isMasked(nt){return!!maskSrcKey&&maskSrcKey in nt}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(nt){if(nt!=null){try{return funcToString$1.call(nt)}catch{}try{return nt+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(nt){if(!isObject$1(nt)||isMasked(nt))return!1;var et=isFunction(nt)?reIsNative:reIsHostCtor;return et.test(toSource(nt))}function getValue$1(nt,et){return nt==null?void 0:nt[et]}function getNative(nt,et){var at=getValue$1(nt,et);return baseIsNative(at)?at:void 0}var WeakMap$1=getNative(root,"WeakMap"),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(nt,et){var at=typeof nt;return et=et??MAX_SAFE_INTEGER$1,!!et&&(at=="number"||at!="symbol"&&reIsUint.test(nt))&&nt>-1&&nt%1==0&&nt<et}function eq$1(nt,et){return nt===et||nt!==nt&&et!==et}var MAX_SAFE_INTEGER=9007199254740991;function isLength(nt){return typeof nt=="number"&&nt>-1&&nt%1==0&&nt<=MAX_SAFE_INTEGER}function isArrayLike(nt){return nt!=null&&isLength(nt.length)&&!isFunction(nt)}var objectProto$8=Object.prototype;function isPrototype(nt){var et=nt&&nt.constructor,at=typeof et=="function"&&et.prototype||objectProto$8;return nt===at}function baseTimes(nt,et){for(var at=-1,mt=Array(nt);++at<nt;)mt[at]=et(at);return mt}var argsTag$2="[object Arguments]";function baseIsArguments(nt){return isObjectLike(nt)&&baseGetTag(nt)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(nt){return isObjectLike(nt)&&hasOwnProperty$7.call(nt,"callee")&&!propertyIsEnumerable$1.call(nt,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(nt){return isObjectLike(nt)&&isLength(nt.length)&&!!typedArrayTags[baseGetTag(nt)]}function baseUnary(nt){return function(et){return nt(et)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var nt=freeModule&&freeModule.require&&freeModule.require("util").types;return nt||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(nt,et){var at=isArray(nt),mt=!at&&isArguments(nt),$t=!at&&!mt&&isBuffer(nt),Ct=!at&&!mt&&!$t&&isTypedArray(nt),Dt=at||mt||$t||Ct,Ft=Dt?baseTimes(nt.length,String):[],Nt=Ft.length;for(var jt in nt)(et||hasOwnProperty$6.call(nt,jt))&&!(Dt&&(jt=="length"||$t&&(jt=="offset"||jt=="parent")||Ct&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||isIndex(jt,Nt)))&&Ft.push(jt);return Ft}function overArg(nt,et){return function(at){return nt(et(at))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(nt){if(!isPrototype(nt))return nativeKeys(nt);var et=[];for(var at in Object(nt))hasOwnProperty$5.call(nt,at)&&at!="constructor"&&et.push(at);return et}function keys(nt){return isArrayLike(nt)?arrayLikeKeys(nt):baseKeys(nt)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(nt,et){if(isArray(nt))return!1;var at=typeof nt;return at=="number"||at=="symbol"||at=="boolean"||nt==null||isSymbol(nt)?!0:reIsPlainProp.test(nt)||!reIsDeepProp.test(nt)||et!=null&&nt in Object(et)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(nt){var et=this.has(nt)&&delete this.__data__[nt];return this.size-=et?1:0,et}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(nt){var et=this.__data__;if(nativeCreate){var at=et[nt];return at===HASH_UNDEFINED$2?void 0:at}return hasOwnProperty$4.call(et,nt)?et[nt]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(nt){var et=this.__data__;return nativeCreate?et[nt]!==void 0:hasOwnProperty$3.call(et,nt)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(nt,et){var at=this.__data__;return this.size+=this.has(nt)?0:1,at[nt]=nativeCreate&&et===void 0?HASH_UNDEFINED$1:et,this}function Hash(nt){var et=-1,at=nt==null?0:nt.length;for(this.clear();++et<at;){var mt=nt[et];this.set(mt[0],mt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(nt,et){for(var at=nt.length;at--;)if(eq$1(nt[at][0],et))return at;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(nt){var et=this.__data__,at=assocIndexOf(et,nt);if(at<0)return!1;var mt=et.length-1;return at==mt?et.pop():splice.call(et,at,1),--this.size,!0}function listCacheGet(nt){var et=this.__data__,at=assocIndexOf(et,nt);return at<0?void 0:et[at][1]}function listCacheHas(nt){return assocIndexOf(this.__data__,nt)>-1}function listCacheSet(nt,et){var at=this.__data__,mt=assocIndexOf(at,nt);return mt<0?(++this.size,at.push([nt,et])):at[mt][1]=et,this}function ListCache(nt){var et=-1,at=nt==null?0:nt.length;for(this.clear();++et<at;){var mt=nt[et];this.set(mt[0],mt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(nt){var et=typeof nt;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?nt!=="__proto__":nt===null}function getMapData(nt,et){var at=nt.__data__;return isKeyable(et)?at[typeof et=="string"?"string":"hash"]:at.map}function mapCacheDelete(nt){var et=getMapData(this,nt).delete(nt);return this.size-=et?1:0,et}function mapCacheGet(nt){return getMapData(this,nt).get(nt)}function mapCacheHas(nt){return getMapData(this,nt).has(nt)}function mapCacheSet(nt,et){var at=getMapData(this,nt),mt=at.size;return at.set(nt,et),this.size+=at.size==mt?0:1,this}function MapCache(nt){var et=-1,at=nt==null?0:nt.length;for(this.clear();++et<at;){var mt=nt[et];this.set(mt[0],mt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(nt,et){if(typeof nt!="function"||et!=null&&typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);var at=function(){var mt=arguments,$t=et?et.apply(this,mt):mt[0],Ct=at.cache;if(Ct.has($t))return Ct.get($t);var Dt=nt.apply(this,mt);return at.cache=Ct.set($t,Dt)||Ct,Dt};return at.cache=new(memoize.Cache||MapCache),at}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(nt){var et=memoize(nt,function(mt){return at.size===MAX_MEMOIZE_SIZE&&at.clear(),mt}),at=et.cache;return et}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(nt){var et=[];return nt.charCodeAt(0)===46&&et.push(""),nt.replace(rePropName,function(at,mt,$t,Ct){et.push($t?Ct.replace(reEscapeChar,"$1"):mt||at)}),et});function toString(nt){return nt==null?"":baseToString(nt)}function castPath(nt,et){return isArray(nt)?nt:isKey(nt,et)?[nt]:stringToPath(toString(nt))}var INFINITY=1/0;function toKey(nt){if(typeof nt=="string"||isSymbol(nt))return nt;var et=nt+"";return et=="0"&&1/nt==-INFINITY?"-0":et}function baseGet(nt,et){et=castPath(et,nt);for(var at=0,mt=et.length;nt!=null&&at<mt;)nt=nt[toKey(et[at++])];return at&&at==mt?nt:void 0}function get(nt,et,at){var mt=nt==null?void 0:baseGet(nt,et);return mt===void 0?at:mt}function arrayPush(nt,et){for(var at=-1,mt=et.length,$t=nt.length;++at<mt;)nt[$t+at]=et[at];return nt}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(nt){var et=this.__data__,at=et.delete(nt);return this.size=et.size,at}function stackGet(nt){return this.__data__.get(nt)}function stackHas(nt){return this.__data__.has(nt)}var LARGE_ARRAY_SIZE=200;function stackSet(nt,et){var at=this.__data__;if(at instanceof ListCache){var mt=at.__data__;if(!Map$1||mt.length<LARGE_ARRAY_SIZE-1)return mt.push([nt,et]),this.size=++at.size,this;at=this.__data__=new MapCache(mt)}return at.set(nt,et),this.size=at.size,this}function Stack(nt){var et=this.__data__=new ListCache(nt);this.size=et.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(nt,et){for(var at=-1,mt=nt==null?0:nt.length,$t=0,Ct=[];++at<mt;){var Dt=nt[at];et(Dt,at,nt)&&(Ct[$t++]=Dt)}return Ct}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(nt){return nt==null?[]:(nt=Object(nt),arrayFilter(nativeGetSymbols(nt),function(et){return propertyIsEnumerable.call(nt,et)}))}:stubArray;function baseGetAllKeys(nt,et,at){var mt=et(nt);return isArray(nt)?mt:arrayPush(mt,at(nt))}function getAllKeys(nt){return baseGetAllKeys(nt,keys,getSymbols)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(nt){var et=baseGetTag(nt),at=et==objectTag$1?nt.constructor:void 0,mt=at?toSource(at):"";if(mt)switch(mt){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return et});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(nt){return this.__data__.set(nt,HASH_UNDEFINED),this}function setCacheHas(nt){return this.__data__.has(nt)}function SetCache(nt){var et=-1,at=nt==null?0:nt.length;for(this.__data__=new MapCache;++et<at;)this.add(nt[et])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(nt,et){for(var at=-1,mt=nt==null?0:nt.length;++at<mt;)if(et(nt[at],at,nt))return!0;return!1}function cacheHas(nt,et){return nt.has(et)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(nt,et,at,mt,$t,Ct){var Dt=at&COMPARE_PARTIAL_FLAG$5,Ft=nt.length,Nt=et.length;if(Ft!=Nt&&!(Dt&&Nt>Ft))return!1;var jt=Ct.get(nt),Lt=Ct.get(et);if(jt&&Lt)return jt==et&&Lt==nt;var Vt=-1,er=!0,ir=at&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(Ct.set(nt,et),Ct.set(et,nt);++Vt<Ft;){var or=nt[Vt],lr=et[Vt];if(mt)var dr=Dt?mt(lr,or,Vt,et,nt,Ct):mt(or,lr,Vt,nt,et,Ct);if(dr!==void 0){if(dr)continue;er=!1;break}if(ir){if(!arraySome(et,function(pr,hr){if(!cacheHas(ir,hr)&&(or===pr||$t(or,pr,at,mt,Ct)))return ir.push(hr)})){er=!1;break}}else if(!(or===lr||$t(or,lr,at,mt,Ct))){er=!1;break}}return Ct.delete(nt),Ct.delete(et),er}function mapToArray(nt){var et=-1,at=Array(nt.size);return nt.forEach(function(mt,$t){at[++et]=[$t,mt]}),at}function setToArray(nt){var et=-1,at=Array(nt.size);return nt.forEach(function(mt){at[++et]=mt}),at}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(nt,et,at,mt,$t,Ct,Dt){switch(at){case dataViewTag:if(nt.byteLength!=et.byteLength||nt.byteOffset!=et.byteOffset)return!1;nt=nt.buffer,et=et.buffer;case arrayBufferTag:return!(nt.byteLength!=et.byteLength||!Ct(new Uint8Array$1(nt),new Uint8Array$1(et)));case boolTag:case dateTag:case numberTag:return eq$1(+nt,+et);case errorTag:return nt.name==et.name&&nt.message==et.message;case regexpTag:case stringTag:return nt==et+"";case mapTag:var Ft=mapToArray;case setTag:var Nt=mt&COMPARE_PARTIAL_FLAG$4;if(Ft||(Ft=setToArray),nt.size!=et.size&&!Nt)return!1;var jt=Dt.get(nt);if(jt)return jt==et;mt|=COMPARE_UNORDERED_FLAG$2,Dt.set(nt,et);var Lt=equalArrays(Ft(nt),Ft(et),mt,$t,Ct,Dt);return Dt.delete(nt),Lt;case symbolTag:if(symbolValueOf)return symbolValueOf.call(nt)==symbolValueOf.call(et)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(nt,et,at,mt,$t,Ct){var Dt=at&COMPARE_PARTIAL_FLAG$3,Ft=getAllKeys(nt),Nt=Ft.length,jt=getAllKeys(et),Lt=jt.length;if(Nt!=Lt&&!Dt)return!1;for(var Vt=Nt;Vt--;){var er=Ft[Vt];if(!(Dt?er in et:hasOwnProperty$2.call(et,er)))return!1}var ir=Ct.get(nt),or=Ct.get(et);if(ir&&or)return ir==et&&or==nt;var lr=!0;Ct.set(nt,et),Ct.set(et,nt);for(var dr=Dt;++Vt<Nt;){er=Ft[Vt];var pr=nt[er],hr=et[er];if(mt)var vr=Dt?mt(hr,pr,er,et,nt,Ct):mt(pr,hr,er,nt,et,Ct);if(!(vr===void 0?pr===hr||$t(pr,hr,at,mt,Ct):vr)){lr=!1;break}dr||(dr=er=="constructor")}if(lr&&!dr){var br=nt.constructor,xr=et.constructor;br!=xr&&"constructor"in nt&&"constructor"in et&&!(typeof br=="function"&&br instanceof br&&typeof xr=="function"&&xr instanceof xr)&&(lr=!1)}return Ct.delete(nt),Ct.delete(et),lr}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(nt,et,at,mt,$t,Ct){var Dt=isArray(nt),Ft=isArray(et),Nt=Dt?arrayTag:getTag(nt),jt=Ft?arrayTag:getTag(et);Nt=Nt==argsTag?objectTag:Nt,jt=jt==argsTag?objectTag:jt;var Lt=Nt==objectTag,Vt=jt==objectTag,er=Nt==jt;if(er&&isBuffer(nt)){if(!isBuffer(et))return!1;Dt=!0,Lt=!1}if(er&&!Lt)return Ct||(Ct=new Stack),Dt||isTypedArray(nt)?equalArrays(nt,et,at,mt,$t,Ct):equalByTag(nt,et,Nt,at,mt,$t,Ct);if(!(at&COMPARE_PARTIAL_FLAG$2)){var ir=Lt&&hasOwnProperty$1.call(nt,"__wrapped__"),or=Vt&&hasOwnProperty$1.call(et,"__wrapped__");if(ir||or){var lr=ir?nt.value():nt,dr=or?et.value():et;return Ct||(Ct=new Stack),$t(lr,dr,at,mt,Ct)}}return er?(Ct||(Ct=new Stack),equalObjects(nt,et,at,mt,$t,Ct)):!1}function baseIsEqual(nt,et,at,mt,$t){return nt===et?!0:nt==null||et==null||!isObjectLike(nt)&&!isObjectLike(et)?nt!==nt&&et!==et:baseIsEqualDeep(nt,et,at,mt,baseIsEqual,$t)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(nt,et,at,mt){var $t=at.length,Ct=$t;if(nt==null)return!Ct;for(nt=Object(nt);$t--;){var Dt=at[$t];if(Dt[2]?Dt[1]!==nt[Dt[0]]:!(Dt[0]in nt))return!1}for(;++$t<Ct;){Dt=at[$t];var Ft=Dt[0],Nt=nt[Ft],jt=Dt[1];if(Dt[2]){if(Nt===void 0&&!(Ft in nt))return!1}else{var Lt=new Stack,Vt;if(!(Vt===void 0?baseIsEqual(jt,Nt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,mt,Lt):Vt))return!1}}return!0}function isStrictComparable(nt){return nt===nt&&!isObject$1(nt)}function getMatchData(nt){for(var et=keys(nt),at=et.length;at--;){var mt=et[at],$t=nt[mt];et[at]=[mt,$t,isStrictComparable($t)]}return et}function matchesStrictComparable(nt,et){return function(at){return at==null?!1:at[nt]===et&&(et!==void 0||nt in Object(at))}}function baseMatches(nt){var et=getMatchData(nt);return et.length==1&&et[0][2]?matchesStrictComparable(et[0][0],et[0][1]):function(at){return at===nt||baseIsMatch(at,nt,et)}}function baseHasIn(nt,et){return nt!=null&&et in Object(nt)}function hasPath(nt,et,at){et=castPath(et,nt);for(var mt=-1,$t=et.length,Ct=!1;++mt<$t;){var Dt=toKey(et[mt]);if(!(Ct=nt!=null&&at(nt,Dt)))break;nt=nt[Dt]}return Ct||++mt!=$t?Ct:($t=nt==null?0:nt.length,!!$t&&isLength($t)&&isIndex(Dt,$t)&&(isArray(nt)||isArguments(nt)))}function hasIn(nt,et){return nt!=null&&hasPath(nt,et,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(nt,et){return isKey(nt)&&isStrictComparable(et)?matchesStrictComparable(toKey(nt),et):function(at){var mt=get(at,nt);return mt===void 0&&mt===et?hasIn(at,nt):baseIsEqual(et,mt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(nt){return function(et){return et==null?void 0:et[nt]}}function basePropertyDeep(nt){return function(et){return baseGet(et,nt)}}function property(nt){return isKey(nt)?baseProperty(toKey(nt)):basePropertyDeep(nt)}function baseIteratee(nt){return typeof nt=="function"?nt:nt==null?identity:typeof nt=="object"?isArray(nt)?baseMatchesProperty(nt[0],nt[1]):baseMatches(nt):property(nt)}function createBaseFor(nt){return function(et,at,mt){for(var $t=-1,Ct=Object(et),Dt=mt(et),Ft=Dt.length;Ft--;){var Nt=Dt[++$t];if(at(Ct[Nt],Nt,Ct)===!1)break}return et}}var baseFor=createBaseFor();function baseForOwn(nt,et){return nt&&baseFor(nt,et,keys)}function createBaseEach(nt,et){return function(at,mt){if(at==null)return at;if(!isArrayLike(at))return nt(at,mt);for(var $t=at.length,Ct=-1,Dt=Object(at);++Ct<$t&&mt(Dt[Ct],Ct,Dt)!==!1;);return at}}var baseEach=createBaseEach(baseForOwn);function baseMap(nt,et){var at=-1,mt=isArrayLike(nt)?Array(nt.length):[];return baseEach(nt,function($t,Ct,Dt){mt[++at]=et($t,Ct,Dt)}),mt}function baseSortBy(nt,et){var at=nt.length;for(nt.sort(et);at--;)nt[at]=nt[at].value;return nt}function compareAscending(nt,et){if(nt!==et){var at=nt!==void 0,mt=nt===null,$t=nt===nt,Ct=isSymbol(nt),Dt=et!==void 0,Ft=et===null,Nt=et===et,jt=isSymbol(et);if(!Ft&&!jt&&!Ct&&nt>et||Ct&&Dt&&Nt&&!Ft&&!jt||mt&&Dt&&Nt||!at&&Nt||!$t)return 1;if(!mt&&!Ct&&!jt&&nt<et||jt&&at&&$t&&!mt&&!Ct||Ft&&at&&$t||!Dt&&$t||!Nt)return-1}return 0}function compareMultiple(nt,et,at){for(var mt=-1,$t=nt.criteria,Ct=et.criteria,Dt=$t.length,Ft=at.length;++mt<Dt;){var Nt=compareAscending($t[mt],Ct[mt]);if(Nt){if(mt>=Ft)return Nt;var jt=at[mt];return Nt*(jt=="desc"?-1:1)}}return nt.index-et.index}function baseOrderBy(nt,et,at){et.length?et=arrayMap(et,function(Ct){return isArray(Ct)?function(Dt){return baseGet(Dt,Ct.length===1?Ct[0]:Ct)}:Ct}):et=[identity];var mt=-1;et=arrayMap(et,baseUnary(baseIteratee));var $t=baseMap(nt,function(Ct,Dt,Ft){var Nt=arrayMap(et,function(jt){return jt(Ct)});return{criteria:Nt,index:++mt,value:Ct}});return baseSortBy($t,function(Ct,Dt){return compareMultiple(Ct,Dt,at)})}function orderBy(nt,et,at,mt){return nt==null?[]:(isArray(et)||(et=et==null?[]:[et]),at=at,isArray(at)||(at=at==null?[]:[at]),baseOrderBy(nt,et,at))}function useTokenSelect(){const{tokenMap:nt}=useTokenStore(),{setCollectList:et,collectList:at,setTrustedList:mt,setFilterTokenLoading:$t,setFilterTokenList:Ct,importTokenList:Dt,setImportTokenList:Ft,liquidityTrustTokenList:Nt,setLiquidityTrustTokenList:jt,setShowImportBtn:Lt,trustedTokenList:Vt,setTrustedListLabel:er,setUserCollectList:ir,userCollectList:or}=useTokenSelectStore(),{tokenBalanceObj:lr}=useTokenBalanceStore(),{currentAccount:dr}=useAccountStore(),{getTokenPrice:pr,fetchTokenPrices:hr}=useTokenPrice(),{clmmSdk:vr}=useClmmSDKStore(),{showCommonToast:br}=useGlobalToast(),xr=async()=>{const _r=Vt.filter(Ar=>Ar.suggested_priority&&Ar.suggested_priority[0]),wr=_r.sort((Ar,Nr)=>Number(Nr.suggested_priority[0])-Number(Ar.suggested_priority[0]));LocalStorageService.setItem(COLLECT_TOKEN_LIST,wr);const Ir=[..._r,...wr],Or=[...new Map(Ir.map(Ar=>[extractStructTagFromType$1((Ar==null?void 0:Ar.coin_type)||(Ar==null?void 0:Ar.address)).full_address||(Ar==null?void 0:Ar.address),Ar])).values()];et(Or)},Sr=async()=>{const _r=await LocalStorageService.getItem(USER_COLLECT_TOKEN_LIST)||[];ir(_r)},Er=_r=>{const yr=or.filter(wr=>wr.coin_type!==_r.coin_type);ir(yr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,yr),br("Removed","success")},$r=_r=>{const yr=_r.map(Ir=>Ir.coin_type),wr=or.filter(Ir=>!yr.includes(Ir.coin_type));ir(wr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,wr)},Cr=_r=>{const yr=[...or,_r];ir(yr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,yr),br("Added","success")},kr=async()=>{const _r=await LocalStorageService.getItem(IMPORT_TOKEN_LIST);_r&&Ft(_r)},gr=_r=>{const yr=[...Dt,..._r];Ft(yr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,yr),br("Imported","success")},Ut=_r=>{const yr=_r.map(Ir=>Ir.coin_type),wr=Dt.filter(Ir=>!yr.includes(Ir.coin_type));Ft(wr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,wr),$r(_r),br((_r==null?void 0:_r.length)==(Dt==null?void 0:Dt.length)?"Cleared":"Removed","success")},tr=()=>{const _r=Vt.map(wr=>wr.coin_type),yr=Dt.filter(wr=>!_r.includes(wr.coin_type));Ft(yr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,yr)},nr=_r=>{const yr=[...Nt,..._r];console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:100 ~ addImportTokenList ~ list:",yr),jt(yr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,yr)},rr=_r=>{const yr=_r.map(Ir=>Ir.coin_type),wr=Nt.filter(Ir=>!yr.includes(Ir.coin_type));jt(wr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,wr)},ar=(_r,yr)=>lr[_r]&&(dr!=null&&dr.address)?bnToAmount(lr[_r].totalBalance,yr):0,cr=(_r,yr,wr=!0)=>{const Ir=yr&&yr.toLocaleLowerCase(),Or=_r.map(Nr=>{var an;let Hr=0,Pr=0;Nr.symbol.toLowerCase()===Ir||Nr.name.toLowerCase()===Ir||Nr.coin_type.toLowerCase()===Ir?(Hr=1e3,Pr=2):Nr.symbol.toLowerCase().indexOf(Ir)>-1?(Hr=100,Pr=0):Nr.name.toLowerCase().indexOf(Ir)>-1?(Hr=10,Pr=0):Nr.coin_type.toLowerCase().indexOf(Ir)>-1?(Hr=1,Pr=0):Nr.coin_type.toLowerCase()=="0x2::sui::sui"&&(Pr=1);const Dr=wr&&ar(extractStructTagFromType$1(Nr.coin_type).full_address,Nr.decimals)||0,Rr=wr&&((an=pr(Nr.coin_type))==null?void 0:an.price)||void 0,Vr=Array.isArray(Nr==null?void 0:Nr.coin_priority)?Number(Nr.coin_priority[0])||0:Number(Nr==null?void 0:Nr.coin_priority)||0;return{...Nr,coin_priority_sort:Vr,mark:Hr,sort:Pr,balance:Dr,price:Rr,balanceUSD:Rr?d$1(Dr).mul(d$1(Rr)).toNumber():"0"}});return orderBy(Or,["sort","mark","balanceUSD","balance","coin_priority_sort","symbol"],["desc","desc","desc","desc","desc","asc"])},fr=()=>{const _r=[],yr=[],wr=[{label:"All",value:"All"},{label:"Native",value:"Native"}];console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:199 ~ getDefaultTokenList ~ tokenMap.values():",nt.values());for(const Ar of nt.values())Ar.is_trusted&&Ar.coin_type!=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"&&(_r.push(Ar),Ar.labels&&Ar.labels[0]&&yr.push({label:Ar.labels[0],value:Ar.labels[0]}));const Ir=cr(_r,"");console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:211 ~ getDefaultTokenList ~ result:",_r),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:221 ~ getDefaultTokenList ~ sortResult:",Ir),mt(Ir);const Or=Array.from(new Set(yr.map(Ar=>Ar.label))).map(Ar=>yr.find(Nr=>Nr.label===Ar));er(wr.concat(Or)),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:194 ~ getDefaultTokenList ~ trustedListLabel.concat(Array.from(new Set(labelList))):",wr.concat(Array.from(new Set(yr))))},sr=async(_r,yr,wr,Ir=!0,Or=!0)=>{let Ar=!1;Lt(!1);const Nr=getSuiObjectType(_r),Hr=isSuiObjectType(_r)?suiAddressLongToShort(extractStructTagFromType$1(suiAddressLongToShort(_r).toLowerCase()).full_address).toLocaleLowerCase():_r.toLowerCase(),Pr=yr.filter(an=>{var Xr;return an.symbol.toLowerCase().indexOf(Hr)!==-1||an.coin_type.toLowerCase().indexOf(Hr)!==-1||an.name.toLowerCase().indexOf(Hr)!==-1||(an==null?void 0:an.coin_type)&&((Xr=an==null?void 0:an.coin_type)==null?void 0:Xr.toLowerCase().indexOf(Hr))!==-1}),Dr=wr.filter(an=>an.symbol.toLowerCase().indexOf(Hr)!==-1||an.coin_type.toLowerCase().indexOf(Hr)!==-1||an.name.toLowerCase().indexOf(Hr)!==-1);let Rr=Pr.concat(Dr);if(Rr&&Rr.length==0&&Nr.split("::").length==3&&Or)try{const an=await vr.CetusConfig.getTokenListByCoinTypes([Nr]);if(an[Nr])Rr=[{...an[Nr],is_trusted:!1,coin_type:extractStructTagFromType$1(Nr).full_address,description:""}],Ar=!0;else{const{data:Xr}=await fetch(`/data/hop-coin-info.json?timestamp=${new Date().getTime()}`).then(Zr=>Zr.json()),Jr=Xr[Nr];Xr&&Jr&&(Rr=[{...Jr,is_trusted:!1,logo_url:Jr.iconUrl,coin_type:extractStructTagFromType$1(Nr).full_address}],Ar=!0)}}catch(an){console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:90 ~ filterTokenList ~ error:",an)}const Vr=cr(Rr,Nr);Ct(Vr),Lt(Ir?Ar:!1),$t(!1),console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:238 ~ filterTokenListFun ~ filterTokenListFun:",Vr)},Yt=(_r,yr)=>{const wr=yr.filter(Or=>_r=="Native"?!Or.labels||Or.labels.length==0||Or.labels=="Native":Or.labels&&Or.labels.length>0&&Or.labels[0].toLowerCase()==_r.toLowerCase());console.log("🚀🚀🚀 ~ file: useTokenSelect.ts:279 ~ filterTokenWithLabel ~ result:",wr);const Ir=cr(wr,"");Ct(Ir)},ur=(_r,yr,wr)=>{let Ir=yr.findIndex(Or=>Or.coin_type.toLowerCase()==_r.toLowerCase());return Ir>=0?"Default":(Ir=wr.findIndex(Or=>Or.coin_type.toLowerCase()==_r.toLowerCase()),Ir>=0?"Imported":"Default")};return reactExports.useEffect(()=>()=>{Lt(!1)},[]),{getCollectList:xr,getDefaultTokenList:fr,filterTokenListFun:sr,filterTokenWithLabel:Yt,getImportTokenList:kr,addImportTokenList:gr,delImportTokenList:Ut,addLiquidityTrustTokenList:nr,removeLiquidityTrustTokenList:rr,updateImportTokenList:tr,sortWithTokenList:cr,getTabByAddress:ur,getUserCollectList:Sr,delUserCollectTokens:$r,addUserCollectToken:Cr,delUserCollectToken:Er}}function useExplorer(){const{currentExplorer:nt}=useRpcConfigStore();return{getExplorerUrl:(at,mt="account",$t=nt)=>{const Ct=$t.name.toLocaleLowerCase().indexOf("suivision")>-1?"SuiVision":$t.name.toLocaleLowerCase().indexOf("suiscan")>-1?"Suiscan":"";let Dt;return Ct=="SuiVision"?Dt=`${$t.link}/${getSuiVisionKey(mt)}/${at}`:Dt=`${$t.link}/${getSuiscanKey(mt)}/${at}`,Dt}}}const getSuiscanKey=nt=>{switch(nt){case"account":return"address";case"token":return"object";case"tx":return"tx";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},getSuiVisionKey=nt=>{switch(nt){case"account":return"account";case"token":return"object";case"tx":return"txblock";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},useFetch=()=>{const{domains:nt,currentDomain:et,setCurrentDomain:at,setUnhealthyDomains:mt,unhealthyDomains:$t}=useGlobalApiDomainStore(),Ct=()=>{const Ft=nt.length;if(Ft>1&&$t.length<Ft-1){mt(et);const Nt=nt.indexOf(et);let jt="";return Nt!==Ft-1?jt=nt[Nt+1]:jt=nt[0],jt}return""},Dt=async(Ft,Nt,jt,Lt)=>{console.log("🚀 ~ file: useFetch.ts:30 ~ fetchByApi ~ params:",{path:Ft,type:Nt,options:jt,domain:Lt||et});try{return Nt==="GET"?await fetchGet(`${Lt||et}${Ft}`,jt):await fetchPost(`${Lt||et}${Ft}`,jt)}catch(Vt){console.log("🚀 ~ file: useFetch.ts:41 ~ fetchByApi ~ error:",Vt);const er=Ct();if(er)return at(er),Dt(Ft,Nt,jt,er);throw Vt}};return{fetchByApi:Dt}};function useGetTokens(){const{fetchByApi:nt}=useFetch(),{setTokenMap:et}=useTokenStore(),{setTrustedList:at}=useTokenSelectStore();return{getTokens:async()=>{var Ft;const $t=await nt("/v2/sui/coins_info","GET");console.log("🚀 ~ file: useGetTokens.ts:8 ~ getTokens ~ res:",$t);const Ct=(Ft=$t==null?void 0:$t.list)==null?void 0:Ft.reduce((Nt,jt)=>(Nt.set(jt.coin_type,jt),Nt),new Map);Ct&&(Ct.set("0x2::sui::SUI",{...Ct.get("0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"),coin_type:"0x2::sui::SUI"}),et(Ct));const Dt=[];for(const[Nt,jt]of Ct)jt.is_trusted&&Dt.push(jt);at(Dt)}}}const ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(nt){let et;if(nt instanceof Uint8Array)et=nt;else if(typeof nt=="string")et=new TextEncoder().encode(nt);else throw new Error(ERROR_MSG_INPUT);return et}function toHex(nt){return Array.prototype.map.call(nt,function(et){return(et<16?"0":"")+et.toString(16)}).join("")}function uint32ToHex(nt){return(4294967296+nt).toString(16).substring(1)}function debugPrint(nt,et,at){let mt=`
`+nt+" = ";for(let $t=0;$t<et.length;$t+=2){if(at===32)mt+=uint32ToHex(et[$t]).toUpperCase(),mt+=" ",mt+=uint32ToHex(et[$t+1]).toUpperCase();else if(at===64)mt+=uint32ToHex(et[$t+1]).toUpperCase(),mt+=uint32ToHex(et[$t]).toUpperCase();else throw new Error("Invalid size "+at);$t%6===4?mt+=`
`+new Array(nt.length+4).join(" "):$t<et.length-2&&(mt+=" ")}console.log(mt)}function testSpeed(nt,et,at){let mt=new Date().getTime();const $t=new Uint8Array(et);for(let Dt=0;Dt<et;Dt++)$t[Dt]=Dt%256;const Ct=new Date().getTime();console.log("Generated random input in "+(Ct-mt)+"ms"),mt=Ct;for(let Dt=0;Dt<at;Dt++){const Ft=nt($t),Nt=new Date().getTime(),jt=Nt-mt;mt=Nt,console.log("Hashed in "+jt+"ms: "+Ft.substring(0,20)+"..."),console.log(Math.round(et/(1<<20)/(jt/1e3)*100)/100+" MB PER SECOND")}}var util$2={normalizeInput,toHex,debugPrint,testSpeed};const util$1=util$2;function ADD64AA(nt,et,at){const mt=nt[et]+nt[at];let $t=nt[et+1]+nt[at+1];mt>=4294967296&&$t++,nt[et]=mt,nt[et+1]=$t}function ADD64AC(nt,et,at,mt){let $t=nt[et]+at;at<0&&($t+=4294967296);let Ct=nt[et+1]+mt;$t>=4294967296&&Ct++,nt[et]=$t,nt[et+1]=Ct}function B2B_GET32(nt,et){return nt[et]^nt[et+1]<<8^nt[et+2]<<16^nt[et+3]<<24}function B2B_G(nt,et,at,mt,$t,Ct){const Dt=m$2[$t],Ft=m$2[$t+1],Nt=m$2[Ct],jt=m$2[Ct+1];ADD64AA(v$2,nt,et),ADD64AC(v$2,nt,Dt,Ft);let Lt=v$2[mt]^v$2[nt],Vt=v$2[mt+1]^v$2[nt+1];v$2[mt]=Vt,v$2[mt+1]=Lt,ADD64AA(v$2,at,mt),Lt=v$2[et]^v$2[at],Vt=v$2[et+1]^v$2[at+1],v$2[et]=Lt>>>24^Vt<<8,v$2[et+1]=Vt>>>24^Lt<<8,ADD64AA(v$2,nt,et),ADD64AC(v$2,nt,Nt,jt),Lt=v$2[mt]^v$2[nt],Vt=v$2[mt+1]^v$2[nt+1],v$2[mt]=Lt>>>16^Vt<<16,v$2[mt+1]=Vt>>>16^Lt<<16,ADD64AA(v$2,at,mt),Lt=v$2[et]^v$2[at],Vt=v$2[et+1]^v$2[at+1],v$2[et]=Vt>>>31^Lt<<1,v$2[et+1]=Lt>>>31^Vt<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(nt){return nt*2})),v$2=new Uint32Array(32),m$2=new Uint32Array(32);function blake2bCompress(nt,et){let at=0;for(at=0;at<16;at++)v$2[at]=nt.h[at],v$2[at+16]=BLAKE2B_IV32[at];for(v$2[24]=v$2[24]^nt.t,v$2[25]=v$2[25]^nt.t/4294967296,et&&(v$2[28]=~v$2[28],v$2[29]=~v$2[29]),at=0;at<32;at++)m$2[at]=B2B_GET32(nt.b,4*at);for(at=0;at<12;at++)B2B_G(0,8,16,24,SIGMA82[at*16+0],SIGMA82[at*16+1]),B2B_G(2,10,18,26,SIGMA82[at*16+2],SIGMA82[at*16+3]),B2B_G(4,12,20,28,SIGMA82[at*16+4],SIGMA82[at*16+5]),B2B_G(6,14,22,30,SIGMA82[at*16+6],SIGMA82[at*16+7]),B2B_G(0,10,20,30,SIGMA82[at*16+8],SIGMA82[at*16+9]),B2B_G(2,12,22,24,SIGMA82[at*16+10],SIGMA82[at*16+11]),B2B_G(4,14,16,26,SIGMA82[at*16+12],SIGMA82[at*16+13]),B2B_G(6,8,18,28,SIGMA82[at*16+14],SIGMA82[at*16+15]);for(at=0;at<16;at++)nt.h[at]=nt.h[at]^v$2[at]^v$2[at+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(nt,et,at,mt){if(nt===0||nt>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(et&&et.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(at&&at.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(mt&&mt.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const $t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:nt};parameterBlock.fill(0),parameterBlock[0]=nt,et&&(parameterBlock[1]=et.length),parameterBlock[2]=1,parameterBlock[3]=1,at&&parameterBlock.set(at,32),mt&&parameterBlock.set(mt,48);for(let Ct=0;Ct<16;Ct++)$t.h[Ct]=BLAKE2B_IV32[Ct]^B2B_GET32(parameterBlock,Ct*4);return et&&(blake2bUpdate($t,et),$t.c=128),$t}function blake2bUpdate(nt,et){for(let at=0;at<et.length;at++)nt.c===128&&(nt.t+=nt.c,blake2bCompress(nt,!1),nt.c=0),nt.b[nt.c++]=et[at]}function blake2bFinal(nt){for(nt.t+=nt.c;nt.c<128;)nt.b[nt.c++]=0;blake2bCompress(nt,!0);const et=new Uint8Array(nt.outlen);for(let at=0;at<nt.outlen;at++)et[at]=nt.h[at>>2]>>8*(at&3);return et}function blake2b(nt,et,at,mt,$t){at=at||64,nt=util$1.normalizeInput(nt),mt&&(mt=util$1.normalizeInput(mt)),$t&&($t=util$1.normalizeInput($t));const Ct=blake2bInit(at,et,mt,$t);return blake2bUpdate(Ct,nt),blake2bFinal(Ct)}function blake2bHex(nt,et,at,mt,$t){const Ct=blake2b(nt,et,at,mt,$t);return util$1.toHex(Ct)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util=util$2;function B2S_GET32(nt,et){return nt[et]^nt[et+1]<<8^nt[et+2]<<16^nt[et+3]<<24}function B2S_G(nt,et,at,mt,$t,Ct){v$1[nt]=v$1[nt]+v$1[et]+$t,v$1[mt]=ROTR32(v$1[mt]^v$1[nt],16),v$1[at]=v$1[at]+v$1[mt],v$1[et]=ROTR32(v$1[et]^v$1[at],12),v$1[nt]=v$1[nt]+v$1[et]+Ct,v$1[mt]=ROTR32(v$1[mt]^v$1[nt],8),v$1[at]=v$1[at]+v$1[mt],v$1[et]=ROTR32(v$1[et]^v$1[at],7)}function ROTR32(nt,et){return nt>>>et^nt<<32-et}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$1=new Uint32Array(16),m$1=new Uint32Array(16);function blake2sCompress(nt,et){let at=0;for(at=0;at<8;at++)v$1[at]=nt.h[at],v$1[at+8]=BLAKE2S_IV[at];for(v$1[12]^=nt.t,v$1[13]^=nt.t/4294967296,et&&(v$1[14]=~v$1[14]),at=0;at<16;at++)m$1[at]=B2S_GET32(nt.b,4*at);for(at=0;at<10;at++)B2S_G(0,4,8,12,m$1[SIGMA[at*16+0]],m$1[SIGMA[at*16+1]]),B2S_G(1,5,9,13,m$1[SIGMA[at*16+2]],m$1[SIGMA[at*16+3]]),B2S_G(2,6,10,14,m$1[SIGMA[at*16+4]],m$1[SIGMA[at*16+5]]),B2S_G(3,7,11,15,m$1[SIGMA[at*16+6]],m$1[SIGMA[at*16+7]]),B2S_G(0,5,10,15,m$1[SIGMA[at*16+8]],m$1[SIGMA[at*16+9]]),B2S_G(1,6,11,12,m$1[SIGMA[at*16+10]],m$1[SIGMA[at*16+11]]),B2S_G(2,7,8,13,m$1[SIGMA[at*16+12]],m$1[SIGMA[at*16+13]]),B2S_G(3,4,9,14,m$1[SIGMA[at*16+14]],m$1[SIGMA[at*16+15]]);for(at=0;at<8;at++)nt.h[at]^=v$1[at]^v$1[at+8]}function blake2sInit(nt,et){if(!(nt>0&&nt<=32))throw new Error("Incorrect output length, should be in [1, 32]");const at=et?et.length:0;if(et&&!(at>0&&at<=32))throw new Error("Incorrect key length, should be in [1, 32]");const mt={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:nt};return mt.h[0]^=16842752^at<<8^nt,at>0&&(blake2sUpdate(mt,et),mt.c=64),mt}function blake2sUpdate(nt,et){for(let at=0;at<et.length;at++)nt.c===64&&(nt.t+=nt.c,blake2sCompress(nt,!1),nt.c=0),nt.b[nt.c++]=et[at]}function blake2sFinal(nt){for(nt.t+=nt.c;nt.c<64;)nt.b[nt.c++]=0;blake2sCompress(nt,!0);const et=new Uint8Array(nt.outlen);for(let at=0;at<nt.outlen;at++)et[at]=nt.h[at>>2]>>8*(at&3)&255;return et}function blake2s(nt,et,at){at=at||32,nt=util.normalizeInput(nt);const mt=blake2sInit(at,et);return blake2sUpdate(mt,nt),blake2sFinal(mt)}function blake2sHex(nt,et,at){const mt=blake2s(nt,et,at);return util.toHex(mt)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal},dt$1="router",pe=1e4,ie$1=class{static buildPoolImmutables(et){let{fields:at}=et.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(at.clmm_pool_id).address,booster_type:extractStructTagFromType$1(at.booster_type.fields.name).source_address,pool_id:extractStructTagFromType$1(at.pool_id).address,coinTypeA:extractStructTagFromType$1(at.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(at.coin_type_b.fields.name).source_address}}static buildPoolState(et){let at=getObjectFields(et),mt=[];return at.config.fields.contents.forEach($t=>{mt.push({lock_day:Number($t.fields.key),multiplier:Number(d$2($t.fields.value).div(pe))})}),{basic_percent:Number(d$2(at.basic_percent).div(pe)),balances:{balances_handle:at.balances.fields.id.id,size:at.balances.fields.size},config:mt,lock_positions:{lock_positions_handle:at.lock_positions.fields.id.id,size:at.lock_positions.fields.size},is_open:at.is_open,index:Number(at.index),pool_id:getObjectId(et)}}static buildLockNFT(et){let at=extractStructTagFromType$1(getObjectId(et)).address;return{lock_clmm_position:buildPosition(et),locked_nft_id:at}}static buildLockPositionInfo(et){let at=getObjectFields(et),{value:mt}=at.value.fields;return{type:mt.type,position_id:mt.fields.position_id,start_time:Number(mt.fields.start_time),lock_period:Number(mt.fields.lock_period),end_time:Number(mt.fields.end_time),growth_rewarder:mt.fields.growth_rewarder,rewarder_owned:mt.fields.rewarder_owned,is_settled:mt.fields.is_settled}}static isLocked(et){return et.end_time>Date.parse(new Date().toString())/1e3}},ut=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}async getPoolImmutables(nt=!1){var Ct;let{booster:et}=this._sdk.sdkOptions,at=`${et.package_id}_getPoolImmutables`,mt=this.getCache(at,nt),$t=[];if(mt!==void 0)$t.push(...mt);else{let Dt=[];(Ct=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(et).booster_pool_handle)).data)==null||Ct.forEach(Nt=>{Dt.push(Nt.objectId)});let Ft=await this._sdk.ClmmSDK.fullClient.batchGetObjects(Dt,{showContent:!0});for(let Nt of Ft){let jt=getObjectFields(Nt);if(jt){let Lt=ie$1.buildPoolImmutables(jt);this.updateCache(`${Lt.pool_id}_getPoolImmutable`,Lt,cacheTime24h),$t.push(Lt)}}}return this.updateCache(at,$t,cacheTime24h),$t}async getPoolImmutable(nt){let{booster:et}=this._sdk.sdkOptions,at=`${nt}_getPoolImmutable`,mt=this.getCache(at);if(mt!==void 0)return mt;let $t=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(et).booster_pool_handle,name:{type:"0x2::object::ID",value:nt}}),Ct=getObjectFields($t),Dt=ie$1.buildPoolImmutables(Ct);return this.updateCache(at,Dt,cacheTime24h),Dt}async getPools(){let nt=[],et=(await this.getPoolImmutables()).map(mt=>mt.pool_id),at=await this._sdk.ClmmSDK.fullClient.batchGetObjects(et,{showType:!0,showContent:!0});for(let mt of at){let $t=ie$1.buildPoolState(mt);if($t){let Ct={...await this.getPoolImmutable($t.pool_id),...$t};nt.push(Ct);let Dt=`${Ct.pool_id}_getPoolObject`;this.updateCache(Dt,Ct,cacheTime24h)}}return nt}async getPool(nt,et=!0){let at=`${nt}_getPoolObject`,mt=this.getCache(at,et),$t=await this.getPoolImmutable(nt);if(mt!==void 0)return{...$t,...mt};let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:nt,options:{showContent:!0,showType:!0}}),Dt=ie$1.buildPoolState(Ct),Ft={...$t,...Dt};return this.updateCache(at,Ft,cacheTime24h),Ft}async getPoolHandleId(nt){let et=await this._sdk.ClmmSDK.fullClient.getObject({id:nt,options:{showContent:!0}}),at=getObjectFields(et);return at?at.list.fields.id.id:""}async getBoosterInitConfigs(){var mt;let{package_id:nt}=this.sdk.sdkOptions.booster,et=(mt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt}::config::InitEvent`}))==null?void 0:mt.data,at={booster_config_id:"",booster_pool_handle:""};return et.length>0&&et.forEach($t=>{let Ct=$t.parsedJson;Ct&&(at.booster_config_id=Ct.config_id)}),at.booster_pool_handle=await this.getPoolHandleId(at.booster_config_id),at}async getOwnerBoosterPositions(nt,et,at){let{booster:mt}=this.sdk.sdkOptions,$t=[],Ct=[],Dt=`${mt.package_id}::lock_nft::LockNFT<${this._sdk.ClmmSDK.Position.buildPositionType()}>`,Ft=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(nt,{options:{showType:!0,showContent:!0,showOwner:!0},filter:{StructType:Dt}});for(let jt of Ft.data)if(extractStructTagFromType$1(getMoveObjectType(jt)).source_address===Dt&&jt.data){let Lt=ie$1.buildLockNFT(jt);this.updateCache(`${Lt.locked_nft_id}_getBoosterPositionById`,Lt,cacheTime24h),Lt&&(et===void 0||et===Lt.lock_clmm_position.pool)&&$t.push(Lt)}let Nt=await this.getLockPositionInfos(at,$t.map(jt=>jt.locked_nft_id));for(let jt of $t)for(let Lt of Nt)if(jt.lock_clmm_position.pos_object_id===Lt.position_id){Ct.push({...jt,...Lt});break}return Ct}async getBoosterPosition(nt,et){let at=`${et}_getBoosterPositionById`,mt=this.getCache(at),$t;if(mt!==void 0)$t=mt;else{let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0,showOwner:!0}});$t=ie$1.buildLockNFT(Dt),this.updateCache(at,$t,cacheTime24h)}let Ct=await this.getLockPositionInfo(nt,et);return{...$t,...Ct}}async getLockPositionInfos(nt,et=[]){var Ct;let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(nt),mt=[],$t=[];return(Ct=at.data)==null||Ct.forEach(Dt=>{et.length>0?et.includes(Dt.name.value)&&mt.push(Dt.objectId):mt.push(Dt.objectId)}),mt.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt,{showContent:!0})).forEach(Dt=>{let Ft=ie$1.buildLockPositionInfo(Dt);Ft&&$t.push(Ft)}),$t}async getLockPositionInfo(nt,et){let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"0x2::object::ID",value:et}});return ie$1.buildLockPositionInfo(at)}calculateXCetusRewarder(nt,et,at){let mt=et.basic_percent,$t="0";nt.forEach(Dt=>{Dt.coin_address===et.booster_type&&($t=Dt.amount_owed.toString())}),at.is_settled||et.config.forEach(Dt=>{Dt.lock_day===at.lock_period&&(mt=Dt.multiplier)});let Ct=d$2($t).sub(at.growth_rewarder).mul(mt);return d$2(at.rewarder_owned).add(Ct).toString()}lockPositionPayload(nt){let{booster:et}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${et.published_at}::${dt$1}::lock_position`,typeArguments:[nt.booster_type,nt.coinTypeA,nt.coinTypeB],arguments:[mt.object(getPackagerConfigs(et).booster_config_id),mt.object(getPackagerConfigs(at).global_config_id),mt.object(nt.booster_pool_id),mt.object(nt.clmm_pool_id),mt.object(nt.clmm_position_id),mt.pure.u16(nt.lock_day),mt.object(CLOCK_ADDRESS$1)]}),mt}canceLockPositionPayload(nt){let{booster:et}=this.sdk.sdkOptions,at=new Transaction;return at.moveCall({target:`${et.published_at}::${dt$1}::cancel_lock`,typeArguments:[nt.booster_type],arguments:[at.object(getPackagerConfigs(et).booster_config_id),at.object(nt.booster_pool_id),at.object(nt.lock_nft_id),at.object(CLOCK_ADDRESS$1)]}),at}redeemPayload(nt){let{booster:et,xcetus:at}=this.sdk.sdkOptions,{clmm_pool:mt}=this.sdk.ClmmSDK.sdkOptions,$t=new Transaction,Ct=getPackagerConfigs(at);return $t.moveCall({target:`${et.published_at}::${dt$1}::redeem`,typeArguments:[nt.booster_type,nt.coinTypeA,nt.coinTypeB],arguments:[$t.object(getPackagerConfigs(et).booster_config_id),$t.object(getPackagerConfigs(mt).global_config_id),$t.object(nt.booster_pool_id),$t.object(nt.lock_nft_id),$t.object(nt.clmm_pool_id),$t.object(Ct.lock_manager_id),$t.object(Ct.xcetus_manager_id),$t.object(nt.ve_nft_id),$t.object(CLOCK_ADDRESS$1)]}),$t}updateCache(nt,et,at=cacheTime5min){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){let at=this._cache[nt];if(!et&&(at!=null&&at.isValid()))return at.value;delete this._cache[nt]}},K="router",lt$1=1e9,hi=(nt=>(nt.Upcoming="Upcoming",nt.Live="Live",nt.Settle="Settle",nt.Ended="Ended",nt.Failed="Failed",nt.Canceled="Canceled",nt))(hi||{}),S$2=class{static priceRealToFix(et,at,mt){let $t=d$2(at-mt).toNumber();return Number(d$2(et).div(d$2(10).pow(d$2($t))).toString())}static priceFixToReal(et,at,mt){let $t=d$2(at-mt).toNumber();return Number(d$2(et).mul(d$2(10).pow(d$2($t))).toString())}static raiseTotalAmount(et,at,mt){let $t=d$2(at-mt).abs().toNumber();return at>mt?Number(d$2(et.total_supply).mul(et.current_price).div(d$2(10).pow(d$2($t))).toString()):Number(d$2(et.total_supply).mul(et.current_price).mul(d$2(10).pow(d$2($t))).toString())}static buildLaunchPadPool(et){let at=getMoveObjectType(et),mt=extractStructTagFromType$1(at),$t=getObjectFields(et),Ct={coin_type_sale:mt.type_arguments[0],coin_type_raise:mt.type_arguments[1],pool_address:normalizeSuiObjectId(getObjectId(et)),is_settle:$t.is_settle,current_price:d$2($t.initialize_price).div(d$2(lt$1)).toString(),price:$t.initialize_price,min_price:"0",max_price:"0",sale_coin_amount:$t.sale_coin,raise_coin_amount:$t.raise_coin,total_purchase_amount:$t.reality_raise_total,total_supply:$t.sale_total,min_purchase:$t.min_purchase,max_purchase:$t.max_purchase,complete_raise_limit:$t.least_raise_amount,softcap:$t.softcap,max_raise_amount:$t.hardcap,sale_decimals:0,raise_decimals:0,liquidity_injection_ratio:Number($t.liquidity_rate)/1e4,is_cancel:$t.is_cancel,duration_summary:{start_time:Number($t.duration_manager.fields.start_time),end_time:0,settle_end_time:0,purchase_duration:Number($t.duration_manager.fields.activity_duration),settle_duration:Number($t.duration_manager.fields.settle_duration),lock_up_duration:Number($t.duration_manager.fields.locked_duration)},white_summary:{white_handle:$t.white_list.fields.users.fields.id.id,protection_hard_cap:$t.white_list.fields.hard_cap_total,protection_limit_used:$t.white_list.fields.purchase_total,size:Number($t.white_list.fields.users.fields.size)},unused_sale:$t.unused_sale,harvest_raise:$t.harvest_raise,tick_spacing:Number($t.tick_spacing),owner:$t.recipient,purchase_summary:{purchase_handle:$t.purchase_list.fields.id.id,size:Number($t.purchase_list.fields.size)},pool_status:"Failed"};return S$2.updatePoolStatus(Ct),Ct}static updatePoolStatus(et){let at=Number(d$2(Date.now()/1e3).toFixed(0)),{duration_summary:mt}=et,$t=mt.start_time+mt.purchase_duration,Ct=$t+mt.settle_duration;if(mt.end_time=$t,mt.settle_end_time=Ct,et.is_settle)et.pool_status="Ended";else if(et.is_cancel)et.pool_status="Canceled";else if(at<mt.start_time)et.pool_status="Upcoming";else if(at>mt.start_time&&at<$t)et.pool_status="Live";else if(at>$t&&at<Ct){let Dt=et.raise_coin_amount;Number(Dt)<Number(et.complete_raise_limit)?et.pool_status="Failed":et.pool_status="Settle"}return et}static async calculatePoolPrice(et,at){let mt=await et.ClmmSDK.CetusConfig.getTokenListByCoinTypes([at.coin_type_sale,at.coin_type_raise]),$t=mt[at.coin_type_sale].decimals,Ct=mt[at.coin_type_raise].decimals;at.min_price=this.priceFixToReal(Number(d$2(at.softcap).div(d$2(at.total_supply))),$t,Ct).toString(),at.max_price=this.priceFixToReal(Number(d$2(at.max_raise_amount).div(d$2(at.total_supply))),$t,Ct).toString(),at.current_price=this.priceFixToReal(Number(at.current_price),$t,Ct).toString(),at.sale_decimals=$t,at.raise_decimals=Ct}static async getWithdrawRaise(et){return et.pool_status==="Ended"?et.harvest_raise:"0"}static async getWithdrawSale(et){return et.pool_status==="Ended"?et.unused_sale:et.sale_coin_amount}static async getHistoryWithdrawRaise(et,at){if(at.pool_status==="Ended"){if(d$2(at.harvest_raise).equals(d$2(0))){let $t=await et.Launchpad.getSettleEvent(at.pool_address);$t&&(at.harvest_raise=$t.unused_raise)}let mt=bnExports.min(new BN(at.total_purchase_amount),new BN(at.max_raise_amount));return d$2(mt.toString()).mul(1-at.liquidity_injection_ratio).toString()}return"0"}static async getHistoryWithdrawSale(et,at){if(at.pool_status==="Ended"){let mt=await et.Launchpad.getSettleEvent(at.pool_address);return mt&&(at.unused_sale=mt.unused_sale),at.unused_sale}return"0"}static async getOverrecruitReverseAmount(et,at){let mt=await et.Launchpad.getPurchaseMarks(et.ClmmSDK.senderAddress,[at.pool_address],!1);if(mt.length>0){let $t=mt[0].purchased_raise_amount,Ct=(await et.Launchpad.getPurchaseAmount(at.white_summary.white_handle,et.ClmmSDK.senderAddress)).safe_purchased_amount,{protection_limit_used:Dt}=at.white_summary;return d$2($t).sub(Ct).div(d$2(at.total_purchase_amount).sub(Dt)).mul(d$2(at.total_purchase_amount).sub(at.max_raise_amount)).toString()}return"0"}static async getCanPurchaseAmount(et,at){let mt=await S$2.getOverrecruitReverseAmount(et,at),$t=await et.Launchpad.getPurchaseMarks(et.ClmmSDK.senderAddress,[at.pool_address],!1);if($t){let Ct=$t[0].purchased_raise_amount;d$2(Ct).sub(mt).div(at.current_price)}return"0"}},_t$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async getPoolImmutables(et=[],at=0,mt=100,$t=!1){var Vt;let{package_id:Ct}=this._sdk.sdkOptions.launchpad;if(Ct===void 0)throw Error("sdk.sdkOptions.launchpad is undefined");let Dt=`${Ct}_getPoolImmutables`,Ft=this.getCache(Dt,$t),Nt=[],jt=[];if(Ft!==void 0&&Nt.push(...Ft),Nt.length===0)try{((Vt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${Ct}::factory::CreatePoolEvent`}))==null?void 0:Vt.data).forEach(er=>{let ir=er.parsedJson;ir&&Nt.push({pool_address:ir.pool_id,coin_type_sale:extractStructTagFromType$1(ir.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(ir.raise_coin.name).full_address})}),this.updateCache(Dt,Nt,cacheTime24h)}catch(er){console.log("getPoolImmutables",er)}let Lt=et.length>0;for(let er=0;er<Nt.length;er+=1){let ir=Nt[er];if(!(Lt&&!et.includes(ir.pool_address))){if(!Lt){let or=er;if(or<at||or>=at+mt)continue}jt.push(ir)}}return jt}async getPoolImmutablesWithPage(et="all",at=!1){let{package_id:mt}=this._sdk.sdkOptions.launchpad,$t=`${mt}_getPoolImmutables`,Ct=[],Dt={data:[],hasNextPage:!1},Ft=et==="all";if(Ft){let Nt=this.getCache($t,at);Nt&&Ct.push(...Nt)}if(Ct.length===0)try{let Nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${mt}::factory::CreatePoolEvent`},et);Dt.hasNextPage=Nt.hasNextPage,Dt.nextCursor=Nt.nextCursor,Nt.data.forEach(jt=>{let Lt=jt.parsedJson;Lt&&Ct.push({pool_address:Lt.pool_id,coin_type_sale:extractStructTagFromType$1(Lt.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(Lt.raise_coin.name).full_address})})}catch(Nt){console.log("getPoolImmutables",Nt)}return Dt.data=Ct,Ft&&this.updateCache($t,Ct,cacheTime24h),Dt}async getPools(et=[],at=0,mt=100){let $t=[],Ct=[];et.length>0?Ct=[...et]:(await this.getPoolImmutables([],at,mt,!1)).forEach(Ft=>{Ct.push(Ft.pool_address)});let Dt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(Ct,{showType:!0,showContent:!0});for(let Ft of Dt){let Nt=S$2.buildLaunchPadPool(Ft);await S$2.calculatePoolPrice(this._sdk,Nt),$t.push(Nt);let jt=`${Nt.pool_address}_getPoolObject`;this.updateCache(jt,Nt,cacheTime24h)}return $t}async getPool(et,at=!0){let mt=`${et}_getPoolObject`,$t=this.getCache(mt,at);if($t!==void 0){let Ft=$t;return S$2.updatePoolStatus(Ft),Ft}let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0,showType:!0}}),Dt=S$2.buildLaunchPadPool(Ct);return await S$2.calculatePoolPrice(this._sdk,Dt),this.updateCache(mt,Dt),Dt}async getInitConfig(et=!1){var jt;let at=this._sdk.sdkOptions.launchpad.package_id,mt=`${at}_getInitEvent`,$t=this.getCache(mt,et);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:at,options:{showPreviousTransaction:!0}}),Dt=getObjectPreviousTransactionDigest(Ct),Ft=(jt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:Dt}))==null?void 0:jt.data,Nt={pools_id:"",admin_cap_id:"",config_cap_id:""};return Ft.length>0&&(Ft.forEach(Lt=>{let Vt=Lt.parsedJson;if(Vt)switch(extractStructTagFromType$1(Lt.type).full_address){case`${at}::config::InitConfigEvent`:Nt.admin_cap_id=Vt.admin_cap_id,Nt.config_cap_id=Vt.config_cap_id;break;case`${at}::factory::InitFactoryEvent`:Nt.pools_id=Vt.pools_id;break}}),this.updateCache(mt,Nt,cacheTime24h)),Nt}async getLockNFT(et,at=!1){let mt=`${et}_getLockNFT`,$t=this.getCache(mt,at);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!Ct.error)return buildPosition(Ct)}async getLockNFTList(et){var Ct;let{package_id:at}=this._sdk.ClmmSDK.sdkOptions.clmm_pool,{sdkOptions:mt}=this._sdk,$t=[];try{let Dt=(Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${mt.launchpad.package_id}::lock::LockNFTEvent`}))==null?void 0:Ct.data;for(let Ft of Dt){let Nt=Ft.parsedJson;if(Nt){let jt={locked_time:Number(Nt.locked_time),end_lock_time:Number(Nt.end_lock_time),nft_type:Nt.nft_type_name.name,lock_nft_id:Nt.lock_nft_id,recipient:Nt.recipient};if(et===jt.recipient&&`${at}`===extractStructTagFromType$1(jt.nft_type).address){let Lt=await this.getLockNFT(jt.lock_nft_id);if(Lt){let Vt=extractStructTagFromType$1(Lt.coin_type_a).full_address,er=extractStructTagFromType$1(Lt.coin_type_b).full_address;$t.push({...Lt,coin_type_a:Vt,coin_type_b:er,...jt})}}}}return $t}catch(Dt){return console.log("getLockNFTList:",Dt),[]}}async creatPoolTransactionPayload(et){let{launchpad:at}=this.sdk.sdkOptions,mt=getPackagerConfigs(at);if(this.assertLuanchpadConfig(),this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let $t=S$2.priceRealToFix(Number(et.initialize_price),et.sale_decimals,et.raise_decimals),Ct=new Transaction,Dt=d$2(et.total_supply).add(d$2(et.total_supply).mul(d$2(et.liquidity_rate))).toNumber(),Ft=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,Ct,BigInt(Dt),et.coin_type_sale),Nt=[Ct.object(mt.admin_cap_id),Ct.object(mt.config_cap_id),Ct.object(mt.pools_id),Ct.object(normalizeSuiAddress(et.recipient)),Ct.pure.u128(($t*lt$1).toString()),Ft,Ct.pure.u64(et.total_supply.toString()),Ct.pure.u64(et.min_purchase.toString()),Ct.pure.u64(et.max_purchase.toString()),Ct.pure.u64(et.least_raise_amount.toString()),Ct.pure.u64(et.hardcap.toString()),Ct.pure.u64((et.liquidity_rate*1e3).toString()),Ct.pure.u64(et.start_time.toString()),Ct.pure.u64(et.activity_duration.toString()),Ct.pure.u64(et.settle_duration.toString()),Ct.pure.u64(et.locked_duration.toString()),Ct.pure.u32(et.tick_spacing),Ct.object(CLOCK_ADDRESS$1)],jt=[et.coin_type_sale,et.coin_type_raise];return Ct.moveCall({target:`${at.published_at}::${K}::create_launch_pool`,typeArguments:jt,arguments:Nt}),Ct}async creatPurchasePayload(et){let{launchpad:at}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let mt=new Transaction,$t=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,mt,BigInt(et.purchase_amount),et.coin_type_raise),Ct=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[et.pool_address],!1))[0],Dt=[et.coin_type_sale,et.coin_type_raise],Ft;return Ct?Ft=[mt.object(et.pool_address),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(Ct.id),$t,mt.pure.u64(et.purchase_amount.toString()),mt.object(CLOCK_ADDRESS$1)]:Ft=[mt.object(et.pool_address),mt.object(getPackagerConfigs(at).config_cap_id),$t,mt.pure.u64(et.purchase_amount.toString()),mt.object(CLOCK_ADDRESS$1)],mt.moveCall({target:`${at.published_at}::${K}::${Ct===void 0?"create_and_purchase":"purchase"}`,typeArguments:Dt,arguments:Ft}),mt}async creatClaimPayload(et){let{launchpad:at}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let mt=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[et.pool_address],!1))[0],$t=new Transaction,Ct=[et.coin_type_sale,et.coin_type_raise],Dt=[$t.object(et.pool_address),$t.object(getPackagerConfigs(at).config_cap_id),$t.object(mt==null?void 0:mt.id),$t.object(CLOCK_ADDRESS$1)];return $t.moveCall({target:`${at.published_at}::${K}::claim`,typeArguments:Ct,arguments:Dt}),$t}async creatSettlePayload(et){let{launchpad:at}=this.sdk.sdkOptions,{clmm_pool:mt}=this.sdk.ClmmSDK.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");this.assertLuanchpadConfig();let $t=getPackagerConfigs(mt),{clmm_args:Ct}=et,Dt=new Transaction;Dt.setSender(this.sdk.ClmmSDK.senderAddress);let Ft=[et.coin_type_sale,et.coin_type_raise];if(Ct){let Nt=Ct.opposite?TickMath.priceToSqrtPriceX64(d$2(1).div(Ct.current_price),Ct.raise_decimals,Ct.sale_decimals).toString():TickMath.priceToSqrtPriceX64(d$2(Ct.current_price),Ct.sale_decimals,Ct.raise_decimals).toString(),jt=BigInt(Nt)<BigInt(Ct.clmm_sqrt_price),Lt=Ct.opposite?jt?et.coin_type_raise:et.coin_type_sale:jt?et.coin_type_sale:et.coin_type_raise,Vt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,Lt),er=CoinAssist.calculateTotalBalance(Vt);CoinAssist.isSuiCoin(Lt)&&(er-=BigInt(2e8));let ir=TransactionUtil.buildCoinForAmount(Dt,Vt,er,Lt).targetCoin,or=Ct.opposite?jt?"settle_with_reverse_clmm_only_with_a":"settle_with_reverse_clmm_only_with_b":jt?"settle_only_with_a":"settle_only_with_b",lr=[Dt.object(et.pool_address),Dt.object(getPackagerConfigs(at).config_cap_id),Dt.object(Ct.clmm_pool_address),Dt.object($t.global_config_id),Dt.pure.u128(Nt),ir,Dt.object(CLOCK_ADDRESS$1)];Dt.moveCall({target:`${at.published_at}::${K}::${or}`,typeArguments:Ft,arguments:lr})}else Dt.moveCall({target:`${at.published_at}::${K}::settle`,typeArguments:Ft,arguments:[Dt.object(et.pool_address),Dt.object(getPackagerConfigs(at).config_cap_id),Dt.object(CLOCK_ADDRESS$1)]});return Dt}creatWithdrawPayload(et){let{launchpad:at}=this.sdk.sdkOptions,mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise],Ct=[mt.object(et.pool_address),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(CLOCK_ADDRESS$1)];return et.sale_amount>BigInt(0)&&mt.moveCall({target:`${at.published_at}::${K}::withdraw_sale`,typeArguments:$t,arguments:Ct}),et.raise_amount>BigInt(0)&&mt.moveCall({target:`${at.published_at}::${K}::withdraw_raise`,typeArguments:$t,arguments:Ct}),mt}addUserToWhitelisPayload(et){let{launchpad:at}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise];return et.user_addrs.forEach(Ct=>{let Dt=[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(et.pool_address),mt.object(Ct),mt.pure.u64(et.safe_limit_amount),mt.object(CLOCK_ADDRESS$1)];mt.moveCall({target:`${at.published_at}::${K}::add_user_to_whitelist`,typeArguments:$t,arguments:Dt})}),mt}updateWhitelistCapPayload(et){let{launchpad:at}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise];return et.safe_limit_amount>0&&mt.moveCall({target:`${at.published_at}::${K}::update_whitelist_member_safe_limit_amount`,typeArguments:$t,arguments:[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(et.pool_address),mt.pure.address(et.white_list_member),mt.pure.u64(et.safe_limit_amount),mt.object(CLOCK_ADDRESS$1)]}),et.hard_cap_total>0&&mt.moveCall({target:`${at.published_at}::${K}::update_whitelist_hard_cap_total`,typeArguments:$t,arguments:[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(et.pool_address),mt.pure.u64(et.hard_cap_total),mt.object(CLOCK_ADDRESS$1)]}),mt}creatRemoveWhitelistPayload(et){let{launchpad:at}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise];return et.user_addrs.forEach(Ct=>{let Dt=[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(et.pool_address),mt.object(Ct),mt.object(CLOCK_ADDRESS$1)];mt.moveCall({target:`${at.published_at}::${K}::remove_user_from_whitelist`,typeArguments:$t,arguments:Dt})}),mt}creatCancelPoolPayload(et){let{launchpad:at}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise],Ct=[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(et.pool_address),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${at.published_at}::${K}::cancel`,typeArguments:$t,arguments:Ct}),mt}updateRecipientPayload(et){let{launchpad:at}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise],Ct=[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(et.pool_address),mt.object(et.new_recipient),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${at.published_at}::${K}::update_recipient_address`,typeArguments:$t,arguments:Ct}),mt}updatePoolDuractionPayload(et){let{launchpad:at}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise],Ct=[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).config_cap_id),mt.object(et.pool_address),mt.pure.u64(et.activity_duration),mt.pure.u64(et.settle_duration),mt.pure.u64(et.lock_duration),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${at.published_at}::${K}::update_pool_duration`,typeArguments:$t,arguments:Ct}),mt}creatUnlockNftPayload(et){let{launchpad:at}=this.sdk.sdkOptions;if(getPackagerConfigs(at)===void 0)throw Error("getPackagerConfigs(launchpad)  is null");let mt=new Transaction,$t=[et.nft_type],Ct=[mt.object(et.lock_nft),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${at.published_at}::lock::unlock_nft`,typeArguments:$t,arguments:Ct}),mt}async isAdminCap(et){let{launchpad:at}=this._sdk.sdkOptions;if(getPackagerConfigs(at)===void 0)throw Error("launchpad config is empty");let mt=`${et}_isAdminCap`,$t=this.getCache(mt);if($t)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(at).admin_cap_id,options:{showType:!0,showOwner:!0}}),Dt=getObjectType(Ct),Ft=getObjectOwner(Ct),Nt=!1;return Ft&&Dt&&extractStructTagFromType$1(Dt).source_address===`${at.package_id}::config::AdminCap`&&(Nt=normalizeSuiAddress(Ft.AddressOwner)===normalizeSuiAddress(et)),this.updateCache(mt,Nt,cacheTime24h),Nt}async isWhiteListUser(et,at){let mt={type:"address",value:at};try{let $t=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:mt});return!!($t&&$t.data)}catch{return!1}}async getPurchaseAmount(et,at){var $t;let mt={type:"address",value:at};try{let Ct=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:mt}),Dt=getObjectFields(Ct);if(Dt)return($t=Dt==null?void 0:Dt.value)==null?void 0:$t.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getPurchaseMarks(et,at=[],mt=!0){let{launchpad:$t}=this._sdk.sdkOptions,Ct=`${at}_getPurchaseMark`,Dt=this.getCache(Ct,mt);if(!mt&&Dt!==void 0)return Dt;let Ft=null,Nt=[];for(;;){let jt=await this._sdk.ClmmSDK.fullClient.getOwnedObjects({owner:et,options:{showType:!0,showContent:!0,showDisplay:!0},cursor:Ft});for(let Lt of jt.data){let{fields:Vt}=Lt.data.content;if(extractStructTagFromType$1(getMoveObjectType(Lt)).source_address===`${$t.package_id}::pool::PurchaseMark`){console.log("fields: ",Vt);let er={id:Vt.id.id,pool_id:extractStructTagFromType$1(Vt.pool_id).address,purchased_raise_amount:Vt.purchase_total,obtain_sale_amount:Vt.obtain_sale_amount,used_raise_amount:Vt.used_raise_amount};at.length>0?at.includes(er.pool_id)&&Nt.push(er):Nt.push(er)}}if(jt.hasNextPage)Ft=jt.nextCursor;else break}return this.updateCache(Ct,Nt,cacheTime24h),Nt}async getSettleEvent(et){let{launchpad:at}=this._sdk.sdkOptions,mt=`${et}_getPurchaseMark`,$t=this.getCache(mt);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${at.package_id}::pool::SettleEvent`});for(let Dt of Ct.data){let Ft=Dt.parsedJson;if(et===normalizeSuiObjectId(Ft.pool_id)){let Nt={pool_id:Ft.pool_id,settle_price:Ft.settle_price,unused_sale:Ft.unused_sale,unused_raise:Ft.unused_raise,white_purchase_total:Ft.white_purchase_total};return this.updateCache(mt,Nt,cacheTime24h),Nt}}}buildLaunchpadCoinType(et,at){return composeType$1(this._sdk.sdkOptions.launchpad.package_id,"pool","PoolLiquidityCoin",[et,at])}assertLuanchpadConfig(){let{launchpad:et}=this.sdk.sdkOptions;if(getPackagerConfigs(et)===void 0)throw Error("sdk getPackagerConfigs(launchpad) is null")}updateCache(et,at,mt=cacheTime5min){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et];if(!at&&(mt!=null&&mt.isValid()))return mt.value;delete this._cache[et]}},ne$1=class{static buildPoolImmutables(et){let{fields:at}=et.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(at.clmm_pool_id).address,bonus_type:extractStructTagFromType$1(at.bonus_type.fields.name).source_address,pool_id:extractStructTagFromType$1(at.pool_id).address,coinTypeA:extractStructTagFromType$1(at.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(at.coin_type_b.fields.name).source_address}}static buildPoolState(et){let at=getObjectFields(et),mt=[];return at.config.fields.contents.forEach($t=>{mt.push({rate:Number(d$2($t.fields.key).div(pe)),multiplier:Number(d$2($t.fields.value).div(pe))})}),{balance:at.balance,config:mt,is_open:at.is_open,index:Number(at.index),start_time:Number(at.start_time),interval_day:Number(at.interval_day),minimum_percent_to_reward:Number(d$2(at.minimum_percent_to_reward).div(pe)),rewarders:{rewarder_handle:at.rewarders.fields.id.id,size:Number(at.rewarders.fields.size)},whale_nfts:{whale_nfts_handle:at.whale_nfts.fields.id.id,size:Number(at.whale_nfts.fields.size)},points:{point_handle:at.points.fields.id.id,size:Number(at.points.fields.size)}}}static buildMarkerPositions(et){let{contents:at}=et.value.fields.value.fields,mt=[],$t=et.id.id;return at.forEach(Ct=>{let{key:Dt,value:Ft}=Ct.fields,Nt={id:Dt,period_id:$t,bonus_num:Ft.fields.bonus_num,point:Ft.fields.point,is_burn:Ft.fields.is_burn,point_after_multiplier:Ft.fields.point_after_multiplier,percent:Number(d$2(Ft.fields.percent).div(pe)),fee_share_rate:0,is_redeemed:Ft.fields.is_redeemed};mt.push(Nt)}),mt}static buildPoolBonusInfo(et){let{fields:at,type:mt}=et.value.fields.value;return{type:mt,time:Number(at.time),settle_time:Number(at.settle_time),settled_num:at.settled_num,is_settled:at.is_settled,basis_bonus:at.basis_bonus,total_bonus:at.total_bonus,is_vacant:at.is_vacant,redeemed_num:at.redeemed_num}}static getBonusPercent(et,at){let mt=0;for(let $t of et)at>=$t.rate&&$t.rate>mt&&(mt=$t.multiplier);return mt}},Ht$1="router",gt$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async getPoolImmutables(et=!1){var Dt;let{maker_bonus:at}=this._sdk.sdkOptions,mt=`${at.package_id}_getPoolImmutables`,$t=this.getCache(mt,et),Ct=[];if($t!==void 0)Ct.push(...$t);else{let Ft=[];(Dt=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(at).maker_pool_handle)).data)==null||Dt.forEach(jt=>{Ft.push(jt.objectId)});let Nt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(Ft,{showContent:!0});for(let jt of Nt){let Lt=getObjectFields(jt);Lt&&Ct.push(ne$1.buildPoolImmutables(Lt))}}return Ct}async getPoolImmutable(et){let{maker_bonus:at}=this._sdk.sdkOptions,mt=`${at.package_id}_getPoolImmutables`,$t=this.getCache(mt);if($t!==void 0){let Ft=$t.filter(Nt=>et===Nt.pool_id);if(Ft.length>0)return Ft[0]}let Ct=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(at).maker_pool_handle,name:{type:"0x2::object::ID",value:et}}),Dt=getObjectFields(Ct);return ne$1.buildPoolImmutables(Dt)}async getPools(){let et=[],at=await this.getPoolImmutables(),mt=at.map(Dt=>Dt.pool_id),$t=await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt,{showType:!0,showContent:!0}),Ct=0;for(let Dt of $t){let Ft=ne$1.buildPoolState(Dt);if(Ft){let Nt={...at[Ct],...Ft};et.push(Nt);let jt=`${Nt.pool_id}_getPoolObject`;this.updateCache(jt,Nt,cacheTime24h)}Ct+=1}return et}async getPool(et,at=!0){let mt=`${et}_getPoolObject`,$t=this.getCache(mt,at),Ct=await this.getPoolImmutable(et);if($t!==void 0)return $t;let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0,showType:!0}}),Ft=ne$1.buildPoolState(Dt),Nt={...Ct,...Ft};return this.updateCache(mt,Nt,cacheTime24h),Nt}async getPoolHandleId(et){let at=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),mt=getObjectFields(at);return mt?mt.list.fields.id.id:""}async getMakerPoolPeriods(et,at=!1){let mt=[],$t=`${et.pool_id}_getMakerPoolPeriods`,Ct=this.getCache($t,at);return Ct!==void 0?Ct:((await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(et.whale_nfts.whale_nfts_handle)).data.forEach(Dt=>{let Ft={id:Dt.objectId,start_time:0,end_time:0,period:Number(Dt.name.value)};Ft.start_time=Number(d$2(et.start_time).add(d$2(et.interval_day).mul(24*3600).mul(Ft.period)).toFixed(0,Decimal$1.ROUND_DOWN)),Ft.end_time=Number(d$2(Ft.start_time).add(d$2(et.interval_day).mul(24*3600)).toFixed(0,Decimal$1.ROUND_DOWN)),mt.push(Ft)}),this.updateCache($t,mt,cacheTime24h),mt)}async getMakerBonusInitConfigs(){var $t;let{package_id:et}=this.sdk.sdkOptions.maker_bonus,at=($t=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::config::InitEvent`}))==null?void 0:$t.data,mt={maker_config_id:"",maker_pool_handle:""};return at.length>0&&at.forEach(Ct=>{let Dt=Ct.parsedJson;Dt&&(mt.maker_config_id=Dt.config_id)}),mt.maker_pool_handle=await this.getPoolHandleId(mt.maker_config_id),mt}async getPoolMarkerPositionList(et,at,mt=!1){let $t={},Ct=[];mt||at.forEach(Dt=>{let Ft=`${et}_${Dt.period}_getPoolMarkerPositionList`,Nt=this.getCache(Ft);Nt!==void 0?$t[Dt.period]=Nt:($t[Dt.period]=[],Ct.push(Dt))});try{Ct.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(Ct.map(Ft=>Ft.id),{showContent:!0})).forEach(Ft=>{let Nt=getObjectFields(Ft),jt=ne$1.buildMarkerPositions(Nt);if(jt.length>0){let{period_id:Lt}=jt[0],Vt=at.filter(er=>er.id===Lt)[0];$t[Vt.period]=jt}});let Dt=[];for(let Ft in $t)$t[Ft].forEach(Nt=>{Dt.push(Nt)});if(Dt.length>0){let Ft=await this._sdk.ClmmSDK.Position.getSipmlePositionList(Dt.map(Nt=>Nt.id));for(let Nt of Dt)for(let jt of Ft)if(Nt.id===jt.pos_object_id){Nt.clmm_position=jt;break}}}catch(Dt){console.log(Dt)}for(let Dt in $t){let Ft=`${et}_${Dt}_getPoolMarkerPositionList`;this.updateCache(Ft,$t[Dt],cacheTime24h)}return $t}async updateXCetusRewarderAndFee(et,at,mt){let $t=await this.calculateTotalPointsAfterMultiper(et,mt);for(let Ct of at)await this.calculateXCetusRewarder(et,Ct,mt.period,$t);return at}async calculateXCetusRewarder(et,at,mt,$t){let Ct=await this.getPoolBonusInfo(et.rewarders.rewarder_handle,mt),{fee_share_rate:Dt}=this.calculateFeeShareRate(et,at,$t),Ft=d$2(Dt).mul(Ct.total_bonus);return at.is_redeemed?at.bonus_num="0":at.bonus_num=Ft.toString(),at.bonus_num}calculateFeeShareRate(et,at,mt){let $t=ne$1.getBonusPercent(et.config,at.percent),Ct=d$2(at.point).mul($t),Dt=d$2(Ct).div(mt);return at.point_after_multiplier=Ct.toString(),at.fee_share_rate=Number(Dt),{fee_share_rate:Number(Dt),points_after_multiper:Ct.toString()}}async calculateTotalPointsAfterMultiper(et,at){let mt=await this.getPoolMarkerPositionList(et.whale_nfts.whale_nfts_handle,[at]),$t=d$2(0),Ct=mt[at.period];for(let Dt of Ct){let Ft=ne$1.getBonusPercent(et.config,Dt.percent),Nt=d$2(Dt.point).mul(Ft);$t=$t.add(Nt)}return $t.toString()}async calculateAllXCetusRewarder(et){let at=this._sdk.ClmmSDK.senderAddress,mt=d$2(0),$t=[];for(let Ct of et){let Dt=await this._sdk.MakerModule.getMakerPoolPeriods(Ct),Ft=await this._sdk.MakerModule.getPoolMarkerPositionList(Ct.whale_nfts.whale_nfts_handle,Dt),Nt=[];for(let jt of Dt){let Lt=Ft[jt.period].filter(Vt=>{var er;return at.length===0?!1:((er=Vt.clmm_position)==null?void 0:er.owner)===at});Lt.length>0&&(await this._sdk.MakerModule.updateXCetusRewarderAndFee(Ct,Lt,jt),Lt.forEach(Vt=>{var er;((er=Vt.clmm_position)==null?void 0:er.position_status)===ClmmPositionStatus.Exists&&d$2(Vt.bonus_num).greaterThan(0)&&(mt=mt.add(Vt.bonus_num),Nt.includes(Vt.clmm_position.pos_object_id)||Nt.push(Vt.clmm_position.pos_object_id))}))}$t.push({bonus_type:Ct.bonus_type,pool_id:Ct.pool_id,nft_ids:Nt})}return{claimtotal:mt,claimRecord:$t}}async getPoolBonusInfo(et,at,mt=!1){let $t=`${et}_${at}_getPoolBonusInfo`,Ct=this.getCache($t,mt);if(Ct!==void 0)return Ct;let Dt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"u64",value:at.toString()}}),Ft=getObjectFields(Dt),Nt=ne$1.buildPoolBonusInfo(Ft);return this.updateCache($t,Nt,cacheTime5min),Nt}claimPayload(et){let{maker_bonus:at,xcetus:mt}=this.sdk.sdkOptions,$t=new Transaction;return $t.moveCall({target:`${at.published_at}::${Ht$1}::claim`,typeArguments:[et.bonus_type],arguments:[$t.object(getPackagerConfigs(at).maker_config_id),$t.object(et.market_pool_id),$t.object(et.position_nft_id),$t.pure.u8(et.phase),$t.object(getPackagerConfigs(mt).lock_manager_id),$t.object(getPackagerConfigs(mt).xcetus_manager_id),$t.object(et.ve_nft_id)]}),$t}claimAllPayload(et){let{maker_bonus:at,xcetus:mt}=this.sdk.sdkOptions,$t=new Transaction;return et.whale_nfts.forEach(Ct=>{Ct.nft_ids.forEach(Dt=>{$t.moveCall({target:`${at.published_at}::${Ht$1}::claim_all`,typeArguments:[Ct.bonus_type],arguments:[$t.object(getPackagerConfigs(at).maker_config_id),$t.object(Ct.pool_id),$t.object(Dt),$t.object(getPackagerConfigs(mt).lock_manager_id),$t.object(getPackagerConfigs(mt).xcetus_manager_id),$t.object(et.ve_nft_id)]})})}),$t}updateCache(et,at,mt=cacheTime5min){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et];if(!at&&(mt!=null&&mt.isValid()))return mt.value;delete this._cache[et]}},ve$1="router",tt$1="router",Se=24*3600,Re=1e3,U=1e11,z$1={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},W=class{static buildVeNFTDividendInfo(nt){let et={id:nt.id.id,ve_nft_id:nt.name,rewards:[]};return nt.value.fields.value.fields.dividends.fields.contents.forEach(at=>{let mt=[];at.fields.value.fields.contents.forEach($t=>{mt.push({coin_type:extractStructTagFromType$1($t.fields.key.fields.name).source_address,amount:$t.fields.value})}),et.rewards.push({period:Number(at.fields.key),rewards:mt,vesrion:"v1"})}),et}static buildDividendManager(nt){let et={id:nt.id.id,dividends:{id:nt.dividends.fields.id.id,size:nt.dividends.fields.size},venft_dividends:{id:nt.venft_dividends.fields.id.id,size:nt.venft_dividends.fields.size},bonus_types:[],start_time:Number(nt.start_time),interval_day:Number(nt.interval_day),balances:{id:nt.balances.fields.id.id,size:nt.balances.fields.size},is_open:nt.is_open};return nt.bonus_types.forEach(at=>{et.bonus_types.push(extractStructTagFromType$1(at.fields.name).source_address)}),et}static buildLockUpManager(nt){return{id:nt.id.id,balance:nt.balance,treasury_manager:nt.treasury_manager,extra_treasury:nt.extra_treasury,lock_infos:{lock_handle_id:nt.lock_infos.fields.id.id,size:Number(nt.lock_infos.fields.size)},type_name:normalizeCoinType$1(nt.type_name.fields.name),min_lock_day:Number(nt.min_lock_day),max_lock_day:Number(nt.max_lock_day),package_version:Number(nt.package_version),max_percent_numerator:Number(nt.max_percent_numerator),min_percent_numerator:Number(nt.min_percent_numerator)}}static buildLockCetus(nt){let et=nt.fields,at={id:et.id.id,type:extractStructTagFromType$1(nt.type).source_address,locked_start_time:Number(et.locked_start_time),locked_until_time:Number(et.locked_until_time),cetus_amount:et.balance,xcetus_amount:"0",lock_day:0};return at.lock_day=(at.locked_until_time-at.locked_start_time)/Se,at}static getAvailableXCetus(nt,et){let at=d$2(0);return et.forEach(mt=>{at=at.add(mt.xcetus_amount)}),d$2(nt.xcetus_balance).sub(at).toString()}static getWaitUnLockCetuss(nt){return nt.filter(et=>!W.isLocked(et))}static getLockingCetuss(nt){return nt.filter(et=>W.isLocked(et))}static isLocked(nt){return nt.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(nt,et){let at=new Set;return nt==null||nt.forEach(mt=>{mt.rewards.forEach($t=>{d$2($t.amount).gt(0)&&at.add($t.coin_type)})}),et==null||et.forEach(mt=>{mt.rewards.forEach($t=>{d$2($t.amount).gt(0)&&at.add($t.coin_type)})}),Array.from(at)}static buildDividendRewardTypeListV2(nt){let et={};return nt==null||nt.forEach(at=>{at.vesrion==="v2"&&at.rewards.forEach(mt=>{et[mt.coin_type]||(et[mt.coin_type]=[]),et[mt.coin_type].push(at.period)})}),et}static getNextStartTime(nt){let et=Date.now()/1e3,{start_time:at,interval_day:mt}=nt,$t=Math.ceil((et-at)/(mt*Se));return at+$t*mt*Se}},yt$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async getOwnerVeNFT(et,at=!0){let{xcetus:mt}=this.sdk.sdkOptions,$t=`${et}_getLockUpManagerEvent`,Ct=this.getCache($t,at);if(Ct!==void 0)return Ct;let Dt,Ft=`${mt.package_id}::xcetus::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(et,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:Ft}})).data.forEach(Nt=>{let jt=extractStructTagFromType$1(getMoveObjectType(Nt)).source_address;if(jt===Ft&&Nt.data&&Nt.data.content){let{fields:Lt}=Nt.data.content;Dt={...buildNFT(Nt),id:Lt.id.id,index:Lt.index,type:jt,xcetus_balance:Lt.xcetus_balance},this.updateCache($t,Dt,cacheTime24h)}}),Dt}async getOwnerLockCetuss(et){let{xcetus:at}=this.sdk.sdkOptions,mt=[],$t=`${at.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,Ct=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(et,{options:{showType:!0,showContent:!0},filter:{StructType:$t}});for(let Dt of Ct.data)if(extractStructTagFromType$1(getMoveObjectType(Dt)).source_address===$t&&Dt.data){let Ft=W.buildLockCetus(Dt.data.content);Ft.xcetus_amount=await this.getXCetusAmount(Ft.id),mt.push(Ft)}return mt}async getLockCetus(et){var mt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0}});if((mt=at.data)!=null&&mt.content){let $t=W.buildLockCetus(at.data.content);return $t.xcetus_amount=await this.getXCetusAmount($t.id),$t}}async getOwnerCetusCoins(et){return await this._sdk.ClmmSDK.getOwnerCoinAssets(et,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:et}=this.sdk.sdkOptions,at=new Transaction;return at.moveCall({target:`${et.published_at}::${ve$1}::mint_venft`,typeArguments:[],arguments:[at.object(getPackagerConfigs(et).xcetus_manager_id)]}),at}async convertPayload(et,at){let{xcetus:mt}=this.sdk.sdkOptions;at=at||new Transaction;let $t=this.buileCetusCoinType(),Ct=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,at,BigInt(et.amount),$t);return et.venft_id===void 0?at.moveCall({target:`${mt.published_at}::${ve$1}::mint_and_convert`,typeArguments:[],arguments:[at.object(getPackagerConfigs(mt).lock_manager_id),at.object(getPackagerConfigs(mt).xcetus_manager_id),Ct,at.pure.u64(et.amount)]}):at.moveCall({target:`${mt.published_at}::${ve$1}::convert`,typeArguments:[],arguments:[at.object(getPackagerConfigs(mt).lock_manager_id),at.object(getPackagerConfigs(mt).xcetus_manager_id),Ct,at.pure.u64(et.amount),at.object(et.venft_id)]}),at}redeemLockPayload(et){let{xcetus:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${ve$1}::redeem_lock`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xcetus_manager_id),mt.object(et.venft_id),mt.pure.u64(et.amount),mt.pure.u64(et.lock_day),mt.object(CLOCK_ADDRESS$1)]}),mt}redeemPayload(et){let{xcetus:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${ve$1}::redeem`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xcetus_manager_id),mt.object(et.venft_id),mt.object(et.lock_id),mt.object(CLOCK_ADDRESS$1)]}),mt}redeemDividendPayload(et,at){let{xcetus:mt,xcetus_dividends:$t}=this.sdk.sdkOptions,Ct=new Transaction;return at.forEach(Dt=>{Ct.moveCall({target:`${mt.published_at}::${tt$1}::redeem`,typeArguments:[Dt],arguments:[Ct.object(getPackagerConfigs($t).dividend_manager_id),Ct.object(et)]})}),Ct}redeemDividendV2Payload(et,at,mt){let{xcetus_dividends:$t}=this.sdk.sdkOptions,Ct=new Transaction;return at.filter(Dt=>mt.includes(Dt)).length>0&&(Ct=this.redeemDividendXTokenPayload(et,Ct)),at.forEach(Dt=>{mt.includes(Dt)||Ct.moveCall({target:`${$t.published_at}::${tt$1}::redeem_v2`,typeArguments:[Dt],arguments:[Ct.object(getPackagerConfigs($t).dividend_manager_id),Ct.object(et),Ct.object(CLOCK_ADDRESS$1)]})}),Ct}redeemDividendV3Payload(et,at){let{xcetus_dividends:mt}=this.sdk.sdkOptions,$t=new Transaction,Ct=W.buildDividendRewardTypeList(at),Dt=W.buildDividendRewardTypeListV2(at);return Ct.forEach(Ft=>{$t.moveCall({target:`${mt.published_at}::${tt$1}::redeem_v3`,typeArguments:[Ft],arguments:[$t.object(getPackagerConfigs(mt).dividend_manager_id),$t.object(getPackagerConfigs(mt).venft_dividends_id),$t.makeMoveVec({elements:Dt[Ft].map(Nt=>$t.pure.u64(Nt)),type:"u64"}),$t.object(et),$t.object(CLOCK_ADDRESS$1)]})}),$t}redeemDividendXTokenPayload(et,at){let{xcetus_dividends:mt,xcetus:$t}=this.sdk.sdkOptions,{xcetus_manager_id:Ct,lock_manager_id:Dt}=getPackagerConfigs($t),{dividend_manager_id:Ft}=getPackagerConfigs(mt);return at=at===void 0?new Transaction:at,at.moveCall({target:`${mt.published_at}::${tt$1}::redeem_xtoken`,typeArguments:[],arguments:[at.object(Dt),at.object(Ct),at.object(Ft),at.object(et),at.object(CLOCK_ADDRESS$1)]}),at}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(et=this._sdk.sdkOptions.xcetus.package_id,at="xcetus",mt="XCETUS"){return`${et}::${at}::${mt}`}cancelRedeemPayload(et){let{xcetus:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${ve$1}::cancel_redeem_lock`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xcetus_manager_id),mt.object(et.venft_id),mt.object(et.lock_id),mt.object(CLOCK_ADDRESS$1)]}),mt}async getInitConfigs(){var Ft,Nt;let{package_id:et}=this.sdk.sdkOptions.xcetus,at=`${et}_getInitFactoryEvent`,mt=this.getCache(at);if(mt!==void 0)return mt;let $t=(Ft=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::xcetus::InitEvent`}))==null?void 0:Ft.data,Ct={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};$t.length>0&&$t.forEach(jt=>{let Lt=jt.parsedJson;Lt&&(Ct.xcetus_manager_id=Lt.xcetus_manager)});let Dt=(Nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::locking::InitializeEvent`}))==null?void 0:Nt.data;return Dt.length>0&&Dt.forEach(jt=>{let Lt=jt.parsedJson;Lt&&(Ct.lock_manager_id=Lt.lock_manager)}),Ct.lock_manager_id.length>0&&(Ct.lock_handle_id=(await this.getLockUpManager(Ct.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(at,Ct,cacheTime24h),Ct}async getLockUpManager(et=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,at=!1){let mt=`${et}_getLockUpManager`,$t=this.getCache(mt,at);if($t!==void 0)return $t;let Ct=await this.sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),Dt=W.buildLockUpManager(getObjectFields(Ct));return this.updateCache(mt,Dt,cacheTime24h),Dt}async getDividendConfigs(){var Lt,Vt,er;let{package_id:et}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:at,venft_dividends_id:mt}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),$t=`${et}_getDividendManagerEvent`,Ct=this.getCache($t);if(Ct!==void 0)return Ct;let Dt=(Lt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::dividend::InitEvent`}))==null?void 0:Lt.data,Ft=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:at,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),Nt={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};Dt.length>0&&Dt.forEach(ir=>{let or=ir.parsedJson;or&&(Nt.dividend_manager_id=or.manager_id,Nt.dividend_admin_id=or.admin_id,Nt.dividend_settle_id=or.settle_id,this.updateCache($t,Nt,cacheTime24h))}),Ft&&Ft.data&&Ft.data.content&&(Nt.venft_dividends_id=(er=(Vt=Ft.data.content)==null?void 0:Vt.fields)==null?void 0:er.value,this.updateCache($t,Nt,cacheTime24h));let jt=await this._sdk.ClmmSDK.fullClient.getObject({id:mt,options:{showContent:!0}});return Nt.venft_dividends_id_v2=jt.data.content.fields.venft_dividends.fields.id.id,Nt}async getDividendManager(et=!1){let{dividend_manager_id:at}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),mt=`${at}_getDividendManager`,$t=this.getCache(mt,et);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:at,options:{showContent:!0}}),Dt=getObjectFields(Ct),Ft=W.buildDividendManager(Dt);return this.updateCache(mt,Ft,cacheTime24h),Ft}async getXcetusManager(et=!0){let{xcetus_manager_id:at}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),mt=`${at}_getXcetusManager`,$t=this.getCache(mt,et);if($t)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:at,options:{showContent:!0}}),Dt=getObjectFields(Ct),Ft={id:Dt.id.id,index:Number(Dt.index),has_venft:{handle:Dt.has_venft.fields.id.id,size:Dt.has_venft.fields.size},nfts:{handle:Dt.nfts.fields.id.id,size:Dt.nfts.fields.size},total_locked:Dt.total_locked,treasury:Dt.treasury.fields.total_supply.fields.value};return this.updateCache(mt,Ft),Ft}async getVeNFTDividendInfoV2(et){let{xcetus_dividends:at}=this._sdk.sdkOptions,{dividend_manager_id:mt,venft_dividends_id:$t}=getPackagerConfigs(at),Ct=new Transaction;Ct.moveCall({target:`${at.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[Ct.object(mt),Ct.object($t),Ct.object(et)]});let Dt=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:this._sdk.ClmmSDK.senderAddress}),{contents:Ft}=Dt.events[0].parsedJson.info,Nt={id:"",ve_nft_id:et,rewards:[]};return Ft.forEach(jt=>{let Lt=[],Vt=jt.key,{contents:er}=jt.value;er.forEach(ir=>{Lt.push({coin_type:extractStructTagFromType$1(ir.key.name).source_address,amount:ir.value})}),Nt.rewards.push({period:Number(Vt),rewards:Lt,vesrion:Number(Vt)>66?"v2":"v1"})}),Nt}async getVeNFTDividendInfo(et,at,mt){let $t,Ct={id:"",ve_nft_id:mt,rewards:[]};try{$t=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:mt}});let Ft=getObjectFields($t);Ct=W.buildVeNFTDividendInfo(Ft)}catch{$t=void 0}let Dt=[];try{let Ft=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:at,name:{type:"0x2::object::ID",value:mt}}),Nt=getObjectFields(Ft).value.fields.value.fields.dividends.fields.id.id,jt=null,Lt=50,Vt=[];for(;;){let er=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:Nt,cursor:jt,limit:Lt});if(er.data.forEach(ir=>{Vt.push(ir.objectId)}),jt=er.nextCursor,jt===null||er.data.length<Lt)break}(await this._sdk.ClmmSDK.fullClient.batchGetObjects(Vt,{showType:!0,showContent:!0})).forEach(er=>{Dt.push({period:Number(er.data.content.fields.name),vesrion:"v2",rewards:er.data.content.fields.value.fields.contents.map(ir=>({coin_type:extractStructTagFromType$1(ir.fields.key.fields.name).source_address,amount:ir.fields.value}))})})}catch(Ft){console.log("error:",Ft)}return{...Ct,rewards:[...Ct.rewards,...Dt]}}redeemNum(et,at){if(BigInt(et)===BigInt(0))return{amountOut:"0",percent:"0"};let mt=d$2(U).mul(d$2(z$1.max_lock_day).sub(d$2(at))).mul(d$2(z$1.max_percent_numerator).sub(d$2(z$1.min_percent_numerator))).div(d$2(z$1.max_lock_day).sub(d$2(z$1.min_lock_day))),$t=d$2(U).mul(d$2(z$1.max_percent_numerator)).sub(mt).div(d$2(Re)).div(U);return{amountOut:d$2($t).mul(d$2(et)).round().toString(),percent:$t.toString()}}reverseRedeemNum(et,at){if(BigInt(et)===BigInt(0))return{amountOut:"0",percent:"0"};let mt=d$2(U).mul(d$2(z$1.max_lock_day).sub(d$2(at))).mul(d$2(z$1.max_percent_numerator).sub(d$2(z$1.min_percent_numerator))).div(d$2(z$1.max_lock_day).sub(d$2(z$1.min_lock_day))),$t=d$2(U).mul(d$2(z$1.max_percent_numerator)).sub(mt).div(d$2(Re)).div(U);return{amountOut:d$2(et).div($t).toFixed(0,Decimal$1.ROUND_UP),percent:$t.toString()}}async getXCetusAmount(et){let{lock_handle_id:at}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),mt=`${et}_getXCetusAmount`,$t=this.getCache(mt);if($t!==void 0)return $t;try{let Ct=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:at,name:{type:"0x2::object::ID",value:et}}),Dt=getObjectFields(Ct);if(Dt){let{xcetus_amount:Ft}=Dt.value.fields.value.fields;return this.updateCache(mt,Ft,cacheTime24h),Ft}}catch{}return"0"}async getVeNftAmount(et,at){try{let mt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:at}}),$t=getObjectFields(mt);if($t){let{lock_amount:Ct,xcetus_amount:Dt}=$t.value.fields.value.fields;return{lock_amount:Ct,xcetus_amount:Dt}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(et,at=!1){let mt=(await this.getDividendManager()).dividends.id,$t=`${mt}_${et}_getPhaseDividendInfo`,Ct=this._sdk.getCache($t,at);if(Ct)return Ct;try{let Dt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"u64",value:et}}),Ft=getObjectFields(Dt),Nt=Ft.value.fields.value.fields,jt=Nt.redeemed_num.fields.contents.map(ir=>({name:ir.fields.key.fields.name,value:ir.fields.value})),Lt=Nt.bonus_types.map(ir=>ir.fields.name),Vt=Nt.bonus.fields.contents.map(ir=>({name:ir.fields.key.fields.name,value:ir.fields.value})),er={id:getObjectId(Dt),phase:Ft.name,settled_num:Nt.settled_num,register_time:Nt.register_time,redeemed_num:jt,is_settled:Nt.is_settled,bonus_types:Lt,bonus:Vt,phase_end_time:""};return this.updateCache($t,er),er}catch{}}updateCache(et,at,mt=cacheTime5min){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et];if(!at&&(mt!=null&&mt.isValid()))return mt.value;delete this._cache[et]}},ji="factory",H$1="oversubscribe_pool",bt$1=1e6,ye$1=1e18,Oi=(nt=>(nt.Upcoming="Upcoming",nt.Live="Live",nt.Ended="Ended",nt.Failed="Failed",nt.Canceled="Canceled",nt))(Oi||{}),je="router",kt$1="router",it$1="router",Ai=(nt=>(nt.BOTH="both",nt.LEFT="left",nt.Right="right",nt))(Ai||{}),Di=(nt=>(nt[nt.CURVE=3]="CURVE",nt[nt.BID_ASK=4]="BID_ASK",nt))(Di||{}),Gt$1={curve:{strategy:3,both_side:{div_width:10,ratios:[.333333,.266666,.2,.133333,.066666]},one_side:{div_width:5,ratios:[.333333,.266666,.2,.133333,.066666]}},bidAsk:{strategy:4,both_side:{div_width:10,ratios:[.172413793,.137931034,.103448276,.068965517,.034482759,.068965517,.103448276,.137931034,.172413793]},one_side:{div_width:5,ratios:[.066666667,.13333333,.2,.266666667,.333333333]}}};function xi(nt){return"master_address"in nt}var Li="router",Fi="vaults",Mi=1e4,Ri=(nt=>(nt.STATUS_RUNNING="STATUS_RUNNING",nt.STATUS_REBALANCING="STATUS_REBALANCING",nt))(Ri||{}),qi=(nt=>(nt.Haedal="Haedal",nt.Volo="Volo",nt.Aftermath="aftermath",nt))(qi||{}),Ni=(nt=>(nt.Running="Running",nt.PartialCompleted="PartialCompleted",nt.Completed="Completed",nt.Cancelled="Cancelled",nt))(Ni||{}),O$1=class{static buildIdoPoolImmutables(et){return{pool_address:normalizeSuiObjectId(et.pool_id),coin_type_sale:extractStructTagFromType$1(et.sale_coin_type.name).full_address,coin_type_raise:extractStructTagFromType$1(et.raise_coin_type.name).full_address,tick_spacing:Number(et.tick_spacing),total_supply:et.total_supply,min_purchase:et.min_purchase_amount,max_purchase:et.max_purchase_amount}}static buildIdoPool(et){let at=getMoveObjectType(et),mt=extractStructTagFromType$1(at),$t=getObjectFields(et),Ct={pool_address:normalizeSuiObjectId($t.id.id),coin_type_sale:mt.type_arguments[0],coin_type_raise:mt.type_arguments[1],tick_spacing:Number($t.tick_spacing),total_supply:$t.total_supply,min_purchase:$t.min_purchase_amount,max_purchase:$t.max_purchase_amount},Dt={start_time:Number($t.duration_manager.fields.start_time),lock_up_duration:Number($t.duration_manager.fields.lock_up_duration),purchase_duration:Number($t.duration_manager.fields.purchase_duration),end_time:0};Dt.end_time=Dt.start_time+Dt.purchase_duration;let Ft={complete_raise_limit:$t.complete_raise_limit,liquidity_injection_ratio:d$2($t.liquidity_injection_ratio).div(bt$1).toNumber(),current_sqrt_price_min:$t.current_sqrt_price_min,current_sqrt_price_max:$t.current_sqrt_price_max,owner:$t.owner,sale_coin_amount:$t.sale_coin,raise_coin_amount:$t.raise_coin,price:$t.price,current_price:$t.price,duration_summary:Dt,is_cancelled:$t.is_cancelled,is_liquidity_injected:$t.is_liquidity_injected,liquidity_used_raise_amount:$t.liquidity_used_raise_amount,liquidity_used_sale_amount:$t.liquidity_used_sale_amount,purchase_summary:{size:Number($t.purchase_manager.fields.purchases.fields.size),purchase_handle:$t.purchase_manager.fields.purchases.fields.id.id},total_purchase_amount:$t.total_purchase_amount,white_summary:{white_list_id:$t.white_list.fields.id.id,protection_limit_used:$t.white_list.fields.protection_limit_used,protection_hard_cap:$t.white_list.fields.protection_hard_cap,white_handle:$t.white_list.fields.addresses.fields.id.id,size:Number($t.white_list.fields.addresses.fields.size)},pool_status:"Upcoming",max_raise_amount:"",sale_decimals:0,raise_decimals:0,is_withdrawn:$t.is_withdrawn};return O$1.updatePoolStatus(Ft),{...Ct,...Ft}}static is_init_period(et){return Number(d$2(Date.now()/1e3).toFixed(0))<et.start_time}static is_purchase_period(et){let at=Number(d$2(Date.now()/1e3).toFixed(0));return at>=et.start_time&&at<=et.start_time+et.purchase_duration}static is_claim_period(et){let at=Number(d$2(Date.now()/1e3).toFixed(0)),mt=et.start_time+et.purchase_duration;return at>mt}static is_can_inject_liquidity(et){return!et.is_cancelled&&et.liquidity_injection_ratio!==0&&O$1.is_claim_period(et.duration_summary)&&!et.is_liquidity_injected}static is_can_withdraw(et){return et.is_withdrawn?!1:O$1.is_sale_failed(et)?!0:(et.liquidity_injection_ratio===0||et.is_liquidity_injected)&&O$1.is_claim_period(et.duration_summary)}static is_sale_failed(et){return!!(et.is_cancelled||O$1.is_claim_period(et.duration_summary)&&d$2(et.total_purchase_amount).lessThan(et.complete_raise_limit))}static buildPurchaseInfo(et){return{...et.value.fields.value.fields,owner:et.name}}static calculateRedeemAmount(et,at){let mt,$t;if(O$1.is_sale_failed(et))mt="0",$t="0";else if(at.is_redeemed)mt=at.obtained_sale_amount,$t=at.used_raise_amount;else if(d$2(et.total_purchase_amount).lessThanOrEqualTo(et.max_raise_amount))mt=d$2(at.purchased_raise_amount).mul(ye$1).div(et.price).toString(),$t=at.purchased_raise_amount;else{let Dt=O$1.redeemForSaleOversubcribeV2(et,at);mt=Dt.user_obtained_sale_amount,$t=Dt.user_used_raise_amount_ceil}mt=Decimal$1.floor(mt);let Ct=Decimal$1.floor(d$2(at.purchased_raise_amount).sub($t).toString());return{obtained_sale_amount:mt,refunded_raise_amount:Ct}}static calculateWithdrawAmount(et){let at,mt,$t=d$2(et.total_supply).mul(et.liquidity_injection_ratio);if(O$1.is_sale_failed(et))at="0",mt=d$2($t).add(et.total_supply);else{let{max_raise_amount:Ct}=et;d$2(et.total_purchase_amount).greaterThanOrEqualTo(Ct)?(at=d$2(Ct).sub(et.liquidity_used_raise_amount).toString(),mt="0"):(at=d$2(et.total_purchase_amount).sub(et.liquidity_used_raise_amount),mt=d$2(et.total_supply).add($t).sub(et.liquidity_used_sale_amount).sub(O$1.get_sold_amount(et)))}return{obtained_raise_amount:Decimal$1.floor(at).toString(),refunded_sale_amount:Decimal$1.ceil(mt).toString()}}static get_sold_amount(et){return d$2(et.total_purchase_amount).greaterThanOrEqualTo(et.max_raise_amount)?et.total_supply:d$2(et.total_purchase_amount).mul(ye$1).div(et.price)}static redeemForSaleOversubcribe(et,at){let mt=at.protection_raise_amount,$t=d$2(at.purchased_raise_amount).sub(mt),Ct=et.max_raise_amount,{protection_limit_used:Dt}=et.white_summary,Ft=d$2(Ct).sub(Dt),Nt=d$2(et.total_purchase_amount).sub(Dt),jt=Decimal$1.ceil($t.mul(Ft).div(Nt).add(mt)),Lt=Decimal$1.floor($t.mul(Ft).div(Nt).add(mt));return{user_obtained_sale_amount:Decimal$1.floor(d$2(et.total_supply).mul(Lt).div(Ct)),user_used_raise_amount_ceil:jt}}static redeemForSaleOversubcribeV2(et,at){let mt=at.protection_raise_amount,$t=d$2(at.purchased_raise_amount).sub(mt),Ct=et.max_raise_amount,{protection_limit_used:Dt}=et.white_summary,Ft=d$2(Ct).sub(Dt),Nt=d$2(et.total_purchase_amount).sub(Dt),jt=d$2(mt).mul(Nt).add(d$2($t).mul(Ft)).mul(ye$1).div(d$2(Nt).mul(et.price)),Lt=Decimal$1.ceil(jt.mul(et.price).div(ye$1));return{user_obtained_sale_amount:jt,user_used_raise_amount_ceil:Lt}}static raiseTotalAmount(et){let at=d$2(et.sale_decimals-et.raise_decimals).abs().toNumber();return et.sale_decimals>et.raise_decimals?d$2(et.total_supply).mul(et.current_price).div(d$2(10).pow(d$2(at))).toString():d$2(et.total_supply).mul(et.current_price).mul(d$2(10).pow(d$2(at))).toString()}static updatePoolStatus(et){let at=Number(d$2(Date.now()/1e3).toFixed(0)),mt=et.duration_summary,$t=mt.start_time+mt.purchase_duration;et.is_cancelled?et.pool_status="Canceled":at<mt.start_time?et.pool_status="Upcoming":at>mt.start_time&&at<$t?et.pool_status="Live":d$2(et.total_purchase_amount).lessThan(et.complete_raise_limit)?et.pool_status="Failed":et.pool_status="Ended"}static async calculatePoolUiPrice(et,at){let mt=await et.ClmmSDK.CetusConfig.getTokenListByCoinTypes([at.coin_type_sale,at.coin_type_raise]),$t=mt[at.coin_type_sale].decimals,Ct=mt[at.coin_type_raise].decimals;at.current_price=S$2.priceFixToReal(Number(d$2(at.price).div(d$2(ye$1)).toString()),$t,Ct).toString(),at.sale_decimals=$t,at.raise_decimals=Ct,at.max_raise_amount=this.raiseTotalAmount(at)}},ln$1=(nt=>(nt.V1="1",nt.V2="2",nt))(ln$1||{}),re$1=class{static buildVeNFTDividendInfo(et){let at={id:et.id.id,ve_nft_id:et.name,rewards:[]};return et.value.fields.value.fields.dividends.fields.contents.forEach(mt=>{let $t=[];mt.fields.value.fields.contents.forEach(Ct=>{$t.push({coin_type:extractStructTagFromType$1(Ct.fields.key.fields.name).source_address,amount:Ct.fields.value})}),at.rewards.push({period:Number(mt.fields.key),rewards:$t})}),at}static buildDividendManager(et){let at={id:et.id.id,dividends:{id:et.dividends.fields.id.id,size:et.dividends.fields.size},venft_dividends:{id:et.venft_dividends.fields.id.id,size:et.venft_dividends.fields.size},bonus_types:[],start_time:Number(et.start_time),interval_day:Number(et.interval_day),balances:{id:et.balances.fields.id.id,size:et.balances.fields.size},is_open:et.is_open};return et.bonus_types.forEach(mt=>{at.bonus_types.push(extractStructTagFromType$1(mt.fields.name).source_address)}),at}static buildLockUpManager(et){return{id:et.id.id,balance:et.balance,treasury_manager:et.treasury_manager,extra_treasury:et.extra_treasury,lock_infos:{lock_handle_id:et.lock_infos.fields.id.id,size:Number(et.lock_infos.fields.size)},type_name:normalizeCoinType$1(et.type_name.fields.name),min_lock_day:Number(et.min_lock_day),max_lock_day:Number(et.max_lock_day),package_version:Number(et.package_version),max_percent_numerator:Number(et.max_percent_numerator),min_percent_numerator:Number(et.min_percent_numerator)}}static buildLockToken(et){let at=et.fields,mt={id:at.id.id,type:extractStructTagFromType$1(et.type).source_address,locked_start_time:Number(at.locked_start_time),locked_until_time:Number(at.locked_until_time),token_amount:at.balance,xtoken_amount:"0",lock_day:0};return mt.lock_day=(mt.locked_until_time-mt.locked_start_time)/Se,mt}static getAvailableXToken(et,at){let mt=d$2(0);return at.forEach($t=>{mt=mt.add($t.xtoken_amount)}),d$2(et.xtoken_balance).sub(mt).toString()}static getWaitUnLockTokens(et){return et.filter(at=>!re$1.isLocked(at))}static getLockingTokens(et){return et.filter(at=>re$1.isLocked(at))}static buildDividendRewardTypeList(et){let at=new Set;return et.forEach(mt=>{mt.rewards.forEach($t=>{at.add($t.coin_type)})}),Array.from(at)}static isLocked(et){return et.locked_until_time>Date.parse(new Date().toString())/1e3}static getNextStartTime(et,at=Se){let mt=Date.now()/1e3,{start_time:$t,interval_day:Ct}=et,Dt=Math.ceil((mt-$t)/(Ct*at));return $t+Dt*Ct*at}},J=class{static getDefaultStrategyConfig(nt){let et;switch(nt){case 4:et=Gt$1.bidAsk;break;default:et=Gt$1.curve;break}return et}static geTickIndexRange(nt,et,at,mt){let $t,Ct;switch(nt=TickMath.getInitializableTickIndex(nt,et),mt){case"left":nt>0?(Ct=d$2(nt).sub(et).toNumber(),$t=d$2(nt).mul(d$2(1).add(at)).toDecimalPlaces(0).toNumber()):(Ct=d$2(nt).sub(et).toNumber(),$t=d$2(nt).mul(d$2(1).sub(at)).toDecimalPlaces(0).toNumber());break;case"right":nt>0?(Ct=d$2(nt).mul(d$2(1).add(at)).toDecimalPlaces(0).toNumber(),$t=d$2(nt).add(et).toNumber()):(Ct=d$2(nt).mul(d$2(1).sub(at)).toDecimalPlaces(0).toNumber(),$t=d$2(nt).add(et).toNumber());break;default:nt>0?($t=d$2(nt).mul(d$2(1).sub(at)).toDecimalPlaces(0).toNumber(),Ct=d$2(nt).mul(d$2(1).add(at)).toDecimalPlaces(0).toNumber()):($t=d$2(nt).mul(d$2(1).add(at)).toDecimalPlaces(0).toNumber(),Ct=d$2(nt).mul(d$2(1).sub(at)).toDecimalPlaces(0).toNumber());break}if($t=TickMath.getInitializableTickIndex($t,et),Ct=TickMath.getInitializableTickIndex(Ct,et),$t<MIN_TICK_INDEX)throw Error("Tick lower value is below the minimum allowed value.");if(Ct>MAX_TICK_INDEX)throw Error("Tick upper value is above the maximum allowed value.");return{tick_lower:$t,tick_upper:Ct}}static getCreateLiquidityBins(nt,et){let at=[];switch(et){case 4:at=J.getCreateBidAskLiquidityBins(nt);break;default:at=J.getCreateCurveLiquidityBins(nt);break}return at}static getCreateBidAskLiquidityBins(nt){let et=d$2(Math.floor(d$2(nt.tick_upper).sub(nt.tick_lower).div(nt.div_width).toNumber())).abs(),at=[],mt=nt.ratios,$t,Ct;for(let Dt=0;Dt<mt.length;Dt++){let Ft,Nt;nt.tick_upper<=nt.curr_tick?(Nt=d$2(nt.tick_upper).sub(et.mul(Dt)).toNumber(),Ft=d$2(Nt).sub(et).toNumber()):nt.tick_lower>=nt.curr_tick?(Ft=d$2(nt.tick_lower).add(et.mul(Dt)).toNumber(),Nt=d$2(nt.tick_lower).add(et.mul(Dt+1)).toNumber()):Dt===4?(Ft=d$2(nt.tick_lower).add(et.mul(Dt)).toNumber(),Nt=d$2(Ft).add(et.mul(2)).toNumber()):Dt>4?(Ft=d$2(nt.tick_lower).add(et.mul(Dt+1)).toNumber(),Nt=d$2(Ft).add(et).toNumber()):(Ft=d$2(nt.tick_lower).add(et.mul(Dt)).toNumber(),Nt=d$2(Ft).add(et).toNumber()),$t=TickMath.getInitializableTickIndex(Ft,nt.tick_spacing),Ct=TickMath.getInitializableTickIndex(Nt,nt.tick_spacing),at.push({tick_lower:$t,tick_upper:Ct,ratio:mt[Dt],liquidity:"0"})}return at}static getCreateCurveLiquidityBins(nt){let et=d$2(Math.floor(d$2(nt.tick_upper).sub(nt.tick_lower).div(nt.div_width).toNumber())).abs(),at=[],mt=nt.ratios;for(let $t=0;$t<mt.length;$t++){let Ct,Dt;nt.tick_upper<=nt.curr_tick?(Dt=nt.tick_upper,Ct=d$2(nt.tick_upper).sub(et.mul($t+1)).toNumber()):nt.tick_lower>=nt.curr_tick?(Ct=nt.tick_lower,Dt=d$2(Ct).add(et.mul($t+1)).toNumber()):(Ct=d$2(nt.curr_tick).sub(et.mul($t+1)).toNumber(),Dt=d$2(nt.curr_tick).add(et.mul($t+1)).toNumber()),at.push({tick_lower:TickMath.getInitializableTickIndex(Ct,nt.tick_spacing),tick_upper:TickMath.getInitializableTickIndex(Dt,nt.tick_spacing),ratio:mt[$t],liquidity:"0"})}return at}static calculateAddLiquidityInputs(nt){let et=new BN(TickMath.tickIndexToSqrtPriceX64(nt.curr_tick)),at=J.calculateCoinRatios(nt.curr_tick,nt.liquidity_bins),mt=nt.liquidity_bins.map(($t,Ct)=>{let Dt=at[Ct],Ft=d$2(nt.coin_amount).mul(nt.fix_amount_a?Dt.coinRatioA:Dt.coinRatioB).toFixed(0).toString();try{return{...ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts($t.tick_lower,$t.tick_upper,new BN(Ft),nt.fix_amount_a,!0,nt.slippage,et),...$t}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!nt.fix_amount_a,...$t}}});return J.fixLiquidityInputs(et,nt.slippage,mt,!0)}static fixLiquidityInputs(nt,et,at,mt){let $t=at.filter(Dt=>Dt.liquidityAmount.gt(ZERO$1));if($t.length===0)return[];let Ct=$t[0];return at.map(Dt=>{if(Dt.liquidityAmount.eq(ZERO$1)){let Ft=d$2(Ct.liquidityAmount.toString()).mul(Dt.ratio).div(Ct.ratio).toFixed(0),Nt=TickMath.tickIndexToSqrtPriceX64(Dt.tick_lower),jt=TickMath.tickIndexToSqrtPriceX64(Dt.tick_upper),Lt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Ft.toString()),nt,Nt,jt,!1);return{coinAmountA:Lt.coinA,coinAmountB:Lt.coinB,liquidityAmount:new BN(Ft.toString()),fix_amount_a:Dt.fix_amount_a,...adjustForCoinSlippage(Lt,Percentage.fromDecimal(d$2(et).mul(100)),mt)}}return Dt})}static calculateCoinRatios(nt,et){let at=new BN(TickMath.tickIndexToSqrtPriceX64(nt)),mt=[],$t=d$2(0),Ct=d$2(0),Dt=et.map(jt=>{let Lt=d$2(toDecimalsAmount(100,6).toString()).mul(jt.ratio).toFixed(0).toString(),Vt=TickMath.tickIndexToSqrtPriceX64(jt.tick_lower),er=TickMath.tickIndexToSqrtPriceX64(jt.tick_upper),ir=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Lt),at,Vt,er,!0);return $t=$t.add(ir.coinA.toString()),Ct=Ct.add(ir.coinB.toString()),{...ir,liquidity:Lt}}),Ft=[],Nt=[];return Dt.forEach((jt,Lt)=>{let Vt={coinRatioA:$t.eq(d$2(0))?0:d$2(jt.coinA.toString()).div($t).toNumber(),coinRatioB:Ct.eq(d$2(0))?0:d$2(jt.coinB.toString()).div(Ct).toNumber(),liquiditys:jt.liquidity,tick_lower:et[Lt].tick_lower,tick_upper:et[Lt].tick_upper};mt.push(Vt),Ft.push($t.eq(d$2(0))?0:d$2(jt.coinA.toString()).div($t).toNumber()),Nt.push(Ct.eq(d$2(0))?0:d$2(jt.coinB.toString()).div(Ct).toNumber())}),mt}static calculateCloseMasterLiquidityInputs(nt){let et=new BN(TickMath.tickIndexToSqrtPriceX64(nt.curr_tick));return nt.positions.map(at=>{let mt=new BN(at.liquidity),$t=TickMath.tickIndexToSqrtPriceX64(at.tick_lower_index),Ct=TickMath.tickIndexToSqrtPriceX64(at.tick_upper_index),Dt=ClmmPoolUtil.getCoinAmountFromLiquidity(mt,et,$t,Ct,!1),Ft=Percentage.fromDecimal(d$2(nt.slippage).mul(100)),{tokenMaxA:Nt,tokenMaxB:jt}=adjustForCoinSlippage(Dt,Ft,!1);return{coinAmountA:Dt.coinA,coinAmountB:Dt.coinB,tokenMaxA:Nt,tokenMaxB:jt,liquidityAmount:mt,fix_amount_a:!1}})}static calculateRemoveMasterLiquidityInputs(nt){let et=new BN(TickMath.tickIndexToSqrtPriceX64(nt.curr_tick)),{fix_token:at}=nt;if(at){let mt=nt.positions.map((Dt,Ft)=>({tick_lower:Dt.tick_lower_index,tick_upper:Dt.tick_upper_index,ratio:nt.ratios[Ft]})),$t=J.calculateCoinRatios(nt.curr_tick,mt),Ct=nt.positions.map((Dt,Ft)=>{let Nt=$t[Ft],jt=d$2(at.coin_amount).mul(at.fix_amount_a?Nt.coinRatioA:Nt.coinRatioB).toFixed(0).toString();try{let Lt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(Dt.tick_lower_index,Dt.tick_upper_index,new BN(jt),at.fix_amount_a,!1,nt.slippage,et);return{...Lt,tick_lower:Dt.tick_lower_index,tick_upper:Dt.tick_upper_index,liquidity:Lt.liquidityAmount.toString(),ratio:nt.ratios[Ft]}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!at.fix_amount_a,tick_lower:Dt.tick_lower_index,tick_upper:Dt.tick_upper_index,liquidity:"0",ratio:nt.ratios[Ft]}}});return J.fixLiquidityInputs(et,nt.slippage,Ct,!1)}return nt.positions.map((mt,$t)=>{let Ct=nt.ratios[$t],Dt=d$2(nt.liquidity).mul(Ct).toFixed(0);d$2(Dt).greaterThan(mt.liquidity)&&(Dt=mt.liquidity);let Ft=TickMath.tickIndexToSqrtPriceX64(mt.tick_lower_index),Nt=TickMath.tickIndexToSqrtPriceX64(mt.tick_upper_index),jt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Dt),et,Ft,Nt,!1),Lt=Percentage.fromDecimal(d$2(nt.slippage).mul(100)),{tokenMaxA:Vt,tokenMaxB:er}=adjustForCoinSlippage(jt,Lt,!1);return{coinAmountA:jt.coinA,coinAmountB:jt.coinB,tokenMaxA:Vt,tokenMaxB:er,liquidityAmount:new BN(Dt),fix_amount_a:!1}})}static buildMasterPosition(nt){return{coin_type_a:extractStructTagFromType$1(nt.coin_type_a.fields.name).full_address,coin_type_b:extractStructTagFromType$1(nt.coin_type_b.fields.name).full_address,description:nt.description,id:nt.id.id,index:nt.index,liquidity:nt.liquidity,name:nt.name,pool:nt.pool,tick_lower_index:asIntN(BigInt(nt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(nt.tick_upper_index.fields.bits)),url:nt.url}}static buildMasterNFT(nt){let et=getObjectFields(nt);if(et){let at={id:et.id.id,pool_id:et.pool_id,index:Number(et.index),strategy:Number(et.strategy),tick_lower_index:asIntN(BigInt(et.tick_lower_index)),tick_upper_index:asIntN(BigInt(et.tick_upper_index)),positions:[],...buildNFT(nt)};return at.positions=et.positions.map(mt=>J.buildMasterPosition(mt.fields)),at}}},q$1=class{static generateNextTickRange(et,at,mt){let $t=et-at/2,Ct=et+at/2;return{new_tick_lower:q$1.getValidTickIndex($t,mt),new_tick_upper:q$1.getValidTickIndex(Ct,mt)}}static calculateDepositRatio(et,at,mt){let $t=TickMath.sqrtPriceX64ToTickIndex(mt);if($t<et)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if($t>at)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let Ct=new BN(1e8),{coinAmountB:Dt}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(et,at,Ct,!0,!0,0,mt),Ft=TickMath.sqrtPriceX64ToPrice(mt,0,0),Nt=d$2(Ct.toString()).mul(Ft),jt=Nt.add(Dt.toString()),Lt=Nt.div(jt),Vt=d$2(Dt.toString()).div(jt);return{ratioA:Lt,ratioB:Vt}}static getValidTickIndex(et,at){if(et%at===0)return et;let mt;if(et>0?mt=et-et%at+at:et<0?mt=et+Math.abs(et)%at-at:mt=et,mt%at!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(mt)<Math.abs(et))throw new Error("Assertion failed: res.abs() >= tickIndex");return mt}static get_lp_amount_by_liquidity(et,at){return et.total_supply==="0"?"0":d$2(et.total_supply).mul(at).div(et.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(et,at){return et.total_supply==="0"?"0":d$2(at).mul(et.liquidity).div(et.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(et,at){return d$2(at).mul(et.protocol_fee_rate).div(Mi).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(et){let at=et.clmm_postion.fields;return{id:et.id.id,url:at.url,pool_id:et.pool_id,coinTypeA:extractStructTagFromType$1(at.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(at.coin_type_b.fields.name).full_address,description:at.description,name:at.name,liquidity:at.liquidity,clmm_position_id:at.id.id,clmm_pool_id:at.pool,tick_lower_index:asIntN(BigInt(at.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(at.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(et){let at=getObjectFields(et),mt=getObjectType(et),{positions:$t}=at;if(at&&$t.length>0){let Ct=q$1.buildFramsPositionNFT($t[0].fields);return{id:at.id.id,pool_id:at.pool,protocol_fee_rate:at.protocol_fee_rate,is_pause:at.is_pause,harvest_assets:{harvest_assets_handle:at.harvest_assets.fields.id.id,size:Number(at.harvest_assets.fields.size)},lp_token_type:extractStructTagFromType$1(mt).type_arguments[0],total_supply:at.lp_token_treasury.fields.total_supply.fields.value,liquidity:at.liquidity,max_quota:at.max_quota,status:at.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:at.quota_based_type.fields.name,position:Ct}}}static async getSuiCoin(et,at,mt){let $t=await et.ClmmSDK.getOwnerCoinAssets(et.getVerifySenderAddress(),GAS_TYPE_ARG$1);mt=mt||new Transaction;let Ct;if(at>95e10){let[Dt,...Ft]=$t;Ft.length>0&&mt.mergeCoins(mt.object(Dt.coinObjectId),Ft.map(Nt=>mt.object(Nt.coinObjectId))),Ct=mt.splitCoins(mt.object(Dt.coinObjectId),[at])}else Ct=TransactionUtil.buildCoinForAmount(mt,$t,BigInt(at),GAS_TYPE_ARG$1,!1,!0).targetCoin;return Ct}},Ae$1=class{static calculatePositionShare(et,at,mt,$t,Ct,Dt,Ft){if(at<=Ct||et>=Dt)return"0";let Nt=0;et<Ct?Nt=Ct:Nt=et;let jt=0;at<Dt?jt=at:jt=Dt;let Lt=TickMath.tickIndexToSqrtPriceX64(Nt),Vt=TickMath.tickIndexToSqrtPriceX64(jt),{coinA:er,coinB:ir}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(mt),new BN(Ft),Lt,Vt,!0);return d$2(er.toString()).mul($t).div(1e12).add(ir.toString()).toString()}static buildFramsPool(et){let at=getObjectFields(et);if(at)try{let mt=[];return at.rewarders.forEach($t=>{mt.push({reward_coin:extractStructTagFromType$1($t.fields.name).full_address,last_reward_time:"",emission_per_second:"",total_allocate_point:"",allocate_point:""})}),{id:at.id.id,clmm_pool_id:at.clmm_pool_id,effective_tick_lower:asIntN(BigInt(at.effective_tick_lower.fields.bits)),effective_tick_upper:asIntN(BigInt(at.effective_tick_upper.fields.bits)),total_share:at.total_share,rewarders:mt,positions:{positions_handle:at.positions.fields.id.id,size:at.positions.fields.size},sqrt_price:at.sqrt_price}}catch(mt){console.log(mt)}}static buildFramsPositionNFT(et){let at=getObjectFields(et);if(at){let mt=at.clmm_postion.fields;return{id:at.id.id,url:mt.url,pool_id:at.pool_id,coinTypeA:extractStructTagFromType$1(mt.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(mt.coin_type_b.fields.name).full_address,description:mt.description,name:mt.name,liquidity:mt.liquidity,clmm_position_id:mt.id.id,clmm_pool_id:mt.pool,tick_lower_index:asIntN(BigInt(mt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(mt.tick_upper_index.fields.bits)),rewards:[]}}}},ke$1=class{static buildOrderLimitEvent(et,at){let{events:mt}=et,$t=[];return mt&&mt.forEach(Ct=>{let Dt=extractStructTagFromType$1(Ct.type).name;if(at.includes(Dt)){let Ft={digest:et.digest,type:Dt,timestampMs:et.timestampMs,parsedJson:Ct.parsedJson};$t.push(Ft)}}),$t}static buildLimitOrderInfo(et){let at=getObjectFields(et),mt=getObjectType(et);if(at&&mt)try{let $t=extractStructTagFromType$1(mt),Ct={pay_coin_type:$t.type_arguments[0],target_coin_type:$t.type_arguments[1],canceled_ts:at.canceled_ts==="18446744073709551615"?0:Number(at.canceled_ts),id:at.id.id,obtained_amount:at.obtained_amount,owner:at.owner,rate:at.rate,rate_order_indexer_id:at.rate_order_indexer_id,expire_ts:Number(at.expire_ts),total_pay_amount:at.total_pay_amount,pay_balance:at.pay_balance,target_balance:at.target_balance,claimed_amount:at.claimed_amount,status:"Running",created_ts:Number(at.created_ts)};return Ct.canceled_ts===0?(Ct.status="Running",d$2(Ct.pay_balance).eq(0)?Ct.status="Completed":d$2(Ct.pay_balance).lessThan(Ct.total_pay_amount)&&(Ct.status="PartialCompleted")):Ct.status="Cancelled",Ct}catch($t){console.log($t)}}static rateToPrice(et,at,mt){let $t=18+at-mt;return d$2(10**$t).div(et).toString()}static priceToRate(et,at,mt){let $t=18+at-mt;return d$2(10).pow($t).div(d$2(et)).toFixed(0).toString()}},Ee$1=class{static async getExchangeRateForStake(et,at,mt){let{vaults:$t}=et.sdkOptions,{haedal:Ct}=getPackagerConfigs($t);if(Ct===void 0)throw Error("the haedal config is undefined");let{simulationAccount:Dt}=et.ClmmSDK.sdkOptions,{staking_id:Ft}=getPackagerConfigs(Ct);try{let Nt=new Transaction;at?await this.requestStake(et,mt||1e9,Nt):Nt.moveCall({target:`${Ct.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[Nt.object(Ft)]});let jt=await et.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Nt,sender:at?et.ClmmSDK.senderAddress:Dt.address});if(at){let Vt=jt.events.find(or=>or.type.includes("UserStaked")),{sui_amount:er,st_amount:ir}=Vt.parsedJson;return d$2(er).div(ir).toString()}let Lt=jt.results[0].returnValues[0][0];return d$2(suiBcs.u64().parse(Uint8Array.from(Lt))).div(1e6).toString()}catch(Nt){console.log("getExchangeRateForHaedal",Nt)}return"0"}static async requestStake(et,at,mt){var Dt,Ft;let{vaults:$t}=et.sdkOptions;mt=mt||new Transaction;let Ct=await q$1.getSuiCoin(et,at,mt);return mt.moveCall({target:`${(Ft=(Dt=$t.config)==null?void 0:Dt.haedal)==null?void 0:Ft.published_at}::interface::request_stake`,typeArguments:[],arguments:[mt.object(normalizeSuiObjectId("0x5")),mt.object($t.config.haedal.config.staking_id),Ct,mt.pure.address(normalizeSuiObjectId("0x0"))]}),mt}static requestStakeCoin(et,at,mt){let{haedal:$t}=et.sdkOptions.vaults.config;return at.moveCall({target:`${$t.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[at.object(normalizeSuiObjectId("0x5")),at.object($t.config.staking_id),mt,at.pure.address(normalizeSuiObjectId("0x0"))]})}},$e$1=class{static async getExchangeRateForStake(et,at,mt){let{vaults:$t}=et.sdkOptions,{volo:Ct}=getPackagerConfigs($t);if(Ct===void 0)throw Error("the volo config is undefined");let{simulationAccount:Dt}=et.ClmmSDK.sdkOptions,{native_pool:Ft,vsui_metadata:Nt}=getPackagerConfigs(Ct);try{let jt=new Transaction;at?await this.requestStake(et,mt||1e9,jt):jt.moveCall({target:`${Ct.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[jt.object(Ft),jt.object(Nt)]});let Lt=await et.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:jt,sender:at?et.ClmmSDK.senderAddress:Dt.address});if(at){let ir=Lt.events.find(dr=>dr.type.includes("StakedEvent")),{cert_amount:or,sui_amount:lr}=ir.parsedJson;return d$2(lr).div(or).toString()}let Vt=Lt.results[0].returnValues[0][0],er=d$2(suiBcs.u256().parse(Uint8Array.from(Vt))).div("1000000000000000000").toNumber();return d$2(1).div(er).toString()}catch(jt){console.log("getExchangeRateForHaedal",jt)}return"0"}static async requestStake(et,at,mt){let{vaults:$t}=et.sdkOptions,{volo:Ct}=getPackagerConfigs($t);if(Ct===void 0)throw Error("the volo config is undefined");mt=mt||new Transaction;let{native_pool:Dt,vsui_metadata:Ft}=getPackagerConfigs(Ct),Nt=await q$1.getSuiCoin(et,at,mt);return mt.moveCall({target:`${Ct.published_at}::native_pool::stake`,typeArguments:[],arguments:[mt.object(Dt),mt.object(Ft),mt.object(normalizeSuiObjectId("0x5")),Nt]}),mt}static requestStakeCoin(et,at,mt){let{vaults:$t}=et.sdkOptions,{volo:Ct}=getPackagerConfigs($t);if(Ct===void 0)throw Error("the volo config is undefined");at=at||new Transaction;let{native_pool:Dt,vsui_metadata:Ft}=getPackagerConfigs(Ct);return at.moveCall({target:`${Ct.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[at.object(Dt),at.object(Ft),at.object(normalizeSuiObjectId("0x5")),mt]})}},Ue=class{static async getExchangeRateForStake(nt,et,at){let{vaults:mt}=nt.sdkOptions,{aftermath:$t}=getPackagerConfigs(mt);if($t===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:Ct}=nt.ClmmSDK.sdkOptions,{staked_sui_vault:Dt,safe:Ft}=getPackagerConfigs($t);try{let Nt=new Transaction;et?await this.requestStake(nt,at||1e9,Nt):Nt.moveCall({target:`${$t.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[Nt.object(Dt),Nt.object(Ft)]});let jt=await nt.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Nt,sender:et?nt.ClmmSDK.senderAddress:Ct.address});if(et){let Vt=jt.events.find(or=>or.type.includes("StakedEvent")),{afsui_amount:er,sui_amount:ir}=Vt.parsedJson;return d$2(ir).div(er).toString()}let Lt=jt.results[0].returnValues[0][0];return d$2(suiBcs.u128().parse(Uint8Array.from(Lt))).div(1e18).toString()}catch(Nt){console.log("getExchangeRateForHaedal",Nt)}return"0"}static async requestStake(nt,et,at){let{vaults:mt}=nt.sdkOptions,{aftermath:$t}=getPackagerConfigs(mt);if($t===void 0)throw Error("the aftermath config is undefined");at=at||new Transaction;let{staked_sui_vault:Ct,referral_vault:Dt,safe:Ft,validator_address:Nt}=getPackagerConfigs($t),jt=await q$1.getSuiCoin(nt,et,at);return at.moveCall({target:`${$t.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[at.object(Ct),at.object(Ft),at.object(normalizeSuiObjectId("0x5")),at.object(Dt),jt,at.pure.address(normalizeSuiObjectId(Nt))]}),at}static requestStakeCoin(nt,et,at){let{vaults:mt}=nt.sdkOptions,{aftermath:$t}=getPackagerConfigs(mt);if($t===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:Ct,referral_vault:Dt,safe:Ft,validator_address:Nt}=getPackagerConfigs($t);return et.moveCall({target:`${$t.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[et.object(Ct),et.object(Ft),et.object(normalizeSuiObjectId("0x5")),et.object(Dt),at,et.pure.address(normalizeSuiObjectId(Nt))]})}},St$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async getPoolImmutables(et="all",at=!1){let{package_id:mt}=this._sdk.sdkOptions.ido,$t=`${mt}_getPoolImmutables`,Ct=this.getCache($t,at),Dt={data:[],hasNextPage:!1},Ft=[];if(Ct!==void 0&&Ft.push(...Ct),Ft.length===0)try{let Nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${mt}::oversubscribe_pool::CreatePoolEvent`},et);Nt.data.forEach(jt=>{let Lt=jt.parsedJson;if(Lt){let Vt=O$1.buildIdoPoolImmutables(Lt);Ft.push(Vt)}}),Dt.hasNextPage=Nt.hasNextPage,Dt.nextCursor=Nt.nextCursor,this.updateCache($t,Ft,cacheTime24h)}catch(Nt){console.log("getPoolImmutables",Nt)}return Dt.data=Ft,Dt}async getPools(et=[],at=!1){let mt=[],$t=[];et.length>0?$t=[...et]:(await this.getPoolImmutables("all",at)).data.forEach(Dt=>{$t.push(Dt.pool_address)});let Ct=await this._sdk.ClmmSDK.fullClient.batchGetObjects($t,{showType:!0,showContent:!0});for(let Dt of Ct){let Ft=O$1.buildIdoPool(Dt);await O$1.calculatePoolUiPrice(this._sdk,Ft),mt.push(Ft);let Nt=`${Ft.pool_address}_getPoolObject`;this.updateCache(Nt,Ft,cacheTime24h)}return mt}async getPool(et,at=!0){let mt=`${et}_getPoolObject`,$t=this.getCache(mt,at);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0,showType:!0}}),Dt=O$1.buildIdoPool(Ct);return await O$1.calculatePoolUiPrice(this._sdk,Dt),this.updateCache(mt,Dt),Dt}async getIdoConfigs(et=!1){var jt;let{package_id:at}=this._sdk.sdkOptions.ido,mt=`${at}_getInitEvent`,$t=this.getCache(mt,et);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:at,options:{showPreviousTransaction:!0}}),Dt=getObjectPreviousTransactionDigest(Ct),Ft=(jt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:Dt}))==null?void 0:jt.data,Nt={pools_id:"",admin_cap_id:"",package_version_id:""};return Ft.length>0&&(Ft.forEach(Lt=>{let Vt=Lt.parsedJson;if(Vt)switch(extractStructTagFromType$1(Lt.type).full_address){case`${at}::config::InitConfigEvent`:Nt.admin_cap_id=Vt.admin_cap_id,Nt.package_version_id=Vt.package_version_id;break;case`${at}::factory::InitFactoryEvent`:Nt.pools_id=Vt.pools_id;break}}),this.updateCache(mt,Nt,cacheTime24h)),Nt}async getPurchaseInfo(et,at,mt=!0){let $t=`${et}_${at}_getPurchaseInfo`,Ct=this.getCache($t,mt);if(Ct)return Ct;try{let Dt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"address",value:at}}),Ft=O$1.buildPurchaseInfo(getObjectFields(Dt));return this.updateCache($t,Ft,cacheTime5min),Ft}catch{return}}async getLockNFT(et,at=!1){let mt=`${et}_getLockNFT`,$t=this.getCache(mt,at);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!Ct.error)return buildPosition(Ct)}async getLockNFTList(et){var Ct;let{clmm_pool:at}=this._sdk.ClmmSDK.sdkOptions,{ido:mt}=this._sdk.sdkOptions,$t=[];try{let Dt=(Ct=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(et,{filter:{StructType:`${mt.package_id}::lock::LockedNFT<${at.package_id}::position::Position>`},options:{showContent:!0}}))==null?void 0:Ct.data;for(let Ft of Dt){let Nt=getObjectFields(Ft);if(Nt){let jt=Nt.nft.fields,Lt={locked_at:Number(Nt.locked_at),lock_duration:Number(Nt.lock_duration),lock_nft_id:Nt.id.id,type:Nt.nft.type,...jt};Lt.end_lock_time=Lt.locked_at+Lt.lock_duration,Lt.coin_type_a=extractStructTagFromType$1(jt.coin_type_a.fields.name).full_address,Lt.coin_type_b=extractStructTagFromType$1(jt.coin_type_b.fields.name).full_address,Lt.id=jt.id.id,Lt.tick_lower_index=asIntN(BigInt(jt.tick_lower_index.fields.bits)),Lt.tick_upper_index=asIntN(BigInt(jt.tick_upper_index.fields.bits)),$t.push(Lt)}}return $t}catch(Dt){return console.log("getLockNFTList:",Dt),[]}}async creatPool(et){let{ido:at}=this.sdk.sdkOptions;isSortedSymbols(normalizeSuiAddress(et.coin_type_sale),normalizeSuiAddress(et.coin_type_raise))&&(et.price_min=d$2(1).div(et.price_max).toNumber(),et.price_max=d$2(1).div(et.price_min).toNumber());let mt=S$2.priceRealToFix(Number(et.price),et.sale_decimals,et.raise_decimals),$t=TickMath.priceToSqrtPriceX64(d$2(et.price_min),et.sale_decimals,et.raise_decimals).toString(),Ct=TickMath.priceToSqrtPriceX64(d$2(et.price_max),et.sale_decimals,et.raise_decimals).toString(),Dt=new Transaction,Ft=d$2(et.total_supply).add(d$2(et.total_supply).mul(d$2(et.liquidity_injection_ratio))).toNumber(),Nt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,et.coin_type_sale),jt=TransactionUtil.buildCoinForAmount(Dt,Nt,BigInt(Ft),et.coin_type_sale,!1),Lt=[Dt.object(getPackagerConfigs(at).admin_cap_id),Dt.object(getPackagerConfigs(at).package_version_id),Dt.object(getPackagerConfigs(at).pools_id),Dt.object(normalizeSuiAddress(et.owner)),Dt.pure.u128(d$2(mt).mul(ye$1).toString()),Dt.pure.u64(et.total_supply),Dt.pure.u64(et.complete_raise_limit),Dt.pure.u64(et.min_purchase_amount),Dt.pure.u64(et.max_purchase_amount),Dt.pure.u64(et.start_time),Dt.pure.u64(et.purchase_duration),Dt.pure.u64(et.lock_up_duration),Dt.pure.u64((et.liquidity_injection_ratio*bt$1).toString()),Dt.pure.u128($t),Dt.pure.u128(Ct),Dt.pure.u32(et.tick_spacing),jt.targetCoin,Dt.pure.u64(et.protection_hard_cap.toString()),Dt.object(CLOCK_ADDRESS$1)],Vt=[et.coin_type_sale,et.coin_type_raise];return Dt.moveCall({target:`${at.published_at}::${ji}::create_oversubscribe_pool`,typeArguments:Vt,arguments:Lt}),Dt}async creatPurchasePayload(et){let{ido:at}=this.sdk.sdkOptions,mt=new Transaction,$t=await this.getPurchaseInfo(et.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1),Ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,et.coin_type_raise),Dt=TransactionUtil.buildCoinForAmount(mt,Ct,BigInt(et.raise_amount),et.coin_type_raise,!1),Ft=[et.coin_type_sale,et.coin_type_raise],Nt,jt;return $t?(jt="purchase",Nt=[mt.object(getPackagerConfigs(at).package_version_id),mt.object(et.pool_address),mt.object($t.purchase_certificate_id),mt.pure.u64(et.raise_amount.toString()),Dt.targetCoin,mt.object(CLOCK_ADDRESS$1)]):(jt="create_certificate_and_purchase",Nt=[mt.object(getPackagerConfigs(at).package_version_id),mt.object(et.pool_address),mt.pure.u64(et.raise_amount.toString()),Dt.targetCoin,mt.object(CLOCK_ADDRESS$1)]),mt.moveCall({target:`${at.published_at}::${H$1}::${jt}`,typeArguments:Ft,arguments:Nt}),mt}async redeemPayload(et){let{ido:at}=this.sdk.sdkOptions,mt=await this.getPurchaseInfo(et.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1);if(mt===void 0)throw Error("get purchase certificate fail");let $t=new Transaction,Ct=[et.coin_type_sale,et.coin_type_raise],Dt=[$t.object(getPackagerConfigs(at).package_version_id),$t.object(et.pool_address),$t.object(mt.purchase_certificate_id),$t.object(CLOCK_ADDRESS$1)];return $t.moveCall({target:`${at.published_at}::${H$1}::redeem`,typeArguments:Ct,arguments:Dt}),$t}injectLiquidityPayload(et){let{ido:at}=this.sdk.sdkOptions,{clmm_pool:mt}=this.sdk.ClmmSDK.sdkOptions,$t=new Transaction,Ct=[et.coin_type_sale,et.coin_type_raise],Dt=et.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",Ft=[$t.object(getPackagerConfigs(at).package_version_id),$t.object(et.pool_address),$t.object(getPackagerConfigs(mt).global_config_id),$t.object(et.clmm_pool_address),$t.object(CLOCK_ADDRESS$1)];return $t.moveCall({target:`${at.published_at}::${H$1}::${Dt}`,typeArguments:Ct,arguments:Ft}),$t}unPauseInjectLiquidity(et){let{ido:at}=this.sdk.sdkOptions,{integrate:mt,clmm_pool:$t}=this.sdk.ClmmSDK.sdkOptions,Ct=new Transaction;Ct.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolModule}::unpause_pool`,typeArguments:[et.coin_type_a,et.coin_type_b],arguments:[Ct.object(getPackagerConfigs($t).global_config_id),Ct.object(et.clmm_pool_address)]});let Dt=[et.coin_type_sale,et.coin_type_raise],Ft=et.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",Nt=[Ct.object(getPackagerConfigs(at).package_version_id),Ct.object(et.pool_address),Ct.object(getPackagerConfigs($t).global_config_id),Ct.object(et.clmm_pool_address),Ct.object(CLOCK_ADDRESS$1)];return Ct.moveCall({target:`${at.published_at}::${H$1}::${Ft}`,typeArguments:Dt,arguments:Nt}),Ct}async findClmmPoolForLiquidity(et){let at=null,mt=!1,$t=await this.sdk.ClmmSDK.Pool.getPoolImmutables();for(let Ct of $t){if(Ct.coinTypeA===et.coin_type_sale&&Ct.coinTypeB===et.coin_type_raise&&Number(Ct.tickSpacing)===et.tick_spacing){at=await this._sdk.ClmmSDK.Pool.getPool(Ct.poolAddress);break}if(Ct.coinTypeA===et.coin_type_raise&&Ct.coinTypeB===et.coin_type_sale&&Number(Ct.tickSpacing)===et.tick_spacing){at=await this._sdk.ClmmSDK.Pool.getPool(Ct.poolAddress),mt=!0;break}}return at&&(d$2(at.current_sqrt_price).lessThanOrEqualTo(et.current_sqrt_price_min)||d$2(at.current_sqrt_price).greaterThanOrEqualTo(et.current_sqrt_price_max))?{is_reverse:mt,clmmPool:null}:{is_reverse:mt,clmmPool:at}}withdrawPayload(et){let{ido:at}=this.sdk.sdkOptions,mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise],Ct=[mt.object(getPackagerConfigs(at).package_version_id),mt.object(et.pool_address),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${at.published_at}::${H$1}::withdraw`,typeArguments:$t,arguments:Ct}),mt}updateWhitelistCapPayload(et){let{ido:at}=this.sdk.sdkOptions,mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise];return et.add_whites&&et.add_whites.addresses.length>0&&mt.moveCall({target:`${at.published_at}::${H$1}::add_white_listed_addresses`,typeArguments:$t,arguments:[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).package_version_id),mt.object(et.pool_address),mt.makeMoveVec({type:"address",elements:et.add_whites.addresses.map(Ct=>mt.pure.address(normalizeSuiObjectId(Ct)))}),mt.pure.u64(et.add_whites.protection_limit),mt.object(CLOCK_ADDRESS$1)]}),et.remove_whites&&et.remove_whites.length>0&&mt.moveCall({target:`${at.published_at}::${H$1}::remove_white_listed_addresses`,typeArguments:$t,arguments:[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).package_version_id),mt.object(et.pool_address),mt.makeMoveVec({type:"address",elements:et.remove_whites.map(Ct=>mt.pure.address(normalizeSuiObjectId(Ct)))}),mt.object(CLOCK_ADDRESS$1)]}),et.update_whites&&et.update_whites.forEach(Ct=>{mt.moveCall({target:`${at.published_at}::${H$1}::update_white_listed_address`,typeArguments:$t,arguments:[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).package_version_id),mt.object(et.pool_address),mt.object(Ct.address),mt.pure.u64(Ct.protection_limit),mt.object(CLOCK_ADDRESS$1)]})}),mt}creatCancelPoolPayload(et){let{ido:at}=this.sdk.sdkOptions,mt=new Transaction,$t=[et.coin_type_sale,et.coin_type_raise],Ct=[mt.object(getPackagerConfigs(at).admin_cap_id),mt.object(getPackagerConfigs(at).package_version_id),mt.object(et.pool_address),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${at.published_at}::${H$1}::cancel`,typeArguments:$t,arguments:Ct}),mt}updatePoolOwnerPayload(et,at){let{ido:mt}=this.sdk.sdkOptions;at=at===void 0?new Transaction:at;let $t=[et.coin_type_sale,et.coin_type_raise],Ct=[at.object(getPackagerConfigs(mt).admin_cap_id),at.object(getPackagerConfigs(mt).package_version_id),at.object(et.pool_address),at.object(et.new_owner),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${mt.published_at}::${H$1}::update_pool_owner`,typeArguments:$t,arguments:Ct}),at}updatePoolDuractionPayload(et,at){let{ido:mt}=this.sdk.sdkOptions;at=at===void 0?new Transaction:at;let $t=[et.coin_type_sale,et.coin_type_raise],Ct=[at.object(getPackagerConfigs(mt).admin_cap_id),at.object(getPackagerConfigs(mt).package_version_id),at.object(et.pool_address),at.pure.u64(et.start_time),at.pure.u64(et.purchase_duration),at.pure.u64(et.lock_duration),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${mt.published_at}::${H$1}::update_pool_duration`,typeArguments:$t,arguments:Ct}),at}updateProtectionHardCapPayload(et,at){let{ido:mt}=this.sdk.sdkOptions;at=at===void 0?new Transaction:at;let $t=[et.coin_type_sale,et.coin_type_raise],Ct=[at.object(getPackagerConfigs(mt).admin_cap_id),at.object(getPackagerConfigs(mt).package_version_id),at.object(et.pool_address),at.pure.u64(et.protection_hard_cap),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${mt.published_at}::${H$1}::update_protection_hard_cap`,typeArguments:$t,arguments:Ct}),at}unlockNftPayload(et){let{ido:at}=this.sdk.sdkOptions,mt=new Transaction,$t=[et.nft_type],Ct=[mt.object(et.lock_nft_id),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${at.published_at}::lock::unlock_nft`,typeArguments:$t,arguments:Ct}),mt}async isAdminCap(et){let{ido:at}=this._sdk.sdkOptions,mt=`${at.package_id}_${et}_isAdminCap`,$t=this.getCache(mt);if($t)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(at).admin_cap_id,options:{showType:!0,showOwner:!0}});console.log(Ct);let Dt=getObjectType(Ct),Ft=getObjectOwner(Ct),Nt=!1;return Ft&&Dt&&extractStructTagFromType$1(Dt).source_address===`${at.package_id}::config::AdminCap`&&(Nt=normalizeSuiAddress(Ft.AddressOwner)===normalizeSuiAddress(et)),this.updateCache(mt,Nt,cacheTime24h),Nt}async getWhiteProtectionLimit(et,at,mt=!0){let $t=`${et}_${at}_getWhiteProtectionLimit`,Ct=this._sdk.getCache($t,mt);if(Ct)return Ct;try{let Dt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"address",value:at}});if(Dt&&Dt.data){let Ft=getObjectFields(Dt);return this._sdk.updateCache($t,Ft.value),Ft.value}return}catch{return}}async getWhiteList(et,at){var $t;let mt={type:"address",value:at};try{let Ct=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:mt}),Dt=getObjectFields(Ct);if(console.log(Dt),Dt)return($t=Dt==null?void 0:Dt.value)==null?void 0:$t.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getAdminAddress(){let{ido:et}=this._sdk.sdkOptions,at=`${getPackagerConfigs(et).admin_cap_id}_getAdminAddress`,mt=this.getCache(at);if(mt)return mt;let $t=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(et).admin_cap_id,options:{showType:!0,showOwner:!0}}),Ct=getObjectType($t),Dt=getObjectOwner($t);if(Dt&&Ct&&extractStructTagFromType$1(Ct).source_address===`${et.package_id}::config::AdminCap`){let Ft=normalizeSuiAddress(Dt.AddressOwner);return this.updateCache(at,Ft,cacheTime24h),Ft}return""}updateCache(et,at,mt=cacheTime24h){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et];if(!at&&(mt!=null&&mt.isValid()))return mt.value;delete this._cache[et]}},It$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async getOwnerVeNFT(et,at=!0){let{xtoken:mt}=this.sdk.sdkOptions,$t=`${et}_getLockUpManagerEvent`,Ct=this.getCache($t,at);if(Ct!==void 0)return Ct;let Dt,Ft=`${mt.package_id}::xtoken::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(et,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:Ft}})).data.forEach(Nt=>{let jt=extractStructTagFromType$1(getMoveObjectType(Nt)).source_address;if(jt===Ft&&Nt.data&&Nt.data.content){let{fields:Lt}=Nt.data.content;Dt={...buildNFT(Nt),id:Lt.id.id,index:Lt.index,type:jt,xtoken_balance:Lt.xtoken_balance},this.updateCache($t,Dt,cacheTime24h)}}),Dt}async getOwnerLockTokens(et){let{xtoken:at}=this.sdk.sdkOptions,mt=[],$t=`${at.package_id}::lock_coin::LockedCoin<${this.buileTokenCoinType()}>`,Ct=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(et,{options:{showType:!0,showContent:!0},filter:{StructType:$t}});for(let Dt of Ct.data)if(extractStructTagFromType$1(getMoveObjectType(Dt)).source_address===$t&&Dt.data){let Ft=re$1.buildLockToken(Dt.data.content),Nt=await this.getLockXToken(Ft.id);Nt&&(Ft.xtoken_amount=Nt.xtoken_amount),mt.push(Ft)}return mt}async getLockToken(et){var mt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0}});if((mt=at.data)!=null&&mt.content){let $t=re$1.buildLockToken(at.data.content),Ct=await this.getLockXToken($t.id);return Ct&&($t.xtoken_amount=Ct.xtoken_amount),$t}}async getOwnerTokenCoins(et){return await this._sdk.ClmmSDK.getOwnerCoinAssets(et,this.buileTokenCoinType())}mintVeNFTPayload(){let{xtoken:et}=this.sdk.sdkOptions,at=new Transaction;return at.moveCall({target:`${et.published_at}::${je}::mint_venft`,typeArguments:[],arguments:[at.object(getPackagerConfigs(et).xtoken_manager_id)]}),at}async convertPayload(et,at){let{xtoken:mt}=this.sdk.sdkOptions;at=at||new Transaction;let $t=this.buileTokenCoinType(),Ct=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,at,BigInt(et.amount),$t);return et.venft_id===void 0?at.moveCall({target:`${mt.published_at}::${je}::mint_and_convert`,typeArguments:[],arguments:[at.object(getPackagerConfigs(mt).lock_manager_id),at.object(getPackagerConfigs(mt).xtoken_manager_id),Ct,at.pure.u64(et.amount)]}):at.moveCall({target:`${mt.published_at}::${je}::convert`,typeArguments:[],arguments:[at.object(getPackagerConfigs(mt).lock_manager_id),at.object(getPackagerConfigs(mt).xtoken_manager_id),Ct,at.pure.u64(et.amount),at.object(et.venft_id)]}),at}redeemLockPayload(et){let{xtoken:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${je}::redeem_lock`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xtoken_manager_id),mt.object(et.venft_id),mt.pure.u64(et.amount),mt.pure.u64(et.lock_day),mt.object(CLOCK_ADDRESS$1)]}),mt}redeemPayload(et){let{xtoken:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${je}::redeem`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xtoken_manager_id),mt.object(et.venft_id),mt.object(et.lock_id),mt.object(CLOCK_ADDRESS$1)]}),mt}redeemDividendPayload(et,at){let{xtoken_dividends:mt}=this.sdk.sdkOptions,$t=new Transaction;return at.forEach(Ct=>{$t.moveCall({target:`${mt.published_at}::${kt$1}::redeem`,typeArguments:[Ct],arguments:[$t.object(getPackagerConfigs(mt).dividend_manager_id),$t.object(et)]})}),$t}redeemDividendV2Payload(et,at,mt){let{xtoken_dividends:$t}=this.sdk.sdkOptions,Ct=new Transaction;return at.filter(Dt=>mt.includes(Dt)).length>0&&(Ct=this.redeemDividendXTokenPayload(et,Ct)),at.forEach(Dt=>{mt.includes(Dt)||Ct.moveCall({target:`${$t.published_at}::${kt$1}::redeem_v2`,typeArguments:[Dt],arguments:[Ct.object(getPackagerConfigs($t).dividend_manager_id),Ct.object(et),Ct.object(CLOCK_ADDRESS$1)]})}),Ct}redeemDividendXTokenPayload(et,at){let{xtoken_dividends:mt,xtoken:$t}=this.sdk.sdkOptions,{xtoken_manager_id:Ct,lock_manager_id:Dt}=getPackagerConfigs($t),{dividend_manager_id:Ft}=getPackagerConfigs(mt);return at=at===void 0?new Transaction:at,at.moveCall({target:`${mt.published_at}::${kt$1}::redeem_xtoken`,typeArguments:[],arguments:[at.object(Dt),at.object(Ct),at.object(Ft),at.object(et),at.object(CLOCK_ADDRESS$1)]}),at}buileTokenCoinType(){return`${this.sdk.sdkOptions.token_faucet.package_id}::token::TOKEN`}buileXTokenCoinType(et=this._sdk.sdkOptions.xtoken.package_id,at="xtoken",mt="XTOKEN"){return`${et}::${at}::${mt}`}cancelRedeemPayload(et){let{xtoken:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${je}::cancel_redeem_lock`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xtoken_manager_id),mt.object(et.venft_id),mt.object(et.lock_id),mt.object(CLOCK_ADDRESS$1)]}),mt}async getInitConfigs(){var Ft,Nt;let{package_id:et}=this.sdk.sdkOptions.xtoken,at=`${et}_getInitFactoryEvent`,mt=this.getCache(at);if(mt!==void 0)return mt;let $t=(Ft=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::xtoken::InitEvent`}))==null?void 0:Ft.data,Ct={xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""};$t.length>0&&$t.forEach(jt=>{let Lt=jt.parsedJson;Lt&&(Ct.xtoken_manager_id=Lt.xtoken_manager)});let Dt=(Nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::locking::InitializeEvent`}))==null?void 0:Nt.data;return Dt.length>0&&Dt.forEach(jt=>{let Lt=jt.parsedJson;Lt&&(Ct.lock_manager_id=Lt.lock_manager)}),Ct.lock_handle_id=(await this.getLockUpManager(Ct.lock_manager_id)).lock_infos.lock_handle_id,this.updateCache(at,Ct,cacheTime24h),Ct}async getLockUpManager(et=getPackagerConfigs(this.sdk.sdkOptions.xtoken).lock_manager_id,at=!1){let mt=`${et}_getLockUpManagerEvent`,$t=this.getCache(mt,at);if($t!==void 0)return $t;let Ct=await this.sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),Dt=re$1.buildLockUpManager(getObjectFields(Ct));return this.updateCache(mt,Dt,cacheTime24h),Dt}async getLockInfoHandle(et){let at=`${et}_getLockInfoHandle`,mt=this.getCache(at);if(mt!==void 0)return mt;let $t="",Ct=await this.sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),Dt=getObjectFields(Ct);return Dt&&($t=Dt.lock_infos.fields.id.id,this.updateCache(at,$t,cacheTime24h)),$t}async getDividendConfigs(){var Dt;let{package_id:et}=this.sdk.sdkOptions.xtoken_dividends,at=`${et}_getDividendManagerEvent`,mt=this.getCache(at);if(mt!==void 0)return mt;let $t=(Dt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::dividend::InitEvent`}))==null?void 0:Dt.data,Ct={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""};return $t.length>0&&$t.forEach(Ft=>{let Nt=Ft.parsedJson;Nt&&(Ct.dividend_manager_id=Nt.manager_id,Ct.dividend_admin_id=Nt.admin_id,Ct.dividend_settle_id=Nt.settle_id,this.updateCache(at,Ct,cacheTime24h))}),Ct}async getDividendManager(et=!1){let{dividend_manager_id:at}=getPackagerConfigs(this.sdk.sdkOptions.xtoken_dividends),mt=`${at}_getDividendManager`,$t=this.getCache(mt,et);if($t!==void 0)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:at,options:{showContent:!0}}),Dt=getObjectFields(Ct),Ft=re$1.buildDividendManager(Dt);return this.updateCache(mt,Ft,cacheTime24h),Ft}async getXcetusManager(et=!0){let{xtoken_manager_id:at}=getPackagerConfigs(this.sdk.sdkOptions.xtoken),mt=`${at}_getXcetusManager`,$t=this.getCache(mt,et);if($t)return $t;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:at,options:{showContent:!0}}),Dt=getObjectFields(Ct),Ft={id:Dt.id.id,index:Number(Dt.index),has_venft:{handle:Dt.has_venft.fields.id.id,size:Dt.has_venft.fields.size},nfts:{handle:Dt.nfts.fields.id.id,size:Dt.nfts.fields.size},total_locked:Dt.total_locked,treasury:Dt.treasury.fields.total_supply.fields.value};return this.updateCache(mt,Ft),Ft}async getVeNFTDividendInfo(et,at){try{let mt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:at}}),$t=getObjectFields(mt);return re$1.buildVeNFTDividendInfo($t)}catch{return}}async redeemNum(et,at){if(BigInt(et)===BigInt(0))return{amountOut:"0",percent:"0"};let mt=await this.getLockUpManager(),$t=d$2(U).mul(d$2(mt.max_lock_day).sub(d$2(at))).mul(d$2(mt.max_percent_numerator).sub(d$2(mt.min_percent_numerator))).div(d$2(mt.max_lock_day).sub(d$2(mt.min_lock_day))),Ct=d$2(U).mul(d$2(mt.max_percent_numerator)).sub($t).div(d$2(Re)).div(U);return{amountOut:d$2(Ct).mul(d$2(et)).round().toString(),percent:Ct.toString()}}async reverseRedeemNum(et,at){if(BigInt(et)===BigInt(0))return{amountOut:"0",percent:"0"};let mt=await this.getLockUpManager(),$t=d$2(U).mul(d$2(mt.max_lock_day).sub(d$2(at))).mul(d$2(mt.max_percent_numerator).sub(d$2(mt.min_percent_numerator))).div(d$2(mt.max_lock_day).sub(d$2(mt.min_lock_day))),Ct=d$2(U).mul(d$2(mt.max_percent_numerator)).sub($t).div(d$2(Re)).div(U);return{amountOut:d$2(et).div(Ct).toFixed(0,Decimal$1.ROUND_UP),percent:Ct.toString()}}async getLockXToken(et){let{lock_handle_id:at}=getPackagerConfigs(this._sdk.sdkOptions.xtoken),mt=`${et}_getXTokenAmount`,$t=this.getCache(mt);if($t)return $t;try{let Ct=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:at,name:{type:"0x2::object::ID",value:et}}),Dt=getObjectFields(Ct);if(Dt){let Ft=Dt.value.fields.value.fields;return this.updateCache(mt,Ft,cacheTime24h),Ft}}catch{}}async getVeNftAmount(et,at){try{let mt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:at}}),$t=getObjectFields(mt);if($t){let{lock_amount:Ct,xtoken_amount:Dt}=$t.value.fields.value.fields;return{lock_amount:Ct,xtoken_amount:Dt}}}catch{}return{lock_amount:"0",xtoken_amount:"0"}}async getPhaseDividendInfo(et,at=!1){let mt=(await this.getDividendManager()).dividends.id,$t=`${mt}_${et}_getPhaseDividendInfo`,Ct=this._sdk.getCache($t,at);if(Ct)return Ct;try{let Dt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"u64",value:et}}),Ft=getObjectFields(Dt),Nt=Ft.value.fields.value.fields,jt=Nt.redeemed_num.fields.contents.map(ir=>({name:ir.fields.key.fields.name,value:ir.fields.value})),Lt=Nt.bonus_types.map(ir=>ir.fields.name),Vt=Nt.bonus.fields.contents.map(ir=>({name:ir.fields.key.fields.name,value:ir.fields.value})),er={id:getObjectId(Dt),phase:Ft.name,settled_num:Nt.settled_num,register_time:Nt.register_time,redeemed_num:jt,is_settled:Nt.is_settled,bonus_types:Lt,bonus:Vt,phase_end_time:""};return this.updateCache($t,er),er}catch{}}updateCache(et,at,mt=cacheTime5min){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et];if(!at&&(mt!=null&&mt.isValid()))return mt.value;delete this._cache[et]}},Ot$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async addMasterLiquidity(et){var dr,pr;let{liquidity_stratefy:at}=this._sdk.sdkOptions,{clmm_pool:mt}=this._sdk.ClmmSDK.sdkOptions,$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Ct=d$2(0),Dt=d$2(0),Ft=[],Nt=[],jt=[],Lt=[],Vt=[];et.liquidity_bins.forEach((hr,vr)=>{let br=et.amounts_a[vr],xr=et.amounts_b[vr],Sr=et.bins_fix_amount_a[vr];Ct=Ct.add(br),Dt=Dt.add(xr),Ft.push(br),Nt.push(xr),jt.push(asUintN(BigInt(hr.tick_lower)).toString()),Lt.push(asUintN(BigInt(hr.tick_upper)).toString()),Vt.push(Sr)});let er=[et.coinTypeA,et.coinTypeB],ir=new Transaction,or=(dr=TransactionUtil.buildAddLiquidityFixTokenCoinInput(ir,!et.fix_amount_a,Ct.toString(),et.slippage,et.coinTypeA,$t,!1))==null?void 0:dr.targetCoin,lr=(pr=TransactionUtil.buildAddLiquidityFixTokenCoinInput(ir,et.fix_amount_a,Dt.toString(),et.slippage,et.coinTypeB,$t,!1))==null?void 0:pr.targetCoin;return xi(et)?ir.moveCall({target:`${at.published_at}::router::increase_liquidity`,typeArguments:er,arguments:[ir.object(getPackagerConfigs(at).master_manger_id),ir.object(et.master_address),ir.object(getPackagerConfigs(mt).global_config_id),ir.object(et.pool_address),or,lr,ir.makeMoveVec({elements:Ft.map(hr=>ir.pure.u64(hr))}),ir.makeMoveVec({elements:Nt.map(hr=>ir.pure.u64(hr))}),ir.makeMoveVec({elements:Vt.map(hr=>ir.pure.bool(hr))}),ir.object(CLOCK_ADDRESS$1)]}):ir.moveCall({target:`${at.published_at}::router::create_master_liquidity`,typeArguments:er,arguments:[ir.object(getPackagerConfigs(at).master_manger_id),ir.object(getPackagerConfigs(mt).global_config_id),ir.object(et.pool_address),or,lr,ir.makeMoveVec({elements:jt.map(hr=>ir.pure.u32(Number(hr)))}),ir.makeMoveVec({elements:Lt.map(hr=>ir.pure.u32(Number(hr)))}),ir.makeMoveVec({elements:Ft.map(hr=>ir.pure.u64(hr))}),ir.makeMoveVec({elements:Nt.map(hr=>ir.pure.u64(hr))}),ir.makeMoveVec({elements:Vt.map(hr=>ir.pure.bool(hr))}),ir.pure.u8(et.strategy),ir.pure.u32(Number(asUintN(BigInt(et.tick_lower)).toString())),ir.pure.u32(Number(asUintN(BigInt(et.tick_upper)).toString())),ir.object(CLOCK_ADDRESS$1)]}),ir}buildMasterNFTType(){return`${this._sdk.sdkOptions.liquidity_stratefy.package_id}::master_liquidity::MasterLiquidity`}async getMasterNFTList(et,at=[]){let mt=[],$t=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(et,{options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0},filter:{Package:this._sdk.sdkOptions.liquidity_stratefy.package_id}}),Ct=at.length>0;for(let Dt of $t.data)if(extractStructTagFromType$1(Dt.data.type).full_address===this.buildMasterNFTType()){let Ft=J.buildMasterNFT(Dt);if(Ft){let Nt=`${Ft.id}_masterNFT`;this.updateCache(Nt,Ft,cacheTime24h),Ct?at.includes(Ft.pool_id)&&mt.push(Ft):mt.push(Ft)}}return mt}async getMasterNFT(et,at=!1){let mt="$masterId}_masterNFT",$t=this.getCache(mt,at);if($t)return $t;try{let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(extractStructTagFromType$1(Ct.data.type).full_address===this.buildMasterNFTType()){let Dt=J.buildMasterNFT(Ct);return Dt&&this.updateCache(mt,Dt,cacheTime24h),Dt}}catch(Ct){console.log(Ct)}}async fetchMasterPositionInfos(et){var Ft;let at={},{clmm_pool:mt,integrate:$t,simulationAccount:Ct}=this.sdk.ClmmSDK.sdkOptions,Dt=new Transaction;return et.forEach(Nt=>{Nt.position_ids.forEach(jt=>{let Lt=[Nt.coinTypeA,Nt.coinTypeB],Vt=[Dt.object(getPackagerConfigs(mt).global_config_id),Dt.object(Nt.pool_id),Dt.object(jt)];Dt.moveCall({target:`${$t.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:Vt,typeArguments:Lt}),Dt.moveCall({target:`${$t.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:[...Vt,Dt.object(CLOCK_ADDRESS$1)],typeArguments:Lt})})}),(Ft=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Dt,sender:Ct.address})).events)==null||Ft.forEach(Nt=>{let{parsedJson:jt}=Nt,{position_id:Lt}=jt,Vt=at[Lt];switch(Vt===void 0&&(Vt={position_id:Lt,feeOwedA:"0",feeOwedB:"0",rewarders:[]},at[Lt]=Vt),extractStructTagFromType$1(Nt.type).name){case"FetchPositionFeesEvent":Vt.feeOwedA=jt.fee_owned_a,Vt.feeOwedB=jt.fee_owned_b;break;case"FetchPositionRewardsEvent":Vt.rewarders=jt.data;break}}),at}async getLiquidityStrategyConfigs(et=!1){let{package_id:at}=this._sdk.sdkOptions.liquidity_stratefy,mt=`${at}_getLiquidityStrategyConfigst`,$t=this.getCache(mt,et);if($t!==void 0)return $t;let Ct=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${at}::master_liquidity::MasterLiquidityManagerCreatedEvent`})).data,Dt={master_manger_id:"",master_liquidity_handle:""};if(Ct.length>0){for(let Ft of Ct){let Nt=Ft.parsedJson;Dt.master_manger_id=Nt.id;let jt=await this._sdk.ClmmSDK.fullClient.getObject({id:Nt.id,options:{showContent:!0}}),Lt=getObjectFields(jt);Dt.master_liquidity_handle=Lt.position_maps.fields.id.id;break}this.updateCache(mt,Dt,cacheTime24h)}return Dt}removeMasterLiquidity(et){let{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:mt}=this.sdk.sdkOptions,$t=new Transaction,Ct=[et.coinTypeA,et.coinTypeB];this.collectReward({coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,collect_fee:!1,rewarder_coin_types:et.rewarder_coin_types,master_address:et.master_address,pool_address:et.pool_address},$t);let Dt=[$t.object(getPackagerConfigs(mt).master_manger_id),$t.object(et.pool_address),$t.object(et.master_address),$t.object(getPackagerConfigs(at).global_config_id),$t.makeMoveVec({elements:et.delta_liquidities.map(Ft=>$t.pure.u128(Ft))}),$t.makeMoveVec({elements:et.min_amounts_a.map(Ft=>$t.pure.u64(Ft))}),$t.makeMoveVec({elements:et.min_amounts_a.map(Ft=>$t.pure.u64(Ft))}),$t.object(CLOCK_ADDRESS$1)];return $t.moveCall({target:`${mt.published_at}::${it$1}::remove_liquidity`,typeArguments:Ct,arguments:Dt}),$t}closeMasterLiquidity(et){let{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:mt}=this.sdk.sdkOptions,$t=new Transaction,Ct=[et.coinTypeA,et.coinTypeB];return this.collectReward({coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,collect_fee:!1,rewarder_coin_types:et.rewarder_coin_types,master_address:et.master_address,pool_address:et.pool_address},$t),$t.moveCall({target:`${mt.published_at}::${it$1}::close_master_liquidity`,typeArguments:Ct,arguments:[$t.object(getPackagerConfigs(mt).master_manger_id),$t.object(et.master_address),$t.object(getPackagerConfigs(at).global_config_id),$t.object(et.pool_address),$t.makeMoveVec({elements:et.min_amounts_a.map(Dt=>$t.pure.u64(Dt))}),$t.makeMoveVec({elements:et.min_amounts_a.map(Dt=>$t.pure.u64(Dt))}),$t.object(CLOCK_ADDRESS$1)]}),$t}collectFee(et,at){let{clmm_pool:mt}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:$t}=this.sdk.sdkOptions;at=at===void 0?new Transaction:at;let Ct=[et.coinTypeA,et.coinTypeB],Dt=[at.object(getPackagerConfigs($t).master_manger_id),at.object(et.master_address),at.object(getPackagerConfigs(mt).global_config_id),at.object(et.pool_address)];return at.moveCall({target:`${$t.published_at}::${it$1}::collect_fee`,typeArguments:Ct,arguments:Dt}),at}collectReward(et,at){let{clmm_pool:mt}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:$t}=this.sdk.sdkOptions;return at=at===void 0?new Transaction:at,et.collect_fee&&this.collectFee({...et},at),et.rewarder_coin_types.forEach(Ct=>{let Dt=[et.coinTypeA,et.coinTypeB,Ct];if(at){let Ft=[at.object(getPackagerConfigs($t).master_manger_id),at.object(et.master_address),at.object(getPackagerConfigs(mt).global_config_id),at.object(et.pool_address),at.object(getPackagerConfigs(mt).global_vault_id),at.object(CLOCK_ADDRESS$1)];at.moveCall({target:`${$t.published_at}::${it$1}::collect_reward`,typeArguments:Dt,arguments:Ft})}}),at}updateCache(et,at,mt=cacheTime5min){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et],$t=mt==null?void 0:mt.isValid();if(!at&&$t)return mt.value;$t||delete this._cache[et]}},xt$2=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}buildCoinInput(et,at,mt,$t,Ct){let{selectedCoins:Dt,remainingCoins:Ft}=CoinAssist.selectCoinAssetGreaterThanOrEqual(at,BigInt($t)),Nt=CoinAssist.calculateTotalBalance(Dt);if(Nt<BigInt($t))throw new Error(`The amount(${Nt}) is Insufficient balance for ${mt} , expect ${$t} `);let jt=Nt-BigInt($t),Lt;if(CoinAssist.isSuiCoin(mt))Lt=et.splitCoins(et.gas,[et.pure.u64($t)]);else{let[Vt,...er]=Dt.map(ir=>ir.coinObjectId);Lt=et.object(Vt),er.length>0?Ct?et.mergeCoins(Lt,[...er.map(ir=>et.object(ir)),Ct]):et.mergeCoins(Lt,[...er.map(ir=>et.object(ir))]):Ct&&et.mergeCoins(Lt,[Ct])}return{selectedUnusedAmount:jt,coinInput:Lt,remainingCoins:Ft}}async deposit(et){var er,ir;let{vaults:at,frams:mt}=this._sdk.sdkOptions,{clmm_pool:$t}=this._sdk.ClmmSDK.sdkOptions,Ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress()),Dt=new Transaction,Ft,Nt;if(et.swapParams){let or=await this.handleDepositSwap(et,Dt,Ct);Ft=or.primaryCoinAInputs,Nt=or.primaryCoinBInputs}else Ft=(er=TransactionUtil.buildAddLiquidityFixTokenCoinInput(Dt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,Ct,!1))==null?void 0:er.targetCoin,Nt=(ir=TransactionUtil.buildAddLiquidityFixTokenCoinInput(Dt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,Ct,!1))==null?void 0:ir.targetCoin;let jt=getPackagerConfigs(at),Lt=getPackagerConfigs(mt),Vt=getPackagerConfigs($t);return Dt.moveCall({target:`${at.published_at}::${Li}::deposit`,typeArguments:[et.coinTypeA,et.coinTypeB,et.lp_token_type],arguments:[Dt.object(jt.vaults_manager_id),Dt.object(et.vault_id),Dt.object(Lt.rewarder_manager_id),Dt.object(Lt.global_config_id),Dt.object(et.farming_pool),Dt.object(Vt.global_config_id),Dt.object(et.clmm_pool),Ft,Nt,Dt.pure.u64(et.amount_a),Dt.pure.u64(et.amount_b),Dt.pure.bool(et.fix_amount_a),Dt.object(CLOCK_ADDRESS$1)]}),Dt}async handleDepositSwap(et,at,mt){let{clmm_pool:$t,integrate:Ct}=this._sdk.ClmmSDK.sdkOptions,{swap_amount:Dt,a2b:Ft,route_obj:Nt,stakeProtocol:jt}=et.swapParams,Lt=Ft?et.coinTypeA:et.coinTypeB,Vt=TransactionUtil.buildCoinForAmount(at,mt,BigInt(Dt),Lt,!1),er=BigInt(Vt.tragetCoinAmount)-BigInt(Dt),ir=[];if(jt){let hr=this.requestStakeCoin(jt,at,Vt.targetCoin),vr=TransactionUtil.buildCoinForAmount(at,Vt.remainCoins,BigInt(0),Lt,!1).targetCoin;ir=Ft?[vr,hr]:[hr,vr]}else if(Nt){let hr=TransactionUtil.buildCoinForAmount(at,mt,0n,Ft?et.coinTypeB:et.coinTypeA,!1),vr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,Nt,Vt,hr,"",et.slippage,at);ir=Ft?[vr.fromCoin,vr.toCoin]:[vr.toCoin,vr.fromCoin],!hr.isMintZeroCoin&&hr.originalSplitedCoin===void 0&&at.transferObjects([hr.targetCoin],at.pure.address(this._sdk.getVerifySenderAddress()))}else{let hr=TransactionUtil.buildCoinForAmount(at,mt,0n,Ft?et.coinTypeB:et.coinTypeA,!1),vr=SwapUtils.getDefaultSqrtPriceLimit(Ft).toString();ir=at.moveCall({target:`${Ct.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(getPackagerConfigs($t).global_config_id),at.object(et.clmm_pool),Ft?Vt.targetCoin:hr.targetCoin,Ft?hr.targetCoin:Vt.targetCoin,at.pure.bool(Ft),at.pure.bool(!0),at.pure.u64(Dt),at.pure.u128(vr),at.pure.bool(!1),at.object(CLOCK_ADDRESS$1)]})}let or,lr,dr=ir[0],pr=ir[1];if(Ft){let hr=BigInt(et.amount_a)-er;CoinAssist.isSuiCoin(Lt)?(at.transferObjects([dr],at.pure.address(this._sdk.getVerifySenderAddress())),or=at.splitCoins(at.gas,[at.pure.u64(et.amount_a)])):hr>0n?or=this.buildCoinInput(at,Vt.remainCoins,Lt,hr,dr).coinInput:or=dr,lr=pr}else{or=dr;let hr=BigInt(et.amount_b)-er;CoinAssist.isSuiCoin(Lt)?(at.transferObjects([pr],at.pure.address(this._sdk.getVerifySenderAddress())),lr=at.splitCoins(at.gas,[at.pure.u64(et.amount_b)])):hr>0n?lr=this.buildCoinInput(at,Vt.remainCoins,Lt,hr,pr).coinInput:lr=pr}return{primaryCoinAInputs:or,primaryCoinBInputs:lr}}async remove(et){let{vaults:at,frams:mt}=this.sdk.sdkOptions,{clmm_pool:$t,integrate:Ct}=this._sdk.ClmmSDK.sdkOptions,Dt=new Transaction,Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress(),et.lp_token_type),Nt=TransactionUtil.buildCoinForAmount(Dt,Ft,BigInt(et.lp_token_amount),et.lp_token_type,!1).targetCoin,jt=getPackagerConfigs(at),Lt=getPackagerConfigs(mt),Vt=getPackagerConfigs($t),er=[et.coinTypeA,et.coinTypeB,et.lp_token_type],ir=Dt.moveCall({target:`${at.published_at}::${Fi}::remove`,typeArguments:er,arguments:[Dt.object(jt.vaults_manager_id),Dt.object(et.vault_id),Dt.object(Lt.rewarder_manager_id),Dt.object(Lt.global_config_id),Dt.object(et.farming_pool),Dt.object(Vt.global_config_id),Dt.object(et.clmm_pool),Nt,Dt.pure.u64(et.lp_token_amount),Dt.pure.u64(et.min_amount_a),Dt.pure.u64(et.min_amount_b),Dt.object(CLOCK_ADDRESS$1)]}),or=ir[0],lr=ir[1];if(et.swapParams){let{a2b:dr,swap_amount:pr,route_obj:hr}=et.swapParams;if(hr){let vr={targetCoin:dr?or:lr,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},br={targetCoin:dr?lr:or,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},xr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,hr,vr,br,"",et.slippage,Dt),Sr=dr?[xr.fromCoin,xr.toCoin]:[xr.toCoin,xr.fromCoin];dr?Dt.mergeCoins(Sr[1],[lr]):Dt.mergeCoins(Sr[0],[or]),Dt.transferObjects([...Sr],Dt.pure.address(this._sdk.getVerifySenderAddress()))}else{let vr=SwapUtils.getDefaultSqrtPriceLimit(dr).toString(),br=Dt.moveCall({target:`${Ct.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[Dt.object(getPackagerConfigs($t).global_config_id),Dt.object(et.clmm_pool),or,lr,Dt.pure.bool(dr),Dt.pure.bool(!0),Dt.pure.u64(pr),Dt.pure.u128(vr),Dt.pure.bool(!0),Dt.object(CLOCK_ADDRESS$1)]});Dt.transferObjects([br[0],br[1]],Dt.pure.address(this._sdk.getVerifySenderAddress()))}}else Dt.transferObjects([or,lr],Dt.pure.address(this._sdk.getVerifySenderAddress()));return Dt}async getVaultList(et="all"){let{vaults:at}=this._sdk.sdkOptions,mt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${at.package_id}::vaults::CreateEvent`},et),$t=mt.data.map(Ft=>Ft.parsedJson.id),Ct=await this._sdk.ClmmSDK.fullClient.batchGetObjects($t,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),Dt=[];return Ct.forEach(Ft=>{let Nt=q$1.buildPool(Ft);Nt&&(Nt.stake_protocol=this.findStakeProtocol(Nt.position.coinTypeA,Nt.position.coinTypeB),this.savePoolToCache(Nt),Dt.push(Nt))}),mt.data=Dt,mt}findStakeProtocol(et,at){let{haedal:mt,volo:$t,aftermath:Ct}=getPackagerConfigs(this._sdk.sdkOptions.vaults),Dt=extractStructTagFromType$1(et).full_address,Ft=extractStructTagFromType$1(at).full_address;if(CoinAssist.isSuiCoin(Dt)||CoinAssist.isSuiCoin(Ft)){if(mt){let Nt=extractStructTagFromType$1(getPackagerConfigs(mt).coin_type).full_address;if(Dt===Nt||Ft===Nt)return"Haedal"}if($t){let Nt=extractStructTagFromType$1(getPackagerConfigs($t).coin_type).full_address;if(Dt===Nt||Ft===Nt)return"Volo"}if(Ct){let Nt=extractStructTagFromType$1(getPackagerConfigs(Ct).coin_type).full_address;if(Dt===Nt||Ft===Nt)return"aftermath"}}}savePoolToCache(et){let at=`${et.id}_mirrorPool`;this.updateCache(at,et,cacheTime24h)}readPoolFromCache(et,at=!1){let mt=`${et}_mirrorPool`;return this.getCache(mt,at)}async calculateMaxAvailable(et){var lr;let{integrate:at,simulationAccount:mt}=this.sdk.ClmmSDK.sdkOptions,$t=new Transaction,Ct=TickMath.tickIndexToSqrtPriceX64(et.lowerTick),Dt=TickMath.tickIndexToSqrtPriceX64(et.upperTick),Ft=new BN(et.curSqrtPrice),Nt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(et.input_amount),Ft,Ct,Dt,!1),jt=[et.coinTypeA,et.coinTypeB];$t.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[$t.object(et.clmm_pool),$t.pure.bool(!0),$t.pure.bool(!0),$t.pure.u64(Nt.coinA.toString())],typeArguments:jt}),$t.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[$t.object(et.clmm_pool),$t.pure.bool(!1),$t.pure.bool(!0),$t.pure.u64(Nt.coinB.toString())],typeArguments:jt});let Lt=(lr=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:mt.address})).events)==null?void 0:lr.filter(dr=>extractStructTagFromType$1(dr.type).name==="CalculatedSwapResultEvent");if(Lt.length===0)return null;let Vt=Lt[0].parsedJson.data,er=Lt[1].parsedJson.data,ir=d$2(Nt.coinB.toString()).add(Vt.amount_out),or=d$2(Nt.coinA.toString()).add(er.amount_out);return{maxAmountB:ir,maxAmountA:or}}async calculateRemoveSwapAmount(et,at){let mt=q$1.calculateDepositRatio(et.lowerTick,et.upperTick,new BN(et.curSqrtPrice)),$t=et.fix_amount_a?mt.ratioA:mt.ratioB,Ct=d$2(et.receive_amount).mul($t),Dt,Ft;if(et.removeLiquidity){let dr=TickMath.tickIndexToSqrtPriceX64(et.lowerTick),pr=TickMath.tickIndexToSqrtPriceX64(et.upperTick),hr=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(et.removeLiquidity),new BN(et.curSqrtPrice),dr,pr,!1);Ft=et.removeLiquidity,Dt=et.fix_amount_a?hr.coinB.toString():hr.coinA.toString(),Ct=et.fix_amount_a?d$2(hr.coinA.toString()):d$2(hr.coinB.toString())}else{let dr=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(et.lowerTick,et.upperTick,new BN(Ct.toFixed(0)),et.fix_amount_a,!1,.2,new BN(et.curSqrtPrice));Ft=dr.liquidityAmount.toString(),Dt=et.fix_amount_a?dr.coinAmountB.toString():dr.coinAmountA.toString()}let Nt=!et.fix_amount_a,jt=await this.clmmPreSwap(et.clmm_pool,et.curSqrtPrice,Nt,d$2(Dt),et.coinTypeA,et.coinTypeB,!0,et.priceSplitPoint,et.use_route,[{pool_id:et.clmm_pool,tick_lower:et.lowerTick,tick_upper:et.upperTick,delta_liquidity:Number(Ft),is_increase:!1}]),Lt=Ct.add(jt.amount_out),Vt=d$2(et.receive_amount),er=Vt.sub(Lt);if((!et.removeLiquidity||et.removeLiquidity&&at)&&er.abs().greaterThan(Vt.mul(.01))){let dr=Lt.lessThan(Vt),pr,hr;at?dr?(pr=d$2(Ft),hr=at.right):(pr=at.left,hr=d$2(Ft)):(pr=d$2(dr?Ft:0),hr=d$2(dr?et.maxLiquidity:Ft));let vr=d$2(pr).add(hr).div(2).toFixed(0);if(!at||at&&at.count<15&&pr<hr)return await this.calculateRemoveSwapAmount({...et,removeLiquidity:vr},{left:pr,right:hr,count:at?at.count+1:0})}let ir=jt.amount_in&&jt.fee_amount?new BN(jt.amount_in).add(new BN(jt.fee_amount)).toString():jt.amount_in,or=jt.amount_out,{is_exceed:lr}=jt;return{swapInAmount:ir,swapOutAmount:or,liquidity:Ft,is_exceed:lr,routeObj:jt.route_obj,request_id:et.request_id}}async calculateStakeDepositFixSui(et){let at=et.inputSuiAmount.mul(et.remainRate),mt=et.inputSuiAmount.sub(et.swapSuiAmount),$t=et.exchangeRate?et.exchangeRate:await this.getExchangeRateForStake(et.stakeProtocol,et.shouldRequestStake,Number(et.swapSuiAmount.toFixed(0))),Ct=et.swapSuiAmount.div($t).toFixed(0),Dt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(et.lowerTick,et.upperTick,new BN(Ct.toString()),!et.fixCoinA,!0,0,new BN(et.curSqrtPrice)),Ft=et.fixCoinA?Dt.coinAmountA.toString():Dt.coinAmountB.toString(),Nt=d$2(mt).sub(Ft);return Nt.greaterThanOrEqualTo(0)&&Nt.lessThanOrEqualTo(at)||et.rebalanceCount>12||et.leftSuiAmount.greaterThanOrEqualTo(et.rightSuiAmount)?{swapInAmount:et.swapSuiAmount.toFixed(0),swapOutAmount:Ct,afterSqrtPrice:et.curSqrtPrice,fixAmountA:!et.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:et.stakeProtocol}:Nt.lessThan(0)?await this.calculateStakeDepositFixSui({...et,rightSuiAmount:et.swapSuiAmount,swapSuiAmount:et.swapSuiAmount.add(et.leftSuiAmount).div(2),exchangeRate:$t,rebalanceCount:et.rebalanceCount+1}):Nt.greaterThan(at)?await this.calculateStakeDepositFixSui({...et,leftSuiAmount:et.swapSuiAmount,swapSuiAmount:et.swapSuiAmount.add(et.rightSuiAmount).div(2),exchangeRate:$t,rebalanceCount:et.rebalanceCount+1}):null}async calculateDepositSwapAmount(et,at=!1){let mt=TickMath.sqrtPriceX64ToTickIndex(new BN(et.curSqrtPrice)),{ratioA:$t,ratioB:Ct}=q$1.calculateDepositRatio(et.lowerTick,et.upperTick,new BN(et.curSqrtPrice)),Dt=d$2(et.input_amount).mul(et.fix_amount_a?$t:Ct),Ft=d$2(et.input_amount).sub(Dt),Nt=et.fix_amount_a;if(Ft.toFixed(0)==="0")return null;if(et.stakeProtocol){if(CoinAssist.isSuiCoin(et.coinTypeA)&&et.fix_amount_a||CoinAssist.isSuiCoin(et.coinTypeB)&&!et.fix_amount_a){let Sr=await this.calculateStakeDepositFixSui({inputSuiAmount:d$2(et.input_amount),swapSuiAmount:Ft,lowerTick:et.lowerTick,upperTick:et.upperTick,curSqrtPrice:et.curSqrtPrice,remainRate:et.remainRate?et.remainRate:.01,fixCoinA:et.fix_amount_a,rebalanceCount:0,shouldRequestStake:et.shouldRequestStake,leftSuiAmount:Nt?new Decimal$1(Ft.toFixed(0)):new Decimal$1(0),rightSuiAmount:Nt?new Decimal$1(et.input_amount):new Decimal$1(Ft.toFixed(0)),stakeProtocol:et.stakeProtocol});return Sr?{...Sr,request_id:et.request_id}:null}throw Error("Only support fix sui")}let jt=mt<et.lowerTick||mt>et.upperTick,Lt={clmm_pool:et.clmm_pool,curSqrtPrice:et.curSqrtPrice,a2b:Nt,amount_a:Nt?new Decimal$1(et.input_amount):new Decimal$1(0),amount_b:Nt?new Decimal$1(0):new Decimal$1(et.input_amount),amount_left:Nt?new Decimal$1(Ft.toFixed(0)):new Decimal$1(0),amount_right:Nt?new Decimal$1(et.input_amount):new Decimal$1(Ft.toFixed(0)),lowerTick:et.lowerTick,upperTick:et.upperTick,tick_spacing:2,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,useRoute:et.use_route,remainRate:et.remainRate?et.remainRate:.01,priceSplitPoint:et.priceSplitPoint},Vt=at&&mt<=et.upperTick,er=Vt?await this.calculateRebalance(Lt):await this.clmmPreSwap(et.clmm_pool,et.curSqrtPrice,Nt,Ft,et.coinTypeA,et.coinTypeB,!0,et.priceSplitPoint,et.use_route),ir=er.after_sqrt_price,or=TickMath.sqrtPriceX64ToTickIndex(new BN(ir)),lr=or<et.lowerTick||or>et.upperTick;if(jt!==lr&&!Vt&&or<=et.upperTick){let{ratioA:Sr,ratioB:Er}=q$1.calculateDepositRatio(et.lowerTick,et.upperTick,new BN(ir));Ft=d$2(et.input_amount).sub(d$2(et.input_amount).mul(et.fix_amount_a?Sr:Er)),Lt.amount_left=Nt?new Decimal$1(Ft.toFixed(0)):new Decimal$1(0),Lt.amount_right=Nt?new Decimal$1(et.input_amount):new Decimal$1(Ft.toFixed(0)),er=await this.calculateRebalance(Lt),ir=er.after_sqrt_price,TickMath.sqrtPriceX64ToTickIndex(new BN(ir))}let{ratioA:dr,ratioB:pr}=q$1.calculateDepositRatio(et.lowerTick,et.upperTick,new BN(ir)),hr=pr.div(dr).sub(Ct.div($t)).greaterThan("0"),vr=er.amount_in&&er.fee_amount?new BN(er.amount_in).add(new BN(er.fee_amount)).toString():er.amount_in,br=er.amount_out,{is_exceed:xr}=er;if(or<et.lowerTick)hr=!0;else if(or>et.upperTick)hr=!1;else{let Sr=hr===Nt?new BN(d$2(et.input_amount).sub(vr).toString()):new BN(br),Er=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(et.lowerTick,et.upperTick,Sr,hr,!0,0,new BN(ir)),$r=Er.coinAmountA,Cr=Er.coinAmountB;d$2(et.fix_amount_a?$r.toString():Cr.toString()).add(vr).greaterThanOrEqualTo(et.input_amount)&&(hr=!hr)}return{swapInAmount:vr,swapOutAmount:br,afterSqrtPrice:ir,is_exceed:xr,fixAmountA:hr,routeObj:er.route_obj,request_id:et.request_id,use_Haedal_stake:!1}}async calculateHaedalDepositSwapAmount(et){TickMath.sqrtPriceX64ToTickIndex(new BN(et.curSqrtPrice));let{ratioA:at,ratioB:mt}=q$1.calculateDepositRatio(et.lowerTick,et.upperTick,new BN(et.curSqrtPrice)),$t=d$2(et.input_amount).mul(et.fix_amount_a?at:mt),Ct=d$2(et.input_amount).sub($t),Dt=et.fix_amount_a;if(Ct.toFixed(0)==="0")return null;if(et.stakeProtocol){if(CoinAssist.isSuiCoin(et.coinTypeA)&&et.fix_amount_a||CoinAssist.isSuiCoin(et.coinTypeB)&&!et.fix_amount_a){let Ft=await this.calculateStakeDepositFixSui({inputSuiAmount:d$2(et.input_amount),swapSuiAmount:Ct,lowerTick:et.lowerTick,upperTick:et.upperTick,curSqrtPrice:et.curSqrtPrice,remainRate:et.remainRate?et.remainRate:.01,fixCoinA:et.fix_amount_a,rebalanceCount:0,shouldRequestStake:et.shouldRequestStake,leftSuiAmount:Dt?new Decimal$1(Ct.toFixed(0)):new Decimal$1(0),rightSuiAmount:Dt?new Decimal$1(et.input_amount):new Decimal$1(Ct.toFixed(0)),stakeProtocol:et.stakeProtocol});return Ft?{...Ft,request_id:et.request_id}:null}throw Error("Only support fix sui")}return null}async calculateRebalance(et){let{clmm_pool:at,a2b:mt,curSqrtPrice:$t,amount_a:Ct,amount_b:Dt,lowerTick:Ft,upperTick:Nt,amount_left:jt,amount_right:Lt,coinTypeA:Vt,coinTypeB:er,useRoute:ir,priceSplitPoint:or,remainRate:lr}=et,dr=async(pr,hr,vr)=>{let br=pr.plus(hr).div(2),xr=await this.clmmPreSwap(at,$t,mt,br,Vt,er,!0,or,ir);if(xr.amount_out==="0")return xr;if(xr.after_sqrt_price||(xr.after_sqrt_price=et.curSqrtPrice),xr.is_exceed)return hr=br,dr(pr,hr);let Sr=mt?Ct.sub(xr.amount_in):Ct.add(xr.amount_out),Er=mt?Dt.add(xr.amount_out):Dt.sub(xr.amount_in);TickMath.sqrtPriceX64ToTickIndex(new BN(xr.after_sqrt_price));let $r=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(Ft,Nt,new BN(Sr.toString()),!0,!0,1,new BN(xr.after_sqrt_price)),Cr=new Decimal$1($r.coinAmountA.toString()),kr=new Decimal$1($r.coinAmountB.toString());if(Cr.toString()!==Sr.toString())throw new Error("usedA does not match afterA");if(Er.lessThan(kr))mt?pr=br:hr=br;else{mt?hr=br:pr=br;let gr=Er.sub(kr);if(Er.mul(lr).sub(gr).greaterThanOrEqualTo(0))return{...xr,remainingB:gr}}return pr.greaterThan(hr)||hr.sub(pr).lessThan(10)?xr:dr(pr,hr)};return jt.greaterThanOrEqualTo(Lt)?dr(new Decimal$1(0),jt):dr(jt,Lt)}async clmmPreSwap(et,at,mt,$t,Ct,Dt,Ft,Nt,jt,Lt){var pr;if(jt)try{let hr=await this._sdk.ClmmSDK.RouterV2.getBestRouter(mt?Ct:Dt,mt?Dt:Ct,Number($t.toFixed(0)),Ft,Nt,"",void 0,void 0,!0,!1,Lt);if(!hr.result)throw new Error("route unavailable");let{result:vr}=hr,br=at;return vr.splitPaths.forEach(xr=>{let Sr=xr.basePaths.find(Er=>Er.poolAddress.toLowerCase()===et.toLowerCase());Sr&&(br=Sr.afterSqrtPrice.toString())}),{amount_in:vr.inputAmount.toString(),amount_out:vr.outputAmount.toString(),after_sqrt_price:br,is_exceed:vr.isExceed,route_obj:vr}}catch{throw new Error("route unavailable")}let{integrate:Vt,simulationAccount:er}=this.sdk.ClmmSDK.sdkOptions,ir=new Transaction,or=[Ct,Dt],lr=[ir.object(et),ir.pure.bool(mt),ir.pure.bool(Ft),ir.pure.u64($t.toFixed(0))];ir.moveCall({target:`${Vt.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:lr,typeArguments:or});let dr=(pr=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:ir,sender:er.address})).events)==null?void 0:pr.filter(hr=>extractStructTagFromType$1(hr.type).name==="CalculatedSwapResultEvent");return dr.length===0?null:dr[0].parsedJson.data}async getVault(et,at=!1){let mt=this.readPoolFromCache(et,at);if(mt)return mt;try{let $t=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),Ct=q$1.buildPool($t);if(Ct)return Ct.stake_protocol=this.findStakeProtocol(Ct.position.coinTypeA,Ct.position.coinTypeB),this.savePoolToCache(Ct),Ct}catch($t){console.log($t)}}async getVaultsConfigs(et=!1){let{package_id:at}=this._sdk.sdkOptions.vaults,mt=`${at}_getMirrorPoolConfigs`,$t=this.getCache(mt,et);if($t!==void 0)return $t;let Ct=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${at}::vaults::InitEvent`})).data,Dt={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(Ct.length>0){for(let Ft of Ct){let Nt=Ft.parsedJson;Dt.admin_cap_id=Nt.admin_cap_id,Dt.vaults_manager_id=Nt.manager_id;let jt=await this._sdk.ClmmSDK.fullClient.getObject({id:Dt.vaults_manager_id,options:{showContent:!0}}),Lt=getObjectFields(jt);Dt.vaults_pool_handle=Lt.vault_to_pool_maps.fields.id.id;break}this.updateCache(mt,Dt,cacheTime24h)}return Dt}async getExchangeRateForStake(et,at,mt){return et==="Haedal"?await Ee$1.getExchangeRateForStake(this._sdk,at,mt):et==="Volo"?await $e$1.getExchangeRateForStake(this._sdk,at,mt):et==="aftermath"?await Ue.getExchangeRateForStake(this._sdk,at,mt):"0"}requestStakeCoin(et,at,mt){if(et==="Haedal")return Ee$1.requestStakeCoin(this._sdk,at,mt);if(et==="Volo")return $e$1.requestStakeCoin(this._sdk,at,mt);if(et==="aftermath")return Ue.requestStakeCoin(this._sdk,at,mt)}async requestStake(et,at,mt){if(et==="Haedal")return await Ee$1.requestStake(this._sdk,at,mt);if(et==="Volo")return await $e$1.requestStake(this._sdk,at,mt);if(et==="aftermath")return await Ue.requestStake(this._sdk,at,mt)}updateCache(et,at,mt=cacheTime5min){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et],$t=mt==null?void 0:mt.isValid();if(!at&&$t)return mt.value;$t||delete this._cache[et]}},Mt=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}async getLimitOrderTokenList(){let{limit_order:nt}=this._sdk.sdkOptions,{token_list_handle:et}=getPackagerConfigs(nt),{fullClient:at}=this._sdk.ClmmSDK,mt=(await at.getDynamicFieldsByPage(et)).data.map($t=>$t.objectId);return(await at.batchGetObjects(mt,{showContent:!0})).map($t=>{let{fields:Ct}=$t.data.content;return{coin_type:extractStructTagFromType$1(Ct.name.fields.name).full_address,min_trade_amount:Number(Ct.value)}})}async getLimitOrderPoolList(){let{limit_order:nt}=this._sdk.sdkOptions,{rate_orders_indexer_handle:et}=getPackagerConfigs(nt),{fullClient:at}=this._sdk.ClmmSDK,mt=(await at.getDynamicFieldsByPage(et)).data.map($t=>$t.objectId);return(await at.batchGetObjects(mt,{showContent:!0})).map($t=>{let{fields:Ct}=$t.data.content.fields.value,Dt={pay_coin_type:extractStructTagFromType$1(Ct.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(Ct.target_coin.fields.name).full_address,indexer_id:Ct.indexer_id,indexer_key:Ct.indexer_key};return this._sdk.updateCache(`${Dt.pay_coin_type}_${Dt.target_coin_type}`,Dt.indexer_id),Dt})}async getLimitOrderPool(nt,et){let{limit_order:at}=this._sdk.sdkOptions,{rate_orders_indexer_handle:mt}=getPackagerConfigs(at),{fullClient:$t}=this._sdk.ClmmSDK;try{let Ct=await $t.getDynamicFieldObject({parentId:mt,name:{type:"0x2::object::ID",value:this.buildPoolKey(fixCoinType(nt,!0),fixCoinType(et,!0))}}),{fields:Dt}=getObjectFields(Ct).value,Ft={pay_coin_type:extractStructTagFromType$1(Dt.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(Dt.target_coin.fields.name).full_address,indexer_id:Dt.indexer_id,indexer_key:Dt.indexer_key};return this._sdk.updateCache(`${Ft.pay_coin_type}_${Ft.target_coin_type}`,Ft.indexer_id),Ft}catch(Ct){console.log("🚀🚀🚀 ~ file: LimitOrderModule.ts:122 ~ LimitOrderModule ~ getLimitOrderPool ~ error:",Ct)}}async getPoolIndexerId(nt,et){let at=this._sdk.getCache(`${nt}_${et}`);try{if(at===void 0){let mt=await this.getLimitOrderPool(nt,et);if(mt)return mt.indexer_id}}catch{}return at}async getOwnerLimitOrderList(nt,et){let{fullClient:at}=this._sdk.ClmmSDK,mt={data:[],hasNextPage:!1};try{let $t=await this.getUserIndexerHandle(nt);if(!$t)return mt;let Ct=await at.getDynamicFieldsByPage($t,et);mt.hasNextPage=Ct.hasNextPage,mt.nextCursor=Ct.nextCursor;let Dt=Ct.data.map(Nt=>Nt.name.value),Ft=(await at.batchGetObjects(Dt,{showContent:!0})).map(Nt=>ke$1.buildLimitOrderInfo(Nt)).filter(Nt=>Nt!==void 0);mt.data=Ft}catch($t){console.log("Error in getOwnerLimitOrderList:",$t)}return mt}async getLimitOrderConfigs(){let{package_id:nt}=this._sdk.sdkOptions.limit_order,et={rate_orders_indexer_id:"",rate_orders_indexer_handle:"",global_config_id:"",token_list_handle:"",user_orders_indexer_id:"",user_orders_indexer_handle:""},at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt}::limit_order::InitEvent`})).data;if(at.length>0){let $t=at[0].parsedJson;et.rate_orders_indexer_id=$t.rate_orders_indexer_id,et.user_orders_indexer_id=$t.user_orders_indexer_id;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et.rate_orders_indexer_id,options:{showContent:!0}});et.rate_orders_indexer_handle=getObjectFields(Ct).list.fields.id.id;let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:et.user_orders_indexer_id,options:{showContent:!0}});et.user_orders_indexer_handle=getObjectFields(Dt).indexer.fields.id.id}let mt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt}::config::InitFactoryEvent`})).data;if(mt.length>0){let $t=mt[0].parsedJson;et.global_config_id=$t.global_config_id;let Ct=await this._sdk.ClmmSDK.fullClient.getObject({id:et.global_config_id,options:{showContent:!0}}),Dt=getObjectFields(Ct);et.token_list_handle=Dt.token_white_list.fields.id.id}return et}async getLimitOrder(nt){let{fullClient:et}=this._sdk.ClmmSDK;try{let at=await et.getObject({id:nt,options:{showContent:!0}});return ke$1.buildLimitOrderInfo(at)}catch(at){console.log("Error in getLimitOrder:",at);return}}async getLimitOrderLogs(nt){let{fullClient:et}=this._sdk.ClmmSDK;try{let at=await et.queryTransactionBlocks({filter:{ChangedObject:nt},options:{showEvents:!0}}),mt=[];return at.data.forEach($t=>{mt.push(...ke$1.buildOrderLimitEvent($t,["OrderPlacedEvent","OrderCanceledEvent","FlashLoanEvent"]))}),mt}catch(at){return console.log("Error in getLimitOrderLogs:",at),[]}}async getLimitOrderClaimLogs(nt){let{fullClient:et}=this._sdk.ClmmSDK;try{let at=await et.queryTransactionBlocks({filter:{ChangedObject:nt},options:{showEvents:!0}}),mt=[];return at.data.forEach($t=>{mt.push(...ke$1.buildOrderLimitEvent($t,["ClaimTargetCoinEvent"]))}),mt}catch(at){return console.log("Error in getLimitOrderLogs:",at),[]}}buildRateOrdersIndexerType(nt){let{limit_order:et}=this._sdk.sdkOptions;return composeType$1(`${et.package_id}::limit_order::RateOrdersIndexer`,[nt.pay_coin_type,nt.target_coin_type])}buildPoolKey(nt,et){let at=Buffer$1.from(nt,"ascii"),mt=Buffer$1.from(et,"ascii"),$t=Buffer$1.concat([at,mt]),Ct=blakejs.blake2b($t,void 0,32);return`0x${Buffer$1.from(Ct).toString("hex")}`}async placeLimitOrder(nt){let{limit_order:et}=this._sdk.sdkOptions,{user_orders_indexer_id:at,global_config_id:mt,rate_orders_indexer_id:$t}=getPackagerConfigs(et),Ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,nt.pay_coin_type),Dt=new Transaction,Ft=await this.getPoolIndexerId(nt.pay_coin_type,nt.target_coin_type),Nt=TransactionUtil.buildCoinForAmount(Dt,Ct,BigInt(nt.pay_coin_amount),nt.pay_coin_type,!1,!0);return Dt.moveCall({target:`${et.published_at}::limit_order::${Ft===void 0?"create_indexer_and_place_limit_order":"place_limit_order"}`,typeArguments:[nt.pay_coin_type,nt.target_coin_type],arguments:[Dt.object(mt),Ft===void 0?Dt.object($t):Dt.object(Ft),Dt.object(at),Nt.targetCoin,Dt.pure.u128(ke$1.priceToRate(nt.price,nt.pay_decimal,nt.target_decimal)),Dt.pure.u64(nt.expired_ts),Dt.object(CLOCK_ADDRESS$1)]}),Dt}async claimTargetCoin(nt){let{limit_order:et}=this._sdk.sdkOptions,{global_config_id:at}=getPackagerConfigs(et),mt=new Transaction;return mt.moveCall({target:`${et.published_at}::limit_order::claim_target_coin`,typeArguments:[nt.pay_coin_type,nt.target_coin_type],arguments:[mt.object(at),mt.object(nt.order_id)]}),mt}async cancelOrdersByOwner(nt){let{limit_order:et}=this._sdk.sdkOptions,{global_config_id:at}=getPackagerConfigs(et),mt=new Transaction,$t={};for(let Ct=0;Ct<nt.length;Ct++){let Dt=nt[Ct],Ft=await this.getPoolIndexerId(Dt.pay_coin_type,Dt.target_coin_type);if(Ft===void 0)throw Error("not found indexerId");$t[Dt.order_id]=Ft}return nt.forEach(Ct=>{mt.moveCall({target:`${et.published_at}::limit_order::cancel_order_by_owner`,typeArguments:[Ct.pay_coin_type,Ct.target_coin_type],arguments:[mt.object(at),mt.object($t[Ct.order_id]),mt.object(Ct.order_id),mt.object(CLOCK_ADDRESS$1)]})}),mt}async getUserIndexerHandle(nt){let{fullClient:et}=this._sdk.ClmmSDK,{limit_order:at}=this._sdk.sdkOptions,mt=this.getUserIndexerHandleByCache(nt);if(mt===void 0){let $t=new Transaction;$t.moveCall({target:`${at.published_at}::limit_order::get_orders_indexer_by_owner`,typeArguments:[],arguments:[$t.pure.address(nt),$t.object(getPackagerConfigs(at).user_orders_indexer_id)]}),mt=(await et.devInspectTransactionBlock({transactionBlock:$t,sender:this._sdk.ClmmSDK.sdkOptions.simulationAccount.address})).events[0].parsedJson.orders_table_id,mt&&this.saveUserIndexerHandleByCache(nt,mt)}return mt}getUserIndexerHandleByCache(nt){let et=`getUserIndexerHandleByCache_${nt}`;return this.getCache(et)}saveUserIndexerHandleByCache(nt,et){let at=`getUserIndexerHandleByCache_${nt}`;return this.updateCache(at,et)}updateCache(nt,et,at=cacheTime24h){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){let at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},Rt$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async getFramsPoolList(et="all"){let{package_id:at}=this._sdk.sdkOptions.frams,mt={data:[],hasNextPage:!1};try{let $t=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${at}::pool::CreatePoolEvent`},et),Ct=$t.data.map(Dt=>Dt.parsedJson.pool_id);if(mt.hasNextPage=$t.hasNextPage,mt.nextCursor=$t.nextCursor,Ct.length>0){let Dt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(Ct,{showType:!0,showContent:!0});for(let Ft of Dt){let Nt=Ae$1.buildFramsPool(Ft);Nt&&(Nt.rewarders=await this.getFramsRewarderConfig(Nt.clmm_pool_id,Nt.rewarders.map(jt=>jt.reward_coin)),mt.data.push(Nt),this.updateCache(Nt.id,Nt))}}}catch($t){console.log("getFramsPoolList error ",$t)}return mt}async getFramsPool(et,at=!1){let mt=this.getCache(et,at);if(mt)return mt;let $t=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0}}),Ct=Ae$1.buildFramsPool($t.data);return Ct&&(Ct.rewarders=await this.getFramsRewarderConfig(Ct.clmm_pool_id,Ct.rewarders.map(Dt=>Dt.reward_coin)),this.updateCache(Ct.id,Ct)),Ct}async getFramsRewarderConfig(et,at,mt=!1){let{frams:$t}=this._sdk.sdkOptions,Ct=[];for(let Dt of at){let Ft=`getFramsRewarderConfig_${Dt}_${et}`,Nt=this.getCache(Ft,mt);if(Nt)Ct.push(Nt);else try{let jt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs($t).rewarder_manager_handle,name:{type:"0x1::type_name::TypeName",value:removeHexPrefix(Dt)}}),{fields:Lt}=jt.data.content.fields.value.fields.value,Vt={reward_coin:Dt,last_reward_time:Lt.last_reward_time,emission_per_second:Lt.emission_per_second,total_allocate_point:Lt.total_allocate_point,allocate_point:""},er=Lt.pools.fields.id.id,ir=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:er,name:{type:"0x2::object::ID",value:et}}),{allocate_point:or}=ir.data.content.fields.value.fields.value.fields;Vt.allocate_point=or,this.updateCache(Ft,Vt),Ct.push(Vt)}catch(jt){console.log(jt)}}return Ct}async getOwnedFramsPositionNFTList(et,at=[],mt=!1,$t="all"){let{package_id:Ct}=this._sdk.sdkOptions.frams,Dt={data:[],hasNextPage:!1},Ft={},Nt=[],jt=at.length>0,Lt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(et,{filter:{StructType:`${Ct}::pool::WrappedPositionNFT`},options:{showContent:!0}},$t);Dt.hasNextPage=Lt.hasNextPage,Dt.nextCursor=Lt.nextCursor;for(let Vt of Lt.data){let er=Ae$1.buildFramsPositionNFT(Vt);if(er)if(jt){if(at.includes(er.pool_id)){Nt.push(er);let ir=Ft[er.pool_id];ir?ir.push(er):ir=[er],Ft[er.pool_id]=ir}}else Nt.push(er)}if(mt&&Nt.length>0){let Vt=await this.calculateFarmingRewards(Nt.map(er=>({pool_id:er.pool_id,position_nft_id:er.id,clmm_pool_id:er.clmm_pool_id})));jt?(Ft={},Nt.forEach(er=>{Vt[er.id]&&(er.rewards=Vt[er.id]);let ir=Ft[er.pool_id];ir?ir.push(er):ir=[er],Ft[er.pool_id]=ir})):Nt.forEach(er=>{Vt[er.id]&&(er.rewards=Vt[er.id])})}return jt?Ft:(Dt.data=Nt,Dt)}async getFramsPositionNFT(et,at=!0){let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0,showType:!0}}),$t=Ae$1.buildFramsPositionNFT(mt);if(at&&$t){let Ct=await this.calculateFarmingRewards([{pool_id:$t.pool_id,position_nft_id:$t.id}]);Ct[$t.id]&&($t.rewards=Ct[$t.id])}return $t}async calculateFarmingRewards(et){var Ft,Nt;let{frams:at}=this._sdk.sdkOptions,mt=new Transaction,{rewarder_manager_id:$t,global_config_id:Ct}=getPackagerConfigs(at);et.forEach(jt=>{mt.moveCall({target:`${at.published_at}::router::accumulated_position_rewards`,typeArguments:[],arguments:[mt.object(Ct),mt.object($t),mt.object(jt.pool_id),mt.pure.address(jt.position_nft_id),mt.object(CLOCK_ADDRESS$1)]})});let Dt={};try{let jt=(Nt=(Ft=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:this.sdk.ClmmSDK.senderAddress}))==null?void 0:Ft.events)==null?void 0:Nt.filter(Lt=>extractStructTagFromType$1(Lt.type).name==="AccumulatedPositionRewardsEvent");if(jt&&jt.length>0)for(let Lt=0;Lt<jt.length;Lt+=1){let{parsedJson:Vt}=jt[Lt],er=[];Vt.rewards.contents.forEach(ir=>{er.push({rewarder_type:extractStructTagFromType$1(ir.key.name).full_address,rewarder_amount:ir.value})}),Dt[Vt.wrapped_position_id]=er}}catch(jt){console.log(jt)}return Dt}depositPayload(et,at){let{frams:mt}=this.sdk.sdkOptions;at=at||new Transaction;let{global_config_id:$t,rewarder_manager_id:Ct}=getPackagerConfigs(mt);return at.moveCall({target:`${mt.published_at}::router::deposit`,typeArguments:[],arguments:[at.object($t),at.object(Ct),at.object(et.pool_id),at.object(et.clmm_position_id),at.object(CLOCK_ADDRESS$1)]}),at}async withdrawPayload(et,at){let{frams:mt}=this.sdk.sdkOptions,{global_config_id:$t,rewarder_manager_id:Ct}=getPackagerConfigs(mt);return at=at||new Transaction,at=await this.harvestPayload({pool_id:et.pool_id,position_nft_id:et.position_nft_id},at),at.moveCall({target:`${mt.published_at}::router::withdraw`,typeArguments:[],arguments:[at.object($t),at.object(Ct),at.object(et.pool_id),at.object(et.position_nft_id),at.object(CLOCK_ADDRESS$1)]}),at}async batchHarvestPayload(et,at){at=at||new Transaction;for(let mt of et)await this.harvestPayload(mt,at);return at}async batchHarvestAndClmmFeePayload(et,at){if(!checkInvalidSuiAddress$1(this._sdk.ClmmSDK.senderAddress))throw new Error("this config sdk senderAddress is not set right");let mt=new Transaction,$t={},Ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,null);for(let jt of at)this.collectClmmFeeInternal(jt,$t,mt,Ct),this.collectClmmRewardInternal(jt,$t,mt,Ct);let{frams:Dt}=this.sdk.sdkOptions,{global_config_id:Ft,rewarder_manager_id:Nt}=getPackagerConfigs(Dt);for(let jt of et){let Lt=await this.getFramsPool(jt.pool_id,!1);if(Lt===void 0)throw Error(`not found ${jt.pool_id}`);jt.collect_fee&&this.collectFeeInternal(jt,$t,mt,Ct),jt.clmm_rewarder_types.length>0&&await this.collectRewardInternal(jt,$t,mt,Ct),jt.collect_frams_rewarder&&Lt.rewarders.forEach(Vt=>{mt&&mt.moveCall({target:`${Dt.published_at}::router::harvest`,typeArguments:[Vt.reward_coin],arguments:[mt.object(Ft),mt.object(Nt),mt.object(jt.pool_id),mt.object(jt.position_nft_id),mt.object(CLOCK_ADDRESS$1)]})})}return Object.keys($t).forEach(jt=>{let Lt=$t[jt],{originalSplitedCoin:Vt}=Lt;(Lt.isMintZeroCoin||Vt&&(Vt==null?void 0:Vt.$kind)==="GasCoin")&&TransactionUtil.buildTransferCoin(this._sdk.ClmmSDK,mt,Lt.targetCoin,jt,this._sdk.ClmmSDK.senderAddress)}),mt}async collectRewardInternal(et,at,mt,$t){let Ct=[];et.clmm_rewarder_types.forEach(Dt=>{let Ft=normalizeCoinType$1(Dt),Nt=at[Dt];Nt===void 0&&(Nt=TransactionUtil.buildCoinForAmount(mt,$t,BigInt(0),Ft,!1),at[Ft]=Nt),Ct.push(Nt.targetCoin)}),await this.collectClmmRewardNoSendPayload(et,mt)}collectFeeInternal(et,at,mt,$t){let{frams:Ct}=this.sdk.sdkOptions,{global_config_id:Dt}=getPackagerConfigs(Ct),{clmm_pool:Ft,integrate:Nt}=this.sdk.ClmmSDK.sdkOptions,jt=getPackagerConfigs(Ft),Lt=normalizeCoinType$1(et.coinTypeA),Vt=normalizeCoinType$1(et.coinTypeB),er=at[Lt];er===void 0&&(er=TransactionUtil.buildCoinForAmount(mt,$t,BigInt(0),Lt,!1),at[Lt]=er);let ir=at[Vt];ir===void 0&&(ir=TransactionUtil.buildCoinForAmount(mt,$t,BigInt(0),Vt,!1),at[Vt]=ir),mt.moveCall({target:`${Nt.published_at}::stable_farming::collect_fee`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[mt.object(Dt),mt.object(jt.global_config_id),mt.object(et.clmm_pool_id),mt.object(et.position_nft_id),er.targetCoin,ir.targetCoin]})}collectClmmRewardInternal(et,at,mt,$t){let Ct=[];et.rewarder_coin_types.forEach(Dt=>{let Ft=normalizeCoinType$1(Dt),Nt=at[Dt];Nt===void 0&&(Nt=TransactionUtil.buildCoinForAmount(mt,$t,BigInt(0),Ft,!1),at[Ft]=Nt),Ct.push(Nt.targetCoin)}),this._sdk.ClmmSDK.Rewarder.createCollectRewarderNoSendPaylod(et,mt,Ct)}collectClmmFeeInternal(et,at,mt,$t){if(et.collect_fee){let Ct=normalizeCoinType$1(et.coinTypeA),Dt=normalizeCoinType$1(et.coinTypeB),Ft=at[Ct];Ft===void 0&&(Ft=TransactionUtil.buildCoinForAmount(mt,$t,BigInt(0),Ct,!1),at[Ct]=Ft);let Nt=at[Dt];Nt===void 0&&(Nt=TransactionUtil.buildCoinForAmount(mt,$t,BigInt(0),Dt,!1),at[Dt]=Nt),this._sdk.ClmmSDK.Position.createCollectFeeNoSendPaylod({pool_id:et.pool_id,pos_id:et.pos_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},mt,Ft.targetCoin,Nt.targetCoin)}}async harvestPayload(et,at){let{frams:mt}=this.sdk.sdkOptions;at=at||new Transaction;let $t=await this.getFramsPool(et.pool_id,!1);if($t===void 0)throw Error(`not found ${et.pool_id}`);let{global_config_id:Ct,rewarder_manager_id:Dt}=getPackagerConfigs(mt);if("collect_fee"in et&&(et.collect_fee||et.clmm_rewarder_types.length>0)){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);at=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:et.clmm_pool_id,position_nft_id:et.position_nft_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,collectFee:et.collect_fee,clmm_rewarder_types:et.clmm_rewarder_types},at,Ft)}return $t.rewarders.forEach(Ft=>{at&&at.moveCall({target:`${mt.published_at}::router::harvest`,typeArguments:[Ft.reward_coin],arguments:[at.object(Ct),at.object(Dt),at.object(et.pool_id),at.object(et.position_nft_id),at.object(CLOCK_ADDRESS$1)]})}),at}async claimFeeAndClmmReward(et){let at=new Transaction,mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);return await this.buildCollectRewarderAndFeeParams({clmm_pool_id:et.clmm_pool_id,position_nft_id:et.position_nft_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,collectFee:et.collect_fee,clmm_rewarder_types:et.clmm_rewarder_types},at,mt),at}async openPositionAddLiquidityStakePaylod(et){let at=new Transaction,{clmm_pool:mt,integrate:$t}=this._sdk.ClmmSDK.sdkOptions,Ct=getPackagerConfigs(mt),Dt=at.moveCall({target:`${mt.published_at}::pool::open_position`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(Ct.global_config_id),at.object(et.clmm_pool_id),at.pure.u32(Number(asUintN(BigInt(et.tick_lower)).toString())),at.pure.u32(Number(asUintN(BigInt(et.tick_upper)).toString()))]}),Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Nt=TransactionUtil.buildCoinForAmount(at,Ft,BigInt(et.amount_a),et.coinTypeA,!1),jt=TransactionUtil.buildCoinForAmount(at,Ft,BigInt(et.amount_b),et.coinTypeB,!1);at.moveCall({target:`${$t.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity_by_fix_coin`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(Ct.global_config_id),at.object(et.clmm_pool_id),Dt,Nt.targetCoin,jt.targetCoin,at.pure.u64(et.amount_a.toString()),at.pure.u64(et.amount_b.toString()),at.pure.bool(et.fix_amount_a),at.object(CLOCK_ADDRESS$1)]});let{frams:Lt}=this.sdk.sdkOptions,{global_config_id:Vt,rewarder_manager_id:er}=getPackagerConfigs(Lt);return at.moveCall({target:`${Lt.published_at}::router::deposit`,typeArguments:[],arguments:[at.object(Vt),at.object(er),at.object(et.pool_id),Dt,at.object(CLOCK_ADDRESS$1)]}),at}async addLiquidityPayload(et,at){let{frams:mt}=this.sdk.sdkOptions,{clmm_pool:$t}=this.sdk.ClmmSDK.sdkOptions;at=at||new Transaction;let Ct=getPackagerConfigs(mt),Dt=getPackagerConfigs($t),Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Nt=TransactionUtil.buildCoinForAmount(at,Ft,BigInt(et.amount_limit_a),et.coinTypeA,!1),jt=TransactionUtil.buildCoinForAmount(at,Ft,BigInt(et.amount_limit_b),et.coinTypeB,!1);if(et.collect_rewarder&&(at=await this.harvestPayload({pool_id:et.pool_id,position_nft_id:et.position_nft_id,clmm_pool_id:et.clmm_pool_id},at)),et.collect_fee||et.clmm_rewarder_types.length>0){let Lt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);at=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:et.clmm_pool_id,position_nft_id:et.position_nft_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,collectFee:et.collect_fee,clmm_rewarder_types:et.clmm_rewarder_types},at,Lt,Nt.remainCoins,jt.remainCoins)}return at.moveCall({target:`${mt.published_at}::router::add_liquidity`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(Ct.global_config_id),at.object(Dt.global_config_id),at.object(Ct.rewarder_manager_id),at.object(et.pool_id),at.object(et.clmm_pool_id),at.object(et.position_nft_id),Nt.targetCoin,jt.targetCoin,at.pure.u64(et.amount_limit_a),at.pure.u64(et.amount_limit_b),at.pure.u128(et.delta_liquidity),at.object(CLOCK_ADDRESS$1)]}),at}async addLiquidityFixCoinPayload(et,at){let{frams:mt}=this.sdk.sdkOptions,{clmm_pool:$t}=this.sdk.ClmmSDK.sdkOptions;at=at||new Transaction;let Ct=getPackagerConfigs(mt),Dt=getPackagerConfigs($t),Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Nt=TransactionUtil.buildCoinForAmount(at,Ft,BigInt(et.amount_a),et.coinTypeA,!1),jt=TransactionUtil.buildCoinForAmount(at,Ft,BigInt(et.amount_b),et.coinTypeB,!1);if(et.collect_rewarder&&(at=await this.harvestPayload({pool_id:et.pool_id,position_nft_id:et.position_nft_id,clmm_pool_id:et.clmm_pool_id},at)),et.collect_fee||et.clmm_rewarder_types.length>0){let Lt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);at=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:et.clmm_pool_id,position_nft_id:et.position_nft_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,collectFee:et.collect_fee,clmm_rewarder_types:et.clmm_rewarder_types},at,Lt,Nt.remainCoins,jt.remainCoins)}return at.moveCall({target:`${mt.published_at}::router::add_liquidity_fix_coin`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(Ct.global_config_id),at.object(Dt.global_config_id),at.object(Ct.rewarder_manager_id),at.object(et.pool_id),at.object(et.clmm_pool_id),at.object(et.position_nft_id),Nt.targetCoin,jt.targetCoin,at.pure.u64(et.amount_a.toString()),at.pure.u64(et.amount_b.toString()),at.pure.bool(et.fix_amount_a),at.object(CLOCK_ADDRESS$1)]}),at}async removeLiquidityPayload(et,at){let{frams:mt}=this.sdk.sdkOptions,{clmm_pool:$t}=this.sdk.ClmmSDK.sdkOptions;at=at||new Transaction;let Ct=getPackagerConfigs(mt),Dt=getPackagerConfigs($t);if(et.collect_rewarder&&(!et.unstake||et.close_position)&&(at=await this.harvestPayload({pool_id:et.pool_id,position_nft_id:et.position_nft_id,clmm_pool_id:et.clmm_pool_id},at)),et.clmm_rewarder_types.length>0){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);at=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:et.clmm_pool_id,position_nft_id:et.position_nft_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,collectFee:!1,clmm_rewarder_types:et.clmm_rewarder_types},at,Ft)}if(et.close_position){if(et.clmm_position_id===void 0)throw Error("close_position need clmm_position_id");at.moveCall({target:`${mt.published_at}::router::close_position`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(Ct.global_config_id),at.object(Ct.rewarder_manager_id),at.object(et.pool_id),at.object(Dt.global_config_id),at.object(et.clmm_pool_id),at.object(et.position_nft_id),at.pure.u64(et.min_amount_a),at.pure.u64(et.min_amount_b),at.object(CLOCK_ADDRESS$1)]})}else at.moveCall({target:`${mt.published_at}::router::remove_liquidity`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(Ct.global_config_id),at.object(Dt.global_config_id),at.object(Ct.rewarder_manager_id),at.object(et.pool_id),at.object(et.clmm_pool_id),at.object(et.position_nft_id),at.pure.u128(et.delta_liquidity),at.pure.u64(et.min_amount_a),at.pure.u64(et.min_amount_b),at.object(CLOCK_ADDRESS$1)]}),et.unstake&&this.withdrawPayload({pool_id:et.pool_id,position_nft_id:et.position_nft_id});return at}async buildCollectRewarderAndFeeParams(et,at,mt,$t,Ct){$t===void 0&&($t=[...mt]),Ct===void 0&&(Ct=[...mt]);let Dt=normalizeCoinType$1(et.coinTypeA),Ft=normalizeCoinType$1(et.coinTypeB);et.collectFee&&this.collectFeePayload({clmm_pool_id:et.clmm_pool_id,position_nft_id:et.position_nft_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},at);let Nt=[];return et.clmm_rewarder_types.forEach(jt=>{switch(normalizeCoinType$1(jt)){case Dt:Nt.push(TransactionUtil.buildCoinForAmount(at,$t,BigInt(0),jt,!1).targetCoin);break;case Ft:Nt.push(TransactionUtil.buildCoinForAmount(at,Ct,BigInt(0),jt,!1).targetCoin);break;default:Nt.push(TransactionUtil.buildCoinForAmount(at,mt,BigInt(0),jt,!1).targetCoin);break}}),this.collectClmmRewardPayload({clmm_pool_id:et.clmm_pool_id,position_nft_id:et.position_nft_id,clmm_rewarder_types:et.clmm_rewarder_types,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB,reward_coins:Nt},at),at}collectFeePayload(et,at){let{frams:mt}=this.sdk.sdkOptions,{clmm_pool:$t}=this.sdk.ClmmSDK.sdkOptions;at=at||new Transaction;let Ct=getPackagerConfigs(mt),Dt=getPackagerConfigs($t);return at.moveCall({target:`${mt.published_at}::router::collect_fee`,typeArguments:[et.coinTypeA,et.coinTypeB],arguments:[at.object(Ct.global_config_id),at.object(Dt.global_config_id),at.object(et.clmm_pool_id),at.object(et.position_nft_id)]}),at}async collectClmmRewardPayload(et,at){var Nt;let{frams:mt}=this.sdk.sdkOptions,{clmm_pool:$t}=this.sdk.ClmmSDK.sdkOptions;at=at||new Transaction;let Ct=et.reward_coins;if(et.clmm_rewarder_types.length>0&&Ct===void 0){Ct=[];let jt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et.clmm_rewarder_types.forEach(Lt=>{Ct.push(TransactionUtil.buildCoinForAmount(at,jt,BigInt(0),Lt,!1).targetCoin)})}let Dt=getPackagerConfigs(mt),Ft=getPackagerConfigs($t);return(Nt=et.clmm_rewarder_types)==null||Nt.forEach((jt,Lt)=>{at&&at.moveCall({target:`${mt.published_at}::router::collect_clmm_reward`,typeArguments:[jt,et.coinTypeA,et.coinTypeB],arguments:[at.object(Dt.global_config_id),at.object(Ft.global_config_id),at.object(et.clmm_pool_id),at.object(et.position_nft_id),at.object(Ft.global_vault_id),Ct[Lt],at.object(CLOCK_ADDRESS$1)]})}),at}async collectClmmRewardNoSendPayload(et,at){var jt;let{frams:mt}=this.sdk.sdkOptions,{clmm_pool:$t,integrate:Ct}=this.sdk.ClmmSDK.sdkOptions,Dt=et.reward_coins;if(et.clmm_rewarder_types.length>0&&Dt===void 0){Dt=[];let Lt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et.clmm_rewarder_types.forEach(Vt=>{Dt.push(TransactionUtil.buildCoinForAmount(at,Lt,BigInt(0),Vt,!1).targetCoin)})}let Ft=getPackagerConfigs(mt),Nt=getPackagerConfigs($t);return(jt=et.clmm_rewarder_types)==null||jt.forEach((Lt,Vt)=>{at&&at.moveCall({target:`${Ct.published_at}::stable_farming::collect_clmm_reward`,typeArguments:[Lt,et.coinTypeA,et.coinTypeB],arguments:[at.object(Ft.global_config_id),at.object(Nt.global_config_id),at.object(et.clmm_pool_id),at.object(et.position_nft_id),at.object(Nt.global_vault_id),Dt[Vt],at.object(CLOCK_ADDRESS$1)]})}),at}async getFrarmsConfigs(){let{package_id:et}=this._sdk.sdkOptions.frams,at={global_config_id:"",rewarder_manager_id:"",rewarder_manager_handle:""},mt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::config::InitConfigEvent`})).data;if(mt.length>0){let Ct=mt[0].parsedJson;at.global_config_id=Ct.global_config_id,at.admin_cap_id=Ct.admin_cap_id}let $t=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::rewarder::InitRewarderManagerEvent`})).data;if($t.length>0){let Ct=$t[0].parsedJson;at.rewarder_manager_id=Ct.id;let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:at.rewarder_manager_id,options:{showContent:!0}});at.rewarder_manager_handle=Dt.data.content.fields.rewarders.fields.id.id}return at}updateCache(et,at,mt=cacheTime24h){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et];if(!at&&(mt!=null&&mt.isValid()))return mt.value;delete this._cache[et]}},ct=class{static buildDcaOrderList(nt){let{parsedJson:et}=nt;if(et&&et.order_id)return{created_at:et.created_at,cycle_count:et.cycle_count,cycle_frequency:et.cycle_frequency,in_coin:extractStructTagFromType$1(et.in_coin.name).full_address,in_deposited:et.in_deposited,order_id:et.order_id,out_coin:extractStructTagFromType$1(et.out_coin.name).full_address,per_cycle_in_amount_limit:et.per_cycle_in_amount_limit,per_cycle_max_out_amount:et.per_cycle_max_out_amount,per_cycle_min_out_amount:et.per_cycle_min_out_amount}}static buildDcaGlobalConfig(nt){if(nt&&nt.id.id)return{min_cycle_count:nt.min_cycle_count,min_cycle_frequency:nt.min_cycle_frequency,whitelist_mode:nt.whitelist_mode}}static buildOrderHistoryList(nt,et){let{events:at}=nt,mt=[];return at&&at.forEach($t=>{let Ct=extractStructTagFromType$1($t.type).name;if(et.includes(Ct)){let Dt={digest:nt.digest,type:Ct,timestampMs:nt.timestampMs,parsedJson:$t.parsedJson};mt.push(Dt)}}),mt}},Bt$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async dcaOpenOrderPayload(et){let{dca:at}=this._sdk.sdkOptions,{global_config_id:mt,indexer_id:$t}=getPackagerConfigs(at),Ct=new Transaction,Dt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,et.in_coin_type),Ft=TransactionUtil.buildCoinForAmount(Ct,Dt,BigInt(et.in_coin_amount),et.in_coin_type,!1,!0);return Ct.moveCall({target:`${at.published_at}::order::open_order`,typeArguments:[et.in_coin_type,et.out_coin_type],arguments:[Ct.object(mt),Ft.targetCoin,Ct.pure.u64(et.cycle_frequency),Ct.pure.u64(et.cycle_count),Ct.pure.u64(et.per_cycle_min_out_amount),Ct.pure.u64(et.per_cycle_max_out_amount),Ct.pure.u64(et.per_cycle_in_amount_limit),Ct.pure.u64(et.fee_rate),Ct.pure.u64(et.timestamp),Ct.pure.string(et.signature),Ct.object(CLOCK_ADDRESS$1),Ct.object($t)]}),Ct}dcaCloseOrderPayload(et){let{dca:at}=this._sdk.sdkOptions,{global_config_id:mt,indexer_id:$t}=getPackagerConfigs(at),Ct=new Transaction;return et.forEach(Dt=>{let Ft=Ct.moveCall({target:`${at.published_at}::order::cancle_order`,typeArguments:[Dt.in_coin_type,Dt.out_coin_type],arguments:[Ct.object(mt),Ct.object(Dt.order_id),Ct.object($t),Ct.object(CLOCK_ADDRESS$1)]});Ct.transferObjects([Ft[0],Ft[1]],Ct.pure.address(this._sdk.getVerifySenderAddress()))}),Ct}async getDcaOrders(et){let at={data:[],hasNextPage:!1},{dca:mt}=this._sdk.sdkOptions,{user_indexer_id:$t}=getPackagerConfigs(mt);try{let Ct,Dt=this.getCache(`${et}_dca_table_id`);if(Dt)Ct=Dt;else{let er=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:$t,name:{type:"address",value:et}});Ct=getObjectFields(er).value.fields.id.id,this.updateCache(`${et}_dca_table_id`,Ct)}let Ft=null,Nt=50,jt=[];for(;;){let er=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:Ct,cursor:Ft,limit:Nt});if(er.data.forEach(ir=>{jt.push(ir.name.value)}),Ft=er.nextCursor,Ft===null||er.data.length<Nt)break}let Lt=[],Vt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(jt,{showType:!0,showContent:!0});for(let er=0;er<Vt.length;er++){let ir=Vt[er],or=extractStructTagFromType$1(ir.data.type),lr=or.type_arguments[0],dr=or.type_arguments[1];Lt.push({in_coin_type:lr,out_coin_type:dr,...ir.data.content.fields,id:ir.data.content.fields.id.id,version:ir.data.version})}return at.data=Lt,at}catch{return at}}async withdraw(et){let{dca:at}=this._sdk.sdkOptions,{global_config_id:mt}=getPackagerConfigs(at),$t=new Transaction,Ct=$t.moveCall({target:`${at.published_at}::order::withdraw`,typeArguments:[et.in_coin_type,et.out_coin_type],arguments:[$t.object(mt),$t.object(et.order_id),$t.object(CLOCK_ADDRESS$1)]});return $t.transferObjects([Ct[0]],$t.pure.address(this._sdk.getVerifySenderAddress())),$t}async withdrawAll(et){let{dca:at}=this._sdk.sdkOptions,{global_config_id:mt}=getPackagerConfigs(at),$t=new Transaction;for(let Ct=0;Ct<et.length;Ct++){let Dt=$t.moveCall({target:`${at.published_at}::order::withdraw`,typeArguments:[et[Ct].in_coin_type,et[Ct].out_coin_type],arguments:[$t.object(mt),$t.object(et[Ct].order_id),$t.object(CLOCK_ADDRESS$1)]});$t.transferObjects([Dt[0]],$t.pure.address(this._sdk.getVerifySenderAddress()))}return $t}async getDcaOrdersMakeDeal(et){let at=this.getCache(`${et}_tx`),mt=[],$t=null,Ct=50;for(;;){let Nt=await this._sdk.ClmmSDK.fullClient.queryTransactionBlocks({filter:{ChangedObject:et},limit:Ct});if(Nt.data.forEach(jt=>{mt.push(jt.digest)}),$t=Nt.nextCursor,$t===null||Nt.data.length<Ct)break}if(this.updateCache(`${et}_tx`,mt),at&&at.length===mt.length)return this.getCache(`${et}_history_list`);let Dt=await this._sdk.ClmmSDK.fullClient.multiGetTransactionBlocks({digests:mt,options:{showInput:!0,showEffects:!0,showEvents:!0}}),Ft=[];return Dt.forEach(Nt=>{Ft.push(...ct.buildOrderHistoryList(Nt,["MakeDealEvent"]))}),this.updateCache(`${et}_history_list`,Ft),Ft}async getDcaCoinWhiteList(et){let{in_coin_whitelist_id:at,out_coin_whitelist_id:mt}=getPackagerConfigs(this._sdk.sdkOptions.dca),$t=[],Ct=[];if(et===1||et===3){let Dt=null,Ft=50;for(;;){let Nt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:at,cursor:Dt,limit:Ft});if(Nt.data.forEach(jt=>{$t.push(extractStructTagFromType$1(jt.name.value.name).full_address)}),Dt=Nt.nextCursor,Dt===null||Nt.data.length<Ft)break}}if(et===2||et===3){let Dt=null,Ft=50;for(;;){let Nt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:mt,cursor:Dt,limit:Ft});if(Nt.data.forEach(jt=>{Ct.push(extractStructTagFromType$1(jt.name.value.name).full_address)}),Dt=Nt.nextCursor,Dt===null||Nt.data.length<Ft)break}}return{inCoinList:$t,outCoinList:Ct}}async getDcaGlobalConfig(){let{global_config_id:et}=getPackagerConfigs(this._sdk.sdkOptions.dca),at=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showType:!0,showContent:!0}});return ct.buildDcaGlobalConfig(at.data.content.fields)}async getDcaConfigs(){var Ct;let{package_id:et}=this._sdk.sdkOptions.dca,at={admin_cap_id:"",global_config_id:"",indexer_id:"",user_indexer_id:"",in_coin_whitelist_id:"",out_coin_whitelist_id:""},mt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::config::InitEvent`})).data,$t=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::order::InitEvent`})).data;if(mt&&mt.length>0){let{parsedJson:Dt}=mt[0];at.admin_cap_id=Dt.admin_cap_id,at.global_config_id=Dt.global_config_id}if($t&&$t.length>0){let{parsedJson:Dt}=$t[0];at.indexer_id=Dt.indexer_id;let Ft=await this._sdk.ClmmSDK.fullClient.getObject({id:Dt.indexer_id,options:{showType:!0,showContent:!0}});at.user_indexer_id=(Ct=Ft.data)==null?void 0:Ct.content.fields.user_orders.fields.id.id}if(at.global_config_id){let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:at.global_config_id,options:{showType:!0,showContent:!0}});at.in_coin_whitelist_id=Dt.data.content.fields.in_coin_whitelist.fields.id.id,at.out_coin_whitelist_id=Dt.data.content.fields.out_coin_whitelist.fields.id.id}return at}updateCache(et,at,mt=cacheTime24h){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et],$t=mt==null?void 0:mt.isValid();if(!at&&$t)return mt.value;$t||delete this._cache[et]}},Et=class{constructor(nt,et){xa(this,"_cache",{});xa(this,"_sdkOptions");xa(this,"_launchpad");xa(this,"_ido");xa(this,"_xcetusModule");xa(this,"_xtokenModule");xa(this,"_boosterModule");xa(this,"_makerModule");xa(this,"_clmmSDK");xa(this,"_liquidityStrategy");xa(this,"_vaults");xa(this,"_limitOrder");xa(this,"_farmsModule");xa(this,"_dcaModule");this._sdkOptions=nt,this._clmmSDK=et,this._launchpad=new _t$1(this),this._ido=new St$1(this),this._xcetusModule=new yt$1(this),this._xtokenModule=new It$1(this),this._boosterModule=new ut(this),this._makerModule=new gt$1(this),this._vaults=new xt$2(this),this._limitOrder=new Mt(this),this._farmsModule=new Rt$1(this),this._dcaModule=new Bt$1(this),this._liquidityStrategy=new Ot$1(this),patchFixSuiObjectId(this._sdkOptions)}get ClmmSDK(){return this._clmmSDK}get sdkOptions(){return this._sdkOptions}get Launchpad(){return this._launchpad}get Ido(){return this._ido}get XToken(){return this._xtokenModule}get XCetusModule(){return this._xcetusModule}get BoosterModule(){return this._boosterModule}get MakerModule(){return this._makerModule}get LiquidityStrategy(){return this._liquidityStrategy}get Vaults(){return this._vaults}get LimitOrder(){return this._limitOrder}get Farms(){return this._farmsModule}get Dca(){return this._dcaModule}getVerifySenderAddress(){let{senderAddress:nt}=this.ClmmSDK;if(nt.length===0||!isValidSuiAddress(nt))throw Error("this clmm config sdk senderAddess is illegal");return nt}updateCache(nt,et,at=cacheTime24h){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){let at=this._cache[nt];if(!et&&(at!=null&&at.isValid()))return at.value;delete this._cache[nt]}},m_=Et,b="router",D="router",O=24*3600,I$1=1e3,k=1e11,_={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},m=class{static buildVeNFTDividendInfo(nt){let et={id:nt.id.id,ve_nft_id:nt.name,rewards:[]};return nt.value.fields.value.fields.dividends.fields.contents.forEach(at=>{let mt=[];at.fields.value.fields.contents.forEach($t=>{let Ct=$t.fields.value;d$2(Ct).gt(0)&&mt.push({coin_type:extractStructTagFromType$1($t.fields.key.fields.name).source_address,amount:Ct})}),mt.length>0&&et.rewards.push({period:Number(at.fields.key),rewards:mt,vesrion:"v1"})}),et}static buildDividendManager(nt){let et={id:nt.id.id,dividends:{id:nt.dividends.fields.id.id,size:nt.dividends.fields.size},venft_dividends:{id:nt.venft_dividends.fields.id.id,size:nt.venft_dividends.fields.size},bonus_types:[],start_time:Number(nt.start_time),interval_day:Number(nt.interval_day),balances:{id:nt.balances.fields.id.id,size:nt.balances.fields.size},is_open:nt.is_open};return nt.bonus_types.forEach(at=>{et.bonus_types.push(extractStructTagFromType$1(at.fields.name).source_address)}),et}static buildLockUpManager(nt){return{id:nt.id.id,balance:nt.balance,treasury_manager:nt.treasury_manager,extra_treasury:nt.extra_treasury,lock_infos:{lock_handle_id:nt.lock_infos.fields.id.id,size:Number(nt.lock_infos.fields.size)},type_name:normalizeCoinType$1(nt.type_name.fields.name),min_lock_day:Number(nt.min_lock_day),max_lock_day:Number(nt.max_lock_day),package_version:Number(nt.package_version),max_percent_numerator:Number(nt.max_percent_numerator),min_percent_numerator:Number(nt.min_percent_numerator)}}static buildLockCetus(nt){let et=nt.fields,at={id:et.id.id,type:extractStructTagFromType$1(nt.type).source_address,locked_start_time:Number(et.locked_start_time),locked_until_time:Number(et.locked_until_time),cetus_amount:et.balance,xcetus_amount:"0",lock_day:0};return at.lock_day=(at.locked_until_time-at.locked_start_time)/O,at}static getAvailableXCetus(nt,et){let at=d$2(0);return et.forEach(mt=>{at=at.add(mt.xcetus_amount)}),d$2(nt.xcetus_balance).sub(at).toString()}static getWaitUnLockCetuss(nt){return nt.filter(et=>!m.isLocked(et))}static getLockingCetuss(nt){return nt.filter(et=>m.isLocked(et))}static isLocked(nt){return nt.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(nt,et){let at=new Set;return nt==null||nt.forEach(mt=>{mt.rewards.forEach($t=>{at.add($t.coin_type)})}),et==null||et.forEach(mt=>{mt.rewards.forEach($t=>{at.add($t.coin_type)})}),Array.from(at)}static buildDividendRewardTypeListV2(nt){let et={};return nt==null||nt.forEach(at=>{at.vesrion==="v2"&&at.rewards.forEach(mt=>{et[mt.coin_type]||(et[mt.coin_type]=[]),et[mt.coin_type].push(at.period)})}),et}static getNextStartTime(nt){let et=Date.now()/1e3,{start_time:at,interval_day:mt}=nt,$t=Math.ceil((et-at)/(mt*O));return at+$t*mt*O}},w$1=class{constructor(et){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=et}get sdk(){return this._sdk}async getOwnerVeNFT(et,at=!0){let{xcetus:mt}=this.sdk.sdkOptions,$t=`${et}_getLockUpManagerEvent`,Ct=this.getCache($t,at);if(Ct!==void 0)return Ct;let Dt,Ft=`${mt.package_id}::xcetus::VeNFT`;return(await this._sdk.fullClient.getOwnedObjectsByPage(et,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:Ft}})).data.forEach(Nt=>{let jt=extractStructTagFromType$1(getMoveObjectType(Nt)).source_address;if(jt===Ft&&Nt.data&&Nt.data.content){let{fields:Lt}=Nt.data.content;Dt={...buildNFT(Nt),id:Lt.id.id,index:Lt.index,type:jt,xcetus_balance:Lt.xcetus_balance},this.updateCache($t,Dt,cacheTime24h)}}),Dt}async getOwnerRedeemLockList(et){let{xcetus:at}=this.sdk.sdkOptions,mt=[],$t=`${at.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,Ct=await this._sdk.fullClient.getOwnedObjectsByPage(et,{options:{showType:!0,showContent:!0},filter:{StructType:$t}});for(let Dt of Ct.data)if(extractStructTagFromType$1(getMoveObjectType(Dt)).source_address===$t&&Dt.data){let Ft=m.buildLockCetus(Dt.data.content);Ft.xcetus_amount=await this.getXCetusAmount(Ft.id),mt.push(Ft)}return mt}async getLockCetus(et){var mt;let at=await this._sdk.fullClient.getObject({id:et,options:{showType:!0,showContent:!0}});if((mt=at.data)!=null&&mt.content){let $t=m.buildLockCetus(at.data.content);return $t.xcetus_amount=await this.getXCetusAmount($t.id),$t}}async getOwnerCetusCoins(et){return await this._sdk.getOwnerCoinAssets(et,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:et}=this.sdk.sdkOptions,at=new Transaction;return at.moveCall({target:`${et.published_at}::${b}::mint_venft`,typeArguments:[],arguments:[at.object(getPackagerConfigs(et).xcetus_manager_id)]}),at}convertPayload(et,at){let{xcetus:mt}=this.sdk.sdkOptions;at=at||new Transaction;let $t=this.buileCetusCoinType();if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");at.setSender(this._sdk.senderAddress);let Ct=TransactionUtil.buildCoinWithBalance(BigInt(et.amount),$t);return et.venft_id===void 0?at.moveCall({target:`${mt.published_at}::${b}::mint_and_convert`,typeArguments:[],arguments:[at.object(getPackagerConfigs(mt).lock_manager_id),at.object(getPackagerConfigs(mt).xcetus_manager_id),at.makeMoveVec({elements:[Ct]}),at.pure.u64(et.amount)]}):at.moveCall({target:`${mt.published_at}::${b}::convert`,typeArguments:[],arguments:[at.object(getPackagerConfigs(mt).lock_manager_id),at.object(getPackagerConfigs(mt).xcetus_manager_id),at.makeMoveVec({elements:[Ct]}),at.pure.u64(et.amount),at.object(et.venft_id)]}),at}redeemLockPayload(et){let{xcetus:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${b}::redeem_lock`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xcetus_manager_id),mt.object(et.venft_id),mt.pure.u64(et.amount),mt.pure.u64(et.lock_day),mt.object(CLOCK_ADDRESS$1)]}),mt}redeemPayload(et){let{xcetus:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${b}::redeem`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xcetus_manager_id),mt.object(et.venft_id),mt.object(et.lock_id),mt.object(CLOCK_ADDRESS$1)]}),mt}redeemDividendPayload(et,at){let{xcetus:mt,xcetus_dividends:$t}=this.sdk.sdkOptions,Ct=new Transaction;return at.forEach(Dt=>{Ct.moveCall({target:`${mt.published_at}::${D}::redeem`,typeArguments:[Dt],arguments:[Ct.object(getPackagerConfigs($t).dividend_manager_id),Ct.object(et)]})}),Ct}redeemDividendV2Payload(et,at,mt){let{xcetus_dividends:$t}=this.sdk.sdkOptions,Ct=new Transaction;return at.filter(Dt=>mt.includes(Dt)).length>0&&(Ct=this.redeemDividendXTokenPayload(et,Ct)),at.forEach(Dt=>{mt.includes(Dt)||Ct.moveCall({target:`${$t.published_at}::${D}::redeem_v2`,typeArguments:[Dt],arguments:[Ct.object(getPackagerConfigs($t).dividend_manager_id),Ct.object(et),Ct.object(CLOCK_ADDRESS$1)]})}),Ct}redeemDividendV3Payload(et,at){let{xcetus_dividends:mt}=this.sdk.sdkOptions,$t=new Transaction,Ct=m.buildDividendRewardTypeList(at),Dt=m.buildDividendRewardTypeListV2(at),Ft=extractStructTagFromType$1(this.buileXTokenCoinType()).full_address;return Ct.find(Nt=>extractStructTagFromType$1(Nt).full_address===Ft)!==void 0&&this.redeemDividendXTokenPayload(et,$t),Ct.forEach(Nt=>{$t.moveCall({target:`${mt.published_at}::${D}::redeem_v3`,typeArguments:[Nt],arguments:[$t.object(getPackagerConfigs(mt).dividend_manager_id),$t.object(getPackagerConfigs(mt).venft_dividends_id),$t.makeMoveVec({elements:Dt[Nt].map(jt=>$t.pure.u64(jt)),type:"u64"}),$t.object(et),$t.object(CLOCK_ADDRESS$1)]})}),$t}redeemDividendXTokenPayload(et,at){let{xcetus_dividends:mt,xcetus:$t}=this.sdk.sdkOptions,{xcetus_manager_id:Ct,lock_manager_id:Dt}=getPackagerConfigs($t),{dividend_manager_id:Ft}=getPackagerConfigs(mt);return at=at===void 0?new Transaction:at,at.moveCall({target:`${mt.published_at}::${D}::redeem_xtoken`,typeArguments:[],arguments:[at.object(Dt),at.object(Ct),at.object(Ft),at.object(et),at.object(CLOCK_ADDRESS$1)]}),at}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(et=this._sdk.sdkOptions.xcetus.package_id,at="xcetus",mt="XCETUS"){return`${et}::${at}::${mt}`}cancelRedeemPayload(et){let{xcetus:at}=this.sdk.sdkOptions,mt=new Transaction;return mt.moveCall({target:`${at.published_at}::${b}::cancel_redeem_lock`,typeArguments:[],arguments:[mt.object(getPackagerConfigs(at).lock_manager_id),mt.object(getPackagerConfigs(at).xcetus_manager_id),mt.object(et.venft_id),mt.object(et.lock_id),mt.object(CLOCK_ADDRESS$1)]}),mt}async getInitConfigs(){var Ft,Nt;let{package_id:et}=this.sdk.sdkOptions.xcetus,at=`${et}_getInitFactoryEvent`,mt=this.getCache(at);if(mt!==void 0)return mt;let $t=(Ft=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${et}::xcetus::InitEvent`}))==null?void 0:Ft.data,Ct={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};$t.length>0&&$t.forEach(jt=>{let Lt=jt.parsedJson;Lt&&(Ct.xcetus_manager_id=Lt.xcetus_manager)});let Dt=(Nt=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${et}::locking::InitializeEvent`}))==null?void 0:Nt.data;return Dt.length>0&&Dt.forEach(jt=>{let Lt=jt.parsedJson;Lt&&(Ct.lock_manager_id=Lt.lock_manager)}),Ct.lock_manager_id.length>0&&(Ct.lock_handle_id=(await this.getLockUpManager(Ct.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(at,Ct,cacheTime24h),Ct}async getLockUpManager(et=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,at=!1){let mt=`${et}_getLockUpManager`,$t=this.getCache(mt,at);if($t!==void 0)return $t;let Ct=await this.sdk.fullClient.getObject({id:et,options:{showContent:!0}}),Dt=m.buildLockUpManager(getObjectFields(Ct));return this.updateCache(mt,Dt,cacheTime24h),Dt}async getDividendConfigs(){var Lt,Vt,er;let{package_id:et}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:at,venft_dividends_id:mt}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),$t=`${et}_getDividendManagerEvent`,Ct=this.getCache($t);if(Ct!==void 0)return Ct;let Dt=(Lt=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${et}::dividend::InitEvent`}))==null?void 0:Lt.data,Ft=await this._sdk.fullClient.getDynamicFieldObject({parentId:at,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),Nt={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};Dt.length>0&&Dt.forEach(ir=>{let or=ir.parsedJson;or&&(Nt.dividend_manager_id=or.manager_id,Nt.dividend_admin_id=or.admin_id,Nt.dividend_settle_id=or.settle_id,this.updateCache($t,Nt,cacheTime24h))}),Ft&&Ft.data&&Ft.data.content&&(Nt.venft_dividends_id=(er=(Vt=Ft.data.content)==null?void 0:Vt.fields)==null?void 0:er.value,this.updateCache($t,Nt,cacheTime24h));let jt=await this._sdk.fullClient.getObject({id:mt,options:{showContent:!0}});return Nt.venft_dividends_id_v2=jt.data.content.fields.venft_dividends.fields.id.id,Nt}async getDividendManager(et=!1){let{dividend_manager_id:at}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),mt=`${at}_getDividendManager`,$t=this.getCache(mt,et);if($t!==void 0)return $t;let Ct=await this._sdk.fullClient.getObject({id:at,options:{showContent:!0}}),Dt=getObjectFields(Ct),Ft=m.buildDividendManager(Dt);return this.updateCache(mt,Ft,cacheTime24h),Ft}async getXcetusManager(et=!0){let{xcetus_manager_id:at}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),mt=`${at}_getXcetusManager`,$t=this.getCache(mt,et);if($t)return $t;let Ct=await this._sdk.fullClient.getObject({id:at,options:{showContent:!0}}),Dt=getObjectFields(Ct),Ft={id:Dt.id.id,index:Number(Dt.index),has_venft:{handle:Dt.has_venft.fields.id.id,size:Dt.has_venft.fields.size},nfts:{handle:Dt.nfts.fields.id.id,size:Dt.nfts.fields.size},total_locked:Dt.total_locked,treasury:Dt.treasury.fields.total_supply.fields.value};return this.updateCache(mt,Ft),Ft}async fetchDividendInfo(et){let{xcetus_dividends:at}=this._sdk.sdkOptions,{dividend_manager_id:mt,venft_dividends_id:$t}=getPackagerConfigs(at),Ct=new Transaction;Ct.moveCall({target:`${at.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[Ct.object(mt),Ct.object($t),Ct.object(et)]});let Dt=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:this._sdk.senderAddress}),{contents:Ft}=Dt.events[0].parsedJson.info,Nt={id:"",ve_nft_id:et,rewards:[]};return Ft.forEach(jt=>{let Lt=[],Vt=jt.key,{contents:er}=jt.value;er.forEach(ir=>{d$2(ir.value).gt(0)&&Lt.push({coin_type:extractStructTagFromType$1(ir.key.name).source_address,amount:ir.value})}),Lt.length>0&&Nt.rewards.push({period:Number(Vt),rewards:Lt,vesrion:Number(Vt)>66?"v2":"v1"})}),Nt}async getVeNFTDividendInfo(et){try{return await this.fetchDividendInfo(et)}catch{return await this.getVeNFTDividendInfoV2(et)}}async getVeNFTDividendInfoV2(et){let{xcetus_dividends:at}=this._sdk.sdkOptions,{venft_dividends_id_v2:mt}=getPackagerConfigs(at),$t={id:"",ve_nft_id:et,rewards:[]},Ct=[];try{let Dt=await this._sdk.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"0x2::object::ID",value:et}}),Ft=getObjectFields(Dt).value.fields.value.fields.dividends.fields.id.id,Nt=null,jt=50,Lt=[];for(;;){let Vt=await this._sdk.fullClient.getDynamicFields({parentId:Ft,cursor:Nt,limit:jt});if(Vt.data.forEach(er=>{Lt.push(er.objectId)}),Nt=Vt.nextCursor,Nt===null||Vt.data.length<jt)break}(await this._sdk.fullClient.batchGetObjects(Lt,{showType:!0,showContent:!0})).forEach(Vt=>{Ct.push({period:Number(Vt.data.content.fields.name),vesrion:"v2",rewards:Vt.data.content.fields.value.fields.contents.map(er=>({coin_type:extractStructTagFromType$1(er.fields.key.fields.name).source_address,amount:er.fields.value}))})})}catch(Dt){console.log(Dt)}return{...$t,rewards:[...Ct]}}async getVeNFTDividendInfoV1(et){let{xcetus_dividends:at}=this._sdk.sdkOptions,{venft_dividends_id:mt}=getPackagerConfigs(at),$t={id:"",ve_nft_id:et,rewards:[]};try{let Ct=await this._sdk.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"0x2::object::ID",value:et}}),Dt=getObjectFields(Ct);$t=m.buildVeNFTDividendInfo(Dt)}catch(Ct){console.log("🚀 ~ file: xcetusModule.ts:839 ~ XCetusModule ~ error:",Ct)}return $t}redeemNum(et,at){if(BigInt(et)===BigInt(0))return{amount_out:"0",percent:"0"};let mt=d$2(k).mul(d$2(_.max_lock_day).sub(d$2(at))).mul(d$2(_.max_percent_numerator).sub(d$2(_.min_percent_numerator))).div(d$2(_.max_lock_day).sub(d$2(_.min_lock_day))),$t=d$2(k).mul(d$2(_.max_percent_numerator)).sub(mt).div(d$2(I$1)).div(k);return{amount_out:d$2($t).mul(d$2(et)).round().toString(),percent:$t.toString()}}reverseRedeemNum(et,at){if(BigInt(et)===BigInt(0))return{amount_out:"0",percent:"0"};let mt=d$2(k).mul(d$2(_.max_lock_day).sub(d$2(at))).mul(d$2(_.max_percent_numerator).sub(d$2(_.min_percent_numerator))).div(d$2(_.max_lock_day).sub(d$2(_.min_lock_day))),$t=d$2(k).mul(d$2(_.max_percent_numerator)).sub(mt).div(d$2(I$1)).div(k);return{amount_out:d$2(et).div($t).toFixed(0,Decimal$1.ROUND_UP),percent:$t.toString()}}async getXCetusAmount(et){let{lock_handle_id:at}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),mt=`${et}_getXCetusAmount`,$t=this.getCache(mt);if($t!==void 0)return $t;try{let Ct=await this.sdk.fullClient.getDynamicFieldObject({parentId:at,name:{type:"0x2::object::ID",value:et}}),Dt=getObjectFields(Ct);if(Dt){let{xcetus_amount:Ft}=Dt.value.fields.value.fields;return this.updateCache(mt,Ft,cacheTime24h),Ft}}catch{}return"0"}async getVeNftAmount(et,at){try{let mt=await this.sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:at}}),$t=getObjectFields(mt);if($t){let{lock_amount:Ct,xcetus_amount:Dt}=$t.value.fields.value.fields;return{lock_amount:Ct,xcetus_amount:Dt}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(et,at=!1){let mt=(await this.getDividendManager()).dividends.id,$t=`${mt}_${et}_getPhaseDividendInfo`,Ct=this._sdk.getCache($t,at);if(Ct)return Ct;try{let Dt=await this._sdk.fullClient.getDynamicFieldObject({parentId:mt,name:{type:"u64",value:et}}),Ft=getObjectFields(Dt),Nt=Ft.value.fields.value.fields,jt=Nt.redeemed_num.fields.contents.map(ir=>({name:ir.fields.key.fields.name,value:ir.fields.value})),Lt=Nt.bonus_types.map(ir=>ir.fields.name),Vt=Nt.bonus.fields.contents.map(ir=>({name:ir.fields.key.fields.name,value:ir.fields.value})),er={id:getObjectId(Dt),phase:Ft.name,settled_num:Nt.settled_num,register_time:Nt.register_time,redeemed_num:jt,is_settled:Nt.is_settled,bonus_types:Lt,bonus:Vt,phase_end_time:""};return this.updateCache($t,er),er}catch{}}updateCache(et,at,mt=cacheTime5min){let $t=this._cache[et];$t?($t.overdueTime=getFutureTime(mt),$t.value=at):$t=new CachedContent(at,getFutureTime(mt)),this._cache[et]=$t}getCache(et,at=!1){let mt=this._cache[et];if(!at&&(mt!=null&&mt.isValid()))return mt.value;delete this._cache[et]}},S$1=class extends SuiClient{async queryEventsByPage(et,at="all"){let mt=[],$t=!0,Ct=at==="all",Dt=Ct?null:at.cursor;do{let Ft=await this.queryEvents({query:et,cursor:Dt,limit:Ct?null:at.limit});Ft.data?(mt=[...mt,...Ft.data],$t=Ft.hasNextPage,Dt=Ft.nextCursor):$t=!1}while(Ct&&$t);return{data:mt,nextCursor:Dt,hasNextPage:$t}}async getOwnedObjectsByPage(et,at,mt="all"){let $t=[],Ct=!0,Dt=mt==="all",Ft=Dt?null:mt.cursor;do{let Nt=await this.getOwnedObjects({owner:et,...at,cursor:Ft,limit:Dt?null:mt.limit});Nt.data?($t=[...$t,...Nt.data],Ct=Nt.hasNextPage,Ft=Nt.nextCursor):Ct=!1}while(Dt&&Ct);return{data:$t,nextCursor:Ft,hasNextPage:Ct}}async getDynamicFieldsByPage(et,at="all"){let mt=[],$t=!0,Ct=at==="all",Dt=Ct?null:at.cursor;do{let Ft=await this.getDynamicFields({parentId:et,cursor:Dt,limit:Ct?null:at.limit});Ft.data?(mt=[...mt,...Ft.data],$t=Ft.hasNextPage,Dt=Ft.nextCursor):$t=!1}while(Ct&&$t);return{data:mt,nextCursor:Dt,hasNextPage:$t}}async batchGetObjects(et,at,mt=50){let $t=[];try{for(let Ct=0;Ct<Math.ceil(et.length/mt);Ct++){let Dt=await this.multiGetObjects({ids:et.slice(Ct*mt,mt*(Ct+1)),options:at});$t=[...$t,...Dt]}}catch(Ct){console.log(Ct)}return $t}async calculationTxGas(et){let{sender:at}=et.blockData;if(at===void 0)throw Error("sdk sender is empty");let mt=await this.devInspectTransactionBlock({transactionBlock:et,sender:at}),{gasUsed:$t}=mt.effects;return Number($t.computationCost)+Number($t.storageCost)-Number($t.storageRebate)}async sendTransaction(et,at){try{return await this.signAndExecuteTransaction({transaction:at,signer:et,options:{showEffects:!0,showEvents:!0}})}catch(mt){console.log("error: ",mt)}}async sendSimulationTransaction(et,at,mt=!0){try{if(mt)return await this.devInspectTransactionBlock({transactionBlock:et,sender:at})}catch($t){console.log("devInspectTransactionBlock error",$t)}}},j=class{constructor(nt){xa(this,"_cache",{});xa(this,"_rpcModule");xa(this,"_xcetusModule");xa(this,"_sdkOptions");xa(this,"_senderAddress","");this._sdkOptions=nt,this._rpcModule=new S$1({url:nt.fullRpcUrl}),this._xcetusModule=new w$1(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(nt){this._senderAddress=nt}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get XCetusModule(){return this._xcetusModule}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(nt,et,at=!0){let mt=[],$t=null,Ct=`${this.sdkOptions.fullRpcUrl}_${nt}_${et}_getOwnerCoinAssets`,Dt=this.getCache(Ct,at);if(Dt)return Dt;for(;;){let Ft=await(et?this.fullClient.getCoins({owner:nt,coinType:et,cursor:$t}):this.fullClient.getAllCoins({owner:nt,cursor:$t}));if(Ft.data.forEach(Nt=>{BigInt(Nt.balance)>0&&mt.push({coinAddress:extractStructTagFromType$1(Nt.coinType).source_address,coinObjectId:Nt.coinObjectId,balance:BigInt(Nt.balance)})}),$t=Ft.nextCursor,!Ft.hasNextPage)break}return this.updateCache(Ct,mt,30*1e3),mt}async getOwnerCoinBalances(nt,et){let at=[];return et?at=[await this.fullClient.getBalance({owner:nt,coinType:et})]:at=[...await this.fullClient.getAllBalances({owner:nt})],at}updateCache(nt,et,at=cacheTime24h){let mt=this._cache[nt];mt?(mt.overdueTime=getFutureTime(at),mt.value=et):mt=new CachedContent(et,getFutureTime(at)),this._cache[nt]=mt}getCache(nt,et=!1){let at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},xt$1=j,re;(function(nt){nt[nt.EQUAL=0]="EQUAL",nt[nt.GREATER=1]="GREATER",nt[nt.LESS=-1]="LESS"})(re||(re={}));var Gt=function(){function nt(et){this.compare=et||nt.defaultCompareFunction}return nt.defaultCompareFunction=function(et,at){return et===at?re.EQUAL:et<at?re.LESS:re.GREATER},nt.prototype.equal=function(et,at){return this.compare(et,at)===re.EQUAL},nt.prototype.lessThan=function(et,at){return this.compare(et,at)===re.LESS},nt.prototype.greaterThan=function(et,at){return this.compare(et,at)===re.GREATER},nt.prototype.lessThanOrEqual=function(et,at){return this.lessThan(et,at)||this.equal(et,at)},nt.prototype.greaterThanOrEqual=function(et,at){return this.greaterThan(et,at)||this.equal(et,at)},nt.prototype.reverse=function(){var et=this.compare;this.compare=function(at,mt){return et(mt,at)}},nt}(),ot=Gt,it=function(){function nt(et){this.value=et,this.next=null}return nt}(),rt=function(){function nt(et){this.value=et,this.next=null,this.prev=null}return nt}(),Le=function(nt,et){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,mt){at.__proto__=mt}||function(at,mt){for(var $t in mt)mt.hasOwnProperty($t)&&(at[$t]=mt[$t])},Le(nt,et)};function fe(nt,et){Le(nt,et);function at(){this.constructor=nt}nt.prototype=et===null?Object.create(et):(at.prototype=et.prototype,new at)}function he(nt,et){var at={label:0,sent:function(){if(Ct[0]&1)throw Ct[1];return Ct[1]},trys:[],ops:[]},mt,$t,Ct,Dt;return Dt={next:Ft(0),throw:Ft(1),return:Ft(2)},typeof Symbol=="function"&&(Dt[Symbol.iterator]=function(){return this}),Dt;function Ft(jt){return function(Lt){return Nt([jt,Lt])}}function Nt(jt){if(mt)throw new TypeError("Generator is already executing.");for(;at;)try{if(mt=1,$t&&(Ct=jt[0]&2?$t.return:jt[0]?$t.throw||((Ct=$t.return)&&Ct.call($t),0):$t.next)&&!(Ct=Ct.call($t,jt[1])).done)return Ct;switch($t=0,Ct&&(jt=[jt[0]&2,Ct.value]),jt[0]){case 0:case 1:Ct=jt;break;case 4:return at.label++,{value:jt[1],done:!1};case 5:at.label++,$t=jt[1],jt=[0];continue;case 7:jt=at.ops.pop(),at.trys.pop();continue;default:if(Ct=at.trys,!(Ct=Ct.length>0&&Ct[Ct.length-1])&&(jt[0]===6||jt[0]===2)){at=0;continue}if(jt[0]===3&&(!Ct||jt[1]>Ct[0]&&jt[1]<Ct[3])){at.label=jt[1];break}if(jt[0]===6&&at.label<Ct[1]){at.label=Ct[1],Ct=jt;break}if(Ct&&at.label<Ct[2]){at.label=Ct[2],at.ops.push(jt);break}Ct[2]&&at.ops.pop(),at.trys.pop();continue}jt=et.call(nt,at)}catch(Lt){jt=[6,Lt],$t=0}finally{mt=Ct=0}if(jt[0]&5)throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}}function Kt(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}function H(){for(var nt=[],et=0;et<arguments.length;et++)nt=nt.concat(Kt(arguments[et]));return nt}var Xt="obfuse error occur";function ke(nt,et){if(!nt)throw new Error("[linked-list] "+(et||Xt))}var Wt=-1,st=function(){function nt(){for(var et=this,at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];this._head=null,this._tail=null,this._length=0,this.compare=new ot,at.length>0&&at.forEach(function($t){et.append($t)})}return Object.defineProperty(nt.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"loopLength",{get:function(){var et=!1,at=1;if(!this._head)return 0;for(var mt=this._head,$t=this._head;$t.next&&$t.next.next;)if($t=$t.next.next,mt=mt.next,mt===$t){et=!0;break}if(et){for($t=$t.next;mt!==$t;)at++,$t=$t.next;return at}else return 0},enumerable:!0,configurable:!0}),nt.prototype.getNode=function(et){var at=this._length;ke(at>0&&et>=0&&et<at,"[linked-list] index "+et+" out of scope of list, which length is "+at);for(var mt=this._head,$t=0;$t<et;)mt=mt.next,$t++;return mt},nt.prototype.get=function(et){var at=this.getNode(et);return at?at.value:null},nt.prototype.find=function(et){var at=et.value,mt=et.callback;if(!this._head)return null;for(var $t=this._head;$t;){if(mt&&mt($t.value)||at!==void 0&&this.compare.equal($t.value,at))return $t;$t=$t.next}return null},nt.prototype.indexOf=function(et){if(!this._head)return Wt;for(var at=this._head,mt=-1;at.next;){if(mt++,this.compare.equal(at.value,et))return mt;at=at.next}return at===this._tail&&this.compare.equal(at.value,et)&&(mt+=1),mt},nt.prototype.first=function(et){ke(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var at=this.iterator(),mt=[],$t=Math.min(et,this.length),Ct=0;Ct<$t;Ct++){var Dt=at.next();mt.push(Dt.value)}return mt},nt.prototype.toArray=function(){return H(this)},nt.prototype.isEmpty=function(){return this._head===null},nt.prototype.iterator=function(){var et;return he(this,function(at){switch(at.label){case 0:et=this._head,at.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return at.sent(),et=et.next,[3,1];case 3:return[2]}})},nt.prototype[Symbol.iterator]=function(){return this.iterator()},nt}(),le=function(nt){fe(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];return nt.apply(this,H(at))||this}return et.prototype.append=function(at){var mt=new it(at);return this._tail?(this._tail.next=mt,this._tail=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.prepend=function(at){var mt=new it(at);return this._head?(mt.next=this._head,this._head=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.remove=function(at){var mt=this._head;if(mt){if(this.compare.equal(mt.value,at))return mt.next?(this._head=mt.next,mt.next=null):this._head=this._tail=null,this._length--,at;for(var $t=mt;;){if(this.compare.equal(mt.value,at))return mt.next?$t.next=mt.next:(this._tail=$t,this._tail.next=null),mt.next=null,this._length--,at;if(mt.next)$t=mt,mt=mt.next;else return}}},et.prototype.removeHead=function(){var at=this._head;if(at)return this._head.next?(this._head=at.next,at.next=null):(this._head=null,this._tail=null),this._length--,at.value},et.prototype.removeTail=function(){var at=this._tail;if(at){if(!this._head.next)this._head=null,this._tail=null;else{for(var mt=this._head;mt.next!==at;)mt=mt.next;mt.next=null,this._tail=mt}return this._length--,at.value}},et.prototype.reverse=function(){if(this._head){var at=this._head,mt=null,$t;for(this._tail=this._head;at!==null;)$t=at.next,at.next=mt,mt=at,at=$t;this._head=mt}},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,H([void 0],at)))},et}(st),Jt=function(nt){fe(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,H(at))||this;return $t.cyclization(),$t}return et.prototype.iterator=function(){var at;return he(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,at===this._head&&(at=null),[3,1];case 3:return[2]}})},et.prototype.circleIterator=function(){var at;return he(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,[3,1];case 3:return[2]}})},et.prototype[Symbol.iterator]=function(){return this.iterator()},et.prototype.mapToNormalListFn=function(at){for(var mt=[],$t=1;$t<arguments.length;$t++)mt[$t-1]=arguments[$t];this.breakCircle();var Ct=nt.prototype[at].apply(this,mt);return this.cyclization(),Ct},et.prototype.getNode=function(at){return this.mapToNormalListFn("getNode",at)},et.prototype.append=function(at){return this.mapToNormalListFn("append",at)},et.prototype.prepend=function(at){return this.mapToNormalListFn("prepend",at)},et.prototype.find=function(at){return this.mapToNormalListFn("find",at)},et.prototype.indexOf=function(at){return this.mapToNormalListFn("indexOf",at)},et.prototype.remove=function(at){return this.mapToNormalListFn("remove",at)},et.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},et.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},et.prototype.first=function(at){ke(at>=0,"[linked-list] param 'num' ("+at+") should not less than 0");for(var mt=this.circleIterator(),$t=[],Ct=0;Ct<at;Ct++){var Dt=mt.next();$t.push(Dt.value)}return $t},et.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},et.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},et}(le);(function(nt){fe(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,H(at))||this;return $t.cyclization(),$t}return et.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},et.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,H([void 0],at)))},et})(Jt);var zt=function(nt){fe(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];return nt.apply(this,H(at))||this}return et.prototype.append=function(at){var mt=new rt(at);return this._tail?(this._tail.next=mt,mt.prev=this._tail,this._tail=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.prepend=function(at){var mt=new rt(at);return this._head?(mt.next=this._head,this._head.prev=mt,this._head=mt):this._head=this._tail=mt,this._length++,!0},et.prototype.remove=function(at){var mt=this._head;if(mt){if(this.compare.equal(mt.value,at))return mt.next?(this._head=mt.next,this._head.prev=null,mt.next=mt.prev=null):this._head=this._tail=null,this._length--,at;for(;;){if(this.compare.equal(mt.value,at))return mt.next?(mt.prev.next=mt.next,mt.next.prev=mt.prev,mt.next=mt.prev=null):(mt.prev.next=null,this._tail=mt.prev,mt.next=mt.prev=null),this._length--,mt.value;if(mt.next)mt=mt.next;else return}}},et.prototype.removeHead=function(){var at=this._head;if(at)return this._head.next?(at.next.prev=null,this._head=at.next,at.next=null):(this._head=null,this._tail=null),this._length--,at.value},et.prototype.removeTail=function(){var at=this._tail;if(at)return this._head.next?(at.prev.next=null,this._tail=at.prev,at.next=at.prev=null):(this._head=null,this._tail=null),this._length--,at.value},et.prototype.reverse=function(){if(this._head){var at=this._head,mt=null,$t;for(this._tail=this._head;at!==null;)$t=at.next,at.next=mt,at.prev=$t,mt=at,at=$t;this._head=mt}},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,H([void 0],at)))},et}(st),Ht=function(nt){fe(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,H(at))||this;return $t.cyclization(),$t}return et.prototype.iterator=function(){var at;return he(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,at===this._head&&(at=null),[3,1];case 3:return[2]}})},et.prototype.circleIterator=function(){var at;return he(this,function(mt){switch(mt.label){case 0:at=this._head,mt.label=1;case 1:return at?[4,at.value]:[3,3];case 2:return mt.sent(),at=at.next,[3,1];case 3:return[2]}})},et.prototype[Symbol.iterator]=function(){return this.iterator()},et.prototype.mapToNormalListFn=function(at){for(var mt=[],$t=1;$t<arguments.length;$t++)mt[$t-1]=arguments[$t];this.breakCircle();var Ct=nt.prototype[at].apply(this,mt);return this.cyclization(),Ct},et.prototype.getNode=function(at){return this.mapToNormalListFn("getNode",at)},et.prototype.append=function(at){return this.mapToNormalListFn("append",at)},et.prototype.prepend=function(at){return this.mapToNormalListFn("prepend",at)},et.prototype.find=function(at){return this.mapToNormalListFn("find",at)},et.prototype.indexOf=function(at){return this.mapToNormalListFn("indexOf",at)},et.prototype.remove=function(at){return this.mapToNormalListFn("remove",at)},et.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},et.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},et.prototype.first=function(at){ke(at>=0,"[linked-list] param 'num' ("+at+") should not less than 0");for(var mt=this.circleIterator(),$t=[],Ct=0;Ct<at;Ct++){var Dt=mt.next();$t.push(Dt.value)}return $t},et.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},et.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},et}(zt);(function(nt){fe(et,nt);function et(){for(var at=[],mt=0;mt<arguments.length;mt++)at[mt]=arguments[mt];var $t=nt.apply(this,H(at))||this;return $t.cyclization(),$t}return et.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},et.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},et.prototype.clone=function(){var at=this.toArray();return new(et.bind.apply(et,H([void 0],at)))},et})(Ht);function Zt(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}function Qt(){for(var nt=[],et=0;et<arguments.length;et++)nt=nt.concat(Zt(arguments[et]));return nt}(function(){function nt(){for(var et=[],at=0;at<arguments.length;at++)et[at]=arguments[at];this.queue=new(le.bind.apply(le,Qt([void 0],et)))}return Object.defineProperty(nt.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),nt.prototype.isEmpty=function(){return this.queue.isEmpty()},nt.prototype.enqueue=function(et){return this.queue.append(et)},nt.prototype.dequeue=function(){var et=this.queue.removeHead();return typeof et<"u"?et:void 0},nt.prototype.toArray=function(){return this.queue.toArray()},nt})();function en(nt,et){var at=typeof Symbol=="function"&&nt[Symbol.iterator];if(!at)return nt;var mt=at.call(nt),$t,Ct=[],Dt;try{for(;(et===void 0||et-- >0)&&!($t=mt.next()).done;)Ct.push($t.value)}catch(Ft){Dt={error:Ft}}finally{try{$t&&!$t.done&&(at=mt.return)&&at.call(mt)}finally{if(Dt)throw Dt.error}}return Ct}function tn(){for(var nt=[],et=0;et<arguments.length;et++)nt=nt.concat(en(arguments[et]));return nt}(function(){function nt(){for(var et=[],at=0;at<arguments.length;at++)et[at]=arguments[at];this.stack=new(le.bind.apply(le,tn([void 0],et)))}return Object.defineProperty(nt.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),nt.prototype.isEmpty=function(){return this.stack.isEmpty()},nt.prototype.push=function(et){return this.stack.append(et)},nt.prototype.pop=function(){var et=this.stack.removeTail();return typeof et<"u"?et:void 0},nt.prototype.popBottom=function(){var et=this.stack.removeHead();return typeof et<"u"?et:void 0},nt.prototype.toArray=function(){return this.stack.toArray()},nt})();var cn=Object.defineProperty,un=(nt,et,at)=>et in nt?cn(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,ln=(nt,et,at)=>(un(nt,et+"",at),at),yt=5*60*1e3,ee=24*60*60*1e3;function oe(nt){return Date.parse(new Date().toString())+nt}var _e=class{constructor(nt,et=0){xa(this,"overdueTime");xa(this,"value");this.overdueTime=et,this.value=nt}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var V=Decimal$1,R=class extends Error{constructor(et,at){super(et);xa(this,"message");xa(this,"errorCode");this.message=et,this.errorCode=at}static isClmmpoolsErrorCode(et,at){return et instanceof R&&et.errorCode===at}},F=new BN(0),ge=new BN(1),Be=new BN(2);Be.pow(new BN(128));var Ke=Be.pow(new BN(64)).sub(ge),fn=Be.pow(new BN(128)).sub(ge),Y=class{static toX64_BN(nt){return nt.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(nt){return nt.mul(V.pow(2,64))}static toX64(nt){return new BN(nt.mul(V.pow(2,64)).floor().toFixed())}static fromX64(nt){return new V(nt.toString()).mul(V.pow(2,-64))}static fromX64_Decimal(nt){return nt.mul(V.pow(2,-64))}static fromX64_BN(nt){return nt.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(nt){let et=nt.shrn(64);return nt.mod(Ke).gt(F)&&(et=et.add(ge)),et}static divRoundUp(nt,et){return nt.mod(et).eq(F)?nt.div(et):nt.div(et).add(new BN(1))}static subUnderflowU128(nt,et){return nt.lt(et)?nt.sub(et).add(fn):nt.sub(et)}static checkUnsignedSub(nt,et){let at=nt.sub(et);if(at.isNeg())throw new R("Unsigned integer sub overflow","UnsignedIntegerOverflow");return at}static checkMul(nt,et,at){let mt=nt.mul(et);if(this.isOverflow(mt,at))throw new R("Multiplication overflow","MultiplicationOverflow");return mt}static checkMulDivFloor(nt,et,at,mt){if(at.eq(F))throw new R("Devide by zero","DivideByZero");let $t=nt.mul(et).div(at);if(this.isOverflow($t,mt))throw new R("Multiplication div overflow","MulDivOverflow");return $t}static checkMulDivCeil(nt,et,at,mt){if(at.eq(F))throw new R("Devide by zero","DivideByZero");let $t=nt.mul(et).add(at.sub(ge)).div(at);if(this.isOverflow($t,mt))throw new R("Multiplication div overflow","MulDivOverflow");return $t}static checkMulDivRound(nt,et,at,mt){if(at.eq(F))throw new R("Devide by zero","DivideByZero");let $t=nt.mul(et.add(at.shrn(1))).div(at);if(this.isOverflow($t,mt))throw new R("Multiplication div overflow","MulDivOverflow");return $t}static checkMulShiftRight(nt,et,at,mt){let $t=nt.mul(et).div(new BN(2).pow(new BN(at)));if(this.isOverflow($t,mt))throw new R("Multiplication shift right overflow","MulShiftRightOverflow");return $t}static checkMulShiftRight64RoundUpIf(nt,et,at,mt){let $t=nt.mul(et),Ct=mt&&$t.and(Ke).gt(F)?$t.shrn(64).add(ge):$t.shrn(64);if(this.isOverflow(Ct,at))throw new R("Multiplication shift right overflow","MulShiftRightOverflow");return Ct}static checkMulShiftLeft(nt,et,at,mt){let $t=nt.mul(et).shln(at);if(this.isOverflow($t,mt))throw new R("Multiplication shift left overflow","MulShiftLeftOverflow");return $t}static checkDivRoundUpIf(nt,et,at){if(et.eq(F))throw new R("Devide by zero","DivideByZero");return at?this.divRoundUp(nt,et):nt.div(et)}static isOverflow(nt,et){return nt.gte(Be.pow(new BN(et)))}static sign(nt){return nt.testn(127)?1:0}static is_neg(nt){return this.sign(nt)===1}static abs_u128(nt){return nt.gt(F)?nt:this.u128_neg(nt.subn(1))}static u128_neg(nt){return nt.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(nt){return this.is_neg(nt)?nt.abs():this.neg_from(nt)}static abs(nt){return this.sign(nt)===0?nt:this.u128_neg(nt.sub(new BN(1)))}static neg_from(nt){return nt.eq(F)?nt:this.u128_neg(nt).add(new BN(1)).or(new BN(1).shln(127))}},At="79226673515401279992447579055",vt="4295048016",lt=new BN(1e6),G="0x0000000000000000000000000000000000000000000000000000000000000006",dt="pool_script_v2",Pe="router",$e="router_with_partner",ft="utils",Ve="custodian_v2",mn="clob_v2",_n="endpoints_v2";function q(nt){if(nt.config===void 0)throw new R(`package: ${nt.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return nt.config}var hn=14,gn="59543866431248",bn="184467440737095516",wn="15793534762490258745";function yn(nt,et,at){let mt=nt.toTwos(at).shln(et);return mt.imaskn(at+1),mt.fromTwos(at)}function S(nt,et,at){let mt=nt.toTwos(at).shrn(et);return mt.imaskn(at-et+1),mt.fromTwos(at-et)}function An(nt){let et;return nt&1?et=new BN("79232123823359799118286999567"):et=new BN("79228162514264337593543950336"),nt&2&&(et=S(et.mul(new BN("79236085330515764027303304731")),96,256)),nt&4&&(et=S(et.mul(new BN("79244008939048815603706035061")),96,256)),nt&8&&(et=S(et.mul(new BN("79259858533276714757314932305")),96,256)),nt&16&&(et=S(et.mul(new BN("79291567232598584799939703904")),96,256)),nt&32&&(et=S(et.mul(new BN("79355022692464371645785046466")),96,256)),nt&64&&(et=S(et.mul(new BN("79482085999252804386437311141")),96,256)),nt&128&&(et=S(et.mul(new BN("79736823300114093921829183326")),96,256)),nt&256&&(et=S(et.mul(new BN("80248749790819932309965073892")),96,256)),nt&512&&(et=S(et.mul(new BN("81282483887344747381513967011")),96,256)),nt&1024&&(et=S(et.mul(new BN("83390072131320151908154831281")),96,256)),nt&2048&&(et=S(et.mul(new BN("87770609709833776024991924138")),96,256)),nt&4096&&(et=S(et.mul(new BN("97234110755111693312479820773")),96,256)),nt&8192&&(et=S(et.mul(new BN("119332217159966728226237229890")),96,256)),nt&16384&&(et=S(et.mul(new BN("179736315981702064433883588727")),96,256)),nt&32768&&(et=S(et.mul(new BN("407748233172238350107850275304")),96,256)),nt&65536&&(et=S(et.mul(new BN("2098478828474011932436660412517")),96,256)),nt&131072&&(et=S(et.mul(new BN("55581415166113811149459800483533")),96,256)),nt&262144&&(et=S(et.mul(new BN("38992368544603139932233054999993551")),96,256)),S(et,32,256)}function vn(nt){let et=Math.abs(nt),at;return et&1?at=new BN("18445821805675392311"):at=new BN("18446744073709551616"),et&2&&(at=S(at.mul(new BN("18444899583751176498")),64,256)),et&4&&(at=S(at.mul(new BN("18443055278223354162")),64,256)),et&8&&(at=S(at.mul(new BN("18439367220385604838")),64,256)),et&16&&(at=S(at.mul(new BN("18431993317065449817")),64,256)),et&32&&(at=S(at.mul(new BN("18417254355718160513")),64,256)),et&64&&(at=S(at.mul(new BN("18387811781193591352")),64,256)),et&128&&(at=S(at.mul(new BN("18329067761203520168")),64,256)),et&256&&(at=S(at.mul(new BN("18212142134806087854")),64,256)),et&512&&(at=S(at.mul(new BN("17980523815641551639")),64,256)),et&1024&&(at=S(at.mul(new BN("17526086738831147013")),64,256)),et&2048&&(at=S(at.mul(new BN("16651378430235024244")),64,256)),et&4096&&(at=S(at.mul(new BN("15030750278693429944")),64,256)),et&8192&&(at=S(at.mul(new BN("12247334978882834399")),64,256)),et&16384&&(at=S(at.mul(new BN("8131365268884726200")),64,256)),et&32768&&(at=S(at.mul(new BN("3584323654723342297")),64,256)),et&65536&&(at=S(at.mul(new BN("696457651847595233")),64,256)),et&131072&&(at=S(at.mul(new BN("26294789957452057")),64,256)),et&262144&&(at=S(at.mul(new BN("37481735321082")),64,256)),at}var x=class{static priceToSqrtPriceX64(nt,et,at){return Y.toX64(nt.mul(V.pow(10,at-et)).sqrt())}static sqrtPriceX64ToPrice(nt,et,at){return Y.fromX64(nt).pow(2).mul(V.pow(10,et-at))}static tickIndexToSqrtPriceX64(nt){return nt>0?new BN(An(nt)):new BN(vn(nt))}static sqrtPriceX64ToTickIndex(nt){if(nt.gt(new BN(At))||nt.lt(new BN(vt)))throw new R("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");let et=nt.bitLength()-1,at=new BN(et-64),mt=yn(at,32,128),$t=new BN("8000000000000000","hex"),Ct=0,Dt=new BN(0),Ft=et>=64?nt.shrn(et-63):nt.shln(63-et);for(;$t.gt(new BN(0))&&Ct<hn;){Ft=Ft.mul(Ft);let er=Ft.shrn(127);Ft=Ft.shrn(63+er.toNumber()),Dt=Dt.add($t.mul(er)),$t=$t.shrn(1),Ct+=1}let Nt=Dt.shrn(32),jt=mt.add(Nt).mul(new BN(gn)),Lt=S(jt.sub(new BN(bn)),64,128).toNumber(),Vt=S(jt.add(new BN(wn)),64,128).toNumber();return Lt===Vt?Lt:x.tickIndexToSqrtPriceX64(Vt).lte(nt)?Vt:Lt}static tickIndexToPrice(nt,et,at){return x.sqrtPriceX64ToPrice(x.tickIndexToSqrtPriceX64(nt),et,at)}static priceToTickIndex(nt,et,at){return x.sqrtPriceX64ToTickIndex(x.priceToSqrtPriceX64(nt,et,at))}static priceToInitializableTickIndex(nt,et,at,mt){return x.getInitializableTickIndex(x.priceToTickIndex(nt,et,at),mt)}static getInitializableTickIndex(nt,et){return nt-nt%et}static getNextInitializableTickIndex(nt,et){return x.getInitializableTickIndex(nt,et)+et}static getPrevInitializableTickIndex(nt,et){return x.getInitializableTickIndex(nt,et)-et}};new BN(365);new BN(24);new BN(3600);new BN(.5);var ne=class{static getDefaultSqrtPriceLimit(nt){return new BN(nt?vt:At)}static getDefaultOtherAmountThreshold(nt){return nt?F:Ke}};function Ie(nt,et,at){let mt=BN.min(nt,et),$t=BN.max(nt,et),Ct=Y.fromX64_BN(at.mul($t).mul(mt)),Dt=$t.sub(mt);return!Ct.isZero()&&!Dt.isZero()?Ct.div(Dt):new BN(0)}function xe(nt,et,at){let mt=BN.min(nt,et),$t=BN.max(nt,et).sub(mt);return $t.isZero()?new BN(0):at.shln(64).div($t)}var M$1=class{static updateFeeRate(et,at,mt,$t,Ct){let Dt=Y.checkMulDivCeil(at,new BN($t),lt,64),Ft=mt===0?F:Y.checkMulDivFloor(at,new BN(mt),lt,64),Nt=at.mul(Dt).mul(Ft);if(Ct?et.feeProtocolCoinA=et.feeProtocolCoinA.add(Dt):et.feeProtocolCoinB=et.feeProtocolCoinB.add(Dt),Nt.eq(F)||et.liquidity.eq(F))return{refFee:Ft,clmm:et};let jt=Nt.shln(64).div(et.liquidity);return Ct?et.feeGrowthGlobalA=et.feeGrowthGlobalA.add(jt):et.feeGrowthGlobalB=et.feeGrowthGlobalB.add(jt),{refFee:Ft,clmm:et}}static getCoinAmountFromLiquidity(et,at,mt,$t,Ct){let Dt=new V(et.toString()),Ft=new V(at.toString()),Nt=new V(mt.toString()),jt=new V($t.toString()),Lt,Vt;return at.lt(mt)?(Lt=Y.toX64_Decimal(Dt).mul(jt.sub(Nt)).div(Nt.mul(jt)),Vt=new V(0)):at.lt($t)?(Lt=Y.toX64_Decimal(Dt).mul(jt.sub(Ft)).div(Ft.mul(jt)),Vt=Y.fromX64_Decimal(Dt.mul(Ft.sub(Nt)))):(Lt=new V(0),Vt=Y.fromX64_Decimal(Dt.mul(jt.sub(Nt)))),Ct?{coinA:new BN(Lt.ceil().toString()),coinB:new BN(Vt.ceil().toString())}:{coinA:new BN(Lt.floor().toString()),coinB:new BN(Vt.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(et,at,mt,$t,Ct,Dt,Ft){let Nt=x.sqrtPriceX64ToTickIndex(Ft),jt=x.tickIndexToSqrtPriceX64(et),Lt=x.tickIndexToSqrtPriceX64(at),Vt;if(Nt<et){if(!$t)throw new R("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");Vt=Ie(jt,Lt,mt)}else if(Nt>at){if($t)throw new R("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");Vt=xe(Lt,jt,mt)}else $t?Vt=Ie(Ft,Lt,mt):Vt=xe(Ft,jt,mt);let er=M$1.getCoinAmountFromLiquidity(Vt,Ft,jt,Lt,Ct),ir=Ct?w(er.coinA.toString()).mul(1+Dt).toString():w(er.coinA.toString()).mul(1-Dt).toString(),or=Ct?w(er.coinB.toString()).mul(1+Dt).toString():w(er.coinB.toString()).mul(1-Dt).toString();return{coinAmountA:er.coinA,coinAmountB:er.coinB,tokenMaxA:Ct?new BN(V.ceil(ir).toString()):new BN(V.floor(ir).toString()),tokenMaxB:Ct?new BN(V.ceil(or).toString()):new BN(V.floor(or).toString()),liquidityAmount:Vt,fix_amount_a:$t}}static estimateLiquidityFromcoinAmounts(et,at,mt,$t){if(at>mt)throw new R("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");let Ct=x.sqrtPriceX64ToTickIndex(et),Dt=x.tickIndexToSqrtPriceX64(at),Ft=x.tickIndexToSqrtPriceX64(mt);if(Ct<at)return Ie(Dt,Ft,$t.coinA);if(Ct>=mt)return xe(Ft,Dt,$t.coinB);let Nt=Ie(et,Ft,$t.coinA),jt=xe(et,Dt,$t.coinB);return BN.min(Nt,jt)}static estCoinAmountsFromTotalAmount(et,at,mt,$t,Ct,Dt){let{ratioA:Ft,ratioB:Nt}=M$1.calculateDepositRatioFixTokenA(et,at,mt),jt=w($t).mul(Ft).div(Ct),Lt=w($t).mul(Nt).div(Dt);return{amountA:jt,amountB:Lt}}static calculateDepositRatioFixTokenA(et,at,mt){let $t=new BN(1e8),{coinAmountB:Ct}=M$1.estLiquidityAndcoinAmountFromOneAmounts(et,at,$t,!0,!0,0,mt),Dt=x.sqrtPriceX64ToPrice(mt,0,0),Ft=w($t.toString()).mul(Dt),Nt=Ft.add(Ct.toString()),jt=Ft.div(Nt),Lt=w(Ct.toString()).div(Nt);return{ratioA:jt,ratioB:Lt}}};function pt(nt,...et){let at=Array.isArray(et[et.length-1])?et.pop():[],mt=[nt,...et].filter(Boolean).join("::");return at&&at.length&&(mt+=`<${at.join(", ")}>`),mt}function P(nt){var et,at;try{let mt=nt.replace(/\s/g,""),$t=(at=(et=mt.match(/(<.+>)$/))==null?void 0:et[0])==null?void 0:at.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if($t){mt=mt.slice(0,mt.indexOf("<"));let Ft={...P(mt),type_arguments:$t.map(Nt=>P(Nt).source_address)};return Ft.type_arguments=Ft.type_arguments.map(Nt=>I.isSuiCoin(Nt)?Nt:P(Nt).source_address),Ft.source_address=pt(Ft.full_address,Ft.type_arguments),Ft}let Ct=mt.split("::"),Dt={full_address:mt,address:mt===we||mt===Pn?"0x2":normalizeSuiObjectId(Ct[0]),module:Ct[1],name:Ct[2],type_arguments:[],source_address:""};return Dt.full_address=`${Dt.address}::${Dt.module}::${Dt.name}`,Dt.source_address=pt(Dt.full_address,Dt.type_arguments),Dt}catch{return{full_address:nt,address:"",module:"",name:"",type_arguments:[],source_address:nt}}}function be(nt){return P(nt).source_address}function Tn(nt){return nt.toLowerCase().startsWith("0x")?normalizeSuiObjectId(nt):nt}function Xe(nt){for(let et in nt){let at=typeof nt[et];if(at==="object")Xe(nt[et]);else if(at==="string"){let mt=nt[et];mt&&!mt.includes("::")&&(nt[et]=Tn(mt))}}}var kn="0x2::coin::Coin",Sn=/^0x2::coin::Coin<(.+)>$/,we="0x2::sui::SUI",Pn="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",I=class{static getCoinTypeArg(nt){let et=nt.type.match(Sn);return et?et[1]:null}static isSUI(nt){let et=I.getCoinTypeArg(nt);return et?I.getCoinSymbol(et)==="SUI":!1}static getCoinSymbol(nt){return nt.substring(nt.lastIndexOf(":")+1)}static getBalance(nt){return BigInt(nt.fields.balance)}static totalBalance(nt,et){let at=BigInt(0);return nt.forEach(mt=>{et===mt.coinAddress&&(at+=BigInt(mt.balance))}),at}static getID(nt){return nt.fields.id.id}static getCoinTypeFromArg(nt){return`${kn}<${nt}>`}static getFaucetCoins(nt){let{events:et}=nt,at=[];return et==null||et.forEach(mt=>{let{type:$t}=mt;if(P($t).name==="InitEvent"){let Ct=mt.parsedJson;at.push({transactionModule:mt.transactionModule,suplyID:Ct.suplyID,decimals:Ct.decimals})}}),at}static getCoinAssets(nt,et){let at=[];return et.forEach(mt=>{be(mt.coinAddress)===be(nt)&&at.push(mt)}),at}static isSuiCoin(nt){return P(nt).full_address===we}static selectCoinObjectIdGreaterThanOrEqual(nt,et,at=[]){let mt=I.selectCoinAssetGreaterThanOrEqual(nt,et,at),$t=mt.selectedCoins.map(Ft=>Ft.coinObjectId),Ct=mt.remainingCoins,Dt=mt.selectedCoins.map(Ft=>Ft.balance.toString());return{objectArray:$t,remainCoins:Ct,amountArray:Dt}}static selectCoinAssetGreaterThanOrEqual(nt,et,at=[]){let mt=I.sortByBalance(nt.filter(Nt=>!at.includes(Nt.coinObjectId))),$t=I.calculateTotalBalance(mt);if($t<et)return{selectedCoins:[],remainingCoins:mt};if($t===et)return{selectedCoins:mt,remainingCoins:[]};let Ct=BigInt(0),Dt=[],Ft=[...mt];for(;Ct<$t;){let Nt=et-Ct,jt=Ft.findIndex(Vt=>Vt.balance>=Nt);if(jt!==-1){Dt.push(Ft[jt]),Ft.splice(jt,1);break}let Lt=Ft.pop();Lt.balance>0&&(Dt.push(Lt),Ct+=Lt.balance)}return{selectedCoins:I.sortByBalance(Dt),remainingCoins:I.sortByBalance(Ft)}}static sortByBalance(nt){return nt.sort((et,at)=>et.balance<at.balance?-1:et.balance>at.balance?1:0)}static sortByBalanceDes(nt){return nt.sort((et,at)=>et.balance>at.balance?-1:et.balance<at.balance?0:1)}static calculateTotalBalance(nt){return nt.reduce((et,at)=>et+at.balance,BigInt(0))}};function In(nt,{numerator:et,denominator:at},mt){return mt?nt.mul(at.add(et)).div(at):nt.mul(at).div(at.add(et))}function w(nt){return Decimal$1.isDecimal(nt)?nt:new Decimal$1(nt===void 0?0:nt)}function Tt(nt){return nt.data}function xn(nt){if(nt.error&&"object_id"in nt.error&&"version"in nt.error&&"digest"in nt.error){let{error:et}=nt;return{objectId:et.object_id,version:et.version,digest:et.digest}}}function On(nt){if(nt.error&&"object_id"in nt.error&&!("version"in nt.error)&&!("digest"in nt.error))return nt.error.object_id}function Bn(nt){if("reference"in nt)return nt.reference;let et=Tt(nt);return et?{objectId:et.objectId,version:et.version,digest:et.digest}:xn(nt)}function _t(nt){var et;return"objectId"in nt?nt.objectId:((et=Bn(nt))==null?void 0:et.objectId)??On(nt)}function Rn(nt){return nt.data!==void 0}function qn(nt){return nt.content!==void 0}function kt(nt){let et="data"in nt?Tt(nt):nt;if(!(!et||!qn(et)||et.content.dataType!=="moveObject"))return et.content}function St(nt){var et;return(et=kt(nt))==null?void 0:et.type}function Pt(nt){var at;let et=Rn(nt)?nt.data:nt;return!(et!=null&&et.type)&&"data"in nt?((at=et==null?void 0:et.content)==null?void 0:at.dataType)==="package"?"package":St(nt):et==null?void 0:et.type}function se(nt){var at;let et=(at=kt(nt))==null?void 0:at.fields;if(et)return"fields"in et?et.fields:et}function ht(nt,et=32){return BigInt.asUintN(et,BigInt(nt)).toString()}function ie(nt,et=32){return Number(BigInt.asIntN(et,BigInt(nt)))}function jn(nt,et,at){let mt=P(nt).name,$t=P(et).name;return`${mt}-${$t}[${at}]`}function We(nt){let et=St(nt),at=P(et),mt=se(nt);if(mt==null)throw new R(`Pool id ${_t(nt)} not exists.`,"InvalidPoolObject");let $t=[];mt.rewarder_manager.fields.rewarders.forEach(Dt=>{let{emissions_per_second:Ft}=Dt.fields,Nt=Y.fromX64(new BN(Ft)),jt=Math.floor(Nt.toNumber()*60*60*24);$t.push({emissions_per_second:Ft,coinAddress:P(Dt.fields.reward_coin.fields.name).source_address,growth_global:Dt.fields.growth_global,emissionsEveryDay:jt})});let Ct={poolAddress:_t(nt),poolType:et,coinTypeA:at.type_arguments[0],coinTypeB:at.type_arguments[1],coinAmountA:mt.coin_a,coinAmountB:mt.coin_b,current_sqrt_price:mt.current_sqrt_price,current_tick_index:ie(BigInt(mt.current_tick_index.fields.bits)),fee_growth_global_a:mt.fee_growth_global_a,fee_growth_global_b:mt.fee_growth_global_b,fee_protocol_coin_a:mt.fee_protocol_coin_a,fee_protocol_coin_b:mt.fee_protocol_coin_b,fee_rate:mt.fee_rate,is_pause:mt.is_pause,liquidity:mt.liquidity,position_manager:{positions_handle:mt.position_manager.fields.positions.fields.id.id,size:mt.position_manager.fields.positions.fields.size},rewarder_infos:$t,rewarder_last_updated_time:mt.rewarder_manager.fields.last_updated_time,tickSpacing:mt.tick_spacing,ticks_handle:mt.tick_manager.fields.ticks.fields.id.id,uri:mt.url,index:Number(mt.index),name:""};return Ct.name=jn(Ct.coinTypeA,Ct.coinTypeB,Ct.tickSpacing),Ct}function Fn(nt){let et=I.isSuiCoin(nt.coinTypeA),at=I.isSuiCoin(nt.coinTypeB);return{isAdjustCoinA:et,isAdjustCoinB:at}}function En(nt,et){return Decimal$1.ceil(w(nt).div(1+et)).toString()}var v=class{static createCollectRewarderAndFeeParams(nt,et,at,mt,$t,Ct){$t===void 0&&($t=[...mt]),Ct===void 0&&(Ct=[...mt]);let Dt=be(at.coinTypeA),Ft=be(at.coinTypeB);if(at.collect_fee){let jt=v.buildCoinForAmount(et,$t,BigInt(0),Dt,!1);$t=jt.remainCoins;let Lt=v.buildCoinForAmount(et,Ct,BigInt(0),Ft,!1);Ct=Lt.remainCoins,et=nt.Position.createCollectFeePaylod({pool_id:at.pool_id,pos_id:at.pos_id,coinTypeA:at.coinTypeA,coinTypeB:at.coinTypeB},et,jt.targetCoin,Lt.targetCoin)}let Nt=[];return at.rewarder_coin_types.forEach(jt=>{switch(be(jt)){case Dt:Nt.push(v.buildCoinForAmount(et,$t,BigInt(0),jt,!1).targetCoin);break;case Ft:Nt.push(v.buildCoinForAmount(et,Ct,BigInt(0),jt,!1).targetCoin);break;default:Nt.push(v.buildCoinForAmount(et,mt,BigInt(0),jt,!1).targetCoin);break}}),et=nt.Rewarder.createCollectRewarderPaylod(at,et,Nt),et}static async adjustTransactionForGas(nt,et,at,mt){mt.setSender(nt.senderAddress);let $t=I.selectCoinAssetGreaterThanOrEqual(et,at).selectedCoins;if($t.length===0)throw new R("Insufficient balance","InsufficientBalance");let Ct=I.calculateTotalBalance(et);if(Ct-at>1e9)return{fixAmount:at};let Dt=await nt.fullClient.calculationTxGas(mt);if(I.selectCoinAssetGreaterThanOrEqual(et,BigInt(Dt),$t.map(Ft=>Ft.coinObjectId)).selectedCoins.length===0){let Ft=BigInt(Dt)+BigInt(500);if(Ct-at<Ft){if(at-=Ft,at<0)throw new R("gas Insufficient balance","InsufficientBalance");let Nt=new Transaction;return{fixAmount:at,newTx:Nt}}}return{fixAmount:at}}static async buildAddLiquidityFixTokenForGas(nt,et,at,mt,$t,Ct,Dt){$t=await v.buildAddLiquidityFixToken(nt,et,at,$t,Ct,Dt);let{isAdjustCoinA:Ft}=Fn(at),Nt=Ft?at.amount_a:at.amount_b,jt=await v.adjustTransactionForGas(nt,I.getCoinAssets(Ft?at.coinTypeA:at.coinTypeB,et),BigInt(Nt),$t),{fixAmount:Lt}=jt,{newTx:Vt}=jt;if(Vt!=null){let er,ir;if(Ft)at.amount_a=Number(Lt),er=v.buildAddLiquidityFixTokenCoinInput(Vt,!at.fix_amount_a,Lt.toString(),at.slippage,at.coinTypeA,et,!1,!0),ir=v.buildAddLiquidityFixTokenCoinInput(Vt,at.fix_amount_a,at.amount_b,at.slippage,at.coinTypeB,et,!1,!0);else return at.amount_b=Number(Lt),er=v.buildAddLiquidityFixTokenCoinInput(Vt,!at.fix_amount_a,at.amount_a,at.slippage,at.coinTypeA,et,!1,!0),ir=v.buildAddLiquidityFixTokenCoinInput(Vt,at.fix_amount_a,Lt.toString(),at.slippage,at.coinTypeB,et,!1,!0),at=v.fixAddLiquidityFixTokenParams(at,mt.slippage,mt.curSqrtPrice),$t=await v.buildAddLiquidityFixTokenArgs(Vt,nt,et,at,er,ir),$t}return $t}static async buildAddLiquidityFixToken(nt,et,at,mt,$t,Ct){if(nt.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");mt=mt||new Transaction;let Dt,Ft;return $t==null||Ct==null?(Dt=v.buildAddLiquidityFixTokenCoinInput(mt,!at.fix_amount_a,at.amount_a,at.slippage,at.coinTypeA,et,!1,!0),Ft=v.buildAddLiquidityFixTokenCoinInput(mt,at.fix_amount_a,at.amount_b,at.slippage,at.coinTypeB,et,!1,!0)):(Dt={targetCoin:$t,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},Ft={targetCoin:Ct,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),mt=v.buildAddLiquidityFixTokenArgs(mt,nt,et,at,Dt,Ft),mt}static buildAddLiquidityFixTokenCoinInput(nt,et,at,mt,$t,Ct,Dt=!0,Ft=!0){return et?v.buildCoinForAmountInterval(nt,Ct,{amountSecond:BigInt(En(at,mt)),amountFirst:BigInt(at)},$t,Dt,Ft):v.buildCoinForAmount(nt,Ct,BigInt(at),$t,Dt,Ft)}static fixAddLiquidityFixTokenParams(nt,et,at){let mt=nt.fix_amount_a?nt.amount_a:nt.amount_b,$t=M$1.estLiquidityAndcoinAmountFromOneAmounts(Number(nt.tick_lower),Number(nt.tick_upper),new BN(mt),nt.fix_amount_a,!0,et,at);return nt.amount_a=nt.fix_amount_a?nt.amount_a:$t.tokenMaxA.toNumber(),nt.amount_b=nt.fix_amount_a?$t.tokenMaxB.toNumber():nt.amount_b,nt}static buildAddLiquidityFixTokenArgs(nt,et,at,mt,$t,Ct){let Dt=[mt.coinTypeA,mt.coinTypeB],Ft=mt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:Nt,integrate:jt}=et.sdkOptions;mt.is_open||(nt=v.createCollectRewarderAndFeeParams(et,nt,mt,at,$t.remainCoins,Ct.remainCoins));let Lt=q(Nt),Vt=mt.is_open?[nt.object(Lt.global_config_id),nt.object(mt.pool_id),nt.pure.u32(Number(ht(BigInt(mt.tick_lower)).toString())),nt.pure.u32(Number(ht(BigInt(mt.tick_upper)).toString())),$t.targetCoin,Ct.targetCoin,nt.pure.u64(mt.amount_a),nt.pure.u64(mt.amount_b),nt.pure.bool(mt.fix_amount_a),nt.object(G)]:[nt.object(Lt.global_config_id),nt.object(mt.pool_id),nt.object(mt.pos_id),$t.targetCoin,Ct.targetCoin,nt.pure.u64(mt.amount_a),nt.pure.u64(mt.amount_b),nt.pure.bool(mt.fix_amount_a),nt.object(G)];return nt.moveCall({target:`${jt.published_at}::${dt}::${Ft}`,typeArguments:Dt,arguments:Vt}),nt}static async buildSwapTransactionForGas(nt,et,at,mt){let $t=v.buildSwapTransaction(nt,et,at);$t.setSender(nt.senderAddress);let Ct=await v.adjustTransactionForGas(nt,I.getCoinAssets(et.a2b?et.coinTypeA:et.coinTypeB,at),BigInt(et.by_amount_in?et.amount:et.amount_limit),$t),{fixAmount:Dt,newTx:Ft}=Ct;if(Ft!==void 0){Ft.setSender(nt.senderAddress),et.by_amount_in?et.amount=Dt.toString():et.amount_limit=Dt.toString(),et=await v.fixSwapParams(nt,et,mt);let Nt=v.buildCoinForAmount($t,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA),jt=v.buildCoinForAmount($t,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB);$t=v.buildSwapTransactionArgs(Ft,et,nt.sdkOptions,Nt,jt)}return $t}static buildSwapTransaction(nt,et,at){let mt=new Transaction;mt.setSender(nt.senderAddress);let $t=v.buildCoinForAmount(mt,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA,!1),Ct=v.buildCoinForAmount(mt,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB,!1);return mt=v.buildSwapTransactionArgs(mt,et,nt.sdkOptions,$t,Ct),mt}static buildSwapTransactionArgs(nt,et,at,mt,$t){let{clmm_pool:Ct,integrate:Dt}=at,Ft=ne.getDefaultSqrtPriceLimit(et.a2b),Nt=[et.coinTypeA,et.coinTypeB],{global_config_id:jt}=q(Ct);if(jt===void 0)throw Error("clmm.config.global_config_id is undefined");let Lt=et.swap_partner!==void 0,Vt=Lt?et.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":et.a2b?"swap_a2b":"swap_b2a",er=Lt?[nt.object(jt),nt.object(et.pool_id),nt.object(et.swap_partner),mt.targetCoin,$t.targetCoin,nt.pure.bool(et.by_amount_in),nt.pure.u64(et.amount),nt.pure.u64(et.amount_limit),nt.pure.u128(Ft.toString()),nt.object(G)]:[nt.object(jt),nt.object(et.pool_id),mt.targetCoin,$t.targetCoin,nt.pure.bool(et.by_amount_in),nt.pure.u64(et.amount),nt.pure.u64(et.amount_limit),nt.pure.u128(Ft.toString()),nt.object(G)];return nt.moveCall({target:`${Dt.published_at}::${dt}::${Vt}`,typeArguments:Nt,arguments:er}),nt}static async buildSwapTransactionWithoutTransferCoinsForGas(nt,et,at,mt){let{tx:$t,coinABs:Ct}=v.buildSwapTransactionWithoutTransferCoins(nt,et,at);$t.setSender(nt.senderAddress);let Dt=await v.adjustTransactionForGas(nt,I.getCoinAssets(et.a2b?et.coinTypeA:et.coinTypeB,at),BigInt(et.by_amount_in?et.amount:et.amount_limit),$t),{fixAmount:Ft,newTx:Nt}=Dt;if(Nt!==void 0){Nt.setSender(nt.senderAddress),et.by_amount_in?et.amount=Ft.toString():et.amount_limit=Ft.toString(),et=await v.fixSwapParams(nt,et,mt);let jt=v.buildCoinForAmount($t,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA,!1,!0),Lt=v.buildCoinForAmount($t,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB,!1,!0),Vt=v.buildSwapTransactionWithoutTransferCoinArgs(nt,Nt,et,nt.sdkOptions,jt,Lt);$t=Vt.tx,Ct=Vt.txRes}return{tx:$t,coinABs:Ct}}static buildSwapTransactionWithoutTransferCoins(nt,et,at){let mt=new Transaction;mt.setSender(nt.senderAddress);let $t=v.buildCoinForAmount(mt,at,et.a2b?BigInt(et.by_amount_in?et.amount:et.amount_limit):BigInt(0),et.coinTypeA,!1,!0),Ct=v.buildCoinForAmount(mt,at,et.a2b?BigInt(0):BigInt(et.by_amount_in?et.amount:et.amount_limit),et.coinTypeB,!1,!0),Dt=v.buildSwapTransactionWithoutTransferCoinArgs(nt,mt,et,nt.sdkOptions,$t,Ct);return{tx:Dt.tx,coinABs:Dt.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(nt,et,at,mt,$t,Ct){let{clmm_pool:Dt,integrate:Ft}=mt,Nt=ne.getDefaultSqrtPriceLimit(at.a2b),{global_config_id:jt}=q(Dt);if(jt===void 0)throw Error("clmm.config.global_config_id is undefined");let Lt=at.swap_partner!==void 0,Vt=Lt?"swap_with_partner":"swap",er=Lt?$e:Pe,ir=Lt?[et.object(jt),et.object(at.pool_id),et.object(at.swap_partner),$t.targetCoin,Ct.targetCoin,et.pure.bool(at.a2b),et.pure.bool(at.by_amount_in),et.pure.u64(at.amount),et.pure.u128(Nt.toString()),et.pure.bool(!1),et.object(G)]:[et.object(jt),et.object(at.pool_id),$t.targetCoin,Ct.targetCoin,et.pure.bool(at.a2b),et.pure.bool(at.by_amount_in),et.pure.u64(at.amount),et.pure.u128(Nt.toString()),et.pure.bool(!1),et.object(G)],or=[at.coinTypeA,at.coinTypeB],lr=et.moveCall({target:`${Ft.published_at}::${er}::${Vt}`,typeArguments:or,arguments:ir});if(at.by_amount_in){let dr=at.a2b?at.coinTypeB:at.coinTypeA,pr=at.a2b?lr[1]:lr[0],hr=Number(at.amount_limit);this.checkCoinThreshold(nt,at.by_amount_in,et,pr,hr,dr)}return{tx:et,txRes:lr}}static async fixSwapParams(nt,et,at){let{currentPool:mt}=at;try{let $t=await nt.Swap.preswap({decimalsA:at.decimalsA,decimalsB:at.decimalsB,a2b:et.a2b,byAmountIn:et.by_amount_in,amount:et.amount,pool:mt,currentSqrtPrice:mt.current_sqrt_price,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB}),Ct=at.byAmountIn?$t.estimatedAmountOut:$t.estimatedAmountIn,Dt=In(Ct,at.slippage,!at.byAmountIn);et.amount_limit=Dt.toString()}catch($t){console.log("fixSwapParams",$t)}return et}static async syncBuildCoinInputForAmount(nt,et,at,mt,$t=!0,Ct=!0){if(nt.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let Dt=await nt.getOwnerCoinAssets(nt.senderAddress,mt);return v.buildCoinForAmount(et,Dt,at,mt,$t,Ct).targetCoin}static buildCoinForAmount(nt,et,at,mt,$t=!0,Ct=!0){let Dt=I.getCoinAssets(mt,et);if(at===BigInt(0))return v.buildZeroValueCoin(et,nt,mt,$t);let Ft=I.calculateTotalBalance(Dt);if(Ft<at)throw new R(`The amount(${Ft}) is Insufficient balance for ${mt} , expect ${at} `,"InsufficientBalance");return v.buildCoin(nt,et,Dt,at,mt,$t,Ct)}static buildVectorCoin(nt,et,at,mt,$t,Ct=!0){if(I.isSuiCoin($t)){let Vt=nt.splitCoins(nt.gas,[nt.pure.u64(mt)]);return{targetCoin:nt.makeMoveVec({elements:[Vt]}),remainCoins:et,tragetCoinAmount:mt.toString(),isMintZeroCoin:!1,originalSplitedCoin:nt.gas}}let{targetCoin:Dt,originalSplitedCoin:Ft,tragetCoinAmount:Nt,selectedCoinsResult:jt,coinObjectIds:Lt}=this.buildSpitTargeCoin(nt,mt,at,Ct);return Ct?{targetCoin:nt.makeMoveVec({elements:[Dt]}),remainCoins:jt.remainCoins,originalSplitedCoin:Ft,tragetCoinAmount:Nt,isMintZeroCoin:!1}:{targetCoin:nt.makeMoveVec({elements:Lt.map(Vt=>nt.object(Vt))}),remainCoins:jt.remainCoins,tragetCoinAmount:jt.amountArray.reduce((Vt,er)=>Number(Vt)+Number(er),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(nt,et,at,mt,$t=!0){if(I.isSuiCoin(mt)){if(at===0n&&et.length>1){let Lt=I.selectCoinObjectIdGreaterThanOrEqual(et,at);return{targetCoin:nt.object(Lt.objectArray[0]),remainCoins:Lt.remainCoins,tragetCoinAmount:Lt.amountArray[0],isMintZeroCoin:!1}}let jt=I.selectCoinObjectIdGreaterThanOrEqual(et,at);return{targetCoin:nt.splitCoins(nt.gas,[nt.pure.u64(at)]),remainCoins:jt.remainCoins,tragetCoinAmount:at.toString(),isMintZeroCoin:!1,originalSplitedCoin:nt.gas}}let{targetCoin:Ct,originalSplitedCoin:Dt,tragetCoinAmount:Ft,selectedCoinsResult:Nt}=this.buildSpitTargeCoin(nt,at,et,$t);return{targetCoin:Ct,remainCoins:Nt.remainCoins,originalSplitedCoin:Dt,tragetCoinAmount:Ft,isMintZeroCoin:!1}}static buildSpitTargeCoin(nt,et,at,mt){let $t=I.selectCoinObjectIdGreaterThanOrEqual(at,et),Ct=$t.amountArray.reduce((ir,or)=>Number(ir)+Number(or),0).toString(),Dt=$t.objectArray,[Ft,...Nt]=Dt,jt=nt.object(Ft),Lt=jt,Vt=$t.amountArray.reduce((ir,or)=>Number(ir)+Number(or),0).toString(),er;return Nt.length>0&&nt.mergeCoins(jt,Nt.map(ir=>nt.object(ir))),mt&&Number(Ct)>Number(et)&&(Lt=nt.splitCoins(jt,[nt.pure.u64(et)]),er=jt),{originalSplitedCoin:er,targetCoin:Lt,tragetCoinAmount:Vt,selectedCoinsResult:$t,coinObjectIds:Dt}}static buildCoin(nt,et,at,mt,$t,Ct=!0,Dt=!0){return Ct?this.buildVectorCoin(nt,et,at,mt,$t,Dt):this.buildOneCoin(nt,at,mt,$t,Dt)}static buildZeroValueCoin(nt,et,at,mt=!0){let $t=v.callMintZeroValueCoin(et,at),Ct;return mt?Ct=et.makeMoveVec({elements:[$t]}):Ct=$t,{targetCoin:Ct,remainCoins:nt,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(nt,et,at,mt,$t=!0,Ct=!0){let Dt=I.getCoinAssets(mt,et);if(at.amountFirst===BigInt(0))return Dt.length>0?v.buildCoin(nt,[...et],[...Dt],at.amountFirst,mt,$t,Ct):v.buildZeroValueCoin(et,nt,mt,$t);let Ft=I.calculateTotalBalance(Dt);if(Ft>=at.amountFirst)return v.buildCoin(nt,[...et],[...Dt],at.amountFirst,mt,$t,Ct);if(Ft<at.amountSecond)throw new R(`The amount(${Ft}) is Insufficient balance for ${mt} , expect ${at.amountSecond} `,"InsufficientBalance");return v.buildCoin(nt,[...et],[...Dt],at.amountSecond,mt,$t,Ct)}static async buildRouterSwapTransaction(nt,et,at,mt,$t){let Ct=new Transaction;return et.paths.length>1&&(et.partner=""),Ct=await this.buildRouterBasePathTx(nt,et,at,mt,Ct,$t),Ct}static async buildRouterBasePathTx(nt,et,at,mt,$t,Ct){let Dt=et.paths.filter(vr=>vr&&vr.poolAddress),Ft=Number(Dt.reduce((vr,br)=>vr.add(br.amountIn),F).toString()),Nt=Number(Dt.reduce((vr,br)=>vr.add(br.amountOut),F).toString()),jt=Math.round(at?Number(Nt.toString())*(1-et.priceSlippagePoint):Number(Ft.toString())*(1+et.priceSlippagePoint)),Lt=et.paths[0].coinType[0],Vt=et.paths[0].coinType[et.paths[0].coinType.length-1],er=v.buildCoinForAmount($t,mt,BigInt(at?Ft:jt),Lt,!1,!0),ir=er.originalSplitedCoin!==void 0,or=v.buildCoinForAmount($t,mt,0n,Vt,!1),lr=await this.buildRouterBasePathReturnCoins(nt,et,at,er,or,$t),dr=[],{toCoin:pr,fromCoin:hr}=lr;if($t=lr.tx,or.isMintZeroCoin?dr.push({coinType:Vt,coin:pr}):or.originalSplitedCoin!==void 0?$t.mergeCoins(or.originalSplitedCoin,[pr]):$t.mergeCoins(or.targetCoin,[pr]),ir){let vr=er==null?void 0:er.originalSplitedCoin;$t.mergeCoins(vr,[hr])}else dr.push({coinType:Lt,coin:hr});for(let vr=0;vr<dr.length;vr++)this.buildTransferCoin(nt,$t,dr[vr].coin,dr[vr].coinType,Ct);return $t}static async buildRouterBasePathReturnCoins(nt,et,at,mt,$t,Ct){let{clmm_pool:Dt,integrate:Ft}=nt.sdkOptions,Nt=q(Dt).global_config_id,jt=et.paths.filter(vr=>vr&&vr.poolAddress),Lt=Number(jt.reduce((vr,br)=>vr.add(br.amountIn),F).toString()),Vt=Number(jt.reduce((vr,br)=>vr.add(br.amountOut),F).toString()),er=Math.round(at?Number(Vt.toString())*(1-et.priceSlippagePoint):Number(Lt.toString())*(1+et.priceSlippagePoint)),ir=et.paths[0].coinType[0],or=et.paths[0].coinType[et.paths[0].coinType.length-1],lr=mt.targetCoin,dr;$t.isMintZeroCoin||$t.originalSplitedCoin!==void 0?dr=$t.targetCoin:dr=v.callMintZeroValueCoin(Ct,or);let pr=et.partner==="",hr=pr?Pe:$e;for(let vr of jt)if(vr.poolAddress.length===1){let br=vr.a2b[0],xr={amount:Number(vr.amountIn.toString()),amountLimit:er,poolCoinA:vr.a2b[0]?ir:or,poolCoinB:vr.a2b[0]?or:ir},Sr=pr?"swap":"swap_with_partner",Er=br?lr:dr,$r=br?dr:lr,Cr=at?vr.amountIn.toString():vr.amountOut.toString(),kr=ne.getDefaultSqrtPriceLimit(br).toString(),gr=pr?[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Er,$r,Ct.pure.bool(br),Ct.pure.bool(at),Ct.pure.u64(Cr),Ct.pure.u128(kr),Ct.pure.bool(!1),Ct.object(G)]:[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Ct.object(et.partner),Er,$r,Ct.pure.bool(br),Ct.pure.bool(at),Ct.pure.u64(Cr),Ct.pure.u128(kr),Ct.pure.bool(!1),Ct.object(G)],Ut=[xr.poolCoinA,xr.poolCoinB],tr=Ct.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${hr}::${Sr}`,typeArguments:Ut,arguments:gr});lr=br?tr[0]:tr[1],dr=br?tr[1]:tr[0]}else{let br=at?vr.amountIn:vr.rawAmountLimit[0],xr=at?0:vr.amountOut,Sr="";vr.a2b[0]?vr.a2b[1]?Sr="swap_ab_bc":Sr="swap_ab_cb":vr.a2b[1]?Sr="swap_ba_bc":Sr="swap_ba_cb",pr||(Sr=`${Sr}_with_partner`);let Er=ne.getDefaultSqrtPriceLimit(vr.a2b[0]),$r=ne.getDefaultSqrtPriceLimit(vr.a2b[1]),Cr=pr?[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Ct.object(vr.poolAddress[1]),lr,dr,Ct.pure.bool(at),Ct.pure.u64(br.toString()),Ct.pure.u64(xr.toString()),Ct.pure.u128(Er.toString()),Ct.pure.u128($r.toString()),Ct.object(G)]:[Ct.object(Nt),Ct.object(vr.poolAddress[0]),Ct.object(vr.poolAddress[1]),Ct.object(et.partner),lr,dr,Ct.pure.bool(at),Ct.pure.u64(br.toString()),Ct.pure.u64(xr.toString()),Ct.pure.u128(Er.toString()),Ct.pure.u128($r.toString()),Ct.object(G)],kr=[vr.coinType[0],vr.coinType[1],vr.coinType[2]],gr=Ct.moveCall({target:`${Ft.published_at}::${hr}::${Sr}`,typeArguments:kr,arguments:Cr});lr=gr[0],dr=gr[1]}return this.checkCoinThreshold(nt,at,Ct,dr,er,or),{fromCoin:lr,toCoin:dr,tx:Ct}}static async buildAggregatorSwapReturnCoins(nt,et,at,mt,$t,Ct,Dt,Ft){if(Ft==null){if(nt.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");Ft=nt.senderAddress}et.splitPaths.length>1&&($t="");let Nt,jt,Lt=et.splitPaths.some(Vt=>Vt.basePaths.some(er=>er.label==="Deepbook"));if((!et.byAmountIn||et.splitPaths.length===1)&&!Lt){let Vt=[];for(let or of et.splitPaths){let lr=[],dr=[],pr=[],hr=[];for(let br=0;br<or.basePaths.length;br+=1){let xr=or.basePaths[br];lr.push(xr.direction),dr.push(xr.poolAddress),pr.push(new BN(xr.inputAmount.toString())),br===0?hr.push(xr.fromCoin,xr.toCoin):hr.push(xr.toCoin)}let vr={amountIn:new BN(or.inputAmount.toString()),amountOut:new BN(or.outputAmount.toString()),poolAddress:dr,a2b:lr,rawAmountLimit:pr,isExceed:!1,coinType:hr};Vt.push(vr)}let er={paths:Vt,partner:$t,priceSlippagePoint:Ct},ir=await this.buildRouterBasePathReturnCoins(nt,er,et.byAmountIn,at,mt,Dt);Nt=ir.fromCoin,jt=ir.toCoin,Dt=ir.tx}else{let Vt=Math.round(et.outputAmount*(1-Ct));Nt=at.targetCoin,mt.isMintZeroCoin||mt.originalSplitedCoin!==void 0?jt=mt.targetCoin:jt=v.callMintZeroValueCoin(Dt,et.toCoin);let er=!1,ir;if(Lt){let[or,lr]=gt.createAccountCap(Ft,nt.sdkOptions,Dt);Dt=lr,ir=or,er=!0}for(let or=0;or<et.splitPaths.length;or+=1){let lr=et.splitPaths[or],dr;for(let pr=0;pr<lr.basePaths.length;pr+=1){let hr=lr.basePaths[pr];if(hr.label==="Deepbook")if(pr===0)if(lr.basePaths.length===1){let vr=this.buildDeepbookBasePathTx(nt,hr,Dt,ir,Nt,jt,!1);Nt=vr.from,jt=vr.to}else{dr=v.callMintZeroValueCoin(Dt,hr.toCoin);let vr=this.buildDeepbookBasePathTx(nt,hr,Dt,ir,Nt,dr,!1);Nt=vr.from,dr=vr.to}else{let vr=this.buildDeepbookBasePathTx(nt,hr,Dt,ir,dr,jt,!0);dr=vr.from,jt=vr.to}if(hr.label==="Cetus")if(pr===0)if(lr.basePaths.length===1){let vr=this.buildClmmBasePathTx(nt,hr,Dt,et.byAmountIn,Nt,jt,!1,$t);Nt=vr.from,jt=vr.to}else{dr=v.callMintZeroValueCoin(Dt,hr.toCoin);let vr=this.buildClmmBasePathTx(nt,hr,Dt,et.byAmountIn,Nt,dr,!1,$t);Nt=vr.from,dr=vr.to}else{let vr=this.buildClmmBasePathTx(nt,hr,Dt,et.byAmountIn,dr,jt,!0,$t);dr=vr.from,jt=vr.to,Dt.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${ft}::send_coin`,typeArguments:[hr.fromCoin],arguments:[dr,Dt.pure.address(Ft)]})}}}this.checkCoinThreshold(nt,et.byAmountIn,Dt,jt,Vt,et.toCoin),er&&(Dt=gt.deleteAccountCapByObject(ir,nt.sdkOptions,Dt))}return{fromCoin:Nt,toCoin:jt,tx:Dt}}static async buildAggregatorSwapTransaction(nt,et,at,mt,$t,Ct){let Dt=new Transaction,Ft=et.byAmountIn?Math.round(et.outputAmount*(1-$t)):Math.round(et.inputAmount*(1+$t)),Nt=v.buildCoinForAmount(Dt,at,et.byAmountIn?BigInt(et.inputAmount):BigInt(Ft),et.fromCoin,!1,!0),jt=Nt.originalSplitedCoin!=null,Lt=v.buildCoinForAmount(Dt,at,0n,et.toCoin,!1),Vt=await this.buildAggregatorSwapReturnCoins(nt,et,Nt,Lt,mt,$t,Dt,Ct),{fromCoin:er,toCoin:ir}=Vt;Dt=Vt.tx;let or=[];if(Lt.isMintZeroCoin?or.push({coinType:et.toCoin,coin:ir}):Lt.originalSplitedCoin!=null?Dt.mergeCoins(Lt.originalSplitedCoin,[ir]):Dt.mergeCoins(Lt.targetCoin,[ir]),jt){let lr=Nt.originalSplitedCoin;Dt.mergeCoins(lr,[er])}else or.push({coinType:et.fromCoin,coin:er});for(let lr=0;lr<or.length;lr++)this.buildTransferCoin(nt,Dt,or[lr].coin,or[lr].coinType,Ct);return Dt}static checkCoinThreshold(nt,et,at,mt,$t,Ct){et&&at.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${Pe}::check_coin_threshold`,typeArguments:[Ct],arguments:[mt,at.pure.u64($t)]})}static buildDeepbookBasePathTx(nt,et,at,mt,$t,Ct,Dt){let Ft=et.direction?$t:Ct,Nt=et.direction?Ct:$t,jt=[at.object(et.poolAddress),mt,at.pure.u64(et.inputAmount),at.pure.u64(0),at.pure.bool(et.direction),Ft,Nt,at.pure.bool(Dt),at.object(G)],Lt=et.direction?[et.fromCoin,et.toCoin]:[et.toCoin,et.fromCoin],Vt=at.moveCall({target:`${nt.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Lt,arguments:jt});return $t=et.direction?Vt[0]:Vt[1],Ct=et.direction?Vt[1]:Vt[0],{from:$t,to:Ct,tx:at}}static buildClmmBasePathTx(nt,et,at,mt,$t,Ct,Dt,Ft){let{clmm_pool:Nt,integrate:jt}=nt.sdkOptions,Lt=q(Nt).global_config_id,Vt=et.direction?$t:Ct,er=et.direction?Ct:$t,ir=Ft==="",or=ir?Pe:$e,lr=ir?"swap":"swap_with_partner",dr=mt?et.inputAmount.toString():et.outputAmount.toString(),pr=ne.getDefaultSqrtPriceLimit(et.direction),hr=ir?[at.object(Lt),at.object(et.poolAddress),Vt,er,at.pure.bool(et.direction),at.pure.bool(mt),at.pure.u64(dr),at.pure.u128(pr.toString()),at.pure.bool(Dt),at.object(G)]:[at.object(Lt),at.object(et.poolAddress),at.object(Ft),Vt,er,at.pure.bool(et.direction),at.pure.bool(mt),at.pure.u64(dr),at.pure.u128(pr.toString()),at.pure.bool(Dt),at.object(G)],vr=et.direction?[et.fromCoin,et.toCoin]:[et.toCoin,et.fromCoin],br=at.moveCall({target:`${jt.published_at}::${or}::${lr}`,typeArguments:vr,arguments:hr});return Vt=br[0],er=br[1],$t=et.direction?Vt:er,Ct=et.direction?er:Vt,{from:$t,to:Ct,tx:at}}static buildCoinTypePair(nt,et){let at=[];if(nt.length===2){let mt=[];mt.push(nt[0],nt[1]),at.push(mt)}else{let mt=[];mt.push(nt[0],nt[nt.length-1]),at.push(mt);for(let $t=1;$t<nt.length-1;$t+=1){if(et[$t-1]===0)continue;let Ct=[];Ct.push(nt[0],nt[$t],nt[nt.length-1]),at.push(Ct)}}return at}static buildTransferCoinToSender(nt,et,at,mt){et.moveCall({target:`${nt.sdkOptions.integrate.published_at}::${ft}::transfer_coin_to_sender`,typeArguments:[mt],arguments:[at]})}static buildTransferCoin(nt,et,at,mt,$t){$t!=null?et.transferObjects([at],et.pure.address($t)):v.buildTransferCoinToSender(nt,et,at,mt)}},z=v;ln(z,"callMintZeroValueCoin",(nt,et)=>nt.moveCall({target:"0x2::coin::zero",typeArguments:[et]}));var me=new BN(1e9),gt=class{static createAccountCap(nt,et,at,mt=!1){if(nt.length===0)throw Error("this config sdk senderAddress is empty");let{deepbook:$t}=et,[Ct]=at.moveCall({target:`${$t.published_at}::${mn}::create_account`,typeArguments:[],arguments:[]});return mt&&at.transferObjects([Ct],at.pure.address(nt)),[Ct,at]}static deleteAccountCap(nt,et,at){let{deepbook:mt}=et,$t=[at.object(nt)];return at.moveCall({target:`${mt.published_at}::${Ve}::delete_account_cap`,typeArguments:[],arguments:$t}),at}static deleteAccountCapByObject(nt,et,at){let{deepbook:mt}=et,$t=[nt];return at.moveCall({target:`${mt.published_at}::${Ve}::delete_account_cap`,typeArguments:[],arguments:$t}),at}static async getAccountCap(nt,et=!0){let at=await nt.fullClient.getOwnedObjectsByPage(nt.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:et,showOwner:!0},filter:{MoveModule:{package:nt.sdkOptions.deepbook.package_id,module:Ve}}});return at.data.length===0?"":at.data[0].data.objectId}static async getPools(nt){let et=nt.sdkOptions.deepbook.package_id,at=[];try{(await nt.fullClient.queryEventsByPage({MoveEventType:`${et}::clob_v2::PoolCreated`})).data.forEach(mt=>{let $t=mt.parsedJson;$t&&at.push({poolID:$t.pool_id,tickSize:Number($t.tick_size),lotSize:Number($t.lot_size),takerFeeRate:Number($t.taker_fee_rate),makerRebateRate:Number($t.maker_rebate_rate),baseAsset:$t.base_asset.name,quoteAsset:$t.quote_asset.name})})}catch(mt){console.log("getPoolImmutables",mt)}return at}static async getPoolAsks(nt,et,at,mt){var Vt;let{simulationAccount:$t}=nt.sdkOptions,{deepbook_endpoint_v2:Ct}=nt.sdkOptions,Dt=new Transaction,Ft=[],Nt=[at,mt],jt=[Dt.object(et),Dt.pure.u64("0"),Dt.pure.u64("999999999999"),Dt.object(G)];Dt.moveCall({target:`${Ct.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:jt,typeArguments:Nt});let Lt=(Vt=(await nt.fullClient.devInspectTransactionBlock({transactionBlock:Dt,sender:$t.address})).events)==null?void 0:Vt.filter(er=>P(er.type).name==="BookStatus");if(Lt.length===0)return Ft;for(let er=0;er<Lt[0].parsedJson.depths.length;er++){let ir=Lt[0].parsedJson.price[er],or=Lt[0].parsedJson.depths[er],lr={price:parseInt(ir,10),quantity:parseInt(or,10)};Ft.push(lr)}return Ft}static async getPoolBids(nt,et,at,mt){var Vt;let{simulationAccount:$t}=nt.sdkOptions,{deepbook_endpoint_v2:Ct}=nt.sdkOptions,Dt=new Transaction,Ft=[],Nt=[at,mt],jt=[Dt.object(et),Dt.pure.u64("0"),Dt.pure.u64("999999999999"),Dt.object(G)];Dt.moveCall({target:`${Ct.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:jt,typeArguments:Nt});let Lt=(Vt=(await nt.fullClient.devInspectTransactionBlock({transactionBlock:Dt,sender:$t.address})).events)==null?void 0:Vt.filter(er=>P(er.type).name==="BookStatus");if(Lt.length===0)return Ft;for(let er=0;er<Lt[0].parsedJson.depths.length;er++){let ir=Lt[0].parsedJson.price[er],or=Lt[0].parsedJson.depths[er],lr={price:parseInt(ir,10),quantity:parseInt(or,10)};Ft.push(lr)}return Ft}static async preSwap(nt,et,at,mt){let $t=!1,Ct=F,Dt=new BN(mt),Ft=F,Nt=new BN(mt);if(at){let jt=await this.getPoolBids(nt,et.poolID,et.baseAsset,et.quoteAsset);jt===null&&($t=!0),jt=jt.sort((Lt,Vt)=>Vt.price-Lt.price);for(let Lt=0;Lt<jt.length;Lt+=1){let Vt=new BN(jt[Lt].quantity),er=new BN(jt[Lt].price),ir=Vt.mul(new BN(er)).mul(new BN(et.takerFeeRate)).div(me).div(me);if(Dt.gt(Vt))Dt=Dt.sub(Vt),Ct=Ct.add(Vt.mul(er).div(me).sub(ir)),Ft=Ft.add(ir);else{let or=Dt.mul(new BN(jt[Lt].price)).div(me),lr=or.mul(new BN(et.takerFeeRate)).div(me);Ct=Ct.add(or.sub(lr)),Dt=Dt.sub(Dt),Ft=Ft.add(lr)}if(Dt.eq(F))break}}else{let jt=await this.getPoolAsks(nt,et.poolID,et.baseAsset,et.quoteAsset);jt===null&&($t=!0);for(let Lt=0;Lt<jt.length;Lt+=1){let Vt=new BN(jt[Lt].price).mul(new BN(jt[Lt].quantity)).div(new BN(1e9)),er=Vt.mul(new BN(et.takerFeeRate)).div(me),ir=Vt.add(er);if(Dt.gt(Vt))Ct=Ct.add(new BN(jt[Lt].quantity)),Dt=Dt.sub(ir),Ft=Ft.add(er);else{let or=new BN(jt[Lt].quantity).div(new BN(et.lotSize)),lr=ir.div(or),dr=Dt.div(lr);Ct=Ct.add(dr.muln(et.lotSize)),Dt=Dt.sub(dr.mul(lr)),Ft=Ft.add(dr.div(or).mul(er))}if(Dt.eq(F))break}}return{poolAddress:et.poolID,estimatedAmountIn:Nt.sub(Dt).toNumber(),estimatedAmountOut:Ct.toNumber(),estimatedFeeAmount:Ft,isExceed:$t,amount:Number(mt),aToB:at,byAmountIn:!0}}static async simulateSwap(nt,et,at,mt,$t,Ct){var hr,vr,br;let{deepbook_endpoint_v2:Dt}=nt.sdkOptions,Ft=new Transaction,Nt=await this.getAccountCap(nt),jt;if(Nt===""){let xr=this.createAccountCap(nt.senderAddress,nt.sdkOptions,Ft),Sr=xr[0];Ft=xr[1],jt=Sr}else jt=Ft.object(Nt);let Lt=await nt.getOwnerCoinAssets(nt.senderAddress),Vt=(hr=z.buildCoinForAmount(Ft,Lt,BigInt(Ct),at,!1))==null?void 0:hr.targetCoin,er=(vr=z.buildCoinForAmount(Ft,Lt,BigInt(Ct),mt,!1))==null?void 0:vr.targetCoin,ir=[at,mt],or=[Ft.object(et),jt,Ft.pure.u64(Ct),Ft.pure.u64(0),Ft.pure.bool($t),Vt,er,Ft.object(G)];Ft.moveCall({target:`${Dt.published_at}::${_n}::swap`,arguments:or,typeArguments:ir});let{simulationAccount:lr}=nt.sdkOptions,dr=(br=(await nt.fullClient.devInspectTransactionBlock({transactionBlock:Ft,sender:lr.address})).events)==null?void 0:br.filter(xr=>P(xr.type).name==="DeepbookSwapEvent");if(dr.length===0)return null;let pr=dr[0].parsedJson;return{poolAddress:pr.pool,estimatedAmountIn:pr.amount_in,estimatedAmountOut:pr.amount_out,aToB:pr.atob}}},bt={clmmConfig:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",admin_cap_id:"0x89c1a321291d15ddae5a086c9abc533dff697fde3d89e0ca836c41af73e36a75"},cetusConfig:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}};getFullnodeUrl$1("mainnet"),bt.cetusConfig,bt.clmmConfig;var wt={clmmConfig:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",admin_cap_id:"0xa456f86a53fc31e1243f065738ff1fc93f5a62cc080ff894a0fb3747556a799b"},cetusConfig:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}};getFullnodeUrl$1("testnet"),wt.cetusConfig,wt.clmmConfig;var It="router",xt="vaults",Ot=1e4,Bt=(nt=>(nt.STATUS_RUNNING="STATUS_RUNNING",nt.STATUS_REBALANCING="STATUS_REBALANCING",nt))(Bt||{}),Mn=(nt=>(nt.Haedal="Haedal",nt.Volo="Volo",nt.Aftermath="aftermath",nt))(Mn||{}),Rt=(nt=>(nt.Cetus="Cetus",nt.Haedal="Haedal",nt.Volo="Volo",nt.Aftermath="aftermath",nt))(Rt||{}),qt=(nt=>(nt.Both="both",nt.OneSide="oneSide",nt))(qt||{}),Z=class extends Error{constructor(et,at){super(et);xa(this,"message");xa(this,"errorCode");this.message=et,this.errorCode=at}static isClmmpoolsErrorCode(et,at){return et instanceof Z&&et.errorCode===at}},ye="0x0000000000000000000000000000000000000000000000000000000000000006",Je="router";function $(nt){if(nt.config===void 0)throw new Z(`package: ${nt.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return nt.config}var B=class{static generateNextTickRange(nt,et,at){let mt=nt-et/2,$t=nt+et/2;return{new_tick_lower:B.getValidTickIndex(mt,at),new_tick_upper:B.getValidTickIndex($t,at)}}static calculateDepositRatio(nt,et,at){let mt=x.sqrtPriceX64ToTickIndex(at);if(mt<nt)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if(mt>et)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let $t=new BN(1e8),{coinAmountB:Ct}=M$1.estLiquidityAndcoinAmountFromOneAmounts(nt,et,$t,!0,!0,0,at),Dt=x.sqrtPriceX64ToPrice(at,0,0),Ft=w($t.toString()).mul(Dt),Nt=Ft.add(Ct.toString()),jt=Ft.div(Nt),Lt=w(Ct.toString()).div(Nt);return{ratioA:jt,ratioB:Lt}}static getValidTickIndex(nt,et){if(nt%et===0)return nt;let at;if(nt>0?at=nt-nt%et+et:nt<0?at=nt+Math.abs(nt)%et-et:at=nt,at%et!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(at)<Math.abs(nt))throw new Error("Assertion failed: res.abs() >= tickIndex");return at}static get_lp_amount_by_liquidity(nt,et){return nt.total_supply==="0"?"0":w(nt.total_supply).mul(et).div(nt.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(nt,et){return nt.total_supply==="0"?"0":w(et).mul(nt.liquidity).div(nt.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(nt,et){return w(et).mul(nt.protocol_fee_rate).div(Ot).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(nt){let et=nt.clmm_postion.fields;return{id:nt.id.id,url:et.url,pool_id:nt.pool_id,coinTypeA:P(et.coin_type_a.fields.name).full_address,coinTypeB:P(et.coin_type_b.fields.name).full_address,description:et.description,name:et.name,liquidity:et.liquidity,clmm_position_id:et.id.id,clmm_pool_id:et.pool,tick_lower_index:ie(BigInt(et.tick_lower_index.fields.bits)),tick_upper_index:ie(BigInt(et.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(nt){let et=se(nt),at=Pt(nt),{positions:mt}=et;if(et&&mt.length>0){let $t=B.buildFramsPositionNFT(mt[0].fields);return{id:et.id.id,pool_id:et.pool,protocol_fee_rate:et.protocol_fee_rate,is_pause:et.is_pause,harvest_assets:{harvest_assets_handle:et.harvest_assets.fields.id.id,size:Number(et.harvest_assets.fields.size)},lp_token_type:P(at).type_arguments[0],total_supply:et.lp_token_treasury.fields.total_supply.fields.value,liquidity:et.liquidity,max_quota:et.max_quota,status:et.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:et.quota_based_type.fields.name,position:$t}}}static async getSuiCoin(nt,et,at){let mt=await nt.getOwnerCoinAssets(nt.getVerifySenderAddress(),we);at=at||new Transaction;let $t;if(et>95e10){let[Ct,...Dt]=mt;Dt.length>0&&at.mergeCoins(at.object(Ct.coinObjectId),Dt.map(Ft=>at.object(Ft.coinObjectId))),$t=at.splitCoins(at.object(Ct.coinObjectId),[et])}else $t=z.buildCoinForAmount(at,mt,BigInt(et),we,!1,!0).targetCoin;return $t}},Ae=class{static async getExchangeRateForStake(nt,et,at){let{vaults:mt}=nt.sdkOptions,{haedal:$t}=q(mt);if($t===void 0)throw Error("the haedal config is undefined");let{simulationAccount:Ct}=nt.sdkOptions,{staking_id:Dt}=q($t);try{let Ft=new Transaction;et?await this.requestStake(nt,at||1e9,Ft):Ft.moveCall({target:`${$t.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[Ft.object(Dt)]});let Nt=await nt.fullClient.devInspectTransactionBlock({transactionBlock:Ft,sender:et?nt.senderAddress:Ct.address});if(et){let Lt=Nt.events.find(ir=>ir.type.includes("UserStaked")),{sui_amount:Vt,st_amount:er}=Lt.parsedJson;return w(Vt).div(er).toString()}let jt=Nt.results[0].returnValues[0][0];return w(suiBcs.u64().parse(Uint8Array.from(jt))).div(1e6).toString()}catch(Ft){console.log("getExchangeRateForHaedal",Ft)}return"0"}static async requestStake(nt,et,at){var Ct,Dt;let{vaults:mt}=nt.sdkOptions;at=at||new Transaction;let $t=await B.getSuiCoin(nt,et,at);return at.moveCall({target:`${(Dt=(Ct=mt.config)==null?void 0:Ct.haedal)==null?void 0:Dt.published_at}::interface::request_stake`,typeArguments:[],arguments:[at.object(normalizeSuiObjectId("0x5")),at.object(mt.config.haedal.config.staking_id),$t,at.pure.address(normalizeSuiObjectId("0x0"))]}),at}static requestStakeCoin(nt,et,at){let{haedal:mt}=nt.sdkOptions.vaults.config;return et.moveCall({target:`${mt.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[et.object(normalizeSuiObjectId("0x5")),et.object(mt.config.staking_id),at,et.pure.address(normalizeSuiObjectId("0x0"))]})}},ve=class{static async getExchangeRateForStake(nt,et,at){let{vaults:mt}=nt.sdkOptions,{volo:$t}=q(mt);if($t===void 0)throw Error("the volo config is undefined");let{simulationAccount:Ct}=nt.sdkOptions,{native_pool:Dt,vsui_metadata:Ft}=q($t);try{let Nt=new Transaction;et?await this.requestStake(nt,at||1e9,Nt):Nt.moveCall({target:`${$t.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[Nt.object(Dt),Nt.object(Ft)]});let jt=await nt.fullClient.devInspectTransactionBlock({transactionBlock:Nt,sender:et?nt.senderAddress:Ct.address});if(et){let er=jt.events.find(lr=>lr.type.includes("StakedEvent")),{cert_amount:ir,sui_amount:or}=er.parsedJson;return w(or).div(ir).toString()}let Lt=jt.results[0].returnValues[0][0],Vt=w(suiBcs.u256().parse(Uint8Array.from(Lt))).div("1000000000000000000").toNumber();return w(1).div(Vt).toString()}catch(Nt){console.log("getExchangeRateForHaedal",Nt)}return"0"}static async requestStake(nt,et,at){let{vaults:mt}=nt.sdkOptions,{volo:$t}=q(mt);if($t===void 0)throw Error("the volo config is undefined");at=at||new Transaction;let{native_pool:Ct,vsui_metadata:Dt}=q($t),Ft=await B.getSuiCoin(nt,et,at);return at.moveCall({target:`${$t.published_at}::native_pool::stake`,typeArguments:[],arguments:[at.object(Ct),at.object(Dt),at.object(normalizeSuiObjectId("0x5")),Ft]}),at}static requestStakeCoin(nt,et,at){let{vaults:mt}=nt.sdkOptions,{volo:$t}=q(mt);if($t===void 0)throw Error("the volo config is undefined");et=et||new Transaction;let{native_pool:Ct,vsui_metadata:Dt}=q($t);return et.moveCall({target:`${$t.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[et.object(Ct),et.object(Dt),et.object(normalizeSuiObjectId("0x5")),at]})}},Ce=class{static async getExchangeRateForStake(nt,et,at){let{vaults:mt}=nt.sdkOptions,{aftermath:$t}=q(mt);if($t===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:Ct}=nt.sdkOptions,{staked_sui_vault:Dt,safe:Ft}=q($t);try{let Nt=new Transaction;et?await this.requestStake(nt,at||1e9,Nt):Nt.moveCall({target:`${$t.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[Nt.object(Dt),Nt.object(Ft)]});let jt=await nt.fullClient.devInspectTransactionBlock({transactionBlock:Nt,sender:et?nt.senderAddress:Ct.address});if(et){let Vt=jt.events.find(or=>or.type.includes("StakedEvent")),{afsui_amount:er,sui_amount:ir}=Vt.parsedJson;return w(ir).div(er).toString()}let Lt=jt.results[0].returnValues[0][0];return w(suiBcs.u128().parse(Uint8Array.from(Lt))).div(1e18).toString()}catch(Nt){console.log("getExchangeRateForHaedal",Nt)}return"0"}static async requestStake(nt,et,at){let{vaults:mt}=nt.sdkOptions,{aftermath:$t}=q(mt);if($t===void 0)throw Error("the aftermath config is undefined");at=at||new Transaction;let{staked_sui_vault:Ct,referral_vault:Dt,safe:Ft,validator_address:Nt}=q($t),jt=await B.getSuiCoin(nt,et,at);return at.moveCall({target:`${$t.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[at.object(Ct),at.object(Ft),at.object(normalizeSuiObjectId("0x5")),at.object(Dt),jt,at.pure.address(normalizeSuiObjectId(Nt))]}),at}static requestStakeCoin(nt,et,at){let{vaults:mt}=nt.sdkOptions,{aftermath:$t}=q(mt);if($t===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:Ct,referral_vault:Dt,safe:Ft,validator_address:Nt}=q($t);return et.moveCall({target:`${$t.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[et.object(Ct),et.object(Ft),et.object(normalizeSuiObjectId("0x5")),et.object(Dt),at,et.pure.address(normalizeSuiObjectId(Nt))]})}},De=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});xa(this,"getOwnerVaultsBalance",async nt=>{let{data:et}=await this.getVaultList(),at=[];for(let mt=0;mt<et.length;mt++){let $t=et[mt],Ct=await this._sdk.fullClient.getBalance({owner:nt,coinType:$t.lp_token_type}),Dt=await this._sdk.Pool.getPool($t.pool_id,!0),Ft=B.get_share_liquidity_by_amount($t,Ct.totalBalance),{tick_lower_index:Nt,tick_upper_index:jt,coinTypeA:Lt,coinTypeB:Vt}=$t.position,er=x.tickIndexToSqrtPriceX64(Nt),ir=x.tickIndexToSqrtPriceX64(jt),or=M$1.getCoinAmountFromLiquidity(new bnExports.BN(Ft),new bnExports.BN(Dt.current_sqrt_price),er,ir,!0);at.push({vault_id:et[mt].id,clmm_pool_id:$t.pool_id,owner:nt,lp_token_type:$t.lp_token_type,lp_token_balance:Ct.totalBalance,liquidity:Ft,tick_lower_index:Nt,tick_upper_index:jt,amount_a:or.coinA.toString(),amount_b:or.coinB.toString(),coin_type_a:Lt,coin_type_b:Vt})}return at});this._sdk=nt}get sdk(){return this._sdk}async calculateDepositAmount(nt,et=!1,at=!1){return nt.side==="both"?await this.calculateAmountFromBoth(nt,!0):await this.calculateDepositAmountFromOneSide(nt,et,at)}async calculateWithdrawAmount(nt){if(nt.side==="both"){if(nt.is_ft_input)return{...await this.estLiquidityAmountFromFtAmount({...nt,input_ft_amount:nt.input_amount}),request_id:nt.input_amount,burn_ft_amount:nt.input_amount,side:nt.side};let mt=await this.calculateAmountFromBoth(nt,!1);return{...mt,request_id:nt.input_amount,burn_ft_amount:mt.ft_amount,side:nt.side}}let{vault:et}=await this.getVaultAndPool(nt.vault_id),at=B.get_share_liquidity_by_amount(et,nt.max_ft_amount);return await this.calculateWithdrawAmountFromOneSide({fix_amount_a:nt.fix_amount_a,vault_id:nt.vault_id,receive_amount:nt.is_ft_input?"0":nt.input_amount,slippage:nt.slippage,maxLiquidity:at,removeLiquidity:nt.is_ft_input?B.get_share_liquidity_by_amount(et,nt.input_amount):void 0},!0)}async calculateWithdrawAmountFromOneSide(nt,et,at){try{let{vault_id:mt,removeLiquidity:$t,maxLiquidity:Ct}=nt,{vault:Dt,pool:Ft}=await this.getVaultAndPool(mt),{position:Nt}=Dt,jt=Nt.tick_lower_index,Lt=Nt.tick_upper_index,Vt=$t===Ct,er=B.calculateDepositRatio(jt,Lt,new bnExports.BN(Ft.current_sqrt_price)),ir=nt.fix_amount_a?er.ratioA:er.ratioB,or=w(nt.receive_amount).mul(ir),lr,dr;if($t){let gr=x.tickIndexToSqrtPriceX64(jt),Ut=x.tickIndexToSqrtPriceX64(Lt),tr=M$1.getCoinAmountFromLiquidity(new bnExports.BN($t),new bnExports.BN(Ft.current_sqrt_price),gr,Ut,!1);dr=$t,lr=nt.fix_amount_a?tr.coinB.toString():tr.coinA.toString(),or=nt.fix_amount_a?w(tr.coinA.toString()):w(tr.coinB.toString())}else{let gr=M$1.estLiquidityAndcoinAmountFromOneAmounts(jt,Lt,new bnExports.BN(or.toFixed(0)),nt.fix_amount_a,!1,nt.slippage,new bnExports.BN(Ft.current_sqrt_price));dr=gr.liquidityAmount.toString(),lr=nt.fix_amount_a?gr.coinAmountB.toString():gr.coinAmountA.toString()}let pr=!nt.fix_amount_a,hr=await this.findRouters(Ft.poolAddress,Ft.current_sqrt_price.toString(),nt.fix_amount_a?Ft.coinTypeB:Ft.coinTypeA,nt.fix_amount_a?Ft.coinTypeA:Ft.coinTypeB,w(lr),!0,[Ft.poolAddress],{poolID:Ft.poolAddress,ticklower:jt,tickUpper:Lt,deltaLiquidity:Number(dr)}),vr=or.add(hr.amount_out),br=w(nt.receive_amount),xr=br.sub(vr);if(!Vt&&(!nt.removeLiquidity||nt.removeLiquidity&&at)&&xr.abs().greaterThan(br.mul(.01))){let gr=vr.lessThan(br),Ut,tr;at?gr?(Ut=w(dr),tr=at.right):(Ut=at.left,tr=w(dr)):(Ut=w(gr?dr:0),tr=w(gr?nt.maxLiquidity:dr));let nr=w(Ut).add(tr).div(2).toFixed(0);if(!at||at&&at.count<15&&Ut<tr)return await this.calculateWithdrawAmountFromOneSide({...nt,removeLiquidity:nr},et,{left:Ut,right:tr,count:at?at.count+1:0})}let Sr=hr.amount_in&&hr.fee_amount?new bnExports.BN(hr.amount_in).add(new bnExports.BN(hr.fee_amount)).toString():hr.amount_in,Er=hr.amount_out,{is_exceed:$r}=hr,Cr=B.get_lp_amount_by_liquidity(Dt,dr.toString());return{side:"oneSide",...await this.estLiquidityAmountFromFtAmount({vault_id:mt,input_ft_amount:Cr,slippage:nt.slippage}),burn_ft_amount:Cr,request_id:nt.receive_amount,swap_result:{swap_in_amount:Sr,swap_out_amount:Er,a2b:pr,is_exceed:$r,sui_stake_protocol:"Cetus",route_obj:hr.route_obj}}}catch(mt){if(et&&(String(mt)==="Error: route unavailable"||String(mt)==="Error: router timeout"))return await this.calculateWithdrawAmountFromOneSide(nt,!1);throw mt}}async calculateDepositAmountFromOneSide(nt,et,at=!1,mt=!0,$t=5,Ct=.02){try{let{vault_id:Dt,input_amount:Ft,fix_amount_a:Nt,slippage:jt}=nt,{vault:Lt,pool:Vt}=await this.getVaultAndPool(Dt),{position:er}=Lt,ir=er.tick_lower_index,or=er.tick_upper_index,lr=x.sqrtPriceX64ToTickIndex(new bnExports.BN(Vt.current_sqrt_price)),{ratioA:dr,ratioB:pr}=B.calculateDepositRatio(ir,or,new bnExports.BN(Vt.current_sqrt_price)),hr=w(Ft).mul(Nt?dr:pr),vr=w(Ft).sub(hr),br=Nt;if(vr.toFixed(0)==="0")return await this.calculateAmountFromBoth(nt,!0);let xr,Sr,Er,$r,Cr,kr=this.findSuiStakeProtocol(er.coinTypeA,er.coinTypeB,Nt);if(kr!=="Cetus")xr=await this.calculateStakeDepositFixSui({inputSuiAmount:w(nt.input_amount),swapSuiAmount:vr,lowerTick:ir,upperTick:or,curSqrtPrice:Vt.current_sqrt_price.toString(),remainRate:.01,fixCoinA:nt.fix_amount_a,rebalanceCount:0,shouldRequestStake:et,leftSuiAmount:br?new Decimal$1(vr.toFixed(0)):new Decimal$1(0),rightSuiAmount:br?new Decimal$1(nt.input_amount):new Decimal$1(vr.toFixed(0)),stakeProtocol:kr}),Sr=Vt.current_sqrt_price.toString(),Er=xr.fixAmountA,$r=xr.swapInAmount,Cr=xr.swapOutAmount;else{xr=await this.findRouters(Vt.poolAddress,Vt.current_sqrt_price.toString(),br?Vt.coinTypeA:Vt.coinTypeB,br?Vt.coinTypeB:Vt.coinTypeA,vr,!0,[Vt.poolAddress]);let ar=this.paresSwapData(xr,nt.input_amount,nt.fix_amount_a,br,ir,or,dr,pr),cr=w(nt.input_amount).mul(Ct);if(w(nt.input_amount).sub(ar.preAmountTotal).gt(cr)){let fr={clmm_pool:Vt.poolAddress,curSqrtPrice:Vt.current_sqrt_price.toString(),a2b:br,amount_a:w(br?Ft:0),amount_b:w(br?0:nt.input_amount),amount_left:w(br?vr.toFixed(0):0),amount_right:w(br?Ft:vr.toFixed(0)),lowerTick:ir,upperTick:or,tick_spacing:2,coinTypeA:er.coinTypeA,coinTypeB:er.coinTypeB,remainRate:.02,priceSplitPoint:jt,useRoute:mt,maxLoopLimit:$t};xr=at&&lr<=or?await this.calculateRebalance(fr):await this.findRouters(Vt.poolAddress,Vt.current_sqrt_price.toString(),br?Vt.coinTypeA:Vt.coinTypeB,br?Vt.coinTypeB:Vt.coinTypeA,vr,!0,[Vt.poolAddress])}Sr=xr.after_sqrt_price,ar=this.paresSwapData(xr,nt.input_amount,nt.fix_amount_a,br,ir,or,dr,pr),Er=ar.fixAmountA,$r=ar.swapInAmount,Cr=ar.swapOutAmount,Sr=ar.afterSqrtPrice}let gr=Er===Nt?w(Ft).sub($r).toFixed(0):Cr,Ut=M$1.estLiquidityAndcoinAmountFromOneAmounts(ir,or,new bnExports.BN(gr),Er,!0,jt,new bnExports.BN(Sr)),tr=Ut.coinAmountA.toString(),nr=Ut.coinAmountB.toString(),rr=B.get_lp_amount_by_liquidity(Lt,Ut.liquidityAmount.toString());return{request_id:nt.input_amount,side:"oneSide",amount_a:tr,amount_b:nr,amount_limit_a:Ut.tokenMaxA.toString(),amount_limit_b:Ut.tokenMaxB.toString(),ft_amount:rr,fix_amount_a:Er,swap_result:{swap_in_amount:$r,swap_out_amount:Cr,a2b:Nt,sui_stake_protocol:kr,route_obj:xr.route_obj,is_exceed:xr.is_exceed,afterSqrtPrice:Sr}}}catch(Dt){if(mt&&(String(Dt)==="Error: route unavailable"||String(Dt)==="Error: router timeout"))return await this.calculateDepositAmountFromOneSide(nt,et,!1);throw Dt}}paresSwapData(nt,et,at,mt,$t,Ct,Dt,Ft){let Nt=nt.after_sqrt_price,jt=x.sqrtPriceX64ToTickIndex(new bnExports.BN(Nt)),{ratioA:Lt,ratioB:Vt}=B.calculateDepositRatio($t,Ct,new bnExports.BN(Nt)),er=Vt.div(Lt).sub(Ft.div(Dt)).greaterThan("0"),ir=nt.amount_in&&nt.fee_amount?new bnExports.BN(nt.amount_in).add(new bnExports.BN(nt.fee_amount)).toString():nt.amount_in,or=nt.amount_out,lr=er===mt?new bnExports.BN(w(et).sub(ir).toString()):new bnExports.BN(or),dr=w(et);if(jt<$t)er=!0;else if(jt>Ct)er=!1;else{let pr=M$1.estLiquidityAndcoinAmountFromOneAmounts($t,Ct,lr,er,!0,0,new bnExports.BN(Nt)),hr=pr.coinAmountA,vr=pr.coinAmountB;dr=w(at?hr.toString():vr.toString()).add(ir),dr.greaterThanOrEqualTo(et)&&(er=!er)}return{preAmountTotal:dr,fixAmountA:er,swapInAmount:ir,swapOutAmount:or,afterSqrtPrice:Nt}}async calculateStakeDepositFixSui(nt){let et=nt.inputSuiAmount.mul(nt.remainRate),at=nt.inputSuiAmount.sub(nt.swapSuiAmount),mt;nt.shouldRequestStake?mt=await this.getExchangeRateForStake(nt.stakeProtocol,nt.shouldRequestStake,Number(nt.swapSuiAmount.toFixed(0))):mt=nt.exchangeRate?nt.exchangeRate:await this.getExchangeRateForStake(nt.stakeProtocol,nt.shouldRequestStake,Number(nt.swapSuiAmount.toFixed(0)));let $t=nt.swapSuiAmount.div(mt).toFixed(0,Decimal$1.ROUND_DOWN),Ct=M$1.estLiquidityAndcoinAmountFromOneAmounts(nt.lowerTick,nt.upperTick,new bnExports.BN($t.toString()),!nt.fixCoinA,!0,0,new bnExports.BN(nt.curSqrtPrice)),Dt=nt.fixCoinA?Ct.coinAmountA.toString():Ct.coinAmountB.toString(),Ft=w(at).sub(Dt);return Ft.greaterThanOrEqualTo(0)&&Ft.lessThanOrEqualTo(et)||nt.rebalanceCount>12||nt.leftSuiAmount.greaterThanOrEqualTo(nt.rightSuiAmount)?{swapInAmount:nt.swapSuiAmount.toFixed(0),swapOutAmount:$t,afterSqrtPrice:nt.curSqrtPrice,fixAmountA:!nt.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:nt.stakeProtocol}:Ft.lessThan(0)?await this.calculateStakeDepositFixSui({...nt,rightSuiAmount:nt.swapSuiAmount,swapSuiAmount:nt.swapSuiAmount.add(nt.leftSuiAmount).div(2),exchangeRate:mt,rebalanceCount:nt.rebalanceCount+1}):Ft.greaterThan(et)?await this.calculateStakeDepositFixSui({...nt,leftSuiAmount:nt.swapSuiAmount,swapSuiAmount:nt.swapSuiAmount.add(nt.rightSuiAmount).div(2),exchangeRate:mt,rebalanceCount:nt.rebalanceCount+1}):null}async getExchangeRateForStake(nt,et,at){return nt==="Haedal"?await Ae.getExchangeRateForStake(this._sdk,et,at):nt==="Volo"?await ve.getExchangeRateForStake(this._sdk,et,at):nt==="aftermath"?await Ce.getExchangeRateForStake(this._sdk,et,at):"0"}async findRouters(nt,et,at,mt,$t,Ct,Dt,Ft,Nt=!1){var ir,or;let{aggregator:jt}=this._sdk.sdkOptions,Lt=`${jt.walletAddress}_getAggregatorClient`,Vt=this.getCache(Lt,Nt),er;if(Vt!==void 0)er=Vt;else{let lr=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});er=new AggregatorClient22(jt.endPoint,jt.walletAddress,lr,jt.env)}try{let lr={from:at,target:mt,amount:new bnExports.BN($t.toFixed(0).toString()),byAmountIn:Ct,depth:3,providers:jt.providers};Ft&&Ft.poolID&&(lr.liquidityChanges=[Ft]);let dr=await er.findRouters(lr);if(((ir=dr==null?void 0:dr.error)==null?void 0:ir.code)===10001)return{...dr,is_exceed:dr.insufficientLiquidity};if(dr!=null&&dr.insufficientLiquidity)return{...dr,is_exceed:dr.insufficientLiquidity};if(!(dr!=null&&dr.routes)||((or=dr==null?void 0:dr.routes)==null?void 0:or.length)===0)throw Error("Aggregator no router");let pr=et;return dr.routes.forEach(hr=>{let vr=hr.path.find(br=>br.id.toLowerCase()===nt.toLowerCase());vr&&vr.extendedDetails&&vr.extendedDetails.afterSqrtPrice&&(pr=String(vr.extendedDetails.afterSqrtPrice))}),{amount_in:dr.amountIn.toString(),amount_out:dr.amountOut.toString(),is_exceed:dr.insufficientLiquidity,after_sqrt_price:pr,route_obj:dr,byAmountIn:!0,liquidity:Ft==null?void 0:Ft.deltaLiquidity,originRes:dr}}catch{try{if(Dt){let lr=await er.swapInPools({from:at,target:mt,amount:new bnExports.BN($t.toFixed(0).toString()),byAmountIn:Ct,pools:Dt});if(lr){let dr=et;return lr.routeData.routes.forEach(pr=>{let hr=pr.path.find(vr=>vr.id.toLowerCase()===nt.toLowerCase());hr&&(dr=String(hr.extendedDetails.afterSqrtPrice))}),{amount_in:lr.routeData.amountIn.toString(),amount_out:lr.routeData.amountOut.toString(),is_exceed:lr.isExceed,after_sqrt_price:dr,route_obj:lr.routeData,byAmountIn:!0,liquidity:Ft==null?void 0:Ft.deltaLiquidity,originRes:lr}}return null}return null}catch{return null}}}async calculateRebalance(nt){let{clmm_pool:et,a2b:at,curSqrtPrice:mt,amount_a:$t,amount_b:Ct,lowerTick:Dt,upperTick:Ft,amount_left:Nt,amount_right:jt,coinTypeA:Lt,coinTypeB:Vt,useRoute:er,priceSplitPoint:ir,remainRate:or,maxLoopLimit:lr=5}=nt,dr=async(pr,hr,vr)=>{let br=pr.plus(hr).div(2),xr=await this.findRouters(et,mt,Lt,Vt,br,at,[et]);if(xr.amount_out==="0")return xr;if(xr.after_sqrt_price||(xr.after_sqrt_price=nt.curSqrtPrice),xr.is_exceed)return hr=br,dr(pr,hr,vr+1);let Sr=at?$t.sub(xr.amount_in):$t.add(xr.amount_out),Er=at?Ct.add(xr.amount_out):Ct.sub(xr.amount_in),$r=M$1.estLiquidityAndcoinAmountFromOneAmounts(Dt,Ft,new bnExports.BN(Sr.toString()),!0,!0,1,new bnExports.BN(xr.after_sqrt_price)),Cr=new Decimal$1($r.coinAmountA.toString()),kr=new Decimal$1($r.coinAmountB.toString());if(Cr.toString()!==Sr.toString())throw new Error("usedA does not match afterA");if(Er.lessThan(kr))at?pr=br:hr=br;else{at?hr=br:pr=br;let gr=Er.sub(kr);if(Er.mul(or).sub(gr).greaterThanOrEqualTo(0)||vr>=lr)return{...xr,remainingB:gr}}return pr.greaterThan(hr)||hr.sub(pr).lessThan(10)?xr:dr(pr,hr,vr+1)};return Nt.greaterThanOrEqualTo(jt)?dr(new Decimal$1(0),Nt,0):dr(Nt,jt,0)}async calculateAmountFromBoth(nt,et){let{vault_id:at,input_amount:mt,fix_amount_a:$t,slippage:Ct}=nt,{vault:Dt,pool:Ft}=await this.getVaultAndPool(at),{position:Nt}=Dt,jt=Nt.tick_lower_index,Lt=Nt.tick_upper_index,Vt=M$1.estLiquidityAndcoinAmountFromOneAmounts(jt,Lt,new bnExports.BN(mt),$t,et,Ct,new bnExports.BN(Ft.current_sqrt_price)),er=B.get_lp_amount_by_liquidity(Dt,Vt.liquidityAmount.toString());return{request_id:nt.input_amount,amount_a:Vt.coinAmountA.toString(),amount_b:Vt.coinAmountB.toString(),amount_limit_a:Vt.tokenMaxA.toString(),amount_limit_b:Vt.tokenMaxB.toString(),ft_amount:er,fix_amount_a:$t,side:"both"}}async estLiquidityAmountFromFtAmount(nt){let{vault_id:et,input_ft_amount:at,slippage:mt}=nt,{vault:$t,pool:Ct}=await this.getVaultAndPool(et),{position:Dt}=$t,Ft=Dt.tick_lower_index,Nt=Dt.tick_upper_index,jt=x.tickIndexToSqrtPriceX64(Ft),Lt=x.tickIndexToSqrtPriceX64(Nt),Vt=new bnExports.BN(at),er=B.get_share_liquidity_by_amount($t,Vt.toString()),ir=new bnExports.BN(Ct.current_sqrt_price),or=M$1.getCoinAmountFromLiquidity(new bnExports.BN(er),ir,jt,Lt,!1),lr=w(or.coinA.toString()).mul(w(1-mt)),dr=w(or.coinB.toString()).mul(w(1-mt));return{amount_a:or.coinA.toString(),amount_b:or.coinB.toString(),amount_limit_a:lr.toFixed(0),amount_limit_b:dr.toFixed(0)}}async deposit(nt){let{vault_id:et}=nt,{vault:at,pool:mt}=await this.getVaultAndPool(et,!0),$t=await this.calculateDepositAmount(nt,!0,!0),Ct=new Transaction,Dt,Ft;if(nt.side==="oneSide"&&$t.swap_result){let Lt=await this.handleDepositSwap({...$t,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB,slippage:nt.slippage,clmm_pool:mt.poolAddress},Ct);Dt=Lt.primaryCoinAInputs,Ft=Lt.primaryCoinBInputs}let{amount_a:Nt,amount_b:jt}=$t;return nt.side==="oneSide"&&nt.fix_amount_a&&(Nt=w($t.amount_a).mul(w(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString(),jt=w($t.amount_b).mul(w(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString()),await this.depositInternal({coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB,lp_token_type:at.lp_token_type,farming_pool:at.position.pool_id,clmm_pool:mt.poolAddress,primaryCoinAInputs:Dt,primaryCoinBInputs:Ft,vault_id:et,slippage:nt.slippage,amount_a:$t.fix_amount_a?Nt:$t.amount_limit_a,amount_b:$t.fix_amount_a?$t.amount_limit_b:jt,fix_amount_a:$t.fix_amount_a},Ct),Ct}async handleDepositSwap(nt,et){let at=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress),{clmm_pool:mt,integrate:$t}=this._sdk.sdkOptions,{swap_in_amount:Ct,a2b:Dt,sui_stake_protocol:Ft,route_obj:Nt}=nt.swap_result,jt=Dt?nt.coinTypeA:nt.coinTypeB,Lt=z.buildCoinForAmount(et,at,BigInt(Ct),jt,!1,!0),Vt=BigInt(Lt.tragetCoinAmount)-BigInt(Ct),er=[];if(Ft!=="Cetus"){let pr=this.requestStakeCoin(Ft,et,Lt.targetCoin),hr=z.buildCoinForAmount(et,Lt.remainCoins,BigInt(0),jt,!1).targetCoin;er=Dt?[hr,pr]:[pr,hr]}else if(Nt){let pr={routers:Nt,inputCoin:Lt.targetCoin,slippage:nt.slippage,txb:et,partner:nt.partner},{aggregator:hr}=this._sdk.sdkOptions,vr=`${hr.walletAddress}_getAggregatorClient`,br=this.getCache(vr,!1),xr;if(br!==void 0)xr=br;else{let Er=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});xr=new AggregatorClient22(hr.endPoint,hr.walletAddress,Er,hr.env)}let Sr=await xr.routerSwap(pr);er=Dt?[Lt.originalSplitedCoin,Sr]:[Sr,Lt.originalSplitedCoin]}else{let pr=z.buildCoinForAmount(et,at,0n,Dt?nt.coinTypeB:nt.coinTypeA,!1),hr=ne.getDefaultSqrtPriceLimit(Dt).toString();er=et.moveCall({target:`${$t.published_at}::${Je}::swap`,typeArguments:[nt.coinTypeA,nt.coinTypeB],arguments:[et.object($(mt).global_config_id),et.object(nt.clmm_pool),Dt?Lt.targetCoin:pr.targetCoin,Dt?pr.targetCoin:Lt.targetCoin,et.pure.bool(Dt),et.pure.bool(!0),et.pure.u64(Ct),et.pure.u128(hr),et.pure.bool(!1),et.object(ye)]})}let ir,or,lr=er[0],dr=er[1];if(Dt){let pr=BigInt(nt.amount_a)-Vt;I.isSuiCoin(jt)?(Nt||et.transferObjects([lr],et.pure.address(this._sdk.getVerifySenderAddress())),ir=et.splitCoins(et.gas,[et.pure.u64(nt.amount_a)])):pr>0n?ir=this.buildCoinInput(et,Lt.remainCoins,jt,pr,lr).coinInput:ir=lr,or=dr}else{ir=lr;let pr=BigInt(nt.amount_b)-Vt;I.isSuiCoin(jt)?(Nt||et.transferObjects([dr],et.pure.address(this._sdk.getVerifySenderAddress())),or=et.splitCoins(et.gas,[et.pure.u64(nt.amount_b)])):pr>0n?or=this.buildCoinInput(et,Lt.remainCoins,jt,pr,dr).coinInput:or=dr}return{primaryCoinAInputs:ir,primaryCoinBInputs:or}}requestStakeCoin(nt,et,at){if(nt==="Haedal")return Ae.requestStakeCoin(this._sdk,et,at);if(nt==="Volo")return ve.requestStakeCoin(this._sdk,et,at);if(nt==="aftermath")return Ce.requestStakeCoin(this._sdk,et,at)}async depositInternal(nt,et){var Lt,Vt;let{vaults:at,frams:mt,clmm_pool:$t}=this._sdk.sdkOptions,Ct=$(at),Dt=$(mt),Ft=$($t),{primaryCoinAInputs:Nt,primaryCoinBInputs:jt}=nt;if(Nt===void 0||jt===void 0){let er=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress);Nt=(Lt=z.buildAddLiquidityFixTokenCoinInput(et,!nt.fix_amount_a,nt.amount_a,nt.slippage,nt.coinTypeA,er,!1))==null?void 0:Lt.targetCoin,jt=(Vt=z.buildAddLiquidityFixTokenCoinInput(et,nt.fix_amount_a,nt.amount_b,nt.slippage,nt.coinTypeB,er,!1))==null?void 0:Vt.targetCoin}et.moveCall({target:`${at.published_at}::${It}::deposit`,typeArguments:[nt.coinTypeA,nt.coinTypeB,nt.lp_token_type],arguments:[et.object(Ct.vaults_manager_id),et.object(nt.vault_id),et.object(Dt.rewarder_manager_id),et.object(Dt.global_config_id),et.object(nt.farming_pool),et.object(Ft.global_config_id),et.object(nt.clmm_pool),Nt,jt,et.pure.u64(nt.amount_a),et.pure.u64(nt.amount_b),et.pure.bool(nt.fix_amount_a),et.object(ye)]})}async withdraw(nt){let et="is_ft_input"in nt,{vault:at,pool:mt}=await this.getVaultAndPool(nt.vault_id,!0),$t=new Transaction,Ct,Dt,Ft,Nt;if(et)Nt=await this._sdk.Vaults.calculateWithdrawAmount({...nt,side:"oneSide"}),Dt=Nt.amount_limit_a,Ft=Nt.amount_limit_b,Ct=nt.is_ft_input?nt.input_amount:Nt.burn_ft_amount;else{let{vault_id:Vt,ft_amount:er,slippage:ir}=nt;Ct=er;let or=await this.estLiquidityAmountFromFtAmount({vault_id:Vt,input_ft_amount:er,slippage:ir});Dt=or.amount_limit_a,Ft=or.amount_limit_b}let{reciveCoinA:jt,reciveCoinB:Lt}=await this.withdrawInternal({coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB,lp_token_type:at.lp_token_type,farming_pool:at.position.pool_id,clmm_pool:mt.poolAddress,min_amount_a:Dt,min_amount_b:Ft,vault_id:nt.vault_id,ft_amount:Ct},$t);if(et&&Nt){let{a2b:Vt,swap_in_amount:er,route_obj:ir}=Nt.swap_result;if(ir){let or={targetCoin:Vt?jt:Lt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},lr={routers:ir,inputCoin:or.targetCoin,slippage:nt.slippage,txb:$t,partner:nt.partner},{aggregator:dr}=this._sdk.sdkOptions,pr=`${dr.walletAddress}_getAggregatorClient`,hr=this.getCache(pr,!1),vr;if(hr!==void 0)vr=hr;else{let Sr=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});vr=new AggregatorClient22(dr.endPoint,dr.walletAddress,Sr,dr.env)}let br=await vr.routerSwap(lr),xr=Vt?[or.targetCoin,br]:[br,or.targetCoin];Vt?$t.mergeCoins(xr[1],[Lt]):$t.mergeCoins(xr[0],[jt]),$t.transferObjects([br],$t.pure.address(this._sdk.getVerifySenderAddress()))}else{let{clmm_pool:or,integrate:lr}=this._sdk.sdkOptions,dr=ne.getDefaultSqrtPriceLimit(Vt).toString(),pr=$t.moveCall({target:`${lr.published_at}::${Je}::swap`,typeArguments:[mt.coinTypeA,mt.coinTypeB],arguments:[$t.object($(or).global_config_id),$t.object(mt.poolAddress),jt,Lt,$t.pure.bool(Vt),$t.pure.bool(!0),$t.pure.u64(er),$t.pure.u128(dr),$t.pure.bool(!0),$t.object(ye)]});$t.transferObjects([pr[0],pr[1]],$t.pure.address(this._sdk.senderAddress))}}else $t.transferObjects([jt,Lt],$t.pure.address(this._sdk.senderAddress));return $t}async withdrawInternal(nt,et){let{vaults:at,frams:mt,clmm_pool:$t}=this._sdk.sdkOptions,Ct=$(at),Dt=$(mt),Ft=$($t),{primaryCoinInputs:Nt}=nt;if(Nt===void 0){let Vt=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,nt.lp_token_type);Nt=z.buildCoinForAmount(et,Vt,BigInt(nt.ft_amount),nt.lp_token_type,!1,!0).targetCoin}let jt=[nt.coinTypeA,nt.coinTypeB,nt.lp_token_type],Lt=et.moveCall({target:`${at.published_at}::${xt}::remove`,typeArguments:jt,arguments:[et.object(Ct.vaults_manager_id),et.object(nt.vault_id),et.object(Dt.rewarder_manager_id),et.object(Dt.global_config_id),et.object(nt.farming_pool),et.object(Ft.global_config_id),et.object(nt.clmm_pool),Nt,et.pure.u64(nt.ft_amount),et.pure.u64(nt.min_amount_a),et.pure.u64(nt.min_amount_b),et.object(ye)]});return et.transferObjects([Nt],et.pure.address(this._sdk.senderAddress)),{reciveCoinA:Lt[0],reciveCoinB:Lt[1]}}async getVaultAndPool(nt,et=!1){let at=await this.sdk.Vaults.getVault(nt);if(at===void 0)throw new Error("please check config and vault id");let mt=await this._sdk.Pool.getPool(at.pool_id,et);return{vault:at,pool:mt}}async getVaultList(nt="all"){let{vaults_pool_handle:et}=$(this._sdk.sdkOptions.vaults),at=await this._sdk.fullClient.getDynamicFields({parentId:et}),mt=at.data.map(Dt=>Dt.name.value),$t=await this._sdk.fullClient.batchGetObjects(mt,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),Ct=[];return $t.forEach(Dt=>{let Ft=B.buildPool(Dt);Ft&&(Ft.stake_protocol=this.findStakeProtocol(Ft.position.coinTypeA,Ft.position.coinTypeB),this.savePoolToCache(Ft),Ct.push(Ft))}),at.data=Ct,at}findStakeProtocol(nt,et){let{haedal:at,volo:mt,aftermath:$t}=$(this._sdk.sdkOptions.vaults),Ct=P(nt).full_address,Dt=P(et).full_address;if(I.isSuiCoin(Ct)||I.isSuiCoin(Dt)){if(at){let Ft=P($(at).coin_type).full_address;if(Ct===Ft||Dt===Ft)return"Haedal"}if(mt){let Ft=P($(mt).coin_type).full_address;if(Ct===Ft||Dt===Ft)return"Volo"}if($t){let Ft=P($($t).coin_type).full_address;if(Ct===Ft||Dt===Ft)return"aftermath"}}}async getVault(nt,et=!1){let at=this.readPoolFromCache(nt,et);if(at)return at;try{let mt=await this._sdk.fullClient.getObject({id:nt,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),$t=B.buildPool(mt);if($t)return this.savePoolToCache($t),$t}catch(mt){console.log(mt)}}savePoolToCache(nt){let et=`${nt.id}_mirrorPool`;this.updateCache(et,nt,ee)}readPoolFromCache(nt,et=!1){let at=`${nt}_mirrorPool`;return this.getCache(at,et)}findSuiStakeProtocol(nt,et,at){let{haedal:mt,volo:$t,aftermath:Ct}=$(this._sdk.sdkOptions.vaults),Dt=P(nt).full_address,Ft=P(et).full_address;if(I.isSuiCoin(Dt)&&at||I.isSuiCoin(Ft)&&!at){if(mt){let Nt=P($(mt).coin_type).full_address;if(Dt===Nt||Ft===Nt)return"Haedal"}if($t){let Nt=P($($t).coin_type).full_address;if(Dt===Nt||Ft===Nt)return"Volo"}if(Ct){let Nt=P($(Ct).coin_type).full_address;if(Dt===Nt||Ft===Nt)return"aftermath"}}return"Cetus"}buildCoinInput(nt,et,at,mt,$t){let{selectedCoins:Ct,remainingCoins:Dt}=I.selectCoinAssetGreaterThanOrEqual(et,BigInt(mt)),Ft=I.calculateTotalBalance(Ct);if(Ft<BigInt(mt))throw new Error(`The amount(${Ft}) is Insufficient balance for ${at} , expect ${mt} `);let Nt=Ft-BigInt(mt),jt;if(I.isSuiCoin(at))jt=nt.splitCoins(nt.gas,[nt.pure.u64(mt)]);else{let[Lt,...Vt]=Ct.map(er=>er.coinObjectId);jt=nt.object(Lt),Vt.length>0?$t?nt.mergeCoins(jt,[...Vt.map(er=>nt.object(er)),$t]):nt.mergeCoins(jt,[...Vt.map(er=>nt.object(er))]):$t&&nt.mergeCoins(jt,[$t])}return{selectedUnusedAmount:Nt,coinInput:jt,remainingCoins:Dt}}async getVaultsConfigs(nt=!1){let{package_id:et}=this._sdk.sdkOptions.vaults,at=`${et}_getMirrorPoolConfigs`,mt=this.getCache(at,nt);if(mt!==void 0)return mt;let $t=(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${et}::vaults::InitEvent`})).data,Ct={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if($t.length>0){for(let Dt of $t){let Ft=Dt.parsedJson;Ct.admin_cap_id=Ft.admin_cap_id,Ct.vaults_manager_id=Ft.manager_id;let Nt=await this._sdk.fullClient.getObject({id:Ct.vaults_manager_id,options:{showContent:!0}}),jt=se(Nt);Ct.vaults_pool_handle=jt.vault_to_pool_maps.fields.id.id;break}this.updateCache(at,Ct,ee)}return Ct}updateCache(nt,et,at=ee){let mt=this._cache[nt];mt?(mt.overdueTime=oe(at),mt.value=et):mt=new _e(et,oe(at)),this._cache[nt]=mt}getCache(nt,et=!1){let at=this._cache[nt];if(!et&&(at!=null&&at.isValid()))return at.value;delete this._cache[nt]}},Fe=class{constructor(nt){xa(this,"_sdk");xa(this,"_cache",{});this._sdk=nt}get sdk(){return this._sdk}async getPoolImmutables(nt=[],et=0,at=100,mt=!1){let{package_id:$t}=this._sdk.sdkOptions.clmm_pool,Ct=`${$t}_getInitPoolEvent`,Dt=this.getCache(Ct,mt),Ft=[],Nt=[];if(Dt!==void 0&&Ft.push(...Dt),Ft.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${$t}::factory::CreatePoolEvent`})).data.forEach(Lt=>{let Vt=Lt.parsedJson;Vt&&Ft.push({poolAddress:Vt.pool_id,tickSpacing:Vt.tick_spacing,coinTypeA:P(Vt.coin_type_a).full_address,coinTypeB:P(Vt.coin_type_b).full_address})}),this.updateCache(Ct,Ft,ee)}catch(Lt){console.log("getPoolImmutables",Lt)}let jt=nt.length>0;for(let Lt=0;Lt<Ft.length;Lt+=1){let Vt=Ft[Lt];jt&&!nt.includes(Vt.poolAddress)||!jt&&(Lt<et||Lt>=et+at)||Nt.push(Vt)}return Nt}async getPools(nt=[],et=0,at=100){var Dt,Ft,Nt;let mt=[],$t=[];nt.length>0?$t=[...nt]:(await this.getPoolImmutables([],et,at,!1)).forEach(jt=>$t.push(jt.poolAddress));let Ct=await this._sdk.fullClient.batchGetObjects($t,{showContent:!0,showType:!0});for(let jt of Ct){if(jt.error!=null||((Ft=(Dt=jt.data)==null?void 0:Dt.content)==null?void 0:Ft.dataType)!=="moveObject")throw new Z(`getPools error code: ${((Nt=jt.error)==null?void 0:Nt.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");let Lt=We(jt);mt.push(Lt);let Vt=`${Lt.poolAddress}_getPoolObject`;this.updateCache(Vt,Lt,ee)}return mt}async getPool(nt,et=!0){var Dt,Ft,Nt;let at=`${nt}_getPoolObject`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let $t=await this._sdk.fullClient.getObject({id:nt,options:{showType:!0,showContent:!0}});if($t.error!=null||((Ft=(Dt=$t.data)==null?void 0:Dt.content)==null?void 0:Ft.dataType)!=="moveObject")throw new Z(`getPool error code: ${((Nt=$t.error)==null?void 0:Nt.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");let Ct=We($t);return this.updateCache(at,Ct),Ct}async getSuiTransactionResponse(nt,et=!1){let at=`${nt}_getSuiTransactionResponse`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let $t;try{$t=await this._sdk.fullClient.getTransactionBlock({digest:nt,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{$t=await this._sdk.fullClient.getTransactionBlock({digest:nt,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(at,$t,ee),$t}updateCache(nt,et,at=yt){let mt=this._cache[nt];mt?(mt.overdueTime=oe(at),mt.value=et):mt=new _e(et,oe(at)),this._cache[nt]=mt}getCache(nt,et=!1){let at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},Ee=class extends SuiClient{async queryEventsByPage(nt,et="all"){let at=[],mt=!0,$t=et==="all",Ct=$t?null:et.cursor;do{let Dt=await this.queryEvents({query:nt,cursor:Ct,limit:$t?null:et.limit});Dt.data?(at=[...at,...Dt.data],mt=Dt.hasNextPage,Ct=Dt.nextCursor):mt=!1}while($t&&mt);return{data:at,nextCursor:Ct,hasNextPage:mt}}async getOwnedObjectsByPage(nt,et,at="all"){let mt=[],$t=!0,Ct=at==="all",Dt=Ct?null:at.cursor;do{let Ft=await this.getOwnedObjects({owner:nt,...et,cursor:Dt,limit:Ct?null:at.limit});Ft.data?(mt=[...mt,...Ft.data],$t=Ft.hasNextPage,Dt=Ft.nextCursor):$t=!1}while(Ct&&$t);return{data:mt,nextCursor:Dt,hasNextPage:$t}}async getDynamicFieldsByPage(nt,et="all"){let at=[],mt=!0,$t=et==="all",Ct=$t?null:et.cursor;do{let Dt=await this.getDynamicFields({parentId:nt,cursor:Ct,limit:$t?null:et.limit});Dt.data?(at=[...at,...Dt.data],mt=Dt.hasNextPage,Ct=Dt.nextCursor):mt=!1}while($t&&mt);return{data:at,nextCursor:Ct,hasNextPage:mt}}async batchGetObjects(nt,et,at=50){let mt=[];try{for(let $t=0;$t<Math.ceil(nt.length/at);$t++){let Ct=await this.multiGetObjects({ids:nt.slice($t*at,at*($t+1)),options:et});mt=[...mt,...Ct]}}catch($t){console.log($t)}return mt}async calculationTxGas(nt){let{sender:et}=nt.blockData;if(et===void 0)throw Error("sdk sender is empty");let at=await this.devInspectTransactionBlock({transactionBlock:nt,sender:et}),{gasUsed:mt}=at.effects;return Number(mt.computationCost)+Number(mt.storageCost)-Number(mt.storageRebate)}async sendTransaction(nt,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:nt,options:{showEffects:!0,showEvents:!0}})}catch(at){console.log("error: ",at)}}async sendSimulationTransaction(nt,et,at=!0){try{if(at)return await this.devInspectTransactionBlock({transactionBlock:nt,sender:et})}catch(mt){console.log("devInspectTransactionBlock error",mt)}}},ae=class{constructor(nt){xa(this,"_cache",{});xa(this,"_rpcModule");xa(this,"_vaults");xa(this,"_sdkOptions");xa(this,"_senderAddress","");xa(this,"_pool");this._sdkOptions=nt,this._rpcModule=new Ee({url:nt.fullRpcUrl}),this._vaults=new De(this),this._pool=new Fe(this),Xe(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(nt){this._senderAddress=nt}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Vaults(){return this._vaults}get Pool(){return this._pool}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(nt,et,at=!0){let mt=[],$t=null,Ct=`${this.sdkOptions.fullRpcUrl}_${nt}_${et}_getOwnerCoinAssets`,Dt=this.getCache(Ct,at);if(Dt)return Dt;for(;;){let Ft=await(et?this.fullClient.getCoins({owner:nt,coinType:et,cursor:$t}):this.fullClient.getAllCoins({owner:nt,cursor:$t}));if(Ft.data.forEach(Nt=>{BigInt(Nt.balance)>0&&mt.push({coinAddress:P(Nt.coinType).source_address,coinObjectId:Nt.coinObjectId,balance:BigInt(Nt.balance)})}),$t=Ft.nextCursor,!Ft.hasNextPage)break}return this.updateCache(Ct,mt,30*1e3),mt}async getOwnerCoinBalances(nt,et){let at=[];return et?at=[await this.fullClient.getBalance({owner:nt,coinType:et})]:at=[...await this.fullClient.getAllBalances({owner:nt})],at}updateCache(nt,et,at=ee){let mt=this._cache[nt];mt?(mt.overdueTime=oe(at),mt.value=et):mt=new _e(et,oe(at)),this._cache[nt]=mt}getCache(nt,et=!1){let at=this._cache[nt],mt=at==null?void 0:at.isValid();if(!et&&mt)return at.value;mt||delete this._cache[nt]}},Ye={clmmConfig:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",admin_cap_id:"0x89c1a321291d15ddae5a086c9abc533dff697fde3d89e0ca836c41af73e36a75",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"},framsConfig:{global_config_id:"0x21215f2f6de04b57dd87d9be7bb4e15499aec935e36078e2488f36436d64996e",rewarder_manager_id:"0xe0e155a88c77025056da08db5b1701a91b79edb6167462f768e387c3ed6614d5",rewarder_manager_handle:"0xb32e312cbb3367d6f3d2b4e57c9225e903d29b7b9f612dae2ddf75bdeb26a5aa",admin_cap_id:"0xf10fbf1fea5b7aeaa524b87769461a28c5c977613046360093673991f26d886c"},vaultConfig:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d",published_at:"0xaabf0856070391df81fad9240049d69c5a51c3d376cc0885eeedd516526cc79b",version:1,config:{staking_id:"0x47b224762220393057ebf4f70501b6e657c3e56684737568439a04f80849b2ca",coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI"}},volo:{package_id:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",published_at:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",version:1,config:{native_pool:"0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",vsui_metadata:"0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60",coin_type:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT"}},aftermath:{package_id:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",published_at:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",version:1,config:{staked_sui_vault:"0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",referral_vault:"0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",safe:"0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",validator_address:"0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2",coin_type:"0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI"}}}};getFullnodeUrl$1("mainnet"),Ye.clmmConfig,Ye.vaultConfig,Ye.framsConfig,Env.Mainnet;var tt={clmmConfig:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",admin_cap_id:"0xd0accadc3d0b27f0cfaebe8e546968ac7874b9a9f5964669b4c9a7e1dcf80a28"},vaultConfig:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xac2afb455cbcdc2ff1a2e9bbb8aa4ccb4506a544b08c740886892a5cdf92f472",published_at:"0x9dac9c5770e5f930d2223ff68782958701acfaee9337e8d8363978ce7670dffb",version:1,config:{staking_id:"0x6e384d2da5b040b27f973155e25bbe4beb0ad5ca8ee0a36e20dff356094c9fc0",coin_type:"0xac2afb455cbcdc2ff1a2e9bbb8aa4ccb4506a544b08c740886892a5cdf92f472::hasui::HASUI"}},aftermath:{package_id:"0x5e8c0fc2b3d8aa1b06eec36c08d9d835c73c0626a1efaebc0fb03aa52f1a3ff4",published_at:"0x5e8c0fc2b3d8aa1b06eec36c08d9d835c73c0626a1efaebc0fb03aa52f1a3ff4",version:1,config:{staked_sui_vault:"0xe498a8c07ec62200c519a0092eda233abdab879e8f332c11bdc1819eb7b12fbb",referral_vault:"0x8d357115058f22976cd01c5415116d9aca806d1ded37eecd75d87978f404e927",safe:"0x38710a6e0bd885c158e52ec7a42c8a9a1826c6696b626b4a5e2d1dcb15cfd9b7",validator_address:"0x9336c4c9d891e263cfac99adc397853a7392e5cf84cbd5df92207a57c7fbdadc",coin_type:"0x5e8c0fc2b3d8aa1b06eec36c08d9d835c73c0626a1efaebc0fb03aa52f1a3ff4::afsui::AFSUI"}}},framsConfig:{global_config_id:"0x499132a4baf342a0fe9528a3666a77b2aece3be129f4a3ada469fef4b9c34fb4",rewarder_manager_id:"0x960c7800e301fd1e47b79037927b426db57b643bd2934f7069d81c2dae092230",rewarder_manager_handle:"0x1274149371876b60742cd02071a09f2aa72ffee75b76fdfc45724d98f18ea5b5",admin_cap_id:"0x110175e641c1ea8f9287f4fd59cb6a1fb97a3f3ec595aa30d0e6ed93ac4caa0c"}};getFullnodeUrl$1("testnet"),tt.clmmConfig,tt.vaultConfig,tt.framsConfig,Env.Mainnet;/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

ss-linked-list/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-queue/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-stack/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/const store=(nt,et)=>({peripherySdk:new Et(envConfigs$1.periphery_sdk_options,new src_default(envConfigs$1.clmm_sdk_options)),setPeripherySdk:at=>{nt(()=>({peripherySdk:at}))},burnSdk:new _$1(envConfigs$1.burn_sdk_options),setBurnSdk:at=>{nt(()=>({burnSdk:at}))},vaultsSdk:new ae(envConfigs$1.vaults_sdk_options),setVaultsSDK:at=>{nt(()=>({vaultsSdk:at}))},xCetusSdk:new xt$1(envConfigs$1.xcetus_sdk_options),setXCetusSdk:at=>{nt(()=>({xCetusSdk:at}))}}),usePeripherySDKStore=create$3(store);function useInterval({interval:nt,callback:et}){const at=reactExports.useRef(),mt=reactExports.useRef(null);reactExports.useEffect(()=>{at.current=et},[et]);const $t=reactExports.useCallback(()=>{mt.current&&clearInterval(mt.current),nt>0&&(mt.current=setInterval(()=>{at.current&&at.current(Date.now())},nt))},[nt]),Ct=reactExports.useCallback(()=>{mt.current&&(clearInterval(mt.current),mt.current=null)},[]);return reactExports.useEffect(()=>($t(),()=>Ct()),[]),{startTimer:$t,stopTimer:Ct}}function useSigner(){const{clmmSdk:nt}=useClmmSDKStore(),{currentAccount:et}=useAccountStore(),{mutateAsync:at}=useSignTransaction(),{mutate:mt}=useSignPersonalMessage(),{mutate:$t}=useSignAndExecuteTransaction({execute:async({bytes:Lt,signature:Vt})=>await Dt(Lt,Vt)}),Ct=reactExports.useMemo(()=>envConfigs$1.env==="mainnet"?"sui:mainnet":"sui:testnet",[et]),Dt=async(Lt,Vt,er=!1)=>{var or,lr;if(er){const dr=await nt.fullClient.devInspectTransactionBlock({transactionBlock:Transaction.from(fromBase64(Lt)),sender:et.address});if(console.log("devInspectTransactionBlock:",dr),!dr||((or=dr.effects)==null?void 0:or.status.status)==="failure")throw Error((lr=dr.effects)==null?void 0:lr.status.error)}return await nt.fullClient.executeTransactionBlock({transactionBlock:Lt,signature:Vt,options:{showEvents:!0,showRawEffects:!0,showEffects:!0,showBalanceChanges:!0,showObjectChanges:!0,showInput:!0}})};return{signAndExecuteTransactionBlock:async(Lt,Vt=!1)=>{var ir,or;let er;if(typeof Lt=="string"?er=Transaction.from(Lt):er=Lt,console.log("chain: ",{chain:Ct,transactionBlock:Lt}),Vt){const lr=await nt.fullClient.devInspectTransactionBlock({transactionBlock:Lt,sender:et.address});if(console.log("devInspectTransactionBlock:",lr),!lr||((ir=lr.effects)==null?void 0:ir.status.status)==="failure")throw Error((or=lr.effects)==null?void 0:or.status.error)}return er.setGasBudget(1e8),console.log("🚀 ~ file: useSigner.ts:71 ~ signTransactionBlock ~ transactionBlock:",Lt),new Promise((lr,dr)=>{$t({transaction:er,chain:Ct},{onSuccess:pr=>{console.log(" signAndExecuteTransactionBlock  executed transaction",pr),lr(pr)},onError:pr=>{console.error("signAndExecuteTransactionBlock transaction failed",pr),dr(pr)}})})},signTransactionBlock:async Lt=>(console.log("🚀🚀🚀 ~ file: useSigner.ts:74 ~ signTransactionBlock ~ transactionBlock:",Lt instanceof Uint8Array,Lt),Lt instanceof Uint8Array&&(Lt=Transaction.from(Lt)),typeof Lt=="string"&&(Lt=Transaction.from(fromBase64(Lt))),console.log("🚀 ~ file: useSigner.ts:105 ~ signTransactionBlock ~ transactionBlock:",{transactionBlock:Lt,chain:Ct}),new Promise((Vt,er)=>{at({transaction:Lt,chain:Ct},{onSuccess:ir=>{console.log("signTransactionBlock result",ir),Vt(ir)},onError:ir=>{console.error("signTransactionBlock failed",ir),er(ir)},onSettled:(ir,or,lr,dr)=>{}})})),executeTransactionBlock:Dt,signUserMessage:async Lt=>(console.log("🚀🚀🚀 ~ useSigner.ts:167 ~ signUserMessage ~ message:",Lt),console.log("🚀🚀🚀 ~ useSigner.ts:167 ~ returnnewPromise ~ currentAccount:",et),new Promise((Vt,er)=>{mt({message:Lt},{onSuccess:ir=>{console.log("signUserMessage result",ir),Vt(ir)},onError:ir=>{console.error("signUserMessage failed",ir),er(ir)},onSettled:(ir,or,lr,dr)=>{}})}))}}var c=class{constructor(){xa(this,"_listeners",{})}on(nt,et,at=0){this._listeners[nt]||(this._listeners[nt]=[]),et._priority=at,this._listeners[nt].indexOf(et)===-1&&(this._listeners[nt].push(et),this._listeners[nt].length>1&&this._listeners[nt].sort(this.listenerSorter))}listenerSorter(nt,et){return nt._priority-et._priority}off(nt,et){if(this._listeners[nt]===void 0)return;if(et===void 0){delete this._listeners[nt];return}let at=this._listeners[nt].indexOf(et);-1<at&&this._listeners[nt].splice(at,1)}trigger(nt,et={}){if(typeof nt=="string"&&(nt={type:nt,data:typeof et=="object"&&et!==null?et:{}}),typeof this._listeners[nt.type]<"u")for(let at=this._listeners[nt.type].length-1;at>=0;at--)this._listeners[nt.type][at](nt)}destroy(){this._listeners={}}},r=class extends c{constructor(et=Math.random()*100|0){super();xa(this,"id");xa(this,"connected");xa(this,"connecting");xa(this,"isChild");xa(this,"debug");xa(this,"supported");xa(this,"origin");xa(this,"_sendLater");xa(this,"iframe");this.id=`BELLHOP:${et}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(et){if(this.target===et.source){if(this.logDebugMessage(!0,et),et.data!=="connected"){let at=et.data;if(typeof at=="string")try{at=JSON.parse(at)}catch(mt){console.warn("Bellhop error: ",mt)}this.connected&&typeof at=="object"&&at.type&&this.trigger(at);return}this.onConnectionReceived(et.data)}}onConnectionReceived(et){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(et,this.origin)}for(let at=0;at<this._sendLater.length;at++){let{type:mt,data:$t}=this._sendLater[at];this.send(mt,$t)}this._sendLater.length=0,this.trigger("connected")}connect(et,at="*"){var mt;this.connecting||(this.disconnect(),this.connecting=!0,et instanceof HTMLIFrameElement&&(this.iframe=et),this.isChild=et===void 0,this.supported=!0,this.isChild&&(this.supported=window!=et),this.origin=at,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):(mt=this.target)==null||mt.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(et,at={}){var $t;if(typeof et!="string")throw"The event type must be a string";let mt={type:et,data:at};this.logDebugMessage(!1,mt),this.connecting?this._sendLater.push(mt):($t=this.target)==null||$t.postMessage(JSON.stringify(mt,(Ct,Dt)=>typeof Dt=="bigint"?Dt.toString():Dt),this.origin)}fetch(et,at,mt={},$t=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let Ct=Dt=>{$t&&this.off(Dt.type,Ct),at(Dt)};this.on(et,Ct),this.send(et,mt)}respond(et,at={},mt=!1){let $t=this,Ct=async function(Dt){mt&&$t.off(Dt,Ct),typeof at=="function"?$t.send(Dt.type,await at()):$t.send(Dt.type,at)};this.on(et,Ct)}logDebugMessage(et=!1,at){this.debug&&typeof this.debug=="function"?console.log({isChild:this.isChild,received:et,message:at}):this.debug&&console.log(`Bellhop Instance (${this.isChild?"Child":"Parent"}) ${et?"Received":"Sent"}`,at)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){var et;return this.isChild?window.parent:(et=this.iframe)==null?void 0:et.contentWindow}},M=class{constructor(nt,et,at){xa(this,"accounts",[]);xa(this,"currentAccount");xa(this,"bellhop",new r);xa(this,"walletMessageListener");xa(this,"onAccountChangeListner");xa(this,"version","1.0.0");xa(this,"name","MSafe Wallet");xa(this,"icon","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ3IiBoZWlnaHQ9IjE3MCIgdmlld0JveD0iMCAwIDI0NyAxNzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAyLjU5MyAyMy4wMTNDMTA3LjQ5OSAyNi4wNTU4IDExMC43OTQgMzAuODc4NSAxNDAuOTEyIDc5LjEwMzlDMTcyLjQxOSAxMjkuNTUyIDE3My44NjQgMTMyLjExNCAxNzMuODY0IDEzNy41MzZDMTczLjg2NCAxNDIuNDUxIDE3My4zNCAxNDMuNzI1IDE2OS45MTcgMTQ3LjExMkMxNjYuNDc2IDE1MC41MTggMTY1LjIyMiAxNTEuMDE5IDE2MC4xMzggMTUxLjAxOUMxNTUuNTg0IDE1MS4wMTkgMTUzLjUzNiAxNTAuMzc4IDE1MC43OTcgMTQ4LjA5N0MxNDguODY4IDE0Ni40OTEgMTM5Ljg2MiAxMzMuMTc1IDEzMC43ODUgMTE4LjUwOEMxMDMuNzE5IDc0Ljc3NDEgOTAuMDYxIDUzLjE2NzYgODkuNzI2NyA1My41NTQ5Qzg2LjY2ODUgNTcuMTAzMyA3OC42NjEgNzIuMzY1NiA3OC42NjEgNzQuNjQ0M0M3OC42NjEgNzYuNTM4IDg0LjQ0NjMgODcuMzAwNCA5My43MjA1IDEwMi42NThDMTAyLjAwMyAxMTYuMzc0IDEwOS41OTQgMTI5LjUyNCAxMTAuNTg5IDEzMS44ODFDMTE0LjQ2NCAxNDEuMDYyIDEwNy43NTQgMTUxLjAxOSA5Ny42ODc3IDE1MS4wMTlDOTQuODQwOSAxNTEuMDE5IDkxLjIxNTEgMTUwLjE3OCA4OS42MzAzIDE0OS4xNTFDODguMDQ1NSAxNDguMTIyIDgwLjk3OTUgMTM3Ljc4IDczLjkyODcgMTI2LjE2OUM2Ni44Nzc4IDExNC41NTYgNjAuNjc0NSAxMDUuMDU1IDYwLjE0MjggMTA1LjA1NUM1OS42MTEgMTA1LjA1NSA1My42OTMzIDExNC4yMzQgNDYuOTkzMSAxMjUuNDUyQzQwLjI5MjkgMTM2LjY2OSAzMy43MjYyIDE0Ni44MTUgMzIuNDAxNSAxNDcuOTk1QzMxLjA3NjcgMTQ5LjE3NiAyNy43MDYzIDE1MC4zOTYgMjQuOTEyOSAxNTAuNzA5QzE1LjgzODQgMTUxLjcyMSA5IDE0NS44NzggOSAxMzcuMTFDOSAxMzIuODQyIDkuMDQ4NzYgMTMyLjc1MiA0My41MzU2IDc0LjAyOTVDNTcuODI1NCA0OS42OTczIDcxLjIyMTIgMjguMDc5MyA3My4zMDQxIDI1Ljk4OTFDODEuMDc3MSAxOC4xODc5IDkyLjg4IDE2Ljk4OTQgMTAyLjU5MyAyMy4wMTNaTTE2Ni45MDEgMjMuMDIzM0MxNzAuMzA4IDI2LjQ4MjEgMjMzLjQ5OSAxMjcuMTE2IDIzNS40NDcgMTMyLjE4NUMyMzguMjU4IDEzOS41MDQgMjM1LjI3NyAxNDYuMzEyIDIyNy42NjUgMTQ5Ljk2QzIyMy41NDcgMTUxLjkzMyAyMjIuMDczIDE1Mi4xMSAyMTguMjQ1IDE1MS4wODlDMjE1Ljc0OSAxNTAuNDI0IDIxMi44NjYgMTQ4Ljk2IDIxMS44MzggMTQ3LjgzNUMyMTAuODA5IDE0Ni43MSAxOTQuNzk2IDEyMS41IDE3Ni4yNTMgOTEuODExOEMxNDAuMDU0IDMzLjg1NyAxNDAuMDQ0IDMzLjgzNTIgMTQ0LjI3NCAyNS43Mzk4QzE0OC4yNjMgMTguMTAxNyAxNjAuNTk0IDE2LjYyMjggMTY2LjkwMSAyMy4wMjMzWiIgZmlsbD0iIzQ4QjVBNyIvPgo8L3N2Zz4K");xa(this,"chains",[SUI_MAINNET_CHAIN,SUI_TESTNET_CHAIN]);xa(this,"features",{"standard:connect":{version:"1.0.0",connect:async()=>{this.bellhop.send("connect");let nt=await this.fetch("account");return this.accounts=nt,nt.length>0&&(this.currentAccount=nt[0]),{accounts:nt}}},"standard:events":{version:"1.0.0",on:nt=>()=>{}},"sui:signMessage":{version:"1.0.0",signMessage:async()=>{throw new Error("No impl")}},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:async()=>{throw new Error("No impl")}},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:async nt=>this.proposeIntention(nt)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:async nt=>this.proposeIntention(nt)}});this.appName=nt,this.clientUrl=et,this.network=at,this.bellhop.connect(),this.bellhop.on("walletMessage",async mt=>{this.walletMessageListener&&this.walletMessageListener.onMessage(mt.data)}),this.bellhop.on("accountChange",async mt=>{this.currentAccount=mt.data,this.onAccountChangeListner&&this.onAccountChangeListner.onAccountChange(this.currentAccount)})}setWalletMessageListener(nt){this.walletMessageListener=nt}setOnAccountChangeListener(nt){this.onAccountChangeListner=nt}static inMSafeWallet(){return typeof window<"u"&&typeof document<"u"&&typeof parent<"u"&&typeof parent.window<"u"&&parent.window!==window}async proposeIntention(nt){if(!this.currentAccount)throw new Error("Wallet not connected");let et=nt.transactionBlock.serialize();this.bellhop.send("proposeIntention",{application:this.appName,...nt,transactionBlockSerialize:et,clientUrl:this.clientUrl,network:this.network,account:this.currentAccount,isTransaction:!0});let at;return this.bellhop.on("cancel",async()=>{at&&at("User canceled")}),new Promise((mt,$t)=>{at=$t})}async fetch(nt){return new Promise(et=>{this.bellhop.fetch(nt,at=>{et(at.data)})})}},dist={};Object.defineProperty(dist,"__esModule",{value:!0});var executeAuction_1=dist.executeAuction=executeAuction,axios_1=require$$0$1,RPC_URL="https://rpc.getshio.com",DEFAULT_MAX_DELAY=500,AUCTION_DELAY=300;function executeAuction(nt,et,at){at===void 0&&(at=DEFAULT_MAX_DELAY);var mt={jsonrpc:"2.0",method:"shio_executeAuction",params:[nt,et],id:1};return new Promise(function($t,Ct){setTimeout($t,at),axios_1.default.post(RPC_URL,mt,{headers:{"Content-Type":"application/json"},timeout:at}).then(function(Dt){console.log("Shio executeAuction response:",Dt.data),setTimeout($t,AUCTION_DELAY)}).catch(Ct)})}dist.default={executeAuction};const isMenuActive=(nt,et)=>et.startsWith(nt.path)||!!nt.children&&nt.children.some(at=>isMenuActive(at,et)),getCroppedImg=(nt,et,at,mt="image/jpeg")=>new Promise(($t,Ct)=>{const Dt=new Image;Dt.src=nt,Dt.crossOrigin="anonymous",Dt.onload=()=>{const Ft=document.createElement("canvas"),Nt=Ft.getContext("2d");Ft.width=et.width,Ft.height=et.height,Nt.drawImage(Dt,et.x,et.y,et.width,et.height,0,0,et.width,et.height),Ft.toDataURL(mt),Ft.toBlob(jt=>{if(jt){const Lt=new File([jt],at,{type:mt});$t(Lt)}},mt)},Dt.onerror=Ft=>{Ct(Ft)}}),calcNumber=nt=>typeof nt=="string"&&nt.includes("px")?parseInt(nt.replace("px","")):nt.toString(),replaceFilename=(nt,et)=>{const at=new Blob([nt],{type:nt.type});return new File([at],et,{type:nt.type,lastModified:nt.lastModified})},ExcludeCNCharRegex=/^[^\u4e00-\u9fa5]+$/,ExcludeSpecialCharRegex=/^[a-zA-Z0-9\s]+$/,SymbolExcludeSpecialCharRegex=/^[a-zA-Z0-9_]+$/,SymbolLimitRegex=/^[A-Z][A-Za-z_0-9]*$/,BlankSpaceRegex=/\s/,WebSiteUrlRegex=/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/,XUrlRegex=/^(https?:\/\/)?(www\.)?x\.com\/([a-zA-Z0-9_\/\-]*)$/,DiscordRegex=/^(https?:\/\/)?(www\.)?discord\.com(\/[a-zA-Z0-9_\/\-]*)?$/,TelegramRegex=/^(https?:\/\/)?(www\.)?(t\.me|telegram\.org)(\/[a-zA-Z0-9_\-]*)?$/;function SelectTab(nt){const{type:et,tabList:at,currentTab:mt,isActive:$t,handleChangeTab:Ct,wrapStyle:Dt={h:"60px",p:"8px"},itemStyle:Ft={fontSize:"14px"},...Nt}=nt,{isApp:jt}=useWindowWidth(),Lt=Vt=>$t?$t(mt,Vt):mt===(Vt.key||Vt.label);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et==="outlineTab"&&jsxRuntimeExports.jsx(Flex,{bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",...Dt,children:at==null?void 0:at.map(Vt=>{const er=Lt(Vt);return jsxRuntimeExports.jsxs(Flex,{borderRadius:"4px",align:"center",justify:"center",cursor:"pointer",bg:er?"card_bg":"none",onClick:()=>Ct(Vt),...Ft,children:[Vt.imgInfo&&(Vt!=null&&Vt.isToken?jsxRuntimeExports.jsx(SingleCoinImage,{...Vt.imgInfo,imageUrl:Vt.imgInfo.src}):jsxRuntimeExports.jsx(Image$1,{...Vt.imgInfo,src:Vt.imgInfo.src})),Vt.beforeIcon&&(Vt!=null&&Vt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Vt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Vt.beforeIcon,isActive:er})}):jsxRuntimeExports.jsx(Icon,{...Vt.beforeIcon,isActive:er})),jsxRuntimeExports.jsx(Text,{fontSize:Ft.fontSize,whiteSpace:"nowrap",color:er?"primary":"primary_gray",_hover:{color:jt?"none":"primary"},children:Vt!=null&&Vt.isToken?textEllipses(Vt.label,10):Vt.label}),(Vt==null?void 0:Vt.num)!==""&&((Vt==null?void 0:Vt.num)||Number(Vt==null?void 0:Vt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:Vt==null?void 0:Vt.num}),Vt.afterIcon&&(Vt!=null&&Vt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Vt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Vt.afterIcon,isActive:er})}):jsxRuntimeExports.jsx(Icon,{...Vt.afterIcon,isActive:er}))]},(Vt==null?void 0:Vt.key)||Vt.label)})}),et==="borderTab"&&jsxRuntimeExports.jsx(Flex,{borderRadius:"12px",bg:"bg_secondary",border:"1px solid",borderColor:"border",...Dt,children:at==null?void 0:at.map(Vt=>jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"center",cursor:"pointer",onClick:()=>Ct(Vt),...Ft,...Nt,children:[Vt.imgInfo&&jsxRuntimeExports.jsx(Image$1,{...Vt.imgInfo,src:Vt.imgInfo.src,mr:"8px"}),Vt.beforeIcon&&(Vt!=null&&Vt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Vt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Vt.beforeIcon,isActive:Lt(Vt)})}):jsxRuntimeExports.jsx(Icon,{...Vt.beforeIcon,isActive:Lt(Vt)})),jsxRuntimeExports.jsx(Text,{color:($t?$t(mt,Vt):mt==(Vt.key||Vt.label))?"primary":"primary_gray",fontSize:Ft.fontSize,h:Ft.fontSize,lineHeight:Ft.fontSize,position:"relative",sx:Object.assign({_hover:{color:"primary"},_before:($t?$t(mt,Vt):mt==(Vt.key||Vt.label))?{content:"''",width:"20px",height:"2px",background:"primary",position:"absolute",left:"calc(50% - 10px)",bottom:-d$1(calcNumber(Dt.h)).minus(calcNumber(Ft.fontSize||"14px")).div(2).toString()+"px"}:{}},(Ft==null?void 0:Ft.sx)||{}),children:Vt.label}),(Vt==null?void 0:Vt.num)!==""&&((Vt==null?void 0:Vt.num)||Number(Vt==null?void 0:Vt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:Vt==null?void 0:Vt.num}),Vt.afterIcon&&(Vt!=null&&Vt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:Vt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...Vt.afterIcon,isActive:Lt(Vt)})}):jsxRuntimeExports.jsx(Icon,{...Vt.afterIcon,isActive:Lt(Vt)})),(Vt==null?void 0:Vt.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-30px",top:"10px",h:"12px"})]},(Vt==null?void 0:Vt.key)||Vt.label))})]})}const TooltipCon=({children:nt,tooltip:et})=>jsxRuntimeExports.jsx(Tooltip,{label:jsxRuntimeExports.jsx(Text,{fontSize:"12px",lineHeight:"20px",children:et}),"aria-label":"Yield",placement:"bottom-end",children:jsxRuntimeExports.jsx("button",{onClick:at=>cancelBubble(at),children:nt})});function SearchInput({inputValue:nt,changeInputValue:et,isFrom:at="",inputFontSize:mt="sm",isWidget:$t=!1}){const Ct=reactExports.useRef(null),{isApp:Dt}=useWindowWidth();return reactExports.useEffect(()=>{Dt||Ct.current.focus()},[Dt]),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{_hover:{bg:$t?"swap_bg_secondary":"bg_secondary"},bg:$t?"swap_bg_secondary":"bg_secondary",ref:Ct,borderRadius:"8px",h:"36px",border:"none",variant:"outline",value:nt,onChange:Ft=>{et(Ft.target.value)},fontWeight:"500",textAlign:"left",fontSize:mt,placeholder:"Search by token or address",pr:at=="pools"?"22px":{base:"28px",md:"28px",lg:"28px"},pl:at=="pools"?"8px":{md:"12px",lg:"16px"}}),jsxRuntimeExports.jsx(InputRightElement,{children:nt?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",position:"absolute",top:"8px",right:at=="pools"?"4px":"8px",onClick:Ft=>{Ft.stopPropagation(),et("")}}):null})]})}var _populated=!1,_ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile;function _populate(){if(!_populated){_populated=!0;var nt=navigator.userAgent,et=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(nt),at=/(Mac OS X)|(Windows)|(Linux)/.exec(nt);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(nt),_ipad=/\b(iP[ao]d)/.exec(nt),_android=/Android/i.exec(nt),_native=/FBAN\/\w+;/i.exec(nt),_mobile=/Mobile/i.exec(nt),_win64=!!/Win64/.exec(nt),et){_ie=et[1]?parseFloat(et[1]):et[5]?parseFloat(et[5]):NaN,_ie&&document&&document.documentMode&&(_ie=document.documentMode);var mt=/(?:Trident\/(\d+.\d+))/.exec(nt);_ie_real_version=mt?parseFloat(mt[1])+4:_ie,_firefox=et[2]?parseFloat(et[2]):NaN,_opera=et[3]?parseFloat(et[3]):NaN,_webkit=et[4]?parseFloat(et[4]):NaN,_webkit?(et=/(?:Chrome\/(\d+\.\d+))/.exec(nt),_chrome=et&&et[1]?parseFloat(et[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if(at){if(at[1]){var $t=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(nt);_osx=$t?parseFloat($t[1].replace("_",".")):!0}else _osx=!1;_windows=!!at[2],_linux=!!at[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED$1={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED$1.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED$1.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}},UserAgent_DEPRECATED_1=UserAgent_DEPRECATED$1,canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),ExecutionEnvironment$1={canUseDOM,canUseWorkers:typeof Worker<"u",canUseEventListeners:canUseDOM&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM},ExecutionEnvironment_1=ExecutionEnvironment$1,ExecutionEnvironment=ExecutionEnvironment_1,useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function isEventSupported$1(nt,et){if(!ExecutionEnvironment.canUseDOM||et&&!("addEventListener"in document))return!1;var at="on"+nt,mt=at in document;if(!mt){var $t=document.createElement("div");$t.setAttribute(at,"return;"),mt=typeof $t[at]=="function"}return!mt&&useHasFeature&&nt==="wheel"&&(mt=document.implementation.hasFeature("Events.wheel","3.0")),mt}var isEventSupported_1=isEventSupported$1,UserAgent_DEPRECATED=UserAgent_DEPRECATED_1,isEventSupported=isEventSupported_1,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel$2(nt){var et=0,at=0,mt=0,$t=0;return"detail"in nt&&(at=nt.detail),"wheelDelta"in nt&&(at=-nt.wheelDelta/120),"wheelDeltaY"in nt&&(at=-nt.wheelDeltaY/120),"wheelDeltaX"in nt&&(et=-nt.wheelDeltaX/120),"axis"in nt&&nt.axis===nt.HORIZONTAL_AXIS&&(et=at,at=0),mt=et*PIXEL_STEP,$t=at*PIXEL_STEP,"deltaY"in nt&&($t=nt.deltaY),"deltaX"in nt&&(mt=nt.deltaX),(mt||$t)&&nt.deltaMode&&(nt.deltaMode==1?(mt*=LINE_HEIGHT,$t*=LINE_HEIGHT):(mt*=PAGE_HEIGHT,$t*=PAGE_HEIGHT)),mt&&!et&&(et=mt<1?-1:1),$t&&!at&&(at=$t<1?-1:1),{spinX:et,spinY:at,pixelX:mt,pixelY:$t}}normalizeWheel$2.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"};var normalizeWheel_1=normalizeWheel$2,normalizeWheel=normalizeWheel_1;const normalizeWheel$1=getDefaultExportFromCjs$2(normalizeWheel);function getCropSize(nt,et,at,mt,$t,Ct){Ct===void 0&&(Ct=0);var Dt=rotateSize(nt,et,Ct),Ft=Dt.width,Nt=Dt.height,jt=Math.min(Ft,at),Lt=Math.min(Nt,mt);return jt>Lt*$t?{width:Lt*$t,height:Lt}:{width:jt,height:jt/$t}}function getMediaZoom(nt){return nt.width>nt.height?nt.width/nt.naturalWidth:nt.height/nt.naturalHeight}function restrictPosition(nt,et,at,mt,$t){$t===void 0&&($t=0);var Ct=rotateSize(et.width,et.height,$t),Dt=Ct.width,Ft=Ct.height;return{x:restrictPositionCoord(nt.x,Dt,at.width,mt),y:restrictPositionCoord(nt.y,Ft,at.height,mt)}}function restrictPositionCoord(nt,et,at,mt){var $t=et*mt/2-at/2;return clamp(nt,-$t,$t)}function getDistanceBetweenPoints(nt,et){return Math.sqrt(Math.pow(nt.y-et.y,2)+Math.pow(nt.x-et.x,2))}function getRotationBetweenPoints(nt,et){return Math.atan2(et.y-nt.y,et.x-nt.x)*180/Math.PI}function computeCroppedArea(nt,et,at,mt,$t,Ct,Dt){Ct===void 0&&(Ct=0),Dt===void 0&&(Dt=!0);var Ft=Dt?limitArea:noOp,Nt=rotateSize(et.width,et.height,Ct),jt=rotateSize(et.naturalWidth,et.naturalHeight,Ct),Lt={x:Ft(100,((Nt.width-at.width/$t)/2-nt.x/$t)/Nt.width*100),y:Ft(100,((Nt.height-at.height/$t)/2-nt.y/$t)/Nt.height*100),width:Ft(100,at.width/Nt.width*100/$t),height:Ft(100,at.height/Nt.height*100/$t)},Vt=Math.round(Ft(jt.width,Lt.width*jt.width/100)),er=Math.round(Ft(jt.height,Lt.height*jt.height/100)),ir=jt.width>=jt.height*mt,or=ir?{width:Math.round(er*mt),height:er}:{width:Vt,height:Math.round(Vt/mt)},lr=__assign$2(__assign$2({},or),{x:Math.round(Ft(jt.width-or.width,Lt.x*jt.width/100)),y:Math.round(Ft(jt.height-or.height,Lt.y*jt.height/100))});return{croppedAreaPercentages:Lt,croppedAreaPixels:lr}}function limitArea(nt,et){return Math.min(nt,Math.max(0,et))}function noOp(nt,et){return et}function getInitialCropFromCroppedAreaPercentages(nt,et,at,mt,$t,Ct){var Dt=rotateSize(et.width,et.height,at),Ft=clamp(mt.width/Dt.width*(100/nt.width),$t,Ct),Nt={x:Ft*Dt.width/2-mt.width/2-Dt.width*Ft*(nt.x/100),y:Ft*Dt.height/2-mt.height/2-Dt.height*Ft*(nt.y/100)};return{crop:Nt,zoom:Ft}}function getZoomFromCroppedAreaPixels(nt,et,at){var mt=getMediaZoom(et);return at.height>at.width?at.height/(nt.height*mt):at.width/(nt.width*mt)}function getInitialCropFromCroppedAreaPixels(nt,et,at,mt,$t,Ct){at===void 0&&(at=0);var Dt=rotateSize(et.naturalWidth,et.naturalHeight,at),Ft=clamp(getZoomFromCroppedAreaPixels(nt,et,mt),$t,Ct),Nt=mt.height>mt.width?mt.height/nt.height:mt.width/nt.width,jt={x:((Dt.width-nt.width)/2-nt.x)*Nt,y:((Dt.height-nt.height)/2-nt.y)*Nt};return{crop:jt,zoom:Ft}}function getCenter(nt,et){return{x:(et.x+nt.x)/2,y:(et.y+nt.y)/2}}function getRadianAngle(nt){return nt*Math.PI/180}function rotateSize(nt,et,at){var mt=getRadianAngle(at);return{width:Math.abs(Math.cos(mt)*nt)+Math.abs(Math.sin(mt)*et),height:Math.abs(Math.sin(mt)*nt)+Math.abs(Math.cos(mt)*et)}}function clamp(nt,et,at){return Math.min(Math.max(nt,et),at)}function classNames(){for(var nt=[],et=0;et<arguments.length;et++)nt[et]=arguments[et];return nt.filter(function(at){return typeof at=="string"&&at.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=function(nt){__extends$1(et,nt);function et(){var at=nt!==null&&nt.apply(this,arguments)||this;return at.imageRef=reactExports.createRef(),at.videoRef=reactExports.createRef(),at.containerPosition={x:0,y:0},at.containerRef=null,at.styleRef=null,at.containerRect=null,at.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},at.dragStartPosition={x:0,y:0},at.dragStartCrop={x:0,y:0},at.gestureZoomStart=0,at.gestureRotationStart=0,at.isTouching=!1,at.lastPinchDistance=0,at.lastPinchRotation=0,at.rafDragTimeout=null,at.rafPinchTimeout=null,at.wheelTimer=null,at.currentDoc=typeof document<"u"?document:null,at.currentWindow=typeof window<"u"?window:null,at.resizeObserver=null,at.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},at.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!at.containerRef)){var mt=!0;at.resizeObserver=new window.ResizeObserver(function($t){if(mt){mt=!1;return}at.computeSizes()}),at.resizeObserver.observe(at.containerRef)}},at.preventZoomSafari=function(mt){return mt.preventDefault()},at.cleanEvents=function(){at.currentDoc&&(at.currentDoc.removeEventListener("mousemove",at.onMouseMove),at.currentDoc.removeEventListener("mouseup",at.onDragStopped),at.currentDoc.removeEventListener("touchmove",at.onTouchMove),at.currentDoc.removeEventListener("touchend",at.onDragStopped),at.currentDoc.removeEventListener("gesturemove",at.onGestureMove),at.currentDoc.removeEventListener("gestureend",at.onGestureEnd),at.currentDoc.removeEventListener("scroll",at.onScroll))},at.clearScrollEvent=function(){at.containerRef&&at.containerRef.removeEventListener("wheel",at.onWheel),at.wheelTimer&&clearTimeout(at.wheelTimer)},at.onMediaLoad=function(){var mt=at.computeSizes();mt&&(at.emitCropData(),at.setInitialCrop(mt)),at.props.onMediaLoaded&&at.props.onMediaLoaded(at.mediaSize)},at.setInitialCrop=function(mt){if(at.props.initialCroppedAreaPercentages){var $t=getInitialCropFromCroppedAreaPercentages(at.props.initialCroppedAreaPercentages,at.mediaSize,at.props.rotation,mt,at.props.minZoom,at.props.maxZoom),Ct=$t.crop,Dt=$t.zoom;at.props.onCropChange(Ct),at.props.onZoomChange&&at.props.onZoomChange(Dt)}else if(at.props.initialCroppedAreaPixels){var Ft=getInitialCropFromCroppedAreaPixels(at.props.initialCroppedAreaPixels,at.mediaSize,at.props.rotation,mt,at.props.minZoom,at.props.maxZoom),Ct=Ft.crop,Dt=Ft.zoom;at.props.onCropChange(Ct),at.props.onZoomChange&&at.props.onZoomChange(Dt)}},at.computeSizes=function(){var mt,$t,Ct,Dt,Ft,Nt,jt=at.imageRef.current||at.videoRef.current;if(jt&&at.containerRef){at.containerRect=at.containerRef.getBoundingClientRect(),at.saveContainerPosition();var Lt=at.containerRect.width/at.containerRect.height,Vt=((mt=at.imageRef.current)===null||mt===void 0?void 0:mt.naturalWidth)||(($t=at.videoRef.current)===null||$t===void 0?void 0:$t.videoWidth)||0,er=((Ct=at.imageRef.current)===null||Ct===void 0?void 0:Ct.naturalHeight)||((Dt=at.videoRef.current)===null||Dt===void 0?void 0:Dt.videoHeight)||0,ir=jt.offsetWidth<Vt||jt.offsetHeight<er,or=Vt/er,lr=void 0;if(ir)switch(at.state.mediaObjectFit){default:case"contain":lr=Lt>or?{width:at.containerRect.height*or,height:at.containerRect.height}:{width:at.containerRect.width,height:at.containerRect.width/or};break;case"horizontal-cover":lr={width:at.containerRect.width,height:at.containerRect.width/or};break;case"vertical-cover":lr={width:at.containerRect.height*or,height:at.containerRect.height};break}else lr={width:jt.offsetWidth,height:jt.offsetHeight};at.mediaSize=__assign$2(__assign$2({},lr),{naturalWidth:Vt,naturalHeight:er}),at.props.setMediaSize&&at.props.setMediaSize(at.mediaSize);var dr=at.props.cropSize?at.props.cropSize:getCropSize(at.mediaSize.width,at.mediaSize.height,at.containerRect.width,at.containerRect.height,at.props.aspect,at.props.rotation);return(((Ft=at.state.cropSize)===null||Ft===void 0?void 0:Ft.height)!==dr.height||((Nt=at.state.cropSize)===null||Nt===void 0?void 0:Nt.width)!==dr.width)&&at.props.onCropSizeChange&&at.props.onCropSizeChange(dr),at.setState({cropSize:dr},at.recomputeCropPosition),at.props.setCropSize&&at.props.setCropSize(dr),dr}},at.saveContainerPosition=function(){if(at.containerRef){var mt=at.containerRef.getBoundingClientRect();at.containerPosition={x:mt.left,y:mt.top}}},at.onMouseDown=function(mt){at.currentDoc&&(mt.preventDefault(),at.currentDoc.addEventListener("mousemove",at.onMouseMove),at.currentDoc.addEventListener("mouseup",at.onDragStopped),at.saveContainerPosition(),at.onDragStart(et.getMousePoint(mt)))},at.onMouseMove=function(mt){return at.onDrag(et.getMousePoint(mt))},at.onScroll=function(mt){at.currentDoc&&(mt.preventDefault(),at.saveContainerPosition())},at.onTouchStart=function(mt){at.currentDoc&&(at.isTouching=!0,!(at.props.onTouchRequest&&!at.props.onTouchRequest(mt))&&(at.currentDoc.addEventListener("touchmove",at.onTouchMove,{passive:!1}),at.currentDoc.addEventListener("touchend",at.onDragStopped),at.saveContainerPosition(),mt.touches.length===2?at.onPinchStart(mt):mt.touches.length===1&&at.onDragStart(et.getTouchPoint(mt.touches[0]))))},at.onTouchMove=function(mt){mt.preventDefault(),mt.touches.length===2?at.onPinchMove(mt):mt.touches.length===1&&at.onDrag(et.getTouchPoint(mt.touches[0]))},at.onGestureStart=function(mt){at.currentDoc&&(mt.preventDefault(),at.currentDoc.addEventListener("gesturechange",at.onGestureMove),at.currentDoc.addEventListener("gestureend",at.onGestureEnd),at.gestureZoomStart=at.props.zoom,at.gestureRotationStart=at.props.rotation)},at.onGestureMove=function(mt){if(mt.preventDefault(),!at.isTouching){var $t=et.getMousePoint(mt),Ct=at.gestureZoomStart-1+mt.scale;if(at.setNewZoom(Ct,$t,{shouldUpdatePosition:!0}),at.props.onRotationChange){var Dt=at.gestureRotationStart+mt.rotation;at.props.onRotationChange(Dt)}}},at.onGestureEnd=function(mt){at.cleanEvents()},at.onDragStart=function(mt){var $t,Ct,Dt=mt.x,Ft=mt.y;at.dragStartPosition={x:Dt,y:Ft},at.dragStartCrop=__assign$2({},at.props.crop),(Ct=($t=at.props).onInteractionStart)===null||Ct===void 0||Ct.call($t)},at.onDrag=function(mt){var $t=mt.x,Ct=mt.y;at.currentWindow&&(at.rafDragTimeout&&at.currentWindow.cancelAnimationFrame(at.rafDragTimeout),at.rafDragTimeout=at.currentWindow.requestAnimationFrame(function(){if(at.state.cropSize&&!($t===void 0||Ct===void 0)){var Dt=$t-at.dragStartPosition.x,Ft=Ct-at.dragStartPosition.y,Nt={x:at.dragStartCrop.x+Dt,y:at.dragStartCrop.y+Ft},jt=at.props.restrictPosition?restrictPosition(Nt,at.mediaSize,at.state.cropSize,at.props.zoom,at.props.rotation):Nt;at.props.onCropChange(jt)}}))},at.onDragStopped=function(){var mt,$t;at.isTouching=!1,at.cleanEvents(),at.emitCropData(),($t=(mt=at.props).onInteractionEnd)===null||$t===void 0||$t.call(mt)},at.onWheel=function(mt){if(at.currentWindow&&!(at.props.onWheelRequest&&!at.props.onWheelRequest(mt))){mt.preventDefault();var $t=et.getMousePoint(mt),Ct=normalizeWheel$1(mt).pixelY,Dt=at.props.zoom-Ct*at.props.zoomSpeed/200;at.setNewZoom(Dt,$t,{shouldUpdatePosition:!0}),at.state.hasWheelJustStarted||at.setState({hasWheelJustStarted:!0},function(){var Ft,Nt;return(Nt=(Ft=at.props).onInteractionStart)===null||Nt===void 0?void 0:Nt.call(Ft)}),at.wheelTimer&&clearTimeout(at.wheelTimer),at.wheelTimer=at.currentWindow.setTimeout(function(){return at.setState({hasWheelJustStarted:!1},function(){var Ft,Nt;return(Nt=(Ft=at.props).onInteractionEnd)===null||Nt===void 0?void 0:Nt.call(Ft)})},250)}},at.getPointOnContainer=function(mt,$t){var Ct=mt.x,Dt=mt.y;if(!at.containerRect)throw new Error("The Cropper is not mounted");return{x:at.containerRect.width/2-(Ct-$t.x),y:at.containerRect.height/2-(Dt-$t.y)}},at.getPointOnMedia=function(mt){var $t=mt.x,Ct=mt.y,Dt=at.props,Ft=Dt.crop,Nt=Dt.zoom;return{x:($t+Ft.x)/Nt,y:(Ct+Ft.y)/Nt}},at.setNewZoom=function(mt,$t,Ct){var Dt=Ct===void 0?{}:Ct,Ft=Dt.shouldUpdatePosition,Nt=Ft===void 0?!0:Ft;if(!(!at.state.cropSize||!at.props.onZoomChange)){var jt=clamp(mt,at.props.minZoom,at.props.maxZoom);if(Nt){var Lt=at.getPointOnContainer($t,at.containerPosition),Vt=at.getPointOnMedia(Lt),er={x:Vt.x*jt-Lt.x,y:Vt.y*jt-Lt.y},ir=at.props.restrictPosition?restrictPosition(er,at.mediaSize,at.state.cropSize,jt,at.props.rotation):er;at.props.onCropChange(ir)}at.props.onZoomChange(jt)}},at.getCropData=function(){if(!at.state.cropSize)return null;var mt=at.props.restrictPosition?restrictPosition(at.props.crop,at.mediaSize,at.state.cropSize,at.props.zoom,at.props.rotation):at.props.crop;return computeCroppedArea(mt,at.mediaSize,at.state.cropSize,at.getAspect(),at.props.zoom,at.props.rotation,at.props.restrictPosition)},at.emitCropData=function(){var mt=at.getCropData();if(mt){var $t=mt.croppedAreaPercentages,Ct=mt.croppedAreaPixels;at.props.onCropComplete&&at.props.onCropComplete($t,Ct),at.props.onCropAreaChange&&at.props.onCropAreaChange($t,Ct)}},at.emitCropAreaChange=function(){var mt=at.getCropData();if(mt){var $t=mt.croppedAreaPercentages,Ct=mt.croppedAreaPixels;at.props.onCropAreaChange&&at.props.onCropAreaChange($t,Ct)}},at.recomputeCropPosition=function(){if(at.state.cropSize){var mt=at.props.restrictPosition?restrictPosition(at.props.crop,at.mediaSize,at.state.cropSize,at.props.zoom,at.props.rotation):at.props.crop;at.props.onCropChange(mt),at.emitCropData()}},at.onKeyDown=function(mt){var $t=at.props,Ct=$t.crop,Dt=$t.onCropChange,Ft=$t.keyboardStep,Nt=$t.zoom,jt=$t.rotation,Lt=Ft;if(at.state.cropSize){mt.shiftKey&&(Lt*=.2);var Vt=__assign$2({},Ct);switch(mt.key){case"ArrowUp":Vt.y-=Lt,mt.preventDefault();break;case"ArrowDown":Vt.y+=Lt,mt.preventDefault();break;case"ArrowLeft":Vt.x-=Lt,mt.preventDefault();break;case"ArrowRight":Vt.x+=Lt,mt.preventDefault();break;default:return}at.props.restrictPosition&&(Vt=restrictPosition(Vt,at.mediaSize,at.state.cropSize,Nt,jt)),Dt(Vt)}},at}return et.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},et.prototype.componentWillUnmount=function(){var at,mt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(at=this.resizeObserver)===null||at===void 0||at.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((mt=this.styleRef.parentNode)===null||mt===void 0||mt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},et.prototype.componentDidUpdate=function(at){var mt,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt;at.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):at.aspect!==this.props.aspect?this.computeSizes():at.objectFit!==this.props.objectFit?this.computeSizes():at.zoom!==this.props.zoom?this.recomputeCropPosition():((mt=at.cropSize)===null||mt===void 0?void 0:mt.height)!==(($t=this.props.cropSize)===null||$t===void 0?void 0:$t.height)||((Ct=at.cropSize)===null||Ct===void 0?void 0:Ct.width)!==((Dt=this.props.cropSize)===null||Dt===void 0?void 0:Dt.width)?this.computeSizes():(((Ft=at.crop)===null||Ft===void 0?void 0:Ft.x)!==((Nt=this.props.crop)===null||Nt===void 0?void 0:Nt.x)||((jt=at.crop)===null||jt===void 0?void 0:jt.y)!==((Lt=this.props.crop)===null||Lt===void 0?void 0:Lt.y))&&this.emitCropAreaChange(),at.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),at.video!==this.props.video&&((Vt=this.videoRef.current)===null||Vt===void 0||Vt.load());var er=this.getObjectFit();er!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:er},this.computeSizes)},et.prototype.getAspect=function(){var at=this.props,mt=at.cropSize,$t=at.aspect;return mt?mt.width/mt.height:$t},et.prototype.getObjectFit=function(){var at,mt,$t,Ct;if(this.props.objectFit==="cover"){var Dt=this.imageRef.current||this.videoRef.current;if(Dt&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var Ft=this.containerRect.width/this.containerRect.height,Nt=((at=this.imageRef.current)===null||at===void 0?void 0:at.naturalWidth)||((mt=this.videoRef.current)===null||mt===void 0?void 0:mt.videoWidth)||0,jt=(($t=this.imageRef.current)===null||$t===void 0?void 0:$t.naturalHeight)||((Ct=this.videoRef.current)===null||Ct===void 0?void 0:Ct.videoHeight)||0,Lt=Nt/jt;return Lt<Ft?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},et.prototype.onPinchStart=function(at){var mt=et.getTouchPoint(at.touches[0]),$t=et.getTouchPoint(at.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(mt,$t),this.lastPinchRotation=getRotationBetweenPoints(mt,$t),this.onDragStart(getCenter(mt,$t))},et.prototype.onPinchMove=function(at){var mt=this;if(!(!this.currentDoc||!this.currentWindow)){var $t=et.getTouchPoint(at.touches[0]),Ct=et.getTouchPoint(at.touches[1]),Dt=getCenter($t,Ct);this.onDrag(Dt),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var Ft=getDistanceBetweenPoints($t,Ct),Nt=mt.props.zoom*(Ft/mt.lastPinchDistance);mt.setNewZoom(Nt,Dt,{shouldUpdatePosition:!1}),mt.lastPinchDistance=Ft;var jt=getRotationBetweenPoints($t,Ct),Lt=mt.props.rotation+(jt-mt.lastPinchRotation);mt.props.onRotationChange&&mt.props.onRotationChange(Lt),mt.lastPinchRotation=jt})}},et.prototype.render=function(){var at=this,mt,$t=this.props,Ct=$t.image,Dt=$t.video,Ft=$t.mediaProps,Nt=$t.transform,jt=$t.crop,Lt=jt.x,Vt=jt.y,er=$t.rotation,ir=$t.zoom,or=$t.cropShape,lr=$t.showGrid,dr=$t.style,pr=dr.containerStyle,hr=dr.cropAreaStyle,vr=dr.mediaStyle,br=$t.classes,xr=br.containerClassName,Sr=br.cropAreaClassName,Er=br.mediaClassName,$r=(mt=this.state.mediaObjectFit)!==null&&mt!==void 0?mt:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(kr){return at.containerRef=kr},"data-testid":"container",style:pr,className:classNames("reactEasyCrop_Container",xr)},Ct?reactExports.createElement("img",__assign$2({alt:"",className:classNames("reactEasyCrop_Image",$r==="contain"&&"reactEasyCrop_Contain",$r==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$r==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Er)},Ft,{src:Ct,ref:this.imageRef,style:__assign$2(__assign$2({},vr),{transform:Nt||"translate(".concat(Lt,"px, ").concat(Vt,"px) rotate(").concat(er,"deg) scale(").concat(ir,")")}),onLoad:this.onMediaLoad})):Dt&&reactExports.createElement("video",__assign$2({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",$r==="contain"&&"reactEasyCrop_Contain",$r==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$r==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",Er)},Ft,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign$2(__assign$2({},vr),{transform:Nt||"translate(".concat(Lt,"px, ").concat(Vt,"px) rotate(").concat(er,"deg) scale(").concat(ir,")")}),controls:!1}),(Array.isArray(Dt)?Dt:[{src:Dt}]).map(function(Cr){return reactExports.createElement("source",__assign$2({key:Cr.src},Cr))})),this.state.cropSize&&reactExports.createElement("div",{style:__assign$2(__assign$2({},hr),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",or==="round"&&"reactEasyCrop_CropAreaRound",lr&&"reactEasyCrop_CropAreaGrid",Sr)}))},et.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},et.getMousePoint=function(at){return{x:Number(at.clientX),y:Number(at.clientY)}},et.getTouchPoint=function(at){return{x:Number(at.clientX),y:Number(at.clientY)}},et}(reactExports.Component);function CropImage({src:nt,dataUrl:et,file:at,open:mt,onClose:$t,onCancel:Ct,onOk:Dt}){const[Ft,Nt]=reactExports.useState({x:0,y:0}),[jt,Lt]=reactExports.useState(1),[Vt,er]=reactExports.useState(!1),[ir,or]=reactExports.useState(null),lr=async(pr,hr)=>{or({croppedArea:pr,croppedAreaPixels:hr})},dr=async()=>{er(!0);try{const pr=await getCroppedImg(et,ir.croppedAreaPixels,at.name,at.type);await Dt(pr)}catch(pr){console.error(pr)}finally{er(!1)}};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:mt,onClose:$t,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",color:"text_caption",fontSize:"16px",children:"Edit file"}),jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",children:"Crop and zoom on your image."})]})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Box,{position:"relative",h:"280px",w:"100%",mb:"12px",children:jsxRuntimeExports.jsx(Cropper,{image:nt,crop:Ft,zoom:jt,aspect:1,showGrid:!1,onCropChange:Nt,onCropComplete:lr,onZoomChange:Lt,style:{cropAreaStyle:{border:"2px solid #76C8FF"}}})}),jsxRuntimeExports.jsxs(HStack,{p:"0px 60px",gap:"24px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomin",fontSize:"20px",svgFill:jt-.2<.1?"primary_disabled":"text_paragraph",svgHover:jt-.2<.1?"primary_disabled":"text_caption",onClick:()=>{jt-.2>=0&&Lt(jt-.2)}}),jsxRuntimeExports.jsxs(Slider,{"aria-label":"slider-ex-1",min:.1,max:3,step:.2,value:jt,onChange:pr=>Lt(pr),children:[jsxRuntimeExports.jsx(SliderTrack,{h:"4px",bg:"crop_slider_tracker",children:jsxRuntimeExports.jsx(SliderFilledTrack,{})}),jsxRuntimeExports.jsx(SliderThumb,{boxSize:"4"})]}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:"20px",svgFill:jt+.2>3?"primary_disabled":"text_paragraph",svgHover:jt+.2>3?"primary_disabled":"text_caption",onClick:()=>{jt+.2<=3&&Lt(jt+.2)}})]})]}),jsxRuntimeExports.jsxs(ModalFooter,{justifyContent:"space-between",gap:"16px",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:Ct||$t,flex:"1",fontSize:"14px",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{flex:"1",fontSize:"14px",onClick:dr,isLoading:Vt,children:"Save"})]})]})]})}function ImageViewer({src:nt,open:et,onClose:at}){const[mt,$t]=reactExports.useState(1);return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:et,onClose:at,colorScheme:"blackAlpha",size:"full",isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:"transparent",backdropFilter:"blur(6px)",backgroundColor:"rgba(0, 0, 0, 0.1)",children:[jsxRuntimeExports.jsx(ModalCloseButton,{size:"lg"}),jsxRuntimeExports.jsxs(ModalBody,{display:"flex",justifyContent:"center",alignItems:"center",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(Image$1,{src:nt,transform:`scale(${mt})`,w:"100%"})}),jsxRuntimeExports.jsxs(HStack,{position:"absolute",bottom:"100px",left:"calc(50% - 44px)",w:"88px",justify:"space-between",children:[jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomin",cursor:"pointer",onClick:()=>$t(mt-.2)}),jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomout",cursor:"pointer",onClick:()=>$t(mt+.2)})]})]})]})]})}const TokenPlaceholder="/images/token_placeholder.png",btnStyle={w:{base:"32px",lg:"28px"},h:{base:"32px",lg:"28px"},bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"3px",display:{base:"block",lg:"none"},cursor:"pointer"};function PreView({src:nt,editable:et,onEdit:at,onDelete:mt,file:$t}){const[Ct,Dt]=reactExports.useState(!1),[Ft,Nt]=reactExports.useState(!1),jt=async Lt=>{at&&await at({origin:$t,cropped:Lt}),Dt(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{display:{base:"flex",lg:"block"},position:{base:"static",lg:"relative"},_hover:{div:{display:"flex"}},children:[jsxRuntimeExports.jsx(Image$1,{src:nt,fallbackSrc:TokenPlaceholder,alt:"preview",objectFit:"cover",w:{base:"200px",lg:"160px"},h:{base:"200px",lg:"160px"},borderRadius:"12px"}),jsxRuntimeExports.jsxs(Stack$1,{flexDir:{base:"column",lg:"row"},position:{base:"static",lg:"absolute"},justify:{base:"space-between",lg:"center"},ml:{base:"20px",lg:"0"},w:"100%",gap:"12px",bottom:"8px",children:[et&&jsxRuntimeExports.jsx(Tooltip,{label:"Edit file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Lt=>{Lt.stopPropagation(),Dt(!Ct)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Preview file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Lt=>{Lt.stopPropagation(),Nt(!Ft)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Remove file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Lt=>{Lt.stopPropagation(),mt($t)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_del",fontSize:{base:"24px",lg:"20px"}})})})]})]}),Ft&&jsxRuntimeExports.jsx(ImageViewer,{src:nt,open:Ft,onClose:()=>Nt(!1)}),Ct&&jsxRuntimeExports.jsx(CropImage,{src:nt,dataUrl:$t.dataUrl,file:$t,open:Ct,onClose:()=>Dt(!1),onOk:jt})]})}const CollectListBox=reactExports.lazy(()=>__vitePreload(()=>import("./CollectListBox-BJvbcbpQ.js"),__vite__mapDeps([0,1,2,3,4,5]))),TokenList=reactExports.lazy(()=>__vitePreload(()=>import("./TokenList-DX1pi79H.js"),__vite__mapDeps([6,7,8,4,1,2,3,5,9,10,11,12,13])));function TokenSelectCard(nt){const{isWidget:et=!1,isOpen:at,onClose:mt,onSelectToken:$t,haveImport:Ct,lastSelectedToken:Dt,isDisableSelectTokenItem:Ft=!1,isDcaSelect:Nt,whiteTokenList:jt,isShowCollectListBox:Lt=!0,isShowHotList:Vt=!0,isShowTokenListTab:er=!0,isShowLabelTab:ir=!0,tokenListMaxHeight:or,noDataHaveImg:lr=!0,noClickImportItem:dr=!1,bg:pr,onGoplusTokenClick:hr}=nt,{filterTokenListFun:vr,filterTokenWithLabel:br,getImportTokenList:xr,delImportTokenList:Sr,updateImportTokenList:Er,sortWithTokenList:$r}=useTokenSelect(),{setFilterTokenLoading:Cr,setShowImportBtn:kr,importTokenList:gr,filterTokenLoading:Ut,filterTokenList:tr,trustedTokenList:nr,setTokenModalOpacity:rr,userCollectList:ar}=useTokenSelectStore(),[cr,fr]=reactExports.useState(""),sr=Qr=>{const Un=Qr.replace(/[^[a-zA-Z0-9\s]+$/g,"");fr(Un),Un&&(Cr(!0),Yt(Un))},Yt=useDebounceFunction(Qr=>{jt&&jt.length>0?vr(Qr,jt,[],!1,!1):vr(Qr,nr,gr,Ct)},300),ur=Qr=>{console.log(Ft,Dt,Qr.coin_type,"selectToken"),Ft?Dt!==Qr.coin_type&&($t(Qr),mt()):($t(Qr),mt())},_r=[{label:"Watchlist",value:"Watchlist"},{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],yr=[{label:"All",value:"All"},{label:"Wormhole",value:"Wormhole"}],[wr,Ir]=reactExports.useState("Default"),[Or,Ar]=reactExports.useState("All"),{getCollectList:Nr,getDefaultTokenList:Hr,getTabByAddress:Pr,getUserCollectList:Dr}=useTokenSelect(),{tokenMap:Rr}=useTokenStore(),[Vr,an]=reactExports.useState(!1);reactExports.useEffect(()=>{an(!0)},[]),reactExports.useEffect(()=>{Vr&&Rr&&Rr.size>0&&Hr(),Vr&&(xr(),Dr())},[Rr,Vr]),reactExports.useEffect(()=>{nr.length>0&&Nr()},[nr]);const[Xr,Jr]=reactExports.useState(!1),Zr=!Xr&&(nr==null?void 0:nr.length)>0&&(gr==null?void 0:gr.length)>0;reactExports.useEffect(()=>{Zr&&(Er(),Jr(!0))},[Zr]),reactExports.useEffect(()=>{rr(1),at||(console.log("🚀🚀🚀 ~ file: index.tsx:164 ~ useEffect ~ tab22222"),Ir("Default"),Ar("All"),fr(""),kr(!1))},[at]);const{coinPriceObj:Gr}=useTokenPriceStore(),{currentAccount:zr}=useAccountStore(),Dn=reactExports.useMemo(()=>Ut?[]:cr?tr:jt&&jt.length>0?$r(Or!=="All"?tr:jt,Dt):wr=="Default"?$r(Or!=="All"?tr:nr,Dt):wr=="Imported"?$r(gr,Dt):$r(ar,Dt),[cr,tr,Ut,Or,wr,gr,jt,nr,Gr,zr==null?void 0:zr.address,ar]);return reactExports.useEffect(()=>{console.log("🚀🚀🚀 ~ TokenSelectCard ~ tokenList:",Dn)},[Dn]),reactExports.useEffect(()=>{if(Dt&&nr&&nr.length>0){const Qr=Pr(Dt,nr,gr);console.log("🚀🚀🚀 ~ file: index.tsx:164 ~ useEffect ~ tab:",Qr),Ir(Qr)}},[Dt,nr,gr]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{p:"0px 16px",children:[jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(SearchInput,{isWidget:et,inputValue:cr,changeInputValue:Qr=>sr(Qr)})}),Vt?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",width:{base:"100%",lg:"428px"},flexWrap:"wrap",justifyContent:"space-between",children:[...Array(12)].map((Qr,Un)=>jsxRuntimeExports.jsx(Skeleton,{width:"94px",height:"16px",margin:"0 8px 8px 0"},Un))}),children:jsxRuntimeExports.jsx(CollectListBox,{onSelectToken:Qr=>ur(Qr)})}):null,!cr&&er?jsxRuntimeExports.jsx(SelectTab,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"395px"},h:"34px",bg:"none",border:"none",marginTop:Vt?"":"12px"},itemStyle:{marginRight:"40px",fontSize:"14px"},tabList:_r,currentTab:wr,handleChangeTab:Qr=>{Ir(Qr.value),Cr(!0),setTimeout(()=>{Cr(!1)},300)}}):null,!cr&&wr=="Default"&&ir?jsxRuntimeExports.jsx(SelectTab,{type:"outlineTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:et?"swap_bg_secondary":"bg_secondary",padding:"4px",marginTop:"12px"},itemStyle:{w:`${100/yr.length}%`,fontSize:"14px",borderRadius:"8px"},tabList:yr,currentTab:Or,handleChangeTab:Qr=>{Ar(Qr.value),br(Qr.value,Nt?jt:nr)}}):null,wr=="Imported"&&gr&&gr.length>0&&!cr?jsxRuntimeExports.jsxs(Flex,{p:"16px 0 0",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Text,{children:[gr&&gr.length," Custom Tokens"]}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",_hover:{color:"text_caption"},onClick:()=>{Sr(gr)},children:"Clear All"})]}):null]}),jsxRuntimeExports.jsx(Box,{p:"0px",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",flexDirection:"column",children:[...Array(5)].map((Qr,Un)=>jsxRuntimeExports.jsxs(HStack,{gap:"0",height:"64px",padding:"0 16px",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",ml:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"100px"}),jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"150px"})]})]},Un))}),children:jsxRuntimeExports.jsx(TokenList,{onGoplusTokenClick:hr,tokenList:Dn,keyword:cr,currentLabel:Or,currentTab:wr,lastSelectedToken:Dt,isDisableSelectTokenItem:Ft,isShowCollectListBox:Lt,isShowTokenListTab:er,tokenListMaxHeight:or,noDataHaveImg:lr,noClickImportItem:dr,bg:pr,onSelectToken:Qr=>ur(Qr),onClose:mt})})})]})}function TokenSelectModal(nt){const{isApp:et}=useWindowWidth(),{isOpen:at,onClose:mt}=nt,{tokenModalOpacity:$t}=useTokenSelectStore(),[Ct,Dt]=reactExports.useState("400px"),Ft=()=>{const jt=window.innerHeight-380;Dt(`${jt}px`)};return reactExports.useEffect(()=>(Ft(),window.addEventListener("resize",Ft),()=>{window.removeEventListener("resize",Ft)}),[]),jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:at,onClose:mt,isCentered:!0,motionPreset:"none",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:et?"80%":"462px",opacity:$t,transition:"opacity 0.3s",children:[jsxRuntimeExports.jsx(ModalHeader,{p:"18px 16px",children:jsxRuntimeExports.jsx(Heading,{fontWeight:"500",fontSize:"16px",children:"Select a token"})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"0",textAlign:"center",overflow:"hidden",children:jsxRuntimeExports.jsx(TokenSelectCard,{...nt,tokenListMaxHeight:Ct})})]})]})}const index=reactExports.memo(TokenSelectModal),index$1=Object.freeze(Object.defineProperty({__proto__:null,default:index},Symbol.toStringTag,{value:"Module"})),CoinSelect=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>CoinSelect$3),void 0)),TradeInput=reactExports.forwardRef(function nt({title:et,value:at,amountValue:mt,onFocusChange:$t,onChange:Ct,placeholder:Dt="0.0",balance:Ft,selectable:Nt,onTokenChange:jt,token:Lt,half:Vt=!0,max:er=!0,loading:ir,inputAllowed:or=!0,hideSelf:lr=!1,needRemainBalance:dr=!0,balanceLabel:pr,wrapStyle:hr={},calculateAvailableLoading:vr=!1,currentCoinKey:br,whiteTokenList:xr,isWidget:Sr=!1,isDcaTo:Er=!1,inputTabOptions:$r,openSelectTokenModal:Cr},kr){const{type:gr="borderTab",tabList:Ut=[],currentTab:tr="",handleChangeTab:nr=()=>{},wrapStyle:rr={h:"60px",p:"8px"},itemStyle:ar={fontSize:"14px"}}=$r||{},cr=reactExports.useRef(null),[fr,sr]=reactExports.useState(!1),{currentAccount:Yt}=useAccountStore(),ur=()=>{const yr=d$1(Ft||0).div(2);at&&yr.eq(at)||Ct==null||Ct(formatNumberWithDown(yr.toString(),Lt==null?void 0:Lt.decimals,!0,!0).toString(),!1,!0)},_r=()=>{const yr=d$1(Ft||0),wr=CoinAssist.isSuiCoin((Lt==null?void 0:Lt.coin_type)||""),Ir=wr&&dr?.05:0;let Or=yr;wr&&d$1(yr).gt(Ir)&&(Or=Or.sub(Ir)),!(at&&d$1(Or).eq(at))&&d$1(Or).gte(0)&&(Ct==null||Ct(Or.toString()||"0",!0,!1))};return reactExports.useImperativeHandle(kr,()=>({focused:fr}),[fr]),lr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsxs(Box,{ref:cr,w:"100%",onFocus:()=>{sr(!0)},onBlur:()=>{sr(!1)},borderRadius:"16px",p:{base:"16px 8px",lg:"16px"},h:"122px",border:"1px solid",backgroundColor:or?"bg_secondary":"card_bg",...hr,borderColor:fr?"token_active_border":hr!=null&&hr.borderColor?hr==null?void 0:hr.borderColor:"border",boxShadow:fr?"0px 0px 6px 0px #0067AD":"",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",justify:"space-between",children:[et&&jsxRuntimeExports.jsx(Text,{color:"text_paragraph",fontSize:"13px",fontWeight:"500",h:"16px",mb:Er?"0px":"4px",textAlign:"left",children:et}),jsxRuntimeExports.jsx(HStack,{mt:"-16px",mr:{base:"0",lg:"-8px"},children:$r&&Ut&&(Ut==null?void 0:Ut.length)>0&&jsxRuntimeExports.jsx(SelectTab,{type:gr,tabList:Ut,currentTab:tr,handleChangeTab:yr=>nr(yr),wrapStyle:rr,itemStyle:ar})})]}),jsxRuntimeExports.jsxs(VStack,{gap:Er?"0px":"8px",flexDirection:Er?"column-reverse":"column",children:[jsxRuntimeExports.jsxs(InputGroup,{h:"38px",fontFamily:"Inter",justifyContent:Er?"center":"space-between",gap:"12px",children:[!Er&&jsxRuntimeExports.jsx(Skeleton,{isLoaded:!ir,height:"38px",width:"calc(100% - 8px)",borderRadius:"8px",children:jsxRuntimeExports.jsx(NumericFormatInput,{value:convertScientificToDecimal(at,9),onChange:yr=>{Ct==null||Ct(yr,d$1(yr).eq(Ft||"0"))},decimals:Lt==null?void 0:Lt.decimals,placeholder:Dt,inputAllowed:or,onFocus:()=>{$t&&$t(!0)},onBlur:()=>{$t&&$t(!1)},style:{width:"calc(100% - 8px)",background:"none",whiteSpace:"nowrap",opacity:1,outline:"none",color:"var(--chakra-colors-text_caption)",fontSize:Sr?"24px":"28px",height:"38px",lineHeight:"38px",touchAction:"manipulation",transition:"all 0.3s",fontWeight:"500"}})}),jsxRuntimeExports.jsx(InputRightAddon,{w:Er?"100%":"unset",children:Nt?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Skeleton,{h:"20px",w:"100px",borderRadius:"8px"}),children:jsxRuntimeExports.jsx(CoinSelect,{openSelectTokenModal:Cr,selectModalCallback:yr=>{sr(!!yr)},currentCoinKey:br,whiteTokenList:xr,value:Lt,onSelect:jt})}):jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:Lt==null?void 0:Lt.logo_url,w:"28px",h:"28px",coinType:Lt==null?void 0:Lt.coin_type},(Lt==null?void 0:Lt.symbol)+"Icon"),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",children:textEllipses((Lt==null?void 0:Lt.symbol)||"",10)})]})})]}),jsxRuntimeExports.jsxs(HStack,{justify:"space-between",w:"100%",mt:Er&&Yt?"-20px":0,children:[jsxRuntimeExports.jsx(Text,{width:"50%",flex:"0",fontWeight:"500",children:mt&&+mt?`${formatCurrencyWithKMB(mt,2)}`:null}),!!Yt&&jsxRuntimeExports.jsxs(HStack,{justify:"flex-end",gap:"8px",children:[jsxRuntimeExports.jsx(Skeleton,{isLoaded:!vr,children:jsxRuntimeExports.jsxs(HStack,{gap:"4px",children:[pr?jsxRuntimeExports.jsx(Text,{children:pr}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_wallet",svgHover:"text_paragraph",cursor:"default"}),jsxRuntimeExports.jsx(Text,{children:!Ft||Ft==="0"?"0.0":formatNumberWithDown(Ft)})]})}),Vt&&jsxRuntimeExports.jsx(Button,{onClick:ur,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:Sr?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"HALF"}),er&&jsxRuntimeExports.jsx(Button,{onClick:_r,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:Sr?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"MAX"})]})]})]})]})}),uploadFilePath="/api/v1/upload";function useFileUpload(){const[nt,et]=reactExports.useState(!1);return{doUploadFile:async mt=>{const $t=new FormData;$t.append("file",mt);try{et(!0);const Ct=`${envConfigs$1.pump_api.api_primary_domain}${uploadFilePath}`,Dt=await fetch(Ct,{method:"POST",body:$t});if(!Dt.ok){const{error:Nt}=await Dt.json();throw Nt?new Error(Nt):new Error("Upload failed")}const Ft=await Dt.json();return console.log("🚀 ~ file: useFileUpload.tsx:26 ~ doUploadFile ~ result:",Ft),Ft}catch(Ct){throw console.log("🚀 ~ file: useFileUpload.tsx:29 ~ doUploadFile ~ error:",Ct.message),new Error(Ct.message)}finally{et(!1)}},uploadLoading:nt}}const Upload=reactExports.forwardRef(function nt({w:et="160px",h:at="160px",loading:mt,borderRadius:$t="12px",children:Ct,accept:Dt="image/png, image/jpeg",multiple:Ft=!1,fileSize:Nt,field:jt,form:Lt,onChange:Vt,onSuccess:er,onError:ir,onDelete:or,...lr},dr){const pr=reactExports.useRef(null),{uploadLoading:hr,doUploadFile:vr}=useFileUpload(),br=async gr=>{if(gr)return await vr(gr)},[xr,Sr]=reactExports.useState([]),Er=async gr=>{var Ut;try{if((Ut=gr.target.files)!=null&&Ut.length){const tr=gr.target.files[0],nr=tr.name.slice(tr.name.lastIndexOf(".")+1),rr=`cetus_pump_${dayjs().unix()}.${nr}`,ar=replaceFilename(tr,rr);if(Nt){const sr=Nt.split("MB")[0];if(ar.size>Number(sr)*1024*1024)throw new Error("file size is over limit")}const cr=await br(ar);if(cr!=null&&cr.error)throw new Error(cr==null?void 0:cr.error);cr!=null&&cr.url&&(er==null||er());const fr=new FileReader;fr.readAsDataURL(ar),fr.onload=sr=>{var Yt,ur;if(sr.type==="load")if(Ft){const _r=[...xr,{name:rr,type:ar.type,size:ar.size,lastModified:ar.lastModified,dataUrl:(Yt=sr.target)==null?void 0:Yt.result,fileUrl:cr==null?void 0:cr.url,sig:cr==null?void 0:cr.sig}];Sr(_r)}else{const _r=[{name:rr,type:ar.type,size:ar.size,lastModified:ar.lastModified,dataUrl:(ur=sr.target)==null?void 0:ur.result,fileUrl:cr==null?void 0:cr.url,sig:cr==null?void 0:cr.sig}];Sr(_r)}}}}catch(tr){console.log(tr.message,"(error as unknown as Error).message"),ir==null||ir(tr.message)}finally{Lt==null||Lt.setFieldTouched(jt.name,!0)}};useDeepCompareEffect(()=>{var gr;xr&&(Vt==null||Vt(xr),jt.name&&((gr=Lt==null?void 0:Lt.setFieldValue)==null||gr.call(Lt,jt.name,xr)))},[xr]);const $r=async gr=>{const Ut=await br(gr.cropped),tr=new FileReader;tr.readAsDataURL(gr.cropped),tr.onload=nr=>{var rr;if(nr.type==="load")if(Ft){const ar=xr.map(cr=>{var fr;return cr.name===gr.cropped.name?{...cr,size:gr.cropped.size,lastModified:gr.cropped.lastModified,dataUrl:(fr=nr.target)==null?void 0:fr.result,fileUrl:Ut==null?void 0:Ut.url,sig:Ut==null?void 0:Ut.sig}:cr});Sr(ar)}else{const ar=[{name:gr.cropped.name,type:gr.cropped.type,size:gr.cropped.size,lastModified:gr.cropped.lastModified,dataUrl:(rr=nr.target)==null?void 0:rr.result,fileUrl:Ut==null?void 0:Ut.url,sig:Ut==null?void 0:Ut.sig}];Sr(ar)}}},Cr=gr=>{or==null||or(),Sr(xr.filter(Ut=>Ut.name!==gr.name)),pr.current&&(pr.current.value="")},kr=()=>{Sr([]),pr.current&&(pr.current.value="")};return reactExports.useImperativeHandle(dr,()=>({handleClear:kr}),[pr.current]),jsxRuntimeExports.jsxs(Box,{w:et,h:at,borderRadius:$t,onClick:()=>{var gr;return(gr=pr.current)==null?void 0:gr.click()},...lr,cursor:"pointer",children:[mt||hr?jsxRuntimeExports.jsx(Spinner,{}):xr.length?xr==null?void 0:xr.map((gr,Ut)=>gr.type.startsWith("image")?jsxRuntimeExports.jsx(PreView,{editable:!0,src:gr.fileUrl,file:gr,onEdit:$r,onDelete:Cr},gr.sig||Ut):jsxRuntimeExports.jsx(Box,{as:"a",target:"_blank",download:gr.fileUrl,children:gr.name},gr.sig||Ut)):Ct,jsxRuntimeExports.jsx(Input,{ref:pr,id:"file",name:"file",type:"file",display:"none",accept:Dt,multiple:Ft,onChange:Er})]})});function ToastDescription(nt){const{status:et="confirmation",tx:at,info:mt}=nt,{getExplorerUrl:$t}=useExplorer(),Ct=mt==null?void 0:mt.toastDescriptionContent;return et==="submitted"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ct&&(typeof Ct=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:Ct()}):jsxRuntimeExports.jsx(DescriptionText,{text:Ct})),!Ct&&at&&jsxRuntimeExports.jsxs(Box,{as:"div",children:[jsxRuntimeExports.jsx(DescriptionText,{text:"Confirmation is in progress. Check your transaction on",as:"span"}),"  ",jsxRuntimeExports.jsx(Link,{href:$t(at,"tx"),target:"_blank",color:"primary_green",fontSize:"sm",textDecoration:"none",children:"here"})]})]}):et==="rejected"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ct&&(typeof Ct=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:Ct()}):jsxRuntimeExports.jsx(DescriptionText,{text:Ct})),!Ct&&jsxRuntimeExports.jsx(DescriptionText,{text:"Something went wrong"})]}):et==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ct&&(typeof Ct=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:Ct()}):jsxRuntimeExports.jsx(DescriptionText,{text:Ct}))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function DescriptionText(nt){const{text:et,children:at,...mt}=nt;return at?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:at}):jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",...mt,children:jsxRuntimeExports.jsx(Comma,{value:et||""})})}function ToastTitle(nt){const{status:et="confirmation",info:at}=nt;return et==="submitted"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[jsxRuntimeExports.jsx(Spinner$1,{w:"20px",h:"20px"}),jsxRuntimeExports.jsx(TitleText,{text:"Transaction in progress"})]})}):et==="rejected"?jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",gap:"0px",align:"flex-start",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),"(",jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(TitleText,{text:(at==null?void 0:at.toastTitleText)||"Transaction failed",color:"primary_red"})}),")"]}):et==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[at!=null&&at.iconUrl?jsxRuntimeExports.jsx(Image$1,{src:at.iconUrl,h:"20px",alt:"icon",borderRadius:"4px"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check",svgFill:"primary"}),jsxRuntimeExports.jsx(TitleText,{text:(at==null?void 0:at.toastTitleText)||"Transaction Successful"})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function TitleText(nt){const{text:et,color:at="text_caption"}=nt;return jsxRuntimeExports.jsx(Heading,{fontSize:"14px",lineHeight:"20px",fontWeight:"400",color:at,whiteSpace:{base:"pre-wrap",lg:"wrap"},children:et})}function Toast(nt){const{status:et="confirmation",link:at,tx:mt,getShowInfo:$t,actionType:Ct,executeTime:Dt,linkLabel:Ft="View transaction",onClose:Nt}=nt,{getExplorerUrl:jt}=useExplorer(),Lt=reactExports.useMemo(()=>{if($t)return $t(et)},[et]);return jsxRuntimeExports.jsxs(HStack,{w:{base:"calc(100vw - 16px)",lg:"fit-content"},minW:{base:"calc(100vw - 16px)",lg:"360px"},maxW:{base:"calc(100vw - 16px)",lg:"420px"},bg:"background",border:"1px",borderColor:"border",borderRadius:"12px",p:"16px",gap:"16px",justify:"space-between",alignItems:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{alignItems:"start",children:[jsxRuntimeExports.jsx(ToastTitle,{info:Lt,status:et}),((Lt==null?void 0:Lt.toastDescriptionContent)||mt)&&jsxRuntimeExports.jsx(ToastDescription,{info:Lt,status:et,tx:mt}),et!=="submitted"&&at&&jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),et!=="submitted"&&!at&&mt&&jsxRuntimeExports.jsxs(HStack,{children:[Ct==="swap"&&Dt&&Dt>0?jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:`Txn finalized in ${d$2(Dt).div(1e3).toString()}s! View Transaction`}):jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),defaultExplorers.map(Vt=>jsxRuntimeExports.jsx(Image$1,{onClick:er=>{window.open(jt(mt,"tx",Vt),"_blank")},cursor:"pointer",src:Vt.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"},Vt.name))]})]}),jsxRuntimeExports.jsx(Center,{onClick:Nt,children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}function useGetNotifiTargetGroups(){const{notifiClient:nt}=useNotifiStore(),{setDefaultTargetGroup:et,setEmailTarget:at,setTelegramTarget:mt,setSmsTarget:$t,setNotifiLoginLoading:Ct}=useNotifiStore(),Dt=jt=>{jt.emailTargets&&jt.emailTargets.length>0&&at(jt.emailTargets.slice(-1)[0]),jt.telegramTargets&&(jt==null?void 0:jt.telegramTargets.length)>0&&mt(jt.telegramTargets.slice(-1)[0]),jt.smsTargets&&(jt==null?void 0:jt.smsTargets.length)>0&&$t(jt.smsTargets.slice(-1)[0])};return{getNotifiTargetGroups:async jt=>{try{const Lt=jt?await jt.getTargetGroups():await nt.getTargetGroups();if(console.log("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:8 ~ getNotifiTargetGroups ~ targetGroup:",Lt),(Lt==null?void 0:Lt.length)>0){const Vt=Lt[0];console.log("🚀🚀🚀 ~ First target group:",Vt),Dt(Vt)}return et(Lt),Lt}catch(Lt){return console.error("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:20 ~ getNotifiTargetGroups ~ error:",Lt),{}}},ensureTargetGroup:async jt=>{try{Ct(!0);const Lt={...jt},Vt=await nt.ensureTargetGroup({name:"Default",...Lt});Vt!=null&&Vt.id&&Dt(Vt),et([Vt]),Ct(!1)}catch(Lt){Ct(!1),console.error("🚀🚀🚀 ~ useGetNotifiTargetGroups.ts:45 ~ ensureTargetGroup ~ error:",Lt)}}}}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(nt){return typeof nt=="string"&&REGEX.test(nt)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(nt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,at=(byteToHex[nt[et+0]]+byteToHex[nt[et+1]]+byteToHex[nt[et+2]]+byteToHex[nt[et+3]]+"-"+byteToHex[nt[et+4]]+byteToHex[nt[et+5]]+"-"+byteToHex[nt[et+6]]+byteToHex[nt[et+7]]+"-"+byteToHex[nt[et+8]]+byteToHex[nt[et+9]]+"-"+byteToHex[nt[et+10]]+byteToHex[nt[et+11]]+byteToHex[nt[et+12]]+byteToHex[nt[et+13]]+byteToHex[nt[et+14]]+byteToHex[nt[et+15]]).toLowerCase();if(!validate(at))throw TypeError("Stringified UUID is invalid");return at}function v4(nt,et,at){nt=nt||{};var mt=nt.random||(nt.rng||rng)();return mt[6]=mt[6]&15|64,mt[8]=mt[8]&63|128,stringify(mt)}const defaultJsonSerializer=JSON,uppercase=nt=>nt.toUpperCase(),HeadersInstanceToPlainObject=nt=>{const et={};return nt.forEach((at,mt)=>{et[mt]=at}),et},parseRequestArgs=(nt,et,at)=>nt.document?nt:{document:nt,variables:et,requestHeaders:at,signal:void 0},parseRawRequestArgs=(nt,et,at)=>nt.query?nt:{query:nt,variables:et,requestHeaders:at,signal:void 0},parseBatchRequestArgs=(nt,et)=>nt.documents?nt:{documents:nt,requestHeaders:et,signal:void 0},extractOperationName=nt=>{var mt,$t;let et;const at=nt.definitions.filter(Ct=>Ct.kind==="OperationDefinition");return at.length===1&&(et=($t=(mt=at[0])==null?void 0:mt.name)==null?void 0:$t.value),et},resolveRequestDocument=nt=>{if(typeof nt=="string"){let at;try{const mt=parse$3(nt);at=extractOperationName(mt)}catch{}return{query:nt,operationName:at}}const et=extractOperationName(nt);return{query:print(nt),operationName:et}};class ClientError extends Error{constructor(et,at){const mt=`${ClientError.extractMessage(et)}: ${JSON.stringify({response:et,request:at})}`;super(mt),Object.setPrototypeOf(this,ClientError.prototype),this.response=et,this.request=at,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ClientError)}static extractMessage(et){var at,mt;return((mt=(at=et.errors)==null?void 0:at[0])==null?void 0:mt.message)??`GraphQL Error (Code: ${et.status})`}}var browserPonyfill={exports:{}};(function(nt,et){var at=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1,mt=function(){function Ct(){this.fetch=!1,this.DOMException=at.DOMException}return Ct.prototype=at,new Ct}();(function(Ct){(function(Dt){var Ft=typeof Ct<"u"&&Ct||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1||{},Nt={searchParams:"URLSearchParams"in Ft,iterable:"Symbol"in Ft&&"iterator"in Symbol,blob:"FileReader"in Ft&&"Blob"in Ft&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Ft,arrayBuffer:"ArrayBuffer"in Ft};function jt(rr){return rr&&DataView.prototype.isPrototypeOf(rr)}if(Nt.arrayBuffer)var Lt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Vt=ArrayBuffer.isView||function(rr){return rr&&Lt.indexOf(Object.prototype.toString.call(rr))>-1};function er(rr){if(typeof rr!="string"&&(rr=String(rr)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(rr)||rr==="")throw new TypeError('Invalid character in header field name: "'+rr+'"');return rr.toLowerCase()}function ir(rr){return typeof rr!="string"&&(rr=String(rr)),rr}function or(rr){var ar={next:function(){var cr=rr.shift();return{done:cr===void 0,value:cr}}};return Nt.iterable&&(ar[Symbol.iterator]=function(){return ar}),ar}function lr(rr){this.map={},rr instanceof lr?rr.forEach(function(ar,cr){this.append(cr,ar)},this):Array.isArray(rr)?rr.forEach(function(ar){if(ar.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ar.length);this.append(ar[0],ar[1])},this):rr&&Object.getOwnPropertyNames(rr).forEach(function(ar){this.append(ar,rr[ar])},this)}lr.prototype.append=function(rr,ar){rr=er(rr),ar=ir(ar);var cr=this.map[rr];this.map[rr]=cr?cr+", "+ar:ar},lr.prototype.delete=function(rr){delete this.map[er(rr)]},lr.prototype.get=function(rr){return rr=er(rr),this.has(rr)?this.map[rr]:null},lr.prototype.has=function(rr){return this.map.hasOwnProperty(er(rr))},lr.prototype.set=function(rr,ar){this.map[er(rr)]=ir(ar)},lr.prototype.forEach=function(rr,ar){for(var cr in this.map)this.map.hasOwnProperty(cr)&&rr.call(ar,this.map[cr],cr,this)},lr.prototype.keys=function(){var rr=[];return this.forEach(function(ar,cr){rr.push(cr)}),or(rr)},lr.prototype.values=function(){var rr=[];return this.forEach(function(ar){rr.push(ar)}),or(rr)},lr.prototype.entries=function(){var rr=[];return this.forEach(function(ar,cr){rr.push([cr,ar])}),or(rr)},Nt.iterable&&(lr.prototype[Symbol.iterator]=lr.prototype.entries);function dr(rr){if(!rr._noBody){if(rr.bodyUsed)return Promise.reject(new TypeError("Already read"));rr.bodyUsed=!0}}function pr(rr){return new Promise(function(ar,cr){rr.onload=function(){ar(rr.result)},rr.onerror=function(){cr(rr.error)}})}function hr(rr){var ar=new FileReader,cr=pr(ar);return ar.readAsArrayBuffer(rr),cr}function vr(rr){var ar=new FileReader,cr=pr(ar),fr=/charset=([A-Za-z0-9_-]+)/.exec(rr.type),sr=fr?fr[1]:"utf-8";return ar.readAsText(rr,sr),cr}function br(rr){for(var ar=new Uint8Array(rr),cr=new Array(ar.length),fr=0;fr<ar.length;fr++)cr[fr]=String.fromCharCode(ar[fr]);return cr.join("")}function xr(rr){if(rr.slice)return rr.slice(0);var ar=new Uint8Array(rr.byteLength);return ar.set(new Uint8Array(rr)),ar.buffer}function Sr(){return this.bodyUsed=!1,this._initBody=function(rr){this.bodyUsed=this.bodyUsed,this._bodyInit=rr,rr?typeof rr=="string"?this._bodyText=rr:Nt.blob&&Blob.prototype.isPrototypeOf(rr)?this._bodyBlob=rr:Nt.formData&&FormData.prototype.isPrototypeOf(rr)?this._bodyFormData=rr:Nt.searchParams&&URLSearchParams.prototype.isPrototypeOf(rr)?this._bodyText=rr.toString():Nt.arrayBuffer&&Nt.blob&&jt(rr)?(this._bodyArrayBuffer=xr(rr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Nt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(rr)||Vt(rr))?this._bodyArrayBuffer=xr(rr):this._bodyText=rr=Object.prototype.toString.call(rr):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof rr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Nt.searchParams&&URLSearchParams.prototype.isPrototypeOf(rr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Nt.blob&&(this.blob=function(){var rr=dr(this);if(rr)return rr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var rr=dr(this);return rr||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Nt.blob)return this.blob().then(hr);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var rr=dr(this);if(rr)return rr;if(this._bodyBlob)return vr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(br(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Nt.formData&&(this.formData=function(){return this.text().then(kr)}),this.json=function(){return this.text().then(JSON.parse)},this}var Er=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function $r(rr){var ar=rr.toUpperCase();return Er.indexOf(ar)>-1?ar:rr}function Cr(rr,ar){if(!(this instanceof Cr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ar=ar||{};var cr=ar.body;if(rr instanceof Cr){if(rr.bodyUsed)throw new TypeError("Already read");this.url=rr.url,this.credentials=rr.credentials,ar.headers||(this.headers=new lr(rr.headers)),this.method=rr.method,this.mode=rr.mode,this.signal=rr.signal,!cr&&rr._bodyInit!=null&&(cr=rr._bodyInit,rr.bodyUsed=!0)}else this.url=String(rr);if(this.credentials=ar.credentials||this.credentials||"same-origin",(ar.headers||!this.headers)&&(this.headers=new lr(ar.headers)),this.method=$r(ar.method||this.method||"GET"),this.mode=ar.mode||this.mode||null,this.signal=ar.signal||this.signal||function(){if("AbortController"in Ft){var Yt=new AbortController;return Yt.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&cr)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(cr),(this.method==="GET"||this.method==="HEAD")&&(ar.cache==="no-store"||ar.cache==="no-cache")){var fr=/([?&])_=[^&]*/;if(fr.test(this.url))this.url=this.url.replace(fr,"$1_="+new Date().getTime());else{var sr=/\?/;this.url+=(sr.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Cr.prototype.clone=function(){return new Cr(this,{body:this._bodyInit})};function kr(rr){var ar=new FormData;return rr.trim().split("&").forEach(function(cr){if(cr){var fr=cr.split("="),sr=fr.shift().replace(/\+/g," "),Yt=fr.join("=").replace(/\+/g," ");ar.append(decodeURIComponent(sr),decodeURIComponent(Yt))}}),ar}function gr(rr){var ar=new lr,cr=rr.replace(/\r?\n[\t ]+/g," ");return cr.split("\r").map(function(fr){return fr.indexOf(`
`)===0?fr.substr(1,fr.length):fr}).forEach(function(fr){var sr=fr.split(":"),Yt=sr.shift().trim();if(Yt){var ur=sr.join(":").trim();try{ar.append(Yt,ur)}catch(_r){console.warn("Response "+_r.message)}}}),ar}Sr.call(Cr.prototype);function Ut(rr,ar){if(!(this instanceof Ut))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ar||(ar={}),this.type="default",this.status=ar.status===void 0?200:ar.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=ar.statusText===void 0?"":""+ar.statusText,this.headers=new lr(ar.headers),this.url=ar.url||"",this._initBody(rr)}Sr.call(Ut.prototype),Ut.prototype.clone=function(){return new Ut(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new lr(this.headers),url:this.url})},Ut.error=function(){var rr=new Ut(null,{status:200,statusText:""});return rr.ok=!1,rr.status=0,rr.type="error",rr};var tr=[301,302,303,307,308];Ut.redirect=function(rr,ar){if(tr.indexOf(ar)===-1)throw new RangeError("Invalid status code");return new Ut(null,{status:ar,headers:{location:rr}})},Dt.DOMException=Ft.DOMException;try{new Dt.DOMException}catch{Dt.DOMException=function(ar,cr){this.message=ar,this.name=cr;var fr=Error(ar);this.stack=fr.stack},Dt.DOMException.prototype=Object.create(Error.prototype),Dt.DOMException.prototype.constructor=Dt.DOMException}function nr(rr,ar){return new Promise(function(cr,fr){var sr=new Cr(rr,ar);if(sr.signal&&sr.signal.aborted)return fr(new Dt.DOMException("Aborted","AbortError"));var Yt=new XMLHttpRequest;function ur(){Yt.abort()}Yt.onload=function(){var wr={statusText:Yt.statusText,headers:gr(Yt.getAllResponseHeaders()||"")};sr.url.indexOf("file://")===0&&(Yt.status<200||Yt.status>599)?wr.status=200:wr.status=Yt.status,wr.url="responseURL"in Yt?Yt.responseURL:wr.headers.get("X-Request-URL");var Ir="response"in Yt?Yt.response:Yt.responseText;setTimeout(function(){cr(new Ut(Ir,wr))},0)},Yt.onerror=function(){setTimeout(function(){fr(new TypeError("Network request failed"))},0)},Yt.ontimeout=function(){setTimeout(function(){fr(new TypeError("Network request timed out"))},0)},Yt.onabort=function(){setTimeout(function(){fr(new Dt.DOMException("Aborted","AbortError"))},0)};function _r(wr){try{return wr===""&&Ft.location.href?Ft.location.href:wr}catch{return wr}}if(Yt.open(sr.method,_r(sr.url),!0),sr.credentials==="include"?Yt.withCredentials=!0:sr.credentials==="omit"&&(Yt.withCredentials=!1),"responseType"in Yt&&(Nt.blob?Yt.responseType="blob":Nt.arrayBuffer&&(Yt.responseType="arraybuffer")),ar&&typeof ar.headers=="object"&&!(ar.headers instanceof lr||Ft.Headers&&ar.headers instanceof Ft.Headers)){var yr=[];Object.getOwnPropertyNames(ar.headers).forEach(function(wr){yr.push(er(wr)),Yt.setRequestHeader(wr,ir(ar.headers[wr]))}),sr.headers.forEach(function(wr,Ir){yr.indexOf(Ir)===-1&&Yt.setRequestHeader(Ir,wr)})}else sr.headers.forEach(function(wr,Ir){Yt.setRequestHeader(Ir,wr)});sr.signal&&(sr.signal.addEventListener("abort",ur),Yt.onreadystatechange=function(){Yt.readyState===4&&sr.signal.removeEventListener("abort",ur)}),Yt.send(typeof sr._bodyInit>"u"?null:sr._bodyInit)})}return nr.polyfill=!0,Ft.fetch||(Ft.fetch=nr,Ft.Headers=lr,Ft.Request=Cr,Ft.Response=Ut),Dt.Headers=lr,Dt.Request=Cr,Dt.Response=Ut,Dt.fetch=nr,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt})({})})(mt),mt.fetch.ponyfill=!0,delete mt.fetch.polyfill;var $t=at.fetch?at:mt;et=$t.fetch,et.default=$t.fetch,et.fetch=$t.fetch,et.Headers=$t.Headers,et.Request=$t.Request,et.Response=$t.Response,nt.exports=et})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const crossFetch=getDefaultExportFromCjs$2(browserPonyfillExports),CrossFetch=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]),resolveHeaders=nt=>{let et={};return nt&&(typeof Headers<"u"&&nt instanceof Headers||CrossFetch&&browserPonyfillExports.Headers&&nt instanceof browserPonyfillExports.Headers?et=HeadersInstanceToPlainObject(nt):Array.isArray(nt)?nt.forEach(([at,mt])=>{at&&mt!==void 0&&(et[at]=mt)}):et=nt),et},cleanQuery=nt=>nt.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),buildRequestConfig=nt=>{if(!Array.isArray(nt.query)){const mt=nt,$t=[`query=${encodeURIComponent(cleanQuery(mt.query))}`];return nt.variables&&$t.push(`variables=${encodeURIComponent(mt.jsonSerializer.stringify(mt.variables))}`),mt.operationName&&$t.push(`operationName=${encodeURIComponent(mt.operationName)}`),$t.join("&")}if(typeof nt.variables<"u"&&!Array.isArray(nt.variables))throw new Error("Cannot create query with given variable type, array expected");const et=nt,at=nt.query.reduce((mt,$t,Ct)=>(mt.push({query:cleanQuery($t),variables:et.variables?et.jsonSerializer.stringify(et.variables[Ct]):void 0}),mt),[]);return`query=${encodeURIComponent(et.jsonSerializer.stringify(at))}`},createHttpMethodFetcher=nt=>async et=>{const{url:at,query:mt,variables:$t,operationName:Ct,fetch:Dt,fetchOptions:Ft,middleware:Nt}=et,jt={...et.headers};let Lt="",Vt;nt==="POST"?(Vt=createRequestBody(mt,$t,Ct,Ft.jsonSerializer),typeof Vt=="string"&&(jt["Content-Type"]="application/json")):Lt=buildRequestConfig({query:mt,variables:$t,operationName:Ct,jsonSerializer:Ft.jsonSerializer??defaultJsonSerializer});const er={method:nt,headers:jt,body:Vt,...Ft};let ir=at,or=er;if(Nt){const lr=await Promise.resolve(Nt({...er,url:at,operationName:Ct,variables:$t})),{url:dr,...pr}=lr;ir=dr,or=pr}return Lt&&(ir=`${ir}?${Lt}`),await Dt(ir,or)};class GraphQLClient{constructor(et,at={}){this.url=et,this.requestConfig=at,this.rawRequest=async(...mt)=>{const[$t,Ct,Dt]=mt,Ft=parseRawRequestArgs($t,Ct,Dt),{headers:Nt,fetch:jt=crossFetch,method:Lt="POST",requestMiddleware:Vt,responseMiddleware:er,...ir}=this.requestConfig,{url:or}=this;Ft.signal!==void 0&&(ir.signal=Ft.signal);const{operationName:lr}=resolveRequestDocument(Ft.query);return makeRequest({url:or,query:Ft.query,variables:Ft.variables,headers:{...resolveHeaders(callOrIdentity(Nt)),...resolveHeaders(Ft.requestHeaders)},operationName:lr,fetch:jt,method:Lt,fetchOptions:ir,middleware:Vt}).then(dr=>(er&&er(dr),dr)).catch(dr=>{throw er&&er(dr),dr})}}async request(et,...at){const[mt,$t]=at,Ct=parseRequestArgs(et,mt,$t),{headers:Dt,fetch:Ft=crossFetch,method:Nt="POST",requestMiddleware:jt,responseMiddleware:Lt,...Vt}=this.requestConfig,{url:er}=this;Ct.signal!==void 0&&(Vt.signal=Ct.signal);const{query:ir,operationName:or}=resolveRequestDocument(Ct.document);return makeRequest({url:er,query:ir,variables:Ct.variables,headers:{...resolveHeaders(callOrIdentity(Dt)),...resolveHeaders(Ct.requestHeaders)},operationName:or,fetch:Ft,method:Nt,fetchOptions:Vt,middleware:jt}).then(lr=>(Lt&&Lt(lr),lr.data)).catch(lr=>{throw Lt&&Lt(lr),lr})}batchRequests(et,at){const mt=parseBatchRequestArgs(et,at),{headers:$t,...Ct}=this.requestConfig;mt.signal!==void 0&&(Ct.signal=mt.signal);const Dt=mt.documents.map(({document:Nt})=>resolveRequestDocument(Nt).query),Ft=mt.documents.map(({variables:Nt})=>Nt);return makeRequest({url:this.url,query:Dt,variables:Ft,headers:{...resolveHeaders(callOrIdentity($t)),...resolveHeaders(mt.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??crossFetch,method:this.requestConfig.method||"POST",fetchOptions:Ct,middleware:this.requestConfig.requestMiddleware}).then(Nt=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(Nt),Nt.data)).catch(Nt=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(Nt),Nt})}setHeaders(et){return this.requestConfig.headers=et,this}setHeader(et,at){const{headers:mt}=this.requestConfig;return mt?mt[et]=at:this.requestConfig.headers={[et]:at},this}setEndpoint(et){return this.url=et,this}}const makeRequest=async nt=>{const{query:et,variables:at,fetchOptions:mt}=nt,$t=createHttpMethodFetcher(uppercase(nt.method??"post")),Ct=Array.isArray(nt.query),Dt=await $t(nt),Ft=await getResult(Dt,mt.jsonSerializer??defaultJsonSerializer),Nt=Array.isArray(Ft)?!Ft.some(({data:Lt})=>!Lt):!!Ft.data,jt=Array.isArray(Ft)||!Ft.errors||Array.isArray(Ft.errors)&&!Ft.errors.length||mt.errorPolicy==="all"||mt.errorPolicy==="ignore";if(Dt.ok&&jt&&Nt){const{errors:Lt,...Vt}=(Array.isArray(Ft),Ft),er=mt.errorPolicy==="ignore"?Vt:Ft;return{...Ct?{data:er}:er,headers:Dt.headers,status:Dt.status}}else{const Lt=typeof Ft=="string"?{error:Ft}:Ft;throw new ClientError({...Lt,status:Dt.status,headers:Dt.headers},{query:et,variables:at})}},createRequestBody=(nt,et,at,mt)=>{const $t=mt??defaultJsonSerializer;if(!Array.isArray(nt))return $t.stringify({query:nt,variables:et,operationName:at});if(typeof et<"u"&&!Array.isArray(et))throw new Error("Cannot create request body with given variable type, array expected");const Ct=nt.reduce((Dt,Ft,Nt)=>(Dt.push({query:Ft,variables:et?et[Nt]:void 0}),Dt),[]);return $t.stringify(Ct)},getResult=async(nt,et)=>{let at;return nt.headers.forEach((mt,$t)=>{$t.toLowerCase()==="content-type"&&(at=mt)}),at&&(at.toLowerCase().startsWith("application/json")||at.toLowerCase().startsWith("application/graphql+json")||at.toLowerCase().startsWith("application/graphql-response+json"))?et.parse(await nt.text()):nt.text()},callOrIdentity=nt=>typeof nt=="function"?nt():nt,gql=(nt,...et)=>nt.reduce((at,mt,$t)=>`${at}${mt}${$t in et?String(et[$t]):""}`,"");function extendedTypeof(nt){return nt===null?"null":Array.isArray(nt)?"array":typeof nt}function isObject(nt){return extendedTypeof(nt)==="object"}function areGraphQLErrors(nt){return Array.isArray(nt)&&nt.length>0&&nt.every(et=>"message"in et)}function limitCloseReason(nt,et){return nt.length<124?nt:et}const GRAPHQL_TRANSPORT_WS_PROTOCOL="graphql-transport-ws";var CloseCode;(function(nt){nt[nt.InternalServerError=4500]="InternalServerError",nt[nt.InternalClientError=4005]="InternalClientError",nt[nt.BadRequest=4400]="BadRequest",nt[nt.BadResponse=4004]="BadResponse",nt[nt.Unauthorized=4401]="Unauthorized",nt[nt.Forbidden=4403]="Forbidden",nt[nt.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",nt[nt.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",nt[nt.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",nt[nt.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",nt[nt.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(CloseCode||(CloseCode={}));var MessageType;(function(nt){nt.ConnectionInit="connection_init",nt.ConnectionAck="connection_ack",nt.Ping="ping",nt.Pong="pong",nt.Subscribe="subscribe",nt.Next="next",nt.Error="error",nt.Complete="complete"})(MessageType||(MessageType={}));function validateMessage(nt){if(!isObject(nt))throw new Error(`Message is expected to be an object, but got ${extendedTypeof(nt)}`);if(!nt.type)throw new Error("Message is missing the 'type' property");if(typeof nt.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${extendedTypeof(nt.type)}`);switch(nt.type){case MessageType.ConnectionInit:case MessageType.ConnectionAck:case MessageType.Ping:case MessageType.Pong:{if(nt.payload!=null&&!isObject(nt.payload))throw new Error(`"${nt.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${nt.payload}"`);break}case MessageType.Subscribe:{if(typeof nt.id!="string")throw new Error(`"${nt.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(nt.id)}`);if(!nt.id)throw new Error(`"${nt.type}" message requires a non-empty 'id' property`);if(!isObject(nt.payload))throw new Error(`"${nt.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(nt.payload)}`);if(typeof nt.payload.query!="string")throw new Error(`"${nt.type}" message payload expects the 'query' property to be a string, but got ${extendedTypeof(nt.payload.query)}`);if(nt.payload.variables!=null&&!isObject(nt.payload.variables))throw new Error(`"${nt.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${extendedTypeof(nt.payload.variables)}`);if(nt.payload.operationName!=null&&extendedTypeof(nt.payload.operationName)!=="string")throw new Error(`"${nt.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${extendedTypeof(nt.payload.operationName)}`);if(nt.payload.extensions!=null&&!isObject(nt.payload.extensions))throw new Error(`"${nt.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${extendedTypeof(nt.payload.extensions)}`);break}case MessageType.Next:{if(typeof nt.id!="string")throw new Error(`"${nt.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(nt.id)}`);if(!nt.id)throw new Error(`"${nt.type}" message requires a non-empty 'id' property`);if(!isObject(nt.payload))throw new Error(`"${nt.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(nt.payload)}`);break}case MessageType.Error:{if(typeof nt.id!="string")throw new Error(`"${nt.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(nt.id)}`);if(!nt.id)throw new Error(`"${nt.type}" message requires a non-empty 'id' property`);if(!areGraphQLErrors(nt.payload))throw new Error(`"${nt.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(nt.payload)}`);break}case MessageType.Complete:{if(typeof nt.id!="string")throw new Error(`"${nt.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(nt.id)}`);if(!nt.id)throw new Error(`"${nt.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${nt.type}"`)}return nt}function parseMessage(nt,et){return validateMessage(typeof nt=="string"?JSON.parse(nt,et):nt)}function stringifyMessage(nt,et){return validateMessage(nt),JSON.stringify(nt,et)}var __await=function(nt){return this instanceof __await?(this.v=nt,this):new __await(nt)},__asyncGenerator=function(nt,et,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt=at.apply(nt,et||[]),$t,Ct=[];return $t=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),Ft("next"),Ft("throw"),Ft("return",Dt),$t[Symbol.asyncIterator]=function(){return this},$t;function Dt(ir){return function(or){return Promise.resolve(or).then(ir,Vt)}}function Ft(ir,or){mt[ir]&&($t[ir]=function(lr){return new Promise(function(dr,pr){Ct.push([ir,lr,dr,pr])>1||Nt(ir,lr)})},or&&($t[ir]=or($t[ir])))}function Nt(ir,or){try{jt(mt[ir](or))}catch(lr){er(Ct[0][3],lr)}}function jt(ir){ir.value instanceof __await?Promise.resolve(ir.value.v).then(Lt,Vt):er(Ct[0][2],ir)}function Lt(ir){Nt("next",ir)}function Vt(ir){Nt("throw",ir)}function er(ir,or){ir(or),Ct.shift(),Ct.length&&Nt(Ct[0][0],Ct[0][1])}};function createClient(nt){const{url:et,connectionParams:at,lazy:mt=!0,onNonLazyError:$t=console.error,lazyCloseTimeout:Ct=0,keepAlive:Dt=0,disablePong:Ft,connectionAckWaitTimeout:Nt=0,retryAttempts:jt=5,retryWait:Lt=async function(ar){let cr=1e3;for(let fr=0;fr<ar;fr++)cr*=2;await new Promise(fr=>setTimeout(fr,cr+Math.floor(Math.random()*2700+300)))},shouldRetry:Vt=isLikeCloseEvent,isFatalConnectionProblem:er,on:ir,webSocketImpl:or,generateID:lr=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,ar=>{const cr=Math.random()*16|0;return(ar=="x"?cr:cr&3|8).toString(16)})},jsonMessageReplacer:dr,jsonMessageReviver:pr}=nt;let hr;if(or){if(!isWebSocket(or))throw new Error("Invalid WebSocket implementation provided");hr=or}else typeof WebSocket<"u"?hr=WebSocket:typeof global$1<"u"?hr=global$1.WebSocket||global$1.MozWebSocket:typeof window<"u"&&(hr=window.WebSocket||window.MozWebSocket);if(!hr)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const vr=hr,br=(()=>{const rr=(()=>{const cr={};return{on(fr,sr){return cr[fr]=sr,()=>{delete cr[fr]}},emit(fr){var sr;"id"in fr&&((sr=cr[fr.id])===null||sr===void 0||sr.call(cr,fr))}}})(),ar={connecting:ir!=null&&ir.connecting?[ir.connecting]:[],opened:ir!=null&&ir.opened?[ir.opened]:[],connected:ir!=null&&ir.connected?[ir.connected]:[],ping:ir!=null&&ir.ping?[ir.ping]:[],pong:ir!=null&&ir.pong?[ir.pong]:[],message:ir!=null&&ir.message?[rr.emit,ir.message]:[rr.emit],closed:ir!=null&&ir.closed?[ir.closed]:[],error:ir!=null&&ir.error?[ir.error]:[]};return{onMessage:rr.on,on(cr,fr){const sr=ar[cr];return sr.push(fr),()=>{sr.splice(sr.indexOf(fr),1)}},emit(cr,...fr){for(const sr of[...ar[cr]])sr(...fr)}}})();function xr(rr){const ar=[br.on("error",cr=>{ar.forEach(fr=>fr()),rr(cr)}),br.on("closed",cr=>{ar.forEach(fr=>fr()),rr(cr)})]}let Sr,Er=0,$r,Cr=!1,kr=0,gr=!1;async function Ut(){clearTimeout($r);const[rr,ar]=await(Sr??(Sr=new Promise((sr,Yt)=>(async()=>{if(Cr){if(await Lt(kr),!Er)return Sr=void 0,Yt({code:1e3,reason:"All Subscriptions Gone"});kr++}br.emit("connecting",Cr);const ur=new vr(typeof et=="function"?await et():et,GRAPHQL_TRANSPORT_WS_PROTOCOL);let _r,yr;function wr(){isFinite(Dt)&&Dt>0&&(clearTimeout(yr),yr=setTimeout(()=>{ur.readyState===vr.OPEN&&(ur.send(stringifyMessage({type:MessageType.Ping})),br.emit("ping",!1,void 0))},Dt))}xr(Or=>{Sr=void 0,clearTimeout(_r),clearTimeout(yr),Yt(Or),Or instanceof TerminatedCloseEvent&&(ur.close(4499,"Terminated"),ur.onerror=null,ur.onclose=null)}),ur.onerror=Or=>br.emit("error",Or),ur.onclose=Or=>br.emit("closed",Or),ur.onopen=async()=>{try{br.emit("opened",ur);const Or=typeof at=="function"?await at():at;if(ur.readyState!==vr.OPEN)return;ur.send(stringifyMessage(Or?{type:MessageType.ConnectionInit,payload:Or}:{type:MessageType.ConnectionInit},dr)),isFinite(Nt)&&Nt>0&&(_r=setTimeout(()=>{ur.close(CloseCode.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},Nt)),wr()}catch(Or){br.emit("error",Or),ur.close(CloseCode.InternalClientError,limitCloseReason(Or instanceof Error?Or.message:new Error(Or).message,"Internal client error"))}};let Ir=!1;ur.onmessage=({data:Or})=>{try{const Ar=parseMessage(Or,pr);if(br.emit("message",Ar),Ar.type==="ping"||Ar.type==="pong"){br.emit(Ar.type,!0,Ar.payload),Ar.type==="pong"?wr():Ft||(ur.send(stringifyMessage(Ar.payload?{type:MessageType.Pong,payload:Ar.payload}:{type:MessageType.Pong})),br.emit("pong",!1,Ar.payload));return}if(Ir)return;if(Ar.type!==MessageType.ConnectionAck)throw new Error(`First message cannot be of type ${Ar.type}`);clearTimeout(_r),Ir=!0,br.emit("connected",ur,Ar.payload,Cr),Cr=!1,kr=0,sr([ur,new Promise((Nr,Hr)=>xr(Hr))])}catch(Ar){ur.onmessage=null,br.emit("error",Ar),ur.close(CloseCode.BadResponse,limitCloseReason(Ar instanceof Error?Ar.message:new Error(Ar).message,"Bad response"))}}})())));rr.readyState===vr.CLOSING&&await ar;let cr=()=>{};const fr=new Promise(sr=>cr=sr);return[rr,cr,Promise.race([fr.then(()=>{if(!Er){const sr=()=>rr.close(1e3,"Normal Closure");isFinite(Ct)&&Ct>0?$r=setTimeout(()=>{rr.readyState===vr.OPEN&&sr()},Ct):sr()}}),ar])]}function tr(rr){if(isLikeCloseEvent(rr)&&(isFatalInternalCloseCode(rr.code)||[CloseCode.InternalServerError,CloseCode.InternalClientError,CloseCode.BadRequest,CloseCode.BadResponse,CloseCode.Unauthorized,CloseCode.SubprotocolNotAcceptable,CloseCode.SubscriberAlreadyExists,CloseCode.TooManyInitialisationRequests].includes(rr.code)))throw rr;if(gr)return!1;if(isLikeCloseEvent(rr)&&rr.code===1e3)return Er>0;if(!jt||kr>=jt||!Vt(rr)||er!=null&&er(rr))throw rr;return Cr=!0}mt||(async()=>{for(Er++;;)try{const[,,rr]=await Ut();await rr}catch(rr){try{if(!tr(rr))return}catch(ar){return $t==null?void 0:$t(ar)}}})();function nr(rr,ar){const cr=lr(rr);let fr=!1,sr=!1,Yt=()=>{Er--,fr=!0};return(async()=>{for(Er++;;)try{const[ur,_r,yr]=await Ut();if(fr)return _r();const wr=br.onMessage(cr,Ir=>{switch(Ir.type){case MessageType.Next:{ar.next(Ir.payload);return}case MessageType.Error:{sr=!0,fr=!0,ar.error(Ir.payload),Yt();return}case MessageType.Complete:{fr=!0,Yt();return}}});ur.send(stringifyMessage({id:cr,type:MessageType.Subscribe,payload:rr},dr)),Yt=()=>{!fr&&ur.readyState===vr.OPEN&&ur.send(stringifyMessage({id:cr,type:MessageType.Complete},dr)),Er--,fr=!0,_r()},await yr.finally(wr);return}catch(ur){if(!tr(ur))return}})().then(()=>{sr||ar.complete()}).catch(ur=>{ar.error(ur)}),()=>{fr||Yt()}}return{on:br.on,subscribe:nr,iterate(rr){const ar=[],cr={done:!1,error:null,resolve:()=>{}},fr=nr(rr,{next(Yt){ar.push(Yt),cr.resolve()},error(Yt){cr.done=!0,cr.error=Yt,cr.resolve()},complete(){cr.done=!0,cr.resolve()}}),sr=function(){return __asyncGenerator(this,arguments,function*(){for(;;){for(ar.length||(yield __await(new Promise(_r=>cr.resolve=_r)));ar.length;)yield yield __await(ar.shift());if(cr.error)throw cr.error;if(cr.done)return yield __await(void 0)}})}();return sr.throw=async Yt=>(cr.done||(cr.done=!0,cr.error=Yt,cr.resolve()),{done:!0,value:void 0}),sr.return=async()=>(fr(),{done:!0,value:void 0}),sr},async dispose(){if(gr=!0,Sr){const[rr]=await Sr;rr.close(1e3,"Normal Closure")}},terminate(){Sr&&br.emit("closed",new TerminatedCloseEvent)}}}class TerminatedCloseEvent extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function isLikeCloseEvent(nt){return isObject(nt)&&"code"in nt&&"reason"in nt}function isFatalInternalCloseCode(nt){return[1e3,1001,1006,1005,1012,1013,1014].includes(nt)?!1:nt>=1e3&&nt<=1999}function isWebSocket(nt){return typeof nt=="function"&&"constructor"in nt&&"CLOSED"in nt&&"CLOSING"in nt&&"CONNECTING"in nt&&"OPEN"in nt}var RelayConcreteNode$3={ACTOR_CHANGE:"ActorChange",CATCH_FIELD:"CatchField",CONDITION:"Condition",CLIENT_COMPONENT:"ClientComponent",CLIENT_EDGE_TO_SERVER_OBJECT:"ClientEdgeToServerObject",CLIENT_EDGE_TO_CLIENT_OBJECT:"ClientEdgeToClientObject",CLIENT_EXTENSION:"ClientExtension",DEFER:"Defer",CONNECTION:"Connection",FRAGMENT:"Fragment",FRAGMENT_SPREAD:"FragmentSpread",INLINE_DATA_FRAGMENT_SPREAD:"InlineDataFragmentSpread",INLINE_DATA_FRAGMENT:"InlineDataFragment",INLINE_FRAGMENT:"InlineFragment",LINKED_FIELD:"LinkedField",LINKED_HANDLE:"LinkedHandle",LITERAL:"Literal",LIST_VALUE:"ListValue",LOCAL_ARGUMENT:"LocalArgument",MODULE_IMPORT:"ModuleImport",ALIASED_FRAGMENT_SPREAD:"AliasedFragmentSpread",ALIASED_INLINE_FRAGMENT_SPREAD:"AliasedInlineFragmentSpread",RELAY_RESOLVER:"RelayResolver",RELAY_LIVE_RESOLVER:"RelayLiveResolver",REQUIRED_FIELD:"RequiredField",OBJECT_VALUE:"ObjectValue",OPERATION:"Operation",REQUEST:"Request",ROOT_ARGUMENT:"RootArgument",SCALAR_FIELD:"ScalarField",SCALAR_HANDLE:"ScalarHandle",SPLIT_OPERATION:"SplitOperation",STREAM:"Stream",TYPE_DISCRIMINATOR:"TypeDiscriminator",UPDATABLE_QUERY:"UpdatableQuery",VARIABLE:"Variable"},RelayConcreteNode_1=RelayConcreteNode$3,invariant$N=function(nt,et,at,mt,$t,Ct,Dt,Ft){if(!nt){var Nt;if(et===void 0)Nt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var jt=[at,mt,$t,Ct,Dt,Ft],Lt=0;Nt=new Error(et.replace(/%s/g,function(){return jt[Lt++]})),Nt.name="Invariant Violation"}throw Nt.framesToPop=1,Nt}},browser$1=invariant$N;function makeEmptyFunction(nt){return function(){return nt}}var emptyFunction$2=function nt(){};emptyFunction$2.thatReturns=makeEmptyFunction;emptyFunction$2.thatReturnsFalse=makeEmptyFunction(!1);emptyFunction$2.thatReturnsTrue=makeEmptyFunction(!0);emptyFunction$2.thatReturnsNull=makeEmptyFunction(null);emptyFunction$2.thatReturnsThis=function(){return this};emptyFunction$2.thatReturnsArgument=function(nt){return nt};var emptyFunction_1=emptyFunction$2,emptyFunction$1=emptyFunction_1,warning$3=emptyFunction$1,warning_1=warning$3,RelayConcreteNode$2=RelayConcreteNode_1,invariant$M=browser$1;function graphql(nt){invariant$M(!1)}function getNode(nt){var et=nt;return typeof et=="function"?et=et():et.default&&(et=et.default),et}function isFragment(nt){var et=getNode(nt);return typeof et=="object"&&et!==null&&et.kind===RelayConcreteNode$2.FRAGMENT}function isRequest(nt){var et=getNode(nt);return typeof et=="object"&&et!==null&&et.kind===RelayConcreteNode$2.REQUEST}function isUpdatableQuery(nt){var et=getNode(nt);return typeof et=="object"&&et!==null&&et.kind===RelayConcreteNode$2.UPDATABLE_QUERY}function isInlineDataFragment(nt){var et=getNode(nt);return typeof et=="object"&&et!==null&&et.kind===RelayConcreteNode$2.INLINE_DATA_FRAGMENT}function getFragment$3(nt){var et=getNode(nt);return isFragment(et)||invariant$M(!1),et}function getPaginationFragment(nt){var et,at=getFragment$3(nt),mt=(et=at.metadata)===null||et===void 0?void 0:et.refetch,$t=mt==null?void 0:mt.connection;return mt===null||typeof mt!="object"||$t===null||typeof $t!="object"?null:at}function getRefetchableFragment(nt){var et,at=getFragment$3(nt),mt=(et=at.metadata)===null||et===void 0?void 0:et.refetch;return mt===null||typeof mt!="object"?null:at}function getRequest$5(nt){var et=getNode(nt);return isRequest(et)||invariant$M(!1),et}function getUpdatableQuery$1(nt){var et=getNode(nt);return isUpdatableQuery(et)||invariant$M(!1),et}function getInlineDataFragment$1(nt){var et=getNode(nt);return isInlineDataFragment(et)||invariant$M(!1),et}var GraphQLTag$1={getFragment:getFragment$3,getNode,getPaginationFragment,getRefetchableFragment,getRequest:getRequest$5,getUpdatableQuery:getUpdatableQuery$1,getInlineDataFragment:getInlineDataFragment$1,graphql,isFragment,isRequest,isUpdatableQuery,isInlineDataFragment},createForOfIteratorHelper={exports:{}},unsupportedIterableToArray={exports:{}},arrayLikeToArray={exports:{}};(function(nt){function et(at,mt){(mt==null||mt>at.length)&&(mt=at.length);for(var $t=0,Ct=Array(mt);$t<mt;$t++)Ct[$t]=at[$t];return Ct}nt.exports=et,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(arrayLikeToArray);var arrayLikeToArrayExports=arrayLikeToArray.exports;(function(nt){var et=arrayLikeToArrayExports;function at(mt,$t){if(mt){if(typeof mt=="string")return et(mt,$t);var Ct={}.toString.call(mt).slice(8,-1);return Ct==="Object"&&mt.constructor&&(Ct=mt.constructor.name),Ct==="Map"||Ct==="Set"?Array.from(mt):Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct)?et(mt,$t):void 0}}nt.exports=at,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(unsupportedIterableToArray);var unsupportedIterableToArrayExports=unsupportedIterableToArray.exports;(function(nt){var et=unsupportedIterableToArrayExports;function at(mt,$t){var Ct=typeof Symbol<"u"&&mt[Symbol.iterator]||mt["@@iterator"];if(!Ct){if(Array.isArray(mt)||(Ct=et(mt))||$t&&mt&&typeof mt.length=="number"){Ct&&(mt=Ct);var Dt=0,Ft=function(){};return{s:Ft,n:function(){return Dt>=mt.length?{done:!0}:{done:!1,value:mt[Dt++]}},e:function(er){throw er},f:Ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nt,jt=!0,Lt=!1;return{s:function(){Ct=Ct.call(mt)},n:function(){var er=Ct.next();return jt=er.done,er},e:function(er){Lt=!0,Nt=er},f:function(){try{jt||Ct.return==null||Ct.return()}finally{if(Lt)throw Nt}}}}nt.exports=at,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(createForOfIteratorHelper);var createForOfIteratorHelperExports=createForOfIteratorHelper.exports,_interopRequireDefault$s=interopRequireDefaultExports.default,_createForOfIteratorHelper2$f=_interopRequireDefault$s(createForOfIteratorHelperExports),invariant$L=browser$1;function handleFieldErrors(nt,et){var at=(0,_createForOfIteratorHelper2$f.default)(et),mt;try{for(at.s();!(mt=at.n()).done;){var $t=mt.value;nt.relayFieldLogger($t)}}catch(Nt){at.e(Nt)}finally{at.f()}var Ct=(0,_createForOfIteratorHelper2$f.default)(et),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value;if(eventShouldThrow$1(Ft))switch(Ft.kind){case"relay_resolver.error":throw new Error("Relay: Resolver error at path '".concat(Ft.fieldPath,"' in '").concat(Ft.owner,"'."));case"relay_field_payload.error":throw new Error("Relay: Unexpected response payload - check server logs for details.");case"missing_expected_data.throw":throw new Error("Relay: Missing expected data at path '".concat(Ft.fieldPath,"' in '").concat(Ft.owner,"'."));case"missing_required_field.throw":throw new Error("Relay: Missing @required value at path '".concat(Ft.fieldPath,"' in '").concat(Ft.owner,"'."));case"missing_required_field.log":case"missing_expected_data.log":break;default:Ft.kind,invariant$L(!1)}}}catch(Nt){Ct.e(Nt)}finally{Ct.f()}}function eventShouldThrow$1(nt){switch(nt.kind){case"relay_resolver.error":case"relay_field_payload.error":return nt.shouldThrow&&!nt.handled;case"missing_expected_data.throw":case"missing_required_field.throw":return!nt.handled;case"missing_required_field.log":case"missing_expected_data.log":return!1;default:throw nt.kind,new Error("Relay: Unexpected event kind")}}function handlePotentialSnapshotErrors$4(nt,et){et!=null&&handleFieldErrors(nt,et)}var handlePotentialSnapshotErrors_1={handlePotentialSnapshotErrors:handlePotentialSnapshotErrors$4,eventShouldThrow:eventShouldThrow$1},objectSpread2={exports:{}};(function(nt){var et=requireDefineProperty();function at($t,Ct){var Dt=Object.keys($t);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols($t);Ct&&(Ft=Ft.filter(function(Nt){return Object.getOwnPropertyDescriptor($t,Nt).enumerable})),Dt.push.apply(Dt,Ft)}return Dt}function mt($t){for(var Ct=1;Ct<arguments.length;Ct++){var Dt=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?at(Object(Dt),!0).forEach(function(Ft){et($t,Ft,Dt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties($t,Object.getOwnPropertyDescriptors(Dt)):at(Object(Dt)).forEach(function(Ft){Object.defineProperty($t,Ft,Object.getOwnPropertyDescriptor(Dt,Ft))})}return $t}nt.exports=mt,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(objectSpread2);var objectSpread2Exports=objectSpread2.exports,toConsumableArray={exports:{}},arrayWithoutHoles={exports:{}};(function(nt){var et=arrayLikeToArrayExports;function at(mt){if(Array.isArray(mt))return et(mt)}nt.exports=at,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(arrayWithoutHoles);var arrayWithoutHolesExports=arrayWithoutHoles.exports,iterableToArray={exports:{}};(function(nt){function et(at){if(typeof Symbol<"u"&&at[Symbol.iterator]!=null||at["@@iterator"]!=null)return Array.from(at)}nt.exports=et,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(iterableToArray);var iterableToArrayExports=iterableToArray.exports,nonIterableSpread={exports:{}};(function(nt){function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}nt.exports=et,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(nonIterableSpread);var nonIterableSpreadExports=nonIterableSpread.exports;(function(nt){var et=arrayWithoutHolesExports,at=iterableToArrayExports,mt=unsupportedIterableToArrayExports,$t=nonIterableSpreadExports;function Ct(Dt){return et(Dt)||at(Dt)||mt(Dt)||$t()}nt.exports=Ct,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(toConsumableArray);var toConsumableArrayExports=toConsumableArray.exports,RelayDefaultHandleKey$1={DEFAULT_HANDLE_KEY:""},_require$O=RelayDefaultHandleKey$1,DEFAULT_HANDLE_KEY=_require$O.DEFAULT_HANDLE_KEY,invariant$K=browser$1;function getRelayHandleKey$3(nt,et,at){return et&&et!==DEFAULT_HANDLE_KEY?"__".concat(et,"_").concat(nt):(at==null&&invariant$K(!1),"__".concat(at,"_").concat(nt))}var getRelayHandleKey_1=getRelayHandleKey$3;function stableCopy$6(nt){if(!nt||typeof nt!="object")return nt;if(Array.isArray(nt))return nt.map(stableCopy$6);for(var et=Object.keys(nt).sort(),at={},mt=0;mt<et.length;mt++)at[et[mt]]=stableCopy$6(nt[et[mt]]);return at}function hasCycle$2(nt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(!nt||typeof nt!="object")return!1;if(et.has(nt))return!0;var at=new Set(et);at.add(nt);var mt=Array.isArray(nt)?nt:Object.values(nt);return mt.some(function($t){return hasCycle$2($t,at)})}var stableCopy_1={stableCopy:stableCopy$6,hasCycle:hasCycle$2},_interopRequireDefault$r=interopRequireDefaultExports.default,_toConsumableArray2$5=_interopRequireDefault$r(toConsumableArrayExports),getRelayHandleKey$2=getRelayHandleKey_1,RelayConcreteNode$1=RelayConcreteNode_1,_require$N=stableCopy_1,stableCopy$5=_require$N.stableCopy,invariant$J=browser$1,VARIABLE=RelayConcreteNode$1.VARIABLE,LITERAL=RelayConcreteNode$1.LITERAL,OBJECT_VALUE=RelayConcreteNode$1.OBJECT_VALUE,LIST_VALUE=RelayConcreteNode$1.LIST_VALUE,ERRORS_KEY$1="__errors",MODULE_COMPONENT_KEY_PREFIX="__module_component_",MODULE_OPERATION_KEY_PREFIX="__module_operation_";function getArgumentValue(nt,et){if(nt.kind===VARIABLE)return getStableVariableValue(nt.variableName,et);if(nt.kind===LITERAL)return nt.value;if(nt.kind===OBJECT_VALUE){var at={};return nt.fields.forEach(function($t){at[$t.name]=getArgumentValue($t,et)}),at}else if(nt.kind===LIST_VALUE){var mt=[];return nt.items.forEach(function($t){$t!=null&&mt.push(getArgumentValue($t,et))}),mt}}function getArgumentValues$5(nt,et,at){var mt={};return at&&(mt[RelayStoreUtils$4.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]=!0),nt&&nt.forEach(function($t){mt[$t.name]=getArgumentValue($t,et)}),mt}function getHandleStorageKey$3(nt,et){var at=nt.dynamicKey,mt=nt.handle,$t=nt.key,Ct=nt.name,Dt=nt.args,Ft=nt.filters,Nt=getRelayHandleKey$2(mt,$t,Ct),jt=null;return Dt&&Ft&&Dt.length!==0&&Ft.length!==0&&(jt=Dt.filter(function(Lt){return Ft.indexOf(Lt.name)>-1})),at&&(jt=jt!=null?[at].concat((0,_toConsumableArray2$5.default)(jt)):[at]),jt===null?Nt:formatStorageKey(Nt,getArgumentValues$5(jt,et))}function getStorageKey$7(nt,et){if(nt.storageKey)return nt.storageKey;var at=getArguments(nt),mt=nt.name;return at&&at.length!==0?formatStorageKey(mt,getArgumentValues$5(at,et)):mt}function getArguments(nt){if(nt.kind==="RelayResolver"||nt.kind==="RelayLiveResolver"){var et;if(nt.args==null){var at;return(at=nt.fragment)===null||at===void 0?void 0:at.args}return((et=nt.fragment)===null||et===void 0?void 0:et.args)==null?nt.args:nt.args.concat(nt.fragment.args)}var mt=typeof nt.args>"u"?void 0:nt.args;return mt}function getStableStorageKey$2(nt,et){return formatStorageKey(nt,stableCopy$5(et))}function formatStorageKey(nt,et){if(!et)return nt;var at=[];for(var mt in et)if(et.hasOwnProperty(mt)){var $t=et[mt];if($t!=null){var Ct;at.push(mt+":"+((Ct=JSON.stringify($t))!==null&&Ct!==void 0?Ct:"undefined"))}}return at.length===0?nt:nt+"(".concat(at.join(","),")")}function getStableVariableValue(nt,et){return et.hasOwnProperty(nt)||invariant$J(!1),stableCopy$5(et[nt])}function getModuleComponentKey$3(nt){return"".concat(MODULE_COMPONENT_KEY_PREFIX).concat(nt)}function getModuleOperationKey$4(nt){return"".concat(MODULE_OPERATION_KEY_PREFIX).concat(nt)}var RelayStoreUtils$4={ACTOR_IDENTIFIER_KEY:"__actorIdentifier",CLIENT_EDGE_TRAVERSAL_PATH:"__clientEdgeTraversalPath",FRAGMENTS_KEY:"__fragments",FRAGMENT_OWNER_KEY:"__fragmentOwner",FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT:"$isWithinUnmatchedTypeRefinement",FRAGMENT_PROP_NAME_KEY:"__fragmentPropName",MODULE_COMPONENT_KEY:"__module_component",ERRORS_KEY:ERRORS_KEY$1,ID_KEY:"__id",REF_KEY:"__ref",REFS_KEY:"__refs",ROOT_ID:"client:root",ROOT_TYPE:"__Root",TYPENAME_KEY:"__typename",INVALIDATED_AT_KEY:"__invalidated_at",RELAY_RESOLVER_VALUE_KEY:"__resolverValue",RELAY_RESOLVER_INVALIDATION_KEY:"__resolverValueMayBeInvalid",RELAY_RESOLVER_SNAPSHOT_KEY:"__resolverSnapshot",RELAY_RESOLVER_ERROR_KEY:"__resolverError",RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS:"__resolverOutputTypeRecordIDs",formatStorageKey,getArgumentValue,getArgumentValues:getArgumentValues$5,getHandleStorageKey:getHandleStorageKey$3,getStorageKey:getStorageKey$7,getStableStorageKey:getStableStorageKey$2,getModuleComponentKey:getModuleComponentKey$3,getModuleOperationKey:getModuleOperationKey$4},RelayStoreUtils_1=RelayStoreUtils$4,_interopRequireDefault$q=interopRequireDefaultExports.default,_objectSpread2$a=_interopRequireDefault$q(objectSpread2Exports),_require$M=RelayStoreUtils_1,getArgumentValues$4=_require$M.getArgumentValues,invariant$I=browser$1;function getFragmentVariables$1(nt,et,at){if(nt.argumentDefinitions==null)return at;var mt;return nt.argumentDefinitions.forEach(function($t){if(!at.hasOwnProperty($t.name))switch(mt=mt||(0,_objectSpread2$a.default)({},at),$t.kind){case"LocalArgument":mt[$t.name]=$t.defaultValue;break;case"RootArgument":if(!et.hasOwnProperty($t.name)){mt[$t.name]=void 0;break}mt[$t.name]=et[$t.name];break;default:invariant$I(!1)}}),mt||at}function getOperationVariables$1(nt,et,at){var mt={};return nt.argumentDefinitions.forEach(function($t){var Ct=$t.defaultValue;at[$t.name]!=null&&(Ct=at[$t.name]),mt[$t.name]=Ct}),et!=null&&Object.keys(et).forEach(function($t){mt[$t]=et[$t].get()}),mt}function getLocalVariables$4(nt,et,at){if(et==null)return nt;var mt=(0,_objectSpread2$a.default)({},nt),$t=at?getArgumentValues$4(at,nt):{};return et.forEach(function(Ct){var Dt,Ft=(Dt=$t[Ct.name])!==null&&Dt!==void 0?Dt:Ct.defaultValue;mt[Ct.name]=Ft}),mt}var RelayConcreteVariables$2={getLocalVariables:getLocalVariables$4,getFragmentVariables:getFragmentVariables$1,getOperationVariables:getOperationVariables$1},aStackPool=[],bStackPool=[];/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function areEqual$5(nt,et){var at=aStackPool.length?aStackPool.pop():[],mt=bStackPool.length?bStackPool.pop():[],$t=eq(nt,et,at,mt);return at.length=0,mt.length=0,aStackPool.push(at),bStackPool.push(mt),$t}function eq(nt,et,at,mt){if(nt===et)return nt!==0||1/nt==1/et;if(nt==null||et==null||typeof nt!="object"||typeof et!="object")return!1;var $t=Object.prototype.toString,Ct=$t.call(nt);if(Ct!=$t.call(et))return!1;switch(Ct){case"[object String]":return nt==String(et);case"[object Number]":return isNaN(nt)||isNaN(et)?!1:nt==Number(et);case"[object Date]":case"[object Boolean]":return+nt==+et;case"[object RegExp]":return nt.source==et.source&&nt.global==et.global&&nt.multiline==et.multiline&&nt.ignoreCase==et.ignoreCase}for(var Dt=at.length;Dt--;)if(at[Dt]==nt)return mt[Dt]==et;at.push(nt),mt.push(et);var Ft=0;if(Ct==="[object Array]"){if(Ft=nt.length,Ft!==et.length)return!1;for(;Ft--;)if(!eq(nt[Ft],et[Ft],at,mt))return!1}else{if(nt.constructor!==et.constructor)return!1;if(nt.hasOwnProperty("valueOf")&&et.hasOwnProperty("valueOf"))return nt.valueOf()==et.valueOf();var Nt=Object.keys(nt);if(Nt.length!=Object.keys(et).length)return!1;for(var jt=0;jt<Nt.length;jt++)if(!eq(nt[Nt[jt]],et[Nt[jt]],at,mt))return!1}return at.pop(),mt.pop(),!0}var areEqual_1=areEqual$5,_require$L=RelayConcreteVariables$2,getFragmentVariables=_require$L.getFragmentVariables,_require2$v=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH$1=_require2$v.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY$1=_require2$v.FRAGMENT_OWNER_KEY,FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT=_require2$v.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT,FRAGMENTS_KEY$2=_require2$v.FRAGMENTS_KEY,ID_KEY$3=_require2$v.ID_KEY,areEqual$4=areEqual_1,invariant$H=browser$1;function getSingularSelector(nt,et){typeof et=="object"&&et!==null&&!Array.isArray(et)||invariant$H(!1);var at=et[ID_KEY$3],mt=et[FRAGMENTS_KEY$2],$t=et[FRAGMENT_OWNER_KEY$1],Ct=et[CLIENT_EDGE_TRAVERSAL_PATH$1];if(typeof at=="string"&&typeof mt=="object"&&mt!==null&&typeof mt[nt.name]=="object"&&mt[nt.name]!==null&&typeof $t=="object"&&$t!==null&&(Ct==null||Array.isArray(Ct))){var Dt=$t,Ft=Ct,Nt=mt[nt.name],jt=getFragmentVariables(nt,Dt.variables,Nt),Lt=Nt[FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]===!0;return createReaderSelector$4(nt,at,jt,Dt,Lt,Ft)}return null}function getPluralSelector(nt,et){var at=null;return et.forEach(function(mt,$t){var Ct=mt!=null?getSingularSelector(nt,mt):null;Ct!=null&&(at=at||[],at.push(Ct))}),at==null?null:{kind:"PluralReaderSelector",selectors:at}}function getSelector$3(nt,et){return et==null?et:nt.metadata&&nt.metadata.plural===!0?(Array.isArray(et)||invariant$H(!1),getPluralSelector(nt,et)):(Array.isArray(et)&&invariant$H(!1),getSingularSelector(nt,et))}function getSelectorsFromObject$1(nt,et){var at={};for(var mt in nt)if(nt.hasOwnProperty(mt)){var $t=nt[mt],Ct=et[mt];at[mt]=getSelector$3($t,Ct)}return at}function getDataIDsFromObject(nt,et){var at={};for(var mt in nt)if(nt.hasOwnProperty(mt)){var $t=nt[mt],Ct=et[mt];at[mt]=getDataIDsFromFragment$1($t,Ct)}return at}function getDataIDsFromFragment$1(nt,et){return et==null?et:nt.metadata&&nt.metadata.plural===!0?(Array.isArray(et)||invariant$H(!1),getDataIDs(nt,et)):(Array.isArray(et)&&invariant$H(!1),getDataID$1(nt,et))}function getDataIDs(nt,et){var at=null;return et.forEach(function(mt){var $t=mt!=null?getDataID$1(nt,mt):null;$t!=null&&(at=at||[],at.push($t))}),at}function getDataID$1(nt,et){typeof et=="object"&&et!==null&&!Array.isArray(et)||invariant$H(!1);var at=et[ID_KEY$3];return typeof at=="string"?at:null}function getVariablesFromObject(nt,et){var at={};for(var mt in nt)if(nt.hasOwnProperty(mt)){var $t=nt[mt],Ct=et[mt],Dt=getVariablesFromFragment$2($t,Ct);Object.assign(at,Dt)}return at}function getVariablesFromFragment$2(nt,et){var at;return et==null?{}:((at=nt.metadata)===null||at===void 0?void 0:at.plural)===!0?(Array.isArray(et)||invariant$H(!1),getVariablesFromPluralFragment(nt,et)):(Array.isArray(et)&&invariant$H(!1),getVariablesFromSingularFragment(nt,et)||{})}function getVariablesFromSingularFragment(nt,et){var at=getSingularSelector(nt,et);return at?at.variables:null}function getVariablesFromPluralFragment(nt,et){var at={};return et.forEach(function(mt,$t){if(mt!=null){var Ct=getVariablesFromSingularFragment(nt,mt);Ct!=null&&Object.assign(at,Ct)}}),at}function areEqualSingularSelectors(nt,et){return nt.dataID===et.dataID&&nt.node===et.node&&areEqual$4(nt.variables,et.variables)&&areEqualOwners(nt.owner,et.owner)&&nt.isWithinUnmatchedTypeRefinement===et.isWithinUnmatchedTypeRefinement&&areEqualClientEdgeTraversalPaths(nt.clientEdgeTraversalPath,et.clientEdgeTraversalPath)}function areEqualOwners(nt,et){return nt===et?!0:nt.identifier===et.identifier&&areEqual$4(nt.cacheConfig,et.cacheConfig)}function areEqualClientEdgeTraversalPaths(nt,et){if(nt===et)return!0;if(nt==null||et==null||nt.length!==et.length)return!1;for(var at=nt.length;at--;){var mt=nt[at],$t=et[at];if(mt!==$t&&(mt==null||$t==null||mt.clientEdgeDestinationID!==$t.clientEdgeDestinationID||mt.readerClientEdge!==$t.readerClientEdge))return!1}return!0}function areEqualSelectors$1(nt,et){return nt===et?!0:nt==null?et==null:et==null?nt==null:nt.kind==="SingularReaderSelector"&&et.kind==="SingularReaderSelector"?areEqualSingularSelectors(nt,et):nt.kind==="PluralReaderSelector"&&et.kind==="PluralReaderSelector"?nt.selectors.length===et.selectors.length&&nt.selectors.every(function(at,mt){return areEqualSingularSelectors(at,et.selectors[mt])}):!1}function createReaderSelector$4(nt,et,at,mt){var $t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,Ct=arguments.length>5?arguments[5]:void 0;return{kind:"SingularReaderSelector",dataID:et,isWithinUnmatchedTypeRefinement:$t,clientEdgeTraversalPath:Ct??null,node:nt,variables:at,owner:mt}}function createNormalizationSelector$4(nt,et,at){return{dataID:et,node:nt,variables:at}}var RelayModernSelector$1={areEqualSelectors:areEqualSelectors$1,createReaderSelector:createReaderSelector$4,createNormalizationSelector:createNormalizationSelector$4,getDataIDsFromFragment:getDataIDsFromFragment$1,getDataIDsFromObject,getSingularSelector,getPluralSelector,getSelector:getSelector$3,getSelectorsFromObject:getSelectorsFromObject$1,getVariablesFromSingularFragment,getVariablesFromPluralFragment,getVariablesFromFragment:getVariablesFromFragment$2,getVariablesFromObject},_require$K=GraphQLTag$1,getFragment$2=_require$K.getFragment,_require2$u=handlePotentialSnapshotErrors_1,eventShouldThrow=_require2$u.eventShouldThrow,_require3$i=RelayModernSelector$1,getSelector$2=_require3$i.getSelector,invariant$G=browser$1,contextStack=[];function withResolverContext$1(nt,et){contextStack.push(nt);try{return et()}finally{contextStack.pop()}}function readFragment$1(nt,et){if(!contextStack.length)throw new Error("readFragment should be called only from within a Relay Resolver function.");var at=contextStack[contextStack.length-1],mt=getFragment$2(nt),$t=getSelector$2(mt,et);$t==null&&invariant$G(!1),$t.kind!=="SingularReaderSelector"&&invariant$G(!1);var Ct=at.getDataForResolverFragment($t,et),Dt=Ct.data,Ft=Ct.isMissingData,Nt=Ct.errorResponseFields;if(Ft||Nt!=null&&Nt.some(eventShouldThrow))throw RESOLVER_FRAGMENT_ERRORED_SENTINEL$1;return Dt}var RESOLVER_FRAGMENT_ERRORED_SENTINEL$1={},ResolverFragments$1={readFragment:readFragment$1,withResolverContext:withResolverContext$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL:RESOLVER_FRAGMENT_ERRORED_SENTINEL$1},_require$J=ResolverFragments$1,readFragment=_require$J.readFragment,invariant$F=browser$1;function resolverDataInjector$1(nt,et,at,mt){var $t=et;return function(Ct,Dt){var Ft=readFragment(nt,Ct);if(at!=null){if(Ft==null)if(mt===!0)invariant$F(!1);else return $t(null,Dt);if(at in Ft)return mt===!0&&Ft[at]==null&&invariant$F(!1),$t(Ft[at],Dt);invariant$F(!1)}else return $t(Ft,Dt)}}var resolverDataInjector_1=resolverDataInjector$1;function isPromise$2(nt){return nt!=null&&typeof nt=="object"&&typeof nt.then=="function"}var isPromise_1=isPromise$2,isPromise$1=isPromise_1,hostReportError=swallowError,RelayObservable$6=function(){nt.create=function(mt){return new nt(mt)};function nt(at){this._source=at}nt.onUnhandledError=function(mt){hostReportError=mt},nt.from=function(mt){return isObservable(mt)?fromObservable(mt):isPromise$1(mt)?fromPromise(mt):fromValue(mt)};var et=nt.prototype;return et.catch=function(mt){var $t=this;return nt.create(function(Ct){var Dt;return $t.subscribe({start:function(Nt){Dt=Nt},next:Ct.next,complete:Ct.complete,error:function(Nt){try{mt(Nt).subscribe({start:function(Lt){Dt=Lt},next:Ct.next,complete:Ct.complete,error:Ct.error})}catch(jt){Ct.error(jt,!0)}}}),function(){return Dt.unsubscribe()}})},et.concat=function(mt){var $t=this;return nt.create(function(Ct){var Dt;return $t.subscribe({start:function(Nt){Dt=Nt},next:Ct.next,error:Ct.error,complete:function(){Dt=mt.subscribe(Ct)}}),function(){Dt&&Dt.unsubscribe()}})},et.do=function(mt){var $t=this;return nt.create(function(Ct){var Dt=function(Nt){return function(){try{mt[Nt]&&mt[Nt].apply(mt,arguments)}catch(jt){hostReportError(jt,!0)}Ct[Nt]&&Ct[Nt].apply(Ct,arguments)}};return $t.subscribe({start:Dt("start"),next:Dt("next"),error:Dt("error"),complete:Dt("complete"),unsubscribe:Dt("unsubscribe")})})},et.finally=function(mt){var $t=this;return nt.create(function(Ct){var Dt=$t.subscribe(Ct);return function(){Dt.unsubscribe(),mt()}})},et.ifEmpty=function(mt){var $t=this;return nt.create(function(Ct){var Dt=!1,Ft;return Ft=$t.subscribe({next:function(jt){Dt=!0,Ct.next(jt)},error:Ct.error,complete:function(){Dt?Ct.complete():Ft=mt.subscribe(Ct)}}),function(){Ft&&Ft.unsubscribe()}})},et.subscribe=function(mt){return _subscribe(this._source,mt)},et.map=function(mt){var $t=this;return nt.create(function(Ct){var Dt=$t.subscribe({complete:Ct.complete,error:Ct.error,next:function(Nt){try{var jt=mt(Nt);Ct.next(jt)}catch(Lt){Ct.error(Lt,!0)}}});return function(){Dt.unsubscribe()}})},et.mergeMap=function(mt){var $t=this;return nt.create(function(Ct){var Dt=[];function Ft(jt){this._sub=jt,Dt.push(jt)}function Nt(){Dt.splice(Dt.indexOf(this._sub),1),Dt.length===0&&Ct.complete()}return $t.subscribe({start:Ft,next:function(Lt){try{Ct.closed||nt.from(mt(Lt)).subscribe({start:Ft,next:Ct.next,error:Ct.error,complete:Nt})}catch(Vt){Ct.error(Vt,!0)}},error:Ct.error,complete:Nt}),function(){Dt.forEach(function(jt){return jt.unsubscribe()}),Dt.length=0}})},et.poll=function(mt){var $t=this;return nt.create(function(Ct){var Dt,Ft,Nt=function jt(){Dt=$t.subscribe({next:Ct.next,error:Ct.error,complete:function(){Ft=setTimeout(jt,mt)}})};return Nt(),function(){clearTimeout(Ft),Dt.unsubscribe()}})},et.toPromise=function(){var mt=this;return new Promise(function($t,Ct){var Dt=!1;mt.subscribe({next:function(Nt){Dt||(Dt=!0,$t(Nt))},error:Ct,complete:$t})})},nt}();function isObservable(nt){return typeof nt=="object"&&nt!==null&&typeof nt.subscribe=="function"}function fromObservable(nt){return nt instanceof RelayObservable$6?nt:RelayObservable$6.create(function(et){return nt.subscribe(et)})}function fromPromise(nt){return RelayObservable$6.create(function(et){nt.then(function(at){et.next(at),et.complete()},et.error)})}function fromValue(nt){return RelayObservable$6.create(function(et){et.next(nt),et.complete()})}function _subscribe(nt,et){var at=!1,mt,$t=function(jt){return Object.defineProperty(jt,"closed",{get:function(){return at}})};function Ct(){if(mt){if(mt.unsubscribe)mt.unsubscribe();else try{mt()}catch(Nt){hostReportError(Nt,!0)}mt=void 0}}var Dt=$t({unsubscribe:function(){if(!at){at=!0;try{et.unsubscribe&&et.unsubscribe(Dt)}catch(jt){hostReportError(jt,!0)}finally{Ct()}}}});try{et.start&&et.start(Dt)}catch(Nt){hostReportError(Nt,!0)}if(at)return Dt;var Ft=$t({next:function(jt){if(!at&&et.next)try{et.next(jt)}catch(Lt){hostReportError(Lt,!0)}},error:function(jt,Lt){if(at||!et.error)at=!0,hostReportError(jt,Lt||!1),Ct();else{at=!0;try{et.error(jt)}catch(Vt){hostReportError(Vt,!0)}finally{Ct()}}},complete:function(){if(!at){at=!0;try{et.complete&&et.complete()}catch(jt){hostReportError(jt,!0)}finally{Ct()}}}});try{mt=nt(Ft)}catch(Nt){Ft.error(Nt,!0)}return at&&Ct(),Dt}function swallowError(nt,et){}var RelayObservable_1=RelayObservable$6,_interopRequireDefault$p=interopRequireDefaultExports.default,_createForOfIteratorHelper2$e=_interopRequireDefault$p(createForOfIteratorHelperExports),_defineProperty2$5=_interopRequireDefault$p(requireDefineProperty()),RelayObservable$5=RelayObservable_1,invariant$E=browser$1,RelayReplaySubject$2=function(){function nt(){var at=this;(0,_defineProperty2$5.default)(this,"_complete",!1),(0,_defineProperty2$5.default)(this,"_events",[]),(0,_defineProperty2$5.default)(this,"_sinks",new Set),(0,_defineProperty2$5.default)(this,"_subscription",[]),this._observable=RelayObservable$5.create(function(mt){at._sinks.add(mt);for(var $t=at._events,Ct=0;Ct<$t.length&&!mt.closed;Ct++){var Dt=$t[Ct];switch(Dt.kind){case"complete":mt.complete();break;case"error":mt.error(Dt.error);break;case"next":mt.next(Dt.data);break;default:Dt.kind,invariant$E(!1)}}return function(){at._sinks.delete(mt)}})}var et=nt.prototype;return et.complete=function(){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"complete"}),this._sinks.forEach(function(mt){return mt.complete()}))},et.error=function(mt){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"error",error:mt}),this._sinks.forEach(function($t){return $t.error(mt)}))},et.next=function(mt){this._complete!==!0&&(this._events.push({kind:"next",data:mt}),this._sinks.forEach(function($t){return $t.next(mt)}))},et.subscribe=function(mt){var $t=this._observable.subscribe(mt);return this._subscription.push($t),$t},et.unsubscribe=function(){var mt=(0,_createForOfIteratorHelper2$e.default)(this._subscription),$t;try{for(mt.s();!($t=mt.n()).done;){var Ct=$t.value;Ct.unsubscribe()}}catch(Dt){mt.e(Dt)}finally{mt.f()}this._subscription=[]},et.getObserverCount=function(){return this._sinks.size},nt}(),RelayReplaySubject_1=RelayReplaySubject$2,Observable$1=RelayObservable_1,RelayReplaySubject$1=RelayReplaySubject_1,invariant$D=browser$1,WEAKMAP_SUPPORTED$1=typeof WeakMap=="function",requestCachesByEnvironment=WEAKMAP_SUPPORTED$1?new WeakMap:new Map;function fetchQuery$2(nt,et){return fetchQueryDeduped(nt,et.request.identifier,function(){return nt.execute({operation:et})})}function fetchQueryDeduped(nt,et,at){return Observable$1.create(function(mt){var $t=getRequestCache(nt),Ct=$t.get(et);return Ct||at().finally(function(){return $t.delete(et)}).subscribe({start:function(Ft){Ct={identifier:et,subject:new RelayReplaySubject$1,subjectForInFlightStatus:new RelayReplaySubject$1,subscription:Ft,promise:null},$t.set(et,Ct)},next:function(Ft){var Nt=getCachedRequest($t,et);Nt.subject.next(Ft),Nt.subjectForInFlightStatus.next(Ft)},error:function(Ft){var Nt=getCachedRequest($t,et);Nt.subject.error(Ft),Nt.subjectForInFlightStatus.error(Ft)},complete:function(){var Ft=getCachedRequest($t,et);Ft.subject.complete(),Ft.subjectForInFlightStatus.complete()},unsubscribe:function(Ft){var Nt=getCachedRequest($t,et);Nt.subject.unsubscribe(),Nt.subjectForInFlightStatus.unsubscribe()}}),Ct==null&&invariant$D(!1),getObservableForCachedRequest($t,Ct).subscribe(mt)})}function getObservableForCachedRequest(nt,et){return Observable$1.create(function(at){var mt=et.subject.subscribe(at);return function(){mt.unsubscribe();var $t=nt.get(et.identifier);if($t){var Ct=$t.subscription;Ct!=null&&$t.subject.getObserverCount()===0&&(Ct.unsubscribe(),nt.delete(et.identifier))}}})}function getActiveStatusObservableForCachedRequest(nt,et,at){return Observable$1.create(function(mt){var $t=at.subjectForInFlightStatus.subscribe({error:mt.error,next:function(Dt){if(!nt.isRequestActive(at.identifier)){mt.complete();return}mt.next()},complete:mt.complete,unsubscribe:mt.complete});return function(){$t.unsubscribe()}})}function getPromiseForActiveRequest$1(nt,et){var at=getRequestCache(nt),mt=at.get(et.identifier);if(!mt||!nt.isRequestActive(mt.identifier))return null;var $t=new Promise(function(Ct,Dt){var Ft=!1;getActiveStatusObservableForCachedRequest(nt,at,mt).subscribe({complete:Ct,error:Dt,next:function(jt){Ft&&Ct(jt)}}),Ft=!0});return $t}function getObservableForActiveRequest(nt,et){var at=getRequestCache(nt),mt=at.get(et.identifier);return!mt||!nt.isRequestActive(mt.identifier)?null:getActiveStatusObservableForCachedRequest(nt,at,mt)}function getRequestCache(nt){var et=requestCachesByEnvironment.get(nt);if(et!=null)return et;var at=new Map;return requestCachesByEnvironment.set(nt,at),at}function getCachedRequest(nt,et){var at=nt.get(et);return at==null&&invariant$D(!1),at}var fetchQueryInternal$2={fetchQuery:fetchQuery$2,fetchQueryDeduped,getPromiseForActiveRequest:getPromiseForActiveRequest$1,getObservableForActiveRequest},_require$I=fetchQueryInternal$2,getPromiseForActiveRequest=_require$I.getPromiseForActiveRequest;function getPendingOperationsForFragment$3(nt,et,at){var mt,$t,Ct=[],Dt=getPromiseForActiveRequest(nt,at);if(Dt!=null)Ct=[at];else{var Ft,Nt,jt=nt.getOperationTracker(),Lt=jt.getPendingOperationsAffectingOwner(at);Ct=(Ft=Lt==null?void 0:Lt.pendingOperations)!==null&&Ft!==void 0?Ft:[],Dt=(Nt=Lt==null?void 0:Lt.promise)!==null&&Nt!==void 0?Nt:null}if(!Dt)return null;var Vt=(mt=($t=Ct)===null||$t===void 0?void 0:$t.map(function(or){return or.node.params.name}).join(","))!==null&&mt!==void 0?mt:null;(Vt==null||Vt.length===0)&&(Vt="Unknown pending operation");var er=et.name,ir=Vt===er?"Relay(".concat(Vt,")"):"Relay(".concat(Vt,":").concat(er,")");return Dt.displayName=ir,nt.__log({name:"pendingoperation.found",fragment:et,fragmentOwner:at,pendingOperations:Ct}),{promise:Dt,pendingOperations:Ct}}var getPendingOperationsForFragment_1=getPendingOperationsForFragment$3,_asyncToGenerator$1=requireAsyncToGenerator().default,Observable=RelayObservable_1,_require$H=GraphQLTag$1,getFragment$1=_require$H.getFragment,getPendingOperationsForFragment$2=getPendingOperationsForFragment_1,_require2$t=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$3=_require2$t.handlePotentialSnapshotErrors,_require3$h=RelayModernSelector$1,getSelector$1=_require3$h.getSelector,invariant$C=browser$1;function waitForFragmentData$2(nt,et,at){return _waitForFragmentData$1.apply(this,arguments)}function _waitForFragmentData$1(){return _waitForFragmentData$1=_asyncToGenerator$1(function*(nt,et,at){var mt;try{var $t,Ct=yield new Promise(function(Ft,Nt){mt=observeFragment$2(nt,et,at).subscribe({next:function(Lt){Lt.state==="ok"?Ft(Lt.value):Lt.state==="error"&&Nt(Lt.error)}})});return($t=mt)===null||$t===void 0||$t.unsubscribe(),Ct}catch(Ft){var Dt;throw(Dt=mt)===null||Dt===void 0||Dt.unsubscribe(),Ft}}),_waitForFragmentData$1.apply(this,arguments)}function observeFragment$2(nt,et,at){var mt,$t=getFragment$1(et),Ct=getSelector$1($t,at);switch(((mt=$t.metadata)===null||mt===void 0?void 0:mt.hasClientEdges)!=null&&invariant$C(!1),Ct==null&&invariant$C(!1),Ct.kind){case"SingularReaderSelector":return observeSelector(nt,et,Ct);case"PluralReaderSelector":invariant$C(!1)}invariant$C(!1)}function observeSelector(nt,et,at){var mt=nt.lookup(at);return Observable.create(function($t){$t.next(snapshotToFragmentState(nt,et,at.owner,mt));var Ct=nt.subscribe(mt,function(Dt){$t.next(snapshotToFragmentState(nt,et,at.owner,Dt))});return function(){return Ct.dispose()}})}function snapshotToFragmentState(nt,et,at,mt){var $t=mt.missingLiveResolverFields!=null&&mt.missingLiveResolverFields.length>0,Ct=mt.missingClientEdges!=null&&mt.missingClientEdges.length>0;if($t||Ct)return{state:"loading"};if(mt.isMissingData){var Dt=getPendingOperationsForFragment$2(nt,et,at);if(Dt!=null)return{state:"loading"}}try{handlePotentialSnapshotErrors$3(nt,mt.errorResponseFields)}catch(Ft){return{error:Ft,state:"error"}}return mt.data==null&&invariant$C(!1),{state:"ok",value:mt.data}}var observeFragmentExperimental={observeFragment:observeFragment$2,waitForFragmentData:waitForFragmentData$2},_asyncToGenerator=requireAsyncToGenerator().default,_require$G=observeFragmentExperimental,observeFragment$1=_require$G.observeFragment;function waitForFragmentData$1(nt,et,at){return _waitForFragmentData.apply(this,arguments)}function _waitForFragmentData(){return _waitForFragmentData=_asyncToGenerator(function*(nt,et,at){var mt;try{var $t,Ct=yield new Promise(function(Ft,Nt){mt=observeFragment$1(nt,et,at).subscribe({next:function(Lt){Lt.state==="ok"?Ft(Lt.value):Lt.state==="error"&&Nt(Lt.error)}})});return($t=mt)===null||$t===void 0||$t.unsubscribe(),Ct}catch(Ft){var Dt;throw(Dt=mt)===null||Dt===void 0||Dt.unsubscribe(),Ft}}),_waitForFragmentData.apply(this,arguments)}var waitForFragmentExperimental={waitForFragmentData:waitForFragmentData$1},resolverDataInjector=resolverDataInjector_1,_require$F=observeFragmentExperimental,observeFragment=_require$F.observeFragment,_require2$s=waitForFragmentExperimental,waitForFragmentData=_require2$s.waitForFragmentData;function isValueResult$1(nt){return nt.ok===!0}function isErrorResult$1(nt){return nt.ok===!1}var experimental={resolverDataInjector,isValueResult:isValueResult$1,isErrorResult:isErrorResult$1,observeFragment,waitForFragmentData},RelayFeatureFlags$9={ENABLE_VARIABLE_CONNECTION_KEY:!1,ENABLE_RELAY_RESOLVERS:!1,ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION:!1,ENABLE_FRIENDLY_QUERY_NAME_GQL_URL:!1,ENABLE_DO_NOT_WRAP_LIVE_QUERY:!1,ENABLE_NOTIFY_SUBSCRIPTION:!1,BATCH_ASYNC_MODULE_UPDATES_FN:null,ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT:!1,MAX_DATA_ID_LENGTH:null,STRING_INTERN_LEVEL:0,LOG_MISSING_RECORDS_IN_PROD:!1,ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS:!1,ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION:!1,ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES:!1,ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE:!1,PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION:!1,MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD:!1,ENABLE_CYLE_DETECTION_IN_VARIABLES:!1,ENABLE_ACTIVITY_COMPATIBILITY:!1,ENABLE_READ_TIME_RESOLVER_STORAGE_KEY_PREFIX:!0},RelayFeatureFlags_1=RelayFeatureFlags$9,internTable=new Map,nextIndex=1,digits=initDigitTable(),INTERN_PREFIX="	",ESCAPE_PREFIX="\v";function initDigitTable(){for(var nt=new Set,et=0;et<10;++et)nt.add(et.toString());return nt}function escape$1(nt){return nt[0]===INTERN_PREFIX&&digits.has(nt[1])||nt[0]===ESCAPE_PREFIX?ESCAPE_PREFIX+nt:nt}function intern$2(nt,et){if(et==null||nt.length<et)return escape$1(nt);var at=internTable.get(nt);return at!=null||(at=INTERN_PREFIX+nextIndex++,internTable.set(nt,at)),at}var StringInterner={intern:intern$2},RelayFeatureFlags$8=RelayFeatureFlags_1,_require$E=StringInterner,intern$1=_require$E.intern,PREFIX$1="client:";function generateClientID$7(nt,et,at){var mt=RelayFeatureFlags$8.STRING_INTERN_LEVEL<=0?nt:intern$1(nt,RelayFeatureFlags$8.MAX_DATA_ID_LENGTH),$t=mt+":"+et;return at!=null&&($t+=":"+at),$t.indexOf(PREFIX$1)!==0&&($t=PREFIX$1+$t),$t}function isClientID$2(nt){return nt.indexOf(PREFIX$1)===0}var localID=0;function generateUniqueClientID$3(){return"".concat(PREFIX$1,"local:").concat(localID++)}function generateClientObjectClientID$2(nt,et,at){var mt="".concat(PREFIX$1).concat(nt,":").concat(et);return at!=null&&(mt+=":"+at),mt}var ClientID={generateClientID:generateClientID$7,generateClientObjectClientID:generateClientObjectClientID$2,generateUniqueClientID:generateUniqueClientID$3,isClientID:isClientID$2},CONNECTION_CALLS={after:!0,before:!0,find:!0,first:!0,last:!0,surrounds:!0},config={CURSOR:"cursor",EDGES:"edges",END_CURSOR:"endCursor",HAS_NEXT_PAGE:"hasNextPage",HAS_PREV_PAGE:"hasPreviousPage",NODE:"node",PAGE_INFO_TYPE:"PageInfo",PAGE_INFO:"pageInfo",START_CURSOR:"startCursor"},ConnectionInterface$3={inject:function nt(et){config=et},get:function nt(){return config},isConnectionCall:function nt(et){return CONNECTION_CALLS.hasOwnProperty(et.name)}},ConnectionInterface_1=ConnectionInterface$3,_require$D=ClientID,generateClientID$6=_require$D.generateClientID,_require2$r=RelayStoreUtils_1,getStableStorageKey$1=_require2$r.getStableStorageKey,getRelayHandleKey$1=getRelayHandleKey_1,ConnectionInterface$2=ConnectionInterface_1,invariant$B=browser$1,CONNECTION="connection",NEXT_EDGE_INDEX="__connection_next_edge_index";function update$1(nt,et){var at=nt.get(et.dataID);if(at){var mt=ConnectionInterface$2.get(),$t=mt.EDGES,Ct=mt.END_CURSOR,Dt=mt.HAS_NEXT_PAGE,Ft=mt.HAS_PREV_PAGE,Nt=mt.PAGE_INFO,jt=mt.PAGE_INFO_TYPE,Lt=mt.START_CURSOR,Vt=at.getLinkedRecord(et.fieldKey),er=Vt&&Vt.getLinkedRecord(Nt);if(!Vt){at.setValue(null,et.handleKey,void 0,at.getErrors(et.fieldKey));return}var ir=generateClientID$6(at.getDataID(),et.handleKey),or=at.getLinkedRecord(et.handleKey),lr=or??nt.get(ir),dr=lr&&lr.getLinkedRecord(Nt);if(lr){or==null&&at.setLinkedRecord(lr,et.handleKey);var vr=lr,br=Vt.getLinkedRecords($t);br&&(br=br.map(function(fr){return buildConnectionEdge(nt,vr,fr)}));var xr=vr.getLinkedRecords($t),Sr=vr.getLinkedRecord(Nt);vr.copyFieldsFrom(Vt),xr&&vr.setLinkedRecords(xr,$t),Sr&&vr.setLinkedRecord(Sr,Nt);var Er=[],$r=et.args;if(xr&&br)if($r.after!=null){var Cr,kr=(Cr=dr)===null||Cr===void 0?void 0:Cr.getValue(Ct),gr=er==null?void 0:er.getValue(Ct),Ut=dr&&$r.after===kr,tr=dr&&kr===gr;if(Ut||tr){var nr=new Set;mergeEdges(xr,Er,nr),mergeEdges(br,Er,nr)}else return}else if($r.before!=null)if(dr&&$r.before===dr.getValue(Lt)){var rr=new Set;mergeEdges(br,Er,rr),mergeEdges(xr,Er,rr)}else return;else Er=br;else br?Er=br:Er=xr;if(Er!=null&&Er!==xr&&vr.setLinkedRecords(Er,$t),dr&&er){if($r.after==null&&$r.before==null)dr.copyFieldsFrom(er);else if($r.before!=null||$r.after==null&&$r.last){dr.setValue(!!er.getValue(Ft),Ft);var ar=er.getValue(Lt);typeof ar=="string"&&dr.setValue(ar,Lt)}else if($r.after!=null||$r.before==null&&$r.first){dr.setValue(!!er.getValue(Dt),Dt);var cr=er.getValue(Ct);typeof cr=="string"&&dr.setValue(cr,Ct)}}}else{var pr=nt.create(ir,Vt.getType());pr.setValue(0,NEXT_EDGE_INDEX),pr.copyFieldsFrom(Vt);var hr=Vt.getLinkedRecords($t);hr&&(hr=hr.map(function(fr){return buildConnectionEdge(nt,pr,fr)}),pr.setLinkedRecords(hr,$t)),at.setLinkedRecord(pr,et.handleKey),dr=nt.create(generateClientID$6(pr.getDataID(),Nt),jt),dr.setValue(!1,Dt),dr.setValue(!1,Ft),dr.setValue(null,Ct),dr.setValue(null,Lt),er&&dr.copyFieldsFrom(er),pr.setLinkedRecord(dr,Nt)}}}function getConnection(nt,et,at){var mt=getRelayHandleKey$1(CONNECTION,et,null);return nt.getLinkedRecord(mt,at)}function getConnectionID(nt,et,at){var mt=getRelayHandleKey$1(CONNECTION,et,null),$t=getStableStorageKey$1(mt,at);return generateClientID$6(nt,$t)}function insertEdgeAfter(nt,et,at){var mt=ConnectionInterface$2.get(),$t=mt.CURSOR,Ct=mt.EDGES,Dt=nt.getLinkedRecords(Ct);if(!Dt){nt.setLinkedRecords([et],Ct);return}var Ft;if(at==null)Ft=Dt.concat(et);else{Ft=[];for(var Nt=!1,jt=0;jt<Dt.length;jt++){var Lt=Dt[jt];if(Ft.push(Lt),Lt!=null){var Vt=Lt.getValue($t);at===Vt&&(Ft.push(et),Nt=!0)}}Nt||Ft.push(et)}nt.setLinkedRecords(Ft,Ct)}function createEdge(nt,et,at,mt){var $t=ConnectionInterface$2.get(),Ct=$t.NODE,Dt=generateClientID$6(et.getDataID(),at.getDataID()),Ft=nt.get(Dt);return Ft||(Ft=nt.create(Dt,mt)),Ft.setLinkedRecord(at,Ct),Ft.getValue("cursor")==null&&Ft.setValue(null,"cursor"),Ft}function insertEdgeBefore(nt,et,at){var mt=ConnectionInterface$2.get(),$t=mt.CURSOR,Ct=mt.EDGES,Dt=nt.getLinkedRecords(Ct);if(!Dt){nt.setLinkedRecords([et],Ct);return}var Ft;if(at==null)Ft=[et].concat(Dt);else{Ft=[];for(var Nt=!1,jt=0;jt<Dt.length;jt++){var Lt=Dt[jt];if(Lt!=null){var Vt=Lt.getValue($t);at===Vt&&(Ft.push(et),Nt=!0)}Ft.push(Lt)}Nt||Ft.unshift(et)}nt.setLinkedRecords(Ft,Ct)}function deleteNode$1(nt,et){var at=ConnectionInterface$2.get(),mt=at.EDGES,$t=at.NODE,Ct=nt.getLinkedRecords(mt);if(Ct){for(var Dt,Ft=0;Ft<Ct.length;Ft++){var Nt=Ct[Ft],jt=Nt&&Nt.getLinkedRecord($t);jt!=null&&jt.getDataID()===et?Dt===void 0&&(Dt=Ct.slice(0,Ft)):Dt!==void 0&&Dt.push(Nt)}Dt!==void 0&&nt.setLinkedRecords(Dt,mt)}}function buildConnectionEdge(nt,et,at){if(at==null)return at;var mt=ConnectionInterface$2.get(),$t=mt.EDGES,Ct=et.getValue(NEXT_EDGE_INDEX);typeof Ct!="number"&&invariant$B(!1);var Dt=generateClientID$6(et.getDataID(),$t,Ct),Ft=nt.create(Dt,at.getType());return Ft.copyFieldsFrom(at),Ft.getValue("cursor")==null&&Ft.setValue(null,"cursor"),et.setValue(Ct+1,NEXT_EDGE_INDEX),Ft}function mergeEdges(nt,et,at){for(var mt=ConnectionInterface$2.get(),$t=mt.NODE,Ct=0;Ct<nt.length;Ct++){var Dt=nt[Ct];if(Dt){var Ft=Dt.getLinkedRecord($t),Nt=Ft&&Ft.getDataID();if(Nt){if(at.has(Nt))continue;at.add(Nt)}et.push(Dt)}}}var ConnectionHandler$4={buildConnectionEdge,createEdge,deleteNode:deleteNode$1,getConnection,getConnectionID,insertEdgeAfter,insertEdgeBefore,update:update$1},_interopRequireDefault$o=interopRequireDefaultExports.default,_createForOfIteratorHelper2$d=_interopRequireDefault$o(createForOfIteratorHelperExports),ConnectionHandler$3=ConnectionHandler$4,ConnectionInterface$1=ConnectionInterface_1,invariant$A=browser$1,warning$2=warning_1,DeleteRecordHandler={update:function nt(et,at){var mt=et.get(at.dataID);if(mt!=null){var $t=mt.getValue(at.fieldKey);typeof $t=="string"?et.delete($t):Array.isArray($t)&&$t.forEach(function(Ct){typeof Ct=="string"&&et.delete(Ct)})}}},DeleteEdgeHandler={update:function nt(et,at){var mt=et.get(at.dataID);if(mt!=null){var $t=at.handleArgs.connections;$t==null&&invariant$A(!1);var Ct=mt.getValue(at.fieldKey),Dt=Array.isArray(Ct)?Ct:[Ct];Dt.forEach(function(Ft){if(typeof Ft=="string"){var Nt=(0,_createForOfIteratorHelper2$d.default)($t),jt;try{for(Nt.s();!(jt=Nt.n()).done;){var Lt=jt.value,Vt=et.get(Lt);Vt!=null&&ConnectionHandler$3.deleteNode(Vt,Ft)}}catch(er){Nt.e(er)}finally{Nt.f()}}})}}},AppendEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeBefore)},AppendNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeBefore)};function edgeUpdater(nt){return function(et,at){var mt,$t=et.get(at.dataID);if($t!=null){var Ct=at.handleArgs.connections;Ct==null&&invariant$A(!1);var Dt,Ft;try{Dt=$t.getLinkedRecord(at.fieldKey)}catch{}if(!Dt)try{Ft=$t.getLinkedRecords(at.fieldKey)}catch{}if(!(Dt==null&&Ft==null)){var Nt=ConnectionInterface$1.get(),jt=Nt.NODE,Lt=Nt.EDGES,Vt=(mt=Ft)!==null&&mt!==void 0?mt:[Dt],er=(0,_createForOfIteratorHelper2$d.default)(Vt),ir;try{var or=function(){var hr=ir.value;if(hr==null)return"continue";var vr=hr.getLinkedRecord("node");if(!vr)return"continue";var br=vr.getDataID(),xr=(0,_createForOfIteratorHelper2$d.default)(Ct),Sr;try{for(xr.s();!(Sr=xr.n()).done;){var Er=Sr.value,$r=et.get(Er);if($r!=null){var Cr=(lr=$r.getLinkedRecords(Lt))===null||lr===void 0?void 0:lr.some(function(gr){var Ut;return(gr==null||(Ut=gr.getLinkedRecord(jt))===null||Ut===void 0?void 0:Ut.getDataID())===br});if(!Cr){var kr=ConnectionHandler$3.buildConnectionEdge(et,$r,hr);kr==null&&invariant$A(!1),nt($r,kr)}}}}catch(gr){xr.e(gr)}finally{xr.f()}};for(er.s();!(ir=er.n()).done;)var lr,dr=or()}catch(pr){er.e(pr)}finally{er.f()}}}}}function nodeUpdater(nt){return function(et,at){var mt,$t=et.get(at.dataID);if($t!=null){var Ct=at.handleArgs,Dt=Ct.connections,Ft=Ct.edgeTypeName;Dt==null&&invariant$A(!1),Ft==null&&invariant$A(!1);var Nt,jt;try{Nt=$t.getLinkedRecord(at.fieldKey)}catch{}if(!Nt)try{jt=$t.getLinkedRecords(at.fieldKey)}catch{}if(!(Nt==null&&jt==null)){var Lt=ConnectionInterface$1.get(),Vt=Lt.NODE,er=Lt.EDGES,ir=(mt=jt)!==null&&mt!==void 0?mt:[Nt],or=(0,_createForOfIteratorHelper2$d.default)(ir),lr;try{var dr=function(){var br=lr.value;if(br==null)return"continue";var xr=br.getDataID(),Sr=(0,_createForOfIteratorHelper2$d.default)(Dt),Er;try{for(Sr.s();!(Er=Sr.n()).done;){var $r=Er.value,Cr=et.get($r);if(Cr!=null){var kr=(pr=Cr.getLinkedRecords(er))===null||pr===void 0?void 0:pr.some(function(Ut){var tr;return(Ut==null||(tr=Ut.getLinkedRecord(Vt))===null||tr===void 0?void 0:tr.getDataID())===xr});if(!kr){var gr=ConnectionHandler$3.createEdge(et,Cr,br,Ft);gr==null&&invariant$A(!1),nt(Cr,gr)}}}}catch(Ut){Sr.e(Ut)}finally{Sr.f()}};for(or.s();!(lr=or.n()).done;)var pr,hr=dr()}catch(vr){or.e(vr)}finally{or.f()}}}}}var MutationHandlers$2={AppendEdgeHandler,DeleteRecordHandler,PrependEdgeHandler,AppendNodeHandler,PrependNodeHandler,DeleteEdgeHandler},ConnectionHandler$2=ConnectionHandler$4,MutationHandlers$1=MutationHandlers$2,invariant$z=browser$1;function RelayDefaultHandlerProvider$2(nt){switch(nt){case"connection":return ConnectionHandler$2;case"deleteRecord":return MutationHandlers$1.DeleteRecordHandler;case"deleteEdge":return MutationHandlers$1.DeleteEdgeHandler;case"appendEdge":return MutationHandlers$1.AppendEdgeHandler;case"prependEdge":return MutationHandlers$1.PrependEdgeHandler;case"appendNode":return MutationHandlers$1.AppendNodeHandler;case"prependNode":return MutationHandlers$1.PrependNodeHandler}invariant$z(!1)}var RelayDefaultHandlerProvider_1=RelayDefaultHandlerProvider$2;function isRelayModernEnvironment$3(nt){return!!(nt&&nt["@@RelayModernEnvironment"])}var isRelayModernEnvironment_1=isRelayModernEnvironment$3;function deepFreeze$2(nt){return shouldBeFrozen(nt)&&(Object.freeze(nt),Object.getOwnPropertyNames(nt).forEach(function(et){var at=nt[et];at&&typeof at=="object"&&!Object.isFrozen(at)&&deepFreeze$2(at)})),nt}function shouldBeFrozen(nt){return nt!=null&&(Array.isArray(nt)||typeof nt=="object"&&nt.constructor===Object)}var deepFreeze_1=deepFreeze$2,_require$C=stableCopy_1,stableCopy$4=_require$C.stableCopy,invariant$y=browser$1;function getRequestIdentifier$2(nt,et){var at=nt.cacheID!=null?nt.cacheID:nt.id;return at==null&&invariant$y(!1),at+JSON.stringify(stableCopy$4(et))}var getRequestIdentifier_1=getRequestIdentifier$2,getRequestIdentifier$1=getRequestIdentifier_1,RelayFeatureFlags$7=RelayFeatureFlags_1,_require$B=stableCopy_1,hasCycle$1=_require$B.hasCycle,_require2$q=RelayConcreteVariables$2,getOperationVariables=_require2$q.getOperationVariables,_require3$g=RelayModernSelector$1,createNormalizationSelector$3=_require3$g.createNormalizationSelector,createReaderSelector$3=_require3$g.createReaderSelector,_require4$8=RelayStoreUtils_1,ROOT_ID$5=_require4$8.ROOT_ID,invariant$x=browser$1;function createOperationDescriptor$5(nt,et,at){var mt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ROOT_ID$5,$t=nt.operation,Ct=getOperationVariables($t,nt.params.providedVariables,et);RelayFeatureFlags$7.ENABLE_CYLE_DETECTION_IN_VARIABLES&&hasCycle$1(Ct)&&invariant$x(!1);var Dt=createRequestDescriptor$1(nt,Ct,at),Ft={fragment:createReaderSelector$3(nt.fragment,mt,Ct,Dt),request:Dt,root:createNormalizationSelector$3($t,mt,Ct)};return Ft}function createRequestDescriptor$1(nt,et,at){var mt={identifier:getRequestIdentifier$1(nt.params,et),node:nt,variables:et,cacheConfig:at};return mt}var RelayModernOperationDescriptor$1={createOperationDescriptor:createOperationDescriptor$5,createRequestDescriptor:createRequestDescriptor$1},_interopRequireDefault$n=interopRequireDefaultExports.default,_createForOfIteratorHelper2$c=_interopRequireDefault$n(createForOfIteratorHelperExports),ConnectionHandler$1=ConnectionHandler$4,warning$1=warning_1,MutationTypes=Object.freeze({RANGE_ADD:"RANGE_ADD",RANGE_DELETE:"RANGE_DELETE",NODE_DELETE:"NODE_DELETE"}),RangeOperations=Object.freeze({APPEND:"append",PREPEND:"prepend"});function convert(nt,et,at,mt){var $t=at?[at]:[],Ct=mt?[mt]:[];return nt.forEach(function(Dt){switch(Dt.type){case"NODE_DELETE":var Ft=nodeDelete(Dt,et);Ft&&($t.push(Ft),Ct.push(Ft));break;case"RANGE_ADD":var Nt=rangeAdd(Dt,et);Nt&&($t.push(Nt),Ct.push(Nt));break;case"RANGE_DELETE":var jt=rangeDelete(Dt,et);jt&&($t.push(jt),Ct.push(jt));break}}),{optimisticUpdater:function(Ft,Nt){$t.forEach(function(jt){jt(Ft,Nt)})},updater:function(Ft,Nt){Ct.forEach(function(jt){jt(Ft,Nt)})}}}function nodeDelete(nt,et){var at=nt.deletedIDFieldName,mt=getRootField(et);return mt?function($t,Ct){var Dt=$t.getRootField(mt);if(Dt){var Ft=Dt.getValue(at),Nt=Array.isArray(Ft)?Ft:[Ft];Nt.forEach(function(jt){jt&&typeof jt=="string"&&$t.delete(jt)})}}:null}function rangeAdd(nt,et){var at=nt.parentID,mt=nt.connectionInfo,$t=nt.edgeName;if(!at)return null;var Ct=getRootField(et);return!mt||!Ct?null:function(Dt,Ft){var Nt=Dt.get(at);if(Nt){var jt=Dt.getRootField(Ct);if(jt){var Lt=jt.getLinkedRecord($t),Vt=(0,_createForOfIteratorHelper2$c.default)(mt),er;try{for(Vt.s();!(er=Vt.n()).done;){var ir=er.value;if(Lt){var or=ConnectionHandler$1.getConnection(Nt,ir.key,ir.filters);if(or){var lr=ConnectionHandler$1.buildConnectionEdge(Dt,or,Lt);if(lr)switch(ir.rangeBehavior){case"append":ConnectionHandler$1.insertEdgeAfter(or,lr);break;case"prepend":ConnectionHandler$1.insertEdgeBefore(or,lr);break;default:break}}}}}catch(dr){Vt.e(dr)}finally{Vt.f()}}}}}function rangeDelete(nt,et){var at=nt.parentID,mt=nt.connectionKeys,$t=nt.pathToConnection,Ct=nt.deletedIDFieldName;if(!at)return null;var Dt=getRootField(et);return Dt?function(Ft,Nt){if(Nt){var jt=[],Lt=Nt[Dt];if(Lt&&Array.isArray(Ct)){var Vt=(0,_createForOfIteratorHelper2$c.default)(Ct),er;try{for(Vt.s();!(er=Vt.n()).done;){var ir=er.value;Lt&&typeof Lt=="object"&&(Lt=Lt[ir])}}catch(or){Vt.e(or)}finally{Vt.f()}Array.isArray(Lt)?Lt.forEach(function(or){or&&or.id&&typeof or=="object"&&typeof or.id=="string"&&jt.push(or.id)}):Lt&&Lt.id&&typeof Lt.id=="string"&&jt.push(Lt.id)}else Lt&&typeof Ct=="string"&&typeof Lt=="object"&&(Lt=Lt[Ct],typeof Lt=="string"?jt.push(Lt):Array.isArray(Lt)&&Lt.forEach(function(or){typeof or=="string"&&jt.push(or)}));deleteNode(at,mt,$t,Ft,jt)}}:null}function deleteNode(nt,et,at,mt,$t){var Ct=mt.get(nt);if(Ct&&!(at.length<2)){for(var Dt=Ct,Ft=1;Ft<at.length-1;Ft++)Dt&&(Dt=Dt.getLinkedRecord(at[Ft]));if(!(!et||!Dt)){var Nt=(0,_createForOfIteratorHelper2$c.default)(et),jt;try{var Lt=function(){var er=jt.value,ir=ConnectionHandler$1.getConnection(Dt,er.key,er.filters);ir&&$t.forEach(function(or){ConnectionHandler$1.deleteNode(ir,or)})};for(Nt.s();!(jt=Nt.n()).done;)Lt()}catch(Vt){Nt.e(Vt)}finally{Nt.f()}}}}function getRootField(nt){return nt.fragment.selections&&nt.fragment.selections.length>0&&nt.fragment.selections[0].kind==="LinkedField"?nt.fragment.selections[0].name:null}var RelayDeclarativeMutationConfig$4={MutationTypes,RangeOperations,convert},_require$A=GraphQLTag$1,getRequest$4=_require$A.getRequest,isRelayModernEnvironment$2=isRelayModernEnvironment_1,_require2$p=RelayModernOperationDescriptor$1,createOperationDescriptor$4=_require2$p.createOperationDescriptor,RelayDeclarativeMutationConfig$3=RelayDeclarativeMutationConfig$4,invariant$w=browser$1;function applyOptimisticMutation$1(nt,et){isRelayModernEnvironment$2(nt)||invariant$w(!1);var at=getRequest$4(et.mutation);if(at.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");var mt=et.optimisticUpdater,$t=et.configs,Ct=et.optimisticResponse,Dt=et.variables,Ft=createOperationDescriptor$4(at,Dt);if($t){var Nt=RelayDeclarativeMutationConfig$3.convert($t,at,mt);mt=Nt.optimisticUpdater}return nt.applyMutation({operation:Ft,response:Ct,updater:mt})}var applyOptimisticMutation_1=applyOptimisticMutation$1;function commitLocalUpdate$1(nt,et){nt.commitUpdate(et)}var commitLocalUpdate_1=commitLocalUpdate$1,_interopRequireDefault$m=interopRequireDefaultExports.default;_interopRequireDefault$m(objectSpread2Exports);var _interopRequireDefault$l=interopRequireDefaultExports.default,_toConsumableArray2$4=_interopRequireDefault$l(toConsumableArrayExports),_require$z=GraphQLTag$1,getRequest$3=_require$z.getRequest,_require2$o=ClientID,generateUniqueClientID$2=_require2$o.generateUniqueClientID,isRelayModernEnvironment$1=isRelayModernEnvironment_1,_require3$f=RelayModernOperationDescriptor$1,createOperationDescriptor$3=_require3$f.createOperationDescriptor,RelayDeclarativeMutationConfig$2=RelayDeclarativeMutationConfig$4,invariant$v=browser$1;function commitMutation$1(nt,et){isRelayModernEnvironment$1(nt)||invariant$v(!1);var at=getRequest$3(et.mutation);if(at.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");if(at.kind!=="Request")throw new Error("commitMutation: Expected mutation to be of type request");var mt=et.optimisticResponse,$t=et.optimisticUpdater,Ct=et.updater,Dt=et.configs,Ft=et.cacheConfig,Nt=et.onError,jt=et.onUnsubscribe,Lt=et.variables,Vt=et.uploadables,er=createOperationDescriptor$3(at,Lt,Ft,generateUniqueClientID$2());if(typeof mt=="function"&&(mt=mt()),Dt){var ir=RelayDeclarativeMutationConfig$2.convert(Dt,at,$t,Ct);$t=ir.optimisticUpdater,Ct=ir.updater}var or=[],lr=nt.executeMutation({operation:er,optimisticResponse:mt,optimisticUpdater:$t,updater:Ct,uploadables:Vt}).subscribe({next:function(pr){var hr;Array.isArray(pr)?pr.forEach(function(vr){vr.errors&&or.push.apply(or,(0,_toConsumableArray2$4.default)(vr.errors))}):pr.errors&&or.push.apply(or,(0,_toConsumableArray2$4.default)(pr.errors)),(hr=et.onNext)===null||hr===void 0||hr.call(et)},complete:function(){var pr=et.onCompleted;if(pr){var hr=nt.lookup(er.fragment);pr(hr.data,or.length!==0?or:null)}},error:Nt,unsubscribe:jt});return{dispose:lr.unsubscribe}}var commitMutation_1=commitMutation$1,WEAKMAP_SUPPORTED=typeof WeakMap=="function",debugCache=WEAKMAP_SUPPORTED?new WeakMap:new Map;function withProvidedVariables$2(nt,et){if(et!=null){var at={};return Object.assign(at,nt),Object.keys(et).forEach(function(mt){var $t=et[mt].get,Ct=$t();if(!debugCache.has($t))debugCache.set($t,Ct),at[mt]=Ct;else{var Dt=debugCache.get($t);at[mt]=Dt}}),at}else return nt}withProvidedVariables$2.tests_only_resetDebugCache=void 0;var withProvidedVariables_1=withProvidedVariables$2,RelayObservable$4=RelayObservable_1;function convertFetch$1(nt){return function(at,mt,$t,Ct,Dt){var Ft=nt(at,mt,$t,Ct,Dt);return Ft instanceof Error?RelayObservable$4.create(function(Nt){return Nt.error(Ft)}):RelayObservable$4.from(Ft)}}var ConvertToExecuteFunction={convertFetch:convertFetch$1},withProvidedVariables$1=withProvidedVariables_1,_require$y=ConvertToExecuteFunction,convertFetch=_require$y.convertFetch,invariant$u=browser$1;function create$2(nt,et){var at=convertFetch(nt);function mt($t,Ct,Dt,Ft,Nt){var jt=withProvidedVariables$1(Ct,$t.providedVariables);if($t.operationKind==="subscription")return et||invariant$u(!1),Ft&&invariant$u(!1),et($t,jt,Dt);var Lt=Dt.poll;return Lt!=null?(Ft&&invariant$u(!1),at($t,jt,{force:!0}).poll(Lt)):at($t,jt,Dt,Ft,Nt)}return{execute:mt}}var RelayNetwork$1={create:create$2},_interopRequireDefault$k=interopRequireDefaultExports.default,_objectSpread2$9=_interopRequireDefault$k(objectSpread2Exports),_require$x=stableCopy_1,stableCopy$3=_require$x.stableCopy,invariant$t=browser$1,RelayQueryResponseCache$1=function(){function nt(at){var mt=at.size,$t=at.ttl;mt>0||invariant$t(!1),$t>0||invariant$t(!1),this._responses=new Map,this._size=mt,this._ttl=$t}var et=nt.prototype;return et.clear=function(){this._responses.clear()},et.get=function(mt,$t){var Ct=this,Dt=getCacheKey(mt,$t);this._responses.forEach(function(Nt,jt){isCurrent(Nt.fetchTime,Ct._ttl)||Ct._responses.delete(jt)});var Ft=this._responses.get(Dt);return Ft==null?null:Array.isArray(Ft.payload)?Ft.payload.map(function(Nt){return(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Nt),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Nt.extensions),{},{cacheTimestamp:Ft.fetchTime})})}):(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Ft.payload),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Ft.payload.extensions),{},{cacheTimestamp:Ft.fetchTime})})},et.set=function(mt,$t,Ct){var Dt=Date.now(),Ft=getCacheKey(mt,$t);if(this._responses.delete(Ft),this._responses.set(Ft,{fetchTime:Dt,payload:Ct}),this._responses.size>this._size){var Nt=this._responses.keys().next();Nt.done||this._responses.delete(Nt.value)}},nt}();function getCacheKey(nt,et){return JSON.stringify(stableCopy$3({queryID:nt,variables:et}))}function isCurrent(nt,et){return nt+et>=Date.now()}var RelayQueryResponseCache_1=RelayQueryResponseCache$1,_interopRequireDefault$j=interopRequireDefaultExports.default,_objectSpread2$8=_interopRequireDefault$j(objectSpread2Exports),RelayObservable$3=RelayObservable_1,_require$w=RelayModernOperationDescriptor$1,createOperationDescriptor$2=_require$w.createOperationDescriptor,_require2$n=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$2=_require2$n.handlePotentialSnapshotErrors,fetchQueryInternal$1=fetchQueryInternal$2,_require3$e=GraphQLTag$1,getRequest$2=_require3$e.getRequest,invariant$s=browser$1;function fetchQuery$1(nt,et,at,mt){var $t,Ct=getRequest$2(et);Ct.params.operationKind!=="query"&&invariant$s(!1);var Dt=(0,_objectSpread2$8.default)({force:!0},mt==null?void 0:mt.networkCacheConfig),Ft=createOperationDescriptor$2(Ct,at,Dt),Nt=($t=mt==null?void 0:mt.fetchPolicy)!==null&&$t!==void 0?$t:"network-only";function jt(Lt){return handlePotentialSnapshotErrors$2(nt,Lt.errorResponseFields),Lt.data}switch(Nt){case"network-only":return getNetworkObservable(nt,Ft).map(jt);case"store-or-network":return nt.check(Ft).status==="available"?RelayObservable$3.from(nt.lookup(Ft.fragment)).map(jt):getNetworkObservable(nt,Ft).map(jt);default:throw new Error("fetchQuery: Invalid fetchPolicy "+Nt)}}function getNetworkObservable(nt,et){return fetchQueryInternal$1.fetchQuery(nt,et).map(function(){return nt.lookup(et.fragment)})}var fetchQuery_1=fetchQuery$1,_require$v=RelayModernOperationDescriptor$1,createOperationDescriptor$1=_require$v.createOperationDescriptor,_require2$m=GraphQLTag$1,getRequest$1=_require2$m.getRequest;function fetchQuery_DEPRECATED$1(nt,et,at,mt){var $t=getRequest$1(et);if($t.params.operationKind!=="query")throw new Error("fetchQuery: Expected query operation");var Ct=createOperationDescriptor$1($t,at,mt);return nt.execute({operation:Ct}).map(function(){return nt.lookup(Ct.fragment).data}).toPromise()}var fetchQuery_DEPRECATED_1=fetchQuery_DEPRECATED$1,PreloadableQueryRegistry$1=function(){function nt(){this._preloadableQueries=new Map,this._callbacks=new Map}var et=nt.prototype;return et.set=function(mt,$t){this._preloadableQueries.set(mt,$t);var Ct=this._callbacks.get(mt);Ct!=null&&Ct.forEach(function(Dt){try{Dt($t)}catch(Ft){setTimeout(function(){throw Ft},0)}})},et.get=function(mt){return this._preloadableQueries.get(mt)},et.onLoad=function(mt,$t){var Ct,Dt=(Ct=this._callbacks.get(mt))!==null&&Ct!==void 0?Ct:new Set;Dt.add($t);var Ft=function(){Dt.delete($t)};return this._callbacks.set(mt,Dt),{dispose:Ft}},et.clear=function(){this._preloadableQueries.clear()},nt}(),preloadableQueryRegistry=new PreloadableQueryRegistry$1,PreloadableQueryRegistry_1=preloadableQueryRegistry;function isScalarAndEqual$2(nt,et){return nt===et&&(nt===null||typeof nt!="object")}var isScalarAndEqual_1=isScalarAndEqual$2;function recycleNodesInto$4(nt,et){return recycleNodesIntoImpl(nt,et,!0)}function recycleNodesIntoImpl(nt,et,at){if(nt===et||typeof nt!="object"||!nt||nt.constructor!==Object&&!Array.isArray(nt)||typeof et!="object"||!et||et.constructor!==Object&&!Array.isArray(et))return et;var mt=!1,$t=Array.isArray(nt)?nt:null,Ct=Array.isArray(et)?et:null;if($t&&Ct){var Dt=at&&!Object.isFrozen(Ct);mt=Ct.reduce(function(er,ir,or){var lr=$t[or],dr=recycleNodesIntoImpl(lr,ir,Dt);return dr!==Ct[or]&&Dt&&(Ct[or]=dr),er&&dr===$t[or]},!0)&&$t.length===Ct.length}else if(!$t&&!Ct){var Ft=nt,Nt=et,jt=Object.keys(Ft),Lt=Object.keys(Nt),Vt=at&&!Object.isFrozen(Nt);mt=Lt.reduce(function(er,ir){var or=Ft[ir],lr=recycleNodesIntoImpl(or,Nt[ir],Vt);return lr!==Nt[ir]&&Vt&&(Nt[ir]=lr),er&&lr===Ft[ir]},!0)&&jt.length===Lt.length}return mt?nt:et}var recycleNodesInto_1=recycleNodesInto$4,_interopRequireDefault$i=interopRequireDefaultExports.default,_objectSpread2$7=_interopRequireDefault$i(objectSpread2Exports),_defineProperty2$4=_interopRequireDefault$i(requireDefineProperty()),getPendingOperationsForFragment$1=getPendingOperationsForFragment_1,_require$u=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$1=_require$u.handlePotentialSnapshotErrors,isScalarAndEqual$1=isScalarAndEqual_1,recycleNodesInto$3=recycleNodesInto_1,RelayFeatureFlags$6=RelayFeatureFlags_1,_require2$l=RelayModernOperationDescriptor$1,createRequestDescriptor=_require2$l.createRequestDescriptor,_require3$d=RelayModernSelector$1,areEqualSelectors=_require3$d.areEqualSelectors,createReaderSelector$2=_require3$d.createReaderSelector,getSelectorsFromObject=_require3$d.getSelectorsFromObject,areEqual$3=areEqual_1,invariant$r=browser$1,RelayModernFragmentSpecResolver$1=function(){function nt(at,mt,$t,Ct,Dt){var Ft=this;(0,_defineProperty2$4.default)(this,"_onChange",function(){Ft._stale=!0,typeof Ft._callback=="function"&&Ft._callback()}),this._callback=Ct,this._context=at,this._data={},this._fragments=mt,this._props={},this._resolvers={},this._stale=!1,this._rootIsQueryRenderer=Dt,this.setProps($t)}var et=nt.prototype;return et.dispose=function(){for(var mt in this._resolvers)this._resolvers.hasOwnProperty(mt)&&disposeCallback(this._resolvers[mt])},et.resolve=function(){if(this._stale){var mt=this._data,$t;for(var Ct in this._resolvers)if(this._resolvers.hasOwnProperty(Ct)){var Dt=this._resolvers[Ct],Ft=mt[Ct];if(Dt){var Nt=Dt.resolve();($t||Nt!==Ft)&&($t=$t||(0,_objectSpread2$7.default)({},mt),$t[Ct]=Nt)}else{var jt=this._props[Ct],Lt=jt!==void 0?jt:null;($t||!isScalarAndEqual$1(Lt,Ft))&&($t=$t||(0,_objectSpread2$7.default)({},mt),$t[Ct]=Lt)}}this._data=$t||mt,this._stale=!1}return this._data},et.setCallback=function(mt,$t){this._callback=$t,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.setProps(mt)},et.setProps=function(mt){this._props={};var $t=getSelectorsFromObject(this._fragments,mt);for(var Ct in $t)if($t.hasOwnProperty(Ct)){var Dt=$t[Ct],Ft=this._resolvers[Ct];Dt==null?(Ft!=null&&Ft.dispose(),Ft=null):Dt.kind==="PluralReaderSelector"?Ft==null?Ft=new SelectorListResolver(this._context.environment,this._rootIsQueryRenderer,Dt,this._callback!=null,this._onChange):(Ft instanceof SelectorListResolver||invariant$r(!1),Ft.setSelector(Dt)):Ft==null?Ft=new SelectorResolver(this._context.environment,this._rootIsQueryRenderer,Dt,this._callback!=null,this._onChange):(Ft instanceof SelectorResolver||invariant$r(!1),Ft.setSelector(Dt)),this._props[Ct]=mt[Ct],this._resolvers[Ct]=Ft}this._stale=!0},et.setVariables=function(mt,$t){for(var Ct in this._resolvers)if(this._resolvers.hasOwnProperty(Ct)){var Dt=this._resolvers[Ct];Dt&&Dt.setVariables(mt,$t)}this._stale=!0},nt}(),SelectorResolver=function(){function nt(at,mt,$t,Ct,Dt){var Ft=this;(0,_defineProperty2$4.default)(this,"_onChange",function(jt){Ft._data=jt.data,Ft._isMissingData=jt.isMissingData,Ft._errorResponseFields=jt.errorResponseFields,Ft._callback()});var Nt=at.lookup($t);this._callback=Dt,this._data=Nt.data,this._isMissingData=Nt.isMissingData,this._errorResponseFields=Nt.errorResponseFields,this._environment=at,this._rootIsQueryRenderer=mt,this._selector=$t,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?Ct&&(this._subscription=at.subscribe(Nt,this._onChange)):this._subscription=at.subscribe(Nt,this._onChange)}var et=nt.prototype;return et.dispose=function(){this._subscription&&(this._subscription.dispose(),this._subscription=null)},et.resolve=function(){if(this._isMissingData===!0){var mt=getPendingOperationsForFragment$1(this._environment,this._selector.node,this._selector.owner),$t=mt==null?void 0:mt.promise;if($t!=null&&!this._rootIsQueryRenderer){var Ct,Dt=(Ct=mt==null?void 0:mt.pendingOperations)!==null&&Ct!==void 0?Ct:[];throw this._environment.__log({name:"suspense.fragment",data:this._data,fragment:this._selector.node,isRelayHooks:!1,isMissingData:this._isMissingData,isPromiseCached:!1,pendingOperations:Dt}),$t}}return handlePotentialSnapshotErrors$1(this._environment,this._errorResponseFields),this._data},et.setSelector=function(mt){if(!(this._subscription!=null&&areEqualSelectors(mt,this._selector))){this.dispose();var $t=this._environment.lookup(mt);this._data=recycleNodesInto$3(this._data,$t.data),this._isMissingData=$t.isMissingData,this._errorResponseFields=$t.errorResponseFields,this._selector=mt,this._subscription=this._environment.subscribe($t,this._onChange)}},et.setVariables=function(mt,$t){if(!areEqual$3(mt,this._selector.variables)){var Ct=createRequestDescriptor($t,mt),Dt=createReaderSelector$2(this._selector.node,this._selector.dataID,mt,Ct);this.setSelector(Dt)}},nt}(),SelectorListResolver=function(){function nt(at,mt,$t,Ct,Dt){var Ft=this;(0,_defineProperty2$4.default)(this,"_onChange",function(Nt){Ft._stale=!0,Ft._callback()}),this._callback=Dt,this._data=[],this._environment=at,this._resolvers=[],this._stale=!0,this._rootIsQueryRenderer=mt,this._subscribeOnConstruction=Ct,this.setSelector($t)}var et=nt.prototype;return et.dispose=function(){this._resolvers.forEach(disposeCallback)},et.resolve=function(){if(this._stale){for(var mt=this._data,$t,Ct=0;Ct<this._resolvers.length;Ct++){var Dt=mt[Ct],Ft=this._resolvers[Ct].resolve();($t||Ft!==Dt)&&($t=$t||mt.slice(0,Ct),$t.push(Ft))}!$t&&this._resolvers.length!==mt.length&&($t=mt.slice(0,this._resolvers.length)),this._data=$t||mt,this._stale=!1}return this._data},et.setSelector=function(mt){for(var $t=mt.selectors;this._resolvers.length>$t.length;){var Ct=this._resolvers.pop();Ct.dispose()}for(var Dt=0;Dt<$t.length;Dt++)Dt<this._resolvers.length?this._resolvers[Dt].setSelector($t[Dt]):this._resolvers[Dt]=new SelectorResolver(this._environment,this._rootIsQueryRenderer,$t[Dt],this._subscribeOnConstruction,this._onChange);this._stale=!0},et.setVariables=function(mt,$t){this._resolvers.forEach(function(Ct){return Ct.setVariables(mt,$t)}),this._stale=!0},nt}();function disposeCallback(nt){nt&&nt.dispose()}var RelayModernFragmentSpecResolver_1=RelayModernFragmentSpecResolver$1,RelayModernFragmentSpecResolver=RelayModernFragmentSpecResolver_1;function createFragmentSpecResolver$1(nt,et,at,mt,$t,Ct){return new RelayModernFragmentSpecResolver(nt,at,mt,Ct,$t)}var createFragmentSpecResolver_1=createFragmentSpecResolver$1,invariant$q=browser$1,relayContext,firstReact;function createRelayContext$1(nt){return relayContext||(relayContext=nt.createContext(null),firstReact=nt),nt!==firstReact&&invariant$q(!1),relayContext}var createRelayContext_1=createRelayContext$1,LIVE_RESOLVER_SUSPENSE_SENTINEL=Object.freeze({__LIVE_RESOLVER_SUSPENSE_SENTINEL:!0});function suspenseSentinel$1(){return LIVE_RESOLVER_SUSPENSE_SENTINEL}function isSuspenseSentinel$4(nt){return nt===LIVE_RESOLVER_SUSPENSE_SENTINEL}var LiveResolverSuspenseSentinel={isSuspenseSentinel:isSuspenseSentinel$4,suspenseSentinel:suspenseSentinel$1},objectWithoutPropertiesLoose={exports:{}};(function(nt){function et(at,mt){if(at==null)return{};var $t={};for(var Ct in at)if({}.hasOwnProperty.call(at,Ct)){if(mt.includes(Ct))continue;$t[Ct]=at[Ct]}return $t}nt.exports=et,nt.exports.__esModule=!0,nt.exports.default=nt.exports})(objectWithoutPropertiesLoose);var objectWithoutPropertiesLooseExports=objectWithoutPropertiesLoose.exports,_interopRequireDefault$h=interopRequireDefaultExports.default,_defineProperty2$3=_interopRequireDefault$h(requireDefineProperty()),_objectWithoutPropertiesLoose2$2=_interopRequireDefault$h(objectWithoutPropertiesLooseExports),_toPropertyKey2=_interopRequireDefault$h(requireToPropertyKey()),_objectSpread2$6=_interopRequireDefault$h(objectSpread2Exports),deepFreeze$1=deepFreeze_1,_require$t=ClientID,generateClientObjectClientID$1=_require$t.generateClientObjectClientID;_require$t.isClientID;var _require2$k=LiveResolverSuspenseSentinel,isSuspenseSentinel$3=_require2$k.isSuspenseSentinel,_require3$c=RelayStoreUtils_1,ACTOR_IDENTIFIER_KEY=_require3$c.ACTOR_IDENTIFIER_KEY,ERRORS_KEY=_require3$c.ERRORS_KEY,ID_KEY$2=_require3$c.ID_KEY,INVALIDATED_AT_KEY=_require3$c.INVALIDATED_AT_KEY,REF_KEY=_require3$c.REF_KEY,REFS_KEY=_require3$c.REFS_KEY,RELAY_RESOLVER_VALUE_KEY$1=_require3$c.RELAY_RESOLVER_VALUE_KEY;_require3$c.ROOT_ID;var TYPENAME_KEY$2=_require3$c.TYPENAME_KEY,areEqual$2=areEqual_1,invariant$p=browser$1;function clone(nt){return(0,_objectSpread2$6.default)({},nt)}function copyFields(nt,et){for(var at in nt)nt.hasOwnProperty(at)&&at!==ID_KEY$2&&at!==TYPENAME_KEY$2&&(et[at]=nt[at])}function create$1(nt,et){var at={};return at[ID_KEY$2]=nt,at[TYPENAME_KEY$2]=et,at}function fromObject(nt){return nt}function getDataID(nt){return nt[ID_KEY$2]}function getFields(nt){return ERRORS_KEY in nt?Object.keys(nt).filter(function(et){return et!==ERRORS_KEY}):Object.keys(nt)}function getType(nt){return nt[TYPENAME_KEY$2]}function getErrors(nt,et){var at;return(at=nt[ERRORS_KEY])===null||at===void 0?void 0:at[et]}function getValue(nt,et){var at=nt[et];return at&&typeof at=="object"&&(!at.hasOwnProperty(REF_KEY)&&!at.hasOwnProperty(REFS_KEY)||invariant$p(!1)),at}function hasValue(nt,et){return et in nt}function getLinkedRecordID(nt,et){var at=nt[et];if(at==null)return at;var mt=at;return typeof mt=="object"&&mt&&typeof mt[REF_KEY]=="string"||invariant$p(!1),mt[REF_KEY]}function hasLinkedRecordID(nt,et){var at=nt[et];if(at==null)return!1;var mt=at;return typeof mt=="object"&&mt&&typeof mt[REF_KEY]=="string"}function getLinkedRecordIDs(nt,et){var at=nt[et];return at==null?at:(typeof at=="object"&&Array.isArray(at[REFS_KEY])||invariant$p(!1),at[REFS_KEY])}function hasLinkedRecordIDs(nt,et){var at=nt[et];return at==null?!1:typeof at=="object"&&Array.isArray(at[REFS_KEY])&&at[REFS_KEY].every(function(mt){return typeof mt=="string"})}function getInvalidationEpoch(nt){if(nt==null)return null;var et=nt[INVALIDATED_AT_KEY];return typeof et!="number"?null:et}function update(nt,et){var at,mt=nt[ERRORS_KEY],$t=et[ERRORS_KEY],Ct=null;if(mt==null&&$t==null){var Dt;for(var Ft in et)(Ct||!areEqual$2(nt[Ft],et[Ft]))&&(Ct=Ct!==null?Ct:(0,_objectSpread2$6.default)({},nt),Ct[Ft]=et[Ft]);return(Dt=Ct)!==null&&Dt!==void 0?Dt:nt}for(var Nt in et)if(Nt!==ERRORS_KEY){var jt=et[Nt],Lt=$t==null?void 0:$t[Nt];if(Ct==null){var Vt=nt[Nt],er=mt==null?void 0:mt[Nt];if(areEqual$2(Vt,jt)&&areEqual$2(er,Lt))continue;Ct=(0,_objectSpread2$6.default)({},nt),mt!=null&&(Ct[ERRORS_KEY]=(0,_objectSpread2$6.default)({},mt))}setValue(Ct,Nt,jt),setErrors(Ct,Nt,Lt)}return(at=Ct)!==null&&at!==void 0?at:nt}function merge(nt,et){if(ERRORS_KEY in nt||ERRORS_KEY in et){var at=nt[ERRORS_KEY],mt=(0,_objectWithoutPropertiesLoose2$2.default)(nt,[ERRORS_KEY].map(_toPropertyKey2.default)),$t=et[ERRORS_KEY],Ct=(0,_objectWithoutPropertiesLoose2$2.default)(et,[ERRORS_KEY].map(_toPropertyKey2.default)),Dt=(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},mt),Ct);if(at==null&&$t==null)return Dt;var Ft={};for(var Nt in at)Ct.hasOwnProperty(Nt)||(Ft[Nt]=at[Nt]);for(var jt in $t)Ft[jt]=$t[jt];for(var Lt in Ft){Dt[ERRORS_KEY]=Ft;break}return Dt}else return(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},nt),et)}function freeze(nt){deepFreeze$1(nt)}function setErrors(nt,et,at){var mt=nt[ERRORS_KEY];if(at!=null&&at.length>0)mt==null?nt[ERRORS_KEY]=(0,_defineProperty2$3.default)({},et,at):mt[et]=at;else if(mt!=null&&delete mt[et]){for(var $t in mt)if(mt.hasOwnProperty($t))return;delete nt[ERRORS_KEY]}}function setValue(nt,et,at){nt[et]=at}function setLinkedRecordID(nt,et,at){var mt={};mt[REF_KEY]=at,nt[et]=mt}function setLinkedRecordIDs(nt,et,at){var mt={};mt[REFS_KEY]=at,nt[et]=mt}function setActorLinkedRecordID(nt,et,at,mt){var $t={};$t[REF_KEY]=mt,$t[ACTOR_IDENTIFIER_KEY]=at,nt[et]=$t}function getActorLinkedRecordID(nt,et){var at=nt[et];return at==null?at:(typeof at=="object"&&typeof at[REF_KEY]=="string"&&at[ACTOR_IDENTIFIER_KEY]!=null||invariant$p(!1),[at[ACTOR_IDENTIFIER_KEY],at[REF_KEY]])}function getResolverLinkedRecordID(nt,et){var at=getValue(nt,RELAY_RESOLVER_VALUE_KEY$1);return at==null||isSuspenseSentinel$3(at)?null:(typeof at=="object"&&(at=at.id),typeof at!="string"&&invariant$p(!1),generateClientObjectClientID$1(et,at))}function getResolverLinkedRecordIDs(nt,et){var at=getValue(nt,RELAY_RESOLVER_VALUE_KEY$1);return at==null||isSuspenseSentinel$3(at)?null:(Array.isArray(at)||invariant$p(!1),at.map(function(mt){return mt==null?null:(typeof mt=="object"&&(mt=mt.id),typeof mt!="string"&&invariant$p(!1),generateClientObjectClientID$1(et,mt))}))}function toJSON(nt){return nt}var RelayModernRecord$d={clone,copyFields,create:create$1,freeze,fromObject,getDataID,getErrors,getFields,getInvalidationEpoch,getLinkedRecordID,getLinkedRecordIDs,getType,getValue,hasValue,hasLinkedRecordID,hasLinkedRecordIDs,merge,setErrors,setValue,setLinkedRecordID,setLinkedRecordIDs,update,getActorLinkedRecordID,setActorLinkedRecordID,getResolverLinkedRecordID,getResolverLinkedRecordIDs,toJSON},RelayRecordState$1={EXISTENT:"EXISTENT",NONEXISTENT:"NONEXISTENT",UNKNOWN:"UNKNOWN"},RelayRecordState_1=RelayRecordState$1,_interopRequireDefault$g=interopRequireDefaultExports.default,_createForOfIteratorHelper2$b=_interopRequireDefault$g(createForOfIteratorHelperExports),RelayModernRecord$c=RelayModernRecord$d,RelayRecordState=RelayRecordState_1,EXISTENT$3=RelayRecordState.EXISTENT,NONEXISTENT$1=RelayRecordState.NONEXISTENT,UNKNOWN$1=RelayRecordState.UNKNOWN,RelayRecordSource$6=function(){function nt(at){var mt=this;this._records=new Map,at!=null&&Object.keys(at).forEach(function($t){var Ct=at[$t],Dt=RelayModernRecord$c.fromObject(Ct);mt._records.set($t,Dt)})}nt.create=function(mt){return new nt(mt)};var et=nt.prototype;return et.clear=function(){this._records=new Map},et.delete=function(mt){this._records.set(mt,null)},et.get=function(mt){return this._records.get(mt)},et.getRecordIDs=function(){return Array.from(this._records.keys())},et.getStatus=function(mt){return this._records.has(mt)?this._records.get(mt)==null?NONEXISTENT$1:EXISTENT$3:UNKNOWN$1},et.has=function(mt){return this._records.has(mt)},et.remove=function(mt){this._records.delete(mt)},et.set=function(mt,$t){this._records.set(mt,$t)},et.size=function(){return this._records.size},et.toJSON=function(){var mt={},$t=(0,_createForOfIteratorHelper2$b.default)(this._records),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value,Ft=Dt[0],Nt=Dt[1];mt[Ft]=RelayModernRecord$c.toJSON(Nt)}}catch(jt){$t.e(jt)}finally{$t.f()}return mt},nt}(),RelayRecordSource_1=RelayRecordSource$6,invariant$o=browser$1,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2="INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE";function assertInternalActorIdentifier$2(nt){nt!==INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2&&invariant$o(!1)}var ActorIdentifier={assertInternalActorIdentifier:assertInternalActorIdentifier$2,getActorIdentifier:function nt(et){return et},getDefaultActorIdentifier:function nt(){throw new Error("Not Implemented")},INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2},ACTOR_IDENTIFIER_FIELD_NAME="actor_key",_require$s=ActorIdentifier,getActorIdentifier=_require$s.getActorIdentifier;function getActorIdentifierFromPayload$1(nt){if(nt!=null&&typeof nt=="object"&&typeof nt[ACTOR_IDENTIFIER_FIELD_NAME]=="string")return getActorIdentifier(nt[ACTOR_IDENTIFIER_FIELD_NAME])}var ActorUtils={ACTOR_IDENTIFIER_FIELD_NAME,getActorIdentifierFromPayload:getActorIdentifierFromPayload$1},_interopRequireDefault$f=interopRequireDefaultExports.default,_objectSpread2$5=_interopRequireDefault$f(objectSpread2Exports),_objectWithoutPropertiesLoose2$1=_interopRequireDefault$f(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$a=_interopRequireDefault$f(createForOfIteratorHelperExports),_toConsumableArray2$3=_interopRequireDefault$f(toConsumableArrayExports),_excluded$1=["path","locations"],SELF=Symbol("$SELF");function buildErrorTrie$1(nt){if(nt==null)return null;var et=new Map,at=(0,_createForOfIteratorHelper2$a.default)(nt),mt;try{for(at.s();!(mt=at.n()).done;){var $t=mt.value,Ct=$t.path,Dt=$t.locations,Ft=(0,_objectWithoutPropertiesLoose2$1.default)($t,_excluded$1);if(Ct!=null){var Nt=Ct.length;if(Nt!==0){for(var jt=Nt-1,Lt=et,Vt=0;Vt<jt;Vt++){var er=Ct[Vt],ir=Lt.get(er);if(ir instanceof Map){Lt=ir;continue}var or=new Map;Array.isArray(ir)&&or.set(SELF,ir),Lt.set(er,or),Lt=or}var lr=Ct[jt],dr=Lt.get(lr);dr instanceof Map&&(Lt=dr,dr=Lt.get(lr),lr=SELF),Array.isArray(dr)?dr.push(Ft):Lt.set(lr,[Ft])}}}}catch(pr){at.e(pr)}finally{at.f()}return et}function getErrorsByKey$1(nt,et){var at=nt.get(et);if(at==null)return null;if(Array.isArray(at))return at;var mt=[];return recursivelyCopyErrorsIntoArray(at,mt),mt}function recursivelyCopyErrorsIntoArray(nt,et){var at=(0,_createForOfIteratorHelper2$a.default)(nt),mt;try{for(at.s();!(mt=at.n()).done;){var $t=mt.value,Ct=$t[0],Dt=$t[1],Ft=et.length;if(Array.isArray(Dt)?et.push.apply(et,(0,_toConsumableArray2$3.default)(Dt)):recursivelyCopyErrorsIntoArray(Dt,et),Ct!==SELF)for(var Nt=et.length,jt=Ft;jt<Nt;jt++){var Lt=et[jt];Lt.path==null?et[jt]=(0,_objectSpread2$5.default)((0,_objectSpread2$5.default)({},Lt),{},{path:[Ct]}):Lt.path.unshift(Ct)}}}catch(Vt){at.e(Vt)}finally{at.f()}}function getNestedErrorTrieByKey$1(nt,et){var at=nt.get(et);return at instanceof Map?at:null}var RelayErrorTrie={SELF,buildErrorTrie:buildErrorTrie$1,getNestedErrorTrieByKey:getNestedErrorTrieByKey$1,getErrorsByKey:getErrorsByKey$1},PREFIX="client:__type:",TYPE_SCHEMA_TYPE$2="__TypeSchema";function generateTypeID$4(nt){return PREFIX+nt}function isTypeID(nt){return nt.indexOf(PREFIX)===0}var TypeID={generateTypeID:generateTypeID$4,isTypeID,TYPE_SCHEMA_TYPE:TYPE_SCHEMA_TYPE$2},_interopRequireDefault$e=interopRequireDefaultExports.default,_createForOfIteratorHelper2$9=_interopRequireDefault$e(createForOfIteratorHelperExports),_toConsumableArray2$2=_interopRequireDefault$e(toConsumableArrayExports),_require$r=ActorUtils;_require$r.ACTOR_IDENTIFIER_FIELD_NAME;var getActorIdentifierFromPayload=_require$r.getActorIdentifierFromPayload,RelayFeatureFlags$5=RelayFeatureFlags_1,_require2$j=ClientID,generateClientID$5=_require2$j.generateClientID;_require2$j.isClientID;var _require3$b=RelayConcreteVariables$2,getLocalVariables$3=_require3$b.getLocalVariables,_require4$7=RelayErrorTrie,buildErrorTrie=_require4$7.buildErrorTrie,getErrorsByKey=_require4$7.getErrorsByKey,getNestedErrorTrieByKey=_require4$7.getNestedErrorTrieByKey,RelayModernRecord$b=RelayModernRecord$d,_require5$4=RelayModernSelector$1,createNormalizationSelector$2=_require5$4.createNormalizationSelector,_require6$1=RelayStoreUtils_1;_require6$1.ROOT_ID;var TYPENAME_KEY$1=_require6$1.TYPENAME_KEY,getArgumentValues$3=_require6$1.getArgumentValues,getHandleStorageKey$2=_require6$1.getHandleStorageKey,getModuleComponentKey$2=_require6$1.getModuleComponentKey,getModuleOperationKey$3=_require6$1.getModuleOperationKey,getStorageKey$6=_require6$1.getStorageKey,_require7=TypeID,TYPE_SCHEMA_TYPE$1=_require7.TYPE_SCHEMA_TYPE,generateTypeID$3=_require7.generateTypeID,invariant$n=browser$1;function normalize$2(nt,et,at,mt,$t){var Ct=et.dataID,Dt=et.node,Ft=et.variables,Nt=new RelayResponseNormalizer(nt,Ft,mt);return Nt.normalizeResponse(Dt,Ct,at,$t)}var RelayResponseNormalizer=function(){function nt(at,mt,$t){this._actorIdentifier=$t.actorIdentifier,this._getDataId=$t.getDataID,this._handleFieldPayloads=[],this._treatMissingFieldsAsNull=$t.treatMissingFieldsAsNull,this._incrementalPlaceholders=[],this._isClientExtension=!1,this._isUnmatchedAbstractType=!1,this._followupPayloads=[],this._path=$t.path?(0,_toConsumableArray2$2.default)($t.path):[],this._recordSource=at,this._variables=mt,this._shouldProcessClientComponents=$t.shouldProcessClientComponents}var et=nt.prototype;return et.normalizeResponse=function(mt,$t,Ct,Dt){var Ft=this._recordSource.get($t);return Ft||invariant$n(!1),this._assignClientAbstractTypes(mt),this._errorTrie=buildErrorTrie(Dt),this._traverseSelections(mt,Ft,Ct),{errors:Dt,fieldPayloads:this._handleFieldPayloads,incrementalPlaceholders:this._incrementalPlaceholders,followupPayloads:this._followupPayloads,source:this._recordSource,isFinal:!1}},et._assignClientAbstractTypes=function(mt){var $t=mt.clientAbstractTypes;if($t!=null)for(var Ct=0,Dt=Object.keys($t);Ct<Dt.length;Ct++){var Ft=Dt[Ct],Nt=(0,_createForOfIteratorHelper2$9.default)($t[Ft]),jt;try{for(Nt.s();!(jt=Nt.n()).done;){var Lt=jt.value,Vt=generateTypeID$3(Lt),er=this._recordSource.get(Vt);er==null&&(er=RelayModernRecord$b.create(Vt,TYPE_SCHEMA_TYPE$1),this._recordSource.set(Vt,er)),RelayModernRecord$b.setValue(er,Ft,!0)}}catch(ir){Nt.e(ir)}finally{Nt.f()}}},et._getVariableValue=function(mt){return this._variables.hasOwnProperty(mt)||invariant$n(!1),this._variables[mt]},et._getRecordType=function(mt){var $t=mt[TYPENAME_KEY$1];return $t==null&&invariant$n(!1),$t},et._traverseSelections=function(mt,$t,Ct){for(var Dt=0;Dt<mt.selections.length;Dt++){var Ft=mt.selections[Dt];switch(Ft.kind){case"ScalarField":case"LinkedField":this._normalizeField(Ft,$t,Ct);break;case"Condition":var Nt=!!this._getVariableValue(Ft.condition);Nt===Ft.passingValue&&this._traverseSelections(Ft,$t,Ct);break;case"FragmentSpread":{var jt=this._variables;this._variables=getLocalVariables$3(this._variables,Ft.fragment.argumentDefinitions,Ft.args),this._traverseSelections(Ft.fragment,$t,Ct),this._variables=jt;break}case"InlineFragment":{var Lt=Ft.abstractKey;if(Lt==null){var Vt=RelayModernRecord$b.getType($t);Vt===Ft.type&&this._traverseSelections(Ft,$t,Ct)}else{var er=Ct.hasOwnProperty(Lt),ir=RelayModernRecord$b.getType($t),or=generateTypeID$3(ir),lr=this._recordSource.get(or);lr==null&&(lr=RelayModernRecord$b.create(or,TYPE_SCHEMA_TYPE$1),this._recordSource.set(or,lr)),RelayModernRecord$b.setValue(lr,Lt,er),er&&this._traverseSelections(Ft,$t,Ct)}break}case"TypeDiscriminator":{var dr=Ft.abstractKey,pr=Ct.hasOwnProperty(dr),hr=RelayModernRecord$b.getType($t),vr=generateTypeID$3(hr),br=this._recordSource.get(vr);br==null&&(br=RelayModernRecord$b.create(vr,TYPE_SCHEMA_TYPE$1),this._recordSource.set(vr,br)),RelayModernRecord$b.setValue(br,dr,pr);break}case"LinkedHandle":case"ScalarHandle":var xr=Ft.args?getArgumentValues$3(Ft.args,this._variables):{},Sr=getStorageKey$6(Ft,this._variables),Er=getHandleStorageKey$2(Ft,this._variables);this._handleFieldPayloads.push({args:xr,dataID:RelayModernRecord$b.getDataID($t),fieldKey:Sr,handle:Ft.handle,handleKey:Er,handleArgs:Ft.handleArgs?getArgumentValues$3(Ft.handleArgs,this._variables):{}});break;case"ModuleImport":this._normalizeModuleImport(Ft,$t,Ct);break;case"Defer":this._normalizeDefer(Ft,$t,Ct);break;case"Stream":this._normalizeStream(Ft,$t,Ct);break;case"ClientExtension":var $r=this._isClientExtension;this._isClientExtension=!0,this._traverseSelections(Ft,$t,Ct),this._isClientExtension=$r;break;case"ClientComponent":if(this._shouldProcessClientComponents===!1)break;this._traverseSelections(Ft.fragment,$t,Ct);break;case"ActorChange":this._normalizeActorChange(Ft,$t,Ct);break;case"RelayResolver":this._normalizeResolver(Ft,$t,Ct);break;case"RelayLiveResolver":this._normalizeResolver(Ft,$t,Ct);break;case"ClientEdgeToClientObject":this._normalizeResolver(Ft.backingField,$t,Ct);break;default:invariant$n(!1)}}},et._normalizeResolver=function(mt,$t,Ct){mt.fragment!=null&&this._traverseSelections(mt.fragment,$t,Ct)},et._normalizeDefer=function(mt,$t,Ct){var Dt=mt.if===null||this._getVariableValue(mt.if);Dt===!1?this._traverseSelections(mt,$t,Ct):this._incrementalPlaceholders.push({kind:"defer",data:Ct,label:mt.label,path:(0,_toConsumableArray2$2.default)(this._path),selector:createNormalizationSelector$2(mt,RelayModernRecord$b.getDataID($t),this._variables),typeName:RelayModernRecord$b.getType($t),actorIdentifier:this._actorIdentifier})},et._normalizeStream=function(mt,$t,Ct){this._traverseSelections(mt,$t,Ct);var Dt=mt.if===null||this._getVariableValue(mt.if);Dt===!0&&this._incrementalPlaceholders.push({kind:"stream",label:mt.label,path:(0,_toConsumableArray2$2.default)(this._path),parentID:RelayModernRecord$b.getDataID($t),node:mt,variables:this._variables,actorIdentifier:this._actorIdentifier})},et._normalizeModuleImport=function(mt,$t,Ct){typeof Ct=="object"&&Ct||invariant$n(!1);var Dt=RelayModernRecord$b.getType($t),Ft=getModuleComponentKey$2(mt.documentName),Nt=mt.componentModuleProvider||Ct[Ft];RelayModernRecord$b.setValue($t,Ft,Nt??null);var jt=getModuleOperationKey$3(mt.documentName),Lt=mt.operationModuleProvider||Ct[jt];RelayModernRecord$b.setValue($t,jt,Lt??null),Lt!=null&&this._followupPayloads.push({kind:"ModuleImportPayload",args:mt.args,data:Ct,dataID:RelayModernRecord$b.getDataID($t),operationReference:Lt,path:(0,_toConsumableArray2$2.default)(this._path),typeName:Dt,variables:this._variables,actorIdentifier:this._actorIdentifier})},et._normalizeField=function(mt,$t,Ct){typeof Ct=="object"&&Ct||invariant$n(!1);var Dt=mt.alias||mt.name,Ft=getStorageKey$6(mt,this._variables),Nt=Ct[Dt];if(Nt==null||RelayFeatureFlags$5.ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS&&Array.isArray(Nt)&&Nt.length===0){if(Nt===void 0){var jt=this._isClientExtension||this._isUnmatchedAbstractType;if(jt)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue($t,Ft,null);var Lt=this._errorTrie;if(Lt!=null){var Vt=getErrorsByKey(Lt,Dt);Vt!=null&&RelayModernRecord$b.setErrors($t,Ft,Vt)}return}if(mt.kind==="ScalarField")RelayModernRecord$b.setValue($t,Ft,Nt);else if(mt.kind==="LinkedField"){this._path.push(Dt);var er=this._errorTrie;this._errorTrie=er==null?null:getNestedErrorTrieByKey(er,Dt),mt.plural?this._normalizePluralLink(mt,$t,Ft,Nt):this._normalizeLink(mt,$t,Ft,Nt),this._errorTrie=er,this._path.pop()}else invariant$n(!1)},et._normalizeActorChange=function(mt,$t,Ct){var Dt,Ft=mt.linkedField;typeof Ct=="object"&&Ct||invariant$n(!1);var Nt=Ft.alias||Ft.name,jt=getStorageKey$6(Ft,this._variables),Lt=Ct[Nt];if(Lt==null){if(Lt===void 0){var Vt=this._isClientExtension||this._isUnmatchedAbstractType;if(Vt)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue($t,jt,null);return}var er=getActorIdentifierFromPayload(Lt);if(er==null){RelayModernRecord$b.setValue($t,jt,null);return}var ir=(Dt=Ft.concreteType)!==null&&Dt!==void 0?Dt:this._getRecordType(Lt),or=this._getDataId(Lt,ir)||RelayModernRecord$b.getLinkedRecordID($t,jt)||generateClientID$5(RelayModernRecord$b.getDataID($t),jt);typeof or!="string"&&invariant$n(!1),RelayModernRecord$b.setActorLinkedRecordID($t,jt,er,or),this._followupPayloads.push({kind:"ActorPayload",data:Lt,dataID:or,path:[].concat((0,_toConsumableArray2$2.default)(this._path),[Nt]),typeName:ir,variables:this._variables,node:Ft,actorIdentifier:er})},et._normalizeLink=function(mt,$t,Ct,Dt){var Ft;typeof Dt=="object"&&Dt||invariant$n(!1);var Nt=this._getDataId(Dt,(Ft=mt.concreteType)!==null&&Ft!==void 0?Ft:this._getRecordType(Dt))||RelayModernRecord$b.getLinkedRecordID($t,Ct)||generateClientID$5(RelayModernRecord$b.getDataID($t),Ct);typeof Nt!="string"&&invariant$n(!1),RelayModernRecord$b.setLinkedRecordID($t,Ct,Nt);var jt=this._recordSource.get(Nt);if(!jt){var Lt=mt.concreteType||this._getRecordType(Dt);jt=RelayModernRecord$b.create(Nt,Lt),this._recordSource.set(Nt,jt)}this._traverseSelections(mt,jt,Dt)},et._normalizePluralLink=function(mt,$t,Ct,Dt){var Ft=this;Array.isArray(Dt)||invariant$n(!1);var Nt=RelayModernRecord$b.getLinkedRecordIDs($t,Ct),jt=[];Dt.forEach(function(Lt,Vt){var er;if(Lt==null){jt.push(Lt);return}Ft._path.push(String(Vt));var ir=Ft._errorTrie;Ft._errorTrie=ir==null?null:getNestedErrorTrieByKey(ir,Vt),typeof Lt!="object"&&invariant$n(!1);var or=Ft._getDataId(Lt,(er=mt.concreteType)!==null&&er!==void 0?er:Ft._getRecordType(Lt))||Nt&&Nt[Vt]||generateClientID$5(RelayModernRecord$b.getDataID($t),Ct,Vt);typeof or!="string"&&invariant$n(!1),jt.push(or);var lr=Ft._recordSource.get(or);if(!lr){var dr=mt.concreteType||Ft._getRecordType(Lt);lr=RelayModernRecord$b.create(or,dr),Ft._recordSource.set(or,lr)}Ft._traverseSelections(mt,lr,Lt),Ft._errorTrie=ir,Ft._path.pop()}),RelayModernRecord$b.setLinkedRecordIDs($t,Ct,jt)},et._validateRecordType=function(mt,$t,Ct){var Dt;(Dt=$t.concreteType)!==null&&Dt!==void 0||this._getRecordType(Ct),RelayModernRecord$b.getDataID(mt)},et._validateConflictingFieldsWithIdenticalId=function(mt,$t,Ct){},et._validateConflictingLinkedFieldsWithIdenticalId=function(mt,$t,Ct){},nt}(),RelayResponseNormalizer_1={normalize:normalize$2},_interopRequireDefault$d=interopRequireDefaultExports.default,_objectSpread2$4=_interopRequireDefault$d(objectSpread2Exports),_RelayModernRecord=_interopRequireDefault$d(RelayModernRecord$d),_RelayRecordSource=_interopRequireDefault$d(RelayRecordSource_1),_RelayResponseNormalizer=_interopRequireDefault$d(RelayResponseNormalizer_1);function normalizeResponse$2(nt,et,at,mt){var $t,Ct=nt.data,Dt=nt.errors,Ft=_RelayRecordSource.default.create(),Nt=_RelayModernRecord.default.create(et.dataID,at);Ft.set(et.dataID,Nt);var jt=_RelayResponseNormalizer.default.normalize(Ft,et,Ct,mt,Dt);return(0,_objectSpread2$4.default)((0,_objectSpread2$4.default)({},jt),{},{isFinal:(($t=nt.extensions)===null||$t===void 0?void 0:$t.is_final)===!0})}var normalizeResponse_1=normalizeResponse$2,_require$q=GraphQLTag$1,getInlineDataFragment=_require$q.getInlineDataFragment,_require2$i=RelayStoreUtils_1,FRAGMENTS_KEY$1=_require2$i.FRAGMENTS_KEY,invariant$m=browser$1;function readInlineData$1(nt,et){var at,mt=getInlineDataFragment(nt);if(et==null)return et;typeof et!="object"&&invariant$m(!1);var $t=(at=et[FRAGMENTS_KEY$1])===null||at===void 0?void 0:at[mt.name];return $t==null&&invariant$m(!1),$t}var readInlineData_1=readInlineData$1,id=1e5;function generateID$2(){return id++}var generateID_1=generateID$2,generateID$1=generateID_1;function wrapNetworkWithLogObserver$1(nt,et){return{execute:function(mt,$t,Ct,Dt){var Ft=generateID$1(),Nt={start:function(Vt){nt.__log({name:"network.start",networkRequestId:Ft,params:mt,variables:$t,cacheConfig:Ct})},next:function(Vt){nt.__log({name:"network.next",networkRequestId:Ft,response:Vt})},error:function(Vt){nt.__log({name:"network.error",networkRequestId:Ft,error:Vt})},complete:function(){nt.__log({name:"network.complete",networkRequestId:Ft})},unsubscribe:function(){nt.__log({name:"network.unsubscribe",networkRequestId:Ft})}},jt=function(Vt){nt.__log({name:"network.info",networkRequestId:Ft,info:Vt})};return et.execute(mt,$t,Ct,Dt,jt).do(Nt)}}}var wrapNetworkWithLogObserver_1=wrapNetworkWithLogObserver$1,_interopRequireDefault$c=interopRequireDefaultExports.default,_createForOfIteratorHelper2$8=_interopRequireDefault$c(createForOfIteratorHelperExports),invariant$l=browser$1,RelayOperationTracker$2=function(){function nt(){this._ownersToPendingOperations=new Map,this._pendingOperationsToOwners=new Map,this._ownersToPendingPromise=new Map}var et=nt.prototype;return et.update=function(mt,$t){if($t.size!==0){var Ct=mt.identifier,Dt=new Set,Ft=(0,_createForOfIteratorHelper2$8.default)($t),Nt;try{for(Ft.s();!(Nt=Ft.n()).done;){var jt=Nt.value,Lt=jt.identifier,Vt=this._ownersToPendingOperations.get(Lt);Vt!=null?Vt.has(Ct)||(Vt.set(Ct,mt),Dt.add(Lt)):(this._ownersToPendingOperations.set(Lt,new Map([[Ct,mt]])),Dt.add(Lt))}}catch(dr){Ft.e(dr)}finally{Ft.f()}if(Dt.size!==0){var er=this._pendingOperationsToOwners.get(Ct)||new Set,ir=(0,_createForOfIteratorHelper2$8.default)(Dt),or;try{for(ir.s();!(or=ir.n()).done;){var lr=or.value;this._resolveOwnerResolvers(lr),er.add(lr)}}catch(dr){ir.e(dr)}finally{ir.f()}this._pendingOperationsToOwners.set(Ct,er)}}},et.complete=function(mt){var $t=mt.identifier,Ct=this._pendingOperationsToOwners.get($t);if(Ct!=null){var Dt=new Set,Ft=new Set,Nt=(0,_createForOfIteratorHelper2$8.default)(Ct),jt;try{for(Nt.s();!(jt=Nt.n()).done;){var Lt=jt.value,Vt=this._ownersToPendingOperations.get(Lt);Vt&&(Vt.delete($t),Vt.size>0?Ft.add(Lt):Dt.add(Lt))}}catch(hr){Nt.e(hr)}finally{Nt.f()}var er=(0,_createForOfIteratorHelper2$8.default)(Dt),ir;try{for(er.s();!(ir=er.n()).done;){var or=ir.value;this._resolveOwnerResolvers(or),this._ownersToPendingOperations.delete(or)}}catch(hr){er.e(hr)}finally{er.f()}var lr=(0,_createForOfIteratorHelper2$8.default)(Ft),dr;try{for(lr.s();!(dr=lr.n()).done;){var pr=dr.value;this._resolveOwnerResolvers(pr)}}catch(hr){lr.e(hr)}finally{lr.f()}this._pendingOperationsToOwners.delete($t)}},et._resolveOwnerResolvers=function(mt){var $t=this._ownersToPendingPromise.get(mt);$t!=null&&$t.resolve(),this._ownersToPendingPromise.delete(mt)},et.getPendingOperationsAffectingOwner=function(mt){var $t=mt.identifier,Ct=this._ownersToPendingOperations.get($t);if(Ct==null||Ct.size===0)return null;var Dt=this._ownersToPendingPromise.get($t);if(Dt!=null)return{promise:Dt.promise,pendingOperations:Dt.pendingOperations};var Ft,Nt=new Promise(function(Lt){Ft=Lt});Ft==null&&invariant$l(!1);var jt=Array.from(Ct.values());return this._ownersToPendingPromise.set($t,{promise:Nt,resolve:Ft,pendingOperations:jt}),{promise:Nt,pendingOperations:jt}},nt}(),RelayOperationTracker_1=RelayOperationTracker$2;function registerEnvironmentWithDevTools$1(nt){var et=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,at=et&&et.__RELAY_DEVTOOLS_HOOK__;at&&at.registerEnvironment(nt)}var registerEnvironmentWithDevTools_1=registerEnvironmentWithDevTools$1,_require$p=ClientID,generateClientID$4=_require$p.generateClientID,_require2$h=RelayStoreUtils_1,ROOT_ID$4=_require2$h.ROOT_ID,VIEWER_ID$2=generateClientID$4(ROOT_ID$4,"viewer"),VIEWER_TYPE$1="Viewer",ViewerPattern$1={VIEWER_ID:VIEWER_ID$2,VIEWER_TYPE:VIEWER_TYPE$1},_require$o=ViewerPattern$1,VIEWER_ID$1=_require$o.VIEWER_ID,VIEWER_TYPE=_require$o.VIEWER_TYPE;function defaultGetDataID$2(nt,et){return et===VIEWER_TYPE&&nt.id==null?VIEWER_ID$1:nt.id}var defaultGetDataID_1=defaultGetDataID$2,defaultRelayFieldLogger$1=function nt(et){},defaultRelayFieldLogger_1=defaultRelayFieldLogger$1,_require$n=RelayConcreteNode_1,REQUEST=_require$n.REQUEST,SPLIT_OPERATION=_require$n.SPLIT_OPERATION;function getOperation$3(nt){switch(nt.kind){case REQUEST:return nt.operation;case SPLIT_OPERATION:default:return nt}}var getOperation_1=getOperation$3;function createError(nt,et,at){for(var mt=arguments.length,$t=new Array(mt>3?mt-3:0),Ct=3;Ct<mt;Ct++)$t[Ct-3]=arguments[Ct];var Dt=0,Ft=at.replace(/%s/g,function(){return String($t[Dt++])}),Nt=new Error(Ft),jt=Object.assign(Nt,{name:et,messageFormat:at,messageParams:$t,type:nt,taalOpcodes:[2,2]});if(jt.stack===void 0)try{throw jt}catch{}return jt}var RelayError$2={create:function nt(et,at){for(var mt=arguments.length,$t=new Array(mt>2?mt-2:0),Ct=2;Ct<mt;Ct++)$t[Ct-2]=arguments[Ct];return createError.apply(void 0,["error",et,at].concat($t))},createWarning:function nt(et,at){for(var mt=arguments.length,$t=new Array(mt>2?mt-2:0),Ct=2;Ct<mt;Ct++)$t[Ct-2]=arguments[Ct];return createError.apply(void 0,["warn",et,at].concat($t))}},_window,_window$performance,isPerformanceNowAvailable=typeof window<"u"&&typeof((_window=window)===null||_window===void 0||(_window$performance=_window.performance)===null||_window$performance===void 0?void 0:_window$performance.now)=="function";function currentTimestamp(){return isPerformanceNowAvailable?window.performance.now():Date.now()}function withStartAndDuration$1(nt){var et=currentTimestamp(),at=nt();return[et,currentTimestamp()-et,at]}var withStartAndDuration_1=withStartAndDuration$1,_interopRequireDefault$b=interopRequireDefaultExports.default,_createForOfIteratorHelper2$7=_interopRequireDefault$b(createForOfIteratorHelperExports),_toConsumableArray2$1=_interopRequireDefault$b(toConsumableArrayExports),RelayObservable$2=RelayObservable_1,generateID=generateID_1,getOperation$2=getOperation_1,RelayError$1=RelayError$2,RelayFeatureFlags$4=RelayFeatureFlags_1,_require$m=stableCopy_1,stableCopy$2=_require$m.stableCopy,withStartAndDuration=withStartAndDuration_1,_require2$g=ClientID,generateClientID$3=_require2$g.generateClientID,generateUniqueClientID$1=_require2$g.generateUniqueClientID,_require3$a=RelayConcreteVariables$2,getLocalVariables$2=_require3$a.getLocalVariables,RelayModernRecord$a=RelayModernRecord$d,_require4$6=RelayModernSelector$1,createNormalizationSelector$1=_require4$6.createNormalizationSelector,createReaderSelector$1=_require4$6.createReaderSelector,RelayRecordSource$5=RelayRecordSource_1,_require5$3=RelayStoreUtils_1,ROOT_TYPE$3=_require5$3.ROOT_TYPE,TYPENAME_KEY=_require5$3.TYPENAME_KEY,getStorageKey$5=_require5$3.getStorageKey,invariant$k=browser$1,warning=warning_1;function execute(nt){return new Executor(nt)}var Executor=function(){function nt(at){var mt=this,$t=at.actorIdentifier,Ct=at.getDataID,Dt=at.getPublishQueue,Ft=at.getStore,Nt=at.isClientPayload,jt=at.operation,Lt=at.operationExecutions,Vt=at.operationLoader,er=at.operationTracker,ir=at.optimisticConfig,or=at.scheduler,lr=at.shouldProcessClientComponents,dr=at.sink,pr=at.source,hr=at.treatMissingFieldsAsNull,vr=at.updater,br=at.log,xr=at.normalizeResponse;this._actorIdentifier=$t,this._getDataID=Ct,this._treatMissingFieldsAsNull=hr,this._incrementalPayloadsPending=!1,this._incrementalResults=new Map,this._log=br,this._executeId=generateID(),this._nextSubscriptionId=0,this._operation=jt,this._operationExecutions=Lt,this._operationLoader=Vt,this._operationTracker=er,this._operationUpdateEpochs=new Map,this._optimisticUpdates=null,this._pendingModulePayloadsCount=0,this._getPublishQueue=Dt,this._scheduler=or,this._sink=dr,this._source=new Map,this._state="started",this._getStore=Ft,this._subscriptions=new Map,this._updater=vr,this._isClientPayload=Nt===!0,this._isSubscriptionOperation=this._operation.request.node.params.operationKind==="subscription",this._shouldProcessClientComponents=lr,this._retainDisposables=new Map,this._seenActors=new Set,this._completeFns=[],this._normalizeResponse=xr;var Sr=this._nextSubscriptionId++;RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&ir!=null&&this._processOptimisticResponse(ir.response!=null?{data:ir.response}:null,ir.updater,!1),pr.subscribe({complete:function(){return mt._complete(Sr)},error:function($r){return mt._error($r)},next:function($r){try{mt._next(Sr,$r)}catch(Cr){dr.error(Cr)}},start:function($r){var Cr;mt._start(Sr,$r),mt._log({name:"execute.start",executeId:mt._executeId,params:mt._operation.request.node.params,variables:mt._operation.request.variables,cacheConfig:(Cr=mt._operation.request.cacheConfig)!==null&&Cr!==void 0?Cr:{}})}}),!RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&ir!=null&&this._processOptimisticResponse(ir.response!=null?{data:ir.response}:null,ir.updater,!1)}var et=nt.prototype;return et.cancel=function(){var mt=this;if(this._state!=="completed"){this._state="completed",this._operationExecutions.delete(this._operation.request.identifier),this._subscriptions.size!==0&&(this._subscriptions.forEach(function(Ct){return Ct.unsubscribe()}),this._subscriptions.clear());var $t=this._optimisticUpdates;$t!==null&&(this._optimisticUpdates=null,$t.forEach(function(Ct){return mt._getPublishQueueAndSaveActor().revertUpdate(Ct)}),this._runPublishQueue()),this._incrementalResults.clear(),this._asyncStoreUpdateDisposable!=null&&(this._asyncStoreUpdateDisposable.dispose(),this._asyncStoreUpdateDisposable=null),this._completeFns=[],this._completeOperationTracker(),this._disposeRetainedData()}},et._updateActiveState=function(){var mt;switch(this._state){case"started":{mt="active";break}case"loading_incremental":{mt="active";break}case"completed":{mt="inactive";break}case"loading_final":{mt=this._pendingModulePayloadsCount>0?"active":"inactive";break}default:this._state,invariant$k(!1)}this._operationExecutions.set(this._operation.request.identifier,mt)},et._schedule=function(mt,$t){var Ct=this,Dt=this._scheduler;if(Dt!=null){var Ft=this._nextSubscriptionId++;RelayObservable$2.create(function(Nt){var jt=Dt.schedule(function(){try{mt(),Nt.complete()}catch(Lt){Nt.error(Lt)}},$t);return function(){return Dt.cancel(jt)}}).subscribe({complete:function(){return Ct._complete(Ft)},error:function(jt){return Ct._error(jt)},start:function(jt){return Ct._start(Ft,jt)}})}else mt()},et._complete=function(mt){this._subscriptions.delete(mt),this._subscriptions.size===0&&(this.cancel(),this._sink.complete(),this._log({name:"execute.complete",executeId:this._executeId}))},et._error=function(mt){this.cancel(),this._sink.error(mt),this._log({name:"execute.error",executeId:this._executeId,error:mt})},et._start=function(mt,$t){this._subscriptions.set(mt,$t),this._updateActiveState()},et._next=function(mt,$t){var Ct=this,Dt=this._state==="loading_incremental"?"low":"default";this._schedule(function(){Ct._log({name:"execute.next.start",executeId:Ct._executeId,response:$t,operation:Ct._operation}),Ct._handleNext($t),Ct._maybeCompleteSubscriptionOperationTracking(),Ct._log({name:"execute.next.end",executeId:Ct._executeId,response:$t,operation:Ct._operation})},Dt)},et._handleErrorResponse=function(mt){var $t=this,Ct=[];return mt.forEach(function(Dt){if(!(Dt.data===null&&Dt.extensions!=null&&!Dt.hasOwnProperty("errors")))if(Dt.data==null){var Ft=Dt.hasOwnProperty("errors")&&Dt.errors!=null?Dt.errors:null,Nt=Ft?Ft.map(function(Vt){var er=Vt.message;return er}).join(`
`):"(No errors)",jt=RelayError$1.create("RelayNetwork","No data returned for operation `"+$t._operation.request.node.params.name+"`, got error(s):\n"+Nt+"\n\nSee the error `source` property for more information.");throw jt.source={errors:Ft,operation:$t._operation.request.node,variables:$t._operation.request.variables},jt.stack,jt}else{var Lt=Dt;Ct.push(Lt)}}),Ct},et._handleOptimisticResponses=function(mt){var $t;if(mt.length>1)return mt.some(function(Ft){var Nt;return((Nt=Ft.extensions)===null||Nt===void 0?void 0:Nt.isOptimistic)===!0})&&invariant$k(!1),!1;var Ct=mt[0],Dt=(($t=Ct.extensions)===null||$t===void 0?void 0:$t.isOptimistic)===!0;return Dt&&this._state!=="started"&&invariant$k(!1),Dt?(this._processOptimisticResponse(Ct,null,this._treatMissingFieldsAsNull),this._sink.next(Ct),!0):!1},et._handleNext=function(mt){if(this._state!=="completed"){this._seenActors.clear();var $t=Array.isArray(mt)?mt:[mt],Ct=this._handleErrorResponse($t);if(Ct.length===0){var Dt=$t.some(function(dr){var pr;return((pr=dr.extensions)===null||pr===void 0?void 0:pr.is_final)===!0});Dt&&(this._state="loading_final",this._updateActiveState(),this._incrementalPayloadsPending=!1),this._sink.next(mt);return}var Ft=this._handleOptimisticResponses(Ct);if(!Ft){var Nt=partitionGraphQLResponses(Ct),jt=Nt[0],Lt=Nt[1],Vt=jt.length>0;if(Vt){if(this._isSubscriptionOperation){var er=generateUniqueClientID$1();this._operation={request:this._operation.request,fragment:createReaderSelector$1(this._operation.fragment.node,er,this._operation.fragment.variables,this._operation.fragment.owner),root:createNormalizationSelector$1(this._operation.root.node,er,this._operation.root.variables)}}var ir=this._processResponses(jt);this._processPayloadFollowups(ir)}if(Lt.length>0){var or=this._processIncrementalResponses(Lt);this._processPayloadFollowups(or)}this._isSubscriptionOperation&&(Ct[0].extensions==null?Ct[0].extensions={__relay_subscription_root_id:this._operation.fragment.dataID}:Ct[0].extensions.__relay_subscription_root_id=this._operation.fragment.dataID);var lr=this._runPublishQueue(Vt?this._operation:void 0);Vt&&this._incrementalPayloadsPending&&this._retainData(),this._updateOperationTracker(lr),this._sink.next(mt)}}},et._processOptimisticResponse=function(mt,$t,Ct){var Dt=this;if(this._optimisticUpdates!==null&&invariant$k(!1),!(mt==null&&$t==null)){var Ft=[];if(mt){var Nt=this._normalizeResponse(mt,this._operation.root,ROOT_TYPE$3,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[],shouldProcessClientComponents:this._shouldProcessClientComponents,treatMissingFieldsAsNull:Ct});validateOptimisticResponsePayload(Nt),Ft.push({operation:this._operation,payload:Nt,updater:$t}),this._processOptimisticFollowups(Nt,Ft)}else $t&&Ft.push({operation:this._operation,payload:{errors:null,fieldPayloads:null,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1},updater:$t});this._optimisticUpdates=Ft,Ft.forEach(function(Lt){return Dt._getPublishQueueAndSaveActor().applyUpdate(Lt)});var jt=this._runPublishQueue();RelayFeatureFlags$4.ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES&&this._updateOperationTracker(jt)}},et._processOptimisticFollowups=function(mt,$t){if(mt.followupPayloads&&mt.followupPayloads.length){var Ct=mt.followupPayloads,Dt=(0,_createForOfIteratorHelper2$7.default)(Ct),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var Nt=Ft.value;switch(Nt.kind){case"ModuleImportPayload":var jt=this._expectOperationLoader(),Lt=jt.get(Nt.operationReference);if(Lt==null)this._processAsyncOptimisticModuleImport(Nt);else{var Vt=this._processOptimisticModuleImport(Lt,Nt);$t.push.apply($t,(0,_toConsumableArray2$1.default)(Vt))}break;case"ActorPayload":break;default:invariant$k(!1)}}}catch(er){Dt.e(er)}finally{Dt.f()}}},et._normalizeFollowupPayload=function(mt,$t){var Ct;$t.kind==="SplitOperation"&&mt.kind==="ModuleImportPayload"?Ct=getLocalVariables$2(mt.variables,$t.argumentDefinitions,mt.args):Ct=mt.variables;var Dt=createNormalizationSelector$1($t,mt.dataID,Ct);return this._normalizeResponse({data:mt.data},Dt,mt.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:mt.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents})},et._processOptimisticModuleImport=function(mt,$t){var Ct=getOperation$2(mt),Dt=[],Ft=this._normalizeFollowupPayload($t,Ct);return validateOptimisticResponsePayload(Ft),Dt.push({operation:this._operation,payload:Ft,updater:null}),this._processOptimisticFollowups(Ft,Dt),Dt},et._processAsyncOptimisticModuleImport=function(mt){var $t=this;this._expectOperationLoader().load(mt.operationReference).then(function(Ct){if(!(Ct==null||$t._state!=="started")){var Dt=$t._processOptimisticModuleImport(Ct,mt);if(Dt.forEach(function(Nt){return $t._getPublishQueueAndSaveActor().applyUpdate(Nt)}),$t._optimisticUpdates!=null){var Ft;(Ft=$t._optimisticUpdates).push.apply(Ft,(0,_toConsumableArray2$1.default)(Dt)),$t._runPublishQueue()}}})},et._processResponses=function(mt){var $t=this;return this._log({name:"execute.normalize.start",operation:this._operation}),this._optimisticUpdates!==null&&(this._optimisticUpdates.forEach(function(Ct){$t._getPublishQueueAndSaveActor().revertUpdate(Ct)}),this._optimisticUpdates=null),this._incrementalPayloadsPending=!1,this._incrementalResults.clear(),this._source.clear(),mt.map(function(Ct){var Dt=$t._normalizeResponse(Ct,$t._operation.root,ROOT_TYPE$3,{actorIdentifier:$t._actorIdentifier,getDataID:$t._getDataID,path:[],treatMissingFieldsAsNull:$t._treatMissingFieldsAsNull,shouldProcessClientComponents:$t._shouldProcessClientComponents});return $t._getPublishQueueAndSaveActor().commitPayload($t._operation,Dt,$t._updater),$t._log({name:"execute.normalize.end",operation:$t._operation}),Dt})},et._processPayloadFollowups=function(mt){var $t=this;this._state!=="completed"&&mt.forEach(function(Ct){var Dt=Ct.incrementalPlaceholders,Ft=Ct.followupPayloads,Nt=Ct.isFinal;if($t._state=Nt?"loading_final":"loading_incremental",$t._updateActiveState(),Nt&&($t._incrementalPayloadsPending=!1),Ft&&Ft.length!==0&&Ft.forEach(function(Lt){var Vt,er=$t._actorIdentifier;$t._actorIdentifier=(Vt=Lt.actorIdentifier)!==null&&Vt!==void 0?Vt:$t._actorIdentifier,$t._processFollowupPayload(Lt),$t._actorIdentifier=er}),Dt&&Dt.length!==0&&($t._incrementalPayloadsPending=$t._state!=="loading_final",Dt.forEach(function(Lt){var Vt,er=$t._actorIdentifier;$t._actorIdentifier=(Vt=Lt.actorIdentifier)!==null&&Vt!==void 0?Vt:$t._actorIdentifier,$t._processIncrementalPlaceholder(Ct,Lt),$t._actorIdentifier=er}),$t._isClientPayload||$t._state==="loading_final")){var jt=[];Dt.forEach(function(Lt){Lt.kind==="defer"&&jt.push($t._processDeferResponse(Lt.label,Lt.path,Lt,{data:Lt.data}))}),jt.length>0&&$t._processPayloadFollowups(jt)}})},et._maybeCompleteSubscriptionOperationTracking=function(){this._isSubscriptionOperation&&this._pendingModulePayloadsCount===0&&this._incrementalPayloadsPending===!1&&this._completeOperationTracker()},et._processFollowupPayload=function(mt){var $t=this;switch(mt.kind){case"ModuleImportPayload":var Ct=this._expectOperationLoader(),Dt=Ct.get(mt.operationReference);if(Dt!=null)this._processFollowupPayloadWithNormalizationNode(mt,getOperation$2(Dt));else{var Ft=this._nextSubscriptionId++;this._pendingModulePayloadsCount++;var Nt=function(){$t._pendingModulePayloadsCount--,$t._maybeCompleteSubscriptionOperationTracking()},jt=RelayObservable$2.from(new Promise(function(Lt,Vt){Ct.load(mt.operationReference).then(Lt,Vt)}));RelayObservable$2.create(function(Lt){var Vt,er=jt.subscribe({next:function(or){if(or!=null){var lr=function(){try{var hr=getOperation$2(or),vr=RelayFeatureFlags$4.BATCH_ASYNC_MODULE_UPDATES_FN,br=vr!=null&&$t._pendingModulePayloadsCount>1,xr=withStartAndDuration(function(){if($t._handleFollowupPayload(mt,hr),br)$t._scheduleAsyncStoreUpdate(vr,Lt.complete);else{var $r=$t._runPublishQueue();$t._updateOperationTracker($r)}}),Sr=xr[0],Er=xr[1];$t._log({name:"execute.async.module",executeId:$t._executeId,operationName:hr.name,duration:Er}),br||Lt.complete()}catch($r){Lt.error($r)}},dr=$t._scheduler;dr==null?lr():Vt=dr.schedule(lr)}else Lt.complete()},error:Lt.error});return function(){er.unsubscribe(),$t._scheduler!=null&&Vt!=null&&$t._scheduler.cancel(Vt)}}).subscribe({complete:function(){$t._complete(Ft),Nt()},error:function(Vt){$t._error(Vt),Nt()},start:function(Vt){return $t._start(Ft,Vt)}})}break;case"ActorPayload":this._processFollowupPayloadWithNormalizationNode(mt,mt.node);break;default:invariant$k(!1)}},et._processFollowupPayloadWithNormalizationNode=function(mt,$t){this._handleFollowupPayload(mt,$t),this._maybeCompleteSubscriptionOperationTracking()},et._handleFollowupPayload=function(mt,$t){var Ct=this._normalizeFollowupPayload(mt,$t);this._getPublishQueueAndSaveActor().commitPayload(this._operation,Ct),this._processPayloadFollowups([Ct])},et._processIncrementalPlaceholder=function(mt,$t){var Ct,Dt=$t.label,Ft=$t.path,Nt=Ft.map(String).join("."),jt=this._incrementalResults.get(Dt);jt==null&&(jt=new Map,this._incrementalResults.set(Dt,jt));var Lt=jt.get(Nt),Vt=Lt!=null&&Lt.kind==="response"?Lt.responses:null;jt.set(Nt,{kind:"placeholder",placeholder:$t});var er;$t.kind==="stream"?er=$t.parentID:$t.kind==="defer"?er=$t.selector.dataID:invariant$k(!1);var ir=mt.source.get(er),or=((Ct=mt.fieldPayloads)!==null&&Ct!==void 0?Ct:[]).filter(function(xr){var Sr=generateClientID$3(xr.dataID,xr.fieldKey);return xr.dataID===er||Sr===er});ir==null&&invariant$k(!1);var lr,dr,pr=this._source.get(er);if(pr!=null){lr=RelayModernRecord$a.update(pr.record,ir);var hr=new Map,vr=function(Sr){var Er=stableStringify(Sr);hr.set(Er,Sr)};pr.fieldPayloads.forEach(vr),or.forEach(vr),dr=Array.from(hr.values())}else lr=ir,dr=or;if(this._source.set(er,{record:lr,fieldPayloads:dr}),Vt!=null){var br=this._processIncrementalResponses(Vt);this._processPayloadFollowups(br)}},et._processIncrementalResponses=function(mt){var $t=this,Ct=[];return mt.forEach(function(Dt){var Ft=Dt.label,Nt=Dt.path,jt=Dt.response,Lt=$t._incrementalResults.get(Ft);if(Lt==null&&(Lt=new Map,$t._incrementalResults.set(Ft,Lt)),Ft.indexOf("$defer$")!==-1){var Vt=Nt.map(String).join("."),er=Lt.get(Vt);if(er==null){er={kind:"response",responses:[Dt]},Lt.set(Vt,er);return}else if(er.kind==="response"){er.responses.push(Dt);return}var ir=er.placeholder;ir.kind!=="defer"&&invariant$k(!1),Ct.push($t._processDeferResponse(Ft,Nt,ir,jt))}else{var or=Nt.slice(0,-2).map(String).join("."),lr=Lt.get(or);if(lr==null){lr={kind:"response",responses:[Dt]},Lt.set(or,lr);return}else if(lr.kind==="response"){lr.responses.push(Dt);return}var dr=lr.placeholder;dr.kind!=="stream"&&invariant$k(!1),Ct.push($t._processStreamResponse(Ft,Nt,dr,jt))}}),Ct},et._processDeferResponse=function(mt,$t,Ct,Dt){var Ft,Nt=Ct.selector.dataID,jt=this._actorIdentifier;this._actorIdentifier=(Ft=Ct.actorIdentifier)!==null&&Ft!==void 0?Ft:this._actorIdentifier;var Lt=this._normalizeResponse(Dt,Ct.selector,Ct.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:Ct.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});this._getPublishQueueAndSaveActor().commitPayload(this._operation,Lt);var Vt=this._source.get(Nt);Vt==null&&invariant$k(!1);var er=Vt.fieldPayloads;if(er.length!==0){var ir,or={errors:null,fieldPayloads:er,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:((ir=Dt.extensions)===null||ir===void 0?void 0:ir.is_final)===!0};this._getPublishQueueAndSaveActor().commitPayload(this._operation,or)}return this._actorIdentifier=jt,Lt},et._processStreamResponse=function(mt,$t,Ct,Dt){var Ft=Ct.parentID,Nt=Ct.node,jt=Ct.variables,Lt=Ct.actorIdentifier,Vt=this._actorIdentifier;this._actorIdentifier=Lt??this._actorIdentifier;var er=Nt.selections[0];er!=null&&er.kind==="LinkedField"&&er.plural===!0||invariant$k(!1);var ir=this._normalizeStreamItem(Dt,Ft,er,jt,$t,Ct.path),or=ir.fieldPayloads,lr=ir.itemID,dr=ir.itemIndex,pr=ir.prevIDs,hr=ir.relayPayload,vr=ir.storageKey;if(this._getPublishQueueAndSaveActor().commitPayload(this._operation,hr,function(xr){var Sr=xr.get(Ft);if(Sr!=null){var Er=Sr.getLinkedRecords(vr);if(Er!=null&&!(Er.length!==pr.length||Er.some(function(Cr,kr){return pr[kr]!==(Cr&&Cr.getDataID())}))){var $r=(0,_toConsumableArray2$1.default)(Er);$r[dr]=xr.get(lr),Sr.setLinkedRecords($r,vr)}}}),or.length!==0){var br={errors:null,fieldPayloads:or,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1};this._getPublishQueueAndSaveActor().commitPayload(this._operation,br)}return this._actorIdentifier=Vt,hr},et._normalizeStreamItem=function(mt,$t,Ct,Dt,Ft,Nt){var jt,Lt,Vt,er,ir=mt.data;typeof ir!="object"&&invariant$k(!1);var or=(jt=Ct.alias)!==null&&jt!==void 0?jt:Ct.name,lr=getStorageKey$5(Ct,Dt),dr=this._source.get($t);dr==null&&invariant$k(!1);var pr=dr.record,hr=dr.fieldPayloads,vr=RelayModernRecord$a.getLinkedRecordIDs(pr,lr);vr==null&&invariant$k(!1);var br=Ft[Ft.length-1],xr=parseInt(br,10);xr===br&&xr>=0||invariant$k(!1);var Sr=(Lt=Ct.concreteType)!==null&&Lt!==void 0?Lt:ir[TYPENAME_KEY];typeof Sr!="string"&&invariant$k(!1);var Er=(Vt=(er=this._getDataID(ir,Sr))!==null&&er!==void 0?er:vr==null?void 0:vr[xr])!==null&&Vt!==void 0?Vt:generateClientID$3($t,lr,xr);typeof Er!="string"&&invariant$k(!1);var $r=createNormalizationSelector$1(Ct,Er,Dt),Cr=RelayModernRecord$a.clone(pr),kr=(0,_toConsumableArray2$1.default)(vr);kr[xr]=Er,RelayModernRecord$a.setLinkedRecordIDs(Cr,lr,kr),this._source.set($t,{record:Cr,fieldPayloads:hr});var gr=this._normalizeResponse(mt,$r,Sr,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[].concat((0,_toConsumableArray2$1.default)(Nt),[or,String(xr)]),treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});return{fieldPayloads:hr,itemID:Er,itemIndex:xr,prevIDs:vr,relayPayload:gr,storageKey:lr}},et._scheduleAsyncStoreUpdate=function(mt,$t){var Ct=this;this._completeFns.push($t),this._asyncStoreUpdateDisposable==null&&(this._asyncStoreUpdateDisposable=mt(function(){Ct._asyncStoreUpdateDisposable=null;var Dt=Ct._runPublishQueue();Ct._updateOperationTracker(Dt);var Ft=(0,_createForOfIteratorHelper2$7.default)(Ct._completeFns),Nt;try{for(Ft.s();!(Nt=Ft.n()).done;){var jt=Nt.value;jt()}}catch(Lt){Ft.e(Lt)}finally{Ft.f()}Ct._completeFns=[]}))},et._updateOperationTracker=function(mt){mt!=null&&mt.length>0&&this._operationTracker.update(this._operation.request,new Set(mt))},et._completeOperationTracker=function(){this._operationTracker.complete(this._operation.request)},et._getPublishQueueAndSaveActor=function(){return this._seenActors.add(this._actorIdentifier),this._getPublishQueue(this._actorIdentifier)},et._getActorsToVisit=function(){return this._seenActors.size===0?new Set([this._actorIdentifier]):this._seenActors},et._runPublishQueue=function(mt){var $t=new Set,Ct=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,Nt=this._getPublishQueue(Ft).run(mt);Nt.forEach(function(jt){return $t.add(jt)})}}catch(jt){Ct.e(jt)}finally{Ct.f()}return Array.from($t)},et._retainData=function(){var mt=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),$t;try{for(mt.s();!($t=mt.n()).done;){var Ct=$t.value;this._retainDisposables.has(Ct)||this._retainDisposables.set(Ct,this._getStore(Ct).retain(this._operation))}}catch(Dt){mt.e(Dt)}finally{mt.f()}},et._disposeRetainedData=function(){var mt=(0,_createForOfIteratorHelper2$7.default)(this._retainDisposables.values()),$t;try{for(mt.s();!($t=mt.n()).done;){var Ct=$t.value;Ct.dispose()}}catch(Dt){mt.e(Dt)}finally{mt.f()}this._retainDisposables.clear()},et._expectOperationLoader=function(){var mt=this._operationLoader;return mt||invariant$k(!1),mt},nt}();function partitionGraphQLResponses(nt){var et=[],at=[];return nt.forEach(function(mt){if(mt.path!=null||mt.label!=null){var $t=mt.label,Ct=mt.path;($t==null||Ct==null)&&invariant$k(!1),at.push({label:$t,path:Ct,response:mt})}else et.push(mt)}),[et,at]}function stableStringify(nt){var et;return(et=JSON.stringify(stableCopy$2(nt)))!==null&&et!==void 0?et:""}function validateOptimisticResponsePayload(nt){var et=nt.incrementalPlaceholders;et!=null&&et.length!==0&&invariant$k(!1)}var OperationExecutor$1={execute},RelayModernRecord$9=RelayModernRecord$d,_require$l=RelayRecordState_1,EXISTENT$2=_require$l.EXISTENT,invariant$j=browser$1,RelayRecordSourceMutator$2=function(){function nt(at,mt){this.__sources=[mt,at],this._base=at,this._sink=mt}var et=nt.prototype;return et.unstable_getRawRecordWithChanges=function(mt){var $t=this._base.get(mt),Ct=this._sink.get(mt);if(Ct===void 0){if($t==null)return $t;var Dt=RelayModernRecord$9.clone($t);return Dt}else{if(Ct===null)return null;if($t!=null){var Ft=RelayModernRecord$9.update($t,Ct);return Ft}else{var Nt=RelayModernRecord$9.clone(Ct);return Nt}}},et._getSinkRecord=function(mt){var $t=this._sink.get(mt);if(!$t){var Ct=this._base.get(mt);Ct||invariant$j(!1),$t=RelayModernRecord$9.create(mt,RelayModernRecord$9.getType(Ct)),this._sink.set(mt,$t)}return $t},et.copyFields=function(mt,$t){var Ct=this._sink.get(mt),Dt=this._base.get(mt);Ct||Dt||invariant$j(!1);var Ft=this._getSinkRecord($t);Dt&&RelayModernRecord$9.copyFields(Dt,Ft),Ct&&RelayModernRecord$9.copyFields(Ct,Ft)},et.copyFieldsFromRecord=function(mt,$t){var Ct=this._getSinkRecord($t);RelayModernRecord$9.copyFields(mt,Ct)},et.create=function(mt,$t){this._base.getStatus(mt)!==EXISTENT$2&&this._sink.getStatus(mt)!==EXISTENT$2||invariant$j(!1);var Ct=RelayModernRecord$9.create(mt,$t);this._sink.set(mt,Ct)},et.delete=function(mt){this._sink.delete(mt)},et.getStatus=function(mt){return this._sink.has(mt)?this._sink.getStatus(mt):this._base.getStatus(mt)},et.getType=function(mt){for(var $t=0;$t<this.__sources.length;$t++){var Ct=this.__sources[$t].get(mt);if(Ct)return RelayModernRecord$9.getType(Ct);if(Ct===null)return null}},et.getValue=function(mt,$t){for(var Ct=0;Ct<this.__sources.length;Ct++){var Dt=this.__sources[Ct].get(mt);if(Dt){var Ft=RelayModernRecord$9.getValue(Dt,$t);if(Ft!==void 0)return Ft}else if(Dt===null)return null}},et.setValue=function(mt,$t,Ct){var Dt=this._getSinkRecord(mt);RelayModernRecord$9.setValue(Dt,$t,Ct)},et.getErrors=function(mt,$t){for(var Ct=0;Ct<this.__sources.length;Ct++){var Dt=this.__sources[Ct].get(mt);if(Dt){var Ft=RelayModernRecord$9.getErrors(Dt,$t);if(Ft!==void 0)return Ft}else if(Dt===null)return null}},et.setErrors=function(mt,$t,Ct){var Dt=this._getSinkRecord(mt);RelayModernRecord$9.setErrors(Dt,$t,Ct)},et.getLinkedRecordID=function(mt,$t){for(var Ct=0;Ct<this.__sources.length;Ct++){var Dt=this.__sources[Ct].get(mt);if(Dt){var Ft=RelayModernRecord$9.getLinkedRecordID(Dt,$t);if(Ft!==void 0)return Ft}else if(Dt===null)return null}},et.setLinkedRecordID=function(mt,$t,Ct){var Dt=this._getSinkRecord(mt);RelayModernRecord$9.setLinkedRecordID(Dt,$t,Ct)},et.getLinkedRecordIDs=function(mt,$t){for(var Ct=0;Ct<this.__sources.length;Ct++){var Dt=this.__sources[Ct].get(mt);if(Dt){var Ft=RelayModernRecord$9.getLinkedRecordIDs(Dt,$t);if(Ft!==void 0)return Ft}else if(Dt===null)return null}},et.setLinkedRecordIDs=function(mt,$t,Ct){var Dt=this._getSinkRecord(mt);RelayModernRecord$9.setLinkedRecordIDs(Dt,$t,Ct)},nt}(),RelayRecordSourceMutator_1=RelayRecordSourceMutator$2,_interopRequireDefault$a=interopRequireDefaultExports.default,_createForOfIteratorHelper2$6=_interopRequireDefault$a(createForOfIteratorHelperExports),_require$k=RelayStoreUtils_1,getArgumentValues$2=_require$k.getArgumentValues,nonUpdatableKeys=["id","__id","__typename","js"];function createUpdatableProxy$2(nt,et,at,mt,$t){var Ct={};return updateProxyFromSelections(Ct,nt,et,at,mt,$t),Ct}function updateProxyFromSelections(nt,et,at,mt,$t,Ct){var Dt,Ft=(0,_createForOfIteratorHelper2$6.default)(mt),Nt;try{var jt=function(){var ir=Nt.value;switch(ir.kind){case"LinkedField":ir.plural?Object.defineProperty(nt,(Lt=ir.alias)!==null&&Lt!==void 0?Lt:ir.name,{get:createGetterForPluralLinkedField(ir,at,et,$t,Ct),set:createSetterForPluralLinkedField(ir,at,et,$t)}):Object.defineProperty(nt,(Vt=ir.alias)!==null&&Vt!==void 0?Vt:ir.name,{get:createGetterForSingularLinkedField(ir,at,et,$t,Ct),set:createSetterForSingularLinkedField(ir,at,et,$t)});break;case"ScalarField":var or=(Dt=ir.alias)!==null&&Dt!==void 0?Dt:ir.name;Object.defineProperty(nt,or,{get:function(){var dr,pr=getArgumentValues$2((dr=ir.args)!==null&&dr!==void 0?dr:[],at),hr=et.getValue(ir.name,pr);return hr==null&&(hr=getScalarUsingMissingFieldHandlers(ir,pr,et,$t,Ct)),hr},set:nonUpdatableKeys.includes(ir.name)?void 0:function(lr){var dr,pr=getArgumentValues$2((dr=ir.args)!==null&&dr!==void 0?dr:[],at);et.setValue__UNSAFE(lr,ir.name,pr)}});break;case"InlineFragment":et.getType()===ir.type&&updateProxyFromSelections(nt,et,at,ir.selections,$t,Ct);break;case"ClientExtension":updateProxyFromSelections(nt,et,at,ir.selections,$t,Ct);break;case"FragmentSpread":break;case"Condition":case"ActorChange":case"InlineDataFragmentSpread":case"AliasedInlineFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"Defer":case"ModuleImport":case"RelayLiveResolver":case"RequiredField":case"CatchField":case"Stream":case"RelayResolver":throw new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.");default:throw ir.kind,new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.")}};for(Ft.s();!(Nt=Ft.n()).done;){var Lt,Vt;jt()}}catch(er){Ft.e(er)}finally{Ft.f()}}function createSetterForPluralLinkedField(nt,et,at,mt){return function(Ct){var Dt,Ft=getArgumentValues$2((Dt=nt.args)!==null&&Dt!==void 0?Dt:[],et);if(Ct==null)throw new Error("Do not assign null to plural linked fields; assign an empty array instead.");var Nt=Ct.map(function(jt){if(jt==null)throw new Error("When assigning an array of items, none of the items should be null or undefined.");var Lt=jt.__id;if(Lt==null)throw new Error("The __id field must be present on each item passed to the setter. This indicates a bug in Relay.");var Vt=mt.get(Lt);if(Vt==null)throw new Error("Did not find item with data id ".concat(Lt," in the store."));return Vt});at.setLinkedRecords(Nt,nt.name,Ft)}}function createSetterForSingularLinkedField(nt,et,at,mt){return function(Ct){var Dt,Ft=getArgumentValues$2((Dt=nt.args)!==null&&Dt!==void 0?Dt:[],et);if(Ct==null)at.setValue(Ct,nt.name,Ft);else{var Nt=Ct.__id;if(Nt==null)throw new Error("The __id field must be present on the argument. This indicates a bug in Relay.");var jt=mt.get(Nt);if(jt==null)throw new Error("Did not find item with data id ".concat(Nt," in the store."));at.setLinkedRecord(jt,nt.name,Ft)}}}function createGetterForPluralLinkedField(nt,et,at,mt,$t){return function(){var Ct,Dt=getArgumentValues$2((Ct=nt.args)!==null&&Ct!==void 0?Ct:[],et),Ft=at.getLinkedRecords(nt.name,Dt);return Ft===void 0&&(Ft=getPluralLinkedRecordUsingMissingFieldHandlers(nt,Dt,at,mt,$t)),Ft!=null?Ft.map(function(Nt){if(Nt!=null){var jt={};return updateProxyFromSelections(jt,Nt,et,nt.selections,mt,$t),jt}else return Nt}):Ft}}function createGetterForSingularLinkedField(nt,et,at,mt,$t){return function(){var Ct,Dt=getArgumentValues$2((Ct=nt.args)!==null&&Ct!==void 0?Ct:[],et),Ft=at.getLinkedRecord(nt.name,Dt);if(Ft===void 0&&(Ft=getLinkedRecordUsingMissingFieldHandlers(nt,Dt,at,mt,$t)),Ft!=null){var Nt={};return updateProxyFromSelections(Nt,Ft,et,nt.selections,mt,$t),Nt}else return Ft}}function getLinkedRecordUsingMissingFieldHandlers(nt,et,at,mt,$t){var Ct=(0,_createForOfIteratorHelper2$6.default)($t),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value;if(Ft.kind==="linked"){var Nt=Ft.handle(nt,at,et,mt);if(Nt!=null)return mt.get(Nt)}}}catch(jt){Ct.e(jt)}finally{Ct.f()}}function getPluralLinkedRecordUsingMissingFieldHandlers(nt,et,at,mt,$t){var Ct=(0,_createForOfIteratorHelper2$6.default)($t),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value;if(Ft.kind==="pluralLinked"){var Nt=Ft.handle(nt,at,et,mt);if(Nt!=null)return Nt.map(function(jt){if(jt!=null)return mt.get(jt)})}}}catch(jt){Ct.e(jt)}finally{Ct.f()}}function getScalarUsingMissingFieldHandlers(nt,et,at,mt,$t){var Ct=(0,_createForOfIteratorHelper2$6.default)($t),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value;if(Ft.kind==="scalar"){var Nt=Ft.handle(nt,at,et,mt);if(Nt!==void 0)return Nt}}}catch(jt){Ct.e(jt)}finally{Ct.f()}}var createUpdatableProxy_1={createUpdatableProxy:createUpdatableProxy$2},_require$j=GraphQLTag$1,getFragment=_require$j.getFragment,_require2$f=RelayModernSelector$1,getVariablesFromFragment$1=_require2$f.getVariablesFromFragment,_require3$9=RelayStoreUtils_1,ID_KEY$1=_require3$9.ID_KEY,_require4$5=createUpdatableProxy_1,createUpdatableProxy$1=_require4$5.createUpdatableProxy,invariant$i=browser$1;function readUpdatableFragment(nt,et,at,mt){var $t=getFragment(nt),Ct=getVariablesFromFragment$1($t,et),Dt=et[ID_KEY$1],Ft=at.get(Dt);return Ft==null&&invariant$i(!1),{updatableData:createUpdatableProxy$1(Ft,Ct,$t.selections,at,mt)}}var readUpdatableFragment_1={readUpdatableFragment},_require$i=GraphQLTag$1,getUpdatableQuery=_require$i.getUpdatableQuery,_require2$e=createUpdatableProxy_1,createUpdatableProxy=_require2$e.createUpdatableProxy;function readUpdatableQuery(nt,et,at,mt){var $t=getUpdatableQuery(nt);return{updatableData:createUpdatableProxy(at.getRoot(),et,$t.fragment.selections,at,mt)}}var readUpdatableQuery_1={readUpdatableQuery},_require$h=ClientID,generateClientID$2=_require$h.generateClientID,_require2$d=RelayStoreUtils_1,getStableStorageKey=_require2$d.getStableStorageKey,invariant$h=browser$1,RelayRecordProxy$1=function(){function nt(at,mt,$t){this._dataID=$t,this._mutator=mt,this._source=at}var et=nt.prototype;return et.copyFieldsFrom=function(mt){this._mutator.copyFields(mt.getDataID(),this._dataID)},et.getDataID=function(){return this._dataID},et.getType=function(){var mt=this._mutator.getType(this._dataID);return mt==null&&invariant$h(!1),mt},et.getValue=function(mt,$t){var Ct=getStableStorageKey(mt,$t);return this._mutator.getValue(this._dataID,Ct)},et.setValue=function(mt,$t,Ct,Dt){return isValidLeafValue(mt)||invariant$h(!1),this.setValue__UNSAFE(mt,$t,Ct,Dt)},et.getErrors=function(mt,$t){var Ct=getStableStorageKey(mt,$t);return this._mutator.getErrors(this._dataID,Ct)},et.setValue__UNSAFE=function(mt,$t,Ct,Dt){var Ft=getStableStorageKey($t,Ct);return this._mutator.setValue(this._dataID,Ft,mt),Dt!=null&&(Dt.length===0?this._mutator.setErrors(this._dataID,Ft):this._mutator.setErrors(this._dataID,Ft,Dt)),this},et.getLinkedRecord=function(mt,$t){var Ct=getStableStorageKey(mt,$t),Dt=this._mutator.getLinkedRecordID(this._dataID,Ct);return Dt!=null?this._source.get(Dt):Dt},et.setLinkedRecord=function(mt,$t,Ct){mt instanceof nt||invariant$h(!1);var Dt=getStableStorageKey($t,Ct),Ft=mt.getDataID();return this._mutator.setLinkedRecordID(this._dataID,Dt,Ft),this},et.getOrCreateLinkedRecord=function(mt,$t,Ct){var Dt=this.getLinkedRecord(mt,Ct);if(!Dt){var Ft,Nt=getStableStorageKey(mt,Ct),jt=generateClientID$2(this.getDataID(),Nt);Dt=(Ft=this._source.get(jt))!==null&&Ft!==void 0?Ft:this._source.create(jt,$t),this.setLinkedRecord(Dt,mt,Ct)}return Dt},et.getLinkedRecords=function(mt,$t){var Ct=this,Dt=getStableStorageKey(mt,$t),Ft=this._mutator.getLinkedRecordIDs(this._dataID,Dt);return Ft==null?Ft:Ft.map(function(Nt){return Nt!=null?Ct._source.get(Nt):Nt})},et.setLinkedRecords=function(mt,$t,Ct){Array.isArray(mt)||invariant$h(!1);var Dt=getStableStorageKey($t,Ct),Ft=mt.map(function(Nt){return Nt&&Nt.getDataID()});return this._mutator.setLinkedRecordIDs(this._dataID,Dt,Ft),this},et.invalidateRecord=function(){this._source.markIDForInvalidation(this._dataID)},nt}();function isValidLeafValue(nt){return nt==null||typeof nt!="object"||Array.isArray(nt)&&nt.every(isValidLeafValue)}var RelayRecordProxy_1=RelayRecordProxy$1,RelayModernRecord$8=RelayModernRecord$d,_require$g=RelayRecordState_1,EXISTENT$1=_require$g.EXISTENT,NONEXISTENT=_require$g.NONEXISTENT,_require2$c=RelayStoreUtils_1,ROOT_ID$3=_require2$c.ROOT_ID,ROOT_TYPE$2=_require2$c.ROOT_TYPE,_require3$8=readUpdatableFragment_1,_readUpdatableFragment$1=_require3$8.readUpdatableFragment,_require4$4=readUpdatableQuery_1,_readUpdatableQuery$1=_require4$4.readUpdatableQuery,RelayRecordProxy=RelayRecordProxy_1,invariant$g=browser$1,RelayRecordSourceProxy$2=function(){function nt(at,mt,$t,Ct){this.__mutator=at,this._handlerProvider=$t||null,this._proxies={},this._getDataID=mt,this._invalidatedStore=!1,this._idsMarkedForInvalidation=new Set,this._missingFieldHandlers=Ct}var et=nt.prototype;return et.publishSource=function(mt,$t){var Ct=this,Dt=mt.getRecordIDs();Dt.forEach(function(Ft){var Nt=mt.getStatus(Ft);if(Nt===EXISTENT$1){var jt=mt.get(Ft);jt&&(Ct.__mutator.getStatus(Ft)!==EXISTENT$1&&Ct.create(Ft,RelayModernRecord$8.getType(jt)),Ct.__mutator.copyFieldsFromRecord(jt,Ft))}else Nt===NONEXISTENT&&Ct.delete(Ft)}),$t&&$t.length&&$t.forEach(function(Ft){var Nt=Ct._handlerProvider&&Ct._handlerProvider(Ft.handle);Nt||invariant$g(!1),Nt.update(Ct,Ft)})},et.create=function(mt,$t){this.__mutator.create(mt,$t),delete this._proxies[mt];var Ct=this.get(mt);return Ct||invariant$g(!1),Ct},et.delete=function(mt){mt===ROOT_ID$3&&invariant$g(!1),delete this._proxies[mt],this.__mutator.delete(mt)},et.get=function(mt){if(!this._proxies.hasOwnProperty(mt)){var $t=this.__mutator.getStatus(mt);$t===EXISTENT$1?this._proxies[mt]=new RelayRecordProxy(this,this.__mutator,mt):this._proxies[mt]=$t===NONEXISTENT?null:void 0}return this._proxies[mt]},et.getRoot=function(){var mt=this.get(ROOT_ID$3);return mt||(mt=this.create(ROOT_ID$3,ROOT_TYPE$2)),mt&&mt.getType()===ROOT_TYPE$2||invariant$g(!1),mt},et.invalidateStore=function(){this._invalidatedStore=!0},et.isStoreMarkedForInvalidation=function(){return this._invalidatedStore},et.markIDForInvalidation=function(mt){this._idsMarkedForInvalidation.add(mt)},et.getIDsMarkedForInvalidation=function(){return this._idsMarkedForInvalidation},et.readUpdatableQuery=function(mt,$t){return _readUpdatableQuery$1(mt,$t,this,this._missingFieldHandlers)},et.readUpdatableFragment=function(mt,$t){return _readUpdatableFragment$1(mt,$t,this,this._missingFieldHandlers)},nt}(),RelayRecordSourceProxy_1=RelayRecordSourceProxy$2,_require$f=RelayStoreUtils_1,ROOT_TYPE$1=_require$f.ROOT_TYPE,getStorageKey$4=_require$f.getStorageKey,_require2$b=readUpdatableFragment_1,_readUpdatableFragment=_require2$b.readUpdatableFragment,_require3$7=readUpdatableQuery_1,_readUpdatableQuery=_require3$7.readUpdatableQuery,invariant$f=browser$1,RelayRecordSourceSelectorProxy$1=function(){function nt(at,mt,$t,Ct){this.__mutator=at,this.__recordSource=mt,this._readSelector=$t,this._missingFieldHandlers=Ct}var et=nt.prototype;return et.create=function(mt,$t){return this.__recordSource.create(mt,$t)},et.delete=function(mt){this.__recordSource.delete(mt)},et.get=function(mt){return this.__recordSource.get(mt)},et.getRoot=function(){return this.__recordSource.getRoot()},et.getOperationRoot=function(){var mt=this.__recordSource.get(this._readSelector.dataID);return mt||(mt=this.__recordSource.create(this._readSelector.dataID,ROOT_TYPE$1)),mt},et._getRootField=function(mt,$t,Ct){var Dt=mt.node.selections.find(function(Ft){return Ft.kind==="LinkedField"&&Ft.name===$t||Ft.kind==="RequiredField"&&Ft.field.name===$t});return Dt&&Dt.kind==="RequiredField"&&(Dt=Dt.field),Dt&&Dt.kind==="LinkedField"||invariant$f(!1),Dt.plural!==Ct&&invariant$f(!1),Dt},et.getRootField=function(mt){var $t=this._getRootField(this._readSelector,mt,!1),Ct=getStorageKey$4($t,this._readSelector.variables);return this.getOperationRoot().getLinkedRecord(Ct)},et.getPluralRootField=function(mt){var $t=this._getRootField(this._readSelector,mt,!0),Ct=getStorageKey$4($t,this._readSelector.variables);return this.getOperationRoot().getLinkedRecords(Ct)},et.invalidateStore=function(){this.__recordSource.invalidateStore()},et.readUpdatableQuery=function(mt,$t){return _readUpdatableQuery(mt,$t,this,this._missingFieldHandlers)},et.readUpdatableFragment=function(mt,$t){return _readUpdatableFragment(mt,$t,this,this._missingFieldHandlers)},nt}(),RelayRecordSourceSelectorProxy_1=RelayRecordSourceSelectorProxy$1,_require$e=RelayConcreteNode_1,RELAY_LIVE_RESOLVER$1=_require$e.RELAY_LIVE_RESOLVER,invariant$e=browser$1,NoopResolverCache$1=function(){function nt(){}var et=nt.prototype;return et.readFromCacheOrEvaluate=function(mt,$t,Ct,Dt,Ft){$t.kind===RELAY_LIVE_RESOLVER$1&&invariant$e(!1);var Nt=Dt(),jt=Nt.resolverResult,Lt=Nt.snapshot,Vt=Nt.error;return[jt,void 0,Vt,Lt,void 0,void 0]},et.invalidateDataIDs=function(mt){},et.ensureClientRecord=function(mt,$t){invariant$e(!1)},et.notifyUpdatedSubscribers=function(mt){},nt}(),ResolverCache={NoopResolverCache:NoopResolverCache$1},_interopRequireDefault$9=interopRequireDefaultExports.default,_objectSpread2$3=_interopRequireDefault$9(objectSpread2Exports),_defineProperty2$2=_interopRequireDefault$9(requireDefineProperty()),_objectWithoutPropertiesLoose2=_interopRequireDefault$9(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$5=_interopRequireDefault$9(createForOfIteratorHelperExports),_toConsumableArray2=_interopRequireDefault$9(toConsumableArrayExports),_excluded=["message"],_require$d=LiveResolverSuspenseSentinel,isSuspenseSentinel$2=_require$d.isSuspenseSentinel,RelayConcreteVariables$1=RelayConcreteVariables$2,RelayModernRecord$7=RelayModernRecord$d,_require2$a=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH=_require2$a.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY=_require2$a.FRAGMENT_OWNER_KEY,FRAGMENT_PROP_NAME_KEY=_require2$a.FRAGMENT_PROP_NAME_KEY,FRAGMENTS_KEY=_require2$a.FRAGMENTS_KEY,ID_KEY=_require2$a.ID_KEY,MODULE_COMPONENT_KEY=_require2$a.MODULE_COMPONENT_KEY,ROOT_ID$2=_require2$a.ROOT_ID,getArgumentValues$1=_require2$a.getArgumentValues,getModuleComponentKey$1=_require2$a.getModuleComponentKey,getStorageKey$3=_require2$a.getStorageKey,_require3$6=ResolverCache,NoopResolverCache=_require3$6.NoopResolverCache,_require4$3=ResolverFragments$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL=_require4$3.RESOLVER_FRAGMENT_ERRORED_SENTINEL,withResolverContext=_require4$3.withResolverContext,_require5$2=TypeID,generateTypeID$2=_require5$2.generateTypeID,invariant$d=browser$1;function read(nt,et,at,mt){var $t=new RelayReader$3(nt,et,at??new NoopResolverCache,mt);return $t.read()}var RelayReader$3=function(){function nt(at,mt,$t,Ct){var Dt,Ft;this._clientEdgeTraversalPath=(Dt=mt.clientEdgeTraversalPath)!==null&&Dt!==void 0&&Dt.length?(0,_toConsumableArray2.default)(mt.clientEdgeTraversalPath):[],this._missingClientEdges=[],this._missingLiveResolverFields=[],this._isMissingData=!1,this._isWithinUnmatchedTypeRefinement=!1,this._errorResponseFields=null,this._owner=mt.owner,this._useExecTimeResolvers=(Ft=this._owner.node.operation.use_exec_time_resolvers)!==null&&Ft!==void 0?Ft:!1,this._recordSource=at,this._seenRecords=new Set,this._selector=mt,this._variables=mt.variables,this._resolverCache=$t,this._fragmentName=mt.node.name,this._updatedDataIDs=new Set,this._resolverContext=Ct}var et=nt.prototype;return et.read=function(){var mt,$t=this._selector,Ct=$t.node,Dt=$t.dataID,Ft=$t.isWithinUnmatchedTypeRefinement,Nt=Ct.abstractKey,jt=this._recordSource.get(Dt),Lt=!Ft;if(Lt&&Nt==null&&jt!=null&&(this._recordMatchesTypeCondition(jt,Ct.type)||(Lt=!1)),Lt&&Nt!=null&&jt!=null){var Vt=this._implementsInterface(jt,Nt);Vt===!1&&(Lt=!1)}this._isWithinUnmatchedTypeRefinement=!Lt;var er=this._traverse(Ct,Dt,null),ir=(mt=this._selector.node.metadata)===null||mt===void 0?void 0:mt.catchTo;return ir!=null&&(er=this._catchErrors(er,ir,null)),this._updatedDataIDs.size>0&&(this._resolverCache.notifyUpdatedSubscribers(this._updatedDataIDs),this._updatedDataIDs.clear()),{data:er,isMissingData:this._isMissingData&&Lt,missingClientEdges:this._missingClientEdges.length?this._missingClientEdges:null,missingLiveResolverFields:this._missingLiveResolverFields,seenRecords:this._seenRecords,selector:this._selector,errorResponseFields:this._errorResponseFields}},et._maybeAddErrorResponseFields=function(mt,$t){var Ct=RelayModernRecord$7.getErrors(mt,$t);if(Ct!=null){var Dt=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var Ft=(0,_createForOfIteratorHelper2$5.default)(Ct),Nt;try{for(Ft.s();!(Nt=Ft.n()).done;){var jt,Lt,Vt,er=Nt.value;this._errorResponseFields.push({kind:"relay_field_payload.error",owner:Dt,fieldPath:((jt=er.path)!==null&&jt!==void 0?jt:[]).join("."),error:er,shouldThrow:(Lt=(Vt=this._selector.node.metadata)===null||Vt===void 0?void 0:Vt.throwOnFieldError)!==null&&Lt!==void 0?Lt:!1,handled:!1})}}catch(ir){Ft.e(ir)}finally{Ft.f()}}},et._markDataAsMissing=function(mt){var $t,Ct;if(!this._isWithinUnmatchedTypeRefinement){this._errorResponseFields==null&&(this._errorResponseFields=[]);var Dt=this._fragmentName;if(this._errorResponseFields.push(($t=(Ct=this._selector.node.metadata)===null||Ct===void 0?void 0:Ct.throwOnFieldError)!==null&&$t!==void 0&&$t?{kind:"missing_expected_data.throw",owner:Dt,fieldPath:mt,handled:!1}:{kind:"missing_expected_data.log",owner:Dt,fieldPath:mt}),this._isMissingData=!0,this._clientEdgeTraversalPath.length){var Ft=this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1];Ft!==null&&this._missingClientEdges.push({request:Ft.readerClientEdge.operation,clientEdgeDestinationID:Ft.clientEdgeDestinationID})}}},et._traverse=function(mt,$t,Ct){var Dt=this._recordSource.get($t);if(this._seenRecords.add($t),Dt==null)return Dt===void 0&&this._markDataAsMissing("<record>"),Dt;var Ft=Ct||{},Nt=this._traverseSelections(mt.selections,Dt,Ft);return Nt?Ft:null},et._getVariableValue=function(mt){return this._variables.hasOwnProperty(mt)||invariant$d(!1),this._variables[mt]},et._maybeReportUnexpectedNull=function(mt){if(mt.action!=="NONE"){var $t=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var Ct;if(mt.field.linkedField!=null){var Dt;Ct=(Dt=mt.field.linkedField.alias)!==null&&Dt!==void 0?Dt:mt.field.linkedField.name}else{var Ft;Ct=(Ft=mt.field.alias)!==null&&Ft!==void 0?Ft:mt.field.name}switch(mt.action){case"THROW":this._errorResponseFields.push({kind:"missing_required_field.throw",fieldPath:Ct,owner:$t,handled:!1});return;case"LOG":this._errorResponseFields.push({kind:"missing_required_field.log",fieldPath:Ct,owner:$t});return;default:mt.action}}},et._handleRequiredFieldValue=function(mt,$t){return $t==null?(this._maybeReportUnexpectedNull(mt),!1):!0},et._catchErrors=function(mt,$t,Ct){var Dt=mt;switch($t){case"RESULT":Dt=this._asResult(mt);break;case"NULL":this._errorResponseFields!=null&&this._errorResponseFields.length>0&&(Dt=null);break}var Ft=this._errorResponseFields;if(this._errorResponseFields=Ct,Ft!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);for(var Nt=0;Nt<Ft.length;Nt++)this._errorResponseFields.push(markFieldErrorHasHandled(Ft[Nt]))}return Dt},et._asResult=function(mt){if(this._errorResponseFields==null||this._errorResponseFields.length===0)return{ok:!0,value:mt};var $t=this._errorResponseFields.map(function(Ct){switch(Ct.kind){case"relay_field_payload.error":var Dt=Ct.error;Dt.message;var Ft=(0,_objectWithoutPropertiesLoose2.default)(Dt,_excluded);return Ft;case"missing_expected_data.throw":case"missing_expected_data.log":return{path:Ct.fieldPath.split(".")};case"relay_resolver.error":return{message:"Relay: Error in resolver for field at ".concat(Ct.fieldPath," in ").concat(Ct.owner)};case"missing_required_field.throw":return{message:"Relay: Missing @required value at path '".concat(Ct.fieldPath,"' in '").concat(Ct.owner,"'.")};case"missing_required_field.log":return null;default:Ct.kind,invariant$d(!1)}}).filter(Boolean);return{ok:!1,errors:$t}},et._traverseSelections=function(mt,$t,Ct){for(var Dt=0;Dt<mt.length;Dt++){var Ft=mt[Dt];switch(Ft.kind){case"RequiredField":var Nt=this._readClientSideDirectiveField(Ft,$t,Ct);if(!this._handleRequiredFieldValue(Ft,Nt))return!1;break;case"CatchField":{var jt,Lt,Vt,er=this._errorResponseFields;this._errorResponseFields=null;var ir=this._readClientSideDirectiveField(Ft,$t,Ct),or=(jt=(Lt=Ft.field)===null||Lt===void 0?void 0:Lt.backingField)!==null&&jt!==void 0?jt:Ft.field,lr=(Vt=or==null?void 0:or.alias)!==null&&Vt!==void 0?Vt:or==null?void 0:or.name;lr==null&&invariant$d(!1),Ct[lr]=this._catchErrors(ir,Ft.to,er);break}case"ScalarField":this._readScalar(Ft,$t,Ct);break;case"LinkedField":Ft.plural?this._readPluralLink(Ft,$t,Ct):this._readLink(Ft,$t,Ct);break;case"Condition":var dr=!!this._getVariableValue(Ft.condition);if(dr===Ft.passingValue){var pr=this._traverseSelections(Ft.selections,$t,Ct);if(!pr)return!1}break;case"InlineFragment":{var hr=this._readInlineFragment(Ft,$t,Ct,!1);if(hr===!1)return!1;break}case"RelayLiveResolver":case"RelayResolver":{this._useExecTimeResolvers?this._readScalar(Ft,$t,Ct):this._readResolverField(Ft,$t,Ct);break}case"FragmentSpread":this._createFragmentPointer(Ft,$t,Ct);break;case"AliasedInlineFragmentSpread":{this._readAliasedInlineFragment(Ft,$t,Ct);break}case"ModuleImport":this._readModuleImport(Ft,$t,Ct);break;case"InlineDataFragmentSpread":this._createInlineDataOrResolverFragmentPointer(Ft,$t,Ct);break;case"Defer":case"ClientExtension":{var vr=this._isMissingData,br=this._missingClientEdges.length;this._clientEdgeTraversalPath.push(null);var xr=this._traverseSelections(Ft.selections,$t,Ct);if(this._isMissingData=vr||this._missingClientEdges.length>br||this._missingLiveResolverFields.length>0,this._clientEdgeTraversalPath.pop(),!xr)return!1;break}case"Stream":{var Sr=this._traverseSelections(Ft.selections,$t,Ct);if(!Sr)return!1;break}case"ActorChange":this._readActorChange(Ft,$t,Ct);break;case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":if(this._useExecTimeResolvers&&(Ft.backingField.kind==="RelayResolver"||Ft.backingField.kind==="RelayLiveResolver")){var Er=Ft.linkedField;Er.plural?this._readPluralLink(Er,$t,Ct):this._readLink(Er,$t,Ct)}else this._readClientEdge(Ft,$t,Ct);break;default:invariant$d(!1)}}return!0},et._readClientSideDirectiveField=function(mt,$t,Ct){switch(mt.field.kind){case"ScalarField":return this._readScalar(mt.field,$t,Ct);case"LinkedField":return mt.field.plural?this._readPluralLink(mt.field,$t,Ct):this._readLink(mt.field,$t,Ct);case"RelayResolver":return this._readResolverField(mt.field,$t,Ct);case"RelayLiveResolver":return this._readResolverField(mt.field,$t,Ct);case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":return this._readClientEdge(mt.field,$t,Ct);case"AliasedInlineFragmentSpread":return this._readAliasedInlineFragment(mt.field,$t,Ct);default:mt.field.kind,invariant$d(!1)}},et._readResolverField=function(mt,$t,Ct){var Dt,Ft=RelayModernRecord$7.getDataID($t),Nt=this._errorResponseFields;this._errorResponseFields=null;var jt=this._readResolverFieldImpl(mt,Ft),Lt=(Dt=mt.alias)!==null&&Dt!==void 0?Dt:mt.name;return this._prependPreviousErrors(Nt,Lt),Ct[Lt]=jt,jt},et._readResolverFieldImpl=function(mt,$t){var Ct=this,Dt=mt.fragment,Ft,Nt=function(hr){return Ft!=null?{data:Ft.data,isMissingData:Ft.isMissingData,errorResponseFields:Ft.errorResponseFields}:(Ft=read(Ct._recordSource,hr,Ct._resolverCache),{data:Ft.data,isMissingData:Ft.isMissingData,errorResponseFields:Ft.errorResponseFields})},jt=function(){if(Dt!=null){var hr={__id:$t,__fragmentOwner:Ct._owner,__fragments:(0,_defineProperty2$2.default)({},Dt.name,Dt.args?getArgumentValues$1(Dt.args,Ct._variables):{})},vr={getDataForResolverFragment:Nt};return withResolverContext(vr,function(){var Er=getResolverValue(mt,Ct._variables,hr,Ct._resolverContext),$r=Er[0],Cr=Er[1];return{resolverResult:$r,snapshot:Ft,error:Cr}})}else{var br=getResolverValue(mt,Ct._variables,null,Ct._resolverContext),xr=br[0],Sr=br[1];return{resolverResult:xr,snapshot:void 0,error:Sr}}},Lt=this._resolverCache.readFromCacheOrEvaluate($t,mt,this._variables,jt,Nt),Vt=Lt[0],er=Lt[1],ir=Lt[2],or=Lt[3],lr=Lt[4],dr=Lt[5];return this._propagateResolverMetadata(mt.path,or,ir,er,lr,dr),Vt},et._propagateResolverMetadata=function(mt,$t,Ct,Dt,Ft,Nt){if($t!=null){if($t.missingClientEdges!=null){var jt=(0,_createForOfIteratorHelper2$5.default)($t.missingClientEdges),Lt;try{for(jt.s();!(Lt=jt.n()).done;){var Vt=Lt.value;this._missingClientEdges.push(Vt)}}catch(Cr){jt.e(Cr)}finally{jt.f()}}if($t.missingLiveResolverFields!=null){this._isMissingData=this._isMissingData||$t.missingLiveResolverFields.length>0;var er=(0,_createForOfIteratorHelper2$5.default)($t.missingLiveResolverFields),ir;try{for(er.s();!(ir=er.n()).done;){var or=ir.value;this._missingLiveResolverFields.push(or)}}catch(Cr){er.e(Cr)}finally{er.f()}}if($t.errorResponseFields!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);var lr=(0,_createForOfIteratorHelper2$5.default)($t.errorResponseFields),dr;try{for(lr.s();!(dr=lr.n()).done;){var pr,hr=dr.value;((pr=this._selector.node.metadata)===null||pr===void 0?void 0:pr.throwOnFieldError)===!0?this._errorResponseFields.push(hr):this._errorResponseFields.push(markFieldErrorHasHandled(hr))}}catch(Cr){lr.e(Cr)}finally{lr.f()}}this._isMissingData=this._isMissingData||$t.isMissingData}if(Ct){var vr,br,xr={kind:"relay_resolver.error",fieldPath:mt,owner:this._fragmentName,error:Ct,shouldThrow:(vr=(br=this._selector.node.metadata)===null||br===void 0?void 0:br.throwOnFieldError)!==null&&vr!==void 0?vr:!1,handled:!1};this._errorResponseFields==null?this._errorResponseFields=[xr]:this._errorResponseFields.push(xr)}if(Dt!=null&&this._seenRecords.add(Dt),Ft!=null&&(this._isMissingData=!0,this._missingLiveResolverFields.push(Ft)),Nt!=null){var Sr=(0,_createForOfIteratorHelper2$5.default)(Nt),Er;try{for(Sr.s();!(Er=Sr.n()).done;){var $r=Er.value;this._updatedDataIDs.add($r)}}catch(Cr){Sr.e(Cr)}finally{Sr.f()}}},et._readClientEdge=function(mt,$t,Ct){var Dt=this,Ft,Nt=mt.backingField;Nt.kind==="ClientExtension"&&invariant$d(!1);var jt=(Ft=Nt.alias)!==null&&Ft!==void 0?Ft:Nt.name,Lt={};this._traverseSelections([Nt],$t,Lt);var Vt=Lt[jt];if(Vt==null||isSuspenseSentinel$2(Vt))return Ct[jt]=Vt,Vt;if(mt.linkedField.plural){Array.isArray(Vt)||invariant$d(!1);var er;mt.kind!=="ClientEdgeToClientObject"&&invariant$d(!1),mt.backingField.normalizationInfo==null?er=Vt.map(function(Cr){var kr,gr=(kr=mt.concreteType)!==null&&kr!==void 0?kr:Cr.__typename;typeof gr!="string"&&invariant$d(!1);var Ut=extractIdFromResponse(Cr,Nt.path,Dt._owner.identifier),tr=Dt._resolverCache.ensureClientRecord(Ut,gr),nr=mt.modelResolvers;if(nr!=null){var rr=nr[gr];rr===void 0&&invariant$d(!1);var ar=Dt._readResolverFieldImpl(rr,tr);return ar!=null?tr:null}return tr}):er=Vt.map(function(Cr){return extractIdFromResponse(Cr,Nt.path,Dt._owner.identifier)}),this._clientEdgeTraversalPath.push(null);var ir=this._readLinkedIds(mt.linkedField,er,$t,Ct);return this._clientEdgeTraversalPath.pop(),Ct[jt]=ir,ir}else{var or,lr=extractIdFromResponse(Vt,Nt.path,this._owner.identifier),dr,pr=(or=mt.concreteType)!==null&&or!==void 0?or:Vt.__typename,hr;mt.kind==="ClientEdgeToClientObject"?mt.backingField.normalizationInfo==null?(typeof pr!="string"&&invariant$d(!1),dr=this._resolverCache.ensureClientRecord(lr,pr),hr=null):(dr=lr,hr=null):(dr=lr,hr={readerClientEdge:mt,clientEdgeDestinationID:lr});var vr=mt.modelResolvers;if(vr!=null){typeof pr!="string"&&invariant$d(!1);var br=vr[pr];br===void 0&&invariant$d(!1);var xr=this._readResolverFieldImpl(br,dr);if(xr==null)return Ct[jt]=null,null}this._clientEdgeTraversalPath.push(hr);var Sr=Ct[jt];Sr==null||typeof Sr=="object"||invariant$d(!1);var Er=this._errorResponseFields;this._errorResponseFields=null;var $r=this._traverse(mt.linkedField,dr,Sr);return this._prependPreviousErrors(Er,jt),this._clientEdgeTraversalPath.pop(),Ct[jt]=$r,$r}},et._readScalar=function(mt,$t,Ct){var Dt,Ft=(Dt=mt.alias)!==null&&Dt!==void 0?Dt:mt.name,Nt=getStorageKey$3(mt,this._variables),jt=RelayModernRecord$7.getValue($t,Nt);return jt===null?this._maybeAddErrorResponseFields($t,Nt):jt===void 0&&this._markDataAsMissing(Ft),Ct[Ft]=jt,jt},et._readLink=function(mt,$t,Ct){var Dt,Ft=(Dt=mt.alias)!==null&&Dt!==void 0?Dt:mt.name,Nt=getStorageKey$3(mt,this._variables),jt=RelayModernRecord$7.getLinkedRecordID($t,Nt);if(jt==null)return Ct[Ft]=jt,jt===null?this._maybeAddErrorResponseFields($t,Nt):jt===void 0&&this._markDataAsMissing(Ft),jt;var Lt=Ct[Ft];Lt==null||typeof Lt=="object"||invariant$d(!1);var Vt=this._errorResponseFields;this._errorResponseFields=null;var er=this._traverse(mt,jt,Lt);return this._prependPreviousErrors(Vt,Ft),Ct[Ft]=er,er},et._prependPreviousErrors=function(mt,$t){if(this._errorResponseFields!=null){for(var Ct=0;Ct<this._errorResponseFields.length;Ct++){var Dt=this._errorResponseFields[Ct];Dt.owner===this._fragmentName&&(Dt.kind==="missing_expected_data.throw"||Dt.kind==="missing_expected_data.log"||Dt.kind==="missing_required_field.throw"||Dt.kind==="missing_required_field.log")&&(Dt.fieldPath="".concat($t,".").concat(Dt.fieldPath))}if(mt!=null){for(var Ft=this._errorResponseFields.length-1;Ft>=0;Ft--)mt.push(this._errorResponseFields[Ft]);this._errorResponseFields=mt}}else this._errorResponseFields=mt},et._readActorChange=function(mt,$t,Ct){var Dt,Ft=(Dt=mt.alias)!==null&&Dt!==void 0?Dt:mt.name,Nt=getStorageKey$3(mt,this._variables),jt=RelayModernRecord$7.getActorLinkedRecordID($t,Nt);if(jt==null)return Ct[Ft]=jt,jt===void 0?this._markDataAsMissing(Ft):jt===null&&this._maybeAddErrorResponseFields($t,Nt),Ct[Ft];var Lt=jt[0],Vt=jt[1],er={};return this._createFragmentPointer(mt.fragmentSpread,RelayModernRecord$7.fromObject({__id:Vt}),er),Ct[Ft]={__fragmentRef:er,__viewer:Lt},Ct[Ft]},et._readPluralLink=function(mt,$t,Ct){var Dt=getStorageKey$3(mt,this._variables),Ft=RelayModernRecord$7.getLinkedRecordIDs($t,Dt);return Ft===null&&this._maybeAddErrorResponseFields($t,Dt),this._readLinkedIds(mt,Ft,$t,Ct)},et._readLinkedIds=function(mt,$t,Ct,Dt){var Ft=this,Nt,jt=(Nt=mt.alias)!==null&&Nt!==void 0?Nt:mt.name;if($t==null)return Dt[jt]=$t,$t===void 0&&this._markDataAsMissing(jt),$t;var Lt=Dt[jt];Lt==null||Array.isArray(Lt)||invariant$d(!1);var Vt=this._errorResponseFields;this._errorResponseFields=null;var er=Lt||[];return $t.forEach(function(ir,or){if(ir==null){ir===void 0&&Ft._markDataAsMissing(String(or)),er[or]=ir;return}var lr=er[or];lr==null||typeof lr=="object"||invariant$d(!1);var dr=Ft._errorResponseFields;Ft._errorResponseFields=null,er[or]=Ft._traverse(mt,ir,lr),Ft._prependPreviousErrors(dr,or)}),this._prependPreviousErrors(Vt,jt),Dt[jt]=er,er},et._readModuleImport=function(mt,$t,Ct){var Dt,Ft=getModuleComponentKey$1(mt.documentName),Nt=(Dt=mt.componentModuleProvider)!==null&&Dt!==void 0?Dt:RelayModernRecord$7.getValue($t,Ft);if(Nt==null){Nt===void 0&&this._markDataAsMissing("<module-import>");return}this._createFragmentPointer({kind:"FragmentSpread",name:mt.fragmentName,args:mt.args},$t,Ct),Ct[FRAGMENT_PROP_NAME_KEY]=mt.fragmentPropName,Ct[MODULE_COMPONENT_KEY]=Nt},et._readAliasedInlineFragment=function(mt,$t,Ct){var Dt=this._errorResponseFields;this._errorResponseFields=null;var Ft=this._readInlineFragment(mt.fragment,$t,{},!0);this._prependPreviousErrors(Dt,mt.name),Ft===!1&&(Ft=null),Ct[mt.name]=Ft},et._readInlineFragment=function(mt,$t,Ct,Dt){if(mt.type==null){var Ft=this._traverseSelections(mt.selections,$t,Ct);return Ft===!1?!1:Ct}var Nt=mt.abstractKey;if(Nt==null)if(this._recordMatchesTypeCondition($t,mt.type)){var Ft=this._traverseSelections(mt.selections,$t,Ct);if(!Ft)return!1}else return null;else{var jt=this._implementsInterface($t,Nt);if(jt===!1&&Dt)return null;var Lt=this._isMissingData,Vt=this._isWithinUnmatchedTypeRefinement;this._isWithinUnmatchedTypeRefinement=Vt||jt===!1;var er=this._traverseSelections(mt.selections,$t,Ct);if(this._isWithinUnmatchedTypeRefinement=Vt,jt===!1)return this._isMissingData=Lt,null;if(jt==null)return;if(er===!1)return!1}return Ct},et._recordMatchesTypeCondition=function(mt,$t){var Ct=RelayModernRecord$7.getType(mt);return Ct!=null&&Ct===$t||RelayModernRecord$7.getDataID(mt)===ROOT_ID$2},et._createFragmentPointer=function(mt,$t,Ct){var Dt=Ct[FRAGMENTS_KEY];Dt==null&&(Dt=Ct[FRAGMENTS_KEY]={}),typeof Dt=="object"&&Dt!=null||invariant$d(!1),Ct[ID_KEY]==null&&(Ct[ID_KEY]=RelayModernRecord$7.getDataID($t)),Dt[mt.name]=getArgumentValues$1(mt.args,this._variables,this._isWithinUnmatchedTypeRefinement),Ct[FRAGMENT_OWNER_KEY]=this._owner,this._clientEdgeTraversalPath.length>0&&this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1]!==null&&(Ct[CLIENT_EDGE_TRAVERSAL_PATH]=(0,_toConsumableArray2.default)(this._clientEdgeTraversalPath))},et._createInlineDataOrResolverFragmentPointer=function(mt,$t,Ct){var Dt=Ct[FRAGMENTS_KEY];Dt==null&&(Dt=Ct[FRAGMENTS_KEY]={}),typeof Dt=="object"&&Dt!=null||invariant$d(!1),Ct[ID_KEY]==null&&(Ct[ID_KEY]=RelayModernRecord$7.getDataID($t));var Ft={},Nt=this._fragmentName;this._fragmentName=mt.name;var jt=this._variables,Lt=mt.args?getArgumentValues$1(mt.args,this._variables):{};this._variables=RelayConcreteVariables$1.getFragmentVariables(mt,this._owner.variables,Lt),this._traverseSelections(mt.selections,$t,Ft),this._variables=jt,this._fragmentName=Nt,Dt[mt.name]=Ft},et._implementsInterface=function(mt,$t){var Ct=RelayModernRecord$7.getType(mt),Dt=this._recordSource.get(generateTypeID$2(Ct)),Ft=Dt!=null?RelayModernRecord$7.getValue(Dt,$t):null;return Ft==null&&this._markDataAsMissing("<abstract-type-hint>"),Ft},nt}();function markFieldErrorHasHandled(nt){switch(nt.kind){case"missing_expected_data.throw":case"missing_required_field.throw":case"relay_field_payload.error":case"relay_resolver.error":return(0,_objectSpread2$3.default)((0,_objectSpread2$3.default)({},nt),{},{handled:!0});case"missing_expected_data.log":case"missing_required_field.log":return nt;default:nt.kind,invariant$d(!1)}}function getResolverValue(nt,et,at,mt){var $t=typeof nt.resolverModule=="function"?nt.resolverModule:nt.resolverModule.default,Ct=null,Dt=null;try{var Ft=[];nt.fragment!=null&&Ft.push(at);var Nt=nt.args?getArgumentValues$1(nt.args,et):void 0;Ft.push(Nt),Ft.push(mt),Ct=$t.apply(null,Ft)}catch(jt){Ct=null,jt!==RESOLVER_FRAGMENT_ERRORED_SENTINEL&&(Dt=jt)}return[Ct,Dt]}function extractIdFromResponse(nt,et,at){if(typeof nt=="string")return nt;if(typeof nt=="object"&&nt!=null&&typeof nt.id=="string")return nt.id;invariant$d(!1)}var RelayReader_1={read},_global$ErrorUtils$ap,_global$ErrorUtils,RelayRecordSourceMutator$1=RelayRecordSourceMutator_1,RelayRecordSourceProxy$1=RelayRecordSourceProxy_1,RelayRecordSourceSelectorProxy=RelayRecordSourceSelectorProxy_1,RelayReader$2=RelayReader_1,RelayRecordSource$4=RelayRecordSource_1,invariant$c=browser$1,_global=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,applyWithGuard=(_global$ErrorUtils$ap=_global==null||(_global$ErrorUtils=_global.ErrorUtils)===null||_global$ErrorUtils===void 0?void 0:_global$ErrorUtils.applyWithGuard)!==null&&_global$ErrorUtils$ap!==void 0?_global$ErrorUtils$ap:function(nt,et,at,mt,$t){return nt.apply(et,at)},RelayPublishQueue$1=function(){function nt(at,mt,$t,Ct){this._hasStoreSnapshot=!1,this._handlerProvider=mt||null,this._pendingBackupRebase=!1,this._pendingData=new Set,this._pendingOptimisticUpdates=new Set,this._store=at,this._appliedOptimisticUpdates=new Set,this._gcHold=null,this._getDataID=$t,this._missingFieldHandlers=Ct}var et=nt.prototype;return et.applyUpdate=function(mt){!this._appliedOptimisticUpdates.has(mt)&&!this._pendingOptimisticUpdates.has(mt)||invariant$c(!1),this._pendingOptimisticUpdates.add(mt)},et.revertUpdate=function(mt){this._pendingOptimisticUpdates.has(mt)?this._pendingOptimisticUpdates.delete(mt):this._appliedOptimisticUpdates.has(mt)&&(this._pendingBackupRebase=!0,this._appliedOptimisticUpdates.delete(mt))},et.revertAll=function(){this._pendingBackupRebase=!0,this._pendingOptimisticUpdates.clear(),this._appliedOptimisticUpdates.clear()},et.commitPayload=function(mt,$t,Ct){this._pendingBackupRebase=!0,this._pendingData.add({kind:"payload",operation:mt,payload:$t,updater:Ct})},et.commitUpdate=function(mt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"updater",updater:mt})},et.commitSource=function(mt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"source",source:mt})},et.run=function(mt){var $t=this._appliedOptimisticUpdates===0&&!!this._gcHold,Ct=!this._pendingBackupRebase&&this._pendingOptimisticUpdates.size===0&&!$t;if(Ct)return[];this._pendingBackupRebase&&this._hasStoreSnapshot&&(this._store.restore(),this._hasStoreSnapshot=!1);var Dt=this._commitData();return(this._pendingOptimisticUpdates.size||this._pendingBackupRebase&&this._appliedOptimisticUpdates.size)&&(this._hasStoreSnapshot||(this._store.snapshot(),this._hasStoreSnapshot=!0),this._applyUpdates()),this._pendingBackupRebase=!1,this._appliedOptimisticUpdates.size>0?this._gcHold||(this._gcHold=this._store.holdGC()):this._gcHold&&(this._gcHold.dispose(),this._gcHold=null),this._store.notify(mt,Dt)},et._publishSourceFromPayload=function(mt){var $t=this,Ct=mt.payload,Dt=mt.operation,Ft=mt.updater,Nt=Ct.source,jt=Ct.fieldPayloads,Lt=new RelayRecordSourceMutator$1(this._store.getSource(),Nt),Vt=new RelayRecordSourceProxy$1(Lt,this._getDataID,this._handlerProvider,this._missingFieldHandlers);if(jt&&jt.length&&jt.forEach(function(dr){var pr=$t._handlerProvider&&$t._handlerProvider(dr.handle);pr||invariant$c(!1),pr.update(Vt,dr)}),Ft){var er=Dt.fragment;er==null&&invariant$c(!1);var ir=new RelayRecordSourceSelectorProxy(Lt,Vt,er,this._missingFieldHandlers),or=lookupSelector(Nt,er);Ft(ir,or)}var lr=Vt.getIDsMarkedForInvalidation();return this._store.publish(Nt,lr),Vt.isStoreMarkedForInvalidation()},et._commitData=function(){var mt=this;if(!this._pendingData.size)return!1;var $t=!1;return this._pendingData.forEach(function(Ct){if(Ct.kind==="payload"){var Dt=mt._publishSourceFromPayload(Ct);$t=$t||Dt}else if(Ct.kind==="source"){var Ft=Ct.source;mt._store.publish(Ft)}else{var Nt=Ct.updater,jt=RelayRecordSource$4.create(),Lt=new RelayRecordSourceMutator$1(mt._store.getSource(),jt),Vt=new RelayRecordSourceProxy$1(Lt,mt._getDataID,mt._handlerProvider,mt._missingFieldHandlers);applyWithGuard(Nt,null,[Vt],null,"RelayPublishQueue:commitData"),$t=$t||Vt.isStoreMarkedForInvalidation();var er=Vt.getIDsMarkedForInvalidation();mt._store.publish(jt,er)}}),this._pendingData.clear(),$t},et._applyUpdates=function(){var mt=this,$t=RelayRecordSource$4.create(),Ct=new RelayRecordSourceMutator$1(this._store.getSource(),$t),Dt=new RelayRecordSourceProxy$1(Ct,this._getDataID,this._handlerProvider,this._missingFieldHandlers),Ft=function(jt){if(jt.storeUpdater){var Lt=jt.storeUpdater;applyWithGuard(Lt,null,[Dt],null,"RelayPublishQueue:applyUpdates")}else{var Vt=jt.operation,er=jt.payload,ir=jt.updater,or=er.source,lr=er.fieldPayloads;if(or&&Dt.publishSource(or,lr),ir){var dr;or&&(dr=lookupSelector(or,Vt.fragment));var pr=new RelayRecordSourceSelectorProxy(Ct,Dt,Vt.fragment,mt._missingFieldHandlers);applyWithGuard(ir,null,[pr,dr],null,"RelayPublishQueue:applyUpdates")}}};this._pendingBackupRebase&&this._appliedOptimisticUpdates.size&&this._appliedOptimisticUpdates.forEach(Ft),this._pendingOptimisticUpdates.size&&(this._pendingOptimisticUpdates.forEach(function(Nt){Ft(Nt),mt._appliedOptimisticUpdates.add(Nt)}),this._pendingOptimisticUpdates.clear()),this._store.publish($t)},nt}();function lookupSelector(nt,et){var at=RelayReader$2.read(nt,et).data;return at}var RelayPublishQueue_1=RelayPublishQueue$1,_interopRequireDefault$8=interopRequireDefaultExports.default,_objectSpread2$2=_interopRequireDefault$8(objectSpread2Exports),RelayDefaultHandlerProvider$1=RelayDefaultHandlerProvider_1,_require$c=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1=_require$c.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier$1=_require$c.assertInternalActorIdentifier,RelayObservable$1=RelayObservable_1,wrapNetworkWithLogObserver=wrapNetworkWithLogObserver_1,RelayOperationTracker$1=RelayOperationTracker_1,registerEnvironmentWithDevTools=registerEnvironmentWithDevTools_1,defaultGetDataID$1=defaultGetDataID_1,defaultRelayFieldLogger=defaultRelayFieldLogger_1,normalizeResponse$1=normalizeResponse_1,OperationExecutor=OperationExecutor$1,RelayPublishQueue=RelayPublishQueue_1,RelayRecordSource$3=RelayRecordSource_1,RelayModernEnvironment$1=function(){function nt(at){var mt=this,$t,Ct,Dt,Ft,Nt,jt,Lt,Vt,er,ir;this.configName=at.configName,this._treatMissingFieldsAsNull=at.treatMissingFieldsAsNull===!0;var or=at.operationLoader;this.__log=($t=at.log)!==null&&$t!==void 0?$t:emptyFunction,this.relayFieldLogger=(Ct=at.relayFieldLogger)!==null&&Ct!==void 0?Ct:defaultRelayFieldLogger,this._defaultRenderPolicy=(Dt=at.UNSTABLE_defaultRenderPolicy)!==null&&Dt!==void 0?Dt:"partial",this._operationLoader=or,this._operationExecutions=new Map,this._network=wrapNetworkWithLogObserver(this,at.network),this._getDataID=(Ft=at.getDataID)!==null&&Ft!==void 0?Ft:defaultGetDataID$1,this._missingFieldHandlers=(Nt=at.missingFieldHandlers)!==null&&Nt!==void 0?Nt:[],this._publishQueue=new RelayPublishQueue(at.store,(jt=at.handlerProvider)!==null&&jt!==void 0?jt:RelayDefaultHandlerProvider$1,this._getDataID,this._missingFieldHandlers),this._scheduler=(Lt=at.scheduler)!==null&&Lt!==void 0?Lt:null,this._store=at.store,this.options=at.options,this._isServer=(Vt=at.isServer)!==null&&Vt!==void 0?Vt:!1,this._normalizeResponse=(er=at.normalizeResponse)!==null&&er!==void 0?er:normalizeResponse$1,this.__setNet=function(lr){return mt._network=wrapNetworkWithLogObserver(mt,lr)},this._operationTracker=(ir=at.operationTracker)!==null&&ir!==void 0?ir:new RelayOperationTracker$1,this._shouldProcessClientComponents=at.shouldProcessClientComponents,registerEnvironmentWithDevTools(this)}var et=nt.prototype;return et.getStore=function(){return this._store},et.getNetwork=function(){return this._network},et.getOperationTracker=function(){return this._operationTracker},et.getScheduler=function(){return this._scheduler},et.isRequestActive=function(mt){var $t=this._operationExecutions.get(mt);return $t==="active"},et.UNSTABLE_getDefaultRenderPolicy=function(){return this._defaultRenderPolicy},et.applyUpdate=function(mt){var $t=this,Ct=function(){$t._scheduleUpdates(function(){$t._publishQueue.revertUpdate(mt),$t._publishQueue.run()})};return this._scheduleUpdates(function(){$t._publishQueue.applyUpdate(mt),$t._publishQueue.run()}),{dispose:Ct}},et.revertUpdate=function(mt){var $t=this;this._scheduleUpdates(function(){$t._publishQueue.revertUpdate(mt),$t._publishQueue.run()})},et.replaceUpdate=function(mt,$t){var Ct=this;this._scheduleUpdates(function(){Ct._publishQueue.revertUpdate(mt),Ct._publishQueue.applyUpdate($t),Ct._publishQueue.run()})},et.applyMutation=function(mt){var $t=this._execute({createSource:function(){return RelayObservable$1.create(function(Dt){})},isClientPayload:!1,operation:mt.operation,optimisticConfig:mt,updater:null}).subscribe({});return{dispose:function(){return $t.unsubscribe()}}},et.check=function(mt){return this._missingFieldHandlers.length===0&&!operationHasClientAbstractTypes(mt)?this._store.check(mt):this._checkSelectorAndHandleMissingFields(mt,this._missingFieldHandlers)},et.commitPayload=function(mt,$t){this._execute({createSource:function(){return RelayObservable$1.from({data:$t})},isClientPayload:!0,operation:mt,optimisticConfig:null,updater:null}).subscribe({})},et.commitUpdate=function(mt){var $t=this;this._scheduleUpdates(function(){$t._publishQueue.commitUpdate(mt),$t._publishQueue.run()})},et.lookup=function(mt){return this._store.lookup(mt)},et.subscribe=function(mt,$t){return this._store.subscribe(mt,$t)},et.retain=function(mt){return this._store.retain(mt)},et.isServer=function(){return this._isServer},et._checkSelectorAndHandleMissingFields=function(mt,$t){var Ct=this,Dt=RelayRecordSource$3.create(),Ft=this._store.getSource(),Nt=this._store.check(mt,{handlers:$t,defaultActorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getSourceForActor:function(Lt){return assertInternalActorIdentifier$1(Lt),Ft},getTargetForActor:function(Lt){return assertInternalActorIdentifier$1(Lt),Dt}});return Dt.size()>0&&this._scheduleUpdates(function(){Ct._publishQueue.commitSource(Dt),Ct._publishQueue.run()}),Nt},et._scheduleUpdates=function(mt){var $t=this._scheduler;$t!=null?$t.schedule(mt):mt()},et.execute=function(mt){var $t=this,Ct=mt.operation;return this._execute({createSource:function(){return $t.getNetwork().execute(Ct.request.node.params,Ct.request.variables,Ct.request.cacheConfig||{},null)},isClientPayload:!1,operation:Ct,optimisticConfig:null,updater:null})},et.executeSubscription=function(mt){var $t=this,Ct=mt.operation,Dt=mt.updater;return this._execute({createSource:function(){return $t.getNetwork().execute(Ct.request.node.params,Ct.request.variables,Ct.request.cacheConfig||{},null)},isClientPayload:!1,operation:Ct,optimisticConfig:null,updater:Dt})},et.executeMutation=function(mt){var $t=this,Ct=mt.operation,Dt=mt.optimisticResponse,Ft=mt.optimisticUpdater,Nt=mt.updater,jt=mt.uploadables,Lt;return(Dt||Ft)&&(Lt={operation:Ct,response:Dt,updater:Ft}),this._execute({createSource:function(){return $t.getNetwork().execute(Ct.request.node.params,Ct.request.variables,(0,_objectSpread2$2.default)((0,_objectSpread2$2.default)({},Ct.request.cacheConfig),{},{force:!0}),jt)},isClientPayload:!1,operation:Ct,optimisticConfig:Lt,updater:Nt})},et.executeWithSource=function(mt){var $t=mt.operation,Ct=mt.source;return this._execute({createSource:function(){return Ct},isClientPayload:!1,operation:$t,optimisticConfig:null,updater:null})},et.toJSON=function(){var mt;return"RelayModernEnvironment(".concat((mt=this.configName)!==null&&mt!==void 0?mt:"",")")},et._execute=function(mt){var $t=this,Ct=mt.createSource,Dt=mt.isClientPayload,Ft=mt.operation,Nt=mt.optimisticConfig,jt=mt.updater,Lt=this._publishQueue,Vt=this._store;return RelayObservable$1.create(function(er){var ir=OperationExecutor.execute({actorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getDataID:$t._getDataID,isClientPayload:Dt,log:$t.__log,operation:Ft,operationExecutions:$t._operationExecutions,operationLoader:$t._operationLoader,operationTracker:$t._operationTracker,optimisticConfig:Nt,getPublishQueue:function(lr){return assertInternalActorIdentifier$1(lr),Lt},scheduler:$t._scheduler,shouldProcessClientComponents:$t._shouldProcessClientComponents,sink:er,source:Ct(),getStore:function(lr){return assertInternalActorIdentifier$1(lr),Vt},treatMissingFieldsAsNull:$t._treatMissingFieldsAsNull,updater:jt,normalizeResponse:$t._normalizeResponse});return function(){return ir.cancel()}})},nt}();function operationHasClientAbstractTypes(nt){return nt.root.node.kind==="Operation"&&nt.root.node.clientAbstractTypes!=null}RelayModernEnvironment$1.prototype["@@RelayModernEnvironment"]=!0;function emptyFunction(){}var RelayModernEnvironment_1=RelayModernEnvironment$1,resolvedPromise=Promise.resolve();function resolveImmediate$1(nt){resolvedPromise.then(nt).catch(throwNext)}function throwNext(nt){setTimeout(function(){throw nt},0)}var resolveImmediate_1=resolveImmediate$1,_require$b=RelayConcreteNode_1,LINKED_FIELD=_require$b.LINKED_FIELD,_require2$9=RelayStoreUtils_1,getHandleStorageKey$1=_require2$9.getHandleStorageKey,areEqual$1=areEqual_1,invariant$b=browser$1;function cloneRelayHandleSourceField$2(nt,et,at){var mt=et.find(function(Ct){return Ct.kind===LINKED_FIELD&&Ct.name===nt.name&&Ct.alias===nt.alias&&areEqual$1(Ct.args,nt.args)});mt&&mt.kind===LINKED_FIELD||invariant$b(!1);var $t=getHandleStorageKey$1(nt,at);return{kind:"LinkedField",alias:mt.alias,name:$t,storageKey:$t,args:null,concreteType:mt.concreteType,plural:mt.plural,selections:mt.selections}}var cloneRelayHandleSourceField_1=cloneRelayHandleSourceField$2,_require$a=RelayConcreteNode_1,SCALAR_FIELD=_require$a.SCALAR_FIELD,_require2$8=RelayStoreUtils_1,getHandleStorageKey=_require2$8.getHandleStorageKey,areEqual=areEqual_1,invariant$a=browser$1;function cloneRelayScalarHandleSourceField$1(nt,et,at){var mt=et.find(function(Ct){return Ct.kind===SCALAR_FIELD&&Ct.name===nt.name&&Ct.alias===nt.alias&&areEqual(Ct.args,nt.args)});mt&&mt.kind===SCALAR_FIELD||invariant$a(!1);var $t=getHandleStorageKey(nt,at);return{kind:"ScalarField",alias:mt.alias,name:$t,storageKey:$t,args:null}}var cloneRelayScalarHandleSourceField_1=cloneRelayScalarHandleSourceField$1,_interopRequireDefault$7=interopRequireDefaultExports.default,_createForOfIteratorHelper2$4=_interopRequireDefault$7(createForOfIteratorHelperExports),RelayRecordSourceMutator=RelayRecordSourceMutator_1,RelayRecordSourceProxy=RelayRecordSourceProxy_1,getOperation$1=getOperation_1,_require$9=ClientID,isClientID$1=_require$9.isClientID,cloneRelayHandleSourceField$1=cloneRelayHandleSourceField_1,cloneRelayScalarHandleSourceField=cloneRelayScalarHandleSourceField_1,_require2$7=RelayConcreteVariables$2,getLocalVariables$1=_require2$7.getLocalVariables,RelayModernRecord$6=RelayModernRecord$d,_require3$5=RelayRecordState_1,EXISTENT=_require3$5.EXISTENT,UNKNOWN=_require3$5.UNKNOWN,RelayStoreUtils$3=RelayStoreUtils_1,_require4$2=TypeID,TYPE_SCHEMA_TYPE=_require4$2.TYPE_SCHEMA_TYPE,generateTypeID$1=_require4$2.generateTypeID,invariant$9=browser$1,getModuleOperationKey$2=RelayStoreUtils$3.getModuleOperationKey,getStorageKey$2=RelayStoreUtils$3.getStorageKey,getArgumentValues=RelayStoreUtils$3.getArgumentValues;function check(nt,et,at,mt,$t,Ct,Dt,Ft,Nt){Nt!=null&&Nt({name:"store.datachecker.start",selector:mt});var jt=mt.dataID,Lt=mt.node,Vt=mt.variables,er=new DataChecker$1(nt,et,at,Vt,$t,Ct,Dt,Ft),ir=er.check(Lt,jt);return Nt!=null&&Nt({name:"store.datachecker.end",selector:mt}),ir}var DataChecker$1=function(){function nt(at,mt,$t,Ct,Dt,Ft,Nt,jt){this._getSourceForActor=at,this._getTargetForActor=mt,this._getDataID=Nt,this._source=at($t),this._mutatorRecordSourceProxyCache=new Map;var Lt=this._getMutatorAndRecordProxyForActor($t),Vt=Lt[0],er=Lt[1];this._mostRecentlyInvalidatedAt=null,this._handlers=Dt,this._mutator=Vt,this._operationLoader=Ft??null,this._recordSourceProxy=er,this._recordWasMissing=!1,this._variables=Ct,this._shouldProcessClientComponents=jt}var et=nt.prototype;return et._getMutatorAndRecordProxyForActor=function(mt){var $t=this._mutatorRecordSourceProxyCache.get(mt);if($t==null){var Ct=this._getTargetForActor(mt),Dt=new RelayRecordSourceMutator(this._getSourceForActor(mt),Ct),Ft=new RelayRecordSourceProxy(Dt,this._getDataID,void 0,this._handlers);$t=[Dt,Ft],this._mutatorRecordSourceProxyCache.set(mt,$t)}return $t},et.check=function(mt,$t){return this._assignClientAbstractTypes(mt),this._traverse(mt,$t),this._recordWasMissing===!0?{status:"missing",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}:{status:"available",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}},et._getVariableValue=function(mt){return this._variables.hasOwnProperty(mt)||invariant$9(!1),this._variables[mt]},et._handleMissing=function(){this._recordWasMissing=!0},et._handleMissingScalarField=function(mt,$t){if(!(mt.name==="id"&&mt.alias==null&&isClientID$1($t))){var Ct=mt.args!=null?getArgumentValues(mt.args,this._variables):{},Dt=(0,_createForOfIteratorHelper2$4.default)(this._handlers),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var Nt=Ft.value;if(Nt.kind==="scalar"){var jt=Nt.handle(mt,this._recordSourceProxy.get($t),Ct,this._recordSourceProxy);if(jt!==void 0)return jt}}}catch(Lt){Dt.e(Lt)}finally{Dt.f()}this._handleMissing()}},et._handleMissingLinkField=function(mt,$t){var Ct=mt.args!=null?getArgumentValues(mt.args,this._variables):{},Dt=(0,_createForOfIteratorHelper2$4.default)(this._handlers),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var Nt=Ft.value;if(Nt.kind==="linked"){var jt=Nt.handle(mt,this._recordSourceProxy.get($t),Ct,this._recordSourceProxy);if(jt!==void 0&&(jt===null||this._mutator.getStatus(jt)===EXISTENT))return jt}}}catch(Lt){Dt.e(Lt)}finally{Dt.f()}this._handleMissing()},et._handleMissingPluralLinkField=function(mt,$t){var Ct=this,Dt=mt.args!=null?getArgumentValues(mt.args,this._variables):{},Ft=(0,_createForOfIteratorHelper2$4.default)(this._handlers),Nt;try{for(Ft.s();!(Nt=Ft.n()).done;){var jt=Nt.value;if(jt.kind==="pluralLinked"){var Lt=jt.handle(mt,this._recordSourceProxy.get($t),Dt,this._recordSourceProxy);if(Lt!=null){var Vt=Lt.every(function(er){return er!=null&&Ct._mutator.getStatus(er)===EXISTENT});if(Vt)return Lt}else if(Lt===null)return null}}}catch(er){Ft.e(er)}finally{Ft.f()}this._handleMissing()},et._traverse=function(mt,$t){var Ct=this._mutator.getStatus($t);if(Ct===UNKNOWN&&this._handleMissing(),Ct===EXISTENT){var Dt=this._source.get($t),Ft=RelayModernRecord$6.getInvalidationEpoch(Dt);Ft!=null&&(this._mostRecentlyInvalidatedAt=this._mostRecentlyInvalidatedAt!=null?Math.max(this._mostRecentlyInvalidatedAt,Ft):Ft),this._traverseSelections(mt.selections,$t)}},et._traverseSelections=function(mt,$t){var Ct=this;mt.forEach(function(Dt){switch(Dt.kind){case"ScalarField":Ct._checkScalar(Dt,$t);break;case"LinkedField":Dt.plural?Ct._checkPluralLink(Dt,$t):Ct._checkLink(Dt,$t);break;case"ActorChange":Ct._checkActorChange(Dt.linkedField,$t);break;case"Condition":var Ft=!!Ct._getVariableValue(Dt.condition);Ft===Dt.passingValue&&Ct._traverseSelections(Dt.selections,$t);break;case"InlineFragment":{var Nt=Dt.abstractKey;if(Nt==null){var jt=Ct._mutator.getType($t);jt===Dt.type&&Ct._traverseSelections(Dt.selections,$t)}else{var Lt=Ct._mutator.getType($t);Lt==null&&invariant$9(!1);var Vt=generateTypeID$1(Lt),er=Ct._mutator.getValue(Vt,Nt);er===!0?Ct._traverseSelections(Dt.selections,$t):er==null&&Ct._handleMissing()}break}case"LinkedHandle":{var ir=cloneRelayHandleSourceField$1(Dt,mt,Ct._variables);ir.plural?Ct._checkPluralLink(ir,$t):Ct._checkLink(ir,$t);break}case"ScalarHandle":{var or=cloneRelayScalarHandleSourceField(Dt,mt,Ct._variables);Ct._checkScalar(or,$t);break}case"ModuleImport":Ct._checkModuleImport(Dt,$t);break;case"Defer":case"Stream":Ct._traverseSelections(Dt.selections,$t);break;case"FragmentSpread":var lr=Ct._variables;Ct._variables=getLocalVariables$1(Ct._variables,Dt.fragment.argumentDefinitions,Dt.args),Ct._traverseSelections(Dt.fragment.selections,$t),Ct._variables=lr;break;case"ClientExtension":var dr=Ct._recordWasMissing;Ct._traverseSelections(Dt.selections,$t),Ct._recordWasMissing=dr;break;case"TypeDiscriminator":var pr=Dt.abstractKey,hr=Ct._mutator.getType($t);hr==null&&invariant$9(!1);var vr=generateTypeID$1(hr),br=Ct._mutator.getValue(vr,pr);br==null&&Ct._handleMissing();break;case"ClientComponent":if(Ct._shouldProcessClientComponents===!1)break;Ct._traverseSelections(Dt.fragment.selections,$t);break;case"RelayResolver":Ct._checkResolver(Dt,$t);break;case"RelayLiveResolver":Ct._checkResolver(Dt,$t);break;case"ClientEdgeToClientObject":Ct._checkResolver(Dt.backingField,$t);break;default:invariant$9(!1)}})},et._checkResolver=function(mt,$t){mt.fragment&&this._traverseSelections([mt.fragment],$t)},et._checkModuleImport=function(mt,$t){var Ct=this._operationLoader;Ct===null&&invariant$9(!1);var Dt=getModuleOperationKey$2(mt.documentName),Ft=this._mutator.getValue($t,Dt);if(Ft==null){Ft===void 0&&this._handleMissing();return}var Nt=Ct.get(Ft);if(Nt!=null){var jt=getOperation$1(Nt),Lt=this._variables;this._variables=getLocalVariables$1(this._variables,jt.argumentDefinitions,mt.args),this._traverse(jt,$t),this._variables=Lt}else this._handleMissing()},et._checkScalar=function(mt,$t){var Ct=getStorageKey$2(mt,this._variables),Dt=this._mutator.getValue($t,Ct);Dt===void 0&&(Dt=this._handleMissingScalarField(mt,$t),Dt!==void 0&&this._mutator.setValue($t,Ct,Dt))},et._checkLink=function(mt,$t){var Ct=getStorageKey$2(mt,this._variables),Dt=this._mutator.getLinkedRecordID($t,Ct);Dt===void 0&&(Dt=this._handleMissingLinkField(mt,$t),Dt!=null?this._mutator.setLinkedRecordID($t,Ct,Dt):Dt===null&&this._mutator.setValue($t,Ct,null)),Dt!=null&&this._traverse(mt,Dt)},et._checkPluralLink=function(mt,$t){var Ct=this,Dt=getStorageKey$2(mt,this._variables),Ft=this._mutator.getLinkedRecordIDs($t,Dt);Ft===void 0&&(Ft=this._handleMissingPluralLinkField(mt,$t),Ft!=null?this._mutator.setLinkedRecordIDs($t,Dt,Ft):Ft===null&&this._mutator.setValue($t,Dt,null)),Ft&&Ft.forEach(function(Nt){Nt!=null&&Ct._traverse(mt,Nt)})},et._checkActorChange=function(mt,$t){var Ct=getStorageKey$2(mt,this._variables),Dt=this._source.get($t),Ft=Dt!=null?RelayModernRecord$6.getActorLinkedRecordID(Dt,Ct):Dt;if(Ft==null)Ft===void 0&&this._handleMissing();else{var Nt=Ft[0],jt=Ft[1],Lt=this._source,Vt=this._mutator,er=this._recordSourceProxy,ir=this._getMutatorAndRecordProxyForActor(Nt),or=ir[0],lr=ir[1];this._source=this._getSourceForActor(Nt),this._mutator=or,this._recordSourceProxy=lr,this._assignClientAbstractTypes(mt),this._traverse(mt,jt),this._source=Lt,this._mutator=Vt,this._recordSourceProxy=er}},et._assignClientAbstractTypes=function(mt){var $t=mt.clientAbstractTypes;if($t!=null)for(var Ct=0,Dt=Object.keys($t);Ct<Dt.length;Ct++){var Ft=Dt[Ct],Nt=(0,_createForOfIteratorHelper2$4.default)($t[Ft]),jt;try{for(Nt.s();!(jt=Nt.n()).done;){var Lt=jt.value,Vt=generateTypeID$1(Lt);this._source.get(Vt)==null&&this._mutator.create(Vt,TYPE_SCHEMA_TYPE),this._mutator.getValue(Vt,Ft)==null&&this._mutator.setValue(Vt,Ft,!0)}}catch(er){Nt.e(er)}finally{Nt.f()}}},nt}(),DataChecker_1={check},shallowFreeze$1=function nt(et){typeof et=="object"&&et!=null&&(Array.isArray(et)||et.constructor===Object)&&Object.freeze(et)},RelayModernRecord$5=RelayModernRecord$d,_require$8=RelayStoreUtils_1,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1=_require$8.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,invariant$8=browser$1;function getOutputTypeRecordIDs$2(nt){var et=RelayModernRecord$5.getValue(nt,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1);return et==null?null:(et instanceof Set||invariant$8(!1),et)}var getOutputTypeRecordIDs_1=getOutputTypeRecordIDs$2;function isLiveStateValue$1(nt){return nt!=null&&typeof nt=="object"&&typeof nt.read=="function"&&typeof nt.subscribe=="function"}var isLiveStateValue_1=isLiveStateValue$1,_interopRequireDefault$6=interopRequireDefaultExports.default,_createForOfIteratorHelper2$3=_interopRequireDefault$6(createForOfIteratorHelperExports),recycleNodesInto$2=recycleNodesInto_1,_require$7=RelayConcreteNode_1,RELAY_LIVE_RESOLVER=_require$7.RELAY_LIVE_RESOLVER,RelayFeatureFlags$3=RelayFeatureFlags_1,shallowFreeze=shallowFreeze$1,_require2$6=ClientID,generateClientID$1=_require2$6.generateClientID,generateClientObjectClientID=_require2$6.generateClientObjectClientID,RelayModernRecord$4=RelayModernRecord$d,_require3$4=RelayModernSelector$1,createNormalizationSelector=_require3$4.createNormalizationSelector,RelayRecordSource$2=RelayRecordSource_1,_require4$1=RelayResponseNormalizer_1,normalize$1=_require4$1.normalize,_require5$1=RelayStoreUtils_1,RELAY_RESOLVER_ERROR_KEY=_require5$1.RELAY_RESOLVER_ERROR_KEY,RELAY_RESOLVER_INVALIDATION_KEY=_require5$1.RELAY_RESOLVER_INVALIDATION_KEY,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS=_require5$1.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,RELAY_RESOLVER_SNAPSHOT_KEY=_require5$1.RELAY_RESOLVER_SNAPSHOT_KEY,RELAY_RESOLVER_VALUE_KEY=_require5$1.RELAY_RESOLVER_VALUE_KEY,getStorageKey$1=_require5$1.getStorageKey,getOutputTypeRecordIDs$1=getOutputTypeRecordIDs_1,isLiveStateValue=isLiveStateValue_1,_require6=LiveResolverSuspenseSentinel,isSuspenseSentinel$1=_require6.isSuspenseSentinel,invariant$7=browser$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1="__resolverLiveStateSubscription",RELAY_RESOLVER_LIVE_STATE_VALUE="__resolverLiveStateValue",RELAY_RESOLVER_LIVE_STATE_DIRTY="__resolverLiveStateDirty",RELAY_RESOLVER_RECORD_TYPENAME="__RELAY_RESOLVER__",MODEL_PROPERTY_NAME="__relay_model_instance";function addDependencyEdge(nt,et,at){var mt=nt.get(et);mt||(mt=new Set,nt.set(et,mt)),mt.add(at)}var LiveResolverCache$1=function(){function nt(at,mt){this._resolverIDToRecordIDs=new Map,this._recordIDToResolverIDs=new Map,this._getRecordSource=at,this._store=mt,this._handlingBatch=!1,this._liveResolverBatchRecordSource=null}var et=nt.prototype;return et.readFromCacheOrEvaluate=function(mt,$t,Ct,Dt,Ft){var Nt=this._getRecordSource(),jt=expectRecord(Nt,mt),Lt=getStorageKey$1($t,Ct),Vt=RelayModernRecord$4.getLinkedRecordID(jt,Lt),er=Vt==null?null:Nt.get(Vt),ir;if(er==null||this._isInvalid(er,Ft)){var or;er!=null&&maybeUnsubscribeFromLiveState(er),Vt=(or=Vt)!==null&&or!==void 0?or:generateClientID$1(mt,Lt),er=RelayModernRecord$4.create(Vt,RELAY_RESOLVER_RECORD_TYPENAME);var lr=Dt();if(RelayModernRecord$4.setValue(er,RELAY_RESOLVER_SNAPSHOT_KEY,lr.snapshot),RelayModernRecord$4.setValue(er,RELAY_RESOLVER_ERROR_KEY,lr.error),$t.kind===RELAY_LIVE_RESOLVER){if(lr.resolverResult!=null){lr.error!=null&&invariant$7(!1);var dr=lr.resolverResult;ir=this._setLiveStateValue(er,Vt,dr,$t,Ct)}}else ir=this._setResolverValue(er,lr.resolverResult,$t,Ct);Nt.set(Vt,er);var pr=expectRecord(Nt,mt),hr=RelayModernRecord$4.clone(pr);if(RelayModernRecord$4.setLinkedRecordID(hr,Lt,Vt),Nt.set(mt,hr),$t.fragment!=null){var vr,br=getStorageKey$1($t.fragment,Ct),xr=generateClientID$1(mt,br);addDependencyEdge(this._resolverIDToRecordIDs,xr,Vt),addDependencyEdge(this._recordIDToResolverIDs,mt,xr);var Sr=(vr=lr.snapshot)===null||vr===void 0?void 0:vr.seenRecords;if(Sr!=null){var Er=(0,_createForOfIteratorHelper2$3.default)(Sr),$r;try{for(Er.s();!($r=Er.n()).done;){var Cr=$r.value;addDependencyEdge(this._recordIDToResolverIDs,Cr,xr)}}catch(cr){Er.e(cr)}finally{Er.f()}}}}else if($t.kind===RELAY_LIVE_RESOLVER&&RelayModernRecord$4.getValue(er,RELAY_RESOLVER_LIVE_STATE_DIRTY)){var kr;Vt=(kr=Vt)!==null&&kr!==void 0?kr:generateClientID$1(mt,Lt),er=RelayModernRecord$4.clone(er);var gr=RelayModernRecord$4.getValue(er,RELAY_RESOLVER_LIVE_STATE_VALUE);isLiveStateValue(gr)||invariant$7(!1),ir=this._setLiveResolverValue(er,gr,$t,Ct),RelayModernRecord$4.setValue(er,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),Nt.set(Vt,er)}var Ut=this._getResolverValue(er),tr=RelayModernRecord$4.getValue(er,RELAY_RESOLVER_SNAPSHOT_KEY),nr=RelayModernRecord$4.getValue(er,RELAY_RESOLVER_ERROR_KEY),rr=null;if(isSuspenseSentinel$1(Ut)){var ar;rr=(ar=Vt)!==null&&ar!==void 0?ar:generateClientID$1(mt,Lt)}return[Ut,Vt,nr,tr,rr,ir]},et.getLiveResolverPromise=function(mt){var $t=this._getRecordSource(),Ct=$t.get(mt);Ct==null&&invariant$7(!1);var Dt=RelayModernRecord$4.getValue(Ct,RELAY_RESOLVER_LIVE_STATE_VALUE);return new Promise(function(Ft){var Nt=Dt.subscribe(function(){Nt(),Ft()})})},et._setLiveStateValue=function(mt,$t,Ct,Dt,Ft){var Nt=this._makeLiveStateHandler($t),jt=Ct.subscribe(Nt);RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_LIVE_STATE_VALUE,Ct);var Lt=this._setLiveResolverValue(mt,Ct,Dt,Ft);return RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1,jt),Lt},et._makeLiveStateHandler=function(mt){var $t=this;return function(){var Ct=$t._getRecordSource(),Dt=Ct.get(mt);if(Dt&&RelayModernRecord$4.hasValue(Dt,RELAY_RESOLVER_LIVE_STATE_VALUE)){var Ft=RelayModernRecord$4.clone(Dt);RelayModernRecord$4.setValue(Ft,RELAY_RESOLVER_LIVE_STATE_DIRTY,!0),$t._setLiveResolverUpdate(mt,Ft)}}},et._setLiveResolverUpdate=function(mt,$t){if(this._handlingBatch)this._liveResolverBatchRecordSource==null&&(this._liveResolverBatchRecordSource=RelayRecordSource$2.create()),this._liveResolverBatchRecordSource.set(mt,$t);else{var Ct=RelayRecordSource$2.create();Ct.set(mt,$t),this._store.publish(Ct),this._store.notify()}},et.batchLiveStateUpdates=function(mt){this._handlingBatch&&invariant$7(!1),this._handlingBatch=!0;try{mt()}finally{this._liveResolverBatchRecordSource!=null&&(this._store.publish(this._liveResolverBatchRecordSource),this._store.notify()),this._liveResolverBatchRecordSource=null,this._handlingBatch=!1}},et._setLiveResolverValue=function(mt,$t,Ct,Dt){var Ft=null,Nt=null;try{Ft=$t.read()}catch(jt){Nt=jt}return RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_ERROR_KEY,Nt),this._setResolverValue(mt,Ft,Ct,Dt)},et._setResolverValue=function(mt,$t,Ct,Dt){var Ft=Ct.normalizationInfo,Nt=null;if($t!=null&&Ft!=null&&!isSuspenseSentinel$1($t)){var jt,Lt=getOutputTypeRecordIDs$1(mt),Vt=new Set,er=this._getRecordSource();if(Ft.plural){Array.isArray($t)||invariant$7(!1),jt=[];for(var ir=RelayRecordSource$2.create(),or=0;or<$t.length;or++){var lr=$t[or];if(lr!=null){typeof lr!="object"&&invariant$7(!1);var dr=getConcreteTypename(Ft,lr),pr=generateClientObjectClientID(dr,RelayModernRecord$4.getDataID(mt),or),hr=this._normalizeOutputTypeValue(pr,lr,Dt,Ft,[Ct.path,String(or)],dr),vr=(0,_createForOfIteratorHelper2$3.default)(hr.getRecordIDs()),br;try{for(vr.s();!(br=vr.n()).done;){var xr=br.value;ir.set(xr,expectRecord(hr,xr)),Vt.add(xr)}}catch(Ut){vr.e(Ut)}finally{vr.f()}jt.push(pr)}}Nt=updateCurrentSource(er,ir,Lt)}else{typeof $t!="object"&&invariant$7(!1);var Sr=getConcreteTypename(Ft,$t),Er=generateClientObjectClientID(Sr,RelayModernRecord$4.getDataID(mt)),$r=this._normalizeOutputTypeValue(Er,$t,Dt,Ft,[Ct.path],Sr),Cr=(0,_createForOfIteratorHelper2$3.default)($r.getRecordIDs()),kr;try{for(Cr.s();!(kr=Cr.n()).done;){var gr=kr.value;Vt.add(gr)}}catch(Ut){Cr.e(Ut)}finally{Cr.f()}jt=Er,Nt=updateCurrentSource(er,$r,Lt)}RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,Vt),shallowFreeze(jt),RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_VALUE_KEY,jt)}else shallowFreeze($t),RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_VALUE_KEY,$t);return Nt},et.notifyUpdatedSubscribers=function(mt){this._store.__notifyUpdatedSubscribers(mt)},et._getResolverValue=function(mt){return RelayModernRecord$4.getValue(mt,RELAY_RESOLVER_VALUE_KEY)},et.invalidateDataIDs=function(mt){for(var $t=this._getRecordSource(),Ct=new Set,Dt=Array.from(mt);Dt.length;){var Ft=Dt.pop();Ct.add(Ft),mt.add(Ft);var Nt=this._recordIDToResolverIDs.get(Ft);if(Nt!=null){var jt=(0,_createForOfIteratorHelper2$3.default)(Nt),Lt;try{for(jt.s();!(Lt=jt.n()).done;){var Vt=Lt.value;if(!Ct.has(Vt)){Ct.add(Vt);var er=this._resolverIDToRecordIDs.get(Vt);if(er==null)continue;var ir=(0,_createForOfIteratorHelper2$3.default)(er),or;try{for(ir.s();!(or=ir.n()).done;){var lr=or.value;markInvalidatedResolverRecord(lr,$t),Ct.has(lr)||(Ct.add(lr),Dt.push(lr))}}catch(dr){ir.e(dr)}finally{ir.f()}}}}catch(dr){jt.e(dr)}finally{jt.f()}}}},et._isInvalid=function(mt,$t){if(!RelayModernRecord$4.getValue(mt,RELAY_RESOLVER_INVALIDATION_KEY))return!1;var Ct=RelayModernRecord$4.getValue(mt,RELAY_RESOLVER_SNAPSHOT_KEY),Dt=Ct==null?void 0:Ct.data,Ft=Ct==null?void 0:Ct.selector;if(Dt==null||Ft==null)return!0;var Nt=$t(Ft),jt=Nt.data,Lt=recycleNodesInto$2(Dt,jt);if(Lt!==Dt)return!0;if(RelayFeatureFlags$3.MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD){var Vt=RelayModernRecord$4.clone(mt);RelayModernRecord$4.setValue(Vt,RELAY_RESOLVER_INVALIDATION_KEY,!1);var er=this._getRecordSource();er.set(RelayModernRecord$4.getDataID(mt),Vt)}return!1},et._normalizeOutputTypeValue=function(mt,$t,Ct,Dt,Ft,Nt){var jt=RelayRecordSource$2.create();switch(Dt.kind){case"OutputType":{var Lt=RelayModernRecord$4.create(mt,Nt);jt.set(mt,Lt);var Vt=createNormalizationSelector(Dt.normalizationNode,mt,Ct),er=this._store.__getNormalizationOptions(Ft);return normalize$1(jt,Vt,$t,er).source}case"WeakModel":{var ir=RelayModernRecord$4.create(mt,Nt);return RelayModernRecord$4.setValue(ir,MODEL_PROPERTY_NAME,$t),jt.set(mt,ir),jt}default:Dt.kind,invariant$7(!1)}},et.ensureClientRecord=function(mt,$t){var Ct=generateClientObjectClientID($t,mt),Dt=this._getRecordSource();if(!Dt.has(Ct)){var Ft=RelayModernRecord$4.create(Ct,$t);RelayModernRecord$4.setValue(Ft,"id",mt),Dt.set(Ct,Ft)}return Ct},et.unsubscribeFromLiveResolverRecords=function(mt){return unsubscribeFromLiveResolverRecordsImpl(this._getRecordSource(),mt)},et.invalidateResolverRecords=function(mt){if(mt.size!==0){var $t=(0,_createForOfIteratorHelper2$3.default)(mt),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value,Ft=this._getRecordSource().get(Dt);Ft!=null&&isResolverRecord(Ft)&&this._getRecordSource().delete(Dt)}}catch(Nt){$t.e(Nt)}finally{$t.f()}}},nt}();function updateCurrentSource(nt,et,at){var mt=new Set;if(at!=null){var $t=(0,_createForOfIteratorHelper2$3.default)(at),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value;et.has(Dt)||(mt.add(Dt),nt.remove(Dt))}}catch(ir){$t.e(ir)}finally{$t.f()}}var Ft=(0,_createForOfIteratorHelper2$3.default)(et.getRecordIDs()),Nt;try{for(Ft.s();!(Nt=Ft.n()).done;){var jt=Nt.value,Lt=expectRecord(et,jt);if(nt.has(jt)){var Vt=expectRecord(nt,jt),er=RelayModernRecord$4.update(Vt,Lt);er!==Vt&&(mt.add(jt),nt.set(jt,er),markInvalidatedLinkedResolverRecords(Vt,nt))}else nt.set(jt,Lt)}}catch(ir){Ft.e(ir)}finally{Ft.f()}return mt}function getAllLinkedRecordIds(nt){var et=new Set;return RelayModernRecord$4.getFields(nt).forEach(function(at){if(RelayModernRecord$4.hasLinkedRecordID(nt,at)){var mt=RelayModernRecord$4.getLinkedRecordID(nt,at);mt!=null&&et.add(mt)}else if(RelayModernRecord$4.hasLinkedRecordIDs(nt,at)){var $t;($t=RelayModernRecord$4.getLinkedRecordIDs(nt,at))===null||$t===void 0||$t.forEach(function(Ct){Ct!=null&&et.add(Ct)})}}),et}function markInvalidatedResolverRecord(nt,et){var at=et.get(nt);if(at){var mt=RelayModernRecord$4.clone(at);RelayModernRecord$4.setValue(mt,RELAY_RESOLVER_INVALIDATION_KEY,!0),et.set(nt,mt)}}function markInvalidatedLinkedResolverRecords(nt,et){var at=getAllLinkedRecordIds(nt),mt=(0,_createForOfIteratorHelper2$3.default)(at),$t;try{for(mt.s();!($t=mt.n()).done;){var Ct=$t.value,Dt=et.get(Ct);Dt!=null&&isResolverRecord(Dt)&&markInvalidatedResolverRecord(Ct,et)}}catch(Ft){mt.e(Ft)}finally{mt.f()}}function unsubscribeFromLiveResolverRecordsImpl(nt,et){if(et.size!==0){var at=(0,_createForOfIteratorHelper2$3.default)(et),mt;try{for(at.s();!(mt=at.n()).done;){var $t=mt.value,Ct=nt.get($t);Ct!=null&&isResolverRecord(Ct)&&maybeUnsubscribeFromLiveState(Ct)}}catch(Dt){at.e(Dt)}finally{at.f()}}}function isResolverRecord(nt){return RelayModernRecord$4.getType(nt)===RELAY_RESOLVER_RECORD_TYPENAME}function maybeUnsubscribeFromLiveState(nt){var et=RelayModernRecord$4.getValue(nt,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1);et!=null&&et()}function expectRecord(nt,et){var at=nt.get(et);return at==null&&invariant$7(!1),at}function getUpdatedDataIDs$1(nt){return nt}function getConcreteTypename(nt,et){var at,mt=(at=nt.concreteType)!==null&&at!==void 0?at:et.__typename;return mt==null&&invariant$7(!1),mt}var LiveResolverCache_1={LiveResolverCache:LiveResolverCache$1,getUpdatedDataIDs:getUpdatedDataIDs$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY:RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1},_interopRequireDefault$5=interopRequireDefaultExports.default,_objectSpread2$1=_interopRequireDefault$5(objectSpread2Exports),RelayModernRecord$3=RelayModernRecord$d,RelayRecordSource$1=RelayRecordSource_1,invariant$6=browser$1,UNPUBLISH_RECORD_SENTINEL=RelayModernRecord$3.fromObject(Object.freeze({__UNPUBLISH_RECORD_SENTINEL:!0})),RelayOptimisticRecordSource$1=function(){function nt(at){this._base=at,this._sink=RelayRecordSource$1.create()}var et=nt.prototype;return et.has=function(mt){if(this._sink.has(mt)){var $t=this._sink.get(mt);return $t!==UNPUBLISH_RECORD_SENTINEL}else return this._base.has(mt)},et.get=function(mt){if(this._sink.has(mt)){var $t=this._sink.get(mt);return $t===UNPUBLISH_RECORD_SENTINEL?void 0:$t}else return this._base.get(mt)},et.getStatus=function(mt){var $t=this.get(mt);return $t===void 0?"UNKNOWN":$t===null?"NONEXISTENT":"EXISTENT"},et.clear=function(){this._base=RelayRecordSource$1.create(),this._sink.clear()},et.delete=function(mt){this._sink.delete(mt)},et.remove=function(mt){this._sink.set(mt,UNPUBLISH_RECORD_SENTINEL)},et.set=function(mt,$t){this._sink.set(mt,$t)},et.getRecordIDs=function(){return Object.keys(this.toJSON())},et.size=function(){return Object.keys(this.toJSON()).length},et.toJSON=function(){var mt=this,$t=(0,_objectSpread2$1.default)({},this._base.toJSON());return this._sink.getRecordIDs().forEach(function(Ct){var Dt=mt.get(Ct);Dt===void 0?delete $t[Ct]:$t[Ct]=RelayModernRecord$3.toJSON(Dt)}),$t},et.getOptimisticRecordIDs=function(){return new Set(this._sink.getRecordIDs())},nt}();function create(nt){return new RelayOptimisticRecordSource$1(nt)}function getOptimisticRecordIDs(nt){return nt instanceof RelayOptimisticRecordSource$1||invariant$6(!1),nt.getOptimisticRecordIDs()}var RelayOptimisticRecordSource_1={create,getOptimisticRecordIDs},_interopRequireDefault$4=interopRequireDefaultExports.default,_createForOfIteratorHelper2$2=_interopRequireDefault$4(createForOfIteratorHelperExports),getOperation=getOperation_1,cloneRelayHandleSourceField=cloneRelayHandleSourceField_1,getOutputTypeRecordIDs=getOutputTypeRecordIDs_1,_require$6=RelayConcreteVariables$2,getLocalVariables=_require$6.getLocalVariables,RelayModernRecord$2=RelayModernRecord$d,RelayStoreUtils$2=RelayStoreUtils_1,_require2$5=TypeID,generateTypeID=_require2$5.generateTypeID,invariant$5=browser$1,getStorageKey=RelayStoreUtils$2.getStorageKey,getModuleOperationKey$1=RelayStoreUtils$2.getModuleOperationKey;function mark(nt,et,at,mt,$t){var Ct=et.dataID,Dt=et.node,Ft=et.variables,Nt=new RelayReferenceMarker$1(nt,Ft,at,mt,$t);Nt.mark(Dt,Ct)}var RelayReferenceMarker$1=function(){function nt(at,mt,$t,Ct,Dt){this._operationLoader=Ct??null,this._operationName=null,this._recordSource=at,this._references=$t,this._variables=mt,this._shouldProcessClientComponents=Dt}var et=nt.prototype;return et.mark=function(mt,$t){(mt.kind==="Operation"||mt.kind==="SplitOperation")&&(this._operationName=mt.name),this._traverse(mt,$t)},et._traverse=function(mt,$t){this._references.add($t);var Ct=this._recordSource.get($t);Ct!=null&&this._traverseSelections(mt.selections,Ct)},et._getVariableValue=function(mt){return this._variables.hasOwnProperty(mt)||invariant$5(!1),this._variables[mt]},et._traverseSelections=function(mt,$t){var Ct=this;mt.forEach(function(Dt){switch(Dt.kind){case"ActorChange":Ct._traverseLink(Dt.linkedField,$t);break;case"LinkedField":Dt.plural?Ct._traversePluralLink(Dt,$t):Ct._traverseLink(Dt,$t);break;case"Condition":var Ft=!!Ct._getVariableValue(Dt.condition);Ft===Dt.passingValue&&Ct._traverseSelections(Dt.selections,$t);break;case"InlineFragment":if(Dt.abstractKey==null){var Nt=RelayModernRecord$2.getType($t);(Nt!=null&&Nt===Dt.type||Nt===RelayStoreUtils$2.ROOT_TYPE)&&Ct._traverseSelections(Dt.selections,$t)}else{var jt=RelayModernRecord$2.getType($t),Lt=generateTypeID(jt);Ct._references.add(Lt),Ct._traverseSelections(Dt.selections,$t)}break;case"FragmentSpread":var Vt=Ct._variables;Ct._variables=getLocalVariables(Ct._variables,Dt.fragment.argumentDefinitions,Dt.args),Ct._traverseSelections(Dt.fragment.selections,$t),Ct._variables=Vt;break;case"LinkedHandle":var er=cloneRelayHandleSourceField(Dt,mt,Ct._variables);er.plural?Ct._traversePluralLink(er,$t):Ct._traverseLink(er,$t);break;case"Defer":case"Stream":Ct._traverseSelections(Dt.selections,$t);break;case"ScalarField":case"ScalarHandle":break;case"TypeDiscriminator":{var ir=RelayModernRecord$2.getType($t),or=generateTypeID(ir);Ct._references.add(or);break}case"ModuleImport":Ct._traverseModuleImport(Dt,$t);break;case"ClientExtension":Ct._traverseSelections(Dt.selections,$t);break;case"ClientComponent":if(Ct._shouldProcessClientComponents===!1)break;Ct._traverseSelections(Dt.fragment.selections,$t);break;case"RelayResolver":Ct._traverseResolverField(Dt,$t);break;case"RelayLiveResolver":Ct._traverseResolverField(Dt,$t);break;case"ClientEdgeToClientObject":Ct._traverseClientEdgeToClientObject(Dt,$t);break;default:invariant$5(!1)}})},et._traverseClientEdgeToClientObject=function(mt,$t){var Ct=this._traverseResolverField(mt.backingField,$t);if(Ct!=null){var Dt=this._recordSource.get(Ct);if(Dt!=null)if(mt.backingField.isOutputType){var Ft=getOutputTypeRecordIDs(Dt);if(Ft!=null){var Nt=(0,_createForOfIteratorHelper2$2.default)(Ft),jt;try{for(Nt.s();!(jt=Nt.n()).done;){var Lt=jt.value;this._references.add(Lt)}}catch(hr){Nt.e(hr)}finally{Nt.f()}}}else{var Vt=mt.linkedField,er=Vt.concreteType;if(er==null)return;if(Vt.plural){var ir=RelayModernRecord$2.getResolverLinkedRecordIDs(Dt,er);if(ir!=null){var or=(0,_createForOfIteratorHelper2$2.default)(ir),lr;try{for(or.s();!(lr=or.n()).done;){var dr=lr.value;dr!=null&&this._traverse(Vt,dr)}}catch(hr){or.e(hr)}finally{or.f()}}}else{var pr=RelayModernRecord$2.getResolverLinkedRecordID(Dt,er);pr!=null&&this._traverse(Vt,pr)}}}},et._traverseResolverField=function(mt,$t){var Ct=getStorageKey(mt,this._variables),Dt=RelayModernRecord$2.getLinkedRecordID($t,Ct);Dt!=null&&this._references.add(Dt);var Ft=mt.fragment;return Ft!=null&&this._traverseSelections([Ft],$t),Dt},et._traverseModuleImport=function(mt,$t){var Ct=this._operationLoader;Ct===null&&invariant$5(!1);var Dt=getModuleOperationKey$1(mt.documentName),Ft=RelayModernRecord$2.getValue($t,Dt);if(Ft!=null){var Nt=Ct.get(Ft);if(Nt!=null){var jt=getOperation(Nt),Lt=this._variables;this._variables=getLocalVariables(this._variables,jt.argumentDefinitions,mt.args),this._traverseSelections(jt.selections,$t),this._variables=Lt}}},et._traverseLink=function(mt,$t){var Ct=getStorageKey(mt,this._variables),Dt=RelayModernRecord$2.getLinkedRecordID($t,Ct);Dt!=null&&this._traverse(mt,Dt)},et._traversePluralLink=function(mt,$t){var Ct=this,Dt=getStorageKey(mt,this._variables),Ft=RelayModernRecord$2.getLinkedRecordIDs($t,Dt);Ft!=null&&Ft.forEach(function(Nt){Nt!=null&&Ct._traverse(mt,Nt)})},nt}(),RelayReferenceMarker_1={mark},ITERATOR_KEY$1=Symbol.iterator;function hasOverlappingIDs$1(nt,et){for(var at=nt[ITERATOR_KEY$1](),mt=at.next();!mt.done;){var $t=mt.value;if(et.has($t))return!0;mt=at.next()}return!1}var hasOverlappingIDs_1=hasOverlappingIDs$1,_require$5=RelayStoreUtils_1,ROOT_ID$1=_require$5.ROOT_ID,_require2$4=ViewerPattern$1,VIEWER_ID=_require2$4.VIEWER_ID,ITERATOR_KEY=Symbol.iterator;function hasSignificantOverlappingIDs$1(nt,et){for(var at=nt[ITERATOR_KEY](),mt=at.next();!mt.done;){var $t=mt.value;if(et.has($t)&&$t!==ROOT_ID$1&&$t!==VIEWER_ID)return!0;mt=at.next()}return!1}var hasSignificantOverlappingIDs_1=hasSignificantOverlappingIDs$1,recycleNodesInto$1=recycleNodesInto_1,RelayFeatureFlags$2=RelayFeatureFlags_1,hasOverlappingIDs=hasOverlappingIDs_1,hasSignificantOverlappingIDs=hasSignificantOverlappingIDs_1,RelayReader$1=RelayReader_1,RelayStoreSubscriptions$1=function(){function nt(at,mt,$t){this._subscriptions=new Set,this.__log=at,this._resolverCache=mt,this._resolverContext=$t}var et=nt.prototype;return et.subscribe=function(mt,$t){var Ct=this,Dt={backup:null,callback:$t,snapshot:mt,stale:!1},Ft=function(){Ct._subscriptions.delete(Dt)};return this._subscriptions.add(Dt),{dispose:Ft}},et.snapshotSubscriptions=function(mt){var $t=this;this._subscriptions.forEach(function(Ct){if(!Ct.stale){Ct.backup=Ct.snapshot;return}var Dt=Ct.snapshot,Ft=RelayReader$1.read(mt,Dt.selector,$t._resolverCache,$t._resolverContext),Nt=recycleNodesInto$1(Dt.data,Ft.data);Ft.data=Nt,Ct.backup=Ft})},et.restoreSubscriptions=function(){this._subscriptions.forEach(function(mt){var $t=mt.backup;mt.backup=null,$t?($t.data!==mt.snapshot.data&&(mt.stale=!0),mt.snapshot={data:mt.snapshot.data,isMissingData:$t.isMissingData,missingClientEdges:$t.missingClientEdges,missingLiveResolverFields:$t.missingLiveResolverFields,seenRecords:$t.seenRecords,selector:$t.selector,errorResponseFields:$t.errorResponseFields}):mt.stale=!0})},et.updateSubscriptions=function(mt,$t,Ct,Dt){var Ft=this,Nt=$t.size!==0;this._subscriptions.forEach(function(jt){var Lt=Ft._updateSubscription(mt,jt,$t,Nt,Dt);Lt!=null&&Ct.push(Lt)})},et._updateSubscription=function(mt,$t,Ct,Dt,Ft){var Nt=$t.backup,jt=$t.callback,Lt=$t.snapshot,Vt=$t.stale,er=Dt&&hasOverlappingIDs(Lt.seenRecords,Ct);if(!(!Vt&&!er)){var ir=er||!Nt?RelayReader$1.read(mt,Lt.selector,this._resolverCache,this._resolverContext):Nt,or=recycleNodesInto$1(Lt.data,ir.data);if(ir={data:or,isMissingData:ir.isMissingData,missingClientEdges:ir.missingClientEdges,missingLiveResolverFields:ir.missingLiveResolverFields,seenRecords:ir.seenRecords,selector:ir.selector,errorResponseFields:ir.errorResponseFields},$t.snapshot=ir,$t.stale=!1,ir.data!==Lt.data)return this.__log&&RelayFeatureFlags$2.ENABLE_NOTIFY_SUBSCRIPTION&&this.__log({name:"store.notify.subscription",sourceOperation:Ft,snapshot:Lt,nextSnapshot:ir}),jt(ir),Lt.selector.owner;if(RelayFeatureFlags$2.ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION&&(Vt||hasSignificantOverlappingIDs(Lt.seenRecords,Ct)))return Lt.selector.owner}},et.size=function(){return this._subscriptions.size},nt}(),RelayStoreSubscriptions_1=RelayStoreSubscriptions$1,_interopRequireDefault$3=interopRequireDefaultExports.default,_createForOfIteratorHelper2$1=_interopRequireDefault$3(createForOfIteratorHelperExports),_defineProperty2$1=_interopRequireDefault$3(requireDefineProperty()),_require$4=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE=_require$4.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier=_require$4.assertInternalActorIdentifier,resolveImmediate=resolveImmediate_1,DataChecker=DataChecker_1,defaultGetDataID=defaultGetDataID_1,_require2$3=LiveResolverCache_1,LiveResolverCache=_require2$3.LiveResolverCache,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY=_require2$3.RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY,getUpdatedDataIDs=_require2$3.getUpdatedDataIDs,RelayModernRecord$1=RelayModernRecord$d,RelayOptimisticRecordSource=RelayOptimisticRecordSource_1,RelayReader=RelayReader_1,RelayReferenceMarker=RelayReferenceMarker_1,RelayStoreSubscriptions=RelayStoreSubscriptions_1,RelayStoreUtils$1=RelayStoreUtils_1,_require3$3=RelayStoreUtils_1,ROOT_ID=_require3$3.ROOT_ID,ROOT_TYPE=_require3$3.ROOT_TYPE,invariant$4=browser$1,DEFAULT_RELEASE_BUFFER_SIZE=10,RelayModernStore$1=function(){function nt(at,mt){var $t=this,Ct,Dt,Ft,Nt,jt,Lt,Vt;(0,_defineProperty2$1.default)(this,"_gcStep",function(){$t._gcRun&&($t._gcRun.next().done?$t._gcRun=null:$t._gcScheduler($t._gcStep))}),this._currentWriteEpoch=0,this._gcHoldCounter=0,this._gcReleaseBufferSize=(Ct=mt==null?void 0:mt.gcReleaseBufferSize)!==null&&Ct!==void 0?Ct:DEFAULT_RELEASE_BUFFER_SIZE,this._gcRun=null,this._gcScheduler=(Dt=mt==null?void 0:mt.gcScheduler)!==null&&Dt!==void 0?Dt:resolveImmediate,this._getDataID=(Ft=mt==null?void 0:mt.getDataID)!==null&&Ft!==void 0?Ft:defaultGetDataID,this._globalInvalidationEpoch=null,this._invalidationSubscriptions=new Set,this._invalidatedRecordIDs=new Set,this.__log=(Nt=mt==null?void 0:mt.log)!==null&&Nt!==void 0?Nt:null,this._queryCacheExpirationTime=mt==null?void 0:mt.queryCacheExpirationTime,this._operationLoader=(jt=mt==null?void 0:mt.operationLoader)!==null&&jt!==void 0?jt:null,this._optimisticSource=null,this._recordSource=at,this._releaseBuffer=[],this._roots=new Map,this._shouldScheduleGC=!1,this._resolverCache=new LiveResolverCache(function(){return $t._getMutableRecordSource()},this),this._storeSubscriptions=new RelayStoreSubscriptions(mt==null?void 0:mt.log,this._resolverCache),this._updatedRecordIDs=new Set,this._shouldProcessClientComponents=(Lt=mt==null?void 0:mt.shouldProcessClientComponents)!==null&&Lt!==void 0?Lt:!1,this._resolverContext=mt==null?void 0:mt.resolverContext,this._treatMissingFieldsAsNull=(Vt=mt==null?void 0:mt.treatMissingFieldsAsNull)!==null&&Vt!==void 0?Vt:!1,this._actorIdentifier=mt==null?void 0:mt.actorIdentifier,initializeRecordSource(this._recordSource)}var et=nt.prototype;return et.getSource=function(){var mt;return(mt=this._optimisticSource)!==null&&mt!==void 0?mt:this._recordSource},et.getOperationLoader=function(){return this._operationLoader},et._getMutableRecordSource=function(){var mt;return(mt=this._optimisticSource)!==null&&mt!==void 0?mt:this._recordSource},et.getLiveResolverPromise=function(mt){return this._resolverCache.getLiveResolverPromise(mt)},et.batchLiveStateUpdates=function(mt){this.__log!=null&&this.__log({name:"liveresolver.batch.start"});try{this._resolverCache.batchLiveStateUpdates(mt)}finally{this.__log!=null&&this.__log({name:"liveresolver.batch.end"})}},et.check=function(mt,$t){var Ct,Dt,Ft,Nt,jt=mt.root,Lt=this._getMutableRecordSource(),Vt=this._globalInvalidationEpoch,er=this._roots.get(mt.request.identifier),ir=er!=null?er.epoch:null;if(Vt!=null&&(ir==null||ir<=Vt))return{status:"stale"};var or=(Ct=$t==null?void 0:$t.handlers)!==null&&Ct!==void 0?Ct:[],lr=(Dt=$t==null?void 0:$t.getSourceForActor)!==null&&Dt!==void 0?Dt:function(hr){return assertInternalActorIdentifier(hr),Lt},dr=(Ft=$t==null?void 0:$t.getTargetForActor)!==null&&Ft!==void 0?Ft:function(hr){return assertInternalActorIdentifier(hr),Lt},pr=DataChecker.check(lr,dr,(Nt=$t==null?void 0:$t.defaultActorIdentifier)!==null&&Nt!==void 0?Nt:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,jt,or,this._operationLoader,this._getDataID,this._shouldProcessClientComponents,this.__log);return getAvailabilityStatus(pr,ir,er==null?void 0:er.fetchTime,this._queryCacheExpirationTime)},et.retain=function(mt){var $t=this,Ct=mt.request.identifier,Dt=!1,Ft=function(){if(!Dt){Dt=!0;var Lt=$t._roots.get(Ct);if(Lt!=null&&(Lt.refCount--,Lt.refCount===0)){var Vt=$t._queryCacheExpirationTime,er=Lt.fetchTime!=null&&Vt!=null&&Lt.fetchTime<=Date.now()-Vt;if(er)$t._roots.delete(Ct),$t.scheduleGC();else if($t._releaseBuffer.push(Ct),$t._releaseBuffer.length>$t._gcReleaseBufferSize){var ir=$t._releaseBuffer.shift();$t._roots.delete(ir),$t.scheduleGC()}}}},Nt=this._roots.get(Ct);return Nt!=null?(Nt.refCount===0&&(this._releaseBuffer=this._releaseBuffer.filter(function(jt){return jt!==Ct})),Nt.refCount+=1):this._roots.set(Ct,{operation:mt,refCount:1,epoch:null,fetchTime:null}),{dispose:Ft}},et.lookup=function(mt){var $t=this.__log;$t!=null&&$t({name:"store.lookup.start",selector:mt});var Ct=this.getSource(),Dt=RelayReader.read(Ct,mt,this._resolverCache,this._resolverContext);return $t!=null&&$t({name:"store.lookup.end",selector:mt}),Dt},et.notify=function(mt,$t){var Ct=this,Dt=this.__log;Dt!=null&&Dt({name:"store.notify.start",sourceOperation:mt}),this._currentWriteEpoch++,$t===!0&&(this._globalInvalidationEpoch=this._currentWriteEpoch),this._resolverCache.invalidateDataIDs(this._updatedRecordIDs);var Ft=this.getSource(),Nt=[];if(this._storeSubscriptions.updateSubscriptions(Ft,this._updatedRecordIDs,Nt,mt),this._invalidationSubscriptions.forEach(function(er){Ct._updateInvalidationSubscription(er,$t===!0)}),mt!=null){var jt=mt.request.identifier,Lt=this._roots.get(jt);if(Lt!=null)Lt.epoch=this._currentWriteEpoch,Lt.fetchTime=Date.now();else if(mt.request.node.params.operationKind==="query"&&this._gcReleaseBufferSize>0&&this._releaseBuffer.length<this._gcReleaseBufferSize){var Vt={operation:mt,refCount:0,epoch:this._currentWriteEpoch,fetchTime:Date.now()};this._releaseBuffer.push(jt),this._roots.set(jt,Vt)}}return Dt!=null&&Dt({name:"store.notify.complete",sourceOperation:mt,updatedRecordIDs:this._updatedRecordIDs,invalidatedRecordIDs:this._invalidatedRecordIDs,subscriptionsSize:this._storeSubscriptions.size(),updatedOwners:Nt}),this._updatedRecordIDs.clear(),this._invalidatedRecordIDs.clear(),Nt},et.publish=function(mt,$t){var Ct=this._getMutableRecordSource();updateTargetFromSource(Ct,mt,this._currentWriteEpoch+1,$t,this._updatedRecordIDs,this._invalidatedRecordIDs);var Dt=this.__log;Dt!=null&&Dt({name:"store.publish",source:mt,optimistic:Ct===this._optimisticSource})},et.subscribe=function(mt,$t){return this._storeSubscriptions.subscribe(mt,$t)},et.holdGC=function(){var mt=this;this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._gcHoldCounter++;var $t=function(){mt._gcHoldCounter>0&&(mt._gcHoldCounter--,mt._gcHoldCounter===0&&mt._shouldScheduleGC&&(mt.scheduleGC(),mt._shouldScheduleGC=!1))};return{dispose:$t}},et.toJSON=function(){return"RelayModernStore()"},et.getEpoch=function(){return this._currentWriteEpoch},et.__getUpdatedRecordIDs=function(){return this._updatedRecordIDs},et.lookupInvalidationState=function(mt){var $t=this,Ct=new Map;return mt.forEach(function(Dt){var Ft,Nt=$t.getSource().get(Dt);Ct.set(Dt,(Ft=RelayModernRecord$1.getInvalidationEpoch(Nt))!==null&&Ft!==void 0?Ft:null)}),Ct.set("global",this._globalInvalidationEpoch),{dataIDs:mt,invalidations:Ct}},et.checkInvalidationState=function(mt){var $t=this.lookupInvalidationState(mt.dataIDs),Ct=$t.invalidations,Dt=mt.invalidations;if(Ct.get("global")!==Dt.get("global"))return!0;var Ft=(0,_createForOfIteratorHelper2$1.default)(mt.dataIDs),Nt;try{for(Ft.s();!(Nt=Ft.n()).done;){var jt=Nt.value;if(Ct.get(jt)!==Dt.get(jt))return!0}}catch(Lt){Ft.e(Lt)}finally{Ft.f()}return!1},et.subscribeToInvalidationState=function(mt,$t){var Ct=this,Dt={callback:$t,invalidationState:mt},Ft=function(){Ct._invalidationSubscriptions.delete(Dt)};return this._invalidationSubscriptions.add(Dt),{dispose:Ft}},et._updateInvalidationSubscription=function(mt,$t){var Ct=this,Dt=mt.callback,Ft=mt.invalidationState,Nt=Ft.dataIDs,jt=$t||Nt.some(function(Lt){return Ct._invalidatedRecordIDs.has(Lt)});jt&&Dt()},et.snapshot=function(){this._optimisticSource!=null&&invariant$4(!1);var mt=this.__log;mt!=null&&mt({name:"store.snapshot"}),this._storeSubscriptions.snapshotSubscriptions(this.getSource()),this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._optimisticSource=RelayOptimisticRecordSource.create(this.getSource())},et.restore=function(){var mt=this._optimisticSource;mt||invariant$4(!1);var $t=this.__log;$t!=null&&$t({name:"store.restore"});var Ct=RelayOptimisticRecordSource.getOptimisticRecordIDs(mt);this._resolverCache.unsubscribeFromLiveResolverRecords(Ct),this._optimisticSource=null,this._shouldScheduleGC&&this.scheduleGC(),this._storeSubscriptions.restoreSubscriptions(),this._resolverCache.invalidateResolverRecords(Ct)},et.scheduleGC=function(){if(this._gcHoldCounter>0){this._shouldScheduleGC=!0;return}this._gcRun||(this._gcRun=this._collect(),this._gcScheduler(this._gcStep))},et.__gc=function(){if(this._optimisticSource==null)for(var mt=this._collect();!mt.next().done;);},et._collect=function*(){var mt=this.__log;e:for(;;){mt!=null&&mt({name:"store.gc.start"});var $t=this._currentWriteEpoch,Ct=new Set,Dt=(0,_createForOfIteratorHelper2$1.default)(this._roots.values()),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var Nt=Ft.value.operation,jt=Nt.root;if(RelayReferenceMarker.mark(this._recordSource,jt,Ct,this._operationLoader,this._shouldProcessClientComponents),yield,$t!==this._currentWriteEpoch){mt!=null&&mt({name:"store.gc.interrupted"});continue e}}}catch(lr){Dt.e(lr)}finally{Dt.f()}if(Ct.size===0)this._recordSource.clear();else for(var Lt=this._recordSource.getRecordIDs(),Vt=0;Vt<Lt.length;Vt++){var er=Lt[Vt];if(!Ct.has(er)){var ir=this._recordSource.get(er);if(ir!=null){var or=RelayModernRecord$1.getValue(ir,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY);or!=null&&or()}this._recordSource.remove(er)}}mt!=null&&mt({name:"store.gc.end",references:Ct});return}},et.__getNormalizationOptions=function(mt){return{path:mt,getDataID:this._getDataID,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents,actorIdentifier:this._actorIdentifier}},et.__notifyUpdatedSubscribers=function(mt){var $t=getUpdatedDataIDs(mt),Ct=this._updatedRecordIDs;this._updatedRecordIDs=$t,this.notify(),this._updatedRecordIDs=Ct},nt}();function initializeRecordSource(nt){if(!nt.has(ROOT_ID)){var et=RelayModernRecord$1.create(ROOT_ID,ROOT_TYPE);nt.set(ROOT_ID,et)}}function updateTargetFromSource(nt,et,at,mt,$t,Ct){mt&&mt.forEach(function(er){var ir=nt.get(er),or=et.get(er);if(or!==null){var lr;ir!=null?lr=RelayModernRecord$1.clone(ir):lr=or!=null?RelayModernRecord$1.clone(or):null,lr&&(RelayModernRecord$1.setValue(lr,RelayStoreUtils$1.INVALIDATED_AT_KEY,at),Ct.add(er),nt.set(er,lr))}});for(var Dt=et.getRecordIDs(),Ft=0;Ft<Dt.length;Ft++){var Nt=Dt[Ft],jt=et.get(Nt),Lt=nt.get(Nt);if(jt&&Lt){var Vt=RelayModernRecord$1.update(Lt,jt);Vt!==Lt&&($t.add(Nt),nt.set(Nt,Vt))}else jt===null?(nt.delete(Nt),Lt!==null&&$t.add(Nt)):jt&&(nt.set(Nt,jt),$t.add(Nt))}}function getAvailabilityStatus(nt,et,at,mt){var $t=nt.mostRecentlyInvalidatedAt,Ct=nt.status;if(typeof $t=="number"&&(et==null||$t>et))return{status:"stale"};if(Ct==="missing")return{status:"missing"};if(at!=null&&mt!=null){var Dt=at<=Date.now()-mt;if(Dt)return{status:"stale"}}return{status:"available",fetchTime:at??null}}var RelayModernStore_1=RelayModernStore$1,RelayDeclarativeMutationConfig$1=RelayDeclarativeMutationConfig$4,_require$3=GraphQLTag$1,getRequest=_require$3.getRequest,_require2$2=RelayModernOperationDescriptor$1,createOperationDescriptor=_require2$2.createOperationDescriptor,_require3$2=RelayModernSelector$1,createReaderSelector=_require3$2.createReaderSelector;function requestSubscription$1(nt,et){var at=getRequest(et.subscription);if(at.params.operationKind!=="subscription")throw new Error("requestSubscription: Must use Subscription operation");var mt=et.configs,$t=et.onCompleted,Ct=et.onError,Dt=et.onNext,Ft=et.variables,Nt=et.cacheConfig,jt=createOperationDescriptor(at,Ft,Nt),Lt=mt?RelayDeclarativeMutationConfig$1.convert(mt,at,null,et.updater):et,Vt=Lt.updater,er=nt.executeSubscription({operation:jt,updater:Vt}).subscribe({next:function(or){if(Dt!=null){var lr=jt.fragment,dr;if(Array.isArray(or)){var pr,hr;dr=(pr=or[0])===null||pr===void 0||(hr=pr.extensions)===null||hr===void 0?void 0:hr.__relay_subscription_root_id}else{var vr;dr=(vr=or.extensions)===null||vr===void 0?void 0:vr.__relay_subscription_root_id}typeof dr=="string"&&(lr=createReaderSelector(lr.node,dr,lr.variables,lr.owner));var br=nt.lookup(lr).data;Dt(br)}},error:Ct,complete:$t});return{dispose:er.unsubscribe}}var requestSubscription_1=requestSubscription$1,_interopRequireDefault$2=interopRequireDefaultExports.default,_objectSpread2=_interopRequireDefault$2(objectSpread2Exports),_require$2=RelayStoreUtils_1,getModuleComponentKey=_require$2.getModuleComponentKey,getModuleOperationKey=_require$2.getModuleOperationKey;function createPayloadFor3DField$1(nt,et,at,mt){var $t=(0,_objectSpread2.default)({},mt);return $t[getModuleComponentKey(nt)]=at,$t[getModuleOperationKey(nt)]=et,$t}var createPayloadFor3DField_1=createPayloadFor3DField$1,hasOwnProperty=Object.prototype.hasOwnProperty;function isEmptyObject$1(nt){for(var et in nt)if(hasOwnProperty.call(nt,et))return!1;return!0}var isEmptyObject_1=isEmptyObject$1,_require$1=RelayModernSelector$1,getDataIDsFromFragment=_require$1.getDataIDsFromFragment,getSelector=_require$1.getSelector,getVariablesFromFragment=_require$1.getVariablesFromFragment,isEmptyObject=isEmptyObject_1,RelayFeatureFlags$1=RelayFeatureFlags_1,_require2$1=stableCopy_1,stableCopy$1=_require2$1.stableCopy,_require3$1=StringInterner,intern=_require3$1.intern;function getFragmentIdentifier$1(nt,et){var at=getSelector(nt,et),mt=at==null?"null":at.kind==="SingularReaderSelector"?at.owner.identifier:"["+at.selectors.map(function(jt){return jt.owner.identifier}).join(",")+"]",$t=getVariablesFromFragment(nt,et),Ct=getDataIDsFromFragment(nt,et);if(RelayFeatureFlags$1.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION){var Dt=typeof Ct>"u"?"missing":Ct==null?"null":Array.isArray(Ct)?"["+Ct.join(",")+"]":Ct;return Dt=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?Dt:intern(Dt,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),mt+"/"+nt.name+"/"+($t==null||isEmptyObject($t)?"{}":JSON.stringify(stableCopy$1($t)))+"/"+Dt}else{var Ft,Nt=(Ft=JSON.stringify(Ct))!==null&&Ft!==void 0?Ft:"missing";return Nt=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?Nt:intern(Nt,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),mt+"/"+nt.name+"/"+JSON.stringify(stableCopy$1($t))+"/"+Nt}}var getFragmentIdentifier_1=getFragmentIdentifier$1,invariant$3=browser$1;function getRefetchMetadata$2(nt,et){var at,mt;((at=nt.metadata)===null||at===void 0?void 0:at.plural)===!0&&invariant$3(!1);var $t=(mt=nt.metadata)===null||mt===void 0?void 0:mt.refetch;$t==null&&invariant$3(!1);var Ct=$t.operation.default?$t.operation.default:$t.operation,Dt=$t.fragmentPathInResult;typeof Ct=="string"&&invariant$3(!1);var Ft=$t.identifierInfo;return Ft!=null&&(Ft.identifierField==null||typeof Ft.identifierField=="string"||invariant$3(!1),Ft.identifierQueryVariableName==null||typeof Ft.identifierQueryVariableName=="string"||invariant$3(!1)),{fragmentRefPathInResponse:Dt,identifierInfo:Ft,refetchableRequest:Ct,refetchMetadata:$t}}var getRefetchMetadata_1=getRefetchMetadata$2,getRefetchMetadata$1=getRefetchMetadata_1,invariant$2=browser$1;function getPaginationMetadata$1(nt,et){var at,mt,$t=getRefetchMetadata$1(nt),Ct=$t.refetchableRequest,Dt=$t.refetchMetadata,Ft=Dt.connection;Ft==null&&invariant$2(!1);var Nt=Ft.path,jt=((at=(mt=nt.metadata)===null||mt===void 0?void 0:mt.connection)!==null&&at!==void 0?at:[])[0];jt==null&&invariant$2(!1);var Lt=Dt.identifierInfo;return(Lt==null?void 0:Lt.identifierField)==null||typeof Lt.identifierField=="string"||invariant$2(!1),{connectionPathInFragmentData:Nt,identifierField:Lt==null?void 0:Lt.identifierField,paginationRequest:Ct,paginationMetadata:Ft,stream:jt.stream===!0}}var getPaginationMetadata_1=getPaginationMetadata$1,_interopRequireDefault$1=interopRequireDefaultExports.default,_defineProperty2=_interopRequireDefault$1(requireDefineProperty()),_objectSpread4=_interopRequireDefault$1(objectSpread2Exports),invariant$1=browser$1;function getPaginationVariables$1(nt,et,at,mt,$t,Ct){var Dt,Ft=Ct.backward,Nt=Ct.forward;if(nt==="backward"){var jt;Ft!=null&&Ft.count!=null&&Ft.cursor!=null||invariant$1(!1);var Lt=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},mt),$t),{},(jt={},(0,_defineProperty2.default)(jt,Ft.cursor,at),(0,_defineProperty2.default)(jt,Ft.count,et),jt));return Nt&&Nt.cursor&&(Lt[Nt.cursor]=null),Nt&&Nt.count&&(Lt[Nt.count]=null),Lt}Nt!=null&&Nt.count!=null&&Nt.cursor!=null||invariant$1(!1);var Vt=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},mt),$t),{},(Dt={},(0,_defineProperty2.default)(Dt,Nt.cursor,at),(0,_defineProperty2.default)(Dt,Nt.count,et),Dt));return Ft&&Ft.cursor&&(Vt[Ft.cursor]=null),Ft&&Ft.count&&(Vt[Ft.count]=null),Vt}var getPaginationVariables_1=getPaginationVariables$1,_interopRequireDefault=interopRequireDefaultExports.default,_createForOfIteratorHelper2=_interopRequireDefault(createForOfIteratorHelperExports),invariant=browser$1;function getValueAtPath$1(nt,et){var at=nt,mt=(0,_createForOfIteratorHelper2.default)(et),$t;try{for(mt.s();!($t=mt.n()).done;){var Ct=$t.value;if(at==null)return null;typeof Ct=="number"?(Array.isArray(at)||invariant(!1),at=at[Ct]):(typeof at=="object"&&!Array.isArray(at)||invariant(!1),at=at[Ct])}}catch(Dt){mt.e(Dt)}finally{mt.f()}return at}var getValueAtPath_1=getValueAtPath$1,profileHandlersByName={},defaultProfiler={stop:function nt(){}},RelayProfiler$1={profile:function nt(et,at){var mt=profileHandlersByName[et];if(mt&&mt.length>0){for(var $t=[],Ct=mt.length-1;Ct>=0;Ct--){var Dt=mt[Ct](et,at);$t.unshift(Dt)}return{stop:function(Nt){$t.forEach(function(jt){return jt(Nt)})}}}return defaultProfiler},attachProfileHandler:function nt(et,at){profileHandlersByName.hasOwnProperty(et)||(profileHandlersByName[et]=[]),profileHandlersByName[et].push(at)},detachProfileHandler:function nt(et,at){profileHandlersByName.hasOwnProperty(et)&&removeFromArray(profileHandlersByName[et],at)}};function removeFromArray(nt,et){var at=nt.indexOf(et);at!==-1&&nt.splice(at,1)}var RelayProfiler_1=RelayProfiler$1,_require=experimental,isErrorResult=_require.isErrorResult,isValueResult=_require.isValueResult,ConnectionHandler=ConnectionHandler$4,ConnectionInterface=ConnectionInterface_1,MutationHandlers=MutationHandlers$2,RelayDefaultHandlerProvider=RelayDefaultHandlerProvider_1,applyOptimisticMutation=applyOptimisticMutation_1,commitLocalUpdate=commitLocalUpdate_1,commitMutation=commitMutation_1,RelayDeclarativeMutationConfig=RelayDeclarativeMutationConfig$4,RelayNetwork=RelayNetwork$1,RelayObservable=RelayObservable_1,RelayQueryResponseCache=RelayQueryResponseCache_1,fetchQuery=fetchQuery_1,fetchQuery_DEPRECATED=fetchQuery_DEPRECATED_1,fetchQueryInternal=fetchQueryInternal$2,GraphQLTag=GraphQLTag$1,PreloadableQueryRegistry=PreloadableQueryRegistry_1,_require2=ClientID,generateClientID=_require2.generateClientID,generateUniqueClientID=_require2.generateUniqueClientID,isClientID=_require2.isClientID,createFragmentSpecResolver=createFragmentSpecResolver_1,createRelayContext=createRelayContext_1,isRelayModernEnvironment=isRelayModernEnvironment_1,_require3=LiveResolverSuspenseSentinel,isSuspenseSentinel=_require3.isSuspenseSentinel,suspenseSentinel=_require3.suspenseSentinel,normalizeResponse=normalizeResponse_1,readInlineData=readInlineData_1,RelayConcreteVariables=RelayConcreteVariables$2,RelayModernEnvironment=RelayModernEnvironment_1,RelayModernOperationDescriptor=RelayModernOperationDescriptor$1,RelayModernRecord=RelayModernRecord$d,RelayModernSelector=RelayModernSelector$1,RelayModernStore=RelayModernStore_1,RelayOperationTracker=RelayOperationTracker_1,RelayRecordSource=RelayRecordSource_1,RelayStoreUtils=RelayStoreUtils_1,ResolverFragments=ResolverFragments$1,ViewerPattern=ViewerPattern$1,requestSubscription=requestSubscription_1,createPayloadFor3DField=createPayloadFor3DField_1,deepFreeze=deepFreeze_1,getFragmentIdentifier=getFragmentIdentifier_1,getPaginationMetadata=getPaginationMetadata_1,getPaginationVariables=getPaginationVariables_1,getPendingOperationsForFragment=getPendingOperationsForFragment_1,getRefetchMetadata=getRefetchMetadata_1,getRelayHandleKey=getRelayHandleKey_1,getRequestIdentifier=getRequestIdentifier_1,getValueAtPath=getValueAtPath_1,_require4=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors=_require4.handlePotentialSnapshotErrors,isPromise=isPromise_1,isScalarAndEqual=isScalarAndEqual_1,recycleNodesInto=recycleNodesInto_1,RelayConcreteNode=RelayConcreteNode_1,RelayDefaultHandleKey=RelayDefaultHandleKey$1,RelayError=RelayError$2,RelayFeatureFlags=RelayFeatureFlags_1,RelayProfiler=RelayProfiler_1,RelayReplaySubject=RelayReplaySubject_1,_require5=stableCopy_1,hasCycle=_require5.hasCycle,stableCopy=_require5.stableCopy,withProvidedVariables=withProvidedVariables_1,lib={Environment:RelayModernEnvironment,Network:RelayNetwork,Observable:RelayObservable,QueryResponseCache:RelayQueryResponseCache,RecordSource:RelayRecordSource,Record:RelayModernRecord,ReplaySubject:RelayReplaySubject,Store:RelayModernStore,areEqualSelectors:RelayModernSelector.areEqualSelectors,createFragmentSpecResolver,createNormalizationSelector:RelayModernSelector.createNormalizationSelector,createOperationDescriptor:RelayModernOperationDescriptor.createOperationDescriptor,createReaderSelector:RelayModernSelector.createReaderSelector,createRequestDescriptor:RelayModernOperationDescriptor.createRequestDescriptor,getArgumentValues:RelayStoreUtils.getArgumentValues,getDataIDsFromFragment:RelayModernSelector.getDataIDsFromFragment,getDataIDsFromObject:RelayModernSelector.getDataIDsFromObject,getNode:GraphQLTag.getNode,getFragment:GraphQLTag.getFragment,getInlineDataFragment:GraphQLTag.getInlineDataFragment,getModuleComponentKey:RelayStoreUtils.getModuleComponentKey,getModuleOperationKey:RelayStoreUtils.getModuleOperationKey,getPaginationFragment:GraphQLTag.getPaginationFragment,getPluralSelector:RelayModernSelector.getPluralSelector,getRefetchableFragment:GraphQLTag.getRefetchableFragment,getRequest:GraphQLTag.getRequest,getRequestIdentifier,getSelector:RelayModernSelector.getSelector,getSelectorsFromObject:RelayModernSelector.getSelectorsFromObject,getSingularSelector:RelayModernSelector.getSingularSelector,getStorageKey:RelayStoreUtils.getStorageKey,getVariablesFromFragment:RelayModernSelector.getVariablesFromFragment,getVariablesFromObject:RelayModernSelector.getVariablesFromObject,getVariablesFromPluralFragment:RelayModernSelector.getVariablesFromPluralFragment,getVariablesFromSingularFragment:RelayModernSelector.getVariablesFromSingularFragment,handlePotentialSnapshotErrors,graphql:GraphQLTag.graphql,isErrorResult,isValueResult,isFragment:GraphQLTag.isFragment,isInlineDataFragment:GraphQLTag.isInlineDataFragment,isSuspenseSentinel,suspenseSentinel,isRequest:GraphQLTag.isRequest,readInlineData,MutationTypes:RelayDeclarativeMutationConfig.MutationTypes,RangeOperations:RelayDeclarativeMutationConfig.RangeOperations,DefaultHandlerProvider:RelayDefaultHandlerProvider,ConnectionHandler,MutationHandlers,VIEWER_ID:ViewerPattern.VIEWER_ID,VIEWER_TYPE:ViewerPattern.VIEWER_TYPE,applyOptimisticMutation,commitLocalUpdate,commitMutation,fetchQuery,fetchQuery_DEPRECATED,isRelayModernEnvironment,requestSubscription,ConnectionInterface,PreloadableQueryRegistry,RelayProfiler,createPayloadFor3DField,RelayConcreteNode,RelayError,RelayFeatureFlags,DEFAULT_HANDLE_KEY:RelayDefaultHandleKey.DEFAULT_HANDLE_KEY,FRAGMENTS_KEY:RelayStoreUtils.FRAGMENTS_KEY,FRAGMENT_OWNER_KEY:RelayStoreUtils.FRAGMENT_OWNER_KEY,ID_KEY:RelayStoreUtils.ID_KEY,REF_KEY:RelayStoreUtils.REF_KEY,REFS_KEY:RelayStoreUtils.REFS_KEY,ROOT_ID:RelayStoreUtils.ROOT_ID,ROOT_TYPE:RelayStoreUtils.ROOT_TYPE,TYPENAME_KEY:RelayStoreUtils.TYPENAME_KEY,deepFreeze,generateClientID,generateUniqueClientID,getRelayHandleKey,isClientID,isPromise,isScalarAndEqual,recycleNodesInto,stableCopy,hasCycle,getFragmentIdentifier,getRefetchMetadata,getPaginationMetadata,getPaginationVariables,getPendingOperationsForFragment,getValueAtPath,__internal:{ResolverFragments,OperationTracker:RelayOperationTracker,createRelayContext,getOperationVariables:RelayConcreteVariables.getOperationVariables,getLocalVariables:RelayConcreteVariables.getLocalVariables,fetchQuery:fetchQueryInternal.fetchQuery,fetchQueryDeduped:fetchQueryInternal.fetchQueryDeduped,getPromiseForActiveRequest:fetchQueryInternal.getPromiseForActiveRequest,getObservableForActiveRequest:fetchQueryInternal.getObservableForActiveRequest,normalizeResponse,withProvidedVariables}},relayRuntime=lib,__defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(nt,et,at)=>et in nt?__defProp$1(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__spreadValues$1=(nt,et)=>{for(var at in et||(et={}))__hasOwnProp$1.call(et,at)&&__defNormalProp$1(nt,at,et[at]);if(__getOwnPropSymbols$1)for(var at of __getOwnPropSymbols$1(et))__propIsEnum$1.call(et,at)&&__defNormalProp$1(nt,at,et[at]);return nt},version="4.0.0",stateChangedSubscriptionQuery=`
  subscription stateChanged {
    stateChanged {
      ... on TargetStateChangedEvent {
        __typename
        targetId
        targetType
        timestamp
      }
      ... on NotificationHistoryStateChangedEvent {
        __typename
        timestamp
      }
    }
  }
`;gql`
  ${stateChangedSubscriptionQuery}
`;var ActiveAlertFragment=gql`
  fragment ActiveAlertFragment on ActiveAlert {
    __typename
    id
    filterOptionsJson
    fusionEventId
    subscriptionValue
    user {
      __typename
      id
      connectedWallets {
        address
        walletBlockchain
      }
    }
  }
`,tenantActiveAlertChangedSubscriptionQuery=`
  subscription tenantActiveAlertChanged {
    tenantActiveAlertChanged {
      __typename
      ... on ActiveAlertCreatedEvent {
        __typename
        activeAlert {
          ...ActiveAlertFragment
        }
      }
      ... on ActiveAlertDeletedEvent {
        alertId
        timestamp
        userId
      }
    }
  }
  ${ActiveAlertFragment}
`;gql`
  ${tenantActiveAlertChangedSubscriptionQuery}
`;var __assign=function(){return __assign=Object.assign||function(et){for(var at,mt=1,$t=arguments.length;mt<$t;mt++){at=arguments[mt];for(var Ct in at)Object.prototype.hasOwnProperty.call(at,Ct)&&(et[Ct]=at[Ct])}return et},__assign.apply(this,arguments)},docCache=new Map,fragmentSourceMap=new Map,printFragmentWarnings=!0,experimentalFragmentVariables=!1;function normalize(nt){return nt.replace(/[\s,]+/g," ").trim()}function cacheKeyFromLoc(nt){return normalize(nt.source.body.substring(nt.start,nt.end))}function processFragments(nt){var et=new Set,at=[];return nt.definitions.forEach(function(mt){if(mt.kind==="FragmentDefinition"){var $t=mt.name.value,Ct=cacheKeyFromLoc(mt.loc),Dt=fragmentSourceMap.get($t);Dt&&!Dt.has(Ct)?printFragmentWarnings&&console.warn("Warning: fragment with name "+$t+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):Dt||fragmentSourceMap.set($t,Dt=new Set),Dt.add(Ct),et.has(Ct)||(et.add(Ct),at.push(mt))}else at.push(mt)}),__assign(__assign({},nt),{definitions:at})}function stripLoc(nt){var et=new Set(nt.definitions);et.forEach(function(mt){mt.loc&&delete mt.loc,Object.keys(mt).forEach(function($t){var Ct=mt[$t];Ct&&typeof Ct=="object"&&et.add(Ct)})});var at=nt.loc;return at&&(delete at.startToken,delete at.endToken),nt}function parseDocument(nt){var et=normalize(nt);if(!docCache.has(et)){var at=parse$3(nt,{experimentalFragmentVariables,allowLegacyFragmentVariables:experimentalFragmentVariables});if(!at||at.kind!=="Document")throw new Error("Not a valid GraphQL document.");docCache.set(et,stripLoc(processFragments(at)))}return docCache.get(et)}function gql4(nt){for(var et=[],at=1;at<arguments.length;at++)et[at-1]=arguments[at];typeof nt=="string"&&(nt=[nt]);var mt=nt[0];return et.forEach(function($t,Ct){$t&&$t.kind==="Document"?mt+=$t.loc.source.body:mt+=$t,mt+=nt[Ct+1]}),parseDocument(mt)}function resetCaches(){docCache.clear(),fragmentSourceMap.clear()}function disableFragmentWarnings(){printFragmentWarnings=!1}function enableExperimentalFragmentVariables(){experimentalFragmentVariables=!0}function disableExperimentalFragmentVariables(){experimentalFragmentVariables=!1}var extras={gql:gql4,resetCaches,disableFragmentWarnings,enableExperimentalFragmentVariables,disableExperimentalFragmentVariables};(function(nt){nt.gql=extras.gql,nt.resetCaches=extras.resetCaches,nt.disableFragmentWarnings=extras.disableFragmentWarnings,nt.enableExperimentalFragmentVariables=extras.enableExperimentalFragmentVariables,nt.disableExperimentalFragmentVariables=extras.disableExperimentalFragmentVariables})(gql4||(gql4={}));gql4.default=gql4;var lib_default=gql4,ActiveAlertFragmentFragmentDoc=lib_default`
    fragment ActiveAlertFragment on ActiveAlert {
  __typename
  id
  filterOptionsJson
  fusionEventId
  subscriptionValue
  user {
    __typename
    id
    connectedWallets {
      address
      walletBlockchain
    }
  }
}
    `,FilterFragmentFragmentDoc=lib_default`
    fragment FilterFragment on Filter {
  id
  name
  filterType
}
    `,SourceFragmentFragmentDoc=lib_default`
    fragment SourceFragment on Source {
  id
  name
  type
  blockchainAddress
  fusionEventTypeId
  applicableFilters {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,SourceGroupFragmentFragmentDoc=lib_default`
    fragment SourceGroupFragment on SourceGroup {
  id
  name
  sources {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,EmailTargetFragmentFragmentDoc=lib_default`
    fragment EmailTargetFragment on EmailTarget {
  emailAddress
  id
  isConfirmed
  name
}
    `,SmsTargetFragmentFragmentDoc=lib_default`
    fragment SmsTargetFragment on SmsTarget {
  id
  isConfirmed
  name
  phoneNumber
}
    `,TelegramTargetFragmentFragmentDoc=lib_default`
    fragment TelegramTargetFragment on TelegramTarget {
  id
  isConfirmed
  name
  telegramId
  confirmationUrl
}
    `,WebhookTargetFragmentFragmentDoc=lib_default`
    fragment WebhookTargetFragment on WebhookTarget {
  id
  url
  status
  format
  headers {
    key
    value
  }
  name
}
    `,DiscordTargetFragmentFragmentDoc=lib_default`
    fragment DiscordTargetFragment on DiscordTarget {
  id
  discordAccountId
  discriminator
  isConfirmed
  username
  name
  userStatus
  verificationLink
  discordServerInviteLink
}
    `,SlackChannelTargetFragmentFragmentDoc=lib_default`
    fragment SlackChannelTargetFragment on SlackChannelTarget {
  id
  name
  slackChannelName
  slackWorkspaceName
  verificationLink
  webhookVerificationLink
  verificationStatus
}
    `,Web3TargetFragmentFragmentDoc=lib_default`
    fragment Web3TargetFragment on Web3Target {
  id
  name
  accountId
  walletBlockchain
  targetProtocol
  isConfirmed
  senderAddress
}
    `,TargetGroupFragmentFragmentDoc=lib_default`
    fragment TargetGroupFragment on TargetGroup {
  id
  name
  emailTargets {
    ...EmailTargetFragment
  }
  smsTargets {
    ...SmsTargetFragment
  }
  telegramTargets {
    ...TelegramTargetFragment
  }
  webhookTargets {
    ...WebhookTargetFragment
  }
  discordTargets {
    ...DiscordTargetFragment
  }
  slackChannelTargets {
    ...SlackChannelTargetFragment
  }
  web3Targets {
    ...Web3TargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${WebhookTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${SlackChannelTargetFragmentFragmentDoc}
${Web3TargetFragmentFragmentDoc}`,AlertFragmentFragmentDoc=lib_default`
    fragment AlertFragment on Alert {
  id
  groupName
  name
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,ConnectedWalletFragmentFragmentDoc=lib_default`
    fragment ConnectedWalletFragment on ConnectedWallet {
  address
  walletBlockchain
}
    `,FusionNotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment FusionNotificationHistoryEntryFragment on FusionNotificationHistoryEntry {
  __typename
  id
  createdDate
  read
  fusionEventVariables
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
      customIconUrl
    }
  }
}
    `,NotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment NotificationHistoryEntryFragment on NotificationHistoryEntry {
  __typename
  id
  createdDate
  eventId
  read
  sourceAddress
  category
  transactionSignature
  targets {
    type
    name
  }
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
    }
  }
}
    `,PageInfoFragmentFragmentDoc=lib_default`
    fragment PageInfoFragment on PageInfo {
  hasNextPage
  endCursor
}
    `,CreateSlackChannelTargetResponseFragmentFragmentDoc=lib_default`
    fragment CreateSlackChannelTargetResponseFragment on CreateSlackChannelTargetResponse {
  slackChannelTarget {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,GetSlackChannelTargetsResponseFragmentFragmentDoc=lib_default`
    fragment GetSlackChannelTargetsResponseFragment on SlackChannelTargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,TenantConfigFragmentFragmentDoc=lib_default`
    fragment TenantConfigFragment on TenantConfig {
  id
  type
  dataJson
  fusionEvents {
    id
    metadata
    name
  }
}
    `,TenantUserAlertFragmentFragmentDoc=lib_default`
    fragment TenantUserAlertFragment on TenantUserAlert {
  id
  name
  groupName
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    hasVerifiedFcm
    hasVerifiedSms
    hasVerifiedWeb3
    hasVerifiedEmails
    hasVerifiedWebhook
    hasVerifiedDiscord
    hasVerifiedTelegram
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}`,TenantConnectedWalletFragmentFragmentDoc=lib_default`
    fragment TenantConnectedWalletFragment on TenantConnectedWallet {
  address
  walletBlockchain
}
    `,TenantUserFragmentFragmentDoc=lib_default`
    fragment TenantUserFragment on TenantUser {
  id
  alerts {
    ...TenantUserAlertFragment
  }
  connectedWallets {
    ...TenantConnectedWalletFragment
  }
}
    ${TenantUserAlertFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}`,AuthorizationFragmentFragmentDoc=lib_default`
    fragment AuthorizationFragment on Authorization {
  token
  expiry
}
    `,UserFragmentFragmentDoc=lib_default`
    fragment UserFragment on User {
  email
  emailConfirmed
  authorization {
    ...AuthorizationFragment
  }
  roles
}
    ${AuthorizationFragmentFragmentDoc}`,UserTopicFragmentFragmentDoc=lib_default`
    fragment UserTopicFragment on UserTopic {
  name
  topicName
  targetCollections
  targetTemplate
}
    `,GetWeb3TargetResponseFragmentFragmentDoc=lib_default`
    fragment GetWeb3TargetResponseFragment on Web3TargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetResponseFragment on VerifyXmtpTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyCbwTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyCbwTargetResponseFragment on VerifyCbwTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetViaXip42ResponseFragment on VerifyXmtpTargetViaXip42Response {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,WebPushTargetFragmentFragmentDoc=lib_default`
    fragment WebPushTargetFragment on WebPushTarget {
  id
  createdDate
  name
}
    `,AddSourceToSourceGroupDocument=lib_default`
    mutation addSourceToSourceGroup($input: AddSourceToSourceGroupInput!) {
  addSourceToSourceGroup(addSourceToSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,BeginLogInByTransactionDocument=lib_default`
    mutation beginLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!) {
  beginLogInByTransaction(
    beginLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress}
  ) {
    nonce
  }
}
    `,BeginLogInWithWeb3Document=lib_default`
    mutation beginLogInWithWeb3($authAddress: String!, $blockchainType: WalletBlockchain!, $dappAddress: String!, $authType: Web3AuthType!, $walletPubkey: String) {
  beginLogInWithWeb3(
    beginLogInWithWeb3Input: {authAddress: $authAddress, blockchainType: $blockchainType, dappAddress: $dappAddress, authType: $authType, walletPubkey: $walletPubkey}
  ) {
    beginLogInWithWeb3Response {
      nonce
    }
  }
}
    `,BroadcastMessageDocument=lib_default`
    mutation broadcastMessage($idempotencyKey: String, $topicName: String!, $targetTemplates: [KeyValuePairOfTargetTypeAndStringInput!], $variables: [KeyValuePairOfStringAndStringInput!], $timestamp: Long!, $walletBlockchain: WalletBlockchain!, $signature: String!) {
  broadcastMessage(
    broadcastMessageInput: {idempotencyKey: $idempotencyKey, sourceAddress: $topicName, targetTemplates: $targetTemplates, variables: $variables, timestamp: $timestamp, walletBlockchain: $walletBlockchain}
    signature: $signature
  ) {
    id
  }
}
    `,CompleteLogInByTransactionDocument=lib_default`
    mutation completeLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!, $randomUuid: String!, $transactionSignature: String!) {
  completeLogInByTransaction(
    completeLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress, randomUuid: $randomUuid, transactionSignature: $transactionSignature}
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,CompleteLogInWithWeb3Document=lib_default`
    mutation completeLogInWithWeb3($nonce: String!, $signature: String!, $signedMessage: String!, $signingAddress: String!, $signingPubkey: String!) {
  completeLogInWithWeb3(
    completeLogInWithWeb3Input: {nonce: $nonce, signature: $signature, signedMessage: $signedMessage, signingAddress: $signingAddress, signingPubkey: $signingPubkey}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,ConnectWalletDocument=lib_default`
    mutation connectWallet($walletPublicKey: String!, $timestamp: Long!, $signature: String!, $walletBlockchain: WalletBlockchain!, $accountId: String, $connectWalletConflictResolutionTechnique: ConnectWalletConflictResolutionTechnique) {
  connectWallet(
    connectWalletInput: {walletPublicKey: $walletPublicKey, timestamp: $timestamp, walletBlockchain: $walletBlockchain, accountId: $accountId, connectWalletConflictResolutionTechnique: $connectWalletConflictResolutionTechnique}
    signature: $signature
  ) {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,CreateAlertDocument=lib_default`
    mutation createAlert($name: String!, $sourceGroupId: String!, $filterId: String!, $targetGroupId: String!, $filterOptions: String!, $groupName: String!) {
  createAlert(
    alertInput: {name: $name, sourceGroupId: $sourceGroupId, filterId: $filterId, targetGroupId: $targetGroupId, filterOptions: $filterOptions, groupName: $groupName}
  ) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDirectPushAlertDocument=lib_default`
    mutation createDirectPushAlert($input: CreateDirectPushAlertInput!) {
  createDirectPushAlert(createDirectPushAlertInput: $input) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDiscordTargetDocument=lib_default`
    mutation createDiscordTarget($name: String!, $value: String!) {
  createDiscordTarget(createTargetInput: {name: $name, value: $value}) {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,CreateEmailTargetDocument=lib_default`
    mutation createEmailTarget($name: String!, $value: String!) {
  createEmailTarget(createTargetInput: {name: $name, value: $value}) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,CreateFusionAlertsDocument=lib_default`
    mutation createFusionAlerts($input: CreateFusionAlertsInput!) {
  createFusionAlerts(input: $input) {
    alerts {
      groupName
      id
      name
      filterOptions
    }
    errors {
      ... on ArgumentError {
        __typename
        message
        paramName
      }
      ... on ArgumentNullError {
        __typename
        message
        paramName
      }
      ... on ArgumentOutOfRangeError {
        __typename
        message
        paramName
      }
    }
  }
}
    `,CreateSlackChannelTargetDocument=lib_default`
    mutation createSlackChannelTarget($name: String!, $value: String!) {
  createSlackChannelTarget(input: {name: $name, value: $value}) {
    ...CreateSlackChannelTargetResponseFragment
  }
}
    ${CreateSlackChannelTargetResponseFragmentFragmentDoc}`,CreateSmsTargetDocument=lib_default`
    mutation createSmsTarget($name: String!, $value: String!) {
  createSmsTarget(createTargetInput: {name: $name, value: $value}) {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,CreateSourceDocument=lib_default`
    mutation createSource($name: String, $blockchainAddress: String!, $type: SourceType!, $fusionEventTypeId: String) {
  createSource(
    createSourceInput: {name: $name, blockchainAddress: $blockchainAddress, type: $type, fusionEventTypeId: $fusionEventTypeId}
  ) {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,CreateSourceGroupDocument=lib_default`
    mutation createSourceGroup($name: String!, $sourceIds: [String!]!) {
  createSourceGroup(sourceGroupInput: {name: $name, sourceIds: $sourceIds}) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,CreateTargetGroupDocument=lib_default`
    mutation createTargetGroup($name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $webhookTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  createTargetGroup(
    targetGroupInput: {name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, webhookTargetIds: $webhookTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,CreateTelegramTargetDocument=lib_default`
    mutation createTelegramTarget($name: String!, $value: String!) {
  createTelegramTarget(createTargetInput: {name: $name, value: $value}) {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,CreateTenantUserDocument=lib_default`
    mutation createTenantUser($input: CreateTenantUserInput!) {
  createTenantUser(createTenantUserInput: $input) {
    ...TenantUserFragment
  }
}
    ${TenantUserFragmentFragmentDoc}`,CreateWeb3TargetDocument=lib_default`
    mutation createWeb3Target($name: String!, $accountId: String!, $walletBlockchain: WalletBlockchain!, $web3TargetProtocol: Web3TargetProtocol!) {
  createWeb3Target(
    createWeb3TargetInput: {name: $name, accountId: $accountId, walletBlockchain: $walletBlockchain, protocol: $web3TargetProtocol}
  ) {
    ...Web3TargetFragment
  }
}
    ${Web3TargetFragmentFragmentDoc}`,CreateWebPushTargetDocument=lib_default`
    mutation createWebPushTarget($vapidPublicKey: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  createWebPushTarget(
    input: {vapidPublicKey: $vapidPublicKey, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ... on TargetLimitExceededError {
        message
      }
      ... on UnexpectedError {
        message
      }
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}`,CreateWebhookTargetDocument=lib_default`
    mutation createWebhookTarget($name: String!, $url: String!, $format: WebhookPayloadFormat!, $headers: [KeyValuePairOfStringAndStringInput!]!) {
  createWebhookTarget(
    createTargetInput: {name: $name, url: $url, format: $format, headers: $headers}
  ) {
    ...WebhookTargetFragment
  }
}
    ${WebhookTargetFragmentFragmentDoc}`,DeleteAlertDocument=lib_default`
    mutation deleteAlert($id: String!) {
  deleteAlert(alertId: $id) {
    id
  }
}
    `,DeleteDirectPushAlertDocument=lib_default`
    mutation deleteDirectPushAlert($input: DeleteDirectPushAlertInput!) {
  deleteDirectPushAlert(deleteDirectPushAlertInput: $input) {
    id
  }
}
    `,DeleteSourceGroupDocument=lib_default`
    mutation deleteSourceGroup($id: String!) {
  deleteSourceGroup(sourceGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteTargetGroupDocument=lib_default`
    mutation deleteTargetGroup($id: String!) {
  deleteTargetGroup(targetGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteUserAlertDocument=lib_default`
    mutation deleteUserAlert($alertId: String!) {
  deleteUserAlert(alertId: $alertId) {
    id
  }
}
    `,DeleteWebPushTargetDocument=lib_default`
    mutation deleteWebPushTarget($id: String!) {
  deleteWebPushTarget(input: {id: $id}) {
    success
    errors {
      ... on TargetDoesNotExistError {
        message
      }
      ... on UnexpectedError {
        message
      }
    }
  }
}
    `,DeleteWebhookTargetDocument=lib_default`
    mutation deleteWebhookTarget($id: String!) {
  deleteWebhookTarget(deleteTargetInput: {id: $id}) {
    id
  }
}
    `,LogInByOidcDocument=lib_default`
    mutation logInByOidc($dappId: String!, $oidcProvider: OidcProvider!, $idToken: String!) {
  logInByOidc(
    input: {dappId: $dappId, oidcProvider: $oidcProvider, idToken: $idToken}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromDappDocument=lib_default`
    mutation logInFromDapp($walletBlockchain: WalletBlockchain!, $walletPublicKey: String!, $dappAddress: String!, $timestamp: Long!, $signature: String!, $accountId: String) {
  logInFromDapp(
    dappLogInInput: {walletBlockchain: $walletBlockchain, walletPublicKey: $walletPublicKey, dappAddress: $dappAddress, timestamp: $timestamp, accountId: $accountId}
    signature: $signature
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromServiceDocument=lib_default`
    mutation logInFromService($input: ServiceLogInInput!) {
  logInFromService(serviceLogInInput: $input) {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,MarkFusionNotificationHistoryAsReadDocument=lib_default`
    mutation markFusionNotificationHistoryAsRead($ids: [String!]!, $beforeId: String, $readState: NotificationHistoryReadState) {
  markFusionNotificationHistoryAsRead(
    input: {ids: $ids, beforeId: $beforeId, readState: $readState}
  )
}
    `,PublishFusionMessageDocument=lib_default`
    mutation publishFusionMessage($eventTypeId: String!, $variablesJson: String!, $specificWallets: [KeyValuePairOfStringAndWalletBlockchainInput!]) {
  publishFusionMessage(
    publishFusionMessageInput: {eventTypeId: $eventTypeId, variablesJson: $variablesJson, specificWallets: $specificWallets}
  ) {
    eventUuid
  }
}
    `,RefreshAuthorizationDocument=lib_default`
    mutation refreshAuthorization {
  refreshAuthorization {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,RemoveSourceFromSourceGroupDocument=lib_default`
    mutation removeSourceFromSourceGroup($input: RemoveSourceFromSourceGroupInput!) {
  removeSourceFromSourceGroup(removeSourceFromSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,SendEmailTargetVerificationRequestDocument=lib_default`
    mutation sendEmailTargetVerificationRequest($targetId: String!) {
  sendEmailTargetVerificationRequest(
    sendTargetConfirmationRequestInput: {targetId: $targetId}
  ) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,SendMessageDocument=lib_default`
    mutation sendMessage($input: SendMessageInput!) {
  sendMessage(sendMessageInput: $input)
}
    `,UpdateSourceGroupDocument=lib_default`
    mutation updateSourceGroup($id: String!, $name: String!, $sourceIds: [String!]!) {
  updateSourceGroup: createSourceGroup(
    sourceGroupInput: {id: $id, name: $name, sourceIds: $sourceIds}
  ) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,UpdateTargetGroupDocument=lib_default`
    mutation updateTargetGroup($id: String!, $name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $webhookTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  updateTargetGroup: createTargetGroup(
    targetGroupInput: {id: $id, name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, webhookTargetIds: $webhookTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,UpdateUserSettingsDocument=lib_default`
    mutation updateUserSettings($input: UserSettingsInput!) {
  updateUserSettings(userSettings: $input) {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,UpdateWebPushTargetDocument=lib_default`
    mutation updateWebPushTarget($id: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  updateWebPushTarget(
    input: {id: $id, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ... on TargetDoesNotExistError {
        message
      }
      ... on UnexpectedError {
        message
      }
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}`,VerifyCbwTargetDocument=lib_default`
    mutation verifyCbwTarget($input: VerifyCbwTargetInput!) {
  verifyCbwTarget(input: $input) {
    ...VerifyCbwTargetResponseFragment
  }
}
    ${VerifyCbwTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetDocument=lib_default`
    mutation verifyXmtpTarget($input: VerifyXmtpTargetInput!) {
  verifyXmtpTarget(input: $input) {
    ...VerifyXmtpTargetResponseFragment
  }
}
    ${VerifyXmtpTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetViaXip42Document=lib_default`
    mutation verifyXmtpTargetViaXip42($input: VerifyXmtpTargetViaXip42Input!) {
  verifyXmtpTargetViaXip42(input: $input) {
    ...VerifyXmtpTargetViaXip42ResponseFragment
  }
}
    ${VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc}`,FetchDataDocument=lib_default`
    query fetchData {
  alert {
    ...AlertFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  source {
    ...SourceFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
  emailTarget {
    ...EmailTargetFragment
  }
  smsTarget {
    ...SmsTargetFragment
  }
  telegramTarget {
    ...TelegramTargetFragment
  }
  discordTarget {
    ...DiscordTargetFragment
  }
  filter {
    ...FilterFragment
  }
}
    ${AlertFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${SourceFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}
${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${FilterFragmentFragmentDoc}`,FetchFusionDataDocument=lib_default`
    query fetchFusionData {
  alert {
    ...AlertFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${AlertFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,FindTenantConfigDocument=lib_default`
    query findTenantConfig($input: FindTenantConfigInput!) {
  findTenantConfig(findTenantConfigInput: $input) {
    ...TenantConfigFragment
  }
}
    ${TenantConfigFragmentFragmentDoc}`,GetActiveAlertsDocument=lib_default`
    query getActiveAlerts($first: Int, $after: String, $fusionEventId: String!) {
  activeAlerts(
    after: $after
    first: $first
    activeAlertsInput: {fusionEventId: $fusionEventId}
  ) {
    nodes {
      ...ActiveAlertFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${ActiveAlertFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetAlertsDocument=lib_default`
    query getAlerts {
  alert {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,GetConfigurationForDappDocument=lib_default`
    query getConfigurationForDapp($dappAddress: String!) {
  configurationForDapp(getConfigurationForDappInput: {dappAddress: $dappAddress}) {
    supportedSmsCountryCodes
    supportedTargetTypes
  }
}
    `,GetConnectedWalletsDocument=lib_default`
    query getConnectedWallets {
  connectedWallet {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,GetDiscordTargetsDocument=lib_default`
    query getDiscordTargets {
  discordTarget {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,GetEmailTargetsDocument=lib_default`
    query getEmailTargets {
  emailTarget {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,GetFiltersDocument=lib_default`
    query getFilters {
  filter {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,GetFusionNotificationHistoryDocument=lib_default`
    query getFusionNotificationHistory($after: String, $first: Int, $includeHidden: Boolean, $includeRead: Boolean) {
  fusionNotificationHistory(
    after: $after
    first: $first
    includeHidden: $includeHidden
    includeRead: $includeRead
  ) {
    nodes {
      ...FusionNotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${FusionNotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetNotificationHistoryDocument=lib_default`
    query getNotificationHistory($after: String, $first: Int) {
  notificationHistory(after: $after, first: $first) {
    nodes {
      ...NotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${NotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetSlackChannelTargetsDocument=lib_default`
    query getSlackChannelTargets($after: String, $first: Int, $ids: [String!]) {
  slackChannelTargets(input: {after: $after, first: $first, ids: $ids}) {
    ...GetSlackChannelTargetsResponseFragment
  }
}
    ${GetSlackChannelTargetsResponseFragmentFragmentDoc}`,GetSmsTargetsDocument=lib_default`
    query getSmsTargets {
  smsTarget {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,GetSourceConnectionDocument=lib_default`
    query getSourceConnection($input: GetSourcesInput, $first: Int, $after: String) {
  sources(getSourcesInput: $input, first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...SourceFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${SourceFragmentFragmentDoc}`,GetSourceGroupsDocument=lib_default`
    query getSourceGroups {
  sourceGroup {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,GetSourcesDocument=lib_default`
    query getSources {
  source {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,GetTargetGroupsDocument=lib_default`
    query getTargetGroups {
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,GetTelegramTargetsDocument=lib_default`
    query getTelegramTargets {
  telegramTarget {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,GetTenantConnectedWalletDocument=lib_default`
    query getTenantConnectedWallet($input: GetTenantConnectedWalletInput, $first: Int, $after: String) {
  tenantConnectedWallet(
    getTenantConnectedWalletInput: $input
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantConnectedWalletFragment
      user {
        ...TenantUserFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTenantUserDocument=lib_default`
    query getTenantUser($first: Int, $after: String) {
  tenantUser(first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantUserFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTopicsDocument=lib_default`
    query getTopics {
  topics {
    nodes {
      ...UserTopicFragment
    }
  }
}
    ${UserTopicFragmentFragmentDoc}`,GetUnreadNotificationHistoryCountDocument=lib_default`
    query getUnreadNotificationHistoryCount($cardId: String) {
  unreadNotificationHistoryCount(input: {cardId: $cardId}) {
    count
  }
}
    `,GetUserSettingsDocument=lib_default`
    query getUserSettings {
  userSettings {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,GetWeb3TargetsDocument=lib_default`
    query getWeb3Targets {
  web3Targets {
    ...GetWeb3TargetResponseFragment
  }
}
    ${GetWeb3TargetResponseFragmentFragmentDoc}`,GetWebPushTargetsDocument=lib_default`
    query getWebPushTargets($ids: [String!], $first: Int, $after: String) {
  webPushTargets(
    input: {ids: $ids, first: $first, after: $after}
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...WebPushTargetFragment
    }
    edges {
      cursor
      node {
        ...WebPushTargetFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${WebPushTargetFragmentFragmentDoc}`,GetWebhookTargetsDocument=lib_default`
    query getWebhookTargets {
  webhookTarget {
    ...WebhookTargetFragment
  }
}
    ${WebhookTargetFragmentFragmentDoc}`,defaultWrapper=(nt,et,at,mt)=>nt();function getSdk(nt,et=defaultWrapper){return{addSourceToSourceGroup(at,mt){return et($t=>nt.request(AddSourceToSourceGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"addSourceToSourceGroup","mutation",at)},beginLogInByTransaction(at,mt){return et($t=>nt.request(BeginLogInByTransactionDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"beginLogInByTransaction","mutation",at)},beginLogInWithWeb3(at,mt){return et($t=>nt.request(BeginLogInWithWeb3Document,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"beginLogInWithWeb3","mutation",at)},broadcastMessage(at,mt){return et($t=>nt.request(BroadcastMessageDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"broadcastMessage","mutation",at)},completeLogInByTransaction(at,mt){return et($t=>nt.request(CompleteLogInByTransactionDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"completeLogInByTransaction","mutation",at)},completeLogInWithWeb3(at,mt){return et($t=>nt.request(CompleteLogInWithWeb3Document,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"completeLogInWithWeb3","mutation",at)},connectWallet(at,mt){return et($t=>nt.request(ConnectWalletDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"connectWallet","mutation",at)},createAlert(at,mt){return et($t=>nt.request(CreateAlertDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createAlert","mutation",at)},createDirectPushAlert(at,mt){return et($t=>nt.request(CreateDirectPushAlertDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createDirectPushAlert","mutation",at)},createDiscordTarget(at,mt){return et($t=>nt.request(CreateDiscordTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createDiscordTarget","mutation",at)},createEmailTarget(at,mt){return et($t=>nt.request(CreateEmailTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createEmailTarget","mutation",at)},createFusionAlerts(at,mt){return et($t=>nt.request(CreateFusionAlertsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createFusionAlerts","mutation",at)},createSlackChannelTarget(at,mt){return et($t=>nt.request(CreateSlackChannelTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createSlackChannelTarget","mutation",at)},createSmsTarget(at,mt){return et($t=>nt.request(CreateSmsTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createSmsTarget","mutation",at)},createSource(at,mt){return et($t=>nt.request(CreateSourceDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createSource","mutation",at)},createSourceGroup(at,mt){return et($t=>nt.request(CreateSourceGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createSourceGroup","mutation",at)},createTargetGroup(at,mt){return et($t=>nt.request(CreateTargetGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createTargetGroup","mutation",at)},createTelegramTarget(at,mt){return et($t=>nt.request(CreateTelegramTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createTelegramTarget","mutation",at)},createTenantUser(at,mt){return et($t=>nt.request(CreateTenantUserDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createTenantUser","mutation",at)},createWeb3Target(at,mt){return et($t=>nt.request(CreateWeb3TargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createWeb3Target","mutation",at)},createWebPushTarget(at,mt){return et($t=>nt.request(CreateWebPushTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createWebPushTarget","mutation",at)},createWebhookTarget(at,mt){return et($t=>nt.request(CreateWebhookTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"createWebhookTarget","mutation",at)},deleteAlert(at,mt){return et($t=>nt.request(DeleteAlertDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"deleteAlert","mutation",at)},deleteDirectPushAlert(at,mt){return et($t=>nt.request(DeleteDirectPushAlertDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"deleteDirectPushAlert","mutation",at)},deleteSourceGroup(at,mt){return et($t=>nt.request(DeleteSourceGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"deleteSourceGroup","mutation",at)},deleteTargetGroup(at,mt){return et($t=>nt.request(DeleteTargetGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"deleteTargetGroup","mutation",at)},deleteUserAlert(at,mt){return et($t=>nt.request(DeleteUserAlertDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"deleteUserAlert","mutation",at)},deleteWebPushTarget(at,mt){return et($t=>nt.request(DeleteWebPushTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"deleteWebPushTarget","mutation",at)},deleteWebhookTarget(at,mt){return et($t=>nt.request(DeleteWebhookTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"deleteWebhookTarget","mutation",at)},logInByOidc(at,mt){return et($t=>nt.request(LogInByOidcDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"logInByOidc","mutation",at)},logInFromDapp(at,mt){return et($t=>nt.request(LogInFromDappDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"logInFromDapp","mutation",at)},logInFromService(at,mt){return et($t=>nt.request(LogInFromServiceDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"logInFromService","mutation",at)},markFusionNotificationHistoryAsRead(at,mt){return et($t=>nt.request(MarkFusionNotificationHistoryAsReadDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"markFusionNotificationHistoryAsRead","mutation",at)},publishFusionMessage(at,mt){return et($t=>nt.request(PublishFusionMessageDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"publishFusionMessage","mutation",at)},refreshAuthorization(at,mt){return et($t=>nt.request(RefreshAuthorizationDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"refreshAuthorization","mutation",at)},removeSourceFromSourceGroup(at,mt){return et($t=>nt.request(RemoveSourceFromSourceGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"removeSourceFromSourceGroup","mutation",at)},sendEmailTargetVerificationRequest(at,mt){return et($t=>nt.request(SendEmailTargetVerificationRequestDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"sendEmailTargetVerificationRequest","mutation",at)},sendMessage(at,mt){return et($t=>nt.request(SendMessageDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"sendMessage","mutation",at)},updateSourceGroup(at,mt){return et($t=>nt.request(UpdateSourceGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"updateSourceGroup","mutation",at)},updateTargetGroup(at,mt){return et($t=>nt.request(UpdateTargetGroupDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"updateTargetGroup","mutation",at)},updateUserSettings(at,mt){return et($t=>nt.request(UpdateUserSettingsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"updateUserSettings","mutation",at)},updateWebPushTarget(at,mt){return et($t=>nt.request(UpdateWebPushTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"updateWebPushTarget","mutation",at)},verifyCbwTarget(at,mt){return et($t=>nt.request(VerifyCbwTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"verifyCbwTarget","mutation",at)},verifyXmtpTarget(at,mt){return et($t=>nt.request(VerifyXmtpTargetDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"verifyXmtpTarget","mutation",at)},verifyXmtpTargetViaXip42(at,mt){return et($t=>nt.request(VerifyXmtpTargetViaXip42Document,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"verifyXmtpTargetViaXip42","mutation",at)},fetchData(at,mt){return et($t=>nt.request(FetchDataDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"fetchData","query",at)},fetchFusionData(at,mt){return et($t=>nt.request(FetchFusionDataDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"fetchFusionData","query",at)},findTenantConfig(at,mt){return et($t=>nt.request(FindTenantConfigDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"findTenantConfig","query",at)},getActiveAlerts(at,mt){return et($t=>nt.request(GetActiveAlertsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getActiveAlerts","query",at)},getAlerts(at,mt){return et($t=>nt.request(GetAlertsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getAlerts","query",at)},getConfigurationForDapp(at,mt){return et($t=>nt.request(GetConfigurationForDappDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getConfigurationForDapp","query",at)},getConnectedWallets(at,mt){return et($t=>nt.request(GetConnectedWalletsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getConnectedWallets","query",at)},getDiscordTargets(at,mt){return et($t=>nt.request(GetDiscordTargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getDiscordTargets","query",at)},getEmailTargets(at,mt){return et($t=>nt.request(GetEmailTargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getEmailTargets","query",at)},getFilters(at,mt){return et($t=>nt.request(GetFiltersDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getFilters","query",at)},getFusionNotificationHistory(at,mt){return et($t=>nt.request(GetFusionNotificationHistoryDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getFusionNotificationHistory","query",at)},getNotificationHistory(at,mt){return et($t=>nt.request(GetNotificationHistoryDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getNotificationHistory","query",at)},getSlackChannelTargets(at,mt){return et($t=>nt.request(GetSlackChannelTargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getSlackChannelTargets","query",at)},getSmsTargets(at,mt){return et($t=>nt.request(GetSmsTargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getSmsTargets","query",at)},getSourceConnection(at,mt){return et($t=>nt.request(GetSourceConnectionDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getSourceConnection","query",at)},getSourceGroups(at,mt){return et($t=>nt.request(GetSourceGroupsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getSourceGroups","query",at)},getSources(at,mt){return et($t=>nt.request(GetSourcesDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getSources","query",at)},getTargetGroups(at,mt){return et($t=>nt.request(GetTargetGroupsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getTargetGroups","query",at)},getTelegramTargets(at,mt){return et($t=>nt.request(GetTelegramTargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getTelegramTargets","query",at)},getTenantConnectedWallet(at,mt){return et($t=>nt.request(GetTenantConnectedWalletDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getTenantConnectedWallet","query",at)},getTenantUser(at,mt){return et($t=>nt.request(GetTenantUserDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getTenantUser","query",at)},getTopics(at,mt){return et($t=>nt.request(GetTopicsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getTopics","query",at)},getUnreadNotificationHistoryCount(at,mt){return et($t=>nt.request(GetUnreadNotificationHistoryCountDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getUnreadNotificationHistoryCount","query",at)},getUserSettings(at,mt){return et($t=>nt.request(GetUserSettingsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getUserSettings","query",at)},getWeb3Targets(at,mt){return et($t=>nt.request(GetWeb3TargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getWeb3Targets","query",at)},getWebPushTargets(at,mt){return et($t=>nt.request(GetWebPushTargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getWebPushTargets","query",at)},getWebhookTargets(at,mt){return et($t=>nt.request(GetWebhookTargetsDocument,at,__spreadValues$1(__spreadValues$1({},mt),$t)),"getWebhookTargets","query",at)}}}var NotifiService=class{constructor(nt,et){this._notifiSubService=et,this._typedClient=getSdk(nt)}setJwt(nt){this._jwt=nt,this._notifiSubService.setJwt(nt)}async logOut(){this._jwt=void 0,this._notifiSubService.setJwt(void 0)}async addSourceToSourceGroup(nt){const et=this._requestHeaders();return this._typedClient.addSourceToSourceGroup(nt,et)}async beginLogInByTransaction(nt){const et=this._requestHeaders();return this._typedClient.beginLogInByTransaction(nt,et)}async broadcastMessage(nt){const et=this._requestHeaders();return this._typedClient.broadcastMessage(nt,et)}async completeLogInByTransaction(nt){var et,at;const mt=this._requestHeaders(),$t=await this._typedClient.completeLogInByTransaction(nt,mt),Ct=(at=(et=$t.completeLogInByTransaction)==null?void 0:et.authorization)==null?void 0:at.token;return Ct!==void 0&&this._onAuthComplete(Ct),$t}async connectWallet(nt){const et=this._requestHeaders();return await this._typedClient.connectWallet(nt,et)}async createAlert(nt){const et=this._requestHeaders();return this._typedClient.createAlert(nt,et)}async createFusionAlerts(nt){const et=this._requestHeaders();return this._typedClient.createFusionAlerts(nt,et)}async createDirectPushAlert(nt){const et=this._requestHeaders();return this._typedClient.createDirectPushAlert(nt,et)}async createEmailTarget(nt){const et=this._requestHeaders();return this._typedClient.createEmailTarget(nt,et)}async createDiscordTarget(nt){const et=this._requestHeaders();return this._typedClient.createDiscordTarget(nt,et)}async createSlackChannelTarget(nt){const et=this._requestHeaders();return this._typedClient.createSlackChannelTarget(nt,et)}async createWeb3Target(nt){const et=this._requestHeaders();return this._typedClient.createWeb3Target(nt,et)}async createSmsTarget(nt){const et=this._requestHeaders();return this._typedClient.createSmsTarget(nt,et)}async createSource(nt){const et=this._requestHeaders();return this._typedClient.createSource(nt,et)}async createSourceGroup(nt){const et=this._requestHeaders();return this._typedClient.createSourceGroup(nt,et)}async createTargetGroup(nt){const et=this._requestHeaders();return this._typedClient.createTargetGroup(nt,et)}async createTenantUser(nt){const et=this._requestHeaders();return this._typedClient.createTenantUser(nt,et)}async createWebhookTarget(nt){const et=this._requestHeaders();return this._typedClient.createWebhookTarget(nt,et)}async createTelegramTarget(nt){const et=this._requestHeaders();return this._typedClient.createTelegramTarget(nt,et)}async deleteAlert(nt){const et=this._requestHeaders();return this._typedClient.deleteAlert(nt,et)}async DeleteDirectPushAlert(nt){const et=this._requestHeaders();return this._typedClient.deleteDirectPushAlert(nt,et)}async deleteUserAlert(nt){const et=this._requestHeaders();return this._typedClient.deleteUserAlert(nt,et)}async deleteSourceGroup(nt){const et=this._requestHeaders();return this._typedClient.deleteSourceGroup(nt,et)}async deleteTargetGroup(nt){const et=this._requestHeaders();return this._typedClient.deleteTargetGroup(nt,et)}async deleteWebhookTarget(nt){const et=this._requestHeaders();return this._typedClient.deleteWebhookTarget(nt,et)}async fetchData(nt){const et=this._requestHeaders();return this._typedClient.fetchData(nt,et)}async fetchFusionData(nt){const et=this._requestHeaders();return this._typedClient.fetchFusionData(nt,et)}async findTenantConfig(nt){const et=this._requestHeaders();return this._typedClient.findTenantConfig(nt,et)}async getAlerts(nt){const et=this._requestHeaders();return this._typedClient.getAlerts(nt,et)}async getActiveAlerts(nt){const et=this._requestHeaders();return this._typedClient.getActiveAlerts(nt,et)}async getConfigurationForDapp(nt){const et=this._requestHeaders();return this._typedClient.getConfigurationForDapp(nt,et)}async getConnectedWallets(nt){const et=this._requestHeaders();return this._typedClient.getConnectedWallets(nt,et)}async getEmailTargets(nt){const et=this._requestHeaders();return this._typedClient.getEmailTargets(nt,et)}async getDiscordTargets(nt){const et=this._requestHeaders();return this._typedClient.getDiscordTargets(nt,et)}async getSlackChannelTargets(nt){const et=this._requestHeaders();return this._typedClient.getSlackChannelTargets(nt,et)}async getWeb3Targets(nt){const et=this._requestHeaders();return this._typedClient.getWeb3Targets(nt,et)}async getFilters(nt){const et=this._requestHeaders();return this._typedClient.getFilters(nt,et)}async getFusionNotificationHistory(nt){const et=this._requestHeaders();return this._typedClient.getFusionNotificationHistory(nt,et)}async getNotificationHistory(nt){const et=this._requestHeaders();return this._typedClient.getNotificationHistory(nt,et)}async getSmsTargets(nt){const et=this._requestHeaders();return this._typedClient.getSmsTargets(nt,et)}async getSourceConnection(nt){const et=this._requestHeaders();return this._typedClient.getSourceConnection(nt,et)}async getSourceGroups(nt){const et=this._requestHeaders();return this._typedClient.getSourceGroups(nt,et)}async getSources(nt){const et=this._requestHeaders();return this._typedClient.getSources(nt,et)}async getTargetGroups(nt){const et=this._requestHeaders();return this._typedClient.getTargetGroups(nt,et)}async getTelegramTargets(nt){const et=this._requestHeaders();return this._typedClient.getTelegramTargets(nt,et)}async getTenantConnectedWallets(nt){const et=this._requestHeaders();return this._typedClient.getTenantConnectedWallet(nt,et)}async getTenantUser(nt){const et=this._requestHeaders();return this._typedClient.getTenantUser(nt,et)}async getTopics(nt){const et=this._requestHeaders();return this._typedClient.getTopics(nt,et)}async getUnreadNotificationHistoryCount(nt){const et=this._requestHeaders();return this._typedClient.getUnreadNotificationHistoryCount(nt,et)}subscribeNotificationHistoryStateChanged(nt,et,at){return this._notifiSubService.subscribe(this._jwt,stateChangedSubscriptionQuery,nt,et,at)}async wsDispose(){this._notifiSubService.disposeClient()}addEventListener(nt,et,at,mt){return this._notifiSubService.addEventListener(nt,et,at,mt)}removeEventListener(nt,et){return this._notifiSubService.removeEventListener(nt,et)}async getUserSettings(nt){const et=this._requestHeaders();return this._typedClient.getUserSettings(nt,et)}async getWebhookTargets(nt){const et=this._requestHeaders();return this._typedClient.getWebhookTargets(nt,et)}async logInFromDapp(nt){var et,at;const mt=this._requestHeaders(),$t=await this._typedClient.logInFromDapp(nt,mt),Ct=(at=(et=$t.logInFromDapp)==null?void 0:et.authorization)==null?void 0:at.token;return Ct!==void 0&&this._onAuthComplete(Ct),$t}async logInFromService(nt){var et;const at=this._requestHeaders(),mt=await this._typedClient.logInFromService(nt,at),$t=(et=mt.logInFromService)==null?void 0:et.token;return $t!==void 0&&this._onAuthComplete($t),mt}async logInByOidc(nt){var et,at,mt;const $t=this._requestHeaders(),Ct=await this._typedClient.logInByOidc(nt,$t),Dt=(mt=(at=(et=Ct.logInByOidc)==null?void 0:et.user)==null?void 0:at.authorization)==null?void 0:mt.token;return Dt!==void 0&&this._onAuthComplete(Dt),Ct}async markFusionNotificationHistoryAsRead(nt){const et=this._requestHeaders();return this._typedClient.markFusionNotificationHistoryAsRead(nt,et)}async updateUserSettings(nt){const et=this._requestHeaders();return this._typedClient.updateUserSettings(nt,et)}async refreshAuthorization(nt){var et;const at=this._requestHeaders(),mt=await this._typedClient.refreshAuthorization(nt,at),$t=(et=mt.refreshAuthorization)==null?void 0:et.token;return $t!==void 0&&this._onAuthComplete($t),mt}async removeSourceFromSourceGroup(nt){const et=this._requestHeaders();return this._typedClient.removeSourceFromSourceGroup(nt,et)}async sendEmailTargetVerificationRequest(nt){const et=this._requestHeaders();return this._typedClient.sendEmailTargetVerificationRequest(nt,et)}async sendMessage(nt){const et=this._requestHeaders();return this._typedClient.sendMessage(nt,et)}async updateSourceGroup(nt){const et=this._requestHeaders();return this._typedClient.updateSourceGroup(nt,et)}async updateTargetGroup(nt){const et=this._requestHeaders();return this._typedClient.updateTargetGroup(nt,et)}async beginLogInWithWeb3(nt){const et=this._requestHeaders();return this._typedClient.beginLogInWithWeb3(nt,et)}async completeLogInWithWeb3(nt){var et,at,mt;const $t=this._requestHeaders(),Ct=await this._typedClient.completeLogInWithWeb3(nt,$t),Dt=(mt=(at=(et=Ct==null?void 0:Ct.completeLogInWithWeb3)==null?void 0:et.user)==null?void 0:at.authorization)==null?void 0:mt.token;return Dt!==void 0&&this._onAuthComplete(Dt),Ct}async verifyCbwTarget(nt){const et=this._requestHeaders();return this._typedClient.verifyCbwTarget(nt,et)}async verifyXmtpTarget(nt){const et=this._requestHeaders();return this._typedClient.verifyXmtpTarget(nt,et)}async verifyXmtpTargetViaXip42(nt){const et=this._requestHeaders();return this._typedClient.verifyXmtpTargetViaXip42(nt,et)}async createWebPushTarget(nt){const et=this._requestHeaders();return this._typedClient.createWebPushTarget(nt,et)}async updateWebPushTarget(nt){const et=this._requestHeaders();return this._typedClient.updateWebPushTarget(nt,et)}async deleteWebPushTarget(nt){const et=this._requestHeaders();return this._typedClient.deleteWebPushTarget(nt,et)}async getWebPushTargets(nt){const et=this._requestHeaders();return this._typedClient.getWebPushTargets(nt,et)}_onAuthComplete(nt){this._jwt=nt,this._notifiSubService.setJwt(nt)}_requestHeaders(){const et={"X-Request-Id":v4(),"X-Notifi-Client-Version":version};return this._jwt!==void 0&&(et.Authorization=`Bearer ${this._jwt}`),et}},NotifiEventEmitter=class{constructor(){this.listeners={}}on(nt,et,at){this.listeners[nt]||(this.listeners[nt]={}),this.listeners[nt][at]=et}off(nt,et){var at;(at=this.listeners[nt])!=null&&at[et]&&(this.listeners[nt][et].subscription.unsubscribe(),delete this.listeners[nt][et])}emit(nt,et,...at){var mt,$t;(mt=this.listeners[nt])!=null&&mt[et]&&($t=this.listeners[nt])!=null&&$t[et]&&this.listeners[nt][et].callback(...at)}},NotifiSubscriptionService=class{constructor(nt,et){this.wsurl=nt,this.webSocketImpl=et,this.eventEmitter=new NotifiEventEmitter,this.setJwt=at=>{this._jwt=at},this.addEventListener=(at,mt,$t,Ct)=>{const Dt=Math.random().toString(36).slice(2,11),Ft={subscriptionQuery:"",id:Dt,onError:$t,onComplete:Ct};switch(at){case"stateChanged":Ft.subscriptionQuery=stateChangedSubscriptionQuery;break;case"tenantActiveAlertChanged":Ft.subscriptionQuery=tenantActiveAlertChangedSubscriptionQuery;break;default:throw new Error("Unknown event")}const Nt=this._subscribe(Ft);if(!Nt)throw new Error("NotifiSubscriptionService.addEventListener: Subscription failed");return this.eventEmitter.on(at,{callback:mt,subscription:Nt},Dt),Dt},this.removeEventListener=(at,mt)=>this.eventEmitter.off(at,mt),this._subscribe=({subscriptionQuery:at,id:mt,onError:$t,onComplete:Ct})=>(this._wsClient||this._initializeClient(),!this._wsClient||!this._jwt?null:this._toObservable(this._wsClient,{query:at,extensions:{type:"start"}}).subscribe({next:Nt=>{switch(at){case stateChangedSubscriptionQuery:const jt=getSubscriptionData("stateChanged",Nt);if(!jt)throw new Error("Invalid stateChanged event data");this.eventEmitter.emit("stateChanged",mt,jt);break;case tenantActiveAlertChangedSubscriptionQuery:const Lt=getSubscriptionData("tenantActiveAlertChanged",Nt);if(!Lt)throw new Error("Invalid tenantActiveAlertChanged event data");this.eventEmitter.emit("tenantActiveAlertChanged",mt,Lt);break;default:console.warn("Unknown subscription query:",at)}},error:$t,complete:Ct})),this._initializeClient=()=>{if(!this._jwt)throw new Error("NotifiSubscriptionService._initializeClient: Missing JWT");this._wsClient=createClient({url:this.wsurl,connectionParams:{Authorization:`Bearer ${this._jwt}`},webSocketImpl:this.webSocketImpl})},this.disposeClient=()=>{this._wsClient&&(this._jwt=void 0,this._wsClient.terminate(),this._wsClient.dispose())},this.subscribe=(at,mt,$t,Ct,Dt)=>(this._jwt=at,this._wsClient||this._initializeClient(),this._wsClient?this._toObservable(this._wsClient,{query:mt,extensions:{type:"start"}}).subscribe({next:jt=>{$t&&$t(jt)},error:jt=>{Ct&&jt instanceof Error&&Ct(jt)},complete:()=>{Dt&&Dt()}}):null)}_toObservable(nt,et){return relayRuntime.Observable.create(at=>nt.subscribe(et,{next:mt=>at.next(mt),error:mt=>{mt instanceof Error&&at.error(mt)},complete:()=>at.complete()}))}},getSubscriptionData=(nt,et)=>{if(typeof et!="object"||et===null||!("data"in et))return null;const{data:at}=et;return typeof at=="object"&&at!==null&&nt in at?at[nt]:null},browser=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const WebSocket$1=getDefaultExportFromCjs$2(browser);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(nt,et,at)=>et in nt?__defProp(nt,et,{enumerable:!0,configurable:!0,writable:!0,value:at}):nt[et]=at,__spreadValues=(nt,et)=>{for(var at in et||(et={}))__hasOwnProp.call(et,at)&&__defNormalProp(nt,at,et[at]);if(__getOwnPropSymbols)for(var at of __getOwnPropSymbols(et))__propIsEnum.call(et,at)&&__defNormalProp(nt,at,et[at]);return nt},__spreadProps=(nt,et)=>__defProps(nt,__getOwnPropDescs(et)),checkIsConfigWithPublicKeyAndAddress=nt=>"accountAddress"in nt,checkIsConfigWithDelegate=nt=>"delegatedAddress"in nt,checkIsConfigWithOidc=nt=>nt.walletBlockchain==="OFF_CHAIN",evmChains=["ETHEREUM","POLYGON","ARBITRUM","AVALANCHE","BINANCE","OPTIMISM","THE_ROOT_NETWORK","BASE","BLAST","CELO","MANTLE","LINEA","SCROLL","MANTA","MONAD","ZKSYNC","BERACHAIN","SONIC","ROME"],isEvmChain=nt=>!!evmChains.find(et=>et===nt),envUrl=(nt,et)=>{nt||(nt="Production");let at="";switch(nt){case"Development":at="://api.dev.notifi.network/gql";break;case"Local":at="://localhost:5001/gql";break;case"Production":at="://api.notifi.network/gql";break;case"Staging":at="://api.stg.notifi.network/gql"}return`${et==="websocket"?"wss":nt==="Local"?"http":"https"}${at}`},notNullOrEmpty=nt=>nt!=null,packFilterOptions=nt=>nt===null?"{}":JSON.stringify(nt),createRefResolver=nt=>(et,at,mt)=>{if(at.type==="value")return at.value;{if(at.ref===null)throw new Error(`Invalid configuration: Ref ${et} is null`);const $t=mt[at.ref];if(nt($t))return $t;throw new Error(`Invalid value provided for ${et}: ${$t}`)}},resolveStringRef=createRefResolver(nt=>typeof nt=="string"),resolveNumberRef=createRefResolver(nt=>typeof nt=="number"&&!Number.isNaN(nt)),resolveStringArrayRef=createRefResolver(nt=>Array.isArray(nt)&&nt.every(et=>typeof et=="string")),resolveCheckRatioArrayRef=createRefResolver(nt=>Array.isArray(nt)&&nt.every(et=>typeof et=="object"&&typeof et.type=="string"&&typeof et.ratio=="number"&&!Number.isNaN(et.ratio))),areIdsEqual=(nt,et)=>{const at=new Set(nt);return et.length===at.size&&et.every(mt=>mt!==void 0&&mt.id!==void 0&&at.has(mt.id))},ensureDirectPushSource=async(nt,et,at)=>{const $t=(await nt.getSources({})).source,Ct=$t==null?void 0:$t.find(Dt=>Dt!==void 0&&Dt.type==="DIRECT_PUSH");if(Ct===void 0)throw new Error("Failed to identify direct push source");return Ct},ensureFusionSource=async(nt,et,at)=>{const mt=resolveStringRef(et.name,et.sourceAddress,at),$t=resolveStringRef(et.name,et.fusionEventId,at),Dt=(await nt.getSources({})).source,Ft=Dt==null?void 0:Dt.find(Lt=>Lt!==void 0&&Lt.type==="FUSION_SOURCE"&&Lt.blockchainAddress===mt&&Lt.fusionEventTypeId===$t);if(Ft!==void 0)return Ft;const jt=(await nt.createSource({type:"FUSION_SOURCE",blockchainAddress:mt,fusionEventTypeId:$t})).createSource;if(jt===void 0)throw new Error("Failed to create source");return jt},ensureBroadcastSource=async(nt,et,at)=>{const $t=(await nt.getSources({})).source;if($t===void 0)throw new Error("Failed to fetch sources");const Ct=resolveStringRef(et.name,et.broadcastId,at),Dt=$t.find(jt=>(jt==null?void 0:jt.type)==="BROADCAST"&&jt.blockchainAddress===Ct);if(Dt!==void 0)return Dt;const Nt=(await nt.createSource({type:"BROADCAST",blockchainAddress:Ct})).createSource;if(Nt===void 0)throw new Error("Failed to create source");return Nt},ensureTradingPairSource=async(nt,et,at)=>{const $t=(await nt.getSources({})).source,Ct=$t==null?void 0:$t.find(Dt=>(Dt==null?void 0:Dt.type)==="DIRECT_PUSH");if(Ct===void 0)throw new Error("Failed to identify trading pair source (=directPush)");return Ct},ensurePriceChangeSources=async(nt,et,at)=>{const $t=(await nt.getSources({})).source;if($t===void 0)throw new Error("Failed to fetch sources");const Ct=[],Dt=new Set(et.tokenIds);if($t.forEach(Ft=>{(Ft==null?void 0:Ft.type)==="COIN_PRICE_CHANGES"&&(Dt.delete(Ft.blockchainAddress),Ct.push(Ft))}),Dt.size>0){let Ft=Promise.resolve();Dt.forEach(Nt=>{Ft=Ft.then(async()=>{const Lt=(await nt.createSource({type:"COIN_PRICE_CHANGES",blockchainAddress:Nt})).createSource;Lt!==void 0&&Ct.push(Lt)})}),await Ft}return Ct},ensureWalletBalanceSources=async(nt,et,at)=>{const $t=(await nt.getConnectedWallets({})).connectedWallet;if(!$t)throw new Error("Failed to fetch connected wallets");const Ct=$t.map(Lt=>{var Vt;const er=(or=>{switch(or){case"ACALA":return"ACALA_WALLET";case"APTOS":return"APTOS_WALLET";case"MOVEMENT":return"MOVEMENT_WALLET";case"ARBITRUM":return"ARBITRUM_WALLET";case"AVALANCHE":return"AVALANCHE_WALLET";case"BINANCE":return"BINANCE_WALLET";case"ETHEREUM":return"ETHEREUM_WALLET";case"THE_ROOT_NETWORK":return"THE_ROOT_NETWORK";case"BASE":return"ETHEREUM_WALLET";case"BLAST":return"BLAST_WALLET";case"CELO":return"CELO_WALLET";case"MANTLE":return"MANTLE_WALLET";case"LINEA":return"LINEA_WALLET";case"MONAD":return"MONAD_WALLET";case"MANTA":return"MANTA_WALLET";case"SCROLL":return"SCROLL_WALLET";case"POLYGON":return"POLYGON_WALLET";case"SOLANA":return"SOLANA_WALLET";case"OPTIMISM":return"OPTIMISM_WALLET";case"SUI":return"SUI_WALLET";case"ZKSYNC":return"ZKSYNC_WALLET";case"ARCHWAY":return"ARCHWAY_WALLET";case"ELYS":return"ELYS_WALLET";case"AXELAR":return"AXELAR_WALLET";case"NEUTRON":return"NEUTRON_WALLET";case"BERACHAIN":return"BERACHAIN_WALLET";case"XION":return"XION_WALLET";case"AGORIC":return"AGORIC_WALLET";case"ORAI":return"ORAI_WALLET";case"KAVA":return"KAVA_WALLET";case"CELESTIA":return"CELESTIA_WALLET";case"COSMOS":return"COSMOS_WALLET";case"DYMENSION":return"DYMENSION_WALLET";case"PERSISTENCE":return"PERSISTENCE_WALLET";case"DYDX":return"DYDX_WALLET";default:throw new Error("Unsupported walletType")}})(Lt==null?void 0:Lt.walletBlockchain),ir=(Vt=Lt==null?void 0:Lt.address)!=null?Vt:"";return{name:`${er} ${ir}`,blockchainAddress:ir,type:er}}),Ft=(await nt.getSources({})).source;if(Ft===void 0)throw new Error("Failed to fetch sources");const Nt=Ct.map(async Lt=>{const Vt=Ft.find(ir=>(ir==null?void 0:ir.name)===Lt.name);if(Vt)return Vt;const{createSource:er}=await nt.createSource(Lt);if(!er)throw new Error(`Failed to create ${Lt.type} source`);return er});return await Promise.all(Nt)},normalizeSourceAddress=(nt,et)=>{switch(nt){case"ETHEREUM_WALLET":case"POLYGON_WALLET":case"ARBITRUM_WALLET":case"BINANCE_WALLET":case"OPTIMISM_WALLET":case"AVALANCHE_WALLET":case"ZKSYNC_WALLET":case"BENQI":case"DELTA_PRIME":case"DELTA_PRIME_LENDING_RATES":case"MOVEMENT_WALLET":case"APTOS_WALLET":return normalizeHexString(et);default:return et}},normalizeHexString=nt=>{let et=nt;return nt!==""&&(et=nt.toLowerCase(),et.startsWith("0x")||(et="0x"+et)),et},ensureCustomSources=async(nt,et,at)=>{const $t=(await nt.getSources({})).source;if($t===void 0)throw new Error("Failed to fetch sources");const Ct=resolveStringRef(et.name,et.sourceAddress,at),Dt=normalizeSourceAddress(et.sourceType,Ct),Ft=$t.find(Lt=>(Lt==null?void 0:Lt.type)===et.sourceType&&Lt.blockchainAddress===Dt);if(Ft!==void 0)return Ft;const jt=(await nt.createSource({type:et.sourceType,blockchainAddress:Dt})).createSource;if(jt===void 0)throw new Error("Failed to create source");return jt},ensureXMTPSources=async(nt,et,at)=>{const $t=(await nt.getSources({})).source;if($t===void 0)throw new Error("Failed to fetch sources");const Ft=resolveStringArrayRef(et.name,et.XMTPTopics,at).map(jt=>({name:jt,blockchainAddress:jt,type:"XMTP"})).map(async jt=>{const Lt=$t.find(er=>(er==null?void 0:er.type)==="XMTP"&&er.name===jt.name);if(Lt)return Lt;const{createSource:Vt}=await nt.createSource(jt);if(!Vt)throw new Error("Failed to create XMTP source");return Vt});return await Promise.all(Ft)},ensureHealthCheckSources=async(nt,et,at)=>{const $t=(await nt.getSources({})).source,Ct=$t==null?void 0:$t.find(Dt=>(Dt==null?void 0:Dt.type)==="DIRECT_PUSH");if(Ct===void 0)throw new Error("Failed to identify Health Check source (=directPush)");return Ct},ensureSources=async(nt,et,at)=>{switch(et.type){case"directPush":return[await ensureDirectPushSource(nt)];case"broadcast":return[await ensureBroadcastSource(nt,et,at)];case"tradingPair":return[await ensureTradingPairSource(nt)];case"priceChange":return await ensurePriceChangeSources(nt,et);case"walletBalance":return await ensureWalletBalanceSources(nt);case"custom":return[await ensureCustomSources(nt,et,at)];case"XMTP":return await ensureXMTPSources(nt,et,at);case"healthCheck":return[await ensureHealthCheckSources(nt)];case"fusionToggle":case"fusion":return[await ensureFusionSource(nt,et,at)];case"label":throw new Error("Unsupported event type");default:throw new Error("Unsupported event type")}},ensureSourceGroup=async(nt,et,at)=>{var mt,$t;const Dt=(mt=(await nt.getSourceGroups({})).sourceGroup)==null?void 0:mt.find(jt=>jt!==void 0&&jt.name===et);if(Dt===void 0){const Lt=(await nt.createSourceGroup({name:et,sourceIds:at})).createSourceGroup;if(Lt===void 0)throw new Error("Failed to create source group");return Lt}if(areIdsEqual(at,($t=Dt.sources)!=null?$t:[]))return Dt;const Nt=(await nt.updateSourceGroup({id:Dt.id,name:et,sourceIds:at})).updateSourceGroup;if(Nt===void 0)throw new Error("Failed to update source group");return Nt},getDirectPushFilter=(nt,et,at)=>{var mt;const $t=(mt=nt.applicableFilters)==null?void 0:mt.find(Ft=>(Ft==null?void 0:Ft.filterType)==="DIRECT_TENANT_MESSAGES");if($t===void 0)throw new Error("Failed to retrieve filter");const Dt={directMessageType:resolveStringRef(et.name,et.directPushId,at)};return{filter:$t,filterOptions:Dt}},getBroadcastFilter=(nt,et,at)=>{var mt;const $t=(mt=nt.applicableFilters)==null?void 0:mt.find(Ct=>(Ct==null?void 0:Ct.filterType)==="BROADCAST_MESSAGES");if($t===void 0)throw new Error("Failed to retrieve filter");return{filter:$t,filterOptions:{}}},tradingPairInputsValidator=nt=>!(typeof nt.direction!="string"||typeof nt.price!="number"||typeof nt.pair!="string"),getTradingPairFilter=(nt,et,at)=>{var mt;const $t=(mt=nt.applicableFilters)==null?void 0:mt.find(Nt=>(Nt==null?void 0:Nt.filterType)==="DIRECT_TENANT_MESSAGES");if($t===void 0)throw new Error("Failed to retrieve TradingPair filter (=directMessage)");const Ct=resolveStringArrayRef(et.name,et.tradingPairs,at);if(Ct.length===0)throw new Error("No trading pairs found");const Dt=tradingPairInputsValidator(at)?at.pair:Ct[0],Ft=tradingPairInputsValidator(at)?at.price.toFixed(8):"1.00000000";return{filter:$t,filterOptions:{tradingPair:Dt,values:{and:[{key:"spotPrice",op:at.direction==="above"?"gt":"lt",value:Ft}]}}}},getPriceChangeFilter=(nt,et,at)=>{const mt=nt.flatMap($t=>{var Ct;return(Ct=$t.applicableFilters)!=null?Ct:[]}).find($t=>($t==null?void 0:$t.filterType)==="COIN_PRICE_CHANGE_EVENTS");if(mt===void 0)throw new Error("Failed to retrieve filter");return{filter:mt,filterOptions:{}}},getWalletBalanceSourceFilter=(nt,et,at)=>{var mt;const $t=(mt=nt.applicableFilters)==null?void 0:mt.find(Ct=>(Ct==null?void 0:Ct.filterType)==="BALANCE");if($t===void 0)throw new Error("Failed to retrieve filter: wallet balance");return{filter:$t,filterOptions:{}}},getFusionSourceFilter=(nt,et,at)=>{var mt,$t;const Ct=(mt=nt.applicableFilters)==null?void 0:mt.find(Ft=>(Ft==null?void 0:Ft.filterType)==="FUSION_SOURCE");if(Ct===void 0)throw new Error("Failed to retrieve fusion source filter");let Dt={};if(et.selectedUIType==="TOGGLE"||et.selectedUIType==="MULTI_THRESHOLD")et.alertFrequency!==void 0&&(Dt={alertFrequency:et.alertFrequency});else if(et.selectedUIType==="HEALTH_CHECK"){const Ft=`${et.name}__healthRatio`;at[Ft]||(at[`${et.name}__healthRatio`]=et.checkRatios[1].ratio);const Nt=resolveNumberRef(Ft,{type:"ref",ref:Ft},at),jt=`${et.name}__healthThresholdDirection`;at[jt]||(at[jt]=et.checkRatios[0].type==="above"?"above":"below");const Lt=($t=resolveStringRef(jt,{type:"ref",ref:jt},at))!=null?$t:et.checkRatios[0].ratio;if(!Nt||!Lt)throw new Error("Failed to retrieve health ratio or direction");Dt={alertFrequency:et.alertFrequency,threshold:et.numberType==="percentage"?Nt/100:Nt,thresholdDirection:Lt==="above"?"above":"below"}}return{filter:Ct,filterOptions:Dt}},getCustomFilterOptions=(nt,et)=>{var at,mt;switch(nt.selectedUIType){case"TOGGLE":return nt.filterOptions;case"HEALTH_CHECK":{const $t=`${nt.name}__healthRatio`,Ct=(at=resolveNumberRef($t,{type:"ref",ref:$t},et))!=null?at:nt.checkRatios[0].ratio,Dt=`${nt.name}__healthThresholdDirection`,Ft=(mt=resolveStringRef(Dt,{type:"ref",ref:Dt},et))!=null?mt:nt.checkRatios[0].ratio;if(!Ct||!Ft)throw new Error("Failed to retrieve health ratio or direction");return{alertFrequency:nt.alertFrequency,threshold:nt.numberType==="percentage"?Ct/100:Ct,thresholdDirection:Ft==="above"?"above":"below"}}}},getCustomFilter=(nt,et,at)=>{var mt;const $t=(mt=nt.applicableFilters)==null?void 0:mt.find(Ct=>(Ct==null?void 0:Ct.filterType)===et.filterType);if($t===void 0)throw new Error("Failed to retrieve filter");return{filter:$t,filterOptions:getCustomFilterOptions(et,at)}},getXMTPFilter=(nt,et,at)=>{var mt;const $t=(mt=nt.applicableFilters)==null?void 0:mt.find(Ct=>(Ct==null?void 0:Ct.filterType)==="WEB3_CHAT_MESSAGES");if($t===void 0)throw new Error("Failed to retrieve filter: XMTP");return{filter:$t,filterOptions:{}}},checkInputsIsWithIndex=nt=>"index"in nt,getHealthCheckFilter=(nt,et,at)=>{var mt;const $t=(mt=nt.applicableFilters)==null?void 0:mt.find(jt=>(jt==null?void 0:jt.filterType)==="VALUE_THRESHOLD");if($t===void 0)throw new Error("Failed to retrieve filter: healthCheck");const Ct=resolveCheckRatioArrayRef(et.name,et.checkRatios,at);let Dt=Ct[0].ratio,Ft=Ct[0].type;const Nt=jt=>"customPercentage"in jt&&"thresholdDirection"in jt;return checkInputsIsWithIndex(at)?(Dt=Ct[at.index].ratio,Ft=Ct[at.index].type):Nt(at)&&(Dt=at.customPercentage,Ft=at.thresholdDirection),{filter:$t,filterOptions:{alertFrequency:et.alertFrequency,threshold:Dt,thresholdDirection:Ft}}},ensureSourceAndFilters=async(nt,et,at)=>{const mt=await ensureSources(nt,et,at),$t=await ensureSourceGroup(nt,et.name,mt.map(Ct=>Ct.id));switch(et.type){case"directPush":{const{filter:Ct,filterOptions:Dt}=getDirectPushFilter(mt[0],et,at);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"broadcast":{const{filter:Ct,filterOptions:Dt}=getBroadcastFilter(mt[0]);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"tradingPair":{if(!tradingPairInputsValidator(at))throw new Error("Invalid tradingPair inputs");const{filter:Ct,filterOptions:Dt}=getTradingPairFilter(mt[0],et,at);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"priceChange":{const{filter:Ct,filterOptions:Dt}=getPriceChangeFilter(mt);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"custom":{const{filter:Ct,filterOptions:Dt}=getCustomFilter(mt[0],et,at);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"XMTP":{const{filter:Ct,filterOptions:Dt}=getXMTPFilter(mt[0]);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"healthCheck":{const{filter:Ct,filterOptions:Dt}=getHealthCheckFilter(mt[0],et,at);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"label":throw new Error("Unsupported event type");case"walletBalance":{const{filter:Ct,filterOptions:Dt}=getWalletBalanceSourceFilter(mt[0]);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}case"fusionToggle":case"fusion":{const{filter:Ct,filterOptions:Dt}=getFusionSourceFilter(mt[0],et,at);return{sourceGroup:$t,filter:Ct,filterOptions:Dt}}default:throw new Error("Unsupported event type")}},ensureTarget=(nt,et,at,mt)=>async($t,Ct)=>{if(Ct===void 0)return;const Dt=await et($t),Ft=mt!==void 0?mt(Ct):Ct,Nt=Dt==null?void 0:Dt.find(Lt=>at(Lt)===Ft);return Nt!==void 0?Nt.id:(await nt($t,Ft)).id},ensureEmail=ensureTarget(async(nt,et)=>{const mt=(await nt.createEmailTarget({name:et.toLowerCase(),value:et.toLowerCase()})).createEmailTarget;if(mt===void 0)throw new Error("Failed to create email target");return mt},async nt=>(await nt.getEmailTargets({})).emailTarget,nt=>{var et;return(et=nt==null?void 0:nt.emailAddress)==null?void 0:et.toLowerCase()},nt=>nt.toLowerCase()),ensureSms=ensureTarget(async(nt,et)=>{const mt=(await nt.createSmsTarget({name:et,value:et})).createSmsTarget;if(mt===void 0)throw new Error("Failed to create sms target");return mt},async nt=>(await nt.getSmsTargets({})).smsTarget,nt=>nt==null?void 0:nt.phoneNumber),ensureTelegram=ensureTarget(async(nt,et)=>{const mt=(await nt.createTelegramTarget({name:et.toLowerCase(),value:et.toLowerCase()})).createTelegramTarget;if(mt===void 0)throw new Error("Failed to create telegramTarget");return mt},async nt=>(await nt.getTelegramTargets({})).telegramTarget,nt=>{var et;return(et=nt==null?void 0:nt.telegramId)==null?void 0:et.toLowerCase()},nt=>nt.toLowerCase()),ensureDiscord=ensureTarget(async(nt,et)=>{const mt=(await nt.createDiscordTarget({name:et,value:et})).createDiscordTarget;if(mt===void 0)throw new Error("Failed to create discordTarget");return mt},async nt=>(await nt.getDiscordTargets({})).discordTarget,nt=>nt==null?void 0:nt.name,()=>"Default"),ensureSlack=ensureTarget(async(nt,et)=>{const mt=(await nt.createSlackChannelTarget({name:et,value:et})).createSlackChannelTarget.slackChannelTarget;if(mt===void 0)throw new Error("Failed to create slackTarget");return mt},async nt=>{var et;return(et=(await nt.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:et.nodes},nt=>nt==null?void 0:nt.name,()=>"Default"),ensureWeb3=ensureTarget(async(nt,et)=>{const mt=(await nt.createWeb3Target({name:et,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target;if(mt===void 0||mt.id===void 0)throw new Error("Failed to create web3Target");return mt},async nt=>{var et;return(et=(await nt.getWeb3Targets({})).web3Targets)==null?void 0:et.nodes},nt=>nt==null?void 0:nt.name,()=>"Default"),ensureWebhook=async(nt,et)=>{if(et===void 0)return;const mt=(await nt.getWebhookTargets({})).webhookTarget,$t=mt==null?void 0:mt.find(Ft=>(Ft==null?void 0:Ft.url.toLowerCase())===et.url.toLowerCase()&&(Ft==null?void 0:Ft.format)===et.format);if($t!==void 0)return $t.id;const Dt=(await nt.createWebhookTarget(__spreadProps(__spreadValues({},et),{name:et.url.toLowerCase(),url:et.url.toLowerCase()}))).createWebhookTarget;if(Dt===void 0)throw new Error("Failed to create webhook target");return Dt.id},getEnvPrefix=nt=>{switch(nt||(nt="Production"),nt){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createInMemoryStorageDriver=nt=>{let et=`${getEnvPrefix(nt.env||"Production")}:${nt.tenantId}:${nt.walletBlockchain}`;checkIsConfigWithOidc(nt)?et+=`:${nt.userAccount}`:checkIsConfigWithPublicKeyAndAddress(nt)?et+=`:${nt.accountAddress}:${nt.authenticationKey}`:checkIsConfigWithDelegate(nt)?et+=`:${nt.delegatorAddress}`:et+=`:${nt.walletPublicKey}`;const at={};return{get:$t=>{const Ct=`${et}:${$t}`;let Dt=null;if(Ct in at){const Ft=at[Ct];Dt=JSON.parse(Ft)}return Promise.resolve(Dt)},set:($t,Ct)=>{const Dt=`${et}:${$t}`;return Ct===null?delete at[Dt]:at[Dt]=JSON.stringify(Ct),Promise.resolve()},has:$t=>{const Ct=`${et}:${$t}`;return Promise.resolve(Ct in at)}}},KEY_AUTHORIZATION="authorization",KEY_ROLES="roles",NotifiFrontendStorage=class{constructor(nt){this._driver=nt}getAuthorization(){return this._driver.get(KEY_AUTHORIZATION)}setAuthorization(nt){return this._driver.set(KEY_AUTHORIZATION,nt)}hasAuthorization(){return this._driver.has(KEY_AUTHORIZATION)}getRoles(){return this._driver.get(KEY_ROLES)}setRoles(nt){return this._driver.set(KEY_ROLES,nt)}hasRoles(){return this._driver.has(KEY_ROLES)}};localforage.config({name:"notifi"});var getEnvPrefix2=nt=>{switch(nt||(nt="Production"),nt){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createLocalForageStorageDriver=nt=>{let et=`${getEnvPrefix2(nt.env)}:${nt.tenantId}:${nt.walletBlockchain}`;return checkIsConfigWithOidc(nt)?et+=`:${nt.userAccount}`:checkIsConfigWithPublicKeyAndAddress(nt)?et+=`:${nt.accountAddress}:${nt.authenticationKey}`:checkIsConfigWithDelegate(nt)?et+=`:${nt.delegatorAddress}`:et+=`:${nt.walletPublicKey}`,{get:async mt=>await localforage.getItem(`${et}:${mt}`),set:async(mt,$t)=>{await localforage.setItem(`${et}:${mt}`,$t)},has:async mt=>(await localforage.keys()).indexOf(`${et}:${mt}`)>=0}},COSMOS_BLOCKCHAINS=["COSMOS","OSMOSIS","NEUTRON","ELYS","ARCHWAY","AXELAR","AGORIC","ORAI","KAVA","CELESTIA","NIBIRU","DYMENSION","PERSISTENCE","DYDX","XION"],EVM_BLOCKCHAINS=["ETHEREUM","POLYGON","ARBITRUM","AVALANCHE","BINANCE","THE_ROOT_NETWORK","MONAD","BASE","BLAST","CELO","MANTLE","SCROLL","LINEA","MANTA","BERACHAIN","OPTIMISM","THE_ROOT_NETWORK","SONIC","ROME","ZKSYNC"],APTOS_BLOCKCHAINS=["APTOS","MOVEMENT"],BTC_BLOCKCHAINS=["BITCOIN","ARCH"],UNMAINTAINED_BLOCKCHAINS=["ACALA","EVMOS"];function isUnmaintainedBlockchain(nt){return UNMAINTAINED_BLOCKCHAINS.includes(nt)}function isUsingUnmaintainedBlockchain(nt){return isUnmaintainedBlockchain(nt.walletBlockchain)}function isCosmosBlockchain(nt){return COSMOS_BLOCKCHAINS.includes(nt)}function isUsingCosmosBlockchain(nt){return isCosmosBlockchain(nt.walletBlockchain)}function isEvmBlockchain(nt){return EVM_BLOCKCHAINS.includes(nt)}function isUsingEvmBlockchain(nt){return isEvmBlockchain(nt.walletBlockchain)}function isAptosBlockchain(nt){return APTOS_BLOCKCHAINS.includes(nt)}function isUsingAptosBlockchain(nt){return isAptosBlockchain(nt.walletBlockchain)}function isBtcBlockchain(nt){return BTC_BLOCKCHAINS.includes(nt)}function isUsingBtcBlockchain(nt){return isBtcBlockchain(nt.walletBlockchain)}var SIGNING_MESSAGE_WITHOUT_NONCE=`Sign in with Notifi 

    No password needed or gas is needed. 

    Clicking “Approve” only means you have proved this wallet is owned by you! 

    This request will not trigger any transaction or cost any gas fees. 

    Use of our website and service is subject to our terms of service and privacy policy.`,SIGNING_MESSAGE=`${SIGNING_MESSAGE_WITHOUT_NONCE} 
 
 'Nonce:' `,CHAINS_WITH_LOGIN_WEB3=[...APTOS_BLOCKCHAINS,...COSMOS_BLOCKCHAINS];function isLoginWeb3Params(nt){return CHAINS_WITH_LOGIN_WEB3.includes(nt.walletBlockchain)}var NotifiFrontendClient=class{constructor(nt,et,at){this._configuration=nt,this._service=et,this._storage=at,this._clientRandomUuid=null,this._userState=null}get userState(){return this._userState}async initialize(){const[nt,et]=await Promise.all([this._storage.getAuthorization(),this._storage.getRoles()]);let at=nt;if(at===null){this._service.setJwt(void 0);const Ft={status:"loggedOut"};return this._userState=Ft,Ft}const mt=new Date(at.expiry),$t=new Date;if(mt<=$t){this._service.setJwt(void 0);const Ft={status:"expired",authorization:at};return this._userState=Ft,Ft}const Ct=new Date;if(Ct.setDate($t.getDate()+7),mt<Ct)try{const Nt=(await this._service.refreshAuthorization({})).refreshAuthorization;Nt!==void 0&&(this._storage.setAuthorization(Nt),at=Nt)}catch(Ft){await this.logOut(),console.error("Failed to refresh Notifi token:",Ft)}this._service.setJwt(at.token);const Dt={status:"authenticated",authorization:at,roles:et??[]};return this._userState=Dt,Dt}async logOut(){return await Promise.all([this._storage.setAuthorization(null),this._storage.setRoles(null),this._service.logOut()]),{status:"loggedOut"}}async prepareLoginWithWeb3(nt){if(isCosmosBlockchain(nt.walletBlockchain)){const et=nt.signMessage;if(checkIsConfigWithDelegate(this._configuration)){const{delegatedAddress:at,delegatedPublicKey:mt,delegatorAddress:$t}=this._configuration,{nonce:Ct}=await this._beginLogInWithWeb3({authAddress:$t,authType:"COSMOS_AUTHZ_GRANT"}),Dt=`${SIGNING_MESSAGE}${Ct}`;return{signMessageParams:{walletBlockchain:nt.walletBlockchain,message:Dt,signMessage:et},signingAddress:at,signingPubkey:mt,nonce:Ct}}else if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{authenticationKey:at,accountAddress:mt}=this._configuration,{nonce:$t}=await this._beginLogInWithWeb3({authAddress:mt,authType:"COSMOS_ADR36"}),Ct=`${SIGNING_MESSAGE}${$t}`;return{signMessageParams:{walletBlockchain:nt.walletBlockchain,message:Ct,signMessage:et},signingAddress:mt,signingPubkey:at,nonce:$t}}}else if(isAptosBlockchain(nt.walletBlockchain)){const et=nt.signMessage;if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{nonce:at}=await this._beginLogInWithWeb3({authAddress:this._configuration.accountAddress,authType:"APTOS_SIGNED_MESSAGE",walletPubkey:this._configuration.authenticationKey});return{signMessageParams:{walletBlockchain:nt.walletBlockchain,nonce:at,signMessage:et},signingAddress:this._configuration.accountAddress,signingPubkey:this._configuration.authenticationKey,nonce:at}}}throw new Error(`Invalid loginWeb3Params: ${JSON.stringify(nt)}`)}async logInWithWeb3(nt){if(!CHAINS_WITH_LOGIN_WEB3.includes(nt.walletBlockchain)||nt.walletBlockchain!==nt.walletBlockchain)throw new Error(`Wallet blockchain must be one of ${CHAINS_WITH_LOGIN_WEB3.join(", ")} for loginWithWeb3`);const{nonce:et,signingAddress:at,signingPubkey:mt,signMessageParams:$t}=await this.prepareLoginWithWeb3(nt),Ct=await this._authenticate({signMessageParams:$t,timestamp:Math.round(Date.now()/1e3)});if(!("signature"in Ct))throw new Error("logInWith Web3 - Invalid signature - expected string");const{completeLogInWithWeb3:Dt}=await this.completeLogInWithWeb3({nonce:et,signature:Ct.signature,signedMessage:Ct.signedMessage,signingAddress:at,signingPubkey:mt});return Dt.user}async logIn(nt){const et=Math.round(Date.now()/1e3),{tenantId:at,walletBlockchain:mt}=this._configuration;let $t;if(isLoginWeb3Params(nt))$t=await this.logInWithWeb3(nt);else if(mt==="OFF_CHAIN"){const Ct=await this._authenticate({signMessageParams:nt,timestamp:et});if(!("oidcProvider"in Ct))throw new Error("logIn - Invalid signature - expected OidcCredentials");const{oidcProvider:Dt,jwt:Ft}=Ct;$t=(await this._service.logInByOidc({dappId:at,oidcProvider:Dt,idToken:Ft})).logInByOidc.user}else{const Ct=await this._authenticate({signMessageParams:nt,timestamp:et});if(!("signature"in Ct)||typeof Ct.signature!="string")throw new Error("logIn - Invalid signature - expected string signature and signedMessage");switch(mt){case"BLAST":case"BERACHAIN":case"CELO":case"MANTLE":case"LINEA":case"SCROLL":case"MANTA":case"MONAD":case"BASE":case"THE_ROOT_NETWORK":case"ETHEREUM":case"POLYGON":case"ARBITRUM":case"AVALANCHE":case"BINANCE":case"OPTIMISM":case"ZKSYNC":case"SOLANA":case"ROME":case"SONIC":{$t=(await this._service.logInFromDapp({walletBlockchain:mt,walletPublicKey:this._configuration.walletPublicKey,dappAddress:at,timestamp:et,signature:Ct.signature})).logInFromDapp;break}case"SUI":case"NEAR":case"ARCH":case"INJECTIVE":case"BITCOIN":{$t=(await this._service.logInFromDapp({walletBlockchain:mt,walletPublicKey:this._configuration.authenticationKey,accountId:this._configuration.accountAddress,dappAddress:at,timestamp:et,signature:Ct.signature})).logInFromDapp;break}default:throw new Error(`Unsupported wallet blockchain: ${mt}`)}}return $t===void 0?Promise.reject("Failed to login"):(await this._handleLogInResult($t),$t)}async _authenticate({signMessageParams:nt,timestamp:et}){if(this._configuration.walletBlockchain!==nt.walletBlockchain)throw new Error("Sign message params and configuration must have the same blockchain");if(isUsingUnmaintainedBlockchain(nt))throw new Error(`Unsupported blockchain: ${nt.walletBlockchain}. Please contact us if you beleive this is an error or if you need support for a new blockchain.`);if(isUsingCosmosBlockchain(nt)){const{signatureBase64:at,signedMessage:mt}=await nt.signMessage(nt.message);return{signature:at,signedMessage:mt}}else if(isUsingAptosBlockchain(nt)){const{signatureHex:at,signedMessage:mt}=await nt.signMessage(SIGNING_MESSAGE_WITHOUT_NONCE,nt.nonce);return{signature:at,signedMessage:mt}}else if(isUsingEvmBlockchain(nt)){const{walletPublicKey:at,tenantId:mt}=this._configuration,$t=`${SIGNING_MESSAGE}${at}${mt}${et.toString()}`,Ct=new TextEncoder().encode($t),Dt=await nt.signMessage(Ct);return{signature:normalizeHexString(Buffer$1.from(Dt).toString("hex")),signedMessage:$t}}else if(isUsingBtcBlockchain(nt)||nt.walletBlockchain==="INJECTIVE"){const{authenticationKey:at,tenantId:mt}=this._configuration,$t=`${SIGNING_MESSAGE}${at}${mt}${et.toString()}`,Ct=new TextEncoder().encode($t),Dt=await nt.signMessage(Ct);return{signature:Buffer$1.from(Dt).toString("base64"),signedMessage:$t}}switch(nt.walletBlockchain){case"SOLANA":{const{walletPublicKey:at,tenantId:mt}=this._configuration,$t=`${SIGNING_MESSAGE}${at}${mt}${et.toString()}`,Ct=new TextEncoder().encode($t),Dt=await nt.signMessage(Ct);return{signature:Buffer$1.from(Dt).toString("base64"),signedMessage:$t}}case"SUI":{const{accountAddress:at,tenantId:mt}=this._configuration,$t=`${SIGNING_MESSAGE}${at}${mt}${et.toString()}`,Ct=new TextEncoder().encode($t);return{signature:(await nt.signMessage(Ct)).toString(),signedMessage:$t}}case"NEAR":{const{authenticationKey:at,accountAddress:mt,tenantId:$t}=this._configuration,Ct=`${"ed25519:"+at}${$t}${mt}${et.toString()}`,Dt=new TextEncoder().encode(Ct),Ft=await window.crypto.subtle.digest("SHA-256",Dt),Nt=new Uint8Array(Ft),jt=await nt.signMessage(Nt);return{signature:Buffer$1.from(jt).toString("base64"),signedMessage:Ct}}case"OFF_CHAIN":{const at=await nt.signIn();if(!at)throw new Error("._authenticate: OIDC login failed");return at}}}async _handleLogInResult(nt){const et=nt==null?void 0:nt.authorization,at=et!==void 0?this._storage.setAuthorization(et):Promise.resolve(),mt=nt==null?void 0:nt.roles,$t=mt!==void 0?this._storage.setRoles(mt.filter(notNullOrEmpty)):Promise.resolve();if(et&&mt){const Ct={status:"authenticated",authorization:et,roles:mt.filter(Dt=>!!Dt)};this._userState=Ct}await Promise.all([at,$t])}async fetchFusionData(){return this._service.fetchFusionData({})}async beginLoginViaTransaction({walletBlockchain:nt,walletAddress:et}){const{tenantId:at}=this._configuration,$t=(await this._service.beginLogInByTransaction({walletAddress:et,walletBlockchain:nt,dappAddress:at})).beginLogInByTransaction.nonce;if($t===null)throw new Error("Failed to begin login process");const Ct=crypto.randomUUID();this._clientRandomUuid=Ct;const Ft=new TextEncoder().encode($t+Ct),Nt=await crypto.subtle.digest("SHA-256",Ft),jt=Array.from(new Uint8Array(Nt));let Lt="0x";return(nt==="SOLANA"||nt==="OSMOSIS")&&(Lt="Notifi Auth: 0x"),{nonce:Lt+jt.map(er=>er.toString(16).padStart(2,"0")).join("")}}async completeLoginViaTransaction({walletBlockchain:nt,walletAddress:et,transactionSignature:at}){const{tenantId:mt}=this._configuration,$t=this._clientRandomUuid;if(this._clientRandomUuid=null,$t===null)throw new Error("BeginLoginViaTransaction is required to be called first");const Ct=await this._service.completeLogInByTransaction({walletAddress:et,walletBlockchain:nt,dappAddress:mt,randomUuid:$t,transactionSignature:at});return await this._handleLogInResult(Ct.completeLogInByTransaction),Ct}async _beginLogInWithWeb3({authType:nt,authAddress:et,walletPubkey:at}){const{tenantId:mt}=this._configuration,$t=await this._service.beginLogInWithWeb3({dappAddress:mt,authAddress:et,blockchainType:this._configuration.walletBlockchain,authType:nt,walletPubkey:at});if(!$t.beginLogInWithWeb3.beginLogInWithWeb3Response)throw new Error("Failed to begin login process");return $t.beginLogInWithWeb3.beginLogInWithWeb3Response}async completeLogInWithWeb3(nt){return await this._service.completeLogInWithWeb3(__spreadValues({signingPubkey:""},nt))}async getTargetGroups(){var nt,et;return(et=(nt=(await this._service.getTargetGroups({})).targetGroup)==null?void 0:nt.filter(notNullOrEmpty))!=null?et:[]}async ensureTargetGroup({name:nt,emailAddress:et,phoneNumber:at,telegramId:mt,webhook:$t,discordId:Ct,slackId:Dt,walletId:Ft}){var Nt;const[jt,Lt,Vt,er,ir,or,lr,dr]=await Promise.all([this._service.getTargetGroups({}),ensureEmail(this._service,et),ensureSms(this._service,at),ensureTelegram(this._service,mt),ensureWebhook(this._service,$t),ensureDiscord(this._service,Ct),ensureSlack(this._service,Dt),ensureWeb3(this._service,Ft)]),pr=Lt===void 0?[]:[Lt],hr=Vt===void 0?[]:[Vt],vr=er===void 0?[]:[er],br=ir===void 0?[]:[ir],xr=or===void 0?[]:[or],Sr=lr===void 0?[]:[lr],Er=dr===void 0?[]:[dr],$r=(Nt=jt.targetGroup)==null?void 0:Nt.find(kr=>(kr==null?void 0:kr.name)===nt);if($r!==void 0)return this._updateTargetGroup({existing:$r,emailTargetIds:pr,smsTargetIds:hr,telegramTargetIds:vr,webhookTargetIds:br,discordTargetIds:xr,slackChannelTargetIds:Sr,web3TargetIds:Er});const Cr=await this._service.createTargetGroup({name:nt,emailTargetIds:pr,smsTargetIds:hr,telegramTargetIds:vr,webhookTargetIds:br,discordTargetIds:xr,slackChannelTargetIds:Sr,web3TargetIds:Er});if(Cr.createTargetGroup===void 0)throw new Error("Failed to create target group");return Cr.createTargetGroup}async _updateTargetGroup({existing:nt,emailTargetIds:et,smsTargetIds:at,telegramTargetIds:mt,webhookTargetIds:$t,discordTargetIds:Ct,slackChannelTargetIds:Dt,web3TargetIds:Ft}){var Nt,jt,Lt,Vt,er,ir,or,lr;if(areIdsEqual(et,(Nt=nt.emailTargets)!=null?Nt:[])&&areIdsEqual(at,(jt=nt.smsTargets)!=null?jt:[])&&areIdsEqual(mt,(Lt=nt.telegramTargets)!=null?Lt:[])&&areIdsEqual($t,(Vt=nt.webhookTargets)!=null?Vt:[])&&areIdsEqual(Ct,(er=nt.discordTargets)!=null?er:[])&&areIdsEqual(Dt,(ir=nt.slackChannelTargets)!=null?ir:[])&&areIdsEqual(Ft,(or=nt.web3Targets)!=null?or:[]))return nt;const pr=(await this._service.updateTargetGroup({id:nt.id,name:(lr=nt.name)!=null?lr:nt.id,emailTargetIds:et,smsTargetIds:at,telegramTargetIds:mt,webhookTargetIds:$t,discordTargetIds:Ct,slackChannelTargetIds:Dt,web3TargetIds:Ft})).updateTargetGroup;if(pr===void 0)throw new Error("Failed to update target group");return pr}async getAlerts(){var nt,et;return(et=(nt=(await this._service.getAlerts({})).alert)==null?void 0:nt.filter(notNullOrEmpty))!=null?et:[]}async ensureFusionAlerts(nt){const et=new Set(nt.alerts.map(Ft=>Ft.name)),at=await this._service.getAlerts({}),Ct=[...new Set(at.alert)].filter(Ft=>et.has(Ft==null?void 0:Ft.name)).map(Ft=>Ft==null?void 0:Ft.id).filter(Ft=>!!Ft);for(const Ft of Ct)await this.deleteAlert({id:Ft});return(await this._service.createFusionAlerts({input:nt})).createFusionAlerts}async deleteAlert({id:nt}){var et;if(((et=(await this._service.deleteAlert({id:nt})).deleteAlert)==null?void 0:et.id)===void 0)throw new Error("Failed to delete alert")}async updateWallets(){const nt={name:"User Wallets",type:"walletBalance"};return await ensureSourceAndFilters(this._service,nt,{})}async getUnreadNotificationHistoryCount(nt){const at=(await this._service.getUnreadNotificationHistoryCount({cardId:nt})).unreadNotificationHistoryCount;if(!at)throw new Error("Failed to fetch unread notification history count");return at}addEventListener(nt,et,at,mt){return this._service.addEventListener(nt,et,at,mt)}removeEventListener(nt,et){return this._service.removeEventListener(nt,et)}async getUserSettings(){const et=(await this._service.getUserSettings({})).userSettings;if(!et)throw new Error("Failed to fetch user settings");return et}async getFusionNotificationHistory(nt){var et,at;const mt=await this._service.getFusionNotificationHistory(nt),$t=(et=mt.fusionNotificationHistory)==null?void 0:et.nodes,Ct=(at=mt.fusionNotificationHistory)==null?void 0:at.pageInfo;if($t===void 0||Ct===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:Ct,nodes:$t}}async fetchTenantConfig(nt){const at=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},nt),{tenant:this._configuration.tenantId})})).findTenantConfig;if(at===void 0||!at.dataJson||!at.fusionEvents)throw new Error("Failed to find tenant config");const mt=at.dataJson;if(mt===void 0)throw new Error("Invalid config data");const $t=JSON.parse(mt),Ct=at.fusionEvents;if(!$t||$t.version!=="v1"||!Ct)throw new Error("Unsupported config format");const Dt=new Map(Ct.map(Nt=>{var jt;return[(jt=Nt==null?void 0:Nt.name)!=null?jt:"",Nt??{}]}));Dt.delete("");const Ft=$t.eventTypes.map(Nt=>{if(Nt.type==="fusion"){const jt=Dt.get(Nt.name);return{uiConfig:Nt,fusionEventDescriptor:jt}}}).filter(Nt=>!!Nt);return{cardConfig:$t,fusionEventTopics:Ft}}async copyAuthorization(nt){var et;const at=await this._storage.getAuthorization(),mt=await this._storage.getRoles(),$t=((et=nt.storageOption)==null?void 0:et.driverType)==="InMemory"?createInMemoryStorageDriver(nt):createLocalForageStorageDriver(nt),Ct=new NotifiFrontendStorage($t);await Promise.all([Ct.setAuthorization(at),Ct.setRoles(mt)])}async sendEmailTargetVerification({targetId:nt}){var et;const mt=(et=(await this._service.sendEmailTargetVerificationRequest({targetId:nt})).sendEmailTargetVerificationRequest)==null?void 0:et.id;if(mt===void 0)throw new Error("Unknown error requesting verification");return mt}async subscribeWallet(nt){if(nt.walletParams.walletBlockchain==="OFF_CHAIN")throw new Error("ERROR: subscribeWallet - OFF_CHAIN OIDC login does not support wallet connection");const{walletBlockchain:et,signMessage:at,walletPublicKey:mt}=nt.walletParams,$t={walletBlockchain:et,signMessage:at};this._userState&&this._userState.status==="authenticated"&&await this.logIn($t);const Ct=Math.round(Date.now()/1e3),Dt=await this._authenticate({signMessageParams:$t,timestamp:Ct});if(typeof Dt!="string")throw new Error("subscribeWallet - Invalid signature - expected string");return await this._service.connectWallet({walletBlockchain:et,walletPublicKey:mt,accountId:et==="APTOS"||et==="MOVEMENT"||et==="ACALA"||et==="NEAR"||et==="SUI"?nt.walletParams.accountAddress:void 0,signature:Dt,timestamp:Ct,connectWalletConflictResolutionTechnique:nt.connectWalletConflictResolutionTechnique})}async createDiscordTarget(nt){return(await this._service.createDiscordTarget({name:nt,value:nt})).createDiscordTarget}async markFusionNotificationHistoryAsRead(nt){return await this._service.markFusionNotificationHistoryAsRead(nt)}async updateUserSettings(nt){return await this._service.updateUserSettings(nt)}async verifyXmtpTarget(nt){return await this._service.verifyXmtpTarget(nt)}async verifyCbwTarget(nt){return await this._service.verifyCbwTarget(nt)}async verifyXmtpTargetViaXip42(nt){return await this._service.verifyXmtpTargetViaXip42(nt)}async createWebPushTarget(nt){return await this._service.createWebPushTarget(nt)}async updateWebPushTarget(nt){return await this._service.updateWebPushTarget(nt)}async deleteWebPushTarget(nt){return await this._service.deleteWebPushTarget(nt)}async getWebPushTargets(nt){const at=(await this._service.getWebPushTargets(nt)).webPushTargets;if(!at)throw new Error("Failed to fetch webpush targets");return at}async getSourceGroups(){var nt,et;return(et=(nt=(await this._service.getSourceGroups({})).sourceGroup)==null?void 0:nt.filter(notNullOrEmpty))!=null?et:[]}async wsDispose(){this._service.wsDispose()}async getNotificationHistory(nt){var et,at;const mt=await this._service.getNotificationHistory(nt),$t=(et=mt.notificationHistory)==null?void 0:et.nodes,Ct=(at=mt.notificationHistory)==null?void 0:at.pageInfo;if($t===void 0||Ct===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:Ct,nodes:$t}}subscribeNotificationHistoryStateChanged(nt,et,at){return this._service.subscribeNotificationHistoryStateChanged(nt,et,at)}async ensureAlert({eventType:nt,inputs:et,targetGroupName:at="Default"}){var mt,$t;const[Ct,Dt,Ft]=await Promise.all([this._service.getAlerts({}),this._service.getTargetGroups({}),ensureSourceAndFilters(this._service,nt,et)]),Nt=(mt=Dt.targetGroup)==null?void 0:mt.find(dr=>(dr==null?void 0:dr.name)===at);if(Nt===void 0)throw new Error("Target group does not exist");const{sourceGroup:jt,filter:Lt,filterOptions:Vt}=Ft,er=packFilterOptions(Vt),ir=($t=Ct.alert)==null?void 0:$t.find(dr=>dr!==void 0&&dr.name===nt.name);if(ir!==void 0){if(ir.sourceGroup.id===jt.id&&ir.targetGroup.id===Nt.id&&ir.filter.id===Lt.id&&ir.filterOptions===er)return ir;await this.deleteAlert({id:ir.id})}const lr=(await this._service.createAlert({name:nt.name,sourceGroupId:jt.id,filterId:Lt.id,targetGroupId:Nt.id,filterOptions:er,groupName:"managed"})).createAlert;if(lr===void 0)throw new Error("Failed to create alert");return lr}async fetchData(){return this._service.fetchData({})}async fetchSubscriptionCard(nt){const at=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},nt),{tenant:this._configuration.tenantId})})).findTenantConfig;if(at===void 0)throw new Error("Failed to find tenant config");const mt=at.dataJson;if(mt===void 0)throw new Error("Invalid config data");const $t=JSON.parse(mt);let Ct;switch($t.version){case"v1":{Ct=$t;break}default:throw new Error("Unsupported config version")}if(Ct===void 0)throw new Error("Unsupported config format");return Ct}},newNotifiStorage=nt=>{var et;const at=((et=nt.storageOption)==null?void 0:et.driverType)==="InMemory"?createInMemoryStorageDriver(nt):createLocalForageStorageDriver(nt);return new NotifiFrontendStorage(at)},newNotifiService=(nt,et)=>{const at=envUrl(nt.env,"http"),mt=envUrl(nt.env,"websocket"),$t=new GraphQLClient(at,et),Ct=new NotifiSubscriptionService(mt,typeof window<"u"?void 0:WebSocket$1);return new NotifiService($t,Ct)},instantiateFrontendClient=(nt,et,at,mt,$t)=>{let Ct=null;if("accountAddress"in et?Ct={tenantId:nt,env:at,walletBlockchain:et.walletBlockchain,authenticationKey:et.walletPublicKey,accountAddress:et.accountAddress,storageOption:mt}:"signingPubkey"in et?Ct={tenantId:nt,env:at,walletBlockchain:et.walletBlockchain,delegatedAddress:et.signingAddress,delegatedPublicKey:et.walletPublicKey,delegatorAddress:et.signingPubkey,storageOption:mt}:"userAccount"in et?Ct={tenantId:nt,env:at,userAccount:et.userAccount,storageOption:mt,walletBlockchain:et.walletBlockchain}:Ct={tenantId:nt,env:at,walletBlockchain:et.walletBlockchain,walletPublicKey:isEvmChain(et.walletBlockchain)?et.walletPublicKey.toLowerCase():et.walletPublicKey,storageOption:mt},!Ct)throw new Error("ERROR - instantiateFrontendClient: Invalid UserParams");const Dt=newNotifiService(Ct,$t),Ft=newNotifiStorage(Ct);return new NotifiFrontendClient(Ct,Dt,Ft)};function useNotifiAlert(){const{notifiClient:nt}=useNotifiStore(),{defaultTargetGroup:et,setNotifiAlerts:at,setNotifiSourceGroups:mt,setNotifiSources:$t,setIsChecked:Ct,setNotifiSubscriptionLoading:Dt}=useNotifiStore(),{showCommonToast:Ft}=useGlobalToast(),{getNotifiTargetGroups:Nt}=useGetNotifiTargetGroups(),jt=async()=>{let lr=et.filter(dr=>dr.name==="Default");return lr.length||(lr=(await Nt()).filter(dr=>dr.name==="Default")),lr[0]},Lt=lr=>{const dr=[],pr=[],hr=[];return lr.forEach(br=>{(br.sourceGroup.name.includes("position")||br.name.includes("Position Range Alerts"))&&br.name!=="Fusion Source Filter"&&br.name!=="defaultAlert"&&(dr.push(br.sourceGroup),pr.push(...br.sourceGroup.sources.map(xr=>({...xr,alertID:br.id})))),hr.push(...br.sourceGroup.sources.map(xr=>({...xr,alertName:br.name})))}),hr.some(br=>br.alertName==="defaultAlert")||or(),{sourceGroup:dr,sources:pr}},Vt=async lr=>{try{const dr=lr?await lr.getAlerts():await nt.getAlerts();console.log("🚀 ~ getNotifiAlerts ~ alerts:",dr);const{sourceGroup:pr,sources:hr}=Lt(dr);at(dr),mt(pr),$t(hr)}catch(dr){console.error("🚀 ~ getNotifiAlerts ~ error:",dr)}},er=async lr=>{console.log("🚀 ~ deleteNotifiAlerts ~ id:",lr);try{await nt.deleteAlert({id:lr}),Ft("Unsubscribed","success","You'll no longer receive alerts when the price goes out of range."),Vt(),Dt(!1)}catch(dr){console.error("🚀 ~ deleteNotifiAlerts ~ error:",dr),Ft("There was an error unsubscribe alert","rejected",String(dr)),Dt(!1)}},ir=async(lr,dr)=>{try{const pr=await jt(),hr={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:lr&&dr?`Position Range Alerts${new Date().getTime()}`:"defaultAlert",targetGroupId:pr.id,subscriptionValue:lr&&dr?JSON.stringify({pool_address:lr,position_index:String(dr)}):"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]},vr=await nt.ensureFusionAlerts(hr);console.log("🚀 ~ createNotifiAlert ~ alerts:",vr),Ct(!1),Ft("Subscribed to Alerts!","success","Verify your notification channels to receive alerts when the price goes out of range. To edit your alert settings, click the bell icon in the top nav."),Vt(),Dt(!1)}catch(pr){console.error("🚀 ~ createNotifiAlert ~ error:",pr),Ft("There was an error subscribe alert","rejected",String(pr)),Ct(!1),Dt(!1)}},or=async()=>{try{const dr={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:"defaultAlert",targetGroupId:(await jt()).id,subscriptionValue:"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]};await nt.ensureFusionAlerts(dr),Vt()}catch(lr){console.error("🚀 ~ initDefaultAlert ~ error:",lr)}};return{getNotifiAlerts:Vt,createNotifiAlert:ir,deleteNotifiAlerts:er}}function useIntNotifi(){const nt="cetus",et="Production",at="SUI",{setNotifiClient:mt,notifiClient:$t,setNotifiStatus:Ct,setNotifiAccountAddress:Dt,setDefaultTargetGroup:Ft,setNotifiSourceGroups:Nt,setNotifiSources:jt,setNotifiLoginLoading:Lt,setTelegramTarget:Vt,setEmailTarget:er,setSmsTarget:ir}=useNotifiStore(),{signUserMessage:or}=useSigner(),{currentAccount:lr}=useAccountStore(),{ensureTargetGroup:dr,getNotifiTargetGroups:pr}=useGetNotifiTargetGroups(),{getNotifiAlerts:hr}=useNotifiAlert(),vr=async Sr=>{const Er=instantiateFrontendClient(nt,{walletBlockchain:at,walletPublicKey:Sr,accountAddress:Sr},et),$r=await Er.initialize();console.log("🚀🚀🚀 ~ useInitNotifi.ts:51 ~ initNotifi ~ client:",Er),mt(Er),Ct($r.status),console.log("🚀🚀🚀 ~ useInitNotifi.ts:53 ~ initNotifi ~ initResult.status:",$r.status),($r==null?void 0:$r.status)==="authenticated"?(console.log("🚀🚀🚀 ~ useInitNotifi.ts:53 ~ initNotifi ~ getNotifiTargetGroups:"),pr(Er),hr(Er),Dt(Sr)):xr()},br=async Sr=>{try{Lt(!0),console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ notifiLogin ~ notifiClient:",$t);const Er=await $t.logIn({walletBlockchain:at,signMessage:async Cr=>{console.log("🚀🚀🚀 ~ useInitNotifi.ts:63 ~ signMessage: ~ message:",Cr);try{return(await or(Cr)).signature}catch(kr){console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ signMessage: ~ error:",kr)}}});console.log("🚀🚀🚀 ~ useInitNotifi.ts:67 ~ notifiLogin ~ notifiClient:",$t);const{status:$r}=$t.userState;Ct($r),$r==="authenticated"&&(lr!=null&&lr.address)&&(hr(),pr(),Dt(lr.address)),console.log("🚀🚀🚀 ~ useInitNotifi.ts:75 ~ notifiLogin ~ loginResult:",Er),Er&&(await dr(Sr),Lt(!1))}catch(Er){console.log("🚀🚀🚀 ~ useInitNotifi.ts:91 ~ notifiLogin ~ error:",Er),Lt(!1)}},xr=()=>{Ft([]),Nt([]),jt([]),er({}),Vt({}),ir({})};return{initNotifi:vr,notifiLogin:br}}const notifi_tab_bg="/images/notifi_tab_bg.png",notifi_tab_bg_h5="/images/notifi_tab_bg_h5.png",codeList=["+1","+32","+33","+34","+351","+354","+358","+36","+41","+43","+44","+45","+46","+47","+48","+49","+60","+61","+63","+65","+82","+852","+886"],FormItem=({label:nt,children:et})=>jsxRuntimeExports.jsxs(InputGroup,{h:"42px",borderRadius:"8px",p:"10px 12px",bg:"#141414",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(InputLeftAddon,{fontSize:"14px",h:"20px",lineHeight:"20px",w:"106px",children:nt}),jsxRuntimeExports.jsx(Box,{borderColor:"border",pr:"16px",children:jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical"})}),et]});function Notifications(){const[nt,et]=reactExports.useState(""),[at,mt]=reactExports.useState(""),[$t,Ct]=reactExports.useState(""),[Dt,Ft]=reactExports.useState(""),[Nt,jt]=reactExports.useState(""),[Lt,Vt]=reactExports.useState(""),[er,ir]=reactExports.useState(""),[or,lr]=reactExports.useState(""),{isShowNotifi:dr,setIsShowNotifi:pr,notifiLoginLoading:hr,notifiStatus:vr,emailTarget:br,telegramTarget:xr,smsTarget:Sr}=useNotifiStore(),[Er,$r]=reactExports.useState(""),[Cr,kr]=reactExports.useState(""),[gr,Ut]=reactExports.useState(!0),[tr,nr]=reactExports.useState(!1),{currentAccount:rr,onWalletModal:ar}=useAccountStore(),[cr,fr]=reactExports.useState(!1),{notifiLogin:sr}=useIntNotifi(),{ensureTargetGroup:Yt}=useGetNotifiTargetGroups(),[ur,_r]=reactExports.useState(!0),[yr,wr]=reactExports.useState(!1),Ir=Dn=>{if(Dn){const Qr=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;console.log("🚀🚀🚀 ~ Notifications.tsx:99 ~ verifyEmail ~ verifyEmail:"),_r(Qr.test(nt))}},Or=()=>{const Dn={emailAddress:nt,phoneNumber:$t+" "+Dt,telegramId:at};vr=="authenticated"?Yt(Dn):sr(Dn)};reactExports.useEffect(()=>{if(!br){$r(""),nr(!1),et(""),jt("");return}const Dn=(br==null?void 0:br.emailAddress)||"";console.log("🚀🚀🚀 ~ Notifications.tsx:164 ~ useEffect ~ lastEmail:",Dn);const Qr=(br==null?void 0:br.isConfirmed)||!1,Un=(br==null?void 0:br.id)||"";$r(Un),nr(Qr),et(Dn),jt(Dn)},[br]),reactExports.useEffect(()=>{if(!xr){Ut(!1),kr(""),mt(""),Vt("");return}const Dn=(xr==null?void 0:xr.telegramId)||"",Qr=(xr==null?void 0:xr.isConfirmed)||!1,Un=xr.confirmationUrl||"";Ut(Qr),kr(Un),mt(Dn),Vt(Dn),console.log("🚀🚀🚀 ~ Notifications.tsx:177 ~ useEffect ~ telegramTarget:",xr)},[xr]),reactExports.useEffect(()=>{Sr||(Ct("+1"),Ft(""),ir("+1"),lr(""));const Dn=(Sr==null?void 0:Sr.name)||"",Qr=Dn.split(" ")[0]||"+1",Un=Dn.split(" ")[1]||"";Ct(Qr),Ft(Un),ir(Qr),lr(Un)},[Sr]);const Ar=reactExports.useMemo(()=>!Dt&&!nt&&!at||$t==er&&Dt==or&&nt==Nt&&at==Lt?!0:!ur,[nt,Nt,$t,er,Dt,or,at,Lt]),{notifiClient:Nr}=useNotifiStore(),[Hr,Pr]=reactExports.useState(60),[Dr,Rr]=reactExports.useState(60),Vr=async()=>{Nr.sendEmailTargetVerification({targetId:Er}),wr(!0)},an=()=>{Jr(!0),window.open(Cr,"_blank")},[Xr,Jr]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!yr||Hr===0){wr(!1);return}const Dn=setInterval(()=>{Pr(Qr=>Qr-1)},1e3);return()=>clearInterval(Dn)},[yr,Hr]),reactExports.useEffect(()=>{if(!Xr||Dr===0){Jr(!1);return}const Dn=setInterval(()=>{Rr(Qr=>Qr-1)},1e3);return()=>clearInterval(Dn)},[Xr,Dr]);const[Zr,Gr]=reactExports.useState("notifi"),{isApp:zr}=useWindowWidth();return reactExports.useEffect(()=>{dr&&Gr("notifi")},[dr]),jsxRuntimeExports.jsxs(Popover,{isLazy:!0,isOpen:dr,placement:"bottom-end",offset:[44,10],onClose:cr?()=>{console.log("isMenuOpen")}:()=>{pr(!1)},children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},onClick:()=>rr!=null&&rr.address?pr(!dr):ar(!0),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_notification",variant:"gray"})})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(PopoverContent,{p:"0px",border:"1px solid",borderRadius:"12px",borderColor:"border",minW:{base:"352px",lg:"460px"},children:jsxRuntimeExports.jsxs(HStack,{flexDirection:{base:"column",lg:"row"},gap:"0",bg:"bg_seven",borderRadius:"12px",align:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{pt:{base:"8px",lg:"28px"},pl:{base:"12px",lg:"0"},gap:"0",flexDirection:{base:"row",lg:"column"},children:[jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:Zr=="notifi"?zr?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:Zr=="notifi"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Gr("notifi"),children:jsxRuntimeExports.jsx(Image$1,{src:Zr=="notifi"?"/images/notifi@2x.png":"/images/logo_not_nor@2x.png",h:"20px",w:"60px",minW:"60px"})}),jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:Zr=="pawtato"?zr?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:Zr=="pawtato"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Gr("pawtato"),children:jsxRuntimeExports.jsx(Image$1,{src:Zr=="pawtato"?"/images/logo_paw_sel@2x.png":"/images/logo_paw_nor@2x.png",h:"11px",w:"66px",minW:"66px"})})]}),Zr=="notifi"&&jsxRuntimeExports.jsxs(VStack,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",children:[jsxRuntimeExports.jsx(PopoverBody,{p:"0",borderRadius:"12px",children:jsxRuntimeExports.jsxs(VStack,{gap:"12px",children:[jsxRuntimeExports.jsx(Text,{fontWeight:"500",color:"text_caption",textAlign:"left",w:"100%",mb:"4px",children:"Notifications Setting"}),jsxRuntimeExports.jsx(FormItem,{label:"Email address",children:jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"Email address",fontSize:"14px",h:"20px",lineHeight:"20px",value:nt,onFocus:()=>_r(!0),onBlur:Dn=>Ir(Dn.target.value),onChange:Dn=>et(Dn.target.value)})}),!ur&&jsxRuntimeExports.jsx(Text,{w:"100%",color:"primary_red",lineHeight:"20px",textAlign:"left",children:"Please enter a valid email address"}),vr=="authenticated"&&Nt&&(yr||!yr&&!tr)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[yr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification email sent! (",Hr,"s)"]}),!tr&&!yr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for email verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Vr(),children:"Retry"})]})]}),jsxRuntimeExports.jsxs(FormItem,{label:"Phone number",children:[jsxRuntimeExports.jsx(Menu,{isLazy:!0,onClose:()=>fr(!1),children:({isOpen:Dn})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MenuButton,{isActive:Dn,as:Button,rightIcon:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px"}),variant:"unstyled",h:"100%",fontSize:"14px",lineHeight:"20px",color:"text_caption",onClick:()=>fr(!cr),children:$t}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(MenuList,{h:"220px",overflow:"auto",zIndex:"99999",children:codeList.map(Qr=>jsxRuntimeExports.jsx(MenuItem,{onClick:Un=>{Ct(Qr)},children:Qr},Qr))})})]})}),jsxRuntimeExports.jsx(Input,{type:"tel",placeholder:"Phone number",pl:"16px",fontSize:"14px",h:"20px",lineHeight:"20px",value:Dt,onChange:Dn=>Ft(Dn.target.value)})]}),jsxRuntimeExports.jsx(FormItem,{label:"Telegram ID",children:jsxRuntimeExports.jsx(Input,{placeholder:"Telegram ID",fontSize:"14px",h:"20px",lineHeight:"20px",value:at,onChange:Dn=>mt(Dn.target.value)})}),vr=="authenticated"&&Lt&&(Xr||!Xr&&!gr)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[Xr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification telegram sent! (",Dr,"s)"]}),!gr&&!Xr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for telegram verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>an(),children:"Retry"})]})]})]})}),jsxRuntimeExports.jsx(PopoverFooter,{border:"none",p:"0",mt:"16px",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",gap:"12px",children:[jsxRuntimeExports.jsx(Button,{w:"100%",h:"42px",borderRadius:"8px",fontWeight:"500",fontSize:"14px",onClick:Or,isLoading:hr,disabled:Ar||hr||!ur,children:vr=="authenticated"?"Update":"Subscribe"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Text,{fontSize:"12px",color:"text_paragraph",lineHeight:"20px",children:["Notifications are provided by Notifi. By subscribing, you agree that info you provide to Notifi will be governed by its"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/privacy","_blank")},children:"Privacy Policy"})," ","and"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/term","_blank")},children:"Terms of Use."})]}),jsxRuntimeExports.jsxs(HStack,{justify:"center",mt:"16px",children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_paragraph",children:"Powered by"}),jsxRuntimeExports.jsx(Image$1,{src:"/images/notifi@2x.png",h:"20px"})]})]})]})})]}),Zr=="pawtato"&&jsxRuntimeExports.jsx(PopoverBody,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",h:"314px",children:jsxRuntimeExports.jsxs(VStack,{h:"100%",gap:"28px",justify:"center",align:"center",children:[jsxRuntimeExports.jsxs(Text,{color:"text_caption",lineHeight:"20px",textAlign:"center",children:["Visit Pawtato to manage notification settings for LP Range Alert"," "]}),jsxRuntimeExports.jsx(Button,{w:"100%",h:"40px",fontWeight:"500",fontSize:"14px",onClick:()=>window.open("https://pawtato.app/board"),children:"Subscribe"})]})})]})})})]})}const ListItem=({label:nt,value:et,onClick:at,isActive:mt})=>jsxRuntimeExports.jsx(Box,{w:"100%",onClick:at,cursor:"pointer",h:"48px",lineHeight:"48px",p:"0px 16px",borderRadius:"12px",border:"1px solid",borderColor:mt?"primary_hover":"transparent",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",children:nt})}),ExplorerContent=({closeModal:nt,isH5:et})=>{const{explorerList:at,currentExplorer:mt,switchExplorer:$t}=useRpcConfigStore(),Ct=reactExports.useMemo(()=>(console.log("🚀 ~ list ~ explorerList:",at),at),[at]),{successTsToast:Dt}=useGlobalToast(),Ft=Nt=>{$t(Nt),nt(),Dt({linkLabel:"",getShowInfo:Lt=>({toastTitleText:"Explorer update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["Explorer is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:Nt.name})]})})})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et?jsxRuntimeExports.jsx(VStack,{gap:"16px",mb:"16px",children:Ct.map(Nt=>jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(CheckBox,{checked:Nt.link===mt.link,onClick:()=>Ft(Nt)}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"16px",lg:"14px"},children:Nt.name})]},Nt.link))}):jsxRuntimeExports.jsx(VStack,{w:"100%",children:Ct.map(Nt=>jsxRuntimeExports.jsx(ListItem,{label:Nt.name,value:Nt.link,isActive:Nt.link===mt.link,onClick:()=>Ft(Nt)},Nt.link))})})},H5SettingItem=({icon:nt,value:et,label:at,onClick:mt})=>jsxRuntimeExports.jsxs(HStack,{w:"100%",p:"14px 16px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",justify:"space-between",align:"center",bg:"menu_item_bg",onClick:mt,children:[jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:nt,fontSize:"20px"}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",children:at})]}),jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",children:et}),jsxRuntimeExports.jsx(Icon,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),H5Preferred=()=>{const{currentExplorer:nt}=useRpcConfigStore(),[et,at]=reactExports.useState(!1),mt=()=>{at(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:nt==null?void 0:nt.name,onClick:()=>at(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:et,title:"Preferred Explorer",onClose:()=>at(!1),footer:null,children:jsxRuntimeExports.jsx(ExplorerContent,{closeModal:mt,isH5:!0})})]})};function useRpcWorker(){let nt=null;const{setRpcSpeed:et}=useRpcConfigStore();useInterval({interval:5*1e3,callback:()=>{at()}});const at=()=>{nt===null&&(nt=new Worker("/worker/rpc.worker.js")),nt.postMessage({rpcList:defaultNodes.filter(mt=>mt.link.length>0).map(mt=>mt.link)}),nt.onmessage=mt=>{mt.data.error?(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data.error:",mt.data.error),et({})):(console.log("🚀 ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data:",mt.data),mt.data?et(mt.data):et({}))}};reactExports.useEffect(()=>(at(),()=>{nt&&nt.terminate()}),[])}const RPCContent=({closeModal:nt})=>{useRpcWorker();const{rpcSpeed:et}=useRpcConfigStore(),at=or=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(or),{nodes:mt,currentNode:$t,switchNode:Ct}=useRpcConfigStore(),[Dt,Ft]=reactExports.useState(($t==null?void 0:$t.name)=="Custom"),[Nt,jt]=reactExports.useState(($t==null?void 0:$t.name)=="Custom"?$t==null?void 0:$t.link:""),Lt=reactExports.useMemo(()=>mt,[mt]),{successTsToast:Vt}=useGlobalToast(),er=or=>{console.log("🚀 ~ handleChangeNode ~ item:",or),or.name!=="Custom"&&(jt(""),Ft(!1)),Ct(or),nt(),Vt({linkLabel:"",getShowInfo:dr=>({toastTitleText:"RPC update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["RPC is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:or.name!=="Custom"?or.name:or.link})]})})})},ir=reactExports.useCallback(or=>or===0?"text_paragraph":or<100?"primary_green":or>200?"primary_red":"primary_yellow",[]);return jsxRuntimeExports.jsxs(Box,{w:"100%",mt:"-16px",children:[Lt.map(or=>{const lr=Number(et[or==null?void 0:or.link]||0);return jsxRuntimeExports.jsx(VStack,{mt:"16px",align:"flex-start",children:(or==null?void 0:or.name)!=="Custom"&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",onClick:()=>er(or),_hover:{p:{color:"primary"}},children:[jsxRuntimeExports.jsx(CheckBox,{checked:$t.name===(or==null?void 0:or.name),onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:$t.name===(or==null?void 0:or.name)?"primary":"text_paragraph",children:or==null?void 0:or.name})]}),jsxRuntimeExports.jsxs(HStack,{gap:"5px",children:[lr>0&&jsxRuntimeExports.jsx(Box,{w:"6px",h:"6px",bg:ir(lr),borderRadius:"50%"}),jsxRuntimeExports.jsxs(Text,{fontSize:"12px",fontWeight:"500",color:ir(lr),children:[et[or.link],isAvailableObject(et)?"ms":""]})]})]})},or==null?void 0:or.link)}),jsxRuntimeExports.jsxs(HStack,{w:"100%",mt:"16px",_hover:{p:{color:"primary"}},onClick:()=>Ft(!Dt),children:[jsxRuntimeExports.jsx(CheckBox,{checked:$t.name==="Custom",onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:$t.name==="Custom"?"primary":"text_paragraph",children:"Custom RPC URL"})]}),($t.name==="Custom"||Dt)&&jsxRuntimeExports.jsxs(InputGroup,{mt:"16px",h:"40px",borderRadius:"12px",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(Input,{p:"13px 16px",fontSize:{base:"16px",lg:"14px"},placeholder:"Custom RPC URL",value:Nt,onChange:or=>jt(or.target.value)}),jsxRuntimeExports.jsx(InputRightAddon,{pr:"4px",children:jsxRuntimeExports.jsx(Button,{disabled:at(Nt),fontSize:"14px",fontWeight:"500",h:"32px",w:"78px",borderRadius:"8px",onClick:()=>{er({name:"Custom",link:Nt})},children:"Save"})})]})]})},H5RPCNode=()=>{const{currentNode:nt}=useRpcConfigStore(),[et,at]=reactExports.useState(!1),mt=()=>{at(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_rpc",label:"RPC Node",value:nt.name,onClick:()=>at(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:et,title:"RPC Node",onClose:()=>at(!1),footer:null,children:jsxRuntimeExports.jsx(Box,{mb:"12px",children:jsxRuntimeExports.jsx(RPCContent,{closeModal:mt})})})]})},H5Settings=({language:nt,preferred:et,rpcNode:at,isCetusPump:mt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5RPCNode,{}),jsxRuntimeExports.jsx(H5Preferred,{value:et.value,options:et.options,onValueChange:$t=>et.onValueChange($t)})]}),ConnectButton=reactExports.lazy(()=>__vitePreload(()=>import("./ConnectButton-8UDLcKFv.js").then(nt=>nt.a),__vite__mapDeps([14,3,10,8]))),H5Header=({menus:nt,logo:et,setting:at,notifications:mt,chain:$t,jump:Ct,isCetusPump:Dt,children:Ft})=>{const[Nt,jt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Flex,{w:"100%",justifyContent:"space-between",align:"center",p:"0px 8px 0px 12px",h:"48px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[jsxRuntimeExports.jsx(Image$1,{src:"/images/img-logo@2x.png",h:"32px",alt:"logo",onClick:()=>Ct("/")}),jsxRuntimeExports.jsxs(Flex,{align:"center",gap:"8px",children:[$t&&jsxRuntimeExports.jsx(SwitchChain,{...$t}),Dt&&jsxRuntimeExports.jsx(BackButton,{w:"114px",h:"36px",text:"Back to DEX",onClick:()=>Ct("/")}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{}),children:jsxRuntimeExports.jsx(ConnectButton,{isCetusPump:Dt})}),mt&&jsxRuntimeExports.jsx(Notifications,{}),jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg"},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_menu",onClick:()=>jt(!Nt)})})]})]}),jsxRuntimeExports.jsx(H5Menu,{menus:nt,setting:at,title:jsxRuntimeExports.jsx(Image$1,{src:et.image,h:"32px",alt:"logo",onClick:()=>Ct(et.url)}),isOpen:Nt,onClose:()=>jt(!1),jump:Ct,isCetusPump:Dt,children:Ft})]})},H5Menu=({menus:nt,setting:et,title:at,isOpen:mt,onClose:$t,jump:Ct,isCetusPump:Dt,children:Ft})=>{var ir;const{pathname:Nt}=useLocation(),jt=nt==null?void 0:nt.find(or=>!!(or!=null&&or.socials)),[Lt,Vt]=reactExports.useState([]),er=or=>{Lt.includes(or)?Vt([]):Vt([or])};return jsxRuntimeExports.jsx(Drawer,{title:at,isOpen:mt,onClose:$t,placement:"left",size:"full",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",h:"100%",justify:"space-between",children:[jsxRuntimeExports.jsx(VStack,{gap:"36px",w:"100%",align:"flex-start",mt:"32px",children:nt.map(or=>{var lr;if(or.children){const dr=isMenuActive(or,Nt);return jsxRuntimeExports.jsxs(Box,{w:"100%",children:[jsxRuntimeExports.jsxs(HStack,{onClick:()=>er(or.title),sx:{p:{color:dr?"text_caption":"text_paragraph"},svg:{fill:dr?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsx(Text,{fontSize:"16px",children:or.title}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:Lt.includes(or.title)?"rotate(180deg)":"rotate(0deg)"})]}),Lt.includes(or.title)&&jsxRuntimeExports.jsx(VStack,{mt:"12px",bg:"bg_secondary",gap:"24px",p:"20px 16px",w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",borderRadius:"8px",children:(lr=or.children)==null?void 0:lr.map(pr=>{const hr=isMenuActive(pr,Nt);return jsxRuntimeExports.jsx(Item,{item:{...pr,onClick:(pr==null?void 0:pr.type)==="onClick"?()=>{var vr;(vr=pr==null?void 0:pr.onClick)==null||vr.call(pr),$t()}:void 0},jump:vr=>{Ct==null||Ct(vr),$t()},isActive:hr},pr.title)})})]},or.title)}return jsxRuntimeExports.jsx(NavLink,{type:or==null?void 0:or.type,onClick:()=>{(or==null?void 0:or.type)==="onClick"&&(Ct==null||Ct(or.path),$t())},link:or.path,isActive:isMenuActive(or,Nt),children:jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:or.title})},or.title)})}),jsxRuntimeExports.jsxs(VStack,{w:"100%",children:[jsxRuntimeExports.jsx(H5Settings,{...et,isCetusPump:Dt}),jsxRuntimeExports.jsx(HStack,{w:"100%",children:jt&&(jt==null?void 0:jt.socials)&&((ir=jt==null?void 0:jt.socials)==null?void 0:ir.map(or=>jsxRuntimeExports.jsx(Flex,{flex:"1",onClick:()=>window.open(or.path),padding:"14px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"center",align:"center",_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:or.icon?jsxRuntimeExports.jsx(Box,{children:typeof or.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:or.icon,variant:"gray"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:or.icon.xlinkHref,variant:"gray"})}):null},or.title)))}),Ft]})]})})},Item=({item:nt,jump:et,isActive:at})=>{var Ct;const[mt,$t]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",h:"20px",lineHeight:"20px",onClick:()=>{var Dt;return nt!=null&&nt.children&&((Dt=nt==null?void 0:nt.children)==null?void 0:Dt.length)>1?$t(!mt):(nt==null?void 0:nt.type)==="onClick"?nt==null?void 0:nt.onClick():(nt==null?void 0:nt.type)==="_blank"?window.open(nt.path,"_blank"):et(nt.path)},sx:{p:{color:at?"text_caption":"text_paragraph"},svg:{fill:at?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:nt==null?void 0:nt.icon,variant:"gray"}),jsxRuntimeExports.jsxs(Box,{position:"relative",children:[jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:nt.title}),(nt==null?void 0:nt.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),nt.children&&nt.children.length>0&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:mt?"rotate(180deg)":"rotate(0deg)"})]},nt.title),mt&&nt.children&&nt.children.length>0&&((Ct=nt.children)==null?void 0:Ct.map(Dt=>jsxRuntimeExports.jsx(Item,{item:Dt,jump:et,isActive:!1},Dt.title)))]})};function getFullnodeUrl(nt){switch(nt){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${nt}`)}}function ConnectWalletModal(nt){const{isOpen:et,onClose:at}=nt,mt=useWallets(),{isApp:$t}=useWindowWidth(),{mutate:Ct}=useConnectWallet(),{customToast:Dt,successTsToast:Ft}=useGlobalToast(),Nt=jt=>{console.log("🚀 ~ file: ConnectWalletModal.tsx:30 ~ ConnectWalletModal ~ supportWalletList:",{supportWalletList:mt,wallet:jt});const Lt=(M==null?void 0:M.inMSafeWallet())&&(jt==null?void 0:jt.name)==="MSafe",Vt=mt.find(ir=>ir.name===jt.walletName);if(!Lt&&!Vt){Dt(jsxRuntimeExports.jsxs(VStack,{gap:"8px",alignItems:"start",children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),jsxRuntimeExports.jsx(Heading,{fontSize:"14px",fontWeight:"400",whiteSpace:"nowrap",color:"primary_red",children:"Wallet Not Ready Error"})]}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"Please install"}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:"14px",color:"primary",wordBreak:"break-all",onClick:()=>{window.open(jt.url,"_blank")},children:jt.name}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"extension first"})]})]}));return}const er=Lt?{wallet:new M("cetus",getFullnodeUrl("mainnet"),"sui:mainnet"),silent:!0}:{wallet:Vt};Ct(er,{onSuccess:ir=>{Ft({getShowInfo:or=>({iconUrl:jt.icon.startsWith("http")?jt.icon:`/images/wallet/${jt.icon}.png`,toastTitleText:"Wallet Connected"})}),at(),console.log("🚀 ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onSuccess:",jt.name,ir)},onError:ir=>{console.log("🚀 ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onError:",ir)}})};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:et,onClose:at,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:$t?"300px":"552px",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Connect a Wallet"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"16px",textAlign:"center",children:jsxRuntimeExports.jsx(VStack,{children:jsxRuntimeExports.jsx(Grid,{templateColumns:$t?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:13,w:"100%",children:suiWalletList.map(jt=>jsxRuntimeExports.jsx(GridItem,{colSpan:1,children:jsxRuntimeExports.jsxs(HStack,{p:"0 12px",h:"60px",bg:"bg_six",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{p:{color:"primary"}},onClick:()=>{jt.name!=="Nightly"&&Nt(jt)},children:[jsxRuntimeExports.jsx(Image$1,{src:jt.icon.startsWith("http")?jt.icon:`/images/wallet/${jt.icon}.png`,alt:"SVG Image",boxSize:{base:"28px",lg:"36px"},objectFit:"cover",borderRadius:"8px",loading:"lazy"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"4px",children:[jt.name=="SuiMetaMaskSnap"?jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"0px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",textAlign:"left",children:"Sui"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"MetaMask"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"Snap"})]}):jsxRuntimeExports.jsx(Text,{lineHeight:"16px",textAlign:"left",color:"text_caption",whiteSpace:"normal",wordBreak:"break-word",overflowWrap:"break-word",children:jt.name}),jt.name=="Binance"&&jsxRuntimeExports.jsx(Text,{fontWeight:"500",fontSize:"10px",p:"2px 6px",textAlign:"center",borderRadius:"4px",bg:"primary_opacity.10",color:"primary",children:"Mobile"})]})]})},jt.name))})})})]})]})}const ConnectWalletModal$1=reactExports.memo(ConnectWalletModal),CetusLayout=reactExports.lazy(()=>__vitePreload(()=>import("./CetusLayout-DBa0JFd9.js").then(nt=>nt.C),__vite__mapDeps([15,16,17,18,14,3,10,8,19,20,21,5,22,23,24,25,26,9,27,28,29,30,31,32,2,12,33,34,35,4,36,37,38,39,1,11])));function Layout(){const{getTokens:nt}=useGetTokens(),{currentAccount:et,addressChangeVersion:at}=useAccountStore(),{clearData:mt}=useXCetusStore();return reactExports.useEffect(()=>{(et===void 0||at>0)&&mt()},[et,at]),reactExports.useEffect(()=>{nt()},[]),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(CetusLayout,{})})})}const Stats=reactExports.lazy(()=>__vitePreload(()=>import("./Stats-BLvBFUWp.js"),__vite__mapDeps([40,41,42,43,44,45,24,35,46,47,17,48,49,20,8,50,51,52,4,53,2,3,1,5,54,36]))),Swap=reactExports.lazy(()=>__vitePreload(()=>import("./Swap-B5O9K2QT.js"),__vite__mapDeps([55,56,22,57]))),Dca=reactExports.lazy(()=>__vitePreload(()=>import("./Dca-DlE-cCZg.js"),__vite__mapDeps([58,59,22,4,60,56,44,8,36,27,61,24,12,10,62,63,64,5,26,21,23,9,28,65,31,38,34,35,66,1,2,3,67,68,69]))),Pools=reactExports.lazy(()=>__vitePreload(()=>import("./Pools-BxYBU8jC.js"),__vite__mapDeps([70,71,5,24,23,36,72,7,1,2,3,4,38,39,41,42,43,44,45,35,46,47,17,48,49,20,8,50,51,13,52,53,73,74,75,76,61,77,78,27,79,80,68,69,81,82,10]))),Liquidity=reactExports.lazy(()=>__vitePreload(()=>import("./Liquidity-DopwXdl_.js"),__vite__mapDeps([83,52,4,24,42,73,71,5,23,74,2,3,75,1,76,61,16,17,18,43,44,45,35,46,47,48,49,20,8,54,78,12,38,62,63,68,69,84,85,86,77,33,87,79,80,39,22,10,9,27,88,29,89,72,7,90,82,64,91,92,37,93,67,30,21,34,19,36,31,66]))),PositionDetail=reactExports.lazy(()=>__vitePreload(()=>import("./PositionDetail-zGGp8lwF.js"),__vite__mapDeps([94,52,4,53,2,3,37,22,29,38,9,10,39,84,23,24,42,49,85,69,86,12,77,5,81,78,82,71,74,27,75,1,76,61,62,63,91,92,90,64,34,35,95,96,87,79,80,36,68]))),Farms=reactExports.lazy(()=>__vitePreload(()=>import("./Farms-B1_f7Ec0.js"),__vite__mapDeps([97,98,36,50,96,10,27,82,71,5,24,23,4,1,2,3,75,76,61,8,52,99,53,45,68,69]))),CreatePool=reactExports.lazy(()=>__vitePreload(()=>import("./CreatePool-2Q8hj4z4.js"),__vite__mapDeps([100,88,5,29,89,16,17,18,72,7,1,2,3,4,38,76,23,24,12,33,93,67,86,9,10,34,35,91,92,101,90,22,71,74,82,27,64,85,69,36]))),Limit=reactExports.lazy(()=>__vitePreload(()=>import("./Limit-BP7_w3xs.js"),__vite__mapDeps([102,44,8,61,10,27,5,4,1,2,3,99,71,24,23,52,96,82,75,76,53,45,26,21,22,9,64,28,34,35,66,59,60,56,103,25,29,30,31,32,12,33,57,37,38,39,18,17,47,67,36,68,69]))),SelectForLiquidity=reactExports.lazy(()=>__vitePreload(()=>import("./SelectForLiquidity-BEvW2mc6.js"),__vite__mapDeps([104,88,5,29,89,16,17,18,72,7,1,2,3,4,38,101,90,22,71,24,23,74,82,10,9,27,64,85]))),Vaults=reactExports.lazy(()=>__vitePreload(()=>import("./Vaults-CcoEisD2.js"),__vite__mapDeps([105,98,36,50,8,106,23,24,5,9,10,12,4,77,53,2,3,45]))),XCetus=reactExports.lazy(()=>__vitePreload(()=>import("./XCetus-Dvp1NX4z.js"),__vite__mapDeps([107,82,10,9,27,80,5,34,35,32,12,77,4,68,69]))),VaultsDetailPage=reactExports.lazy(()=>__vitePreload(()=>import("./VaultsDetailPage-BRtWQ0Zw.js"),__vite__mapDeps([108,37,22,29,4,38,9,10,39,106,23,24,5,12,36,77,65,33,82,27,34,35,62,63,2,3,95,91,92,71,74,90,64,52,96,1,75,76,61,87,79,80,28,21]))),Notfound=reactExports.lazy(()=>__vitePreload(()=>import("./404-DFekesf7.js"),[])),ErrorPage=reactExports.lazy(()=>__vitePreload(()=>import("./Error-BIyMOLxq.js"),[])),TestCoin=reactExports.lazy(()=>__vitePreload(()=>import("./TestCoin-gVsvDBxb.js"),[])),TestNotifi=reactExports.lazy(()=>__vitePreload(()=>import("./TestNotifi-Cv8L6z7a.js"),__vite__mapDeps([109,79,80,5,74,71,24,23]))),RedirectToPools=()=>jsxRuntimeExports.jsx(Navigate,{to:"/pools",replace:!0}),router=[{path:"/",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(GeneralLoading,{}),children:jsxRuntimeExports.jsx(Layout,{})}),children:[{path:"swap",element:jsxRuntimeExports.jsx(Swap,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Swap,{})}]},{path:"limit",element:jsxRuntimeExports.jsx(Limit,{}),children:[{path:":pay/:target",element:jsxRuntimeExports.jsx(Limit,{})}]},{path:"dca",element:jsxRuntimeExports.jsx(Dca,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Dca,{})}]},{path:"pools/*",element:jsxRuntimeExports.jsx(Pools,{})},{path:"pool/list",element:jsxRuntimeExports.jsx(RedirectToPools,{})},{path:"position-detail",element:jsxRuntimeExports.jsx(PositionDetail,{}),children:[{path:":position_nft_id",element:jsxRuntimeExports.jsx(PositionDetail,{})}]},{path:"select-pool",element:jsxRuntimeExports.jsx(SelectForLiquidity,{})},{path:"liquidity/*",element:jsxRuntimeExports.jsx(Liquidity,{})},{path:"create-pool",element:jsxRuntimeExports.jsx(CreatePool,{}),children:[{path:":base/:quote/:fee",element:jsxRuntimeExports.jsx(CreatePool,{})},{path:":base/:quote/",element:jsxRuntimeExports.jsx(CreatePool,{})}]},{path:"farms",element:jsxRuntimeExports.jsx(Farms,{})},{path:"vaults",element:jsxRuntimeExports.jsx(Vaults,{})},{path:"vaults-detail",element:jsxRuntimeExports.jsx(VaultsDetailPage,{}),children:[{path:":vaultId",element:jsxRuntimeExports.jsx(VaultsDetailPage,{})}]},{path:"xCetus",element:jsxRuntimeExports.jsx(XCetus,{})},{path:"buy-crypto",element:jsxRuntimeExports.jsx("div",{children:"buy-crypto"})},{path:"stats",element:jsxRuntimeExports.jsx(Stats,{})},{path:"error",element:jsxRuntimeExports.jsx(ErrorPage,{})},{path:"test-notifi",element:jsxRuntimeExports.jsx(TestNotifi,{})},{path:"test-coin",element:jsxRuntimeExports.jsx(TestCoin,{})},{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/swap"})}]},{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/404"})},{path:"/404",element:jsxRuntimeExports.jsx(Notfound,{})}],router$1=createBrowserRouter(router),{networkConfig}=createNetworkConfig({mainnet:{url:getFullnodeUrl$1("mainnet")}}),queryClient=new QueryClient;function App(){return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(SuiClientProvider,{networks:networkConfig,defaultNetwork:"mainnet",children:jsxRuntimeExports.jsx(WalletProvider,{autoConnect:!0,children:jsxRuntimeExports.jsx(RouterProvider,{router:router$1})})})})}client$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(App,{})}));export{Button as $,ariaAttr as A,Box as B,Center as C,dataAttr as D,callAllHandlers as E,orient$1 as F,getIsReversed as G,HStack as H,Icon as I,getIds as J,createContext as K,forwardRef as L,useMultiStyleConfig as M,omitThemingProps as N,useTheme as O,chakra as P,cx as Q,usePeripherySDKStore as R,Skeleton as S,Text as T,create$3 as U,VStack as V,Block as W,bnToAmount as X,formatNumber as Y,timeFormatUTC as Z,__vitePreload as _,useNavigate as a,React as a$,CoinPairImage as a0,useAccountStore as a1,SkeletonCircle as a2,useTokenPriceStore as a3,useTokenPrice as a4,d as a5,Decimal$1 as a6,useDebounceFunction as a7,toDecimalsAmount as a8,envConfigs$1 as a9,formatCurrency$1 as aA,Tooltip as aB,ee$1 as aC,useNotifiStore as aD,isSymbol as aE,isObject$1 as aF,root as aG,useClmmSDKStore as aH,removeComma as aI,fromDecimalsAmountFix as aJ,fixRounding as aK,Grid as aL,Divider$1 as aM,formatCurrencyWithKMB as aN,d$2 as aO,amountToBN as aP,TickUtil as aQ,isAvailableObject as aR,getBalanceChanges as aS,parsePositionIdFromEvent as aT,ModalFooter as aU,getNearestTickByTick as aV,formatTickPrice as aW,extractStructTagFromType$1 as aX,fetchGet as aY,useDisclosure as aZ,BackButton as a_,formatNumberWithDown as aa,useTokenSelectStore as ab,addComma as ac,Modal$1 as ad,ModalOverlay as ae,ModalContent as af,ModalHeader as ag,Heading as ah,ModalCloseButton as ai,ModalBody as aj,Input as ak,NumericFormatInput as al,useGlobalToast as am,Image$1 as an,useInterval as ao,Popover as ap,PopoverTrigger as aq,Flex as ar,textEllipses as as,PopoverContent as at,PopoverBody as au,CheckBox as av,useGetTokenSource as aw,IconTipsTriangle as ax,Portal as ay,useDeepCompareEffect as az,useWindowWidth as b,usePopoverContext as b$,clsx as b0,useLocation as b1,H5MapTableItem as b2,transColumns2H5 as b3,castPath as b4,toKey as b5,isIndex as b6,baseGet as b7,arrayMap as b8,baseIteratee as b9,useXCetusStore as bA,Slider as bB,SliderTrack as bC,SliderFilledTrack as bD,SliderThumb as bE,W as bF,useRpcConfigStore as bG,Comma as bH,CoinAssist as bI,qt as bJ,persist as bK,B as bL,ChakraProvider as bM,theme as bN,useSigner as bO,Transaction as bP,coinWithBalance as bQ,TransactionUtil as bR,useNotifiAlert as bS,LocalStorageService as bT,POOL_FAVORITE_LIST as bU,IS_WATCH_LIST as bV,IS_ALL_POOLS as bW,IS_INCENTIVIZED_ONLY as bX,buildPosition as bY,Ae$1 as bZ,g as b_,timeFormat as ba,identity as bb,TickMath as bc,useParams as bd,getTickDataFromUrlData as be,process$1 as bf,useColorMode as bg,BN as bh,ClmmPoolUtil as bi,bnExports as bj,convertScientificToDecimal as bk,InputGroup as bl,InputRightAddon as bm,isSortedSymbols as bn,normalizeSuiAddress as bo,formatPercentage as bp,Ni as bq,fromDecimalsAmount as br,ke$1 as bs,Menu as bt,MenuButton as bu,MenuList as bv,MenuItem as bw,fixCoinType as bx,fixDown as by,useTokenBalanceStore as bz,cancelBubble as c,isObjectLike as c$,usePopoverStyles as c0,CloseButton as c1,defaultNodes as c2,useWebConfigStore as c3,src_default as c4,AggregatorClient22 as c5,SuiClient as c6,Env as c7,m_ as c8,_$1 as c9,addressAbridge as cA,formatDateTime as cB,useCurrentWallet as cC,useCurrentAccount as cD,useDisconnectWallet as cE,suiWalletList as cF,useTokenSelect as cG,useStyleConfig as cH,useFormControlContext as cI,useFormControlStyles as cJ,__assign$2 as cK,__awaiter as cL,__generator$1 as cM,__rest$2 as cN,baseIsEqual as cO,FormControl as cP,getFullnodeUrl$1 as cQ,dealWithFastRouterSwapParamsForMsafe as cR,sleepTime as cS,InputRightElement as cT,useFormControlProps as cU,omit as cV,useSafeLayoutEffect$2 as cW,Symbol$1 as cX,isArray as cY,isArguments as cZ,arrayPush as c_,ae as ca,j as cb,Link$1 as cc,ExplorerContent as cd,RPCContent as ce,isMenuActive as cf,NavLink as cg,Notifications as ch,H5Header as ci,getAugmentedNamespace as cj,reactDomExports as ck,getDefaultExportFromCjs$2 as cl,defaultExplorers as cm,TokenSelectCard as cn,useTransactionStore as co,useConnectWallet as cp,M as cq,getFullnodeUrl as cr,useCryptoStore as cs,useIntNotifi as ct,GeneralLoading as cu,Outlet as cv,global$1 as cw,__spreadArray as cx,__read$4 as cy,useSwitchAccount as cz,d$1 as d,baseGetTag as d0,keys as d1,getSymbols as d2,Uint8Array$1 as d3,isPrototype as d4,getTag as d5,nodeUtil as d6,baseUnary as d7,isBuffer as d8,Stack as d9,CustomToast as dA,Notfound$1 as dB,ErrorBoundary as dC,PreView as dD,TokenAvatar as dE,index as dF,Upload as dG,ToastTitle as dH,TitleText as dI,ConnectWalletModal$1 as dJ,getCroppedImg as dK,calcNumber as dL,replaceFilename as dM,ExcludeCNCharRegex as dN,ExcludeSpecialCharRegex as dO,SymbolExcludeSpecialCharRegex as dP,SymbolLimitRegex as dQ,BlankSpaceRegex as dR,WebSiteUrlRegex as dS,XUrlRegex as dT,DiscordRegex as dU,TelegramRegex as dV,SearchInput as dW,commonjsGlobal$1 as dX,getAllKeys as da,TradeInput as db,getNative as dc,eq$1 as dd,isArrayLike as de,arrayLikeKeys as df,overArg as dg,stubArray as dh,baseGetAllKeys as di,Buffer$1 as dj,executeAuction_1 as dk,base64ToUint8Array as dl,TransactionDataBuilder as dm,parseOwnerBalanceChanges as dn,normalizeCoinType$1 as dp,removePercentSign as dq,useTokenStore as dr,coinMetadataToCoinInfo as ds,defineStyle as dt,keyframes$1 as du,dayjs as dv,crypto$1 as dw,generateOnRampURL as dx,Toast as dy,CoinSelect$2 as dz,useExplorer as e,formatPrice as f,SingleCoinImage as g,getTimeDifferenceString as h,TextWrap as i,jsxRuntimeExports as j,SelectTab as k,Spinner$1 as l,Stack$1 as m,useCallbackRef as n,useControllableState as o,clampValue as p,percentToValue as q,reactExports as r,symbolDataDisplayProcessing as s,roundValueToStep as t,useFetch as u,valueToPercent as v,getStyles as w,useUpdateEffect as x,usePanEvent as y,mergeRefs as z};
