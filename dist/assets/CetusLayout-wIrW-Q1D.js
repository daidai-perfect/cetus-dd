const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BjH2wDZs.js","assets/AddressCopyLink-kyPbyRu4.js","assets/index-8zEobv_C.js","assets/index-CteIxbgC.css","assets/AddressUnderline-CSeeJ8Nq.js","assets/FeeTierSelect-ClLFyaiO.js","assets/useDocumentSize-9GVrhwzF.js","assets/debounce-CexnAtzG.js","assets/index-D52CzDHF.js","assets/CetusTooltip-DpTNWNg7.js","assets/CurrentPrice-BWMyBnna.js","assets/HighlightText-CqFsG_La.js","assets/IconBg-DePwrgf1.js","assets/InputBox-C9rFFzuN.js","assets/Loading-C1RlFYMg.js","assets/SwapConfirmBlock-CzYSJvE3.js","assets/aggregator-vdNvUElB.js","assets/useSwapHelper-CPFhemNi.js","assets/useToken-DgcnCKyw.js","assets/global-BWKbo2U0.js","assets/useGetPoolList-DzPfG9I7.js","assets/api-data-utils-Cej-AmHl.js","assets/useAccountBalance-MOm8YR3h.js","assets/useTokenBalance-Cv7UaRfD.js","assets/useTransaction-hzHCwfqB.js","assets/useFindBestRouting-BOpR-2Iz.js","assets/index-DPyYXF1v.js","assets/usePriceImpact-CBF484kW.js","assets/HTextLabelBox-B6-CM_oa.js","assets/TradeConfirmAmountInfo-QkauA-nM.js","assets/TradeInputGroup-CwnoIKAN.js","assets/_getAllKeysIn-Dkb1ARgz.js","assets/index-ChEYbgnr.js","assets/SingleTokenInfo-B0IkYJH4.js","assets/TooltipIcon-Ch1pt9Bt.js","assets/Ratio-BoUSTTsV.js","assets/Slippage-BcIh53HH.js","assets/switch-BI3o6yck.js","assets/SortDropBlock-Byb51EjI.js","assets/TableSortTh-D67ejPTO.js","assets/WarningTokenTipModal-CSuYQykj.js","assets/ConnectButton-DCKCF0lg.js","assets/NoData-mR1K3jNz.js","assets/TokenGoplusCard-B0sy4zDz.js","assets/swapWidget-Cx3DPulI.js","assets/index-NDxClRZg.js","assets/RefreshButton-3y5P203I.js"])))=>i.map(i=>d[i]);
import{K as qe,b$ as Qe,c0 as Ze,j as t,c1 as Pt,Q as Je,P as Mt,bG as He,a9 as Ie,aY as Rt,c2 as Ot,aH as Et,R as Wt,a1 as Ne,c3 as et,r as c,c4 as It,c5 as Ht,c6 as Nt,c7 as Ae,c8 as Bt,c9 as Ft,ca as Xe,cb as zt,ad as Lt,ae as At,af as Xt,aj as Vt,an as $,V as M,T as C,H as W,I as R,$ as re,a as tt,b1 as je,B as _,bt as Yt,bu as Ut,C as Be,ay as nt,bv as Gt,bw as Se,ar as ue,c as $t,aM as Kt,cc as qt,cd as Qt,ce as Zt,aZ as Jt,ap as ot,aq as rt,at as st,au as en,cf as Ve,cg as tn,a_ as it,ch as nn,b as ke,ci as on,cj as rn,ck as at,cl as sn,ao as an,Y as ln,a6 as cn,e as pn,l as Ye,cm as Ue,W as J,cn as dn,d as un,co as lt,cp as fn,cq as Ge,cr as gn,cs as xn,a4 as hn,ct as mn,cu as bn,cv as Sn,_ as ye}from"./index-8zEobv_C.js";import{a as yn}from"./useDocumentSize-9GVrhwzF.js";import{C as vn}from"./ConnectButton-DCKCF0lg.js";import{a as ve,u as Te,W as wn}from"./swapWidget-Cx3DPulI.js";import{p as ct}from"./index-NDxClRZg.js";import{S as I,u as _n}from"./useSwapHelper-CPFhemNi.js";import{u as Cn,a as jn,S as kn,P as Tn,b as Dn,c as Pn,O as Mn,H as Rn}from"./SwapConfirmBlock-CzYSJvE3.js";import{H as On}from"./HTextLabelBox-B6-CM_oa.js";import{R as En}from"./RefreshButton-3y5P203I.js";import{u as Wn}from"./useAccountBalance-MOm8YR3h.js";import{T as In}from"./TradeInputGroup-CwnoIKAN.js";import{S as Hn,u as Nn,a as Bn}from"./Slippage-BcIh53HH.js";import{C as Fn}from"./CetusTooltip-DpTNWNg7.js";import{u as zn}from"./useToken-DgcnCKyw.js";import{S as Ln}from"./SingleTokenInfo-B0IkYJH4.js";import{T as An}from"./TokenGoplusCard-B0sy4zDz.js";const pt=qe(function(n,o){const{onClose:r}=Qe(),s=Ze();return t.jsx(Pt,{size:"sm",onClick:r,className:Je("chakra-popover__close-btn",n.className),__css:s.closeButton,ref:o,...n})});pt.displayName="PopoverCloseButton";const dt=qe(function(n,o){const{getHeaderProps:r}=Qe(),s=Ze();return t.jsx(Mt.header,{...r(n,o),className:Je("chakra-popover__header",n.className),__css:s.header})});dt.displayName="PopoverHeader";function Xn(){const{setNodeList:e}=He();return{fetchFrontConfig:async()=>{var o;try{const r=`${(o=Ie)==null?void 0:o.cetus_api}/v2/sui/front_config`,i=(await Rt(r)).sui_nodes;i.length>0&&e(i)}catch(r){return console.log("ðŸš€ ~ file: useGetFrontConfig.ts:26 ~ fetchFrontConfig ~ error:",r),e([...Ot]),null}}}}function Vn(){const{clmmSdk:e,setClmmSdk:n,aggregatorSDK:o,setAggregatorSDK:r,setIsInitLoading:s}=Et(),{peripherySdk:i,setPeripherySdk:l,burnSdk:p,setBurnSdk:m,vaultsSdk:x,setVaultsSDK:v,xCetusSdk:D,setXCetusSdk:w}=Wt(),{currentNode:a}=He(),{currentAccount:g}=Ne(),{providers:E}=et();c.useEffect(()=>{const{sdkOptions:j,senderAddress:H}=e;if(a.link!==j.fullRpcUrl||H!==(g==null?void 0:g.address)){s(!0),j.fullRpcUrl=a.link;const u=new It(j);u.senderAddress=(g==null?void 0:g.address)||"",n(u);const b=new Ht(Ie.clmm_sdk_options.aggregatorUrl,(g==null?void 0:g.address)||"",new Nt({url:a.link}),Ie.env==="testnet"?Ae.Testnet:Ae.Mainnet);r(b);const{sdkOptions:d}=i,f=new Bt(d,u);l(f);const{sdkOptions:y}=p;y.fullRpcUrl=a.link;const h=new Ft(y);h.senderAddress=(g==null?void 0:g.address)||"",m(h);const{sdkOptions:S}=x;S.fullRpcUrl=a.link;const T=new Xe(S);T.senderAddress=(g==null?void 0:g.address)||"",v(T);const{sdkOptions:k}=D;k.fullRpcUrl=a.link;const N=new zt(k);N.senderAddress=(g==null?void 0:g.address)||"",w(N),s(!1)}},[a.link,g==null?void 0:g.address]),c.useEffect(()=>{const{sdkOptions:j}=x;j.aggregator.providers=E.length>1?E:void 0;const H=new Xe(j);H.senderAddress=x.senderAddress,v(H)},[E])}const Yn="/assets/img_cetusprotocol@2x-sMK6gV0x.png";function Un({isOpen:e,onClose:n}){const[o,r]=c.useState(!1),s=()=>{n()};return t.jsxs(Lt,{autoFocus:!1,closeOnOverlayClick:!1,returnFocusOnClose:!1,isOpen:e,onClose:n,isCentered:!0,children:[t.jsx(At,{}),t.jsx(Xt,{children:t.jsxs(Vt,{p:{base:"8px 12px !important",lg:"8px 12px !important"},children:[t.jsx($,{m:"8px 0 12px",src:Yn,w:"100%",h:"auto",userSelect:"none"}),t.jsxs(M,{w:"100%",align:"flex-start",userSelect:"none",p:{base:"0",lg:"0 8px"},children:[t.jsx(C,{fontSize:"20px",fontWeight:"500",color:"text_caption",margin:"12px 0",children:"Welcome to Cetus"}),t.jsx(C,{color:"text_caption",children:"Please read & accept terms before using this site."}),t.jsxs(W,{w:"100%",align:"center",onClick:()=>{window.open("https://www.cetus.zone/terms","_blank")},gap:"4px",children:[t.jsx(R,{xlinkHref:"#icon-icon_docs",svgFill:"primary",svgHover:"primary",svgH:"16px",svgW:"16px"}),t.jsx(C,{cursor:"pointer",fontSize:{base:"12px",lg:"14px"},lineHeight:"1",color:"primary",_hover:{textDecoration:"underline"},children:"Cetus Protocol Terms & Conditions"})]}),t.jsx(re,{fontWeight:"500",fontSize:"16px",w:"100%",mt:"20px",mb:"8px",onClick:s,children:"Accept"})]})]})})]})}function Gn(e){const{title:n,list:o,isActive:r,socials:s,...i}=e;tt();const{pathname:l}=je(),[p,m]=c.useState(!1),[x,v]=c.useState(!1),D=a=>{a==null||a.stopPropagation(),m(!0)},w=a=>{a==null||a.stopPropagation(),m(!1)};return t.jsx(_,{mb:"-8px",h:{md:p?"140px":"auto",lg:"auto"},children:t.jsx(_,{pb:"8px",onClick:()=>m(!p),onMouseLeave:w,onMouseEnter:D,children:t.jsx(Yt,{isLazy:!0,id:"more",isOpen:p,onClose:()=>w(),placement:"bottom-start",strategy:"fixed",...i,children:({isOpen:a})=>t.jsxs(t.Fragment,{children:[t.jsx(Ut,{p:"0",isActive:a,as:re,bg:"none",_hover:{bg:"none",p:{color:"text_caption"},svg:{fill:"text_caption"}},_active:{bg:"none"},children:t.jsxs(Be,{gap:"4px",children:[t.jsx(C,{color:r?"text_caption":"text_paragraph",position:"relative",fontSize:"15px",fontWeight:"500",children:n}),t.jsx(R,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:a?"rotate(180deg)":"rotate(0deg)"})]})}),t.jsx(nt,{children:t.jsxs(Gt,{zIndex:"999999",p:"8px",display:"flex",flexDir:"column",gap:"8px",minW:"unset",ml:{md:"-16px",lg:"0px"},mt:{md:"-20px",lg:"0px"},bg:{md:"bg_secondary",lg:"bg_secondary"},backdropFilter:{md:"none",lg:"blur(80px)"},children:[o.map(g=>{const E=l.startsWith(g.path);return g.children?t.jsx($n,{item:g,active:E,isActive:r},g.title):t.jsx(ut,{item:g,active:E},g.title)}),s&&t.jsx(W,{minW:"192px",gap:"8px",children:s==null?void 0:s.map(g=>t.jsx(Se,{as:"a",href:g.path,target:"_blank",bg:"menu_item_bg",borderRadius:"8px",padding:"11px",flex:"0 0 42px",sx:{h:"42px",p:{color:"text_paragraph"},svg:{fill:"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:g.icon?t.jsx(_,{children:typeof g.icon=="string"?t.jsx(R,{xlinkHref:g.icon}):t.jsx(R,{xlinkHref:g.icon.xlinkHref,variant:g.icon.variant||""})}):null},g.title))})]})})]})})})})}const $n=({item:e,active:n,isActive:o})=>{const[r,s]=c.useState(!1);return t.jsxs(_,{bg:"menu_item_bg",borderRadius:"8px",p:"0 16px",children:[t.jsx(Se,{as:re,variant:"unstyled",w:"100%",h:"42px",bg:"menu_item_bg",borderRadius:"8px",padding:"10px 0px",sx:{p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},onClick:i=>{$t(i),s(!r)},closeOnSelect:!1,children:t.jsxs(ue,{align:"center",w:"100%",justify:"space-between",children:[t.jsxs(W,{gap:"0px",children:[e.icon?t.jsx(_,{mr:"12px",children:typeof e.icon=="string"?t.jsx(R,{xlinkHref:e.icon}):t.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsx(C,{mr:"4px",color:o?"text_caption":"text_paragraph",position:"relative",fontSize:"14px",children:e.title})]}),t.jsx(R,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:r?"rotate(180deg)":"rotate(0deg)"})]})}),r&&t.jsxs(t.Fragment,{children:[t.jsx(Kt,{borderColor:"border"}),t.jsx(_,{overflow:"hidden",display:"flex",flexDirection:"column",padding:"16px 0px",gap:"20px",border:"none",boxShadow:"none",borderRadius:"0px 0px 8px 8px",bg:"menu_item_bg",minW:"unset",children:(e.children||[]).map(i=>t.jsx(ut,{item:i,active:n,isChild:!0},i.title))})]})]})},ut=({item:e,active:n,isChild:o=!1})=>e.type==="onClick"?t.jsxs(Se,{as:re,variant:"unstyled",justifyContent:"flex-start",onClick:e==null?void 0:e.onClick,...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?t.jsx(_,{mr:"12px",children:typeof e.icon=="string"?t.jsx(R,{xlinkHref:e.icon}):t.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsxs(_,{position:"relative",children:[t.jsx(C,{children:e.title}),(e==null?void 0:e.beta)&&t.jsx($,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):e.type==="_blank"?t.jsxs(Se,{as:"a",href:e.path,target:"_blank",...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?t.jsx(_,{mr:"12px",children:typeof e.icon=="string"?t.jsx(R,{xlinkHref:e.icon}):t.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsxs(_,{position:"relative",children:[t.jsx(C,{children:e.title}),(e==null?void 0:e.beta)&&t.jsx($,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):t.jsxs(Se,{as:qt,to:e.path,...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{h:o?"20px":"42px",p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?t.jsx(_,{mr:"12px",children:typeof e.icon=="string"?t.jsx(R,{xlinkHref:e.icon}):t.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsxs(_,{pos:"relative",children:[t.jsx(C,{children:e.title}),(e==null?void 0:e.beta)&&t.jsx($,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),ft=({icon:e,label:n,...o})=>t.jsxs(M,{w:"100%",p:"16px",borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"flex-start",gap:"24px",children:[t.jsxs(W,{w:"100%",gap:"8px",children:[t.jsx(R,{xlinkHref:e,fontSize:"20px"}),t.jsx(C,{fontSize:"14px",children:n})]}),"children"in o?o==null?void 0:o.children:t.jsxs(W,{w:"100%",justify:"space-between",cursor:"pointer",onClick:o.onClick,children:[t.jsx(C,{color:"text_caption",fontSize:"14px",children:o.value}),t.jsx(R,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),Kn=({onShowOptions:e,showOptions:n,showMainSetting:o,closeModal:r})=>{const{currentExplorer:s}=He();return n?t.jsx(Qt,{closeModal:r}):o&&t.jsx(ft,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:s==null?void 0:s.name,onClick:e})},qn=({showMainSetting:e,closeModal:n})=>e&&t.jsx(ft,{icon:"#icon-icon_rpc",label:"RPC Node",children:t.jsx(Zt,{closeModal:n})}),Qn=({language:e,preferred:n,rpcNode:o,isCetusPump:r})=>{const{isOpen:s,onOpen:i,onClose:l}=Jt(),[p,m]=c.useState("Settings"),x=c.useMemo(()=>p==="Settings",[p]),v=w=>{m(w)},D=()=>{m("Settings")};return t.jsxs(ot,{isLazy:!0,isOpen:s,onOpen:i,placement:"bottom-end",onClose:l,children:[t.jsx(rt,{children:t.jsx(_,{bg:"bg_secondary",w:"36px",h:"36px",p:"7px",border:"1px solid",borderColor:"border",borderRadius:"8px",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},children:t.jsx(R,{xlinkHref:"#icon-icon_settings1",variant:"gray"})})}),t.jsxs(st,{minW:"360px",p:"0px 16px 16px",bg:"bg_secondary",borderRadius:"12px",maxH:"calc(100vh - 80px)",overflowY:"auto",children:[t.jsx(dt,{p:"0px",fontWeight:"500",h:"56px",lineHeight:"56px",border:"none",children:t.jsxs(W,{children:[!x&&t.jsx(R,{xlinkHref:"#icon-icon_descending",transform:"rotate(90deg)",svgFill:"text_caption",fontSize:"16px",onClick:D}),t.jsx(C,{color:"text_caption",fontSize:"16px",children:p})]})}),!x&&t.jsx(pt,{h:"50px",onClick:D}),t.jsx(en,{p:"0px",children:t.jsxs(M,{children:[t.jsx(Kn,{value:n.value,options:n.options,onValueChange:w=>n.onValueChange(w),onShowOptions:()=>v("Preferred"),showOptions:p==="Preferred",showMainSetting:x,closeModal:D}),t.jsx(qn,{...o,showMainSetting:x,closeModal:l})]})})]})]})},Zn=({menus:e,logo:n,setting:o,notifications:r,chain:s,jump:i,isCetusPump:l,children:p})=>{const{pathname:m}=je();return t.jsxs(ue,{w:"100%",justifyContent:"space-between",align:"center",h:"80px",p:"0px 20px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[t.jsxs(ue,{align:"center",gap:{lg:"32px",xl:"48px"},children:[t.jsx($,{src:n.image,h:"32px",alt:"logo",onClick:()=>i(n.url)}),t.jsx(ue,{align:"center",gap:"32px",children:e==null?void 0:e.map(x=>x!=null&&x.children?t.jsx(Gn,{title:x.title,isActive:Ve(x,m),list:x.children,socials:x.socials},x.title):t.jsx(tn,{type:x==null?void 0:x.type,link:x.path,isActive:Ve(x,m),children:t.jsx(C,{color:"inherit",fontSize:"15px",fontWeight:"500",children:x.title})},x.title))})]}),t.jsxs(ue,{align:"center",gap:"8px",children:[l&&t.jsx(it,{w:{lg:"98px",xl:"114px"},h:"36px",text:"Back to DEX",onClick:()=>i("/")}),p,t.jsx(vn,{isCetusPump:l}),r&&t.jsx(nn,{}),t.jsx(Qn,{...o,isCetusPump:l})]})]})};function Jn({children:e,...n}){const{isApp:o}=ke(),r=tt();return o?t.jsx(on,{...n,jump:r,children:e}):t.jsx(Zn,{...n,jump:r,children:e})}var De={exports:{}},gt={};function xt(e){var n,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(o=xt(e[n]))&&(r&&(r+=" "),r+=o);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function $e(){for(var e,n,o=0,r="";o<arguments.length;)(e=arguments[o++])&&(n=xt(e))&&(r&&(r+=" "),r+=n);return r}const eo=Object.freeze(Object.defineProperty({__proto__:null,clsx:$e,default:$e},Symbol.toStringTag,{value:"Module"})),to=rn(eo);var O={},K={};Object.defineProperty(K,"__esModule",{value:!0});K.dontSetMe=io;K.findInArray=no;K.int=so;K.isFunction=oo;K.isNum=ro;function no(e,n){for(let o=0,r=e.length;o<r;o++)if(n.apply(n,[e[o],o,e]))return e[o]}function oo(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function ro(e){return typeof e=="number"&&!isNaN(e)}function so(e){return parseInt(e,10)}function io(e,n,o){if(e[n])return new Error("Invalid prop ".concat(n," passed to ").concat(o," - do not set this, set it on the child."))}var se={};Object.defineProperty(se,"__esModule",{value:!0});se.browserPrefixToKey=mt;se.browserPrefixToStyle=ao;se.default=void 0;se.getPrefix=ht;const Oe=["Moz","Webkit","O","ms"];function ht(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const o=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!o||n in o)return"";for(let r=0;r<Oe.length;r++)if(mt(n,Oe[r])in o)return Oe[r];return""}function mt(e,n){return n?"".concat(n).concat(lo(e)):e}function ao(e,n){return n?"-".concat(n.toLowerCase(),"-").concat(e):e}function lo(e){let n="",o=!0;for(let r=0;r<e.length;r++)o?(n+=e[r].toUpperCase(),o=!1):e[r]==="-"?o=!0:n+=e[r];return n}se.default=ht();Object.defineProperty(O,"__esModule",{value:!0});O.addClassName=yt;O.addEvent=uo;O.addUserSelectStyles=_o;O.createCSSTransform=So;O.createSVGTransform=yo;O.getTouch=vo;O.getTouchIdentifier=wo;O.getTranslation=Fe;O.innerHeight=ho;O.innerWidth=mo;O.matchesSelector=St;O.matchesSelectorAndParentsTo=po;O.offsetXYFromParent=bo;O.outerHeight=go;O.outerWidth=xo;O.removeClassName=vt;O.removeEvent=fo;O.removeUserSelectStyles=Co;var U=K,Ke=co(se);function bt(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(bt=function(r){return r?o:n})(e)}function co(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=bt(n);if(o&&o.has(e))return o.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,o&&o.set(e,r),r}let Ce="";function St(e,n){return Ce||(Ce=(0,U.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,U.isFunction)(e[o])})),(0,U.isFunction)(e[Ce])?e[Ce](n):!1}function po(e,n,o){let r=e;do{if(St(r,n))return!0;if(r===o)return!1;r=r.parentNode}while(r);return!1}function uo(e,n,o,r){if(!e)return;const s={capture:!0,...r};e.addEventListener?e.addEventListener(n,o,s):e.attachEvent?e.attachEvent("on"+n,o):e["on"+n]=o}function fo(e,n,o,r){if(!e)return;const s={capture:!0,...r};e.removeEventListener?e.removeEventListener(n,o,s):e.detachEvent?e.detachEvent("on"+n,o):e["on"+n]=null}function go(e){let n=e.clientHeight;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,U.int)(o.borderTopWidth),n+=(0,U.int)(o.borderBottomWidth),n}function xo(e){let n=e.clientWidth;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,U.int)(o.borderLeftWidth),n+=(0,U.int)(o.borderRightWidth),n}function ho(e){let n=e.clientHeight;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,U.int)(o.paddingTop),n-=(0,U.int)(o.paddingBottom),n}function mo(e){let n=e.clientWidth;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,U.int)(o.paddingLeft),n-=(0,U.int)(o.paddingRight),n}function bo(e,n,o){const s=n===n.ownerDocument.body?{left:0,top:0}:n.getBoundingClientRect(),i=(e.clientX+n.scrollLeft-s.left)/o,l=(e.clientY+n.scrollTop-s.top)/o;return{x:i,y:l}}function So(e,n){const o=Fe(e,n,"px");return{[(0,Ke.browserPrefixToKey)("transform",Ke.default)]:o}}function yo(e,n){return Fe(e,n,"")}function Fe(e,n,o){let{x:r,y:s}=e,i="translate(".concat(r).concat(o,",").concat(s).concat(o,")");if(n){const l="".concat(typeof n.x=="string"?n.x:n.x+o),p="".concat(typeof n.y=="string"?n.y:n.y+o);i="translate(".concat(l,", ").concat(p,")")+i}return i}function vo(e,n){return e.targetTouches&&(0,U.findInArray)(e.targetTouches,o=>n===o.identifier)||e.changedTouches&&(0,U.findInArray)(e.changedTouches,o=>n===o.identifier)}function wo(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function _o(e){if(!e)return;let n=e.getElementById("react-draggable-style-el");n||(n=e.createElement("style"),n.type="text/css",n.id="react-draggable-style-el",n.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,n.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(n)),e.body&&yt(e.body,"react-draggable-transparent-selection")}function Co(e){if(e)try{if(e.body&&vt(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const n=(e.defaultView||window).getSelection();n&&n.type!=="Caret"&&n.removeAllRanges()}}catch{}}function yt(e,n){e.classList?e.classList.add(n):e.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(e.className+=" ".concat(n))}function vt(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")}var q={};Object.defineProperty(q,"__esModule",{value:!0});q.canDragX=To;q.canDragY=Do;q.createCoreData=Mo;q.createDraggableData=Ro;q.getBoundPosition=jo;q.getControlPosition=Po;q.snapToGrid=ko;var Y=K,fe=O;function jo(e,n,o){if(!e.props.bounds)return[n,o];let{bounds:r}=e.props;r=typeof r=="string"?r:Oo(r);const s=ze(e);if(typeof r=="string"){const{ownerDocument:i}=s,l=i.defaultView;let p;if(r==="parent"?p=s.parentNode:p=i.querySelector(r),!(p instanceof l.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const m=p,x=l.getComputedStyle(s),v=l.getComputedStyle(m);r={left:-s.offsetLeft+(0,Y.int)(v.paddingLeft)+(0,Y.int)(x.marginLeft),top:-s.offsetTop+(0,Y.int)(v.paddingTop)+(0,Y.int)(x.marginTop),right:(0,fe.innerWidth)(m)-(0,fe.outerWidth)(s)-s.offsetLeft+(0,Y.int)(v.paddingRight)-(0,Y.int)(x.marginRight),bottom:(0,fe.innerHeight)(m)-(0,fe.outerHeight)(s)-s.offsetTop+(0,Y.int)(v.paddingBottom)-(0,Y.int)(x.marginBottom)}}return(0,Y.isNum)(r.right)&&(n=Math.min(n,r.right)),(0,Y.isNum)(r.bottom)&&(o=Math.min(o,r.bottom)),(0,Y.isNum)(r.left)&&(n=Math.max(n,r.left)),(0,Y.isNum)(r.top)&&(o=Math.max(o,r.top)),[n,o]}function ko(e,n,o){const r=Math.round(n/e[0])*e[0],s=Math.round(o/e[1])*e[1];return[r,s]}function To(e){return e.props.axis==="both"||e.props.axis==="x"}function Do(e){return e.props.axis==="both"||e.props.axis==="y"}function Po(e,n,o){const r=typeof n=="number"?(0,fe.getTouch)(e,n):null;if(typeof n=="number"&&!r)return null;const s=ze(o),i=o.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,fe.offsetXYFromParent)(r||e,i,o.props.scale)}function Mo(e,n,o){const r=!(0,Y.isNum)(e.lastX),s=ze(e);return r?{node:s,deltaX:0,deltaY:0,lastX:n,lastY:o,x:n,y:o}:{node:s,deltaX:n-e.lastX,deltaY:o-e.lastY,lastX:e.lastX,lastY:e.lastY,x:n,y:o}}function Ro(e,n){const o=e.props.scale;return{node:n.node,x:e.state.x+n.deltaX/o,y:e.state.y+n.deltaY/o,deltaX:n.deltaX/o,deltaY:n.deltaY/o,lastX:e.state.x,lastY:e.state.y}}function Oo(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function ze(e){const n=e.findDOMNode();if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var Pe={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.default=Eo;function Eo(){}Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=void 0;var Ee=Io(c),A=Le(ct),Wo=Le(at),B=O,te=q,We=K,be=Le(Me);function Le(e){return e&&e.__esModule?e:{default:e}}function wt(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(wt=function(r){return r?o:n})(e)}function Io(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=wt(n);if(o&&o.has(e))return o.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,o&&o.set(e,r),r}function F(e,n,o){return n=Ho(n),n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function Ho(e){var n=No(e,"string");return typeof n=="symbol"?n:String(n)}function No(e,n){if(typeof e!="object"||e===null)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var r=o.call(e,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}const G={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ne=G.mouse,Re=class extends Ee.Component{constructor(){super(...arguments),F(this,"dragging",!1),F(this,"lastX",NaN),F(this,"lastY",NaN),F(this,"touchIdentifier",null),F(this,"mounted",!1),F(this,"handleDragStart",n=>{if(this.props.onMouseDown(n),!this.props.allowAnyClick&&typeof n.button=="number"&&n.button!==0)return!1;const o=this.findDOMNode();if(!o||!o.ownerDocument||!o.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=o;if(this.props.disabled||!(n.target instanceof r.defaultView.Node)||this.props.handle&&!(0,B.matchesSelectorAndParentsTo)(n.target,this.props.handle,o)||this.props.cancel&&(0,B.matchesSelectorAndParentsTo)(n.target,this.props.cancel,o))return;n.type==="touchstart"&&n.preventDefault();const s=(0,B.getTouchIdentifier)(n);this.touchIdentifier=s;const i=(0,te.getControlPosition)(n,s,this);if(i==null)return;const{x:l,y:p}=i,m=(0,te.createCoreData)(this,l,p);(0,be.default)("DraggableCore: handleDragStart: %j",m),(0,be.default)("calling",this.props.onStart),!(this.props.onStart(n,m)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,B.addUserSelectStyles)(r),this.dragging=!0,this.lastX=l,this.lastY=p,(0,B.addEvent)(r,ne.move,this.handleDrag),(0,B.addEvent)(r,ne.stop,this.handleDragStop))}),F(this,"handleDrag",n=>{const o=(0,te.getControlPosition)(n,this.touchIdentifier,this);if(o==null)return;let{x:r,y:s}=o;if(Array.isArray(this.props.grid)){let p=r-this.lastX,m=s-this.lastY;if([p,m]=(0,te.snapToGrid)(this.props.grid,p,m),!p&&!m)return;r=this.lastX+p,s=this.lastY+m}const i=(0,te.createCoreData)(this,r,s);if((0,be.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(n,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const m=document.createEvent("MouseEvents");m.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(m)}return}this.lastX=r,this.lastY=s}),F(this,"handleDragStop",n=>{if(!this.dragging)return;const o=(0,te.getControlPosition)(n,this.touchIdentifier,this);if(o==null)return;let{x:r,y:s}=o;if(Array.isArray(this.props.grid)){let m=r-this.lastX||0,x=s-this.lastY||0;[m,x]=(0,te.snapToGrid)(this.props.grid,m,x),r=this.lastX+m,s=this.lastY+x}const i=(0,te.createCoreData)(this,r,s);if(this.props.onStop(n,i)===!1||this.mounted===!1)return!1;const p=this.findDOMNode();p&&this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(p.ownerDocument),(0,be.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,p&&((0,be.default)("DraggableCore: Removing handlers"),(0,B.removeEvent)(p.ownerDocument,ne.move,this.handleDrag),(0,B.removeEvent)(p.ownerDocument,ne.stop,this.handleDragStop))}),F(this,"onMouseDown",n=>(ne=G.mouse,this.handleDragStart(n))),F(this,"onMouseUp",n=>(ne=G.mouse,this.handleDragStop(n))),F(this,"onTouchStart",n=>(ne=G.touch,this.handleDragStart(n))),F(this,"onTouchEnd",n=>(ne=G.touch,this.handleDragStop(n)))}componentDidMount(){this.mounted=!0;const n=this.findDOMNode();n&&(0,B.addEvent)(n,G.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const n=this.findDOMNode();if(n){const{ownerDocument:o}=n;(0,B.removeEvent)(o,G.mouse.move,this.handleDrag),(0,B.removeEvent)(o,G.touch.move,this.handleDrag),(0,B.removeEvent)(o,G.mouse.stop,this.handleDragStop),(0,B.removeEvent)(o,G.touch.stop,this.handleDragStop),(0,B.removeEvent)(n,G.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,B.removeUserSelectStyles)(o)}}findDOMNode(){var n,o;return(n=this.props)!==null&&n!==void 0&&n.nodeRef?(o=this.props)===null||o===void 0||(o=o.nodeRef)===null||o===void 0?void 0:o.current:Wo.default.findDOMNode(this)}render(){return Ee.cloneElement(Ee.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Pe.default=Re;F(Re,"displayName","DraggableCore");F(Re,"propTypes",{allowAnyClick:A.default.bool,children:A.default.node.isRequired,disabled:A.default.bool,enableUserSelectHack:A.default.bool,offsetParent:function(e,n){if(e[n]&&e[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:A.default.arrayOf(A.default.number),handle:A.default.string,cancel:A.default.string,nodeRef:A.default.object,onStart:A.default.func,onDrag:A.default.func,onStop:A.default.func,onMouseDown:A.default.func,scale:A.default.number,className:We.dontSetMe,style:We.dontSetMe,transform:We.dontSetMe});F(Re,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),e.default=void 0;var n=w(c),o=v(ct),r=v(at),s=v(to),i=O,l=q,p=K,m=v(Pe),x=v(Me);function v(u){return u&&u.__esModule?u:{default:u}}function D(u){if(typeof WeakMap!="function")return null;var b=new WeakMap,d=new WeakMap;return(D=function(f){return f?d:b})(u)}function w(u,b){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var d=D(b);if(d&&d.has(u))return d.get(u);var f={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in u)if(h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)){var S=y?Object.getOwnPropertyDescriptor(u,h):null;S&&(S.get||S.set)?Object.defineProperty(f,h,S):f[h]=u[h]}return f.default=u,d&&d.set(u,f),f}function a(){return a=Object.assign?Object.assign.bind():function(u){for(var b=1;b<arguments.length;b++){var d=arguments[b];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(u[f]=d[f])}return u},a.apply(this,arguments)}function g(u,b,d){return b=E(b),b in u?Object.defineProperty(u,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[b]=d,u}function E(u){var b=j(u,"string");return typeof b=="symbol"?b:String(b)}function j(u,b){if(typeof u!="object"||u===null)return u;var d=u[Symbol.toPrimitive];if(d!==void 0){var f=d.call(u,b);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(u)}class H extends n.Component{static getDerivedStateFromProps(b,d){let{position:f}=b,{prevPropsPosition:y}=d;return f&&(!y||f.x!==y.x||f.y!==y.y)?((0,x.default)("Draggable: getDerivedStateFromProps %j",{position:f,prevPropsPosition:y}),{x:f.x,y:f.y,prevPropsPosition:{...f}}):null}constructor(b){super(b),g(this,"onDragStart",(d,f)=>{if((0,x.default)("Draggable: onDragStart: %j",f),this.props.onStart(d,(0,l.createDraggableData)(this,f))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(d,f)=>{if(!this.state.dragging)return!1;(0,x.default)("Draggable: onDrag: %j",f);const y=(0,l.createDraggableData)(this,f),h={x:y.x,y:y.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:k}=h;h.x+=this.state.slackX,h.y+=this.state.slackY;const[N,X]=(0,l.getBoundPosition)(this,h.x,h.y);h.x=N,h.y=X,h.slackX=this.state.slackX+(T-h.x),h.slackY=this.state.slackY+(k-h.y),y.x=h.x,y.y=h.y,y.deltaX=h.x-this.state.x,y.deltaY=h.y-this.state.y}if(this.props.onDrag(d,y)===!1)return!1;this.setState(h)}),g(this,"onDragStop",(d,f)=>{if(!this.state.dragging||this.props.onStop(d,(0,l.createDraggableData)(this,f))===!1)return!1;(0,x.default)("Draggable: onDragStop: %j",f);const h={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:k}=this.props.position;h.x=T,h.y=k}this.setState(h)}),this.state={dragging:!1,dragged:!1,x:b.position?b.position.x:b.defaultPosition.x,y:b.position?b.position.y:b.defaultPosition.y,prevPropsPosition:{...b.position},slackX:0,slackY:0,isElementSVG:!1},b.position&&!(b.onDrag||b.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var b,d;return(b=(d=this.props)===null||d===void 0||(d=d.nodeRef)===null||d===void 0?void 0:d.current)!==null&&b!==void 0?b:r.default.findDOMNode(this)}render(){const{axis:b,bounds:d,children:f,defaultPosition:y,defaultClassName:h,defaultClassNameDragging:S,defaultClassNameDragged:T,position:k,positionOffset:N,scale:X,...z}=this.props;let Q={},ie=null;const oe=!!!k||this.state.dragging,ee=k||y,Z={x:(0,l.canDragX)(this)&&oe?this.state.x:ee.x,y:(0,l.canDragY)(this)&&oe?this.state.y:ee.y};this.state.isElementSVG?ie=(0,i.createSVGTransform)(Z,N):Q=(0,i.createCSSTransform)(Z,N);const xe=(0,s.default)(f.props.className||"",h,{[S]:this.state.dragging,[T]:this.state.dragged});return n.createElement(m.default,a({},z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(f),{className:xe,style:{...f.props.style,...Q},transform:ie}))}}e.default=H,g(H,"displayName","Draggable"),g(H,"propTypes",{...m.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),g(H,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(gt);const{default:_t,DraggableCore:Bo}=gt;De.exports=_t;De.exports.default=_t;De.exports.DraggableCore=Bo;var Fo=De.exports;const zo=sn(Fo),Ct=c.forwardRef(({currStep:e,openConfirmModelClick:n,handleSwapWidgetRouterClick:o,formatSwapRouter:r,handleSettingClick:s,openSelectTokenModal:i,handleSlippageClick:l},p)=>{const{currWidgetImg:m,isOpen:x}=ve(),{pathname:v}=je(),D=Te(),{fromCoin:w,toCoin:a,setFromCoin:g,setToCoin:E,byAmountIn:j,setFromAmount:H,setToAmount:u,setByAmountIn:b,findRouterLoading:d,routerData:f}=D,{handleSelectToken:y,handleAmountChange:h,fromAmount:S,toAmount:T,fromAmountValue:k,toAmountValue:N,fromBalanceInfo:X,toBalanceInfo:z,amountLimit:Q,doSwapAction:ie,reCalculateRouteData:ge,scamsText:oe,refreshMarketPrice:ee,resetInputAmount:Z,onReverseClick:xe}=Cn(D,!0),ae=c.useRef(e);c.useEffect(()=>{ae.current=e},[e]),c.useImperativeHandle(p,()=>({handleTradeSubmit:V=>{ie(V)},handleSelectToken:(V,Dt)=>{y(Dt,V)}}));const{btnText:L,btnDisabled:le}=jn(S,T,X==null?void 0:X.balanceFormat,w,a,f),{fetchAccountBalance:he}=Wn();c.useEffect(()=>(de!=null&&de.address&&he(),()=>{Z()}),[]);const{startTimer:ce,stopTimer:me}=an({callback:()=>{ge(),ee()},interval:5*1e3});c.useEffect(()=>{x||(Z(),me())},[x]),c.useEffect(()=>{e===I.TradeConfirmPage?ce():me()},[e]);const[pe,_e]=c.useState("#icon-a-icon_trade"),{currentAccount:de,onWalletModal:P}=Ne(),jt=()=>{_e("#icon-icon_swap1")},kt=()=>{_e("#icon-a-icon_trade")},Tt=V=>{console.log("  handleRefresh"),ge(),he(),ee()};return t.jsxs(M,{w:"100%",h:"100%",display:e===I.TradeInputPage?"flex":"none",gap:"16px",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:[t.jsxs(W,{w:"100%",justify:"space-between",children:[t.jsxs(W,{children:[t.jsx($,{draggable:"false",src:m,fallbackSrc:"/images/placeholder-token@2x.png",w:"36px",h:"36px",cursor:"pointer",_hover:{transform:"scale(1.2)"},onClick:s}),t.jsx(C,{fontSize:"16px",color:"text_caption",fontWeight:"500",children:"Swap"})]}),t.jsxs(W,{children:[t.jsx(Hn,{isWidget:!0,onClick:l}),x&&t.jsx(En,{isAutoRefresh:!0,refreshInterval:20,handleRefresh:V=>{ae.current!==I.TradeConfirmPage&&Tt()},borderRadius:"8px",w:"28px",h:"28px",innerStyle:{bg:"swap_bg_secondary"}})]})]}),t.jsxs(_,{w:"100%",children:[t.jsx(In,{onClick:()=>xe(!0),from:{wrapStyle:{h:"auto",p:"18px",bg:"swap_bg_secondary"},isWidget:!0,balance:(X==null?void 0:X.balanceFormat)||"",value:S,amountValue:k,loading:!j&&d,openSelectTokenModal:()=>i(!0),onChange:V=>{h(V,!0)},selectable:!0,placeholder:"0.0",token:w,onFocusChange:V=>{V&&+S&&!j&&h(S,!0)}},to:{isWidget:!0,wrapStyle:{h:"auto",p:"18px"},balance:(z==null?void 0:z.balanceFormat)||"",value:T,amountValue:N,loading:j&&d,openSelectTokenModal:()=>i(!1),onFocusChange:V=>{V&&+T&&j&&h(T,!1)},inputAllowed:!1,onChange:V=>{h(V,!1)},selectable:!0,placeholder:"0.0",token:a,half:!1,max:!1},iconParams:{xlinkHref:pe,svgFill:"text_caption",transform:pe==="#icon-a-icon_trade"?"":"rotate(90deg)",fontSize:pe==="#icon-a-icon_trade"?"12px":"16px",onMouseEnter:jt,onMouseLeave:kt}}),oe&&t.jsx(_,{mt:"-32px",p:"48px 16px 16px",borderRadius:"20px",bg:"bg_secondary",border:"1px solid",borderColor:"border",children:t.jsx(kn,{scamsText:oe})})]}),t.jsxs(M,{p:+S&&+T?"0 8px 12px":"0 8px",w:"100%",gap:"8px",border:"1px solid",borderColor:"border",borderRadius:"20px",bg:"swap_card_bg",children:[t.jsx(re,{w:"calc(100% + 18px)",h:"52px",margin:"-1px",fontSize:"18px",fontWeight:"500",borderRadius:"16px",isDisabled:d||le,isLoading:d,onClick:()=>{de?f&&n(f):P(!0)},children:[w,a].filter(Boolean).length<2?"Select a token":L}),!!+S&&!!+T&&t.jsxs(M,{w:"100%",gap:"12px",children:[t.jsx(Tn,{isWidget:!0,bg:"swap_card_bg_2",findRouterLoading:d,routerData:f,fromCoin:w,toCoin:a}),t.jsx(On,{isLoading:d,label:j?"Minimum Received":"Maximum Sold",value:`${ln(Q,j?a==null?void 0:a.decimals:w==null?void 0:w.decimals,!1,cn.ROUND_DOWN)} ${j?a==null?void 0:a.symbol:w==null?void 0:w.symbol}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"12px"},valueStyle:{fontWeight:500,fontSize:"12px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",minH:"20px"}}),t.jsx(Dn,{handleSwapWidgetRouterClick:o,formatSwapRouter:r,findRouterLoading:d,fromAmount:S,toAmount:T,fromCoin:w,toCoin:a,isSwapWidget:!0})]})]})]})});Ct.displayName="SwapTrade";function Lo(e){const{data:n,onClose:o}=e,{status:r="confirmation",link:s,tx:i,getShowInfo:l}=n,p=c.useMemo(()=>{if(l)return l(r)},[r]);return t.jsxs(M,{w:"100%",gap:"12px",h:"386px",pos:"relative",children:[t.jsx(Xo,{status:r}),t.jsx(Ao,{data:n,info:p}),(r==="success"||r==="rejected")&&t.jsx(re,{w:"100%",pos:"absolute",bottom:"0px",fontWeight:"500",fontSize:"16px",h:"52px",border:"12px",onClick:()=>{o()},children:r==="rejected"?"Retry":"Swap More"})]})}function Ao(e){const{data:n,info:o}=e,{status:r="confirmation",tx:s}=n,{getExplorerUrl:i}=pn(),l=o==null?void 0:o.modalDescriptionText;return o==null||o.iconUrl,r==="confirmation"?t.jsxs(M,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[t.jsx(Ye,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),t.jsx(C,{color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:l}),t.jsx(C,{fontSize:"14px",children:"Confirm this transaction in your wallet"})]}):r==="submitted"?t.jsxs(M,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[t.jsx(Ye,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),t.jsx(C,{color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:l}),t.jsxs(M,{gap:"6px",children:[t.jsx(C,{color:"primary_gray",fontSize:"14px",children:"Confirmation is in progress."}),t.jsx(C,{color:"primary_gray",fontSize:"14px",children:"Check your transaction"})]}),t.jsx(M,{mt:"5px",gap:"12px",children:s&&t.jsx(M,{gap:"12px",children:t.jsx(W,{w:"100%",justifyContent:"center",gap:"16px",children:Ue.map(p=>t.jsx(re,{variant:"outline",h:"32px",pl:"12px",lineHeight:"1",color:"text_highlight",fontSize:"12px",borderColor:"swap_border",borderRadius:"8px",leftIcon:t.jsx($,{src:p.img,alt:"SVG Image",boxSize:"24px",objectFit:"cover",borderRadius:"8px"}),rightIcon:t.jsx(R,{xlinkHref:"#icon-icon_link1",svgW:"20px",svgH:"20px"}),_hover:{borderColor:"text_highlight",svg:{fill:"text_caption"}},onClick:()=>{window.open(i(s,"tx",p),"_blank")},children:p.name},p.name))})})})]}):r==="success"?t.jsx(t.Fragment,{children:t.jsxs(M,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[t.jsx(J,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_green_opacity.10",children:t.jsx(J,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_green",children:t.jsx(R,{xlinkHref:"#icon-icon_check",fontSize:"30px",svgFill:"#000"})})}),t.jsx(C,{color:"primary_green",fontSize:"14px",lineHeight:"20px",children:"Swap Successful"}),t.jsx(W,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",textAlign:"center",children:t.jsx(C,{children:l})}),s&&t.jsxs(W,{mt:"32px",children:[t.jsx(C,{color:"primary_green",fontSize:"12px",children:"View on Explorer"}),Ue.map(p=>t.jsx(Fn,{tooltip:t.jsxs(C,{children:[p.name," "]}),children:t.jsx($,{onClick:()=>{window.open(i(s,"tx",p),"_blank")},cursor:"pointer",src:p.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"})},p.name))]})]})}):r==="rejected"?t.jsx(t.Fragment,{children:t.jsxs(M,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[t.jsx(J,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_red_opacity.10",children:t.jsx(J,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_red",children:t.jsx(R,{xlinkHref:"#icon-caution",fontSize:"24px",svgFill:"#000"})})}),t.jsx(C,{color:"primary_red",fontSize:"14px",lineHeight:"20px",children:"Swap failed"}),t.jsx(W,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",children:t.jsx(C,{maxW:"100%",textAlign:"center",lineHeight:"18px",children:l})})]})}):t.jsx(t.Fragment,{})}function Xo({status:e}){return t.jsxs(M,{w:"100%",h:"56px",justifyContent:"center",children:[e==="confirmation"&&t.jsx(C,{fontSize:"16px",color:"text_caption",children:"Waiting for Confirmation"}),e==="submitted"&&t.jsx(C,{fontSize:"16px",color:"text_caption",children:"Transaction in progress"})]})}function we(e){const{title:n,onBackClick:o}=e;return t.jsxs(W,{position:"relative",w:"100%",mt:"12px",children:[t.jsx(J,{ml:"12px",cursor:"pointer",left:"0",w:"74px",h:"32px",lineHeight:"32px",p:"0",bg:"swap_bg_secondary",borderRadius:"8px",onClick:o,sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:t.jsxs(W,{justify:"center",gap:"4px",children:[t.jsx(R,{ml:"-10px",xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),t.jsx(C,{fontSize:"12px",children:"Back"})]})}),t.jsx(C,{color:"text_caption",fontSize:"16px",position:"absolute",left:"50%",transform:"translateX(-50%)",children:n})]})}function Vo(e){const{onClose:n,data:o,onSubmitClick:r}=e,{fromCoin:s,toCoin:i,routerData:l}=Te();return t.jsxs(M,{w:"100%",gap:"12px",children:[t.jsx(we,{title:"Review your order",onBackClick:n}),t.jsx(Pn,{onSubmitClick:r,onClose:n,data:o,lastRouterData:l,fromCoin:s,toCoin:i,isWidget:!0})]})}function Yo(e){var g;const{onClose:n,data:o}=e,{fromCoin:r,toCoin:s,findRouterLoading:i,fromAmount:l,toAmount:p}=Te(),{getTokenInfo:m}=zn(),x=(g=o==null?void 0:o.routers)==null?void 0:g.map(E=>({...E,paths:E.paths.map(j=>({...j,fromToken:m(j.from_type),toToken:m(j.to_type)}))})),v={fromToken:r,toToken:s,fromAmount:l,toAmount:p,routes:x},[D,w]=c.useState(!0),a=c.useRef(null);return c.useEffect(()=>(a.current&&(clearTimeout(a.current),a.current=null),a.current=setTimeout(()=>{w(!1)},1500),()=>{a.current&&(clearTimeout(a.current),a.current=null)}),[]),t.jsxs(M,{w:"100%",gap:"12px",children:[t.jsx(we,{title:"Route",onBackClick:n}),t.jsxs(W,{w:"100%",justify:"space-between",p:"0 12px",children:[t.jsx(C,{fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"nowrap",children:"Router"}),t.jsx(_,{children:t.jsx(Mn,{data:o,loading:i})})]}),t.jsx(_,{pl:"12px",pr:"12px",w:"100%",children:t.jsx(Rn,{...v,loading:D})})]})}function Uo(e){const{onClose:n,currToken:o,onSelectCall:r}=e,[s,i]=c.useState(void 0);return t.jsxs(M,{w:"100%",gap:"12px",children:[!s&&t.jsx(we,{title:"Select Token",onBackClick:n}),s&&t.jsxs(W,{mt:"12px",gap:"12px",alignContent:"start",w:"100%",children:[t.jsx(it,{bg:"swap_bg_secondary",ml:"12px",onClick:()=>{i(void 0)}}),t.jsx(Ln,{token:s,imgBoxStyle:{w:"28px",h:"28px"}})]}),t.jsxs(_,{w:"100%",children:[!s&&t.jsx(dn,{bg:"swap_bg_primary",isOpen:!0,isWidget:!0,isShowHotList:!1,isShowCollectListBox:!0,lastSelectedToken:(o==null?void 0:o.coin_type)||"",noDataHaveImg:!1,noClickImportItem:!0,onSelectToken:l=>{r(l)},onGoplusTokenClick:l=>{i(l)},onClose:function(){}}),s&&t.jsx(An,{tokenInfo:s})]})]})}function Go(e){const{onClose:n}=e;return t.jsxs(M,{w:"100%",gap:"12px",pb:"16px",children:[t.jsx(we,{title:"Settings",onBackClick:n}),t.jsx($o,{})]})}function $o(){const{currWidgetImg:e,swapWidgetDirection:n,saveCurrWidgetImg:o}=ve();return t.jsx(_,{w:"100%",pl:"16px",pr:"16px",children:t.jsx(J,{borderRadius:"12px",bg:"swap_bg_secondary",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:t.jsxs(M,{w:"100%",alignItems:"start",gap:"16px",children:[t.jsx(C,{color:"text_paragraph",children:"Change image"}),t.jsx(W,{w:"100%",wrap:"wrap",justifyContent:"space-between",children:wn.map(r=>t.jsx(J,{w:"44px",h:"44px",borderRadius:"50%",p:"6px",borderColor:e===r?"circle_progress_color":"border",children:t.jsx(Be,{w:"100%",h:"100%",cursor:"pointer",onClick:()=>{o(r)},children:t.jsx($,{src:r,w:"36px"})})},r))})]})})})}function Ko(e){const{onCloseModal:n}=e,{showSlippage:o,isWidget:r,compact:s,settingOpen:i,onChange:l,slippageType:p,transactionMode:m,handleChangeTransctionMode:x,maxCapForGas:v,handleChangeMaxCapForGas:D,customGasPrice:w,handleChangeCustomGasPrice:a,mevProtect:g,handleChangeMevProtect:E}=Nn(e);return t.jsxs(M,{w:"100%",gap:"12px",pb:"16px",children:[t.jsx(we,{title:"Settings",onBackClick:n}),t.jsx(_,{p:"0px 16px",children:t.jsx(_,{borderRadius:"12px",bg:"swap_bg_secondary",p:"16px 12px",children:t.jsx(Bn,{isWidget:r,compact:s,isOpen:i,onClose:n,value:un(o).mul(100).toNumber(),onChange:l,slippageType:p,transactionMode:m,onChangeTransctionMode:x,maxCapForGas:v,onChangeMaxCapForGas:D,mevProtect:g,onChangeMevProtect:E,customGasPrice:w,onChangeCustomGasPrice:a})})})]})}function qo(e){const{showTopMask:n}=e,{isOpen:o}=ve(),{routerData:r,fromCoin:s,toCoin:i}=Te(),[l,p]=c.useState(I.TradeInputPage),[m,x]=c.useState(),{transactionModalVisible:v,transactionData:D,setTransactionModalVisible:w}=lt(),{formatSwapRouter:a}=_n(r),[g,E]=c.useState(!0);ke();const j=c.useRef(null),H=y=>{x(y),p(I.TradeConfirmPage)},u=()=>{p(I.RoutePage)},b=y=>{E(y),p(I.SelectTokenPage)},d=()=>{p(I.TradeInputPage)};c.useEffect(()=>{o||p(I.TradeInputPage)},[o]);const f=c.useMemo(()=>l===I.TradeStatus&&D&&D.isSwapWidget&&v,[l,D,v]);return t.jsxs(M,{bg:"swap_bg_primary",w:"100%",borderRadius:"16px",p:"0px",children:[t.jsx(Ct,{ref:j,openSelectTokenModal:b,formatSwapRouter:a,handleSwapWidgetRouterClick:u,currStep:l,openConfirmModelClick:H,handleSettingClick:()=>{p(I.TradeSetting)},handleSlippageClick:()=>{p(I.SlippageSetting)}}),l===I.TradeConfirmPage&&m&&t.jsx(Vo,{data:m,onClose:d,onSubmitClick:async y=>{var h;setTimeout(()=>{p(I.TradeStatus)},500),(h=j.current)==null||h.handleTradeSubmit(y)}}),f&&t.jsx(Lo,{data:D,onClose:()=>{w(!1),d()}}),l===I.RoutePage&&a&&t.jsx(Yo,{data:a,onClose:d}),l===I.TradeSetting&&t.jsx(Go,{onClose:d}),l===I.SelectTokenPage&&t.jsx(Uo,{onClose:d,currToken:g?s:i,onSelectCall:y=>{var h;(h=j.current)==null||h.handleSelectToken(g,y),d()}}),l===I.SlippageSetting&&t.jsx(Ko,{onCloseModal:d})]})}function Qo(e){const{isOpen:n}=e,{currWidgetImg:o}=ve();return t.jsxs(t.Fragment,{children:[t.jsx(_,{p:"10px",display:n?"block":"none",pointerEvents:"none",children:t.jsx(J,{w:{base:"56px",lg:"52px"},h:{base:"56px",lg:"52px"},borderRadius:"50%",p:"5px",bg:"swap_bg_primary",children:t.jsx(W,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",pt:"5px",pr:"1px",children:t.jsx(R,{xlinkHref:"#icon-icon_descending_nor",svgH:"10px",svgFill:"text_caption",svgHover:"primary"})})})}),t.jsx(_,{_hover:{transform:"scale(1.2)"},display:n?"none":"block",children:t.jsx($,{draggable:"false",src:o,fallbackSrc:"/images/placeholder-token@2x.png",w:{base:"60px",lg:"68px"},h:{base:"60px",lg:"68px"},pointerEvents:"none"})})]})}function Zo(){const{isOpen:e,setIsOpen:n,swapWidgetPosition:o,setSwapWidgetPosition:r}=ve(),{isApp:s}=ke(),i=c.useRef(!1),l=c.useRef(null),[p,m]=c.useState({x:0,y:0}),x=c.useMemo(()=>{if(!l.current)return"top-start";const d=l.current.getBoundingClientRect(),f=window.innerWidth,y=window.innerHeight,h=d.left+d.width/2;d.top+d.height/2,d.left,f-d.right;const S=d.top,T=y-d.bottom,k=h<f/2;let N="top-start";return T-S>10?N=k?"bottom-start":"bottom-end":N=k?"top-start":"top-end",N},[e,l.current,s]),v=c.useRef({x:0,y:0}),D=(d,f)=>{v.current={x:f.x,y:f.y}},w=(d,f)=>{const y={x:f.x,y:f.y},h=Math.abs(y.x-v.current.x),S=Math.abs(y.y-v.current.y);h>1||S>1?(r(y),setTimeout(()=>{i.current=!1},200)):i.current=!1},a=c.useRef(null),[g,E]=c.useState(0),[j,H]=c.useState(!1),[u,b]=c.useState(!1);return c.useEffect(()=>{if(!a.current)return;const d=S=>{const T=S==null?void 0:S.composedPath(),k=S.target;if((k==null?void 0:k.id)==="popover-trigger-PopoverId")return;const X=T.some(z=>{var Q;return(z==null?void 0:z.classList)&&((Q=z==null?void 0:z.classList)==null?void 0:Q.contains("price-impactg-tips"))});a.current&&!a.current.contains(S.target)&&!X&&n(!1)};document.addEventListener("mousedown",d);const f=()=>{if(a.current){const S=a.current.getBoundingClientRect(),T=S.top<0,k=S.bottom>window.innerHeight;H(T||k)}},y=()=>{if(a.current){const S=a.current.getBoundingClientRect(),T=window.innerHeight;let k=S.height;b(S.top<10),S.top<0?k=Math.min(S.height,S.bottom):S.bottom>T&&(k=Math.min(S.height,T-S.top)),console.log("ðŸš€ ~ calculateVisibleHeight ~ visible:",{visible:k}),k<=0&&s&&(k=S.height),E(Math.max(0,k))}},h=new ResizeObserver(()=>{f(),y()});return a.current&&h.observe(a.current),()=>{document.removeEventListener("mousedown",d),a.current&&h.unobserve(a.current)}},[a.current]),c.useEffect(()=>(e?document.body.style.overflowX="hidden":document.body.style.overflowX="",()=>{document.body.style.overflowX=""}),[n]),t.jsx(zo,{allowAnyClick:!1,bounds:"parent",position:o,onDrag:(d,f)=>{i.current=!0,m({x:f.x,y:f.y})},onStop:w,onStart:D,children:t.jsx(M,{zIndex:1e3,position:"absolute",gap:"16px",bottom:s?"8px":"20px",left:s?"8px":"20px",children:t.jsxs(ot,{id:"PopoverId",isLazy:!0,closeOnBlur:!1,isOpen:e,placement:x,trigger:"click",autoFocus:!1,returnFocusOnClose:!1,children:[t.jsx(rt,{children:t.jsx(_,{ref:l,pointerEvents:"auto",cursor:"pointer",as:"button",onTouchEnd:()=>{s&&(i.current||n(!e))},onClick:()=>{!s&&!i.current&&n(!e)},children:t.jsx(Qo,{isOpen:e})})}),t.jsx(nt,{children:t.jsx(st,{ref:a,w:s?"90vw":"386px",bg:"transparent",p:"0px",borderRadius:"16px",borderColor:"transparent",style:{transform:`translate(${p.x}px, ${p.y}px)`},children:e&&t.jsx(_,{pt:"0px",width:"100%",maxH:j?`${g}px`:"auto",overflowY:j?"auto":"visible",overflowX:"hidden",children:t.jsx(qo,{showTopMask:u})})})})]})})})}function Jo(){const{mutate:e}=fn();c.useEffect(()=>{Ge.inMSafeWallet()&&e({wallet:new Ge("cetus",gn("mainnet"),"sui:mainnet"),silent:!0})},[])}const er=c.lazy(()=>ye(()=>import("./index-BjH2wDZs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.BuyCryptoAlchemy}))),tr=c.lazy(()=>ye(()=>import("./index-BjH2wDZs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.BuyCryptoKodo}))),nr=c.lazy(()=>ye(()=>import("./index-BjH2wDZs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.BuyCryptoModal}))),or=c.lazy(()=>ye(()=>import("./index-BjH2wDZs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.TransactionModal}))),rr=c.lazy(()=>ye(()=>import("./index-BjH2wDZs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.WalletModal})));function sr(){const[e,n]=c.useState(!1),{isTerm:o,setIsTerm:r,isBuyCryptoConfirm:s}=et(),{isShowAlchemyCrypto:i,isShowKodoCrypto:l,setIsShowAlchemyCrypto:p,setIsShowKodoCrypto:m}=xn(),{transactionModalVisible:x,transactionData:v,setTransactionModalVisible:D,setManualCloseId:w}=lt(),{currentAccount:a,isOpenWalletModal:g,onWalletModal:E}=Ne(),{fetchFrontConfig:j}=Xn(),{fetchTokenPrices:H}=hn();Jo(),Vn();const{pathname:u}=je(),[b,d]=c.useState({name:"Sui",icon:"/images/icon-Sui@2x.png",label:"Sui"}),[f,y]=c.useState("EN"),[h,S]=c.useState("Suiscan"),[T,k]=c.useState("Suiscan"),N={language:{options:["EN English","CH ä¸­æ–‡"],value:f,onValueChange:P=>y(P)},preferred:{options:["Suiscan","Sui Explorer"],value:h,onValueChange:P=>S(P)},rpcNode:{options:["Suiscan","SUIscan2"],value:T,onValueChange:P=>k(P)}},X=c.useMemo(()=>["stats","pools"].some(P=>u.includes(P)),[u]),z=c.useMemo(()=>["swap"].some(P=>u.includes(P)),[u]),Q=c.useMemo(()=>["swap","limit","dca"].some(P=>u.includes(P)),[u]),[ie,ge]=c.useState(!1),oe=c.useRef(null),ee=()=>{L.current&&ge(L.current.scrollTop>100)},Z=()=>{var P;L.current&&((P=L.current)==null||P.scrollTo({top:0,behavior:"instant"}))},{initNotifi:xe}=mn();c.useEffect(()=>{u&&(console.log("ðŸš€ ~ useEffect ~ pathname:",u),Z())},[u]),c.useEffect(()=>{if(setTimeout(()=>{j(),H([])},1e3),L.current)return console.log("ðŸš€ ~ useEffect ~ hStack:",L.current),L.current.addEventListener("scroll",ee),()=>{var P;return(P=L.current)==null?void 0:P.removeEventListener("scroll",ee)}},[]),c.useEffect(()=>{a!=null&&a.address&&(console.log("ðŸš€ðŸš€ðŸš€ ~ CetusLayout.tsx:113 ~ useEffect ~ currentAccount?.address:",a==null?void 0:a.address),xe(a==null?void 0:a.address))},[a==null?void 0:a.address]);const{size:ae}=yn(),L=c.useRef(null),[le,he]=c.useState(!1),ce=c.useRef(null),me=()=>{he(!0)};c.useEffect(()=>L.current?(L.current.addEventListener("scroll",me),()=>{var P;(P=L.current)==null||P.removeEventListener("scroll",me)}):()=>{ce.current&&(clearTimeout(ce.current),ce.current=null)},[]),c.useEffect(()=>{le&&(ce.current=setTimeout(()=>{he(!1)},1500))},[le]);const{isApp:pe}=ke(),_e=[{title:"Trade",children:[{title:"Swap",path:"/swap",icon:"#icon-a-icon_swap2"},{title:"Limit Order",path:"/limit",icon:"#icon-icon_limitorder"},{title:"DCA",path:"/dca",icon:"#icon-icon_dca"},{title:"DeepBook",path:"https://deepbook.cetus.zone/",type:"_blank",icon:"#icon-icon_deepbook"}]},{title:"Earn",children:[{title:"Pools",path:"/pools",icon:"#icon-icon_liquiditypools"},{title:"Farms",path:"/farms",icon:"#icon-icon_farms"},{title:"Vaults",path:"/vaults",icon:"#icon-icon_vaults"}]},{title:"xCETUS",path:"/xCetus",type:pe?"onClick":"reactRouterLink"},{title:"Bridge",children:[{title:"Sui Bridge",type:"_blank",path:"https://bridge.sui.io/",icon:"#icon-icon_sui"},{title:"Wormhole",type:"_blank",path:"https://bridge.cetus.zone/sui",icon:"#icon-icon_wormhole"}]},{title:"More",children:[{title:"Buy Crypto",type:"onClick",onClick:()=>{console.log("Buy Crypto"),a!=null&&a.address?n(!0):E(!0)},icon:"#icon-icon_crypto"},{title:"Launchpad",path:"https://launch.cetus.zone/?chain=sui",type:"_blank",icon:"#icon-icon_Launchpad"},{title:"Cetus Terminal",path:"https://terminal.cetus.zone",type:"_blank",icon:"#icon-icon_terminal"},{title:"Stats",path:"/stats",icon:"#icon-icon_stats"},{title:"Docs",path:"https://cetus-1.gitbook.io/cetus-docs",type:"_blank",icon:"#icon-icon_docs"}],socials:[{title:"X",path:"https://x.com/cetusprotocol",icon:"#icon-icon_twitter"},{title:"Discord",path:"https://discord.com/invite/rQtYGfmcD8",icon:"#icon-icon_discord"},{title:"Telegram",path:"https://t.me/CetusDevNews",icon:"#icon-icon_telegram"},{title:"Medium",path:"https://medium.com/@CetusProtocol",icon:"#icon-icon_medium"}]}],de=c.useMemo(()=>!pe&&!(u!=null&&u.includes("/swap"))&&u!=="/",[u]);return t.jsxs(t.Fragment,{children:[t.jsx(_,{ref:L,h:ae==null?void 0:ae.h,background:"bg_primary",overflowY:"scroll",overflowX:"hidden",minW:{base:"100%",lg:"1200px"},className:`scroll-container ${le?"scroll-active":""}`,sx:{"::-webkit-scrollbar-thumb":{background:le?"rgba(88, 90, 92, 1)":"rgba(88, 90, 92, 0)",transition:"background 0.5s ease, opacity 0.5s ease"}},children:t.jsxs(_,{minH:"100%",pt:{base:"10px",lg:"0"},children:[t.jsx(Jn,{logo:{image:"/images/logo@2x.png",url:"/"},menus:_e,notifications:!0,setting:N,isCetusPump:!1}),t.jsx(_,{as:"div",pb:"80px",style:{width:"100%",position:"relative",height:"100%"},ref:oe,children:t.jsx(c.Suspense,{fallback:t.jsx(Sn,{}),children:t.jsx(M,{w:"100%",children:t.jsx(ue,{w:"100%",maxW:"1200px",p:{base:"0px 8px 0px 12px",lg:"0 20px"},justifyContent:"center",zIndex:"1",children:t.jsx(bn,{})})})})}),ie&&X&&t.jsx(J,{cursor:"pointer",w:"40px",h:"40px",p:"0",borderRadius:"12px",zIndex:"99",position:"fixed",bottom:"30px",right:"20px",onClick:Z,_hover:{svg:{fill:"text_caption"}},children:t.jsx(Be,{w:"100%",h:"100%",children:t.jsx(R,{xlinkHref:"#icon-icon_top1",onClick:Z})})}),t.jsx(ir,{bgIsShow:z,bgBottomIsShow:Q})]})}),g&&t.jsx(c.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(rr,{isOpen:g,onClose:()=>E(!1)})}),x&&v&&!v.isSwapWidget&&t.jsx(c.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(or,{isOpen:x,onClose:P=>{v.transactionId&&P&&w(v.transactionId),D(!1)},...v})}),e&&t.jsx(c.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(nr,{isOpen:e,onClose:()=>n(!1)})}),i&&t.jsx(c.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(er,{isOpen:i,onClose:()=>p(!1)})}),l&&t.jsx(c.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(tr,{isOpen:l,onClose:()=>m(!1)})}),!o&&t.jsx(Un,{isOpen:!o,onClose:()=>r(!0)}),de&&t.jsx(Zo,{})]})}const ir=({bgIsShow:e,bgBottomIsShow:n})=>t.jsx(t.Fragment,{children:t.jsxs(_,{bg:"background",children:[n&&t.jsx(_,{className:"bg_img_left",w:"30%",h:"208px",bg:"#005B33",filter:"blur(150px)",position:"fixed",zIndex:"0",bottom:"-100px",left:"-10%",borderRadius:"50%"}),n&&t.jsx(_,{className:"bg_img_right",w:"30%",h:"208px",bg:"#005B33",filter:"blur(180px)",position:"fixed",zIndex:"0",bottom:"-100px",right:"-10%",borderRadius:"50%"})]})}),Cr=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"}));export{Cr as C,Jn as H,Un as T};
