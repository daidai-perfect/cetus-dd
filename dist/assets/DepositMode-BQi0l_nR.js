import{a as w,j as e,f as dt,V as R,T as F,v as ct}from"./vendor-_1sPVx0S.js";import{v as P,j as ht,i as xt}from"./VaultsAprBlock-BxZ39L3w.js";import{u as gt}from"./global-CG4XJcf0.js";import{k as bt,a as ft,B as Ct}from"./index-DZworFuu.js";import{u as vt}from"./useInterval-DnUakcwK.js";import{T as St}from"./TradeInputGroup-BU_bV5JV.js";import{A as _t,V as yt}from"./AvailableCapacity-BBS2n6da.js";import{v as G}from"./v4-C6aID195.js";import"./swapWidget-BCFJQoyC.js";import"./useWrapPoolData-CDrg47b6.js";import"./useFavoritePool-C-y3K2CF.js";import"./useGetPoolList-CsB88aY2.js";import"./useToken-BWHB2fhl.js";import"./useTokenBalance-Bm-sJqFs.js";import"./useAccountBalance-Bqky3zOE.js";import"./useTransaction-DopuwF40.js";import"./useSigner-CskzV9L0.js";import"./msafe-oYBkW7LJ.js";import"./index-B0fjcXro.js";import"./useFindBestRouting-Lj4RLbMT.js";import"./useSwapHelper-5Q8nfW7L.js";import"./HTextLabelBox-DBHn66eq.js";import"./_getAllKeysIn-BnIExAEt.js";import"./TotalAmount-DdbTdVds.js";import"./RemoveBlock-D0UZazua.js";import"./ZapSwitch-BR4sNZ03.js";import"./DepositRatio-LVV2d-h7.js";import"./FreshProgressV2-B_THDS6m.js";import"./usePriceImpact-tW62EcgX.js";import"./ErrorTips-DTGb4xHZ.js";import"./Slippage-Bya5o8Ip.js";import"./TooltipIcon-2k0oF2Ae.js";import"./useNotifiSubscription-BHSFkP5y.js";import"./useNotifiAlerts-CYozFF1D.js";import"./useXCetusHelper-BJnw5ZCZ.js";import"./usePositionList-DCRYUjtM.js";import"./index-cNVIru_O.js";import"./usePosAdd-DcGULfPv.js";import"./index-OPMiavju.js";import"./ExpendItem-Bu-QAEwU.js";import"./SingleTokenInfo-BOld9qyS.js";import"./CopyButton-Dh94jbmg.js";import"./PriceRange-BlxARJmW.js";import"./PositionStatus-C0rs2j01.js";import"./RangeValue-CZfdgmR_.js";function ge(N){const{isUnstableVault:b,displayTokenA:a,displayTokenB:i,vaultId:f,isReverse:l,assetAction:s,isCheckedZAP:p,autoRefresh:T,apiVaultInfo:t,quoteCoin:W,maxCapNum:U}=N,V=P.useVaultsAdd(b),Z=P.useAddButtonStatus(b),$=P.useGetContractVaultInfo(b),{currentAccount:m,onWalletModal:M}=bt(),{contractVault:n,lpTokenInfo:v,fetchClmmPoolFromContract:q,fetchVaultInfoFromContract:O,gtAumLimit:S,hardCapUSD:L,vaultTvl:k,depositRatio:J,refreshPythPrice:K,calculateVaultTvlLoading:Q}=$(t==null?void 0:t.vaultsId,t==null?void 0:t.clmmPoolAddress,t==null?void 0:t.tokenA,t==null?void 0:t.tokenB,t==null?void 0:t.isReverse,!0),{amountInputA:u,amountInputB:d,balanceInfoA:c,balanceInfoB:h,amountValueA:X,amountValueB:Y,preCalculateLoading:x,fixAmountA:g,inputTotalValue:I,handleAmountInputChange:D,calculateResult:o,showOnlySideTips:C,doAddAction:tt,reCalculateResult:At,overHardtop:E,zapNumError:_,calculateLpLoading:et,inputTotalValueError:y,percentage:A,setPercentage:ot,setIsSlider:rt,debouncedPreCalculateDepositValue:H,isSlider:at,setUuid:z}=V(s,T,f,l?i:a,l?a:i,l,p,L,k,S),{btnText:it,btnDisabled:st}=Z(p,s,!0,u,d,g,c==null?void 0:c.balanceFormat,h==null?void 0:h.balanceFormat,a,i,_,o,E,y),{vaultsSlippage:lt}=gt();w.useEffect(()=>{t&&q(t.clmmPoolAddress,!0)},[t==null?void 0:t.clmmPoolAddress]),w.useEffect(()=>{f&&O(f,!0)},[f]);const{amountLimit:pt}=ht(Number(lt),o==null?void 0:o.ft_amount,!1),{lpRate:mt}=xt(o==null?void 0:o.ft_amount,b?n==null?void 0:n.lp_token_treasury:n==null?void 0:n.total_supply),{isApp:nt}=ft(),[ut,j]=w.useState(10);return vt({interval:ut*1e3,callback:()=>{if(K(),at){const r=G();z(r),H(A,r)}}}),e.jsxs(e.Fragment,{children:[e.jsx(dt,{w:"100%",position:"relative",children:e.jsx(St,{onClick:()=>{},from:{wrapStyle:{h:"108px"},balance:(c==null?void 0:c.balanceFormat)||"",value:u,amountValue:u&&X,loading:(l?g:!g)&&x&&!p,hideSelf:s!=="both"&&s!==(a==null?void 0:a.coin_type),onChange:r=>{j(10),D(r,!l,!0,d)},selectable:!1,placeholder:"0.0",token:a,onFocusChange:r=>{}},to:{wrapStyle:{h:"108px"},balance:(h==null?void 0:h.balanceFormat)||"",value:d,amountValue:d&&Y,loading:(l?!g:g)&&x&&!p,onFocusChange:r=>{},onChange:r=>{j(10),D(r,l,!0,u)},selectable:!1,hideSelf:s!=="both"&&s!==(i==null?void 0:i.coin_type),placeholder:"0.0",token:i},iconParams:{xlinkHref:"#icon-icon_add",svgFill:"text_caption",iconCursor:"default"},iconHover:!1})}),_&&A>0&&(u||d)?e.jsx(R,{w:"100%",pb:o||C?"0px":"20px",alignItems:"start",gap:"20px",children:e.jsx(F,{color:"primary_yellow",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_yellow_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"Single-asset deposit can't be higher than $10,000 at a time."})}):null,e.jsx(ct,{width:"100%",height:"52px",borderRadius:"12px",marginBottom:"8px",fontWeight:"500",fontSize:_?nt?"12px":"15px":"16px",isLoading:x,disabled:st||x||(m==null?void 0:m.address)&&(S||E),onClick:()=>m!=null&&m.address?tt():M(!0),children:it||(p?"Zap In":"Deposit")}),(t==null?void 0:t.category)=="haedal"&&e.jsx(Ct,{bg:"bg_six",borderColor:"border_secondary",borderRadius:"12px",p:"16px",mb:"8px",children:e.jsx(_t,{depositRatio:J,percentage:A,hardCapUSD:L,vaultTvl:k,calculateVaultTvlLoading:Q,quoteCoin:W,maxCapNum:U,gtAumLimit:S,onChange:r=>{rt(!0),ot(r);const B=G();z(B),H(r,B),j(10)}})}),y&&e.jsx(R,{w:"100%",alignItems:"start",children:e.jsx(F,{color:"primary_red",fontSize:"12px",textAlign:"left",w:"100%",bg:"primary_red_opacity.10",p:"12px",borderRadius:"8px",lineHeight:"20px",children:"The input is too small. Zap mode is not available."})}),(o||C)&&!y&&(s==="both"&&p&&u&&d||s!=="both")&&e.jsxs(R,{w:"100%",pb:"20px",alignItems:"start",gap:"0",children:[s!=="both"&&C&&e.jsx(F,{color:"text_paragraph",fontSize:"12px",lineHeight:"1.8",pb:o?"20px":"0",children:C}),o&&e.jsx(yt,{amountLimit:pt,inputTotalValue:I,preCalculateLoading:x,calculateLpLoading:et,lpRate:mt,lpDecimals:v==null?void 0:v.decimals,poolName:`${a==null?void 0:a.symbol} - ${i==null?void 0:i.symbol}`,labelColor:"primary_gray"})]})]})}export{ge as default};
//# sourceMappingURL=DepositMode-BQi0l_nR.js.map
