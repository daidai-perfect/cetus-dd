import{j as e,P as ie,h as pe,f as W,I as $,m as le,n as ce,W as xe,X as de,Y as ue,Z as ge,$ as he,a0 as Ae,a as i,F as T,T as x,H as b,C as ee,q as H,N as me,O as X,Q as be,V as F,aq as fe}from"./vendor-BFGDaAdA.js";import{a as te,d as C,I as G,j as Ce,C as ve,B as we,F as L,o as ye,Z as y,f as Y,q as O}from"./index-CJa1Q5Eu.js";import{u as je}from"./global-DaL79zhi.js";import{g as q}from"./index-BleV78I3.js";import{T as Q}from"./TooltipIcon-Pt406Jfg.js";import{u as Se}from"./useTokenBalance-CeWcIfEX.js";import{d as Me}from"./useSwapHelper-BTHj2AcR.js";const Pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAOzUlEQVRoBb1ae2yV5Rl/vu+cnp5zoGK5lBZawAK24ETBIog6ZVkxMxLAANki+o+BLmZbXBW2RJeR7Ko4lixmCUv8YxETRSbtmMZBJkw2wFllQ4bgcFNbOAhiobfT9vR8336/533fc04vaHVmL/3Oe3suv+fyXr5z8OQLKJUHdyRSvRfrPS9cGnphbSjBLIgtlUhQIl4oeDrRb/f88BRoToSh7KuoDPa2VTWm/1f13ucVMO7AM6Vd6f4V4gUrAHgZQCY9SIMBAByYB8LZ93z0BZMYD/F4vnZ70N7jR6V5bFGi+dK8B9o/D5bPbMCUlt3Jc+fbGwF6EwCUUCk8q8AUOAcUIEBjXPCn42yz0Di2YViIULAN/k7wPF4uJVvP1DX0GMLRfY7agDXhjsgLL2buB4DNUFxB0AqCgFDyRgwFOsT7DFOBEWoho0Z5fpjyPG/z3QumPfW8tzY7GhNGZUBi946pmSDbBI/XFYJmW5gerJ0RYjys6WTbOkmABX1NJcvPQKhDQIPIiu9JS6woujJ9feNp5f2Ej081oKhp56IgzO4KvWwF5ainocSLoAPFCoSKCyORA8r0MDTIF+dlMNJoGwnrfaZToRGe76WgYlWmbuNr1Hu5wmy9bInt2rkuOxDuB9AKL7SkrPkEHoahVPueqSEpxDiQErXShcwgtjUkltfJIq3SgR/zIdsY88iflYpsGO6PvLFl3WUBYgIcI5fYc7vWZf3s05oe1EOvD/I0uc2uohLoSZvbw9KnYC4fCcvvPA8ak1Yct23AC5Givu/dm71h43bVM+RjRAOKdjYtCgZkP/I77oAbU01+qwJ6Xw1CTeA2JTSVYAsXZUU8Lt+aNgdz+qcRcy577vw7cjT9ESYYIhCAXtuoXFpyzKZWb8Tzbh8pnYYZkNixe2omG7wOIZrzzqt50FYBvYrilClwQlEgTK5QfjnnRvnO9LlKV/jRNZCRqkNPS0fQZ0CThxyQqfzay0dc0ws7VDwaWTh0YSPZ8mXNjjCSyXhNyMUKzXNOuZxHflKQ5qjNXYKEVqXhWuDDNcBcrihOyobKq/PCC1q/PXtSOrL9upYNP+UafsqnWF0H1Kn6wYw10Z/JNnE7LxClR06u39T34v1IyToVYkEyNXRhUhDBKWjTVtBQZRYqwDOfLd2mq66VeCSak+0apHmy9bjK0rSz9Mwip0cXM4MCo+hAsKjzoKfuhZYP7neyWOciMGV3SzIII5s9elSLYdYdj301yHoJ3ZCK9TFeohEKHnMVMXi/amTv//FCm7zT3QFe510ihyzIV81unNDUKCoz8zQ4CGXzlJZtSYxqwYwp5y5caAT4CvWCgoXZFrQKIJntk4bZxL7So2lCbVJo48y58P6gSJNby68+gPfpUYAyHsewOgJQtEZFPXCI0ZM3VPvwz9mgs9GKM0aPe+ZAaVdfz/vYdXC3AbM7Xbm48JdfyHa3oXS9oHEOBNwtuM2CdXK8WN6tXz6iAd1YvFe+sh2U5IEMFuxCetgxT+wGoProIMrWHY61oVUaCTpLEmOm8wKoEejp7V+BRVNCDzjPqrdVB5gZTut9TUjbp05dhIwIxtj93uzLe/9MX1oCpQUa9TJqFwkqVh0c4wNhuT7XAQawJjQ6wNrV27cCFESitCt0wgrTbKQxIdIAtQpToVYhhXFe2e0YjGXur59RTZEjlmnxMZLA/TnMGh7uaib10KezUOUdBb3ap35Lh76mnvIHxoDKHQcTWIDLqJELWAkIFqjVKOsFt4VSQV4p6CwtxzbOrpXECDsPZbMUY100VNYYw8FH+XS0A61yXSRo0JB57VM/ox36yypbtyb81MVMPRiTBKKOBaMBaNJJvUxBeDS/QGd2KvQ5xgfgJxcXy4bqy3ufOFl+VrtAVpdPNzosv3OOcRiIaIRGnlmACLDQUWjj08wFXjLV5tf7WDdLCcKApnUWLMbUQ7BK56iMN3QIUUUUqIpQY25TDb0/8s5Dna7E/Ig8O/82eazmBonySkvHUb96numCh7pYqINtN+ba9LTyyFIfocA7LGg44MChr54nI8dc3yyZwQJBOTkWh/evAtXoy0PV18grN94hE4sSCsYYAX4FSTdSN/rqeRjhnKV9gykc8Gt9LKhZuTDRCGUEA0suneAlLhwrnJJNxIy3Ns2dLYnoyN7vHhiQdHbAyBvyefP4Mnl+/u1SxEhAdj4SeV0uhTX6isnoVGd7MisKglImPwn1QkYjfKaJ2df1moA+b5w8fT3QMoKhnhHwfjwhG2bOGATtQl+fPH7yHXkplZLjXR2QF8jMMSWypnKqNM6qkfGx4hz9l8dPxqVvoXz7+N8gFzq4eOl8Oou1bk9oaAQwafVqdLJS6kWe/GsfbI/lDiM9TDACRirW9MGYClJmKrCHD4x6YkGtPDi3Ogfoz+c+knWHWyTVi3dzKuVBZPmZ5xU46HYtvlnqSifkeNi47dDL8pf2D5VWr+lUrFg0DdDBAPs0SMdVdr9v0gcdeldNhvcZEZtr5NPQ6hyZ8Md1ATnlxXFpuHo6hJryfnePrDrwmqS6cU0GDYt6klFV/hCG9cpdhw5Ia7rbMNnPB6bXwl4I52HFdEVRDIwEsLg5oDeyNQ0isCX0OklA0KqMxARIAxwz1BsgTCHMUTrqh+H5wtxvOHxUOvoRHWtsaTQma6qmyp3lFZLwcIBRJmbP9/bLo8ffopRcWVVeJZOiCZXv+IlRHUGdxELNvKEqLhoSdvp+4LWr90FEPxWC1nHnebBrtMiMh3eehpqqHIALff3yp9THOke9C0vHy9t3flWevWmR/P6WJfKP+nqZmbxC5wnl2dY24QJ3hdvrVybgNYT/IF910ZkksDr1ZsA+seIBabsf+t4pXSdqpZmkAGMxmY31xvMuSjh1vzRjkPf3n/3Y8FAw+LfdeJ1MxOHmSvXYMfKL6+blaLLYJI5cvOimtZ6Z4DeR4EdR/fS27bPWBU5j7LwnkVO+F3gnGFYq1dBhkkJyYWTYGHqOURia6v3aShXkProz5nso0kQlIvNK4e0hZeH4Usgwsrij9QzZXs3BZvQw50mrhthIOEyKB7i8wD+BDTKyzwxAGwHS+0w+1jQKYxrIgv7D86YN8j5xTknG1WjyDsCWD7qHf2/byjFdqMZJtSWDjezAdZtepl59IJdGEAPXT25NWFyh5+/zJwWT9mJl96gRmFBPM++VmQYZo1y/DLn/zTlTdb7wY0nZlTIGN011AsRseuOEZPH65Ep/NpBHjvJlhrI9qR17hUxL5l6slOzYpUvqLHWaBc4J50hipP2UgQj2VMRL9vptjVW4pHt7jGAzSe9rBJSbHGYdsPvwvKph3ud4Eifxg3NnqLfIu/O9s3LTSwfl58dOyZbj78rCl1+VV7BOdL1B3iNzasiWK+lsVg5fwDw9zX+QoQ9B4x/bChw1jYCRe9qWrE3rWzdyqxkn70p8g4QZxpBe4lkAD7JPZnCVxYukYa75tiWnuaDxyPVXyYGz7fLqOSxo/DvS3ilvtuP9171ZqVhf7ps2Vb4xPb+DUcSu06elKwNd0MObgPIAuBqsBxdzHn3MhYgmyJrJR5GSTESaAbqToctHgszWctBw7qHrKiVZNPKdh3KKIPzFZfNl/ewqHDDOa5ig18BfBHVbrp8rTy2aT/JcyWBH+unbZi9RSE4v9w8rh/xMSE0n8TvHjo2pAUBpSvSJvz+K2R+p5e4Ipwf03TWQsjFR+dd98z/RACeL9b87euQPbeflZEeXhvzmslKpr5goE+OxQjJt/+T4SfnhMawPXl0QcaaMRt56ntHMf2EGsqj3g4Gv3fNjMucMmLLtTPJc59lTkFChzPYOoxog6LFbKqVxwRTtfpEfv2s9I18/iIucJjZTiI9d/NBr7mSsmc4wJBKmJpePm3WmbjkuWwUGsFP0xNENYTiwjcN6oVJhgUxKROXNddfI/rYOOXS2S/7TkZYM9ruxMV/mlCakrqxE7phWildGzUiKGlX59cn35LtHjkk2xL5Lb6O4ryq1z6FCR8IAPxo0ZO665zdKzGnXYM2vFpveO3oYvwXU6ZRlnj4uKue7B6QnMIr0sufCCxoeOiU4dO+uniD31ZTLreXjdKxQdmH7GBb394+ckJdT5zBs0kOv8rrYCYl6aEzWymFqkU5a7l7hLy789WaQAVSS2HoSX+6mX8fKw3aD6UEeQHgVOGqU3JexpNE+aiiqHlcsa6vL5KbyK6RyTLHEEJnWrl5562KnNLd+KAfP4QrBtaWAXbqwb8cojHO6/lxbUrGicGF6+dpBv9oMM4C8iS3/XJQJBvZDQJweMuGlcOws2Nd0QWnITW7qr5Do667LcbZJB+kuJdycea8wUVOvc59UWQTKNmoCp10cV+d4vX5ReHtm5ephv9aMmLTpjde85vv++tx9nPuv2XERE42t2Z+5VrDN6daLbY6AzdZLB7Lj+qAjmZWjWyIsYp3nJYF5tRT7PsA58kQ8f/1I4Cl+RAM40b/x2u2eF7kXJL2qhMoVACZZUzlqOgputsBR8w9A8u8T5nJmwBvDtE1wZFYHuPNG3V7gJL83KtF7+1ev2k41IxWo++RShHQKJbMLkdafVs1iM+kE1CbMmgIMNx87RrEujzFcuF4IU3c5y+9SLcdPXl9Sfiy7KrN65bC04bQrn2oACbmwBwZ6m5DZ2J0KQWNSQdtdg2nB/IcRKlhzON+nEYMMxLx+WUB6WGHWB1NLWoriwcr02uWDFqwDXVhfNoUKidKNNadXzpi3GHeUBqROyqWPgnRrAOmkawCpobnNjn0Z0jRB36wfO6+2g4apqOnEuPgpvE00rIrfuXg04IlRMbAx2qIn9qWPGuHJTeJl8Qpl08mljqYLPJqLBFRoJNw1genEeVPjE228l/vZx8smTNh6ZnmdnrCjxfOZDXCCx/36aGlPOsv/6LECAJfhp5OkAUpPoljQmmJc6tq3NVcvXsgAeg8C05yMx5ov3XPr/+c/exh0gz8rt7Ymzofn6wM/uxQZVetJdhbelkphXIk9MzqxEtqR76dgyImI7++bdKW/t23tkuGvbYNFf2rvv7gNmJXRTWycAAAAAElFTkSuQmCC",Ie="data:image/png;base64,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",Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",Be={pyth:"Pyth Network",coingecko:"CoinGecko",birdeye:"Birdeye",cetus:"Cetus"},Ne={pyth:Re,coingecko:Ie,birdeye:Pe,cetus:"/images/img-logo@2x.png"};function Le({market:r,...n}){const{isApp:c}=te();return e.jsxs(ie,{isLazy:!0,trigger:c?"click":"hover",children:[e.jsx(pe,{children:e.jsx(W,{flexShrink:0,children:e.jsx($,{w:"16px",h:"16px",src:Ne[r],...n,flexShrink:0})})}),e.jsx(le,{w:"unset",children:e.jsx(ce,{fontSize:"12px",children:Be[r]})})]})}const Te={coin_type:"0x2::sui::SUI",decimals:9};function Ee(r){const{isOpen:n,onClose:c,slippageType:a}=r;return e.jsxs(xe,{autoFocus:!1,returnFocusOnClose:!1,isOpen:n,onClose:c,isCentered:!0,children:[e.jsx(de,{className:"test-slippage-modal"}),e.jsxs(ue,{children:[e.jsx(ge,{fontSize:"16px",fontWeight:"500",children:"Settings"}),e.jsx(he,{}),e.jsx(Ae,{pb:"16px",children:e.jsx(ze,{...r})})]})]})}const ze=r=>{const{isOpen:n,onClose:c,value:a,onChange:u,compact:o=!1,slippageType:s="global",isWidget:d=!1,transactionMode:g,onChangeTransctionMode:h,maxCapForGas:p,onChangeMaxCapForGas:R,mevProtect:j,onChangeMevProtect:f,customGasPrice:S,onChangeCustomGasPrice:M}=r,P=["0.1","0.5","1"],[t,l]=i.useState(""),[A,k]=i.useState(!1),{balanceInfo:B}=Se(Te),[I,V]=i.useState(g),[N,K]=i.useState(p),[E,D]=i.useState(S),[v,z]=i.useState(j),re=w=>{const se=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,2})?).*$");w.target.value=w.target.value.replace(se,"$1"),l(w.target.value)},ne=w=>{l(w)};i.useEffect(()=>{a&&l(String(a))},[a]),i.useEffect(()=>{a&&l(String(a))},[n]);const ae=()=>{if(t){const w=C(t).toNumber();u(w)}I==="Fast Mode"&&(R(N),M(E)),h(I),f(v),c()},oe=i.useMemo(()=>(console.log("🚀 ~ btnIsDisabled ~ gasPrice:",E),I==="Fast Mode"&&(!N||Number(N)===0||Number(N)>5||!E||Number(E)===0||C(N).gt((B==null?void 0:B.balanceFormat)||"0")||C(N).lt(C(E).div(Math.pow(10,9))))||!+t?!0:s==="global"||s==="zap"?Number(t)>50||Number(t)<.01:Number(t)>1),[s,t,I,N,E,B]);return i.useEffect(()=>{I==="Fast Mode"&&z(!0)},[I]),e.jsxs(W,{w:"100%",children:[e.jsxs(W,{children:[e.jsxs(T,{align:"center",mb:"16px",children:[e.jsx(G,{xlinkHref:"#icon-icon_verticalslider",svgHover:"text_paragraph",iconCursor:"text"}),e.jsx(x,{ml:"8px",color:"text_caption",fontSize:"14px",fontWeight:"500",children:"Slippage Tolerance"})]}),e.jsxs(W,{bg:o?s==="global"||s==="zap"?Number(t)>50?"primary_red_opacity.10":"primary_yellow_opacity.10":Number(t)>1?"primary_red_opacity.10":"transparent":"transparent",borderRadius:"12px",children:[e.jsxs(b,{gap:"8px",mt:"8px",children:[e.jsx(T,{w:"100%",justifyContent:"center",alignItems:"center",borderRadius:"12px",border:"1px solid",borderColor:"border",background:"bg_secondary",h:"42px",children:P.map(w=>e.jsx(ee,{flex:"1",bg:w===String(t)?"#1A1C25 !important":"transparent",cursor:"pointer",h:"calc(100% - 6px)",margin:"2px",borderRadius:"8px",onClick:()=>ne(w),children:e.jsxs(x,{color:w===String(t)?"text_highlight":"text_paragraph",children:[w,"%"]})},w))}),e.jsx(Fe,{compact:!0,inputValue:t,handleChange:re,wrapStyle:{flex:"0 0 150px",borderRadius:"12px"}})]}),t&&(s==="global"||s==="zap")&&(Number(t)>1||Number(t)<.05)?e.jsxs(T,{w:"100%",children:[Number(t)<.05?e.jsx(T,{w:"100%",justifyContent:"center",pt:"8px",pb:"8px",mt:"8px",borderRadius:"8px",bg:o?"transparent":"primary_yellow_opacity.10",children:e.jsx(x,{fontSize:"xs",color:"primary_yellow",ml:"4px",children:"Slippage is low. Your transaction may fail."})}):null,Number(t)<=50&&Number(t)>1?e.jsx(T,{w:"100%",justifyContent:"center",pt:"8px",pb:"8px",mt:"8px",borderRadius:"8px",bg:o?"transparent":"primary_yellow_opacity.10",children:e.jsx(x,{fontSize:"xs",color:"primary_yellow",ml:"4px",children:"Your transaction may be frontrun."})}):null,Number(t)>50?e.jsx(T,{w:"100%",justifyContent:"center",pt:"8px",pb:"8px",mt:"8px",borderRadius:"8px",bg:o?"transparent":"primary_red_opacity.10",children:e.jsx(x,{fontSize:"xs",color:"primary_red",ml:"4px",children:"Enter a valid slippage percentage"})}):null]}):null,t&&s==="vaults"&&Number(t)>1?e.jsx(T,{w:"100%",children:Number(t)>1?e.jsx(T,{w:"100%",justifyContent:"center",pt:"8px",pb:"8px",mt:"8px",borderRadius:"8px",bg:o?"transparent":"primary_red_opacity.10",children:e.jsx(x,{fontSize:"xs",color:"primary_red",ml:"4px",children:"Enter a valid slippage percentage"})}):null}):null]}),s!=="zap"&&e.jsx(Ye,{transactionMode:I,setTransactionMode:V,maxCapForGas:N,setMaxCapForGas:K,customGasPrice:E,setCustomGasPrice:D,suiBalance:(B==null?void 0:B.balanceFormat)||"0"}),s!=="zap"&&e.jsx(Oe,{mevProtect:v,setMevProtect:z,disabled:I==="Fast Mode"})]}),e.jsxs(T,{align:"center",justifyContent:"space-between",mt:"20px",gap:"16px",children:[e.jsx(H,{flex:"1",h:"42px",variant:"outline",borderRadius:"8px",onClick:c,p:"0 15px",children:"Cancel"}),e.jsx(H,{flex:"1",h:"42px",borderRadius:"8px",onClick:ae,isDisabled:oe,children:"Save"})]})]})},Fe=({inputValue:r,handleChange:n,wrapStyle:c={},compact:a=!1})=>e.jsxs(me,{alignItems:"center",justifyContent:"center",w:"100%",background:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",h:"42px",p:"12px 16px",position:"relative",...c,children:[e.jsx(x,{pr:"8px",h:"20px",lineHeight:"20px",borderRight:"1px solid",borderColor:a?"transparent":"border",children:"Custom"}),e.jsx(X,{borderRadius:"8px",h:"40px",mr:"2px",border:"none",variant:"outline",value:r,onChange:n,textAlign:"right",fontSize:"sm",placeholder:"0.0",pr:{base:"14px",lg:"8px"},pl:"0"}),e.jsx(be,{width:"20px",height:"40px",top:"0.5px",right:{base:"12px",lg:"8px"},children:e.jsx(x,{fontSize:"sm",color:"text_caption",children:"%"})})]}),J=[{label:"Default"},{label:"Fast Mode",beforeIcon:{xlinkHref:"#icon-icon_flash",fontSize:"16px",activeColor:"#FFCA68",activeHoverColor:"#FFCA68"}}],Ye=r=>{const{transactionMode:n,setTransactionMode:c,maxCapForGas:a,setMaxCapForGas:u,customGasPrice:o,setCustomGasPrice:s,suiBalance:d}=r,g=i.useMemo(()=>{var t;return(t=J.filter(l=>(l==null?void 0:l.label)===n))==null?void 0:t[0]},[n,J]),h=t=>{c(t.label)},p=t=>{const l=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,9})?).*$");t.target.value=t.target.value.replace(l,"$1"),u(t.target.value)},R=t=>{const l=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,9})?).*$");t.target.value=t.target.value.replace(l,"$1");const A=C(t.target.value).gt(0)?C(t.target.value).div(Math.pow(10,9)).toString():"0";C(A).gt(a)&&u(A),s(t.target.value)},j=i.useMemo(()=>!a||Number(a)==0?"Please enter a value higher than 0":a&&Number(a)>5?"Only allow up to 5 SUI":C(a).gt(d)?"Insufficient SUI balance ":C(a).lt(C(o).div(Math.pow(10,9)))?"Max cap cannot be less than custom gas.":"",[a]),f=i.useMemo(()=>a&&Number(a)>0&&Number(a)<2e-6?"Your current maximum fee is below the market rate. Please raise it to ensure your transactions are processed.":"",[a]),S=i.useMemo(()=>!o||Number(o)==0?"Please enter a value higher than 0":"",[o]),M=i.useMemo(()=>o&&Number(o)>0&&C(o).lt(750)?"Your current maximum fee is below the market rate. Please raise it to ensure your transactions are processed.":"",[o]),P=i.useMemo(()=>!o||o==="0"?"0":C(o).div(Math.pow(10,9)).toString(),[o]);return e.jsxs(F,{w:"100%",pt:"20px",mt:"20px",borderTop:"1px solid",borderColor:"border",gap:"12px",children:[e.jsxs(b,{w:"100%",justify:"space-between",children:[e.jsxs(b,{children:[e.jsx(G,{xlinkHref:"#icon-icon_mode"}),e.jsx(x,{color:"text_caption",fontSize:"14px",children:"Transaction Mode"})]}),e.jsx(Ce,{type:"outlineTab",tabList:J,currentTab:g==null?void 0:g.label,handleChangeTab:h,wrapStyle:{w:"206px",h:"40px",p:"4px",borderRadius:"12px"},itemStyle:{flex:"1",fontSize:"12px",margin:"0px",borderRadius:"8px"}})]}),e.jsx(x,{w:"100%",lineHeight:"20px",fontSize:"12px",children:n==="Default"?"Standard gas based on real-time network conditions":"Land your transaction earlier and avoid congestion with a higher gas price. MEV protection is on by default in Fast Mode."}),n==="Fast Mode"&&e.jsxs(F,{w:"100%",children:[e.jsxs(b,{w:"100%",h:"56px",justify:"space-between",bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",p:"0px 16px",children:[e.jsxs(b,{justify:"flex-start",gap:"4px",children:[e.jsx(x,{whiteSpace:"nowrap",children:"Custom Gas Price"}),e.jsx(Q,{type:"setGasPrice"})]}),e.jsxs(F,{align:"flex-end",gap:"0px",children:[e.jsxs(b,{gap:"0px",children:[e.jsx(X,{borderRadius:"8px",h:"20px",mr:"0px",border:"none",variant:"outline",value:o,onChange:R,textAlign:"right",fontSize:"14px",placeholder:"0.0",pr:{base:"4px",lg:"4px"},pl:"0",bg:"none"}),e.jsx(x,{fontSize:"14px",color:"text_caption",children:"MIST"})]}),e.jsxs(x,{fontSize:"12px",color:"text_paragraph",children:[P," SUI"]})]})]}),S&&e.jsx(U,{text:S,type:"error"}),M&&e.jsx(U,{text:M,type:"warn"}),e.jsxs(b,{w:"100%",h:"56px",justify:"space-between",bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",p:"0px 16px",children:[e.jsxs(b,{justify:"flex-start",gap:"4px",children:[e.jsx(x,{whiteSpace:"nowrap",children:"Set Max Cap for Gas"}),e.jsx(Q,{type:"setMaxCapForGas"})]}),e.jsx(F,{align:"flex-end",gap:"0px",children:e.jsxs(b,{gap:"0px",children:[e.jsx(X,{borderRadius:"8px",h:"20px",mr:"0px",border:"none",variant:"outline",value:a,onChange:p,textAlign:"right",fontSize:"14px",placeholder:"0.0",pr:{base:"4px",lg:"4px"},pl:"0",bg:"none"}),e.jsx(x,{fontSize:"14px",color:"text_caption",children:"SUI"})]})})]}),j&&e.jsx(U,{text:j,type:"error"}),f&&e.jsx(U,{text:f,type:"warn"}),e.jsxs(b,{mt:"6px",children:[e.jsx(x,{children:"Powered by "}),e.jsx($,{src:"/images/icon_shio@2x.png",w:"46px",h:"14px"})]})]})]})},Oe=r=>{const{mevProtect:n,disabled:c,setMevProtect:a}=r;return e.jsxs(F,{w:"100%",pt:"20px",mt:"20px",borderTop:"1px solid",borderColor:"border",gap:"16px",children:[e.jsxs(b,{justify:"flex-start",w:"100%",children:[e.jsx(G,{xlinkHref:"#icon-icon_mev",svgFill:"text_paragraph"}),e.jsx(x,{fontSize:"14px",color:"text_caption",children:"MEV Protect"})]}),e.jsxs(b,{justify:"space-between",w:"100%",children:[e.jsxs(b,{gap:"4px",children:[e.jsx(x,{fontSize:"14px",color:"text_paragraph",children:"Enable MEV Protection"}),e.jsx(Q,{type:"byEnabling"})]}),e.jsx(fe,{isChecked:n,onChange:()=>a(!n),isDisabled:c})]})]})},U=r=>{const{text:n,type:c}=r;return e.jsx(ee,{w:"100%",p:"4px 16px",borderRadius:"8px",bg:c==="warn"?"primary_yellow_opacity.10":"primary_red_opacity.10",children:e.jsx(x,{color:c==="warn"?"primary_yellow":"primary_red",fontSize:"12px",lineHeight:"20px",children:n})})},m=[];for(let r=0;r<256;++r)m.push((r+256).toString(16).slice(1));function Ue(r,n=0){return(m[r[n+0]]+m[r[n+1]]+m[r[n+2]]+m[r[n+3]]+"-"+m[r[n+4]]+m[r[n+5]]+"-"+m[r[n+6]]+m[r[n+7]]+"-"+m[r[n+8]]+m[r[n+9]]+"-"+m[r[n+10]]+m[r[n+11]]+m[r[n+12]]+m[r[n+13]]+m[r[n+14]]+m[r[n+15]]).toLowerCase()}let Z;const We=new Uint8Array(16);function Ge(){if(!Z){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Z=crypto.getRandomValues.bind(crypto)}return Z(We)}const Ve=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_={randomUUID:Ve};function qe(r,n,c){var u;if(_.randomUUID&&!r)return _.randomUUID();r=r||{};const a=r.random??((u=r.rng)==null?void 0:u.call(r))??Ge();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Ue(a)}function _e(r){const{onClick:n,toolTipText:c}=r,{onSlippageVisible:a,showSlippage:u,isWidget:o,compact:s,settingOpen:d,onClose:g,onChange:h,slippageType:p,transactionMode:R,handleChangeTransctionMode:j,maxCapForGas:f,handleChangeMaxCapForGas:S,mevProtect:M,handleChangeMevProtect:P,customGasPrice:t,handleChangeCustomGasPrice:l}=Je(r);return e.jsxs(e.Fragment,{children:[e.jsx(ve,{tooltip:c||"Settings",children:p!=="zap"?e.jsx(b,{h:"28px",p:"4px 8px",borderRadius:"8px",border:"1px solid",borderColor:"border",bg:o?"swap_bg_secondary":"bg_secondary",cursor:"pointer",gap:"6px",onClick:A=>{L(A),o?n&&n():a()},sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:e.jsxs(e.Fragment,{children:[e.jsx(x,{fontWeight:"500",fontSize:"12px",children:q(u)}),e.jsx(we,{bg:o?"swap_bg_secondary":"bg_secondary",p:"0",h:"28px",w:"28px",borderRadius:"8px",mr:"-9px",children:e.jsx(b,{align:"center",justify:"center",mt:"3px",children:e.jsx(G,{xlinkHref:"#icon-icon_verticalslider"})})})]})}):e.jsxs(b,{gap:"4px",borderBottom:"1px dashed",borderColor:"text_paragraph",pb:"2px",onClick:A=>{L(A),o?n&&n():a()},children:[e.jsx(x,{fontWeight:"500",color:"text_caption",fontSize:"12px",children:q(u)}),e.jsx(x,{color:"text_paragraph",fontSize:"12px",children:"Slippage"})]})}),!o&&e.jsx(Ee,{isWidget:o,compact:s,isOpen:d,onClose:g,value:C(u).mul(100).toNumber(),onChange:h,slippageType:p,transactionMode:R,onChangeTransctionMode:j,maxCapForGas:f,onChangeMaxCapForGas:S,mevProtect:M,onChangeMevProtect:P,customGasPrice:t,onChangeCustomGasPrice:l})]})}function Je(r){const{slippageType:n="global",compact:c,isWidget:a=!1}=r,{slippage:u,vaultsSlippage:o,setVaultsSlippage:s,setSlippage:d,mevProtect:g,setMevProtect:h,setTransctionMode:p,setMaxCapForGas:R,transactionMode:j,maxCapForGas:f,customGasPrice:S,setCustomGasPrice:M,zapSlippage:P,setZapSlippage:t}=je(),[l,A]=i.useState(!1);te();const k=()=>{A(!l)},B=()=>{A(!1)},I=v=>{console.log("Slippage 🚀 ~ onChange ~ value:",v),console.log("Slippage 🚀 ~ onChange ~ slippageType:",n);const z=C(v).div(100).toNumber();n==="vaults"?s(z):n==="zap"?(console.log("Slippage 🚀 ~ onChange ~ saveSlippageValue:",z),t(z)):d(z)},V=i.useMemo(()=>n==="vaults"?o:n==="zap"?P:u,[n,u,o,P]);return{onSlippageVisible:k,onClose:B,onChange:I,showSlippage:V,isWidget:a,compact:c,settingOpen:l,slippageType:n,transactionMode:j,handleChangeTransctionMode:v=>{p(v)},maxCapForGas:f,handleChangeMaxCapForGas:v=>{R(v)},mevProtect:g,handleChangeMevProtect:v=>{h(v)},customGasPrice:S,handleChangeCustomGasPrice:v=>{M(v)}}}function $e(r,n,c,a,u=!1){const{getTokenPrice:o}=ye(),s=o(r==null?void 0:r.coin_type,u?10*1e3*60:void 0),d=o(n==null?void 0:n.coin_type,u?10*1e3*60:void 0),g=Me(c,a),h=i.useMemo(()=>{if(d&&s)return y(s.price).div(d.price).toString()},[s==null?void 0:s.price,d==null?void 0:d.price]),p=i.useMemo(()=>{if(h&&+g)return y(g).sub(h).div(h).mul(100).toFixed(10)},[h,g]),R=i.useMemo(()=>{if(h&&+g)return y(g).sub(h).div(h).mul(100).toFixed(10)},[h,g]),j=i.useMemo(()=>{const t=[];return s&&t.push(s.market),d&&!t.includes(d.market)&&t.push(d.market),t},[s==null?void 0:s.market,d==null?void 0:d.market]),f=i.useMemo(()=>!s||!d||s.market==="cetus"||d.market==="cetus",[s,d]),S=i.useMemo(()=>f?!1:p&&y(p).lt(0)?y(p).abs().gt(5):!1,[p]),M=i.useMemo(()=>f?!1:p&&y(p).lt(0)?y(p).abs().gt(10):!1,[p,f]),P=i.useMemo(()=>{let t,l="primary_yellow";if(f)return{priceImpactText:"Incalculable",textColor:"primary_yellow"};if(p)if(y(p).gt(0))l="primary_green",y(p).lt(.1)?t="< 0.1% cheaper than":t=`${Y(p,2,!0,O.ROUND_UP)}% cheaper than`;else if(y(p).eq(0))t="0%",l="primary_green";else{const A=y(p).abs();A.lte(5)?(l="primary_green",t=`Within ${Y(A.toString(),2,!0,O.ROUND_UP)}%`):A.lte(10)?(l="primary_yellow",t=`${Y(A.toString(),2,!0,O.ROUND_UP)}% more than`):A.lte(100)?(l="primary_red",t=`${Y(A.toString(),2,!0,O.ROUND_UP)}% more than`):(l="primary_red",t="> 100% more than")}return{priceImpactText:t,textColor:l}},[p,f]);return{swapPrice:g,marketPrice:h,priceImpact:p,sources:j,showPriceImpactTips:S,showPriceImpactWarn:M,priceImpactTextInfo:P,priceImpactBasedOnMarket:R,showIncalculable:f}}export{Le as M,_e as S,Je as a,ze as b,Be as c,Ee as d,$e as u,qe as v};
//# sourceMappingURL=usePriceImpact-DhEpoyWT.js.map
