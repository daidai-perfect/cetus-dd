const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CHCTC2f_.js","assets/SingleTokenInfo-BZhis0DU.js","assets/vendor-BowHGuwE.js","assets/index-DOpwe9u0.js","assets/index-CteIxbgC.css","assets/useToken-7UZMCtYJ.js","assets/CopyButton-aBrZMdjW.js","assets/FeeTierSelect-Chw5wVgU.js","assets/useDocumentSize-BkQqV9EZ.js","assets/index-DoMH3iiU.js","assets/debounce-0tBm08Ev.js","assets/index-V0MTi46y.js","assets/CheckBox-5uYHWkgj.js","assets/CurrentPrice-Dqk84xRQ.js","assets/ErrorTips-DWAXrNt8.js","assets/HighlightText-DJrmlQd_.js","assets/IconBg-vYfcqmb_.js","assets/InputBox-DcOfvTu8.js","assets/Loading-9Flk9u0a.js","assets/usePriceImpact-Dh4s63NF.js","assets/global-DdUKxaK0.js","assets/index-DxMeIULW.js","assets/TooltipIcon-Cp9kD6GX.js","assets/useTokenBalance-Cy1n8fHy.js","assets/useAccountBalance-CdTImFR-.js","assets/useSwapHelper-BpPOEjKt.js","assets/useGetPoolList-lv_KbF-1.js","assets/useWrapPoolData-BZRG_RXy.js","assets/index-B7fM_ZRQ.js","assets/Ratio-CXAC8ug4.js","assets/SortDropBlock-D6yrjnqA.js","assets/TableSortTh-CVhDzobg.js","assets/TradeConfirmAmountInfo-C6ILjegl.js","assets/TradeInputGroup-B4LNcp9D.js","assets/_getAllKeysIn-B6pKBYP7.js","assets/WarningTokenTipModal-CUK_wYpz.js","assets/ConnectButton-Ce2oWGTa.js","assets/useTrack-O-kL3HFv.js","assets/NoData-DwPvHKvw.js","assets/TokenGoplusCard-Cx8SDo4U.js","assets/HTextLabelBox-DU2pSv5a.js","assets/swapWidgetConfig-SV58ovp2.js","assets/swapWidget-B8q-NCGv.js","assets/SwapConfirmBlock-T5Eb8ced.js","assets/aggregator-BGaM2K0H.js","assets/useTransaction-Chv0YO2G.js","assets/useSigner-Cc1I2j_a.js","assets/swapConfig-BspJ5Cnt.js","assets/useFindBestRouting-DN9VOeY2.js","assets/RefreshButton-CKKfhanx.js","assets/useInterval-BcJtT0it.js","assets/BackButton-CXC1u8gR.js","assets/useInitNotifi-DDzg1qDB.js","assets/useNotifiAlerts-BJ-UUq1s.js"])))=>i.map(i=>d[i]);
import{az as _t,y as We,a7 as dn,bh as pn,ay as fn,aG as gn,n as st,a8 as ze,bg as hn,bi as mn,bj as mt,bk as xn,bl as xt,I as ue,a as Ne,bm as yn,bn as Sn,f as bn,w as wn,h as vn,bo as yt,B as oe,J as Mn,Z as jn,bp as Cn,d as In,bq as Dt,K as Tn,br as Nn,bs as St,bt as _n,bu as Dn,bv as kn,bw as En,bx as Ln,_ as _e}from"./index-DOpwe9u0.js";import{a as c,j as s,W as Pn,X as An,Y as Wn,a0 as On,I as ve,V as k,T as D,H as B,q as Re,ak as zn,b as Rn,aB as Bn,r as kt,aC as Et,g as Hn,y as Lt,f as O,a9 as bt,C as Pt,a6 as Fn,P as Un,h as Yn,k as Vn,m as Gn,F as Xn,aD as Zn}from"./vendor-BowHGuwE.js";import{u as Me,W as $n}from"./swapWidgetConfig-SV58ovp2.js";import{S as W,u as Jn}from"./useSwapHelper-BpPOEjKt.js";import{u as Be}from"./swapWidget-B8q-NCGv.js";import{u as Qn,a as qn,S as Kn,P as er,b as tr,c as nr,O as rr,H as sr}from"./SwapConfirmBlock-T5Eb8ced.js";import{H as or}from"./HTextLabelBox-DU2pSv5a.js";import{R as ir}from"./RefreshButton-CKKfhanx.js";import{u as ar}from"./useAccountBalance-CdTImFR-.js";import{u as lr}from"./useInterval-BcJtT0it.js";import{T as cr}from"./TradeInputGroup-B4LNcp9D.js";import{S as ur,a as dr,b as pr}from"./usePriceImpact-Dh4s63NF.js";import{u as fr}from"./useToken-7UZMCtYJ.js";import{S as gr}from"./SingleTokenInfo-BZhis0DU.js";import{T as hr}from"./TokenGoplusCard-Cx8SDo4U.js";import{B as mr}from"./BackButton-CXC1u8gR.js";import{u as xr}from"./useDocumentSize-BkQqV9EZ.js";import{u as yr}from"./useInitNotifi-DDzg1qDB.js";function Sr(){const{setNodeList:e}=_t();return{fetchFrontConfig:async()=>{var n;try{const r=`${(n=We)==null?void 0:n.cetus_api}/v3/sui/frontend/config`,o=(await dn(r)).sui_nodes;o.length>0&&e(o)}catch(r){return console.log("ðŸš€ ~ file: useGetFrontConfig.ts:26 ~ fetchFrontConfig ~ error:",r),e([...pn]),null}}}}function br(){const{setAggregatorSDK:e,setIsInitLoading:t}=fn(),{volatileVaultsSdk:n,setVolatileVaultsSdk:r}=gn(),{currentNode:i}=_t(),{currentAccount:o}=st(),{providers:a}=ze(),{setCurrentRpc:l,setAccount:u,setProviders:d}=hn();c.useEffect(()=>{i.link&&(console.log("ðŸš€ ~ useEffect ~ currentNode.link:",i.link),l(i.link))},[i.link]),c.useEffect(()=>{u(o==null?void 0:o.address)},[o==null?void 0:o.address]),c.useEffect(()=>{if(i.link&&(o!=null&&o.address)){t(!0);const x=new mn({endpoint:We.aggregatorUrl,signer:(o==null?void 0:o.address)||"",client:new xn({url:i.link}),env:We.env==="testnet"?mt.Testnet:mt.Mainnet,pythUrls:We.pythUrls});e(x);const{sdkOptions:N}=n;N.fullRpcUrl=i.link;const L=new xt(N);L.senderAddress=(o==null?void 0:o.address)||"",r(L),t(!1)}},[i.link,o==null?void 0:o.address]),c.useEffect(()=>{const{sdkOptions:x}=n;x.providers=a.length>1?a:[];const N=new xt(x);N.senderAddress=n.senderAddress,r(N),d(a)},[a])}const wr="/assets/img_cetusprotocol@2x-sMK6gV0x.png";function vr({isOpen:e,onClose:t}){const[n,r]=c.useState(!1),i=()=>{t()};return s.jsxs(Pn,{autoFocus:!1,closeOnOverlayClick:!1,returnFocusOnClose:!1,isOpen:e,onClose:t,isCentered:!0,children:[s.jsx(An,{}),s.jsx(Wn,{children:s.jsxs(On,{p:{base:"8px 12px !important",lg:"8px 12px !important"},children:[s.jsx(ve,{m:"8px 0 12px",src:wr,w:"100%",h:"auto",userSelect:"none"}),s.jsxs(k,{w:"100%",align:"flex-start",userSelect:"none",p:{base:"0",lg:"0 8px"},children:[s.jsx(D,{fontSize:"20px",fontWeight:"500",color:"text_caption",margin:"12px 0",children:"Welcome to Cetus"}),s.jsx(D,{color:"text_caption",children:"Please read & accept terms before using this site."}),s.jsxs(B,{w:"100%",align:"center",onClick:()=>{window.open("https://www.cetus.zone/terms","_blank")},gap:"4px",children:[s.jsx(ue,{xlinkHref:"#icon-icon_docs",svgFill:"primary",svgHover:"primary",svgH:"16px",svgW:"16px"}),s.jsx(D,{cursor:"pointer",fontSize:{base:"12px",lg:"14px"},lineHeight:"1",color:"primary",_hover:{textDecoration:"underline"},children:"Cetus Protocol Terms & Conditions"})]}),s.jsx(Re,{fontWeight:"500",fontSize:"16px",w:"100%",mt:"20px",mb:"8px",onClick:i,children:"Accept"})]})]})})]})}function Mr({children:e,...t}){const{isApp:n}=Ne(),r=zn();return n?s.jsx(yn,{...t,jump:r,children:e}):s.jsx(Sn,{...t,jump:r,children:e})}var He={exports:{}},At={};const jr=Rn(Bn);var E={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.dontSetMe=_r;te.findInArray=Cr;te.int=Nr;te.isFunction=Ir;te.isNum=Tr;function Cr(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Ir(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Tr(e){return typeof e=="number"&&!isNaN(e)}function Nr(e){return parseInt(e,10)}function _r(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.browserPrefixToKey=Ot;xe.browserPrefixToStyle=Dr;xe.default=void 0;xe.getPrefix=Wt;const Xe=["Moz","Webkit","O","ms"];function Wt(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<Xe.length;r++)if(Ot(t,Xe[r])in n)return Xe[r];return""}function Ot(e,t){return t?"".concat(t).concat(kr(e)):e}function Dr(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function kr(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}xe.default=Wt();Object.defineProperty(E,"__esModule",{value:!0});E.addClassName=Bt;E.addEvent=Pr;E.addUserSelectStyles=Vr;E.createCSSTransform=Hr;E.createSVGTransform=Fr;E.getTouch=Ur;E.getTouchIdentifier=Yr;E.getTranslation=ot;E.innerHeight=zr;E.innerWidth=Rr;E.matchesSelector=Rt;E.matchesSelectorAndParentsTo=Lr;E.offsetXYFromParent=Br;E.outerHeight=Wr;E.outerWidth=Or;E.removeClassName=Ht;E.removeEvent=Ar;E.removeUserSelectStyles=Gr;var $=te,wt=Er(xe);function zt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(zt=function(r){return r?n:t})(e)}function Er(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=zt(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}let Pe="";function Rt(e,t){return Pe||(Pe=(0,$.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,$.isFunction)(e[n])})),(0,$.isFunction)(e[Pe])?e[Pe](t):!1}function Lr(e,t,n){let r=e;do{if(Rt(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Pr(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Ar(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function Wr(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,$.int)(n.borderTopWidth),t+=(0,$.int)(n.borderBottomWidth),t}function Or(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,$.int)(n.borderLeftWidth),t+=(0,$.int)(n.borderRightWidth),t}function zr(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,$.int)(n.paddingTop),t-=(0,$.int)(n.paddingBottom),t}function Rr(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,$.int)(n.paddingLeft),t-=(0,$.int)(n.paddingRight),t}function Br(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,a=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:a}}function Hr(e,t){const n=ot(e,t,"px");return{[(0,wt.browserPrefixToKey)("transform",wt.default)]:n}}function Fr(e,t){return ot(e,t,"")}function ot(e,t,n){let{x:r,y:i}=e,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+n),l="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(a,", ").concat(l,")")+o}return o}function Ur(e,t){return e.targetTouches&&(0,$.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,$.findInArray)(e.changedTouches,n=>t===n.identifier)}function Yr(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Vr(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Bt(e.body,"react-draggable-transparent-selection")}function Gr(e){if(e)try{if(e.body&&Ht(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Bt(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Ht(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.canDragX=$r;ne.canDragY=Jr;ne.createCoreData=qr;ne.createDraggableData=Kr;ne.getBoundPosition=Xr;ne.getControlPosition=Qr;ne.snapToGrid=Zr;var X=te,we=E;function Xr(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:es(r);const i=it(e);if(typeof r=="string"){const{ownerDocument:o}=i,a=o.defaultView;let l;if(r==="parent"?l=i.parentNode:l=o.querySelector(r),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const u=l,d=a.getComputedStyle(i),x=a.getComputedStyle(u);r={left:-i.offsetLeft+(0,X.int)(x.paddingLeft)+(0,X.int)(d.marginLeft),top:-i.offsetTop+(0,X.int)(x.paddingTop)+(0,X.int)(d.marginTop),right:(0,we.innerWidth)(u)-(0,we.outerWidth)(i)-i.offsetLeft+(0,X.int)(x.paddingRight)-(0,X.int)(d.marginRight),bottom:(0,we.innerHeight)(u)-(0,we.outerHeight)(i)-i.offsetTop+(0,X.int)(x.paddingBottom)-(0,X.int)(d.marginBottom)}}return(0,X.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,X.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,X.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,X.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Zr(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function $r(e){return e.props.axis==="both"||e.props.axis==="x"}function Jr(e){return e.props.axis==="both"||e.props.axis==="y"}function Qr(e,t,n){const r=typeof t=="number"?(0,we.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const i=it(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,we.offsetXYFromParent)(r||e,o,n.props.scale)}function qr(e,t,n){const r=!(0,X.isNum)(e.lastX),i=it(e);return r?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function Kr(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function es(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function it(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Fe={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=ts;function ts(){}Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var Ze=rs(c),F=at(Et),ns=at(kt),z=E,ae=ne,$e=te,Ie=at(Ue);function at(e){return e&&e.__esModule?e:{default:e}}function Ft(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Ft=function(r){return r?n:t})(e)}function rs(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Ft(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function R(e,t,n){return t=ss(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e){var t=os(e,"string");return typeof t=="symbol"?t:String(t)}function os(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const q={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let le=q.mouse,Ye=class extends Ze.Component{constructor(){super(...arguments),R(this,"dragging",!1),R(this,"lastX",NaN),R(this,"lastY",NaN),R(this,"touchIdentifier",null),R(this,"mounted",!1),R(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,z.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,z.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const i=(0,z.getTouchIdentifier)(t);this.touchIdentifier=i;const o=(0,ae.getControlPosition)(t,i,this);if(o==null)return;const{x:a,y:l}=o,u=(0,ae.createCoreData)(this,a,l);(0,Ie.default)("DraggableCore: handleDragStart: %j",u),(0,Ie.default)("calling",this.props.onStart),!(this.props.onStart(t,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,z.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=l,(0,z.addEvent)(r,le.move,this.handleDrag),(0,z.addEvent)(r,le.stop,this.handleDragStop))}),R(this,"handleDrag",t=>{const n=(0,ae.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX,u=i-this.lastY;if([l,u]=(0,ae.snapToGrid)(this.props.grid,l,u),!l&&!u)return;r=this.lastX+l,i=this.lastY+u}const o=(0,ae.createCoreData)(this,r,i);if((0,Ie.default)("DraggableCore: handleDrag: %j",o),this.props.onDrag(t,o)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=r,this.lastY=i}),R(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,ae.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:i}=n;if(Array.isArray(this.props.grid)){let u=r-this.lastX||0,d=i-this.lastY||0;[u,d]=(0,ae.snapToGrid)(this.props.grid,u,d),r=this.lastX+u,i=this.lastY+d}const o=(0,ae.createCoreData)(this,r,i);if(this.props.onStop(t,o)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,z.removeUserSelectStyles)(l.ownerDocument),(0,Ie.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,Ie.default)("DraggableCore: Removing handlers"),(0,z.removeEvent)(l.ownerDocument,le.move,this.handleDrag),(0,z.removeEvent)(l.ownerDocument,le.stop,this.handleDragStop))}),R(this,"onMouseDown",t=>(le=q.mouse,this.handleDragStart(t))),R(this,"onMouseUp",t=>(le=q.mouse,this.handleDragStop(t))),R(this,"onTouchStart",t=>(le=q.touch,this.handleDragStart(t))),R(this,"onTouchEnd",t=>(le=q.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,z.addEvent)(t,q.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,z.removeEvent)(n,q.mouse.move,this.handleDrag),(0,z.removeEvent)(n,q.touch.move,this.handleDrag),(0,z.removeEvent)(n,q.mouse.stop,this.handleDragStop),(0,z.removeEvent)(n,q.touch.stop,this.handleDragStop),(0,z.removeEvent)(t,q.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,z.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:ns.default.findDOMNode(this)}render(){return Ze.cloneElement(Ze.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Fe.default=Ye;R(Ye,"displayName","DraggableCore");R(Ye,"propTypes",{allowAnyClick:F.default.bool,children:F.default.node.isRequired,disabled:F.default.bool,enableUserSelectHack:F.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:F.default.arrayOf(F.default.number),handle:F.default.string,cancel:F.default.string,nodeRef:F.default.object,onStart:F.default.func,onDrag:F.default.func,onStop:F.default.func,onMouseDown:F.default.func,scale:F.default.number,className:$e.dontSetMe,style:$e.dontSetMe,transform:$e.dontSetMe});R(Ye,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var t=L(c),n=x(Et),r=x(kt),i=x(jr),o=E,a=ne,l=te,u=x(Fe),d=x(Ue);function x(p){return p&&p.__esModule?p:{default:p}}function N(p){if(typeof WeakMap!="function")return null;var g=new WeakMap,m=new WeakMap;return(N=function(h){return h?m:g})(p)}function L(p,g){if(p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var m=N(g);if(m&&m.has(p))return m.get(p);var h={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in p)if(f!=="default"&&Object.prototype.hasOwnProperty.call(p,f)){var v=b?Object.getOwnPropertyDescriptor(p,f):null;v&&(v.get||v.set)?Object.defineProperty(h,f,v):h[f]=p[f]}return h.default=p,m&&m.set(p,h),h}function y(){return y=Object.assign?Object.assign.bind():function(p){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(p[h]=m[h])}return p},y.apply(this,arguments)}function j(p,g,m){return g=U(g),g in p?Object.defineProperty(p,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[g]=m,p}function U(p){var g=C(p,"string");return typeof g=="symbol"?g:String(g)}function C(p,g){if(typeof p!="object"||p===null)return p;var m=p[Symbol.toPrimitive];if(m!==void 0){var h=m.call(p,g);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(p)}class S extends t.Component{static getDerivedStateFromProps(g,m){let{position:h}=g,{prevPropsPosition:b}=m;return h&&(!b||h.x!==b.x||h.y!==b.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:h,prevPropsPosition:b}),{x:h.x,y:h.y,prevPropsPosition:{...h}}):null}constructor(g){super(g),j(this,"onDragStart",(m,h)=>{if((0,d.default)("Draggable: onDragStart: %j",h),this.props.onStart(m,(0,a.createDraggableData)(this,h))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),j(this,"onDrag",(m,h)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",h);const b=(0,a.createDraggableData)(this,h),f={x:b.x,y:b.y,slackX:0,slackY:0};if(this.props.bounds){const{x:_,y:I}=f;f.x+=this.state.slackX,f.y+=this.state.slackY;const[w,A]=(0,a.getBoundPosition)(this,f.x,f.y);f.x=w,f.y=A,f.slackX=this.state.slackX+(_-f.x),f.slackY=this.state.slackY+(I-f.y),b.x=f.x,b.y=f.y,b.deltaX=f.x-this.state.x,b.deltaY=f.y-this.state.y}if(this.props.onDrag(m,b)===!1)return!1;this.setState(f)}),j(this,"onDragStop",(m,h)=>{if(!this.state.dragging||this.props.onStop(m,(0,a.createDraggableData)(this,h))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",h);const f={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:_,y:I}=this.props.position;f.x=_,f.y=I}this.setState(f)}),this.state={dragging:!1,dragged:!1,x:g.position?g.position.x:g.defaultPosition.x,y:g.position?g.position.y:g.defaultPosition.y,prevPropsPosition:{...g.position},slackX:0,slackY:0,isElementSVG:!1},g.position&&!(g.onDrag||g.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var g,m;return(g=(m=this.props)===null||m===void 0||(m=m.nodeRef)===null||m===void 0?void 0:m.current)!==null&&g!==void 0?g:r.default.findDOMNode(this)}render(){const{axis:g,bounds:m,children:h,defaultPosition:b,defaultClassName:f,defaultClassNameDragging:v,defaultClassNameDragged:_,position:I,positionOffset:w,scale:A,...M}=this.props;let T={},Y=null;const V=!!!I||this.state.dragging,ie=I||b,de={x:(0,a.canDragX)(this)&&V?this.state.x:ie.x,y:(0,a.canDragY)(this)&&V?this.state.y:ie.y};this.state.isElementSVG?Y=(0,o.createSVGTransform)(de,w):T=(0,o.createCSSTransform)(de,w);const ye=(0,i.default)(h.props.className||"",f,{[v]:this.state.dragging,[_]:this.state.dragged});return t.createElement(u.default,y({},M,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(h),{className:ye,style:{...h.props.style,...T},transform:Y}))}}e.default=S,j(S,"displayName","Draggable"),j(S,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),j(S,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(At);const{default:Ut,DraggableCore:is}=At;He.exports=Ut;He.exports.default=Ut;He.exports.DraggableCore=is;var as=He.exports;const ls=Hn(as),Yt=c.forwardRef(({currStep:e,openConfirmModelClick:t,handleSwapWidgetRouterClick:n,formatSwapRouter:r,handleSettingClick:i,openSelectTokenModal:o,handleSlippageClick:a},l)=>{const{currWidgetImg:u,isOpen:d,setIsOpen:x}=Me(),{pathname:N}=Lt(),L=Be(),{fromCoin:y,toCoin:j,setFromCoin:U,setToCoin:C,byAmountIn:S,setFromAmount:p,setToAmount:g,setByAmountIn:m,findRouterLoading:h,routerData:b}=L,{handleSelectToken:f,handleAmountChange:v,fromAmount:_,toAmount:I,fromAmountValue:w,toAmountValue:A,fromBalanceInfo:M,toBalanceInfo:T,amountLimit:Y,doSwapAction:H,reCalculateRouteData:V,scamsText:ie,refreshMarketPrice:de,resetInputAmount:ye,onReverseClick:Ve}=Qn(L,!0),P=c.useRef(e);c.useEffect(()=>{P.current=e},[e]),c.useImperativeHandle(l,()=>({handleTradeSubmit:G=>{H(G)},handleSelectToken:(G,un)=>{f(un,G)}}));const{btnText:nn,btnDisabled:rn}=qn(_,I,M==null?void 0:M.balanceFormat,y,j,b),{fetchAccountBalance:ft}=ar();c.useEffect(()=>(Le!=null&&Le.address&&ft(),()=>{ye()}),[]);const{startTimer:sn,stopTimer:gt}=lr({callback:()=>{V(),de()},interval:5*1e3});c.useEffect(()=>{d||(ye(),gt())},[d]),c.useEffect(()=>{e===W.TradeConfirmPage?sn():gt()},[e]);const[Ge,ht]=c.useState("#icon-a-icon_trade"),{currentAccount:Le,onWalletModal:on}=st(),an=()=>{ht("#icon-icon_swap1")},ln=()=>{ht("#icon-a-icon_trade")},cn=G=>{console.log("  handleRefresh"),V(),ft(),de()};return s.jsxs(k,{w:"100%",h:"100%",display:e===W.TradeInputPage?"flex":"none",gap:"16px",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:[s.jsxs(B,{w:"100%",justify:"space-between",children:[s.jsxs(B,{children:[s.jsx(ve,{draggable:"false",src:u,fallbackSrc:"/images/placeholder-token@2x.png",w:"36px",h:"36px",cursor:"pointer",_hover:{transform:"scale(1.2)"},onClick:i}),s.jsx(D,{fontSize:"16px",color:"text_caption",fontWeight:"500",children:"Swap"})]}),s.jsxs(B,{children:[s.jsx(ur,{isWidget:!0,onClick:a}),d&&s.jsx(ir,{isAutoRefresh:!0,refreshInterval:20,handleRefresh:G=>{P.current!==W.TradeConfirmPage&&cn()},borderRadius:"8px",w:"28px",h:"28px",innerStyle:{bg:"swap_bg_secondary"}})]})]}),s.jsxs(O,{w:"100%",children:[s.jsx(cr,{onClick:()=>Ve(!0),from:{wrapStyle:{h:"auto",p:"18px",bg:"swap_bg_secondary"},isWidget:!0,balance:(M==null?void 0:M.balanceFormat)||"",value:_,amountValue:w,loading:!S&&h,openSelectTokenModal:()=>o(!0),onChange:G=>{v(G,!0)},selectable:!0,placeholder:"0.0",token:y,onFocusChange:G=>{G&&+_&&!S&&v(_,!0)}},to:{isWidget:!0,wrapStyle:{h:"auto",p:"18px"},balance:(T==null?void 0:T.balanceFormat)||"",value:I,amountValue:A,loading:S&&h,openSelectTokenModal:()=>o(!1),onFocusChange:G=>{G&&+I&&S&&v(I,!1)},inputAllowed:!1,onChange:G=>{v(G,!1)},selectable:!0,placeholder:"0.0",token:j,half:!1,max:!1},iconParams:{xlinkHref:Ge,svgFill:"text_caption",transform:Ge==="#icon-a-icon_trade"?"":"rotate(90deg)",fontSize:Ge==="#icon-a-icon_trade"?"12px":"16px",onMouseEnter:an,onMouseLeave:ln}}),ie&&s.jsx(O,{mt:"-32px",p:"48px 16px 16px",borderRadius:"20px",bg:"bg_secondary",border:"1px solid",borderColor:"border",children:s.jsx(Kn,{scamsText:ie})})]}),s.jsxs(k,{p:+_&&+I?"0 8px 12px":"0 8px",w:"100%",gap:"8px",border:"1px solid",borderColor:"border",borderRadius:"20px",bg:"swap_card_bg",children:[s.jsx(Re,{w:"calc(100% + 18px)",h:"52px",margin:"-1px",fontSize:"18px",fontWeight:"500",borderRadius:"12px",isDisabled:h||rn,isLoading:h,onClick:()=>{Le?b&&t(b):(x(!1),on(!0))},children:[y,j].filter(Boolean).length<2?"Select a token":nn}),!!+_&&!!+I&&s.jsxs(k,{w:"100%",gap:"12px",children:[s.jsx(er,{isWidget:!0,bg:"swap_card_bg_2",findRouterLoading:h,routerData:b,fromCoin:y,toCoin:j}),s.jsx(or,{isLoading:h,label:S?"Minimum Received":"Maximum Sold",value:`${bn(Y,S?j==null?void 0:j.decimals:y==null?void 0:y.decimals,!1,wn.ROUND_DOWN)} ${S?j==null?void 0:j.symbol:y==null?void 0:y.symbol}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"12px"},valueStyle:{fontWeight:500,fontSize:"12px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",minH:"20px"}}),s.jsx(tr,{handleSwapWidgetRouterClick:n,formatSwapRouter:r,findRouterLoading:h,fromAmount:_,toAmount:I,fromCoin:y,toCoin:j,isSwapWidget:!0})]})]})]})});Yt.displayName="SwapTrade";function cs(e){const{data:t,onClose:n}=e,{status:r="confirmation",link:i,tx:o,getShowInfo:a}=t,l=c.useMemo(()=>{if(a)return a(r)},[r]);return s.jsxs(k,{w:"100%",gap:"12px",h:"386px",pos:"relative",children:[s.jsx(ds,{status:r}),s.jsx(us,{data:t,info:l}),(r==="success"||r==="rejected")&&s.jsx(Re,{w:"100%",pos:"absolute",bottom:"0px",fontWeight:"500",fontSize:"16px",h:"52px",border:"12px",onClick:()=>{n()},children:r==="rejected"?"Retry":"Swap More"})]})}function us(e){const{data:t,info:n}=e,{status:r="confirmation",tx:i}=t,{getExplorerUrl:o}=vn(),a=n==null?void 0:n.modalDescriptionText;return n==null||n.iconUrl,r==="confirmation"?s.jsxs(k,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[s.jsx(bt,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),s.jsx(D,{textAlign:"center",color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:a}),s.jsx(D,{fontSize:"14px",children:"Confirm this transaction in your wallet"})]}):r==="submitted"?s.jsxs(k,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[s.jsx(bt,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),s.jsx(D,{color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:a}),s.jsxs(k,{gap:"6px",children:[s.jsx(D,{color:"primary_gray",fontSize:"14px",children:"Confirmation is in progress."}),s.jsx(D,{color:"primary_gray",fontSize:"14px",children:"Check your transaction"})]}),s.jsx(k,{mt:"5px",gap:"12px",children:i&&s.jsx(k,{gap:"12px",children:s.jsx(B,{w:"100%",justifyContent:"center",gap:"16px",children:yt.map(l=>s.jsx(Re,{variant:"outline",h:"32px",pl:"12px",lineHeight:"1",color:"text_highlight",fontSize:"12px",borderColor:"swap_border",borderRadius:"8px",leftIcon:s.jsx(ve,{src:l.img,alt:"SVG Image",boxSize:"24px",objectFit:"cover",borderRadius:"8px"}),rightIcon:s.jsx(ue,{xlinkHref:"#icon-icon_link1",svgW:"20px",svgH:"20px"}),_hover:{borderColor:"text_highlight",svg:{fill:"text_caption"}},onClick:()=>{window.open(o(i,"tx",l),"_blank")},children:l.name},l.name))})})})]}):r==="success"?s.jsx(s.Fragment,{children:s.jsxs(k,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[s.jsx(oe,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_green_opacity.10",children:s.jsx(oe,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_green",children:s.jsx(ue,{xlinkHref:"#icon-icon_check",fontSize:"30px",svgFill:"#000"})})}),s.jsx(D,{color:"primary_green",fontSize:"14px",lineHeight:"20px",children:"Swap Successful"}),s.jsx(B,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",textAlign:"center",children:s.jsx(D,{children:a})}),i&&s.jsxs(B,{mt:"32px",children:[s.jsx(D,{color:"primary_green",fontSize:"12px",children:"View on Explorer"}),yt.map(l=>s.jsx(Mn,{tooltip:s.jsxs(D,{children:[l.name," "]}),children:s.jsx(ve,{onClick:()=>{window.open(o(i,"tx",l),"_blank")},cursor:"pointer",src:l.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"})},l.name))]})]})}):r==="rejected"?s.jsx(s.Fragment,{children:s.jsxs(k,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[s.jsx(oe,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_red_opacity.10",children:s.jsx(oe,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_red",children:s.jsx(ue,{xlinkHref:"#icon-caution",fontSize:"24px",svgFill:"#000"})})}),s.jsx(D,{color:"primary_red",fontSize:"14px",lineHeight:"20px",children:"Swap failed"}),s.jsx(B,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",children:s.jsx(D,{maxW:"100%",textAlign:"center",lineHeight:"18px",children:a})})]})}):s.jsx(s.Fragment,{})}function ds({status:e}){return s.jsxs(k,{w:"100%",h:"56px",justifyContent:"center",children:[e==="confirmation"&&s.jsx(D,{fontSize:"16px",color:"text_caption",children:"Waiting for Confirmation"}),e==="submitted"&&s.jsx(D,{fontSize:"16px",color:"text_caption",children:"Transaction in progress"})]})}function De(e){const{title:t,onBackClick:n}=e;return s.jsxs(B,{position:"relative",w:"100%",mt:"12px",children:[s.jsx(oe,{ml:"12px",cursor:"pointer",left:"0",w:"74px",h:"32px",lineHeight:"32px",p:"0",bg:"swap_bg_secondary",borderRadius:"8px",onClick:n,sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:s.jsxs(B,{justify:"center",gap:"4px",children:[s.jsx(ue,{ml:"-10px",xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),s.jsx(D,{fontSize:"12px",children:"Back"})]})}),s.jsx(D,{color:"text_caption",fontSize:"16px",position:"absolute",left:"50%",transform:"translateX(-50%)",children:t})]})}function ps(e){const{onClose:t,data:n,onSubmitClick:r}=e,{fromCoin:i,toCoin:o,routerData:a}=Be();return s.jsxs(k,{w:"100%",gap:"12px",children:[s.jsx(De,{title:"Review your order",onBackClick:t}),s.jsx(nr,{onSubmitClick:r,onClose:t,data:n,lastRouterData:a,fromCoin:i,toCoin:o,isWidget:!0})]})}function fs(e){const{onClose:t,data:n}=e,{fromCoin:r,toCoin:i,findRouterLoading:o,fromAmount:a,toAmount:l}=Be(),{getTokenListInfo:u}=fr(),[d,x]=c.useState(new Map),N=async S=>{const p=await u(S);p&&(p==null?void 0:p.size)>0&&x(p)};jn(()=>{var S,p;if(n!=null&&n.routers&&((S=n==null?void 0:n.routers)==null?void 0:S.length)>0){const g=[];(p=n==null?void 0:n.routers)==null||p.forEach(m=>{m.paths.forEach(h=>{g.includes(h.from_type)||g.push(h.from_type),g.includes(h.to_type)||g.push(h.to_type)})}),N(g)}},[n==null?void 0:n.routers]);const L=c.useMemo(()=>{var S,p;return!(n!=null&&n.routers)||((S=n==null?void 0:n.routers)==null?void 0:S.length)===0||(d==null?void 0:d.size)===0?[]:(p=n==null?void 0:n.routers)==null?void 0:p.map(g=>({...g,paths:g.paths.map(m=>({...m,fromToken:d==null?void 0:d.get(m.from_type),toToken:d==null?void 0:d.get(m.to_type)}))}))},[n==null?void 0:n.routers,d]),y={fromToken:r,toToken:i,fromAmount:a,toAmount:l,routes:L},[j,U]=c.useState(!0),C=c.useRef(null);return c.useEffect(()=>(C.current&&(clearTimeout(C.current),C.current=null),C.current=setTimeout(()=>{U(!1)},1500),()=>{C.current&&(clearTimeout(C.current),C.current=null)}),[]),s.jsxs(k,{w:"100%",gap:"12px",children:[s.jsx(De,{title:"Route",onBackClick:t}),s.jsxs(B,{w:"100%",justify:"space-between",p:"0 12px",children:[s.jsx(D,{fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"nowrap",children:"Router"}),s.jsx(O,{children:s.jsx(rr,{data:n,loading:o})})]}),s.jsx(O,{pl:"12px",pr:"12px",w:"100%",children:s.jsx(sr,{...y,loading:j})})]})}function gs(e){const{onClose:t,currToken:n,onSelectCall:r}=e,[i,o]=c.useState(void 0);return s.jsxs(k,{w:"100%",gap:"12px",children:[!i&&s.jsx(De,{title:"Select Token",onBackClick:t}),i&&s.jsxs(B,{mt:"12px",gap:"12px",alignContent:"start",w:"100%",children:[s.jsx(mr,{bg:"swap_bg_secondary",ml:"12px",onClick:()=>{o(void 0)}}),s.jsx(gr,{token:i,imgBoxStyle:{w:"28px",h:"28px"}})]}),s.jsxs(O,{w:"100%",children:[!i&&s.jsx(Cn,{bg:"swap_bg_primary",isOpen:!0,isWidget:!0,isShowHotList:!1,isShowCollectListBox:!0,lastSelectedToken:(n==null?void 0:n.coin_type)||"",noDataHaveImg:!1,noClickImportItem:!0,onSelectToken:a=>{r(a)},onGoplusTokenClick:a=>{o(a)},onClose:function(){}}),i&&s.jsx(hr,{tokenInfo:i})]})]})}function hs(e){const{onClose:t}=e;return s.jsxs(k,{w:"100%",gap:"12px",pb:"16px",children:[s.jsx(De,{title:"Settings",onBackClick:t}),s.jsx(ms,{})]})}function ms(){const{currWidgetImg:e,swapWidgetDirection:t,saveCurrWidgetImg:n}=Me();return s.jsx(O,{w:"100%",pl:"16px",pr:"16px",children:s.jsx(oe,{borderRadius:"12px",bg:"swap_bg_secondary",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:s.jsxs(k,{w:"100%",alignItems:"start",gap:"16px",children:[s.jsx(D,{color:"text_paragraph",children:"Change image"}),s.jsx(B,{w:"100%",wrap:"wrap",justifyContent:"space-between",children:$n.map(r=>s.jsx(oe,{w:"44px",h:"44px",borderRadius:"50%",p:"6px",borderColor:e===r?"circle_progress_color":"border",children:s.jsx(Pt,{w:"100%",h:"100%",cursor:"pointer",onClick:()=>{n(r)},children:s.jsx(ve,{src:r,w:"36px"})})},r))})]})})})}function xs(e){const{onCloseModal:t}=e,{showSlippage:n,isWidget:r,compact:i,settingOpen:o,onChange:a,slippageType:l,transactionMode:u,handleChangeTransctionMode:d,maxCapForGas:x,handleChangeMaxCapForGas:N,customGasPrice:L,handleChangeCustomGasPrice:y,mevProtect:j,handleChangeMevProtect:U}=dr(e);return s.jsxs(k,{w:"100%",gap:"12px",pb:"16px",children:[s.jsx(De,{title:"Settings",onBackClick:t}),s.jsx(O,{p:"0px 16px",children:s.jsx(O,{borderRadius:"12px",bg:"swap_bg_secondary",p:"16px 12px",children:s.jsx(pr,{isWidget:r,compact:i,isOpen:o,onClose:t,value:In(n).mul(100).toNumber(),onChange:a,slippageType:l,transactionMode:u,onChangeTransctionMode:d,maxCapForGas:x,onChangeMaxCapForGas:N,mevProtect:j,onChangeMevProtect:U,customGasPrice:L,onChangeCustomGasPrice:y})})})]})}function ys(e){const{showTopMask:t}=e,{isOpen:n}=Me(),{routerData:r,fromCoin:i,toCoin:o}=Be(),[a,l]=c.useState(W.TradeInputPage),[u,d]=c.useState(),{transactionModalVisible:x,transactionData:N,setTransactionModalVisible:L}=Dt(),{formatSwapRouter:y}=Jn(r),[j,U]=c.useState(!0);Ne();const C=c.useRef(null),S=b=>{d(b),l(W.TradeConfirmPage)},p=()=>{l(W.RoutePage)},g=b=>{U(b),l(W.SelectTokenPage)},m=()=>{l(W.TradeInputPage)};c.useEffect(()=>{n||l(W.TradeInputPage)},[n]);const h=c.useMemo(()=>a===W.TradeStatus&&N&&N.isSwapWidget&&x,[a,N,x]);return s.jsxs(k,{bg:"swap_bg_primary",w:"100%",borderRadius:"16px",p:"0px",children:[s.jsx(Yt,{ref:C,openSelectTokenModal:g,formatSwapRouter:y,handleSwapWidgetRouterClick:p,currStep:a,openConfirmModelClick:S,handleSettingClick:()=>{l(W.TradeSetting)},handleSlippageClick:()=>{l(W.SlippageSetting)}}),a===W.TradeConfirmPage&&u&&s.jsx(ps,{data:u,onClose:m,onSubmitClick:async b=>{var f;setTimeout(()=>{l(W.TradeStatus)},500),(f=C.current)==null||f.handleTradeSubmit(b)}}),h&&s.jsx(cs,{data:N,onClose:()=>{L(!1),m()}}),a===W.RoutePage&&y&&s.jsx(fs,{data:y,onClose:m}),a===W.TradeSetting&&s.jsx(hs,{onClose:m}),a===W.SelectTokenPage&&s.jsx(gs,{onClose:m,currToken:j?i:o,onSelectCall:b=>{var f;(f=C.current)==null||f.handleSelectToken(j,b),m()}}),a===W.SlippageSetting&&s.jsx(xs,{onCloseModal:m})]})}function Ss(e){const{isOpen:t,popoverPosition:n,handleCloseTips:r}=e,{currWidgetImg:i}=Me(),{showSwapWidgetTips:o,setShowSwapWidgetTips:a}=ze();return Ne(),s.jsxs(s.Fragment,{children:[s.jsx(O,{p:"10px",display:t?"block":"none",pointerEvents:"none",children:s.jsx(oe,{w:{base:"56px",lg:"52px"},h:{base:"56px",lg:"52px"},borderRadius:"50%",p:"5px",bg:"swap_bg_primary",children:s.jsx(B,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",pt:"5px",pr:"1px",children:s.jsx(ue,{xlinkHref:"#icon-icon_descending_nor",svgH:"10px",svgFill:"text_caption",svgHover:"primary"})})})}),s.jsxs(k,{alignItems:n.includes("start")?"start":"end",children:[o&&!t&&s.jsxs(Fn,{position:"relative",mr:"20px",children:[s.jsxs(k,{gap:"8px",p:"12px",bg:"card_bg",alignItems:"start",backdropFilter:"blur(10px)",borderRadius:"8px",border:"2px solid",borderColor:"text_highlight_opacity.30",children:[s.jsx(D,{fontSize:"12px",color:"text_caption",textAlign:"start",children:"You can quickly call out swap widget from"}),s.jsx(D,{fontSize:"12px",color:"text_caption",textAlign:"start",children:"here at any time. Display can be turned"}),s.jsx(D,{fontSize:"12px",color:"text_caption",textAlign:"start",children:"off/on in settings."})]}),s.jsx(B,{w:"20px",h:"20px",justifyContent:"center",alignItems:"center",bg:"card_bg",backdropFilter:"blur(10px)",borderRadius:"4px",border:"1px solid",borderColor:"text_highlight_opacity.30",position:"absolute",top:"-10px",right:"-10px",children:s.jsx(ue,{xlinkHref:"#icon-icon_close",variant:"gray",onTouchStart:l=>{r(l)},onClick:l=>{r(l)}})})]}),s.jsx(O,{_hover:{transform:"scale(1.2)"},display:t?"none":"block",children:s.jsx(ve,{draggable:"false",src:i,fallbackSrc:"/images/placeholder-token@2x.png",w:{base:"60px",lg:"68px"},h:{base:"60px",lg:"68px"},pointerEvents:"none"})})]})]})}function bs(){const{isOpen:e,setIsOpen:t,swapWidgetPosition:n,setSwapWidgetPosition:r}=Me(),{showSwapWidgetTips:i,setShowSwapWidgetTips:o}=ze(),{isApp:a}=Ne(),l=c.useRef(!1),u=c.useRef(null),d=c.useRef(window.devicePixelRatio||1),[x,N]=c.useState({x:0,y:0}),L=c.useMemo(()=>{if(!u.current)return"top-start";const f=u.current.getBoundingClientRect(),v=window.innerWidth,_=window.innerHeight,I=f.left+f.width/2;f.top+f.height/2,f.left,v-f.right;const w=f.top,A=_-f.bottom,M=I<v/2;let T="top-start";return A-w>10?T=M?"bottom-start":"bottom-end":T=M?"top-start":"top-end",T},[e,u.current,a]),y=c.useRef({x:0,y:0}),j=(f,v)=>{y.current={x:v.x,y:v.y}},U=(f,v)=>{const _={x:v.x,y:v.y},I=Math.abs(_.x-y.current.x),w=Math.abs(_.y-y.current.y);I>1||w>1?(r(_),setTimeout(()=>{l.current=!1},200)):l.current=!1},C=c.useRef(null),[S,p]=c.useState(0),[g,m]=c.useState(!1),[h,b]=c.useState(!1);return c.useEffect(()=>{if(!C.current)return;const f=w=>{const A=w==null?void 0:w.composedPath(),M=w.target;if((M==null?void 0:M.id)==="popover-trigger-PopoverId")return;const Y=A.some(H=>{var V;return(H==null?void 0:H.classList)&&((V=H==null?void 0:H.classList)==null?void 0:V.contains("no-close-widget-flag"))});C.current&&!C.current.contains(w.target)&&!Y&&t(!1)};document.addEventListener("mousedown",f);const v=()=>{if(C.current){const w=C.current.getBoundingClientRect(),A=w.top<0,M=w.bottom>window.innerHeight;m(A||M)}},_=()=>{if(C.current){const w=C.current.getBoundingClientRect(),A=window.innerHeight;let M=w.height;b(w.top<10),w.top<0?M=Math.min(w.height,w.bottom):w.bottom>A&&(M=Math.min(w.height,A-w.top)),console.log("ðŸš€ ~ calculateVisibleHeight ~ visible:",{visible:M}),M<=0&&a&&(M=w.height),p(Math.max(0,M))}},I=new ResizeObserver(()=>{v(),_()});return C.current&&I.observe(C.current),()=>{document.removeEventListener("mousedown",f),C.current&&I.unobserve(C.current)}},[C.current]),c.useEffect(()=>(e?document.body.style.overflowX="hidden":document.body.style.overflowX="",()=>{document.body.style.overflowX=""}),[t]),c.useEffect(()=>{const f=()=>{if(!u.current)return;const v=window.innerWidth,I=u.current.getBoundingClientRect().width,w=a?8:20,A=window.devicePixelRatio||1,M=A/d.current;d.current=A;const T=n.x*M,Y=n.y*M,H=Math.min(Math.max(0,T),v-I-w);r({x:H,y:Y})};return window.addEventListener("resize",f),f(),()=>{window.removeEventListener("resize",f)}},[a,r]),s.jsx(ls,{allowAnyClick:!1,bounds:"parent",position:n,onDrag:(f,v)=>{l.current=!0,N({x:v.x,y:v.y})},onStop:U,onStart:j,children:s.jsx(k,{zIndex:1e3,position:"absolute",gap:"16px",bottom:a?"8px":"20px",left:a?"8px":"20px",children:s.jsxs(Un,{id:"PopoverId",isLazy:!0,closeOnBlur:!1,isOpen:e,placement:L,trigger:"click",autoFocus:!1,returnFocusOnClose:!1,children:[s.jsx(Yn,{children:s.jsx(O,{ref:u,pointerEvents:"auto",cursor:"pointer",as:"button",onTouchEnd:()=>{o(!1),a&&(l.current||t(!e))},onClick:()=>{o(!1),!a&&!l.current&&t(!e)},children:s.jsx(Ss,{handleCloseTips:f=>{Tn(f),t(!1),o(!1)},isOpen:e,popoverPosition:L})})}),s.jsx(Vn,{children:s.jsx(Gn,{ref:C,w:a?"90vw":"386px",bg:"transparent",p:"0px",borderRadius:"16px",borderColor:"transparent",style:{transform:`translate(${x.x}px, ${x.y}px)`},children:e&&s.jsx(O,{pt:"0px",width:"100%",maxH:g?`${S}px`:"auto",overflowY:g?"auto":"visible",overflowX:"hidden",children:s.jsx(ys,{showTopMask:h})})})})]})})})}function ws(){const{mutate:e}=Nn();c.useEffect(()=>{St.inMSafeWallet()&&e({wallet:new St("cetus",_n("mainnet"),"sui:mainnet"),silent:!0})},[])}class vs extends TypeError{constructor(t,n){let r;const{message:i,explanation:o,...a}=t,{path:l}=t,u=l.length===0?i:`At path: ${l.join(".")} -- ${i}`;super(o??u),o!=null&&(this.cause=u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function Ms(e){return he(e)&&typeof e[Symbol.iterator]=="function"}function he(e){return typeof e=="object"&&e!=null}function me(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function js(e){const{done:t,value:n}=e.next();return t?void 0:n}function Cs(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:o}=t,{type:a}=n,{refinement:l,message:u=`Expected a value of type \`${a}\`${l?` with refinement \`${l}\``:""}, but received: \`${me(r)}\``}=e;return{value:r,type:a,refinement:l,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*vt(e,t,n,r){Ms(e)||(e=[e]);for(const i of e){const o=Cs(i,t,n,r);o&&(yield o)}}function*lt(e,t,n={}){const{path:r=[],branch:i=[e],coerce:o=!1,mask:a=!1}=n,l={path:r,branch:i};if(o&&(e=t.coercer(e,l),a&&t.type!=="type"&&he(t.schema)&&he(e)&&!Array.isArray(e)))for(const d in e)t.schema[d]===void 0&&delete e[d];let u="valid";for(const d of t.validator(e,l))d.explanation=n.message,u="not_valid",yield[d,void 0];for(let[d,x,N]of t.entries(e,l)){const L=lt(x,N,{path:d===void 0?r:[...r,d],branch:d===void 0?i:[...i,x],coerce:o,mask:a,message:n.message});for(const y of L)y[0]?(u=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):o&&(x=y[1],d===void 0?e=x:e instanceof Map?e.set(d,x):e instanceof Set?e.add(x):he(e)&&(x!==void 0||d in e)&&(e[d]=x))}if(u!=="not_valid")for(const d of t.refiner(e,l))d.explanation=n.message,u="not_refined",yield[d,void 0];u==="valid"&&(yield[void 0,e])}class je{constructor(t){const{type:n,schema:r,validator:i,refiner:o,coercer:a=u=>u,entries:l=function*(){}}=t;this.type=n,this.schema=r,this.entries=l,this.coercer=a,i?this.validator=(u,d)=>{const x=i(u,d);return vt(x,d,this,u)}:this.validator=()=>[],o?this.refiner=(u,d)=>{const x=o(u,d);return vt(x,d,this,u)}:this.refiner=()=>[]}assert(t,n){return Is(t,this,n)}create(t,n){return Ts(t,this,n)}is(t){return _s(t,this)}mask(t,n){return Ns(t,this,n)}validate(t,n={}){return ke(t,this,n)}}function Is(e,t,n){const r=ke(e,t,{message:n});if(r[0])throw r[0]}function Ts(e,t,n){const r=ke(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Ns(e,t,n){const r=ke(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function _s(e,t){return!ke(e,t)[0]}function ke(e,t,n={}){const r=lt(e,t,n),i=js(r);return i[0]?[new vs(i[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,i[1]]}function ct(e,t){return new je({type:e,schema:null,validator:t})}function Mt(e){return new je({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${me(t)}`}})}function Se(){return ct("boolean",e=>typeof e=="boolean")}function Ae(e){const t=me(e),n=typeof e;return new je({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${me(r)}`}})}function Ds(){return ct("never",()=>!1)}function Ce(e){const t=e?Object.keys(e):[],n=Ds();return new je({type:"object",schema:e||null,*entries(r){if(e&&he(r)){const i=new Set(Object.keys(r));for(const o of t)i.delete(o),yield[o,r[o],e[o]];for(const o of i)yield[o,r[o],n]}},validator(r){return he(r)||`Expected an object, but received: ${me(r)}`},coercer(r){return he(r)?{...r}:r}})}function ee(e){return new je({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Z(){return ct("string",e=>typeof e=="string"||`Expected a string, but received: ${me(e)}`)}function ks(e){const t=e.map(n=>n.type).join(" | ");return new je({type:"union",schema:null,coercer(n){for(const r of e){const[i,o]=r.validate(n,{coerce:!0});if(!i)return o}return n},validator(n,r){const i=[];for(const o of e){const[...a]=lt(n,o,r),[l]=a;if(l[0])for(const[u]of a)u&&i.push(u);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${me(n)}`,...i]}})}function Es(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}const Je=8192;function Vt(e){if(e.length<Je)return btoa(String.fromCharCode(...e));let t="";for(var n=0;n<e.length;n+=Je){const r=e.slice(n,n+Je);t+=String.fromCharCode(...r)}return btoa(t)}const Ls=32;function Ps(e,t=!1){let n=e.toLowerCase();return!t&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(Ls*2,"0")}`}function Gt(e,t=!1){return Ps(e,t)}BigInt(1e9);Gt("0x6");Gt("0x5");var As=Object.defineProperty,Ws=(e,t,n)=>t in e?As(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t,n)=>(Ws(e,typeof t!="symbol"?t+"":t,n),n),Xt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Q=(e,t,n)=>(Xt(e,t,"read from private field"),n?n.call(e):t.get(e)),re=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},J=(e,t,n,r)=>(Xt(e,t,"write to private field"),t.set(e,n),n),ut=Ce({address:Z(),publicKey:Z(),chains:Mt(Z()),features:Mt(Z()),label:ee(Z()),icon:ee(Z())});function dt(e){return{address:e.address,publicKey:Vt(e.publicKey),features:[...e.features],chains:[...e.chains],label:e.label,icon:e.icon}}function Os(e){return{address:e.address,publicKey:Es(e.publicKey),chains:e.chains.map(t=>t),features:e.features.map(t=>t),label:e.label,icon:e.icon}}Ce({message:Z(),account:ut});function zs(e){return{message:Vt(e.message),account:dt(e.account)}}Ce({transactionBlock:Z(),account:ut,chain:Z()});function Rs(e){return{transactionBlock:e.transactionBlock.serialize(),account:dt(e.account),chain:e.chain}}var Bs=Ce({showBalanceChanges:ee(Se()),showEffects:ee(Se()),showEvents:ee(Se()),showInput:ee(Se()),showObjectChanges:ee(Se()),showRawInput:ee(Se())});Ce({transactionBlock:Z(),account:ut,chain:Z(),requestType:ee(Z()),options:ee(Bs)});function Hs(e){return{transactionBlock:e.transactionBlock.serialize(),account:dt(e.account),chain:e.chain,requestType:e.requestType,options:e.options}}Ce({network:ks([Ae("mainnet"),Ae("testnet"),Ae("devnet"),Ae("localnet")]),url:Z()});const Fs="sui:devnet",Us="sui:testnet",Ys="sui:localnet",Vs="sui:mainnet",Gs=[Fs,Us,Ys,Vs];var Xs="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGlkPSJMYXllcl8xIiB4PSIwIiB5PSIwIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMTguNiAzMTguNiI+CiAgPHN0eWxlPgogICAgLnN0MSwuc3Q2e2ZpbGw6I2U0NzYxYjtzdHJva2U6I2U0NzYxYjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmR9LnN0NntmaWxsOiNmNjg1MWI7c3Ryb2tlOiNmNjg1MWJ9CiAgPC9zdHlsZT4KICA8cGF0aCBmaWxsPSIjZTI3NjFiIiBzdHJva2U9IiNlMjc2MWIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTI3NC4xIDM1LjUtOTkuNSA3My45TDE5MyA2NS44eiIvPgogIDxwYXRoIGQ9Im00NC40IDM1LjUgOTguNyA3NC42LTE3LjUtNDQuM3ptMTkzLjkgMTcxLjMtMjYuNSA0MC42IDU2LjcgMTUuNiAxNi4zLTU1LjN6bS0yMDQuNC45TDUwLjEgMjYzbDU2LjctMTUuNi0yNi41LTQwLjZ6IiBjbGFzcz0ic3QxIi8+CiAgPHBhdGggZD0ibTEwMy42IDEzOC4yLTE1LjggMjMuOSA1Ni4zIDIuNS0yLTYwLjV6bTExMS4zIDAtMzktMzQuOC0xLjMgNjEuMiA1Ni4yLTIuNXpNMTA2LjggMjQ3LjRsMzMuOC0xNi41LTI5LjItMjIuOHptNzEuMS0xNi41IDMzLjkgMTYuNS00LjctMzkuM3oiIGNsYXNzPSJzdDEiLz4KICA8cGF0aCBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTIxMS44IDI0Ny40LTMzLjktMTYuNSAyLjcgMjIuMS0uMyA5LjN6bS0xMDUgMCAzMS41IDE0LjktLjItOS4zIDIuNS0yMi4xeiIvPgogIDxwYXRoIGZpbGw9IiMyMzM0NDciIHN0cm9rZT0iIzIzMzQ0NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJtMTM4LjggMTkzLjUtMjguMi04LjMgMTkuOS05LjF6bTQwLjkgMCA4LjMtMTcuNCAyMCA5LjF6Ii8+CiAgPHBhdGggZmlsbD0iI2NkNjExNiIgc3Ryb2tlPSIjY2Q2MTE2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Im0xMDYuOCAyNDcuNCA0LjgtNDAuNi0zMS4zLjl6TTIwNyAyMDYuOGw0LjggNDAuNiAyNi41LTM5Ljd6bTIzLjgtNDQuNy01Ni4yIDIuNSA1LjIgMjguOSA4LjMtMTcuNCAyMCA5LjF6bS0xMjAuMiAyMy4xIDIwLTkuMSA4LjIgMTcuNCA1LjMtMjguOS01Ni4zLTIuNXoiLz4KICA8cGF0aCBmaWxsPSIjZTQ3NTFmIiBzdHJva2U9IiNlNDc1MWYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTg3LjggMTYyLjEgMjMuNiA0Ni0uOC0yMi45em0xMjAuMyAyMy4xLTEgMjIuOSAyMy43LTQ2em0tNjQtMjAuNi01LjMgMjguOSA2LjYgMzQuMSAxLjUtNDQuOXptMzAuNSAwLTIuNyAxOCAxLjIgNDUgNi43LTM0LjF6Ii8+CiAgPHBhdGggZD0ibTE3OS44IDE5My41LTYuNyAzNC4xIDQuOCAzLjMgMjkuMi0yMi44IDEtMjIuOXptLTY5LjItOC4zLjggMjIuOSAyOS4yIDIyLjggNC44LTMuMy02LjYtMzQuMXoiIGNsYXNzPSJzdDYiLz4KICA8cGF0aCBmaWxsPSIjYzBhZDllIiBzdHJva2U9IiNjMGFkOWUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTE4MC4zIDI2Mi4zLjMtOS4zLTIuNS0yLjJoLTM3LjdsLTIuMyAyLjIuMiA5LjMtMzEuNS0xNC45IDExIDkgMjIuMyAxNS41aDM4LjNsMjIuNC0xNS41IDExLTl6Ii8+CiAgPHBhdGggZmlsbD0iIzE2MTYxNiIgc3Ryb2tlPSIjMTYxNjE2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Im0xNzcuOSAyMzAuOS00LjgtMy4zaC0yNy43bC00LjggMy4zLTIuNSAyMi4xIDIuMy0yLjJoMzcuN2wyLjUgMi4yeiIvPgogIDxwYXRoIGZpbGw9IiM3NjNkMTYiIHN0cm9rZT0iIzc2M2QxNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJtMjc4LjMgMTE0LjIgOC41LTQwLjgtMTIuNy0zNy45LTk2LjIgNzEuNCAzNyAzMS4zIDUyLjMgMTUuMyAxMS42LTEzLjUtNS0zLjYgOC03LjMtNi4yLTQuOCA4LTYuMXpNMzEuOCA3My40bDguNSA0MC44LTUuNCA0IDggNi4xLTYuMSA0LjggOCA3LjMtNSAzLjYgMTEuNSAxMy41IDUyLjMtMTUuMyAzNy0zMS4zLTk2LjItNzEuNHoiLz4KICA8cGF0aCBkPSJtMjY3LjIgMTUzLjUtNTIuMy0xNS4zIDE1LjkgMjMuOS0yMy43IDQ2IDMxLjItLjRoNDYuNXptLTE2My42LTE1LjMtNTIuMyAxNS4zLTE3LjQgNTQuMmg0Ni40bDMxLjEuNC0yMy42LTQ2em03MSAyNi40IDMuMy01Ny43IDE1LjItNDEuMWgtNjcuNWwxNSA0MS4xIDMuNSA1Ny43IDEuMiAxOC4yLjEgNDQuOGgyNy43bC4yLTQ0Ljh6IiBjbGFzcz0ic3Q2Ii8+Cjwvc3ZnPg==",Zt=class pe extends Error{constructor(t){super(`${pe.type}: ${t}}`),K(this,"type",pe.type)}static asSimpleError(t){return new Error(`${pe.type}: ${t}`)}static isSimpleErrorMessage(t){return t.startsWith(pe.type+": ")}static fromSimpleErrorMessage(t){return new pe(t.slice(pe.type.length+2))}};K(Zt,"type","INVALID_REQUEST_PARAMS");var jt=Zt,$t=class Te extends Error{constructor(){super(Te.type),K(this,"type",Te.type)}static asSimpleError(){return new Error(Te.type)}static isSimpleErrorMessage(t){return t===Te.type}};K($t,"type","USER_REJECTION");var Qe=$t,Jt=class fe extends Error{constructor(t){super(`${fe.type}: ${t}`),K(this,"type",fe.type)}static asSimpleError(t){return new Error(`${fe.type}: ${t}`)}static isSimpleErrorMessage(t){return t.startsWith(fe.type+": ")}static fromSimpleErrorMessage(t){return new fe(t.slice(fe.type.length+2))}};K(Jt,"type","INVALID_REQUEST_METHOD");var Ct=Jt,Qt=class ge extends Error{constructor(t){let n=ge.type;t&&(n+=": "+t),super(n),K(this,"type",ge.type)}static asSimpleError(t){let n=ge.type;return t&&(n+=": "+t),new Error(n)}static isSimpleErrorMessage(t){return t.startsWith(ge.type)}static fromSimpleErrorMessage(t){return new ge(t.slice(ge.type.length+2))}};K(Qt,"type","DRY_RUN_FAILED");var It=Qt,qt=class Oe extends Error{constructor(){super(Oe.type),K(this,"type",Qe.type)}static asSimpleError(){return new Error(Oe.type)}static isSimpleErrorMessage(t){return t===Oe.type}};K(qt,"type","NON_ADMIN_ORIGIN");var Tt=qt;function Zs(e){return typeof e=="object"&&e!==null&&"message"in e}function pt(e){return Zs(e)?jt.isSimpleErrorMessage(e.message)?jt.fromSimpleErrorMessage(e.message):Qe.isSimpleErrorMessage(e.message)?new Qe:Ct.isSimpleErrorMessage(e.message)?Ct.fromSimpleErrorMessage(e.message):It.isSimpleErrorMessage(e.message)?It.fromSimpleErrorMessage(e.message):Tt.isSimpleErrorMessage(e.message)?new Tt:e:e}var Ee="npm:@kunalabs-io/sui-metamask-snap",$s="^1.0.0";function Js(){const e=Dn();for(const n of e.get())if(n.name===Nt.NAME)return console.warn("SuiSnapWallet already registered"),n;const t=new Nt;return e.register(t),t}async function Qs(e){return(await e.request({method:"wallet_invokeSnap",params:{snapId:Ee,request:{method:"getAccounts"}}})).map(n=>new kn(Os(n)))}async function Kt(e,t){const n=zs(t);try{return await e.request({method:"wallet_invokeSnap",params:{snapId:Ee,request:{method:"signPersonalMessage",params:JSON.parse(JSON.stringify(n))}}})}catch(r){throw pt(r)}}async function qs(e,t){const n=await Kt(e,t);return{messageBytes:n.bytes,signature:n.signature}}async function Ks(e,t){const n=Rs(t);try{return await e.request({method:"wallet_invokeSnap",params:{snapId:Ee,request:{method:"signTransactionBlock",params:JSON.parse(JSON.stringify(n))}}})}catch(r){throw pt(r)}}async function eo(e,t){const n=Hs(t);try{return await e.request({method:"wallet_invokeSnap",params:{snapId:Ee,request:{method:"signAndExecuteTransactionBlock",params:JSON.parse(JSON.stringify(n))}}})}catch(r){throw pt(r)}}async function to(){const e=window.ethereum;if(!e)return{available:!1,supportsSnaps:!1,suiSnapInstalled:!1};if(!e.isMetaMask)return{available:!1,suiSnapInstalled:!1,supportsSnaps:!1};try{const t=await e.request({method:"web3_clientVersion"}),n=await e.request({method:"wallet_getSnaps"}),r=!!n&&"npm:@kunalabs-io/sui-metamask-snap"in n;return{available:!0,version:t,supportsSnaps:!0,suiSnapInstalled:r}}catch(t){return console.warn(t),{available:!0,supportsSnaps:!1,suiSnapInstalled:!1}}}var se,ce,be,qe,Ke,et,tt,nt,rt,en=class tn{constructor(){re(this,se,void 0),re(this,ce,void 0),re(this,be,null),re(this,qe,async()=>{if(Q(this,se))throw new Error("Already connecting");J(this,se,!0),J(this,ce,!1);try{const t=window.ethereum;if(!(await to()).available)throw new Error("MetaMask not detected!");return await t.request({method:"wallet_requestSnaps",params:{[Ee]:{version:$s}}}),J(this,be,await Qs(t)),J(this,se,!1),J(this,ce,!0),{accounts:this.accounts}}catch(t){throw J(this,se,!1),J(this,ce,!1),t}}),re(this,Ke,async()=>{J(this,se,!1),J(this,ce,!1),J(this,be,null)}),re(this,et,async t=>Kt(window.ethereum,t)),re(this,tt,async t=>qs(window.ethereum,t)),re(this,nt,async t=>Ks(window.ethereum,t)),re(this,rt,async t=>eo(window.ethereum,t)),J(this,se,!1),J(this,ce,!1)}get version(){return"1.0.0"}get name(){return tn.NAME}get icon(){return Xs}get chains(){return Gs}get connecting(){return Q(this,se)}get accounts(){return Q(this,ce)&&Q(this,be)?Q(this,be):[]}get features(){return{"standard:connect":{version:"1.0.0",connect:Q(this,qe)},"standard:disconnect":{version:"1.0.0",disconnect:Q(this,Ke)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:Q(this,et)},"sui:signMessage":{version:"1.0.0",signMessage:Q(this,tt)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:Q(this,nt)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:Q(this,rt)},"standard:events":{version:"1.0.0",on:()=>()=>{}}}}};se=new WeakMap;ce=new WeakMap;be=new WeakMap;qe=new WeakMap;Ke=new WeakMap;et=new WeakMap;tt=new WeakMap;nt=new WeakMap;rt=new WeakMap;K(en,"NAME","Sui MetaMask Snap");var Nt=en;const no=c.lazy(()=>_e(()=>import("./index-CHCTC2f_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])).then(e=>({default:e.BuyCryptoAlchemy}))),ro=c.lazy(()=>_e(()=>import("./index-CHCTC2f_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])).then(e=>({default:e.BuyCryptoKodo}))),so=c.lazy(()=>_e(()=>import("./index-CHCTC2f_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])).then(e=>({default:e.BuyCryptoModal}))),oo=c.lazy(()=>_e(()=>import("./index-CHCTC2f_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])).then(e=>({default:e.TransactionModal}))),io=c.lazy(()=>_e(()=>import("./index-CHCTC2f_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53])).then(e=>({default:e.WalletModal})));Js();function ao(){const[e,t]=c.useState(!1),{isTerm:n,setIsTerm:r,isSwapWidgetDisplay:i}=ze(),{isShowAlchemyCrypto:o,isShowKodoCrypto:a,setIsShowAlchemyCrypto:l,setIsShowKodoCrypto:u}=En(),{transactionModalVisible:d,transactionData:x,setTransactionModalVisible:N,setManualCloseId:L}=Dt(),{currentAccount:y,isOpenWalletModal:j,onWalletModal:U}=st(),{fetchFrontConfig:C}=Sr();ws(),br();const{pathname:S}=Lt(),{currWidgetImg:p}=Me(),g=c.useMemo(()=>({preferred:!0,rpc:!0,swapWidgetDisplay:{icon:p}}),[p]),m=c.useMemo(()=>["stats","pools"].some(P=>S.includes(P)),[S]),h=c.useMemo(()=>["swap"].some(P=>S.includes(P)),[S]),b=c.useMemo(()=>["swap","limit","dca"].some(P=>S.includes(P)),[S]),[f,v]=c.useState(!1),_=c.useRef(null),I=()=>{T.current&&v(T.current.scrollTop>100)},w=()=>{var P;T.current&&((P=T.current)==null||P.scrollTo({top:0,behavior:"instant"}))},{initNotifi:A}=yr();c.useEffect(()=>{S&&(console.log("ðŸš€ ~ useEffect ~ pathname:",S),w())},[S]),c.useEffect(()=>{if(setTimeout(()=>{C()},1e3),T.current)return console.log("ðŸš€ ~ useEffect ~ hStack:",T.current),T.current.addEventListener("scroll",I),()=>{var P;return(P=T.current)==null?void 0:P.removeEventListener("scroll",I)}},[]),c.useEffect(()=>{y!=null&&y.address&&A(y==null?void 0:y.address)},[y==null?void 0:y.address]);const{size:M}=xr(),T=c.useRef(null),[Y,H]=c.useState(!1),V=c.useRef(null),ie=()=>{H(!0)};c.useEffect(()=>T.current?(T.current.addEventListener("scroll",ie),()=>{var P;(P=T.current)==null||P.removeEventListener("scroll",ie)}):()=>{V.current&&(clearTimeout(V.current),V.current=null)},[]),c.useEffect(()=>{Y&&(V.current=setTimeout(()=>{H(!1)},1500))},[Y]);const{isApp:de}=Ne(),ye=[{title:"Trade",children:[{title:"Swap",path:"/swap",icon:"#icon-a-icon_swap2"},{title:"Limit Order",path:"/limit",icon:"#icon-icon_limitorder"},{title:"DCA",path:"/dca",icon:"#icon-icon_dca"},{title:"DeepBook",path:"https://deepbook.cetus.zone/",type:"_blank",icon:"#icon-icon_deepbook"}]},{title:"Earn",children:[{title:"Pools",path:"/pools",icon:"#icon-icon_liquiditypools"},{title:"Farms",path:"/farms",icon:"#icon-icon_farms"},{title:"Vaults",path:"/vaults",icon:"#icon-icon_vaults"}]},{title:"xCETUS",path:"/xCetus",type:de?"onClick":"reactRouterLink"},{title:"Bridge",children:[{title:"Sui Bridge",type:"_blank",path:"https://bridge.sui.io/",icon:"#icon-icon_sui"},{title:"Wormhole",type:"_blank",path:"https://bridge.cetus.zone/sui",icon:"#icon-icon_wormhole"}]},{title:"More",children:[{title:"Buy Crypto",type:"onClick",onClick:()=>{console.log("Buy Crypto"),y!=null&&y.address?t(!0):U(!0)},icon:"#icon-icon_crypto"},{title:"Launchpad",path:"https://launch.cetus.zone/?chain=sui",type:"_blank",icon:"#icon-icon_Launchpad"},{title:"Cetus Terminal",path:"https://terminal.cetus.zone",type:"_blank",icon:"#icon-icon_terminal"},{title:"Stats",path:"/stats",icon:"#icon-icon_stats"},{title:"Docs",path:"https://cetus-1.gitbook.io/cetus-docs",type:"_blank",icon:"#icon-icon_docs"}],socials:[{title:"X",path:"https://x.com/cetusprotocol",icon:"#icon-icon_twitter"},{title:"Discord",path:"https://discord.com/invite/rQtYGfmcD8",icon:"#icon-icon_discord"},{title:"Telegram",path:"https://t.me/CetusDevNews",icon:"#icon-icon_telegram"},{title:"Medium",path:"https://medium.com/@CetusProtocol",icon:"#icon-icon_medium"}]}],Ve=c.useMemo(()=>!!(i&&!(S!=null&&S.includes("/swap"))&&S!=="/"),[S,i]);return s.jsxs(s.Fragment,{children:[s.jsx(O,{ref:T,h:M==null?void 0:M.h,background:"bg_primary",overflowY:"scroll",overflowX:"hidden",minW:{base:"100%",lg:"1200px"},className:`scroll-container ${Y?"scroll-active":""}`,sx:{"::-webkit-scrollbar-thumb":{background:Y?"rgba(88, 90, 92, 1)":"rgba(88, 90, 92, 0)",transition:"background 0.5s ease, opacity 0.5s ease"}},children:s.jsxs(O,{minH:"100%",pt:{base:"10px",lg:"0"},children:[s.jsx(Mr,{logo:{image:"/images/logo@2x.png",url:"/"},menus:ye,notifications:!0,setting:g,isCetusPump:!1}),s.jsx(O,{as:"div",pb:"80px",style:{width:"100%",position:"relative",height:"100%"},ref:_,children:s.jsx(c.Suspense,{fallback:s.jsx(Ln,{}),children:s.jsx(k,{w:"100%",children:s.jsx(Xn,{w:"100%",maxW:"1200px",p:{base:"0px 8px 0px 12px",lg:"0 20px"},justifyContent:"center",zIndex:"1",children:s.jsx(Zn,{})})})})}),f&&m&&s.jsx(oe,{cursor:"pointer",w:"40px",h:"40px",p:"0",borderRadius:"12px",zIndex:"99",position:"fixed",bottom:"30px",right:"20px",onClick:w,_hover:{svg:{fill:"text_caption"}},children:s.jsx(Pt,{w:"100%",h:"100%",children:s.jsx(ue,{xlinkHref:"#icon-icon_top1",onClick:w})})}),s.jsx(lo,{bgIsShow:h,bgBottomIsShow:b})]})}),j&&s.jsx(c.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(io,{isOpen:j,onClose:()=>U(!1)})}),d&&x&&!x.isSwapWidget&&s.jsx(c.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(oo,{isOpen:d,onClose:P=>{x.transactionId&&P&&L(x.transactionId),N(!1)},...x})}),e&&s.jsx(c.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(so,{isOpen:e,onClose:()=>t(!1)})}),o&&s.jsx(c.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(no,{isOpen:o,onClose:()=>l(!1)})}),a&&s.jsx(c.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(ro,{isOpen:a,onClose:()=>u(!1)})}),!n&&s.jsx(vr,{isOpen:!n,onClose:()=>r(!0)}),Ve&&s.jsx(bs,{})]})}const lo=({bgIsShow:e,bgBottomIsShow:t})=>s.jsx(s.Fragment,{children:s.jsxs(O,{bg:"background",children:[t&&s.jsx(O,{className:"bg_img_left",w:"30%",h:"208px",bg:"#005B33",filter:"blur(150px)",position:"fixed",zIndex:"0",bottom:"-100px",left:"-10%",borderRadius:"50%"}),t&&s.jsx(O,{className:"bg_img_right",w:"30%",h:"208px",bg:"#005B33",filter:"blur(180px)",position:"fixed",zIndex:"0",bottom:"-100px",right:"-10%",borderRadius:"50%"})]})}),_o=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"}));export{_o as C,Mr as H,vr as T};
//# sourceMappingURL=CetusLayout-Dn7WqKIx.js.map
