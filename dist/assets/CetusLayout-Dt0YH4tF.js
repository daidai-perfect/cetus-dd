const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BxiSE5Z8.js","assets/SingleTokenInfo-xrDFKGFi.js","assets/vendor-BulRdKUe.js","assets/index-CLZsOITc.js","assets/index-CteIxbgC.css","assets/useToken-CPqU19Ux.js","assets/CopyButton-CuKLDlt0.js","assets/FeeTierSelect-36QgW0PG.js","assets/useDocumentSize-BX8xcEoA.js","assets/index-4kM3JsjZ.js","assets/debounce-Cta0IZrB.js","assets/index-e8NcK24v.js","assets/CheckBox-DprjLUMn.js","assets/CurrentPrice-Bfiu7C6X.js","assets/ErrorTips-CA427N4E.js","assets/HighlightText-Uv5QOqtT.js","assets/IconBg-D01rzFAc.js","assets/InputBox-2tXuXH7i.js","assets/Loading-CEW9oCbv.js","assets/usePriceImpact-wMjicI47.js","assets/useSwapHelper-C-PAv6w6.js","assets/global-Lf-aHf3L.js","assets/useGetPoolList-1lIRMgQW.js","assets/useWrapPoolData-xiy8vY_6.js","assets/index-B9MfitwQ.js","assets/TooltipIcon-OWEZB6mz.js","assets/Ratio-MTj_tq0g.js","assets/Slippage-LQjDPg6t.js","assets/index-CnLxGOD-.js","assets/useTokenBalance-DyFVzZGc.js","assets/useAccountBalance-B5jGnKEc.js","assets/SortDropBlock-DKUgwqBt.js","assets/TableSortTh-BbjoLifi.js","assets/TradeConfirmAmountInfo-BgVIireh.js","assets/TradeInputGroup-NFQ-LGVQ.js","assets/_getAllKeysIn-Dsxf5OjG.js","assets/WarningTokenTipModal-C1DZ5nAv.js","assets/RecentTransactions-BlBx7FIQ.js","assets/NoData-fdoVeTOA.js","assets/AccountSwitchDrawer-CvHqibPd.js","assets/Drawer-Cc85-wz0.js","assets/ConnectButton-Da-Of9z3.js","assets/useTrack-C59Tu8ii.js","assets/TokenGoplusCard-DNqnk9IL.js","assets/HTextLabelBox-vFxxeEh0.js","assets/swapWidgetConfig-tRbCWmov.js","assets/swapWidget-CcDmvpyQ.js","assets/SwapConfirmBlock-COQgoZiY.js","assets/aggregator-DHos33XJ.js","assets/useTransaction-Bt3dLzgc.js","assets/useSigner-BJM2wSbD.js","assets/index-D-4_0U17.js","assets/useFindBestRouting-Cn0qLzSK.js","assets/v4-C6aID195.js","assets/RefreshButton-DJpQ_zRu.js","assets/useInterval-uVBrvd8F.js","assets/BackButton-DXE-_zRY.js","assets/useInitNotifi-D8i9lwnS.js","assets/useNotifiAlerts-DTUN6MLy.js"])))=>i.map(i=>d[i]);
import{b4 as Nt,w as Te,a8 as pn,bj as fn,V as gn,k as hn,j as ot,ab as Re,bk as mn,bl as xn,bm as yn,bn as Sn,bo as xt,bp as bn,bq as wn,br as vn,bs as yt,bt as Mn,bu as St,I as de,a as _e,bv as jn,bw as Cn,v as In,p as Tn,e as kn,bx as bt,B as ae,F as _n,$ as Dn,by as Nn,d as En,bz as Et,G as Ln,bA as Pn,bB as wt,bC as An,bD as On,bE as Wn,bF as zn,n as Rn,bG as Bn,bH as Hn,_ as De}from"./index-CLZsOITc.js";import{a as u,j as s,X as Un,Y as Fn,Z as Yn,a1 as Vn,I as ve,V as _,T as D,H,v as Be,ab as Gn,b as Xn,aC as Zn,r as Lt,aD as Pt,g as $n,E as At,f as z,aa as vt,C as Ot,a7 as Jn,P as Qn,h as qn,k as Kn,m as er,F as tr,aE as nr}from"./vendor-BulRdKUe.js";import{u as Me,W as rr}from"./swapWidgetConfig-tRbCWmov.js";import{S as W,u as sr}from"./useSwapHelper-C-PAv6w6.js";import{u as He}from"./swapWidget-CcDmvpyQ.js";import{u as or,a as ir,S as ar,P as lr,b as cr,c as ur,O as dr,H as pr}from"./SwapConfirmBlock-COQgoZiY.js";import{H as fr}from"./HTextLabelBox-vFxxeEh0.js";import{R as gr}from"./RefreshButton-DJpQ_zRu.js";import{u as hr}from"./useAccountBalance-B5jGnKEc.js";import{u as mr}from"./useInterval-uVBrvd8F.js";import{T as xr}from"./TradeInputGroup-NFQ-LGVQ.js";import{S as yr,u as Sr,a as br}from"./Slippage-LQjDPg6t.js";import{u as wr}from"./useToken-CPqU19Ux.js";import{S as vr}from"./SingleTokenInfo-xrDFKGFi.js";import{T as Mr}from"./TokenGoplusCard-DNqnk9IL.js";import{B as jr}from"./BackButton-DXE-_zRY.js";import{u as Cr}from"./useDocumentSize-BX8xcEoA.js";import{u as Ir}from"./useInitNotifi-D8i9lwnS.js";function Tr(){const{setNodeList:e}=Nt();return{fetchFrontConfig:async()=>{var n;try{const r=`${(n=Te)==null?void 0:n.cetus_api}/v2/sui/front_config`,i=(await pn(r)).sui_nodes;i.length>0&&e(i)}catch(r){return console.log("ðŸš€ ~ file: useGetFrontConfig.ts:26 ~ fetchFrontConfig ~ error:",r),e([...fn]),null}}}}function kr(){const{clmmSdk:e,setClmmSdk:t,aggregatorSDK:n,setAggregatorSDK:r,setIsInitLoading:o}=gn(),{peripherySdk:i,setPeripherySdk:l,burnSdk:c,setBurnSdk:g,vaultsSdk:f,setVaultsSDK:S,xCetusSdk:L,setXCetusSdk:P,volatileVaultsSdk:y,setVolatileVaultsSdk:j,zapSdk:U,setZapSDK:C}=hn(),{currentNode:x}=Nt(),{currentAccount:a}=ot(),{providers:d}=Re(),m=u.useCallback(()=>{const h=mn({env:xn.mainnet,fullNodeUrl:x.link});h.senderAddress=(a==null?void 0:a.address)||"",(d==null?void 0:d.length)>0&&h.updateProviders(d),C(h)},[x.link,a==null?void 0:a.address,d]);u.useEffect(()=>{const{sdkOptions:h,senderAddress:b}=e;if(x.link!==h.fullRpcUrl||b!==(a==null?void 0:a.address)){o(!0),h.fullRpcUrl=x.link;const p=new yn(h);p.senderAddress=(a==null?void 0:a.address)||"",t(p);const v=new Sn({endpoint:Te.clmm_sdk_options.aggregatorUrl,signer:(a==null?void 0:a.address)||"",client:new bn({url:x.link}),env:Te.env==="testnet"?xt.Testnet:xt.Mainnet,pythUrls:Te.pythUrls});r(v);const{sdkOptions:k}=i,T={...k,fullRpcUrl:x.link},w=new wn(T,p);l(w);const{sdkOptions:E}=c;E.fullRpcUrl=x.link;const M=new vn(E);M.senderAddress=(a==null?void 0:a.address)||"",g(M);const{sdkOptions:I}=f;I.fullRpcUrl=x.link,I.aggregator.pythUrls=Te.pythUrls;const V=new yt(I);V.senderAddress=(a==null?void 0:a.address)||"",S(V);const{sdkOptions:A}=L;A.fullRpcUrl=x.link;const F=new Mn(A);F.senderAddress=(a==null?void 0:a.address)||"",P(F);const{sdkOptions:G}=y;G.fullRpcUrl=x.link;const q=new St(G);q.senderAddress=(a==null?void 0:a.address)||"",j(q),o(!1),m()}},[x.link,a==null?void 0:a.address]),u.useEffect(()=>{const{sdkOptions:h}=f;h.aggregator.providers=d.length>1?d:void 0;const b=new yt(h);b.senderAddress=f.senderAddress,S(b);const{sdkOptions:p}=y;p.providers=d.length>1?d:void 0;const v=new St(p);v.senderAddress=y.senderAddress,j(v),m()},[d])}const _r="/assets/img_cetusprotocol@2x-sMK6gV0x.png";function Dr({isOpen:e,onClose:t}){const[n,r]=u.useState(!1),o=()=>{t()};return s.jsxs(Un,{autoFocus:!1,closeOnOverlayClick:!1,returnFocusOnClose:!1,isOpen:e,onClose:t,isCentered:!0,children:[s.jsx(Fn,{}),s.jsx(Yn,{children:s.jsxs(Vn,{p:{base:"8px 12px !important",lg:"8px 12px !important"},children:[s.jsx(ve,{m:"8px 0 12px",src:_r,w:"100%",h:"auto",userSelect:"none"}),s.jsxs(_,{w:"100%",align:"flex-start",userSelect:"none",p:{base:"0",lg:"0 8px"},children:[s.jsx(D,{fontSize:"20px",fontWeight:"500",color:"text_caption",margin:"12px 0",children:"Welcome to Cetus"}),s.jsx(D,{color:"text_caption",children:"Please read & accept terms before using this site."}),s.jsxs(H,{w:"100%",align:"center",onClick:()=>{window.open("https://www.cetus.zone/terms","_blank")},gap:"4px",children:[s.jsx(de,{xlinkHref:"#icon-icon_docs",svgFill:"primary",svgHover:"primary",svgH:"16px",svgW:"16px"}),s.jsx(D,{cursor:"pointer",fontSize:{base:"12px",lg:"14px"},lineHeight:"1",color:"primary",_hover:{textDecoration:"underline"},children:"Cetus Protocol Terms & Conditions"})]}),s.jsx(Be,{fontWeight:"500",fontSize:"16px",w:"100%",mt:"20px",mb:"8px",onClick:o,children:"Accept"})]})]})})]})}function Nr({children:e,...t}){const{isApp:n}=_e(),r=Gn();return n?s.jsx(jn,{...t,jump:r,children:e}):s.jsx(Cn,{...t,jump:r,children:e})}var Ue={exports:{}},Wt={};const Er=Xn(Zn);var N={},re={};Object.defineProperty(re,"__esModule",{value:!0});re.dontSetMe=Wr;re.findInArray=Lr;re.int=Or;re.isFunction=Pr;re.isNum=Ar;function Lr(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Pr(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Ar(e){return typeof e=="number"&&!isNaN(e)}function Or(e){return parseInt(e,10)}function Wr(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.browserPrefixToKey=Rt;xe.browserPrefixToStyle=zr;xe.default=void 0;xe.getPrefix=zt;const Ze=["Moz","Webkit","O","ms"];function zt(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<Ze.length;r++)if(Rt(t,Ze[r])in n)return Ze[r];return""}function Rt(e,t){return t?"".concat(t).concat(Rr(e)):e}function zr(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function Rr(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}xe.default=zt();Object.defineProperty(N,"__esModule",{value:!0});N.addClassName=Ut;N.addEvent=Ur;N.addUserSelectStyles=Kr;N.createCSSTransform=$r;N.createSVGTransform=Jr;N.getTouch=Qr;N.getTouchIdentifier=qr;N.getTranslation=it;N.innerHeight=Gr;N.innerWidth=Xr;N.matchesSelector=Ht;N.matchesSelectorAndParentsTo=Hr;N.offsetXYFromParent=Zr;N.outerHeight=Yr;N.outerWidth=Vr;N.removeClassName=Ft;N.removeEvent=Fr;N.removeUserSelectStyles=es;var J=re,Mt=Br(xe);function Bt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Bt=function(r){return r?n:t})(e)}function Br(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Bt(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}let Oe="";function Ht(e,t){return Oe||(Oe=(0,J.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,J.isFunction)(e[n])})),(0,J.isFunction)(e[Oe])?e[Oe](t):!1}function Hr(e,t,n){let r=e;do{if(Ht(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Ur(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function Fr(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function Yr(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,J.int)(n.borderTopWidth),t+=(0,J.int)(n.borderBottomWidth),t}function Vr(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,J.int)(n.borderLeftWidth),t+=(0,J.int)(n.borderRightWidth),t}function Gr(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,J.int)(n.paddingTop),t-=(0,J.int)(n.paddingBottom),t}function Xr(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,J.int)(n.paddingLeft),t-=(0,J.int)(n.paddingRight),t}function Zr(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-o.left)/n,l=(e.clientY+t.scrollTop-o.top)/n;return{x:i,y:l}}function $r(e,t){const n=it(e,t,"px");return{[(0,Mt.browserPrefixToKey)("transform",Mt.default)]:n}}function Jr(e,t){return it(e,t,"")}function it(e,t,n){let{x:r,y:o}=e,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const l="".concat(typeof t.x=="string"?t.x:t.x+n),c="".concat(typeof t.y=="string"?t.y:t.y+n);i="translate(".concat(l,", ").concat(c,")")+i}return i}function Qr(e,t){return e.targetTouches&&(0,J.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,J.findInArray)(e.changedTouches,n=>t===n.identifier)}function qr(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Kr(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Ut(e.body,"react-draggable-transparent-selection")}function es(e){if(e)try{if(e.body&&Ft(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Ut(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Ft(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var se={};Object.defineProperty(se,"__esModule",{value:!0});se.canDragX=rs;se.canDragY=ss;se.createCoreData=is;se.createDraggableData=as;se.getBoundPosition=ts;se.getControlPosition=os;se.snapToGrid=ns;var Z=re,we=N;function ts(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:ls(r);const o=at(e);if(typeof r=="string"){const{ownerDocument:i}=o,l=i.defaultView;let c;if(r==="parent"?c=o.parentNode:c=i.querySelector(r),!(c instanceof l.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const g=c,f=l.getComputedStyle(o),S=l.getComputedStyle(g);r={left:-o.offsetLeft+(0,Z.int)(S.paddingLeft)+(0,Z.int)(f.marginLeft),top:-o.offsetTop+(0,Z.int)(S.paddingTop)+(0,Z.int)(f.marginTop),right:(0,we.innerWidth)(g)-(0,we.outerWidth)(o)-o.offsetLeft+(0,Z.int)(S.paddingRight)-(0,Z.int)(f.marginRight),bottom:(0,we.innerHeight)(g)-(0,we.outerHeight)(o)-o.offsetTop+(0,Z.int)(S.paddingBottom)-(0,Z.int)(f.marginBottom)}}return(0,Z.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Z.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Z.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Z.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function ns(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function rs(e){return e.props.axis==="both"||e.props.axis==="x"}function ss(e){return e.props.axis==="both"||e.props.axis==="y"}function os(e,t,n){const r=typeof t=="number"?(0,we.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=at(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,we.offsetXYFromParent)(r||e,i,n.props.scale)}function is(e,t,n){const r=!(0,Z.isNum)(e.lastX),o=at(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function as(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ls(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function at(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Fe={},Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=cs;function cs(){}Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var $e=ds(u),Y=lt(Pt),us=lt(Lt),R=N,le=se,Je=re,Ie=lt(Ye);function lt(e){return e&&e.__esModule?e:{default:e}}function Yt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Yt=function(r){return r?n:t})(e)}function ds(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Yt(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function B(e,t,n){return t=ps(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ps(e){var t=fs(e,"string");return typeof t=="symbol"?t:String(t)}function fs(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const ee={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ce=ee.mouse,Ve=class extends $e.Component{constructor(){super(...arguments),B(this,"dragging",!1),B(this,"lastX",NaN),B(this,"lastY",NaN),B(this,"touchIdentifier",null),B(this,"mounted",!1),B(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,R.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,R.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const o=(0,R.getTouchIdentifier)(t);this.touchIdentifier=o;const i=(0,le.getControlPosition)(t,o,this);if(i==null)return;const{x:l,y:c}=i,g=(0,le.createCoreData)(this,l,c);(0,Ie.default)("DraggableCore: handleDragStart: %j",g),(0,Ie.default)("calling",this.props.onStart),!(this.props.onStart(t,g)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,R.addUserSelectStyles)(r),this.dragging=!0,this.lastX=l,this.lastY=c,(0,R.addEvent)(r,ce.move,this.handleDrag),(0,R.addEvent)(r,ce.stop,this.handleDragStop))}),B(this,"handleDrag",t=>{const n=(0,le.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let c=r-this.lastX,g=o-this.lastY;if([c,g]=(0,le.snapToGrid)(this.props.grid,c,g),!c&&!g)return;r=this.lastX+c,o=this.lastY+g}const i=(0,le.createCoreData)(this,r,o);if((0,Ie.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const g=document.createEvent("MouseEvents");g.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(g)}return}this.lastX=r,this.lastY=o}),B(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,le.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let g=r-this.lastX||0,f=o-this.lastY||0;[g,f]=(0,le.snapToGrid)(this.props.grid,g,f),r=this.lastX+g,o=this.lastY+f}const i=(0,le.createCoreData)(this,r,o);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;const c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,R.removeUserSelectStyles)(c.ownerDocument),(0,Ie.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,Ie.default)("DraggableCore: Removing handlers"),(0,R.removeEvent)(c.ownerDocument,ce.move,this.handleDrag),(0,R.removeEvent)(c.ownerDocument,ce.stop,this.handleDragStop))}),B(this,"onMouseDown",t=>(ce=ee.mouse,this.handleDragStart(t))),B(this,"onMouseUp",t=>(ce=ee.mouse,this.handleDragStop(t))),B(this,"onTouchStart",t=>(ce=ee.touch,this.handleDragStart(t))),B(this,"onTouchEnd",t=>(ce=ee.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,R.addEvent)(t,ee.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,R.removeEvent)(n,ee.mouse.move,this.handleDrag),(0,R.removeEvent)(n,ee.touch.move,this.handleDrag),(0,R.removeEvent)(n,ee.mouse.stop,this.handleDragStop),(0,R.removeEvent)(n,ee.touch.stop,this.handleDragStop),(0,R.removeEvent)(t,ee.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,R.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:us.default.findDOMNode(this)}render(){return $e.cloneElement($e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Fe.default=Ve;B(Ve,"displayName","DraggableCore");B(Ve,"propTypes",{allowAnyClick:Y.default.bool,children:Y.default.node.isRequired,disabled:Y.default.bool,enableUserSelectHack:Y.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Y.default.arrayOf(Y.default.number),handle:Y.default.string,cancel:Y.default.string,nodeRef:Y.default.object,onStart:Y.default.func,onDrag:Y.default.func,onStop:Y.default.func,onMouseDown:Y.default.func,scale:Y.default.number,className:Je.dontSetMe,style:Je.dontSetMe,transform:Je.dontSetMe});B(Ve,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return g.default}}),e.default=void 0;var t=P(u),n=S(Pt),r=S(Lt),o=S(Er),i=N,l=se,c=re,g=S(Fe),f=S(Ye);function S(a){return a&&a.__esModule?a:{default:a}}function L(a){if(typeof WeakMap!="function")return null;var d=new WeakMap,m=new WeakMap;return(L=function(h){return h?m:d})(a)}function P(a,d){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var m=L(d);if(m&&m.has(a))return m.get(a);var h={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var v=b?Object.getOwnPropertyDescriptor(a,p):null;v&&(v.get||v.set)?Object.defineProperty(h,p,v):h[p]=a[p]}return h.default=a,m&&m.set(a,h),h}function y(){return y=Object.assign?Object.assign.bind():function(a){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var h in m)Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}return a},y.apply(this,arguments)}function j(a,d,m){return d=U(d),d in a?Object.defineProperty(a,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[d]=m,a}function U(a){var d=C(a,"string");return typeof d=="symbol"?d:String(d)}function C(a,d){if(typeof a!="object"||a===null)return a;var m=a[Symbol.toPrimitive];if(m!==void 0){var h=m.call(a,d);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(a)}class x extends t.Component{static getDerivedStateFromProps(d,m){let{position:h}=d,{prevPropsPosition:b}=m;return h&&(!b||h.x!==b.x||h.y!==b.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:h,prevPropsPosition:b}),{x:h.x,y:h.y,prevPropsPosition:{...h}}):null}constructor(d){super(d),j(this,"onDragStart",(m,h)=>{if((0,f.default)("Draggable: onDragStart: %j",h),this.props.onStart(m,(0,l.createDraggableData)(this,h))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),j(this,"onDrag",(m,h)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",h);const b=(0,l.createDraggableData)(this,h),p={x:b.x,y:b.y,slackX:0,slackY:0};if(this.props.bounds){const{x:k,y:T}=p;p.x+=this.state.slackX,p.y+=this.state.slackY;const[w,E]=(0,l.getBoundPosition)(this,p.x,p.y);p.x=w,p.y=E,p.slackX=this.state.slackX+(k-p.x),p.slackY=this.state.slackY+(T-p.y),b.x=p.x,b.y=p.y,b.deltaX=p.x-this.state.x,b.deltaY=p.y-this.state.y}if(this.props.onDrag(m,b)===!1)return!1;this.setState(p)}),j(this,"onDragStop",(m,h)=>{if(!this.state.dragging||this.props.onStop(m,(0,l.createDraggableData)(this,h))===!1)return!1;(0,f.default)("Draggable: onDragStop: %j",h);const p={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:k,y:T}=this.props.position;p.x=k,p.y=T}this.setState(p)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var d,m;return(d=(m=this.props)===null||m===void 0||(m=m.nodeRef)===null||m===void 0?void 0:m.current)!==null&&d!==void 0?d:r.default.findDOMNode(this)}render(){const{axis:d,bounds:m,children:h,defaultPosition:b,defaultClassName:p,defaultClassNameDragging:v,defaultClassNameDragged:k,position:T,positionOffset:w,scale:E,...M}=this.props;let I={},V=null;const F=!!!T||this.state.dragging,G=T||b,q={x:(0,l.canDragX)(this)&&F?this.state.x:G.x,y:(0,l.canDragY)(this)&&F?this.state.y:G.y};this.state.isElementSVG?V=(0,i.createSVGTransform)(q,w):I=(0,i.createCSSTransform)(q,w);const ye=(0,o.default)(h.props.className||"",p,{[v]:this.state.dragging,[k]:this.state.dragged});return t.createElement(g.default,y({},M,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(h),{className:ye,style:{...h.props.style,...I},transform:V}))}}e.default=x,j(x,"displayName","Draggable"),j(x,"propTypes",{...g.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),j(x,"defaultProps",{...g.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Wt);const{default:Vt,DraggableCore:gs}=Wt;Ue.exports=Vt;Ue.exports.default=Vt;Ue.exports.DraggableCore=gs;var hs=Ue.exports;const ms=$n(hs),Gt=u.forwardRef(({currStep:e,openConfirmModelClick:t,handleSwapWidgetRouterClick:n,formatSwapRouter:r,handleSettingClick:o,openSelectTokenModal:i,handleSlippageClick:l},c)=>{const{currWidgetImg:g,isOpen:f,setIsOpen:S}=Me(),{pathname:L}=At(),P=He(),{fromCoin:y,toCoin:j,setFromCoin:U,setToCoin:C,byAmountIn:x,setFromAmount:a,setToAmount:d,setByAmountIn:m,findRouterLoading:h,routerData:b}=P,{handleSelectToken:p,handleAmountChange:v,fromAmount:k,toAmount:T,fromAmountValue:w,toAmountValue:E,fromBalanceInfo:M,toBalanceInfo:I,amountLimit:V,doSwapAction:A,reCalculateRouteData:F,scamsText:G,refreshMarketPrice:q,resetInputAmount:ye,onReverseClick:Ge}=or(P,!0),Pe=u.useRef(e);u.useEffect(()=>{Pe.current=e},[e]),u.useImperativeHandle(c,()=>({handleTradeSubmit:X=>{A(X)},handleSelectToken:(X,dn)=>{p(dn,X)}}));const{btnText:O,btnDisabled:sn}=ir(k,T,M==null?void 0:M.balanceFormat,y,j,b),{fetchAccountBalance:gt}=hr();u.useEffect(()=>(Ae!=null&&Ae.address&&gt(),()=>{ye()}),[]);const{startTimer:on,stopTimer:ht}=mr({callback:()=>{F(),q()},interval:5*1e3});u.useEffect(()=>{f||(ye(),ht())},[f]),u.useEffect(()=>{e===W.TradeConfirmPage?on():ht()},[e]);const[Xe,mt]=u.useState("#icon-a-icon_trade"),{currentAccount:Ae,onWalletModal:an}=ot(),ln=()=>{mt("#icon-icon_swap1")},cn=()=>{mt("#icon-a-icon_trade")},un=X=>{console.log("  handleRefresh"),F(),gt(),q()};return s.jsxs(_,{w:"100%",h:"100%",display:e===W.TradeInputPage?"flex":"none",gap:"16px",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:[s.jsxs(H,{w:"100%",justify:"space-between",children:[s.jsxs(H,{children:[s.jsx(ve,{draggable:"false",src:g,fallbackSrc:"/images/placeholder-token@2x.png",w:"36px",h:"36px",cursor:"pointer",_hover:{transform:"scale(1.2)"},onClick:o}),s.jsx(D,{fontSize:"16px",color:"text_caption",fontWeight:"500",children:"Swap"})]}),s.jsxs(H,{children:[s.jsx(yr,{isWidget:!0,onClick:l}),f&&s.jsx(gr,{isAutoRefresh:!0,refreshInterval:20,handleRefresh:X=>{Pe.current!==W.TradeConfirmPage&&un()},borderRadius:"8px",w:"28px",h:"28px",innerStyle:{bg:"swap_bg_secondary"}})]})]}),s.jsxs(z,{w:"100%",children:[s.jsx(xr,{onClick:()=>Ge(!0),from:{wrapStyle:{h:"auto",p:"18px",bg:"swap_bg_secondary"},isWidget:!0,balance:(M==null?void 0:M.balanceFormat)||"",value:k,amountValue:w,loading:!x&&h,openSelectTokenModal:()=>i(!0),onChange:X=>{v(X,!0)},selectable:!0,placeholder:"0.0",token:y,onFocusChange:X=>{X&&+k&&!x&&v(k,!0)}},to:{isWidget:!0,wrapStyle:{h:"auto",p:"18px"},balance:(I==null?void 0:I.balanceFormat)||"",value:T,amountValue:E,loading:x&&h,openSelectTokenModal:()=>i(!1),onFocusChange:X=>{X&&+T&&x&&v(T,!1)},inputAllowed:!1,onChange:X=>{v(X,!1)},selectable:!0,placeholder:"0.0",token:j,half:!1,max:!1},iconParams:{xlinkHref:Xe,svgFill:"text_caption",transform:Xe==="#icon-a-icon_trade"?"":"rotate(90deg)",fontSize:Xe==="#icon-a-icon_trade"?"12px":"16px",onMouseEnter:ln,onMouseLeave:cn}}),G&&s.jsx(z,{mt:"-32px",p:"48px 16px 16px",borderRadius:"20px",bg:"bg_secondary",border:"1px solid",borderColor:"border",children:s.jsx(ar,{scamsText:G})})]}),s.jsxs(_,{p:+k&&+T?"0 8px 12px":"0 8px",w:"100%",gap:"8px",border:"1px solid",borderColor:"border",borderRadius:"20px",bg:"swap_card_bg",children:[s.jsx(Be,{w:"calc(100% + 18px)",h:"52px",margin:"-1px",fontSize:"18px",fontWeight:"500",borderRadius:"12px",isDisabled:h||sn,isLoading:h,onClick:()=>{Ae?b&&t(b):(S(!1),an(!0))},children:[y,j].filter(Boolean).length<2?"Select a token":O}),!!+k&&!!+T&&s.jsxs(_,{w:"100%",gap:"12px",children:[s.jsx(lr,{isWidget:!0,bg:"swap_card_bg_2",findRouterLoading:h,routerData:b,fromCoin:y,toCoin:j}),s.jsx(fr,{isLoading:h,label:x?"Minimum Received":"Maximum Sold",value:`${In(V,x?j==null?void 0:j.decimals:y==null?void 0:y.decimals,!1,Tn.ROUND_DOWN)} ${x?j==null?void 0:j.symbol:y==null?void 0:y.symbol}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"12px"},valueStyle:{fontWeight:500,fontSize:"12px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",minH:"20px"}}),s.jsx(cr,{handleSwapWidgetRouterClick:n,formatSwapRouter:r,findRouterLoading:h,fromAmount:k,toAmount:T,fromCoin:y,toCoin:j,isSwapWidget:!0})]})]})]})});Gt.displayName="SwapTrade";function xs(e){const{data:t,onClose:n}=e,{status:r="confirmation",link:o,tx:i,getShowInfo:l}=t,c=u.useMemo(()=>{if(l)return l(r)},[r]);return s.jsxs(_,{w:"100%",gap:"12px",h:"386px",pos:"relative",children:[s.jsx(Ss,{status:r}),s.jsx(ys,{data:t,info:c}),(r==="success"||r==="rejected")&&s.jsx(Be,{w:"100%",pos:"absolute",bottom:"0px",fontWeight:"500",fontSize:"16px",h:"52px",border:"12px",onClick:()=>{n()},children:r==="rejected"?"Retry":"Swap More"})]})}function ys(e){const{data:t,info:n}=e,{status:r="confirmation",tx:o}=t,{getExplorerUrl:i}=kn(),l=n==null?void 0:n.modalDescriptionText;return n==null||n.iconUrl,r==="confirmation"?s.jsxs(_,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[s.jsx(vt,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),s.jsx(D,{textAlign:"center",color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:l}),s.jsx(D,{fontSize:"14px",children:"Confirm this transaction in your wallet"})]}):r==="submitted"?s.jsxs(_,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[s.jsx(vt,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),s.jsx(D,{color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:l}),s.jsxs(_,{gap:"6px",children:[s.jsx(D,{color:"primary_gray",fontSize:"14px",children:"Confirmation is in progress."}),s.jsx(D,{color:"primary_gray",fontSize:"14px",children:"Check your transaction"})]}),s.jsx(_,{mt:"5px",gap:"12px",children:o&&s.jsx(_,{gap:"12px",children:s.jsx(H,{w:"100%",justifyContent:"center",gap:"16px",children:bt.map(c=>s.jsx(Be,{variant:"outline",h:"32px",pl:"12px",lineHeight:"1",color:"text_highlight",fontSize:"12px",borderColor:"swap_border",borderRadius:"8px",leftIcon:s.jsx(ve,{src:c.img,alt:"SVG Image",boxSize:"24px",objectFit:"cover",borderRadius:"8px"}),rightIcon:s.jsx(de,{xlinkHref:"#icon-icon_link1",svgW:"20px",svgH:"20px"}),_hover:{borderColor:"text_highlight",svg:{fill:"text_caption"}},onClick:()=>{window.open(i(o,"tx",c),"_blank")},children:c.name},c.name))})})})]}):r==="success"?s.jsx(s.Fragment,{children:s.jsxs(_,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[s.jsx(ae,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_green_opacity.10",children:s.jsx(ae,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_green",children:s.jsx(de,{xlinkHref:"#icon-icon_check",fontSize:"30px",svgFill:"#000"})})}),s.jsx(D,{color:"primary_green",fontSize:"14px",lineHeight:"20px",children:"Swap Successful"}),s.jsx(H,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",textAlign:"center",children:s.jsx(D,{children:l})}),o&&s.jsxs(H,{mt:"32px",children:[s.jsx(D,{color:"primary_green",fontSize:"12px",children:"View on Explorer"}),bt.map(c=>s.jsx(_n,{tooltip:s.jsxs(D,{children:[c.name," "]}),children:s.jsx(ve,{onClick:()=>{window.open(i(o,"tx",c),"_blank")},cursor:"pointer",src:c.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"})},c.name))]})]})}):r==="rejected"?s.jsx(s.Fragment,{children:s.jsxs(_,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[s.jsx(ae,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_red_opacity.10",children:s.jsx(ae,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_red",children:s.jsx(de,{xlinkHref:"#icon-caution",fontSize:"24px",svgFill:"#000"})})}),s.jsx(D,{color:"primary_red",fontSize:"14px",lineHeight:"20px",children:"Swap failed"}),s.jsx(H,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",children:s.jsx(D,{maxW:"100%",textAlign:"center",lineHeight:"18px",children:l})})]})}):s.jsx(s.Fragment,{})}function Ss({status:e}){return s.jsxs(_,{w:"100%",h:"56px",justifyContent:"center",children:[e==="confirmation"&&s.jsx(D,{fontSize:"16px",color:"text_caption",children:"Waiting for Confirmation"}),e==="submitted"&&s.jsx(D,{fontSize:"16px",color:"text_caption",children:"Transaction in progress"})]})}function Ne(e){const{title:t,onBackClick:n}=e;return s.jsxs(H,{position:"relative",w:"100%",mt:"12px",children:[s.jsx(ae,{ml:"12px",cursor:"pointer",left:"0",w:"74px",h:"32px",lineHeight:"32px",p:"0",bg:"swap_bg_secondary",borderRadius:"8px",onClick:n,sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:s.jsxs(H,{justify:"center",gap:"4px",children:[s.jsx(de,{ml:"-10px",xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),s.jsx(D,{fontSize:"12px",children:"Back"})]})}),s.jsx(D,{color:"text_caption",fontSize:"16px",position:"absolute",left:"50%",transform:"translateX(-50%)",children:t})]})}function bs(e){const{onClose:t,data:n,onSubmitClick:r}=e,{fromCoin:o,toCoin:i,routerData:l}=He();return s.jsxs(_,{w:"100%",gap:"12px",children:[s.jsx(Ne,{title:"Review your order",onBackClick:t}),s.jsx(ur,{onSubmitClick:r,onClose:t,data:n,lastRouterData:l,fromCoin:o,toCoin:i,isWidget:!0})]})}function ws(e){const{onClose:t,data:n}=e,{fromCoin:r,toCoin:o,findRouterLoading:i,fromAmount:l,toAmount:c}=He(),{getTokenListInfo:g}=wr(),[f,S]=u.useState(new Map),L=async x=>{const a=await g(x);a&&(a==null?void 0:a.size)>0&&S(a)};Dn(()=>{var x,a;if(n!=null&&n.routers&&((x=n==null?void 0:n.routers)==null?void 0:x.length)>0){const d=[];(a=n==null?void 0:n.routers)==null||a.forEach(m=>{m.paths.forEach(h=>{d.includes(h.from_type)||d.push(h.from_type),d.includes(h.to_type)||d.push(h.to_type)})}),L(d)}},[n==null?void 0:n.routers]);const P=u.useMemo(()=>{var x,a;return!(n!=null&&n.routers)||((x=n==null?void 0:n.routers)==null?void 0:x.length)===0||(f==null?void 0:f.size)===0?[]:(a=n==null?void 0:n.routers)==null?void 0:a.map(d=>({...d,paths:d.paths.map(m=>({...m,fromToken:f==null?void 0:f.get(m.from_type),toToken:f==null?void 0:f.get(m.to_type)}))}))},[n==null?void 0:n.routers,f]),y={fromToken:r,toToken:o,fromAmount:l,toAmount:c,routes:P},[j,U]=u.useState(!0),C=u.useRef(null);return u.useEffect(()=>(C.current&&(clearTimeout(C.current),C.current=null),C.current=setTimeout(()=>{U(!1)},1500),()=>{C.current&&(clearTimeout(C.current),C.current=null)}),[]),s.jsxs(_,{w:"100%",gap:"12px",children:[s.jsx(Ne,{title:"Route",onBackClick:t}),s.jsxs(H,{w:"100%",justify:"space-between",p:"0 12px",children:[s.jsx(D,{fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"nowrap",children:"Router"}),s.jsx(z,{children:s.jsx(dr,{data:n,loading:i})})]}),s.jsx(z,{pl:"12px",pr:"12px",w:"100%",children:s.jsx(pr,{...y,loading:j})})]})}function vs(e){const{onClose:t,currToken:n,onSelectCall:r}=e,[o,i]=u.useState(void 0);return s.jsxs(_,{w:"100%",gap:"12px",children:[!o&&s.jsx(Ne,{title:"Select Token",onBackClick:t}),o&&s.jsxs(H,{mt:"12px",gap:"12px",alignContent:"start",w:"100%",children:[s.jsx(jr,{bg:"swap_bg_secondary",ml:"12px",onClick:()=>{i(void 0)}}),s.jsx(vr,{token:o,imgBoxStyle:{w:"28px",h:"28px"}})]}),s.jsxs(z,{w:"100%",children:[!o&&s.jsx(Nn,{bg:"swap_bg_primary",isOpen:!0,isWidget:!0,isShowHotList:!1,isShowCollectListBox:!0,lastSelectedToken:(n==null?void 0:n.coin_type)||"",noDataHaveImg:!1,noClickImportItem:!0,onSelectToken:l=>{r(l)},onGoplusTokenClick:l=>{i(l)},onClose:function(){}}),o&&s.jsx(Mr,{tokenInfo:o})]})]})}function Ms(e){const{onClose:t}=e;return s.jsxs(_,{w:"100%",gap:"12px",pb:"16px",children:[s.jsx(Ne,{title:"Settings",onBackClick:t}),s.jsx(js,{})]})}function js(){const{currWidgetImg:e,swapWidgetDirection:t,saveCurrWidgetImg:n}=Me();return s.jsx(z,{w:"100%",pl:"16px",pr:"16px",children:s.jsx(ae,{borderRadius:"12px",bg:"swap_bg_secondary",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:s.jsxs(_,{w:"100%",alignItems:"start",gap:"16px",children:[s.jsx(D,{color:"text_paragraph",children:"Change image"}),s.jsx(H,{w:"100%",wrap:"wrap",justifyContent:"space-between",children:rr.map(r=>s.jsx(ae,{w:"44px",h:"44px",borderRadius:"50%",p:"6px",borderColor:e===r?"circle_progress_color":"border",children:s.jsx(Ot,{w:"100%",h:"100%",cursor:"pointer",onClick:()=>{n(r)},children:s.jsx(ve,{src:r,w:"36px"})})},r))})]})})})}function Cs(e){const{onCloseModal:t}=e,{showSlippage:n,isWidget:r,compact:o,settingOpen:i,onChange:l,slippageType:c,transactionMode:g,handleChangeTransctionMode:f,maxCapForGas:S,handleChangeMaxCapForGas:L,customGasPrice:P,handleChangeCustomGasPrice:y,mevProtect:j,handleChangeMevProtect:U}=Sr(e);return s.jsxs(_,{w:"100%",gap:"12px",pb:"16px",children:[s.jsx(Ne,{title:"Settings",onBackClick:t}),s.jsx(z,{p:"0px 16px",children:s.jsx(z,{borderRadius:"12px",bg:"swap_bg_secondary",p:"16px 12px",children:s.jsx(br,{isWidget:r,compact:o,isOpen:i,onClose:t,value:En(n).mul(100).toNumber(),onChange:l,slippageType:c,transactionMode:g,onChangeTransctionMode:f,maxCapForGas:S,onChangeMaxCapForGas:L,mevProtect:j,onChangeMevProtect:U,customGasPrice:P,onChangeCustomGasPrice:y})})})]})}function Is(e){const{showTopMask:t}=e,{isOpen:n}=Me(),{routerData:r,fromCoin:o,toCoin:i}=He(),[l,c]=u.useState(W.TradeInputPage),[g,f]=u.useState(),{transactionModalVisible:S,transactionData:L,setTransactionModalVisible:P}=Et(),{formatSwapRouter:y}=sr(r),[j,U]=u.useState(!0);_e();const C=u.useRef(null),x=b=>{f(b),c(W.TradeConfirmPage)},a=()=>{c(W.RoutePage)},d=b=>{U(b),c(W.SelectTokenPage)},m=()=>{c(W.TradeInputPage)};u.useEffect(()=>{n||c(W.TradeInputPage)},[n]);const h=u.useMemo(()=>l===W.TradeStatus&&L&&L.isSwapWidget&&S,[l,L,S]);return s.jsxs(_,{bg:"swap_bg_primary",w:"100%",borderRadius:"16px",p:"0px",children:[s.jsx(Gt,{ref:C,openSelectTokenModal:d,formatSwapRouter:y,handleSwapWidgetRouterClick:a,currStep:l,openConfirmModelClick:x,handleSettingClick:()=>{c(W.TradeSetting)},handleSlippageClick:()=>{c(W.SlippageSetting)}}),l===W.TradeConfirmPage&&g&&s.jsx(bs,{data:g,onClose:m,onSubmitClick:async b=>{var p;setTimeout(()=>{c(W.TradeStatus)},500),(p=C.current)==null||p.handleTradeSubmit(b)}}),h&&s.jsx(xs,{data:L,onClose:()=>{P(!1),m()}}),l===W.RoutePage&&y&&s.jsx(ws,{data:y,onClose:m}),l===W.TradeSetting&&s.jsx(Ms,{onClose:m}),l===W.SelectTokenPage&&s.jsx(vs,{onClose:m,currToken:j?o:i,onSelectCall:b=>{var p;(p=C.current)==null||p.handleSelectToken(j,b),m()}}),l===W.SlippageSetting&&s.jsx(Cs,{onCloseModal:m})]})}function Ts(e){const{isOpen:t,popoverPosition:n,handleCloseTips:r}=e,{currWidgetImg:o}=Me(),{showSwapWidgetTips:i,setShowSwapWidgetTips:l}=Re();return _e(),s.jsxs(s.Fragment,{children:[s.jsx(z,{p:"10px",display:t?"block":"none",pointerEvents:"none",children:s.jsx(ae,{w:{base:"56px",lg:"52px"},h:{base:"56px",lg:"52px"},borderRadius:"50%",p:"5px",bg:"swap_bg_primary",children:s.jsx(H,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",pt:"5px",pr:"1px",children:s.jsx(de,{xlinkHref:"#icon-icon_descending_nor",svgH:"10px",svgFill:"text_caption",svgHover:"primary"})})})}),s.jsxs(_,{alignItems:n.includes("start")?"start":"end",children:[i&&!t&&s.jsxs(Jn,{position:"relative",mr:"20px",children:[s.jsxs(_,{gap:"8px",p:"12px",bg:"card_bg",alignItems:"start",backdropFilter:"blur(10px)",borderRadius:"8px",border:"2px solid",borderColor:"text_highlight_opacity.30",children:[s.jsx(D,{fontSize:"12px",color:"text_caption",textAlign:"start",children:"You can quickly call out swap widget from"}),s.jsx(D,{fontSize:"12px",color:"text_caption",textAlign:"start",children:"here at any time. Display can be turned"}),s.jsx(D,{fontSize:"12px",color:"text_caption",textAlign:"start",children:"off/on in settings."})]}),s.jsx(H,{w:"20px",h:"20px",justifyContent:"center",alignItems:"center",bg:"card_bg",backdropFilter:"blur(10px)",borderRadius:"4px",border:"1px solid",borderColor:"text_highlight_opacity.30",position:"absolute",top:"-10px",right:"-10px",children:s.jsx(de,{xlinkHref:"#icon-icon_close",variant:"gray",onTouchStart:c=>{r(c)},onClick:c=>{r(c)}})})]}),s.jsx(z,{_hover:{transform:"scale(1.2)"},display:t?"none":"block",children:s.jsx(ve,{draggable:"false",src:o,fallbackSrc:"/images/placeholder-token@2x.png",w:{base:"60px",lg:"68px"},h:{base:"60px",lg:"68px"},pointerEvents:"none"})})]})]})}function ks(){const{isOpen:e,setIsOpen:t,swapWidgetPosition:n,setSwapWidgetPosition:r}=Me(),{showSwapWidgetTips:o,setShowSwapWidgetTips:i}=Re(),{isApp:l}=_e(),c=u.useRef(!1),g=u.useRef(null),f=u.useRef(window.devicePixelRatio||1),[S,L]=u.useState({x:0,y:0}),P=u.useMemo(()=>{if(!g.current)return"top-start";const p=g.current.getBoundingClientRect(),v=window.innerWidth,k=window.innerHeight,T=p.left+p.width/2;p.top+p.height/2,p.left,v-p.right;const w=p.top,E=k-p.bottom,M=T<v/2;let I="top-start";return E-w>10?I=M?"bottom-start":"bottom-end":I=M?"top-start":"top-end",I},[e,g.current,l]),y=u.useRef({x:0,y:0}),j=(p,v)=>{y.current={x:v.x,y:v.y}},U=(p,v)=>{const k={x:v.x,y:v.y},T=Math.abs(k.x-y.current.x),w=Math.abs(k.y-y.current.y);T>1||w>1?(r(k),setTimeout(()=>{c.current=!1},200)):c.current=!1},C=u.useRef(null),[x,a]=u.useState(0),[d,m]=u.useState(!1),[h,b]=u.useState(!1);return u.useEffect(()=>{if(!C.current)return;const p=w=>{const E=w==null?void 0:w.composedPath(),M=w.target;if((M==null?void 0:M.id)==="popover-trigger-PopoverId")return;const V=E.some(A=>{var F;return(A==null?void 0:A.classList)&&((F=A==null?void 0:A.classList)==null?void 0:F.contains("no-close-widget-flag"))});C.current&&!C.current.contains(w.target)&&!V&&t(!1)};document.addEventListener("mousedown",p);const v=()=>{if(C.current){const w=C.current.getBoundingClientRect(),E=w.top<0,M=w.bottom>window.innerHeight;m(E||M)}},k=()=>{if(C.current){const w=C.current.getBoundingClientRect(),E=window.innerHeight;let M=w.height;b(w.top<10),w.top<0?M=Math.min(w.height,w.bottom):w.bottom>E&&(M=Math.min(w.height,E-w.top)),console.log("ðŸš€ ~ calculateVisibleHeight ~ visible:",{visible:M}),M<=0&&l&&(M=w.height),a(Math.max(0,M))}},T=new ResizeObserver(()=>{v(),k()});return C.current&&T.observe(C.current),()=>{document.removeEventListener("mousedown",p),C.current&&T.unobserve(C.current)}},[C.current]),u.useEffect(()=>(e?document.body.style.overflowX="hidden":document.body.style.overflowX="",()=>{document.body.style.overflowX=""}),[t]),u.useEffect(()=>{const p=()=>{if(!g.current)return;const v=window.innerWidth,T=g.current.getBoundingClientRect().width,w=l?8:20,E=window.devicePixelRatio||1,M=E/f.current;f.current=E;const I=n.x*M,V=n.y*M,A=Math.min(Math.max(0,I),v-T-w);r({x:A,y:V})};return window.addEventListener("resize",p),p(),()=>{window.removeEventListener("resize",p)}},[l,r]),s.jsx(ms,{allowAnyClick:!1,bounds:"parent",position:n,onDrag:(p,v)=>{c.current=!0,L({x:v.x,y:v.y})},onStop:U,onStart:j,children:s.jsx(_,{zIndex:1e3,position:"absolute",gap:"16px",bottom:l?"8px":"20px",left:l?"8px":"20px",children:s.jsxs(Qn,{id:"PopoverId",isLazy:!0,closeOnBlur:!1,isOpen:e,placement:P,trigger:"click",autoFocus:!1,returnFocusOnClose:!1,children:[s.jsx(qn,{children:s.jsx(z,{ref:g,pointerEvents:"auto",cursor:"pointer",as:"button",onTouchEnd:()=>{i(!1),l&&(c.current||t(!e))},onClick:()=>{i(!1),!l&&!c.current&&t(!e)},children:s.jsx(Ts,{handleCloseTips:p=>{Ln(p),t(!1),i(!1)},isOpen:e,popoverPosition:P})})}),s.jsx(Kn,{children:s.jsx(er,{ref:C,w:l?"90vw":"386px",bg:"transparent",p:"0px",borderRadius:"16px",borderColor:"transparent",style:{transform:`translate(${S.x}px, ${S.y}px)`},children:e&&s.jsx(z,{pt:"0px",width:"100%",maxH:d?`${x}px`:"auto",overflowY:d?"auto":"visible",overflowX:"hidden",children:s.jsx(Is,{showTopMask:h})})})})]})})})}function _s(){const{mutate:e}=Pn();u.useEffect(()=>{wt.inMSafeWallet()&&e({wallet:new wt("cetus",An("mainnet"),"sui:mainnet"),silent:!0})},[])}class Ds extends TypeError{constructor(t,n){let r;const{message:o,explanation:i,...l}=t,{path:c}=t,g=c.length===0?o:`At path: ${c.join(".")} -- ${o}`;super(i??g),i!=null&&(this.cause=g),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function Ns(e){return he(e)&&typeof e[Symbol.iterator]=="function"}function he(e){return typeof e=="object"&&e!=null}function me(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Es(e){const{done:t,value:n}=e.next();return t?void 0:n}function Ls(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:o,branch:i}=t,{type:l}=n,{refinement:c,message:g=`Expected a value of type \`${l}\`${c?` with refinement \`${c}\``:""}, but received: \`${me(r)}\``}=e;return{value:r,type:l,refinement:c,key:o[o.length-1],path:o,branch:i,...e,message:g}}function*jt(e,t,n,r){Ns(e)||(e=[e]);for(const o of e){const i=Ls(o,t,n,r);i&&(yield i)}}function*ct(e,t,n={}){const{path:r=[],branch:o=[e],coerce:i=!1,mask:l=!1}=n,c={path:r,branch:o};if(i&&(e=t.coercer(e,c),l&&t.type!=="type"&&he(t.schema)&&he(e)&&!Array.isArray(e)))for(const f in e)t.schema[f]===void 0&&delete e[f];let g="valid";for(const f of t.validator(e,c))f.explanation=n.message,g="not_valid",yield[f,void 0];for(let[f,S,L]of t.entries(e,c)){const P=ct(S,L,{path:f===void 0?r:[...r,f],branch:f===void 0?o:[...o,S],coerce:i,mask:l,message:n.message});for(const y of P)y[0]?(g=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):i&&(S=y[1],f===void 0?e=S:e instanceof Map?e.set(f,S):e instanceof Set?e.add(S):he(e)&&(S!==void 0||f in e)&&(e[f]=S))}if(g!=="not_valid")for(const f of t.refiner(e,c))f.explanation=n.message,g="not_refined",yield[f,void 0];g==="valid"&&(yield[void 0,e])}class je{constructor(t){const{type:n,schema:r,validator:o,refiner:i,coercer:l=g=>g,entries:c=function*(){}}=t;this.type=n,this.schema=r,this.entries=c,this.coercer=l,o?this.validator=(g,f)=>{const S=o(g,f);return jt(S,f,this,g)}:this.validator=()=>[],i?this.refiner=(g,f)=>{const S=i(g,f);return jt(S,f,this,g)}:this.refiner=()=>[]}assert(t,n){return Ps(t,this,n)}create(t,n){return As(t,this,n)}is(t){return Ws(t,this)}mask(t,n){return Os(t,this,n)}validate(t,n={}){return Ee(t,this,n)}}function Ps(e,t,n){const r=Ee(e,t,{message:n});if(r[0])throw r[0]}function As(e,t,n){const r=Ee(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Os(e,t,n){const r=Ee(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Ws(e,t){return!Ee(e,t)[0]}function Ee(e,t,n={}){const r=ct(e,t,n),o=Es(r);return o[0]?[new Ds(o[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,o[1]]}function ut(e,t){return new je({type:e,schema:null,validator:t})}function Ct(e){return new je({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${me(t)}`}})}function Se(){return ut("boolean",e=>typeof e=="boolean")}function We(e){const t=me(e),n=typeof e;return new je({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${me(r)}`}})}function zs(){return ut("never",()=>!1)}function Ce(e){const t=e?Object.keys(e):[],n=zs();return new je({type:"object",schema:e||null,*entries(r){if(e&&he(r)){const o=new Set(Object.keys(r));for(const i of t)o.delete(i),yield[i,r[i],e[i]];for(const i of o)yield[i,r[i],n]}},validator(r){return he(r)||`Expected an object, but received: ${me(r)}`},coercer(r){return he(r)?{...r}:r}})}function ne(e){return new je({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function $(){return ut("string",e=>typeof e=="string"||`Expected a string, but received: ${me(e)}`)}function Rs(e){const t=e.map(n=>n.type).join(" | ");return new je({type:"union",schema:null,coercer(n){for(const r of e){const[o,i]=r.validate(n,{coerce:!0});if(!o)return i}return n},validator(n,r){const o=[];for(const i of e){const[...l]=ct(n,i,r),[c]=l;if(c[0])for(const[g]of l)g&&o.push(g);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${me(n)}`,...o]}})}function Bs(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}const Qe=8192;function Xt(e){if(e.length<Qe)return btoa(String.fromCharCode(...e));let t="";for(var n=0;n<e.length;n+=Qe){const r=e.slice(n,n+Qe);t+=String.fromCharCode(...r)}return btoa(t)}const Hs=32;function Us(e,t=!1){let n=e.toLowerCase();return!t&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(Hs*2,"0")}`}function Zt(e,t=!1){return Us(e,t)}BigInt(1e9);Zt("0x6");Zt("0x5");var Fs=Object.defineProperty,Ys=(e,t,n)=>t in e?Fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,te=(e,t,n)=>(Ys(e,typeof t!="symbol"?t+"":t,n),n),$t=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},K=(e,t,n)=>($t(e,t,"read from private field"),n?n.call(e):t.get(e)),oe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Q=(e,t,n,r)=>($t(e,t,"write to private field"),t.set(e,n),n),dt=Ce({address:$(),publicKey:$(),chains:Ct($()),features:Ct($()),label:ne($()),icon:ne($())});function pt(e){return{address:e.address,publicKey:Xt(e.publicKey),features:[...e.features],chains:[...e.chains],label:e.label,icon:e.icon}}function Vs(e){return{address:e.address,publicKey:Bs(e.publicKey),chains:e.chains.map(t=>t),features:e.features.map(t=>t),label:e.label,icon:e.icon}}Ce({message:$(),account:dt});function Gs(e){return{message:Xt(e.message),account:pt(e.account)}}Ce({transactionBlock:$(),account:dt,chain:$()});function Xs(e){return{transactionBlock:e.transactionBlock.serialize(),account:pt(e.account),chain:e.chain}}var Zs=Ce({showBalanceChanges:ne(Se()),showEffects:ne(Se()),showEvents:ne(Se()),showInput:ne(Se()),showObjectChanges:ne(Se()),showRawInput:ne(Se())});Ce({transactionBlock:$(),account:dt,chain:$(),requestType:ne($()),options:ne(Zs)});function $s(e){return{transactionBlock:e.transactionBlock.serialize(),account:pt(e.account),chain:e.chain,requestType:e.requestType,options:e.options}}Ce({network:Rs([We("mainnet"),We("testnet"),We("devnet"),We("localnet")]),url:$()});const Js="sui:devnet",Qs="sui:testnet",qs="sui:localnet",Ks="sui:mainnet",eo=[Js,Qs,qs,Ks];var to="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGlkPSJMYXllcl8xIiB4PSIwIiB5PSIwIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzMTguNiAzMTguNiI+CiAgPHN0eWxlPgogICAgLnN0MSwuc3Q2e2ZpbGw6I2U0NzYxYjtzdHJva2U6I2U0NzYxYjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmR9LnN0NntmaWxsOiNmNjg1MWI7c3Ryb2tlOiNmNjg1MWJ9CiAgPC9zdHlsZT4KICA8cGF0aCBmaWxsPSIjZTI3NjFiIiBzdHJva2U9IiNlMjc2MWIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTI3NC4xIDM1LjUtOTkuNSA3My45TDE5MyA2NS44eiIvPgogIDxwYXRoIGQ9Im00NC40IDM1LjUgOTguNyA3NC42LTE3LjUtNDQuM3ptMTkzLjkgMTcxLjMtMjYuNSA0MC42IDU2LjcgMTUuNiAxNi4zLTU1LjN6bS0yMDQuNC45TDUwLjEgMjYzbDU2LjctMTUuNi0yNi41LTQwLjZ6IiBjbGFzcz0ic3QxIi8+CiAgPHBhdGggZD0ibTEwMy42IDEzOC4yLTE1LjggMjMuOSA1Ni4zIDIuNS0yLTYwLjV6bTExMS4zIDAtMzktMzQuOC0xLjMgNjEuMiA1Ni4yLTIuNXpNMTA2LjggMjQ3LjRsMzMuOC0xNi41LTI5LjItMjIuOHptNzEuMS0xNi41IDMzLjkgMTYuNS00LjctMzkuM3oiIGNsYXNzPSJzdDEiLz4KICA8cGF0aCBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTIxMS44IDI0Ny40LTMzLjktMTYuNSAyLjcgMjIuMS0uMyA5LjN6bS0xMDUgMCAzMS41IDE0LjktLjItOS4zIDIuNS0yMi4xeiIvPgogIDxwYXRoIGZpbGw9IiMyMzM0NDciIHN0cm9rZT0iIzIzMzQ0NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJtMTM4LjggMTkzLjUtMjguMi04LjMgMTkuOS05LjF6bTQwLjkgMCA4LjMtMTcuNCAyMCA5LjF6Ii8+CiAgPHBhdGggZmlsbD0iI2NkNjExNiIgc3Ryb2tlPSIjY2Q2MTE2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Im0xMDYuOCAyNDcuNCA0LjgtNDAuNi0zMS4zLjl6TTIwNyAyMDYuOGw0LjggNDAuNiAyNi41LTM5Ljd6bTIzLjgtNDQuNy01Ni4yIDIuNSA1LjIgMjguOSA4LjMtMTcuNCAyMCA5LjF6bS0xMjAuMiAyMy4xIDIwLTkuMSA4LjIgMTcuNCA1LjMtMjguOS01Ni4zLTIuNXoiLz4KICA8cGF0aCBmaWxsPSIjZTQ3NTFmIiBzdHJva2U9IiNlNDc1MWYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTg3LjggMTYyLjEgMjMuNiA0Ni0uOC0yMi45em0xMjAuMyAyMy4xLTEgMjIuOSAyMy43LTQ2em0tNjQtMjAuNi01LjMgMjguOSA2LjYgMzQuMSAxLjUtNDQuOXptMzAuNSAwLTIuNyAxOCAxLjIgNDUgNi43LTM0LjF6Ii8+CiAgPHBhdGggZD0ibTE3OS44IDE5My41LTYuNyAzNC4xIDQuOCAzLjMgMjkuMi0yMi44IDEtMjIuOXptLTY5LjItOC4zLjggMjIuOSAyOS4yIDIyLjggNC44LTMuMy02LjYtMzQuMXoiIGNsYXNzPSJzdDYiLz4KICA8cGF0aCBmaWxsPSIjYzBhZDllIiBzdHJva2U9IiNjMGFkOWUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0ibTE4MC4zIDI2Mi4zLjMtOS4zLTIuNS0yLjJoLTM3LjdsLTIuMyAyLjIuMiA5LjMtMzEuNS0xNC45IDExIDkgMjIuMyAxNS41aDM4LjNsMjIuNC0xNS41IDExLTl6Ii8+CiAgPHBhdGggZmlsbD0iIzE2MTYxNiIgc3Ryb2tlPSIjMTYxNjE2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Im0xNzcuOSAyMzAuOS00LjgtMy4zaC0yNy43bC00LjggMy4zLTIuNSAyMi4xIDIuMy0yLjJoMzcuN2wyLjUgMi4yeiIvPgogIDxwYXRoIGZpbGw9IiM3NjNkMTYiIHN0cm9rZT0iIzc2M2QxNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJtMjc4LjMgMTE0LjIgOC41LTQwLjgtMTIuNy0zNy45LTk2LjIgNzEuNCAzNyAzMS4zIDUyLjMgMTUuMyAxMS42LTEzLjUtNS0zLjYgOC03LjMtNi4yLTQuOCA4LTYuMXpNMzEuOCA3My40bDguNSA0MC44LTUuNCA0IDggNi4xLTYuMSA0LjggOCA3LjMtNSAzLjYgMTEuNSAxMy41IDUyLjMtMTUuMyAzNy0zMS4zLTk2LjItNzEuNHoiLz4KICA8cGF0aCBkPSJtMjY3LjIgMTUzLjUtNTIuMy0xNS4zIDE1LjkgMjMuOS0yMy43IDQ2IDMxLjItLjRoNDYuNXptLTE2My42LTE1LjMtNTIuMyAxNS4zLTE3LjQgNTQuMmg0Ni40bDMxLjEuNC0yMy42LTQ2em03MSAyNi40IDMuMy01Ny43IDE1LjItNDEuMWgtNjcuNWwxNSA0MS4xIDMuNSA1Ny43IDEuMiAxOC4yLjEgNDQuOGgyNy43bC4yLTQ0Ljh6IiBjbGFzcz0ic3Q2Ii8+Cjwvc3ZnPg==",Jt=class pe extends Error{constructor(t){super(`${pe.type}: ${t}}`),te(this,"type",pe.type)}static asSimpleError(t){return new Error(`${pe.type}: ${t}`)}static isSimpleErrorMessage(t){return t.startsWith(pe.type+": ")}static fromSimpleErrorMessage(t){return new pe(t.slice(pe.type.length+2))}};te(Jt,"type","INVALID_REQUEST_PARAMS");var It=Jt,Qt=class ke extends Error{constructor(){super(ke.type),te(this,"type",ke.type)}static asSimpleError(){return new Error(ke.type)}static isSimpleErrorMessage(t){return t===ke.type}};te(Qt,"type","USER_REJECTION");var qe=Qt,qt=class fe extends Error{constructor(t){super(`${fe.type}: ${t}`),te(this,"type",fe.type)}static asSimpleError(t){return new Error(`${fe.type}: ${t}`)}static isSimpleErrorMessage(t){return t.startsWith(fe.type+": ")}static fromSimpleErrorMessage(t){return new fe(t.slice(fe.type.length+2))}};te(qt,"type","INVALID_REQUEST_METHOD");var Tt=qt,Kt=class ge extends Error{constructor(t){let n=ge.type;t&&(n+=": "+t),super(n),te(this,"type",ge.type)}static asSimpleError(t){let n=ge.type;return t&&(n+=": "+t),new Error(n)}static isSimpleErrorMessage(t){return t.startsWith(ge.type)}static fromSimpleErrorMessage(t){return new ge(t.slice(ge.type.length+2))}};te(Kt,"type","DRY_RUN_FAILED");var kt=Kt,en=class ze extends Error{constructor(){super(ze.type),te(this,"type",qe.type)}static asSimpleError(){return new Error(ze.type)}static isSimpleErrorMessage(t){return t===ze.type}};te(en,"type","NON_ADMIN_ORIGIN");var _t=en;function no(e){return typeof e=="object"&&e!==null&&"message"in e}function ft(e){return no(e)?It.isSimpleErrorMessage(e.message)?It.fromSimpleErrorMessage(e.message):qe.isSimpleErrorMessage(e.message)?new qe:Tt.isSimpleErrorMessage(e.message)?Tt.fromSimpleErrorMessage(e.message):kt.isSimpleErrorMessage(e.message)?kt.fromSimpleErrorMessage(e.message):_t.isSimpleErrorMessage(e.message)?new _t:e:e}var Le="npm:@kunalabs-io/sui-metamask-snap",ro="^1.0.0";function so(){const e=On();for(const n of e.get())if(n.name===Dt.NAME)return console.warn("SuiSnapWallet already registered"),n;const t=new Dt;return e.register(t),t}async function oo(e){return(await e.request({method:"wallet_invokeSnap",params:{snapId:Le,request:{method:"getAccounts"}}})).map(n=>new Wn(Vs(n)))}async function tn(e,t){const n=Gs(t);try{return await e.request({method:"wallet_invokeSnap",params:{snapId:Le,request:{method:"signPersonalMessage",params:JSON.parse(JSON.stringify(n))}}})}catch(r){throw ft(r)}}async function io(e,t){const n=await tn(e,t);return{messageBytes:n.bytes,signature:n.signature}}async function ao(e,t){const n=Xs(t);try{return await e.request({method:"wallet_invokeSnap",params:{snapId:Le,request:{method:"signTransactionBlock",params:JSON.parse(JSON.stringify(n))}}})}catch(r){throw ft(r)}}async function lo(e,t){const n=$s(t);try{return await e.request({method:"wallet_invokeSnap",params:{snapId:Le,request:{method:"signAndExecuteTransactionBlock",params:JSON.parse(JSON.stringify(n))}}})}catch(r){throw ft(r)}}async function co(){const e=window.ethereum;if(!e)return{available:!1,supportsSnaps:!1,suiSnapInstalled:!1};if(!e.isMetaMask)return{available:!1,suiSnapInstalled:!1,supportsSnaps:!1};try{const t=await e.request({method:"web3_clientVersion"}),n=await e.request({method:"wallet_getSnaps"}),r=!!n&&"npm:@kunalabs-io/sui-metamask-snap"in n;return{available:!0,version:t,supportsSnaps:!0,suiSnapInstalled:r}}catch(t){return console.warn(t),{available:!0,supportsSnaps:!1,suiSnapInstalled:!1}}}var ie,ue,be,Ke,et,tt,nt,rt,st,nn=class rn{constructor(){oe(this,ie,void 0),oe(this,ue,void 0),oe(this,be,null),oe(this,Ke,async()=>{if(K(this,ie))throw new Error("Already connecting");Q(this,ie,!0),Q(this,ue,!1);try{const t=window.ethereum;if(!(await co()).available)throw new Error("MetaMask not detected!");return await t.request({method:"wallet_requestSnaps",params:{[Le]:{version:ro}}}),Q(this,be,await oo(t)),Q(this,ie,!1),Q(this,ue,!0),{accounts:this.accounts}}catch(t){throw Q(this,ie,!1),Q(this,ue,!1),t}}),oe(this,et,async()=>{Q(this,ie,!1),Q(this,ue,!1),Q(this,be,null)}),oe(this,tt,async t=>tn(window.ethereum,t)),oe(this,nt,async t=>io(window.ethereum,t)),oe(this,rt,async t=>ao(window.ethereum,t)),oe(this,st,async t=>lo(window.ethereum,t)),Q(this,ie,!1),Q(this,ue,!1)}get version(){return"1.0.0"}get name(){return rn.NAME}get icon(){return to}get chains(){return eo}get connecting(){return K(this,ie)}get accounts(){return K(this,ue)&&K(this,be)?K(this,be):[]}get features(){return{"standard:connect":{version:"1.0.0",connect:K(this,Ke)},"standard:disconnect":{version:"1.0.0",disconnect:K(this,et)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:K(this,tt)},"sui:signMessage":{version:"1.0.0",signMessage:K(this,nt)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:K(this,rt)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:K(this,st)},"standard:events":{version:"1.0.0",on:()=>()=>{}}}}};ie=new WeakMap;ue=new WeakMap;be=new WeakMap;Ke=new WeakMap;et=new WeakMap;tt=new WeakMap;nt=new WeakMap;rt=new WeakMap;st=new WeakMap;te(nn,"NAME","Sui MetaMask Snap");var Dt=nn;const uo=u.lazy(()=>De(()=>import("./index-BxiSE5Z8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58])).then(e=>({default:e.BuyCryptoAlchemy}))),po=u.lazy(()=>De(()=>import("./index-BxiSE5Z8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58])).then(e=>({default:e.BuyCryptoKodo}))),fo=u.lazy(()=>De(()=>import("./index-BxiSE5Z8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58])).then(e=>({default:e.BuyCryptoModal}))),go=u.lazy(()=>De(()=>import("./index-BxiSE5Z8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58])).then(e=>({default:e.TransactionModal}))),ho=u.lazy(()=>De(()=>import("./index-BxiSE5Z8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58])).then(e=>({default:e.WalletModal})));so();function mo(){const[e,t]=u.useState(!1),{isTerm:n,setIsTerm:r,isSwapWidgetDisplay:o}=Re(),{isShowAlchemyCrypto:i,isShowKodoCrypto:l,setIsShowAlchemyCrypto:c,setIsShowKodoCrypto:g}=zn(),{transactionModalVisible:f,transactionData:S,setTransactionModalVisible:L,setManualCloseId:P}=Et(),{currentAccount:y,isOpenWalletModal:j,onWalletModal:U}=ot(),{fetchFrontConfig:C}=Tr();Rn(),_s(),kr();const{pathname:x}=At(),{currWidgetImg:a}=Me(),d=u.useMemo(()=>({preferred:!0,rpc:!0,swapWidgetDisplay:{icon:a}}),[a]),m=u.useMemo(()=>["stats","pools"].some(O=>x.includes(O)),[x]),h=u.useMemo(()=>["swap"].some(O=>x.includes(O)),[x]),b=u.useMemo(()=>["swap","limit","dca"].some(O=>x.includes(O)),[x]),[p,v]=u.useState(!1),k=u.useRef(null),T=()=>{I.current&&v(I.current.scrollTop>100)},w=()=>{var O;I.current&&((O=I.current)==null||O.scrollTo({top:0,behavior:"instant"}))},{initNotifi:E}=Ir();u.useEffect(()=>{x&&(console.log("ðŸš€ ~ useEffect ~ pathname:",x),w())},[x]),u.useEffect(()=>{if(setTimeout(()=>{C()},1e3),I.current)return console.log("ðŸš€ ~ useEffect ~ hStack:",I.current),I.current.addEventListener("scroll",T),()=>{var O;return(O=I.current)==null?void 0:O.removeEventListener("scroll",T)}},[]),u.useEffect(()=>{y!=null&&y.address&&E(y==null?void 0:y.address)},[y==null?void 0:y.address]);const{size:M}=Cr(),I=u.useRef(null),{setScrollYgtZero:V}=Bn(),[A,F]=u.useState(!1),G=u.useRef(null),q=()=>{F(!0),I.current&&V(I.current.scrollTop>0)};u.useEffect(()=>I.current?(I.current.addEventListener("scroll",q),()=>{var O;(O=I.current)==null||O.removeEventListener("scroll",q)}):()=>{G.current&&(clearTimeout(G.current),G.current=null)},[]),u.useEffect(()=>{A&&(G.current=setTimeout(()=>{F(!1)},1500))},[A]);const{isApp:ye}=_e(),Ge=[{title:"Trade",children:[{title:"Swap",path:"/swap",icon:"#icon-a-icon_swap2"},{title:"Limit Order",path:"/limit",icon:"#icon-icon_limitorder"},{title:"DCA",path:"/dca",icon:"#icon-icon_dca"},{title:"DeepBook",path:"https://deepbook.cetus.zone/",type:"_blank",icon:"#icon-icon_deepbook"}]},{title:"Earn",children:[{title:"Pools",path:"/pools",icon:"#icon-icon_liquiditypools"},{title:"Farms",path:"/farms",icon:"#icon-icon_farms"},{title:"Vaults",path:"/vaults",icon:"#icon-icon_vaults"}]},{title:"xCETUS",path:"/xCetus",type:ye?"onClick":"reactRouterLink"},{title:"Bridge",children:[{title:"Sui Bridge",type:"_blank",path:"https://bridge.sui.io/",icon:"#icon-icon_sui"},{title:"Wormhole",type:"_blank",path:"https://bridge.cetus.zone/sui",icon:"#icon-icon_wormhole"}]},{title:"More",children:[{title:"Buy Crypto",type:"onClick",onClick:()=>{console.log("Buy Crypto"),y!=null&&y.address?t(!0):U(!0)},icon:"#icon-icon_crypto"},{title:"Launchpad",path:"https://launch.cetus.zone/?chain=sui",type:"_blank",icon:"#icon-icon_Launchpad"},{title:"Cetus Terminal",path:"https://terminal.cetus.zone",type:"_blank",icon:"#icon-icon_terminal"},{title:"Stats",path:"/stats",icon:"#icon-icon_stats"},{title:"Docs",path:"https://cetus-1.gitbook.io/cetus-docs",type:"_blank",icon:"#icon-icon_docs"}],socials:[{title:"X",path:"https://x.com/cetusprotocol",icon:"#icon-icon_twitter"},{title:"Discord",path:"https://discord.com/invite/rQtYGfmcD8",icon:"#icon-icon_discord"},{title:"Telegram",path:"https://t.me/CetusDevNews",icon:"#icon-icon_telegram"},{title:"Medium",path:"https://medium.com/@CetusProtocol",icon:"#icon-icon_medium"}]}],Pe=u.useMemo(()=>!!(o&&!(x!=null&&x.includes("/swap"))&&x!=="/"),[x,o]);return s.jsxs(s.Fragment,{children:[s.jsx(z,{ref:I,h:M==null?void 0:M.h,background:"bg_primary",overflowY:"scroll",overflowX:"hidden",minW:{base:"100%",lg:"1200px"},className:`scroll-container ${A?"scroll-active":""}`,sx:{"::-webkit-scrollbar-thumb":{background:A?"rgba(88, 90, 92, 1)":"rgba(88, 90, 92, 0)",transition:"background 0.5s ease, opacity 0.5s ease"}},children:s.jsxs(z,{minH:"100%",position:"relative",pt:{base:"10px",lg:"0"},children:[s.jsx(Nr,{logo:{image:"/images/logo@2x.png",url:"/"},menus:Ge,notifications:!0,setting:d,isCetusPump:!1}),s.jsx(z,{as:"div",pb:"80px",style:{width:"100%",position:"relative",height:"100%"},ref:k,children:s.jsx(u.Suspense,{fallback:s.jsx(Hn,{}),children:s.jsx(_,{w:"100%",children:s.jsx(tr,{w:"100%",maxW:"1200px",p:{base:"0px 8px 0px 12px",lg:"0 20px"},justifyContent:"center",zIndex:"1",children:s.jsx(nr,{})})})})}),p&&m&&s.jsx(ae,{cursor:"pointer",w:"40px",h:"40px",p:"0",borderRadius:"12px",zIndex:"99",position:"fixed",bottom:"30px",right:"20px",onClick:w,_hover:{svg:{fill:"text_caption"}},children:s.jsx(Ot,{w:"100%",h:"100%",children:s.jsx(de,{xlinkHref:"#icon-icon_top1",onClick:w})})}),s.jsx(xo,{bgIsShow:h,bgBottomIsShow:b,pathname:x})]})}),j&&s.jsx(u.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(ho,{isOpen:j,onClose:()=>U(!1)})}),f&&S&&!S.isSwapWidget&&s.jsx(u.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(go,{isOpen:f,onClose:O=>{S.transactionId&&O&&P(S.transactionId),L(!1)},...S})}),e&&s.jsx(u.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(fo,{isOpen:e,onClose:()=>t(!1)})}),i&&s.jsx(u.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(uo,{isOpen:i,onClose:()=>c(!1)})}),l&&s.jsx(u.Suspense,{fallback:s.jsx("div",{}),children:s.jsx(po,{isOpen:l,onClose:()=>g(!1)})}),!n&&s.jsx(Dr,{isOpen:!n,onClose:()=>r(!0)}),Pe&&s.jsx(ks,{})]})}const xo=({bgIsShow:e,bgBottomIsShow:t,pathname:n})=>s.jsxs(s.Fragment,{children:[n=="/profile"&&s.jsx(_,{w:"100%",pos:"absolute",top:"0",alignItems:"start",h:"600px",sx:{backgroundImage:"url('/images/profile_bg@2x.png')",backgroundSize:"3000px 600px",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),s.jsxs(z,{bg:"background",children:[t&&s.jsx(z,{className:"bg_img_left",w:"30%",h:"208px",bg:"#005B33",filter:"blur(150px)",position:"fixed",zIndex:"0",bottom:"-100px",left:"-10%",borderRadius:"50%"}),t&&s.jsx(z,{className:"bg_img_right",w:"30%",h:"208px",bg:"#005B33",filter:"blur(180px)",position:"fixed",zIndex:"0",bottom:"-100px",right:"-10%",borderRadius:"50%"})]})]}),Wo=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));export{Wo as C,Nr as H,Dr as T};
//# sourceMappingURL=CetusLayout-Dt0YH4tF.js.map
