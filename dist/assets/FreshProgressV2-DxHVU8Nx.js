import{a as s,j as o,C as p,aQ as x,P as v,h as C,m as b,n as j}from"./vendor-DYqnJE5Q.js";import{z as R}from"./index-nq5C95Tz.js";var z=function(r){return typeof r=="function"},F=function(r){return typeof r=="number"};function P(r){var n=s.useRef(r);n.current=s.useMemo(function(){return r},[r]);var e=s.useRef();return e.current||(e.current=function(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];return n.current.apply(this,u)}),e.current}var k=function(r,n,e){e===void 0&&(e={});var u=P(r),t=s.useRef(null),a=s.useCallback(function(){t.current&&clearInterval(t.current)},[]);return s.useEffect(function(){if(!(!F(n)||n<0))return e.immediate&&u(),t.current=setInterval(u,n),a},[n,e.immediate]),a};const E=s.forwardRef(({callbackInterval:r=20,min:n,max:e,onClick:u,size:t="18px",noBg:a,thickness:h="10px",...d},g)=>{const[l,c]=s.useState(0);s.useImperativeHandle(g,()=>({reset:()=>c(0)}));const m=k(()=>{c(i=>{const f=i+1;return f>=r?(u(),0):f})},1e3);return s.useEffect(()=>()=>{m()},[]),o.jsx(o.Fragment,{children:a?o.jsx(p,{p:"2px",cursor:"pointer",onClick:i=>{R(i),c(0),u()},children:o.jsx(x,{min:n,max:e,value:l,size:t,color:"text_highlight",trackColor:"circle_progress_track_color",thickness:h})}):o.jsxs(v,{isLazy:!0,trigger:"hover",autoFocus:!1,returnFocusOnClose:!1,gutter:4,children:[o.jsx(C,{children:o.jsx(p,{w:"28px",h:"28px",border:"1px solid",borderColor:"border",borderRadius:"8px",bg:"bg_secondary",cursor:"pointer",...d,onClick:()=>{c(0),u()},children:o.jsx(x,{min:n,max:e,value:l,size:t,color:"text_highlight",trackColor:"circle_progress_track_color"})})}),o.jsx(b,{children:o.jsxs(j,{p:"12px",lineHeight:"20px",fontSize:"12px",children:["Auto refresh in ",r," seconds, you can click to update manually."]})})]})})});export{E as F,F as a,z as i,P as u};
//# sourceMappingURL=FreshProgressV2-DxHVU8Nx.js.map
