import{j as e,a6 as F,q as G,ak as le,a as h,H as n,V as g,T as r,C as M,F as Te,f as Q,al as re,R as ie,as as k,at as b,S as I,p as C,av as _e,aw as Ae,ax as z,ar as fe}from"./vendor-BowHGuwE.js";import{I as L,n as R,a as U,e as P,f as E,B as N,a2 as ee,C as ke,J,j as De}from"./index-D4aDQqO2.js";import{N as Y}from"./NoData-DwPvHKvw.js";import{c as K,d as ae,u as X,e as Ve,f as Le,g as Re,h as He}from"./VaultsAprBlock-B618oCf8.js";import{H as V}from"./HTextLabelBox-0u44Llzg.js";import{u as Be,A as oe,V as ne}from"./VaultsRewardsBlock-BcnUcU8N.js";import{P as Oe}from"./PoweredByHaedal-uLEk4Xbu.js";import{V as te}from"./VTextLabelBox-B436J-ig.js";import{C as ze}from"./CoinPairInfo-Cz2eTbS4.js";import{S as We}from"./SearchInputBlock-vHmkJp4w.js";import{C as se}from"./CheckBox-CeXJEGdk.js";import{R as Pe}from"./RefreshButton-DJ5cGN6a.js";import{S as Ne}from"./SortDropBlock-BjljzxZ4.js";import{u as Ye}from"./useAccountBalance-BIY-JitI.js";import{u as Ue}from"./useInterval-BcJtT0it.js";import"./useGetPoolList-CJggfLZm.js";import"./useWrapPoolData-ADm5hfuq.js";import"./useTokenBalance-D6WSuQx2.js";import"./useToken-9f5iXKDA.js";import"./useFavoritePool-BW7jcxnn.js";import"./SingleTokenInfo-BKiV7eB5.js";import"./CopyButton-DXYQlsT8.js";import"./index-m-1XHIbC.js";import"./Loading-9Flk9u0a.js";import"./TooltipIcon-ldmErsJZ.js";function xe({isOpen:l,jumpVaultsDetail:s,onExpand:t}){return e.jsxs(F,{w:{base:"100%",lg:"auto"},flexDir:{base:"column",lg:"row"},justifyContent:{base:"center",lg:"end"},align:"center",gap:{base:"8px",lg:"20px"},children:[e.jsx(G,{fontSize:"14px",h:{base:"40px",lg:"32px"},w:{base:"100%",lg:"100px"},variant:"outline",borderRadius:"8px",onClick:s,children:"Deposit"}),e.jsx(G,{variant:"unstyled",_hover:{bg:"button_ghost_hov_bg",svg:{fill:"text_caption"}},w:{base:"100%",lg:"32px"},h:{base:"40px",lg:"72px"},minW:"unset",minH:"unset",bg:"button_ghost_bg",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"8px",border:"1px solid",borderColor:"border",onClick:t||(()=>{}),children:e.jsx(L,{svgW:"16px",xlinkHref:"#icon-icon_arrow",variant:"gray",transition:"transform 0.5s",transform:l?"rotate(180deg)":"rotate(0deg)"})})]})}function de(l){var m,S,x,w;const{apiInfo:s,logo_url:t}=l,c=le(),{currentAccount:o,onWalletModal:i}=R(),{isApp:p}=U(),{vaultsPositionObj:y}=K();console.log("ðŸš€ðŸš€ðŸš€ ~ VaultsExpendItem.tsx:24 ~ VaultsExpendItem ~ vaultsPositionObj:",y);const a=h.useMemo(()=>y[s==null?void 0:s.vaultId],[JSON.stringify(y),s==null?void 0:s.vaultId]);return o?e.jsxs(F,{flexDir:{base:"column",lg:"row"},bg:"bg_primary",w:"100%",gap:"16px",borderRadius:{base:"8px",lg:"20px"},border:"1px solid",borderColor:"border",p:{base:"8px",lg:"10px 52px 10px 16px"},cursor:"pointer",justifyContent:{base:"center",lg:"space-between"},onClick:()=>{c(`/vaults-detail/${s==null?void 0:s.vaultId}/${s.category}`)},children:[e.jsxs(n,{gap:"15px",children:[e.jsx(P,{imageUrl:t,imgBoxStyle:{w:"60px",h:"60px"}}),e.jsxs(g,{gap:"4px",alignItems:"start",children:[e.jsx(r,{color:"primary_gray",children:"Your LP tokens"}),e.jsx(r,{color:"text_caption",children:`${(a==null?void 0:a.balanceDisplay)||"0"} LP`})]})]}),e.jsx(F,{flexDir:{base:"column",lg:"row"},gap:{base:"16px",lg:"8px"},children:p?e.jsxs(e.Fragment,{children:[e.jsx(V,{label:"Pooled assets",labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},value:e.jsxs(F,{gap:{base:"4px",lg:"12px"},flexDir:{base:"column",lg:"row"},align:{base:"flex-end",lg:"center"},children:[e.jsxs(n,{gap:"4px",children:[e.jsx(P,{imageUrl:s.displayTokenA.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(r,{color:"text_caption",children:E(a==null?void 0:a.displayAmountA)}),e.jsx(r,{color:"text_caption",children:(m=s==null?void 0:s.displayTokenA)==null?void 0:m.symbol})]}),e.jsxs(n,{gap:"4px",children:[e.jsx(P,{imageUrl:s.displayTokenB.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(r,{color:"text_caption",children:E(a==null?void 0:a.displayAmountB)}),e.jsx(r,{color:"text_caption",children:(S=s==null?void 0:s.displayTokenB)==null?void 0:S.symbol})]})]})}),e.jsx(V,{label:"Share of pool",labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"},value:a==null?void 0:a.shartOfPoolDisplay}),e.jsxs(G,{variant:"outline",h:"32px",gap:"8px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"4px",children:[e.jsx(r,{color:"primary_gray",children:"Details"}),e.jsx(N,{borderRadius:"4px",p:"0px",bg:"rgb(118,200,255,0.1)",w:"fit-content",children:e.jsx(M,{w:"20px",h:"20px",children:e.jsx(L,{svgW:"16px",xlinkHref:"#icon-icon_arrow",variant:"gray",transition:"transform 0.5s",transform:"rotate(-90deg)"})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{mr:"90px",children:e.jsx(te,{wrapStyle:{gap:"4px",alignItems:"end"},title:"Pooled assets",titleStyle:{color:"primary_gray"},value:e.jsxs(n,{gap:"4px",children:[e.jsx(P,{imageUrl:s.displayTokenA.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(r,{color:"text_caption",children:E(a==null?void 0:a.displayAmountA)}),e.jsx(r,{color:"text_caption",mr:"8px",children:(x=s==null?void 0:s.displayTokenA)==null?void 0:x.symbol}),e.jsx(P,{imageUrl:s.displayTokenB.logo_url,imgBoxStyle:{w:"20px",h:"20px"}}),e.jsx(r,{color:"text_caption",children:E(a==null?void 0:a.displayAmountB)}),e.jsx(r,{color:"text_caption",children:(w=s==null?void 0:s.displayTokenB)==null?void 0:w.symbol})]})})}),e.jsx(M,{mr:"110px",children:e.jsx(te,{wrapStyle:{gap:"4px",alignItems:"end"},title:"Share of pool",titleStyle:{color:"primary_gray"},value:a==null?void 0:a.shartOfPoolDisplay})}),e.jsxs(n,{gap:"8px",children:[e.jsx(r,{color:"primary_gray",children:"Details"}),e.jsx(N,{borderRadius:"4px",p:"0px",bg:"rgb(118,200,255,0.1)",children:e.jsx(M,{w:"20px",h:"20px",children:e.jsx(L,{svgW:"16px",xlinkHref:"#icon-icon_arrow",variant:"gray",transition:"transform 0.5s",transform:"rotate(-90deg)"})})})]})]})})]}):e.jsx(Y,{type:"nowallet",onboard:()=>{i(!0)}})}function ce({vaultId:l,category:s}){const{currentAccount:t}=R(),{vaultsPositionObj:c}=K(),o=h.useMemo(()=>{if(ee(c))return c[l]},[c,l]),{holdingAmountDisplay:i}=Be(o==null?void 0:o.displayAmountA,o==null?void 0:o.displayAmountB,o==null?void 0:o.displayCoinTypeA,o==null?void 0:o.displayCoinTypeB,s);return e.jsx(Te,{justifyContent:"flex-end",children:e.jsx(r,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:!(t!=null&&t.address)||!ee(c)?"--":i})})}function Me({openExpend:l,onExpand:s,apiInfo:t,logo_url:c,jumpVaultsDetail:o,isShowPowered:i,isShowAumLimit:p}){var y,a,m,S,x,w;return e.jsxs(g,{w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",p:"8px",borderRadius:"12px",gap:"16px",bg:"bg_fifth",children:[e.jsxs(n,{children:[e.jsx(ke,{coinAIconUrl:(y=t==null?void 0:t.displayTokenA)==null?void 0:y.logo_url,coinBIconUrl:(a=t==null?void 0:t.displayTokenB)==null?void 0:a.logo_url,coinACoinType:(m=t==null?void 0:t.displayTokenA)==null?void 0:m.coin_type,coinBCoinType:(S=t==null?void 0:t.displayTokenB)==null?void 0:S.coin_type,w:"40px",h:"40px"}),e.jsxs(g,{children:[e.jsxs(n,{children:[e.jsxs(r,{color:"text_caption",fontWeight:"500",children:[(x=t==null?void 0:t.displayTokenA)==null?void 0:x.symbol," - ",(w=t==null?void 0:t.displayTokenB)==null?void 0:w.symbol]}),e.jsx(Q,{h:"20px",lineHeight:"18px",bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",p:"0 12px",children:e.jsx(r,{fontWeight:"500",color:"text_highlight",children:t==null?void 0:t.feeDisplay})})]}),(t==null?void 0:t.category)=="haedal"&&i&&e.jsx(Oe,{category:"Haedal"})]})]}),e.jsxs(g,{w:"100%",gap:"16px",mt:"4px",children:[p?e.jsx(V,{label:"TVL",value:e.jsx(g,{alignItems:"flex-end",children:Number(t.hardCapUSD)==0?e.jsx(J,{tooltip:" No capacity limit ",children:e.jsxs(g,{gap:"4px",children:[e.jsx(r,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(r,{h:"12px",lineHeight:"12px",color:"primary",bg:"primary_opacity.10",p:"0px 8px",borderRadius:"12px",children:"âˆž"})]})}):e.jsx(oe,{depositRatio:t.depositRatio,hardCapUSD:t.hardCapUSD,vaultTvl:t.vaultsTvl,textStyle:{textDecoration:"none"},value:e.jsxs(g,{alignItems:"flex-end",children:[e.jsx(r,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(re,{h:"4px",w:"80px",value:Number(t.depositRatio),bg:"primary_opacity.10",sx:{'div[role="progressbar"]':{bg:"primary"}}})]})})}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px",fontWeight:"500"}}):e.jsx(V,{label:"TVL",value:e.jsx(r,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),e.jsx(V,{label:e.jsxs(n,{justify:"flex-end",gap:"2px",children:[e.jsx(r,{children:"APY"}),e.jsx(J,{placement:"auto-start",tooltip:e.jsx(r,{lineHeight:"20px",fontSize:"12px",children:"APY is estimated according to the trading fees and rewards earned over the past 24 hours with daily compounding to be considered."}),children:e.jsx(L,{xlinkHref:"#icon-icon_tips"})})]}),value:e.jsx(ae,{vaultsLstApyDisplay:t.vaultsLstApyDisplay,vaultsApyDisplay:t.vaultsApyDisplay,vaultsTotalApyDisplay:t.vaultsTotalApyDisplay,vaultsAprDisplay:t.vaultsAprDisplay,category:t.category}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px",fontWeight:"500"}}),e.jsx(V,{label:"Rewards",value:e.jsx(ne,{rewardList:t.vaultsRewards}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px"}}),e.jsx(V,{label:"Your Holdings",value:e.jsx(ce,{vaultId:t.vaultId,category:t.category}),labelStyle:{fontSize:"14px"},valueStyle:{fontSize:"14px",fontWeight:"500"}})]}),e.jsxs(g,{w:"100%",gap:"8px",children:[e.jsx(xe,{isOpen:l,jumpVaultsDetail:()=>{o(t.vaultId)},onExpand:s}),l&&e.jsx(de,{apiInfo:t,logo_url:c})]})]})}function Ee({openExpend:l,onExpand:s,apiInfo:t,logo_url:c,jumpVaultsDetail:o,isShowPowered:i,isShowAumLimit:p}){return e.jsxs(ie.Fragment,{children:[e.jsxs(k,{cursor:"pointer",onClick:s,sx:{td:{pb:"16px"}},children:[e.jsx(b,{children:e.jsx(ze,{poolInfo:{...t,poolAddress:t==null?void 0:t.vaultId},isShowPowered:i,symbolFontSize:"15px"})}),p?e.jsx(b,{textAlign:"right",children:Number(t==null?void 0:t.hardCapUSD)==0?e.jsx(J,{tooltip:" No capacity limit ",children:e.jsxs(g,{gap:"4px",children:[e.jsx(r,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(r,{h:"12px",lineHeight:"12px",color:"primary",bg:"primary_opacity.10",p:"0px 8px",borderRadius:"12px",children:"âˆž"})]})}):e.jsx(oe,{depositRatio:t.depositRatio,hardCapUSD:t.hardCapUSD,vaultTvl:t.vaultsTvl,textStyle:{textDecoration:"none"},value:e.jsxs(g,{alignItems:"flex-end",children:[e.jsx(r,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay}),e.jsx(re,{h:"4px",w:"80px",value:Number(t.depositRatio),bg:"primary_opacity.10",sx:{'div[role="progressbar"]':{bg:"primary"}}})]})})}):e.jsx(b,{textAlign:"right",children:e.jsx(r,{textColor:"text_caption",textAlign:"right",fontWeight:"500",children:t.vaultsTvlDisplay})}),e.jsx(b,{textAlign:"right",w:"13%",children:e.jsx(ae,{vaultsLstApyDisplay:t.vaultsLstApyDisplay,vaultsApyDisplay:t.vaultsApyDisplay,vaultsTotalApyDisplay:t.vaultsTotalApyDisplay,vaultsAprDisplay:t.vaultsAprDisplay,category:t.category})}),e.jsx(b,{textAlign:"right",w:"13%",children:e.jsx(ne,{rewardList:t.vaultsRewards})}),e.jsx(b,{textAlign:"right",children:e.jsx(ce,{vaultId:t.vaultId,category:t.category})}),e.jsx(b,{textAlign:"right",children:e.jsx(xe,{isOpen:l,jumpVaultsDetail:()=>{o(t.vaultId)}})})]}),!l&&e.jsx(k,{h:"16px"}),e.jsx(k,{cursor:"pointer",position:"relative",top:"-16px",left:"0px",sx:{td:{p:"0 !important",bg:"transparent !important",border:"none !important",_first:{borderRadius:" 16px !important"},_last:{borderRadius:"0 0 16px 0 !important"}},_hover:{bg:"transparent !important",td:{bg:"transparent !important"}}},children:l&&e.jsx(b,{colSpan:6,children:e.jsx(N,{p:"16px",borderTop:"none",borderRadius:" 0 0 16px 16px ",children:e.jsx(de,{apiInfo:t,logo_url:c})})})})]},t.vaultId)}function pe(l){const s=le(),{apiInfo:t,isShowPowered:c}=l,{lpTokenInfoObj:o}=X(),{currentAccount:i}=R(),p=h.useMemo(()=>o[t==null?void 0:t.lpTokenType],[t==null?void 0:t.lpTokenType,JSON.stringify(o)]),[y,a]=h.useState(!1),m=B=>{s(`/vaults-detail/${B}/${t==null?void 0:t.category}`)},S=()=>{a(!y)},{getVaultPosition:x}=Ve(),{lstVaultContractInfoObj:w,haedalVaultContractInfoObj:j,vaultClmmPoolContractInfoObj:f}=Le(),H=h.useMemo(()=>w[t==null?void 0:t.vaultId],[t==null?void 0:t.vaultId,JSON.stringify(w)]),v=h.useMemo(()=>j[t==null?void 0:t.vaultId],[t==null?void 0:t.vaultId,JSON.stringify(j)]),_=h.useMemo(()=>f[t==null?void 0:t.clmmPoolAddress],[t==null?void 0:t.clmmPoolAddress,JSON.stringify(f)]);h.useEffect(()=>{if(i!=null&&i.address){const B=(t==null?void 0:t.category)=="cetus"?H:v;B&&_&&x(t,_,B)}},[i==null?void 0:i.address,t==null?void 0:t.vaultId,t==null?void 0:t.clmmPoolAddress,H,v,_]);const{isApp:d}=U(),D=window.location.host,W=h.useMemo(()=>!D.includes("app.cetus.zone")&&!D.includes("cetus-cmm-pro.netlify.app")&&!D.includes("localhost:5173"),[D]);return d?e.jsx(Me,{openExpend:y,onExpand:S,apiInfo:t,logo_url:p==null?void 0:p.logo_url,jumpVaultsDetail:m,isShowPowered:c,isShowAumLimit:W}):e.jsx(Ee,{openExpend:y,onExpand:S,apiInfo:t,logo_url:p==null?void 0:p.logo_url,jumpVaultsDetail:m,isShowPowered:c,isShowAumLimit:W})}function Fe({dataList:l,showSkeletonLoading:s,showNoWallet:t,isShowPowered:c}){const{onWalletModal:o}=R();return!t&&!s&&l.length===0?e.jsx(Y,{type:"nodata",text:"No vaults found",border:"none"}):t?e.jsx(Y,{type:"nowallet",onboard:()=>o(!0),border:"none"}):s?e.jsx(Je,{itemList:[1,2,3]}):e.jsx(g,{w:"100%",mt:"20px",children:l==null?void 0:l.map(i=>e.jsx(pe,{apiInfo:i,isShowPowered:c},i.clmmPoolAddress))})}function Je({itemList:l}){return e.jsx(g,{w:"100%",mt:"20px",children:l.map(s=>e.jsxs(g,{w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",p:"8px",borderRadius:"12px",gap:"16px",children:[e.jsxs(n,{gap:"0",children:[e.jsx(I,{size:"9"}),e.jsx(I,{size:"9"}),e.jsxs(n,{gap:"4px",ml:"4px",align:"flex-start",children:[e.jsx(C,{height:"4",width:"100px"}),e.jsx(C,{height:"4",width:"60px"})]})]}),e.jsx(g,{w:"100%",gap:"16px",mt:"4px",children:[1,2,3,4].map(t=>e.jsxs(n,{w:"100%",justify:"space-between",children:[e.jsx(C,{height:"4",width:"100px"}),e.jsx(C,{height:"4",width:"100px"})]},t))}),e.jsxs(g,{w:"100%",gap:"8px",children:[e.jsx(C,{height:"8",width:"100%"}),e.jsx(C,{height:"8",width:"100%"})]})]},s))})}function qe({dataList:l,showSkeletonLoading:s,showNoWallet:t,isShowPowered:c}){const{onWalletModal:o}=R();return e.jsxs(_e,{variant:"simple_list",w:"100%",mt:"20px",children:[e.jsx(Ae,{children:e.jsxs(k,{children:[e.jsx(z,{children:"Vaults"}),e.jsx(z,{textAlign:"right",children:"TVL"}),e.jsx(z,{textAlign:"right",children:e.jsxs(n,{justify:"flex-end",gap:"2px",children:[e.jsx(r,{children:"APY"}),e.jsx(J,{tooltip:e.jsx(r,{lineHeight:"20px",fontSize:"12px",children:"APY is estimated according to the trading fees and rewards earned over the past 24 hours with daily compounding to be considered."}),children:e.jsx(L,{xlinkHref:"#icon-icon_tips"})})]})}),e.jsx(z,{textAlign:"right",children:"Earnings"}),e.jsx(z,{textAlign:"right",children:"Your Holdings"}),e.jsx(z,{textAlign:"right",children:"Action"})]})}),e.jsxs(fe,{children:[!t&&!s&&l.length===0&&e.jsx(k,{children:e.jsx(b,{colSpan:6,w:"100%",children:e.jsx(Y,{type:"nodata",text:"No vaults found",border:"none"})})}),t&&e.jsx(k,{children:e.jsx(b,{colSpan:6,w:"100%",style:{borderRadius:"16px"},children:e.jsx(Y,{type:"nowallet",onboard:()=>o(!0),border:"none"})})}),s&&e.jsx($e,{itemList:[1,2,3]}),!s&&l.map(i=>e.jsx(pe,{apiInfo:i,isShowPowered:c},i.clmmPoolAddress))]})]})}function $e({itemList:l}){return l.map(s=>e.jsxs(ie.Fragment,{children:[e.jsxs(k,{h:"110px",sx:{td:{pb:"16px"}},children:[e.jsx(b,{children:e.jsx(C,{w:"220px"})}),e.jsx(b,{textAlign:"right",children:e.jsx(n,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(n,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(n,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(n,{justifyContent:"end",children:e.jsx(C,{})})}),e.jsx(b,{textAlign:"right",children:e.jsx(n,{justifyContent:"end",children:e.jsx(C,{})})})]}),e.jsx(k,{h:"16px"})]},s))}function Ge(){const{vaultsTotalTvlDisplay:l}=X(),{isApp:s}=U();return e.jsx(g,{w:"100%",pos:"absolute",alignItems:"start",bgColor:"#000",backgroundImage:{base:"url('/images/vaults_h5.png')",lg:"url('/images/vaults.png')"},backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backdropFilter:"blur(20px)",h:{base:"260px",lg:"240px"},children:e.jsxs(g,{minW:{base:"100%",lg:"1200px"},p:{base:"20px 16px 0",lg:"40px 20px 0"},margin:"0px auto",gap:"10px",alignItems:"start",h:"100%",children:[e.jsx(n,{w:"100%",justify:"space-between",children:e.jsx(r,{color:"text_caption",fontSize:"28px",fontWeight:"500",children:"Vaults"})}),e.jsxs(r,{fontSize:"16px",whiteSpace:"wrap",lineHeight:"20px",children:["Automate your liquidity to enjoy high yield with ease.Â ",s&&e.jsxs(n,{onClick:()=>{window.open("https://medium.com/@CetusProtocol/cetus-vaults-automate-your-liquidity-to-earn-high-yield-with-ease-ed655e68122e","_blank")},display:{base:"inline-flex",lg:"flex"},_hover:{p:{color:"primary"},svg:{fill:"primary"}},children:[e.jsx(r,{fontSize:"16px",cursor:"pointer",children:"Details"}),e.jsx(L,{xlinkHref:"#icon-icon_link1",svgHover:"primary",svgW:"20px",svgH:"20px"})]})]}),!s&&e.jsxs(n,{onClick:()=>{window.open("https://medium.com/@CetusProtocol/cetus-vaults-automate-your-liquidity-to-earn-high-yield-with-ease-ed655e68122e","_blank")},display:{base:"inline-flex",lg:"flex"},_hover:{p:{color:"primary"},svg:{fill:"primary"}},children:[e.jsx(r,{fontSize:"16px",cursor:"pointer",children:"Details"}),e.jsx(L,{xlinkHref:"#icon-icon_link1",svgHover:"primary",svgW:"20px",svgH:"20px"})]}),e.jsx(r,{color:"text_caption",fontSize:"14px",mt:"20px",children:"Total Value Locked"}),e.jsx(C,{isLoaded:!!l,children:e.jsx(r,{fontWeight:"600",color:"primary",fontSize:"20px",mt:"3px",children:l})})]})})}function Qe(l){const{sortByList:s,currTab:t,tabList:c,handleChangeTab:o,currSortType:i,onSortByChange:p,sortRule:y,handleRefresh:a,handleChangeSortRule:m,selectCoinList:S,onClickSelectCoinList:x,onDeleteSelectCoinList:w,isYourHoldings:j,onClickIsYourHoldings:f,whiteTokenList:H,showSkeletonLoading:v}=l,{isApp:_}=U(),{currentAccount:d}=R();return e.jsxs(g,{w:"100%",mt:{base:"20px",lg:"40px"},justify:"space-between",children:[e.jsxs(n,{w:"100%",justify:"space-between",children:[e.jsx(De,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"415px"},h:"46px",borderRadius:{base:"8px",lg:"12px"}},itemStyle:{w:"50%",fontSize:"16px"},tabList:c,currentTab:t.label,handleChangeTab:o}),!_&&(d==null?void 0:d.address)&&e.jsx(N,{w:{base:"100%",lg:"unset"},borderRadius:"12px",p:"0px 12px",h:"40px",children:e.jsxs(n,{h:"100%",justify:"space-between",children:[e.jsx(se,{checked:j,onClick:f}),e.jsx(r,{color:j?"text_caption":"text_paragraph",children:"Your Holdings"})]})})]}),e.jsxs(n,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsx(Q,{w:{base:"100%",lg:"292px"},sx:{"> button":{minW:"100% !important"}},children:e.jsx(We,{selectCoinList:S,onClickSelectCoinList:x,onDeleteSelectCoinList:w,whiteTokenList:H})}),e.jsxs(n,{children:[e.jsx(Ne,{sortText:"Sort by",xlinkHref:y=="desc"?"#icon-icon_sort2":"#icon-icon_sort_asc1",iconOnClick:()=>{m(y==="asc"?"desc":"asc")},minW:_?"calc(100vw - 126px)":"120px",currentSort:i,sortByList:s,onSortByChange:p,wrapStyle:{borderRadius:{base:"8px",lg:"12px"}}}),e.jsx(Pe,{handleRefresh:()=>{v||a()},borderRadius:{base:"8px",lg:"12px"}})]})]}),_&&e.jsxs(n,{w:"100%",justify:"space-between",children:[e.jsx(r,{w:"100%",fontSize:"20px",color:"text_caption",children:"Vaults"}),(d==null?void 0:d.address)&&e.jsx(N,{w:{base:"100%",lg:"unset"},borderRadius:"12px",p:"0px 12px",h:"40px",children:e.jsxs(n,{h:"100%",justify:"space-between",children:[e.jsx(se,{checked:j,onClick:f}),e.jsx(r,{color:j?"text_caption":"text_paragraph",children:"Your Holdings"})]})})]})]})}function St(){const{vaultListLoading:l,setVaultListLoading:s,vaultsList:t,vaultsTokenList:c}=X(),{fetchAccountBalance:o}=Ye(),{currentAccount:i}=R(),{vaultPageList:p,getCurrentTabNum:y,fetchVaultList:a,filterVaultList:m,sortVaultList:S}=Re(),[x,w]=h.useState(!1),[j,f]=h.useState([]),{clearVaultsPositionObj:H}=K(),[v,_]=h.useState({label:"All Vaults",value:"all"}),[d,D]=h.useState({sortRule:"desc",sortType:"tvl"}),W=[{label:"APY",value:"apr"},{label:"TVL",value:"tvl"}],[B,ue]=h.useState(W[1]),he=h.useMemo(()=>[{label:"All Vaults",value:"all",num:y({sortOptions:d,currentTab:"all",isYourHoldings:x,selectCoinList:j})},{label:"Cetus",value:"cetus",num:y({sortOptions:d,currentTab:"cetus",isYourHoldings:x,selectCoinList:j})},{label:"Haedal",value:"haedal",num:y({sortOptions:d,currentTab:"haedal",isYourHoldings:x,selectCoinList:j})}],[JSON.stringify(t),x,JSON.stringify(j)]);h.useEffect(()=>{a({sortOptions:d,currentTab:v.value,isYourHoldings:x,selectCoinList:j})},[]),h.useEffect(()=>{i!=null&&i.address||(w(!1),H())},[i==null?void 0:i.address]);const[Z,A]=h.useState(0);Ue({interval:6e4,callback:()=>{A(Z+1),Z>=60&&(A(0),a({sortOptions:d,currentTab:v.value,isYourHoldings:x,selectCoinList:j},!1))}});const ge=u=>{A(0),!(v.value===u.value||l)&&(_(u),m({sortOptions:d,currentTab:u.value,isYourHoldings:x,selectCoinList:j}),s(!0),setTimeout(()=>{s(!1)},200))},je=u=>{A(0);const T={...d,sortType:u.value};ue(u),D(T),S(T,p)},ye=u=>{A(0);const T={...d,sortRule:u};D(T),S(T,p)},me=u=>{A(0),f(T=>{if(T.some($=>($==null?void 0:$.coin_type)===(u==null?void 0:u.coin_type)))return T;const O=[...T,u];return m({sortOptions:d,currentTab:v.value,isYourHoldings:x,selectCoinList:O}),O})},be=u=>{A(0),f(T=>{const q=T.filter(O=>(O==null?void 0:O.coin_type)!==(u==null?void 0:u.coin_type));return m({sortOptions:d,currentTab:v.value,isYourHoldings:x,selectCoinList:q}),q})},ve=()=>{A(0),w(!x),m({sortOptions:d,currentTab:v.value,isYourHoldings:!x,selectCoinList:j})},Se=()=>{A(0),s(!0),o(),a({sortOptions:d,currentTab:v.value,isYourHoldings:x,selectCoinList:j})},{getVaultsContractInfo:we}=He();h.useEffect(()=>{i!=null&&i.address&&we(t)},[i==null?void 0:i.address,t.length]);const{isApp:Ce}=U();return e.jsxs(g,{gap:"0px",w:"100%",children:[e.jsx(Ge,{}),e.jsx(Q,{h:{base:"260px",lg:"240px"}}),e.jsx(Qe,{sortByList:W,currTab:v,tabList:he,whiteTokenList:c,selectCoinList:j,onClickSelectCoinList:me,onDeleteSelectCoinList:be,showSkeletonLoading:l,handleChangeTab:ge,currSortType:B,onSortByChange:je,sortRule:d.sortRule,handleChangeSortRule:ye,handleRefresh:Se,isYourHoldings:x,onClickIsYourHoldings:ve}),Ce?e.jsx(Fe,{isShowPowered:v.label!=="Haedal",dataList:p,showSkeletonLoading:l}):e.jsx(qe,{isShowPowered:v.label!=="Haedal",dataList:p,showSkeletonLoading:l})]})}export{St as default};
//# sourceMappingURL=VaultsV2-8jMuPuDc.js.map
