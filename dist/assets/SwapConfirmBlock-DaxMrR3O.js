import{A as Y}from"./aggregator-BM74sPf2.js";import{u as Ze}from"./global-DtQVOJ6j.js";import{b as ws,u as As,c as Ve,A as be,d as ms,e as ys}from"./useFindBestRouting-BMIUg35j.js";import{b as ae,j as e,ap as Ae,aq as me,B as v,ao as js,at as ye,au as je,U as Ss,bJ as vs,bn as Rs,c5 as Is,cQ as Ps,r as x,bc as Bs,a5 as Xe,aH as Ms,a as zs,a8 as Cs,a9 as Ws,cR as we,bO as Hs,ad as H,aS as Le,cS as _s,aa as Fe,a1 as Es,aO as P,as as Qe,Y as X,a7 as Q,H as u,T as h,C as q,I as G,S as R,V as I,d as Os,g as M,ay as qe,e as Us,aM as Ts,a3 as B,a0 as Ge,ae as Ls,af as Fs,ag as Ys,ah as Ds,aj as Js,ak as Ns,c as Ks,$ as ce}from"./index-B0zUQ3Cp.js";import{u as Zs}from"./useAccountBalance-BdD7ybCo.js";import{u as Se}from"./useToken-C-8_jnEM.js";import{u as Ye}from"./useTokenBalance-DgQuOgL6.js";import{u as Vs}from"./useTransaction-BROrwLEz.js";import{v as De,g as le}from"./index-DQsnUHgR.js";import{C as ve}from"./CurrentPrice-ch5rOfzo.js";import{H as Xs}from"./HighlightText-B4-UCLLb.js";import{A as Je}from"./AddressCopyLink-Bd0Relyl.js";import{H as Ne}from"./HTextLabelBox-BLoxKcLW.js";import{T as Qs}from"./TradeConfirmAmountInfo-CDMgmnOt.js";import{b as qs}from"./TradeInputGroup-DjjU8vYj.js";import{C as Gs}from"./CetusTooltip-Dg4BiRP-.js";const ks="data:image/png;base64,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",$s="data:image/png;base64,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",er="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",ke={pyth:"Pyth Network",coingecko:"CoinGecko",birdeye:"Birdeye",Cetus:"Cetus"},sr={pyth:er,coingecko:$s,birdeye:ks,Cetus:"/images/img-logo@2x.png"};function rr({market:t,...n}){const{isApp:s}=ae();return e.jsxs(Ae,{isLazy:!0,trigger:s?"click":"hover",children:[e.jsx(me,{children:e.jsx(v,{flexShrink:0,children:e.jsx(js,{w:"16px",h:"16px",src:sr[t],...n,flexShrink:0})})}),e.jsx(ye,{w:"unset",children:e.jsx(je,{fontSize:"12px",children:ke[t]})})]})}var tr=1,ir=4;function or(t){return qs(t,tr|ir)}const nr=(t,n)=>({providersSwitchStates:{[ws.CETUS]:!0},setProvidersSwitchStates:s=>{const r=n().providersSwitchStates;t(()=>({providersSwitchStates:{...r,...s}}))},supportOrderSplit:!0,setSupportOrderSplit:s=>{t(()=>({supportOrderSplit:s}))}}),cr=Ss(vs(nr,{name:"useSwapConfigStore"})),lr=new Is({url:Ps("mainnet")}),ar=["0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x960b531667636f39e85867775f52f6b1f220a058c4de786905bdf761e06a56bb::usdy::USDY","0x294de7579d55c110a00a7c4946e09a1b5cbeca2592fbb83fd7bfacba3cfeaf0e::drf::DRF"],pr=["deny_list","DenyList","DenyCap","create_regulated_currency"],xr={showType:!0,showContent:!0,showOwner:!1,showPreviousTransaction:!1,showStorageRebate:!1,showDisplay:!1},dr=async t=>{let n=!1;if(ar.includes(t))return n;const s=t.split("::"),r=s[0]&&Rs(s[0]),p=s[1],i=await lr.getObject({id:r,options:xr}),o="disassembled"in i.data.content?i.data.content.disassembled[p]:null;return o&&typeof o=="string"&&new RegExp(pr.join("|"),"i").test(o)&&(n=!0),n};function Ke(t){const[n,s]=x.useState(),r=async p=>{if(p.is_trusted)return!1;try{const i=await dr(p.coin_type);return console.log("ðŸš€ ~ file: useCheckTokenScamsAlert.ts:24 ~ checkIsScamsCoin ~ isScamsCoin:",i),i}catch(i){console.log("ðŸš€ ~ file: useCheckTokenScamsAlert.ts:19 ~ checkTokenScams ~ error:",i)}return!1};return x.useEffect(()=>{s(void 0),t&&r(t).then(p=>{s(p)})},[t==null?void 0:t.coin_type]),{isScamsCoin:n}}const ur="0xeb863165a109f7791a3182be08aff1438ab2a429314fc135ae19d953afe1edd6";function Ur(t,n){const{fromCoin:s,toCoin:r,setFromCoin:p,setToCoin:i,setToAmount:o,fromAmount:d,toAmount:l,setFromAmount:c,routerData:f,setFindRouterLoading:b,setRouterData:y,setByAmountIn:w,byAmountIn:g}=t,{from:j,to:A}=Bs(),{findBestRouters:pe,checkProvidersKeys:xe}=As(),{fetchTokenPrices:de,getTokenAmountValue:k}=Xe(),{slippage:$,mevProtect:_,maxCapForGas:O,transactionMode:ee,customGasPrice:ue}=Ze(),{aggregatorSDK:se}=Ms(),S=zs(),{fetchTokenInfo:re}=Se(),[he,te]=x.useState(!1),{signAndExecuteTransaction:ts,transactionConfirmation:is}=Vs(),{providersSwitchStates:Re,supportOrderSplit:wr}=cr(),{fetchAccountBalance:os}=Zs(),{balanceInfo:ns}=Ye(s),{balanceInfo:cs}=Ye(r),ls=k(s==null?void 0:s.coin_type,d),as=k(r==null?void 0:r.coin_type,l),[Ie,Pe]=x.useState(""),Be=x.useRef(""),ie=x.useRef(!0),D=x.useRef(""),J=x.useRef(""),N=x.useRef(),K=x.useRef(),Me=x.useRef([]);x.useEffect(()=>{N.current=s},[s]),x.useEffect(()=>{K.current=r},[r]),x.useEffect(()=>{Be.current=Ie},[Ie]),x.useEffect(()=>{ie.current=g},[g]),x.useEffect(()=>{D.current=d},[d]),x.useEffect(()=>{J.current=l},[l]);const ze=x.useMemo(()=>String(A)+String(j),[j,A]);x.useEffect(()=>{console.log("ðŸš€ ~ useSwapHook ~ fromToString:",ze),n||ps()},[ze]);const ps=async()=>{!j&&!A?(p(Fe.clmm_swap.from_coin),i(Fe.clmm_swap.to_coin)):(j&&re(j).then(a=>{a?(a==null?void 0:a.coin_type)!==(s==null?void 0:s.coin_type)&&p(a):S(`/swap/undefined/${r==null?void 0:r.coin_type}`)}).catch(()=>{S(`/swap/undefined/${r==null?void 0:r.coin_type}`)}),A&&re(A).then(a=>{a?(a==null?void 0:a.coin_type)!==(r==null?void 0:r.coin_type)&&i(a):S(`/swap/${s==null?void 0:s.coin_type}/undefined`)}).catch(()=>{S(`/swap/${s==null?void 0:s.coin_type}/undefined`)}))},Ce=Cs(async(a,m,z)=>{if(N.current&&K.current&&+a){const E=n?Object.entries(Y).map(([W,L])=>W):Object.entries(Re).filter(([W,L])=>L===!0).map(([W,L])=>W);(+D.current||+J.current)&&b(!0);const T=await xe(E),He=Ws(a,m?N.current.decimals:K.current.decimals),C=await pe({fromToken:N.current,toToken:K.current,amount:He.toString(),providersKeys:T,by_amount_in:m,uuid:z});b(!1),Be.current===z&&(Me.current=T,m?+D.current?(o(C.toAmountUi||""),y(C)):o(""):+J.current?(c(C.fromAmountUi||"ÃŸ"),y(C)):c(""))}else Z(!m)},500),xs=(a,m,z=!1)=>{if(w(m),m?(c(a),z&&o("")):(o(a),z&&c("")),+a){const E=De();Pe(E),Ce(a,m,E)}else b(!1),y(void 0),a!=="0"?Z():m?o(""):c("")},U=()=>{const a=ie.current?D.current:J.current;if(console.log("ðŸš€ ~ file: useSwap.ts:273 ~ reCalculateRouteData ~ amount:",a,ie.current,D.current,J.current),+a){const m=De();Pe(m),Ce(a,ie.current,m)}};x.useEffect(()=>{U()},[JSON.stringify(Re)]);const ds=(a,m=!0)=>{Z(),n?m?(a&&(a==null?void 0:a.coin_type)===(r==null?void 0:r.coin_type)&&i(s),p(a)):(a&&(a==null?void 0:a.coin_type)===(s==null?void 0:s.coin_type)&&p(r),i(a)):m?a&&(a==null?void 0:a.coin_type)===(r==null?void 0:r.coin_type)?S(`/swap/${a==null?void 0:a.coin_type}/${s==null?void 0:s.coin_type}`):S(`/swap/${a==null?void 0:a.coin_type}/${r==null?void 0:r.coin_type}`):a&&(a==null?void 0:a.coin_type)===(s==null?void 0:s.coin_type)?S(`/swap/${r==null?void 0:r.coin_type}/${a==null?void 0:a.coin_type}`):S(`/swap/${s==null?void 0:s.coin_type}/${a==null?void 0:a.coin_type}`)},{amountLimit:us}=Ve($,f),Z=a=>{a===void 0?(c(""),o("")):a?c(""):o(""),b(!1),y(void 0)};x.useEffect(()=>{We()},[s==null?void 0:s.coin_type,r==null?void 0:r.coin_type]);const We=()=>{const a=[];s&&a.push(s.coin_type),r&&a.push(r.coin_type),a.length>0&&de(a)},hs=()=>({...f}),fs=async a=>{var z,E;let m;try{const{routerData:T,byAmountIn:He,fromAmountUi:C,toAmountUi:W}=a,L=new Hs,F={routers:T,partner:ur,txb:L,slippage:Number($),refreshAllCoins:!0};te(!1),console.log("ðŸš€ ~ file: useSwap.ts:261 ~ doSwapAction ~ params:",F),m={isSwapWidget:n,actionType:"swap",getShowInfo:(Ee,fe)=>{const ge=`Swapping ${H(C)} ${s==null?void 0:s.symbol} for ${H(W)} ${r==null?void 0:r.symbol}`,V={modalDescriptionText:ge,toastTitleText:ge};if(Ee==="success"){let Oe=C,Ue=W;fe&&(Oe=Le(fe,s)||C,Ue=Le(fe,r)||W);const Te=`Swapped ${H(Oe)} ${s==null?void 0:s.symbol} for ${H(Ue)} ${r==null?void 0:r.symbol}`;V.toastDescriptionContent=Te,V.modalDescriptionText=Te,V.toastTitleText="Swap Successful"}return Ee==="rejected"&&(V.toastTitleText=ge.replace("Swapping","Swap")),V}},n||is(m);const _e=await ts(async()=>(await se.fastRouterSwap(F),L),m,{useMev:_,useFastMode:ee==="Fast Mode",maxCapForGas:O,customGasPrice:ue,msafeParams:{action:"AggregatorSwap",txbParams:{...F,routers:_s(F==null?void 0:F.routers)}},otherParams:{routerData:t.routerData,providerKey:Me.current,from:(z=N.current)==null?void 0:z.coin_type,to:(E=K.current)==null?void 0:E.coin_type}});return console.log("ðŸš€ ~ file: useSwap.ts:272 ~ doSwapAction ~ res:",_e),_e?(Z(),os(),!0):(U(),!1)}catch(T){console.log("ðŸš€ ~ doSwapAction ~ error text:",T)}},{isScamsCoin:oe}=Ke(s),{isScamsCoin:ne}=Ke(r),gs=x.useMemo(()=>{if(!(!oe&&!ne)){if(oe&&ne&&(s!=null&&s.symbol)&&(r!=null&&r.symbol))return`${s==null?void 0:s.symbol} and ${r==null?void 0:r.symbol} are`;if(oe&&(s!=null&&s.symbol))return`${s==null?void 0:s.symbol} token is `;if(ne&&(r!=null&&r.symbol))return`${r==null?void 0:r.symbol} token is `}},[oe,ne,s==null?void 0:s.coin_type,r==null?void 0:r.coin_type]),bs=async a=>{a?(n?(p(r),i(s)):S(`/swap/${r==null?void 0:r.coin_type}/${s==null?void 0:s.coin_type}`),c(l),o(""),w(!0),await we(200),U()):g?(n?(p(r),i(s)):S(`/swap/${r==null?void 0:r.coin_type}/${s==null?void 0:s.coin_type}`),c(""),o(d),w(!1),await we(200),U()):(n?(p(r),i(s)):S(`/swap/${s==null?void 0:s.coin_type}/${r==null?void 0:r.coin_type}`),c(l),o(""),w(!0),await we(200),U())};return x.useEffect(()=>()=>{n||(p(void 0),i(void 0)),c(""),o("")},[]),{handleSelectToken:ds,handleAmountChange:xs,fromAmount:d,toAmount:l,fromAmountValue:ls,toAmountValue:as,amountLimit:us,getSwapSecondaryData:hs,reCalculateRouteData:U,fromBalanceInfo:ns,toBalanceInfo:cs,doSwapAction:fs,scamsText:gs,refreshMarketPrice:We,isOpenConfirmModel:he,setIsOpenConfirmModel:te,resetInputAmount:Z,onReverseClick:bs}}function Tr(t,n,s,r,p,i){const{currentAccount:o}=Es(),d=x.useMemo(()=>{const l={text:"Swap",disabled:!1};if(!(o!=null&&o.address))return l.text="Connect Wallet",l.disabled=!1,l;if(!r||!p)return l.text="Select a token",l.disabled=!0,l;if(!+t&&!+n)return l.text="Enter an amount",l.disabled=!0,l;if(i&&i.errorCode){if(i.errorCode===be.InsufficientLiquidity)return l.text="Insufficient liquidity for this trade",l.disabled=!0,l;if(i.errorCode===be.NoRouter||i.errorCode===be.HoneyPot)return l.text="No Available Route",l.disabled=!0,l}return+t&&P(t).gt(s||0)?(l.disabled=!0,l.text=`Insufficient ${Qe(r==null?void 0:r.symbol,10)} Balance`,l):((!+t||!+n)&&(l.disabled=!0),l)},[o==null?void 0:o.address,t,n,s,i==null?void 0:i.errorCode,r,p]);return{btnText:d.text,btnDisabled:d.disabled}}function $e(t,n,s,r){const{getTokenPrice:p}=Xe(),i=p(t==null?void 0:t.coin_type),o=p(n==null?void 0:n.coin_type),d=ms(s,r),l=x.useMemo(()=>{if(o&&i)return P(i.price).div(o.price).toString()},[i==null?void 0:i.price,o==null?void 0:o.price]),c=x.useMemo(()=>{if(l&&+d)return P(d).sub(l).div(d).mul(100).toFixed(10)},[l,d]),f=x.useMemo(()=>{const g=[];return i&&g.push(i.market),o&&!g.includes(o.market)&&g.push(o.market),g},[i==null?void 0:i.market,o==null?void 0:o.market]),b=x.useMemo(()=>c&&P(c).lt(0)?P(c).abs().gt(5):!1,[c]),y=x.useMemo(()=>c&&P(c).lt(0)?P(c).abs().gt(10):!1,[c]),w=x.useMemo(()=>{let g,j="primary_yellow";if(c)if(P(c).gt(0))j="primary_green",P(c).lt(.1)?g="< 0.1% cheaper than":g=`${X(c,2,!0,Q.ROUND_UP)}% cheaper than`;else if(P(c).eq(0))g="0%",j="primary_green";else{const A=P(c).abs();A.lte(5)?(j="primary_green",g=`Within ${X(A.toString(),2,!0,Q.ROUND_UP)}%`):A.lte(10)?(j="primary_yellow",g=`${X(A.toString(),2,!0,Q.ROUND_UP)}% more than`):A.lte(100)?(j="primary_red",g=`${X(A.toString(),2,!0,Q.ROUND_UP)}% more than`):(j="primary_red",g="> 100% more than")}return{priceImpactText:g,textColor:j}},[c]);return{swapPrice:d,marketPrice:l,priceImpact:c,sources:f,showPriceImpactTips:b,showPriceImpactWarn:y,priceImpactTextInfo:w}}function es(t){const{fromToken:n,toToken:s,marketPrice:r,priceImpact:p,sources:i=[],isWidget:o=!1,isLoading:d}=t;return e.jsxs(u,{justify:"space-between",w:"100%",gap:"4px",flexWrap:"wrap",children:[e.jsxs(u,{w:"132px",alignItems:"end",gap:"4px",children:[e.jsx(h,{whiteSpace:"nowrap",fontSize:o?"12px":"14px",h:"20px",lineHeight:"20px",fontWeight:"500",children:"Price Difference"}),e.jsx(Gs,{tooltip:e.jsx(hr,{marketPrice:r,sources:i,fromToken:n,toToken:s}),children:e.jsx(q,{children:e.jsx(G,{xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}),e.jsx(R,{isLoaded:!d,h:"20px",children:e.jsxs(u,{justify:"flex-end",children:[e.jsx(h,{maxW:o?`calc(90vw - 56px - ${24*((i==null?void 0:i.length)||0)}px)`:"unset",flex:"1",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:p==null?void 0:p.textColor,fontWeight:"500",fontSize:o?"12px":"14px",children:p!=null&&p.priceImpactText?p==null?void 0:p.priceImpactText:"Incalculable"}),i==null?void 0:i.map(l=>e.jsx(rr,{market:l},l))]})})]})}function hr(t){const{marketPrice:n,sources:s,fromToken:r,toToken:p}=t;return e.jsxs(I,{className:"price-impactg-tips",w:"100%",align:"flex-start",gap:"12px",children:[e.jsx(h,{color:"content_text",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The difference between the market price and estimated price due to trade size."}),e.jsxs(I,{w:"100%",align:"flex-start",children:[e.jsx(h,{fontSize:"12px",color:"text_caption",children:"Market price sources:"}),n?e.jsx(ve,{fontSize:"12px",fromToken:r,toToken:p,fromValue:"1",toValue:n,color:"text_caption"}):e.jsx(h,{color:"primary_yellow",fontSize:"12px",children:"Price is unknown"})]}),n&&e.jsxs(u,{w:"100%",children:[e.jsx(h,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:"Market price sources:"}),e.jsx(h,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:s.map(i=>ke[i]+"  ")})]})]})}function Lr(t){const{fromCoin:n,toCoin:s,findRouterLoading:r,isWidget:p=!1,routerData:i,bg:o="primary_opacity.10"}=t,{marketPrice:d,priceImpact:l,sources:c,priceImpactTextInfo:f}=$e(n,s,i==null?void 0:i.fromAmountUi,i==null?void 0:i.toAmountUi);return e.jsxs(I,{w:"100%",p:"8px",gap:"8px",bg:o,borderRadius:"12px",align:"flex-start",children:[e.jsx(ve,{fromToken:n,toToken:s,fromValue:i==null?void 0:i.fromAmountUi,toValue:i==null?void 0:i.toAmountUi,isLoading:r,color:"text_caption",fontSize:p?"12px":"14px"}),Os(l).lte(-30)&&e.jsxs(u,{w:"100%",justify:"flex-start",children:[e.jsx(G,{xlinkHref:"#icon-warning",svgFill:"primary_red",svgHover:"primary_red",fontSize:"16px"}),e.jsx(h,{color:"primary_red",fontSize:"12px",lineHeight:"20px",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})]}),e.jsx(es,{fromToken:n,isWidget:p,toToken:s,marketPrice:d,priceImpact:f,isLoading:r,sources:c})]})}function Fr({scamsText:t}){return e.jsxs(I,{borderRadius:"8px",border:"1px solid",borderColor:"border",pt:"12px",maxW:"480px",children:[e.jsxs(u,{children:[e.jsx(G,{xlinkHref:"#icon-icon_priceupdated",svgFill:"primary_yellow",svgHover:"primary_yellow",svgW:"20px",svgH:"20px"}),e.jsx(h,{color:"primary_yellow",children:"Alert"})]}),e.jsx(v,{bg:"card_bg",borderRadius:"8px",p:"11px",children:e.jsx(Xs,{text:`${t}  detected to have Deny List feature. It's an optional feature on Sui designed for regulated coins (learn more). However, it could be misused by HoneyPot scams, which may restrict users from selling the tokens after buying. Please be cautious.`,keywords:["learn more"],onKeywordClick:()=>{window.open("https://docs.sui.io/guides/developer/coin/regulated","_blank")}})})]})}const ss=({data:t,children:n,loading:s,isSwapWidget:r})=>{var o,d,l;const{getTokenInfo:p}=Se(),{isApp:i}=ae();return(t==null?void 0:t.providers)&&e.jsx(R,{isLoaded:!s,minW:"128px",minH:"20px",lineHeight:"20px",children:e.jsxs(u,{w:"100%",gap:"4px",align:"center",justify:"flex-end",wrap:"wrap",children:[(t==null?void 0:t.router_summery)!=="1 Streams"?e.jsx(h,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",overflowWrap:"break-word",children:t==null?void 0:t.router_summery}):e.jsx(e.Fragment,{children:e.jsx(h,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",textAlign:"right",overflowWrap:"break-word",children:(d=(o=t==null?void 0:t.routers[0])==null?void 0:o.paths)==null?void 0:d.map((c,f)=>{var b,y,w;return f===0?`${(b=p(c==null?void 0:c.from_type))==null?void 0:b.symbol} > ${(y=p(c==null?void 0:c.to_type))==null?void 0:y.symbol}`:(w=p(c==null?void 0:c.to_type))==null?void 0:w.symbol}).join(" > ")})}),(l=t==null?void 0:t.providers)==null?void 0:l.map(c=>i&&n?e.jsx(M,{w:"16px",h:"16px",imageUrl:Y[c].logo}):e.jsxs(Ae,{isLazy:!0,trigger:i?"click":"hover",children:[e.jsx(me,{children:e.jsx(v,{children:e.jsx(M,{w:"16px",h:"16px",imageUrl:Y[c].logo})})}),e.jsx(qe,{children:e.jsx(ye,{w:"unset",children:e.jsx(je,{fontSize:"12px",children:Y[c].name})})})]},c)),n]})})};function rs({children:t,fromToken:n,toToken:s,poolAddress:r}){const{isApp:p}=ae(),{getExplorerUrl:i}=Us();return e.jsxs(Ae,{isLazy:!0,trigger:p?"click":"hover",children:[e.jsx(me,{children:t}),e.jsx(qe,{children:e.jsx(ye,{w:"unset",minW:"unset",children:e.jsx(je,{p:"12px",children:e.jsxs(I,{w:"100%",gap:"12px",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{w:"100%",justify:"space-between",h:"20px",p:"0",children:[e.jsx(u,{children:e.jsx(h,{fontSize:"12px",color:"text_caption",children:"Pool"})}),e.jsx(Je,{address:r,color:"text_caption",showLink:!!p,onClickLink:()=>{window.open(i(r,"poolAddress"),"_blank")}})]}),e.jsx(Ts,{orientation:"horizontal",borderColor:"border"})]}),[n,s].map(o=>e.jsxs(u,{w:"100%",justify:"space-between",gap:"12px",children:[e.jsxs(u,{children:[e.jsx(M,{imageUrl:o==null?void 0:o.logo_url,w:"24px",h:"24px",coinType:o?o==null?void 0:o.coin_type:"",showTagWidth:"10px",showTagHeight:"10px"}),e.jsx(I,{align:"flex-start",gap:"0px",children:e.jsx(h,{fontSize:"12px",color:"text_caption",fontWeight:"500",children:Qe((o==null?void 0:o.symbol)||"",10)})})]}),e.jsx(Je,{color:"primary_gray",showLink:!!p,address:o==null?void 0:o.coin_type,onClickLink:()=>window.open(i(o==null?void 0:o.coin_type,"coin"))})]},o==null?void 0:o.coin_type))]})})})})]})}const fr=({fromToken:t,toToken:n,fromAmount:s,toAmount:r,routes:p,loading:i})=>e.jsxs(I,{w:"100%",align:"center",p:"20px 0 8px",children:[e.jsx(u,{children:i?e.jsxs(e.Fragment,{children:[e.jsx(B,{w:"28px",h:"28px"}),e.jsxs(v,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(R,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(R,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(h,{color:"text_caption",children:H(s||"0")}),e.jsx(h,{children:t==null?void 0:t.symbol})]})}),e.jsx(v,{w:"100%",bg:"bg_secondary",p:"20px 8px",borderRadius:"8px",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"},_after:{content:'""',position:"absolute",bottom:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"}},children:e.jsx(I,{gap:i?"56px":"16px",border:"1px dashed",borderColor:"border",borderRadius:"8px",p:i?"36px 0":"16px 0",children:p==null?void 0:p.map((o,d)=>e.jsxs(u,{w:"100%",gap:"0",justify:"space-between",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}},children:[!i&&e.jsx(q,{borderRadius:"12px",h:"24px",bg:"h5_router_percentage_bg",p:"6px 12px",ml:"20px",zIndex:2,children:e.jsx(h,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:le(o.percentage)})}),e.jsx(I,{w:"100%",align:"center",sx:o.paths.length>1&&!i?{position:"relative",_before:{content:'""',backgroundColor:"bg_secondary",position:"absolute",top:"20px",right:"16px",width:"calc(100% - 32px)",height:"calc(100% - 40px)",border:"1px dashed",borderColor:"border",borderRadius:"8px",zIndex:2}}:{},children:i?e.jsx(e.Fragment,{children:e.jsxs(u,{gap:"8px",position:"absolute",h:"40px",top:"-20px",borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:2,children:[e.jsxs(u,{gap:"0",children:[e.jsx(B,{w:"24px",h:"24px"}),e.jsx(B,{w:"24px",h:"24px"})]}),e.jsxs(v,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(R,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(R,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):o.paths.map(l=>{var c,f,b;return e.jsx(rs,{fromToken:l==null?void 0:l.fromToken,toToken:l==null?void 0:l.toToken,poolAddress:l==null?void 0:l.pool_address,children:e.jsxs(u,{borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:3,children:[e.jsx(Ge,{coinAIconUrl:(c=l.fromToken)==null?void 0:c.logo_url,coinBIconUrl:(f=l.toToken)==null?void 0:f.logo_url,w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(h,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(b=Y[l.provider])==null?void 0:b.name}),!!+l.fee_rate&&e.jsx(q,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(h,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:le(l.fee_rate)})})]},l.to_type)},l.to_type)})})]},d))})}),e.jsx(u,{children:i?e.jsxs(e.Fragment,{children:[e.jsx(B,{w:"28px",h:"28px"}),e.jsxs(v,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(R,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(R,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{imageUrl:n==null?void 0:n.logo_url,w:"28px",h:"28px",coinType:n==null?void 0:n.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(h,{color:"text_caption",children:H(r||"0")}),e.jsx(h,{children:n==null?void 0:n.symbol})]})})]}),gr=({fromToken:t,toToken:n,fromAmount:s,toAmount:r,routes:p,loading:i})=>{var o;return e.jsxs(I,{w:"100%",gap:"12px",children:[e.jsxs(u,{w:"100%",justify:"space-between",children:[e.jsx(u,{borderRadius:"14px",h:"28px",p:"0 12px 0 0 ",children:i?e.jsxs(e.Fragment,{children:[e.jsx(B,{w:"28px",h:"28px"}),e.jsxs(v,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(R,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(R,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(h,{color:"text_caption",children:H(s||"0")}),e.jsx(h,{children:t==null?void 0:t.symbol})]})}),e.jsx(u,{borderRadius:"14px",h:"28px",p:"0 0 0 12px",children:i?e.jsxs(e.Fragment,{children:[e.jsxs(v,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(R,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(R,{pos:"absolute",right:"0",w:"100%",h:"14px"})]}),e.jsx(B,{w:"28px",h:"28px"})]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{color:"text_caption",children:H(r||"0")}),e.jsx(h,{children:n==null?void 0:n.symbol}),e.jsx(M,{imageUrl:n==null?void 0:n.logo_url,w:"28px",h:"28px",coinType:n==null?void 0:n.coin_type,showTagWidth:"12px",showTagHeight:"12px"})]})})]}),e.jsxs(v,{w:"100%",bg:"bg_secondary",p:"32px 24px",borderRadius:"12px",position:"relative",children:[e.jsx(v,{position:"absolute",left:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"0px 100px 100px 0px",zIndex:2,children:i?e.jsx(B,{w:"24px",h:"24px"}):e.jsx(M,{imageUrl:t==null?void 0:t.logo_url,w:"24px",h:"24px",coinType:t==null?void 0:t.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(v,{position:"absolute",right:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"100px 0px 0px 100px",zIndex:2,children:i?e.jsx(B,{w:"24px",h:"24px"}):e.jsx(M,{imageUrl:n==null?void 0:n.logo_url,w:"24px",h:"24px",coinType:n==null?void 0:n.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(I,{gap:"32px",border:"1px dashed",borderBottom:((o=p||[])==null?void 0:o.length)>1?"1px dashed":"none",borderColor:"border",borderRadius:"8px",children:p==null?void 0:p.map((d,l)=>e.jsxs(u,{mt:l===0?"-20px":0,mb:l===p.length-1?"-20px":0,w:"100%",justify:"space-between",gap:"0",sx:l>0&&l<p.length-1?{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}}:{position:"relative"},children:[!i&&e.jsx(q,{borderRadius:"12px",h:"24px",bg:"card_bg",p:"8px 12px",ml:"40px",zIndex:2,position:"absolute",children:e.jsx(h,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:le(d.percentage)})}),e.jsx(u,{h:"40px",w:"100%",justify:"center",zIndex:2,children:i?e.jsx(e.Fragment,{children:e.jsxs(u,{gap:"8px",position:"absolute",h:"40px",borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsxs(u,{gap:"0",children:[e.jsx(B,{w:"24px",h:"24px"}),e.jsx(B,{w:"24px",h:"24px"})]}),e.jsxs(v,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(R,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(R,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):d.paths.map(c=>{var f,b,y;return e.jsx(rs,{fromToken:c==null?void 0:c.fromToken,toToken:c==null?void 0:c.toToken,poolAddress:c==null?void 0:c.pool_address,children:e.jsxs(u,{borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsx(Ge,{coinAIconUrl:(f=c.fromToken)==null?void 0:f.logo_url,coinBIconUrl:(b=c.toToken)==null?void 0:b.logo_url,variant:"",p:"0px",w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(h,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(y=Y[c.provider])==null?void 0:y.name}),!!+c.fee_rate&&e.jsx(q,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(h,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:le(c.fee_rate)})})]})},c.to_type)})})]},l))})]})]})},br=({isOpen:t,onClose:n,data:s,fromCoin:r,toCoin:p,fromAmount:i,toAmount:o})=>{var g;const{isApp:d}=ae(),{getTokenInfo:l}=Se(),c=(g=s==null?void 0:s.routers)==null?void 0:g.map(j=>({...j,paths:j.paths.map(A=>({...A,fromToken:l(A.from_type),toToken:l(A.to_type)}))})),f={fromToken:r,toToken:p,fromAmount:i,toAmount:o,routes:c},[b,y]=x.useState(!0),w=x.useRef(null);return x.useEffect(()=>(w.current&&(clearTimeout(w.current),w.current=null),w.current=setTimeout(()=>{y(!1)},200),()=>{w.current&&(clearTimeout(w.current),w.current=null)}),[]),e.jsxs(Ls,{autoFocus:!1,returnFocusOnClose:!1,isOpen:t,onClose:n,isCentered:!0,children:[e.jsx(Fs,{}),e.jsxs(Ys,{maxW:"1200px",w:d?"calc(100vw - 32px)":"880px",children:[e.jsx(Ds,{mr:"-10px",children:e.jsxs(u,{w:"100%",gap:"24px",justify:"space-between",align:"center",children:[e.jsx(h,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Route"}),e.jsxs(u,{gap:"0",align:"center",children:[e.jsx(ss,{data:s}),e.jsx(Js,{mt:"0",position:"static"})]})]})}),e.jsx(Ns,{p:{base:"8px 16px",lg:"16px"},children:d?e.jsx(fr,{...f,loading:b}):e.jsx(gr,{...f,loading:b})})]})]})};function Yr(t){const{formatSwapRouter:n,findRouterLoading:s,fromAmount:r,toAmount:p,fromCoin:i,toCoin:o,isSwapWidget:d=!1,handleSwapWidgetRouterClick:l}=t,[c,f]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(u,{w:"100%",justify:"space-between",p:"0 8px",children:[e.jsx(h,{fontSize:d?"12px":"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Auto Router"}),e.jsx(v,{onClick:b=>{Ks(b),d?l&&l():f(!c)},cursor:"pointer",children:e.jsx(ss,{data:n,loading:s,isSwapWidget:d,children:e.jsx(G,{xlinkHref:"#icon-icon_spread",fontSize:"16px"})})})]}),c&&!d&&e.jsx(br,{isOpen:c,onClose:()=>f(!1),fromCoin:i,toCoin:o,data:n,fromAmount:r,toAmount:p})]})}function Dr(t){const{lastRouterData:n,fromCoin:s,toCoin:r,onClose:p,data:i,onSubmitClick:o,isWidget:d}=t,{slippage:l}=Ze(),c=x.useRef(!1),[f,b]=x.useState(i),{fromAmountUi:y,toAmountUi:w,byAmountIn:g}=f,{amountLimit:j}=Ve(l,f),[A,pe]=x.useState(!1),{priceImpactTextInfo:xe,marketPrice:de,sources:k,showPriceImpactTips:$,showPriceImpactWarn:_}=$e(s,r,y,w),{priceAcceptRouterData:O}=ys(f,n),[ee,ue]=x.useState(!1),se=x.useMemo(()=>O!==void 0,[O]),S=x.useMemo(()=>g?r:s,[g]),re=()=>{if(O){if(c.current)return;c.current=!0;const te=or(O);b(te),setTimeout(()=>{c.current=!1},300)}},he=x.useMemo(()=>A?!1:!!_,[A,_]);return e.jsxs(I,{textAlign:"center",p:"0px",w:"100%",children:[e.jsxs(I,{w:"100%",gap:"16px",pl:"16px",pr:"16px",pb:"16px",children:[e.jsx(Qs,{bg:d?"swap_bg_primary":"bg_primary",coinA:{amount:y||"0",...s},iconParams:{xlinkHref:"#icon-a-icon_trade",svgFill:"text_caption",fontSize:"12px"},coinB:{amount:w||"0",...r}}),e.jsx(u,{w:"100%",minH:"48px",bg:d?"swap_bg_primary":"bg_primary",borderRadius:"8px",border:"1px solid",borderColor:"border",justifyContent:"center",zIndex:"100",children:e.jsx(ve,{fromToken:s,toToken:r,fromValue:y,toValue:w,color:"text_caption"})}),$&&e.jsx(u,{zIndex:"99",w:"100%",mt:"-26px",bg:_?"primary_red_opacity.10":"primary_yellow_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"center",p:"18px 16px 10px",children:e.jsx(h,{color:_?"primary_red":"primary_yellow",fontSize:"12px",lineHeight:"20px",textAlign:"start",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})}),e.jsx(Ne,{wrapStyle:{h:"20px",lineHeight:"20px"},label:"Slippage Tolerance",labelStyle:{fontSize:"14px"},value:`${P(l).mul(100)}%`,valueStyle:{fontSize:"14px"}}),e.jsx(Ne,{wrapStyle:{h:"20px",lineHeight:"20px"},label:g?"Minimum Received":"Maximum Input",labelStyle:{fontSize:"14px"},value:`${X(j||0,S==null?void 0:S.decimals,!1,Q.ROUND_DOWN).toString()} ${S==null?void 0:S.symbol}`,valueStyle:{fontSize:"14px"}}),e.jsx(es,{fromToken:s,toToken:r,sources:k,marketPrice:de,priceImpact:xe}),_&&e.jsxs(I,{w:"100%",gap:"8px",children:[e.jsx(u,{w:"100%",bg:"primary_red_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"start",p:"10px 16px",children:e.jsx(h,{color:"primary_red",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The exchange rate of this order deviates from the market price by a large percentage. Are you sure you want to continue the swap?"})}),e.jsxs(u,{w:"100%",justifyContent:"space-between",gap:"16px",children:[e.jsx(ce,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:A?"text_highlight":"button_outline_border",onClick:()=>{pe(!0)},children:"Yes, please continue."}),e.jsx(ce,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:"button_outline_border",onClick:p,children:"No,cancel it."})]})]}),se&&e.jsxs(u,{w:"100%",justifyContent:"space-between",children:[e.jsxs(u,{children:[e.jsx(G,{xlinkHref:"#icon-icon_priceupdated1",svgW:"20px",svgH:"20px"}),e.jsx(h,{color:"text_caption",fontWeight:"500",fontSize:"14px",children:"Price updated"})]}),e.jsx(ce,{onClick:re,h:"40px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",p:"0 42px",children:"Accept"})]})]}),!se&&e.jsx(ce,{disabled:he,isLoading:ee,mt:"4px",w:"100%",h:"52px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",onClick:()=>{ee||(ue(!0),o(f))},children:"Confirm Swap"})]})}export{fr as H,rr as M,ss as O,Lr as P,Fr as S,Tr as a,Yr as b,Dr as c,cr as d,Ur as u};
