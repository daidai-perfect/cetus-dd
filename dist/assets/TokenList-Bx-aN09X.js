import{a as h,j as o,F as z,T as D,t as $,f as y,X as J,Z as X,$ as Y,H as Z,a0 as K,a1 as Q,C as P,v as L}from"./vendor-BulRdKUe.js";import{A as E,I as w,s as G,j as k,H as ee,d as oe,F as ne,G as se,bH as te,a as ae,bI as ie,n as re,a3 as le,bJ as ce}from"./index-BnmCMmyx.js";import{L as pe}from"./Loading-CEW9oCbv.js";import{N as xe}from"./NoData-fdoVeTOA.js";import{S as W}from"./SingleTokenInfo-B8DVf7p2.js";import{u as de}from"./useTokenBalance-CEc7kzw3.js";import{B as ue}from"./BackButton-CECzQEd-.js";import{T as he}from"./TokenGoplusCard-43vhRb8Y.js";import{u as fe}from"./index-XJqYoN8U.js";import"./useToken-C59GtM4K.js";import"./CopyButton-DTp8q2dZ.js";import"./useAccountBalance-rsIdIWdA.js";import"./HTextLabelBox-BpcuJxcz.js";const me=({keyword:e,currentTab:s,isHaveImg:t})=>{const{filterTokenLoading:p}=E(),x=h.useMemo(()=>{if(e)return"No tokens found";if(!e&&s==="Imported")return"No Imported Tokens";if(!e&&s==="Watchlist")return"No date avalaible"},[e,s]),d=h.useMemo(()=>e?o.jsxs(z,{alignItems:"center",children:[o.jsx(D,{height:"20px",lineHeight:"20px",children:"Or you can enter Coin Type"}),o.jsx($,{label:"The unique id of coin",placement:"bottom",children:o.jsx("button",{children:o.jsx(w,{marginLeft:"4px",xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}):null,[e]);return p?null:o.jsx(xe,{type:"nodata",text:x,children:d,background:"none",noBorder:!0,noImg:!t})};function ge(e){const{balanceInfo:s}=de(e.tokenInfo);return o.jsx(y,{fontSize:"14px",children:G(s==null?void 0:s.balanceFormat,"",e.tokenInfo.decimals)})}function je({tokenInfo:e,onClose:s,onBack:t,isOpen:p}){return o.jsx(J,{autoFocus:!1,returnFocusOnClose:!1,isOpen:p,onClose:s,isCentered:!0,children:o.jsxs(X,{overflow:"hidden",children:[o.jsx(Y,{children:o.jsxs(Z,{gap:"12px",children:[o.jsx(ue,{onClick:t}),o.jsx(W,{portal:!1,token:e,imgBoxStyle:{w:"28px",h:"28px"}})]})}),o.jsx(K,{onClick:()=>s()}),o.jsx(Q,{p:"0",children:o.jsx(he,{tokenInfo:e})})]})})}const A=({token:e,onSelectToken:s,isDisableSelectTokenItem:t,lastSelectedToken:p,currentTab:x,delImportTokenList:d,addUserCollectToken:m,delUserCollectToken:n,userCollectObj:g,isShowCollectListBox:j,isShowTokenListTab:S,onGoplusTokenClick:f,onClose:T,isNotAllowClick:b=!1,isHideDelIcon:I=!1})=>{const{isShowImportBtn:i,setTokenModalOpacity:u}=E(),{currentAccount:c}=k(),{getTokenSource:F}=ee(),[H,r]=h.useState(!1);h.useEffect(()=>{if(e){const a=F([e]);a&&a.length>0&&r(!0)}},[e]);const[B,v]=h.useState(!1);return o.jsxs(z,{minH:"64px",justifyContent:"space-between",alignItems:"center",cursor:e.coin_type==p&&t||b?"not-allowed":"pointer",userSelect:"none",p:"0 16px",marginTop:"8px",_hover:{bg:"primary_opacity.10",borderRadius:"14px"},opacity:e.coin_type==p&&t?"0.5":"1",onClick:()=>{b||s(e)},children:[o.jsx(W,{symbolFontWeight:"600",token:e,haveAddress:!0,imgBoxStyle:{w:"32px",h:"32px"},symbolFontSize:"14px",symbolEllipsesDecimals:20,nameEllipsesDecimals:28,warningIcon:{isNeedShow:x!=="Imported"&&H}}),o.jsxs(z,{alignItems:"center",children:[(c==null?void 0:c.address)&&o.jsxs(y,{textAlign:"right",mr:"4px",children:[o.jsx(ge,{tokenInfo:e}),(e==null?void 0:e.balanceUSD)!==void 0&&oe(e==null?void 0:e.balanceUSD).gt(0)&&o.jsx(D,{mt:"6px",fontSize:"12px",children:G(e==null?void 0:e.balanceUSD)})]}),!I&&!((e==null?void 0:e.is_verified)===void 0?e!=null&&e.is_trusted:e!=null&&e.is_verified)?o.jsx(w,{marginLeft:"2px",xlinkHref:"#icon-icon_del",svgHover:"primary",onClick:a=>{a.stopPropagation(),d([e])}}):null,g[e.coin_type]&&j?o.jsx(w,{marginLeft:"4px",xlinkHref:"#icon-icon_star_sel",svgFill:"primary",svgHover:"primary",onClick:a=>{a.stopPropagation(),n(e)}}):!i&&j?o.jsx(w,{marginLeft:"4px",xlinkHref:"#icon-icon_star",variant:"primary",onClick:a=>{a.stopPropagation(),m(e)}}):null,o.jsx(ne,{placement:"top",tooltip:o.jsx(D,{fontSize:"12px",color:"text_caption",children:"Coin Info"}),children:o.jsx(P,{as:"button",ml:"4px",onClick:a=>{se(a),f?f(e):(a.target.blur(),v(!0),u(0))},children:o.jsx(w,{xlinkHref:"#icon-icon_tips"})})})]}),B&&o.jsx(je,{tokenInfo:e,isOpen:B,onBack:()=>{v(!1),u(1)},onClose:T})]})},Se=({list:e,onSelectToken:s,isDisableSelectTokenItem:t,lastSelectedToken:p,currentTab:x,delImportTokenList:d,addUserCollectToken:m,delUserCollectToken:n,userCollectObj:g,width:j,height:S,isShowCollectListBox:f,isShowTokenListTab:T,onClose:b,onGoplusTokenClick:I})=>{const i=h.useRef(null),u=fe({count:e.length,getScrollElement:()=>i.current,estimateSize:()=>64,overscan:10});return o.jsx("div",{ref:i,style:{height:S||"400px",overflowY:"auto"},children:o.jsx("div",{style:{height:`${u.getTotalSize()}px`,position:"relative"},children:u.getVirtualItems().map(c=>o.jsx("div",{style:{position:"absolute",top:c.start,left:0,width:"100%",height:c.size},children:o.jsx(A,{onGoplusTokenClick:I,onClose:b,token:e[c.index],onSelectToken:s,isDisableSelectTokenItem:t,lastSelectedToken:p,currentTab:x,delImportTokenList:d,addUserCollectToken:m,delUserCollectToken:n,isShowCollectListBox:f,isShowTokenListTab:T,userCollectObj:g})},e[c.index].coin_type))})})};function Me(e){const{onSelectToken:s,keyword:t,currentLabel:p,currentTab:x,lastSelectedToken:d,isDisableSelectTokenItem:m,tokenList:n,isShowCollectListBox:g,isShowTokenListTab:j,onGoplusTokenClick:S,onClose:f,noDataHaveImg:T=!0,noClickImportItem:b=!1,bg:I,tokenListMaxHeight:i}=e,{delUserCollectToken:u,addUserCollectToken:c,addImportTokenList:F,delImportTokenList:H}=te(),{filterTokenList:r,filterTokenLoading:B,userCollectObj:v,isShowImportBtn:a}=E(),{isApp:U}=ae(),V=(n==null?void 0:n.length)*72>Number(i==null?void 0:i.replace("px","")),q=(n==null?void 0:n.length)>6,C=h.useMemo(()=>t&&i?Number(i==null?void 0:i.replace("px",""))+80+"px":i,[i,t]),{tokenBalanceObj:M}=ie(),{fetchTokenPrices:R}=re();return h.useEffect(()=>{if(console.log("tokenBalanceObj",M),le(M)){const _=(n==null?void 0:n.filter(l=>{var O;return(l==null?void 0:l.coin_type)&&M[(O=ce(l==null?void 0:l.coin_type))==null?void 0:O.full_address]}))||[],N=_.map(l=>l==null?void 0:l.coin_type);console.log("ðŸš€ ~ useEffect ~ uniqueTokens:",_,N),R(N)}},[n==null?void 0:n.length]),o.jsxs(y,{maxHeight:C||"400px",pl:q?"4px":"0px",overflow:"auto",children:[a&&t&&(r==null?void 0:r.length)>0&&o.jsx(z,{padding:"0 16px 12px",marginTop:"10px",children:o.jsx(y,{p:"16px",bg:"primary_yellow_opacity.10",borderRadius:"12px",children:o.jsx(D,{color:"primary_yellow",align:"left",fontSize:"12px",lineHeight:"20px",children:"The token is not on the Frequently Traded List. Please note that anyone can create a token on Sui blockchain with any name, including creating fake versions of existing tokens or tokens that claim to represent projects that do not have a token. Always conduct your own research before trading."})})}),B?o.jsx(y,{height:"400px",position:"relative",borderRadius:"16px",overflow:"hidden",children:o.jsx(pe,{positionStyle:"absolute",bg:I})}):(n==null?void 0:n.length)>0?V?o.jsx(Se,{onGoplusTokenClick:S,list:n,onSelectToken:s,isDisableSelectTokenItem:m,lastSelectedToken:d,currentTab:x,isShowCollectListBox:g,isShowTokenListTab:j,delImportTokenList:H,addUserCollectToken:c,delUserCollectToken:u,userCollectObj:v,width:U?360:482,height:C,onClose:f}):o.jsx(y,{maxHeight:C||"400px",overflow:"auto",children:n==null?void 0:n.map((_,N)=>o.jsx(A,{onGoplusTokenClick:S,token:_,onSelectToken:l=>{s(l)},isNotAllowClick:!!(b&&a&&t&&(r==null?void 0:r.length)>0),isShowCollectListBox:g,isShowTokenListTab:j,isDisableSelectTokenItem:m,isHideDelIcon:!!(a&&t&&(r==null?void 0:r.length)>0),lastSelectedToken:d,currentTab:x,delImportTokenList:H,addUserCollectToken:c,delUserCollectToken:u,userCollectObj:v,onClose:f},_.coin_type))}):o.jsx(me,{currentTab:x,keyword:t,isHaveImg:T}),a&&t&&o.jsx(P,{p:"16px 0",children:o.jsx(L,{w:"120px",h:"36px",fontSize:"14px",onClick:()=>{F([r[0]]),s(r[0])},children:"Import"})})]})}export{Me as default};
//# sourceMappingURL=TokenList-Bx-aN09X.js.map
