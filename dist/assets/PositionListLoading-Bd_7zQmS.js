const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DepositMode-BQi0l_nR.js","assets/vendor-_1sPVx0S.js","assets/VaultsAprBlock-BxZ39L3w.js","assets/swapWidget-BCFJQoyC.js","assets/index-DZworFuu.js","assets/index-CteIxbgC.css","assets/useWrapPoolData-CDrg47b6.js","assets/useFavoritePool-C-y3K2CF.js","assets/useGetPoolList-CsB88aY2.js","assets/useToken-BWHB2fhl.js","assets/useTokenBalance-Bm-sJqFs.js","assets/useAccountBalance-Bqky3zOE.js","assets/useTransaction-DopuwF40.js","assets/useSigner-CskzV9L0.js","assets/global-CG4XJcf0.js","assets/msafe-oYBkW7LJ.js","assets/index-B0fjcXro.js","assets/v4-C6aID195.js","assets/useFindBestRouting-Lj4RLbMT.js","assets/useSwapHelper-5Q8nfW7L.js","assets/HTextLabelBox-DBHn66eq.js","assets/useInterval-DnUakcwK.js","assets/TradeInputGroup-BU_bV5JV.js","assets/_getAllKeysIn-BnIExAEt.js","assets/AvailableCapacity-BBS2n6da.js","assets/TotalAmount-DdbTdVds.js","assets/RemoveBlock-D0UZazua.js","assets/ZapSwitch-BR4sNZ03.js","assets/DepositRatio-LVV2d-h7.js","assets/FreshProgressV2-B_THDS6m.js","assets/usePriceImpact-tW62EcgX.js","assets/ErrorTips-DTGb4xHZ.js","assets/Slippage-Bya5o8Ip.js","assets/TooltipIcon-2k0oF2Ae.js","assets/useNotifiSubscription-BHSFkP5y.js","assets/useNotifiAlerts-CYozFF1D.js","assets/useXCetusHelper-BJnw5ZCZ.js","assets/usePositionList-DCRYUjtM.js","assets/index-cNVIru_O.js","assets/usePosAdd-DcGULfPv.js","assets/index-OPMiavju.js","assets/ExpendItem-Bu-QAEwU.js","assets/SingleTokenInfo-BOld9qyS.js","assets/CopyButton-Dh94jbmg.js","assets/PriceRange-BlxARJmW.js","assets/PositionStatus-C0rs2j01.js","assets/RangeValue-CZfdgmR_.js","assets/WithdrawMode-Cge63etj.js"])))=>i.map(i=>d[i]);
import{E as pe,a as d,ab as V,j as e,H as y,C as U,I,T as g,F as A,f as R,P as H,h as B,m as k,n as q,V as m,X as ue,Y as de,Z as he,a1 as be,a0 as ge,a7 as J,u as b,k as ee,v as me,S as K}from"./vendor-_1sPVx0S.js";import{a as D,y as je,z as Y,c as T,d as f,r as E,W as we,C as fe,B as Z,k as ye,_ as te,m as se,H as W,j as $,l as Se,b as ve,I as _e}from"./index-DZworFuu.js";import{b as Pe,c as Ce,u as Re,a as ze,V as De,d as Le,v as Ae}from"./VaultsAprBlock-BxZ39L3w.js";import{u as We}from"./useAccountBalance-Bqky3zOE.js";import{P as Me}from"./PoweredByHaedal-BByOfacs.js";import{S as Fe}from"./Slippage-Bya5o8Ip.js";import{R as Oe}from"./RefreshButton-C6wipRYR.js";import{u as Ee}from"./useInterval-DnUakcwK.js";import{Z as $e,u as Ne}from"./useDisplayTickPrice-LfrxNp3s.js";import{V as Ve}from"./VTextLabelBox-DHB1LJ9o.js";import{a as G,u as Ue}from"./usePositionList-DCRYUjtM.js";import{a as He}from"./useNotifiSubscription-BHSFkP5y.js";import{S as N,A as Be}from"./SingleTokenInfo-BOld9qyS.js";import{P as ke,L as qe}from"./PriceRange-BlxARJmW.js";function bt(){const{search:t}=pe(),[s,r]=d.useState({});return d.useLayoutEffect(()=>{const i=new URLSearchParams(t);r(Object.fromEntries(i.entries()))},[t]),s}const gt=({tooltip:t,...s})=>{const r=V(),{isApp:i}=D();return e.jsx(y,{w:"20px",h:"20px",onClick:n=>{Y(n),i||r("/farms")},...s,children:e.jsx(je,{placement:"top",tooltip:t||e.jsx(g,{fontSize:"12px",children:"Farm rewards available"}),children:e.jsx(U,{children:e.jsx(I,{w:"100%",h:"100%",minW:"100%",src:"/images/icon_farms.png"})})})})},Ye="You can also choose to deposit in only one asset type. In that case,the vault will convert your asset to the required propositions using Cetus.Please note that trading fees & slippage will be applied. When slippage is involved,a certain amount of post-swap dust (no loss of funds) will be returned to you.",Ze=(t,s)=>`When you deposit in only SUI tokens, a part of your SUI amount will be converted to ${s} via ${t} liquid staking services to match required liquidity compositions of the liquidity pool on Cetus. A certain amount of dust (no loss of funds) will be returned to you if slippage is involved.`;function Ge(t){const{displayTokenA:s,displayTokenB:r,currentActionToken:i,setCurrentActionToken:n,isCheckedZAP:p,setIsCheckedZAP:u,currentActionTab:a,setAssetAction:o,setCurrentActionTab:h,isUnstableVault:l,autoRefresh:w}=t,{stakeProtocolName:c}=Pe(s==null?void 0:s.coin_type),{setAmountInputA:j,setAmountInputB:_}=Ce(),S=d.useMemo(()=>{if(a=="Deposit"){const v=[{label:(s==null?void 0:s.symbol)+" only",value:(s==null?void 0:s.symbol)+" only",action:s==null?void 0:s.coin_type,afterIcon:p&&!l?{xlinkHref:"#icon-icon_tips"}:void 0,tooltip:l?`You can add liquidity in this pool with only ${s==null?void 0:s.symbol}.`:Ye},{label:`${s==null?void 0:s.symbol}+${r==null?void 0:r.symbol}`,value:`${s==null?void 0:s.symbol}+${r==null?void 0:r.symbol}`,action:"both",afterIcon:p&&!l?{xlinkHref:"#icon-icon_tips"}:void 0,tooltip:l&&p?"You can add any value you want from both assets.":""},{label:(r==null?void 0:r.symbol)+" only",value:(r==null?void 0:r.symbol)+" only",action:r==null?void 0:r.coin_type,afterIcon:p&&!l?{xlinkHref:"#icon-icon_tips"}:void 0,tooltip:l?`You can add liquidity in this pool with only ${r==null?void 0:r.symbol}.`:Ze(c,s==null?void 0:s.symbol)}];return l?v:v.filter(M=>M.action!=="both")}else return[{label:(s==null?void 0:s.symbol)+" only",value:(s==null?void 0:s.symbol)+" only",action:s==null?void 0:s.coin_type},{label:(r==null?void 0:r.symbol)+" only",value:(r==null?void 0:r.symbol)+" only",action:r==null?void 0:r.coin_type}]},[s,r,a,l,p,c]),P=[{label:"Deposit",value:"Deposit"},{label:"Withdraw",value:"Withdraw"}],[C,z]=d.useState(0);Ee({interval:1e3,callback:()=>{z(C+1),C>=30&&x()}});const x=()=>{z(0),w()},L=d.useMemo(()=>a=="Deposit"?l?"customDeposit":"deposit":"withdraw",[a,l]);return e.jsxs(e.Fragment,{children:[e.jsxs(y,{width:"100%",alignItems:"center",children:[e.jsx(T,{type:"borderTab",wrapStyle:{w:"100%",h:"54px",border:"none",bg:"none"},itemStyle:{fontSize:"14px",mr:"28px",fontWeight:"500"},tabList:P,currentTab:a,handleChangeTab:v=>{h(v.value),o(p?s==null?void 0:s.coin_type:"both"),n((s==null?void 0:s.symbol)+" only")}}),e.jsx(Fe,{slippageType:"vaults",compact:!0}),e.jsx(Oe,{handleRefresh:x,w:"28px",h:"28px",minW:"28px",minH:"28px",innerStyle:{w:"28px",h:"28px",borderRadius:"8px",bg:"bg_secondary"}})]}),e.jsxs(A,{width:"100%",alignItems:"center",justify:"space-between",mt:"8px",children:[e.jsxs(g,{children:[a," Amounts"]}),e.jsx($e,{isCheckedZAP:p,zapText:a=="Deposit"?"Zap In":"Zap Out",tooltipType:L,zapSwitchChange:v=>{j(""),_(""),u(!p),o(v?s==null?void 0:s.coin_type:"both"),n((s==null?void 0:s.symbol)+" only")}})]}),p?e.jsx(T,{type:"outlineTab",wrapStyle:{w:{base:"100%"},h:"42px",padding:"4px",marginTop:"8px"},itemStyle:{w:`${100/S.length}%`,fontSize:"14px",borderRadius:"8px"},tabList:S,currentTab:i,handleChangeTab:v=>{n(v.value),o(v.action)}}):null]})}function Qe(t){const{displayTokenASymbol:s,displayTokenBSymbol:r,minPrice:i,maxPrice:n,currPrice:p}=t,[u,a]=d.useState(0),[o,h]=d.useState(0),l=d.useRef(null),w=d.useRef(null);d.useEffect(()=>{const S=()=>{l.current&&a(l.current.offsetWidth)},P=()=>{w.current&&h(w.current.offsetWidth)};S(),P();const C=new ResizeObserver(S),z=new ResizeObserver(P);return l.current&&C.observe(l.current),w.current&&z.observe(w.current),()=>{l.current&&C.unobserve(l.current),w.current&&z.unobserve(w.current)}},[]);const c=d.useMemo(()=>{if(n==="âˆž")return"0px";if(p&&i&&n){if(f(p).lessThanOrEqualTo(n)&&f(p).greaterThanOrEqualTo(i)){const S=f(p).sub(i).div(f(n).sub(f(i))).toString();return`${f(u).mul(S).toFixed(0)}px`}if(f(p).lt(i))return"-36px";if(f(p).gt(n))return"calc(100% + 36px)"}return"0px"},[p,i,n,u]),j=d.useMemo(()=>{const S=c.replace("px","");return Number(S)-o/2+"px"},[c,o]),{isApp:_}=D();return e.jsx(e.Fragment,{children:i!=="undefined"&&n!=="undefined"?e.jsx(y,{w:"100%",height:"60px",background:"primary_opacity.10",borderRadius:"16px",p:"0px 0px 8px",children:e.jsxs(R,{w:"100%",padding:i&&f(p).lt(i)?"0 40px 0 60px":n&&f(p).gt(n)?"0 60px 0 40px":"0 40px",position:"relative",children:[e.jsx(g,{whiteSpace:"nowrap",position:"absolute",top:"20px",left:i&&f(p).lt(i)?"60px":"40px",fontSize:"12px",color:"text_caption",children:E(i)}),e.jsx(R,{w:"100%",position:"relative",height:"14px",ref:l,bgImage:"url('/images/img_range@2x.png')",bgSize:"100% 14px",bgPosition:"center",children:e.jsxs(H,{isLazy:!0,placement:"top",trigger:_?"click":"hover",autoFocus:!1,returnFocusOnClose:!1,gutter:4,children:[e.jsx(B,{children:e.jsx(R,{as:"button",children:e.jsx(R,{bg:"#fff",borderRadius:"8px",w:"4px",height:"15px",position:"absolute",top:"50%",transform:"translateY(-50%)",left:c,ml:"-2px",zIndex:"5"})})}),e.jsx(k,{w:"fit-content",bg:"none",border:"none",ref:w,position:"absolute",top:"-32px !important",left:j,zIndex:"5",children:e.jsx(q,{fontSize:"12px",w:"fit-content",bg:"none",border:"none",children:e.jsx(g,{whiteSpace:"nowrap",fontSize:"12px",color:"primary",children:E(p)})})})]})}),e.jsx(g,{whiteSpace:"nowrap",position:"absolute",top:"20px",right:n&&f(p).gt(n)?"60px":"40px",fontSize:"12px",color:"text_caption",children:E(n)})]})}):null})}function Xe(t){var P,C,z,x,L;const{displayTokenA:s,displayTokenB:r,feeDisplay:i,clmmPool:n,isReverse:p,minPrice:u,maxPrice:a,isUnstableVault:o,currPrice:h}=t,{vaultStatsObj:l}=Re(),{getVaultsStats:w}=ze(),[c,j]=d.useState("");d.useEffect(()=>{var v;we(l)&&l[n]?j((v=l[n])==null?void 0:v.vaultsApyDisplay):w()},[l,n]);const{displayMaxPrice:_,displayMinPrice:S}=Ne({minPrice:u,maxPrice:a,changeSide:p});return e.jsxs(m,{width:"calc(100% + 32px)",padding:"0 16px",alignItems:"left",paddingBottom:"16px",borderBottom:"1px solid",borderColor:"border",children:[e.jsxs(A,{children:[e.jsx(fe,{coinAIconUrl:s==null?void 0:s.logo_url,coinBIconUrl:r==null?void 0:r.logo_url,imageStyle:{w:"32px",h:"32px"},imgBoxStyle:{w:"32px",h:"32px"}}),e.jsxs(A,{marginLeft:"8px",justifyContent:"space-between",alignItems:"center",width:"100%",children:[e.jsx(R,{children:e.jsxs(A,{alignItems:"center",children:[e.jsx(g,{fontSize:"16px",color:"text_caption",children:`${s==null?void 0:s.symbol} - ${r==null?void 0:r.symbol}`}),e.jsx(Z,{w:"unset",p:"3px 12px 2px",borderRadius:"12px",bg:"none",borderColor:"primary",marginLeft:"8px",children:e.jsx(g,{fontSize:"12px",color:"primary",children:i})})]})}),e.jsx(A,{flexDirection:"column",children:e.jsx(Ve,{wrapStyle:{gap:"2px",alignItems:"flex-end !important"},title:"APY",titleStyle:{color:"primary",fontSize:"12px"},valueTooltip:e.jsx(De,{vaultsLstApyDisplay:((P=l[n])==null?void 0:P.vaultsLstApyDisplay)||"",vaultsApyDisplay:((C=l[n])==null?void 0:C.vaultsApyDisplay)||"",vaultsTotalApyDisplay:((z=l[n])==null?void 0:z.vaultsTotalApyDisplay)||"",vaultsAprDisplay:((x=l[n])==null?void 0:x.vaultsAprDisplay)||"",category:(L=l[n])==null?void 0:L.category}),value:c||"-",valueStyle:{color:"text_highlight",h:"20px",lineHeight:"20px",fontSize:"14px",fontWeight:"500"}})})]})]}),e.jsx(Qe,{displayTokenASymbol:r==null?void 0:r.symbol,displayTokenBSymbol:s==null?void 0:s.symbol,minPrice:S,maxPrice:_,currPrice:h})]})}const Je=d.lazy(()=>te(()=>import("./DepositMode-BQi0l_nR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]))),Ke=d.lazy(()=>te(()=>import("./WithdrawMode-Cge63etj.js"),__vite__mapDeps([47,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23])));function mt(t){const{isOpen:s,setIsOpen:r,displayTokenA:i,displayTokenB:n,feeDisplay:p,clmmPool:u,vaultId:a,isReverse:o,isUnstableVault:h}=t,[l,w]=d.useState("Deposit"),[c,j]=d.useState((i==null?void 0:i.symbol)+" only"),[_,S]=d.useState("both"),[P,C]=d.useState(!1),z=Ae.useGetContractVaultInfo(h),{apiVaultInfo:x,getApiVaultInfo:L}=Le(a),{minPrice:v,maxPrice:M,fetchClmmPoolFromContract:re,fetchVaultInfoFromContract:le,currPrice:Q,fetchVaultBalance:ne,maxCapNum:ae,quoteCoin:ce}=z(x==null?void 0:x.vaultsId,x==null?void 0:x.clmmPoolAddress,x==null?void 0:x.tokenA,x==null?void 0:x.tokenB,x==null?void 0:x.isReverse),{fetchAccountBalance:ie}=We(),oe=V(),{currentAccount:F,isOpenWalletModal:xe,onWalletModal:et}=ye(),O=()=>{var X;ie(),console.log("ðŸš€ðŸš€ðŸš€ ~ index.tsx:57 ~ autoRefresh ~ apiVaultInfo:",x),(x==null?void 0:x.category)=="haedal"&&ne(F==null?void 0:F.address,a,(X=x==null?void 0:x.tokenA)==null?void 0:X.decimals),x&&re(x.clmmPoolAddress,!0),a&&(le(a,!0),L(a,!0))};return d.useEffect(()=>{C(!1),S("both")},[l]),D(),e.jsxs(ue,{isCentered:!0,isOpen:s&&!xe,onClose:()=>{r(!1),w("Deposit")},children:[e.jsx(de,{}),e.jsx(he,{width:{base:"100%",lg:"420px"},children:e.jsx(be,{p:"0 0 8px",children:e.jsxs(m,{width:"100%",children:[e.jsxs(m,{width:"100%",p:"6px 16px 16px",mb:"-16px",gap:"0",borderRadius:"12px",sx:{backgroundImage:"url('/images/vault_modal_bg@2x.png')",backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:[e.jsxs(y,{h:"36px",w:"100%",mb:"12px",children:[e.jsx(g,{color:"text_caption",fontWeight:"500",fontSize:"16px",children:"Auto Vault"}),e.jsx(ge,{})]}),e.jsx(Xe,{displayTokenA:i,displayTokenB:n,feeDisplay:p,clmmPool:u,isReverse:o,minPrice:v,maxPrice:M,currPrice:o?f(1).div(f(Q)).toString():Q,isUnstableVault:h}),e.jsx(Ge,{displayTokenA:i,displayTokenB:n,currentActionTab:l,setCurrentActionTab:w,currentActionToken:c,setCurrentActionToken:j,isCheckedZAP:P,setIsCheckedZAP:C,setAssetAction:S,isUnstableVault:h,autoRefresh:O})]}),e.jsxs(m,{w:"100%",p:"0 16px",children:[e.jsx(d.Suspense,{fallback:e.jsxs(J,{w:"100%",height:"292px",children:[e.jsxs(m,{align:"flex-end",w:"100%",h:"108px",p:"16px",borderRadius:"16px",border:"1px solid",borderColor:"border",bg:"bg_secondary",children:[e.jsx(b,{w:"100%",height:"20px"}),e.jsx(b,{w:"40%",height:"20px"})]}),e.jsxs(m,{align:"flex-end",w:"100%",h:"108px",p:"16px",borderRadius:"16px",border:"1px solid",borderColor:"border",bg:"bg_secondary",children:[e.jsx(b,{w:"100%",height:"20px"}),e.jsx(b,{w:"40%",height:"20px"})]}),e.jsx(R,{w:"100%",h:"52px",mb:"8px",borderRadius:"12px",children:e.jsx(b,{w:"100%",height:"52px",borderRadius:"12px"})})]}),children:l=="Deposit"&&e.jsx(e.Fragment,{children:e.jsx(Je,{isUnstableVault:h,displayTokenA:i,displayTokenB:n,vaultId:a,isReverse:o,assetAction:_,isCheckedZAP:P,currentActionTab:l,autoRefresh:O,apiVaultInfo:x,quoteCoin:ce,maxCapNum:ae})})}),e.jsx(d.Suspense,{fallback:e.jsxs(J,{w:"100%",height:"292px",children:[e.jsxs(m,{align:"flex-end",w:"100%",h:"108px",p:"16px",borderRadius:"16px",border:"1px solid",borderColor:"border",bg:"bg_secondary",children:[e.jsx(b,{w:"100%",height:"20px"}),e.jsx(b,{w:"60%",height:"20px"})]}),e.jsxs(m,{align:"flex-end",w:"100%",h:"108px",p:"16px",borderRadius:"16px",border:"1px solid",borderColor:"border",bg:"bg_secondary",children:[e.jsx(b,{w:"100%",height:"20px"}),e.jsx(b,{w:"40%",height:"20px"})]}),e.jsx(R,{w:"100%",h:"52px",mb:"8px",borderRadius:"12px",children:e.jsx(b,{w:"100%",height:"52px",borderRadius:"12px"})})]}),children:l=="Withdraw"&&e.jsx(Ke,{isUnstableVault:h,displayTokenA:i,displayTokenB:n,vaultId:a,isReverse:o,assetAction:_,isCheckedZAP:P,currentActionTab:l,autoRefresh:O,apiVaultInfo:x})}),e.jsxs(y,{borderTop:"1px solid",borderColor:"border",width:"calc(100% + 32px)",padding:"12px 16px 4px",justifyContent:h?"space-between":"center",children:[e.jsx(Me,{mt:"0",category:h?"Haedal":"Cetus"}),e.jsx(g,{fontSize:"12px",_hover:{color:"primary"},whiteSpace:"nowrap",cursor:"pointer",onClick:()=>oe(`/vaults-detail/${a}/${x==null?void 0:x.category}`),children:"Vault Details >"})]})]})]})})})]})}const Te=({positionInfo:t})=>{var w,c;const[s,r]=d.useState(!1),{getTokenAmountValue:i}=se(),{posFeeData:n,posFeeDataLoading:p}=G(),u=n[t==null?void 0:t.posId],a=i((w=t==null?void 0:t.displayTokenA)==null?void 0:w.coin_type,u==null?void 0:u.displayFeeOwedA,"--"),o=i((c=t==null?void 0:t.displayTokenB)==null?void 0:c.coin_type,u==null?void 0:u.displayFeeOwedB,"--"),h=d.useMemo(()=>a!=="--"&&o!=="--"?W(f(a).plus(o).toString(),2):"$--",[a,o]),{isApp:l}=D();return e.jsxs(m,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:"flex-start",flexDirection:{base:"row",lg:"column"},children:[e.jsx(g,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending Fees"}),e.jsx(R,{p:"12px 0",onClick:j=>Y(j),onMouseEnter:Number(a)==0&&Number(o)==0?()=>{}:()=>r(!0),onMouseLeave:()=>r(!1),children:e.jsxs(H,{isLazy:!0,trigger:l?"click":"hover",placement:"top-start",children:[e.jsx(B,{children:e.jsx(U,{as:"button",cursor:Number(a)==0&&Number(o)==0?"default":"help",children:e.jsx(b,{isLoaded:!!h,children:e.jsx(g,{color:"text_caption",textDecoration:Number(a)==0&&Number(o)==0?"none":"underline dotted",textUnderlineOffset:"3px",borderColor:"text_caption",children:h})})})}),s&&h!=="--"&&e.jsx(ee,{children:e.jsx(k,{zIndex:"2",w:"fit-content",p:"4px ",children:e.jsx(q,{p:"8px",children:e.jsxs(m,{align:"flex-start",minW:"200px",children:[e.jsxs(y,{w:"100%",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(N,{token:t==null?void 0:t.displayTokenA,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(m,{align:"flex-end",gap:"4px",children:[e.jsx(g,{fontSize:"12px",color:"text_caption",children:$(u==null?void 0:u.displayFeeOwedA)}),e.jsx(g,{fontSize:"12px",children:W(a,2)})]})]}),e.jsxs(y,{w:"100%",justify:"space-between",children:[e.jsx(N,{token:t==null?void 0:t.displayTokenB,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(m,{align:"flex-end",gap:"4px",children:[e.jsx(g,{fontSize:"12px",color:"text_caption",children:$(u==null?void 0:u.displayFeeOwedB)}),e.jsx(g,{fontSize:"12px",children:W(o,2)})]})]})]})})})})]})})]})},Ie=({positionInfo:t})=>{var w;const{getTokenAmountValue:s}=se(),{coinPriceObj:r}=Se(),{posRewardsData:i,posRewardsDataLoading:n,posApiPoolData:p}=G(),u=(w=p[t==null?void 0:t.clmmPool])==null?void 0:w.haveMining,a=i[t==null?void 0:t.posId],o=d.useMemo(()=>{const c=a==null?void 0:a.map(j=>{const _=s(j==null?void 0:j.coin_address,j==null?void 0:j.display_amount_owed,"--");return{...j,amountUSD:_}});return c&&c.length>0?c.filter(j=>f(j.display_amount_owed).gt(0)):[]},[t,a,r]),h=d.useMemo(()=>{let c;return(o==null?void 0:o.length)>0?(o.forEach(j=>{const _=j==null?void 0:j.amountUSD;c=_=="--"||c=="--"?"--":f(c).plus(_).toString()}),c=="--"?"$--":W(c,2)):"$0"},[o]),{isApp:l}=D();return e.jsx(e.Fragment,{children:((o==null?void 0:o.length)>0||u)&&e.jsxs(m,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:{base:"flex-start",lg:"flex-end"},flexDirection:{base:"row",lg:"column"},children:[e.jsx(g,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending Rewards"}),e.jsx(R,{p:"12px 0",onClick:c=>Y(c),children:e.jsxs(H,{isLazy:!0,trigger:l?"click":"hover",placement:"top-start",children:[e.jsx(B,{children:e.jsxs(U,{as:"button",cursor:h=="$0"?"text":"help",children:[e.jsx(I,{w:"18px",h:"18px",src:"/images/icon_mining.png",mr:"4px"}),e.jsx(b,{isLoaded:!!h&&!n,children:e.jsx(g,{color:"text_caption",textDecoration:h=="$0"?"none":"underline dotted",textUnderlineOffset:"3px",children:h})})]})}),h!=="$0"&&e.jsx(ee,{children:e.jsx(k,{zIndex:"2",w:"fit-content",p:"4px",children:e.jsx(q,{borderRadius:"12px",p:"8px",children:e.jsxs(m,{align:"flex-start",children:[e.jsx(g,{fontSize:"12px",color:"text_caption",children:"Mining Rewards"}),o==null?void 0:o.map(c=>e.jsxs(y,{minW:"200px",justify:"space-between",borderBottom:"1px solid",borderColor:"border",pb:"8px",sx:{_last:{borderBottom:"none",pb:"0px"}},children:[e.jsx(N,{token:c==null?void 0:c.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(m,{align:"flex-end",gap:"4px",children:[e.jsx(g,{fontSize:"12px",color:"text_caption",children:$(c==null?void 0:c.display_amount_owed)}),e.jsxs(g,{fontSize:"12px",children:[" ",W(c==null?void 0:c.amountUSD,2)]})]})]},c==null?void 0:c.coin_address))]})})})})]})})]})})};function jt({positionInfo:t}){const{isApp:s}=D(),{getExplorerUrl:r}=ve(),{getClmmPosName:i}=Ue(),n=V(),{setCurrentPosDetailTab:p}=He(),{posPoolsOriginalData:u}=G(),a=d.useMemo(()=>{var h;if(t!=null&&t.tokenName)return t==null?void 0:t.tokenName;{const l=(h=u==null?void 0:u[t==null?void 0:t.clmmPool])==null?void 0:h.index;return i(Number(t==null?void 0:t.index),l)}},[t==null?void 0:t.tokenName,t==null?void 0:t.index,t==null?void 0:t.clmmPool,u]),o=()=>{console.log("ðŸš€ ~ PoolItem ~ poolInfo:",t),p("increase"),n(`/position-detail/${t==null?void 0:t.id}`)};return e.jsx(Z,{w:"100%",p:{base:"16px 8px 12px",lg:"12px"},borderRadius:"16px",onClick:o,children:e.jsxs(y,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsxs(m,{w:{base:"100%",lg:"calc(100% - 100px)"},align:"flex-start",children:[e.jsxs(y,{flexDirection:{base:"column",lg:"row"},w:{base:"100%",lg:"unset"},children:[e.jsxs(y,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(g,{fontSize:{base:"14px",lg:"12px"},children:"NFT ID"}),e.jsx(b,{isLoaded:!!a,children:e.jsx(g,{fontWeight:"500",fontSize:{base:"14px",lg:"12px"},color:"text_caption",children:a==null?void 0:a.split("|")[1]})})]}),e.jsxs(y,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},children:[e.jsx(g,{fontSize:{base:"14px",lg:"12px"},ml:{base:"0",lg:"8px"},children:"Address"}),e.jsx(Be,{fontWeight:"500",color:"text_caption",address:t==null?void 0:t.id,showLink:!1,fontSize:{base:"14px",lg:"12px"},onClickLink:()=>{window.open(r(t==null?void 0:t.id,"nftAddress"),"_blank")}})]})]}),e.jsxs(y,{w:"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},gap:{base:"0",lg:"8px"},children:[s&&e.jsx(R,{h:"4px"}),e.jsx(ke,{positionInfo:t,symbolEllipsesDecimals:10,labelInfo:{text:"Price Range"}}),s&&e.jsx(R,{h:"4px"}),e.jsxs(m,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"unset"},align:"flex-start",flexDirection:{base:"row",lg:"column"},children:[e.jsx(g,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Liquidity"}),e.jsx(qe,{positionInfo:t,fontSize:"14px"})]}),e.jsx(Te,{positionInfo:t}),e.jsx(Ie,{positionInfo:t})]})]}),e.jsxs(me,{w:{base:"100%",lg:"32px"},h:{base:"40px",lg:"90px"},borderRadius:"8px",variant:"ghost",p:"0 !important",_hover:{svg:{fill:"text_caption"}},children:[s&&e.jsx(g,{children:"Manage"}),e.jsx(_e,{xlinkHref:"#icon-icon_list_token",w:"14px",h:"14px"})]})]})})}function wt(){const{isApp:t}=D();return e.jsxs(m,{w:"100%",bg:"card_bg",p:"16px",borderRadius:"16px",gap:"20px",align:"flex-start",children:[e.jsxs(y,{w:"100%",justify:"space-between",children:[e.jsxs(y,{gap:"0",children:[e.jsx(K,{size:"9"}),e.jsx(K,{size:"9"}),e.jsxs(m,{gap:"4px",ml:"4px",align:"flex-start",children:[e.jsx(b,{height:"4",width:"100px"}),e.jsx(b,{height:"4",width:"150px"})]})]}),e.jsx(b,{height:"5",width:"250px"})]}),e.jsx(Z,{w:"100%",p:"12px",borderRadius:"16px",children:e.jsxs(m,{w:{base:"100%",lg:"calc(100% - 100px)"},align:"flex-start",children:[e.jsx(b,{height:"4",width:"200px",mt:"8px"}),e.jsxs(y,{w:"100%",justify:"space-between",children:[e.jsxs(m,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(b,{height:"4",width:"100px"}),e.jsx(b,{height:"4",width:"100px"})]}),e.jsxs(m,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(b,{height:"4",width:"100px"}),e.jsx(b,{height:"4",width:"100px"})]}),!t&&e.jsxs(m,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(b,{height:"4",width:"100px"}),e.jsx(b,{height:"4",width:"100px"})]}),!t&&e.jsxs(m,{gap:"4px",align:"flex-start",h:"58px",justify:"center",children:[e.jsx(b,{height:"4",width:"100px"}),e.jsx(b,{height:"4",width:"100px"})]})]})]})})]})}export{gt as F,jt as P,mt as V,wt as a,bt as u};
//# sourceMappingURL=PositionListLoading-Bd_7zQmS.js.map
