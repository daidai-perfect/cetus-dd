{"version":3,"file":"Dca-B31y8oBR.js","sources":["../../src/hooks/dca/useDcaCancel.ts","../../src/hooks/dca/useDcaClaim.ts","../../src/store/dca/index.ts","../../src/hooks/dca/useGetDcaOrderHistory.ts","../../src/components/dca/OverviewOrders.tsx","../../src/components/dca/DcaItem.tsx","../../src/components/dca/ActiveAndPastDcas.tsx","../../src/hooks/dca/useDcaConfig.ts","../../src/hooks/dca/useGetDcaQuote.ts","../../src/hooks/dca/useDcaHook.ts","../../src/hooks/dca/useGetDcaTokenList.ts","../../src/hooks/dca/useOpenDcaOrder.ts","../../src/components/dca/DetailsContent.tsx","../../src/components/dca/ConfirmModal.tsx","../../src/components/dca/DetailsBlock.tsx","../../src/components/dca/InvestAndOrders.tsx","../../src/components/dca/MinAndMaxPrice.tsx","../../src/components/dca/DcaInputBlock.tsx","../../src/utils/dca.ts","../../src/hooks/dca/useGetDcaOrderList.ts","../../src/pages/Dca.tsx"],"sourcesContent":["import { useSdk } from '@cetus/sdk-factory'\nimport { CloseDcaOrderParams } from '@cetusprotocol/dca-sdk'\n\nexport default function () {\n  const dcaSdk = useSdk('dca')\n\n  const dcaCloseOrderPayload = async (params: Array<CloseDcaOrderParams>) => {\n    const tx = await dcaSdk!.Dca.dcaCloseOrderPayload(params)\n    return tx\n  }\n  return { dcaCloseOrderPayload }\n}\n","import { useSdk } from '@cetus/sdk-factory'\nimport { WithdrawDcaParams } from '@cetusprotocol/dca-sdk'\n\nexport default function () {\n  const dcaSdk = useSdk('dca')\n\n  const dcaWithdrawPayload = async (params: WithdrawDcaParams[]) => {\n    console.log('üöÄüöÄüöÄ ~ file: useDcaClaim.ts:12 ~ params:', params)\n    const tx = await dcaSdk!.Dca.withdrawAll(params)\n    return tx\n  }\n  return { dcaWithdrawPayload }\n}\n","import { DcaConfig, DcaOrderHistoryData, DcaQuoteData } from '@/types/dca'\nimport { Token } from '@cetus/types'\nimport { create, StateCreator } from 'zustand'\n\ninterface DcaState {\n  sellCoin: Token | undefined\n  setSellCoin: (value: Token) => void\n  buyCoin: Token | undefined\n  setBuyCoin: (value: Token) => void\n  sellAmount: string\n  setSellAmount: (value: string) => void\n  buyAmount: string\n  setBuyAmount: (value: string) => void\n  orderNum: string\n  setOrderNum: (value: string) => void\n  investNum: string\n  setInvestNum: (value: string) => void\n  currentInvest: string\n  setCurrentInvest: (value: string) => void\n  currentCoinKey: string\n  setCurrentCoinKey: (value: string) => void\n  pageLoading: boolean\n  setPageLoading: (value: boolean) => void\n  dcaConfig: DcaConfig\n  setDcaConfig: (value: DcaConfig) => void\n  dcaQuote: DcaQuoteData\n  setDcaQuote: (value: DcaQuoteData) => void\n  orderHistoryObj: DcaOrderHistoryData\n  setOrderHistoryObj: (data: DcaOrderHistoryData) => void\n  inCoinWhiteList: Token[]\n  setInCoinWhiteList: (list: Token[]) => void\n  outCoinWhiteList: Token[]\n  setOutCoinWhiteList: (list: Token[]) => void\n  pageDirect: boolean\n  setPageDirect: (pageDirect: boolean) => void\n  isDcaRefresh: boolean\n  setIsDcaRefresh: (isDcaRefresh: boolean) => void\n  dcaMode: string\n  setDcaMode: (dcaMode: string) => void\n  sellTotalAmount: string\n  setSellTotalAmount: (sellTotalAmount: string) => void\n  lowerPriceSize: string\n  setLowerPriceSize: (lowerPriceSize: string) => void\n  upperPriceSize: string\n  setUpperPriceSize: (upperPriceSize: string) => void\n}\n\nconst store: StateCreator<DcaState> = (set, get) => ({\n  upperPriceSize: '0%',\n  setUpperPriceSize: (upperPriceSize: string) => {\n    set(() => ({\n      upperPriceSize\n    }))\n  },\n  lowerPriceSize: '0%',\n  setLowerPriceSize: (lowerPriceSize: string) => {\n    set(() => ({\n      lowerPriceSize\n    }))\n  },\n  dcaMode: 'total',\n  setDcaMode: (dcaMode: string) => {\n    set(() => ({\n      dcaMode\n    }))\n  },\n  isDcaRefresh: false,\n  setIsDcaRefresh: (isDcaRefresh: boolean) => {\n    set(() => ({\n      isDcaRefresh\n    }))\n  },\n  pageDirect: false,\n  setPageDirect: (pageDirect: boolean) => {\n    set(() => ({\n      pageDirect\n    }))\n  },\n  sellTotalAmount: '',\n  setSellTotalAmount: (value: string) => {\n    set(() => ({\n      sellTotalAmount: value\n    }))\n  },\n  sellAmount: '',\n  setSellAmount: (value: string) => {\n    set(() => ({\n      sellAmount: value\n    }))\n  },\n  buyAmount: '',\n  setBuyAmount: (value: string) => {\n    set(() => ({\n      buyAmount: value\n    }))\n  },\n  sellCoin: undefined,\n  setSellCoin: (value: Token) => {\n    set(() => ({\n      sellCoin: value\n    }))\n  },\n  buyCoin: undefined,\n  setBuyCoin: (value: Token) => {\n    set(() => ({\n      buyCoin: value\n    }))\n  },\n  orderNum: '2',\n  setOrderNum: (value: string) => {\n    set(() => ({\n      orderNum: value\n    }))\n  },\n  investNum: '1',\n  setInvestNum: (value: string) => {\n    set(() => ({\n      investNum: value\n    }))\n  },\n  currentCoinKey: 'sellCoin',\n  setCurrentCoinKey: (value: string) => {\n    set(() => ({\n      currentCoinKey: value\n    }))\n  },\n  currentInvest: 'Hour',\n  setCurrentInvest: (value: string) => {\n    set(() => ({\n      currentInvest: value\n    }))\n  },\n  pageLoading: true,\n  setPageLoading: (value: boolean) => {\n    set(() => ({\n      pageLoading: value\n    }))\n  },\n  dcaConfig: {},\n  setDcaConfig: (value: DcaConfig) => {\n    set(() => ({\n      dcaConfig: value\n    }))\n  },\n  dcaQuote: {},\n  setDcaQuote: (value: DcaQuoteData) => {\n    set(() => ({\n      dcaQuote: value\n    }))\n  },\n  orderHistoryObj: {},\n  setOrderHistoryObj: (data: DcaOrderHistoryData) => {\n    set(() => ({\n      orderHistoryObj: { ...get().orderHistoryObj, ...data }\n    }))\n  },\n  inCoinWhiteList: [],\n  setInCoinWhiteList: (list: Token[]) => {\n    set(() => ({\n      inCoinWhiteList: list\n    }))\n  },\n  outCoinWhiteList: [],\n  setOutCoinWhiteList: (list: Token[]) => {\n    set(() => ({\n      outCoinWhiteList: list\n    }))\n  }\n})\n\nconst useDcaStore = create(store)\nexport default useDcaStore\n","import { DcaOrderHistoryPath } from '@/apis/path'\nimport useDcaStore from '@/store/dca'\nimport { useFetch } from '@cetus/hooks'\n\nexport default function useGetDcaOrderHistory() {\n  const { fetchByApi } = useFetch()\n  const { setOrderHistoryObj } = useDcaStore()\n\n  // Ê≤°ÊúâcoinËØ¶ÊÉÖÔºåÁõ∏ÂÖ≥‰ø°ÊÅØÈúÄË¶ÅÂú®UIÂ±ÇÂ§ÑÁêÜ\n  const getDcaOrderHistory = async ({ orderId, limit, offset }: { orderId: string; limit: number; offset: number }) => {\n    const res = await fetchByApi(DcaOrderHistoryPath, 'GET', {\n      order_id: orderId,\n      limit,\n      offset\n    })\n    console.log('üöÄ ~ file: useGetDcaOrderHistory.ts:16 ~ useGetDcaOrderHistory ~ res:', res)\n    if (res?.list) {\n      const result = {\n        [orderId]: {\n          list:\n            res?.list?.map((item: any) => {\n              return {\n                inAmount: item?.in_amount,\n                outAmount: item?.out_amount,\n                inCoinType: item?.in_coin,\n                outCoinType: item?.out_coin,\n                time: item?.execution_at,\n                tx: item?.tx\n              }\n            }) || [],\n          total: res?.total || 0\n        }\n      }\n\n      setOrderHistoryObj(result)\n      return result\n    }\n  }\n\n  return {\n    getDcaOrderHistory\n  }\n}\n","import useTransaction from '@/hooks/common/useTransaction'\nimport useDcaClaim from '@/hooks/dca/useDcaClaim'\nimport useGetDcaOrderHistory from '@/hooks/dca/useGetDcaOrderHistory'\nimport { Block, ErrorTips, SelectTab } from '@cetus/design'\nimport { Tab } from '@cetus/design/src/components/common/SelectTab'\nimport { useAccountBalance } from '@cetus/hooks'\nimport useExplorer from '@cetus/hooks/src/useExplorer'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { CommonTypeInfo, TransactionStatusType } from '@cetus/types'\nimport { HTextLabelBox, Icon, NoData, Pagination } from '@cetus/ui-kit'\nimport { bnToAmount, d, formatNumber, timeFormatUTC } from '@cetus/utils'\nimport { Box, Button, Center, HStack, HTMLChakraProps, Skeleton, Text, VStack } from '@chakra-ui/react'\nimport { ReactNode, useEffect, useMemo, useState } from 'react'\n\nexport default function OverviewOrders({\n  isDetail,\n  currentTabVal,\n  orderInfo,\n  handleRefresh,\n  pageDirect\n}: {\n  pageDirect: boolean\n  isDetail: boolean\n  currentTabVal: string\n  orderInfo: any\n  handleRefresh: () => void\n}) {\n  const { isApp } = useWindowWidth()\n  const { inCoin: sellCoin, outCoin: buyCoin } = orderInfo\n  const { getDcaOrderHistory } = useGetDcaOrderHistory()\n  const [direct, setDirect] = useState(pageDirect)\n  const [rateDirect, setRateDirect] = useState(pageDirect)\n  const orderHistoryPageSize = 10\n  const [orderHistoryList, setOrderHistoryList] = useState([])\n  const [total, setTotal] = useState(0)\n  const [currentPage, setCurrentPage] = useState(1)\n  const [orderHistoryListLoading, setOrderHistoryListLoading] = useState(false)\n\n  const [currentTab, setCurrentTab] = useState<Tab>({\n    label: 'Overview',\n    value: 'overview'\n  })\n  const tabList: Tab[] = useMemo(() => {\n    return [\n      {\n        label: 'Overview',\n        value: 'overview'\n      },\n      {\n        label: orderHistoryListLoading || Number(total) === 0 ? 'Orders' : `Orders (${total})`,\n        value: 'orders'\n      }\n    ]\n  }, [total])\n\n  const handleChangeTab = (item: Tab) => {\n    setCurrentTab(item)\n    if (orderInfo?.orderID) {\n      handleGetDcaOrderHistory(orderInfo?.orderID, orderHistoryPageSize, 0, false)\n    }\n  }\n\n  useEffect(() => {\n    if (isDetail && orderInfo?.orderID) {\n      handleGetDcaOrderHistory(orderInfo?.orderID, orderHistoryPageSize, 0, false)\n    }\n  }, [orderInfo, isDetail])\n\n  const handleCurrentPage = (page: number) => {\n    console.log('üöÄ ~ handleCurrentPage ~ page:', page)\n    const offset = (page - 1) * orderHistoryPageSize\n    handleGetDcaOrderHistory(orderInfo?.orderID, orderHistoryPageSize, offset, false)\n    setCurrentPage(page)\n  }\n\n  const handleGetDcaOrderHistory = async (orderId: string, limit: number, offset: number, loading: boolean = false) => {\n    console.log('üöÄ ~ handleGetDcaOrderHistory ~ loading:', loading)\n    setOrderHistoryListLoading(loading)\n    const res = await getDcaOrderHistory({\n      orderId,\n      limit,\n      offset\n    })\n    console.log('üöÄ ~ handleGetDcaOrderHistory ~ res?.list:', res, res[orderId])\n    if (res[orderId]?.list) {\n      setOrderHistoryList(res[orderId]?.list)\n    }\n    if (res[orderId]?.total) {\n      setTotal(res[orderId]?.total)\n    }\n    setOrderHistoryListLoading(false)\n    console.log('üöÄ ~ file: TestData.tsx:170 ~ handleGetDcaOrderHistory ~ res:', res)\n  }\n\n  const [isClaimLoading, setIsClaimLoading] = useState(false)\n  const { dcaWithdrawPayload } = useDcaClaim()\n  const { fetchCoinBalance } = useAccountBalance()\n  const { signAndExecuteTransaction } = useTransaction()\n  const toClaim = async () => {\n    setIsClaimLoading(true)\n    try {\n      console.log('üöÄ ~ closeOrder ~ orderInfo:', orderInfo)\n      const paramsArr: any = []\n      const claimOrderParams = {\n        order_id: orderInfo?.orderID,\n        in_coin_type: orderInfo?.inCoin.coin_type,\n        out_coin_type: orderInfo?.outCoin.coin_type\n      }\n      paramsArr.push(claimOrderParams)\n      console.log('üöÄ ~ toClaim ~ claimOrderParams:', paramsArr)\n      const tx = await dcaWithdrawPayload(paramsArr)\n      const res = await signAndExecuteTransaction(tx, {\n        getShowInfo: (status: TransactionStatusType) => {\n          const info: CommonTypeInfo = {\n            modalDescriptionText: `${orderInfo?.outCoin?.symbol} Claimed`,\n            toastTitleText: `${orderInfo?.outCoin?.symbol} Claimed`\n          }\n          if (status === 'success') {\n            info.toastDescriptionContent = ''\n          }\n\n          return info\n        }\n      })\n      if (res) {\n        console.log('üöÄ ~ toClaim ~ res:', res)\n        // ÈáçÊñ∞ÊãøÊï∞ÊçÆ\n        setTimeout(() => {\n          handleRefresh()\n          // fetchCoinBalance(currentAccount?.address, orderInfo?.outCoin.coin_type)\n        }, 2000)\n      }\n      setIsClaimLoading(false)\n    } catch (error) {\n      console.log('üöÄ ~ toClaim ~ error:', error)\n      setIsClaimLoading(false)\n    }\n  }\n  const { getExplorerUrl } = useExplorer()\n  return (\n    <VStack w=\"100%\" gap=\"20px\">\n      <SelectTab\n        type=\"outlineTab\"\n        wrapStyle={{\n          w: '100%',\n          h: '36px',\n          borderRadius: '8px',\n          p: '4px',\n          mt: '-1px',\n          zIndex: '1'\n        }}\n        itemStyle={{\n          w: '50%',\n          fontSize: '12px'\n        }}\n        tabList={tabList}\n        currentTab={currentTab.label}\n        handleChangeTab={handleChangeTab}\n      />\n      <Block p=\"30px 8px 20px\" mt=\"-42px\" borderRadius=\"8px\" zIndex=\"0\" bg=\"bg_primary\">\n        {/* {currentTab.value == 'orders'  &&( */}\n        {currentTab.value == 'orders' &&\n          (orderHistoryListLoading ? (\n            <Skeleton height=\"4\" width=\"100%\" />\n          ) : orderHistoryList?.length === 0 ? (\n            <NoData type=\"nodata\" text=\"No orders\" noBorder p=\"12px\" bg=\"none\" />\n          ) : (\n            <VStack w=\"100%\" align=\"flex-start\" gap=\"16px\" mt=\"12px\">\n              {!isApp && (\n                <HStack w=\"100%\" flexDirection={{ base: 'column', lg: 'row' }}>\n                  <DcaVLabel label=\"Order info\" value=\"\" w={{ base: '100%', lg: '40%' }} />\n                  <DcaVLabel\n                    label=\"Rate\"\n                    value=\"\"\n                    w={{ base: '100%', lg: 'calc(32% - 16px)' }}\n                    direct={rateDirect}\n                    onChangeDirect={() => setRateDirect(!rateDirect)}\n                  />\n                  <DcaVLabel label=\"Time (UTC)\" value=\"\" w={{ base: '100%', lg: '28%' }} align=\"flex-end\" textAlign=\"right\" />\n                </HStack>\n              )}\n              {orderHistoryList?.map((orderHistory: any) => {\n                console.log('üöÄ ~ {orderHistoryList?.map ~ orderHistory:', orderHistory)\n                const inAmount = bnToAmount(orderHistory.inAmount, sellCoin?.decimals)\n                const outAmount = bnToAmount(orderHistory.outAmount, buyCoin?.decimals)\n                const rate = d(inAmount).div(outAmount).toString()\n                const rateResever = d(1).div(rate).toString()\n                return (\n                  <HStack\n                    w=\"100%\"\n                    key={orderHistory?.time}\n                    flexDirection={{ base: 'column', lg: 'row' }}\n                    borderBottom={isApp ? '1px solid' : 'none'}\n                    pb={isApp ? '16px' : '0'}\n                    borderColor=\"border\"\n                    _last={{\n                      borderBottom: 'none',\n                      pb: '0'\n                    }}\n                  >\n                    <DcaVLabel\n                      label={isApp ? 'Order info' : ''}\n                      value={`${formatNumber(inAmount)} ${sellCoin.symbol} ‚Üí ${formatNumber(outAmount)} ${buyCoin.symbol}`}\n                      w={{ base: '100%', lg: '40%' }}\n                    />\n                    <DcaVLabel\n                      label={isApp ? 'Rate' : ''}\n                      value={\n                        rateDirect\n                          ? `${formatNumber(rate)} ${sellCoin.symbol} per ${buyCoin.symbol}`\n                          : `${formatNumber(rateResever)} ${buyCoin.symbol} per ${sellCoin.symbol}`\n                      }\n                      w={{ base: '100%', lg: 'calc(32% - 16px)' }}\n                      direct={rateDirect}\n                      showDirectIcon={isApp ? true : false}\n                      onChangeDirect={() => setRateDirect(!rateDirect)}\n                    />\n                    <DcaVLabel\n                      label={isApp ? 'Time (UTC)' : ''}\n                      value={\n                        <HStack h=\"12px\">\n                          <Text fontSize=\"12px\" color=\"text_caption\">\n                            {timeFormatUTC(orderHistory?.time * 1000, 'YMDHM')}\n                          </Text>\n                          <Icon\n                            xlinkHref=\"#icon-icon_link1\"\n                            onClick={() => {\n                              window.open(getExplorerUrl(orderHistory?.tx, 'tx'))\n                            }}\n                          />\n                        </HStack>\n                      }\n                      w={{ base: '100%', lg: '28%' }}\n                      align=\"flex-end\"\n                      textAlign=\"right\"\n                    />\n                  </HStack>\n                )\n              })}\n              {d(total).gt(orderHistoryPageSize) && (\n                <Center w=\"100%\">\n                  <Pagination total={total} size={orderHistoryPageSize} currentPage={currentPage} onChange={handleCurrentPage} />\n                </Center>\n              )}\n            </VStack>\n          ))}\n\n        {currentTab.value == 'overview' && (\n          <VStack align=\"flex-start\" gap=\"20px\">\n            {orderInfo?.isShowTradeTips && orderInfo?.orderStatus == 'Active' && currentTabVal == 'active' && <WarningText />}\n            <VStack w=\"100%\" borderRadius=\"8px\" p=\"12px\" bg=\"card_bg\" gap=\"12px\">\n              <HTextLabelBox\n                isLoading={false}\n                label={`DCA  ${sellCoin?.symbol} Balance`}\n                value={`${formatNumber(orderInfo?.inBalance, 2) || '0'} ${sellCoin?.symbol}`}\n                skeletonStyle={{\n                  valueW: '128px'\n                }}\n              />\n              <HStack w=\"100%\" justify=\"space-between\">\n                <Text fontSize=\"12px\">DCA {buyCoin?.symbol} Balance</Text>\n                <HStack>\n                  <Text color=\"text_caption\" fontSize=\"12px\">\n                    {orderInfo?.outBalance > 0 ? formatNumber(orderInfo?.outBalance) : orderInfo?.outBalance} {buyCoin?.symbol}\n                  </Text>\n                  {currentTabVal == 'active' && (\n                    <Button\n                      isLoading={isClaimLoading}\n                      onClick={toClaim}\n                      disabled={orderInfo?.outBalance <= 0 || isClaimLoading}\n                      w=\"60px\"\n                      h=\"20px\"\n                      fontSize=\"12px\"\n                      borderRadius=\"4px\"\n                      variant=\"outline\"\n                    >\n                      Claim\n                    </Button>\n                  )}\n                </HStack>\n              </HStack>\n              <HTextLabelBox\n                isLoading={false}\n                label=\"Amount Withdrawn\"\n                value={\n                  currentTabVal == 'active'\n                    ? `${formatNumber(orderInfo?.outWithdraw, 2)}`\n                    : orderInfo?.orderStatus == 'PartialDeal' || orderInfo?.orderStatus == 'Close'\n                      ? d(orderInfo?.outWithdraw).gt(0)\n                        ? `${formatNumber(orderInfo?.inWithdrawn)} ${sellCoin?.symbol} ${formatNumber(orderInfo?.outWithdraw)} ${buyCoin?.symbol}`\n                        : `${formatNumber(orderInfo?.inWithdrawn)} ${sellCoin?.symbol}`\n                      : `${formatNumber(orderInfo?.outWithdraw)} ${buyCoin?.symbol}`\n                }\n                skeletonStyle={{\n                  valueW: '128px'\n                }}\n              />\n            </VStack>\n            <HStack\n              flexWrap=\"wrap\"\n              p={{ base: '0', lg: '0 12px' }}\n              mt={{\n                base: '-12px',\n                lg: '-28px'\n              }}\n              sx={{\n                '>div': {\n                  mt: {\n                    base: '12px',\n                    lg: '28px'\n                  },\n                  w: {\n                    base: '100%',\n                    lg: 'calc((100% - 66px)/3)'\n                  },\n                  '&:nth-child(3n+1)': {\n                    mr: {\n                      base: '0',\n                      lg: '50px'\n                    }\n                  }\n                }\n              }}\n            >\n              <DcaVLabel label=\"Invest Every\" value={orderInfo?.investEvery} />\n              <DcaVLabel label=\"# of Orders Left\" value={orderInfo?.ofOrderLeft} />\n              <DcaVLabel label=\"Each Order Size\" value={`${orderInfo?.eachOrderSize} ${sellCoin?.symbol}`} align=\"flex-end\" textAlign=\"right\" />\n              <DcaVLabel\n                label=\"Minimum Price\"\n                value={\n                  direct\n                    ? `${orderInfo?.minPrice} ${sellCoin?.symbol} per ${buyCoin?.symbol}`\n                    : `${orderInfo?.minPriceResever} ${buyCoin?.symbol} per ${sellCoin?.symbol}`\n                }\n                direct={direct}\n                onChangeDirect={() => setDirect(!direct)}\n              />\n              <DcaVLabel\n                label=\"Maximum Price\"\n                value={\n                  direct\n                    ? `${orderInfo?.maxPrice} ${sellCoin?.symbol} per ${buyCoin?.symbol}`\n                    : `${orderInfo?.maxPriceResever} ${buyCoin?.symbol} per ${sellCoin?.symbol}`\n                }\n                direct={direct}\n                onChangeDirect={() => setDirect(!direct)}\n              />\n              {currentTabVal == 'active' && (\n                <DcaVLabel\n                  label=\"Current Avg. Price\"\n                  value={\n                    direct\n                      ? `${orderInfo?.currentAvgPrice} ${sellCoin?.symbol} per ${buyCoin?.symbol}`\n                      : `${orderInfo?.currentAvgPriceResever} ${buyCoin?.symbol} per ${sellCoin?.symbol}`\n                  }\n                  align=\"flex-end\"\n                  textAlign=\"right\"\n                  direct={direct}\n                  onChangeDirect={() => setDirect(!direct)}\n                />\n              )}\n              {currentTabVal !== 'active' && orderInfo?.currentAvgPrice !== '--' && (\n                <DcaVLabel\n                  label=\"Avg. Price\"\n                  value={\n                    direct\n                      ? `${orderInfo?.currentAvgPrice} ${sellCoin?.symbol} per ${buyCoin?.symbol}`\n                      : `${orderInfo?.currentAvgPriceResever} ${buyCoin?.symbol} per ${sellCoin?.symbol}`\n                  }\n                  align=\"flex-end\"\n                  textAlign=\"right\"\n                  direct={direct}\n                  onChangeDirect={() => setDirect(!direct)}\n                />\n              )}\n              {currentTabVal == 'active' && <DcaVLabel label=\"Next Order (UTC)\" value={orderInfo?.nextCycleAt} />}\n              <DcaVLabel\n                label=\"Created (UTC)\"\n                value={orderInfo?.createAt}\n                align={currentTabVal == 'active' || (currentTabVal !== 'active' && orderInfo?.currentAvgPrice !== '--') ? 'flex-start' : 'flex-end'}\n              />\n            </HStack>\n          </VStack>\n        )}\n      </Block>\n    </VStack>\n  )\n}\ninterface DcaVLabelProps extends HTMLChakraProps<'div'> {\n  label: string\n  value: string | ReactNode\n  direct?: boolean\n  showDirectIcon?: boolean\n  textAlign?: 'left' | 'right'\n  onChangeDirect?: () => void\n}\nconst DcaVLabel = ({ label, value, direct, onChangeDirect, textAlign = 'left', showDirectIcon = true, ...rest }: DcaVLabelProps) => {\n  return (\n    <VStack\n      align=\"flex-start\"\n      flexDirection={{ base: 'row', lg: 'column' }}\n      w={{ base: '100%', lg: 'unset' }}\n      justify={{ base: 'space-between', lg: 'unset' }}\n      {...rest}\n    >\n      {label !== '' && (\n        <HStack h=\"12px\">\n          <Text fontSize=\"12px\">{label}</Text>\n          {onChangeDirect && showDirectIcon && <Icon xlinkHref=\"#icon-icon_swap1\" svgW=\"14px\" svgH=\"14px\" ml=\"-6px\" onClick={onChangeDirect} />}\n        </HStack>\n      )}\n      {value !== '' && (\n        <Box fontSize=\"12px\" color=\"text_caption\" textAlign={textAlign}>\n          {value}\n        </Box>\n      )}\n    </VStack>\n  )\n}\n\nconst WarningText = () => {\n  return (\n    <VStack p=\"12px 12px 0\" align=\"flex-start\">\n      <HStack>\n        <ErrorTips\n          tips=\"The system tried to execute your order multiple times but did not get it through. This is possibly because:\"\n          type=\"warning\"\n          tipsFontSize=\"12px\"\n          p=\"0\"\n          bg=\"none\"\n          svgW=\"20px\"\n          svgH=\"20px\"\n        />\n      </HStack>\n      <Text color=\"primary_yellow\" lineHeight=\"20px\" fontSize=\"12px\">\n        - The market price is not in your required price range\n      </Text>\n      <Text color=\"primary_yellow\" lineHeight=\"20px\" fontSize=\"12px\">\n        - The market no longer exit\n      </Text>\n      <Text color=\"primary_yellow\" lineHeight=\"20px\" fontSize=\"12px\">\n        - The market is extremely volatile\n      </Text>\n      <Text color=\"primary_yellow\" lineHeight=\"20px\" fontSize=\"12px\">\n        This DCA will continue to be attempted and the estimated end date may be extended until your order is fully executed.\n      </Text>\n    </VStack>\n  )\n}\n","import useTokenRank from '@/hooks/common/useTokenRank'\nimport useTransaction from '@/hooks/common/useTransaction'\nimport useDcaCancel from '@/hooks/dca/useDcaCancel'\nimport useExplorer from '@cetus/hooks/src/useExplorer'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { CommonTypeInfo, TransactionStatusType } from '@cetus/types'\nimport { CoinPairImage, Icon } from '@cetus/ui-kit'\nimport { formatNumber } from '@cetus/utils'\nimport { Button, HStack, Progress, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport RangeValue from '../position/RangeValue'\nimport OverviewOrders from './OverviewOrders'\n\nexport default function DcaItem({ currentTabVal, orderInfo, handleRefresh }: { currentTabVal: string; orderInfo: any; handleRefresh: () => void }) {\n  const { isApp } = useWindowWidth()\n  const { inCoin: sellCoin, outCoin: buyCoin } = orderInfo\n  const [isDetail, setIsDetail] = useState(false)\n  const [isCloseLoading, setIsCloseLoading] = useState(false)\n\n  useEffect(() => {\n    setIsDetail(false)\n  }, [currentTabVal])\n\n  const { getTokenRank } = useTokenRank()\n  const [pageDirect, setPageDirect] = useState(false)\n\n  useEffect(() => {\n    const direct = getTokenRank(sellCoin, buyCoin)\n    console.log('üöÄ ~ useEffectDcaItem ~ direct:', buyCoin, sellCoin, direct)\n    setPageDirect(!direct)\n  }, [sellCoin?.coin_type, buyCoin?.coin_type])\n\n  const { dcaCloseOrderPayload } = useDcaCancel()\n  const { signAndExecuteTransaction } = useTransaction()\n  const closeOrder = async () => {\n    setIsCloseLoading(true)\n    try {\n      console.log('üöÄ ~ closeOrder ~ orderInfo:', orderInfo)\n      const closeOrderParams = [\n        {\n          order_id: orderInfo?.orderID,\n          in_coin_type: orderInfo?.inCoin.coin_type,\n          out_coin_type: orderInfo?.outCoin.coin_type\n        }\n      ]\n      console.log('üöÄüöÄüöÄ ~ file: dca-order-card.vue:280 ~ closeOrder ~ closeOrderParams:', closeOrderParams)\n      const tx = await dcaCloseOrderPayload(closeOrderParams)\n      const res = await signAndExecuteTransaction(tx, {\n        getShowInfo: (status: TransactionStatusType) => {\n          const info: CommonTypeInfo = {\n            modalDescriptionText: `Closing DCA order`,\n            toastTitleText: 'Closing DCA order'\n          }\n          if (status === 'success') {\n            info.modalDescriptionText = 'DCA Order Closed'\n            info.toastDescriptionContent = ''\n            info.toastTitleText = 'DCA Order Closed'\n          }\n\n          return info\n        }\n      })\n      console.log('üöÄ ~ closeOrder ~ res:', res)\n      if (res) {\n        // ÈáçÊñ∞ÊãøÊï∞ÊçÆ\n        setTimeout(() => {\n          handleRefresh()\n        }, 2000)\n      }\n      setIsCloseLoading(false)\n    } catch (error) {\n      console.log('üöÄ ~ closeOrder ~ error:', error)\n      setIsCloseLoading(false)\n    }\n  }\n  const { getExplorerUrl } = useExplorer()\n  return (\n    <VStack w=\"100%\" gap=\"12px\" align=\"flex-start\">\n      <HStack w=\"100%\" justify=\"space-between\" flexDirection={{ base: 'column', lg: 'row' }} align={{ base: 'flex-start', lg: 'center' }}>\n        <HStack>\n          <CoinPairImage\n            coinAIconUrl={sellCoin?.logo_url}\n            coinBIconUrl={buyCoin?.logo_url}\n            coinACoinType={sellCoin?.coin_type}\n            coinBCoinType={buyCoin?.coin_type}\n            w=\"28px\"\n            h=\"28px\"\n          />\n          <Text color=\"text_caption\">\n            {sellCoin?.symbol} ‚Üí {buyCoin?.symbol}\n          </Text>\n          <Icon\n            xlinkHref=\"#icon-icon_link1\"\n            onClick={() => {\n              window.open(getExplorerUrl(orderInfo?.orderID, 'poolAddress'))\n            }}\n          />\n        </HStack>\n        {!isApp && (\n          <BtnContent\n            currentTabVal={currentTabVal}\n            isCloseLoading={isCloseLoading}\n            closeOrder={closeOrder}\n            orderInfo={orderInfo}\n            isDetail={isDetail}\n            onClickDetail={() => setIsDetail(!isDetail)}\n          />\n        )}\n      </HStack>\n      <HStack>\n        <Text color=\"text_caption\" fontSize=\"12px\">\n          {formatNumber(orderInfo?.inDepositedOut)} {sellCoin?.symbol}\n        </Text>\n        <Text color=\"primary_gray\" fontSize=\"12px\">\n          / {formatNumber(orderInfo?.inDeposited)} {sellCoin?.symbol}\n        </Text>\n        <Text color=\"primary_gray\" fontSize=\"12px\">\n          ({orderInfo?.inBalanceRatio}%)\n        </Text>\n        <Progress\n          w=\"50px\"\n          h=\"4px\"\n          value={orderInfo?.inBalanceRatio}\n          bg=\"#282828\"\n          sx={{\n            'div[role=\"progressbar\"]': {\n              bg: 'primary'\n            }\n          }}\n        />\n      </HStack>\n      <HStack w=\"100%\">\n        <Text color=\"primary_gray\" fontSize=\"12px\">\n          Price Range\n        </Text>\n        <RangeValue\n          displayTokenA={buyCoin}\n          displayTokenB={sellCoin}\n          isRank={true}\n          priceInfo={{\n            minPrice: orderInfo?.minPrice,\n            maxPrice: orderInfo?.maxPrice,\n            minPriceResever: orderInfo?.minPriceResever,\n            maxPriceResever: orderInfo?.maxPriceResever\n          }}\n          fontSize=\"12px\"\n        />\n      </HStack>\n      {isApp && (\n        <BtnContent\n          currentTabVal={currentTabVal}\n          isCloseLoading={isCloseLoading}\n          closeOrder={closeOrder}\n          orderInfo={orderInfo}\n          isDetail={isDetail}\n          onClickDetail={() => setIsDetail(!isDetail)}\n        />\n      )}\n      {isDetail && (\n        <OverviewOrders\n          pageDirect={pageDirect}\n          isDetail={isDetail}\n          currentTabVal={currentTabVal}\n          orderInfo={orderInfo}\n          handleRefresh={handleRefresh}\n        />\n      )}\n    </VStack>\n  )\n}\n\nconst BtnContent = ({\n  currentTabVal,\n  isCloseLoading,\n  closeOrder,\n  orderInfo,\n  isDetail,\n  onClickDetail\n}: {\n  currentTabVal: string\n  isCloseLoading: boolean\n  closeOrder: () => void\n  orderInfo: any\n  isDetail: boolean\n  onClickDetail: () => void\n}) => {\n  return (\n    <HStack w={{ base: '100%', lg: 'unset' }} flexDirection={{ base: 'column', lg: 'row' }}>\n      {currentTabVal == 'active' && (\n        <Button\n          w={{ base: '100%', lg: 'unset' }}\n          isLoading={isCloseLoading}\n          disabled={isCloseLoading}\n          onClick={closeOrder}\n          h=\"32px\"\n          minH=\"unset\"\n          p=\"0px 12px\"\n          fontSize=\"14px\"\n          borderRadius=\"8px\"\n          variant=\"outline\"\n        >\n          {orderInfo?.outBalance <= 0 ? 'Close' : 'Close and Withdraw'}\n        </Button>\n      )}\n      <Button\n        w={{ base: '100%', lg: 'unset' }}\n        h=\"32px\"\n        borderRadius=\"8px\"\n        minH=\"unset\"\n        p=\"0px 12px\"\n        fontSize=\"14px\"\n        variant=\"ghost\"\n        rightIcon={\n          <Icon\n            svgW=\"12px\"\n            svgH=\"12px\"\n            xlinkHref=\"#icon-icon_arrow\"\n            transform={isDetail ? 'rotate(180deg)' : 'rotate(0deg)'}\n            transition=\"transform 0.5s\"\n            ml=\"-4px\"\n            mr=\"-4px\"\n          />\n        }\n        onClick={onClickDetail}\n      >\n        Details\n      </Button>\n    </HStack>\n  )\n}\n","import useTransaction from '@/hooks/common/useTransaction'\nimport useDcaCancel from '@/hooks/dca/useDcaCancel'\nimport useDcaClaim from '@/hooks/dca/useDcaClaim'\nimport { Block, SelectTab } from '@cetus/design'\nimport { Tab } from '@cetus/design/src/components/common/SelectTab'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { useAccountStore } from '@cetus/stores'\nimport { CommonTypeInfo, TransactionStatusType } from '@cetus/types'\nimport { Icon, NoData, Pagination, RefreshButton } from '@cetus/ui-kit'\nimport { d } from '@cetus/utils'\nimport { Button, Center, HStack, Skeleton, SkeletonCircle, VStack } from '@chakra-ui/react'\nimport { useEffect, useMemo, useState } from 'react'\nimport DcaItem from './DcaItem'\n\nexport default function ActiveAndPastDcas({\n  handleRefresh,\n  activeList,\n  pastList,\n  isOrderLoading\n}: {\n  handleRefresh: (isLoading: boolean) => void\n  activeList: any\n  pastList: any\n  isOrderLoading: boolean\n}) {\n  const pageSize = 10\n  const [pageList, setPageList] = useState([])\n  const [paginationList, setPaginationList] = useState([])\n  const [total, setTotal] = useState(0)\n  const [currentPage, setCurrentPage] = useState(1)\n\n  const { currentAccount, onWalletModal } = useAccountStore()\n  const [currentTab, setCurrentTab] = useState<Tab>({\n    label: 'Active DCAs',\n    value: 'active'\n  })\n\n  const tabList: Tab[] = useMemo(\n    () => [\n      {\n        label: 'Active DCAs',\n        value: 'active',\n        num: activeList?.length > 0 ? activeList?.length : undefined\n      },\n      {\n        label: 'Past DCAs',\n        value: 'past',\n        num: pastList?.length > 0 ? pastList?.length : undefined\n      }\n    ],\n    [currentTab?.value, activeList, pastList]\n  )\n\n  const handleChangeTab = (item: Tab) => {\n    setCurrentPage(1)\n    setCurrentTab(item)\n  }\n\n  useEffect(() => {\n    const currentList = currentTab?.value === 'active' ? activeList : pastList\n    setPageList(currentList)\n    setTotal(currentList?.length)\n  }, [currentTab?.value, activeList, pastList])\n\n  useEffect(() => {\n    const start = (currentPage - 1) * pageSize\n    const end = start + pageSize\n    setPaginationList(pageList?.slice(start, end))\n  }, [currentPage, pageList, currentTab?.value])\n\n  const totalClaimNum = useMemo(() => {\n    if (currentTab?.value === 'past' || pageList?.length === 0) return 0\n    return pageList?.reduce((sum, orderInfo: any) => d(sum).plus(orderInfo?.outBalance as string), d(0)).toString()\n  }, [currentTab?.value, pageList])\n\n  const [isClaimAllLoading, setIsClaimAllLoading] = useState(false)\n  const [isCloseAllLoading, setIsCloseAllLoading] = useState(false)\n  const { dcaWithdrawPayload } = useDcaClaim()\n  const { dcaCloseOrderPayload } = useDcaCancel()\n  const { signAndExecuteTransaction } = useTransaction()\n\n  const closeAll = async () => {\n    setIsCloseAllLoading(true)\n    try {\n      const closeOrderParams = pageList?.map((orderInfo: any) => ({\n        order_id: orderInfo?.orderID,\n        in_coin_type: orderInfo?.inCoin.coin_type,\n        out_coin_type: orderInfo?.outCoin.coin_type\n      }))\n      console.log('üöÄ ~ const closeOrderParams:any=pageList.map ~ closeOrderParams:', closeOrderParams)\n\n      const tx = await dcaCloseOrderPayload(closeOrderParams)\n      const res = await signAndExecuteTransaction(tx, {\n        getShowInfo: (status: TransactionStatusType) => {\n          const info: CommonTypeInfo = {\n            modalDescriptionText: `Closing DCA order`,\n            toastTitleText: 'Closing DCA order'\n          }\n          if (status === 'success') {\n            info.modalDescriptionText = 'DCA Order Closed'\n            info.toastDescriptionContent = ''\n            info.toastTitleText = 'DCA Order Closed'\n          }\n\n          return info\n        }\n      })\n      console.log('üöÄ ~ closeAll ~ res:', res)\n      if (res) {\n        // ÈáçÊñ∞ÊãøÊï∞ÊçÆ\n        setTimeout(() => {\n          handleRefresh(true)\n        }, 2000)\n      }\n      setIsCloseAllLoading(false)\n    } catch (error) {\n      console.log('üöÄ ~ closeAll ~ error:', error)\n      setIsCloseAllLoading(false)\n    }\n  }\n\n  const claimAll = async () => {\n    setIsClaimAllLoading(true)\n    try {\n      const claimOrderParams: any = pageList?.map((orderInfo: any) => ({\n        order_id: orderInfo?.orderID,\n        in_coin_type: orderInfo?.inCoin.coin_type,\n        out_coin_type: orderInfo?.outCoin.coin_type\n      }))\n      console.log('üöÄ ~ const claimOrderParams:any=pageList.map ~ claimOrderParams:', claimOrderParams)\n\n      const tx = await dcaWithdrawPayload(claimOrderParams)\n      const res = await signAndExecuteTransaction(tx, {\n        getShowInfo: (status: TransactionStatusType) => {\n          const info: CommonTypeInfo = {\n            modalDescriptionText: `DCA Order Claimed`,\n            toastTitleText: 'DCA Order Claimed'\n          }\n          if (status === 'success') {\n            info.toastDescriptionContent = ''\n          }\n\n          return info\n        }\n      })\n      console.log('üöÄ ~ claimAll ~ res:', res)\n      if (res) {\n        // ÈáçÊñ∞ÊãøÊï∞ÊçÆ\n        setTimeout(() => {\n          handleRefresh(true)\n        }, 2000)\n      }\n      setIsClaimAllLoading(false)\n    } catch (error) {\n      console.log('üöÄ ~ claimAll ~ error:', error)\n      setIsClaimAllLoading(false)\n    }\n  }\n  const { isApp } = useWindowWidth()\n\n  return (\n    <VStack w=\"100%\">\n      <HStack w=\"100%\" justify=\"space-between\" flexDirection={{ base: 'column', lg: 'row' }}>\n        <HStack w={{ base: '100%', lg: 'unset' }} justify=\"space-between\">\n          <SelectTab\n            type=\"borderTab\"\n            wrapStyle={{\n              w: { base: '100%', lg: '300px' },\n              h: '52px',\n              gap: '32px',\n              bg: 'none',\n              border: 'none',\n              mb: '8px'\n            }}\n            itemStyle={{ fontSize: '16px' }}\n            tabList={tabList}\n            currentTab={currentTab.label}\n            handleChangeTab={handleChangeTab}\n          />\n          {isApp && <RefreshButton handleRefresh={handleRefresh} w=\"28px\" h=\"28px\" innerStyle={{ bg: 'none' }} />}\n        </HStack>\n        <HStack w={{ base: '100%', lg: 'unset' }}>\n          {currentTab.value === 'active' && pageList?.length > 0 && currentAccount?.address && (\n            <Button\n              w={{ base: '50%', lg: 'unset' }}\n              h=\"28px\"\n              minH=\"unset\"\n              p=\"0 10px\"\n              fontSize=\"14px\"\n              borderRadius=\"8px\"\n              variant=\"outline\"\n              color=\"primary_gray\"\n              _hover={{\n                color: 'text_caption'\n              }}\n              isLoading={isClaimAllLoading}\n              disabled={Number(totalClaimNum) === 0 || isClaimAllLoading}\n              onClick={claimAll}\n              leftIcon={<Icon xlinkHref=\"#icon-icon_incentive\" svgFill=\"primary\" mr=\"-4px\" ml=\"-4px\" />}\n            >\n              Claim all\n            </Button>\n          )}\n          {currentTab.value === 'active' && pageList?.length > 0 && currentAccount?.address && (\n            <Button\n              w={{ base: '50%', lg: 'unset' }}\n              isLoading={isCloseAllLoading}\n              disabled={pageList?.length == 0 || isCloseAllLoading}\n              h=\"28px\"\n              borderRadius=\"8px\"\n              minH=\"unset\"\n              p=\"0 12px\"\n              fontSize=\"14px\"\n              variant=\"outline\"\n              color=\"primary_gray\"\n              _hover={{\n                color: 'text_caption'\n              }}\n              onClick={closeAll}\n            >\n              Close All\n            </Button>\n          )}\n          {!isApp && <RefreshButton handleRefresh={handleRefresh} w=\"28px\" h=\"28px\" innerStyle={{ bg: 'none' }} />}\n        </HStack>\n      </HStack>\n      {!currentAccount?.address ? (\n        <NoData type=\"nowallet\" onboard={() => onWalletModal(true)} />\n      ) : isOrderLoading ? (\n        <Block>\n          <VStack\n            gap=\"16px\"\n            sx={{ '>div': { borderBottom: '1px solid', borderColor: 'border', pb: '16px', _last: { borderBottom: 'none', pb: '0px' } } }}\n          >\n            {[{}, {}].map((item, index) => (\n              <OrderLoading key={index} />\n            ))}\n          </VStack>\n        </Block>\n      ) : pageList?.length === 0 ? (\n        <NoData type=\"nodata\" text={currentTab?.value === 'active' ? 'No active orders' : 'No closed orders'} />\n      ) : (\n        <Block h={paginationList?.length > 8 ? '927px' : 'unset'} overflowY=\"auto\" p={{ base: '12px', lg: '20px 16px' }}>\n          <VStack\n            gap=\"16px\"\n            sx={{ '>div': { borderBottom: '1px solid', borderColor: 'border', pb: '16px', _last: { borderBottom: 'none', pb: '0px' } } }}\n          >\n            {paginationList?.map((item: any) => (\n              <DcaItem handleRefresh={() => handleRefresh(true)} key={item?.orderID} currentTabVal={currentTab.value} orderInfo={item} />\n            ))}\n          </VStack>\n          {!isOrderLoading && pageList?.length > pageSize && (\n            <Center mt=\"28px\">\n              <Pagination total={total} size={pageSize} currentPage={currentPage} onChange={setCurrentPage} />\n            </Center>\n          )}\n        </Block>\n      )}\n    </VStack>\n  )\n}\n\nconst OrderLoading = () => (\n  <VStack w=\"100%\" gap=\"16px\" align=\"flex-start\">\n    <HStack w=\"100%\" gap=\"0\" justify=\"space-between\">\n      <HStack gap=\"0\">\n        <HStack gap=\"0px\" mr=\"8px\" align=\"flex-start\">\n          <SkeletonCircle size=\"8\" />\n          <SkeletonCircle size=\"8\" />\n        </HStack>\n        <Skeleton height=\"4\" width=\"100px\" />\n      </HStack>\n      <Skeleton height=\"4\" width=\"150px\" />\n    </HStack>\n    <Skeleton height=\"4\" width=\"180px\" />\n  </VStack>\n)\n","import { DcaConfigPath } from '@/apis/path'\nimport useDcaStore from '@/store/dca'\nimport { DcaConfig } from '@/types/dca'\nimport { useFetch } from '@cetus/hooks'\nimport { useSdk } from '@cetus/sdk-factory'\n\nexport default function useDcaConfig() {\n  const { fetchByApi } = useFetch()\n  const dcaSdk = useSdk('dca')\n  const { setDcaConfig } = useDcaStore()\n\n  const getDcaConfigFromApi = async () => {\n    const res = await fetchByApi(DcaConfigPath, 'GET')\n    return res || null\n  }\n\n  const getDcaConfigFromContract = async () => {\n    const data = await dcaSdk!.Dca.getDcaGlobalConfig()\n    return data\n  }\n\n  const getDcaConfig = async () => {\n    const dcaConfig: DcaConfig = {}\n    try {\n      const apiConfig = await getDcaConfigFromApi()\n      if (apiConfig) {\n        dcaConfig['minCycleAmountInUsd'] = apiConfig?.min_amount_in_usd\n      }\n    } catch (error) {\n      console.log('üöÄ ~ file: useDcaConfig.ts:22 ~ getDcaConfig ~ error:', error)\n    }\n\n    try {\n      const contractConfig = await getDcaConfigFromContract()\n      dcaConfig['minCycleCount'] = contractConfig?.min_cycle_count\n      dcaConfig['minCycleFrequency'] = contractConfig?.min_cycle_frequency\n      dcaConfig['whitelistMode'] = contractConfig?.whitelist_mode\n    } catch (error) {\n      console.log('üöÄ ~ file: useDcaConfig.ts:32 ~ getDcaConfig ~ error:', error)\n    }\n\n    console.log('üöÄüöÄüöÄ ~ file: useDcaConfig.ts:45 ~ getDcaConfig ~ dcaConfig:', dcaConfig)\n    setDcaConfig(dcaConfig)\n    return dcaConfig\n  }\n\n  return {\n    getDcaConfig\n  }\n}\n","import { DcaQuotePath } from '@/apis/path'\nimport useDcaStore from '@/store/dca'\nimport { DcaQuoteData } from '@/types'\nimport { useFetch } from '@cetus/hooks'\n\nexport default function useDcaGetQuote() {\n  const { fetchByApi } = useFetch()\n  const { setDcaQuote } = useDcaStore()\n  const getDcaQuote = async ({\n    inCoin,\n    freq,\n    count,\n    sender\n  }: {\n    inCoin: string\n    freq: string | number\n    count: string | number\n    sender: string\n  }): Promise<DcaQuoteData | null> => {\n    try {\n      const data = await fetchByApi(DcaQuotePath, 'GET', {\n        in_coin: inCoin,\n        freq,\n        count,\n        sender\n      })\n      if (data) {\n        const result = {\n          amountInLimitPerCycle: data?.amount_in_limit_per_cycle,\n          coinType: data?.coin_type,\n          feeRate: data?.fee_rate,\n          signature: data?.signature,\n          signer: data?.signer,\n          timestamp: data?.timestamp\n        }\n        setDcaQuote(result)\n        return result\n      }\n    } catch (error) {\n      console.log('getDcaQuote ~ error:', error)\n    }\n\n    return null\n  }\n\n  return {\n    getDcaQuote\n  }\n}\n","import { AggregatorDexMap } from '@/config/aggregator'\nimport useDcaStore from '@/store/dca'\nimport { AggregatorServerErrorCode, SwapRouterData } from '@/types'\nimport { useDebounceFunction } from '@cetus/hooks'\nimport { useGetTokenBalance } from '@cetus/hooks/src/useTokenBalance'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport { useAccountStore } from '@cetus/stores'\nimport useTokenPriceStore from '@cetus/stores/src/tokenPrice'\nimport { Token } from '@cetus/types'\nimport envConfigs from '@cetus/types/src/config/envConfigs'\nimport { bnToAmount, d, Decimal, formatNumber, formatNumberWithDown, timeFormatUTC } from '@cetus/utils'\nimport { extractStructTagFromType, fixCoinType, toDecimalsAmount } from '@cetusprotocol/common-sdk'\nimport { useEffect, useMemo, useRef, useState } from 'react'\nimport useTokenRank from '../common/useTokenRank'\nimport { useFindBestRouting } from '../swap/useFindBestRouting'\nimport useDcaConfig from './useDcaConfig'\nimport useDcaGetQuote from './useGetDcaQuote'\n\nexport function useDcaHook() {\n  const {\n    sellCoin,\n    buyCoin,\n    setSellCoin,\n    setBuyCoin,\n    sellAmount,\n    buyAmount,\n    setBuyAmount,\n    setSellAmount,\n    dcaConfig,\n    setCurrentCoinKey,\n    currentCoinKey,\n    investNum,\n    currentInvest,\n    orderNum,\n    dcaQuote,\n    setInvestNum,\n    setOrderNum,\n    setCurrentInvest,\n    setPageDirect,\n    pageDirect,\n    dcaMode,\n    sellTotalAmount,\n    setSellTotalAmount,\n    setLowerPriceSize,\n    setUpperPriceSize\n  } = useDcaStore()\n\n  const { currentAccount } = useAccountStore()\n  const { getDcaConfig } = useDcaConfig()\n  const { getDcaQuote } = useDcaGetQuote()\n  const { coinPriceObj } = useTokenPriceStore()\n  const { fetchTokenPrices, getTokenAmountValue } = useTokenPrice()\n  const [uuid, setUuid] = useState<string>('')\n  const uuidRef = useRef(uuid)\n\n  useEffect(() => {\n    uuidRef.current = uuid\n  }, [uuid])\n\n  // Ëé∑ÂèñdcaÁöÑÈÖçÁΩÆ(ÂçïÁ¨îËÆ¢ÂçïÊï∞Èáè‰∏çËÉΩÂ∞è‰∫éÂ§öÂ∞ë)\n  const handleGetDcaConfig = async () => {\n    const res = await getDcaConfig()\n    console.log('üöÄ ~ handleGetDcaConfig ~ res:', res)\n  }\n\n  // Initialization dca Token\n  const initiaTokenSelect = () => {\n    console.log('üöÄ ~ initiaTokenSelect ~ setSellCoin:')\n    setSellCoin(envConfigs.clmm_swap.from_coin)\n    setBuyCoin(envConfigs.clmm_swap.to_coin)\n  }\n\n  useEffect(() => {\n    setLowerPriceSize('0%')\n    setUpperPriceSize('0%')\n    initiaTokenSelect()\n    getDcaConfig()\n    return () => {\n      resetInputAmount()\n    }\n  }, [])\n\n  // ËÆ¢Âçï‰ª∑Ê†ºÊúÄÂ∞èÂÄº\n  const [minPriceValue, setMinPriceValue] = useState<string>('')\n  // ËÆ¢Âçï‰ª∑Ê†ºÊúÄÂ§ßÂÄº\n  const [maxPriceValue, setMaxPriceValue] = useState<string>('')\n  // ‰ΩôÈ¢ù\n  const { balanceInfo: sellBalanceInfo } = useGetTokenBalance(sellCoin)\n  const { balanceInfo: buyBalanceInfo } = useGetTokenBalance(buyCoin)\n\n  // ‰ª∑ÂÄº\n  const sellAmountValue = getTokenAmountValue(sellCoin?.coin_type, sellAmount)\n\n  // ÂçñÂá∫Êï∞ÈáèÂèòÂåñ\n  const handleAmountChange = (amount: string) => {\n    setCurrentCoinKey('sellCoin')\n    setSellAmount(amount)\n    fetchFindAvailableRouterDebounce()\n  }\n  useEffect(() => {\n    if (+sellAmount && +orderNum) {\n      if (dcaMode == 'total') {\n        setSellTotalAmount(sellAmount)\n      } else {\n        setSellTotalAmount(d(sellAmount).mul(orderNum).toString())\n      }\n    } else {\n      setSellTotalAmount('')\n    }\n  }, [sellAmount, dcaMode, orderNum])\n  const handlePageToggleDirect = () => {\n    const decimals = pageDirect ? sellCoin?.decimals : buyCoin?.decimals\n    setPageDirect(!pageDirect)\n    if (minPriceValue && maxPriceValue) {\n      const value = minPriceValue\n      const newMinVal = d(1).div(maxPriceValue).toString()\n      const newMaxVal = d(1).div(value).toString()\n      setMinPriceValue(formatNumberWithDown(newMinVal, decimals, true).toString())\n      setMaxPriceValue(formatNumberWithDown(newMaxVal, decimals, true).toString())\n    }\n  }\n  // tokenÈÄâÊã©\n  const handleSelectToken = (coin: Token, isSell: boolean = true) => {\n    console.log('üöÄüöÄüöÄ ~ useDcaHook.ts:143 ~ handleSelectToken ~ handleSelectToken:')\n\n    setMinPriceValue('')\n    setMaxPriceValue('')\n    if (isSell) {\n      if (fixCoinType(coin?.coin_type) === fixCoinType(buyCoin!.coin_type)) {\n        onReverseClick()\n      } else {\n        setSellCoin(coin)\n      }\n      setCurrentCoinKey('sellCoin')\n    } else {\n      if (fixCoinType(coin?.coin_type) === fixCoinType(sellCoin!.coin_type)) {\n        onReverseClick()\n      } else {\n        setBuyCoin(coin)\n      }\n      setCurrentCoinKey('buyCoin')\n    }\n  }\n  // Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü\n  const resetInputAmount = () => {\n    setSellAmount('')\n    setMinPriceValue('')\n    setMaxPriceValue('')\n    setUuid('')\n    setInvestNum('1')\n    setOrderNum('2')\n    setCurrentInvest('Hour')\n  }\n  // ‰∫§Êç¢tokenÊñπÂêë\n  const onReverseClick = () => {\n    setSellCoin(buyCoin!)\n    setBuyCoin(sellCoin!)\n  }\n\n  // dcaÁôΩÂêçÂçïÂà§Êñ≠\n  const isDcaSelect = useMemo(() => {\n    const whitelistMode = dcaConfig?.whitelistMode\n    console.log('üöÄ ~ useDcaHook ~ whitelistMode:', whitelistMode)\n    if (whitelistMode === 3) return true\n    if (whitelistMode === 0) return false\n\n    if (currentCoinKey === 'sellCoin') {\n      return whitelistMode === 1\n    } else if (currentCoinKey === 'buyCoin') {\n      return whitelistMode === 2\n    }\n    return false\n  }, [dcaConfig?.whitelistMode])\n\n  // sellCoinÁöÑÂΩìÂâç‰ª∑Ê†º\n  const sellCoinPrice = coinPriceObj[extractStructTagFromType(sellCoin?.coin_type).full_address]?.price || 0\n  // ÂçïÁ¨îËÆ¢ÂçïÁöÑÊï∞Èáè\n  const sellPerOrder = useMemo(() => {\n    if (sellTotalAmount && orderNum) {\n      return d(sellTotalAmount).div(orderNum).toString()\n    } else {\n      return 0\n    }\n  }, [sellTotalAmount, orderNum])\n  // ÂçïÁ¨îËÆ¢ÂçïÁöÑ‰ª∑ÂÄº\n  const sellPerOrderUSD = useMemo(() => {\n    if (sellTotalAmount && orderNum && sellCoinPrice) {\n      return d(sellTotalAmount).div(orderNum).mul(sellCoinPrice).toString() || 0\n    } else {\n      return 0\n    }\n  }, [sellTotalAmount, orderNum, sellCoinPrice])\n  // ËÆ¢ÂçïË¥πÁéá\n  const platformFee = d(dcaQuote?.feeRate).div(Decimal.pow(10, 6)).mul(100).toString() + '%' || '0%'\n  // ÂçïÊØîËÆ¢ÂçïÁöÑÊï∞ÈáèÈôêÂà∂\n  const amountInLimit = useMemo(() => {\n    if (dcaQuote?.amountInLimitPerCycle && sellCoin?.decimals) {\n      return bnToAmount(dcaQuote?.amountInLimitPerCycle, sellCoin?.decimals)\n    }\n  }, [dcaQuote?.amountInLimitPerCycle])\n  // ÂçïÊØîËÆ¢ÂçïÁöÑÊï∞ÈáèÈîôËØØ\n  const orderSizeError = useMemo(() => {\n    console.log('üöÄ ~ orderSizeError ~ sellPerOrder:', sellPerOrder, amountInLimit)\n    if (dcaConfig?.minCycleAmountInUsd && orderNum && sellAmount && amountInLimit && Number(sellPerOrder) < Number(amountInLimit)) {\n      return {\n        status: true,\n        tips: `Each order size should be higher than $${dcaConfig?.minCycleAmountInUsd}.`\n      }\n    }\n    if (sellAmount && orderNum && Number(sellPerOrderUSD) > 10000) {\n      return {\n        status: true,\n        tips: 'Each order size should be less than $10,000'\n      }\n    }\n    return {\n      status: false,\n      tips: ''\n    }\n  }, [dcaMode, amountInLimit, orderNum, sellPerOrder, sellAmount, sellPerOrderUSD, dcaConfig?.minCycleAmountInUsd])\n  // ËÆ¢ÂçïÊï∞ÈáèËæìÂÖ•ÈîôËØØ\n  const orderInputError = useMemo(() => {\n    console.log('üöÄ ~ orderInputError ~ orderNum:', orderNum, orderNum && Number(orderNum) < Number(dcaConfig?.minCycleCount))\n    if (dcaConfig?.minCycleCount && orderNum && Number(orderNum) < Number(dcaConfig?.minCycleCount)) {\n      return {\n        status: true,\n        tips: `Number of Orders cannot be lower than ${dcaConfig?.minCycleCount}.`\n      }\n    } else if (orderNum && Number(investNum) <= 0) {\n      return {\n        status: true,\n        tips: 'Please enter an interval above 0'\n      }\n    } else if (orderNum && investNum && Number(investNum) > 10000) {\n      return {\n        status: true,\n        tips: 'The maximum interval is 10,000.'\n      }\n    } else {\n      return {\n        status: false,\n        tips: ''\n      }\n    }\n  }, [orderNum, dcaConfig?.minCycleCount, investNum])\n\n  // ÊúÄÂ§ßÊúÄÂ∞è‰ª∑Ê†ºÈîôËØØ\n  const priceError = useMemo(() => {\n    if ((minPriceValue && Number(minPriceValue) == 0) || (maxPriceValue && Number(maxPriceValue) == 0)) {\n      return {\n        status: true,\n        tips: 'Please enter a price greater than 0.'\n      }\n    } else if (minPriceValue && maxPriceValue && Number(minPriceValue) >= Number(maxPriceValue)) {\n      return {\n        status: true,\n        tips: 'The max price should be higher than min price.'\n      }\n    } else {\n      return {\n        status: false,\n        tips: ''\n      }\n    }\n  }, [minPriceValue, maxPriceValue])\n\n  // ËÆ¢ÂçïÁªìÊùüÊó∂Èó¥\n  const [estEndDate, setEstEndDate] = useState('')\n  // ËÆ¢ÂçïÊó∂Èó¥ÈîôËØØ\n  const [orderTimeError, setOrderTimeError] = useState({\n    status: false,\n    tips: ''\n  })\n  const getEstEndDate = () => {\n    const date = new Date().getTime()\n    let investTime = 0\n    console.log('üöÄüöÄüöÄ ~ file: dca-detail.vue:34 ~ estEndDate ~ currentTime.value:', currentInvest)\n    switch (currentInvest) {\n      case 'Minute':\n        // investTime = d(investNum).mul(60).mul(1000).mul(d(orderNum).sub(1)).plus(60000).toNumber()\n        investTime = Number(investNum) * 60 * 1000 * (Number(orderNum) - 1) + 60000\n        break\n      case 'Hour':\n        investTime = Number(investNum) * 60 * 60 * 1000 * (Number(orderNum) - 1) + 60000\n        break\n      case 'Day':\n        investTime = Number(investNum) * 60 * 60 * 24 * 1000 * (Number(orderNum) - 1) + 60000\n        break\n      case 'Week':\n        investTime = Number(investNum) * 60 * 60 * 24 * 7 * 1000 * (Number(orderNum) - 1) + 60000\n        break\n      case 'Month':\n        investTime = Number(investNum) * 60 * 60 * 24 * 30 * 1000 * (Number(orderNum) - 1) + 60000\n        break\n    }\n    console.log(\n      'üöÄüöÄüöÄ ~ file: dca-detail.vue:46 ~ estEndDate ~ date + investTime:',\n      orderNum,\n      date,\n      investTime,\n      investTime > 60 * 60 * 24 * 365 * 1000\n    )\n    const result = timeFormatUTC(date + investTime, 'YMDHM')\n    console.log('üöÄüöÄüöÄ ~ file: dca-data.ts:303 ~ getEstEndDate ~ result:', result)\n    setEstEndDate(result!)\n    if (result == 'NaN-NaN-NaN NaN:NaN') {\n      setEstEndDate('--')\n    }\n    if (investTime > 60 * 60 * 24 * 365 * 1000) {\n      setOrderTimeError({\n        status: true,\n        tips: 'The maximum execution period is 1 year'\n      })\n    } else {\n      setOrderTimeError({\n        status: false,\n        tips: 'The maximum execution period is 1 year'\n      })\n    }\n  }\n\n  useEffect(() => {\n    getEstEndDate()\n  }, [sellAmount, investNum, orderNum, minPriceValue, maxPriceValue, currentInvest])\n\n  const cycleFrequency = useMemo(() => {\n    let investTime = 0\n    switch (currentInvest) {\n      case 'Minute':\n        investTime = Number(investNum) * 60\n        break\n      case 'Hour':\n        investTime = Number(investNum) * 60 * 60\n        break\n      case 'Day':\n        investTime = Number(investNum) * 60 * 60 * 24\n        break\n      case 'Week':\n        investTime = Number(investNum) * 60 * 60 * 24 * 7\n        break\n      case 'Month':\n        investTime = Number(investNum) * 60 * 60 * 24 * 30\n        break\n    }\n    console.log('üöÄüöÄüöÄ ~ file: dca-data.ts:333 ~ cycleFrequency ~ investTime:', investTime)\n    return investTime\n  }, [currentInvest, investNum])\n\n  useEffect(() => {\n    if (sellCoin?.coin_type && cycleFrequency && orderNum) {\n      queryDcaQuoteDebounce(sellCoin?.coin_type, cycleFrequency, orderNum, currentAccount?.address)\n    }\n  }, [sellCoin?.coin_type, cycleFrequency, orderNum, currentAccount?.address])\n\n  const queryDcaQuote = async (coinAddress: string, freq: string | number, count: string | number, sender: string) => {\n    const defaultWalletAddress = sender || '0x0000000000000000000000000000000000000000000000000000000000000000'\n    try {\n      const result = await getDcaQuote({ inCoin: coinAddress, freq, count, sender: defaultWalletAddress })\n      console.log('üöÄ ~ queryDcaQuote ~ result:', result)\n      return result\n    } catch (error) {\n      console.log('üöÄüöÄüöÄ ~ file: dca-data.ts:344 ~ queryDcaQuote ~ error:', error)\n    }\n  }\n\n  const queryDcaQuoteDebounce = useDebounceFunction((coinAddress: string, freq: string | number, count: string | number, sender: string) => {\n    queryDcaQuote(coinAddress, freq, count, sender)\n  }, 500)\n\n  const { findBestRouters } = useFindBestRouting()\n  const [findRouterLoading, setFindRouterLoading] = useState<boolean>(false)\n  const [routerData, setRouterData] = useState<SwapRouterData | undefined>(undefined)\n\n  const { getTokenRank } = useTokenRank()\n\n  useEffect(() => {\n    getTokensPrice()\n    const direct = getTokenRank(sellCoin!, buyCoin!)\n    console.log('üöÄ ~ useEffect ~ direct:', direct)\n    setPageDirect(direct)\n  }, [sellCoin?.coin_type, buyCoin?.coin_type])\n\n  useEffect(() => {\n    fetchFindAvailableRouterDebounce()\n  }, [sellPerOrder, sellCoin?.coin_type, buyCoin?.coin_type])\n\n  const fetchFindAvailableRouterDebounce = () => {\n    if (d(sellPerOrder).gt(0) && sellCoin?.coin_type && buyCoin?.coin_type) {\n      setFindRouterLoading(true)\n      console.log('üöÄ ~ useDcaHook ~ sellAmountDebounce:', Number(sellPerOrder) > 0, sellPerOrder, sellCoin?.coin_type, buyCoin?.coin_type, orderNum)\n      findAvailableRouterDebounce()\n    }\n  }\n\n  const findAvailableRouterDebounce = useDebounceFunction(() => {\n    findAvailableRouter()\n  }, 500)\n\n  // Âà§Êñ≠ËØ•‰∫§ÊòìÂØπÔºåÊòØÂê¶Â≠òÂú®ÂèØÁî®Ë∑ØÁî±\n  const findAvailableRouter = async () => {\n    console.log('üöÄ ~ findAvailableRouter ~ findAvailableRouter:', sellPerOrder)\n    if (sellCoin && buyCoin) {\n      const newUuid = `${sellCoin.coin_type}_${buyCoin.coin_type}`\n      setUuid(newUuid)\n      const providersKeys = Object.entries(AggregatorDexMap).map(([key, value]) => value.id)\n      const result = await findBestRouters({\n        fromToken: sellCoin,\n        toToken: buyCoin,\n        amount: toDecimalsAmount(sellPerOrder || 1, sellCoin?.decimals).toFixed(0),\n        providersKeys: providersKeys as string[],\n        by_amount_in: true,\n        uuid: newUuid\n      })\n\n      console.log('üöÄ ~ findAvailableRouter ~ newUuid:', newUuid, uuid, result)\n      if (newUuid === uuidRef.current) {\n        setRouterData(result)\n        setBuyAmount(result.toAmountUi)\n        setFindRouterLoading(false)\n      }\n    }\n  }\n\n  // Ëé∑ÂèñÂΩìÂâçÁöÑtoken‰ª∑Ê†º\n  const getTokensPrice = () => {\n    const uniqueTokens = (sellCoin?.coin_type || buyCoin?.coin_type) && Array.from(new Set([sellCoin?.coin_type, buyCoin?.coin_type]))\n    // fetchTokenPrices(uniqueTokens || [])\n    if (uniqueTokens?.length > 0) {\n      fetchTokenPrices(uniqueTokens)\n    }\n  }\n\n  const btnStatus = useMemo(() => {\n    console.log('üöÄ ~ btnStatus ~ routerData:', routerData)\n    const btnInfo: {\n      text?: string\n      disabled: boolean\n    } = {\n      text: 'Create DCA Order',\n      disabled: false\n    }\n    if (!currentAccount?.address) {\n      btnInfo.text = 'Connect Wallet'\n      btnInfo.disabled = false\n      return btnInfo\n    }\n    if (!sellCoin?.coin_type || !buyCoin?.coin_type) {\n      btnInfo.disabled = true\n      btnInfo.text = 'Select a token'\n      return btnInfo\n    }\n    if (!sellAmount || Number(sellAmount) == 0) {\n      btnInfo.disabled = true\n      btnInfo.text = 'Enter an amount'\n      return btnInfo\n    }\n    if (d(sellTotalAmount).gt(sellBalanceInfo?.balanceFormat || 0)) {\n      btnInfo.disabled = true\n      btnInfo.text = `Insufficient ${sellCoin?.symbol} balance`\n      return btnInfo\n    }\n    if (d(dcaConfig?.minCycleCount).gt(orderNum || 0)) {\n      btnInfo.disabled = true\n      btnInfo.text = `Minimum ${dcaConfig?.minCycleCount} orders`\n      return btnInfo\n    }\n\n    if (d(amountInLimit).gt(sellPerOrder || 0)) {\n      btnInfo.disabled = true\n      btnInfo.text = `Minimum $${dcaConfig?.minCycleAmountInUsd} per order`\n      return btnInfo\n    }\n\n    if (\n      orderSizeError.status ||\n      orderInputError.status ||\n      priceError.status ||\n      orderTimeError.status ||\n      !sellCoin?.coin_type ||\n      !buyCoin?.coin_type ||\n      !orderNum ||\n      !investNum ||\n      !minPriceValue ||\n      !maxPriceValue\n    ) {\n      btnInfo.disabled = true\n      btnInfo.text = 'Create DCA Order'\n      return btnInfo\n    }\n    console.log('üöÄ ~ btnStatus ~ routerData:', routerData)\n    // errorCode\n    if (routerData && routerData.errorCode) {\n      if (routerData.errorCode === AggregatorServerErrorCode.NoRouter || routerData.errorCode === AggregatorServerErrorCode.HoneyPot) {\n        btnInfo.text = 'No Available Route'\n        btnInfo.disabled = true\n        return btnInfo\n      }\n    }\n    return btnInfo\n  }, [\n    currentAccount?.address,\n    sellBalanceInfo,\n    orderSizeError,\n    orderInputError,\n    priceError,\n    orderTimeError,\n    sellCoin?.coin_type,\n    buyCoin?.coin_type,\n    sellTotalAmount,\n    investNum,\n    orderNum,\n    minPriceValue,\n    maxPriceValue,\n    routerData?.routes?.length\n  ])\n  const warningTokenList = useMemo(() => {\n    const list: Token[] = []\n    if (buyCoin) {\n      list.push(buyCoin)\n    }\n\n    if (sellCoin) {\n      list.push(sellCoin)\n    }\n\n    return list\n  }, [buyCoin, sellCoin])\n\n  const currentPrice = useMemo(() => {\n    if (pageDirect && buyAmount && sellPerOrder) {\n      return formatNumber(d(buyAmount).div(sellPerOrder).toString(), buyCoin?.decimals, true)\n    }\n    if (!pageDirect && buyAmount && sellPerOrder) {\n      return formatNumber(d(sellPerOrder).div(buyAmount).toString(), sellCoin?.decimals, true)\n    }\n    return ''\n  }, [pageDirect, sellPerOrder, buyAmount])\n\n  const minPriceValueDebounce = useDebounceFunction((val: string) => {\n    setMinPriceValue(val)\n  }, 500)\n\n  const maxPriceValueDebounce = useDebounceFunction((val: string) => {\n    setMaxPriceValue(val)\n  }, 500)\n\n  const handleMinInputChange = (val: string) => {\n    console.log('üöÄ ~ handleMinInputChange ~ val:', val)\n    minPriceValueDebounce(val)\n  }\n  const handleMaxInputChange = (val: string) => {\n    console.log('üöÄ ~ handleMaxInputChange ~ val:', val)\n    maxPriceValueDebounce(val)\n  }\n\n  useEffect(() => {\n    changeLowerPriceSize(minPriceValue)\n  }, [minPriceValue, currentPrice])\n\n  useEffect(() => {\n    changeUpperPriceSize(maxPriceValue)\n  }, [maxPriceValue, currentPrice])\n\n  const changeLowerPriceSize = (val: string) => {\n    console.log('üöÄ ~ changeLowerPriceSize ~ val:', val)\n    if (currentPrice && val) {\n      // ÂÖ¨Âºè lowerPriceSize = (lowerPrice/currentPrice - 1)*100\n      const lowerPrice = d(val).div(currentPrice).sub(1).mul(100).toString()\n      console.log('üöÄ ~ handleMaxInputChange ~ upperPrice:', lowerPrice)\n      setLowerPriceSize(d(lowerPrice).gt(10000) ? '>10,000%' : `${formatNumber(lowerPrice, 1, false, Decimal.ROUND_HALF_DOWN)}%`)\n    }\n  }\n  const changeUpperPriceSize = (val: string) => {\n    if (currentPrice && val) {\n      // ÂÖ¨Âºè upperPriceSize = (upperPrice/currentPrice - 1)*100\n      const upperPrice = d(val).div(currentPrice).sub(1).mul(100).toString()\n      console.log('üöÄ ~ handleMaxInputChange ~ upperPrice:', upperPrice)\n      setUpperPriceSize(d(upperPrice).gt(10000) ? '>10,000%' : `${formatNumber(upperPrice, 1, false, Decimal.ROUND_HALF_DOWN)}%`)\n    }\n  }\n  return {\n    currentPrice,\n    handleMinInputChange,\n    handleMaxInputChange,\n    warningTokenList,\n    resetInputAmount,\n    cycleFrequency,\n    btnStatus,\n    fetchFindAvailableRouterDebounce,\n    queryDcaQuote,\n    findRouterLoading,\n    platformFee,\n    estEndDate,\n    sellPerOrder,\n    isDcaSelect,\n    onReverseClick,\n    sellBalanceInfo,\n    buyBalanceInfo,\n    sellAmountValue,\n    handleAmountChange,\n    handleSelectToken,\n    minPriceValue,\n    maxPriceValue,\n    handlePageToggleDirect,\n    orderSizeError,\n    orderInputError,\n    priceError,\n    orderTimeError\n  }\n}\n","import useDcaStore from '@/store/dca'\nimport { useGetToken } from '@cetus/hooks/src/useToken'\nimport { useSdk } from '@cetus/sdk-factory'\nimport useTokenSelectStore from '@cetus/stores/src/useTokenSelectStore'\nimport { CoinType } from '@cetus/types'\n\nexport default function () {\n  const dcaSdk = useSdk('dca')\n  const { getTokenListInfo } = useGetToken()\n  const { setFilterTokenLoading } = useTokenSelectStore()\n  const { setInCoinWhiteList, setOutCoinWhiteList } = useDcaStore()\n  // whitelist_mode = 0 ÂÖ≥Èó≠ÁôΩÂêçÂçïÊ®°Âºè\n  // whitelist_mode = 1 Âè™ÂºÄÂêØin_coin\n  // whitelist_mode = 2 Âè™ÂºÄÂêØout_coin\n  // whitelist_mode = 3 ÂÖ®ÈÉ®ÂºÄÂêØ\n  const getDcaCoinWhiteList = async (whitelist_mode: number) => {\n    console.log('üöÄüöÄüöÄ ~ file: useGetDcaTokenList.ts:44 ~ getDcaCoinWhiteList ~ getDcaCoinWhiteList:')\n    try {\n      setFilterTokenLoading(true)\n      const { in_coin_list, out_coin_list } = await dcaSdk!.Dca.getDcaCoinWhiteList(whitelist_mode)\n      console.log('üöÄüöÄüöÄ ~ file: useGetDcaTokenList.ts:18 ~ getDcaCoinWhiteList ~ outCoinList:', out_coin_list)\n      console.log('üöÄüöÄüöÄ ~ file: useGetDcaTokenList.ts:18 ~ getDcaCoinWhiteList ~ inCoinList:', in_coin_list)\n      const inList: any = []\n      const outList: any = []\n      const inCoinTypeList = in_coin_list.map((item: any) => item)\n      const inTokenMap = await getTokenListInfo(inCoinTypeList)\n      if (inTokenMap) {\n        for (let i = 0; i < in_coin_list.length; i++) {\n          const tokenInfo = inTokenMap.get(in_coin_list[i] as CoinType)\n          inList.push({\n            ...tokenInfo,\n            labels: tokenInfo?.labels?.length > 0 ? tokenInfo?.labels : ''\n          })\n        }\n      }\n      const outCoinTypeList = out_coin_list.map((item: any) => item)\n      const outTokenMap = await getTokenListInfo(outCoinTypeList)\n      if (outTokenMap) {\n        for (let i = 0; i < out_coin_list.length; i++) {\n          const tokenInfo = outTokenMap.get(out_coin_list[i] as CoinType)\n          outList.push({\n            ...tokenInfo,\n            labels: tokenInfo?.labels?.length > 0 ? tokenInfo?.labels : ''\n          })\n        }\n      }\n\n      console.log('üöÄüöÄüöÄ ~ file: useDca.ts:351 ~ getDcaCoinWhiteList ~ outList:', outList)\n      console.log('üöÄüöÄüöÄ ~ file: useDca.ts:351 ~ getDcaCoinWhiteList ~ inList:', inList)\n      setInCoinWhiteList(inList)\n      setOutCoinWhiteList(outList)\n      setFilterTokenLoading(false)\n    } catch (error) {\n      setInCoinWhiteList([])\n      setOutCoinWhiteList([])\n      setFilterTokenLoading(false)\n      console.log('üöÄ ~ file: useGetDcaTokenList.ts:35 ~ getDcaCoinWhiteList ~ error:', error)\n    }\n  }\n  return { getDcaCoinWhiteList }\n}\n","import { useSdk } from '@cetus/sdk-factory'\nimport { Token } from '@cetus/types'\nimport { d, Decimal } from '@cetus/utils'\nimport { toDecimalsAmount } from '@cetusprotocol/common-sdk'\nimport useDcaGetQuote from './useGetDcaQuote'\nexport type OpenDcaOrderParams = {\n  in_coin: Token\n  out_coin: Token\n  in_coin_amount: number\n  cycle_count: number\n  min_price: number\n  max_price: number\n  freq: number\n}\nexport default function () {\n  const dcaSdk = useSdk('dca')\n  const { getDcaQuote } = useDcaGetQuote()\n\n  // Helper function: ËÆ°ÁÆóÂçïÂë®ÊúüÊúÄÂ§ßÊúÄÂ∞èÊúüÊúõÊï∞Èáè\n  const calculateCycleAmounts = (\n    inCoinAmount: number,\n    cycleCount: number,\n    inCoinDecimals: number,\n    outCoinDecimals: number,\n    minPrice: number,\n    maxPrice: number\n  ) => {\n    const cycleCountAmount = d(toDecimalsAmount(inCoinAmount, inCoinDecimals)).div(cycleCount)\n\n    const maxAmount = d(cycleCountAmount).div(d(minPrice))\n    const minAmount = d(cycleCountAmount).div(d(maxPrice))\n\n    let perCycleMinOutAmount: string, perCycleMaxOutAmount: string\n\n    if (inCoinDecimals > outCoinDecimals) {\n      const perCycleAmountDecimal = Decimal.pow(10, inCoinDecimals - outCoinDecimals)\n      perCycleMinOutAmount = minAmount.div(perCycleAmountDecimal).ceil().toString()\n      perCycleMaxOutAmount = maxAmount.div(perCycleAmountDecimal).ceil().toString()\n    } else if (inCoinDecimals < outCoinDecimals) {\n      const perCycleAmountDecimal = Decimal.pow(10, outCoinDecimals - inCoinDecimals)\n      perCycleMinOutAmount = minAmount.mul(perCycleAmountDecimal).ceil().toString()\n      perCycleMaxOutAmount = maxAmount.mul(perCycleAmountDecimal).ceil().toString()\n    } else {\n      perCycleMinOutAmount = minAmount.ceil().toString()\n      perCycleMaxOutAmount = maxAmount.ceil().toString()\n    }\n\n    return { perCycleMinOutAmount, perCycleMaxOutAmount, cycleCountAmount }\n  }\n\n  // Helper function: ÊûÑÈÄ† DCA ÂèÇÊï∞\n  const buildDcaOrderPayload = (params: OpenDcaOrderParams, quoteResult: any, perCycleMinOutAmount: string, perCycleMaxOutAmount: string) => {\n    const { in_coin, in_coin_amount, freq, cycle_count, out_coin } = params\n\n    return {\n      in_coin_amount: String(toDecimalsAmount(in_coin_amount, in_coin.decimals)),\n      in_coin_type: in_coin.coin_type,\n      out_coin_type: out_coin.coin_type,\n      cycle_frequency: freq,\n      cycle_count,\n      per_cycle_min_out_amount: perCycleMinOutAmount,\n      per_cycle_max_out_amount: perCycleMaxOutAmount,\n      per_cycle_in_amount_limit: quoteResult.amountInLimitPerCycle,\n      fee_rate: quoteResult.feeRate,\n      timestamp: quoteResult.timestamp,\n      signature: quoteResult.signature\n    }\n  }\n\n  // Main function\n  const openDcaOrder = async (params: OpenDcaOrderParams) => {\n    const { in_coin, out_coin, in_coin_amount, cycle_count, min_price, max_price, freq } = params\n\n    // Step 1: Ëé∑ÂèñÊä•‰ª∑\n    const sender = (await dcaSdk!.getSenderAddress()) || '0x0000000000000000000000000000000000000000000000000000000000000000'\n    const quoteResult = await getDcaQuote({ inCoin: in_coin.coin_type, freq, count: cycle_count, sender })\n    if (!quoteResult) {\n      throw new Error('Request timed out')\n    }\n\n    // Step 2: ËÆ°ÁÆóÂçïÂë®ÊúüÈáëÈ¢ù\n    const { perCycleMinOutAmount, perCycleMaxOutAmount } = calculateCycleAmounts(\n      in_coin_amount,\n      cycle_count,\n      in_coin.decimals,\n      out_coin.decimals,\n      min_price,\n      max_price\n    )\n\n    // Step 3: ÊûÑÈÄ† DCA ÂºÄÂçïÂèÇÊï∞\n    const dcaOpenOrderPayloadParams = buildDcaOrderPayload(params, quoteResult, perCycleMinOutAmount, perCycleMaxOutAmount)\n    console.log('üöÄüöÄüöÄ ~ file: useOpenDcaOrder.ts:91 ~ openDcaOrder ~ dcaOpenOrderPayloadParams:', dcaOpenOrderPayloadParams)\n\n    // Step 4: Ë∞ÉÁî® SDK Êèê‰∫§ËÆ¢Âçï\n    const tx = await dcaSdk!.Dca.dcaOpenOrderPayload(dcaOpenOrderPayloadParams)\n    console.log('üöÄüöÄüöÄ ~ file: useOpenDcaOrder.ts:55 ~ openDcaOrder ~ tx:', tx)\n    return tx\n  }\n\n  return { openDcaOrder }\n}\n","import useDcaStore from '@/store/dca'\nimport { HTextLabelBox, SingleCoinImage } from '@cetus/ui-kit'\nimport { addComma, formatNumber, timeFormatUTC } from '@cetus/utils'\nimport { HStack, Text, VStack } from '@chakra-ui/react'\nimport RangeValue from '../position/RangeValue'\nexport type detailsDataType = {\n  sellPerOrder: string | number\n  estEndDate: string\n  platformFee: string\n  minPriceValue: string\n  maxPriceValue: string\n  minPriceResever: string\n  maxPriceResever: string\n}\ninterface DetailsContentProps {\n  detailsData: detailsDataType\n  isConfirm?: boolean\n}\nexport default function DetailsContent({ detailsData, isConfirm = false }: DetailsContentProps) {\n  const { sellPerOrder, estEndDate, platformFee, minPriceValue, maxPriceValue, minPriceResever, maxPriceResever } = detailsData\n  const { sellCoin, buyCoin, sellTotalAmount, investNum, currentInvest, pageDirect } = useDcaStore()\n  console.log('üöÄ ~ DetailsBlock ~ investNum:', detailsData, investNum)\n  return (\n    <VStack w=\"100%\" gap={isConfirm ? '20px' : '16px'}>\n      <HTextLabelBox\n        isLoading={false}\n        label=\"Sell total\"\n        value={!sellTotalAmount ? `-- ${sellCoin?.symbol}` : `${formatNumber(sellTotalAmount, sellCoin?.decimals)} ${sellCoin?.symbol}`}\n        labelStyle={{\n          fontSize: '14px'\n        }}\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueW: '128px'\n        }}\n      />\n      <HTextLabelBox\n        isLoading={false}\n        label=\"Sell per order\"\n        value={!sellPerOrder ? `-- ${sellCoin?.symbol}` : `${formatNumber(sellPerOrder, sellCoin?.decimals)} ${sellCoin?.symbol}`}\n        labelStyle={{\n          fontSize: '14px'\n        }}\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueW: '128px'\n        }}\n      />\n      {!isConfirm && (\n        <HTextLabelBox\n          isLoading={false}\n          label=\"Receive\"\n          value={\n            <HStack gap=\"4px\">\n              <SingleCoinImage\n                imageUrl={buyCoin?.logo_url}\n                w=\"20px\"\n                h=\"20px\"\n                coinType={buyCoin?.coin_type}\n                showTagHeight=\"10px\"\n                showTagWidth=\"10px\"\n              />\n              <Text color=\"text_caption\">{buyCoin?.symbol}</Text>\n            </HStack>\n          }\n          labelStyle={{\n            fontSize: '14px'\n          }}\n          valueStyle={{\n            fontSize: '14px'\n          }}\n          skeletonStyle={{\n            valueW: '128px'\n          }}\n        />\n      )}\n      {isConfirm && (\n        <HStack w=\"100%\" justify=\"space-between\">\n          <Text textAlign=\"left\" whiteSpace=\"nowrap\">\n            Price range\n          </Text>\n          <RangeValue\n            displayTokenA={buyCoin}\n            displayTokenB={sellCoin}\n            isRank={true}\n            justify=\"flex-end\"\n            priceInfo={{\n              minPrice: addComma(minPriceValue).toString(),\n              maxPrice: addComma(maxPriceValue).toString(),\n              minPriceResever: addComma(minPriceResever).toString(),\n              maxPriceResever: addComma(maxPriceResever).toString()\n            }}\n            fontSize=\"14px\"\n            color=\"text_caption\"\n          />\n        </HStack>\n      )}\n      <HTextLabelBox\n        isLoading={false}\n        label=\"Invest every\"\n        value={Number(investNum) > 1 ? `${investNum} ${currentInvest}s` : `${investNum} ${currentInvest}`}\n        labelStyle={{\n          fontSize: '14px'\n        }}\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueW: '128px'\n        }}\n      />\n      {isConfirm && (\n        <HTextLabelBox\n          isLoading={false}\n          label=\"Start date\"\n          value={String(timeFormatUTC(Date.now(), 'YMDHM'))}\n          labelStyle={{\n            fontSize: '14px'\n          }}\n          valueStyle={{\n            fontSize: '14px'\n          }}\n          skeletonStyle={{\n            valueW: '128px'\n          }}\n        />\n      )}\n      <HTextLabelBox\n        isLoading={false}\n        label=\"Est. end date(UTC)\"\n        value={estEndDate}\n        labelStyle={{\n          fontSize: '14px'\n        }}\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueW: '128px'\n        }}\n      />\n      <HTextLabelBox\n        isLoading={false}\n        label=\"Platform fee\"\n        value={platformFee}\n        labelStyle={{\n          fontSize: '14px'\n        }}\n        valueStyle={{\n          fontSize: '14px'\n        }}\n        skeletonStyle={{\n          valueW: '128px'\n        }}\n      />\n    </VStack>\n  )\n}\n","import useDcaStore from '@/store/dca'\nimport { Block } from '@cetus/design'\nimport SingleTokenInfo from '@cetus/design/src/components/common/SingleTokenInfo'\nimport { Icon } from '@cetus/ui-kit'\nimport {\n  Box,\n  Button,\n  Center,\n  Heading,\n  HStack,\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalHeader,\n  ModalOverlay,\n  Text,\n  VStack\n} from '@chakra-ui/react'\nimport DetailsContent from './DetailsContent'\n\ninterface ConfirmModalProps {\n  isOpen: boolean\n  onClose: () => void\n  toOpenDca: () => void\n  confirmData: any\n  toOpenDcaLoading: boolean\n}\n\nconst ConfirmModal = ({ confirmData, isOpen, onClose, toOpenDca, toOpenDcaLoading }: ConfirmModalProps) => {\n  const { sellCoin, buyCoin } = useDcaStore()\n  return (\n    <Modal autoFocus={false} returnFocusOnClose={false} isOpen={isOpen} onClose={onClose} isCentered>\n      <ModalOverlay />\n      <ModalContent>\n        <ModalHeader>\n          <Heading fontWeight=\"500\" fontSize=\"16px\">\n            Review your order\n          </Heading>\n        </ModalHeader>\n        <ModalCloseButton />\n        <ModalBody textAlign=\"center\" p=\"0px\">\n          <VStack w=\"100%\" gap=\"16px\" p=\"16px\">\n            <Block borderRadius=\"12px\" position=\"relative\" p=\"0 12px\">\n              <HStack w=\"100%\" justify=\"space-between\">\n                <VStack align=\"flex-start\" w=\"calc(50% - 24px)\">\n                  <Text>Sell</Text>\n                  <SingleTokenInfo token={sellCoin} haveName={false} symbolEllipsesDecimals={10} />\n                </VStack>\n                <Box w=\"1px\" h=\"100px\" bg=\"border\" />\n                <VStack align=\"flex-end\" w=\"calc(50% - 24px)\">\n                  <Text>Buy</Text>\n                  <SingleTokenInfo token={buyCoin} haveName={false} symbolEllipsesDecimals={10} />\n                </VStack>\n              </HStack>\n              <Center\n                w=\"36px\"\n                h=\"36px\"\n                borderRadius=\"50%\"\n                position=\"absolute\"\n                left=\"calc(50% - 18px)\"\n                top=\"calc(50% - 18px)\"\n                border=\"1px solid\"\n                borderColor=\"border\"\n                boxShadow=\"trade_icon_shadow\"\n                bg=\"input_bg\"\n              >\n                <Icon mt=\"-1px\" svgW=\"12px\" svgH=\"12px\" xlinkHref=\"#icon-a-icon_trade\" svgFill=\"text_caption\" transform=\"rotate(-90deg)\" />\n              </Center>\n            </Block>\n            <DetailsContent detailsData={confirmData} isConfirm />\n            <Button\n              mt=\"12px\"\n              onClick={() => {\n                toOpenDca()\n                onClose()\n              }}\n              disabled={toOpenDcaLoading}\n              w=\"calc(100% + 32px)\"\n              mb=\"-30px\"\n              h=\"52px\"\n              fontWeight=\"500\"\n            >\n              Create DCA Order\n            </Button>\n          </VStack>\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nexport default ConfirmModal\n","import { Block } from '@cetus/design'\nimport { HStack, Text, VStack } from '@chakra-ui/react'\nimport DetailsContent, { detailsDataType } from './DetailsContent'\n\ninterface DetailsBlockProps {\n  detailsData: detailsDataType\n}\nexport default function DetailsBlock({ detailsData }: DetailsBlockProps) {\n  return (\n    <Block>\n      <VStack gap=\"20px\">\n        <HStack w=\"100%\" justify=\"space-between\">\n          <Text color=\"text_caption\">Details</Text>\n          <Text fontSize=\"12px\">Your first invest cycle will begin immediately</Text>\n        </HStack>\n        <DetailsContent detailsData={detailsData} />\n      </VStack>\n    </Block>\n  )\n}\n","import { InputBox } from '@cetus/design'\nimport { HStack, Input, Text, VStack } from '@chakra-ui/react'\nimport { ReactNode } from 'react'\nimport MenuDropBlock from '../common/MenuDropBlock'\n\ninterface InvestAndOrdersProps {\n  title: string | ReactNode\n  label: string\n  inputValue: string\n  inputChange?: (value: string) => void\n  list?: string[]\n  onListItemClick?: (item: string) => void\n}\n\nexport default function InvestAndOrders({\n  title,\n  label,\n  inputValue,\n  inputChange = () => {},\n  list = [],\n  onListItemClick = () => {}\n}: InvestAndOrdersProps) {\n  // Â§ÑÁêÜËæìÂÖ•ÂÄºÁöÑÂèòÂåñ\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value.replace(/[^\\d]/g, '') // ÂéªÊéâÈùûÊï∞Â≠óÂ≠óÁ¨¶\n    inputChange(value)\n  }\n  return (\n    <InputBox w=\"50%\" borderRadius=\"16px\">\n      <VStack gap=\"16px\" align=\"flex-start\">\n        {typeof title === 'string' ? (\n          <Text fontWeight=\"500\" lineHeight=\"18px\" fontSize=\"13px\">\n            {title}\n          </Text>\n        ) : (\n          title\n        )}\n        <HStack w=\"100%\" justify=\"space-between\">\n          <Input\n            value={inputValue}\n            onChange={handleInputChange}\n            style={{\n              width: 'calc(100% - 8px)',\n              background: 'none',\n              whiteSpace: 'nowrap',\n              opacity: 1,\n              outline: 'none',\n              color: 'var(--chakra-colors-text_caption)',\n              fontSize: '20px',\n              fontWeight: '500',\n              touchAction: 'manipulation',\n              transition: 'all 0.3s'\n            }}\n          />\n\n          {list.length > 0 ? (\n            <MenuDropBlock label={label} list={list} onListItemClick={onListItemClick} />\n          ) : (\n            <Text color=\"text_caption\">{label}</Text>\n          )}\n        </HStack>\n      </VStack>\n    </InputBox>\n  )\n}\n","import useDcaStore from '@/store/dca'\nimport { InputBox } from '@cetus/design'\nimport { NumericFormatInput } from '@cetus/ui-kit'\nimport { HStack, Text, VStack } from '@chakra-ui/react'\n\ninterface InvestAndOrdersProps {\n  text?: string\n  inputValue: string\n  inputChange: (value: string) => void\n  align: string\n  direct: boolean\n}\n\nexport default function MinAndMaxPrice({ direct, text, align, inputValue, inputChange = () => {} }: InvestAndOrdersProps) {\n  const { sellCoin, buyCoin } = useDcaStore()\n  return (\n    <InputBox w=\"unset\" borderRadius=\"8px\">\n      <HStack>\n        <VStack align={align}>\n          <NumericFormatInput\n            value={inputValue}\n            placeholder=\"0.0\"\n            decimals={18}\n            onChange={value => inputChange(value)}\n            style={{\n              width: 'calc(100% - 8px)',\n              textAlign: align == 'flex-start' ? 'left' : 'right',\n              background: 'none',\n              whiteSpace: 'nowrap',\n              opacity: 1,\n              outline: 'none',\n              color: 'var(--chakra-colors-text_caption)',\n              fontSize: '20px',\n              fontWeight: '500',\n              touchAction: 'manipulation',\n              transition: 'all 0.3s'\n            }}\n          />\n          <HStack w=\"100%\" justify=\"space-between\">\n            <Text fontSize=\"12px\" fontWeight=\"500\">\n              {direct ? `${buyCoin?.symbol} per ${sellCoin?.symbol}` : `${sellCoin?.symbol} per ${buyCoin?.symbol}`}\n            </Text>\n            {text && (\n              <Text fontSize=\"12px\" fontWeight=\"500\">\n                {text}\n              </Text>\n            )}\n          </HStack>\n        </VStack>\n      </HStack>\n    </InputBox>\n  )\n}\n","import useInsufficientBalanceToast from '@/hooks/common/useInsufficientBalanceToast'\nimport useTransaction from '@/hooks/common/useTransaction'\nimport { useDcaHook } from '@/hooks/dca/useDcaHook'\nimport useGetDcaTokenList from '@/hooks/dca/useGetDcaTokenList'\nimport useOpenDcaOrder from '@/hooks/dca/useOpenDcaOrder'\nimport useDcaStore from '@/store/dca'\nimport { Block, CurrentPrice, ErrorTips, TooltipIcon, TradeInputGroup, useGlobalToast } from '@cetus/design'\nimport WarningTokenTipsModal from '@cetus/design/src/components/common/WarningTokenTipModal'\nimport { useAccountBalance } from '@cetus/hooks'\nimport { useAccountStore } from '@cetus/stores'\nimport { CommonTypeInfo, ToastType, Token, TransactionStatusType } from '@cetus/types'\nimport { d, formatNumber, formatNumberWithDown } from '@cetus/utils'\nimport { Button, HStack, Image, RangeSlider, RangeSliderFilledTrack, RangeSliderThumb, RangeSliderTrack, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useMemo, useState } from 'react'\nimport ConfirmModal from './ConfirmModal'\nimport DetailsBlock from './DetailsBlock'\nimport { detailsDataType } from './DetailsContent'\nimport InvestAndOrders from './InvestAndOrders'\nimport MinAndMaxPrice from './MinAndMaxPrice'\nimport icon_currentprice from '/images/icon_currentprice@2x.png'\n\nexport function DcaInputBlock({ handleGetDcaOrderList }: { handleGetDcaOrderList: (orderId: string) => void }) {\n  const {\n    sellCoin,\n    buyCoin,\n    sellAmount,\n    buyAmount,\n    setInvestNum,\n    setOrderNum,\n    investNum,\n    orderNum,\n    currentInvest,\n    setCurrentInvest,\n    pageDirect,\n    isDcaRefresh,\n    dcaMode,\n    setDcaMode,\n    sellTotalAmount,\n    upperPriceSize,\n    lowerPriceSize,\n    setLowerPriceSize,\n    setUpperPriceSize\n  } = useDcaStore()\n  const {\n    currentPrice,\n    btnStatus,\n    findRouterLoading,\n    sellBalanceInfo,\n    buyBalanceInfo,\n    sellAmountValue,\n    handleAmountChange,\n    handleSelectToken,\n    minPriceValue,\n    maxPriceValue,\n    handleMinInputChange,\n    handleMaxInputChange,\n    handlePageToggleDirect,\n    onReverseClick,\n    orderSizeError,\n    orderInputError,\n    orderTimeError,\n    priceError,\n    sellPerOrder,\n    estEndDate,\n    platformFee,\n    fetchFindAvailableRouterDebounce,\n    cycleFrequency,\n    resetInputAmount,\n    warningTokenList\n  } = useDcaHook()\n\n  useEffect(() => {\n    if (isDcaRefresh) {\n      fetchFindAvailableRouterDebounce()\n    }\n  }, [isDcaRefresh])\n\n  const { currentAccount, onWalletModal } = useAccountStore()\n  const [tradeIcon, setTradeIcon] = useState<string>('#icon-a-icon_trade')\n\n  const timeList: string[] = ['Minute', 'Hour', 'Day', 'Week', 'Month']\n\n  const toggleTradeIcon = (hovered: boolean) => setTradeIcon(hovered ? '#icon-icon_swap1' : '#icon-a-icon_trade')\n  const { openDcaOrder } = useOpenDcaOrder()\n  const [toOpenDcaLoading, setToOpenDcaLoading] = useState(false)\n\n  const { fetchCoinBalance } = useAccountBalance()\n  const { signAndExecuteTransaction, transactionRejected, transactionConfirmation } = useTransaction()\n  const { failedTsToast } = useGlobalToast()\n  const { showInsufficientBalanceToast } = useInsufficientBalanceToast()\n  const toOpenDca = async () => {\n    setToOpenDcaLoading(true)\n    const toastInfo: ToastType = {\n      getShowInfo: (status: TransactionStatusType) => {\n        const desc = `Creating DCA Order for ${formatNumber(sellTotalAmount)} ${sellCoin?.symbol} to ${buyCoin?.symbol} over ${orderNum} orders`\n        const info: CommonTypeInfo = {\n          modalDescriptionText: 'Creating DCA Order',\n          toastTitleText: 'Creating DCA Order'\n        }\n        if (status === 'success') {\n          info.modalDescriptionText = 'DCA Order Created'\n          info.toastDescriptionContent = ''\n          info.toastTitleText = 'DCA Order Created'\n        }\n        return info\n      }\n    }\n    transactionConfirmation(toastInfo)\n    const min_price = !pageDirect ? minPriceValue : d(1).div(maxPriceValue).toString()\n    const max_price = !pageDirect ? maxPriceValue : d(1).div(minPriceValue).toString()\n    try {\n      const params: any = {\n        in_coin: sellCoin,\n        out_coin: buyCoin,\n        in_coin_amount: sellTotalAmount,\n        cycle_count: orderNum,\n        min_price,\n        max_price,\n        freq: cycleFrequency\n      }\n\n      console.log('üöÄ ~ toOpenDca ~ params:', !pageDirect, minPriceValue, maxPriceValue, min_price, max_price, params)\n      const tx = await openDcaOrder(params)\n      console.log('üöÄ ~ toOpenDca ~ tx:', tx)\n      const res = await signAndExecuteTransaction(tx, toastInfo)\n      console.log('üöÄ ~ toOpenDca ~ res:', res)\n      if (res) {\n        // ÈáçÊñ∞ÊãøÊï∞ÊçÆ\n        resetInputAmount()\n        setTimeout(() => {\n          fetchCoinBalance(currentAccount?.address, sellCoin?.coin_type)\n          handleGetDcaOrderList(currentAccount?.address as string)\n        }, 2000)\n      }\n      setToOpenDcaLoading(false)\n    } catch (error) {\n      const errorInfo: ToastType = {\n        getShowInfo: (status: TransactionStatusType): CommonTypeInfo => {\n          const info: CommonTypeInfo = {}\n          if (String(error) === 'Error: Each order size should be higher than $10') {\n            info['toastTitleText'] = 'Transaction Submission Error'\n            info['toastDescriptionContent'] = 'Each order size should be higher than $10.'\n          }\n          if (String(error) === 'Error: Request timed out') {\n            info['toastTitleText'] = 'Request timed out'\n            info['toastDescriptionContent'] = 'Please confirm the network status and resubmit the transaction.'\n          }\n          if (String(error) === 'Error: minPrice error') {\n            info['toastTitleText'] = 'DCA order submission failed'\n            info['toastDescriptionContent'] = 'Your nominated prices are out of scope. Please modify your accepted price range and submit it again.'\n          }\n          return info\n        }\n      }\n      console.log('üöÄ ~ toOpenDca ~ error:', error)\n      console.error('Open DCA Order Error: ', error)\n      showInsufficientBalanceToast(String(error))\n      transactionRejected(errorInfo)\n      failedTsToast(errorInfo)\n      setToOpenDcaLoading(false)\n    }\n  }\n\n  const { currentCoinKey, inCoinWhiteList, outCoinWhiteList, dcaConfig } = useDcaStore()\n  const { getDcaCoinWhiteList } = useGetDcaTokenList()\n  const [whiteTokenList, setWhiteTokenList] = useState<Token[]>([])\n  useEffect(() => {\n    if (currentCoinKey == 'sellCoin') {\n      setWhiteTokenList(inCoinWhiteList)\n    } else {\n      setWhiteTokenList(outCoinWhiteList)\n    }\n  }, [currentCoinKey, inCoinWhiteList, outCoinWhiteList])\n\n  useEffect(() => {\n    if (dcaConfig && (dcaConfig.whitelistMode || dcaConfig.whitelistMode == 0)) {\n      console.log('üöÄüöÄüöÄ ~ file: DcaInputBlock.tsx:101 ~ DcaInputBlock ~ dcaConfig:', dcaConfig)\n      getDcaCoinWhiteList(dcaConfig.whitelistMode)\n    }\n  }, [dcaConfig])\n\n  const [isOpenConfirmModal, setIsOpenConfirmModal] = useState(false)\n\n  const detailsData: detailsDataType = useMemo(() => {\n    const decimals = !pageDirect ? sellCoin?.decimals : buyCoin?.decimals\n    let minPrice = ''\n    let maxPrice = ''\n    let minPriceResever = ''\n    let maxPriceResever = ''\n    if (minPriceValue && maxPriceValue) {\n      minPrice = !pageDirect ? minPriceValue : formatNumberWithDown(d(1).div(maxPriceValue).toString(), decimals, true).toString()\n      maxPrice = !pageDirect ? maxPriceValue : formatNumberWithDown(d(1).div(minPriceValue).toString(), decimals, true).toString()\n      minPriceResever = !pageDirect ? formatNumberWithDown(d(1).div(maxPriceValue).toString(), decimals, true).toString() : minPriceValue\n      maxPriceResever = !pageDirect ? formatNumberWithDown(d(1).div(minPriceValue).toString(), decimals, true).toString() : maxPriceValue\n    }\n    return { estEndDate, sellPerOrder, platformFee, minPriceValue: minPrice, maxPriceValue: maxPrice, minPriceResever, maxPriceResever }\n  }, [pageDirect, estEndDate, sellPerOrder, platformFee, minPriceValue, maxPriceValue])\n\n  const tabList = [\n    { label: 'Total', value: 'total' },\n    { label: 'Per Order', value: 'perOrder' }\n  ]\n\n  const [value, setValue] = useState<number[]>([0, 0])\n  const [minValue, setMinValue] = useState<number>(0)\n  const [maxValue, setMaxValue] = useState<number>(0)\n\n  const handleSlider = (val: number[]) => {\n    console.log('üöÄ ~ handleSlider ~ val:', val)\n    setValue(val)\n    handleMinInputChange(val[0].toString())\n    handleMaxInputChange(val[1].toString())\n  }\n\n  useEffect(() => {\n    // ËÆ°ÁÆóÊªëÊùÜÁöÑminÂíåmaxÂÄº ÂÆûÈôÖ‰∏∫‰∫Ü‰øùËØÅÂΩìÂâç‰ª∑Ê†ºÂú®‰∏≠Èó¥ min=0 max=currentPrice * 2\n    if (minPriceValue && maxPriceValue) {\n      const start = Number(minPriceValue)\n      const end = Number(maxPriceValue)\n      setValue([start, end])\n      console.log('üöÄ ~ useEffect ~ start:', start, end)\n    }\n    if (!minPriceValue) {\n      setLowerPriceSize('0%')\n    }\n    if (!maxPriceValue) {\n      setUpperPriceSize('0%')\n    }\n  }, [minPriceValue, maxPriceValue])\n\n  useEffect(() => {\n    if (currentPrice) {\n      const min = d('-100').div(100).plus(1).mul(currentPrice).toNumber()\n      const max = d('100').div(100).plus(1).mul(currentPrice).toNumber()\n      console.log('üöÄ ~ useEffect ~ min:', min, max)\n      setMinValue(min)\n      setMaxValue(max)\n    }\n  }, [currentPrice])\n  return (\n    <VStack w=\"100%\">\n      <TradeInputGroup\n        onClick={onReverseClick}\n        currentCoinKey={currentCoinKey}\n        whiteTokenList={whiteTokenList}\n        from={{\n          inputTabOptions: {\n            type: 'outlineTab',\n            tabList,\n            currentTab: dcaMode == 'total' ? 'Total' : 'Per Order',\n            handleChangeTab: tab => {\n              setDcaMode(tab?.value)\n            },\n            wrapStyle: {\n              w: '168px',\n              h: '28px',\n              p: '3px',\n              borderRadius: '10px'\n            },\n            itemStyle: {\n              flex: '1',\n              fontSize: '12px',\n              margin: '0px',\n              borderRadius: '6px'\n            }\n          },\n          title: 'You Pay',\n          balance: sellBalanceInfo?.balanceFormat || '',\n          value: sellAmount,\n          amountValue: sellAmountValue,\n          loading: false,\n          onChange: handleAmountChange,\n          selectable: true,\n          placeholder: '0.0',\n          token: sellCoin,\n          whiteTokenList: inCoinWhiteList,\n          onTokenChange: token => handleSelectToken(token, true)\n        }}\n        to={{\n          isDcaTo: true,\n          wrapStyle: {\n            backgroundColor: 'bg_secondary',\n            h: '94px'\n          },\n          title: 'You Receive',\n          inputAllowed: false,\n          balance: buyBalanceInfo?.balanceFormat || '',\n          value: '',\n          amountValue: '',\n          loading: false,\n          onChange: () => {},\n          token: buyCoin,\n          whiteTokenList: outCoinWhiteList,\n          onTokenChange: token => handleSelectToken(token, false),\n          selectable: true,\n          placeholder: '',\n          half: false,\n          max: false\n        }}\n        iconParams={{\n          xlinkHref: tradeIcon,\n          svgFill: 'text_caption',\n          transform: tradeIcon === '#icon-a-icon_trade' ? '' : 'rotate(90deg)',\n          fontSize: tradeIcon === '#icon-a-icon_trade' ? '12px' : '16px',\n          onMouseEnter: () => toggleTradeIcon(true),\n          onMouseLeave: () => toggleTradeIcon(false)\n        }}\n      />\n      {orderSizeError?.status && <ErrorTips tips={orderSizeError?.tips} bg=\"primary_red_bg\" />}\n      <HStack w=\"100%\">\n        <InvestAndOrders\n          title=\"Invest Every\"\n          label={currentInvest}\n          inputValue={investNum}\n          list={timeList}\n          onListItemClick={item => {\n            setCurrentInvest(item)\n          }}\n          inputChange={item => {\n            console.log('üöÄ ~ DcaInputBlock ~ item:', item)\n            setInvestNum(item)\n          }}\n        />\n        <InvestAndOrders\n          title={\n            <TooltipIcon\n              tooltipCon=\"How many orders your want to repeat in total.\"\n              children={\n                <Text fontSize=\"13px\" fontWeight=\"500\" mr=\"4px\">\n                  Over\n                </Text>\n              }\n            />\n          }\n          label=\"Orders\"\n          inputValue={orderNum}\n          inputChange={item => {\n            setOrderNum(item)\n            fetchFindAvailableRouterDebounce()\n          }}\n        />\n      </HStack>\n      {orderInputError?.status && <ErrorTips tips={orderInputError?.tips} bg=\"primary_red_bg\" />}\n      {orderTimeError?.status && <ErrorTips tips={orderTimeError?.tips} bg=\"primary_red_bg\" />}\n      <Block zIndex=\"1\" p=\"16px\" borderRadius=\"16px\">\n        <VStack align=\"flex-start\">\n          <Text color=\"text_caption\">Set Price Range</Text>\n          <Text lineHeight=\"16px\" fontSize=\"12px\" m={{ base: '4px 0', lg: '0' }} mb={{ base: sellAmount ? '4px' : '0' }}>\n            DCA will only be executed if the price falls within the range of your pricing strategy.\n          </Text>\n          {sellAmount && sellPerOrder && (\n            <HStack mt=\"8px\" w=\"100%\" justify=\"space-between\" flexDirection={{ base: 'column', lg: 'row' }} align={{ base: 'align', lg: 'center' }}>\n              <Text>Current Rate</Text>\n              <VStack align={{ base: 'flex-start', lg: 'flex-end' }}>\n                <CurrentPrice\n                  color=\"text_caption\"\n                  pageDirect={pageDirect}\n                  handlePageToggleDirect={handlePageToggleDirect}\n                  fromToken={sellCoin!}\n                  toToken={buyCoin!}\n                  fromValue={sellPerOrder}\n                  toValue={buyAmount}\n                  isLoading={findRouterLoading || !buyAmount || !sellPerOrder}\n                />\n              </VStack>\n            </HStack>\n          )}\n        </VStack>\n        <HStack justify=\"space-between\" gap=\"8px\" mt=\"20px\">\n          <MinAndMaxPrice\n            direct={pageDirect}\n            text={sellAmount && minPriceValue ? lowerPriceSize : ''}\n            inputValue={minPriceValue}\n            inputChange={val => handleMinInputChange(val)}\n            align=\"flex-start\"\n          />\n          <Text color=\"text_caption\">-</Text>\n          <MinAndMaxPrice\n            direct={pageDirect}\n            text={sellAmount && maxPriceValue ? upperPriceSize : ''}\n            inputValue={maxPriceValue}\n            inputChange={val => handleMaxInputChange(val)}\n            align=\"flex-start\"\n          />\n        </HStack>\n        {!findRouterLoading &&\n          sellAmount &&\n          minPriceValue &&\n          maxPriceValue &&\n          Number(maxPriceValue) >= Number(minPriceValue) &&\n          btnStatus?.text !== 'No Available Route' && (\n            <VStack w=\"100%\" gap=\"0\" mt=\"20px\">\n              <RangeSlider\n                min={minValue}\n                max={maxValue}\n                step={0.1}\n                value={value}\n                onChange={val => {\n                  handleSlider(val)\n                }}\n                colorScheme=\"teal\"\n              >\n                <RangeSliderTrack>\n                  <RangeSliderFilledTrack />\n                </RangeSliderTrack>\n                <RangeSliderThumb index={0} />\n                <RangeSliderThumb index={1} />\n              </RangeSlider>\n              <Image src={icon_currentprice} w=\"32px\" h=\"32px\" />\n              <HStack w=\"100%\" h=\"14px\" justify=\"center\" mt=\"-2px\">\n                <Text>Current Rate</Text>\n              </HStack>\n            </VStack>\n          )}\n      </Block>\n      {priceError?.status && <ErrorTips tips={priceError?.tips} bg=\"primary_red_bg\" />}\n      <Button\n        isLoading={toOpenDcaLoading}\n        disabled={btnStatus?.disabled || toOpenDcaLoading}\n        w=\"100%\"\n        h=\"52px\"\n        fontSize=\"18px\"\n        fontWeight=\"500\"\n        onClick={btnStatus?.text == 'Connect Wallet' ? () => onWalletModal(true) : () => setIsOpenConfirmModal(true)}\n      >\n        {btnStatus?.text}\n      </Button>\n      {sellAmount && <DetailsBlock detailsData={detailsData} />}\n      {isOpenConfirmModal && (\n        <ConfirmModal\n          confirmData={detailsData}\n          isOpen={isOpenConfirmModal}\n          onClose={() => setIsOpenConfirmModal(false)}\n          toOpenDca={toOpenDca}\n          toOpenDcaLoading={toOpenDcaLoading}\n        />\n      )}\n      {(buyCoin || sellCoin) && (\n        <WarningTokenTipsModal\n          addToken\n          tokensInfo={warningTokenList}\n          waringModalCancel={(tokenInfo: Token[]) => {\n            tokenInfo.forEach(coin => {\n              const hasFind = coin.coin_type === buyCoin?.coin_type || coin.coin_type === sellCoin?.coin_type\n              if (hasFind) {\n                handleSelectToken(undefined, coin.coin_type === buyCoin?.coin_type)\n              }\n            })\n          }}\n        />\n      )}\n    </VStack>\n  )\n}\n","export function convertSecondsToString(seconds: number): string {\n  const SECONDS_IN_A_MINUTE = 60\n  const SECONDS_IN_AN_HOUR = SECONDS_IN_A_MINUTE * 60\n  const SECONDS_IN_A_DAY = SECONDS_IN_AN_HOUR * 24\n  const SECONDS_IN_A_WEEK = SECONDS_IN_A_DAY * 7\n  const SECONDS_IN_A_MONTH = SECONDS_IN_A_DAY * 30 // ÁÆÄÂåñÂÅáËÆæ‰∏Ä‰∏™ÊúàÊúâ30Â§©\n\n  const months = Math.floor(seconds / SECONDS_IN_A_MONTH)\n  seconds %= SECONDS_IN_A_MONTH\n\n  const weeks = Math.floor(seconds / SECONDS_IN_A_WEEK)\n  seconds %= SECONDS_IN_A_WEEK\n\n  const days = Math.floor(seconds / SECONDS_IN_A_DAY)\n  seconds %= SECONDS_IN_A_DAY\n\n  const hours = Math.floor(seconds / SECONDS_IN_AN_HOUR)\n  seconds %= SECONDS_IN_AN_HOUR\n\n  const minutes = Math.floor(seconds / SECONDS_IN_A_MINUTE)\n  seconds %= SECONDS_IN_A_MINUTE\n\n  const result: any = []\n\n  if (months > 0) result.push(`${months} Month${months > 1 ? 's' : ''}`)\n  if (weeks > 0) result.push(`${weeks} Week${weeks > 1 ? 's' : ''}`)\n  if (days > 0) result.push(`${days} Day${days > 1 ? 's' : ''}`)\n  if (hours > 0) result.push(`${hours} Hour${hours > 1 ? 's' : ''}`)\n  if (minutes > 0) result.push(`${minutes} Minute${minutes > 1 ? 's' : ''}`)\n\n  return result.join(' ')\n}\n","import { convertSecondsToString } from '@/utils/dca'\nimport { useGetToken } from '@cetus/hooks/src/useToken'\nimport { useSdk } from '@cetus/sdk-factory'\nimport { CoinType, Token } from '@cetus/types'\nimport { d, formatNumber, timeFormatUTC } from '@cetus/utils'\nimport { DcaOrder } from '@cetusprotocol/dca-sdk'\nimport Decimal from 'decimal.js'\n\nexport function useGetDcaOrderList() {\n  const { getTokenListInfo } = useGetToken()\n  const dcaSdk = useSdk('dca')\n\n  const getDcaOrderList = async (walletAddress: string) => {\n    console.log('üöÄ ~ getDcaOrderList ~ walletAddress:', walletAddress)\n    try {\n      const list = await dcaSdk!.Dca.getDcaOrders(walletAddress)\n      console.log('üöÄ ~ getDcaOrderList ~ list:', list)\n      if (list && list?.data && list?.data?.length > 0) {\n        return await buildDcaOrderList(list?.data)\n      }\n      return { activeResult: [], pastResult: [] }\n    } catch (error) {\n      console.log('üöÄ ~ getDcaOrderList ~ error:', error)\n      return { activeResult: [], pastResult: [] }\n    }\n  }\n\n  // Helper: Ëé∑Âèñ token ‰ø°ÊÅØ\n  const getTokenListDetails = async (tokenTypeList: string[]) => {\n    try {\n      const tokenMap = await getTokenListInfo(tokenTypeList as CoinType[])\n      const tokenDetailMap = new Map<string, any>()\n      tokenMap?.forEach((value, key) => {\n        const decimalsPow = Decimal.pow(10, (value as Token)?.decimals)\n        tokenDetailMap.set(key, { token: value, decimalsPow })\n      })\n      return tokenDetailMap\n    } catch (error) {\n      console.log('üöÄ ~ getTokenListDetails ~ error:', error)\n    }\n  }\n\n  // Helper: ËÆ°ÁÆó‰ª∑Ê†ºÂå∫Èó¥\n  const calculatePriceRanges = (\n    inAmountPerCycle: string,\n    inCoinDecimalsPow: Decimal,\n    outCoinDecimalsPow: Decimal,\n    maxOutAmountPerCycle: string,\n    minOutAmountPerCycle: string\n  ) => {\n    const minPrice = d(inAmountPerCycle).div(inCoinDecimalsPow).div(d(maxOutAmountPerCycle).div(outCoinDecimalsPow)).toString()\n\n    const maxPrice = d(inAmountPerCycle).div(inCoinDecimalsPow).div(d(minOutAmountPerCycle).div(outCoinDecimalsPow)).toString()\n\n    return {\n      minPrice,\n      maxPrice,\n      minPriceResever: d(1).div(d(maxPrice)).toString(),\n      maxPriceResever: d(1).div(d(minPrice)).toString()\n    }\n  }\n\n  // Helper: Á°ÆÂÆöËÆ¢ÂçïÁä∂ÊÄÅ\n  const determineOrderStatus = (order: any) => {\n    if (order.in_withdrawn > 0 && order.in_withdrawn == order.in_deposited) {\n      // ËÆ¢ÂçïÂÖ≥Èó≠ = ÊèêÂèñincoinÊï∞ÈáèÂ§ß‰∫é0Âπ∂‰∏îÁ≠â‰∫éÊÄªÊîØ‰ªòincoinÊï∞Èáè\n      return 'Close'\n    } else if (order.in_withdrawn > 0 && order.out_withdrawn > 0) {\n      // ÈÉ®ÂàÜÊàê‰∫§ = ÊèêÂèñÊï∞ÈáèÂ§ß‰∫é0Âπ∂‰∏îÂèØÊèêÂèñoutcoinÊï∞ÈáèÂ§ß‰∫é0\n      return 'PartialDeal'\n    } else if (order.amount_left_next_cycle == 0 && order.next_cycle_at == 0) {\n      // ÂÆåÂÖ®Êàê‰∫§ = ËÆ¢Âçï‰∏ãÊ¨°ÊîØ‰ªòÊï∞Èáè‰∏∫0Âπ∂‰∏î‰∏ãÊ¨°ÊâßË°åÊó∂Èó¥‰∏∫0\n      return 'AllDeal'\n    }\n    return 'Active'\n  }\n\n  // Helper: ËÆ°ÁÆóËÆ¢ÂçïÂΩìÂâç‰ª∑Ê†ºÂèäÁõ∏ÂÖ≥Êï∞ÊçÆ\n  const calculateCurrentOrderMetrics = (\n    orderStatus: string,\n    inDeposited: Decimal,\n    inWithdrawn: Decimal,\n    inBalance: Decimal,\n    outBalance: Decimal,\n    outWithdraw: Decimal,\n    inCoinDecimalsPow: Decimal\n  ) => {\n    const calculateReseverPrice = (price: string) => (price === '--' ? '--' : d(1).div(price).toString())\n\n    switch (orderStatus) {\n      case 'Close':\n        return {\n          currentAvgPrice: '--',\n          currentAvgPriceResever: '--',\n          inBalanceRatio: '0',\n          inDepositedOut: '0'\n        }\n      case 'PartialDeal': {\n        const currentAvgPrice = inDeposited.sub(inWithdrawn).div(outWithdraw).toString()\n        const inBalanceRatio = inDeposited.sub(inWithdrawn).div(inDeposited).mul(100).toDP(2, Decimal.ROUND_HALF_UP).toString()\n        console.log('üöÄ ~ useGetDcaOrderList ~ inDeposited:', inWithdrawn, inDeposited)\n        return {\n          currentAvgPrice,\n          currentAvgPriceResever: calculateReseverPrice(currentAvgPrice),\n          inBalanceRatio,\n          inDepositedOut: inDeposited.sub(inWithdrawn).toString()\n        }\n      }\n      case 'AllDeal': {\n        const currentAvgPrice = inDeposited.div(outWithdraw).toString()\n        return {\n          currentAvgPrice,\n          currentAvgPriceResever: calculateReseverPrice(currentAvgPrice),\n          inBalanceRatio: '100',\n          inDepositedOut: inDeposited.sub(inBalance).toString()\n        }\n      }\n      case 'Active': {\n        const currentAvgPrice = outBalance.gt(0) || outWithdraw.gt(0) ? inDeposited.sub(inBalance).div(outBalance.add(outWithdraw)).toString() : '--'\n        const inBalanceRatio = inDeposited.sub(inBalance).div(inDeposited).mul(100).toDP(2, Decimal.ROUND_HALF_UP).toString()\n        return {\n          currentAvgPrice,\n          currentAvgPriceResever: calculateReseverPrice(currentAvgPrice),\n          inBalanceRatio,\n          inDepositedOut: inDeposited.sub(inBalance).toString()\n        }\n      }\n      default:\n        return {\n          currentAvgPrice: '--',\n          currentAvgPriceResever: '--',\n          inBalanceRatio: '0',\n          inDepositedOut: '0'\n        }\n    }\n  }\n\n  // Helper: ÊòØÂê¶ÊòæÁ§∫ÊèêÁ§∫\n\n  const shouldShowTradeTips = (createdAt: number, cycleFrequency: number, outBalance: Decimal, outWithdraw: Decimal): boolean => {\n    const nowTime = Date.now() / 1000\n    const executedTimes = d(nowTime).sub(createdAt).div(cycleFrequency)\n    const noRewards = outBalance.lte(0) && d(outWithdraw).lte(0)\n\n    return executedTimes.gt(3) && noRewards\n  }\n\n  // Main Function\n  const buildDcaOrderList = async (list: DcaOrder[]) => {\n    const activeResult: any[] = []\n    const pastResult: any[] = []\n    const coinTypeList: string[] = []\n    list?.forEach(item => {\n      coinTypeList.push(item.in_coin_type)\n      coinTypeList.push(item.out_coin_type)\n    })\n    const tokenDetailMap = await getTokenListDetails(coinTypeList)\n    if (tokenDetailMap) {\n      for (const order of list) {\n        // Step 1: Ëé∑Âèñ token ‰ø°ÊÅØ\n        const { token: inCoin, decimalsPow: inCoinDecimalsPow } = tokenDetailMap.get(order.in_coin_type)\n        const { token: outCoin, decimalsPow: outCoinDecimalsPow } = tokenDetailMap.get(order.out_coin_type)\n\n        // Step 2: ËÆ°ÁÆóÂü∫Êú¨Êï∞ÊçÆ\n        const inDeposited = d(order.in_deposited).div(inCoinDecimalsPow)\n        console.log('üöÄ ~ buildDcaOrderList ~ order.in_deposited:', order.in_deposited, inCoinDecimalsPow)\n        const cycleCount = d(order.in_deposited).div(order.in_amount_per_cycle).floor().toString()\n        const inAmountPerCycle = d(order.in_amount_per_cycle).div(inCoinDecimalsPow).toString()\n        const inBalance = d(order.in_balance).div(inCoinDecimalsPow)\n        const inWithdrawn = d(order.in_withdrawn).div(inCoinDecimalsPow)\n        const outBalance = d(order.out_balance).gt(0) ? d(order.out_balance).div(outCoinDecimalsPow) : d(0)\n        const outWithdraw = d(order.out_withdrawn).div(outCoinDecimalsPow)\n        const eachOrderSize = formatNumber(inDeposited.div(cycleCount).toString())\n        const ofOrderLeft = inBalance.div(inAmountPerCycle).floor().toNumber()\n\n        // Step 3: ËÆ°ÁÆó‰ª∑Ê†ºÂå∫Èó¥\n        const { minPrice, maxPrice, minPriceResever, maxPriceResever } = calculatePriceRanges(\n          order.in_amount_per_cycle,\n          inCoinDecimalsPow,\n          outCoinDecimalsPow,\n          order.max_out_amount_per_cycle,\n          order.min_out_amount_per_cycle\n        )\n\n        // Step 4: Á°ÆÂÆöËÆ¢ÂçïÁä∂ÊÄÅ\n        const orderStatus = determineOrderStatus(order)\n\n        // Step 5: ËÆ°ÁÆóËÆ¢ÂçïÂΩìÂâç‰ª∑Ê†ºÂèäÂÖ∂‰ªñÁõ∏ÂÖ≥Êï∞ÊçÆ\n        const { currentAvgPrice, currentAvgPriceResever, inBalanceRatio, inDepositedOut } = calculateCurrentOrderMetrics(\n          orderStatus,\n          inDeposited,\n          inWithdrawn,\n          inBalance,\n          outBalance,\n          outWithdraw,\n          inCoinDecimalsPow\n        )\n        const isShowTradeTips = shouldShowTradeTips(Number(order.created_at), Number(order.cycle_frequency), outBalance, outWithdraw)\n\n        // Step 6: ÊûÑÈÄ†ËÆ¢ÂçïÈ°π\n        const orderItem = {\n          createAt: timeFormatUTC(Number(order.created_at) * 1000, 'YMDHM'),\n          cycleFrequency: order.cycle_frequency,\n          orderID: order.id,\n          inAmountPerCycle,\n          nextCycleAt: timeFormatUTC(Number(order.next_cycle_at) * 1000, 'YMDHM'),\n          inDeposited: inDeposited.toString(),\n          cycleCount,\n          inDepositedOut,\n          inBalance: inBalance.toString(),\n          minPrice: formatNumber(minPrice),\n          maxPrice: formatNumber(maxPrice),\n          minPriceResever: formatNumber(minPriceResever),\n          maxPriceResever: formatNumber(maxPriceResever),\n          inCoin,\n          outCoin,\n          outBalance: outBalance.toString(),\n          inBalanceRatio,\n          outWithdraw: outWithdraw.toString(),\n          investEvery: convertSecondsToString(Number(order.cycle_frequency)),\n          eachOrderSize,\n          currentAvgPrice: currentAvgPrice === '--' ? '--' : formatNumber(currentAvgPrice, (outCoin as Token).decimals),\n          currentAvgPriceResever: currentAvgPrice === '--' ? '--' : formatNumber(currentAvgPriceResever, (inCoin as Token).decimals),\n          orderStatus,\n          inWithdrawn: inWithdrawn.toString(),\n          ofOrderLeft,\n          isShowTradeTips,\n          next_cycle_at: order.created_at + ofOrderLeft * Number(order.cycle_frequency),\n          created_at: order.created_at,\n          version: order.version\n        }\n\n        if (orderStatus === 'Active') {\n          activeResult.push(orderItem)\n        } else {\n          pastResult.push(orderItem)\n        }\n      }\n    }\n\n    const sortActiveResult = activeResult?.sort((a, b) => {\n      return b.version - a.version\n    })\n    const sortPastResult = pastResult?.sort((a, b) => {\n      return b.version - a.version\n    })\n    console.log('üöÄ ~ buildDcaOrderList ~ activeResult, pastResult:', sortActiveResult, sortPastResult, activeResult, pastResult)\n    return { activeResult: sortActiveResult, pastResult: sortPastResult }\n  }\n\n  return { getDcaOrderList }\n}\n","import { ChartOrderIcon } from '@/components/common/ChartOrderIcon'\nimport { TradeTab } from '@/components/common/TradeTab'\nimport ActiveAndPastDcas from '@/components/dca/ActiveAndPastDcas'\nimport { DcaInputBlock } from '@/components/dca/DcaInputBlock'\nimport { LimitPriceChart } from '@/components/limit/LimitPriceChart'\nimport { TradeTabs } from '@/components/swap/type'\nimport { useGetDcaOrderList } from '@/hooks/dca/useGetDcaOrderList'\nimport useGlobalStore from '@/store/common/global'\nimport useDcaStore from '@/store/dca'\nimport { useAccountBalance, useInterval, useRpcListener } from '@cetus/hooks'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { useAccountStore } from '@cetus/stores'\nimport { HStack, VStack } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nexport default function Dca() {\n  const [activeList, setActiveList] = useState<any[]>([])\n  const [pastList, setPastList] = useState<any[]>([])\n  const { currentAccount } = useAccountStore()\n  const { sellCoin, buyCoin, setIsDcaRefresh } = useDcaStore()\n  const [isOrderLoading, setIsOrderLoading] = useState(true)\n  const { isShowTradeChart, isShowTradeOrders } = useGlobalStore()\n  const { getDcaOrderList } = useGetDcaOrderList()\n  const { fetchAccountBalance } = useAccountBalance()\n\n  const handleGetDcaOrderList = async (account: string, isLoading: boolean = false) => {\n    if (!isShowTradeOrders) return\n    if (isLoading) {\n      setIsOrderLoading(true)\n    }\n    const { activeResult, pastResult } = await getDcaOrderList(account)\n    setActiveList(activeResult)\n    setPastList(pastResult)\n    setIsOrderLoading(false)\n    console.log('üöÄ ~ handleGetDcaOrderList ~ list:', activeResult, pastResult)\n  }\n\n  useEffect(() => {\n    if (currentAccount?.address) {\n      handleGetDcaOrderList(currentAccount?.address, true)\n    } else {\n      setActiveList([])\n      setPastList([])\n    }\n  }, [currentAccount?.address, isShowTradeOrders])\n\n  const handleRefresh = (isLoading: boolean = true) => {\n    setRefreshCount(0)\n    setIsDcaRefresh(true)\n    setTimeout(() => {\n      setIsDcaRefresh(false)\n    }, 1000)\n    if (currentAccount?.address) {\n      if (!isLoading) {\n        // ÊâãÂä®Âà∑Êñ∞ÁöÑÊó∂ÂÄôÂè™ËØ∑Ê±ÇËÆ∞ÂΩï‰∏çËØ∑Ê±Ç‰ΩôÈ¢ù Âè™Êúâ20sËá™Âä®Âà∑Êñ∞ÂíåËøõÂÖ•È°µÈù¢Êó∂ËØ∑Ê±Ç‰ΩôÈ¢ù\n        fetchAccountBalance()\n      }\n      handleGetDcaOrderList(currentAccount?.address, isLoading)\n    }\n  }\n\n  useRpcListener({\n    onRpcChange: () => {\n      handleRefresh()\n    }\n  })\n\n  useEffect(() => {\n    if (currentAccount?.address) {\n      fetchAccountBalance()\n    }\n  }, [currentAccount?.address])\n\n  const { isApp, windowWidth } = useWindowWidth()\n\n  const [refreshCount, setRefreshCount] = useState<number>(0)\n  // 20sËΩÆËØ¢ËÆ¢ÂçïÂàóË°®\n  useInterval({\n    interval: 1000,\n    callback: () => {\n      setRefreshCount(refreshCount + 1)\n      if (refreshCount >= 20) {\n        handleRefresh(false)\n      }\n    }\n  })\n\n  return (\n    <HStack\n      mt={windowWidth && windowWidth < 1024 ? '28px' : '42px'}\n      className={isApp || isShowTradeChart || isShowTradeOrders ? '' : 'bg_img'}\n      w=\"100%\"\n      gap=\"16px\"\n      justify=\"center\"\n      align=\"flex-start\"\n      flexDirection={{ base: 'column', lg: 'row' }}\n    >\n      {(isShowTradeOrders || isShowTradeChart) && (\n        <VStack w={{ base: '100%', lg: 'calc(100% - 470px)' }} mt={isApp && !isShowTradeChart ? '-16px' : '0'}>\n          {isShowTradeChart && <LimitPriceChart baseToken={sellCoin} quoteToken={buyCoin} />}\n          {isShowTradeOrders && !isApp && (\n            <ActiveAndPastDcas handleRefresh={handleRefresh} activeList={activeList} pastList={pastList} isOrderLoading={isOrderLoading} />\n          )}\n        </VStack>\n      )}\n      <VStack w={{ base: '100%', lg: '470px' }}>\n        <HStack w=\"100%\" justify=\"space-between\" mb=\"8px\">\n          <TradeTab currTradeTab={TradeTabs.DCA} />\n          <ChartOrderIcon />\n        </HStack>\n        <DcaInputBlock handleGetDcaOrderList={(walletAddress: string) => handleGetDcaOrderList(walletAddress)} />\n      </VStack>\n      {isApp && isShowTradeOrders && (\n        <VStack w={{ base: '100%', lg: 'calc(100% - 470px)' }}>\n          <ActiveAndPastDcas handleRefresh={handleRefresh} activeList={activeList} pastList={pastList} isOrderLoading={isOrderLoading} />\n        </VStack>\n      )}\n    </HStack>\n  )\n}\n"],"names":["useDcaCancel","dcaSdk","useSdk","params","useDcaClaim","store","set","get","upperPriceSize","lowerPriceSize","dcaMode","isDcaRefresh","pageDirect","value","data","list","useDcaStore","create","useGetDcaOrderHistory","fetchByApi","useFetch","setOrderHistoryObj","orderId","limit","offset","res","DcaOrderHistoryPath","result","_a","item","OverviewOrders","isDetail","currentTabVal","orderInfo","handleRefresh","isApp","useWindowWidth","sellCoin","buyCoin","getDcaOrderHistory","direct","setDirect","useState","rateDirect","setRateDirect","orderHistoryPageSize","orderHistoryList","setOrderHistoryList","total","setTotal","currentPage","setCurrentPage","orderHistoryListLoading","setOrderHistoryListLoading","currentTab","setCurrentTab","tabList","useMemo","handleChangeTab","handleGetDcaOrderHistory","useEffect","handleCurrentPage","page","loading","_b","_c","_d","isClaimLoading","setIsClaimLoading","dcaWithdrawPayload","useAccountBalance","signAndExecuteTransaction","useTransaction","toClaim","paramsArr","claimOrderParams","tx","status","info","error","getExplorerUrl","useExplorer","jsxs","VStack","jsx","SelectTab","Block","Skeleton","NoData","HStack","DcaVLabel","orderHistory","inAmount","bnToAmount","outAmount","rate","d","rateResever","formatNumber","Text","Icon","Center","Pagination","WarningText","HTextLabelBox","Button","label","onChangeDirect","textAlign","showDirectIcon","rest","Box","ErrorTips","DcaItem","setIsDetail","isCloseLoading","setIsCloseLoading","getTokenRank","useTokenRank","setPageDirect","dcaCloseOrderPayload","closeOrder","closeOrderParams","CoinPairImage","BtnContent","Progress","RangeValue","onClickDetail","ActiveAndPastDcas","activeList","pastList","isOrderLoading","pageList","setPageList","paginationList","setPaginationList","currentAccount","onWalletModal","useAccountStore","currentList","start","end","totalClaimNum","sum","isClaimAllLoading","setIsClaimAllLoading","isCloseAllLoading","setIsCloseAllLoading","closeAll","claimAll","RefreshButton","index","OrderLoading","SkeletonCircle","useDcaConfig","setDcaConfig","getDcaConfigFromApi","DcaConfigPath","getDcaConfigFromContract","dcaConfig","apiConfig","contractConfig","useDcaGetQuote","setDcaQuote","inCoin","freq","count","sender","DcaQuotePath","useDcaHook","setSellCoin","setBuyCoin","sellAmount","buyAmount","setBuyAmount","setSellAmount","setCurrentCoinKey","currentCoinKey","investNum","currentInvest","orderNum","dcaQuote","setInvestNum","setOrderNum","setCurrentInvest","sellTotalAmount","setSellTotalAmount","setLowerPriceSize","setUpperPriceSize","getDcaConfig","getDcaQuote","coinPriceObj","useTokenPriceStore","fetchTokenPrices","getTokenAmountValue","useTokenPrice","uuid","setUuid","uuidRef","useRef","initiaTokenSelect","envConfigs","resetInputAmount","minPriceValue","setMinPriceValue","maxPriceValue","setMaxPriceValue","sellBalanceInfo","useGetTokenBalance","buyBalanceInfo","sellAmountValue","handleAmountChange","amount","fetchFindAvailableRouterDebounce","handlePageToggleDirect","decimals","newMinVal","newMaxVal","formatNumberWithDown","handleSelectToken","coin","isSell","fixCoinType","onReverseClick","isDcaSelect","whitelistMode","sellCoinPrice","extractStructTagFromType","sellPerOrder","sellPerOrderUSD","platformFee","Decimal","amountInLimit","orderSizeError","orderInputError","priceError","estEndDate","setEstEndDate","orderTimeError","setOrderTimeError","getEstEndDate","date","investTime","timeFormatUTC","cycleFrequency","queryDcaQuoteDebounce","queryDcaQuote","coinAddress","defaultWalletAddress","useDebounceFunction","findBestRouters","useFindBestRouting","findRouterLoading","setFindRouterLoading","routerData","setRouterData","getTokensPrice","findAvailableRouterDebounce","findAvailableRouter","newUuid","providersKeys","AggregatorDexMap","key","toDecimalsAmount","uniqueTokens","btnStatus","btnInfo","AggregatorServerErrorCode","warningTokenList","currentPrice","minPriceValueDebounce","val","maxPriceValueDebounce","handleMinInputChange","handleMaxInputChange","changeLowerPriceSize","changeUpperPriceSize","lowerPrice","upperPrice","useGetDcaTokenList","getTokenListInfo","useGetToken","setFilterTokenLoading","useTokenSelectStore","setInCoinWhiteList","setOutCoinWhiteList","whitelist_mode","in_coin_list","out_coin_list","inList","outList","inCoinTypeList","inTokenMap","i","tokenInfo","outCoinTypeList","outTokenMap","useOpenDcaOrder","calculateCycleAmounts","inCoinAmount","cycleCount","inCoinDecimals","outCoinDecimals","minPrice","maxPrice","cycleCountAmount","maxAmount","minAmount","perCycleMinOutAmount","perCycleMaxOutAmount","perCycleAmountDecimal","buildDcaOrderPayload","quoteResult","in_coin","in_coin_amount","cycle_count","out_coin","min_price","max_price","dcaOpenOrderPayloadParams","DetailsContent","detailsData","isConfirm","minPriceResever","maxPriceResever","SingleCoinImage","addComma","ConfirmModal","confirmData","isOpen","onClose","toOpenDca","toOpenDcaLoading","Modal","ModalOverlay","ModalContent","ModalHeader","Heading","ModalCloseButton","ModalBody","SingleTokenInfo","DetailsBlock","InvestAndOrders","title","inputValue","inputChange","onListItemClick","handleInputChange","event","InputBox","Input","MenuDropBlock","MinAndMaxPrice","text","align","NumericFormatInput","DcaInputBlock","handleGetDcaOrderList","setDcaMode","tradeIcon","setTradeIcon","timeList","toggleTradeIcon","hovered","openDcaOrder","setToOpenDcaLoading","fetchCoinBalance","transactionRejected","transactionConfirmation","failedTsToast","useGlobalToast","showInsufficientBalanceToast","useInsufficientBalanceToast","toastInfo","errorInfo","inCoinWhiteList","outCoinWhiteList","getDcaCoinWhiteList","whiteTokenList","setWhiteTokenList","isOpenConfirmModal","setIsOpenConfirmModal","setValue","minValue","setMinValue","maxValue","setMaxValue","handleSlider","min","max","TradeInputGroup","tab","token","TooltipIcon","CurrentPrice","RangeSlider","RangeSliderTrack","RangeSliderFilledTrack","RangeSliderThumb","Image","icon_currentprice","WarningTokenTipsModal","convertSecondsToString","seconds","months","weeks","days","hours","minutes","useGetDcaOrderList","getDcaOrderList","walletAddress","buildDcaOrderList","getTokenListDetails","tokenTypeList","tokenMap","tokenDetailMap","decimalsPow","calculatePriceRanges","inAmountPerCycle","inCoinDecimalsPow","outCoinDecimalsPow","maxOutAmountPerCycle","minOutAmountPerCycle","determineOrderStatus","order","calculateCurrentOrderMetrics","orderStatus","inDeposited","inWithdrawn","inBalance","outBalance","outWithdraw","calculateReseverPrice","price","currentAvgPrice","inBalanceRatio","shouldShowTradeTips","createdAt","nowTime","executedTimes","noRewards","activeResult","pastResult","coinTypeList","outCoin","eachOrderSize","ofOrderLeft","currentAvgPriceResever","inDepositedOut","isShowTradeTips","orderItem","sortActiveResult","a","b","sortPastResult","Dca","setActiveList","setPastList","setIsDcaRefresh","setIsOrderLoading","isShowTradeChart","isShowTradeOrders","useGlobalStore","fetchAccountBalance","account","isLoading","setRefreshCount","useRpcListener","windowWidth","refreshCount","useInterval","LimitPriceChart","TradeTab","TradeTabs","ChartOrderIcon"],"mappings":"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"}