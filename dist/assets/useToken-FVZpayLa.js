import{dr as d,aH as g,r as u,aX as m,bH as C,ds as I}from"./index-DuF1EGUY.js";function v(e){const{tokenMap:s,setToken:k,requestTokenList:f,addRequestTokenList:c}=d(),{clmmSdk:l}=g();u.useEffect(()=>{e&&(o(e)||i(e))},[e]);const i=async t=>{try{const n=o(t);if(n)return n;if(f.includes(t))return;c(t);const r=await l.fullClient.getCoinMetadata({coinType:t});if(r){C.isSuiCoin(t)&&(r.iconUrl="https://archive.cetus.zone/assets/image/sui/sui.png");const a=I(r,t);return k(a),console.log("ðŸš€ ~ file: useToken.ts:38 ~ fetchTokenInfo ~ token:",a,f),a}}catch(n){console.log("ðŸš€ ~ file: useToken.ts:44 ~ fetchTokenInfo ~ error:",n)}},o=u.useCallback(t=>{if(t)return s.get(m(t).full_address)||s.get(t)},[s]);return{tokenInfo:u.useMemo(()=>o(e),[e,s]),getTokenInfo:o,fetchTokenInfo:i}}export{v as u};
