const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BbxvHjgK.js","assets/AddressCopyLink-V33ze5Xu.js","assets/index-BHioxihs.js","assets/index-CteIxbgC.css","assets/AddressUnderline-DQBj8kxU.js","assets/FeeTierSelect-BzlcFebH.js","assets/useDocumentSize-BYcypMB8.js","assets/debounce-Y-z0BKQj.js","assets/index-BUbOgaOa.js","assets/CetusTooltip-D74XO5fb.js","assets/CurrentPrice-DrDGi8VN.js","assets/HighlightText-DGbw96w7.js","assets/IconBg-FZ4dAJUP.js","assets/InputBox-Cm2u5Ykw.js","assets/Loading-CfSmXNdE.js","assets/SwapConfirmBlock-BCAzZ0Tc.js","assets/aggregator-9CNLNseD.js","assets/useSwapHelper-B60Pi301.js","assets/useToken-DZK_dzU3.js","assets/global-DSBKxi_f.js","assets/useGetPoolList-g-UFM5lp.js","assets/api-data-utils-BCUKKSI0.js","assets/useAccountBalance-BkCOmdNG.js","assets/useTokenBalance-BLs9nTNB.js","assets/useTransaction-B_4Jg7f2.js","assets/useFindBestRouting-B6UyUTu_.js","assets/index-XbiT-K8U.js","assets/usePriceImpact-DDSffb27.js","assets/HTextLabelBox-Bsxm1-Y-.js","assets/TradeConfirmAmountInfo-BvV6xzPt.js","assets/TradeInputGroup-DHW51PUD.js","assets/_getAllKeysIn-Be6LJ_gF.js","assets/index-CbaF6qCz.js","assets/SingleTokenInfo-D28cfzld.js","assets/TooltipIcon-B9nqzUAW.js","assets/Ratio-BkMFMtCa.js","assets/Slippage-CSOPwUTp.js","assets/switch-CTPaY6an.js","assets/SortDropBlock-OZCC7nRw.js","assets/TableSortTh-BcmAprhL.js","assets/WarningTokenTipModal-0WqsQevr.js","assets/ConnectButton-8UDLcKFv.js","assets/NoData-CGTwny5r.js","assets/TokenGoplusCard-C-SLc0-d.js","assets/swapWidget-BIV7naOA.js","assets/index-BAk4C4IG.js","assets/RefreshButton-CiZJCLSA.js"])))=>i.map(i=>d[i]);
import{L as Ke,b$ as qe,c0 as Qe,j as t,c1 as Pt,Q as Ze,P as Mt,bG as He,a9 as We,aY as Rt,c2 as Ot,aH as Et,R as Wt,a1 as Ie,c3 as Je,r as l,c4 as Ht,c5 as It,c6 as Nt,c7 as Le,c8 as Bt,c9 as Ft,ca as Ae,cb as zt,ad as Lt,ae as At,af as Vt,aj as Xt,an as $,V as P,T as C,H,I as M,$ as se,a as et,b1 as je,B as j,bt as Yt,bu as Ut,C as Ne,ay as tt,bv as Gt,bw as xe,c as $t,ar as pe,aM as Kt,cc as qt,cd as Qt,ce as Zt,aZ as Jt,ap as nt,aq as ot,at as rt,au as en,cf as Ve,cg as tn,a_ as st,ch as nn,b as Ce,ci as on,cj as rn,ck as it,cl as sn,ao as an,Y as ln,a6 as cn,e as pn,l as Xe,cm as Ye,W as J,cn as dn,d as un,co as at,cp as fn,cq as Ue,cr as gn,cs as xn,a4 as hn,ct as mn,cu as bn,cv as Sn,_ as he}from"./index-BHioxihs.js";import{a as yn}from"./useDocumentSize-BYcypMB8.js";import{C as vn}from"./ConnectButton-8UDLcKFv.js";import{a as me,u as ke,W as wn}from"./swapWidget-BIV7naOA.js";import{p as lt}from"./index-BAk4C4IG.js";import{S as N,u as _n}from"./useSwapHelper-B60Pi301.js";import{u as jn,a as Cn,S as kn,P as Tn,b as Dn,c as Pn,O as Mn,H as Rn}from"./SwapConfirmBlock-BCAzZ0Tc.js";import{H as On}from"./HTextLabelBox-Bsxm1-Y-.js";import{R as En}from"./RefreshButton-CiZJCLSA.js";import{u as Wn}from"./useAccountBalance-BkCOmdNG.js";import{T as Hn}from"./TradeInputGroup-DHW51PUD.js";import{S as In,u as Nn,a as Bn}from"./Slippage-CSOPwUTp.js";import{C as Fn}from"./CetusTooltip-D74XO5fb.js";import{u as zn}from"./useToken-DZK_dzU3.js";import{S as Ln}from"./SingleTokenInfo-D28cfzld.js";import{T as An}from"./TokenGoplusCard-C-SLc0-d.js";const ct=Ke(function(n,o){const{onClose:r}=qe(),s=Qe();return t.jsx(Pt,{size:"sm",onClick:r,className:Ze("chakra-popover__close-btn",n.className),__css:s.closeButton,ref:o,...n})});ct.displayName="PopoverCloseButton";const pt=Ke(function(n,o){const{getHeaderProps:r}=qe(),s=Qe();return t.jsx(Mt.header,{...r(n,o),className:Ze("chakra-popover__header",n.className),__css:s.header})});pt.displayName="PopoverHeader";function Vn(){const{setNodeList:e}=He();return{fetchFrontConfig:async()=>{var o;try{const r=`${(o=We)==null?void 0:o.cetus_api}/v2/sui/front_config`,i=(await Rt(r)).sui_nodes;i.length>0&&e(i)}catch(r){return console.log("ðŸš€ ~ file: useGetFrontConfig.ts:26 ~ fetchFrontConfig ~ error:",r),e([...Ot]),null}}}}function Xn(){const{clmmSdk:e,setClmmSdk:n,aggregatorSDK:o,setAggregatorSDK:r,setIsInitLoading:s}=Et(),{peripherySdk:i,setPeripherySdk:a,burnSdk:p,setBurnSdk:m,vaultsSdk:x,setVaultsSDK:_,xCetusSdk:v,setXCetusSdk:b}=Wt(),{currentNode:g}=He(),{currentAccount:w}=Ie(),{providers:T}=Je();l.useEffect(()=>{const{sdkOptions:R,senderAddress:I}=e;if(g.link!==R.fullRpcUrl||I!==(w==null?void 0:w.address)){s(!0),R.fullRpcUrl=g.link;const c=new Ht(R);c.senderAddress=(w==null?void 0:w.address)||"",n(c);const u=new It(We.clmm_sdk_options.aggregatorUrl,(w==null?void 0:w.address)||"",new Nt({url:g.link}),We.env==="testnet"?Le.Testnet:Le.Mainnet);r(u);const{sdkOptions:f}=i,d=new Bt(f,c);a(d);const{sdkOptions:y}=p;y.fullRpcUrl=g.link;const h=new Ft(y);h.senderAddress=(w==null?void 0:w.address)||"",m(h);const{sdkOptions:S}=x;S.fullRpcUrl=g.link;const E=new Ae(S);E.senderAddress=(w==null?void 0:w.address)||"",_(E);const{sdkOptions:k}=v;k.fullRpcUrl=g.link;const W=new zt(k);W.senderAddress=(w==null?void 0:w.address)||"",b(W),s(!1)}},[g.link,w==null?void 0:w.address]),l.useEffect(()=>{const{sdkOptions:R}=x;R.aggregator.providers=T.length>1?T:void 0;const I=new Ae(R);I.senderAddress=x.senderAddress,_(I)},[T])}const Yn="/assets/img_cetusprotocol@2x-sMK6gV0x.png";function Un({isOpen:e,onClose:n}){l.useState(!1);const o=()=>{n()};return t.jsxs(Lt,{autoFocus:!1,closeOnOverlayClick:!1,returnFocusOnClose:!1,isOpen:e,onClose:n,isCentered:!0,children:[t.jsx(At,{}),t.jsx(Vt,{children:t.jsxs(Xt,{p:{base:"8px 12px !important",lg:"8px 12px !important"},children:[t.jsx($,{m:"8px 0 12px",src:Yn,w:"100%",h:"auto",userSelect:"none"}),t.jsxs(P,{w:"100%",align:"flex-start",userSelect:"none",p:{base:"0",lg:"0 8px"},children:[t.jsx(C,{fontSize:"20px",fontWeight:"500",color:"text_caption",margin:"12px 0",children:"Welcome to Cetus"}),t.jsx(C,{color:"text_caption",children:"Please read & accept terms before using this site."}),t.jsxs(H,{w:"100%",align:"center",onClick:()=>{window.open("https://www.cetus.zone/terms","_blank")},gap:"4px",children:[t.jsx(M,{xlinkHref:"#icon-icon_docs",svgFill:"primary",svgHover:"primary",svgH:"16px",svgW:"16px"}),t.jsx(C,{cursor:"pointer",fontSize:{base:"12px",lg:"14px"},lineHeight:"1",color:"primary",_hover:{textDecoration:"underline"},children:"Cetus Protocol Terms & Conditions"})]}),t.jsx(se,{fontWeight:"500",fontSize:"16px",w:"100%",mt:"20px",mb:"8px",onClick:o,children:"Accept"})]})]})})]})}function Gn(e){const{title:n,list:o,isActive:r,socials:s,...i}=e;et();const{pathname:a}=je(),[p,m]=l.useState(!1);l.useState(!1);const x=v=>{v==null||v.stopPropagation(),m(!0)},_=v=>{v==null||v.stopPropagation(),m(!1)};return t.jsx(j,{mb:"-8px",h:{md:p?"140px":"auto",lg:"auto"},children:t.jsx(j,{pb:"8px",onClick:()=>m(!p),onMouseLeave:_,onMouseEnter:x,children:t.jsx(Yt,{isLazy:!0,id:"more",isOpen:p,onClose:()=>_(),placement:"bottom-start",strategy:"fixed",...i,children:({isOpen:v})=>t.jsxs(t.Fragment,{children:[t.jsx(Ut,{p:"0",isActive:v,as:se,bg:"none",_hover:{bg:"none",p:{color:"text_caption"},svg:{fill:"text_caption"}},_active:{bg:"none"},children:t.jsxs(Ne,{gap:"4px",children:[t.jsx(C,{color:r?"text_caption":"text_paragraph",position:"relative",fontSize:"15px",fontWeight:"500",children:n}),t.jsx(M,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:v?"rotate(180deg)":"rotate(0deg)"})]})}),t.jsx(tt,{children:t.jsxs(Gt,{zIndex:"999999",p:"8px",display:"flex",flexDir:"column",gap:"8px",minW:"unset",ml:{md:"-16px",lg:"0px"},mt:{md:"-20px",lg:"0px"},bg:{md:"bg_secondary",lg:"bg_secondary"},backdropFilter:{md:"none",lg:"blur(80px)"},children:[o.map(b=>{const g=a.startsWith(b.path);return b.children?t.jsx($n,{item:b,active:g,isActive:r},b.title):t.jsx(dt,{item:b,active:g},b.title)}),s&&t.jsx(H,{minW:"192px",gap:"8px",children:s==null?void 0:s.map(b=>t.jsx(xe,{as:"a",href:b.path,target:"_blank",bg:"menu_item_bg",borderRadius:"8px",padding:"11px",flex:"0 0 42px",sx:{h:"42px",p:{color:"text_paragraph"},svg:{fill:"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:b.icon?t.jsx(j,{children:typeof b.icon=="string"?t.jsx(M,{xlinkHref:b.icon}):t.jsx(M,{xlinkHref:b.icon.xlinkHref,variant:b.icon.variant||""})}):null},b.title))})]})})]})})})})}const $n=({item:e,active:n,isActive:o})=>{const[r,s]=l.useState(!1);return t.jsxs(j,{bg:"menu_item_bg",borderRadius:"8px",p:"0 16px",children:[t.jsx(xe,{as:se,variant:"unstyled",w:"100%",h:"42px",bg:"menu_item_bg",borderRadius:"8px",padding:"10px 0px",sx:{p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},onClick:i=>{$t(i),s(!r)},closeOnSelect:!1,children:t.jsxs(pe,{align:"center",w:"100%",justify:"space-between",children:[t.jsxs(H,{gap:"0px",children:[e.icon?t.jsx(j,{mr:"12px",children:typeof e.icon=="string"?t.jsx(M,{xlinkHref:e.icon}):t.jsx(M,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsx(C,{mr:"4px",color:o?"text_caption":"text_paragraph",position:"relative",fontSize:"14px",children:e.title})]}),t.jsx(M,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:r?"rotate(180deg)":"rotate(0deg)"})]})}),r&&t.jsxs(t.Fragment,{children:[t.jsx(Kt,{borderColor:"border"}),t.jsx(j,{overflow:"hidden",display:"flex",flexDirection:"column",padding:"16px 0px",gap:"20px",border:"none",boxShadow:"none",borderRadius:"0px 0px 8px 8px",bg:"menu_item_bg",minW:"unset",children:(e.children||[]).map(i=>t.jsx(dt,{item:i,active:n,isChild:!0},i.title))})]})]})},dt=({item:e,active:n,isChild:o=!1})=>e.type==="onClick"?t.jsxs(xe,{as:se,variant:"unstyled",justifyContent:"flex-start",onClick:e==null?void 0:e.onClick,...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?t.jsx(j,{mr:"12px",children:typeof e.icon=="string"?t.jsx(M,{xlinkHref:e.icon}):t.jsx(M,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsxs(j,{position:"relative",children:[t.jsx(C,{children:e.title}),(e==null?void 0:e.beta)&&t.jsx($,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):e.type==="_blank"?t.jsxs(xe,{as:"a",href:e.path,target:"_blank",...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?t.jsx(j,{mr:"12px",children:typeof e.icon=="string"?t.jsx(M,{xlinkHref:e.icon}):t.jsx(M,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsxs(j,{position:"relative",children:[t.jsx(C,{children:e.title}),(e==null?void 0:e.beta)&&t.jsx($,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):t.jsxs(xe,{as:qt,to:e.path,...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{h:o?"20px":"42px",p:{color:n?"text_caption":"text_paragraph"},svg:{fill:n?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?t.jsx(j,{mr:"12px",children:typeof e.icon=="string"?t.jsx(M,{xlinkHref:e.icon}):t.jsx(M,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,t.jsxs(j,{pos:"relative",children:[t.jsx(C,{children:e.title}),(e==null?void 0:e.beta)&&t.jsx($,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),ut=({icon:e,label:n,...o})=>t.jsxs(P,{w:"100%",p:"16px",borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"flex-start",gap:"24px",children:[t.jsxs(H,{w:"100%",gap:"8px",children:[t.jsx(M,{xlinkHref:e,fontSize:"20px"}),t.jsx(C,{fontSize:"14px",children:n})]}),"children"in o?o==null?void 0:o.children:t.jsxs(H,{w:"100%",justify:"space-between",cursor:"pointer",onClick:o.onClick,children:[t.jsx(C,{color:"text_caption",fontSize:"14px",children:o.value}),t.jsx(M,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),Kn=({onShowOptions:e,showOptions:n,showMainSetting:o,closeModal:r})=>{const{currentExplorer:s}=He();return n?t.jsx(Qt,{closeModal:r}):o&&t.jsx(ut,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:s==null?void 0:s.name,onClick:e})},qn=({showMainSetting:e,closeModal:n})=>e&&t.jsx(ut,{icon:"#icon-icon_rpc",label:"RPC Node",children:t.jsx(Zt,{closeModal:n})}),Qn=({language:e,preferred:n,rpcNode:o,isCetusPump:r})=>{const{isOpen:s,onOpen:i,onClose:a}=Jt(),[p,m]=l.useState("Settings"),x=l.useMemo(()=>p==="Settings",[p]),_=b=>{m(b)},v=()=>{m("Settings")};return t.jsxs(nt,{isLazy:!0,isOpen:s,onOpen:i,placement:"bottom-end",onClose:a,children:[t.jsx(ot,{children:t.jsx(j,{bg:"bg_secondary",w:"36px",h:"36px",p:"7px",border:"1px solid",borderColor:"border",borderRadius:"8px",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},children:t.jsx(M,{xlinkHref:"#icon-icon_settings1",variant:"gray"})})}),t.jsxs(rt,{minW:"360px",p:"0px 16px 16px",bg:"bg_secondary",borderRadius:"12px",maxH:"calc(100vh - 80px)",overflowY:"auto",children:[t.jsx(pt,{p:"0px",fontWeight:"500",h:"56px",lineHeight:"56px",border:"none",children:t.jsxs(H,{children:[!x&&t.jsx(M,{xlinkHref:"#icon-icon_descending",transform:"rotate(90deg)",svgFill:"text_caption",fontSize:"16px",onClick:v}),t.jsx(C,{color:"text_caption",fontSize:"16px",children:p})]})}),!x&&t.jsx(ct,{h:"50px",onClick:v}),t.jsx(en,{p:"0px",children:t.jsxs(P,{children:[t.jsx(Kn,{value:n.value,options:n.options,onValueChange:b=>n.onValueChange(b),onShowOptions:()=>_("Preferred"),showOptions:p==="Preferred",showMainSetting:x,closeModal:v}),t.jsx(qn,{...o,showMainSetting:x,closeModal:a})]})})]})]})},Zn=({menus:e,logo:n,setting:o,notifications:r,chain:s,jump:i,isCetusPump:a,children:p})=>{const{pathname:m}=je();return t.jsxs(pe,{w:"100%",justifyContent:"space-between",align:"center",h:"80px",p:"0px 20px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[t.jsxs(pe,{align:"center",gap:{lg:"32px",xl:"48px"},children:[t.jsx($,{src:n.image,h:"32px",alt:"logo",onClick:()=>i(n.url)}),t.jsx(pe,{align:"center",gap:"32px",children:e==null?void 0:e.map(x=>x!=null&&x.children?t.jsx(Gn,{title:x.title,isActive:Ve(x,m),list:x.children,socials:x.socials},x.title):t.jsx(tn,{type:x==null?void 0:x.type,link:x.path,isActive:Ve(x,m),children:t.jsx(C,{color:"inherit",fontSize:"15px",fontWeight:"500",children:x.title})},x.title))})]}),t.jsxs(pe,{align:"center",gap:"8px",children:[a&&t.jsx(st,{w:{lg:"98px",xl:"114px"},h:"36px",text:"Back to DEX",onClick:()=>i("/")}),p,t.jsx(vn,{isCetusPump:a}),r&&t.jsx(nn,{}),t.jsx(Qn,{...o,isCetusPump:a})]})]})};function Jn({children:e,...n}){const{isApp:o}=Ce(),r=et();return o?t.jsx(on,{...n,jump:r,children:e}):t.jsx(Zn,{...n,jump:r,children:e})}var Te={exports:{}},ft={};function gt(e){var n,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(o=gt(e[n]))&&(r&&(r+=" "),r+=o);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ge(){for(var e,n,o=0,r="";o<arguments.length;)(e=arguments[o++])&&(n=gt(e))&&(r&&(r+=" "),r+=n);return r}const eo=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ge,default:Ge},Symbol.toStringTag,{value:"Module"})),to=rn(eo);var O={},K={};Object.defineProperty(K,"__esModule",{value:!0});K.dontSetMe=io;K.findInArray=no;K.int=so;K.isFunction=oo;K.isNum=ro;function no(e,n){for(let o=0,r=e.length;o<r;o++)if(n.apply(n,[e[o],o,e]))return e[o]}function oo(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function ro(e){return typeof e=="number"&&!isNaN(e)}function so(e){return parseInt(e,10)}function io(e,n,o){if(e[n])return new Error("Invalid prop ".concat(n," passed to ").concat(o," - do not set this, set it on the child."))}var ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.browserPrefixToKey=ht;ie.browserPrefixToStyle=ao;ie.default=void 0;ie.getPrefix=xt;const Re=["Moz","Webkit","O","ms"];function xt(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const o=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!o||n in o)return"";for(let r=0;r<Re.length;r++)if(ht(n,Re[r])in o)return Re[r];return""}function ht(e,n){return n?"".concat(n).concat(lo(e)):e}function ao(e,n){return n?"-".concat(n.toLowerCase(),"-").concat(e):e}function lo(e){let n="",o=!0;for(let r=0;r<e.length;r++)o?(n+=e[r].toUpperCase(),o=!1):e[r]==="-"?o=!0:n+=e[r];return n}ie.default=xt();Object.defineProperty(O,"__esModule",{value:!0});O.addClassName=St;O.addEvent=uo;O.addUserSelectStyles=_o;O.createCSSTransform=So;O.createSVGTransform=yo;O.getTouch=vo;O.getTouchIdentifier=wo;O.getTranslation=Be;O.innerHeight=ho;O.innerWidth=mo;O.matchesSelector=bt;O.matchesSelectorAndParentsTo=po;O.offsetXYFromParent=bo;O.outerHeight=go;O.outerWidth=xo;O.removeClassName=yt;O.removeEvent=fo;O.removeUserSelectStyles=jo;var X=K,$e=co(ie);function mt(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(mt=function(r){return r?o:n})(e)}function co(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=mt(n);if(o&&o.has(e))return o.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,o&&o.set(e,r),r}let _e="";function bt(e,n){return _e||(_e=(0,X.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,X.isFunction)(e[o])})),(0,X.isFunction)(e[_e])?e[_e](n):!1}function po(e,n,o){let r=e;do{if(bt(r,n))return!0;if(r===o)return!1;r=r.parentNode}while(r);return!1}function uo(e,n,o,r){if(!e)return;const s={capture:!0,...r};e.addEventListener?e.addEventListener(n,o,s):e.attachEvent?e.attachEvent("on"+n,o):e["on"+n]=o}function fo(e,n,o,r){if(!e)return;const s={capture:!0,...r};e.removeEventListener?e.removeEventListener(n,o,s):e.detachEvent?e.detachEvent("on"+n,o):e["on"+n]=null}function go(e){let n=e.clientHeight;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,X.int)(o.borderTopWidth),n+=(0,X.int)(o.borderBottomWidth),n}function xo(e){let n=e.clientWidth;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n+=(0,X.int)(o.borderLeftWidth),n+=(0,X.int)(o.borderRightWidth),n}function ho(e){let n=e.clientHeight;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,X.int)(o.paddingTop),n-=(0,X.int)(o.paddingBottom),n}function mo(e){let n=e.clientWidth;const o=e.ownerDocument.defaultView.getComputedStyle(e);return n-=(0,X.int)(o.paddingLeft),n-=(0,X.int)(o.paddingRight),n}function bo(e,n,o){const s=n===n.ownerDocument.body?{left:0,top:0}:n.getBoundingClientRect(),i=(e.clientX+n.scrollLeft-s.left)/o,a=(e.clientY+n.scrollTop-s.top)/o;return{x:i,y:a}}function So(e,n){const o=Be(e,n,"px");return{[(0,$e.browserPrefixToKey)("transform",$e.default)]:o}}function yo(e,n){return Be(e,n,"")}function Be(e,n,o){let{x:r,y:s}=e,i="translate(".concat(r).concat(o,",").concat(s).concat(o,")");if(n){const a="".concat(typeof n.x=="string"?n.x:n.x+o),p="".concat(typeof n.y=="string"?n.y:n.y+o);i="translate(".concat(a,", ").concat(p,")")+i}return i}function vo(e,n){return e.targetTouches&&(0,X.findInArray)(e.targetTouches,o=>n===o.identifier)||e.changedTouches&&(0,X.findInArray)(e.changedTouches,o=>n===o.identifier)}function wo(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function _o(e){if(!e)return;let n=e.getElementById("react-draggable-style-el");n||(n=e.createElement("style"),n.type="text/css",n.id="react-draggable-style-el",n.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,n.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(n)),e.body&&St(e.body,"react-draggable-transparent-selection")}function jo(e){if(e)try{if(e.body&&yt(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const n=(e.defaultView||window).getSelection();n&&n.type!=="Caret"&&n.removeAllRanges()}}catch{}}function St(e,n){e.classList?e.classList.add(n):e.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(e.className+=" ".concat(n))}function yt(e,n){e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")}var q={};Object.defineProperty(q,"__esModule",{value:!0});q.canDragX=To;q.canDragY=Do;q.createCoreData=Mo;q.createDraggableData=Ro;q.getBoundPosition=Co;q.getControlPosition=Po;q.snapToGrid=ko;var V=K,de=O;function Co(e,n,o){if(!e.props.bounds)return[n,o];let{bounds:r}=e.props;r=typeof r=="string"?r:Oo(r);const s=Fe(e);if(typeof r=="string"){const{ownerDocument:i}=s,a=i.defaultView;let p;if(r==="parent"?p=s.parentNode:p=i.querySelector(r),!(p instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const m=p,x=a.getComputedStyle(s),_=a.getComputedStyle(m);r={left:-s.offsetLeft+(0,V.int)(_.paddingLeft)+(0,V.int)(x.marginLeft),top:-s.offsetTop+(0,V.int)(_.paddingTop)+(0,V.int)(x.marginTop),right:(0,de.innerWidth)(m)-(0,de.outerWidth)(s)-s.offsetLeft+(0,V.int)(_.paddingRight)-(0,V.int)(x.marginRight),bottom:(0,de.innerHeight)(m)-(0,de.outerHeight)(s)-s.offsetTop+(0,V.int)(_.paddingBottom)-(0,V.int)(x.marginBottom)}}return(0,V.isNum)(r.right)&&(n=Math.min(n,r.right)),(0,V.isNum)(r.bottom)&&(o=Math.min(o,r.bottom)),(0,V.isNum)(r.left)&&(n=Math.max(n,r.left)),(0,V.isNum)(r.top)&&(o=Math.max(o,r.top)),[n,o]}function ko(e,n,o){const r=Math.round(n/e[0])*e[0],s=Math.round(o/e[1])*e[1];return[r,s]}function To(e){return e.props.axis==="both"||e.props.axis==="x"}function Do(e){return e.props.axis==="both"||e.props.axis==="y"}function Po(e,n,o){const r=typeof n=="number"?(0,de.getTouch)(e,n):null;if(typeof n=="number"&&!r)return null;const s=Fe(o),i=o.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,de.offsetXYFromParent)(r||e,i,o.props.scale)}function Mo(e,n,o){const r=!(0,V.isNum)(e.lastX),s=Fe(e);return r?{node:s,deltaX:0,deltaY:0,lastX:n,lastY:o,x:n,y:o}:{node:s,deltaX:n-e.lastX,deltaY:o-e.lastY,lastX:e.lastX,lastY:e.lastY,x:n,y:o}}function Ro(e,n){const o=e.props.scale;return{node:n.node,x:e.state.x+n.deltaX/o,y:e.state.y+n.deltaY/o,deltaX:n.deltaX/o,deltaY:n.deltaY/o,lastX:e.state.x,lastY:e.state.y}}function Oo(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Fe(e){const n=e.findDOMNode();if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}var De={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=Eo;function Eo(){}Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Oe=Ho(l),L=ze(lt),Wo=ze(it),F=O,te=q,Ee=K,ge=ze(Pe);function ze(e){return e&&e.__esModule?e:{default:e}}function vt(e){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(vt=function(r){return r?o:n})(e)}function Ho(e,n){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=vt(n);if(o&&o.has(e))return o.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,o&&o.set(e,r),r}function z(e,n,o){return n=Io(n),n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function Io(e){var n=No(e,"string");return typeof n=="symbol"?n:String(n)}function No(e,n){if(typeof e!="object"||e===null)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var r=o.call(e,n||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}const U={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let ne=U.mouse,Me=class extends Oe.Component{constructor(){super(...arguments),z(this,"dragging",!1),z(this,"lastX",NaN),z(this,"lastY",NaN),z(this,"touchIdentifier",null),z(this,"mounted",!1),z(this,"handleDragStart",n=>{if(this.props.onMouseDown(n),!this.props.allowAnyClick&&typeof n.button=="number"&&n.button!==0)return!1;const o=this.findDOMNode();if(!o||!o.ownerDocument||!o.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=o;if(this.props.disabled||!(n.target instanceof r.defaultView.Node)||this.props.handle&&!(0,F.matchesSelectorAndParentsTo)(n.target,this.props.handle,o)||this.props.cancel&&(0,F.matchesSelectorAndParentsTo)(n.target,this.props.cancel,o))return;n.type==="touchstart"&&n.preventDefault();const s=(0,F.getTouchIdentifier)(n);this.touchIdentifier=s;const i=(0,te.getControlPosition)(n,s,this);if(i==null)return;const{x:a,y:p}=i,m=(0,te.createCoreData)(this,a,p);(0,ge.default)("DraggableCore: handleDragStart: %j",m),(0,ge.default)("calling",this.props.onStart),!(this.props.onStart(n,m)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,F.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=p,(0,F.addEvent)(r,ne.move,this.handleDrag),(0,F.addEvent)(r,ne.stop,this.handleDragStop))}),z(this,"handleDrag",n=>{const o=(0,te.getControlPosition)(n,this.touchIdentifier,this);if(o==null)return;let{x:r,y:s}=o;if(Array.isArray(this.props.grid)){let p=r-this.lastX,m=s-this.lastY;if([p,m]=(0,te.snapToGrid)(this.props.grid,p,m),!p&&!m)return;r=this.lastX+p,s=this.lastY+m}const i=(0,te.createCoreData)(this,r,s);if((0,ge.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(n,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const m=document.createEvent("MouseEvents");m.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(m)}return}this.lastX=r,this.lastY=s}),z(this,"handleDragStop",n=>{if(!this.dragging)return;const o=(0,te.getControlPosition)(n,this.touchIdentifier,this);if(o==null)return;let{x:r,y:s}=o;if(Array.isArray(this.props.grid)){let m=r-this.lastX||0,x=s-this.lastY||0;[m,x]=(0,te.snapToGrid)(this.props.grid,m,x),r=this.lastX+m,s=this.lastY+x}const i=(0,te.createCoreData)(this,r,s);if(this.props.onStop(n,i)===!1||this.mounted===!1)return!1;const p=this.findDOMNode();p&&this.props.enableUserSelectHack&&(0,F.removeUserSelectStyles)(p.ownerDocument),(0,ge.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,p&&((0,ge.default)("DraggableCore: Removing handlers"),(0,F.removeEvent)(p.ownerDocument,ne.move,this.handleDrag),(0,F.removeEvent)(p.ownerDocument,ne.stop,this.handleDragStop))}),z(this,"onMouseDown",n=>(ne=U.mouse,this.handleDragStart(n))),z(this,"onMouseUp",n=>(ne=U.mouse,this.handleDragStop(n))),z(this,"onTouchStart",n=>(ne=U.touch,this.handleDragStart(n))),z(this,"onTouchEnd",n=>(ne=U.touch,this.handleDragStop(n)))}componentDidMount(){this.mounted=!0;const n=this.findDOMNode();n&&(0,F.addEvent)(n,U.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const n=this.findDOMNode();if(n){const{ownerDocument:o}=n;(0,F.removeEvent)(o,U.mouse.move,this.handleDrag),(0,F.removeEvent)(o,U.touch.move,this.handleDrag),(0,F.removeEvent)(o,U.mouse.stop,this.handleDragStop),(0,F.removeEvent)(o,U.touch.stop,this.handleDragStop),(0,F.removeEvent)(n,U.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,F.removeUserSelectStyles)(o)}}findDOMNode(){var n,o;return(n=this.props)!==null&&n!==void 0&&n.nodeRef?(o=this.props)===null||o===void 0||(o=o.nodeRef)===null||o===void 0?void 0:o.current:Wo.default.findDOMNode(this)}render(){return Oe.cloneElement(Oe.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};De.default=Me;z(Me,"displayName","DraggableCore");z(Me,"propTypes",{allowAnyClick:L.default.bool,children:L.default.node.isRequired,disabled:L.default.bool,enableUserSelectHack:L.default.bool,offsetParent:function(e,n){if(e[n]&&e[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:L.default.arrayOf(L.default.number),handle:L.default.string,cancel:L.default.string,nodeRef:L.default.object,onStart:L.default.func,onDrag:L.default.func,onStop:L.default.func,onMouseDown:L.default.func,scale:L.default.number,className:Ee.dontSetMe,style:Ee.dontSetMe,transform:Ee.dontSetMe});z(Me,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),e.default=void 0;var n=b(l),o=_(lt),r=_(it),s=_(to),i=O,a=q,p=K,m=_(De),x=_(Pe);function _(c){return c&&c.__esModule?c:{default:c}}function v(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,f=new WeakMap;return(v=function(d){return d?f:u})(c)}function b(c,u){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var f=v(u);if(f&&f.has(c))return f.get(c);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in c)if(h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)){var S=y?Object.getOwnPropertyDescriptor(c,h):null;S&&(S.get||S.set)?Object.defineProperty(d,h,S):d[h]=c[h]}return d.default=c,f&&f.set(c,d),d}function g(){return g=Object.assign?Object.assign.bind():function(c){for(var u=1;u<arguments.length;u++){var f=arguments[u];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])}return c},g.apply(this,arguments)}function w(c,u,f){return u=T(u),u in c?Object.defineProperty(c,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[u]=f,c}function T(c){var u=R(c,"string");return typeof u=="symbol"?u:String(u)}function R(c,u){if(typeof c!="object"||c===null)return c;var f=c[Symbol.toPrimitive];if(f!==void 0){var d=f.call(c,u||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(c)}class I extends n.Component{static getDerivedStateFromProps(u,f){let{position:d}=u,{prevPropsPosition:y}=f;return d&&(!y||d.x!==y.x||d.y!==y.y)?((0,x.default)("Draggable: getDerivedStateFromProps %j",{position:d,prevPropsPosition:y}),{x:d.x,y:d.y,prevPropsPosition:{...d}}):null}constructor(u){super(u),w(this,"onDragStart",(f,d)=>{if((0,x.default)("Draggable: onDragStart: %j",d),this.props.onStart(f,(0,a.createDraggableData)(this,d))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(f,d)=>{if(!this.state.dragging)return!1;(0,x.default)("Draggable: onDrag: %j",d);const y=(0,a.createDraggableData)(this,d),h={x:y.x,y:y.y,slackX:0,slackY:0};if(this.props.bounds){const{x:E,y:k}=h;h.x+=this.state.slackX,h.y+=this.state.slackY;const[W,G]=(0,a.getBoundPosition)(this,h.x,h.y);h.x=W,h.y=G,h.slackX=this.state.slackX+(E-h.x),h.slackY=this.state.slackY+(k-h.y),y.x=h.x,y.y=h.y,y.deltaX=h.x-this.state.x,y.deltaY=h.y-this.state.y}if(this.props.onDrag(f,y)===!1)return!1;this.setState(h)}),w(this,"onDragStop",(f,d)=>{if(!this.state.dragging||this.props.onStop(f,(0,a.createDraggableData)(this,d))===!1)return!1;(0,x.default)("Draggable: onDragStop: %j",d);const h={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:E,y:k}=this.props.position;h.x=E,h.y=k}this.setState(h)}),this.state={dragging:!1,dragged:!1,x:u.position?u.position.x:u.defaultPosition.x,y:u.position?u.position.y:u.defaultPosition.y,prevPropsPosition:{...u.position},slackX:0,slackY:0,isElementSVG:!1},u.position&&!(u.onDrag||u.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var u,f;return(u=(f=this.props)===null||f===void 0||(f=f.nodeRef)===null||f===void 0?void 0:f.current)!==null&&u!==void 0?u:r.default.findDOMNode(this)}render(){const{axis:u,bounds:f,children:d,defaultPosition:y,defaultClassName:h,defaultClassNameDragging:S,defaultClassNameDragged:E,position:k,positionOffset:W,scale:G,...Y}=this.props;let ee={},ae=null;const Q=!!!k||this.state.dragging,oe=k||y,Z={x:(0,a.canDragX)(this)&&Q?this.state.x:oe.x,y:(0,a.canDragY)(this)&&Q?this.state.y:oe.y};this.state.isElementSVG?ae=(0,i.createSVGTransform)(Z,W):ee=(0,i.createCSSTransform)(Z,W);const B=(0,s.default)(d.props.className||"",h,{[S]:this.state.dragging,[E]:this.state.dragged});return n.createElement(m.default,g({},Y,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(d),{className:B,style:{...d.props.style,...ee},transform:ae}))}}e.default=I,w(I,"displayName","Draggable"),w(I,"propTypes",{...m.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),w(I,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ft);const{default:wt,DraggableCore:Bo}=ft;Te.exports=wt;Te.exports.default=wt;Te.exports.DraggableCore=Bo;var Fo=Te.exports;const zo=sn(Fo),_t=l.forwardRef(({currStep:e,openConfirmModelClick:n,handleSwapWidgetRouterClick:o,formatSwapRouter:r,handleSettingClick:s,openSelectTokenModal:i,handleSlippageClick:a},p)=>{const{currWidgetImg:m,isOpen:x}=me();je();const _=ke(),{fromCoin:v,toCoin:b,setFromCoin:g,setToCoin:w,byAmountIn:T,setFromAmount:R,setToAmount:I,setByAmountIn:c,findRouterLoading:u,routerData:f}=_,{handleSelectToken:d,handleAmountChange:y,fromAmount:h,toAmount:S,fromAmountValue:E,toAmountValue:k,fromBalanceInfo:W,toBalanceInfo:G,amountLimit:Y,getSwapSecondaryData:ee,doSwapAction:ae,reCalculateRouteData:le,scamsText:Q,refreshMarketPrice:oe,resetInputAmount:Z,onReverseClick:B}=jn(_,!0),re=l.useRef(e);l.useEffect(()=>{re.current=e},[e]),l.useImperativeHandle(p,()=>({handleTradeSubmit:A=>{ae(A)},handleSelectToken:(A,Dt)=>{d(Dt,A)}}));const{btnText:Se,btnDisabled:ce}=Cn(h,S,W==null?void 0:W.balanceFormat,v,b,f),{fetchAccountBalance:ue}=Wn();l.useEffect(()=>(we!=null&&we.address&&ue(),()=>{Z()}),[]);const{startTimer:ye,stopTimer:ve}=an({callback:()=>{le(),oe()},interval:5*1e3});l.useEffect(()=>{x||(Z(),ve())},[x]),l.useEffect(()=>{e===N.TradeConfirmPage?ye():ve()},[e]);const[fe,D]=l.useState("#icon-a-icon_trade"),{currentAccount:we,onWalletModal:jt}=Ie(),Ct=()=>{D("#icon-icon_swap1")},kt=()=>{D("#icon-a-icon_trade")},Tt=A=>{console.log("  handleRefresh"),le(),ue(),oe()};return t.jsxs(P,{w:"100%",h:"100%",display:e===N.TradeInputPage?"flex":"none",gap:"16px",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:[t.jsxs(H,{w:"100%",justify:"space-between",children:[t.jsxs(H,{children:[t.jsx($,{draggable:"false",src:m,fallbackSrc:"/images/placeholder-token@2x.png",w:"36px",h:"36px",cursor:"pointer",_hover:{transform:"scale(1.2)"},onClick:s}),t.jsx(C,{fontSize:"16px",color:"text_caption",fontWeight:"500",children:"Swap"})]}),t.jsxs(H,{children:[t.jsx(In,{isWidget:!0,onClick:a}),x&&t.jsx(En,{isAutoRefresh:!0,refreshInterval:20,handleRefresh:A=>{re.current!==N.TradeConfirmPage&&Tt()},borderRadius:"8px",w:"28px",h:"28px",innerStyle:{bg:"swap_bg_secondary"}})]})]}),t.jsxs(j,{w:"100%",children:[t.jsx(Hn,{onClick:()=>B(!0),from:{wrapStyle:{h:"auto",p:"18px",bg:"swap_bg_secondary"},isWidget:!0,balance:(W==null?void 0:W.balanceFormat)||"",value:h,amountValue:E,loading:!T&&u,openSelectTokenModal:()=>i(!0),onChange:A=>{y(A,!0)},selectable:!0,placeholder:"0.0",token:v,onFocusChange:A=>{A&&+h&&!T&&y(h,!0)}},to:{isWidget:!0,wrapStyle:{h:"auto",p:"18px"},balance:(G==null?void 0:G.balanceFormat)||"",value:S,amountValue:k,loading:T&&u,openSelectTokenModal:()=>i(!1),onFocusChange:A=>{A&&+S&&T&&y(S,!1)},inputAllowed:!1,onChange:A=>{y(A,!1)},selectable:!0,placeholder:"0.0",token:b,half:!1,max:!1},iconParams:{xlinkHref:fe,svgFill:"text_caption",transform:fe==="#icon-a-icon_trade"?"":"rotate(90deg)",fontSize:fe==="#icon-a-icon_trade"?"12px":"16px",onMouseEnter:Ct,onMouseLeave:kt}}),Q&&t.jsx(j,{mt:"-32px",p:"48px 16px 16px",borderRadius:"20px",bg:"bg_secondary",border:"1px solid",borderColor:"border",children:t.jsx(kn,{scamsText:Q})})]}),t.jsxs(P,{p:+h&&+S?"0 8px 12px":"0 8px",w:"100%",gap:"8px",border:"1px solid",borderColor:"border",borderRadius:"20px",bg:"swap_card_bg",children:[t.jsx(se,{w:"calc(100% + 18px)",h:"52px",margin:"-1px",fontSize:"18px",fontWeight:"500",borderRadius:"16px",isDisabled:u||ce,isLoading:u,onClick:()=>{we?f&&n(f):jt(!0)},children:[v,b].filter(Boolean).length<2?"Select a token":Se}),!!+h&&!!+S&&t.jsxs(P,{w:"100%",gap:"12px",children:[t.jsx(Tn,{isWidget:!0,bg:"swap_card_bg_2",findRouterLoading:u,routerData:f,fromCoin:v,toCoin:b}),t.jsx(On,{isLoading:u,label:T?"Minimum Received":"Maximum Sold",value:`${ln(Y,T?b==null?void 0:b.decimals:v==null?void 0:v.decimals,!1,cn.ROUND_DOWN)} ${T?b==null?void 0:b.symbol:v==null?void 0:v.symbol}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"12px"},valueStyle:{fontWeight:500,fontSize:"12px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",minH:"20px"}}),t.jsx(Dn,{handleSwapWidgetRouterClick:o,formatSwapRouter:r,findRouterLoading:u,fromAmount:h,toAmount:S,fromCoin:v,toCoin:b,isSwapWidget:!0})]})]})]})});_t.displayName="SwapTrade";function Lo(e){const{data:n,onClose:o}=e,{status:r="confirmation",link:s,tx:i,getShowInfo:a}=n,p=l.useMemo(()=>{if(a)return a(r)},[r]);return t.jsxs(P,{w:"100%",gap:"12px",h:"386px",pos:"relative",children:[t.jsx(Vo,{status:r}),t.jsx(Ao,{data:n,info:p}),(r==="success"||r==="rejected")&&t.jsx(se,{w:"100%",pos:"absolute",bottom:"0px",fontWeight:"500",fontSize:"16px",h:"52px",border:"12px",onClick:()=>{o()},children:r==="rejected"?"Retry":"Swap More"})]})}function Ao(e){const{data:n,info:o}=e,{status:r="confirmation",tx:s}=n,{getExplorerUrl:i}=pn(),a=o==null?void 0:o.modalDescriptionText;return o==null||o.iconUrl,r==="confirmation"?t.jsxs(P,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[t.jsx(Xe,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),t.jsx(C,{textAlign:"center",color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:a}),t.jsx(C,{fontSize:"14px",children:"Confirm this transaction in your wallet"})]}):r==="submitted"?t.jsxs(P,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[t.jsx(Xe,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),t.jsx(C,{color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:a}),t.jsxs(P,{gap:"6px",children:[t.jsx(C,{color:"primary_gray",fontSize:"14px",children:"Confirmation is in progress."}),t.jsx(C,{color:"primary_gray",fontSize:"14px",children:"Check your transaction"})]}),t.jsx(P,{mt:"5px",gap:"12px",children:s&&t.jsx(P,{gap:"12px",children:t.jsx(H,{w:"100%",justifyContent:"center",gap:"16px",children:Ye.map(p=>t.jsx(se,{variant:"outline",h:"32px",pl:"12px",lineHeight:"1",color:"text_highlight",fontSize:"12px",borderColor:"swap_border",borderRadius:"8px",leftIcon:t.jsx($,{src:p.img,alt:"SVG Image",boxSize:"24px",objectFit:"cover",borderRadius:"8px"}),rightIcon:t.jsx(M,{xlinkHref:"#icon-icon_link1",svgW:"20px",svgH:"20px"}),_hover:{borderColor:"text_highlight",svg:{fill:"text_caption"}},onClick:()=>{window.open(i(s,"tx",p),"_blank")},children:p.name},p.name))})})})]}):r==="success"?t.jsx(t.Fragment,{children:t.jsxs(P,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[t.jsx(J,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_green_opacity.10",children:t.jsx(J,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_green",children:t.jsx(M,{xlinkHref:"#icon-icon_check",fontSize:"30px",svgFill:"#000"})})}),t.jsx(C,{color:"primary_green",fontSize:"14px",lineHeight:"20px",children:"Swap Successful"}),t.jsx(H,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",textAlign:"center",children:t.jsx(C,{children:a})}),s&&t.jsxs(H,{mt:"32px",children:[t.jsx(C,{color:"primary_green",fontSize:"12px",children:"View on Explorer"}),Ye.map(p=>t.jsx(Fn,{tooltip:t.jsxs(C,{children:[p.name," "]}),children:t.jsx($,{onClick:()=>{window.open(i(s,"tx",p),"_blank")},cursor:"pointer",src:p.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"})},p.name))]})]})}):r==="rejected"?t.jsx(t.Fragment,{children:t.jsxs(P,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[t.jsx(J,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_red_opacity.10",children:t.jsx(J,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_red",children:t.jsx(M,{xlinkHref:"#icon-caution",fontSize:"24px",svgFill:"#000"})})}),t.jsx(C,{color:"primary_red",fontSize:"14px",lineHeight:"20px",children:"Swap failed"}),t.jsx(H,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",children:t.jsx(C,{maxW:"100%",textAlign:"center",lineHeight:"18px",children:a})})]})}):t.jsx(t.Fragment,{})}function Vo({status:e}){return t.jsxs(P,{w:"100%",h:"56px",justifyContent:"center",children:[e==="confirmation"&&t.jsx(C,{fontSize:"16px",color:"text_caption",children:"Waiting for Confirmation"}),e==="submitted"&&t.jsx(C,{fontSize:"16px",color:"text_caption",children:"Transaction in progress"})]})}function be(e){const{title:n,onBackClick:o}=e;return t.jsxs(H,{position:"relative",w:"100%",mt:"12px",children:[t.jsx(J,{ml:"12px",cursor:"pointer",left:"0",w:"74px",h:"32px",lineHeight:"32px",p:"0",bg:"swap_bg_secondary",borderRadius:"8px",onClick:o,sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:t.jsxs(H,{justify:"center",gap:"4px",children:[t.jsx(M,{ml:"-10px",xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),t.jsx(C,{fontSize:"12px",children:"Back"})]})}),t.jsx(C,{color:"text_caption",fontSize:"16px",position:"absolute",left:"50%",transform:"translateX(-50%)",children:n})]})}function Xo(e){const{onClose:n,data:o,onSubmitClick:r}=e,{fromCoin:s,toCoin:i,routerData:a}=ke();return t.jsxs(P,{w:"100%",gap:"12px",children:[t.jsx(be,{title:"Review your order",onBackClick:n}),t.jsx(Pn,{onSubmitClick:r,onClose:n,data:o,lastRouterData:a,fromCoin:s,toCoin:i,isWidget:!0})]})}function Yo(e){var w;const{onClose:n,data:o}=e,{fromCoin:r,toCoin:s,findRouterLoading:i,fromAmount:a,toAmount:p}=ke(),{getTokenInfo:m}=zn(),x=(w=o==null?void 0:o.routers)==null?void 0:w.map(T=>({...T,paths:T.paths.map(R=>({...R,fromToken:m(R.from_type),toToken:m(R.to_type)}))})),_={fromToken:r,toToken:s,fromAmount:a,toAmount:p,routes:x},[v,b]=l.useState(!0),g=l.useRef(null);return l.useEffect(()=>(g.current&&(clearTimeout(g.current),g.current=null),g.current=setTimeout(()=>{b(!1)},1500),()=>{g.current&&(clearTimeout(g.current),g.current=null)}),[]),t.jsxs(P,{w:"100%",gap:"12px",children:[t.jsx(be,{title:"Route",onBackClick:n}),t.jsxs(H,{w:"100%",justify:"space-between",p:"0 12px",children:[t.jsx(C,{fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"nowrap",children:"Router"}),t.jsx(j,{children:t.jsx(Mn,{data:o,loading:i})})]}),t.jsx(j,{pl:"12px",pr:"12px",w:"100%",children:t.jsx(Rn,{..._,loading:v})})]})}function Uo(e){const{onClose:n,currToken:o,onSelectCall:r}=e,[s,i]=l.useState(void 0);return t.jsxs(P,{w:"100%",gap:"12px",children:[!s&&t.jsx(be,{title:"Select Token",onBackClick:n}),s&&t.jsxs(H,{mt:"12px",gap:"12px",alignContent:"start",w:"100%",children:[t.jsx(st,{bg:"swap_bg_secondary",ml:"12px",onClick:()=>{i(void 0)}}),t.jsx(Ln,{token:s,imgBoxStyle:{w:"28px",h:"28px"}})]}),t.jsxs(j,{w:"100%",children:[!s&&t.jsx(dn,{bg:"swap_bg_primary",isOpen:!0,isWidget:!0,isShowHotList:!1,isShowCollectListBox:!0,lastSelectedToken:(o==null?void 0:o.coin_type)||"",noDataHaveImg:!1,noClickImportItem:!0,onSelectToken:a=>{r(a)},onGoplusTokenClick:a=>{i(a)},onClose:function(){}}),s&&t.jsx(An,{tokenInfo:s})]})]})}function Go(e){const{onClose:n}=e;return t.jsxs(P,{w:"100%",gap:"12px",pb:"16px",children:[t.jsx(be,{title:"Settings",onBackClick:n}),t.jsx($o,{})]})}function $o(){const{currWidgetImg:e,swapWidgetDirection:n,saveCurrWidgetImg:o}=me();return t.jsx(j,{w:"100%",pl:"16px",pr:"16px",children:t.jsx(J,{borderRadius:"12px",bg:"swap_bg_secondary",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:t.jsxs(P,{w:"100%",alignItems:"start",gap:"16px",children:[t.jsx(C,{color:"text_paragraph",children:"Change image"}),t.jsx(H,{w:"100%",wrap:"wrap",justifyContent:"space-between",children:wn.map(r=>t.jsx(J,{w:"44px",h:"44px",borderRadius:"50%",p:"6px",borderColor:e===r?"circle_progress_color":"border",children:t.jsx(Ne,{w:"100%",h:"100%",cursor:"pointer",onClick:()=>{o(r)},children:t.jsx($,{src:r,w:"36px"})})},r))})]})})})}function Ko(e){const{onCloseModal:n}=e,{onSlippageVisible:o,showSlippage:r,isWidget:s,compact:i,settingOpen:a,onClose:p,onChange:m,slippageType:x,transactionMode:_,handleChangeTransctionMode:v,maxCapForGas:b,handleChangeMaxCapForGas:g,customGasPrice:w,handleChangeCustomGasPrice:T,mevProtect:R,handleChangeMevProtect:I}=Nn(e);return t.jsxs(P,{w:"100%",gap:"12px",pb:"16px",children:[t.jsx(be,{title:"Settings",onBackClick:n}),t.jsx(j,{p:"0px 16px",children:t.jsx(j,{borderRadius:"12px",bg:"swap_bg_secondary",p:"16px 12px",children:t.jsx(Bn,{isWidget:s,compact:i,isOpen:a,onClose:n,value:un(r).mul(100).toNumber(),onChange:m,slippageType:x,transactionMode:_,onChangeTransctionMode:v,maxCapForGas:b,onChangeMaxCapForGas:g,mevProtect:R,onChangeMevProtect:I,customGasPrice:w,onChangeCustomGasPrice:T})})})]})}function qo(e){const{isOpen:n}=me(),{routerData:o,fromCoin:r,toCoin:s}=ke(),[i,a]=l.useState(N.TradeInputPage),[p,m]=l.useState(),{transactionModalVisible:x,transactionData:_,setTransactionModalVisible:v}=at(),{formatSwapRouter:b}=_n(o),[g,w]=l.useState(!0);Ce();const T=l.useRef(null),R=d=>{m(d),a(N.TradeConfirmPage)},I=()=>{a(N.RoutePage)},c=d=>{w(d),a(N.SelectTokenPage)},u=()=>{a(N.TradeInputPage)};l.useEffect(()=>{n||a(N.TradeInputPage)},[n]);const f=l.useMemo(()=>i===N.TradeStatus&&_&&_.isSwapWidget&&x,[i,_,x]);return t.jsxs(P,{bg:"swap_bg_primary",w:"100%",borderRadius:"16px",p:"0px",children:[t.jsx(_t,{ref:T,openSelectTokenModal:c,formatSwapRouter:b,handleSwapWidgetRouterClick:I,currStep:i,openConfirmModelClick:R,handleSettingClick:()=>{a(N.TradeSetting)},handleSlippageClick:()=>{a(N.SlippageSetting)}}),i===N.TradeConfirmPage&&p&&t.jsx(Xo,{data:p,onClose:u,onSubmitClick:async d=>{var y;setTimeout(()=>{a(N.TradeStatus)},500),(y=T.current)==null||y.handleTradeSubmit(d)}}),f&&t.jsx(Lo,{data:_,onClose:()=>{v(!1),u()}}),i===N.RoutePage&&b&&t.jsx(Yo,{data:b,onClose:u}),i===N.TradeSetting&&t.jsx(Go,{onClose:u}),i===N.SelectTokenPage&&t.jsx(Uo,{onClose:u,currToken:g?r:s,onSelectCall:d=>{var y;(y=T.current)==null||y.handleSelectToken(g,d),u()}}),i===N.SlippageSetting&&t.jsx(Ko,{onCloseModal:u})]})}function Qo(e){const{isOpen:n}=e,{currWidgetImg:o}=me();return t.jsxs(t.Fragment,{children:[t.jsx(j,{p:"10px",display:n?"block":"none",pointerEvents:"none",children:t.jsx(J,{w:{base:"56px",lg:"52px"},h:{base:"56px",lg:"52px"},borderRadius:"50%",p:"5px",bg:"swap_bg_primary",children:t.jsx(H,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",pt:"5px",pr:"1px",children:t.jsx(M,{xlinkHref:"#icon-icon_descending_nor",svgH:"10px",svgFill:"text_caption",svgHover:"primary"})})})}),t.jsx(j,{_hover:{transform:"scale(1.2)"},display:n?"none":"block",children:t.jsx($,{draggable:"false",src:o,fallbackSrc:"/images/placeholder-token@2x.png",w:{base:"60px",lg:"68px"},h:{base:"60px",lg:"68px"},pointerEvents:"none"})})]})}function Zo(){const{isOpen:e,setIsOpen:n,swapWidgetPosition:o,setSwapWidgetPosition:r}=me(),{isApp:s}=Ce(),i=l.useRef(!1),a=l.useRef(null),[p,m]=l.useState({x:0,y:0}),x=l.useMemo(()=>{if(!a.current)return"top-start";const f=a.current.getBoundingClientRect(),d=window.innerWidth,y=window.innerHeight,h=f.left+f.width/2;f.top+f.height/2,f.left,d-f.right;const S=f.top,E=y-f.bottom,k=h<d/2;let W="top-start";return E-S>10?W=k?"bottom-start":"bottom-end":W=k?"top-start":"top-end",W},[e,a.current,s]),_=l.useRef({x:0,y:0}),v=(f,d)=>{_.current={x:d.x,y:d.y}},b=(f,d)=>{const y={x:d.x,y:d.y},h=Math.abs(y.x-_.current.x),S=Math.abs(y.y-_.current.y);h>1||S>1?(r(y),setTimeout(()=>{i.current=!1},200)):i.current=!1},g=l.useRef(null),[w,T]=l.useState(0),[R,I]=l.useState(!1),[c,u]=l.useState(!1);return l.useEffect(()=>{if(!g.current)return;const f=S=>{const E=S==null?void 0:S.composedPath(),k=S.target;if((k==null?void 0:k.id)==="popover-trigger-PopoverId")return;const G=E.some(Y=>{var ee;return(Y==null?void 0:Y.classList)&&((ee=Y==null?void 0:Y.classList)==null?void 0:ee.contains("price-impactg-tips"))});g.current&&!g.current.contains(S.target)&&!G&&n(!1)};document.addEventListener("mousedown",f);const d=()=>{if(g.current){const S=g.current.getBoundingClientRect(),E=S.top<0,k=S.bottom>window.innerHeight;I(E||k)}},y=()=>{if(g.current){const S=g.current.getBoundingClientRect(),E=window.innerHeight;let k=S.height;u(S.top<10),S.top<0?k=Math.min(S.height,S.bottom):S.bottom>E&&(k=Math.min(S.height,E-S.top)),console.log("ðŸš€ ~ calculateVisibleHeight ~ visible:",{visible:k}),k<=0&&s&&(k=S.height),T(Math.max(0,k))}},h=new ResizeObserver(()=>{d(),y()});return g.current&&h.observe(g.current),()=>{document.removeEventListener("mousedown",f),g.current&&h.unobserve(g.current)}},[g.current]),l.useEffect(()=>(e?document.body.style.overflowX="hidden":document.body.style.overflowX="",()=>{document.body.style.overflowX=""}),[n]),t.jsx(zo,{allowAnyClick:!1,bounds:"parent",position:o,onDrag:(f,d)=>{i.current=!0,m({x:d.x,y:d.y})},onStop:b,onStart:v,children:t.jsx(P,{zIndex:1e3,position:"absolute",gap:"16px",bottom:s?"8px":"20px",left:s?"8px":"20px",children:t.jsxs(nt,{id:"PopoverId",isLazy:!0,closeOnBlur:!1,isOpen:e,placement:x,trigger:"click",autoFocus:!1,returnFocusOnClose:!1,children:[t.jsx(ot,{children:t.jsx(j,{ref:a,pointerEvents:"auto",cursor:"pointer",as:"button",onTouchEnd:()=>{s&&(i.current||n(!e))},onClick:()=>{!s&&!i.current&&n(!e)},children:t.jsx(Qo,{isOpen:e})})}),t.jsx(tt,{children:t.jsx(rt,{ref:g,w:s?"90vw":"386px",bg:"transparent",p:"0px",borderRadius:"16px",borderColor:"transparent",style:{transform:`translate(${p.x}px, ${p.y}px)`},children:e&&t.jsx(j,{pt:"0px",width:"100%",maxH:R?`${w}px`:"auto",overflowY:R?"auto":"visible",overflowX:"hidden",children:t.jsx(qo,{showTopMask:c})})})})]})})})}function Jo(){const{mutate:e}=fn();l.useEffect(()=>{Ue.inMSafeWallet()&&e({wallet:new Ue("cetus",gn("mainnet"),"sui:mainnet"),silent:!0})},[])}const er=l.lazy(()=>he(()=>import("./index-BbxvHjgK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.BuyCryptoAlchemy}))),tr=l.lazy(()=>he(()=>import("./index-BbxvHjgK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.BuyCryptoKodo}))),nr=l.lazy(()=>he(()=>import("./index-BbxvHjgK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.BuyCryptoModal}))),or=l.lazy(()=>he(()=>import("./index-BbxvHjgK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.TransactionModal}))),rr=l.lazy(()=>he(()=>import("./index-BbxvHjgK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46])).then(e=>({default:e.WalletModal})));function sr(){const[e,n]=l.useState(!1),{isTerm:o,setIsTerm:r,isBuyCryptoConfirm:s}=Je(),{isShowAlchemyCrypto:i,isShowKodoCrypto:a,setIsShowAlchemyCrypto:p,setIsShowKodoCrypto:m}=xn(),{transactionModalVisible:x,transactionData:_,setTransactionModalVisible:v,setManualCloseId:b}=at(),{currentAccount:g,isOpenWalletModal:w,onWalletModal:T}=Ie(),{fetchFrontConfig:R}=Vn(),{fetchTokenPrices:I}=hn();Jo(),Xn();const{pathname:c}=je();l.useState({name:"Sui",icon:"/images/icon-Sui@2x.png",label:"Sui"});const[u,f]=l.useState("EN"),[d,y]=l.useState("Suiscan"),[h,S]=l.useState("Suiscan"),E={language:{options:["EN English","CH ä¸­æ–‡"],value:u,onValueChange:D=>f(D)},preferred:{options:["Suiscan","Sui Explorer"],value:d,onValueChange:D=>y(D)},rpcNode:{options:["Suiscan","SUIscan2"],value:h,onValueChange:D=>S(D)}},k=l.useMemo(()=>["stats","pools"].some(D=>c.includes(D)),[c]),W=l.useMemo(()=>["swap"].some(D=>c.includes(D)),[c]),G=l.useMemo(()=>["swap","limit","dca"].some(D=>c.includes(D)),[c]),[Y,ee]=l.useState(!1),ae=l.useRef(null),le=()=>{B.current&&ee(B.current.scrollTop>100)},Q=()=>{var D;B.current&&((D=B.current)==null||D.scrollTo({top:0,behavior:"instant"}))},{initNotifi:oe}=mn();l.useEffect(()=>{c&&(console.log("ðŸš€ ~ useEffect ~ pathname:",c),Q())},[c]),l.useEffect(()=>{if(setTimeout(()=>{R(),I([])},1e3),B.current)return console.log("ðŸš€ ~ useEffect ~ hStack:",B.current),B.current.addEventListener("scroll",le),()=>{var D;return(D=B.current)==null?void 0:D.removeEventListener("scroll",le)}},[]),l.useEffect(()=>{g!=null&&g.address&&(console.log("ðŸš€ðŸš€ðŸš€ ~ CetusLayout.tsx:113 ~ useEffect ~ currentAccount?.address:",g==null?void 0:g.address),oe(g==null?void 0:g.address))},[g==null?void 0:g.address]);const{size:Z}=yn(),B=l.useRef(null),[re,Se]=l.useState(!1),ce=l.useRef(null),ue=()=>{Se(!0)};l.useEffect(()=>B.current?(B.current.addEventListener("scroll",ue),()=>{var D;(D=B.current)==null||D.removeEventListener("scroll",ue)}):()=>{ce.current&&(clearTimeout(ce.current),ce.current=null)},[]),l.useEffect(()=>{re&&(ce.current=setTimeout(()=>{Se(!1)},1500))},[re]);const{isApp:ye}=Ce(),ve=[{title:"Trade",children:[{title:"Swap",path:"/swap",icon:"#icon-a-icon_swap2"},{title:"Limit Order",path:"/limit",icon:"#icon-icon_limitorder"},{title:"DCA",path:"/dca",icon:"#icon-icon_dca"},{title:"DeepBook",path:"https://deepbook.cetus.zone/",type:"_blank",icon:"#icon-icon_deepbook"}]},{title:"Earn",children:[{title:"Pools",path:"/pools",icon:"#icon-icon_liquiditypools"},{title:"Farms",path:"/farms",icon:"#icon-icon_farms"},{title:"Vaults",path:"/vaults",icon:"#icon-icon_vaults"}]},{title:"xCETUS",path:"/xCetus",type:ye?"onClick":"reactRouterLink"},{title:"Bridge",children:[{title:"Sui Bridge",type:"_blank",path:"https://bridge.sui.io/",icon:"#icon-icon_sui"},{title:"Wormhole",type:"_blank",path:"https://bridge.cetus.zone/sui",icon:"#icon-icon_wormhole"}]},{title:"More",children:[{title:"Buy Crypto",type:"onClick",onClick:()=>{console.log("Buy Crypto"),g!=null&&g.address?n(!0):T(!0)},icon:"#icon-icon_crypto"},{title:"Launchpad",path:"https://launch.cetus.zone/?chain=sui",type:"_blank",icon:"#icon-icon_Launchpad"},{title:"Cetus Terminal",path:"https://terminal.cetus.zone",type:"_blank",icon:"#icon-icon_terminal"},{title:"Stats",path:"/stats",icon:"#icon-icon_stats"},{title:"Docs",path:"https://cetus-1.gitbook.io/cetus-docs",type:"_blank",icon:"#icon-icon_docs"}],socials:[{title:"X",path:"https://x.com/cetusprotocol",icon:"#icon-icon_twitter"},{title:"Discord",path:"https://discord.com/invite/rQtYGfmcD8",icon:"#icon-icon_discord"},{title:"Telegram",path:"https://t.me/CetusDevNews",icon:"#icon-icon_telegram"},{title:"Medium",path:"https://medium.com/@CetusProtocol",icon:"#icon-icon_medium"}]}],fe=l.useMemo(()=>!ye&&!(c!=null&&c.includes("/swap"))&&c!=="/",[c]);return t.jsxs(t.Fragment,{children:[t.jsx(j,{ref:B,h:Z==null?void 0:Z.h,background:"bg_primary",overflowY:"scroll",overflowX:"hidden",minW:{base:"100%",lg:"1200px"},className:`scroll-container ${re?"scroll-active":""}`,sx:{"::-webkit-scrollbar-thumb":{background:re?"rgba(88, 90, 92, 1)":"rgba(88, 90, 92, 0)",transition:"background 0.5s ease, opacity 0.5s ease"}},children:t.jsxs(j,{minH:"100%",pt:{base:"10px",lg:"0"},children:[t.jsx(Jn,{logo:{image:"/images/logo@2x.png",url:"/"},menus:ve,notifications:!0,setting:E,isCetusPump:!1}),t.jsx(j,{as:"div",pb:"80px",style:{width:"100%",position:"relative",height:"100%"},ref:ae,children:t.jsx(l.Suspense,{fallback:t.jsx(bn,{}),children:t.jsx(P,{w:"100%",children:t.jsx(pe,{w:"100%",maxW:"1200px",p:{base:"0px 8px 0px 12px",lg:"0 20px"},justifyContent:"center",zIndex:"1",children:t.jsx(Sn,{})})})})}),Y&&k&&t.jsx(J,{cursor:"pointer",w:"40px",h:"40px",p:"0",borderRadius:"12px",zIndex:"99",position:"fixed",bottom:"30px",right:"20px",onClick:Q,_hover:{svg:{fill:"text_caption"}},children:t.jsx(Ne,{w:"100%",h:"100%",children:t.jsx(M,{xlinkHref:"#icon-icon_top1",onClick:Q})})}),t.jsx(ir,{bgIsShow:W,bgBottomIsShow:G})]})}),w&&t.jsx(l.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(rr,{isOpen:w,onClose:()=>T(!1)})}),x&&_&&!_.isSwapWidget&&t.jsx(l.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(or,{isOpen:x,onClose:D=>{_.transactionId&&D&&b(_.transactionId),v(!1)},..._})}),e&&t.jsx(l.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(nr,{isOpen:e,onClose:()=>n(!1)})}),i&&t.jsx(l.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(er,{isOpen:i,onClose:()=>p(!1)})}),a&&t.jsx(l.Suspense,{fallback:t.jsx("div",{}),children:t.jsx(tr,{isOpen:a,onClose:()=>m(!1)})}),!o&&t.jsx(Un,{isOpen:!o,onClose:()=>r(!0)}),fe&&t.jsx(Zo,{})]})}const ir=({bgIsShow:e,bgBottomIsShow:n})=>t.jsx(t.Fragment,{children:t.jsxs(j,{bg:"background",children:[n&&t.jsx(j,{className:"bg_img_left",w:"30%",h:"208px",bg:"#005B33",filter:"blur(150px)",position:"fixed",zIndex:"0",bottom:"-100px",left:"-10%",borderRadius:"50%"}),n&&t.jsx(j,{className:"bg_img_right",w:"30%",h:"208px",bg:"#005B33",filter:"blur(180px)",position:"fixed",zIndex:"0",bottom:"-100px",right:"-10%",borderRadius:"50%"})]})}),jr=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"}));export{jr as C,Jn as H,Un as T};
