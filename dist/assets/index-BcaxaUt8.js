const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CollectListBox-LMuvgkSb.js","assets/SingleTokenInfo-DE-vd-0h.js","assets/useToken-CC08yVvW.js","assets/CopyButton-VDDCkQc3.js","assets/TokenList-DBDPiI5-.js","assets/Loading-CecVX_Yx.js","assets/NoData-BhC-3mK5.js","assets/useTokenBalance-Djy4YNWk.js","assets/useAccountBalance-02hLgrjO.js","assets/TokenGoplusCard-CS50MfNl.js","assets/HTextLabelBox-B_p285N9.js","assets/index-xRchNnFj.js","assets/ConnectButton-Cm_VI8Bl.js","assets/CetusLayout-CsrwZQsW.js","assets/useDocumentSize-DWjaT4PI.js","assets/debounce-DBQAAPGg.js","assets/index-B9DFFRPs.js","assets/swapWidgetConfig-DucQk-12.js","assets/index-DNd8iw9J.js","assets/useFindBestRouting-DQJeGFpf.js","assets/global-CmdL8L9_.js","assets/useGetPoolList-BblWMV2P.js","assets/api-data-utils-C1DlF7KH.js","assets/swapWidget-BmvPaEbE.js","assets/SwapConfirmBlock-DWifq8I4.js","assets/aggregator-fWlLewVz.js","assets/useTransaction-Gvwa3i7U.js","assets/index-BI-W3p6d.js","assets/usePriceImpact-BJQHI2S5.js","assets/CurrentPrice-BdJcwmYw.js","assets/HighlightText-di2w0OV-.js","assets/TradeConfirmAmountInfo-CBHzY4yB.js","assets/TradeInputGroup-FPKfecvo.js","assets/_getAllKeysIn-BXJcfEap.js","assets/RefreshButton-B_ILb74u.js","assets/Slippage-K2UFfpWr.js","assets/TooltipIcon-C4iEqCcK.js","assets/Stats-Bkb2xaaj.js","assets/useStatistics-Cncgi4uj.js","assets/index-DH6fVpyW.js","assets/VolumeChart-B95fMetK.js","assets/Pagination-BfRP4FVp.js","assets/tr-CZliJFCO.js","assets/EmptyTooltip-Bexsxl1x.js","assets/YAxis-B2q60ut6.js","assets/throttle-Dj8ClF9e.js","assets/generateCategoricalChart-B17GjpQL.js","assets/linear-DYpwdEgO.js","assets/SortDropBlock-l3gH8HeK.js","assets/TableSortTh-CcQakPyv.js","assets/index-DRIHmqZ9.js","assets/CoinPairInfo-CkzSdsxk.js","assets/PoweredByHaedal-DjrY-hMr.js","assets/TvlChart-BqofQW4v.js","assets/Swap-uz234sUa.js","assets/LimitPriceChart-CqXBfE0g.js","assets/swap-BHvX7Fqj.js","assets/Dca-DigZ9Eph.js","assets/MenuDropBlock-Cr44sRzU.js","assets/IconBg-BAuZe8kO.js","assets/RangeValue-B9CoAwyb.js","assets/progress-CAJrIU2J.js","assets/progress.utils-CA1WC75L.js","assets/useInsufficientBalanceToast-BT9ry-3a.js","assets/icon_currentprice@2x-DeObnx8l.js","assets/WarningTokenTipModal-1vQaIGwD.js","assets/InputBox-b0DSlFRz.js","assets/useRpcListener-YRuLY_Ke.js","assets/usePreviousValue-CVVoddtH.js","assets/Pools-D4s11PgZ.js","assets/useFavoritePool-DCCXUawO.js","assets/SearchInputBlock-BHNZ5AKG.js","assets/index-DlgWfQpC.js","assets/PositionListLoading-B2KkJ60Z.js","assets/VaultsAprBlock-CBW-Hej5.js","assets/msafe-oYBkW7LJ.js","assets/useDisplayTickPrice-gOkbx4Na.js","assets/VTextLabelBox-Dji5stlq.js","assets/usePositionList-CIC4JxMO.js","assets/useCurrentPos-MnkBtg1U.js","assets/PriceRange-0fOt5DAR.js","assets/PositionStatus-C_f__PDV.js","assets/useBurn-C4uearqu.js","assets/useNotifiSubscription-CUyTnQkp.js","assets/useXCetusHelper-CZcfVdez.js","assets/PositionCurrentPrice-DiUWvJpp.js","assets/Liquidity-ByQUWiKH.js","assets/useGetContractPoolInfo-BpqTMAqq.js","assets/liquidity-DyH6iKLr.js","assets/ActionButton-B1MiHvkI.js","assets/RangeAlerts-BusQnnN2.js","assets/SelectTokenAndFeeConfirm-CM_x3uSA.js","assets/FeeTierSelect-CrZ-uStk.js","assets/usePosAdd-Cwsk1h8o.js","assets/LockInput-If5MRd1e.js","assets/common-BKKgQ2fw.js","assets/PositionDetail-BLz9vxNg.js","assets/RemoveBlock-t9bOGtpj.js","assets/ExpendItem-DlOw9m61.js","assets/Farms-Ei-jM_PH.js","assets/FarmsTable-BLr_qH7c.js","assets/CreatePool-DWLsGqrh.js","assets/useCreatePoolHelper-CbFQ8dk_.js","assets/Limit-CmxrLc09.js","assets/Swap-DuLt0VYo.js","assets/SelectForLiquidity-CVpsWuR2.js","assets/Vaults-lO9b41eg.js","assets/XCetus-d546KdDA.js","assets/VaultsDetailPage-BD61eJZy.js","assets/LineChart-BSVJ8z4p.js","assets/VaultsAddResult-Cy0buHVx.js","assets/TestNotifi-CLZBc4pD.js"])))=>i.map(i=>d[i]);
var Np=Object.defineProperty;var Qu=s=>{throw TypeError(s)};var Lp=(s,a,et)=>a in s?Np(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et;var sn=(s,a,et)=>Lp(s,typeof a!="symbol"?a+"":a,et),Ru=(s,a,et)=>a.has(s)||Qu("Cannot "+et);var Dr=(s,a,et)=>(Ru(s,a,"read from private field"),et?et.call(s):a.get(s)),uo=(s,a,et)=>a.has(s)?Qu("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),Kn=(s,a,et,nt)=>(Ru(s,a,"write to private field"),nt?nt.call(s,et):a.set(s,et),et),eo=(s,a,et)=>(Ru(s,a,"access private method"),et);var Al=(s,a,et,nt)=>({set _(at){Kn(s,a,at,et)},get _(){return Dr(s,a,nt)}});function _mergeNamespaces(s,a){for(var et=0;et<a.length;et++){const nt=a[et];if(typeof nt!="string"&&!Array.isArray(nt)){for(const at in nt)if(at!=="default"&&!(at in s)){const mt=Object.getOwnPropertyDescriptor(nt,at);mt&&Object.defineProperty(s,at,mt.get?mt:{enumerable:!0,get:()=>nt[at]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const at of document.querySelectorAll('link[rel="modulepreload"]'))nt(at);new MutationObserver(at=>{for(const mt of at)if(mt.type==="childList")for(const wt of mt.addedNodes)wt.tagName==="LINK"&&wt.rel==="modulepreload"&&nt(wt)}).observe(document,{childList:!0,subtree:!0});function et(at){const mt={};return at.integrity&&(mt.integrity=at.integrity),at.referrerPolicy&&(mt.referrerPolicy=at.referrerPolicy),at.crossOrigin==="use-credentials"?mt.credentials="include":at.crossOrigin==="anonymous"?mt.credentials="omit":mt.credentials="same-origin",mt}function nt(at){if(at.ep)return;at.ep=!0;const mt=et(at);fetch(at.href,mt)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function getAugmentedNamespace(s){if(s.__esModule)return s;var a=s.default;if(typeof a=="function"){var et=function nt(){return this instanceof nt?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};et.prototype=a.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(s).forEach(function(nt){var at=Object.getOwnPropertyDescriptor(s,nt);Object.defineProperty(et,nt,at.get?at:{enumerable:!0,get:function(){return s[nt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$5=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$3(s){return s===null||typeof s!="object"?null:(s=z$5&&s[z$5]||s["@@iterator"],typeof s=="function"?s:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$3={};function E$1(s,a,et){this.props=s,this.context=a,this.refs=D$3,this.updater=et||B$2}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(s,a){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,a,"setState")};E$1.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$3(s,a,et){this.props=s,this.context=a,this.refs=D$3,this.updater=et||B$2}var H$3=G$3.prototype=new F$1;H$3.constructor=G$3;C$1(H$3,E$1.prototype);H$3.isPureReactComponent=!0;var I$4=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$3(s,a,et){var nt,at={},mt=null,wt=null;if(a!=null)for(nt in a.ref!==void 0&&(wt=a.ref),a.key!==void 0&&(mt=""+a.key),a)J$2.call(a,nt)&&!L$2.hasOwnProperty(nt)&&(at[nt]=a[nt]);var $t=arguments.length-2;if($t===1)at.children=et;else if(1<$t){for(var Ct=Array($t),Dt=0;Dt<$t;Dt++)Ct[Dt]=arguments[Dt+2];at.children=Ct}if(s&&s.defaultProps)for(nt in $t=s.defaultProps,$t)at[nt]===void 0&&(at[nt]=$t[nt]);return{$$typeof:l$2,type:s,key:mt,ref:wt,props:at,_owner:K$3.current}}function N$2(s,a){return{$$typeof:l$2,type:s.type,key:a,ref:s.ref,props:s.props,_owner:s._owner}}function O$4(s){return typeof s=="object"&&s!==null&&s.$$typeof===l$2}function escape$4(s){var a={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(et){return a[et]})}var P$5=/\/+/g;function Q$1(s,a){return typeof s=="object"&&s!==null&&s.key!=null?escape$4(""+s.key):a.toString(36)}function R$3(s,a,et,nt,at){var mt=typeof s;(mt==="undefined"||mt==="boolean")&&(s=null);var wt=!1;if(s===null)wt=!0;else switch(mt){case"string":case"number":wt=!0;break;case"object":switch(s.$$typeof){case l$2:case n$2:wt=!0}}if(wt)return wt=s,at=at(wt),s=nt===""?"."+Q$1(wt,0):nt,I$4(at)?(et="",s!=null&&(et=s.replace(P$5,"$&/")+"/"),R$3(at,a,et,"",function(Dt){return Dt})):at!=null&&(O$4(at)&&(at=N$2(at,et+(!at.key||wt&&wt.key===at.key?"":(""+at.key).replace(P$5,"$&/")+"/")+s)),a.push(at)),1;if(wt=0,nt=nt===""?".":nt+":",I$4(s))for(var $t=0;$t<s.length;$t++){mt=s[$t];var Ct=nt+Q$1(mt,$t);wt+=R$3(mt,a,et,Ct,at)}else if(Ct=A$3(s),typeof Ct=="function")for(s=Ct.call(s),$t=0;!(mt=s.next()).done;)mt=mt.value,Ct=nt+Q$1(mt,$t++),wt+=R$3(mt,a,et,Ct,at);else if(mt==="object")throw a=String(s),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return wt}function S$5(s,a,et){if(s==null)return s;var nt=[],at=0;return R$3(s,nt,"","",function(mt){return a.call(et,mt,at++)}),nt}function T$3(s){if(s._status===-1){var a=s._result;a=a(),a.then(function(et){(s._status===0||s._status===-1)&&(s._status=1,s._result=et)},function(et){(s._status===0||s._status===-1)&&(s._status=2,s._result=et)}),s._status===-1&&(s._status=0,s._result=a)}if(s._status===1)return s._result.default;throw s._result}var U$2={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(s,a,et){S$5(s,function(){a.apply(this,arguments)},et)},count:function(s){var a=0;return S$5(s,function(){a++}),a},toArray:function(s){return S$5(s,function(a){return a})||[]},only:function(s){if(!O$4(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r$5;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$1;react_production_min.cloneElement=function(s,a,et){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var nt=C$1({},s.props),at=s.key,mt=s.ref,wt=s._owner;if(a!=null){if(a.ref!==void 0&&(mt=a.ref,wt=K$3.current),a.key!==void 0&&(at=""+a.key),s.type&&s.type.defaultProps)var $t=s.type.defaultProps;for(Ct in a)J$2.call(a,Ct)&&!L$2.hasOwnProperty(Ct)&&(nt[Ct]=a[Ct]===void 0&&$t!==void 0?$t[Ct]:a[Ct])}var Ct=arguments.length-2;if(Ct===1)nt.children=et;else if(1<Ct){$t=Array(Ct);for(var Dt=0;Dt<Ct;Dt++)$t[Dt]=arguments[Dt+2];nt.children=$t}return{$$typeof:l$2,type:s.type,key:at,ref:mt,props:nt,_owner:wt}};react_production_min.createContext=function(s){return s={$$typeof:u$2,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:t$2,_context:s},s.Consumer=s};react_production_min.createElement=M$3;react_production_min.createFactory=function(s){var a=M$3.bind(null,s);return a.type=s,a};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(s){return{$$typeof:v$6,render:s}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(s){return{$$typeof:y$3,_payload:{_status:-1,_result:s},_init:T$3}};react_production_min.memo=function(s,a){return{$$typeof:x$3,type:s,compare:a===void 0?null:a}};react_production_min.startTransition=function(s){var a=V$2.transition;V$2.transition={};try{s()}finally{V$2.transition=a}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(s,a){return U$2.current.useCallback(s,a)};react_production_min.useContext=function(s){return U$2.current.useContext(s)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(s){return U$2.current.useDeferredValue(s)};react_production_min.useEffect=function(s,a){return U$2.current.useEffect(s,a)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(s,a,et){return U$2.current.useImperativeHandle(s,a,et)};react_production_min.useInsertionEffect=function(s,a){return U$2.current.useInsertionEffect(s,a)};react_production_min.useLayoutEffect=function(s,a){return U$2.current.useLayoutEffect(s,a)};react_production_min.useMemo=function(s,a){return U$2.current.useMemo(s,a)};react_production_min.useReducer=function(s,a,et){return U$2.current.useReducer(s,a,et)};react_production_min.useRef=function(s){return U$2.current.useRef(s)};react_production_min.useState=function(s){return U$2.current.useState(s)};react_production_min.useSyncExternalStore=function(s,a,et){return U$2.current.useSyncExternalStore(s,a,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs$2(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$3=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$4(s,a,et){var nt,at={},mt=null,wt=null;et!==void 0&&(mt=""+et),a.key!==void 0&&(mt=""+a.key),a.ref!==void 0&&(wt=a.ref);for(nt in a)m$5.call(a,nt)&&!p$2.hasOwnProperty(nt)&&(at[nt]=a[nt]);if(s&&s.defaultProps)for(nt in a=s.defaultProps,a)at[nt]===void 0&&(at[nt]=a[nt]);return{$$typeof:k$3,type:s,key:mt,ref:wt,props:at,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function a(ur,pr){var cr=ur.length;ur.push(pr);e:for(;0<cr;){var gr=cr-1>>>1,hr=ur[gr];if(0<at(hr,pr))ur[gr]=pr,ur[cr]=hr,cr=gr;else break e}}function et(ur){return ur.length===0?null:ur[0]}function nt(ur){if(ur.length===0)return null;var pr=ur[0],cr=ur.pop();if(cr!==pr){ur[0]=cr;e:for(var gr=0,hr=ur.length,lr=hr>>>1;gr<lr;){var xr=2*(gr+1)-1,Mr=ur[xr],Pr=xr+1,Ar=ur[Pr];if(0>at(Mr,cr))Pr<hr&&0>at(Ar,Mr)?(ur[gr]=Ar,ur[Pr]=cr,gr=Pr):(ur[gr]=Mr,ur[xr]=cr,gr=xr);else if(Pr<hr&&0>at(Ar,cr))ur[gr]=Ar,ur[Pr]=cr,gr=Pr;else break e}}return pr}function at(ur,pr){var cr=ur.sortIndex-pr.sortIndex;return cr!==0?cr:ur.id-pr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var mt=performance;s.unstable_now=function(){return mt.now()}}else{var wt=Date,$t=wt.now();s.unstable_now=function(){return wt.now()-$t}}var Ct=[],Dt=[],Ft=1,jt=null,Nt=3,Lt=!1,Ut=!1,Vt=!1,Yt=typeof setTimeout=="function"?setTimeout:null,er=typeof clearTimeout=="function"?clearTimeout:null,tr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function nr(ur){for(var pr=et(Dt);pr!==null;){if(pr.callback===null)nt(Dt);else if(pr.startTime<=ur)nt(Dt),pr.sortIndex=pr.expirationTime,a(Ct,pr);else break;pr=et(Dt)}}function sr(ur){if(Vt=!1,nr(ur),!Ut)if(et(Ct)!==null)Ut=!0,or(dr);else{var pr=et(Dt);pr!==null&&ar(sr,pr.startTime-ur)}}function dr(ur,pr){Ut=!1,Vt&&(Vt=!1,er(yr),yr=-1),Lt=!0;var cr=Nt;try{for(nr(pr),jt=et(Ct);jt!==null&&(!(jt.expirationTime>pr)||ur&&!wr());){var gr=jt.callback;if(typeof gr=="function"){jt.callback=null,Nt=jt.priorityLevel;var hr=gr(jt.expirationTime<=pr);pr=s.unstable_now(),typeof hr=="function"?jt.callback=hr:jt===et(Ct)&&nt(Ct),nr(pr)}else nt(Ct);jt=et(Ct)}if(jt!==null)var lr=!0;else{var xr=et(Dt);xr!==null&&ar(sr,xr.startTime-pr),lr=!1}return lr}finally{jt=null,Nt=cr,Lt=!1}}var br=!1,vr=null,yr=-1,$r=5,Sr=-1;function wr(){return!(s.unstable_now()-Sr<$r)}function fr(){if(vr!==null){var ur=s.unstable_now();Sr=ur;var pr=!0;try{pr=vr(!0,ur)}finally{pr?_r():(br=!1,vr=null)}}else br=!1}var _r;if(typeof tr=="function")_r=function(){tr(fr)};else if(typeof MessageChannel<"u"){var ir=new MessageChannel,rr=ir.port2;ir.port1.onmessage=fr,_r=function(){rr.postMessage(null)}}else _r=function(){Yt(fr,0)};function or(ur){vr=ur,br||(br=!0,_r())}function ar(ur,pr){yr=Yt(function(){ur(s.unstable_now())},pr)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ur){ur.callback=null},s.unstable_continueExecution=function(){Ut||Lt||(Ut=!0,or(dr))},s.unstable_forceFrameRate=function(ur){0>ur||125<ur?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$r=0<ur?Math.floor(1e3/ur):5},s.unstable_getCurrentPriorityLevel=function(){return Nt},s.unstable_getFirstCallbackNode=function(){return et(Ct)},s.unstable_next=function(ur){switch(Nt){case 1:case 2:case 3:var pr=3;break;default:pr=Nt}var cr=Nt;Nt=pr;try{return ur()}finally{Nt=cr}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ur,pr){switch(ur){case 1:case 2:case 3:case 4:case 5:break;default:ur=3}var cr=Nt;Nt=ur;try{return pr()}finally{Nt=cr}},s.unstable_scheduleCallback=function(ur,pr,cr){var gr=s.unstable_now();switch(typeof cr=="object"&&cr!==null?(cr=cr.delay,cr=typeof cr=="number"&&0<cr?gr+cr:gr):cr=gr,ur){case 1:var hr=-1;break;case 2:hr=250;break;case 5:hr=1073741823;break;case 4:hr=1e4;break;default:hr=5e3}return hr=cr+hr,ur={id:Ft++,callback:pr,priorityLevel:ur,startTime:cr,expirationTime:hr,sortIndex:-1},cr>gr?(ur.sortIndex=cr,a(Dt,ur),et(Ct)===null&&ur===et(Dt)&&(Vt?(er(yr),yr=-1):Vt=!0,ar(sr,cr-gr))):(ur.sortIndex=hr,a(Ct,ur),Ut||Lt||(Ut=!0,or(dr))),ur},s.unstable_shouldYield=wr,s.unstable_wrapCallback=function(ur){var pr=Nt;return function(){var cr=Nt;Nt=pr;try{return ur.apply(this,arguments)}finally{Nt=cr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,et=1;et<arguments.length;et++)a+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(s,a){ha(s,a),ha(s+"Capture",a)}function ha(s,a){for(ea[s]=a,s=0;s<a.length;s++)da.add(a[s])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(s){return ja.call(ma,s)?!0:ja.call(la,s)?!1:ka.test(s)?ma[s]=!0:(la[s]=!0,!1)}function pa(s,a,et,nt){if(et!==null&&et.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return nt?!1:et!==null?!et.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function qa(s,a,et,nt){if(a===null||typeof a>"u"||pa(s,a,et,nt))return!0;if(nt)return!1;if(et!==null)switch(et.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function v$5(s,a,et,nt,at,mt,wt){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=nt,this.attributeNamespace=at,this.mustUseProperty=et,this.propertyName=s,this.type=a,this.sanitizeURL=mt,this.removeEmptyString=wt}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){z$4[s]=new v$5(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];z$4[a]=new v$5(a,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){z$4[s]=new v$5(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){z$4[s]=new v$5(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){z$4[s]=new v$5(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){z$4[s]=new v$5(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){z$4[s]=new v$5(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){z$4[s]=new v$5(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){z$4[s]=new v$5(s,5,!1,s.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(ra,sa);z$4[a]=new v$5(a,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(ra,sa);z$4[a]=new v$5(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(ra,sa);z$4[a]=new v$5(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){z$4[s]=new v$5(s,1,!1,s.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){z$4[s]=new v$5(s,1,!1,s.toLowerCase(),null,!0,!0)});function ta(s,a,et,nt){var at=z$4.hasOwnProperty(a)?z$4[a]:null;(at!==null?at.type!==0:nt||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(qa(a,et,at,nt)&&(et=null),nt||at===null?oa(a)&&(et===null?s.removeAttribute(a):s.setAttribute(a,""+et)):at.mustUseProperty?s[at.propertyName]=et===null?at.type===3?!1:"":et:(a=at.attributeName,nt=at.attributeNamespace,et===null?s.removeAttribute(a):(at=at.type,et=at===3||at===4&&et===!0?"":""+et,nt?s.setAttributeNS(nt,a,et):s.setAttribute(a,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(s){return s===null||typeof s!="object"?null:(s=Ja&&s[Ja]||s["@@iterator"],typeof s=="function"?s:null)}var A$2=Object.assign,La;function Ma(s){if(La===void 0)try{throw Error()}catch(et){var a=et.stack.trim().match(/\n( *(at )?)/);La=a&&a[1]||""}return`
`+La+s}var Na=!1;function Oa(s,a){if(!s||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Dt){var nt=Dt}Reflect.construct(s,[],a)}else{try{a.call()}catch(Dt){nt=Dt}s.call(a.prototype)}else{try{throw Error()}catch(Dt){nt=Dt}s()}}catch(Dt){if(Dt&&nt&&typeof Dt.stack=="string"){for(var at=Dt.stack.split(`
`),mt=nt.stack.split(`
`),wt=at.length-1,$t=mt.length-1;1<=wt&&0<=$t&&at[wt]!==mt[$t];)$t--;for(;1<=wt&&0<=$t;wt--,$t--)if(at[wt]!==mt[$t]){if(wt!==1||$t!==1)do if(wt--,$t--,0>$t||at[wt]!==mt[$t]){var Ct=`
`+at[wt].replace(" at new "," at ");return s.displayName&&Ct.includes("<anonymous>")&&(Ct=Ct.replace("<anonymous>",s.displayName)),Ct}while(1<=wt&&0<=$t);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(s=s?s.displayName||s.name:"")?Ma(s):""}function Pa(s){switch(s.tag){case 5:return Ma(s.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return s=Oa(s.type,!1),s;case 11:return s=Oa(s.type.render,!1),s;case 1:return s=Oa(s.type,!0),s;default:return""}}function Qa(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ca:return(s.displayName||"Context")+".Consumer";case Ba:return(s._context.displayName||"Context")+".Provider";case Da:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ga:return a=s.displayName||null,a!==null?a:Qa(s.type)||"Memo";case Ha:a=s._payload,s=s._init;try{return Qa(s(a))}catch{}}return null}function Ra(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(a);case 8:return a===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Sa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ta(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ua(s){var a=Ta(s)?"checked":"value",et=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),nt=""+s[a];if(!s.hasOwnProperty(a)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var at=et.get,mt=et.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return at.call(this)},set:function(wt){nt=""+wt,mt.call(this,wt)}}),Object.defineProperty(s,a,{enumerable:et.enumerable}),{getValue:function(){return nt},setValue:function(wt){nt=""+wt},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Va(s){s._valueTracker||(s._valueTracker=Ua(s))}function Wa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var et=a.getValue(),nt="";return s&&(nt=Ta(s)?s.checked?"true":"false":s.value),s=nt,s!==et?(a.setValue(s),!0):!1}function Xa(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,a){var et=a.checked;return A$2({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??s._wrapperState.initialChecked})}function Za(s,a){var et=a.defaultValue==null?"":a.defaultValue,nt=a.checked!=null?a.checked:a.defaultChecked;et=Sa(a.value!=null?a.value:et),s._wrapperState={initialChecked:nt,initialValue:et,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ab(s,a){a=a.checked,a!=null&&ta(s,"checked",a,!1)}function bb(s,a){ab(s,a);var et=Sa(a.value),nt=a.type;if(et!=null)nt==="number"?(et===0&&s.value===""||s.value!=et)&&(s.value=""+et):s.value!==""+et&&(s.value=""+et);else if(nt==="submit"||nt==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?cb(s,a.type,et):a.hasOwnProperty("defaultValue")&&cb(s,a.type,Sa(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function db(s,a,et){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var nt=a.type;if(!(nt!=="submit"&&nt!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,et||a===s.value||(s.value=a),s.defaultValue=a}et=s.name,et!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,et!==""&&(s.name=et)}function cb(s,a,et){(a!=="number"||Xa(s.ownerDocument)!==s)&&(et==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+et&&(s.defaultValue=""+et))}var eb=Array.isArray;function fb(s,a,et,nt){if(s=s.options,a){a={};for(var at=0;at<et.length;at++)a["$"+et[at]]=!0;for(et=0;et<s.length;et++)at=a.hasOwnProperty("$"+s[et].value),s[et].selected!==at&&(s[et].selected=at),at&&nt&&(s[et].defaultSelected=!0)}else{for(et=""+Sa(et),a=null,at=0;at<s.length;at++){if(s[at].value===et){s[at].selected=!0,nt&&(s[at].defaultSelected=!0);return}a!==null||s[at].disabled||(a=s[at])}a!==null&&(a.selected=!0)}}function gb(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$2({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hb(s,a){var et=a.value;if(et==null){if(et=a.children,a=a.defaultValue,et!=null){if(a!=null)throw Error(p$1(92));if(eb(et)){if(1<et.length)throw Error(p$1(93));et=et[0]}a=et}a==null&&(a=""),et=a}s._wrapperState={initialValue:Sa(et)}}function ib(s,a){var et=Sa(a.value),nt=Sa(a.defaultValue);et!=null&&(et=""+et,et!==s.value&&(s.value=et),a.defaultValue==null&&s.defaultValue!==et&&(s.defaultValue=et)),nt!=null&&(s.defaultValue=""+nt)}function jb(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function kb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?kb(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mb,nb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,et,nt,at){MSApp.execUnsafeLocalFunction(function(){return s(a,et,nt,at)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mb.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ob(s,a){if(a){var et=s.firstChild;if(et&&et===s.lastChild&&et.nodeType===3){et.nodeValue=a;return}}s.textContent=a}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(s){qb.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),pb[a]=pb[s]})});function rb(s,a,et){return a==null||typeof a=="boolean"||a===""?"":et||typeof a!="number"||a===0||pb.hasOwnProperty(s)&&pb[s]?(""+a).trim():a+"px"}function sb(s,a){s=s.style;for(var et in a)if(a.hasOwnProperty(et)){var nt=et.indexOf("--")===0,at=rb(et,a[et],nt);et==="float"&&(et="cssFloat"),nt?s.setProperty(et,at):s[et]=at}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(s,a){if(a){if(tb[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(p$1(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(p$1(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(p$1(61))}if(a.style!=null&&typeof a.style!="object")throw Error(p$1(62))}}function vb(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yb=null,zb=null,Ab=null;function Bb(s){if(s=Cb(s)){if(typeof yb!="function")throw Error(p$1(280));var a=s.stateNode;a&&(a=Db(a),yb(s.stateNode,s.type,a))}}function Eb(s){zb?Ab?Ab.push(s):Ab=[s]:zb=s}function Fb(){if(zb){var s=zb,a=Ab;if(Ab=zb=null,Bb(s),a)for(s=0;s<a.length;s++)Bb(a[s])}}function Gb(s,a){return s(a)}function Hb(){}var Ib=!1;function Jb(s,a,et){if(Ib)return s(a,et);Ib=!0;try{return Gb(s,a,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(s,a){var et=s.stateNode;if(et===null)return null;var nt=Db(et);if(nt===null)return null;et=nt[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(s=s.type,nt=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!nt;break e;default:s=!1}if(s)return null;if(et&&typeof et!="function")throw Error(p$1(231,a,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(s,a,et,nt,at,mt,wt,$t,Ct){var Dt=Array.prototype.slice.call(arguments,3);try{a.apply(et,Dt)}catch(Ft){this.onError(Ft)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(s){Ob=!0,Pb=s}};function Tb(s,a,et,nt,at,mt,wt,$t,Ct){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(s,a,et,nt,at,mt,wt,$t,Ct){if(Tb.apply(this,arguments),Ob){if(Ob){var Dt=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=Dt)}}function Vb(s){var a=s,et=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(et=a.return),s=a.return;while(s)}return a.tag===3?et:null}function Wb(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Xb(s){if(Vb(s)!==s)throw Error(p$1(188))}function Yb(s){var a=s.alternate;if(!a){if(a=Vb(s),a===null)throw Error(p$1(188));return a!==s?null:s}for(var et=s,nt=a;;){var at=et.return;if(at===null)break;var mt=at.alternate;if(mt===null){if(nt=at.return,nt!==null){et=nt;continue}break}if(at.child===mt.child){for(mt=at.child;mt;){if(mt===et)return Xb(at),s;if(mt===nt)return Xb(at),a;mt=mt.sibling}throw Error(p$1(188))}if(et.return!==nt.return)et=at,nt=mt;else{for(var wt=!1,$t=at.child;$t;){if($t===et){wt=!0,et=at,nt=mt;break}if($t===nt){wt=!0,nt=at,et=mt;break}$t=$t.sibling}if(!wt){for($t=mt.child;$t;){if($t===et){wt=!0,et=mt,nt=at;break}if($t===nt){wt=!0,nt=mt,et=at;break}$t=$t.sibling}if(!wt)throw Error(p$1(189))}}if(et.alternate!==nt)throw Error(p$1(190))}if(et.tag!==3)throw Error(p$1(188));return et.stateNode.current===et?s:a}function Zb(s){return s=Yb(s),s!==null?$b(s):null}function $b(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=$b(s);if(a!==null)return a;s=s.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(s){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,s,void 0,(s.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(s){return s>>>=0,s===0?32:31-(pc(s)/qc|0)|0}var rc=64,sc=4194304;function tc(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function uc(s,a){var et=s.pendingLanes;if(et===0)return 0;var nt=0,at=s.suspendedLanes,mt=s.pingedLanes,wt=et&268435455;if(wt!==0){var $t=wt&~at;$t!==0?nt=tc($t):(mt&=wt,mt!==0&&(nt=tc(mt)))}else wt=et&~at,wt!==0?nt=tc(wt):mt!==0&&(nt=tc(mt));if(nt===0)return 0;if(a!==0&&a!==nt&&!(a&at)&&(at=nt&-nt,mt=a&-a,at>=mt||at===16&&(mt&4194240)!==0))return a;if(nt&4&&(nt|=et&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=nt;0<a;)et=31-oc(a),at=1<<et,nt|=s[et],a&=~at;return nt}function vc(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(s,a){for(var et=s.suspendedLanes,nt=s.pingedLanes,at=s.expirationTimes,mt=s.pendingLanes;0<mt;){var wt=31-oc(mt),$t=1<<wt,Ct=at[wt];Ct===-1?(!($t&et)||$t&nt)&&(at[wt]=vc($t,a)):Ct<=a&&(s.expiredLanes|=$t),mt&=~$t}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yc(){var s=rc;return rc<<=1,!(rc&4194240)&&(rc=64),s}function zc(s){for(var a=[],et=0;31>et;et++)a.push(s);return a}function Ac(s,a,et){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-oc(a),s[a]=et}function Bc(s,a){var et=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var nt=s.eventTimes;for(s=s.expirationTimes;0<et;){var at=31-oc(et),mt=1<<at;a[at]=0,nt[at]=-1,s[at]=-1,et&=~mt}}function Cc(s,a){var et=s.entangledLanes|=a;for(s=s.entanglements;et;){var nt=31-oc(et),at=1<<nt;at&a|s[nt]&a&&(s[nt]|=a),et&=~at}}var C=0;function Dc(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,a){switch(s){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(a.pointerId)}}function Tc(s,a,et,nt,at,mt){return s===null||s.nativeEvent!==mt?(s={blockedOn:a,domEventName:et,eventSystemFlags:nt,nativeEvent:mt,targetContainers:[at]},a!==null&&(a=Cb(a),a!==null&&Fc(a)),s):(s.eventSystemFlags|=nt,a=s.targetContainers,at!==null&&a.indexOf(at)===-1&&a.push(at),s)}function Uc(s,a,et,nt,at){switch(a){case"focusin":return Lc=Tc(Lc,s,a,et,nt,at),!0;case"dragenter":return Mc=Tc(Mc,s,a,et,nt,at),!0;case"mouseover":return Nc=Tc(Nc,s,a,et,nt,at),!0;case"pointerover":var mt=at.pointerId;return Oc.set(mt,Tc(Oc.get(mt)||null,s,a,et,nt,at)),!0;case"gotpointercapture":return mt=at.pointerId,Pc.set(mt,Tc(Pc.get(mt)||null,s,a,et,nt,at)),!0}return!1}function Vc(s){var a=Wc(s.target);if(a!==null){var et=Vb(a);if(et!==null){if(a=et.tag,a===13){if(a=Wb(et),a!==null){s.blockedOn=a,Ic(s.priority,function(){Gc(et)});return}}else if(a===3&&et.stateNode.current.memoizedState.isDehydrated){s.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var et=Yc(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(et===null){et=s.nativeEvent;var nt=new et.constructor(et.type,et);wb=nt,et.target.dispatchEvent(nt),wb=null}else return a=Cb(et),a!==null&&Fc(a),s.blockedOn=et,!1;a.shift()}return!0}function Zc(s,a,et){Xc(s)&&et.delete(a)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(s,a){s.blockedOn===a&&(s.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(s){function a(at){return ad(at,s)}if(0<Kc.length){ad(Kc[0],s);for(var et=1;et<Kc.length;et++){var nt=Kc[et];nt.blockedOn===s&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,s),Mc!==null&&ad(Mc,s),Nc!==null&&ad(Nc,s),Oc.forEach(a),Pc.forEach(a),et=0;et<Qc.length;et++)nt=Qc[et],nt.blockedOn===s&&(nt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(s,a,et,nt){var at=C,mt=cd.transition;cd.transition=null;try{C=1,fd(s,a,et,nt)}finally{C=at,cd.transition=mt}}function gd(s,a,et,nt){var at=C,mt=cd.transition;cd.transition=null;try{C=4,fd(s,a,et,nt)}finally{C=at,cd.transition=mt}}function fd(s,a,et,nt){if(dd){var at=Yc(s,a,et,nt);if(at===null)hd(s,a,nt,id$3,et),Sc(s,nt);else if(Uc(at,s,a,et,nt))nt.stopPropagation();else if(Sc(s,nt),a&4&&-1<Rc.indexOf(s)){for(;at!==null;){var mt=Cb(at);if(mt!==null&&Ec(mt),mt=Yc(s,a,et,nt),mt===null&&hd(s,a,nt,id$3,et),mt===at)break;at=mt}at!==null&&nt.stopPropagation()}else hd(s,a,nt,null,et)}}var id$3=null;function Yc(s,a,et,nt){if(id$3=null,s=xb(nt),s=Wc(s),s!==null)if(a=Vb(s),a===null)s=null;else if(et=a.tag,et===13){if(s=Wb(a),s!==null)return s;s=null}else if(et===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return id$3=s,null}function jd(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var s,a=ld,et=a.length,nt,at="value"in kd?kd.value:kd.textContent,mt=at.length;for(s=0;s<et&&a[s]===at[s];s++);var wt=et-s;for(nt=1;nt<=wt&&a[et-nt]===at[mt-nt];nt++);return md=at.slice(s,1<nt?1-nt:void 0)}function od(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function pd(){return!0}function qd(){return!1}function rd(s){function a(et,nt,at,mt,wt){this._reactName=et,this._targetInst=at,this.type=nt,this.nativeEvent=mt,this.target=wt,this.currentTarget=null;for(var $t in s)s.hasOwnProperty($t)&&(et=s[$t],this[$t]=et?et(mt):mt[$t]);return this.isDefaultPrevented=(mt.defaultPrevented!=null?mt.defaultPrevented:mt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),a}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yd&&(yd&&s.type==="mousemove"?(wd=s.screenX-yd.screenX,xd=s.screenY-yd.screenY):xd=wd=0,yd=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Od[s])?!!a[s]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(s){if(s.key){var a=Md[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=od(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(s){return s.type==="keypress"?od(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?od(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$2=" ",fe$1=!1;function ge$2(s,a){switch(s){case"keyup":return $d.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ie$2=!1;function je$1(s,a){switch(s){case"compositionend":return he$1(a);case"keypress":return a.which!==32?null:(fe$1=!0,ee$2);case"textInput":return s=a.data,s===ee$2&&fe$1?null:s;default:return null}}function ke$2(s,a){if(ie$2)return s==="compositionend"||!ae$1&&ge$2(s,a)?(s=nd(),md=ld=kd=null,ie$2=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return de$1&&a.locale!=="ko"?null:a.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!le$2[s.type]:a==="textarea"}function ne$2(s,a,et,nt){Eb(nt),a=oe$1(a,"onChange"),0<a.length&&(et=new td("onChange","change",null,et,nt),s.push({event:et,listeners:a}))}var pe$2=null,qe=null;function re$2(s){se$2(s,0)}function te(s){var a=ue$1(s);if(Wa(a))return s}function ve$2(s,a){if(s==="change")return a}var we$1=!1;if(ia){var xe$1;if(ia){var ye$3="oninput"in document;if(!ye$3){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$3=typeof ze.oninput=="function"}xe$1=ye$3}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$1),qe=pe$2=null)}function Be$1(s){if(s.propertyName==="value"&&te(qe)){var a=[];ne$2(a,qe,s,xb(s)),Jb(re$2,a)}}function Ce$1(s,a,et){s==="focusin"?(Ae$2(),pe$2=a,qe=et,pe$2.attachEvent("onpropertychange",Be$1)):s==="focusout"&&Ae$2()}function De$1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return te(qe)}function Ee$2(s,a){if(s==="click")return te(a)}function Fe$1(s,a){if(s==="input"||s==="change")return te(a)}function Ge(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(s,a){if(He(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var et=Object.keys(s),nt=Object.keys(a);if(et.length!==nt.length)return!1;for(nt=0;nt<et.length;nt++){var at=et[nt];if(!ja.call(a,at)||!He(s[at],a[at]))return!1}return!0}function Je$1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ke$1(s,a){var et=Je$1(s);s=0;for(var nt;et;){if(et.nodeType===3){if(nt=s+et.textContent.length,s<=a&&nt>=a)return{node:et,offset:a-s};s=nt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je$1(et)}}function Le$1(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Le$1(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Me(){for(var s=window,a=Xa();a instanceof s.HTMLIFrameElement;){try{var et=typeof a.contentWindow.location.href=="string"}catch{et=!1}if(et)s=a.contentWindow;else break;a=Xa(s.document)}return a}function Ne(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Oe$1(s){var a=Me(),et=s.focusedElem,nt=s.selectionRange;if(a!==et&&et&&et.ownerDocument&&Le$1(et.ownerDocument.documentElement,et)){if(nt!==null&&Ne(et)){if(a=nt.start,s=nt.end,s===void 0&&(s=a),"selectionStart"in et)et.selectionStart=a,et.selectionEnd=Math.min(s,et.value.length);else if(s=(a=et.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var at=et.textContent.length,mt=Math.min(nt.start,at);nt=nt.end===void 0?mt:Math.min(nt.end,at),!s.extend&&mt>nt&&(at=nt,nt=mt,mt=at),at=Ke$1(et,mt);var wt=Ke$1(et,nt);at&&wt&&(s.rangeCount!==1||s.anchorNode!==at.node||s.anchorOffset!==at.offset||s.focusNode!==wt.node||s.focusOffset!==wt.offset)&&(a=a.createRange(),a.setStart(at.node,at.offset),s.removeAllRanges(),mt>nt?(s.addRange(a),s.extend(wt.node,wt.offset)):(a.setEnd(wt.node,wt.offset),s.addRange(a)))}}for(a=[],s=et;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<a.length;et++)s=a[et],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Pe$2=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$2=null,Se$1=null,Te=!1;function Ue$1(s,a,et){var nt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie$1(Se$1,nt)||(Se$1=nt,nt=oe$1(Re$2,"onSelect"),0<nt.length&&(a=new td("onSelect","select",null,a,et),s.push({event:a,listeners:nt}),a.target=Qe)))}function Ve$2(s,a){var et={};return et[s.toLowerCase()]=a.toLowerCase(),et["Webkit"+s]="webkit"+a,et["Moz"+s]="moz"+a,et}var We$1={animationend:Ve$2("Animation","AnimationEnd"),animationiteration:Ve$2("Animation","AnimationIteration"),animationstart:Ve$2("Animation","AnimationStart"),transitionend:Ve$2("Transition","TransitionEnd")},Xe$1={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(s){if(Xe$1[s])return Xe$1[s];if(!We$1[s])return s;var a=We$1[s],et;for(et in a)if(a.hasOwnProperty(et)&&et in Ye)return Xe$1[s]=a[et];return s}var $e$2=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(s,a){df.set(s,a),fa(a,[s])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(s,a,et){var nt=s.type||"unknown-event";s.currentTarget=et,Ub(nt,a,void 0,s),s.currentTarget=null}function se$2(s,a){a=(a&4)!==0;for(var et=0;et<s.length;et++){var nt=s[et],at=nt.event;nt=nt.listeners;e:{var mt=void 0;if(a)for(var wt=nt.length-1;0<=wt;wt--){var $t=nt[wt],Ct=$t.instance,Dt=$t.currentTarget;if($t=$t.listener,Ct!==mt&&at.isPropagationStopped())break e;nf(at,$t,Dt),mt=Ct}else for(wt=0;wt<nt.length;wt++){if($t=nt[wt],Ct=$t.instance,Dt=$t.currentTarget,$t=$t.listener,Ct!==mt&&at.isPropagationStopped())break e;nf(at,$t,Dt),mt=Ct}}}if(Qb)throw s=Rb,Qb=!1,Rb=null,s}function D$2(s,a){var et=a[of];et===void 0&&(et=a[of]=new Set);var nt=s+"__bubble";et.has(nt)||(pf(a,s,2,!1),et.add(nt))}function qf(s,a,et){var nt=0;a&&(nt|=4),pf(et,s,nt,a)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(s){if(!s[rf]){s[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,s),qf(et,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[rf]||(a[rf]=!0,qf("selectionchange",!1,a))}}function pf(s,a,et,nt){switch(jd(a)){case 1:var at=ed;break;case 4:at=gd;break;default:at=fd}et=at.bind(null,a,et,s),at=void 0,!Lb||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(at=!0),nt?at!==void 0?s.addEventListener(a,et,{capture:!0,passive:at}):s.addEventListener(a,et,!0):at!==void 0?s.addEventListener(a,et,{passive:at}):s.addEventListener(a,et,!1)}function hd(s,a,et,nt,at){var mt=nt;if(!(a&1)&&!(a&2)&&nt!==null)e:for(;;){if(nt===null)return;var wt=nt.tag;if(wt===3||wt===4){var $t=nt.stateNode.containerInfo;if($t===at||$t.nodeType===8&&$t.parentNode===at)break;if(wt===4)for(wt=nt.return;wt!==null;){var Ct=wt.tag;if((Ct===3||Ct===4)&&(Ct=wt.stateNode.containerInfo,Ct===at||Ct.nodeType===8&&Ct.parentNode===at))return;wt=wt.return}for(;$t!==null;){if(wt=Wc($t),wt===null)return;if(Ct=wt.tag,Ct===5||Ct===6){nt=mt=wt;continue e}$t=$t.parentNode}}nt=nt.return}Jb(function(){var Dt=mt,Ft=xb(et),jt=[];e:{var Nt=df.get(s);if(Nt!==void 0){var Lt=td,Ut=s;switch(s){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":Lt=Rd;break;case"focusin":Ut="focus",Lt=Fd;break;case"focusout":Ut="blur",Lt=Fd;break;case"beforeblur":case"afterblur":Lt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=Vd;break;case $e$2:case af:case bf:Lt=Hd;break;case cf:Lt=Xd;break;case"scroll":Lt=vd;break;case"wheel":Lt=Zd;break;case"copy":case"cut":case"paste":Lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=Td}var Vt=(a&4)!==0,Yt=!Vt&&s==="scroll",er=Vt?Nt!==null?Nt+"Capture":null:Nt;Vt=[];for(var tr=Dt,nr;tr!==null;){nr=tr;var sr=nr.stateNode;if(nr.tag===5&&sr!==null&&(nr=sr,er!==null&&(sr=Kb(tr,er),sr!=null&&Vt.push(tf(tr,sr,nr)))),Yt)break;tr=tr.return}0<Vt.length&&(Nt=new Lt(Nt,Ut,null,et,Ft),jt.push({event:Nt,listeners:Vt}))}}if(!(a&7)){e:{if(Nt=s==="mouseover"||s==="pointerover",Lt=s==="mouseout"||s==="pointerout",Nt&&et!==wb&&(Ut=et.relatedTarget||et.fromElement)&&(Wc(Ut)||Ut[uf]))break e;if((Lt||Nt)&&(Nt=Ft.window===Ft?Ft:(Nt=Ft.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,Lt?(Ut=et.relatedTarget||et.toElement,Lt=Dt,Ut=Ut?Wc(Ut):null,Ut!==null&&(Yt=Vb(Ut),Ut!==Yt||Ut.tag!==5&&Ut.tag!==6)&&(Ut=null)):(Lt=null,Ut=Dt),Lt!==Ut)){if(Vt=Bd,sr="onMouseLeave",er="onMouseEnter",tr="mouse",(s==="pointerout"||s==="pointerover")&&(Vt=Td,sr="onPointerLeave",er="onPointerEnter",tr="pointer"),Yt=Lt==null?Nt:ue$1(Lt),nr=Ut==null?Nt:ue$1(Ut),Nt=new Vt(sr,tr+"leave",Lt,et,Ft),Nt.target=Yt,Nt.relatedTarget=nr,sr=null,Wc(Ft)===Dt&&(Vt=new Vt(er,tr+"enter",Ut,et,Ft),Vt.target=nr,Vt.relatedTarget=Yt,sr=Vt),Yt=sr,Lt&&Ut)t:{for(Vt=Lt,er=Ut,tr=0,nr=Vt;nr;nr=vf(nr))tr++;for(nr=0,sr=er;sr;sr=vf(sr))nr++;for(;0<tr-nr;)Vt=vf(Vt),tr--;for(;0<nr-tr;)er=vf(er),nr--;for(;tr--;){if(Vt===er||er!==null&&Vt===er.alternate)break t;Vt=vf(Vt),er=vf(er)}Vt=null}else Vt=null;Lt!==null&&wf(jt,Nt,Lt,Vt,!1),Ut!==null&&Yt!==null&&wf(jt,Yt,Ut,Vt,!0)}}e:{if(Nt=Dt?ue$1(Dt):window,Lt=Nt.nodeName&&Nt.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&&Nt.type==="file")var dr=ve$2;else if(me$1(Nt))if(we$1)dr=Fe$1;else{dr=De$1;var br=Ce$1}else(Lt=Nt.nodeName)&&Lt.toLowerCase()==="input"&&(Nt.type==="checkbox"||Nt.type==="radio")&&(dr=Ee$2);if(dr&&(dr=dr(s,Dt))){ne$2(jt,dr,et,Ft);break e}br&&br(s,Nt,Dt),s==="focusout"&&(br=Nt._wrapperState)&&br.controlled&&Nt.type==="number"&&cb(Nt,"number",Nt.value)}switch(br=Dt?ue$1(Dt):window,s){case"focusin":(me$1(br)||br.contentEditable==="true")&&(Qe=br,Re$2=Dt,Se$1=null);break;case"focusout":Se$1=Re$2=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue$1(jt,et,Ft);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$1(jt,et,Ft)}var vr;if(ae$1)e:{switch(s){case"compositionstart":var yr="onCompositionStart";break e;case"compositionend":yr="onCompositionEnd";break e;case"compositionupdate":yr="onCompositionUpdate";break e}yr=void 0}else ie$2?ge$2(s,et)&&(yr="onCompositionEnd"):s==="keydown"&&et.keyCode===229&&(yr="onCompositionStart");yr&&(de$1&&et.locale!=="ko"&&(ie$2||yr!=="onCompositionStart"?yr==="onCompositionEnd"&&ie$2&&(vr=nd()):(kd=Ft,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),br=oe$1(Dt,yr),0<br.length&&(yr=new Ld(yr,s,null,et,Ft),jt.push({event:yr,listeners:br}),vr?yr.data=vr:(vr=he$1(et),vr!==null&&(yr.data=vr)))),(vr=ce$1?je$1(s,et):ke$2(s,et))&&(Dt=oe$1(Dt,"onBeforeInput"),0<Dt.length&&(Ft=new Ld("onBeforeInput","beforeinput",null,et,Ft),jt.push({event:Ft,listeners:Dt}),Ft.data=vr))}se$2(jt,a)})}function tf(s,a,et){return{instance:s,listener:a,currentTarget:et}}function oe$1(s,a){for(var et=a+"Capture",nt=[];s!==null;){var at=s,mt=at.stateNode;at.tag===5&&mt!==null&&(at=mt,mt=Kb(s,et),mt!=null&&nt.unshift(tf(s,mt,at)),mt=Kb(s,a),mt!=null&&nt.push(tf(s,mt,at))),s=s.return}return nt}function vf(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function wf(s,a,et,nt,at){for(var mt=a._reactName,wt=[];et!==null&&et!==nt;){var $t=et,Ct=$t.alternate,Dt=$t.stateNode;if(Ct!==null&&Ct===nt)break;$t.tag===5&&Dt!==null&&($t=Dt,at?(Ct=Kb(et,mt),Ct!=null&&wt.unshift(tf(et,Ct,$t))):at||(Ct=Kb(et,mt),Ct!=null&&wt.push(tf(et,Ct,$t)))),et=et.return}wt.length!==0&&s.push({event:a,listeners:wt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(s){return(typeof s=="string"?s:""+s).replace(xf,`
`).replace(yf,"")}function Af(s,a,et){if(a=zf(a),zf(s)!==a&&et)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(s){return Hf.resolve(null).then(s).catch(If)}:Ff;function If(s){setTimeout(function(){throw s})}function Kf(s,a){var et=a,nt=0;do{var at=et.nextSibling;if(s.removeChild(et),at&&at.nodeType===8)if(et=at.data,et==="/$"){if(nt===0){s.removeChild(at),bd(a);return}nt--}else et!=="$"&&et!=="$?"&&et!=="$!"||nt++;et=at}while(et);bd(a)}function Lf(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Mf(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var et=s.data;if(et==="$"||et==="$!"||et==="$?"){if(a===0)return s;a--}else et==="/$"&&a++}s=s.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(s){var a=s[Of];if(a)return a;for(var et=s.parentNode;et;){if(a=et[uf]||et[Of]){if(et=a.alternate,a.child!==null||et!==null&&et.child!==null)for(s=Mf(s);s!==null;){if(et=s[Of])return et;s=Mf(s)}return a}s=et,et=s.parentNode}return null}function Cb(s){return s=s[Of]||s[uf],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ue$1(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(p$1(33))}function Db(s){return s[Pf]||null}var Sf=[],Tf=-1;function Uf(s){return{current:s}}function E(s){0>Tf||(s.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(s,a){Tf++,Sf[Tf]=s.current,s.current=a}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(s,a){var et=s.type.contextTypes;if(!et)return Vf;var nt=s.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===a)return nt.__reactInternalMemoizedMaskedChildContext;var at={},mt;for(mt in et)at[mt]=a[mt];return nt&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=at),at}function Zf(s){return s=s.childContextTypes,s!=null}function $f(){E(Wf),E(H$2)}function ag(s,a,et){if(H$2.current!==Vf)throw Error(p$1(168));G$2(H$2,a),G$2(Wf,et)}function bg(s,a,et){var nt=s.stateNode;if(a=a.childContextTypes,typeof nt.getChildContext!="function")return et;nt=nt.getChildContext();for(var at in nt)if(!(at in a))throw Error(p$1(108,Ra(s)||"Unknown",at));return A$2({},et,nt)}function cg(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,s),G$2(Wf,Wf.current),!0}function dg(s,a,et){var nt=s.stateNode;if(!nt)throw Error(p$1(169));et?(s=bg(s,a,Xf),nt.__reactInternalMemoizedMergedChildContext=s,E(Wf),E(H$2),G$2(H$2,s)):E(Wf),G$2(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(s){eg===null?eg=[s]:eg.push(s)}function ig(s){fg=!0,hg(s)}function jg(){if(!gg&&eg!==null){gg=!0;var s=0,a=C;try{var et=eg;for(C=1;s<et.length;s++){var nt=et[s];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(at){throw eg!==null&&(eg=eg.slice(s+1)),ac(fc,jg),at}finally{C=a,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(s,a){kg[lg++]=ng,kg[lg++]=mg,mg=s,ng=a}function ug(s,a,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=s;var nt=rg;s=sg;var at=32-oc(nt)-1;nt&=~(1<<at),et+=1;var mt=32-oc(a)+at;if(30<mt){var wt=at-at%5;mt=(nt&(1<<wt)-1).toString(32),nt>>=wt,at-=wt,rg=1<<32-oc(a)+at|et<<at|nt,sg=mt+s}else rg=1<<mt|et<<at|nt,sg=s}function vg(s){s.return!==null&&(tg(s,1),ug(s,1,0))}function wg(s){for(;s===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;s===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(s,a){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=a,et.return=s,a=s.deletions,a===null?(s.deletions=[et],s.flags|=16):a.push(et)}function Cg(s,a){switch(s.tag){case 5:var et=s.type;return a=a.nodeType!==1||et.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,xg=s,yg=Lf(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,xg=s,yg=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(et=qg!==null?{id:rg,overflow:sg}:null,s.memoizedState={dehydrated:a,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=a,et.return=s,s.child=et,xg=s,yg=null,!0):!1;default:return!1}}function Dg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Eg(s){if(I$3){var a=yg;if(a){var et=a;if(!Cg(s,a)){if(Dg(s))throw Error(p$1(418));a=Lf(et.nextSibling);var nt=xg;a&&Cg(s,a)?Ag(nt,et):(s.flags=s.flags&-4097|2,I$3=!1,xg=s)}}else{if(Dg(s))throw Error(p$1(418));s.flags=s.flags&-4097|2,I$3=!1,xg=s}}}function Fg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xg=s}function Gg(s){if(s!==xg)return!1;if(!I$3)return Fg(s),I$3=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Ef(s.type,s.memoizedProps)),a&&(a=yg)){if(Dg(s))throw Hg(),Error(p$1(418));for(;a;)Ag(s,a),a=Lf(a.nextSibling)}if(Fg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p$1(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var et=s.data;if(et==="/$"){if(a===0){yg=Lf(s.nextSibling);break e}a--}else et!=="$"&&et!=="$!"&&et!=="$?"||a++}s=s.nextSibling}yg=null}}else yg=xg?Lf(s.stateNode.nextSibling):null;return!0}function Hg(){for(var s=yg;s;)s=Lf(s.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(s){zg===null?zg=[s]:zg.push(s)}var Kg=ua.ReactCurrentBatchConfig;function Lg(s,a,et){if(s=et.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$1(309));var nt=et.stateNode}if(!nt)throw Error(p$1(147,s));var at=nt,mt=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===mt?a.ref:(a=function(wt){var $t=at.refs;wt===null?delete $t[mt]:$t[mt]=wt},a._stringRef=mt,a)}if(typeof s!="string")throw Error(p$1(284));if(!et._owner)throw Error(p$1(290,s))}return s}function Mg(s,a){throw s=Object.prototype.toString.call(a),Error(p$1(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Ng(s){var a=s._init;return a(s._payload)}function Og(s){function a(er,tr){if(s){var nr=er.deletions;nr===null?(er.deletions=[tr],er.flags|=16):nr.push(tr)}}function et(er,tr){if(!s)return null;for(;tr!==null;)a(er,tr),tr=tr.sibling;return null}function nt(er,tr){for(er=new Map;tr!==null;)tr.key!==null?er.set(tr.key,tr):er.set(tr.index,tr),tr=tr.sibling;return er}function at(er,tr){return er=Pg(er,tr),er.index=0,er.sibling=null,er}function mt(er,tr,nr){return er.index=nr,s?(nr=er.alternate,nr!==null?(nr=nr.index,nr<tr?(er.flags|=2,tr):nr):(er.flags|=2,tr)):(er.flags|=1048576,tr)}function wt(er){return s&&er.alternate===null&&(er.flags|=2),er}function $t(er,tr,nr,sr){return tr===null||tr.tag!==6?(tr=Qg(nr,er.mode,sr),tr.return=er,tr):(tr=at(tr,nr),tr.return=er,tr)}function Ct(er,tr,nr,sr){var dr=nr.type;return dr===ya?Ft(er,tr,nr.props.children,sr,nr.key):tr!==null&&(tr.elementType===dr||typeof dr=="object"&&dr!==null&&dr.$$typeof===Ha&&Ng(dr)===tr.type)?(sr=at(tr,nr.props),sr.ref=Lg(er,tr,nr),sr.return=er,sr):(sr=Rg(nr.type,nr.key,nr.props,null,er.mode,sr),sr.ref=Lg(er,tr,nr),sr.return=er,sr)}function Dt(er,tr,nr,sr){return tr===null||tr.tag!==4||tr.stateNode.containerInfo!==nr.containerInfo||tr.stateNode.implementation!==nr.implementation?(tr=Sg(nr,er.mode,sr),tr.return=er,tr):(tr=at(tr,nr.children||[]),tr.return=er,tr)}function Ft(er,tr,nr,sr,dr){return tr===null||tr.tag!==7?(tr=Tg(nr,er.mode,sr,dr),tr.return=er,tr):(tr=at(tr,nr),tr.return=er,tr)}function jt(er,tr,nr){if(typeof tr=="string"&&tr!==""||typeof tr=="number")return tr=Qg(""+tr,er.mode,nr),tr.return=er,tr;if(typeof tr=="object"&&tr!==null){switch(tr.$$typeof){case va:return nr=Rg(tr.type,tr.key,tr.props,null,er.mode,nr),nr.ref=Lg(er,null,tr),nr.return=er,nr;case wa:return tr=Sg(tr,er.mode,nr),tr.return=er,tr;case Ha:var sr=tr._init;return jt(er,sr(tr._payload),nr)}if(eb(tr)||Ka(tr))return tr=Tg(tr,er.mode,nr,null),tr.return=er,tr;Mg(er,tr)}return null}function Nt(er,tr,nr,sr){var dr=tr!==null?tr.key:null;if(typeof nr=="string"&&nr!==""||typeof nr=="number")return dr!==null?null:$t(er,tr,""+nr,sr);if(typeof nr=="object"&&nr!==null){switch(nr.$$typeof){case va:return nr.key===dr?Ct(er,tr,nr,sr):null;case wa:return nr.key===dr?Dt(er,tr,nr,sr):null;case Ha:return dr=nr._init,Nt(er,tr,dr(nr._payload),sr)}if(eb(nr)||Ka(nr))return dr!==null?null:Ft(er,tr,nr,sr,null);Mg(er,nr)}return null}function Lt(er,tr,nr,sr,dr){if(typeof sr=="string"&&sr!==""||typeof sr=="number")return er=er.get(nr)||null,$t(tr,er,""+sr,dr);if(typeof sr=="object"&&sr!==null){switch(sr.$$typeof){case va:return er=er.get(sr.key===null?nr:sr.key)||null,Ct(tr,er,sr,dr);case wa:return er=er.get(sr.key===null?nr:sr.key)||null,Dt(tr,er,sr,dr);case Ha:var br=sr._init;return Lt(er,tr,nr,br(sr._payload),dr)}if(eb(sr)||Ka(sr))return er=er.get(nr)||null,Ft(tr,er,sr,dr,null);Mg(tr,sr)}return null}function Ut(er,tr,nr,sr){for(var dr=null,br=null,vr=tr,yr=tr=0,$r=null;vr!==null&&yr<nr.length;yr++){vr.index>yr?($r=vr,vr=null):$r=vr.sibling;var Sr=Nt(er,vr,nr[yr],sr);if(Sr===null){vr===null&&(vr=$r);break}s&&vr&&Sr.alternate===null&&a(er,vr),tr=mt(Sr,tr,yr),br===null?dr=Sr:br.sibling=Sr,br=Sr,vr=$r}if(yr===nr.length)return et(er,vr),I$3&&tg(er,yr),dr;if(vr===null){for(;yr<nr.length;yr++)vr=jt(er,nr[yr],sr),vr!==null&&(tr=mt(vr,tr,yr),br===null?dr=vr:br.sibling=vr,br=vr);return I$3&&tg(er,yr),dr}for(vr=nt(er,vr);yr<nr.length;yr++)$r=Lt(vr,er,yr,nr[yr],sr),$r!==null&&(s&&$r.alternate!==null&&vr.delete($r.key===null?yr:$r.key),tr=mt($r,tr,yr),br===null?dr=$r:br.sibling=$r,br=$r);return s&&vr.forEach(function(wr){return a(er,wr)}),I$3&&tg(er,yr),dr}function Vt(er,tr,nr,sr){var dr=Ka(nr);if(typeof dr!="function")throw Error(p$1(150));if(nr=dr.call(nr),nr==null)throw Error(p$1(151));for(var br=dr=null,vr=tr,yr=tr=0,$r=null,Sr=nr.next();vr!==null&&!Sr.done;yr++,Sr=nr.next()){vr.index>yr?($r=vr,vr=null):$r=vr.sibling;var wr=Nt(er,vr,Sr.value,sr);if(wr===null){vr===null&&(vr=$r);break}s&&vr&&wr.alternate===null&&a(er,vr),tr=mt(wr,tr,yr),br===null?dr=wr:br.sibling=wr,br=wr,vr=$r}if(Sr.done)return et(er,vr),I$3&&tg(er,yr),dr;if(vr===null){for(;!Sr.done;yr++,Sr=nr.next())Sr=jt(er,Sr.value,sr),Sr!==null&&(tr=mt(Sr,tr,yr),br===null?dr=Sr:br.sibling=Sr,br=Sr);return I$3&&tg(er,yr),dr}for(vr=nt(er,vr);!Sr.done;yr++,Sr=nr.next())Sr=Lt(vr,er,yr,Sr.value,sr),Sr!==null&&(s&&Sr.alternate!==null&&vr.delete(Sr.key===null?yr:Sr.key),tr=mt(Sr,tr,yr),br===null?dr=Sr:br.sibling=Sr,br=Sr);return s&&vr.forEach(function(fr){return a(er,fr)}),I$3&&tg(er,yr),dr}function Yt(er,tr,nr,sr){if(typeof nr=="object"&&nr!==null&&nr.type===ya&&nr.key===null&&(nr=nr.props.children),typeof nr=="object"&&nr!==null){switch(nr.$$typeof){case va:e:{for(var dr=nr.key,br=tr;br!==null;){if(br.key===dr){if(dr=nr.type,dr===ya){if(br.tag===7){et(er,br.sibling),tr=at(br,nr.props.children),tr.return=er,er=tr;break e}}else if(br.elementType===dr||typeof dr=="object"&&dr!==null&&dr.$$typeof===Ha&&Ng(dr)===br.type){et(er,br.sibling),tr=at(br,nr.props),tr.ref=Lg(er,br,nr),tr.return=er,er=tr;break e}et(er,br);break}else a(er,br);br=br.sibling}nr.type===ya?(tr=Tg(nr.props.children,er.mode,sr,nr.key),tr.return=er,er=tr):(sr=Rg(nr.type,nr.key,nr.props,null,er.mode,sr),sr.ref=Lg(er,tr,nr),sr.return=er,er=sr)}return wt(er);case wa:e:{for(br=nr.key;tr!==null;){if(tr.key===br)if(tr.tag===4&&tr.stateNode.containerInfo===nr.containerInfo&&tr.stateNode.implementation===nr.implementation){et(er,tr.sibling),tr=at(tr,nr.children||[]),tr.return=er,er=tr;break e}else{et(er,tr);break}else a(er,tr);tr=tr.sibling}tr=Sg(nr,er.mode,sr),tr.return=er,er=tr}return wt(er);case Ha:return br=nr._init,Yt(er,tr,br(nr._payload),sr)}if(eb(nr))return Ut(er,tr,nr,sr);if(Ka(nr))return Vt(er,tr,nr,sr);Mg(er,nr)}return typeof nr=="string"&&nr!==""||typeof nr=="number"?(nr=""+nr,tr!==null&&tr.tag===6?(et(er,tr.sibling),tr=at(tr,nr),tr.return=er,er=tr):(et(er,tr),tr=Qg(nr,er.mode,sr),tr.return=er,er=tr),wt(er)):et(er,tr)}return Yt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(s){var a=Wg.current;E(Wg),s._currentValue=a}function bh(s,a,et){for(;s!==null;){var nt=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,nt!==null&&(nt.childLanes|=a)):nt!==null&&(nt.childLanes&a)!==a&&(nt.childLanes|=a),s===et)break;s=s.return}}function ch(s,a){Xg=s,Zg=Yg=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(dh$1=!0),s.firstContext=null)}function eh(s){var a=s._currentValue;if(Zg!==s)if(s={context:s,memoizedValue:a,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=s,Xg.dependencies={lanes:0,firstContext:s}}else Yg=Yg.next=s;return a}var fh=null;function gh(s){fh===null?fh=[s]:fh.push(s)}function hh(s,a,et,nt){var at=a.interleaved;return at===null?(et.next=et,gh(a)):(et.next=at.next,at.next=et),a.interleaved=et,ih(s,nt)}function ih(s,a){s.lanes|=a;var et=s.alternate;for(et!==null&&(et.lanes|=a),et=s,s=s.return;s!==null;)s.childLanes|=a,et=s.alternate,et!==null&&(et.childLanes|=a),et=s,s=s.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function mh(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function nh(s,a,et){var nt=s.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$2&2){var at=nt.pending;return at===null?a.next=a:(a.next=at.next,at.next=a),nt.pending=a,ih(s,et)}return at=nt.interleaved,at===null?(a.next=a,gh(nt)):(a.next=at.next,at.next=a),nt.interleaved=a,ih(s,et)}function oh(s,a,et){if(a=a.updateQueue,a!==null&&(a=a.shared,(et&4194240)!==0)){var nt=a.lanes;nt&=s.pendingLanes,et|=nt,a.lanes=et,Cc(s,et)}}function ph(s,a){var et=s.updateQueue,nt=s.alternate;if(nt!==null&&(nt=nt.updateQueue,et===nt)){var at=null,mt=null;if(et=et.firstBaseUpdate,et!==null){do{var wt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};mt===null?at=mt=wt:mt=mt.next=wt,et=et.next}while(et!==null);mt===null?at=mt=a:mt=mt.next=a}else at=mt=a;et={baseState:nt.baseState,firstBaseUpdate:at,lastBaseUpdate:mt,shared:nt.shared,effects:nt.effects},s.updateQueue=et;return}s=et.lastBaseUpdate,s===null?et.firstBaseUpdate=a:s.next=a,et.lastBaseUpdate=a}function qh(s,a,et,nt){var at=s.updateQueue;jh=!1;var mt=at.firstBaseUpdate,wt=at.lastBaseUpdate,$t=at.shared.pending;if($t!==null){at.shared.pending=null;var Ct=$t,Dt=Ct.next;Ct.next=null,wt===null?mt=Dt:wt.next=Dt,wt=Ct;var Ft=s.alternate;Ft!==null&&(Ft=Ft.updateQueue,$t=Ft.lastBaseUpdate,$t!==wt&&($t===null?Ft.firstBaseUpdate=Dt:$t.next=Dt,Ft.lastBaseUpdate=Ct))}if(mt!==null){var jt=at.baseState;wt=0,Ft=Dt=Ct=null,$t=mt;do{var Nt=$t.lane,Lt=$t.eventTime;if((nt&Nt)===Nt){Ft!==null&&(Ft=Ft.next={eventTime:Lt,lane:0,tag:$t.tag,payload:$t.payload,callback:$t.callback,next:null});e:{var Ut=s,Vt=$t;switch(Nt=a,Lt=et,Vt.tag){case 1:if(Ut=Vt.payload,typeof Ut=="function"){jt=Ut.call(Lt,jt,Nt);break e}jt=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Vt.payload,Nt=typeof Ut=="function"?Ut.call(Lt,jt,Nt):Ut,Nt==null)break e;jt=A$2({},jt,Nt);break e;case 2:jh=!0}}$t.callback!==null&&$t.lane!==0&&(s.flags|=64,Nt=at.effects,Nt===null?at.effects=[$t]:Nt.push($t))}else Lt={eventTime:Lt,lane:Nt,tag:$t.tag,payload:$t.payload,callback:$t.callback,next:null},Ft===null?(Dt=Ft=Lt,Ct=jt):Ft=Ft.next=Lt,wt|=Nt;if($t=$t.next,$t===null){if($t=at.shared.pending,$t===null)break;Nt=$t,$t=Nt.next,Nt.next=null,at.lastBaseUpdate=Nt,at.shared.pending=null}}while(!0);if(Ft===null&&(Ct=jt),at.baseState=Ct,at.firstBaseUpdate=Dt,at.lastBaseUpdate=Ft,a=at.shared.interleaved,a!==null){at=a;do wt|=at.lane,at=at.next;while(at!==a)}else mt===null&&(at.shared.lanes=0);rh|=wt,s.lanes=wt,s.memoizedState=jt}}function sh(s,a,et){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var nt=s[a],at=nt.callback;if(at!==null){if(nt.callback=null,nt=et,typeof at!="function")throw Error(p$1(191,at));at.call(nt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(s){if(s===th)throw Error(p$1(174));return s}function yh(s,a){switch(G$2(wh,a),G$2(vh$1,s),G$2(uh,th),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:lb(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=lb(a,s)}E(uh),G$2(uh,a)}function zh(){E(uh),E(vh$1),E(wh)}function Ah(s){xh(wh.current);var a=xh(uh.current),et=lb(a,s.type);a!==et&&(G$2(vh$1,s),G$2(uh,et))}function Bh(s){vh$1.current===s&&(E(uh),E(vh$1))}var L$1=Uf(0);function Ch(s){for(var a=s;a!==null;){if(a.tag===13){var et=a.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dh=[];function Eh(){for(var s=0;s<Dh.length;s++)Dh[s]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N$1=null,O$3=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$1(321))}function Mh(s,a){if(a===null)return!1;for(var et=0;et<a.length&&et<s.length;et++)if(!He(s[et],a[et]))return!1;return!0}function Nh(s,a,et,nt,at,mt){if(Hh=mt,M$2=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Fh.current=s===null||s.memoizedState===null?Oh:Ph,s=et(nt,at),Jh){mt=0;do{if(Jh=!1,Kh=0,25<=mt)throw Error(p$1(301));mt+=1,O$3=N$1=null,a.updateQueue=null,Fh.current=Qh,s=et(nt,at)}while(Jh)}if(Fh.current=Rh,a=N$1!==null&&N$1.next!==null,Hh=0,O$3=N$1=M$2=null,Ih=!1,a)throw Error(p$1(300));return s}function Sh(){var s=Kh!==0;return Kh=0,s}function Th(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$3===null?M$2.memoizedState=O$3=s:O$3=O$3.next=s,O$3}function Uh(){if(N$1===null){var s=M$2.alternate;s=s!==null?s.memoizedState:null}else s=N$1.next;var a=O$3===null?M$2.memoizedState:O$3.next;if(a!==null)O$3=a,N$1=s;else{if(s===null)throw Error(p$1(310));N$1=s,s={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$3===null?M$2.memoizedState=O$3=s:O$3=O$3.next=s}return O$3}function Vh(s,a){return typeof a=="function"?a(s):a}function Wh(s){var a=Uh(),et=a.queue;if(et===null)throw Error(p$1(311));et.lastRenderedReducer=s;var nt=N$1,at=nt.baseQueue,mt=et.pending;if(mt!==null){if(at!==null){var wt=at.next;at.next=mt.next,mt.next=wt}nt.baseQueue=at=mt,et.pending=null}if(at!==null){mt=at.next,nt=nt.baseState;var $t=wt=null,Ct=null,Dt=mt;do{var Ft=Dt.lane;if((Hh&Ft)===Ft)Ct!==null&&(Ct=Ct.next={lane:0,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null}),nt=Dt.hasEagerState?Dt.eagerState:s(nt,Dt.action);else{var jt={lane:Ft,action:Dt.action,hasEagerState:Dt.hasEagerState,eagerState:Dt.eagerState,next:null};Ct===null?($t=Ct=jt,wt=nt):Ct=Ct.next=jt,M$2.lanes|=Ft,rh|=Ft}Dt=Dt.next}while(Dt!==null&&Dt!==mt);Ct===null?wt=nt:Ct.next=$t,He(nt,a.memoizedState)||(dh$1=!0),a.memoizedState=nt,a.baseState=wt,a.baseQueue=Ct,et.lastRenderedState=nt}if(s=et.interleaved,s!==null){at=s;do mt=at.lane,M$2.lanes|=mt,rh|=mt,at=at.next;while(at!==s)}else at===null&&(et.lanes=0);return[a.memoizedState,et.dispatch]}function Xh(s){var a=Uh(),et=a.queue;if(et===null)throw Error(p$1(311));et.lastRenderedReducer=s;var nt=et.dispatch,at=et.pending,mt=a.memoizedState;if(at!==null){et.pending=null;var wt=at=at.next;do mt=s(mt,wt.action),wt=wt.next;while(wt!==at);He(mt,a.memoizedState)||(dh$1=!0),a.memoizedState=mt,a.baseQueue===null&&(a.baseState=mt),et.lastRenderedState=mt}return[mt,nt]}function Yh(){}function Zh(s,a){var et=M$2,nt=Uh(),at=a(),mt=!He(nt.memoizedState,at);if(mt&&(nt.memoizedState=at,dh$1=!0),nt=nt.queue,$h(ai.bind(null,et,nt,s),[s]),nt.getSnapshot!==a||mt||O$3!==null&&O$3.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,nt,at,a),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di(et,a,at)}return at}function di(s,a,et){s.flags|=16384,s={getSnapshot:a,value:et},a=M$2.updateQueue,a===null?(a={lastEffect:null,stores:null},M$2.updateQueue=a,a.stores=[s]):(et=a.stores,et===null?a.stores=[s]:et.push(s))}function ci(s,a,et,nt){a.value=et,a.getSnapshot=nt,ei(a)&&fi(s)}function ai(s,a,et){return et(function(){ei(a)&&fi(s)})}function ei(s){var a=s.getSnapshot;s=s.value;try{var et=a();return!He(s,et)}catch{return!0}}function fi(s){var a=ih(s,1);a!==null&&gi(a,s,1,-1)}function hi$1(s){var a=Th();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:s},a.queue=s,s=s.dispatch=ii.bind(null,M$2,s),[a.memoizedState,s]}function bi(s,a,et,nt){return s={tag:s,create:a,destroy:et,deps:nt,next:null},a=M$2.updateQueue,a===null?(a={lastEffect:null,stores:null},M$2.updateQueue=a,a.lastEffect=s.next=s):(et=a.lastEffect,et===null?a.lastEffect=s.next=s:(nt=et.next,et.next=s,s.next=nt,a.lastEffect=s)),s}function ji$1(){return Uh().memoizedState}function ki(s,a,et,nt){var at=Th();M$2.flags|=s,at.memoizedState=bi(1|a,et,void 0,nt===void 0?null:nt)}function li(s,a,et,nt){var at=Uh();nt=nt===void 0?null:nt;var mt=void 0;if(N$1!==null){var wt=N$1.memoizedState;if(mt=wt.destroy,nt!==null&&Mh(nt,wt.deps)){at.memoizedState=bi(a,et,mt,nt);return}}M$2.flags|=s,at.memoizedState=bi(1|a,et,mt,nt)}function mi(s,a){return ki(8390656,8,s,a)}function $h(s,a){return li(2048,8,s,a)}function ni(s,a){return li(4,2,s,a)}function oi(s,a){return li(4,4,s,a)}function pi(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function qi$1(s,a,et){return et=et!=null?et.concat([s]):null,li(4,4,pi.bind(null,a,s),et)}function ri(){}function si$1(s,a){var et=Uh();a=a===void 0?null:a;var nt=et.memoizedState;return nt!==null&&a!==null&&Mh(a,nt[1])?nt[0]:(et.memoizedState=[s,a],s)}function ti(s,a){var et=Uh();a=a===void 0?null:a;var nt=et.memoizedState;return nt!==null&&a!==null&&Mh(a,nt[1])?nt[0]:(s=s(),et.memoizedState=[s,a],s)}function ui(s,a,et){return Hh&21?(He(et,a)||(et=yc(),M$2.lanes|=et,rh|=et,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,dh$1=!0),s.memoizedState=et)}function vi(s,a){var et=C;C=et!==0&&4>et?et:4,s(!0);var nt=Gh.transition;Gh.transition={};try{s(!1),a()}finally{C=et,Gh.transition=nt}}function wi(){return Uh().memoizedState}function xi$1(s,a,et){var nt=yi(s);if(et={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null},zi(s))Ai$1(a,et);else if(et=hh(s,a,et,nt),et!==null){var at=R$2();gi(et,s,nt,at),Bi(et,a,nt)}}function ii(s,a,et){var nt=yi(s),at={lane:nt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi(s))Ai$1(a,at);else{var mt=s.alternate;if(s.lanes===0&&(mt===null||mt.lanes===0)&&(mt=a.lastRenderedReducer,mt!==null))try{var wt=a.lastRenderedState,$t=mt(wt,et);if(at.hasEagerState=!0,at.eagerState=$t,He($t,wt)){var Ct=a.interleaved;Ct===null?(at.next=at,gh(a)):(at.next=Ct.next,Ct.next=at),a.interleaved=at;return}}catch{}finally{}et=hh(s,a,at,nt),et!==null&&(at=R$2(),gi(et,s,nt,at),Bi(et,a,nt))}}function zi(s){var a=s.alternate;return s===M$2||a!==null&&a===M$2}function Ai$1(s,a){Jh=Ih=!0;var et=s.pending;et===null?a.next=a:(a.next=et.next,et.next=a),s.pending=a}function Bi(s,a,et){if(et&4194240){var nt=a.lanes;nt&=s.pendingLanes,et|=nt,a.lanes=et,Cc(s,et)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(s,a){return Th().memoizedState=[s,a===void 0?null:a],s},useContext:eh,useEffect:mi,useImperativeHandle:function(s,a,et){return et=et!=null?et.concat([s]):null,ki(4194308,4,pi.bind(null,a,s),et)},useLayoutEffect:function(s,a){return ki(4194308,4,s,a)},useInsertionEffect:function(s,a){return ki(4,2,s,a)},useMemo:function(s,a){var et=Th();return a=a===void 0?null:a,s=s(),et.memoizedState=[s,a],s},useReducer:function(s,a,et){var nt=Th();return a=et!==void 0?et(a):a,nt.memoizedState=nt.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},nt.queue=s,s=s.dispatch=xi$1.bind(null,M$2,s),[nt.memoizedState,s]},useRef:function(s){var a=Th();return s={current:s},a.memoizedState=s},useState:hi$1,useDebugValue:ri,useDeferredValue:function(s){return Th().memoizedState=s},useTransition:function(){var s=hi$1(!1),a=s[0];return s=vi.bind(null,s[1]),Th().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,et){var nt=M$2,at=Th();if(I$3){if(et===void 0)throw Error(p$1(407));et=et()}else{if(et=a(),Q===null)throw Error(p$1(349));Hh&30||di(nt,a,et)}at.memoizedState=et;var mt={value:et,getSnapshot:a};return at.queue=mt,mi(ai.bind(null,nt,mt,s),[s]),nt.flags|=2048,bi(9,ci.bind(null,nt,mt,et,a),void 0,null),et},useId:function(){var s=Th(),a=Q.identifierPrefix;if(I$3){var et=sg,nt=rg;et=(nt&~(1<<32-oc(nt)-1)).toString(32)+et,a=":"+a+"R"+et,et=Kh++,0<et&&(a+="H"+et.toString(32)),a+=":"}else et=Lh++,a=":"+a+"r"+et.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji$1,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var a=Uh();return ui(a,N$1.memoizedState,s)},useTransition:function(){var s=Wh(Vh)[0],a=Uh().memoizedState;return[s,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji$1,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(s){var a=Uh();return N$1===null?a.memoizedState=s:ui(a,N$1.memoizedState,s)},useTransition:function(){var s=Xh(Vh)[0],a=Uh().memoizedState;return[s,a]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(s,a){if(s&&s.defaultProps){a=A$2({},a),s=s.defaultProps;for(var et in s)a[et]===void 0&&(a[et]=s[et]);return a}return a}function Di$1(s,a,et,nt){a=s.memoizedState,et=et(nt,a),et=et==null?a:A$2({},a,et),s.memoizedState=et,s.lanes===0&&(s.updateQueue.baseState=et)}var Ei={isMounted:function(s){return(s=s._reactInternals)?Vb(s)===s:!1},enqueueSetState:function(s,a,et){s=s._reactInternals;var nt=R$2(),at=yi(s),mt=mh(nt,at);mt.payload=a,et!=null&&(mt.callback=et),a=nh(s,mt,at),a!==null&&(gi(a,s,at,nt),oh(a,s,at))},enqueueReplaceState:function(s,a,et){s=s._reactInternals;var nt=R$2(),at=yi(s),mt=mh(nt,at);mt.tag=1,mt.payload=a,et!=null&&(mt.callback=et),a=nh(s,mt,at),a!==null&&(gi(a,s,at,nt),oh(a,s,at))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var et=R$2(),nt=yi(s),at=mh(et,nt);at.tag=2,a!=null&&(at.callback=a),a=nh(s,at,nt),a!==null&&(gi(a,s,nt,et),oh(a,s,nt))}};function Fi$1(s,a,et,nt,at,mt,wt){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(nt,mt,wt):a.prototype&&a.prototype.isPureReactComponent?!Ie$1(et,nt)||!Ie$1(at,mt):!0}function Gi(s,a,et){var nt=!1,at=Vf,mt=a.contextType;return typeof mt=="object"&&mt!==null?mt=eh(mt):(at=Zf(a)?Xf:H$2.current,nt=a.contextTypes,mt=(nt=nt!=null)?Yf(s,at):Vf),a=new a(et,mt),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ei,s.stateNode=a,a._reactInternals=s,nt&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=at,s.__reactInternalMemoizedMaskedChildContext=mt),a}function Hi(s,a,et,nt){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(et,nt),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(et,nt),a.state!==s&&Ei.enqueueReplaceState(a,a.state,null)}function Ii(s,a,et,nt){var at=s.stateNode;at.props=et,at.state=s.memoizedState,at.refs={},kh(s);var mt=a.contextType;typeof mt=="object"&&mt!==null?at.context=eh(mt):(mt=Zf(a)?Xf:H$2.current,at.context=Yf(s,mt)),at.state=s.memoizedState,mt=a.getDerivedStateFromProps,typeof mt=="function"&&(Di$1(s,a,mt,et),at.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(a=at.state,typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount(),a!==at.state&&Ei.enqueueReplaceState(at,at.state,null),qh(s,et,at,nt),at.state=s.memoizedState),typeof at.componentDidMount=="function"&&(s.flags|=4194308)}function Ji(s,a){try{var et="",nt=a;do et+=Pa(nt),nt=nt.return;while(nt);var at=et}catch(mt){at=`
Error generating stack: `+mt.message+`
`+mt.stack}return{value:s,source:a,stack:at,digest:null}}function Ki(s,a,et){return{value:s,source:null,stack:et??null,digest:a??null}}function Li$1(s,a){try{console.error(a.value)}catch(et){setTimeout(function(){throw et})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(s,a,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var nt=a.value;return et.callback=function(){Oi$1||(Oi$1=!0,Pi=nt),Li$1(s,a)},et}function Qi(s,a,et){et=mh(-1,et),et.tag=3;var nt=s.type.getDerivedStateFromError;if(typeof nt=="function"){var at=a.value;et.payload=function(){return nt(at)},et.callback=function(){Li$1(s,a)}}var mt=s.stateNode;return mt!==null&&typeof mt.componentDidCatch=="function"&&(et.callback=function(){Li$1(s,a),typeof nt!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var wt=a.stack;this.componentDidCatch(a.value,{componentStack:wt!==null?wt:""})}),et}function Si(s,a,et){var nt=s.pingCache;if(nt===null){nt=s.pingCache=new Mi$1;var at=new Set;nt.set(a,at)}else at=nt.get(a),at===void 0&&(at=new Set,nt.set(a,at));at.has(et)||(at.add(et),s=Ti.bind(null,s,a,et),a.then(s,s))}function Ui(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Vi(s,a,et,nt,at){return s.mode&1?(s.flags|=65536,s.lanes=at,s):(s===a?s.flags|=65536:(s.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(a=mh(-1,1),a.tag=2,nh(et,a,1))),et.lanes|=1),s)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(s,a,et,nt){a.child=s===null?Vg(a,null,et,nt):Ug(a,s.child,et,nt)}function Yi(s,a,et,nt,at){et=et.render;var mt=a.ref;return ch(a,at),nt=Nh(s,a,et,nt,mt,at),et=Sh(),s!==null&&!dh$1?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~at,Zi(s,a,at)):(I$3&&et&&vg(a),a.flags|=1,Xi(s,a,nt,at),a.child)}function $i(s,a,et,nt,at){if(s===null){var mt=et.type;return typeof mt=="function"&&!aj(mt)&&mt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(a.tag=15,a.type=mt,bj(s,a,mt,nt,at)):(s=Rg(et.type,null,nt,a,a.mode,at),s.ref=a.ref,s.return=a,a.child=s)}if(mt=s.child,!(s.lanes&at)){var wt=mt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie$1,et(wt,nt)&&s.ref===a.ref)return Zi(s,a,at)}return a.flags|=1,s=Pg(mt,nt),s.ref=a.ref,s.return=a,a.child=s}function bj(s,a,et,nt,at){if(s!==null){var mt=s.memoizedProps;if(Ie$1(mt,nt)&&s.ref===a.ref)if(dh$1=!1,a.pendingProps=nt=mt,(s.lanes&at)!==0)s.flags&131072&&(dh$1=!0);else return a.lanes=s.lanes,Zi(s,a,at)}return cj(s,a,et,nt,at)}function dj(s,a,et){var nt=a.pendingProps,at=nt.children,mt=s!==null?s.memoizedState:null;if(nt.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=et;else{if(!(et&1073741824))return s=mt!==null?mt.baseLanes|et:et,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,G$2(ej,fj),fj|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=mt!==null?mt.baseLanes:et,G$2(ej,fj),fj|=nt}else mt!==null?(nt=mt.baseLanes|et,a.memoizedState=null):nt=et,G$2(ej,fj),fj|=nt;return Xi(s,a,at,et),a.child}function gj(s,a){var et=a.ref;(s===null&&et!==null||s!==null&&s.ref!==et)&&(a.flags|=512,a.flags|=2097152)}function cj(s,a,et,nt,at){var mt=Zf(et)?Xf:H$2.current;return mt=Yf(a,mt),ch(a,at),et=Nh(s,a,et,nt,mt,at),nt=Sh(),s!==null&&!dh$1?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~at,Zi(s,a,at)):(I$3&&nt&&vg(a),a.flags|=1,Xi(s,a,et,at),a.child)}function hj(s,a,et,nt,at){if(Zf(et)){var mt=!0;cg(a)}else mt=!1;if(ch(a,at),a.stateNode===null)ij(s,a),Gi(a,et,nt),Ii(a,et,nt,at),nt=!0;else if(s===null){var wt=a.stateNode,$t=a.memoizedProps;wt.props=$t;var Ct=wt.context,Dt=et.contextType;typeof Dt=="object"&&Dt!==null?Dt=eh(Dt):(Dt=Zf(et)?Xf:H$2.current,Dt=Yf(a,Dt));var Ft=et.getDerivedStateFromProps,jt=typeof Ft=="function"||typeof wt.getSnapshotBeforeUpdate=="function";jt||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||($t!==nt||Ct!==Dt)&&Hi(a,wt,nt,Dt),jh=!1;var Nt=a.memoizedState;wt.state=Nt,qh(a,nt,wt,at),Ct=a.memoizedState,$t!==nt||Nt!==Ct||Wf.current||jh?(typeof Ft=="function"&&(Di$1(a,et,Ft,nt),Ct=a.memoizedState),($t=jh||Fi$1(a,et,$t,nt,Nt,Ct,Dt))?(jt||typeof wt.UNSAFE_componentWillMount!="function"&&typeof wt.componentWillMount!="function"||(typeof wt.componentWillMount=="function"&&wt.componentWillMount(),typeof wt.UNSAFE_componentWillMount=="function"&&wt.UNSAFE_componentWillMount()),typeof wt.componentDidMount=="function"&&(a.flags|=4194308)):(typeof wt.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=nt,a.memoizedState=Ct),wt.props=nt,wt.state=Ct,wt.context=Dt,nt=$t):(typeof wt.componentDidMount=="function"&&(a.flags|=4194308),nt=!1)}else{wt=a.stateNode,lh(s,a),$t=a.memoizedProps,Dt=a.type===a.elementType?$t:Ci(a.type,$t),wt.props=Dt,jt=a.pendingProps,Nt=wt.context,Ct=et.contextType,typeof Ct=="object"&&Ct!==null?Ct=eh(Ct):(Ct=Zf(et)?Xf:H$2.current,Ct=Yf(a,Ct));var Lt=et.getDerivedStateFromProps;(Ft=typeof Lt=="function"||typeof wt.getSnapshotBeforeUpdate=="function")||typeof wt.UNSAFE_componentWillReceiveProps!="function"&&typeof wt.componentWillReceiveProps!="function"||($t!==jt||Nt!==Ct)&&Hi(a,wt,nt,Ct),jh=!1,Nt=a.memoizedState,wt.state=Nt,qh(a,nt,wt,at);var Ut=a.memoizedState;$t!==jt||Nt!==Ut||Wf.current||jh?(typeof Lt=="function"&&(Di$1(a,et,Lt,nt),Ut=a.memoizedState),(Dt=jh||Fi$1(a,et,Dt,nt,Nt,Ut,Ct)||!1)?(Ft||typeof wt.UNSAFE_componentWillUpdate!="function"&&typeof wt.componentWillUpdate!="function"||(typeof wt.componentWillUpdate=="function"&&wt.componentWillUpdate(nt,Ut,Ct),typeof wt.UNSAFE_componentWillUpdate=="function"&&wt.UNSAFE_componentWillUpdate(nt,Ut,Ct)),typeof wt.componentDidUpdate=="function"&&(a.flags|=4),typeof wt.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof wt.componentDidUpdate!="function"||$t===s.memoizedProps&&Nt===s.memoizedState||(a.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||$t===s.memoizedProps&&Nt===s.memoizedState||(a.flags|=1024),a.memoizedProps=nt,a.memoizedState=Ut),wt.props=nt,wt.state=Ut,wt.context=Ct,nt=Dt):(typeof wt.componentDidUpdate!="function"||$t===s.memoizedProps&&Nt===s.memoizedState||(a.flags|=4),typeof wt.getSnapshotBeforeUpdate!="function"||$t===s.memoizedProps&&Nt===s.memoizedState||(a.flags|=1024),nt=!1)}return jj(s,a,et,nt,mt,at)}function jj(s,a,et,nt,at,mt){gj(s,a);var wt=(a.flags&128)!==0;if(!nt&&!wt)return at&&dg(a,et,!1),Zi(s,a,mt);nt=a.stateNode,Wi.current=a;var $t=wt&&typeof et.getDerivedStateFromError!="function"?null:nt.render();return a.flags|=1,s!==null&&wt?(a.child=Ug(a,s.child,null,mt),a.child=Ug(a,null,$t,mt)):Xi(s,a,$t,mt),a.memoizedState=nt.state,at&&dg(a,et,!0),a.child}function kj(s){var a=s.stateNode;a.pendingContext?ag(s,a.pendingContext,a.pendingContext!==a.context):a.context&&ag(s,a.context,!1),yh(s,a.containerInfo)}function lj(s,a,et,nt,at){return Ig(),Jg(at),a.flags|=256,Xi(s,a,et,nt),a.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(s){return{baseLanes:s,cachePool:null,transitions:null}}function oj(s,a,et){var nt=a.pendingProps,at=L$1.current,mt=!1,wt=(a.flags&128)!==0,$t;if(($t=wt)||($t=s!==null&&s.memoizedState===null?!1:(at&2)!==0),$t?(mt=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(at|=1),G$2(L$1,at&1),s===null)return Eg(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(wt=nt.children,s=nt.fallback,mt?(nt=a.mode,mt=a.child,wt={mode:"hidden",children:wt},!(nt&1)&&mt!==null?(mt.childLanes=0,mt.pendingProps=wt):mt=pj(wt,nt,0,null),s=Tg(s,nt,et,null),mt.return=a,s.return=a,mt.sibling=s,a.child=mt,a.child.memoizedState=nj(et),a.memoizedState=mj,s):qj(a,wt));if(at=s.memoizedState,at!==null&&($t=at.dehydrated,$t!==null))return rj(s,a,wt,nt,$t,at,et);if(mt){mt=nt.fallback,wt=a.mode,at=s.child,$t=at.sibling;var Ct={mode:"hidden",children:nt.children};return!(wt&1)&&a.child!==at?(nt=a.child,nt.childLanes=0,nt.pendingProps=Ct,a.deletions=null):(nt=Pg(at,Ct),nt.subtreeFlags=at.subtreeFlags&14680064),$t!==null?mt=Pg($t,mt):(mt=Tg(mt,wt,et,null),mt.flags|=2),mt.return=a,nt.return=a,nt.sibling=mt,a.child=nt,nt=mt,mt=a.child,wt=s.child.memoizedState,wt=wt===null?nj(et):{baseLanes:wt.baseLanes|et,cachePool:null,transitions:wt.transitions},mt.memoizedState=wt,mt.childLanes=s.childLanes&~et,a.memoizedState=mj,nt}return mt=s.child,s=mt.sibling,nt=Pg(mt,{mode:"visible",children:nt.children}),!(a.mode&1)&&(nt.lanes=et),nt.return=a,nt.sibling=null,s!==null&&(et=a.deletions,et===null?(a.deletions=[s],a.flags|=16):et.push(s)),a.child=nt,a.memoizedState=null,nt}function qj(s,a){return a=pj({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function sj(s,a,et,nt){return nt!==null&&Jg(nt),Ug(a,s.child,null,et),s=qj(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function rj(s,a,et,nt,at,mt,wt){if(et)return a.flags&256?(a.flags&=-257,nt=Ki(Error(p$1(422))),sj(s,a,wt,nt)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(mt=nt.fallback,at=a.mode,nt=pj({mode:"visible",children:nt.children},at,0,null),mt=Tg(mt,at,wt,null),mt.flags|=2,nt.return=a,mt.return=a,nt.sibling=mt,a.child=nt,a.mode&1&&Ug(a,s.child,null,wt),a.child.memoizedState=nj(wt),a.memoizedState=mj,mt);if(!(a.mode&1))return sj(s,a,wt,null);if(at.data==="$!"){if(nt=at.nextSibling&&at.nextSibling.dataset,nt)var $t=nt.dgst;return nt=$t,mt=Error(p$1(419)),nt=Ki(mt,nt,void 0),sj(s,a,wt,nt)}if($t=(wt&s.childLanes)!==0,dh$1||$t){if(nt=Q,nt!==null){switch(wt&-wt){case 4:at=2;break;case 16:at=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:at=32;break;case 536870912:at=268435456;break;default:at=0}at=at&(nt.suspendedLanes|wt)?0:at,at!==0&&at!==mt.retryLane&&(mt.retryLane=at,ih(s,at),gi(nt,s,at,-1))}return tj(),nt=Ki(Error(p$1(421))),sj(s,a,wt,nt)}return at.data==="$?"?(a.flags|=128,a.child=s.child,a=uj.bind(null,s),at._reactRetry=a,null):(s=mt.treeContext,yg=Lf(at.nextSibling),xg=a,I$3=!0,zg=null,s!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=s.id,sg=s.overflow,qg=a),a=qj(a,nt.children),a.flags|=4096,a)}function vj(s,a,et){s.lanes|=a;var nt=s.alternate;nt!==null&&(nt.lanes|=a),bh(s.return,a,et)}function wj(s,a,et,nt,at){var mt=s.memoizedState;mt===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:nt,tail:et,tailMode:at}:(mt.isBackwards=a,mt.rendering=null,mt.renderingStartTime=0,mt.last=nt,mt.tail=et,mt.tailMode=at)}function xj(s,a,et){var nt=a.pendingProps,at=nt.revealOrder,mt=nt.tail;if(Xi(s,a,nt.children,et),nt=L$1.current,nt&2)nt=nt&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vj(s,et,a);else if(s.tag===19)vj(s,et,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}nt&=1}if(G$2(L$1,nt),!(a.mode&1))a.memoizedState=null;else switch(at){case"forwards":for(et=a.child,at=null;et!==null;)s=et.alternate,s!==null&&Ch(s)===null&&(at=et),et=et.sibling;et=at,et===null?(at=a.child,a.child=null):(at=et.sibling,et.sibling=null),wj(a,!1,at,et,mt);break;case"backwards":for(et=null,at=a.child,a.child=null;at!==null;){if(s=at.alternate,s!==null&&Ch(s)===null){a.child=at;break}s=at.sibling,at.sibling=et,et=at,at=s}wj(a,!0,et,null,mt);break;case"together":wj(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ij(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Zi(s,a,et){if(s!==null&&(a.dependencies=s.dependencies),rh|=a.lanes,!(et&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(p$1(153));if(a.child!==null){for(s=a.child,et=Pg(s,s.pendingProps),a.child=et,et.return=a;s.sibling!==null;)s=s.sibling,et=et.sibling=Pg(s,s.pendingProps),et.return=a;et.sibling=null}return a.child}function yj(s,a,et){switch(a.tag){case 3:kj(a),Ig();break;case 5:Ah(a);break;case 1:Zf(a.type)&&cg(a);break;case 4:yh(a,a.stateNode.containerInfo);break;case 10:var nt=a.type._context,at=a.memoizedProps.value;G$2(Wg,nt._currentValue),nt._currentValue=at;break;case 13:if(nt=a.memoizedState,nt!==null)return nt.dehydrated!==null?(G$2(L$1,L$1.current&1),a.flags|=128,null):et&a.child.childLanes?oj(s,a,et):(G$2(L$1,L$1.current&1),s=Zi(s,a,et),s!==null?s.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(nt=(et&a.childLanes)!==0,s.flags&128){if(nt)return xj(s,a,et);a.flags|=128}if(at=a.memoizedState,at!==null&&(at.rendering=null,at.tail=null,at.lastEffect=null),G$2(L$1,L$1.current),nt)break;return null;case 22:case 23:return a.lanes=0,dj(s,a,et)}return Zi(s,a,et)}var zj,Aj,Bj,Cj;zj=function(s,a){for(var et=a.child;et!==null;){if(et.tag===5||et.tag===6)s.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===a)break;for(;et.sibling===null;){if(et.return===null||et.return===a)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function(s,a,et,nt){var at=s.memoizedProps;if(at!==nt){s=a.stateNode,xh(uh.current);var mt=null;switch(et){case"input":at=Ya(s,at),nt=Ya(s,nt),mt=[];break;case"select":at=A$2({},at,{value:void 0}),nt=A$2({},nt,{value:void 0}),mt=[];break;case"textarea":at=gb(s,at),nt=gb(s,nt),mt=[];break;default:typeof at.onClick!="function"&&typeof nt.onClick=="function"&&(s.onclick=Bf)}ub(et,nt);var wt;et=null;for(Dt in at)if(!nt.hasOwnProperty(Dt)&&at.hasOwnProperty(Dt)&&at[Dt]!=null)if(Dt==="style"){var $t=at[Dt];for(wt in $t)$t.hasOwnProperty(wt)&&(et||(et={}),et[wt]="")}else Dt!=="dangerouslySetInnerHTML"&&Dt!=="children"&&Dt!=="suppressContentEditableWarning"&&Dt!=="suppressHydrationWarning"&&Dt!=="autoFocus"&&(ea.hasOwnProperty(Dt)?mt||(mt=[]):(mt=mt||[]).push(Dt,null));for(Dt in nt){var Ct=nt[Dt];if($t=at!=null?at[Dt]:void 0,nt.hasOwnProperty(Dt)&&Ct!==$t&&(Ct!=null||$t!=null))if(Dt==="style")if($t){for(wt in $t)!$t.hasOwnProperty(wt)||Ct&&Ct.hasOwnProperty(wt)||(et||(et={}),et[wt]="");for(wt in Ct)Ct.hasOwnProperty(wt)&&$t[wt]!==Ct[wt]&&(et||(et={}),et[wt]=Ct[wt])}else et||(mt||(mt=[]),mt.push(Dt,et)),et=Ct;else Dt==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,$t=$t?$t.__html:void 0,Ct!=null&&$t!==Ct&&(mt=mt||[]).push(Dt,Ct)):Dt==="children"?typeof Ct!="string"&&typeof Ct!="number"||(mt=mt||[]).push(Dt,""+Ct):Dt!=="suppressContentEditableWarning"&&Dt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Dt)?(Ct!=null&&Dt==="onScroll"&&D$2("scroll",s),mt||$t===Ct||(mt=[])):(mt=mt||[]).push(Dt,Ct))}et&&(mt=mt||[]).push("style",et);var Dt=mt;(a.updateQueue=Dt)&&(a.flags|=4)}};Cj=function(s,a,et,nt){et!==nt&&(a.flags|=4)};function Dj(s,a){if(!I$3)switch(s.tailMode){case"hidden":a=s.tail;for(var et=null;a!==null;)a.alternate!==null&&(et=a),a=a.sibling;et===null?s.tail=null:et.sibling=null;break;case"collapsed":et=s.tail;for(var nt=null;et!==null;)et.alternate!==null&&(nt=et),et=et.sibling;nt===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:nt.sibling=null}}function S$4(s){var a=s.alternate!==null&&s.alternate.child===s.child,et=0,nt=0;if(a)for(var at=s.child;at!==null;)et|=at.lanes|at.childLanes,nt|=at.subtreeFlags&14680064,nt|=at.flags&14680064,at.return=s,at=at.sibling;else for(at=s.child;at!==null;)et|=at.lanes|at.childLanes,nt|=at.subtreeFlags,nt|=at.flags,at.return=s,at=at.sibling;return s.subtreeFlags|=nt,s.childLanes=et,a}function Ej(s,a,et){var nt=a.pendingProps;switch(wg(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(a),null;case 1:return Zf(a.type)&&$f(),S$4(a),null;case 3:return nt=a.stateNode,zh(),E(Wf),E(H$2),Eh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(s===null||s.child===null)&&(Gg(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(s,a),S$4(a),null;case 5:Bh(a);var at=xh(wh.current);if(et=a.type,s!==null&&a.stateNode!=null)Bj(s,a,et,nt,at),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!nt){if(a.stateNode===null)throw Error(p$1(166));return S$4(a),null}if(s=xh(uh.current),Gg(a)){nt=a.stateNode,et=a.type;var mt=a.memoizedProps;switch(nt[Of]=a,nt[Pf]=mt,s=(a.mode&1)!==0,et){case"dialog":D$2("cancel",nt),D$2("close",nt);break;case"iframe":case"object":case"embed":D$2("load",nt);break;case"video":case"audio":for(at=0;at<lf.length;at++)D$2(lf[at],nt);break;case"source":D$2("error",nt);break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt);break;case"details":D$2("toggle",nt);break;case"input":Za(nt,mt),D$2("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!mt.multiple},D$2("invalid",nt);break;case"textarea":hb(nt,mt),D$2("invalid",nt)}ub(et,mt),at=null;for(var wt in mt)if(mt.hasOwnProperty(wt)){var $t=mt[wt];wt==="children"?typeof $t=="string"?nt.textContent!==$t&&(mt.suppressHydrationWarning!==!0&&Af(nt.textContent,$t,s),at=["children",$t]):typeof $t=="number"&&nt.textContent!==""+$t&&(mt.suppressHydrationWarning!==!0&&Af(nt.textContent,$t,s),at=["children",""+$t]):ea.hasOwnProperty(wt)&&$t!=null&&wt==="onScroll"&&D$2("scroll",nt)}switch(et){case"input":Va(nt),db(nt,mt,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof mt.onClick=="function"&&(nt.onclick=Bf)}nt=at,a.updateQueue=nt,nt!==null&&(a.flags|=4)}else{wt=at.nodeType===9?at:at.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kb(et)),s==="http://www.w3.org/1999/xhtml"?et==="script"?(s=wt.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof nt.is=="string"?s=wt.createElement(et,{is:nt.is}):(s=wt.createElement(et),et==="select"&&(wt=s,nt.multiple?wt.multiple=!0:nt.size&&(wt.size=nt.size))):s=wt.createElementNS(s,et),s[Of]=a,s[Pf]=nt,zj(s,a,!1,!1),a.stateNode=s;e:{switch(wt=vb(et,nt),et){case"dialog":D$2("cancel",s),D$2("close",s),at=nt;break;case"iframe":case"object":case"embed":D$2("load",s),at=nt;break;case"video":case"audio":for(at=0;at<lf.length;at++)D$2(lf[at],s);at=nt;break;case"source":D$2("error",s),at=nt;break;case"img":case"image":case"link":D$2("error",s),D$2("load",s),at=nt;break;case"details":D$2("toggle",s),at=nt;break;case"input":Za(s,nt),at=Ya(s,nt),D$2("invalid",s);break;case"option":at=nt;break;case"select":s._wrapperState={wasMultiple:!!nt.multiple},at=A$2({},nt,{value:void 0}),D$2("invalid",s);break;case"textarea":hb(s,nt),at=gb(s,nt),D$2("invalid",s);break;default:at=nt}ub(et,at),$t=at;for(mt in $t)if($t.hasOwnProperty(mt)){var Ct=$t[mt];mt==="style"?sb(s,Ct):mt==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,Ct!=null&&nb(s,Ct)):mt==="children"?typeof Ct=="string"?(et!=="textarea"||Ct!=="")&&ob(s,Ct):typeof Ct=="number"&&ob(s,""+Ct):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(ea.hasOwnProperty(mt)?Ct!=null&&mt==="onScroll"&&D$2("scroll",s):Ct!=null&&ta(s,mt,Ct,wt))}switch(et){case"input":Va(s),db(s,nt,!1);break;case"textarea":Va(s),jb(s);break;case"option":nt.value!=null&&s.setAttribute("value",""+Sa(nt.value));break;case"select":s.multiple=!!nt.multiple,mt=nt.value,mt!=null?fb(s,!!nt.multiple,mt,!1):nt.defaultValue!=null&&fb(s,!!nt.multiple,nt.defaultValue,!0);break;default:typeof at.onClick=="function"&&(s.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return S$4(a),null;case 6:if(s&&a.stateNode!=null)Cj(s,a,s.memoizedProps,nt);else{if(typeof nt!="string"&&a.stateNode===null)throw Error(p$1(166));if(et=xh(wh.current),xh(uh.current),Gg(a)){if(nt=a.stateNode,et=a.memoizedProps,nt[Of]=a,(mt=nt.nodeValue!==et)&&(s=xg,s!==null))switch(s.tag){case 3:Af(nt.nodeValue,et,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,et,(s.mode&1)!==0)}mt&&(a.flags|=4)}else nt=(et.nodeType===9?et:et.ownerDocument).createTextNode(nt),nt[Of]=a,a.stateNode=nt}return S$4(a),null;case 13:if(E(L$1),nt=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&a.mode&1&&!(a.flags&128))Hg(),Ig(),a.flags|=98560,mt=!1;else if(mt=Gg(a),nt!==null&&nt.dehydrated!==null){if(s===null){if(!mt)throw Error(p$1(318));if(mt=a.memoizedState,mt=mt!==null?mt.dehydrated:null,!mt)throw Error(p$1(317));mt[Of]=a}else Ig(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;S$4(a),mt=!1}else zg!==null&&(Fj(zg),zg=null),mt=!0;if(!mt)return a.flags&65536?a:null}return a.flags&128?(a.lanes=et,a):(nt=nt!==null,nt!==(s!==null&&s.memoizedState!==null)&&nt&&(a.child.flags|=8192,a.mode&1&&(s===null||L$1.current&1?T$2===0&&(T$2=3):tj())),a.updateQueue!==null&&(a.flags|=4),S$4(a),null);case 4:return zh(),Aj(s,a),s===null&&sf(a.stateNode.containerInfo),S$4(a),null;case 10:return ah(a.type._context),S$4(a),null;case 17:return Zf(a.type)&&$f(),S$4(a),null;case 19:if(E(L$1),mt=a.memoizedState,mt===null)return S$4(a),null;if(nt=(a.flags&128)!==0,wt=mt.rendering,wt===null)if(nt)Dj(mt,!1);else{if(T$2!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(wt=Ch(s),wt!==null){for(a.flags|=128,Dj(mt,!1),nt=wt.updateQueue,nt!==null&&(a.updateQueue=nt,a.flags|=4),a.subtreeFlags=0,nt=et,et=a.child;et!==null;)mt=et,s=nt,mt.flags&=14680066,wt=mt.alternate,wt===null?(mt.childLanes=0,mt.lanes=s,mt.child=null,mt.subtreeFlags=0,mt.memoizedProps=null,mt.memoizedState=null,mt.updateQueue=null,mt.dependencies=null,mt.stateNode=null):(mt.childLanes=wt.childLanes,mt.lanes=wt.lanes,mt.child=wt.child,mt.subtreeFlags=0,mt.deletions=null,mt.memoizedProps=wt.memoizedProps,mt.memoizedState=wt.memoizedState,mt.updateQueue=wt.updateQueue,mt.type=wt.type,s=wt.dependencies,mt.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),et=et.sibling;return G$2(L$1,L$1.current&1|2),a.child}s=s.sibling}mt.tail!==null&&B$1()>Gj&&(a.flags|=128,nt=!0,Dj(mt,!1),a.lanes=4194304)}else{if(!nt)if(s=Ch(wt),s!==null){if(a.flags|=128,nt=!0,et=s.updateQueue,et!==null&&(a.updateQueue=et,a.flags|=4),Dj(mt,!0),mt.tail===null&&mt.tailMode==="hidden"&&!wt.alternate&&!I$3)return S$4(a),null}else 2*B$1()-mt.renderingStartTime>Gj&&et!==1073741824&&(a.flags|=128,nt=!0,Dj(mt,!1),a.lanes=4194304);mt.isBackwards?(wt.sibling=a.child,a.child=wt):(et=mt.last,et!==null?et.sibling=wt:a.child=wt,mt.last=wt)}return mt.tail!==null?(a=mt.tail,mt.rendering=a,mt.tail=a.sibling,mt.renderingStartTime=B$1(),a.sibling=null,et=L$1.current,G$2(L$1,nt?et&1|2:et&1),a):(S$4(a),null);case 22:case 23:return Hj(),nt=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==nt&&(a.flags|=8192),nt&&a.mode&1?fj&1073741824&&(S$4(a),a.subtreeFlags&6&&(a.flags|=8192)):S$4(a),null;case 24:return null;case 25:return null}throw Error(p$1(156,a.tag))}function Ij(s,a){switch(wg(a),a.tag){case 1:return Zf(a.type)&&$f(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return zh(),E(Wf),E(H$2),Eh(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Bh(a),null;case 13:if(E(L$1),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(p$1(340));Ig()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return E(L$1),null;case 4:return zh(),null;case 10:return ah(a.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(s,a){var et=s.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(nt){W$2(s,a,nt)}else et.current=null}function Mj(s,a,et){try{et()}catch(nt){W$2(s,a,nt)}}var Nj=!1;function Oj(s,a){if(Cf=dd,s=Me(),Ne(s)){if("selectionStart"in s)var et={start:s.selectionStart,end:s.selectionEnd};else e:{et=(et=s.ownerDocument)&&et.defaultView||window;var nt=et.getSelection&&et.getSelection();if(nt&&nt.rangeCount!==0){et=nt.anchorNode;var at=nt.anchorOffset,mt=nt.focusNode;nt=nt.focusOffset;try{et.nodeType,mt.nodeType}catch{et=null;break e}var wt=0,$t=-1,Ct=-1,Dt=0,Ft=0,jt=s,Nt=null;t:for(;;){for(var Lt;jt!==et||at!==0&&jt.nodeType!==3||($t=wt+at),jt!==mt||nt!==0&&jt.nodeType!==3||(Ct=wt+nt),jt.nodeType===3&&(wt+=jt.nodeValue.length),(Lt=jt.firstChild)!==null;)Nt=jt,jt=Lt;for(;;){if(jt===s)break t;if(Nt===et&&++Dt===at&&($t=wt),Nt===mt&&++Ft===nt&&(Ct=wt),(Lt=jt.nextSibling)!==null)break;jt=Nt,Nt=jt.parentNode}jt=Lt}et=$t===-1||Ct===-1?null:{start:$t,end:Ct}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:s,selectionRange:et},dd=!1,V$1=a;V$1!==null;)if(a=V$1,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,V$1=s;else for(;V$1!==null;){a=V$1;try{var Ut=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ut!==null){var Vt=Ut.memoizedProps,Yt=Ut.memoizedState,er=a.stateNode,tr=er.getSnapshotBeforeUpdate(a.elementType===a.type?Vt:Ci(a.type,Vt),Yt);er.__reactInternalSnapshotBeforeUpdate=tr}break;case 3:var nr=a.stateNode.containerInfo;nr.nodeType===1?nr.textContent="":nr.nodeType===9&&nr.documentElement&&nr.removeChild(nr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(sr){W$2(a,a.return,sr)}if(s=a.sibling,s!==null){s.return=a.return,V$1=s;break}V$1=a.return}return Ut=Nj,Nj=!1,Ut}function Pj(s,a,et){var nt=a.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var at=nt=nt.next;do{if((at.tag&s)===s){var mt=at.destroy;at.destroy=void 0,mt!==void 0&&Mj(a,et,mt)}at=at.next}while(at!==nt)}}function Qj(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var et=a=a.next;do{if((et.tag&s)===s){var nt=et.create;et.destroy=nt()}et=et.next}while(et!==a)}}function Rj(s){var a=s.ref;if(a!==null){var et=s.stateNode;switch(s.tag){case 5:s=et;break;default:s=et}typeof a=="function"?a(s):a.current=s}}function Sj(s){var a=s.alternate;a!==null&&(s.alternate=null,Sj(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Of],delete a[Pf],delete a[of],delete a[Qf],delete a[Rf])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tj(s){return s.tag===5||s.tag===3||s.tag===4}function Uj(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vj(s,a,et){var nt=s.tag;if(nt===5||nt===6)s=s.stateNode,a?et.nodeType===8?et.parentNode.insertBefore(s,a):et.insertBefore(s,a):(et.nodeType===8?(a=et.parentNode,a.insertBefore(s,et)):(a=et,a.appendChild(s)),et=et._reactRootContainer,et!=null||a.onclick!==null||(a.onclick=Bf));else if(nt!==4&&(s=s.child,s!==null))for(Vj(s,a,et),s=s.sibling;s!==null;)Vj(s,a,et),s=s.sibling}function Wj(s,a,et){var nt=s.tag;if(nt===5||nt===6)s=s.stateNode,a?et.insertBefore(s,a):et.appendChild(s);else if(nt!==4&&(s=s.child,s!==null))for(Wj(s,a,et),s=s.sibling;s!==null;)Wj(s,a,et),s=s.sibling}var X=null,Xj=!1;function Yj(s,a,et){for(et=et.child;et!==null;)Zj(s,a,et),et=et.sibling}function Zj(s,a,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Lj(et,a);case 6:var nt=X,at=Xj;X=null,Yj(s,a,et),X=nt,Xj=at,X!==null&&(Xj?(s=X,et=et.stateNode,s.nodeType===8?s.parentNode.removeChild(et):s.removeChild(et)):X.removeChild(et.stateNode));break;case 18:X!==null&&(Xj?(s=X,et=et.stateNode,s.nodeType===8?Kf(s.parentNode,et):s.nodeType===1&&Kf(s,et),bd(s)):Kf(X,et.stateNode));break;case 4:nt=X,at=Xj,X=et.stateNode.containerInfo,Xj=!0,Yj(s,a,et),X=nt,Xj=at;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=et.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){at=nt=nt.next;do{var mt=at,wt=mt.destroy;mt=mt.tag,wt!==void 0&&(mt&2||mt&4)&&Mj(et,a,wt),at=at.next}while(at!==nt)}Yj(s,a,et);break;case 1:if(!U$1&&(Lj(et,a),nt=et.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=et.memoizedProps,nt.state=et.memoizedState,nt.componentWillUnmount()}catch($t){W$2(et,a,$t)}Yj(s,a,et);break;case 21:Yj(s,a,et);break;case 22:et.mode&1?(U$1=(nt=U$1)||et.memoizedState!==null,Yj(s,a,et),U$1=nt):Yj(s,a,et);break;default:Yj(s,a,et)}}function ak(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var et=s.stateNode;et===null&&(et=s.stateNode=new Kj),a.forEach(function(nt){var at=bk.bind(null,s,nt);et.has(nt)||(et.add(nt),nt.then(at,at))})}}function ck(s,a){var et=a.deletions;if(et!==null)for(var nt=0;nt<et.length;nt++){var at=et[nt];try{var mt=s,wt=a,$t=wt;e:for(;$t!==null;){switch($t.tag){case 5:X=$t.stateNode,Xj=!1;break e;case 3:X=$t.stateNode.containerInfo,Xj=!0;break e;case 4:X=$t.stateNode.containerInfo,Xj=!0;break e}$t=$t.return}if(X===null)throw Error(p$1(160));Zj(mt,wt,at),X=null,Xj=!1;var Ct=at.alternate;Ct!==null&&(Ct.return=null),at.return=null}catch(Dt){W$2(at,a,Dt)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dk(a,s),a=a.sibling}function dk(s,a){var et=s.alternate,nt=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ck(a,s),ek(s),nt&4){try{Pj(3,s,s.return),Qj(3,s)}catch(Vt){W$2(s,s.return,Vt)}try{Pj(5,s,s.return)}catch(Vt){W$2(s,s.return,Vt)}}break;case 1:ck(a,s),ek(s),nt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck(a,s),ek(s),nt&512&&et!==null&&Lj(et,et.return),s.flags&32){var at=s.stateNode;try{ob(at,"")}catch(Vt){W$2(s,s.return,Vt)}}if(nt&4&&(at=s.stateNode,at!=null)){var mt=s.memoizedProps,wt=et!==null?et.memoizedProps:mt,$t=s.type,Ct=s.updateQueue;if(s.updateQueue=null,Ct!==null)try{$t==="input"&&mt.type==="radio"&&mt.name!=null&&ab(at,mt),vb($t,wt);var Dt=vb($t,mt);for(wt=0;wt<Ct.length;wt+=2){var Ft=Ct[wt],jt=Ct[wt+1];Ft==="style"?sb(at,jt):Ft==="dangerouslySetInnerHTML"?nb(at,jt):Ft==="children"?ob(at,jt):ta(at,Ft,jt,Dt)}switch($t){case"input":bb(at,mt);break;case"textarea":ib(at,mt);break;case"select":var Nt=at._wrapperState.wasMultiple;at._wrapperState.wasMultiple=!!mt.multiple;var Lt=mt.value;Lt!=null?fb(at,!!mt.multiple,Lt,!1):Nt!==!!mt.multiple&&(mt.defaultValue!=null?fb(at,!!mt.multiple,mt.defaultValue,!0):fb(at,!!mt.multiple,mt.multiple?[]:"",!1))}at[Pf]=mt}catch(Vt){W$2(s,s.return,Vt)}}break;case 6:if(ck(a,s),ek(s),nt&4){if(s.stateNode===null)throw Error(p$1(162));at=s.stateNode,mt=s.memoizedProps;try{at.nodeValue=mt}catch(Vt){W$2(s,s.return,Vt)}}break;case 3:if(ck(a,s),ek(s),nt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(a.containerInfo)}catch(Vt){W$2(s,s.return,Vt)}break;case 4:ck(a,s),ek(s);break;case 13:ck(a,s),ek(s),at=s.child,at.flags&8192&&(mt=at.memoizedState!==null,at.stateNode.isHidden=mt,!mt||at.alternate!==null&&at.alternate.memoizedState!==null||(fk=B$1())),nt&4&&ak(s);break;case 22:if(Ft=et!==null&&et.memoizedState!==null,s.mode&1?(U$1=(Dt=U$1)||Ft,ck(a,s),U$1=Dt):ck(a,s),ek(s),nt&8192){if(Dt=s.memoizedState!==null,(s.stateNode.isHidden=Dt)&&!Ft&&s.mode&1)for(V$1=s,Ft=s.child;Ft!==null;){for(jt=V$1=Ft;V$1!==null;){switch(Nt=V$1,Lt=Nt.child,Nt.tag){case 0:case 11:case 14:case 15:Pj(4,Nt,Nt.return);break;case 1:Lj(Nt,Nt.return);var Ut=Nt.stateNode;if(typeof Ut.componentWillUnmount=="function"){nt=Nt,et=Nt.return;try{a=nt,Ut.props=a.memoizedProps,Ut.state=a.memoizedState,Ut.componentWillUnmount()}catch(Vt){W$2(nt,et,Vt)}}break;case 5:Lj(Nt,Nt.return);break;case 22:if(Nt.memoizedState!==null){gk(jt);continue}}Lt!==null?(Lt.return=Nt,V$1=Lt):gk(jt)}Ft=Ft.sibling}e:for(Ft=null,jt=s;;){if(jt.tag===5){if(Ft===null){Ft=jt;try{at=jt.stateNode,Dt?(mt=at.style,typeof mt.setProperty=="function"?mt.setProperty("display","none","important"):mt.display="none"):($t=jt.stateNode,Ct=jt.memoizedProps.style,wt=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null,$t.style.display=rb("display",wt))}catch(Vt){W$2(s,s.return,Vt)}}}else if(jt.tag===6){if(Ft===null)try{jt.stateNode.nodeValue=Dt?"":jt.memoizedProps}catch(Vt){W$2(s,s.return,Vt)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===s)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===s)break e;for(;jt.sibling===null;){if(jt.return===null||jt.return===s)break e;Ft===jt&&(Ft=null),jt=jt.return}Ft===jt&&(Ft=null),jt.sibling.return=jt.return,jt=jt.sibling}}break;case 19:ck(a,s),ek(s),nt&4&&ak(s);break;case 21:break;default:ck(a,s),ek(s)}}function ek(s){var a=s.flags;if(a&2){try{e:{for(var et=s.return;et!==null;){if(Tj(et)){var nt=et;break e}et=et.return}throw Error(p$1(160))}switch(nt.tag){case 5:var at=nt.stateNode;nt.flags&32&&(ob(at,""),nt.flags&=-33);var mt=Uj(s);Wj(s,mt,at);break;case 3:case 4:var wt=nt.stateNode.containerInfo,$t=Uj(s);Vj(s,$t,wt);break;default:throw Error(p$1(161))}}catch(Ct){W$2(s,s.return,Ct)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function hk(s,a,et){V$1=s,ik(s)}function ik(s,a,et){for(var nt=(s.mode&1)!==0;V$1!==null;){var at=V$1,mt=at.child;if(at.tag===22&&nt){var wt=at.memoizedState!==null||Jj;if(!wt){var $t=at.alternate,Ct=$t!==null&&$t.memoizedState!==null||U$1;$t=Jj;var Dt=U$1;if(Jj=wt,(U$1=Ct)&&!Dt)for(V$1=at;V$1!==null;)wt=V$1,Ct=wt.child,wt.tag===22&&wt.memoizedState!==null?jk(at):Ct!==null?(Ct.return=wt,V$1=Ct):jk(at);for(;mt!==null;)V$1=mt,ik(mt),mt=mt.sibling;V$1=at,Jj=$t,U$1=Dt}kk(s)}else at.subtreeFlags&8772&&mt!==null?(mt.return=at,V$1=mt):kk(s)}}function kk(s){for(;V$1!==null;){var a=V$1;if(a.flags&8772){var et=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:U$1||Qj(5,a);break;case 1:var nt=a.stateNode;if(a.flags&4&&!U$1)if(et===null)nt.componentDidMount();else{var at=a.elementType===a.type?et.memoizedProps:Ci(a.type,et.memoizedProps);nt.componentDidUpdate(at,et.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var mt=a.updateQueue;mt!==null&&sh(a,mt,nt);break;case 3:var wt=a.updateQueue;if(wt!==null){if(et=null,a.child!==null)switch(a.child.tag){case 5:et=a.child.stateNode;break;case 1:et=a.child.stateNode}sh(a,wt,et)}break;case 5:var $t=a.stateNode;if(et===null&&a.flags&4){et=$t;var Ct=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Ct.autoFocus&&et.focus();break;case"img":Ct.src&&(et.src=Ct.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Dt=a.alternate;if(Dt!==null){var Ft=Dt.memoizedState;if(Ft!==null){var jt=Ft.dehydrated;jt!==null&&bd(jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$1||a.flags&512&&Rj(a)}catch(Nt){W$2(a,a.return,Nt)}}if(a===s){V$1=null;break}if(et=a.sibling,et!==null){et.return=a.return,V$1=et;break}V$1=a.return}}function gk(s){for(;V$1!==null;){var a=V$1;if(a===s){V$1=null;break}var et=a.sibling;if(et!==null){et.return=a.return,V$1=et;break}V$1=a.return}}function jk(s){for(;V$1!==null;){var a=V$1;try{switch(a.tag){case 0:case 11:case 15:var et=a.return;try{Qj(4,a)}catch(Ct){W$2(a,et,Ct)}break;case 1:var nt=a.stateNode;if(typeof nt.componentDidMount=="function"){var at=a.return;try{nt.componentDidMount()}catch(Ct){W$2(a,at,Ct)}}var mt=a.return;try{Rj(a)}catch(Ct){W$2(a,mt,Ct)}break;case 5:var wt=a.return;try{Rj(a)}catch(Ct){W$2(a,wt,Ct)}}}catch(Ct){W$2(a,a.return,Ct)}if(a===s){V$1=null;break}var $t=a.sibling;if($t!==null){$t.return=a.return,V$1=$t;break}V$1=a.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$2&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(s){return s.mode&1?K$2&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(s=C,s!==0||(s=window.event,s=s===void 0?16:jd(s.type)),s):1}function gi(s,a,et,nt){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(s,et,nt),(!(K$2&2)||s!==Q)&&(s===Q&&(!(K$2&2)&&(qk|=et),T$2===4&&Ck(s,Z$1)),Dk(s,nt),et===1&&K$2===0&&!(a.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(s,a){var et=s.callbackNode;wc(s,a);var nt=uc(s,s===Q?Z$1:0);if(nt===0)et!==null&&bc(et),s.callbackNode=null,s.callbackPriority=0;else if(a=nt&-nt,s.callbackPriority!==a){if(et!=null&&bc(et),a===1)s.tag===0?ig(Ek.bind(null,s)):hg(Ek.bind(null,s)),Jf(function(){!(K$2&6)&&jg()}),et=null;else{switch(Dc(nt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,s))}s.callbackPriority=a,s.callbackNode=et}}function Gk(s,a){if(Ak=-1,Bk=0,K$2&6)throw Error(p$1(327));var et=s.callbackNode;if(Hk()&&s.callbackNode!==et)return null;var nt=uc(s,s===Q?Z$1:0);if(nt===0)return null;if(nt&30||nt&s.expiredLanes||a)a=Ik(s,nt);else{a=nt;var at=K$2;K$2|=2;var mt=Jk();(Q!==s||Z$1!==a)&&(uk=null,Gj=B$1()+500,Kk(s,a));do try{Lk();break}catch($t){Mk(s,$t)}while(!0);$g(),mk.current=mt,K$2=at,Y$1!==null?a=0:(Q=null,Z$1=0,a=T$2)}if(a!==0){if(a===2&&(at=xc(s),at!==0&&(nt=at,a=Nk(s,at))),a===1)throw et=pk,Kk(s,0),Ck(s,nt),Dk(s,B$1()),et;if(a===6)Ck(s,nt);else{if(at=s.current.alternate,!(nt&30)&&!Ok(at)&&(a=Ik(s,nt),a===2&&(mt=xc(s),mt!==0&&(nt=mt,a=Nk(s,mt))),a===1))throw et=pk,Kk(s,0),Ck(s,nt),Dk(s,B$1()),et;switch(s.finishedWork=at,s.finishedLanes=nt,a){case 0:case 1:throw Error(p$1(345));case 2:Pk(s,tk,uk);break;case 3:if(Ck(s,nt),(nt&130023424)===nt&&(a=fk+500-B$1(),10<a)){if(uc(s,0)!==0)break;if(at=s.suspendedLanes,(at&nt)!==nt){R$2(),s.pingedLanes|=s.suspendedLanes&at;break}s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),a);break}Pk(s,tk,uk);break;case 4:if(Ck(s,nt),(nt&4194240)===nt)break;for(a=s.eventTimes,at=-1;0<nt;){var wt=31-oc(nt);mt=1<<wt,wt=a[wt],wt>at&&(at=wt),nt&=~mt}if(nt=at,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*lk(nt/1960))-nt,10<nt){s.timeoutHandle=Ff(Pk.bind(null,s,tk,uk),nt);break}Pk(s,tk,uk);break;case 5:Pk(s,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(s,B$1()),s.callbackNode===et?Gk.bind(null,s):null}function Nk(s,a){var et=sk;return s.current.memoizedState.isDehydrated&&(Kk(s,a).flags|=256),s=Ik(s,a),s!==2&&(a=tk,tk=et,a!==null&&Fj(a)),s}function Fj(s){tk===null?tk=s:tk.push.apply(tk,s)}function Ok(s){for(var a=s;;){if(a.flags&16384){var et=a.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var nt=0;nt<et.length;nt++){var at=et[nt],mt=at.getSnapshot;at=at.value;try{if(!He(mt(),at))return!1}catch{return!1}}}if(et=a.child,a.subtreeFlags&16384&&et!==null)et.return=a,a=et;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ck(s,a){for(a&=~rk,a&=~qk,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var et=31-oc(a),nt=1<<et;s[et]=-1,a&=~nt}}function Ek(s){if(K$2&6)throw Error(p$1(327));Hk();var a=uc(s,0);if(!(a&1))return Dk(s,B$1()),null;var et=Ik(s,a);if(s.tag!==0&&et===2){var nt=xc(s);nt!==0&&(a=nt,et=Nk(s,nt))}if(et===1)throw et=pk,Kk(s,0),Ck(s,a),Dk(s,B$1()),et;if(et===6)throw Error(p$1(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Pk(s,tk,uk),Dk(s,B$1()),null}function Qk(s,a){var et=K$2;K$2|=1;try{return s(a)}finally{K$2=et,K$2===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(s){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var a=K$2;K$2|=1;var et=ok.transition,nt=C;try{if(ok.transition=null,C=1,s)return s()}finally{C=nt,ok.transition=et,K$2=a,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(s,a){s.finishedWork=null,s.finishedLanes=0;var et=s.timeoutHandle;if(et!==-1&&(s.timeoutHandle=-1,Gf(et)),Y$1!==null)for(et=Y$1.return;et!==null;){var nt=et;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:zh(),E(Wf),E(H$2),Eh();break;case 5:Bh(nt);break;case 4:zh();break;case 13:E(L$1);break;case 19:E(L$1);break;case 10:ah(nt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q=s,Y$1=s=Pg(s.current,null),Z$1=fj=a,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(a=0;a<fh.length;a++)if(et=fh[a],nt=et.interleaved,nt!==null){et.interleaved=null;var at=nt.next,mt=et.pending;if(mt!==null){var wt=mt.next;mt.next=at,nt.next=wt}et.pending=nt}fh=null}return s}function Mk(s,a){do{var et=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nt=M$2.memoizedState;nt!==null;){var at=nt.queue;at!==null&&(at.pending=null),nt=nt.next}Ih=!1}if(Hh=0,O$3=N$1=M$2=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T$2=1,pk=a,Y$1=null;break}e:{var mt=s,wt=et.return,$t=et,Ct=a;if(a=Z$1,$t.flags|=32768,Ct!==null&&typeof Ct=="object"&&typeof Ct.then=="function"){var Dt=Ct,Ft=$t,jt=Ft.tag;if(!(Ft.mode&1)&&(jt===0||jt===11||jt===15)){var Nt=Ft.alternate;Nt?(Ft.updateQueue=Nt.updateQueue,Ft.memoizedState=Nt.memoizedState,Ft.lanes=Nt.lanes):(Ft.updateQueue=null,Ft.memoizedState=null)}var Lt=Ui(wt);if(Lt!==null){Lt.flags&=-257,Vi(Lt,wt,$t,mt,a),Lt.mode&1&&Si(mt,Dt,a),a=Lt,Ct=Dt;var Ut=a.updateQueue;if(Ut===null){var Vt=new Set;Vt.add(Ct),a.updateQueue=Vt}else Ut.add(Ct);break e}else{if(!(a&1)){Si(mt,Dt,a),tj();break e}Ct=Error(p$1(426))}}else if(I$3&&$t.mode&1){var Yt=Ui(wt);if(Yt!==null){!(Yt.flags&65536)&&(Yt.flags|=256),Vi(Yt,wt,$t,mt,a),Jg(Ji(Ct,$t));break e}}mt=Ct=Ji(Ct,$t),T$2!==4&&(T$2=2),sk===null?sk=[mt]:sk.push(mt),mt=wt;do{switch(mt.tag){case 3:mt.flags|=65536,a&=-a,mt.lanes|=a;var er=Ni$1(mt,Ct,a);ph(mt,er);break e;case 1:$t=Ct;var tr=mt.type,nr=mt.stateNode;if(!(mt.flags&128)&&(typeof tr.getDerivedStateFromError=="function"||nr!==null&&typeof nr.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(nr)))){mt.flags|=65536,a&=-a,mt.lanes|=a;var sr=Qi(mt,$t,a);ph(mt,sr);break e}}mt=mt.return}while(mt!==null)}Sk(et)}catch(dr){a=dr,Y$1===et&&et!==null&&(Y$1=et=et.return);continue}break}while(!0)}function Jk(){var s=mk.current;return mk.current=Rh,s===null?Rh:s}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z$1)}function Ik(s,a){var et=K$2;K$2|=2;var nt=Jk();(Q!==s||Z$1!==a)&&(uk=null,Kk(s,a));do try{Tk();break}catch(at){Mk(s,at)}while(!0);if($g(),K$2=et,mk.current=nt,Y$1!==null)throw Error(p$1(261));return Q=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(s){var a=Vk(s.alternate,s,fj);s.memoizedProps=s.pendingProps,a===null?Sk(s):Y$1=a,nk.current=null}function Sk(s){var a=s;do{var et=a.alternate;if(s=a.return,a.flags&32768){if(et=Ij(et,a),et!==null){et.flags&=32767,Y$1=et;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{T$2=6,Y$1=null;return}}else if(et=Ej(et,a,fj),et!==null){Y$1=et;return}if(a=a.sibling,a!==null){Y$1=a;return}Y$1=a=s}while(a!==null);T$2===0&&(T$2=5)}function Pk(s,a,et){var nt=C,at=ok.transition;try{ok.transition=null,C=1,Wk(s,a,et,nt)}finally{ok.transition=at,C=nt}return null}function Wk(s,a,et,nt){do Hk();while(wk!==null);if(K$2&6)throw Error(p$1(327));et=s.finishedWork;var at=s.finishedLanes;if(et===null)return null;if(s.finishedWork=null,s.finishedLanes=0,et===s.current)throw Error(p$1(177));s.callbackNode=null,s.callbackPriority=0;var mt=et.lanes|et.childLanes;if(Bc(s,mt),s===Q&&(Y$1=Q=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),mt=(et.flags&15990)!==0,et.subtreeFlags&15990||mt){mt=ok.transition,ok.transition=null;var wt=C;C=1;var $t=K$2;K$2|=4,nk.current=null,Oj(s,et),dk(et,s),Oe$1(Df),dd=!!Cf,Df=Cf=null,s.current=et,hk(et),dc(),K$2=$t,C=wt,ok.transition=mt}else s.current=et;if(vk&&(vk=!1,wk=s,xk=at),mt=s.pendingLanes,mt===0&&(Ri$1=null),mc(et.stateNode),Dk(s,B$1()),a!==null)for(nt=s.onRecoverableError,et=0;et<a.length;et++)at=a[et],nt(at.value,{componentStack:at.stack,digest:at.digest});if(Oi$1)throw Oi$1=!1,s=Pi,Pi=null,s;return xk&1&&s.tag!==0&&Hk(),mt=s.pendingLanes,mt&1?s===zk?yk++:(yk=0,zk=s):yk=0,jg(),null}function Hk(){if(wk!==null){var s=Dc(xk),a=ok.transition,et=C;try{if(ok.transition=null,C=16>s?16:s,wk===null)var nt=!1;else{if(s=wk,wk=null,xk=0,K$2&6)throw Error(p$1(331));var at=K$2;for(K$2|=4,V$1=s.current;V$1!==null;){var mt=V$1,wt=mt.child;if(V$1.flags&16){var $t=mt.deletions;if($t!==null){for(var Ct=0;Ct<$t.length;Ct++){var Dt=$t[Ct];for(V$1=Dt;V$1!==null;){var Ft=V$1;switch(Ft.tag){case 0:case 11:case 15:Pj(8,Ft,mt)}var jt=Ft.child;if(jt!==null)jt.return=Ft,V$1=jt;else for(;V$1!==null;){Ft=V$1;var Nt=Ft.sibling,Lt=Ft.return;if(Sj(Ft),Ft===Dt){V$1=null;break}if(Nt!==null){Nt.return=Lt,V$1=Nt;break}V$1=Lt}}}var Ut=mt.alternate;if(Ut!==null){var Vt=Ut.child;if(Vt!==null){Ut.child=null;do{var Yt=Vt.sibling;Vt.sibling=null,Vt=Yt}while(Vt!==null)}}V$1=mt}}if(mt.subtreeFlags&2064&&wt!==null)wt.return=mt,V$1=wt;else e:for(;V$1!==null;){if(mt=V$1,mt.flags&2048)switch(mt.tag){case 0:case 11:case 15:Pj(9,mt,mt.return)}var er=mt.sibling;if(er!==null){er.return=mt.return,V$1=er;break e}V$1=mt.return}}var tr=s.current;for(V$1=tr;V$1!==null;){wt=V$1;var nr=wt.child;if(wt.subtreeFlags&2064&&nr!==null)nr.return=wt,V$1=nr;else e:for(wt=tr;V$1!==null;){if($t=V$1,$t.flags&2048)try{switch($t.tag){case 0:case 11:case 15:Qj(9,$t)}}catch(dr){W$2($t,$t.return,dr)}if($t===wt){V$1=null;break e}var sr=$t.sibling;if(sr!==null){sr.return=$t.return,V$1=sr;break e}V$1=$t.return}}if(K$2=at,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,s)}catch{}nt=!0}return nt}finally{C=et,ok.transition=a}}return!1}function Xk(s,a,et){a=Ji(et,a),a=Ni$1(s,a,1),s=nh(s,a,1),a=R$2(),s!==null&&(Ac(s,1,a),Dk(s,a))}function W$2(s,a,et){if(s.tag===3)Xk(s,s,et);else for(;a!==null;){if(a.tag===3){Xk(a,s,et);break}else if(a.tag===1){var nt=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(nt))){s=Ji(et,s),s=Qi(a,s,1),a=nh(a,s,1),s=R$2(),a!==null&&(Ac(a,1,s),Dk(a,s));break}}a=a.return}}function Ti(s,a,et){var nt=s.pingCache;nt!==null&&nt.delete(a),a=R$2(),s.pingedLanes|=s.suspendedLanes&et,Q===s&&(Z$1&et)===et&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(s,0):rk|=et),Dk(s,a)}function Yk(s,a){a===0&&(s.mode&1?(a=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):a=1);var et=R$2();s=ih(s,a),s!==null&&(Ac(s,a,et),Dk(s,et))}function uj(s){var a=s.memoizedState,et=0;a!==null&&(et=a.retryLane),Yk(s,et)}function bk(s,a){var et=0;switch(s.tag){case 13:var nt=s.stateNode,at=s.memoizedState;at!==null&&(et=at.retryLane);break;case 19:nt=s.stateNode;break;default:throw Error(p$1(314))}nt!==null&&nt.delete(a),Yk(s,et)}var Vk;Vk=function(s,a,et){if(s!==null)if(s.memoizedProps!==a.pendingProps||Wf.current)dh$1=!0;else{if(!(s.lanes&et)&&!(a.flags&128))return dh$1=!1,yj(s,a,et);dh$1=!!(s.flags&131072)}else dh$1=!1,I$3&&a.flags&1048576&&ug(a,ng,a.index);switch(a.lanes=0,a.tag){case 2:var nt=a.type;ij(s,a),s=a.pendingProps;var at=Yf(a,H$2.current);ch(a,et),at=Nh(null,a,nt,s,at,et);var mt=Sh();return a.flags|=1,typeof at=="object"&&at!==null&&typeof at.render=="function"&&at.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Zf(nt)?(mt=!0,cg(a)):mt=!1,a.memoizedState=at.state!==null&&at.state!==void 0?at.state:null,kh(a),at.updater=Ei,a.stateNode=at,at._reactInternals=a,Ii(a,nt,s,et),a=jj(null,a,nt,!0,mt,et)):(a.tag=0,I$3&&mt&&vg(a),Xi(null,a,at,et),a=a.child),a;case 16:nt=a.elementType;e:{switch(ij(s,a),s=a.pendingProps,at=nt._init,nt=at(nt._payload),a.type=nt,at=a.tag=Zk(nt),s=Ci(nt,s),at){case 0:a=cj(null,a,nt,s,et);break e;case 1:a=hj(null,a,nt,s,et);break e;case 11:a=Yi(null,a,nt,s,et);break e;case 14:a=$i(null,a,nt,Ci(nt.type,s),et);break e}throw Error(p$1(306,nt,""))}return a;case 0:return nt=a.type,at=a.pendingProps,at=a.elementType===nt?at:Ci(nt,at),cj(s,a,nt,at,et);case 1:return nt=a.type,at=a.pendingProps,at=a.elementType===nt?at:Ci(nt,at),hj(s,a,nt,at,et);case 3:e:{if(kj(a),s===null)throw Error(p$1(387));nt=a.pendingProps,mt=a.memoizedState,at=mt.element,lh(s,a),qh(a,nt,null,et);var wt=a.memoizedState;if(nt=wt.element,mt.isDehydrated)if(mt={element:nt,isDehydrated:!1,cache:wt.cache,pendingSuspenseBoundaries:wt.pendingSuspenseBoundaries,transitions:wt.transitions},a.updateQueue.baseState=mt,a.memoizedState=mt,a.flags&256){at=Ji(Error(p$1(423)),a),a=lj(s,a,nt,et,at);break e}else if(nt!==at){at=Ji(Error(p$1(424)),a),a=lj(s,a,nt,et,at);break e}else for(yg=Lf(a.stateNode.containerInfo.firstChild),xg=a,I$3=!0,zg=null,et=Vg(a,null,nt,et),a.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),nt===at){a=Zi(s,a,et);break e}Xi(s,a,nt,et)}a=a.child}return a;case 5:return Ah(a),s===null&&Eg(a),nt=a.type,at=a.pendingProps,mt=s!==null?s.memoizedProps:null,wt=at.children,Ef(nt,at)?wt=null:mt!==null&&Ef(nt,mt)&&(a.flags|=32),gj(s,a),Xi(s,a,wt,et),a.child;case 6:return s===null&&Eg(a),null;case 13:return oj(s,a,et);case 4:return yh(a,a.stateNode.containerInfo),nt=a.pendingProps,s===null?a.child=Ug(a,null,nt,et):Xi(s,a,nt,et),a.child;case 11:return nt=a.type,at=a.pendingProps,at=a.elementType===nt?at:Ci(nt,at),Yi(s,a,nt,at,et);case 7:return Xi(s,a,a.pendingProps,et),a.child;case 8:return Xi(s,a,a.pendingProps.children,et),a.child;case 12:return Xi(s,a,a.pendingProps.children,et),a.child;case 10:e:{if(nt=a.type._context,at=a.pendingProps,mt=a.memoizedProps,wt=at.value,G$2(Wg,nt._currentValue),nt._currentValue=wt,mt!==null)if(He(mt.value,wt)){if(mt.children===at.children&&!Wf.current){a=Zi(s,a,et);break e}}else for(mt=a.child,mt!==null&&(mt.return=a);mt!==null;){var $t=mt.dependencies;if($t!==null){wt=mt.child;for(var Ct=$t.firstContext;Ct!==null;){if(Ct.context===nt){if(mt.tag===1){Ct=mh(-1,et&-et),Ct.tag=2;var Dt=mt.updateQueue;if(Dt!==null){Dt=Dt.shared;var Ft=Dt.pending;Ft===null?Ct.next=Ct:(Ct.next=Ft.next,Ft.next=Ct),Dt.pending=Ct}}mt.lanes|=et,Ct=mt.alternate,Ct!==null&&(Ct.lanes|=et),bh(mt.return,et,a),$t.lanes|=et;break}Ct=Ct.next}}else if(mt.tag===10)wt=mt.type===a.type?null:mt.child;else if(mt.tag===18){if(wt=mt.return,wt===null)throw Error(p$1(341));wt.lanes|=et,$t=wt.alternate,$t!==null&&($t.lanes|=et),bh(wt,et,a),wt=mt.sibling}else wt=mt.child;if(wt!==null)wt.return=mt;else for(wt=mt;wt!==null;){if(wt===a){wt=null;break}if(mt=wt.sibling,mt!==null){mt.return=wt.return,wt=mt;break}wt=wt.return}mt=wt}Xi(s,a,at.children,et),a=a.child}return a;case 9:return at=a.type,nt=a.pendingProps.children,ch(a,et),at=eh(at),nt=nt(at),a.flags|=1,Xi(s,a,nt,et),a.child;case 14:return nt=a.type,at=Ci(nt,a.pendingProps),at=Ci(nt.type,at),$i(s,a,nt,at,et);case 15:return bj(s,a,a.type,a.pendingProps,et);case 17:return nt=a.type,at=a.pendingProps,at=a.elementType===nt?at:Ci(nt,at),ij(s,a),a.tag=1,Zf(nt)?(s=!0,cg(a)):s=!1,ch(a,et),Gi(a,nt,at),Ii(a,nt,at,et),jj(null,a,nt,!0,s,et);case 19:return xj(s,a,et);case 22:return dj(s,a,et)}throw Error(p$1(156,a.tag))};function Fk(s,a){return ac(s,a)}function $k(s,a,et,nt){this.tag=s,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(s,a,et,nt){return new $k(s,a,et,nt)}function aj(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zk(s){if(typeof s=="function")return aj(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Da)return 11;if(s===Ga)return 14}return 2}function Pg(s,a){var et=s.alternate;return et===null?(et=Bg(s.tag,a,s.key,s.mode),et.elementType=s.elementType,et.type=s.type,et.stateNode=s.stateNode,et.alternate=s,s.alternate=et):(et.pendingProps=a,et.type=s.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=s.flags&14680064,et.childLanes=s.childLanes,et.lanes=s.lanes,et.child=s.child,et.memoizedProps=s.memoizedProps,et.memoizedState=s.memoizedState,et.updateQueue=s.updateQueue,a=s.dependencies,et.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},et.sibling=s.sibling,et.index=s.index,et.ref=s.ref,et}function Rg(s,a,et,nt,at,mt){var wt=2;if(nt=s,typeof s=="function")aj(s)&&(wt=1);else if(typeof s=="string")wt=5;else e:switch(s){case ya:return Tg(et.children,at,mt,a);case za:wt=8,at|=8;break;case Aa:return s=Bg(12,et,a,at|2),s.elementType=Aa,s.lanes=mt,s;case Ea:return s=Bg(13,et,a,at),s.elementType=Ea,s.lanes=mt,s;case Fa:return s=Bg(19,et,a,at),s.elementType=Fa,s.lanes=mt,s;case Ia:return pj(et,at,mt,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Ba:wt=10;break e;case Ca:wt=9;break e;case Da:wt=11;break e;case Ga:wt=14;break e;case Ha:wt=16,nt=null;break e}throw Error(p$1(130,s==null?s:typeof s,""))}return a=Bg(wt,et,a,at),a.elementType=s,a.type=nt,a.lanes=mt,a}function Tg(s,a,et,nt){return s=Bg(7,s,nt,a),s.lanes=et,s}function pj(s,a,et,nt){return s=Bg(22,s,nt,a),s.elementType=Ia,s.lanes=et,s.stateNode={isHidden:!1},s}function Qg(s,a,et){return s=Bg(6,s,null,a),s.lanes=et,s}function Sg(s,a,et){return a=Bg(4,s.children!==null?s.children:[],s.key,a),a.lanes=et,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function al(s,a,et,nt,at){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=at,this.mutableSourceEagerHydrationData=null}function bl(s,a,et,nt,at,mt,wt,$t,Ct){return s=new al(s,a,et,$t,Ct),a===1?(a=1,mt===!0&&(a|=8)):a=0,mt=Bg(3,null,null,a),s.current=mt,mt.stateNode=s,mt.memoizedState={element:nt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(mt),s}function cl(s,a,et){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:s,containerInfo:a,implementation:et}}function dl(s){if(!s)return Vf;s=s._reactInternals;e:{if(Vb(s)!==s||s.tag!==1)throw Error(p$1(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Zf(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(p$1(171))}if(s.tag===1){var et=s.type;if(Zf(et))return bg(s,et,a)}return a}function el(s,a,et,nt,at,mt,wt,$t,Ct){return s=bl(et,nt,!0,s,at,mt,wt,$t,Ct),s.context=dl(null),et=s.current,nt=R$2(),at=yi(et),mt=mh(nt,at),mt.callback=a??null,nh(et,mt,at),s.current.lanes=at,Ac(s,at,nt),Dk(s,nt),s}function fl(s,a,et,nt){var at=a.current,mt=R$2(),wt=yi(at);return et=dl(et),a.context===null?a.context=et:a.pendingContext=et,a=mh(mt,wt),a.payload={element:s},nt=nt===void 0?null:nt,nt!==null&&(a.callback=nt),s=nh(at,a,wt),s!==null&&(gi(s,at,wt,mt),oh(s,at,wt)),wt}function gl(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function hl(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var et=s.retryLane;s.retryLane=et!==0&&et<a?et:a}}function il(s,a){hl(s,a),(s=s.alternate)&&hl(s,a)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(s){console.error(s)};function ll(s){this._internalRoot=s}ml.prototype.render=ll.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(p$1(409));fl(s,a,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Rk(function(){fl(null,s,null,null)}),a[uf]=null}};function ml(s){this._internalRoot=s}ml.prototype.unstable_scheduleHydration=function(s){if(s){var a=Hc();s={blockedOn:null,target:s,priority:a};for(var et=0;et<Qc.length&&a!==0&&a<Qc[et].priority;et++);Qc.splice(et,0,s),et===0&&Vc(s)}};function nl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ol(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(s,a,et,nt,at){if(at){if(typeof nt=="function"){var mt=nt;nt=function(){var Dt=gl(wt);mt.call(Dt)}}var wt=el(a,nt,s,0,null,!1,!1,"",pl);return s._reactRootContainer=wt,s[uf]=wt.current,sf(s.nodeType===8?s.parentNode:s),Rk(),wt}for(;at=s.lastChild;)s.removeChild(at);if(typeof nt=="function"){var $t=nt;nt=function(){var Dt=gl(Ct);$t.call(Dt)}}var Ct=bl(s,0,!1,null,null,!1,!1,"",pl);return s._reactRootContainer=Ct,s[uf]=Ct.current,sf(s.nodeType===8?s.parentNode:s),Rk(function(){fl(a,Ct,et,nt)}),Ct}function rl(s,a,et,nt,at){var mt=et._reactRootContainer;if(mt){var wt=mt;if(typeof at=="function"){var $t=at;at=function(){var Ct=gl(wt);$t.call(Ct)}}fl(a,wt,s,at)}else wt=ql(et,a,s,at,nt);return gl(wt)}Ec=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var et=tc(a.pendingLanes);et!==0&&(Cc(a,et|1),Dk(a,B$1()),!(K$2&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var nt=ih(s,1);if(nt!==null){var at=R$2();gi(nt,s,1,at)}}),il(s,1)}};Fc=function(s){if(s.tag===13){var a=ih(s,134217728);if(a!==null){var et=R$2();gi(a,s,134217728,et)}il(s,134217728)}};Gc=function(s){if(s.tag===13){var a=yi(s),et=ih(s,a);if(et!==null){var nt=R$2();gi(et,s,a,nt)}il(s,a)}};Hc=function(){return C};Ic=function(s,a){var et=C;try{return C=s,a()}finally{C=et}};yb=function(s,a,et){switch(a){case"input":if(bb(s,et),a=et.name,et.type==="radio"&&a!=null){for(et=s;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<et.length;a++){var nt=et[a];if(nt!==s&&nt.form===s.form){var at=Db(nt);if(!at)throw Error(p$1(90));Wa(nt),bb(nt,at)}}}break;case"textarea":ib(s,et);break;case"select":a=et.value,a!=null&&fb(s,!!et.multiple,a,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Zb(s),s===null?null:s.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(s,a){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(a))throw Error(p$1(200));return cl(s,a,null,et)};reactDom_production_min.createRoot=function(s,a){if(!nl(s))throw Error(p$1(299));var et=!1,nt="",at=kl;return a!=null&&(a.unstable_strictMode===!0&&(et=!0),a.identifierPrefix!==void 0&&(nt=a.identifierPrefix),a.onRecoverableError!==void 0&&(at=a.onRecoverableError)),a=bl(s,1,!1,null,null,et,!1,nt,at),s[uf]=a.current,sf(s.nodeType===8?s.parentNode:s),new ll(a)};reactDom_production_min.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(p$1(188)):(s=Object.keys(s).join(","),Error(p$1(268,s)));return s=Zb(a),s=s===null?null:s.stateNode,s};reactDom_production_min.flushSync=function(s){return Rk(s)};reactDom_production_min.hydrate=function(s,a,et){if(!ol(a))throw Error(p$1(200));return rl(null,s,a,!0,et)};reactDom_production_min.hydrateRoot=function(s,a,et){if(!nl(s))throw Error(p$1(405));var nt=et!=null&&et.hydratedSources||null,at=!1,mt="",wt=kl;if(et!=null&&(et.unstable_strictMode===!0&&(at=!0),et.identifierPrefix!==void 0&&(mt=et.identifierPrefix),et.onRecoverableError!==void 0&&(wt=et.onRecoverableError)),a=el(a,null,s,1,et??null,at,!1,mt,wt),s[uf]=a.current,sf(s),nt)for(s=0;s<nt.length;s++)et=nt[s],at=et._getVersion,at=at(et._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[et,at]:a.mutableSourceEagerHydrationData.push(et,at);return new ml(a)};reactDom_production_min.render=function(s,a,et){if(!ol(a))throw Error(p$1(200));return rl(null,s,a,!1,et)};reactDom_production_min.unmountComponentAtNode=function(s){if(!ol(s))throw Error(p$1(40));return s._reactRootContainer?(Rk(function(){rl(null,null,s,!1,function(){s._reactRootContainer=null,s[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(s,a,et,nt){if(!ol(et))throw Error(p$1(200));if(s==null||s._reactInternals===void 0)throw Error(p$1(38));return rl(s,a,et,!1,nt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(s){console.error(s)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$2(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var m$4=reactDomExports;client$1.createRoot=m$4.createRoot,client$1.hydrateRoot=m$4.hydrateRoot;function setRef(s,a){if(typeof s=="function")return s(a);s!=null&&(s.current=a)}function composeRefs(...s){return a=>{let et=!1;const nt=s.map(at=>{const mt=setRef(at,a);return!et&&typeof mt=="function"&&(et=!0),mt});if(et)return()=>{for(let at=0;at<nt.length;at++){const mt=nt[at];typeof mt=="function"?mt():setRef(s[at],null)}}}}var Slot=reactExports.forwardRef((s,a)=>{const{children:et,...nt}=s,at=reactExports.Children.toArray(et),mt=at.find(isSlottable);if(mt){const wt=mt.props.children,$t=at.map(Ct=>Ct===mt?reactExports.Children.count(wt)>1?reactExports.Children.only(null):reactExports.isValidElement(wt)?wt.props.children:null:Ct);return jsxRuntimeExports.jsx(SlotClone,{...nt,ref:a,children:reactExports.isValidElement(wt)?reactExports.cloneElement(wt,void 0,$t):null})}return jsxRuntimeExports.jsx(SlotClone,{...nt,ref:a,children:et})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((s,a)=>{const{children:et,...nt}=s;if(reactExports.isValidElement(et)){const at=getElementRef$1(et),mt=mergeProps(nt,et.props);return et.type!==reactExports.Fragment&&(mt.ref=a?composeRefs(a,at):at),reactExports.cloneElement(et,mt)}return reactExports.Children.count(et)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:s})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s});function isSlottable(s){return reactExports.isValidElement(s)&&s.type===Slottable}function mergeProps(s,a){const et={...a};for(const nt in a){const at=s[nt],mt=a[nt];/^on[A-Z]/.test(nt)?at&&mt?et[nt]=(...$t)=>{mt(...$t),at(...$t)}:at&&(et[nt]=at):nt==="style"?et[nt]={...at,...mt}:nt==="className"&&(et[nt]=[at,mt].filter(Boolean).join(" "))}return{...s,...et}}function getElementRef$1(s){var nt,at;let a=(nt=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:nt.get,et=a&&"isReactWarning"in a&&a.isReactWarning;return et?s.ref:(a=(at=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:at.get,et=a&&"isReactWarning"in a&&a.isReactWarning,et?s.props.ref:s.props.ref||s.ref)}var extendStatics$1=function(s,a){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,nt){et.__proto__=nt}||function(et,nt){for(var at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&(et[at]=nt[at])},extendStatics$1(s,a)};function __extends$1(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");extendStatics$1(s,a);function et(){this.constructor=s}s.prototype=a===null?Object.create(a):(et.prototype=a.prototype,new et)}var __assign$1=function(){return __assign$1=Object.assign||function(a){for(var et,nt=1,at=arguments.length;nt<at;nt++){et=arguments[nt];for(var mt in et)Object.prototype.hasOwnProperty.call(et,mt)&&(a[mt]=et[mt])}return a},__assign$1.apply(this,arguments)};function __rest$1(s,a){var et={};for(var nt in s)Object.prototype.hasOwnProperty.call(s,nt)&&a.indexOf(nt)<0&&(et[nt]=s[nt]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(s);at<nt.length;at++)a.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(s,nt[at])&&(et[nt[at]]=s[nt[at]]);return et}function __awaiter(s,a,et,nt){function at(mt){return mt instanceof et?mt:new et(function(wt){wt(mt)})}return new(et||(et=Promise))(function(mt,wt){function $t(Ft){try{Dt(nt.next(Ft))}catch(jt){wt(jt)}}function Ct(Ft){try{Dt(nt.throw(Ft))}catch(jt){wt(jt)}}function Dt(Ft){Ft.done?mt(Ft.value):at(Ft.value).then($t,Ct)}Dt((nt=nt.apply(s,a||[])).next())})}function __generator$1(s,a){var et={label:0,sent:function(){if(mt[0]&1)throw mt[1];return mt[1]},trys:[],ops:[]},nt,at,mt,wt=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return wt.next=$t(0),wt.throw=$t(1),wt.return=$t(2),typeof Symbol=="function"&&(wt[Symbol.iterator]=function(){return this}),wt;function $t(Dt){return function(Ft){return Ct([Dt,Ft])}}function Ct(Dt){if(nt)throw new TypeError("Generator is already executing.");for(;wt&&(wt=0,Dt[0]&&(et=0)),et;)try{if(nt=1,at&&(mt=Dt[0]&2?at.return:Dt[0]?at.throw||((mt=at.return)&&mt.call(at),0):at.next)&&!(mt=mt.call(at,Dt[1])).done)return mt;switch(at=0,mt&&(Dt=[Dt[0]&2,mt.value]),Dt[0]){case 0:case 1:mt=Dt;break;case 4:return et.label++,{value:Dt[1],done:!1};case 5:et.label++,at=Dt[1],Dt=[0];continue;case 7:Dt=et.ops.pop(),et.trys.pop();continue;default:if(mt=et.trys,!(mt=mt.length>0&&mt[mt.length-1])&&(Dt[0]===6||Dt[0]===2)){et=0;continue}if(Dt[0]===3&&(!mt||Dt[1]>mt[0]&&Dt[1]<mt[3])){et.label=Dt[1];break}if(Dt[0]===6&&et.label<mt[1]){et.label=mt[1],mt=Dt;break}if(mt&&et.label<mt[2]){et.label=mt[2],et.ops.push(Dt);break}mt[2]&&et.ops.pop(),et.trys.pop();continue}Dt=a.call(s,et)}catch(Ft){Dt=[6,Ft],at=0}finally{nt=mt=0}if(Dt[0]&5)throw Dt[1];return{value:Dt[0]?Dt[1]:void 0,done:!0}}}function __read$3(s,a){var et=typeof Symbol=="function"&&s[Symbol.iterator];if(!et)return s;var nt=et.call(s),at,mt=[],wt;try{for(;(a===void 0||a-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spreadArray(s,a,et){if(et||arguments.length===2)for(var nt=0,at=a.length,mt;nt<at;nt++)(mt||!(nt in a))&&(mt||(mt=Array.prototype.slice.call(a,0,nt)),mt[nt]=a[nt]);return s.concat(mt||Array.prototype.slice.call(a))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef$1(s,a){return typeof s=="function"?s(a):s&&(s.current=a),s}function useCallbackRef$1(s,a){var et=reactExports.useState(function(){return{value:s,callback:a,facade:{get current(){return et.value},set current(nt){var at=et.value;at!==nt&&(et.value=nt,et.callback(nt,at))}}}})[0];return et.callback=a,et.facade}var useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs$1(s,a){var et=useCallbackRef$1(null,function(nt){return s.forEach(function(at){return assignRef$1(at,nt)})});return useIsomorphicLayoutEffect$2(function(){var nt=currentValues.get(et);if(nt){var at=new Set(nt),mt=new Set(s),wt=et.current;at.forEach(function($t){mt.has($t)||assignRef$1($t,null)}),mt.forEach(function($t){at.has($t)||assignRef$1($t,wt)})}currentValues.set(et,s)},[s]),et}function ItoI(s){return s}function innerCreateMedium(s,a){a===void 0&&(a=ItoI);var et=[],nt=!1,at={read:function(){if(nt)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return et.length?et[et.length-1]:s},useMedium:function(mt){var wt=a(mt,nt);return et.push(wt),function(){et=et.filter(function($t){return $t!==wt})}},assignSyncMedium:function(mt){for(nt=!0;et.length;){var wt=et;et=[],wt.forEach(mt)}et={push:function($t){return mt($t)},filter:function(){return et}}},assignMedium:function(mt){nt=!0;var wt=[];if(et.length){var $t=et;et=[],$t.forEach(mt),wt=et}var Ct=function(){var Ft=wt;wt=[],Ft.forEach(mt)},Dt=function(){return Promise.resolve().then(Ct)};Dt(),et={push:function(Ft){wt.push(Ft),Dt()},filter:function(Ft){return wt=wt.filter(Ft),et}}}};return at}function createMedium(s,a){return a===void 0&&(a=ItoI),innerCreateMedium(s,a)}function createSidecarMedium(s){s===void 0&&(s={});var a=innerCreateMedium(null);return a.options=__assign$1({async:!0,ssr:!1},s),a}var SideCar$1=function(s){var a=s.sideCar,et=__rest$1(s,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var nt=a.read();if(!nt)throw new Error("Sidecar medium not found");return reactExports.createElement(nt,__assign$1({},et))};SideCar$1.isSideCarExport=!0;function exportSidecar(s,a){return s.useMedium(a),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(s,a){var et=reactExports.useRef(null),nt=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),at=nt[0],mt=nt[1],wt=s.forwardProps,$t=s.children,Ct=s.className,Dt=s.removeScrollBar,Ft=s.enabled,jt=s.shards,Nt=s.sideCar,Lt=s.noIsolation,Ut=s.inert,Vt=s.allowPinchZoom,Yt=s.as,er=Yt===void 0?"div":Yt,tr=s.gapMode,nr=__rest$1(s,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),sr=Nt,dr=useMergeRefs$1([et,a]),br=__assign$1(__assign$1({},nr),at);return reactExports.createElement(reactExports.Fragment,null,Ft&&reactExports.createElement(sr,{sideCar:effectCar,removeScrollBar:Dt,shards:jt,noIsolation:Lt,inert:Ut,setCallbacks:mt,allowPinchZoom:!!Vt,lockRef:et,gapMode:tr}),wt?reactExports.cloneElement(reactExports.Children.only($t),__assign$1(__assign$1({},br),{ref:dr})):reactExports.createElement(er,__assign$1({},br,{className:Ct,ref:dr}),$t))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var s=document.createElement("style");s.type="text/css";var a=getNonce();return a&&s.setAttribute("nonce",a),s}function injectStyles(s,a){s.styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a))}function insertStyleTag(s){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(s)}var stylesheetSingleton=function(){var s=0,a=null;return{add:function(et){s==0&&(a=makeStyleTag())&&(injectStyles(a,et),insertStyleTag(a)),s++},remove:function(){s--,!s&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},styleHookSingleton=function(){var s=stylesheetSingleton();return function(a,et){reactExports.useEffect(function(){return s.add(a),function(){s.remove()}},[a&&et])}},styleSingleton=function(){var s=styleHookSingleton(),a=function(et){var nt=et.styles,at=et.dynamic;return s(nt,at),null};return a},zeroGap={left:0,top:0,right:0,gap:0},parse$3=function(s){return parseInt(s||"",10)||0},getOffset=function(s){var a=window.getComputedStyle(document.body),et=a[s==="padding"?"paddingLeft":"marginLeft"],nt=a[s==="padding"?"paddingTop":"marginTop"],at=a[s==="padding"?"paddingRight":"marginRight"];return[parse$3(et),parse$3(nt),parse$3(at)]},getGapWidth=function(s){if(s===void 0&&(s="margin"),typeof window>"u")return zeroGap;var a=getOffset(s),et=document.documentElement.clientWidth,nt=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,nt-et+a[2]-a[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles$1=function(s,a,et,nt){var at=s.left,mt=s.top,wt=s.right,$t=s.gap;return et===void 0&&(et="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(nt,`;
   padding-right: `).concat($t,"px ").concat(nt,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(nt,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(nt,";"),et==="margin"&&`
    padding-left: `.concat(at,`px;
    padding-top: `).concat(mt,`px;
    padding-right: `).concat(wt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat($t,"px ").concat(nt,`;
    `),et==="padding"&&"padding-right: ".concat($t,"px ").concat(nt,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat($t,"px ").concat(nt,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat($t,"px ").concat(nt,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(nt,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(nt,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat($t,`px;
  }
`)},getCurrentUseCounter=function(){var s=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(s)?s:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var s=getCurrentUseCounter()-1;s<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,s.toString())}},[])},RemoveScrollBar=function(s){var a=s.noRelative,et=s.noImportant,nt=s.gapMode,at=nt===void 0?"margin":nt;useLockAttribute();var mt=reactExports.useMemo(function(){return getGapWidth(at)},[at]);return reactExports.createElement(Style,{styles:getStyles$1(mt,!a,at,et?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(s){return s.tagName==="TEXTAREA"},elementCanBeScrolled=function(s,a){if(!(s instanceof Element))return!1;var et=window.getComputedStyle(s);return et[a]!=="hidden"&&!(et.overflowY===et.overflowX&&!alwaysContainsScroll(s)&&et[a]==="visible")},elementCouldBeVScrolled=function(s){return elementCanBeScrolled(s,"overflowY")},elementCouldBeHScrolled=function(s){return elementCanBeScrolled(s,"overflowX")},locationCouldBeScrolled=function(s,a){var et=a.ownerDocument,nt=a;do{typeof ShadowRoot<"u"&&nt instanceof ShadowRoot&&(nt=nt.host);var at=elementCouldBeScrolled(s,nt);if(at){var mt=getScrollVariables(s,nt),wt=mt[1],$t=mt[2];if(wt>$t)return!0}nt=nt.parentNode}while(nt&&nt!==et.body);return!1},getVScrollVariables=function(s){var a=s.scrollTop,et=s.scrollHeight,nt=s.clientHeight;return[a,et,nt]},getHScrollVariables=function(s){var a=s.scrollLeft,et=s.scrollWidth,nt=s.clientWidth;return[a,et,nt]},elementCouldBeScrolled=function(s,a){return s==="v"?elementCouldBeVScrolled(a):elementCouldBeHScrolled(a)},getScrollVariables=function(s,a){return s==="v"?getVScrollVariables(a):getHScrollVariables(a)},getDirectionFactor=function(s,a){return s==="h"&&a==="rtl"?-1:1},handleScroll=function(s,a,et,nt,at){var mt=getDirectionFactor(s,window.getComputedStyle(a).direction),wt=mt*nt,$t=et.target,Ct=a.contains($t),Dt=!1,Ft=wt>0,jt=0,Nt=0;do{var Lt=getScrollVariables(s,$t),Ut=Lt[0],Vt=Lt[1],Yt=Lt[2],er=Vt-Yt-mt*Ut;(Ut||er)&&elementCouldBeScrolled(s,$t)&&(jt+=er,Nt+=Ut),$t instanceof ShadowRoot?$t=$t.host:$t=$t.parentNode}while(!Ct&&$t!==document.body||Ct&&(a.contains($t)||a===$t));return(Ft&&Math.abs(jt)<1||!Ft&&Math.abs(Nt)<1)&&(Dt=!0),Dt},getTouchXY=function(s){return"changedTouches"in s?[s.changedTouches[0].clientX,s.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(s){return[s.deltaX,s.deltaY]},extractRef$1=function(s){return s&&"current"in s?s.current:s},deltaCompare=function(s,a){return s[0]===a[0]&&s[1]===a[1]},generateStyle=function(s){return`
  .block-interactivity-`.concat(s,` {pointer-events: none;}
  .allow-interactivity-`).concat(s,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(s){var a=reactExports.useRef([]),et=reactExports.useRef([0,0]),nt=reactExports.useRef(),at=reactExports.useState(idCounter++)[0],mt=reactExports.useState(styleSingleton)[0],wt=reactExports.useRef(s);reactExports.useEffect(function(){wt.current=s},[s]),reactExports.useEffect(function(){if(s.inert){document.body.classList.add("block-interactivity-".concat(at));var Vt=__spreadArray([s.lockRef.current],(s.shards||[]).map(extractRef$1),!0).filter(Boolean);return Vt.forEach(function(Yt){return Yt.classList.add("allow-interactivity-".concat(at))}),function(){document.body.classList.remove("block-interactivity-".concat(at)),Vt.forEach(function(Yt){return Yt.classList.remove("allow-interactivity-".concat(at))})}}},[s.inert,s.lockRef.current,s.shards]);var $t=reactExports.useCallback(function(Vt,Yt){if("touches"in Vt&&Vt.touches.length===2||Vt.type==="wheel"&&Vt.ctrlKey)return!wt.current.allowPinchZoom;var er=getTouchXY(Vt),tr=et.current,nr="deltaX"in Vt?Vt.deltaX:tr[0]-er[0],sr="deltaY"in Vt?Vt.deltaY:tr[1]-er[1],dr,br=Vt.target,vr=Math.abs(nr)>Math.abs(sr)?"h":"v";if("touches"in Vt&&vr==="h"&&br.type==="range")return!1;var yr=locationCouldBeScrolled(vr,br);if(!yr)return!0;if(yr?dr=vr:(dr=vr==="v"?"h":"v",yr=locationCouldBeScrolled(vr,br)),!yr)return!1;if(!nt.current&&"changedTouches"in Vt&&(nr||sr)&&(nt.current=dr),!dr)return!0;var $r=nt.current||dr;return handleScroll($r,Yt,Vt,$r==="h"?nr:sr)},[]),Ct=reactExports.useCallback(function(Vt){var Yt=Vt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==mt)){var er="deltaY"in Yt?getDeltaXY(Yt):getTouchXY(Yt),tr=a.current.filter(function(dr){return dr.name===Yt.type&&(dr.target===Yt.target||Yt.target===dr.shadowParent)&&deltaCompare(dr.delta,er)})[0];if(tr&&tr.should){Yt.cancelable&&Yt.preventDefault();return}if(!tr){var nr=(wt.current.shards||[]).map(extractRef$1).filter(Boolean).filter(function(dr){return dr.contains(Yt.target)}),sr=nr.length>0?$t(Yt,nr[0]):!wt.current.noIsolation;sr&&Yt.cancelable&&Yt.preventDefault()}}},[]),Dt=reactExports.useCallback(function(Vt,Yt,er,tr){var nr={name:Vt,delta:Yt,target:er,should:tr,shadowParent:getOutermostShadowParent(er)};a.current.push(nr),setTimeout(function(){a.current=a.current.filter(function(sr){return sr!==nr})},1)},[]),Ft=reactExports.useCallback(function(Vt){et.current=getTouchXY(Vt),nt.current=void 0},[]),jt=reactExports.useCallback(function(Vt){Dt(Vt.type,getDeltaXY(Vt),Vt.target,$t(Vt,s.lockRef.current))},[]),Nt=reactExports.useCallback(function(Vt){Dt(Vt.type,getTouchXY(Vt),Vt.target,$t(Vt,s.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(mt),s.setCallbacks({onScrollCapture:jt,onWheelCapture:jt,onTouchMoveCapture:Nt}),document.addEventListener("wheel",Ct,nonPassive),document.addEventListener("touchmove",Ct,nonPassive),document.addEventListener("touchstart",Ft,nonPassive),function(){lockStack=lockStack.filter(function(Vt){return Vt!==mt}),document.removeEventListener("wheel",Ct,nonPassive),document.removeEventListener("touchmove",Ct,nonPassive),document.removeEventListener("touchstart",Ft,nonPassive)}},[]);var Lt=s.removeScrollBar,Ut=s.inert;return reactExports.createElement(reactExports.Fragment,null,Ut?reactExports.createElement(mt,{styles:generateStyle(at)}):null,Lt?reactExports.createElement(RemoveScrollBar,{gapMode:s.gapMode}):null)}function getOutermostShadowParent(s){for(var a=null;s!==null;)s instanceof ShadowRoot&&(a=s.host,s=s.host),s=s.parentNode;return a}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(s,a){return reactExports.createElement(RemoveScroll,__assign$1({},s,{ref:a,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(s){if(typeof document>"u")return null;var a=Array.isArray(s)?s[0]:s;return a.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(s){return s&&(s.host||unwrapHost(s.parentNode))},correctTargets=function(s,a){return a.map(function(et){if(s.contains(et))return et;var nt=unwrapHost(et);return nt&&s.contains(nt)?nt:(console.error("aria-hidden",et,"in not contained inside",s,". Doing nothing"),null)}).filter(function(et){return!!et})},applyAttributeToOthers=function(s,a,et,nt){var at=correctTargets(a,Array.isArray(s)?s:[s]);markerMap[et]||(markerMap[et]=new WeakMap);var mt=markerMap[et],wt=[],$t=new Set,Ct=new Set(at),Dt=function(jt){!jt||$t.has(jt)||($t.add(jt),Dt(jt.parentNode))};at.forEach(Dt);var Ft=function(jt){!jt||Ct.has(jt)||Array.prototype.forEach.call(jt.children,function(Nt){if($t.has(Nt))Ft(Nt);else try{var Lt=Nt.getAttribute(nt),Ut=Lt!==null&&Lt!=="false",Vt=(counterMap.get(Nt)||0)+1,Yt=(mt.get(Nt)||0)+1;counterMap.set(Nt,Vt),mt.set(Nt,Yt),wt.push(Nt),Vt===1&&Ut&&uncontrolledNodes.set(Nt,!0),Yt===1&&Nt.setAttribute(et,"true"),Ut||Nt.setAttribute(nt,"true")}catch(er){console.error("aria-hidden: cannot operate on ",Nt,er)}})};return Ft(a),$t.clear(),lockCount++,function(){wt.forEach(function(jt){var Nt=counterMap.get(jt)-1,Lt=mt.get(jt)-1;counterMap.set(jt,Nt),mt.set(jt,Lt),Nt||(uncontrolledNodes.has(jt)||jt.removeAttribute(nt),uncontrolledNodes.delete(jt)),Lt||jt.removeAttribute(et)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(s,a,et){et===void 0&&(et="data-aria-hidden");var nt=Array.from(Array.isArray(s)?s:[s]),at=getDefaultParent(s);return at?(nt.push.apply(nt,Array.from(at.querySelectorAll("[aria-live]"))),applyAttributeToOthers(nt,at,et,"aria-hidden")):function(){return null}};function r$4(s){var a,et,nt="";if(typeof s=="string"||typeof s=="number")nt+=s;else if(typeof s=="object")if(Array.isArray(s)){var at=s.length;for(a=0;a<at;a++)s[a]&&(et=r$4(s[a]))&&(nt&&(nt+=" "),nt+=et)}else for(et in s)s[et]&&(nt&&(nt+=" "),nt+=et);return nt}function clsx(){for(var s,a,et=0,nt="",at=arguments.length;et<at;et++)(s=arguments[et])&&(a=r$4(s))&&(nt&&(nt+=" "),nt+=a);return nt}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$7(){}function functionalUpdate(s,a){return typeof s=="function"?s(a):s}function isValidTimeout(s){return typeof s=="number"&&s>=0&&s!==1/0}function timeUntilStale(s,a){return Math.max(s+(a||0)-Date.now(),0)}function resolveStaleTime(s,a){return typeof s=="function"?s(a):s}function resolveEnabled(s,a){return typeof s=="function"?s(a):s}function matchQuery(s,a){const{type:et="all",exact:nt,fetchStatus:at,predicate:mt,queryKey:wt,stale:$t}=s;if(wt){if(nt){if(a.queryHash!==hashQueryKeyByOptions(wt,a.options))return!1}else if(!partialMatchKey(a.queryKey,wt))return!1}if(et!=="all"){const Ct=a.isActive();if(et==="active"&&!Ct||et==="inactive"&&Ct)return!1}return!(typeof $t=="boolean"&&a.isStale()!==$t||at&&at!==a.state.fetchStatus||mt&&!mt(a))}function matchMutation(s,a){const{exact:et,status:nt,predicate:at,mutationKey:mt}=s;if(mt){if(!a.options.mutationKey)return!1;if(et){if(hashKey(a.options.mutationKey)!==hashKey(mt))return!1}else if(!partialMatchKey(a.options.mutationKey,mt))return!1}return!(nt&&a.state.status!==nt||at&&!at(a))}function hashQueryKeyByOptions(s,a){return((a==null?void 0:a.queryKeyHashFn)||hashKey)(s)}function hashKey(s){return JSON.stringify(s,(a,et)=>isPlainObject$2(et)?Object.keys(et).sort().reduce((nt,at)=>(nt[at]=et[at],nt),{}):et)}function partialMatchKey(s,a){return s===a?!0:typeof s!=typeof a?!1:s&&a&&typeof s=="object"&&typeof a=="object"?!Object.keys(a).some(et=>!partialMatchKey(s[et],a[et])):!1}function replaceEqualDeep(s,a){if(s===a)return s;const et=isPlainArray(s)&&isPlainArray(a);if(et||isPlainObject$2(s)&&isPlainObject$2(a)){const nt=et?s:Object.keys(s),at=nt.length,mt=et?a:Object.keys(a),wt=mt.length,$t=et?[]:{};let Ct=0;for(let Dt=0;Dt<wt;Dt++){const Ft=et?Dt:mt[Dt];(!et&&nt.includes(Ft)||et)&&s[Ft]===void 0&&a[Ft]===void 0?($t[Ft]=void 0,Ct++):($t[Ft]=replaceEqualDeep(s[Ft],a[Ft]),$t[Ft]===s[Ft]&&s[Ft]!==void 0&&Ct++)}return at===wt&&Ct===at?s:$t}return a}function shallowEqualObjects(s,a){if(!a||Object.keys(s).length!==Object.keys(a).length)return!1;for(const et in s)if(s[et]!==a[et])return!1;return!0}function isPlainArray(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function isPlainObject$2(s){if(!hasObjectPrototype(s))return!1;const a=s.constructor;if(a===void 0)return!0;const et=a.prototype;return!(!hasObjectPrototype(et)||!et.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function hasObjectPrototype(s){return Object.prototype.toString.call(s)==="[object Object]"}function sleep$1(s){return new Promise(a=>{setTimeout(a,s)})}function replaceData(s,a,et){return typeof et.structuralSharing=="function"?et.structuralSharing(s,a):et.structuralSharing!==!1?replaceEqualDeep(s,a):a}function addToEnd(s,a,et=0){const nt=[...s,a];return et&&nt.length>et?nt.slice(1):nt}function addToStart(s,a,et=0){const nt=[a,...s];return et&&nt.length>et?nt.slice(0,-1):nt}var skipToken=Symbol();function ensureQueryFn(s,a){return!s.queryFn&&(a!=null&&a.initialPromise)?()=>a.initialPromise:!s.queryFn||s.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Rl,Xs,Wl,Ju,FocusManager=(Ju=class extends Subscribable{constructor(){super();uo(this,Rl);uo(this,Xs);uo(this,Wl);Kn(this,Wl,a=>{if(!isServer&&window.addEventListener){const et=()=>a();return window.addEventListener("visibilitychange",et,!1),()=>{window.removeEventListener("visibilitychange",et)}}})}onSubscribe(){Dr(this,Xs)||this.setEventListener(Dr(this,Wl))}onUnsubscribe(){var a;this.hasListeners()||((a=Dr(this,Xs))==null||a.call(this),Kn(this,Xs,void 0))}setEventListener(a){var et;Kn(this,Wl,a),(et=Dr(this,Xs))==null||et.call(this),Kn(this,Xs,a(nt=>{typeof nt=="boolean"?this.setFocused(nt):this.onFocus()}))}setFocused(a){Dr(this,Rl)!==a&&(Kn(this,Rl,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(et=>{et(a)})}isFocused(){var a;return typeof Dr(this,Rl)=="boolean"?Dr(this,Rl):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},Rl=new WeakMap,Xs=new WeakMap,Wl=new WeakMap,Ju),focusManager=new FocusManager,Kl,Zs,Yl,_d,OnlineManager=(_d=class extends Subscribable{constructor(){super();uo(this,Kl,!0);uo(this,Zs);uo(this,Yl);Kn(this,Yl,a=>{if(!isServer&&window.addEventListener){const et=()=>a(!0),nt=()=>a(!1);return window.addEventListener("online",et,!1),window.addEventListener("offline",nt,!1),()=>{window.removeEventListener("online",et),window.removeEventListener("offline",nt)}}})}onSubscribe(){Dr(this,Zs)||this.setEventListener(Dr(this,Yl))}onUnsubscribe(){var a;this.hasListeners()||((a=Dr(this,Zs))==null||a.call(this),Kn(this,Zs,void 0))}setEventListener(a){var et;Kn(this,Yl,a),(et=Dr(this,Zs))==null||et.call(this),Kn(this,Zs,a(this.setOnline.bind(this)))}setOnline(a){Dr(this,Kl)!==a&&(Kn(this,Kl,a),this.listeners.forEach(nt=>{nt(a)}))}isOnline(){return Dr(this,Kl)}},Kl=new WeakMap,Zs=new WeakMap,Yl=new WeakMap,_d),onlineManager=new OnlineManager;function pendingThenable(){let s,a;const et=new Promise((at,mt)=>{s=at,a=mt});et.status="pending",et.catch(()=>{});function nt(at){Object.assign(et,at),delete et.resolve,delete et.reject}return et.resolve=at=>{nt({status:"fulfilled",value:at}),s(at)},et.reject=at=>{nt({status:"rejected",reason:at}),a(at)},et}function defaultRetryDelay(s){return Math.min(1e3*2**s,3e4)}function canFetch(s){return(s??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function isCancelledError(s){return s instanceof CancelledError}function createRetryer(s){let a=!1,et=0,nt=!1,at;const mt=pendingThenable(),wt=Vt=>{var Yt;nt||(Nt(new CancelledError(Vt)),(Yt=s.abort)==null||Yt.call(s))},$t=()=>{a=!0},Ct=()=>{a=!1},Dt=()=>focusManager.isFocused()&&(s.networkMode==="always"||onlineManager.isOnline())&&s.canRun(),Ft=()=>canFetch(s.networkMode)&&s.canRun(),jt=Vt=>{var Yt;nt||(nt=!0,(Yt=s.onSuccess)==null||Yt.call(s,Vt),at==null||at(),mt.resolve(Vt))},Nt=Vt=>{var Yt;nt||(nt=!0,(Yt=s.onError)==null||Yt.call(s,Vt),at==null||at(),mt.reject(Vt))},Lt=()=>new Promise(Vt=>{var Yt;at=er=>{(nt||Dt())&&Vt(er)},(Yt=s.onPause)==null||Yt.call(s)}).then(()=>{var Vt;at=void 0,nt||(Vt=s.onContinue)==null||Vt.call(s)}),Ut=()=>{if(nt)return;let Vt;const Yt=et===0?s.initialPromise:void 0;try{Vt=Yt??s.fn()}catch(er){Vt=Promise.reject(er)}Promise.resolve(Vt).then(jt).catch(er=>{var br;if(nt)return;const tr=s.retry??(isServer?0:3),nr=s.retryDelay??defaultRetryDelay,sr=typeof nr=="function"?nr(et,er):nr,dr=tr===!0||typeof tr=="number"&&et<tr||typeof tr=="function"&&tr(et,er);if(a||!dr){Nt(er);return}et++,(br=s.onFail)==null||br.call(s,et,er),sleep$1(sr).then(()=>Dt()?void 0:Lt()).then(()=>{a?Nt(er):Ut()})})};return{promise:mt,cancel:wt,continue:()=>(at==null||at(),mt),cancelRetry:$t,continueRetry:Ct,canStart:Ft,start:()=>(Ft()?Ut():Lt().then(Ut),mt)}}function createNotifyManager(){let s=[],a=0,et=$t=>{$t()},nt=$t=>{$t()},at=$t=>setTimeout($t,0);const mt=$t=>{a?s.push($t):at(()=>{et($t)})},wt=()=>{const $t=s;s=[],$t.length&&at(()=>{nt(()=>{$t.forEach(Ct=>{et(Ct)})})})};return{batch:$t=>{let Ct;a++;try{Ct=$t()}finally{a--,a||wt()}return Ct},batchCalls:$t=>(...Ct)=>{mt(()=>{$t(...Ct)})},schedule:mt,setNotifyFunction:$t=>{et=$t},setBatchNotifyFunction:$t=>{nt=$t},setScheduler:$t=>{at=$t}}}var notifyManager=createNotifyManager(),Il,_f,Removable=(_f=class{constructor(){uo(this,Il)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Kn(this,Il,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(isServer?1/0:5*60*1e3))}clearGcTimeout(){Dr(this,Il)&&(clearTimeout(Dr(this,Il)),Kn(this,Il,void 0))}},Il=new WeakMap,_f),Xl,Zl,Ss,Pl,ls,mu,Ol,Es,Ls,_h,Query=(_h=class extends Removable{constructor(a){super();uo(this,Es);uo(this,Xl);uo(this,Zl);uo(this,Ss);uo(this,Pl);uo(this,ls);uo(this,mu);uo(this,Ol);Kn(this,Ol,!1),Kn(this,mu,a.defaultOptions),this.setOptions(a.options),this.observers=[],Kn(this,Pl,a.client),Kn(this,Ss,Dr(this,Pl).getQueryCache()),this.queryKey=a.queryKey,this.queryHash=a.queryHash,Kn(this,Xl,getDefaultState$1(this.options)),this.state=a.state??Dr(this,Xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var a;return(a=Dr(this,ls))==null?void 0:a.promise}setOptions(a){this.options={...Dr(this,mu),...a},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Dr(this,Ss).remove(this)}setData(a,et){const nt=replaceData(this.state.data,a,this.options);return eo(this,Es,Ls).call(this,{data:nt,type:"success",dataUpdatedAt:et==null?void 0:et.updatedAt,manual:et==null?void 0:et.manual}),nt}setState(a,et){eo(this,Es,Ls).call(this,{type:"setState",state:a,setStateOptions:et})}cancel(a){var nt,at;const et=(nt=Dr(this,ls))==null?void 0:nt.promise;return(at=Dr(this,ls))==null||at.cancel(a),et?et.then(noop$7).catch(noop$7):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Dr(this,Xl))}isActive(){return this.observers.some(a=>resolveEnabled(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(a=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,a)}onFocus(){var et;const a=this.observers.find(nt=>nt.shouldFetchOnWindowFocus());a==null||a.refetch({cancelRefetch:!1}),(et=Dr(this,ls))==null||et.continue()}onOnline(){var et;const a=this.observers.find(nt=>nt.shouldFetchOnReconnect());a==null||a.refetch({cancelRefetch:!1}),(et=Dr(this,ls))==null||et.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),Dr(this,Ss).notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(et=>et!==a),this.observers.length||(Dr(this,ls)&&(Dr(this,Ol)?Dr(this,ls).cancel({revert:!0}):Dr(this,ls).cancelRetry()),this.scheduleGc()),Dr(this,Ss).notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||eo(this,Es,Ls).call(this,{type:"invalidate"})}fetch(a,et){var Ct,Dt,Ft;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(et!=null&&et.cancelRefetch))this.cancel({silent:!0});else if(Dr(this,ls))return Dr(this,ls).continueRetry(),Dr(this,ls).promise}if(a&&this.setOptions(a),!this.options.queryFn){const jt=this.observers.find(Nt=>Nt.options.queryFn);jt&&this.setOptions(jt.options)}const nt=new AbortController,at=jt=>{Object.defineProperty(jt,"signal",{enumerable:!0,get:()=>(Kn(this,Ol,!0),nt.signal)})},mt=()=>{const jt=ensureQueryFn(this.options,et),Nt={client:Dr(this,Pl),queryKey:this.queryKey,meta:this.meta};return at(Nt),Kn(this,Ol,!1),this.options.persister?this.options.persister(jt,Nt,this):jt(Nt)},wt={fetchOptions:et,options:this.options,queryKey:this.queryKey,client:Dr(this,Pl),state:this.state,fetchFn:mt};at(wt),(Ct=this.options.behavior)==null||Ct.onFetch(wt,this),Kn(this,Zl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((Dt=wt.fetchOptions)==null?void 0:Dt.meta))&&eo(this,Es,Ls).call(this,{type:"fetch",meta:(Ft=wt.fetchOptions)==null?void 0:Ft.meta});const $t=jt=>{var Nt,Lt,Ut,Vt;isCancelledError(jt)&&jt.silent||eo(this,Es,Ls).call(this,{type:"error",error:jt}),isCancelledError(jt)||((Lt=(Nt=Dr(this,Ss).config).onError)==null||Lt.call(Nt,jt,this),(Vt=(Ut=Dr(this,Ss).config).onSettled)==null||Vt.call(Ut,this.state.data,jt,this)),this.scheduleGc()};return Kn(this,ls,createRetryer({initialPromise:et==null?void 0:et.initialPromise,fn:wt.fetchFn,abort:nt.abort.bind(nt),onSuccess:jt=>{var Nt,Lt,Ut,Vt;if(jt===void 0){$t(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(jt)}catch(Yt){$t(Yt);return}(Lt=(Nt=Dr(this,Ss).config).onSuccess)==null||Lt.call(Nt,jt,this),(Vt=(Ut=Dr(this,Ss).config).onSettled)==null||Vt.call(Ut,jt,this.state.error,this),this.scheduleGc()},onError:$t,onFail:(jt,Nt)=>{eo(this,Es,Ls).call(this,{type:"failed",failureCount:jt,error:Nt})},onPause:()=>{eo(this,Es,Ls).call(this,{type:"pause"})},onContinue:()=>{eo(this,Es,Ls).call(this,{type:"continue"})},retry:wt.options.retry,retryDelay:wt.options.retryDelay,networkMode:wt.options.networkMode,canRun:()=>!0})),Dr(this,ls).start()}},Xl=new WeakMap,Zl=new WeakMap,Ss=new WeakMap,Pl=new WeakMap,ls=new WeakMap,mu=new WeakMap,Ol=new WeakMap,Es=new WeakSet,Ls=function(a){const et=nt=>{switch(a.type){case"failed":return{...nt,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...nt,fetchStatus:"paused"};case"continue":return{...nt,fetchStatus:"fetching"};case"fetch":return{...nt,...fetchState(nt.data,this.options),fetchMeta:a.meta??null};case"success":return{...nt,data:a.data,dataUpdateCount:nt.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const at=a.error;return isCancelledError(at)&&at.revert&&Dr(this,Zl)?{...Dr(this,Zl),fetchStatus:"idle"}:{...nt,error:at,errorUpdateCount:nt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:nt.fetchFailureCount+1,fetchFailureReason:at,fetchStatus:"idle",status:"error"};case"invalidate":return{...nt,isInvalidated:!0};case"setState":return{...nt,...a.state}}};this.state=et(this.state),notifyManager.batch(()=>{this.observers.forEach(nt=>{nt.onQueryUpdate()}),Dr(this,Ss).notify({query:this,type:"updated",action:a})})},_h);function fetchState(s,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(a.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(s){const a=typeof s.initialData=="function"?s.initialData():s.initialData,et=a!==void 0,nt=et?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:et?nt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:et?"success":"pending",fetchStatus:"idle"}}var Ms,ep,QueryCache=(ep=class extends Subscribable{constructor(a={}){super();uo(this,Ms);this.config=a,Kn(this,Ms,new Map)}build(a,et,nt){const at=et.queryKey,mt=et.queryHash??hashQueryKeyByOptions(at,et);let wt=this.get(mt);return wt||(wt=new Query({client:a,queryKey:at,queryHash:mt,options:a.defaultQueryOptions(et),state:nt,defaultOptions:a.getQueryDefaults(at)}),this.add(wt)),wt}add(a){Dr(this,Ms).has(a.queryHash)||(Dr(this,Ms).set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const et=Dr(this,Ms).get(a.queryHash);et&&(a.destroy(),et===a&&Dr(this,Ms).delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return Dr(this,Ms).get(a)}getAll(){return[...Dr(this,Ms).values()]}find(a){const et={exact:!0,...a};return this.getAll().find(nt=>matchQuery(et,nt))}findAll(a={}){const et=this.getAll();return Object.keys(a).length>0?et.filter(nt=>matchQuery(a,nt)):et}notify(a){notifyManager.batch(()=>{this.listeners.forEach(et=>{et(a)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},Ms=new WeakMap,ep),Bs,us,Dl,Fs,Hs,tp,Mutation=(tp=class extends Removable{constructor(a){super();uo(this,Fs);uo(this,Bs);uo(this,us);uo(this,Dl);this.mutationId=a.mutationId,Kn(this,us,a.mutationCache),Kn(this,Bs,[]),this.state=a.state||getDefaultState(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){Dr(this,Bs).includes(a)||(Dr(this,Bs).push(a),this.clearGcTimeout(),Dr(this,us).notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){Kn(this,Bs,Dr(this,Bs).filter(et=>et!==a)),this.scheduleGc(),Dr(this,us).notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){Dr(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():Dr(this,us).remove(this))}continue(){var a;return((a=Dr(this,Dl))==null?void 0:a.continue())??this.execute(this.state.variables)}async execute(a){var at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt,er,tr,nr,sr,dr,br,vr;Kn(this,Dl,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(a):Promise.reject(new Error("No mutationFn found")),onFail:(yr,$r)=>{eo(this,Fs,Hs).call(this,{type:"failed",failureCount:yr,error:$r})},onPause:()=>{eo(this,Fs,Hs).call(this,{type:"pause"})},onContinue:()=>{eo(this,Fs,Hs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Dr(this,us).canRun(this)}));const et=this.state.status==="pending",nt=!Dr(this,Dl).canStart();try{if(!et){eo(this,Fs,Hs).call(this,{type:"pending",variables:a,isPaused:nt}),await((mt=(at=Dr(this,us).config).onMutate)==null?void 0:mt.call(at,a,this));const $r=await(($t=(wt=this.options).onMutate)==null?void 0:$t.call(wt,a));$r!==this.state.context&&eo(this,Fs,Hs).call(this,{type:"pending",context:$r,variables:a,isPaused:nt})}const yr=await Dr(this,Dl).start();return await((Dt=(Ct=Dr(this,us).config).onSuccess)==null?void 0:Dt.call(Ct,yr,a,this.state.context,this)),await((jt=(Ft=this.options).onSuccess)==null?void 0:jt.call(Ft,yr,a,this.state.context)),await((Lt=(Nt=Dr(this,us).config).onSettled)==null?void 0:Lt.call(Nt,yr,null,this.state.variables,this.state.context,this)),await((Vt=(Ut=this.options).onSettled)==null?void 0:Vt.call(Ut,yr,null,a,this.state.context)),eo(this,Fs,Hs).call(this,{type:"success",data:yr}),yr}catch(yr){try{throw await((er=(Yt=Dr(this,us).config).onError)==null?void 0:er.call(Yt,yr,a,this.state.context,this)),await((nr=(tr=this.options).onError)==null?void 0:nr.call(tr,yr,a,this.state.context)),await((dr=(sr=Dr(this,us).config).onSettled)==null?void 0:dr.call(sr,void 0,yr,this.state.variables,this.state.context,this)),await((vr=(br=this.options).onSettled)==null?void 0:vr.call(br,void 0,yr,a,this.state.context)),yr}finally{eo(this,Fs,Hs).call(this,{type:"error",error:yr})}}finally{Dr(this,us).runNext(this)}}},Bs=new WeakMap,us=new WeakMap,Dl=new WeakMap,Fs=new WeakSet,Hs=function(a){const et=nt=>{switch(a.type){case"failed":return{...nt,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...nt,isPaused:!0};case"continue":return{...nt,isPaused:!1};case"pending":return{...nt,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...nt,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...nt,data:void 0,error:a.error,failureCount:nt.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=et(this.state),notifyManager.batch(()=>{Dr(this,Bs).forEach(nt=>{nt.onMutationUpdate(a)}),Dr(this,us).notify({mutation:this,type:"updated",action:a})})},tp);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qs,Cs,gu,rp,MutationCache=(rp=class extends Subscribable{constructor(a={}){super();uo(this,qs);uo(this,Cs);uo(this,gu);this.config=a,Kn(this,qs,new Set),Kn(this,Cs,new Map),Kn(this,gu,0)}build(a,et,nt){const at=new Mutation({mutationCache:this,mutationId:++Al(this,gu)._,options:a.defaultMutationOptions(et),state:nt});return this.add(at),at}add(a){Dr(this,qs).add(a);const et=scopeFor(a);if(typeof et=="string"){const nt=Dr(this,Cs).get(et);nt?nt.push(a):Dr(this,Cs).set(et,[a])}this.notify({type:"added",mutation:a})}remove(a){if(Dr(this,qs).delete(a)){const et=scopeFor(a);if(typeof et=="string"){const nt=Dr(this,Cs).get(et);if(nt)if(nt.length>1){const at=nt.indexOf(a);at!==-1&&nt.splice(at,1)}else nt[0]===a&&Dr(this,Cs).delete(et)}}this.notify({type:"removed",mutation:a})}canRun(a){const et=scopeFor(a);if(typeof et=="string"){const nt=Dr(this,Cs).get(et),at=nt==null?void 0:nt.find(mt=>mt.state.status==="pending");return!at||at===a}else return!0}runNext(a){var nt;const et=scopeFor(a);if(typeof et=="string"){const at=(nt=Dr(this,Cs).get(et))==null?void 0:nt.find(mt=>mt!==a&&mt.state.isPaused);return(at==null?void 0:at.continue())??Promise.resolve()}else return Promise.resolve()}clear(){notifyManager.batch(()=>{Dr(this,qs).forEach(a=>{this.notify({type:"removed",mutation:a})}),Dr(this,qs).clear(),Dr(this,Cs).clear()})}getAll(){return Array.from(Dr(this,qs))}find(a){const et={exact:!0,...a};return this.getAll().find(nt=>matchMutation(et,nt))}findAll(a={}){return this.getAll().filter(et=>matchMutation(a,et))}notify(a){notifyManager.batch(()=>{this.listeners.forEach(et=>{et(a)})})}resumePausedMutations(){const a=this.getAll().filter(et=>et.state.isPaused);return notifyManager.batch(()=>Promise.all(a.map(et=>et.continue().catch(noop$7))))}},qs=new WeakMap,Cs=new WeakMap,gu=new WeakMap,rp);function scopeFor(s){var a;return(a=s.options.scope)==null?void 0:a.id}function infiniteQueryBehavior(s){return{onFetch:(a,et)=>{var Ft,jt,Nt,Lt,Ut;const nt=a.options,at=(Nt=(jt=(Ft=a.fetchOptions)==null?void 0:Ft.meta)==null?void 0:jt.fetchMore)==null?void 0:Nt.direction,mt=((Lt=a.state.data)==null?void 0:Lt.pages)||[],wt=((Ut=a.state.data)==null?void 0:Ut.pageParams)||[];let $t={pages:[],pageParams:[]},Ct=0;const Dt=async()=>{let Vt=!1;const Yt=nr=>{Object.defineProperty(nr,"signal",{enumerable:!0,get:()=>(a.signal.aborted?Vt=!0:a.signal.addEventListener("abort",()=>{Vt=!0}),a.signal)})},er=ensureQueryFn(a.options,a.fetchOptions),tr=async(nr,sr,dr)=>{if(Vt)return Promise.reject();if(sr==null&&nr.pages.length)return Promise.resolve(nr);const br={client:a.client,queryKey:a.queryKey,pageParam:sr,direction:dr?"backward":"forward",meta:a.options.meta};Yt(br);const vr=await er(br),{maxPages:yr}=a.options,$r=dr?addToStart:addToEnd;return{pages:$r(nr.pages,vr,yr),pageParams:$r(nr.pageParams,sr,yr)}};if(at&&mt.length){const nr=at==="backward",sr=nr?getPreviousPageParam:getNextPageParam,dr={pages:mt,pageParams:wt},br=sr(nt,dr);$t=await tr(dr,br,nr)}else{const nr=s??mt.length;do{const sr=Ct===0?wt[0]??nt.initialPageParam:getNextPageParam(nt,$t);if(Ct>0&&sr==null)break;$t=await tr($t,sr),Ct++}while(Ct<nr)}return $t};a.options.persister?a.fetchFn=()=>{var Vt,Yt;return(Yt=(Vt=a.options).persister)==null?void 0:Yt.call(Vt,Dt,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},et)}:a.fetchFn=Dt}}}function getNextPageParam(s,{pages:a,pageParams:et}){const nt=a.length-1;return a.length>0?s.getNextPageParam(a[nt],a,et[nt],et):void 0}function getPreviousPageParam(s,{pages:a,pageParams:et}){var nt;return a.length>0?(nt=s.getPreviousPageParam)==null?void 0:nt.call(s,a[0],a,et[0],et):void 0}var $a,Qs,Js,Ql,Jl,_l,_c,eu,np,QueryClient=(np=class{constructor(s={}){uo(this,$a);uo(this,Qs);uo(this,Js);uo(this,Ql);uo(this,Jl);uo(this,_l);uo(this,_c);uo(this,eu);Kn(this,$a,s.queryCache||new QueryCache),Kn(this,Qs,s.mutationCache||new MutationCache),Kn(this,Js,s.defaultOptions||{}),Kn(this,Ql,new Map),Kn(this,Jl,new Map),Kn(this,_l,0)}mount(){Al(this,_l)._++,Dr(this,_l)===1&&(Kn(this,_c,focusManager.subscribe(async s=>{s&&(await this.resumePausedMutations(),Dr(this,$a).onFocus())})),Kn(this,eu,onlineManager.subscribe(async s=>{s&&(await this.resumePausedMutations(),Dr(this,$a).onOnline())})))}unmount(){var s,a;Al(this,_l)._--,Dr(this,_l)===0&&((s=Dr(this,_c))==null||s.call(this),Kn(this,_c,void 0),(a=Dr(this,eu))==null||a.call(this),Kn(this,eu,void 0))}isFetching(s){return Dr(this,$a).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return Dr(this,Qs).findAll({...s,status:"pending"}).length}getQueryData(s){var et;const a=this.defaultQueryOptions({queryKey:s});return(et=Dr(this,$a).get(a.queryHash))==null?void 0:et.state.data}ensureQueryData(s){const a=this.defaultQueryOptions(s),et=Dr(this,$a).build(this,a),nt=et.state.data;return nt===void 0?this.fetchQuery(s):(s.revalidateIfStale&&et.isStaleByTime(resolveStaleTime(a.staleTime,et))&&this.prefetchQuery(a),Promise.resolve(nt))}getQueriesData(s){return Dr(this,$a).findAll(s).map(({queryKey:a,state:et})=>{const nt=et.data;return[a,nt]})}setQueryData(s,a,et){const nt=this.defaultQueryOptions({queryKey:s}),at=Dr(this,$a).get(nt.queryHash),mt=at==null?void 0:at.state.data,wt=functionalUpdate(a,mt);if(wt!==void 0)return Dr(this,$a).build(this,nt).setData(wt,{...et,manual:!0})}setQueriesData(s,a,et){return notifyManager.batch(()=>Dr(this,$a).findAll(s).map(({queryKey:nt})=>[nt,this.setQueryData(nt,a,et)]))}getQueryState(s){var et;const a=this.defaultQueryOptions({queryKey:s});return(et=Dr(this,$a).get(a.queryHash))==null?void 0:et.state}removeQueries(s){const a=Dr(this,$a);notifyManager.batch(()=>{a.findAll(s).forEach(et=>{a.remove(et)})})}resetQueries(s,a){const et=Dr(this,$a);return notifyManager.batch(()=>(et.findAll(s).forEach(nt=>{nt.reset()}),this.refetchQueries({type:"active",...s},a)))}cancelQueries(s,a={}){const et={revert:!0,...a},nt=notifyManager.batch(()=>Dr(this,$a).findAll(s).map(at=>at.cancel(et)));return Promise.all(nt).then(noop$7).catch(noop$7)}invalidateQueries(s,a={}){return notifyManager.batch(()=>(Dr(this,$a).findAll(s).forEach(et=>{et.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},a)))}refetchQueries(s,a={}){const et={...a,cancelRefetch:a.cancelRefetch??!0},nt=notifyManager.batch(()=>Dr(this,$a).findAll(s).filter(at=>!at.isDisabled()).map(at=>{let mt=at.fetch(void 0,et);return et.throwOnError||(mt=mt.catch(noop$7)),at.state.fetchStatus==="paused"?Promise.resolve():mt}));return Promise.all(nt).then(noop$7)}fetchQuery(s){const a=this.defaultQueryOptions(s);a.retry===void 0&&(a.retry=!1);const et=Dr(this,$a).build(this,a);return et.isStaleByTime(resolveStaleTime(a.staleTime,et))?et.fetch(a):Promise.resolve(et.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(noop$7).catch(noop$7)}fetchInfiniteQuery(s){return s.behavior=infiniteQueryBehavior(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(noop$7).catch(noop$7)}ensureInfiniteQueryData(s){return s.behavior=infiniteQueryBehavior(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return onlineManager.isOnline()?Dr(this,Qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Dr(this,$a)}getMutationCache(){return Dr(this,Qs)}getDefaultOptions(){return Dr(this,Js)}setDefaultOptions(s){Kn(this,Js,s)}setQueryDefaults(s,a){Dr(this,Ql).set(hashKey(s),{queryKey:s,defaultOptions:a})}getQueryDefaults(s){const a=[...Dr(this,Ql).values()],et={};return a.forEach(nt=>{partialMatchKey(s,nt.queryKey)&&Object.assign(et,nt.defaultOptions)}),et}setMutationDefaults(s,a){Dr(this,Jl).set(hashKey(s),{mutationKey:s,defaultOptions:a})}getMutationDefaults(s){const a=[...Dr(this,Jl).values()],et={};return a.forEach(nt=>{partialMatchKey(s,nt.mutationKey)&&Object.assign(et,nt.defaultOptions)}),et}defaultQueryOptions(s){if(s._defaulted)return s;const a={...Dr(this,Js).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return a.queryHash||(a.queryHash=hashQueryKeyByOptions(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===skipToken&&(a.enabled=!1),a}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...Dr(this,Js).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){Dr(this,$a).clear(),Dr(this,Qs).clear()}},$a=new WeakMap,Qs=new WeakMap,Js=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,_l=new WeakMap,_c=new WeakMap,eu=new WeakMap,np),ms,Bo,_u,ds,Ml,tu,yl,js,vu,ru,nu,Bl,Fl,xl,iu,zo,hu,ku,Iu,Pu,Ou,Du,Mu,Bu,Cp,ip,QueryObserver=(ip=class extends Subscribable{constructor(a,et){super();uo(this,zo);uo(this,ms);uo(this,Bo);uo(this,_u);uo(this,ds);uo(this,Ml);uo(this,tu);uo(this,yl);uo(this,js);uo(this,vu);uo(this,ru);uo(this,nu);uo(this,Bl);uo(this,Fl);uo(this,xl);uo(this,iu,new Set);this.options=et,Kn(this,ms,a),Kn(this,js,null),Kn(this,yl,pendingThenable()),this.options.experimental_prefetchInRender||Dr(this,yl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(et)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Dr(this,Bo).addObserver(this),shouldFetchOnMount(Dr(this,Bo),this.options)?eo(this,zo,hu).call(this):this.updateResult(),eo(this,zo,Ou).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Dr(this,Bo),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Dr(this,Bo),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,eo(this,zo,Du).call(this),eo(this,zo,Mu).call(this),Dr(this,Bo).removeObserver(this)}setOptions(a,et){const nt=this.options,at=Dr(this,Bo);if(this.options=Dr(this,ms).defaultQueryOptions(a),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,Dr(this,Bo))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");eo(this,zo,Bu).call(this),Dr(this,Bo).setOptions(this.options),nt._defaulted&&!shallowEqualObjects(this.options,nt)&&Dr(this,ms).getQueryCache().notify({type:"observerOptionsUpdated",query:Dr(this,Bo),observer:this});const mt=this.hasListeners();mt&&shouldFetchOptionally(Dr(this,Bo),at,this.options,nt)&&eo(this,zo,hu).call(this),this.updateResult(et),mt&&(Dr(this,Bo)!==at||resolveEnabled(this.options.enabled,Dr(this,Bo))!==resolveEnabled(nt.enabled,Dr(this,Bo))||resolveStaleTime(this.options.staleTime,Dr(this,Bo))!==resolveStaleTime(nt.staleTime,Dr(this,Bo)))&&eo(this,zo,ku).call(this);const wt=eo(this,zo,Iu).call(this);mt&&(Dr(this,Bo)!==at||resolveEnabled(this.options.enabled,Dr(this,Bo))!==resolveEnabled(nt.enabled,Dr(this,Bo))||wt!==Dr(this,xl))&&eo(this,zo,Pu).call(this,wt)}getOptimisticResult(a){const et=Dr(this,ms).getQueryCache().build(Dr(this,ms),a),nt=this.createResult(et,a);return shouldAssignObserverCurrentProperties(this,nt)&&(Kn(this,ds,nt),Kn(this,tu,this.options),Kn(this,Ml,Dr(this,Bo).state)),nt}getCurrentResult(){return Dr(this,ds)}trackResult(a,et){const nt={};return Object.keys(a).forEach(at=>{Object.defineProperty(nt,at,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(at),et==null||et(at),a[at])})}),nt}trackProp(a){Dr(this,iu).add(a)}getCurrentQuery(){return Dr(this,Bo)}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){const et=Dr(this,ms).defaultQueryOptions(a),nt=Dr(this,ms).getQueryCache().build(Dr(this,ms),et);return nt.fetch().then(()=>this.createResult(nt,et))}fetch(a){return eo(this,zo,hu).call(this,{...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),Dr(this,ds)))}createResult(a,et){var yr;const nt=Dr(this,Bo),at=this.options,mt=Dr(this,ds),wt=Dr(this,Ml),$t=Dr(this,tu),Dt=a!==nt?a.state:Dr(this,_u),{state:Ft}=a;let jt={...Ft},Nt=!1,Lt;if(et._optimisticResults){const $r=this.hasListeners(),Sr=!$r&&shouldFetchOnMount(a,et),wr=$r&&shouldFetchOptionally(a,nt,et,at);(Sr||wr)&&(jt={...jt,...fetchState(Ft.data,a.options)}),et._optimisticResults==="isRestoring"&&(jt.fetchStatus="idle")}let{error:Ut,errorUpdatedAt:Vt,status:Yt}=jt;if(et.select&&jt.data!==void 0)if(mt&&jt.data===(wt==null?void 0:wt.data)&&et.select===Dr(this,vu))Lt=Dr(this,ru);else try{Kn(this,vu,et.select),Lt=et.select(jt.data),Lt=replaceData(mt==null?void 0:mt.data,Lt,et),Kn(this,ru,Lt),Kn(this,js,null)}catch($r){Kn(this,js,$r)}else Lt=jt.data;if(et.placeholderData!==void 0&&Lt===void 0&&Yt==="pending"){let $r;if(mt!=null&&mt.isPlaceholderData&&et.placeholderData===($t==null?void 0:$t.placeholderData))$r=mt.data;else if($r=typeof et.placeholderData=="function"?et.placeholderData((yr=Dr(this,nu))==null?void 0:yr.state.data,Dr(this,nu)):et.placeholderData,et.select&&$r!==void 0)try{$r=et.select($r),Kn(this,js,null)}catch(Sr){Kn(this,js,Sr)}$r!==void 0&&(Yt="success",Lt=replaceData(mt==null?void 0:mt.data,$r,et),Nt=!0)}Dr(this,js)&&(Ut=Dr(this,js),Lt=Dr(this,ru),Vt=Date.now(),Yt="error");const er=jt.fetchStatus==="fetching",tr=Yt==="pending",nr=Yt==="error",sr=tr&&er,dr=Lt!==void 0,vr={status:Yt,fetchStatus:jt.fetchStatus,isPending:tr,isSuccess:Yt==="success",isError:nr,isInitialLoading:sr,isLoading:sr,data:Lt,dataUpdatedAt:jt.dataUpdatedAt,error:Ut,errorUpdatedAt:Vt,failureCount:jt.fetchFailureCount,failureReason:jt.fetchFailureReason,errorUpdateCount:jt.errorUpdateCount,isFetched:jt.dataUpdateCount>0||jt.errorUpdateCount>0,isFetchedAfterMount:jt.dataUpdateCount>Dt.dataUpdateCount||jt.errorUpdateCount>Dt.errorUpdateCount,isFetching:er,isRefetching:er&&!tr,isLoadingError:nr&&!dr,isPaused:jt.fetchStatus==="paused",isPlaceholderData:Nt,isRefetchError:nr&&dr,isStale:isStale(a,et),refetch:this.refetch,promise:Dr(this,yl)};if(this.options.experimental_prefetchInRender){const $r=fr=>{vr.status==="error"?fr.reject(vr.error):vr.data!==void 0&&fr.resolve(vr.data)},Sr=()=>{const fr=Kn(this,yl,vr.promise=pendingThenable());$r(fr)},wr=Dr(this,yl);switch(wr.status){case"pending":a.queryHash===nt.queryHash&&$r(wr);break;case"fulfilled":(vr.status==="error"||vr.data!==wr.value)&&Sr();break;case"rejected":(vr.status!=="error"||vr.error!==wr.reason)&&Sr();break}}return vr}updateResult(a){const et=Dr(this,ds),nt=this.createResult(Dr(this,Bo),this.options);if(Kn(this,Ml,Dr(this,Bo).state),Kn(this,tu,this.options),Dr(this,Ml).data!==void 0&&Kn(this,nu,Dr(this,Bo)),shallowEqualObjects(nt,et))return;Kn(this,ds,nt);const at={},mt=()=>{if(!et)return!0;const{notifyOnChangeProps:wt}=this.options,$t=typeof wt=="function"?wt():wt;if($t==="all"||!$t&&!Dr(this,iu).size)return!0;const Ct=new Set($t??Dr(this,iu));return this.options.throwOnError&&Ct.add("error"),Object.keys(Dr(this,ds)).some(Dt=>{const Ft=Dt;return Dr(this,ds)[Ft]!==et[Ft]&&Ct.has(Ft)})};(a==null?void 0:a.listeners)!==!1&&mt()&&(at.listeners=!0),eo(this,zo,Cp).call(this,{...at,...a})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&eo(this,zo,Ou).call(this)}},ms=new WeakMap,Bo=new WeakMap,_u=new WeakMap,ds=new WeakMap,Ml=new WeakMap,tu=new WeakMap,yl=new WeakMap,js=new WeakMap,vu=new WeakMap,ru=new WeakMap,nu=new WeakMap,Bl=new WeakMap,Fl=new WeakMap,xl=new WeakMap,iu=new WeakMap,zo=new WeakSet,hu=function(a){eo(this,zo,Bu).call(this);let et=Dr(this,Bo).fetch(this.options,a);return a!=null&&a.throwOnError||(et=et.catch(noop$7)),et},ku=function(){eo(this,zo,Du).call(this);const a=resolveStaleTime(this.options.staleTime,Dr(this,Bo));if(isServer||Dr(this,ds).isStale||!isValidTimeout(a))return;const nt=timeUntilStale(Dr(this,ds).dataUpdatedAt,a)+1;Kn(this,Bl,setTimeout(()=>{Dr(this,ds).isStale||this.updateResult()},nt))},Iu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Dr(this,Bo)):this.options.refetchInterval)??!1},Pu=function(a){eo(this,zo,Mu).call(this),Kn(this,xl,a),!(isServer||resolveEnabled(this.options.enabled,Dr(this,Bo))===!1||!isValidTimeout(Dr(this,xl))||Dr(this,xl)===0)&&Kn(this,Fl,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&eo(this,zo,hu).call(this)},Dr(this,xl)))},Ou=function(){eo(this,zo,ku).call(this),eo(this,zo,Pu).call(this,eo(this,zo,Iu).call(this))},Du=function(){Dr(this,Bl)&&(clearTimeout(Dr(this,Bl)),Kn(this,Bl,void 0))},Mu=function(){Dr(this,Fl)&&(clearInterval(Dr(this,Fl)),Kn(this,Fl,void 0))},Bu=function(){const a=Dr(this,ms).getQueryCache().build(Dr(this,ms),this.options);if(a===Dr(this,Bo))return;const et=Dr(this,Bo);Kn(this,Bo,a),Kn(this,_u,a.state),this.hasListeners()&&(et==null||et.removeObserver(this),a.addObserver(this))},Cp=function(a){notifyManager.batch(()=>{a.listeners&&this.listeners.forEach(et=>{et(Dr(this,ds))}),Dr(this,ms).getQueryCache().notify({query:Dr(this,Bo),type:"observerResultsUpdated"})})},ip);function shouldLoadOnMount(s,a){return resolveEnabled(a.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&a.retryOnMount===!1)}function shouldFetchOnMount(s,a){return shouldLoadOnMount(s,a)||s.state.data!==void 0&&shouldFetchOn(s,a,a.refetchOnMount)}function shouldFetchOn(s,a,et){if(resolveEnabled(a.enabled,s)!==!1){const nt=typeof et=="function"?et(s):et;return nt==="always"||nt!==!1&&isStale(s,a)}return!1}function shouldFetchOptionally(s,a,et,nt){return(s!==a||resolveEnabled(nt.enabled,s)===!1)&&(!et.suspense||s.state.status!=="error")&&isStale(s,et)}function isStale(s,a){return resolveEnabled(a.enabled,s)!==!1&&s.isStaleByTime(resolveStaleTime(a.staleTime,s))}function shouldAssignObserverCurrentProperties(s,a){return!shallowEqualObjects(s.getCurrentResult(),a)}var wl,Sl,gs,Us,zs,xu,Fu,op,MutationObserver$1=(op=class extends Subscribable{constructor(et,nt){super();uo(this,zs);uo(this,wl);uo(this,Sl);uo(this,gs);uo(this,Us);Kn(this,wl,et),this.setOptions(nt),this.bindMethods(),eo(this,zs,xu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(et){var at;const nt=this.options;this.options=Dr(this,wl).defaultMutationOptions(et),shallowEqualObjects(this.options,nt)||Dr(this,wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Dr(this,gs),observer:this}),nt!=null&&nt.mutationKey&&this.options.mutationKey&&hashKey(nt.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():((at=Dr(this,gs))==null?void 0:at.state.status)==="pending"&&Dr(this,gs).setOptions(this.options)}onUnsubscribe(){var et;this.hasListeners()||(et=Dr(this,gs))==null||et.removeObserver(this)}onMutationUpdate(et){eo(this,zs,xu).call(this),eo(this,zs,Fu).call(this,et)}getCurrentResult(){return Dr(this,Sl)}reset(){var et;(et=Dr(this,gs))==null||et.removeObserver(this),Kn(this,gs,void 0),eo(this,zs,xu).call(this),eo(this,zs,Fu).call(this)}mutate(et,nt){var at;return Kn(this,Us,nt),(at=Dr(this,gs))==null||at.removeObserver(this),Kn(this,gs,Dr(this,wl).getMutationCache().build(Dr(this,wl),this.options)),Dr(this,gs).addObserver(this),Dr(this,gs).execute(et)}},wl=new WeakMap,Sl=new WeakMap,gs=new WeakMap,Us=new WeakMap,zs=new WeakSet,xu=function(){var nt;const et=((nt=Dr(this,gs))==null?void 0:nt.state)??getDefaultState();Kn(this,Sl,{...et,isPending:et.status==="pending",isSuccess:et.status==="success",isError:et.status==="error",isIdle:et.status==="idle",mutate:this.mutate,reset:this.reset})},Fu=function(et){notifyManager.batch(()=>{var nt,at,mt,wt,$t,Ct,Dt,Ft;if(Dr(this,Us)&&this.hasListeners()){const jt=Dr(this,Sl).variables,Nt=Dr(this,Sl).context;(et==null?void 0:et.type)==="success"?((at=(nt=Dr(this,Us)).onSuccess)==null||at.call(nt,et.data,jt,Nt),(wt=(mt=Dr(this,Us)).onSettled)==null||wt.call(mt,et.data,null,jt,Nt)):(et==null?void 0:et.type)==="error"&&((Ct=($t=Dr(this,Us)).onError)==null||Ct.call($t,et.error,jt,Nt),(Ft=(Dt=Dr(this,Us)).onSettled)==null||Ft.call(Dt,void 0,et.error,jt,Nt))}this.listeners.forEach(jt=>{jt(Dr(this,Sl))})})},op),QueryClientContext=reactExports.createContext(void 0),useQueryClient=s=>{const a=reactExports.useContext(QueryClientContext);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},QueryClientProvider=({client:s,children:a})=>(reactExports.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:s,children:a})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext);function shouldThrowError(s,a){return typeof s=="function"?s(...a):!!s}function noop$6(){}var ensurePreventErrorBoundaryRetry=(s,a)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(a.isReset()||(s.retryOnMount=!1))},useClearResetErrorBoundary=s=>{reactExports.useEffect(()=>{s.clearReset()},[s])},getHasError=({result:s,errorResetBoundary:a,throwOnError:et,query:nt,suspense:at})=>s.isError&&!a.isReset()&&!s.isFetching&&nt&&(at&&s.data===void 0||shouldThrowError(et,[s.error,nt])),ensureSuspenseTimers=s=>{const a=s.staleTime;s.suspense&&(s.staleTime=typeof a=="function"?(...et)=>Math.max(a(...et),1e3):Math.max(a??1e3,1e3),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3)))},willFetch=(s,a)=>s.isLoading&&s.isFetching&&!a,shouldSuspend=(s,a)=>(s==null?void 0:s.suspense)&&a.isPending,fetchOptimistic=(s,a,et)=>a.fetchOptimistic(s).catch(()=>{et.clearReset()});function useBaseQuery(s,a,et){var jt,Nt,Lt,Ut,Vt;const nt=useQueryClient(),at=useIsRestoring(),mt=useQueryErrorResetBoundary(),wt=nt.defaultQueryOptions(s);(Nt=(jt=nt.getDefaultOptions().queries)==null?void 0:jt._experimental_beforeQuery)==null||Nt.call(jt,wt),wt._optimisticResults=at?"isRestoring":"optimistic",ensureSuspenseTimers(wt),ensurePreventErrorBoundaryRetry(wt,mt),useClearResetErrorBoundary(mt);const $t=!nt.getQueryCache().get(wt.queryHash),[Ct]=reactExports.useState(()=>new a(nt,wt)),Dt=Ct.getOptimisticResult(wt),Ft=!at&&s.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(Yt=>{const er=Ft?Ct.subscribe(notifyManager.batchCalls(Yt)):noop$6;return Ct.updateResult(),er},[Ct,Ft]),()=>Ct.getCurrentResult(),()=>Ct.getCurrentResult()),reactExports.useEffect(()=>{Ct.setOptions(wt,{listeners:!1})},[wt,Ct]),shouldSuspend(wt,Dt))throw fetchOptimistic(wt,Ct,mt);if(getHasError({result:Dt,errorResetBoundary:mt,throwOnError:wt.throwOnError,query:nt.getQueryCache().get(wt.queryHash),suspense:wt.suspense}))throw Dt.error;if((Ut=(Lt=nt.getDefaultOptions().queries)==null?void 0:Lt._experimental_afterQuery)==null||Ut.call(Lt,wt,Dt),wt.experimental_prefetchInRender&&!isServer&&willFetch(Dt,at)){const Yt=$t?fetchOptimistic(wt,Ct,mt):(Vt=nt.getQueryCache().get(wt.queryHash))==null?void 0:Vt.promise;Yt==null||Yt.catch(noop$6).finally(()=>{Ct.updateResult()})}return wt.notifyOnChangeProps?Dt:Ct.trackResult(Dt)}function useQuery(s,a){return useBaseQuery(s,QueryObserver)}function useMutation(s,a){const et=useQueryClient(),[nt]=reactExports.useState(()=>new MutationObserver$1(et,s));reactExports.useEffect(()=>{nt.setOptions(s)},[nt,s]);const at=reactExports.useSyncExternalStore(reactExports.useCallback(wt=>nt.subscribe(notifyManager.batchCalls(wt)),[nt]),()=>nt.getCurrentResult(),()=>nt.getCurrentResult()),mt=reactExports.useCallback((wt,$t)=>{nt.mutate(wt,$t).catch(noop$6)},[nt]);if(at.error&&shouldThrowError(nt.options.throwOnError,[at.error]))throw at.error;return{...at,mutate:mt,mutateAsync:at.mutate}}const __vite_import_meta_env__$2={},createStoreImpl=s=>{let a;const et=new Set,nt=(Ft,jt)=>{const Nt=typeof Ft=="function"?Ft(a):Ft;if(!Object.is(Nt,a)){const Lt=a;a=jt??(typeof Nt!="object"||Nt===null)?Nt:Object.assign({},a,Nt),et.forEach(Ut=>Ut(a,Lt))}},at=()=>a,Ct={setState:nt,getState:at,getInitialState:()=>Dt,subscribe:Ft=>(et.add(Ft),()=>et.delete(Ft)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),et.clear()}},Dt=a=s(nt,at,Ct);return Ct},createStore$1=s=>s?createStoreImpl(s):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(s,a){var et=a(),nt=useState({inst:{value:et,getSnapshot:a}}),at=nt[0].inst,mt=nt[1];return useLayoutEffect(function(){at.value=et,at.getSnapshot=a,checkIfSnapshotChanged(at)&&mt({inst:at})},[s,et,a]),useEffect$1(function(){return checkIfSnapshotChanged(at)&&mt({inst:at}),s(function(){checkIfSnapshotChanged(at)&&mt({inst:at})})},[s]),useDebugValue$2(et),et}function checkIfSnapshotChanged(s){var a=s.getSnapshot;s=s.value;try{var et=a();return!objectIs$1(s,et)}catch{return!0}}function useSyncExternalStore$1(s,a){return a()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(s,a,et,nt,at){var mt=useRef(null);if(mt.current===null){var wt={hasValue:!1,value:null};mt.current=wt}else wt=mt.current;mt=useMemo(function(){function Ct(Lt){if(!Dt){if(Dt=!0,Ft=Lt,Lt=nt(Lt),at!==void 0&&wt.hasValue){var Ut=wt.value;if(at(Ut,Lt))return jt=Ut}return jt=Lt}if(Ut=jt,objectIs(Ft,Lt))return Ut;var Vt=nt(Lt);return at!==void 0&&at(Ut,Vt)?(Ft=Lt,Ut):(Ft=Lt,jt=Vt)}var Dt=!1,Ft,jt,Nt=et===void 0?null:et;return[function(){return Ct(a())},Nt===null?void 0:function(){return Ct(Nt())}]},[a,et,nt,at]);var $t=useSyncExternalStore(s,mt[0],mt[1]);return useEffect(function(){wt.hasValue=!0,wt.value=$t},[$t]),useDebugValue$1($t),$t};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs$2(withSelectorExports),__vite_import_meta_env__$1={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$1=s=>s;function useStore(s,a=identity$1,et){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&et&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const nt=useSyncExternalStoreWithSelector(s.subscribe,s.getState,s.getServerState||s.getInitialState,a,et);return useDebugValue(nt),nt}const createImpl=s=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof s!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const a=typeof s=="function"?createStore$1(s):s,et=(nt,at)=>useStore(a,nt,at);return Object.assign(et,a),et},create$3=s=>s?createImpl(s):createImpl;var __classPrivateFieldGet$1=function(s,a,et,nt){if(et==="a"&&!nt)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!nt:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?nt:et==="a"?nt.call(s):nt?nt.value:a.get(s)},__classPrivateFieldSet$1=function(s,a,et,nt,at){if(nt==="m")throw new TypeError("Private method is not writable");if(nt==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!at:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nt==="a"?at.call(s,et):at?at.value=et:a.set(s,et),et},_AppReadyEvent_detail;let wallets;const registeredWalletsSet=new Set;function addRegisteredWallet(s){cachedWalletsArray=void 0,registeredWalletsSet.add(s)}function removeRegisteredWallet(s){cachedWalletsArray=void 0,registeredWalletsSet.delete(s)}const listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$6,on}),typeof window>"u"))return wallets;const s=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:a})=>a(s))}catch(a){console.error(`wallet-standard:register-wallet event listener could not be added
`,a)}try{window.dispatchEvent(new AppReadyEvent(s))}catch(a){console.error(`wallet-standard:app-ready event could not be dispatched
`,a)}return wallets}function register(...s){var a;return s=s.filter(et=>!registeredWalletsSet.has(et)),s.length?(s.forEach(et=>addRegisteredWallet(et)),(a=listeners.register)==null||a.forEach(et=>guard$1(()=>et(...s))),function(){var nt;s.forEach(at=>removeRegisteredWallet(at)),(nt=listeners.unregister)==null||nt.forEach(at=>guard$1(()=>at(...s)))}):()=>{}}let cachedWalletsArray;function get$6(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on(s,a){var et;return(et=listeners[s])!=null&&et.push(a)||(listeners[s]=[a]),function(){var at;listeners[s]=(at=listeners[s])==null?void 0:at.filter(mt=>a!==mt)}}function guard$1(s){try{s()}catch(a){console.error(a)}}class AppReadyEvent extends Event{get detail(){return __classPrivateFieldGet$1(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(a){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet$1(this,_AppReadyEvent_detail,a,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;var __classPrivateFieldGet=function(s,a,et,nt){if(et==="a"&&!nt)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?s!==a||!nt:!a.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return et==="m"?nt:et==="a"?nt.call(s):nt?nt.value:a.get(s)},__classPrivateFieldSet=function(s,a,et,nt,at){if(nt==="m")throw new TypeError("Private method is not writable");if(nt==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?s!==a||!at:!a.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nt==="a"?at.call(s,et):at?at.value=et:a.set(s,et),et},_ReadonlyWalletAccount_address,_ReadonlyWalletAccount_publicKey,_ReadonlyWalletAccount_chains,_ReadonlyWalletAccount_features,_ReadonlyWalletAccount_label,_ReadonlyWalletAccount_icon;class ReadonlyWalletAccount{get address(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_address,"f")}get publicKey(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_publicKey,"f").slice()}get chains(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_chains,"f").slice()}get features(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_features,"f").slice()}get label(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_label,"f")}get icon(){return __classPrivateFieldGet(this,_ReadonlyWalletAccount_icon,"f")}constructor(a){_ReadonlyWalletAccount_address.set(this,void 0),_ReadonlyWalletAccount_publicKey.set(this,void 0),_ReadonlyWalletAccount_chains.set(this,void 0),_ReadonlyWalletAccount_features.set(this,void 0),_ReadonlyWalletAccount_label.set(this,void 0),_ReadonlyWalletAccount_icon.set(this,void 0),new.target===ReadonlyWalletAccount&&Object.freeze(this),__classPrivateFieldSet(this,_ReadonlyWalletAccount_address,a.address,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_publicKey,a.publicKey.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_chains,a.chains.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_features,a.features.slice(),"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_label,a.label,"f"),__classPrivateFieldSet(this,_ReadonlyWalletAccount_icon,a.icon,"f")}}_ReadonlyWalletAccount_address=new WeakMap,_ReadonlyWalletAccount_publicKey=new WeakMap,_ReadonlyWalletAccount_chains=new WeakMap,_ReadonlyWalletAccount_features=new WeakMap,_ReadonlyWalletAccount_label=new WeakMap,_ReadonlyWalletAccount_icon=new WeakMap;/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$2(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function isArrayOf(s,a){return Array.isArray(a)?a.length===0?!0:s?a.every(et=>typeof et=="string"):a.every(et=>Number.isSafeInteger(et)):!1}function afn(s){if(typeof s!="function")throw new Error("function expected");return!0}function astr(s,a){if(typeof a!="string")throw new Error(`${s}: string expected`);return!0}function anumber$1(s){if(!Number.isSafeInteger(s))throw new Error(`invalid integer: ${s}`)}function aArr(s){if(!Array.isArray(s))throw new Error("array expected")}function astrArr(s,a){if(!isArrayOf(!0,a))throw new Error(`${s}: array of strings expected`)}function anumArr(s,a){if(!isArrayOf(!1,a))throw new Error(`${s}: array of numbers expected`)}function chain(...s){const a=mt=>mt,et=(mt,wt)=>$t=>mt(wt($t)),nt=s.map(mt=>mt.encode).reduceRight(et,a),at=s.map(mt=>mt.decode).reduce(et,a);return{encode:nt,decode:at}}function alphabet(s){const a=typeof s=="string"?s.split(""):s,et=a.length;astrArr("alphabet",a);const nt=new Map(a.map((at,mt)=>[at,mt]));return{encode:at=>(aArr(at),at.map(mt=>{if(!Number.isSafeInteger(mt)||mt<0||mt>=et)throw new Error(`alphabet.encode: digit index outside alphabet "${mt}". Allowed: ${s}`);return a[mt]})),decode:at=>(aArr(at),at.map(mt=>{astr("alphabet.decode",mt);const wt=nt.get(mt);if(wt===void 0)throw new Error(`Unknown letter: "${mt}". Allowed: ${s}`);return wt}))}}function join$1(s=""){return astr("join",s),{encode:a=>(astrArr("join.decode",a),a.join(s)),decode:a=>(astr("join.decode",a),a.split(s))}}function convertRadix(s,a,et){if(a<2)throw new Error(`convertRadix: invalid from=${a}, base cannot be less than 2`);if(et<2)throw new Error(`convertRadix: invalid to=${et}, base cannot be less than 2`);if(aArr(s),!s.length)return[];let nt=0;const at=[],mt=Array.from(s,$t=>{if(anumber$1($t),$t<0||$t>=a)throw new Error(`invalid integer: ${$t}`);return $t}),wt=mt.length;for(;;){let $t=0,Ct=!0;for(let Dt=nt;Dt<wt;Dt++){const Ft=mt[Dt],jt=a*$t,Nt=jt+Ft;if(!Number.isSafeInteger(Nt)||jt/a!==$t||Nt-Ft!==jt)throw new Error("convertRadix: carry overflow");const Lt=Nt/et;$t=Nt%et;const Ut=Math.floor(Lt);if(mt[Dt]=Ut,!Number.isSafeInteger(Ut)||Ut*et+$t!==Nt)throw new Error("convertRadix: carry overflow");if(Ct)Ut?Ct=!1:nt=Dt;else continue}if(at.push($t),Ct)break}for(let $t=0;$t<s.length-1&&s[$t]===0;$t++)at.push(0);return at.reverse()}const gcd=(s,a)=>a===0?s:gcd(a,s%a),radix2carry=(s,a)=>s+(a-gcd(s,a)),powers$1=(()=>{let s=[];for(let a=0;a<40;a++)s.push(2**a);return s})();function convertRadix2(s,a,et,nt){if(aArr(s),a<=0||a>32)throw new Error(`convertRadix2: wrong from=${a}`);if(et<=0||et>32)throw new Error(`convertRadix2: wrong to=${et}`);if(radix2carry(a,et)>32)throw new Error(`convertRadix2: carry overflow from=${a} to=${et} carryBits=${radix2carry(a,et)}`);let at=0,mt=0;const wt=powers$1[a],$t=powers$1[et]-1,Ct=[];for(const Dt of s){if(anumber$1(Dt),Dt>=wt)throw new Error(`convertRadix2: invalid data word=${Dt} from=${a}`);if(at=at<<a|Dt,mt+a>32)throw new Error(`convertRadix2: carry overflow pos=${mt} from=${a}`);for(mt+=a;mt>=et;mt-=et)Ct.push((at>>mt-et&$t)>>>0);const Ft=powers$1[mt];if(Ft===void 0)throw new Error("invalid carry");at&=Ft-1}if(at=at<<et-mt&$t,!nt&&mt>=a)throw new Error("Excess padding");if(!nt&&at>0)throw new Error(`Non-zero padding: ${at}`);return nt&&mt>0&&Ct.push(at>>>0),Ct}function radix(s){anumber$1(s);const a=2**8;return{encode:et=>{if(!isBytes$2(et))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(et),a,s)},decode:et=>(anumArr("radix.decode",et),Uint8Array.from(convertRadix(et,s,a)))}}function radix2(s,a=!1){if(anumber$1(s),s<=0||s>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,s)>32||radix2carry(s,8)>32)throw new Error("radix2: carry overflow");return{encode:et=>{if(!isBytes$2(et))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(et),8,s,!a)},decode:et=>(anumArr("radix2.decode",et),Uint8Array.from(convertRadix2(et,s,8,a)))}}function unsafeWrapper(s){return afn(s),function(...a){try{return s.apply(null,a)}catch{}}}const genBase58=s=>chain(radix(58),alphabet(s),join$1("")),base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),BECH_ALPHABET=chain(alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join$1("")),POLYMOD_GENERATORS=[996825010,642813549,513874426,1027748829,705979059];function bech32Polymod(s){const a=s>>25;let et=(s&33554431)<<5;for(let nt=0;nt<POLYMOD_GENERATORS.length;nt++)(a>>nt&1)===1&&(et^=POLYMOD_GENERATORS[nt]);return et}function bechChecksum(s,a,et=1){const nt=s.length;let at=1;for(let mt=0;mt<nt;mt++){const wt=s.charCodeAt(mt);if(wt<33||wt>126)throw new Error(`Invalid prefix (${s})`);at=bech32Polymod(at)^wt>>5}at=bech32Polymod(at);for(let mt=0;mt<nt;mt++)at=bech32Polymod(at)^s.charCodeAt(mt)&31;for(let mt of a)at=bech32Polymod(at)^mt;for(let mt=0;mt<6;mt++)at=bech32Polymod(at);return at^=et,BECH_ALPHABET.encode(convertRadix2([at%powers$1[30]],30,5,!1))}function genBech32(s){const a=s==="bech32"?1:734539939,et=radix2(5),nt=et.decode,at=et.encode,mt=unsafeWrapper(nt);function wt(jt,Nt,Lt=90){astr("bech32.encode prefix",jt),isBytes$2(Nt)&&(Nt=Array.from(Nt)),anumArr("bech32.encode",Nt);const Ut=jt.length;if(Ut===0)throw new TypeError(`Invalid prefix length ${Ut}`);const Vt=Ut+7+Nt.length;if(Lt!==!1&&Vt>Lt)throw new TypeError(`Length ${Vt} exceeds limit ${Lt}`);const Yt=jt.toLowerCase(),er=bechChecksum(Yt,Nt,a);return`${Yt}1${BECH_ALPHABET.encode(Nt)}${er}`}function $t(jt,Nt=90){astr("bech32.decode input",jt);const Lt=jt.length;if(Lt<8||Nt!==!1&&Lt>Nt)throw new TypeError(`invalid string length: ${Lt} (${jt}). Expected (8..${Nt})`);const Ut=jt.toLowerCase();if(jt!==Ut&&jt!==jt.toUpperCase())throw new Error("String must be lowercase or uppercase");const Vt=Ut.lastIndexOf("1");if(Vt===0||Vt===-1)throw new Error('Letter "1" must be present between prefix and data only');const Yt=Ut.slice(0,Vt),er=Ut.slice(Vt+1);if(er.length<6)throw new Error("Data must be at least 6 characters long");const tr=BECH_ALPHABET.decode(er).slice(0,-6),nr=bechChecksum(Yt,tr,a);if(!er.endsWith(nr))throw new Error(`Invalid checksum in ${jt}: expected "${nr}"`);return{prefix:Yt,words:tr}}const Ct=unsafeWrapper($t);function Dt(jt){const{prefix:Nt,words:Lt}=$t(jt,!1);return{prefix:Nt,words:Lt,bytes:nt(Lt)}}function Ft(jt,Nt){return wt(jt,at(Nt))}return{encode:wt,decode:$t,encodeFromBytes:Ft,decodeToBytes:Dt,decodeUnsafe:Ct,fromWords:nt,fromWordsUnsafe:mt,toWords:at}}const bech32=genBech32("bech32"),toBase58=s=>base58.encode(s),fromBase58=s=>base58.decode(s),toB58=toBase58,fromB58=fromBase58;function fromBase64(s){return Uint8Array.from(atob(s),a=>a.charCodeAt(0))}const CHUNK_SIZE=8192;function toBase64(s){if(s.length<CHUNK_SIZE)return btoa(String.fromCharCode(...s));let a="";for(var et=0;et<s.length;et+=CHUNK_SIZE){const nt=s.slice(et,et+CHUNK_SIZE);a+=String.fromCharCode(...nt)}return btoa(a)}const toB64=toBase64,fromB64=fromBase64;function fromHex(s){var at;const a=s.startsWith("0x")?s.slice(2):s,et=a.length%2===0?a:`0${a}`,nt=((at=et.match(/[0-9a-fA-F]{2}/g))==null?void 0:at.map(mt=>parseInt(mt,16)))??[];if(nt.length!==et.length/2)throw new Error(`Invalid hex string ${s}`);return Uint8Array.from(nt)}function toHex$2(s){return s.reduce((a,et)=>a+et.toString(16).padStart(2,"0"),"")}const toHEX=toHex$2,fromHEX=fromHex;function ulebEncode(s){let a=[],et=0;if(s===0)return[0];for(;s>0;)a[et]=s&127,(s>>=7)&&(a[et]|=128),et+=1;return a}function ulebDecode(s){let a=0,et=0,nt=0;for(;;){let at=s[nt];if(nt+=1,a|=(at&127)<<et,!(at&128))break;et+=7}return{value:a,length:nt}}class BcsReader{constructor(a){this.bytePosition=0,this.dataView=new DataView(a.buffer)}shift(a){return this.bytePosition+=a,this}read8(){let a=this.dataView.getUint8(this.bytePosition);return this.shift(1),a}read16(){let a=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),a}read32(){let a=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),a}read64(){let a=this.read32(),nt=this.read32().toString(16)+a.toString(16).padStart(8,"0");return BigInt("0x"+nt).toString(10)}read128(){let a=BigInt(this.read64()),nt=BigInt(this.read64()).toString(16)+a.toString(16).padStart(16,"0");return BigInt("0x"+nt).toString(10)}read256(){let a=BigInt(this.read128()),nt=BigInt(this.read128()).toString(16)+a.toString(16).padStart(32,"0");return BigInt("0x"+nt).toString(10)}readBytes(a){let et=this.bytePosition+this.dataView.byteOffset,nt=new Uint8Array(this.dataView.buffer,et,a);return this.shift(a),nt}readULEB(){let a=this.bytePosition+this.dataView.byteOffset,et=new Uint8Array(this.dataView.buffer,a),{value:nt,length:at}=ulebDecode(et);return this.shift(at),nt}readVec(a){let et=this.readULEB(),nt=[];for(let at=0;at<et;at++)nt.push(a(this,at,et));return nt}}function encodeStr(s,a){switch(a){case"base58":return toBase58(s);case"base64":return toBase64(s);case"hex":return toHex$2(s);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function decodeStr(s,a){switch(a){case"base58":return fromBase58(s);case"base64":return fromBase64(s);case"hex":return fromHex(s);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function splitGenericParameters(s,a=["<",">"]){const[et,nt]=a,at=[];let mt="",wt=0;for(let $t=0;$t<s.length;$t++){const Ct=s[$t];if(Ct===et&&wt++,Ct===nt&&wt--,wt===0&&Ct===","){at.push(mt.trim()),mt="";continue}mt+=Ct}return at.push(mt.trim()),at}class BcsWriter{constructor({initialSize:a=1024,maxSize:et=1/0,allocateSize:nt=1024}={}){this.bytePosition=0,this.size=a,this.maxSize=et,this.allocateSize=nt,this.dataView=new DataView(new ArrayBuffer(a))}ensureSizeOrGrow(a){const et=this.bytePosition+a;if(et>this.size){const nt=Math.min(this.maxSize,this.size+this.allocateSize);if(et>nt)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${et}`);this.size=nt;const at=new ArrayBuffer(this.size);new Uint8Array(at).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(at)}}shift(a){return this.bytePosition+=a,this}write8(a){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(a)),this.shift(1)}write16(a){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(a),!0),this.shift(2)}write32(a){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(a),!0),this.shift(4)}write64(a){return toLittleEndian(BigInt(a),8).forEach(et=>this.write8(et)),this}write128(a){return toLittleEndian(BigInt(a),16).forEach(et=>this.write8(et)),this}write256(a){return toLittleEndian(BigInt(a),32).forEach(et=>this.write8(et)),this}writeULEB(a){return ulebEncode(a).forEach(et=>this.write8(et)),this}writeVec(a,et){return this.writeULEB(a.length),Array.from(a).forEach((nt,at)=>et(this,nt,at,a.length)),this}*[Symbol.iterator](){for(let a=0;a<this.bytePosition;a++)yield this.dataView.getUint8(a);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(a){return encodeStr(this.toBytes(),a)}}function toLittleEndian(s,a){let et=new Uint8Array(a),nt=0;for(;s>0;)et[nt]=Number(s%BigInt(256)),s=s/BigInt(256),nt+=1;return et}var __typeError$9=s=>{throw TypeError(s)},__accessCheck$9=(s,a,et)=>a.has(s)||__typeError$9("Cannot "+et),__privateGet$9=(s,a,et)=>(__accessCheck$9(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$9=(s,a,et)=>a.has(s)?__typeError$9("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$8=(s,a,et,nt)=>(__accessCheck$9(s,a,"write to private field"),a.set(s,et),et),_write,_serialize,_schema,_bytes;const _BcsType=class Tp{constructor(a){__privateAdd$9(this,_write),__privateAdd$9(this,_serialize),this.name=a.name,this.read=a.read,this.serializedSize=a.serializedSize??(()=>null),__privateSet$8(this,_write,a.write),__privateSet$8(this,_serialize,a.serialize??((et,nt)=>{const at=new BcsWriter({initialSize:this.serializedSize(et)??void 0,...nt});return __privateGet$9(this,_write).call(this,et,at),at.toBytes()})),this.validate=a.validate??(()=>{})}write(a,et){this.validate(a),__privateGet$9(this,_write).call(this,a,et)}serialize(a,et){return this.validate(a),new SerializedBcs(this,__privateGet$9(this,_serialize).call(this,a,et))}parse(a){const et=new BcsReader(a);return this.read(et)}fromHex(a){return this.parse(fromHex(a))}fromBase58(a){return this.parse(fromBase58(a))}fromBase64(a){return this.parse(fromBase64(a))}transform({name:a,input:et,output:nt,validate:at}){return new Tp({name:a??this.name,read:mt=>nt?nt(this.read(mt)):this.read(mt),write:(mt,wt)=>__privateGet$9(this,_write).call(this,et?et(mt):mt,wt),serializedSize:mt=>this.serializedSize(et?et(mt):mt),serialize:(mt,wt)=>__privateGet$9(this,_serialize).call(this,et?et(mt):mt,wt),validate:mt=>{at==null||at(mt),this.validate(et?et(mt):mt)}})}};_write=new WeakMap;_serialize=new WeakMap;let BcsType=_BcsType;const SERIALIZED_BCS_BRAND=Symbol.for("@mysten/serialized-bcs");function isSerializedBcs(s){return!!s&&typeof s=="object"&&s[SERIALIZED_BCS_BRAND]===!0}class SerializedBcs{constructor(a,et){__privateAdd$9(this,_schema),__privateAdd$9(this,_bytes),__privateSet$8(this,_schema,a),__privateSet$8(this,_bytes,et)}get[SERIALIZED_BCS_BRAND](){return!0}toBytes(){return __privateGet$9(this,_bytes)}toHex(){return toHex$2(__privateGet$9(this,_bytes))}toBase64(){return toBase64(__privateGet$9(this,_bytes))}toBase58(){return toBase58(__privateGet$9(this,_bytes))}parse(){return __privateGet$9(this,_schema).parse(__privateGet$9(this,_bytes))}}_schema=new WeakMap;_bytes=new WeakMap;function fixedSizeBcsType({size:s,...a}){return new BcsType({...a,serializedSize:()=>s})}function uIntBcsType({readMethod:s,writeMethod:a,...et}){return fixedSizeBcsType({...et,read:nt=>nt[s](),write:(nt,at)=>at[a](nt),validate:nt=>{var at;if(nt<0||nt>et.maxValue)throw new TypeError(`Invalid ${et.name} value: ${nt}. Expected value in range 0-${et.maxValue}`);(at=et.validate)==null||at.call(et,nt)}})}function bigUIntBcsType({readMethod:s,writeMethod:a,...et}){return fixedSizeBcsType({...et,read:nt=>nt[s](),write:(nt,at)=>at[a](BigInt(nt)),validate:nt=>{var mt;const at=BigInt(nt);if(at<0||at>et.maxValue)throw new TypeError(`Invalid ${et.name} value: ${at}. Expected value in range 0-${et.maxValue}`);(mt=et.validate)==null||mt.call(et,at)}})}function dynamicSizeBcsType({serialize:s,...a}){const et=new BcsType({...a,serialize:s,write:(nt,at)=>{for(const mt of et.serialize(nt).toBytes())at.write8(mt)}});return et}function stringLikeBcsType({toBytes:s,fromBytes:a,...et}){return new BcsType({...et,read:nt=>{const at=nt.readULEB(),mt=nt.readBytes(at);return a(mt)},write:(nt,at)=>{const mt=s(nt);at.writeULEB(mt.length);for(let wt=0;wt<mt.length;wt++)at.write8(mt[wt])},serialize:nt=>{const at=s(nt),mt=ulebEncode(at.length),wt=new Uint8Array(mt.length+at.length);return wt.set(mt,0),wt.set(at,mt.length),wt},validate:nt=>{var at;if(typeof nt!="string")throw new TypeError(`Invalid ${et.name} value: ${nt}. Expected string`);(at=et.validate)==null||at.call(et,nt)}})}function lazyBcsType(s){let a=null;function et(){return a||(a=s()),a}return new BcsType({name:"lazy",read:nt=>et().read(nt),serializedSize:nt=>et().serializedSize(nt),write:(nt,at)=>et().write(nt,at),serialize:(nt,at)=>et().serialize(nt,at).toBytes()})}const bcs$2={u8(s){return uIntBcsType({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...s})},u16(s){return uIntBcsType({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...s})},u32(s){return uIntBcsType({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...s})},u64(s){return bigUIntBcsType({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...s})},u128(s){return bigUIntBcsType({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...s})},u256(s){return bigUIntBcsType({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...s})},bool(s){return fixedSizeBcsType({name:"bool",size:1,read:a=>a.read8()===1,write:(a,et)=>et.write8(a?1:0),...s,validate:a=>{var et;if((et=s==null?void 0:s.validate)==null||et.call(s,a),typeof a!="boolean")throw new TypeError(`Expected boolean, found ${typeof a}`)}})},uleb128(s){return dynamicSizeBcsType({name:"uleb128",read:a=>a.readULEB(),serialize:a=>Uint8Array.from(ulebEncode(a)),...s})},bytes(s,a){return fixedSizeBcsType({name:`bytes[${s}]`,size:s,read:et=>et.readBytes(s),write:(et,nt)=>{const at=new Uint8Array(et);for(let mt=0;mt<s;mt++)nt.write8(at[mt]??0)},...a,validate:et=>{var nt;if((nt=a==null?void 0:a.validate)==null||nt.call(a,et),!et||typeof et!="object"||!("length"in et))throw new TypeError(`Expected array, found ${typeof et}`);if(et.length!==s)throw new TypeError(`Expected array of length ${s}, found ${et.length}`)}})},byteVector(s){return new BcsType({name:"bytesVector",read:a=>{const et=a.readULEB();return a.readBytes(et)},write:(a,et)=>{const nt=new Uint8Array(a);et.writeULEB(nt.length);for(let at=0;at<nt.length;at++)et.write8(nt[at]??0)},...s,serializedSize:a=>{const et="length"in a?a.length:null;return et==null?null:ulebEncode(et).length+et},validate:a=>{var et;if((et=s==null?void 0:s.validate)==null||et.call(s,a),!a||typeof a!="object"||!("length"in a))throw new TypeError(`Expected array, found ${typeof a}`)}})},string(s){return stringLikeBcsType({name:"string",toBytes:a=>new TextEncoder().encode(a),fromBytes:a=>new TextDecoder().decode(a),...s})},fixedArray(s,a,et){return new BcsType({name:`${a.name}[${s}]`,read:nt=>{const at=new Array(s);for(let mt=0;mt<s;mt++)at[mt]=a.read(nt);return at},write:(nt,at)=>{for(const mt of nt)a.write(mt,at)},...et,validate:nt=>{var at;if((at=et==null?void 0:et.validate)==null||at.call(et,nt),!nt||typeof nt!="object"||!("length"in nt))throw new TypeError(`Expected array, found ${typeof nt}`);if(nt.length!==s)throw new TypeError(`Expected array of length ${s}, found ${nt.length}`)}})},option(s){return bcs$2.enum(`Option<${s.name}>`,{None:null,Some:s}).transform({input:a=>a==null?{None:!0}:{Some:a},output:a=>a.$kind==="Some"?a.Some:null})},vector(s,a){return new BcsType({name:`vector<${s.name}>`,read:et=>{const nt=et.readULEB(),at=new Array(nt);for(let mt=0;mt<nt;mt++)at[mt]=s.read(et);return at},write:(et,nt)=>{nt.writeULEB(et.length);for(const at of et)s.write(at,nt)},...a,validate:et=>{var nt;if((nt=a==null?void 0:a.validate)==null||nt.call(a,et),!et||typeof et!="object"||!("length"in et))throw new TypeError(`Expected array, found ${typeof et}`)}})},tuple(s,a){return new BcsType({name:`(${s.map(et=>et.name).join(", ")})`,serializedSize:et=>{let nt=0;for(let at=0;at<s.length;at++){const mt=s[at].serializedSize(et[at]);if(mt==null)return null;nt+=mt}return nt},read:et=>{const nt=[];for(const at of s)nt.push(at.read(et));return nt},write:(et,nt)=>{for(let at=0;at<s.length;at++)s[at].write(et[at],nt)},...a,validate:et=>{var nt;if((nt=a==null?void 0:a.validate)==null||nt.call(a,et),!Array.isArray(et))throw new TypeError(`Expected array, found ${typeof et}`);if(et.length!==s.length)throw new TypeError(`Expected array of length ${s.length}, found ${et.length}`)}})},struct(s,a,et){const nt=Object.entries(a);return new BcsType({name:s,serializedSize:at=>{let mt=0;for(const[wt,$t]of nt){const Ct=$t.serializedSize(at[wt]);if(Ct==null)return null;mt+=Ct}return mt},read:at=>{const mt={};for(const[wt,$t]of nt)mt[wt]=$t.read(at);return mt},write:(at,mt)=>{for(const[wt,$t]of nt)$t.write(at[wt],mt)},...et,validate:at=>{var mt;if((mt=et==null?void 0:et.validate)==null||mt.call(et,at),typeof at!="object"||at==null)throw new TypeError(`Expected object, found ${typeof at}`)}})},enum(s,a,et){const nt=Object.entries(a);return new BcsType({name:s,read:at=>{const mt=at.readULEB(),wt=nt[mt];if(!wt)throw new TypeError(`Unknown value ${mt} for enum ${s}`);const[$t,Ct]=wt;return{[$t]:(Ct==null?void 0:Ct.read(at))??!0,$kind:$t}},write:(at,mt)=>{const[wt,$t]=Object.entries(at).filter(([Ct])=>Object.hasOwn(a,Ct))[0];for(let Ct=0;Ct<nt.length;Ct++){const[Dt,Ft]=nt[Ct];if(Dt===wt){mt.writeULEB(Ct),Ft==null||Ft.write($t,mt);return}}},...et,validate:at=>{var $t;if(($t=et==null?void 0:et.validate)==null||$t.call(et,at),typeof at!="object"||at==null)throw new TypeError(`Expected object, found ${typeof at}`);const mt=Object.keys(at).filter(Ct=>at[Ct]!==void 0&&Object.hasOwn(a,Ct));if(mt.length!==1)throw new TypeError(`Expected object with one key, but found ${mt.length} for type ${s}}`);const[wt]=mt;if(!Object.hasOwn(a,wt))throw new TypeError(`Invalid enum variant ${wt}`)}})},map(s,a){return bcs$2.vector(bcs$2.tuple([s,a])).transform({name:`Map<${s.name}, ${a.name}>`,input:et=>[...et.entries()],output:et=>{const nt=new Map;for(const[at,mt]of et)nt.set(at,mt);return nt}})},lazy(s){return lazyBcsType(s)}},esm=Object.freeze(Object.defineProperty({__proto__:null,BcsReader,BcsType,BcsWriter,SerializedBcs,bcs:bcs$2,decodeStr,encodeStr,fromB58,fromB64,fromBase58,fromBase64,fromHEX,fromHex,isSerializedBcs,splitGenericParameters,toB58,toB64,toBase58,toBase64,toHEX,toHex:toHex$2},Symbol.toStringTag,{value:"Module"})),TX_DIGEST_LENGTH$2=32;function isValidTransactionDigest$2(s){try{return fromBase58(s).length===TX_DIGEST_LENGTH$2}catch{return!1}}const SUI_ADDRESS_LENGTH$2=32;function isValidSuiAddress$2(s){return isHex$4(s)&&getHexByteLength$2(s)===SUI_ADDRESS_LENGTH$2}function isValidSuiObjectId$2(s){return isValidSuiAddress$2(s)}function normalizeSuiAddress$2(s,a=!1){let et=s.toLowerCase();return!a&&et.startsWith("0x")&&(et=et.slice(2)),`0x${et.padStart(SUI_ADDRESS_LENGTH$2*2,"0")}`}function normalizeSuiObjectId$2(s,a=!1){return normalizeSuiAddress$2(s,a)}function isHex$4(s){return/^(0x|0X)?[a-fA-F0-9]+$/.test(s)&&s.length%2===0}function getHexByteLength$2(s){return/^(0x|0X)/.test(s)?(s.length-2)/2:s.length/2}const VECTOR_REGEX$2=/^vector<(.+)>$/,STRUCT_REGEX$2=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;let TypeTagSerializer$2=class zl{static parseFromStr(a,et=!1){if(a==="address")return{address:null};if(a==="bool")return{bool:null};if(a==="u8")return{u8:null};if(a==="u16")return{u16:null};if(a==="u32")return{u32:null};if(a==="u64")return{u64:null};if(a==="u128")return{u128:null};if(a==="u256")return{u256:null};if(a==="signer")return{signer:null};const nt=a.match(VECTOR_REGEX$2);if(nt)return{vector:zl.parseFromStr(nt[1],et)};const at=a.match(STRUCT_REGEX$2);if(at)return{struct:{address:et?normalizeSuiAddress$2(at[1]):at[1],module:at[2],name:at[3],typeParams:at[5]===void 0?[]:zl.parseStructTypeArgs(at[5],et)}};throw new Error(`Encountered unexpected token when parsing type args for ${a}`)}static parseStructTypeArgs(a,et=!1){return splitGenericParameters(a).map(nt=>zl.parseFromStr(nt,et))}static tagToString(a){if("bool"in a)return"bool";if("u8"in a)return"u8";if("u16"in a)return"u16";if("u32"in a)return"u32";if("u64"in a)return"u64";if("u128"in a)return"u128";if("u256"in a)return"u256";if("address"in a)return"address";if("signer"in a)return"signer";if("vector"in a)return`vector<${zl.tagToString(a.vector)}>`;if("struct"in a){const et=a.struct,nt=et.typeParams.map(zl.tagToString).join(", ");return`${et.address}::${et.module}::${et.name}${nt?`<${nt}>`:""}`}throw new Error("Invalid TypeTag")}};function unsafe_u64$2(s){return bcs$2.u64({name:"unsafe_u64",...s}).transform({input:a=>a,output:a=>Number(a)})}function optionEnum$2(s){return bcs$2.enum("Option",{None:null,Some:s})}const Address$2=bcs$2.bytes(SUI_ADDRESS_LENGTH$2).transform({validate:s=>{const a=typeof s=="string"?s:toHex$2(s);if(!a||!isValidSuiAddress$2(normalizeSuiAddress$2(a)))throw new Error(`Invalid Sui address ${a}`)},input:s=>typeof s=="string"?fromHex(normalizeSuiAddress$2(s)):s,output:s=>normalizeSuiAddress$2(toHex$2(s))}),ObjectDigest$2=bcs$2.vector(bcs$2.u8()).transform({name:"ObjectDigest",input:s=>fromBase58(s),output:s=>toBase58(new Uint8Array(s)),validate:s=>{if(fromBase58(s).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef$2=bcs$2.struct("SuiObjectRef",{objectId:Address$2,version:bcs$2.u64(),digest:ObjectDigest$2}),SharedObjectRef$2=bcs$2.struct("SharedObjectRef",{objectId:Address$2,initialSharedVersion:bcs$2.u64(),mutable:bcs$2.bool()}),ObjectArg$8=bcs$2.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef$2,SharedObject:SharedObjectRef$2,Receiving:SuiObjectRef$2}),CallArg$6=bcs$2.enum("CallArg",{Pure:bcs$2.struct("Pure",{bytes:bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))})}),Object:ObjectArg$8}),InnerTypeTag$2=bcs$2.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:bcs$2.lazy(()=>InnerTypeTag$2),struct:bcs$2.lazy(()=>StructTag$4),u16:null,u32:null,u256:null}),TypeTag$4=InnerTypeTag$2.transform({input:s=>typeof s=="string"?TypeTagSerializer$2.parseFromStr(s,!0):s,output:s=>TypeTagSerializer$2.tagToString(s)}),Argument$6=bcs$2.enum("Argument",{GasCoin:null,Input:bcs$2.u16(),Result:bcs$2.u16(),NestedResult:bcs$2.tuple([bcs$2.u16(),bcs$2.u16()])}),ProgrammableMoveCall$6=bcs$2.struct("ProgrammableMoveCall",{package:Address$2,module:bcs$2.string(),function:bcs$2.string(),typeArguments:bcs$2.vector(TypeTag$4),arguments:bcs$2.vector(Argument$6)}),Command$6=bcs$2.enum("Command",{MoveCall:ProgrammableMoveCall$6,TransferObjects:bcs$2.struct("TransferObjects",{objects:bcs$2.vector(Argument$6),address:Argument$6}),SplitCoins:bcs$2.struct("SplitCoins",{coin:Argument$6,amounts:bcs$2.vector(Argument$6)}),MergeCoins:bcs$2.struct("MergeCoins",{destination:Argument$6,sources:bcs$2.vector(Argument$6)}),Publish:bcs$2.struct("Publish",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))})),dependencies:bcs$2.vector(Address$2)}),MakeMoveVec:bcs$2.struct("MakeMoveVec",{type:optionEnum$2(TypeTag$4).transform({input:s=>s===null?{None:!0}:{Some:s},output:s=>s.Some??null}),elements:bcs$2.vector(Argument$6)}),Upgrade:bcs$2.struct("Upgrade",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))})),dependencies:bcs$2.vector(Address$2),package:Address$2,ticket:Argument$6})}),ProgrammableTransaction$2=bcs$2.struct("ProgrammableTransaction",{inputs:bcs$2.vector(CallArg$6),commands:bcs$2.vector(Command$6)}),TransactionKind$2=bcs$2.enum("TransactionKind",{ProgrammableTransaction:ProgrammableTransaction$2,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration$8=bcs$2.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64$2()}),StructTag$4=bcs$2.struct("StructTag",{address:Address$2,module:bcs$2.string(),name:bcs$2.string(),typeParams:bcs$2.vector(InnerTypeTag$2)}),GasData$6=bcs$2.struct("GasData",{payment:bcs$2.vector(SuiObjectRef$2),owner:Address$2,price:bcs$2.u64(),budget:bcs$2.u64()}),TransactionDataV1$2=bcs$2.struct("TransactionDataV1",{kind:TransactionKind$2,sender:Address$2,gasData:GasData$6,expiration:TransactionExpiration$8}),TransactionData$4=bcs$2.enum("TransactionData",{V1:TransactionDataV1$2}),IntentScope$2=bcs$2.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion$2=bcs$2.enum("IntentVersion",{V0:null}),AppId$2=bcs$2.enum("AppId",{Sui:null}),Intent$2=bcs$2.struct("Intent",{scope:IntentScope$2,version:IntentVersion$2,appId:AppId$2});function IntentMessage$2(s){return bcs$2.struct(`IntentMessage<${s.name}>`,{intent:Intent$2,value:s})}const CompressedSignature$2=bcs$2.enum("CompressedSignature",{ED25519:bcs$2.fixedArray(64,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(64,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(64,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),PublicKey$3=bcs$2.enum("PublicKey",{ED25519:bcs$2.fixedArray(32,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(33,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(33,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),MultiSigPkMap$2=bcs$2.struct("MultiSigPkMap",{pubKey:PublicKey$3,weight:bcs$2.u8()}),MultiSigPublicKey$2=bcs$2.struct("MultiSigPublicKey",{pk_map:bcs$2.vector(MultiSigPkMap$2),threshold:bcs$2.u16()}),MultiSig$2=bcs$2.struct("MultiSig",{sigs:bcs$2.vector(CompressedSignature$2),bitmap:bcs$2.u16(),multisig_pk:MultiSigPublicKey$2}),base64String$2=bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))}),SenderSignedTransaction$2=bcs$2.struct("SenderSignedTransaction",{intentMessage:IntentMessage$2(TransactionData$4),txSignatures:bcs$2.vector(base64String$2)}),SenderSignedData$2=bcs$2.vector(SenderSignedTransaction$2,{name:"SenderSignedData"}),PasskeyAuthenticator$2=bcs$2.struct("PasskeyAuthenticator",{authenticatorData:bcs$2.vector(bcs$2.u8()),clientDataJson:bcs$2.string(),userSignature:bcs$2.vector(bcs$2.u8())}),PackageUpgradeError$2=bcs$2.enum("PackageUpgradeError",{UnableToFetchPackage:bcs$2.struct("UnableToFetchPackage",{packageId:Address$2}),NotAPackage:bcs$2.struct("NotAPackage",{objectId:Address$2}),IncompatibleUpgrade:null,DigestDoesNotMatch:bcs$2.struct("DigestDoesNotMatch",{digest:bcs$2.vector(bcs$2.u8())}),UnknownUpgradePolicy:bcs$2.struct("UnknownUpgradePolicy",{policy:bcs$2.u8()}),PackageIDDoesNotMatch:bcs$2.struct("PackageIDDoesNotMatch",{packageId:Address$2,ticketId:Address$2})}),ModuleId$2=bcs$2.struct("ModuleId",{address:Address$2,name:bcs$2.string()}),MoveLocation$2=bcs$2.struct("MoveLocation",{module:ModuleId$2,function:bcs$2.u16(),instruction:bcs$2.u16(),functionName:bcs$2.option(bcs$2.string())}),CommandArgumentError$2=bcs$2.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:bcs$2.struct("IndexOutOfBounds",{idx:bcs$2.u16()}),SecondaryIndexOutOfBounds:bcs$2.struct("SecondaryIndexOutOfBounds",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidResultArity:bcs$2.struct("InvalidResultArity",{resultIdx:bcs$2.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError$2=bcs$2.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus$2=bcs$2.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:bcs$2.struct("MoveObjectTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),MovePackageTooBig:bcs$2.struct("MovePackageTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),CircularObjectOwnership:bcs$2.struct("CircularObjectOwnership",{object:Address$2}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:bcs$2.option(MoveLocation$2),MoveAbort:bcs$2.tuple([MoveLocation$2,bcs$2.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:bcs$2.struct("CommandArgumentError",{argIdx:bcs$2.u16(),kind:CommandArgumentError$2}),TypeArgumentError:bcs$2.struct("TypeArgumentError",{argumentIdx:bcs$2.u16(),kind:TypeArgumentError$2}),UnusedValueWithoutDrop:bcs$2.struct("UnusedValueWithoutDrop",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidPublicFunctionReturnType:bcs$2.struct("InvalidPublicFunctionReturnType",{idx:bcs$2.u16()}),InvalidTransferObject:null,EffectsTooLarge:bcs$2.struct("EffectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:bcs$2.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError$2}),WrittenObjectsTooLarge:bcs$2.struct("WrittenObjectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:bcs$2.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:bcs$2.vector(Address$2)}),AddressDeniedForCoin:bcs$2.struct("AddressDeniedForCoin",{address:Address$2,coinType:bcs$2.string()}),CoinTypeGlobalPause:bcs$2.struct("CoinTypeGlobalPause",{coinType:bcs$2.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus$2=bcs$2.enum("ExecutionStatus",{Success:null,Failed:bcs$2.struct("ExecutionFailed",{error:ExecutionFailureStatus$2,command:bcs$2.option(bcs$2.u64())})}),GasCostSummary$2=bcs$2.struct("GasCostSummary",{computationCost:bcs$2.u64(),storageCost:bcs$2.u64(),storageRebate:bcs$2.u64(),nonRefundableStorageFee:bcs$2.u64()}),Owner$2=bcs$2.enum("Owner",{AddressOwner:Address$2,ObjectOwner:Address$2,Shared:bcs$2.struct("Shared",{initialSharedVersion:bcs$2.u64()}),Immutable:null}),TransactionEffectsV1$2=bcs$2.struct("TransactionEffectsV1",{status:ExecutionStatus$2,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$2,modifiedAtVersions:bcs$2.vector(bcs$2.tuple([Address$2,bcs$2.u64()])),sharedObjects:bcs$2.vector(SuiObjectRef$2),transactionDigest:ObjectDigest$2,created:bcs$2.vector(bcs$2.tuple([SuiObjectRef$2,Owner$2])),mutated:bcs$2.vector(bcs$2.tuple([SuiObjectRef$2,Owner$2])),unwrapped:bcs$2.vector(bcs$2.tuple([SuiObjectRef$2,Owner$2])),deleted:bcs$2.vector(SuiObjectRef$2),unwrappedThenDeleted:bcs$2.vector(SuiObjectRef$2),wrapped:bcs$2.vector(SuiObjectRef$2),gasObject:bcs$2.tuple([SuiObjectRef$2,Owner$2]),eventsDigest:bcs$2.option(ObjectDigest$2),dependencies:bcs$2.vector(ObjectDigest$2)}),VersionDigest$2=bcs$2.tuple([bcs$2.u64(),ObjectDigest$2]),ObjectIn$2=bcs$2.enum("ObjectIn",{NotExist:null,Exist:bcs$2.tuple([VersionDigest$2,Owner$2])}),ObjectOut$2=bcs$2.enum("ObjectOut",{NotExist:null,ObjectWrite:bcs$2.tuple([ObjectDigest$2,Owner$2]),PackageWrite:VersionDigest$2}),IDOperation$2=bcs$2.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange$2=bcs$2.struct("EffectsObjectChange",{inputState:ObjectIn$2,outputState:ObjectOut$2,idOperation:IDOperation$2}),UnchangedSharedKind$2=bcs$2.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest$2,MutateDeleted:bcs$2.u64(),ReadDeleted:bcs$2.u64(),Cancelled:bcs$2.u64(),PerEpochConfig:null}),TransactionEffectsV2$2=bcs$2.struct("TransactionEffectsV2",{status:ExecutionStatus$2,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$2,transactionDigest:ObjectDigest$2,gasObjectIndex:bcs$2.option(bcs$2.u32()),eventsDigest:bcs$2.option(ObjectDigest$2),dependencies:bcs$2.vector(ObjectDigest$2),lamportVersion:bcs$2.u64(),changedObjects:bcs$2.vector(bcs$2.tuple([Address$2,EffectsObjectChange$2])),unchangedSharedObjects:bcs$2.vector(bcs$2.tuple([Address$2,UnchangedSharedKind$2])),auxDataDigest:bcs$2.option(ObjectDigest$2)}),TransactionEffects$2=bcs$2.enum("TransactionEffects",{V1:TransactionEffectsV1$2,V2:TransactionEffectsV2$2});function pureBcsSchemaFromTypeName$2(s){switch(s){case"u8":return bcs$2.u8();case"u16":return bcs$2.u16();case"u32":return bcs$2.u32();case"u64":return bcs$2.u64();case"u128":return bcs$2.u128();case"u256":return bcs$2.u256();case"bool":return bcs$2.bool();case"string":return bcs$2.string();case"id":case"address":return Address$2}const a=s.match(/^(vector|option)<(.+)>$/);if(a){const[et,nt]=a.slice(1);return et==="vector"?bcs$2.vector(pureBcsSchemaFromTypeName$2(nt)):bcs$2.option(pureBcsSchemaFromTypeName$2(nt))}throw new Error(`Invalid Pure type name: ${s}`)}const suiBcs$2={...bcs$2,U8:bcs$2.u8(),U16:bcs$2.u16(),U32:bcs$2.u32(),U64:bcs$2.u64(),U128:bcs$2.u128(),U256:bcs$2.u256(),ULEB128:bcs$2.uleb128(),Bool:bcs$2.bool(),String:bcs$2.string(),Address:Address$2,AppId:AppId$2,Argument:Argument$6,CallArg:CallArg$6,CompressedSignature:CompressedSignature$2,GasData:GasData$6,Intent:Intent$2,IntentMessage:IntentMessage$2,IntentScope:IntentScope$2,IntentVersion:IntentVersion$2,MultiSig:MultiSig$2,MultiSigPkMap:MultiSigPkMap$2,MultiSigPublicKey:MultiSigPublicKey$2,ObjectArg:ObjectArg$8,ObjectDigest:ObjectDigest$2,ProgrammableMoveCall:ProgrammableMoveCall$6,ProgrammableTransaction:ProgrammableTransaction$2,PublicKey:PublicKey$3,SenderSignedData:SenderSignedData$2,SenderSignedTransaction:SenderSignedTransaction$2,SharedObjectRef:SharedObjectRef$2,StructTag:StructTag$4,SuiObjectRef:SuiObjectRef$2,Command:Command$6,TransactionData:TransactionData$4,TransactionDataV1:TransactionDataV1$2,TransactionExpiration:TransactionExpiration$8,TransactionKind:TransactionKind$2,TypeTag:TypeTag$4,TransactionEffects:TransactionEffects$2,PasskeyAuthenticator:PasskeyAuthenticator$2},SUI_NS_NAME_REGEX$2=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX$2=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i;function normalizeSuiNSName$2(s,a="at"){const et=s.toLowerCase();let nt;if(et.includes("@")){if(!SUI_NS_NAME_REGEX$2.test(et))throw new Error(`Invalid SuiNS name ${s}`);const[at,mt]=et.split("@");nt=[...at?at.split("."):[],mt]}else{if(!SUI_NS_DOMAIN_REGEX$2.test(et))throw new Error(`Invalid SuiNS name ${s}`);nt=et.split(".").slice(0,-1)}return a==="dot"?`${nt.join(".")}.sui`:`${nt.slice(0,-1).join(".")}@${nt[nt.length-1]}`}BigInt(1e9);const MOVE_STDLIB_ADDRESS$2="0x1",SUI_FRAMEWORK_ADDRESS$2="0x2";normalizeSuiObjectId$2("0x6");const SUI_TYPE_ARG$2=`${SUI_FRAMEWORK_ADDRESS$2}::sui::SUI`;normalizeSuiObjectId$2("0x5");function anumber(s){if(!Number.isSafeInteger(s)||s<0)throw new Error("positive integer expected, got "+s)}function isBytes$1(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function abytes$1(s,...a){if(!isBytes$1(s))throw new Error("Uint8Array expected");if(a.length>0&&!a.includes(s.length))throw new Error("Uint8Array expected of length "+a+", got length="+s.length)}function ahash(s){if(typeof s!="function"||typeof s.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(s.outputLen),anumber(s.blockLen)}function aexists(s,a=!0){if(s.destroyed)throw new Error("Hash instance has been destroyed");if(a&&s.finished)throw new Error("Hash#digest() has already been called")}function aoutput(s,a){abytes$1(s);const et=a.outputLen;if(s.length<et)throw new Error("digestInto() expects output buffer of length at least "+et)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function u32(s){return new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4))}function createView(s){return new DataView(s.buffer,s.byteOffset,s.byteLength)}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function byteSwap(s){return s<<24&4278190080|s<<8&16711680|s>>>8&65280|s>>>24&255}const byteSwapIfBE=isLE?s=>s:s=>byteSwap(s);function byteSwap32(s){for(let a=0;a<s.length;a++)s[a]=byteSwap(s[a])}const hexes$1=Array.from({length:256},(s,a)=>a.toString(16).padStart(2,"0"));function bytesToHex$1(s){abytes$1(s);let a="";for(let et=0;et<s.length;et++)a+=hexes$1[s[et]];return a}function utf8ToBytes(s){if(typeof s!="string")throw new Error("utf8ToBytes expected string, got "+typeof s);return new Uint8Array(new TextEncoder().encode(s))}function toBytes(s){return typeof s=="string"&&(s=utf8ToBytes(s)),abytes$1(s),s}let Hash$1=class{clone(){return this._cloneInto()}};function checkOpts(s,a){if(a!==void 0&&{}.toString.call(a)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(s,a)}function wrapConstructor(s){const a=nt=>s().update(toBytes(nt)).digest(),et=s();return a.outputLen=et.outputLen,a.blockLen=et.blockLen,a.create=()=>s(),a}function wrapConstructorWithOpts(s){const a=(nt,at)=>s(at).update(toBytes(nt)).digest(),et=s({});return a.outputLen=et.outputLen,a.blockLen=et.blockLen,a.create=nt=>s(nt),a}function randomBytes(s=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(s));if(crypto$2&&typeof crypto$2.randomBytes=="function")return crypto$2.randomBytes(s);throw new Error("crypto.getRandomValues must be defined")}const SIGMA$1=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class BLAKE extends Hash$1{constructor(a,et,nt={},at,mt,wt){if(super(),this.blockLen=a,this.outputLen=et,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,anumber(a),anumber(et),anumber(at),et<0||et>at)throw new Error("outputLen bigger than keyLen");if(nt.key!==void 0&&(nt.key.length<1||nt.key.length>at))throw new Error("key length must be undefined or 1.."+at);if(nt.salt!==void 0&&nt.salt.length!==mt)throw new Error("salt must be undefined or "+mt);if(nt.personalization!==void 0&&nt.personalization.length!==wt)throw new Error("personalization must be undefined or "+wt);this.buffer=new Uint8Array(a),this.buffer32=u32(this.buffer)}update(a){aexists(this);const{blockLen:et,buffer:nt,buffer32:at}=this;a=toBytes(a);const mt=a.length,wt=a.byteOffset,$t=a.buffer;for(let Ct=0;Ct<mt;){this.pos===et&&(isLE||byteSwap32(at),this.compress(at,0,!1),isLE||byteSwap32(at),this.pos=0);const Dt=Math.min(et-this.pos,mt-Ct),Ft=wt+Ct;if(Dt===et&&!(Ft%4)&&Ct+Dt<mt){const jt=new Uint32Array($t,Ft,Math.floor((mt-Ct)/4));isLE||byteSwap32(jt);for(let Nt=0;Ct+et<mt;Nt+=at.length,Ct+=et)this.length+=et,this.compress(jt,Nt,!1);isLE||byteSwap32(jt);continue}nt.set(a.subarray(Ct,Ct+Dt),this.pos),this.pos+=Dt,this.length+=Dt,Ct+=Dt}return this}digestInto(a){aexists(this),aoutput(a,this);const{pos:et,buffer32:nt}=this;this.finished=!0,this.buffer.subarray(et).fill(0),isLE||byteSwap32(nt),this.compress(nt,0,!0),isLE||byteSwap32(nt);const at=u32(a);this.get().forEach((mt,wt)=>at[wt]=byteSwapIfBE(mt))}digest(){const{buffer:a,outputLen:et}=this;this.digestInto(a);const nt=a.slice(0,et);return this.destroy(),nt}_cloneInto(a){const{buffer:et,length:nt,finished:at,destroyed:mt,outputLen:wt,pos:$t}=this;return a||(a=new this.constructor({dkLen:wt})),a.set(...this.get()),a.length=nt,a.finished=at,a.destroyed=mt,a.outputLen=wt,a.buffer.set(et),a.pos=$t,a}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(s,a=!1){return a?{h:Number(s&U32_MASK64),l:Number(s>>_32n&U32_MASK64)}:{h:Number(s>>_32n&U32_MASK64)|0,l:Number(s&U32_MASK64)|0}}function split(s,a=!1){let et=new Uint32Array(s.length),nt=new Uint32Array(s.length);for(let at=0;at<s.length;at++){const{h:mt,l:wt}=fromBig(s[at],a);[et[at],nt[at]]=[mt,wt]}return[et,nt]}const toBig=(s,a)=>BigInt(s>>>0)<<_32n|BigInt(a>>>0),shrSH=(s,a,et)=>s>>>et,shrSL=(s,a,et)=>s<<32-et|a>>>et,rotrSH=(s,a,et)=>s>>>et|a<<32-et,rotrSL=(s,a,et)=>s<<32-et|a>>>et,rotrBH=(s,a,et)=>s<<64-et|a>>>et-32,rotrBL=(s,a,et)=>s>>>et-32|a<<64-et,rotr32H=(s,a)=>a,rotr32L=(s,a)=>s,rotlSH=(s,a,et)=>s<<et|a>>>32-et,rotlSL=(s,a,et)=>a<<et|s>>>32-et,rotlBH=(s,a,et)=>a<<et-32|s>>>64-et,rotlBL=(s,a,et)=>s<<et-32|a>>>64-et;function add$5(s,a,et,nt){const at=(a>>>0)+(nt>>>0);return{h:s+et+(at/2**32|0)|0,l:at|0}}const add3L=(s,a,et)=>(s>>>0)+(a>>>0)+(et>>>0),add3H=(s,a,et,nt)=>a+et+nt+(s/2**32|0)|0,add4L=(s,a,et,nt)=>(s>>>0)+(a>>>0)+(et>>>0)+(nt>>>0),add4H=(s,a,et,nt,at)=>a+et+nt+at+(s/2**32|0)|0,add5L=(s,a,et,nt,at)=>(s>>>0)+(a>>>0)+(et>>>0)+(nt>>>0)+(at>>>0),add5H=(s,a,et,nt,at,mt)=>a+et+nt+at+mt+(s/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add:add$5,add3L,add3H,add4L,add4H,add5H,add5L},B2B_IV=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),BBUF=new Uint32Array(32);function G1b(s,a,et,nt,at,mt){const wt=at[mt],$t=at[mt+1];let Ct=BBUF[2*s],Dt=BBUF[2*s+1],Ft=BBUF[2*a],jt=BBUF[2*a+1],Nt=BBUF[2*et],Lt=BBUF[2*et+1],Ut=BBUF[2*nt],Vt=BBUF[2*nt+1],Yt=u64.add3L(Ct,Ft,wt);Dt=u64.add3H(Yt,Dt,jt,$t),Ct=Yt|0,{Dh:Vt,Dl:Ut}={Dh:Vt^Dt,Dl:Ut^Ct},{Dh:Vt,Dl:Ut}={Dh:u64.rotr32H(Vt,Ut),Dl:u64.rotr32L(Vt,Ut)},{h:Lt,l:Nt}=u64.add(Lt,Nt,Vt,Ut),{Bh:jt,Bl:Ft}={Bh:jt^Lt,Bl:Ft^Nt},{Bh:jt,Bl:Ft}={Bh:u64.rotrSH(jt,Ft,24),Bl:u64.rotrSL(jt,Ft,24)},BBUF[2*s]=Ct,BBUF[2*s+1]=Dt,BBUF[2*a]=Ft,BBUF[2*a+1]=jt,BBUF[2*et]=Nt,BBUF[2*et+1]=Lt,BBUF[2*nt]=Ut,BBUF[2*nt+1]=Vt}function G2b(s,a,et,nt,at,mt){const wt=at[mt],$t=at[mt+1];let Ct=BBUF[2*s],Dt=BBUF[2*s+1],Ft=BBUF[2*a],jt=BBUF[2*a+1],Nt=BBUF[2*et],Lt=BBUF[2*et+1],Ut=BBUF[2*nt],Vt=BBUF[2*nt+1],Yt=u64.add3L(Ct,Ft,wt);Dt=u64.add3H(Yt,Dt,jt,$t),Ct=Yt|0,{Dh:Vt,Dl:Ut}={Dh:Vt^Dt,Dl:Ut^Ct},{Dh:Vt,Dl:Ut}={Dh:u64.rotrSH(Vt,Ut,16),Dl:u64.rotrSL(Vt,Ut,16)},{h:Lt,l:Nt}=u64.add(Lt,Nt,Vt,Ut),{Bh:jt,Bl:Ft}={Bh:jt^Lt,Bl:Ft^Nt},{Bh:jt,Bl:Ft}={Bh:u64.rotrBH(jt,Ft,63),Bl:u64.rotrBL(jt,Ft,63)},BBUF[2*s]=Ct,BBUF[2*s+1]=Dt,BBUF[2*a]=Ft,BBUF[2*a+1]=jt,BBUF[2*et]=Nt,BBUF[2*et+1]=Lt,BBUF[2*nt]=Ut,BBUF[2*nt+1]=Vt}class BLAKE2b extends BLAKE{constructor(a={}){super(128,a.dkLen===void 0?64:a.dkLen,a,64,16,16),this.v0l=B2B_IV[0]|0,this.v0h=B2B_IV[1]|0,this.v1l=B2B_IV[2]|0,this.v1h=B2B_IV[3]|0,this.v2l=B2B_IV[4]|0,this.v2h=B2B_IV[5]|0,this.v3l=B2B_IV[6]|0,this.v3h=B2B_IV[7]|0,this.v4l=B2B_IV[8]|0,this.v4h=B2B_IV[9]|0,this.v5l=B2B_IV[10]|0,this.v5h=B2B_IV[11]|0,this.v6l=B2B_IV[12]|0,this.v6h=B2B_IV[13]|0,this.v7l=B2B_IV[14]|0,this.v7h=B2B_IV[15]|0;const et=a.key?a.key.length:0;if(this.v0l^=this.outputLen|et<<8|65536|1<<24,a.salt){const nt=u32(toBytes(a.salt));this.v4l^=byteSwapIfBE(nt[0]),this.v4h^=byteSwapIfBE(nt[1]),this.v5l^=byteSwapIfBE(nt[2]),this.v5h^=byteSwapIfBE(nt[3])}if(a.personalization){const nt=u32(toBytes(a.personalization));this.v6l^=byteSwapIfBE(nt[0]),this.v6h^=byteSwapIfBE(nt[1]),this.v7l^=byteSwapIfBE(nt[2]),this.v7h^=byteSwapIfBE(nt[3])}if(a.key){const nt=new Uint8Array(this.blockLen);nt.set(toBytes(a.key)),this.update(nt)}}get(){let{v0l:a,v0h:et,v1l:nt,v1h:at,v2l:mt,v2h:wt,v3l:$t,v3h:Ct,v4l:Dt,v4h:Ft,v5l:jt,v5h:Nt,v6l:Lt,v6h:Ut,v7l:Vt,v7h:Yt}=this;return[a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt]}set(a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt){this.v0l=a|0,this.v0h=et|0,this.v1l=nt|0,this.v1h=at|0,this.v2l=mt|0,this.v2h=wt|0,this.v3l=$t|0,this.v3h=Ct|0,this.v4l=Dt|0,this.v4h=Ft|0,this.v5l=jt|0,this.v5h=Nt|0,this.v6l=Lt|0,this.v6h=Ut|0,this.v7l=Vt|0,this.v7h=Yt|0}compress(a,et,nt){this.get().forEach((Ct,Dt)=>BBUF[Dt]=Ct),BBUF.set(B2B_IV,16);let{h:at,l:mt}=u64.fromBig(BigInt(this.length));BBUF[24]=B2B_IV[8]^mt,BBUF[25]=B2B_IV[9]^at,nt&&(BBUF[28]=~BBUF[28],BBUF[29]=~BBUF[29]);let wt=0;const $t=SIGMA$1;for(let Ct=0;Ct<12;Ct++)G1b(0,4,8,12,a,et+2*$t[wt++]),G2b(0,4,8,12,a,et+2*$t[wt++]),G1b(1,5,9,13,a,et+2*$t[wt++]),G2b(1,5,9,13,a,et+2*$t[wt++]),G1b(2,6,10,14,a,et+2*$t[wt++]),G2b(2,6,10,14,a,et+2*$t[wt++]),G1b(3,7,11,15,a,et+2*$t[wt++]),G2b(3,7,11,15,a,et+2*$t[wt++]),G1b(0,5,10,15,a,et+2*$t[wt++]),G2b(0,5,10,15,a,et+2*$t[wt++]),G1b(1,6,11,12,a,et+2*$t[wt++]),G2b(1,6,11,12,a,et+2*$t[wt++]),G1b(2,7,8,13,a,et+2*$t[wt++]),G2b(2,7,8,13,a,et+2*$t[wt++]),G1b(3,4,9,14,a,et+2*$t[wt++]),G2b(3,4,9,14,a,et+2*$t[wt++]);this.v0l^=BBUF[0]^BBUF[16],this.v0h^=BBUF[1]^BBUF[17],this.v1l^=BBUF[2]^BBUF[18],this.v1h^=BBUF[3]^BBUF[19],this.v2l^=BBUF[4]^BBUF[20],this.v2h^=BBUF[5]^BBUF[21],this.v3l^=BBUF[6]^BBUF[22],this.v3h^=BBUF[7]^BBUF[23],this.v4l^=BBUF[8]^BBUF[24],this.v4h^=BBUF[9]^BBUF[25],this.v5l^=BBUF[10]^BBUF[26],this.v5h^=BBUF[11]^BBUF[27],this.v6l^=BBUF[12]^BBUF[28],this.v6h^=BBUF[13]^BBUF[29],this.v7l^=BBUF[14]^BBUF[30],this.v7h^=BBUF[15]^BBUF[31],BBUF.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const blake2b$1=wrapConstructorWithOpts(s=>new BLAKE2b(s)),blake2b$2=Object.freeze(Object.defineProperty({__proto__:null,BLAKE2b,blake2b:blake2b$1},Symbol.toStringTag,{value:"Module"})),OBJECT_MODULE_NAME$1="object",ID_STRUCT_NAME$1="ID",STD_ASCII_MODULE_NAME$1="ascii",STD_ASCII_STRUCT_NAME$1="String",STD_UTF8_MODULE_NAME$1="string",STD_UTF8_STRUCT_NAME$1="String",STD_OPTION_MODULE_NAME$1="option",STD_OPTION_STRUCT_NAME$1="Option";function isTxContext$1(s){const a=typeof s.body=="object"&&"datatype"in s.body?s.body.datatype:null;return!!a&&normalizeSuiAddress$2(a.package)===normalizeSuiAddress$2("0x2")&&a.module==="tx_context"&&a.type==="TxContext"}function getPureBcsSchema$1(s){if(typeof s=="string")switch(s){case"address":return suiBcs$2.Address;case"bool":return suiBcs$2.Bool;case"u8":return suiBcs$2.U8;case"u16":return suiBcs$2.U16;case"u32":return suiBcs$2.U32;case"u64":return suiBcs$2.U64;case"u128":return suiBcs$2.U128;case"u256":return suiBcs$2.U256;default:throw new Error(`Unknown type signature ${s}`)}if("vector"in s){if(s.vector==="u8")return suiBcs$2.vector(suiBcs$2.U8).transform({input:et=>typeof et=="string"?new TextEncoder().encode(et):et,output:et=>et});const a=getPureBcsSchema$1(s.vector);return a?suiBcs$2.vector(a):null}if("datatype"in s){const a=normalizeSuiAddress$2(s.datatype.package);if(a===normalizeSuiAddress$2(MOVE_STDLIB_ADDRESS$2)){if(s.datatype.module===STD_ASCII_MODULE_NAME$1&&s.datatype.type===STD_ASCII_STRUCT_NAME$1||s.datatype.module===STD_UTF8_MODULE_NAME$1&&s.datatype.type===STD_UTF8_STRUCT_NAME$1)return suiBcs$2.String;if(s.datatype.module===STD_OPTION_MODULE_NAME$1&&s.datatype.type===STD_OPTION_STRUCT_NAME$1){const et=getPureBcsSchema$1(s.datatype.typeParameters[0]);return et?suiBcs$2.vector(et):null}}if(a===normalizeSuiAddress$2(SUI_FRAMEWORK_ADDRESS$2)&&s.datatype.module===OBJECT_MODULE_NAME$1&&s.datatype.type===ID_STRUCT_NAME$1)return suiBcs$2.Address}return null}function normalizedTypeToMoveTypeSignature$1(s){return typeof s=="object"&&"Reference"in s?{ref:"&",body:normalizedTypeToMoveTypeSignatureBody$1(s.Reference)}:typeof s=="object"&&"MutableReference"in s?{ref:"&mut",body:normalizedTypeToMoveTypeSignatureBody$1(s.MutableReference)}:{ref:null,body:normalizedTypeToMoveTypeSignatureBody$1(s)}}function normalizedTypeToMoveTypeSignatureBody$1(s){if(typeof s=="string")switch(s){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${s}`)}if("Vector"in s)return{vector:normalizedTypeToMoveTypeSignatureBody$1(s.Vector)};if("Struct"in s)return{datatype:{package:s.Struct.address,module:s.Struct.module,type:s.Struct.name,typeParameters:s.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody$1)}};if("TypeParameter"in s)return{typeParameter:s.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(s)}`)}function Pure$1(s){return{$kind:"Pure",Pure:{bytes:s instanceof Uint8Array?toBase64(s):s.toBase64()}}}const Inputs$1={Pure:Pure$1,ObjectRef({objectId:s,digest:a,version:et}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:a,version:et,objectId:normalizeSuiAddress$2(s)}}}},SharedObjectRef({objectId:s,mutable:a,initialSharedVersion:et}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:a,initialSharedVersion:et,objectId:normalizeSuiAddress$2(s)}}}},ReceivingRef({objectId:s,digest:a,version:et}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:a,version:et,objectId:normalizeSuiAddress$2(s)}}}}};var UUID_REGEX=/^[\da-f]{8}(?:-[\da-f]{4}){3}-[\da-f]{12}$/iu,store$d;function getGlobalConfig(s){return{lang:(s==null?void 0:s.lang)??(store$d==null?void 0:store$d.lang),message:s==null?void 0:s.message,abortEarly:(s==null?void 0:s.abortEarly)??(store$d==null?void 0:store$d.abortEarly),abortPipeEarly:(s==null?void 0:s.abortPipeEarly)??(store$d==null?void 0:store$d.abortPipeEarly)}}var store2;function getGlobalMessage(s){return store2==null?void 0:store2.get(s)}var store3;function getSchemaMessage(s){return store3==null?void 0:store3.get(s)}var store4;function getSpecificMessage(s,a){var et;return(et=store4==null?void 0:store4.get(s))==null?void 0:et.get(a)}function _stringify(s){var et,nt;const a=typeof s;return a==="string"?`"${s}"`:a==="number"||a==="bigint"||a==="boolean"?`${s}`:a==="object"||a==="function"?(s&&((nt=(et=Object.getPrototypeOf(s))==null?void 0:et.constructor)==null?void 0:nt.name))??"null":a}function _addIssue(s,a,et,nt,at){const mt=at&&"input"in at?at.input:et.value,wt=(at==null?void 0:at.expected)??s.expects??null,$t=(at==null?void 0:at.received)??_stringify(mt),Ct={kind:s.kind,type:s.type,input:mt,expected:wt,received:$t,message:`Invalid ${a}: ${wt?`Expected ${wt} but r`:"R"}eceived ${$t}`,requirement:s.requirement,path:at==null?void 0:at.path,issues:at==null?void 0:at.issues,lang:nt.lang,abortEarly:nt.abortEarly,abortPipeEarly:nt.abortPipeEarly},Dt=s.kind==="schema",Ft=(at==null?void 0:at.message)??s.message??getSpecificMessage(s.reference,Ct.lang)??(Dt?getSchemaMessage(Ct.lang):null)??nt.message??getGlobalMessage(Ct.lang);Ft&&(Ct.message=typeof Ft=="function"?Ft(Ct):Ft),Dt&&(et.typed=!1),et.issues?et.issues.push(Ct):et.issues=[Ct]}function _isValidObjectKey(s,a){return Object.hasOwn(s,a)&&a!=="__proto__"&&a!=="prototype"&&a!=="constructor"}var ValiError=class extends Error{constructor(a){super(a[0].message);sn(this,"issues");this.name="ValiError",this.issues=a}};function check$1(s,a){return{kind:"validation",type:"check",reference:check$1,async:!1,expects:null,requirement:s,message:a,_run(et,nt){return et.typed&&!this.requirement(et.value)&&_addIssue(this,"input",et,nt),et}}}function integer(s){return{kind:"validation",type:"integer",reference:integer,async:!1,expects:null,requirement:Number.isInteger,message:s,_run(a,et){return a.typed&&!this.requirement(a.value)&&_addIssue(this,"integer",a,et),a}}}function transform$2(s){return{kind:"transformation",type:"transform",reference:transform$2,async:!1,operation:s,_run(a){return a.value=this.operation(a.value),a}}}function url(s){return{kind:"validation",type:"url",reference:url,async:!1,expects:null,requirement(a){try{return new URL(a),!0}catch{return!1}},message:s,_run(a,et){return a.typed&&!this.requirement(a.value)&&_addIssue(this,"URL",a,et),a}}}function uuid(s){return{kind:"validation",type:"uuid",reference:uuid,async:!1,expects:null,requirement:UUID_REGEX,message:s,_run(a,et){return a.typed&&!this.requirement.test(a.value)&&_addIssue(this,"UUID",a,et),a}}}function getDefault(s,a,et){return typeof s.default=="function"?s.default(a,et):s.default}function is(s,a){return!s._run({typed:!1,value:a},{abortEarly:!0}).issues}function array(s,a){return{kind:"schema",type:"array",reference:array,expects:"Array",async:!1,item:s,message:a,_run(et,nt){var mt;const at=et.value;if(Array.isArray(at)){et.typed=!0,et.value=[];for(let wt=0;wt<at.length;wt++){const $t=at[wt],Ct=this.item._run({typed:!1,value:$t},nt);if(Ct.issues){const Dt={type:"array",origin:"value",input:at,key:wt,value:$t};for(const Ft of Ct.issues)Ft.path?Ft.path.unshift(Dt):Ft.path=[Dt],(mt=et.issues)==null||mt.push(Ft);if(et.issues||(et.issues=Ct.issues),nt.abortEarly){et.typed=!1;break}}Ct.typed||(et.typed=!1),et.value.push(Ct.value)}}else _addIssue(this,"type",et,nt);return et}}}function bigint(s){return{kind:"schema",type:"bigint",reference:bigint,expects:"bigint",async:!1,message:s,_run(a,et){return typeof a.value=="bigint"?a.typed=!0:_addIssue(this,"type",a,et),a}}}function boolean(s){return{kind:"schema",type:"boolean",reference:boolean,expects:"boolean",async:!1,message:s,_run(a,et){return typeof a.value=="boolean"?a.typed=!0:_addIssue(this,"type",a,et),a}}}function lazy(s){return{kind:"schema",type:"lazy",reference:lazy,expects:"unknown",async:!1,getter:s,_run(a,et){return this.getter(a.value)._run(a,et)}}}function literal(s,a){return{kind:"schema",type:"literal",reference:literal,expects:_stringify(s),async:!1,literal:s,message:a,_run(et,nt){return et.value===this.literal?et.typed=!0:_addIssue(this,"type",et,nt),et}}}function nullable(s,...a){const et={kind:"schema",type:"nullable",reference:nullable,expects:`${s.expects} | null`,async:!1,wrapped:s,_run(nt,at){return nt.value===null&&("default"in this&&(nt.value=getDefault(this,nt,at)),nt.value===null)?(nt.typed=!0,nt):this.wrapped._run(nt,at)}};return 0 in a&&(et.default=a[0]),et}function nullish(s,...a){const et={kind:"schema",type:"nullish",reference:nullish,expects:`${s.expects} | null | undefined`,async:!1,wrapped:s,_run(nt,at){return(nt.value===null||nt.value===void 0)&&("default"in this&&(nt.value=getDefault(this,nt,at)),nt.value===null||nt.value===void 0)?(nt.typed=!0,nt):this.wrapped._run(nt,at)}};return 0 in a&&(et.default=a[0]),et}function number$1(s){return{kind:"schema",type:"number",reference:number$1,expects:"number",async:!1,message:s,_run(a,et){return typeof a.value=="number"&&!isNaN(a.value)?a.typed=!0:_addIssue(this,"type",a,et),a}}}function object$1(s,a){return{kind:"schema",type:"object",reference:object$1,expects:"Object",async:!1,entries:s,message:a,_run(et,nt){var mt;const at=et.value;if(at&&typeof at=="object"){et.typed=!0,et.value={};for(const wt in this.entries){const $t=at[wt],Ct=this.entries[wt]._run({typed:!1,value:$t},nt);if(Ct.issues){const Dt={type:"object",origin:"value",input:at,key:wt,value:$t};for(const Ft of Ct.issues)Ft.path?Ft.path.unshift(Dt):Ft.path=[Dt],(mt=et.issues)==null||mt.push(Ft);if(et.issues||(et.issues=Ct.issues),nt.abortEarly){et.typed=!1;break}}Ct.typed||(et.typed=!1),(Ct.value!==void 0||wt in at)&&(et.value[wt]=Ct.value)}}else _addIssue(this,"type",et,nt);return et}}}function optional(s,...a){const et={kind:"schema",type:"optional",reference:optional,expects:`${s.expects} | undefined`,async:!1,wrapped:s,_run(nt,at){return nt.value===void 0&&("default"in this&&(nt.value=getDefault(this,nt,at)),nt.value===void 0)?(nt.typed=!0,nt):this.wrapped._run(nt,at)}};return 0 in a&&(et.default=a[0]),et}function record(s,a,et){return{kind:"schema",type:"record",reference:record,expects:"Object",async:!1,key:s,value:a,message:et,_run(nt,at){var wt,$t;const mt=nt.value;if(mt&&typeof mt=="object"){nt.typed=!0,nt.value={};for(const Ct in mt)if(_isValidObjectKey(mt,Ct)){const Dt=mt[Ct],Ft=this.key._run({typed:!1,value:Ct},at);if(Ft.issues){const Nt={type:"object",origin:"key",input:mt,key:Ct,value:Dt};for(const Lt of Ft.issues)Lt.path=[Nt],(wt=nt.issues)==null||wt.push(Lt);if(nt.issues||(nt.issues=Ft.issues),at.abortEarly){nt.typed=!1;break}}const jt=this.value._run({typed:!1,value:Dt},at);if(jt.issues){const Nt={type:"object",origin:"value",input:mt,key:Ct,value:Dt};for(const Lt of jt.issues)Lt.path?Lt.path.unshift(Nt):Lt.path=[Nt],($t=nt.issues)==null||$t.push(Lt);if(nt.issues||(nt.issues=jt.issues),at.abortEarly){nt.typed=!1;break}}(!Ft.typed||!jt.typed)&&(nt.typed=!1),Ft.typed&&(nt.value[Ft.value]=jt.value)}}else _addIssue(this,"type",nt,at);return nt}}}function string(s){return{kind:"schema",type:"string",reference:string,expects:"string",async:!1,message:s,_run(a,et){return typeof a.value=="string"?a.typed=!0:_addIssue(this,"type",a,et),a}}}function tuple(s,a){return{kind:"schema",type:"tuple",reference:tuple,expects:"Array",async:!1,items:s,message:a,_run(et,nt){var mt;const at=et.value;if(Array.isArray(at)){et.typed=!0,et.value=[];for(let wt=0;wt<this.items.length;wt++){const $t=at[wt],Ct=this.items[wt]._run({typed:!1,value:$t},nt);if(Ct.issues){const Dt={type:"array",origin:"value",input:at,key:wt,value:$t};for(const Ft of Ct.issues)Ft.path?Ft.path.unshift(Dt):Ft.path=[Dt],(mt=et.issues)==null||mt.push(Ft);if(et.issues||(et.issues=Ct.issues),nt.abortEarly){et.typed=!1;break}}Ct.typed||(et.typed=!1),et.value.push(Ct.value)}}else _addIssue(this,"type",et,nt);return et}}}function _subIssues(s){let a;if(s)for(const et of s)a?a.push(...et.issues):a=et.issues;return a}function union(s,a){return{kind:"schema",type:"union",reference:union,expects:[...new Set(s.map(et=>et.expects))].join(" | ")||"never",async:!1,options:s,message:a,_run(et,nt){let at,mt,wt;for(const $t of this.options){const Ct=$t._run({typed:!1,value:et.value},nt);if(Ct.typed)if(Ct.issues)mt?mt.push(Ct):mt=[Ct];else{at=Ct;break}else wt?wt.push(Ct):wt=[Ct]}if(at)return at;if(mt){if(mt.length===1)return mt[0];_addIssue(this,"type",et,nt,{issues:_subIssues(mt)}),et.typed=!0}else{if((wt==null?void 0:wt.length)===1)return wt[0];_addIssue(this,"type",et,nt,{issues:_subIssues(wt)})}return et}}}function unknown(){return{kind:"schema",type:"unknown",reference:unknown,expects:"unknown",async:!1,_run(s){return s.typed=!0,s}}}function _discriminators(s,a,et=new Set){for(const nt of a)nt.type==="variant"?_discriminators(s,nt.options,et):et.add(nt.entries[s].expects);return et}function variant(s,a,et){let nt;return{kind:"schema",type:"variant",reference:variant,expects:"Object",async:!1,key:s,options:a,message:et,_run(at,mt){const wt=at.value;if(wt&&typeof wt=="object"){const $t=wt[this.key];if(this.key in wt){let Ct;for(const Dt of this.options)if(Dt.type==="variant"||!Dt.entries[this.key]._run({typed:!1,value:$t},mt).issues){const Ft=Dt._run({typed:!1,value:wt},mt);if(!Ft.issues)return Ft;(!Ct||!Ct.typed&&Ft.typed)&&(Ct=Ft)}if(Ct)return Ct}nt||(nt=[..._discriminators(this.key,this.options)].join(" | ")||"never"),_addIssue(this,"type",at,mt,{input:$t,expected:nt,path:[{type:"object",origin:"value",input:wt,key:this.key,value:$t}]})}else _addIssue(this,"type",at,mt);return at}}}function parse$2(s,a,et){const nt=s._run({typed:!1,value:a},getGlobalConfig(et));if(nt.issues)throw new ValiError(nt.issues);return nt.value}function pipe$4(...s){return{...s[0],pipe:s,_run(a,et){for(let nt=0;nt<s.length;nt++){if(a.issues&&(s[nt].kind==="schema"||s[nt].kind==="transformation")){a.typed=!1;break}(!a.issues||!et.abortEarly&&!et.abortPipeEarly)&&(a=s[nt]._run(a,et))}return a}}}function safeParse(s,a,et){const nt=s._run({typed:!1,value:a},getGlobalConfig(et));return{typed:nt.typed,success:!nt.issues,output:nt.value,issues:nt.issues}}function safeEnum$1(s){const a=Object.entries(s).map(([et,nt])=>object$1({[et]:nt}));return pipe$4(union(a),transform$2(et=>({...et,$kind:Object.keys(et)[0]})))}const SuiAddress$1=pipe$4(string(),transform$2(s=>normalizeSuiAddress$2(s)),check$1(isValidSuiAddress$2)),ObjectID$1=SuiAddress$1,BCSBytes$1=string(),JsonU64$1=pipe$4(union([string(),pipe$4(number$1(),integer())]),check$1(s=>{try{return BigInt(s),BigInt(s)>=0&&BigInt(s)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ObjectRef$3=object$1({objectId:SuiAddress$1,version:JsonU64$1,digest:string()}),Argument$5=pipe$4(union([object$1({GasCoin:literal(!0)}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("pure"))}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("object"))}),object$1({Result:pipe$4(number$1(),integer())}),object$1({NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])})]),transform$2(s=>({...s,$kind:Object.keys(s)[0]}))),GasData$5=object$1({budget:nullable(JsonU64$1),price:nullable(JsonU64$1),owner:nullable(SuiAddress$1),payment:nullable(array(ObjectRef$3))}),OpenMoveTypeSignatureBody$1=union([literal("address"),literal("bool"),literal("u8"),literal("u16"),literal("u32"),literal("u64"),literal("u128"),literal("u256"),object$1({vector:lazy(()=>OpenMoveTypeSignatureBody$1)}),object$1({datatype:object$1({package:string(),module:string(),type:string(),typeParameters:array(lazy(()=>OpenMoveTypeSignatureBody$1))})}),object$1({typeParameter:pipe$4(number$1(),integer())})]),OpenMoveTypeSignature$1=object$1({ref:nullable(union([literal("&"),literal("&mut")])),body:OpenMoveTypeSignatureBody$1}),ProgrammableMoveCall$5=object$1({package:ObjectID$1,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$5),_argumentTypes:optional(nullable(array(OpenMoveTypeSignature$1)))}),$Intent$3=object$1({name:string(),inputs:record(string(),union([Argument$5,array(Argument$5)])),data:record(string(),unknown())}),Command$5=safeEnum$1({MoveCall:ProgrammableMoveCall$5,TransferObjects:object$1({objects:array(Argument$5),address:Argument$5}),SplitCoins:object$1({coin:Argument$5,amounts:array(Argument$5)}),MergeCoins:object$1({destination:Argument$5,sources:array(Argument$5)}),Publish:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$5)}),Upgrade:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1),package:ObjectID$1,ticket:Argument$5}),$Intent:$Intent$3}),ObjectArg$7=safeEnum$1({ImmOrOwnedObject:ObjectRef$3,SharedObject:object$1({objectId:ObjectID$1,initialSharedVersion:JsonU64$1,mutable:boolean()}),Receiving:ObjectRef$3}),CallArg$5=safeEnum$1({Object:ObjectArg$7,Pure:object$1({bytes:BCSBytes$1}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID$1,version:optional(nullable(JsonU64$1)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64$1))})}),NormalizedCallArg$3=safeEnum$1({Object:ObjectArg$7,Pure:object$1({bytes:BCSBytes$1})}),TransactionExpiration$7=safeEnum$1({None:literal(!0),Epoch:JsonU64$1}),TransactionData$3=object$1({version:literal(2),sender:nullish(SuiAddress$1),expiration:nullish(TransactionExpiration$7),gasData:GasData$5,inputs:array(CallArg$5),commands:array(Command$5)}),Commands$1={MoveCall(s){const[a,et="",nt=""]="target"in s?s.target.split("::"):[s.package,s.module,s.function];return{$kind:"MoveCall",MoveCall:{package:a,module:et,function:nt,typeArguments:s.typeArguments??[],arguments:s.arguments??[]}}},TransferObjects(s,a){return{$kind:"TransferObjects",TransferObjects:{objects:s.map(et=>parse$2(Argument$5,et)),address:parse$2(Argument$5,a)}}},SplitCoins(s,a){return{$kind:"SplitCoins",SplitCoins:{coin:parse$2(Argument$5,s),amounts:a.map(et=>parse$2(Argument$5,et))}}},MergeCoins(s,a){return{$kind:"MergeCoins",MergeCoins:{destination:parse$2(Argument$5,s),sources:a.map(et=>parse$2(Argument$5,et))}}},Publish({modules:s,dependencies:a}){return{$kind:"Publish",Publish:{modules:s.map(et=>typeof et=="string"?et:toBase64(new Uint8Array(et))),dependencies:a.map(et=>normalizeSuiObjectId$2(et))}}},Upgrade({modules:s,dependencies:a,package:et,ticket:nt}){return{$kind:"Upgrade",Upgrade:{modules:s.map(at=>typeof at=="string"?at:toBase64(new Uint8Array(at))),dependencies:a.map(at=>normalizeSuiObjectId$2(at)),package:et,ticket:parse$2(Argument$5,nt)}}},MakeMoveVec({type:s,elements:a}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:s??null,elements:a.map(et=>parse$2(Argument$5,et))}}},Intent({name:s,inputs:a={},data:et={}}){return{$kind:"$Intent",$Intent:{name:s,inputs:Object.fromEntries(Object.entries(a).map(([nt,at])=>[nt,Array.isArray(at)?at.map(mt=>parse$2(Argument$5,mt)):parse$2(Argument$5,at)])),data:et}}}},ObjectRef$2=object$1({digest:string(),objectId:string(),version:union([pipe$4(number$1(),integer()),string(),bigint()])}),ObjectArg$6=safeEnum$1({ImmOrOwned:ObjectRef$2,Shared:object$1({objectId:ObjectID$1,initialSharedVersion:JsonU64$1,mutable:boolean()}),Receiving:ObjectRef$2}),NormalizedCallArg$2=safeEnum$1({Object:ObjectArg$6,Pure:array(pipe$4(number$1(),integer()))}),TransactionInput$1=union([object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:optional(literal("object"))}),object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:literal("pure")})]),TransactionExpiration$6=union([object$1({Epoch:pipe$4(number$1(),integer())}),object$1({None:nullable(literal(!0))})]),StringEncodedBigint$1=pipe$4(union([number$1(),string(),bigint()]),check$1(s=>{if(!["string","number","bigint"].includes(typeof s))return!1;try{return BigInt(s),!0}catch{return!1}})),TypeTag$3=union([object$1({bool:nullable(literal(!0))}),object$1({u8:nullable(literal(!0))}),object$1({u64:nullable(literal(!0))}),object$1({u128:nullable(literal(!0))}),object$1({address:nullable(literal(!0))}),object$1({signer:nullable(literal(!0))}),object$1({vector:lazy(()=>TypeTag$3)}),object$1({struct:lazy(()=>StructTag$3)}),object$1({u16:nullable(literal(!0))}),object$1({u32:nullable(literal(!0))}),object$1({u256:nullable(literal(!0))})]),StructTag$3=object$1({address:string(),module:string(),name:string(),typeParams:array(TypeTag$3)}),GasConfig$1=object$1({budget:optional(StringEncodedBigint$1),price:optional(StringEncodedBigint$1),payment:optional(array(ObjectRef$2)),owner:optional(string())}),TransactionArgumentTypes$1=[TransactionInput$1,object$1({kind:literal("GasCoin")}),object$1({kind:literal("Result"),index:pipe$4(number$1(),integer())}),object$1({kind:literal("NestedResult"),index:pipe$4(number$1(),integer()),resultIndex:pipe$4(number$1(),integer())})],TransactionArgument$1=union([...TransactionArgumentTypes$1]),MoveCallTransaction$1=object$1({kind:literal("MoveCall"),target:pipe$4(string(),check$1(s=>s.split("::").length===3)),typeArguments:array(string()),arguments:array(TransactionArgument$1)}),TransferObjectsTransaction$1=object$1({kind:literal("TransferObjects"),objects:array(TransactionArgument$1),address:TransactionArgument$1}),SplitCoinsTransaction$1=object$1({kind:literal("SplitCoins"),coin:TransactionArgument$1,amounts:array(TransactionArgument$1)}),MergeCoinsTransaction$1=object$1({kind:literal("MergeCoins"),destination:TransactionArgument$1,sources:array(TransactionArgument$1)}),MakeMoveVecTransaction$1=object$1({kind:literal("MakeMoveVec"),type:union([object$1({Some:TypeTag$3}),object$1({None:nullable(literal(!0))})]),objects:array(TransactionArgument$1)}),PublishTransaction$1=object$1({kind:literal("Publish"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string())}),UpgradeTransaction$1=object$1({kind:literal("Upgrade"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string()),packageId:string(),ticket:TransactionArgument$1}),TransactionTypes$1=[MoveCallTransaction$1,TransferObjectsTransaction$1,SplitCoinsTransaction$1,MergeCoinsTransaction$1,PublishTransaction$1,UpgradeTransaction$1,MakeMoveVecTransaction$1],TransactionType$1=union([...TransactionTypes$1]);object$1({version:literal(1),sender:optional(string()),expiration:nullish(TransactionExpiration$6),gasConfig:GasConfig$1,inputs:array(TransactionInput$1),transactions:array(TransactionType$1)});function serializeV1TransactionData$1(s){var et;const a=s.inputs.map((nt,at)=>{if(nt.Object)return{kind:"Input",index:at,value:{Object:nt.Object.ImmOrOwnedObject?{ImmOrOwned:nt.Object.ImmOrOwnedObject}:nt.Object.Receiving?{Receiving:{digest:nt.Object.Receiving.digest,version:nt.Object.Receiving.version,objectId:nt.Object.Receiving.objectId}}:{Shared:{mutable:nt.Object.SharedObject.mutable,initialSharedVersion:nt.Object.SharedObject.initialSharedVersion,objectId:nt.Object.SharedObject.objectId}}},type:"object"};if(nt.Pure)return{kind:"Input",index:at,value:{Pure:Array.from(fromBase64(nt.Pure.bytes))},type:"pure"};if(nt.UnresolvedPure)return{kind:"Input",type:"pure",index:at,value:nt.UnresolvedPure.value};if(nt.UnresolvedObject)return{kind:"Input",type:"object",index:at,value:nt.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:s.sender??void 0,expiration:((et=s.expiration)==null?void 0:et.$kind)==="Epoch"?{Epoch:Number(s.expiration.Epoch)}:s.expiration?{None:!0}:null,gasConfig:{owner:s.gasData.owner??void 0,budget:s.gasData.budget??void 0,price:s.gasData.price??void 0,payment:s.gasData.payment??void 0},inputs:a,transactions:s.commands.map(nt=>{if(nt.MakeMoveVec)return{kind:"MakeMoveVec",type:nt.MakeMoveVec.type===null?{None:!0}:{Some:TypeTagSerializer$2.parseFromStr(nt.MakeMoveVec.type)},objects:nt.MakeMoveVec.elements.map(at=>convertTransactionArgument$1(at,a))};if(nt.MergeCoins)return{kind:"MergeCoins",destination:convertTransactionArgument$1(nt.MergeCoins.destination,a),sources:nt.MergeCoins.sources.map(at=>convertTransactionArgument$1(at,a))};if(nt.MoveCall)return{kind:"MoveCall",target:`${nt.MoveCall.package}::${nt.MoveCall.module}::${nt.MoveCall.function}`,typeArguments:nt.MoveCall.typeArguments,arguments:nt.MoveCall.arguments.map(at=>convertTransactionArgument$1(at,a))};if(nt.Publish)return{kind:"Publish",modules:nt.Publish.modules.map(at=>Array.from(fromBase64(at))),dependencies:nt.Publish.dependencies};if(nt.SplitCoins)return{kind:"SplitCoins",coin:convertTransactionArgument$1(nt.SplitCoins.coin,a),amounts:nt.SplitCoins.amounts.map(at=>convertTransactionArgument$1(at,a))};if(nt.TransferObjects)return{kind:"TransferObjects",objects:nt.TransferObjects.objects.map(at=>convertTransactionArgument$1(at,a)),address:convertTransactionArgument$1(nt.TransferObjects.address,a)};if(nt.Upgrade)return{kind:"Upgrade",modules:nt.Upgrade.modules.map(at=>Array.from(fromBase64(at))),dependencies:nt.Upgrade.dependencies,packageId:nt.Upgrade.package,ticket:convertTransactionArgument$1(nt.Upgrade.ticket,a)};throw new Error(`Unknown transaction ${Object.keys(nt)}`)})}}function convertTransactionArgument$1(s,a){if(s.$kind==="GasCoin")return{kind:"GasCoin"};if(s.$kind==="Result")return{kind:"Result",index:s.Result};if(s.$kind==="NestedResult")return{kind:"NestedResult",index:s.NestedResult[0],resultIndex:s.NestedResult[1]};if(s.$kind==="Input")return a[s.Input];throw new Error(`Invalid argument ${Object.keys(s)}`)}function transactionDataFromV1$1(s){var a,et,nt;return parse$2(TransactionData$3,{version:2,sender:s.sender??null,expiration:s.expiration?"Epoch"in s.expiration?{Epoch:s.expiration.Epoch}:{None:!0}:null,gasData:{owner:s.gasConfig.owner??null,budget:((a=s.gasConfig.budget)==null?void 0:a.toString())??null,price:((et=s.gasConfig.price)==null?void 0:et.toString())??null,payment:((nt=s.gasConfig.payment)==null?void 0:nt.map(at=>({digest:at.digest,objectId:at.objectId,version:at.version.toString()})))??null},inputs:s.inputs.map(at=>{if(at.kind==="Input"){if(is(NormalizedCallArg$2,at.value)){const mt=parse$2(NormalizedCallArg$2,at.value);if(mt.Object){if(mt.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:mt.Object.ImmOrOwned.objectId,version:String(mt.Object.ImmOrOwned.version),digest:mt.Object.ImmOrOwned.digest}}};if(mt.Object.Shared)return{Object:{SharedObject:{mutable:mt.Object.Shared.mutable??null,initialSharedVersion:mt.Object.Shared.initialSharedVersion,objectId:mt.Object.Shared.objectId}}};if(mt.Object.Receiving)return{Object:{Receiving:{digest:mt.Object.Receiving.digest,version:String(mt.Object.Receiving.version),objectId:mt.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:toBase64(new Uint8Array(mt.Pure))}}}return at.type==="object"?{UnresolvedObject:{objectId:at.value}}:{UnresolvedPure:{value:at.value}}}throw new Error("Invalid input")}),commands:s.transactions.map(at=>{switch(at.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in at.type?TypeTagSerializer$2.tagToString(at.type.Some):null,elements:at.objects.map(mt=>parseV1TransactionArgument$1(mt))}};case"MergeCoins":return{MergeCoins:{destination:parseV1TransactionArgument$1(at.destination),sources:at.sources.map(mt=>parseV1TransactionArgument$1(mt))}};case"MoveCall":{const[mt,wt,$t]=at.target.split("::");return{MoveCall:{package:mt,module:wt,function:$t,typeArguments:at.typeArguments,arguments:at.arguments.map(Ct=>parseV1TransactionArgument$1(Ct))}}}case"Publish":return{Publish:{modules:at.modules.map(mt=>toBase64(Uint8Array.from(mt))),dependencies:at.dependencies}};case"SplitCoins":return{SplitCoins:{coin:parseV1TransactionArgument$1(at.coin),amounts:at.amounts.map(mt=>parseV1TransactionArgument$1(mt))}};case"TransferObjects":return{TransferObjects:{objects:at.objects.map(mt=>parseV1TransactionArgument$1(mt)),address:parseV1TransactionArgument$1(at.address)}};case"Upgrade":return{Upgrade:{modules:at.modules.map(mt=>toBase64(Uint8Array.from(mt))),dependencies:at.dependencies,package:at.packageId,ticket:parseV1TransactionArgument$1(at.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(at)}`)})})}function parseV1TransactionArgument$1(s){switch(s.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:s.index};case"NestedResult":return{NestedResult:[s.index,s.resultIndex]};case"Input":return{Input:s.index}}}function enumUnion$1(s){return union(Object.entries(s).map(([a,et])=>object$1({[a]:et})))}const Argument$4=enumUnion$1({GasCoin:literal(!0),Input:pipe$4(number$1(),integer()),Result:pipe$4(number$1(),integer()),NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])}),GasData$4=object$1({budget:nullable(JsonU64$1),price:nullable(JsonU64$1),owner:nullable(SuiAddress$1),payment:nullable(array(ObjectRef$3))}),ProgrammableMoveCall$4=object$1({package:ObjectID$1,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$4)}),$Intent$2=object$1({name:string(),inputs:record(string(),union([Argument$4,array(Argument$4)])),data:record(string(),unknown())}),Command$4=enumUnion$1({MoveCall:ProgrammableMoveCall$4,TransferObjects:object$1({objects:array(Argument$4),address:Argument$4}),SplitCoins:object$1({coin:Argument$4,amounts:array(Argument$4)}),MergeCoins:object$1({destination:Argument$4,sources:array(Argument$4)}),Publish:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$4)}),Upgrade:object$1({modules:array(BCSBytes$1),dependencies:array(ObjectID$1),package:ObjectID$1,ticket:Argument$4}),$Intent:$Intent$2}),ObjectArg$5=enumUnion$1({ImmOrOwnedObject:ObjectRef$3,SharedObject:object$1({objectId:ObjectID$1,initialSharedVersion:JsonU64$1,mutable:boolean()}),Receiving:ObjectRef$3}),CallArg$4=enumUnion$1({Object:ObjectArg$5,Pure:object$1({bytes:BCSBytes$1}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID$1,version:optional(nullable(JsonU64$1)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64$1))})}),TransactionExpiration$5=enumUnion$1({None:literal(!0),Epoch:JsonU64$1}),SerializedTransactionDataV2$1=object$1({version:literal(2),sender:nullish(SuiAddress$1),expiration:nullish(TransactionExpiration$5),gasData:GasData$4,inputs:array(CallArg$4),commands:array(Command$4)}),MAX_OBJECTS_PER_FETCH$1=50,GAS_SAFE_OVERHEAD$1=1000n,MAX_GAS$1=5e10;async function resolveTransactionData$1(s,a,et){return await normalizeInputs$1(s,a),await resolveObjectReferences$1(s,a),a.onlyTransactionKind||(await setGasPrice$1(s,a),await setGasBudget$1(s,a),await setGasPayment$1(s,a)),await validate$2(s),await et()}async function setGasPrice$1(s,a){s.gasConfig.price||(s.gasConfig.price=String(await getClient$1(a).getReferenceGasPrice()))}async function setGasBudget$1(s,a){if(s.gasConfig.budget)return;const et=await getClient$1(a).dryRunTransactionBlock({transactionBlock:s.build({overrides:{gasData:{budget:String(MAX_GAS$1),payment:[]}}})});if(et.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${et.effects.status.error}`,{cause:et});const nt=GAS_SAFE_OVERHEAD$1*BigInt(s.gasConfig.price||1n),at=BigInt(et.effects.gasUsed.computationCost)+nt,mt=at+BigInt(et.effects.gasUsed.storageCost)-BigInt(et.effects.gasUsed.storageRebate);s.gasConfig.budget=String(mt>at?mt:at)}async function setGasPayment$1(s,a){if(!s.gasConfig.payment){const nt=(await getClient$1(a).getCoins({owner:s.gasConfig.owner||s.sender,coinType:SUI_TYPE_ARG$2})).data.filter(at=>!s.inputs.find(wt=>{var $t;return($t=wt.Object)!=null&&$t.ImmOrOwnedObject?at.coinObjectId===wt.Object.ImmOrOwnedObject.objectId:!1})).map(at=>({objectId:at.coinObjectId,digest:at.digest,version:at.version}));if(!nt.length)throw new Error("No valid gas coins found for the transaction.");s.gasConfig.payment=nt.map(at=>parse$2(ObjectRef$3,at))}}async function resolveObjectReferences$1(s,a){const et=s.inputs.filter(Ft=>{var jt;return Ft.UnresolvedObject&&!(Ft.UnresolvedObject.version||(jt=Ft.UnresolvedObject)!=null&&jt.initialSharedVersion)}),nt=[...new Set(et.map(Ft=>normalizeSuiObjectId$2(Ft.UnresolvedObject.objectId)))],at=nt.length?chunk$1(nt,MAX_OBJECTS_PER_FETCH$1):[],mt=(await Promise.all(at.map(Ft=>getClient$1(a).multiGetObjects({ids:Ft,options:{showOwner:!0}})))).flat(),wt=new Map(nt.map((Ft,jt)=>[Ft,mt[jt]])),$t=Array.from(wt).filter(([Ft,jt])=>jt.error).map(([Ft,jt])=>JSON.stringify(jt.error));if($t.length)throw new Error(`The following input objects are invalid: ${$t.join(", ")}`);const Ct=mt.map(Ft=>{if(Ft.error||!Ft.data)throw new Error(`Failed to fetch object: ${Ft.error}`);const jt=Ft.data.owner,Nt=jt&&typeof jt=="object"&&"Shared"in jt?jt.Shared.initial_shared_version:null;return{objectId:Ft.data.objectId,digest:Ft.data.digest,version:Ft.data.version,initialSharedVersion:Nt}}),Dt=new Map(nt.map((Ft,jt)=>[Ft,Ct[jt]]));for(const[Ft,jt]of s.inputs.entries()){if(!jt.UnresolvedObject)continue;let Nt;const Lt=normalizeSuiAddress$2(jt.UnresolvedObject.objectId),Ut=Dt.get(Lt);jt.UnresolvedObject.initialSharedVersion??(Ut==null?void 0:Ut.initialSharedVersion)?Nt=Inputs$1.SharedObjectRef({objectId:Lt,initialSharedVersion:jt.UnresolvedObject.initialSharedVersion||(Ut==null?void 0:Ut.initialSharedVersion),mutable:isUsedAsMutable$1(s,Ft)}):isUsedAsReceiving$1(s,Ft)&&(Nt=Inputs$1.ReceivingRef({objectId:Lt,digest:jt.UnresolvedObject.digest??(Ut==null?void 0:Ut.digest),version:jt.UnresolvedObject.version??(Ut==null?void 0:Ut.version)})),s.inputs[s.inputs.indexOf(jt)]=Nt??Inputs$1.ObjectRef({objectId:Lt,digest:jt.UnresolvedObject.digest??(Ut==null?void 0:Ut.digest),version:jt.UnresolvedObject.version??(Ut==null?void 0:Ut.version)})}}async function normalizeInputs$1(s,a){const{inputs:et,commands:nt}=s,at=[],mt=new Set;nt.forEach($t=>{if($t.MoveCall){if($t.MoveCall._argumentTypes)return;if($t.MoveCall.arguments.map(Ft=>Ft.$kind==="Input"?s.inputs[Ft.Input]:null).some(Ft=>(Ft==null?void 0:Ft.UnresolvedPure)||(Ft==null?void 0:Ft.UnresolvedObject))){const Ft=`${$t.MoveCall.package}::${$t.MoveCall.module}::${$t.MoveCall.function}`;mt.add(Ft),at.push($t.MoveCall)}}switch($t.$kind){case"SplitCoins":$t.SplitCoins.amounts.forEach(Ct=>{normalizeRawArgument$1(Ct,suiBcs$2.U64,s)});break;case"TransferObjects":normalizeRawArgument$1($t.TransferObjects.address,suiBcs$2.Address,s);break}});const wt=new Map;if(mt.size>0){const $t=getClient$1(a);await Promise.all([...mt].map(async Ct=>{const[Dt,Ft,jt]=Ct.split("::"),Nt=await $t.getNormalizedMoveFunction({package:Dt,module:Ft,function:jt});wt.set(Ct,Nt.parameters.map(Lt=>normalizedTypeToMoveTypeSignature$1(Lt)))}))}at.length&&await Promise.all(at.map(async $t=>{const Ct=wt.get(`${$t.package}::${$t.module}::${$t.function}`);if(!Ct)return;const Ft=Ct.length>0&&isTxContext$1(Ct.at(-1))?Ct.slice(0,Ct.length-1):Ct;$t._argumentTypes=Ft})),nt.forEach($t=>{if(!$t.MoveCall)return;const Ct=$t.MoveCall,Dt=`${Ct.package}::${Ct.module}::${Ct.function}`,Ft=Ct._argumentTypes;if(Ft){if(Ft.length!==$t.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${Dt}`);Ft.forEach((jt,Nt)=>{var tr,nr;const Lt=Ct.arguments[Nt];if(Lt.$kind!=="Input")return;const Ut=et[Lt.Input];if(!Ut.UnresolvedPure&&!Ut.UnresolvedObject)return;const Vt=((tr=Ut.UnresolvedPure)==null?void 0:tr.value)??((nr=Ut.UnresolvedObject)==null?void 0:nr.objectId),Yt=getPureBcsSchema$1(jt.body);if(Yt){Lt.type="pure",et[et.indexOf(Ut)]=Inputs$1.Pure(Yt.serialize(Vt));return}if(typeof Vt!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(Vt,null,2)}`);Lt.type="object";const er=Ut.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Vt}}:Ut;et[Lt.Input]=er})}})}function validate$2(s){s.inputs.forEach((a,et)=>{if(a.$kind!=="Object"&&a.$kind!=="Pure")throw new Error(`Input at index ${et} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(a)}`)})}function normalizeRawArgument$1(s,a,et){if(s.$kind!=="Input")return;const nt=et.inputs[s.Input];nt.$kind==="UnresolvedPure"&&(et.inputs[s.Input]=Inputs$1.Pure(a.serialize(nt.UnresolvedPure.value)))}function isUsedAsMutable$1(s,a){let et=!1;return s.getInputUses(a,(nt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const mt=at.MoveCall.arguments.indexOf(nt);et=at.MoveCall._argumentTypes[mt].ref!=="&"||et}(at.$kind==="MakeMoveVec"||at.$kind==="MergeCoins"||at.$kind==="SplitCoins")&&(et=!0)}),et}function isUsedAsReceiving$1(s,a){let et=!1;return s.getInputUses(a,(nt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const mt=at.MoveCall.arguments.indexOf(nt);et=isReceivingType$1(at.MoveCall._argumentTypes[mt])||et}}),et}function isReceivingType$1(s){return typeof s.body!="object"||!("datatype"in s.body)?!1:s.body.datatype.package==="0x2"&&s.body.datatype.module==="transfer"&&s.body.datatype.type==="Receiving"}function getClient$1(s){if(!s.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return s.client}function chunk$1(s,a){return Array.from({length:Math.ceil(s.length/a)},(et,nt)=>s.slice(nt*a,nt*a+a))}function createObjectMethods$1(s){function a(et){return s(et)}return a.system=()=>a("0x5"),a.clock=()=>a("0x6"),a.random=()=>a("0x8"),a.denyList=()=>a("0x403"),a.option=({type:et,value:nt})=>at=>at.moveCall({typeArguments:[et],target:`0x1::option::${nt===null?"none":"some"}`,arguments:nt===null?[]:[at.object(nt)]}),a}function createPure$1(s){function a(et,nt){if(typeof et=="string")return s(pureBcsSchemaFromTypeName$2(et).serialize(nt));if(et instanceof Uint8Array||isSerializedBcs(et))return s(et);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return a.u8=et=>s(suiBcs$2.U8.serialize(et)),a.u16=et=>s(suiBcs$2.U16.serialize(et)),a.u32=et=>s(suiBcs$2.U32.serialize(et)),a.u64=et=>s(suiBcs$2.U64.serialize(et)),a.u128=et=>s(suiBcs$2.U128.serialize(et)),a.u256=et=>s(suiBcs$2.U256.serialize(et)),a.bool=et=>s(suiBcs$2.Bool.serialize(et)),a.string=et=>s(suiBcs$2.String.serialize(et)),a.address=et=>s(suiBcs$2.Address.serialize(et)),a.id=a.address,a.vector=(et,nt)=>s(suiBcs$2.vector(pureBcsSchemaFromTypeName$2(et)).serialize(nt)),a.option=(et,nt)=>s(suiBcs$2.option(pureBcsSchemaFromTypeName$2(et)).serialize(nt)),a}function hashTypedData$1(s,a){const et=Array.from(`${s}::`).map(at=>at.charCodeAt(0)),nt=new Uint8Array(et.length+a.length);return nt.set(et),nt.set(a,et.length),blake2b$1(nt,{dkLen:32})}function prepareSuiAddress$1(s){return normalizeSuiAddress$2(s).replace("0x","")}let TransactionDataBuilder$1=class Hl{constructor(a){this.version=2,this.sender=(a==null?void 0:a.sender)??null,this.expiration=(a==null?void 0:a.expiration)??null,this.inputs=(a==null?void 0:a.inputs)??[],this.commands=(a==null?void 0:a.commands)??[],this.gasData=(a==null?void 0:a.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(a){const nt=suiBcs$2.TransactionKind.parse(a).ProgrammableTransaction;if(!nt)throw new Error("Unable to deserialize from bytes.");return Hl.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:nt.inputs,commands:nt.commands})}static fromBytes(a){const et=suiBcs$2.TransactionData.parse(a),nt=et==null?void 0:et.V1,at=nt.kind.ProgrammableTransaction;if(!nt||!at)throw new Error("Unable to deserialize from bytes.");return Hl.restore({version:2,sender:nt.sender,expiration:nt.expiration,gasData:nt.gasData,inputs:at.inputs,commands:at.commands})}static restore(a){return a.version===2?new Hl(parse$2(TransactionData$3,a)):new Hl(parse$2(TransactionData$3,transactionDataFromV1$1(a)))}static getDigestFromBytes(a){const et=hashTypedData$1("TransactionData",a);return toBase58(et)}get gasConfig(){return this.gasData}set gasConfig(a){this.gasData=a}build({maxSizeBytes:a=1/0,overrides:et,onlyTransactionKind:nt}={}){const at=this.inputs,mt=this.commands,wt={ProgrammableTransaction:{inputs:at,commands:mt}};if(nt)return suiBcs$2.TransactionKind.serialize(wt,{maxSize:a}).toBytes();const $t=(et==null?void 0:et.expiration)??this.expiration,Ct=(et==null?void 0:et.sender)??this.sender,Dt={...this.gasData,...et==null?void 0:et.gasConfig,...et==null?void 0:et.gasData};if(!Ct)throw new Error("Missing transaction sender");if(!Dt.budget)throw new Error("Missing gas budget");if(!Dt.payment)throw new Error("Missing gas payment");if(!Dt.price)throw new Error("Missing gas price");const Ft={sender:prepareSuiAddress$1(Ct),expiration:$t||{None:!0},gasData:{payment:Dt.payment,owner:prepareSuiAddress$1(this.gasData.owner??Ct),price:BigInt(Dt.price),budget:BigInt(Dt.budget)},kind:{ProgrammableTransaction:{inputs:at,commands:mt}}};return suiBcs$2.TransactionData.serialize({V1:Ft},{maxSize:a}).toBytes()}addInput(a,et){const nt=this.inputs.length;return this.inputs.push(et),{Input:nt,type:a,$kind:"Input"}}getInputUses(a,et){this.mapArguments((nt,at)=>(nt.$kind==="Input"&&nt.Input===a&&et(nt,at),nt))}mapArguments(a){for(const et of this.commands)switch(et.$kind){case"MoveCall":et.MoveCall.arguments=et.MoveCall.arguments.map(at=>a(at,et));break;case"TransferObjects":et.TransferObjects.objects=et.TransferObjects.objects.map(at=>a(at,et)),et.TransferObjects.address=a(et.TransferObjects.address,et);break;case"SplitCoins":et.SplitCoins.coin=a(et.SplitCoins.coin,et),et.SplitCoins.amounts=et.SplitCoins.amounts.map(at=>a(at,et));break;case"MergeCoins":et.MergeCoins.destination=a(et.MergeCoins.destination,et),et.MergeCoins.sources=et.MergeCoins.sources.map(at=>a(at,et));break;case"MakeMoveVec":et.MakeMoveVec.elements=et.MakeMoveVec.elements.map(at=>a(at,et));break;case"Upgrade":et.Upgrade.ticket=a(et.Upgrade.ticket,et);break;case"$Intent":const nt=et.$Intent.inputs;et.$Intent.inputs={};for(const[at,mt]of Object.entries(nt))et.$Intent.inputs[at]=Array.isArray(mt)?mt.map(wt=>a(wt,et)):a(mt,et);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${et.$kind}`)}}replaceCommand(a,et){if(!Array.isArray(et)){this.commands[a]=et;return}const nt=et.length-1;this.commands.splice(a,1,...et),nt!==0&&this.mapArguments(at=>{switch(at.$kind){case"Result":at.Result>a&&(at.Result+=nt);break;case"NestedResult":at.NestedResult[0]>a&&(at.NestedResult[0]+=nt);break}return at})}getDigest(){const a=this.build({onlyTransactionKind:!1});return Hl.getDigestFromBytes(a)}snapshot(){return parse$2(TransactionData$3,this)}};function getIdFromCallArg$1(s){if(typeof s=="string")return normalizeSuiAddress$2(s);if(s.Object)return s.Object.ImmOrOwnedObject?normalizeSuiAddress$2(s.Object.ImmOrOwnedObject.objectId):s.Object.Receiving?normalizeSuiAddress$2(s.Object.Receiving.objectId):normalizeSuiAddress$2(s.Object.SharedObject.objectId);if(s.UnresolvedObject)return normalizeSuiAddress$2(s.UnresolvedObject.objectId)}var __typeError$8=s=>{throw TypeError(s)},__accessCheck$8=(s,a,et)=>a.has(s)||__typeError$8("Cannot "+et),__privateGet$8=(s,a,et)=>(__accessCheck$8(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$8=(s,a,et)=>a.has(s)?__typeError$8("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$7=(s,a,et,nt)=>(__accessCheck$8(s,a,"write to private field"),a.set(s,et),et),__privateMethod$7=(s,a,et)=>(__accessCheck$8(s,a,"access private method"),et),_serializationPlugins$1,_buildPlugins$1,_intentResolvers$1,_data$1,_Transaction_instances$1,normalizeTransactionArgument_fn$1,resolveArgument_fn$1,prepareBuild_fn$1,runPlugins_fn$1;function createTransactionResult$1(s,a=1/0){const et={$kind:"Result",Result:s},nt=[],at=mt=>nt[mt]??(nt[mt]={$kind:"NestedResult",NestedResult:[s,mt]});return new Proxy(et,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(mt,wt){if(wt in mt)return Reflect.get(mt,wt);if(wt===Symbol.iterator)return function*(){let Ct=0;for(;Ct<a;)yield at(Ct),Ct++};if(typeof wt=="symbol")return;const $t=parseInt(wt,10);if(!(Number.isNaN($t)||$t<0))return at($t)}})}const TRANSACTION_BRAND$1=Symbol.for("@mysten/transaction");function isTransaction$1(s){return!!s&&typeof s=="object"&&s[TRANSACTION_BRAND$1]===!0}const modulePluginRegistry$1={buildPlugins:new Map,serializationPlugins:new Map},TRANSACTION_REGISTRY_KEY$1=Symbol.for("@mysten/transaction/registry");function getGlobalPluginRegistry$1(){try{const s=globalThis;return s[TRANSACTION_REGISTRY_KEY$1]||(s[TRANSACTION_REGISTRY_KEY$1]=modulePluginRegistry$1),s[TRANSACTION_REGISTRY_KEY$1]}catch{return modulePluginRegistry$1}}const _Transaction$1=class ju{constructor(){__privateAdd$8(this,_Transaction_instances$1),__privateAdd$8(this,_serializationPlugins$1),__privateAdd$8(this,_buildPlugins$1),__privateAdd$8(this,_intentResolvers$1,new Map),__privateAdd$8(this,_data$1),this.object=createObjectMethods$1(et=>{var mt,wt;if(typeof et=="function")return this.object(et(this));if(typeof et=="object"&&is(Argument$5,et))return et;const nt=getIdFromCallArg$1(et),at=__privateGet$8(this,_data$1).inputs.find($t=>nt===getIdFromCallArg$1($t));return(mt=at==null?void 0:at.Object)!=null&&mt.SharedObject&&typeof et=="object"&&((wt=et.Object)!=null&&wt.SharedObject)&&(at.Object.SharedObject.mutable=at.Object.SharedObject.mutable||et.Object.SharedObject.mutable),at?{$kind:"Input",Input:__privateGet$8(this,_data$1).inputs.indexOf(at),type:"object"}:__privateGet$8(this,_data$1).addInput("object",typeof et=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:normalizeSuiAddress$2(et)}}:et)});const a=getGlobalPluginRegistry$1();__privateSet$7(this,_data$1,new TransactionDataBuilder$1),__privateSet$7(this,_buildPlugins$1,[...a.buildPlugins.values()]),__privateSet$7(this,_serializationPlugins$1,[...a.serializationPlugins.values()])}static fromKind(a){const et=new ju;return __privateSet$7(et,_data$1,TransactionDataBuilder$1.fromKindBytes(typeof a=="string"?fromBase64(a):a)),et}static from(a){const et=new ju;return isTransaction$1(a)?__privateSet$7(et,_data$1,new TransactionDataBuilder$1(a.getData())):typeof a!="string"||!a.startsWith("{")?__privateSet$7(et,_data$1,TransactionDataBuilder$1.fromBytes(typeof a=="string"?fromBase64(a):a)):__privateSet$7(et,_data$1,TransactionDataBuilder$1.restore(JSON.parse(a))),et}static registerGlobalSerializationPlugin(a,et){getGlobalPluginRegistry$1().serializationPlugins.set(a,et??a)}static unregisterGlobalSerializationPlugin(a){getGlobalPluginRegistry$1().serializationPlugins.delete(a)}static registerGlobalBuildPlugin(a,et){getGlobalPluginRegistry$1().buildPlugins.set(a,et??a)}static unregisterGlobalBuildPlugin(a){getGlobalPluginRegistry$1().buildPlugins.delete(a)}addSerializationPlugin(a){__privateGet$8(this,_serializationPlugins$1).push(a)}addBuildPlugin(a){__privateGet$8(this,_buildPlugins$1).push(a)}addIntentResolver(a,et){if(__privateGet$8(this,_intentResolvers$1).has(a)&&__privateGet$8(this,_intentResolvers$1).get(a)!==et)throw new Error(`Intent resolver for ${a} already exists`);__privateGet$8(this,_intentResolvers$1).set(a,et)}setSender(a){__privateGet$8(this,_data$1).sender=a}setSenderIfNotSet(a){__privateGet$8(this,_data$1).sender||(__privateGet$8(this,_data$1).sender=a)}setExpiration(a){__privateGet$8(this,_data$1).expiration=a?parse$2(TransactionExpiration$7,a):null}setGasPrice(a){__privateGet$8(this,_data$1).gasConfig.price=String(a)}setGasBudget(a){__privateGet$8(this,_data$1).gasConfig.budget=String(a)}setGasBudgetIfNotSet(a){__privateGet$8(this,_data$1).gasData.budget==null&&(__privateGet$8(this,_data$1).gasConfig.budget=String(a))}setGasOwner(a){__privateGet$8(this,_data$1).gasConfig.owner=a}setGasPayment(a){__privateGet$8(this,_data$1).gasConfig.payment=a.map(et=>parse$2(ObjectRef$3,et))}get blockData(){return serializeV1TransactionData$1(__privateGet$8(this,_data$1).snapshot())}getData(){return __privateGet$8(this,_data$1).snapshot()}get[TRANSACTION_BRAND$1](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure$1(a=>isSerializedBcs(a)?__privateGet$8(this,_data$1).addInput("pure",{$kind:"Pure",Pure:{bytes:a.toBase64()}}):__privateGet$8(this,_data$1).addInput("pure",is(NormalizedCallArg$3,a)?parse$2(NormalizedCallArg$3,a):a instanceof Uint8Array?Inputs$1.Pure(a):{$kind:"UnresolvedPure",UnresolvedPure:{value:a}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...a){return this.object(Inputs$1.ObjectRef(...a))}receivingRef(...a){return this.object(Inputs$1.ReceivingRef(...a))}sharedObjectRef(...a){return this.object(Inputs$1.SharedObjectRef(...a))}add(a){if(typeof a=="function")return a(this);const et=__privateGet$8(this,_data$1).commands.push(a);return createTransactionResult$1(et-1)}splitCoins(a,et){const nt=Commands$1.SplitCoins(typeof a=="string"?this.object(a):__privateMethod$7(this,_Transaction_instances$1,resolveArgument_fn$1).call(this,a),et.map(mt=>typeof mt=="number"||typeof mt=="bigint"||typeof mt=="string"?this.pure.u64(mt):__privateMethod$7(this,_Transaction_instances$1,normalizeTransactionArgument_fn$1).call(this,mt))),at=__privateGet$8(this,_data$1).commands.push(nt);return createTransactionResult$1(at-1,et.length)}mergeCoins(a,et){return this.add(Commands$1.MergeCoins(this.object(a),et.map(nt=>this.object(nt))))}publish({modules:a,dependencies:et}){return this.add(Commands$1.Publish({modules:a,dependencies:et}))}upgrade({modules:a,dependencies:et,package:nt,ticket:at}){return this.add(Commands$1.Upgrade({modules:a,dependencies:et,package:nt,ticket:this.object(at)}))}moveCall({arguments:a,...et}){return this.add(Commands$1.MoveCall({...et,arguments:a==null?void 0:a.map(nt=>__privateMethod$7(this,_Transaction_instances$1,normalizeTransactionArgument_fn$1).call(this,nt))}))}transferObjects(a,et){return this.add(Commands$1.TransferObjects(a.map(nt=>this.object(nt)),typeof et=="string"?this.pure.address(et):__privateMethod$7(this,_Transaction_instances$1,normalizeTransactionArgument_fn$1).call(this,et)))}makeMoveVec({type:a,elements:et}){return this.add(Commands$1.MakeMoveVec({type:a,elements:et.map(nt=>this.object(nt))}))}serialize(){return JSON.stringify(serializeV1TransactionData$1(__privateGet$8(this,_data$1).snapshot()))}async toJSON(a={}){return await this.prepareForSerialization(a),JSON.stringify(parse$2(SerializedTransactionDataV2$1,__privateGet$8(this,_data$1).snapshot()),(et,nt)=>typeof nt=="bigint"?nt.toString():nt,2)}async sign(a){const{signer:et,...nt}=a,at=await this.build(nt);return et.signTransaction(at)}async build(a={}){return await this.prepareForSerialization(a),await __privateMethod$7(this,_Transaction_instances$1,prepareBuild_fn$1).call(this,a),__privateGet$8(this,_data$1).build({onlyTransactionKind:a.onlyTransactionKind})}async getDigest(a={}){return await __privateMethod$7(this,_Transaction_instances$1,prepareBuild_fn$1).call(this,a),__privateGet$8(this,_data$1).getDigest()}async prepareForSerialization(a){var at;const et=new Set;for(const mt of __privateGet$8(this,_data$1).commands)mt.$Intent&&et.add(mt.$Intent.name);const nt=[...__privateGet$8(this,_serializationPlugins$1)];for(const mt of et)if(!((at=a.supportedIntents)!=null&&at.includes(mt))){if(!__privateGet$8(this,_intentResolvers$1).has(mt))throw new Error(`Missing intent resolver for ${mt}`);nt.push(__privateGet$8(this,_intentResolvers$1).get(mt))}await __privateMethod$7(this,_Transaction_instances$1,runPlugins_fn$1).call(this,nt,a)}};_serializationPlugins$1=new WeakMap;_buildPlugins$1=new WeakMap;_intentResolvers$1=new WeakMap;_data$1=new WeakMap;_Transaction_instances$1=new WeakSet;normalizeTransactionArgument_fn$1=function(s){return isSerializedBcs(s)?this.pure(s):__privateMethod$7(this,_Transaction_instances$1,resolveArgument_fn$1).call(this,s)};resolveArgument_fn$1=function(s){return typeof s=="function"?parse$2(Argument$5,s(this)):parse$2(Argument$5,s)};prepareBuild_fn$1=async function(s){if(!s.onlyTransactionKind&&!__privateGet$8(this,_data$1).sender)throw new Error("Missing transaction sender");await __privateMethod$7(this,_Transaction_instances$1,runPlugins_fn$1).call(this,[...__privateGet$8(this,_buildPlugins$1),resolveTransactionData$1],s)};runPlugins_fn$1=async function(s,a){const et=nt=>{if(nt>=s.length)return()=>{};const at=s[nt];return async()=>{const mt=et(nt+1);let wt=!1,$t=!1;if(await at(__privateGet$8(this,_data$1),a,async()=>{if(wt)throw new Error(`next() was call multiple times in TransactionPlugin ${nt}`);wt=!0,await mt(),$t=!0}),!wt)throw new Error(`next() was not called in TransactionPlugin ${nt}`);if(!$t)throw new Error(`next() was not awaited in TransactionPlugin ${nt}`)}};await et(0)()};let Transaction$1=_Transaction$1;async function signTransaction(s,a){if(s.features["sui:signTransaction"])return s.features["sui:signTransaction"].signTransaction(a);if(!s.features["sui:signTransactionBlock"])throw new Error(`Provided wallet (${s.name}) does not support the signTransaction feature.`);const{signTransactionBlock:et}=s.features["sui:signTransactionBlock"],nt=Transaction$1.from(await a.transaction.toJSON()),{transactionBlockBytes:at,signature:mt}=await et({transactionBlock:nt,account:a.account,chain:a.chain});return{bytes:at,signature:mt}}const REQUIRED_FEATURES=["standard:connect","standard:events"];function isWalletWithRequiredFeatureSet(s,a=[]){return[...REQUIRED_FEATURES,...a].every(et=>et in s.features)}const SUI_DEVNET_CHAIN="sui:devnet",SUI_TESTNET_CHAIN="sui:testnet",SUI_LOCALNET_CHAIN="sui:localnet",SUI_MAINNET_CHAIN="sui:mainnet",SUI_CHAINS=[SUI_DEVNET_CHAIN,SUI_TESTNET_CHAIN,SUI_LOCALNET_CHAIN,SUI_MAINNET_CHAIN];function toPrimitive$2(s,a){if(typeof s!="object"||!s)return s;var et=s[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(s,a);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function toPropertyKey$2(s){var a=toPrimitive$2(s,"string");return typeof a=="symbol"?a:String(a)}function _defineProperty$2(s,a,et){return a=toPropertyKey$2(a),a in s?Object.defineProperty(s,a,{value:et,enumerable:!0,configurable:!0,writable:!0}):s[a]=et,s}function ownKeys$2(s,a){var et=Object.keys(s);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(s);a&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(s,at).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread2$b(s){for(var a=1;a<arguments.length;a++){var et=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$2(Object(et),!0).forEach(function(nt){_defineProperty$2(s,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(nt){Object.defineProperty(s,nt,Object.getOwnPropertyDescriptor(et,nt))})}return s}function mapValues(s,a){var et={};for(var nt in s)et[nt]=a(s[nt],nt);return et}var shouldApplyCompound=(s,a,et)=>{for(var nt of Object.keys(s)){var at;if(s[nt]!==((at=a[nt])!==null&&at!==void 0?at:et[nt]))return!1}return!0},createRuntimeFn=s=>{var a=et=>{var nt=s.defaultClassName,at=_objectSpread2$b(_objectSpread2$b({},s.defaultVariants),et);for(var mt in at){var wt,$t=(wt=at[mt])!==null&&wt!==void 0?wt:s.defaultVariants[mt];if($t!=null){var Ct=$t;typeof Ct=="boolean"&&(Ct=Ct===!0?"true":"false");var Dt=s.variantClassNames[mt][Ct];Dt&&(nt+=" "+Dt)}}for(var[Ft,jt]of s.compoundVariants)shouldApplyCompound(Ft,at,s.defaultVariants)&&(nt+=" "+jt);return nt};return a.variants=()=>Object.keys(s.variantClassNames),a.classNames={get base(){return s.defaultClassName.split(" ")[0]},get variants(){return mapValues(s.variantClassNames,et=>mapValues(et,nt=>nt.split(" ")[0]))}},a};const PACKAGE_VERSION$1="1.24.0",TARGETED_RPC_VERSION$1="1.45.0",CODE_TO_ERROR_TYPE$1={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};let SuiHTTPTransportError$1=class extends Error{},JsonRpcError$1=class extends SuiHTTPTransportError$1{constructor(a,et){super(a),this.code=et,this.type=CODE_TO_ERROR_TYPE$1[et]??"ServerError"}},SuiHTTPStatusError$1=class extends SuiHTTPTransportError$1{constructor(a,et,nt){super(a),this.status=et,this.statusText=nt}};var __typeError$7=s=>{throw TypeError(s)},__accessCheck$7=(s,a,et)=>a.has(s)||__typeError$7("Cannot "+et),__privateGet$7=(s,a,et)=>(__accessCheck$7(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$7=(s,a,et)=>a.has(s)?__typeError$7("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$6=(s,a,et,nt)=>(__accessCheck$7(s,a,"write to private field"),a.set(s,et),et),__privateMethod$6=(s,a,et)=>(__accessCheck$7(s,a,"access private method"),et),__privateWrapper$1=(s,a,et,nt)=>({set _(at){__privateSet$6(s,a,at)},get _(){return __privateGet$7(s,a,nt)}}),_requestId$3,_disconnects$1,_webSocket$1,_connectionPromise$1,_subscriptions$1,_pendingRequests$1,_WebsocketClient_instances$1,setupWebSocket_fn$1,reconnect_fn$1;function getWebsocketUrl$1(s){const a=new URL(s);return a.protocol=a.protocol.replace("http","ws"),a.toString()}const DEFAULT_CLIENT_OPTIONS$1={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};let WebsocketClient$1=class{constructor(a,et={}){if(__privateAdd$7(this,_WebsocketClient_instances$1),__privateAdd$7(this,_requestId$3,0),__privateAdd$7(this,_disconnects$1,0),__privateAdd$7(this,_webSocket$1,null),__privateAdd$7(this,_connectionPromise$1,null),__privateAdd$7(this,_subscriptions$1,new Set),__privateAdd$7(this,_pendingRequests$1,new Map),this.endpoint=a,this.options={...DEFAULT_CLIENT_OPTIONS$1,...et},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl$1(this.endpoint))}async makeRequest(a,et){const nt=await __privateMethod$6(this,_WebsocketClient_instances$1,setupWebSocket_fn$1).call(this);return new Promise((at,mt)=>{__privateSet$6(this,_requestId$3,__privateGet$7(this,_requestId$3)+1),__privateGet$7(this,_pendingRequests$1).set(__privateGet$7(this,_requestId$3),{resolve:at,reject:mt,timeout:setTimeout(()=>{__privateGet$7(this,_pendingRequests$1).delete(__privateGet$7(this,_requestId$3)),mt(new Error(`Request timeout: ${a}`))},this.options.callTimeout)}),nt.send(JSON.stringify({jsonrpc:"2.0",id:__privateGet$7(this,_requestId$3),method:a,params:et}))}).then(({error:at,result:mt})=>{if(at)throw new JsonRpcError$1(at.message,at.code);return mt})}async subscribe(a){const et=new RpcSubscription$1(a);return __privateGet$7(this,_subscriptions$1).add(et),await et.subscribe(this),()=>et.unsubscribe(this)}};_requestId$3=new WeakMap;_disconnects$1=new WeakMap;_webSocket$1=new WeakMap;_connectionPromise$1=new WeakMap;_subscriptions$1=new WeakMap;_pendingRequests$1=new WeakMap;_WebsocketClient_instances$1=new WeakSet;setupWebSocket_fn$1=function(){return __privateGet$7(this,_connectionPromise$1)?__privateGet$7(this,_connectionPromise$1):(__privateSet$6(this,_connectionPromise$1,new Promise(s=>{var a;(a=__privateGet$7(this,_webSocket$1))==null||a.close(),__privateSet$6(this,_webSocket$1,new this.options.WebSocketConstructor(this.endpoint)),__privateGet$7(this,_webSocket$1).addEventListener("open",()=>{__privateSet$6(this,_disconnects$1,0),s(__privateGet$7(this,_webSocket$1))}),__privateGet$7(this,_webSocket$1).addEventListener("close",()=>{__privateWrapper$1(this,_disconnects$1)._++,__privateGet$7(this,_disconnects$1)<=this.options.maxReconnects&&setTimeout(()=>{__privateMethod$6(this,_WebsocketClient_instances$1,reconnect_fn$1).call(this)},this.options.reconnectTimeout)}),__privateGet$7(this,_webSocket$1).addEventListener("message",({data:et})=>{let nt;try{nt=JSON.parse(et)}catch(at){console.error(new Error(`Failed to parse RPC message: ${et}`,{cause:at}));return}if("id"in nt&&nt.id!=null&&__privateGet$7(this,_pendingRequests$1).has(nt.id)){const{resolve:at,timeout:mt}=__privateGet$7(this,_pendingRequests$1).get(nt.id);clearTimeout(mt),at(nt)}else if("params"in nt){const{params:at}=nt;__privateGet$7(this,_subscriptions$1).forEach(mt=>{mt.subscriptionId===at.subscription&&at.subscription===mt.subscriptionId&&mt.onMessage(at.result)})}})})),__privateGet$7(this,_connectionPromise$1))};reconnect_fn$1=async function(){var s;return(s=__privateGet$7(this,_webSocket$1))==null||s.close(),__privateSet$6(this,_connectionPromise$1,null),Promise.allSettled([...__privateGet$7(this,_subscriptions$1)].map(a=>a.subscribe(this)))};let RpcSubscription$1=class{constructor(a){this.subscriptionId=null,this.subscribed=!1,this.input=a}onMessage(a){this.subscribed&&this.input.onMessage(a)}async unsubscribe(a){const{subscriptionId:et}=this;return this.subscribed=!1,et==null?!1:(this.subscriptionId=null,a.makeRequest(this.input.unsubscribe,[et]))}async subscribe(a){this.subscriptionId=null,this.subscribed=!0;const et=await a.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=et)}};var __typeError$6=s=>{throw TypeError(s)},__accessCheck$6=(s,a,et)=>a.has(s)||__typeError$6("Cannot "+et),__privateGet$6=(s,a,et)=>(__accessCheck$6(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$6=(s,a,et)=>a.has(s)?__typeError$6("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$5=(s,a,et,nt)=>(__accessCheck$6(s,a,"write to private field"),a.set(s,et),et),__privateMethod$5=(s,a,et)=>(__accessCheck$6(s,a,"access private method"),et),_requestId$2,_options$1,_websocketClient$1,_SuiHTTPTransport_instances$1,getWebsocketClient_fn$1;let SuiHTTPTransport$1=class{constructor(a){__privateAdd$6(this,_SuiHTTPTransport_instances$1),__privateAdd$6(this,_requestId$2,0),__privateAdd$6(this,_options$1),__privateAdd$6(this,_websocketClient$1),__privateSet$5(this,_options$1,a)}fetch(a,et){const nt=__privateGet$6(this,_options$1).fetch??fetch;if(!nt)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return nt(a,et)}async request(a){var at,mt;__privateSet$5(this,_requestId$2,__privateGet$6(this,_requestId$2)+1);const et=await this.fetch(((at=__privateGet$6(this,_options$1).rpc)==null?void 0:at.url)??__privateGet$6(this,_options$1).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":PACKAGE_VERSION$1,"Client-Target-Api-Version":TARGETED_RPC_VERSION$1,"Client-Request-Method":a.method,...(mt=__privateGet$6(this,_options$1).rpc)==null?void 0:mt.headers},body:JSON.stringify({jsonrpc:"2.0",id:__privateGet$6(this,_requestId$2),method:a.method,params:a.params})});if(!et.ok)throw new SuiHTTPStatusError$1(`Unexpected status code: ${et.status}`,et.status,et.statusText);const nt=await et.json();if("error"in nt&&nt.error!=null)throw new JsonRpcError$1(nt.error.message,nt.error.code);return nt.result}async subscribe(a){const et=await __privateMethod$5(this,_SuiHTTPTransport_instances$1,getWebsocketClient_fn$1).call(this).subscribe(a);return async()=>!!await et()}};_requestId$2=new WeakMap;_options$1=new WeakMap;_websocketClient$1=new WeakMap;_SuiHTTPTransport_instances$1=new WeakSet;getWebsocketClient_fn$1=function(){var s;if(!__privateGet$6(this,_websocketClient$1)){const a=__privateGet$6(this,_options$1).WebSocketConstructor??WebSocket;if(!a)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");__privateSet$5(this,_websocketClient$1,new WebsocketClient$1(((s=__privateGet$6(this,_options$1).websocket)==null?void 0:s.url)??__privateGet$6(this,_options$1).url,{WebSocketConstructor:a,...__privateGet$6(this,_options$1).websocket}))}return __privateGet$6(this,_websocketClient$1)};function getFullnodeUrl$1(s){switch(s){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${s}`)}}const SUI_CLIENT_BRAND$1=Symbol.for("@mysten/SuiClient");function isSuiClient(s){return typeof s=="object"&&s!==null&&s[SUI_CLIENT_BRAND$1]===!0}let SuiClient$1=class{get[SUI_CLIENT_BRAND$1](){return!0}constructor(a){this.transport=a.transport??new SuiHTTPTransport$1({url:a.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(a){if(!a.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[a.owner,a.coinType,a.cursor,a.limit]})}async getAllCoins(a){if(!a.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[a.owner,a.cursor,a.limit]})}async getBalance(a){if(!a.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[a.owner,a.coinType]})}async getAllBalances(a){if(!a.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[a.owner]})}async getCoinMetadata(a){return await this.transport.request({method:"suix_getCoinMetadata",params:[a.coinType]})}async getTotalSupply(a){return await this.transport.request({method:"suix_getTotalSupply",params:[a.coinType]})}async call(a,et){return await this.transport.request({method:a,params:et})}async getMoveFunctionArgTypes(a){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[a.package,a.module,a.function]})}async getNormalizedMoveModulesByPackage(a){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[a.package]})}async getNormalizedMoveModule(a){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[a.package,a.module]})}async getNormalizedMoveFunction(a){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[a.package,a.module,a.function]})}async getNormalizedMoveStruct(a){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[a.package,a.module,a.struct]})}async getOwnedObjects(a){if(!a.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[a.owner,{filter:a.filter,options:a.options},a.cursor,a.limit]})}async getObject(a){if(!a.id||!isValidSuiObjectId$2(normalizeSuiObjectId$2(a.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[a.id,a.options]})}async tryGetPastObject(a){return await this.transport.request({method:"sui_tryGetPastObject",params:[a.id,a.version,a.options]})}async multiGetObjects(a){if(a.ids.forEach(nt=>{if(!nt||!isValidSuiObjectId$2(normalizeSuiObjectId$2(nt)))throw new Error(`Invalid Sui Object id ${nt}`)}),a.ids.length!==new Set(a.ids).size)throw new Error(`Duplicate object ids in batch call ${a.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[a.ids,a.options]})}async queryTransactionBlocks(a){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:a.filter,options:a.options},a.cursor,a.limit,(a.order||"descending")==="descending"]})}async getTransactionBlock(a){if(!isValidTransactionDigest$2(a.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[a.digest,a.options]})}async multiGetTransactionBlocks(a){if(a.digests.forEach(nt=>{if(!isValidTransactionDigest$2(nt))throw new Error(`Invalid Transaction digest ${nt}`)}),a.digests.length!==new Set(a.digests).size)throw new Error(`Duplicate digests in batch call ${a.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[a.digests,a.options]})}async executeTransactionBlock({transactionBlock:a,signature:et,options:nt,requestType:at}){const mt=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof a=="string"?a:toBase64(a),Array.isArray(et)?et:[et],nt]});if(at==="WaitForLocalExecution")try{await this.waitForTransaction({digest:mt.digest})}catch{}return mt}async signAndExecuteTransaction({transaction:a,signer:et,...nt}){let at;a instanceof Uint8Array?at=a:(a.setSenderIfNotSet(et.toSuiAddress()),at=await a.build({client:this}));const{signature:mt,bytes:wt}=await et.signTransaction(at);return this.executeTransactionBlock({transactionBlock:wt,signature:mt,...nt})}async getTotalTransactionBlocks(){const a=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(a)}async getReferenceGasPrice(){const a=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(a)}async getStakes(a){if(!a.owner||!isValidSuiAddress$2(normalizeSuiAddress$2(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[a.owner]})}async getStakesByIds(a){return a.stakedSuiIds.forEach(et=>{if(!et||!isValidSuiObjectId$2(normalizeSuiObjectId$2(et)))throw new Error(`Invalid Sui Stake id ${et}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[a.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(a){return await this.transport.request({method:"suix_queryEvents",params:[a.query,a.cursor,a.limit,(a.order||"descending")==="descending"]})}async subscribeEvent(a){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[a.filter],onMessage:a.onMessage})}async subscribeTransaction(a){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[a.filter],onMessage:a.onMessage})}async devInspectTransactionBlock(a){var nt;let et;if(isTransaction$1(a.transactionBlock))a.transactionBlock.setSenderIfNotSet(a.sender),et=toBase64(await a.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof a.transactionBlock=="string")et=a.transactionBlock;else if(a.transactionBlock instanceof Uint8Array)et=toBase64(a.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[a.sender,et,(nt=a.gasPrice)==null?void 0:nt.toString(),a.epoch]})}async dryRunTransactionBlock(a){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof a.transactionBlock=="string"?a.transactionBlock:toBase64(a.transactionBlock)]})}async getDynamicFields(a){if(!a.parentId||!isValidSuiObjectId$2(normalizeSuiObjectId$2(a.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[a.parentId,a.cursor,a.limit]})}async getDynamicFieldObject(a){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[a.parentId,a.name]})}async getLatestCheckpointSequenceNumber(){const a=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(a)}async getCheckpoint(a){return await this.transport.request({method:"sui_getCheckpoint",params:[a.id]})}async getCheckpoints(a){return await this.transport.request({method:"sui_getCheckpoints",params:[a.cursor,a==null?void 0:a.limit,a.descendingOrder]})}async getCommitteeInfo(a){return await this.transport.request({method:"suix_getCommitteeInfo",params:[a==null?void 0:a.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(a){return await this.transport.request({method:"suix_getEpochMetrics",params:[a==null?void 0:a.cursor,a==null?void 0:a.limit,a==null?void 0:a.descendingOrder]})}async getAllEpochAddressMetrics(a){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[a==null?void 0:a.descendingOrder]})}async getEpochs(a){return await this.transport.request({method:"suix_getEpochs",params:[a==null?void 0:a.cursor,a==null?void 0:a.limit,a==null?void 0:a.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const a=await this.getCheckpoint({id:"0"}),et=fromBase58(a.digest);return toHex$2(et.slice(0,4))}async resolveNameServiceAddress(a){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[a.name]})}async resolveNameServiceNames({format:a="dot",...et}){const{nextCursor:nt,hasNextPage:at,data:mt}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[et.address,et.cursor,et.limit]});return{hasNextPage:at,nextCursor:nt,data:mt.map(wt=>normalizeSuiNSName$2(wt,a))}}async getProtocolConfig(a){return await this.transport.request({method:"sui_getProtocolConfig",params:[a==null?void 0:a.version]})}async waitForTransaction({signal:a,timeout:et=60*1e3,pollInterval:nt=2*1e3,...at}){const mt=AbortSignal.timeout(et),wt=new Promise(($t,Ct)=>{mt.addEventListener("abort",()=>Ct(mt.reason))});for(wt.catch(()=>{});!mt.aborted;){a==null||a.throwIfAborted();try{return await this.getTransactionBlock(at)}catch{await Promise.race([new Promise(Ct=>setTimeout(Ct,nt)),wt])}}throw mt.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}};function setBigUint64(s,a,et,nt){if(typeof s.setBigUint64=="function")return s.setBigUint64(a,et,nt);const at=BigInt(32),mt=BigInt(4294967295),wt=Number(et>>at&mt),$t=Number(et&mt),Ct=nt?4:0,Dt=nt?0:4;s.setUint32(a+Ct,wt,nt),s.setUint32(a+Dt,$t,nt)}class HashMD extends Hash$1{constructor(a,et,nt,at){super(),this.blockLen=a,this.outputLen=et,this.padOffset=nt,this.isLE=at,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=createView(this.buffer)}update(a){aexists(this);const{view:et,buffer:nt,blockLen:at}=this;a=toBytes(a);const mt=a.length;for(let wt=0;wt<mt;){const $t=Math.min(at-this.pos,mt-wt);if($t===at){const Ct=createView(a);for(;at<=mt-wt;wt+=at)this.process(Ct,wt);continue}nt.set(a.subarray(wt,wt+$t),this.pos),this.pos+=$t,wt+=$t,this.pos===at&&(this.process(et,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){aexists(this),aoutput(a,this),this.finished=!0;const{buffer:et,view:nt,blockLen:at,isLE:mt}=this;let{pos:wt}=this;et[wt++]=128,this.buffer.subarray(wt).fill(0),this.padOffset>at-wt&&(this.process(nt,0),wt=0);for(let jt=wt;jt<at;jt++)et[jt]=0;setBigUint64(nt,at-8,BigInt(this.length*8),mt),this.process(nt,0);const $t=createView(a),Ct=this.outputLen;if(Ct%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Dt=Ct/4,Ft=this.get();if(Dt>Ft.length)throw new Error("_sha2: outputLen bigger than state");for(let jt=0;jt<Dt;jt++)$t.setUint32(4*jt,Ft[jt],mt)}digest(){const{buffer:a,outputLen:et}=this;this.digestInto(a);const nt=a.slice(0,et);return this.destroy(),nt}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:et,buffer:nt,length:at,finished:mt,destroyed:wt,pos:$t}=this;return a.length=at,a.pos=$t,a.finished=mt,a.destroyed=wt,at%et&&a.buffer.set(nt),a}}class HMAC extends Hash$1{constructor(a,et){super(),this.finished=!1,this.destroyed=!1,ahash(a);const nt=toBytes(et);if(this.iHash=a.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const at=this.blockLen,mt=new Uint8Array(at);mt.set(nt.length>at?a.create().update(nt).digest():nt);for(let wt=0;wt<mt.length;wt++)mt[wt]^=54;this.iHash.update(mt),this.oHash=a.create();for(let wt=0;wt<mt.length;wt++)mt[wt]^=106;this.oHash.update(mt),mt.fill(0)}update(a){return aexists(this),this.iHash.update(a),this}digestInto(a){aexists(this),abytes$1(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){const a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));const{oHash:et,iHash:nt,finished:at,destroyed:mt,blockLen:wt,outputLen:$t}=this;return a=a,a.finished=at,a.destroyed=mt,a.blockLen=wt,a.outputLen=$t,a.oHash=et._cloneInto(a.oHash),a.iHash=nt._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$2=(s,a,et)=>new HMAC(s,a).update(et).digest();hmac$2.create=(s,a)=>new HMAC(s,a);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2);function isBytes(s){return s instanceof Uint8Array||ArrayBuffer.isView(s)&&s.constructor.name==="Uint8Array"}function abytes(s){if(!isBytes(s))throw new Error("Uint8Array expected")}function abool(s,a){if(typeof a!="boolean")throw new Error(s+" boolean expected, got "+a)}const hexes=Array.from({length:256},(s,a)=>a.toString(16).padStart(2,"0"));function bytesToHex(s){abytes(s);let a="";for(let et=0;et<s.length;et++)a+=hexes[s[et]];return a}function hexToNumber(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);return s===""?_0n$3:BigInt("0x"+s)}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(s){if(s>=asciis._0&&s<=asciis._9)return s-asciis._0;if(s>=asciis.A&&s<=asciis.F)return s-(asciis.A-10);if(s>=asciis.a&&s<=asciis.f)return s-(asciis.a-10)}function hexToBytes(s){if(typeof s!="string")throw new Error("hex string expected, got "+typeof s);const a=s.length,et=a/2;if(a%2)throw new Error("hex string expected, got unpadded hex of length "+a);const nt=new Uint8Array(et);for(let at=0,mt=0;at<et;at++,mt+=2){const wt=asciiToBase16(s.charCodeAt(mt)),$t=asciiToBase16(s.charCodeAt(mt+1));if(wt===void 0||$t===void 0){const Ct=s[mt]+s[mt+1];throw new Error('hex string expected, got non-hex character "'+Ct+'" at index '+mt)}nt[at]=wt*16+$t}return nt}function bytesToNumberBE(s){return hexToNumber(bytesToHex(s))}function bytesToNumberLE(s){return abytes(s),hexToNumber(bytesToHex(Uint8Array.from(s).reverse()))}function numberToBytesBE(s,a){return hexToBytes(s.toString(16).padStart(a*2,"0"))}function numberToBytesLE(s,a){return numberToBytesBE(s,a).reverse()}function ensureBytes(s,a,et){let nt;if(typeof a=="string")try{nt=hexToBytes(a)}catch(mt){throw new Error(s+" must be hex string or Uint8Array, cause: "+mt)}else if(isBytes(a))nt=Uint8Array.from(a);else throw new Error(s+" must be hex string or Uint8Array");const at=nt.length;if(typeof et=="number"&&at!==et)throw new Error(s+" of length "+et+" expected, got "+at);return nt}function concatBytes(...s){let a=0;for(let nt=0;nt<s.length;nt++){const at=s[nt];abytes(at),a+=at.length}const et=new Uint8Array(a);for(let nt=0,at=0;nt<s.length;nt++){const mt=s[nt];et.set(mt,at),at+=mt.length}return et}const isPosBig=s=>typeof s=="bigint"&&_0n$3<=s;function inRange(s,a,et){return isPosBig(s)&&isPosBig(a)&&isPosBig(et)&&a<=s&&s<et}function aInRange(s,a,et,nt){if(!inRange(a,et,nt))throw new Error("expected valid "+s+": "+et+" <= n < "+nt+", got "+a)}function bitLen(s){let a;for(a=0;s>_0n$3;s>>=_1n$4,a+=1);return a}const bitMask=s=>(_2n$3<<BigInt(s-1))-_1n$4,validatorFns={bigint:s=>typeof s=="bigint",function:s=>typeof s=="function",boolean:s=>typeof s=="boolean",string:s=>typeof s=="string",stringOrUint8Array:s=>typeof s=="string"||isBytes(s),isSafeInteger:s=>Number.isSafeInteger(s),array:s=>Array.isArray(s),field:(s,a)=>a.Fp.isValid(s),hash:s=>typeof s=="function"&&Number.isSafeInteger(s.outputLen)};function validateObject(s,a,et={}){const nt=(at,mt,wt)=>{const $t=validatorFns[mt];if(typeof $t!="function")throw new Error("invalid validator function");const Ct=s[at];if(!(wt&&Ct===void 0)&&!$t(Ct,s))throw new Error("param "+String(at)+" is invalid. Expected "+mt+", got "+Ct)};for(const[at,mt]of Object.entries(a))nt(at,mt,!1);for(const[at,mt]of Object.entries(et))nt(at,mt,!0);return s}function memoized(s){const a=new WeakMap;return(et,...nt)=>{const at=a.get(et);if(at!==void 0)return at;const mt=s(et,...nt);return a.set(et,mt),mt}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);function mod$2(s,a){const et=s%a;return et>=_0n$2?et:a+et}function pow$3(s,a,et){if(a<_0n$2)throw new Error("invalid exponent, negatives unsupported");if(et<=_0n$2)throw new Error("invalid modulus");if(et===_1n$3)return _0n$2;let nt=_1n$3;for(;a>_0n$2;)a&_1n$3&&(nt=nt*s%et),s=s*s%et,a>>=_1n$3;return nt}function pow2(s,a,et){let nt=s;for(;a-- >_0n$2;)nt*=nt,nt%=et;return nt}function invert(s,a){if(s===_0n$2)throw new Error("invert: expected non-zero number");if(a<=_0n$2)throw new Error("invert: expected positive modulus, got "+a);let et=mod$2(s,a),nt=a,at=_0n$2,mt=_1n$3;for(;et!==_0n$2;){const $t=nt/et,Ct=nt%et,Dt=at-mt*$t;nt=et,et=Ct,at=mt,mt=Dt}if(nt!==_1n$3)throw new Error("invert: does not exist");return mod$2(at,a)}function tonelliShanks(s){const a=(s-_1n$3)/_2n$2;let et,nt,at;for(et=s-_1n$3,nt=0;et%_2n$2===_0n$2;et/=_2n$2,nt++);for(at=_2n$2;at<s&&pow$3(at,a,s)!==s-_1n$3;at++)if(at>1e3)throw new Error("Cannot find square root: likely non-prime P");if(nt===1){const wt=(s+_1n$3)/_4n;return function(Ct,Dt){const Ft=Ct.pow(Dt,wt);if(!Ct.eql(Ct.sqr(Ft),Dt))throw new Error("Cannot find square root");return Ft}}const mt=(et+_1n$3)/_2n$2;return function($t,Ct){if($t.pow(Ct,a)===$t.neg($t.ONE))throw new Error("Cannot find square root");let Dt=nt,Ft=$t.pow($t.mul($t.ONE,at),et),jt=$t.pow(Ct,mt),Nt=$t.pow(Ct,et);for(;!$t.eql(Nt,$t.ONE);){if($t.eql(Nt,$t.ZERO))return $t.ZERO;let Lt=1;for(let Vt=$t.sqr(Nt);Lt<Dt&&!$t.eql(Vt,$t.ONE);Lt++)Vt=$t.sqr(Vt);const Ut=$t.pow(Ft,_1n$3<<BigInt(Dt-Lt-1));Ft=$t.sqr(Ut),jt=$t.mul(jt,Ut),Nt=$t.mul(Nt,Ft),Dt=Lt}return jt}}function FpSqrt(s){if(s%_4n===_3n){const a=(s+_1n$3)/_4n;return function(nt,at){const mt=nt.pow(at,a);if(!nt.eql(nt.sqr(mt),at))throw new Error("Cannot find square root");return mt}}if(s%_8n$2===_5n$1){const a=(s-_5n$1)/_8n$2;return function(nt,at){const mt=nt.mul(at,_2n$2),wt=nt.pow(mt,a),$t=nt.mul(at,wt),Ct=nt.mul(nt.mul($t,_2n$2),wt),Dt=nt.mul($t,nt.sub(Ct,nt.ONE));if(!nt.eql(nt.sqr(Dt),at))throw new Error("Cannot find square root");return Dt}}return tonelliShanks(s)}const isNegativeLE=(s,a)=>(mod$2(s,a)&_1n$3)===_1n$3,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(s){const a={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},et=FIELD_FIELDS.reduce((nt,at)=>(nt[at]="function",nt),a);return validateObject(s,et)}function FpPow(s,a,et){if(et<_0n$2)throw new Error("invalid exponent, negatives unsupported");if(et===_0n$2)return s.ONE;if(et===_1n$3)return a;let nt=s.ONE,at=a;for(;et>_0n$2;)et&_1n$3&&(nt=s.mul(nt,at)),at=s.sqr(at),et>>=_1n$3;return nt}function FpInvertBatch(s,a){const et=new Array(a.length),nt=a.reduce((mt,wt,$t)=>s.is0(wt)?mt:(et[$t]=mt,s.mul(mt,wt)),s.ONE),at=s.inv(nt);return a.reduceRight((mt,wt,$t)=>s.is0(wt)?mt:(et[$t]=s.mul(mt,et[$t]),s.mul(mt,wt)),at),et}function nLength(s,a){const et=a!==void 0?a:s.toString(2).length,nt=Math.ceil(et/8);return{nBitLength:et,nByteLength:nt}}function Field(s,a,et=!1,nt={}){if(s<=_0n$2)throw new Error("invalid field: expected ORDER > 0, got "+s);const{nBitLength:at,nByteLength:mt}=nLength(s,a);if(mt>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let wt;const $t=Object.freeze({ORDER:s,isLE:et,BITS:at,BYTES:mt,MASK:bitMask(at),ZERO:_0n$2,ONE:_1n$3,create:Ct=>mod$2(Ct,s),isValid:Ct=>{if(typeof Ct!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof Ct);return _0n$2<=Ct&&Ct<s},is0:Ct=>Ct===_0n$2,isOdd:Ct=>(Ct&_1n$3)===_1n$3,neg:Ct=>mod$2(-Ct,s),eql:(Ct,Dt)=>Ct===Dt,sqr:Ct=>mod$2(Ct*Ct,s),add:(Ct,Dt)=>mod$2(Ct+Dt,s),sub:(Ct,Dt)=>mod$2(Ct-Dt,s),mul:(Ct,Dt)=>mod$2(Ct*Dt,s),pow:(Ct,Dt)=>FpPow($t,Ct,Dt),div:(Ct,Dt)=>mod$2(Ct*invert(Dt,s),s),sqrN:Ct=>Ct*Ct,addN:(Ct,Dt)=>Ct+Dt,subN:(Ct,Dt)=>Ct-Dt,mulN:(Ct,Dt)=>Ct*Dt,inv:Ct=>invert(Ct,s),sqrt:nt.sqrt||(Ct=>(wt||(wt=FpSqrt(s)),wt($t,Ct))),invertBatch:Ct=>FpInvertBatch($t,Ct),cmov:(Ct,Dt,Ft)=>Ft?Dt:Ct,toBytes:Ct=>et?numberToBytesLE(Ct,mt):numberToBytesBE(Ct,mt),fromBytes:Ct=>{if(Ct.length!==mt)throw new Error("Field.fromBytes: expected "+mt+" bytes, got "+Ct.length);return et?bytesToNumberLE(Ct):bytesToNumberBE(Ct)}});return Object.freeze($t)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function constTimeNegate(s,a){const et=a.negate();return s?et:a}function validateW(s,a){if(!Number.isSafeInteger(s)||s<=0||s>a)throw new Error("invalid window size, expected [1.."+a+"], got W="+s)}function calcWOpts(s,a){validateW(s,a);const et=Math.ceil(a/s)+1,nt=2**(s-1);return{windows:et,windowSize:nt}}function validateMSMPoints(s,a){if(!Array.isArray(s))throw new Error("array expected");s.forEach((et,nt)=>{if(!(et instanceof a))throw new Error("invalid point at index "+nt)})}function validateMSMScalars(s,a){if(!Array.isArray(s))throw new Error("array of scalars expected");s.forEach((et,nt)=>{if(!a.isValid(et))throw new Error("invalid scalar at index "+nt)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(s){return pointWindowSizes.get(s)||1}function wNAF(s,a){return{constTimeNegate,hasPrecomputes(et){return getW(et)!==1},unsafeLadder(et,nt,at=s.ZERO){let mt=et;for(;nt>_0n$1;)nt&_1n$2&&(at=at.add(mt)),mt=mt.double(),nt>>=_1n$2;return at},precomputeWindow(et,nt){const{windows:at,windowSize:mt}=calcWOpts(nt,a),wt=[];let $t=et,Ct=$t;for(let Dt=0;Dt<at;Dt++){Ct=$t,wt.push(Ct);for(let Ft=1;Ft<mt;Ft++)Ct=Ct.add($t),wt.push(Ct);$t=Ct.double()}return wt},wNAF(et,nt,at){const{windows:mt,windowSize:wt}=calcWOpts(et,a);let $t=s.ZERO,Ct=s.BASE;const Dt=BigInt(2**et-1),Ft=2**et,jt=BigInt(et);for(let Nt=0;Nt<mt;Nt++){const Lt=Nt*wt;let Ut=Number(at&Dt);at>>=jt,Ut>wt&&(Ut-=Ft,at+=_1n$2);const Vt=Lt,Yt=Lt+Math.abs(Ut)-1,er=Nt%2!==0,tr=Ut<0;Ut===0?Ct=Ct.add(constTimeNegate(er,nt[Vt])):$t=$t.add(constTimeNegate(tr,nt[Yt]))}return{p:$t,f:Ct}},wNAFUnsafe(et,nt,at,mt=s.ZERO){const{windows:wt,windowSize:$t}=calcWOpts(et,a),Ct=BigInt(2**et-1),Dt=2**et,Ft=BigInt(et);for(let jt=0;jt<wt;jt++){const Nt=jt*$t;if(at===_0n$1)break;let Lt=Number(at&Ct);if(at>>=Ft,Lt>$t&&(Lt-=Dt,at+=_1n$2),Lt===0)continue;let Ut=nt[Nt+Math.abs(Lt)-1];Lt<0&&(Ut=Ut.negate()),mt=mt.add(Ut)}return mt},getPrecomputes(et,nt,at){let mt=pointPrecomputes.get(nt);return mt||(mt=this.precomputeWindow(nt,et),et!==1&&pointPrecomputes.set(nt,at(mt))),mt},wNAFCached(et,nt,at){const mt=getW(et);return this.wNAF(mt,this.getPrecomputes(mt,et,at),nt)},wNAFCachedUnsafe(et,nt,at,mt){const wt=getW(et);return wt===1?this.unsafeLadder(et,nt,mt):this.wNAFUnsafe(wt,this.getPrecomputes(wt,et,at),nt,mt)},setWindowSize(et,nt){validateW(nt,a),pointWindowSizes.set(et,nt),pointPrecomputes.delete(et)}}}function pippenger(s,a,et,nt){if(validateMSMPoints(et,s),validateMSMScalars(nt,a),et.length!==nt.length)throw new Error("arrays of points and scalars must have equal length");const at=s.ZERO,mt=bitLen(BigInt(et.length)),wt=mt>12?mt-3:mt>4?mt-2:mt?2:1,$t=(1<<wt)-1,Ct=new Array($t+1).fill(at),Dt=Math.floor((a.BITS-1)/wt)*wt;let Ft=at;for(let jt=Dt;jt>=0;jt-=wt){Ct.fill(at);for(let Lt=0;Lt<nt.length;Lt++){const Ut=nt[Lt],Vt=Number(Ut>>BigInt(jt)&BigInt($t));Ct[Vt]=Ct[Vt].add(et[Lt])}let Nt=at;for(let Lt=Ct.length-1,Ut=at;Lt>0;Lt--)Ut=Ut.add(Ct[Lt]),Nt=Nt.add(Ut);if(Ft=Ft.add(Nt),jt!==0)for(let Lt=0;Lt<wt;Lt++)Ft=Ft.double()}return Ft}function validateBasic(s){return validateField(s.Fp),validateObject(s,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(s.n,s.nBitLength),...s,p:s.Fp.ORDER})}function messageWithIntent(s,a){return suiBcs$2.IntentMessage(suiBcs$2.fixedArray(a.length,suiBcs$2.u8())).serialize({intent:{scope:{[s]:!0},version:{V0:!0},appId:{Sui:!0}},value:a}).toBytes()}const SIGNATURE_SCHEME_TO_FLAG={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},SIGNATURE_SCHEME_TO_SIZE={ED25519:32,Secp256k1:33,Secp256r1:33},SIGNATURE_FLAG_TO_SCHEME={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};function bytesEqual(s,a){if(s===a)return!0;if(s.length!==a.length)return!1;for(let et=0;et<s.length;et++)if(s[et]!==a[et])return!1;return!0}let PublicKey$2=class{equals(a){return bytesEqual(this.toRawBytes(),a.toRawBytes())}toBase64(){return toBase64(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){const a=this.toSuiBytes();return toBase64(a)}verifyWithIntent(a,et,nt){const at=messageWithIntent(nt,a),mt=blake2b$1(at,{dkLen:32});return this.verify(mt,et)}verifyPersonalMessage(a,et){return this.verifyWithIntent(suiBcs$2.vector(suiBcs$2.u8()).serialize(a).toBytes(),et,"PersonalMessage")}verifyTransaction(a,et){return this.verifyWithIntent(a,et,"TransactionData")}verifyAddress(a){return this.toSuiAddress()===a}toSuiBytes(){const a=this.toRawBytes(),et=new Uint8Array(a.length+1);return et.set([this.flag()]),et.set(a,1),et}toSuiAddress(){return normalizeSuiAddress$2(bytesToHex$1(blake2b$1(this.toSuiBytes(),{dkLen:32})).slice(0,SUI_ADDRESS_LENGTH$2*2))}};function parseSerializedKeypairSignature(s){const a=fromBase64(s),et=SIGNATURE_FLAG_TO_SCHEME[a[0]];switch(et){case"ED25519":case"Secp256k1":case"Secp256r1":const nt=SIGNATURE_SCHEME_TO_SIZE[et],at=a.slice(1,a.length-nt),mt=a.slice(1+at.length);return{serializedSignature:s,signatureScheme:et,signature:at,publicKey:mt,bytes:a};default:throw new Error("Unsupported signature scheme")}}function devAssert(s,a){if(!!!s)throw new Error(a)}function isObjectLike$1(s){return typeof s=="object"&&s!==null}function invariant$R(s,a){if(!!!s)throw new Error("Unexpected invariant triggered.")}const LineRegExp=/\r\n|[\n\r]/g;function getLocation(s,a){let et=0,nt=1;for(const at of s.body.matchAll(LineRegExp)){if(typeof at.index=="number"||invariant$R(!1),at.index>=a)break;et=at.index+at[0].length,nt+=1}return{line:nt,column:a+1-et}}function printLocation(s){return printSourceLocation(s.source,getLocation(s.source,s.start))}function printSourceLocation(s,a){const et=s.locationOffset.column-1,nt="".padStart(et)+s.body,at=a.line-1,mt=s.locationOffset.line-1,wt=a.line+mt,$t=a.line===1?et:0,Ct=a.column+$t,Dt=`${s.name}:${wt}:${Ct}
`,Ft=nt.split(/\r\n|[\n\r]/g),jt=Ft[at];if(jt.length>120){const Nt=Math.floor(Ct/80),Lt=Ct%80,Ut=[];for(let Vt=0;Vt<jt.length;Vt+=80)Ut.push(jt.slice(Vt,Vt+80));return Dt+printPrefixedLines([[`${wt} |`,Ut[0]],...Ut.slice(1,Nt+1).map(Vt=>["|",Vt]),["|","^".padStart(Lt)],["|",Ut[Nt+1]]])}return Dt+printPrefixedLines([[`${wt-1} |`,Ft[at-1]],[`${wt} |`,jt],["|","^".padStart(Ct)],[`${wt+1} |`,Ft[at+1]]])}function printPrefixedLines(s){const a=s.filter(([nt,at])=>at!==void 0),et=Math.max(...a.map(([nt])=>nt.length));return a.map(([nt,at])=>nt.padStart(et)+(at?" "+at:"")).join(`
`)}function toNormalizedOptions(s){const a=s[0];return a==null||"kind"in a||"length"in a?{nodes:a,source:s[1],positions:s[2],path:s[3],originalError:s[4],extensions:s[5]}:a}class GraphQLError extends Error{constructor(a,...et){var nt,at,mt;const{nodes:wt,source:$t,positions:Ct,path:Dt,originalError:Ft,extensions:jt}=toNormalizedOptions(et);super(a),this.name="GraphQLError",this.path=Dt??void 0,this.originalError=Ft??void 0,this.nodes=undefinedIfEmpty(Array.isArray(wt)?wt:wt?[wt]:void 0);const Nt=undefinedIfEmpty((nt=this.nodes)===null||nt===void 0?void 0:nt.map(Ut=>Ut.loc).filter(Ut=>Ut!=null));this.source=$t??(Nt==null||(at=Nt[0])===null||at===void 0?void 0:at.source),this.positions=Ct??(Nt==null?void 0:Nt.map(Ut=>Ut.start)),this.locations=Ct&&$t?Ct.map(Ut=>getLocation($t,Ut)):Nt==null?void 0:Nt.map(Ut=>getLocation(Ut.source,Ut.start));const Lt=isObjectLike$1(Ft==null?void 0:Ft.extensions)?Ft==null?void 0:Ft.extensions:void 0;this.extensions=(mt=jt??Lt)!==null&&mt!==void 0?mt:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),Ft!=null&&Ft.stack?Object.defineProperty(this,"stack",{value:Ft.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let a=this.message;if(this.nodes)for(const et of this.nodes)et.loc&&(a+=`

`+printLocation(et.loc));else if(this.source&&this.locations)for(const et of this.locations)a+=`

`+printSourceLocation(this.source,et);return a}toJSON(){const a={message:this.message};return this.locations!=null&&(a.locations=this.locations),this.path!=null&&(a.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(a.extensions=this.extensions),a}}function undefinedIfEmpty(s){return s===void 0||s.length===0?void 0:s}function syntaxError(s,a,et){return new GraphQLError(`Syntax Error: ${et}`,{source:s,positions:[a]})}class Location{constructor(a,et,nt){this.start=a.start,this.end=et.end,this.startToken=a,this.endToken=et,this.source=nt}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Token{constructor(a,et,nt,at,mt,wt){this.kind=a,this.start=et,this.end=nt,this.line=at,this.column=mt,this.value=wt,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kindValues=new Set(Object.keys(QueryDocumentKeys));function isNode(s){const a=s==null?void 0:s.kind;return typeof a=="string"&&kindValues.has(a)}var OperationTypeNode;(function(s){s.QUERY="query",s.MUTATION="mutation",s.SUBSCRIPTION="subscription"})(OperationTypeNode||(OperationTypeNode={}));var DirectiveLocation;(function(s){s.QUERY="QUERY",s.MUTATION="MUTATION",s.SUBSCRIPTION="SUBSCRIPTION",s.FIELD="FIELD",s.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",s.FRAGMENT_SPREAD="FRAGMENT_SPREAD",s.INLINE_FRAGMENT="INLINE_FRAGMENT",s.VARIABLE_DEFINITION="VARIABLE_DEFINITION",s.SCHEMA="SCHEMA",s.SCALAR="SCALAR",s.OBJECT="OBJECT",s.FIELD_DEFINITION="FIELD_DEFINITION",s.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",s.INTERFACE="INTERFACE",s.UNION="UNION",s.ENUM="ENUM",s.ENUM_VALUE="ENUM_VALUE",s.INPUT_OBJECT="INPUT_OBJECT",s.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(DirectiveLocation||(DirectiveLocation={}));var Kind;(function(s){s.NAME="Name",s.DOCUMENT="Document",s.OPERATION_DEFINITION="OperationDefinition",s.VARIABLE_DEFINITION="VariableDefinition",s.SELECTION_SET="SelectionSet",s.FIELD="Field",s.ARGUMENT="Argument",s.FRAGMENT_SPREAD="FragmentSpread",s.INLINE_FRAGMENT="InlineFragment",s.FRAGMENT_DEFINITION="FragmentDefinition",s.VARIABLE="Variable",s.INT="IntValue",s.FLOAT="FloatValue",s.STRING="StringValue",s.BOOLEAN="BooleanValue",s.NULL="NullValue",s.ENUM="EnumValue",s.LIST="ListValue",s.OBJECT="ObjectValue",s.OBJECT_FIELD="ObjectField",s.DIRECTIVE="Directive",s.NAMED_TYPE="NamedType",s.LIST_TYPE="ListType",s.NON_NULL_TYPE="NonNullType",s.SCHEMA_DEFINITION="SchemaDefinition",s.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",s.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",s.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",s.FIELD_DEFINITION="FieldDefinition",s.INPUT_VALUE_DEFINITION="InputValueDefinition",s.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",s.UNION_TYPE_DEFINITION="UnionTypeDefinition",s.ENUM_TYPE_DEFINITION="EnumTypeDefinition",s.ENUM_VALUE_DEFINITION="EnumValueDefinition",s.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",s.DIRECTIVE_DEFINITION="DirectiveDefinition",s.SCHEMA_EXTENSION="SchemaExtension",s.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",s.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",s.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",s.UNION_TYPE_EXTENSION="UnionTypeExtension",s.ENUM_TYPE_EXTENSION="EnumTypeExtension",s.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Kind||(Kind={}));function isWhiteSpace(s){return s===9||s===32}function isDigit(s){return s>=48&&s<=57}function isLetter(s){return s>=97&&s<=122||s>=65&&s<=90}function isNameStart(s){return isLetter(s)||s===95}function isNameContinue(s){return isLetter(s)||isDigit(s)||s===95}function dedentBlockStringLines(s){var a;let et=Number.MAX_SAFE_INTEGER,nt=null,at=-1;for(let wt=0;wt<s.length;++wt){var mt;const $t=s[wt],Ct=leadingWhitespace($t);Ct!==$t.length&&(nt=(mt=nt)!==null&&mt!==void 0?mt:wt,at=wt,wt!==0&&Ct<et&&(et=Ct))}return s.map((wt,$t)=>$t===0?wt:wt.slice(et)).slice((a=nt)!==null&&a!==void 0?a:0,at+1)}function leadingWhitespace(s){let a=0;for(;a<s.length&&isWhiteSpace(s.charCodeAt(a));)++a;return a}function printBlockString(s,a){const et=s.replace(/"""/g,'\\"""'),nt=et.split(/\r\n|[\n\r]/g),at=nt.length===1,mt=nt.length>1&&nt.slice(1).every(Lt=>Lt.length===0||isWhiteSpace(Lt.charCodeAt(0))),wt=et.endsWith('\\"""'),$t=s.endsWith('"')&&!wt,Ct=s.endsWith("\\"),Dt=$t||Ct,Ft=!at||s.length>70||Dt||mt||wt;let jt="";const Nt=at&&isWhiteSpace(s.charCodeAt(0));return(Ft&&!Nt||mt)&&(jt+=`
`),jt+=et,(Ft||Dt)&&(jt+=`
`),'"""'+jt+'"""'}var TokenKind;(function(s){s.SOF="<SOF>",s.EOF="<EOF>",s.BANG="!",s.DOLLAR="$",s.AMP="&",s.PAREN_L="(",s.PAREN_R=")",s.SPREAD="...",s.COLON=":",s.EQUALS="=",s.AT="@",s.BRACKET_L="[",s.BRACKET_R="]",s.BRACE_L="{",s.PIPE="|",s.BRACE_R="}",s.NAME="Name",s.INT="Int",s.FLOAT="Float",s.STRING="String",s.BLOCK_STRING="BlockString",s.COMMENT="Comment"})(TokenKind||(TokenKind={}));class Lexer{constructor(a){const et=new Token(TokenKind.SOF,0,0,0,0);this.source=a,this.lastToken=et,this.token=et,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let a=this.token;if(a.kind!==TokenKind.EOF)do if(a.next)a=a.next;else{const et=readNextToken(this,a.end);a.next=et,et.prev=a,a=et}while(a.kind===TokenKind.COMMENT);return a}}function isPunctuatorTokenKind(s){return s===TokenKind.BANG||s===TokenKind.DOLLAR||s===TokenKind.AMP||s===TokenKind.PAREN_L||s===TokenKind.PAREN_R||s===TokenKind.SPREAD||s===TokenKind.COLON||s===TokenKind.EQUALS||s===TokenKind.AT||s===TokenKind.BRACKET_L||s===TokenKind.BRACKET_R||s===TokenKind.BRACE_L||s===TokenKind.PIPE||s===TokenKind.BRACE_R}function isUnicodeScalarValue(s){return s>=0&&s<=55295||s>=57344&&s<=1114111}function isSupplementaryCodePoint(s,a){return isLeadingSurrogate(s.charCodeAt(a))&&isTrailingSurrogate(s.charCodeAt(a+1))}function isLeadingSurrogate(s){return s>=55296&&s<=56319}function isTrailingSurrogate(s){return s>=56320&&s<=57343}function printCodePointAt(s,a){const et=s.source.body.codePointAt(a);if(et===void 0)return TokenKind.EOF;if(et>=32&&et<=126){const nt=String.fromCodePoint(et);return nt==='"'?`'"'`:`"${nt}"`}return"U+"+et.toString(16).toUpperCase().padStart(4,"0")}function createToken(s,a,et,nt,at){const mt=s.line,wt=1+et-s.lineStart;return new Token(a,et,nt,mt,wt,at)}function readNextToken(s,a){const et=s.source.body,nt=et.length;let at=a;for(;at<nt;){const mt=et.charCodeAt(at);switch(mt){case 65279:case 9:case 32:case 44:++at;continue;case 10:++at,++s.line,s.lineStart=at;continue;case 13:et.charCodeAt(at+1)===10?at+=2:++at,++s.line,s.lineStart=at;continue;case 35:return readComment(s,at);case 33:return createToken(s,TokenKind.BANG,at,at+1);case 36:return createToken(s,TokenKind.DOLLAR,at,at+1);case 38:return createToken(s,TokenKind.AMP,at,at+1);case 40:return createToken(s,TokenKind.PAREN_L,at,at+1);case 41:return createToken(s,TokenKind.PAREN_R,at,at+1);case 46:if(et.charCodeAt(at+1)===46&&et.charCodeAt(at+2)===46)return createToken(s,TokenKind.SPREAD,at,at+3);break;case 58:return createToken(s,TokenKind.COLON,at,at+1);case 61:return createToken(s,TokenKind.EQUALS,at,at+1);case 64:return createToken(s,TokenKind.AT,at,at+1);case 91:return createToken(s,TokenKind.BRACKET_L,at,at+1);case 93:return createToken(s,TokenKind.BRACKET_R,at,at+1);case 123:return createToken(s,TokenKind.BRACE_L,at,at+1);case 124:return createToken(s,TokenKind.PIPE,at,at+1);case 125:return createToken(s,TokenKind.BRACE_R,at,at+1);case 34:return et.charCodeAt(at+1)===34&&et.charCodeAt(at+2)===34?readBlockString(s,at):readString(s,at)}if(isDigit(mt)||mt===45)return readNumber(s,at,mt);if(isNameStart(mt))return readName(s,at);throw syntaxError(s.source,at,mt===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:isUnicodeScalarValue(mt)||isSupplementaryCodePoint(et,at)?`Unexpected character: ${printCodePointAt(s,at)}.`:`Invalid character: ${printCodePointAt(s,at)}.`)}return createToken(s,TokenKind.EOF,nt,nt)}function readComment(s,a){const et=s.source.body,nt=et.length;let at=a+1;for(;at<nt;){const mt=et.charCodeAt(at);if(mt===10||mt===13)break;if(isUnicodeScalarValue(mt))++at;else if(isSupplementaryCodePoint(et,at))at+=2;else break}return createToken(s,TokenKind.COMMENT,a,at,et.slice(a+1,at))}function readNumber(s,a,et){const nt=s.source.body;let at=a,mt=et,wt=!1;if(mt===45&&(mt=nt.charCodeAt(++at)),mt===48){if(mt=nt.charCodeAt(++at),isDigit(mt))throw syntaxError(s.source,at,`Invalid number, unexpected digit after 0: ${printCodePointAt(s,at)}.`)}else at=readDigits(s,at,mt),mt=nt.charCodeAt(at);if(mt===46&&(wt=!0,mt=nt.charCodeAt(++at),at=readDigits(s,at,mt),mt=nt.charCodeAt(at)),(mt===69||mt===101)&&(wt=!0,mt=nt.charCodeAt(++at),(mt===43||mt===45)&&(mt=nt.charCodeAt(++at)),at=readDigits(s,at,mt),mt=nt.charCodeAt(at)),mt===46||isNameStart(mt))throw syntaxError(s.source,at,`Invalid number, expected digit but got: ${printCodePointAt(s,at)}.`);return createToken(s,wt?TokenKind.FLOAT:TokenKind.INT,a,at,nt.slice(a,at))}function readDigits(s,a,et){if(!isDigit(et))throw syntaxError(s.source,a,`Invalid number, expected digit but got: ${printCodePointAt(s,a)}.`);const nt=s.source.body;let at=a+1;for(;isDigit(nt.charCodeAt(at));)++at;return at}function readString(s,a){const et=s.source.body,nt=et.length;let at=a+1,mt=at,wt="";for(;at<nt;){const $t=et.charCodeAt(at);if($t===34)return wt+=et.slice(mt,at),createToken(s,TokenKind.STRING,a,at+1,wt);if($t===92){wt+=et.slice(mt,at);const Ct=et.charCodeAt(at+1)===117?et.charCodeAt(at+2)===123?readEscapedUnicodeVariableWidth(s,at):readEscapedUnicodeFixedWidth(s,at):readEscapedCharacter(s,at);wt+=Ct.value,at+=Ct.size,mt=at;continue}if($t===10||$t===13)break;if(isUnicodeScalarValue($t))++at;else if(isSupplementaryCodePoint(et,at))at+=2;else throw syntaxError(s.source,at,`Invalid character within String: ${printCodePointAt(s,at)}.`)}throw syntaxError(s.source,at,"Unterminated string.")}function readEscapedUnicodeVariableWidth(s,a){const et=s.source.body;let nt=0,at=3;for(;at<12;){const mt=et.charCodeAt(a+at++);if(mt===125){if(at<5||!isUnicodeScalarValue(nt))break;return{value:String.fromCodePoint(nt),size:at}}if(nt=nt<<4|readHexDigit(mt),nt<0)break}throw syntaxError(s.source,a,`Invalid Unicode escape sequence: "${et.slice(a,a+at)}".`)}function readEscapedUnicodeFixedWidth(s,a){const et=s.source.body,nt=read16BitHexCode(et,a+2);if(isUnicodeScalarValue(nt))return{value:String.fromCodePoint(nt),size:6};if(isLeadingSurrogate(nt)&&et.charCodeAt(a+6)===92&&et.charCodeAt(a+7)===117){const at=read16BitHexCode(et,a+8);if(isTrailingSurrogate(at))return{value:String.fromCodePoint(nt,at),size:12}}throw syntaxError(s.source,a,`Invalid Unicode escape sequence: "${et.slice(a,a+6)}".`)}function read16BitHexCode(s,a){return readHexDigit(s.charCodeAt(a))<<12|readHexDigit(s.charCodeAt(a+1))<<8|readHexDigit(s.charCodeAt(a+2))<<4|readHexDigit(s.charCodeAt(a+3))}function readHexDigit(s){return s>=48&&s<=57?s-48:s>=65&&s<=70?s-55:s>=97&&s<=102?s-87:-1}function readEscapedCharacter(s,a){const et=s.source.body;switch(et.charCodeAt(a+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw syntaxError(s.source,a,`Invalid character escape sequence: "${et.slice(a,a+2)}".`)}function readBlockString(s,a){const et=s.source.body,nt=et.length;let at=s.lineStart,mt=a+3,wt=mt,$t="";const Ct=[];for(;mt<nt;){const Dt=et.charCodeAt(mt);if(Dt===34&&et.charCodeAt(mt+1)===34&&et.charCodeAt(mt+2)===34){$t+=et.slice(wt,mt),Ct.push($t);const Ft=createToken(s,TokenKind.BLOCK_STRING,a,mt+3,dedentBlockStringLines(Ct).join(`
`));return s.line+=Ct.length-1,s.lineStart=at,Ft}if(Dt===92&&et.charCodeAt(mt+1)===34&&et.charCodeAt(mt+2)===34&&et.charCodeAt(mt+3)===34){$t+=et.slice(wt,mt),wt=mt+1,mt+=4;continue}if(Dt===10||Dt===13){$t+=et.slice(wt,mt),Ct.push($t),Dt===13&&et.charCodeAt(mt+1)===10?mt+=2:++mt,$t="",wt=mt,at=mt;continue}if(isUnicodeScalarValue(Dt))++mt;else if(isSupplementaryCodePoint(et,mt))mt+=2;else throw syntaxError(s.source,mt,`Invalid character within String: ${printCodePointAt(s,mt)}.`)}throw syntaxError(s.source,mt,"Unterminated string.")}function readName(s,a){const et=s.source.body,nt=et.length;let at=a+1;for(;at<nt;){const mt=et.charCodeAt(at);if(isNameContinue(mt))++at;else break}return createToken(s,TokenKind.NAME,a,at,et.slice(a,at))}const MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect(s){return formatValue(s,[])}function formatValue(s,a){switch(typeof s){case"string":return JSON.stringify(s);case"function":return s.name?`[function ${s.name}]`:"[function]";case"object":return formatObjectValue(s,a);default:return String(s)}}function formatObjectValue(s,a){if(s===null)return"null";if(a.includes(s))return"[Circular]";const et=[...a,s];if(isJSONable(s)){const nt=s.toJSON();if(nt!==s)return typeof nt=="string"?nt:formatValue(nt,et)}else if(Array.isArray(s))return formatArray(s,et);return formatObject(s,et)}function isJSONable(s){return typeof s.toJSON=="function"}function formatObject(s,a){const et=Object.entries(s);return et.length===0?"{}":a.length>MAX_RECURSIVE_DEPTH?"["+getObjectTag(s)+"]":"{ "+et.map(([at,mt])=>at+": "+formatValue(mt,a)).join(", ")+" }"}function formatArray(s,a){if(s.length===0)return"[]";if(a.length>MAX_RECURSIVE_DEPTH)return"[Array]";const et=Math.min(MAX_ARRAY_LENGTH,s.length),nt=s.length-et,at=[];for(let mt=0;mt<et;++mt)at.push(formatValue(s[mt],a));return nt===1?at.push("... 1 more item"):nt>1&&at.push(`... ${nt} more items`),"["+at.join(", ")+"]"}function getObjectTag(s){const a=Object.prototype.toString.call(s).replace(/^\[object /,"").replace(/]$/,"");if(a==="Object"&&typeof s.constructor=="function"){const et=s.constructor.name;if(typeof et=="string"&&et!=="")return et}return a}const isProduction=globalThis.process&&!0,instanceOf=isProduction?function(a,et){return a instanceof et}:function(a,et){if(a instanceof et)return!0;if(typeof a=="object"&&a!==null){var nt;const at=et.prototype[Symbol.toStringTag],mt=Symbol.toStringTag in a?a[Symbol.toStringTag]:(nt=a.constructor)===null||nt===void 0?void 0:nt.name;if(at===mt){const wt=inspect(a);throw new Error(`Cannot use ${at} "${wt}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Source{constructor(a,et="GraphQL request",nt={line:1,column:1}){typeof a=="string"||devAssert(!1,`Body must be a string. Received: ${inspect(a)}.`),this.body=a,this.name=et,this.locationOffset=nt,this.locationOffset.line>0||devAssert(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function isSource(s){return instanceOf(s,Source)}function parse$1(s,a){const et=new Parser(s,a),nt=et.parseDocument();return Object.defineProperty(nt,"tokenCount",{enumerable:!1,value:et.tokenCount}),nt}class Parser{constructor(a,et={}){const nt=isSource(a)?a:new Source(a);this._lexer=new Lexer(nt),this._options=et,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const a=this.expectToken(TokenKind.NAME);return this.node(a,{kind:Kind.NAME,value:a.value})}parseDocument(){return this.node(this._lexer.token,{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF)})}parseDefinition(){if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();const a=this.peekDescription(),et=a?this._lexer.lookahead():this._lexer.token;if(et.kind===TokenKind.NAME){switch(et.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(a)throw syntaxError(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(et.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(et)}parseOperationDefinition(){const a=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return this.node(a,{kind:Kind.OPERATION_DEFINITION,operation:OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const et=this.parseOperationType();let nt;return this.peek(TokenKind.NAME)&&(nt=this.parseName()),this.node(a,{kind:Kind.OPERATION_DEFINITION,operation:et,name:nt,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const a=this.expectToken(TokenKind.NAME);switch(a.value){case"query":return OperationTypeNode.QUERY;case"mutation":return OperationTypeNode.MUTATION;case"subscription":return OperationTypeNode.SUBSCRIPTION}throw this.unexpected(a)}parseVariableDefinitions(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const a=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),this.node(a,{kind:Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R)})}parseSelection(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){const a=this._lexer.token,et=this.parseName();let nt,at;return this.expectOptionalToken(TokenKind.COLON)?(nt=et,at=this.parseName()):at=et,this.node(a,{kind:Kind.FIELD,alias:nt,name:at,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(a){const et=a?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,et,TokenKind.PAREN_R)}parseArgument(a=!1){const et=this._lexer.token,nt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(et,{kind:Kind.ARGUMENT,name:nt,value:this.parseValueLiteral(a)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const a=this._lexer.token;this.expectToken(TokenKind.SPREAD);const et=this.expectOptionalKeyword("on");return!et&&this.peek(TokenKind.NAME)?this.node(a,{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(a,{kind:Kind.INLINE_FRAGMENT,typeCondition:et?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const a=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(a,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(a,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(a){const et=this._lexer.token;switch(et.kind){case TokenKind.BRACKET_L:return this.parseList(a);case TokenKind.BRACE_L:return this.parseObject(a);case TokenKind.INT:return this.advanceLexer(),this.node(et,{kind:Kind.INT,value:et.value});case TokenKind.FLOAT:return this.advanceLexer(),this.node(et,{kind:Kind.FLOAT,value:et.value});case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this.advanceLexer(),et.value){case"true":return this.node(et,{kind:Kind.BOOLEAN,value:!0});case"false":return this.node(et,{kind:Kind.BOOLEAN,value:!1});case"null":return this.node(et,{kind:Kind.NULL});default:return this.node(et,{kind:Kind.ENUM,value:et.value})}case TokenKind.DOLLAR:if(a)if(this.expectToken(TokenKind.DOLLAR),this._lexer.token.kind===TokenKind.NAME){const nt=this._lexer.token.value;throw syntaxError(this._lexer.source,et.start,`Unexpected variable "$${nt}" in constant value.`)}else throw this.unexpected(et);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const a=this._lexer.token;return this.advanceLexer(),this.node(a,{kind:Kind.STRING,value:a.value,block:a.kind===TokenKind.BLOCK_STRING})}parseList(a){const et=()=>this.parseValueLiteral(a);return this.node(this._lexer.token,{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,et,TokenKind.BRACKET_R)})}parseObject(a){const et=()=>this.parseObjectField(a);return this.node(this._lexer.token,{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,et,TokenKind.BRACE_R)})}parseObjectField(a){const et=this._lexer.token,nt=this.parseName();return this.expectToken(TokenKind.COLON),this.node(et,{kind:Kind.OBJECT_FIELD,name:nt,value:this.parseValueLiteral(a)})}parseDirectives(a){const et=[];for(;this.peek(TokenKind.AT);)et.push(this.parseDirective(a));return et}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(a){const et=this._lexer.token;return this.expectToken(TokenKind.AT),this.node(et,{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(a)})}parseTypeReference(){const a=this._lexer.token;let et;if(this.expectOptionalToken(TokenKind.BRACKET_L)){const nt=this.parseTypeReference();this.expectToken(TokenKind.BRACKET_R),et=this.node(a,{kind:Kind.LIST_TYPE,type:nt})}else et=this.parseNamedType();return this.expectOptionalToken(TokenKind.BANG)?this.node(a,{kind:Kind.NON_NULL_TYPE,type:et}):et}parseNamedType(){return this.node(this._lexer.token,{kind:Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("schema");const nt=this.parseConstDirectives(),at=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return this.node(a,{kind:Kind.SCHEMA_DEFINITION,description:et,directives:nt,operationTypes:at})}parseOperationTypeDefinition(){const a=this._lexer.token,et=this.parseOperationType();this.expectToken(TokenKind.COLON);const nt=this.parseNamedType();return this.node(a,{kind:Kind.OPERATION_TYPE_DEFINITION,operation:et,type:nt})}parseScalarTypeDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("scalar");const nt=this.parseName(),at=this.parseConstDirectives();return this.node(a,{kind:Kind.SCALAR_TYPE_DEFINITION,description:et,name:nt,directives:at})}parseObjectTypeDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("type");const nt=this.parseName(),at=this.parseImplementsInterfaces(),mt=this.parseConstDirectives(),wt=this.parseFieldsDefinition();return this.node(a,{kind:Kind.OBJECT_TYPE_DEFINITION,description:et,name:nt,interfaces:at,directives:mt,fields:wt})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)}parseFieldDefinition(){const a=this._lexer.token,et=this.parseDescription(),nt=this.parseName(),at=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);const mt=this.parseTypeReference(),wt=this.parseConstDirectives();return this.node(a,{kind:Kind.FIELD_DEFINITION,description:et,name:nt,arguments:at,type:mt,directives:wt})}parseArgumentDefs(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)}parseInputValueDef(){const a=this._lexer.token,et=this.parseDescription(),nt=this.parseName();this.expectToken(TokenKind.COLON);const at=this.parseTypeReference();let mt;this.expectOptionalToken(TokenKind.EQUALS)&&(mt=this.parseConstValueLiteral());const wt=this.parseConstDirectives();return this.node(a,{kind:Kind.INPUT_VALUE_DEFINITION,description:et,name:nt,type:at,defaultValue:mt,directives:wt})}parseInterfaceTypeDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("interface");const nt=this.parseName(),at=this.parseImplementsInterfaces(),mt=this.parseConstDirectives(),wt=this.parseFieldsDefinition();return this.node(a,{kind:Kind.INTERFACE_TYPE_DEFINITION,description:et,name:nt,interfaces:at,directives:mt,fields:wt})}parseUnionTypeDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("union");const nt=this.parseName(),at=this.parseConstDirectives(),mt=this.parseUnionMemberTypes();return this.node(a,{kind:Kind.UNION_TYPE_DEFINITION,description:et,name:nt,directives:at,types:mt})}parseUnionMemberTypes(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("enum");const nt=this.parseName(),at=this.parseConstDirectives(),mt=this.parseEnumValuesDefinition();return this.node(a,{kind:Kind.ENUM_TYPE_DEFINITION,description:et,name:nt,directives:at,values:mt})}parseEnumValuesDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)}parseEnumValueDefinition(){const a=this._lexer.token,et=this.parseDescription(),nt=this.parseEnumValueName(),at=this.parseConstDirectives();return this.node(a,{kind:Kind.ENUM_VALUE_DEFINITION,description:et,name:nt,directives:at})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw syntaxError(this._lexer.source,this._lexer.token.start,`${getTokenDesc(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("input");const nt=this.parseName(),at=this.parseConstDirectives(),mt=this.parseInputFieldsDefinition();return this.node(a,{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:et,name:nt,directives:at,fields:mt})}parseInputFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)}parseTypeSystemExtension(){const a=this._lexer.lookahead();if(a.kind===TokenKind.NAME)switch(a.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(a)}parseSchemaExtension(){const a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const et=this.parseConstDirectives(),nt=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(et.length===0&&nt.length===0)throw this.unexpected();return this.node(a,{kind:Kind.SCHEMA_EXTENSION,directives:et,operationTypes:nt})}parseScalarTypeExtension(){const a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const et=this.parseName(),nt=this.parseConstDirectives();if(nt.length===0)throw this.unexpected();return this.node(a,{kind:Kind.SCALAR_TYPE_EXTENSION,name:et,directives:nt})}parseObjectTypeExtension(){const a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const et=this.parseName(),nt=this.parseImplementsInterfaces(),at=this.parseConstDirectives(),mt=this.parseFieldsDefinition();if(nt.length===0&&at.length===0&&mt.length===0)throw this.unexpected();return this.node(a,{kind:Kind.OBJECT_TYPE_EXTENSION,name:et,interfaces:nt,directives:at,fields:mt})}parseInterfaceTypeExtension(){const a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const et=this.parseName(),nt=this.parseImplementsInterfaces(),at=this.parseConstDirectives(),mt=this.parseFieldsDefinition();if(nt.length===0&&at.length===0&&mt.length===0)throw this.unexpected();return this.node(a,{kind:Kind.INTERFACE_TYPE_EXTENSION,name:et,interfaces:nt,directives:at,fields:mt})}parseUnionTypeExtension(){const a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const et=this.parseName(),nt=this.parseConstDirectives(),at=this.parseUnionMemberTypes();if(nt.length===0&&at.length===0)throw this.unexpected();return this.node(a,{kind:Kind.UNION_TYPE_EXTENSION,name:et,directives:nt,types:at})}parseEnumTypeExtension(){const a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const et=this.parseName(),nt=this.parseConstDirectives(),at=this.parseEnumValuesDefinition();if(nt.length===0&&at.length===0)throw this.unexpected();return this.node(a,{kind:Kind.ENUM_TYPE_EXTENSION,name:et,directives:nt,values:at})}parseInputObjectTypeExtension(){const a=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const et=this.parseName(),nt=this.parseConstDirectives(),at=this.parseInputFieldsDefinition();if(nt.length===0&&at.length===0)throw this.unexpected();return this.node(a,{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:et,directives:nt,fields:at})}parseDirectiveDefinition(){const a=this._lexer.token,et=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);const nt=this.parseName(),at=this.parseArgumentDefs(),mt=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const wt=this.parseDirectiveLocations();return this.node(a,{kind:Kind.DIRECTIVE_DEFINITION,description:et,name:nt,arguments:at,repeatable:mt,locations:wt})}parseDirectiveLocations(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const a=this._lexer.token,et=this.parseName();if(Object.prototype.hasOwnProperty.call(DirectiveLocation,et.value))return et;throw this.unexpected(a)}node(a,et){return this._options.noLocation!==!0&&(et.loc=new Location(a,this._lexer.lastToken,this._lexer.source)),et}peek(a){return this._lexer.token.kind===a}expectToken(a){const et=this._lexer.token;if(et.kind===a)return this.advanceLexer(),et;throw syntaxError(this._lexer.source,et.start,`Expected ${getTokenKindDesc(a)}, found ${getTokenDesc(et)}.`)}expectOptionalToken(a){return this._lexer.token.kind===a?(this.advanceLexer(),!0):!1}expectKeyword(a){const et=this._lexer.token;if(et.kind===TokenKind.NAME&&et.value===a)this.advanceLexer();else throw syntaxError(this._lexer.source,et.start,`Expected "${a}", found ${getTokenDesc(et)}.`)}expectOptionalKeyword(a){const et=this._lexer.token;return et.kind===TokenKind.NAME&&et.value===a?(this.advanceLexer(),!0):!1}unexpected(a){const et=a??this._lexer.token;return syntaxError(this._lexer.source,et.start,`Unexpected ${getTokenDesc(et)}.`)}any(a,et,nt){this.expectToken(a);const at=[];for(;!this.expectOptionalToken(nt);)at.push(et.call(this));return at}optionalMany(a,et,nt){if(this.expectOptionalToken(a)){const at=[];do at.push(et.call(this));while(!this.expectOptionalToken(nt));return at}return[]}many(a,et,nt){this.expectToken(a);const at=[];do at.push(et.call(this));while(!this.expectOptionalToken(nt));return at}delimitedMany(a,et){this.expectOptionalToken(a);const nt=[];do nt.push(et.call(this));while(this.expectOptionalToken(a));return nt}advanceLexer(){const{maxTokens:a}=this._options,et=this._lexer.advance();if(et.kind!==TokenKind.EOF&&(++this._tokenCounter,a!==void 0&&this._tokenCounter>a))throw syntaxError(this._lexer.source,et.start,`Document contains more that ${a} tokens. Parsing aborted.`)}}function getTokenDesc(s){const a=s.value;return getTokenKindDesc(s.kind)+(a!=null?` "${a}"`:"")}function getTokenKindDesc(s){return isPunctuatorTokenKind(s)?`"${s}"`:s}function printString(s){return`"${s.replace(escapedRegExp,escapedReplacer)}"`}const escapedRegExp=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function escapedReplacer(s){return escapeSequences[s.charCodeAt(0)]}const escapeSequences=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],BREAK=Object.freeze({});function visit(s,a,et=QueryDocumentKeys){const nt=new Map;for(const er of Object.values(Kind))nt.set(er,getEnterLeaveForKind(a,er));let at,mt=Array.isArray(s),wt=[s],$t=-1,Ct=[],Dt=s,Ft,jt;const Nt=[],Lt=[];do{$t++;const er=$t===wt.length,tr=er&&Ct.length!==0;if(er){if(Ft=Lt.length===0?void 0:Nt[Nt.length-1],Dt=jt,jt=Lt.pop(),tr)if(mt){Dt=Dt.slice();let sr=0;for(const[dr,br]of Ct){const vr=dr-sr;br===null?(Dt.splice(vr,1),sr++):Dt[vr]=br}}else{Dt=Object.defineProperties({},Object.getOwnPropertyDescriptors(Dt));for(const[sr,dr]of Ct)Dt[sr]=dr}$t=at.index,wt=at.keys,Ct=at.edits,mt=at.inArray,at=at.prev}else if(jt){if(Ft=mt?$t:wt[$t],Dt=jt[Ft],Dt==null)continue;Nt.push(Ft)}let nr;if(!Array.isArray(Dt)){var Ut,Vt;isNode(Dt)||devAssert(!1,`Invalid AST Node: ${inspect(Dt)}.`);const sr=er?(Ut=nt.get(Dt.kind))===null||Ut===void 0?void 0:Ut.leave:(Vt=nt.get(Dt.kind))===null||Vt===void 0?void 0:Vt.enter;if(nr=sr==null?void 0:sr.call(a,Dt,Ft,jt,Nt,Lt),nr===BREAK)break;if(nr===!1){if(!er){Nt.pop();continue}}else if(nr!==void 0&&(Ct.push([Ft,nr]),!er))if(isNode(nr))Dt=nr;else{Nt.pop();continue}}if(nr===void 0&&tr&&Ct.push([Ft,Dt]),er)Nt.pop();else{var Yt;at={inArray:mt,index:$t,keys:wt,edits:Ct,prev:at},mt=Array.isArray(Dt),wt=mt?Dt:(Yt=et[Dt.kind])!==null&&Yt!==void 0?Yt:[],$t=-1,Ct=[],jt&&Lt.push(jt),jt=Dt}}while(at!==void 0);return Ct.length!==0?Ct[Ct.length-1][1]:s}function getEnterLeaveForKind(s,a){const et=s[a];return typeof et=="object"?et:typeof et=="function"?{enter:et,leave:void 0}:{enter:s.enter,leave:s.leave}}function print(s){return visit(s,printDocASTReducer)}const MAX_LINE_LENGTH=80,printDocASTReducer={Name:{leave:s=>s.value},Variable:{leave:s=>"$"+s.name},Document:{leave:s=>join(s.definitions,`

`)},OperationDefinition:{leave(s){const a=wrap$2("(",join(s.variableDefinitions,", "),")"),et=join([s.operation,join([s.name,a]),join(s.directives," ")]," ");return(et==="query"?"":et+" ")+s.selectionSet}},VariableDefinition:{leave:({variable:s,type:a,defaultValue:et,directives:nt})=>s+": "+a+wrap$2(" = ",et)+wrap$2(" ",join(nt," "))},SelectionSet:{leave:({selections:s})=>block(s)},Field:{leave({alias:s,name:a,arguments:et,directives:nt,selectionSet:at}){const mt=wrap$2("",s,": ")+a;let wt=mt+wrap$2("(",join(et,", "),")");return wt.length>MAX_LINE_LENGTH&&(wt=mt+wrap$2(`(
`,indent(join(et,`
`)),`
)`)),join([wt,join(nt," "),at]," ")}},Argument:{leave:({name:s,value:a})=>s+": "+a},FragmentSpread:{leave:({name:s,directives:a})=>"..."+s+wrap$2(" ",join(a," "))},InlineFragment:{leave:({typeCondition:s,directives:a,selectionSet:et})=>join(["...",wrap$2("on ",s),join(a," "),et]," ")},FragmentDefinition:{leave:({name:s,typeCondition:a,variableDefinitions:et,directives:nt,selectionSet:at})=>`fragment ${s}${wrap$2("(",join(et,", "),")")} on ${a} ${wrap$2("",join(nt," ")," ")}`+at},IntValue:{leave:({value:s})=>s},FloatValue:{leave:({value:s})=>s},StringValue:{leave:({value:s,block:a})=>a?printBlockString(s):printString(s)},BooleanValue:{leave:({value:s})=>s?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:s})=>s},ListValue:{leave:({values:s})=>"["+join(s,", ")+"]"},ObjectValue:{leave:({fields:s})=>"{"+join(s,", ")+"}"},ObjectField:{leave:({name:s,value:a})=>s+": "+a},Directive:{leave:({name:s,arguments:a})=>"@"+s+wrap$2("(",join(a,", "),")")},NamedType:{leave:({name:s})=>s},ListType:{leave:({type:s})=>"["+s+"]"},NonNullType:{leave:({type:s})=>s+"!"},SchemaDefinition:{leave:({description:s,directives:a,operationTypes:et})=>wrap$2("",s,`
`)+join(["schema",join(a," "),block(et)]," ")},OperationTypeDefinition:{leave:({operation:s,type:a})=>s+": "+a},ScalarTypeDefinition:{leave:({description:s,name:a,directives:et})=>wrap$2("",s,`
`)+join(["scalar",a,join(et," ")]," ")},ObjectTypeDefinition:{leave:({description:s,name:a,interfaces:et,directives:nt,fields:at})=>wrap$2("",s,`
`)+join(["type",a,wrap$2("implements ",join(et," & ")),join(nt," "),block(at)]," ")},FieldDefinition:{leave:({description:s,name:a,arguments:et,type:nt,directives:at})=>wrap$2("",s,`
`)+a+(hasMultilineItems(et)?wrap$2(`(
`,indent(join(et,`
`)),`
)`):wrap$2("(",join(et,", "),")"))+": "+nt+wrap$2(" ",join(at," "))},InputValueDefinition:{leave:({description:s,name:a,type:et,defaultValue:nt,directives:at})=>wrap$2("",s,`
`)+join([a+": "+et,wrap$2("= ",nt),join(at," ")]," ")},InterfaceTypeDefinition:{leave:({description:s,name:a,interfaces:et,directives:nt,fields:at})=>wrap$2("",s,`
`)+join(["interface",a,wrap$2("implements ",join(et," & ")),join(nt," "),block(at)]," ")},UnionTypeDefinition:{leave:({description:s,name:a,directives:et,types:nt})=>wrap$2("",s,`
`)+join(["union",a,join(et," "),wrap$2("= ",join(nt," | "))]," ")},EnumTypeDefinition:{leave:({description:s,name:a,directives:et,values:nt})=>wrap$2("",s,`
`)+join(["enum",a,join(et," "),block(nt)]," ")},EnumValueDefinition:{leave:({description:s,name:a,directives:et})=>wrap$2("",s,`
`)+join([a,join(et," ")]," ")},InputObjectTypeDefinition:{leave:({description:s,name:a,directives:et,fields:nt})=>wrap$2("",s,`
`)+join(["input",a,join(et," "),block(nt)]," ")},DirectiveDefinition:{leave:({description:s,name:a,arguments:et,repeatable:nt,locations:at})=>wrap$2("",s,`
`)+"directive @"+a+(hasMultilineItems(et)?wrap$2(`(
`,indent(join(et,`
`)),`
)`):wrap$2("(",join(et,", "),")"))+(nt?" repeatable":"")+" on "+join(at," | ")},SchemaExtension:{leave:({directives:s,operationTypes:a})=>join(["extend schema",join(s," "),block(a)]," ")},ScalarTypeExtension:{leave:({name:s,directives:a})=>join(["extend scalar",s,join(a," ")]," ")},ObjectTypeExtension:{leave:({name:s,interfaces:a,directives:et,fields:nt})=>join(["extend type",s,wrap$2("implements ",join(a," & ")),join(et," "),block(nt)]," ")},InterfaceTypeExtension:{leave:({name:s,interfaces:a,directives:et,fields:nt})=>join(["extend interface",s,wrap$2("implements ",join(a," & ")),join(et," "),block(nt)]," ")},UnionTypeExtension:{leave:({name:s,directives:a,types:et})=>join(["extend union",s,join(a," "),wrap$2("= ",join(et," | "))]," ")},EnumTypeExtension:{leave:({name:s,directives:a,values:et})=>join(["extend enum",s,join(a," "),block(et)]," ")},InputObjectTypeExtension:{leave:({name:s,directives:a,fields:et})=>join(["extend input",s,join(a," "),block(et)]," ")}};function join(s,a=""){var et;return(et=s==null?void 0:s.filter(nt=>nt).join(a))!==null&&et!==void 0?et:""}function block(s){return wrap$2(`{
`,indent(join(s,`
`)),`
}`)}function wrap$2(s,a,et=""){return a!=null&&a!==""?s+a+et:""}function indent(s){return wrap$2("  ",s.replace(/\n/g,`
  `))}function hasMultilineItems(s){var a;return(a=s==null?void 0:s.some(et=>et.includes(`
`)))!==null&&a!==void 0?a:!1}function toSerializedSignature({signature:s,signatureScheme:a,publicKey:et}){if(!et)throw new Error("`publicKey` is required");const nt=et.toRawBytes(),at=new Uint8Array(1+s.length+nt.length);return at.set([SIGNATURE_SCHEME_TO_FLAG[a]]),at.set(s,1),at.set(nt,1+s.length),toBase64(at)}function pbkdf2Init(s,a,et,nt){ahash(s);const at=checkOpts({dkLen:32,asyncTick:10},nt),{c:mt,dkLen:wt,asyncTick:$t}=at;if(anumber(mt),anumber(wt),anumber($t),mt<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const Ct=toBytes(a),Dt=toBytes(et),Ft=new Uint8Array(wt),jt=hmac$2.create(s,Ct),Nt=jt._cloneInto().update(Dt);return{c:mt,dkLen:wt,asyncTick:$t,DK:Ft,PRF:jt,PRFSalt:Nt}}function pbkdf2Output(s,a,et,nt,at){return s.destroy(),a.destroy(),nt&&nt.destroy(),at.fill(0),et}function pbkdf2$1(s,a,et,nt){const{c:at,dkLen:mt,DK:wt,PRF:$t,PRFSalt:Ct}=pbkdf2Init(s,a,et,nt);let Dt;const Ft=new Uint8Array(4),jt=createView(Ft),Nt=new Uint8Array($t.outputLen);for(let Lt=1,Ut=0;Ut<mt;Lt++,Ut+=$t.outputLen){const Vt=wt.subarray(Ut,Ut+$t.outputLen);jt.setInt32(0,Lt,!1),(Dt=Ct._cloneInto(Dt)).update(Ft).digestInto(Nt),Vt.set(Nt.subarray(0,Vt.length));for(let Yt=1;Yt<at;Yt++){$t._cloneInto(Dt).update(Nt).digestInto(Nt);for(let er=0;er<Vt.length;er++)Vt[er]^=Nt[er]}}return pbkdf2Output($t,Ct,wt,Dt,Nt)}const[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(s=>BigInt(s))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:a,Al:et,Bh:nt,Bl:at,Ch:mt,Cl:wt,Dh:$t,Dl:Ct,Eh:Dt,El:Ft,Fh:jt,Fl:Nt,Gh:Lt,Gl:Ut,Hh:Vt,Hl:Yt}=this;return[a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt]}set(a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt){this.Ah=a|0,this.Al=et|0,this.Bh=nt|0,this.Bl=at|0,this.Ch=mt|0,this.Cl=wt|0,this.Dh=$t|0,this.Dl=Ct|0,this.Eh=Dt|0,this.El=Ft|0,this.Fh=jt|0,this.Fl=Nt|0,this.Gh=Lt|0,this.Gl=Ut|0,this.Hh=Vt|0,this.Hl=Yt|0}process(a,et){for(let nr=0;nr<16;nr++,et+=4)SHA512_W_H[nr]=a.getUint32(et),SHA512_W_L[nr]=a.getUint32(et+=4);for(let nr=16;nr<80;nr++){const sr=SHA512_W_H[nr-15]|0,dr=SHA512_W_L[nr-15]|0,br=u64.rotrSH(sr,dr,1)^u64.rotrSH(sr,dr,8)^u64.shrSH(sr,dr,7),vr=u64.rotrSL(sr,dr,1)^u64.rotrSL(sr,dr,8)^u64.shrSL(sr,dr,7),yr=SHA512_W_H[nr-2]|0,$r=SHA512_W_L[nr-2]|0,Sr=u64.rotrSH(yr,$r,19)^u64.rotrBH(yr,$r,61)^u64.shrSH(yr,$r,6),wr=u64.rotrSL(yr,$r,19)^u64.rotrBL(yr,$r,61)^u64.shrSL(yr,$r,6),fr=u64.add4L(vr,wr,SHA512_W_L[nr-7],SHA512_W_L[nr-16]),_r=u64.add4H(fr,br,Sr,SHA512_W_H[nr-7],SHA512_W_H[nr-16]);SHA512_W_H[nr]=_r|0,SHA512_W_L[nr]=fr|0}let{Ah:nt,Al:at,Bh:mt,Bl:wt,Ch:$t,Cl:Ct,Dh:Dt,Dl:Ft,Eh:jt,El:Nt,Fh:Lt,Fl:Ut,Gh:Vt,Gl:Yt,Hh:er,Hl:tr}=this;for(let nr=0;nr<80;nr++){const sr=u64.rotrSH(jt,Nt,14)^u64.rotrSH(jt,Nt,18)^u64.rotrBH(jt,Nt,41),dr=u64.rotrSL(jt,Nt,14)^u64.rotrSL(jt,Nt,18)^u64.rotrBL(jt,Nt,41),br=jt&Lt^~jt&Vt,vr=Nt&Ut^~Nt&Yt,yr=u64.add5L(tr,dr,vr,SHA512_Kl[nr],SHA512_W_L[nr]),$r=u64.add5H(yr,er,sr,br,SHA512_Kh[nr],SHA512_W_H[nr]),Sr=yr|0,wr=u64.rotrSH(nt,at,28)^u64.rotrBH(nt,at,34)^u64.rotrBH(nt,at,39),fr=u64.rotrSL(nt,at,28)^u64.rotrBL(nt,at,34)^u64.rotrBL(nt,at,39),_r=nt&mt^nt&$t^mt&$t,ir=at&wt^at&Ct^wt&Ct;er=Vt|0,tr=Yt|0,Vt=Lt|0,Yt=Ut|0,Lt=jt|0,Ut=Nt|0,{h:jt,l:Nt}=u64.add(Dt|0,Ft|0,$r|0,Sr|0),Dt=$t|0,Ft=Ct|0,$t=mt|0,Ct=wt|0,mt=nt|0,wt=at|0;const rr=u64.add3L(Sr,fr,ir);nt=u64.add3H(rr,$r,wr,_r),at=rr|0}({h:nt,l:at}=u64.add(this.Ah|0,this.Al|0,nt|0,at|0)),{h:mt,l:wt}=u64.add(this.Bh|0,this.Bl|0,mt|0,wt|0),{h:$t,l:Ct}=u64.add(this.Ch|0,this.Cl|0,$t|0,Ct|0),{h:Dt,l:Ft}=u64.add(this.Dh|0,this.Dl|0,Dt|0,Ft|0),{h:jt,l:Nt}=u64.add(this.Eh|0,this.El|0,jt|0,Nt|0),{h:Lt,l:Ut}=u64.add(this.Fh|0,this.Fl|0,Lt|0,Ut|0),{h:Vt,l:Yt}=u64.add(this.Gh|0,this.Gl|0,Vt|0,Yt|0),{h:er,l:tr}=u64.add(this.Hh|0,this.Hl|0,er|0,tr|0),this.set(nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt,er,tr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$3=wrapConstructor(()=>new SHA512);/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */function nfkd(s){if(typeof s!="string")throw new TypeError("invalid mnemonic type: "+typeof s);return s.normalize("NFKD")}function normalize$5(s){const a=nfkd(s),et=a.split(" ");if(![12,15,18,21,24].includes(et.length))throw new Error("Invalid mnemonic");return{nfkd:a,words:et}}const psalt=s=>nfkd("mnemonic"+s);function mnemonicToSeedSync(s,a=""){return pbkdf2$1(sha512$3,normalize$5(s).nfkd,psalt(a),{c:2048,dkLen:64})}function isValidHardenedPath(s){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(s)}function mnemonicToSeed(s){return mnemonicToSeedSync(s,"")}function mnemonicToSeedHex(s){return toHex$2(mnemonicToSeed(s))}const PRIVATE_KEY_SIZE=32,SUI_PRIVATE_KEY_PREFIX="suiprivkey";class Signer{async signWithIntent(a,et){const nt=messageWithIntent(et,a),at=blake2b$1(nt,{dkLen:32});return{signature:toSerializedSignature({signature:await this.sign(at),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:toBase64(a)}}async signTransaction(a){return this.signWithIntent(a,"TransactionData")}async signPersonalMessage(a){const{signature:et}=await this.signWithIntent(bcs$2.vector(bcs$2.u8()).serialize(a).toBytes(),"PersonalMessage");return{bytes:toBase64(a),signature:et}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class Keypair extends Signer{}function decodeSuiPrivateKey(s){const{prefix:a,words:et}=bech32.decode(s);if(a!==SUI_PRIVATE_KEY_PREFIX)throw new Error("invalid private key prefix");const nt=new Uint8Array(bech32.fromWords(et)),at=nt.slice(1);return{schema:SIGNATURE_FLAG_TO_SCHEME[nt[0]],secretKey:at}}function encodeSuiPrivateKey(s,a){if(s.length!==PRIVATE_KEY_SIZE)throw new Error("Invalid bytes length");const et=SIGNATURE_SCHEME_TO_FLAG[a],nt=new Uint8Array(s.length+1);return nt.set([et]),nt.set(s,1),bech32.encode(SUI_PRIVATE_KEY_PREFIX,bech32.toWords(nt))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts(s){const a=validateBasic(s);return validateObject(s,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...a})}function twistedEdwards(s){const a=validateOpts(s),{Fp:et,n:nt,prehash:at,hash:mt,randomBytes:wt,nByteLength:$t,h:Ct}=a,Dt=_2n$1<<BigInt($t*8)-_1n$1,Ft=et.create,jt=Field(a.n,a.nBitLength),Nt=a.uvRatio||((or,ar)=>{try{return{isValid:!0,value:et.sqrt(or*et.inv(ar))}}catch{return{isValid:!1,value:_0n}}}),Lt=a.adjustScalarBytes||(or=>or),Ut=a.domain||((or,ar,ur)=>{if(abool("phflag",ur),ar.length||ur)throw new Error("Contexts/pre-hash are not supported");return or});function Vt(or,ar){aInRange("coordinate "+or,ar,_0n,Dt)}function Yt(or){if(!(or instanceof nr))throw new Error("ExtendedPoint expected")}const er=memoized((or,ar)=>{const{ex:ur,ey:pr,ez:cr}=or,gr=or.is0();ar==null&&(ar=gr?_8n$1:et.inv(cr));const hr=Ft(ur*ar),lr=Ft(pr*ar),xr=Ft(cr*ar);if(gr)return{x:_0n,y:_1n$1};if(xr!==_1n$1)throw new Error("invZ was invalid");return{x:hr,y:lr}}),tr=memoized(or=>{const{a:ar,d:ur}=a;if(or.is0())throw new Error("bad point: ZERO");const{ex:pr,ey:cr,ez:gr,et:hr}=or,lr=Ft(pr*pr),xr=Ft(cr*cr),Mr=Ft(gr*gr),Pr=Ft(Mr*Mr),Ar=Ft(lr*ar),Ir=Ft(Mr*Ft(Ar+xr)),qr=Ft(Pr+Ft(ur*Ft(lr*xr)));if(Ir!==qr)throw new Error("bad point: equation left != right (1)");const Rr=Ft(pr*cr),Tr=Ft(gr*hr);if(Rr!==Tr)throw new Error("bad point: equation left != right (2)");return!0});class nr{constructor(ar,ur,pr,cr){this.ex=ar,this.ey=ur,this.ez=pr,this.et=cr,Vt("x",ar),Vt("y",ur),Vt("z",pr),Vt("t",cr),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ar){if(ar instanceof nr)throw new Error("extended point not allowed");const{x:ur,y:pr}=ar||{};return Vt("x",ur),Vt("y",pr),new nr(ur,pr,_1n$1,Ft(ur*pr))}static normalizeZ(ar){const ur=et.invertBatch(ar.map(pr=>pr.ez));return ar.map((pr,cr)=>pr.toAffine(ur[cr])).map(nr.fromAffine)}static msm(ar,ur){return pippenger(nr,jt,ar,ur)}_setWindowSize(ar){br.setWindowSize(this,ar)}assertValidity(){tr(this)}equals(ar){Yt(ar);const{ex:ur,ey:pr,ez:cr}=this,{ex:gr,ey:hr,ez:lr}=ar,xr=Ft(ur*lr),Mr=Ft(gr*cr),Pr=Ft(pr*lr),Ar=Ft(hr*cr);return xr===Mr&&Pr===Ar}is0(){return this.equals(nr.ZERO)}negate(){return new nr(Ft(-this.ex),this.ey,this.ez,Ft(-this.et))}double(){const{a:ar}=a,{ex:ur,ey:pr,ez:cr}=this,gr=Ft(ur*ur),hr=Ft(pr*pr),lr=Ft(_2n$1*Ft(cr*cr)),xr=Ft(ar*gr),Mr=ur+pr,Pr=Ft(Ft(Mr*Mr)-gr-hr),Ar=xr+hr,Ir=Ar-lr,qr=xr-hr,Rr=Ft(Pr*Ir),Tr=Ft(Ar*qr),Er=Ft(Pr*qr),Br=Ft(Ir*Ar);return new nr(Rr,Tr,Br,Er)}add(ar){Yt(ar);const{a:ur,d:pr}=a,{ex:cr,ey:gr,ez:hr,et:lr}=this,{ex:xr,ey:Mr,ez:Pr,et:Ar}=ar;if(ur===BigInt(-1)){const Gr=Ft((gr-cr)*(Mr+xr)),Wr=Ft((gr+cr)*(Mr-xr)),nn=Ft(Wr-Gr);if(nn===_0n)return this.double();const Ln=Ft(hr*_2n$1*Ar),Un=Ft(lr*_2n$1*Pr),Wn=Un+Ln,io=Wr+Gr,zn=Un-Ln,Zn=Ft(Wn*nn),bo=Ft(io*zn),Or=Ft(Wn*zn),Cr=Ft(nn*io);return new nr(Zn,bo,Cr,Or)}const Ir=Ft(cr*xr),qr=Ft(gr*Mr),Rr=Ft(lr*pr*Ar),Tr=Ft(hr*Pr),Er=Ft((cr+gr)*(xr+Mr)-Ir-qr),Br=Tr-Rr,Nr=Tr+Rr,zr=Ft(qr-ur*Ir),Hr=Ft(Er*Br),jr=Ft(Nr*zr),Ur=Ft(Er*zr),Fr=Ft(Br*Nr);return new nr(Hr,jr,Fr,Ur)}subtract(ar){return this.add(ar.negate())}wNAF(ar){return br.wNAFCached(this,ar,nr.normalizeZ)}multiply(ar){const ur=ar;aInRange("scalar",ur,_1n$1,nt);const{p:pr,f:cr}=this.wNAF(ur);return nr.normalizeZ([pr,cr])[0]}multiplyUnsafe(ar,ur=nr.ZERO){const pr=ar;return aInRange("scalar",pr,_0n,nt),pr===_0n?dr:this.is0()||pr===_1n$1?this:br.wNAFCachedUnsafe(this,pr,nr.normalizeZ,ur)}isSmallOrder(){return this.multiplyUnsafe(Ct).is0()}isTorsionFree(){return br.unsafeLadder(this,nt).is0()}toAffine(ar){return er(this,ar)}clearCofactor(){const{h:ar}=a;return ar===_1n$1?this:this.multiplyUnsafe(ar)}static fromHex(ar,ur=!1){const{d:pr,a:cr}=a,gr=et.BYTES;ar=ensureBytes("pointHex",ar,gr),abool("zip215",ur);const hr=ar.slice(),lr=ar[gr-1];hr[gr-1]=lr&-129;const xr=bytesToNumberLE(hr),Mr=ur?Dt:et.ORDER;aInRange("pointHex.y",xr,_0n,Mr);const Pr=Ft(xr*xr),Ar=Ft(Pr-_1n$1),Ir=Ft(pr*Pr-cr);let{isValid:qr,value:Rr}=Nt(Ar,Ir);if(!qr)throw new Error("Point.fromHex: invalid y coordinate");const Tr=(Rr&_1n$1)===_1n$1,Er=(lr&128)!==0;if(!ur&&Rr===_0n&&Er)throw new Error("Point.fromHex: x=0 and x_0=1");return Er!==Tr&&(Rr=Ft(-Rr)),nr.fromAffine({x:Rr,y:xr})}static fromPrivateKey(ar){return $r(ar).point}toRawBytes(){const{x:ar,y:ur}=this.toAffine(),pr=numberToBytesLE(ur,et.BYTES);return pr[pr.length-1]|=ar&_1n$1?128:0,pr}toHex(){return bytesToHex(this.toRawBytes())}}nr.BASE=new nr(a.Gx,a.Gy,_1n$1,Ft(a.Gx*a.Gy)),nr.ZERO=new nr(_0n,_1n$1,_1n$1,_0n);const{BASE:sr,ZERO:dr}=nr,br=wNAF(nr,$t*8);function vr(or){return mod$2(or,nt)}function yr(or){return vr(bytesToNumberLE(or))}function $r(or){const ar=et.BYTES;or=ensureBytes("private key",or,ar);const ur=ensureBytes("hashed private key",mt(or),2*ar),pr=Lt(ur.slice(0,ar)),cr=ur.slice(ar,2*ar),gr=yr(pr),hr=sr.multiply(gr),lr=hr.toRawBytes();return{head:pr,prefix:cr,scalar:gr,point:hr,pointBytes:lr}}function Sr(or){return $r(or).pointBytes}function wr(or=new Uint8Array,...ar){const ur=concatBytes(...ar);return yr(mt(Ut(ur,ensureBytes("context",or),!!at)))}function fr(or,ar,ur={}){or=ensureBytes("message",or),at&&(or=at(or));const{prefix:pr,scalar:cr,pointBytes:gr}=$r(ar),hr=wr(ur.context,pr,or),lr=sr.multiply(hr).toRawBytes(),xr=wr(ur.context,lr,gr,or),Mr=vr(hr+xr*cr);aInRange("signature.s",Mr,_0n,nt);const Pr=concatBytes(lr,numberToBytesLE(Mr,et.BYTES));return ensureBytes("result",Pr,et.BYTES*2)}const _r=VERIFY_DEFAULT;function ir(or,ar,ur,pr=_r){const{context:cr,zip215:gr}=pr,hr=et.BYTES;or=ensureBytes("signature",or,2*hr),ar=ensureBytes("message",ar),ur=ensureBytes("publicKey",ur,hr),gr!==void 0&&abool("zip215",gr),at&&(ar=at(ar));const lr=bytesToNumberLE(or.slice(hr,2*hr));let xr,Mr,Pr;try{xr=nr.fromHex(ur,gr),Mr=nr.fromHex(or.slice(0,hr),gr),Pr=sr.multiplyUnsafe(lr)}catch{return!1}if(!gr&&xr.isSmallOrder())return!1;const Ar=wr(cr,Mr.toRawBytes(),xr.toRawBytes(),ar);return Mr.add(xr.multiplyUnsafe(Ar)).subtract(Pr).clearCofactor().equals(nr.ZERO)}return sr._setWindowSize(8),{CURVE:a,getPublicKey:Sr,sign:fr,verify:ir,ExtendedPoint:nr,utils:{getExtendedPublicKey:$r,randomPrivateKey:()=>wt(et.BYTES),precompute(or=8,ar=nr.BASE){return ar._setWindowSize(or),ar.multiply(BigInt(3)),ar}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n=BigInt(1),_2n=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(s){const a=BigInt(10),et=BigInt(20),nt=BigInt(40),at=BigInt(80),mt=ED25519_P,$t=s*s%mt*s%mt,Ct=pow2($t,_2n,mt)*$t%mt,Dt=pow2(Ct,_1n,mt)*s%mt,Ft=pow2(Dt,_5n,mt)*Dt%mt,jt=pow2(Ft,a,mt)*Ft%mt,Nt=pow2(jt,et,mt)*jt%mt,Lt=pow2(Nt,nt,mt)*Nt%mt,Ut=pow2(Lt,at,mt)*Lt%mt,Vt=pow2(Ut,at,mt)*Lt%mt,Yt=pow2(Vt,a,mt)*Ft%mt;return{pow_p_5_8:pow2(Yt,_2n,mt)*s%mt,b2:$t}}function adjustScalarBytes(s){return s[0]&=248,s[31]&=127,s[31]|=64,s}function uvRatio(s,a){const et=ED25519_P,nt=mod$2(a*a*a,et),at=mod$2(nt*nt*a,et),mt=ed25519_pow_2_252_3(s*at).pow_p_5_8;let wt=mod$2(s*nt*mt,et);const $t=mod$2(a*wt*wt,et),Ct=wt,Dt=mod$2(wt*ED25519_SQRT_M1,et),Ft=$t===s,jt=$t===mod$2(-s,et),Nt=$t===mod$2(-s*ED25519_SQRT_M1,et);return Ft&&(wt=Ct),(jt||Nt)&&(wt=Dt),isNegativeLE(wt,et)&&(wt=mod$2(-wt,et)),{isValid:Ft||jt,value:wt}}const Fp=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$3,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults),ED25519_CURVE="ed25519 seed",HARDENED_OFFSET=2147483648,pathRegex=new RegExp("^m(\\/[0-9]+')+$"),replaceDerive=s=>s.replace("'",""),getMasterKeyFromSeed=s=>{const et=hmac$2.create(sha512$3,ED25519_CURVE).update(fromHex(s)).digest(),nt=et.slice(0,32),at=et.slice(32);return{key:nt,chainCode:at}},CKDPriv=({key:s,chainCode:a},et)=>{const nt=new ArrayBuffer(4);new DataView(nt).setUint32(0,et);const mt=new Uint8Array(1+s.length+nt.byteLength);mt.set(new Uint8Array(1).fill(0)),mt.set(s,1),mt.set(new Uint8Array(nt,0,nt.byteLength),s.length+1);const wt=hmac$2.create(sha512$3,a).update(mt).digest(),$t=wt.slice(0,32),Ct=wt.slice(32);return{key:$t,chainCode:Ct}},isValidPath=s=>pathRegex.test(s)?!s.split("/").slice(1).map(replaceDerive).some(isNaN):!1,derivePath=(s,a,et=HARDENED_OFFSET)=>{if(!isValidPath(s))throw new Error("Invalid derivation path");const{key:nt,chainCode:at}=getMasterKeyFromSeed(a);return s.split("/").slice(1).map(replaceDerive).map(wt=>parseInt(wt,10)).reduce((wt,$t)=>CKDPriv(wt,$t+et),{key:nt,chainCode:at})},PUBLIC_KEY_SIZE=32;class Ed25519PublicKey extends PublicKey$2{constructor(a){if(super(),typeof a=="string"?this.data=fromBase64(a):a instanceof Uint8Array?this.data=a:this.data=Uint8Array.from(a),this.data.length!==PUBLIC_KEY_SIZE)throw new Error(`Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`)}equals(a){return super.equals(a)}toRawBytes(){return this.data}flag(){return SIGNATURE_SCHEME_TO_FLAG.ED25519}async verify(a,et){let nt;if(typeof et=="string"){const at=parseSerializedKeypairSignature(et);if(at.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!bytesEqual(this.toRawBytes(),at.publicKey))throw new Error("Signature does not match public key");nt=at.signature}else nt=et;return ed25519.verify(nt,a,this.toRawBytes())}}Ed25519PublicKey.SIZE=PUBLIC_KEY_SIZE;const DEFAULT_ED25519_DERIVATION_PATH="m/44'/784'/0'/0'/0'";class Ed25519Keypair extends Keypair{constructor(a){if(super(),a)this.keypair={publicKey:a.publicKey,secretKey:a.secretKey.slice(0,32)};else{const et=ed25519.utils.randomPrivateKey();this.keypair={publicKey:ed25519.getPublicKey(et),secretKey:et}}}getKeyScheme(){return"ED25519"}static generate(){const a=ed25519.utils.randomPrivateKey();return new Ed25519Keypair({publicKey:ed25519.getPublicKey(a),secretKey:a})}static fromSecretKey(a,et){if(typeof a=="string"){const mt=decodeSuiPrivateKey(a);if(mt.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${mt.schema}`);return this.fromSecretKey(mt.secretKey,et)}const nt=a.length;if(nt!==PRIVATE_KEY_SIZE)throw new Error(`Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${nt}.`);const at={publicKey:ed25519.getPublicKey(a),secretKey:a};if(!et||!et.skipValidation){const wt=new TextEncoder().encode("sui validation"),$t=ed25519.sign(wt,a);if(!ed25519.verify($t,wt,at.publicKey))throw new Error("provided secretKey is invalid")}return new Ed25519Keypair(at)}getPublicKey(){return new Ed25519PublicKey(this.keypair.publicKey)}getSecretKey(){return encodeSuiPrivateKey(this.keypair.secretKey.slice(0,PRIVATE_KEY_SIZE),this.getKeyScheme())}async sign(a){return ed25519.sign(a,this.keypair.secretKey)}static deriveKeypair(a,et){if(et==null&&(et=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(et))throw new Error("Invalid derivation path");const{key:nt}=derivePath(et,mnemonicToSeedHex(a));return Ed25519Keypair.fromSecretKey(nt)}static deriveKeypairFromSeed(a,et){if(et==null&&(et=DEFAULT_ED25519_DERIVATION_PATH),!isValidHardenedPath(et))throw new Error("Invalid derivation path");const{key:nt}=derivePath(et,a);return Ed25519Keypair.fromSecretKey(nt)}}function mitt(s){return{all:s=s||new Map,on:function(a,et){var nt=s.get(a);nt?nt.push(et):s.set(a,[et])},off:function(a,et){var nt=s.get(a);nt&&(et?nt.splice(nt.indexOf(et)>>>0,1):s.set(a,[]))},emit:function(a,et){var nt=s.get(a);nt&&nt.slice().map(function(at){at(et)}),(nt=s.get("*"))&&nt.slice().map(function(at){at(a,et)})}}}function withResolvers(){let s,a;return{promise:new Promise((nt,at)=>{s=nt,a=at}),reject:a,resolve:s}}const StashedRequestData=variant("type",[object$1({type:literal("connect")}),object$1({type:literal("sign-transaction-block"),data:string("`data` is required"),address:string("`address` is required")}),object$1({type:literal("sign-personal-message"),bytes:string("`bytes` is required"),address:string("`address` is required")})]);object$1({id:pipe$4(string("`id` is required"),uuid()),origin:pipe$4(string(),url("`origin` must be a valid URL")),name:optional(string()),payload:StashedRequestData});const StashedResponseData=variant("type",[object$1({type:literal("connect"),address:string()}),object$1({type:literal("sign-transaction-block"),bytes:string(),signature:string()}),object$1({type:literal("sign-personal-message"),bytes:string(),signature:string()})]),StashedResponsePayload=variant("type",[object$1({type:literal("reject")}),object$1({type:literal("resolve"),data:StashedResponseData})]),StashedResponse=object$1({id:pipe$4(string(),uuid()),source:literal("zksend-channel"),payload:StashedResponsePayload});var __typeError$5=s=>{throw TypeError(s)},__accessCheck$5=(s,a,et)=>a.has(s)||__typeError$5("Cannot "+et),__privateGet$5=(s,a,et)=>(__accessCheck$5(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$5=(s,a,et)=>a.has(s)?__typeError$5("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$4=(s,a,et,nt)=>(__accessCheck$5(s,a,"write to private field"),a.set(s,et),et),__privateMethod$4=(s,a,et)=>(__accessCheck$5(s,a,"access private method"),et),_popup,_id,_origin$1,_name$1,_network$1,_promise,_resolve,_reject,_interval,_listener,_StashedPopup_instances,cleanup_fn;const DEFAULT_STASHED_ORIGIN="https://getstashed.com";class StashedPopup{constructor({name:a,network:et,origin:nt=DEFAULT_STASHED_ORIGIN}){__privateAdd$5(this,_StashedPopup_instances),__privateAdd$5(this,_popup),__privateAdd$5(this,_id),__privateAdd$5(this,_origin$1),__privateAdd$5(this,_name$1),__privateAdd$5(this,_network$1),__privateAdd$5(this,_promise),__privateAdd$5(this,_resolve),__privateAdd$5(this,_reject),__privateAdd$5(this,_interval,null),__privateAdd$5(this,_listener,Ct=>{if(Ct.origin!==__privateGet$5(this,_origin$1))return;const{success:Dt,output:Ft}=safeParse(StashedResponse,Ct.data);!Dt||Ft.id!==__privateGet$5(this,_id)||(__privateMethod$4(this,_StashedPopup_instances,cleanup_fn).call(this),Ft.payload.type==="reject"?__privateGet$5(this,_reject).call(this,new Error("User rejected the request")):Ft.payload.type==="resolve"&&__privateGet$5(this,_resolve).call(this,Ft.payload.data))});const at=window.open("about:blank","_blank");if(!at)throw new Error("Failed to open new window");__privateSet$4(this,_popup,at),__privateSet$4(this,_id,crypto.randomUUID()),__privateSet$4(this,_origin$1,nt),__privateSet$4(this,_name$1,a),__privateSet$4(this,_network$1,et);const{promise:mt,resolve:wt,reject:$t}=withResolvers();__privateSet$4(this,_promise,mt),__privateSet$4(this,_resolve,wt),__privateSet$4(this,_reject,$t),__privateSet$4(this,_interval,setInterval(()=>{try{__privateGet$5(this,_popup).closed&&(__privateMethod$4(this,_StashedPopup_instances,cleanup_fn).call(this),$t(new Error("User closed the Stashed window")))}catch{}},1e3))}send({type:a,...et}){return window.addEventListener("message",__privateGet$5(this,_listener)),__privateGet$5(this,_popup).location.assign(`${__privateGet$5(this,_origin$1)}/dapp/${a}?${new URLSearchParams({id:__privateGet$5(this,_id),origin:window.origin,network:__privateGet$5(this,_network$1),name:__privateGet$5(this,_name$1)})}${et?`#${new URLSearchParams(et)}`:""}`),__privateGet$5(this,_promise)}close(){__privateMethod$4(this,_StashedPopup_instances,cleanup_fn).call(this),__privateGet$5(this,_popup).close()}}_popup=new WeakMap;_id=new WeakMap;_origin$1=new WeakMap;_name$1=new WeakMap;_network$1=new WeakMap;_promise=new WeakMap;_resolve=new WeakMap;_reject=new WeakMap;_interval=new WeakMap;_listener=new WeakMap;_StashedPopup_instances=new WeakSet;cleanup_fn=function(){__privateGet$5(this,_interval)&&(clearInterval(__privateGet$5(this,_interval)),__privateSet$4(this,_interval,null)),window.removeEventListener("message",__privateGet$5(this,_listener))};var __typeError$4=s=>{throw TypeError(s)},__accessCheck$4=(s,a,et)=>a.has(s)||__typeError$4("Cannot "+et),__privateGet$4=(s,a,et)=>(__accessCheck$4(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$4=(s,a,et)=>a.has(s)?__typeError$4("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$3=(s,a,et,nt)=>(__accessCheck$4(s,a,"write to private field"),a.set(s,et),et),__privateMethod$3=(s,a,et)=>(__accessCheck$4(s,a,"access private method"),et),_events,_accounts,_origin,_name,_network,_signTransactionBlock,_signTransaction,_signPersonalMessage,_on,_StashedWallet_instances,setAccount_fn,_connect,_disconnect;const STASHED_RECENT_ADDRESS_KEY="stashed:recentAddress",STASHED_WALLET_NAME="Stashed";class StashedWallet{constructor({name:a,network:et,address:nt,origin:at=DEFAULT_STASHED_ORIGIN}){__privateAdd$4(this,_StashedWallet_instances),__privateAdd$4(this,_events),__privateAdd$4(this,_accounts),__privateAdd$4(this,_origin),__privateAdd$4(this,_name),__privateAdd$4(this,_network),__privateAdd$4(this,_signTransactionBlock,async({transactionBlock:mt,account:wt})=>{mt.setSenderIfNotSet(wt.address);const $t=mt.serialize(),Dt=await new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}).send({type:"sign-transaction-block",data:$t,address:wt.address});return{transactionBlockBytes:Dt.bytes,signature:Dt.signature}}),__privateAdd$4(this,_signTransaction,async({transaction:mt,account:wt})=>{const $t=new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}),Ct=Transaction$1.from(await mt.toJSON());Ct.setSenderIfNotSet(wt.address);const Dt=Ct.serialize(),Ft=await $t.send({type:"sign-transaction-block",data:Dt,address:wt.address});return{bytes:Ft.bytes,signature:Ft.signature}}),__privateAdd$4(this,_signPersonalMessage,async({message:mt,account:wt})=>{const $t=new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}),Ct=toBase64(mt),Dt=await $t.send({type:"sign-personal-message",bytes:Ct,address:wt.address});return{bytes:Ct,signature:Dt.signature}}),__privateAdd$4(this,_on,(mt,wt)=>(__privateGet$4(this,_events).on(mt,wt),()=>__privateGet$4(this,_events).off(mt,wt))),__privateAdd$4(this,_connect,async mt=>{if(mt!=null&&mt.silent){const Ct=localStorage.getItem(STASHED_RECENT_ADDRESS_KEY);return Ct&&__privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this,Ct),{accounts:this.accounts}}const $t=await new StashedPopup({name:__privateGet$4(this,_name),origin:__privateGet$4(this,_origin),network:__privateGet$4(this,_network)}).send({type:"connect"});if(!("address"in $t))throw new Error("Unexpected response");return __privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this,$t.address),{accounts:this.accounts}}),__privateAdd$4(this,_disconnect,async()=>{localStorage.removeItem(STASHED_RECENT_ADDRESS_KEY),__privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this)}),__privateSet$3(this,_accounts,[]),__privateSet$3(this,_events,mitt()),__privateSet$3(this,_origin,at),__privateSet$3(this,_name,a),__privateSet$3(this,_network,et),nt&&__privateMethod$3(this,_StashedWallet_instances,setAccount_fn).call(this,nt)}get name(){return STASHED_WALLET_NAME}get icon(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHJlY3Qgd2lkdGg9IjU0IiBoZWlnaHQ9IjU0IiB4PSIxIiB5PSIxIiBmaWxsPSIjNTE5REU5IiByeD0iMjciLz48cmVjdCB3aWR0aD0iNTQiIGhlaWdodD0iNTQiIHg9IjEiIHk9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyIiByeD0iMjciLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTguMzUzIDM1LjA2NGMuOTIxIDMuNDM4IDQuMzYzIDYuNTUxIDExLjQ4MyA0LjY0NCA2Ljc5NC0xLjgyMSAxMS4wNTItNy40MSA5Ljk0OC0xMS41My0uMzgxLTEuNDIzLTEuNTMtMi4zODctMy4zLTIuMjNsLTE1LjgzMiAxLjMyYy0uOTk3LjA3Ni0xLjQ1NC0uMDg4LTEuNzE4LS43MTYtLjI1Ni0uNTk5LS4xMS0xLjI0MSAxLjA5NC0xLjg1bDEyLjA0OC02LjE4M2MuOTI0LS40NyAxLjUzOS0uNjY2IDIuMTAxLS40NjguMzUyLjEyOC41ODQuNjM4LjM3MSAxLjI2N2wtLjc4MSAyLjMwNmMtLjk1OSAyLjgzIDEuMDk0IDMuNDg4IDIuMjUgMy4xNzggMS43NTEtLjQ2OSAyLjE2My0yLjEzNiAxLjU5OS00LjI0LTEuNDMtNS4zMzctNy4wOS02LjE3LTEyLjIyMy00Ljc5Ni01LjIyMiAxLjQtOS43NDggNS42My04LjM2NiAxMC43ODkuMzI1IDEuMjE1IDEuNDQ0IDIuMTg2IDIuNzQgMi4xNTdsMS45NzgtLjAwNWMuNDA3LS4wMS4yNi4wMjQgMS4wNDYtLjA0MS43ODQtLjA2NSAyLjg4LS4zMjMgMi44OC0uMzIzbDEwLjI4Ni0xLjE2NC4yNjUtLjAzOGMuNjAyLS4xMDMgMS4wNTYuMDUzIDEuNDQuNzE1LjU3Ni45OTEtLjMwMiAxLjczOC0xLjM1MiAyLjYzM2wtLjA4NS4wNzItOS4wNDEgNy43OTJjLTEuNTUgMS4zMzctMi42MzkuODM0LTMuMDItLjU4OWwtMS4zNS01LjA0Yy0uMzM0LTEuMjQ0LTEuNTUtMi4yMjEtMi45NzQtMS44NC0xLjc4LjQ3Ny0xLjkyNCAyLjU1LTEuNDg3IDQuMThaIi8+PC9zdmc+Cg=="}get version(){return"1.0.0"}get chains(){return[SUI_MAINNET_CHAIN]}get accounts(){return __privateGet$4(this,_accounts)}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet$4(this,_connect)},"standard:disconnect":{version:"1.0.0",disconnect:__privateGet$4(this,_disconnect)},"standard:events":{version:"1.0.0",on:__privateGet$4(this,_on)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet$4(this,_signTransactionBlock)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet$4(this,_signTransaction)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet$4(this,_signPersonalMessage)}}}}_events=new WeakMap;_accounts=new WeakMap;_origin=new WeakMap;_name=new WeakMap;_network=new WeakMap;_signTransactionBlock=new WeakMap;_signTransaction=new WeakMap;_signPersonalMessage=new WeakMap;_on=new WeakMap;_StashedWallet_instances=new WeakSet;setAccount_fn=function(s){s?(__privateSet$3(this,_accounts,[new ReadonlyWalletAccount({address:s,chains:[SUI_MAINNET_CHAIN],features:["sui:signTransactionBlock","sui:signPersonalMessage"],publicKey:new Uint8Array})]),localStorage.setItem(STASHED_RECENT_ADDRESS_KEY,s)):__privateSet$3(this,_accounts,[]),__privateGet$4(this,_events).emit("change",{accounts:this.accounts})};_connect=new WeakMap;_disconnect=new WeakMap;function registerStashedWallet(s,{origin:a,network:et="mainnet"}={}){const nt=getWallets();let at=null;try{const $t=new URLSearchParams(window.location.search);at=$t.get("stashed_address")||$t.get("zksend_address")}catch{}const mt=new StashedWallet({name:s,network:et,origin:a,address:at}),wt=nt.register(mt);return{wallet:mt,unregister:wt,addressFromRedirect:at}}const __vite_import_meta_env__={};function createJSONStorage(s,a){let et;try{et=s()}catch{return}return{getItem:at=>{var mt;const wt=Ct=>Ct===null?null:JSON.parse(Ct,void 0),$t=(mt=et.getItem(at))!=null?mt:null;return $t instanceof Promise?$t.then(wt):wt($t)},setItem:(at,mt)=>et.setItem(at,JSON.stringify(mt,void 0)),removeItem:at=>et.removeItem(at)}}const toThenable=s=>a=>{try{const et=s(a);return et instanceof Promise?et:{then(nt){return toThenable(nt)(et)},catch(nt){return this}}}catch(et){return{then(nt){return this},catch(nt){return toThenable(nt)(et)}}}},oldImpl=(s,a)=>(et,nt,at)=>{let mt={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:Yt=>Yt,version:0,merge:(Yt,er)=>({...er,...Yt}),...a},wt=!1;const $t=new Set,Ct=new Set;let Dt;try{Dt=mt.getStorage()}catch{}if(!Dt)return s((...Yt)=>{console.warn(`[zustand persist middleware] Unable to update item '${mt.name}', the given storage is currently unavailable.`),et(...Yt)},nt,at);const Ft=toThenable(mt.serialize),jt=()=>{const Yt=mt.partialize({...nt()});let er;const tr=Ft({state:Yt,version:mt.version}).then(nr=>Dt.setItem(mt.name,nr)).catch(nr=>{er=nr});if(er)throw er;return tr},Nt=at.setState;at.setState=(Yt,er)=>{Nt(Yt,er),jt()};const Lt=s((...Yt)=>{et(...Yt),jt()},nt,at);let Ut;const Vt=()=>{var Yt;if(!Dt)return;wt=!1,$t.forEach(tr=>tr(nt()));const er=((Yt=mt.onRehydrateStorage)==null?void 0:Yt.call(mt,nt()))||void 0;return toThenable(Dt.getItem.bind(Dt))(mt.name).then(tr=>{if(tr)return mt.deserialize(tr)}).then(tr=>{if(tr)if(typeof tr.version=="number"&&tr.version!==mt.version){if(mt.migrate)return mt.migrate(tr.state,tr.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return tr.state}).then(tr=>{var nr;return Ut=mt.merge(tr,(nr=nt())!=null?nr:Lt),et(Ut,!0),jt()}).then(()=>{er==null||er(Ut,void 0),wt=!0,Ct.forEach(tr=>tr(Ut))}).catch(tr=>{er==null||er(void 0,tr)})};return at.persist={setOptions:Yt=>{mt={...mt,...Yt},Yt.getStorage&&(Dt=Yt.getStorage())},clearStorage:()=>{Dt==null||Dt.removeItem(mt.name)},getOptions:()=>mt,rehydrate:()=>Vt(),hasHydrated:()=>wt,onHydrate:Yt=>($t.add(Yt),()=>{$t.delete(Yt)}),onFinishHydration:Yt=>(Ct.add(Yt),()=>{Ct.delete(Yt)})},Vt(),Ut||Lt},newImpl=(s,a)=>(et,nt,at)=>{let mt={storage:createJSONStorage(()=>localStorage),partialize:Vt=>Vt,version:0,merge:(Vt,Yt)=>({...Yt,...Vt}),...a},wt=!1;const $t=new Set,Ct=new Set;let Dt=mt.storage;if(!Dt)return s((...Vt)=>{console.warn(`[zustand persist middleware] Unable to update item '${mt.name}', the given storage is currently unavailable.`),et(...Vt)},nt,at);const Ft=()=>{const Vt=mt.partialize({...nt()});return Dt.setItem(mt.name,{state:Vt,version:mt.version})},jt=at.setState;at.setState=(Vt,Yt)=>{jt(Vt,Yt),Ft()};const Nt=s((...Vt)=>{et(...Vt),Ft()},nt,at);at.getInitialState=()=>Nt;let Lt;const Ut=()=>{var Vt,Yt;if(!Dt)return;wt=!1,$t.forEach(tr=>{var nr;return tr((nr=nt())!=null?nr:Nt)});const er=((Yt=mt.onRehydrateStorage)==null?void 0:Yt.call(mt,(Vt=nt())!=null?Vt:Nt))||void 0;return toThenable(Dt.getItem.bind(Dt))(mt.name).then(tr=>{if(tr)if(typeof tr.version=="number"&&tr.version!==mt.version){if(mt.migrate)return[!0,mt.migrate(tr.state,tr.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,tr.state];return[!1,void 0]}).then(tr=>{var nr;const[sr,dr]=tr;if(Lt=mt.merge(dr,(nr=nt())!=null?nr:Nt),et(Lt,!0),sr)return Ft()}).then(()=>{er==null||er(Lt,void 0),Lt=nt(),wt=!0,Ct.forEach(tr=>tr(Lt))}).catch(tr=>{er==null||er(void 0,tr)})};return at.persist={setOptions:Vt=>{mt={...mt,...Vt},Vt.storage&&(Dt=Vt.storage)},clearStorage:()=>{Dt==null||Dt.removeItem(mt.name)},getOptions:()=>mt,rehydrate:()=>Ut(),hasHydrated:()=>wt,onHydrate:Vt=>($t.add(Vt),()=>{$t.delete(Vt)}),onFinishHydration:Vt=>(Ct.add(Vt),()=>{Ct.delete(Vt)})},mt.skipHydration||Ut(),Lt||Nt},persistImpl=(s,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((__vite_import_meta_env__?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(s,a)):newImpl(s,a),persist=persistImpl;function getVarName(s){var a=s.match(/^var\((.*)\)$/);return a?a[1]:s}function get$5(s,a){var et=s;for(var nt of a){if(!(nt in et))throw new Error("Path ".concat(a.join(" -> ")," does not exist in object"));et=et[nt]}return et}function walkObject$1(s,a){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],nt={};for(var at in s){var mt=s[at],wt=[...et,at];typeof mt=="string"||typeof mt=="number"||mt==null?nt[at]=a(mt,wt):typeof mt=="object"&&!Array.isArray(mt)?nt[at]=walkObject$1(mt,a,wt):console.warn('Skipping invalid key "'.concat(wt.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(mt)?"Array":typeof mt,'"'))}return nt}function assignInlineVars(s,a){var et={};if(typeof a=="object"){var nt=s;walkObject$1(a,($t,Ct)=>{if($t!=null){var Dt=get$5(nt,Ct);et[getVarName(Dt)]=String($t)}})}else{var at=s;for(var mt in at){var wt=at[mt];wt!=null&&(et[getVarName(mt)]=wt)}}return Object.defineProperty(et,"toString",{value:function(){return Object.keys(this).map(Ct=>"".concat(Ct,":").concat(this[Ct])).join(";")},writable:!1}),et}/*! https://mths.be/cssesc v3.0.0 by @mathias */var object={},hasOwnProperty$c=object.hasOwnProperty,merge$4=function(a,et){if(!a)return et;var nt={};for(var at in et)nt[at]=hasOwnProperty$c.call(a,at)?a[at]:et[at];return nt},regexAnySingleEscape=/[ -,\.\/:-@\[-\^`\{-~]/,regexSingleEscape=/[ -,\.\/:-@\[\]\^`\{-~]/,regexExcessiveSpaces=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,cssesc=function s(a,et){et=merge$4(et,s.options),et.quotes!="single"&&et.quotes!="double"&&(et.quotes="single");for(var nt=et.quotes=="double"?'"':"'",at=et.isIdentifier,mt=a.charAt(0),wt="",$t=0,Ct=a.length;$t<Ct;){var Dt=a.charAt($t++),Ft=Dt.charCodeAt(),jt=void 0;if(Ft<32||Ft>126){if(Ft>=55296&&Ft<=56319&&$t<Ct){var Nt=a.charCodeAt($t++);(Nt&64512)==56320?Ft=((Ft&1023)<<10)+(Nt&1023)+65536:$t--}jt="\\"+Ft.toString(16).toUpperCase()+" "}else et.escapeEverything?regexAnySingleEscape.test(Dt)?jt="\\"+Dt:jt="\\"+Ft.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(Dt)?jt="\\"+Ft.toString(16).toUpperCase()+" ":Dt=="\\"||!at&&(Dt=='"'&&nt==Dt||Dt=="'"&&nt==Dt)||at&&regexSingleEscape.test(Dt)?jt="\\"+Dt:jt=Dt;wt+=jt}return at&&(/^-[-\d]/.test(wt)?wt="\\-"+wt.slice(1):/\d/.test(mt)&&(wt="\\3"+mt+" "+wt.slice(1))),wt=wt.replace(regexExcessiveSpaces,function(Lt,Ut,Vt){return Ut&&Ut.length%2?Lt:(Ut||"")+Vt}),!at&&et.wrap?nt+wt+nt:wt};cssesc.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};cssesc.version="3.0.0";var cssesc_1=cssesc;const cssesc$1=getDefaultExportFromCjs$2(cssesc_1);var hasConfiguredAdapter=!1,setAdapterIfNotSet=s=>{hasConfiguredAdapter||setAdapter(s)},setAdapter=s=>{if(!s)throw new Error('No adapter provided when calling "setAdapter"');hasConfiguredAdapter=!0};function ownKeys$1(s,a){var et=Object.keys(s);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(s);a&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(s,at).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread$1(s){for(var a=1;a<arguments.length;a++){var et=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$1(Object(et),!0).forEach(function(nt){_defineProperty$1(s,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(nt){Object.defineProperty(s,nt,Object.getOwnPropertyDescriptor(et,nt))})}return s}function _defineProperty$1(s,a,et){return a=_toPropertyKey(a),a in s?Object.defineProperty(s,a,{value:et,enumerable:!0,configurable:!0,writable:!0}):s[a]=et,s}function _toPropertyKey(s){var a=_toPrimitive(s,"string");return typeof a=="symbol"?a:String(a)}function _toPrimitive(s,a){if(typeof s!="object"||s===null)return s;var et=s[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(s,a);if(typeof nt!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}createDedent({});function createDedent(s){return a.withOptions=et=>createDedent(_objectSpread$1(_objectSpread$1({},s),et)),a;function a(et,...nt){const at=typeof et=="string"?[et]:et.raw,{escapeSpecialCharacters:mt=Array.isArray(et)}=s;let wt="";for(let Dt=0;Dt<at.length;Dt++){let Ft=at[Dt];mt&&(Ft=Ft.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),wt+=Ft,Dt<nt.length&&(wt+=nt[Dt])}const $t=wt.split(`
`);let Ct=null;for(const Dt of $t){const Ft=Dt.match(/^(\s+)\S+/);if(Ft){const jt=Ft[1].length;Ct?Ct=Math.min(Ct,jt):Ct=jt}}if(Ct!==null){const Dt=Ct;wt=$t.map(Ft=>Ft[0]===" "||Ft[0]==="	"?Ft.slice(Dt):Ft).join(`
`)}return wt=wt.trim(),mt&&(wt=wt.replace(/\\n/g,`
`)),wt}}var simplePseudoMap={":-moz-any-link":!0,":-moz-full-screen":!0,":-moz-placeholder":!0,":-moz-read-only":!0,":-moz-read-write":!0,":-ms-fullscreen":!0,":-ms-input-placeholder":!0,":-webkit-any-link":!0,":-webkit-full-screen":!0,"::-moz-color-swatch":!0,"::-moz-list-bullet":!0,"::-moz-list-number":!0,"::-moz-page-sequence":!0,"::-moz-page":!0,"::-moz-placeholder":!0,"::-moz-progress-bar":!0,"::-moz-range-progress":!0,"::-moz-range-thumb":!0,"::-moz-range-track":!0,"::-moz-scrolled-page-sequence":!0,"::-moz-selection":!0,"::-ms-backdrop":!0,"::-ms-browse":!0,"::-ms-check":!0,"::-ms-clear":!0,"::-ms-fill-lower":!0,"::-ms-fill-upper":!0,"::-ms-fill":!0,"::-ms-reveal":!0,"::-ms-thumb":!0,"::-ms-ticks-after":!0,"::-ms-ticks-before":!0,"::-ms-tooltip":!0,"::-ms-track":!0,"::-ms-value":!0,"::-webkit-backdrop":!0,"::-webkit-calendar-picker-indicator":!0,"::-webkit-inner-spin-button":!0,"::-webkit-input-placeholder":!0,"::-webkit-meter-bar":!0,"::-webkit-meter-even-less-good-value":!0,"::-webkit-meter-inner-element":!0,"::-webkit-meter-optimum-value":!0,"::-webkit-meter-suboptimum-value":!0,"::-webkit-outer-spin-button":!0,"::-webkit-progress-bar":!0,"::-webkit-progress-inner-element":!0,"::-webkit-progress-inner-value":!0,"::-webkit-progress-value":!0,"::-webkit-resizer":!0,"::-webkit-scrollbar-button":!0,"::-webkit-scrollbar-corner":!0,"::-webkit-scrollbar-thumb":!0,"::-webkit-scrollbar-track-piece":!0,"::-webkit-scrollbar-track":!0,"::-webkit-scrollbar":!0,"::-webkit-search-cancel-button":!0,"::-webkit-search-results-button":!0,"::-webkit-slider-runnable-track":!0,"::-webkit-slider-thumb":!0,"::after":!0,"::backdrop":!0,"::before":!0,"::cue":!0,"::file-selector-button":!0,"::first-letter":!0,"::first-line":!0,"::grammar-error":!0,"::marker":!0,"::placeholder":!0,"::selection":!0,"::spelling-error":!0,"::target-text":!0,"::view-transition-group":!0,"::view-transition-image-pair":!0,"::view-transition-new":!0,"::view-transition-old":!0,"::view-transition":!0,":active":!0,":after":!0,":any-link":!0,":before":!0,":blank":!0,":checked":!0,":default":!0,":defined":!0,":disabled":!0,":empty":!0,":enabled":!0,":first-child":!0,":first-letter":!0,":first-line":!0,":first-of-type":!0,":first":!0,":focus-visible":!0,":focus-within":!0,":focus":!0,":fullscreen":!0,":hover":!0,":in-range":!0,":indeterminate":!0,":invalid":!0,":last-child":!0,":last-of-type":!0,":left":!0,":link":!0,":only-child":!0,":only-of-type":!0,":optional":!0,":out-of-range":!0,":placeholder-shown":!0,":read-only":!0,":read-write":!0,":required":!0,":right":!0,":root":!0,":scope":!0,":target":!0,":valid":!0,":visited":!0},simplePseudos=Object.keys(simplePseudoMap);[...simplePseudos];function murmur2(s){for(var a=0,et,nt=0,at=s.length;at>=4;++nt,at-=4)et=s.charCodeAt(nt)&255|(s.charCodeAt(++nt)&255)<<8|(s.charCodeAt(++nt)&255)<<16|(s.charCodeAt(++nt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,a=(et&65535)*1540483477+((et>>>16)*59797<<16)^(a&65535)*1540483477+((a>>>16)*59797<<16);switch(at){case 3:a^=(s.charCodeAt(nt+2)&255)<<16;case 2:a^=(s.charCodeAt(nt+1)&255)<<8;case 1:a^=s.charCodeAt(nt)&255,a=(a&65535)*1540483477+((a>>>16)*59797<<16)}return a^=a>>>13,a=(a&65535)*1540483477+((a>>>16)*59797<<16),((a^a>>>15)>>>0).toString(36)}function getDefaultExportFromCjs$1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var browser$f={exports:{}},process=browser$f.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(s){if(cachedSetTimeout===setTimeout)return setTimeout(s,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(s,0);try{return cachedSetTimeout(s,0)}catch{try{return cachedSetTimeout.call(null,s,0)}catch{return cachedSetTimeout.call(this,s,0)}}}function runClearTimeout(s){if(cachedClearTimeout===clearTimeout)return clearTimeout(s);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(s);try{return cachedClearTimeout(s)}catch{try{return cachedClearTimeout.call(null,s)}catch{return cachedClearTimeout.call(this,s)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var s=runTimeout(cleanUpNextTick);draining=!0;for(var a=queue.length;a;){for(currentQueue=queue,queue=[];++queueIndex<a;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,a=queue.length}currentQueue=null,draining=!1,runClearTimeout(s)}}process.nextTick=function(s){var a=new Array(arguments.length-1);if(arguments.length>1)for(var et=1;et<arguments.length;et++)a[et-1]=arguments[et];queue.push(new Item$1(s,a)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item$1(s,a){this.fun=s,this.array=a}Item$1.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$5(){}process.on=noop$5;process.addListener=noop$5;process.once=noop$5;process.off=noop$5;process.removeListener=noop$5;process.removeAllListeners=noop$5;process.emit=noop$5;process.prependListener=noop$5;process.prependOnceListener=noop$5;process.listeners=function(s){return[]};process.binding=function(s){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(s){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$f.exports;const process$1=getDefaultExportFromCjs$1(browserExports),perf=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,warned=new Set,PROCESS=typeof process$1=="object"&&process$1?process$1:{},emitWarning=(s,a,et,nt)=>{typeof PROCESS.emitWarning=="function"?PROCESS.emitWarning(s,a,et,nt):console.error(`[${et}] ${a}: ${s}`)};let AC=globalThis.AbortController,AS=globalThis.AbortSignal;var ap;if(typeof AC>"u"){AS=class{constructor(){sn(this,"onabort");sn(this,"_onabort",[]);sn(this,"reason");sn(this,"aborted",!1)}addEventListener(nt,at){this._onabort.push(at)}},AC=class{constructor(){sn(this,"signal",new AS);a()}abort(nt){var at,mt;if(!this.signal.aborted){this.signal.reason=nt,this.signal.aborted=!0;for(const wt of this.signal._onabort)wt(nt);(mt=(at=this.signal).onabort)==null||mt.call(at,nt)}}};let s=((ap=PROCESS.env)==null?void 0:ap.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const a=()=>{s&&(s=!1,emitWarning("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",a))}}const shouldWarn=s=>!warned.has(s),isPosInt=s=>s&&s===Math.floor(s)&&s>0&&isFinite(s),getUintArray=s=>isPosInt(s)?s<=Math.pow(2,8)?Uint8Array:s<=Math.pow(2,16)?Uint16Array:s<=Math.pow(2,32)?Uint32Array:s<=Number.MAX_SAFE_INTEGER?ZeroArray:null:null;class ZeroArray extends Array{constructor(a){super(a),this.fill(0)}}var Ns,ou;let Stack$2=(Ns=class{constructor(a,et){sn(this,"heap");sn(this,"length");if(!Dr(Ns,ou))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new et(a),this.length=0}static create(a){const et=getUintArray(a);if(!et)return[];Kn(Ns,ou,!0);const nt=new Ns(a,et);return Kn(Ns,ou,!1),nt}push(a){this.heap[this.length++]=a}pop(){return this.heap[--this.length]}},ou=new WeakMap,uo(Ns,ou,!1),Ns);var sp,lp,Ts,vs,As,Rs,au,su,os,ks,ns,Yo,Ro,fs,bs,cs,as,Is,ss,Ps,Os,ys,Ds,$l,hs,ho,Nu,Nl,Vs,bu,xs,Ap,Ll,lu,yu,Gs,Ws,Lu,wu,Su,Ko,qu,pu,Ks,Uu;const zu=class zu{constructor(a){uo(this,ho);uo(this,Ts);uo(this,vs);uo(this,As);uo(this,Rs);uo(this,au);uo(this,su);sn(this,"ttl");sn(this,"ttlResolution");sn(this,"ttlAutopurge");sn(this,"updateAgeOnGet");sn(this,"updateAgeOnHas");sn(this,"allowStale");sn(this,"noDisposeOnSet");sn(this,"noUpdateTTL");sn(this,"maxEntrySize");sn(this,"sizeCalculation");sn(this,"noDeleteOnFetchRejection");sn(this,"noDeleteOnStaleGet");sn(this,"allowStaleOnFetchAbort");sn(this,"allowStaleOnFetchRejection");sn(this,"ignoreFetchAbort");uo(this,os);uo(this,ks);uo(this,ns);uo(this,Yo);uo(this,Ro);uo(this,fs);uo(this,bs);uo(this,cs);uo(this,as);uo(this,Is);uo(this,ss);uo(this,Ps);uo(this,Os);uo(this,ys);uo(this,Ds);uo(this,$l);uo(this,hs);uo(this,Nl,()=>{});uo(this,Vs,()=>{});uo(this,bu,()=>{});uo(this,xs,()=>!1);uo(this,Ll,a=>{});uo(this,lu,(a,et,nt)=>{});uo(this,yu,(a,et,nt,at)=>{if(nt||at)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});sn(this,sp,"LRUCache");const{max:et=0,ttl:nt,ttlResolution:at=1,ttlAutopurge:mt,updateAgeOnGet:wt,updateAgeOnHas:$t,allowStale:Ct,dispose:Dt,disposeAfter:Ft,noDisposeOnSet:jt,noUpdateTTL:Nt,maxSize:Lt=0,maxEntrySize:Ut=0,sizeCalculation:Vt,fetchMethod:Yt,memoMethod:er,noDeleteOnFetchRejection:tr,noDeleteOnStaleGet:nr,allowStaleOnFetchRejection:sr,allowStaleOnFetchAbort:dr,ignoreFetchAbort:br}=a;if(et!==0&&!isPosInt(et))throw new TypeError("max option must be a nonnegative integer");const vr=et?getUintArray(et):Array;if(!vr)throw new Error("invalid max value: "+et);if(Kn(this,Ts,et),Kn(this,vs,Lt),this.maxEntrySize=Ut||Dr(this,vs),this.sizeCalculation=Vt,this.sizeCalculation){if(!Dr(this,vs)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(er!==void 0&&typeof er!="function")throw new TypeError("memoMethod must be a function if defined");if(Kn(this,su,er),Yt!==void 0&&typeof Yt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Kn(this,au,Yt),Kn(this,$l,!!Yt),Kn(this,ns,new Map),Kn(this,Yo,new Array(et).fill(void 0)),Kn(this,Ro,new Array(et).fill(void 0)),Kn(this,fs,new vr(et)),Kn(this,bs,new vr(et)),Kn(this,cs,0),Kn(this,as,0),Kn(this,Is,Stack$2.create(et)),Kn(this,os,0),Kn(this,ks,0),typeof Dt=="function"&&Kn(this,As,Dt),typeof Ft=="function"?(Kn(this,Rs,Ft),Kn(this,ss,[])):(Kn(this,Rs,void 0),Kn(this,ss,void 0)),Kn(this,Ds,!!Dr(this,As)),Kn(this,hs,!!Dr(this,Rs)),this.noDisposeOnSet=!!jt,this.noUpdateTTL=!!Nt,this.noDeleteOnFetchRejection=!!tr,this.allowStaleOnFetchRejection=!!sr,this.allowStaleOnFetchAbort=!!dr,this.ignoreFetchAbort=!!br,this.maxEntrySize!==0){if(Dr(this,vs)!==0&&!isPosInt(Dr(this,vs)))throw new TypeError("maxSize must be a positive integer if specified");if(!isPosInt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");eo(this,ho,Ap).call(this)}if(this.allowStale=!!Ct,this.noDeleteOnStaleGet=!!nr,this.updateAgeOnGet=!!wt,this.updateAgeOnHas=!!$t,this.ttlResolution=isPosInt(at)||at===0?at:1,this.ttlAutopurge=!!mt,this.ttl=nt||0,this.ttl){if(!isPosInt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");eo(this,ho,Nu).call(this)}if(Dr(this,Ts)===0&&this.ttl===0&&Dr(this,vs)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!Dr(this,Ts)&&!Dr(this,vs)){const yr="LRU_CACHE_UNBOUNDED";shouldWarn(yr)&&(warned.add(yr),emitWarning("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",yr,zu))}}static unsafeExposeInternals(a){return{starts:Dr(a,Os),ttls:Dr(a,ys),sizes:Dr(a,Ps),keyMap:Dr(a,ns),keyList:Dr(a,Yo),valList:Dr(a,Ro),next:Dr(a,fs),prev:Dr(a,bs),get head(){return Dr(a,cs)},get tail(){return Dr(a,as)},free:Dr(a,Is),isBackgroundFetch:et=>{var nt;return eo(nt=a,ho,Ko).call(nt,et)},backgroundFetch:(et,nt,at,mt)=>{var wt;return eo(wt=a,ho,Su).call(wt,et,nt,at,mt)},moveToTail:et=>{var nt;return eo(nt=a,ho,pu).call(nt,et)},indexes:et=>{var nt;return eo(nt=a,ho,Gs).call(nt,et)},rindexes:et=>{var nt;return eo(nt=a,ho,Ws).call(nt,et)},isStale:et=>{var nt;return Dr(nt=a,xs).call(nt,et)}}}get max(){return Dr(this,Ts)}get maxSize(){return Dr(this,vs)}get calculatedSize(){return Dr(this,ks)}get size(){return Dr(this,os)}get fetchMethod(){return Dr(this,au)}get memoMethod(){return Dr(this,su)}get dispose(){return Dr(this,As)}get disposeAfter(){return Dr(this,Rs)}getRemainingTTL(a){return Dr(this,ns).has(a)?1/0:0}*entries(){for(const a of eo(this,ho,Gs).call(this))Dr(this,Ro)[a]!==void 0&&Dr(this,Yo)[a]!==void 0&&!eo(this,ho,Ko).call(this,Dr(this,Ro)[a])&&(yield[Dr(this,Yo)[a],Dr(this,Ro)[a]])}*rentries(){for(const a of eo(this,ho,Ws).call(this))Dr(this,Ro)[a]!==void 0&&Dr(this,Yo)[a]!==void 0&&!eo(this,ho,Ko).call(this,Dr(this,Ro)[a])&&(yield[Dr(this,Yo)[a],Dr(this,Ro)[a]])}*keys(){for(const a of eo(this,ho,Gs).call(this)){const et=Dr(this,Yo)[a];et!==void 0&&!eo(this,ho,Ko).call(this,Dr(this,Ro)[a])&&(yield et)}}*rkeys(){for(const a of eo(this,ho,Ws).call(this)){const et=Dr(this,Yo)[a];et!==void 0&&!eo(this,ho,Ko).call(this,Dr(this,Ro)[a])&&(yield et)}}*values(){for(const a of eo(this,ho,Gs).call(this))Dr(this,Ro)[a]!==void 0&&!eo(this,ho,Ko).call(this,Dr(this,Ro)[a])&&(yield Dr(this,Ro)[a])}*rvalues(){for(const a of eo(this,ho,Ws).call(this))Dr(this,Ro)[a]!==void 0&&!eo(this,ho,Ko).call(this,Dr(this,Ro)[a])&&(yield Dr(this,Ro)[a])}[(lp=Symbol.iterator,sp=Symbol.toStringTag,lp)](){return this.entries()}find(a,et={}){for(const nt of eo(this,ho,Gs).call(this)){const at=Dr(this,Ro)[nt],mt=eo(this,ho,Ko).call(this,at)?at.__staleWhileFetching:at;if(mt!==void 0&&a(mt,Dr(this,Yo)[nt],this))return this.get(Dr(this,Yo)[nt],et)}}forEach(a,et=this){for(const nt of eo(this,ho,Gs).call(this)){const at=Dr(this,Ro)[nt],mt=eo(this,ho,Ko).call(this,at)?at.__staleWhileFetching:at;mt!==void 0&&a.call(et,mt,Dr(this,Yo)[nt],this)}}rforEach(a,et=this){for(const nt of eo(this,ho,Ws).call(this)){const at=Dr(this,Ro)[nt],mt=eo(this,ho,Ko).call(this,at)?at.__staleWhileFetching:at;mt!==void 0&&a.call(et,mt,Dr(this,Yo)[nt],this)}}purgeStale(){let a=!1;for(const et of eo(this,ho,Ws).call(this,{allowStale:!0}))Dr(this,xs).call(this,et)&&(eo(this,ho,Ks).call(this,Dr(this,Yo)[et],"expire"),a=!0);return a}info(a){const et=Dr(this,ns).get(a);if(et===void 0)return;const nt=Dr(this,Ro)[et],at=eo(this,ho,Ko).call(this,nt)?nt.__staleWhileFetching:nt;if(at===void 0)return;const mt={value:at};if(Dr(this,ys)&&Dr(this,Os)){const wt=Dr(this,ys)[et],$t=Dr(this,Os)[et];if(wt&&$t){const Ct=wt-(perf.now()-$t);mt.ttl=Ct,mt.start=Date.now()}}return Dr(this,Ps)&&(mt.size=Dr(this,Ps)[et]),mt}dump(){const a=[];for(const et of eo(this,ho,Gs).call(this,{allowStale:!0})){const nt=Dr(this,Yo)[et],at=Dr(this,Ro)[et],mt=eo(this,ho,Ko).call(this,at)?at.__staleWhileFetching:at;if(mt===void 0||nt===void 0)continue;const wt={value:mt};if(Dr(this,ys)&&Dr(this,Os)){wt.ttl=Dr(this,ys)[et];const $t=perf.now()-Dr(this,Os)[et];wt.start=Math.floor(Date.now()-$t)}Dr(this,Ps)&&(wt.size=Dr(this,Ps)[et]),a.unshift([nt,wt])}return a}load(a){this.clear();for(const[et,nt]of a){if(nt.start){const at=Date.now()-nt.start;nt.start=perf.now()-at}this.set(et,nt.value,nt)}}set(a,et,nt={}){var Nt,Lt,Ut,Vt,Yt;if(et===void 0)return this.delete(a),this;const{ttl:at=this.ttl,start:mt,noDisposeOnSet:wt=this.noDisposeOnSet,sizeCalculation:$t=this.sizeCalculation,status:Ct}=nt;let{noUpdateTTL:Dt=this.noUpdateTTL}=nt;const Ft=Dr(this,yu).call(this,a,et,nt.size||0,$t);if(this.maxEntrySize&&Ft>this.maxEntrySize)return Ct&&(Ct.set="miss",Ct.maxEntrySizeExceeded=!0),eo(this,ho,Ks).call(this,a,"set"),this;let jt=Dr(this,os)===0?void 0:Dr(this,ns).get(a);if(jt===void 0)jt=Dr(this,os)===0?Dr(this,as):Dr(this,Is).length!==0?Dr(this,Is).pop():Dr(this,os)===Dr(this,Ts)?eo(this,ho,wu).call(this,!1):Dr(this,os),Dr(this,Yo)[jt]=a,Dr(this,Ro)[jt]=et,Dr(this,ns).set(a,jt),Dr(this,fs)[Dr(this,as)]=jt,Dr(this,bs)[jt]=Dr(this,as),Kn(this,as,jt),Al(this,os)._++,Dr(this,lu).call(this,jt,Ft,Ct),Ct&&(Ct.set="add"),Dt=!1;else{eo(this,ho,pu).call(this,jt);const er=Dr(this,Ro)[jt];if(et!==er){if(Dr(this,$l)&&eo(this,ho,Ko).call(this,er)){er.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:tr}=er;tr!==void 0&&!wt&&(Dr(this,Ds)&&((Nt=Dr(this,As))==null||Nt.call(this,tr,a,"set")),Dr(this,hs)&&((Lt=Dr(this,ss))==null||Lt.push([tr,a,"set"])))}else wt||(Dr(this,Ds)&&((Ut=Dr(this,As))==null||Ut.call(this,er,a,"set")),Dr(this,hs)&&((Vt=Dr(this,ss))==null||Vt.push([er,a,"set"])));if(Dr(this,Ll).call(this,jt),Dr(this,lu).call(this,jt,Ft,Ct),Dr(this,Ro)[jt]=et,Ct){Ct.set="replace";const tr=er&&eo(this,ho,Ko).call(this,er)?er.__staleWhileFetching:er;tr!==void 0&&(Ct.oldValue=tr)}}else Ct&&(Ct.set="update")}if(at!==0&&!Dr(this,ys)&&eo(this,ho,Nu).call(this),Dr(this,ys)&&(Dt||Dr(this,bu).call(this,jt,at,mt),Ct&&Dr(this,Vs).call(this,Ct,jt)),!wt&&Dr(this,hs)&&Dr(this,ss)){const er=Dr(this,ss);let tr;for(;tr=er==null?void 0:er.shift();)(Yt=Dr(this,Rs))==null||Yt.call(this,...tr)}return this}pop(){var a;try{for(;Dr(this,os);){const et=Dr(this,Ro)[Dr(this,cs)];if(eo(this,ho,wu).call(this,!0),eo(this,ho,Ko).call(this,et)){if(et.__staleWhileFetching)return et.__staleWhileFetching}else if(et!==void 0)return et}}finally{if(Dr(this,hs)&&Dr(this,ss)){const et=Dr(this,ss);let nt;for(;nt=et==null?void 0:et.shift();)(a=Dr(this,Rs))==null||a.call(this,...nt)}}}has(a,et={}){const{updateAgeOnHas:nt=this.updateAgeOnHas,status:at}=et,mt=Dr(this,ns).get(a);if(mt!==void 0){const wt=Dr(this,Ro)[mt];if(eo(this,ho,Ko).call(this,wt)&&wt.__staleWhileFetching===void 0)return!1;if(Dr(this,xs).call(this,mt))at&&(at.has="stale",Dr(this,Vs).call(this,at,mt));else return nt&&Dr(this,Nl).call(this,mt),at&&(at.has="hit",Dr(this,Vs).call(this,at,mt)),!0}else at&&(at.has="miss");return!1}peek(a,et={}){const{allowStale:nt=this.allowStale}=et,at=Dr(this,ns).get(a);if(at===void 0||!nt&&Dr(this,xs).call(this,at))return;const mt=Dr(this,Ro)[at];return eo(this,ho,Ko).call(this,mt)?mt.__staleWhileFetching:mt}async fetch(a,et={}){const{allowStale:nt=this.allowStale,updateAgeOnGet:at=this.updateAgeOnGet,noDeleteOnStaleGet:mt=this.noDeleteOnStaleGet,ttl:wt=this.ttl,noDisposeOnSet:$t=this.noDisposeOnSet,size:Ct=0,sizeCalculation:Dt=this.sizeCalculation,noUpdateTTL:Ft=this.noUpdateTTL,noDeleteOnFetchRejection:jt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Nt=this.allowStaleOnFetchRejection,ignoreFetchAbort:Lt=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ut=this.allowStaleOnFetchAbort,context:Vt,forceRefresh:Yt=!1,status:er,signal:tr}=et;if(!Dr(this,$l))return er&&(er.fetch="get"),this.get(a,{allowStale:nt,updateAgeOnGet:at,noDeleteOnStaleGet:mt,status:er});const nr={allowStale:nt,updateAgeOnGet:at,noDeleteOnStaleGet:mt,ttl:wt,noDisposeOnSet:$t,size:Ct,sizeCalculation:Dt,noUpdateTTL:Ft,noDeleteOnFetchRejection:jt,allowStaleOnFetchRejection:Nt,allowStaleOnFetchAbort:Ut,ignoreFetchAbort:Lt,status:er,signal:tr};let sr=Dr(this,ns).get(a);if(sr===void 0){er&&(er.fetch="miss");const dr=eo(this,ho,Su).call(this,a,sr,nr,Vt);return dr.__returned=dr}else{const dr=Dr(this,Ro)[sr];if(eo(this,ho,Ko).call(this,dr)){const Sr=nt&&dr.__staleWhileFetching!==void 0;return er&&(er.fetch="inflight",Sr&&(er.returnedStale=!0)),Sr?dr.__staleWhileFetching:dr.__returned=dr}const br=Dr(this,xs).call(this,sr);if(!Yt&&!br)return er&&(er.fetch="hit"),eo(this,ho,pu).call(this,sr),at&&Dr(this,Nl).call(this,sr),er&&Dr(this,Vs).call(this,er,sr),dr;const vr=eo(this,ho,Su).call(this,a,sr,nr,Vt),$r=vr.__staleWhileFetching!==void 0&&nt;return er&&(er.fetch=br?"stale":"refresh",$r&&br&&(er.returnedStale=!0)),$r?vr.__staleWhileFetching:vr.__returned=vr}}async forceFetch(a,et={}){const nt=await this.fetch(a,et);if(nt===void 0)throw new Error("fetch() returned undefined");return nt}memo(a,et={}){const nt=Dr(this,su);if(!nt)throw new Error("no memoMethod provided to constructor");const{context:at,forceRefresh:mt,...wt}=et,$t=this.get(a,wt);if(!mt&&$t!==void 0)return $t;const Ct=nt(a,$t,{options:wt,context:at});return this.set(a,Ct,wt),Ct}get(a,et={}){const{allowStale:nt=this.allowStale,updateAgeOnGet:at=this.updateAgeOnGet,noDeleteOnStaleGet:mt=this.noDeleteOnStaleGet,status:wt}=et,$t=Dr(this,ns).get(a);if($t!==void 0){const Ct=Dr(this,Ro)[$t],Dt=eo(this,ho,Ko).call(this,Ct);return wt&&Dr(this,Vs).call(this,wt,$t),Dr(this,xs).call(this,$t)?(wt&&(wt.get="stale"),Dt?(wt&&nt&&Ct.__staleWhileFetching!==void 0&&(wt.returnedStale=!0),nt?Ct.__staleWhileFetching:void 0):(mt||eo(this,ho,Ks).call(this,a,"expire"),wt&&nt&&(wt.returnedStale=!0),nt?Ct:void 0)):(wt&&(wt.get="hit"),Dt?Ct.__staleWhileFetching:(eo(this,ho,pu).call(this,$t),at&&Dr(this,Nl).call(this,$t),Ct))}else wt&&(wt.get="miss")}delete(a){return eo(this,ho,Ks).call(this,a,"delete")}clear(){return eo(this,ho,Uu).call(this,"delete")}};Ts=new WeakMap,vs=new WeakMap,As=new WeakMap,Rs=new WeakMap,au=new WeakMap,su=new WeakMap,os=new WeakMap,ks=new WeakMap,ns=new WeakMap,Yo=new WeakMap,Ro=new WeakMap,fs=new WeakMap,bs=new WeakMap,cs=new WeakMap,as=new WeakMap,Is=new WeakMap,ss=new WeakMap,Ps=new WeakMap,Os=new WeakMap,ys=new WeakMap,Ds=new WeakMap,$l=new WeakMap,hs=new WeakMap,ho=new WeakSet,Nu=function(){const a=new ZeroArray(Dr(this,Ts)),et=new ZeroArray(Dr(this,Ts));Kn(this,ys,a),Kn(this,Os,et),Kn(this,bu,(mt,wt,$t=perf.now())=>{if(et[mt]=wt!==0?$t:0,a[mt]=wt,wt!==0&&this.ttlAutopurge){const Ct=setTimeout(()=>{Dr(this,xs).call(this,mt)&&eo(this,ho,Ks).call(this,Dr(this,Yo)[mt],"expire")},wt+1);Ct.unref&&Ct.unref()}}),Kn(this,Nl,mt=>{et[mt]=a[mt]!==0?perf.now():0}),Kn(this,Vs,(mt,wt)=>{if(a[wt]){const $t=a[wt],Ct=et[wt];if(!$t||!Ct)return;mt.ttl=$t,mt.start=Ct,mt.now=nt||at();const Dt=mt.now-Ct;mt.remainingTTL=$t-Dt}});let nt=0;const at=()=>{const mt=perf.now();if(this.ttlResolution>0){nt=mt;const wt=setTimeout(()=>nt=0,this.ttlResolution);wt.unref&&wt.unref()}return mt};this.getRemainingTTL=mt=>{const wt=Dr(this,ns).get(mt);if(wt===void 0)return 0;const $t=a[wt],Ct=et[wt];if(!$t||!Ct)return 1/0;const Dt=(nt||at())-Ct;return $t-Dt},Kn(this,xs,mt=>{const wt=et[mt],$t=a[mt];return!!$t&&!!wt&&(nt||at())-wt>$t})},Nl=new WeakMap,Vs=new WeakMap,bu=new WeakMap,xs=new WeakMap,Ap=function(){const a=new ZeroArray(Dr(this,Ts));Kn(this,ks,0),Kn(this,Ps,a),Kn(this,Ll,et=>{Kn(this,ks,Dr(this,ks)-a[et]),a[et]=0}),Kn(this,yu,(et,nt,at,mt)=>{if(eo(this,ho,Ko).call(this,nt))return 0;if(!isPosInt(at))if(mt){if(typeof mt!="function")throw new TypeError("sizeCalculation must be a function");if(at=mt(nt,et),!isPosInt(at))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return at}),Kn(this,lu,(et,nt,at)=>{if(a[et]=nt,Dr(this,vs)){const mt=Dr(this,vs)-a[et];for(;Dr(this,ks)>mt;)eo(this,ho,wu).call(this,!0)}Kn(this,ks,Dr(this,ks)+a[et]),at&&(at.entrySize=nt,at.totalCalculatedSize=Dr(this,ks))})},Ll=new WeakMap,lu=new WeakMap,yu=new WeakMap,Gs=function*({allowStale:a=this.allowStale}={}){if(Dr(this,os))for(let et=Dr(this,as);!(!eo(this,ho,Lu).call(this,et)||((a||!Dr(this,xs).call(this,et))&&(yield et),et===Dr(this,cs)));)et=Dr(this,bs)[et]},Ws=function*({allowStale:a=this.allowStale}={}){if(Dr(this,os))for(let et=Dr(this,cs);!(!eo(this,ho,Lu).call(this,et)||((a||!Dr(this,xs).call(this,et))&&(yield et),et===Dr(this,as)));)et=Dr(this,fs)[et]},Lu=function(a){return a!==void 0&&Dr(this,ns).get(Dr(this,Yo)[a])===a},wu=function(a){var mt,wt;const et=Dr(this,cs),nt=Dr(this,Yo)[et],at=Dr(this,Ro)[et];return Dr(this,$l)&&eo(this,ho,Ko).call(this,at)?at.__abortController.abort(new Error("evicted")):(Dr(this,Ds)||Dr(this,hs))&&(Dr(this,Ds)&&((mt=Dr(this,As))==null||mt.call(this,at,nt,"evict")),Dr(this,hs)&&((wt=Dr(this,ss))==null||wt.push([at,nt,"evict"]))),Dr(this,Ll).call(this,et),a&&(Dr(this,Yo)[et]=void 0,Dr(this,Ro)[et]=void 0,Dr(this,Is).push(et)),Dr(this,os)===1?(Kn(this,cs,Kn(this,as,0)),Dr(this,Is).length=0):Kn(this,cs,Dr(this,fs)[et]),Dr(this,ns).delete(nt),Al(this,os)._--,et},Su=function(a,et,nt,at){const mt=et===void 0?void 0:Dr(this,Ro)[et];if(eo(this,ho,Ko).call(this,mt))return mt;const wt=new AC,{signal:$t}=nt;$t==null||$t.addEventListener("abort",()=>wt.abort($t.reason),{signal:wt.signal});const Ct={signal:wt.signal,options:nt,context:at},Dt=(Vt,Yt=!1)=>{const{aborted:er}=wt.signal,tr=nt.ignoreFetchAbort&&Vt!==void 0;if(nt.status&&(er&&!Yt?(nt.status.fetchAborted=!0,nt.status.fetchError=wt.signal.reason,tr&&(nt.status.fetchAbortIgnored=!0)):nt.status.fetchResolved=!0),er&&!tr&&!Yt)return jt(wt.signal.reason);const nr=Lt;return Dr(this,Ro)[et]===Lt&&(Vt===void 0?nr.__staleWhileFetching?Dr(this,Ro)[et]=nr.__staleWhileFetching:eo(this,ho,Ks).call(this,a,"fetch"):(nt.status&&(nt.status.fetchUpdated=!0),this.set(a,Vt,Ct.options))),Vt},Ft=Vt=>(nt.status&&(nt.status.fetchRejected=!0,nt.status.fetchError=Vt),jt(Vt)),jt=Vt=>{const{aborted:Yt}=wt.signal,er=Yt&&nt.allowStaleOnFetchAbort,tr=er||nt.allowStaleOnFetchRejection,nr=tr||nt.noDeleteOnFetchRejection,sr=Lt;if(Dr(this,Ro)[et]===Lt&&(!nr||sr.__staleWhileFetching===void 0?eo(this,ho,Ks).call(this,a,"fetch"):er||(Dr(this,Ro)[et]=sr.__staleWhileFetching)),tr)return nt.status&&sr.__staleWhileFetching!==void 0&&(nt.status.returnedStale=!0),sr.__staleWhileFetching;if(sr.__returned===sr)throw Vt},Nt=(Vt,Yt)=>{var tr;const er=(tr=Dr(this,au))==null?void 0:tr.call(this,a,mt,Ct);er&&er instanceof Promise&&er.then(nr=>Vt(nr===void 0?void 0:nr),Yt),wt.signal.addEventListener("abort",()=>{(!nt.ignoreFetchAbort||nt.allowStaleOnFetchAbort)&&(Vt(void 0),nt.allowStaleOnFetchAbort&&(Vt=nr=>Dt(nr,!0)))})};nt.status&&(nt.status.fetchDispatched=!0);const Lt=new Promise(Nt).then(Dt,Ft),Ut=Object.assign(Lt,{__abortController:wt,__staleWhileFetching:mt,__returned:void 0});return et===void 0?(this.set(a,Ut,{...Ct.options,status:void 0}),et=Dr(this,ns).get(a)):Dr(this,Ro)[et]=Ut,Ut},Ko=function(a){if(!Dr(this,$l))return!1;const et=a;return!!et&&et instanceof Promise&&et.hasOwnProperty("__staleWhileFetching")&&et.__abortController instanceof AC},qu=function(a,et){Dr(this,bs)[et]=a,Dr(this,fs)[a]=et},pu=function(a){a!==Dr(this,as)&&(a===Dr(this,cs)?Kn(this,cs,Dr(this,fs)[a]):eo(this,ho,qu).call(this,Dr(this,bs)[a],Dr(this,fs)[a]),eo(this,ho,qu).call(this,Dr(this,as),a),Kn(this,as,a))},Ks=function(a,et){var at,mt,wt,$t;let nt=!1;if(Dr(this,os)!==0){const Ct=Dr(this,ns).get(a);if(Ct!==void 0)if(nt=!0,Dr(this,os)===1)eo(this,ho,Uu).call(this,et);else{Dr(this,Ll).call(this,Ct);const Dt=Dr(this,Ro)[Ct];if(eo(this,ho,Ko).call(this,Dt)?Dt.__abortController.abort(new Error("deleted")):(Dr(this,Ds)||Dr(this,hs))&&(Dr(this,Ds)&&((at=Dr(this,As))==null||at.call(this,Dt,a,et)),Dr(this,hs)&&((mt=Dr(this,ss))==null||mt.push([Dt,a,et]))),Dr(this,ns).delete(a),Dr(this,Yo)[Ct]=void 0,Dr(this,Ro)[Ct]=void 0,Ct===Dr(this,as))Kn(this,as,Dr(this,bs)[Ct]);else if(Ct===Dr(this,cs))Kn(this,cs,Dr(this,fs)[Ct]);else{const Ft=Dr(this,bs)[Ct];Dr(this,fs)[Ft]=Dr(this,fs)[Ct];const jt=Dr(this,fs)[Ct];Dr(this,bs)[jt]=Dr(this,bs)[Ct]}Al(this,os)._--,Dr(this,Is).push(Ct)}}if(Dr(this,hs)&&((wt=Dr(this,ss))!=null&&wt.length)){const Ct=Dr(this,ss);let Dt;for(;Dt=Ct==null?void 0:Ct.shift();)($t=Dr(this,Rs))==null||$t.call(this,...Dt)}return nt},Uu=function(a){var et,nt,at;for(const mt of eo(this,ho,Ws).call(this,{allowStale:!0})){const wt=Dr(this,Ro)[mt];if(eo(this,ho,Ko).call(this,wt))wt.__abortController.abort(new Error("deleted"));else{const $t=Dr(this,Yo)[mt];Dr(this,Ds)&&((et=Dr(this,As))==null||et.call(this,wt,$t,a)),Dr(this,hs)&&((nt=Dr(this,ss))==null||nt.push([wt,$t,a]))}}if(Dr(this,ns).clear(),Dr(this,Ro).fill(void 0),Dr(this,Yo).fill(void 0),Dr(this,ys)&&Dr(this,Os)&&(Dr(this,ys).fill(0),Dr(this,Os).fill(0)),Dr(this,Ps)&&Dr(this,Ps).fill(0),Kn(this,cs,0),Kn(this,as,0),Dr(this,Is).length=0,Kn(this,ks,0),Kn(this,os,0),Dr(this,hs)&&Dr(this,ss)){const mt=Dr(this,ss);let wt;for(;wt=mt==null?void 0:mt.shift();)(at=Dr(this,Rs))==null||at.call(this,...wt)}};let LRUCache=zu;var isMergeableObject=function(a){return isNonNullObject(a)&&!isSpecial(a)};function isNonNullObject(s){return!!s&&typeof s=="object"}function isSpecial(s){var a=Object.prototype.toString.call(s);return a==="[object RegExp]"||a==="[object Date]"||isReactElement(s)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(s){return s.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(s){return Array.isArray(s)?[]:{}}function cloneUnlessOtherwiseSpecified(s,a){return a.clone!==!1&&a.isMergeableObject(s)?deepmerge(emptyTarget(s),s,a):s}function defaultArrayMerge(s,a,et){return s.concat(a).map(function(nt){return cloneUnlessOtherwiseSpecified(nt,et)})}function getMergeFunction(s,a){if(!a.customMerge)return deepmerge;var et=a.customMerge(s);return typeof et=="function"?et:deepmerge}function getEnumerableOwnPropertySymbols(s){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(s).filter(function(a){return Object.propertyIsEnumerable.call(s,a)}):[]}function getKeys(s){return Object.keys(s).concat(getEnumerableOwnPropertySymbols(s))}function propertyIsOnObject(s,a){try{return a in s}catch{return!1}}function propertyIsUnsafe(s,a){return propertyIsOnObject(s,a)&&!(Object.hasOwnProperty.call(s,a)&&Object.propertyIsEnumerable.call(s,a))}function mergeObject(s,a,et){var nt={};return et.isMergeableObject(s)&&getKeys(s).forEach(function(at){nt[at]=cloneUnlessOtherwiseSpecified(s[at],et)}),getKeys(a).forEach(function(at){propertyIsUnsafe(s,at)||(propertyIsOnObject(s,at)&&et.isMergeableObject(a[at])?nt[at]=getMergeFunction(at,et)(s[at],a[at],et):nt[at]=cloneUnlessOtherwiseSpecified(a[at],et))}),nt}function deepmerge(s,a,et){et=et||{},et.arrayMerge=et.arrayMerge||defaultArrayMerge,et.isMergeableObject=et.isMergeableObject||isMergeableObject,et.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var nt=Array.isArray(a),at=Array.isArray(s),mt=nt===at;return mt?nt?et.arrayMerge(s,a,et):mergeObject(s,a,et):cloneUnlessOtherwiseSpecified(a,et)}deepmerge.all=function(a,et){if(!Array.isArray(a))throw new Error("first argument should be an array");return a.reduce(function(nt,at){return deepmerge(nt,at,et)},{})};var browserRuntimeAdapter={};setAdapterIfNotSet(browserRuntimeAdapter);var getLastSlashBeforeIndex=(s,a)=>{for(var et=a-1;et>=0;){if(s[et]==="/")return et;et--}return-1},_getDebugFileName=s=>{var a,et=s.lastIndexOf(".css");if(et===-1)return"";var nt=getLastSlashBeforeIndex(s,et);if(a=s.slice(nt+1,et),nt===-1)return a;var at=getLastSlashBeforeIndex(s,nt-1),mt=s.slice(at+1,nt),wt=a!=="index"?a:mt;return wt},memoizedGetDebugFileName=()=>{var s=new LRUCache({max:500});return a=>{var et=s.get(a);if(et)return et;var nt=_getDebugFileName(a);return s.set(a,nt),nt}};memoizedGetDebugFileName();function createGlobalThemeContract(s,a){return walkObject$1(s,(et,nt)=>{var at=typeof a=="function"?a(et,nt):et,mt=typeof at=="string"?at.replace(/^\-\-/,""):null;if(typeof mt!="string"||mt!==cssesc$1(mt,{isIdentifier:!0}))throw new Error('Invalid variable name for "'.concat(nt.join("."),'": ').concat(mt));return"var(--".concat(mt,")")})}var __create$1=Object.create,__defProp$k=Object.defineProperty,__getOwnPropDesc$d=Object.getOwnPropertyDescriptor,__getOwnPropNames$d=Object.getOwnPropertyNames,__getProtoOf$1=Object.getPrototypeOf,__hasOwnProp$f=Object.prototype.hasOwnProperty,__typeError$3=s=>{throw TypeError(s)},__esm=(s,a)=>function(){return s&&(a=(0,s[__getOwnPropNames$d(s)[0]])(s=0)),a},__commonJS$1=(s,a)=>function(){return a||(0,s[__getOwnPropNames$d(s)[0]])((a={exports:{}}).exports,a),a.exports},__copyProps$d=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$d(a))!__hasOwnProp$f.call(s,at)&&at!==et&&__defProp$k(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$d(a,at))||nt.enumerable});return s},__toESM$1=(s,a,et)=>(et=s!=null?__create$1(__getProtoOf$1(s)):{},__copyProps$d(!s||!s.__esModule?__defProp$k(et,"default",{value:s,enumerable:!0}):et,s)),__accessCheck$3=(s,a,et)=>a.has(s)||__typeError$3("Cannot "+et),__privateGet$3=(s,a,et)=>(__accessCheck$3(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$3=(s,a,et)=>a.has(s)?__typeError$3("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),init_StyleMarker_css_ts_vanilla=__esm({"vanilla-extract-css-ns:src/components/styling/StyleMarker.css.ts.vanilla.css?source=OndoZXJlKCopIHsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGNvbG9yOiB2YXIoLS1kYXBwLWtpdC1jb2xvcnMtYm9keSk7CiAgZm9udC1mYW1pbHk6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udEZhbWlseSk7CiAgZm9udC1zaXplOiB2YXIoLS1kYXBwLWtpdC1mb250V2VpZ2h0cy1ub3JtYWwpOwogIGZvbnQtc3R5bGU6IHZhcigtLWRhcHAta2l0LXR5cG9ncmFwaHktZm9udFN0eWxlKTsKICBmb250LXdlaWdodDogdmFyKC0tZGFwcC1raXQtZm9udFdlaWdodHMtbm9ybWFsKTsKICBsaW5lLWhlaWdodDogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1saW5lSGVpZ2h0KTsKICBsZXR0ZXItc3BhY2luZzogdmFyKC0tZGFwcC1raXQtdHlwb2dyYXBoeS1sZXR0ZXJTcGFjaW5nKTsKfQo6d2hlcmUoYnV0dG9uKSB7CiAgYXBwZWFyYW5jZTogbm9uZTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7CiAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7CiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7CiAgY29sb3I6IGluaGVyaXQ7CiAgYm9yZGVyOiAwOwogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cjp3aGVyZShhKSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogIGNvbG9yOiBpbmhlcml0OwogIG91dGxpbmU6IG5vbmU7Cn0KOndoZXJlKG9sLCB1bCkgewogIGxpc3Qtc3R5bGU6IG5vbmU7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7Cn0KOndoZXJlKGgxLCBoMiwgaDMsIGg0LCBoNSwgaDYpIHsKICBmb250LXNpemU6IGluaGVyaXQ7CiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7CiAgbWFyZ2luOiAwOwp9"(){}}),require_StyleMarker_css=__commonJS$1({"src/components/styling/StyleMarker.css.ts"(){init_StyleMarker_css_ts_vanilla()}}),walletMutationKeys={all:{baseScope:"wallet"},connectWallet:formMutationKeyFn("connect-wallet"),autoconnectWallet:formMutationKeyFn("autoconnect-wallet"),disconnectWallet:formMutationKeyFn("disconnect-wallet"),signPersonalMessage:formMutationKeyFn("sign-personal-message"),signTransaction:formMutationKeyFn("sign-transaction"),signAndExecuteTransaction:formMutationKeyFn("sign-and-execute-transaction"),switchAccount:formMutationKeyFn("switch-account"),reportTransactionEffects:formMutationKeyFn("report-transaction-effects")};function formMutationKeyFn(s){return function(et=[]){return[{...walletMutationKeys.all,baseEntity:s},...et]}}var WalletContext=reactExports.createContext(null);function useWalletStore(s){const a=reactExports.useContext(WalletContext);if(!a)throw new Error("Could not find WalletContext. Ensure that you have set up the WalletProvider.");return useStore(a,s)}function useConnectWallet({mutationKey:s,...a}={}){const et=useWalletStore(at=>at.setWalletConnected),nt=useWalletStore(at=>at.setConnectionStatus);return useMutation({mutationKey:walletMutationKeys.connectWallet(s),mutationFn:async({wallet:at,accountAddress:mt,...wt})=>{try{nt("connecting");const $t=await at.features["standard:connect"].connect(wt),Ct=$t.accounts.filter(Ft=>Ft.chains.some(jt=>jt.split(":")[0]==="sui")),Dt=getSelectedAccount(Ct,mt);return et(at,Ct,Dt,$t.supportedIntents),{accounts:Ct}}catch($t){throw nt("disconnected"),$t}},...a})}function getSelectedAccount(s,a){return s.length===0?null:a?s.find(nt=>nt.address===a)??s[0]:s[0]}function getRegisteredWallets(s,a){const at=getWallets().get().filter(mt=>isWalletWithRequiredFeatureSet(mt)&&(!a||a(mt)));return[...s.map(mt=>at.find(wt=>wt.name===mt)).filter(Boolean),...at.filter(mt=>!s.includes(mt.name))]}function getWalletUniqueIdentifier(s){return(s==null?void 0:s.id)??(s==null?void 0:s.name)}var styleDataAttributeName="data-dapp-kit",styleDataAttributeSelector=`[${styleDataAttributeName}]`,styleDataAttribute={[styleDataAttributeName]:""};__toESM$1(require_StyleMarker_css());var StyleMarker=reactExports.forwardRef(({children:s,...a},et)=>jsxRuntimeExports.jsx(Slot,{ref:et,...a,...styleDataAttribute,children:s}));StyleMarker.displayName="StyleMarker";var headingVariants=createRuntimeFn({defaultClassName:"Heading__1aa835k0",variantClassNames:{size:{sm:"Heading_headingVariants_size_sm__1aa835k1",md:"Heading_headingVariants_size_md__1aa835k2",lg:"Heading_headingVariants_size_lg__1aa835k3",xl:"Heading_headingVariants_size_xl__1aa835k4"},weight:{normal:"Heading_headingVariants_weight_normal__1aa835k5",bold:"Heading_headingVariants_weight_bold__1aa835k6"},truncate:{true:"Heading_headingVariants_truncate_true__1aa835k7"}},defaultVariants:{size:"lg",weight:"bold"},compoundVariants:[]}),Heading$1=reactExports.forwardRef(({children:s,className:a,asChild:et=!1,as:nt="h1",size:at,weight:mt,truncate:wt,...$t},Ct)=>jsxRuntimeExports.jsx(Slot,{...$t,ref:Ct,className:clsx(headingVariants({size:at,weight:mt,truncate:wt}),a),children:et?s:jsxRuntimeExports.jsx(nt,{children:s})}));Heading$1.displayName="Heading";var container$1="IconButton_container__s6n7bq0",IconButton=reactExports.forwardRef(({className:s,asChild:a=!1,...et},nt)=>{const at=a?Slot:"button";return jsxRuntimeExports.jsx(at,{...et,className:clsx(container$1,s),ref:nt})});IconButton.displayName="Button";var buttonVariants=createRuntimeFn({defaultClassName:"Button_buttonVariants__x1s81q0",variantClassNames:{variant:{primary:"Button_buttonVariants_variant_primary__x1s81q1",outline:"Button_buttonVariants_variant_outline__x1s81q2"},size:{md:"Button_buttonVariants_size_md__x1s81q3",lg:"Button_buttonVariants_size_lg__x1s81q4"}},defaultVariants:{variant:"primary",size:"md"},compoundVariants:[]}),Button$1=reactExports.forwardRef(({className:s,variant:a,size:et,asChild:nt=!1,...at},mt)=>{const wt=nt?Slot:"button";return jsxRuntimeExports.jsx(wt,{...at,className:clsx(buttonVariants({variant:a,size:et}),s),ref:mt})});Button$1.displayName="Button";var textVariants=createRuntimeFn({defaultClassName:"Text__2bv1ur0",variantClassNames:{size:{sm:"Text_textVariants_size_sm__2bv1ur1"},weight:{normal:"Text_textVariants_weight_normal__2bv1ur2",medium:"Text_textVariants_weight_medium__2bv1ur3",bold:"Text_textVariants_weight_bold__2bv1ur4"},color:{muted:"Text_textVariants_color_muted__2bv1ur5",danger:"Text_textVariants_color_danger__2bv1ur6"},mono:{true:"Text_textVariants_mono_true__2bv1ur7"}},defaultVariants:{size:"sm",weight:"normal"},compoundVariants:[]}),Text$1=reactExports.forwardRef(({children:s,className:a,asChild:et=!1,as:nt="div",size:at,weight:mt,color:wt,mono:$t,...Ct},Dt)=>jsxRuntimeExports.jsx(Slot,{...Ct,ref:Dt,className:clsx(textVariants({size:at,weight:mt,color:wt,mono:$t}),a),children:et?s:jsxRuntimeExports.jsx(nt,{children:s})}));Text$1.displayName="Text";function useWallets(){return useWalletStore(s=>s.wallets)}function useCurrentAccount(){return useWalletStore(s=>s.currentAccount)}var SuiClientContext=reactExports.createContext(null),DEFAULT_NETWORKS={localnet:{url:getFullnodeUrl$1("localnet")}},DEFAULT_CREATE_CLIENT=function(a,et){return isSuiClient(et)?et:new SuiClient$1(et)};function SuiClientProvider(s){const{onNetworkChange:a,network:et,children:nt}=s,at=s.networks??DEFAULT_NETWORKS,mt=s.createClient??DEFAULT_CREATE_CLIENT,[wt,$t]=reactExports.useState(s.network??s.defaultNetwork??Object.keys(at)[0]),Ct=s.network??wt,Dt=reactExports.useMemo(()=>mt(Ct,at[Ct]),[mt,Ct,at]),Ft=reactExports.useMemo(()=>({client:Dt,networks:at,network:Ct,config:at[Ct]instanceof SuiClient$1?null:at[Ct],selectNetwork:jt=>{Ct!==jt&&(!et&&jt!==wt&&$t(jt),a==null||a(jt))}}),[Dt,at,wt,Ct,et,a]);return jsxRuntimeExports.jsx(SuiClientContext.Provider,{value:Ft,children:nt})}function useSuiClientContext(){const s=reactExports.useContext(SuiClientContext);if(!s)throw new Error("Could not find SuiClientContext. Ensure that you have set up the SuiClientProvider");return s}function useSuiClient(){return useSuiClientContext().client}var WalletNotConnectedError=class extends Error{},WalletNoAccountSelectedError=class extends Error{},WalletFeatureNotSupportedError=class extends Error{},WalletAccountNotFoundError=class extends Error{};function useCurrentWallet(){const s=useWalletStore(nt=>nt.currentWallet),a=useWalletStore(nt=>nt.connectionStatus),et=useWalletStore(nt=>nt.supportedIntents);switch(a){case"connecting":return{connectionStatus:a,currentWallet:null,isDisconnected:!1,isConnecting:!0,isConnected:!1,supportedIntents:[]};case"disconnected":return{connectionStatus:a,currentWallet:null,isDisconnected:!0,isConnecting:!1,isConnected:!1,supportedIntents:[]};case"connected":return{connectionStatus:a,currentWallet:s,isDisconnected:!1,isConnecting:!1,isConnected:!0,supportedIntents:et}}}function useDisconnectWallet({mutationKey:s,...a}={}){const{currentWallet:et}=useCurrentWallet(),nt=useWalletStore(at=>at.setWalletDisconnected);return useMutation({mutationKey:walletMutationKeys.disconnectWallet(s),mutationFn:async()=>{var at;if(!et)throw new WalletNotConnectedError("No wallet is connected.");try{await((at=et.features["standard:disconnect"])==null?void 0:at.disconnect())}catch(mt){console.error("Failed to disconnect the application from the current wallet.",mt)}nt()},...a})}function useSwitchAccount({mutationKey:s,...a}={}){const{currentWallet:et}=useCurrentWallet(),nt=useWalletStore(at=>at.setAccountSwitched);return useMutation({mutationKey:walletMutationKeys.switchAccount(s),mutationFn:async({account:at})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const mt=et.accounts.find(wt=>wt.address===at.address);if(!mt)throw new WalletAccountNotFoundError(`No account with address ${at.address} is connected to ${et.name}.`);nt(mt)},...a})}function createInMemoryStore(){const s=new Map;return{getItem(a){return s.get(a)},setItem(a,et){s.set(a,et)},removeItem(a){s.delete(a)}}}var SUI_WALLET_NAME="Sui Wallet",DEFAULT_STORAGE=typeof window<"u"&&window.localStorage?localStorage:createInMemoryStore(),DEFAULT_STORAGE_KEY="sui-dapp-kit:wallet-connection-info",SIGN_FEATURES=["sui:signTransaction","sui:signTransactionBlock"],DEFAULT_WALLET_FILTER=s=>SIGN_FEATURES.some(a=>s.features[a]),DEFAULT_PREFERRED_WALLETS=[SUI_WALLET_NAME,STASHED_WALLET_NAME];function useAutoConnectWallet(){const{mutateAsync:s}=useConnectWallet(),a=useWalletStore(Ft=>Ft.autoConnectEnabled),et=useWalletStore(Ft=>Ft.lastConnectedWalletName),nt=useWalletStore(Ft=>Ft.lastConnectedAccountAddress),at=useWallets(),{isConnected:mt}=useCurrentWallet(),[wt,$t]=reactExports.useState(!1);reactExports.useLayoutEffect(()=>{$t(!0)},[]);const{data:Ct,isError:Dt}=useQuery({queryKey:["@mysten/dapp-kit","autoconnect",{isConnected:mt,autoConnectEnabled:a,lastConnectedWalletName:et,lastConnectedAccountAddress:nt,walletCount:at.length}],queryFn:async()=>{if(!a)return"disabled";if(!et||!nt||mt)return"attempted";const Ft=at.find(jt=>getWalletUniqueIdentifier(jt)===et);return Ft&&await s({wallet:Ft,accountAddress:nt,silent:!0}),"attempted"},enabled:a,persister:void 0,gcTime:0,staleTime:0,networkMode:"always",retry:!1,retryOnMount:!1,refetchInterval:!1,refetchIntervalInBackground:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return a?wt?mt||!et||Dt?"attempted":Ct??"idle":"idle":"disabled"}function useStashedWallet(s){const a=useAutoConnectWallet(),[et,nt]=reactExports.useState(null),[at,mt]=reactExports.useState(null),{mutate:wt}=useConnectWallet();reactExports.useEffect(()=>{!et||!at||a!=="attempted"||(wt({wallet:at,silent:!0}),nt(null))},[et,a,wt,at]),reactExports.useLayoutEffect(()=>{if(!(s!=null&&s.name))return;const{wallet:$t,unregister:Ct,addressFromRedirect:Dt}=registerStashedWallet(s.name,{origin:s.origin,network:s.network});return Dt&&(mt($t),nt(Dt)),Ct},[s==null?void 0:s.name,s==null?void 0:s.origin,s==null?void 0:s.network])}var WALLET_NAME="Unsafe Burner Wallet";function useUnsafeBurnerWallet(s){const a=useSuiClient();reactExports.useEffect(()=>s?registerUnsafeBurnerWallet(a):void 0,[s,a])}function registerUnsafeBurnerWallet(s){var a,et,nt,at,mt,wt,$t;const Ct=getWallets();if(Ct.get().find(Lt=>Lt.name===WALLET_NAME)){console.warn("registerUnsafeBurnerWallet: Unsafe Burner Wallet already registered, skipping duplicate registration.");return}console.warn("Your application is currently using the unsafe burner wallet. Make sure that this wallet is disabled in production.");const Ft=new Ed25519Keypair,jt=new ReadonlyWalletAccount({address:Ft.getPublicKey().toSuiAddress(),publicKey:Ft.getPublicKey().toSuiBytes(),chains:["sui:unknown"],features:["sui:signAndExecuteTransactionBlock","sui:signTransactionBlock","sui:signTransaction","sui:signAndExecuteTransaction"]});class Nt{constructor(){__privateAdd$3(this,a,()=>()=>{}),__privateAdd$3(this,et,async()=>({accounts:this.accounts})),__privateAdd$3(this,nt,async Ut=>{const{bytes:Vt,signature:Yt}=await Ft.signPersonalMessage(Ut.message);return{bytes:Vt,signature:Yt}}),__privateAdd$3(this,at,async Ut=>{const{bytes:Vt,signature:Yt}=await Ut.transactionBlock.sign({client:s,signer:Ft});return{transactionBlockBytes:Vt,signature:Yt}}),__privateAdd$3(this,mt,async Ut=>{var er;const{bytes:Vt,signature:Yt}=await Transaction$1.from(await Ut.transaction.toJSON()).sign({client:s,signer:Ft});return(er=Ut.signal)==null||er.throwIfAborted(),{bytes:Vt,signature:Yt}}),__privateAdd$3(this,wt,async Ut=>{const{bytes:Vt,signature:Yt}=await Ut.transactionBlock.sign({client:s,signer:Ft});return s.executeTransactionBlock({signature:Yt,transactionBlock:Vt,options:Ut.options})}),__privateAdd$3(this,$t,async Ut=>{var nr;const{bytes:Vt,signature:Yt}=await Transaction$1.from(await Ut.transaction.toJSON()).sign({client:s,signer:Ft});(nr=Ut.signal)==null||nr.throwIfAborted();const{rawEffects:er,digest:tr}=await s.executeTransactionBlock({signature:Yt,transactionBlock:Vt,options:{showRawEffects:!0}});return{bytes:Vt,signature:Yt,digest:tr,effects:toBase64(new Uint8Array(er))}})}get version(){return"1.0.0"}get name(){return WALLET_NAME}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAJrElEQVR42tWbe2xT1x3H7UxAyD3XrdrSbGXlUbKWsq5rWdVuVOMRSEqSOmnVRZMmJqZNYv1nf3R/jWmVmVrtRRM/YwPd1nVTNcrE3pQCoikrIRAC4VVNY0hlD9ZOo1uCfe3ra9979v0dcy3s5Pper76Oh/STE+495/4+5/c85zqe2f7HAx5vKsS+monJj/CdHi/f4/HWW4f6AwdblmXjTM0NyS+movKtw9v+j6C5gKhyTMTTpA2x15Qwy+Pz75motOGdgKep8WF5ATgVZIt5NeO2wMqD0hfVGNPh3oYaYflsjG0l63PeyLCDnqbsLpZIhaRNFI+Ox+Le5KB0RybK8gDmJOkI07U4i/FhT1NDQl8Me5rUIfaDfELOJ0NsFa/SJQHm1WLsHcDqRWiy9BCL8s0N5t6UWWFVvxplejYm60hC91cNjPtzCTZsAptCVoeLP8PDDQJNCSodap6H+LtE8ZcdkvVkkD38vwDn4/Jvy4EhBhZSvRaUHiTXn31gJJxkUPoClBKKFizM+inhVA2cYIdM4HJouPvoe9s9H+KzDhyGK6KkmIqitBhww2C11rjQL2L4kgUwFxk8yPyzauUA3Pk/353XnA6zKbKCaQ2UlMvJF6W5uF5F8yHfZWZpC9HRmBziaEpm1bpY9XvhxuWJRldC7Mt03WlZwpjnkZUNa2DMG2EaPj9MGd2l2mofd0hQ7ZSopsXckHxVCUp32fXGdD0ZktrgFUmMqwhcWFjp87RArsD+9bn585IRaSHAKgBL3SZwOTRc8BKg7yYoskp5OJDiiPmF2Sj7ox0siYJ7lJA04EqvzZ9B1xSVt6PlW0IxZgUMJdZYAJuWngLQt9IRuZXmoTEkmci8ZtTXTViUKyasA9FRun5d8z6bfw0gYWm9mmCXxZatQgxfC7I2NVpRYQOxKWppLs4mcgn5NcibgL1K40xYp8CYY5TXEpjcb3LAJ0OZyyg3+2nySm6fjEtzkEz+7VBx3RTb+60z9dma7pkvwO2QQL5HzTtAdpKF7euw/HuzfrosBHy+ZsBimzbQshjWTVMDgez53B5MbjcGbr1ZjdUJOM5O0SLXzJ2R+uOA1dMAVoLsm5zb73JSId8t8Aa1LsAJdoTCrCaw6e3NC2DdFMUXWRg173mysJNOSUNskUJ1cOlXa2LhcbgmSszXYSn9hl3KSxTDjrZ2cbbfbWDyumsh9m3e7zCG7a3ETt+gtI7fx6lEOanZKDVvuA2cjYmt5xNOd2Louz3IQ12UZ2Zo3lkb9cDlvSs6m4Vk5Yqlabs0B97wT7PUuCXQz0Bnt9QxMPTW4iwBtmUlY8hFsHJPlzcQ1xuG75CVK1kXofCUGnU9fg1aVD7kfE9MoabtYkcAvIUYS2op3Hc3TTrDQzIAeojugTVLFolWDR6wFPtY0R66n6HltwjCIawnE2ymresk9NtN+pfUUi0mX6RJLfrh9zMRaRPOqubSA8W2MNzC0mHpK7j2ruuw5mYkxl5+2+HGQeg4yNYg7vNg+xMxFsuRMuiTsRJZG3cysAl4D9n4aC4un8L9qUyVvbCyYwFXX1nGUxFf1cCiEQqy75O+TpMwYKNKSPQUqhLyyWLsRbESLctx0YnixgfphRWA8pOPc+N4F9d+eV9V4OlCX/As5w5g+wtGhJGukp5go2R3D7EW9rSDcnGL56YgJHj+8GcFND/Vy41jj/H0jxc6HU/AA2QlR01UlH3D7CmITQnJq4lVWBi1yl8XYEh278c5H++F+Iui7r7bYR8tH/gbqoJN7fVODUhLYVVxzmYCEyOxFg7RUVa0egCHZZ55eRHnp/tKgMna6s/bbMdTxZgMzl9CCcmq7k690OzDfaeSN4QcsREjsQpgXHwyWyfg9K5WE7hc6JqTWjyihObfygOFOkv6i5K5TZx8LsL1sVS4NL8ItiB7sgAcEKcWHfUCVhK3kUVnBNbfXIs4l5xAv5sJs234eTUy93L0Au2otQOw5ORMyfQ6WwexFupVSHowG6uThXfebmlhWojMS3fazmMeGxEI6S2SUti6RAo2vKohVuH3qUG5FWm/PjH8kzutgSH5g58xrVwzIbZkxHf7OFjFC+wrMDXcpOqOKX/g01U/XPvVJyxdWsiJblqYmnZoWbDxAcR56X5WPuh4ewcL5PY9JBRUYjc7fzjG6Uc3mHBWbg23X1BLaFHOSnrw4bWiNAXSEWcWRntIignXTP/oDsfKZX66mMbZAPfhviU1AyYmJLYAMZa/QXjUSeIiixpj3UUFtd884KytjN7EjdGNNMbWwtlf3FvbQ4OQtIoYSzbxqVDLXMTxP8jnnbiyKcaJLvueGLD6kXW2sKZov1tpn7hwXf3ZUvq0K2FXOM7Op/Xgb6PhxsWIErYGVuK3WGXWkkwMMZVCVl5kWtax5A6usgemvnx4DelUcYcFC0eIbcbXKzggeyBjeXIhkftaKknJKLtnuSg7KmKQsrH+1nqbmLWY6w/tBGy/8xrruR5SM99LLIjfT/4ZbNZnQEPssIVb21rKTGRIPDagNoLdFMKgcuLc/TF6Bulk6c7ovg4TU+XvS6FNw1tDfVqH9MOPmBDui0hcK6wz744FlDjNe0m3aVldJYagtI6YbF+3ZGPsQHlN1vbeh8lJofqJ+uo9Zi4wXZxKFiXKGxbHT7pNq71oNg4Qi6MviE0FpRVqjGXILYoJ4tCjdYU1rWeMdPLc/ochj3B9pGNGL4NupGPRlUl35KMVxFLNO6ZnxYlBsUPqoMkbUqAb6VhMVKQ7MVT1dYdrL8hzEAcjpmvjHKphgaFb0ZVJZw7dwVD9q5fkgPTRbBxnzmGfgRLQsMCkG+moQdcp6GzzZsL2MGyllvBNGWM9RqMCk26kI7aBK526csVShZTfzid6FEzeiNAGP92jpCPQEbrW7EW5MbZxAz/fN9lg0IbQaaxrQ83/VoKPb/HqJx67Hw+43CDQBPsX0gm6ufXNvH4vP9rZapzx7+Nn+oxZAjfo2caZ3n350c5W6FSEdQ86sNarj3c/jRV+H42AXsdGRBfPPIlnb/mUtxzWXfALn/PmRze2Gud6E/xsXwYtnlsWN8Tc5/oyxjn/jvyJrlY82xLUfWuPr/TqxzuXQZkIP9M7CXiyuP4B4WmsTnNhzinjrD+WO9bRhmdZWLXe4EKRtV5tpN3Hx3s2G+d79/MJf4qff0LnE72kfFEs4ITQvWLMab8C131dP9n9Je1Yx000Nz2jAf+UJwCBchc3NvGR1Qx71XXY2Ww1Jvx7YalzAPkX9rp5E5Z+pv+ja8bE43uN491b9dHO9Xx4lUxziLn21Nai/wXWM6t9vkvtrwAAAABJRU5ErkJggg=="}get chains(){return SUI_CHAINS}get accounts(){return[jt]}get features(){return{"standard:connect":{version:"1.0.0",connect:__privateGet$3(this,et)},"standard:events":{version:"1.0.0",on:__privateGet$3(this,a)},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:__privateGet$3(this,nt)},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:__privateGet$3(this,at)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:__privateGet$3(this,wt)},"sui:signTransaction":{version:"2.0.0",signTransaction:__privateGet$3(this,mt)},"sui:signAndExecuteTransaction":{version:"2.0.0",signAndExecuteTransaction:__privateGet$3(this,$t)}}}}return a=new WeakMap,et=new WeakMap,nt=new WeakMap,at=new WeakMap,mt=new WeakMap,wt=new WeakMap,$t=new WeakMap,Ct.register(new Nt)}function useWalletPropertiesChanged(){const{currentWallet:s}=useCurrentWallet(),a=useWalletStore(et=>et.updateWalletAccounts);reactExports.useEffect(()=>s==null?void 0:s.features["standard:events"].on("change",({accounts:nt})=>{nt&&a(nt)}),[s==null?void 0:s.features,a])}function useWalletsChanged(s,a){const et=useWalletStore(at=>at.setWalletRegistered),nt=useWalletStore(at=>at.setWalletUnregistered);reactExports.useEffect(()=>{const at=getWallets();et(getRegisteredWallets(s,a));const mt=at.on("register",()=>{et(getRegisteredWallets(s,a))}),wt=at.on("unregister",$t=>{nt(getRegisteredWallets(s,a),$t)});return()=>{mt(),wt()}},[s,a,et,nt])}var lightTheme={blurs:{modalOverlay:"blur(0)"},backgroundColors:{primaryButton:"#F6F7F9",primaryButtonHover:"#F0F2F5",outlineButtonHover:"#F4F4F5",modalOverlay:"rgba(24 36 53 / 20%)",modalPrimary:"white",modalSecondary:"#F7F8F8",iconButton:"transparent",iconButtonHover:"#F0F1F2",dropdownMenu:"#FFFFFF",dropdownMenuSeparator:"#F3F6F8",walletItemSelected:"white",walletItemHover:"#3C424226"},borderColors:{outlineButton:"#E4E4E7"},colors:{primaryButton:"#373737",outlineButton:"#373737",iconButton:"#000000",body:"#182435",bodyMuted:"#767A81",bodyDanger:"#FF794B"},radii:{small:"6px",medium:"8px",large:"12px",xlarge:"16px"},shadows:{primaryButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",walletItemSelected:"0px 2px 6px rgba(0, 0, 0, 0.05)"},fontWeights:{normal:"400",medium:"500",bold:"600"},fontSizes:{small:"14px",medium:"16px",large:"18px",xlarge:"20px"},typography:{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontStyle:"normal",lineHeight:"1.3",letterSpacing:"1"}};function createWalletStore({wallets:s,storage:a,storageKey:et,autoConnectEnabled:nt}){return createStore$1()(persist((at,mt)=>({autoConnectEnabled:nt,wallets:s,accounts:[],currentWallet:null,currentAccount:null,lastConnectedAccountAddress:null,lastConnectedWalletName:null,connectionStatus:"disconnected",supportedIntents:[],setConnectionStatus(wt){at(()=>({connectionStatus:wt}))},setWalletConnected(wt,$t,Ct,Dt=[]){at(()=>({accounts:$t,currentWallet:wt,currentAccount:Ct,lastConnectedWalletName:getWalletUniqueIdentifier(wt),lastConnectedAccountAddress:Ct==null?void 0:Ct.address,connectionStatus:"connected",supportedIntents:Dt}))},setWalletDisconnected(){at(()=>({accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]}))},setAccountSwitched(wt){at(()=>({currentAccount:wt,lastConnectedAccountAddress:wt.address}))},setWalletRegistered(wt){at(()=>({wallets:wt}))},setWalletUnregistered(wt,$t){$t===mt().currentWallet?at(()=>({wallets:wt,accounts:[],currentWallet:null,currentAccount:null,lastConnectedWalletName:null,lastConnectedAccountAddress:null,connectionStatus:"disconnected",supportedIntents:[]})):at(()=>({wallets:wt}))},updateWalletAccounts(wt){const $t=mt().currentAccount;at(()=>({accounts:wt,currentAccount:$t&&wt.find(({address:Ct})=>Ct===$t.address)||wt[0]}))}}),{name:et,storage:createJSONStorage(()=>a),partialize:({lastConnectedWalletName:at,lastConnectedAccountAddress:mt})=>({lastConnectedWalletName:at,lastConnectedAccountAddress:mt})}))}var themeContractValues={blurs:{modalOverlay:""},backgroundColors:{primaryButton:"",primaryButtonHover:"",outlineButtonHover:"",walletItemHover:"",walletItemSelected:"",modalOverlay:"",modalPrimary:"",modalSecondary:"",iconButton:"",iconButtonHover:"",dropdownMenu:"",dropdownMenuSeparator:""},borderColors:{outlineButton:""},colors:{primaryButton:"",outlineButton:"",body:"",bodyMuted:"",bodyDanger:"",iconButton:""},radii:{small:"",medium:"",large:"",xlarge:""},shadows:{primaryButton:"",walletItemSelected:""},fontWeights:{normal:"",medium:"",bold:""},fontSizes:{small:"",medium:"",large:"",xlarge:""},typography:{fontFamily:"",fontStyle:"",lineHeight:"",letterSpacing:""}},themeVars=createGlobalThemeContract(themeContractValues,(s,a)=>`dapp-kit-${a.join("-")}`);function InjectedThemeStyles({theme:s}){const a=Array.isArray(s)?getDynamicThemeStyles(s):getStaticThemeStyles(s);return jsxRuntimeExports.jsx("style",{precedence:"default",href:"mysten-dapp-kit-theme",dangerouslySetInnerHTML:{__html:a}})}function getDynamicThemeStyles(s){return s.map(({mediaQuery:a,selector:et,variables:nt})=>{const at=getStaticThemeStyles(nt),mt=et?`${et} ${at}`:at;return a?`@media ${a}{${mt}}`:mt}).join(" ")}function getStaticThemeStyles(s){return`${styleDataAttributeSelector} {${cssStringFromTheme(s)}}`}function cssStringFromTheme(s){return Object.entries(assignInlineVars(themeVars,s)).map(([a,et])=>`${a}:${et};`).join("")}function WalletProvider({preferredWallets:s=DEFAULT_PREFERRED_WALLETS,walletFilter:a=DEFAULT_WALLET_FILTER,storage:et=DEFAULT_STORAGE,storageKey:nt=DEFAULT_STORAGE_KEY,enableUnsafeBurner:at=!1,autoConnect:mt=!1,stashedWallet:wt,theme:$t=lightTheme,children:Ct}){const Dt=reactExports.useRef(createWalletStore({autoConnectEnabled:mt,wallets:getRegisteredWallets(s,a),storage:et||createInMemoryStore(),storageKey:nt}));return jsxRuntimeExports.jsx(WalletContext.Provider,{value:Dt.current,children:jsxRuntimeExports.jsxs(WalletConnectionManager,{preferredWallets:s,walletFilter:a,enableUnsafeBurner:at,stashedWallet:wt,children:[$t?jsxRuntimeExports.jsx(InjectedThemeStyles,{theme:$t}):null,Ct]})})}function WalletConnectionManager({preferredWallets:s=DEFAULT_PREFERRED_WALLETS,walletFilter:a=DEFAULT_WALLET_FILTER,enableUnsafeBurner:et=!1,stashedWallet:nt,children:at}){return useWalletsChanged(s,a),useWalletPropertiesChanged(),useStashedWallet(nt),useUnsafeBurnerWallet(et),useAutoConnectWallet(),at}function createNetworkConfig(s){function a(){const{config:at}=useSuiClientContext();if(!at)throw new Error("No network config found");return at}function et(){const{variables:at}=a();return at??{}}function nt(at){return et()[at]}return{networkConfig:s,useNetworkConfig:a,useNetworkVariables:et,useNetworkVariable:nt}}function useReportTransactionEffects({mutationKey:s,...a}={}){const{currentWallet:et}=useCurrentWallet(),nt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.reportTransactionEffects(s),mutationFn:async({effects:at,chain:mt=et==null?void 0:et.chains[0],account:wt=nt})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");if(!wt)throw new WalletNoAccountSelectedError("No wallet account is selected to report transaction effects for");const $t=et.features["sui:reportTransactionEffects"];if($t)return await $t.reportTransactionEffects({effects:Array.isArray(at)?toBase64(new Uint8Array(at)):at,account:wt,chain:mt??(et==null?void 0:et.chains[0])})},...a})}function useSignAndExecuteTransaction({mutationKey:s,execute:a,...et}={}){const{currentWallet:nt,supportedIntents:at}=useCurrentWallet(),mt=useCurrentAccount(),wt=useSuiClient(),{mutate:$t}=useReportTransactionEffects(),Ct=a??(async({bytes:Dt,signature:Ft})=>{const{digest:jt,rawEffects:Nt}=await wt.executeTransactionBlock({transactionBlock:Dt,signature:Ft,options:{showRawEffects:!0}});return{digest:jt,rawEffects:Nt,effects:toBase64(new Uint8Array(Nt)),bytes:Dt,signature:Ft}});return useMutation({mutationKey:walletMutationKeys.signAndExecuteTransaction(s),mutationFn:async({transaction:Dt,...Ft})=>{var er;if(!nt)throw new WalletNotConnectedError("No wallet is connected.");const jt=Ft.account??mt;if(!jt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");const Nt=Ft.chain??(jt==null?void 0:jt.chains[0]);if(!nt.features["sui:signTransaction"]&&!nt.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{signature:Lt,bytes:Ut}=await signTransaction(nt,{...Ft,transaction:{async toJSON(){return typeof Dt=="string"?Dt:await Dt.toJSON({supportedIntents:at,client:wt})}},account:jt,chain:Ft.chain??jt.chains[0]}),Vt=await Ct({bytes:Ut,signature:Lt});let Yt;if("effects"in Vt&&((er=Vt.effects)!=null&&er.bcs))Yt=Vt.effects.bcs;else if("rawEffects"in Vt)Yt=toBase64(new Uint8Array(Vt.rawEffects));else throw new Error("Could not parse effects from transaction result.");return $t({effects:Yt,account:jt,chain:Nt}),Vt},...et})}function useSignPersonalMessage({mutationKey:s,...a}={}){const{currentWallet:et}=useCurrentWallet(),nt=useCurrentAccount();return useMutation({mutationKey:walletMutationKeys.signPersonalMessage(s),mutationFn:async at=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const mt=at.account??nt;if(!mt)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the personal message with.");const wt=et.features["sui:signPersonalMessage"];if(wt)return await wt.signPersonalMessage({...at,account:mt});const $t=et.features["sui:signMessage"];if($t){console.warn("This wallet doesn't support the `signPersonalMessage` feature... falling back to `signMessage`.");const{messageBytes:Ct,signature:Dt}=await $t.signMessage({...at,account:mt});return{bytes:Ct,signature:Dt}}throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signPersonalMessage` feature.")},...a})}function useSignTransaction({mutationKey:s,...a}={}){const{currentWallet:et}=useCurrentWallet(),nt=useCurrentAccount(),at=useSuiClient(),{mutate:mt}=useReportTransactionEffects();return useMutation({mutationKey:walletMutationKeys.signTransaction(s),mutationFn:async({transaction:wt,...$t})=>{if(!et)throw new WalletNotConnectedError("No wallet is connected.");const Ct=$t.account??nt;if(!Ct)throw new WalletNoAccountSelectedError("No wallet account is selected to sign the transaction with.");if(!et.features["sui:signTransaction"]&&!et.features["sui:signTransactionBlock"])throw new WalletFeatureNotSupportedError("This wallet doesn't support the `signTransaction` feature.");const{bytes:Dt,signature:Ft}=await signTransaction(et,{...$t,transaction:{toJSON:async()=>typeof wt=="string"?wt:await wt.toJSON({supportedIntents:[],client:at})},account:Ct,chain:$t.chain??Ct.chains[0]});return{bytes:Dt,signature:Ft,reportTransactionEffects:jt=>{mt({effects:jt,account:Ct,chain:$t.chain??Ct.chains[0]})}}},...a})}const PACKAGE_VERSION="1.25.0",TARGETED_RPC_VERSION="1.46.0",CODE_TO_ERROR_TYPE={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class SuiHTTPTransportError extends Error{}class JsonRpcError extends SuiHTTPTransportError{constructor(a,et){super(a),this.code=et,this.type=CODE_TO_ERROR_TYPE[et]??"ServerError"}}class SuiHTTPStatusError extends SuiHTTPTransportError{constructor(a,et,nt){super(a),this.status=et,this.statusText=nt}}var __typeError$2=s=>{throw TypeError(s)},__accessCheck$2=(s,a,et)=>a.has(s)||__typeError$2("Cannot "+et),__privateGet$2=(s,a,et)=>(__accessCheck$2(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$2=(s,a,et)=>a.has(s)?__typeError$2("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$2=(s,a,et,nt)=>(__accessCheck$2(s,a,"write to private field"),a.set(s,et),et),__privateMethod$2=(s,a,et)=>(__accessCheck$2(s,a,"access private method"),et),__privateWrapper=(s,a,et,nt)=>({set _(at){__privateSet$2(s,a,at)},get _(){return __privateGet$2(s,a,nt)}}),_requestId$1,_disconnects,_webSocket,_connectionPromise,_subscriptions,_pendingRequests,_WebsocketClient_instances,setupWebSocket_fn,reconnect_fn;function getWebsocketUrl(s){const a=new URL(s);return a.protocol=a.protocol.replace("http","ws"),a.toString()}const DEFAULT_CLIENT_OPTIONS={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class WebsocketClient{constructor(a,et={}){if(__privateAdd$2(this,_WebsocketClient_instances),__privateAdd$2(this,_requestId$1,0),__privateAdd$2(this,_disconnects,0),__privateAdd$2(this,_webSocket,null),__privateAdd$2(this,_connectionPromise,null),__privateAdd$2(this,_subscriptions,new Set),__privateAdd$2(this,_pendingRequests,new Map),this.endpoint=a,this.options={...DEFAULT_CLIENT_OPTIONS,...et},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=getWebsocketUrl(this.endpoint))}async makeRequest(a,et){const nt=await __privateMethod$2(this,_WebsocketClient_instances,setupWebSocket_fn).call(this);return new Promise((at,mt)=>{__privateSet$2(this,_requestId$1,__privateGet$2(this,_requestId$1)+1),__privateGet$2(this,_pendingRequests).set(__privateGet$2(this,_requestId$1),{resolve:at,reject:mt,timeout:setTimeout(()=>{__privateGet$2(this,_pendingRequests).delete(__privateGet$2(this,_requestId$1)),mt(new Error(`Request timeout: ${a}`))},this.options.callTimeout)}),nt.send(JSON.stringify({jsonrpc:"2.0",id:__privateGet$2(this,_requestId$1),method:a,params:et}))}).then(({error:at,result:mt})=>{if(at)throw new JsonRpcError(at.message,at.code);return mt})}async subscribe(a){const et=new RpcSubscription(a);return __privateGet$2(this,_subscriptions).add(et),await et.subscribe(this),()=>et.unsubscribe(this)}}_requestId$1=new WeakMap;_disconnects=new WeakMap;_webSocket=new WeakMap;_connectionPromise=new WeakMap;_subscriptions=new WeakMap;_pendingRequests=new WeakMap;_WebsocketClient_instances=new WeakSet;setupWebSocket_fn=function(){return __privateGet$2(this,_connectionPromise)?__privateGet$2(this,_connectionPromise):(__privateSet$2(this,_connectionPromise,new Promise(s=>{var a;(a=__privateGet$2(this,_webSocket))==null||a.close(),__privateSet$2(this,_webSocket,new this.options.WebSocketConstructor(this.endpoint)),__privateGet$2(this,_webSocket).addEventListener("open",()=>{__privateSet$2(this,_disconnects,0),s(__privateGet$2(this,_webSocket))}),__privateGet$2(this,_webSocket).addEventListener("close",()=>{__privateWrapper(this,_disconnects)._++,__privateGet$2(this,_disconnects)<=this.options.maxReconnects&&setTimeout(()=>{__privateMethod$2(this,_WebsocketClient_instances,reconnect_fn).call(this)},this.options.reconnectTimeout)}),__privateGet$2(this,_webSocket).addEventListener("message",({data:et})=>{let nt;try{nt=JSON.parse(et)}catch(at){console.error(new Error(`Failed to parse RPC message: ${et}`,{cause:at}));return}if("id"in nt&&nt.id!=null&&__privateGet$2(this,_pendingRequests).has(nt.id)){const{resolve:at,timeout:mt}=__privateGet$2(this,_pendingRequests).get(nt.id);clearTimeout(mt),at(nt)}else if("params"in nt){const{params:at}=nt;__privateGet$2(this,_subscriptions).forEach(mt=>{mt.subscriptionId===at.subscription&&at.subscription===mt.subscriptionId&&mt.onMessage(at.result)})}})})),__privateGet$2(this,_connectionPromise))};reconnect_fn=async function(){var s;return(s=__privateGet$2(this,_webSocket))==null||s.close(),__privateSet$2(this,_connectionPromise,null),Promise.allSettled([...__privateGet$2(this,_subscriptions)].map(a=>a.subscribe(this)))};class RpcSubscription{constructor(a){this.subscriptionId=null,this.subscribed=!1,this.input=a}onMessage(a){this.subscribed&&this.input.onMessage(a)}async unsubscribe(a){const{subscriptionId:et}=this;return this.subscribed=!1,et==null?!1:(this.subscriptionId=null,a.makeRequest(this.input.unsubscribe,[et]))}async subscribe(a){this.subscriptionId=null,this.subscribed=!0;const et=await a.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=et)}}var __typeError$1=s=>{throw TypeError(s)},__accessCheck$1=(s,a,et)=>a.has(s)||__typeError$1("Cannot "+et),__privateGet$1=(s,a,et)=>(__accessCheck$1(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd$1=(s,a,et)=>a.has(s)?__typeError$1("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet$1=(s,a,et,nt)=>(__accessCheck$1(s,a,"write to private field"),a.set(s,et),et),__privateMethod$1=(s,a,et)=>(__accessCheck$1(s,a,"access private method"),et),_requestId,_options,_websocketClient,_SuiHTTPTransport_instances,getWebsocketClient_fn;class SuiHTTPTransport{constructor(a){__privateAdd$1(this,_SuiHTTPTransport_instances),__privateAdd$1(this,_requestId,0),__privateAdd$1(this,_options),__privateAdd$1(this,_websocketClient),__privateSet$1(this,_options,a)}fetch(a,et){const nt=__privateGet$1(this,_options).fetch??fetch;if(!nt)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return nt(a,et)}async request(a){var at,mt;__privateSet$1(this,_requestId,__privateGet$1(this,_requestId)+1);const et=await this.fetch(((at=__privateGet$1(this,_options).rpc)==null?void 0:at.url)??__privateGet$1(this,_options).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":PACKAGE_VERSION,"Client-Target-Api-Version":TARGETED_RPC_VERSION,"Client-Request-Method":a.method,...(mt=__privateGet$1(this,_options).rpc)==null?void 0:mt.headers},body:JSON.stringify({jsonrpc:"2.0",id:__privateGet$1(this,_requestId),method:a.method,params:a.params})});if(!et.ok)throw new SuiHTTPStatusError(`Unexpected status code: ${et.status}`,et.status,et.statusText);const nt=await et.json();if("error"in nt&&nt.error!=null)throw new JsonRpcError(nt.error.message,nt.error.code);return nt.result}async subscribe(a){const et=await __privateMethod$1(this,_SuiHTTPTransport_instances,getWebsocketClient_fn).call(this).subscribe(a);return async()=>!!await et()}}_requestId=new WeakMap;_options=new WeakMap;_websocketClient=new WeakMap;_SuiHTTPTransport_instances=new WeakSet;getWebsocketClient_fn=function(){var s;if(!__privateGet$1(this,_websocketClient)){const a=__privateGet$1(this,_options).WebSocketConstructor??WebSocket;if(!a)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");__privateSet$1(this,_websocketClient,new WebsocketClient(((s=__privateGet$1(this,_options).websocket)==null?void 0:s.url)??__privateGet$1(this,_options).url,{WebSocketConstructor:a,...__privateGet$1(this,_options).websocket}))}return __privateGet$1(this,_websocketClient)};function getFullnodeUrl(s){switch(s){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${s}`)}}const SUI_NS_NAME_REGEX$1=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX$1=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH$1=235;function isValidSuiNSName$1(s){return s.length>MAX_SUI_NS_NAME_LENGTH$1?!1:s.includes("@")?SUI_NS_NAME_REGEX$1.test(s):SUI_NS_DOMAIN_REGEX$1.test(s)}function normalizeSuiNSName$1(s,a="at"){const et=s.toLowerCase();let nt;if(et.includes("@")){if(!SUI_NS_NAME_REGEX$1.test(et))throw new Error(`Invalid SuiNS name ${s}`);const[at,mt]=et.split("@");nt=[...at?at.split("."):[],mt]}else{if(!SUI_NS_DOMAIN_REGEX$1.test(et))throw new Error(`Invalid SuiNS name ${s}`);nt=et.split(".").slice(0,-1)}return a==="dot"?`${nt.join(".")}.sui`:`${nt.slice(0,-1).join(".")}@${nt[nt.length-1]}`}const NAME_PATTERN$1=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX$1=/^\d+$/,MAX_APP_SIZE$1=64,NAME_SEPARATOR$1="/",isValidNamedPackage$1=s=>{const a=s.split(NAME_SEPARATOR$1);if(a.length<2||a.length>3)return!1;const[et,nt,at]=a;return at!==void 0&&!VERSION_REGEX$1.test(at)||!isValidSuiNSName$1(et)?!1:NAME_PATTERN$1.test(nt)&&nt.length<MAX_APP_SIZE$1},TX_DIGEST_LENGTH$1=32;function isValidTransactionDigest$1(s){try{return fromBase58(s).length===TX_DIGEST_LENGTH$1}catch{return!1}}const SUI_ADDRESS_LENGTH$1=32;function isValidSuiAddress$1(s){return isHex$3(s)&&getHexByteLength$1(s)===SUI_ADDRESS_LENGTH$1}function isValidSuiObjectId$1(s){return isValidSuiAddress$1(s)}function parseTypeTag$1(s){return s.includes("::")?parseStructTag$1(s):s}function parseStructTag$1(s){const[a,et]=s.split("::"),nt=isValidNamedPackage$1(a),at=s.slice(a.length+et.length+4),mt=at.includes("<")?at.slice(0,at.indexOf("<")):at,wt=at.includes("<")?splitGenericParameters(at.slice(at.indexOf("<")+1,at.lastIndexOf(">"))).map($t=>parseTypeTag$1($t.trim())):[];return{address:nt?a:normalizeSuiAddress$1(a),module:et,name:mt,typeParams:wt}}function normalizeStructTag$1(s){const{address:a,module:et,name:nt,typeParams:at}=typeof s=="string"?parseStructTag$1(s):s,mt=(at==null?void 0:at.length)>0?`<${at.map(wt=>typeof wt=="string"?wt:normalizeStructTag$1(wt)).join(",")}>`:"";return`${a}::${et}::${nt}${mt}`}function normalizeSuiAddress$1(s,a=!1){let et=s.toLowerCase();return!a&&et.startsWith("0x")&&(et=et.slice(2)),`0x${et.padStart(SUI_ADDRESS_LENGTH$1*2,"0")}`}function normalizeSuiObjectId$1(s,a=!1){return normalizeSuiAddress$1(s,a)}function isHex$3(s){return/^(0x|0X)?[a-fA-F0-9]+$/.test(s)&&s.length%2===0}function getHexByteLength$1(s){return/^(0x|0X)/.test(s)?(s.length-2)/2:s.length/2}const VECTOR_REGEX$1=/^vector<(.+)>$/,STRUCT_REGEX$1=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;let TypeTagSerializer$1=class Gl{static parseFromStr(a,et=!1){if(a==="address")return{address:null};if(a==="bool")return{bool:null};if(a==="u8")return{u8:null};if(a==="u16")return{u16:null};if(a==="u32")return{u32:null};if(a==="u64")return{u64:null};if(a==="u128")return{u128:null};if(a==="u256")return{u256:null};if(a==="signer")return{signer:null};const nt=a.match(VECTOR_REGEX$1);if(nt)return{vector:Gl.parseFromStr(nt[1],et)};const at=a.match(STRUCT_REGEX$1);if(at)return{struct:{address:et?normalizeSuiAddress$1(at[1]):at[1],module:at[2],name:at[3],typeParams:at[5]===void 0?[]:Gl.parseStructTypeArgs(at[5],et)}};throw new Error(`Encountered unexpected token when parsing type args for ${a}`)}static parseStructTypeArgs(a,et=!1){return splitGenericParameters(a).map(nt=>Gl.parseFromStr(nt,et))}static tagToString(a){if("bool"in a)return"bool";if("u8"in a)return"u8";if("u16"in a)return"u16";if("u32"in a)return"u32";if("u64"in a)return"u64";if("u128"in a)return"u128";if("u256"in a)return"u256";if("address"in a)return"address";if("signer"in a)return"signer";if("vector"in a)return`vector<${Gl.tagToString(a.vector)}>`;if("struct"in a){const et=a.struct,nt=et.typeParams.map(Gl.tagToString).join(", ");return`${et.address}::${et.module}::${et.name}${nt?`<${nt}>`:""}`}throw new Error("Invalid TypeTag")}};function unsafe_u64$1(s){return bcs$2.u64({name:"unsafe_u64",...s}).transform({input:a=>a,output:a=>Number(a)})}function optionEnum$1(s){return bcs$2.enum("Option",{None:null,Some:s})}const Address$1=bcs$2.bytes(SUI_ADDRESS_LENGTH$1).transform({validate:s=>{const a=typeof s=="string"?s:toHex$2(s);if(!a||!isValidSuiAddress$1(normalizeSuiAddress$1(a)))throw new Error(`Invalid Sui address ${a}`)},input:s=>typeof s=="string"?fromHex(normalizeSuiAddress$1(s)):s,output:s=>normalizeSuiAddress$1(toHex$2(s))}),ObjectDigest$1=bcs$2.vector(bcs$2.u8()).transform({name:"ObjectDigest",input:s=>fromBase58(s),output:s=>toBase58(new Uint8Array(s)),validate:s=>{if(fromBase58(s).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef$1=bcs$2.struct("SuiObjectRef",{objectId:Address$1,version:bcs$2.u64(),digest:ObjectDigest$1}),SharedObjectRef$1=bcs$2.struct("SharedObjectRef",{objectId:Address$1,initialSharedVersion:bcs$2.u64(),mutable:bcs$2.bool()}),ObjectArg$4=bcs$2.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef$1,SharedObject:SharedObjectRef$1,Receiving:SuiObjectRef$1}),CallArg$3=bcs$2.enum("CallArg",{Pure:bcs$2.struct("Pure",{bytes:bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))})}),Object:ObjectArg$4}),InnerTypeTag$1=bcs$2.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:bcs$2.lazy(()=>InnerTypeTag$1),struct:bcs$2.lazy(()=>StructTag$2),u16:null,u32:null,u256:null}),TypeTag$2=InnerTypeTag$1.transform({input:s=>typeof s=="string"?TypeTagSerializer$1.parseFromStr(s,!0):s,output:s=>TypeTagSerializer$1.tagToString(s)}),Argument$3=bcs$2.enum("Argument",{GasCoin:null,Input:bcs$2.u16(),Result:bcs$2.u16(),NestedResult:bcs$2.tuple([bcs$2.u16(),bcs$2.u16()])}),ProgrammableMoveCall$3=bcs$2.struct("ProgrammableMoveCall",{package:Address$1,module:bcs$2.string(),function:bcs$2.string(),typeArguments:bcs$2.vector(TypeTag$2),arguments:bcs$2.vector(Argument$3)}),Command$3=bcs$2.enum("Command",{MoveCall:ProgrammableMoveCall$3,TransferObjects:bcs$2.struct("TransferObjects",{objects:bcs$2.vector(Argument$3),address:Argument$3}),SplitCoins:bcs$2.struct("SplitCoins",{coin:Argument$3,amounts:bcs$2.vector(Argument$3)}),MergeCoins:bcs$2.struct("MergeCoins",{destination:Argument$3,sources:bcs$2.vector(Argument$3)}),Publish:bcs$2.struct("Publish",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))})),dependencies:bcs$2.vector(Address$1)}),MakeMoveVec:bcs$2.struct("MakeMoveVec",{type:optionEnum$1(TypeTag$2).transform({input:s=>s===null?{None:!0}:{Some:s},output:s=>s.Some??null}),elements:bcs$2.vector(Argument$3)}),Upgrade:bcs$2.struct("Upgrade",{modules:bcs$2.vector(bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))})),dependencies:bcs$2.vector(Address$1),package:Address$1,ticket:Argument$3})}),ProgrammableTransaction$1=bcs$2.struct("ProgrammableTransaction",{inputs:bcs$2.vector(CallArg$3),commands:bcs$2.vector(Command$3)}),TransactionKind$1=bcs$2.enum("TransactionKind",{ProgrammableTransaction:ProgrammableTransaction$1,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration$4=bcs$2.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64$1()}),StructTag$2=bcs$2.struct("StructTag",{address:Address$1,module:bcs$2.string(),name:bcs$2.string(),typeParams:bcs$2.vector(InnerTypeTag$1)}),GasData$3=bcs$2.struct("GasData",{payment:bcs$2.vector(SuiObjectRef$1),owner:Address$1,price:bcs$2.u64(),budget:bcs$2.u64()}),TransactionDataV1$1=bcs$2.struct("TransactionDataV1",{kind:TransactionKind$1,sender:Address$1,gasData:GasData$3,expiration:TransactionExpiration$4}),TransactionData$2=bcs$2.enum("TransactionData",{V1:TransactionDataV1$1}),IntentScope$1=bcs$2.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion$1=bcs$2.enum("IntentVersion",{V0:null}),AppId$1=bcs$2.enum("AppId",{Sui:null}),Intent$1=bcs$2.struct("Intent",{scope:IntentScope$1,version:IntentVersion$1,appId:AppId$1});function IntentMessage$1(s){return bcs$2.struct(`IntentMessage<${s.name}>`,{intent:Intent$1,value:s})}const CompressedSignature$1=bcs$2.enum("CompressedSignature",{ED25519:bcs$2.fixedArray(64,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(64,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(64,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),PublicKey$1=bcs$2.enum("PublicKey",{ED25519:bcs$2.fixedArray(32,bcs$2.u8()),Secp256k1:bcs$2.fixedArray(33,bcs$2.u8()),Secp256r1:bcs$2.fixedArray(33,bcs$2.u8()),ZkLogin:bcs$2.vector(bcs$2.u8())}),MultiSigPkMap$1=bcs$2.struct("MultiSigPkMap",{pubKey:PublicKey$1,weight:bcs$2.u8()}),MultiSigPublicKey$1=bcs$2.struct("MultiSigPublicKey",{pk_map:bcs$2.vector(MultiSigPkMap$1),threshold:bcs$2.u16()}),MultiSig$1=bcs$2.struct("MultiSig",{sigs:bcs$2.vector(CompressedSignature$1),bitmap:bcs$2.u16(),multisig_pk:MultiSigPublicKey$1}),base64String$1=bcs$2.vector(bcs$2.u8()).transform({input:s=>typeof s=="string"?fromBase64(s):s,output:s=>toBase64(new Uint8Array(s))}),SenderSignedTransaction$1=bcs$2.struct("SenderSignedTransaction",{intentMessage:IntentMessage$1(TransactionData$2),txSignatures:bcs$2.vector(base64String$1)}),SenderSignedData$1=bcs$2.vector(SenderSignedTransaction$1,{name:"SenderSignedData"}),PasskeyAuthenticator$1=bcs$2.struct("PasskeyAuthenticator",{authenticatorData:bcs$2.vector(bcs$2.u8()),clientDataJson:bcs$2.string(),userSignature:bcs$2.vector(bcs$2.u8())}),PackageUpgradeError$1=bcs$2.enum("PackageUpgradeError",{UnableToFetchPackage:bcs$2.struct("UnableToFetchPackage",{packageId:Address$1}),NotAPackage:bcs$2.struct("NotAPackage",{objectId:Address$1}),IncompatibleUpgrade:null,DigestDoesNotMatch:bcs$2.struct("DigestDoesNotMatch",{digest:bcs$2.vector(bcs$2.u8())}),UnknownUpgradePolicy:bcs$2.struct("UnknownUpgradePolicy",{policy:bcs$2.u8()}),PackageIDDoesNotMatch:bcs$2.struct("PackageIDDoesNotMatch",{packageId:Address$1,ticketId:Address$1})}),ModuleId$1=bcs$2.struct("ModuleId",{address:Address$1,name:bcs$2.string()}),MoveLocation$1=bcs$2.struct("MoveLocation",{module:ModuleId$1,function:bcs$2.u16(),instruction:bcs$2.u16(),functionName:bcs$2.option(bcs$2.string())}),CommandArgumentError$1=bcs$2.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:bcs$2.struct("IndexOutOfBounds",{idx:bcs$2.u16()}),SecondaryIndexOutOfBounds:bcs$2.struct("SecondaryIndexOutOfBounds",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidResultArity:bcs$2.struct("InvalidResultArity",{resultIdx:bcs$2.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError$1=bcs$2.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus$1=bcs$2.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:bcs$2.struct("MoveObjectTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),MovePackageTooBig:bcs$2.struct("MovePackageTooBig",{objectSize:bcs$2.u64(),maxObjectSize:bcs$2.u64()}),CircularObjectOwnership:bcs$2.struct("CircularObjectOwnership",{object:Address$1}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:bcs$2.option(MoveLocation$1),MoveAbort:bcs$2.tuple([MoveLocation$1,bcs$2.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:bcs$2.struct("CommandArgumentError",{argIdx:bcs$2.u16(),kind:CommandArgumentError$1}),TypeArgumentError:bcs$2.struct("TypeArgumentError",{argumentIdx:bcs$2.u16(),kind:TypeArgumentError$1}),UnusedValueWithoutDrop:bcs$2.struct("UnusedValueWithoutDrop",{resultIdx:bcs$2.u16(),secondaryIdx:bcs$2.u16()}),InvalidPublicFunctionReturnType:bcs$2.struct("InvalidPublicFunctionReturnType",{idx:bcs$2.u16()}),InvalidTransferObject:null,EffectsTooLarge:bcs$2.struct("EffectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:bcs$2.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError$1}),WrittenObjectsTooLarge:bcs$2.struct("WrittenObjectsTooLarge",{currentSize:bcs$2.u64(),maxSize:bcs$2.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:bcs$2.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:bcs$2.vector(Address$1)}),AddressDeniedForCoin:bcs$2.struct("AddressDeniedForCoin",{address:Address$1,coinType:bcs$2.string()}),CoinTypeGlobalPause:bcs$2.struct("CoinTypeGlobalPause",{coinType:bcs$2.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus$1=bcs$2.enum("ExecutionStatus",{Success:null,Failed:bcs$2.struct("ExecutionFailed",{error:ExecutionFailureStatus$1,command:bcs$2.option(bcs$2.u64())})}),GasCostSummary$1=bcs$2.struct("GasCostSummary",{computationCost:bcs$2.u64(),storageCost:bcs$2.u64(),storageRebate:bcs$2.u64(),nonRefundableStorageFee:bcs$2.u64()}),Owner$1=bcs$2.enum("Owner",{AddressOwner:Address$1,ObjectOwner:Address$1,Shared:bcs$2.struct("Shared",{initialSharedVersion:bcs$2.u64()}),Immutable:null}),TransactionEffectsV1$1=bcs$2.struct("TransactionEffectsV1",{status:ExecutionStatus$1,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$1,modifiedAtVersions:bcs$2.vector(bcs$2.tuple([Address$1,bcs$2.u64()])),sharedObjects:bcs$2.vector(SuiObjectRef$1),transactionDigest:ObjectDigest$1,created:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),mutated:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),unwrapped:bcs$2.vector(bcs$2.tuple([SuiObjectRef$1,Owner$1])),deleted:bcs$2.vector(SuiObjectRef$1),unwrappedThenDeleted:bcs$2.vector(SuiObjectRef$1),wrapped:bcs$2.vector(SuiObjectRef$1),gasObject:bcs$2.tuple([SuiObjectRef$1,Owner$1]),eventsDigest:bcs$2.option(ObjectDigest$1),dependencies:bcs$2.vector(ObjectDigest$1)}),VersionDigest$1=bcs$2.tuple([bcs$2.u64(),ObjectDigest$1]),ObjectIn$1=bcs$2.enum("ObjectIn",{NotExist:null,Exist:bcs$2.tuple([VersionDigest$1,Owner$1])}),ObjectOut$1=bcs$2.enum("ObjectOut",{NotExist:null,ObjectWrite:bcs$2.tuple([ObjectDigest$1,Owner$1]),PackageWrite:VersionDigest$1}),IDOperation$1=bcs$2.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange$1=bcs$2.struct("EffectsObjectChange",{inputState:ObjectIn$1,outputState:ObjectOut$1,idOperation:IDOperation$1}),UnchangedSharedKind$1=bcs$2.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest$1,MutateDeleted:bcs$2.u64(),ReadDeleted:bcs$2.u64(),Cancelled:bcs$2.u64(),PerEpochConfig:null}),TransactionEffectsV2$1=bcs$2.struct("TransactionEffectsV2",{status:ExecutionStatus$1,executedEpoch:bcs$2.u64(),gasUsed:GasCostSummary$1,transactionDigest:ObjectDigest$1,gasObjectIndex:bcs$2.option(bcs$2.u32()),eventsDigest:bcs$2.option(ObjectDigest$1),dependencies:bcs$2.vector(ObjectDigest$1),lamportVersion:bcs$2.u64(),changedObjects:bcs$2.vector(bcs$2.tuple([Address$1,EffectsObjectChange$1])),unchangedSharedObjects:bcs$2.vector(bcs$2.tuple([Address$1,UnchangedSharedKind$1])),auxDataDigest:bcs$2.option(ObjectDigest$1)}),TransactionEffects$1=bcs$2.enum("TransactionEffects",{V1:TransactionEffectsV1$1,V2:TransactionEffectsV2$1});function pureBcsSchemaFromTypeName$1(s){switch(s){case"u8":return bcs$2.u8();case"u16":return bcs$2.u16();case"u32":return bcs$2.u32();case"u64":return bcs$2.u64();case"u128":return bcs$2.u128();case"u256":return bcs$2.u256();case"bool":return bcs$2.bool();case"string":return bcs$2.string();case"id":case"address":return Address$1}const a=s.match(/^(vector|option)<(.+)>$/);if(a){const[et,nt]=a.slice(1);return et==="vector"?bcs$2.vector(pureBcsSchemaFromTypeName$1(nt)):bcs$2.option(pureBcsSchemaFromTypeName$1(nt))}throw new Error(`Invalid Pure type name: ${s}`)}const suiBcs$1={...bcs$2,U8:bcs$2.u8(),U16:bcs$2.u16(),U32:bcs$2.u32(),U64:bcs$2.u64(),U128:bcs$2.u128(),U256:bcs$2.u256(),ULEB128:bcs$2.uleb128(),Bool:bcs$2.bool(),String:bcs$2.string(),Address:Address$1,AppId:AppId$1,Argument:Argument$3,CallArg:CallArg$3,CompressedSignature:CompressedSignature$1,GasData:GasData$3,Intent:Intent$1,IntentMessage:IntentMessage$1,IntentScope:IntentScope$1,IntentVersion:IntentVersion$1,MultiSig:MultiSig$1,MultiSigPkMap:MultiSigPkMap$1,MultiSigPublicKey:MultiSigPublicKey$1,ObjectArg:ObjectArg$4,ObjectDigest:ObjectDigest$1,ProgrammableMoveCall:ProgrammableMoveCall$3,ProgrammableTransaction:ProgrammableTransaction$1,PublicKey:PublicKey$1,SenderSignedData:SenderSignedData$1,SenderSignedTransaction:SenderSignedTransaction$1,SharedObjectRef:SharedObjectRef$1,StructTag:StructTag$2,SuiObjectRef:SuiObjectRef$1,Command:Command$3,TransactionData:TransactionData$2,TransactionDataV1:TransactionDataV1$1,TransactionExpiration:TransactionExpiration$4,TransactionKind:TransactionKind$1,TypeTag:TypeTag$2,TransactionEffects:TransactionEffects$1,PasskeyAuthenticator:PasskeyAuthenticator$1};BigInt(1e9);const MOVE_STDLIB_ADDRESS$1="0x1",SUI_FRAMEWORK_ADDRESS$1="0x2",SUI_CLOCK_OBJECT_ID$1=normalizeSuiObjectId$1("0x6"),SUI_TYPE_ARG$1=`${SUI_FRAMEWORK_ADDRESS$1}::sui::SUI`;normalizeSuiObjectId$1("0x5");const OBJECT_MODULE_NAME="object",ID_STRUCT_NAME="ID",STD_ASCII_MODULE_NAME="ascii",STD_ASCII_STRUCT_NAME="String",STD_UTF8_MODULE_NAME="string",STD_UTF8_STRUCT_NAME="String",STD_OPTION_MODULE_NAME="option",STD_OPTION_STRUCT_NAME="Option";function isTxContext(s){const a=typeof s.body=="object"&&"datatype"in s.body?s.body.datatype:null;return!!a&&normalizeSuiAddress$1(a.package)===normalizeSuiAddress$1("0x2")&&a.module==="tx_context"&&a.type==="TxContext"}function getPureBcsSchema(s){if(typeof s=="string")switch(s){case"address":return suiBcs$1.Address;case"bool":return suiBcs$1.Bool;case"u8":return suiBcs$1.U8;case"u16":return suiBcs$1.U16;case"u32":return suiBcs$1.U32;case"u64":return suiBcs$1.U64;case"u128":return suiBcs$1.U128;case"u256":return suiBcs$1.U256;default:throw new Error(`Unknown type signature ${s}`)}if("vector"in s){if(s.vector==="u8")return suiBcs$1.vector(suiBcs$1.U8).transform({input:et=>typeof et=="string"?new TextEncoder().encode(et):et,output:et=>et});const a=getPureBcsSchema(s.vector);return a?suiBcs$1.vector(a):null}if("datatype"in s){const a=normalizeSuiAddress$1(s.datatype.package);if(a===normalizeSuiAddress$1(MOVE_STDLIB_ADDRESS$1)){if(s.datatype.module===STD_ASCII_MODULE_NAME&&s.datatype.type===STD_ASCII_STRUCT_NAME||s.datatype.module===STD_UTF8_MODULE_NAME&&s.datatype.type===STD_UTF8_STRUCT_NAME)return suiBcs$1.String;if(s.datatype.module===STD_OPTION_MODULE_NAME&&s.datatype.type===STD_OPTION_STRUCT_NAME){const et=getPureBcsSchema(s.datatype.typeParameters[0]);return et?suiBcs$1.vector(et):null}}if(a===normalizeSuiAddress$1(SUI_FRAMEWORK_ADDRESS$1)&&s.datatype.module===OBJECT_MODULE_NAME&&s.datatype.type===ID_STRUCT_NAME)return suiBcs$1.Address}return null}function normalizedTypeToMoveTypeSignature(s){return typeof s=="object"&&"Reference"in s?{ref:"&",body:normalizedTypeToMoveTypeSignatureBody(s.Reference)}:typeof s=="object"&&"MutableReference"in s?{ref:"&mut",body:normalizedTypeToMoveTypeSignatureBody(s.MutableReference)}:{ref:null,body:normalizedTypeToMoveTypeSignatureBody(s)}}function normalizedTypeToMoveTypeSignatureBody(s){if(typeof s=="string")switch(s){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${s}`)}if("Vector"in s)return{vector:normalizedTypeToMoveTypeSignatureBody(s.Vector)};if("Struct"in s)return{datatype:{package:s.Struct.address,module:s.Struct.module,type:s.Struct.name,typeParameters:s.Struct.typeArguments.map(normalizedTypeToMoveTypeSignatureBody)}};if("TypeParameter"in s)return{typeParameter:s.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(s)}`)}function Pure(s){return{$kind:"Pure",Pure:{bytes:s instanceof Uint8Array?toBase64(s):s.toBase64()}}}const Inputs={Pure,ObjectRef({objectId:s,digest:a,version:et}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:a,version:et,objectId:normalizeSuiAddress$1(s)}}}},SharedObjectRef({objectId:s,mutable:a,initialSharedVersion:et}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:a,initialSharedVersion:et,objectId:normalizeSuiAddress$1(s)}}}},ReceivingRef({objectId:s,digest:a,version:et}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:a,version:et,objectId:normalizeSuiAddress$1(s)}}}}};function safeEnum(s){const a=Object.entries(s).map(([et,nt])=>object$1({[et]:nt}));return pipe$4(union(a),transform$2(et=>({...et,$kind:Object.keys(et)[0]})))}const SuiAddress=pipe$4(string(),transform$2(s=>normalizeSuiAddress$1(s)),check$1(isValidSuiAddress$1)),ObjectID=SuiAddress,BCSBytes=string(),JsonU64=pipe$4(union([string(),pipe$4(number$1(),integer())]),check$1(s=>{try{return BigInt(s),BigInt(s)>=0&&BigInt(s)<=18446744073709551615n}catch{return!1}},"Invalid u64")),ObjectRef$1=object$1({objectId:SuiAddress,version:JsonU64,digest:string()}),Argument$2=pipe$4(union([object$1({GasCoin:literal(!0)}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("pure"))}),object$1({Input:pipe$4(number$1(),integer()),type:optional(literal("object"))}),object$1({Result:pipe$4(number$1(),integer())}),object$1({NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])})]),transform$2(s=>({...s,$kind:Object.keys(s)[0]}))),GasData$2=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),OpenMoveTypeSignatureBody=union([literal("address"),literal("bool"),literal("u8"),literal("u16"),literal("u32"),literal("u64"),literal("u128"),literal("u256"),object$1({vector:lazy(()=>OpenMoveTypeSignatureBody)}),object$1({datatype:object$1({package:string(),module:string(),type:string(),typeParameters:array(lazy(()=>OpenMoveTypeSignatureBody))})}),object$1({typeParameter:pipe$4(number$1(),integer())})]),OpenMoveTypeSignature=object$1({ref:nullable(union([literal("&"),literal("&mut")])),body:OpenMoveTypeSignatureBody}),ProgrammableMoveCall$2=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$2),_argumentTypes:optional(nullable(array(OpenMoveTypeSignature)))}),$Intent$1=object$1({name:string(),inputs:record(string(),union([Argument$2,array(Argument$2)])),data:record(string(),unknown())}),Command$2=safeEnum({MoveCall:ProgrammableMoveCall$2,TransferObjects:object$1({objects:array(Argument$2),address:Argument$2}),SplitCoins:object$1({coin:Argument$2,amounts:array(Argument$2)}),MergeCoins:object$1({destination:Argument$2,sources:array(Argument$2)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$2)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$2}),$Intent:$Intent$1}),ObjectArg$3=safeEnum({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$2=safeEnum({Object:ObjectArg$3,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),NormalizedCallArg$1=safeEnum({Object:ObjectArg$3,Pure:object$1({bytes:BCSBytes})}),TransactionExpiration$3=safeEnum({None:literal(!0),Epoch:JsonU64}),TransactionData$1=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$3),gasData:GasData$2,inputs:array(CallArg$2),commands:array(Command$2)}),Commands={MoveCall(s){const[a,et="",nt=""]="target"in s?s.target.split("::"):[s.package,s.module,s.function];return{$kind:"MoveCall",MoveCall:{package:a,module:et,function:nt,typeArguments:s.typeArguments??[],arguments:s.arguments??[]}}},TransferObjects(s,a){return{$kind:"TransferObjects",TransferObjects:{objects:s.map(et=>parse$2(Argument$2,et)),address:parse$2(Argument$2,a)}}},SplitCoins(s,a){return{$kind:"SplitCoins",SplitCoins:{coin:parse$2(Argument$2,s),amounts:a.map(et=>parse$2(Argument$2,et))}}},MergeCoins(s,a){return{$kind:"MergeCoins",MergeCoins:{destination:parse$2(Argument$2,s),sources:a.map(et=>parse$2(Argument$2,et))}}},Publish({modules:s,dependencies:a}){return{$kind:"Publish",Publish:{modules:s.map(et=>typeof et=="string"?et:toBase64(new Uint8Array(et))),dependencies:a.map(et=>normalizeSuiObjectId$1(et))}}},Upgrade({modules:s,dependencies:a,package:et,ticket:nt}){return{$kind:"Upgrade",Upgrade:{modules:s.map(at=>typeof at=="string"?at:toBase64(new Uint8Array(at))),dependencies:a.map(at=>normalizeSuiObjectId$1(at)),package:et,ticket:parse$2(Argument$2,nt)}}},MakeMoveVec({type:s,elements:a}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:s??null,elements:a.map(et=>parse$2(Argument$2,et))}}},Intent({name:s,inputs:a={},data:et={}}){return{$kind:"$Intent",$Intent:{name:s,inputs:Object.fromEntries(Object.entries(a).map(([nt,at])=>[nt,Array.isArray(at)?at.map(mt=>parse$2(Argument$2,mt)):parse$2(Argument$2,at)])),data:et}}}},ObjectRef=object$1({digest:string(),objectId:string(),version:union([pipe$4(number$1(),integer()),string(),bigint()])}),ObjectArg$2=safeEnum({ImmOrOwned:ObjectRef,Shared:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef}),NormalizedCallArg=safeEnum({Object:ObjectArg$2,Pure:array(pipe$4(number$1(),integer()))}),TransactionInput=union([object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:optional(literal("object"))}),object$1({kind:literal("Input"),index:pipe$4(number$1(),integer()),value:unknown(),type:literal("pure")})]),TransactionExpiration$2=union([object$1({Epoch:pipe$4(number$1(),integer())}),object$1({None:nullable(literal(!0))})]),StringEncodedBigint=pipe$4(union([number$1(),string(),bigint()]),check$1(s=>{if(!["string","number","bigint"].includes(typeof s))return!1;try{return BigInt(s),!0}catch{return!1}})),TypeTag$1=union([object$1({bool:nullable(literal(!0))}),object$1({u8:nullable(literal(!0))}),object$1({u64:nullable(literal(!0))}),object$1({u128:nullable(literal(!0))}),object$1({address:nullable(literal(!0))}),object$1({signer:nullable(literal(!0))}),object$1({vector:lazy(()=>TypeTag$1)}),object$1({struct:lazy(()=>StructTag$1)}),object$1({u16:nullable(literal(!0))}),object$1({u32:nullable(literal(!0))}),object$1({u256:nullable(literal(!0))})]),StructTag$1=object$1({address:string(),module:string(),name:string(),typeParams:array(TypeTag$1)}),GasConfig=object$1({budget:optional(StringEncodedBigint),price:optional(StringEncodedBigint),payment:optional(array(ObjectRef)),owner:optional(string())}),TransactionArgumentTypes=[TransactionInput,object$1({kind:literal("GasCoin")}),object$1({kind:literal("Result"),index:pipe$4(number$1(),integer())}),object$1({kind:literal("NestedResult"),index:pipe$4(number$1(),integer()),resultIndex:pipe$4(number$1(),integer())})],TransactionArgument=union([...TransactionArgumentTypes]),MoveCallTransaction=object$1({kind:literal("MoveCall"),target:pipe$4(string(),check$1(s=>s.split("::").length===3)),typeArguments:array(string()),arguments:array(TransactionArgument)}),TransferObjectsTransaction=object$1({kind:literal("TransferObjects"),objects:array(TransactionArgument),address:TransactionArgument}),SplitCoinsTransaction=object$1({kind:literal("SplitCoins"),coin:TransactionArgument,amounts:array(TransactionArgument)}),MergeCoinsTransaction=object$1({kind:literal("MergeCoins"),destination:TransactionArgument,sources:array(TransactionArgument)}),MakeMoveVecTransaction=object$1({kind:literal("MakeMoveVec"),type:union([object$1({Some:TypeTag$1}),object$1({None:nullable(literal(!0))})]),objects:array(TransactionArgument)}),PublishTransaction=object$1({kind:literal("Publish"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string())}),UpgradeTransaction=object$1({kind:literal("Upgrade"),modules:array(array(pipe$4(number$1(),integer()))),dependencies:array(string()),packageId:string(),ticket:TransactionArgument}),TransactionTypes=[MoveCallTransaction,TransferObjectsTransaction,SplitCoinsTransaction,MergeCoinsTransaction,PublishTransaction,UpgradeTransaction,MakeMoveVecTransaction],TransactionType=union([...TransactionTypes]);object$1({version:literal(1),sender:optional(string()),expiration:nullish(TransactionExpiration$2),gasConfig:GasConfig,inputs:array(TransactionInput),transactions:array(TransactionType)});function serializeV1TransactionData(s){var et;const a=s.inputs.map((nt,at)=>{if(nt.Object)return{kind:"Input",index:at,value:{Object:nt.Object.ImmOrOwnedObject?{ImmOrOwned:nt.Object.ImmOrOwnedObject}:nt.Object.Receiving?{Receiving:{digest:nt.Object.Receiving.digest,version:nt.Object.Receiving.version,objectId:nt.Object.Receiving.objectId}}:{Shared:{mutable:nt.Object.SharedObject.mutable,initialSharedVersion:nt.Object.SharedObject.initialSharedVersion,objectId:nt.Object.SharedObject.objectId}}},type:"object"};if(nt.Pure)return{kind:"Input",index:at,value:{Pure:Array.from(fromBase64(nt.Pure.bytes))},type:"pure"};if(nt.UnresolvedPure)return{kind:"Input",type:"pure",index:at,value:nt.UnresolvedPure.value};if(nt.UnresolvedObject)return{kind:"Input",type:"object",index:at,value:nt.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:s.sender??void 0,expiration:((et=s.expiration)==null?void 0:et.$kind)==="Epoch"?{Epoch:Number(s.expiration.Epoch)}:s.expiration?{None:!0}:null,gasConfig:{owner:s.gasData.owner??void 0,budget:s.gasData.budget??void 0,price:s.gasData.price??void 0,payment:s.gasData.payment??void 0},inputs:a,transactions:s.commands.map(nt=>{if(nt.MakeMoveVec)return{kind:"MakeMoveVec",type:nt.MakeMoveVec.type===null?{None:!0}:{Some:TypeTagSerializer$1.parseFromStr(nt.MakeMoveVec.type)},objects:nt.MakeMoveVec.elements.map(at=>convertTransactionArgument(at,a))};if(nt.MergeCoins)return{kind:"MergeCoins",destination:convertTransactionArgument(nt.MergeCoins.destination,a),sources:nt.MergeCoins.sources.map(at=>convertTransactionArgument(at,a))};if(nt.MoveCall)return{kind:"MoveCall",target:`${nt.MoveCall.package}::${nt.MoveCall.module}::${nt.MoveCall.function}`,typeArguments:nt.MoveCall.typeArguments,arguments:nt.MoveCall.arguments.map(at=>convertTransactionArgument(at,a))};if(nt.Publish)return{kind:"Publish",modules:nt.Publish.modules.map(at=>Array.from(fromBase64(at))),dependencies:nt.Publish.dependencies};if(nt.SplitCoins)return{kind:"SplitCoins",coin:convertTransactionArgument(nt.SplitCoins.coin,a),amounts:nt.SplitCoins.amounts.map(at=>convertTransactionArgument(at,a))};if(nt.TransferObjects)return{kind:"TransferObjects",objects:nt.TransferObjects.objects.map(at=>convertTransactionArgument(at,a)),address:convertTransactionArgument(nt.TransferObjects.address,a)};if(nt.Upgrade)return{kind:"Upgrade",modules:nt.Upgrade.modules.map(at=>Array.from(fromBase64(at))),dependencies:nt.Upgrade.dependencies,packageId:nt.Upgrade.package,ticket:convertTransactionArgument(nt.Upgrade.ticket,a)};throw new Error(`Unknown transaction ${Object.keys(nt)}`)})}}function convertTransactionArgument(s,a){if(s.$kind==="GasCoin")return{kind:"GasCoin"};if(s.$kind==="Result")return{kind:"Result",index:s.Result};if(s.$kind==="NestedResult")return{kind:"NestedResult",index:s.NestedResult[0],resultIndex:s.NestedResult[1]};if(s.$kind==="Input")return a[s.Input];throw new Error(`Invalid argument ${Object.keys(s)}`)}function transactionDataFromV1(s){var a,et,nt;return parse$2(TransactionData$1,{version:2,sender:s.sender??null,expiration:s.expiration?"Epoch"in s.expiration?{Epoch:s.expiration.Epoch}:{None:!0}:null,gasData:{owner:s.gasConfig.owner??null,budget:((a=s.gasConfig.budget)==null?void 0:a.toString())??null,price:((et=s.gasConfig.price)==null?void 0:et.toString())??null,payment:((nt=s.gasConfig.payment)==null?void 0:nt.map(at=>({digest:at.digest,objectId:at.objectId,version:at.version.toString()})))??null},inputs:s.inputs.map(at=>{if(at.kind==="Input"){if(is(NormalizedCallArg,at.value)){const mt=parse$2(NormalizedCallArg,at.value);if(mt.Object){if(mt.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:mt.Object.ImmOrOwned.objectId,version:String(mt.Object.ImmOrOwned.version),digest:mt.Object.ImmOrOwned.digest}}};if(mt.Object.Shared)return{Object:{SharedObject:{mutable:mt.Object.Shared.mutable??null,initialSharedVersion:mt.Object.Shared.initialSharedVersion,objectId:mt.Object.Shared.objectId}}};if(mt.Object.Receiving)return{Object:{Receiving:{digest:mt.Object.Receiving.digest,version:String(mt.Object.Receiving.version),objectId:mt.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:toBase64(new Uint8Array(mt.Pure))}}}return at.type==="object"?{UnresolvedObject:{objectId:at.value}}:{UnresolvedPure:{value:at.value}}}throw new Error("Invalid input")}),commands:s.transactions.map(at=>{switch(at.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in at.type?TypeTagSerializer$1.tagToString(at.type.Some):null,elements:at.objects.map(mt=>parseV1TransactionArgument(mt))}};case"MergeCoins":return{MergeCoins:{destination:parseV1TransactionArgument(at.destination),sources:at.sources.map(mt=>parseV1TransactionArgument(mt))}};case"MoveCall":{const[mt,wt,$t]=at.target.split("::");return{MoveCall:{package:mt,module:wt,function:$t,typeArguments:at.typeArguments,arguments:at.arguments.map(Ct=>parseV1TransactionArgument(Ct))}}}case"Publish":return{Publish:{modules:at.modules.map(mt=>toBase64(Uint8Array.from(mt))),dependencies:at.dependencies}};case"SplitCoins":return{SplitCoins:{coin:parseV1TransactionArgument(at.coin),amounts:at.amounts.map(mt=>parseV1TransactionArgument(mt))}};case"TransferObjects":return{TransferObjects:{objects:at.objects.map(mt=>parseV1TransactionArgument(mt)),address:parseV1TransactionArgument(at.address)}};case"Upgrade":return{Upgrade:{modules:at.modules.map(mt=>toBase64(Uint8Array.from(mt))),dependencies:at.dependencies,package:at.packageId,ticket:parseV1TransactionArgument(at.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(at)}`)})})}function parseV1TransactionArgument(s){switch(s.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:s.index};case"NestedResult":return{NestedResult:[s.index,s.resultIndex]};case"Input":return{Input:s.index}}}function enumUnion(s){return union(Object.entries(s).map(([a,et])=>object$1({[a]:et})))}const Argument$1=enumUnion({GasCoin:literal(!0),Input:pipe$4(number$1(),integer()),Result:pipe$4(number$1(),integer()),NestedResult:tuple([pipe$4(number$1(),integer()),pipe$4(number$1(),integer())])}),GasData$1=object$1({budget:nullable(JsonU64),price:nullable(JsonU64),owner:nullable(SuiAddress),payment:nullable(array(ObjectRef$1))}),ProgrammableMoveCall$1=object$1({package:ObjectID,module:string(),function:string(),typeArguments:array(string()),arguments:array(Argument$1)}),$Intent=object$1({name:string(),inputs:record(string(),union([Argument$1,array(Argument$1)])),data:record(string(),unknown())}),Command$1=enumUnion({MoveCall:ProgrammableMoveCall$1,TransferObjects:object$1({objects:array(Argument$1),address:Argument$1}),SplitCoins:object$1({coin:Argument$1,amounts:array(Argument$1)}),MergeCoins:object$1({destination:Argument$1,sources:array(Argument$1)}),Publish:object$1({modules:array(BCSBytes),dependencies:array(ObjectID)}),MakeMoveVec:object$1({type:nullable(string()),elements:array(Argument$1)}),Upgrade:object$1({modules:array(BCSBytes),dependencies:array(ObjectID),package:ObjectID,ticket:Argument$1}),$Intent}),ObjectArg$1=enumUnion({ImmOrOwnedObject:ObjectRef$1,SharedObject:object$1({objectId:ObjectID,initialSharedVersion:JsonU64,mutable:boolean()}),Receiving:ObjectRef$1}),CallArg$1=enumUnion({Object:ObjectArg$1,Pure:object$1({bytes:BCSBytes}),UnresolvedPure:object$1({value:unknown()}),UnresolvedObject:object$1({objectId:ObjectID,version:optional(nullable(JsonU64)),digest:optional(nullable(string())),initialSharedVersion:optional(nullable(JsonU64))})}),TransactionExpiration$1=enumUnion({None:literal(!0),Epoch:JsonU64}),SerializedTransactionDataV2=object$1({version:literal(2),sender:nullish(SuiAddress),expiration:nullish(TransactionExpiration$1),gasData:GasData$1,inputs:array(CallArg$1),commands:array(Command$1)}),MAX_OBJECTS_PER_FETCH=50,GAS_SAFE_OVERHEAD=1000n,MAX_GAS=5e10;async function resolveTransactionData(s,a,et){return await normalizeInputs(s,a),await resolveObjectReferences(s,a),a.onlyTransactionKind||(await setGasPrice(s,a),await setGasBudget(s,a),await setGasPayment(s,a)),await validate$1(s),await et()}async function setGasPrice(s,a){s.gasConfig.price||(s.gasConfig.price=String(await getClient(a).getReferenceGasPrice()))}async function setGasBudget(s,a){if(s.gasConfig.budget)return;const et=await getClient(a).dryRunTransactionBlock({transactionBlock:s.build({overrides:{gasData:{budget:String(MAX_GAS),payment:[]}}})});if(et.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${et.effects.status.error}`,{cause:et});const nt=GAS_SAFE_OVERHEAD*BigInt(s.gasConfig.price||1n),at=BigInt(et.effects.gasUsed.computationCost)+nt,mt=at+BigInt(et.effects.gasUsed.storageCost)-BigInt(et.effects.gasUsed.storageRebate);s.gasConfig.budget=String(mt>at?mt:at)}async function setGasPayment(s,a){if(!s.gasConfig.payment){const nt=(await getClient(a).getCoins({owner:s.gasConfig.owner||s.sender,coinType:SUI_TYPE_ARG$1})).data.filter(at=>!s.inputs.find(wt=>{var $t;return($t=wt.Object)!=null&&$t.ImmOrOwnedObject?at.coinObjectId===wt.Object.ImmOrOwnedObject.objectId:!1})).map(at=>({objectId:at.coinObjectId,digest:at.digest,version:at.version}));if(!nt.length)throw new Error("No valid gas coins found for the transaction.");s.gasConfig.payment=nt.map(at=>parse$2(ObjectRef$1,at))}}async function resolveObjectReferences(s,a){const et=s.inputs.filter(Ft=>{var jt;return Ft.UnresolvedObject&&!(Ft.UnresolvedObject.version||(jt=Ft.UnresolvedObject)!=null&&jt.initialSharedVersion)}),nt=[...new Set(et.map(Ft=>normalizeSuiObjectId$1(Ft.UnresolvedObject.objectId)))],at=nt.length?chunk(nt,MAX_OBJECTS_PER_FETCH):[],mt=(await Promise.all(at.map(Ft=>getClient(a).multiGetObjects({ids:Ft,options:{showOwner:!0}})))).flat(),wt=new Map(nt.map((Ft,jt)=>[Ft,mt[jt]])),$t=Array.from(wt).filter(([Ft,jt])=>jt.error).map(([Ft,jt])=>JSON.stringify(jt.error));if($t.length)throw new Error(`The following input objects are invalid: ${$t.join(", ")}`);const Ct=mt.map(Ft=>{if(Ft.error||!Ft.data)throw new Error(`Failed to fetch object: ${Ft.error}`);const jt=Ft.data.owner,Nt=jt&&typeof jt=="object"&&"Shared"in jt?jt.Shared.initial_shared_version:null;return{objectId:Ft.data.objectId,digest:Ft.data.digest,version:Ft.data.version,initialSharedVersion:Nt}}),Dt=new Map(nt.map((Ft,jt)=>[Ft,Ct[jt]]));for(const[Ft,jt]of s.inputs.entries()){if(!jt.UnresolvedObject)continue;let Nt;const Lt=normalizeSuiAddress$1(jt.UnresolvedObject.objectId),Ut=Dt.get(Lt);jt.UnresolvedObject.initialSharedVersion??(Ut==null?void 0:Ut.initialSharedVersion)?Nt=Inputs.SharedObjectRef({objectId:Lt,initialSharedVersion:jt.UnresolvedObject.initialSharedVersion||(Ut==null?void 0:Ut.initialSharedVersion),mutable:isUsedAsMutable(s,Ft)}):isUsedAsReceiving(s,Ft)&&(Nt=Inputs.ReceivingRef({objectId:Lt,digest:jt.UnresolvedObject.digest??(Ut==null?void 0:Ut.digest),version:jt.UnresolvedObject.version??(Ut==null?void 0:Ut.version)})),s.inputs[s.inputs.indexOf(jt)]=Nt??Inputs.ObjectRef({objectId:Lt,digest:jt.UnresolvedObject.digest??(Ut==null?void 0:Ut.digest),version:jt.UnresolvedObject.version??(Ut==null?void 0:Ut.version)})}}async function normalizeInputs(s,a){const{inputs:et,commands:nt}=s,at=[],mt=new Set;nt.forEach($t=>{if($t.MoveCall){if($t.MoveCall._argumentTypes)return;if($t.MoveCall.arguments.map(Ft=>Ft.$kind==="Input"?s.inputs[Ft.Input]:null).some(Ft=>(Ft==null?void 0:Ft.UnresolvedPure)||(Ft==null?void 0:Ft.UnresolvedObject))){const Ft=`${$t.MoveCall.package}::${$t.MoveCall.module}::${$t.MoveCall.function}`;mt.add(Ft),at.push($t.MoveCall)}}switch($t.$kind){case"SplitCoins":$t.SplitCoins.amounts.forEach(Ct=>{normalizeRawArgument(Ct,suiBcs$1.U64,s)});break;case"TransferObjects":normalizeRawArgument($t.TransferObjects.address,suiBcs$1.Address,s);break}});const wt=new Map;if(mt.size>0){const $t=getClient(a);await Promise.all([...mt].map(async Ct=>{const[Dt,Ft,jt]=Ct.split("::"),Nt=await $t.getNormalizedMoveFunction({package:Dt,module:Ft,function:jt});wt.set(Ct,Nt.parameters.map(Lt=>normalizedTypeToMoveTypeSignature(Lt)))}))}at.length&&await Promise.all(at.map(async $t=>{const Ct=wt.get(`${$t.package}::${$t.module}::${$t.function}`);if(!Ct)return;const Ft=Ct.length>0&&isTxContext(Ct.at(-1))?Ct.slice(0,Ct.length-1):Ct;$t._argumentTypes=Ft})),nt.forEach($t=>{if(!$t.MoveCall)return;const Ct=$t.MoveCall,Dt=`${Ct.package}::${Ct.module}::${Ct.function}`,Ft=Ct._argumentTypes;if(Ft){if(Ft.length!==$t.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${Dt}`);Ft.forEach((jt,Nt)=>{var tr,nr;const Lt=Ct.arguments[Nt];if(Lt.$kind!=="Input")return;const Ut=et[Lt.Input];if(!Ut.UnresolvedPure&&!Ut.UnresolvedObject)return;const Vt=((tr=Ut.UnresolvedPure)==null?void 0:tr.value)??((nr=Ut.UnresolvedObject)==null?void 0:nr.objectId),Yt=getPureBcsSchema(jt.body);if(Yt){Lt.type="pure",et[et.indexOf(Ut)]=Inputs.Pure(Yt.serialize(Vt));return}if(typeof Vt!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(Vt,null,2)}`);Lt.type="object";const er=Ut.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:Vt}}:Ut;et[Lt.Input]=er})}})}function validate$1(s){s.inputs.forEach((a,et)=>{if(a.$kind!=="Object"&&a.$kind!=="Pure")throw new Error(`Input at index ${et} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(a)}`)})}function normalizeRawArgument(s,a,et){if(s.$kind!=="Input")return;const nt=et.inputs[s.Input];nt.$kind==="UnresolvedPure"&&(et.inputs[s.Input]=Inputs.Pure(a.serialize(nt.UnresolvedPure.value)))}function isUsedAsMutable(s,a){let et=!1;return s.getInputUses(a,(nt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const mt=at.MoveCall.arguments.indexOf(nt);et=at.MoveCall._argumentTypes[mt].ref!=="&"||et}(at.$kind==="MakeMoveVec"||at.$kind==="MergeCoins"||at.$kind==="SplitCoins")&&(et=!0)}),et}function isUsedAsReceiving(s,a){let et=!1;return s.getInputUses(a,(nt,at)=>{if(at.MoveCall&&at.MoveCall._argumentTypes){const mt=at.MoveCall.arguments.indexOf(nt);et=isReceivingType(at.MoveCall._argumentTypes[mt])||et}}),et}function isReceivingType(s){return typeof s.body!="object"||!("datatype"in s.body)?!1:s.body.datatype.package==="0x2"&&s.body.datatype.module==="transfer"&&s.body.datatype.type==="Receiving"}function getClient(s){if(!s.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return s.client}function chunk(s,a){return Array.from({length:Math.ceil(s.length/a)},(et,nt)=>s.slice(nt*a,nt*a+a))}function createObjectMethods(s){function a(et){return s(et)}return a.system=()=>a("0x5"),a.clock=()=>a("0x6"),a.random=()=>a("0x8"),a.denyList=()=>a("0x403"),a.option=({type:et,value:nt})=>at=>at.moveCall({typeArguments:[et],target:`0x1::option::${nt===null?"none":"some"}`,arguments:nt===null?[]:[at.object(nt)]}),a}function createPure(s){function a(et,nt){if(typeof et=="string")return s(pureBcsSchemaFromTypeName$1(et).serialize(nt));if(et instanceof Uint8Array||isSerializedBcs(et))return s(et);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return a.u8=et=>s(suiBcs$1.U8.serialize(et)),a.u16=et=>s(suiBcs$1.U16.serialize(et)),a.u32=et=>s(suiBcs$1.U32.serialize(et)),a.u64=et=>s(suiBcs$1.U64.serialize(et)),a.u128=et=>s(suiBcs$1.U128.serialize(et)),a.u256=et=>s(suiBcs$1.U256.serialize(et)),a.bool=et=>s(suiBcs$1.Bool.serialize(et)),a.string=et=>s(suiBcs$1.String.serialize(et)),a.address=et=>s(suiBcs$1.Address.serialize(et)),a.id=a.address,a.vector=(et,nt)=>s(suiBcs$1.vector(pureBcsSchemaFromTypeName$1(et)).serialize(nt)),a.option=(et,nt)=>s(suiBcs$1.option(pureBcsSchemaFromTypeName$1(et)).serialize(nt)),a}function hashTypedData(s,a){const et=Array.from(`${s}::`).map(at=>at.charCodeAt(0)),nt=new Uint8Array(et.length+a.length);return nt.set(et),nt.set(a,et.length),blake2b$1(nt,{dkLen:32})}function prepareSuiAddress(s){return normalizeSuiAddress$1(s).replace("0x","")}class TransactionDataBuilder{constructor(a){this.version=2,this.sender=(a==null?void 0:a.sender)??null,this.expiration=(a==null?void 0:a.expiration)??null,this.inputs=(a==null?void 0:a.inputs)??[],this.commands=(a==null?void 0:a.commands)??[],this.gasData=(a==null?void 0:a.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(a){const nt=suiBcs$1.TransactionKind.parse(a).ProgrammableTransaction;if(!nt)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:nt.inputs,commands:nt.commands})}static fromBytes(a){const et=suiBcs$1.TransactionData.parse(a),nt=et==null?void 0:et.V1,at=nt.kind.ProgrammableTransaction;if(!nt||!at)throw new Error("Unable to deserialize from bytes.");return TransactionDataBuilder.restore({version:2,sender:nt.sender,expiration:nt.expiration,gasData:nt.gasData,inputs:at.inputs,commands:at.commands})}static restore(a){return a.version===2?new TransactionDataBuilder(parse$2(TransactionData$1,a)):new TransactionDataBuilder(parse$2(TransactionData$1,transactionDataFromV1(a)))}static getDigestFromBytes(a){const et=hashTypedData("TransactionData",a);return toBase58(et)}get gasConfig(){return this.gasData}set gasConfig(a){this.gasData=a}build({maxSizeBytes:a=1/0,overrides:et,onlyTransactionKind:nt}={}){const at=this.inputs,mt=this.commands,wt={ProgrammableTransaction:{inputs:at,commands:mt}};if(nt)return suiBcs$1.TransactionKind.serialize(wt,{maxSize:a}).toBytes();const $t=(et==null?void 0:et.expiration)??this.expiration,Ct=(et==null?void 0:et.sender)??this.sender,Dt={...this.gasData,...et==null?void 0:et.gasConfig,...et==null?void 0:et.gasData};if(!Ct)throw new Error("Missing transaction sender");if(!Dt.budget)throw new Error("Missing gas budget");if(!Dt.payment)throw new Error("Missing gas payment");if(!Dt.price)throw new Error("Missing gas price");const Ft={sender:prepareSuiAddress(Ct),expiration:$t||{None:!0},gasData:{payment:Dt.payment,owner:prepareSuiAddress(this.gasData.owner??Ct),price:BigInt(Dt.price),budget:BigInt(Dt.budget)},kind:{ProgrammableTransaction:{inputs:at,commands:mt}}};return suiBcs$1.TransactionData.serialize({V1:Ft},{maxSize:a}).toBytes()}addInput(a,et){const nt=this.inputs.length;return this.inputs.push(et),{Input:nt,type:a,$kind:"Input"}}getInputUses(a,et){this.mapArguments((nt,at)=>(nt.$kind==="Input"&&nt.Input===a&&et(nt,at),nt))}mapArguments(a){for(const et of this.commands)switch(et.$kind){case"MoveCall":et.MoveCall.arguments=et.MoveCall.arguments.map(at=>a(at,et));break;case"TransferObjects":et.TransferObjects.objects=et.TransferObjects.objects.map(at=>a(at,et)),et.TransferObjects.address=a(et.TransferObjects.address,et);break;case"SplitCoins":et.SplitCoins.coin=a(et.SplitCoins.coin,et),et.SplitCoins.amounts=et.SplitCoins.amounts.map(at=>a(at,et));break;case"MergeCoins":et.MergeCoins.destination=a(et.MergeCoins.destination,et),et.MergeCoins.sources=et.MergeCoins.sources.map(at=>a(at,et));break;case"MakeMoveVec":et.MakeMoveVec.elements=et.MakeMoveVec.elements.map(at=>a(at,et));break;case"Upgrade":et.Upgrade.ticket=a(et.Upgrade.ticket,et);break;case"$Intent":const nt=et.$Intent.inputs;et.$Intent.inputs={};for(const[at,mt]of Object.entries(nt))et.$Intent.inputs[at]=Array.isArray(mt)?mt.map(wt=>a(wt,et)):a(mt,et);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${et.$kind}`)}}replaceCommand(a,et){if(!Array.isArray(et)){this.commands[a]=et;return}const nt=et.length-1;this.commands.splice(a,1,...et),nt!==0&&this.mapArguments(at=>{switch(at.$kind){case"Result":at.Result>a&&(at.Result+=nt);break;case"NestedResult":at.NestedResult[0]>a&&(at.NestedResult[0]+=nt);break}return at})}getDigest(){const a=this.build({onlyTransactionKind:!1});return TransactionDataBuilder.getDigestFromBytes(a)}snapshot(){return parse$2(TransactionData$1,this)}}function getIdFromCallArg(s){if(typeof s=="string")return normalizeSuiAddress$1(s);if(s.Object)return s.Object.ImmOrOwnedObject?normalizeSuiAddress$1(s.Object.ImmOrOwnedObject.objectId):s.Object.Receiving?normalizeSuiAddress$1(s.Object.Receiving.objectId):normalizeSuiAddress$1(s.Object.SharedObject.objectId);if(s.UnresolvedObject)return normalizeSuiAddress$1(s.UnresolvedObject.objectId)}var __typeError=s=>{throw TypeError(s)},__accessCheck=(s,a,et)=>a.has(s)||__typeError("Cannot "+et),__privateGet=(s,a,et)=>(__accessCheck(s,a,"read from private field"),et?et.call(s):a.get(s)),__privateAdd=(s,a,et)=>a.has(s)?__typeError("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(s):a.set(s,et),__privateSet=(s,a,et,nt)=>(__accessCheck(s,a,"write to private field"),a.set(s,et),et),__privateMethod=(s,a,et)=>(__accessCheck(s,a,"access private method"),et),_serializationPlugins,_buildPlugins,_intentResolvers,_data,_Transaction_instances,normalizeTransactionArgument_fn,resolveArgument_fn,prepareBuild_fn,runPlugins_fn;function createTransactionResult(s,a=1/0){const et={$kind:"Result",Result:s},nt=[],at=mt=>nt[mt]??(nt[mt]={$kind:"NestedResult",NestedResult:[s,mt]});return new Proxy(et,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(mt,wt){if(wt in mt)return Reflect.get(mt,wt);if(wt===Symbol.iterator)return function*(){let Ct=0;for(;Ct<a;)yield at(Ct),Ct++};if(typeof wt=="symbol")return;const $t=parseInt(wt,10);if(!(Number.isNaN($t)||$t<0))return at($t)}})}const TRANSACTION_BRAND=Symbol.for("@mysten/transaction");function isTransaction(s){return!!s&&typeof s=="object"&&s[TRANSACTION_BRAND]===!0}const modulePluginRegistry={buildPlugins:new Map,serializationPlugins:new Map},TRANSACTION_REGISTRY_KEY=Symbol.for("@mysten/transaction/registry");function getGlobalPluginRegistry(){try{const s=globalThis;return s[TRANSACTION_REGISTRY_KEY]||(s[TRANSACTION_REGISTRY_KEY]=modulePluginRegistry),s[TRANSACTION_REGISTRY_KEY]}catch{return modulePluginRegistry}}const _Transaction=class Vu{constructor(){__privateAdd(this,_Transaction_instances),__privateAdd(this,_serializationPlugins),__privateAdd(this,_buildPlugins),__privateAdd(this,_intentResolvers,new Map),__privateAdd(this,_data),this.object=createObjectMethods(et=>{var mt,wt;if(typeof et=="function")return this.object(et(this));if(typeof et=="object"&&is(Argument$2,et))return et;const nt=getIdFromCallArg(et),at=__privateGet(this,_data).inputs.find($t=>nt===getIdFromCallArg($t));return(mt=at==null?void 0:at.Object)!=null&&mt.SharedObject&&typeof et=="object"&&((wt=et.Object)!=null&&wt.SharedObject)&&(at.Object.SharedObject.mutable=at.Object.SharedObject.mutable||et.Object.SharedObject.mutable),at?{$kind:"Input",Input:__privateGet(this,_data).inputs.indexOf(at),type:"object"}:__privateGet(this,_data).addInput("object",typeof et=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:normalizeSuiAddress$1(et)}}:et)});const a=getGlobalPluginRegistry();__privateSet(this,_data,new TransactionDataBuilder),__privateSet(this,_buildPlugins,[...a.buildPlugins.values()]),__privateSet(this,_serializationPlugins,[...a.serializationPlugins.values()])}static fromKind(a){const et=new Vu;return __privateSet(et,_data,TransactionDataBuilder.fromKindBytes(typeof a=="string"?fromBase64(a):a)),et}static from(a){const et=new Vu;return isTransaction(a)?__privateSet(et,_data,new TransactionDataBuilder(a.getData())):typeof a!="string"||!a.startsWith("{")?__privateSet(et,_data,TransactionDataBuilder.fromBytes(typeof a=="string"?fromBase64(a):a)):__privateSet(et,_data,TransactionDataBuilder.restore(JSON.parse(a))),et}static registerGlobalSerializationPlugin(a,et){getGlobalPluginRegistry().serializationPlugins.set(a,et??a)}static unregisterGlobalSerializationPlugin(a){getGlobalPluginRegistry().serializationPlugins.delete(a)}static registerGlobalBuildPlugin(a,et){getGlobalPluginRegistry().buildPlugins.set(a,et??a)}static unregisterGlobalBuildPlugin(a){getGlobalPluginRegistry().buildPlugins.delete(a)}addSerializationPlugin(a){__privateGet(this,_serializationPlugins).push(a)}addBuildPlugin(a){__privateGet(this,_buildPlugins).push(a)}addIntentResolver(a,et){if(__privateGet(this,_intentResolvers).has(a)&&__privateGet(this,_intentResolvers).get(a)!==et)throw new Error(`Intent resolver for ${a} already exists`);__privateGet(this,_intentResolvers).set(a,et)}setSender(a){__privateGet(this,_data).sender=a}setSenderIfNotSet(a){__privateGet(this,_data).sender||(__privateGet(this,_data).sender=a)}setExpiration(a){__privateGet(this,_data).expiration=a?parse$2(TransactionExpiration$3,a):null}setGasPrice(a){__privateGet(this,_data).gasConfig.price=String(a)}setGasBudget(a){__privateGet(this,_data).gasConfig.budget=String(a)}setGasBudgetIfNotSet(a){__privateGet(this,_data).gasData.budget==null&&(__privateGet(this,_data).gasConfig.budget=String(a))}setGasOwner(a){__privateGet(this,_data).gasConfig.owner=a}setGasPayment(a){__privateGet(this,_data).gasConfig.payment=a.map(et=>parse$2(ObjectRef$1,et))}get blockData(){return serializeV1TransactionData(__privateGet(this,_data).snapshot())}getData(){return __privateGet(this,_data).snapshot()}get[TRANSACTION_BRAND](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:createPure(a=>isSerializedBcs(a)?__privateGet(this,_data).addInput("pure",{$kind:"Pure",Pure:{bytes:a.toBase64()}}):__privateGet(this,_data).addInput("pure",is(NormalizedCallArg$1,a)?parse$2(NormalizedCallArg$1,a):a instanceof Uint8Array?Inputs.Pure(a):{$kind:"UnresolvedPure",UnresolvedPure:{value:a}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...a){return this.object(Inputs.ObjectRef(...a))}receivingRef(...a){return this.object(Inputs.ReceivingRef(...a))}sharedObjectRef(...a){return this.object(Inputs.SharedObjectRef(...a))}add(a){if(typeof a=="function")return a(this);const et=__privateGet(this,_data).commands.push(a);return createTransactionResult(et-1)}splitCoins(a,et){const nt=Commands.SplitCoins(typeof a=="string"?this.object(a):__privateMethod(this,_Transaction_instances,resolveArgument_fn).call(this,a),et.map(mt=>typeof mt=="number"||typeof mt=="bigint"||typeof mt=="string"?this.pure.u64(mt):__privateMethod(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,mt))),at=__privateGet(this,_data).commands.push(nt);return createTransactionResult(at-1,et.length)}mergeCoins(a,et){return this.add(Commands.MergeCoins(this.object(a),et.map(nt=>this.object(nt))))}publish({modules:a,dependencies:et}){return this.add(Commands.Publish({modules:a,dependencies:et}))}upgrade({modules:a,dependencies:et,package:nt,ticket:at}){return this.add(Commands.Upgrade({modules:a,dependencies:et,package:nt,ticket:this.object(at)}))}moveCall({arguments:a,...et}){return this.add(Commands.MoveCall({...et,arguments:a==null?void 0:a.map(nt=>__privateMethod(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,nt))}))}transferObjects(a,et){return this.add(Commands.TransferObjects(a.map(nt=>this.object(nt)),typeof et=="string"?this.pure.address(et):__privateMethod(this,_Transaction_instances,normalizeTransactionArgument_fn).call(this,et)))}makeMoveVec({type:a,elements:et}){return this.add(Commands.MakeMoveVec({type:a,elements:et.map(nt=>this.object(nt))}))}serialize(){return JSON.stringify(serializeV1TransactionData(__privateGet(this,_data).snapshot()))}async toJSON(a={}){return await this.prepareForSerialization(a),JSON.stringify(parse$2(SerializedTransactionDataV2,__privateGet(this,_data).snapshot()),(et,nt)=>typeof nt=="bigint"?nt.toString():nt,2)}async sign(a){const{signer:et,...nt}=a,at=await this.build(nt);return et.signTransaction(at)}async build(a={}){return await this.prepareForSerialization(a),await __privateMethod(this,_Transaction_instances,prepareBuild_fn).call(this,a),__privateGet(this,_data).build({onlyTransactionKind:a.onlyTransactionKind})}async getDigest(a={}){return await __privateMethod(this,_Transaction_instances,prepareBuild_fn).call(this,a),__privateGet(this,_data).getDigest()}async prepareForSerialization(a){var at;const et=new Set;for(const mt of __privateGet(this,_data).commands)mt.$Intent&&et.add(mt.$Intent.name);const nt=[...__privateGet(this,_serializationPlugins)];for(const mt of et)if(!((at=a.supportedIntents)!=null&&at.includes(mt))){if(!__privateGet(this,_intentResolvers).has(mt))throw new Error(`Missing intent resolver for ${mt}`);nt.push(__privateGet(this,_intentResolvers).get(mt))}await __privateMethod(this,_Transaction_instances,runPlugins_fn).call(this,nt,a)}};_serializationPlugins=new WeakMap;_buildPlugins=new WeakMap;_intentResolvers=new WeakMap;_data=new WeakMap;_Transaction_instances=new WeakSet;normalizeTransactionArgument_fn=function(s){return isSerializedBcs(s)?this.pure(s):__privateMethod(this,_Transaction_instances,resolveArgument_fn).call(this,s)};resolveArgument_fn=function(s){return typeof s=="function"?parse$2(Argument$2,s(this)):parse$2(Argument$2,s)};prepareBuild_fn=async function(s){if(!s.onlyTransactionKind&&!__privateGet(this,_data).sender)throw new Error("Missing transaction sender");await __privateMethod(this,_Transaction_instances,runPlugins_fn).call(this,[...__privateGet(this,_buildPlugins),resolveTransactionData],s)};runPlugins_fn=async function(s,a){const et=nt=>{if(nt>=s.length)return()=>{};const at=s[nt];return async()=>{const mt=et(nt+1);let wt=!1,$t=!1;if(await at(__privateGet(this,_data),a,async()=>{if(wt)throw new Error(`next() was call multiple times in TransactionPlugin ${nt}`);wt=!0,await mt(),$t=!0}),!wt)throw new Error(`next() was not called in TransactionPlugin ${nt}`);if(!$t)throw new Error(`next() was not awaited in TransactionPlugin ${nt}`)}};await et(0)()};let Transaction=_Transaction;const COIN_WITH_BALANCE="CoinWithBalance",SUI_TYPE=normalizeStructTag$1("0x2::sui::SUI");function coinWithBalance({type:s=SUI_TYPE,balance:a,useGasCoin:et=!0}){return nt=>{nt.addIntentResolver(COIN_WITH_BALANCE,resolveCoinBalance);const at=s==="gas"?s:normalizeStructTag$1(s);return nt.add(Commands.Intent({name:COIN_WITH_BALANCE,inputs:{},data:{type:at===SUI_TYPE&&et?"gas":at,balance:BigInt(a)}}))}}const CoinWithBalanceData=object$1({type:string(),balance:bigint()});async function resolveCoinBalance(s,a,et){var Dt,Ft;const nt=new Set,at=new Map;if(!s.sender)throw new Error("Sender must be set to resolve CoinWithBalance");for(const jt of s.commands)if(jt.$kind==="$Intent"&&jt.$Intent.name===COIN_WITH_BALANCE){const{type:Nt,balance:Lt}=parse$2(CoinWithBalanceData,jt.$Intent.data);Nt!=="gas"&&Lt>0n&&nt.add(Nt),at.set(Nt,(at.get(Nt)??0n)+Lt)}const mt=new Set;for(const jt of s.inputs)(Dt=jt.Object)!=null&&Dt.ImmOrOwnedObject&&mt.add(jt.Object.ImmOrOwnedObject.objectId),(Ft=jt.UnresolvedObject)!=null&&Ft.objectId&&mt.add(jt.UnresolvedObject.objectId);const wt=new Map,$t=getClient(a);await Promise.all([...nt].map(async jt=>{wt.set(jt,await getCoinsOfType({coinType:jt,balance:at.get(jt),client:$t,owner:s.sender,usedIds:mt}))}));const Ct=new Map;Ct.set("gas",{$kind:"GasCoin",GasCoin:!0});for(const[jt,Nt]of s.commands.entries()){if(Nt.$kind!=="$Intent"||Nt.$Intent.name!==COIN_WITH_BALANCE)continue;const{type:Lt,balance:Ut}=Nt.$Intent.data;if(Ut===0n){s.replaceCommand(jt,Commands.MoveCall({target:"0x2::coin::zero",typeArguments:[Lt]}));continue}const Vt=[];if(!Ct.has(Lt)){const[Yt,...er]=wt.get(Lt).map(tr=>s.addInput("object",Inputs.ObjectRef({objectId:tr.coinObjectId,digest:tr.digest,version:tr.version})));er.length>0&&Vt.push(Commands.MergeCoins(Yt,er)),Ct.set(Lt,Yt)}Vt.push(Commands.SplitCoins(Ct.get(Lt),[s.addInput("pure",Inputs.Pure(suiBcs$1.u64().serialize(Ut)))])),s.replaceCommand(jt,Vt),s.mapArguments(Yt=>Yt.$kind==="Result"&&Yt.Result===jt?{$kind:"NestedResult",NestedResult:[jt+Vt.length-1,0]}:Yt)}return et()}async function getCoinsOfType({coinType:s,balance:a,client:et,owner:nt,usedIds:at}){let mt=a;const wt=[];return $t();async function $t(Ct=null){const{data:Dt,hasNextPage:Ft,nextCursor:jt}=await et.getCoins({owner:nt,coinType:s,cursor:Ct}),Nt=Dt.sort((Lt,Ut)=>Number(BigInt(Ut.balance)-BigInt(Lt.balance)));for(const Lt of Nt){if(at.has(Lt.coinObjectId))continue;const Ut=BigInt(Lt.balance);if(wt.push(Lt),mt-=Ut,mt<=0)return wt}if(Ft)return $t(jt);throw new Error(`Not enough coins of type ${s} to satisfy requested balance`)}}const SUI_CLIENT_BRAND=Symbol.for("@mysten/SuiClient");class SuiClient{get[SUI_CLIENT_BRAND](){return!0}constructor(a){this.transport=a.transport??new SuiHTTPTransport({url:a.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(a){if(!a.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[a.owner,a.coinType,a.cursor,a.limit]})}async getAllCoins(a){if(!a.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[a.owner,a.cursor,a.limit]})}async getBalance(a){if(!a.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[a.owner,a.coinType]})}async getAllBalances(a){if(!a.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[a.owner]})}async getCoinMetadata(a){return await this.transport.request({method:"suix_getCoinMetadata",params:[a.coinType]})}async getTotalSupply(a){return await this.transport.request({method:"suix_getTotalSupply",params:[a.coinType]})}async call(a,et){return await this.transport.request({method:a,params:et})}async getMoveFunctionArgTypes(a){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[a.package,a.module,a.function]})}async getNormalizedMoveModulesByPackage(a){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[a.package]})}async getNormalizedMoveModule(a){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[a.package,a.module]})}async getNormalizedMoveFunction(a){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[a.package,a.module,a.function]})}async getNormalizedMoveStruct(a){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[a.package,a.module,a.struct]})}async getOwnedObjects(a){if(!a.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[a.owner,{filter:a.filter,options:a.options},a.cursor,a.limit]})}async getObject(a){if(!a.id||!isValidSuiObjectId$1(normalizeSuiObjectId$1(a.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[a.id,a.options]})}async tryGetPastObject(a){return await this.transport.request({method:"sui_tryGetPastObject",params:[a.id,a.version,a.options]})}async multiGetObjects(a){if(a.ids.forEach(nt=>{if(!nt||!isValidSuiObjectId$1(normalizeSuiObjectId$1(nt)))throw new Error(`Invalid Sui Object id ${nt}`)}),a.ids.length!==new Set(a.ids).size)throw new Error(`Duplicate object ids in batch call ${a.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[a.ids,a.options]})}async queryTransactionBlocks(a){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:a.filter,options:a.options},a.cursor,a.limit,(a.order||"descending")==="descending"]})}async getTransactionBlock(a){if(!isValidTransactionDigest$1(a.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[a.digest,a.options]})}async multiGetTransactionBlocks(a){if(a.digests.forEach(nt=>{if(!isValidTransactionDigest$1(nt))throw new Error(`Invalid Transaction digest ${nt}`)}),a.digests.length!==new Set(a.digests).size)throw new Error(`Duplicate digests in batch call ${a.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[a.digests,a.options]})}async executeTransactionBlock({transactionBlock:a,signature:et,options:nt,requestType:at}){const mt=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof a=="string"?a:toBase64(a),Array.isArray(et)?et:[et],nt]});if(at==="WaitForLocalExecution")try{await this.waitForTransaction({digest:mt.digest})}catch{}return mt}async signAndExecuteTransaction({transaction:a,signer:et,...nt}){let at;a instanceof Uint8Array?at=a:(a.setSenderIfNotSet(et.toSuiAddress()),at=await a.build({client:this}));const{signature:mt,bytes:wt}=await et.signTransaction(at);return this.executeTransactionBlock({transactionBlock:wt,signature:mt,...nt})}async getTotalTransactionBlocks(){const a=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(a)}async getReferenceGasPrice(){const a=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(a)}async getStakes(a){if(!a.owner||!isValidSuiAddress$1(normalizeSuiAddress$1(a.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[a.owner]})}async getStakesByIds(a){return a.stakedSuiIds.forEach(et=>{if(!et||!isValidSuiObjectId$1(normalizeSuiObjectId$1(et)))throw new Error(`Invalid Sui Stake id ${et}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[a.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(a){return await this.transport.request({method:"suix_queryEvents",params:[a.query,a.cursor,a.limit,(a.order||"descending")==="descending"]})}async subscribeEvent(a){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[a.filter],onMessage:a.onMessage})}async subscribeTransaction(a){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[a.filter],onMessage:a.onMessage})}async devInspectTransactionBlock(a){var nt;let et;if(isTransaction(a.transactionBlock))a.transactionBlock.setSenderIfNotSet(a.sender),et=toBase64(await a.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof a.transactionBlock=="string")et=a.transactionBlock;else if(a.transactionBlock instanceof Uint8Array)et=toBase64(a.transactionBlock);else throw new Error("Unknown transaction block format.");return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[a.sender,et,(nt=a.gasPrice)==null?void 0:nt.toString(),a.epoch]})}async dryRunTransactionBlock(a){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof a.transactionBlock=="string"?a.transactionBlock:toBase64(a.transactionBlock)]})}async getDynamicFields(a){if(!a.parentId||!isValidSuiObjectId$1(normalizeSuiObjectId$1(a.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[a.parentId,a.cursor,a.limit]})}async getDynamicFieldObject(a){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[a.parentId,a.name]})}async getLatestCheckpointSequenceNumber(){const a=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(a)}async getCheckpoint(a){return await this.transport.request({method:"sui_getCheckpoint",params:[a.id]})}async getCheckpoints(a){return await this.transport.request({method:"sui_getCheckpoints",params:[a.cursor,a==null?void 0:a.limit,a.descendingOrder]})}async getCommitteeInfo(a){return await this.transport.request({method:"suix_getCommitteeInfo",params:[a==null?void 0:a.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(a){return await this.transport.request({method:"suix_getEpochMetrics",params:[a==null?void 0:a.cursor,a==null?void 0:a.limit,a==null?void 0:a.descendingOrder]})}async getAllEpochAddressMetrics(a){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[a==null?void 0:a.descendingOrder]})}async getEpochs(a){return await this.transport.request({method:"suix_getEpochs",params:[a==null?void 0:a.cursor,a==null?void 0:a.limit,a==null?void 0:a.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const a=await this.getCheckpoint({id:"0"}),et=fromBase58(a.digest);return toHex$2(et.slice(0,4))}async resolveNameServiceAddress(a){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[a.name]})}async resolveNameServiceNames({format:a="dot",...et}){const{nextCursor:nt,hasNextPage:at,data:mt}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[et.address,et.cursor,et.limit]});return{hasNextPage:at,nextCursor:nt,data:mt.map(wt=>normalizeSuiNSName$1(wt,a))}}async getProtocolConfig(a){return await this.transport.request({method:"sui_getProtocolConfig",params:[a==null?void 0:a.version]})}async waitForTransaction({signal:a,timeout:et=60*1e3,pollInterval:nt=2*1e3,...at}){const mt=AbortSignal.timeout(et),wt=new Promise(($t,Ct)=>{mt.addEventListener("abort",()=>Ct(mt.reason))});for(wt.catch(()=>{});!mt.aborted;){a==null||a.throwIfAborted();try{return await this.getTransactionBlock(at)}catch{await Promise.race([new Promise(Ct=>setTimeout(Ct,nt)),wt])}}throw mt.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var et=arguments[a];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(s[nt]=et[nt])}return s},_extends$3.apply(this,arguments)}var Action$1;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(s){s===void 0&&(s={});function a(nt,at){let{pathname:mt,search:wt,hash:$t}=nt.location;return createLocation("",{pathname:mt,search:wt,hash:$t},at.state&&at.state.usr||null,at.state&&at.state.key||"default")}function et(nt,at){return typeof at=="string"?at:createPath(at)}return getUrlBasedHistory(a,et,null,s)}function invariant$Q(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function warning$4(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(s,a){return{usr:s.state,key:s.key,idx:a}}function createLocation(s,a,et,nt){return et===void 0&&(et=null),_extends$3({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof a=="string"?parsePath(a):a,{state:et,key:a&&a.key||nt||createKey()})}function createPath(s){let{pathname:a="/",search:et="",hash:nt=""}=s;return et&&et!=="?"&&(a+=et.charAt(0)==="?"?et:"?"+et),nt&&nt!=="#"&&(a+=nt.charAt(0)==="#"?nt:"#"+nt),a}function parsePath(s){let a={};if(s){let et=s.indexOf("#");et>=0&&(a.hash=s.substr(et),s=s.substr(0,et));let nt=s.indexOf("?");nt>=0&&(a.search=s.substr(nt),s=s.substr(0,nt)),s&&(a.pathname=s)}return a}function getUrlBasedHistory(s,a,et,nt){nt===void 0&&(nt={});let{window:at=document.defaultView,v5Compat:mt=!1}=nt,wt=at.history,$t=Action$1.Pop,Ct=null,Dt=Ft();Dt==null&&(Dt=0,wt.replaceState(_extends$3({},wt.state,{idx:Dt}),""));function Ft(){return(wt.state||{idx:null}).idx}function jt(){$t=Action$1.Pop;let Yt=Ft(),er=Yt==null?null:Yt-Dt;Dt=Yt,Ct&&Ct({action:$t,location:Vt.location,delta:er})}function Nt(Yt,er){$t=Action$1.Push;let tr=createLocation(Vt.location,Yt,er);Dt=Ft()+1;let nr=getHistoryState(tr,Dt),sr=Vt.createHref(tr);try{wt.pushState(nr,"",sr)}catch(dr){if(dr instanceof DOMException&&dr.name==="DataCloneError")throw dr;at.location.assign(sr)}mt&&Ct&&Ct({action:$t,location:Vt.location,delta:1})}function Lt(Yt,er){$t=Action$1.Replace;let tr=createLocation(Vt.location,Yt,er);Dt=Ft();let nr=getHistoryState(tr,Dt),sr=Vt.createHref(tr);wt.replaceState(nr,"",sr),mt&&Ct&&Ct({action:$t,location:Vt.location,delta:0})}function Ut(Yt){let er=at.location.origin!=="null"?at.location.origin:at.location.href,tr=typeof Yt=="string"?Yt:createPath(Yt);return tr=tr.replace(/ $/,"%20"),invariant$Q(er,"No window.location.(origin|href) available to create URL for href: "+tr),new URL(tr,er)}let Vt={get action(){return $t},get location(){return s(at,wt)},listen(Yt){if(Ct)throw new Error("A history only accepts one active listener");return at.addEventListener(PopStateEventType,jt),Ct=Yt,()=>{at.removeEventListener(PopStateEventType,jt),Ct=null}},createHref(Yt){return a(at,Yt)},createURL:Ut,encodeLocation(Yt){let er=Ut(Yt);return{pathname:er.pathname,search:er.search,hash:er.hash}},push:Nt,replace:Lt,go(Yt){return wt.go(Yt)}};return Vt}var ResultType;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ResultType||(ResultType={}));const immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(s){return s.index===!0}function convertRoutesToDataRoutes(s,a,et,nt){return et===void 0&&(et=[]),nt===void 0&&(nt={}),s.map((at,mt)=>{let wt=[...et,String(mt)],$t=typeof at.id=="string"?at.id:wt.join("-");if(invariant$Q(at.index!==!0||!at.children,"Cannot specify children on an index route"),invariant$Q(!nt[$t],'Found a route id collision on id "'+$t+`".  Route id's must be globally unique within Data Router usages`),isIndexRoute(at)){let Ct=_extends$3({},at,a(at),{id:$t});return nt[$t]=Ct,Ct}else{let Ct=_extends$3({},at,a(at),{id:$t,children:void 0});return nt[$t]=Ct,at.children&&(Ct.children=convertRoutesToDataRoutes(at.children,a,wt,nt)),Ct}})}function matchRoutes(s,a,et){return et===void 0&&(et="/"),matchRoutesImpl(s,a,et,!1)}function matchRoutesImpl(s,a,et,nt){let at=typeof a=="string"?parsePath(a):a,mt=stripBasename(at.pathname||"/",et);if(mt==null)return null;let wt=flattenRoutes(s);rankRouteBranches(wt);let $t=null;for(let Ct=0;$t==null&&Ct<wt.length;++Ct){let Dt=decodePath(mt);$t=matchRouteBranch(wt[Ct],Dt,nt)}return $t}function convertRouteMatchToUiMatch(s,a){let{route:et,pathname:nt,params:at}=s;return{id:et.id,pathname:nt,params:at,data:a[et.id],handle:et.handle}}function flattenRoutes(s,a,et,nt){a===void 0&&(a=[]),et===void 0&&(et=[]),nt===void 0&&(nt="");let at=(mt,wt,$t)=>{let Ct={relativePath:$t===void 0?mt.path||"":$t,caseSensitive:mt.caseSensitive===!0,childrenIndex:wt,route:mt};Ct.relativePath.startsWith("/")&&(invariant$Q(Ct.relativePath.startsWith(nt),'Absolute route path "'+Ct.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Ct.relativePath=Ct.relativePath.slice(nt.length));let Dt=joinPaths([nt,Ct.relativePath]),Ft=et.concat(Ct);mt.children&&mt.children.length>0&&(invariant$Q(mt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Dt+'".')),flattenRoutes(mt.children,a,Ft,Dt)),!(mt.path==null&&!mt.index)&&a.push({path:Dt,score:computeScore(Dt,mt.index),routesMeta:Ft})};return s.forEach((mt,wt)=>{var $t;if(mt.path===""||!(($t=mt.path)!=null&&$t.includes("?")))at(mt,wt);else for(let Ct of explodeOptionalSegments(mt.path))at(mt,wt,Ct)}),a}function explodeOptionalSegments(s){let a=s.split("/");if(a.length===0)return[];let[et,...nt]=a,at=et.endsWith("?"),mt=et.replace(/\?$/,"");if(nt.length===0)return at?[mt,""]:[mt];let wt=explodeOptionalSegments(nt.join("/")),$t=[];return $t.push(...wt.map(Ct=>Ct===""?mt:[mt,Ct].join("/"))),at&&$t.push(...wt),$t.map(Ct=>s.startsWith("/")&&Ct===""?"/":Ct)}function rankRouteBranches(s){s.sort((a,et)=>a.score!==et.score?et.score-a.score:compareIndexes(a.routesMeta.map(nt=>nt.childrenIndex),et.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s=>s==="*";function computeScore(s,a){let et=s.split("/"),nt=et.length;return et.some(isSplat)&&(nt+=splatPenalty),a&&(nt+=indexRouteValue),et.filter(at=>!isSplat(at)).reduce((at,mt)=>at+(paramRe.test(mt)?dynamicSegmentValue:mt===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(s,a){return s.length===a.length&&s.slice(0,-1).every((nt,at)=>nt===a[at])?s[s.length-1]-a[a.length-1]:0}function matchRouteBranch(s,a,et){et===void 0&&(et=!1);let{routesMeta:nt}=s,at={},mt="/",wt=[];for(let $t=0;$t<nt.length;++$t){let Ct=nt[$t],Dt=$t===nt.length-1,Ft=mt==="/"?a:a.slice(mt.length)||"/",jt=matchPath({path:Ct.relativePath,caseSensitive:Ct.caseSensitive,end:Dt},Ft),Nt=Ct.route;if(!jt&&Dt&&et&&!nt[nt.length-1].route.index&&(jt=matchPath({path:Ct.relativePath,caseSensitive:Ct.caseSensitive,end:!1},Ft)),!jt)return null;Object.assign(at,jt.params),wt.push({params:at,pathname:joinPaths([mt,jt.pathname]),pathnameBase:normalizePathname(joinPaths([mt,jt.pathnameBase])),route:Nt}),jt.pathnameBase!=="/"&&(mt=joinPaths([mt,jt.pathnameBase]))}return wt}function matchPath(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[et,nt]=compilePath(s.path,s.caseSensitive,s.end),at=a.match(et);if(!at)return null;let mt=at[0],wt=mt.replace(/(.)\/+$/,"$1"),$t=at.slice(1);return{params:nt.reduce((Dt,Ft,jt)=>{let{paramName:Nt,isOptional:Lt}=Ft;if(Nt==="*"){let Vt=$t[jt]||"";wt=mt.slice(0,mt.length-Vt.length).replace(/(.)\/+$/,"$1")}const Ut=$t[jt];return Lt&&!Ut?Dt[Nt]=void 0:Dt[Nt]=(Ut||"").replace(/%2F/g,"/"),Dt},{}),pathname:mt,pathnameBase:wt,pattern:s}}function compilePath(s,a,et){a===void 0&&(a=!1),et===void 0&&(et=!0),warning$4(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let nt=[],at="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(wt,$t,Ct)=>(nt.push({paramName:$t,isOptional:Ct!=null}),Ct?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(nt.push({paramName:"*"}),at+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):et?at+="\\/*$":s!==""&&s!=="/"&&(at+="(?:(?=\\/|$))"),[new RegExp(at,a?void 0:"i"),nt]}function decodePath(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return warning$4(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),s}}function stripBasename(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let et=a.endsWith("/")?a.length-1:a.length,nt=s.charAt(et);return nt&&nt!=="/"?null:s.slice(et)||"/"}function resolvePath(s,a){a===void 0&&(a="/");let{pathname:et,search:nt="",hash:at=""}=typeof s=="string"?parsePath(s):s;return{pathname:et?et.startsWith("/")?et:resolvePathname(et,a):a,search:normalizeSearch(nt),hash:normalizeHash(at)}}function resolvePathname(s,a){let et=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(at=>{at===".."?et.length>1&&et.pop():at!=="."&&et.push(at)}),et.length>1?et.join("/"):"/"}function getInvalidPathError(s,a,et,nt){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+et+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(s){return s.filter((a,et)=>et===0||a.route.path&&a.route.path.length>0)}function getResolveToMatches(s,a){let et=getPathContributingMatches(s);return a?et.map((nt,at)=>at===et.length-1?nt.pathname:nt.pathnameBase):et.map(nt=>nt.pathnameBase)}function resolveTo(s,a,et,nt){nt===void 0&&(nt=!1);let at;typeof s=="string"?at=parsePath(s):(at=_extends$3({},s),invariant$Q(!at.pathname||!at.pathname.includes("?"),getInvalidPathError("?","pathname","search",at)),invariant$Q(!at.pathname||!at.pathname.includes("#"),getInvalidPathError("#","pathname","hash",at)),invariant$Q(!at.search||!at.search.includes("#"),getInvalidPathError("#","search","hash",at)));let mt=s===""||at.pathname==="",wt=mt?"/":at.pathname,$t;if(wt==null)$t=et;else{let jt=a.length-1;if(!nt&&wt.startsWith("..")){let Nt=wt.split("/");for(;Nt[0]==="..";)Nt.shift(),jt-=1;at.pathname=Nt.join("/")}$t=jt>=0?a[jt]:"/"}let Ct=resolvePath(at,$t),Dt=wt&&wt!=="/"&&wt.endsWith("/"),Ft=(mt||wt===".")&&et.endsWith("/");return!Ct.pathname.endsWith("/")&&(Dt||Ft)&&(Ct.pathname+="/"),Ct}const joinPaths=s=>s.join("/").replace(/\/\/+/g,"/"),normalizePathname=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,normalizeHash=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;class ErrorResponseImpl{constructor(a,et,nt,at){at===void 0&&(at=!1),this.status=a,this.statusText=et||"",this.internal=at,nt instanceof Error?(this.data=nt.toString(),this.error=nt):this.data=nt}}function isRouteErrorResponse(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const validMutationMethodsArr=["post","put","patch","delete"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["get",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX$1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=s=>({hasErrorBoundary:!!s.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions";function createRouter(s){const a=s.window?s.window:typeof window<"u"?window:void 0,et=typeof a<"u"&&typeof a.document<"u"&&typeof a.document.createElement<"u",nt=!et;invariant$Q(s.routes.length>0,"You must provide a non-empty routes array to createRouter");let at;if(s.mapRouteProperties)at=s.mapRouteProperties;else if(s.detectErrorBoundary){let Yr=s.detectErrorBoundary;at=Qr=>({hasErrorBoundary:Yr(Qr)})}else at=defaultMapRouteProperties;let mt={},wt=convertRoutesToDataRoutes(s.routes,at,void 0,mt),$t,Ct=s.basename||"/",Dt=s.dataStrategy||defaultDataStrategy,Ft=s.patchRoutesOnNavigation,jt=_extends$3({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},s.future),Nt=null,Lt=new Set,Ut=null,Vt=null,Yt=null,er=s.hydrationData!=null,tr=matchRoutes(wt,s.history.location,Ct),nr=!1,sr=null;if(tr==null&&!Ft){let Yr=getInternalRouterError(404,{pathname:s.history.location.pathname}),{matches:Qr,route:Cn}=getShortCircuitMatches(wt);tr=Qr,sr={[Cn.id]:Yr}}tr&&!s.hydrationData&&Do(tr,wt,s.history.location.pathname).active&&(tr=null);let dr;if(tr)if(tr.some(Yr=>Yr.route.lazy))dr=!1;else if(!tr.some(Yr=>Yr.route.loader))dr=!0;else if(jt.v7_partialHydration){let Yr=s.hydrationData?s.hydrationData.loaderData:null,Qr=s.hydrationData?s.hydrationData.errors:null;if(Qr){let Cn=tr.findIndex(Nn=>Qr[Nn.route.id]!==void 0);dr=tr.slice(0,Cn+1).every(Nn=>!shouldLoadRouteOnHydration(Nn.route,Yr,Qr))}else dr=tr.every(Cn=>!shouldLoadRouteOnHydration(Cn.route,Yr,Qr))}else dr=s.hydrationData!=null;else if(dr=!1,tr=[],jt.v7_partialHydration){let Yr=Do(null,wt,s.history.location.pathname);Yr.active&&Yr.matches&&(nr=!0,tr=Yr.matches)}let br,vr={historyAction:s.history.action,location:s.history.location,matches:tr,initialized:dr,navigation:IDLE_NAVIGATION,restoreScrollPosition:s.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:s.hydrationData&&s.hydrationData.loaderData||{},actionData:s.hydrationData&&s.hydrationData.actionData||null,errors:s.hydrationData&&s.hydrationData.errors||sr,fetchers:new Map,blockers:new Map},yr=Action$1.Pop,$r=!1,Sr,wr=!1,fr=new Map,_r=null,ir=!1,rr=!1,or=[],ar=new Set,ur=new Map,pr=0,cr=-1,gr=new Map,hr=new Set,lr=new Map,xr=new Map,Mr=new Set,Pr=new Map,Ar=new Map,Ir;function qr(){if(Nt=s.history.listen(Yr=>{let{action:Qr,location:Cn,delta:Nn}=Yr;if(Ir){Ir(),Ir=void 0;return}warning$4(Ar.size===0||Nn!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Hn=so({currentLocation:vr.location,nextLocation:Cn,historyAction:Qr});if(Hn&&Nn!=null){let lo=new Promise(Qn=>{Ir=Qn});s.history.go(Nn*-1),ro(Hn,{state:"blocked",location:Cn,proceed(){ro(Hn,{state:"proceeding",proceed:void 0,reset:void 0,location:Cn}),lo.then(()=>s.history.go(Nn))},reset(){let Qn=new Map(vr.blockers);Qn.set(Hn,IDLE_BLOCKER),Er({blockers:Qn})}});return}return Hr(Qr,Cn)}),et){restoreAppliedTransitions(a,fr);let Yr=()=>persistAppliedTransitions(a,fr);a.addEventListener("pagehide",Yr),_r=()=>a.removeEventListener("pagehide",Yr)}return vr.initialized||Hr(Action$1.Pop,vr.location,{initialHydration:!0}),br}function Rr(){Nt&&Nt(),_r&&_r(),Lt.clear(),Sr&&Sr.abort(),vr.fetchers.forEach((Yr,Qr)=>Cr(Qr)),vr.blockers.forEach((Yr,Qr)=>yo(Qr))}function Tr(Yr){return Lt.add(Yr),()=>Lt.delete(Yr)}function Er(Yr,Qr){Qr===void 0&&(Qr={}),vr=_extends$3({},vr,Yr);let Cn=[],Nn=[];jt.v7_fetcherPersist&&vr.fetchers.forEach((Hn,lo)=>{Hn.state==="idle"&&(Mr.has(lo)?Nn.push(lo):Cn.push(lo))}),Mr.forEach(Hn=>{!vr.fetchers.has(Hn)&&!ur.has(Hn)&&Nn.push(Hn)}),[...Lt].forEach(Hn=>Hn(vr,{deletedFetchers:Nn,viewTransitionOpts:Qr.viewTransitionOpts,flushSync:Qr.flushSync===!0})),jt.v7_fetcherPersist?(Cn.forEach(Hn=>vr.fetchers.delete(Hn)),Nn.forEach(Hn=>Cr(Hn))):Nn.forEach(Hn=>Mr.delete(Hn))}function Br(Yr,Qr,Cn){var Nn,Hn;let{flushSync:lo}=Cn===void 0?{}:Cn,Qn=vr.actionData!=null&&vr.navigation.formMethod!=null&&isMutationMethod(vr.navigation.formMethod)&&vr.navigation.state==="loading"&&((Nn=Yr.state)==null?void 0:Nn._isRedirect)!==!0,Jn;Qr.actionData?Object.keys(Qr.actionData).length>0?Jn=Qr.actionData:Jn=null:Qn?Jn=vr.actionData:Jn=null;let oo=Qr.loaderData?mergeLoaderData(vr.loaderData,Qr.loaderData,Qr.matches||[],Qr.errors):vr.loaderData,Gn=vr.blockers;Gn.size>0&&(Gn=new Map(Gn),Gn.forEach((fo,Co)=>Gn.set(Co,IDLE_BLOCKER)));let _i=$r===!0||vr.navigation.formMethod!=null&&isMutationMethod(vr.navigation.formMethod)&&((Hn=Yr.state)==null?void 0:Hn._isRedirect)!==!0;$t&&(wt=$t,$t=void 0),ir||yr===Action$1.Pop||(yr===Action$1.Push?s.history.push(Yr,Yr.state):yr===Action$1.Replace&&s.history.replace(Yr,Yr.state));let go;if(yr===Action$1.Pop){let fo=fr.get(vr.location.pathname);fo&&fo.has(Yr.pathname)?go={currentLocation:vr.location,nextLocation:Yr}:fr.has(Yr.pathname)&&(go={currentLocation:Yr,nextLocation:vr.location})}else if(wr){let fo=fr.get(vr.location.pathname);fo?fo.add(Yr.pathname):(fo=new Set([Yr.pathname]),fr.set(vr.location.pathname,fo)),go={currentLocation:vr.location,nextLocation:Yr}}Er(_extends$3({},Qr,{actionData:Jn,loaderData:oo,historyAction:yr,location:Yr,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Eo(Yr,Qr.matches||vr.matches),preventScrollReset:_i,blockers:Gn}),{viewTransitionOpts:go,flushSync:lo===!0}),yr=Action$1.Pop,$r=!1,wr=!1,ir=!1,rr=!1,or=[]}async function Nr(Yr,Qr){if(typeof Yr=="number"){s.history.go(Yr);return}let Cn=normalizeTo(vr.location,vr.matches,Ct,jt.v7_prependBasename,Yr,jt.v7_relativeSplatPath,Qr==null?void 0:Qr.fromRouteId,Qr==null?void 0:Qr.relative),{path:Nn,submission:Hn,error:lo}=normalizeNavigateOptions(jt.v7_normalizeFormMethod,!1,Cn,Qr),Qn=vr.location,Jn=createLocation(vr.location,Nn,Qr&&Qr.state);Jn=_extends$3({},Jn,s.history.encodeLocation(Jn));let oo=Qr&&Qr.replace!=null?Qr.replace:void 0,Gn=Action$1.Push;oo===!0?Gn=Action$1.Replace:oo===!1||Hn!=null&&isMutationMethod(Hn.formMethod)&&Hn.formAction===vr.location.pathname+vr.location.search&&(Gn=Action$1.Replace);let _i=Qr&&"preventScrollReset"in Qr?Qr.preventScrollReset===!0:void 0,go=(Qr&&Qr.flushSync)===!0,fo=so({currentLocation:Qn,nextLocation:Jn,historyAction:Gn});if(fo){ro(fo,{state:"blocked",location:Jn,proceed(){ro(fo,{state:"proceeding",proceed:void 0,reset:void 0,location:Jn}),Nr(Yr,Qr)},reset(){let Co=new Map(vr.blockers);Co.set(fo,IDLE_BLOCKER),Er({blockers:Co})}});return}return await Hr(Gn,Jn,{submission:Hn,pendingError:lo,preventScrollReset:_i,replace:Qr&&Qr.replace,enableViewTransition:Qr&&Qr.viewTransition,flushSync:go})}function zr(){if(zn(),Er({revalidation:"loading"}),vr.navigation.state!=="submitting"){if(vr.navigation.state==="idle"){Hr(vr.historyAction,vr.location,{startUninterruptedRevalidation:!0});return}Hr(yr||vr.historyAction,vr.navigation.location,{overrideNavigation:vr.navigation,enableViewTransition:wr===!0})}}async function Hr(Yr,Qr,Cn){Sr&&Sr.abort(),Sr=null,yr=Yr,ir=(Cn&&Cn.startUninterruptedRevalidation)===!0,_o(vr.location,vr.matches),$r=(Cn&&Cn.preventScrollReset)===!0,wr=(Cn&&Cn.enableViewTransition)===!0;let Nn=$t||wt,Hn=Cn&&Cn.overrideNavigation,lo=Cn!=null&&Cn.initialHydration&&vr.matches&&vr.matches.length>0&&!nr?vr.matches:matchRoutes(Nn,Qr,Ct),Qn=(Cn&&Cn.flushSync)===!0;if(lo&&vr.initialized&&!rr&&isHashChangeOnly(vr.location,Qr)&&!(Cn&&Cn.submission&&isMutationMethod(Cn.submission.formMethod))){Br(Qr,{matches:lo},{flushSync:Qn});return}let Jn=Do(lo,Nn,Qr.pathname);if(Jn.active&&Jn.matches&&(lo=Jn.matches),!lo){let{error:ko,notFoundMatches:Ao,route:Oo}=vo(Qr.pathname);Br(Qr,{matches:Ao,loaderData:{},errors:{[Oo.id]:ko}},{flushSync:Qn});return}Sr=new AbortController;let oo=createClientSideRequest(s.history,Qr,Sr.signal,Cn&&Cn.submission),Gn;if(Cn&&Cn.pendingError)Gn=[findNearestBoundary(lo).route.id,{type:ResultType.error,error:Cn.pendingError}];else if(Cn&&Cn.submission&&isMutationMethod(Cn.submission.formMethod)){let ko=await jr(oo,Qr,Cn.submission,lo,Jn.active,{replace:Cn.replace,flushSync:Qn});if(ko.shortCircuited)return;if(ko.pendingActionResult){let[Ao,Oo]=ko.pendingActionResult;if(isErrorResult$2(Oo)&&isRouteErrorResponse(Oo.error)&&Oo.error.status===404){Sr=null,Br(Qr,{matches:ko.matches,loaderData:{},errors:{[Ao]:Oo.error}});return}}lo=ko.matches||lo,Gn=ko.pendingActionResult,Hn=getLoadingNavigation(Qr,Cn.submission),Qn=!1,Jn.active=!1,oo=createClientSideRequest(s.history,oo.url,oo.signal)}let{shortCircuited:_i,matches:go,loaderData:fo,errors:Co}=await Ur(oo,Qr,lo,Jn.active,Hn,Cn&&Cn.submission,Cn&&Cn.fetcherSubmission,Cn&&Cn.replace,Cn&&Cn.initialHydration===!0,Qn,Gn);_i||(Sr=null,Br(Qr,_extends$3({matches:go||lo},getActionDataForCommit(Gn),{loaderData:fo,errors:Co})))}async function jr(Yr,Qr,Cn,Nn,Hn,lo){lo===void 0&&(lo={}),zn();let Qn=getSubmittingNavigation(Qr,Cn);if(Er({navigation:Qn},{flushSync:lo.flushSync===!0}),Hn){let Gn=await mo(Nn,Qr.pathname,Yr.signal);if(Gn.type==="aborted")return{shortCircuited:!0};if(Gn.type==="error"){let _i=findNearestBoundary(Gn.partialMatches).route.id;return{matches:Gn.partialMatches,pendingActionResult:[_i,{type:ResultType.error,error:Gn.error}]}}else if(Gn.matches)Nn=Gn.matches;else{let{notFoundMatches:_i,error:go,route:fo}=vo(Qr.pathname);return{matches:_i,pendingActionResult:[fo.id,{type:ResultType.error,error:go}]}}}let Jn,oo=getTargetMatch(Nn,Qr);if(!oo.route.action&&!oo.route.lazy)Jn={type:ResultType.error,error:getInternalRouterError(405,{method:Yr.method,pathname:Qr.pathname,routeId:oo.route.id})};else if(Jn=(await Wn("action",vr,Yr,[oo],Nn,null))[oo.route.id],Yr.signal.aborted)return{shortCircuited:!0};if(isRedirectResult(Jn)){let Gn;return lo&&lo.replace!=null?Gn=lo.replace:Gn=normalizeRedirectLocation(Jn.response.headers.get("Location"),new URL(Yr.url),Ct)===vr.location.pathname+vr.location.search,await Un(Yr,Jn,!0,{submission:Cn,replace:Gn}),{shortCircuited:!0}}if(isDeferredResult(Jn))throw getInternalRouterError(400,{type:"defer-action"});if(isErrorResult$2(Jn)){let Gn=findNearestBoundary(Nn,oo.route.id);return(lo&&lo.replace)!==!0&&(yr=Action$1.Push),{matches:Nn,pendingActionResult:[Gn.route.id,Jn]}}return{matches:Nn,pendingActionResult:[oo.route.id,Jn]}}async function Ur(Yr,Qr,Cn,Nn,Hn,lo,Qn,Jn,oo,Gn,_i){let go=Hn||getLoadingNavigation(Qr,lo),fo=lo||Qn||getSubmissionFromNavigation(go),Co=!ir&&(!jt.v7_partialHydration||!oo);if(Nn){if(Co){let Po=Fr(_i);Er(_extends$3({navigation:go},Po!==void 0?{actionData:Po}:{}),{flushSync:Gn})}let To=await mo(Cn,Qr.pathname,Yr.signal);if(To.type==="aborted")return{shortCircuited:!0};if(To.type==="error"){let Po=findNearestBoundary(To.partialMatches).route.id;return{matches:To.partialMatches,loaderData:{},errors:{[Po]:To.error}}}else if(To.matches)Cn=To.matches;else{let{error:Po,notFoundMatches:Qo,route:ts}=vo(Qr.pathname);return{matches:Qo,loaderData:{},errors:{[ts.id]:Po}}}}let ko=$t||wt,[Ao,Oo]=getMatchesToLoad(s.history,vr,Cn,fo,Qr,jt.v7_partialHydration&&oo===!0,jt.v7_skipActionErrorRevalidation,rr,or,ar,Mr,lr,hr,ko,Ct,_i);if(po(To=>!(Cn&&Cn.some(Po=>Po.route.id===To))||Ao&&Ao.some(Po=>Po.route.id===To)),cr=++pr,Ao.length===0&&Oo.length===0){let To=an();return Br(Qr,_extends$3({matches:Cn,loaderData:{},errors:_i&&isErrorResult$2(_i[1])?{[_i[0]]:_i[1].error}:null},getActionDataForCommit(_i),To?{fetchers:new Map(vr.fetchers)}:{}),{flushSync:Gn}),{shortCircuited:!0}}if(Co){let To={};if(!Nn){To.navigation=go;let Po=Fr(_i);Po!==void 0&&(To.actionData=Po)}Oo.length>0&&(To.fetchers=Gr(Oo)),Er(To,{flushSync:Gn})}Oo.forEach(To=>{Lr(To.key),To.controller&&ur.set(To.key,To.controller)});let Xo=()=>Oo.forEach(To=>Lr(To.key));Sr&&Sr.signal.addEventListener("abort",Xo);let{loaderResults:es,fetcherResults:Ho}=await io(vr,Cn,Ao,Oo,Yr);if(Yr.signal.aborted)return{shortCircuited:!0};Sr&&Sr.signal.removeEventListener("abort",Xo),Oo.forEach(To=>ur.delete(To.key));let No=findRedirect(es);if(No)return await Un(Yr,No.result,!0,{replace:Jn}),{shortCircuited:!0};if(No=findRedirect(Ho),No)return hr.add(No.key),await Un(Yr,No.result,!0,{replace:Jn}),{shortCircuited:!0};let{loaderData:rs,errors:Go}=processLoaderData(vr,Cn,es,_i,Oo,Ho,Pr);Pr.forEach((To,Po)=>{To.subscribe(Qo=>{(Qo||To.done)&&Pr.delete(Po)})}),jt.v7_partialHydration&&oo&&vr.errors&&(Go=_extends$3({},vr.errors,Go));let Zo=an(),ga=rn(cr),xa=Zo||ga||Oo.length>0;return _extends$3({matches:Cn,loaderData:rs,errors:Go},xa?{fetchers:new Map(vr.fetchers)}:{})}function Fr(Yr){if(Yr&&!isErrorResult$2(Yr[1]))return{[Yr[0]]:Yr[1].data};if(vr.actionData)return Object.keys(vr.actionData).length===0?null:vr.actionData}function Gr(Yr){return Yr.forEach(Qr=>{let Cn=vr.fetchers.get(Qr.key),Nn=getLoadingFetcher(void 0,Cn?Cn.data:void 0);vr.fetchers.set(Qr.key,Nn)}),new Map(vr.fetchers)}function Wr(Yr,Qr,Cn,Nn){if(nt)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Lr(Yr);let Hn=(Nn&&Nn.flushSync)===!0,lo=$t||wt,Qn=normalizeTo(vr.location,vr.matches,Ct,jt.v7_prependBasename,Cn,jt.v7_relativeSplatPath,Qr,Nn==null?void 0:Nn.relative),Jn=matchRoutes(lo,Qn,Ct),oo=Do(Jn,lo,Qn);if(oo.active&&oo.matches&&(Jn=oo.matches),!Jn){bo(Yr,Qr,getInternalRouterError(404,{pathname:Qn}),{flushSync:Hn});return}let{path:Gn,submission:_i,error:go}=normalizeNavigateOptions(jt.v7_normalizeFormMethod,!0,Qn,Nn);if(go){bo(Yr,Qr,go,{flushSync:Hn});return}let fo=getTargetMatch(Jn,Gn),Co=(Nn&&Nn.preventScrollReset)===!0;if(_i&&isMutationMethod(_i.formMethod)){nn(Yr,Qr,Gn,fo,Jn,oo.active,Hn,Co,_i);return}lr.set(Yr,{routeId:Qr,path:Gn}),Ln(Yr,Qr,Gn,fo,Jn,oo.active,Hn,Co,_i)}async function nn(Yr,Qr,Cn,Nn,Hn,lo,Qn,Jn,oo){zn(),lr.delete(Yr);function Gn(Lo){if(!Lo.route.action&&!Lo.route.lazy){let Vr=getInternalRouterError(405,{method:oo.formMethod,pathname:Cn,routeId:Qr});return bo(Yr,Qr,Vr,{flushSync:Qn}),!0}return!1}if(!lo&&Gn(Nn))return;let _i=vr.fetchers.get(Yr);Zn(Yr,getSubmittingFetcher(oo,_i),{flushSync:Qn});let go=new AbortController,fo=createClientSideRequest(s.history,Cn,go.signal,oo);if(lo){let Lo=await mo(Hn,new URL(fo.url).pathname,fo.signal,Yr);if(Lo.type==="aborted")return;if(Lo.type==="error"){bo(Yr,Qr,Lo.error,{flushSync:Qn});return}else if(Lo.matches){if(Hn=Lo.matches,Nn=getTargetMatch(Hn,Cn),Gn(Nn))return}else{bo(Yr,Qr,getInternalRouterError(404,{pathname:Cn}),{flushSync:Qn});return}}ur.set(Yr,go);let Co=pr,Ao=(await Wn("action",vr,fo,[Nn],Hn,Yr))[Nn.route.id];if(fo.signal.aborted){ur.get(Yr)===go&&ur.delete(Yr);return}if(jt.v7_fetcherPersist&&Mr.has(Yr)){if(isRedirectResult(Ao)||isErrorResult$2(Ao)){Zn(Yr,getDoneFetcher(void 0));return}}else{if(isRedirectResult(Ao))if(ur.delete(Yr),cr>Co){Zn(Yr,getDoneFetcher(void 0));return}else return hr.add(Yr),Zn(Yr,getLoadingFetcher(oo)),Un(fo,Ao,!1,{fetcherSubmission:oo,preventScrollReset:Jn});if(isErrorResult$2(Ao)){bo(Yr,Qr,Ao.error);return}}if(isDeferredResult(Ao))throw getInternalRouterError(400,{type:"defer-action"});let Oo=vr.navigation.location||vr.location,Xo=createClientSideRequest(s.history,Oo,go.signal),es=$t||wt,Ho=vr.navigation.state!=="idle"?matchRoutes(es,vr.navigation.location,Ct):vr.matches;invariant$Q(Ho,"Didn't find any matches after fetcher action");let No=++pr;gr.set(Yr,No);let rs=getLoadingFetcher(oo,Ao.data);vr.fetchers.set(Yr,rs);let[Go,Zo]=getMatchesToLoad(s.history,vr,Ho,oo,Oo,!1,jt.v7_skipActionErrorRevalidation,rr,or,ar,Mr,lr,hr,es,Ct,[Nn.route.id,Ao]);Zo.filter(Lo=>Lo.key!==Yr).forEach(Lo=>{let Vr=Lo.key,Jr=vr.fetchers.get(Vr),Kr=getLoadingFetcher(void 0,Jr?Jr.data:void 0);vr.fetchers.set(Vr,Kr),Lr(Vr),Lo.controller&&ur.set(Vr,Lo.controller)}),Er({fetchers:new Map(vr.fetchers)});let ga=()=>Zo.forEach(Lo=>Lr(Lo.key));go.signal.addEventListener("abort",ga);let{loaderResults:xa,fetcherResults:To}=await io(vr,Ho,Go,Zo,Xo);if(go.signal.aborted)return;go.signal.removeEventListener("abort",ga),gr.delete(Yr),ur.delete(Yr),Zo.forEach(Lo=>ur.delete(Lo.key));let Po=findRedirect(xa);if(Po)return Un(Xo,Po.result,!1,{preventScrollReset:Jn});if(Po=findRedirect(To),Po)return hr.add(Po.key),Un(Xo,Po.result,!1,{preventScrollReset:Jn});let{loaderData:Qo,errors:ts}=processLoaderData(vr,Ho,xa,void 0,Zo,To,Pr);if(vr.fetchers.has(Yr)){let Lo=getDoneFetcher(Ao.data);vr.fetchers.set(Yr,Lo)}rn(No),vr.navigation.state==="loading"&&No>cr?(invariant$Q(yr,"Expected pending action"),Sr&&Sr.abort(),Br(vr.navigation.location,{matches:Ho,loaderData:Qo,errors:ts,fetchers:new Map(vr.fetchers)})):(Er({errors:ts,loaderData:mergeLoaderData(vr.loaderData,Qo,Ho,ts),fetchers:new Map(vr.fetchers)}),rr=!1)}async function Ln(Yr,Qr,Cn,Nn,Hn,lo,Qn,Jn,oo){let Gn=vr.fetchers.get(Yr);Zn(Yr,getLoadingFetcher(oo,Gn?Gn.data:void 0),{flushSync:Qn});let _i=new AbortController,go=createClientSideRequest(s.history,Cn,_i.signal);if(lo){let Ao=await mo(Hn,new URL(go.url).pathname,go.signal,Yr);if(Ao.type==="aborted")return;if(Ao.type==="error"){bo(Yr,Qr,Ao.error,{flushSync:Qn});return}else if(Ao.matches)Hn=Ao.matches,Nn=getTargetMatch(Hn,Cn);else{bo(Yr,Qr,getInternalRouterError(404,{pathname:Cn}),{flushSync:Qn});return}}ur.set(Yr,_i);let fo=pr,ko=(await Wn("loader",vr,go,[Nn],Hn,Yr))[Nn.route.id];if(isDeferredResult(ko)&&(ko=await resolveDeferredData(ko,go.signal,!0)||ko),ur.get(Yr)===_i&&ur.delete(Yr),!go.signal.aborted){if(Mr.has(Yr)){Zn(Yr,getDoneFetcher(void 0));return}if(isRedirectResult(ko))if(cr>fo){Zn(Yr,getDoneFetcher(void 0));return}else{hr.add(Yr),await Un(go,ko,!1,{preventScrollReset:Jn});return}if(isErrorResult$2(ko)){bo(Yr,Qr,ko.error);return}invariant$Q(!isDeferredResult(ko),"Unhandled fetcher deferred data"),Zn(Yr,getDoneFetcher(ko.data))}}async function Un(Yr,Qr,Cn,Nn){let{submission:Hn,fetcherSubmission:lo,preventScrollReset:Qn,replace:Jn}=Nn===void 0?{}:Nn;Qr.response.headers.has("X-Remix-Revalidate")&&(rr=!0);let oo=Qr.response.headers.get("Location");invariant$Q(oo,"Expected a Location header on the redirect Response"),oo=normalizeRedirectLocation(oo,new URL(Yr.url),Ct);let Gn=createLocation(vr.location,oo,{_isRedirect:!0});if(et){let Ao=!1;if(Qr.response.headers.has("X-Remix-Reload-Document"))Ao=!0;else if(ABSOLUTE_URL_REGEX$1.test(oo)){const Oo=s.history.createURL(oo);Ao=Oo.origin!==a.location.origin||stripBasename(Oo.pathname,Ct)==null}if(Ao){Jn?a.location.replace(oo):a.location.assign(oo);return}}Sr=null;let _i=Jn===!0||Qr.response.headers.has("X-Remix-Replace")?Action$1.Replace:Action$1.Push,{formMethod:go,formAction:fo,formEncType:Co}=vr.navigation;!Hn&&!lo&&go&&fo&&Co&&(Hn=getSubmissionFromNavigation(vr.navigation));let ko=Hn||lo;if(redirectPreserveMethodStatusCodes.has(Qr.response.status)&&ko&&isMutationMethod(ko.formMethod))await Hr(_i,Gn,{submission:_extends$3({},ko,{formAction:oo}),preventScrollReset:Qn||$r,enableViewTransition:Cn?wr:void 0});else{let Ao=getLoadingNavigation(Gn,Hn);await Hr(_i,Gn,{overrideNavigation:Ao,fetcherSubmission:lo,preventScrollReset:Qn||$r,enableViewTransition:Cn?wr:void 0})}}async function Wn(Yr,Qr,Cn,Nn,Hn,lo){let Qn,Jn={};try{Qn=await callDataStrategyImpl(Dt,Yr,Qr,Cn,Nn,Hn,lo,mt,at)}catch(oo){return Nn.forEach(Gn=>{Jn[Gn.route.id]={type:ResultType.error,error:oo}}),Jn}for(let[oo,Gn]of Object.entries(Qn))if(isRedirectDataStrategyResultResult(Gn)){let _i=Gn.result;Jn[oo]={type:ResultType.redirect,response:normalizeRelativeRoutingRedirectResponse(_i,Cn,oo,Hn,Ct,jt.v7_relativeSplatPath)}}else Jn[oo]=await convertDataStrategyResultToDataResult(Gn);return Jn}async function io(Yr,Qr,Cn,Nn,Hn){let lo=Yr.matches,Qn=Wn("loader",Yr,Hn,Cn,Qr,null),Jn=Promise.all(Nn.map(async _i=>{if(_i.matches&&_i.match&&_i.controller){let fo=(await Wn("loader",Yr,createClientSideRequest(s.history,_i.path,_i.controller.signal),[_i.match],_i.matches,_i.key))[_i.match.route.id];return{[_i.key]:fo}}else return Promise.resolve({[_i.key]:{type:ResultType.error,error:getInternalRouterError(404,{pathname:_i.path})}})})),oo=await Qn,Gn=(await Jn).reduce((_i,go)=>Object.assign(_i,go),{});return await Promise.all([resolveNavigationDeferredResults(Qr,oo,Hn.signal,lo,Yr.loaderData),resolveFetcherDeferredResults(Qr,Gn,Nn)]),{loaderResults:oo,fetcherResults:Gn}}function zn(){rr=!0,or.push(...po()),lr.forEach((Yr,Qr)=>{ur.has(Qr)&&ar.add(Qr),Lr(Qr)})}function Zn(Yr,Qr,Cn){Cn===void 0&&(Cn={}),vr.fetchers.set(Yr,Qr),Er({fetchers:new Map(vr.fetchers)},{flushSync:(Cn&&Cn.flushSync)===!0})}function bo(Yr,Qr,Cn,Nn){Nn===void 0&&(Nn={});let Hn=findNearestBoundary(vr.matches,Qr);Cr(Yr),Er({errors:{[Hn.route.id]:Cn},fetchers:new Map(vr.fetchers)},{flushSync:(Nn&&Nn.flushSync)===!0})}function Or(Yr){return xr.set(Yr,(xr.get(Yr)||0)+1),Mr.has(Yr)&&Mr.delete(Yr),vr.fetchers.get(Yr)||IDLE_FETCHER}function Cr(Yr){let Qr=vr.fetchers.get(Yr);ur.has(Yr)&&!(Qr&&Qr.state==="loading"&&gr.has(Yr))&&Lr(Yr),lr.delete(Yr),gr.delete(Yr),hr.delete(Yr),jt.v7_fetcherPersist&&Mr.delete(Yr),ar.delete(Yr),vr.fetchers.delete(Yr)}function kr(Yr){let Qr=(xr.get(Yr)||0)-1;Qr<=0?(xr.delete(Yr),Mr.add(Yr),jt.v7_fetcherPersist||Cr(Yr)):xr.set(Yr,Qr),Er({fetchers:new Map(vr.fetchers)})}function Lr(Yr){let Qr=ur.get(Yr);Qr&&(Qr.abort(),ur.delete(Yr))}function Zr(Yr){for(let Qr of Yr){let Cn=Or(Qr),Nn=getDoneFetcher(Cn.data);vr.fetchers.set(Qr,Nn)}}function an(){let Yr=[],Qr=!1;for(let Cn of hr){let Nn=vr.fetchers.get(Cn);invariant$Q(Nn,"Expected fetcher: "+Cn),Nn.state==="loading"&&(hr.delete(Cn),Yr.push(Cn),Qr=!0)}return Zr(Yr),Qr}function rn(Yr){let Qr=[];for(let[Cn,Nn]of gr)if(Nn<Yr){let Hn=vr.fetchers.get(Cn);invariant$Q(Hn,"Expected fetcher: "+Cn),Hn.state==="loading"&&(Lr(Cn),gr.delete(Cn),Qr.push(Cn))}return Zr(Qr),Qr.length>0}function Yn(Yr,Qr){let Cn=vr.blockers.get(Yr)||IDLE_BLOCKER;return Ar.get(Yr)!==Qr&&Ar.set(Yr,Qr),Cn}function yo(Yr){vr.blockers.delete(Yr),Ar.delete(Yr)}function ro(Yr,Qr){let Cn=vr.blockers.get(Yr)||IDLE_BLOCKER;invariant$Q(Cn.state==="unblocked"&&Qr.state==="blocked"||Cn.state==="blocked"&&Qr.state==="blocked"||Cn.state==="blocked"&&Qr.state==="proceeding"||Cn.state==="blocked"&&Qr.state==="unblocked"||Cn.state==="proceeding"&&Qr.state==="unblocked","Invalid blocker state transition: "+Cn.state+" -> "+Qr.state);let Nn=new Map(vr.blockers);Nn.set(Yr,Qr),Er({blockers:Nn})}function so(Yr){let{currentLocation:Qr,nextLocation:Cn,historyAction:Nn}=Yr;if(Ar.size===0)return;Ar.size>1&&warning$4(!1,"A router only supports one blocker at a time");let Hn=Array.from(Ar.entries()),[lo,Qn]=Hn[Hn.length-1],Jn=vr.blockers.get(lo);if(!(Jn&&Jn.state==="proceeding")&&Qn({currentLocation:Qr,nextLocation:Cn,historyAction:Nn}))return lo}function vo(Yr){let Qr=getInternalRouterError(404,{pathname:Yr}),Cn=$t||wt,{matches:Nn,route:Hn}=getShortCircuitMatches(Cn);return po(),{notFoundMatches:Nn,route:Hn,error:Qr}}function po(Yr){let Qr=[];return Pr.forEach((Cn,Nn)=>{(!Yr||Yr(Nn))&&(Cn.cancel(),Qr.push(Nn),Pr.delete(Nn))}),Qr}function $o(Yr,Qr,Cn){if(Ut=Yr,Yt=Qr,Vt=Cn||null,!er&&vr.navigation===IDLE_NAVIGATION){er=!0;let Nn=Eo(vr.location,vr.matches);Nn!=null&&Er({restoreScrollPosition:Nn})}return()=>{Ut=null,Yt=null,Vt=null}}function Mo(Yr,Qr){return Vt&&Vt(Yr,Qr.map(Nn=>convertRouteMatchToUiMatch(Nn,vr.loaderData)))||Yr.key}function _o(Yr,Qr){if(Ut&&Yt){let Cn=Mo(Yr,Qr);Ut[Cn]=Yt()}}function Eo(Yr,Qr){if(Ut){let Cn=Mo(Yr,Qr),Nn=Ut[Cn];if(typeof Nn=="number")return Nn}return null}function Do(Yr,Qr,Cn){if(Ft)if(Yr){if(Object.keys(Yr[0].params).length>0)return{active:!0,matches:matchRoutesImpl(Qr,Cn,Ct,!0)}}else return{active:!0,matches:matchRoutesImpl(Qr,Cn,Ct,!0)||[]};return{active:!1,matches:null}}async function mo(Yr,Qr,Cn,Nn){if(!Ft)return{type:"success",matches:Yr};let Hn=Yr;for(;;){let lo=$t==null,Qn=$t||wt,Jn=mt;try{await Ft({signal:Cn,path:Qr,matches:Hn,fetcherKey:Nn,patch:(_i,go)=>{Cn.aborted||patchRoutesImpl(_i,go,Qn,Jn,at)}})}catch(_i){return{type:"error",error:_i,partialMatches:Hn}}finally{lo&&!Cn.aborted&&(wt=[...wt])}if(Cn.aborted)return{type:"aborted"};let oo=matchRoutes(Qn,Qr,Ct);if(oo)return{type:"success",matches:oo};let Gn=matchRoutesImpl(Qn,Qr,Ct,!0);if(!Gn||Hn.length===Gn.length&&Hn.every((_i,go)=>_i.route.id===Gn[go].route.id))return{type:"success",matches:null};Hn=Gn}}function So(Yr){mt={},$t=convertRoutesToDataRoutes(Yr,at,void 0,mt)}function Fo(Yr,Qr){let Cn=$t==null;patchRoutesImpl(Yr,Qr,$t||wt,mt,at),Cn&&(wt=[...wt],Er({}))}return br={get basename(){return Ct},get future(){return jt},get state(){return vr},get routes(){return wt},get window(){return a},initialize:qr,subscribe:Tr,enableScrollRestoration:$o,navigate:Nr,fetch:Wr,revalidate:zr,createHref:Yr=>s.history.createHref(Yr),encodeLocation:Yr=>s.history.encodeLocation(Yr),getFetcher:Or,deleteFetcher:kr,dispose:Rr,getBlocker:Yn,deleteBlocker:yo,patchRoutes:Fo,_internalFetchControllers:ur,_internalActiveDeferreds:Pr,_internalSetRoutes:So},br}function isSubmissionNavigation(s){return s!=null&&("formData"in s&&s.formData!=null||"body"in s&&s.body!==void 0)}function normalizeTo(s,a,et,nt,at,mt,wt,$t){let Ct,Dt;if(wt){Ct=[];for(let jt of a)if(Ct.push(jt),jt.route.id===wt){Dt=jt;break}}else Ct=a,Dt=a[a.length-1];let Ft=resolveTo(at||".",getResolveToMatches(Ct,mt),stripBasename(s.pathname,et)||s.pathname,$t==="path");if(at==null&&(Ft.search=s.search,Ft.hash=s.hash),(at==null||at===""||at===".")&&Dt){let jt=hasNakedIndexQuery(Ft.search);if(Dt.route.index&&!jt)Ft.search=Ft.search?Ft.search.replace(/^\?/,"?index&"):"?index";else if(!Dt.route.index&&jt){let Nt=new URLSearchParams(Ft.search),Lt=Nt.getAll("index");Nt.delete("index"),Lt.filter(Vt=>Vt).forEach(Vt=>Nt.append("index",Vt));let Ut=Nt.toString();Ft.search=Ut?"?"+Ut:""}}return nt&&et!=="/"&&(Ft.pathname=Ft.pathname==="/"?et:joinPaths([et,Ft.pathname])),createPath(Ft)}function normalizeNavigateOptions(s,a,et,nt){if(!nt||!isSubmissionNavigation(nt))return{path:et};if(nt.formMethod&&!isValidMethod(nt.formMethod))return{path:et,error:getInternalRouterError(405,{method:nt.formMethod})};let at=()=>({path:et,error:getInternalRouterError(400,{type:"invalid-body"})}),mt=nt.formMethod||"get",wt=s?mt.toUpperCase():mt.toLowerCase(),$t=stripHashFromPath(et);if(nt.body!==void 0){if(nt.formEncType==="text/plain"){if(!isMutationMethod(wt))return at();let Nt=typeof nt.body=="string"?nt.body:nt.body instanceof FormData||nt.body instanceof URLSearchParams?Array.from(nt.body.entries()).reduce((Lt,Ut)=>{let[Vt,Yt]=Ut;return""+Lt+Vt+"="+Yt+`
`},""):String(nt.body);return{path:et,submission:{formMethod:wt,formAction:$t,formEncType:nt.formEncType,formData:void 0,json:void 0,text:Nt}}}else if(nt.formEncType==="application/json"){if(!isMutationMethod(wt))return at();try{let Nt=typeof nt.body=="string"?JSON.parse(nt.body):nt.body;return{path:et,submission:{formMethod:wt,formAction:$t,formEncType:nt.formEncType,formData:void 0,json:Nt,text:void 0}}}catch{return at()}}}invariant$Q(typeof FormData=="function","FormData is not available in this environment");let Ct,Dt;if(nt.formData)Ct=convertFormDataToSearchParams(nt.formData),Dt=nt.formData;else if(nt.body instanceof FormData)Ct=convertFormDataToSearchParams(nt.body),Dt=nt.body;else if(nt.body instanceof URLSearchParams)Ct=nt.body,Dt=convertSearchParamsToFormData(Ct);else if(nt.body==null)Ct=new URLSearchParams,Dt=new FormData;else try{Ct=new URLSearchParams(nt.body),Dt=convertSearchParamsToFormData(Ct)}catch{return at()}let Ft={formMethod:wt,formAction:$t,formEncType:nt&&nt.formEncType||"application/x-www-form-urlencoded",formData:Dt,json:void 0,text:void 0};if(isMutationMethod(Ft.formMethod))return{path:et,submission:Ft};let jt=parsePath(et);return a&&jt.search&&hasNakedIndexQuery(jt.search)&&Ct.append("index",""),jt.search="?"+Ct,{path:createPath(jt),submission:Ft}}function getLoaderMatchesUntilBoundary(s,a,et){et===void 0&&(et=!1);let nt=s.findIndex(at=>at.route.id===a);return nt>=0?s.slice(0,et?nt+1:nt):s}function getMatchesToLoad(s,a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt){let Yt=Vt?isErrorResult$2(Vt[1])?Vt[1].error:Vt[1].data:void 0,er=s.createURL(a.location),tr=s.createURL(at),nr=et;mt&&a.errors?nr=getLoaderMatchesUntilBoundary(et,Object.keys(a.errors)[0],!0):Vt&&isErrorResult$2(Vt[1])&&(nr=getLoaderMatchesUntilBoundary(et,Vt[0]));let sr=Vt?Vt[1].statusCode:void 0,dr=wt&&sr&&sr>=400,br=nr.filter((yr,$r)=>{let{route:Sr}=yr;if(Sr.lazy)return!0;if(Sr.loader==null)return!1;if(mt)return shouldLoadRouteOnHydration(Sr,a.loaderData,a.errors);if(isNewLoader(a.loaderData,a.matches[$r],yr)||Ct.some(_r=>_r===yr.route.id))return!0;let wr=a.matches[$r],fr=yr;return shouldRevalidateLoader(yr,_extends$3({currentUrl:er,currentParams:wr.params,nextUrl:tr,nextParams:fr.params},nt,{actionResult:Yt,actionStatus:sr,defaultShouldRevalidate:dr?!1:$t||er.pathname+er.search===tr.pathname+tr.search||er.search!==tr.search||isNewRouteInstance(wr,fr)}))}),vr=[];return jt.forEach((yr,$r)=>{if(mt||!et.some(ir=>ir.route.id===yr.routeId)||Ft.has($r))return;let Sr=matchRoutes(Lt,yr.path,Ut);if(!Sr){vr.push({key:$r,routeId:yr.routeId,path:yr.path,matches:null,match:null,controller:null});return}let wr=a.fetchers.get($r),fr=getTargetMatch(Sr,yr.path),_r=!1;Nt.has($r)?_r=!1:Dt.has($r)?(Dt.delete($r),_r=!0):wr&&wr.state!=="idle"&&wr.data===void 0?_r=$t:_r=shouldRevalidateLoader(fr,_extends$3({currentUrl:er,currentParams:a.matches[a.matches.length-1].params,nextUrl:tr,nextParams:et[et.length-1].params},nt,{actionResult:Yt,actionStatus:sr,defaultShouldRevalidate:dr?!1:$t})),_r&&vr.push({key:$r,routeId:yr.routeId,path:yr.path,matches:Sr,match:fr,controller:new AbortController})}),[br,vr]}function shouldLoadRouteOnHydration(s,a,et){if(s.lazy)return!0;if(!s.loader)return!1;let nt=a!=null&&a[s.id]!==void 0,at=et!=null&&et[s.id]!==void 0;return!nt&&at?!1:typeof s.loader=="function"&&s.loader.hydrate===!0?!0:!nt&&!at}function isNewLoader(s,a,et){let nt=!a||et.route.id!==a.route.id,at=s[et.route.id]===void 0;return nt||at}function isNewRouteInstance(s,a){let et=s.route.path;return s.pathname!==a.pathname||et!=null&&et.endsWith("*")&&s.params["*"]!==a.params["*"]}function shouldRevalidateLoader(s,a){if(s.route.shouldRevalidate){let et=s.route.shouldRevalidate(a);if(typeof et=="boolean")return et}return a.defaultShouldRevalidate}function patchRoutesImpl(s,a,et,nt,at){var mt;let wt;if(s){let Dt=nt[s];invariant$Q(Dt,"No route found to patch children into: routeId = "+s),Dt.children||(Dt.children=[]),wt=Dt.children}else wt=et;let $t=a.filter(Dt=>!wt.some(Ft=>isSameRoute(Dt,Ft))),Ct=convertRoutesToDataRoutes($t,at,[s||"_","patch",String(((mt=wt)==null?void 0:mt.length)||"0")],nt);wt.push(...Ct)}function isSameRoute(s,a){return"id"in s&&"id"in a&&s.id===a.id?!0:s.index===a.index&&s.path===a.path&&s.caseSensitive===a.caseSensitive?(!s.children||s.children.length===0)&&(!a.children||a.children.length===0)?!0:s.children.every((et,nt)=>{var at;return(at=a.children)==null?void 0:at.some(mt=>isSameRoute(et,mt))}):!1}async function loadLazyRouteModule(s,a,et){if(!s.lazy)return;let nt=await s.lazy();if(!s.lazy)return;let at=et[s.id];invariant$Q(at,"No route found in manifest");let mt={};for(let wt in nt){let Ct=at[wt]!==void 0&&wt!=="hasErrorBoundary";warning$4(!Ct,'Route "'+at.id+'" has a static property "'+wt+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+wt+'" will be ignored.')),!Ct&&!immutableRouteKeys.has(wt)&&(mt[wt]=nt[wt])}Object.assign(at,mt),Object.assign(at,_extends$3({},a(at),{lazy:void 0}))}async function defaultDataStrategy(s){let{matches:a}=s,et=a.filter(at=>at.shouldLoad);return(await Promise.all(et.map(at=>at.resolve()))).reduce((at,mt,wt)=>Object.assign(at,{[et[wt].route.id]:mt}),{})}async function callDataStrategyImpl(s,a,et,nt,at,mt,wt,$t,Ct,Dt){let Ft=mt.map(Lt=>Lt.route.lazy?loadLazyRouteModule(Lt.route,Ct,$t):void 0),jt=mt.map((Lt,Ut)=>{let Vt=Ft[Ut],Yt=at.some(tr=>tr.route.id===Lt.route.id);return _extends$3({},Lt,{shouldLoad:Yt,resolve:async tr=>(tr&&nt.method==="GET"&&(Lt.route.lazy||Lt.route.loader)&&(Yt=!0),Yt?callLoaderOrAction(a,nt,Lt,Vt,tr,Dt):Promise.resolve({type:ResultType.data,result:void 0}))})}),Nt=await s({matches:jt,request:nt,params:mt[0].params,fetcherKey:wt,context:Dt});try{await Promise.all(Ft)}catch{}return Nt}async function callLoaderOrAction(s,a,et,nt,at,mt){let wt,$t,Ct=Dt=>{let Ft,jt=new Promise((Ut,Vt)=>Ft=Vt);$t=()=>Ft(),a.signal.addEventListener("abort",$t);let Nt=Ut=>typeof Dt!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+s+'" [routeId: '+et.route.id+"]"))):Dt({request:a,params:et.params,context:mt},...Ut!==void 0?[Ut]:[]),Lt=(async()=>{try{return{type:"data",result:await(at?at(Vt=>Nt(Vt)):Nt())}}catch(Ut){return{type:"error",result:Ut}}})();return Promise.race([Lt,jt])};try{let Dt=et.route[s];if(nt)if(Dt){let Ft,[jt]=await Promise.all([Ct(Dt).catch(Nt=>{Ft=Nt}),nt]);if(Ft!==void 0)throw Ft;wt=jt}else if(await nt,Dt=et.route[s],Dt)wt=await Ct(Dt);else if(s==="action"){let Ft=new URL(a.url),jt=Ft.pathname+Ft.search;throw getInternalRouterError(405,{method:a.method,pathname:jt,routeId:et.route.id})}else return{type:ResultType.data,result:void 0};else if(Dt)wt=await Ct(Dt);else{let Ft=new URL(a.url),jt=Ft.pathname+Ft.search;throw getInternalRouterError(404,{pathname:jt})}invariant$Q(wt.result!==void 0,"You defined "+(s==="action"?"an action":"a loader")+" for route "+('"'+et.route.id+"\" but didn't return anything from your `"+s+"` ")+"function. Please return a value or `null`.")}catch(Dt){return{type:ResultType.error,result:Dt}}finally{$t&&a.signal.removeEventListener("abort",$t)}return wt}async function convertDataStrategyResultToDataResult(s){let{result:a,type:et}=s;if(isResponse$2(a)){let jt;try{let Nt=a.headers.get("Content-Type");Nt&&/\bapplication\/json\b/.test(Nt)?a.body==null?jt=null:jt=await a.json():jt=await a.text()}catch(Nt){return{type:ResultType.error,error:Nt}}return et===ResultType.error?{type:ResultType.error,error:new ErrorResponseImpl(a.status,a.statusText,jt),statusCode:a.status,headers:a.headers}:{type:ResultType.data,data:jt,statusCode:a.status,headers:a.headers}}if(et===ResultType.error){if(isDataWithResponseInit(a)){var nt,at;if(a.data instanceof Error){var mt,wt;return{type:ResultType.error,error:a.data,statusCode:(mt=a.init)==null?void 0:mt.status,headers:(wt=a.init)!=null&&wt.headers?new Headers(a.init.headers):void 0}}return{type:ResultType.error,error:new ErrorResponseImpl(((nt=a.init)==null?void 0:nt.status)||500,void 0,a.data),statusCode:isRouteErrorResponse(a)?a.status:void 0,headers:(at=a.init)!=null&&at.headers?new Headers(a.init.headers):void 0}}return{type:ResultType.error,error:a,statusCode:isRouteErrorResponse(a)?a.status:void 0}}if(isDeferredData(a)){var $t,Ct;return{type:ResultType.deferred,deferredData:a,statusCode:($t=a.init)==null?void 0:$t.status,headers:((Ct=a.init)==null?void 0:Ct.headers)&&new Headers(a.init.headers)}}if(isDataWithResponseInit(a)){var Dt,Ft;return{type:ResultType.data,data:a.data,statusCode:(Dt=a.init)==null?void 0:Dt.status,headers:(Ft=a.init)!=null&&Ft.headers?new Headers(a.init.headers):void 0}}return{type:ResultType.data,data:a}}function normalizeRelativeRoutingRedirectResponse(s,a,et,nt,at,mt){let wt=s.headers.get("Location");if(invariant$Q(wt,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX$1.test(wt)){let $t=nt.slice(0,nt.findIndex(Ct=>Ct.route.id===et)+1);wt=normalizeTo(new URL(a.url),$t,at,!0,wt,mt),s.headers.set("Location",wt)}return s}function normalizeRedirectLocation(s,a,et){if(ABSOLUTE_URL_REGEX$1.test(s)){let nt=s,at=nt.startsWith("//")?new URL(a.protocol+nt):new URL(nt),mt=stripBasename(at.pathname,et)!=null;if(at.origin===a.origin&&mt)return at.pathname+at.search+at.hash}return s}function createClientSideRequest(s,a,et,nt){let at=s.createURL(stripHashFromPath(a)).toString(),mt={signal:et};if(nt&&isMutationMethod(nt.formMethod)){let{formMethod:wt,formEncType:$t}=nt;mt.method=wt.toUpperCase(),$t==="application/json"?(mt.headers=new Headers({"Content-Type":$t}),mt.body=JSON.stringify(nt.json)):$t==="text/plain"?mt.body=nt.text:$t==="application/x-www-form-urlencoded"&&nt.formData?mt.body=convertFormDataToSearchParams(nt.formData):mt.body=nt.formData}return new Request(at,mt)}function convertFormDataToSearchParams(s){let a=new URLSearchParams;for(let[et,nt]of s.entries())a.append(et,typeof nt=="string"?nt:nt.name);return a}function convertSearchParamsToFormData(s){let a=new FormData;for(let[et,nt]of s.entries())a.append(et,nt);return a}function processRouteLoaderData(s,a,et,nt,at){let mt={},wt=null,$t,Ct=!1,Dt={},Ft=et&&isErrorResult$2(et[1])?et[1].error:void 0;return s.forEach(jt=>{if(!(jt.route.id in a))return;let Nt=jt.route.id,Lt=a[Nt];if(invariant$Q(!isRedirectResult(Lt),"Cannot handle redirect results in processLoaderData"),isErrorResult$2(Lt)){let Ut=Lt.error;Ft!==void 0&&(Ut=Ft,Ft=void 0),wt=wt||{};{let Vt=findNearestBoundary(s,Nt);wt[Vt.route.id]==null&&(wt[Vt.route.id]=Ut)}mt[Nt]=void 0,Ct||(Ct=!0,$t=isRouteErrorResponse(Lt.error)?Lt.error.status:500),Lt.headers&&(Dt[Nt]=Lt.headers)}else isDeferredResult(Lt)?(nt.set(Nt,Lt.deferredData),mt[Nt]=Lt.deferredData.data,Lt.statusCode!=null&&Lt.statusCode!==200&&!Ct&&($t=Lt.statusCode),Lt.headers&&(Dt[Nt]=Lt.headers)):(mt[Nt]=Lt.data,Lt.statusCode&&Lt.statusCode!==200&&!Ct&&($t=Lt.statusCode),Lt.headers&&(Dt[Nt]=Lt.headers))}),Ft!==void 0&&et&&(wt={[et[0]]:Ft},mt[et[0]]=void 0),{loaderData:mt,errors:wt,statusCode:$t||200,loaderHeaders:Dt}}function processLoaderData(s,a,et,nt,at,mt,wt){let{loaderData:$t,errors:Ct}=processRouteLoaderData(a,et,nt,wt);return at.forEach(Dt=>{let{key:Ft,match:jt,controller:Nt}=Dt,Lt=mt[Ft];if(invariant$Q(Lt,"Did not find corresponding fetcher result"),!(Nt&&Nt.signal.aborted))if(isErrorResult$2(Lt)){let Ut=findNearestBoundary(s.matches,jt==null?void 0:jt.route.id);Ct&&Ct[Ut.route.id]||(Ct=_extends$3({},Ct,{[Ut.route.id]:Lt.error})),s.fetchers.delete(Ft)}else if(isRedirectResult(Lt))invariant$Q(!1,"Unhandled fetcher revalidation redirect");else if(isDeferredResult(Lt))invariant$Q(!1,"Unhandled fetcher deferred data");else{let Ut=getDoneFetcher(Lt.data);s.fetchers.set(Ft,Ut)}}),{loaderData:$t,errors:Ct}}function mergeLoaderData(s,a,et,nt){let at=_extends$3({},a);for(let mt of et){let wt=mt.route.id;if(a.hasOwnProperty(wt)?a[wt]!==void 0&&(at[wt]=a[wt]):s[wt]!==void 0&&mt.route.loader&&(at[wt]=s[wt]),nt&&nt.hasOwnProperty(wt))break}return at}function getActionDataForCommit(s){return s?isErrorResult$2(s[1])?{actionData:{}}:{actionData:{[s[0]]:s[1].data}}:{}}function findNearestBoundary(s,a){return(a?s.slice(0,s.findIndex(nt=>nt.route.id===a)+1):[...s]).reverse().find(nt=>nt.route.hasErrorBoundary===!0)||s[0]}function getShortCircuitMatches(s){let a=s.length===1?s[0]:s.find(et=>et.index||!et.path||et.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:a}],route:a}}function getInternalRouterError(s,a){let{pathname:et,routeId:nt,method:at,type:mt,message:wt}=a===void 0?{}:a,$t="Unknown Server Error",Ct="Unknown @remix-run/router error";return s===400?($t="Bad Request",at&&et&&nt?Ct="You made a "+at+' request to "'+et+'" but '+('did not provide a `loader` for route "'+nt+'", ')+"so there is no way to handle the request.":mt==="defer-action"?Ct="defer() is not supported in actions":mt==="invalid-body"&&(Ct="Unable to encode submission body")):s===403?($t="Forbidden",Ct='Route "'+nt+'" does not match URL "'+et+'"'):s===404?($t="Not Found",Ct='No route matches URL "'+et+'"'):s===405&&($t="Method Not Allowed",at&&et&&nt?Ct="You made a "+at.toUpperCase()+' request to "'+et+'" but '+('did not provide an `action` for route "'+nt+'", ')+"so there is no way to handle the request.":at&&(Ct='Invalid request method "'+at.toUpperCase()+'"')),new ErrorResponseImpl(s||500,$t,new Error(Ct),!0)}function findRedirect(s){let a=Object.entries(s);for(let et=a.length-1;et>=0;et--){let[nt,at]=a[et];if(isRedirectResult(at))return{key:nt,result:at}}}function stripHashFromPath(s){let a=typeof s=="string"?parsePath(s):s;return createPath(_extends$3({},a,{hash:""}))}function isHashChangeOnly(s,a){return s.pathname!==a.pathname||s.search!==a.search?!1:s.hash===""?a.hash!=="":s.hash===a.hash?!0:a.hash!==""}function isRedirectDataStrategyResultResult(s){return isResponse$2(s.result)&&redirectStatusCodes.has(s.result.status)}function isDeferredResult(s){return s.type===ResultType.deferred}function isErrorResult$2(s){return s.type===ResultType.error}function isRedirectResult(s){return(s&&s.type)===ResultType.redirect}function isDataWithResponseInit(s){return typeof s=="object"&&s!=null&&"type"in s&&"data"in s&&"init"in s&&s.type==="DataWithResponseInit"}function isDeferredData(s){let a=s;return a&&typeof a=="object"&&typeof a.data=="object"&&typeof a.subscribe=="function"&&typeof a.cancel=="function"&&typeof a.resolveData=="function"}function isResponse$2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.headers=="object"&&typeof s.body<"u"}function isValidMethod(s){return validRequestMethods.has(s.toLowerCase())}function isMutationMethod(s){return validMutationMethods.has(s.toLowerCase())}async function resolveNavigationDeferredResults(s,a,et,nt,at){let mt=Object.entries(a);for(let wt=0;wt<mt.length;wt++){let[$t,Ct]=mt[wt],Dt=s.find(Nt=>(Nt==null?void 0:Nt.route.id)===$t);if(!Dt)continue;let Ft=nt.find(Nt=>Nt.route.id===Dt.route.id),jt=Ft!=null&&!isNewRouteInstance(Ft,Dt)&&(at&&at[Dt.route.id])!==void 0;isDeferredResult(Ct)&&jt&&await resolveDeferredData(Ct,et,!1).then(Nt=>{Nt&&(a[$t]=Nt)})}}async function resolveFetcherDeferredResults(s,a,et){for(let nt=0;nt<et.length;nt++){let{key:at,routeId:mt,controller:wt}=et[nt],$t=a[at];s.find(Dt=>(Dt==null?void 0:Dt.route.id)===mt)&&isDeferredResult($t)&&(invariant$Q(wt,"Expected an AbortController for revalidating fetcher deferred result"),await resolveDeferredData($t,wt.signal,!0).then(Dt=>{Dt&&(a[at]=Dt)}))}}async function resolveDeferredData(s,a,et){if(et===void 0&&(et=!1),!await s.deferredData.resolveData(a)){if(et)try{return{type:ResultType.data,data:s.deferredData.unwrappedData}}catch(at){return{type:ResultType.error,error:at}}return{type:ResultType.data,data:s.deferredData.data}}}function hasNakedIndexQuery(s){return new URLSearchParams(s).getAll("index").some(a=>a==="")}function getTargetMatch(s,a){let et=typeof a=="string"?parsePath(a).search:a.search;if(s[s.length-1].route.index&&hasNakedIndexQuery(et||""))return s[s.length-1];let nt=getPathContributingMatches(s);return nt[nt.length-1]}function getSubmissionFromNavigation(s){let{formMethod:a,formAction:et,formEncType:nt,text:at,formData:mt,json:wt}=s;if(!(!a||!et||!nt)){if(at!=null)return{formMethod:a,formAction:et,formEncType:nt,formData:void 0,json:void 0,text:at};if(mt!=null)return{formMethod:a,formAction:et,formEncType:nt,formData:mt,json:void 0,text:void 0};if(wt!==void 0)return{formMethod:a,formAction:et,formEncType:nt,formData:void 0,json:wt,text:void 0}}}function getLoadingNavigation(s,a){return a?{state:"loading",location:s,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}:{state:"loading",location:s,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(s,a){return{state:"submitting",location:s,formMethod:a.formMethod,formAction:a.formAction,formEncType:a.formEncType,formData:a.formData,json:a.json,text:a.text}}function getLoadingFetcher(s,a){return s?{state:"loading",formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text,data:a}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:a}}function getSubmittingFetcher(s,a){return{state:"submitting",formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text,data:a?a.data:void 0}}function getDoneFetcher(s){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function restoreAppliedTransitions(s,a){try{let et=s.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(et){let nt=JSON.parse(et);for(let[at,mt]of Object.entries(nt||{}))mt&&Array.isArray(mt)&&a.set(at,new Set(mt||[]))}}catch{}}function persistAppliedTransitions(s,a){if(a.size>0){let et={};for(let[nt,at]of a)et[nt]=[...at];try{s.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(et))}catch(nt){warning$4(!1,"Failed to save applied view transitions in sessionStorage ("+nt+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var et=arguments[a];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(s[nt]=et[nt])}return s},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(s,a){let{relative:et}=a===void 0?{}:a;useInRouterContext()||invariant$Q(!1);let{basename:nt,navigator:at}=reactExports.useContext(NavigationContext),{hash:mt,pathname:wt,search:$t}=useResolvedPath(s,{relative:et}),Ct=wt;return nt!=="/"&&(Ct=wt==="/"?nt:joinPaths([nt,wt])),at.createHref({pathname:Ct,search:$t,hash:mt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$Q(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(s){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(s)}function useNavigate(){let{isDataRoute:s}=reactExports.useContext(RouteContext);return s?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$Q(!1);let s=reactExports.useContext(DataRouterContext),{basename:a,future:et,navigator:nt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:mt}=useLocation(),wt=JSON.stringify(getResolveToMatches(at,et.v7_relativeSplatPath)),$t=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{$t.current=!0}),reactExports.useCallback(function(Dt,Ft){if(Ft===void 0&&(Ft={}),!$t.current)return;if(typeof Dt=="number"){nt.go(Dt);return}let jt=resolveTo(Dt,JSON.parse(wt),mt,Ft.relative==="path");s==null&&a!=="/"&&(jt.pathname=jt.pathname==="/"?a:joinPaths([a,jt.pathname])),(Ft.replace?nt.replace:nt.push)(jt,Ft.state,Ft)},[a,nt,wt,mt,s])}const OutletContext=reactExports.createContext(null);function useOutlet(s){let a=reactExports.useContext(RouteContext).outlet;return a&&reactExports.createElement(OutletContext.Provider,{value:s},a)}function useParams(){let{matches:s}=reactExports.useContext(RouteContext),a=s[s.length-1];return a?a.params:{}}function useResolvedPath(s,a){let{relative:et}=a===void 0?{}:a,{future:nt}=reactExports.useContext(NavigationContext),{matches:at}=reactExports.useContext(RouteContext),{pathname:mt}=useLocation(),wt=JSON.stringify(getResolveToMatches(at,nt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(s,JSON.parse(wt),mt,et==="path"),[s,wt,mt,et])}function useRoutesImpl(s,a,et,nt){useInRouterContext()||invariant$Q(!1);let{navigator:at,static:mt}=reactExports.useContext(NavigationContext),{matches:wt}=reactExports.useContext(RouteContext),$t=wt[wt.length-1],Ct=$t?$t.params:{};$t&&$t.pathname;let Dt=$t?$t.pathnameBase:"/";$t&&$t.route;let Ft=useLocation(),jt;jt=Ft;let Nt=jt.pathname||"/",Lt=Nt;if(Dt!=="/"){let Yt=Dt.replace(/^\//,"").split("/");Lt="/"+Nt.replace(/^\//,"").split("/").slice(Yt.length).join("/")}let Ut=!mt&&et&&et.matches&&et.matches.length>0?et.matches:matchRoutes(s,{pathname:Lt});return _renderMatches(Ut&&Ut.map(Yt=>Object.assign({},Yt,{params:Object.assign({},Ct,Yt.params),pathname:joinPaths([Dt,at.encodeLocation?at.encodeLocation(Yt.pathname).pathname:Yt.pathname]),pathnameBase:Yt.pathnameBase==="/"?Dt:joinPaths([Dt,at.encodeLocation?at.encodeLocation(Yt.pathnameBase).pathname:Yt.pathnameBase])})),wt,et,nt)}function DefaultErrorComponent(){let s=useRouteError(),a=isRouteErrorResponse(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),et=s instanceof Error?s.stack:null,at={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},a),et?reactExports.createElement("pre",{style:at},et):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,et){return et.location!==a.location||et.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:et.error,location:et.location,revalidation:a.revalidation||et.revalidation}}componentDidCatch(a,et){console.error("React Router caught the following error during render",a,et)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(s){let{routeContext:a,match:et,children:nt}=s,at=reactExports.useContext(DataRouterContext);return at&&at.static&&at.staticContext&&(et.route.errorElement||et.route.ErrorBoundary)&&(at.staticContext._deepestRenderedBoundaryId=et.route.id),reactExports.createElement(RouteContext.Provider,{value:a},nt)}function _renderMatches(s,a,et,nt){var at;if(a===void 0&&(a=[]),et===void 0&&(et=null),nt===void 0&&(nt=null),s==null){var mt;if(!et)return null;if(et.errors)s=et.matches;else if((mt=nt)!=null&&mt.v7_partialHydration&&a.length===0&&!et.initialized&&et.matches.length>0)s=et.matches;else return null}let wt=s,$t=(at=et)==null?void 0:at.errors;if($t!=null){let Ft=wt.findIndex(jt=>jt.route.id&&($t==null?void 0:$t[jt.route.id])!==void 0);Ft>=0||invariant$Q(!1),wt=wt.slice(0,Math.min(wt.length,Ft+1))}let Ct=!1,Dt=-1;if(et&&nt&&nt.v7_partialHydration)for(let Ft=0;Ft<wt.length;Ft++){let jt=wt[Ft];if((jt.route.HydrateFallback||jt.route.hydrateFallbackElement)&&(Dt=Ft),jt.route.id){let{loaderData:Nt,errors:Lt}=et,Ut=jt.route.loader&&Nt[jt.route.id]===void 0&&(!Lt||Lt[jt.route.id]===void 0);if(jt.route.lazy||Ut){Ct=!0,Dt>=0?wt=wt.slice(0,Dt+1):wt=[wt[0]];break}}}return wt.reduceRight((Ft,jt,Nt)=>{let Lt,Ut=!1,Vt=null,Yt=null;et&&(Lt=$t&&jt.route.id?$t[jt.route.id]:void 0,Vt=jt.route.errorElement||defaultErrorElement,Ct&&(Dt<0&&Nt===0?(warningOnce("route-fallback"),Ut=!0,Yt=null):Dt===Nt&&(Ut=!0,Yt=jt.route.hydrateFallbackElement||null)));let er=a.concat(wt.slice(0,Nt+1)),tr=()=>{let nr;return Lt?nr=Vt:Ut?nr=Yt:jt.route.Component?nr=reactExports.createElement(jt.route.Component,null):jt.route.element?nr=jt.route.element:nr=Ft,reactExports.createElement(RenderedRoute,{match:jt,routeContext:{outlet:Ft,matches:er,isDataRoute:et!=null},children:nr})};return et&&(jt.route.ErrorBoundary||jt.route.errorElement||Nt===0)?reactExports.createElement(RenderErrorBoundary,{location:et.location,revalidation:et.revalidation,component:Vt,error:Lt,children:tr(),routeContext:{outlet:null,matches:er,isDataRoute:!0}}):tr()},null)}var DataRouterHook$1=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(DataRouterHook$1||{}),DataRouterStateHook$1=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(DataRouterStateHook$1||{});function useDataRouterContext(s){let a=reactExports.useContext(DataRouterContext);return a||invariant$Q(!1),a}function useDataRouterState(s){let a=reactExports.useContext(DataRouterStateContext);return a||invariant$Q(!1),a}function useRouteContext(s){let a=reactExports.useContext(RouteContext);return a||invariant$Q(!1),a}function useCurrentRouteId(s){let a=useRouteContext(),et=a.matches[a.matches.length-1];return et.route.id||invariant$Q(!1),et.route.id}function useRouteError(){var s;let a=reactExports.useContext(RouteErrorContext),et=useDataRouterState(),nt=useCurrentRouteId();return a!==void 0?a:(s=et.errors)==null?void 0:s[nt]}function useNavigateStable(){let{router:s}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),a=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{et.current=!0}),reactExports.useCallback(function(at,mt){mt===void 0&&(mt={}),et.current&&(typeof at=="number"?s.navigate(at):s.navigate(at,_extends$2({fromRouteId:a},mt)))},[s,a])}const alreadyWarned$1={};function warningOnce(s,a,et){alreadyWarned$1[s]||(alreadyWarned$1[s]=!0)}function logV6DeprecationWarnings(s,a){s==null||s.v7_startTransition,(s==null?void 0:s.v7_relativeSplatPath)===void 0&&(!a||a.v7_relativeSplatPath),a&&(a.v7_fetcherPersist,a.v7_normalizeFormMethod,a.v7_partialHydration,a.v7_skipActionErrorRevalidation)}function Navigate(s){let{to:a,replace:et,state:nt,relative:at}=s;useInRouterContext()||invariant$Q(!1);let{future:mt,static:wt}=reactExports.useContext(NavigationContext),{matches:$t}=reactExports.useContext(RouteContext),{pathname:Ct}=useLocation(),Dt=useNavigate(),Ft=resolveTo(a,getResolveToMatches($t,mt.v7_relativeSplatPath),Ct,at==="path"),jt=JSON.stringify(Ft);return reactExports.useEffect(()=>Dt(JSON.parse(jt),{replace:et,state:nt,relative:at}),[Dt,jt,at,et,nt]),null}function Outlet(s){return useOutlet(s.context)}function Router(s){let{basename:a="/",children:et=null,location:nt,navigationType:at=Action$1.Pop,navigator:mt,static:wt=!1,future:$t}=s;useInRouterContext()&&invariant$Q(!1);let Ct=a.replace(/^\/*/,"/"),Dt=reactExports.useMemo(()=>({basename:Ct,navigator:mt,static:wt,future:_extends$2({v7_relativeSplatPath:!1},$t)}),[Ct,$t,mt,wt]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:Ft="/",search:jt="",hash:Nt="",state:Lt=null,key:Ut="default"}=nt,Vt=reactExports.useMemo(()=>{let Yt=stripBasename(Ft,Ct);return Yt==null?null:{location:{pathname:Yt,search:jt,hash:Nt,state:Lt,key:Ut},navigationType:at}},[Ct,Ft,jt,Nt,Lt,Ut,at]);return Vt==null?null:reactExports.createElement(NavigationContext.Provider,{value:Dt},reactExports.createElement(LocationContext.Provider,{children:et,value:Vt}))}new Promise(()=>{});function mapRouteProperties(s){let a={hasErrorBoundary:s.ErrorBoundary!=null||s.errorElement!=null};return s.Component&&Object.assign(a,{element:reactExports.createElement(s.Component),Component:void 0}),s.HydrateFallback&&Object.assign(a,{hydrateFallbackElement:reactExports.createElement(s.HydrateFallback),HydrateFallback:void 0}),s.ErrorBoundary&&Object.assign(a,{errorElement:reactExports.createElement(s.ErrorBoundary),ErrorBoundary:void 0}),a}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var et=arguments[a];for(var nt in et)Object.prototype.hasOwnProperty.call(et,nt)&&(s[nt]=et[nt])}return s},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(s,a){if(s==null)return{};var et={},nt=Object.keys(s),at,mt;for(mt=0;mt<nt.length;mt++)at=nt[mt],!(a.indexOf(at)>=0)&&(et[at]=s[at]);return et}function isModifiedEvent(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function shouldProcessLinkClick(s,a){return s.button===0&&(!a||a==="_self")&&!isModifiedEvent(s)}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}function createBrowserRouter(s,a){return createRouter({basename:void 0,future:_extends$1({},void 0,{v7_prependBasename:!0}),history:createBrowserHistory({window:void 0}),hydrationData:parseHydrationData(),routes:s,mapRouteProperties,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function parseHydrationData(){var s;let a=(s=window)==null?void 0:s.__staticRouterHydrationData;return a&&a.errors&&(a=_extends$1({},a,{errors:deserializeErrors(a.errors)})),a}function deserializeErrors(s){if(!s)return null;let a=Object.entries(s),et={};for(let[nt,at]of a)if(at&&at.__type==="RouteErrorResponse")et[nt]=new ErrorResponseImpl(at.status,at.statusText,at.data,at.internal===!0);else if(at&&at.__type==="Error"){if(at.__subType){let mt=window[at.__subType];if(typeof mt=="function")try{let wt=new mt(at.message);wt.stack="",et[nt]=wt}catch{}}if(et[nt]==null){let mt=new Error(at.message);mt.stack="",et[nt]=mt}}else et[nt]=at;return et}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),FetchersContext=reactExports.createContext(new Map),START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION],FLUSH_SYNC="flushSync",flushSyncImpl=ReactDOM$1[FLUSH_SYNC];function startTransitionSafe(s){startTransitionImpl?startTransitionImpl(s):s()}function flushSyncSafe(s){flushSyncImpl?flushSyncImpl(s):s()}class Deferred{constructor(){this.status="pending",this.promise=new Promise((a,et)=>{this.resolve=nt=>{this.status==="pending"&&(this.status="resolved",a(nt))},this.reject=nt=>{this.status==="pending"&&(this.status="rejected",et(nt))}})}}function RouterProvider(s){let{fallbackElement:a,router:et,future:nt}=s,[at,mt]=reactExports.useState(et.state),[wt,$t]=reactExports.useState(),[Ct,Dt]=reactExports.useState({isTransitioning:!1}),[Ft,jt]=reactExports.useState(),[Nt,Lt]=reactExports.useState(),[Ut,Vt]=reactExports.useState(),Yt=reactExports.useRef(new Map),{v7_startTransition:er}=nt||{},tr=reactExports.useCallback(yr=>{er?startTransitionSafe(yr):yr()},[er]),nr=reactExports.useCallback((yr,$r)=>{let{deletedFetchers:Sr,flushSync:wr,viewTransitionOpts:fr}=$r;yr.fetchers.forEach((ir,rr)=>{ir.data!==void 0&&Yt.current.set(rr,ir.data)}),Sr.forEach(ir=>Yt.current.delete(ir));let _r=et.window==null||et.window.document==null||typeof et.window.document.startViewTransition!="function";if(!fr||_r){wr?flushSyncSafe(()=>mt(yr)):tr(()=>mt(yr));return}if(wr){flushSyncSafe(()=>{Nt&&(Ft&&Ft.resolve(),Nt.skipTransition()),Dt({isTransitioning:!0,flushSync:!0,currentLocation:fr.currentLocation,nextLocation:fr.nextLocation})});let ir=et.window.document.startViewTransition(()=>{flushSyncSafe(()=>mt(yr))});ir.finished.finally(()=>{flushSyncSafe(()=>{jt(void 0),Lt(void 0),$t(void 0),Dt({isTransitioning:!1})})}),flushSyncSafe(()=>Lt(ir));return}Nt?(Ft&&Ft.resolve(),Nt.skipTransition(),Vt({state:yr,currentLocation:fr.currentLocation,nextLocation:fr.nextLocation})):($t(yr),Dt({isTransitioning:!0,flushSync:!1,currentLocation:fr.currentLocation,nextLocation:fr.nextLocation}))},[et.window,Nt,Ft,Yt,tr]);reactExports.useLayoutEffect(()=>et.subscribe(nr),[et,nr]),reactExports.useEffect(()=>{Ct.isTransitioning&&!Ct.flushSync&&jt(new Deferred)},[Ct]),reactExports.useEffect(()=>{if(Ft&&wt&&et.window){let yr=wt,$r=Ft.promise,Sr=et.window.document.startViewTransition(async()=>{tr(()=>mt(yr)),await $r});Sr.finished.finally(()=>{jt(void 0),Lt(void 0),$t(void 0),Dt({isTransitioning:!1})}),Lt(Sr)}},[tr,wt,Ft,et.window]),reactExports.useEffect(()=>{Ft&&wt&&at.location.key===wt.location.key&&Ft.resolve()},[Ft,Nt,at.location,wt]),reactExports.useEffect(()=>{!Ct.isTransitioning&&Ut&&($t(Ut.state),Dt({isTransitioning:!0,flushSync:!1,currentLocation:Ut.currentLocation,nextLocation:Ut.nextLocation}),Vt(void 0))},[Ct.isTransitioning,Ut]),reactExports.useEffect(()=>{},[]);let sr=reactExports.useMemo(()=>({createHref:et.createHref,encodeLocation:et.encodeLocation,go:yr=>et.navigate(yr),push:(yr,$r,Sr)=>et.navigate(yr,{state:$r,preventScrollReset:Sr==null?void 0:Sr.preventScrollReset}),replace:(yr,$r,Sr)=>et.navigate(yr,{replace:!0,state:$r,preventScrollReset:Sr==null?void 0:Sr.preventScrollReset})}),[et]),dr=et.basename||"/",br=reactExports.useMemo(()=>({router:et,navigator:sr,static:!1,basename:dr}),[et,sr,dr]),vr=reactExports.useMemo(()=>({v7_relativeSplatPath:et.future.v7_relativeSplatPath}),[et.future.v7_relativeSplatPath]);return reactExports.useEffect(()=>logV6DeprecationWarnings(nt,et.future),[nt,et.future]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:br},reactExports.createElement(DataRouterStateContext.Provider,{value:at},reactExports.createElement(FetchersContext.Provider,{value:Yt.current},reactExports.createElement(ViewTransitionContext.Provider,{value:Ct},reactExports.createElement(Router,{basename:dr,location:at.location,navigationType:at.historyAction,navigator:sr,future:vr},at.initialized||et.future.v7_partialHydration?reactExports.createElement(MemoizedDataRoutes,{routes:et.routes,future:et.future,state:at}):a))))),null)}const MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes(s){let{routes:a,future:et,state:nt}=s;return useRoutesImpl(a,void 0,nt,et)}const isBrowser$3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function(a,et){let{onClick:nt,relative:at,reloadDocument:mt,replace:wt,state:$t,target:Ct,to:Dt,preventScrollReset:Ft,viewTransition:jt}=a,Nt=_objectWithoutPropertiesLoose$1(a,_excluded$2),{basename:Lt}=reactExports.useContext(NavigationContext),Ut,Vt=!1;if(typeof Dt=="string"&&ABSOLUTE_URL_REGEX.test(Dt)&&(Ut=Dt,isBrowser$3))try{let nr=new URL(window.location.href),sr=Dt.startsWith("//")?new URL(nr.protocol+Dt):new URL(Dt),dr=stripBasename(sr.pathname,Lt);sr.origin===nr.origin&&dr!=null?Dt=dr+sr.search+sr.hash:Vt=!0}catch{}let Yt=useHref(Dt,{relative:at}),er=useLinkClickHandler(Dt,{replace:wt,state:$t,target:Ct,preventScrollReset:Ft,relative:at,viewTransition:jt});function tr(nr){nt&&nt(nr),nr.defaultPrevented||er(nr)}return reactExports.createElement("a",_extends$1({},Nt,{href:Ut||Yt,onClick:Vt||mt?nt:tr,ref:et,target:Ct}))});var DataRouterHook;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(s,a){let{target:et,replace:nt,state:at,preventScrollReset:mt,relative:wt,viewTransition:$t}=a===void 0?{}:a,Ct=useNavigate(),Dt=useLocation(),Ft=useResolvedPath(s,{relative:wt});return reactExports.useCallback(jt=>{if(shouldProcessLinkClick(jt,et)){jt.preventDefault();let Nt=nt!==void 0?nt:createPath(Dt)===createPath(Ft);Ct(s,{replace:Nt,state:at,preventScrollReset:mt,relative:wt,viewTransition:$t})}},[Dt,Ct,Ft,nt,at,et,s,mt,wt,$t])}const scriptRel="modulepreload",assetsURL=function(s){return"/"+s},seen={},__vitePreload=function(a,et,nt){let at=Promise.resolve();if(et&&et.length>0){document.getElementsByTagName("link");const wt=document.querySelector("meta[property=csp-nonce]"),$t=(wt==null?void 0:wt.nonce)||(wt==null?void 0:wt.getAttribute("nonce"));at=Promise.allSettled(et.map(Ct=>{if(Ct=assetsURL(Ct),Ct in seen)return;seen[Ct]=!0;const Dt=Ct.endsWith(".css"),Ft=Dt?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Ct}"]${Ft}`))return;const jt=document.createElement("link");if(jt.rel=Dt?"stylesheet":scriptRel,Dt||(jt.as="script"),jt.crossOrigin="",jt.href=Ct,$t&&jt.setAttribute("nonce",$t),document.head.appendChild(jt),Dt)return new Promise((Nt,Lt)=>{jt.addEventListener("load",Nt),jt.addEventListener("error",()=>Lt(new Error(`Unable to preload CSS for ${Ct}`)))})}))}function mt(wt){const $t=new Event("vite:preloadError",{cancelable:!0});if($t.payload=wt,window.dispatchEvent($t),!$t.defaultPrevented)throw wt}return at.then(wt=>{for(const $t of wt||[])$t.status==="rejected"&&mt($t.reason);return a().catch(mt)})},GeneralLoading=()=>{const s=reactExports.useRef(null);return reactExports.useEffect(()=>{if(s.current){const a=s.current.style;a.setProperty("--size-loader","50px"),a.setProperty("--size-orbe","10px")}},[]),jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",background:"#161616",position:"relative"},children:jsxRuntimeExports.jsx("div",{ref:s,style:{width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px"},children:jsxRuntimeExports.jsx("img",{src:"/images/img-bg-loading.gif",alt:"icon",style:{width:"100px",height:"100px"}})})})},store$c=(s,a)=>({showConvertModel:!0,phaseDividendInfoMap:{},dividendManager:void 0,XCetusManager:void 0,dividendRewardList:[],lockCetusListLoading:!1,veNFT:void 0,veNFTLoading:!1,lockCetusList:[],owner:"",setVeNFTLoading:et=>{s(()=>({veNFTLoading:et}))},setVeNFT:(et,nt)=>{s(()=>({veNFT:et,owner:nt}))},setLockCetusList:et=>{s(()=>({lockCetusList:[...et]}))},setLockCetusListLoading:et=>{s(()=>({lockCetusListLoading:et}))},setXCetusManager:et=>{s(()=>({XCetusManager:et}))},setDividendManager:et=>{s(()=>({dividendManager:et}))},setDividendRewardList:et=>{s(()=>({dividendRewardList:et}))},setPhaseDividendInfoMap:et=>{const nt=a().phaseDividendInfoMap;nt[et.phase]=et,s(()=>({phaseDividendInfoMap:{...nt}}))},setShowConvertModel:et=>{s(()=>({showConvertModel:et}))},clearData:()=>{s(()=>({veNFT:void 0,owner:"",lockCetusList:[],lockCetusListLoading:!1,veNFTLoading:!1,dividendRewardList:[]}))}}),useXCetusStore=create$3(persist(store$c,{name:"useXCetusStore",partialize:s=>{const{owner:a,veNFT:et,lockCetusList:nt,XCetusManager:at,dividendManager:mt,phaseDividendInfoMap:wt,showConvertModel:$t}=s;return{owner:a,veNFT:et,lockCetusList:nt,XCetusManager:at,dividendManager:mt,phaseDividendInfoMap:wt,showConvertModel:$t}}}));function useDebounceFunction(s,a=1e3){const et=reactExports.useRef(),nt=reactExports.useCallback((...at)=>{et.current&&clearTimeout(et.current),et.current=setTimeout(()=>{s(...at)},a)},[s,a]);return reactExports.useEffect(()=>()=>{et.current&&clearTimeout(et.current)},[]),nt}function useWindowWidth(){const[s,a]=reactExports.useState(window.innerWidth),et=useDebounceFunction(()=>{a(window.innerWidth)},300);reactExports.useEffect(()=>(window.addEventListener("resize",et),()=>{window.removeEventListener("resize",et)}),[]);const nt=reactExports.useMemo(()=>s<810,[s]);return{windowWidth:s,isApp:nt}}const isSuiObjectType=s=>s.split("::").length==3,add0x=s=>{let a;return s.startsWith("0x")?a=s:a=`0x${s}`,a},getSuiObjectType=s=>{const a=s.split("::");return a.length==3?`${add0x(a[0])}::${a[1]}::${a[2].toUpperCase()}`.replace(/\s+/g,""):s.toLowerCase()};function suiAddressLongToShort(s){return s.toLocaleLowerCase()=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::sui"?"0x2::sui::SUI":s}const fetchGet=async function(s,a,et=3e4){const nt=[];let at="";if(a){for(const Ct in a){const Dt=`${Ct}=${a[Ct]}`;nt.push(Dt)}const $t=nt.join("&");at=`${s}?${$t}`}else at=s;const mt=new AbortController,wt=setTimeout(()=>{mt.abort()},et);try{const $t=await fetch(at,{signal:mt.signal});if(clearTimeout(wt),!$t.ok)throw new Error("Request failed");const Ct=await $t.json();return(Ct==null?void 0:Ct.data)||Ct}catch($t){throw clearTimeout(wt),$t.name==="AbortError"?new Error("request time out"):$t}},fetchPost=async function(s,a,et=3e4,nt){const at=new AbortController,mt=setTimeout(()=>{at.abort()},et);try{const wt=await fetch(s,{headers:nt,body:JSON.stringify(a),method:"POST",signal:at.signal});if(clearTimeout(mt),!wt.ok)throw new Error("Request failed");return wt.json()}catch(wt){throw clearTimeout(mt),wt.name==="AbortError"?new Error("request time out"):wt}};var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(s){var a=s.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var et=s.indexOf("=");et===-1&&(et=a);var nt=et===a?0:4-et%4;return[et,nt]}function byteLength(s){var a=getLens(s),et=a[0],nt=a[1];return(et+nt)*3/4-nt}function _byteLength(s,a,et){return(a+et)*3/4-et}function toByteArray(s){var a,et=getLens(s),nt=et[0],at=et[1],mt=new Arr(_byteLength(s,nt,at)),wt=0,$t=at>0?nt-4:nt,Ct;for(Ct=0;Ct<$t;Ct+=4)a=revLookup[s.charCodeAt(Ct)]<<18|revLookup[s.charCodeAt(Ct+1)]<<12|revLookup[s.charCodeAt(Ct+2)]<<6|revLookup[s.charCodeAt(Ct+3)],mt[wt++]=a>>16&255,mt[wt++]=a>>8&255,mt[wt++]=a&255;return at===2&&(a=revLookup[s.charCodeAt(Ct)]<<2|revLookup[s.charCodeAt(Ct+1)]>>4,mt[wt++]=a&255),at===1&&(a=revLookup[s.charCodeAt(Ct)]<<10|revLookup[s.charCodeAt(Ct+1)]<<4|revLookup[s.charCodeAt(Ct+2)]>>2,mt[wt++]=a>>8&255,mt[wt++]=a&255),mt}function tripletToBase64(s){return lookup[s>>18&63]+lookup[s>>12&63]+lookup[s>>6&63]+lookup[s&63]}function encodeChunk(s,a,et){for(var nt,at=[],mt=a;mt<et;mt+=3)nt=(s[mt]<<16&16711680)+(s[mt+1]<<8&65280)+(s[mt+2]&255),at.push(tripletToBase64(nt));return at.join("")}function fromByteArray(s){for(var a,et=s.length,nt=et%3,at=[],mt=16383,wt=0,$t=et-nt;wt<$t;wt+=mt)at.push(encodeChunk(s,wt,wt+mt>$t?$t:wt+mt));return nt===1?(a=s[et-1],at.push(lookup[a>>2]+lookup[a<<4&63]+"==")):nt===2&&(a=(s[et-2]<<8)+s[et-1],at.push(lookup[a>>10]+lookup[a>>4&63]+lookup[a<<2&63]+"=")),at.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(s,a,et,nt,at){var mt,wt,$t=at*8-nt-1,Ct=(1<<$t)-1,Dt=Ct>>1,Ft=-7,jt=et?at-1:0,Nt=et?-1:1,Lt=s[a+jt];for(jt+=Nt,mt=Lt&(1<<-Ft)-1,Lt>>=-Ft,Ft+=$t;Ft>0;mt=mt*256+s[a+jt],jt+=Nt,Ft-=8);for(wt=mt&(1<<-Ft)-1,mt>>=-Ft,Ft+=nt;Ft>0;wt=wt*256+s[a+jt],jt+=Nt,Ft-=8);if(mt===0)mt=1-Dt;else{if(mt===Ct)return wt?NaN:(Lt?-1:1)*(1/0);wt=wt+Math.pow(2,nt),mt=mt-Dt}return(Lt?-1:1)*wt*Math.pow(2,mt-nt)};ieee754.write=function(s,a,et,nt,at,mt){var wt,$t,Ct,Dt=mt*8-at-1,Ft=(1<<Dt)-1,jt=Ft>>1,Nt=at===23?Math.pow(2,-24)-Math.pow(2,-77):0,Lt=nt?0:mt-1,Ut=nt?1:-1,Vt=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?($t=isNaN(a)?1:0,wt=Ft):(wt=Math.floor(Math.log(a)/Math.LN2),a*(Ct=Math.pow(2,-wt))<1&&(wt--,Ct*=2),wt+jt>=1?a+=Nt/Ct:a+=Nt*Math.pow(2,1-jt),a*Ct>=2&&(wt++,Ct/=2),wt+jt>=Ft?($t=0,wt=Ft):wt+jt>=1?($t=(a*Ct-1)*Math.pow(2,at),wt=wt+jt):($t=a*Math.pow(2,jt-1)*Math.pow(2,at),wt=0));at>=8;s[et+Lt]=$t&255,Lt+=Ut,$t/=256,at-=8);for(wt=wt<<at|$t,Dt+=at;Dt>0;s[et+Lt]=wt&255,Lt+=Ut,wt/=256,Dt-=8);s[et+Lt-Ut]|=Vt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(s){const a=base64Js,et=ieee754,nt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=Ft,s.SlowBuffer=dr,s.INSPECT_MAX_BYTES=50;const at=2147483647;s.kMaxLength=at;const{Uint8Array:mt,ArrayBuffer:wt,SharedArrayBuffer:$t}=globalThis;Ft.TYPED_ARRAY_SUPPORT=Ct(),!Ft.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ct(){try{const Or=new mt(1),Cr={foo:function(){return 42}};return Object.setPrototypeOf(Cr,mt.prototype),Object.setPrototypeOf(Or,Cr),Or.foo()===42}catch{return!1}}Object.defineProperty(Ft.prototype,"parent",{enumerable:!0,get:function(){if(Ft.isBuffer(this))return this.buffer}}),Object.defineProperty(Ft.prototype,"offset",{enumerable:!0,get:function(){if(Ft.isBuffer(this))return this.byteOffset}});function Dt(Or){if(Or>at)throw new RangeError('The value "'+Or+'" is invalid for option "size"');const Cr=new mt(Or);return Object.setPrototypeOf(Cr,Ft.prototype),Cr}function Ft(Or,Cr,kr){if(typeof Or=="number"){if(typeof Cr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ut(Or)}return jt(Or,Cr,kr)}Ft.poolSize=8192;function jt(Or,Cr,kr){if(typeof Or=="string")return Vt(Or,Cr);if(wt.isView(Or))return er(Or);if(Or==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Or);if(Wn(Or,wt)||Or&&Wn(Or.buffer,wt)||typeof $t<"u"&&(Wn(Or,$t)||Or&&Wn(Or.buffer,$t)))return tr(Or,Cr,kr);if(typeof Or=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Lr=Or.valueOf&&Or.valueOf();if(Lr!=null&&Lr!==Or)return Ft.from(Lr,Cr,kr);const Zr=nr(Or);if(Zr)return Zr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Or[Symbol.toPrimitive]=="function")return Ft.from(Or[Symbol.toPrimitive]("string"),Cr,kr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Or)}Ft.from=function(Or,Cr,kr){return jt(Or,Cr,kr)},Object.setPrototypeOf(Ft.prototype,mt.prototype),Object.setPrototypeOf(Ft,mt);function Nt(Or){if(typeof Or!="number")throw new TypeError('"size" argument must be of type number');if(Or<0)throw new RangeError('The value "'+Or+'" is invalid for option "size"')}function Lt(Or,Cr,kr){return Nt(Or),Or<=0?Dt(Or):Cr!==void 0?typeof kr=="string"?Dt(Or).fill(Cr,kr):Dt(Or).fill(Cr):Dt(Or)}Ft.alloc=function(Or,Cr,kr){return Lt(Or,Cr,kr)};function Ut(Or){return Nt(Or),Dt(Or<0?0:sr(Or)|0)}Ft.allocUnsafe=function(Or){return Ut(Or)},Ft.allocUnsafeSlow=function(Or){return Ut(Or)};function Vt(Or,Cr){if((typeof Cr!="string"||Cr==="")&&(Cr="utf8"),!Ft.isEncoding(Cr))throw new TypeError("Unknown encoding: "+Cr);const kr=br(Or,Cr)|0;let Lr=Dt(kr);const Zr=Lr.write(Or,Cr);return Zr!==kr&&(Lr=Lr.slice(0,Zr)),Lr}function Yt(Or){const Cr=Or.length<0?0:sr(Or.length)|0,kr=Dt(Cr);for(let Lr=0;Lr<Cr;Lr+=1)kr[Lr]=Or[Lr]&255;return kr}function er(Or){if(Wn(Or,mt)){const Cr=new mt(Or);return tr(Cr.buffer,Cr.byteOffset,Cr.byteLength)}return Yt(Or)}function tr(Or,Cr,kr){if(Cr<0||Or.byteLength<Cr)throw new RangeError('"offset" is outside of buffer bounds');if(Or.byteLength<Cr+(kr||0))throw new RangeError('"length" is outside of buffer bounds');let Lr;return Cr===void 0&&kr===void 0?Lr=new mt(Or):kr===void 0?Lr=new mt(Or,Cr):Lr=new mt(Or,Cr,kr),Object.setPrototypeOf(Lr,Ft.prototype),Lr}function nr(Or){if(Ft.isBuffer(Or)){const Cr=sr(Or.length)|0,kr=Dt(Cr);return kr.length===0||Or.copy(kr,0,0,Cr),kr}if(Or.length!==void 0)return typeof Or.length!="number"||io(Or.length)?Dt(0):Yt(Or);if(Or.type==="Buffer"&&Array.isArray(Or.data))return Yt(Or.data)}function sr(Or){if(Or>=at)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+at.toString(16)+" bytes");return Or|0}function dr(Or){return+Or!=Or&&(Or=0),Ft.alloc(+Or)}Ft.isBuffer=function(Cr){return Cr!=null&&Cr._isBuffer===!0&&Cr!==Ft.prototype},Ft.compare=function(Cr,kr){if(Wn(Cr,mt)&&(Cr=Ft.from(Cr,Cr.offset,Cr.byteLength)),Wn(kr,mt)&&(kr=Ft.from(kr,kr.offset,kr.byteLength)),!Ft.isBuffer(Cr)||!Ft.isBuffer(kr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Cr===kr)return 0;let Lr=Cr.length,Zr=kr.length;for(let an=0,rn=Math.min(Lr,Zr);an<rn;++an)if(Cr[an]!==kr[an]){Lr=Cr[an],Zr=kr[an];break}return Lr<Zr?-1:Zr<Lr?1:0},Ft.isEncoding=function(Cr){switch(String(Cr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ft.concat=function(Cr,kr){if(!Array.isArray(Cr))throw new TypeError('"list" argument must be an Array of Buffers');if(Cr.length===0)return Ft.alloc(0);let Lr;if(kr===void 0)for(kr=0,Lr=0;Lr<Cr.length;++Lr)kr+=Cr[Lr].length;const Zr=Ft.allocUnsafe(kr);let an=0;for(Lr=0;Lr<Cr.length;++Lr){let rn=Cr[Lr];if(Wn(rn,mt))an+rn.length>Zr.length?(Ft.isBuffer(rn)||(rn=Ft.from(rn)),rn.copy(Zr,an)):mt.prototype.set.call(Zr,rn,an);else if(Ft.isBuffer(rn))rn.copy(Zr,an);else throw new TypeError('"list" argument must be an Array of Buffers');an+=rn.length}return Zr};function br(Or,Cr){if(Ft.isBuffer(Or))return Or.length;if(wt.isView(Or)||Wn(Or,wt))return Or.byteLength;if(typeof Or!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Or);const kr=Or.length,Lr=arguments.length>2&&arguments[2]===!0;if(!Lr&&kr===0)return 0;let Zr=!1;for(;;)switch(Cr){case"ascii":case"latin1":case"binary":return kr;case"utf8":case"utf-8":return Gr(Or).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kr*2;case"hex":return kr>>>1;case"base64":return Ln(Or).length;default:if(Zr)return Lr?-1:Gr(Or).length;Cr=(""+Cr).toLowerCase(),Zr=!0}}Ft.byteLength=br;function vr(Or,Cr,kr){let Lr=!1;if((Cr===void 0||Cr<0)&&(Cr=0),Cr>this.length||((kr===void 0||kr>this.length)&&(kr=this.length),kr<=0)||(kr>>>=0,Cr>>>=0,kr<=Cr))return"";for(Or||(Or="utf8");;)switch(Or){case"hex":return hr(this,Cr,kr);case"utf8":case"utf-8":return ar(this,Cr,kr);case"ascii":return cr(this,Cr,kr);case"latin1":case"binary":return gr(this,Cr,kr);case"base64":return or(this,Cr,kr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lr(this,Cr,kr);default:if(Lr)throw new TypeError("Unknown encoding: "+Or);Or=(Or+"").toLowerCase(),Lr=!0}}Ft.prototype._isBuffer=!0;function yr(Or,Cr,kr){const Lr=Or[Cr];Or[Cr]=Or[kr],Or[kr]=Lr}Ft.prototype.swap16=function(){const Cr=this.length;if(Cr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let kr=0;kr<Cr;kr+=2)yr(this,kr,kr+1);return this},Ft.prototype.swap32=function(){const Cr=this.length;if(Cr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let kr=0;kr<Cr;kr+=4)yr(this,kr,kr+3),yr(this,kr+1,kr+2);return this},Ft.prototype.swap64=function(){const Cr=this.length;if(Cr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let kr=0;kr<Cr;kr+=8)yr(this,kr,kr+7),yr(this,kr+1,kr+6),yr(this,kr+2,kr+5),yr(this,kr+3,kr+4);return this},Ft.prototype.toString=function(){const Cr=this.length;return Cr===0?"":arguments.length===0?ar(this,0,Cr):vr.apply(this,arguments)},Ft.prototype.toLocaleString=Ft.prototype.toString,Ft.prototype.equals=function(Cr){if(!Ft.isBuffer(Cr))throw new TypeError("Argument must be a Buffer");return this===Cr?!0:Ft.compare(this,Cr)===0},Ft.prototype.inspect=function(){let Cr="";const kr=s.INSPECT_MAX_BYTES;return Cr=this.toString("hex",0,kr).replace(/(.{2})/g,"$1 ").trim(),this.length>kr&&(Cr+=" ... "),"<Buffer "+Cr+">"},nt&&(Ft.prototype[nt]=Ft.prototype.inspect),Ft.prototype.compare=function(Cr,kr,Lr,Zr,an){if(Wn(Cr,mt)&&(Cr=Ft.from(Cr,Cr.offset,Cr.byteLength)),!Ft.isBuffer(Cr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Cr);if(kr===void 0&&(kr=0),Lr===void 0&&(Lr=Cr?Cr.length:0),Zr===void 0&&(Zr=0),an===void 0&&(an=this.length),kr<0||Lr>Cr.length||Zr<0||an>this.length)throw new RangeError("out of range index");if(Zr>=an&&kr>=Lr)return 0;if(Zr>=an)return-1;if(kr>=Lr)return 1;if(kr>>>=0,Lr>>>=0,Zr>>>=0,an>>>=0,this===Cr)return 0;let rn=an-Zr,Yn=Lr-kr;const yo=Math.min(rn,Yn),ro=this.slice(Zr,an),so=Cr.slice(kr,Lr);for(let vo=0;vo<yo;++vo)if(ro[vo]!==so[vo]){rn=ro[vo],Yn=so[vo];break}return rn<Yn?-1:Yn<rn?1:0};function $r(Or,Cr,kr,Lr,Zr){if(Or.length===0)return-1;if(typeof kr=="string"?(Lr=kr,kr=0):kr>2147483647?kr=2147483647:kr<-2147483648&&(kr=-2147483648),kr=+kr,io(kr)&&(kr=Zr?0:Or.length-1),kr<0&&(kr=Or.length+kr),kr>=Or.length){if(Zr)return-1;kr=Or.length-1}else if(kr<0)if(Zr)kr=0;else return-1;if(typeof Cr=="string"&&(Cr=Ft.from(Cr,Lr)),Ft.isBuffer(Cr))return Cr.length===0?-1:Sr(Or,Cr,kr,Lr,Zr);if(typeof Cr=="number")return Cr=Cr&255,typeof mt.prototype.indexOf=="function"?Zr?mt.prototype.indexOf.call(Or,Cr,kr):mt.prototype.lastIndexOf.call(Or,Cr,kr):Sr(Or,[Cr],kr,Lr,Zr);throw new TypeError("val must be string, number or Buffer")}function Sr(Or,Cr,kr,Lr,Zr){let an=1,rn=Or.length,Yn=Cr.length;if(Lr!==void 0&&(Lr=String(Lr).toLowerCase(),Lr==="ucs2"||Lr==="ucs-2"||Lr==="utf16le"||Lr==="utf-16le")){if(Or.length<2||Cr.length<2)return-1;an=2,rn/=2,Yn/=2,kr/=2}function yo(so,vo){return an===1?so[vo]:so.readUInt16BE(vo*an)}let ro;if(Zr){let so=-1;for(ro=kr;ro<rn;ro++)if(yo(Or,ro)===yo(Cr,so===-1?0:ro-so)){if(so===-1&&(so=ro),ro-so+1===Yn)return so*an}else so!==-1&&(ro-=ro-so),so=-1}else for(kr+Yn>rn&&(kr=rn-Yn),ro=kr;ro>=0;ro--){let so=!0;for(let vo=0;vo<Yn;vo++)if(yo(Or,ro+vo)!==yo(Cr,vo)){so=!1;break}if(so)return ro}return-1}Ft.prototype.includes=function(Cr,kr,Lr){return this.indexOf(Cr,kr,Lr)!==-1},Ft.prototype.indexOf=function(Cr,kr,Lr){return $r(this,Cr,kr,Lr,!0)},Ft.prototype.lastIndexOf=function(Cr,kr,Lr){return $r(this,Cr,kr,Lr,!1)};function wr(Or,Cr,kr,Lr){kr=Number(kr)||0;const Zr=Or.length-kr;Lr?(Lr=Number(Lr),Lr>Zr&&(Lr=Zr)):Lr=Zr;const an=Cr.length;Lr>an/2&&(Lr=an/2);let rn;for(rn=0;rn<Lr;++rn){const Yn=parseInt(Cr.substr(rn*2,2),16);if(io(Yn))return rn;Or[kr+rn]=Yn}return rn}function fr(Or,Cr,kr,Lr){return Un(Gr(Cr,Or.length-kr),Or,kr,Lr)}function _r(Or,Cr,kr,Lr){return Un(Wr(Cr),Or,kr,Lr)}function ir(Or,Cr,kr,Lr){return Un(Ln(Cr),Or,kr,Lr)}function rr(Or,Cr,kr,Lr){return Un(nn(Cr,Or.length-kr),Or,kr,Lr)}Ft.prototype.write=function(Cr,kr,Lr,Zr){if(kr===void 0)Zr="utf8",Lr=this.length,kr=0;else if(Lr===void 0&&typeof kr=="string")Zr=kr,Lr=this.length,kr=0;else if(isFinite(kr))kr=kr>>>0,isFinite(Lr)?(Lr=Lr>>>0,Zr===void 0&&(Zr="utf8")):(Zr=Lr,Lr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const an=this.length-kr;if((Lr===void 0||Lr>an)&&(Lr=an),Cr.length>0&&(Lr<0||kr<0)||kr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zr||(Zr="utf8");let rn=!1;for(;;)switch(Zr){case"hex":return wr(this,Cr,kr,Lr);case"utf8":case"utf-8":return fr(this,Cr,kr,Lr);case"ascii":case"latin1":case"binary":return _r(this,Cr,kr,Lr);case"base64":return ir(this,Cr,kr,Lr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rr(this,Cr,kr,Lr);default:if(rn)throw new TypeError("Unknown encoding: "+Zr);Zr=(""+Zr).toLowerCase(),rn=!0}},Ft.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function or(Or,Cr,kr){return Cr===0&&kr===Or.length?a.fromByteArray(Or):a.fromByteArray(Or.slice(Cr,kr))}function ar(Or,Cr,kr){kr=Math.min(Or.length,kr);const Lr=[];let Zr=Cr;for(;Zr<kr;){const an=Or[Zr];let rn=null,Yn=an>239?4:an>223?3:an>191?2:1;if(Zr+Yn<=kr){let yo,ro,so,vo;switch(Yn){case 1:an<128&&(rn=an);break;case 2:yo=Or[Zr+1],(yo&192)===128&&(vo=(an&31)<<6|yo&63,vo>127&&(rn=vo));break;case 3:yo=Or[Zr+1],ro=Or[Zr+2],(yo&192)===128&&(ro&192)===128&&(vo=(an&15)<<12|(yo&63)<<6|ro&63,vo>2047&&(vo<55296||vo>57343)&&(rn=vo));break;case 4:yo=Or[Zr+1],ro=Or[Zr+2],so=Or[Zr+3],(yo&192)===128&&(ro&192)===128&&(so&192)===128&&(vo=(an&15)<<18|(yo&63)<<12|(ro&63)<<6|so&63,vo>65535&&vo<1114112&&(rn=vo))}}rn===null?(rn=65533,Yn=1):rn>65535&&(rn-=65536,Lr.push(rn>>>10&1023|55296),rn=56320|rn&1023),Lr.push(rn),Zr+=Yn}return pr(Lr)}const ur=4096;function pr(Or){const Cr=Or.length;if(Cr<=ur)return String.fromCharCode.apply(String,Or);let kr="",Lr=0;for(;Lr<Cr;)kr+=String.fromCharCode.apply(String,Or.slice(Lr,Lr+=ur));return kr}function cr(Or,Cr,kr){let Lr="";kr=Math.min(Or.length,kr);for(let Zr=Cr;Zr<kr;++Zr)Lr+=String.fromCharCode(Or[Zr]&127);return Lr}function gr(Or,Cr,kr){let Lr="";kr=Math.min(Or.length,kr);for(let Zr=Cr;Zr<kr;++Zr)Lr+=String.fromCharCode(Or[Zr]);return Lr}function hr(Or,Cr,kr){const Lr=Or.length;(!Cr||Cr<0)&&(Cr=0),(!kr||kr<0||kr>Lr)&&(kr=Lr);let Zr="";for(let an=Cr;an<kr;++an)Zr+=zn[Or[an]];return Zr}function lr(Or,Cr,kr){const Lr=Or.slice(Cr,kr);let Zr="";for(let an=0;an<Lr.length-1;an+=2)Zr+=String.fromCharCode(Lr[an]+Lr[an+1]*256);return Zr}Ft.prototype.slice=function(Cr,kr){const Lr=this.length;Cr=~~Cr,kr=kr===void 0?Lr:~~kr,Cr<0?(Cr+=Lr,Cr<0&&(Cr=0)):Cr>Lr&&(Cr=Lr),kr<0?(kr+=Lr,kr<0&&(kr=0)):kr>Lr&&(kr=Lr),kr<Cr&&(kr=Cr);const Zr=this.subarray(Cr,kr);return Object.setPrototypeOf(Zr,Ft.prototype),Zr};function xr(Or,Cr,kr){if(Or%1!==0||Or<0)throw new RangeError("offset is not uint");if(Or+Cr>kr)throw new RangeError("Trying to access beyond buffer length")}Ft.prototype.readUintLE=Ft.prototype.readUIntLE=function(Cr,kr,Lr){Cr=Cr>>>0,kr=kr>>>0,Lr||xr(Cr,kr,this.length);let Zr=this[Cr],an=1,rn=0;for(;++rn<kr&&(an*=256);)Zr+=this[Cr+rn]*an;return Zr},Ft.prototype.readUintBE=Ft.prototype.readUIntBE=function(Cr,kr,Lr){Cr=Cr>>>0,kr=kr>>>0,Lr||xr(Cr,kr,this.length);let Zr=this[Cr+--kr],an=1;for(;kr>0&&(an*=256);)Zr+=this[Cr+--kr]*an;return Zr},Ft.prototype.readUint8=Ft.prototype.readUInt8=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,1,this.length),this[Cr]},Ft.prototype.readUint16LE=Ft.prototype.readUInt16LE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,2,this.length),this[Cr]|this[Cr+1]<<8},Ft.prototype.readUint16BE=Ft.prototype.readUInt16BE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,2,this.length),this[Cr]<<8|this[Cr+1]},Ft.prototype.readUint32LE=Ft.prototype.readUInt32LE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,4,this.length),(this[Cr]|this[Cr+1]<<8|this[Cr+2]<<16)+this[Cr+3]*16777216},Ft.prototype.readUint32BE=Ft.prototype.readUInt32BE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,4,this.length),this[Cr]*16777216+(this[Cr+1]<<16|this[Cr+2]<<8|this[Cr+3])},Ft.prototype.readBigUInt64LE=Zn(function(Cr){Cr=Cr>>>0,Hr(Cr,"offset");const kr=this[Cr],Lr=this[Cr+7];(kr===void 0||Lr===void 0)&&jr(Cr,this.length-8);const Zr=kr+this[++Cr]*2**8+this[++Cr]*2**16+this[++Cr]*2**24,an=this[++Cr]+this[++Cr]*2**8+this[++Cr]*2**16+Lr*2**24;return BigInt(Zr)+(BigInt(an)<<BigInt(32))}),Ft.prototype.readBigUInt64BE=Zn(function(Cr){Cr=Cr>>>0,Hr(Cr,"offset");const kr=this[Cr],Lr=this[Cr+7];(kr===void 0||Lr===void 0)&&jr(Cr,this.length-8);const Zr=kr*2**24+this[++Cr]*2**16+this[++Cr]*2**8+this[++Cr],an=this[++Cr]*2**24+this[++Cr]*2**16+this[++Cr]*2**8+Lr;return(BigInt(Zr)<<BigInt(32))+BigInt(an)}),Ft.prototype.readIntLE=function(Cr,kr,Lr){Cr=Cr>>>0,kr=kr>>>0,Lr||xr(Cr,kr,this.length);let Zr=this[Cr],an=1,rn=0;for(;++rn<kr&&(an*=256);)Zr+=this[Cr+rn]*an;return an*=128,Zr>=an&&(Zr-=Math.pow(2,8*kr)),Zr},Ft.prototype.readIntBE=function(Cr,kr,Lr){Cr=Cr>>>0,kr=kr>>>0,Lr||xr(Cr,kr,this.length);let Zr=kr,an=1,rn=this[Cr+--Zr];for(;Zr>0&&(an*=256);)rn+=this[Cr+--Zr]*an;return an*=128,rn>=an&&(rn-=Math.pow(2,8*kr)),rn},Ft.prototype.readInt8=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,1,this.length),this[Cr]&128?(255-this[Cr]+1)*-1:this[Cr]},Ft.prototype.readInt16LE=function(Cr,kr){Cr=Cr>>>0,kr||xr(Cr,2,this.length);const Lr=this[Cr]|this[Cr+1]<<8;return Lr&32768?Lr|4294901760:Lr},Ft.prototype.readInt16BE=function(Cr,kr){Cr=Cr>>>0,kr||xr(Cr,2,this.length);const Lr=this[Cr+1]|this[Cr]<<8;return Lr&32768?Lr|4294901760:Lr},Ft.prototype.readInt32LE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,4,this.length),this[Cr]|this[Cr+1]<<8|this[Cr+2]<<16|this[Cr+3]<<24},Ft.prototype.readInt32BE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,4,this.length),this[Cr]<<24|this[Cr+1]<<16|this[Cr+2]<<8|this[Cr+3]},Ft.prototype.readBigInt64LE=Zn(function(Cr){Cr=Cr>>>0,Hr(Cr,"offset");const kr=this[Cr],Lr=this[Cr+7];(kr===void 0||Lr===void 0)&&jr(Cr,this.length-8);const Zr=this[Cr+4]+this[Cr+5]*2**8+this[Cr+6]*2**16+(Lr<<24);return(BigInt(Zr)<<BigInt(32))+BigInt(kr+this[++Cr]*2**8+this[++Cr]*2**16+this[++Cr]*2**24)}),Ft.prototype.readBigInt64BE=Zn(function(Cr){Cr=Cr>>>0,Hr(Cr,"offset");const kr=this[Cr],Lr=this[Cr+7];(kr===void 0||Lr===void 0)&&jr(Cr,this.length-8);const Zr=(kr<<24)+this[++Cr]*2**16+this[++Cr]*2**8+this[++Cr];return(BigInt(Zr)<<BigInt(32))+BigInt(this[++Cr]*2**24+this[++Cr]*2**16+this[++Cr]*2**8+Lr)}),Ft.prototype.readFloatLE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,4,this.length),et.read(this,Cr,!0,23,4)},Ft.prototype.readFloatBE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,4,this.length),et.read(this,Cr,!1,23,4)},Ft.prototype.readDoubleLE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,8,this.length),et.read(this,Cr,!0,52,8)},Ft.prototype.readDoubleBE=function(Cr,kr){return Cr=Cr>>>0,kr||xr(Cr,8,this.length),et.read(this,Cr,!1,52,8)};function Mr(Or,Cr,kr,Lr,Zr,an){if(!Ft.isBuffer(Or))throw new TypeError('"buffer" argument must be a Buffer instance');if(Cr>Zr||Cr<an)throw new RangeError('"value" argument is out of bounds');if(kr+Lr>Or.length)throw new RangeError("Index out of range")}Ft.prototype.writeUintLE=Ft.prototype.writeUIntLE=function(Cr,kr,Lr,Zr){if(Cr=+Cr,kr=kr>>>0,Lr=Lr>>>0,!Zr){const Yn=Math.pow(2,8*Lr)-1;Mr(this,Cr,kr,Lr,Yn,0)}let an=1,rn=0;for(this[kr]=Cr&255;++rn<Lr&&(an*=256);)this[kr+rn]=Cr/an&255;return kr+Lr},Ft.prototype.writeUintBE=Ft.prototype.writeUIntBE=function(Cr,kr,Lr,Zr){if(Cr=+Cr,kr=kr>>>0,Lr=Lr>>>0,!Zr){const Yn=Math.pow(2,8*Lr)-1;Mr(this,Cr,kr,Lr,Yn,0)}let an=Lr-1,rn=1;for(this[kr+an]=Cr&255;--an>=0&&(rn*=256);)this[kr+an]=Cr/rn&255;return kr+Lr},Ft.prototype.writeUint8=Ft.prototype.writeUInt8=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,1,255,0),this[kr]=Cr&255,kr+1},Ft.prototype.writeUint16LE=Ft.prototype.writeUInt16LE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,2,65535,0),this[kr]=Cr&255,this[kr+1]=Cr>>>8,kr+2},Ft.prototype.writeUint16BE=Ft.prototype.writeUInt16BE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,2,65535,0),this[kr]=Cr>>>8,this[kr+1]=Cr&255,kr+2},Ft.prototype.writeUint32LE=Ft.prototype.writeUInt32LE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,4,4294967295,0),this[kr+3]=Cr>>>24,this[kr+2]=Cr>>>16,this[kr+1]=Cr>>>8,this[kr]=Cr&255,kr+4},Ft.prototype.writeUint32BE=Ft.prototype.writeUInt32BE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,4,4294967295,0),this[kr]=Cr>>>24,this[kr+1]=Cr>>>16,this[kr+2]=Cr>>>8,this[kr+3]=Cr&255,kr+4};function Pr(Or,Cr,kr,Lr,Zr){zr(Cr,Lr,Zr,Or,kr,7);let an=Number(Cr&BigInt(4294967295));Or[kr++]=an,an=an>>8,Or[kr++]=an,an=an>>8,Or[kr++]=an,an=an>>8,Or[kr++]=an;let rn=Number(Cr>>BigInt(32)&BigInt(4294967295));return Or[kr++]=rn,rn=rn>>8,Or[kr++]=rn,rn=rn>>8,Or[kr++]=rn,rn=rn>>8,Or[kr++]=rn,kr}function Ar(Or,Cr,kr,Lr,Zr){zr(Cr,Lr,Zr,Or,kr,7);let an=Number(Cr&BigInt(4294967295));Or[kr+7]=an,an=an>>8,Or[kr+6]=an,an=an>>8,Or[kr+5]=an,an=an>>8,Or[kr+4]=an;let rn=Number(Cr>>BigInt(32)&BigInt(4294967295));return Or[kr+3]=rn,rn=rn>>8,Or[kr+2]=rn,rn=rn>>8,Or[kr+1]=rn,rn=rn>>8,Or[kr]=rn,kr+8}Ft.prototype.writeBigUInt64LE=Zn(function(Cr,kr=0){return Pr(this,Cr,kr,BigInt(0),BigInt("0xffffffffffffffff"))}),Ft.prototype.writeBigUInt64BE=Zn(function(Cr,kr=0){return Ar(this,Cr,kr,BigInt(0),BigInt("0xffffffffffffffff"))}),Ft.prototype.writeIntLE=function(Cr,kr,Lr,Zr){if(Cr=+Cr,kr=kr>>>0,!Zr){const yo=Math.pow(2,8*Lr-1);Mr(this,Cr,kr,Lr,yo-1,-yo)}let an=0,rn=1,Yn=0;for(this[kr]=Cr&255;++an<Lr&&(rn*=256);)Cr<0&&Yn===0&&this[kr+an-1]!==0&&(Yn=1),this[kr+an]=(Cr/rn>>0)-Yn&255;return kr+Lr},Ft.prototype.writeIntBE=function(Cr,kr,Lr,Zr){if(Cr=+Cr,kr=kr>>>0,!Zr){const yo=Math.pow(2,8*Lr-1);Mr(this,Cr,kr,Lr,yo-1,-yo)}let an=Lr-1,rn=1,Yn=0;for(this[kr+an]=Cr&255;--an>=0&&(rn*=256);)Cr<0&&Yn===0&&this[kr+an+1]!==0&&(Yn=1),this[kr+an]=(Cr/rn>>0)-Yn&255;return kr+Lr},Ft.prototype.writeInt8=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,1,127,-128),Cr<0&&(Cr=255+Cr+1),this[kr]=Cr&255,kr+1},Ft.prototype.writeInt16LE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,2,32767,-32768),this[kr]=Cr&255,this[kr+1]=Cr>>>8,kr+2},Ft.prototype.writeInt16BE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,2,32767,-32768),this[kr]=Cr>>>8,this[kr+1]=Cr&255,kr+2},Ft.prototype.writeInt32LE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,4,2147483647,-2147483648),this[kr]=Cr&255,this[kr+1]=Cr>>>8,this[kr+2]=Cr>>>16,this[kr+3]=Cr>>>24,kr+4},Ft.prototype.writeInt32BE=function(Cr,kr,Lr){return Cr=+Cr,kr=kr>>>0,Lr||Mr(this,Cr,kr,4,2147483647,-2147483648),Cr<0&&(Cr=4294967295+Cr+1),this[kr]=Cr>>>24,this[kr+1]=Cr>>>16,this[kr+2]=Cr>>>8,this[kr+3]=Cr&255,kr+4},Ft.prototype.writeBigInt64LE=Zn(function(Cr,kr=0){return Pr(this,Cr,kr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Ft.prototype.writeBigInt64BE=Zn(function(Cr,kr=0){return Ar(this,Cr,kr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ir(Or,Cr,kr,Lr,Zr,an){if(kr+Lr>Or.length)throw new RangeError("Index out of range");if(kr<0)throw new RangeError("Index out of range")}function qr(Or,Cr,kr,Lr,Zr){return Cr=+Cr,kr=kr>>>0,Zr||Ir(Or,Cr,kr,4),et.write(Or,Cr,kr,Lr,23,4),kr+4}Ft.prototype.writeFloatLE=function(Cr,kr,Lr){return qr(this,Cr,kr,!0,Lr)},Ft.prototype.writeFloatBE=function(Cr,kr,Lr){return qr(this,Cr,kr,!1,Lr)};function Rr(Or,Cr,kr,Lr,Zr){return Cr=+Cr,kr=kr>>>0,Zr||Ir(Or,Cr,kr,8),et.write(Or,Cr,kr,Lr,52,8),kr+8}Ft.prototype.writeDoubleLE=function(Cr,kr,Lr){return Rr(this,Cr,kr,!0,Lr)},Ft.prototype.writeDoubleBE=function(Cr,kr,Lr){return Rr(this,Cr,kr,!1,Lr)},Ft.prototype.copy=function(Cr,kr,Lr,Zr){if(!Ft.isBuffer(Cr))throw new TypeError("argument should be a Buffer");if(Lr||(Lr=0),!Zr&&Zr!==0&&(Zr=this.length),kr>=Cr.length&&(kr=Cr.length),kr||(kr=0),Zr>0&&Zr<Lr&&(Zr=Lr),Zr===Lr||Cr.length===0||this.length===0)return 0;if(kr<0)throw new RangeError("targetStart out of bounds");if(Lr<0||Lr>=this.length)throw new RangeError("Index out of range");if(Zr<0)throw new RangeError("sourceEnd out of bounds");Zr>this.length&&(Zr=this.length),Cr.length-kr<Zr-Lr&&(Zr=Cr.length-kr+Lr);const an=Zr-Lr;return this===Cr&&typeof mt.prototype.copyWithin=="function"?this.copyWithin(kr,Lr,Zr):mt.prototype.set.call(Cr,this.subarray(Lr,Zr),kr),an},Ft.prototype.fill=function(Cr,kr,Lr,Zr){if(typeof Cr=="string"){if(typeof kr=="string"?(Zr=kr,kr=0,Lr=this.length):typeof Lr=="string"&&(Zr=Lr,Lr=this.length),Zr!==void 0&&typeof Zr!="string")throw new TypeError("encoding must be a string");if(typeof Zr=="string"&&!Ft.isEncoding(Zr))throw new TypeError("Unknown encoding: "+Zr);if(Cr.length===1){const rn=Cr.charCodeAt(0);(Zr==="utf8"&&rn<128||Zr==="latin1")&&(Cr=rn)}}else typeof Cr=="number"?Cr=Cr&255:typeof Cr=="boolean"&&(Cr=Number(Cr));if(kr<0||this.length<kr||this.length<Lr)throw new RangeError("Out of range index");if(Lr<=kr)return this;kr=kr>>>0,Lr=Lr===void 0?this.length:Lr>>>0,Cr||(Cr=0);let an;if(typeof Cr=="number")for(an=kr;an<Lr;++an)this[an]=Cr;else{const rn=Ft.isBuffer(Cr)?Cr:Ft.from(Cr,Zr),Yn=rn.length;if(Yn===0)throw new TypeError('The value "'+Cr+'" is invalid for argument "value"');for(an=0;an<Lr-kr;++an)this[an+kr]=rn[an%Yn]}return this};const Tr={};function Er(Or,Cr,kr){Tr[Or]=class extends kr{constructor(){super(),Object.defineProperty(this,"message",{value:Cr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Or}]`,this.stack,delete this.name}get code(){return Or}set code(Zr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Zr,writable:!0})}toString(){return`${this.name} [${Or}]: ${this.message}`}}}Er("ERR_BUFFER_OUT_OF_BOUNDS",function(Or){return Or?`${Or} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Er("ERR_INVALID_ARG_TYPE",function(Or,Cr){return`The "${Or}" argument must be of type number. Received type ${typeof Cr}`},TypeError),Er("ERR_OUT_OF_RANGE",function(Or,Cr,kr){let Lr=`The value of "${Or}" is out of range.`,Zr=kr;return Number.isInteger(kr)&&Math.abs(kr)>2**32?Zr=Br(String(kr)):typeof kr=="bigint"&&(Zr=String(kr),(kr>BigInt(2)**BigInt(32)||kr<-(BigInt(2)**BigInt(32)))&&(Zr=Br(Zr)),Zr+="n"),Lr+=` It must be ${Cr}. Received ${Zr}`,Lr},RangeError);function Br(Or){let Cr="",kr=Or.length;const Lr=Or[0]==="-"?1:0;for(;kr>=Lr+4;kr-=3)Cr=`_${Or.slice(kr-3,kr)}${Cr}`;return`${Or.slice(0,kr)}${Cr}`}function Nr(Or,Cr,kr){Hr(Cr,"offset"),(Or[Cr]===void 0||Or[Cr+kr]===void 0)&&jr(Cr,Or.length-(kr+1))}function zr(Or,Cr,kr,Lr,Zr,an){if(Or>kr||Or<Cr){const rn=typeof Cr=="bigint"?"n":"";let Yn;throw Cr===0||Cr===BigInt(0)?Yn=`>= 0${rn} and < 2${rn} ** ${(an+1)*8}${rn}`:Yn=`>= -(2${rn} ** ${(an+1)*8-1}${rn}) and < 2 ** ${(an+1)*8-1}${rn}`,new Tr.ERR_OUT_OF_RANGE("value",Yn,Or)}Nr(Lr,Zr,an)}function Hr(Or,Cr){if(typeof Or!="number")throw new Tr.ERR_INVALID_ARG_TYPE(Cr,"number",Or)}function jr(Or,Cr,kr){throw Math.floor(Or)!==Or?(Hr(Or,kr),new Tr.ERR_OUT_OF_RANGE("offset","an integer",Or)):Cr<0?new Tr.ERR_BUFFER_OUT_OF_BOUNDS:new Tr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Cr}`,Or)}const Ur=/[^+/0-9A-Za-z-_]/g;function Fr(Or){if(Or=Or.split("=")[0],Or=Or.trim().replace(Ur,""),Or.length<2)return"";for(;Or.length%4!==0;)Or=Or+"=";return Or}function Gr(Or,Cr){Cr=Cr||1/0;let kr;const Lr=Or.length;let Zr=null;const an=[];for(let rn=0;rn<Lr;++rn){if(kr=Or.charCodeAt(rn),kr>55295&&kr<57344){if(!Zr){if(kr>56319){(Cr-=3)>-1&&an.push(239,191,189);continue}else if(rn+1===Lr){(Cr-=3)>-1&&an.push(239,191,189);continue}Zr=kr;continue}if(kr<56320){(Cr-=3)>-1&&an.push(239,191,189),Zr=kr;continue}kr=(Zr-55296<<10|kr-56320)+65536}else Zr&&(Cr-=3)>-1&&an.push(239,191,189);if(Zr=null,kr<128){if((Cr-=1)<0)break;an.push(kr)}else if(kr<2048){if((Cr-=2)<0)break;an.push(kr>>6|192,kr&63|128)}else if(kr<65536){if((Cr-=3)<0)break;an.push(kr>>12|224,kr>>6&63|128,kr&63|128)}else if(kr<1114112){if((Cr-=4)<0)break;an.push(kr>>18|240,kr>>12&63|128,kr>>6&63|128,kr&63|128)}else throw new Error("Invalid code point")}return an}function Wr(Or){const Cr=[];for(let kr=0;kr<Or.length;++kr)Cr.push(Or.charCodeAt(kr)&255);return Cr}function nn(Or,Cr){let kr,Lr,Zr;const an=[];for(let rn=0;rn<Or.length&&!((Cr-=2)<0);++rn)kr=Or.charCodeAt(rn),Lr=kr>>8,Zr=kr%256,an.push(Zr),an.push(Lr);return an}function Ln(Or){return a.toByteArray(Fr(Or))}function Un(Or,Cr,kr,Lr){let Zr;for(Zr=0;Zr<Lr&&!(Zr+kr>=Cr.length||Zr>=Or.length);++Zr)Cr[Zr+kr]=Or[Zr];return Zr}function Wn(Or,Cr){return Or instanceof Cr||Or!=null&&Or.constructor!=null&&Or.constructor.name!=null&&Or.constructor.name===Cr.name}function io(Or){return Or!==Or}const zn=function(){const Or="0123456789abcdef",Cr=new Array(256);for(let kr=0;kr<16;++kr){const Lr=kr*16;for(let Zr=0;Zr<16;++Zr)Cr[Lr+Zr]=Or[kr]+Or[Zr]}return Cr}();function Zn(Or){return typeof BigInt>"u"?bo:Or}function bo(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer$1=buffer$1.Buffer,Blob$3=buffer$1.Blob,BlobOptions=buffer$1.BlobOptions,Buffer$1$1=buffer$1.Buffer,File$1=buffer$1.File,FileOptions=buffer$1.FileOptions,INSPECT_MAX_BYTES=buffer$1.INSPECT_MAX_BYTES,SlowBuffer=buffer$1.SlowBuffer,TranscodeEncoding=buffer$1.TranscodeEncoding,atob$1=buffer$1.atob,btoa$1=buffer$1.btoa,constants$2=buffer$1.constants,isAscii=buffer$1.isAscii,isUtf8=buffer$1.isUtf8,kMaxLength=buffer$1.kMaxLength,kStringMaxLength=buffer$1.kStringMaxLength,resolveObjectURL=buffer$1.resolveObjectURL,transcode=buffer$1.transcode,dist=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$3,BlobOptions,Buffer:Buffer$1$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$2,default:Buffer$1,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));var bn$2={exports:{}};const require$$1$3=getAugmentedNamespace(dist);bn$2.exports;(function(s){(function(a,et){function nt(_r,ir){if(!_r)throw new Error(ir||"Assertion failed")}function at(_r,ir){_r.super_=ir;var rr=function(){};rr.prototype=ir.prototype,_r.prototype=new rr,_r.prototype.constructor=_r}function mt(_r,ir,rr){if(mt.isBN(_r))return _r;this.negative=0,this.words=null,this.length=0,this.red=null,_r!==null&&((ir==="le"||ir==="be")&&(rr=ir,ir=10),this._init(_r||0,ir||10,rr||"be"))}typeof a=="object"?a.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$1$3.Buffer}catch{}mt.isBN=function(ir){return ir instanceof mt?!0:ir!==null&&typeof ir=="object"&&ir.constructor.wordSize===mt.wordSize&&Array.isArray(ir.words)},mt.max=function(ir,rr){return ir.cmp(rr)>0?ir:rr},mt.min=function(ir,rr){return ir.cmp(rr)<0?ir:rr},mt.prototype._init=function(ir,rr,or){if(typeof ir=="number")return this._initNumber(ir,rr,or);if(typeof ir=="object")return this._initArray(ir,rr,or);rr==="hex"&&(rr=16),nt(rr===(rr|0)&&rr>=2&&rr<=36),ir=ir.toString().replace(/\s+/g,"");var ar=0;ir[0]==="-"&&(ar++,this.negative=1),ar<ir.length&&(rr===16?this._parseHex(ir,ar,or):(this._parseBase(ir,rr,ar),or==="le"&&this._initArray(this.toArray(),rr,or)))},mt.prototype._initNumber=function(ir,rr,or){ir<0&&(this.negative=1,ir=-ir),ir<67108864?(this.words=[ir&67108863],this.length=1):ir<4503599627370496?(this.words=[ir&67108863,ir/67108864&67108863],this.length=2):(nt(ir<9007199254740992),this.words=[ir&67108863,ir/67108864&67108863,1],this.length=3),or==="le"&&this._initArray(this.toArray(),rr,or)},mt.prototype._initArray=function(ir,rr,or){if(nt(typeof ir.length=="number"),ir.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ir.length/3),this.words=new Array(this.length);for(var ar=0;ar<this.length;ar++)this.words[ar]=0;var ur,pr,cr=0;if(or==="be")for(ar=ir.length-1,ur=0;ar>=0;ar-=3)pr=ir[ar]|ir[ar-1]<<8|ir[ar-2]<<16,this.words[ur]|=pr<<cr&67108863,this.words[ur+1]=pr>>>26-cr&67108863,cr+=24,cr>=26&&(cr-=26,ur++);else if(or==="le")for(ar=0,ur=0;ar<ir.length;ar+=3)pr=ir[ar]|ir[ar+1]<<8|ir[ar+2]<<16,this.words[ur]|=pr<<cr&67108863,this.words[ur+1]=pr>>>26-cr&67108863,cr+=24,cr>=26&&(cr-=26,ur++);return this._strip()};function $t(_r,ir){var rr=_r.charCodeAt(ir);if(rr>=48&&rr<=57)return rr-48;if(rr>=65&&rr<=70)return rr-55;if(rr>=97&&rr<=102)return rr-87;nt(!1,"Invalid character in "+_r)}function Ct(_r,ir,rr){var or=$t(_r,rr);return rr-1>=ir&&(or|=$t(_r,rr-1)<<4),or}mt.prototype._parseHex=function(ir,rr,or){this.length=Math.ceil((ir.length-rr)/6),this.words=new Array(this.length);for(var ar=0;ar<this.length;ar++)this.words[ar]=0;var ur=0,pr=0,cr;if(or==="be")for(ar=ir.length-1;ar>=rr;ar-=2)cr=Ct(ir,rr,ar)<<ur,this.words[pr]|=cr&67108863,ur>=18?(ur-=18,pr+=1,this.words[pr]|=cr>>>26):ur+=8;else{var gr=ir.length-rr;for(ar=gr%2===0?rr+1:rr;ar<ir.length;ar+=2)cr=Ct(ir,rr,ar)<<ur,this.words[pr]|=cr&67108863,ur>=18?(ur-=18,pr+=1,this.words[pr]|=cr>>>26):ur+=8}this._strip()};function Dt(_r,ir,rr,or){for(var ar=0,ur=0,pr=Math.min(_r.length,rr),cr=ir;cr<pr;cr++){var gr=_r.charCodeAt(cr)-48;ar*=or,gr>=49?ur=gr-49+10:gr>=17?ur=gr-17+10:ur=gr,nt(gr>=0&&ur<or,"Invalid character"),ar+=ur}return ar}mt.prototype._parseBase=function(ir,rr,or){this.words=[0],this.length=1;for(var ar=0,ur=1;ur<=67108863;ur*=rr)ar++;ar--,ur=ur/rr|0;for(var pr=ir.length-or,cr=pr%ar,gr=Math.min(pr,pr-cr)+or,hr=0,lr=or;lr<gr;lr+=ar)hr=Dt(ir,lr,lr+ar,rr),this.imuln(ur),this.words[0]+hr<67108864?this.words[0]+=hr:this._iaddn(hr);if(cr!==0){var xr=1;for(hr=Dt(ir,lr,ir.length,rr),lr=0;lr<cr;lr++)xr*=rr;this.imuln(xr),this.words[0]+hr<67108864?this.words[0]+=hr:this._iaddn(hr)}this._strip()},mt.prototype.copy=function(ir){ir.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)ir.words[rr]=this.words[rr];ir.length=this.length,ir.negative=this.negative,ir.red=this.red};function Ft(_r,ir){_r.words=ir.words,_r.length=ir.length,_r.negative=ir.negative,_r.red=ir.red}if(mt.prototype._move=function(ir){Ft(ir,this)},mt.prototype.clone=function(){var ir=new mt(null);return this.copy(ir),ir},mt.prototype._expand=function(ir){for(;this.length<ir;)this.words[this.length++]=0;return this},mt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{mt.prototype[Symbol.for("nodejs.util.inspect.custom")]=jt}catch{mt.prototype.inspect=jt}else mt.prototype.inspect=jt;function jt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Nt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Lt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ut=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(ir,rr){ir=ir||10,rr=rr|0||1;var or;if(ir===16||ir==="hex"){or="";for(var ar=0,ur=0,pr=0;pr<this.length;pr++){var cr=this.words[pr],gr=((cr<<ar|ur)&16777215).toString(16);ur=cr>>>24-ar&16777215,ar+=2,ar>=26&&(ar-=26,pr--),ur!==0||pr!==this.length-1?or=Nt[6-gr.length]+gr+or:or=gr+or}for(ur!==0&&(or=ur.toString(16)+or);or.length%rr!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}if(ir===(ir|0)&&ir>=2&&ir<=36){var hr=Lt[ir],lr=Ut[ir];or="";var xr=this.clone();for(xr.negative=0;!xr.isZero();){var Mr=xr.modrn(lr).toString(ir);xr=xr.idivn(lr),xr.isZero()?or=Mr+or:or=Nt[hr-Mr.length]+Mr+or}for(this.isZero()&&(or="0"+or);or.length%rr!==0;)or="0"+or;return this.negative!==0&&(or="-"+or),or}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var ir=this.words[0];return this.length===2?ir+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ir+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ir:ir},mt.prototype.toJSON=function(){return this.toString(16,2)},wt&&(mt.prototype.toBuffer=function(ir,rr){return this.toArrayLike(wt,ir,rr)}),mt.prototype.toArray=function(ir,rr){return this.toArrayLike(Array,ir,rr)};var Vt=function(ir,rr){return ir.allocUnsafe?ir.allocUnsafe(rr):new ir(rr)};mt.prototype.toArrayLike=function(ir,rr,or){this._strip();var ar=this.byteLength(),ur=or||Math.max(1,ar);nt(ar<=ur,"byte array longer than desired length"),nt(ur>0,"Requested array length <= 0");var pr=Vt(ir,ur),cr=rr==="le"?"LE":"BE";return this["_toArrayLike"+cr](pr,ar),pr},mt.prototype._toArrayLikeLE=function(ir,rr){for(var or=0,ar=0,ur=0,pr=0;ur<this.length;ur++){var cr=this.words[ur]<<pr|ar;ir[or++]=cr&255,or<ir.length&&(ir[or++]=cr>>8&255),or<ir.length&&(ir[or++]=cr>>16&255),pr===6?(or<ir.length&&(ir[or++]=cr>>24&255),ar=0,pr=0):(ar=cr>>>24,pr+=2)}if(or<ir.length)for(ir[or++]=ar;or<ir.length;)ir[or++]=0},mt.prototype._toArrayLikeBE=function(ir,rr){for(var or=ir.length-1,ar=0,ur=0,pr=0;ur<this.length;ur++){var cr=this.words[ur]<<pr|ar;ir[or--]=cr&255,or>=0&&(ir[or--]=cr>>8&255),or>=0&&(ir[or--]=cr>>16&255),pr===6?(or>=0&&(ir[or--]=cr>>24&255),ar=0,pr=0):(ar=cr>>>24,pr+=2)}if(or>=0)for(ir[or--]=ar;or>=0;)ir[or--]=0},Math.clz32?mt.prototype._countBits=function(ir){return 32-Math.clz32(ir)}:mt.prototype._countBits=function(ir){var rr=ir,or=0;return rr>=4096&&(or+=13,rr>>>=13),rr>=64&&(or+=7,rr>>>=7),rr>=8&&(or+=4,rr>>>=4),rr>=2&&(or+=2,rr>>>=2),or+rr},mt.prototype._zeroBits=function(ir){if(ir===0)return 26;var rr=ir,or=0;return rr&8191||(or+=13,rr>>>=13),rr&127||(or+=7,rr>>>=7),rr&15||(or+=4,rr>>>=4),rr&3||(or+=2,rr>>>=2),rr&1||or++,or},mt.prototype.bitLength=function(){var ir=this.words[this.length-1],rr=this._countBits(ir);return(this.length-1)*26+rr};function Yt(_r){for(var ir=new Array(_r.bitLength()),rr=0;rr<ir.length;rr++){var or=rr/26|0,ar=rr%26;ir[rr]=_r.words[or]>>>ar&1}return ir}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ir=0,rr=0;rr<this.length;rr++){var or=this._zeroBits(this.words[rr]);if(ir+=or,or!==26)break}return ir},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(ir){return this.negative!==0?this.abs().inotn(ir).iaddn(1):this.clone()},mt.prototype.fromTwos=function(ir){return this.testn(ir-1)?this.notn(ir).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(ir){for(;this.length<ir.length;)this.words[this.length++]=0;for(var rr=0;rr<ir.length;rr++)this.words[rr]=this.words[rr]|ir.words[rr];return this._strip()},mt.prototype.ior=function(ir){return nt((this.negative|ir.negative)===0),this.iuor(ir)},mt.prototype.or=function(ir){return this.length>ir.length?this.clone().ior(ir):ir.clone().ior(this)},mt.prototype.uor=function(ir){return this.length>ir.length?this.clone().iuor(ir):ir.clone().iuor(this)},mt.prototype.iuand=function(ir){var rr;this.length>ir.length?rr=ir:rr=this;for(var or=0;or<rr.length;or++)this.words[or]=this.words[or]&ir.words[or];return this.length=rr.length,this._strip()},mt.prototype.iand=function(ir){return nt((this.negative|ir.negative)===0),this.iuand(ir)},mt.prototype.and=function(ir){return this.length>ir.length?this.clone().iand(ir):ir.clone().iand(this)},mt.prototype.uand=function(ir){return this.length>ir.length?this.clone().iuand(ir):ir.clone().iuand(this)},mt.prototype.iuxor=function(ir){var rr,or;this.length>ir.length?(rr=this,or=ir):(rr=ir,or=this);for(var ar=0;ar<or.length;ar++)this.words[ar]=rr.words[ar]^or.words[ar];if(this!==rr)for(;ar<rr.length;ar++)this.words[ar]=rr.words[ar];return this.length=rr.length,this._strip()},mt.prototype.ixor=function(ir){return nt((this.negative|ir.negative)===0),this.iuxor(ir)},mt.prototype.xor=function(ir){return this.length>ir.length?this.clone().ixor(ir):ir.clone().ixor(this)},mt.prototype.uxor=function(ir){return this.length>ir.length?this.clone().iuxor(ir):ir.clone().iuxor(this)},mt.prototype.inotn=function(ir){nt(typeof ir=="number"&&ir>=0);var rr=Math.ceil(ir/26)|0,or=ir%26;this._expand(rr),or>0&&rr--;for(var ar=0;ar<rr;ar++)this.words[ar]=~this.words[ar]&67108863;return or>0&&(this.words[ar]=~this.words[ar]&67108863>>26-or),this._strip()},mt.prototype.notn=function(ir){return this.clone().inotn(ir)},mt.prototype.setn=function(ir,rr){nt(typeof ir=="number"&&ir>=0);var or=ir/26|0,ar=ir%26;return this._expand(or+1),rr?this.words[or]=this.words[or]|1<<ar:this.words[or]=this.words[or]&~(1<<ar),this._strip()},mt.prototype.iadd=function(ir){var rr;if(this.negative!==0&&ir.negative===0)return this.negative=0,rr=this.isub(ir),this.negative^=1,this._normSign();if(this.negative===0&&ir.negative!==0)return ir.negative=0,rr=this.isub(ir),ir.negative=1,rr._normSign();var or,ar;this.length>ir.length?(or=this,ar=ir):(or=ir,ar=this);for(var ur=0,pr=0;pr<ar.length;pr++)rr=(or.words[pr]|0)+(ar.words[pr]|0)+ur,this.words[pr]=rr&67108863,ur=rr>>>26;for(;ur!==0&&pr<or.length;pr++)rr=(or.words[pr]|0)+ur,this.words[pr]=rr&67108863,ur=rr>>>26;if(this.length=or.length,ur!==0)this.words[this.length]=ur,this.length++;else if(or!==this)for(;pr<or.length;pr++)this.words[pr]=or.words[pr];return this},mt.prototype.add=function(ir){var rr;return ir.negative!==0&&this.negative===0?(ir.negative=0,rr=this.sub(ir),ir.negative^=1,rr):ir.negative===0&&this.negative!==0?(this.negative=0,rr=ir.sub(this),this.negative=1,rr):this.length>ir.length?this.clone().iadd(ir):ir.clone().iadd(this)},mt.prototype.isub=function(ir){if(ir.negative!==0){ir.negative=0;var rr=this.iadd(ir);return ir.negative=1,rr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ir),this.negative=1,this._normSign();var or=this.cmp(ir);if(or===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ar,ur;or>0?(ar=this,ur=ir):(ar=ir,ur=this);for(var pr=0,cr=0;cr<ur.length;cr++)rr=(ar.words[cr]|0)-(ur.words[cr]|0)+pr,pr=rr>>26,this.words[cr]=rr&67108863;for(;pr!==0&&cr<ar.length;cr++)rr=(ar.words[cr]|0)+pr,pr=rr>>26,this.words[cr]=rr&67108863;if(pr===0&&cr<ar.length&&ar!==this)for(;cr<ar.length;cr++)this.words[cr]=ar.words[cr];return this.length=Math.max(this.length,cr),ar!==this&&(this.negative=1),this._strip()},mt.prototype.sub=function(ir){return this.clone().isub(ir)};function er(_r,ir,rr){rr.negative=ir.negative^_r.negative;var or=_r.length+ir.length|0;rr.length=or,or=or-1|0;var ar=_r.words[0]|0,ur=ir.words[0]|0,pr=ar*ur,cr=pr&67108863,gr=pr/67108864|0;rr.words[0]=cr;for(var hr=1;hr<or;hr++){for(var lr=gr>>>26,xr=gr&67108863,Mr=Math.min(hr,ir.length-1),Pr=Math.max(0,hr-_r.length+1);Pr<=Mr;Pr++){var Ar=hr-Pr|0;ar=_r.words[Ar]|0,ur=ir.words[Pr]|0,pr=ar*ur+xr,lr+=pr/67108864|0,xr=pr&67108863}rr.words[hr]=xr|0,gr=lr|0}return gr!==0?rr.words[hr]=gr|0:rr.length--,rr._strip()}var tr=function(ir,rr,or){var ar=ir.words,ur=rr.words,pr=or.words,cr=0,gr,hr,lr,xr=ar[0]|0,Mr=xr&8191,Pr=xr>>>13,Ar=ar[1]|0,Ir=Ar&8191,qr=Ar>>>13,Rr=ar[2]|0,Tr=Rr&8191,Er=Rr>>>13,Br=ar[3]|0,Nr=Br&8191,zr=Br>>>13,Hr=ar[4]|0,jr=Hr&8191,Ur=Hr>>>13,Fr=ar[5]|0,Gr=Fr&8191,Wr=Fr>>>13,nn=ar[6]|0,Ln=nn&8191,Un=nn>>>13,Wn=ar[7]|0,io=Wn&8191,zn=Wn>>>13,Zn=ar[8]|0,bo=Zn&8191,Or=Zn>>>13,Cr=ar[9]|0,kr=Cr&8191,Lr=Cr>>>13,Zr=ur[0]|0,an=Zr&8191,rn=Zr>>>13,Yn=ur[1]|0,yo=Yn&8191,ro=Yn>>>13,so=ur[2]|0,vo=so&8191,po=so>>>13,$o=ur[3]|0,Mo=$o&8191,_o=$o>>>13,Eo=ur[4]|0,Do=Eo&8191,mo=Eo>>>13,So=ur[5]|0,Fo=So&8191,Yr=So>>>13,Qr=ur[6]|0,Cn=Qr&8191,Nn=Qr>>>13,Hn=ur[7]|0,lo=Hn&8191,Qn=Hn>>>13,Jn=ur[8]|0,oo=Jn&8191,Gn=Jn>>>13,_i=ur[9]|0,go=_i&8191,fo=_i>>>13;or.negative=ir.negative^rr.negative,or.length=19,gr=Math.imul(Mr,an),hr=Math.imul(Mr,rn),hr=hr+Math.imul(Pr,an)|0,lr=Math.imul(Pr,rn);var Co=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Co>>>26)|0,Co&=67108863,gr=Math.imul(Ir,an),hr=Math.imul(Ir,rn),hr=hr+Math.imul(qr,an)|0,lr=Math.imul(qr,rn),gr=gr+Math.imul(Mr,yo)|0,hr=hr+Math.imul(Mr,ro)|0,hr=hr+Math.imul(Pr,yo)|0,lr=lr+Math.imul(Pr,ro)|0;var ko=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(ko>>>26)|0,ko&=67108863,gr=Math.imul(Tr,an),hr=Math.imul(Tr,rn),hr=hr+Math.imul(Er,an)|0,lr=Math.imul(Er,rn),gr=gr+Math.imul(Ir,yo)|0,hr=hr+Math.imul(Ir,ro)|0,hr=hr+Math.imul(qr,yo)|0,lr=lr+Math.imul(qr,ro)|0,gr=gr+Math.imul(Mr,vo)|0,hr=hr+Math.imul(Mr,po)|0,hr=hr+Math.imul(Pr,vo)|0,lr=lr+Math.imul(Pr,po)|0;var Ao=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,gr=Math.imul(Nr,an),hr=Math.imul(Nr,rn),hr=hr+Math.imul(zr,an)|0,lr=Math.imul(zr,rn),gr=gr+Math.imul(Tr,yo)|0,hr=hr+Math.imul(Tr,ro)|0,hr=hr+Math.imul(Er,yo)|0,lr=lr+Math.imul(Er,ro)|0,gr=gr+Math.imul(Ir,vo)|0,hr=hr+Math.imul(Ir,po)|0,hr=hr+Math.imul(qr,vo)|0,lr=lr+Math.imul(qr,po)|0,gr=gr+Math.imul(Mr,Mo)|0,hr=hr+Math.imul(Mr,_o)|0,hr=hr+Math.imul(Pr,Mo)|0,lr=lr+Math.imul(Pr,_o)|0;var Oo=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,gr=Math.imul(jr,an),hr=Math.imul(jr,rn),hr=hr+Math.imul(Ur,an)|0,lr=Math.imul(Ur,rn),gr=gr+Math.imul(Nr,yo)|0,hr=hr+Math.imul(Nr,ro)|0,hr=hr+Math.imul(zr,yo)|0,lr=lr+Math.imul(zr,ro)|0,gr=gr+Math.imul(Tr,vo)|0,hr=hr+Math.imul(Tr,po)|0,hr=hr+Math.imul(Er,vo)|0,lr=lr+Math.imul(Er,po)|0,gr=gr+Math.imul(Ir,Mo)|0,hr=hr+Math.imul(Ir,_o)|0,hr=hr+Math.imul(qr,Mo)|0,lr=lr+Math.imul(qr,_o)|0,gr=gr+Math.imul(Mr,Do)|0,hr=hr+Math.imul(Mr,mo)|0,hr=hr+Math.imul(Pr,Do)|0,lr=lr+Math.imul(Pr,mo)|0;var Xo=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,gr=Math.imul(Gr,an),hr=Math.imul(Gr,rn),hr=hr+Math.imul(Wr,an)|0,lr=Math.imul(Wr,rn),gr=gr+Math.imul(jr,yo)|0,hr=hr+Math.imul(jr,ro)|0,hr=hr+Math.imul(Ur,yo)|0,lr=lr+Math.imul(Ur,ro)|0,gr=gr+Math.imul(Nr,vo)|0,hr=hr+Math.imul(Nr,po)|0,hr=hr+Math.imul(zr,vo)|0,lr=lr+Math.imul(zr,po)|0,gr=gr+Math.imul(Tr,Mo)|0,hr=hr+Math.imul(Tr,_o)|0,hr=hr+Math.imul(Er,Mo)|0,lr=lr+Math.imul(Er,_o)|0,gr=gr+Math.imul(Ir,Do)|0,hr=hr+Math.imul(Ir,mo)|0,hr=hr+Math.imul(qr,Do)|0,lr=lr+Math.imul(qr,mo)|0,gr=gr+Math.imul(Mr,Fo)|0,hr=hr+Math.imul(Mr,Yr)|0,hr=hr+Math.imul(Pr,Fo)|0,lr=lr+Math.imul(Pr,Yr)|0;var es=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(es>>>26)|0,es&=67108863,gr=Math.imul(Ln,an),hr=Math.imul(Ln,rn),hr=hr+Math.imul(Un,an)|0,lr=Math.imul(Un,rn),gr=gr+Math.imul(Gr,yo)|0,hr=hr+Math.imul(Gr,ro)|0,hr=hr+Math.imul(Wr,yo)|0,lr=lr+Math.imul(Wr,ro)|0,gr=gr+Math.imul(jr,vo)|0,hr=hr+Math.imul(jr,po)|0,hr=hr+Math.imul(Ur,vo)|0,lr=lr+Math.imul(Ur,po)|0,gr=gr+Math.imul(Nr,Mo)|0,hr=hr+Math.imul(Nr,_o)|0,hr=hr+Math.imul(zr,Mo)|0,lr=lr+Math.imul(zr,_o)|0,gr=gr+Math.imul(Tr,Do)|0,hr=hr+Math.imul(Tr,mo)|0,hr=hr+Math.imul(Er,Do)|0,lr=lr+Math.imul(Er,mo)|0,gr=gr+Math.imul(Ir,Fo)|0,hr=hr+Math.imul(Ir,Yr)|0,hr=hr+Math.imul(qr,Fo)|0,lr=lr+Math.imul(qr,Yr)|0,gr=gr+Math.imul(Mr,Cn)|0,hr=hr+Math.imul(Mr,Nn)|0,hr=hr+Math.imul(Pr,Cn)|0,lr=lr+Math.imul(Pr,Nn)|0;var Ho=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,gr=Math.imul(io,an),hr=Math.imul(io,rn),hr=hr+Math.imul(zn,an)|0,lr=Math.imul(zn,rn),gr=gr+Math.imul(Ln,yo)|0,hr=hr+Math.imul(Ln,ro)|0,hr=hr+Math.imul(Un,yo)|0,lr=lr+Math.imul(Un,ro)|0,gr=gr+Math.imul(Gr,vo)|0,hr=hr+Math.imul(Gr,po)|0,hr=hr+Math.imul(Wr,vo)|0,lr=lr+Math.imul(Wr,po)|0,gr=gr+Math.imul(jr,Mo)|0,hr=hr+Math.imul(jr,_o)|0,hr=hr+Math.imul(Ur,Mo)|0,lr=lr+Math.imul(Ur,_o)|0,gr=gr+Math.imul(Nr,Do)|0,hr=hr+Math.imul(Nr,mo)|0,hr=hr+Math.imul(zr,Do)|0,lr=lr+Math.imul(zr,mo)|0,gr=gr+Math.imul(Tr,Fo)|0,hr=hr+Math.imul(Tr,Yr)|0,hr=hr+Math.imul(Er,Fo)|0,lr=lr+Math.imul(Er,Yr)|0,gr=gr+Math.imul(Ir,Cn)|0,hr=hr+Math.imul(Ir,Nn)|0,hr=hr+Math.imul(qr,Cn)|0,lr=lr+Math.imul(qr,Nn)|0,gr=gr+Math.imul(Mr,lo)|0,hr=hr+Math.imul(Mr,Qn)|0,hr=hr+Math.imul(Pr,lo)|0,lr=lr+Math.imul(Pr,Qn)|0;var No=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(No>>>26)|0,No&=67108863,gr=Math.imul(bo,an),hr=Math.imul(bo,rn),hr=hr+Math.imul(Or,an)|0,lr=Math.imul(Or,rn),gr=gr+Math.imul(io,yo)|0,hr=hr+Math.imul(io,ro)|0,hr=hr+Math.imul(zn,yo)|0,lr=lr+Math.imul(zn,ro)|0,gr=gr+Math.imul(Ln,vo)|0,hr=hr+Math.imul(Ln,po)|0,hr=hr+Math.imul(Un,vo)|0,lr=lr+Math.imul(Un,po)|0,gr=gr+Math.imul(Gr,Mo)|0,hr=hr+Math.imul(Gr,_o)|0,hr=hr+Math.imul(Wr,Mo)|0,lr=lr+Math.imul(Wr,_o)|0,gr=gr+Math.imul(jr,Do)|0,hr=hr+Math.imul(jr,mo)|0,hr=hr+Math.imul(Ur,Do)|0,lr=lr+Math.imul(Ur,mo)|0,gr=gr+Math.imul(Nr,Fo)|0,hr=hr+Math.imul(Nr,Yr)|0,hr=hr+Math.imul(zr,Fo)|0,lr=lr+Math.imul(zr,Yr)|0,gr=gr+Math.imul(Tr,Cn)|0,hr=hr+Math.imul(Tr,Nn)|0,hr=hr+Math.imul(Er,Cn)|0,lr=lr+Math.imul(Er,Nn)|0,gr=gr+Math.imul(Ir,lo)|0,hr=hr+Math.imul(Ir,Qn)|0,hr=hr+Math.imul(qr,lo)|0,lr=lr+Math.imul(qr,Qn)|0,gr=gr+Math.imul(Mr,oo)|0,hr=hr+Math.imul(Mr,Gn)|0,hr=hr+Math.imul(Pr,oo)|0,lr=lr+Math.imul(Pr,Gn)|0;var rs=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(rs>>>26)|0,rs&=67108863,gr=Math.imul(kr,an),hr=Math.imul(kr,rn),hr=hr+Math.imul(Lr,an)|0,lr=Math.imul(Lr,rn),gr=gr+Math.imul(bo,yo)|0,hr=hr+Math.imul(bo,ro)|0,hr=hr+Math.imul(Or,yo)|0,lr=lr+Math.imul(Or,ro)|0,gr=gr+Math.imul(io,vo)|0,hr=hr+Math.imul(io,po)|0,hr=hr+Math.imul(zn,vo)|0,lr=lr+Math.imul(zn,po)|0,gr=gr+Math.imul(Ln,Mo)|0,hr=hr+Math.imul(Ln,_o)|0,hr=hr+Math.imul(Un,Mo)|0,lr=lr+Math.imul(Un,_o)|0,gr=gr+Math.imul(Gr,Do)|0,hr=hr+Math.imul(Gr,mo)|0,hr=hr+Math.imul(Wr,Do)|0,lr=lr+Math.imul(Wr,mo)|0,gr=gr+Math.imul(jr,Fo)|0,hr=hr+Math.imul(jr,Yr)|0,hr=hr+Math.imul(Ur,Fo)|0,lr=lr+Math.imul(Ur,Yr)|0,gr=gr+Math.imul(Nr,Cn)|0,hr=hr+Math.imul(Nr,Nn)|0,hr=hr+Math.imul(zr,Cn)|0,lr=lr+Math.imul(zr,Nn)|0,gr=gr+Math.imul(Tr,lo)|0,hr=hr+Math.imul(Tr,Qn)|0,hr=hr+Math.imul(Er,lo)|0,lr=lr+Math.imul(Er,Qn)|0,gr=gr+Math.imul(Ir,oo)|0,hr=hr+Math.imul(Ir,Gn)|0,hr=hr+Math.imul(qr,oo)|0,lr=lr+Math.imul(qr,Gn)|0,gr=gr+Math.imul(Mr,go)|0,hr=hr+Math.imul(Mr,fo)|0,hr=hr+Math.imul(Pr,go)|0,lr=lr+Math.imul(Pr,fo)|0;var Go=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Go>>>26)|0,Go&=67108863,gr=Math.imul(kr,yo),hr=Math.imul(kr,ro),hr=hr+Math.imul(Lr,yo)|0,lr=Math.imul(Lr,ro),gr=gr+Math.imul(bo,vo)|0,hr=hr+Math.imul(bo,po)|0,hr=hr+Math.imul(Or,vo)|0,lr=lr+Math.imul(Or,po)|0,gr=gr+Math.imul(io,Mo)|0,hr=hr+Math.imul(io,_o)|0,hr=hr+Math.imul(zn,Mo)|0,lr=lr+Math.imul(zn,_o)|0,gr=gr+Math.imul(Ln,Do)|0,hr=hr+Math.imul(Ln,mo)|0,hr=hr+Math.imul(Un,Do)|0,lr=lr+Math.imul(Un,mo)|0,gr=gr+Math.imul(Gr,Fo)|0,hr=hr+Math.imul(Gr,Yr)|0,hr=hr+Math.imul(Wr,Fo)|0,lr=lr+Math.imul(Wr,Yr)|0,gr=gr+Math.imul(jr,Cn)|0,hr=hr+Math.imul(jr,Nn)|0,hr=hr+Math.imul(Ur,Cn)|0,lr=lr+Math.imul(Ur,Nn)|0,gr=gr+Math.imul(Nr,lo)|0,hr=hr+Math.imul(Nr,Qn)|0,hr=hr+Math.imul(zr,lo)|0,lr=lr+Math.imul(zr,Qn)|0,gr=gr+Math.imul(Tr,oo)|0,hr=hr+Math.imul(Tr,Gn)|0,hr=hr+Math.imul(Er,oo)|0,lr=lr+Math.imul(Er,Gn)|0,gr=gr+Math.imul(Ir,go)|0,hr=hr+Math.imul(Ir,fo)|0,hr=hr+Math.imul(qr,go)|0,lr=lr+Math.imul(qr,fo)|0;var Zo=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,gr=Math.imul(kr,vo),hr=Math.imul(kr,po),hr=hr+Math.imul(Lr,vo)|0,lr=Math.imul(Lr,po),gr=gr+Math.imul(bo,Mo)|0,hr=hr+Math.imul(bo,_o)|0,hr=hr+Math.imul(Or,Mo)|0,lr=lr+Math.imul(Or,_o)|0,gr=gr+Math.imul(io,Do)|0,hr=hr+Math.imul(io,mo)|0,hr=hr+Math.imul(zn,Do)|0,lr=lr+Math.imul(zn,mo)|0,gr=gr+Math.imul(Ln,Fo)|0,hr=hr+Math.imul(Ln,Yr)|0,hr=hr+Math.imul(Un,Fo)|0,lr=lr+Math.imul(Un,Yr)|0,gr=gr+Math.imul(Gr,Cn)|0,hr=hr+Math.imul(Gr,Nn)|0,hr=hr+Math.imul(Wr,Cn)|0,lr=lr+Math.imul(Wr,Nn)|0,gr=gr+Math.imul(jr,lo)|0,hr=hr+Math.imul(jr,Qn)|0,hr=hr+Math.imul(Ur,lo)|0,lr=lr+Math.imul(Ur,Qn)|0,gr=gr+Math.imul(Nr,oo)|0,hr=hr+Math.imul(Nr,Gn)|0,hr=hr+Math.imul(zr,oo)|0,lr=lr+Math.imul(zr,Gn)|0,gr=gr+Math.imul(Tr,go)|0,hr=hr+Math.imul(Tr,fo)|0,hr=hr+Math.imul(Er,go)|0,lr=lr+Math.imul(Er,fo)|0;var ga=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(ga>>>26)|0,ga&=67108863,gr=Math.imul(kr,Mo),hr=Math.imul(kr,_o),hr=hr+Math.imul(Lr,Mo)|0,lr=Math.imul(Lr,_o),gr=gr+Math.imul(bo,Do)|0,hr=hr+Math.imul(bo,mo)|0,hr=hr+Math.imul(Or,Do)|0,lr=lr+Math.imul(Or,mo)|0,gr=gr+Math.imul(io,Fo)|0,hr=hr+Math.imul(io,Yr)|0,hr=hr+Math.imul(zn,Fo)|0,lr=lr+Math.imul(zn,Yr)|0,gr=gr+Math.imul(Ln,Cn)|0,hr=hr+Math.imul(Ln,Nn)|0,hr=hr+Math.imul(Un,Cn)|0,lr=lr+Math.imul(Un,Nn)|0,gr=gr+Math.imul(Gr,lo)|0,hr=hr+Math.imul(Gr,Qn)|0,hr=hr+Math.imul(Wr,lo)|0,lr=lr+Math.imul(Wr,Qn)|0,gr=gr+Math.imul(jr,oo)|0,hr=hr+Math.imul(jr,Gn)|0,hr=hr+Math.imul(Ur,oo)|0,lr=lr+Math.imul(Ur,Gn)|0,gr=gr+Math.imul(Nr,go)|0,hr=hr+Math.imul(Nr,fo)|0,hr=hr+Math.imul(zr,go)|0,lr=lr+Math.imul(zr,fo)|0;var xa=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(xa>>>26)|0,xa&=67108863,gr=Math.imul(kr,Do),hr=Math.imul(kr,mo),hr=hr+Math.imul(Lr,Do)|0,lr=Math.imul(Lr,mo),gr=gr+Math.imul(bo,Fo)|0,hr=hr+Math.imul(bo,Yr)|0,hr=hr+Math.imul(Or,Fo)|0,lr=lr+Math.imul(Or,Yr)|0,gr=gr+Math.imul(io,Cn)|0,hr=hr+Math.imul(io,Nn)|0,hr=hr+Math.imul(zn,Cn)|0,lr=lr+Math.imul(zn,Nn)|0,gr=gr+Math.imul(Ln,lo)|0,hr=hr+Math.imul(Ln,Qn)|0,hr=hr+Math.imul(Un,lo)|0,lr=lr+Math.imul(Un,Qn)|0,gr=gr+Math.imul(Gr,oo)|0,hr=hr+Math.imul(Gr,Gn)|0,hr=hr+Math.imul(Wr,oo)|0,lr=lr+Math.imul(Wr,Gn)|0,gr=gr+Math.imul(jr,go)|0,hr=hr+Math.imul(jr,fo)|0,hr=hr+Math.imul(Ur,go)|0,lr=lr+Math.imul(Ur,fo)|0;var To=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(To>>>26)|0,To&=67108863,gr=Math.imul(kr,Fo),hr=Math.imul(kr,Yr),hr=hr+Math.imul(Lr,Fo)|0,lr=Math.imul(Lr,Yr),gr=gr+Math.imul(bo,Cn)|0,hr=hr+Math.imul(bo,Nn)|0,hr=hr+Math.imul(Or,Cn)|0,lr=lr+Math.imul(Or,Nn)|0,gr=gr+Math.imul(io,lo)|0,hr=hr+Math.imul(io,Qn)|0,hr=hr+Math.imul(zn,lo)|0,lr=lr+Math.imul(zn,Qn)|0,gr=gr+Math.imul(Ln,oo)|0,hr=hr+Math.imul(Ln,Gn)|0,hr=hr+Math.imul(Un,oo)|0,lr=lr+Math.imul(Un,Gn)|0,gr=gr+Math.imul(Gr,go)|0,hr=hr+Math.imul(Gr,fo)|0,hr=hr+Math.imul(Wr,go)|0,lr=lr+Math.imul(Wr,fo)|0;var Po=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Po>>>26)|0,Po&=67108863,gr=Math.imul(kr,Cn),hr=Math.imul(kr,Nn),hr=hr+Math.imul(Lr,Cn)|0,lr=Math.imul(Lr,Nn),gr=gr+Math.imul(bo,lo)|0,hr=hr+Math.imul(bo,Qn)|0,hr=hr+Math.imul(Or,lo)|0,lr=lr+Math.imul(Or,Qn)|0,gr=gr+Math.imul(io,oo)|0,hr=hr+Math.imul(io,Gn)|0,hr=hr+Math.imul(zn,oo)|0,lr=lr+Math.imul(zn,Gn)|0,gr=gr+Math.imul(Ln,go)|0,hr=hr+Math.imul(Ln,fo)|0,hr=hr+Math.imul(Un,go)|0,lr=lr+Math.imul(Un,fo)|0;var Qo=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,gr=Math.imul(kr,lo),hr=Math.imul(kr,Qn),hr=hr+Math.imul(Lr,lo)|0,lr=Math.imul(Lr,Qn),gr=gr+Math.imul(bo,oo)|0,hr=hr+Math.imul(bo,Gn)|0,hr=hr+Math.imul(Or,oo)|0,lr=lr+Math.imul(Or,Gn)|0,gr=gr+Math.imul(io,go)|0,hr=hr+Math.imul(io,fo)|0,hr=hr+Math.imul(zn,go)|0,lr=lr+Math.imul(zn,fo)|0;var ts=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(ts>>>26)|0,ts&=67108863,gr=Math.imul(kr,oo),hr=Math.imul(kr,Gn),hr=hr+Math.imul(Lr,oo)|0,lr=Math.imul(Lr,Gn),gr=gr+Math.imul(bo,go)|0,hr=hr+Math.imul(bo,fo)|0,hr=hr+Math.imul(Or,go)|0,lr=lr+Math.imul(Or,fo)|0;var Lo=(cr+gr|0)+((hr&8191)<<13)|0;cr=(lr+(hr>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,gr=Math.imul(kr,go),hr=Math.imul(kr,fo),hr=hr+Math.imul(Lr,go)|0,lr=Math.imul(Lr,fo);var Vr=(cr+gr|0)+((hr&8191)<<13)|0;return cr=(lr+(hr>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,pr[0]=Co,pr[1]=ko,pr[2]=Ao,pr[3]=Oo,pr[4]=Xo,pr[5]=es,pr[6]=Ho,pr[7]=No,pr[8]=rs,pr[9]=Go,pr[10]=Zo,pr[11]=ga,pr[12]=xa,pr[13]=To,pr[14]=Po,pr[15]=Qo,pr[16]=ts,pr[17]=Lo,pr[18]=Vr,cr!==0&&(pr[19]=cr,or.length++),or};Math.imul||(tr=er);function nr(_r,ir,rr){rr.negative=ir.negative^_r.negative,rr.length=_r.length+ir.length;for(var or=0,ar=0,ur=0;ur<rr.length-1;ur++){var pr=ar;ar=0;for(var cr=or&67108863,gr=Math.min(ur,ir.length-1),hr=Math.max(0,ur-_r.length+1);hr<=gr;hr++){var lr=ur-hr,xr=_r.words[lr]|0,Mr=ir.words[hr]|0,Pr=xr*Mr,Ar=Pr&67108863;pr=pr+(Pr/67108864|0)|0,Ar=Ar+cr|0,cr=Ar&67108863,pr=pr+(Ar>>>26)|0,ar+=pr>>>26,pr&=67108863}rr.words[ur]=cr,or=pr,pr=ar}return or!==0?rr.words[ur]=or:rr.length--,rr._strip()}function sr(_r,ir,rr){return nr(_r,ir,rr)}mt.prototype.mulTo=function(ir,rr){var or,ar=this.length+ir.length;return this.length===10&&ir.length===10?or=tr(this,ir,rr):ar<63?or=er(this,ir,rr):ar<1024?or=nr(this,ir,rr):or=sr(this,ir,rr),or},mt.prototype.mul=function(ir){var rr=new mt(null);return rr.words=new Array(this.length+ir.length),this.mulTo(ir,rr)},mt.prototype.mulf=function(ir){var rr=new mt(null);return rr.words=new Array(this.length+ir.length),sr(this,ir,rr)},mt.prototype.imul=function(ir){return this.clone().mulTo(ir,this)},mt.prototype.imuln=function(ir){var rr=ir<0;rr&&(ir=-ir),nt(typeof ir=="number"),nt(ir<67108864);for(var or=0,ar=0;ar<this.length;ar++){var ur=(this.words[ar]|0)*ir,pr=(ur&67108863)+(or&67108863);or>>=26,or+=ur/67108864|0,or+=pr>>>26,this.words[ar]=pr&67108863}return or!==0&&(this.words[ar]=or,this.length++),rr?this.ineg():this},mt.prototype.muln=function(ir){return this.clone().imuln(ir)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(ir){var rr=Yt(ir);if(rr.length===0)return new mt(1);for(var or=this,ar=0;ar<rr.length&&rr[ar]===0;ar++,or=or.sqr());if(++ar<rr.length)for(var ur=or.sqr();ar<rr.length;ar++,ur=ur.sqr())rr[ar]!==0&&(or=or.mul(ur));return or},mt.prototype.iushln=function(ir){nt(typeof ir=="number"&&ir>=0);var rr=ir%26,or=(ir-rr)/26,ar=67108863>>>26-rr<<26-rr,ur;if(rr!==0){var pr=0;for(ur=0;ur<this.length;ur++){var cr=this.words[ur]&ar,gr=(this.words[ur]|0)-cr<<rr;this.words[ur]=gr|pr,pr=cr>>>26-rr}pr&&(this.words[ur]=pr,this.length++)}if(or!==0){for(ur=this.length-1;ur>=0;ur--)this.words[ur+or]=this.words[ur];for(ur=0;ur<or;ur++)this.words[ur]=0;this.length+=or}return this._strip()},mt.prototype.ishln=function(ir){return nt(this.negative===0),this.iushln(ir)},mt.prototype.iushrn=function(ir,rr,or){nt(typeof ir=="number"&&ir>=0);var ar;rr?ar=(rr-rr%26)/26:ar=0;var ur=ir%26,pr=Math.min((ir-ur)/26,this.length),cr=67108863^67108863>>>ur<<ur,gr=or;if(ar-=pr,ar=Math.max(0,ar),gr){for(var hr=0;hr<pr;hr++)gr.words[hr]=this.words[hr];gr.length=pr}if(pr!==0)if(this.length>pr)for(this.length-=pr,hr=0;hr<this.length;hr++)this.words[hr]=this.words[hr+pr];else this.words[0]=0,this.length=1;var lr=0;for(hr=this.length-1;hr>=0&&(lr!==0||hr>=ar);hr--){var xr=this.words[hr]|0;this.words[hr]=lr<<26-ur|xr>>>ur,lr=xr&cr}return gr&&lr!==0&&(gr.words[gr.length++]=lr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},mt.prototype.ishrn=function(ir,rr,or){return nt(this.negative===0),this.iushrn(ir,rr,or)},mt.prototype.shln=function(ir){return this.clone().ishln(ir)},mt.prototype.ushln=function(ir){return this.clone().iushln(ir)},mt.prototype.shrn=function(ir){return this.clone().ishrn(ir)},mt.prototype.ushrn=function(ir){return this.clone().iushrn(ir)},mt.prototype.testn=function(ir){nt(typeof ir=="number"&&ir>=0);var rr=ir%26,or=(ir-rr)/26,ar=1<<rr;if(this.length<=or)return!1;var ur=this.words[or];return!!(ur&ar)},mt.prototype.imaskn=function(ir){nt(typeof ir=="number"&&ir>=0);var rr=ir%26,or=(ir-rr)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=or)return this;if(rr!==0&&or++,this.length=Math.min(or,this.length),rr!==0){var ar=67108863^67108863>>>rr<<rr;this.words[this.length-1]&=ar}return this._strip()},mt.prototype.maskn=function(ir){return this.clone().imaskn(ir)},mt.prototype.iaddn=function(ir){return nt(typeof ir=="number"),nt(ir<67108864),ir<0?this.isubn(-ir):this.negative!==0?this.length===1&&(this.words[0]|0)<=ir?(this.words[0]=ir-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ir),this.negative=1,this):this._iaddn(ir)},mt.prototype._iaddn=function(ir){this.words[0]+=ir;for(var rr=0;rr<this.length&&this.words[rr]>=67108864;rr++)this.words[rr]-=67108864,rr===this.length-1?this.words[rr+1]=1:this.words[rr+1]++;return this.length=Math.max(this.length,rr+1),this},mt.prototype.isubn=function(ir){if(nt(typeof ir=="number"),nt(ir<67108864),ir<0)return this.iaddn(-ir);if(this.negative!==0)return this.negative=0,this.iaddn(ir),this.negative=1,this;if(this.words[0]-=ir,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var rr=0;rr<this.length&&this.words[rr]<0;rr++)this.words[rr]+=67108864,this.words[rr+1]-=1;return this._strip()},mt.prototype.addn=function(ir){return this.clone().iaddn(ir)},mt.prototype.subn=function(ir){return this.clone().isubn(ir)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(ir,rr,or){var ar=ir.length+or,ur;this._expand(ar);var pr,cr=0;for(ur=0;ur<ir.length;ur++){pr=(this.words[ur+or]|0)+cr;var gr=(ir.words[ur]|0)*rr;pr-=gr&67108863,cr=(pr>>26)-(gr/67108864|0),this.words[ur+or]=pr&67108863}for(;ur<this.length-or;ur++)pr=(this.words[ur+or]|0)+cr,cr=pr>>26,this.words[ur+or]=pr&67108863;if(cr===0)return this._strip();for(nt(cr===-1),cr=0,ur=0;ur<this.length;ur++)pr=-(this.words[ur]|0)+cr,cr=pr>>26,this.words[ur]=pr&67108863;return this.negative=1,this._strip()},mt.prototype._wordDiv=function(ir,rr){var or=this.length-ir.length,ar=this.clone(),ur=ir,pr=ur.words[ur.length-1]|0,cr=this._countBits(pr);or=26-cr,or!==0&&(ur=ur.ushln(or),ar.iushln(or),pr=ur.words[ur.length-1]|0);var gr=ar.length-ur.length,hr;if(rr!=="mod"){hr=new mt(null),hr.length=gr+1,hr.words=new Array(hr.length);for(var lr=0;lr<hr.length;lr++)hr.words[lr]=0}var xr=ar.clone()._ishlnsubmul(ur,1,gr);xr.negative===0&&(ar=xr,hr&&(hr.words[gr]=1));for(var Mr=gr-1;Mr>=0;Mr--){var Pr=(ar.words[ur.length+Mr]|0)*67108864+(ar.words[ur.length+Mr-1]|0);for(Pr=Math.min(Pr/pr|0,67108863),ar._ishlnsubmul(ur,Pr,Mr);ar.negative!==0;)Pr--,ar.negative=0,ar._ishlnsubmul(ur,1,Mr),ar.isZero()||(ar.negative^=1);hr&&(hr.words[Mr]=Pr)}return hr&&hr._strip(),ar._strip(),rr!=="div"&&or!==0&&ar.iushrn(or),{div:hr||null,mod:ar}},mt.prototype.divmod=function(ir,rr,or){if(nt(!ir.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var ar,ur,pr;return this.negative!==0&&ir.negative===0?(pr=this.neg().divmod(ir,rr),rr!=="mod"&&(ar=pr.div.neg()),rr!=="div"&&(ur=pr.mod.neg(),or&&ur.negative!==0&&ur.iadd(ir)),{div:ar,mod:ur}):this.negative===0&&ir.negative!==0?(pr=this.divmod(ir.neg(),rr),rr!=="mod"&&(ar=pr.div.neg()),{div:ar,mod:pr.mod}):this.negative&ir.negative?(pr=this.neg().divmod(ir.neg(),rr),rr!=="div"&&(ur=pr.mod.neg(),or&&ur.negative!==0&&ur.isub(ir)),{div:pr.div,mod:ur}):ir.length>this.length||this.cmp(ir)<0?{div:new mt(0),mod:this}:ir.length===1?rr==="div"?{div:this.divn(ir.words[0]),mod:null}:rr==="mod"?{div:null,mod:new mt(this.modrn(ir.words[0]))}:{div:this.divn(ir.words[0]),mod:new mt(this.modrn(ir.words[0]))}:this._wordDiv(ir,rr)},mt.prototype.div=function(ir){return this.divmod(ir,"div",!1).div},mt.prototype.mod=function(ir){return this.divmod(ir,"mod",!1).mod},mt.prototype.umod=function(ir){return this.divmod(ir,"mod",!0).mod},mt.prototype.divRound=function(ir){var rr=this.divmod(ir);if(rr.mod.isZero())return rr.div;var or=rr.div.negative!==0?rr.mod.isub(ir):rr.mod,ar=ir.ushrn(1),ur=ir.andln(1),pr=or.cmp(ar);return pr<0||ur===1&&pr===0?rr.div:rr.div.negative!==0?rr.div.isubn(1):rr.div.iaddn(1)},mt.prototype.modrn=function(ir){var rr=ir<0;rr&&(ir=-ir),nt(ir<=67108863);for(var or=(1<<26)%ir,ar=0,ur=this.length-1;ur>=0;ur--)ar=(or*ar+(this.words[ur]|0))%ir;return rr?-ar:ar},mt.prototype.modn=function(ir){return this.modrn(ir)},mt.prototype.idivn=function(ir){var rr=ir<0;rr&&(ir=-ir),nt(ir<=67108863);for(var or=0,ar=this.length-1;ar>=0;ar--){var ur=(this.words[ar]|0)+or*67108864;this.words[ar]=ur/ir|0,or=ur%ir}return this._strip(),rr?this.ineg():this},mt.prototype.divn=function(ir){return this.clone().idivn(ir)},mt.prototype.egcd=function(ir){nt(ir.negative===0),nt(!ir.isZero());var rr=this,or=ir.clone();rr.negative!==0?rr=rr.umod(ir):rr=rr.clone();for(var ar=new mt(1),ur=new mt(0),pr=new mt(0),cr=new mt(1),gr=0;rr.isEven()&&or.isEven();)rr.iushrn(1),or.iushrn(1),++gr;for(var hr=or.clone(),lr=rr.clone();!rr.isZero();){for(var xr=0,Mr=1;!(rr.words[0]&Mr)&&xr<26;++xr,Mr<<=1);if(xr>0)for(rr.iushrn(xr);xr-- >0;)(ar.isOdd()||ur.isOdd())&&(ar.iadd(hr),ur.isub(lr)),ar.iushrn(1),ur.iushrn(1);for(var Pr=0,Ar=1;!(or.words[0]&Ar)&&Pr<26;++Pr,Ar<<=1);if(Pr>0)for(or.iushrn(Pr);Pr-- >0;)(pr.isOdd()||cr.isOdd())&&(pr.iadd(hr),cr.isub(lr)),pr.iushrn(1),cr.iushrn(1);rr.cmp(or)>=0?(rr.isub(or),ar.isub(pr),ur.isub(cr)):(or.isub(rr),pr.isub(ar),cr.isub(ur))}return{a:pr,b:cr,gcd:or.iushln(gr)}},mt.prototype._invmp=function(ir){nt(ir.negative===0),nt(!ir.isZero());var rr=this,or=ir.clone();rr.negative!==0?rr=rr.umod(ir):rr=rr.clone();for(var ar=new mt(1),ur=new mt(0),pr=or.clone();rr.cmpn(1)>0&&or.cmpn(1)>0;){for(var cr=0,gr=1;!(rr.words[0]&gr)&&cr<26;++cr,gr<<=1);if(cr>0)for(rr.iushrn(cr);cr-- >0;)ar.isOdd()&&ar.iadd(pr),ar.iushrn(1);for(var hr=0,lr=1;!(or.words[0]&lr)&&hr<26;++hr,lr<<=1);if(hr>0)for(or.iushrn(hr);hr-- >0;)ur.isOdd()&&ur.iadd(pr),ur.iushrn(1);rr.cmp(or)>=0?(rr.isub(or),ar.isub(ur)):(or.isub(rr),ur.isub(ar))}var xr;return rr.cmpn(1)===0?xr=ar:xr=ur,xr.cmpn(0)<0&&xr.iadd(ir),xr},mt.prototype.gcd=function(ir){if(this.isZero())return ir.abs();if(ir.isZero())return this.abs();var rr=this.clone(),or=ir.clone();rr.negative=0,or.negative=0;for(var ar=0;rr.isEven()&&or.isEven();ar++)rr.iushrn(1),or.iushrn(1);do{for(;rr.isEven();)rr.iushrn(1);for(;or.isEven();)or.iushrn(1);var ur=rr.cmp(or);if(ur<0){var pr=rr;rr=or,or=pr}else if(ur===0||or.cmpn(1)===0)break;rr.isub(or)}while(!0);return or.iushln(ar)},mt.prototype.invm=function(ir){return this.egcd(ir).a.umod(ir)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(ir){return this.words[0]&ir},mt.prototype.bincn=function(ir){nt(typeof ir=="number");var rr=ir%26,or=(ir-rr)/26,ar=1<<rr;if(this.length<=or)return this._expand(or+1),this.words[or]|=ar,this;for(var ur=ar,pr=or;ur!==0&&pr<this.length;pr++){var cr=this.words[pr]|0;cr+=ur,ur=cr>>>26,cr&=67108863,this.words[pr]=cr}return ur!==0&&(this.words[pr]=ur,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(ir){var rr=ir<0;if(this.negative!==0&&!rr)return-1;if(this.negative===0&&rr)return 1;this._strip();var or;if(this.length>1)or=1;else{rr&&(ir=-ir),nt(ir<=67108863,"Number is too big");var ar=this.words[0]|0;or=ar===ir?0:ar<ir?-1:1}return this.negative!==0?-or|0:or},mt.prototype.cmp=function(ir){if(this.negative!==0&&ir.negative===0)return-1;if(this.negative===0&&ir.negative!==0)return 1;var rr=this.ucmp(ir);return this.negative!==0?-rr|0:rr},mt.prototype.ucmp=function(ir){if(this.length>ir.length)return 1;if(this.length<ir.length)return-1;for(var rr=0,or=this.length-1;or>=0;or--){var ar=this.words[or]|0,ur=ir.words[or]|0;if(ar!==ur){ar<ur?rr=-1:ar>ur&&(rr=1);break}}return rr},mt.prototype.gtn=function(ir){return this.cmpn(ir)===1},mt.prototype.gt=function(ir){return this.cmp(ir)===1},mt.prototype.gten=function(ir){return this.cmpn(ir)>=0},mt.prototype.gte=function(ir){return this.cmp(ir)>=0},mt.prototype.ltn=function(ir){return this.cmpn(ir)===-1},mt.prototype.lt=function(ir){return this.cmp(ir)===-1},mt.prototype.lten=function(ir){return this.cmpn(ir)<=0},mt.prototype.lte=function(ir){return this.cmp(ir)<=0},mt.prototype.eqn=function(ir){return this.cmpn(ir)===0},mt.prototype.eq=function(ir){return this.cmp(ir)===0},mt.red=function(ir){return new wr(ir)},mt.prototype.toRed=function(ir){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),ir.convertTo(this)._forceRed(ir)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(ir){return this.red=ir,this},mt.prototype.forceRed=function(ir){return nt(!this.red,"Already a number in reduction context"),this._forceRed(ir)},mt.prototype.redAdd=function(ir){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,ir)},mt.prototype.redIAdd=function(ir){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ir)},mt.prototype.redSub=function(ir){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,ir)},mt.prototype.redISub=function(ir){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,ir)},mt.prototype.redShl=function(ir){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,ir)},mt.prototype.redMul=function(ir){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ir),this.red.mul(this,ir)},mt.prototype.redIMul=function(ir){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,ir),this.red.imul(this,ir)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(ir){return nt(this.red&&!ir.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ir)};var dr={k256:null,p224:null,p192:null,p25519:null};function br(_r,ir){this.name=_r,this.p=new mt(ir,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}br.prototype._tmp=function(){var ir=new mt(null);return ir.words=new Array(Math.ceil(this.n/13)),ir},br.prototype.ireduce=function(ir){var rr=ir,or;do this.split(rr,this.tmp),rr=this.imulK(rr),rr=rr.iadd(this.tmp),or=rr.bitLength();while(or>this.n);var ar=or<this.n?-1:rr.ucmp(this.p);return ar===0?(rr.words[0]=0,rr.length=1):ar>0?rr.isub(this.p):rr.strip!==void 0?rr.strip():rr._strip(),rr},br.prototype.split=function(ir,rr){ir.iushrn(this.n,0,rr)},br.prototype.imulK=function(ir){return ir.imul(this.k)};function vr(){br.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(vr,br),vr.prototype.split=function(ir,rr){for(var or=4194303,ar=Math.min(ir.length,9),ur=0;ur<ar;ur++)rr.words[ur]=ir.words[ur];if(rr.length=ar,ir.length<=9){ir.words[0]=0,ir.length=1;return}var pr=ir.words[9];for(rr.words[rr.length++]=pr&or,ur=10;ur<ir.length;ur++){var cr=ir.words[ur]|0;ir.words[ur-10]=(cr&or)<<4|pr>>>22,pr=cr}pr>>>=22,ir.words[ur-10]=pr,pr===0&&ir.length>10?ir.length-=10:ir.length-=9},vr.prototype.imulK=function(ir){ir.words[ir.length]=0,ir.words[ir.length+1]=0,ir.length+=2;for(var rr=0,or=0;or<ir.length;or++){var ar=ir.words[or]|0;rr+=ar*977,ir.words[or]=rr&67108863,rr=ar*64+(rr/67108864|0)}return ir.words[ir.length-1]===0&&(ir.length--,ir.words[ir.length-1]===0&&ir.length--),ir};function yr(){br.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(yr,br);function $r(){br.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at($r,br);function Sr(){br.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(Sr,br),Sr.prototype.imulK=function(ir){for(var rr=0,or=0;or<ir.length;or++){var ar=(ir.words[or]|0)*19+rr,ur=ar&67108863;ar>>>=26,ir.words[or]=ur,rr=ar}return rr!==0&&(ir.words[ir.length++]=rr),ir},mt._prime=function(ir){if(dr[ir])return dr[ir];var rr;if(ir==="k256")rr=new vr;else if(ir==="p224")rr=new yr;else if(ir==="p192")rr=new $r;else if(ir==="p25519")rr=new Sr;else throw new Error("Unknown prime "+ir);return dr[ir]=rr,rr};function wr(_r){if(typeof _r=="string"){var ir=mt._prime(_r);this.m=ir.p,this.prime=ir}else nt(_r.gtn(1),"modulus must be greater than 1"),this.m=_r,this.prime=null}wr.prototype._verify1=function(ir){nt(ir.negative===0,"red works only with positives"),nt(ir.red,"red works only with red numbers")},wr.prototype._verify2=function(ir,rr){nt((ir.negative|rr.negative)===0,"red works only with positives"),nt(ir.red&&ir.red===rr.red,"red works only with red numbers")},wr.prototype.imod=function(ir){return this.prime?this.prime.ireduce(ir)._forceRed(this):(Ft(ir,ir.umod(this.m)._forceRed(this)),ir)},wr.prototype.neg=function(ir){return ir.isZero()?ir.clone():this.m.sub(ir)._forceRed(this)},wr.prototype.add=function(ir,rr){this._verify2(ir,rr);var or=ir.add(rr);return or.cmp(this.m)>=0&&or.isub(this.m),or._forceRed(this)},wr.prototype.iadd=function(ir,rr){this._verify2(ir,rr);var or=ir.iadd(rr);return or.cmp(this.m)>=0&&or.isub(this.m),or},wr.prototype.sub=function(ir,rr){this._verify2(ir,rr);var or=ir.sub(rr);return or.cmpn(0)<0&&or.iadd(this.m),or._forceRed(this)},wr.prototype.isub=function(ir,rr){this._verify2(ir,rr);var or=ir.isub(rr);return or.cmpn(0)<0&&or.iadd(this.m),or},wr.prototype.shl=function(ir,rr){return this._verify1(ir),this.imod(ir.ushln(rr))},wr.prototype.imul=function(ir,rr){return this._verify2(ir,rr),this.imod(ir.imul(rr))},wr.prototype.mul=function(ir,rr){return this._verify2(ir,rr),this.imod(ir.mul(rr))},wr.prototype.isqr=function(ir){return this.imul(ir,ir.clone())},wr.prototype.sqr=function(ir){return this.mul(ir,ir)},wr.prototype.sqrt=function(ir){if(ir.isZero())return ir.clone();var rr=this.m.andln(3);if(nt(rr%2===1),rr===3){var or=this.m.add(new mt(1)).iushrn(2);return this.pow(ir,or)}for(var ar=this.m.subn(1),ur=0;!ar.isZero()&&ar.andln(1)===0;)ur++,ar.iushrn(1);nt(!ar.isZero());var pr=new mt(1).toRed(this),cr=pr.redNeg(),gr=this.m.subn(1).iushrn(1),hr=this.m.bitLength();for(hr=new mt(2*hr*hr).toRed(this);this.pow(hr,gr).cmp(cr)!==0;)hr.redIAdd(cr);for(var lr=this.pow(hr,ar),xr=this.pow(ir,ar.addn(1).iushrn(1)),Mr=this.pow(ir,ar),Pr=ur;Mr.cmp(pr)!==0;){for(var Ar=Mr,Ir=0;Ar.cmp(pr)!==0;Ir++)Ar=Ar.redSqr();nt(Ir<Pr);var qr=this.pow(lr,new mt(1).iushln(Pr-Ir-1));xr=xr.redMul(qr),lr=qr.redSqr(),Mr=Mr.redMul(lr),Pr=Ir}return xr},wr.prototype.invm=function(ir){var rr=ir._invmp(this.m);return rr.negative!==0?(rr.negative=0,this.imod(rr).redNeg()):this.imod(rr)},wr.prototype.pow=function(ir,rr){if(rr.isZero())return new mt(1).toRed(this);if(rr.cmpn(1)===0)return ir.clone();var or=4,ar=new Array(1<<or);ar[0]=new mt(1).toRed(this),ar[1]=ir;for(var ur=2;ur<ar.length;ur++)ar[ur]=this.mul(ar[ur-1],ir);var pr=ar[0],cr=0,gr=0,hr=rr.bitLength()%26;for(hr===0&&(hr=26),ur=rr.length-1;ur>=0;ur--){for(var lr=rr.words[ur],xr=hr-1;xr>=0;xr--){var Mr=lr>>xr&1;if(pr!==ar[0]&&(pr=this.sqr(pr)),Mr===0&&cr===0){gr=0;continue}cr<<=1,cr|=Mr,gr++,!(gr!==or&&(ur!==0||xr!==0))&&(pr=this.mul(pr,ar[cr]),gr=0,cr=0)}hr=26}return pr},wr.prototype.convertTo=function(ir){var rr=ir.umod(this.m);return rr===ir?rr.clone():rr},wr.prototype.convertFrom=function(ir){var rr=ir.clone();return rr.red=null,rr},mt.mont=function(ir){return new fr(ir)};function fr(_r){wr.call(this,_r),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(fr,wr),fr.prototype.convertTo=function(ir){return this.imod(ir.ushln(this.shift))},fr.prototype.convertFrom=function(ir){var rr=this.imod(ir.mul(this.rinv));return rr.red=null,rr},fr.prototype.imul=function(ir,rr){if(ir.isZero()||rr.isZero())return ir.words[0]=0,ir.length=1,ir;var or=ir.imul(rr),ar=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ur=or.isub(ar).iushrn(this.shift),pr=ur;return ur.cmp(this.m)>=0?pr=ur.isub(this.m):ur.cmpn(0)<0&&(pr=ur.iadd(this.m)),pr._forceRed(this)},fr.prototype.mul=function(ir,rr){if(ir.isZero()||rr.isZero())return new mt(0)._forceRed(this);var or=ir.mul(rr),ar=or.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ur=or.isub(ar).iushrn(this.shift),pr=ur;return ur.cmp(this.m)>=0?pr=ur.isub(this.m):ur.cmpn(0)<0&&(pr=ur.iadd(this.m)),pr._forceRed(this)},fr.prototype.invm=function(ir){var rr=this.imod(ir._invmp(this.m).mul(this.r2));return rr._forceRed(this)}})(s,commonjsGlobal$1)})(bn$2);var bnExports=bn$2.exports;const BN=getDefaultExportFromCjs$2(bnExports);/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var EXP_LIMIT$1=9e15,MAX_DIGITS$1=1e9,NUMERALS$1="0123456789abcdef",LN10$1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI$1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS$1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT$1,crypto:!1},inexact$1,quadrant$1,external$1=!0,decimalError$1="[DecimalError] ",invalidArgument$1=decimalError$1+"Invalid argument: ",precisionLimitExceeded$1=decimalError$1+"Precision limit exceeded",cryptoUnavailable$1=decimalError$1+"crypto unavailable",tag$1="[object Decimal]",mathfloor$1=Math.floor,mathpow$1=Math.pow,isBinary$1=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex$2=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal$1=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal$2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE$1=1e7,LOG_BASE$1=7,MAX_SAFE_INTEGER$3=9007199254740991,LN10_PRECISION$1=LN10$1.length-1,PI_PRECISION$1=PI$1.length-1,P$3={toStringTag:tag$1};P$3.absoluteValue=P$3.abs=function(){var s=new this.constructor(this);return s.s<0&&(s.s=1),finalise$1(s)};P$3.ceil=function(){return finalise$1(new this.constructor(this),this.e+1,2)};P$3.clampedTo=P$3.clamp=function(s,a){var et,nt=this,at=nt.constructor;if(s=new at(s),a=new at(a),!s.s||!a.s)return new at(NaN);if(s.gt(a))throw Error(invalidArgument$1+a);return et=nt.cmp(s),et<0?s:nt.cmp(a)>0?a:new at(nt)};P$3.comparedTo=P$3.cmp=function(s){var a,et,nt,at,mt=this,wt=mt.d,$t=(s=new mt.constructor(s)).d,Ct=mt.s,Dt=s.s;if(!wt||!$t)return!Ct||!Dt?NaN:Ct!==Dt?Ct:wt===$t?0:!wt^Ct<0?1:-1;if(!wt[0]||!$t[0])return wt[0]?Ct:$t[0]?-Dt:0;if(Ct!==Dt)return Ct;if(mt.e!==s.e)return mt.e>s.e^Ct<0?1:-1;for(nt=wt.length,at=$t.length,a=0,et=nt<at?nt:at;a<et;++a)if(wt[a]!==$t[a])return wt[a]>$t[a]^Ct<0?1:-1;return nt===at?0:nt>at^Ct<0?1:-1};P$3.cosine=P$3.cos=function(){var s,a,et=this,nt=et.constructor;return et.d?et.d[0]?(s=nt.precision,a=nt.rounding,nt.precision=s+Math.max(et.e,et.sd())+LOG_BASE$1,nt.rounding=1,et=cosine$1(nt,toLessThanHalfPi$1(nt,et)),nt.precision=s,nt.rounding=a,finalise$1(quadrant$1==2||quadrant$1==3?et.neg():et,s,a,!0)):new nt(1):new nt(NaN)};P$3.cubeRoot=P$3.cbrt=function(){var s,a,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor;if(!Ft.isFinite()||Ft.isZero())return new jt(Ft);for(external$1=!1,mt=Ft.s*mathpow$1(Ft.s*Ft,1/3),!mt||Math.abs(mt)==1/0?(et=digitsToString$1(Ft.d),s=Ft.e,(mt=(s-et.length+1)%3)&&(et+=mt==1||mt==-2?"0":"00"),mt=mathpow$1(et,1/3),s=mathfloor$1((s+1)/3)-(s%3==(s<0?-1:2)),mt==1/0?et="5e"+s:(et=mt.toExponential(),et=et.slice(0,et.indexOf("e")+1)+s),nt=new jt(et),nt.s=Ft.s):nt=new jt(mt.toString()),wt=(s=jt.precision)+3;;)if($t=nt,Ct=$t.times($t).times($t),Dt=Ct.plus(Ft),nt=divide$4(Dt.plus(Ft).times($t),Dt.plus(Ct),wt+2,1),digitsToString$1($t.d).slice(0,wt)===(et=digitsToString$1(nt.d)).slice(0,wt))if(et=et.slice(wt-3,wt+1),et=="9999"||!at&&et=="4999"){if(!at&&(finalise$1($t,s+1,0),$t.times($t).times($t).eq(Ft))){nt=$t;break}wt+=4,at=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise$1(nt,s+1,1),a=!nt.times(nt).times(nt).eq(Ft));break}return external$1=!0,finalise$1(nt,s,jt.rounding,a)};P$3.decimalPlaces=P$3.dp=function(){var s,a=this.d,et=NaN;if(a){if(s=a.length-1,et=(s-mathfloor$1(this.e/LOG_BASE$1))*LOG_BASE$1,s=a[s],s)for(;s%10==0;s/=10)et--;et<0&&(et=0)}return et};P$3.dividedBy=P$3.div=function(s){return divide$4(this,new this.constructor(s))};P$3.dividedToIntegerBy=P$3.divToInt=function(s){var a=this,et=a.constructor;return finalise$1(divide$4(a,new et(s),0,1,1),et.precision,et.rounding)};P$3.equals=P$3.eq=function(s){return this.cmp(s)===0};P$3.floor=function(){return finalise$1(new this.constructor(this),this.e+1,3)};P$3.greaterThan=P$3.gt=function(s){return this.cmp(s)>0};P$3.greaterThanOrEqualTo=P$3.gte=function(s){var a=this.cmp(s);return a==1||a===0};P$3.hyperbolicCosine=P$3.cosh=function(){var s,a,et,nt,at,mt=this,wt=mt.constructor,$t=new wt(1);if(!mt.isFinite())return new wt(mt.s?1/0:NaN);if(mt.isZero())return $t;et=wt.precision,nt=wt.rounding,wt.precision=et+Math.max(mt.e,mt.sd())+4,wt.rounding=1,at=mt.d.length,at<32?(s=Math.ceil(at/3),a=(1/tinyPow$1(4,s)).toString()):(s=16,a="2.3283064365386962890625e-10"),mt=taylorSeries$1(wt,1,mt.times(a),new wt(1),!0);for(var Ct,Dt=s,Ft=new wt(8);Dt--;)Ct=mt.times(mt),mt=$t.minus(Ct.times(Ft.minus(Ct.times(Ft))));return finalise$1(mt,wt.precision=et,wt.rounding=nt,!0)};P$3.hyperbolicSine=P$3.sinh=function(){var s,a,et,nt,at=this,mt=at.constructor;if(!at.isFinite()||at.isZero())return new mt(at);if(a=mt.precision,et=mt.rounding,mt.precision=a+Math.max(at.e,at.sd())+4,mt.rounding=1,nt=at.d.length,nt<3)at=taylorSeries$1(mt,2,at,at,!0);else{s=1.4*Math.sqrt(nt),s=s>16?16:s|0,at=at.times(1/tinyPow$1(5,s)),at=taylorSeries$1(mt,2,at,at,!0);for(var wt,$t=new mt(5),Ct=new mt(16),Dt=new mt(20);s--;)wt=at.times(at),at=at.times($t.plus(wt.times(Ct.times(wt).plus(Dt))))}return mt.precision=a,mt.rounding=et,finalise$1(at,a,et,!0)};P$3.hyperbolicTangent=P$3.tanh=function(){var s,a,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+7,nt.rounding=1,divide$4(et.sinh(),et.cosh(),nt.precision=s,nt.rounding=a)):new nt(et.s)};P$3.inverseCosine=P$3.acos=function(){var s=this,a=s.constructor,et=s.abs().cmp(1),nt=a.precision,at=a.rounding;return et!==-1?et===0?s.isNeg()?getPi$1(a,nt,at):new a(0):new a(NaN):s.isZero()?getPi$1(a,nt+4,at).times(.5):(a.precision=nt+6,a.rounding=1,s=new a(1).minus(s).div(s.plus(1)).sqrt().atan(),a.precision=nt,a.rounding=at,s.times(2))};P$3.inverseHyperbolicCosine=P$3.acosh=function(){var s,a,et=this,nt=et.constructor;return et.lte(1)?new nt(et.eq(1)?0:NaN):et.isFinite()?(s=nt.precision,a=nt.rounding,nt.precision=s+Math.max(Math.abs(et.e),et.sd())+4,nt.rounding=1,external$1=!1,et=et.times(et).minus(1).sqrt().plus(et),external$1=!0,nt.precision=s,nt.rounding=a,et.ln()):new nt(et)};P$3.inverseHyperbolicSine=P$3.asinh=function(){var s,a,et=this,nt=et.constructor;return!et.isFinite()||et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+2*Math.max(Math.abs(et.e),et.sd())+6,nt.rounding=1,external$1=!1,et=et.times(et).plus(1).sqrt().plus(et),external$1=!0,nt.precision=s,nt.rounding=a,et.ln())};P$3.inverseHyperbolicTangent=P$3.atanh=function(){var s,a,et,nt,at=this,mt=at.constructor;return at.isFinite()?at.e>=0?new mt(at.abs().eq(1)?at.s/0:at.isZero()?at:NaN):(s=mt.precision,a=mt.rounding,nt=at.sd(),Math.max(nt,s)<2*-at.e-1?finalise$1(new mt(at),s,a,!0):(mt.precision=et=nt-at.e,at=divide$4(at.plus(1),new mt(1).minus(at),et+s,1),mt.precision=s+4,mt.rounding=1,at=at.ln(),mt.precision=s,mt.rounding=a,at.times(.5))):new mt(NaN)};P$3.inverseSine=P$3.asin=function(){var s,a,et,nt,at=this,mt=at.constructor;return at.isZero()?new mt(at):(a=at.abs().cmp(1),et=mt.precision,nt=mt.rounding,a!==-1?a===0?(s=getPi$1(mt,et+4,nt).times(.5),s.s=at.s,s):new mt(NaN):(mt.precision=et+6,mt.rounding=1,at=at.div(new mt(1).minus(at.times(at)).sqrt().plus(1)).atan(),mt.precision=et,mt.rounding=nt,at.times(2)))};P$3.inverseTangent=P$3.atan=function(){var s,a,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Nt=Ft.rounding;if(Dt.isFinite()){if(Dt.isZero())return new Ft(Dt);if(Dt.abs().eq(1)&&jt+4<=PI_PRECISION$1)return wt=getPi$1(Ft,jt+4,Nt).times(.25),wt.s=Dt.s,wt}else{if(!Dt.s)return new Ft(NaN);if(jt+4<=PI_PRECISION$1)return wt=getPi$1(Ft,jt+4,Nt).times(.5),wt.s=Dt.s,wt}for(Ft.precision=$t=jt+10,Ft.rounding=1,et=Math.min(28,$t/LOG_BASE$1+2|0),s=et;s;--s)Dt=Dt.div(Dt.times(Dt).plus(1).sqrt().plus(1));for(external$1=!1,a=Math.ceil($t/LOG_BASE$1),nt=1,Ct=Dt.times(Dt),wt=new Ft(Dt),at=Dt;s!==-1;)if(at=at.times(Ct),mt=wt.minus(at.div(nt+=2)),at=at.times(Ct),wt=mt.plus(at.div(nt+=2)),wt.d[a]!==void 0)for(s=a;wt.d[s]===mt.d[s]&&s--;);return et&&(wt=wt.times(2<<et-1)),external$1=!0,finalise$1(wt,Ft.precision=jt,Ft.rounding=Nt,!0)};P$3.isFinite=function(){return!!this.d};P$3.isInteger=P$3.isInt=function(){return!!this.d&&mathfloor$1(this.e/LOG_BASE$1)>this.d.length-2};P$3.isNaN=function(){return!this.s};P$3.isNegative=P$3.isNeg=function(){return this.s<0};P$3.isPositive=P$3.isPos=function(){return this.s>0};P$3.isZero=function(){return!!this.d&&this.d[0]===0};P$3.lessThan=P$3.lt=function(s){return this.cmp(s)<0};P$3.lessThanOrEqualTo=P$3.lte=function(s){return this.cmp(s)<1};P$3.logarithm=P$3.log=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Nt=Ft.rounding,Lt=5;if(s==null)s=new Ft(10),a=!0;else{if(s=new Ft(s),et=s.d,s.s<0||!et||!et[0]||s.eq(1))return new Ft(NaN);a=s.eq(10)}if(et=Dt.d,Dt.s<0||!et||!et[0]||Dt.eq(1))return new Ft(et&&!et[0]?-1/0:Dt.s!=1?NaN:et?0:1/0);if(a)if(et.length>1)mt=!0;else{for(at=et[0];at%10===0;)at/=10;mt=at!==1}if(external$1=!1,$t=jt+Lt,wt=naturalLogarithm$1(Dt,$t),nt=a?getLn10$1(Ft,$t+10):naturalLogarithm$1(s,$t),Ct=divide$4(wt,nt,$t,1),checkRoundingDigits$1(Ct.d,at=jt,Nt))do if($t+=10,wt=naturalLogarithm$1(Dt,$t),nt=a?getLn10$1(Ft,$t+10):naturalLogarithm$1(s,$t),Ct=divide$4(wt,nt,$t,1),!mt){+digitsToString$1(Ct.d).slice(at+1,at+15)+1==1e14&&(Ct=finalise$1(Ct,jt+1,0));break}while(checkRoundingDigits$1(Ct.d,at+=10,Nt));return external$1=!0,finalise$1(Ct,jt,Nt)};P$3.minus=P$3.sub=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=this,Ut=Lt.constructor;if(s=new Ut(s),!Lt.d||!s.d)return!Lt.s||!s.s?s=new Ut(NaN):Lt.d?s.s=-s.s:s=new Ut(s.d||Lt.s!==s.s?Lt:NaN),s;if(Lt.s!=s.s)return s.s=-s.s,Lt.plus(s);if(Dt=Lt.d,Nt=s.d,$t=Ut.precision,Ct=Ut.rounding,!Dt[0]||!Nt[0]){if(Nt[0])s.s=-s.s;else if(Dt[0])s=new Ut(Lt);else return new Ut(Ct===3?-0:0);return external$1?finalise$1(s,$t,Ct):s}if(et=mathfloor$1(s.e/LOG_BASE$1),Ft=mathfloor$1(Lt.e/LOG_BASE$1),Dt=Dt.slice(),mt=Ft-et,mt){for(jt=mt<0,jt?(a=Dt,mt=-mt,wt=Nt.length):(a=Nt,et=Ft,wt=Dt.length),nt=Math.max(Math.ceil($t/LOG_BASE$1),wt)+2,mt>nt&&(mt=nt,a.length=1),a.reverse(),nt=mt;nt--;)a.push(0);a.reverse()}else{for(nt=Dt.length,wt=Nt.length,jt=nt<wt,jt&&(wt=nt),nt=0;nt<wt;nt++)if(Dt[nt]!=Nt[nt]){jt=Dt[nt]<Nt[nt];break}mt=0}for(jt&&(a=Dt,Dt=Nt,Nt=a,s.s=-s.s),wt=Dt.length,nt=Nt.length-wt;nt>0;--nt)Dt[wt++]=0;for(nt=Nt.length;nt>mt;){if(Dt[--nt]<Nt[nt]){for(at=nt;at&&Dt[--at]===0;)Dt[at]=BASE$1-1;--Dt[at],Dt[nt]+=BASE$1}Dt[nt]-=Nt[nt]}for(;Dt[--wt]===0;)Dt.pop();for(;Dt[0]===0;Dt.shift())--et;return Dt[0]?(s.d=Dt,s.e=getBase10Exponent$1(Dt,et),external$1?finalise$1(s,$t,Ct):s):new Ut(Ct===3?-0:0)};P$3.modulo=P$3.mod=function(s){var a,et=this,nt=et.constructor;return s=new nt(s),!et.d||!s.s||s.d&&!s.d[0]?new nt(NaN):!s.d||et.d&&!et.d[0]?finalise$1(new nt(et),nt.precision,nt.rounding):(external$1=!1,nt.modulo==9?(a=divide$4(et,s.abs(),0,3,1),a.s*=s.s):a=divide$4(et,s,0,nt.modulo,1),a=a.times(s),external$1=!0,et.minus(a))};P$3.naturalExponential=P$3.exp=function(){return naturalExponential$1(this)};P$3.naturalLogarithm=P$3.ln=function(){return naturalLogarithm$1(this)};P$3.negated=P$3.neg=function(){var s=new this.constructor(this);return s.s=-s.s,finalise$1(s)};P$3.plus=P$3.add=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt=this,Nt=jt.constructor;if(s=new Nt(s),!jt.d||!s.d)return!jt.s||!s.s?s=new Nt(NaN):jt.d||(s=new Nt(s.d||jt.s===s.s?jt:NaN)),s;if(jt.s!=s.s)return s.s=-s.s,jt.minus(s);if(Dt=jt.d,Ft=s.d,$t=Nt.precision,Ct=Nt.rounding,!Dt[0]||!Ft[0])return Ft[0]||(s=new Nt(jt)),external$1?finalise$1(s,$t,Ct):s;if(mt=mathfloor$1(jt.e/LOG_BASE$1),nt=mathfloor$1(s.e/LOG_BASE$1),Dt=Dt.slice(),at=mt-nt,at){for(at<0?(et=Dt,at=-at,wt=Ft.length):(et=Ft,nt=mt,wt=Dt.length),mt=Math.ceil($t/LOG_BASE$1),wt=mt>wt?mt+1:wt+1,at>wt&&(at=wt,et.length=1),et.reverse();at--;)et.push(0);et.reverse()}for(wt=Dt.length,at=Ft.length,wt-at<0&&(at=wt,et=Ft,Ft=Dt,Dt=et),a=0;at;)a=(Dt[--at]=Dt[at]+Ft[at]+a)/BASE$1|0,Dt[at]%=BASE$1;for(a&&(Dt.unshift(a),++nt),wt=Dt.length;Dt[--wt]==0;)Dt.pop();return s.d=Dt,s.e=getBase10Exponent$1(Dt,nt),external$1?finalise$1(s,$t,Ct):s};P$3.precision=P$3.sd=function(s){var a,et=this;if(s!==void 0&&s!==!!s&&s!==1&&s!==0)throw Error(invalidArgument$1+s);return et.d?(a=getPrecision$1(et.d),s&&et.e+1>a&&(a=et.e+1)):a=NaN,a};P$3.round=function(){var s=this,a=s.constructor;return finalise$1(new a(s),s.e+1,a.rounding)};P$3.sine=P$3.sin=function(){var s,a,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+Math.max(et.e,et.sd())+LOG_BASE$1,nt.rounding=1,et=sine$1(nt,toLessThanHalfPi$1(nt,et)),nt.precision=s,nt.rounding=a,finalise$1(quadrant$1>2?et.neg():et,s,a,!0)):new nt(NaN)};P$3.squareRoot=P$3.sqrt=function(){var s,a,et,nt,at,mt,wt=this,$t=wt.d,Ct=wt.e,Dt=wt.s,Ft=wt.constructor;if(Dt!==1||!$t||!$t[0])return new Ft(!Dt||Dt<0&&(!$t||$t[0])?NaN:$t?wt:1/0);for(external$1=!1,Dt=Math.sqrt(+wt),Dt==0||Dt==1/0?(a=digitsToString$1($t),(a.length+Ct)%2==0&&(a+="0"),Dt=Math.sqrt(a),Ct=mathfloor$1((Ct+1)/2)-(Ct<0||Ct%2),Dt==1/0?a="5e"+Ct:(a=Dt.toExponential(),a=a.slice(0,a.indexOf("e")+1)+Ct),nt=new Ft(a)):nt=new Ft(Dt.toString()),et=(Ct=Ft.precision)+3;;)if(mt=nt,nt=mt.plus(divide$4(wt,mt,et+2,1)).times(.5),digitsToString$1(mt.d).slice(0,et)===(a=digitsToString$1(nt.d)).slice(0,et))if(a=a.slice(et-3,et+1),a=="9999"||!at&&a=="4999"){if(!at&&(finalise$1(mt,Ct+1,0),mt.times(mt).eq(wt))){nt=mt;break}et+=4,at=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(finalise$1(nt,Ct+1,1),s=!nt.times(nt).eq(wt));break}return external$1=!0,finalise$1(nt,Ct,Ft.rounding,s)};P$3.tangent=P$3.tan=function(){var s,a,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+10,nt.rounding=1,et=et.sin(),et.s=1,et=divide$4(et,new nt(1).minus(et.times(et)).sqrt(),s+10,0),nt.precision=s,nt.rounding=a,finalise$1(quadrant$1==2||quadrant$1==4?et.neg():et,s,a,!0)):new nt(NaN)};P$3.times=P$3.mul=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor,Nt=Ft.d,Lt=(s=new jt(s)).d;if(s.s*=Ft.s,!Nt||!Nt[0]||!Lt||!Lt[0])return new jt(!s.s||Nt&&!Nt[0]&&!Lt||Lt&&!Lt[0]&&!Nt?NaN:!Nt||!Lt?s.s/0:s.s*0);for(et=mathfloor$1(Ft.e/LOG_BASE$1)+mathfloor$1(s.e/LOG_BASE$1),Ct=Nt.length,Dt=Lt.length,Ct<Dt&&(mt=Nt,Nt=Lt,Lt=mt,wt=Ct,Ct=Dt,Dt=wt),mt=[],wt=Ct+Dt,nt=wt;nt--;)mt.push(0);for(nt=Dt;--nt>=0;){for(a=0,at=Ct+nt;at>nt;)$t=mt[at]+Lt[nt]*Nt[at-nt-1]+a,mt[at--]=$t%BASE$1|0,a=$t/BASE$1|0;mt[at]=(mt[at]+a)%BASE$1|0}for(;!mt[--wt];)mt.pop();return a?++et:mt.shift(),s.d=mt,s.e=getBase10Exponent$1(mt,et),external$1?finalise$1(s,jt.precision,jt.rounding):s};P$3.toBinary=function(s,a){return toStringBinary$1(this,2,s,a)};P$3.toDecimalPlaces=P$3.toDP=function(s,a){var et=this,nt=et.constructor;return et=new nt(et),s===void 0?et:(checkInt32$1(s,0,MAX_DIGITS$1),a===void 0?a=nt.rounding:checkInt32$1(a,0,8),finalise$1(et,s+et.e+1,a))};P$3.toExponential=function(s,a){var et,nt=this,at=nt.constructor;return s===void 0?et=finiteToString$1(nt,!0):(checkInt32$1(s,0,MAX_DIGITS$1),a===void 0?a=at.rounding:checkInt32$1(a,0,8),nt=finalise$1(new at(nt),s+1,a),et=finiteToString$1(nt,!0,s+1)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$3.toFixed=function(s,a){var et,nt,at=this,mt=at.constructor;return s===void 0?et=finiteToString$1(at):(checkInt32$1(s,0,MAX_DIGITS$1),a===void 0?a=mt.rounding:checkInt32$1(a,0,8),nt=finalise$1(new mt(at),s+at.e+1,a),et=finiteToString$1(nt,!1,s+nt.e+1)),at.isNeg()&&!at.isZero()?"-"+et:et};P$3.toFraction=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=this,Ut=Lt.d,Vt=Lt.constructor;if(!Ut)return new Vt(Lt);if(Dt=et=new Vt(1),nt=Ct=new Vt(0),a=new Vt(nt),mt=a.e=getPrecision$1(Ut)-Lt.e-1,wt=mt%LOG_BASE$1,a.d[0]=mathpow$1(10,wt<0?LOG_BASE$1+wt:wt),s==null)s=mt>0?a:Dt;else{if($t=new Vt(s),!$t.isInt()||$t.lt(Dt))throw Error(invalidArgument$1+$t);s=$t.gt(a)?mt>0?a:Dt:$t}for(external$1=!1,$t=new Vt(digitsToString$1(Ut)),Ft=Vt.precision,Vt.precision=mt=Ut.length*LOG_BASE$1*2;jt=divide$4($t,a,0,1,1),at=et.plus(jt.times(nt)),at.cmp(s)!=1;)et=nt,nt=at,at=Dt,Dt=Ct.plus(jt.times(at)),Ct=at,at=a,a=$t.minus(jt.times(at)),$t=at;return at=divide$4(s.minus(et),nt,0,1,1),Ct=Ct.plus(at.times(Dt)),et=et.plus(at.times(nt)),Ct.s=Dt.s=Lt.s,Nt=divide$4(Dt,nt,mt,1).minus(Lt).abs().cmp(divide$4(Ct,et,mt,1).minus(Lt).abs())<1?[Dt,nt]:[Ct,et],Vt.precision=Ft,external$1=!0,Nt};P$3.toHexadecimal=P$3.toHex=function(s,a){return toStringBinary$1(this,16,s,a)};P$3.toNearest=function(s,a){var et=this,nt=et.constructor;if(et=new nt(et),s==null){if(!et.d)return et;s=new nt(1),a=nt.rounding}else{if(s=new nt(s),a===void 0?a=nt.rounding:checkInt32$1(a,0,8),!et.d)return s.s?et:s;if(!s.d)return s.s&&(s.s=et.s),s}return s.d[0]?(external$1=!1,et=divide$4(et,s,0,a,1).times(s),external$1=!0,finalise$1(et)):(s.s=et.s,et=s),et};P$3.toNumber=function(){return+this};P$3.toOctal=function(s,a){return toStringBinary$1(this,8,s,a)};P$3.toPower=P$3.pow=function(s){var a,et,nt,at,mt,wt,$t=this,Ct=$t.constructor,Dt=+(s=new Ct(s));if(!$t.d||!s.d||!$t.d[0]||!s.d[0])return new Ct(mathpow$1(+$t,Dt));if($t=new Ct($t),$t.eq(1))return $t;if(nt=Ct.precision,mt=Ct.rounding,s.eq(1))return finalise$1($t,nt,mt);if(a=mathfloor$1(s.e/LOG_BASE$1),a>=s.d.length-1&&(et=Dt<0?-Dt:Dt)<=MAX_SAFE_INTEGER$3)return at=intPow$1(Ct,$t,et,nt),s.s<0?new Ct(1).div(at):finalise$1(at,nt,mt);if(wt=$t.s,wt<0){if(a<s.d.length-1)return new Ct(NaN);if(s.d[a]&1||(wt=1),$t.e==0&&$t.d[0]==1&&$t.d.length==1)return $t.s=wt,$t}return et=mathpow$1(+$t,Dt),a=et==0||!isFinite(et)?mathfloor$1(Dt*(Math.log("0."+digitsToString$1($t.d))/Math.LN10+$t.e+1)):new Ct(et+"").e,a>Ct.maxE+1||a<Ct.minE-1?new Ct(a>0?wt/0:0):(external$1=!1,Ct.rounding=$t.s=1,et=Math.min(12,(a+"").length),at=naturalExponential$1(s.times(naturalLogarithm$1($t,nt+et)),nt),at.d&&(at=finalise$1(at,nt+5,1),checkRoundingDigits$1(at.d,nt,mt)&&(a=nt+10,at=finalise$1(naturalExponential$1(s.times(naturalLogarithm$1($t,a+et)),a),a+5,1),+digitsToString$1(at.d).slice(nt+1,nt+15)+1==1e14&&(at=finalise$1(at,nt+1,0)))),at.s=wt,external$1=!0,Ct.rounding=mt,finalise$1(at,nt,mt))};P$3.toPrecision=function(s,a){var et,nt=this,at=nt.constructor;return s===void 0?et=finiteToString$1(nt,nt.e<=at.toExpNeg||nt.e>=at.toExpPos):(checkInt32$1(s,1,MAX_DIGITS$1),a===void 0?a=at.rounding:checkInt32$1(a,0,8),nt=finalise$1(new at(nt),s,a),et=finiteToString$1(nt,s<=nt.e||nt.e<=at.toExpNeg,s)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$3.toSignificantDigits=P$3.toSD=function(s,a){var et=this,nt=et.constructor;return s===void 0?(s=nt.precision,a=nt.rounding):(checkInt32$1(s,1,MAX_DIGITS$1),a===void 0?a=nt.rounding:checkInt32$1(a,0,8)),finalise$1(new nt(et),s,a)};P$3.toString=function(){var s=this,a=s.constructor,et=finiteToString$1(s,s.e<=a.toExpNeg||s.e>=a.toExpPos);return s.isNeg()&&!s.isZero()?"-"+et:et};P$3.truncated=P$3.trunc=function(){return finalise$1(new this.constructor(this),this.e+1,1)};P$3.valueOf=P$3.toJSON=function(){var s=this,a=s.constructor,et=finiteToString$1(s,s.e<=a.toExpNeg||s.e>=a.toExpPos);return s.isNeg()?"-"+et:et};function digitsToString$1(s){var a,et,nt,at=s.length-1,mt="",wt=s[0];if(at>0){for(mt+=wt,a=1;a<at;a++)nt=s[a]+"",et=LOG_BASE$1-nt.length,et&&(mt+=getZeroString$1(et)),mt+=nt;wt=s[a],nt=wt+"",et=LOG_BASE$1-nt.length,et&&(mt+=getZeroString$1(et))}else if(wt===0)return"0";for(;wt%10===0;)wt/=10;return mt+wt}function checkInt32$1(s,a,et){if(s!==~~s||s<a||s>et)throw Error(invalidArgument$1+s)}function checkRoundingDigits$1(s,a,et,nt){var at,mt,wt,$t;for(mt=s[0];mt>=10;mt/=10)--a;return--a<0?(a+=LOG_BASE$1,at=0):(at=Math.ceil((a+1)/LOG_BASE$1),a%=LOG_BASE$1),mt=mathpow$1(10,LOG_BASE$1-a),$t=s[at]%mt|0,nt==null?a<3?(a==0?$t=$t/100|0:a==1&&($t=$t/10|0),wt=et<4&&$t==99999||et>3&&$t==49999||$t==5e4||$t==0):wt=(et<4&&$t+1==mt||et>3&&$t+1==mt/2)&&(s[at+1]/mt/100|0)==mathpow$1(10,a-2)-1||($t==mt/2||$t==0)&&(s[at+1]/mt/100|0)==0:a<4?(a==0?$t=$t/1e3|0:a==1?$t=$t/100|0:a==2&&($t=$t/10|0),wt=(nt||et<4)&&$t==9999||!nt&&et>3&&$t==4999):wt=((nt||et<4)&&$t+1==mt||!nt&&et>3&&$t+1==mt/2)&&(s[at+1]/mt/1e3|0)==mathpow$1(10,a-3)-1,wt}function convertBase$1(s,a,et){for(var nt,at=[0],mt,wt=0,$t=s.length;wt<$t;){for(mt=at.length;mt--;)at[mt]*=a;for(at[0]+=NUMERALS$1.indexOf(s.charAt(wt++)),nt=0;nt<at.length;nt++)at[nt]>et-1&&(at[nt+1]===void 0&&(at[nt+1]=0),at[nt+1]+=at[nt]/et|0,at[nt]%=et)}return at.reverse()}function cosine$1(s,a){var et,nt,at;if(a.isZero())return a;nt=a.d.length,nt<32?(et=Math.ceil(nt/3),at=(1/tinyPow$1(4,et)).toString()):(et=16,at="2.3283064365386962890625e-10"),s.precision+=et,a=taylorSeries$1(s,1,a.times(at),new s(1));for(var mt=et;mt--;){var wt=a.times(a);a=wt.times(wt).minus(wt).times(8).plus(1)}return s.precision-=et,a}var divide$4=function(){function s(nt,at,mt){var wt,$t=0,Ct=nt.length;for(nt=nt.slice();Ct--;)wt=nt[Ct]*at+$t,nt[Ct]=wt%mt|0,$t=wt/mt|0;return $t&&nt.unshift($t),nt}function a(nt,at,mt,wt){var $t,Ct;if(mt!=wt)Ct=mt>wt?1:-1;else for($t=Ct=0;$t<mt;$t++)if(nt[$t]!=at[$t]){Ct=nt[$t]>at[$t]?1:-1;break}return Ct}function et(nt,at,mt,wt){for(var $t=0;mt--;)nt[mt]-=$t,$t=nt[mt]<at[mt]?1:0,nt[mt]=$t*wt+nt[mt]-at[mt];for(;!nt[0]&&nt.length>1;)nt.shift()}return function(nt,at,mt,wt,$t,Ct){var Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt,er,tr,nr,sr,dr,br,vr,yr,$r,Sr,wr,fr,_r=nt.constructor,ir=nt.s==at.s?1:-1,rr=nt.d,or=at.d;if(!rr||!rr[0]||!or||!or[0])return new _r(!nt.s||!at.s||(rr?or&&rr[0]==or[0]:!or)?NaN:rr&&rr[0]==0||!or?ir*0:ir/0);for(Ct?(Lt=1,Ft=nt.e-at.e):(Ct=BASE$1,Lt=LOG_BASE$1,Ft=mathfloor$1(nt.e/Lt)-mathfloor$1(at.e/Lt)),wr=or.length,$r=rr.length,er=new _r(ir),tr=er.d=[],jt=0;or[jt]==(rr[jt]||0);jt++);if(or[jt]>(rr[jt]||0)&&Ft--,mt==null?(br=mt=_r.precision,wt=_r.rounding):$t?br=mt+(nt.e-at.e)+1:br=mt,br<0)tr.push(1),Ut=!0;else{if(br=br/Lt+2|0,jt=0,wr==1){for(Nt=0,or=or[0],br++;(jt<$r||Nt)&&br--;jt++)vr=Nt*Ct+(rr[jt]||0),tr[jt]=vr/or|0,Nt=vr%or|0;Ut=Nt||jt<$r}else{for(Nt=Ct/(or[0]+1)|0,Nt>1&&(or=s(or,Nt,Ct),rr=s(rr,Nt,Ct),wr=or.length,$r=rr.length),yr=wr,nr=rr.slice(0,wr),sr=nr.length;sr<wr;)nr[sr++]=0;fr=or.slice(),fr.unshift(0),Sr=or[0],or[1]>=Ct/2&&++Sr;do Nt=0,Dt=a(or,nr,wr,sr),Dt<0?(dr=nr[0],wr!=sr&&(dr=dr*Ct+(nr[1]||0)),Nt=dr/Sr|0,Nt>1?(Nt>=Ct&&(Nt=Ct-1),Vt=s(or,Nt,Ct),Yt=Vt.length,sr=nr.length,Dt=a(Vt,nr,Yt,sr),Dt==1&&(Nt--,et(Vt,wr<Yt?fr:or,Yt,Ct))):(Nt==0&&(Dt=Nt=1),Vt=or.slice()),Yt=Vt.length,Yt<sr&&Vt.unshift(0),et(nr,Vt,sr,Ct),Dt==-1&&(sr=nr.length,Dt=a(or,nr,wr,sr),Dt<1&&(Nt++,et(nr,wr<sr?fr:or,sr,Ct))),sr=nr.length):Dt===0&&(Nt++,nr=[0]),tr[jt++]=Nt,Dt&&nr[0]?nr[sr++]=rr[yr]||0:(nr=[rr[yr]],sr=1);while((yr++<$r||nr[0]!==void 0)&&br--);Ut=nr[0]!==void 0}tr[0]||tr.shift()}if(Lt==1)er.e=Ft,inexact$1=Ut;else{for(jt=1,Nt=tr[0];Nt>=10;Nt/=10)jt++;er.e=jt+Ft*Lt-1,finalise$1(er,$t?mt+er.e+1:mt,wt,Ut)}return er}}();function finalise$1(s,a,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=s.constructor;e:if(a!=null){if(jt=s.d,!jt)return s;for(at=1,$t=jt[0];$t>=10;$t/=10)at++;if(mt=a-at,mt<0)mt+=LOG_BASE$1,wt=a,Ft=jt[Nt=0],Ct=Ft/mathpow$1(10,at-wt-1)%10|0;else if(Nt=Math.ceil((mt+1)/LOG_BASE$1),$t=jt.length,Nt>=$t)if(nt){for(;$t++<=Nt;)jt.push(0);Ft=Ct=0,at=1,mt%=LOG_BASE$1,wt=mt-LOG_BASE$1+1}else break e;else{for(Ft=$t=jt[Nt],at=1;$t>=10;$t/=10)at++;mt%=LOG_BASE$1,wt=mt-LOG_BASE$1+at,Ct=wt<0?0:Ft/mathpow$1(10,at-wt-1)%10|0}if(nt=nt||a<0||jt[Nt+1]!==void 0||(wt<0?Ft:Ft%mathpow$1(10,at-wt-1)),Dt=et<4?(Ct||nt)&&(et==0||et==(s.s<0?3:2)):Ct>5||Ct==5&&(et==4||nt||et==6&&(mt>0?wt>0?Ft/mathpow$1(10,at-wt):0:jt[Nt-1])%10&1||et==(s.s<0?8:7)),a<1||!jt[0])return jt.length=0,Dt?(a-=s.e+1,jt[0]=mathpow$1(10,(LOG_BASE$1-a%LOG_BASE$1)%LOG_BASE$1),s.e=-a||0):jt[0]=s.e=0,s;if(mt==0?(jt.length=Nt,$t=1,Nt--):(jt.length=Nt+1,$t=mathpow$1(10,LOG_BASE$1-mt),jt[Nt]=wt>0?(Ft/mathpow$1(10,at-wt)%mathpow$1(10,wt)|0)*$t:0),Dt)for(;;)if(Nt==0){for(mt=1,wt=jt[0];wt>=10;wt/=10)mt++;for(wt=jt[0]+=$t,$t=1;wt>=10;wt/=10)$t++;mt!=$t&&(s.e++,jt[0]==BASE$1&&(jt[0]=1));break}else{if(jt[Nt]+=$t,jt[Nt]!=BASE$1)break;jt[Nt--]=0,$t=1}for(mt=jt.length;jt[--mt]===0;)jt.pop()}return external$1&&(s.e>Lt.maxE?(s.d=null,s.e=NaN):s.e<Lt.minE&&(s.e=0,s.d=[0])),s}function finiteToString$1(s,a,et){if(!s.isFinite())return nonFiniteToString$1(s);var nt,at=s.e,mt=digitsToString$1(s.d),wt=mt.length;return a?(et&&(nt=et-wt)>0?mt=mt.charAt(0)+"."+mt.slice(1)+getZeroString$1(nt):wt>1&&(mt=mt.charAt(0)+"."+mt.slice(1)),mt=mt+(s.e<0?"e":"e+")+s.e):at<0?(mt="0."+getZeroString$1(-at-1)+mt,et&&(nt=et-wt)>0&&(mt+=getZeroString$1(nt))):at>=wt?(mt+=getZeroString$1(at+1-wt),et&&(nt=et-at-1)>0&&(mt=mt+"."+getZeroString$1(nt))):((nt=at+1)<wt&&(mt=mt.slice(0,nt)+"."+mt.slice(nt)),et&&(nt=et-wt)>0&&(at+1===wt&&(mt+="."),mt+=getZeroString$1(nt))),mt}function getBase10Exponent$1(s,a){var et=s[0];for(a*=LOG_BASE$1;et>=10;et/=10)a++;return a}function getLn10$1(s,a,et){if(a>LN10_PRECISION$1)throw external$1=!0,et&&(s.precision=et),Error(precisionLimitExceeded$1);return finalise$1(new s(LN10$1),a,1,!0)}function getPi$1(s,a,et){if(a>PI_PRECISION$1)throw Error(precisionLimitExceeded$1);return finalise$1(new s(PI$1),a,et,!0)}function getPrecision$1(s){var a=s.length-1,et=a*LOG_BASE$1+1;if(a=s[a],a){for(;a%10==0;a/=10)et--;for(a=s[0];a>=10;a/=10)et++}return et}function getZeroString$1(s){for(var a="";s--;)a+="0";return a}function intPow$1(s,a,et,nt){var at,mt=new s(1),wt=Math.ceil(nt/LOG_BASE$1+4);for(external$1=!1;;){if(et%2&&(mt=mt.times(a),truncate$1(mt.d,wt)&&(at=!0)),et=mathfloor$1(et/2),et===0){et=mt.d.length-1,at&&mt.d[et]===0&&++mt.d[et];break}a=a.times(a),truncate$1(a.d,wt)}return external$1=!0,mt}function isOdd$1(s){return s.d[s.d.length-1]&1}function maxOrMin$1(s,a,et){for(var nt,at,mt=new s(a[0]),wt=0;++wt<a.length;){if(at=new s(a[wt]),!at.s){mt=at;break}nt=mt.cmp(at),(nt===et||nt===0&&mt.s===et)&&(mt=at)}return mt}function naturalExponential$1(s,a){var et,nt,at,mt,wt,$t,Ct,Dt=0,Ft=0,jt=0,Nt=s.constructor,Lt=Nt.rounding,Ut=Nt.precision;if(!s.d||!s.d[0]||s.e>17)return new Nt(s.d?s.d[0]?s.s<0?0:1/0:1:s.s?s.s<0?0:s:NaN);for(a==null?(external$1=!1,Ct=Ut):Ct=a,$t=new Nt(.03125);s.e>-2;)s=s.times($t),jt+=5;for(nt=Math.log(mathpow$1(2,jt))/Math.LN10*2+5|0,Ct+=nt,et=mt=wt=new Nt(1),Nt.precision=Ct;;){if(mt=finalise$1(mt.times(s),Ct,1),et=et.times(++Ft),$t=wt.plus(divide$4(mt,et,Ct,1)),digitsToString$1($t.d).slice(0,Ct)===digitsToString$1(wt.d).slice(0,Ct)){for(at=jt;at--;)wt=finalise$1(wt.times(wt),Ct,1);if(a==null)if(Dt<3&&checkRoundingDigits$1(wt.d,Ct-nt,Lt,Dt))Nt.precision=Ct+=10,et=mt=$t=new Nt(1),Ft=0,Dt++;else return finalise$1(wt,Nt.precision=Ut,Lt,external$1=!0);else return Nt.precision=Ut,wt}wt=$t}}function naturalLogarithm$1(s,a){var et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=1,Ut=10,Vt=s,Yt=Vt.d,er=Vt.constructor,tr=er.rounding,nr=er.precision;if(Vt.s<0||!Yt||!Yt[0]||!Vt.e&&Yt[0]==1&&Yt.length==1)return new er(Yt&&!Yt[0]?-1/0:Vt.s!=1?NaN:Yt?0:Vt);if(a==null?(external$1=!1,Ft=nr):Ft=a,er.precision=Ft+=Ut,et=digitsToString$1(Yt),nt=et.charAt(0),Math.abs(mt=Vt.e)<15e14){for(;nt<7&&nt!=1||nt==1&&et.charAt(1)>3;)Vt=Vt.times(s),et=digitsToString$1(Vt.d),nt=et.charAt(0),Lt++;mt=Vt.e,nt>1?(Vt=new er("0."+et),mt++):Vt=new er(nt+"."+et.slice(1))}else return Dt=getLn10$1(er,Ft+2,nr).times(mt+""),Vt=naturalLogarithm$1(new er(nt+"."+et.slice(1)),Ft-Ut).plus(Dt),er.precision=nr,a==null?finalise$1(Vt,nr,tr,external$1=!0):Vt;for(jt=Vt,Ct=wt=Vt=divide$4(Vt.minus(1),Vt.plus(1),Ft,1),Nt=finalise$1(Vt.times(Vt),Ft,1),at=3;;){if(wt=finalise$1(wt.times(Nt),Ft,1),Dt=Ct.plus(divide$4(wt,new er(at),Ft,1)),digitsToString$1(Dt.d).slice(0,Ft)===digitsToString$1(Ct.d).slice(0,Ft))if(Ct=Ct.times(2),mt!==0&&(Ct=Ct.plus(getLn10$1(er,Ft+2,nr).times(mt+""))),Ct=divide$4(Ct,new er(Lt),Ft,1),a==null)if(checkRoundingDigits$1(Ct.d,Ft-Ut,tr,$t))er.precision=Ft+=Ut,Dt=wt=Vt=divide$4(jt.minus(1),jt.plus(1),Ft,1),Nt=finalise$1(Vt.times(Vt),Ft,1),at=$t=1;else return finalise$1(Ct,er.precision=nr,tr,external$1=!0);else return er.precision=nr,Ct;Ct=Dt,at+=2}}function nonFiniteToString$1(s){return String(s.s*s.s/0)}function parseDecimal$1(s,a){var et,nt,at;for((et=a.indexOf("."))>-1&&(a=a.replace(".","")),(nt=a.search(/e/i))>0?(et<0&&(et=nt),et+=+a.slice(nt+1),a=a.substring(0,nt)):et<0&&(et=a.length),nt=0;a.charCodeAt(nt)===48;nt++);for(at=a.length;a.charCodeAt(at-1)===48;--at);if(a=a.slice(nt,at),a){if(at-=nt,s.e=et=et-nt-1,s.d=[],nt=(et+1)%LOG_BASE$1,et<0&&(nt+=LOG_BASE$1),nt<at){for(nt&&s.d.push(+a.slice(0,nt)),at-=LOG_BASE$1;nt<at;)s.d.push(+a.slice(nt,nt+=LOG_BASE$1));a=a.slice(nt),nt=LOG_BASE$1-a.length}else nt-=at;for(;nt--;)a+="0";s.d.push(+a),external$1&&(s.e>s.constructor.maxE?(s.d=null,s.e=NaN):s.e<s.constructor.minE&&(s.e=0,s.d=[0]))}else s.e=0,s.d=[0];return s}function parseOther$1(s,a){var et,nt,at,mt,wt,$t,Ct,Dt,Ft;if(a.indexOf("_")>-1){if(a=a.replace(/(\d)_(?=\d)/g,"$1"),isDecimal$2.test(a))return parseDecimal$1(s,a)}else if(a==="Infinity"||a==="NaN")return+a||(s.s=NaN),s.e=NaN,s.d=null,s;if(isHex$2.test(a))et=16,a=a.toLowerCase();else if(isBinary$1.test(a))et=2;else if(isOctal$1.test(a))et=8;else throw Error(invalidArgument$1+a);for(mt=a.search(/p/i),mt>0?(Ct=+a.slice(mt+1),a=a.substring(2,mt)):a=a.slice(2),mt=a.indexOf("."),wt=mt>=0,nt=s.constructor,wt&&(a=a.replace(".",""),$t=a.length,mt=$t-mt,at=intPow$1(nt,new nt(et),mt,mt*2)),Dt=convertBase$1(a,et,BASE$1),Ft=Dt.length-1,mt=Ft;Dt[mt]===0;--mt)Dt.pop();return mt<0?new nt(s.s*0):(s.e=getBase10Exponent$1(Dt,Ft),s.d=Dt,external$1=!1,wt&&(s=divide$4(s,at,$t*4)),Ct&&(s=s.times(Math.abs(Ct)<54?mathpow$1(2,Ct):Decimal$1.pow(2,Ct))),external$1=!0,s)}function sine$1(s,a){var et,nt=a.d.length;if(nt<3)return a.isZero()?a:taylorSeries$1(s,2,a,a);et=1.4*Math.sqrt(nt),et=et>16?16:et|0,a=a.times(1/tinyPow$1(5,et)),a=taylorSeries$1(s,2,a,a);for(var at,mt=new s(5),wt=new s(16),$t=new s(20);et--;)at=a.times(a),a=a.times(mt.plus(at.times(wt.times(at).minus($t))));return a}function taylorSeries$1(s,a,et,nt,at){var mt,wt,$t,Ct,Dt=s.precision,Ft=Math.ceil(Dt/LOG_BASE$1);for(external$1=!1,Ct=et.times(et),$t=new s(nt);;){if(wt=divide$4($t.times(Ct),new s(a++*a++),Dt,1),$t=at?nt.plus(wt):nt.minus(wt),nt=divide$4(wt.times(Ct),new s(a++*a++),Dt,1),wt=$t.plus(nt),wt.d[Ft]!==void 0){for(mt=Ft;wt.d[mt]===$t.d[mt]&&mt--;);if(mt==-1)break}mt=$t,$t=nt,nt=wt,wt=mt}return external$1=!0,wt.d.length=Ft+1,wt}function tinyPow$1(s,a){for(var et=s;--a;)et*=s;return et}function toLessThanHalfPi$1(s,a){var et,nt=a.s<0,at=getPi$1(s,s.precision,1),mt=at.times(.5);if(a=a.abs(),a.lte(mt))return quadrant$1=nt?4:1,a;if(et=a.divToInt(at),et.isZero())quadrant$1=nt?3:2;else{if(a=a.minus(et.times(at)),a.lte(mt))return quadrant$1=isOdd$1(et)?nt?2:3:nt?4:1,a;quadrant$1=isOdd$1(et)?nt?1:4:nt?3:2}return a.minus(at).abs()}function toStringBinary$1(s,a,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=s.constructor,Ut=et!==void 0;if(Ut?(checkInt32$1(et,1,MAX_DIGITS$1),nt===void 0?nt=Lt.rounding:checkInt32$1(nt,0,8)):(et=Lt.precision,nt=Lt.rounding),!s.isFinite())Ft=nonFiniteToString$1(s);else{for(Ft=finiteToString$1(s),wt=Ft.indexOf("."),Ut?(at=2,a==16?et=et*4-3:a==8&&(et=et*3-2)):at=a,wt>=0&&(Ft=Ft.replace(".",""),Nt=new Lt(1),Nt.e=Ft.length-wt,Nt.d=convertBase$1(finiteToString$1(Nt),10,at),Nt.e=Nt.d.length),jt=convertBase$1(Ft,10,at),mt=Ct=jt.length;jt[--Ct]==0;)jt.pop();if(!jt[0])Ft=Ut?"0p+0":"0";else{if(wt<0?mt--:(s=new Lt(s),s.d=jt,s.e=mt,s=divide$4(s,Nt,et,nt,0,at),jt=s.d,mt=s.e,Dt=inexact$1),wt=jt[et],$t=at/2,Dt=Dt||jt[et+1]!==void 0,Dt=nt<4?(wt!==void 0||Dt)&&(nt===0||nt===(s.s<0?3:2)):wt>$t||wt===$t&&(nt===4||Dt||nt===6&&jt[et-1]&1||nt===(s.s<0?8:7)),jt.length=et,Dt)for(;++jt[--et]>at-1;)jt[et]=0,et||(++mt,jt.unshift(1));for(Ct=jt.length;!jt[Ct-1];--Ct);for(wt=0,Ft="";wt<Ct;wt++)Ft+=NUMERALS$1.charAt(jt[wt]);if(Ut){if(Ct>1)if(a==16||a==8){for(wt=a==16?4:3,--Ct;Ct%wt;Ct++)Ft+="0";for(jt=convertBase$1(Ft,at,a),Ct=jt.length;!jt[Ct-1];--Ct);for(wt=1,Ft="1.";wt<Ct;wt++)Ft+=NUMERALS$1.charAt(jt[wt])}else Ft=Ft.charAt(0)+"."+Ft.slice(1);Ft=Ft+(mt<0?"p":"p+")+mt}else if(mt<0){for(;++mt;)Ft="0"+Ft;Ft="0."+Ft}else if(++mt>Ct)for(mt-=Ct;mt--;)Ft+="0";else mt<Ct&&(Ft=Ft.slice(0,mt)+"."+Ft.slice(mt))}Ft=(a==16?"0x":a==2?"0b":a==8?"0o":"")+Ft}return s.s<0?"-"+Ft:Ft}function truncate$1(s,a){if(s.length>a)return s.length=a,!0}function abs$3(s){return new this(s).abs()}function acos$1(s){return new this(s).acos()}function acosh$1(s){return new this(s).acosh()}function add$4(s,a){return new this(s).plus(a)}function asin$1(s){return new this(s).asin()}function asinh$1(s){return new this(s).asinh()}function atan$1(s){return new this(s).atan()}function atanh$1(s){return new this(s).atanh()}function atan2$1(s,a){s=new this(s),a=new this(a);var et,nt=this.precision,at=this.rounding,mt=nt+4;return!s.s||!a.s?et=new this(NaN):!s.d&&!a.d?(et=getPi$1(this,mt,1).times(a.s>0?.25:.75),et.s=s.s):!a.d||s.isZero()?(et=a.s<0?getPi$1(this,nt,at):new this(0),et.s=s.s):!s.d||a.isZero()?(et=getPi$1(this,mt,1).times(.5),et.s=s.s):a.s<0?(this.precision=mt,this.rounding=1,et=this.atan(divide$4(s,a,mt,1)),a=getPi$1(this,mt,1),this.precision=nt,this.rounding=at,et=s.s<0?et.minus(a):et.plus(a)):et=this.atan(divide$4(s,a,mt,1)),et}function cbrt$1(s){return new this(s).cbrt()}function ceil$1(s){return finalise$1(s=new this(s),s.e+1,2)}function clamp$4(s,a,et){return new this(s).clamp(a,et)}function config$4(s){if(!s||typeof s!="object")throw Error(decimalError$1+"Object expected");var a,et,nt,at=s.defaults===!0,mt=["precision",1,MAX_DIGITS$1,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT$1,"maxE",0,EXP_LIMIT$1,"minE",-9e15,0,"modulo",0,9];for(a=0;a<mt.length;a+=3)if(et=mt[a],at&&(this[et]=DEFAULTS$1[et]),(nt=s[et])!==void 0)if(mathfloor$1(nt)===nt&&nt>=mt[a+1]&&nt<=mt[a+2])this[et]=nt;else throw Error(invalidArgument$1+et+": "+nt);if(et="crypto",at&&(this[et]=DEFAULTS$1[et]),(nt=s[et])!==void 0)if(nt===!0||nt===!1||nt===0||nt===1)if(nt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[et]=!0;else throw Error(cryptoUnavailable$1);else this[et]=!1;else throw Error(invalidArgument$1+et+": "+nt);return this}function cos$1(s){return new this(s).cos()}function cosh$1(s){return new this(s).cosh()}function clone$2(s){var a,et,nt;function at(mt){var wt,$t,Ct,Dt=this;if(!(Dt instanceof at))return new at(mt);if(Dt.constructor=at,isDecimalInstance$1(mt)){Dt.s=mt.s,external$1?!mt.d||mt.e>at.maxE?(Dt.e=NaN,Dt.d=null):mt.e<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=mt.e,Dt.d=mt.d.slice()):(Dt.e=mt.e,Dt.d=mt.d?mt.d.slice():mt.d);return}if(Ct=typeof mt,Ct==="number"){if(mt===0){Dt.s=1/mt<0?-1:1,Dt.e=0,Dt.d=[0];return}if(mt<0?(mt=-mt,Dt.s=-1):Dt.s=1,mt===~~mt&&mt<1e7){for(wt=0,$t=mt;$t>=10;$t/=10)wt++;external$1?wt>at.maxE?(Dt.e=NaN,Dt.d=null):wt<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=wt,Dt.d=[mt]):(Dt.e=wt,Dt.d=[mt]);return}if(mt*0!==0){mt||(Dt.s=NaN),Dt.e=NaN,Dt.d=null;return}return parseDecimal$1(Dt,mt.toString())}if(Ct==="string")return($t=mt.charCodeAt(0))===45?(mt=mt.slice(1),Dt.s=-1):($t===43&&(mt=mt.slice(1)),Dt.s=1),isDecimal$2.test(mt)?parseDecimal$1(Dt,mt):parseOther$1(Dt,mt);if(Ct==="bigint")return mt<0?(mt=-mt,Dt.s=-1):Dt.s=1,parseDecimal$1(Dt,mt.toString());throw Error(invalidArgument$1+mt)}if(at.prototype=P$3,at.ROUND_UP=0,at.ROUND_DOWN=1,at.ROUND_CEIL=2,at.ROUND_FLOOR=3,at.ROUND_HALF_UP=4,at.ROUND_HALF_DOWN=5,at.ROUND_HALF_EVEN=6,at.ROUND_HALF_CEIL=7,at.ROUND_HALF_FLOOR=8,at.EUCLID=9,at.config=at.set=config$4,at.clone=clone$2,at.isDecimal=isDecimalInstance$1,at.abs=abs$3,at.acos=acos$1,at.acosh=acosh$1,at.add=add$4,at.asin=asin$1,at.asinh=asinh$1,at.atan=atan$1,at.atanh=atanh$1,at.atan2=atan2$1,at.cbrt=cbrt$1,at.ceil=ceil$1,at.clamp=clamp$4,at.cos=cos$1,at.cosh=cosh$1,at.div=div$1,at.exp=exp$1,at.floor=floor$2,at.hypot=hypot$1,at.ln=ln$3,at.log=log$1,at.log10=log10$1,at.log2=log2$1,at.max=max$3,at.min=min$3,at.mod=mod$1,at.mul=mul$1,at.pow=pow$2,at.random=random$1,at.round=round$3,at.sign=sign$3,at.sin=sin$1,at.sinh=sinh$1,at.sqrt=sqrt$1,at.sub=sub$1,at.sum=sum$1,at.tan=tan$1,at.tanh=tanh$1,at.trunc=trunc$1,s===void 0&&(s={}),s&&s.defaults!==!0)for(nt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],a=0;a<nt.length;)s.hasOwnProperty(et=nt[a++])||(s[et]=this[et]);return at.config(s),at}function div$1(s,a){return new this(s).div(a)}function exp$1(s){return new this(s).exp()}function floor$2(s){return finalise$1(s=new this(s),s.e+1,3)}function hypot$1(){var s,a,et=new this(0);for(external$1=!1,s=0;s<arguments.length;)if(a=new this(arguments[s++]),a.d)et.d&&(et=et.plus(a.times(a)));else{if(a.s)return external$1=!0,new this(1/0);et=a}return external$1=!0,et.sqrt()}function isDecimalInstance$1(s){return s instanceof Decimal$1||s&&s.toStringTag===tag$1||!1}function ln$3(s){return new this(s).ln()}function log$1(s,a){return new this(s).log(a)}function log2$1(s){return new this(s).log(2)}function log10$1(s){return new this(s).log(10)}function max$3(){return maxOrMin$1(this,arguments,-1)}function min$3(){return maxOrMin$1(this,arguments,1)}function mod$1(s,a){return new this(s).mod(a)}function mul$1(s,a){return new this(s).mul(a)}function pow$2(s,a){return new this(s).pow(a)}function random$1(s){var a,et,nt,at,mt=0,wt=new this(1),$t=[];if(s===void 0?s=this.precision:checkInt32$1(s,1,MAX_DIGITS$1),nt=Math.ceil(s/LOG_BASE$1),this.crypto)if(crypto.getRandomValues)for(a=crypto.getRandomValues(new Uint32Array(nt));mt<nt;)at=a[mt],at>=429e7?a[mt]=crypto.getRandomValues(new Uint32Array(1))[0]:$t[mt++]=at%1e7;else if(crypto.randomBytes){for(a=crypto.randomBytes(nt*=4);mt<nt;)at=a[mt]+(a[mt+1]<<8)+(a[mt+2]<<16)+((a[mt+3]&127)<<24),at>=214e7?crypto.randomBytes(4).copy(a,mt):($t.push(at%1e7),mt+=4);mt=nt/4}else throw Error(cryptoUnavailable$1);else for(;mt<nt;)$t[mt++]=Math.random()*1e7|0;for(nt=$t[--mt],s%=LOG_BASE$1,nt&&s&&(at=mathpow$1(10,LOG_BASE$1-s),$t[mt]=(nt/at|0)*at);$t[mt]===0;mt--)$t.pop();if(mt<0)et=0,$t=[0];else{for(et=-1;$t[0]===0;et-=LOG_BASE$1)$t.shift();for(nt=1,at=$t[0];at>=10;at/=10)nt++;nt<LOG_BASE$1&&(et-=LOG_BASE$1-nt)}return wt.e=et,wt.d=$t,wt}function round$3(s){return finalise$1(s=new this(s),s.e+1,this.rounding)}function sign$3(s){return s=new this(s),s.d?s.d[0]?s.s:0*s.s:s.s||NaN}function sin$1(s){return new this(s).sin()}function sinh$1(s){return new this(s).sinh()}function sqrt$1(s){return new this(s).sqrt()}function sub$1(s,a){return new this(s).sub(a)}function sum$1(){var s=0,a=arguments,et=new this(a[s]);for(external$1=!1;et.s&&++s<a.length;)et=et.plus(a[s]);return external$1=!0,finalise$1(et,this.precision,this.rounding)}function tan$1(s){return new this(s).tan()}function tanh$1(s){return new this(s).tanh()}function trunc$1(s){return finalise$1(s=new this(s),s.e+1,1)}P$3[Symbol.for("nodejs.util.inspect.custom")]=P$3.toString;P$3[Symbol.toStringTag]="Decimal";var Decimal$1=P$3.constructor=clone$2(DEFAULTS$1);LN10$1=new Decimal$1(LN10$1);PI$1=new Decimal$1(PI$1);var CompareResult;(function(s){s[s.EQUAL=0]="EQUAL",s[s.GREATER=1]="GREATER",s[s.LESS=-1]="LESS"})(CompareResult||(CompareResult={}));var Comparator=function(){function s(a){this.compare=a||s.defaultCompareFunction}return s.defaultCompareFunction=function(a,et){return a===et?CompareResult.EQUAL:a<et?CompareResult.LESS:CompareResult.GREATER},s.prototype.equal=function(a,et){return this.compare(a,et)===CompareResult.EQUAL},s.prototype.lessThan=function(a,et){return this.compare(a,et)===CompareResult.LESS},s.prototype.greaterThan=function(a,et){return this.compare(a,et)===CompareResult.GREATER},s.prototype.lessThanOrEqual=function(a,et){return this.lessThan(a,et)||this.equal(a,et)},s.prototype.greaterThanOrEqual=function(a,et){return this.greaterThan(a,et)||this.equal(a,et)},s.prototype.reverse=function(){var a=this.compare;this.compare=function(et,nt){return a(nt,et)}},s}(),SinglyNode=function(){function s(a){this.value=a,this.next=null}return s}(),DoublyNode=function(){function s(a){this.value=a,this.next=null,this.prev=null}return s}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(s,a){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,nt){et.__proto__=nt}||function(et,nt){for(var at in nt)nt.hasOwnProperty(at)&&(et[at]=nt[at])},extendStatics(s,a)};function __extends(s,a){extendStatics(s,a);function et(){this.constructor=s}s.prototype=a===null?Object.create(a):(et.prototype=a.prototype,new et)}function __generator(s,a){var et={label:0,sent:function(){if(mt[0]&1)throw mt[1];return mt[1]},trys:[],ops:[]},nt,at,mt,wt;return wt={next:$t(0),throw:$t(1),return:$t(2)},typeof Symbol=="function"&&(wt[Symbol.iterator]=function(){return this}),wt;function $t(Dt){return function(Ft){return Ct([Dt,Ft])}}function Ct(Dt){if(nt)throw new TypeError("Generator is already executing.");for(;et;)try{if(nt=1,at&&(mt=Dt[0]&2?at.return:Dt[0]?at.throw||((mt=at.return)&&mt.call(at),0):at.next)&&!(mt=mt.call(at,Dt[1])).done)return mt;switch(at=0,mt&&(Dt=[Dt[0]&2,mt.value]),Dt[0]){case 0:case 1:mt=Dt;break;case 4:return et.label++,{value:Dt[1],done:!1};case 5:et.label++,at=Dt[1],Dt=[0];continue;case 7:Dt=et.ops.pop(),et.trys.pop();continue;default:if(mt=et.trys,!(mt=mt.length>0&&mt[mt.length-1])&&(Dt[0]===6||Dt[0]===2)){et=0;continue}if(Dt[0]===3&&(!mt||Dt[1]>mt[0]&&Dt[1]<mt[3])){et.label=Dt[1];break}if(Dt[0]===6&&et.label<mt[1]){et.label=mt[1],mt=Dt;break}if(mt&&et.label<mt[2]){et.label=mt[2],et.ops.push(Dt);break}mt[2]&&et.ops.pop(),et.trys.pop();continue}Dt=a.call(s,et)}catch(Ft){Dt=[6,Ft],at=0}finally{nt=mt=0}if(Dt[0]&5)throw Dt[1];return{value:Dt[0]?Dt[1]:void 0,done:!0}}}function __read$2(s,a){var et=typeof Symbol=="function"&&s[Symbol.iterator];if(!et)return s;var nt=et.call(s),at,mt=[],wt;try{for(;(a===void 0||a-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spread$2(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(__read$2(arguments[a]));return s}var OBFUSCATED_ERROR="obfuse error occur";function invariant$P(s,a){if(!s)throw new Error("[linked-list] "+(a||OBFUSCATED_ERROR))}var INDEX_NOT_FOUND=-1,List=function(){function s(){for(var a=this,et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];this._head=null,this._tail=null,this._length=0,this.compare=new Comparator,et.length>0&&et.forEach(function(at){a.append(at)})}return Object.defineProperty(s.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"loopLength",{get:function(){var a=!1,et=1;if(!this._head)return 0;for(var nt=this._head,at=this._head;at.next&&at.next.next;)if(at=at.next.next,nt=nt.next,nt===at){a=!0;break}if(a){for(at=at.next;nt!==at;)et++,at=at.next;return et}else return 0},enumerable:!0,configurable:!0}),s.prototype.getNode=function(a){var et=this._length;invariant$P(et>0&&a>=0&&a<et,"[linked-list] index "+a+" out of scope of list, which length is "+et);for(var nt=this._head,at=0;at<a;)nt=nt.next,at++;return nt},s.prototype.get=function(a){var et=this.getNode(a);return et?et.value:null},s.prototype.find=function(a){var et=a.value,nt=a.callback;if(!this._head)return null;for(var at=this._head;at;){if(nt&&nt(at.value)||et!==void 0&&this.compare.equal(at.value,et))return at;at=at.next}return null},s.prototype.indexOf=function(a){if(!this._head)return INDEX_NOT_FOUND;for(var et=this._head,nt=-1;et.next;){if(nt++,this.compare.equal(et.value,a))return nt;et=et.next}return et===this._tail&&this.compare.equal(et.value,a)&&(nt+=1),nt},s.prototype.first=function(a){invariant$P(a>=0,"[linked-list] param 'num' ("+a+") should not less than 0");for(var et=this.iterator(),nt=[],at=Math.min(a,this.length),mt=0;mt<at;mt++){var wt=et.next();nt.push(wt.value)}return nt},s.prototype.toArray=function(){return __spread$2(this)},s.prototype.isEmpty=function(){return this._head===null},s.prototype.iterator=function(){var a;return __generator(this,function(et){switch(et.label){case 0:a=this._head,et.label=1;case 1:return a?[4,a.value]:[3,3];case 2:return et.sent(),a=a.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s}(),SinglyList=function(s){__extends(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return s.apply(this,__spread$2(et))||this}return a.prototype.append=function(et){var nt=new SinglyNode(et);return this._tail?(this._tail.next=nt,this._tail=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.prepend=function(et){var nt=new SinglyNode(et);return this._head?(nt.next=this._head,this._head=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,nt.next=null):this._head=this._tail=null,this._length--,et;for(var at=nt;;){if(this.compare.equal(nt.value,et))return nt.next?at.next=nt.next:(this._tail=at,this._tail.next=null),nt.next=null,this._length--,et;if(nt.next)at=nt,nt=nt.next;else return}}},a.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},a.prototype.removeTail=function(){var et=this._tail;if(et){if(!this._head.next)this._head=null,this._tail=null;else{for(var nt=this._head;nt.next!==et;)nt=nt.next;nt.next=null,this._tail=nt}return this._length--,et.value}},a.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,nt=et,et=at;this._head=nt}},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,__spread$2([void 0],et)))},a}(List),AbstractCircleSinglyList=function(s){__extends(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,__spread$2(et))||this;return at.cyclization(),at}return a.prototype.iterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},a.prototype.circleIterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=s.prototype[et].apply(this,nt);return this.cyclization(),mt},a.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},a.prototype.append=function(et){return this.mapToNormalListFn("append",et)},a.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},a.prototype.find=function(et){return this.mapToNormalListFn("find",et)},a.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},a.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},a.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},a.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},a.prototype.first=function(et){invariant$P(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},a.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},a.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},a}(SinglyList);(function(s){__extends(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,__spread$2(et))||this;return at.cyclization(),at}return a.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},a.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,__spread$2([void 0],et)))},a})(AbstractCircleSinglyList);var DoublyList=function(s){__extends(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return s.apply(this,__spread$2(et))||this}return a.prototype.append=function(et){var nt=new DoublyNode(et);return this._tail?(this._tail.next=nt,nt.prev=this._tail,this._tail=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.prepend=function(et){var nt=new DoublyNode(et);return this._head?(nt.next=this._head,this._head.prev=nt,this._head=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,this._head.prev=null,nt.next=nt.prev=null):this._head=this._tail=null,this._length--,et;for(;;){if(this.compare.equal(nt.value,et))return nt.next?(nt.prev.next=nt.next,nt.next.prev=nt.prev,nt.next=nt.prev=null):(nt.prev.next=null,this._tail=nt.prev,nt.next=nt.prev=null),this._length--,nt.value;if(nt.next)nt=nt.next;else return}}},a.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(et.next.prev=null,this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},a.prototype.removeTail=function(){var et=this._tail;if(et)return this._head.next?(et.prev.next=null,this._tail=et.prev,et.next=et.prev=null):(this._head=null,this._tail=null),this._length--,et.value},a.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,et.prev=at,nt=et,et=at;this._head=nt}},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,__spread$2([void 0],et)))},a}(List),AbstractCircleDoublyList=function(s){__extends(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,__spread$2(et))||this;return at.cyclization(),at}return a.prototype.iterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},a.prototype.circleIterator=function(){var et;return __generator(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=s.prototype[et].apply(this,nt);return this.cyclization(),mt},a.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},a.prototype.append=function(et){return this.mapToNormalListFn("append",et)},a.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},a.prototype.find=function(et){return this.mapToNormalListFn("find",et)},a.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},a.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},a.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},a.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},a.prototype.first=function(et){invariant$P(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},a.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},a.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},a}(DoublyList);(function(s){__extends(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,__spread$2(et))||this;return at.cyclization(),at}return a.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},a.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,__spread$2([void 0],et)))},a})(AbstractCircleDoublyList);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read$1(s,a){var et=typeof Symbol=="function"&&s[Symbol.iterator];if(!et)return s;var nt=et.call(s),at,mt=[],wt;try{for(;(a===void 0||a-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spread$1(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(__read$1(arguments[a]));return s}var Queue=function(){function s(){for(var a=[],et=0;et<arguments.length;et++)a[et]=arguments[et];this.queue=new(SinglyList.bind.apply(SinglyList,__spread$1([void 0],a)))}return Object.defineProperty(s.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),s.prototype.isEmpty=function(){return this.queue.isEmpty()},s.prototype.enqueue=function(a){return this.queue.append(a)},s.prototype.dequeue=function(){var a=this.queue.removeHead();return typeof a<"u"?a:void 0},s.prototype.toArray=function(){return this.queue.toArray()},s}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __read(s,a){var et=typeof Symbol=="function"&&s[Symbol.iterator];if(!et)return s;var nt=et.call(s),at,mt=[],wt;try{for(;(a===void 0||a-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function __spread(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(__read(arguments[a]));return s}var stack=function(){function s(){for(var a=[],et=0;et<arguments.length;et++)a[et]=arguments[et];this.stack=new(SinglyList.bind.apply(SinglyList,__spread([void 0],a)))}return Object.defineProperty(s.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),s.prototype.isEmpty=function(){return this.stack.isEmpty()},s.prototype.push=function(a){return this.stack.append(a)},s.prototype.pop=function(){var a=this.stack.removeTail();return typeof a<"u"?a:void 0},s.prototype.popBottom=function(){var a=this.stack.removeHead();return typeof a<"u"?a:void 0},s.prototype.toArray=function(){return this.stack.toArray()},s}(),GraphEdge=function(){function s(a,et,nt){nt===void 0&&(nt=0),this.startVertex=a,this.endVertex=et,this.weight=nt}return s.prototype.getKey=function(){var a=this.startVertex.getKey(),et=this.endVertex.getKey();return a+"_"+et},s.prototype.reverse=function(){var a=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=a,this},s.prototype.clone=function(){return new s(this.startVertex,this.endVertex,this.weight)},s.prototype.toString=function(){return this.getKey()},s}();function invariant$O(s,a,et){if(et===void 0&&(et="cc-graph"),!s)throw new Error((et?"["+et+"]":"")+" Invariant failed: "+a)}function isExist(s,a){a===void 0&&(a=!0);var et=typeof s<"u"&&s!==null;return a?et&&s!=="undefined"&&s!=="null":et}var GraphVertex=function(){function s(a){invariant$O(isExist(a),"Graph vertex must have a value"),this.value=a,this.edges=new Map}return s.prototype.addEdge=function(a){return this.edges.set(a.getKey(),a),this},s.prototype.deleteEdge=function(a){this.edges.delete(a.getKey())},s.prototype.getNeighbors=function(){var a=this,et=this.getEdges(),nt=function(at){return at.startVertex===a?at.endVertex:at.startVertex};return et.map(nt)},s.prototype.getEdges=function(){return Array.from(this.edges.values())},s.prototype.getDegree=function(){return this.getEdges().length},s.prototype.hasEdge=function(a){var et=this.getEdges().find(function(nt){return nt===a});return!!et},s.prototype.hasNeighbor=function(a){var et=this.getEdges().find(function(nt){return nt.startVertex===a||nt.endVertex===a});return!!et},s.prototype.findEdge=function(a){var et=function(at){return at.startVertex===a||at.endVertex===a},nt=this.getEdges().find(et);return nt||null},s.prototype.getKey=function(){return this.value},s.prototype.deleteAllEdges=function(){var a=this;return this.getEdges().forEach(function(et){return a.deleteEdge(et)}),this},s.prototype.toString=function(a){return a?a(this.value):""+this.value},s}();function buildDualStack(s,a,et,nt){if(s){a.push(s),nt.set(s.getKey(),!0);var at=s.getNeighbors().filter(function(mt){return!nt.get(mt.getKey())});et.push(at)}}function cutdownDualStack(s,a,et){var nt=s.pop();nt&&et.set(nt.getKey(),!1),a.pop()}var Graph=function(){function s(a){a===void 0&&(a=!1),this.vertices={},this.edges={},this.isDirected=a}return s.prototype.addVertex=function(a){return this.vertices[a.getKey()]=a,this},s.prototype.getVertexByKey=function(a){return this.vertices[a]},s.prototype.getNeighbors=function(a){return a.getNeighbors()},s.prototype.getAllVertices=function(){return Object.values(this.vertices)},s.prototype.getAllEdges=function(){return Object.values(this.edges)},s.prototype.addEdge=function(a,et){if(et===void 0&&(et=!1),this.edges[a.getKey()]){if(et)return this;invariant$O(!1,"Edge has already been added before")}var nt=this.getVertexByKey(a.startVertex.getKey()),at=this.getVertexByKey(a.endVertex.getKey());if(nt||(this.addVertex(a.startVertex),nt=this.getVertexByKey(a.startVertex.getKey())),at||(this.addVertex(a.endVertex),at=this.getVertexByKey(a.endVertex.getKey())),this.edges[a.getKey()]=a,this.isDirected)nt.addEdge(a);else{nt.addEdge(a);var mt=a.clone();at.addEdge(mt.reverse())}return this},s.prototype.deleteEdge=function(a,et){if(et===void 0&&(et=!1),!this.edges[a.getKey()]){if(et)return this;invariant$O(!1,"Edge not found in graph")}delete this.edges[a.getKey()];var nt=this.getVertexByKey(a.startVertex.getKey()),at=this.getVertexByKey(a.endVertex.getKey());return nt.deleteEdge(a),at.deleteEdge(a),this},s.prototype.findEdge=function(a,et){var nt=this.getVertexByKey(a.getKey());return nt?nt.findEdge(et):null},s.prototype.getWeight=function(){return this.getAllEdges().reduce(function(a,et){return a+et.weight},0)},s.prototype.reverse=function(){var a=this;return this.getAllEdges().forEach(function(et){a.deleteEdge(et),et.reverse(),a.addEdge(et)}),this},s.prototype.getVerticesIndices=function(){var a={};return this.getAllVertices().forEach(function(et,nt){a[et.getKey()]=nt}),a},s.prototype.getAdjacencyMatrix=function(){var a=this,et=this.getAllVertices(),nt=this.getVerticesIndices(),at=Array(et.length).fill(null).map(function(){return Array(et.length).fill(1/0)});return et.forEach(function(mt,wt){mt.getNeighbors().forEach(function($t){var Ct=nt[$t.getKey()],Dt=a.findEdge(mt,$t);Dt&&(at[wt][Ct]=Dt.weight)})}),at},s.prototype.toString=function(){return Object.keys(this.vertices).toString()},s.prototype.bfs=function(a){var et,nt,at;return __generator$1(this,function(mt){switch(mt.label){case 0:et=new Map,nt=new Queue,nt.enqueue(a),mt.label=1;case 1:return nt.isEmpty()?[3,4]:(at=nt.dequeue(),at&&!et.has(at.getKey())?[4,at]:[3,3]);case 2:mt.sent(),et.set(at.getKey(),at),at.getNeighbors().forEach(function(wt){return nt.enqueue(wt)}),mt.label=3;case 3:return[3,1];case 4:return[2]}})},s.prototype.dfs=function(a){var et,nt,at;return __generator$1(this,function(mt){switch(mt.label){case 0:et=new Map,nt=new stack,nt.push(a),mt.label=1;case 1:return nt.isEmpty()?[3,4]:(at=nt.pop(),at&&!et.has(at.getKey())?[4,at]:[3,3]);case 2:mt.sent(),et.set(at.getKey(),at),at.getNeighbors().forEach(function(wt){return nt.push(wt)}),mt.label=3;case 3:return[3,1];case 4:return[2]}})},s.prototype.findAllPath=function(a,et){var nt,at,mt,wt,$t,Ct,Dt;return __generator$1(this,function(Ft){switch(Ft.label){case 0:return nt=[],a!==et?[3,2]:(nt.push(a),[4,nt]);case 1:return Ft.sent(),[2];case 2:at=new Map,mt=new stack,wt=new stack,buildDualStack(a,mt,wt,at),Ft.label=3;case 3:if(mt.isEmpty())return[3,6];if($t=wt.pop(),$t&&$t.length)Ct=$t.shift(),wt.push($t),Ct&&buildDualStack(Ct,mt,wt,at);else return wt.push($t),cutdownDualStack(mt,wt,at),[3,3];return Dt=mt.peek,Dt!==et?[3,5]:[4,mt.toArray()];case 4:Ft.sent(),cutdownDualStack(mt,wt,at),Ft.label=5;case 5:return[3,3];case 6:return[2]}})},s}();const version$2="3.7.7",VERSION$4=version$2,_hasBuffer=typeof Buffer$1=="function",_TD=typeof TextDecoder=="function"?new TextDecoder:void 0,_TE=typeof TextEncoder=="function"?new TextEncoder:void 0,b64ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b64chs=Array.prototype.slice.call(b64ch),b64tab=(s=>{let a={};return s.forEach((et,nt)=>a[et]=nt),a})(b64chs),b64re=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,_fromCC=String.fromCharCode.bind(String),_U8Afrom=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):s=>new Uint8Array(Array.prototype.slice.call(s,0)),_mkUriSafe=s=>s.replace(/=/g,"").replace(/[+\/]/g,a=>a=="+"?"-":"_"),_tidyB64=s=>s.replace(/[^A-Za-z0-9\+\/]/g,""),btoaPolyfill=s=>{let a,et,nt,at,mt="";const wt=s.length%3;for(let $t=0;$t<s.length;){if((et=s.charCodeAt($t++))>255||(nt=s.charCodeAt($t++))>255||(at=s.charCodeAt($t++))>255)throw new TypeError("invalid character found");a=et<<16|nt<<8|at,mt+=b64chs[a>>18&63]+b64chs[a>>12&63]+b64chs[a>>6&63]+b64chs[a&63]}return wt?mt.slice(0,wt-3)+"===".substring(wt):mt},_btoa=typeof btoa=="function"?s=>btoa(s):_hasBuffer?s=>Buffer$1.from(s,"binary").toString("base64"):btoaPolyfill,_fromUint8Array=_hasBuffer?s=>Buffer$1.from(s).toString("base64"):s=>{let et=[];for(let nt=0,at=s.length;nt<at;nt+=4096)et.push(_fromCC.apply(null,s.subarray(nt,nt+4096)));return _btoa(et.join(""))},fromUint8Array=(s,a=!1)=>a?_mkUriSafe(_fromUint8Array(s)):_fromUint8Array(s),cb_utob=s=>{if(s.length<2){var a=s.charCodeAt(0);return a<128?s:a<2048?_fromCC(192|a>>>6)+_fromCC(128|a&63):_fromCC(224|a>>>12&15)+_fromCC(128|a>>>6&63)+_fromCC(128|a&63)}else{var a=65536+(s.charCodeAt(0)-55296)*1024+(s.charCodeAt(1)-56320);return _fromCC(240|a>>>18&7)+_fromCC(128|a>>>12&63)+_fromCC(128|a>>>6&63)+_fromCC(128|a&63)}},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=s=>s.replace(re_utob,cb_utob),_encode=_hasBuffer?s=>Buffer$1.from(s,"utf8").toString("base64"):_TE?s=>_fromUint8Array(_TE.encode(s)):s=>_btoa(utob(s)),encode$4=(s,a=!1)=>a?_mkUriSafe(_encode(s)):_encode(s),encodeURI$1=s=>encode$4(s,!0),re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=s=>{switch(s.length){case 4:var a=(7&s.charCodeAt(0))<<18|(63&s.charCodeAt(1))<<12|(63&s.charCodeAt(2))<<6|63&s.charCodeAt(3),et=a-65536;return _fromCC((et>>>10)+55296)+_fromCC((et&1023)+56320);case 3:return _fromCC((15&s.charCodeAt(0))<<12|(63&s.charCodeAt(1))<<6|63&s.charCodeAt(2));default:return _fromCC((31&s.charCodeAt(0))<<6|63&s.charCodeAt(1))}},btou=s=>s.replace(re_btou,cb_btou),atobPolyfill=s=>{if(s=s.replace(/\s+/g,""),!b64re.test(s))throw new TypeError("malformed base64.");s+="==".slice(2-(s.length&3));let a,et="",nt,at;for(let mt=0;mt<s.length;)a=b64tab[s.charAt(mt++)]<<18|b64tab[s.charAt(mt++)]<<12|(nt=b64tab[s.charAt(mt++)])<<6|(at=b64tab[s.charAt(mt++)]),et+=nt===64?_fromCC(a>>16&255):at===64?_fromCC(a>>16&255,a>>8&255):_fromCC(a>>16&255,a>>8&255,a&255);return et},_atob=typeof atob=="function"?s=>atob(_tidyB64(s)):_hasBuffer?s=>Buffer$1.from(s,"base64").toString("binary"):atobPolyfill,_toUint8Array=_hasBuffer?s=>_U8Afrom(Buffer$1.from(s,"base64")):s=>_U8Afrom(_atob(s).split("").map(a=>a.charCodeAt(0))),toUint8Array=s=>_toUint8Array(_unURI(s)),_decode=_hasBuffer?s=>Buffer$1.from(s,"base64").toString("utf8"):_TD?s=>_TD.decode(_toUint8Array(s)):s=>btou(_atob(s)),_unURI=s=>_tidyB64(s.replace(/[-_]/g,a=>a=="-"?"+":"/")),decode=s=>_decode(_unURI(s)),isValid=s=>{if(typeof s!="string")return!1;const a=s.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(a)||!/[^\s0-9a-zA-Z\-_]/.test(a)},_noEnum=s=>({value:s,enumerable:!1,writable:!0,configurable:!0}),extendString=function(){const s=(a,et)=>Object.defineProperty(String.prototype,a,_noEnum(et));s("fromBase64",function(){return decode(this)}),s("toBase64",function(a){return encode$4(this,a)}),s("toBase64URI",function(){return encode$4(this,!0)}),s("toBase64URL",function(){return encode$4(this,!0)}),s("toUint8Array",function(){return toUint8Array(this)})},extendUint8Array=function(){const s=(a,et)=>Object.defineProperty(Uint8Array.prototype,a,_noEnum(et));s("toBase64",function(a){return fromUint8Array(this,a)}),s("toBase64URI",function(){return fromUint8Array(this,!0)}),s("toBase64URL",function(){return fromUint8Array(this,!0)})},extendBuiltins=()=>{extendString(),extendUint8Array()},gBase64={version:version$2,VERSION:VERSION$4,atob:_atob,atobPolyfill,btoa:_btoa,btoaPolyfill,fromBase64:decode,toBase64:encode$4,encode:encode$4,encodeURI:encodeURI$1,encodeURL:encodeURI$1,utob,btou,decode,isValid,fromUint8Array,toUint8Array,extendString,extendUint8Array,extendBuiltins};let getRandomValues$1;const rnds8$1=new Uint8Array(16);function rng$1(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8$1)}const byteToHex$1=[];for(let s=0;s<256;++s)byteToHex$1.push((s+256).toString(16).slice(1));function unsafeStringify(s,a=0){return byteToHex$1[s[a+0]]+byteToHex$1[s[a+1]]+byteToHex$1[s[a+2]]+byteToHex$1[s[a+3]]+"-"+byteToHex$1[s[a+4]]+byteToHex$1[s[a+5]]+"-"+byteToHex$1[s[a+6]]+byteToHex$1[s[a+7]]+"-"+byteToHex$1[s[a+8]]+byteToHex$1[s[a+9]]+"-"+byteToHex$1[s[a+10]]+byteToHex$1[s[a+11]]+byteToHex$1[s[a+12]]+byteToHex$1[s[a+13]]+byteToHex$1[s[a+14]]+byteToHex$1[s[a+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4$1(s,a,et){if(native.randomUUID&&!s)return native.randomUUID();s=s||{};const nt=s.random||(s.rng||rng$1)();return nt[6]=nt[6]&15|64,nt[8]=nt[8]&63|128,unsafeStringify(nt)}const global$1=globalThis||void 0||self;function bind$1(s,a){return function(){return s.apply(a,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf$1=(s=>a=>{const et=toString$2.call(a);return s[et]||(s[et]=et.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest$1=s=>(s=s.toLowerCase(),a=>kindOf$1(a)===s),typeOfTest$1=s=>a=>typeof a===s,{isArray:isArray$3}=Array,isUndefined$1=typeOfTest$1("undefined");function isBuffer$2(s){return s!==null&&!isUndefined$1(s)&&s.constructor!==null&&!isUndefined$1(s.constructor)&&isFunction$5(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const isArrayBuffer$1=kindOfTest$1("ArrayBuffer");function isArrayBufferView$1(s){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(s):a=s&&s.buffer&&isArrayBuffer$1(s.buffer),a}const isString$1=typeOfTest$1("string"),isFunction$5=typeOfTest$1("function"),isNumber$1=typeOfTest$1("number"),isObject$4=s=>s!==null&&typeof s=="object",isBoolean$1=s=>s===!0||s===!1,isPlainObject$1=s=>{if(kindOf$1(s)!=="object")return!1;const a=getPrototypeOf$1(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},isDate$1=kindOfTest$1("Date"),isFile$1=kindOfTest$1("File"),isBlob$1=kindOfTest$1("Blob"),isFileList$1=kindOfTest$1("FileList"),isStream$1=s=>isObject$4(s)&&isFunction$5(s.pipe),isFormData$1=s=>{let a;return s&&(typeof FormData=="function"&&s instanceof FormData||isFunction$5(s.append)&&((a=kindOf$1(s))==="formdata"||a==="object"&&isFunction$5(s.toString)&&s.toString()==="[object FormData]"))},isURLSearchParams$1=kindOfTest$1("URLSearchParams"),[isReadableStream$1,isRequest$2,isResponse$1,isHeaders$1]=["ReadableStream","Request","Response","Headers"].map(kindOfTest$1),trim$2=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(s,a,{allOwnKeys:et=!1}={}){if(s===null||typeof s>"u")return;let nt,at;if(typeof s!="object"&&(s=[s]),isArray$3(s))for(nt=0,at=s.length;nt<at;nt++)a.call(null,s[nt],nt,s);else{const mt=et?Object.getOwnPropertyNames(s):Object.keys(s),wt=mt.length;let $t;for(nt=0;nt<wt;nt++)$t=mt[nt],a.call(null,s[$t],$t,s)}}function findKey$1(s,a){a=a.toLowerCase();const et=Object.keys(s);let nt=et.length,at;for(;nt-- >0;)if(at=et[nt],a===at.toLowerCase())return at;return null}const _global$2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined$1=s=>!isUndefined$1(s)&&s!==_global$2;function merge$3(){const{caseless:s}=isContextDefined$1(this)&&this||{},a={},et=(nt,at)=>{const mt=s&&findKey$1(a,at)||at;isPlainObject$1(a[mt])&&isPlainObject$1(nt)?a[mt]=merge$3(a[mt],nt):isPlainObject$1(nt)?a[mt]=merge$3({},nt):isArray$3(nt)?a[mt]=nt.slice():a[mt]=nt};for(let nt=0,at=arguments.length;nt<at;nt++)arguments[nt]&&forEach$2(arguments[nt],et);return a}const extend$1=(s,a,et,{allOwnKeys:nt}={})=>(forEach$2(a,(at,mt)=>{et&&isFunction$5(at)?s[mt]=bind$1(at,et):s[mt]=at},{allOwnKeys:nt}),s),stripBOM$1=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),inherits$1=(s,a,et,nt)=>{s.prototype=Object.create(a.prototype,nt),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:a.prototype}),et&&Object.assign(s.prototype,et)},toFlatObject$1=(s,a,et,nt)=>{let at,mt,wt;const $t={};if(a=a||{},s==null)return a;do{for(at=Object.getOwnPropertyNames(s),mt=at.length;mt-- >0;)wt=at[mt],(!nt||nt(wt,s,a))&&!$t[wt]&&(a[wt]=s[wt],$t[wt]=!0);s=et!==!1&&getPrototypeOf$1(s)}while(s&&(!et||et(s,a))&&s!==Object.prototype);return a},endsWith$1=(s,a,et)=>{s=String(s),(et===void 0||et>s.length)&&(et=s.length),et-=a.length;const nt=s.indexOf(a,et);return nt!==-1&&nt===et},toArray$2=s=>{if(!s)return null;if(isArray$3(s))return s;let a=s.length;if(!isNumber$1(a))return null;const et=new Array(a);for(;a-- >0;)et[a]=s[a];return et},isTypedArray$3=(s=>a=>s&&a instanceof s)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry$1=(s,a)=>{const nt=(s&&s[Symbol.iterator]).call(s);let at;for(;(at=nt.next())&&!at.done;){const mt=at.value;a.call(s,mt[0],mt[1])}},matchAll$1=(s,a)=>{let et;const nt=[];for(;(et=s.exec(a))!==null;)nt.push(et);return nt},isHTMLForm$1=kindOfTest$1("HTMLFormElement"),toCamelCase$1=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(et,nt,at){return nt.toUpperCase()+at}),hasOwnProperty$b=(({hasOwnProperty:s})=>(a,et)=>s.call(a,et))(Object.prototype),isRegExp$1=kindOfTest$1("RegExp"),reduceDescriptors$1=(s,a)=>{const et=Object.getOwnPropertyDescriptors(s),nt={};forEach$2(et,(at,mt)=>{let wt;(wt=a(at,mt,s))!==!1&&(nt[mt]=wt||at)}),Object.defineProperties(s,nt)},freezeMethods$1=s=>{reduceDescriptors$1(s,(a,et)=>{if(isFunction$5(s)&&["arguments","caller","callee"].indexOf(et)!==-1)return!1;const nt=s[et];if(isFunction$5(nt)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+et+"'")})}})},toObjectSet$1=(s,a)=>{const et={},nt=at=>{at.forEach(mt=>{et[mt]=!0})};return isArray$3(s)?nt(s):nt(String(s).split(a)),et},noop$4=()=>{},toFiniteNumber$1=(s,a)=>s!=null&&Number.isFinite(s=+s)?s:a;function isSpecCompliantForm$1(s){return!!(s&&isFunction$5(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const toJSONObject$1=s=>{const a=new Array(10),et=(nt,at)=>{if(isObject$4(nt)){if(a.indexOf(nt)>=0)return;if(!("toJSON"in nt)){a[at]=nt;const mt=isArray$3(nt)?[]:{};return forEach$2(nt,(wt,$t)=>{const Ct=et(wt,at+1);!isUndefined$1(Ct)&&(mt[$t]=Ct)}),a[at]=void 0,mt}}return nt};return et(s,0)},isAsyncFn$1=kindOfTest$1("AsyncFunction"),isThenable$1=s=>s&&(isObject$4(s)||isFunction$5(s))&&isFunction$5(s.then)&&isFunction$5(s.catch),_setImmediate$1=((s,a)=>s?setImmediate:a?((et,nt)=>(_global$2.addEventListener("message",({source:at,data:mt})=>{at===_global$2&&mt===et&&nt.length&&nt.shift()()},!1),at=>{nt.push(at),_global$2.postMessage(et,"*")}))(`axios@${Math.random()}`,[]):et=>setTimeout(et))(typeof setImmediate=="function",isFunction$5(_global$2.postMessage)),asap$1=typeof queueMicrotask<"u"?queueMicrotask.bind(_global$2):typeof process$1<"u"&&process$1.nextTick||_setImmediate$1,utils$8={isArray:isArray$3,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$2,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$4,isPlainObject:isPlainObject$1,isReadableStream:isReadableStream$1,isRequest:isRequest$2,isResponse:isResponse$1,isHeaders:isHeaders$1,isUndefined:isUndefined$1,isDate:isDate$1,isFile:isFile$1,isBlob:isBlob$1,isRegExp:isRegExp$1,isFunction:isFunction$5,isStream:isStream$1,isURLSearchParams:isURLSearchParams$1,isTypedArray:isTypedArray$3,isFileList:isFileList$1,forEach:forEach$2,merge:merge$3,extend:extend$1,trim:trim$2,stripBOM:stripBOM$1,inherits:inherits$1,toFlatObject:toFlatObject$1,kindOf:kindOf$1,kindOfTest:kindOfTest$1,endsWith:endsWith$1,toArray:toArray$2,forEachEntry:forEachEntry$1,matchAll:matchAll$1,isHTMLForm:isHTMLForm$1,hasOwnProperty:hasOwnProperty$b,hasOwnProp:hasOwnProperty$b,reduceDescriptors:reduceDescriptors$1,freezeMethods:freezeMethods$1,toObjectSet:toObjectSet$1,toCamelCase:toCamelCase$1,noop:noop$4,toFiniteNumber:toFiniteNumber$1,findKey:findKey$1,global:_global$2,isContextDefined:isContextDefined$1,isSpecCompliantForm:isSpecCompliantForm$1,toJSONObject:toJSONObject$1,isAsyncFn:isAsyncFn$1,isThenable:isThenable$1,setImmediate:_setImmediate$1,asap:asap$1};function AxiosError$2(s,a,et,nt,at){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",a&&(this.code=a),et&&(this.config=et),nt&&(this.request=nt),at&&(this.response=at,this.status=at.status?at.status:null)}utils$8.inherits(AxiosError$2,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$8.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$3=AxiosError$2.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{descriptors$1[s]={value:s}});Object.defineProperties(AxiosError$2,descriptors$1);Object.defineProperty(prototype$3,"isAxiosError",{value:!0});AxiosError$2.from=(s,a,et,nt,at,mt)=>{const wt=Object.create(prototype$3);return utils$8.toFlatObject(s,wt,function(Ct){return Ct!==Error.prototype},$t=>$t!=="isAxiosError"),AxiosError$2.call(wt,s.message,a,et,nt,at),wt.cause=s,wt.name=s.name,mt&&Object.assign(wt,mt),wt};const httpAdapter$1=null;function isVisitable$1(s){return utils$8.isPlainObject(s)||utils$8.isArray(s)}function removeBrackets$1(s){return utils$8.endsWith(s,"[]")?s.slice(0,-2):s}function renderKey$1(s,a,et){return s?s.concat(a).map(function(at,mt){return at=removeBrackets$1(at),!et&&mt?"["+at+"]":at}).join(et?".":""):a}function isFlatArray$1(s){return utils$8.isArray(s)&&!s.some(isVisitable$1)}const predicates$1=utils$8.toFlatObject(utils$8,{},null,function(a){return/^is[A-Z]/.test(a)});function toFormData$2(s,a,et){if(!utils$8.isObject(s))throw new TypeError("target must be an object");a=a||new FormData,et=utils$8.toFlatObject(et,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Vt,Yt){return!utils$8.isUndefined(Yt[Vt])});const nt=et.metaTokens,at=et.visitor||Ft,mt=et.dots,wt=et.indexes,Ct=(et.Blob||typeof Blob<"u"&&Blob)&&utils$8.isSpecCompliantForm(a);if(!utils$8.isFunction(at))throw new TypeError("visitor must be a function");function Dt(Ut){if(Ut===null)return"";if(utils$8.isDate(Ut))return Ut.toISOString();if(!Ct&&utils$8.isBlob(Ut))throw new AxiosError$2("Blob is not supported. Use a Buffer instead.");return utils$8.isArrayBuffer(Ut)||utils$8.isTypedArray(Ut)?Ct&&typeof Blob=="function"?new Blob([Ut]):Buffer$1.from(Ut):Ut}function Ft(Ut,Vt,Yt){let er=Ut;if(Ut&&!Yt&&typeof Ut=="object"){if(utils$8.endsWith(Vt,"{}"))Vt=nt?Vt:Vt.slice(0,-2),Ut=JSON.stringify(Ut);else if(utils$8.isArray(Ut)&&isFlatArray$1(Ut)||(utils$8.isFileList(Ut)||utils$8.endsWith(Vt,"[]"))&&(er=utils$8.toArray(Ut)))return Vt=removeBrackets$1(Vt),er.forEach(function(nr,sr){!(utils$8.isUndefined(nr)||nr===null)&&a.append(wt===!0?renderKey$1([Vt],sr,mt):wt===null?Vt:Vt+"[]",Dt(nr))}),!1}return isVisitable$1(Ut)?!0:(a.append(renderKey$1(Yt,Vt,mt),Dt(Ut)),!1)}const jt=[],Nt=Object.assign(predicates$1,{defaultVisitor:Ft,convertValue:Dt,isVisitable:isVisitable$1});function Lt(Ut,Vt){if(!utils$8.isUndefined(Ut)){if(jt.indexOf(Ut)!==-1)throw Error("Circular reference detected in "+Vt.join("."));jt.push(Ut),utils$8.forEach(Ut,function(er,tr){(!(utils$8.isUndefined(er)||er===null)&&at.call(a,er,utils$8.isString(tr)?tr.trim():tr,Vt,Nt))===!0&&Lt(er,Vt?Vt.concat(tr):[tr])}),jt.pop()}}if(!utils$8.isObject(s))throw new TypeError("data must be an object");return Lt(s),a}function encode$3(s){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(nt){return a[nt]})}function AxiosURLSearchParams$1(s,a){this._pairs=[],s&&toFormData$2(s,this,a)}const prototype$2=AxiosURLSearchParams$1.prototype;prototype$2.append=function(a,et){this._pairs.push([a,et])};prototype$2.toString=function(a){const et=a?function(nt){return a.call(this,nt,encode$3)}:encode$3;return this._pairs.map(function(at){return et(at[0])+"="+et(at[1])},"").join("&")};function encode$2(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL$1(s,a,et){if(!a)return s;const nt=et&&et.encode||encode$2;utils$8.isFunction(et)&&(et={serialize:et});const at=et&&et.serialize;let mt;if(at?mt=at(a,et):mt=utils$8.isURLSearchParams(a)?a.toString():new AxiosURLSearchParams$1(a,et).toString(nt),mt){const wt=s.indexOf("#");wt!==-1&&(s=s.slice(0,wt)),s+=(s.indexOf("?")===-1?"?":"&")+mt}return s}let InterceptorManager$2=class{constructor(){this.handlers=[]}use(a,et,nt){return this.handlers.push({fulfilled:a,rejected:et,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){utils$8.forEach(this.handlers,function(nt){nt!==null&&a(nt)})}};const transitionalDefaults$1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$2=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams$1,FormData$2=typeof FormData<"u"?FormData:null,Blob$2=typeof Blob<"u"?Blob:null,platform$3={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$2,FormData:FormData$2,Blob:Blob$2},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv$1=typeof window<"u"&&typeof document<"u",_navigator$1=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv$1=hasBrowserEnv$1&&(!_navigator$1||["ReactNative","NativeScript","NS"].indexOf(_navigator$1.product)<0),hasStandardBrowserWebWorkerEnv$1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin$1=hasBrowserEnv$1&&window.location.href||"http://localhost",utils$7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hasBrowserEnv$1,hasStandardBrowserEnv:hasStandardBrowserEnv$1,hasStandardBrowserWebWorkerEnv:hasStandardBrowserWebWorkerEnv$1,navigator:_navigator$1,origin:origin$1},Symbol.toStringTag,{value:"Module"})),platform$2={...utils$7,...platform$3};function toURLEncodedForm$1(s,a){return toFormData$2(s,new platform$2.classes.URLSearchParams,Object.assign({visitor:function(et,nt,at,mt){return platform$2.isNode&&utils$8.isBuffer(et)?(this.append(nt,et.toString("base64")),!1):mt.defaultVisitor.apply(this,arguments)}},a))}function parsePropPath$1(s){return utils$8.matchAll(/\w+|\[(\w*)]/g,s).map(a=>a[0]==="[]"?"":a[1]||a[0])}function arrayToObject$1(s){const a={},et=Object.keys(s);let nt;const at=et.length;let mt;for(nt=0;nt<at;nt++)mt=et[nt],a[mt]=s[mt];return a}function formDataToJSON$1(s){function a(et,nt,at,mt){let wt=et[mt++];if(wt==="__proto__")return!0;const $t=Number.isFinite(+wt),Ct=mt>=et.length;return wt=!wt&&utils$8.isArray(at)?at.length:wt,Ct?(utils$8.hasOwnProp(at,wt)?at[wt]=[at[wt],nt]:at[wt]=nt,!$t):((!at[wt]||!utils$8.isObject(at[wt]))&&(at[wt]=[]),a(et,nt,at[wt],mt)&&utils$8.isArray(at[wt])&&(at[wt]=arrayToObject$1(at[wt])),!$t)}if(utils$8.isFormData(s)&&utils$8.isFunction(s.entries)){const et={};return utils$8.forEachEntry(s,(nt,at)=>{a(parsePropPath$1(nt),at,et,0)}),et}return null}function stringifySafely$1(s,a,et){if(utils$8.isString(s))try{return(a||JSON.parse)(s),utils$8.trim(s)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(et||JSON.stringify)(s)}const defaults$2={transitional:transitionalDefaults$1,adapter:["xhr","http","fetch"],transformRequest:[function(a,et){const nt=et.getContentType()||"",at=nt.indexOf("application/json")>-1,mt=utils$8.isObject(a);if(mt&&utils$8.isHTMLForm(a)&&(a=new FormData(a)),utils$8.isFormData(a))return at?JSON.stringify(formDataToJSON$1(a)):a;if(utils$8.isArrayBuffer(a)||utils$8.isBuffer(a)||utils$8.isStream(a)||utils$8.isFile(a)||utils$8.isBlob(a)||utils$8.isReadableStream(a))return a;if(utils$8.isArrayBufferView(a))return a.buffer;if(utils$8.isURLSearchParams(a))return et.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let $t;if(mt){if(nt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm$1(a,this.formSerializer).toString();if(($t=utils$8.isFileList(a))||nt.indexOf("multipart/form-data")>-1){const Ct=this.env&&this.env.FormData;return toFormData$2($t?{"files[]":a}:a,Ct&&new Ct,this.formSerializer)}}return mt||at?(et.setContentType("application/json",!1),stringifySafely$1(a)):a}],transformResponse:[function(a){const et=this.transitional||defaults$2.transitional,nt=et&&et.forcedJSONParsing,at=this.responseType==="json";if(utils$8.isResponse(a)||utils$8.isReadableStream(a))return a;if(a&&utils$8.isString(a)&&(nt&&!this.responseType||at)){const wt=!(et&&et.silentJSONParsing)&&at;try{return JSON.parse(a)}catch($t){if(wt)throw $t.name==="SyntaxError"?AxiosError$2.from($t,AxiosError$2.ERR_BAD_RESPONSE,this,null,this.response):$t}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$2.classes.FormData,Blob:platform$2.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$8.forEach(["delete","get","head","post","put","patch"],s=>{defaults$2.headers[s]={}});const ignoreDuplicateOf$1=utils$8.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$1=s=>{const a={};let et,nt,at;return s&&s.split(`
`).forEach(function(wt){at=wt.indexOf(":"),et=wt.substring(0,at).trim().toLowerCase(),nt=wt.substring(at+1).trim(),!(!et||a[et]&&ignoreDuplicateOf$1[et])&&(et==="set-cookie"?a[et]?a[et].push(nt):a[et]=[nt]:a[et]=a[et]?a[et]+", "+nt:nt)}),a},$internals$1=Symbol("internals");function normalizeHeader$1(s){return s&&String(s).trim().toLowerCase()}function normalizeValue$1(s){return s===!1||s==null?s:utils$8.isArray(s)?s.map(normalizeValue$1):String(s)}function parseTokens$1(s){const a=Object.create(null),et=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nt;for(;nt=et.exec(s);)a[nt[1]]=nt[2];return a}const isValidHeaderName$1=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function matchHeaderValue$1(s,a,et,nt,at){if(utils$8.isFunction(nt))return nt.call(this,a,et);if(at&&(a=et),!!utils$8.isString(a)){if(utils$8.isString(nt))return a.indexOf(nt)!==-1;if(utils$8.isRegExp(nt))return nt.test(a)}}function formatHeader$1(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,et,nt)=>et.toUpperCase()+nt)}function buildAccessors$1(s,a){const et=utils$8.toCamelCase(" "+a);["get","set","has"].forEach(nt=>{Object.defineProperty(s,nt+et,{value:function(at,mt,wt){return this[nt].call(this,a,at,mt,wt)},configurable:!0})})}let AxiosHeaders$3=class{constructor(a){a&&this.set(a)}set(a,et,nt){const at=this;function mt($t,Ct,Dt){const Ft=normalizeHeader$1(Ct);if(!Ft)throw new Error("header name must be a non-empty string");const jt=utils$8.findKey(at,Ft);(!jt||at[jt]===void 0||Dt===!0||Dt===void 0&&at[jt]!==!1)&&(at[jt||Ct]=normalizeValue$1($t))}const wt=($t,Ct)=>utils$8.forEach($t,(Dt,Ft)=>mt(Dt,Ft,Ct));if(utils$8.isPlainObject(a)||a instanceof this.constructor)wt(a,et);else if(utils$8.isString(a)&&(a=a.trim())&&!isValidHeaderName$1(a))wt(parseHeaders$1(a),et);else if(utils$8.isHeaders(a))for(const[$t,Ct]of a.entries())mt(Ct,$t,nt);else a!=null&&mt(et,a,nt);return this}get(a,et){if(a=normalizeHeader$1(a),a){const nt=utils$8.findKey(this,a);if(nt){const at=this[nt];if(!et)return at;if(et===!0)return parseTokens$1(at);if(utils$8.isFunction(et))return et.call(this,at,nt);if(utils$8.isRegExp(et))return et.exec(at);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,et){if(a=normalizeHeader$1(a),a){const nt=utils$8.findKey(this,a);return!!(nt&&this[nt]!==void 0&&(!et||matchHeaderValue$1(this,this[nt],nt,et)))}return!1}delete(a,et){const nt=this;let at=!1;function mt(wt){if(wt=normalizeHeader$1(wt),wt){const $t=utils$8.findKey(nt,wt);$t&&(!et||matchHeaderValue$1(nt,nt[$t],$t,et))&&(delete nt[$t],at=!0)}}return utils$8.isArray(a)?a.forEach(mt):mt(a),at}clear(a){const et=Object.keys(this);let nt=et.length,at=!1;for(;nt--;){const mt=et[nt];(!a||matchHeaderValue$1(this,this[mt],mt,a,!0))&&(delete this[mt],at=!0)}return at}normalize(a){const et=this,nt={};return utils$8.forEach(this,(at,mt)=>{const wt=utils$8.findKey(nt,mt);if(wt){et[wt]=normalizeValue$1(at),delete et[mt];return}const $t=a?formatHeader$1(mt):String(mt).trim();$t!==mt&&delete et[mt],et[$t]=normalizeValue$1(at),nt[$t]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const et=Object.create(null);return utils$8.forEach(this,(nt,at)=>{nt!=null&&nt!==!1&&(et[at]=a&&utils$8.isArray(nt)?nt.join(", "):nt)}),et}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,et])=>a+": "+et).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...et){const nt=new this(a);return et.forEach(at=>nt.set(at)),nt}static accessor(a){const nt=(this[$internals$1]=this[$internals$1]={accessors:{}}).accessors,at=this.prototype;function mt(wt){const $t=normalizeHeader$1(wt);nt[$t]||(buildAccessors$1(at,wt),nt[$t]=!0)}return utils$8.isArray(a)?a.forEach(mt):mt(a),this}};AxiosHeaders$3.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$8.reduceDescriptors(AxiosHeaders$3.prototype,({value:s},a)=>{let et=a[0].toUpperCase()+a.slice(1);return{get:()=>s,set(nt){this[et]=nt}}});utils$8.freezeMethods(AxiosHeaders$3);function transformData$1(s,a){const et=this||defaults$2,nt=a||et,at=AxiosHeaders$3.from(nt.headers);let mt=nt.data;return utils$8.forEach(s,function($t){mt=$t.call(et,mt,at.normalize(),a?a.status:void 0)}),at.normalize(),mt}function isCancel$2(s){return!!(s&&s.__CANCEL__)}function CanceledError$2(s,a,et){AxiosError$2.call(this,s??"canceled",AxiosError$2.ERR_CANCELED,a,et),this.name="CanceledError"}utils$8.inherits(CanceledError$2,AxiosError$2,{__CANCEL__:!0});function settle$1(s,a,et){const nt=et.config.validateStatus;!et.status||!nt||nt(et.status)?s(et):a(new AxiosError$2("Request failed with status code "+et.status,[AxiosError$2.ERR_BAD_REQUEST,AxiosError$2.ERR_BAD_RESPONSE][Math.floor(et.status/100)-4],et.config,et.request,et))}function parseProtocol$1(s){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}function speedometer$1(s,a){s=s||10;const et=new Array(s),nt=new Array(s);let at=0,mt=0,wt;return a=a!==void 0?a:1e3,function(Ct){const Dt=Date.now(),Ft=nt[mt];wt||(wt=Dt),et[at]=Ct,nt[at]=Dt;let jt=mt,Nt=0;for(;jt!==at;)Nt+=et[jt++],jt=jt%s;if(at=(at+1)%s,at===mt&&(mt=(mt+1)%s),Dt-wt<a)return;const Lt=Ft&&Dt-Ft;return Lt?Math.round(Nt*1e3/Lt):void 0}}function throttle$1(s,a){let et=0,nt=1e3/a,at,mt;const wt=(Dt,Ft=Date.now())=>{et=Ft,at=null,mt&&(clearTimeout(mt),mt=null),s.apply(null,Dt)};return[(...Dt)=>{const Ft=Date.now(),jt=Ft-et;jt>=nt?wt(Dt,Ft):(at=Dt,mt||(mt=setTimeout(()=>{mt=null,wt(at)},nt-jt)))},()=>at&&wt(at)]}const progressEventReducer$1=(s,a,et=3)=>{let nt=0;const at=speedometer$1(50,250);return throttle$1(mt=>{const wt=mt.loaded,$t=mt.lengthComputable?mt.total:void 0,Ct=wt-nt,Dt=at(Ct),Ft=wt<=$t;nt=wt;const jt={loaded:wt,total:$t,progress:$t?wt/$t:void 0,bytes:Ct,rate:Dt||void 0,estimated:Dt&&$t&&Ft?($t-wt)/Dt:void 0,event:mt,lengthComputable:$t!=null,[a?"download":"upload"]:!0};s(jt)},et)},progressEventDecorator$1=(s,a)=>{const et=s!=null;return[nt=>a[0]({lengthComputable:et,total:s,loaded:nt}),a[1]]},asyncDecorator$1=s=>(...a)=>utils$8.asap(()=>s(...a)),isURLSameOrigin$1=platform$2.hasStandardBrowserEnv?((s,a)=>et=>(et=new URL(et,platform$2.origin),s.protocol===et.protocol&&s.host===et.host&&(a||s.port===et.port)))(new URL(platform$2.origin),platform$2.navigator&&/(msie|trident)/i.test(platform$2.navigator.userAgent)):()=>!0,cookies$1=platform$2.hasStandardBrowserEnv?{write(s,a,et,nt,at,mt){const wt=[s+"="+encodeURIComponent(a)];utils$8.isNumber(et)&&wt.push("expires="+new Date(et).toGMTString()),utils$8.isString(nt)&&wt.push("path="+nt),utils$8.isString(at)&&wt.push("domain="+at),mt===!0&&wt.push("secure"),document.cookie=wt.join("; ")},read(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL$1(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function combineURLs$1(s,a){return a?s.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):s}function buildFullPath$1(s,a,et){let nt=!isAbsoluteURL$1(a);return s&&(nt||et==!1)?combineURLs$1(s,a):a}const headersToObject$1=s=>s instanceof AxiosHeaders$3?{...s}:s;function mergeConfig$2(s,a){a=a||{};const et={};function nt(Dt,Ft,jt,Nt){return utils$8.isPlainObject(Dt)&&utils$8.isPlainObject(Ft)?utils$8.merge.call({caseless:Nt},Dt,Ft):utils$8.isPlainObject(Ft)?utils$8.merge({},Ft):utils$8.isArray(Ft)?Ft.slice():Ft}function at(Dt,Ft,jt,Nt){if(utils$8.isUndefined(Ft)){if(!utils$8.isUndefined(Dt))return nt(void 0,Dt,jt,Nt)}else return nt(Dt,Ft,jt,Nt)}function mt(Dt,Ft){if(!utils$8.isUndefined(Ft))return nt(void 0,Ft)}function wt(Dt,Ft){if(utils$8.isUndefined(Ft)){if(!utils$8.isUndefined(Dt))return nt(void 0,Dt)}else return nt(void 0,Ft)}function $t(Dt,Ft,jt){if(jt in a)return nt(Dt,Ft);if(jt in s)return nt(void 0,Dt)}const Ct={url:mt,method:mt,data:mt,baseURL:wt,transformRequest:wt,transformResponse:wt,paramsSerializer:wt,timeout:wt,timeoutMessage:wt,withCredentials:wt,withXSRFToken:wt,adapter:wt,responseType:wt,xsrfCookieName:wt,xsrfHeaderName:wt,onUploadProgress:wt,onDownloadProgress:wt,decompress:wt,maxContentLength:wt,maxBodyLength:wt,beforeRedirect:wt,transport:wt,httpAgent:wt,httpsAgent:wt,cancelToken:wt,socketPath:wt,responseEncoding:wt,validateStatus:$t,headers:(Dt,Ft,jt)=>at(headersToObject$1(Dt),headersToObject$1(Ft),jt,!0)};return utils$8.forEach(Object.keys(Object.assign({},s,a)),function(Ft){const jt=Ct[Ft]||at,Nt=jt(s[Ft],a[Ft],Ft);utils$8.isUndefined(Nt)&&jt!==$t||(et[Ft]=Nt)}),et}const resolveConfig$1=s=>{const a=mergeConfig$2({},s);let{data:et,withXSRFToken:nt,xsrfHeaderName:at,xsrfCookieName:mt,headers:wt,auth:$t}=a;a.headers=wt=AxiosHeaders$3.from(wt),a.url=buildURL$1(buildFullPath$1(a.baseURL,a.url,a.allowAbsoluteUrls),s.params,s.paramsSerializer),$t&&wt.set("Authorization","Basic "+btoa(($t.username||"")+":"+($t.password?unescape(encodeURIComponent($t.password)):"")));let Ct;if(utils$8.isFormData(et)){if(platform$2.hasStandardBrowserEnv||platform$2.hasStandardBrowserWebWorkerEnv)wt.setContentType(void 0);else if((Ct=wt.getContentType())!==!1){const[Dt,...Ft]=Ct?Ct.split(";").map(jt=>jt.trim()).filter(Boolean):[];wt.setContentType([Dt||"multipart/form-data",...Ft].join("; "))}}if(platform$2.hasStandardBrowserEnv&&(nt&&utils$8.isFunction(nt)&&(nt=nt(a)),nt||nt!==!1&&isURLSameOrigin$1(a.url))){const Dt=at&&mt&&cookies$1.read(mt);Dt&&wt.set(at,Dt)}return a},isXHRAdapterSupported$1=typeof XMLHttpRequest<"u",xhrAdapter$1=isXHRAdapterSupported$1&&function(s){return new Promise(function(et,nt){const at=resolveConfig$1(s);let mt=at.data;const wt=AxiosHeaders$3.from(at.headers).normalize();let{responseType:$t,onUploadProgress:Ct,onDownloadProgress:Dt}=at,Ft,jt,Nt,Lt,Ut;function Vt(){Lt&&Lt(),Ut&&Ut(),at.cancelToken&&at.cancelToken.unsubscribe(Ft),at.signal&&at.signal.removeEventListener("abort",Ft)}let Yt=new XMLHttpRequest;Yt.open(at.method.toUpperCase(),at.url,!0),Yt.timeout=at.timeout;function er(){if(!Yt)return;const nr=AxiosHeaders$3.from("getAllResponseHeaders"in Yt&&Yt.getAllResponseHeaders()),dr={data:!$t||$t==="text"||$t==="json"?Yt.responseText:Yt.response,status:Yt.status,statusText:Yt.statusText,headers:nr,config:s,request:Yt};settle$1(function(vr){et(vr),Vt()},function(vr){nt(vr),Vt()},dr),Yt=null}"onloadend"in Yt?Yt.onloadend=er:Yt.onreadystatechange=function(){!Yt||Yt.readyState!==4||Yt.status===0&&!(Yt.responseURL&&Yt.responseURL.indexOf("file:")===0)||setTimeout(er)},Yt.onabort=function(){Yt&&(nt(new AxiosError$2("Request aborted",AxiosError$2.ECONNABORTED,s,Yt)),Yt=null)},Yt.onerror=function(){nt(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,s,Yt)),Yt=null},Yt.ontimeout=function(){let sr=at.timeout?"timeout of "+at.timeout+"ms exceeded":"timeout exceeded";const dr=at.transitional||transitionalDefaults$1;at.timeoutErrorMessage&&(sr=at.timeoutErrorMessage),nt(new AxiosError$2(sr,dr.clarifyTimeoutError?AxiosError$2.ETIMEDOUT:AxiosError$2.ECONNABORTED,s,Yt)),Yt=null},mt===void 0&&wt.setContentType(null),"setRequestHeader"in Yt&&utils$8.forEach(wt.toJSON(),function(sr,dr){Yt.setRequestHeader(dr,sr)}),utils$8.isUndefined(at.withCredentials)||(Yt.withCredentials=!!at.withCredentials),$t&&$t!=="json"&&(Yt.responseType=at.responseType),Dt&&([Nt,Ut]=progressEventReducer$1(Dt,!0),Yt.addEventListener("progress",Nt)),Ct&&Yt.upload&&([jt,Lt]=progressEventReducer$1(Ct),Yt.upload.addEventListener("progress",jt),Yt.upload.addEventListener("loadend",Lt)),(at.cancelToken||at.signal)&&(Ft=nr=>{Yt&&(nt(!nr||nr.type?new CanceledError$2(null,s,Yt):nr),Yt.abort(),Yt=null)},at.cancelToken&&at.cancelToken.subscribe(Ft),at.signal&&(at.signal.aborted?Ft():at.signal.addEventListener("abort",Ft)));const tr=parseProtocol$1(at.url);if(tr&&platform$2.protocols.indexOf(tr)===-1){nt(new AxiosError$2("Unsupported protocol "+tr+":",AxiosError$2.ERR_BAD_REQUEST,s));return}Yt.send(mt||null)})},composeSignals$2=(s,a)=>{const{length:et}=s=s?s.filter(Boolean):[];if(a||et){let nt=new AbortController,at;const mt=function(Dt){if(!at){at=!0,$t();const Ft=Dt instanceof Error?Dt:this.reason;nt.abort(Ft instanceof AxiosError$2?Ft:new CanceledError$2(Ft instanceof Error?Ft.message:Ft))}};let wt=a&&setTimeout(()=>{wt=null,mt(new AxiosError$2(`timeout ${a} of ms exceeded`,AxiosError$2.ETIMEDOUT))},a);const $t=()=>{s&&(wt&&clearTimeout(wt),wt=null,s.forEach(Dt=>{Dt.unsubscribe?Dt.unsubscribe(mt):Dt.removeEventListener("abort",mt)}),s=null)};s.forEach(Dt=>Dt.addEventListener("abort",mt));const{signal:Ct}=nt;return Ct.unsubscribe=()=>utils$8.asap($t),Ct}},streamChunk$1=function*(s,a){let et=s.byteLength;if(et<a){yield s;return}let nt=0,at;for(;nt<et;)at=nt+a,yield s.slice(nt,at),nt=at},readBytes$1=async function*(s,a){for await(const et of readStream$1(s))yield*streamChunk$1(et,a)},readStream$1=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const a=s.getReader();try{for(;;){const{done:et,value:nt}=await a.read();if(et)break;yield nt}}finally{await a.cancel()}},trackStream$1=(s,a,et,nt)=>{const at=readBytes$1(s,a);let mt=0,wt,$t=Ct=>{wt||(wt=!0,nt&&nt(Ct))};return new ReadableStream({async pull(Ct){try{const{done:Dt,value:Ft}=await at.next();if(Dt){$t(),Ct.close();return}let jt=Ft.byteLength;if(et){let Nt=mt+=jt;et(Nt)}Ct.enqueue(new Uint8Array(Ft))}catch(Dt){throw $t(Dt),Dt}},cancel(Ct){return $t(Ct),at.return()}},{highWaterMark:2})},isFetchSupported$1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported$1=isFetchSupported$1&&typeof ReadableStream=="function",encodeText$1=isFetchSupported$1&&(typeof TextEncoder=="function"?(s=>a=>s.encode(a))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),test$2=(s,...a)=>{try{return!!s(...a)}catch{return!1}},supportsRequestStream$1=isReadableStreamSupported$1&&test$2(()=>{let s=!1;const a=new Request(platform$2.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!a}),DEFAULT_CHUNK_SIZE$1=64*1024,supportsResponseStream$1=isReadableStreamSupported$1&&test$2(()=>utils$8.isReadableStream(new Response("").body)),resolvers$1={stream:supportsResponseStream$1&&(s=>s.body)};isFetchSupported$1&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(a=>{!resolvers$1[a]&&(resolvers$1[a]=utils$8.isFunction(s[a])?et=>et[a]():(et,nt)=>{throw new AxiosError$2(`Response type '${a}' is not supported`,AxiosError$2.ERR_NOT_SUPPORT,nt)})})})(new Response);const getBodyLength$1=async s=>{if(s==null)return 0;if(utils$8.isBlob(s))return s.size;if(utils$8.isSpecCompliantForm(s))return(await new Request(platform$2.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(utils$8.isArrayBufferView(s)||utils$8.isArrayBuffer(s))return s.byteLength;if(utils$8.isURLSearchParams(s)&&(s=s+""),utils$8.isString(s))return(await encodeText$1(s)).byteLength},resolveBodyLength$1=async(s,a)=>{const et=utils$8.toFiniteNumber(s.getContentLength());return et??getBodyLength$1(a)},fetchAdapter$1=isFetchSupported$1&&(async s=>{let{url:a,method:et,data:nt,signal:at,cancelToken:mt,timeout:wt,onDownloadProgress:$t,onUploadProgress:Ct,responseType:Dt,headers:Ft,withCredentials:jt="same-origin",fetchOptions:Nt}=resolveConfig$1(s);Dt=Dt?(Dt+"").toLowerCase():"text";let Lt=composeSignals$2([at,mt&&mt.toAbortSignal()],wt),Ut;const Vt=Lt&&Lt.unsubscribe&&(()=>{Lt.unsubscribe()});let Yt;try{if(Ct&&supportsRequestStream$1&&et!=="get"&&et!=="head"&&(Yt=await resolveBodyLength$1(Ft,nt))!==0){let dr=new Request(a,{method:"POST",body:nt,duplex:"half"}),br;if(utils$8.isFormData(nt)&&(br=dr.headers.get("content-type"))&&Ft.setContentType(br),dr.body){const[vr,yr]=progressEventDecorator$1(Yt,progressEventReducer$1(asyncDecorator$1(Ct)));nt=trackStream$1(dr.body,DEFAULT_CHUNK_SIZE$1,vr,yr)}}utils$8.isString(jt)||(jt=jt?"include":"omit");const er="credentials"in Request.prototype;Ut=new Request(a,{...Nt,signal:Lt,method:et.toUpperCase(),headers:Ft.normalize().toJSON(),body:nt,duplex:"half",credentials:er?jt:void 0});let tr=await fetch(Ut);const nr=supportsResponseStream$1&&(Dt==="stream"||Dt==="response");if(supportsResponseStream$1&&($t||nr&&Vt)){const dr={};["status","statusText","headers"].forEach($r=>{dr[$r]=tr[$r]});const br=utils$8.toFiniteNumber(tr.headers.get("content-length")),[vr,yr]=$t&&progressEventDecorator$1(br,progressEventReducer$1(asyncDecorator$1($t),!0))||[];tr=new Response(trackStream$1(tr.body,DEFAULT_CHUNK_SIZE$1,vr,()=>{yr&&yr(),Vt&&Vt()}),dr)}Dt=Dt||"text";let sr=await resolvers$1[utils$8.findKey(resolvers$1,Dt)||"text"](tr,s);return!nr&&Vt&&Vt(),await new Promise((dr,br)=>{settle$1(dr,br,{data:sr,headers:AxiosHeaders$3.from(tr.headers),status:tr.status,statusText:tr.statusText,config:s,request:Ut})})}catch(er){throw Vt&&Vt(),er&&er.name==="TypeError"&&/fetch/i.test(er.message)?Object.assign(new AxiosError$2("Network Error",AxiosError$2.ERR_NETWORK,s,Ut),{cause:er.cause||er}):AxiosError$2.from(er,er&&er.code,s,Ut)}}),knownAdapters$1={http:httpAdapter$1,xhr:xhrAdapter$1,fetch:fetchAdapter$1};utils$8.forEach(knownAdapters$1,(s,a)=>{if(s){try{Object.defineProperty(s,"name",{value:a})}catch{}Object.defineProperty(s,"adapterName",{value:a})}});const renderReason$1=s=>`- ${s}`,isResolvedHandle$1=s=>utils$8.isFunction(s)||s===null||s===!1,adapters$1={getAdapter:s=>{s=utils$8.isArray(s)?s:[s];const{length:a}=s;let et,nt;const at={};for(let mt=0;mt<a;mt++){et=s[mt];let wt;if(nt=et,!isResolvedHandle$1(et)&&(nt=knownAdapters$1[(wt=String(et)).toLowerCase()],nt===void 0))throw new AxiosError$2(`Unknown adapter '${wt}'`);if(nt)break;at[wt||"#"+mt]=nt}if(!nt){const mt=Object.entries(at).map(([$t,Ct])=>`adapter ${$t} `+(Ct===!1?"is not supported by the environment":"is not available in the build"));let wt=a?mt.length>1?`since :
`+mt.map(renderReason$1).join(`
`):" "+renderReason$1(mt[0]):"as no adapter specified";throw new AxiosError$2("There is no suitable adapter to dispatch the request "+wt,"ERR_NOT_SUPPORT")}return nt},adapters:knownAdapters$1};function throwIfCancellationRequested$1(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new CanceledError$2(null,s)}function dispatchRequest$1(s){return throwIfCancellationRequested$1(s),s.headers=AxiosHeaders$3.from(s.headers),s.data=transformData$1.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),adapters$1.getAdapter(s.adapter||defaults$2.adapter)(s).then(function(nt){return throwIfCancellationRequested$1(s),nt.data=transformData$1.call(s,s.transformResponse,nt),nt.headers=AxiosHeaders$3.from(nt.headers),nt},function(nt){return isCancel$2(nt)||(throwIfCancellationRequested$1(s),nt&&nt.response&&(nt.response.data=transformData$1.call(s,s.transformResponse,nt.response),nt.response.headers=AxiosHeaders$3.from(nt.response.headers))),Promise.reject(nt)})}const VERSION$3="1.8.4",validators$3={};["object","boolean","number","function","string","symbol"].forEach((s,a)=>{validators$3[s]=function(nt){return typeof nt===s||"a"+(a<1?"n ":" ")+s}});const deprecatedWarnings$1={};validators$3.transitional=function(a,et,nt){function at(mt,wt){return"[Axios v"+VERSION$3+"] Transitional option '"+mt+"'"+wt+(nt?". "+nt:"")}return(mt,wt,$t)=>{if(a===!1)throw new AxiosError$2(at(wt," has been removed"+(et?" in "+et:"")),AxiosError$2.ERR_DEPRECATED);return et&&!deprecatedWarnings$1[wt]&&(deprecatedWarnings$1[wt]=!0,console.warn(at(wt," has been deprecated since v"+et+" and will be removed in the near future"))),a?a(mt,wt,$t):!0}};validators$3.spelling=function(a){return(et,nt)=>(console.warn(`${nt} is likely a misspelling of ${a}`),!0)};function assertOptions$1(s,a,et){if(typeof s!="object")throw new AxiosError$2("options must be an object",AxiosError$2.ERR_BAD_OPTION_VALUE);const nt=Object.keys(s);let at=nt.length;for(;at-- >0;){const mt=nt[at],wt=a[mt];if(wt){const $t=s[mt],Ct=$t===void 0||wt($t,mt,s);if(Ct!==!0)throw new AxiosError$2("option "+mt+" must be "+Ct,AxiosError$2.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError$2("Unknown option "+mt,AxiosError$2.ERR_BAD_OPTION)}}const validator$2={assertOptions:assertOptions$1,validators:validators$3},validators$2=validator$2.validators;let Axios$3=class{constructor(a){this.defaults=a,this.interceptors={request:new InterceptorManager$2,response:new InterceptorManager$2}}async request(a,et){try{return await this._request(a,et)}catch(nt){if(nt instanceof Error){let at={};Error.captureStackTrace?Error.captureStackTrace(at):at=new Error;const mt=at.stack?at.stack.replace(/^.+\n/,""):"";try{nt.stack?mt&&!String(nt.stack).endsWith(mt.replace(/^.+\n.+\n/,""))&&(nt.stack+=`
`+mt):nt.stack=mt}catch{}}throw nt}}_request(a,et){typeof a=="string"?(et=et||{},et.url=a):et=a||{},et=mergeConfig$2(this.defaults,et);const{transitional:nt,paramsSerializer:at,headers:mt}=et;nt!==void 0&&validator$2.assertOptions(nt,{silentJSONParsing:validators$2.transitional(validators$2.boolean),forcedJSONParsing:validators$2.transitional(validators$2.boolean),clarifyTimeoutError:validators$2.transitional(validators$2.boolean)},!1),at!=null&&(utils$8.isFunction(at)?et.paramsSerializer={serialize:at}:validator$2.assertOptions(at,{encode:validators$2.function,serialize:validators$2.function},!0)),et.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?et.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:et.allowAbsoluteUrls=!0),validator$2.assertOptions(et,{baseUrl:validators$2.spelling("baseURL"),withXsrfToken:validators$2.spelling("withXSRFToken")},!0),et.method=(et.method||this.defaults.method||"get").toLowerCase();let wt=mt&&utils$8.merge(mt.common,mt[et.method]);mt&&utils$8.forEach(["delete","get","head","post","put","patch","common"],Ut=>{delete mt[Ut]}),et.headers=AxiosHeaders$3.concat(wt,mt);const $t=[];let Ct=!0;this.interceptors.request.forEach(function(Vt){typeof Vt.runWhen=="function"&&Vt.runWhen(et)===!1||(Ct=Ct&&Vt.synchronous,$t.unshift(Vt.fulfilled,Vt.rejected))});const Dt=[];this.interceptors.response.forEach(function(Vt){Dt.push(Vt.fulfilled,Vt.rejected)});let Ft,jt=0,Nt;if(!Ct){const Ut=[dispatchRequest$1.bind(this),void 0];for(Ut.unshift.apply(Ut,$t),Ut.push.apply(Ut,Dt),Nt=Ut.length,Ft=Promise.resolve(et);jt<Nt;)Ft=Ft.then(Ut[jt++],Ut[jt++]);return Ft}Nt=$t.length;let Lt=et;for(jt=0;jt<Nt;){const Ut=$t[jt++],Vt=$t[jt++];try{Lt=Ut(Lt)}catch(Yt){Vt.call(this,Yt);break}}try{Ft=dispatchRequest$1.call(this,Lt)}catch(Ut){return Promise.reject(Ut)}for(jt=0,Nt=Dt.length;jt<Nt;)Ft=Ft.then(Dt[jt++],Dt[jt++]);return Ft}getUri(a){a=mergeConfig$2(this.defaults,a);const et=buildFullPath$1(a.baseURL,a.url,a.allowAbsoluteUrls);return buildURL$1(et,a.params,a.paramsSerializer)}};utils$8.forEach(["delete","get","head","options"],function(a){Axios$3.prototype[a]=function(et,nt){return this.request(mergeConfig$2(nt||{},{method:a,url:et,data:(nt||{}).data}))}});utils$8.forEach(["post","put","patch"],function(a){function et(nt){return function(mt,wt,$t){return this.request(mergeConfig$2($t||{},{method:a,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:mt,data:wt}))}}Axios$3.prototype[a]=et(),Axios$3.prototype[a+"Form"]=et(!0)});let CancelToken$3=class Rp{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let et;this.promise=new Promise(function(mt){et=mt});const nt=this;this.promise.then(at=>{if(!nt._listeners)return;let mt=nt._listeners.length;for(;mt-- >0;)nt._listeners[mt](at);nt._listeners=null}),this.promise.then=at=>{let mt;const wt=new Promise($t=>{nt.subscribe($t),mt=$t}).then(at);return wt.cancel=function(){nt.unsubscribe(mt)},wt},a(function(mt,wt,$t){nt.reason||(nt.reason=new CanceledError$2(mt,wt,$t),et(nt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const et=this._listeners.indexOf(a);et!==-1&&this._listeners.splice(et,1)}toAbortSignal(){const a=new AbortController,et=nt=>{a.abort(nt)};return this.subscribe(et),a.signal.unsubscribe=()=>this.unsubscribe(et),a.signal}static source(){let a;return{token:new Rp(function(at){a=at}),cancel:a}}};function spread$2(s){return function(et){return s.apply(null,et)}}function isAxiosError$2(s){return utils$8.isObject(s)&&s.isAxiosError===!0}const HttpStatusCode$3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$3).forEach(([s,a])=>{HttpStatusCode$3[a]=s});function createInstance$1(s){const a=new Axios$3(s),et=bind$1(Axios$3.prototype.request,a);return utils$8.extend(et,Axios$3.prototype,a,{allOwnKeys:!0}),utils$8.extend(et,a,null,{allOwnKeys:!0}),et.create=function(at){return createInstance$1(mergeConfig$2(s,at))},et}const axios$1=createInstance$1(defaults$2);axios$1.Axios=Axios$3;axios$1.CanceledError=CanceledError$2;axios$1.CancelToken=CancelToken$3;axios$1.isCancel=isCancel$2;axios$1.VERSION=VERSION$3;axios$1.toFormData=toFormData$2;axios$1.AxiosError=AxiosError$2;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(a){return Promise.all(a)};axios$1.spread=spread$2;axios$1.isAxiosError=isAxiosError$2;axios$1.mergeConfig=mergeConfig$2;axios$1.AxiosHeaders=AxiosHeaders$3;axios$1.formToJSON=s=>formDataToJSON$1(utils$8.isHTMLForm(s)?new FormData(s):s);axios$1.getAdapter=adapters$1.getAdapter;axios$1.HttpStatusCode=HttpStatusCode$3;axios$1.default=axios$1;const{Axios:Axios$2,AxiosError:AxiosError$1,CanceledError:CanceledError$1,isCancel:isCancel$1,CancelToken:CancelToken$2,VERSION:VERSION$2,all,Cancel,isAxiosError:isAxiosError$1,spread:spread$1,toFormData:toFormData$1,AxiosHeaders:AxiosHeaders$2,HttpStatusCode:HttpStatusCode$2,formToJSON,getAdapter,mergeConfig:mergeConfig$1}=axios$1;var __defProp$j=Object.defineProperty,__defNormalProp$7=(s,a,et)=>a in s?__defProp$j(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__publicField$4=(s,a,et)=>(__defNormalProp$7(s,a+"",et),et),cacheTime5min=5*60*1e3,cacheTime24h=24*60*60*1e3;function getFutureTime(s){return Date.parse(new Date().toString())+s}var CachedContent=class{constructor(s,a=0){sn(this,"overdueTime");sn(this,"value");this.overdueTime=a,this.value=s}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var decimal_default$1=Decimal$1,ClmmpoolsError=class extends Error{constructor(a,et){super(a);sn(this,"message");sn(this,"errorCode");this.message=a,this.errorCode=et}static isClmmpoolsErrorCode(a,et){return a instanceof ClmmpoolsError&&a.errorCode===et}},ZERO$1=new BN(0),ONE=new BN(1),TWO$1=new BN(2);TWO$1.pow(new BN(128));var U64_MAX=TWO$1.pow(new BN(64)).sub(ONE),U128_MAX=TWO$1.pow(new BN(128)).sub(ONE),MathUtil=class{static toX64_BN(s){return s.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(s){return s.mul(decimal_default$1.pow(2,64))}static toX64(s){return new BN(s.mul(decimal_default$1.pow(2,64)).floor().toFixed())}static fromX64(s){return new decimal_default$1(s.toString()).mul(decimal_default$1.pow(2,-64))}static fromX64_Decimal(s){return s.mul(decimal_default$1.pow(2,-64))}static fromX64_BN(s){return s.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(s){let a=s.shrn(64);return s.mod(U64_MAX).gt(ZERO$1)&&(a=a.add(ONE)),a}static divRoundUp(s,a){return s.mod(a).eq(ZERO$1)?s.div(a):s.div(a).add(new BN(1))}static subUnderflowU128(s,a){return s.lt(a)?s.sub(a).add(U128_MAX):s.sub(a)}static checkUnsignedSub(s,a){const et=s.sub(a);if(et.isNeg())throw new ClmmpoolsError("Unsigned integer sub overflow","UnsignedIntegerOverflow");return et}static checkMul(s,a,et){const nt=s.mul(a);if(this.isOverflow(nt,et))throw new ClmmpoolsError("Multiplication overflow","MultiplicationOverflow");return nt}static checkMulDivFloor(s,a,et,nt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=s.mul(a).div(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivCeil(s,a,et,nt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=s.mul(a).add(et.sub(ONE)).div(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivRound(s,a,et,nt){if(et.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");const at=s.mul(a.add(et.shrn(1))).div(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication div overflow","MulDivOverflow");return at}static checkMulShiftRight(s,a,et,nt){const at=s.mul(a).div(new BN(2).pow(new BN(et)));if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return at}static checkMulShiftRight64RoundUpIf(s,a,et,nt){const at=s.mul(a),wt=nt&&at.and(U64_MAX).gt(ZERO$1)?at.shrn(64).add(ONE):at.shrn(64);if(this.isOverflow(wt,et))throw new ClmmpoolsError("Multiplication shift right overflow","MulShiftRightOverflow");return wt}static checkMulShiftLeft(s,a,et,nt){const at=s.mul(a).shln(et);if(this.isOverflow(at,nt))throw new ClmmpoolsError("Multiplication shift left overflow","MulShiftLeftOverflow");return at}static checkDivRoundUpIf(s,a,et){if(a.eq(ZERO$1))throw new ClmmpoolsError("Devide by zero","DivideByZero");return et?this.divRoundUp(s,a):s.div(a)}static isOverflow(s,a){return s.gte(TWO$1.pow(new BN(a)))}static sign(s){return s.testn(127)?1:0}static is_neg(s){return this.sign(s)===1}static abs_u128(s){return s.gt(ZERO$1)?s:this.u128_neg(s.subn(1))}static u128_neg(s){return s.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(s){return this.is_neg(s)?s.abs():this.neg_from(s)}static abs(s){return this.sign(s)===0?s:this.u128_neg(s.sub(new BN(1)))}static neg_from(s){return s.eq(ZERO$1)?s:this.u128_neg(s).add(new BN(1)).or(new BN(1).shln(127))}};function transClmmpoolDataWithoutTicks(s){return{coinA:s.coinTypeA,coinB:s.coinTypeB,currentSqrtPrice:new BN(s.current_sqrt_price),currentTickIndex:s.current_tick_index,feeGrowthGlobalA:new BN(s.fee_growth_global_a),feeGrowthGlobalB:new BN(s.fee_growth_global_b),feeProtocolCoinA:new BN(s.fee_protocol_coin_a),feeProtocolCoinB:new BN(s.fee_protocol_coin_b),feeRate:new BN(s.fee_rate),liquidity:new BN(s.liquidity),tickIndexes:[],tickSpacing:Number(s.tickSpacing),ticks:[],collection_name:""}}var MAX_TICK_INDEX=443636,MIN_TICK_INDEX=-443636,MAX_SQRT_PRICE="79226673515401279992447579055",MIN_SQRT_PRICE="4295048016",FEE_RATE_DENOMINATOR=new BN(1e6),CLOCK_ADDRESS$1="0x0000000000000000000000000000000000000000000000000000000000000006",ClmmPartnerModule="partner",ClmmIntegratePoolModule="pool_script",ClmmIntegratePoolV2Module="pool_script_v2",ClmmIntegratePoolV3Module="pool_script_v3",ClmmIntegrateRouterModule="router",ClmmIntegrateRouterWithPartnerModule="router_with_partner",ClmmFetcherModule="fetcher_script",ClmmExpectSwapModule="expect_swap",ClmmIntegrateUtilsModule="utils",DeepbookCustodianV2Moudle="custodian_v2",DeepbookClobV2Moudle="clob_v2",DeepbookEndpointsV2Moudle="endpoints_v2",ClmmPositionStatus=(s=>(s.Deleted="Deleted",s.Exists="Exists",s.NotExists="NotExists",s))(ClmmPositionStatus||{});function getPackagerConfigs(s){if(s.config===void 0)throw new ClmmpoolsError(`package: ${s.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return s.config}var poolFilterEvenTypes=["RemoveLiquidityEvent","SwapEvent","AddLiquidityEvent"],BIT_PRECISION=14,LOG_B_2_X32="59543866431248",LOG_B_P_ERR_MARGIN_LOWER_X64="184467440737095516",LOG_B_P_ERR_MARGIN_UPPER_X64="15793534762490258745",TICK_BOUND=443636;function signedShiftLeft(s,a,et){const nt=s.toTwos(et).shln(a);return nt.imaskn(et+1),nt.fromTwos(et)}function signedShiftRight(s,a,et){const nt=s.toTwos(et).shrn(a);return nt.imaskn(et-a+1),nt.fromTwos(et-a)}function tickIndexToSqrtPricePositive(s){let a;return s&1?a=new BN("79232123823359799118286999567"):a=new BN("79228162514264337593543950336"),s&2&&(a=signedShiftRight(a.mul(new BN("79236085330515764027303304731")),96,256)),s&4&&(a=signedShiftRight(a.mul(new BN("79244008939048815603706035061")),96,256)),s&8&&(a=signedShiftRight(a.mul(new BN("79259858533276714757314932305")),96,256)),s&16&&(a=signedShiftRight(a.mul(new BN("79291567232598584799939703904")),96,256)),s&32&&(a=signedShiftRight(a.mul(new BN("79355022692464371645785046466")),96,256)),s&64&&(a=signedShiftRight(a.mul(new BN("79482085999252804386437311141")),96,256)),s&128&&(a=signedShiftRight(a.mul(new BN("79736823300114093921829183326")),96,256)),s&256&&(a=signedShiftRight(a.mul(new BN("80248749790819932309965073892")),96,256)),s&512&&(a=signedShiftRight(a.mul(new BN("81282483887344747381513967011")),96,256)),s&1024&&(a=signedShiftRight(a.mul(new BN("83390072131320151908154831281")),96,256)),s&2048&&(a=signedShiftRight(a.mul(new BN("87770609709833776024991924138")),96,256)),s&4096&&(a=signedShiftRight(a.mul(new BN("97234110755111693312479820773")),96,256)),s&8192&&(a=signedShiftRight(a.mul(new BN("119332217159966728226237229890")),96,256)),s&16384&&(a=signedShiftRight(a.mul(new BN("179736315981702064433883588727")),96,256)),s&32768&&(a=signedShiftRight(a.mul(new BN("407748233172238350107850275304")),96,256)),s&65536&&(a=signedShiftRight(a.mul(new BN("2098478828474011932436660412517")),96,256)),s&131072&&(a=signedShiftRight(a.mul(new BN("55581415166113811149459800483533")),96,256)),s&262144&&(a=signedShiftRight(a.mul(new BN("38992368544603139932233054999993551")),96,256)),signedShiftRight(a,32,256)}function tickIndexToSqrtPriceNegative(s){const a=Math.abs(s);let et;return a&1?et=new BN("18445821805675392311"):et=new BN("18446744073709551616"),a&2&&(et=signedShiftRight(et.mul(new BN("18444899583751176498")),64,256)),a&4&&(et=signedShiftRight(et.mul(new BN("18443055278223354162")),64,256)),a&8&&(et=signedShiftRight(et.mul(new BN("18439367220385604838")),64,256)),a&16&&(et=signedShiftRight(et.mul(new BN("18431993317065449817")),64,256)),a&32&&(et=signedShiftRight(et.mul(new BN("18417254355718160513")),64,256)),a&64&&(et=signedShiftRight(et.mul(new BN("18387811781193591352")),64,256)),a&128&&(et=signedShiftRight(et.mul(new BN("18329067761203520168")),64,256)),a&256&&(et=signedShiftRight(et.mul(new BN("18212142134806087854")),64,256)),a&512&&(et=signedShiftRight(et.mul(new BN("17980523815641551639")),64,256)),a&1024&&(et=signedShiftRight(et.mul(new BN("17526086738831147013")),64,256)),a&2048&&(et=signedShiftRight(et.mul(new BN("16651378430235024244")),64,256)),a&4096&&(et=signedShiftRight(et.mul(new BN("15030750278693429944")),64,256)),a&8192&&(et=signedShiftRight(et.mul(new BN("12247334978882834399")),64,256)),a&16384&&(et=signedShiftRight(et.mul(new BN("8131365268884726200")),64,256)),a&32768&&(et=signedShiftRight(et.mul(new BN("3584323654723342297")),64,256)),a&65536&&(et=signedShiftRight(et.mul(new BN("696457651847595233")),64,256)),a&131072&&(et=signedShiftRight(et.mul(new BN("26294789957452057")),64,256)),a&262144&&(et=signedShiftRight(et.mul(new BN("37481735321082")),64,256)),et}var TickMath=class{static priceToSqrtPriceX64(s,a,et){return MathUtil.toX64(s.mul(decimal_default$1.pow(10,et-a)).sqrt())}static sqrtPriceX64ToPrice(s,a,et){return MathUtil.fromX64(s).pow(2).mul(decimal_default$1.pow(10,a-et))}static tickIndexToSqrtPriceX64(s){return s>0?new BN(tickIndexToSqrtPricePositive(s)):new BN(tickIndexToSqrtPriceNegative(s))}static sqrtPriceX64ToTickIndex(s){if(s.gt(new BN(MAX_SQRT_PRICE))||s.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");const a=s.bitLength()-1,et=new BN(a-64),nt=signedShiftLeft(et,32,128);let at=new BN("8000000000000000","hex"),mt=0,wt=new BN(0),$t=a>=64?s.shrn(a-63):s.shln(63-a);for(;at.gt(new BN(0))&&mt<BIT_PRECISION;){$t=$t.mul($t);const Ut=$t.shrn(127);$t=$t.shrn(63+Ut.toNumber()),wt=wt.add(at.mul(Ut)),at=at.shrn(1),mt+=1}const Ct=wt.shrn(32),Ft=nt.add(Ct).mul(new BN(LOG_B_2_X32)),jt=signedShiftRight(Ft.sub(new BN(LOG_B_P_ERR_MARGIN_LOWER_X64)),64,128).toNumber(),Nt=signedShiftRight(Ft.add(new BN(LOG_B_P_ERR_MARGIN_UPPER_X64)),64,128).toNumber();return jt===Nt?jt:TickMath.tickIndexToSqrtPriceX64(Nt).lte(s)?Nt:jt}static tickIndexToPrice(s,a,et){return TickMath.sqrtPriceX64ToPrice(TickMath.tickIndexToSqrtPriceX64(s),a,et)}static priceToTickIndex(s,a,et){return TickMath.sqrtPriceX64ToTickIndex(TickMath.priceToSqrtPriceX64(s,a,et))}static priceToInitializableTickIndex(s,a,et,nt){return TickMath.getInitializableTickIndex(TickMath.priceToTickIndex(s,a,et),nt)}static getInitializableTickIndex(s,a){return s-s%a}static getNextInitializableTickIndex(s,a){return TickMath.getInitializableTickIndex(s,a)+a}static getPrevInitializableTickIndex(s,a){return TickMath.getInitializableTickIndex(s,a)-a}};function getTickDataFromUrlData(s){const a=[];for(const et of s){const nt={objectId:et.objectId,index:Number(asIntN(BigInt(et.index)).toString()),sqrtPrice:et.sqrtPrice,liquidityNet:new BN(BigInt.asIntN(128,BigInt(BigInt(et.liquidityNet.toString()))).toString()),liquidityGross:et.liquidityGross,feeGrowthOutsideA:et.feeGrowthOutsideA,feeGrowthOutsideB:et.feeGrowthOutsideB,rewardersGrowthOutside:[new BN(et.rewardersGrowthOutside[0]),new BN(et.rewardersGrowthOutside[1]),new BN(et.rewardersGrowthOutside[2])]};a.push(nt)}return a}function tickScore(s){return d$3(s).add(d$3(TICK_BOUND))}new BN(365);new BN(24);new BN(3600);new BN(.5);var SwapUtils=class{static getDefaultSqrtPriceLimit(s){return new BN(s?MIN_SQRT_PRICE:MAX_SQRT_PRICE)}static getDefaultOtherAmountThreshold(s){return s?ZERO$1:U64_MAX}};function getNextSqrtPriceAUp(s,a,et,nt){if(et.eq(ZERO$1))return s;const at=MathUtil.checkMulShiftLeft(s,a,64,256),mt=a.shln(64),wt=MathUtil.checkMul(s,et,256);if(!nt&&mt.lte(wt))throw new ClmmpoolsError("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const $t=nt?MathUtil.checkDivRoundUpIf(at,mt.add(wt),!0):MathUtil.checkDivRoundUpIf(at,mt.sub(wt),!0);if($t.lt(new BN(MIN_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if($t.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return $t}function getNextSqrtPriceBDown(s,a,et,nt){const at=MathUtil.checkDivRoundUpIf(et.shln(64),a,!nt),mt=nt?s.add(at):s.sub(at);if(mt.lt(new BN(MIN_SQRT_PRICE))||mt.gt(new BN(MAX_SQRT_PRICE)))throw new ClmmpoolsError("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return mt}function getNextSqrtPriceFromInput(s,a,et,nt){return nt?getNextSqrtPriceAUp(s,a,et,!0):getNextSqrtPriceBDown(s,a,et,!0)}function getNextSqrtPriceFromOutput(s,a,et,nt){return nt?getNextSqrtPriceBDown(s,a,et,!1):getNextSqrtPriceAUp(s,a,et,!1)}function getDeltaUpFromInput(s,a,et,nt){const at=s.gt(a)?s.sub(a):a.sub(s);if(et.lte(ZERO$1)||at.eq(ZERO$1))return ZERO$1;let mt;if(nt){const wt=new BN(et).mul(new BN(at)).shln(64),$t=a.mul(s),Ct=wt.div($t);mt=wt.mod($t).eq(ZERO$1)?Ct:Ct.add(ONE)}else{const wt=new BN(et).mul(new BN(at));mt=wt.and(U64_MAX).gt(ZERO$1)?wt.shrn(64).add(ONE):wt.shrn(64)}return mt}function getDeltaDownFromOutput(s,a,et,nt){const at=s.gt(a)?s.sub(a):a.sub(s);if(et.lte(ZERO$1)||at.eq(ZERO$1))return ZERO$1;let mt;if(nt)mt=et.mul(at).shrn(64);else{const wt=et.mul(at).shln(64),$t=a.mul(s);mt=wt.div($t)}return mt}function computeSwapStep(s,a,et,nt,at,mt){if(et===ZERO$1)return{amountIn:ZERO$1,amountOut:ZERO$1,nextSqrtPrice:a,feeAmount:ZERO$1};const wt=s.gte(a);let $t,Ct,Dt,Ft;if(mt){const jt=MathUtil.checkMulDivFloor(nt,MathUtil.checkUnsignedSub(FEE_RATE_DENOMINATOR,at),FEE_RATE_DENOMINATOR,64),Nt=getDeltaUpFromInput(s,a,et,wt);Nt.gt(jt)?($t=jt,Ft=MathUtil.checkUnsignedSub(nt,jt),Dt=getNextSqrtPriceFromInput(s,et,jt,wt)):($t=Nt,Ft=MathUtil.checkMulDivCeil($t,at,FEE_RATE_DENOMINATOR.sub(at),64),Dt=a),Ct=getDeltaDownFromOutput(s,Dt,et,wt)}else{const jt=getDeltaDownFromOutput(s,a,et,wt);jt.gt(nt)?(Ct=nt,Dt=getNextSqrtPriceFromOutput(s,et,nt,wt)):(Ct=jt,Dt=a),$t=getDeltaUpFromInput(s,Dt,et,wt),Ft=MathUtil.checkMulDivCeil($t,at,FEE_RATE_DENOMINATOR.sub(at),64)}return{amountIn:$t,amountOut:Ct,nextSqrtPrice:Dt,feeAmount:Ft}}function computeSwap(s,a,et,nt,at){let mt=et,wt=nt.liquidity,{currentSqrtPrice:$t}=nt;const Ct={amountIn:ZERO$1,amountOut:ZERO$1,feeAmount:ZERO$1,refAmount:ZERO$1,nextSqrtPrice:ZERO$1,crossTickNum:0};let Dt,Ft;const jt=SwapUtils.getDefaultSqrtPriceLimit(s);for(const Nt of at){if(s&&nt.currentTickIndex<Nt.index||!s&&nt.currentTickIndex>=Nt.index||Nt===null)continue;s&&jt.gt(Nt.sqrtPrice)||!s&&jt.lt(Nt.sqrtPrice)?Dt=jt:Dt=Nt.sqrtPrice;const Lt=computeSwapStep($t,Dt,wt,mt,nt.feeRate,a);if(Lt.amountIn.eq(ZERO$1)||(mt=a?mt.sub(Lt.amountIn.add(Lt.feeAmount)):mt.sub(Lt.amountOut)),Ct.amountIn=Ct.amountIn.add(Lt.amountIn),Ct.amountOut=Ct.amountOut.add(Lt.amountOut),Ct.feeAmount=Ct.feeAmount.add(Lt.feeAmount),Lt.nextSqrtPrice.eq(Nt.sqrtPrice)?(Ft=Nt.liquidityNet.mul(new BN(-1)),s?MathUtil.is_neg(Ft)?wt=wt.add(new BN(asUintN(BigInt(Ft.toString()),128))):wt=wt.add(Ft):MathUtil.is_neg(Ft)?wt=wt.sub(new BN(asUintN(BigInt(Ft.toString()),128))):wt=wt.sub(Ft),$t=Nt.sqrtPrice):$t=Lt.nextSqrtPrice,Ct.crossTickNum+=1,mt.eq(ZERO$1))break}return Ct.amountIn=Ct.amountIn.add(Ct.feeAmount),Ct.nextSqrtPrice=$t,Ct}function estimateLiquidityForCoinA(s,a,et){const nt=BN.min(s,a),at=BN.max(s,a),mt=MathUtil.fromX64_BN(et.mul(at).mul(nt)),wt=at.sub(nt);return!mt.isZero()&&!wt.isZero()?mt.div(wt):new BN(0)}function estimateLiquidityForCoinB(s,a,et){const nt=BN.min(s,a),mt=BN.max(s,a).sub(nt);return mt.isZero()?new BN(0):et.shln(64).div(mt)}var ClmmPoolUtil=class{static updateFeeRate(s,a,et,nt,at){const mt=MathUtil.checkMulDivCeil(a,new BN(nt),FEE_RATE_DENOMINATOR,64),wt=et===0?ZERO$1:MathUtil.checkMulDivFloor(a,new BN(et),FEE_RATE_DENOMINATOR,64),$t=a.mul(mt).mul(wt);if(at?s.feeProtocolCoinA=s.feeProtocolCoinA.add(mt):s.feeProtocolCoinB=s.feeProtocolCoinB.add(mt),$t.eq(ZERO$1)||s.liquidity.eq(ZERO$1))return{refFee:wt,clmm:s};const Ct=$t.shln(64).div(s.liquidity);return at?s.feeGrowthGlobalA=s.feeGrowthGlobalA.add(Ct):s.feeGrowthGlobalB=s.feeGrowthGlobalB.add(Ct),{refFee:wt,clmm:s}}static getCoinAmountFromLiquidity(s,a,et,nt,at){const mt=new decimal_default$1(s.toString()),wt=new decimal_default$1(a.toString()),$t=new decimal_default$1(et.toString()),Ct=new decimal_default$1(nt.toString());let Dt,Ft;return a.lt(et)?(Dt=MathUtil.toX64_Decimal(mt).mul(Ct.sub($t)).div($t.mul(Ct)),Ft=new decimal_default$1(0)):a.lt(nt)?(Dt=MathUtil.toX64_Decimal(mt).mul(Ct.sub(wt)).div(wt.mul(Ct)),Ft=MathUtil.fromX64_Decimal(mt.mul(wt.sub($t)))):(Dt=new decimal_default$1(0),Ft=MathUtil.fromX64_Decimal(mt.mul(Ct.sub($t)))),at?{coinA:new BN(Dt.ceil().toString()),coinB:new BN(Ft.ceil().toString())}:{coinA:new BN(Dt.floor().toString()),coinB:new BN(Ft.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(s,a,et,nt,at,mt,wt){const $t=TickMath.sqrtPriceX64ToTickIndex(wt),Ct=TickMath.tickIndexToSqrtPriceX64(s),Dt=TickMath.tickIndexToSqrtPriceX64(a);let Ft;if($t<s){if(!nt)throw new ClmmpoolsError("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");Ft=estimateLiquidityForCoinA(Ct,Dt,et)}else if($t>a){if(nt)throw new ClmmpoolsError("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");Ft=estimateLiquidityForCoinB(Dt,Ct,et)}else nt?Ft=estimateLiquidityForCoinA(wt,Dt,et):Ft=estimateLiquidityForCoinB(wt,Ct,et);const jt=ClmmPoolUtil.getCoinAmountFromLiquidity(Ft,wt,Ct,Dt,at),Nt=at?d$3(jt.coinA.toString()).mul(1+mt).toString():d$3(jt.coinA.toString()).mul(1-mt).toString(),Lt=at?d$3(jt.coinB.toString()).mul(1+mt).toString():d$3(jt.coinB.toString()).mul(1-mt).toString();return{coinAmountA:jt.coinA,coinAmountB:jt.coinB,tokenMaxA:at?new BN(decimal_default$1.ceil(Nt).toString()):new BN(decimal_default$1.floor(Nt).toString()),tokenMaxB:at?new BN(decimal_default$1.ceil(Lt).toString()):new BN(decimal_default$1.floor(Lt).toString()),liquidityAmount:Ft,fix_amount_a:nt}}static estimateLiquidityFromcoinAmounts(s,a,et,nt){if(a>et)throw new ClmmpoolsError("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");const at=TickMath.sqrtPriceX64ToTickIndex(s),mt=TickMath.tickIndexToSqrtPriceX64(a),wt=TickMath.tickIndexToSqrtPriceX64(et);if(at<a)return estimateLiquidityForCoinA(mt,wt,nt.coinA);if(at>=et)return estimateLiquidityForCoinB(wt,mt,nt.coinB);const $t=estimateLiquidityForCoinA(s,wt,nt.coinA),Ct=estimateLiquidityForCoinB(s,mt,nt.coinB);return BN.min($t,Ct)}static estCoinAmountsFromTotalAmount(s,a,et,nt,at,mt){const{ratioA:wt,ratioB:$t}=ClmmPoolUtil.calculateDepositRatioFixTokenA(s,a,et),Ct=d$3(nt).mul(wt).div(at),Dt=d$3(nt).mul($t).div(mt);return{amountA:Ct,amountB:Dt}}static calculateDepositRatioFixTokenA(s,a,et){const nt=new BN(1e8),{coinAmountB:at}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(s,a,nt,!0,!0,0,et),mt=TickMath.sqrtPriceX64ToPrice(et,0,0),wt=d$3(nt.toString()).mul(mt),$t=wt.add(at.toString()),Ct=wt.div($t),Dt=d$3(at.toString()).div($t);return{ratioA:Ct,ratioB:Dt}}};function removeHexPrefix(s){return s.startsWith("0x")?`${s.slice(2)}`:s}var EQUAL=0,LESS_THAN=1,GREATER_THAN=2;function cmp(s,a){return s===a?EQUAL:s<a?LESS_THAN:GREATER_THAN}function compare(s,a){let et=0;const nt=s.length<=a.length?s.length:a.length,at=cmp(s.length,a.length);for(;et<nt;){const mt=cmp(s.charCodeAt(et),a.charCodeAt(et));if(et+=1,mt!==0)return mt}return at}function isSortedSymbols(s,a){return compare(s,a)===LESS_THAN}function composeType$1(s,...a){const et=Array.isArray(a[a.length-1])?a.pop():[];let at=[s,...a].filter(Boolean).join("::");return et&&et.length&&(at+=`<${et.join(", ")}>`),at}function extractStructTagFromType$1(s){var a;try{let et=s.replace(/\s/g,"");const nt=et.match(/(<.+>)$/),at=(a=nt==null?void 0:nt[0])==null?void 0:a.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){et=et.slice(0,et.indexOf("<"));const Dt={...extractStructTagFromType$1(et),type_arguments:at.map(Ft=>extractStructTagFromType$1(Ft).source_address)};return Dt.type_arguments=Dt.type_arguments.map(Ft=>CoinAssist.isSuiCoin(Ft)?Ft:extractStructTagFromType$1(Ft).source_address),Dt.source_address=composeType$1(Dt.full_address,Dt.type_arguments),Dt}const mt=et.split("::"),$t={full_address:et,address:et===GAS_TYPE_ARG$1||et===GAS_TYPE_ARG_LONG$1?"0x2":normalizeSuiObjectId$1(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return $t.full_address=`${$t.address}::${$t.module}::${$t.name}`,$t.source_address=composeType$1($t.full_address,$t.type_arguments),$t}catch{return{full_address:s,address:"",module:"",name:"",type_arguments:[],source_address:s}}}function normalizeCoinType$1(s){return extractStructTagFromType$1(s).source_address}function fixSuiObjectId(s){return s.toLowerCase().startsWith("0x")?normalizeSuiObjectId$1(s):s}var fixCoinType=(s,a=!0)=>{const et=s.split("::"),nt=et.shift();let at=normalizeSuiObjectId$1(nt);return a&&(at=removeHexPrefix(at)),`${at}::${et.join("::")}`};function patchFixSuiObjectId(s){for(const a in s){const et=typeof s[a];if(et==="object")patchFixSuiObjectId(s[a]);else if(et==="string"){const nt=s[a];nt&&!nt.includes("::")&&(s[a]=fixSuiObjectId(nt))}}}var COIN_TYPE$1="0x2::coin::Coin",COIN_TYPE_ARG_REGEX$1=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG$1="0x2::sui::SUI",GAS_TYPE_ARG_LONG$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinAssist=class{static getCoinTypeArg(s){const a=s.type.match(COIN_TYPE_ARG_REGEX$1);return a?a[1]:null}static isSUI(s){const a=CoinAssist.getCoinTypeArg(s);return a?CoinAssist.getCoinSymbol(a)==="SUI":!1}static getCoinSymbol(s){return s.substring(s.lastIndexOf(":")+1)}static getBalance(s){return BigInt(s.fields.balance)}static totalBalance(s,a){let et=BigInt(0);return s.forEach(nt=>{a===nt.coinAddress&&(et+=BigInt(nt.balance))}),et}static getID(s){return s.fields.id.id}static getCoinTypeFromArg(s){return`${COIN_TYPE$1}<${s}>`}static getFaucetCoins(s){const{events:a}=s,et=[];return a==null||a.forEach(nt=>{const{type:at}=nt;if(extractStructTagFromType$1(at).name==="InitEvent"){const mt=nt.parsedJson;et.push({transactionModule:nt.transactionModule,suplyID:mt.suplyID,decimals:mt.decimals})}}),et}static getCoinAssets(s,a){const et=[];return a.forEach(nt=>{normalizeCoinType$1(nt.coinAddress)===normalizeCoinType$1(s)&&et.push(nt)}),et}static isSuiCoin(s){return extractStructTagFromType$1(s).full_address===GAS_TYPE_ARG$1}static selectCoinObjectIdGreaterThanOrEqual(s,a,et=[]){const nt=CoinAssist.selectCoinAssetGreaterThanOrEqual(s,a,et),at=nt.selectedCoins.map($t=>$t.coinObjectId),mt=nt.remainingCoins,wt=nt.selectedCoins.map($t=>$t.balance.toString());return{objectArray:at,remainCoins:mt,amountArray:wt}}static selectCoinAssetGreaterThanOrEqual(s,a,et=[]){const nt=CoinAssist.sortByBalance(s.filter(Ct=>!et.includes(Ct.coinObjectId))),at=CoinAssist.calculateTotalBalance(nt);if(at<a)return{selectedCoins:[],remainingCoins:nt};if(at===a)return{selectedCoins:nt,remainingCoins:[]};let mt=BigInt(0);const wt=[],$t=[...nt];for(;mt<at;){const Ct=a-mt,Dt=$t.findIndex(jt=>jt.balance>=Ct);if(Dt!==-1){wt.push($t[Dt]),$t.splice(Dt,1);break}const Ft=$t.pop();Ft.balance>0&&(wt.push(Ft),mt+=Ft.balance)}return{selectedCoins:CoinAssist.sortByBalance(wt),remainingCoins:CoinAssist.sortByBalance($t)}}static sortByBalance(s){return s.sort((a,et)=>a.balance<et.balance?-1:a.balance>et.balance?1:0)}static sortByBalanceDes(s){return s.sort((a,et)=>a.balance>et.balance?-1:a.balance<et.balance?0:1)}static calculateTotalBalance(s){return s.reduce((a,et)=>a+et.balance,BigInt(0))}},Percentage=class{constructor(s,a){sn(this,"numerator");sn(this,"denominator");this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=s,this.denominator=a}static fromDecimal(s){return Percentage.fromFraction(s.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(s,a){const et=typeof s=="number"?new BN(s.toString()):s,nt=typeof a=="number"?new BN(a.toString()):a;return new Percentage(et,nt)}};function adjustForSlippage(s,{numerator:a,denominator:et},nt){return nt?s.mul(et.add(a)).div(et):s.mul(et).div(et.add(a))}function adjustForCoinSlippage(s,a,et){return{tokenMaxA:adjustForSlippage(s.coinA,a,et),tokenMaxB:adjustForSlippage(s.coinB,a,et)}}function d$3(s){return Decimal$1.isDecimal(s)?s:new Decimal$1(s===void 0?0:s)}function decimalsMultiplier(s){return d$3(10).pow(d$3(s).abs())}function getSuiObjectData(s){return s.data}function getObjectDeletedResponse(s){if(s.error&&"object_id"in s.error&&"version"in s.error&&"digest"in s.error){const{error:a}=s;return{objectId:a.object_id,version:a.version,digest:a.digest}}}function getObjectNotExistsResponse(s){if(s.error&&"object_id"in s.error&&!("version"in s.error)&&!("digest"in s.error))return s.error.object_id}function getObjectReference(s){if("reference"in s)return s.reference;const a=getSuiObjectData(s);return a?{objectId:a.objectId,version:a.version,digest:a.digest}:getObjectDeletedResponse(s)}function getObjectId(s){var a;return"objectId"in s?s.objectId:((a=getObjectReference(s))==null?void 0:a.objectId)??getObjectNotExistsResponse(s)}function isSuiObjectResponse(s){return s.data!==void 0}function isSuiObjectDataWithContent(s){return s.content!==void 0}function getMoveObject(s){const a="data"in s?getSuiObjectData(s):s;if(!(!a||!isSuiObjectDataWithContent(a)||a.content.dataType!=="moveObject"))return a.content}function getMoveObjectType(s){var a;return(a=getMoveObject(s))==null?void 0:a.type}function getObjectType(s){var et;const a=isSuiObjectResponse(s)?s.data:s;return!(a!=null&&a.type)&&"data"in s?((et=a==null?void 0:a.content)==null?void 0:et.dataType)==="package"?"package":getMoveObjectType(s):a==null?void 0:a.type}function getObjectPreviousTransactionDigest(s){var a;return(a=getSuiObjectData(s))==null?void 0:a.previousTransaction}function getObjectOwner(s){var a;return(a=getSuiObjectData(s))==null?void 0:a.owner}function getObjectDisplay(s){var et;const a=(et=getSuiObjectData(s))==null?void 0:et.display;return a||{data:null,error:null}}function getObjectFields(s){var et;const a=(et=getMoveObject(s))==null?void 0:et.fields;if(a)return"fields"in a?a.fields:a}function toDecimalsAmount(s,a){const et=decimalsMultiplier(d$3(a));return Number(d$3(s).mul(et))}function asUintN(s,a=32){return BigInt.asUintN(a,BigInt(s)).toString()}function asIntN(s,a=32){return Number(BigInt.asIntN(a,BigInt(s)))}function fromDecimalsAmount(s,a){const et=decimalsMultiplier(d$3(a));return Number(d$3(s).div(et))}function buildPoolName(s,a,et){const nt=extractStructTagFromType$1(s).name,at=extractStructTagFromType$1(a).name;return`${nt}-${at}[${et}]`}function buildPool(s){const a=getMoveObjectType(s),et=extractStructTagFromType$1(a),nt=getObjectFields(s);if(nt==null)throw new ClmmpoolsError(`Pool id ${getObjectId(s)} not exists.`,"InvalidPoolObject");const at=[];nt.rewarder_manager.fields.rewarders.forEach(wt=>{const{emissions_per_second:$t}=wt.fields,Ct=MathUtil.fromX64(new BN($t)),Dt=Math.floor(Ct.toNumber()*60*60*24);at.push({emissions_per_second:$t,coinAddress:extractStructTagFromType$1(wt.fields.reward_coin.fields.name).source_address,growth_global:wt.fields.growth_global,emissionsEveryDay:Dt})});const mt={poolAddress:getObjectId(s),poolType:a,coinTypeA:et.type_arguments[0],coinTypeB:et.type_arguments[1],coinAmountA:nt.coin_a,coinAmountB:nt.coin_b,current_sqrt_price:nt.current_sqrt_price,current_tick_index:asIntN(BigInt(nt.current_tick_index.fields.bits)),fee_growth_global_a:nt.fee_growth_global_a,fee_growth_global_b:nt.fee_growth_global_b,fee_protocol_coin_a:nt.fee_protocol_coin_a,fee_protocol_coin_b:nt.fee_protocol_coin_b,fee_rate:nt.fee_rate,is_pause:nt.is_pause,liquidity:nt.liquidity,position_manager:{positions_handle:nt.position_manager.fields.positions.fields.id.id,size:nt.position_manager.fields.positions.fields.size},rewarder_infos:at,rewarder_last_updated_time:nt.rewarder_manager.fields.last_updated_time,tickSpacing:nt.tick_spacing,ticks_handle:nt.tick_manager.fields.ticks.fields.id.id,uri:nt.url,index:Number(nt.index),name:""};return mt.name=buildPoolName(mt.coinTypeA,mt.coinTypeB,mt.tickSpacing),mt}function buildNFT(s){const a=getObjectDisplay(s).data,et={creator:"",description:"",image_url:"",link:"",name:"",project_url:""};return a&&(et.creator=a.creator,et.description=a.description,et.image_url=a.image_url,et.link=a.link,et.name=a.name,et.project_url=a.project_url),et}function buildPosition(s){var wt,$t;if(s.error!=null||(($t=(wt=s.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`Position not exists. Get Position error:${s.error}`,"InvalidPositionObject");let a={creator:"",description:"",image_url:"",link:"",name:"",project_url:""},et={...a,pos_object_id:"",owner:"",type:"",coin_type_a:"",coin_type_b:"",liquidity:"",tick_lower_index:0,tick_upper_index:0,index:0,pool:"",reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"},nt=getObjectFields(s);if(nt){const Ct=getMoveObjectType(s),Dt=getObjectOwner(s);"nft"in nt?(nt=nt.nft.fields,a.description=nt.description,a.name=nt.name,a.link=nt.url):a=buildNFT(s),et={...a,pos_object_id:nt.id.id,owner:Dt.AddressOwner,type:Ct,liquidity:nt.liquidity,coin_type_a:nt.coin_type_a.fields.name,coin_type_b:nt.coin_type_b.fields.name,tick_lower_index:asIntN(BigInt(nt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(nt.tick_upper_index.fields.bits)),index:nt.index,pool:nt.pool,reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0",position_status:"Exists"}}const at=getObjectDeletedResponse(s);at&&(et.pos_object_id=at.objectId,et.position_status="Deleted");const mt=getObjectNotExistsResponse(s);return mt&&(et.pos_object_id=mt,et.position_status="NotExists"),et}function buildPositionReward(s){const a={reward_amount_owed_0:"0",reward_amount_owed_1:"0",reward_amount_owed_2:"0",reward_growth_inside_0:"0",reward_growth_inside_1:"0",reward_growth_inside_2:"0"};s="fields"in s?s.fields:s,s.rewards.forEach((mt,wt)=>{const{amount_owned:$t,growth_inside:Ct}="fields"in mt?mt.fields:mt;wt===0?(a.reward_amount_owed_0=$t,a.reward_growth_inside_0=Ct):wt===1?(a.reward_amount_owed_1=$t,a.reward_growth_inside_1=Ct):wt===2&&(a.reward_amount_owed_2=$t,a.reward_growth_inside_2=Ct)});const et="fields"in s.tick_lower_index?s.tick_lower_index.fields.bits:s.tick_lower_index.bits,nt="fields"in s.tick_upper_index?s.tick_upper_index.fields.bits:s.tick_upper_index.bits;return{liquidity:s.liquidity,tick_lower_index:asIntN(BigInt(et)),tick_upper_index:asIntN(BigInt(nt)),...a,fee_growth_inside_a:s.fee_growth_inside_a,fee_owed_a:s.fee_owned_a,fee_growth_inside_b:s.fee_growth_inside_b,fee_owed_b:s.fee_owned_b,pos_object_id:s.position_id}}function buildTickData(s){var at,mt;if(s.error!=null||((mt=(at=s.data)==null?void 0:at.content)==null?void 0:mt.dataType)!=="moveObject")throw new ClmmpoolsError(`Tick not exists. Get tick data error:${s.error}`,"InvalidTickObject");const et=getObjectFields(s).value.fields.value.fields;return{objectId:getObjectId(s),index:asIntN(BigInt(et.index.fields.bits)),sqrtPrice:new BN(et.sqrt_price),liquidityNet:new BN(et.liquidity_net.fields.bits),liquidityGross:new BN(et.liquidity_gross),feeGrowthOutsideA:new BN(et.fee_growth_outside_a),feeGrowthOutsideB:new BN(et.fee_growth_outside_b),rewardersGrowthOutside:et.rewards_growth_outside}}function buildTickDataByEvent(s){if(!s||!s.index||!s.sqrt_price||!s.liquidity_net||!s.liquidity_gross||!s.fee_growth_outside_a||!s.fee_growth_outside_b)throw new ClmmpoolsError("Invalid tick fields.","InvalidTickFields");const a=asIntN(BigInt(s.index.bits)),et=new BN(s.sqrt_price),nt=new BN(s.liquidity_net.bits),at=new BN(s.liquidity_gross),mt=new BN(s.fee_growth_outside_a),wt=new BN(s.fee_growth_outside_b),$t=s.rewards_growth_outside||[];return{objectId:"",index:a,sqrtPrice:et,liquidityNet:nt,liquidityGross:at,feeGrowthOutsideA:mt,feeGrowthOutsideB:wt,rewardersGrowthOutside:$t}}function buildPositionTransactionInfo(s,a,et){const nt=[],{timestampMs:at,events:mt}=s,wt=["AddLiquidityEvent","RemoveLiquidityEvent","CollectFeeEvent","CollectRewardEvent","CollectRewardV2Event","HarvestEvent"];return mt==null||mt.forEach(($t,Ct)=>{const Dt=extractStructTagFromType$1($t.type).name;if(wt.includes(Dt)){const Ft={txDigest:$t.id.txDigest,packageId:$t.packageId,transactionModule:$t.transactionModule,sender:$t.sender,type:$t.type,timestampMs:at||"0",parsedJson:$t.parsedJson,index:`${a}_${Ct}`};switch(Dt){case"CollectFeeEvent":et.includes(Ft.parsedJson.position)&&(d$3(Ft.parsedJson.amount_a).gt(0)||d$3(Ft.parsedJson.amount_b).gt(0))&&nt.push(Ft);break;case"RemoveLiquidityEvent":case"AddLiquidityEvent":(d$3(Ft.parsedJson.amount_a).gt(0)||d$3(Ft.parsedJson.amount_b).gt(0))&&nt.push(Ft);break;case"CollectRewardEvent":case"HarvestEvent":case"CollectRewardV2Event":(et.includes(Ft.parsedJson.position)||et.includes(Ft.parsedJson.wrapped_position_id))&&d$3(Ft.parsedJson.amount).gt(0)&&nt.push(Ft);break}}}),nt}function buildPoolTransactionInfo(s,a,et,nt){const at=[],{timestampMs:mt,events:wt}=s;return wt==null||wt.forEach(($t,Ct)=>{const{name:Dt,address:Ft}=extractStructTagFromType$1($t.type);if(poolFilterEvenTypes.includes(Dt)&&Ft===et&&nt===$t.parsedJson.pool){const jt={tx:$t.id.txDigest,sender:$t.sender,type:$t.type,block_time:mt||"0",index:`${a}_${Ct}`,parsedJson:$t.parsedJson};at.push(jt)}}),at}var TickUtil=class{static getMinIndex(s){return MIN_TICK_INDEX+Math.abs(MIN_TICK_INDEX)%s}static getMaxIndex(s){return MAX_TICK_INDEX-MAX_TICK_INDEX%s}};function getNearestTickByTick(s,a){const et=Math.abs(s)%a;return s>0?et>a/2?s+a-et:s-et:et>a/2?s-a+et:s+et}function getRewardInTickRange(s,a,et,nt,at,mt){const wt=s.rewarder_infos,$t=[];for(let Ct=0;Ct<wt.length;Ct+=1){let Dt=mt[Ct];a!==null&&(s.current_tick_index<nt?Dt=mt[Ct].sub(new BN(a.rewardersGrowthOutside[Ct])):Dt=a.rewardersGrowthOutside[Ct]);let Ft=new BN(0);et!==null&&(s.current_tick_index>=at?Ft=mt[Ct].sub(new BN(et.rewardersGrowthOutside[Ct])):Ft=et.rewardersGrowthOutside[Ct]);const jt=MathUtil.subUnderflowU128(MathUtil.subUnderflowU128(new BN(mt[Ct]),new BN(Dt)),new BN(Ft));$t.push(jt)}return $t}function findAdjustCoin(s){const a=CoinAssist.isSuiCoin(s.coinTypeA),et=CoinAssist.isSuiCoin(s.coinTypeB);return{isAdjustCoinA:a,isAdjustCoinB:et}}function reverSlippageAmount(s,a){return Decimal$1.ceil(d$3(s).div(1+a)).toString()}var _TransactionUtil=class{static createCollectRewarderAndFeeParams(s,a,et,nt,at,mt){at===void 0&&(at=[...nt]),mt===void 0&&(mt=[...nt]);const wt=normalizeCoinType$1(et.coinTypeA),$t=normalizeCoinType$1(et.coinTypeB);if(et.collect_fee){const Dt=_TransactionUtil.buildCoinForAmount(a,at,BigInt(0),wt,!1);at=Dt.remainCoins;const Ft=_TransactionUtil.buildCoinForAmount(a,mt,BigInt(0),$t,!1);mt=Ft.remainCoins,a=s.Position.createCollectFeePaylod({pool_id:et.pool_id,pos_id:et.pos_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},a,Dt.targetCoin,Ft.targetCoin)}const Ct=[];return et.rewarder_coin_types.forEach(Dt=>{switch(normalizeCoinType$1(Dt)){case wt:Ct.push(_TransactionUtil.buildCoinForAmount(a,at,BigInt(0),Dt,!1).targetCoin);break;case $t:Ct.push(_TransactionUtil.buildCoinForAmount(a,mt,BigInt(0),Dt,!1).targetCoin);break;default:Ct.push(_TransactionUtil.buildCoinForAmount(a,nt,BigInt(0),Dt,!1).targetCoin);break}}),a=s.Rewarder.createCollectRewarderPaylod(et,a,Ct),a}static async adjustTransactionForGas(s,a,et,nt){nt.setSender(s.senderAddress);const at=CoinAssist.selectCoinAssetGreaterThanOrEqual(a,et).selectedCoins;if(at.length===0)throw new ClmmpoolsError("Insufficient balance","InsufficientBalance");const mt=CoinAssist.calculateTotalBalance(a);if(mt-et>1e9)return{fixAmount:et};const wt=await s.fullClient.calculationTxGas(nt);if(CoinAssist.selectCoinAssetGreaterThanOrEqual(a,BigInt(wt),at.map(Ct=>Ct.coinObjectId)).selectedCoins.length===0){const Ct=BigInt(wt)+BigInt(500);if(mt-et<Ct){if(et-=Ct,et<0)throw new ClmmpoolsError("gas Insufficient balance","InsufficientBalance");const Dt=new Transaction;return{fixAmount:et,newTx:Dt}}}return{fixAmount:et}}static async buildAddLiquidityFixTokenForGas(s,a,et,nt,at,mt,wt){at=await _TransactionUtil.buildAddLiquidityFixToken(s,a,et,at,mt,wt);const{isAdjustCoinA:$t}=findAdjustCoin(et),Ct=$t?et.amount_a:et.amount_b,Dt=await _TransactionUtil.adjustTransactionForGas(s,CoinAssist.getCoinAssets($t?et.coinTypeA:et.coinTypeB,a),BigInt(Ct),at),{fixAmount:Ft}=Dt,{newTx:jt}=Dt;if(jt!=null){let Nt,Lt;if($t)et.amount_a=Number(Ft),Nt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeA,a,!1,!0),Lt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,a,!1,!0);else return et.amount_b=Number(Ft),Nt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,a,!1,!0),Lt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeB,a,!1,!0),et=_TransactionUtil.fixAddLiquidityFixTokenParams(et,nt.slippage,nt.curSqrtPrice),at=await _TransactionUtil.buildAddLiquidityFixTokenArgs(jt,s,a,et,Nt,Lt),at}return at}static async buildAddLiquidityFixToken(s,a,et,nt,at,mt){if(s.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");nt=nt||new Transaction;let wt,$t;return at==null||mt==null?(wt=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(nt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,a,!1,!0),$t=_TransactionUtil.buildAddLiquidityFixTokenCoinInput(nt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,a,!1,!0)):(wt={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},$t={targetCoin:mt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),nt=_TransactionUtil.buildAddLiquidityFixTokenArgs(nt,s,a,et,wt,$t),nt}static buildAddLiquidityFixTokenCoinInput(s,a,et,nt,at,mt,wt=!0,$t=!0){return a?_TransactionUtil.buildCoinForAmountInterval(s,mt,{amountSecond:BigInt(reverSlippageAmount(et,nt)),amountFirst:BigInt(et)},at,wt,$t):_TransactionUtil.buildCoinForAmount(s,mt,BigInt(et),at,wt,$t)}static fixAddLiquidityFixTokenParams(s,a,et){const nt=s.fix_amount_a?s.amount_a:s.amount_b,at=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(Number(s.tick_lower),Number(s.tick_upper),new BN(nt),s.fix_amount_a,!0,a,et);return s.amount_a=s.fix_amount_a?s.amount_a:at.tokenMaxA.toNumber(),s.amount_b=s.fix_amount_a?at.tokenMaxB.toNumber():s.amount_b,s}static buildAddLiquidityFixTokenArgs(s,a,et,nt,at,mt){const wt=[nt.coinTypeA,nt.coinTypeB],$t=nt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:Ct,integrate:Dt}=a.sdkOptions;nt.is_open||(s=_TransactionUtil.createCollectRewarderAndFeeParams(a,s,nt,et,at.remainCoins,mt.remainCoins));const Ft=getPackagerConfigs(Ct),jt=nt.is_open?[s.object(Ft.global_config_id),s.object(nt.pool_id),s.pure.u32(Number(asUintN(BigInt(nt.tick_lower)).toString())),s.pure.u32(Number(asUintN(BigInt(nt.tick_upper)).toString())),at.targetCoin,mt.targetCoin,s.pure.u64(nt.amount_a),s.pure.u64(nt.amount_b),s.pure.bool(nt.fix_amount_a),s.object(CLOCK_ADDRESS$1)]:[s.object(Ft.global_config_id),s.object(nt.pool_id),s.object(nt.pos_id),at.targetCoin,mt.targetCoin,s.pure.u64(nt.amount_a),s.pure.u64(nt.amount_b),s.pure.bool(nt.fix_amount_a),s.object(CLOCK_ADDRESS$1)];return s.moveCall({target:`${Dt.published_at}::${ClmmIntegratePoolV2Module}::${$t}`,typeArguments:wt,arguments:jt}),s}static async buildSwapTransactionForGas(s,a,et,nt){let at=_TransactionUtil.buildSwapTransaction(s,a,et);at.setSender(s.senderAddress);const mt=await _TransactionUtil.adjustTransactionForGas(s,CoinAssist.getCoinAssets(a.a2b?a.coinTypeA:a.coinTypeB,et),BigInt(a.by_amount_in?a.amount:a.amount_limit),at),{fixAmount:wt,newTx:$t}=mt;if($t!==void 0){$t.setSender(s.senderAddress),a.by_amount_in?a.amount=wt.toString():a.amount_limit=wt.toString(),a=await _TransactionUtil.fixSwapParams(s,a,nt);const Ct=_TransactionUtil.buildCoinForAmount(at,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA),Dt=_TransactionUtil.buildCoinForAmount(at,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB);at=_TransactionUtil.buildSwapTransactionArgs($t,a,s.sdkOptions,Ct,Dt)}return at}static buildSwapTransaction(s,a,et){let nt=new Transaction;nt.setSender(s.senderAddress);const at=_TransactionUtil.buildCoinForAmount(nt,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA,!1),mt=_TransactionUtil.buildCoinForAmount(nt,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB,!1);return nt=_TransactionUtil.buildSwapTransactionArgs(nt,a,s.sdkOptions,at,mt),nt}static buildSwapTransactionArgs(s,a,et,nt,at){const{clmm_pool:mt,integrate:wt}=et,$t=SwapUtils.getDefaultSqrtPriceLimit(a.a2b),Ct=[a.coinTypeA,a.coinTypeB],{global_config_id:Dt}=getPackagerConfigs(mt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");const Ft=a.swap_partner!==void 0,jt=Ft?a.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":a.a2b?"swap_a2b":"swap_b2a",Nt=Ft?[s.object(Dt),s.object(a.pool_id),s.object(a.swap_partner),nt.targetCoin,at.targetCoin,s.pure.bool(a.by_amount_in),s.pure.u64(a.amount),s.pure.u64(a.amount_limit),s.pure.u128($t.toString()),s.object(CLOCK_ADDRESS$1)]:[s.object(Dt),s.object(a.pool_id),nt.targetCoin,at.targetCoin,s.pure.bool(a.by_amount_in),s.pure.u64(a.amount),s.pure.u64(a.amount_limit),s.pure.u128($t.toString()),s.object(CLOCK_ADDRESS$1)];return s.moveCall({target:`${wt.published_at}::${ClmmIntegratePoolV2Module}::${jt}`,typeArguments:Ct,arguments:Nt}),s}static async buildSwapTransactionWithoutTransferCoinsForGas(s,a,et,nt){let{tx:at,coinABs:mt}=_TransactionUtil.buildSwapTransactionWithoutTransferCoins(s,a,et);at.setSender(s.senderAddress);const wt=await _TransactionUtil.adjustTransactionForGas(s,CoinAssist.getCoinAssets(a.a2b?a.coinTypeA:a.coinTypeB,et),BigInt(a.by_amount_in?a.amount:a.amount_limit),at),{fixAmount:$t,newTx:Ct}=wt;if(Ct!==void 0){Ct.setSender(s.senderAddress),a.by_amount_in?a.amount=$t.toString():a.amount_limit=$t.toString(),a=await _TransactionUtil.fixSwapParams(s,a,nt);const Dt=_TransactionUtil.buildCoinForAmount(at,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA,!1,!0),Ft=_TransactionUtil.buildCoinForAmount(at,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB,!1,!0),jt=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(s,Ct,a,s.sdkOptions,Dt,Ft);at=jt.tx,mt=jt.txRes}return{tx:at,coinABs:mt}}static buildSwapTransactionWithoutTransferCoins(s,a,et){const nt=new Transaction;nt.setSender(s.senderAddress);const at=_TransactionUtil.buildCoinForAmount(nt,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA,!1,!0),mt=_TransactionUtil.buildCoinForAmount(nt,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB,!1,!0),wt=_TransactionUtil.buildSwapTransactionWithoutTransferCoinArgs(s,nt,a,s.sdkOptions,at,mt);return{tx:wt.tx,coinABs:wt.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(s,a,et,nt,at,mt){const{clmm_pool:wt,integrate:$t}=nt,Ct=SwapUtils.getDefaultSqrtPriceLimit(et.a2b),{global_config_id:Dt}=getPackagerConfigs(wt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");const Ft=et.swap_partner!==void 0,jt=Ft?"swap_with_partner":"swap",Nt=Ft?ClmmIntegrateRouterWithPartnerModule:ClmmIntegrateRouterModule,Lt=Ft?[a.object(Dt),a.object(et.pool_id),a.object(et.swap_partner),at.targetCoin,mt.targetCoin,a.pure.bool(et.a2b),a.pure.bool(et.by_amount_in),a.pure.u64(et.amount),a.pure.u128(Ct.toString()),a.pure.bool(!1),a.object(CLOCK_ADDRESS$1)]:[a.object(Dt),a.object(et.pool_id),at.targetCoin,mt.targetCoin,a.pure.bool(et.a2b),a.pure.bool(et.by_amount_in),a.pure.u64(et.amount),a.pure.u128(Ct.toString()),a.pure.bool(!1),a.object(CLOCK_ADDRESS$1)],Ut=[et.coinTypeA,et.coinTypeB],Vt=a.moveCall({target:`${$t.published_at}::${Nt}::${jt}`,typeArguments:Ut,arguments:Lt});if(et.by_amount_in){const Yt=et.a2b?et.coinTypeB:et.coinTypeA,er=et.a2b?Vt[1]:Vt[0],tr=Number(et.amount_limit);this.checkCoinThreshold(s,et.by_amount_in,a,er,tr,Yt)}return{tx:a,txRes:Vt}}static async fixSwapParams(s,a,et){const{currentPool:nt}=et;try{const at=await s.Swap.preswap({decimalsA:et.decimalsA,decimalsB:et.decimalsB,a2b:a.a2b,byAmountIn:a.by_amount_in,amount:a.amount,pool:nt,currentSqrtPrice:nt.current_sqrt_price,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB}),mt=et.byAmountIn?at.estimatedAmountOut:at.estimatedAmountIn,wt=adjustForSlippage(mt,et.slippage,!et.byAmountIn);a.amount_limit=wt.toString()}catch(at){console.log("fixSwapParams",at)}return a}static async syncBuildCoinInputForAmount(s,a,et,nt,at=!0,mt=!0){if(s.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");const wt=await s.getOwnerCoinAssets(s.senderAddress,nt);return _TransactionUtil.buildCoinForAmount(a,wt,et,nt,at,mt).targetCoin}static buildCoinForAmount(s,a,et,nt,at=!0,mt=!0){const wt=CoinAssist.getCoinAssets(nt,a);if(et===BigInt(0))return _TransactionUtil.buildZeroValueCoin(a,s,nt,at);const $t=CoinAssist.calculateTotalBalance(wt);if($t<et)throw new ClmmpoolsError(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et} `,"InsufficientBalance");return _TransactionUtil.buildCoin(s,a,wt,et,nt,at,mt)}static buildCoinWithBalance(s,a){return s===BigInt(0)&&CoinAssist.isSuiCoin(a)?coinWithBalance({balance:s,useGasCoin:!1}):coinWithBalance({balance:s,type:a})}static buildVectorCoin(s,a,et,nt,at,mt=!0){if(CoinAssist.isSuiCoin(at)){const jt=s.splitCoins(s.gas,[s.pure.u64(nt)]);return{targetCoin:s.makeMoveVec({elements:[jt]}),remainCoins:a,tragetCoinAmount:nt.toString(),isMintZeroCoin:!1,originalSplitedCoin:s.gas}}const{targetCoin:wt,originalSplitedCoin:$t,tragetCoinAmount:Ct,selectedCoinsResult:Dt,coinObjectIds:Ft}=this.buildSpitTargeCoin(s,nt,et,mt);return mt?{targetCoin:s.makeMoveVec({elements:[wt]}),remainCoins:Dt.remainCoins,originalSplitedCoin:$t,tragetCoinAmount:Ct,isMintZeroCoin:!1}:{targetCoin:s.makeMoveVec({elements:Ft.map(jt=>s.object(jt))}),remainCoins:Dt.remainCoins,tragetCoinAmount:Dt.amountArray.reduce((jt,Nt)=>Number(jt)+Number(Nt),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(s,a,et,nt,at=!0){if(CoinAssist.isSuiCoin(nt)){if(et===0n&&a.length>1){const jt=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(a,et);return{targetCoin:s.object(jt.objectArray[0]),remainCoins:jt.remainCoins,tragetCoinAmount:jt.amountArray[0],isMintZeroCoin:!1}}const Dt=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(a,et);return{targetCoin:s.splitCoins(s.gas,[s.pure.u64(et)]),remainCoins:Dt.remainCoins,tragetCoinAmount:et.toString(),isMintZeroCoin:!1,originalSplitedCoin:s.gas}}const{targetCoin:mt,originalSplitedCoin:wt,tragetCoinAmount:$t,selectedCoinsResult:Ct}=this.buildSpitTargeCoin(s,et,a,at);return{targetCoin:mt,remainCoins:Ct.remainCoins,originalSplitedCoin:wt,tragetCoinAmount:$t,isMintZeroCoin:!1}}static buildSpitTargeCoin(s,a,et,nt){const at=CoinAssist.selectCoinObjectIdGreaterThanOrEqual(et,a),mt=at.amountArray.reduce((Lt,Ut)=>Number(Lt)+Number(Ut),0).toString(),wt=at.objectArray,[$t,...Ct]=wt,Dt=s.object($t);let Ft=Dt;const jt=at.amountArray.reduce((Lt,Ut)=>Number(Lt)+Number(Ut),0).toString();let Nt;return Ct.length>0&&s.mergeCoins(Dt,Ct.map(Lt=>s.object(Lt))),nt&&Number(mt)>Number(a)&&(Ft=s.splitCoins(Dt,[s.pure.u64(a)]),Nt=Dt),{originalSplitedCoin:Nt,targetCoin:Ft,tragetCoinAmount:jt,selectedCoinsResult:at,coinObjectIds:wt}}static buildCoin(s,a,et,nt,at,mt=!0,wt=!0){return mt?this.buildVectorCoin(s,a,et,nt,at,wt):this.buildOneCoin(s,et,nt,at,wt)}static buildZeroValueCoin(s,a,et,nt=!0){const at=_TransactionUtil.callMintZeroValueCoin(a,et);let mt;return nt?mt=a.makeMoveVec({elements:[at]}):mt=at,{targetCoin:mt,remainCoins:s,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(s,a,et,nt,at=!0,mt=!0){const wt=CoinAssist.getCoinAssets(nt,a);if(et.amountFirst===BigInt(0))return wt.length>0?_TransactionUtil.buildCoin(s,[...a],[...wt],et.amountFirst,nt,at,mt):_TransactionUtil.buildZeroValueCoin(a,s,nt,at);const $t=CoinAssist.calculateTotalBalance(wt);if($t>=et.amountFirst)return _TransactionUtil.buildCoin(s,[...a],[...wt],et.amountFirst,nt,at,mt);if($t<et.amountSecond)throw new ClmmpoolsError(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et.amountSecond} `,"InsufficientBalance");return _TransactionUtil.buildCoin(s,[...a],[...wt],et.amountSecond,nt,at,mt)}static async buildRouterSwapTransaction(s,a,et,nt,at){let mt=new Transaction;return a.paths.length>1&&(a.partner=""),mt=await this.buildRouterBasePathTx(s,a,et,nt,mt,at),mt}static async buildRouterBasePathTx(s,a,et,nt,at,mt){const wt=a.paths.filter(nr=>nr&&nr.poolAddress),$t=Number(wt.reduce((nr,sr)=>nr.add(sr.amountIn),ZERO$1).toString()),Ct=Number(wt.reduce((nr,sr)=>nr.add(sr.amountOut),ZERO$1).toString()),Dt=Math.round(et?Number(Ct.toString())*(1-a.priceSlippagePoint):Number($t.toString())*(1+a.priceSlippagePoint)),Ft=a.paths[0].coinType[0],jt=a.paths[0].coinType[a.paths[0].coinType.length-1],Nt=_TransactionUtil.buildCoinForAmount(at,nt,BigInt(et?$t:Dt),Ft,!1,!0),Lt=Nt.originalSplitedCoin!==void 0,Ut=_TransactionUtil.buildCoinForAmount(at,nt,0n,jt,!1),Vt=await this.buildRouterBasePathReturnCoins(s,a,et,Nt,Ut,at),Yt=[],{toCoin:er,fromCoin:tr}=Vt;if(at=Vt.tx,Ut.isMintZeroCoin?Yt.push({coinType:jt,coin:er}):Ut.originalSplitedCoin!==void 0?at.mergeCoins(Ut.originalSplitedCoin,[er]):at.mergeCoins(Ut.targetCoin,[er]),Lt){const nr=Nt==null?void 0:Nt.originalSplitedCoin;at.mergeCoins(nr,[tr])}else Yt.push({coinType:Ft,coin:tr});for(let nr=0;nr<Yt.length;nr++)this.buildTransferCoin(s,at,Yt[nr].coin,Yt[nr].coinType,mt);return at}static async buildRouterBasePathReturnCoins(s,a,et,nt,at,mt){const{clmm_pool:wt,integrate:$t}=s.sdkOptions,Ct=getPackagerConfigs(wt).global_config_id,Dt=a.paths.filter(nr=>nr&&nr.poolAddress),Ft=Number(Dt.reduce((nr,sr)=>nr.add(sr.amountIn),ZERO$1).toString()),jt=Number(Dt.reduce((nr,sr)=>nr.add(sr.amountOut),ZERO$1).toString()),Nt=Math.round(et?Number(jt.toString())*(1-a.priceSlippagePoint):Number(Ft.toString())*(1+a.priceSlippagePoint)),Lt=a.paths[0].coinType[0],Ut=a.paths[0].coinType[a.paths[0].coinType.length-1];let Vt=nt.targetCoin,Yt;at.isMintZeroCoin||at.originalSplitedCoin!==void 0?Yt=at.targetCoin:Yt=_TransactionUtil.callMintZeroValueCoin(mt,Ut);const er=a.partner==="",tr=er?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule;for(const nr of Dt)if(nr.poolAddress.length===1){const sr=nr.a2b[0],dr={amount:Number(nr.amountIn.toString()),poolCoinA:nr.a2b[0]?Lt:Ut,poolCoinB:nr.a2b[0]?Ut:Lt},br=er?"swap":"swap_with_partner",vr=sr?Vt:Yt,yr=sr?Yt:Vt,$r=et?nr.amountIn.toString():nr.amountOut.toString(),Sr=SwapUtils.getDefaultSqrtPriceLimit(sr).toString(),wr=er?[mt.object(Ct),mt.object(nr.poolAddress[0]),vr,yr,mt.pure.bool(sr),mt.pure.bool(et),mt.pure.u64($r),mt.pure.u128(Sr),mt.pure.bool(!1),mt.object(CLOCK_ADDRESS$1)]:[mt.object(Ct),mt.object(nr.poolAddress[0]),mt.object(a.partner),vr,yr,mt.pure.bool(sr),mt.pure.bool(et),mt.pure.u64($r),mt.pure.u128(Sr),mt.pure.bool(!1),mt.object(CLOCK_ADDRESS$1)],fr=[dr.poolCoinA,dr.poolCoinB],_r=mt.moveCall({target:`${s.sdkOptions.integrate.published_at}::${tr}::${br}`,typeArguments:fr,arguments:wr});Vt=sr?_r[0]:_r[1],Yt=sr?_r[1]:_r[0]}else{const sr=et?nr.amountIn:nr.rawAmountLimit[0],dr=et?0:nr.amountOut;let br="";nr.a2b[0]?nr.a2b[1]?br="swap_ab_bc":br="swap_ab_cb":nr.a2b[1]?br="swap_ba_bc":br="swap_ba_cb",er||(br=`${br}_with_partner`);const vr=SwapUtils.getDefaultSqrtPriceLimit(nr.a2b[0]),yr=SwapUtils.getDefaultSqrtPriceLimit(nr.a2b[1]),$r=er?[mt.object(Ct),mt.object(nr.poolAddress[0]),mt.object(nr.poolAddress[1]),Vt,Yt,mt.pure.bool(et),mt.pure.u64(sr.toString()),mt.pure.u64(dr.toString()),mt.pure.u128(vr.toString()),mt.pure.u128(yr.toString()),mt.object(CLOCK_ADDRESS$1)]:[mt.object(Ct),mt.object(nr.poolAddress[0]),mt.object(nr.poolAddress[1]),mt.object(a.partner),Vt,Yt,mt.pure.bool(et),mt.pure.u64(sr.toString()),mt.pure.u64(dr.toString()),mt.pure.u128(vr.toString()),mt.pure.u128(yr.toString()),mt.object(CLOCK_ADDRESS$1)],Sr=[nr.coinType[0],nr.coinType[1],nr.coinType[2]],wr=mt.moveCall({target:`${$t.published_at}::${tr}::${br}`,typeArguments:Sr,arguments:$r});Vt=wr[0],Yt=wr[1]}return this.checkCoinThreshold(s,et,mt,Yt,Nt,Ut),{fromCoin:Vt,toCoin:Yt,tx:mt}}static async buildAggregatorSwapReturnCoins(s,a,et,nt,at,mt,wt,$t){if($t==null){if(s.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");$t=s.senderAddress}a.splitPaths.length>1&&(at="");let Ct,Dt;const Ft=a.splitPaths.some(jt=>jt.basePaths.some(Nt=>Nt.label==="Deepbook"));if((!a.byAmountIn||a.splitPaths.length===1)&&!Ft){const jt=[];for(const Ut of a.splitPaths){const Vt=[],Yt=[],er=[],tr=[];for(let sr=0;sr<Ut.basePaths.length;sr+=1){const dr=Ut.basePaths[sr];Vt.push(dr.direction),Yt.push(dr.poolAddress),er.push(new BN(dr.inputAmount.toString())),sr===0?tr.push(dr.fromCoin,dr.toCoin):tr.push(dr.toCoin)}const nr={amountIn:new BN(Ut.inputAmount.toString()),amountOut:new BN(Ut.outputAmount.toString()),poolAddress:Yt,a2b:Vt,rawAmountLimit:er,isExceed:!1,coinType:tr};jt.push(nr)}const Nt={paths:jt,partner:at,priceSlippagePoint:mt},Lt=await this.buildRouterBasePathReturnCoins(s,Nt,a.byAmountIn,et,nt,wt);Ct=Lt.fromCoin,Dt=Lt.toCoin,wt=Lt.tx}else{const jt=Math.round(a.outputAmount*(1-mt));Ct=et.targetCoin,nt.isMintZeroCoin||nt.originalSplitedCoin!==void 0?Dt=nt.targetCoin:Dt=_TransactionUtil.callMintZeroValueCoin(wt,a.toCoin);let Nt=!1,Lt;if(Ft){const[Ut,Vt]=DeepbookUtils.createAccountCap($t,s.sdkOptions,wt);wt=Vt,Lt=Ut,Nt=!0}for(let Ut=0;Ut<a.splitPaths.length;Ut+=1){const Vt=a.splitPaths[Ut];let Yt;for(let er=0;er<Vt.basePaths.length;er+=1){const tr=Vt.basePaths[er];if(tr.label==="Deepbook")if(er===0)if(Vt.basePaths.length===1){const nr=this.buildDeepbookBasePathTx(s,tr,wt,Lt,Ct,Dt,!1);Ct=nr.from,Dt=nr.to}else{Yt=_TransactionUtil.callMintZeroValueCoin(wt,tr.toCoin);const nr=this.buildDeepbookBasePathTx(s,tr,wt,Lt,Ct,Yt,!1);Ct=nr.from,Yt=nr.to}else{const nr=this.buildDeepbookBasePathTx(s,tr,wt,Lt,Yt,Dt,!0);Yt=nr.from,Dt=nr.to}if(tr.label==="Cetus")if(er===0)if(Vt.basePaths.length===1){const nr=this.buildClmmBasePathTx(s,tr,wt,a.byAmountIn,Ct,Dt,!1,at);Ct=nr.from,Dt=nr.to}else{Yt=_TransactionUtil.callMintZeroValueCoin(wt,tr.toCoin);const nr=this.buildClmmBasePathTx(s,tr,wt,a.byAmountIn,Ct,Yt,!1,at);Ct=nr.from,Yt=nr.to}else{const nr=this.buildClmmBasePathTx(s,tr,wt,a.byAmountIn,Yt,Dt,!0,at);Yt=nr.from,Dt=nr.to,wt.moveCall({target:`${s.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::send_coin`,typeArguments:[tr.fromCoin],arguments:[Yt,wt.pure.address($t)]})}}}this.checkCoinThreshold(s,a.byAmountIn,wt,Dt,jt,a.toCoin),Nt&&(wt=DeepbookUtils.deleteAccountCapByObject(Lt,s.sdkOptions,wt))}return{fromCoin:Ct,toCoin:Dt,tx:wt}}static async buildAggregatorSwapTransaction(s,a,et,nt,at,mt){let wt=new Transaction;const $t=a.byAmountIn?Math.round(a.outputAmount*(1-at)):Math.round(a.inputAmount*(1+at)),Ct=_TransactionUtil.buildCoinForAmount(wt,et,a.byAmountIn?BigInt(a.inputAmount):BigInt($t),a.fromCoin,!1,!0),Dt=Ct.originalSplitedCoin!=null,Ft=_TransactionUtil.buildCoinForAmount(wt,et,0n,a.toCoin,!1),jt=await this.buildAggregatorSwapReturnCoins(s,a,Ct,Ft,nt,at,wt,mt),{fromCoin:Nt,toCoin:Lt}=jt;wt=jt.tx;const Ut=[];if(Ft.isMintZeroCoin?Ut.push({coinType:a.toCoin,coin:Lt}):Ft.originalSplitedCoin!=null?wt.mergeCoins(Ft.originalSplitedCoin,[Lt]):wt.mergeCoins(Ft.targetCoin,[Lt]),Dt){const Vt=Ct.originalSplitedCoin;wt.mergeCoins(Vt,[Nt])}else Ut.push({coinType:a.fromCoin,coin:Nt});for(let Vt=0;Vt<Ut.length;Vt++)this.buildTransferCoin(s,wt,Ut[Vt].coin,Ut[Vt].coinType,mt);return wt}static checkCoinThreshold(s,a,et,nt,at,mt){a&&et.moveCall({target:`${s.sdkOptions.integrate.published_at}::${ClmmIntegrateRouterModule}::check_coin_threshold`,typeArguments:[mt],arguments:[nt,et.pure.u64(at)]})}static buildDeepbookBasePathTx(s,a,et,nt,at,mt,wt){const $t=a.direction?at:mt,Ct=a.direction?mt:at,Dt=[et.object(a.poolAddress),nt,et.pure.u64(a.inputAmount),et.pure.u64(0),et.pure.bool(a.direction),$t,Ct,et.pure.bool(wt),et.object(CLOCK_ADDRESS$1)],Ft=a.direction?[a.fromCoin,a.toCoin]:[a.toCoin,a.fromCoin],jt=et.moveCall({target:`${s.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Ft,arguments:Dt});return at=a.direction?jt[0]:jt[1],mt=a.direction?jt[1]:jt[0],{from:at,to:mt,tx:et}}static buildClmmBasePathTx(s,a,et,nt,at,mt,wt,$t){const{clmm_pool:Ct,integrate:Dt}=s.sdkOptions,Ft=getPackagerConfigs(Ct).global_config_id;let jt=a.direction?at:mt,Nt=a.direction?mt:at;const Lt=$t==="",Ut=Lt?ClmmIntegrateRouterModule:ClmmIntegrateRouterWithPartnerModule,Vt=Lt?"swap":"swap_with_partner",Yt=nt?a.inputAmount.toString():a.outputAmount.toString(),er=SwapUtils.getDefaultSqrtPriceLimit(a.direction),tr=Lt?[et.object(Ft),et.object(a.poolAddress),jt,Nt,et.pure.bool(a.direction),et.pure.bool(nt),et.pure.u64(Yt),et.pure.u128(er.toString()),et.pure.bool(wt),et.object(CLOCK_ADDRESS$1)]:[et.object(Ft),et.object(a.poolAddress),et.object($t),jt,Nt,et.pure.bool(a.direction),et.pure.bool(nt),et.pure.u64(Yt),et.pure.u128(er.toString()),et.pure.bool(wt),et.object(CLOCK_ADDRESS$1)],nr=a.direction?[a.fromCoin,a.toCoin]:[a.toCoin,a.fromCoin],sr=et.moveCall({target:`${Dt.published_at}::${Ut}::${Vt}`,typeArguments:nr,arguments:tr});return jt=sr[0],Nt=sr[1],at=a.direction?jt:Nt,mt=a.direction?Nt:jt,{from:at,to:mt,tx:et}}static buildCoinTypePair(s,a){const et=[];if(s.length===2){const nt=[];nt.push(s[0],s[1]),et.push(nt)}else{const nt=[];nt.push(s[0],s[s.length-1]),et.push(nt);for(let at=1;at<s.length-1;at+=1){if(a[at-1]===0)continue;const mt=[];mt.push(s[0],s[at],s[s.length-1]),et.push(mt)}}return et}static buildTransferCoinToSender(s,a,et,nt){a.moveCall({target:`${s.sdkOptions.integrate.published_at}::${ClmmIntegrateUtilsModule}::transfer_coin_to_sender`,typeArguments:[nt],arguments:[et]})}static buildTransferCoin(s,a,et,nt,at){at!=null?a.transferObjects([et],a.pure.address(at)):_TransactionUtil.buildTransferCoinToSender(s,a,et,nt)}},TransactionUtil=_TransactionUtil;__publicField$4(TransactionUtil,"callMintZeroValueCoin",(s,a)=>s.moveCall({target:"0x2::coin::zero",typeArguments:[a]}));function checkInvalidSuiAddress$1(s){return!(!s.startsWith("0x")||s.length!==66)}var FLOAT_SCALING=new BN(1e9),DeepbookUtils=class{static createAccountCap(s,a,et,nt=!1){if(s.length===0)throw Error("this config sdk senderAddress is empty");const{deepbook:at}=a,[mt]=et.moveCall({target:`${at.published_at}::${DeepbookClobV2Moudle}::create_account`,typeArguments:[],arguments:[]});return nt&&et.transferObjects([mt],et.pure.address(s)),[mt,et]}static deleteAccountCap(s,a,et){const{deepbook:nt}=a,at=[et.object(s)];return et.moveCall({target:`${nt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:at}),et}static deleteAccountCapByObject(s,a,et){const{deepbook:nt}=a,at=[s];return et.moveCall({target:`${nt.published_at}::${DeepbookCustodianV2Moudle}::delete_account_cap`,typeArguments:[],arguments:at}),et}static async getAccountCap(s,a=!0){const et=await s.fullClient.getOwnedObjectsByPage(s.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:a,showOwner:!0},filter:{MoveModule:{package:s.sdkOptions.deepbook.package_id,module:DeepbookCustodianV2Moudle}}});return et.data.length===0?"":et.data[0].data.objectId}static async getPools(s){const a=s.sdkOptions.deepbook.package_id,et=[];try{(await s.fullClient.queryEventsByPage({MoveEventType:`${a}::clob_v2::PoolCreated`})).data.forEach(at=>{const mt=at.parsedJson;mt&&et.push({poolID:mt.pool_id,tickSize:Number(mt.tick_size),lotSize:Number(mt.lot_size),takerFeeRate:Number(mt.taker_fee_rate),makerRebateRate:Number(mt.maker_rebate_rate),baseAsset:mt.base_asset.name,quoteAsset:mt.quote_asset.name})})}catch(nt){console.log("getPoolImmutables",nt)}return et}static async getPoolAsks(s,a,et,nt){var Nt;const{simulationAccount:at}=s.sdkOptions,{deepbook_endpoint_v2:mt}=s.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(a),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(CLOCK_ADDRESS$1)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:Dt,typeArguments:Ct});const jt=(Nt=(await s.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:Nt.filter(Lt=>extractStructTagFromType$1(Lt.type).name==="BookStatus");if(jt.length===0)return $t;for(let Lt=0;Lt<jt[0].parsedJson.depths.length;Lt++){const Ut=jt[0].parsedJson.price[Lt],Vt=jt[0].parsedJson.depths[Lt],Yt={price:parseInt(Ut,10),quantity:parseInt(Vt,10)};$t.push(Yt)}return $t}static async getPoolBids(s,a,et,nt){var Nt;const{simulationAccount:at}=s.sdkOptions,{deepbook_endpoint_v2:mt}=s.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(a),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(CLOCK_ADDRESS$1)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:Dt,typeArguments:Ct});const jt=(Nt=(await s.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:Nt.filter(Lt=>extractStructTagFromType$1(Lt.type).name==="BookStatus");if(jt.length===0)return $t;for(let Lt=0;Lt<jt[0].parsedJson.depths.length;Lt++){const Ut=jt[0].parsedJson.price[Lt],Vt=jt[0].parsedJson.depths[Lt],Yt={price:parseInt(Ut,10),quantity:parseInt(Vt,10)};$t.push(Yt)}return $t}static async preSwap(s,a,et,nt){let at=!1,mt=ZERO$1,wt=new BN(nt),$t=ZERO$1;const Ct=new BN(nt);if(et){let Dt=await this.getPoolBids(s,a.poolID,a.baseAsset,a.quoteAsset);Dt===null&&(at=!0),Dt=Dt.sort((Ft,jt)=>jt.price-Ft.price);for(let Ft=0;Ft<Dt.length;Ft+=1){const jt=new BN(Dt[Ft].quantity),Nt=new BN(Dt[Ft].price),Lt=jt.mul(new BN(Nt)).mul(new BN(a.takerFeeRate)).div(FLOAT_SCALING).div(FLOAT_SCALING);if(wt.gt(jt))wt=wt.sub(jt),mt=mt.add(jt.mul(Nt).div(FLOAT_SCALING).sub(Lt)),$t=$t.add(Lt);else{const Ut=wt.mul(new BN(Dt[Ft].price)).div(FLOAT_SCALING),Vt=Ut.mul(new BN(a.takerFeeRate)).div(FLOAT_SCALING);mt=mt.add(Ut.sub(Vt)),wt=wt.sub(wt),$t=$t.add(Vt)}if(wt.eq(ZERO$1))break}}else{const Dt=await this.getPoolAsks(s,a.poolID,a.baseAsset,a.quoteAsset);Dt===null&&(at=!0);for(let Ft=0;Ft<Dt.length;Ft+=1){const jt=new BN(Dt[Ft].price).mul(new BN(Dt[Ft].quantity)).div(new BN(1e9)),Nt=jt.mul(new BN(a.takerFeeRate)).div(FLOAT_SCALING),Lt=jt.add(Nt);if(wt.gt(jt))mt=mt.add(new BN(Dt[Ft].quantity)),wt=wt.sub(Lt),$t=$t.add(Nt);else{const Ut=new BN(Dt[Ft].quantity).div(new BN(a.lotSize)),Vt=Lt.div(Ut),Yt=wt.div(Vt);mt=mt.add(Yt.muln(a.lotSize)),wt=wt.sub(Yt.mul(Vt)),$t=$t.add(Yt.div(Ut).mul(Nt))}if(wt.eq(ZERO$1))break}}return{poolAddress:a.poolID,estimatedAmountIn:Ct.sub(wt).toNumber(),estimatedAmountOut:mt.toNumber(),estimatedFeeAmount:$t,isExceed:at,amount:Number(nt),aToB:et,byAmountIn:!0}}static async simulateSwap(s,a,et,nt,at,mt){var dr;const{deepbook_endpoint_v2:wt}=s.sdkOptions;let $t=new Transaction;const Ct=await this.getAccountCap(s);let Dt;if(Ct===""){const br=this.createAccountCap(s.senderAddress,s.sdkOptions,$t),vr=br[0];$t=br[1],Dt=vr}else Dt=$t.object(Ct);const Ft=await s.getOwnerCoinAssets(s.senderAddress),jt=TransactionUtil.buildCoinForAmount($t,Ft,BigInt(mt),et,!1),Nt=jt==null?void 0:jt.targetCoin,Lt=TransactionUtil.buildCoinForAmount($t,Ft,BigInt(mt),nt,!1),Ut=Lt==null?void 0:Lt.targetCoin,Vt=[et,nt],Yt=[$t.object(a),Dt,$t.pure.u64(mt),$t.pure.u64(0),$t.pure.bool(at),Nt,Ut,$t.object(CLOCK_ADDRESS$1)];$t.moveCall({target:`${wt.published_at}::${DeepbookEndpointsV2Moudle}::swap`,arguments:Yt,typeArguments:Vt});const{simulationAccount:er}=s.sdkOptions,nr=(dr=(await s.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:er.address})).events)==null?void 0:dr.filter(br=>extractStructTagFromType$1(br.type).name==="DeepbookSwapEvent");if(nr.length===0)return null;const sr=nr[0].parsedJson;return{poolAddress:sr.pool,estimatedAmountIn:sr.amount_in,estimatedAmountOut:sr.amount_out,aToB:sr.atob}}},RpcModule=class extends SuiClient{async queryEventsByPage(s,a="all"){let et=[],nt=!0;const at=a==="all";let mt=at?null:a.cursor;do{const wt=await this.queryEvents({query:s,cursor:mt,limit:at?null:a.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async queryTransactionBlocksByPage(s,a="all",et="ascending"){let nt=[],at=!0;const mt=a==="all";let wt=mt?null:a.cursor;do{const $t=await this.queryTransactionBlocks({filter:s,cursor:wt,order:et,limit:mt?null:a.limit,options:{showEvents:!0}});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getOwnedObjectsByPage(s,a,et="all"){let nt=[],at=!0;const mt=et==="all";let wt=mt?null:et.cursor;do{const $t=await this.getOwnedObjects({owner:s,...a,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getDynamicFieldsByPage(s,a="all"){let et=[],nt=!0;const at=a==="all";let mt=at?null:a.cursor;do{const wt=await this.getDynamicFields({parentId:s,cursor:mt,limit:at?null:a.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async batchGetObjects(s,a,et=50){let nt=[];try{for(let at=0;at<Math.ceil(s.length/et);at++){const mt=await this.multiGetObjects({ids:s.slice(at*et,et*(at+1)),options:a});nt=[...nt,...mt]}}catch(at){console.log(at)}return nt}async calculationTxGas(s){const{sender:a}=s.blockData;if(a===void 0)throw Error("sdk sender is empty");const et=await this.devInspectTransactionBlock({transactionBlock:s,sender:a}),{gasUsed:nt}=et.effects;return Number(nt.computationCost)+Number(nt.storageCost)-Number(nt.storageRebate)}async sendTransaction(s,a){try{return await this.signAndExecuteTransaction({transaction:a,signer:s,options:{showEffects:!0,showEvents:!0}})}catch(et){console.log("error: ",et)}}async sendSimulationTransaction(s,a,et=!0){try{if(et)return await this.devInspectTransactionBlock({transactionBlock:s,sender:a})}catch(nt){console.log("devInspectTransactionBlock error",nt)}}},PoolModule=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPositionList(s,a="all"){const et={data:[],hasNextPage:!0},nt=await this._sdk.fullClient.getDynamicFieldsByPage(s,a);et.hasNextPage=nt.hasNextPage,et.nextCursor=nt.nextCursor;const at=nt.data.map(wt=>{if(wt.error!=null)throw new ClmmpoolsError(`when getPositionList get position objects error: ${wt.error}, please check the rpc, contracts address config and position id.`,"InvalidConfig");return wt.name.value}),mt=await this._sdk.Position.getSipmlePositionList(at);return et.data=mt,et}async getPoolImmutables(s=[],a=0,et=100,nt=!1){const{package_id:at}=this._sdk.sdkOptions.clmm_pool,mt=`${at}_getInitPoolEvent`,wt=this.getCache(mt,nt),$t=[],Ct=[];if(wt!==void 0&&$t.push(...wt),$t.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${at}::factory::CreatePoolEvent`})).data.forEach(jt=>{const Nt=jt.parsedJson;Nt&&$t.push({poolAddress:Nt.pool_id,tickSpacing:Nt.tick_spacing,coinTypeA:extractStructTagFromType$1(Nt.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(Nt.coin_type_b).full_address})}),this.updateCache(mt,$t,cacheTime24h)}catch(Ft){console.log("getPoolImmutables",Ft)}const Dt=s.length>0;for(let Ft=0;Ft<$t.length;Ft+=1){const jt=$t[Ft];Dt&&!s.includes(jt.poolAddress)||!Dt&&(Ft<a||Ft>=a+et)||Ct.push(jt)}return Ct}async getPools(s=[],a=0,et=100){var wt,$t,Ct;const nt=[];let at=[];s.length>0?at=[...s]:(await this.getPoolImmutables([],a,et,!1)).forEach(Ft=>at.push(Ft.poolAddress));const mt=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(const Dt of mt){if(Dt.error!=null||(($t=(wt=Dt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`getPools error code: ${((Ct=Dt.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Ft=buildPool(Dt);nt.push(Ft);const jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,cacheTime24h)}return nt}async getPoolImmutablesWithPage(s="all",a=!1){const{package_id:et}=this._sdk.sdkOptions.clmm_pool,nt=[],at={data:[],hasNextPage:!1},mt=s==="all",wt=`${et}_getPoolImmutables`;if(mt){const $t=this.getCache(wt,a);$t&&nt.push(...$t)}if(nt.length===0)try{const $t=`${et}::factory::CreatePoolEvent`,Ct=await this._sdk.fullClient.queryEventsByPage({MoveEventType:$t},s);at.hasNextPage=Ct.hasNextPage,at.nextCursor=Ct.nextCursor,Ct.data.forEach(Dt=>{const Ft=Dt.parsedJson;if(Ft){const jt={poolAddress:Ft.pool_id,tickSpacing:Ft.tick_spacing,coinTypeA:extractStructTagFromType$1(Ft.coin_type_a).full_address,coinTypeB:extractStructTagFromType$1(Ft.coin_type_b).full_address};nt.push(jt)}})}catch($t){console.log("getPoolImmutables",$t)}return at.data=nt,mt&&this.updateCache(`${et}_getPoolImmutables`,nt,cacheTime24h),at}async getPoolsWithPage(s=[],a="all",et=!1){var wt,$t,Ct;const nt=[];let at=[];s.length>0?at=[...s]:(await this.getPoolImmutablesWithPage(a,et)).data.forEach(Ft=>at.push(Ft.poolAddress));const mt=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(const Dt of mt){if(Dt.error!=null||(($t=(wt=Dt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`getPoolWithPages error code: ${((Ct=Dt.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");const Ft=buildPool(Dt);nt.push(Ft);const jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,cacheTime24h)}return nt}async getPool(s,a=!0){var wt,$t,Ct;const et=`${s}_getPoolObject`,nt=this.getCache(et,a);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});if(at.error!=null||(($t=(wt=at.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`getPool error code: ${((Ct=at.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");const mt=buildPool(at);return this.updateCache(et,mt),mt}async getPoolByCoins(s,a){if(s.length===0)return[];for(let $t=0;$t<s.length;$t++)s[$t]==="0x2::sui::SUI"&&(s[$t]="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI");let et=this._sdk.sdkOptions.statsPoolsUrl;if(!et)throw new ClmmpoolsError("statsPoolsUrl is not set in the sdk options.","StatsPoolsUrlNotSet");et+=`?order_by=-fees&limit=100&has_mining=true&has_farming=true&no_incentives=true&display_all_pools=true&coin_type=${s.join(",")}`;const nt=await fetch(et);let at;try{at=await nt.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${et}].`,"InvalidSwapCountUrl")}const mt=at.data.lp_list;if(!mt||mt.length===0)throw new ClmmpoolsError(`Failed tp [arse response from ${et}].`,"PoolsNotFound");const wt=[];for(const $t of mt)s.includes($t.coin_a_address)&&s.includes($t.coin_b_address)&&(a!=null?$t.fee===a.toString()&&wt.push($t.address):wt.push($t.address));return wt.length>0?await this.getPools(wt):[]}async creatPoolsTransactionPayload(s){for(const et of s)if(isSortedSymbols(normalizeSuiAddress$1(et.coinTypeA),normalizeSuiAddress$1(et.coinTypeB))){const nt=et.coinTypeB;et.coinTypeB=et.coinTypeA,et.coinTypeA=nt}return await this.creatPool(s)}async creatPoolTransactionPayload(s){if(isSortedSymbols(normalizeSuiAddress$1(s.coinTypeA),normalizeSuiAddress$1(s.coinTypeB))){const a=s.coinTypeB;s.coinTypeB=s.coinTypeA,s.coinTypeA=a;const et=s.metadata_b;s.metadata_b=s.metadata_a,s.metadata_a=et}return await this.createPoolAndAddLiquidity(s)}async createPoolTransactionPayload(s){if(isSortedSymbols(normalizeSuiAddress$1(s.coinTypeA),normalizeSuiAddress$1(s.coinTypeB))){const a=s.coinTypeB;s.coinTypeB=s.coinTypeA,s.coinTypeA=a;const et=s.metadata_b;s.metadata_b=s.metadata_a,s.metadata_a=et}return await this.createPoolAndAddLiquidity(s)}async createPoolTransactionRowPayload(s){if(isSortedSymbols(normalizeSuiAddress$1(s.coinTypeA),normalizeSuiAddress$1(s.coinTypeB))){const a=s.coinTypeB;s.coinTypeB=s.coinTypeA,s.coinTypeA=a;const et=s.metadata_b;s.metadata_b=s.metadata_a,s.metadata_a=et}return await this.createPoolAndAddLiquidityRow(s)}async getClmmConfigs(s=!1){const{package_id:a}=this._sdk.sdkOptions.clmm_pool,et=`${a}_getInitEvent`,nt=this.getCache(et,s);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:a,options:{showPreviousTransaction:!0}}),mt=getObjectPreviousTransactionDigest(at),wt=(await this._sdk.fullClient.queryEventsByPage({Transaction:mt})).data,$t={pools_id:"",global_config_id:"",global_vault_id:"",admin_cap_id:""};return wt.length>0&&(wt.forEach(Ct=>{const Dt=Ct.parsedJson;if(Ct.type)switch(extractStructTagFromType$1(Ct.type).full_address){case`${a}::config::InitConfigEvent`:$t.global_config_id=Dt.global_config_id,$t.admin_cap_id=Dt.admin_cap_id;break;case`${a}::factory::InitFactoryEvent`:$t.pools_id=Dt.pools_id;break;case`${a}::rewarder::RewarderInitEvent`:$t.global_vault_id=Dt.global_vault_id;break;case`${a}::partner::InitPartnerEvent`:$t.partners_id=Dt.partners_id;break}}),this.updateCache(et,$t,cacheTime24h)),$t}async getSuiTransactionResponse(s,a=!1){const et=`${s}_getSuiTransactionResponse`,nt=this.getCache(et,a);if(nt!==void 0)return nt;let at;try{at=await this._sdk.fullClient.getTransactionBlock({digest:s,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{at=await this._sdk.fullClient.getTransactionBlock({digest:s,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(et,at,cacheTime24h),at}async getPoolTransactionList({poolId:s,paginationArgs:a,order:et="descending",fullRpcUrl:nt}){const{fullClient:at,sdkOptions:mt}=this._sdk;let wt;nt?wt=new RpcModule({url:nt}):wt=at;const $t={data:[],hasNextPage:!1},Ct=a,Dt=a.limit||10;do{const Ft=await wt.queryTransactionBlocksByPage({ChangedObject:s},{...Ct,limit:50},et);Ft.data.forEach((jt,Nt)=>{$t.nextCursor=Ft.nextCursor;const Lt=buildPoolTransactionInfo(jt,Nt,mt.clmm_pool.package_id,s);$t.data=[...$t.data,...Lt]}),$t.hasNextPage=Ft.hasNextPage,$t.nextCursor=Ft.nextCursor,Ct.cursor=Ft.nextCursor}while($t.data.length<Dt&&$t.hasNextPage);return $t.data.length>Dt&&($t.data=$t.data.slice(0,Dt),$t.nextCursor=$t.data[$t.data.length-1].tx),$t}async creatPool(s){const a=new Transaction,{integrate:et,clmm_pool:nt}=this.sdk.sdkOptions,at=getPackagerConfigs(nt),mt=at.global_config_id,wt=at.pools_id;return s.forEach($t=>{const Ct=[a.object(mt),a.object(wt),a.pure.u32($t.tick_spacing),a.pure.u128($t.initialize_sqrt_price),a.pure.string($t.uri),a.object(CLOCK_ADDRESS$1)];a.moveCall({target:`${et.published_at}::${ClmmIntegratePoolModule}::create_pool`,typeArguments:[$t.coinTypeA,$t.coinTypeB],arguments:Ct})}),a}async createPoolAndAddLiquidity(s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const a=new Transaction;a.setSender(this.sdk.senderAddress);const{integrate:et,clmm_pool:nt}=this.sdk.sdkOptions,at=getPackagerConfigs(nt),mt=at.global_config_id,wt=at.pools_id,$t=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),Ct=TransactionUtil.buildCoinForAmount(a,$t,BigInt(s.amount_a),s.coinTypeA,!1,!0),Dt=TransactionUtil.buildCoinForAmount(a,$t,BigInt(s.amount_b),s.coinTypeB,!1,!0),Ft=[a.object(mt),a.object(wt),a.pure.u32(s.tick_spacing),a.pure.u128(s.initialize_sqrt_price),a.pure.string(s.uri),a.pure.u32(Number(asUintN(BigInt(s.tick_lower)).toString())),a.pure.u32(Number(asUintN(BigInt(s.tick_upper)).toString())),Ct.targetCoin,Dt.targetCoin,a.object(s.metadata_a),a.object(s.metadata_b),a.pure.bool(s.fix_amount_a),a.object(CLOCK_ADDRESS$1)];return a.moveCall({target:`${et.published_at}::pool_creator_v2::create_pool_v2`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:Ft}),TransactionUtil.buildTransferCoinToSender(this._sdk,a,Ct.targetCoin,s.coinTypeA),TransactionUtil.buildTransferCoinToSender(this._sdk,a,Dt.targetCoin,s.coinTypeB),a}async createPoolAndAddLiquidityRow(s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const a=new Transaction,{clmm_pool:et}=this.sdk.sdkOptions,nt=getPackagerConfigs(et),at=nt.global_config_id,mt=nt.pools_id,wt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress),$t=TransactionUtil.buildCoinForAmount(a,wt,BigInt(s.amount_a),s.coinTypeA,!1,!0),Ct=TransactionUtil.buildCoinForAmount(a,wt,BigInt(s.amount_b),s.coinTypeB,!1,!0),Dt=[a.object(at),a.object(mt),a.pure.u32(s.tick_spacing),a.pure.u128(s.initialize_sqrt_price),a.pure.string(s.uri),a.pure.u32(Number(asUintN(BigInt(s.tick_lower)).toString())),a.pure.u32(Number(asUintN(BigInt(s.tick_upper)).toString())),$t.targetCoin,Ct.targetCoin,a.object(s.metadata_a),a.object(s.metadata_b),a.pure.bool(s.fix_amount_a),a.object(CLOCK_ADDRESS$1)],Ft=a.moveCall({target:`${et.published_at}::pool_creator::create_pool_v2`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:Dt});return{transaction:a,position:Ft[0],coinAObject:Ft[1],coinBObject:Ft[2],coinAType:s.coinTypeA,coinBType:s.coinTypeB}}async fetchTicks(s){let a=[],et=[];for(;;){const at=await this.getTicks({pool_id:s.pool_id,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,start:et,limit:512});if(a=[...a,...at],at.length<512)break;et=[Number(asUintN(BigInt(at[at.length-1].index)))]}return a}async getTicks(s){var Dt;const{integrate:a,simulationAccount:et}=this.sdk.sdkOptions,nt=[],at=[s.coinTypeA,s.coinTypeB],mt=new Transaction,wt=mt.makeMoveVec({elements:s.start.map(Ft=>mt.pure.u32(Ft)),type:"u32"}),$t=[mt.object(s.pool_id),wt,mt.pure.u64(s.limit.toString())];if(mt.moveCall({target:`${a.published_at}::${ClmmFetcherModule}::fetch_ticks`,arguments:$t,typeArguments:at}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("Invalid simulation account: Configuration requires a valid Sui address. Please check your SDK configuration.","InvalidSimulateAccount");const Ct=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:et.address});if(Ct.error!=null)throw new ClmmpoolsError(`getTicks error code: ${Ct.error??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return(Dt=Ct.events)==null||Dt.forEach(Ft=>{extractStructTagFromType$1(Ft.type).name==="FetchTicksResultEvent"&&Ft.parsedJson.ticks.forEach(jt=>{nt.push(buildTickDataByEvent(jt))})}),nt}async fetchPositionRewardList(s){var wt;const{integrate:a,simulationAccount:et}=this.sdk.sdkOptions,nt=[];let at=[];const mt=512;for(;;){const $t=[s.coinTypeA,s.coinTypeB],Ct=new Transaction,Dt=Ct.makeMoveVec({elements:at.map(Lt=>Ct.pure.address(Lt)),type:void 0}),Ft=[Ct.object(s.pool_id),Dt,Ct.pure.u64(mt)];if(Ct.moveCall({target:`${a.published_at}::${ClmmFetcherModule}::fetch_positions`,arguments:Ft,typeArguments:$t}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const jt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:et.address});if(jt.error!=null)throw new ClmmpoolsError(`fetch position reward error code: ${jt.error??"unknown error"}, please check config and tick object ids`,"InvalidPositionRewardObject");const Nt=[];if((wt=jt==null?void 0:jt.events)==null||wt.forEach(Lt=>{extractStructTagFromType$1(Lt.type).name==="FetchPositionsEvent"&&Lt.parsedJson.positions.forEach(Ut=>{const Vt=buildPositionReward(Ut);Nt.push(Vt)})}),nt.push(...Nt),Nt.length<mt)break;at=[Nt[Nt.length-1].pos_object_id]}return nt}async fetchTicksByRpc(s){let a=[],et=null;const nt=50;for(;;){const at=[],mt=await this.sdk.fullClient.getDynamicFields({parentId:s,cursor:et,limit:nt});if(et=mt.nextCursor,mt.data.forEach(wt=>{extractStructTagFromType$1(wt.objectType).module==="skip_list"&&at.push(wt.objectId)}),a=[...a,...await this.getTicksByRpc(at)],!mt.hasNextPage)break}return a}async getTicksByRpc(s){var nt,at,mt;const a=[],et=await this.sdk.fullClient.batchGetObjects(s,{showContent:!0,showType:!0});for(const wt of et){if(wt.error!=null||((at=(nt=wt.data)==null?void 0:nt.content)==null?void 0:at.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${((mt=wt.error)==null?void 0:mt.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");const $t=buildTickData(wt);$t!=null&&a.push($t)}return a}async getTickDataByIndex(s,a){var at,mt;const et={type:"u64",value:asUintN(BigInt(tickScore(a).toString())).toString()},nt=await this.sdk.fullClient.getDynamicFieldObject({parentId:s,name:et});if(nt.error!=null||((mt=(at=nt.data)==null?void 0:at.content)==null?void 0:mt.dataType)!=="moveObject")throw new ClmmpoolsError(`get tick by index: ${a} error: ${nt.error}`,"InvalidTickIndex");return buildTickData(nt)}async getTickDataByObjectId(s){var et,nt,at;const a=await this.sdk.fullClient.getObject({id:s,options:{showContent:!0}});if(a.error!=null||((nt=(et=a.data)==null?void 0:et.content)==null?void 0:nt.dataType)!=="moveObject")throw new ClmmpoolsError(`getTicksByRpc error code: ${((at=a.error)==null?void 0:at.code)??"unknown error"}, please check config and tick object ids`,"InvalidTickObjectId");return buildTickData(a)}async getPartnerRefFeeAmount(s,a=!0){var Ct,Dt;const et=await this._sdk.fullClient.batchGetObjects([s],{showOwner:!0,showContent:!0,showDisplay:a,showType:!0});if(((Dt=(Ct=et[0].data)==null?void 0:Ct.content)==null?void 0:Dt.dataType)!=="moveObject")throw new ClmmpoolsError(`get partner by object id: ${s} error: ${et[0].error}`,"NotFoundPartnerObject");const nt=et[0].data.content.fields.balances,at=await this._sdk.fullClient.getDynamicFieldsByPage(nt.fields.id.id),mt=[];at.data.forEach(Ft=>{Ft.objectId!=null&&mt.push(Ft.objectId)});const wt=[];return(await this._sdk.fullClient.batchGetObjects(mt,{showOwner:!0,showContent:!0,showDisplay:a,showType:!0})).forEach(Ft=>{var Nt,Lt;if(Ft.error!=null||((Lt=(Nt=Ft.data)==null?void 0:Nt.content)==null?void 0:Lt.dataType)!=="moveObject")throw new ClmmpoolsError(`get coin by object id: ${Ft.data.objectId} error: ${Ft.error}`,"InvalidParnterRefFeeFields");const jt={coinAddress:Ft.data.content.fields.name,coinObjectId:Ft.data.objectId,balance:BigInt(Ft.data.content.fields.value)};wt.push(jt)}),wt}async claimPartnerRefFeePayload(s,a,et){const nt=new Transaction,{clmm_pool:at}=this.sdk.sdkOptions,{global_config_id:mt}=getPackagerConfigs(at),wt=[et],$t=[nt.object(mt),nt.object(s),nt.object(a)];return nt.moveCall({target:`${at.published_at}::${ClmmPartnerModule}::claim_ref_fee`,arguments:$t,typeArguments:wt}),nt}updateCache(s,a,et=cacheTime5min){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){const et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}},PositionModule=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}buildPositionType(){return`${this._sdk.sdkOptions.clmm_pool.package_id}::position::Position`}async getPositionTransactionList({posId:s,paginationArgs:a="all",order:et="ascending",fullRpcUrl:nt,originPosId:at}){const{fullClient:mt}=this._sdk,wt=[s];at&&wt.push(at);let $t;nt?$t=new RpcModule({url:nt}):$t=mt;const Ct={data:[],hasNextPage:!1};try{const Dt=await $t.queryTransactionBlocksByPage({ChangedObject:s},a,et);return Dt.data.forEach((Ft,jt)=>{const Nt=buildPositionTransactionInfo(Ft,jt,wt);Ct.data=[...Ct.data,...Nt]}),Ct.hasNextPage=Dt.hasNextPage,Ct.nextCursor=Dt.nextCursor,Ct}catch(Dt){console.log("Error in getPositionTransactionList:",Dt)}return Ct}async getPositionList(s,a=[],et=!0){const nt=[],at=await this._sdk.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showDisplay:et,showOwner:!0},filter:{Package:this._sdk.sdkOptions.clmm_pool.package_id}}),mt=a.length>0;for(const wt of at.data)if(extractStructTagFromType$1(wt.data.type).full_address===this.buildPositionType()){const Ct=buildPosition(wt),Dt=`${Ct.pos_object_id}_getPositionList`;this.updateCache(Dt,Ct,cacheTime24h),mt?a.includes(Ct.pool)&&nt.push(Ct):nt.push(Ct)}return nt}async getPosition(s,a,et=!0,nt=!0){let at=await this.getSimplePosition(a,nt);return et&&(at=await this.updatePositionRewarders(s,at)),at}async getPositionById(s,a=!0,et=!0){const nt=await this.getSimplePosition(s,et);if(a){const at=await this._sdk.Pool.getPool(nt.pool,!1);return await this.updatePositionRewarders(at.position_manager.positions_handle,nt)}return nt}async getSimplePosition(s,a=!0){const et=`${s}_getPositionList`;let nt=this.getSimplePositionByCache(s);if(nt===void 0){const at=await this.sdk.fullClient.getObject({id:s,options:{showContent:!0,showType:!0,showDisplay:a,showOwner:!0}});nt=buildPosition(at),this.updateCache(et,nt,cacheTime24h)}return nt}getSimplePositionByCache(s){const a=`${s}_getPositionList`;return this.getCache(a)}async getSipmlePositionList(s,a=!0){const et=[],nt=[];return s.forEach(at=>{const mt=this.getSimplePositionByCache(at);mt?et.push(mt):nt.push(at)}),nt.length>0&&(await this._sdk.fullClient.batchGetObjects(nt,{showOwner:!0,showContent:!0,showDisplay:a,showType:!0})).forEach(mt=>{if(mt.error==null){const wt=buildPosition(mt);et.push(wt);const $t=`${wt.pos_object_id}_getPositionList`;this.updateCache($t,wt,cacheTime24h)}}),et}async updatePositionRewarders(s,a){const et=await this.getPositionRewarders(s,a.pos_object_id);return{...a,...et}}async getPositionRewarders(s,a){try{const et=await this._sdk.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:a}}),at=getObjectFields(et.data).value.fields.value;return buildPositionReward(at)}catch(et){console.log(et);return}}async fetchPosFeeAmount(s){var Ct;const{clmm_pool:a,integrate:et,simulationAccount:nt}=this.sdk.sdkOptions,at=new Transaction;for(const Dt of s){const Ft=[Dt.coinTypeA,Dt.coinTypeB],jt=[at.object(getPackagerConfigs(a).global_config_id),at.object(Dt.poolAddress),at.pure.address(Dt.positionId)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft})}if(!checkInvalidSuiAddress$1(nt.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const mt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address});if(mt.error!=null)throw new ClmmpoolsError(`fetch position fee error code: ${mt.error??"unknown error"}, please check config and postion and pool object ids`,"InvalidPoolObject");const wt=(Ct=mt.events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="FetchPositionFeesEvent");if(wt.length===0)return[];const $t=[];for(let Dt=0;Dt<wt.length;Dt+=1){const{parsedJson:Ft}=wt[Dt],jt={feeOwedA:new BN(Ft.fee_owned_a),feeOwedB:new BN(Ft.fee_owned_b),position_id:Ft.position_id};$t.push(jt)}return $t}async batchFetchPositionFees(s){const a=[];for(const nt of s){const at=await this._sdk.Position.getPositionById(nt,!1),mt=await this._sdk.Pool.getPool(at.pool,!1);a.push({poolAddress:mt.poolAddress,positionId:at.pos_object_id,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB})}const et={};if(a.length>0){const nt=await this.fetchPosFeeAmount(a);for(const at of nt)et[at.position_id]=at;return et}return et}async createAddLiquidityFixTokenPayload(s,a,et,nt,at){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const mt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(a){const{isAdjustCoinA:wt,isAdjustCoinB:$t}=findAdjustCoin(s);if(s=s,s.fix_amount_a&&wt||!s.fix_amount_a&&$t)return et=await TransactionUtil.buildAddLiquidityFixTokenForGas(this._sdk,mt,s,a,et,nt,at),et}return TransactionUtil.buildAddLiquidityFixToken(this._sdk,mt,s,et,nt,at)}async createAddLiquidityPayload(s,a,et,nt){const{integrate:at,clmm_pool:mt}=this._sdk.sdkOptions;if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const wt=asUintN(BigInt(s.tick_lower)).toString(),$t=asUintN(BigInt(s.tick_upper)).toString(),Ct=[s.coinTypeA,s.coinTypeB];a=a||new Transaction;const Dt=!isValidSuiObjectId$1(s.pos_id),Ft=BigInt(s.max_amount_a),jt=BigInt(s.max_amount_b);let Nt,Lt;if(et==null||nt==null){const Ut=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);Nt=TransactionUtil.buildCoinForAmount(a,Ut,Ft,s.coinTypeA,!1,!0),Lt=TransactionUtil.buildCoinForAmount(a,Ut,jt,s.coinTypeB,!1,!0)}else Nt={targetCoin:et,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},Lt={targetCoin:nt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"};if(Dt)a.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::open_position_with_liquidity`,typeArguments:Ct,arguments:[a.object(getPackagerConfigs(mt).global_config_id),a.object(s.pool_id),a.pure.u32(Number(wt)),a.pure.u32(Number($t)),Nt.targetCoin,Lt.targetCoin,a.pure.u64(s.max_amount_a),a.pure.u64(s.max_amount_b),a.pure.u128(s.delta_liquidity),a.object(CLOCK_ADDRESS$1)]});else{const Ut=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);a=TransactionUtil.createCollectRewarderAndFeeParams(this.sdk,a,s,Ut,Nt.remainCoins,Lt.remainCoins),a.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity`,typeArguments:Ct,arguments:[a.object(getPackagerConfigs(mt).global_config_id),a.object(s.pool_id),a.object(s.pos_id),Nt.targetCoin,Lt.targetCoin,a.pure.u64(s.max_amount_a),a.pure.u64(s.max_amount_b),a.pure.u128(s.delta_liquidity),a.object(CLOCK_ADDRESS$1)]})}return a}async removeLiquidityTransactionPayload(s,a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:et,integrate:nt}=this.sdk.sdkOptions,at="remove_liquidity";a=a||new Transaction;const mt=[s.coinTypeA,s.coinTypeB],wt=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);a=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,a,s,wt);const $t=[a.object(getPackagerConfigs(et).global_config_id),a.object(s.pool_id),a.object(s.pos_id),a.pure.u128(s.delta_liquidity),a.pure.u64(s.min_amount_a),a.pure.u64(s.min_amount_b),a.object(CLOCK_ADDRESS$1)];return a.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::${at}`,typeArguments:mt,arguments:$t}),a}async closePositionTransactionPayload(s,a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const{clmm_pool:et,integrate:nt}=this.sdk.sdkOptions;a=a||new Transaction;const at=[s.coinTypeA,s.coinTypeB],mt=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress);return a=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,a,s,mt),a.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::close_position`,typeArguments:at,arguments:[a.object(getPackagerConfigs(et).global_config_id),a.object(s.pool_id),a.object(s.pos_id),a.pure.u64(s.min_amount_a),a.pure.u64(s.min_amount_b),a.object(CLOCK_ADDRESS$1)]}),a}openPositionTransactionPayload(s,a){const{clmm_pool:et,integrate:nt}=this.sdk.sdkOptions;a=a||new Transaction;const at=[s.coinTypeA,s.coinTypeB],mt=asUintN(BigInt(s.tick_lower)).toString(),wt=asUintN(BigInt(s.tick_upper)).toString(),$t=[a.object(getPackagerConfigs(et).global_config_id),a.object(s.pool_id),a.pure.u32(Number(mt)),a.pure.u32(Number(wt))];return a.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::open_position`,typeArguments:at,arguments:$t}),a}async collectFeeTransactionPayload(s,a,et,nt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");a=a||new Transaction;const at=et||TransactionUtil.buildCoinWithBalance(BigInt(0),s.coinTypeA),mt=nt||TransactionUtil.buildCoinWithBalance(BigInt(0),s.coinTypeB);return this.createCollectFeePaylod(s,a,at,mt),a}createCollectFeePaylod(s,a,et,nt){const{clmm_pool:at,integrate:mt}=this.sdk.sdkOptions,wt=[s.coinTypeA,s.coinTypeB],$t=[a.object(getPackagerConfigs(at).global_config_id),a.object(s.pool_id),a.object(s.pos_id),et,nt];return a.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolV2Module}::collect_fee`,typeArguments:wt,arguments:$t}),a}createCollectFeeNoSendPaylod(s,a,et,nt){const{clmm_pool:at,integrate:mt}=this.sdk.sdkOptions,wt=[s.coinTypeA,s.coinTypeB],$t=[a.object(getPackagerConfigs(at).global_config_id),a.object(s.pool_id),a.object(s.pos_id),et,nt];return a.moveCall({target:`${mt.published_at}::${ClmmIntegratePoolV3Module}::collect_fee`,typeArguments:wt,arguments:$t}),a}async calculateFee(s){const a=await this.collectFeeTransactionPayload(s);if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:a,sender:this.sdk.senderAddress});for(const nt of et.events)if(extractStructTagFromType$1(nt.type).name==="CollectFeeEvent"){const at=nt.parsedJson;return{feeOwedA:at.amount_a,feeOwedB:at.amount_b}}return{feeOwedA:"0",feeOwedB:"0"}}updateCache(s,a,et=cacheTime5min){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){const et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}},RewarderModule=class{constructor(s){sn(this,"_sdk");sn(this,"growthGlobal");this._sdk=s,this.growthGlobal=[ZERO$1,ZERO$1,ZERO$1]}get sdk(){return this._sdk}async emissionsEveryDay(s){const et=(await this.sdk.Pool.getPool(s)).rewarder_infos;if(!et)return null;const nt=[];for(const at of et){const mt=MathUtil.fromX64(new BN(at.emissions_per_second));nt.push({emissions:Math.floor(mt.toNumber()*60*60*24),coin_address:at.coinAddress})}return nt}async updatePoolRewarder(s,a){const et=await this.sdk.Pool.getPool(s),nt=et.rewarder_last_updated_time;if(et.rewarder_last_updated_time=a.toString(),Number(et.liquidity)===0||a.eq(new BN(nt)))return et;const at=a.div(new BN(1e3)).sub(new BN(nt)).add(new BN(15)),mt=et.rewarder_infos;for(let wt=0;wt<mt.length;wt+=1){const $t=mt[wt],Ct=MathUtil.checkMulDivFloor(at,new BN($t.emissions_per_second),new BN(et.liquidity),128);this.growthGlobal[wt]=new BN($t.growth_global).add(new BN(Ct))}return et}async posRewardersAmount(s,a,et){const nt=Date.parse(new Date().toString()),at=await this.updatePoolRewarder(s,new BN(nt)),mt=await this.sdk.Position.getPositionRewarders(a,et);if(mt===void 0)return[];const wt=at.ticks_handle,$t=await this.sdk.Pool.getTickDataByIndex(wt,mt.tick_lower_index),Ct=await this.sdk.Pool.getTickDataByIndex(wt,mt.tick_upper_index);return this.posRewardersAmountInternal(at,mt,$t,Ct)}async poolRewardersAmount(s,a){const et=Date.parse(new Date().toString()),nt=await this.updatePoolRewarder(a,new BN(et)),at=await this.sdk.Position.getPositionList(s,[a]),mt=await this.getPoolLowerAndUpperTicks(nt.ticks_handle,at),wt=[ZERO$1,ZERO$1,ZERO$1];for(let $t=0;$t<at.length;$t+=1){const Ct=await this.posRewardersAmountInternal(nt,at[$t],mt[0][$t],mt[1][$t]);for(let Dt=0;Dt<3;Dt+=1)wt[Dt]=wt[Dt].add(Ct[Dt].amount_owed)}return wt}posRewardersAmountInternal(s,a,et,nt){const at=a.tick_lower_index,mt=a.tick_upper_index,wt=getRewardInTickRange(s,et,nt,at,mt,this.growthGlobal),$t=[],Ct=[];if(wt.length>0){let Dt=MathUtil.subUnderflowU128(wt[0],new BN(a.reward_growth_inside_0));Dt.gt(new BN("3402823669209384634633745948738404"))&&(Dt=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(a.liquidity),Dt,64,128);$t.push(wt[0]),Ct.push({amount_owed:new BN(a.reward_amount_owed_0).add(Ft),coin_address:s.rewarder_infos[0].coinAddress})}if(wt.length>1){let Dt=MathUtil.subUnderflowU128(wt[1],new BN(a.reward_growth_inside_1));Dt.gt(new BN("3402823669209384634633745948738404"))&&(Dt=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(a.liquidity),Dt,64,128);$t.push(wt[1]),Ct.push({amount_owed:new BN(a.reward_amount_owed_1).add(Ft),coin_address:s.rewarder_infos[1].coinAddress})}if(wt.length>2){let Dt=MathUtil.subUnderflowU128(wt[2],new BN(a.reward_growth_inside_2));Dt.gt(new BN("3402823669209384634633745948738404"))&&(Dt=ONE);const Ft=MathUtil.checkMulShiftRight(new BN(a.liquidity),Dt,64,128);$t.push(wt[2]),Ct.push({amount_owed:new BN(a.reward_amount_owed_2).add(Ft),coin_address:s.rewarder_infos[2].coinAddress})}return Ct}async batchFetchPositionRewarders(s){const a=[];for(const nt of s){const at=await this._sdk.Position.getPositionById(nt,!1),mt=await this._sdk.Pool.getPool(at.pool,!1);a.push({poolAddress:mt.poolAddress,positionId:at.pos_object_id,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB,rewarderInfo:mt.rewarder_infos})}const et={};if(a.length>0){const nt=await this.fetchPosRewardersAmount(a);for(const at of nt)et[at.positionId]=at.rewarderAmountOwed;return et}return et}async fetchPositionRewarders(s,a){const et={poolAddress:s.poolAddress,positionId:a,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB,rewarderInfo:s.rewarder_infos};return(await this.fetchPosRewardersAmount([et]))[0].rewarderAmountOwed}async batchFetchPositionFees(s){const a=[];for(const nt of s){const at=await this._sdk.Position.getPositionById(nt,!1),mt=await this._sdk.Pool.getPool(at.pool,!1);a.push({poolAddress:mt.poolAddress,positionId:at.pos_object_id,coinTypeA:mt.coinTypeA,coinTypeB:mt.coinTypeB})}const et={};if(a.length>0){const nt=await this.fetchPosFeeAmount(a);for(const at of nt)et[at.position_id]=at;return et}return et}async fetchPosFeeAmount(s){var Ct;const{clmm_pool:a,integrate:et,simulationAccount:nt}=this.sdk.sdkOptions,at=new Transaction;for(const Dt of s){const Ft=[Dt.coinTypeA,Dt.coinTypeB],jt=[at.object(getPackagerConfigs(a).global_config_id),at.object(Dt.poolAddress),at.pure.address(Dt.positionId)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft})}const wt=(Ct=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address})).events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="FetchPositionFeesEvent");if(wt.length===0)return[];const $t=[];for(let Dt=0;Dt<wt.length;Dt+=1){const{parsedJson:Ft}=wt[Dt],jt={feeOwedA:new BN(Ft.fee_owned_a),feeOwedB:new BN(Ft.fee_owned_b),position_id:Ft.position_id};$t.push(jt)}return $t}async fetchPosRewardersAmount(s){var Ct;const{clmm_pool:a,integrate:et,simulationAccount:nt}=this.sdk.sdkOptions,at=new Transaction;for(const Dt of s){const Ft=[Dt.coinTypeA,Dt.coinTypeB],jt=[at.object(getPackagerConfigs(a).global_config_id),at.object(Dt.poolAddress),at.pure.address(Dt.positionId),at.object(CLOCK_ADDRESS$1)];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:jt,typeArguments:Ft})}if(!checkInvalidSuiAddress$1(nt.address))throw new ClmmpoolsError(`this config simulationAccount: ${nt.address} is not set right`,"InvalidSimulateAccount");const mt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address});if(mt.error!=null)throw new ClmmpoolsError(`fetch position rewards error code: ${mt.error??"unknown error"}, please check config and params`,"InvalidConfig");const wt=(Ct=mt.events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="FetchPositionRewardsEvent");if(wt.length===0)return[];if(wt.length!==s.length)throw new ClmmpoolsError("valueData.length !== params.pools.length");const $t=[];for(let Dt=0;Dt<wt.length;Dt+=1){const Ft={poolAddress:s[Dt].poolAddress,positionId:s[Dt].positionId,rewarderAmountOwed:[]};for(let jt=0;jt<s[Dt].rewarderInfo.length;jt+=1)Ft.rewarderAmountOwed.push({amount_owed:new BN(wt[Dt].parsedJson.data[jt]),coin_address:s[Dt].rewarderInfo[jt].coinAddress});$t.push(Ft)}return $t}async fetchPoolRewardersAmount(s,a){const et=await this.sdk.Pool.getPool(a),nt=await this.sdk.Position.getPositionList(s,[a]),at=[];for(const $t of nt)at.push({poolAddress:et.poolAddress,positionId:$t.pos_object_id,rewarderInfo:et.rewarder_infos,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB});const mt=await this.fetchPosRewardersAmount(at),wt=[ZERO$1,ZERO$1,ZERO$1];if(mt!=null)for(const $t of mt)for(let Ct=0;Ct<$t.rewarderAmountOwed.length;Ct+=1)wt[Ct]=wt[Ct].add($t.rewarderAmountOwed[Ct].amount_owed);return wt}async getPoolLowerAndUpperTicks(s,a){const et=[],nt=[];for(const at of a){const mt=await this.sdk.Pool.getTickDataByIndex(s,at.tick_lower_index),wt=await this.sdk.Pool.getTickDataByIndex(s,at.tick_upper_index);et.push(mt),nt.push(wt)}return[et,nt]}async collectRewarderTransactionPayload(s){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const a=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);let et=new Transaction;return et=TransactionUtil.createCollectRewarderAndFeeParams(this._sdk,et,s,a),et}async batchCollectRewardePayload(s,a,et,nt){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const at=await this.sdk.getOwnerCoinAssets(this.sdk.senderAddress,null);a=a||new Transaction;const mt={};return s.forEach(wt=>{const $t=normalizeCoinType$1(wt.coinTypeA),Ct=normalizeCoinType$1(wt.coinTypeB);if(wt.collect_fee){let Ft=mt[$t];Ft==null&&(et==null?Ft=TransactionUtil.buildCoinForAmount(a,at,BigInt(0),$t,!1):Ft={targetCoin:et,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},mt[$t]=Ft);let jt=mt[Ct];jt==null&&(nt==null?jt=TransactionUtil.buildCoinForAmount(a,at,BigInt(0),Ct,!1):jt={targetCoin:nt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},mt[Ct]=jt),a=this._sdk.Position.createCollectFeeNoSendPaylod({pool_id:wt.pool_id,pos_id:wt.pos_id,coinTypeA:wt.coinTypeA,coinTypeB:wt.coinTypeB},a,Ft.targetCoin,jt.targetCoin)}const Dt=[];wt.rewarder_coin_types.forEach(Ft=>{const jt=normalizeCoinType$1(Ft);let Nt=mt[Ft];Nt===void 0&&(Nt=TransactionUtil.buildCoinForAmount(a,at,BigInt(0),jt,!1),mt[jt]=Nt),Dt.push(Nt.targetCoin)}),a=this.createCollectRewarderNoSendPaylod(wt,a,Dt)}),Object.keys(mt).forEach(wt=>{const $t=mt[wt];$t.isMintZeroCoin&&TransactionUtil.buildTransferCoin(this.sdk,a,$t.targetCoin,wt,this.sdk.senderAddress)}),a}createCollectRewarderPaylod(s,a,et){const{clmm_pool:nt,integrate:at}=this.sdk.sdkOptions,mt=getPackagerConfigs(nt),wt=[s.coinTypeA,s.coinTypeB];return s.rewarder_coin_types.forEach(($t,Ct)=>{a&&a.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::collect_reward`,typeArguments:[...wt,$t],arguments:[a.object(mt.global_config_id),a.object(s.pool_id),a.object(s.pos_id),a.object(mt.global_vault_id),et[Ct],a.object(CLOCK_ADDRESS$1)]})}),a}createCollectRewarderNoSendPaylod(s,a,et){const{clmm_pool:nt,integrate:at}=this.sdk.sdkOptions,mt=getPackagerConfigs(nt),wt=[s.coinTypeA,s.coinTypeB];return s.rewarder_coin_types.forEach(($t,Ct)=>{a&&a.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV3Module}::collect_reward`,typeArguments:[...wt,$t],arguments:[a.object(mt.global_config_id),a.object(s.pool_id),a.object(s.pos_id),a.object(mt.global_vault_id),et[Ct],a.object(CLOCK_ADDRESS$1)]})}),a}};function _pairSymbol(s,a){return{pair:`${s}-${a}`,reversePair:`${a}-${s}`}}var RouterModule=class{constructor(s){sn(this,"graph");sn(this,"pathProviders");sn(this,"coinProviders");sn(this,"_coinAddressMap");sn(this,"poolAddressMap");sn(this,"_sdk");this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new Graph(!1),this._coinAddressMap=new Map,this.poolAddressMap=new Map,this._sdk=s,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.preRouterSwapA2B2C=this.preRouterSwapA2B2C.bind(this),this.price=this.price.bind(this),this.getPoolWithTVL=this.getPoolWithTVL.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(s,a){const{pair:et,reversePair:nt}=_pairSymbol(s,a);let at=this.poolAddressMap.get(et);if(at!=null)return{addressMap:at,direction:!0};if(at=this.poolAddressMap.get(nt),at!=null)return{addressMap:at,direction:!1}}setCoinList(){this.coinProviders.coins.forEach(s=>{this._coinAddressMap.set(s.address,s)})}loadGraph(s,a){this.addCoinProvider(s),this.addPathProvider(a),this.setCoinList(),this.pathProviders.forEach(et=>{const{paths:nt}=et;nt.forEach(at=>{const mt=this.graph.getVertexByKey(at.base)??new GraphVertex(at.base),wt=this.graph.getVertexByKey(at.quote)??new GraphVertex(at.quote);this.graph.addEdge(new GraphEdge(mt,wt));const $t=this._coinAddressMap.get(at.base),Ct=this._coinAddressMap.get(at.quote);if($t!=null&&Ct!=null){const Dt=_pairSymbol(at.base,at.quote).pair;this.poolAddressMap.set(Dt,at.addressMap)}})})}addPathProvider(s){for(let a=0;a<s.paths.length;a+=1){const{base:et,quote:nt}=s.paths[a];et.localeCompare(nt)<0&&(s.paths[a].base=nt,s.paths[a].quote=et),et==="0x2::sui::SUI"&&(s.paths[a].base=nt,s.paths[a].quote=et),nt==="0x2::sui::SUI"&&(s.paths[a].base=et,s.paths[a].quote=nt)}return this.pathProviders.push(s),this}addCoinProvider(s){return this.coinProviders=s,this}tokenInfo(s){return this._coinAddressMap.get(s)}getFeeRate(s,a,et){const nt=_pairSymbol(s,a).pair,at=this.poolAddressMap.get(nt);if(at!=null){for(const[$t,Ct]of at.entries())if(Ct===et)return $t*100}const mt=_pairSymbol(s,a).reversePair,wt=this.poolAddressMap.get(mt);if(wt!=null){for(const[$t,Ct]of wt.entries())if(Ct===et)return $t*100}return 0}async price(s,a,et,nt,at,mt,wt){const $t=this.tokenInfo(s),Ct=this.tokenInfo(a);if($t===void 0||Ct===void 0)throw new ClmmpoolsError("From/To coin is undefined","InvalidCoin");const Dt=this.graph.getVertexByKey($t.address),Ft=this.graph.getVertexByKey(Ct.address),jt=this.graph.findAllPath(Dt,Ft),Nt=Array.from(jt);if(Nt.length===0)throw new ClmmpoolsError("No find valid path in coin graph","NotFoundPath");let Lt=[];for(let Sr=0;Sr<Nt.length;Sr+=1){const wr=Nt[Sr];if(wr.length>3)continue;const fr=[],_r=[],ir=[],rr=[];for(let or=0;or<wr.length-1;or+=1){const ar=wr[or].value.toString(),ur=wr[or+1].value.toString(),pr=this.getPoolAddressMapAndDirection(ar,ur),cr=pr==null?void 0:pr.addressMap,gr=pr==null?void 0:pr.direction;cr!=null&&gr!=null&&(_r.push(gr),fr.push(ar),fr.push(ur),cr.forEach(hr=>{or===0?ir.push(hr):rr.push(hr)}))}for(const or of ir)if(rr.length>0)for(const ar of rr){const ur={stepNums:2,poolAB:or,poolBC:ar,a2b:_r[0],b2c:_r[1],amount:et,byAmountIn:nt,coinTypeA:fr[0],coinTypeB:fr[1],coinTypeC:fr[3]};Lt.push(ur)}else{const ar={stepNums:1,poolAB:or,poolBC:void 0,a2b:_r[0],b2c:void 0,amount:et,byAmountIn:nt,coinTypeA:fr[0],coinTypeB:fr[1],coinTypeC:void 0};Lt.push(ar)}}const Ut=Lt.filter(Sr=>Sr.stepNums===1),Vt=Lt.filter(Sr=>Sr.stepNums!==1);let Yt=[];try{Yt=await this.getPoolWithTVL()}catch{Yt=[]}if(Yt.length>0){const Sr=new Map(Yt.map(wr=>[wr.poolAddress,wr]));Vt.sort((wr,fr)=>{let _r=0,ir=0;if(Sr.has(wr.poolAB)&&Sr.has(wr.poolBC)){const rr=Sr.get(wr.poolAB),or=Sr.get(wr.poolBC);_r=Math.min(rr.tvl,or.tvl)}if(Sr.has(fr.poolAB)&&Sr.has(fr.poolBC)){const rr=Sr.get(fr.poolAB),or=Sr.get(fr.poolBC);ir=Math.min(rr.tvl,or.tvl)}return ir-_r})}if(Lt=[...Ut,...Vt],Lt.length===0){if(wt!=null){const Sr=await this.sdk.Swap.preSwapWithMultiPool(wt),wr={amountIn:new BN(Sr.estimatedAmountIn),amountOut:new BN(Sr.estimatedAmountOut),poolAddress:[Sr.poolAddress],a2b:[Sr.aToB],rawAmountLimit:nt?[Sr.estimatedAmountOut]:[Sr.estimatedAmountIn],isExceed:Sr.isExceed,coinType:[s,a]},fr={paths:[wr],partner:mt,priceSlippagePoint:at};return{amountIn:new BN(Sr.estimatedAmountIn),amountOut:new BN(Sr.estimatedAmountOut),paths:[wr],a2b:Sr.aToB,b2c:void 0,byAmountIn:nt,isExceed:Sr.isExceed,targetSqrtPrice:[Sr.estimatedEndSqrtPrice],currentSqrtPrice:[Sr.estimatedStartSqrtPrice],coinTypeA:s,coinTypeB:a,coinTypeC:void 0,createTxParams:fr}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}const er=await this.preRouterSwapA2B2C(Lt.slice(0,16));if(er==null){if(wt!=null){const wr=await this.sdk.Swap.preSwapWithMultiPool(wt),fr={amountIn:new BN(wr.estimatedAmountIn),amountOut:new BN(wr.estimatedAmountOut),poolAddress:[wr.poolAddress],a2b:[wr.aToB],rawAmountLimit:nt?[wr.estimatedAmountOut]:[wr.estimatedAmountIn],isExceed:wr.isExceed,coinType:[s,a]},_r={paths:[fr],partner:mt,priceSlippagePoint:at};return{amountIn:new BN(wr.estimatedAmountIn),amountOut:new BN(wr.estimatedAmountOut),paths:[fr],a2b:wr.aToB,b2c:void 0,byAmountIn:nt,isExceed:wr.isExceed,targetSqrtPrice:[wr.estimatedEndSqrtPrice],currentSqrtPrice:[wr.estimatedStartSqrtPrice],coinTypeA:s,coinTypeB:a,coinTypeC:void 0,createTxParams:_r}}return{amountIn:ZERO$1,amountOut:ZERO$1,paths:[],a2b:!1,b2c:!1,byAmountIn:nt,isExceed:!0,targetSqrtPrice:[],currentSqrtPrice:[],coinTypeA:"",coinTypeB:"",coinTypeC:void 0,createTxParams:void 0}}const tr=er.index,nr=Lt[tr].poolBC!=null?[Lt[tr].poolAB,Lt[tr].poolBC]:[Lt[tr].poolAB],sr=nt?[er.amountMedium,er.amountOut]:[er.amountIn,er.amountMedium],dr=[];dr.push(Lt[tr].a2b),er.stepNum>1&&dr.push(Lt[tr].b2c);const br=[];br.push(Lt[tr].coinTypeA),br.push(Lt[tr].coinTypeB),er.stepNum>1&&br.push(Lt[tr].coinTypeC);const vr={amountIn:er.amountIn,amountOut:er.amountOut,poolAddress:nr,a2b:dr,rawAmountLimit:sr,isExceed:er.isExceed,coinType:br},yr={paths:[vr],partner:mt,priceSlippagePoint:at};return{amountIn:er.amountIn,amountOut:er.amountOut,paths:[vr],a2b:Lt[tr].a2b,b2c:er.stepNum>1?Lt[tr].b2c:void 0,byAmountIn:nt,isExceed:er.isExceed,targetSqrtPrice:er.targetSqrtPrice,currentSqrtPrice:er.currentSqrtPrice,coinTypeA:Lt[tr].coinTypeA,coinTypeB:Lt[tr].coinTypeB,coinTypeC:er.stepNum>1?Lt[tr].coinTypeC:void 0,createTxParams:yr}}async priceUseV1(s,a,et,nt,at,mt,wt){if(wt!=null){const $t=await this.sdk.Swap.preSwapWithMultiPool(wt),Ct={amountIn:new BN($t.estimatedAmountIn),amountOut:new BN($t.estimatedAmountOut),poolAddress:[$t.poolAddress],a2b:[$t.aToB],rawAmountLimit:nt?[$t.estimatedAmountOut]:[$t.estimatedAmountIn],isExceed:$t.isExceed,coinType:[s,a]},Dt={paths:[Ct],partner:mt,priceSlippagePoint:at};return{amountIn:new BN($t.estimatedAmountIn),amountOut:new BN($t.estimatedAmountOut),paths:[Ct],a2b:$t.aToB,b2c:void 0,byAmountIn:nt,isExceed:$t.isExceed,targetSqrtPrice:[$t.estimatedEndSqrtPrice],currentSqrtPrice:[$t.estimatedStartSqrtPrice],coinTypeA:s,coinTypeB:a,coinTypeC:void 0,createTxParams:Dt}}throw new ClmmpoolsError("No parameters available for service downgrade","NoDowngradeNeedParams")}async preRouterSwapA2B2C(s){var jt;if(s.length===0)return null;const{integrate:a,simulationAccount:et}=this.sdk.sdkOptions,nt=new Transaction;for(const Nt of s)if(Nt.stepNums>1){const Lt=[nt.object(Nt.poolAB),nt.object(Nt.poolBC),nt.pure.bool(Nt.a2b),nt.pure.bool(Nt.b2c),nt.pure.bool(Nt.byAmountIn),nt.pure.u64(Nt.amount.toString())],Ut=[];Nt.a2b?Ut.push(Nt.coinTypeA,Nt.coinTypeB):Ut.push(Nt.coinTypeB,Nt.coinTypeA),Nt.b2c?Ut.push(Nt.coinTypeB,Nt.coinTypeC):Ut.push(Nt.coinTypeC,Nt.coinTypeB),nt.moveCall({target:`${a.published_at}::${ClmmIntegrateRouterModule}::calculate_router_swap_result`,typeArguments:Ut,arguments:Lt})}else{const Lt=[nt.object(Nt.poolAB),nt.pure.bool(Nt.a2b),nt.pure.bool(Nt.byAmountIn),nt.pure.u64(Nt.amount.toString())],Ut=Nt.a2b?[Nt.coinTypeA,Nt.coinTypeB]:[Nt.coinTypeB,Nt.coinTypeA];nt.moveCall({target:`${a.published_at}::${ClmmExpectSwapModule}::get_expect_swap_result`,arguments:Lt,typeArguments:Ut})}if(!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const mt=(jt=(await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:et.address})).events)==null?void 0:jt.filter(Nt=>extractStructTagFromType$1(Nt.type).name==="CalculatedRouterSwapResultEvent"||extractStructTagFromType$1(Nt.type).name==="ExpectSwapResultEvent");if(mt.length===0)return null;let wt=s[0].byAmountIn?ZERO$1:U64_MAX,$t=0;for(let Nt=0;Nt<mt.length;Nt+=1)if(!mt[Nt].parsedJson.data.is_exceed)if(s[0].byAmountIn){const Lt=new BN(mt[Nt].parsedJson.data.amount_out);Lt.gt(wt)&&($t=Nt,wt=Lt)}else{const Lt=s[Nt].stepNums>1?new BN(mt[Nt].parsedJson.data.amount_in):new BN(mt[Nt].parsedJson.data.amount_in).add(new BN(mt[Nt].parsedJson.data.fee_amount));Lt.lt(wt)&&($t=Nt,wt=Lt)}const Ct=[],Dt=[];return s[$t].stepNums>1?(Dt.push(mt[$t].parsedJson.data.target_sqrt_price_ab,mt[$t].parsedJson.data.target_sqrt_price_cd),Ct.push(mt[$t].parsedJson.data.current_sqrt_price_ab,mt[$t].parsedJson.data.current_sqrt_price_cd)):(Dt.push(mt[$t].parsedJson.data.after_sqrt_price),Ct.push(mt[$t].parsedJson.current_sqrt_price)),{index:$t,amountIn:s[0].byAmountIn?s[$t].amount:wt,amountMedium:mt[$t].parsedJson.data.amount_medium,amountOut:s[0].byAmountIn?wt:s[$t].amount,targetSqrtPrice:Dt,currentSqrtPrice:Ct,isExceed:mt[$t].parsedJson.data.is_exceed,stepNum:s[$t].stepNums}}async getPoolWithTVL(){const s=[],{swapCountUrl:a}=this._sdk.sdkOptions;if(!a)return s;let et;try{et=await fetch(a)}catch{throw new ClmmpoolsError(`Failed to get pool list with liquidity from ${a}.`,"InvalidSwapCountUrl")}let nt;try{nt=await et.json()}catch{throw new ClmmpoolsError(`Failed tp [arse response from ${a}].`,"InvalidSwapCountUrl")}if(nt.code!==200)throw new ClmmpoolsError(`Failed to get pool list from ${a}. Statu code is ${nt.code}.`,"InvalidSwapCountUrl");const{pools:at}=nt.data;for(const mt of at)s.push({poolAddress:mt.swap_account,tvl:Number(mt.tvl_in_usd)});return s}},SwapModule=class{constructor(s){sn(this,"_sdk");sn(this,"calculateSingleImpact",(s,a)=>a.minus(s).div(a).mul(100));this._sdk=s}get sdk(){return this._sdk}calculateSwapFee(s){let a=d$3(0);return s.forEach(et=>{const nt=et.basePaths.length;if(nt>0){const at=et.basePaths[0],mt=at.label==="Cetus"?new Decimal$1(at.feeRate).div(10**6):new Decimal$1(at.feeRate).div(10**9),wt=d$3(at.inputAmount).div(10**at.fromDecimal).mul(mt);if(a=a.add(wt),nt>1){const $t=et.basePaths[1],Ct=at.direction?at.currentPrice:new Decimal$1(1).div(at.currentPrice),Dt=$t.direction?$t.currentPrice:new Decimal$1(1).div($t.currentPrice),Ft=$t.label==="Cetus"?new Decimal$1($t.feeRate).div(10**6):new Decimal$1($t.feeRate).div(10**9),Nt=d$3($t.outputAmount).div(10**$t.toDecimal).mul(Ft).div(Ct.mul(Dt));a=a.add(Nt)}}}),a.toString()}calculateSwapPriceImpact(s){let a=d$3(0);return s.forEach(et=>{const nt=et.basePaths.length;if(nt===1){const at=et.basePaths[0],mt=d$3(at.outputAmount).div(10**at.toDecimal),wt=d$3(at.inputAmount).div(10**at.fromDecimal),$t=mt.div(wt),Ct=at.direction?new Decimal$1(at.currentPrice):new Decimal$1(1).div(at.currentPrice);a=a.add(this.calculateSingleImpact($t,Ct))}if(nt===2){const at=et.basePaths[0],mt=et.basePaths[1],wt=at.direction?new Decimal$1(at.currentPrice):new Decimal$1(1).div(at.currentPrice),$t=mt.direction?new Decimal$1(mt.currentPrice):new Decimal$1(1).div(mt.currentPrice),Ct=wt.mul($t),Dt=new Decimal$1(mt.outputAmount).div(10**mt.toDecimal),Ft=new Decimal$1(at.inputAmount).div(10**at.fromDecimal),jt=Dt.div(Ft);a=a.add(this.calculateSingleImpact(jt,Ct))}}),a.toString()}async preSwapWithMultiPool(s){var Dt;const{integrate:a,simulationAccount:et}=this.sdk.sdkOptions,nt=new Transaction,at=[s.coinTypeA,s.coinTypeB];for(let Ft=0;Ft<s.poolAddresses.length;Ft+=1){const jt=[nt.object(s.poolAddresses[Ft]),nt.pure.bool(s.a2b),nt.pure.bool(s.byAmountIn),nt.pure.u64(s.amount)];nt.moveCall({target:`${a.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:jt,typeArguments:at})}if(!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const mt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:et.address});if(mt.error!=null)throw new ClmmpoolsError(`pre swap with multi pools error code: ${mt.error??"unknown error"}, please check config and params`,"InvalidConfig");const wt=(Dt=mt.events)==null?void 0:Dt.filter(Ft=>extractStructTagFromType$1(Ft.type).name==="CalculatedSwapResultEvent");if(wt.length===0)return null;if(wt.length!==s.poolAddresses.length)throw new ClmmpoolsError("valueData.length !== params.pools.length","ParamsLengthNotEqual");let $t=s.byAmountIn?ZERO$1:U64_MAX,Ct=0;for(let Ft=0;Ft<wt.length;Ft+=1)if(!wt[Ft].parsedJson.data.is_exceed)if(s.byAmountIn){const jt=new BN(wt[Ft].parsedJson.data.amount_out);jt.gt($t)&&(Ct=Ft,$t=jt)}else{const jt=new BN(wt[Ft].parsedJson.data.amount_out);jt.lt($t)&&(Ct=Ft,$t=jt)}return this.transformSwapWithMultiPoolData({poolAddress:s.poolAddresses[Ct],a2b:s.a2b,byAmountIn:s.byAmountIn,amount:s.amount,coinTypeA:s.coinTypeA,coinTypeB:s.coinTypeB},wt[Ct].parsedJson)}async preswap(s){var Ct;const{integrate:a,simulationAccount:et}=this.sdk.sdkOptions,nt=new Transaction,at=[s.coinTypeA,s.coinTypeB],mt=[nt.object(s.pool.poolAddress),nt.pure.bool(s.a2b),nt.pure.bool(s.byAmountIn),nt.pure.u64(s.amount)];if(nt.moveCall({target:`${a.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:mt,typeArguments:at}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const wt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:et.address});if(wt.error!=null)throw new ClmmpoolsError(`preswap error code: ${wt.error??"unknown error"}, please check config and params`,"InvalidConfig");const $t=(Ct=wt.events)==null?void 0:Ct.filter(Dt=>extractStructTagFromType$1(Dt.type).name==="CalculatedSwapResultEvent");return $t.length===0?null:this.transformSwapData(s,$t[0].parsedJson.data)}transformSwapData(s,a){const et=a.amount_in&&a.fee_amount?new BN(a.amount_in).add(new BN(a.fee_amount)).toString():"";return{poolAddress:s.pool.poolAddress,currentSqrtPrice:s.currentSqrtPrice,estimatedAmountIn:et,estimatedAmountOut:a.amount_out,estimatedEndSqrtPrice:a.after_sqrt_price,estimatedFeeAmount:a.fee_amount,isExceed:a.is_exceed,amount:s.amount,aToB:s.a2b,byAmountIn:s.byAmountIn}}transformSwapWithMultiPoolData(s,a){const{data:et}=a;console.log("json data. ",et);const nt=et.amount_in&&et.fee_amount?new BN(et.amount_in).add(new BN(et.fee_amount)).toString():"";return{poolAddress:s.poolAddress,estimatedAmountIn:nt,estimatedAmountOut:et.amount_out,estimatedEndSqrtPrice:et.after_sqrt_price,estimatedStartSqrtPrice:et.step_results[0].current_sqrt_price,estimatedFeeAmount:et.fee_amount,isExceed:et.is_exceed,amount:s.amount,aToB:s.a2b,byAmountIn:s.byAmountIn}}calculateRates(s){const{currentPool:a}=s,et=transClmmpoolDataWithoutTicks(a);let nt;s.a2b?nt=s.swapTicks.sort((jt,Nt)=>Nt.index-jt.index):nt=s.swapTicks.sort((jt,Nt)=>jt.index-Nt.index);const at=computeSwap(s.a2b,s.byAmountIn,s.amount,et,nt);let mt=!1;s.byAmountIn?mt=at.amountIn.lt(s.amount):mt=at.amountOut.lt(s.amount);const wt=SwapUtils.getDefaultSqrtPriceLimit(s.a2b);s.a2b&&at.nextSqrtPrice.lt(wt)&&(mt=!0),!s.a2b&&at.nextSqrtPrice.gt(wt)&&(mt=!0);let $t=0;at.crossTickNum>6&&at.crossTickNum<40&&($t=22e3*(at.crossTickNum-6)),at.crossTickNum>40&&(mt=!0);const Ct=TickMath.sqrtPriceX64ToPrice(et.currentSqrtPrice,s.decimalsA,s.decimalsB).toNumber(),Dt=TickMath.sqrtPriceX64ToPrice(at.nextSqrtPrice,s.decimalsA,s.decimalsB).toNumber(),Ft=Math.abs(Ct-Dt)/Ct*100;return{estimatedAmountIn:at.amountIn,estimatedAmountOut:at.amountOut,estimatedEndSqrtPrice:at.nextSqrtPrice,estimatedFeeAmount:at.feeAmount,isExceed:mt,extraComputeLimit:$t,amount:s.amount,aToB:s.a2b,byAmountIn:s.byAmountIn,priceImpactPct:Ft}}async createSwapTransactionPayload(s,a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(a){const{isAdjustCoinA:nt,isAdjustCoinB:at}=findAdjustCoin(s);if(s.a2b&&nt||!s.a2b&&at)return await TransactionUtil.buildSwapTransactionForGas(this._sdk,s,et,a)}return TransactionUtil.buildSwapTransaction(this.sdk,s,et)}async createSwapTransactionWithoutTransferCoinsPayload(s,a){if(!checkInvalidSuiAddress$1(this.sdk.senderAddress))throw new ClmmpoolsError('Invalid sender address: cetus clmm sdk requires a valid sender address. Please set it using sdk.senderAddress = "0x..."',"InvalidSendAddress");const et=await this._sdk.getOwnerCoinAssets(this.sdk.senderAddress);if(a){const{isAdjustCoinA:nt,isAdjustCoinB:at}=findAdjustCoin(s);if(s.a2b&&nt||!s.a2b&&at)return await TransactionUtil.buildSwapTransactionWithoutTransferCoinsForGas(this._sdk,s,et,a)}return TransactionUtil.buildSwapTransactionWithoutTransferCoins(this.sdk,s,et)}},TokenModule=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getAllRegisteredTokenList(s=!1){return await this.factchTokenList("",s)}async getOwnerTokenList(s="",a=!1){return await this.factchTokenList(s,a)}async getAllRegisteredPoolList(s=!1){return await this.factchPoolList("",s)}async getOwnerPoolList(s="",a=!1){return await this.factchPoolList(s,a)}async getWarpPoolList(s=!1){return await this.factchWarpPoolList("","",s)}async getOwnerWarpPoolList(s="",a="",et=!1){return await this.factchWarpPoolList(s,a,et)}async getTokenListByCoinTypes(s){const a={},nt=this.getCache("getAllRegisteredTokenList");if(nt!==void 0){const mt=nt;for(const wt of s)for(const $t of mt)if(normalizeCoinType$1(wt)===normalizeCoinType$1($t.address)){a[wt]=$t;continue}}const at=s.filter(mt=>a[mt]===void 0);for(const mt of at){const wt=`${mt}_metadata`,$t=this.getCache(wt);if($t!==void 0)a[mt]=$t;else{const Ct=await this._sdk.fullClient.getCoinMetadata({coinType:mt});if(Ct){const Dt={id:Ct.id,name:Ct.name,symbol:Ct.symbol,official_symbol:Ct.symbol,coingecko_id:"",decimals:Ct.decimals,project_url:"",logo_url:Ct.iconUrl,address:mt};a[mt]=Dt,this.updateCache(wt,Dt,cacheTime24h)}}}return a}async factchTokenList(s="",a=!1){var jt;const{simulationAccount:et,token:nt}=this.sdk.sdkOptions,mt=this.getCache("getAllRegisteredTokenList",a);if(mt!==void 0)return mt;const wt=s.length>0,$t=512;let Ct=0,Dt=[];if(nt===void 0)throw Error("please config token ofsdkOptions");const Ft=getPackagerConfigs(nt);for(;;){const Nt=new Transaction;Nt.moveCall({target:`${nt.published_at}::coin_list::${wt?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:wt?[Nt.pure.address(Ft.coin_registry_id),Nt.pure.address(s),Nt.pure.u64(Ct),Nt.pure.u64($t)]:[Nt.pure.address(Ft.coin_registry_id),Nt.pure.u64(Ct),Nt.pure.u64($t)]});const Lt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Nt,sender:et.address}),Ut=[];if((jt=Lt.events)==null||jt.forEach(Vt=>{extractStructTagFromType$1(Vt.type).full_address===`${nt.published_at}::coin_list::FetchCoinListEvent`&&Vt.parsedJson.full_list.value_list.forEach(er=>{Ut.push(this.transformData(er,!1))})}),Dt=[...Dt,...Ut],Ut.length<$t)break;Ct=Dt.length}return Dt}async factchPoolList(s="",a=!1){var jt;const{simulationAccount:et,token:nt}=this.sdk.sdkOptions,mt=this.getCache("getAllRegisteredPoolList",a);if(mt!==void 0)return mt;let wt=[];const $t=512;let Ct=0;const Dt=s.length>0;if(nt===void 0)throw Error("please config token ofsdkOptions");const Ft=getPackagerConfigs(nt);for(;;){const Nt=new Transaction;if(Nt.moveCall({target:`${nt.published_at}::lp_list::${Dt?"fetch_full_list_with_limit":"fetch_all_registered_coin_info_with_limit"}`,arguments:Dt?[Nt.pure.address(Ft.pool_registry_id),Nt.pure.address(s),Nt.pure.u64(Ct),Nt.pure.u64($t)]:[Nt.pure.address(Ft.pool_registry_id),Nt.pure.u64(Ct),Nt.pure.u64($t)]}),!checkInvalidSuiAddress$1(et.address))throw new ClmmpoolsError("this config simulationAccount is not set right","InvalidSimulateAccount");const Lt=await this.sdk.fullClient.devInspectTransactionBlock({transactionBlock:Nt,sender:et.address}),Ut=[];if((jt=Lt.events)==null||jt.forEach(Vt=>{extractStructTagFromType$1(Vt.type).full_address===`${nt.published_at}::lp_list::FetchPoolListEvent`&&Vt.parsedJson.full_list.value_list.forEach(er=>{Ut.push(this.transformData(er,!0))})}),wt=[...wt,...Ut],Ut.length<$t)break;Ct=wt.length}return wt}async factchWarpPoolList(s="",a="",et=!1){const nt=await this.factchPoolList(s,et);if(nt.length===0)return[];const at=await this.factchTokenList(a,et),mt=[];for(const wt of nt){for(const $t of at)$t.address===wt.coin_a_address&&(wt.coinA=$t),$t.address===wt.coin_b_address&&(wt.coinB=$t);mt.push(wt)}return mt}async getTokenConfigEvent(s=!1){const a=this._sdk.sdkOptions.token.package_id,et=`${a}_getTokenConfigEvent`,nt=this.getCache(et,s);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:a,options:{showPreviousTransaction:!0}}),mt=getObjectPreviousTransactionDigest(at),wt=await this._sdk.fullClient.queryEventsByPage({Transaction:mt}),$t={coin_registry_id:"",pool_registry_id:"",coin_list_owner:"",pool_list_owner:""};return wt.data.length>0&&wt.data.forEach(Ct=>{const Dt=extractStructTagFromType$1(Ct.type);if(Ct.transactionModule==="coin_list")switch(Dt.name){case"InitListEvent":$t.coin_list_owner=Ct.parsedJson.list_id;break;case"InitRegistryEvent":$t.coin_registry_id=Ct.parsedJson.registry_id;break}else if(Ct.transactionModule==="lp_list")switch(Dt.name){case"InitListEvent<address>":$t.pool_list_owner=Ct.parsedJson.list_id;break;case"InitRegistryEvent<address>":$t.pool_registry_id=Ct.parsedJson.registry_id;break}}),$t.coin_registry_id.length>0&&this.updateCache(et,$t,cacheTime24h),$t}transformData(s,a){const et={...s};if(a)try{et.coin_a_address=extractStructTagFromType$1(et.coin_a_address).full_address,et.coin_b_address=extractStructTagFromType$1(et.coin_b_address).full_address}catch{}else et.address=extractStructTagFromType$1(et.address).full_address;if(s.extensions){const nt=s.extensions.contents;for(const at of nt){const{key:mt}=at;let{value:wt}=at;if(mt==="labels")try{wt=JSON.parse(decodeURIComponent(gBase64.decode(wt)))}catch{}mt==="pyth_id"&&(wt=normalizeSuiObjectId$1(wt)),et[mt]=wt}delete et.extensions}return et}updateCache(s,a,et=cacheTime5min){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){const et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}},RouterModuleV2=class{constructor(s){sn(this,"_sdk");this._sdk=s}get sdk(){return this._sdk}calculatePrice(s,a,et,nt,at){const mt=nt?a:et,wt=nt?et:a;return at==="Cetus"?TickMath.sqrtPriceX64ToPrice(s,mt,wt):new Decimal$1(s.toString()).div(new Decimal$1(10).pow(new Decimal$1(wt+9-mt)))}parseJsonResult(s){return{isExceed:s.is_exceed,isTimeout:s.is_timeout,inputAmount:s.input_amount,outputAmount:s.output_amount,fromCoin:s.from_coin,toCoin:s.to_coin,byAmountIn:s.by_amount_in,splitPaths:s.split_paths.map(et=>({pathIndex:et.path_index,lastQuoteOutput:et.last_quote_output,percent:et.percent,basePaths:et.best_path.map(at=>({direction:at.direction,label:at.label,poolAddress:at.provider,fromCoin:at.from_coin,toCoin:at.to_coin,outputAmount:at.output_amount,inputAmount:at.input_amount,feeRate:at.fee_rate,currentSqrtPrice:new BN(at.current_sqrt_price.toString()),afterSqrtPrice:at.label==="Cetus"?new BN(at.after_sqrt_price.toString()):ZERO$1,fromDecimal:at.from_decimal,toDecimal:at.to_decimal,currentPrice:this.calculatePrice(new BN(at.current_sqrt_price.toString()),at.from_decimal,at.to_decimal,at.direction,at.label)})),inputAmount:et.input_amount,outputAmount:et.output_amount}))}}async fetchDataWithAxios(s,a,et){try{const nt={...a,timeout:et},at=await axios$1(s,nt);return at.status===200?this.parseJsonResult(at.data):null}catch(nt){return console.error(nt),null}}async getBestRouter(s,a,et,nt,at,mt,wt,$t,Ct=!1,Dt=!1,Ft=[]){let jt=null,Nt="v2",Lt={},Ut=this.sdk.sdkOptions.aggregatorUrl;if(Ft.length>0){const Vt=new URL(Ut);Ut=`${Vt.protocol}//${Vt.hostname}/router_with_lp_changes`,Lt={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:s,to:a,amount:et,by_amount_in:nt,order_split:Ct,external_router:Dt,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:Ft})}}else Ut=`
      ${Ut}?from=${encodeURIComponent(s)}&to=${encodeURIComponent(a)}&amount=${encodeURIComponent(et)}&by_amount_in=${encodeURIComponent(nt)}&order_split=${encodeURIComponent(Ct)}&external_router=${encodeURIComponent(Dt)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(jt=await this.fetchDataWithAxios(Ut,Lt,6e3),jt==null){const Vt=await this.sdk.Router.priceUseV1(s,a,new BN(et),nt,at,mt,$t),Yt=[];for(const tr of Vt.paths){const nr=[];if(tr.poolAddress.length>1){const dr=this.sdk.Router.tokenInfo(tr.coinType[0]).decimals,br=this.sdk.Router.tokenInfo(tr.coinType[1]).decimals,vr=tr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(Vt.currentSqrtPrice[0]),dr,br):TickMath.sqrtPriceX64ToPrice(new BN(Vt.currentSqrtPrice[0]),br,dr),yr={direction:tr.a2b[0],label:"Cetus",poolAddress:tr.poolAddress[0],fromCoin:tr.coinType[0],toCoin:tr.coinType[1],feeRate:this.sdk.Router.getFeeRate(tr.coinType[0],tr.coinType[1],tr.poolAddress[0]),outputAmount:Vt.byAmountIn?tr.rawAmountLimit[0].toString():tr.rawAmountLimit[1].toString(),inputAmount:tr.amountIn.toString(),currentSqrtPrice:Vt.currentSqrtPrice[0],currentPrice:vr,fromDecimal:dr,toDecimal:br},$r=this.sdk.Router.tokenInfo(tr.coinType[1]).decimals,Sr=this.sdk.Router.tokenInfo(tr.coinType[2]).decimals,wr=tr.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN(Vt.currentSqrtPrice[1]),$r,Sr):TickMath.sqrtPriceX64ToPrice(new BN(Vt.currentSqrtPrice[1]),Sr,$r),fr={direction:tr.a2b[1],label:"Cetus",poolAddress:tr.poolAddress[1],fromCoin:tr.coinType[1],toCoin:tr.coinType[2],feeRate:this.sdk.Router.getFeeRate(tr.coinType[1],tr.coinType[2],tr.poolAddress[1]),outputAmount:tr.amountOut.toString(),inputAmount:Vt.byAmountIn?tr.rawAmountLimit[0].toString():tr.rawAmountLimit[1].toString(),currentSqrtPrice:Vt.currentSqrtPrice[1],currentPrice:wr,fromDecimal:$r,toDecimal:Sr};nr.push(yr,fr)}else{const dr=this.sdk.Router.tokenInfo(tr.coinType[0]).decimals,br=this.sdk.Router.tokenInfo(tr.coinType[1]).decimals,vr=tr.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN(Vt.currentSqrtPrice[0]),dr,br):TickMath.sqrtPriceX64ToPrice(new BN(Vt.currentSqrtPrice[0]),br,dr),yr={direction:tr.a2b[0],label:"Cetus",poolAddress:tr.poolAddress[0],fromCoin:tr.coinType[0],toCoin:tr.coinType[1],feeRate:this.sdk.Router.getFeeRate(tr.coinType[0],tr.coinType[1],tr.poolAddress[0]),outputAmount:tr.amountOut.toString(),inputAmount:tr.amountIn.toString(),currentSqrtPrice:Vt.currentSqrtPrice[0],currentPrice:vr,fromDecimal:dr,toDecimal:br};nr.push(yr)}const sr={percent:Number(tr.amountIn)/Number(Vt.amountIn)*100,inputAmount:Number(tr.amountIn.toString()),outputAmount:Number(tr.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:nr};Yt.push(sr)}const er={isExceed:Vt.isExceed,isTimeout:!0,inputAmount:Number(Vt.amountIn.toString()),outputAmount:Number(Vt.amountOut.toString()),fromCoin:Vt.coinTypeA,toCoin:Vt.coinTypeC!=null?Vt.coinTypeC:Vt.coinTypeB,byAmountIn:Vt.byAmountIn,splitPaths:Yt};Nt="v1",jt=er}return{result:jt,version:Nt}}async getBestRouterByServer(s,a,et,nt,at,mt=!1,wt=!1,$t=[]){let Ct=null,Dt={},Ft=this.sdk.sdkOptions.aggregatorUrl;if($t.length>0){const jt=new URL(Ft);Ft=`${jt.protocol}//${jt.hostname}/router_with_lp_changes`,Dt={method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({from:s,to:a,amount:et,by_amount_in:nt,order_split:mt,external_router:wt,sender_address:"None",request_id:encodeURIComponent(v4$1()),lp_changes:$t})}}else Ft=`
      ${Ft}?from=${encodeURIComponent(s)}&to=${encodeURIComponent(a)}&amount=${encodeURIComponent(et)}&by_amount_in=${encodeURIComponent(nt)}&order_split=${encodeURIComponent(mt)}&external_router=${encodeURIComponent(wt)}&sender_address=''&request_id=${encodeURIComponent(v4$1())}
      `;if(Ct=await this.fetchDataWithAxios(Ft,Dt,6e3),Ct==null)throw new ClmmpoolsError("Invalid server response","InvalidServerResponse");return Ct}async getBestRouterByRpc(s,a,et,nt,at,mt,wt){const $t=await this.sdk.Router.priceUseV1(s,a,new BN(et),nt,at,mt,wt),Ct=[];for(const Ft of $t.paths){const jt=[];if(Ft.poolAddress.length>1){const Lt=this.sdk.Router.tokenInfo(Ft.coinType[0]).decimals,Ut=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,Vt=Ft.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),Lt,Ut):TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),Ut,Lt),Yt={direction:Ft.a2b[0],label:"Cetus",poolAddress:Ft.poolAddress[0],fromCoin:Ft.coinType[0],toCoin:Ft.coinType[1],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[0],Ft.coinType[1],Ft.poolAddress[0]),outputAmount:$t.byAmountIn?Ft.rawAmountLimit[0].toString():Ft.rawAmountLimit[1].toString(),inputAmount:Ft.amountIn.toString(),currentSqrtPrice:$t.currentSqrtPrice[0],currentPrice:Vt,fromDecimal:Lt,toDecimal:Ut},er=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,tr=this.sdk.Router.tokenInfo(Ft.coinType[2]).decimals,nr=Ft.a2b[1]?TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[1]),er,tr):TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[1]),tr,er),sr={direction:Ft.a2b[1],label:"Cetus",poolAddress:Ft.poolAddress[1],fromCoin:Ft.coinType[1],toCoin:Ft.coinType[2],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[1],Ft.coinType[2],Ft.poolAddress[1]),outputAmount:Ft.amountOut.toString(),inputAmount:$t.byAmountIn?Ft.rawAmountLimit[0].toString():Ft.rawAmountLimit[1].toString(),currentSqrtPrice:$t.currentSqrtPrice[1],currentPrice:nr,fromDecimal:er,toDecimal:tr};jt.push(Yt,sr)}else{const Lt=this.sdk.Router.tokenInfo(Ft.coinType[0]).decimals,Ut=this.sdk.Router.tokenInfo(Ft.coinType[1]).decimals,Vt=Ft.a2b[0]?TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),Lt,Ut):TickMath.sqrtPriceX64ToPrice(new BN($t.currentSqrtPrice[0]),Ut,Lt),Yt={direction:Ft.a2b[0],label:"Cetus",poolAddress:Ft.poolAddress[0],fromCoin:Ft.coinType[0],toCoin:Ft.coinType[1],feeRate:this.sdk.Router.getFeeRate(Ft.coinType[0],Ft.coinType[1],Ft.poolAddress[0]),outputAmount:Ft.amountOut.toString(),inputAmount:Ft.amountIn.toString(),currentSqrtPrice:$t.currentSqrtPrice[0],currentPrice:Vt,fromDecimal:Lt,toDecimal:Ut};jt.push(Yt)}const Nt={percent:Number(Ft.amountIn)/Number($t.amountIn)*100,inputAmount:Number(Ft.amountIn.toString()),outputAmount:Number(Ft.amountOut.toString()),pathIndex:0,lastQuoteOutput:0,basePaths:jt};Ct.push(Nt)}return{isExceed:$t.isExceed,isTimeout:!0,inputAmount:Number($t.amountIn.toString()),outputAmount:Number($t.amountOut.toString()),fromCoin:$t.coinTypeA,toCoin:$t.coinTypeC!=null?$t.coinTypeC:$t.coinTypeB,byAmountIn:$t.byAmountIn,splitPaths:Ct}}},ConfigModule=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}setTokenListCache(s){const{coin_list_handle:a}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),et=`${a}_getCoinConfigs`,nt=this.getCache(et),at=nt?[...nt,...s]:s;this.updateCache(et,at,cacheTime24h)}async getTokenListByCoinTypes(s){const a={},{coin_list_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getCoinConfigs`,at=this.getCache(nt);if(at!==void 0){const wt=at;for(const $t of s)for(const Ct of wt)if(normalizeCoinType$1($t)===normalizeCoinType$1(Ct.address)){a[$t]=Ct;continue}}const mt=s.filter(wt=>a[wt]===void 0);for(const wt of mt){const $t=`${wt}_metadata`,Ct=this.getCache($t);if(Ct!==void 0)a[wt]=Ct;else{const Dt=await this._sdk.fullClient.getCoinMetadata({coinType:wt});if(Dt){const Ft={id:Dt.id,pyth_id:"",name:Dt.name,symbol:Dt.symbol,official_symbol:Dt.symbol,coingecko_id:"",decimals:Dt.decimals,project_url:"",logo_url:Dt.iconUrl,address:wt};a[wt]=Ft,this.updateCache($t,Ft,cacheTime24h)}else console.log(`not found ${wt}`)}}return a}async getCoinConfigs(s=!1,a=!0){const{coin_list_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getCoinConfigs`,at=this.getCache(nt,s);if(at)return at;const wt=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Dt=>Dt.objectId),$t=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}),Ct=[];return $t.forEach(Dt=>{var jt,Nt;if(Dt.error!=null||((Nt=(jt=Dt.data)==null?void 0:jt.content)==null?void 0:Nt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${Dt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildCoinConfig(Dt,a);this.updateCache(`${et}_${Ft.address}_getCoinConfig`,Ft,cacheTime24h),Ct.push({...Ft})}),this.updateCache(nt,Ct,cacheTime24h),Ct}async getCoinConfig(s,a=!1,et=!0){var Ct,Dt;const{coin_list_handle:nt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${nt}_${s}_getCoinConfig`,mt=this.getCache(at,a);if(mt)return mt;const wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"0x1::type_name::TypeName",value:{name:fixCoinType(s)}}});if(wt.error!=null||((Dt=(Ct=wt.data)==null?void 0:Ct.content)==null?void 0:Dt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfig get object error: ${wt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const $t=this.buildCoinConfig(wt,et);return this.updateCache(at,$t,cacheTime24h),$t}buildCoinConfig(s,a=!0){let et=getObjectFields(s);et=et.value.fields;const nt={...et};return nt.id=getObjectId(s),nt.address=extractStructTagFromType$1(et.coin_type.fields.name).full_address,et.pyth_id&&(nt.pyth_id=normalizeSuiObjectId$1(et.pyth_id)),this.transformExtensions(nt,et.extension_fields.fields.contents,a),delete nt.coin_type,nt}async getClmmPoolConfigs(s=!1,a=!0){const{clmm_pools_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getClmmPoolConfigs`,at=this.getCache(nt,s);if(at)return at;const wt=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Dt=>Dt.objectId),$t=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}),Ct=[];return $t.forEach(Dt=>{var jt,Nt;if(Dt.error!=null||((Nt=(jt=Dt.data)==null?void 0:jt.content)==null?void 0:Nt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getClmmPoolsConfigs get objects error: ${Dt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildClmmPoolConfig(Dt,a);this.updateCache(`${Ft.pool_address}_getClmmPoolConfig`,Ft,cacheTime24h),Ct.push({...Ft})}),this.updateCache(nt,Ct,cacheTime24h),Ct}async getClmmPoolConfig(s,a=!1,et=!0){const{clmm_pools_handle:nt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${s}_getClmmPoolConfig`,mt=this.getCache(at,a);if(mt)return mt;const wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"address",value:s}}),$t=this.buildClmmPoolConfig(wt,et);return this.updateCache(at,$t,cacheTime24h),$t}buildClmmPoolConfig(s,a=!0){let et=getObjectFields(s);et=et.value.fields;const nt={...et};return nt.id=getObjectId(s),nt.pool_address=normalizeSuiObjectId$1(et.pool_address),this.transformExtensions(nt,et.extension_fields.fields.contents,a),nt}async getLaunchpadPoolConfigs(s=!1,a=!0){const{launchpad_pools_handle:et}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),nt=`${et}_getLaunchpadPoolConfigs`,at=this.getCache(nt,s);if(at)return at;const wt=(await this._sdk.fullClient.getDynamicFieldsByPage(et)).data.map(Dt=>Dt.objectId),$t=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}),Ct=[];return $t.forEach(Dt=>{var jt,Nt;if(Dt.error!=null||((Nt=(jt=Dt.data)==null?void 0:jt.content)==null?void 0:Nt.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCoinConfigs get objects error: ${Dt.error}, please check the rpc and contracts address config.`,"InvalidConfig");const Ft=this.buildLaunchpadPoolConfig(Dt,a);this.updateCache(`${Ft.pool_address}_getLaunchpadPoolConfig`,Ft,cacheTime24h),Ct.push({...Ft})}),this.updateCache(nt,Ct,cacheTime24h),Ct}async getLaunchpadPoolConfig(s,a=!1,et=!0){const{launchpad_pools_handle:nt}=getPackagerConfigs(this.sdk.sdkOptions.cetus_config),at=`${s}_getLaunchpadPoolConfig`,mt=this.getCache(at,a);if(mt)return mt;const wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"address",value:s}}),$t=this.buildLaunchpadPoolConfig(wt,et);return this.updateCache(at,$t,cacheTime24h),$t}buildLaunchpadPoolConfig(s,a=!0){let et=getObjectFields(s);et=et.value.fields;const nt={...et};nt.id=getObjectId(s),nt.pool_address=normalizeSuiObjectId$1(et.pool_address),this.transformExtensions(nt,et.extension_fields.fields.contents,a);const at=[];et.social_media.fields.contents.forEach(mt=>{at.push({name:mt.fields.value.fields.name,link:mt.fields.value.fields.link})}),nt.social_media=at;try{nt.regulation=decodeURIComponent(gBase64.decode(nt.regulation).replace(/%/g,"%25"))}catch{nt.regulation=gBase64.decode(nt.regulation)}return nt}transformExtensions(s,a,et=!0){const nt=[];for(const at of a){const{key:mt}=at.fields;let{value:wt}=at.fields;if(mt==="labels")try{const $t=decodeURIComponent(gBase64.decode(wt));try{wt=JSON.parse($t)}catch{wt=$t}}catch{}et&&(s[mt]=wt),nt.push({key:mt,value:wt})}delete s.extension_fields,et||(s.extensions=nt)}async getCetusConfig(s=!1){const a=this._sdk.sdkOptions.cetus_config.package_id,et=`${a}_getCetusConfig`,nt=this.getCache(et,s);if(nt!==void 0)return nt;const at=await this._sdk.fullClient.getObject({id:a,options:{showPreviousTransaction:!0}}),mt=getObjectPreviousTransactionDigest(at),wt=await this._sdk.fullClient.queryEventsByPage({Transaction:mt});let $t={coin_list_id:"",launchpad_pools_id:"",clmm_pools_id:"",admin_cap_id:"",global_config_id:"",coin_list_handle:"",launchpad_pools_handle:"",clmm_pools_handle:""};if(wt.data.length>0)for(const Ct of wt.data)switch(extractStructTagFromType$1(Ct.type).name){case"InitCoinListEvent":$t.coin_list_id=Ct.parsedJson.coin_list_id;break;case"InitLaunchpadPoolsEvent":$t.launchpad_pools_id=Ct.parsedJson.launchpad_pools_id;break;case"InitClmmPoolsEvent":$t.clmm_pools_id=Ct.parsedJson.pools_id;break;case"InitConfigEvent":$t.global_config_id=Ct.parsedJson.global_config_id,$t.admin_cap_id=Ct.parsedJson.admin_cap_id;break}return $t=await this.getCetusConfigHandle($t),$t.clmm_pools_id.length>0&&this.updateCache(et,$t,cacheTime24h),$t}async getCetusConfigHandle(s){const a=[s.clmm_pools_id,s.coin_list_id,s.launchpad_pools_id];return(await this._sdk.fullClient.multiGetObjects({ids:a,options:{showContent:!0}})).forEach(nt=>{var wt,$t;if(nt.error!=null||(($t=(wt=nt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new ClmmpoolsError(`when getCetusConfigHandle get objects error: ${nt.error}, please check the rpc and contracts address config.`,"InvalidConfigHandle");const at=getObjectFields(nt),mt=getObjectType(nt);switch(extractStructTagFromType$1(mt).name){case"ClmmPools":s.clmm_pools_handle=at.pools.fields.id.id;break;case"CoinList":s.coin_list_handle=at.coins.fields.id.id;break;case"LaunchpadPools":s.launchpad_pools_handle=at.pools.fields.id.id;break}}),s}updateCache(s,a,et=cacheTime5min){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){try{const et=this._cache[s];if(!et)return;if(a||!et.isValid()){delete this._cache[s];return}return et.value}catch(et){console.error(`Error accessing cache for key ${s}:`,et);return}}},CetusClmmSDK=class{constructor(s){sn(this,"_cache",{});sn(this,"_rpcModule");sn(this,"_pool");sn(this,"_position");sn(this,"_swap");sn(this,"_rewarder");sn(this,"_router");sn(this,"_router_v2");sn(this,"_token");sn(this,"_config");sn(this,"_sdkOptions");sn(this,"_senderAddress","");this._sdkOptions=s,this._rpcModule=new RpcModule({url:s.fullRpcUrl}),this._swap=new SwapModule(this),this._pool=new PoolModule(this),this._position=new PositionModule(this),this._rewarder=new RewarderModule(this),this._router=new RouterModule(this),this._router_v2=new RouterModuleV2(this),this._token=new TokenModule(this),this._config=new ConfigModule(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(s){this._senderAddress=s}get Swap(){return this._swap}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Pool(){return this._pool}get Position(){return this._position}get Rewarder(){return this._rewarder}get Router(){return this._router}get RouterV2(){return this._router_v2}get CetusConfig(){return this._config}get Token(){return this._token}async getOwnerCoinAssets(s,a,et=!0){const nt=[];let at=null;const mt=`${this.sdkOptions.fullRpcUrl}_${s}_${a}_getOwnerCoinAssets`,wt=this.getCache(mt,et);if(wt)return wt;for(;;){const $t=await(a?this.fullClient.getCoins({owner:s,coinType:a,cursor:at}):this.fullClient.getAllCoins({owner:s,cursor:at}));if($t.data.forEach(Ct=>{BigInt(Ct.balance)>0&&nt.push({coinAddress:extractStructTagFromType$1(Ct.coinType).source_address,coinObjectId:Ct.coinObjectId,balance:BigInt(Ct.balance)})}),at=$t.nextCursor,!$t.hasNextPage)break}return this.updateCache(mt,nt,30*1e3),nt}async getOwnerCoinBalances(s,a){let et=[];return a?et=[await this.fullClient.getBalance({owner:s,coinType:a})]:et=[...await this.fullClient.getAllBalances({owner:s})],et}updateCache(s,a,et=cacheTime24h){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){const et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}},main_default=CetusClmmSDK,SDKConfig={clmmConfig:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",admin_cap_id:"0x89c1a321291d15ddae5a086c9abc533dff697fde3d89e0ca836c41af73e36a75"},cetusConfig:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}},clmmMainnet={fullRpcUrl:"https://mainnet.suiet.app:443",simulationAccount:{address:"0x0000000000000000000000000000000000000000000000000000000000000000"},cetus_config:{package_id:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",published_at:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",config:SDKConfig.cetusConfig},clmm_pool:{package_id:"0x1eabed72c53feb3805120a081dc15963c204dc8d091542592abaf7a35689b2fb",published_at:"0xc6faf3703b0e8ba9ed06b7851134bbbe7565eb35ff823fd78432baa4cbeaa12e",config:SDKConfig.clmmConfig},integrate:{package_id:"0x996c4d9480708fb8b92aa7acf819fb0497b5ec8e65ba06601cae2fb6db3312c3",published_at:"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4"},deepbook:{package_id:"0x000000000000000000000000000000000000000000000000000000000000dee9",published_at:"0x000000000000000000000000000000000000000000000000000000000000dee9"},deepbook_endpoint_v2:{package_id:"0xac95e8a5e873cfa2544916c16fe1461b6a45542d9e65504c1794ae390b3345a7",published_at:"0xac95e8a5e873cfa2544916c16fe1461b6a45542d9e65504c1794ae390b3345a7"},aggregatorUrl:"https://api-sui.cetus.zone/router",swapCountUrl:"https://api-sui.cetus.zone/v2/sui/swap/count",statsPoolsUrl:"https://api-sui.cetus.zone/v2/sui/stats_pools"};function initMainnetSDK(s,a){return s&&(clmmMainnet.fullRpcUrl=s),new main_default(clmmMainnet)}var SDKConfig2={clmmConfig:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",admin_cap_id:"0xa456f86a53fc31e1243f065738ff1fc93f5a62cc080ff894a0fb3747556a799b"},cetusConfig:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}},clmmTestnet={fullRpcUrl:getFullnodeUrl("testnet"),simulationAccount:{address:"0x0000000000000000000000000000000000000000000000000000000000000000"},faucet:{package_id:"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc",published_at:"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc"},cetus_config:{package_id:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",published_at:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",config:SDKConfig2.cetusConfig},clmm_pool:{package_id:"0x0c7ae833c220aa73a3643a0d508afa4ac5d50d97312ea4584e35f9eb21b9df12",published_at:"0x85e61285a10efc6602ab00df70a0c06357c384ef4c5633ecf73016df1500c704",config:SDKConfig2.clmmConfig},integrate:{package_id:"0x2918cf39850de6d5d94d8196dc878c8c722cd79db659318e00bff57fbb4e2ede",published_at:"0x19dd42e05fa6c9988a60d30686ee3feb776672b5547e328d6dab16563da65293"},deepbook:{package_id:"0x000000000000000000000000000000000000000000000000000000000000dee9",published_at:"0x000000000000000000000000000000000000000000000000000000000000dee9"},deepbook_endpoint_v2:{package_id:"0x56d90d0c055edb534b11e7548270bb458fd47c69b77bf40c14d5eb00e6e6cf64",published_at:"0x56d90d0c055edb534b11e7548270bb458fd47c69b77bf40c14d5eb00e6e6cf64"},aggregatorUrl:"https://api-sui.devcetus.com/router",swapCountUrl:"https://api-sui.devcetus.com/v2/sui/swap/count",statsPoolsUrl:"https://api-sui.devcetus.com/v2/sui/stats_pools"};function initTestnetSDK(s,a){return s&&(clmmTestnet.fullRpcUrl=s),new main_default(clmmTestnet)}var src_default=CetusClmmSDK,dayjs_min={exports:{}};(function(s,a){(function(et,nt){s.exports=nt()})(commonjsGlobal$1,function(){var et=1e3,nt=6e4,at=36e5,mt="millisecond",wt="second",$t="minute",Ct="hour",Dt="day",Ft="week",jt="month",Nt="quarter",Lt="year",Ut="date",Vt="Invalid Date",Yt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,er=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,tr={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ir){var rr=["th","st","nd","rd"],or=ir%100;return"["+ir+(rr[(or-20)%10]||rr[or]||rr[0])+"]"}},nr=function(ir,rr,or){var ar=String(ir);return!ar||ar.length>=rr?ir:""+Array(rr+1-ar.length).join(or)+ir},sr={s:nr,z:function(ir){var rr=-ir.utcOffset(),or=Math.abs(rr),ar=Math.floor(or/60),ur=or%60;return(rr<=0?"+":"-")+nr(ar,2,"0")+":"+nr(ur,2,"0")},m:function ir(rr,or){if(rr.date()<or.date())return-ir(or,rr);var ar=12*(or.year()-rr.year())+(or.month()-rr.month()),ur=rr.clone().add(ar,jt),pr=or-ur<0,cr=rr.clone().add(ar+(pr?-1:1),jt);return+(-(ar+(or-ur)/(pr?ur-cr:cr-ur))||0)},a:function(ir){return ir<0?Math.ceil(ir)||0:Math.floor(ir)},p:function(ir){return{M:jt,y:Lt,w:Ft,d:Dt,D:Ut,h:Ct,m:$t,s:wt,ms:mt,Q:Nt}[ir]||String(ir||"").toLowerCase().replace(/s$/,"")},u:function(ir){return ir===void 0}},dr="en",br={};br[dr]=tr;var vr="$isDayjsObject",yr=function(ir){return ir instanceof fr||!(!ir||!ir[vr])},$r=function ir(rr,or,ar){var ur;if(!rr)return dr;if(typeof rr=="string"){var pr=rr.toLowerCase();br[pr]&&(ur=pr),or&&(br[pr]=or,ur=pr);var cr=rr.split("-");if(!ur&&cr.length>1)return ir(cr[0])}else{var gr=rr.name;br[gr]=rr,ur=gr}return!ar&&ur&&(dr=ur),ur||!ar&&dr},Sr=function(ir,rr){if(yr(ir))return ir.clone();var or=typeof rr=="object"?rr:{};return or.date=ir,or.args=arguments,new fr(or)},wr=sr;wr.l=$r,wr.i=yr,wr.w=function(ir,rr){return Sr(ir,{locale:rr.$L,utc:rr.$u,x:rr.$x,$offset:rr.$offset})};var fr=function(){function ir(or){this.$L=$r(or.locale,null,!0),this.parse(or),this.$x=this.$x||or.x||{},this[vr]=!0}var rr=ir.prototype;return rr.parse=function(or){this.$d=function(ar){var ur=ar.date,pr=ar.utc;if(ur===null)return new Date(NaN);if(wr.u(ur))return new Date;if(ur instanceof Date)return new Date(ur);if(typeof ur=="string"&&!/Z$/i.test(ur)){var cr=ur.match(Yt);if(cr){var gr=cr[2]-1||0,hr=(cr[7]||"0").substring(0,3);return pr?new Date(Date.UTC(cr[1],gr,cr[3]||1,cr[4]||0,cr[5]||0,cr[6]||0,hr)):new Date(cr[1],gr,cr[3]||1,cr[4]||0,cr[5]||0,cr[6]||0,hr)}}return new Date(ur)}(or),this.init()},rr.init=function(){var or=this.$d;this.$y=or.getFullYear(),this.$M=or.getMonth(),this.$D=or.getDate(),this.$W=or.getDay(),this.$H=or.getHours(),this.$m=or.getMinutes(),this.$s=or.getSeconds(),this.$ms=or.getMilliseconds()},rr.$utils=function(){return wr},rr.isValid=function(){return this.$d.toString()!==Vt},rr.isSame=function(or,ar){var ur=Sr(or);return this.startOf(ar)<=ur&&ur<=this.endOf(ar)},rr.isAfter=function(or,ar){return Sr(or)<this.startOf(ar)},rr.isBefore=function(or,ar){return this.endOf(ar)<Sr(or)},rr.$g=function(or,ar,ur){return wr.u(or)?this[ar]:this.set(ur,or)},rr.unix=function(){return Math.floor(this.valueOf()/1e3)},rr.valueOf=function(){return this.$d.getTime()},rr.startOf=function(or,ar){var ur=this,pr=!!wr.u(ar)||ar,cr=wr.p(or),gr=function(qr,Rr){var Tr=wr.w(ur.$u?Date.UTC(ur.$y,Rr,qr):new Date(ur.$y,Rr,qr),ur);return pr?Tr:Tr.endOf(Dt)},hr=function(qr,Rr){return wr.w(ur.toDate()[qr].apply(ur.toDate("s"),(pr?[0,0,0,0]:[23,59,59,999]).slice(Rr)),ur)},lr=this.$W,xr=this.$M,Mr=this.$D,Pr="set"+(this.$u?"UTC":"");switch(cr){case Lt:return pr?gr(1,0):gr(31,11);case jt:return pr?gr(1,xr):gr(0,xr+1);case Ft:var Ar=this.$locale().weekStart||0,Ir=(lr<Ar?lr+7:lr)-Ar;return gr(pr?Mr-Ir:Mr+(6-Ir),xr);case Dt:case Ut:return hr(Pr+"Hours",0);case Ct:return hr(Pr+"Minutes",1);case $t:return hr(Pr+"Seconds",2);case wt:return hr(Pr+"Milliseconds",3);default:return this.clone()}},rr.endOf=function(or){return this.startOf(or,!1)},rr.$set=function(or,ar){var ur,pr=wr.p(or),cr="set"+(this.$u?"UTC":""),gr=(ur={},ur[Dt]=cr+"Date",ur[Ut]=cr+"Date",ur[jt]=cr+"Month",ur[Lt]=cr+"FullYear",ur[Ct]=cr+"Hours",ur[$t]=cr+"Minutes",ur[wt]=cr+"Seconds",ur[mt]=cr+"Milliseconds",ur)[pr],hr=pr===Dt?this.$D+(ar-this.$W):ar;if(pr===jt||pr===Lt){var lr=this.clone().set(Ut,1);lr.$d[gr](hr),lr.init(),this.$d=lr.set(Ut,Math.min(this.$D,lr.daysInMonth())).$d}else gr&&this.$d[gr](hr);return this.init(),this},rr.set=function(or,ar){return this.clone().$set(or,ar)},rr.get=function(or){return this[wr.p(or)]()},rr.add=function(or,ar){var ur,pr=this;or=Number(or);var cr=wr.p(ar),gr=function(xr){var Mr=Sr(pr);return wr.w(Mr.date(Mr.date()+Math.round(xr*or)),pr)};if(cr===jt)return this.set(jt,this.$M+or);if(cr===Lt)return this.set(Lt,this.$y+or);if(cr===Dt)return gr(1);if(cr===Ft)return gr(7);var hr=(ur={},ur[$t]=nt,ur[Ct]=at,ur[wt]=et,ur)[cr]||1,lr=this.$d.getTime()+or*hr;return wr.w(lr,this)},rr.subtract=function(or,ar){return this.add(-1*or,ar)},rr.format=function(or){var ar=this,ur=this.$locale();if(!this.isValid())return ur.invalidDate||Vt;var pr=or||"YYYY-MM-DDTHH:mm:ssZ",cr=wr.z(this),gr=this.$H,hr=this.$m,lr=this.$M,xr=ur.weekdays,Mr=ur.months,Pr=ur.meridiem,Ar=function(Rr,Tr,Er,Br){return Rr&&(Rr[Tr]||Rr(ar,pr))||Er[Tr].slice(0,Br)},Ir=function(Rr){return wr.s(gr%12||12,Rr,"0")},qr=Pr||function(Rr,Tr,Er){var Br=Rr<12?"AM":"PM";return Er?Br.toLowerCase():Br};return pr.replace(er,function(Rr,Tr){return Tr||function(Er){switch(Er){case"YY":return String(ar.$y).slice(-2);case"YYYY":return wr.s(ar.$y,4,"0");case"M":return lr+1;case"MM":return wr.s(lr+1,2,"0");case"MMM":return Ar(ur.monthsShort,lr,Mr,3);case"MMMM":return Ar(Mr,lr);case"D":return ar.$D;case"DD":return wr.s(ar.$D,2,"0");case"d":return String(ar.$W);case"dd":return Ar(ur.weekdaysMin,ar.$W,xr,2);case"ddd":return Ar(ur.weekdaysShort,ar.$W,xr,3);case"dddd":return xr[ar.$W];case"H":return String(gr);case"HH":return wr.s(gr,2,"0");case"h":return Ir(1);case"hh":return Ir(2);case"a":return qr(gr,hr,!0);case"A":return qr(gr,hr,!1);case"m":return String(hr);case"mm":return wr.s(hr,2,"0");case"s":return String(ar.$s);case"ss":return wr.s(ar.$s,2,"0");case"SSS":return wr.s(ar.$ms,3,"0");case"Z":return cr}return null}(Rr)||cr.replace(":","")})},rr.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},rr.diff=function(or,ar,ur){var pr,cr=this,gr=wr.p(ar),hr=Sr(or),lr=(hr.utcOffset()-this.utcOffset())*nt,xr=this-hr,Mr=function(){return wr.m(cr,hr)};switch(gr){case Lt:pr=Mr()/12;break;case jt:pr=Mr();break;case Nt:pr=Mr()/3;break;case Ft:pr=(xr-lr)/6048e5;break;case Dt:pr=(xr-lr)/864e5;break;case Ct:pr=xr/at;break;case $t:pr=xr/nt;break;case wt:pr=xr/et;break;default:pr=xr}return ur?pr:wr.a(pr)},rr.daysInMonth=function(){return this.endOf(jt).$D},rr.$locale=function(){return br[this.$L]},rr.locale=function(or,ar){if(!or)return this.$L;var ur=this.clone(),pr=$r(or,ar,!0);return pr&&(ur.$L=pr),ur},rr.clone=function(){return wr.w(this.$d,this)},rr.toDate=function(){return new Date(this.valueOf())},rr.toJSON=function(){return this.isValid()?this.toISOString():null},rr.toISOString=function(){return this.$d.toISOString()},rr.toString=function(){return this.$d.toUTCString()},ir}(),_r=fr.prototype;return Sr.prototype=_r,[["$ms",mt],["$s",wt],["$m",$t],["$H",Ct],["$W",Dt],["$M",jt],["$y",Lt],["$D",Ut]].forEach(function(ir){_r[ir[1]]=function(rr){return this.$g(rr,ir[0],ir[1])}}),Sr.extend=function(ir,rr){return ir.$i||(ir(rr,fr,Sr),ir.$i=!0),Sr},Sr.locale=$r,Sr.isDayjs=yr,Sr.unix=function(ir){return Sr(1e3*ir)},Sr.en=br[dr],Sr.Ls=br,Sr.p={},Sr})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs$2(dayjs_minExports);var duration$1={exports:{}};(function(s,a){(function(et,nt){s.exports=nt()})(commonjsGlobal$1,function(){var et,nt,at=1e3,mt=6e4,wt=36e5,$t=864e5,Ct=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Dt=31536e6,Ft=2628e6,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,Nt={years:Dt,months:Ft,days:$t,hours:wt,minutes:mt,seconds:at,milliseconds:1,weeks:6048e5},Lt=function(br){return br instanceof sr},Ut=function(br,vr,yr){return new sr(br,yr,vr.$l)},Vt=function(br){return nt.p(br)+"s"},Yt=function(br){return br<0},er=function(br){return Yt(br)?Math.ceil(br):Math.floor(br)},tr=function(br){return Math.abs(br)},nr=function(br,vr){return br?Yt(br)?{negative:!0,format:""+tr(br)+vr}:{negative:!1,format:""+br+vr}:{negative:!1,format:""}},sr=function(){function br(yr,$r,Sr){var wr=this;if(this.$d={},this.$l=Sr,yr===void 0&&(this.$ms=0,this.parseFromMilliseconds()),$r)return Ut(yr*Nt[Vt($r)],this);if(typeof yr=="number")return this.$ms=yr,this.parseFromMilliseconds(),this;if(typeof yr=="object")return Object.keys(yr).forEach(function(ir){wr.$d[Vt(ir)]=yr[ir]}),this.calMilliseconds(),this;if(typeof yr=="string"){var fr=yr.match(jt);if(fr){var _r=fr.slice(2).map(function(ir){return ir!=null?Number(ir):0});return this.$d.years=_r[0],this.$d.months=_r[1],this.$d.weeks=_r[2],this.$d.days=_r[3],this.$d.hours=_r[4],this.$d.minutes=_r[5],this.$d.seconds=_r[6],this.calMilliseconds(),this}}return this}var vr=br.prototype;return vr.calMilliseconds=function(){var yr=this;this.$ms=Object.keys(this.$d).reduce(function($r,Sr){return $r+(yr.$d[Sr]||0)*Nt[Sr]},0)},vr.parseFromMilliseconds=function(){var yr=this.$ms;this.$d.years=er(yr/Dt),yr%=Dt,this.$d.months=er(yr/Ft),yr%=Ft,this.$d.days=er(yr/$t),yr%=$t,this.$d.hours=er(yr/wt),yr%=wt,this.$d.minutes=er(yr/mt),yr%=mt,this.$d.seconds=er(yr/at),yr%=at,this.$d.milliseconds=yr},vr.toISOString=function(){var yr=nr(this.$d.years,"Y"),$r=nr(this.$d.months,"M"),Sr=+this.$d.days||0;this.$d.weeks&&(Sr+=7*this.$d.weeks);var wr=nr(Sr,"D"),fr=nr(this.$d.hours,"H"),_r=nr(this.$d.minutes,"M"),ir=this.$d.seconds||0;this.$d.milliseconds&&(ir+=this.$d.milliseconds/1e3,ir=Math.round(1e3*ir)/1e3);var rr=nr(ir,"S"),or=yr.negative||$r.negative||wr.negative||fr.negative||_r.negative||rr.negative,ar=fr.format||_r.format||rr.format?"T":"",ur=(or?"-":"")+"P"+yr.format+$r.format+wr.format+ar+fr.format+_r.format+rr.format;return ur==="P"||ur==="-P"?"P0D":ur},vr.toJSON=function(){return this.toISOString()},vr.format=function(yr){var $r=yr||"YYYY-MM-DDTHH:mm:ss",Sr={Y:this.$d.years,YY:nt.s(this.$d.years,2,"0"),YYYY:nt.s(this.$d.years,4,"0"),M:this.$d.months,MM:nt.s(this.$d.months,2,"0"),D:this.$d.days,DD:nt.s(this.$d.days,2,"0"),H:this.$d.hours,HH:nt.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:nt.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:nt.s(this.$d.seconds,2,"0"),SSS:nt.s(this.$d.milliseconds,3,"0")};return $r.replace(Ct,function(wr,fr){return fr||String(Sr[wr])})},vr.as=function(yr){return this.$ms/Nt[Vt(yr)]},vr.get=function(yr){var $r=this.$ms,Sr=Vt(yr);return Sr==="milliseconds"?$r%=1e3:$r=Sr==="weeks"?er($r/Nt[Sr]):this.$d[Sr],$r||0},vr.add=function(yr,$r,Sr){var wr;return wr=$r?yr*Nt[Vt($r)]:Lt(yr)?yr.$ms:Ut(yr,this).$ms,Ut(this.$ms+wr*(Sr?-1:1),this)},vr.subtract=function(yr,$r){return this.add(yr,$r,!0)},vr.locale=function(yr){var $r=this.clone();return $r.$l=yr,$r},vr.clone=function(){return Ut(this.$ms,this)},vr.humanize=function(yr){return et().add(this.$ms,"ms").locale(this.$l).fromNow(!yr)},vr.valueOf=function(){return this.asMilliseconds()},vr.milliseconds=function(){return this.get("milliseconds")},vr.asMilliseconds=function(){return this.as("milliseconds")},vr.seconds=function(){return this.get("seconds")},vr.asSeconds=function(){return this.as("seconds")},vr.minutes=function(){return this.get("minutes")},vr.asMinutes=function(){return this.as("minutes")},vr.hours=function(){return this.get("hours")},vr.asHours=function(){return this.as("hours")},vr.days=function(){return this.get("days")},vr.asDays=function(){return this.as("days")},vr.weeks=function(){return this.get("weeks")},vr.asWeeks=function(){return this.as("weeks")},vr.months=function(){return this.get("months")},vr.asMonths=function(){return this.as("months")},vr.years=function(){return this.get("years")},vr.asYears=function(){return this.as("years")},br}(),dr=function(br,vr,yr){return br.add(vr.years()*yr,"y").add(vr.months()*yr,"M").add(vr.days()*yr,"d").add(vr.hours()*yr,"h").add(vr.minutes()*yr,"m").add(vr.seconds()*yr,"s").add(vr.milliseconds()*yr,"ms")};return function(br,vr,yr){et=yr,nt=yr().$utils(),yr.duration=function(wr,fr){var _r=yr.locale();return Ut(wr,{$l:_r},fr)},yr.isDuration=Lt;var $r=vr.prototype.add,Sr=vr.prototype.subtract;vr.prototype.add=function(wr,fr){return Lt(wr)?dr(this,wr,1):$r.bind(this)(wr,fr)},vr.prototype.subtract=function(wr,fr){return Lt(wr)?dr(this,wr,-1):Sr.bind(this)(wr,fr)}}})})(duration$1);var durationExports=duration$1.exports;const duration=getDefaultExportFromCjs$2(durationExports);var relativeTime$1={exports:{}};(function(s,a){(function(et,nt){s.exports=nt()})(commonjsGlobal$1,function(){return function(et,nt,at){et=et||{};var mt=nt.prototype,wt={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $t(Dt,Ft,jt,Nt){return mt.fromToBase(Dt,Ft,jt,Nt)}at.en.relativeTime=wt,mt.fromToBase=function(Dt,Ft,jt,Nt,Lt){for(var Ut,Vt,Yt,er=jt.$locale().relativeTime||wt,tr=et.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],nr=tr.length,sr=0;sr<nr;sr+=1){var dr=tr[sr];dr.d&&(Ut=Nt?at(Dt).diff(jt,dr.d,!0):jt.diff(Dt,dr.d,!0));var br=(et.rounding||Math.round)(Math.abs(Ut));if(Yt=Ut>0,br<=dr.r||!dr.r){br<=1&&sr>0&&(dr=tr[sr-1]);var vr=er[dr.l];Lt&&(br=Lt(""+br)),Vt=typeof vr=="string"?vr.replace("%d",br):vr(br,Ft,dr.l,Yt);break}}if(Ft)return Vt;var yr=Yt?er.future:er.past;return typeof yr=="function"?yr(Vt):yr.replace("%s",Vt)},mt.to=function(Dt,Ft){return $t(Dt,Ft,this,!0)},mt.from=function(Dt,Ft){return $t(Dt,Ft,this)};var Ct=function(Dt){return Dt.$u?at.utc():at()};mt.toNow=function(Dt){return this.to(Ct(this),Dt)},mt.fromNow=function(Dt){return this.from(Ct(this),Dt)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs$2(relativeTimeExports);Decimal$1.config({precision:256,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-256,toExpPos:256});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var enUS,hasRequiredEnUS;function requireEnUS(){return hasRequiredEnUS||(hasRequiredEnUS=1,enUS={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(s){let a=s%10;return~~(s%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th"},bytes:{binarySuffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],decimalSuffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0,spaceSeparatedCurrency:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}),enUS}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var unformatting,hasRequiredUnformatting;function requireUnformatting(){if(hasRequiredUnformatting)return unformatting;hasRequiredUnformatting=1;const s=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function a(Ct){return Ct.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(Ct,Dt,Ft,jt,Nt,Lt,Ut){if(!isNaN(+Ct))return+Ct;let Vt="",Yt=Ct.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(Yt!==Ct)return-1*et(Yt,Dt,Ft,jt,Nt,Lt);for(let br=0;br<s.length;br++){let vr=s[br];if(Vt=Ct.replace(RegExp(`([0-9 ])(${vr.key})$`),"$1"),Vt!==Ct)return et(Vt,Dt,Ft,jt,Nt,Lt)*vr.factor}if(Vt=Ct.replace("%",""),Vt!==Ct)return et(Vt,Dt,Ft,jt,Nt,Lt)/100;let er=parseFloat(Ct);if(isNaN(er))return;let tr=jt(er);if(tr&&tr!=="."&&(Vt=Ct.replace(new RegExp(`${a(tr)}$`),""),Vt!==Ct))return et(Vt,Dt,Ft,jt,Nt,Lt);let nr={};Object.keys(Lt).forEach(br=>{nr[Lt[br]]=br});let sr=Object.keys(nr).sort().reverse(),dr=sr.length;for(let br=0;br<dr;br++){let vr=sr[br],yr=nr[vr];if(Vt=Ct.replace(vr,""),Vt!==Ct){let $r;switch(yr){case"thousand":$r=Math.pow(10,3);break;case"million":$r=Math.pow(10,6);break;case"billion":$r=Math.pow(10,9);break;case"trillion":$r=Math.pow(10,12);break}return et(Vt,Dt,Ft,jt,Nt,Lt)*$r}}}function nt(Ct,Dt,Ft){let jt=Ct.replace(Ft,"");return jt=jt.replace(new RegExp(`([0-9])${a(Dt.thousands)}([0-9])`,"g"),"$1$2"),jt=jt.replace(Dt.decimal,"."),jt}function at(Ct,Dt,Ft="",jt,Nt,Lt,Ut){if(Ct==="")return;if(Ct===Nt)return 0;let Vt=nt(Ct,Dt,Ft);return et(Vt,Dt,Ft,jt,Nt,Lt)}function mt(Ct,Dt){if(!(Ct.indexOf(":")&&Dt.thousands!==":"))return!1;let jt=Ct.split(":");if(jt.length!==3)return!1;let Nt=+jt[0],Lt=+jt[1],Ut=+jt[2];return!isNaN(Nt)&&!isNaN(Lt)&&!isNaN(Ut)}function wt(Ct){let Dt=Ct.split(":"),Ft=+Dt[0],jt=+Dt[1];return+Dt[2]+60*jt+3600*Ft}function $t(Ct,Dt){const Ft=requireGlobalState();let jt=Ft.currentDelimiters(),Nt=Ft.currentCurrency().symbol,Lt=Ft.currentOrdinal(),Ut=Ft.getZeroFormat(),Vt=Ft.currentAbbreviations(),Yt;if(typeof Ct=="string")mt(Ct,jt)?Yt=wt(Ct):Yt=at(Ct,jt,Nt,Lt,Ut,Vt);else if(typeof Ct=="number")Yt=Ct;else return;if(Yt!==void 0)return Yt}return unformatting={unformat:$t},unformatting}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var validating$1,hasRequiredValidating;function requireValidating(){if(hasRequiredValidating)return validating$1;hasRequiredValidating=1;let s=requireUnformatting();const a=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,et=["currency","percent","byte","time","ordinal","number"],nt=["trillion","billion","million","thousand"],at=["prefix","infix","postfix"],mt=["sign","parenthesis"],wt={type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},Dt={output:{type:"string",validValues:et},base:{type:"string",validValues:["decimal","binary","general"],restriction:(Yt,er)=>er.output==="byte",message:"`base` must be provided only when the output is `byte`",mandatory:Yt=>Yt.output==="byte"},characteristic:{type:"number",restriction:Yt=>Yt>=0,message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:nt},average:"boolean",lowPrecision:{type:"boolean",restriction:(Yt,er)=>er.average===!0,message:"`lowPrecision` must be provided only when the option `average` is set"},currencyPosition:{type:"string",validValues:at},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:Yt=>Yt>=0,message:"value must be positive"},{restriction:(Yt,er)=>!er.exponential,message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:Yt=>Yt>=0,message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",roundingFunction:"function",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",spaceSeparatedAbbreviation:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:mt},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:(Yt,er)=>er.output==="percent",message:"`prefixSymbol` can be provided only when the output is `percent`"}},Ft={languageTag:{type:"string",mandatory:!0,restriction:Yt=>Yt.match(a),message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:wt,spaceSeparated:"boolean",spaceSeparatedCurrency:"boolean",ordinal:{type:"function",mandatory:!0},bytes:{type:"object",children:{binarySuffixes:"object",decimalSuffixes:"object"}},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function jt(Yt,er){let tr=Nt(Yt),nr=Ut(er);return tr&&nr}function Nt(Yt){return s.unformat(Yt)!==void 0}function Lt(Yt,er,tr,nr=!1){let sr=Object.keys(Yt).map(dr=>{if(!er[dr])return console.error(`${tr} Invalid key: ${dr}`),!1;let br=Yt[dr],vr=er[dr];if(typeof vr=="string"&&(vr={type:vr}),vr.type==="format"){if(!Lt(br,Dt,`[Validate ${dr}]`,!0))return!1}else if(typeof br!==vr.type)return console.error(`${tr} ${dr} type mismatched: "${vr.type}" expected, "${typeof br}" provided`),!1;if(vr.restrictions&&vr.restrictions.length){let yr=vr.restrictions.length;for(let $r=0;$r<yr;$r++){let{restriction:Sr,message:wr}=vr.restrictions[$r];if(!Sr(br,Yt))return console.error(`${tr} ${dr} invalid value: ${wr}`),!1}}return vr.restriction&&!vr.restriction(br,Yt)?(console.error(`${tr} ${dr} invalid value: ${vr.message}`),!1):vr.validValues&&vr.validValues.indexOf(br)===-1?(console.error(`${tr} ${dr} invalid value: must be among ${JSON.stringify(vr.validValues)}, "${br}" provided`),!1):!(vr.children&&!Lt(br,vr.children,`[Validate ${dr}]`))});return nr||sr.push(...Object.keys(er).map(dr=>{let br=er[dr];if(typeof br=="string"&&(br={type:br}),br.mandatory){let vr=br.mandatory;if(typeof vr=="function"&&(vr=vr(Yt)),vr&&Yt[dr]===void 0)return console.error(`${tr} Missing mandatory key "${dr}"`),!1}return!0})),sr.reduce((dr,br)=>dr&&br,!0)}function Ut(Yt){return Lt(Yt,Dt,"[Validate format]")}function Vt(Yt){return Lt(Yt,Ft,"[Validate language]")}return validating$1={validate:jt,validateFormat:Ut,validateInput:Nt,validateLanguage:Vt},validating$1}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function parsePrefix(s,a){let et=s.match(/^{([^}]*)}/);return et?(a.prefix=et[1],s.slice(et[0].length)):s}function parsePostfix(s,a){let et=s.match(/{([^}]*)}$/);return et?(a.postfix=et[1],s.slice(0,-et[0].length)):s}function parseOutput(s,a){if(s.indexOf("$")!==-1){a.output="currency";return}if(s.indexOf("%")!==-1){a.output="percent";return}if(s.indexOf("bd")!==-1){a.output="byte",a.base="general";return}if(s.indexOf("b")!==-1){a.output="byte",a.base="binary";return}if(s.indexOf("d")!==-1){a.output="byte",a.base="decimal";return}if(s.indexOf(":")!==-1){a.output="time";return}s.indexOf("o")!==-1&&(a.output="ordinal")}function parseThousandSeparated(s,a){s.indexOf(",")!==-1&&(a.thousandSeparated=!0)}function parseSpaceSeparated(s,a){s.indexOf(" ")!==-1&&(a.spaceSeparated=!0,a.spaceSeparatedCurrency=!0,(a.average||a.forceAverage)&&(a.spaceSeparatedAbbreviation=!0))}function parseTotalLength(s,a){let et=s.match(/[1-9]+[0-9]*/);et&&(a.totalLength=+et[0])}function parseCharacteristic(s,a){let nt=s.split(".")[0].match(/0+/);nt&&(a.characteristic=nt[0].length)}function parseMantissa(s,a){let et=s.split(".")[1];if(et){let nt=et.match(/0+/);nt&&(a.mantissa=nt[0].length)}}function parseTrimMantissa(s,a){const et=s.split(".")[1];et&&(a.trimMantissa=et.indexOf("[")!==-1)}function parseAverage(s,a){s.indexOf("a")!==-1&&(a.average=!0)}function parseForceAverage(s,a){s.indexOf("K")!==-1?a.forceAverage="thousand":s.indexOf("M")!==-1?a.forceAverage="million":s.indexOf("B")!==-1?a.forceAverage="billion":s.indexOf("T")!==-1&&(a.forceAverage="trillion")}function parseOptionalMantissa(s,a){s.match(/\[\.]/)?a.optionalMantissa=!0:s.match(/\./)&&(a.optionalMantissa=!1)}function parseOptionalCharacteristic(s,a){if(s.indexOf(".")!==-1){let et=s.split(".")[0];a.optionalCharacteristic=et.indexOf("0")===-1}}function parseNegative(s,a){s.match(/^\+?\([^)]*\)$/)&&(a.negative="parenthesis"),s.match(/^\+?-/)&&(a.negative="sign")}function parseForceSign(s,a){s.match(/^\+/)&&(a.forceSign=!0)}function parseFormat(s,a={}){return typeof s!="string"?s:(s=parsePrefix(s,a),s=parsePostfix(s,a),parseOutput(s,a),parseTotalLength(s,a),parseCharacteristic(s,a),parseOptionalCharacteristic(s,a),parseAverage(s,a),parseForceAverage(s,a),parseMantissa(s,a),parseOptionalMantissa(s,a),parseTrimMantissa(s,a),parseThousandSeparated(s,a),parseSpaceSeparated(s,a),parseNegative(s,a),parseForceSign(s,a),a)}var parsing$2={parseFormat};/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var globalState$2,hasRequiredGlobalState;function requireGlobalState(){if(hasRequiredGlobalState)return globalState$2;hasRequiredGlobalState=1;const s=requireEnUS(),a=requireValidating(),et=parsing$2;let nt={},at,mt={},wt=null,$t={};function Ct(Ft){at=Ft}function Dt(){return mt[at]}return nt.languages=()=>Object.assign({},mt),nt.currentLanguage=()=>at,nt.currentBytes=()=>Dt().bytes||{},nt.currentCurrency=()=>Dt().currency,nt.currentAbbreviations=()=>Dt().abbreviations,nt.currentDelimiters=()=>Dt().delimiters,nt.currentOrdinal=()=>Dt().ordinal,nt.currentDefaults=()=>Object.assign({},Dt().defaults,$t),nt.currentOrdinalDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().ordinalFormat),nt.currentByteDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().byteFormat),nt.currentPercentageDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().percentageFormat),nt.currentCurrencyDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().currencyFormat),nt.currentTimeDefaultFormat=()=>Object.assign({},nt.currentDefaults(),Dt().timeFormat),nt.setDefaults=Ft=>{Ft=et.parseFormat(Ft),a.validateFormat(Ft)&&($t=Ft)},nt.getZeroFormat=()=>wt,nt.setZeroFormat=Ft=>wt=typeof Ft=="string"?Ft:null,nt.hasZeroFormat=()=>wt!==null,nt.languageData=Ft=>{if(Ft){if(mt[Ft])return mt[Ft];throw new Error(`Unknown tag "${Ft}"`)}return Dt()},nt.registerLanguage=(Ft,jt=!1)=>{if(!a.validateLanguage(Ft))throw new Error("Invalid language data");mt[Ft.languageTag]=Ft,jt&&Ct(Ft.languageTag)},nt.setLanguage=(Ft,jt=s.languageTag)=>{if(!mt[Ft]){let Nt=Ft.split("-")[0],Lt=Object.keys(mt).find(Ut=>Ut.split("-")[0]===Nt);if(!mt[Lt]){Ct(jt);return}Ct(Lt);return}Ct(Ft)},nt.registerLanguage(s),at=s.languageTag,globalState$2=nt,globalState$2}function commonjsRequire$1(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function loadLanguagesInNode(s,a){s.forEach(et=>{let nt;try{nt=commonjsRequire$1(`../languages/${et}`)}catch{console.error(`Unable to load "${et}". No matching language file found.`)}nt&&a.registerLanguage(nt)})}var loading=s=>({loadLanguagesInNode:a=>loadLanguagesInNode(a,s)}),bignumber={exports:{}};(function(s){(function(a){var et,nt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,at=Math.ceil,mt=Math.floor,wt="[BigNumber Error] ",$t=wt+"Number primitive has more than 15 significant digits: ",Ct=1e14,Dt=14,Ft=9007199254740991,jt=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Nt=1e7,Lt=1e9;function Ut(br){var vr,yr,$r,Sr=xr.prototype={constructor:xr,toString:null,valueOf:null},wr=new xr(1),fr=20,_r=4,ir=-7,rr=21,or=-1e7,ar=1e7,ur=!1,pr=1,cr=0,gr={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},hr="0123456789abcdefghijklmnopqrstuvwxyz",lr=!0;function xr(Rr,Tr){var Er,Br,Nr,zr,Hr,jr,Ur,Fr,Gr=this;if(!(Gr instanceof xr))return new xr(Rr,Tr);if(Tr==null){if(Rr&&Rr._isBigNumber===!0){Gr.s=Rr.s,!Rr.c||Rr.e>ar?Gr.c=Gr.e=null:Rr.e<or?Gr.c=[Gr.e=0]:(Gr.e=Rr.e,Gr.c=Rr.c.slice());return}if((jr=typeof Rr=="number")&&Rr*0==0){if(Gr.s=1/Rr<0?(Rr=-Rr,-1):1,Rr===~~Rr){for(zr=0,Hr=Rr;Hr>=10;Hr/=10,zr++);zr>ar?Gr.c=Gr.e=null:(Gr.e=zr,Gr.c=[Rr]);return}Fr=String(Rr)}else{if(!nt.test(Fr=String(Rr)))return $r(Gr,Fr,jr);Gr.s=Fr.charCodeAt(0)==45?(Fr=Fr.slice(1),-1):1}(zr=Fr.indexOf("."))>-1&&(Fr=Fr.replace(".","")),(Hr=Fr.search(/e/i))>0?(zr<0&&(zr=Hr),zr+=+Fr.slice(Hr+1),Fr=Fr.substring(0,Hr)):zr<0&&(zr=Fr.length)}else{if(tr(Tr,2,hr.length,"Base"),Tr==10&&lr)return Gr=new xr(Rr),Ir(Gr,fr+Gr.e+1,_r);if(Fr=String(Rr),jr=typeof Rr=="number"){if(Rr*0!=0)return $r(Gr,Fr,jr,Tr);if(Gr.s=1/Rr<0?(Fr=Fr.slice(1),-1):1,xr.DEBUG&&Fr.replace(/^0\.0*|\./,"").length>15)throw Error($t+Rr)}else Gr.s=Fr.charCodeAt(0)===45?(Fr=Fr.slice(1),-1):1;for(Er=hr.slice(0,Tr),zr=Hr=0,Ur=Fr.length;Hr<Ur;Hr++)if(Er.indexOf(Br=Fr.charAt(Hr))<0){if(Br=="."){if(Hr>zr){zr=Ur;continue}}else if(!Nr&&(Fr==Fr.toUpperCase()&&(Fr=Fr.toLowerCase())||Fr==Fr.toLowerCase()&&(Fr=Fr.toUpperCase()))){Nr=!0,Hr=-1,zr=0;continue}return $r(Gr,String(Rr),jr,Tr)}jr=!1,Fr=yr(Fr,Tr,10,Gr.s),(zr=Fr.indexOf("."))>-1?Fr=Fr.replace(".",""):zr=Fr.length}for(Hr=0;Fr.charCodeAt(Hr)===48;Hr++);for(Ur=Fr.length;Fr.charCodeAt(--Ur)===48;);if(Fr=Fr.slice(Hr,++Ur)){if(Ur-=Hr,jr&&xr.DEBUG&&Ur>15&&(Rr>Ft||Rr!==mt(Rr)))throw Error($t+Gr.s*Rr);if((zr=zr-Hr-1)>ar)Gr.c=Gr.e=null;else if(zr<or)Gr.c=[Gr.e=0];else{if(Gr.e=zr,Gr.c=[],Hr=(zr+1)%Dt,zr<0&&(Hr+=Dt),Hr<Ur){for(Hr&&Gr.c.push(+Fr.slice(0,Hr)),Ur-=Dt;Hr<Ur;)Gr.c.push(+Fr.slice(Hr,Hr+=Dt));Hr=Dt-(Fr=Fr.slice(Hr)).length}else Hr-=Ur;for(;Hr--;Fr+="0");Gr.c.push(+Fr)}}else Gr.c=[Gr.e=0]}xr.clone=Ut,xr.ROUND_UP=0,xr.ROUND_DOWN=1,xr.ROUND_CEIL=2,xr.ROUND_FLOOR=3,xr.ROUND_HALF_UP=4,xr.ROUND_HALF_DOWN=5,xr.ROUND_HALF_EVEN=6,xr.ROUND_HALF_CEIL=7,xr.ROUND_HALF_FLOOR=8,xr.EUCLID=9,xr.config=xr.set=function(Rr){var Tr,Er;if(Rr!=null)if(typeof Rr=="object"){if(Rr.hasOwnProperty(Tr="DECIMAL_PLACES")&&(Er=Rr[Tr],tr(Er,0,Lt,Tr),fr=Er),Rr.hasOwnProperty(Tr="ROUNDING_MODE")&&(Er=Rr[Tr],tr(Er,0,8,Tr),_r=Er),Rr.hasOwnProperty(Tr="EXPONENTIAL_AT")&&(Er=Rr[Tr],Er&&Er.pop?(tr(Er[0],-1e9,0,Tr),tr(Er[1],0,Lt,Tr),ir=Er[0],rr=Er[1]):(tr(Er,-1e9,Lt,Tr),ir=-(rr=Er<0?-Er:Er))),Rr.hasOwnProperty(Tr="RANGE"))if(Er=Rr[Tr],Er&&Er.pop)tr(Er[0],-1e9,-1,Tr),tr(Er[1],1,Lt,Tr),or=Er[0],ar=Er[1];else if(tr(Er,-1e9,Lt,Tr),Er)or=-(ar=Er<0?-Er:Er);else throw Error(wt+Tr+" cannot be zero: "+Er);if(Rr.hasOwnProperty(Tr="CRYPTO"))if(Er=Rr[Tr],Er===!!Er)if(Er)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ur=Er;else throw ur=!Er,Error(wt+"crypto unavailable");else ur=Er;else throw Error(wt+Tr+" not true or false: "+Er);if(Rr.hasOwnProperty(Tr="MODULO_MODE")&&(Er=Rr[Tr],tr(Er,0,9,Tr),pr=Er),Rr.hasOwnProperty(Tr="POW_PRECISION")&&(Er=Rr[Tr],tr(Er,0,Lt,Tr),cr=Er),Rr.hasOwnProperty(Tr="FORMAT"))if(Er=Rr[Tr],typeof Er=="object")gr=Er;else throw Error(wt+Tr+" not an object: "+Er);if(Rr.hasOwnProperty(Tr="ALPHABET"))if(Er=Rr[Tr],typeof Er=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Er))lr=Er.slice(0,10)=="0123456789",hr=Er;else throw Error(wt+Tr+" invalid: "+Er)}else throw Error(wt+"Object expected: "+Rr);return{DECIMAL_PLACES:fr,ROUNDING_MODE:_r,EXPONENTIAL_AT:[ir,rr],RANGE:[or,ar],CRYPTO:ur,MODULO_MODE:pr,POW_PRECISION:cr,FORMAT:gr,ALPHABET:hr}},xr.isBigNumber=function(Rr){if(!Rr||Rr._isBigNumber!==!0)return!1;if(!xr.DEBUG)return!0;var Tr,Er,Br=Rr.c,Nr=Rr.e,zr=Rr.s;e:if({}.toString.call(Br)=="[object Array]"){if((zr===1||zr===-1)&&Nr>=-1e9&&Nr<=Lt&&Nr===mt(Nr)){if(Br[0]===0){if(Nr===0&&Br.length===1)return!0;break e}if(Tr=(Nr+1)%Dt,Tr<1&&(Tr+=Dt),String(Br[0]).length==Tr){for(Tr=0;Tr<Br.length;Tr++)if(Er=Br[Tr],Er<0||Er>=Ct||Er!==mt(Er))break e;if(Er!==0)return!0}}}else if(Br===null&&Nr===null&&(zr===null||zr===1||zr===-1))return!0;throw Error(wt+"Invalid BigNumber: "+Rr)},xr.maximum=xr.max=function(){return Pr(arguments,-1)},xr.minimum=xr.min=function(){return Pr(arguments,1)},xr.random=function(){var Rr=9007199254740992,Tr=Math.random()*Rr&2097151?function(){return mt(Math.random()*Rr)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Er){var Br,Nr,zr,Hr,jr,Ur=0,Fr=[],Gr=new xr(wr);if(Er==null?Er=fr:tr(Er,0,Lt),Hr=at(Er/Dt),ur)if(crypto.getRandomValues){for(Br=crypto.getRandomValues(new Uint32Array(Hr*=2));Ur<Hr;)jr=Br[Ur]*131072+(Br[Ur+1]>>>11),jr>=9e15?(Nr=crypto.getRandomValues(new Uint32Array(2)),Br[Ur]=Nr[0],Br[Ur+1]=Nr[1]):(Fr.push(jr%1e14),Ur+=2);Ur=Hr/2}else if(crypto.randomBytes){for(Br=crypto.randomBytes(Hr*=7);Ur<Hr;)jr=(Br[Ur]&31)*281474976710656+Br[Ur+1]*1099511627776+Br[Ur+2]*4294967296+Br[Ur+3]*16777216+(Br[Ur+4]<<16)+(Br[Ur+5]<<8)+Br[Ur+6],jr>=9e15?crypto.randomBytes(7).copy(Br,Ur):(Fr.push(jr%1e14),Ur+=7);Ur=Hr/7}else throw ur=!1,Error(wt+"crypto unavailable");if(!ur)for(;Ur<Hr;)jr=Tr(),jr<9e15&&(Fr[Ur++]=jr%1e14);for(Hr=Fr[--Ur],Er%=Dt,Hr&&Er&&(jr=jt[Dt-Er],Fr[Ur]=mt(Hr/jr)*jr);Fr[Ur]===0;Fr.pop(),Ur--);if(Ur<0)Fr=[zr=0];else{for(zr=-1;Fr[0]===0;Fr.splice(0,1),zr-=Dt);for(Ur=1,jr=Fr[0];jr>=10;jr/=10,Ur++);Ur<Dt&&(zr-=Dt-Ur)}return Gr.e=zr,Gr.c=Fr,Gr}}(),xr.sum=function(){for(var Rr=1,Tr=arguments,Er=new xr(Tr[0]);Rr<Tr.length;)Er=Er.plus(Tr[Rr++]);return Er},yr=function(){var Rr="0123456789";function Tr(Er,Br,Nr,zr){for(var Hr,jr=[0],Ur,Fr=0,Gr=Er.length;Fr<Gr;){for(Ur=jr.length;Ur--;jr[Ur]*=Br);for(jr[0]+=zr.indexOf(Er.charAt(Fr++)),Hr=0;Hr<jr.length;Hr++)jr[Hr]>Nr-1&&(jr[Hr+1]==null&&(jr[Hr+1]=0),jr[Hr+1]+=jr[Hr]/Nr|0,jr[Hr]%=Nr)}return jr.reverse()}return function(Er,Br,Nr,zr,Hr){var jr,Ur,Fr,Gr,Wr,nn,Ln,Un,Wn=Er.indexOf("."),io=fr,zn=_r;for(Wn>=0&&(Gr=cr,cr=0,Er=Er.replace(".",""),Un=new xr(Br),nn=Un.pow(Er.length-Wn),cr=Gr,Un.c=Tr(dr(Yt(nn.c),nn.e,"0"),10,Nr,Rr),Un.e=Un.c.length),Ln=Tr(Er,Br,Nr,Hr?(jr=hr,Rr):(jr=Rr,hr)),Fr=Gr=Ln.length;Ln[--Gr]==0;Ln.pop());if(!Ln[0])return jr.charAt(0);if(Wn<0?--Fr:(nn.c=Ln,nn.e=Fr,nn.s=zr,nn=vr(nn,Un,io,zn,Nr),Ln=nn.c,Wr=nn.r,Fr=nn.e),Ur=Fr+io+1,Wn=Ln[Ur],Gr=Nr/2,Wr=Wr||Ur<0||Ln[Ur+1]!=null,Wr=zn<4?(Wn!=null||Wr)&&(zn==0||zn==(nn.s<0?3:2)):Wn>Gr||Wn==Gr&&(zn==4||Wr||zn==6&&Ln[Ur-1]&1||zn==(nn.s<0?8:7)),Ur<1||!Ln[0])Er=Wr?dr(jr.charAt(1),-io,jr.charAt(0)):jr.charAt(0);else{if(Ln.length=Ur,Wr)for(--Nr;++Ln[--Ur]>Nr;)Ln[Ur]=0,Ur||(++Fr,Ln=[1].concat(Ln));for(Gr=Ln.length;!Ln[--Gr];);for(Wn=0,Er="";Wn<=Gr;Er+=jr.charAt(Ln[Wn++]));Er=dr(Er,Fr,jr.charAt(0))}return Er}}(),vr=function(){function Rr(Br,Nr,zr){var Hr,jr,Ur,Fr,Gr=0,Wr=Br.length,nn=Nr%Nt,Ln=Nr/Nt|0;for(Br=Br.slice();Wr--;)Ur=Br[Wr]%Nt,Fr=Br[Wr]/Nt|0,Hr=Ln*Ur+Fr*nn,jr=nn*Ur+Hr%Nt*Nt+Gr,Gr=(jr/zr|0)+(Hr/Nt|0)+Ln*Fr,Br[Wr]=jr%zr;return Gr&&(Br=[Gr].concat(Br)),Br}function Tr(Br,Nr,zr,Hr){var jr,Ur;if(zr!=Hr)Ur=zr>Hr?1:-1;else for(jr=Ur=0;jr<zr;jr++)if(Br[jr]!=Nr[jr]){Ur=Br[jr]>Nr[jr]?1:-1;break}return Ur}function Er(Br,Nr,zr,Hr){for(var jr=0;zr--;)Br[zr]-=jr,jr=Br[zr]<Nr[zr]?1:0,Br[zr]=jr*Hr+Br[zr]-Nr[zr];for(;!Br[0]&&Br.length>1;Br.splice(0,1));}return function(Br,Nr,zr,Hr,jr){var Ur,Fr,Gr,Wr,nn,Ln,Un,Wn,io,zn,Zn,bo,Or,Cr,kr,Lr,Zr,an=Br.s==Nr.s?1:-1,rn=Br.c,Yn=Nr.c;if(!rn||!rn[0]||!Yn||!Yn[0])return new xr(!Br.s||!Nr.s||(rn?Yn&&rn[0]==Yn[0]:!Yn)?NaN:rn&&rn[0]==0||!Yn?an*0:an/0);for(Wn=new xr(an),io=Wn.c=[],Fr=Br.e-Nr.e,an=zr+Fr+1,jr||(jr=Ct,Fr=Vt(Br.e/Dt)-Vt(Nr.e/Dt),an=an/Dt|0),Gr=0;Yn[Gr]==(rn[Gr]||0);Gr++);if(Yn[Gr]>(rn[Gr]||0)&&Fr--,an<0)io.push(1),Wr=!0;else{for(Cr=rn.length,Lr=Yn.length,Gr=0,an+=2,nn=mt(jr/(Yn[0]+1)),nn>1&&(Yn=Rr(Yn,nn,jr),rn=Rr(rn,nn,jr),Lr=Yn.length,Cr=rn.length),Or=Lr,zn=rn.slice(0,Lr),Zn=zn.length;Zn<Lr;zn[Zn++]=0);Zr=Yn.slice(),Zr=[0].concat(Zr),kr=Yn[0],Yn[1]>=jr/2&&kr++;do{if(nn=0,Ur=Tr(Yn,zn,Lr,Zn),Ur<0){if(bo=zn[0],Lr!=Zn&&(bo=bo*jr+(zn[1]||0)),nn=mt(bo/kr),nn>1)for(nn>=jr&&(nn=jr-1),Ln=Rr(Yn,nn,jr),Un=Ln.length,Zn=zn.length;Tr(Ln,zn,Un,Zn)==1;)nn--,Er(Ln,Lr<Un?Zr:Yn,Un,jr),Un=Ln.length,Ur=1;else nn==0&&(Ur=nn=1),Ln=Yn.slice(),Un=Ln.length;if(Un<Zn&&(Ln=[0].concat(Ln)),Er(zn,Ln,Zn,jr),Zn=zn.length,Ur==-1)for(;Tr(Yn,zn,Lr,Zn)<1;)nn++,Er(zn,Lr<Zn?Zr:Yn,Zn,jr),Zn=zn.length}else Ur===0&&(nn++,zn=[0]);io[Gr++]=nn,zn[0]?zn[Zn++]=rn[Or]||0:(zn=[rn[Or]],Zn=1)}while((Or++<Cr||zn[0]!=null)&&an--);Wr=zn[0]!=null,io[0]||io.splice(0,1)}if(jr==Ct){for(Gr=1,an=io[0];an>=10;an/=10,Gr++);Ir(Wn,zr+(Wn.e=Gr+Fr*Dt-1)+1,Hr,Wr)}else Wn.e=Fr,Wn.r=+Wr;return Wn}}();function Mr(Rr,Tr,Er,Br){var Nr,zr,Hr,jr,Ur;if(Er==null?Er=_r:tr(Er,0,8),!Rr.c)return Rr.toString();if(Nr=Rr.c[0],Hr=Rr.e,Tr==null)Ur=Yt(Rr.c),Ur=Br==1||Br==2&&(Hr<=ir||Hr>=rr)?sr(Ur,Hr):dr(Ur,Hr,"0");else if(Rr=Ir(new xr(Rr),Tr,Er),zr=Rr.e,Ur=Yt(Rr.c),jr=Ur.length,Br==1||Br==2&&(Tr<=zr||zr<=ir)){for(;jr<Tr;Ur+="0",jr++);Ur=sr(Ur,zr)}else if(Tr-=Hr,Ur=dr(Ur,zr,"0"),zr+1>jr){if(--Tr>0)for(Ur+=".";Tr--;Ur+="0");}else if(Tr+=zr-jr,Tr>0)for(zr+1==jr&&(Ur+=".");Tr--;Ur+="0");return Rr.s<0&&Nr?"-"+Ur:Ur}function Pr(Rr,Tr){for(var Er,Br,Nr=1,zr=new xr(Rr[0]);Nr<Rr.length;Nr++)Br=new xr(Rr[Nr]),(!Br.s||(Er=er(zr,Br))===Tr||Er===0&&zr.s===Tr)&&(zr=Br);return zr}function Ar(Rr,Tr,Er){for(var Br=1,Nr=Tr.length;!Tr[--Nr];Tr.pop());for(Nr=Tr[0];Nr>=10;Nr/=10,Br++);return(Er=Br+Er*Dt-1)>ar?Rr.c=Rr.e=null:Er<or?Rr.c=[Rr.e=0]:(Rr.e=Er,Rr.c=Tr),Rr}$r=function(){var Rr=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Tr=/^([^.]+)\.$/,Er=/^\.([^.]+)$/,Br=/^-?(Infinity|NaN)$/,Nr=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(zr,Hr,jr,Ur){var Fr,Gr=jr?Hr:Hr.replace(Nr,"");if(Br.test(Gr))zr.s=isNaN(Gr)?null:Gr<0?-1:1;else{if(!jr&&(Gr=Gr.replace(Rr,function(Wr,nn,Ln){return Fr=(Ln=Ln.toLowerCase())=="x"?16:Ln=="b"?2:8,!Ur||Ur==Fr?nn:Wr}),Ur&&(Fr=Ur,Gr=Gr.replace(Tr,"$1").replace(Er,"0.$1")),Hr!=Gr))return new xr(Gr,Fr);if(xr.DEBUG)throw Error(wt+"Not a"+(Ur?" base "+Ur:"")+" number: "+Hr);zr.s=null}zr.c=zr.e=null}}();function Ir(Rr,Tr,Er,Br){var Nr,zr,Hr,jr,Ur,Fr,Gr,Wr=Rr.c,nn=jt;if(Wr){e:{for(Nr=1,jr=Wr[0];jr>=10;jr/=10,Nr++);if(zr=Tr-Nr,zr<0)zr+=Dt,Hr=Tr,Ur=Wr[Fr=0],Gr=mt(Ur/nn[Nr-Hr-1]%10);else if(Fr=at((zr+1)/Dt),Fr>=Wr.length)if(Br){for(;Wr.length<=Fr;Wr.push(0));Ur=Gr=0,Nr=1,zr%=Dt,Hr=zr-Dt+1}else break e;else{for(Ur=jr=Wr[Fr],Nr=1;jr>=10;jr/=10,Nr++);zr%=Dt,Hr=zr-Dt+Nr,Gr=Hr<0?0:mt(Ur/nn[Nr-Hr-1]%10)}if(Br=Br||Tr<0||Wr[Fr+1]!=null||(Hr<0?Ur:Ur%nn[Nr-Hr-1]),Br=Er<4?(Gr||Br)&&(Er==0||Er==(Rr.s<0?3:2)):Gr>5||Gr==5&&(Er==4||Br||Er==6&&(zr>0?Hr>0?Ur/nn[Nr-Hr]:0:Wr[Fr-1])%10&1||Er==(Rr.s<0?8:7)),Tr<1||!Wr[0])return Wr.length=0,Br?(Tr-=Rr.e+1,Wr[0]=nn[(Dt-Tr%Dt)%Dt],Rr.e=-Tr||0):Wr[0]=Rr.e=0,Rr;if(zr==0?(Wr.length=Fr,jr=1,Fr--):(Wr.length=Fr+1,jr=nn[Dt-zr],Wr[Fr]=Hr>0?mt(Ur/nn[Nr-Hr]%nn[Hr])*jr:0),Br)for(;;)if(Fr==0){for(zr=1,Hr=Wr[0];Hr>=10;Hr/=10,zr++);for(Hr=Wr[0]+=jr,jr=1;Hr>=10;Hr/=10,jr++);zr!=jr&&(Rr.e++,Wr[0]==Ct&&(Wr[0]=1));break}else{if(Wr[Fr]+=jr,Wr[Fr]!=Ct)break;Wr[Fr--]=0,jr=1}for(zr=Wr.length;Wr[--zr]===0;Wr.pop());}Rr.e>ar?Rr.c=Rr.e=null:Rr.e<or&&(Rr.c=[Rr.e=0])}return Rr}function qr(Rr){var Tr,Er=Rr.e;return Er===null?Rr.toString():(Tr=Yt(Rr.c),Tr=Er<=ir||Er>=rr?sr(Tr,Er):dr(Tr,Er,"0"),Rr.s<0?"-"+Tr:Tr)}return Sr.absoluteValue=Sr.abs=function(){var Rr=new xr(this);return Rr.s<0&&(Rr.s=1),Rr},Sr.comparedTo=function(Rr,Tr){return er(this,new xr(Rr,Tr))},Sr.decimalPlaces=Sr.dp=function(Rr,Tr){var Er,Br,Nr,zr=this;if(Rr!=null)return tr(Rr,0,Lt),Tr==null?Tr=_r:tr(Tr,0,8),Ir(new xr(zr),Rr+zr.e+1,Tr);if(!(Er=zr.c))return null;if(Br=((Nr=Er.length-1)-Vt(this.e/Dt))*Dt,Nr=Er[Nr])for(;Nr%10==0;Nr/=10,Br--);return Br<0&&(Br=0),Br},Sr.dividedBy=Sr.div=function(Rr,Tr){return vr(this,new xr(Rr,Tr),fr,_r)},Sr.dividedToIntegerBy=Sr.idiv=function(Rr,Tr){return vr(this,new xr(Rr,Tr),0,1)},Sr.exponentiatedBy=Sr.pow=function(Rr,Tr){var Er,Br,Nr,zr,Hr,jr,Ur,Fr,Gr,Wr=this;if(Rr=new xr(Rr),Rr.c&&!Rr.isInteger())throw Error(wt+"Exponent not an integer: "+qr(Rr));if(Tr!=null&&(Tr=new xr(Tr)),jr=Rr.e>14,!Wr.c||!Wr.c[0]||Wr.c[0]==1&&!Wr.e&&Wr.c.length==1||!Rr.c||!Rr.c[0])return Gr=new xr(Math.pow(+qr(Wr),jr?Rr.s*(2-nr(Rr)):+qr(Rr))),Tr?Gr.mod(Tr):Gr;if(Ur=Rr.s<0,Tr){if(Tr.c?!Tr.c[0]:!Tr.s)return new xr(NaN);Br=!Ur&&Wr.isInteger()&&Tr.isInteger(),Br&&(Wr=Wr.mod(Tr))}else{if(Rr.e>9&&(Wr.e>0||Wr.e<-1||(Wr.e==0?Wr.c[0]>1||jr&&Wr.c[1]>=24e7:Wr.c[0]<8e13||jr&&Wr.c[0]<=9999975e7)))return zr=Wr.s<0&&nr(Rr)?-0:0,Wr.e>-1&&(zr=1/zr),new xr(Ur?1/zr:zr);cr&&(zr=at(cr/Dt+2))}for(jr?(Er=new xr(.5),Ur&&(Rr.s=1),Fr=nr(Rr)):(Nr=Math.abs(+qr(Rr)),Fr=Nr%2),Gr=new xr(wr);;){if(Fr){if(Gr=Gr.times(Wr),!Gr.c)break;zr?Gr.c.length>zr&&(Gr.c.length=zr):Br&&(Gr=Gr.mod(Tr))}if(Nr){if(Nr=mt(Nr/2),Nr===0)break;Fr=Nr%2}else if(Rr=Rr.times(Er),Ir(Rr,Rr.e+1,1),Rr.e>14)Fr=nr(Rr);else{if(Nr=+qr(Rr),Nr===0)break;Fr=Nr%2}Wr=Wr.times(Wr),zr?Wr.c&&Wr.c.length>zr&&(Wr.c.length=zr):Br&&(Wr=Wr.mod(Tr))}return Br?Gr:(Ur&&(Gr=wr.div(Gr)),Tr?Gr.mod(Tr):zr?Ir(Gr,cr,_r,Hr):Gr)},Sr.integerValue=function(Rr){var Tr=new xr(this);return Rr==null?Rr=_r:tr(Rr,0,8),Ir(Tr,Tr.e+1,Rr)},Sr.isEqualTo=Sr.eq=function(Rr,Tr){return er(this,new xr(Rr,Tr))===0},Sr.isFinite=function(){return!!this.c},Sr.isGreaterThan=Sr.gt=function(Rr,Tr){return er(this,new xr(Rr,Tr))>0},Sr.isGreaterThanOrEqualTo=Sr.gte=function(Rr,Tr){return(Tr=er(this,new xr(Rr,Tr)))===1||Tr===0},Sr.isInteger=function(){return!!this.c&&Vt(this.e/Dt)>this.c.length-2},Sr.isLessThan=Sr.lt=function(Rr,Tr){return er(this,new xr(Rr,Tr))<0},Sr.isLessThanOrEqualTo=Sr.lte=function(Rr,Tr){return(Tr=er(this,new xr(Rr,Tr)))===-1||Tr===0},Sr.isNaN=function(){return!this.s},Sr.isNegative=function(){return this.s<0},Sr.isPositive=function(){return this.s>0},Sr.isZero=function(){return!!this.c&&this.c[0]==0},Sr.minus=function(Rr,Tr){var Er,Br,Nr,zr,Hr=this,jr=Hr.s;if(Rr=new xr(Rr,Tr),Tr=Rr.s,!jr||!Tr)return new xr(NaN);if(jr!=Tr)return Rr.s=-Tr,Hr.plus(Rr);var Ur=Hr.e/Dt,Fr=Rr.e/Dt,Gr=Hr.c,Wr=Rr.c;if(!Ur||!Fr){if(!Gr||!Wr)return Gr?(Rr.s=-Tr,Rr):new xr(Wr?Hr:NaN);if(!Gr[0]||!Wr[0])return Wr[0]?(Rr.s=-Tr,Rr):new xr(Gr[0]?Hr:_r==3?-0:0)}if(Ur=Vt(Ur),Fr=Vt(Fr),Gr=Gr.slice(),jr=Ur-Fr){for((zr=jr<0)?(jr=-jr,Nr=Gr):(Fr=Ur,Nr=Wr),Nr.reverse(),Tr=jr;Tr--;Nr.push(0));Nr.reverse()}else for(Br=(zr=(jr=Gr.length)<(Tr=Wr.length))?jr:Tr,jr=Tr=0;Tr<Br;Tr++)if(Gr[Tr]!=Wr[Tr]){zr=Gr[Tr]<Wr[Tr];break}if(zr&&(Nr=Gr,Gr=Wr,Wr=Nr,Rr.s=-Rr.s),Tr=(Br=Wr.length)-(Er=Gr.length),Tr>0)for(;Tr--;Gr[Er++]=0);for(Tr=Ct-1;Br>jr;){if(Gr[--Br]<Wr[Br]){for(Er=Br;Er&&!Gr[--Er];Gr[Er]=Tr);--Gr[Er],Gr[Br]+=Ct}Gr[Br]-=Wr[Br]}for(;Gr[0]==0;Gr.splice(0,1),--Fr);return Gr[0]?Ar(Rr,Gr,Fr):(Rr.s=_r==3?-1:1,Rr.c=[Rr.e=0],Rr)},Sr.modulo=Sr.mod=function(Rr,Tr){var Er,Br,Nr=this;return Rr=new xr(Rr,Tr),!Nr.c||!Rr.s||Rr.c&&!Rr.c[0]?new xr(NaN):!Rr.c||Nr.c&&!Nr.c[0]?new xr(Nr):(pr==9?(Br=Rr.s,Rr.s=1,Er=vr(Nr,Rr,0,3),Rr.s=Br,Er.s*=Br):Er=vr(Nr,Rr,0,pr),Rr=Nr.minus(Er.times(Rr)),!Rr.c[0]&&pr==1&&(Rr.s=Nr.s),Rr)},Sr.multipliedBy=Sr.times=function(Rr,Tr){var Er,Br,Nr,zr,Hr,jr,Ur,Fr,Gr,Wr,nn,Ln,Un,Wn,io,zn=this,Zn=zn.c,bo=(Rr=new xr(Rr,Tr)).c;if(!Zn||!bo||!Zn[0]||!bo[0])return!zn.s||!Rr.s||Zn&&!Zn[0]&&!bo||bo&&!bo[0]&&!Zn?Rr.c=Rr.e=Rr.s=null:(Rr.s*=zn.s,!Zn||!bo?Rr.c=Rr.e=null:(Rr.c=[0],Rr.e=0)),Rr;for(Br=Vt(zn.e/Dt)+Vt(Rr.e/Dt),Rr.s*=zn.s,Ur=Zn.length,Wr=bo.length,Ur<Wr&&(Un=Zn,Zn=bo,bo=Un,Nr=Ur,Ur=Wr,Wr=Nr),Nr=Ur+Wr,Un=[];Nr--;Un.push(0));for(Wn=Ct,io=Nt,Nr=Wr;--Nr>=0;){for(Er=0,nn=bo[Nr]%io,Ln=bo[Nr]/io|0,Hr=Ur,zr=Nr+Hr;zr>Nr;)Fr=Zn[--Hr]%io,Gr=Zn[Hr]/io|0,jr=Ln*Fr+Gr*nn,Fr=nn*Fr+jr%io*io+Un[zr]+Er,Er=(Fr/Wn|0)+(jr/io|0)+Ln*Gr,Un[zr--]=Fr%Wn;Un[zr]=Er}return Er?++Br:Un.splice(0,1),Ar(Rr,Un,Br)},Sr.negated=function(){var Rr=new xr(this);return Rr.s=-Rr.s||null,Rr},Sr.plus=function(Rr,Tr){var Er,Br=this,Nr=Br.s;if(Rr=new xr(Rr,Tr),Tr=Rr.s,!Nr||!Tr)return new xr(NaN);if(Nr!=Tr)return Rr.s=-Tr,Br.minus(Rr);var zr=Br.e/Dt,Hr=Rr.e/Dt,jr=Br.c,Ur=Rr.c;if(!zr||!Hr){if(!jr||!Ur)return new xr(Nr/0);if(!jr[0]||!Ur[0])return Ur[0]?Rr:new xr(jr[0]?Br:Nr*0)}if(zr=Vt(zr),Hr=Vt(Hr),jr=jr.slice(),Nr=zr-Hr){for(Nr>0?(Hr=zr,Er=Ur):(Nr=-Nr,Er=jr),Er.reverse();Nr--;Er.push(0));Er.reverse()}for(Nr=jr.length,Tr=Ur.length,Nr-Tr<0&&(Er=Ur,Ur=jr,jr=Er,Tr=Nr),Nr=0;Tr;)Nr=(jr[--Tr]=jr[Tr]+Ur[Tr]+Nr)/Ct|0,jr[Tr]=Ct===jr[Tr]?0:jr[Tr]%Ct;return Nr&&(jr=[Nr].concat(jr),++Hr),Ar(Rr,jr,Hr)},Sr.precision=Sr.sd=function(Rr,Tr){var Er,Br,Nr,zr=this;if(Rr!=null&&Rr!==!!Rr)return tr(Rr,1,Lt),Tr==null?Tr=_r:tr(Tr,0,8),Ir(new xr(zr),Rr,Tr);if(!(Er=zr.c))return null;if(Nr=Er.length-1,Br=Nr*Dt+1,Nr=Er[Nr]){for(;Nr%10==0;Nr/=10,Br--);for(Nr=Er[0];Nr>=10;Nr/=10,Br++);}return Rr&&zr.e+1>Br&&(Br=zr.e+1),Br},Sr.shiftedBy=function(Rr){return tr(Rr,-9007199254740991,Ft),this.times("1e"+Rr)},Sr.squareRoot=Sr.sqrt=function(){var Rr,Tr,Er,Br,Nr,zr=this,Hr=zr.c,jr=zr.s,Ur=zr.e,Fr=fr+4,Gr=new xr("0.5");if(jr!==1||!Hr||!Hr[0])return new xr(!jr||jr<0&&(!Hr||Hr[0])?NaN:Hr?zr:1/0);if(jr=Math.sqrt(+qr(zr)),jr==0||jr==1/0?(Tr=Yt(Hr),(Tr.length+Ur)%2==0&&(Tr+="0"),jr=Math.sqrt(+Tr),Ur=Vt((Ur+1)/2)-(Ur<0||Ur%2),jr==1/0?Tr="5e"+Ur:(Tr=jr.toExponential(),Tr=Tr.slice(0,Tr.indexOf("e")+1)+Ur),Er=new xr(Tr)):Er=new xr(jr+""),Er.c[0]){for(Ur=Er.e,jr=Ur+Fr,jr<3&&(jr=0);;)if(Nr=Er,Er=Gr.times(Nr.plus(vr(zr,Nr,Fr,1))),Yt(Nr.c).slice(0,jr)===(Tr=Yt(Er.c)).slice(0,jr))if(Er.e<Ur&&--jr,Tr=Tr.slice(jr-3,jr+1),Tr=="9999"||!Br&&Tr=="4999"){if(!Br&&(Ir(Nr,Nr.e+fr+2,0),Nr.times(Nr).eq(zr))){Er=Nr;break}Fr+=4,jr+=4,Br=1}else{(!+Tr||!+Tr.slice(1)&&Tr.charAt(0)=="5")&&(Ir(Er,Er.e+fr+2,1),Rr=!Er.times(Er).eq(zr));break}}return Ir(Er,Er.e+fr+1,_r,Rr)},Sr.toExponential=function(Rr,Tr){return Rr!=null&&(tr(Rr,0,Lt),Rr++),Mr(this,Rr,Tr,1)},Sr.toFixed=function(Rr,Tr){return Rr!=null&&(tr(Rr,0,Lt),Rr=Rr+this.e+1),Mr(this,Rr,Tr)},Sr.toFormat=function(Rr,Tr,Er){var Br,Nr=this;if(Er==null)Rr!=null&&Tr&&typeof Tr=="object"?(Er=Tr,Tr=null):Rr&&typeof Rr=="object"?(Er=Rr,Rr=Tr=null):Er=gr;else if(typeof Er!="object")throw Error(wt+"Argument not an object: "+Er);if(Br=Nr.toFixed(Rr,Tr),Nr.c){var zr,Hr=Br.split("."),jr=+Er.groupSize,Ur=+Er.secondaryGroupSize,Fr=Er.groupSeparator||"",Gr=Hr[0],Wr=Hr[1],nn=Nr.s<0,Ln=nn?Gr.slice(1):Gr,Un=Ln.length;if(Ur&&(zr=jr,jr=Ur,Ur=zr,Un-=zr),jr>0&&Un>0){for(zr=Un%jr||jr,Gr=Ln.substr(0,zr);zr<Un;zr+=jr)Gr+=Fr+Ln.substr(zr,jr);Ur>0&&(Gr+=Fr+Ln.slice(zr)),nn&&(Gr="-"+Gr)}Br=Wr?Gr+(Er.decimalSeparator||"")+((Ur=+Er.fractionGroupSize)?Wr.replace(new RegExp("\\d{"+Ur+"}\\B","g"),"$&"+(Er.fractionGroupSeparator||"")):Wr):Gr}return(Er.prefix||"")+Br+(Er.suffix||"")},Sr.toFraction=function(Rr){var Tr,Er,Br,Nr,zr,Hr,jr,Ur,Fr,Gr,Wr,nn,Ln=this,Un=Ln.c;if(Rr!=null&&(jr=new xr(Rr),!jr.isInteger()&&(jr.c||jr.s!==1)||jr.lt(wr)))throw Error(wt+"Argument "+(jr.isInteger()?"out of range: ":"not an integer: ")+qr(jr));if(!Un)return new xr(Ln);for(Tr=new xr(wr),Fr=Er=new xr(wr),Br=Ur=new xr(wr),nn=Yt(Un),zr=Tr.e=nn.length-Ln.e-1,Tr.c[0]=jt[(Hr=zr%Dt)<0?Dt+Hr:Hr],Rr=!Rr||jr.comparedTo(Tr)>0?zr>0?Tr:Fr:jr,Hr=ar,ar=1/0,jr=new xr(nn),Ur.c[0]=0;Gr=vr(jr,Tr,0,1),Nr=Er.plus(Gr.times(Br)),Nr.comparedTo(Rr)!=1;)Er=Br,Br=Nr,Fr=Ur.plus(Gr.times(Nr=Fr)),Ur=Nr,Tr=jr.minus(Gr.times(Nr=Tr)),jr=Nr;return Nr=vr(Rr.minus(Er),Br,0,1),Ur=Ur.plus(Nr.times(Fr)),Er=Er.plus(Nr.times(Br)),Ur.s=Fr.s=Ln.s,zr=zr*2,Wr=vr(Fr,Br,zr,_r).minus(Ln).abs().comparedTo(vr(Ur,Er,zr,_r).minus(Ln).abs())<1?[Fr,Br]:[Ur,Er],ar=Hr,Wr},Sr.toNumber=function(){return+qr(this)},Sr.toPrecision=function(Rr,Tr){return Rr!=null&&tr(Rr,1,Lt),Mr(this,Rr,Tr,2)},Sr.toString=function(Rr){var Tr,Er=this,Br=Er.s,Nr=Er.e;return Nr===null?Br?(Tr="Infinity",Br<0&&(Tr="-"+Tr)):Tr="NaN":(Rr==null?Tr=Nr<=ir||Nr>=rr?sr(Yt(Er.c),Nr):dr(Yt(Er.c),Nr,"0"):Rr===10&&lr?(Er=Ir(new xr(Er),fr+Nr+1,_r),Tr=dr(Yt(Er.c),Er.e,"0")):(tr(Rr,2,hr.length,"Base"),Tr=yr(dr(Yt(Er.c),Nr,"0"),10,Rr,Br,!0)),Br<0&&Er.c[0]&&(Tr="-"+Tr)),Tr},Sr.valueOf=Sr.toJSON=function(){return qr(this)},Sr._isBigNumber=!0,br!=null&&xr.set(br),xr}function Vt(br){var vr=br|0;return br>0||br===vr?vr:vr-1}function Yt(br){for(var vr,yr,$r=1,Sr=br.length,wr=br[0]+"";$r<Sr;){for(vr=br[$r++]+"",yr=Dt-vr.length;yr--;vr="0"+vr);wr+=vr}for(Sr=wr.length;wr.charCodeAt(--Sr)===48;);return wr.slice(0,Sr+1||1)}function er(br,vr){var yr,$r,Sr=br.c,wr=vr.c,fr=br.s,_r=vr.s,ir=br.e,rr=vr.e;if(!fr||!_r)return null;if(yr=Sr&&!Sr[0],$r=wr&&!wr[0],yr||$r)return yr?$r?0:-_r:fr;if(fr!=_r)return fr;if(yr=fr<0,$r=ir==rr,!Sr||!wr)return $r?0:!Sr^yr?1:-1;if(!$r)return ir>rr^yr?1:-1;for(_r=(ir=Sr.length)<(rr=wr.length)?ir:rr,fr=0;fr<_r;fr++)if(Sr[fr]!=wr[fr])return Sr[fr]>wr[fr]^yr?1:-1;return ir==rr?0:ir>rr^yr?1:-1}function tr(br,vr,yr,$r){if(br<vr||br>yr||br!==mt(br))throw Error(wt+($r||"Argument")+(typeof br=="number"?br<vr||br>yr?" out of range: ":" not an integer: ":" not a primitive number: ")+String(br))}function nr(br){var vr=br.c.length-1;return Vt(br.e/Dt)==vr&&br.c[vr]%2!=0}function sr(br,vr){return(br.length>1?br.charAt(0)+"."+br.slice(1):br)+(vr<0?"e":"e+")+vr}function dr(br,vr,yr){var $r,Sr;if(vr<0){for(Sr=yr+".";++vr;Sr+=yr);br=Sr+br}else if($r=br.length,++vr>$r){for(Sr=yr,vr-=$r;--vr;Sr+=yr);br+=Sr}else vr<$r&&(br=br.slice(0,vr)+"."+br.slice(vr));return br}et=Ut(),et.default=et.BigNumber=et,s.exports?s.exports=et:(a||(a=typeof self<"u"&&self?self:window),a.BigNumber=et)})(commonjsGlobal)})(bignumber);var bignumberExports=bignumber.exports;/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const globalState$1=requireGlobalState(),validating=requireValidating(),parsing$1=parsing$2,BigNumber$1=bignumberExports,powers={trillion:Math.pow(10,12),billion:Math.pow(10,9),million:Math.pow(10,6),thousand:Math.pow(10,3)},defaultOptions$2={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1,roundingFunction:Math.round,spaceSeparatedAbbreviation:!1},{binarySuffixes,decimalSuffixes}=globalState$1.currentBytes(),bytes={general:{scale:1024,suffixes:decimalSuffixes},binary:{scale:1024,suffixes:binarySuffixes},decimal:{scale:1e3,suffixes:decimalSuffixes}};function format$2(s,a={},et){if(typeof a=="string"&&(a=parsing$1.parseFormat(a)),!validating.validateFormat(a))return"ERROR: invalid format";let at=a.prefix||"",mt=a.postfix||"",wt=formatNumbro(s,a,et);return wt=insertPrefix(wt,at),wt=insertPostfix(wt,mt),wt}function formatNumbro(s,a,et){switch(a.output){case"currency":return a=formatOrDefault(a,globalState$1.currentCurrencyDefaultFormat()),formatCurrency$2(s,a,globalState$1);case"percent":return a=formatOrDefault(a,globalState$1.currentPercentageDefaultFormat()),formatPercentage$1(s,a,globalState$1,et);case"byte":return a=formatOrDefault(a,globalState$1.currentByteDefaultFormat()),formatByte(s,a,globalState$1,et);case"time":return a=formatOrDefault(a,globalState$1.currentTimeDefaultFormat()),formatTime(s);case"ordinal":return a=formatOrDefault(a,globalState$1.currentOrdinalDefaultFormat()),formatOrdinal(s,a,globalState$1);case"number":default:return formatNumber$1({instance:s,providedFormat:a})}}function getDecimalByteUnit(s){let a=bytes.decimal;return getFormatByteUnits(s._value,a.suffixes,a.scale).suffix}function getBinaryByteUnit(s){let a=bytes.binary;return getFormatByteUnits(s._value,a.suffixes,a.scale).suffix}function getByteUnit(s){let a=bytes.general;return getFormatByteUnits(s._value,a.suffixes,a.scale).suffix}function getFormatByteUnits(s,a,et){let nt=a[0],at=Math.abs(s);if(at>=et){for(let mt=1;mt<a.length;++mt){let wt=Math.pow(et,mt),$t=Math.pow(et,mt+1);if(at>=wt&&at<$t){nt=a[mt],s=s/wt;break}}nt===a[0]&&(s=s/Math.pow(et,a.length-1),nt=a[a.length-1])}return{value:s,suffix:nt}}function formatByte(s,a,et,nt){let at=a.base||"binary",mt=Object.assign({},defaultOptions$2,a);const{binarySuffixes:wt,decimalSuffixes:$t}=et.currentBytes();let Dt={general:{scale:1024,suffixes:$t||decimalSuffixes,marker:"bd"},binary:{scale:1024,suffixes:wt||binarySuffixes,marker:"b"},decimal:{scale:1e3,suffixes:$t||decimalSuffixes,marker:"d"}}[at],{value:Ft,suffix:jt}=getFormatByteUnits(s._value,Dt.suffixes,Dt.scale);return`${formatNumber$1({instance:nt(Ft),providedFormat:a,state:et,defaults:et.currentByteDefaultFormat()})}${mt.spaceSeparated?" ":""}${jt}`}function formatOrdinal(s,a,et){let nt=et.currentOrdinal(),at=Object.assign({},defaultOptions$2,a),mt=formatNumber$1({instance:s,providedFormat:a,state:et}),wt=nt(s._value);return`${mt}${at.spaceSeparated?" ":""}${wt}`}function formatTime(s){let a=Math.floor(s._value/60/60),et=Math.floor((s._value-a*60*60)/60),nt=Math.round(s._value-a*60*60-et*60);return`${a}:${et<10?"0":""}${et}:${nt<10?"0":""}${nt}`}function formatPercentage$1(s,a,et,nt){let at=a.prefixSymbol,mt=formatNumber$1({instance:nt(s._value*100),providedFormat:a,state:et}),wt=Object.assign({},defaultOptions$2,a);return at?`%${wt.spaceSeparated?" ":""}${mt}`:`${mt}${wt.spaceSeparated?" ":""}%`}function formatCurrency$2(s,a,et){const nt=et.currentCurrency();let at=Object.assign({},a),mt=Object.assign({},defaultOptions$2,at),wt,$t="",Ct=!!mt.totalLength||!!mt.forceAverage||mt.average,Dt=at.currencyPosition||nt.position,Ft=at.currencySymbol||nt.symbol;const jt=mt.spaceSeparatedCurrency!==void 0?mt.spaceSeparatedCurrency:mt.spaceSeparated;at.lowPrecision===void 0&&(at.lowPrecision=!1),jt&&($t=" "),Dt==="infix"&&(wt=$t+Ft+$t);let Nt=formatNumber$1({instance:s,providedFormat:at,state:et,decimalSeparator:wt});return Dt==="prefix"&&(s._value<0&&mt.negative==="sign"?Nt=`-${$t}${Ft}${Nt.slice(1)}`:s._value>0&&mt.forceSign?Nt=`+${$t}${Ft}${Nt.slice(1)}`:Nt=Ft+$t+Nt),(!Dt||Dt==="postfix")&&($t=!mt.spaceSeparatedAbbreviation&&Ct?"":$t,Nt=Nt+$t+Ft),Nt}function computeAverage({value:s,forceAverage:a,lowPrecision:et=!0,abbreviations:nt,spaceSeparated:at=!1,totalLength:mt=0,roundingFunction:wt=Math.round}){let $t="",Ct=Math.abs(s),Dt=-1;if(a&&nt[a]&&powers[a]?($t=nt[a],s=s/powers[a]):Ct>=powers.trillion||et&&wt(Ct/powers.trillion)===1?($t=nt.trillion,s=s/powers.trillion):Ct<powers.trillion&&Ct>=powers.billion||et&&wt(Ct/powers.billion)===1?($t=nt.billion,s=s/powers.billion):Ct<powers.billion&&Ct>=powers.million||et&&wt(Ct/powers.million)===1?($t=nt.million,s=s/powers.million):(Ct<powers.million&&Ct>=powers.thousand||et&&wt(Ct/powers.thousand)===1)&&($t=nt.thousand,s=s/powers.thousand),$t&&($t=(at?" ":"")+$t),mt){let jt=s<0,Nt=s.toString().split(".")[0],Lt=jt?Nt.length-1:Nt.length;Dt=Math.max(mt-Lt,0)}return{value:s,abbreviation:$t,mantissaPrecision:Dt}}function computeExponential({value:s,characteristicPrecision:a}){let[et,nt]=s.toExponential().split("e"),at=+et;if(!a)return{value:at,abbreviation:`e${nt}`};let mt=1;return mt<a&&(at=at*Math.pow(10,a-mt),nt=+nt-(a-mt),nt=nt>=0?`+${nt}`:nt),{value:at,abbreviation:`e${nt}`}}function zeroes(s){let a="";for(let et=0;et<s;et++)a+="0";return a}function toFixedLarge(s,a){let et=s.toString(),[nt,at]=et.split("e"),[mt,wt=""]=nt.split(".");if(+at>0)et=mt+wt+zeroes(at-wt.length);else{let $t=".";+mt<0?$t=`-0${$t}`:$t=`0${$t}`;let Ct=(zeroes(-at-1)+Math.abs(mt)+wt).substr(0,a);Ct.length<a&&(Ct+=zeroes(a-Ct.length)),et=$t+Ct}return+at>0&&a>0&&(et+=`.${zeroes(a)}`),et}function toFixed(s,a,et=Math.round){return s.toString().indexOf("e")!==-1?toFixedLarge(s,a):new BigNumber$1(et(+`${s}e+${a}`)/Math.pow(10,a)).toFixed(a)}function setMantissaPrecision(s,a,et,nt,at,mt){if(nt===-1)return s;let wt=toFixed(a,nt,mt),[$t,Ct=""]=wt.toString().split(".");if(Ct.match(/^0+$/)&&(et||at))return $t;let Dt=Ct.match(/0+$/);return at&&Dt?`${$t}.${Ct.toString().slice(0,Dt.index)}`:wt.toString()}function setCharacteristicPrecision(s,a,et,nt){let at=s,[mt,wt]=at.toString().split(".");if(mt.match(/^-?0$/)&&et)return wt?`${mt.replace("0","")}.${wt}`:mt.replace("0","");const $t=a<0&&mt.indexOf("-")===0;if($t&&(mt=mt.slice(1),at=at.slice(1)),mt.length<nt){let Ct=nt-mt.length;for(let Dt=0;Dt<Ct;Dt++)at=`0${at}`}return $t&&(at=`-${at}`),at.toString()}function indexesOfGroupSpaces(s,a){let et=[],nt=0;for(let at=s;at>0;at--)nt===a&&(et.unshift(at),nt=0),nt++;return et}function replaceDelimiters(s,a,et,nt,at){let mt=nt.currentDelimiters(),wt=mt.thousands;at=at||mt.decimal;let $t=mt.thousandsSize||3,Ct=s.toString(),Dt=Ct.split(".")[0],Ft=Ct.split(".")[1];const jt=a<0&&Dt.indexOf("-")===0;return et&&(jt&&(Dt=Dt.slice(1)),indexesOfGroupSpaces(Dt.length,$t).forEach((Lt,Ut)=>{Dt=Dt.slice(0,Lt+Ut)+wt+Dt.slice(Lt+Ut)}),jt&&(Dt=`-${Dt}`)),Ft?Ct=Dt+at+Ft:Ct=Dt,Ct}function insertAbbreviation(s,a){return s+a}function insertSign(s,a,et){return a===0?s:+s==0?s.replace("-",""):a>0?`+${s}`:et==="sign"?s:`(${s.replace("-","")})`}function insertPrefix(s,a){return a+s}function insertPostfix(s,a){return s+a}function formatNumber$1({instance:s,providedFormat:a,state:et=globalState$1,decimalSeparator:nt,defaults:at=et.currentDefaults()}){let mt=s._value;if(mt===0&&et.hasZeroFormat())return et.getZeroFormat();if(!isFinite(mt))return mt.toString();let wt=Object.assign({},defaultOptions$2,at,a),$t=wt.totalLength,Ct=$t?0:wt.characteristic,Dt=wt.optionalCharacteristic,Ft=wt.forceAverage,jt=wt.lowPrecision,Nt=!!$t||!!Ft||wt.average,Lt=$t?-1:Nt&&a.mantissa===void 0?0:wt.mantissa,Ut=$t?!1:a.optionalMantissa===void 0?Lt===-1:wt.optionalMantissa,Vt=wt.trimMantissa,Yt=wt.thousandSeparated,er=wt.spaceSeparated,tr=wt.negative,nr=wt.forceSign,sr=wt.exponential,dr=wt.roundingFunction,br="";if(Nt){let yr=computeAverage({value:mt,forceAverage:Ft,lowPrecision:jt,abbreviations:et.currentAbbreviations(),spaceSeparated:er,roundingFunction:dr,totalLength:$t});mt=yr.value,br+=yr.abbreviation,$t&&(Lt=yr.mantissaPrecision)}if(sr){let yr=computeExponential({value:mt,characteristicPrecision:Ct});mt=yr.value,br=yr.abbreviation+br}let vr=setMantissaPrecision(mt.toString(),mt,Ut,Lt,Vt,dr);return vr=setCharacteristicPrecision(vr,mt,Dt,Ct),vr=replaceDelimiters(vr,mt,Yt,et,nt),(Nt||sr)&&(vr=insertAbbreviation(vr,br)),(nr||mt<0)&&(vr=insertSign(vr,mt,tr)),vr}function formatOrDefault(s,a){if(!s)return a;let et=Object.keys(s);return et.length===1&&et[0]==="output"?a:s}var formatting=s=>({format:(...a)=>format$2(...a,s),getByteUnit:(...a)=>getByteUnit(...a,s),getBinaryByteUnit:(...a)=>getBinaryByteUnit(...a,s),getDecimalByteUnit:(...a)=>getDecimalByteUnit(...a,s),formatOrDefault});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const BigNumber=bignumberExports;function add$3(s,a,et){let nt=new BigNumber(s._value),at=a;return et.isNumbro(a)&&(at=a._value),at=new BigNumber(at),s._value=nt.plus(at).toNumber(),s}function subtract$4(s,a,et){let nt=new BigNumber(s._value),at=a;return et.isNumbro(a)&&(at=a._value),at=new BigNumber(at),s._value=nt.minus(at).toNumber(),s}function multiply$2(s,a,et){let nt=new BigNumber(s._value),at=a;return et.isNumbro(a)&&(at=a._value),at=new BigNumber(at),s._value=nt.times(at).toNumber(),s}function divide$3(s,a,et){let nt=new BigNumber(s._value),at=a;return et.isNumbro(a)&&(at=a._value),at=new BigNumber(at),s._value=nt.dividedBy(at).toNumber(),s}function set(s,a,et){let nt=a;return et.isNumbro(a)&&(nt=a._value),s._value=nt,s}function difference(s,a,et){let nt=et(s._value);return subtract$4(nt,a,et),Math.abs(nt._value)}var manipulating=s=>({add:(a,et)=>add$3(a,et,s),subtract:(a,et)=>subtract$4(a,et,s),multiply:(a,et)=>multiply$2(a,et,s),divide:(a,et)=>divide$3(a,et,s),set:(a,et)=>set(a,et,s),difference:(a,et)=>difference(a,et,s),BigNumber});/*!
 * Copyright (c) 2017 Benjamin Van Ryseghem<benjamin@vanryseghem.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const VERSION$1="2.5.0",globalState=requireGlobalState(),validator$1=requireValidating(),loader=loading(numbro),unformatter=requireUnformatting();let formatter=formatting(numbro),manipulate=manipulating(numbro);const parsing=parsing$2;class Numbro{constructor(a){this._value=a}clone(){return numbro(this._value)}format(a={}){return formatter.format(this,a)}formatCurrency(a){return typeof a=="string"&&(a=parsing.parseFormat(a)),a=formatter.formatOrDefault(a,globalState.currentCurrencyDefaultFormat()),a.output="currency",formatter.format(this,a)}formatTime(a={}){return a.output="time",formatter.format(this,a)}binaryByteUnits(){return formatter.getBinaryByteUnit(this)}decimalByteUnits(){return formatter.getDecimalByteUnit(this)}byteUnits(){return formatter.getByteUnit(this)}difference(a){return manipulate.difference(this,a)}add(a){return manipulate.add(this,a)}subtract(a){return manipulate.subtract(this,a)}multiply(a){return manipulate.multiply(this,a)}divide(a){return manipulate.divide(this,a)}set(a){return manipulate.set(this,normalizeInput$1(a))}value(){return this._value}valueOf(){return this._value}}function normalizeInput$1(s){let a=s;return numbro.isNumbro(s)?a=s._value:typeof s=="string"?a=numbro.unformat(s):isNaN(s)&&(a=NaN),a}function numbro(s){return new Numbro(normalizeInput$1(s))}numbro.version=VERSION$1;numbro.isNumbro=function(s){return s instanceof Numbro};numbro.language=globalState.currentLanguage;numbro.registerLanguage=globalState.registerLanguage;numbro.setLanguage=globalState.setLanguage;numbro.languages=globalState.languages;numbro.languageData=globalState.languageData;numbro.zeroFormat=globalState.setZeroFormat;numbro.defaultFormat=globalState.currentDefaults;numbro.setDefaults=globalState.setDefaults;numbro.defaultCurrencyFormat=globalState.currentCurrencyDefaultFormat;numbro.validate=validator$1.validate;numbro.loadLanguagesInNode=loader.loadLanguagesInNode;numbro.unformat=unformatter.unformat;numbro.BigNumber=manipulate.BigNumber;var numbro_1=numbro,numbro$1=getDefaultExportFromCjs(numbro_1);const d$2=s=>Decimal$1.isDecimal(s)?s:new Decimal$1(typeof s>"u"||s==="undefined"||!s?0:s),addComma=s=>{try{return d$2(s).gt(1)?numbro$1(s).format({thousandSeparated:!0,exponential:!1}):s}catch{return s}},addCommaWithNoMantissa=s=>{try{return d$2(s).gt(1)?numbro$1(s).format({thousandSeparated:!0,mantissa:0}):s}catch{return s}},fixRounding=(s,a)=>d$2(s).toDP(a,Decimal$1.ROUND_HALF_DOWN).toString(),fixNumber=(s,a,et)=>d$2(s).toDP(a,et).toString(),fixDown=(s,a)=>{try{return d$2(s).toDP(a,Decimal$1.ROUND_DOWN).toString()}catch{return String(s)}};function getGtZeroIndex(s){let a=0;if(s)for(;a<s.length;){if(d$2(s[a]).gt(0))return a;a++}return 0}dayjs.extend(relativeTime);dayjs.extend(duration);const formatCurrency$1=(s,a,et,nt)=>{try{if(s===void 0||s==="--")return"$--";const at=formatNumberWithDown(s,a,!0).toString();if(d$2(at).equals(0))return"$0";const mt=at.startsWith("-");let wt=nt?at:addComma(at).toString();return wt.includes("e")&&(wt=nt?at:addCommaWithNoMantissa(at).toString()),!et&&Number(at)<Math.pow(10,-a)?mt?`-$${wt.slice(1)}`:`<$${Math.pow(10,-a).toFixed(a)}`:mt?`-$${wt.slice(1)}`:`$${wt}`}catch(at){return console.log(" ~ formatCurrency ~ error:",at),"$--"}},formatPercentage=(s,a=2,et=!1,nt=!1)=>{if(s===void 0)return"--";if(d$2(s).equals(0))return nt?`< ${Math.pow(10,-a)}%`:"0%";if(!et){if(Number(s)>=0&&Number(s)<=Math.pow(10,-a))return`<${Math.pow(10,-a).toFixed(a)}%`;if(Number(s)<0&&Number(s)*-1<=Math.pow(10,-a))return` < -${Math.pow(10,-a).toFixed(a)}%`}return`${fixDown(s,a)}%`},formatNumber=(s,a,et,nt=Decimal$1.ROUND_HALF_DOWN,at=!1)=>{if(s==="")return"";if(s!=="0"&&!s||(s=convertScientificToDecimal(s.toString(),a),d$2(s).equals(0)))return"0";if(a!==void 0){const Ft=fixNumber(s,a,nt);if(d$2(Ft).equals(0)){if(at)return Ft}else return et?Ft:addComma(Ft)}const mt=d$2(s).toString(),wt=mt.split("."),$t=wt[0],Ct=wt[1];let Dt;if(d$2($t).gt(0))!Ct||d$2($t.length).gte(9)?Dt=fixNumber(mt,0,nt):d$2($t.length).gte(4)?Dt=fixNumber(mt,2,nt):Dt=fixNumber(mt,4,nt);else{fixNumber(mt,6,nt);const Ft=getGtZeroIndex(Ct);if(Ft<6)Dt=fixNumber(mt,Ft+6,nt);else if(Ft>=6&&Ft<=38)Dt=fixNumber(mt,Ft+4,nt);else return"0"}return et||d$2($t).lt(1)?Dt:addComma(Dt)},formatNumberWithDown=(s,a,et,nt=!1)=>formatNumber(s,a,et,Decimal$1.ROUND_DOWN,nt),formatTickPrice=(s,a,et)=>{const at=d$2(s).toString().split("."),mt=at[0],wt=at[1];if(mt==="0"&&a){const $t=getGtZeroIndex(wt),Ct=a-$t,Dt=Ct<=0?Number($t):a;return Ct<=2?formatNumber(s,Dt+2,et,Decimal$1.ROUND_DOWN):formatNumber(s,a,et,Decimal$1.ROUND_DOWN)}else return formatNumber(s,a,et,Decimal$1.ROUND_DOWN)},formatNumberWithThreshold=(s,a,et,nt)=>{const at=formatNumberWithLtMinPrecision(s,a);return at==`< ${Math.pow(10,-2)}`&&et?String(formatNumberWithLtMinPrecision(s,et)):String(at)},formatPrice=(s,a,et)=>{if(s==="")return"";if(s!=="0"&&!s||d$2(s).equals(0))return"0";if(a!==void 0){const Ct=fixDown(s,a);if(!d$2(Ct).equals(0))return String(et?Ct:addComma(Ct))}const nt=d$2(s).toString(),at=nt.split("."),mt=at[0],wt=at[1];let $t;if(d$2(mt).gt(0))d$2(mt).gt(9)?$t=fixDown(nt,2):$t=fixDown(nt,3);else{const Ct=getGtZeroIndex(wt);$t=fixDown(nt,Ct+3)}return et||d$2(mt).lt(1)?String($t):String(addComma($t))},formatNumberWithLtMinPrecision=(s,a=2,et)=>s===""?"":s!=="0"&&!s||d$2(s).equals(0)?"0":d$2(s).lt(Math.pow(10,-a))?`< ${Math.pow(10,-a)}`:formatNumber(s,a,et),formatNumberWithKMB=(s,a=2)=>{var at,mt,wt;const et=d$2(s||"0");let nt;return et.gte(Math.pow(10,9))?nt=addComma(fixRounding((at=et.div(Math.pow(10,9)))==null?void 0:at.toString(),a))+"B":et.gte(Math.pow(10,6))?nt=addComma(fixRounding((mt=et.div(Math.pow(10,6)))==null?void 0:mt.toString(),a))+"M":et.gte(d$2(1e3))?nt=addComma(fixRounding((wt=et.div(1e3))==null?void 0:wt.toString(),a))+"K":nt=addComma(fixRounding(Number(s),a)),nt},formatCurrencyWithKMB=(s,a=2)=>{var at;const et=d$2(s||"0");let nt;return et.gte(Math.pow(10,9))?nt=formatCurrency$1(fixRounding((at=et.div(Math.pow(10,9)))==null?void 0:at.toString(),a),a)+"B":nt=formatCurrency$1(s,a),nt},formatDateTime=s=>s?dayjs(s).format("YYYY-MM-DD HH:mm:ss"):"",fixDEAdd=(s,a,et=!0)=>{if(`${s}`=="0")return!parseFloat(a)||!et?"0":"0.".padEnd(a+2,"0");if(!s)return"--";const nt=parseFloat(s),at=s.toString(),mt=nt<0;let wt=at;if(at.toLowerCase().includes("e")){const $t=at.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/);if(!$t)return s.toString();const Ct=$t[1]||"0",Dt=$t[2]||"",Ft=$t[3],jt=parseInt($t[4],10);let Nt="",Lt=Dt.substring(jt)||"";if(Lt&&(Lt=`.${Lt}`),Ft!=="-"){for(let Ut=0;Ut<jt;Ut++)Nt+=Dt[Ut]||"0";wt=Ct+Nt+Lt}else{let Ut="0";for(let Vt=0;Vt<jt;Vt++)Nt=(Ct[Ct.length-Vt-1]||"0")+Nt;Ct.length>jt&&(Ut=Ct.substring(0,Ct.length-jt)),wt=`${Ut}.${Nt}${Dt}`}}if(a&&et){let $t=`${wt.split(".")[0]}.`;const Ct=wt.split(".")[1]||"";for(let Dt=0;Dt<a;Dt++)$t+=Ct[Dt]||"0";wt=$t}return`${mt?"-":""}${wt}`};function formatCurrencyInput(s,a=6){try{const et=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${a}})?).*$`);return s.replace(et,"$1")}catch(et){return console.log(" ~ formatCurrencyInput ~ error:",et),""}}const inputValue="abc123.456def",formattedValue=formatCurrencyInput(inputValue,2);console.log(formattedValue);function fromDecimalsAmountFix(s,a){const et=fromDecimalsAmount(s,a);return convertScientificToDecimal(et.toString(),Number(a))}function convertScientificToDecimal(s,a=9){if(s===void 0)return"";const et=s==null?void 0:s.toLowerCase();if(et.includes("e")){if(et.includes("+"))return fixDEAdd(et,a);const[nt,at]=et.split("e");let mt=nt;const wt=Math.abs(parseInt(at,10));let $t="",Ct=mt.length;if(nt.includes(".")){const[Dt,Ft]=nt.split(".");mt=Dt+Ft,Ct=Dt.length}for(let Dt=0;Dt<wt-Ct;Dt++)$t+="0";return`0.${$t}${mt}`.slice(0,a+2)}return s}const removePercentSign=s=>{if(s!=null&&s.includes("%")){const a=s.split("%");return d$2(a==null?void 0:a[0]).equals("0")?"0":d$2(a==null?void 0:a[0]).div(100).toString()}return s};function symbolDataDisplayProcessing(s,a="$",et=2,nt=!1){if(s==="--")return"--";const at=d$2(10).pow(-et).toString();return d$2(s).gt(0)&&d$2(s).lt(at)?a==="%"?`<${at}${a}`:`<${a}${at}`:a==="%"?nt&&d$2(s).gt(1e6)?`>1,000,000${a}`:`${formatNumberWithDown(s,et)}${a}`:`${a}${formatNumberWithDown(s,et)}`}function cancelBubble(s){s.stopPropagation(),s.nativeEvent.stopImmediatePropagation()}const addressAbridge=(s,a="")=>a=="long"?s&&s.length>40?s.substring(0,40)+"...":s&&s.length<40?s:"":s?s.substring(0,6)+"..."+s.substring(s.length-4):"",sleepTime=async s=>new Promise(a=>{setTimeout(()=>{a(1)},s)});function singleFormat(s){return s.toString().length===1?"0"+s:s}function getYMD(s){const a=s.getFullYear(),et=s.getMonth()+1,nt=s.getDate();return a+"/"+singleFormat(et)+"/"+singleFormat(nt)}function getMD(s){const a=s.getMonth()+1,et=s.getDate();return singleFormat(a)+"/"+singleFormat(et)}function getMDY(s){const a=s.getFullYear(),et=s.getMonth()+1,nt=s.getDate();return singleFormat(et)+"/"+singleFormat(nt)+"/"+new String(a).slice(2,4)}function getHMS(s){const a=s.getHours(),et=s.getMinutes(),nt=s.getSeconds();return singleFormat(a)+":"+singleFormat(et)+":"+singleFormat(nt)}function getHM(s){const a=s.getHours(),et=s.getMinutes();return singleFormat(a)+":"+singleFormat(et)}function getTimeZone(s){const et=new Date(s),nt=et.getTimezoneOffset()+480;return et.setMinutes(et.getMinutes()+nt),et}const timeFormat=(s,a)=>{if(s){const et=getTimeZone(s);switch(a){case"HMS":return getHMS(et);case"MDY":return getMDY(et);case"YMD":return getYMD(et);case"MD":return getMD(et);case"HM":return getHM(et)}}},timeFormatUTC=(s,a)=>{if(s){const et=new Date(s);if(!a)return getYMDUTC(et)+" "+getHMSUTC(et);switch(a){case"HMS":return getHMSUTC(et);case"YMD":return getYMDUTC(et);case"MD":return getMDUTC(et);case"HM":return getHMUTC(et);case"YMDHM":return getYMDUTC(et)+" "+getHMUTC(et);default:return"--"}}};function getYMDUTC(s){const a=s.getUTCFullYear(),et=s.getUTCMonth()+1,nt=s.getUTCDate();return a+"-"+singleFormat(et)+"-"+singleFormat(nt)}function getMDUTC(s){const a=s.getUTCMonth()+1,et=s.getUTCDate();return singleFormat(a)+"/"+singleFormat(et)}function getHMSUTC(s){const a=s.getUTCHours(),et=s.getUTCMinutes(),nt=s.getUTCSeconds();return singleFormat(a)+":"+singleFormat(et)+":"+singleFormat(nt)}function getHMUTC(s){const a=s.getUTCHours(),et=s.getUTCMinutes();return singleFormat(a)+":"+singleFormat(et)}const getTimeDifferenceString=s=>{const a=Math.floor(s/1e3),et=Math.floor(new Date().getTime()/1e3),nt=60,at=60*nt,mt=24*at,wt=30*mt,$t=365*mt,Ct=et-a;if(Ct<nt)return"recently";if(Ct<at){const Dt=Math.floor(Ct/nt);return Dt==1?`${Dt} minute ago`:`${Dt} minutes ago`}else if(Ct<mt){const Dt=Math.floor(Ct/at);return Dt==1?`${Dt} hour ago`:`${Dt} hours ago`}else if(Ct<wt){const Dt=Math.floor(Ct/mt);return Dt==1?`${Dt} day ago`:`${Dt} days ago`}else if(Ct<$t){const Dt=Math.floor(Ct/wt);return Dt==1?`${Dt} mouth ago`:`${Dt} mouths ago`}else{const Dt=Math.floor(Ct/$t);return Dt==1?`${Dt} year ago`:`${Dt} years ago`}};function amountToBN(s,a){if(a===void 0)return new BN(0);if(s===""||d$2(s).equals(0))return new BN(0);const et=d$2(s).mul(Math.pow(10,a)).toString();if(d$2(et).gte(1))return new BN(et);throw Error("amountToBN value lt 1")}function bnToAmount(s,a){return a===void 0?"":d$2(s==null?void 0:s.toString()).div(Math.pow(10,a)).toString()}function parseOwnerBalanceChanges(s,a,et=!1){var $t;const nt=s.balanceChanges,at=($t=s.effects)==null?void 0:$t.gasUsed,mt={};let wt="0";return at&&(wt=d$2(at.computationCost).add(at.storageCost).sub(at.storageRebate).mul(-1).toFixed(0)),nt&&nt.forEach(Ct=>{const Dt=extractStructTagFromType$1(Ct.coinType).full_address;if(Ct.owner.AddressOwner===a){const Ft=CoinAssist.isSuiCoin(Dt);let jt=Ct.amount;Ft&&(jt=et?jt:d$2(jt).sub(wt).toFixed(0));const Nt={coinType:Dt,amount:jt};mt[Dt]=Nt}}),mt}function getBalanceChanges(s,a){if(a){const et=s[extractStructTagFromType$1(a.coin_type).full_address];if(console.log(" ~ common.ts:289 ~ getBalanceChanges ~ extractStructTagFromType(coinInfo.coin_type).full_address:",extractStructTagFromType$1(a.coin_type).full_address),console.log(" ~ common.ts:291 ~ getBalanceChanges ~ obj:",et),et)return fromDecimalsAmountFix(d$2(et.amount).abs().toFixed(0),a.decimals)}}function coinMetadataToCoinInfo(s,a){return{id:s.id||void 0,logo_url:s.iconUrl||void 0,coin_type:a,decimals:s.decimals,description:s.description,name:s.name,symbol:s.symbol}}function parsePositionIdFromEvent(s){var mt,wt;let a,et;const nt=(mt=s.events)==null?void 0:mt.find($t=>$t.type.includes("pool::OpenPositionEvent"));nt&&(a=nt.parsedJson.position);const at=(wt=s.events)==null?void 0:wt.find($t=>$t.type.includes("pool::DepositEvent"));return at&&(et=at.parsedJson.wrapped_position_id),{posId:a,farmsPosId:et}}const isHexColor=s=>/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/i.test(s),isRgbColor=s=>/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/.test(s),isRgbaColor=s=>/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(s),isColorValue=s=>isHexColor(s)||isRgbColor(s)||isRgbaColor(s),isAvailableObject=s=>s===null||typeof s!="object"||Array.isArray(s)?!1:Object.keys(s).length>0,removeComma=s=>(s+"").replace(/,/g,""),formatTimestamp=s=>{const a=new Date(s),et=a.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),nt=a.getUTCDate(),at=a.getUTCFullYear();let mt=a.getUTCHours();const wt=String(a.getUTCMinutes()).padStart(2,"0"),$t=mt>=12?"PM":"AM";return mt=mt%12||12,`${et} ${nt}, ${at} ${mt}:${wt} ${$t}`};function base64ToUint8Array(s){const a=Buffer$1.from(s,"base64").toString("binary"),et=new Uint8Array(a.length);for(let nt=0;nt<a.length;nt++)et[nt]=a.charCodeAt(nt);return et}const TOKEN_MAP_KEY="tokenMap",COLLECT_TOKEN_LIST="collectTokenList",USER_COLLECT_TOKEN_LIST="userCollectTokenList",IMPORT_TOKEN_LIST="importTokenList",LIQUIDITY_TRUST_TOKEN_LIST="liquidityTrustTokenList",IS_WATCH_LIST="isWatchList",IS_ALL_POOLS="isAllPools",IS_INCENTIVIZED_ONLY="isIncentivizedOnly",POOL_FAVORITE_LIST="poolFavoriteList",NOTIFI_SIGNATURE="notifiSignature";function commonjsRequire(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(s,a){(function(et){s.exports=et()})(function(){return function et(nt,at,mt){function wt(Dt,Ft){if(!at[Dt]){if(!nt[Dt]){var jt=typeof commonjsRequire=="function"&&commonjsRequire;if(!Ft&&jt)return jt(Dt,!0);if($t)return $t(Dt,!0);var Nt=new Error("Cannot find module '"+Dt+"'");throw Nt.code="MODULE_NOT_FOUND",Nt}var Lt=at[Dt]={exports:{}};nt[Dt][0].call(Lt.exports,function(Ut){var Vt=nt[Dt][1][Ut];return wt(Vt||Ut)},Lt,Lt.exports,et,nt,at,mt)}return at[Dt].exports}for(var $t=typeof commonjsRequire=="function"&&commonjsRequire,Ct=0;Ct<mt.length;Ct++)wt(mt[Ct]);return wt}({1:[function(et,nt,at){(function(mt){var wt=mt.MutationObserver||mt.WebKitMutationObserver,$t;if(wt){var Ct=0,Dt=new wt(Ut),Ft=mt.document.createTextNode("");Dt.observe(Ft,{characterData:!0}),$t=function(){Ft.data=Ct=++Ct%2}}else if(!mt.setImmediate&&typeof mt.MessageChannel<"u"){var jt=new mt.MessageChannel;jt.port1.onmessage=Ut,$t=function(){jt.port2.postMessage(0)}}else"document"in mt&&"onreadystatechange"in mt.document.createElement("script")?$t=function(){var Yt=mt.document.createElement("script");Yt.onreadystatechange=function(){Ut(),Yt.onreadystatechange=null,Yt.parentNode.removeChild(Yt),Yt=null},mt.document.documentElement.appendChild(Yt)}:$t=function(){setTimeout(Ut,0)};var Nt,Lt=[];function Ut(){Nt=!0;for(var Yt,er,tr=Lt.length;tr;){for(er=Lt,Lt=[],Yt=-1;++Yt<tr;)er[Yt]();tr=Lt.length}Nt=!1}nt.exports=Vt;function Vt(Yt){Lt.push(Yt)===1&&!Nt&&$t()}}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(et,nt,at){var mt=et(1);function wt(){}var $t={},Ct=["REJECTED"],Dt=["FULFILLED"],Ft=["PENDING"];nt.exports=jt;function jt(dr){if(typeof dr!="function")throw new TypeError("resolver must be a function");this.state=Ft,this.queue=[],this.outcome=void 0,dr!==wt&&Vt(this,dr)}jt.prototype.catch=function(dr){return this.then(null,dr)},jt.prototype.then=function(dr,br){if(typeof dr!="function"&&this.state===Dt||typeof br!="function"&&this.state===Ct)return this;var vr=new this.constructor(wt);if(this.state!==Ft){var yr=this.state===Dt?dr:br;Lt(vr,yr,this.outcome)}else this.queue.push(new Nt(vr,dr,br));return vr};function Nt(dr,br,vr){this.promise=dr,typeof br=="function"&&(this.onFulfilled=br,this.callFulfilled=this.otherCallFulfilled),typeof vr=="function"&&(this.onRejected=vr,this.callRejected=this.otherCallRejected)}Nt.prototype.callFulfilled=function(dr){$t.resolve(this.promise,dr)},Nt.prototype.otherCallFulfilled=function(dr){Lt(this.promise,this.onFulfilled,dr)},Nt.prototype.callRejected=function(dr){$t.reject(this.promise,dr)},Nt.prototype.otherCallRejected=function(dr){Lt(this.promise,this.onRejected,dr)};function Lt(dr,br,vr){mt(function(){var yr;try{yr=br(vr)}catch($r){return $t.reject(dr,$r)}yr===dr?$t.reject(dr,new TypeError("Cannot resolve promise with itself")):$t.resolve(dr,yr)})}$t.resolve=function(dr,br){var vr=Yt(Ut,br);if(vr.status==="error")return $t.reject(dr,vr.value);var yr=vr.value;if(yr)Vt(dr,yr);else{dr.state=Dt,dr.outcome=br;for(var $r=-1,Sr=dr.queue.length;++$r<Sr;)dr.queue[$r].callFulfilled(br)}return dr},$t.reject=function(dr,br){dr.state=Ct,dr.outcome=br;for(var vr=-1,yr=dr.queue.length;++vr<yr;)dr.queue[vr].callRejected(br);return dr};function Ut(dr){var br=dr&&dr.then;if(dr&&(typeof dr=="object"||typeof dr=="function")&&typeof br=="function")return function(){br.apply(dr,arguments)}}function Vt(dr,br){var vr=!1;function yr(fr){vr||(vr=!0,$t.reject(dr,fr))}function $r(fr){vr||(vr=!0,$t.resolve(dr,fr))}function Sr(){br($r,yr)}var wr=Yt(Sr);wr.status==="error"&&yr(wr.value)}function Yt(dr,br){var vr={};try{vr.value=dr(br),vr.status="success"}catch(yr){vr.status="error",vr.value=yr}return vr}jt.resolve=er;function er(dr){return dr instanceof this?dr:$t.resolve(new this(wt),dr)}jt.reject=tr;function tr(dr){var br=new this(wt);return $t.reject(br,dr)}jt.all=nr;function nr(dr){var br=this;if(Object.prototype.toString.call(dr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var vr=dr.length,yr=!1;if(!vr)return this.resolve([]);for(var $r=new Array(vr),Sr=0,wr=-1,fr=new this(wt);++wr<vr;)_r(dr[wr],wr);return fr;function _r(ir,rr){br.resolve(ir).then(or,function(ar){yr||(yr=!0,$t.reject(fr,ar))});function or(ar){$r[rr]=ar,++Sr===vr&&!yr&&(yr=!0,$t.resolve(fr,$r))}}}jt.race=sr;function sr(dr){var br=this;if(Object.prototype.toString.call(dr)!=="[object Array]")return this.reject(new TypeError("must be an array"));var vr=dr.length,yr=!1;if(!vr)return this.resolve([]);for(var $r=-1,Sr=new this(wt);++$r<vr;)wr(dr[$r]);return Sr;function wr(fr){br.resolve(fr).then(function(_r){yr||(yr=!0,$t.resolve(Sr,_r))},function(_r){yr||(yr=!0,$t.reject(Sr,_r))})}}},{1:1}],3:[function(et,nt,at){(function(mt){typeof mt.Promise!="function"&&(mt.Promise=et(2))}).call(this,typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(et,nt,at){var mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Vr){return typeof Vr}:function(Vr){return Vr&&typeof Symbol=="function"&&Vr.constructor===Symbol&&Vr!==Symbol.prototype?"symbol":typeof Vr};function wt(Vr,Jr){if(!(Vr instanceof Jr))throw new TypeError("Cannot call a class as a function")}function $t(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var Ct=$t();function Dt(){try{if(!Ct||!Ct.open)return!1;var Vr=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Jr=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Vr||Jr)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function Ft(Vr,Jr){Vr=Vr||[],Jr=Jr||{};try{return new Blob(Vr,Jr)}catch(dn){if(dn.name!=="TypeError")throw dn;for(var Kr=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,pn=new Kr,Dn=0;Dn<Vr.length;Dn+=1)pn.append(Vr[Dn]);return pn.getBlob(Jr.type)}}typeof Promise>"u"&&et(3);var jt=Promise;function Nt(Vr,Jr){Jr&&Vr.then(function(Kr){Jr(null,Kr)},function(Kr){Jr(Kr)})}function Lt(Vr,Jr,Kr){typeof Jr=="function"&&Vr.then(Jr),typeof Kr=="function"&&Vr.catch(Kr)}function Ut(Vr){return typeof Vr!="string"&&(console.warn(Vr+" used as a key, but it is not a string."),Vr=String(Vr)),Vr}function Vt(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var Yt="local-forage-detect-blob-support",er=void 0,tr={},nr=Object.prototype.toString,sr="readonly",dr="readwrite";function br(Vr){for(var Jr=Vr.length,Kr=new ArrayBuffer(Jr),pn=new Uint8Array(Kr),Dn=0;Dn<Jr;Dn++)pn[Dn]=Vr.charCodeAt(Dn);return Kr}function vr(Vr){return new jt(function(Jr){var Kr=Vr.transaction(Yt,dr),pn=Ft([""]);Kr.objectStore(Yt).put(pn,"key"),Kr.onabort=function(Dn){Dn.preventDefault(),Dn.stopPropagation(),Jr(!1)},Kr.oncomplete=function(){var Dn=navigator.userAgent.match(/Chrome\/(\d+)/),dn=navigator.userAgent.match(/Edge\//);Jr(dn||!Dn||parseInt(Dn[1],10)>=43)}}).catch(function(){return!1})}function yr(Vr){return typeof er=="boolean"?jt.resolve(er):vr(Vr).then(function(Jr){return er=Jr,er})}function $r(Vr){var Jr=tr[Vr.name],Kr={};Kr.promise=new jt(function(pn,Dn){Kr.resolve=pn,Kr.reject=Dn}),Jr.deferredOperations.push(Kr),Jr.dbReady?Jr.dbReady=Jr.dbReady.then(function(){return Kr.promise}):Jr.dbReady=Kr.promise}function Sr(Vr){var Jr=tr[Vr.name],Kr=Jr.deferredOperations.pop();if(Kr)return Kr.resolve(),Kr.promise}function wr(Vr,Jr){var Kr=tr[Vr.name],pn=Kr.deferredOperations.pop();if(pn)return pn.reject(Jr),pn.promise}function fr(Vr,Jr){return new jt(function(Kr,pn){if(tr[Vr.name]=tr[Vr.name]||hr(),Vr.db)if(Jr)$r(Vr),Vr.db.close();else return Kr(Vr.db);var Dn=[Vr.name];Jr&&Dn.push(Vr.version);var dn=Ct.open.apply(Ct,Dn);Jr&&(dn.onupgradeneeded=function(Xn){var to=dn.result;try{to.createObjectStore(Vr.storeName),Xn.oldVersion<=1&&to.createObjectStore(Yt)}catch(no){if(no.name==="ConstraintError")console.warn('The database "'+Vr.name+'" has been upgraded from version '+Xn.oldVersion+" to version "+Xn.newVersion+', but the storage "'+Vr.storeName+'" already exists.');else throw no}}),dn.onerror=function(Xn){Xn.preventDefault(),pn(dn.error)},dn.onsuccess=function(){var Xn=dn.result;Xn.onversionchange=function(to){to.target.close()},Kr(Xn),Sr(Vr)}})}function _r(Vr){return fr(Vr,!1)}function ir(Vr){return fr(Vr,!0)}function rr(Vr,Jr){if(!Vr.db)return!0;var Kr=!Vr.db.objectStoreNames.contains(Vr.storeName),pn=Vr.version<Vr.db.version,Dn=Vr.version>Vr.db.version;if(pn&&(Vr.version!==Jr&&console.warn('The database "'+Vr.name+`" can't be downgraded from version `+Vr.db.version+" to version "+Vr.version+"."),Vr.version=Vr.db.version),Dn||Kr){if(Kr){var dn=Vr.db.version+1;dn>Vr.version&&(Vr.version=dn)}return!0}return!1}function or(Vr){return new jt(function(Jr,Kr){var pn=new FileReader;pn.onerror=Kr,pn.onloadend=function(Dn){var dn=btoa(Dn.target.result||"");Jr({__local_forage_encoded_blob:!0,data:dn,type:Vr.type})},pn.readAsBinaryString(Vr)})}function ar(Vr){var Jr=br(atob(Vr.data));return Ft([Jr],{type:Vr.type})}function ur(Vr){return Vr&&Vr.__local_forage_encoded_blob}function pr(Vr){var Jr=this,Kr=Jr._initReady().then(function(){var pn=tr[Jr._dbInfo.name];if(pn&&pn.dbReady)return pn.dbReady});return Lt(Kr,Vr,Vr),Kr}function cr(Vr){$r(Vr);for(var Jr=tr[Vr.name],Kr=Jr.forages,pn=0;pn<Kr.length;pn++){var Dn=Kr[pn];Dn._dbInfo.db&&(Dn._dbInfo.db.close(),Dn._dbInfo.db=null)}return Vr.db=null,_r(Vr).then(function(dn){return Vr.db=dn,rr(Vr)?ir(Vr):dn}).then(function(dn){Vr.db=Jr.db=dn;for(var Xn=0;Xn<Kr.length;Xn++)Kr[Xn]._dbInfo.db=dn}).catch(function(dn){throw wr(Vr,dn),dn})}function gr(Vr,Jr,Kr,pn){pn===void 0&&(pn=1);try{var Dn=Vr.db.transaction(Vr.storeName,Jr);Kr(null,Dn)}catch(dn){if(pn>0&&(!Vr.db||dn.name==="InvalidStateError"||dn.name==="NotFoundError"))return jt.resolve().then(function(){if(!Vr.db||dn.name==="NotFoundError"&&!Vr.db.objectStoreNames.contains(Vr.storeName)&&Vr.version<=Vr.db.version)return Vr.db&&(Vr.version=Vr.db.version+1),ir(Vr)}).then(function(){return cr(Vr).then(function(){gr(Vr,Jr,Kr,pn-1)})}).catch(Kr);Kr(dn)}}function hr(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function lr(Vr){var Jr=this,Kr={db:null};if(Vr)for(var pn in Vr)Kr[pn]=Vr[pn];var Dn=tr[Kr.name];Dn||(Dn=hr(),tr[Kr.name]=Dn),Dn.forages.push(Jr),Jr._initReady||(Jr._initReady=Jr.ready,Jr.ready=pr);var dn=[];function Xn(){return jt.resolve()}for(var to=0;to<Dn.forages.length;to++){var no=Dn.forages[to];no!==Jr&&dn.push(no._initReady().catch(Xn))}var ao=Dn.forages.slice(0);return jt.all(dn).then(function(){return Kr.db=Dn.db,_r(Kr)}).then(function(co){return Kr.db=co,rr(Kr,Jr._defaultConfig.version)?ir(Kr):co}).then(function(co){Kr.db=Dn.db=co,Jr._dbInfo=Kr;for(var xo=0;xo<ao.length;xo++){var Io=ao[xo];Io!==Jr&&(Io._dbInfo.db=Kr.db,Io._dbInfo.version=Kr.version)}})}function xr(Vr,Jr){var Kr=this;Vr=Ut(Vr);var pn=new jt(function(Dn,dn){Kr.ready().then(function(){gr(Kr._dbInfo,sr,function(Xn,to){if(Xn)return dn(Xn);try{var no=to.objectStore(Kr._dbInfo.storeName),ao=no.get(Vr);ao.onsuccess=function(){var co=ao.result;co===void 0&&(co=null),ur(co)&&(co=ar(co)),Dn(co)},ao.onerror=function(){dn(ao.error)}}catch(co){dn(co)}})}).catch(dn)});return Nt(pn,Jr),pn}function Mr(Vr,Jr){var Kr=this,pn=new jt(function(Dn,dn){Kr.ready().then(function(){gr(Kr._dbInfo,sr,function(Xn,to){if(Xn)return dn(Xn);try{var no=to.objectStore(Kr._dbInfo.storeName),ao=no.openCursor(),co=1;ao.onsuccess=function(){var xo=ao.result;if(xo){var Io=xo.value;ur(Io)&&(Io=ar(Io));var qo=Vr(Io,xo.key,co++);qo!==void 0?Dn(qo):xo.continue()}else Dn()},ao.onerror=function(){dn(ao.error)}}catch(xo){dn(xo)}})}).catch(dn)});return Nt(pn,Jr),pn}function Pr(Vr,Jr,Kr){var pn=this;Vr=Ut(Vr);var Dn=new jt(function(dn,Xn){var to;pn.ready().then(function(){return to=pn._dbInfo,nr.call(Jr)==="[object Blob]"?yr(to.db).then(function(no){return no?Jr:or(Jr)}):Jr}).then(function(no){gr(pn._dbInfo,dr,function(ao,co){if(ao)return Xn(ao);try{var xo=co.objectStore(pn._dbInfo.storeName);no===null&&(no=void 0);var Io=xo.put(no,Vr);co.oncomplete=function(){no===void 0&&(no=null),dn(no)},co.onabort=co.onerror=function(){var qo=Io.error?Io.error:Io.transaction.error;Xn(qo)}}catch(qo){Xn(qo)}})}).catch(Xn)});return Nt(Dn,Kr),Dn}function Ar(Vr,Jr){var Kr=this;Vr=Ut(Vr);var pn=new jt(function(Dn,dn){Kr.ready().then(function(){gr(Kr._dbInfo,dr,function(Xn,to){if(Xn)return dn(Xn);try{var no=to.objectStore(Kr._dbInfo.storeName),ao=no.delete(Vr);to.oncomplete=function(){Dn()},to.onerror=function(){dn(ao.error)},to.onabort=function(){var co=ao.error?ao.error:ao.transaction.error;dn(co)}}catch(co){dn(co)}})}).catch(dn)});return Nt(pn,Jr),pn}function Ir(Vr){var Jr=this,Kr=new jt(function(pn,Dn){Jr.ready().then(function(){gr(Jr._dbInfo,dr,function(dn,Xn){if(dn)return Dn(dn);try{var to=Xn.objectStore(Jr._dbInfo.storeName),no=to.clear();Xn.oncomplete=function(){pn()},Xn.onabort=Xn.onerror=function(){var ao=no.error?no.error:no.transaction.error;Dn(ao)}}catch(ao){Dn(ao)}})}).catch(Dn)});return Nt(Kr,Vr),Kr}function qr(Vr){var Jr=this,Kr=new jt(function(pn,Dn){Jr.ready().then(function(){gr(Jr._dbInfo,sr,function(dn,Xn){if(dn)return Dn(dn);try{var to=Xn.objectStore(Jr._dbInfo.storeName),no=to.count();no.onsuccess=function(){pn(no.result)},no.onerror=function(){Dn(no.error)}}catch(ao){Dn(ao)}})}).catch(Dn)});return Nt(Kr,Vr),Kr}function Rr(Vr,Jr){var Kr=this,pn=new jt(function(Dn,dn){if(Vr<0){Dn(null);return}Kr.ready().then(function(){gr(Kr._dbInfo,sr,function(Xn,to){if(Xn)return dn(Xn);try{var no=to.objectStore(Kr._dbInfo.storeName),ao=!1,co=no.openKeyCursor();co.onsuccess=function(){var xo=co.result;if(!xo){Dn(null);return}Vr===0||ao?Dn(xo.key):(ao=!0,xo.advance(Vr))},co.onerror=function(){dn(co.error)}}catch(xo){dn(xo)}})}).catch(dn)});return Nt(pn,Jr),pn}function Tr(Vr){var Jr=this,Kr=new jt(function(pn,Dn){Jr.ready().then(function(){gr(Jr._dbInfo,sr,function(dn,Xn){if(dn)return Dn(dn);try{var to=Xn.objectStore(Jr._dbInfo.storeName),no=to.openKeyCursor(),ao=[];no.onsuccess=function(){var co=no.result;if(!co){pn(ao);return}ao.push(co.key),co.continue()},no.onerror=function(){Dn(no.error)}}catch(co){Dn(co)}})}).catch(Dn)});return Nt(Kr,Vr),Kr}function Er(Vr,Jr){Jr=Vt.apply(this,arguments);var Kr=this.config();Vr=typeof Vr!="function"&&Vr||{},Vr.name||(Vr.name=Vr.name||Kr.name,Vr.storeName=Vr.storeName||Kr.storeName);var pn=this,Dn;if(!Vr.name)Dn=jt.reject("Invalid arguments");else{var dn=Vr.name===Kr.name&&pn._dbInfo.db,Xn=dn?jt.resolve(pn._dbInfo.db):_r(Vr).then(function(to){var no=tr[Vr.name],ao=no.forages;no.db=to;for(var co=0;co<ao.length;co++)ao[co]._dbInfo.db=to;return to});Vr.storeName?Dn=Xn.then(function(to){if(to.objectStoreNames.contains(Vr.storeName)){var no=to.version+1;$r(Vr);var ao=tr[Vr.name],co=ao.forages;to.close();for(var xo=0;xo<co.length;xo++){var Io=co[xo];Io._dbInfo.db=null,Io._dbInfo.version=no}var qo=new jt(function(Uo,_a){var ba=Ct.open(Vr.name,no);ba.onerror=function(ps){var El=ba.result;El.close(),_a(ps)},ba.onupgradeneeded=function(){var ps=ba.result;ps.deleteObjectStore(Vr.storeName)},ba.onsuccess=function(){var ps=ba.result;ps.close(),Uo(ps)}});return qo.then(function(Uo){ao.db=Uo;for(var _a=0;_a<co.length;_a++){var ba=co[_a];ba._dbInfo.db=Uo,Sr(ba._dbInfo)}}).catch(function(Uo){throw(wr(Vr,Uo)||jt.resolve()).catch(function(){}),Uo})}}):Dn=Xn.then(function(to){$r(Vr);var no=tr[Vr.name],ao=no.forages;to.close();for(var co=0;co<ao.length;co++){var xo=ao[co];xo._dbInfo.db=null}var Io=new jt(function(qo,Uo){var _a=Ct.deleteDatabase(Vr.name);_a.onerror=function(){var ba=_a.result;ba&&ba.close(),Uo(_a.error)},_a.onblocked=function(){console.warn('dropInstance blocked for database "'+Vr.name+'" until all open connections are closed')},_a.onsuccess=function(){var ba=_a.result;ba&&ba.close(),qo(ba)}});return Io.then(function(qo){no.db=qo;for(var Uo=0;Uo<ao.length;Uo++){var _a=ao[Uo];Sr(_a._dbInfo)}}).catch(function(qo){throw(wr(Vr,qo)||jt.resolve()).catch(function(){}),qo})})}return Nt(Dn,Jr),Dn}var Br={_driver:"asyncStorage",_initStorage:lr,_support:Dt(),iterate:Mr,getItem:xr,setItem:Pr,removeItem:Ar,clear:Ir,length:qr,key:Rr,keys:Tr,dropInstance:Er};function Nr(){return typeof openDatabase=="function"}var zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hr="~~local_forage_type~",jr=/^~~local_forage_type~([^~]+)~/,Ur="__lfsc__:",Fr=Ur.length,Gr="arbf",Wr="blob",nn="si08",Ln="ui08",Un="uic8",Wn="si16",io="si32",zn="ur16",Zn="ui32",bo="fl32",Or="fl64",Cr=Fr+Gr.length,kr=Object.prototype.toString;function Lr(Vr){var Jr=Vr.length*.75,Kr=Vr.length,pn,Dn=0,dn,Xn,to,no;Vr[Vr.length-1]==="="&&(Jr--,Vr[Vr.length-2]==="="&&Jr--);var ao=new ArrayBuffer(Jr),co=new Uint8Array(ao);for(pn=0;pn<Kr;pn+=4)dn=zr.indexOf(Vr[pn]),Xn=zr.indexOf(Vr[pn+1]),to=zr.indexOf(Vr[pn+2]),no=zr.indexOf(Vr[pn+3]),co[Dn++]=dn<<2|Xn>>4,co[Dn++]=(Xn&15)<<4|to>>2,co[Dn++]=(to&3)<<6|no&63;return ao}function Zr(Vr){var Jr=new Uint8Array(Vr),Kr="",pn;for(pn=0;pn<Jr.length;pn+=3)Kr+=zr[Jr[pn]>>2],Kr+=zr[(Jr[pn]&3)<<4|Jr[pn+1]>>4],Kr+=zr[(Jr[pn+1]&15)<<2|Jr[pn+2]>>6],Kr+=zr[Jr[pn+2]&63];return Jr.length%3===2?Kr=Kr.substring(0,Kr.length-1)+"=":Jr.length%3===1&&(Kr=Kr.substring(0,Kr.length-2)+"=="),Kr}function an(Vr,Jr){var Kr="";if(Vr&&(Kr=kr.call(Vr)),Vr&&(Kr==="[object ArrayBuffer]"||Vr.buffer&&kr.call(Vr.buffer)==="[object ArrayBuffer]")){var pn,Dn=Ur;Vr instanceof ArrayBuffer?(pn=Vr,Dn+=Gr):(pn=Vr.buffer,Kr==="[object Int8Array]"?Dn+=nn:Kr==="[object Uint8Array]"?Dn+=Ln:Kr==="[object Uint8ClampedArray]"?Dn+=Un:Kr==="[object Int16Array]"?Dn+=Wn:Kr==="[object Uint16Array]"?Dn+=zn:Kr==="[object Int32Array]"?Dn+=io:Kr==="[object Uint32Array]"?Dn+=Zn:Kr==="[object Float32Array]"?Dn+=bo:Kr==="[object Float64Array]"?Dn+=Or:Jr(new Error("Failed to get type for BinaryArray"))),Jr(Dn+Zr(pn))}else if(Kr==="[object Blob]"){var dn=new FileReader;dn.onload=function(){var Xn=Hr+Vr.type+"~"+Zr(this.result);Jr(Ur+Wr+Xn)},dn.readAsArrayBuffer(Vr)}else try{Jr(JSON.stringify(Vr))}catch(Xn){console.error("Couldn't convert value into a JSON string: ",Vr),Jr(null,Xn)}}function rn(Vr){if(Vr.substring(0,Fr)!==Ur)return JSON.parse(Vr);var Jr=Vr.substring(Cr),Kr=Vr.substring(Fr,Cr),pn;if(Kr===Wr&&jr.test(Jr)){var Dn=Jr.match(jr);pn=Dn[1],Jr=Jr.substring(Dn[0].length)}var dn=Lr(Jr);switch(Kr){case Gr:return dn;case Wr:return Ft([dn],{type:pn});case nn:return new Int8Array(dn);case Ln:return new Uint8Array(dn);case Un:return new Uint8ClampedArray(dn);case Wn:return new Int16Array(dn);case zn:return new Uint16Array(dn);case io:return new Int32Array(dn);case Zn:return new Uint32Array(dn);case bo:return new Float32Array(dn);case Or:return new Float64Array(dn);default:throw new Error("Unkown type: "+Kr)}}var Yn={serialize:an,deserialize:rn,stringToBuffer:Lr,bufferToString:Zr};function yo(Vr,Jr,Kr,pn){Vr.executeSql("CREATE TABLE IF NOT EXISTS "+Jr.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Kr,pn)}function ro(Vr){var Jr=this,Kr={db:null};if(Vr)for(var pn in Vr)Kr[pn]=typeof Vr[pn]!="string"?Vr[pn].toString():Vr[pn];var Dn=new jt(function(dn,Xn){try{Kr.db=openDatabase(Kr.name,String(Kr.version),Kr.description,Kr.size)}catch(to){return Xn(to)}Kr.db.transaction(function(to){yo(to,Kr,function(){Jr._dbInfo=Kr,dn()},function(no,ao){Xn(ao)})},Xn)});return Kr.serializer=Yn,Dn}function so(Vr,Jr,Kr,pn,Dn,dn){Vr.executeSql(Kr,pn,Dn,function(Xn,to){to.code===to.SYNTAX_ERR?Xn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Jr.storeName],function(no,ao){ao.rows.length?dn(no,to):yo(no,Jr,function(){no.executeSql(Kr,pn,Dn,dn)},dn)},dn):dn(Xn,to)},dn)}function vo(Vr,Jr){var Kr=this;Vr=Ut(Vr);var pn=new jt(function(Dn,dn){Kr.ready().then(function(){var Xn=Kr._dbInfo;Xn.db.transaction(function(to){so(to,Xn,"SELECT * FROM "+Xn.storeName+" WHERE key = ? LIMIT 1",[Vr],function(no,ao){var co=ao.rows.length?ao.rows.item(0).value:null;co&&(co=Xn.serializer.deserialize(co)),Dn(co)},function(no,ao){dn(ao)})})}).catch(dn)});return Nt(pn,Jr),pn}function po(Vr,Jr){var Kr=this,pn=new jt(function(Dn,dn){Kr.ready().then(function(){var Xn=Kr._dbInfo;Xn.db.transaction(function(to){so(to,Xn,"SELECT * FROM "+Xn.storeName,[],function(no,ao){for(var co=ao.rows,xo=co.length,Io=0;Io<xo;Io++){var qo=co.item(Io),Uo=qo.value;if(Uo&&(Uo=Xn.serializer.deserialize(Uo)),Uo=Vr(Uo,qo.key,Io+1),Uo!==void 0){Dn(Uo);return}}Dn()},function(no,ao){dn(ao)})})}).catch(dn)});return Nt(pn,Jr),pn}function $o(Vr,Jr,Kr,pn){var Dn=this;Vr=Ut(Vr);var dn=new jt(function(Xn,to){Dn.ready().then(function(){Jr===void 0&&(Jr=null);var no=Jr,ao=Dn._dbInfo;ao.serializer.serialize(Jr,function(co,xo){xo?to(xo):ao.db.transaction(function(Io){so(Io,ao,"INSERT OR REPLACE INTO "+ao.storeName+" (key, value) VALUES (?, ?)",[Vr,co],function(){Xn(no)},function(qo,Uo){to(Uo)})},function(Io){if(Io.code===Io.QUOTA_ERR){if(pn>0){Xn($o.apply(Dn,[Vr,no,Kr,pn-1]));return}to(Io)}})})}).catch(to)});return Nt(dn,Kr),dn}function Mo(Vr,Jr,Kr){return $o.apply(this,[Vr,Jr,Kr,1])}function _o(Vr,Jr){var Kr=this;Vr=Ut(Vr);var pn=new jt(function(Dn,dn){Kr.ready().then(function(){var Xn=Kr._dbInfo;Xn.db.transaction(function(to){so(to,Xn,"DELETE FROM "+Xn.storeName+" WHERE key = ?",[Vr],function(){Dn()},function(no,ao){dn(ao)})})}).catch(dn)});return Nt(pn,Jr),pn}function Eo(Vr){var Jr=this,Kr=new jt(function(pn,Dn){Jr.ready().then(function(){var dn=Jr._dbInfo;dn.db.transaction(function(Xn){so(Xn,dn,"DELETE FROM "+dn.storeName,[],function(){pn()},function(to,no){Dn(no)})})}).catch(Dn)});return Nt(Kr,Vr),Kr}function Do(Vr){var Jr=this,Kr=new jt(function(pn,Dn){Jr.ready().then(function(){var dn=Jr._dbInfo;dn.db.transaction(function(Xn){so(Xn,dn,"SELECT COUNT(key) as c FROM "+dn.storeName,[],function(to,no){var ao=no.rows.item(0).c;pn(ao)},function(to,no){Dn(no)})})}).catch(Dn)});return Nt(Kr,Vr),Kr}function mo(Vr,Jr){var Kr=this,pn=new jt(function(Dn,dn){Kr.ready().then(function(){var Xn=Kr._dbInfo;Xn.db.transaction(function(to){so(to,Xn,"SELECT key FROM "+Xn.storeName+" WHERE id = ? LIMIT 1",[Vr+1],function(no,ao){var co=ao.rows.length?ao.rows.item(0).key:null;Dn(co)},function(no,ao){dn(ao)})})}).catch(dn)});return Nt(pn,Jr),pn}function So(Vr){var Jr=this,Kr=new jt(function(pn,Dn){Jr.ready().then(function(){var dn=Jr._dbInfo;dn.db.transaction(function(Xn){so(Xn,dn,"SELECT key FROM "+dn.storeName,[],function(to,no){for(var ao=[],co=0;co<no.rows.length;co++)ao.push(no.rows.item(co).key);pn(ao)},function(to,no){Dn(no)})})}).catch(Dn)});return Nt(Kr,Vr),Kr}function Fo(Vr){return new jt(function(Jr,Kr){Vr.transaction(function(pn){pn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Dn,dn){for(var Xn=[],to=0;to<dn.rows.length;to++)Xn.push(dn.rows.item(to).name);Jr({db:Vr,storeNames:Xn})},function(Dn,dn){Kr(dn)})},function(pn){Kr(pn)})})}function Yr(Vr,Jr){Jr=Vt.apply(this,arguments);var Kr=this.config();Vr=typeof Vr!="function"&&Vr||{},Vr.name||(Vr.name=Vr.name||Kr.name,Vr.storeName=Vr.storeName||Kr.storeName);var pn=this,Dn;return Vr.name?Dn=new jt(function(dn){var Xn;Vr.name===Kr.name?Xn=pn._dbInfo.db:Xn=openDatabase(Vr.name,"","",0),Vr.storeName?dn({db:Xn,storeNames:[Vr.storeName]}):dn(Fo(Xn))}).then(function(dn){return new jt(function(Xn,to){dn.db.transaction(function(no){function ao(qo){return new jt(function(Uo,_a){no.executeSql("DROP TABLE IF EXISTS "+qo,[],function(){Uo()},function(ba,ps){_a(ps)})})}for(var co=[],xo=0,Io=dn.storeNames.length;xo<Io;xo++)co.push(ao(dn.storeNames[xo]));jt.all(co).then(function(){Xn()}).catch(function(qo){to(qo)})},function(no){to(no)})})}):Dn=jt.reject("Invalid arguments"),Nt(Dn,Jr),Dn}var Qr={_driver:"webSQLStorage",_initStorage:ro,_support:Nr(),iterate:po,getItem:vo,setItem:Mo,removeItem:_o,clear:Eo,length:Do,key:mo,keys:So,dropInstance:Yr};function Cn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Nn(Vr,Jr){var Kr=Vr.name+"/";return Vr.storeName!==Jr.storeName&&(Kr+=Vr.storeName+"/"),Kr}function Hn(){var Vr="_localforage_support_test";try{return localStorage.setItem(Vr,!0),localStorage.removeItem(Vr),!1}catch{return!0}}function lo(){return!Hn()||localStorage.length>0}function Qn(Vr){var Jr=this,Kr={};if(Vr)for(var pn in Vr)Kr[pn]=Vr[pn];return Kr.keyPrefix=Nn(Vr,Jr._defaultConfig),lo()?(Jr._dbInfo=Kr,Kr.serializer=Yn,jt.resolve()):jt.reject()}function Jn(Vr){var Jr=this,Kr=Jr.ready().then(function(){for(var pn=Jr._dbInfo.keyPrefix,Dn=localStorage.length-1;Dn>=0;Dn--){var dn=localStorage.key(Dn);dn.indexOf(pn)===0&&localStorage.removeItem(dn)}});return Nt(Kr,Vr),Kr}function oo(Vr,Jr){var Kr=this;Vr=Ut(Vr);var pn=Kr.ready().then(function(){var Dn=Kr._dbInfo,dn=localStorage.getItem(Dn.keyPrefix+Vr);return dn&&(dn=Dn.serializer.deserialize(dn)),dn});return Nt(pn,Jr),pn}function Gn(Vr,Jr){var Kr=this,pn=Kr.ready().then(function(){for(var Dn=Kr._dbInfo,dn=Dn.keyPrefix,Xn=dn.length,to=localStorage.length,no=1,ao=0;ao<to;ao++){var co=localStorage.key(ao);if(co.indexOf(dn)===0){var xo=localStorage.getItem(co);if(xo&&(xo=Dn.serializer.deserialize(xo)),xo=Vr(xo,co.substring(Xn),no++),xo!==void 0)return xo}}});return Nt(pn,Jr),pn}function _i(Vr,Jr){var Kr=this,pn=Kr.ready().then(function(){var Dn=Kr._dbInfo,dn;try{dn=localStorage.key(Vr)}catch{dn=null}return dn&&(dn=dn.substring(Dn.keyPrefix.length)),dn});return Nt(pn,Jr),pn}function go(Vr){var Jr=this,Kr=Jr.ready().then(function(){for(var pn=Jr._dbInfo,Dn=localStorage.length,dn=[],Xn=0;Xn<Dn;Xn++){var to=localStorage.key(Xn);to.indexOf(pn.keyPrefix)===0&&dn.push(to.substring(pn.keyPrefix.length))}return dn});return Nt(Kr,Vr),Kr}function fo(Vr){var Jr=this,Kr=Jr.keys().then(function(pn){return pn.length});return Nt(Kr,Vr),Kr}function Co(Vr,Jr){var Kr=this;Vr=Ut(Vr);var pn=Kr.ready().then(function(){var Dn=Kr._dbInfo;localStorage.removeItem(Dn.keyPrefix+Vr)});return Nt(pn,Jr),pn}function ko(Vr,Jr,Kr){var pn=this;Vr=Ut(Vr);var Dn=pn.ready().then(function(){Jr===void 0&&(Jr=null);var dn=Jr;return new jt(function(Xn,to){var no=pn._dbInfo;no.serializer.serialize(Jr,function(ao,co){if(co)to(co);else try{localStorage.setItem(no.keyPrefix+Vr,ao),Xn(dn)}catch(xo){(xo.name==="QuotaExceededError"||xo.name==="NS_ERROR_DOM_QUOTA_REACHED")&&to(xo),to(xo)}})})});return Nt(Dn,Kr),Dn}function Ao(Vr,Jr){if(Jr=Vt.apply(this,arguments),Vr=typeof Vr!="function"&&Vr||{},!Vr.name){var Kr=this.config();Vr.name=Vr.name||Kr.name,Vr.storeName=Vr.storeName||Kr.storeName}var pn=this,Dn;return Vr.name?Dn=new jt(function(dn){Vr.storeName?dn(Nn(Vr,pn._defaultConfig)):dn(Vr.name+"/")}).then(function(dn){for(var Xn=localStorage.length-1;Xn>=0;Xn--){var to=localStorage.key(Xn);to.indexOf(dn)===0&&localStorage.removeItem(to)}}):Dn=jt.reject("Invalid arguments"),Nt(Dn,Jr),Dn}var Oo={_driver:"localStorageWrapper",_initStorage:Qn,_support:Cn(),iterate:Gn,getItem:oo,setItem:ko,removeItem:Co,clear:Jn,length:fo,key:_i,keys:go,dropInstance:Ao},Xo=function(Jr,Kr){return Jr===Kr||typeof Jr=="number"&&typeof Kr=="number"&&isNaN(Jr)&&isNaN(Kr)},es=function(Jr,Kr){for(var pn=Jr.length,Dn=0;Dn<pn;){if(Xo(Jr[Dn],Kr))return!0;Dn++}return!1},Ho=Array.isArray||function(Vr){return Object.prototype.toString.call(Vr)==="[object Array]"},No={},rs={},Go={INDEXEDDB:Br,WEBSQL:Qr,LOCALSTORAGE:Oo},Zo=[Go.INDEXEDDB._driver,Go.WEBSQL._driver,Go.LOCALSTORAGE._driver],ga=["dropInstance"],xa=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ga),To={description:"",driver:Zo.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Po(Vr,Jr){Vr[Jr]=function(){var Kr=arguments;return Vr.ready().then(function(){return Vr[Jr].apply(Vr,Kr)})}}function Qo(){for(var Vr=1;Vr<arguments.length;Vr++){var Jr=arguments[Vr];if(Jr)for(var Kr in Jr)Jr.hasOwnProperty(Kr)&&(Ho(Jr[Kr])?arguments[0][Kr]=Jr[Kr].slice():arguments[0][Kr]=Jr[Kr])}return arguments[0]}var ts=function(){function Vr(Jr){wt(this,Vr);for(var Kr in Go)if(Go.hasOwnProperty(Kr)){var pn=Go[Kr],Dn=pn._driver;this[Kr]=Dn,No[Dn]||this.defineDriver(pn)}this._defaultConfig=Qo({},To),this._config=Qo({},this._defaultConfig,Jr),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Vr.prototype.config=function(Kr){if((typeof Kr>"u"?"undefined":mt(Kr))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var pn in Kr){if(pn==="storeName"&&(Kr[pn]=Kr[pn].replace(/\W/g,"_")),pn==="version"&&typeof Kr[pn]!="number")return new Error("Database version must be a number.");this._config[pn]=Kr[pn]}return"driver"in Kr&&Kr.driver?this.setDriver(this._config.driver):!0}else return typeof Kr=="string"?this._config[Kr]:this._config},Vr.prototype.defineDriver=function(Kr,pn,Dn){var dn=new jt(function(Xn,to){try{var no=Kr._driver,ao=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Kr._driver){to(ao);return}for(var co=xa.concat("_initStorage"),xo=0,Io=co.length;xo<Io;xo++){var qo=co[xo],Uo=!es(ga,qo);if((Uo||Kr[qo])&&typeof Kr[qo]!="function"){to(ao);return}}var _a=function(){for(var El=function(Ul){return function(){var uu=new Error("Method "+Ul+" is not implemented by the current driver"),Vl=jt.reject(uu);return Nt(Vl,arguments[arguments.length-1]),Vl}},Cl=0,$u=ga.length;Cl<$u;Cl++){var cu=ga[Cl];Kr[cu]||(Kr[cu]=El(cu))}};_a();var ba=function(El){No[no]&&console.info("Redefining LocalForage driver: "+no),No[no]=Kr,rs[no]=El,Xn()};"_support"in Kr?Kr._support&&typeof Kr._support=="function"?Kr._support().then(ba,to):ba(!!Kr._support):ba(!0)}catch(ps){to(ps)}});return Lt(dn,pn,Dn),dn},Vr.prototype.driver=function(){return this._driver||null},Vr.prototype.getDriver=function(Kr,pn,Dn){var dn=No[Kr]?jt.resolve(No[Kr]):jt.reject(new Error("Driver not found."));return Lt(dn,pn,Dn),dn},Vr.prototype.getSerializer=function(Kr){var pn=jt.resolve(Yn);return Lt(pn,Kr),pn},Vr.prototype.ready=function(Kr){var pn=this,Dn=pn._driverSet.then(function(){return pn._ready===null&&(pn._ready=pn._initDriver()),pn._ready});return Lt(Dn,Kr,Kr),Dn},Vr.prototype.setDriver=function(Kr,pn,Dn){var dn=this;Ho(Kr)||(Kr=[Kr]);var Xn=this._getSupportedDrivers(Kr);function to(){dn._config.driver=dn.driver()}function no(xo){return dn._extend(xo),to(),dn._ready=dn._initStorage(dn._config),dn._ready}function ao(xo){return function(){var Io=0;function qo(){for(;Io<xo.length;){var Uo=xo[Io];return Io++,dn._dbInfo=null,dn._ready=null,dn.getDriver(Uo).then(no).catch(qo)}to();var _a=new Error("No available storage method found.");return dn._driverSet=jt.reject(_a),dn._driverSet}return qo()}}var co=this._driverSet!==null?this._driverSet.catch(function(){return jt.resolve()}):jt.resolve();return this._driverSet=co.then(function(){var xo=Xn[0];return dn._dbInfo=null,dn._ready=null,dn.getDriver(xo).then(function(Io){dn._driver=Io._driver,to(),dn._wrapLibraryMethodsWithReady(),dn._initDriver=ao(Xn)})}).catch(function(){to();var xo=new Error("No available storage method found.");return dn._driverSet=jt.reject(xo),dn._driverSet}),Lt(this._driverSet,pn,Dn),this._driverSet},Vr.prototype.supports=function(Kr){return!!rs[Kr]},Vr.prototype._extend=function(Kr){Qo(this,Kr)},Vr.prototype._getSupportedDrivers=function(Kr){for(var pn=[],Dn=0,dn=Kr.length;Dn<dn;Dn++){var Xn=Kr[Dn];this.supports(Xn)&&pn.push(Xn)}return pn},Vr.prototype._wrapLibraryMethodsWithReady=function(){for(var Kr=0,pn=xa.length;Kr<pn;Kr++)Po(this,xa[Kr])},Vr.prototype.createInstance=function(Kr){return new Vr(Kr)},Vr}(),Lo=new ts;nt.exports=Lo},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs$2(localforageExports);localforage.config({name:"CetusSite",storeName:"tokens"});class LocalStorageService{static async setItem(a,et){try{await localforage.setItem(a,et)}catch(nt){console.error(`Failed to set item with key "${a}"`,nt)}}static async getItem(a){try{return await localforage.getItem(a)}catch(et){return console.error(`Failed to get item with key "${a}"`,et),null}}static async removeItem(a){try{await localforage.removeItem(a)}catch(et){console.error(`Failed to remove item with key "${a}"`,et)}}static async clear(){try{await localforage.clear()}catch(a){console.error("Failed to clear storage",a)}}}const textEllipses=(s,a=10)=>s?(s==null?void 0:s.length)>a&&d$2(a).gt(0)?`${s.slice(0,a)}...`:s:"";function addDomEvent$1(s,a,et,nt){return s.addEventListener(a,et,nt),()=>{s.removeEventListener(a,et,nt)}}function isHTMLElement$2(s){return s!=null&&typeof s=="object"&&"nodeType"in s&&s.nodeType===Node.ELEMENT_NODE}function isBrowser$2(){return!!(globalThis!=null&&globalThis.document)}function isHiddenElement(s){return s.parentElement&&isHiddenElement(s.parentElement)?!0:s.hidden}function isContentEditableElement(s){const a=s.getAttribute("contenteditable");return a!=="false"&&a!=null}function isDisabledElement(s){return!!s.getAttribute("disabled")||!!s.getAttribute("aria-disabled")}function getOwnerWindow(s){var a;return((a=getOwnerDocument$2(s))==null?void 0:a.defaultView)??window}function getOwnerDocument$2(s){return isHTMLElement$2(s)?s.ownerDocument:document}function getEventWindow(s){return s.view??window}function getActiveElement$1(s){return getOwnerDocument$2(s).activeElement}function isMouseEvent(s){const a=getEventWindow(s);return typeof a.PointerEvent<"u"&&s instanceof a.PointerEvent?s.pointerType==="mouse":s instanceof a.MouseEvent}function isTouchEvent(s){return!!s.touches}function isMultiTouchEvent(s){return isTouchEvent(s)&&s.touches.length>1}function pointFromTouch(s,a="page"){const et=s.touches[0]||s.changedTouches[0];return{x:et[`${a}X`],y:et[`${a}Y`]}}function pointFromMouse(s,a="page"){return{x:s[`${a}X`],y:s[`${a}Y`]}}function getEventPoint(s,a="page"){return isTouchEvent(s)?pointFromTouch(s,a):pointFromMouse(s,a)}function filter$2(s){return a=>{const et=isMouseEvent(a);(!et||et&&a.button===0)&&s(a)}}function wrap$1(s,a=!1){function et(at){s(at,{point:getEventPoint(at)})}return a?filter$2(et):et}function addPointerEvent$1(s,a,et,nt){return addDomEvent$1(s,a,wrap$1(et,a==="pointerdown"),nt)}function assignAfter(s,...a){if(s==null)throw new TypeError("Cannot convert undefined or null to object");const et={...s};for(const nt of a)if(nt!=null)for(const at in nt)Object.prototype.hasOwnProperty.call(nt,at)&&(at in et&&delete et[at],et[at]=nt[at]);return et}const dataAttr=s=>s?"":void 0,ariaAttr=s=>s?!0:void 0;function isArray$2(s){return Array.isArray(s)}function isObject$3(s){const a=typeof s;return s!=null&&(a==="object"||a==="function")&&!isArray$2(s)}function getLastItem(s){const a=s==null?0:s.length;return a?s[a-1]:void 0}function analyzeCSSValue$1(s){const a=parseFloat(s.toString()),et=s.toString().replace(String(a),"");return{unitless:!et,value:a,unit:et}}function px$1(s){if(s==null)return s;const{unitless:a}=analyzeCSSValue$1(s);return a||typeof s=="number"?`${s}px`:s}const sortByBreakpointValue=(s,a)=>parseInt(s[1],10)>parseInt(a[1],10)?1:-1,sortBps=s=>Object.fromEntries(Object.entries(s).sort(sortByBreakpointValue));function normalize$4(s){const a=sortBps(s);return Object.assign(Object.values(a),a)}function keys$1(s){const a=Object.keys(sortBps(s));return new Set(a)}function subtract$3(s){if(!s)return s;s=px$1(s)??s;const a=-.02;return typeof s=="number"?`${s+a}`:s.replace(/(\d+\.?\d*)/u,et=>`${parseFloat(et)+a}`)}function toMediaQueryString(s,a){const et=["@media screen"];return s&&et.push("and",`(min-width: ${px$1(s)})`),a&&et.push("and",`(max-width: ${px$1(a)})`),et.join(" ")}function analyzeBreakpoints(s){if(!s)return null;s.base=s.base??"0px";const a=normalize$4(s),et=Object.entries(s).sort(sortByBreakpointValue).map(([mt,wt],$t,Ct)=>{let[,Dt]=Ct[$t+1]??[];return Dt=parseFloat(Dt)>0?subtract$3(Dt):void 0,{_minW:subtract$3(wt),breakpoint:mt,minW:wt,maxW:Dt,maxWQuery:toMediaQueryString(null,Dt),minWQuery:toMediaQueryString(wt),minMaxQuery:toMediaQueryString(wt,Dt)}}),nt=keys$1(s),at=Array.from(nt.values());return{keys:nt,normalized:a,isResponsive(mt){const wt=Object.keys(mt);return wt.length>0&&wt.every($t=>nt.has($t))},asObject:sortBps(s),asArray:normalize$4(s),details:et,get(mt){return et.find(wt=>wt.breakpoint===mt)},media:[null,...a.map(mt=>toMediaQueryString(mt)).slice(1)],toArrayValue(mt){if(!isObject$3(mt))throw new Error("toArrayValue: value must be an object");const wt=at.map($t=>mt[$t]??null);for(;getLastItem(wt)===null;)wt.pop();return wt},toObjectValue(mt){if(!Array.isArray(mt))throw new Error("toObjectValue: value must be an array");return mt.reduce((wt,$t,Ct)=>{const Dt=at[Ct];return Dt!=null&&$t!=null&&(wt[Dt]=$t),wt},{})}}}function callAll(...s){return function(...et){s.forEach(nt=>nt==null?void 0:nt(...et))}}function callAllHandlers(...s){return function(et){s.some(nt=>(nt==null||nt(et),et==null?void 0:et.defaultPrevented))}}function getValidChildren(s){return reactExports.Children.toArray(s).filter(a=>reactExports.isValidElement(a))}function compact(s){const a=Object.assign({},s);for(let et in a)a[et]===void 0&&delete a[et];return a}function getErrorMessage(s,a){return`${s} returned \`undefined\`. Seems you forgot to wrap component within ${a}`}function createContext(s={}){const{name:a,strict:et=!0,hookName:nt="useContext",providerName:at="Provider",errorMessage:mt,defaultValue:wt}=s,$t=reactExports.createContext(wt);$t.displayName=a;function Ct(){var Ft;const Dt=reactExports.useContext($t);if(!Dt&&et){const jt=new Error(mt??getErrorMessage(nt,at));throw jt.name="ContextError",(Ft=Error.captureStackTrace)==null||Ft.call(Error,jt,Ct),jt}return Dt}return[$t.Provider,Ct,$t]}const cx=(...s)=>s.filter(Boolean).join(" "),hasTabIndex=s=>s.hasAttribute("tabindex"),hasNegativeTabIndex=s=>hasTabIndex(s)&&s.tabIndex===-1;function isFocusable(s){if(!isHTMLElement$2(s)||isHiddenElement(s)||isDisabledElement(s))return!1;const{localName:a}=s;if(["input","select","textarea","button"].indexOf(a)>=0)return!0;const nt={a:()=>s.hasAttribute("href"),audio:()=>s.hasAttribute("controls"),video:()=>s.hasAttribute("controls")};return a in nt?nt[a]():isContentEditableElement(s)?!0:hasTabIndex(s)}function isTabbable(s){return s?isHTMLElement$2(s)&&isFocusable(s)&&!hasNegativeTabIndex(s):!1}const focusableElList=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],focusableElSelector=focusableElList.join(),isVisible=s=>s.offsetWidth>0&&s.offsetHeight>0;function getAllFocusable(s){const a=Array.from(s.querySelectorAll(focusableElSelector));return a.unshift(s),a.filter(et=>isFocusable(et)&&isVisible(et))}function get$4(s,a,et,nt){const at=typeof a=="string"?a.split("."):[a];for(nt=0;nt<at.length&&s;nt+=1)s=s[at[nt]];return s===void 0?et:s}const memoize$3=s=>{const a=new WeakMap;return(nt,at,mt,wt)=>{if(typeof nt>"u")return s(nt,at,mt);a.has(nt)||a.set(nt,new Map);const $t=a.get(nt);if($t.has(at))return $t.get(at);const Ct=s(nt,at,mt,wt);return $t.set(at,Ct),Ct}},memoizedGet$1=memoize$3(get$4),interopDefault=s=>s.default||s;function lazyDisclosure(s){const{wasSelected:a,enabled:et,isSelected:nt,mode:at="unmount"}=s;return!!(!et||nt||at==="keepMounted"&&a)}function toNumber(s){const a=parseFloat(s);return typeof a!="number"||Number.isNaN(a)?0:a}function toPrecision(s,a){let et=toNumber(s);const nt=10**(a??10);return et=Math.round(et*nt)/nt,a?et.toFixed(a):et.toString()}function countDecimalPlaces(s){if(!Number.isFinite(s))return 0;let a=1,et=0;for(;Math.round(s*a)/a!==s;)a*=10,et+=1;return et}function valueToPercent(s,a,et){return(s-a)*100/(et-a)}function percentToValue(s,a,et){return(et-a)*s+a}function roundValueToStep(s,a,et){const nt=Math.round((s-a)/et)*et+a,at=countDecimalPlaces(et);return toPrecision(nt,at)}function clampValue(s,a,et){return s==null?s:(et<a&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(s,a),et))}function omit(s,a=[]){const et=Object.assign({},s);for(const nt of a)nt in et&&delete et[nt];return et}function pick(s,a){const et={};for(const nt of a)nt in s&&(et[nt]=s[nt]);return et}function mapResponsive(s,a){return Array.isArray(s)?s.map(et=>et===null?null:a(et)):isObject$3(s)?Object.keys(s).reduce((et,nt)=>(et[nt]=a(s[nt]),et),{}):s!=null?a(s):null}const isFunction$4=s=>typeof s=="function";function runIfFn$1(s,...a){return isFunction$4(s)?s(...a):s}function isScrollParent$1(s){const a=s.ownerDocument.defaultView||window,{overflow:et,overflowX:nt,overflowY:at}=a.getComputedStyle(s);return/auto|scroll|overlay|hidden/.test(et+at+nt)}function getParent(s){return s.localName==="html"?s:s.assignedSlot||s.parentElement||s.ownerDocument.documentElement}function getScrollParent$1(s){return["html","body","#document"].includes(s.localName)?s.ownerDocument.body:isHTMLElement$2(s)&&isScrollParent$1(s)?s:getScrollParent$1(getParent(s))}function splitProps(s,...a){const et=Object.getOwnPropertyDescriptors(s),nt=Object.keys(et),at=wt=>{const $t={};for(let Ct=0;Ct<wt.length;Ct++){const Dt=wt[Ct];et[Dt]&&(Object.defineProperty($t,Dt,et[Dt]),delete et[Dt])}return $t},mt=wt=>at(Array.isArray(wt)?wt:nt.filter(wt));return a.map(mt).concat(at(nt))}function walkObject(s,a,et={}){const{stop:nt,getKey:at}=et;function mt(wt,$t=[]){if(isObject$3(wt)||Array.isArray(wt)){const Ct={};for(const[Dt,Ft]of Object.entries(wt)){const jt=(at==null?void 0:at(Dt))??Dt,Nt=[...$t,jt];if(nt!=null&&nt(wt,Nt))return a(wt,$t);Ct[jt]=mt(Ft,Nt)}return Ct}return a(wt,$t)}return mt(s)}var lodash_mergewith={exports:{}};lodash_mergewith.exports;(function(s,a){var et=200,nt="__lodash_hash_undefined__",at=800,mt=16,wt=9007199254740991,$t="[object Arguments]",Ct="[object Array]",Dt="[object AsyncFunction]",Ft="[object Boolean]",jt="[object Date]",Nt="[object Error]",Lt="[object Function]",Ut="[object GeneratorFunction]",Vt="[object Map]",Yt="[object Number]",er="[object Null]",tr="[object Object]",nr="[object Proxy]",sr="[object RegExp]",dr="[object Set]",br="[object String]",vr="[object Undefined]",yr="[object WeakMap]",$r="[object ArrayBuffer]",Sr="[object DataView]",wr="[object Float32Array]",fr="[object Float64Array]",_r="[object Int8Array]",ir="[object Int16Array]",rr="[object Int32Array]",or="[object Uint8Array]",ar="[object Uint8ClampedArray]",ur="[object Uint16Array]",pr="[object Uint32Array]",cr=/[\\^$.*+?()[\]{}|]/g,gr=/^\[object .+?Constructor\]$/,hr=/^(?:0|[1-9]\d*)$/,lr={};lr[wr]=lr[fr]=lr[_r]=lr[ir]=lr[rr]=lr[or]=lr[ar]=lr[ur]=lr[pr]=!0,lr[$t]=lr[Ct]=lr[$r]=lr[Ft]=lr[Sr]=lr[jt]=lr[Nt]=lr[Lt]=lr[Vt]=lr[Yt]=lr[tr]=lr[sr]=lr[dr]=lr[br]=lr[yr]=!1;var xr=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,Mr=typeof self=="object"&&self&&self.Object===Object&&self,Pr=xr||Mr||Function("return this")(),Ar=a&&!a.nodeType&&a,Ir=Ar&&!0&&s&&!s.nodeType&&s,qr=Ir&&Ir.exports===Ar,Rr=qr&&xr.process,Tr=function(){try{var Xr=Ir&&Ir.require&&Ir.require("util").types;return Xr||Rr&&Rr.binding&&Rr.binding("util")}catch{}}(),Er=Tr&&Tr.isTypedArray;function Br(Xr,$n,Vn){switch(Vn.length){case 0:return Xr.call($n);case 1:return Xr.call($n,Vn[0]);case 2:return Xr.call($n,Vn[0],Vn[1]);case 3:return Xr.call($n,Vn[0],Vn[1],Vn[2])}return Xr.apply($n,Vn)}function Nr(Xr,$n){for(var Vn=-1,wo=Array(Xr);++Vn<Xr;)wo[Vn]=$n(Vn);return wo}function zr(Xr){return function($n){return Xr($n)}}function Hr(Xr,$n){return Xr==null?void 0:Xr[$n]}function jr(Xr,$n){return function(Vn){return Xr($n(Vn))}}var Ur=Array.prototype,Fr=Function.prototype,Gr=Object.prototype,Wr=Pr["__core-js_shared__"],nn=Fr.toString,Ln=Gr.hasOwnProperty,Un=function(){var Xr=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||"");return Xr?"Symbol(src)_1."+Xr:""}(),Wn=Gr.toString,io=nn.call(Object),zn=RegExp("^"+nn.call(Ln).replace(cr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zn=qr?Pr.Buffer:void 0,bo=Pr.Symbol,Or=Pr.Uint8Array;Zn&&Zn.allocUnsafe;var Cr=jr(Object.getPrototypeOf,Object),kr=Object.create,Lr=Gr.propertyIsEnumerable,Zr=Ur.splice,an=bo?bo.toStringTag:void 0,rn=function(){try{var Xr=no(Object,"defineProperty");return Xr({},"",{}),Xr}catch{}}(),Yn=Zn?Zn.isBuffer:void 0,yo=Math.max,ro=Date.now,so=no(Pr,"Map"),vo=no(Object,"create"),po=function(){function Xr(){}return function($n){if(!Tl($n))return{};if(kr)return kr($n);Xr.prototype=$n;var Vn=new Xr;return Xr.prototype=void 0,Vn}}();function $o(Xr){var $n=-1,Vn=Xr==null?0:Xr.length;for(this.clear();++$n<Vn;){var wo=Xr[$n];this.set(wo[0],wo[1])}}function Mo(){this.__data__=vo?vo(null):{},this.size=0}function _o(Xr){var $n=this.has(Xr)&&delete this.__data__[Xr];return this.size-=$n?1:0,$n}function Eo(Xr){var $n=this.__data__;if(vo){var Vn=$n[Xr];return Vn===nt?void 0:Vn}return Ln.call($n,Xr)?$n[Xr]:void 0}function Do(Xr){var $n=this.__data__;return vo?$n[Xr]!==void 0:Ln.call($n,Xr)}function mo(Xr,$n){var Vn=this.__data__;return this.size+=this.has(Xr)?0:1,Vn[Xr]=vo&&$n===void 0?nt:$n,this}$o.prototype.clear=Mo,$o.prototype.delete=_o,$o.prototype.get=Eo,$o.prototype.has=Do,$o.prototype.set=mo;function So(Xr){var $n=-1,Vn=Xr==null?0:Xr.length;for(this.clear();++$n<Vn;){var wo=Xr[$n];this.set(wo[0],wo[1])}}function Fo(){this.__data__=[],this.size=0}function Yr(Xr){var $n=this.__data__,Vn=Ho($n,Xr);if(Vn<0)return!1;var wo=$n.length-1;return Vn==wo?$n.pop():Zr.call($n,Vn,1),--this.size,!0}function Qr(Xr){var $n=this.__data__,Vn=Ho($n,Xr);return Vn<0?void 0:$n[Vn][1]}function Cn(Xr){return Ho(this.__data__,Xr)>-1}function Nn(Xr,$n){var Vn=this.__data__,wo=Ho(Vn,Xr);return wo<0?(++this.size,Vn.push([Xr,$n])):Vn[wo][1]=$n,this}So.prototype.clear=Fo,So.prototype.delete=Yr,So.prototype.get=Qr,So.prototype.has=Cn,So.prototype.set=Nn;function Hn(Xr){var $n=-1,Vn=Xr==null?0:Xr.length;for(this.clear();++$n<Vn;){var wo=Xr[$n];this.set(wo[0],wo[1])}}function lo(){this.size=0,this.__data__={hash:new $o,map:new(so||So),string:new $o}}function Qn(Xr){var $n=to(this,Xr).delete(Xr);return this.size-=$n?1:0,$n}function Jn(Xr){return to(this,Xr).get(Xr)}function oo(Xr){return to(this,Xr).has(Xr)}function Gn(Xr,$n){var Vn=to(this,Xr),wo=Vn.size;return Vn.set(Xr,$n),this.size+=Vn.size==wo?0:1,this}Hn.prototype.clear=lo,Hn.prototype.delete=Qn,Hn.prototype.get=Jn,Hn.prototype.has=oo,Hn.prototype.set=Gn;function _i(Xr){var $n=this.__data__=new So(Xr);this.size=$n.size}function go(){this.__data__=new So,this.size=0}function fo(Xr){var $n=this.__data__,Vn=$n.delete(Xr);return this.size=$n.size,Vn}function Co(Xr){return this.__data__.get(Xr)}function ko(Xr){return this.__data__.has(Xr)}function Ao(Xr,$n){var Vn=this.__data__;if(Vn instanceof So){var wo=Vn.__data__;if(!so||wo.length<et-1)return wo.push([Xr,$n]),this.size=++Vn.size,this;Vn=this.__data__=new Hn(wo)}return Vn.set(Xr,$n),this.size=Vn.size,this}_i.prototype.clear=go,_i.prototype.delete=fo,_i.prototype.get=Co,_i.prototype.has=ko,_i.prototype.set=Ao;function Oo(Xr,$n){var Vn=Vl(Xr),wo=!Vn&&uu(Xr),jo=!Vn&&!wo&&Gu(Xr),Wo=!Vn&&!wo&&!jo&&Ku(Xr),Jo=Vn||wo||jo||Wo,Vo=Jo?Nr(Xr.length,String):[],na=Vo.length;for(var $s in Xr)Jo&&($s=="length"||jo&&($s=="offset"||$s=="parent")||Wo&&($s=="buffer"||$s=="byteLength"||$s=="byteOffset")||xo($s,na))||Vo.push($s);return Vo}function Xo(Xr,$n,Vn){(Vn!==void 0&&!Ul(Xr[$n],Vn)||Vn===void 0&&!($n in Xr))&&No(Xr,$n,Vn)}function es(Xr,$n,Vn){var wo=Xr[$n];(!(Ln.call(Xr,$n)&&Ul(wo,Vn))||Vn===void 0&&!($n in Xr))&&No(Xr,$n,Vn)}function Ho(Xr,$n){for(var Vn=Xr.length;Vn--;)if(Ul(Xr[Vn][0],$n))return Vn;return-1}function No(Xr,$n,Vn){$n=="__proto__"&&rn?rn(Xr,$n,{configurable:!0,enumerable:!0,value:Vn,writable:!0}):Xr[$n]=Vn}var rs=Xn();function Go(Xr){return Xr==null?Xr===void 0?vr:er:an&&an in Object(Xr)?ao(Xr):ps(Xr)}function Zo(Xr){return du(Xr)&&Go(Xr)==$t}function ga(Xr){if(!Tl(Xr)||Uo(Xr))return!1;var $n=Cu(Xr)?zn:gr;return $n.test(Hu(Xr))}function xa(Xr){return du(Xr)&&Wu(Xr.length)&&!!lr[Go(Xr)]}function To(Xr){if(!Tl(Xr))return ba(Xr);var $n=_a(Xr),Vn=[];for(var wo in Xr)wo=="constructor"&&($n||!Ln.call(Xr,wo))||Vn.push(wo);return Vn}function Po(Xr,$n,Vn,wo,jo){Xr!==$n&&rs($n,function(Wo,Jo){if(jo||(jo=new _i),Tl(Wo))Qo(Xr,$n,Jo,Vn,Po,wo,jo);else{var Vo=wo?wo(Cl(Xr,Jo),Wo,Jo+"",Xr,$n,jo):void 0;Vo===void 0&&(Vo=Wo),Xo(Xr,Jo,Vo)}},Yu)}function Qo(Xr,$n,Vn,wo,jo,Wo,Jo){var Vo=Cl(Xr,Vn),na=Cl($n,Vn),$s=Jo.get(na);if($s){Xo(Xr,Vn,$s);return}var _s=Wo?Wo(Vo,na,Vn+"",Xr,$n,Jo):void 0,fu=_s===void 0;if(fu){var Tu=Vl(na),Au=!Tu&&Gu(na),Zu=!Tu&&!Au&&Ku(na);_s=na,Tu||Au||Zu?Vl(Vo)?_s=Vo:Pp(Vo)?_s=pn(Vo):Au?(fu=!1,_s=Vr(na)):Zu?(fu=!1,_s=Kr(na)):_s=[]:Op(na)||uu(na)?(_s=Vo,uu(Vo)?_s=Dp(Vo):(!Tl(Vo)||Cu(Vo))&&(_s=co(na))):fu=!1}fu&&(Jo.set(na,_s),jo(_s,na,wo,Wo,Jo),Jo.delete(na)),Xo(Xr,Vn,_s)}function ts(Xr,$n){return $u(El(Xr,$n,Xu),Xr+"")}var Lo=rn?function(Xr,$n){return rn(Xr,"toString",{configurable:!0,enumerable:!1,value:Bp($n),writable:!0})}:Xu;function Vr(Xr,$n){return Xr.slice()}function Jr(Xr){var $n=new Xr.constructor(Xr.byteLength);return new Or($n).set(new Or(Xr)),$n}function Kr(Xr,$n){var Vn=Jr(Xr.buffer);return new Xr.constructor(Vn,Xr.byteOffset,Xr.length)}function pn(Xr,$n){var Vn=-1,wo=Xr.length;for($n||($n=Array(wo));++Vn<wo;)$n[Vn]=Xr[Vn];return $n}function Dn(Xr,$n,Vn,wo){var jo=!Vn;Vn||(Vn={});for(var Wo=-1,Jo=$n.length;++Wo<Jo;){var Vo=$n[Wo],na=void 0;na===void 0&&(na=Xr[Vo]),jo?No(Vn,Vo,na):es(Vn,Vo,na)}return Vn}function dn(Xr){return ts(function($n,Vn){var wo=-1,jo=Vn.length,Wo=jo>1?Vn[jo-1]:void 0,Jo=jo>2?Vn[2]:void 0;for(Wo=Xr.length>3&&typeof Wo=="function"?(jo--,Wo):void 0,Jo&&Io(Vn[0],Vn[1],Jo)&&(Wo=jo<3?void 0:Wo,jo=1),$n=Object($n);++wo<jo;){var Vo=Vn[wo];Vo&&Xr($n,Vo,wo,Wo)}return $n})}function Xn(Xr){return function($n,Vn,wo){for(var jo=-1,Wo=Object($n),Jo=wo($n),Vo=Jo.length;Vo--;){var na=Jo[++jo];if(Vn(Wo[na],na,Wo)===!1)break}return $n}}function to(Xr,$n){var Vn=Xr.__data__;return qo($n)?Vn[typeof $n=="string"?"string":"hash"]:Vn.map}function no(Xr,$n){var Vn=Hr(Xr,$n);return ga(Vn)?Vn:void 0}function ao(Xr){var $n=Ln.call(Xr,an),Vn=Xr[an];try{Xr[an]=void 0;var wo=!0}catch{}var jo=Wn.call(Xr);return wo&&($n?Xr[an]=Vn:delete Xr[an]),jo}function co(Xr){return typeof Xr.constructor=="function"&&!_a(Xr)?po(Cr(Xr)):{}}function xo(Xr,$n){var Vn=typeof Xr;return $n=$n??wt,!!$n&&(Vn=="number"||Vn!="symbol"&&hr.test(Xr))&&Xr>-1&&Xr%1==0&&Xr<$n}function Io(Xr,$n,Vn){if(!Tl(Vn))return!1;var wo=typeof $n;return(wo=="number"?Eu(Vn)&&xo($n,Vn.length):wo=="string"&&$n in Vn)?Ul(Vn[$n],Xr):!1}function qo(Xr){var $n=typeof Xr;return $n=="string"||$n=="number"||$n=="symbol"||$n=="boolean"?Xr!=="__proto__":Xr===null}function Uo(Xr){return!!Un&&Un in Xr}function _a(Xr){var $n=Xr&&Xr.constructor,Vn=typeof $n=="function"&&$n.prototype||Gr;return Xr===Vn}function ba(Xr){var $n=[];if(Xr!=null)for(var Vn in Object(Xr))$n.push(Vn);return $n}function ps(Xr){return Wn.call(Xr)}function El(Xr,$n,Vn){return $n=yo($n===void 0?Xr.length-1:$n,0),function(){for(var wo=arguments,jo=-1,Wo=yo(wo.length-$n,0),Jo=Array(Wo);++jo<Wo;)Jo[jo]=wo[$n+jo];jo=-1;for(var Vo=Array($n+1);++jo<$n;)Vo[jo]=wo[jo];return Vo[$n]=Vn(Jo),Br(Xr,this,Vo)}}function Cl(Xr,$n){if(!($n==="constructor"&&typeof Xr[$n]=="function")&&$n!="__proto__")return Xr[$n]}var $u=cu(Lo);function cu(Xr){var $n=0,Vn=0;return function(){var wo=ro(),jo=mt-(wo-Vn);if(Vn=wo,jo>0){if(++$n>=at)return arguments[0]}else $n=0;return Xr.apply(void 0,arguments)}}function Hu(Xr){if(Xr!=null){try{return nn.call(Xr)}catch{}try{return Xr+""}catch{}}return""}function Ul(Xr,$n){return Xr===$n||Xr!==Xr&&$n!==$n}var uu=Zo(function(){return arguments}())?Zo:function(Xr){return du(Xr)&&Ln.call(Xr,"callee")&&!Lr.call(Xr,"callee")},Vl=Array.isArray;function Eu(Xr){return Xr!=null&&Wu(Xr.length)&&!Cu(Xr)}function Pp(Xr){return du(Xr)&&Eu(Xr)}var Gu=Yn||jp;function Cu(Xr){if(!Tl(Xr))return!1;var $n=Go(Xr);return $n==Lt||$n==Ut||$n==Dt||$n==nr}function Wu(Xr){return typeof Xr=="number"&&Xr>-1&&Xr%1==0&&Xr<=wt}function Tl(Xr){var $n=typeof Xr;return Xr!=null&&($n=="object"||$n=="function")}function du(Xr){return Xr!=null&&typeof Xr=="object"}function Op(Xr){if(!du(Xr)||Go(Xr)!=tr)return!1;var $n=Cr(Xr);if($n===null)return!0;var Vn=Ln.call($n,"constructor")&&$n.constructor;return typeof Vn=="function"&&Vn instanceof Vn&&nn.call(Vn)==io}var Ku=Er?zr(Er):xa;function Dp(Xr){return Dn(Xr,Yu(Xr))}function Yu(Xr){return Eu(Xr)?Oo(Xr):To(Xr)}var Mp=dn(function(Xr,$n,Vn,wo){Po(Xr,$n,Vn,wo)});function Bp(Xr){return function(){return Xr}}function Xu(Xr){return Xr}function jp(){return!1}s.exports=Mp})(lodash_mergewith,lodash_mergewith.exports);var lodash_mergewithExports=lodash_mergewith.exports;const mergeWith=getDefaultExportFromCjs$2(lodash_mergewithExports);function useCallbackRef(s,a=[]){const et=reactExports.useRef(s);return reactExports.useEffect(()=>{et.current=s}),reactExports.useCallback((...nt)=>{var at;return(at=et.current)==null?void 0:at.call(et,...nt)},a)}function useEventListener(s,a,et,nt){const at=useCallbackRef(et);return reactExports.useEffect(()=>{const mt=typeof s=="function"?s():s??document;if(!(!et||!mt))return mt.addEventListener(a,at,nt),()=>{mt.removeEventListener(a,at,nt)}},[a,s,nt,at,et]),()=>{const mt=typeof s=="function"?s():s??document;mt==null||mt.removeEventListener(a,at,nt)}}function useAnimationState(s){const{isOpen:a,ref:et}=s,[nt,at]=reactExports.useState(a),[mt,wt]=reactExports.useState(!1);return reactExports.useEffect(()=>{mt||(at(a),wt(!0))},[a,mt,nt]),useEventListener(()=>et.current,"animationend",()=>{at(a)}),{present:!(a?!1:!nt),onComplete(){var Ft;const Ct=getOwnerWindow(et.current),Dt=new Ct.CustomEvent("animationend",{bubbles:!0});(Ft=et.current)==null||Ft.dispatchEvent(Dt)}}}function useControllableState(s){const{value:a,defaultValue:et,onChange:nt,shouldUpdate:at=(Nt,Lt)=>Nt!==Lt}=s,mt=useCallbackRef(nt),wt=useCallbackRef(at),[$t,Ct]=reactExports.useState(et),Dt=a!==void 0,Ft=Dt?a:$t,jt=useCallbackRef(Nt=>{const Ut=typeof Nt=="function"?Nt(Ft):Nt;wt(Ft,Ut)&&(Dt||Ct(Ut),mt(Ut))},[Dt,mt,Ft,wt]);return[Ft,jt]}function useDisclosure(s={}){const{onClose:a,onOpen:et,isOpen:nt,id:at}=s,mt=useCallbackRef(et),wt=useCallbackRef(a),[$t,Ct]=reactExports.useState(s.defaultIsOpen||!1),Dt=nt!==void 0?nt:$t,Ft=nt!==void 0,jt=reactExports.useId(),Nt=at??`disclosure-${jt}`,Lt=reactExports.useCallback(()=>{Ft||Ct(!1),wt==null||wt()},[Ft,wt]),Ut=reactExports.useCallback(()=>{Ft||Ct(!0),mt==null||mt()},[Ft,mt]),Vt=reactExports.useCallback(()=>{Dt?Lt():Ut()},[Dt,Ut,Lt]);function Yt(tr={}){return{...tr,"aria-expanded":Dt,"aria-controls":Nt,onClick(nr){var sr;(sr=tr.onClick)==null||sr.call(tr,nr),Vt()}}}function er(tr={}){return{...tr,hidden:!Dt,id:Nt}}return{isOpen:Dt,onOpen:Ut,onClose:Lt,onToggle:Vt,isControlled:Ft,getButtonProps:Yt,getDisclosureProps:er}}const useSafeLayoutEffect$2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:reactExports.useEffect,useUpdateEffect=(s,a)=>{const et=reactExports.useRef(!1),nt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(et.current&&nt.current)return s();nt.current=!0},a),reactExports.useEffect(()=>(et.current=!0,()=>{et.current=!1}),[])};function preventReturnFocus(s){const a=s.current;if(!a)return!1;const et=getActiveElement$1(a);return!et||a.contains(et)?!1:!!isTabbable(et)}function useFocusOnHide(s,a){const{shouldFocus:et,visible:nt,focusRef:at}=a,mt=et&&!nt;useUpdateEffect(()=>{if(!mt||preventReturnFocus(s))return;const wt=(at==null?void 0:at.current)||s.current;let $t;if(wt)return $t=requestAnimationFrame(()=>{wt.focus({preventScroll:!0})}),()=>{cancelAnimationFrame($t)}},[mt,s,at])}const defaultOptions$1={preventScroll:!0,shouldFocus:!1};function useFocusOnShow(s,a=defaultOptions$1){const{focusRef:et,preventScroll:nt,shouldFocus:at,visible:mt}=a,wt=isRefObject$2(s)?s.current:s,$t=at&&mt,Ct=reactExports.useRef($t),Dt=reactExports.useRef(mt);useSafeLayoutEffect$2(()=>{!Dt.current&&mt&&(Ct.current=$t),Dt.current=mt},[mt,$t]);const Ft=reactExports.useCallback(()=>{if(!(!mt||!wt||!Ct.current)&&(Ct.current=!1,!wt.contains(document.activeElement)))if(et!=null&&et.current)requestAnimationFrame(()=>{var jt;(jt=et.current)==null||jt.focus({preventScroll:nt})});else{const jt=getAllFocusable(wt);jt.length>0&&requestAnimationFrame(()=>{jt[0].focus({preventScroll:nt})})}},[mt,nt,wt,et]);useUpdateEffect(()=>{Ft()},[Ft]),useEventListener(wt,"transitionend",Ft)}function isRefObject$2(s){return"current"in s}function isRefObject$1(s){return"current"in s}const isDom$1=()=>typeof window<"u";function getPlatform(){const s=navigator.userAgentData;return(s==null?void 0:s.platform)??navigator.platform}const vn$1=s=>isDom$1()&&s.test(navigator.vendor),pt$1=s=>isDom$1()&&s.test(getPlatform()),isApple=()=>pt$1(/mac|iphone|ipad|ipod/i),isSafari=()=>isApple()&&vn$1(/apple/i);function useFocusOnPointerDown(s){const{ref:a,elements:et,enabled:nt}=s,at=()=>{var mt;return((mt=a.current)==null?void 0:mt.ownerDocument)??document};useEventListener(at,"pointerdown",mt=>{var Dt,Ft;if(!isSafari()||!nt)return;const wt=((Ft=(Dt=mt.composedPath)==null?void 0:Dt.call(mt))==null?void 0:Ft[0])??mt.target,Ct=(et??[a]).some(jt=>{const Nt=isRefObject$1(jt)?jt.current:jt;return(Nt==null?void 0:Nt.contains(wt))||Nt===wt});at().activeElement!==wt&&Ct&&(mt.preventDefault(),wt.focus())})}function useId(s,a){const et=reactExports.useId();return reactExports.useMemo(()=>s||[a,et].filter(Boolean).join("-"),[s,a,et])}function useIds$1(s,...a){const et=useId(s);return reactExports.useMemo(()=>a.map(nt=>`${nt}-${et}`),[et,a])}function useLatestRef(s){const a=reactExports.useRef(null);return a.current=s,a}function assignRef(s,a){if(s!=null){if(typeof s=="function"){s(a);return}try{s.current=a}catch{throw new Error(`Cannot assign value '${a}' to ref '${s}'`)}}}function mergeRefs(...s){return a=>{s.forEach(et=>{assignRef(et,a)})}}function useMergeRefs(...s){return reactExports.useMemo(()=>mergeRefs(...s),s)}function useOutsideClick(s){const{ref:a,handler:et,enabled:nt=!0}=s,at=useCallbackRef(et),wt=reactExports.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;reactExports.useEffect(()=>{if(!nt)return;const $t=jt=>{isValidEvent(jt,a)&&(wt.isPointerDown=!0)},Ct=jt=>{if(wt.ignoreEmulatedMouseEvents){wt.ignoreEmulatedMouseEvents=!1;return}wt.isPointerDown&&et&&isValidEvent(jt,a)&&(wt.isPointerDown=!1,at(jt))},Dt=jt=>{wt.ignoreEmulatedMouseEvents=!0,et&&wt.isPointerDown&&isValidEvent(jt,a)&&(wt.isPointerDown=!1,at(jt))},Ft=getOwnerDocument$1(a.current);return Ft.addEventListener("mousedown",$t,!0),Ft.addEventListener("mouseup",Ct,!0),Ft.addEventListener("touchstart",$t,!0),Ft.addEventListener("touchend",Dt,!0),()=>{Ft.removeEventListener("mousedown",$t,!0),Ft.removeEventListener("mouseup",Ct,!0),Ft.removeEventListener("touchstart",$t,!0),Ft.removeEventListener("touchend",Dt,!0)}},[et,a,at,wt,nt])}function isValidEvent(s,a){var nt,at;const et=((nt=s.composedPath)==null?void 0:nt.call(s)[0])??s.target;return et&&!getOwnerDocument$1(et).contains(et)?!1:!((at=a.current)!=null&&at.contains(et))}function getOwnerDocument$1(s){return(s==null?void 0:s.ownerDocument)??document}function usePrevious(s){const a=reactExports.useRef(void 0);return reactExports.useEffect(()=>{a.current=s},[s]),a.current}function useTimeout(s,a){const et=useCallbackRef(s);reactExports.useEffect(()=>{if(a==null)return;let nt=null;return nt=window.setTimeout(()=>{et()},a),()=>{nt&&window.clearTimeout(nt)}},[a,et])}const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?s=>window.requestAnimationFrame(s):s=>setTimeout(()=>s(getCurrentTime()),defaultTimestep);function createRenderStep$1(s){let a=[],et=[],nt=0,at=!1,mt=!1;const wt=new WeakSet,$t={schedule:(Ct,Dt=!1,Ft=!1)=>{const jt=Ft&&at,Nt=jt?a:et;return Dt&&wt.add(Ct),Nt.indexOf(Ct)===-1&&(Nt.push(Ct),jt&&at&&(nt=a.length)),Ct},cancel:Ct=>{const Dt=et.indexOf(Ct);Dt!==-1&&et.splice(Dt,1),wt.delete(Ct)},process:Ct=>{if(at){mt=!0;return}if(at=!0,[a,et]=[et,a],et.length=0,nt=a.length,nt)for(let Dt=0;Dt<nt;Dt++){const Ft=a[Dt];Ft(Ct),wt.has(Ft)&&($t.schedule(Ft),s())}at=!1,mt&&(mt=!1,$t.process(Ct))}};return $t}const maxElapsed$1=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame$1={delta:0,timestamp:0},stepsOrder$1=["read","update","preRender","render","postRender"],steps=stepsOrder$1.reduce((s,a)=>(s[a]=createRenderStep$1(()=>runNextFrame=!0),s),{}),sync=stepsOrder$1.reduce((s,a)=>{const et=steps[a];return s[a]=(nt,at=!1,mt=!1)=>(runNextFrame||startLoop(),et.schedule(nt,at,mt)),s},{}),cancelSync=stepsOrder$1.reduce((s,a)=>(s[a]=steps[a].cancel,s),{});stepsOrder$1.reduce((s,a)=>(s[a]=()=>steps[a].process(frame$1),s),{});const processStep=s=>steps[s].process(frame$1),processFrame=s=>{runNextFrame=!1,frame$1.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(s-frame$1.timestamp,maxElapsed$1),1),frame$1.timestamp=s,isProcessing=!0,stepsOrder$1.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame$1;var __defProp$i=Object.defineProperty,__defNormalProp$6=(s,a,et)=>a in s?__defProp$i(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__publicField$3=(s,a,et)=>(__defNormalProp$6(s,typeof a!="symbol"?a+"":a,et),et);class PanEvent{constructor(a,et,nt){if(__publicField$3(this,"history",[]),__publicField$3(this,"startEvent",null),__publicField$3(this,"lastEvent",null),__publicField$3(this,"lastEventInfo",null),__publicField$3(this,"handlers",{}),__publicField$3(this,"removeListeners",()=>{}),__publicField$3(this,"threshold",3),__publicField$3(this,"win"),__publicField$3(this,"updatePoint",()=>{if(!(this.lastEvent&&this.lastEventInfo))return;const $t=getPanInfo$1(this.lastEventInfo,this.history),Ct=this.startEvent!==null,Dt=distance$1($t.offset,{x:0,y:0})>=this.threshold;if(!Ct&&!Dt)return;const{timestamp:Ft}=getFrameData();this.history.push({...$t.point,timestamp:Ft});const{onStart:jt,onMove:Nt}=this.handlers;Ct||(jt==null||jt(this.lastEvent,$t),this.startEvent=this.lastEvent),Nt==null||Nt(this.lastEvent,$t)}),__publicField$3(this,"onPointerMove",($t,Ct)=>{this.lastEvent=$t,this.lastEventInfo=Ct,sync.update(this.updatePoint,!0)}),__publicField$3(this,"onPointerUp",($t,Ct)=>{const Dt=getPanInfo$1(Ct,this.history),{onEnd:Ft,onSessionEnd:jt}=this.handlers;jt==null||jt($t,Dt),this.end(),!(!Ft||!this.startEvent)&&(Ft==null||Ft($t,Dt))}),this.win=a.view??window,isMultiTouchEvent(a))return;this.handlers=et,nt&&(this.threshold=nt),a.stopPropagation(),a.preventDefault();const at={point:getEventPoint(a)},{timestamp:mt}=getFrameData();this.history=[{...at.point,timestamp:mt}];const{onSessionStart:wt}=et;wt==null||wt(a,getPanInfo$1(at,this.history)),this.removeListeners=pipe$3(addPointerEvent$1(this.win,"pointermove",this.onPointerMove),addPointerEvent$1(this.win,"pointerup",this.onPointerUp),addPointerEvent$1(this.win,"pointercancel",this.onPointerUp))}updateHandlers(a){this.handlers=a}end(){var a;(a=this.removeListeners)==null||a.call(this),cancelSync.update(this.updatePoint)}}function subtract$2(s,a){return{x:s.x-a.x,y:s.y-a.y}}function getPanInfo$1(s,a){return{point:s.point,delta:subtract$2(s.point,a[a.length-1]),offset:subtract$2(s.point,a[0]),velocity:getVelocity$1(a,.1)}}const toMilliseconds=s=>s*1e3;function getVelocity$1(s,a){if(s.length<2)return{x:0,y:0};let et=s.length-1,nt=null;const at=s[s.length-1];for(;et>=0&&(nt=s[et],!(at.timestamp-nt.timestamp>toMilliseconds(a)));)et--;if(!nt)return{x:0,y:0};const mt=(at.timestamp-nt.timestamp)/1e3;if(mt===0)return{x:0,y:0};const wt={x:(at.x-nt.x)/mt,y:(at.y-nt.y)/mt};return wt.x===1/0&&(wt.x=0),wt.y===1/0&&(wt.y=0),wt}function pipe$3(...s){return a=>s.reduce((et,nt)=>nt(et),a)}function distance1D(s,a){return Math.abs(s-a)}function isPoint(s){return"x"in s&&"y"in s}function distance$1(s,a){if(typeof s=="number"&&typeof a=="number")return distance1D(s,a);if(isPoint(s)&&isPoint(a)){const et=distance1D(s.x,a.x),nt=distance1D(s.y,a.y);return Math.sqrt(et**2+nt**2)}return 0}function usePanEvent(s,a){const{onPan:et,onPanStart:nt,onPanEnd:at,onPanSessionStart:mt,onPanSessionEnd:wt,threshold:$t}=a,Ct=!!(et||nt||at||mt||wt),Dt=reactExports.useRef(null),Ft=useLatestRef({onSessionStart:mt,onSessionEnd:wt,onStart:nt,onMove:et,onEnd(jt,Nt){Dt.current=null,at==null||at(jt,Nt)}});reactExports.useEffect(()=>{var jt;(jt=Dt.current)==null||jt.updateHandlers(Ft.current)}),reactExports.useEffect(()=>{const jt=s.current;if(!jt||!Ct)return;function Nt(Lt){Dt.current=new PanEvent(Lt,Ft.current,$t)}return addPointerEvent$1(jt,"pointerdown",Nt)},[s,Ct,Ft,$t]),reactExports.useEffect(()=>()=>{var jt;(jt=Dt.current)==null||jt.end(),Dt.current=null},[])}const state$1={open:(s,a)=>`${s}[data-open], ${s}[open], ${s}[data-state=open] ${a}`,closed:(s,a)=>`${s}[data-closed], ${s}[data-state=closed] ${a}`,hover:(s,a)=>`${s}:hover ${a}, ${s}[data-hover] ${a}`,focus:(s,a)=>`${s}:focus ${a}, ${s}[data-focus] ${a}`,focusVisible:(s,a)=>`${s}:focus-visible ${a}`,focusWithin:(s,a)=>`${s}:focus-within ${a}`,active:(s,a)=>`${s}:active ${a}, ${s}[data-active] ${a}`,disabled:(s,a)=>`${s}:disabled ${a}, ${s}[data-disabled] ${a}`,invalid:(s,a)=>`${s}:invalid ${a}, ${s}[data-invalid] ${a}`,checked:(s,a)=>`${s}:checked ${a}, ${s}[data-checked] ${a}`,placeholderShown:(s,a)=>`${s}:placeholder-shown ${a}`},toGroup=s=>merge$2(a=>s(a,"&"),"[role=group]","[data-group]",".group"),toPeer=s=>merge$2(a=>s(a,"~ &"),"[data-peer]",".peer"),merge$2=(s,...a)=>a.map(s).join(", "),pseudoSelectors={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within, &[data-focus-within]",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty, &[data-empty]",_expanded:"&[aria-expanded=true], &[data-expanded], &[data-state=expanded]",_checked:"&[aria-checked=true], &[data-checked], &[data-state=checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate], &[data-state=indeterminate]",_groupOpen:toGroup(state$1.open),_groupClosed:toGroup(state$1.closed),_groupHover:toGroup(state$1.hover),_peerHover:toPeer(state$1.hover),_groupFocus:toGroup(state$1.focus),_peerFocus:toPeer(state$1.focus),_groupFocusVisible:toGroup(state$1.focusVisible),_peerFocusVisible:toPeer(state$1.focusVisible),_groupActive:toGroup(state$1.active),_peerActive:toPeer(state$1.active),_groupDisabled:toGroup(state$1.disabled),_peerDisabled:toPeer(state$1.disabled),_groupInvalid:toGroup(state$1.invalid),_peerInvalid:toPeer(state$1.invalid),_groupChecked:toGroup(state$1.checked),_peerChecked:toPeer(state$1.checked),_groupFocusWithin:toGroup(state$1.focusWithin),_peerFocusWithin:toPeer(state$1.focusWithin),_peerPlaceholderShown:toPeer(state$1.placeholderShown),_placeholder:"&::placeholder, &[data-placeholder]",_placeholderShown:"&:placeholder-shown, &[data-placeholder-shown]",_fullScreen:"&:fullscreen, &[data-fullscreen]",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]",_open:"&[data-open], &[open], &[data-state=open]",_closed:"&[data-closed], &[data-state=closed]",_complete:"&[data-complete]",_incomplete:"&[data-incomplete]",_current:"&[data-current]"},pseudoPropNames=Object.keys(pseudoSelectors),isImportant=s=>/!(important)?$/.test(s),withoutImportant=s=>typeof s=="string"?s.replace(/!(important)?$/,"").trim():s,tokenToCSSVar=(s,a)=>et=>{const nt=String(a),at=isImportant(nt),mt=withoutImportant(nt),wt=s?`${s}.${mt}`:mt;let $t=isObject$3(et.__cssMap)&&wt in et.__cssMap?et.__cssMap[wt].varRef:a;return $t=withoutImportant($t),at?`${$t} !important`:$t};function createTransform(s){const{scale:a,transform:et,compose:nt}=s;return(mt,wt)=>{const $t=tokenToCSSVar(a,mt)(wt);let Ct=(et==null?void 0:et($t,wt))??$t;return nt&&(Ct=nt(Ct,wt)),Ct}}const pipe$2=(...s)=>a=>s.reduce((et,nt)=>nt(et),a);function toConfig(s,a){return et=>{const nt={property:et,scale:s};return nt.transform=createTransform({scale:s,transform:a}),nt}}const getRtl=({rtl:s,ltr:a})=>et=>et.direction==="rtl"?s:a;function logical(s){const{property:a,scale:et,transform:nt}=s;return{scale:et,property:getRtl(a),transform:et?createTransform({scale:et,compose:nt}):nt}}const transformTemplate=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function getTransformTemplate(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...transformTemplate].join(" ")}function getTransformGpuTemplate(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...transformTemplate].join(" ")}const filterTemplate={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},backdropFilterTemplate={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function getRingTemplate(s){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":s,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}const flexDirectionTemplate={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},directionMap={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},valueSet=new Set(Object.values(directionMap)),globalSet=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),trimSpace=s=>s.trim();function parseGradient(s,a){if(s==null||globalSet.has(s))return s;if(!(isCSSFunction(s)||globalSet.has(s)))return`url('${s}')`;const at=/(^[a-z-A-Z]+)\((.*)\)/g.exec(s),mt=at==null?void 0:at[1],wt=at==null?void 0:at[2];if(!mt||!wt)return s;const $t=mt.includes("-gradient")?mt:`${mt}-gradient`,[Ct,...Dt]=wt.split(",").map(trimSpace).filter(Boolean);if((Dt==null?void 0:Dt.length)===0)return s;const Ft=Ct in directionMap?directionMap[Ct]:Ct;Dt.unshift(Ft);const jt=Dt.map(Nt=>{if(valueSet.has(Nt))return Nt;const Lt=Nt.indexOf(" "),[Ut,Vt]=Lt!==-1?[Nt.substr(0,Lt),Nt.substr(Lt+1)]:[Nt],Yt=isCSSFunction(Vt)?Vt:Vt&&Vt.split(" "),er=`colors.${Ut}`,tr=er in a.__cssMap?a.__cssMap[er].varRef:Ut;return Yt?[tr,...Array.isArray(Yt)?Yt:[Yt]].join(" "):tr});return`${$t}(${jt.join(", ")})`}const isCSSFunction=s=>typeof s=="string"&&s.includes("(")&&s.includes(")"),gradientTransform=(s,a)=>parseGradient(s,a??{});function isCssVar$1(s){return/^var\(--.+\)$/.test(s)}const analyzeCSSValue=s=>{const a=parseFloat(s.toString()),et=s.toString().replace(String(a),"");return{unitless:!et,value:a,unit:et}},wrap=s=>a=>`${s}(${a})`,transformFunctions={filter(s){return s!=="auto"?s:filterTemplate},backdropFilter(s){return s!=="auto"?s:backdropFilterTemplate},ring(s){return getRingTemplate(transformFunctions.px(s))},bgClip(s){return s==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:s}},transform(s){return s==="auto"?getTransformTemplate():s==="auto-gpu"?getTransformGpuTemplate():s},vh(s){return s==="$100vh"?"var(--chakra-vh)":s},px(s){if(s==null)return s;const{unitless:a}=analyzeCSSValue(s);return a||typeof s=="number"?`${s}px`:s},fraction(s){return typeof s!="number"||s>1?s:`${s*100}%`},float(s,a){const et={left:"right",right:"left"};return a.direction==="rtl"?et[s]:s},degree(s){if(isCssVar$1(s)||s==null)return s;const a=typeof s=="string"&&!s.endsWith("deg");return typeof s=="number"||a?`${s}deg`:s},gradient:gradientTransform,blur:wrap("blur"),opacity:wrap("opacity"),brightness:wrap("brightness"),contrast:wrap("contrast"),dropShadow:wrap("drop-shadow"),grayscale:wrap("grayscale"),hueRotate:s=>wrap("hue-rotate")(transformFunctions.degree(s)),invert:wrap("invert"),saturate:wrap("saturate"),sepia:wrap("sepia"),bgImage(s){return s==null||isCSSFunction(s)||globalSet.has(s)?s:`url(${s})`},outline(s){const a=String(s)==="0"||String(s)==="none";return s!==null&&a?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:s}},flexDirection(s){const{space:a,divide:et}=flexDirectionTemplate[s]??{},nt={flexDirection:s};return a&&(nt[a]=1),et&&(nt[et]=1),nt}},t$1={borderWidths:toConfig("borderWidths"),borderStyles:toConfig("borderStyles"),colors:toConfig("colors"),borders:toConfig("borders"),gradients:toConfig("gradients",transformFunctions.gradient),radii:toConfig("radii",transformFunctions.px),space:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),spaceT:toConfig("space",pipe$2(transformFunctions.vh,transformFunctions.px)),degreeT(s){return{property:s,transform:transformFunctions.degree}},prop(s,a,et){return{property:s,scale:a,...a&&{transform:createTransform({scale:a,transform:et})}}},propT(s,a){return{property:s,transform:a}},sizes:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.px)),sizesT:toConfig("sizes",pipe$2(transformFunctions.vh,transformFunctions.fraction)),shadows:toConfig("shadows"),logical,blur:toConfig("blur",transformFunctions.blur)},background={background:t$1.colors("background"),backgroundColor:t$1.colors("backgroundColor"),backgroundImage:t$1.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:transformFunctions.bgClip},bgSize:t$1.prop("backgroundSize"),bgPosition:t$1.prop("backgroundPosition"),bg:t$1.colors("background"),bgColor:t$1.colors("backgroundColor"),bgPos:t$1.prop("backgroundPosition"),bgRepeat:t$1.prop("backgroundRepeat"),bgAttachment:t$1.prop("backgroundAttachment"),bgGradient:t$1.gradients("backgroundImage"),bgClip:{transform:transformFunctions.bgClip}};Object.assign(background,{bgImage:background.backgroundImage,bgImg:background.backgroundImage});const border={border:t$1.borders("border"),borderWidth:t$1.borderWidths("borderWidth"),borderStyle:t$1.borderStyles("borderStyle"),borderColor:t$1.colors("borderColor"),borderRadius:t$1.radii("borderRadius"),borderTop:t$1.borders("borderTop"),borderBlockStart:t$1.borders("borderBlockStart"),borderTopLeftRadius:t$1.radii("borderTopLeftRadius"),borderStartStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:t$1.radii("borderTopRightRadius"),borderStartEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:t$1.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:t$1.borders("borderRight"),borderInlineEnd:t$1.borders("borderInlineEnd"),borderBottom:t$1.borders("borderBottom"),borderBlockEnd:t$1.borders("borderBlockEnd"),borderBottomLeftRadius:t$1.radii("borderBottomLeftRadius"),borderBottomRightRadius:t$1.radii("borderBottomRightRadius"),borderLeft:t$1.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:t$1.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:t$1.borders(["borderLeft","borderRight"]),borderInline:t$1.borders("borderInline"),borderY:t$1.borders(["borderTop","borderBottom"]),borderBlock:t$1.borders("borderBlock"),borderTopWidth:t$1.borderWidths("borderTopWidth"),borderBlockStartWidth:t$1.borderWidths("borderBlockStartWidth"),borderTopColor:t$1.colors("borderTopColor"),borderBlockStartColor:t$1.colors("borderBlockStartColor"),borderTopStyle:t$1.borderStyles("borderTopStyle"),borderBlockStartStyle:t$1.borderStyles("borderBlockStartStyle"),borderBottomWidth:t$1.borderWidths("borderBottomWidth"),borderBlockEndWidth:t$1.borderWidths("borderBlockEndWidth"),borderBottomColor:t$1.colors("borderBottomColor"),borderBlockEndColor:t$1.colors("borderBlockEndColor"),borderBottomStyle:t$1.borderStyles("borderBottomStyle"),borderBlockEndStyle:t$1.borderStyles("borderBlockEndStyle"),borderLeftWidth:t$1.borderWidths("borderLeftWidth"),borderInlineStartWidth:t$1.borderWidths("borderInlineStartWidth"),borderLeftColor:t$1.colors("borderLeftColor"),borderInlineStartColor:t$1.colors("borderInlineStartColor"),borderLeftStyle:t$1.borderStyles("borderLeftStyle"),borderInlineStartStyle:t$1.borderStyles("borderInlineStartStyle"),borderRightWidth:t$1.borderWidths("borderRightWidth"),borderInlineEndWidth:t$1.borderWidths("borderInlineEndWidth"),borderRightColor:t$1.colors("borderRightColor"),borderInlineEndColor:t$1.colors("borderInlineEndColor"),borderRightStyle:t$1.borderStyles("borderRightStyle"),borderInlineEndStyle:t$1.borderStyles("borderInlineEndStyle"),borderTopRadius:t$1.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:t$1.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:t$1.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:t$1.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(border,{rounded:border.borderRadius,roundedTop:border.borderTopRadius,roundedTopLeft:border.borderTopLeftRadius,roundedTopRight:border.borderTopRightRadius,roundedTopStart:border.borderStartStartRadius,roundedTopEnd:border.borderStartEndRadius,roundedBottom:border.borderBottomRadius,roundedBottomLeft:border.borderBottomLeftRadius,roundedBottomRight:border.borderBottomRightRadius,roundedBottomStart:border.borderEndStartRadius,roundedBottomEnd:border.borderEndEndRadius,roundedLeft:border.borderLeftRadius,roundedRight:border.borderRightRadius,roundedStart:border.borderInlineStartRadius,roundedEnd:border.borderInlineEndRadius,borderStart:border.borderInlineStart,borderEnd:border.borderInlineEnd,borderTopStartRadius:border.borderStartStartRadius,borderTopEndRadius:border.borderStartEndRadius,borderBottomStartRadius:border.borderEndStartRadius,borderBottomEndRadius:border.borderEndEndRadius,borderStartRadius:border.borderInlineStartRadius,borderEndRadius:border.borderInlineEndRadius,borderStartWidth:border.borderInlineStartWidth,borderEndWidth:border.borderInlineEndWidth,borderStartColor:border.borderInlineStartColor,borderEndColor:border.borderInlineEndColor,borderStartStyle:border.borderInlineStartStyle,borderEndStyle:border.borderInlineEndStyle});const color$1={color:t$1.colors("color"),textColor:t$1.colors("color"),fill:t$1.colors("fill"),stroke:t$1.colors("stroke"),accentColor:t$1.colors("accentColor"),textFillColor:t$1.colors("textFillColor")},flexbox={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:transformFunctions.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:t$1.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:t$1.space("gap"),rowGap:t$1.space("rowGap"),columnGap:t$1.space("columnGap")};Object.assign(flexbox,{flexDir:flexbox.flexDirection});const layout$1={width:t$1.sizesT("width"),inlineSize:t$1.sizesT("inlineSize"),height:t$1.sizes("height"),blockSize:t$1.sizes("blockSize"),boxSize:t$1.sizes(["width","height"]),minWidth:t$1.sizes("minWidth"),minInlineSize:t$1.sizes("minInlineSize"),minHeight:t$1.sizes("minHeight"),minBlockSize:t$1.sizes("minBlockSize"),maxWidth:t$1.sizes("maxWidth"),maxInlineSize:t$1.sizes("maxInlineSize"),maxHeight:t$1.sizes("maxHeight"),maxBlockSize:t$1.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(s,a)=>{var at,mt;return{[`@media screen and (min-width: ${((mt=(at=a.__breakpoints)==null?void 0:at.get(s))==null?void 0:mt.minW)??s})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(s,a)=>{var at,mt;return{[`@media screen and (max-width: ${((mt=(at=a.__breakpoints)==null?void 0:at.get(s))==null?void 0:mt._minW)??s})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:t$1.propT("float",transformFunctions.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(layout$1,{w:layout$1.width,h:layout$1.height,minW:layout$1.minWidth,maxW:layout$1.maxWidth,minH:layout$1.minHeight,maxH:layout$1.maxHeight,overscroll:layout$1.overscrollBehavior,overscrollX:layout$1.overscrollBehaviorX,overscrollY:layout$1.overscrollBehaviorY});const filter$1={filter:{transform:transformFunctions.filter},blur:t$1.blur("--chakra-blur"),brightness:t$1.propT("--chakra-brightness",transformFunctions.brightness),contrast:t$1.propT("--chakra-contrast",transformFunctions.contrast),hueRotate:t$1.propT("--chakra-hue-rotate",transformFunctions.hueRotate),invert:t$1.propT("--chakra-invert",transformFunctions.invert),saturate:t$1.propT("--chakra-saturate",transformFunctions.saturate),dropShadow:t$1.propT("--chakra-drop-shadow",transformFunctions.dropShadow),backdropFilter:{transform:transformFunctions.backdropFilter},backdropBlur:t$1.blur("--chakra-backdrop-blur"),backdropBrightness:t$1.propT("--chakra-backdrop-brightness",transformFunctions.brightness),backdropContrast:t$1.propT("--chakra-backdrop-contrast",transformFunctions.contrast),backdropHueRotate:t$1.propT("--chakra-backdrop-hue-rotate",transformFunctions.hueRotate),backdropInvert:t$1.propT("--chakra-backdrop-invert",transformFunctions.invert),backdropSaturate:t$1.propT("--chakra-backdrop-saturate",transformFunctions.saturate)},ring={ring:{transform:transformFunctions.ring},ringColor:t$1.colors("--chakra-ring-color"),ringOffset:t$1.prop("--chakra-ring-offset-width"),ringOffsetColor:t$1.colors("--chakra-ring-offset-color"),ringInset:t$1.prop("--chakra-ring-inset")},interactivity={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:transformFunctions.outline},outlineOffset:!0,outlineColor:t$1.colors("outlineColor")},grid={gridGap:t$1.space("gridGap"),gridColumnGap:t$1.space("gridColumnGap"),gridRowGap:t$1.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0};function get$3(s,a,et,nt){const at=typeof a=="string"?a.split("."):[a];for(nt=0;nt<at.length&&s;nt+=1)s=s[at[nt]];return s===void 0?et:s}const memoize$2=s=>{const a=new WeakMap;return(nt,at,mt,wt)=>{if(typeof nt>"u")return s(nt,at,mt);a.has(nt)||a.set(nt,new Map);const $t=a.get(nt);if($t.has(at))return $t.get(at);const Ct=s(nt,at,mt,wt);return $t.set(at,Ct),Ct}},memoizedGet=memoize$2(get$3),srOnly={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},srFocusable={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},getWithPriority=(s,a,et)=>{const nt={},at=memoizedGet(s,a,{});for(const mt in at)mt in et&&et[mt]!=null||(nt[mt]=at[mt]);return nt},others={srOnly:{transform(s){return s===!0?srOnly:s==="focusable"?srFocusable:{}}},layerStyle:{processResult:!0,transform:(s,a,et)=>getWithPriority(a,`layerStyles.${s}`,et)},textStyle:{processResult:!0,transform:(s,a,et)=>getWithPriority(a,`textStyles.${s}`,et)},apply:{processResult:!0,transform:(s,a,et)=>getWithPriority(a,s,et)}},position$1={position:!0,pos:t$1.prop("position"),zIndex:t$1.prop("zIndex","zIndices"),inset:t$1.spaceT("inset"),insetX:t$1.spaceT(["left","right"]),insetInline:t$1.spaceT("insetInline"),insetY:t$1.spaceT(["top","bottom"]),insetBlock:t$1.spaceT("insetBlock"),top:t$1.spaceT("top"),insetBlockStart:t$1.spaceT("insetBlockStart"),bottom:t$1.spaceT("bottom"),insetBlockEnd:t$1.spaceT("insetBlockEnd"),left:t$1.spaceT("left"),insetInlineStart:t$1.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:t$1.spaceT("right"),insetInlineEnd:t$1.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(position$1,{insetStart:position$1.insetInlineStart,insetEnd:position$1.insetInlineEnd});const effect$3={boxShadow:t$1.shadows("boxShadow"),mixBlendMode:!0,blendMode:t$1.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:t$1.prop("backgroundBlendMode"),opacity:!0};Object.assign(effect$3,{shadow:effect$3.boxShadow});const space={margin:t$1.spaceT("margin"),marginTop:t$1.spaceT("marginTop"),marginBlockStart:t$1.spaceT("marginBlockStart"),marginRight:t$1.spaceT("marginRight"),marginInlineEnd:t$1.spaceT("marginInlineEnd"),marginBottom:t$1.spaceT("marginBottom"),marginBlockEnd:t$1.spaceT("marginBlockEnd"),marginLeft:t$1.spaceT("marginLeft"),marginInlineStart:t$1.spaceT("marginInlineStart"),marginX:t$1.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:t$1.spaceT("marginInline"),marginY:t$1.spaceT(["marginTop","marginBottom"]),marginBlock:t$1.spaceT("marginBlock"),padding:t$1.space("padding"),paddingTop:t$1.space("paddingTop"),paddingBlockStart:t$1.space("paddingBlockStart"),paddingRight:t$1.space("paddingRight"),paddingBottom:t$1.space("paddingBottom"),paddingBlockEnd:t$1.space("paddingBlockEnd"),paddingLeft:t$1.space("paddingLeft"),paddingInlineStart:t$1.space("paddingInlineStart"),paddingInlineEnd:t$1.space("paddingInlineEnd"),paddingX:t$1.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:t$1.space("paddingInline"),paddingY:t$1.space(["paddingTop","paddingBottom"]),paddingBlock:t$1.space("paddingBlock")};Object.assign(space,{m:space.margin,mt:space.marginTop,mr:space.marginRight,me:space.marginInlineEnd,marginEnd:space.marginInlineEnd,mb:space.marginBottom,ml:space.marginLeft,ms:space.marginInlineStart,marginStart:space.marginInlineStart,mx:space.marginX,my:space.marginY,p:space.padding,pt:space.paddingTop,py:space.paddingY,px:space.paddingX,pb:space.paddingBottom,pl:space.paddingLeft,ps:space.paddingInlineStart,paddingStart:space.paddingInlineStart,pr:space.paddingRight,pe:space.paddingInlineEnd,paddingEnd:space.paddingInlineEnd});const scroll={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:t$1.spaceT("scrollMargin"),scrollMarginTop:t$1.spaceT("scrollMarginTop"),scrollMarginBottom:t$1.spaceT("scrollMarginBottom"),scrollMarginLeft:t$1.spaceT("scrollMarginLeft"),scrollMarginRight:t$1.spaceT("scrollMarginRight"),scrollMarginX:t$1.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:t$1.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:t$1.spaceT("scrollPadding"),scrollPaddingTop:t$1.spaceT("scrollPaddingTop"),scrollPaddingBottom:t$1.spaceT("scrollPaddingBottom"),scrollPaddingLeft:t$1.spaceT("scrollPaddingLeft"),scrollPaddingRight:t$1.spaceT("scrollPaddingRight"),scrollPaddingX:t$1.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:t$1.spaceT(["scrollPaddingTop","scrollPaddingBottom"])},typography$2={fontFamily:t$1.prop("fontFamily","fonts"),fontSize:t$1.prop("fontSize","fontSizes",transformFunctions.px),fontWeight:t$1.prop("fontWeight","fontWeights"),lineHeight:t$1.prop("lineHeight","lineHeights"),letterSpacing:t$1.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(s){if(s===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},textDecoration={textDecorationColor:t$1.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:t$1.shadows("textShadow")},transform$1={clipPath:!0,transform:t$1.propT("transform",transformFunctions.transform),transformOrigin:!0,translateX:t$1.spaceT("--chakra-translate-x"),translateY:t$1.spaceT("--chakra-translate-y"),skewX:t$1.degreeT("--chakra-skew-x"),skewY:t$1.degreeT("--chakra-skew-y"),scaleX:t$1.prop("--chakra-scale-x"),scaleY:t$1.prop("--chakra-scale-y"),scale:t$1.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:t$1.degreeT("--chakra-rotate")},list={listStyleType:!0,listStylePosition:!0,listStylePos:t$1.prop("listStylePosition"),listStyleImage:!0,listStyleImg:t$1.prop("listStyleImage")},transition$1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:t$1.prop("transitionDuration","transition.duration"),transitionProperty:t$1.prop("transitionProperty","transition.property"),transitionTimingFunction:t$1.prop("transitionTimingFunction","transition.easing")},systemProps=mergeWith({},background,border,color$1,flexbox,layout$1,filter$1,ring,interactivity,grid,others,position$1,effect$3,space,scroll,typography$2,textDecoration,transform$1,list,transition$1);Object.assign({},space,layout$1,flexbox,grid,position$1);const propNames=[...Object.keys(systemProps),...pseudoPropNames],styleProps={...systemProps,...pseudoSelectors},isStyleProp=s=>s in styleProps,expandResponsive=s=>a=>{if(!a.__breakpoints)return s;const{isResponsive:et,toArrayValue:nt,media:at}=a.__breakpoints,mt={};for(const wt in s){let $t=runIfFn$1(s[wt],a);if($t==null)continue;if($t=isObject$3($t)&&et($t)?nt($t):$t,!Array.isArray($t)){mt[wt]=$t;continue}const Ct=$t.slice(0,at.length).length;for(let Dt=0;Dt<Ct;Dt+=1){const Ft=at==null?void 0:at[Dt];if(!Ft){mt[wt]=$t[Dt];continue}mt[Ft]=mt[Ft]||{},$t[Dt]!=null&&(mt[Ft][wt]=$t[Dt])}}return mt};function splitByComma(s){const a=[];let et="",nt=!1;for(let at=0;at<s.length;at++){const mt=s[at];mt==="("?(nt=!0,et+=mt):mt===")"?(nt=!1,et+=mt):mt===","&&!nt?(a.push(et),et=""):et+=mt}return et=et.trim(),et&&a.push(et),a}function isCssVar(s){return/^var\(--.+\)$/.test(s)}const isCSSVariableTokenValue=(s,a)=>s.startsWith("--")&&typeof a=="string"&&!isCssVar(a),resolveTokenValue=(s,a)=>{if(a==null)return a;const et=wt=>{var $t,Ct;return(Ct=($t=s.__cssMap)==null?void 0:$t[wt])==null?void 0:Ct.varRef},nt=wt=>et(wt)??wt,[at,mt]=splitByComma(a);return a=et(at)??nt(mt)??nt(a),a};function getCss(s){const{configs:a={},pseudos:et={},theme:nt}=s,at=(mt,wt=!1)=>{var Ft;const $t=runIfFn$1(mt,nt),Ct=expandResponsive($t)(nt);let Dt={};for(let jt in Ct){const Nt=Ct[jt];let Lt=runIfFn$1(Nt,nt);jt in et&&(jt=et[jt]),isCSSVariableTokenValue(jt,Lt)&&(Lt=resolveTokenValue(nt,Lt));let Ut=a[jt];if(Ut===!0&&(Ut={property:jt}),isObject$3(Lt)){Dt[jt]=Dt[jt]??{},Dt[jt]=mergeWith({},Dt[jt],at(Lt,!0));continue}let Vt=((Ft=Ut==null?void 0:Ut.transform)==null?void 0:Ft.call(Ut,Lt,nt,$t))??Lt;Vt=Ut!=null&&Ut.processResult?at(Vt,!0):Vt;const Yt=runIfFn$1(Ut==null?void 0:Ut.property,nt);if(!wt&&(Ut!=null&&Ut.static)){const er=runIfFn$1(Ut.static,nt);Dt=mergeWith({},Dt,er)}if(Yt&&Array.isArray(Yt)){for(const er of Yt)Dt[er]=Vt;continue}if(Yt){Yt==="&"&&isObject$3(Vt)?Dt=mergeWith({},Dt,Vt):Dt[Yt]=Vt;continue}if(isObject$3(Vt)){Dt=mergeWith({},Dt,Vt);continue}Dt[jt]=Vt}return Dt};return at}const css$2=s=>a=>getCss({theme:a,pseudos:pseudoSelectors,configs:systemProps})(s);function defineStyle$1(s){return s}function defineStyleConfig$1(s){return s}function createMultiStyleConfigHelpers(s){return{definePartsStyle(a){return a},defineMultiStyleConfig(a){return{parts:s,...a}}}}function getCSSVar(s,a,et){var nt,at;return((at=(nt=s.__cssMap)==null?void 0:nt[`${a}.${et}`])==null?void 0:at.varRef)??et}function normalize$3(s,a){if(Array.isArray(s))return s;if(isObject$3(s))return a(s);if(s!=null)return[s]}function getNextIndex$1(s,a){for(let et=a+1;et<s.length;et++)if(s[et]!=null)return et;return-1}function createResolver(s){const a=s.__breakpoints;return function(nt,at,mt,wt){var Nt,Lt;if(!a)return;const $t={},Ct=normalize$3(mt,a.toArrayValue);if(!Ct)return $t;const Dt=Ct.length,Ft=Dt===1,jt=!!nt.parts;for(let Ut=0;Ut<Dt;Ut++){const Vt=a.details[Ut],Yt=a.details[getNextIndex$1(Ct,Ut)],er=toMediaQueryString(Vt.minW,Yt==null?void 0:Yt._minW),tr=runIfFn$1((Nt=nt[at])==null?void 0:Nt[Ct[Ut]],wt);if(tr){if(jt){(Lt=nt.parts)==null||Lt.forEach(nr=>{mergeWith($t,{[nr]:Ft?tr[nr]:{[er]:tr[nr]}})});continue}if(!jt){Ft?mergeWith($t,tr):$t[er]=tr;continue}$t[er]=tr}}return $t}}function resolveStyleConfig(s){return a=>{const{variant:et,size:nt,theme:at}=a,mt=createResolver(at);return mergeWith({},runIfFn$1(s.baseStyle??{},a),mt(s,"sizes",nt,a),mt(s,"variants",et,a))}}function omitThemingProps(s){return omit(s,["styleConfig","size","variant","colorScheme"])}function resolveReference(s){return isObject$3(s)&&s.reference?s.reference:String(s)}const toExpression=(s,...a)=>a.map(resolveReference).join(` ${s} `).replace(/calc/g,""),add$2=(...s)=>`calc(${toExpression("+",...s)})`,subtract$1=(...s)=>`calc(${toExpression("-",...s)})`,multiply$1=(...s)=>`calc(${toExpression("*",...s)})`,divide$2=(...s)=>`calc(${toExpression("/",...s)})`,negate$1=s=>{const a=resolveReference(s);return a!=null&&!Number.isNaN(parseFloat(a))?String(a).startsWith("-")?String(a).slice(1):`-${a}`:multiply$1(a,-1)},calc$1=Object.assign(s=>({add:(...a)=>calc$1(add$2(s,...a)),subtract:(...a)=>calc$1(subtract$1(s,...a)),multiply:(...a)=>calc$1(multiply$1(s,...a)),divide:(...a)=>calc$1(divide$2(s,...a)),negate:()=>calc$1(negate$1(s)),toString:()=>s.toString()}),{add:add$2,subtract:subtract$1,multiply:multiply$1,divide:divide$2,negate:negate$1});function replaceWhiteSpace$1(s,a="-"){return s.replace(/\s+/g,a)}function escape$3(s){const a=replaceWhiteSpace$1(s.toString());return escapeSymbol(escapeDot(a))}function escapeDot(s){return s.includes("\\.")?s:!Number.isInteger(parseFloat(s.toString()))?s.replace(".","\\."):s}function escapeSymbol(s){return s.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function addPrefix$1(s,a=""){return[a,s].filter(Boolean).join("-")}function toVarReference(s,a){return`var(${s}${a?`, ${a}`:""})`}function toVarDefinition(s,a=""){return escape$3(`--${addPrefix$1(s,a)}`)}function cssVar$1(s,a,et){const nt=toVarDefinition(s,et);return{variable:nt,reference:toVarReference(nt,a)}}function defineCssVars(s,a){const et={};for(const nt of a){if(Array.isArray(nt)){const[at,mt]=nt;et[at]=cssVar$1(`${s}-${at}`,mt);continue}et[nt]=cssVar$1(`${s}-${nt}`)}return et}const tokens=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function extractTokens(s){return pick(s,tokens)}function extractSemanticTokens(s){return s.semanticTokens}function omitVars(s){const{__cssMap:a,__cssVars:et,__breakpoints:nt,...at}=s;return at}function flattenTokens(s){const a=extractTokens(s),et=extractSemanticTokens(s),nt=mt=>pseudoPropNames.includes(mt)||mt==="default",at={};return walkObject(a,(mt,wt)=>{mt!=null&&(at[wt.join(".")]={isSemantic:!1,value:mt})}),walkObject(et,(mt,wt)=>{mt!=null&&(at[wt.join(".")]={isSemantic:!0,value:mt})},{stop:mt=>Object.keys(mt).every(nt)}),at}function tokenToCssVar(s,a){return cssVar$1(String(s).replace(/\./g,"-"),void 0,a)}function createThemeVars(s){var wt;const a=flattenTokens(s),et=(wt=s.config)==null?void 0:wt.cssVarPrefix;let nt={};const at={};function mt($t,Ct){const Ft=[String($t).split(".")[0],Ct].join(".");if(!a[Ft])return Ct;const{reference:Nt}=tokenToCssVar(Ft,et);return Nt}for(const[$t,Ct]of Object.entries(a)){const{isSemantic:Dt,value:Ft}=Ct,{variable:jt,reference:Nt}=tokenToCssVar($t,et);if(!Dt){if($t.startsWith("space")){const Ut=$t.split("."),[Vt,...Yt]=Ut,er=`${Vt}.-${Yt.join(".")}`,tr=calc$1.negate(Ft),nr=calc$1.negate(Nt);at[er]={value:tr,var:jt,varRef:nr}}nt[jt]=Ft,at[$t]={value:Ft,var:jt,varRef:Nt};continue}const Lt=isObject$3(Ft)?Ft:{default:Ft};nt=mergeWith(nt,Object.entries(Lt).reduce((Ut,[Vt,Yt])=>{if(!Yt)return Ut;const er=mt($t,`${Yt}`);if(Vt==="default")return Ut[jt]=er,Ut;const tr=(pseudoSelectors==null?void 0:pseudoSelectors[Vt])??Vt;return Ut[tr]={[jt]:er},Ut},{})),at[$t]={value:Nt,var:jt,varRef:Nt}}return{cssVars:nt,cssMap:at}}function toCSSVar(s){const a=omitVars(s),{cssMap:et,cssVars:nt}=createThemeVars(a);return Object.assign(a,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...nt},__cssMap:et,__breakpoints:analyzeBreakpoints(a.breakpoints)}),a}function anatomy(s,a={}){let et=!1;function nt(){if(!et){et=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function at(...Ft){nt();for(const jt of Ft)a[jt]=Ct(jt);return anatomy(s,a)}function mt(...Ft){for(const jt of Ft)jt in a||(a[jt]=Ct(jt));return anatomy(s,a)}function wt(){return Object.fromEntries(Object.entries(a).map(([jt,Nt])=>[jt,Nt.selector]))}function $t(){return Object.fromEntries(Object.entries(a).map(([jt,Nt])=>[jt,Nt.className]))}function Ct(Ft){const Lt=`chakra-${(["container","root"].includes(Ft??"")?[s]:[s,Ft]).filter(Boolean).join("__")}`;return{className:Lt,selector:`.${Lt}`,toString:()=>Ft}}return{parts:at,toPart:Ct,extend:mt,selectors:wt,classnames:$t,get keys(){return Object.keys(a)},__type:{}}}const accordionAnatomy=anatomy("accordion").parts("root","container","button","panel","icon"),alertAnatomy=anatomy("alert").parts("title","description","container","icon","spinner"),avatarAnatomy=anatomy("avatar").parts("label","badge","container","excessLabel","group"),breadcrumbAnatomy=anatomy("breadcrumb").parts("link","item","container","separator");anatomy("button").parts();const checkboxAnatomy=anatomy("checkbox").parts("control","icon","container","label");anatomy("progress").parts("track","filledTrack","label");const drawerAnatomy=anatomy("drawer").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),editableAnatomy=anatomy("editable").parts("preview","input","textarea"),formAnatomy=anatomy("form").parts("container","requiredIndicator","helperText"),formErrorAnatomy=anatomy("formError").parts("text","icon"),inputAnatomy=anatomy("input").parts("addon","field","element","group"),listAnatomy=anatomy("list").parts("container","item","icon"),menuAnatomy=anatomy("menu").parts("button","list","item","groupTitle","icon","command","divider"),modalAnatomy=anatomy("modal").parts("overlay","dialogContainer","dialog","header","closeButton","body","footer"),numberInputAnatomy=anatomy("numberinput").parts("root","field","stepperGroup","stepper");anatomy("pininput").parts("field");const popoverAnatomy=anatomy("popover").parts("content","header","body","footer","popper","arrow","closeButton"),progressAnatomy=anatomy("progress").parts("label","filledTrack","track"),radioAnatomy=anatomy("radio").parts("container","control","label"),selectAnatomy=anatomy("select").parts("field","icon"),sliderAnatomy=anatomy("slider").parts("container","track","thumb","filledTrack","mark"),statAnatomy=anatomy("stat").parts("container","label","helpText","number","icon"),switchAnatomy=anatomy("switch").parts("container","track","thumb","label"),tableAnatomy=anatomy("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),tabsAnatomy=anatomy("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),tagAnatomy=anatomy("tag").parts("container","label","closeButton"),cardAnatomy=anatomy("card").parts("container","header","body","footer");anatomy("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");const{definePartsStyle:definePartsStyle$p,defineMultiStyleConfig:defineMultiStyleConfig$p}=createMultiStyleConfigHelpers(accordionAnatomy.keys),baseStyleContainer$4={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},baseStyleButton$1={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},baseStylePanel={pt:"2",px:"4",pb:"5"},baseStyleIcon$6={fontSize:"1.25em"},baseStyle$H=definePartsStyle$p({container:baseStyleContainer$4,button:baseStyleButton$1,panel:baseStylePanel,icon:baseStyleIcon$6}),accordionTheme=defineMultiStyleConfig$p({baseStyle:baseStyle$H});function guard(s,a,et){return Math.min(Math.max(s,et),a)}class ColorError extends Error{constructor(a){super(`Failed to parse color: "${a}"`)}}var ColorError$1=ColorError;function parseToRgba(s){if(typeof s!="string")throw new ColorError$1(s);if(s.trim().toLowerCase()==="transparent")return[0,0,0,0];let a=s.trim();a=namedColorRegex.test(s)?nameToHex(s):s;const et=reducedHexRegex.exec(a);if(et){const wt=Array.from(et).slice(1);return[...wt.slice(0,3).map($t=>parseInt(r$3($t,2),16)),parseInt(r$3(wt[3]||"f",2),16)/255]}const nt=hexRegex.exec(a);if(nt){const wt=Array.from(nt).slice(1);return[...wt.slice(0,3).map($t=>parseInt($t,16)),parseInt(wt[3]||"ff",16)/255]}const at=rgbaRegex.exec(a);if(at){const wt=Array.from(at).slice(1);return[...wt.slice(0,3).map($t=>parseInt($t,10)),parseFloat(wt[3]||"1")]}const mt=hslaRegex.exec(a);if(mt){const[wt,$t,Ct,Dt]=Array.from(mt).slice(1).map(parseFloat);if(guard(0,100,$t)!==$t)throw new ColorError$1(s);if(guard(0,100,Ct)!==Ct)throw new ColorError$1(s);return[...hslToRgb(wt,$t,Ct),Number.isNaN(Dt)?1:Dt]}throw new ColorError$1(s)}function hash$5(s){let a=5381,et=s.length;for(;et;)a=a*33^s.charCodeAt(--et);return(a>>>0)%2341}const colorToInt=s=>parseInt(s.replace(/_/g,""),36),compressedColorMap="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((s,a)=>{const et=colorToInt(a.substring(0,3)),nt=colorToInt(a.substring(3)).toString(16);let at="";for(let mt=0;mt<6-nt.length;mt++)at+="0";return s[et]=`${at}${nt}`,s},{});function nameToHex(s){const a=s.toLowerCase().trim(),et=compressedColorMap[hash$5(a)];if(!et)throw new ColorError$1(s);return`#${et}`}const r$3=(s,a)=>Array.from(Array(a)).map(()=>s).join(""),reducedHexRegex=new RegExp(`^#${r$3("([a-f0-9])",3)}([a-f0-9])?$`,"i"),hexRegex=new RegExp(`^#${r$3("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),rgbaRegex=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${r$3(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),hslaRegex=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,namedColorRegex=/^[a-z]+$/i,roundColor=s=>Math.round(s*255),hslToRgb=(s,a,et)=>{let nt=et/100;if(a===0)return[nt,nt,nt].map(roundColor);const at=(s%360+360)%360/60,mt=(1-Math.abs(2*nt-1))*(a/100),wt=mt*(1-Math.abs(at%2-1));let $t=0,Ct=0,Dt=0;at>=0&&at<1?($t=mt,Ct=wt):at>=1&&at<2?($t=wt,Ct=mt):at>=2&&at<3?(Ct=mt,Dt=wt):at>=3&&at<4?(Ct=wt,Dt=mt):at>=4&&at<5?($t=wt,Dt=mt):at>=5&&at<6&&($t=mt,Dt=wt);const Ft=nt-mt/2,jt=$t+Ft,Nt=Ct+Ft,Lt=Dt+Ft;return[jt,Nt,Lt].map(roundColor)};function rgba$1(s,a,et,nt){return`rgba(${guard(0,255,s).toFixed()}, ${guard(0,255,a).toFixed()}, ${guard(0,255,et).toFixed()}, ${parseFloat(guard(0,1,nt).toFixed(3))})`}function transparentize$1(s,a){const[et,nt,at,mt]=parseToRgba(s);return rgba$1(et,nt,at,mt-a)}function toHex$1(s){const[a,et,nt,at]=parseToRgba(s);let mt=wt=>{const $t=guard(0,255,wt).toString(16);return $t.length===1?`0${$t}`:$t};return`#${mt(a)}${mt(et)}${mt(nt)}${at<1?mt(Math.round(at*255)):""}`}const isEmptyObject$2=s=>Object.keys(s).length===0;function get$2(s,a,et,nt,at){for(a=a.split?a.split("."):a,nt=0;nt<a.length;nt++)s=s?s[a[nt]]:at;return s===at?et:s}const getColor=(s,a,et)=>{const nt=get$2(s,`colors.${a}`,a);try{return toHex$1(nt),nt}catch{return et??"#000000"}},getBrightness=s=>{const[a,et,nt]=parseToRgba(s);return(a*299+et*587+nt*114)/1e3},tone=s=>a=>{const et=getColor(a,s);return getBrightness(et)<128?"dark":"light"},isDark=s=>a=>tone(s)(a)==="dark",transparentize=(s,a)=>et=>{const nt=getColor(et,s);return transparentize$1(nt,1-a)};function generateStripe(s="1rem",a="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${a} 25%,
    transparent 25%,
    transparent 50%,
    ${a} 50%,
    ${a} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${s} ${s}`}}const randomHex=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function randomColor(s){const a=randomHex();return!s||isEmptyObject$2(s)?a:s.string&&s.colors?randomColorFromList(s.string,s.colors):s.string&&!s.colors?randomColorFromString(s.string):s.colors&&!s.string?randomFromList(s.colors):a}function randomColorFromString(s){let a=0;if(s.length===0)return a.toString();for(let nt=0;nt<s.length;nt+=1)a=s.charCodeAt(nt)+((a<<5)-a),a=a&a;let et="#";for(let nt=0;nt<3;nt+=1){const at=a>>nt*8&255;et+=`00${at.toString(16)}`.substr(-2)}return et}function randomColorFromList(s,a){let et=0;if(s.length===0)return a[0];for(let nt=0;nt<s.length;nt+=1)et=s.charCodeAt(nt)+((et<<5)-et),et=et&et;return et=(et%a.length+a.length)%a.length,a[et]}function randomFromList(s){return s[Math.floor(Math.random()*s.length)]}function mode(s,a){return et=>et.colorMode==="dark"?a:s}function orient$2(s){const{orientation:a,vertical:et,horizontal:nt}=s;return a?a==="vertical"?et:nt:{}}function toRef(s){return isObject$3(s)&&s.reference?s.reference:String(s)}const toExpr=(s,...a)=>a.map(toRef).join(` ${s} `).replace(/calc/g,""),add$1=(...s)=>`calc(${toExpr("+",...s)})`,subtract=(...s)=>`calc(${toExpr("-",...s)})`,multiply=(...s)=>`calc(${toExpr("*",...s)})`,divide$1=(...s)=>`calc(${toExpr("/",...s)})`,negate=s=>{const a=toRef(s);return a!=null&&!Number.isNaN(parseFloat(a))?String(a).startsWith("-")?String(a).slice(1):`-${a}`:multiply(a,-1)},calc=Object.assign(s=>({add:(...a)=>calc(add$1(s,...a)),subtract:(...a)=>calc(subtract(s,...a)),multiply:(...a)=>calc(multiply(s,...a)),divide:(...a)=>calc(divide$1(s,...a)),negate:()=>calc(negate(s)),toString:()=>s.toString()}),{add:add$1,subtract,multiply,divide:divide$1,negate});function isDecimal$1(s){return!Number.isInteger(parseFloat(s.toString()))}function replaceWhiteSpace(s,a="-"){return s.replace(/\s+/g,a)}function escape$2(s){const a=replaceWhiteSpace(s.toString());return a.includes("\\.")?s:isDecimal$1(s)?a.replace(".","\\."):s}function addPrefix(s,a=""){return[a,escape$2(s)].filter(Boolean).join("-")}function toVarRef(s,a){return`var(${escape$2(s)}${a?`, ${a}`:""})`}function toVar$1(s,a=""){return`--${addPrefix(s,a)}`}function cssVar(s,a){const et=toVar$1(s,a==null?void 0:a.prefix);return{variable:et,reference:toVarRef(et,getFallback(a==null?void 0:a.fallback))}}function getFallback(s){return s==null?void 0:s.reference}const{definePartsStyle:definePartsStyle$o,defineMultiStyleConfig:defineMultiStyleConfig$o}=createMultiStyleConfigHelpers(alertAnatomy.keys),$fg$5=cssVar$1("alert-fg"),$bg$f=cssVar$1("alert-bg"),baseStyle$G=definePartsStyle$o({container:{bg:$bg$f.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:$fg$5.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function getBg(s){const{theme:a,colorScheme:et}=s,nt=transparentize(`${et}.200`,.16)(a);return{light:`colors.${et}.100`,dark:nt}}const variantSubtle$1=definePartsStyle$o(s=>{const{colorScheme:a}=s,et=getBg(s);return{container:{[$fg$5.variable]:`colors.${a}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${a}.200`,[$bg$f.variable]:et.dark}}}}),variantLeftAccent=definePartsStyle$o(s=>{const{colorScheme:a}=s,et=getBg(s);return{container:{[$fg$5.variable]:`colors.${a}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${a}.200`,[$bg$f.variable]:et.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:$fg$5.reference}}}),variantTopAccent=definePartsStyle$o(s=>{const{colorScheme:a}=s,et=getBg(s);return{container:{[$fg$5.variable]:`colors.${a}.600`,[$bg$f.variable]:et.light,_dark:{[$fg$5.variable]:`colors.${a}.200`,[$bg$f.variable]:et.dark},pt:"2",borderTopWidth:"4px",borderTopColor:$fg$5.reference}}}),variantSolid$3=definePartsStyle$o(s=>{const{colorScheme:a}=s;return{container:{[$fg$5.variable]:"colors.white",[$bg$f.variable]:`colors.${a}.600`,_dark:{[$fg$5.variable]:"colors.gray.900",[$bg$f.variable]:`colors.${a}.200`},color:$fg$5.reference}}}),variants$g={subtle:variantSubtle$1,"left-accent":variantLeftAccent,"top-accent":variantTopAccent,solid:variantSolid$3},alertTheme$1=defineMultiStyleConfig$o({baseStyle:baseStyle$G,variants:variants$g,defaultProps:{variant:"subtle",colorScheme:"blue"}}),spacing={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},largeSizes={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},container={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},sizes$m={...spacing,...largeSizes,container},isFunction$3=s=>typeof s=="function";function runIfFn(s,...a){return isFunction$3(s)?s(...a):s}const{definePartsStyle:definePartsStyle$n,defineMultiStyleConfig:defineMultiStyleConfig$n}=createMultiStyleConfigHelpers(avatarAnatomy.keys),$border$3=cssVar$1("avatar-border-color"),$bg$e=cssVar$1("avatar-bg"),$fs=cssVar$1("avatar-font-size"),$size$4=cssVar$1("avatar-size"),baseStyleBadge={borderRadius:"full",border:"0.2em solid",borderColor:$border$3.reference,[$border$3.variable]:"white",_dark:{[$border$3.variable]:"colors.gray.800"}},baseStyleExcessLabel={bg:$bg$e.reference,fontSize:$fs.reference,width:$size$4.reference,height:$size$4.reference,lineHeight:"1",[$bg$e.variable]:"colors.gray.200",_dark:{[$bg$e.variable]:"colors.whiteAlpha.400"}},baseStyleContainer$3=s=>{const{name:a,theme:et}=s,nt=a?randomColor({string:a}):"colors.gray.400",at=isDark(nt)(et);let mt="white";return at||(mt="gray.800"),{bg:$bg$e.reference,fontSize:$fs.reference,color:mt,borderColor:$border$3.reference,verticalAlign:"top",width:$size$4.reference,height:$size$4.reference,"&:not([data-loaded])":{[$bg$e.variable]:nt},[$border$3.variable]:"colors.white",_dark:{[$border$3.variable]:"colors.gray.800"}}},baseStyleLabel$4={fontSize:$fs.reference,lineHeight:"1"},baseStyle$F=definePartsStyle$n(s=>({badge:runIfFn(baseStyleBadge,s),excessLabel:runIfFn(baseStyleExcessLabel,s),container:runIfFn(baseStyleContainer$3,s),label:baseStyleLabel$4}));function getSize$3(s){const a=s!=="100%"?sizes$m[s]:void 0;return definePartsStyle$n({container:{[$size$4.variable]:a??s,[$fs.variable]:`calc(${a??s} / 2.5)`},excessLabel:{[$size$4.variable]:a??s,[$fs.variable]:`calc(${a??s} / 2.5)`}})}const sizes$l={"2xs":getSize$3(4),xs:getSize$3(6),sm:getSize$3(8),md:getSize$3(12),lg:getSize$3(16),xl:getSize$3(24),"2xl":getSize$3(32),full:getSize$3("100%")},avatarTheme=defineMultiStyleConfig$n({baseStyle:baseStyle$F,sizes:sizes$l,defaultProps:{size:"md"}}),vars=defineCssVars("badge",["bg","color","shadow"]),baseStyle$E={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},variantSolid$2=s=>{const{colorScheme:a,theme:et}=s,nt=transparentize(`${a}.500`,.6)(et);return{[vars.bg.variable]:`colors.${a}.500`,[vars.color.variable]:"colors.white",_dark:{[vars.bg.variable]:nt,[vars.color.variable]:"colors.whiteAlpha.800"}}},variantSubtle=s=>{const{colorScheme:a,theme:et}=s,nt=transparentize(`${a}.200`,.16)(et);return{[vars.bg.variable]:`colors.${a}.100`,[vars.color.variable]:`colors.${a}.800`,_dark:{[vars.bg.variable]:nt,[vars.color.variable]:`colors.${a}.200`}}},variantOutline$2=s=>{const{colorScheme:a,theme:et}=s,nt=transparentize(`${a}.200`,.8)(et);return{[vars.color.variable]:`colors.${a}.500`,_dark:{[vars.color.variable]:nt},[vars.shadow.variable]:`inset 0 0 0px 1px ${vars.color.reference}`}},variants$f={solid:variantSolid$2,subtle:variantSubtle,outline:variantOutline$2},badgeTheme={baseStyle:baseStyle$E,variants:variants$f,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:defineMultiStyleConfig$m,definePartsStyle:definePartsStyle$m}=createMultiStyleConfigHelpers(breadcrumbAnatomy.keys),$decor=cssVar$1("breadcrumb-link-decor"),baseStyleLink={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:$decor.reference,[$decor.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[$decor.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},baseStyle$D=definePartsStyle$m({link:baseStyleLink}),breadcrumbTheme=defineMultiStyleConfig$m({baseStyle:baseStyle$D}),baseStyle$C={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variantGhost=s=>{const{colorScheme:a,theme:et}=s;if(a==="gray")return{color:mode("gray.800","whiteAlpha.900")(s),_hover:{bg:mode("gray.100","whiteAlpha.200")(s)},_active:{bg:mode("gray.200","whiteAlpha.300")(s)}};const nt=transparentize(`${a}.200`,.12)(et),at=transparentize(`${a}.200`,.24)(et);return{color:mode(`${a}.600`,`${a}.200`)(s),bg:"transparent",_hover:{bg:mode(`${a}.50`,nt)(s)},_active:{bg:mode(`${a}.100`,at)(s)}}},variantOutline$1=s=>{const{colorScheme:a}=s,et=mode("gray.200","whiteAlpha.300")(s);return{border:"1px solid",borderColor:a==="gray"?et:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...runIfFn(variantGhost,s)}},accessibleColorMap={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},variantSolid$1=s=>{const{colorScheme:a}=s;if(a==="gray"){const $t=mode("gray.100","whiteAlpha.200")(s);return{bg:$t,color:mode("gray.800","whiteAlpha.900")(s),_hover:{bg:mode("gray.200","whiteAlpha.300")(s),_disabled:{bg:$t}},_active:{bg:mode("gray.300","whiteAlpha.400")(s)}}}const{bg:et=`${a}.500`,color:nt="white",hoverBg:at=`${a}.600`,activeBg:mt=`${a}.700`}=accessibleColorMap[a]??{},wt=mode(et,`${a}.200`)(s);return{bg:wt,color:mode(nt,"gray.800")(s),_hover:{bg:mode(at,`${a}.300`)(s),_disabled:{bg:wt}},_active:{bg:mode(mt,`${a}.400`)(s)}}},variantLink=s=>{const{colorScheme:a}=s;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:mode(`${a}.500`,`${a}.200`)(s),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:mode(`${a}.700`,`${a}.500`)(s)}}},variantUnstyled$2={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},variants$e={ghost:variantGhost,outline:variantOutline$1,solid:variantSolid$1,link:variantLink,unstyled:variantUnstyled$2},sizes$k={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},buttonTheme$1={baseStyle:baseStyle$C,variants:variants$e,sizes:sizes$k,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:definePartsStyle$l,defineMultiStyleConfig:defineMultiStyleConfig$l}=createMultiStyleConfigHelpers(cardAnatomy.keys),$bg$d=cssVar$1("card-bg"),$padding$1=cssVar$1("card-padding"),$shadow$3=cssVar$1("card-shadow"),$radius=cssVar$1("card-radius"),$border$2=cssVar$1("card-border-width","0"),$borderColor=cssVar$1("card-border-color"),baseStyle$B=definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-body-bg",backgroundColor:$bg$d.reference,boxShadow:$shadow$3.reference,borderRadius:$radius.reference,color:"chakra-body-text",borderWidth:$border$2.reference,borderColor:$borderColor.reference},body:{padding:$padding$1.reference,flex:"1 1 0%"},header:{padding:$padding$1.reference},footer:{padding:$padding$1.reference}}),sizes$j={sm:definePartsStyle$l({container:{[$radius.variable]:"radii.base",[$padding$1.variable]:"space.3"}}),md:definePartsStyle$l({container:{[$radius.variable]:"radii.md",[$padding$1.variable]:"space.5"}}),lg:definePartsStyle$l({container:{[$radius.variable]:"radii.xl",[$padding$1.variable]:"space.7"}})},variants$d={elevated:definePartsStyle$l({container:{[$shadow$3.variable]:"shadows.base",_dark:{[$bg$d.variable]:"colors.gray.700"}}}),outline:definePartsStyle$l({container:{[$border$2.variable]:"1px",[$borderColor.variable]:"colors.chakra-border-color"}}),filled:definePartsStyle$l({container:{[$bg$d.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[$padding$1.variable]:0},header:{[$padding$1.variable]:0},footer:{[$padding$1.variable]:0}}},cardTheme$1=defineMultiStyleConfig$l({baseStyle:baseStyle$B,variants:variants$d,sizes:sizes$j,defaultProps:{variant:"elevated",size:"md"}}),{definePartsStyle:definePartsStyle$k,defineMultiStyleConfig:defineMultiStyleConfig$k}=createMultiStyleConfigHelpers(checkboxAnatomy.keys),$size$3=cssVar$1("checkbox-size"),baseStyleControl$1=s=>{const{colorScheme:a}=s;return{w:$size$3.reference,h:$size$3.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:mode(`${a}.500`,`${a}.200`)(s),borderColor:mode(`${a}.500`,`${a}.200`)(s),color:mode("white","gray.900")(s),_hover:{bg:mode(`${a}.600`,`${a}.300`)(s),borderColor:mode(`${a}.600`,`${a}.300`)(s)},_disabled:{borderColor:mode("gray.200","transparent")(s),bg:mode("gray.200","whiteAlpha.300")(s),color:mode("gray.500","whiteAlpha.500")(s)}},_indeterminate:{bg:mode(`${a}.500`,`${a}.200`)(s),borderColor:mode(`${a}.500`,`${a}.200`)(s),color:mode("white","gray.900")(s)},_disabled:{bg:mode("gray.100","whiteAlpha.100")(s),borderColor:mode("gray.100","transparent")(s)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:mode("red.500","red.300")(s)}}},baseStyleContainer$2={_disabled:{cursor:"not-allowed"}},baseStyleLabel$3={userSelect:"none",_disabled:{opacity:.4}},baseStyleIcon$5={transitionProperty:"transform",transitionDuration:"normal"},baseStyle$A=definePartsStyle$k(s=>({icon:baseStyleIcon$5,container:baseStyleContainer$2,control:runIfFn(baseStyleControl$1,s),label:baseStyleLabel$3})),sizes$i={sm:definePartsStyle$k({control:{[$size$3.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:definePartsStyle$k({control:{[$size$3.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:definePartsStyle$k({control:{[$size$3.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},checkboxTheme$1=defineMultiStyleConfig$k({baseStyle:baseStyle$A,sizes:sizes$i,defaultProps:{size:"md",colorScheme:"blue"}}),$size$2=cssVar("close-button-size"),$bg$c=cssVar("close-button-bg"),baseStyle$z={w:[$size$2.reference],h:[$size$2.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[$bg$c.variable]:"colors.blackAlpha.100",_dark:{[$bg$c.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$c.variable]:"colors.blackAlpha.200",_dark:{[$bg$c.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:$bg$c.reference},sizes$h={lg:{[$size$2.variable]:"sizes.10",fontSize:"md"},md:{[$size$2.variable]:"sizes.8",fontSize:"xs"},sm:{[$size$2.variable]:"sizes.6",fontSize:"2xs"}},closeButtonTheme={baseStyle:baseStyle$z,sizes:sizes$h,defaultProps:{size:"md"}},{variants:variants$c,defaultProps}=badgeTheme,baseStyle$y={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:vars.bg.reference,color:vars.color.reference,boxShadow:vars.shadow.reference},codeTheme={baseStyle:baseStyle$y,variants:variants$c,defaultProps},baseStyle$x={w:"100%",mx:"auto",maxW:"prose",px:"4"},containerTheme={baseStyle:baseStyle$x},baseStyle$w={opacity:.6,borderColor:"inherit"},variantSolid={borderStyle:"solid"},variantDashed={borderStyle:"dashed"},variants$b={solid:variantSolid,dashed:variantDashed},dividerTheme={baseStyle:baseStyle$w,variants:variants$b,defaultProps:{variant:"solid"}},{definePartsStyle:definePartsStyle$j,defineMultiStyleConfig:defineMultiStyleConfig$j}=createMultiStyleConfigHelpers(drawerAnatomy.keys),$bg$b=cssVar$1("drawer-bg"),$bs=cssVar$1("drawer-box-shadow");function getSize$2(s){return definePartsStyle$j(s==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:s}})}const baseStyleOverlay$1={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer$1={display:"flex",zIndex:"modal",justifyContent:"center"},baseStyleDialog$1=s=>{const{isFullHeight:a}=s;return{...a&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[$bg$b.variable]:"colors.white",[$bs.variable]:"shadows.lg",_dark:{[$bg$b.variable]:"colors.gray.700",[$bs.variable]:"shadows.dark-lg"},bg:$bg$b.reference,boxShadow:$bs.reference}},baseStyleHeader$2={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$3={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$2={px:"6",py:"2",flex:"1",overflow:"auto"},baseStyleFooter$2={px:"6",py:"4"},baseStyle$v=definePartsStyle$j(s=>({overlay:baseStyleOverlay$1,dialogContainer:baseStyleDialogContainer$1,dialog:runIfFn(baseStyleDialog$1,s),header:baseStyleHeader$2,closeButton:baseStyleCloseButton$3,body:baseStyleBody$2,footer:baseStyleFooter$2})),sizes$g={xs:getSize$2("xs"),sm:getSize$2("md"),md:getSize$2("lg"),lg:getSize$2("2xl"),xl:getSize$2("4xl"),full:getSize$2("full")},drawerTheme$1=defineMultiStyleConfig$j({baseStyle:baseStyle$v,sizes:sizes$g,defaultProps:{size:"xs"}}),{definePartsStyle:definePartsStyle$i,defineMultiStyleConfig:defineMultiStyleConfig$i}=createMultiStyleConfigHelpers(editableAnatomy.keys),baseStylePreview={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},baseStyleInput={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyleTextarea={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},baseStyle$u=definePartsStyle$i({preview:baseStylePreview,input:baseStyleInput,textarea:baseStyleTextarea}),editableTheme=defineMultiStyleConfig$i({baseStyle:baseStyle$u}),{definePartsStyle:definePartsStyle$h,defineMultiStyleConfig:defineMultiStyleConfig$h}=createMultiStyleConfigHelpers(formAnatomy.keys),$fg$4=cssVar$1("form-control-color"),baseStyleRequiredIndicator={marginStart:"1",[$fg$4.variable]:"colors.red.500",_dark:{[$fg$4.variable]:"colors.red.300"},color:$fg$4.reference},baseStyleHelperText={mt:"2",[$fg$4.variable]:"colors.gray.600",_dark:{[$fg$4.variable]:"colors.whiteAlpha.600"},color:$fg$4.reference,lineHeight:"normal",fontSize:"sm"},baseStyle$t=definePartsStyle$h({container:{width:"100%",position:"relative"},requiredIndicator:baseStyleRequiredIndicator,helperText:baseStyleHelperText}),formTheme$1=defineMultiStyleConfig$h({baseStyle:baseStyle$t}),{definePartsStyle:definePartsStyle$g,defineMultiStyleConfig:defineMultiStyleConfig$g}=createMultiStyleConfigHelpers(formErrorAnatomy.keys),$fg$3=cssVar$1("form-error-color"),baseStyleText={[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},baseStyleIcon$4={marginEnd:"0.5em",[$fg$3.variable]:"colors.red.500",_dark:{[$fg$3.variable]:"colors.red.300"},color:$fg$3.reference},baseStyle$s=definePartsStyle$g({text:baseStyleText,icon:baseStyleIcon$4}),formErrorTheme=defineMultiStyleConfig$g({baseStyle:baseStyle$s}),baseStyle$r={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},formLabelTheme={baseStyle:baseStyle$r},baseStyle$q={fontFamily:"heading",fontWeight:"bold"},sizes$f={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},headingTheme$1={baseStyle:baseStyle$q,sizes:sizes$f,defaultProps:{size:"xl"}},{definePartsStyle:definePartsStyle$f,defineMultiStyleConfig:defineMultiStyleConfig$f}=createMultiStyleConfigHelpers(inputAnatomy.keys),$height$1=cssVar$1("input-height"),$fontSize$1=cssVar$1("input-font-size"),$padding=cssVar$1("input-padding"),$borderRadius=cssVar$1("input-border-radius"),baseStyle$p=definePartsStyle$f({addon:{height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference},field:{width:"100%",height:$height$1.reference,fontSize:$fontSize$1.reference,px:$padding.reference,borderRadius:$borderRadius.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),size={lg:{[$fontSize$1.variable]:"fontSizes.lg",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.12"},md:{[$fontSize$1.variable]:"fontSizes.md",[$padding.variable]:"space.4",[$borderRadius.variable]:"radii.md",[$height$1.variable]:"sizes.10"},sm:{[$fontSize$1.variable]:"fontSizes.sm",[$padding.variable]:"space.3",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.8"},xs:{[$fontSize$1.variable]:"fontSizes.xs",[$padding.variable]:"space.2",[$borderRadius.variable]:"radii.sm",[$height$1.variable]:"sizes.6"}},sizes$e={lg:definePartsStyle$f({field:size.lg,group:size.lg}),md:definePartsStyle$f({field:size.md,group:size.md}),sm:definePartsStyle$f({field:size.sm,group:size.sm}),xs:definePartsStyle$f({field:size.xs,group:size.xs})};function getDefaults(s){const{focusBorderColor:a,errorBorderColor:et}=s;return{focusBorderColor:a||mode("blue.500","blue.300")(s),errorBorderColor:et||mode("red.500","red.300")(s)}}const variantOutline=definePartsStyle$f(s=>{const{theme:a}=s,{focusBorderColor:et,errorBorderColor:nt}=getDefaults(s);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:mode("gray.300","whiteAlpha.400")(s)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(a,nt),boxShadow:`0 0 0 1px ${getColor(a,nt)}`},_focusVisible:{zIndex:1,borderColor:getColor(a,et),boxShadow:`0 0 0 1px ${getColor(a,et)}`}},addon:{border:"1px solid",borderColor:mode("inherit","whiteAlpha.50")(s),bg:mode("gray.100","whiteAlpha.300")(s)}}}),variantFilled=definePartsStyle$f(s=>{const{theme:a}=s,{focusBorderColor:et,errorBorderColor:nt}=getDefaults(s);return{field:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(s),_hover:{bg:mode("gray.200","whiteAlpha.100")(s)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(a,nt)},_focusVisible:{bg:"transparent",borderColor:getColor(a,et)}},addon:{border:"2px solid",borderColor:"transparent",bg:mode("gray.100","whiteAlpha.50")(s)}}}),variantFlushed=definePartsStyle$f(s=>{const{theme:a}=s,{focusBorderColor:et,errorBorderColor:nt}=getDefaults(s);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:getColor(a,nt),boxShadow:`0px 1px 0px 0px ${getColor(a,nt)}`},_focusVisible:{borderColor:getColor(a,et),boxShadow:`0px 1px 0px 0px ${getColor(a,et)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),variantUnstyled$1=definePartsStyle$f({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),variants$a={outline:variantOutline,filled:variantFilled,flushed:variantFlushed,unstyled:variantUnstyled$1},inputTheme$1=defineMultiStyleConfig$f({baseStyle:baseStyle$p,sizes:sizes$e,variants:variants$a,defaultProps:{size:"md",variant:"outline"}}),$bg$a=cssVar$1("kbd-bg"),baseStyle$o={[$bg$a.variable]:"colors.gray.100",_dark:{[$bg$a.variable]:"colors.whiteAlpha.100"},bg:$bg$a.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},kbdTheme={baseStyle:baseStyle$o},baseStyle$n={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},linkTheme={baseStyle:baseStyle$n},{defineMultiStyleConfig:defineMultiStyleConfig$e,definePartsStyle:definePartsStyle$e}=createMultiStyleConfigHelpers(listAnatomy.keys),baseStyleIcon$3={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},baseStyle$m=definePartsStyle$e({icon:baseStyleIcon$3}),listTheme=defineMultiStyleConfig$e({baseStyle:baseStyle$m}),{defineMultiStyleConfig:defineMultiStyleConfig$d,definePartsStyle:definePartsStyle$d}=createMultiStyleConfigHelpers(menuAnatomy.keys),$bg$9=cssVar$1("menu-bg"),$shadow$2=cssVar$1("menu-shadow"),baseStyleList={[$bg$9.variable]:"#fff",[$shadow$2.variable]:"shadows.sm",_dark:{[$bg$9.variable]:"colors.gray.700",[$shadow$2.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:"dropdown",borderRadius:"md",borderWidth:"1px",bg:$bg$9.reference,boxShadow:$shadow$2.reference},baseStyleItem={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_active:{[$bg$9.variable]:"colors.gray.200",_dark:{[$bg$9.variable]:"colors.whiteAlpha.200"}},_expanded:{[$bg$9.variable]:"colors.gray.100",_dark:{[$bg$9.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$bg$9.reference},baseStyleGroupTitle={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},baseStyleIcon$2={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},baseStyleCommand={opacity:.6},baseStyleDivider={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},baseStyleButton={transitionProperty:"common",transitionDuration:"normal"},baseStyle$l=definePartsStyle$d({button:baseStyleButton,list:baseStyleList,item:baseStyleItem,groupTitle:baseStyleGroupTitle,icon:baseStyleIcon$2,command:baseStyleCommand,divider:baseStyleDivider}),menuTheme$1=defineMultiStyleConfig$d({baseStyle:baseStyle$l}),{defineMultiStyleConfig:defineMultiStyleConfig$c,definePartsStyle:definePartsStyle$c}=createMultiStyleConfigHelpers(modalAnatomy.keys),$bg$8=cssVar$1("modal-bg"),$shadow$1=cssVar$1("modal-shadow"),baseStyleOverlay={bg:"blackAlpha.600",zIndex:"modal"},baseStyleDialogContainer=s=>{const{isCentered:a,scrollBehavior:et}=s;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:a?"center":"flex-start",overflow:et==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},baseStyleDialog=s=>{const{isCentered:a,scrollBehavior:et}=s;return{borderRadius:"md",color:"inherit",my:a?"auto":"16",mx:a?"auto":void 0,zIndex:"modal",maxH:et==="inside"?"calc(100% - 7.5rem)":void 0,[$bg$8.variable]:"colors.white",[$shadow$1.variable]:"shadows.lg",_dark:{[$bg$8.variable]:"colors.gray.700",[$shadow$1.variable]:"shadows.dark-lg"},bg:$bg$8.reference,boxShadow:$shadow$1.reference}},baseStyleHeader$1={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},baseStyleCloseButton$2={position:"absolute",top:"2",insetEnd:"3"},baseStyleBody$1=s=>{const{scrollBehavior:a}=s;return{px:"6",py:"2",flex:"1",overflow:a==="inside"?"auto":void 0}},baseStyleFooter$1={px:"6",py:"4"},baseStyle$k=definePartsStyle$c(s=>({overlay:baseStyleOverlay,dialogContainer:runIfFn(baseStyleDialogContainer,s),dialog:runIfFn(baseStyleDialog,s),header:baseStyleHeader$1,closeButton:baseStyleCloseButton$2,body:runIfFn(baseStyleBody$1,s),footer:baseStyleFooter$1}));function getSize$1(s){return definePartsStyle$c(s==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:s}})}const sizes$d={xs:getSize$1("xs"),sm:getSize$1("sm"),md:getSize$1("md"),lg:getSize$1("lg"),xl:getSize$1("xl"),"2xl":getSize$1("2xl"),"3xl":getSize$1("3xl"),"4xl":getSize$1("4xl"),"5xl":getSize$1("5xl"),"6xl":getSize$1("6xl"),full:getSize$1("full")},modalTheme$1=defineMultiStyleConfig$c({baseStyle:baseStyle$k,sizes:sizes$d,defaultProps:{size:"md"}}),typography$1={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},{defineMultiStyleConfig:defineMultiStyleConfig$b,definePartsStyle:definePartsStyle$b}=createMultiStyleConfigHelpers(numberInputAnatomy.keys),$stepperWidth=cssVar("number-input-stepper-width"),$inputPadding=cssVar("number-input-input-padding"),inputPaddingValue=calc($stepperWidth).add("0.5rem").toString(),$bg$7=cssVar("number-input-bg"),$fg$2=cssVar("number-input-color"),$border$1=cssVar("number-input-border-color"),baseStyleRoot$1={[$stepperWidth.variable]:"sizes.6",[$inputPadding.variable]:inputPaddingValue},baseStyleField$1=s=>{var a;return((a=runIfFn(inputTheme$1.baseStyle,s))==null?void 0:a.field)??{}},baseStyleStepperGroup={width:$stepperWidth.reference},baseStyleStepper={borderStart:"1px solid",borderStartColor:$border$1.reference,color:$fg$2.reference,bg:$bg$7.reference,[$fg$2.variable]:"colors.chakra-body-text",[$border$1.variable]:"colors.chakra-border-color",_dark:{[$fg$2.variable]:"colors.whiteAlpha.800",[$border$1.variable]:"colors.whiteAlpha.300"},_active:{[$bg$7.variable]:"colors.gray.200",_dark:{[$bg$7.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},baseStyle$j=definePartsStyle$b(s=>({root:baseStyleRoot$1,field:runIfFn(baseStyleField$1,s)??{},stepperGroup:baseStyleStepperGroup,stepper:baseStyleStepper}));function getSize(s){var mt,wt;const a=(mt=inputTheme$1.sizes)==null?void 0:mt[s],et={lg:"md",md:"md",sm:"sm",xs:"sm"},nt=((wt=a.field)==null?void 0:wt.fontSize)??"md",at=typography$1.fontSizes[nt];return definePartsStyle$b({field:{...a.field,paddingInlineEnd:$inputPadding.reference,verticalAlign:"top"},stepper:{fontSize:calc(at).multiply(.75).toString(),_first:{borderTopEndRadius:et[s]},_last:{borderBottomEndRadius:et[s],mt:"-1px",borderTopWidth:1}}})}const sizes$c={xs:getSize("xs"),sm:getSize("sm"),md:getSize("md"),lg:getSize("lg")},numberInputTheme=defineMultiStyleConfig$b({baseStyle:baseStyle$j,sizes:sizes$c,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps});var cp;const baseStyle$i={...(cp=inputTheme$1.baseStyle)==null?void 0:cp.field,textAlign:"center"},sizes$b={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}};var up;const variants$9={outline:s=>{var a,et;return((et=runIfFn((a=inputTheme$1.variants)==null?void 0:a.outline,s))==null?void 0:et.field)??{}},flushed:s=>{var a,et;return((et=runIfFn((a=inputTheme$1.variants)==null?void 0:a.flushed,s))==null?void 0:et.field)??{}},filled:s=>{var a,et;return((et=runIfFn((a=inputTheme$1.variants)==null?void 0:a.filled,s))==null?void 0:et.field)??{}},unstyled:((up=inputTheme$1.variants)==null?void 0:up.unstyled.field)??{}},pinInputTheme={baseStyle:baseStyle$i,sizes:sizes$b,variants:variants$9,defaultProps:inputTheme$1.defaultProps},{defineMultiStyleConfig:defineMultiStyleConfig$a,definePartsStyle:definePartsStyle$a}=createMultiStyleConfigHelpers(popoverAnatomy.keys),$popperBg=cssVar("popper-bg"),$arrowBg$1=cssVar("popper-arrow-bg"),$arrowShadowColor=cssVar("popper-arrow-shadow-color"),baseStylePopper={zIndex:"popover"},baseStyleContent={[$popperBg.variable]:"colors.white",bg:$popperBg.reference,[$arrowBg$1.variable]:$popperBg.reference,[$arrowShadowColor.variable]:"colors.gray.200",_dark:{[$popperBg.variable]:"colors.gray.700",[$arrowShadowColor.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},baseStyleHeader={px:3,py:2,borderBottomWidth:"1px"},baseStyleBody={px:3,py:2},baseStyleFooter={px:3,py:2,borderTopWidth:"1px"},baseStyleCloseButton$1={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},baseStyle$h=definePartsStyle$a({popper:baseStylePopper,content:baseStyleContent,header:baseStyleHeader,body:baseStyleBody,footer:baseStyleFooter,closeButton:baseStyleCloseButton$1}),popoverTheme$1=defineMultiStyleConfig$a({baseStyle:baseStyle$h}),{defineMultiStyleConfig:defineMultiStyleConfig$9,definePartsStyle:definePartsStyle$9}=createMultiStyleConfigHelpers(progressAnatomy.keys),filledStyle=s=>{const{colorScheme:a,theme:et,isIndeterminate:nt,hasStripe:at}=s,mt=mode(generateStripe(),generateStripe("1rem","rgba(0,0,0,0.1)"))(s),wt=mode(`${a}.500`,`${a}.200`)(s),$t=`linear-gradient(
    to right,
    transparent 0%,
    ${getColor(et,wt)} 50%,
    transparent 100%
  )`;return{...!nt&&at&&mt,...nt?{bgImage:$t}:{bgColor:wt}}},baseStyleLabel$2={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},baseStyleTrack$2=s=>({bg:mode("gray.100","whiteAlpha.300")(s)}),baseStyleFilledTrack$1=s=>({transitionProperty:"common",transitionDuration:"slow",...filledStyle(s)}),baseStyle$g=definePartsStyle$9(s=>({label:baseStyleLabel$2,filledTrack:baseStyleFilledTrack$1(s),track:baseStyleTrack$2(s)})),sizes$a={xs:definePartsStyle$9({track:{h:"1"}}),sm:definePartsStyle$9({track:{h:"2"}}),md:definePartsStyle$9({track:{h:"3"}}),lg:definePartsStyle$9({track:{h:"4"}})},progressTheme$1=defineMultiStyleConfig$9({sizes:sizes$a,baseStyle:baseStyle$g,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$8,definePartsStyle:definePartsStyle$8}=createMultiStyleConfigHelpers(radioAnatomy.keys),baseStyleControl=s=>{var et;const a=(et=runIfFn(checkboxTheme$1.baseStyle,s))==null?void 0:et.control;return{...a,borderRadius:"full",_checked:{...a==null?void 0:a._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},baseStyle$f=definePartsStyle$8(s=>{var a,et;return{label:(a=checkboxTheme$1.baseStyle)==null?void 0:a.call(checkboxTheme$1,s).label,container:(et=checkboxTheme$1.baseStyle)==null?void 0:et.call(checkboxTheme$1,s).container,control:baseStyleControl(s)}}),sizes$9={md:definePartsStyle$8({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:definePartsStyle$8({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:definePartsStyle$8({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},radioTheme=defineMultiStyleConfig$8({baseStyle:baseStyle$f,sizes:sizes$9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$7,definePartsStyle:definePartsStyle$7}=createMultiStyleConfigHelpers(selectAnatomy.keys),$bg$6=cssVar$1("select-bg");var dp;const baseStyleField={...(dp=inputTheme$1.baseStyle)==null?void 0:dp.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:$bg$6.reference,[$bg$6.variable]:"colors.white",_dark:{[$bg$6.variable]:"colors.gray.700"},"> option, > optgroup":{bg:$bg$6.reference}},baseStyleIcon$1={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},baseStyle$e=definePartsStyle$7({field:baseStyleField,icon:baseStyleIcon$1}),iconSpacing={paddingInlineEnd:"8"};var fp,hp,pp,mp,gp,_p,vp,bp;const sizes$8={lg:{...(fp=inputTheme$1.sizes)==null?void 0:fp.lg,field:{...(hp=inputTheme$1.sizes)==null?void 0:hp.lg.field,...iconSpacing}},md:{...(pp=inputTheme$1.sizes)==null?void 0:pp.md,field:{...(mp=inputTheme$1.sizes)==null?void 0:mp.md.field,...iconSpacing}},sm:{...(gp=inputTheme$1.sizes)==null?void 0:gp.sm,field:{...(_p=inputTheme$1.sizes)==null?void 0:_p.sm.field,...iconSpacing}},xs:{...(vp=inputTheme$1.sizes)==null?void 0:vp.xs,field:{...(bp=inputTheme$1.sizes)==null?void 0:bp.xs.field,...iconSpacing},icon:{insetEnd:"1"}}},selectTheme=defineMultiStyleConfig$7({baseStyle:baseStyle$e,sizes:sizes$8,variants:inputTheme$1.variants,defaultProps:inputTheme$1.defaultProps}),$startColor$2=cssVar$1("skeleton-start-color"),$endColor$2=cssVar$1("skeleton-end-color"),baseStyle$d={[$startColor$2.variable]:"colors.gray.100",[$endColor$2.variable]:"colors.gray.400",_dark:{[$startColor$2.variable]:"colors.gray.800",[$endColor$2.variable]:"colors.gray.600"},background:$startColor$2.reference,borderColor:$endColor$2.reference,opacity:.7,borderRadius:"sm"},skeletonTheme$1={baseStyle:baseStyle$d},$bg$5=cssVar$1("skip-link-bg"),baseStyle$c={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[$bg$5.variable]:"colors.white",_dark:{[$bg$5.variable]:"colors.gray.700"},bg:$bg$5.reference}},skipLinkTheme={baseStyle:baseStyle$c},{defineMultiStyleConfig:defineMultiStyleConfig$6,definePartsStyle:definePartsStyle$6}=createMultiStyleConfigHelpers(sliderAnatomy.keys),$thumbSize=cssVar$1("slider-thumb-size"),$trackSize=cssVar$1("slider-track-size"),$bg$4=cssVar$1("slider-bg"),baseStyleContainer$1=s=>{const{orientation:a}=s;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...orient$2({orientation:a,vertical:{h:"100%",px:calc$1($thumbSize.reference).divide(2).toString()},horizontal:{w:"100%",py:calc$1($thumbSize.reference).divide(2).toString()}})}},baseStyleTrack$1=s=>({...orient$2({orientation:s.orientation,horizontal:{h:$trackSize.reference},vertical:{w:$trackSize.reference}}),overflow:"hidden",borderRadius:"sm",[$bg$4.variable]:"colors.gray.200",_dark:{[$bg$4.variable]:"colors.whiteAlpha.200"},_disabled:{[$bg$4.variable]:"colors.gray.300",_dark:{[$bg$4.variable]:"colors.whiteAlpha.300"}},bg:$bg$4.reference}),baseStyleThumb$1=s=>{const{orientation:a}=s;return{...orient$2({orientation:a,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:$thumbSize.reference,h:$thumbSize.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},baseStyleFilledTrack=s=>{const{colorScheme:a}=s;return{width:"inherit",height:"inherit",[$bg$4.variable]:`colors.${a}.500`,_dark:{[$bg$4.variable]:`colors.${a}.200`},bg:$bg$4.reference}},baseStyle$b=definePartsStyle$6(s=>({container:baseStyleContainer$1(s),track:baseStyleTrack$1(s),thumb:baseStyleThumb$1(s),filledTrack:baseStyleFilledTrack(s)})),sizeLg=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.4",[$trackSize.variable]:"sizes.1"}}),sizeMd=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.3.5",[$trackSize.variable]:"sizes.1"}}),sizeSm=definePartsStyle$6({container:{[$thumbSize.variable]:"sizes.2.5",[$trackSize.variable]:"sizes.0.5"}}),sizes$7={lg:sizeLg,md:sizeMd,sm:sizeSm},sliderTheme$1=defineMultiStyleConfig$6({baseStyle:baseStyle$b,sizes:sizes$7,defaultProps:{size:"md",colorScheme:"blue"}}),$size$1=cssVar("spinner-size"),baseStyle$a={width:[$size$1.reference],height:[$size$1.reference]},sizes$6={xs:{[$size$1.variable]:"sizes.3"},sm:{[$size$1.variable]:"sizes.4"},md:{[$size$1.variable]:"sizes.6"},lg:{[$size$1.variable]:"sizes.8"},xl:{[$size$1.variable]:"sizes.12"}},spinnerTheme={baseStyle:baseStyle$a,sizes:sizes$6,defaultProps:{size:"md"}},{defineMultiStyleConfig:defineMultiStyleConfig$5,definePartsStyle:definePartsStyle$5}=createMultiStyleConfigHelpers(statAnatomy.keys),baseStyleLabel$1={fontWeight:"medium"},baseStyleHelpText={opacity:.8,marginBottom:"2"},baseStyleNumber={verticalAlign:"baseline",fontWeight:"semibold"},baseStyleIcon={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},baseStyle$9=definePartsStyle$5({container:{},label:baseStyleLabel$1,helpText:baseStyleHelpText,number:baseStyleNumber,icon:baseStyleIcon}),sizes$5={md:definePartsStyle$5({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},statTheme=defineMultiStyleConfig$5({baseStyle:baseStyle$9,sizes:sizes$5,defaultProps:{size:"md"}}),{defineMultiStyleConfig:defineMultiStyleConfig$4,definePartsStyle:definePartsStyle$4}=createMultiStyleConfigHelpers(["stepper","step","title","description","indicator","separator","icon","number"]),$size=cssVar$1("stepper-indicator-size"),$iconSize=cssVar$1("stepper-icon-size"),$titleFontSize=cssVar$1("stepper-title-font-size"),$descFontSize=cssVar$1("stepper-description-font-size"),$accentColor=cssVar$1("stepper-accent-color"),baseStyle$8=definePartsStyle$4(({colorScheme:s})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[$accentColor.variable]:`colors.${s}.500`,_dark:{[$accentColor.variable]:`colors.${s}.200`}},title:{fontSize:$titleFontSize.reference,fontWeight:"medium"},description:{fontSize:$descFontSize.reference,color:"chakra-subtle-text"},number:{fontSize:$titleFontSize.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:$iconSize.reference,height:$iconSize.reference},indicator:{flexShrink:0,borderRadius:"full",width:$size.reference,height:$size.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:$accentColor.reference},"&[data-status=complete]":{bg:$accentColor.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:$accentColor.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${$size.reference} - 8px)`,top:`calc(${$size.reference} + 4px)`,insetStart:`calc(${$size.reference} / 2 - 1px)`}}})),stepperTheme$1=defineMultiStyleConfig$4({baseStyle:baseStyle$8,sizes:{xs:definePartsStyle$4({stepper:{[$size.variable]:"sizes.4",[$iconSize.variable]:"sizes.3",[$titleFontSize.variable]:"fontSizes.xs",[$descFontSize.variable]:"fontSizes.xs"}}),sm:definePartsStyle$4({stepper:{[$size.variable]:"sizes.6",[$iconSize.variable]:"sizes.4",[$titleFontSize.variable]:"fontSizes.sm",[$descFontSize.variable]:"fontSizes.xs"}}),md:definePartsStyle$4({stepper:{[$size.variable]:"sizes.8",[$iconSize.variable]:"sizes.5",[$titleFontSize.variable]:"fontSizes.md",[$descFontSize.variable]:"fontSizes.sm"}}),lg:definePartsStyle$4({stepper:{[$size.variable]:"sizes.10",[$iconSize.variable]:"sizes.6",[$titleFontSize.variable]:"fontSizes.lg",[$descFontSize.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$3,definePartsStyle:definePartsStyle$3}=createMultiStyleConfigHelpers(switchAnatomy.keys),$width=cssVar("switch-track-width"),$height=cssVar("switch-track-height"),$diff=cssVar("switch-track-diff"),diffValue=calc.subtract($width,$height),$translateX=cssVar("switch-thumb-x"),$bg$3=cssVar("switch-bg"),baseStyleTrack=s=>{const{colorScheme:a}=s;return{borderRadius:"full",p:"0.5",width:[$width.reference],height:[$height.reference],transitionProperty:"common",transitionDuration:"fast",[$bg$3.variable]:"colors.gray.300",_dark:{[$bg$3.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[$bg$3.variable]:`colors.${a}.500`,_dark:{[$bg$3.variable]:`colors.${a}.200`}},bg:$bg$3.reference}},baseStyleThumb={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[$height.reference],height:[$height.reference],_checked:{transform:`translateX(${$translateX.reference})`}},baseStyle$7=definePartsStyle$3(s=>({container:{[$diff.variable]:diffValue,[$translateX.variable]:$diff.reference,_rtl:{[$translateX.variable]:calc($diff).negate().toString()}},track:baseStyleTrack(s),thumb:baseStyleThumb})),sizes$4={sm:definePartsStyle$3({container:{[$width.variable]:"1.375rem",[$height.variable]:"sizes.3"}}),md:definePartsStyle$3({container:{[$width.variable]:"1.875rem",[$height.variable]:"sizes.4"}}),lg:definePartsStyle$3({container:{[$width.variable]:"2.875rem",[$height.variable]:"sizes.6"}})},switchTheme$1=defineMultiStyleConfig$3({baseStyle:baseStyle$7,sizes:sizes$4,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:defineMultiStyleConfig$2,definePartsStyle:definePartsStyle$2}=createMultiStyleConfigHelpers(tableAnatomy.keys),baseStyle$6=definePartsStyle$2({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),numericStyles={"&[data-is-numeric=true]":{textAlign:"end"}},variantSimple=definePartsStyle$2(s=>{const{colorScheme:a}=s;return{th:{color:mode("gray.600","gray.400")(s),borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(s),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(s),...numericStyles},caption:{color:mode("gray.600","gray.100")(s)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variantStripe=definePartsStyle$2(s=>{const{colorScheme:a}=s;return{th:{color:mode("gray.600","gray.400")(s),borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(s),...numericStyles},td:{borderBottom:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(s),...numericStyles},caption:{color:mode("gray.600","gray.100")(s)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:mode(`${a}.100`,`${a}.700`)(s)},td:{background:mode(`${a}.100`,`${a}.700`)(s)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),variants$8={simple:variantSimple,striped:variantStripe,unstyled:{}},sizes$3={sm:definePartsStyle$2({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:definePartsStyle$2({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:definePartsStyle$2({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},tableTheme$1=defineMultiStyleConfig$2({baseStyle:baseStyle$6,variants:variants$8,sizes:sizes$3,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),$fg$1=cssVar$1("tabs-color"),$bg$2=cssVar$1("tabs-bg"),$border=cssVar$1("tabs-border-color"),{defineMultiStyleConfig:defineMultiStyleConfig$1,definePartsStyle:definePartsStyle$1}=createMultiStyleConfigHelpers(tabsAnatomy.keys),baseStyleRoot=s=>{const{orientation:a}=s;return{display:a==="vertical"?"flex":"block"}},baseStyleTab=s=>{const{isFitted:a}=s;return{flex:a?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},baseStyleTablist=s=>{const{align:a="start",orientation:et}=s;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[a],flexDirection:et==="vertical"?"column":"row"}},baseStyleTabpanel={p:4},baseStyle$5=definePartsStyle$1(s=>({root:baseStyleRoot(s),tab:baseStyleTab(s),tablist:baseStyleTablist(s),tabpanel:baseStyleTabpanel})),sizes$2={sm:definePartsStyle$1({tab:{py:1,px:4,fontSize:"sm"}}),md:definePartsStyle$1({tab:{fontSize:"md",py:2,px:4}}),lg:definePartsStyle$1({tab:{fontSize:"lg",py:3,px:4}})},variantLine=definePartsStyle$1(s=>{const{colorScheme:a,orientation:et}=s,nt=et==="vertical",at=nt?"borderStart":"borderBottom",mt=nt?"marginStart":"marginBottom";return{tablist:{[at]:"2px solid",borderColor:"inherit"},tab:{[at]:"2px solid",borderColor:"transparent",[mt]:"-2px",_selected:{[$fg$1.variable]:`colors.${a}.600`,_dark:{[$fg$1.variable]:`colors.${a}.300`},borderColor:"currentColor"},_active:{[$bg$2.variable]:"colors.gray.200",_dark:{[$bg$2.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantEnclosed=definePartsStyle$1(s=>{const{colorScheme:a}=s;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[$border.variable]:"transparent",_selected:{[$fg$1.variable]:`colors.${a}.600`,[$border.variable]:"colors.white",_dark:{[$fg$1.variable]:`colors.${a}.300`,[$border.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:$border.reference},color:$fg$1.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantEnclosedColored=definePartsStyle$1(s=>{const{colorScheme:a}=s;return{tab:{border:"1px solid",borderColor:"inherit",[$bg$2.variable]:"colors.gray.50",_dark:{[$bg$2.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[$bg$2.variable]:"colors.white",[$fg$1.variable]:`colors.${a}.600`,_dark:{[$bg$2.variable]:"colors.gray.800",[$fg$1.variable]:`colors.${a}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:$fg$1.reference,bg:$bg$2.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),variantSoftRounded=definePartsStyle$1(s=>{const{colorScheme:a,theme:et}=s;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:getColor(et,`${a}.700`),bg:getColor(et,`${a}.100`)}}}}),variantSolidRounded=definePartsStyle$1(s=>{const{colorScheme:a}=s;return{tab:{borderRadius:"full",fontWeight:"semibold",[$fg$1.variable]:"colors.gray.600",_dark:{[$fg$1.variable]:"inherit"},_selected:{[$fg$1.variable]:"colors.white",[$bg$2.variable]:`colors.${a}.600`,_dark:{[$fg$1.variable]:"colors.gray.800",[$bg$2.variable]:`colors.${a}.300`}},color:$fg$1.reference,bg:$bg$2.reference}}}),variantUnstyled=definePartsStyle$1({}),variants$7={line:variantLine,enclosed:variantEnclosed,"enclosed-colored":variantEnclosedColored,"soft-rounded":variantSoftRounded,"solid-rounded":variantSolidRounded,unstyled:variantUnstyled},tabsTheme$1=defineMultiStyleConfig$1({baseStyle:baseStyle$5,sizes:sizes$2,variants:variants$7,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),{defineMultiStyleConfig,definePartsStyle}=createMultiStyleConfigHelpers(tagAnatomy.keys),$bg$1=cssVar$1("tag-bg"),$color=cssVar$1("tag-color"),$shadow=cssVar$1("tag-shadow"),$minH=cssVar$1("tag-min-height"),$minW=cssVar$1("tag-min-width"),$fontSize=cssVar$1("tag-font-size"),$paddingX=cssVar$1("tag-padding-inline"),baseStyleContainer={fontWeight:"medium",lineHeight:1.2,outline:0,[$color.variable]:vars.color.reference,[$bg$1.variable]:vars.bg.reference,[$shadow.variable]:vars.shadow.reference,color:$color.reference,bg:$bg$1.reference,boxShadow:$shadow.reference,borderRadius:"md",minH:$minH.reference,minW:$minW.reference,fontSize:$fontSize.reference,px:$paddingX.reference,_focusVisible:{[$shadow.variable]:"shadows.outline"}},baseStyleLabel={lineHeight:1.2,overflow:"visible"},baseStyleCloseButton={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},baseStyle$4=definePartsStyle({container:baseStyleContainer,label:baseStyleLabel,closeButton:baseStyleCloseButton}),sizes$1={sm:definePartsStyle({container:{[$minH.variable]:"sizes.5",[$minW.variable]:"sizes.5",[$fontSize.variable]:"fontSizes.xs",[$paddingX.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:definePartsStyle({container:{[$minH.variable]:"sizes.6",[$minW.variable]:"sizes.6",[$fontSize.variable]:"fontSizes.sm",[$paddingX.variable]:"space.2"}}),lg:definePartsStyle({container:{[$minH.variable]:"sizes.8",[$minW.variable]:"sizes.8",[$fontSize.variable]:"fontSizes.md",[$paddingX.variable]:"space.3"}})},variants$6={subtle:definePartsStyle(s=>{var a;return{container:(a=badgeTheme.variants)==null?void 0:a.subtle(s)}}),solid:definePartsStyle(s=>{var a;return{container:(a=badgeTheme.variants)==null?void 0:a.solid(s)}}),outline:definePartsStyle(s=>{var a;return{container:(a=badgeTheme.variants)==null?void 0:a.outline(s)}})},tagTheme=defineMultiStyleConfig({variants:variants$6,baseStyle:baseStyle$4,sizes:sizes$1,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}});var yp;const baseStyle$3={...(yp=inputTheme$1.baseStyle)==null?void 0:yp.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"};var xp;const variants$5={outline:s=>{var a;return((a=inputTheme$1.variants)==null?void 0:a.outline(s).field)??{}},flushed:s=>{var a;return((a=inputTheme$1.variants)==null?void 0:a.flushed(s).field)??{}},filled:s=>{var a;return((a=inputTheme$1.variants)==null?void 0:a.filled(s).field)??{}},unstyled:((xp=inputTheme$1.variants)==null?void 0:xp.unstyled.field)??{}};var wp,Sp,$p,Ep;const sizes={xs:((wp=inputTheme$1.sizes)==null?void 0:wp.xs.field)??{},sm:((Sp=inputTheme$1.sizes)==null?void 0:Sp.sm.field)??{},md:(($p=inputTheme$1.sizes)==null?void 0:$p.md.field)??{},lg:((Ep=inputTheme$1.sizes)==null?void 0:Ep.lg.field)??{}},textareaTheme={baseStyle:baseStyle$3,sizes,variants:variants$5,defaultProps:{size:"md",variant:"outline"}},$bg=cssVar("tooltip-bg"),$fg=cssVar("tooltip-fg"),$arrowBg=cssVar("popper-arrow-bg"),baseStyle$2={bg:$bg.reference,color:$fg.reference,[$bg.variable]:"colors.gray.700",[$fg.variable]:"colors.whiteAlpha.900",_dark:{[$bg.variable]:"colors.gray.300",[$fg.variable]:"colors.gray.900"},[$arrowBg.variable]:$bg.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},tooltipTheme$1={baseStyle:baseStyle$2},components$1={Accordion:accordionTheme,Alert:alertTheme$1,Avatar:avatarTheme,Badge:badgeTheme,Breadcrumb:breadcrumbTheme,Button:buttonTheme$1,Checkbox:checkboxTheme$1,CloseButton:closeButtonTheme,Code:codeTheme,Container:containerTheme,Divider:dividerTheme,Drawer:drawerTheme$1,Editable:editableTheme,Form:formTheme$1,FormError:formErrorTheme,FormLabel:formLabelTheme,Heading:headingTheme$1,Input:inputTheme$1,Kbd:kbdTheme,Link:linkTheme,List:listTheme,Menu:menuTheme$1,Modal:modalTheme$1,NumberInput:numberInputTheme,PinInput:pinInputTheme,Popover:popoverTheme$1,Progress:progressTheme$1,Radio:radioTheme,Select:selectTheme,Skeleton:skeletonTheme$1,SkipLink:skipLinkTheme,Slider:sliderTheme$1,Spinner:spinnerTheme,Stat:statTheme,Switch:switchTheme$1,Table:tableTheme$1,Tabs:tabsTheme$1,Tag:tagTheme,Textarea:textareaTheme,Tooltip:tooltipTheme$1,Card:cardTheme$1,Stepper:stepperTheme$1},borders$1={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},breakpoints$1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},colors$1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"}},radii={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},shadows={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},transitionProperty={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},transitionTimingFunction={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},transitionDuration={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},transition={property:transitionProperty,easing:transitionTimingFunction,duration:transitionDuration},zIndices={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},blur={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},foundations$1={breakpoints:breakpoints$1,zIndices,radii,blur,colors:colors$1,...typography$1,sizes:sizes$m,shadows,space:spacing,borders:borders$1,transition},semanticTokens={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},styles$1={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},requiredChakraThemeKeys=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function isChakraTheme(s){return isObject$3(s)?requiredChakraThemeKeys.every(a=>Object.prototype.hasOwnProperty.call(s,a)):!1}const direction="ltr",config$3={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},theme$1={semanticTokens,direction,...foundations$1,components:components$1,styles:styles$1,config:config$3};function sheetForTag(s){if(s.sheet)return s.sheet;for(var a=0;a<document.styleSheets.length;a++)if(document.styleSheets[a].ownerNode===s)return document.styleSheets[a]}function createStyleElement(s){var a=document.createElement("style");return a.setAttribute("data-emotion",s.key),s.nonce!==void 0&&a.setAttribute("nonce",s.nonce),a.appendChild(document.createTextNode("")),a.setAttribute("data-s",""),a}var StyleSheet=function(){function s(et){var nt=this;this._insertTag=function(at){var mt;nt.tags.length===0?nt.insertionPoint?mt=nt.insertionPoint.nextSibling:nt.prepend?mt=nt.container.firstChild:mt=nt.before:mt=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(at,mt),nt.tags.push(at)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var a=s.prototype;return a.hydrate=function(nt){nt.forEach(this._insertTag)},a.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var at=this.tags[this.tags.length-1];if(this.isSpeedy){var mt=sheetForTag(at);try{mt.insertRule(nt,mt.cssRules.length)}catch{}}else at.appendChild(document.createTextNode(nt));this.ctr++},a.flush=function(){this.tags.forEach(function(nt){var at;return(at=nt.parentNode)==null?void 0:at.removeChild(nt)}),this.tags=[],this.ctr=0},s}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$2=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$4(s,a){return charat(s,0)^45?(((a<<2^charat(s,0))<<2^charat(s,1))<<2^charat(s,2))<<2^charat(s,3):0}function trim$1(s){return s.trim()}function match(s,a){return(s=a.exec(s))?s[0]:s}function replace(s,a,et){return s.replace(a,et)}function indexof(s,a){return s.indexOf(a)}function charat(s,a){return s.charCodeAt(a)|0}function substr(s,a,et){return s.slice(a,et)}function strlen(s){return s.length}function sizeof(s){return s.length}function append(s,a){return a.push(s),s}function combine(s,a){return s.map(a).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node$1(s,a,et,nt,at,mt,wt){return{value:s,root:a,parent:et,type:nt,props:at,children:mt,line,column,length:wt,return:""}}function copy(s,a){return assign(node$1("",null,null,"",null,null,0),s,{length:-s.length},a)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(s,a){return substr(characters,s,a)}function token(s){switch(s){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(s){return line=column=1,length=strlen(characters=s),position=0,[]}function dealloc(s){return characters="",s}function delimit(s){return trim$1(slice(position-1,delimiter(s===91?s+2:s===40?s+1:s)))}function whitespace(s){for(;(character=peek())&&character<33;)next();return token(s)>2||token(character)>3?"":" "}function escaping(s,a){for(;--a&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(s,caret()+(a<6&&peek()==32&&next()==32))}function delimiter(s){for(;next();)switch(character){case s:return position;case 34:case 39:s!==34&&s!==39&&delimiter(character);break;case 40:s===41&&delimiter(s);break;case 92:next();break}return position}function commenter(s,a){for(;next()&&s+character!==57;)if(s+character===84&&peek()===47)break;return"/*"+slice(a,position-1)+"*"+from(s===47?s:next())}function identifier(s){for(;!token(peek());)next();return slice(s,position)}function compile(s){return dealloc(parse("",null,null,null,[""],s=alloc(s),0,[0],s))}function parse(s,a,et,nt,at,mt,wt,$t,Ct){for(var Dt=0,Ft=0,jt=wt,Nt=0,Lt=0,Ut=0,Vt=1,Yt=1,er=1,tr=0,nr="",sr=at,dr=mt,br=nt,vr=nr;Yt;)switch(Ut=tr,tr=next()){case 40:if(Ut!=108&&charat(vr,jt-1)==58){indexof(vr+=replace(delimit(tr),"&","&\f"),"&\f")!=-1&&(er=-1);break}case 34:case 39:case 91:vr+=delimit(tr);break;case 9:case 10:case 13:case 32:vr+=whitespace(Ut);break;case 92:vr+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),a,et),Ct);break;default:vr+="/"}break;case 123*Vt:$t[Dt++]=strlen(vr)*er;case 125*Vt:case 59:case 0:switch(tr){case 0:case 125:Yt=0;case 59+Ft:er==-1&&(vr=replace(vr,/\f/g,"")),Lt>0&&strlen(vr)-jt&&append(Lt>32?declaration(vr+";",nt,et,jt-1):declaration(replace(vr," ","")+";",nt,et,jt-2),Ct);break;case 59:vr+=";";default:if(append(br=ruleset(vr,a,et,Dt,Ft,at,$t,nr,sr=[],dr=[],jt),mt),tr===123)if(Ft===0)parse(vr,a,br,br,sr,mt,jt,$t,dr);else switch(Nt===99&&charat(vr,3)===110?100:Nt){case 100:case 108:case 109:case 115:parse(s,br,br,nt&&append(ruleset(s,br,br,0,0,at,$t,nr,at,sr=[],jt),dr),at,dr,jt,$t,nt?sr:dr);break;default:parse(vr,br,br,br,[""],dr,0,$t,dr)}}Dt=Ft=Lt=0,Vt=er=1,nr=vr="",jt=wt;break;case 58:jt=1+strlen(vr),Lt=Ut;default:if(Vt<1){if(tr==123)--Vt;else if(tr==125&&Vt++==0&&prev()==125)continue}switch(vr+=from(tr),tr*Vt){case 38:er=Ft>0?1:(vr+="\f",-1);break;case 44:$t[Dt++]=(strlen(vr)-1)*er,er=1;break;case 64:peek()===45&&(vr+=delimit(next())),Nt=peek(),Ft=jt=strlen(nr=vr+=identifier(caret())),tr++;break;case 45:Ut===45&&strlen(vr)==2&&(Vt=0)}}return mt}function ruleset(s,a,et,nt,at,mt,wt,$t,Ct,Dt,Ft){for(var jt=at-1,Nt=at===0?mt:[""],Lt=sizeof(Nt),Ut=0,Vt=0,Yt=0;Ut<nt;++Ut)for(var er=0,tr=substr(s,jt+1,jt=abs$2(Vt=wt[Ut])),nr=s;er<Lt;++er)(nr=trim$1(Vt>0?Nt[er]+" "+tr:replace(tr,/&\f/g,Nt[er])))&&(Ct[Yt++]=nr);return node$1(s,a,et,at===0?RULESET:$t,Ct,Dt,Ft)}function comment(s,a,et){return node$1(s,a,et,COMMENT,from(char()),substr(s,2,-2),0)}function declaration(s,a,et,nt){return node$1(s,a,et,DECLARATION,substr(s,0,nt),substr(s,nt+1,-1),nt)}function serialize(s,a){for(var et="",nt=sizeof(s),at=0;at<nt;at++)et+=a(s[at],at,s,a)||"";return et}function stringify$1(s,a,et,nt){switch(s.type){case LAYER:if(s.children.length)break;case IMPORT:case DECLARATION:return s.return=s.return||s.value;case COMMENT:return"";case KEYFRAMES:return s.return=s.value+"{"+serialize(s.children,nt)+"}";case RULESET:s.value=s.props.join(",")}return strlen(et=serialize(s.children,nt))?s.return=s.value+"{"+et+"}":""}function middleware(s){var a=sizeof(s);return function(et,nt,at,mt){for(var wt="",$t=0;$t<a;$t++)wt+=s[$t](et,nt,at,mt)||"";return wt}}function rulesheet(s){return function(a){a.root||(a=a.return)&&s(a)}}var weakMemoize=function(a){var et=new WeakMap;return function(nt){if(et.has(nt))return et.get(nt);var at=a(nt);return et.set(nt,at),at}};function memoize$1(s){var a=Object.create(null);return function(et){return a[et]===void 0&&(a[et]=s(et)),a[et]}}var identifierWithPointTracking=function(a,et,nt){for(var at=0,mt=0;at=mt,mt=peek(),at===38&&mt===12&&(et[nt]=1),!token(mt);)next();return slice(a,position)},toRules=function(a,et){var nt=-1,at=44;do switch(token(at)){case 0:at===38&&peek()===12&&(et[nt]=1),a[nt]+=identifierWithPointTracking(position-1,et,nt);break;case 2:a[nt]+=delimit(at);break;case 4:if(at===44){a[++nt]=peek()===58?"&\f":"",et[nt]=a[nt].length;break}default:a[nt]+=from(at)}while(at=next());return a},getRules=function(a,et){return dealloc(toRules(alloc(a),et))},fixedElements=new WeakMap,compat=function(a){if(!(a.type!=="rule"||!a.parent||a.length<1)){for(var et=a.value,nt=a.parent,at=a.column===nt.column&&a.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(a.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!at){fixedElements.set(a,!0);for(var mt=[],wt=getRules(et,mt),$t=nt.props,Ct=0,Dt=0;Ct<wt.length;Ct++)for(var Ft=0;Ft<$t.length;Ft++,Dt++)a.props[Dt]=mt[Ct]?wt[Ct].replace(/&\f/g,$t[Ft]):$t[Ft]+" "+wt[Ct]}}},removeLabel=function(a){if(a.type==="decl"){var et=a.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(a.return="",a.value="")}};function prefix(s,a){switch(hash$4(s,a)){case 5103:return WEBKIT+"print-"+s+s;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+s+s;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+s+MOZ+s+MS+s+s;case 6828:case 4268:return WEBKIT+s+MS+s+s;case 6165:return WEBKIT+s+MS+"flex-"+s+s;case 5187:return WEBKIT+s+replace(s,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+s;case 5443:return WEBKIT+s+MS+"flex-item-"+replace(s,/flex-|-self/,"")+s;case 4675:return WEBKIT+s+MS+"flex-line-pack"+replace(s,/align-content|flex-|-self/,"")+s;case 5548:return WEBKIT+s+MS+replace(s,"shrink","negative")+s;case 5292:return WEBKIT+s+MS+replace(s,"basis","preferred-size")+s;case 6060:return WEBKIT+"box-"+replace(s,"-grow","")+WEBKIT+s+MS+replace(s,"grow","positive")+s;case 4554:return WEBKIT+replace(s,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+s;case 6187:return replace(replace(replace(s,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),s,"")+s;case 5495:case 3959:return replace(s,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(s,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+s+s;case 4095:case 3583:case 4068:case 2532:return replace(s,/(.+)-inline(.+)/,WEBKIT+"$1$2")+s;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(s)-1-a>6)switch(charat(s,a+1)){case 109:if(charat(s,a+4)!==45)break;case 102:return replace(s,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(s,a+3)==108?"$3":"$2-$3"))+s;case 115:return~indexof(s,"stretch")?prefix(replace(s,"stretch","fill-available"),a)+s:s}break;case 4949:if(charat(s,a+1)!==115)break;case 6444:switch(charat(s,strlen(s)-3-(~indexof(s,"!important")&&10))){case 107:return replace(s,":",":"+WEBKIT)+s;case 101:return replace(s,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(s,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+s}break;case 5936:switch(charat(s,a+11)){case 114:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb")+s;case 108:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"tb-rl")+s;case 45:return WEBKIT+s+MS+replace(s,/[svh]\w+-[tblr]{2}/,"lr")+s}return WEBKIT+s+MS+s+s}return s}var prefixer=function(a,et,nt,at){if(a.length>-1&&!a.return)switch(a.type){case DECLARATION:a.return=prefix(a.value,a.length);break;case KEYFRAMES:return serialize([copy(a,{value:replace(a.value,"@","@"+WEBKIT)})],at);case RULESET:if(a.length)return combine(a.props,function(mt){switch(match(mt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(a,{props:[replace(mt,/:(read-\w+)/,":"+MOZ+"$1")]})],at);case"::placeholder":return serialize([copy(a,{props:[replace(mt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(a,{props:[replace(mt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(a,{props:[replace(mt,/:(plac\w+)/,MS+"input-$1")]})],at)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(a){var et=a.key;if(et==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(Vt){var Yt=Vt.getAttribute("data-emotion");Yt.indexOf(" ")!==-1&&(document.head.appendChild(Vt),Vt.setAttribute("data-s",""))})}var at=a.stylisPlugins||defaultStylisPlugins,mt={},wt,$t=[];wt=a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(Vt){for(var Yt=Vt.getAttribute("data-emotion").split(" "),er=1;er<Yt.length;er++)mt[Yt[er]]=!0;$t.push(Vt)});var Ct,Dt=[compat,removeLabel];{var Ft,jt=[stringify$1,rulesheet(function(Vt){Ft.insert(Vt)})],Nt=middleware(Dt.concat(at,jt)),Lt=function(Yt){return serialize(compile(Yt),Nt)};Ct=function(Yt,er,tr,nr){Ft=tr,Lt(Yt?Yt+"{"+er.styles+"}":er.styles),nr&&(Ut.inserted[er.name]=!0)}}var Ut={key:et,sheet:new StyleSheet({key:et,container:wt,nonce:a.nonce,speedy:a.speedy,prepend:a.prepend,insertionPoint:a.insertionPoint}),nonce:a.nonce,inserted:mt,registered:{},insert:Ct};return Ut.sheet.hydrate($t),Ut};function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var a=1;a<arguments.length;a++){var et=arguments[a];for(var nt in et)({}).hasOwnProperty.call(et,nt)&&(s[nt]=et[nt])}return s},_extends.apply(null,arguments)}var reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$1=b$2?Symbol.for("react.element"):60103,d$1=b$2?Symbol.for("react.portal"):60106,e=b$2?Symbol.for("react.fragment"):60107,f=b$2?Symbol.for("react.strict_mode"):60108,g$1=b$2?Symbol.for("react.profiler"):60114,h$1=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l=b$2?Symbol.for("react.async_mode"):60111,m$3=b$2?Symbol.for("react.concurrent_mode"):60111,n=b$2?Symbol.for("react.forward_ref"):60112,p=b$2?Symbol.for("react.suspense"):60113,q$3=b$2?Symbol.for("react.suspense_list"):60120,r$2=b$2?Symbol.for("react.memo"):60115,t=b$2?Symbol.for("react.lazy"):60116,v$4=b$2?Symbol.for("react.block"):60121,w$2=b$2?Symbol.for("react.fundamental"):60117,x$2=b$2?Symbol.for("react.responder"):60118,y$2=b$2?Symbol.for("react.scope"):60119;function z$3(s){if(typeof s=="object"&&s!==null){var a=s.$$typeof;switch(a){case c$1:switch(s=s.type,s){case l:case m$3:case e:case g$1:case f:case p:return s;default:switch(s=s&&s.$$typeof,s){case k$2:case n:case t:case r$2:case h$1:return s;default:return a}}case d$1:return a}}}function A$1(s){return z$3(s)===m$3}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$3;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r$2;reactIs_production_min.Portal=d$1;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(s){return A$1(s)||z$3(s)===l};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(s){return z$3(s)===k$2};reactIs_production_min.isContextProvider=function(s){return z$3(s)===h$1};reactIs_production_min.isElement=function(s){return typeof s=="object"&&s!==null&&s.$$typeof===c$1};reactIs_production_min.isForwardRef=function(s){return z$3(s)===n};reactIs_production_min.isFragment=function(s){return z$3(s)===e};reactIs_production_min.isLazy=function(s){return z$3(s)===t};reactIs_production_min.isMemo=function(s){return z$3(s)===r$2};reactIs_production_min.isPortal=function(s){return z$3(s)===d$1};reactIs_production_min.isProfiler=function(s){return z$3(s)===g$1};reactIs_production_min.isStrictMode=function(s){return z$3(s)===f};reactIs_production_min.isSuspense=function(s){return z$3(s)===p};reactIs_production_min.isValidElementType=function(s){return typeof s=="string"||typeof s=="function"||s===e||s===m$3||s===g$1||s===f||s===p||s===q$3||typeof s=="object"&&s!==null&&(s.$$typeof===t||s.$$typeof===r$2||s.$$typeof===h$1||s.$$typeof===k$2||s.$$typeof===n||s.$$typeof===w$2||s.$$typeof===x$2||s.$$typeof===y$2||s.$$typeof===v$4)};reactIs_production_min.typeOf=z$3;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser$1=!0;function getRegisteredStyles(s,a,et){var nt="";return et.split(" ").forEach(function(at){s[at]!==void 0?a.push(s[at]+";"):at&&(nt+=at+" ")}),nt}var registerStyles=function(a,et,nt){var at=a.key+"-"+et.name;(nt===!1||isBrowser$1===!1)&&a.registered[at]===void 0&&(a.registered[at]=et.styles)},insertStyles=function(a,et,nt){registerStyles(a,et,nt);var at=a.key+"-"+et.name;if(a.inserted[et.name]===void 0){var mt=et;do a.insert(et===mt?"."+at:"",mt,a.sheet,!0),mt=mt.next;while(mt!==void 0)}},unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(a){return a.charCodeAt(1)===45},isProcessableValue=function(a){return a!=null&&typeof a!="boolean"},processStyleName=memoize$1(function(s){return isCustomProperty(s)?s:s.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(a,et){switch(a){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(nt,at,mt){return cursor={name:at,styles:mt,next:cursor},at})}return unitlessKeys[a]!==1&&!isCustomProperty(a)&&typeof et=="number"&&et!==0?et+"px":et};function handleInterpolation(s,a,et){if(et==null)return"";var nt=et;if(nt.__emotion_styles!==void 0)return nt;switch(typeof et){case"boolean":return"";case"object":{var at=et;if(at.anim===1)return cursor={name:at.name,styles:at.styles,next:cursor},at.name;var mt=et;if(mt.styles!==void 0){var wt=mt.next;if(wt!==void 0)for(;wt!==void 0;)cursor={name:wt.name,styles:wt.styles,next:cursor},wt=wt.next;var $t=mt.styles+";";return $t}return createStringFromObject(s,a,et)}case"function":{if(s!==void 0){var Ct=cursor,Dt=et(s);return cursor=Ct,handleInterpolation(s,a,Dt)}break}}var Ft=et;if(a==null)return Ft;var jt=a[Ft];return jt!==void 0?jt:Ft}function createStringFromObject(s,a,et){var nt="";if(Array.isArray(et))for(var at=0;at<et.length;at++)nt+=handleInterpolation(s,a,et[at])+";";else for(var mt in et){var wt=et[mt];if(typeof wt!="object"){var $t=wt;a!=null&&a[$t]!==void 0?nt+=mt+"{"+a[$t]+"}":isProcessableValue($t)&&(nt+=processStyleName(mt)+":"+processStyleValue(mt,$t)+";")}else if(Array.isArray(wt)&&typeof wt[0]=="string"&&(a==null||a[wt[0]]===void 0))for(var Ct=0;Ct<wt.length;Ct++)isProcessableValue(wt[Ct])&&(nt+=processStyleName(mt)+":"+processStyleValue(mt,wt[Ct])+";");else{var Dt=handleInterpolation(s,a,wt);switch(mt){case"animation":case"animationName":{nt+=processStyleName(mt)+":"+Dt+";";break}default:nt+=mt+"{"+Dt+"}"}}}return nt}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(s,a,et){if(s.length===1&&typeof s[0]=="object"&&s[0]!==null&&s[0].styles!==void 0)return s[0];var nt=!0,at="";cursor=void 0;var mt=s[0];if(mt==null||mt.raw===void 0)nt=!1,at+=handleInterpolation(et,a,mt);else{var wt=mt;at+=wt[0]}for(var $t=1;$t<s.length;$t++)if(at+=handleInterpolation(et,a,s[$t]),nt){var Ct=mt;at+=Ct[$t]}labelPattern.lastIndex=0;for(var Dt="",Ft;(Ft=labelPattern.exec(at))!==null;)Dt+="-"+Ft[1];var jt=murmur2(at)+Dt;return{name:jt,styles:at,next:cursor}}var syncFallback=function(a){return a()},useInsertionEffect=React$3.useInsertionEffect?React$3.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var __unsafe_useEmotionCache=function(){return reactExports.useContext(EmotionCacheContext)},withEmotionCache=function(a){return reactExports.forwardRef(function(et,nt){var at=reactExports.useContext(EmotionCacheContext);return a(et,at,nt)})},ThemeContext=reactExports.createContext({}),getTheme$1=function(a,et){if(typeof et=="function"){var nt=et(a);return nt}return _extends({},a,et)},createCacheWithTheme=weakMemoize(function(s){return weakMemoize(function(a){return getTheme$1(s,a)})}),ThemeProvider$1=function(a){var et=reactExports.useContext(ThemeContext);return a.theme!==et&&(et=createCacheWithTheme(et)(a.theme)),reactExports.createElement(ThemeContext.Provider,{value:et},a.children)},hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(a,et){var nt={};for(var at in et)hasOwn.call(et,at)&&(nt[at]=et[at]);return nt[typePropName]=a,nt},Insertion$1=function(a){var et=a.cache,nt=a.serialized,at=a.isStringTag;return registerStyles(et,nt,at),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,nt,at)}),null},Emotion=withEmotionCache(function(s,a,et){var nt=s.css;typeof nt=="string"&&a.registered[nt]!==void 0&&(nt=a.registered[nt]);var at=s[typePropName],mt=[nt],wt="";typeof s.className=="string"?wt=getRegisteredStyles(a.registered,mt,s.className):s.className!=null&&(wt=s.className+" ");var $t=serializeStyles(mt,void 0,reactExports.useContext(ThemeContext));wt+=a.key+"-"+$t.name;var Ct={};for(var Dt in s)hasOwn.call(s,Dt)&&Dt!=="css"&&Dt!==typePropName&&(Ct[Dt]=s[Dt]);return Ct.className=wt,et&&(Ct.ref=et),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:a,serialized:$t,isStringTag:typeof at=="string"}),reactExports.createElement(at,Ct))}),Emotion$1=Emotion,jsx=function(a,et){var nt=arguments;if(et==null||!hasOwn.call(et,"css"))return reactExports.createElement.apply(void 0,nt);var at=nt.length,mt=new Array(at);mt[0]=Emotion$1,mt[1]=createEmotionProps(a,et);for(var wt=2;wt<at;wt++)mt[wt]=nt[wt];return reactExports.createElement.apply(null,mt)};(function(s){var a;a||(a=s.JSX||(s.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(s,a){var et=s.styles,nt=serializeStyles([et],void 0,reactExports.useContext(ThemeContext)),at=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var mt=a.key+"-global",wt=new a.sheet.constructor({key:mt,nonce:a.sheet.nonce,container:a.sheet.container,speedy:a.sheet.isSpeedy}),$t=!1,Ct=document.querySelector('style[data-emotion="'+mt+" "+nt.name+'"]');return a.sheet.tags.length&&(wt.before=a.sheet.tags[0]),Ct!==null&&($t=!0,Ct.setAttribute("data-emotion",mt),wt.hydrate([Ct])),at.current=[wt,$t],function(){wt.flush()}},[a]),useInsertionEffectWithLayoutFallback(function(){var mt=at.current,wt=mt[0],$t=mt[1];if($t){mt[1]=!1;return}if(nt.next!==void 0&&insertStyles(a,nt.next,!0),wt.tags.length){var Ct=wt.tags[wt.tags.length-1].nextElementSibling;wt.before=Ct,wt.flush()}a.insert("",nt,wt,!1)},[a,nt.name]),null});function css$1(){for(var s=arguments.length,a=new Array(s),et=0;et<s;et++)a[et]=arguments[et];return serializeStyles(a)}function keyframes$1(){var s=css$1.apply(void 0,arguments),a="animation-"+s.name;return{name:a,styles:"@keyframes "+a+"{"+s.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const ColorModeContext=reactExports.createContext({});ColorModeContext.displayName="ColorModeContext";function useColorMode(){const s=reactExports.useContext(ColorModeContext);if(s===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return s}const classNames$1={light:"chakra-ui-light",dark:"chakra-ui-dark"};function getColorModeUtils(s={}){const{preventTransition:a=!0,nonce:et}=s,nt={setDataset:at=>{const mt=a?nt.preventTransition():void 0;document.documentElement.dataset.theme=at,document.documentElement.style.colorScheme=at,mt==null||mt()},setClassName(at){document.body.classList.add(at?classNames$1.dark:classNames$1.light),document.body.classList.remove(at?classNames$1.light:classNames$1.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(at){return nt.query().matches??at==="dark"?"dark":"light"},addListener(at){const mt=nt.query(),wt=$t=>{at($t.matches?"dark":"light")};return typeof mt.addListener=="function"?mt.addListener(wt):mt.addEventListener("change",wt),()=>{typeof mt.removeListener=="function"?mt.removeListener(wt):mt.removeEventListener("change",wt)}},preventTransition(){const at=document.createElement("style");return at.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),et!==void 0&&(at.nonce=et),document.head.appendChild(at),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(at)})})}}};return nt}const STORAGE_KEY="chakra-ui-color-mode";function createLocalStorageManager(s){return{ssr:!1,type:"localStorage",get(a){if(!(globalThis!=null&&globalThis.document))return a;let et;try{et=localStorage.getItem(s)||a}catch{}return et||a},set(a){try{localStorage.setItem(s,a)}catch{}}}}const localStorageManager=createLocalStorageManager(STORAGE_KEY),noop$3=()=>{},useSafeLayoutEffect$1=isBrowser$2()?reactExports.useLayoutEffect:reactExports.useEffect;function getTheme(s,a){return s.type==="cookie"&&s.ssr?s.get(a):a}const ColorModeProvider=function(a){const{value:et,children:nt,options:{useSystemColorMode:at,initialColorMode:mt,disableTransitionOnChange:wt}={},colorModeManager:$t=localStorageManager}=a,Ct=__unsafe_useEmotionCache(),Dt=mt==="dark"?"dark":"light",[Ft,jt]=reactExports.useState(()=>getTheme($t,Dt)),[Nt,Lt]=reactExports.useState(()=>getTheme($t)),{getSystemTheme:Ut,setClassName:Vt,setDataset:Yt,addListener:er}=reactExports.useMemo(()=>getColorModeUtils({preventTransition:wt,nonce:Ct==null?void 0:Ct.nonce}),[wt,Ct==null?void 0:Ct.nonce]),tr=mt==="system"&&!Ft?Nt:Ft,nr=reactExports.useCallback(br=>{const vr=br==="system"?Ut():br;jt(vr),Vt(vr==="dark"),Yt(vr),$t.set(vr)},[$t,Ut,Vt,Yt]);useSafeLayoutEffect$1(()=>{mt==="system"&&Lt(Ut())},[]),reactExports.useEffect(()=>{const br=$t.get();if(br){nr(br);return}if(mt==="system"){nr("system");return}nr(Dt)},[$t,Dt,mt,nr]);const sr=reactExports.useCallback(()=>{nr(tr==="dark"?"light":"dark")},[tr,nr]);reactExports.useEffect(()=>{if(at)return er(nr)},[at,er,nr]);const dr=reactExports.useMemo(()=>({colorMode:et??tr,toggleColorMode:et?noop$3:sr,setColorMode:et?noop$3:nr,forced:et!==void 0}),[tr,sr,nr,et]);return jsxRuntimeExports.jsx(ColorModeContext.Provider,{value:dr,children:nt})};ColorModeProvider.displayName="ColorModeProvider";const css=String.raw,vhPolyfill=css`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,CSSPolyfill=()=>jsxRuntimeExports.jsx(Global,{styles:vhPolyfill}),CSSReset=({scope:s=""})=>jsxRuntimeExports.jsx(Global,{styles:css`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${s} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${s} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${s} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${s} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${s} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${s} :where(b, strong) {
        font-weight: bold;
      }

      ${s} small {
        font-size: 80%;
      }

      ${s} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${s} sub {
        bottom: -0.25em;
      }

      ${s} sup {
        top: -0.5em;
      }

      ${s} img {
        border-style: none;
      }

      ${s} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${s} :where(button, input) {
        overflow: visible;
      }

      ${s} :where(button, select) {
        text-transform: none;
      }

      ${s} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${s} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${s} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${s} progress {
        vertical-align: baseline;
      }

      ${s} textarea {
        overflow: auto;
      }

      ${s} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${s} input[type="number"]::-webkit-inner-spin-button,
      ${s} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${s} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${s} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${s} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${s} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${s} details {
        display: block;
      }

      ${s} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${s} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${s} button {
        background: transparent;
        padding: 0;
      }

      ${s} fieldset {
        margin: 0;
        padding: 0;
      }

      ${s} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${s} textarea {
        resize: vertical;
      }

      ${s} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${s} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${s} table {
        border-collapse: collapse;
      }

      ${s} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${s} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${s} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${s} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${s} select::-ms-expand {
        display: none;
      }

      ${vhPolyfill}
    `});function ThemeProvider(s){const{cssVarsRoot:a,theme:et,children:nt}=s,at=reactExports.useMemo(()=>toCSSVar(et),[et]);return jsxRuntimeExports.jsxs(ThemeProvider$1,{theme:at,children:[jsxRuntimeExports.jsx(CSSVars,{root:a}),nt]})}function CSSVars({root:s=":host, :root"}){const a=[s,"[data-theme]"].join(",");return jsxRuntimeExports.jsx(Global,{styles:et=>({[a]:et.__cssVars})})}createContext({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function GlobalStyle(){const{colorMode:s}=useColorMode();return jsxRuntimeExports.jsx(Global,{styles:a=>{const et=memoizedGet$1(a,"styles.global"),nt=runIfFn$1(et,{theme:a,colorMode:s});return nt?css$2(nt)(a):void 0}})}const[PortalManagerContextProvider,usePortalManager]=createContext({strict:!1,name:"PortalManagerContext"});function PortalManager(s){const{children:a,zIndex:et}=s;return jsxRuntimeExports.jsx(PortalManagerContextProvider,{value:{zIndex:et},children:a})}PortalManager.displayName="PortalManager";const EnvironmentContext=reactExports.createContext({getDocument(){return document},getWindow(){return window}});EnvironmentContext.displayName="EnvironmentContext";function EnvironmentProvider(s){const{children:a,environment:et,disabled:nt}=s,at=reactExports.useRef(null),mt=reactExports.useMemo(()=>et||{getDocument:()=>{var $t;return(($t=at.current)==null?void 0:$t.ownerDocument)??document},getWindow:()=>{var $t;return(($t=at.current)==null?void 0:$t.ownerDocument.defaultView)??window}},[et]),wt=!nt||!et;return jsxRuntimeExports.jsxs(EnvironmentContext.Provider,{value:mt,children:[a,wt&&jsxRuntimeExports.jsx("span",{id:"__chakra_env",hidden:!0,ref:at})]})}EnvironmentProvider.displayName="EnvironmentProvider";const Provider=s=>{const{children:a,colorModeManager:et,portalZIndex:nt,resetScope:at,resetCSS:mt=!0,theme:wt={},environment:$t,cssVarsRoot:Ct,disableEnvironment:Dt,disableGlobalStyle:Ft}=s,jt=jsxRuntimeExports.jsx(EnvironmentProvider,{environment:$t,disabled:Dt,children:a});return jsxRuntimeExports.jsx(ThemeProvider,{theme:wt,cssVarsRoot:Ct,children:jsxRuntimeExports.jsxs(ColorModeProvider,{colorModeManager:et,options:wt.config,children:[mt?jsxRuntimeExports.jsx(CSSReset,{scope:at}):jsxRuntimeExports.jsx(CSSPolyfill,{}),!Ft&&jsxRuntimeExports.jsx(GlobalStyle,{}),nt?jsxRuntimeExports.jsx(PortalManager,{zIndex:nt,children:jt}):jt]})})},LayoutGroupContext=reactExports.createContext({});function useConstant(s){const a=reactExports.useRef(null);return a.current===null&&(a.current=s()),a.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(a){const et=this.props.childRef.current;if(et&&a.isPresent&&!this.props.isPresent){const nt=this.props.sizeRef.current;nt.height=et.offsetHeight||0,nt.width=et.offsetWidth||0,nt.top=et.offsetTop,nt.left=et.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:s,isPresent:a}){const et=reactExports.useId(),nt=reactExports.useRef(null),at=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:mt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:wt,height:$t,top:Ct,left:Dt}=at.current;if(a||!nt.current||!wt||!$t)return;nt.current.dataset.motionPopId=et;const Ft=document.createElement("style");return mt&&(Ft.nonce=mt),document.head.appendChild(Ft),Ft.sheet&&Ft.sheet.insertRule(`
          [data-motion-pop-id="${et}"] {
            position: absolute !important;
            width: ${wt}px !important;
            height: ${$t}px !important;
            top: ${Ct}px !important;
            left: ${Dt}px !important;
          }
        `),()=>{document.head.removeChild(Ft)}},[a]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:a,childRef:nt,sizeRef:at,children:reactExports.cloneElement(s,{ref:nt})})}const PresenceChild=({children:s,initial:a,isPresent:et,onExitComplete:nt,custom:at,presenceAffectsLayout:mt,mode:wt})=>{const $t=useConstant(newChildrenMap),Ct=reactExports.useId(),Dt=reactExports.useCallback(jt=>{$t.set(jt,!0);for(const Nt of $t.values())if(!Nt)return;nt&&nt()},[$t,nt]),Ft=reactExports.useMemo(()=>({id:Ct,initial:a,isPresent:et,custom:at,onExitComplete:Dt,register:jt=>($t.set(jt,!1),()=>$t.delete(jt))}),mt?[Math.random(),Dt]:[et,Dt]);return reactExports.useMemo(()=>{$t.forEach((jt,Nt)=>$t.set(Nt,!1))},[et]),reactExports.useEffect(()=>{!et&&!$t.size&&nt&&nt()},[et]),wt==="popLayout"&&(s=jsxRuntimeExports.jsx(PopChild,{isPresent:et,children:s})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Ft,children:s})};function newChildrenMap(){return new Map}function usePresence(s=!0){const a=reactExports.useContext(PresenceContext);if(a===null)return[!0,null];const{isPresent:et,onExitComplete:nt,register:at}=a,mt=reactExports.useId();reactExports.useEffect(()=>{s&&at(mt)},[s]);const wt=reactExports.useCallback(()=>s&&nt&&nt(mt),[mt,nt,s]);return!et&&nt?[!1,wt]:[!0]}function useIsPresent(){return isPresent(reactExports.useContext(PresenceContext))}function isPresent(s){return s===null?!0:s.isPresent}const getChildKey=s=>s.key||"";function onlyElements(s){const a=[];return reactExports.Children.forEach(s,et=>{reactExports.isValidElement(et)&&a.push(et)}),a}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:s,custom:a,initial:et=!0,onExitComplete:nt,presenceAffectsLayout:at=!0,mode:mt="sync",propagate:wt=!1})=>{const[$t,Ct]=usePresence(wt),Dt=reactExports.useMemo(()=>onlyElements(s),[s]),Ft=wt&&!$t?[]:Dt.map(getChildKey),jt=reactExports.useRef(!0),Nt=reactExports.useRef(Dt),Lt=useConstant(()=>new Map),[Ut,Vt]=reactExports.useState(Dt),[Yt,er]=reactExports.useState(Dt);useIsomorphicLayoutEffect(()=>{jt.current=!1,Nt.current=Dt;for(let sr=0;sr<Yt.length;sr++){const dr=getChildKey(Yt[sr]);Ft.includes(dr)?Lt.delete(dr):Lt.get(dr)!==!0&&Lt.set(dr,!1)}},[Yt,Ft.length,Ft.join("-")]);const tr=[];if(Dt!==Ut){let sr=[...Dt];for(let dr=0;dr<Yt.length;dr++){const br=Yt[dr],vr=getChildKey(br);Ft.includes(vr)||(sr.splice(dr,0,br),tr.push(br))}mt==="wait"&&tr.length&&(sr=tr),er(onlyElements(sr)),Vt(Dt);return}const{forceRender:nr}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Yt.map(sr=>{const dr=getChildKey(sr),br=wt&&!$t?!1:Dt===Yt||Ft.includes(dr),vr=()=>{if(Lt.has(dr))Lt.set(dr,!0);else return;let yr=!0;Lt.forEach($r=>{$r||(yr=!1)}),yr&&(nr==null||nr(),er(Nt.current),wt&&(Ct==null||Ct()),nt&&nt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:br,initial:!jt.current||et?void 0:!1,custom:br?void 0:a,presenceAffectsLayout:at,mode:mt,onExitComplete:br?void 0:vr,children:sr},dr)})})},noop$2=s=>s;let invariant$N=noop$2;function memo(s){let a;return()=>(a===void 0&&(a=s()),a)}const progress=(s,a,et)=>{const nt=a-s;return nt===0?1:(et-s)/nt},secondsToMilliseconds=s=>s*1e3,millisecondsToSeconds=s=>s/1e3,MotionGlobalConfig={useManualTiming:!1};function createRenderStep(s){let a=new Set,et=new Set,nt=!1,at=!1;const mt=new WeakSet;let wt={delta:0,timestamp:0,isProcessing:!1};function $t(Dt){mt.has(Dt)&&(Ct.schedule(Dt),s()),Dt(wt)}const Ct={schedule:(Dt,Ft=!1,jt=!1)=>{const Lt=jt&&nt?a:et;return Ft&&mt.add(Dt),Lt.has(Dt)||Lt.add(Dt),Dt},cancel:Dt=>{et.delete(Dt),mt.delete(Dt)},process:Dt=>{if(wt=Dt,nt){at=!0;return}nt=!0,[a,et]=[et,a],a.forEach($t),a.clear(),nt=!1,at&&(at=!1,Ct.process(Dt))}};return Ct}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(s,a){let et=!1,nt=!0;const at={delta:0,timestamp:0,isProcessing:!1},mt=()=>et=!0,wt=stepsOrder.reduce((er,tr)=>(er[tr]=createRenderStep(mt),er),{}),{read:$t,resolveKeyframes:Ct,update:Dt,preRender:Ft,render:jt,postRender:Nt}=wt,Lt=()=>{const er=performance.now();et=!1,at.delta=nt?1e3/60:Math.max(Math.min(er-at.timestamp,maxElapsed),1),at.timestamp=er,at.isProcessing=!0,$t.process(at),Ct.process(at),Dt.process(at),Ft.process(at),jt.process(at),Nt.process(at),at.isProcessing=!1,et&&a&&(nt=!1,s(Lt))},Ut=()=>{et=!0,nt=!0,at.isProcessing||s(Lt)};return{schedule:stepsOrder.reduce((er,tr)=>{const nr=wt[tr];return er[tr]=(sr,dr=!1,br=!1)=>(et||Ut(),nr.schedule(sr,dr,br)),er},{}),cancel:er=>{for(let tr=0;tr<stepsOrder.length;tr++)wt[stepsOrder[tr]].cancel(er)},state:at,steps:wt}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const s in featureProps)featureDefinitions[s]={isEnabled:a=>featureProps[s].some(et=>!!a[et])};function loadFeatures(s){for(const a in s)featureDefinitions[a]={...featureDefinitions[a],...s[a]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||validMotionProps.has(s)}let shouldForward=s=>!isValidMotionProp(s);function loadExternalIsValidProp(s){s&&(shouldForward=a=>a.startsWith("on")?!isValidMotionProp(a):s(a))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(s,a,et){const nt={};for(const at in s)at==="values"&&typeof s.values=="object"||(shouldForward(at)||et===!0&&isValidMotionProp(at)||!a&&!isValidMotionProp(at)||s.draggable&&at.startsWith("onDrag"))&&(nt[at]=s[at]);return nt}function createDOMMotionComponentProxy(s){if(typeof Proxy>"u")return s;const a=new Map,et=(...nt)=>s(...nt);return new Proxy(et,{get:(nt,at)=>at==="create"?s:(a.has(at)||a.set(at,s(at)),a.get(at))})}const MotionContext=reactExports.createContext({});function isVariantLabel(s){return typeof s=="string"||Array.isArray(s)}function isAnimationControls(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(s){return isAnimationControls(s.animate)||variantProps.some(a=>isVariantLabel(s[a]))}function isVariantNode(s){return!!(isControllingVariants(s)||s.variants)}function getCurrentTreeVariants(s,a){if(isControllingVariants(s)){const{initial:et,animate:nt}=s;return{initial:et===!1||isVariantLabel(et)?et:void 0,animate:isVariantLabel(nt)?nt:void 0}}return s.inherit!==!1?a:{}}function useCreateMotionContext(s){const{initial:a,animate:et}=getCurrentTreeVariants(s,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:a,animate:et}),[variantLabelsAsDependency(a),variantLabelsAsDependency(et)])}function variantLabelsAsDependency(s){return Array.isArray(s)?s.join(" "):s}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function useMotionRef(s,a,et){return reactExports.useCallback(nt=>{nt&&s.onMount&&s.onMount(nt),a&&(nt?a.mount(nt):a.unmount()),et&&(typeof et=="function"?et(nt):isRefObject(et)&&(et.current=nt))},[a])}const camelToDash=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(s,a,et,nt,at){var mt,wt;const{visualElement:$t}=reactExports.useContext(MotionContext),Ct=reactExports.useContext(LazyContext),Dt=reactExports.useContext(PresenceContext),Ft=reactExports.useContext(MotionConfigContext).reducedMotion,jt=reactExports.useRef(null);nt=nt||Ct.renderer,!jt.current&&nt&&(jt.current=nt(s,{visualState:a,parent:$t,props:et,presenceContext:Dt,blockInitialAnimation:Dt?Dt.initial===!1:!1,reducedMotionConfig:Ft}));const Nt=jt.current,Lt=reactExports.useContext(SwitchLayoutGroupContext);Nt&&!Nt.projection&&at&&(Nt.type==="html"||Nt.type==="svg")&&createProjectionNode$1(jt.current,et,at,Lt);const Ut=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Nt&&Ut.current&&Nt.update(et,Dt)});const Vt=et[optimizedAppearDataAttribute],Yt=reactExports.useRef(!!Vt&&!(!((mt=window.MotionHandoffIsComplete)===null||mt===void 0)&&mt.call(window,Vt))&&((wt=window.MotionHasOptimisedAnimation)===null||wt===void 0?void 0:wt.call(window,Vt)));return useIsomorphicLayoutEffect(()=>{Nt&&(Ut.current=!0,window.MotionIsMounted=!0,Nt.updateFeatures(),microtask.render(Nt.render),Yt.current&&Nt.animationState&&Nt.animationState.animateChanges())}),reactExports.useEffect(()=>{Nt&&(!Yt.current&&Nt.animationState&&Nt.animationState.animateChanges(),Yt.current&&(queueMicrotask(()=>{var er;(er=window.MotionHandoffMarkAsComplete)===null||er===void 0||er.call(window,Vt)}),Yt.current=!1))}),Nt}function createProjectionNode$1(s,a,et,nt){const{layoutId:at,layout:mt,drag:wt,dragConstraints:$t,layoutScroll:Ct,layoutRoot:Dt}=a;s.projection=new et(s.latestValues,a["data-framer-portal-id"]?void 0:getClosestProjectingNode(s.parent)),s.projection.setOptions({layoutId:at,layout:mt,alwaysMeasureLayout:!!wt||$t&&isRefObject($t),visualElement:s,animationType:typeof mt=="string"?mt:"both",initialPromotionConfig:nt,layoutScroll:Ct,layoutRoot:Dt})}function getClosestProjectingNode(s){if(s)return s.options.allowProjection!==!1?s.projection:getClosestProjectingNode(s.parent)}function createRendererMotionComponent({preloadedFeatures:s,createVisualElement:a,useRender:et,useVisualState:nt,Component:at}){var mt,wt;s&&loadFeatures(s);function $t(Dt,Ft){let jt;const Nt={...reactExports.useContext(MotionConfigContext),...Dt,layoutId:useLayoutId(Dt)},{isStatic:Lt}=Nt,Ut=useCreateMotionContext(Dt),Vt=nt(Dt,Lt);if(!Lt&&isBrowser){useStrictMode();const Yt=getProjectionFunctionality(Nt);jt=Yt.MeasureLayout,Ut.visualElement=useVisualElement(at,Vt,Nt,a,Yt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Ut,children:[jt&&Ut.visualElement?jsxRuntimeExports.jsx(jt,{visualElement:Ut.visualElement,...Nt}):null,et(at,Dt,useMotionRef(Vt,Ut.visualElement,Ft),Vt,Lt,Ut.visualElement)]})}$t.displayName=`motion.${typeof at=="string"?at:`create(${(wt=(mt=at.displayName)!==null&&mt!==void 0?mt:at.name)!==null&&wt!==void 0?wt:""})`}`;const Ct=reactExports.forwardRef($t);return Ct[motionComponentSymbol]=at,Ct}function useLayoutId({layoutId:s}){const a=reactExports.useContext(LayoutGroupContext).id;return a&&s!==void 0?a+"-"+s:s}function useStrictMode(s,a){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(s){const{drag:a,layout:et}=featureDefinitions;if(!a&&!et)return{};const nt={...a,...et};return{MeasureLayout:a!=null&&a.isEnabled(s)||et!=null&&et.isEnabled(s)?nt.MeasureLayout:void 0,ProjectionNode:nt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(s){return typeof s!="string"||s.includes("-")?!1:!!(lowercaseSVGElements.indexOf(s)>-1||/[A-Z]/u.test(s))}function getValueState(s){const a=[{},{}];return s==null||s.values.forEach((et,nt)=>{a[0][nt]=et.get(),a[1][nt]=et.getVelocity()}),a}function resolveVariantFromProps(s,a,et,nt){if(typeof a=="function"){const[at,mt]=getValueState(nt);a=a(et!==void 0?et:s.custom,at,mt)}if(typeof a=="string"&&(a=s.variants&&s.variants[a]),typeof a=="function"){const[at,mt]=getValueState(nt);a=a(et!==void 0?et:s.custom,at,mt)}return a}const isKeyframesTarget=s=>Array.isArray(s),isCustomValue=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),resolveFinalValueInKeyframes=s=>isKeyframesTarget(s)?s[s.length-1]||0:s,isMotionValue=s=>!!(s&&s.getVelocity);function resolveMotionValue(s){const a=isMotionValue(s)?s.get():s;return isCustomValue(a)?a.toValue():a}function makeState({scrapeMotionValuesFromProps:s,createRenderState:a,onUpdate:et},nt,at,mt){const wt={latestValues:makeLatestValues(nt,at,mt,s),renderState:a()};return et&&(wt.onMount=$t=>et({props:nt,current:$t,...wt}),wt.onUpdate=$t=>et($t)),wt}const makeUseVisualState=s=>(a,et)=>{const nt=reactExports.useContext(MotionContext),at=reactExports.useContext(PresenceContext),mt=()=>makeState(s,a,nt,at);return et?mt():useConstant(mt)};function makeLatestValues(s,a,et,nt){const at={},mt=nt(s,{});for(const Nt in mt)at[Nt]=resolveMotionValue(mt[Nt]);let{initial:wt,animate:$t}=s;const Ct=isControllingVariants(s),Dt=isVariantNode(s);a&&Dt&&!Ct&&s.inherit!==!1&&(wt===void 0&&(wt=a.initial),$t===void 0&&($t=a.animate));let Ft=et?et.initial===!1:!1;Ft=Ft||wt===!1;const jt=Ft?$t:wt;if(jt&&typeof jt!="boolean"&&!isAnimationControls(jt)){const Nt=Array.isArray(jt)?jt:[jt];for(let Lt=0;Lt<Nt.length;Lt++){const Ut=resolveVariantFromProps(s,Nt[Lt]);if(Ut){const{transitionEnd:Vt,transition:Yt,...er}=Ut;for(const tr in er){let nr=er[tr];if(Array.isArray(nr)){const sr=Ft?nr.length-1:0;nr=nr[sr]}nr!==null&&(at[tr]=nr)}for(const tr in Vt)at[tr]=Vt[tr]}}}return at}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=s=>a=>typeof a=="string"&&a.startsWith(s),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=s=>startsAsVariableToken(s)?singleCssVariableRegex.test(s.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(s,a)=>a&&typeof s=="number"?a.transform(s):s,clamp$3=(s,a,et)=>et>a?a:et<s?s:et,number={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},alpha={...number,transform:s=>clamp$3(0,1,s)},scale$1={...number,default:1},createUnitType=s=>({test:a=>typeof a=="string"&&a.endsWith(s)&&a.split(" ").length===1,parse:parseFloat,transform:a=>`${a}${s}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:s=>percent.parse(s)/100,transform:s=>percent.transform(s*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(s,a,et){let nt="",at=!0;for(let mt=0;mt<numTransforms;mt++){const wt=transformPropOrder[mt],$t=s[wt];if($t===void 0)continue;let Ct=!0;if(typeof $t=="number"?Ct=$t===(wt.startsWith("scale")?1:0):Ct=parseFloat($t)===0,!Ct||et){const Dt=getValueAsType($t,numberValueTypes[wt]);if(!Ct){at=!1;const Ft=translateAlias[wt]||wt;nt+=`${Ft}(${Dt}) `}et&&(a[wt]=Dt)}}return nt=nt.trim(),et?nt=et(a,at?"":nt):at&&(nt="none"),nt}function buildHTMLStyles(s,a,et){const{style:nt,vars:at,transformOrigin:mt}=s;let wt=!1,$t=!1;for(const Ct in a){const Dt=a[Ct];if(transformProps.has(Ct)){wt=!0;continue}else if(isCSSVariableName(Ct)){at[Ct]=Dt;continue}else{const Ft=getValueAsType(Dt,numberValueTypes[Ct]);Ct.startsWith("origin")?($t=!0,mt[Ct]=Ft):nt[Ct]=Ft}}if(a.transform||(wt||et?nt.transform=buildTransform(a,s.transform,et):nt.transform&&(nt.transform="none")),$t){const{originX:Ct="50%",originY:Dt="50%",originZ:Ft=0}=mt;nt.transformOrigin=`${Ct} ${Dt} ${Ft}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(s,a,et=1,nt=0,at=!0){s.pathLength=1;const mt=at?dashKeys:camelKeys;s[mt.offset]=px.transform(-nt);const wt=px.transform(a),$t=px.transform(et);s[mt.array]=`${wt} ${$t}`}function calcOrigin$1(s,a,et){return typeof s=="string"?s:px.transform(a+et*s)}function calcSVGTransformOrigin(s,a,et){const nt=calcOrigin$1(a,s.x,s.width),at=calcOrigin$1(et,s.y,s.height);return`${nt} ${at}`}function buildSVGAttrs(s,{attrX:a,attrY:et,attrScale:nt,originX:at,originY:mt,pathLength:wt,pathSpacing:$t=1,pathOffset:Ct=0,...Dt},Ft,jt){if(buildHTMLStyles(s,Dt,jt),Ft){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:Nt,style:Lt,dimensions:Ut}=s;Nt.transform&&(Ut&&(Lt.transform=Nt.transform),delete Nt.transform),Ut&&(at!==void 0||mt!==void 0||Lt.transform)&&(Lt.transformOrigin=calcSVGTransformOrigin(Ut,at!==void 0?at:.5,mt!==void 0?mt:.5)),a!==void 0&&(Nt.x=a),et!==void 0&&(Nt.y=et),nt!==void 0&&(Nt.scale=nt),wt!==void 0&&buildSVGPath(Nt,wt,$t,Ct,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=s=>typeof s=="string"&&s.toLowerCase()==="svg";function renderHTML(s,{style:a,vars:et},nt,at){Object.assign(s.style,a,at&&at.getProjectionStyles(nt));for(const mt in et)s.style.setProperty(mt,et[mt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(s,a,et,nt){renderHTML(s,a,void 0,nt);for(const at in a.attrs)s.setAttribute(camelCaseAttributes.has(at)?at:camelToDash(at),a.attrs[at])}const scaleCorrectors={};function addScaleCorrector(s){Object.assign(scaleCorrectors,s)}function isForcedMotionValue(s,{layout:a,layoutId:et}){return transformProps.has(s)||s.startsWith("origin")||(a||et!==void 0)&&(!!scaleCorrectors[s]||s==="opacity")}function scrapeMotionValuesFromProps$1(s,a,et){var nt;const{style:at}=s,mt={};for(const wt in at)(isMotionValue(at[wt])||a.style&&isMotionValue(a.style[wt])||isForcedMotionValue(wt,s)||((nt=et==null?void 0:et.getValue(wt))===null||nt===void 0?void 0:nt.liveStyle)!==void 0)&&(mt[wt]=at[wt]);return mt}function scrapeMotionValuesFromProps(s,a,et){const nt=scrapeMotionValuesFromProps$1(s,a,et);for(const at in s)if(isMotionValue(s[at])||isMotionValue(a[at])){const mt=transformPropOrder.indexOf(at)!==-1?"attr"+at.charAt(0).toUpperCase()+at.substring(1):at;nt[mt]=s[at]}return nt}function updateSVGDimensions(s,a){try{a.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{a.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:s,prevProps:a,current:et,renderState:nt,latestValues:at})=>{if(!et)return;let mt=!!s.drag;if(!mt){for(const $t in at)if(transformProps.has($t)){mt=!0;break}}if(!mt)return;let wt=!a;if(a)for(let $t=0;$t<layoutProps.length;$t++){const Ct=layoutProps[$t];s[Ct]!==a[Ct]&&(wt=!0)}wt&&frame.read(()=>{updateSVGDimensions(et,nt),frame.render(()=>{buildSVGAttrs(nt,at,isSVGTag(et.tagName),s.transformTemplate),renderSVG(et,nt)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(s,a,et){for(const nt in a)!isMotionValue(a[nt])&&!isForcedMotionValue(nt,et)&&(s[nt]=a[nt])}function useInitialMotionValues({transformTemplate:s},a){return reactExports.useMemo(()=>{const et=createHtmlRenderState();return buildHTMLStyles(et,a,s),Object.assign({},et.vars,et.style)},[a])}function useStyle(s,a){const et=s.style||{},nt={};return copyRawValuesOnly(nt,et,s),Object.assign(nt,useInitialMotionValues(s,a)),nt}function useHTMLProps(s,a){const et={},nt=useStyle(s,a);return s.drag&&s.dragListener!==!1&&(et.draggable=!1,nt.userSelect=nt.WebkitUserSelect=nt.WebkitTouchCallout="none",nt.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(et.tabIndex=0),et.style=nt,et}function useSVGProps(s,a,et,nt){const at=reactExports.useMemo(()=>{const mt=createSvgRenderState();return buildSVGAttrs(mt,a,isSVGTag(nt),s.transformTemplate),{...mt.attrs,style:{...mt.style}}},[a]);if(s.style){const mt={};copyRawValuesOnly(mt,s.style,s),at.style={...mt,...at.style}}return at}function createUseRender(s=!1){return(et,nt,at,{latestValues:mt},wt)=>{const Ct=(isSVGComponent(et)?useSVGProps:useHTMLProps)(nt,mt,wt,et),Dt=filterProps(nt,typeof et=="string",s),Ft=et!==reactExports.Fragment?{...Dt,...Ct,ref:at}:{},{children:jt}=nt,Nt=reactExports.useMemo(()=>isMotionValue(jt)?jt.get():jt,[jt]);return reactExports.createElement(et,{...Ft,children:Nt})}}function createMotionComponentFactory(s,a){return function(nt,{forwardMotionProps:at}={forwardMotionProps:!1}){const wt={...isSVGComponent(nt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:s,useRender:createUseRender(at),createVisualElement:a,Component:nt};return createRendererMotionComponent(wt)}}function shallowCompare(s,a){if(!Array.isArray(a))return!1;const et=a.length;if(et!==s.length)return!1;for(let nt=0;nt<et;nt++)if(a[nt]!==s[nt])return!1;return!0}function resolveVariant(s,a,et){const nt=s.getProps();return resolveVariantFromProps(nt,a,et!==void 0?et:nt.custom,s)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(a){this.stop=()=>this.runAll("stop"),this.animations=a.filter(Boolean)}get finished(){return Promise.all(this.animations.map(a=>"finished"in a?a.finished:a))}getAll(a){return this.animations[0][a]}setAll(a,et){for(let nt=0;nt<this.animations.length;nt++)this.animations[nt][a]=et}attachTimeline(a,et){const nt=this.animations.map(at=>{if(supportsScrollTimeline()&&at.attachTimeline)return at.attachTimeline(a);if(typeof et=="function")return et(at)});return()=>{nt.forEach((at,mt)=>{at&&at(),this.animations[mt].stop()})}}get time(){return this.getAll("time")}set time(a){this.setAll("time",a)}get speed(){return this.getAll("speed")}set speed(a){this.setAll("speed",a)}get startTime(){return this.getAll("startTime")}get duration(){let a=0;for(let et=0;et<this.animations.length;et++)a=Math.max(a,this.animations[et].duration);return a}runAll(a){this.animations.forEach(et=>et[a]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(a,et){return Promise.all(this.animations).then(a).catch(et)}}function getValueTransition(s,a){return s?s[a]||s.default||s:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(s){let a=0;const et=50;let nt=s.next(a);for(;!nt.done&&a<maxGeneratorDuration;)a+=et,nt=s.next(a);return a>=maxGeneratorDuration?1/0:a}function isGenerator(s){return typeof s=="function"}function attachTimeline(s,a){s.timeline=a,s.onfinish=null}const isBezierDefinition=s=>Array.isArray(s)&&typeof s[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(s,a){const et=memo(s);return()=>{var nt;return(nt=supportsFlags[a])!==null&&nt!==void 0?nt:et()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(s,a,et=10)=>{let nt="";const at=Math.max(Math.round(a/et),2);for(let mt=0;mt<at;mt++)nt+=s(progress(0,at-1,mt))+", ";return`linear(${nt.substring(0,nt.length-2)})`};function isWaapiSupportedEasing(s){return!!(typeof s=="function"&&supportsLinearEasing()||!s||typeof s=="string"&&(s in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(s)||Array.isArray(s)&&s.every(isWaapiSupportedEasing))}const cubicBezierAsString=([s,a,et,nt])=>`cubic-bezier(${s}, ${a}, ${et}, ${nt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(s,a){if(s)return typeof s=="function"&&supportsLinearEasing()?generateLinearEasing(s,a):isBezierDefinition(s)?cubicBezierAsString(s):Array.isArray(s)?s.map(et=>mapEasingToNativeEasing(et,a)||supportedWaapiEasing.easeOut):supportedWaapiEasing[s]}const isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(s,a,et){var nt;if(s instanceof Element)return[s];if(typeof s=="string"){let at=document;const mt=(nt=void 0)!==null&&nt!==void 0?nt:at.querySelectorAll(s);return mt?Array.from(mt):[]}return Array.from(s)}function setupGesture(s,a){const et=resolveElements(s),nt=new AbortController,at={passive:!0,...a,signal:nt.signal};return[et,at,()=>nt.abort()]}function filterEvents$1(s){return a=>{a.pointerType==="touch"||isDragActive()||s(a)}}function hover(s,a,et={}){const[nt,at,mt]=setupGesture(s,et),wt=filterEvents$1($t=>{const{target:Ct}=$t,Dt=a($t);if(typeof Dt!="function"||!Ct)return;const Ft=filterEvents$1(jt=>{Dt(jt),Ct.removeEventListener("pointerleave",Ft)});Ct.addEventListener("pointerleave",Ft,at)});return nt.forEach($t=>{$t.addEventListener("pointerenter",wt,at)}),mt}const isNodeOrChild=(s,a)=>a?s===a?!0:isNodeOrChild(s,a.parentElement):!1,isPrimaryPointer=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(s){return focusableElements.has(s.tagName)||s.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(s){return a=>{a.key==="Enter"&&s(a)}}function firePointerEvent(s,a){s.dispatchEvent(new PointerEvent("pointer"+a,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(s,a)=>{const et=s.currentTarget;if(!et)return;const nt=filterEvents(()=>{if(isPressing.has(et))return;firePointerEvent(et,"down");const at=filterEvents(()=>{firePointerEvent(et,"up")}),mt=()=>firePointerEvent(et,"cancel");et.addEventListener("keyup",at,a),et.addEventListener("blur",mt,a)});et.addEventListener("keydown",nt,a),et.addEventListener("blur",()=>et.removeEventListener("keydown",nt),a)};function isValidPressEvent(s){return isPrimaryPointer(s)&&!isDragActive()}function press(s,a,et={}){const[nt,at,mt]=setupGesture(s,et),wt=$t=>{const Ct=$t.currentTarget;if(!isValidPressEvent($t)||isPressing.has(Ct))return;isPressing.add(Ct);const Dt=a($t),Ft=(Lt,Ut)=>{window.removeEventListener("pointerup",jt),window.removeEventListener("pointercancel",Nt),!(!isValidPressEvent(Lt)||!isPressing.has(Ct))&&(isPressing.delete(Ct),typeof Dt=="function"&&Dt(Lt,{success:Ut}))},jt=Lt=>{Ft(Lt,et.useGlobalTarget||isNodeOrChild(Ct,Lt.target))},Nt=Lt=>{Ft(Lt,!1)};window.addEventListener("pointerup",jt,at),window.addEventListener("pointercancel",Nt,at)};return nt.forEach($t=>{!isElementKeyboardAccessible($t)&&$t.getAttribute("tabindex")===null&&($t.tabIndex=0),(et.useGlobalTarget?window:$t).addEventListener("pointerdown",wt,at),$t.addEventListener("focus",Dt=>enableKeyboardPress(Dt,at),at)}),mt}function setDragLock(s){return s==="x"||s==="y"?isDragging[s]?null:(isDragging[s]=!0,()=>{isDragging[s]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:s=>{now=s,queueMicrotask(clearTime)}};function addUniqueItem(s,a){s.indexOf(a)===-1&&s.push(a)}function removeItem(s,a){const et=s.indexOf(a);et>-1&&s.splice(et,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(a){return addUniqueItem(this.subscriptions,a),()=>removeItem(this.subscriptions,a)}notify(a,et,nt){const at=this.subscriptions.length;if(at)if(at===1)this.subscriptions[0](a,et,nt);else for(let mt=0;mt<at;mt++){const wt=this.subscriptions[mt];wt&&wt(a,et,nt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(s,a){return a?s*(1e3/a):0}const MAX_VELOCITY_DELTA=30,isFloat=s=>!isNaN(parseFloat(s));class MotionValue{constructor(a,et={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(nt,at=!0)=>{const mt=time.now();this.updatedAt!==mt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(nt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),at&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(a),this.owner=et.owner}setCurrent(a){this.current=a,this.updatedAt=time.now(),this.canTrackVelocity===null&&a!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(a=this.current){this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt}onChange(a){return this.on("change",a)}on(a,et){this.events[a]||(this.events[a]=new SubscriptionManager);const nt=this.events[a].add(et);return a==="change"?()=>{nt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:nt}clearListeners(){for(const a in this.events)this.events[a].clear()}attach(a,et){this.passiveEffect=a,this.stopPassiveEffect=et}set(a,et=!0){!et||!this.passiveEffect?this.updateAndNotify(a,et):this.passiveEffect(a,this.updateAndNotify)}setWithVelocity(a,et,nt){this.set(et),this.prev=void 0,this.prevFrameValue=a,this.prevUpdatedAt=this.updatedAt-nt}jump(a,et=!0){this.updateAndNotify(a),this.prev=a,this.prevUpdatedAt=this.prevFrameValue=void 0,et&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const a=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||a-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const et=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),et)}start(a){return this.stop(),new Promise(et=>{this.hasAnimated=!0,this.animation=a(et),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(s,a){return new MotionValue(s,a)}function setMotionValue(s,a,et){s.hasValue(a)?s.getValue(a).set(et):s.addValue(a,motionValue(et))}function setTarget(s,a){const et=resolveVariant(s,a);let{transitionEnd:nt={},transition:at={},...mt}=et||{};mt={...mt,...nt};for(const wt in mt){const $t=resolveFinalValueInKeyframes(mt[wt]);setMotionValue(s,wt,$t)}}function isWillChangeMotionValue(s){return!!(isMotionValue(s)&&s.add)}function addValueToWillChange(s,a){const et=s.getValue("willChange");if(isWillChangeMotionValue(et))return et.add(a)}function getOptimisedAppearId(s){return s.props[optimizedAppearDataAttribute]}const calcBezier=(s,a,et)=>(((1-3*et+3*a)*s+(3*et-6*a))*s+3*a)*s,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(s,a,et,nt,at){let mt,wt,$t=0;do wt=a+(et-a)/2,mt=calcBezier(wt,nt,at)-s,mt>0?et=wt:a=wt;while(Math.abs(mt)>subdivisionPrecision&&++$t<subdivisionMaxIterations);return wt}function cubicBezier(s,a,et,nt){if(s===a&&et===nt)return noop$2;const at=mt=>binarySubdivide(mt,0,1,s,et);return mt=>mt===0||mt===1?mt:calcBezier(at(mt),a,nt)}const mirrorEasing=s=>a=>a<=.5?s(2*a)/2:(2-s(2*(1-a)))/2,reverseEasing=s=>a=>1-s(1-a),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=s=>(s*=2)<1?.5*backIn(s):.5*(2-Math.pow(2,-10*(s-1))),circIn=s=>1-Math.sin(Math.acos(s)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=s=>/^0[^.\s]+$/u.test(s);function isNone(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||isZeroValueString(s):!0}const sanitize=s=>Math.round(s*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(s){return s==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(s,a)=>et=>!!(typeof et=="string"&&singleColorRegex.test(et)&&et.startsWith(s)||a&&!isNullish(et)&&Object.prototype.hasOwnProperty.call(et,a)),splitColor=(s,a,et)=>nt=>{if(typeof nt!="string")return nt;const[at,mt,wt,$t]=nt.match(floatRegex);return{[s]:parseFloat(at),[a]:parseFloat(mt),[et]:parseFloat(wt),alpha:$t!==void 0?parseFloat($t):1}},clampRgbUnit=s=>clamp$3(0,255,s),rgbUnit={...number,transform:s=>Math.round(clampRgbUnit(s))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:s,green:a,blue:et,alpha:nt=1})=>"rgba("+rgbUnit.transform(s)+", "+rgbUnit.transform(a)+", "+rgbUnit.transform(et)+", "+sanitize(alpha.transform(nt))+")"};function parseHex(s){let a="",et="",nt="",at="";return s.length>5?(a=s.substring(1,3),et=s.substring(3,5),nt=s.substring(5,7),at=s.substring(7,9)):(a=s.substring(1,2),et=s.substring(2,3),nt=s.substring(3,4),at=s.substring(4,5),a+=a,et+=et,nt+=nt,at+=at),{red:parseInt(a,16),green:parseInt(et,16),blue:parseInt(nt,16),alpha:at?parseInt(at,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:s,saturation:a,lightness:et,alpha:nt=1})=>"hsla("+Math.round(s)+", "+percent.transform(sanitize(a))+", "+percent.transform(sanitize(et))+", "+sanitize(alpha.transform(nt))+")"},color={test:s=>rgba.test(s)||hex.test(s)||hsla.test(s),parse:s=>rgba.test(s)?rgba.parse(s):hsla.test(s)?hsla.parse(s):hex.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?rgba.transform(s):hsla.transform(s)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(s){var a,et;return isNaN(s)&&typeof s=="string"&&(((a=s.match(floatRegex))===null||a===void 0?void 0:a.length)||0)+(((et=s.match(colorRegex))===null||et===void 0?void 0:et.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(s){const a=s.toString(),et=[],nt={color:[],number:[],var:[]},at=[];let mt=0;const $t=a.replace(complexRegex,Ct=>(color.test(Ct)?(nt.color.push(mt),at.push(COLOR_TOKEN),et.push(color.parse(Ct))):Ct.startsWith(VAR_FUNCTION_TOKEN)?(nt.var.push(mt),at.push(VAR_TOKEN),et.push(Ct)):(nt.number.push(mt),at.push(NUMBER_TOKEN),et.push(parseFloat(Ct))),++mt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:et,split:$t,indexes:nt,types:at}}function parseComplexValue(s){return analyseComplexValue(s).values}function createTransformer(s){const{split:a,types:et}=analyseComplexValue(s),nt=a.length;return at=>{let mt="";for(let wt=0;wt<nt;wt++)if(mt+=a[wt],at[wt]!==void 0){const $t=et[wt];$t===NUMBER_TOKEN?mt+=sanitize(at[wt]):$t===COLOR_TOKEN?mt+=color.transform(at[wt]):mt+=at[wt]}return mt}}const convertNumbersToZero=s=>typeof s=="number"?0:s;function getAnimatableNone$1(s){const a=parseComplexValue(s);return createTransformer(s)(a.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(s){const[a,et]=s.slice(0,-1).split("(");if(a==="drop-shadow")return s;const[nt]=et.match(floatRegex)||[];if(!nt)return s;const at=et.replace(nt,"");let mt=maxDefaults.has(a)?1:0;return nt!==et&&(mt*=100),a+"("+mt+at+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:s=>{const a=s.match(functionRegex);return a?a.map(applyDefaultFilter).join(" "):s}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=s=>defaultValueTypes[s];function getAnimatableNone(s,a){let et=getDefaultValueType(s);return et!==filter&&(et=complex),et.getAnimatableNone?et.getAnimatableNone(a):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(s,a,et){let nt=0,at;for(;nt<s.length&&!at;){const mt=s[nt];typeof mt=="string"&&!invalidTemplates.has(mt)&&analyseComplexValue(mt).values.length&&(at=s[nt]),nt++}if(at&&et)for(const mt of a)s[mt]=getAnimatableNone(et,at)}const isNumOrPxType=s=>s===number||s===px,getPosFromMatrix=(s,a)=>parseFloat(s.split(", ")[a]),getTranslateFromMatrix=(s,a)=>(et,{transform:nt})=>{if(nt==="none"||!nt)return 0;const at=nt.match(/^matrix3d\((.+)\)$/u);if(at)return getPosFromMatrix(at[1],a);{const mt=nt.match(/^matrix\((.+)\)$/u);return mt?getPosFromMatrix(mt[1],s):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(s=>!transformKeys.has(s));function removeNonTranslationalTransform(s){const a=[];return nonTranslationalTransformKeys.forEach(et=>{const nt=s.getValue(et);nt!==void 0&&(a.push([et,nt.get()]),nt.set(et.startsWith("scale")?1:0))}),a}const positionalValues={width:({x:s},{paddingLeft:a="0",paddingRight:et="0"})=>s.max-s.min-parseFloat(a)-parseFloat(et),height:({y:s},{paddingTop:a="0",paddingBottom:et="0"})=>s.max-s.min-parseFloat(a)-parseFloat(et),top:(s,{top:a})=>parseFloat(a),left:(s,{left:a})=>parseFloat(a),bottom:({y:s},{top:a})=>parseFloat(a)+(s.max-s.min),right:({x:s},{left:a})=>parseFloat(a)+(s.max-s.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const s=Array.from(toResolve).filter(nt=>nt.needsMeasurement),a=new Set(s.map(nt=>nt.element)),et=new Map;a.forEach(nt=>{const at=removeNonTranslationalTransform(nt);at.length&&(et.set(nt,at),nt.render())}),s.forEach(nt=>nt.measureInitialState()),a.forEach(nt=>{nt.render();const at=et.get(nt);at&&at.forEach(([mt,wt])=>{var $t;($t=nt.getValue(mt))===null||$t===void 0||$t.set(wt)})}),s.forEach(nt=>nt.measureEndState()),s.forEach(nt=>{nt.suspendedScrollY!==void 0&&window.scrollTo(0,nt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(s=>s.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(a,et,nt,at,mt,wt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...a],this.onComplete=et,this.name=nt,this.motionValue=at,this.element=mt,this.isAsync=wt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:a,name:et,element:nt,motionValue:at}=this;for(let mt=0;mt<a.length;mt++)if(a[mt]===null)if(mt===0){const wt=at==null?void 0:at.get(),$t=a[a.length-1];if(wt!==void 0)a[0]=wt;else if(nt&&et){const Ct=nt.readValue(et,$t);Ct!=null&&(a[0]=Ct)}a[0]===void 0&&(a[0]=$t),at&&wt===void 0&&at.set(a[0])}else a[mt]=a[mt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(s){const a=splitCSSVariableRegex.exec(s);if(!a)return[,];const[,et,nt,at]=a;return[`--${et??nt}`,at]}function getVariableValue(s,a,et=1){const[nt,at]=parseCSSVariable(s);if(!nt)return;const mt=window.getComputedStyle(a).getPropertyValue(nt);if(mt){const wt=mt.trim();return isNumericalString(wt)?parseFloat(wt):wt}return isCSSVariableToken(at)?getVariableValue(at,a,et+1):at}const testValueType=s=>a=>a.test(s),auto$1={test:s=>s==="auto",parse:s=>s},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto$1],findDimensionValueType=s=>dimensionValueTypes.find(testValueType(s));class DOMKeyframesResolver extends KeyframeResolver{constructor(a,et,nt,at,mt){super(a,et,nt,at,mt,!0)}readKeyframes(){const{unresolvedKeyframes:a,element:et,name:nt}=this;if(!et||!et.current)return;super.readKeyframes();for(let Ct=0;Ct<a.length;Ct++){let Dt=a[Ct];if(typeof Dt=="string"&&(Dt=Dt.trim(),isCSSVariableToken(Dt))){const Ft=getVariableValue(Dt,et.current);Ft!==void 0&&(a[Ct]=Ft),Ct===a.length-1&&(this.finalKeyframe=Dt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(nt)||a.length!==2)return;const[at,mt]=a,wt=findDimensionValueType(at),$t=findDimensionValueType(mt);if(wt!==$t)if(isNumOrPxType(wt)&&isNumOrPxType($t))for(let Ct=0;Ct<a.length;Ct++){const Dt=a[Ct];typeof Dt=="string"&&(a[Ct]=parseFloat(Dt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:a,name:et}=this,nt=[];for(let at=0;at<a.length;at++)isNone(a[at])&&nt.push(at);nt.length&&makeNoneKeyframesAnimatable(a,nt,et)}measureInitialState(){const{element:a,unresolvedKeyframes:et,name:nt}=this;if(!a||!a.current)return;nt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[nt](a.measureViewportBox(),window.getComputedStyle(a.current)),et[0]=this.measuredOrigin;const at=et[et.length-1];at!==void 0&&a.getValue(nt,at).jump(at,!1)}measureEndState(){var a;const{element:et,name:nt,unresolvedKeyframes:at}=this;if(!et||!et.current)return;const mt=et.getValue(nt);mt&&mt.jump(this.measuredOrigin,!1);const wt=at.length-1,$t=at[wt];at[wt]=positionalValues[nt](et.measureViewportBox(),window.getComputedStyle(et.current)),$t!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=$t),!((a=this.removedTransforms)===null||a===void 0)&&a.length&&this.removedTransforms.forEach(([Ct,Dt])=>{et.getValue(Ct).set(Dt)}),this.resolveNoneKeyframes()}}const isAnimatable=(s,a)=>a==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(complex.test(s)||s==="0")&&!s.startsWith("url("));function hasKeyframesChanged(s){const a=s[0];if(s.length===1)return!0;for(let et=0;et<s.length;et++)if(s[et]!==a)return!0}function canAnimate(s,a,et,nt){const at=s[0];if(at===null)return!1;if(a==="display"||a==="visibility")return!0;const mt=s[s.length-1],wt=isAnimatable(at,a),$t=isAnimatable(mt,a);return!wt||!$t?!1:hasKeyframesChanged(s)||(et==="spring"||isGenerator(et))&&nt}const isNotNull=s=>s!==null;function getFinalKeyframe(s,{repeat:a,repeatType:et="loop"},nt){const at=s.filter(isNotNull),mt=a&&et!=="loop"&&a%2===1?0:at.length-1;return!mt||nt===void 0?at[mt]:nt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:a=!0,delay:et=0,type:nt="keyframes",repeat:at=0,repeatDelay:mt=0,repeatType:wt="loop",...$t}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:a,delay:et,type:nt,repeat:at,repeatDelay:mt,repeatType:wt,...$t},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(a,et){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:nt,type:at,velocity:mt,delay:wt,onComplete:$t,onUpdate:Ct,isGenerator:Dt}=this.options;if(!Dt&&!canAnimate(a,nt,at,mt))if(wt)this.options.duration=0;else{Ct&&Ct(getFinalKeyframe(a,this.options,et)),$t&&$t(),this.resolveFinishedPromise();return}const Ft=this.initPlayback(a,et);Ft!==!1&&(this._resolved={keyframes:a,finalKeyframe:et,...Ft},this.onPostResolved())}onPostResolved(){}then(a,et){return this.currentFinishedPromise.then(a,et)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(a=>{this.resolveFinishedPromise=a})}}const mixNumber$1=(s,a,et)=>s+(a-s)*et;function hueToRgb(s,a,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?s+(a-s)*6*et:et<1/2?a:et<2/3?s+(a-s)*(2/3-et)*6:s}function hslaToRgba({hue:s,saturation:a,lightness:et,alpha:nt}){s/=360,a/=100,et/=100;let at=0,mt=0,wt=0;if(!a)at=mt=wt=et;else{const $t=et<.5?et*(1+a):et+a-et*a,Ct=2*et-$t;at=hueToRgb(Ct,$t,s+1/3),mt=hueToRgb(Ct,$t,s),wt=hueToRgb(Ct,$t,s-1/3)}return{red:Math.round(at*255),green:Math.round(mt*255),blue:Math.round(wt*255),alpha:nt}}function mixImmediate(s,a){return et=>et>0?a:s}const mixLinearColor=(s,a,et)=>{const nt=s*s,at=et*(a*a-nt)+nt;return at<0?0:Math.sqrt(at)},colorTypes=[hex,rgba,hsla],getColorType=s=>colorTypes.find(a=>a.test(s));function asRGBA(s){const a=getColorType(s);if(!a)return!1;let et=a.parse(s);return a===hsla&&(et=hslaToRgba(et)),et}const mixColor=(s,a)=>{const et=asRGBA(s),nt=asRGBA(a);if(!et||!nt)return mixImmediate(s,a);const at={...et};return mt=>(at.red=mixLinearColor(et.red,nt.red,mt),at.green=mixLinearColor(et.green,nt.green,mt),at.blue=mixLinearColor(et.blue,nt.blue,mt),at.alpha=mixNumber$1(et.alpha,nt.alpha,mt),rgba.transform(at))},combineFunctions=(s,a)=>et=>a(s(et)),pipe$1=(...s)=>s.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(s,a){return invisibleValues.has(s)?et=>et<=0?s:a:et=>et>=1?a:s}function mixNumber(s,a){return et=>mixNumber$1(s,a,et)}function getMixer(s){return typeof s=="number"?mixNumber:typeof s=="string"?isCSSVariableToken(s)?mixImmediate:color.test(s)?mixColor:mixComplex:Array.isArray(s)?mixArray:typeof s=="object"?color.test(s)?mixColor:mixObject:mixImmediate}function mixArray(s,a){const et=[...s],nt=et.length,at=s.map((mt,wt)=>getMixer(mt)(mt,a[wt]));return mt=>{for(let wt=0;wt<nt;wt++)et[wt]=at[wt](mt);return et}}function mixObject(s,a){const et={...s,...a},nt={};for(const at in et)s[at]!==void 0&&a[at]!==void 0&&(nt[at]=getMixer(s[at])(s[at],a[at]));return at=>{for(const mt in nt)et[mt]=nt[mt](at);return et}}function matchOrder(s,a){var et;const nt=[],at={color:0,var:0,number:0};for(let mt=0;mt<a.values.length;mt++){const wt=a.types[mt],$t=s.indexes[wt][at[wt]],Ct=(et=s.values[$t])!==null&&et!==void 0?et:0;nt[mt]=Ct,at[wt]++}return nt}const mixComplex=(s,a)=>{const et=complex.createTransformer(a),nt=analyseComplexValue(s),at=analyseComplexValue(a);return nt.indexes.var.length===at.indexes.var.length&&nt.indexes.color.length===at.indexes.color.length&&nt.indexes.number.length>=at.indexes.number.length?invisibleValues.has(s)&&!at.values.length||invisibleValues.has(a)&&!nt.values.length?mixVisibility(s,a):pipe$1(mixArray(matchOrder(nt,at),at.values),et):mixImmediate(s,a)};function mix(s,a,et){return typeof s=="number"&&typeof a=="number"&&typeof et=="number"?mixNumber$1(s,a,et):getMixer(s)(s,a)}const velocitySampleDuration=5;function calcGeneratorVelocity(s,a,et){const nt=Math.max(a-velocitySampleDuration,0);return velocityPerSecond(et-s(nt),a-nt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:s=springDefaults.duration,bounce:a=springDefaults.bounce,velocity:et=springDefaults.velocity,mass:nt=springDefaults.mass}){let at,mt,wt=1-a;wt=clamp$3(springDefaults.minDamping,springDefaults.maxDamping,wt),s=clamp$3(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(s)),wt<1?(at=Dt=>{const Ft=Dt*wt,jt=Ft*s,Nt=Ft-et,Lt=calcAngularFreq(Dt,wt),Ut=Math.exp(-jt);return safeMin-Nt/Lt*Ut},mt=Dt=>{const jt=Dt*wt*s,Nt=jt*et+et,Lt=Math.pow(wt,2)*Math.pow(Dt,2)*s,Ut=Math.exp(-jt),Vt=calcAngularFreq(Math.pow(Dt,2),wt);return(-at(Dt)+safeMin>0?-1:1)*((Nt-Lt)*Ut)/Vt}):(at=Dt=>{const Ft=Math.exp(-Dt*s),jt=(Dt-et)*s+1;return-.001+Ft*jt},mt=Dt=>{const Ft=Math.exp(-Dt*s),jt=(et-Dt)*(s*s);return Ft*jt});const $t=5/s,Ct=approximateRoot(at,mt,$t);if(s=secondsToMilliseconds(s),isNaN(Ct))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:s};{const Dt=Math.pow(Ct,2)*nt;return{stiffness:Dt,damping:wt*2*Math.sqrt(nt*Dt),duration:s}}}const rootIterations=12;function approximateRoot(s,a,et){let nt=et;for(let at=1;at<rootIterations;at++)nt=nt-s(nt)/a(nt);return nt}function calcAngularFreq(s,a){return s*Math.sqrt(1-a*a)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(s,a){return a.some(et=>s[et]!==void 0)}function getSpringOptions(s){let a={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...s};if(!isSpringType(s,physicsKeys)&&isSpringType(s,durationKeys))if(s.visualDuration){const et=s.visualDuration,nt=2*Math.PI/(et*1.2),at=nt*nt,mt=2*clamp$3(.05,1,1-(s.bounce||0))*Math.sqrt(at);a={...a,mass:springDefaults.mass,stiffness:at,damping:mt}}else{const et=findSpring(s);a={...a,...et,mass:springDefaults.mass},a.isResolvedFromDuration=!0}return a}function spring(s=springDefaults.visualDuration,a=springDefaults.bounce){const et=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:a}:s;let{restSpeed:nt,restDelta:at}=et;const mt=et.keyframes[0],wt=et.keyframes[et.keyframes.length-1],$t={done:!1,value:mt},{stiffness:Ct,damping:Dt,mass:Ft,duration:jt,velocity:Nt,isResolvedFromDuration:Lt}=getSpringOptions({...et,velocity:-millisecondsToSeconds(et.velocity||0)}),Ut=Nt||0,Vt=Dt/(2*Math.sqrt(Ct*Ft)),Yt=wt-mt,er=millisecondsToSeconds(Math.sqrt(Ct/Ft)),tr=Math.abs(Yt)<5;nt||(nt=tr?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),at||(at=tr?springDefaults.restDelta.granular:springDefaults.restDelta.default);let nr;if(Vt<1){const dr=calcAngularFreq(er,Vt);nr=br=>{const vr=Math.exp(-Vt*er*br);return wt-vr*((Ut+Vt*er*Yt)/dr*Math.sin(dr*br)+Yt*Math.cos(dr*br))}}else if(Vt===1)nr=dr=>wt-Math.exp(-er*dr)*(Yt+(Ut+er*Yt)*dr);else{const dr=er*Math.sqrt(Vt*Vt-1);nr=br=>{const vr=Math.exp(-Vt*er*br),yr=Math.min(dr*br,300);return wt-vr*((Ut+Vt*er*Yt)*Math.sinh(yr)+dr*Yt*Math.cosh(yr))/dr}}const sr={calculatedDuration:Lt&&jt||null,next:dr=>{const br=nr(dr);if(Lt)$t.done=dr>=jt;else{let vr=0;Vt<1&&(vr=dr===0?secondsToMilliseconds(Ut):calcGeneratorVelocity(nr,dr,br));const yr=Math.abs(vr)<=nt,$r=Math.abs(wt-br)<=at;$t.done=yr&&$r}return $t.value=$t.done?wt:br,$t},toString:()=>{const dr=Math.min(calcGeneratorDuration(sr),maxGeneratorDuration),br=generateLinearEasing(vr=>sr.next(dr*vr).value,dr,30);return dr+"ms "+br}};return sr}function inertia({keyframes:s,velocity:a=0,power:et=.8,timeConstant:nt=325,bounceDamping:at=10,bounceStiffness:mt=500,modifyTarget:wt,min:$t,max:Ct,restDelta:Dt=.5,restSpeed:Ft}){const jt=s[0],Nt={done:!1,value:jt},Lt=yr=>$t!==void 0&&yr<$t||Ct!==void 0&&yr>Ct,Ut=yr=>$t===void 0?Ct:Ct===void 0||Math.abs($t-yr)<Math.abs(Ct-yr)?$t:Ct;let Vt=et*a;const Yt=jt+Vt,er=wt===void 0?Yt:wt(Yt);er!==Yt&&(Vt=er-jt);const tr=yr=>-Vt*Math.exp(-yr/nt),nr=yr=>er+tr(yr),sr=yr=>{const $r=tr(yr),Sr=nr(yr);Nt.done=Math.abs($r)<=Dt,Nt.value=Nt.done?er:Sr};let dr,br;const vr=yr=>{Lt(Nt.value)&&(dr=yr,br=spring({keyframes:[Nt.value,Ut(Nt.value)],velocity:calcGeneratorVelocity(nr,yr,Nt.value),damping:at,stiffness:mt,restDelta:Dt,restSpeed:Ft}))};return vr(0),{calculatedDuration:null,next:yr=>{let $r=!1;return!br&&dr===void 0&&($r=!0,sr(yr),vr(yr)),dr!==void 0&&yr>=dr?br.next(yr-dr):(!$r&&sr(yr),Nt)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=s=>Array.isArray(s)&&typeof s[0]!="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=s=>{if(isBezierDefinition(s)){invariant$N(s.length===4);const[a,et,nt,at]=s;return cubicBezier(a,et,nt,at)}else if(typeof s=="string")return easingLookup[s];return s};function createMixers(s,a,et){const nt=[],at=et||mix,mt=s.length-1;for(let wt=0;wt<mt;wt++){let $t=at(s[wt],s[wt+1]);if(a){const Ct=Array.isArray(a)?a[wt]||noop$2:a;$t=pipe$1(Ct,$t)}nt.push($t)}return nt}function interpolate(s,a,{clamp:et=!0,ease:nt,mixer:at}={}){const mt=s.length;if(invariant$N(mt===a.length),mt===1)return()=>a[0];if(mt===2&&a[0]===a[1])return()=>a[1];const wt=s[0]===s[1];s[0]>s[mt-1]&&(s=[...s].reverse(),a=[...a].reverse());const $t=createMixers(a,nt,at),Ct=$t.length,Dt=Ft=>{if(wt&&Ft<s[0])return a[0];let jt=0;if(Ct>1)for(;jt<s.length-2&&!(Ft<s[jt+1]);jt++);const Nt=progress(s[jt],s[jt+1],Ft);return $t[jt](Nt)};return et?Ft=>Dt(clamp$3(s[0],s[mt-1],Ft)):Dt}function fillOffset(s,a){const et=s[s.length-1];for(let nt=1;nt<=a;nt++){const at=progress(0,a,nt);s.push(mixNumber$1(et,1,at))}}function defaultOffset(s){const a=[0];return fillOffset(a,s.length-1),a}function convertOffsetToTimes(s,a){return s.map(et=>et*a)}function defaultEasing(s,a){return s.map(()=>a||easeInOut).splice(0,s.length-1)}function keyframes({duration:s=300,keyframes:a,times:et,ease:nt="easeInOut"}){const at=isEasingArray(nt)?nt.map(easingDefinitionToFunction):easingDefinitionToFunction(nt),mt={done:!1,value:a[0]},wt=convertOffsetToTimes(et&&et.length===a.length?et:defaultOffset(a),s),$t=interpolate(wt,a,{ease:Array.isArray(at)?at:defaultEasing(a,at)});return{calculatedDuration:s,next:Ct=>(mt.value=$t(Ct),mt.done=Ct>=s,mt)}}const frameloopDriver=s=>{const a=({timestamp:et})=>s(et);return{start:()=>frame.update(a,!0),stop:()=>cancelFrame(a),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=s=>s/100;class MainThreadAnimation extends BaseAnimation{constructor(a){super(a),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Ct}=this.options;Ct&&Ct()};const{name:et,motionValue:nt,element:at,keyframes:mt}=this.options,wt=(at==null?void 0:at.KeyframeResolver)||KeyframeResolver,$t=(Ct,Dt)=>this.onKeyframesResolved(Ct,Dt);this.resolver=new wt(mt,$t,et,nt,at),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(a){const{type:et="keyframes",repeat:nt=0,repeatDelay:at=0,repeatType:mt,velocity:wt=0}=this.options,$t=isGenerator(et)?et:generators[et]||keyframes;let Ct,Dt;$t!==keyframes&&typeof a[0]!="number"&&(Ct=pipe$1(percentToProgress,mix(a[0],a[1])),a=[0,100]);const Ft=$t({...this.options,keyframes:a});mt==="mirror"&&(Dt=$t({...this.options,keyframes:[...a].reverse(),velocity:-wt})),Ft.calculatedDuration===null&&(Ft.calculatedDuration=calcGeneratorDuration(Ft));const{calculatedDuration:jt}=Ft,Nt=jt+at,Lt=Nt*(nt+1)-at;return{generator:Ft,mirroredGenerator:Dt,mapPercentToKeyframes:Ct,calculatedDuration:jt,resolvedDuration:Nt,totalDuration:Lt}}onPostResolved(){const{autoplay:a=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!a?this.pause():this.state=this.pendingPlayState}tick(a,et=!1){const{resolved:nt}=this;if(!nt){const{keyframes:yr}=this.options;return{done:!0,value:yr[yr.length-1]}}const{finalKeyframe:at,generator:mt,mirroredGenerator:wt,mapPercentToKeyframes:$t,keyframes:Ct,calculatedDuration:Dt,totalDuration:Ft,resolvedDuration:jt}=nt;if(this.startTime===null)return mt.next(0);const{delay:Nt,repeat:Lt,repeatType:Ut,repeatDelay:Vt,onUpdate:Yt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,a):this.speed<0&&(this.startTime=Math.min(a-Ft/this.speed,this.startTime)),et?this.currentTime=a:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(a-this.startTime)*this.speed;const er=this.currentTime-Nt*(this.speed>=0?1:-1),tr=this.speed>=0?er<0:er>Ft;this.currentTime=Math.max(er,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Ft);let nr=this.currentTime,sr=mt;if(Lt){const yr=Math.min(this.currentTime,Ft)/jt;let $r=Math.floor(yr),Sr=yr%1;!Sr&&yr>=1&&(Sr=1),Sr===1&&$r--,$r=Math.min($r,Lt+1),!!($r%2)&&(Ut==="reverse"?(Sr=1-Sr,Vt&&(Sr-=Vt/jt)):Ut==="mirror"&&(sr=wt)),nr=clamp$3(0,1,Sr)*jt}const dr=tr?{done:!1,value:Ct[0]}:sr.next(nr);$t&&(dr.value=$t(dr.value));let{done:br}=dr;!tr&&Dt!==null&&(br=this.speed>=0?this.currentTime>=Ft:this.currentTime<=0);const vr=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&br);return vr&&at!==void 0&&(dr.value=getFinalKeyframe(Ct,this.options,at)),Yt&&Yt(dr.value),vr&&this.finish(),dr}get duration(){const{resolved:a}=this;return a?millisecondsToSeconds(a.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(a){a=secondsToMilliseconds(a),this.currentTime=a,this.holdTime!==null||this.speed===0?this.holdTime=a:this.driver&&(this.startTime=this.driver.now()-a/this.speed)}get speed(){return this.playbackSpeed}set speed(a){const et=this.playbackSpeed!==a;this.playbackSpeed=a,et&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:a=frameloopDriver,onPlay:et,startTime:nt}=this.options;this.driver||(this.driver=a(mt=>this.tick(mt))),et&&et();const at=this.driver.now();this.holdTime!==null?this.startTime=at-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=at):this.startTime=nt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var a;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(a=this.currentTime)!==null&&a!==void 0?a:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:a}=this.options;a&&a()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(a){return this.startTime=0,this.tick(a,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(s,a,et,{delay:nt=0,duration:at=300,repeat:mt=0,repeatType:wt="loop",ease:$t="easeInOut",times:Ct}={}){const Dt={[a]:et};Ct&&(Dt.offset=Ct);const Ft=mapEasingToNativeEasing($t,at);return Array.isArray(Ft)&&(Dt.easing=Ft),s.animate(Dt,{delay:nt,duration:at,easing:Array.isArray(Ft)?"linear":Ft,fill:"both",iterations:mt+1,direction:wt==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(s){return isGenerator(s.type)||s.type==="spring"||!isWaapiSupportedEasing(s.ease)}function pregenerateKeyframes(s,a){const et=new MainThreadAnimation({...a,keyframes:s,repeat:0,delay:0,isGenerator:!0});let nt={done:!1,value:s[0]};const at=[];let mt=0;for(;!nt.done&&mt<maxDuration;)nt=et.sample(mt),at.push(nt.value),mt+=sampleDelta;return{times:void 0,keyframes:at,duration:mt-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(s){return s in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(a){super(a);const{name:et,motionValue:nt,element:at,keyframes:mt}=this.options;this.resolver=new DOMKeyframesResolver(mt,(wt,$t)=>this.onKeyframesResolved(wt,$t),et,nt,at),this.resolver.scheduleResolve()}initPlayback(a,et){let{duration:nt=300,times:at,ease:mt,type:wt,motionValue:$t,name:Ct,startTime:Dt}=this.options;if(!$t.owner||!$t.owner.current)return!1;if(typeof mt=="string"&&supportsLinearEasing()&&isUnsupportedEase(mt)&&(mt=unsupportedEasingFunctions[mt]),requiresPregeneratedKeyframes(this.options)){const{onComplete:jt,onUpdate:Nt,motionValue:Lt,element:Ut,...Vt}=this.options,Yt=pregenerateKeyframes(a,Vt);a=Yt.keyframes,a.length===1&&(a[1]=a[0]),nt=Yt.duration,at=Yt.times,mt=Yt.ease,wt="keyframes"}const Ft=startWaapiAnimation($t.owner.current,Ct,a,{...this.options,duration:nt,times:at,ease:mt});return Ft.startTime=Dt??this.calcStartTime(),this.pendingTimeline?(attachTimeline(Ft,this.pendingTimeline),this.pendingTimeline=void 0):Ft.onfinish=()=>{const{onComplete:jt}=this.options;$t.set(getFinalKeyframe(a,this.options,et)),jt&&jt(),this.cancel(),this.resolveFinishedPromise()},{animation:Ft,duration:nt,times:at,type:wt,ease:mt,keyframes:a}}get duration(){const{resolved:a}=this;if(!a)return 0;const{duration:et}=a;return millisecondsToSeconds(et)}get time(){const{resolved:a}=this;if(!a)return 0;const{animation:et}=a;return millisecondsToSeconds(et.currentTime||0)}set time(a){const{resolved:et}=this;if(!et)return;const{animation:nt}=et;nt.currentTime=secondsToMilliseconds(a)}get speed(){const{resolved:a}=this;if(!a)return 1;const{animation:et}=a;return et.playbackRate}set speed(a){const{resolved:et}=this;if(!et)return;const{animation:nt}=et;nt.playbackRate=a}get state(){const{resolved:a}=this;if(!a)return"idle";const{animation:et}=a;return et.playState}get startTime(){const{resolved:a}=this;if(!a)return null;const{animation:et}=a;return et.startTime}attachTimeline(a){if(!this._resolved)this.pendingTimeline=a;else{const{resolved:et}=this;if(!et)return noop$2;const{animation:nt}=et;attachTimeline(nt,a)}return noop$2}play(){if(this.isStopped)return;const{resolved:a}=this;if(!a)return;const{animation:et}=a;et.playState==="finished"&&this.updateFinishedPromise(),et.play()}pause(){const{resolved:a}=this;if(!a)return;const{animation:et}=a;et.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:a}=this;if(!a)return;const{animation:et,keyframes:nt,duration:at,type:mt,ease:wt,times:$t}=a;if(et.playState==="idle"||et.playState==="finished")return;if(this.time){const{motionValue:Dt,onUpdate:Ft,onComplete:jt,element:Nt,...Lt}=this.options,Ut=new MainThreadAnimation({...Lt,keyframes:nt,duration:at,type:mt,ease:wt,times:$t,isGenerator:!0}),Vt=secondsToMilliseconds(this.time);Dt.setWithVelocity(Ut.sample(Vt-sampleDelta).value,Ut.sample(Vt).value,sampleDelta)}const{onStop:Ct}=this.options;Ct&&Ct(),this.cancel()}complete(){const{resolved:a}=this;a&&a.animation.finish()}cancel(){const{resolved:a}=this;a&&a.animation.cancel()}static supports(a){const{motionValue:et,name:nt,repeatDelay:at,repeatType:mt,damping:wt,type:$t}=a;if(!et||!et.owner||!(et.owner.current instanceof HTMLElement))return!1;const{onUpdate:Ct,transformTemplate:Dt}=et.owner.getProps();return supportsWaapi()&&nt&&acceleratedValues.has(nt)&&!Ct&&!Dt&&!at&&mt!=="mirror"&&wt!==0&&$t!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(s,{keyframes:a})=>a.length>2?keyframesTransition:transformProps.has(s)?s.startsWith("scale")?criticallyDampedSpring(a[1]):underDampedSpring:ease;function isTransitionDefined({when:s,delay:a,delayChildren:et,staggerChildren:nt,staggerDirection:at,repeat:mt,repeatType:wt,repeatDelay:$t,from:Ct,elapsed:Dt,...Ft}){return!!Object.keys(Ft).length}const animateMotionValue=(s,a,et,nt={},at,mt)=>wt=>{const $t=getValueTransition(nt,s)||{},Ct=$t.delay||nt.delay||0;let{elapsed:Dt=0}=nt;Dt=Dt-secondsToMilliseconds(Ct);let Ft={keyframes:Array.isArray(et)?et:[null,et],ease:"easeOut",velocity:a.getVelocity(),...$t,delay:-Dt,onUpdate:Nt=>{a.set(Nt),$t.onUpdate&&$t.onUpdate(Nt)},onComplete:()=>{wt(),$t.onComplete&&$t.onComplete()},name:s,motionValue:a,element:mt?void 0:at};isTransitionDefined($t)||(Ft={...Ft,...getDefaultTransition(s,Ft)}),Ft.duration&&(Ft.duration=secondsToMilliseconds(Ft.duration)),Ft.repeatDelay&&(Ft.repeatDelay=secondsToMilliseconds(Ft.repeatDelay)),Ft.from!==void 0&&(Ft.keyframes[0]=Ft.from);let jt=!1;if((Ft.type===!1||Ft.duration===0&&!Ft.repeatDelay)&&(Ft.duration=0,Ft.delay===0&&(jt=!0)),jt&&!mt&&a.get()!==void 0){const Nt=getFinalKeyframe(Ft.keyframes,$t);if(Nt!==void 0)return frame.update(()=>{Ft.onUpdate(Nt),Ft.onComplete()}),new GroupPlaybackControls([])}return!mt&&AcceleratedAnimation.supports(Ft)?new AcceleratedAnimation(Ft):new MainThreadAnimation(Ft)};function shouldBlockAnimation({protectedKeys:s,needsAnimating:a},et){const nt=s.hasOwnProperty(et)&&a[et]!==!0;return a[et]=!1,nt}function animateTarget(s,a,{delay:et=0,transitionOverride:nt,type:at}={}){var mt;let{transition:wt=s.getDefaultTransition(),transitionEnd:$t,...Ct}=a;nt&&(wt=nt);const Dt=[],Ft=at&&s.animationState&&s.animationState.getState()[at];for(const jt in Ct){const Nt=s.getValue(jt,(mt=s.latestValues[jt])!==null&&mt!==void 0?mt:null),Lt=Ct[jt];if(Lt===void 0||Ft&&shouldBlockAnimation(Ft,jt))continue;const Ut={delay:et,...getValueTransition(wt||{},jt)};let Vt=!1;if(window.MotionHandoffAnimation){const er=getOptimisedAppearId(s);if(er){const tr=window.MotionHandoffAnimation(er,jt,frame);tr!==null&&(Ut.startTime=tr,Vt=!0)}}addValueToWillChange(s,jt),Nt.start(animateMotionValue(jt,Nt,Lt,s.shouldReduceMotion&&positionalKeys.has(jt)?{type:!1}:Ut,s,Vt));const Yt=Nt.animation;Yt&&Dt.push(Yt)}return $t&&Promise.all(Dt).then(()=>{frame.update(()=>{$t&&setTarget(s,$t)})}),Dt}function animateVariant(s,a,et={}){var nt;const at=resolveVariant(s,a,et.type==="exit"?(nt=s.presenceContext)===null||nt===void 0?void 0:nt.custom:void 0);let{transition:mt=s.getDefaultTransition()||{}}=at||{};et.transitionOverride&&(mt=et.transitionOverride);const wt=at?()=>Promise.all(animateTarget(s,at,et)):()=>Promise.resolve(),$t=s.variantChildren&&s.variantChildren.size?(Dt=0)=>{const{delayChildren:Ft=0,staggerChildren:jt,staggerDirection:Nt}=mt;return animateChildren(s,a,Ft+Dt,jt,Nt,et)}:()=>Promise.resolve(),{when:Ct}=mt;if(Ct){const[Dt,Ft]=Ct==="beforeChildren"?[wt,$t]:[$t,wt];return Dt().then(()=>Ft())}else return Promise.all([wt(),$t(et.delay)])}function animateChildren(s,a,et=0,nt=0,at=1,mt){const wt=[],$t=(s.variantChildren.size-1)*nt,Ct=at===1?(Dt=0)=>Dt*nt:(Dt=0)=>$t-Dt*nt;return Array.from(s.variantChildren).sort(sortByTreeOrder).forEach((Dt,Ft)=>{Dt.notify("AnimationStart",a),wt.push(animateVariant(Dt,a,{...mt,delay:et+Ct(Ft)}).then(()=>Dt.notify("AnimationComplete",a)))}),Promise.all(wt)}function sortByTreeOrder(s,a){return s.sortNodePosition(a)}function animateVisualElement(s,a,et={}){s.notify("AnimationStart",a);let nt;if(Array.isArray(a)){const at=a.map(mt=>animateVariant(s,mt,et));nt=Promise.all(at)}else if(typeof a=="string")nt=animateVariant(s,a,et);else{const at=typeof a=="function"?resolveVariant(s,a,et.custom):a;nt=Promise.all(animateTarget(s,at,et))}return nt.then(()=>{s.notify("AnimationComplete",a)})}const numVariantProps=variantProps.length;function getVariantContext(s){if(!s)return;if(!s.isControllingVariants){const et=s.parent?getVariantContext(s.parent)||{}:{};return s.props.initial!==void 0&&(et.initial=s.props.initial),et}const a={};for(let et=0;et<numVariantProps;et++){const nt=variantProps[et],at=s.props[nt];(isVariantLabel(at)||at===!1)&&(a[nt]=at)}return a}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(s){return a=>Promise.all(a.map(({animation:et,options:nt})=>animateVisualElement(s,et,nt)))}function createAnimationState(s){let a=animateList(s),et=createState(),nt=!0;const at=Ct=>(Dt,Ft)=>{var jt;const Nt=resolveVariant(s,Ft,Ct==="exit"?(jt=s.presenceContext)===null||jt===void 0?void 0:jt.custom:void 0);if(Nt){const{transition:Lt,transitionEnd:Ut,...Vt}=Nt;Dt={...Dt,...Vt,...Ut}}return Dt};function mt(Ct){a=Ct(s)}function wt(Ct){const{props:Dt}=s,Ft=getVariantContext(s.parent)||{},jt=[],Nt=new Set;let Lt={},Ut=1/0;for(let Yt=0;Yt<numAnimationTypes;Yt++){const er=reversePriorityOrder[Yt],tr=et[er],nr=Dt[er]!==void 0?Dt[er]:Ft[er],sr=isVariantLabel(nr),dr=er===Ct?tr.isActive:null;dr===!1&&(Ut=Yt);let br=nr===Ft[er]&&nr!==Dt[er]&&sr;if(br&&nt&&s.manuallyAnimateOnMount&&(br=!1),tr.protectedKeys={...Lt},!tr.isActive&&dr===null||!nr&&!tr.prevProp||isAnimationControls(nr)||typeof nr=="boolean")continue;const vr=checkVariantsDidChange(tr.prevProp,nr);let yr=vr||er===Ct&&tr.isActive&&!br&&sr||Yt>Ut&&sr,$r=!1;const Sr=Array.isArray(nr)?nr:[nr];let wr=Sr.reduce(at(er),{});dr===!1&&(wr={});const{prevResolvedValues:fr={}}=tr,_r={...fr,...wr},ir=ar=>{yr=!0,Nt.has(ar)&&($r=!0,Nt.delete(ar)),tr.needsAnimating[ar]=!0;const ur=s.getValue(ar);ur&&(ur.liveStyle=!1)};for(const ar in _r){const ur=wr[ar],pr=fr[ar];if(Lt.hasOwnProperty(ar))continue;let cr=!1;isKeyframesTarget(ur)&&isKeyframesTarget(pr)?cr=!shallowCompare(ur,pr):cr=ur!==pr,cr?ur!=null?ir(ar):Nt.add(ar):ur!==void 0&&Nt.has(ar)?ir(ar):tr.protectedKeys[ar]=!0}tr.prevProp=nr,tr.prevResolvedValues=wr,tr.isActive&&(Lt={...Lt,...wr}),nt&&s.blockInitialAnimation&&(yr=!1),yr&&(!(br&&vr)||$r)&&jt.push(...Sr.map(ar=>({animation:ar,options:{type:er}})))}if(Nt.size){const Yt={};Nt.forEach(er=>{const tr=s.getBaseTarget(er),nr=s.getValue(er);nr&&(nr.liveStyle=!0),Yt[er]=tr??null}),jt.push({animation:Yt})}let Vt=!!jt.length;return nt&&(Dt.initial===!1||Dt.initial===Dt.animate)&&!s.manuallyAnimateOnMount&&(Vt=!1),nt=!1,Vt?a(jt):Promise.resolve()}function $t(Ct,Dt){var Ft;if(et[Ct].isActive===Dt)return Promise.resolve();(Ft=s.variantChildren)===null||Ft===void 0||Ft.forEach(Nt=>{var Lt;return(Lt=Nt.animationState)===null||Lt===void 0?void 0:Lt.setActive(Ct,Dt)}),et[Ct].isActive=Dt;const jt=wt(Ct);for(const Nt in et)et[Nt].protectedKeys={};return jt}return{animateChanges:wt,setActive:$t,setAnimateFunction:mt,getState:()=>et,reset:()=>{et=createState(),nt=!0}}}function checkVariantsDidChange(s,a){return typeof a=="string"?a!==s:Array.isArray(a)?!shallowCompare(a,s):!1}function createTypeState(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(a){this.isMounted=!1,this.node=a}update(){}}class AnimationFeature extends Feature{constructor(a){super(a),a.animationState||(a.animationState=createAnimationState(a))}updateAnimationControlsSubscription(){const{animate:a}=this.node.getProps();isAnimationControls(a)&&(this.unmountControls=a.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:a}=this.node.getProps(),{animate:et}=this.node.prevProps||{};a!==et&&this.updateAnimationControlsSubscription()}unmount(){var a;this.node.animationState.reset(),(a=this.unmountControls)===null||a===void 0||a.call(this)}}let id$2=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$2++}update(){if(!this.node.presenceContext)return;const{isPresent:a,onExitComplete:et}=this.node.presenceContext,{isPresent:nt}=this.node.prevPresenceContext||{};if(!this.node.animationState||a===nt)return;const at=this.node.animationState.setActive("exit",!a);et&&!a&&at.then(()=>et(this.id))}mount(){const{register:a}=this.node.presenceContext||{};a&&(this.unmount=a(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(s,a,et,nt={passive:!0}){return s.addEventListener(a,et,nt),()=>s.removeEventListener(a,et)}function extractEventInfo(s){return{point:{x:s.pageX,y:s.pageY}}}const addPointerInfo=s=>a=>isPrimaryPointer(a)&&s(a,extractEventInfo(a));function addPointerEvent(s,a,et,nt){return addDomEvent(s,a,addPointerInfo(et),nt)}const distance=(s,a)=>Math.abs(s-a);function distance2D(s,a){const et=distance(s.x,a.x),nt=distance(s.y,a.y);return Math.sqrt(et**2+nt**2)}class PanSession{constructor(a,et,{transformPagePoint:nt,contextWindow:at,dragSnapToOrigin:mt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const jt=getPanInfo(this.lastMoveEventInfo,this.history),Nt=this.startEvent!==null,Lt=distance2D(jt.offset,{x:0,y:0})>=3;if(!Nt&&!Lt)return;const{point:Ut}=jt,{timestamp:Vt}=frameData;this.history.push({...Ut,timestamp:Vt});const{onStart:Yt,onMove:er}=this.handlers;Nt||(Yt&&Yt(this.lastMoveEvent,jt),this.startEvent=this.lastMoveEvent),er&&er(this.lastMoveEvent,jt)},this.handlePointerMove=(jt,Nt)=>{this.lastMoveEvent=jt,this.lastMoveEventInfo=transformPoint(Nt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(jt,Nt)=>{this.end();const{onEnd:Lt,onSessionEnd:Ut,resumeAnimation:Vt}=this.handlers;if(this.dragSnapToOrigin&&Vt&&Vt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Yt=getPanInfo(jt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Nt,this.transformPagePoint),this.history);this.startEvent&&Lt&&Lt(jt,Yt),Ut&&Ut(jt,Yt)},!isPrimaryPointer(a))return;this.dragSnapToOrigin=mt,this.handlers=et,this.transformPagePoint=nt,this.contextWindow=at||window;const wt=extractEventInfo(a),$t=transformPoint(wt,this.transformPagePoint),{point:Ct}=$t,{timestamp:Dt}=frameData;this.history=[{...Ct,timestamp:Dt}];const{onSessionStart:Ft}=et;Ft&&Ft(a,getPanInfo($t,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(a){this.handlers=a}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(s,a){return a?{point:a(s.point)}:s}function subtractPoint(s,a){return{x:s.x-a.x,y:s.y-a.y}}function getPanInfo({point:s},a){return{point:s,delta:subtractPoint(s,lastDevicePoint(a)),offset:subtractPoint(s,startDevicePoint(a)),velocity:getVelocity(a,.1)}}function startDevicePoint(s){return s[0]}function lastDevicePoint(s){return s[s.length-1]}function getVelocity(s,a){if(s.length<2)return{x:0,y:0};let et=s.length-1,nt=null;const at=lastDevicePoint(s);for(;et>=0&&(nt=s[et],!(at.timestamp-nt.timestamp>secondsToMilliseconds(a)));)et--;if(!nt)return{x:0,y:0};const mt=millisecondsToSeconds(at.timestamp-nt.timestamp);if(mt===0)return{x:0,y:0};const wt={x:(at.x-nt.x)/mt,y:(at.y-nt.y)/mt};return wt.x===1/0&&(wt.x=0),wt.y===1/0&&(wt.y=0),wt}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(s){return s.max-s.min}function isNear(s,a,et){return Math.abs(s-a)<=et}function calcAxisDelta(s,a,et,nt=.5){s.origin=nt,s.originPoint=mixNumber$1(a.min,a.max,s.origin),s.scale=calcLength(et)/calcLength(a),s.translate=mixNumber$1(et.min,et.max,s.origin)-s.originPoint,(s.scale>=SCALE_MIN&&s.scale<=SCALE_MAX||isNaN(s.scale))&&(s.scale=1),(s.translate>=TRANSLATE_MIN&&s.translate<=TRANSLATE_MAX||isNaN(s.translate))&&(s.translate=0)}function calcBoxDelta(s,a,et,nt){calcAxisDelta(s.x,a.x,et.x,nt?nt.originX:void 0),calcAxisDelta(s.y,a.y,et.y,nt?nt.originY:void 0)}function calcRelativeAxis(s,a,et){s.min=et.min+a.min,s.max=s.min+calcLength(a)}function calcRelativeBox(s,a,et){calcRelativeAxis(s.x,a.x,et.x),calcRelativeAxis(s.y,a.y,et.y)}function calcRelativeAxisPosition(s,a,et){s.min=a.min-et.min,s.max=s.min+calcLength(a)}function calcRelativePosition(s,a,et){calcRelativeAxisPosition(s.x,a.x,et.x),calcRelativeAxisPosition(s.y,a.y,et.y)}function applyConstraints(s,{min:a,max:et},nt){return a!==void 0&&s<a?s=nt?mixNumber$1(a,s,nt.min):Math.max(s,a):et!==void 0&&s>et&&(s=nt?mixNumber$1(et,s,nt.max):Math.min(s,et)),s}function calcRelativeAxisConstraints(s,a,et){return{min:a!==void 0?s.min+a:void 0,max:et!==void 0?s.max+et-(s.max-s.min):void 0}}function calcRelativeConstraints(s,{top:a,left:et,bottom:nt,right:at}){return{x:calcRelativeAxisConstraints(s.x,et,at),y:calcRelativeAxisConstraints(s.y,a,nt)}}function calcViewportAxisConstraints(s,a){let et=a.min-s.min,nt=a.max-s.max;return a.max-a.min<s.max-s.min&&([et,nt]=[nt,et]),{min:et,max:nt}}function calcViewportConstraints(s,a){return{x:calcViewportAxisConstraints(s.x,a.x),y:calcViewportAxisConstraints(s.y,a.y)}}function calcOrigin(s,a){let et=.5;const nt=calcLength(s),at=calcLength(a);return at>nt?et=progress(a.min,a.max-nt,s.min):nt>at&&(et=progress(s.min,s.max-at,a.min)),clamp$3(0,1,et)}function rebaseAxisConstraints(s,a){const et={};return a.min!==void 0&&(et.min=a.min-s.min),a.max!==void 0&&(et.max=a.max-s.min),et}const defaultElastic=.35;function resolveDragElastic(s=defaultElastic){return s===!1?s=0:s===!0&&(s=defaultElastic),{x:resolveAxisElastic(s,"left","right"),y:resolveAxisElastic(s,"top","bottom")}}function resolveAxisElastic(s,a,et){return{min:resolvePointElastic(s,a),max:resolvePointElastic(s,et)}}function resolvePointElastic(s,a){return typeof s=="number"?s:s[a]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(s){return[s("x"),s("y")]}function convertBoundingBoxToBox({top:s,left:a,right:et,bottom:nt}){return{x:{min:a,max:et},y:{min:s,max:nt}}}function convertBoxToBoundingBox({x:s,y:a}){return{top:a.min,right:s.max,bottom:a.max,left:s.min}}function transformBoxPoints(s,a){if(!a)return s;const et=a({x:s.left,y:s.top}),nt=a({x:s.right,y:s.bottom});return{top:et.y,left:et.x,bottom:nt.y,right:nt.x}}function isIdentityScale(s){return s===void 0||s===1}function hasScale({scale:s,scaleX:a,scaleY:et}){return!isIdentityScale(s)||!isIdentityScale(a)||!isIdentityScale(et)}function hasTransform(s){return hasScale(s)||has2DTranslate(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function has2DTranslate(s){return is2DTranslate(s.x)||is2DTranslate(s.y)}function is2DTranslate(s){return s&&s!=="0%"}function scalePoint(s,a,et){const nt=s-et,at=a*nt;return et+at}function applyPointDelta(s,a,et,nt,at){return at!==void 0&&(s=scalePoint(s,at,nt)),scalePoint(s,et,nt)+a}function applyAxisDelta(s,a=0,et=1,nt,at){s.min=applyPointDelta(s.min,a,et,nt,at),s.max=applyPointDelta(s.max,a,et,nt,at)}function applyBoxDelta(s,{x:a,y:et}){applyAxisDelta(s.x,a.translate,a.scale,a.originPoint),applyAxisDelta(s.y,et.translate,et.scale,et.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(s,a,et,nt=!1){const at=et.length;if(!at)return;a.x=a.y=1;let mt,wt;for(let $t=0;$t<at;$t++){mt=et[$t],wt=mt.projectionDelta;const{visualElement:Ct}=mt.options;Ct&&Ct.props.style&&Ct.props.style.display==="contents"||(nt&&mt.options.layoutScroll&&mt.scroll&&mt!==mt.root&&transformBox(s,{x:-mt.scroll.offset.x,y:-mt.scroll.offset.y}),wt&&(a.x*=wt.x.scale,a.y*=wt.y.scale,applyBoxDelta(s,wt)),nt&&hasTransform(mt.latestValues)&&transformBox(s,mt.latestValues))}a.x<TREE_SCALE_SNAP_MAX&&a.x>TREE_SCALE_SNAP_MIN&&(a.x=1),a.y<TREE_SCALE_SNAP_MAX&&a.y>TREE_SCALE_SNAP_MIN&&(a.y=1)}function translateAxis(s,a){s.min=s.min+a,s.max=s.max+a}function transformAxis(s,a,et,nt,at=.5){const mt=mixNumber$1(s.min,s.max,at);applyAxisDelta(s,a,et,mt,nt)}function transformBox(s,a){transformAxis(s.x,a.x,a.scaleX,a.scale,a.originX),transformAxis(s.y,a.y,a.scaleY,a.scale,a.originY)}function measureViewportBox(s,a){return convertBoundingBoxToBox(transformBoxPoints(s.getBoundingClientRect(),a))}function measurePageBox(s,a,et){const nt=measureViewportBox(s,et),{scroll:at}=a;return at&&(translateAxis(nt.x,at.offset.x),translateAxis(nt.y,at.offset.y)),nt}const getContextWindow=({current:s})=>s?s.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(a){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=a}start(a,{snapToCursor:et=!1}={}){const{presenceContext:nt}=this.visualElement;if(nt&&nt.isPresent===!1)return;const at=Ft=>{const{dragSnapToOrigin:jt}=this.getProps();jt?this.pauseAnimation():this.stopAnimation(),et&&this.snapToCursor(extractEventInfo(Ft).point)},mt=(Ft,jt)=>{const{drag:Nt,dragPropagation:Lt,onDragStart:Ut}=this.getProps();if(Nt&&!Lt&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(Nt),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Yt=>{let er=this.getAxisMotionValue(Yt).get()||0;if(percent.test(er)){const{projection:tr}=this.visualElement;if(tr&&tr.layout){const nr=tr.layout.layoutBox[Yt];nr&&(er=calcLength(nr)*(parseFloat(er)/100))}}this.originPoint[Yt]=er}),Ut&&frame.postRender(()=>Ut(Ft,jt)),addValueToWillChange(this.visualElement,"transform");const{animationState:Vt}=this.visualElement;Vt&&Vt.setActive("whileDrag",!0)},wt=(Ft,jt)=>{const{dragPropagation:Nt,dragDirectionLock:Lt,onDirectionLock:Ut,onDrag:Vt}=this.getProps();if(!Nt&&!this.openDragLock)return;const{offset:Yt}=jt;if(Lt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Yt),this.currentDirection!==null&&Ut&&Ut(this.currentDirection);return}this.updateAxis("x",jt.point,Yt),this.updateAxis("y",jt.point,Yt),this.visualElement.render(),Vt&&Vt(Ft,jt)},$t=(Ft,jt)=>this.stop(Ft,jt),Ct=()=>eachAxis(Ft=>{var jt;return this.getAnimationState(Ft)==="paused"&&((jt=this.getAxisMotionValue(Ft).animation)===null||jt===void 0?void 0:jt.play())}),{dragSnapToOrigin:Dt}=this.getProps();this.panSession=new PanSession(a,{onSessionStart:at,onStart:mt,onMove:wt,onSessionEnd:$t,resumeAnimation:Ct},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Dt,contextWindow:getContextWindow(this.visualElement)})}stop(a,et){const nt=this.isDragging;if(this.cancel(),!nt)return;const{velocity:at}=et;this.startAnimation(at);const{onDragEnd:mt}=this.getProps();mt&&frame.postRender(()=>mt(a,et))}cancel(){this.isDragging=!1;const{projection:a,animationState:et}=this.visualElement;a&&(a.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:nt}=this.getProps();!nt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),et&&et.setActive("whileDrag",!1)}updateAxis(a,et,nt){const{drag:at}=this.getProps();if(!nt||!shouldDrag(a,at,this.currentDirection))return;const mt=this.getAxisMotionValue(a);let wt=this.originPoint[a]+nt[a];this.constraints&&this.constraints[a]&&(wt=applyConstraints(wt,this.constraints[a],this.elastic[a])),mt.set(wt)}resolveConstraints(){var a;const{dragConstraints:et,dragElastic:nt}=this.getProps(),at=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)===null||a===void 0?void 0:a.layout,mt=this.constraints;et&&isRefObject(et)?this.constraints||(this.constraints=this.resolveRefConstraints()):et&&at?this.constraints=calcRelativeConstraints(at.layoutBox,et):this.constraints=!1,this.elastic=resolveDragElastic(nt),mt!==this.constraints&&at&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(wt=>{this.constraints!==!1&&this.getAxisMotionValue(wt)&&(this.constraints[wt]=rebaseAxisConstraints(at.layoutBox[wt],this.constraints[wt]))})}resolveRefConstraints(){const{dragConstraints:a,onMeasureDragConstraints:et}=this.getProps();if(!a||!isRefObject(a))return!1;const nt=a.current,{projection:at}=this.visualElement;if(!at||!at.layout)return!1;const mt=measurePageBox(nt,at.root,this.visualElement.getTransformPagePoint());let wt=calcViewportConstraints(at.layout.layoutBox,mt);if(et){const $t=et(convertBoxToBoundingBox(wt));this.hasMutatedConstraints=!!$t,$t&&(wt=convertBoundingBoxToBox($t))}return wt}startAnimation(a){const{drag:et,dragMomentum:nt,dragElastic:at,dragTransition:mt,dragSnapToOrigin:wt,onDragTransitionEnd:$t}=this.getProps(),Ct=this.constraints||{},Dt=eachAxis(Ft=>{if(!shouldDrag(Ft,et,this.currentDirection))return;let jt=Ct&&Ct[Ft]||{};wt&&(jt={min:0,max:0});const Nt=at?200:1e6,Lt=at?40:1e7,Ut={type:"inertia",velocity:nt?a[Ft]:0,bounceStiffness:Nt,bounceDamping:Lt,timeConstant:750,restDelta:1,restSpeed:10,...mt,...jt};return this.startAxisValueAnimation(Ft,Ut)});return Promise.all(Dt).then($t)}startAxisValueAnimation(a,et){const nt=this.getAxisMotionValue(a);return addValueToWillChange(this.visualElement,a),nt.start(animateMotionValue(a,nt,0,et,this.visualElement,!1))}stopAnimation(){eachAxis(a=>this.getAxisMotionValue(a).stop())}pauseAnimation(){eachAxis(a=>{var et;return(et=this.getAxisMotionValue(a).animation)===null||et===void 0?void 0:et.pause()})}getAnimationState(a){var et;return(et=this.getAxisMotionValue(a).animation)===null||et===void 0?void 0:et.state}getAxisMotionValue(a){const et=`_drag${a.toUpperCase()}`,nt=this.visualElement.getProps(),at=nt[et];return at||this.visualElement.getValue(a,(nt.initial?nt.initial[a]:void 0)||0)}snapToCursor(a){eachAxis(et=>{const{drag:nt}=this.getProps();if(!shouldDrag(et,nt,this.currentDirection))return;const{projection:at}=this.visualElement,mt=this.getAxisMotionValue(et);if(at&&at.layout){const{min:wt,max:$t}=at.layout.layoutBox[et];mt.set(a[et]-mixNumber$1(wt,$t,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:a,dragConstraints:et}=this.getProps(),{projection:nt}=this.visualElement;if(!isRefObject(et)||!nt||!this.constraints)return;this.stopAnimation();const at={x:0,y:0};eachAxis(wt=>{const $t=this.getAxisMotionValue(wt);if($t&&this.constraints!==!1){const Ct=$t.get();at[wt]=calcOrigin({min:Ct,max:Ct},this.constraints[wt])}});const{transformTemplate:mt}=this.visualElement.getProps();this.visualElement.current.style.transform=mt?mt({},""):"none",nt.root&&nt.root.updateScroll(),nt.updateLayout(),this.resolveConstraints(),eachAxis(wt=>{if(!shouldDrag(wt,a,null))return;const $t=this.getAxisMotionValue(wt),{min:Ct,max:Dt}=this.constraints[wt];$t.set(mixNumber$1(Ct,Dt,at[wt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const a=this.visualElement.current,et=addPointerEvent(a,"pointerdown",Ct=>{const{drag:Dt,dragListener:Ft=!0}=this.getProps();Dt&&Ft&&this.start(Ct)}),nt=()=>{const{dragConstraints:Ct}=this.getProps();isRefObject(Ct)&&Ct.current&&(this.constraints=this.resolveRefConstraints())},{projection:at}=this.visualElement,mt=at.addEventListener("measure",nt);at&&!at.layout&&(at.root&&at.root.updateScroll(),at.updateLayout()),frame.read(nt);const wt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),$t=at.addEventListener("didUpdate",({delta:Ct,hasLayoutChanged:Dt})=>{this.isDragging&&Dt&&(eachAxis(Ft=>{const jt=this.getAxisMotionValue(Ft);jt&&(this.originPoint[Ft]+=Ct[Ft].translate,jt.set(jt.get()+Ct[Ft].translate))}),this.visualElement.render())});return()=>{wt(),et(),mt(),$t&&$t()}}getProps(){const a=this.visualElement.getProps(),{drag:et=!1,dragDirectionLock:nt=!1,dragPropagation:at=!1,dragConstraints:mt=!1,dragElastic:wt=defaultElastic,dragMomentum:$t=!0}=a;return{...a,drag:et,dragDirectionLock:nt,dragPropagation:at,dragConstraints:mt,dragElastic:wt,dragMomentum:$t}}}function shouldDrag(s,a,et){return(a===!0||a===s)&&(et===null||et===s)}function getCurrentDirection(s,a=10){let et=null;return Math.abs(s.y)>a?et="y":Math.abs(s.x)>a&&(et="x"),et}class DragGesture extends Feature{constructor(a){super(a),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(a)}mount(){const{dragControls:a}=this.node.getProps();a&&(this.removeGroupControls=a.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=s=>(a,et)=>{s&&frame.postRender(()=>s(a,et))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(a){this.session=new PanSession(a,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:a,onPanStart:et,onPan:nt,onPanEnd:at}=this.node.getProps();return{onSessionStart:asyncHandler(a),onStart:asyncHandler(et),onMove:nt,onEnd:(mt,wt)=>{delete this.session,at&&frame.postRender(()=>at(mt,wt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",a=>this.onPointerDown(a))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(s,a){return a.max===a.min?0:s/(a.max-a.min)*100}const correctBorderRadius={correct:(s,a)=>{if(!a.target)return s;if(typeof s=="string")if(px.test(s))s=parseFloat(s);else return s;const et=pixelsToPercent(s,a.target.x),nt=pixelsToPercent(s,a.target.y);return`${et}% ${nt}%`}},correctBoxShadow={correct:(s,{treeScale:a,projectionDelta:et})=>{const nt=s,at=complex.parse(s);if(at.length>5)return nt;const mt=complex.createTransformer(s),wt=typeof at[0]!="number"?1:0,$t=et.x.scale*a.x,Ct=et.y.scale*a.y;at[0+wt]/=$t,at[1+wt]/=Ct;const Dt=mixNumber$1($t,Ct,.5);return typeof at[2+wt]=="number"&&(at[2+wt]/=Dt),typeof at[3+wt]=="number"&&(at[3+wt]/=Dt),mt(at)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:a,layoutGroup:et,switchLayoutGroup:nt,layoutId:at}=this.props,{projection:mt}=a;addScaleCorrector(defaultScaleCorrectors),mt&&(et.group&&et.group.add(mt),nt&&nt.register&&at&&nt.register(mt),mt.root.didUpdate(),mt.addEventListener("animationComplete",()=>{this.safeToRemove()}),mt.setOptions({...mt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(a){const{layoutDependency:et,visualElement:nt,drag:at,isPresent:mt}=this.props,wt=nt.projection;return wt&&(wt.isPresent=mt,at||a.layoutDependency!==et||et===void 0?wt.willUpdate():this.safeToRemove(),a.isPresent!==mt&&(mt?wt.promote():wt.relegate()||frame.postRender(()=>{const $t=wt.getStack();(!$t||!$t.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:a}=this.props.visualElement;a&&(a.root.didUpdate(),microtask.postRender(()=>{!a.currentAnimation&&a.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:a,layoutGroup:et,switchLayoutGroup:nt}=this.props,{projection:at}=a;at&&(at.scheduleCheckAfterUnmount(),et&&et.group&&et.group.remove(at),nt&&nt.deregister&&nt.deregister(at))}safeToRemove(){const{safeToRemove:a}=this.props;a&&a()}render(){return null}}function MeasureLayout(s){const[a,et]=usePresence(),nt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...s,layoutGroup:nt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:a,safeToRemove:et})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(s,a,et){const nt=isMotionValue(s)?s:motionValue(s);return nt.start(animateMotionValue("",nt,a,et)),nt.animation}function isSVGElement(s){return s instanceof SVGElement&&s.tagName!=="svg"}const compareByDepth=(s,a)=>s.depth-a.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(a){addUniqueItem(this.children,a),this.isDirty=!0}remove(a){removeItem(this.children,a),this.isDirty=!0}forEach(a){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(a)}}function delay(s,a){const et=time.now(),nt=({timestamp:at})=>{const mt=at-et;mt>=a&&(cancelFrame(nt),s(mt-a))};return frame.read(nt,!0),()=>cancelFrame(nt)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=s=>typeof s=="string"?parseFloat(s):s,isPx=s=>typeof s=="number"||px.test(s);function mixValues(s,a,et,nt,at,mt){at?(s.opacity=mixNumber$1(0,et.opacity!==void 0?et.opacity:1,easeCrossfadeIn(nt)),s.opacityExit=mixNumber$1(a.opacity!==void 0?a.opacity:1,0,easeCrossfadeOut(nt))):mt&&(s.opacity=mixNumber$1(a.opacity!==void 0?a.opacity:1,et.opacity!==void 0?et.opacity:1,nt));for(let wt=0;wt<numBorders;wt++){const $t=`border${borders[wt]}Radius`;let Ct=getRadius(a,$t),Dt=getRadius(et,$t);if(Ct===void 0&&Dt===void 0)continue;Ct||(Ct=0),Dt||(Dt=0),Ct===0||Dt===0||isPx(Ct)===isPx(Dt)?(s[$t]=Math.max(mixNumber$1(asNumber(Ct),asNumber(Dt),nt),0),(percent.test(Dt)||percent.test(Ct))&&(s[$t]+="%")):s[$t]=Dt}(a.rotate||et.rotate)&&(s.rotate=mixNumber$1(a.rotate||0,et.rotate||0,nt))}function getRadius(s,a){return s[a]!==void 0?s[a]:s.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$2);function compress(s,a,et){return nt=>nt<s?0:nt>a?1:et(progress(s,a,nt))}function copyAxisInto(s,a){s.min=a.min,s.max=a.max}function copyBoxInto(s,a){copyAxisInto(s.x,a.x),copyAxisInto(s.y,a.y)}function copyAxisDeltaInto(s,a){s.translate=a.translate,s.scale=a.scale,s.originPoint=a.originPoint,s.origin=a.origin}function removePointDelta(s,a,et,nt,at){return s-=a,s=scalePoint(s,1/et,nt),at!==void 0&&(s=scalePoint(s,1/at,nt)),s}function removeAxisDelta(s,a=0,et=1,nt=.5,at,mt=s,wt=s){if(percent.test(a)&&(a=parseFloat(a),a=mixNumber$1(wt.min,wt.max,a/100)-wt.min),typeof a!="number")return;let $t=mixNumber$1(mt.min,mt.max,nt);s===mt&&($t-=a),s.min=removePointDelta(s.min,a,et,$t,at),s.max=removePointDelta(s.max,a,et,$t,at)}function removeAxisTransforms(s,a,[et,nt,at],mt,wt){removeAxisDelta(s,a[et],a[nt],a[at],a.scale,mt,wt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(s,a,et,nt){removeAxisTransforms(s.x,a,xKeys,et?et.x:void 0,nt?nt.x:void 0),removeAxisTransforms(s.y,a,yKeys,et?et.y:void 0,nt?nt.y:void 0)}function isAxisDeltaZero(s){return s.translate===0&&s.scale===1}function isDeltaZero(s){return isAxisDeltaZero(s.x)&&isAxisDeltaZero(s.y)}function axisEquals(s,a){return s.min===a.min&&s.max===a.max}function boxEquals(s,a){return axisEquals(s.x,a.x)&&axisEquals(s.y,a.y)}function axisEqualsRounded(s,a){return Math.round(s.min)===Math.round(a.min)&&Math.round(s.max)===Math.round(a.max)}function boxEqualsRounded(s,a){return axisEqualsRounded(s.x,a.x)&&axisEqualsRounded(s.y,a.y)}function aspectRatio(s){return calcLength(s.x)/calcLength(s.y)}function axisDeltaEquals(s,a){return s.translate===a.translate&&s.scale===a.scale&&s.originPoint===a.originPoint}class NodeStack{constructor(){this.members=[]}add(a){addUniqueItem(this.members,a),a.scheduleRender()}remove(a){if(removeItem(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){const et=this.members[this.members.length-1];et&&this.promote(et)}}relegate(a){const et=this.members.findIndex(at=>a===at);if(et===0)return!1;let nt;for(let at=et;at>=0;at--){const mt=this.members[at];if(mt.isPresent!==!1){nt=mt;break}}return nt?(this.promote(nt),!0):!1}promote(a,et){const nt=this.lead;if(a!==nt&&(this.prevLead=nt,this.lead=a,a.show(),nt)){nt.instance&&nt.scheduleRender(),a.scheduleRender(),a.resumeFrom=nt,et&&(a.resumeFrom.preserveOpacity=!0),nt.snapshot&&(a.snapshot=nt.snapshot,a.snapshot.latestValues=nt.animationValues||nt.latestValues),a.root&&a.root.isUpdating&&(a.isLayoutDirty=!0);const{crossfade:at}=a.options;at===!1&&nt.hide()}}exitAnimationComplete(){this.members.forEach(a=>{const{options:et,resumingFrom:nt}=a;et.onExitComplete&&et.onExitComplete(),nt&&nt.options.onExitComplete&&nt.options.onExitComplete()})}scheduleRender(){this.members.forEach(a=>{a.instance&&a.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(s,a,et){let nt="";const at=s.x.translate/a.x,mt=s.y.translate/a.y,wt=(et==null?void 0:et.z)||0;if((at||mt||wt)&&(nt=`translate3d(${at}px, ${mt}px, ${wt}px) `),(a.x!==1||a.y!==1)&&(nt+=`scale(${1/a.x}, ${1/a.y}) `),et){const{transformPerspective:Dt,rotate:Ft,rotateX:jt,rotateY:Nt,skewX:Lt,skewY:Ut}=et;Dt&&(nt=`perspective(${Dt}px) ${nt}`),Ft&&(nt+=`rotate(${Ft}deg) `),jt&&(nt+=`rotateX(${jt}deg) `),Nt&&(nt+=`rotateY(${Nt}deg) `),Lt&&(nt+=`skewX(${Lt}deg) `),Ut&&(nt+=`skewY(${Ut}deg) `)}const $t=s.x.scale*a.x,Ct=s.y.scale*a.y;return($t!==1||Ct!==1)&&(nt+=`scale(${$t}, ${Ct})`),nt||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id$1=0;function resetDistortingTransform(s,a,et,nt){const{latestValues:at}=a;at[s]&&(et[s]=at[s],a.setStaticValue(s,0),nt&&(nt[s]=0))}function cancelTreeOptimisedTransformAnimations(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:a}=s.options;if(!a)return;const et=getOptimisedAppearId(a);if(window.MotionHasOptimisedAnimation(et,"transform")){const{layout:at,layoutId:mt}=s.options;window.MotionCancelOptimisedAnimation(et,"transform",frame,!(at||mt))}const{parent:nt}=s;nt&&!nt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(nt)}function createProjectionNode({attachResizeListener:s,defaultParent:a,measureScroll:et,checkIsScrollRoot:nt,resetTransform:at}){return class{constructor(wt={},$t=a==null?void 0:a()){this.id=id$1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=wt,this.root=$t?$t.root||$t:this,this.path=$t?[...$t.path,$t]:[],this.parent=$t,this.depth=$t?$t.depth+1:0;for(let Ct=0;Ct<this.path.length;Ct++)this.path[Ct].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(wt,$t){return this.eventHandlers.has(wt)||this.eventHandlers.set(wt,new SubscriptionManager),this.eventHandlers.get(wt).add($t)}notifyListeners(wt,...$t){const Ct=this.eventHandlers.get(wt);Ct&&Ct.notify(...$t)}hasListeners(wt){return this.eventHandlers.has(wt)}mount(wt,$t=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(wt),this.instance=wt;const{layoutId:Ct,layout:Dt,visualElement:Ft}=this.options;if(Ft&&!Ft.current&&Ft.mount(wt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),$t&&(Dt||Ct)&&(this.isLayoutDirty=!0),s){let jt;const Nt=()=>this.root.updateBlockedByResize=!1;s(wt,()=>{this.root.updateBlockedByResize=!0,jt&&jt(),jt=delay(Nt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Ct&&this.root.registerSharedNode(Ct,this),this.options.animate!==!1&&Ft&&(Ct||Dt)&&this.addEventListener("didUpdate",({delta:jt,hasLayoutChanged:Nt,hasRelativeTargetChanged:Lt,layout:Ut})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Vt=this.options.transition||Ft.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Yt,onLayoutAnimationComplete:er}=Ft.getProps(),tr=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Ut)||Lt,nr=!Nt&&Lt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||nr||Nt&&(tr||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(jt,nr);const sr={...getValueTransition(Vt,"layout"),onPlay:Yt,onComplete:er};(Ft.shouldReduceMotion||this.options.layoutRoot)&&(sr.delay=0,sr.type=!1),this.startAnimation(sr)}else Nt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ut})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const wt=this.getStack();wt&&wt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:wt}=this.options;return wt&&wt.getProps().transformTemplate}willUpdate(wt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Ft=0;Ft<this.path.length;Ft++){const jt=this.path[Ft];jt.shouldResetTransform=!0,jt.updateScroll("snapshot"),jt.options.layoutRoot&&jt.willUpdate(!1)}const{layoutId:$t,layout:Ct}=this.options;if($t===void 0&&!Ct)return;const Dt=this.getTransformTemplate();this.prevTransformTemplateValue=Dt?Dt(this.latestValues,""):void 0,this.updateSnapshot(),wt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const $t=time.now();frameData.delta=clamp$3(0,1e3/60,$t-frameData.timestamp),frameData.timestamp=$t,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Ct=0;Ct<this.path.length;Ct++)this.path[Ct].updateScroll();const wt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:$t}=this.options;$t&&$t.notify("LayoutMeasure",this.layout.layoutBox,wt?wt.layoutBox:void 0)}updateScroll(wt="measure"){let $t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===wt&&($t=!1),$t){const Ct=nt(this.instance);this.scroll={animationId:this.root.animationId,phase:wt,isRoot:Ct,offset:et(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Ct}}}resetTransform(){if(!at)return;const wt=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,$t=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Ct=this.getTransformTemplate(),Dt=Ct?Ct(this.latestValues,""):void 0,Ft=Dt!==this.prevTransformTemplateValue;wt&&($t||hasTransform(this.latestValues)||Ft)&&(at(this.instance,Dt),this.shouldResetTransform=!1,this.scheduleRender())}measure(wt=!0){const $t=this.measurePageBox();let Ct=this.removeElementScroll($t);return wt&&(Ct=this.removeTransform(Ct)),roundBox(Ct),{animationId:this.root.animationId,measuredBox:$t,layoutBox:Ct,latestValues:{},source:this.id}}measurePageBox(){var wt;const{visualElement:$t}=this.options;if(!$t)return createBox();const Ct=$t.measureViewportBox();if(!(((wt=this.scroll)===null||wt===void 0?void 0:wt.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Ft}=this.root;Ft&&(translateAxis(Ct.x,Ft.offset.x),translateAxis(Ct.y,Ft.offset.y))}return Ct}removeElementScroll(wt){var $t;const Ct=createBox();if(copyBoxInto(Ct,wt),!(($t=this.scroll)===null||$t===void 0)&&$t.wasRoot)return Ct;for(let Dt=0;Dt<this.path.length;Dt++){const Ft=this.path[Dt],{scroll:jt,options:Nt}=Ft;Ft!==this.root&&jt&&Nt.layoutScroll&&(jt.wasRoot&&copyBoxInto(Ct,wt),translateAxis(Ct.x,jt.offset.x),translateAxis(Ct.y,jt.offset.y))}return Ct}applyTransform(wt,$t=!1){const Ct=createBox();copyBoxInto(Ct,wt);for(let Dt=0;Dt<this.path.length;Dt++){const Ft=this.path[Dt];!$t&&Ft.options.layoutScroll&&Ft.scroll&&Ft!==Ft.root&&transformBox(Ct,{x:-Ft.scroll.offset.x,y:-Ft.scroll.offset.y}),hasTransform(Ft.latestValues)&&transformBox(Ct,Ft.latestValues)}return hasTransform(this.latestValues)&&transformBox(Ct,this.latestValues),Ct}removeTransform(wt){const $t=createBox();copyBoxInto($t,wt);for(let Ct=0;Ct<this.path.length;Ct++){const Dt=this.path[Ct];if(!Dt.instance||!hasTransform(Dt.latestValues))continue;hasScale(Dt.latestValues)&&Dt.updateSnapshot();const Ft=createBox(),jt=Dt.measurePageBox();copyBoxInto(Ft,jt),removeBoxTransforms($t,Dt.latestValues,Dt.snapshot?Dt.snapshot.layoutBox:void 0,Ft)}return hasTransform(this.latestValues)&&removeBoxTransforms($t,this.latestValues),$t}setTargetDelta(wt){this.targetDelta=wt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(wt){this.options={...this.options,...wt,crossfade:wt.crossfade!==void 0?wt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(wt=!1){var $t;const Ct=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Ct.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Ct.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Ct.isSharedProjectionDirty);const Dt=!!this.resumingFrom||this!==Ct;if(!(wt||Dt&&this.isSharedProjectionDirty||this.isProjectionDirty||!(($t=this.parent)===null||$t===void 0)&&$t.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:jt,layoutId:Nt}=this.options;if(!(!this.layout||!(jt||Nt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Lt=this.getClosestProjectingParent();Lt&&Lt.layout&&this.animationProgress!==1?(this.relativeParent=Lt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Lt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const Lt=this.getClosestProjectingParent();Lt&&!!Lt.resumingFrom==!!this.resumingFrom&&!Lt.options.layoutScroll&&Lt.target&&this.animationProgress!==1?(this.relativeParent=Lt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Lt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var wt;const $t=this.getLead(),Ct=!!this.resumingFrom||this!==$t;let Dt=!0;if((this.isProjectionDirty||!((wt=this.parent)===null||wt===void 0)&&wt.isProjectionDirty)&&(Dt=!1),Ct&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Dt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Dt=!1),Dt)return;const{layout:Ft,layoutId:jt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Ft||jt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Nt=this.treeScale.x,Lt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Ct),$t.layout&&!$t.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&($t.target=$t.layout.layoutBox,$t.targetWithTransforms=createBox());const{target:Ut}=$t;if(!Ut){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,Ut,this.latestValues),(this.treeScale.x!==Nt||this.treeScale.y!==Lt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ut)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(wt=!0){var $t;if(($t=this.options.visualElement)===null||$t===void 0||$t.scheduleRender(),wt){const Ct=this.getStack();Ct&&Ct.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(wt,$t=!1){const Ct=this.snapshot,Dt=Ct?Ct.latestValues:{},Ft={...this.latestValues},jt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!$t;const Nt=createBox(),Lt=Ct?Ct.source:void 0,Ut=this.layout?this.layout.source:void 0,Vt=Lt!==Ut,Yt=this.getStack(),er=!Yt||Yt.members.length<=1,tr=!!(Vt&&!er&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let nr;this.mixTargetDelta=sr=>{const dr=sr/1e3;mixAxisDelta(jt.x,wt.x,dr),mixAxisDelta(jt.y,wt.y,dr),this.setTargetDelta(jt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Nt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Nt,dr),nr&&boxEquals(this.relativeTarget,nr)&&(this.isProjectionDirty=!1),nr||(nr=createBox()),copyBoxInto(nr,this.relativeTarget)),Vt&&(this.animationValues=Ft,mixValues(Ft,Dt,this.latestValues,dr,tr,er)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=dr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(wt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...wt,onUpdate:$t=>{this.mixTargetDelta($t),wt.onUpdate&&wt.onUpdate($t)},onComplete:()=>{wt.onComplete&&wt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const wt=this.getStack();wt&&wt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const wt=this.getLead();let{targetWithTransforms:$t,target:Ct,layout:Dt,latestValues:Ft}=wt;if(!(!$t||!Ct||!Dt)){if(this!==wt&&this.layout&&Dt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Dt.layoutBox)){Ct=this.target||createBox();const jt=calcLength(this.layout.layoutBox.x);Ct.x.min=wt.target.x.min,Ct.x.max=Ct.x.min+jt;const Nt=calcLength(this.layout.layoutBox.y);Ct.y.min=wt.target.y.min,Ct.y.max=Ct.y.min+Nt}copyBoxInto($t,Ct),transformBox($t,Ft),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,$t,Ft)}}registerSharedNode(wt,$t){this.sharedNodes.has(wt)||this.sharedNodes.set(wt,new NodeStack),this.sharedNodes.get(wt).add($t);const Dt=$t.options.initialPromotionConfig;$t.promote({transition:Dt?Dt.transition:void 0,preserveFollowOpacity:Dt&&Dt.shouldPreserveFollowOpacity?Dt.shouldPreserveFollowOpacity($t):void 0})}isLead(){const wt=this.getStack();return wt?wt.lead===this:!0}getLead(){var wt;const{layoutId:$t}=this.options;return $t?((wt=this.getStack())===null||wt===void 0?void 0:wt.lead)||this:this}getPrevLead(){var wt;const{layoutId:$t}=this.options;return $t?(wt=this.getStack())===null||wt===void 0?void 0:wt.prevLead:void 0}getStack(){const{layoutId:wt}=this.options;if(wt)return this.root.sharedNodes.get(wt)}promote({needsReset:wt,transition:$t,preserveFollowOpacity:Ct}={}){const Dt=this.getStack();Dt&&Dt.promote(this,Ct),wt&&(this.projectionDelta=void 0,this.needsReset=!0),$t&&this.setOptions({transition:$t})}relegate(){const wt=this.getStack();return wt?wt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:wt}=this.options;if(!wt)return;let $t=!1;const{latestValues:Ct}=wt;if((Ct.z||Ct.rotate||Ct.rotateX||Ct.rotateY||Ct.rotateZ||Ct.skewX||Ct.skewY)&&($t=!0),!$t)return;const Dt={};Ct.z&&resetDistortingTransform("z",wt,Dt,this.animationValues);for(let Ft=0;Ft<transformAxes.length;Ft++)resetDistortingTransform(`rotate${transformAxes[Ft]}`,wt,Dt,this.animationValues),resetDistortingTransform(`skew${transformAxes[Ft]}`,wt,Dt,this.animationValues);wt.render();for(const Ft in Dt)wt.setStaticValue(Ft,Dt[Ft]),this.animationValues&&(this.animationValues[Ft]=Dt[Ft]);wt.scheduleRender()}getProjectionStyles(wt){var $t,Ct;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Dt={visibility:""},Ft=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Dt.opacity="",Dt.pointerEvents=resolveMotionValue(wt==null?void 0:wt.pointerEvents)||"",Dt.transform=Ft?Ft(this.latestValues,""):"none",Dt;const jt=this.getLead();if(!this.projectionDelta||!this.layout||!jt.target){const Vt={};return this.options.layoutId&&(Vt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Vt.pointerEvents=resolveMotionValue(wt==null?void 0:wt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Vt.transform=Ft?Ft({},""):"none",this.hasProjected=!1),Vt}const Nt=jt.animationValues||jt.latestValues;this.applyTransformsToTarget(),Dt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Nt),Ft&&(Dt.transform=Ft(Nt,Dt.transform));const{x:Lt,y:Ut}=this.projectionDelta;Dt.transformOrigin=`${Lt.origin*100}% ${Ut.origin*100}% 0`,jt.animationValues?Dt.opacity=jt===this?(Ct=($t=Nt.opacity)!==null&&$t!==void 0?$t:this.latestValues.opacity)!==null&&Ct!==void 0?Ct:1:this.preserveOpacity?this.latestValues.opacity:Nt.opacityExit:Dt.opacity=jt===this?Nt.opacity!==void 0?Nt.opacity:"":Nt.opacityExit!==void 0?Nt.opacityExit:0;for(const Vt in scaleCorrectors){if(Nt[Vt]===void 0)continue;const{correct:Yt,applyTo:er}=scaleCorrectors[Vt],tr=Dt.transform==="none"?Nt[Vt]:Yt(Nt[Vt],jt);if(er){const nr=er.length;for(let sr=0;sr<nr;sr++)Dt[er[sr]]=tr}else Dt[Vt]=tr}return this.options.layoutId&&(Dt.pointerEvents=jt===this?resolveMotionValue(wt==null?void 0:wt.pointerEvents)||"":"none"),Dt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(wt=>{var $t;return($t=wt.currentAnimation)===null||$t===void 0?void 0:$t.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(s){s.updateLayout()}function notifyLayoutUpdate(s){var a;const et=((a=s.resumeFrom)===null||a===void 0?void 0:a.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&et&&s.hasListeners("didUpdate")){const{layoutBox:nt,measuredBox:at}=s.layout,{animationType:mt}=s.options,wt=et.source!==s.layout.source;mt==="size"?eachAxis(jt=>{const Nt=wt?et.measuredBox[jt]:et.layoutBox[jt],Lt=calcLength(Nt);Nt.min=nt[jt].min,Nt.max=Nt.min+Lt}):shouldAnimatePositionOnly(mt,et.layoutBox,nt)&&eachAxis(jt=>{const Nt=wt?et.measuredBox[jt]:et.layoutBox[jt],Lt=calcLength(nt[jt]);Nt.max=Nt.min+Lt,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[jt].max=s.relativeTarget[jt].min+Lt)});const $t=createDelta();calcBoxDelta($t,nt,et.layoutBox);const Ct=createDelta();wt?calcBoxDelta(Ct,s.applyTransform(at,!0),et.measuredBox):calcBoxDelta(Ct,nt,et.layoutBox);const Dt=!isDeltaZero($t);let Ft=!1;if(!s.resumeFrom){const jt=s.getClosestProjectingParent();if(jt&&!jt.resumeFrom){const{snapshot:Nt,layout:Lt}=jt;if(Nt&&Lt){const Ut=createBox();calcRelativePosition(Ut,et.layoutBox,Nt.layoutBox);const Vt=createBox();calcRelativePosition(Vt,nt,Lt.layoutBox),boxEqualsRounded(Ut,Vt)||(Ft=!0),jt.options.layoutRoot&&(s.relativeTarget=Vt,s.relativeTargetOrigin=Ut,s.relativeParent=jt)}}}s.notifyListeners("didUpdate",{layout:nt,snapshot:et,delta:Ct,layoutDelta:$t,hasLayoutChanged:Dt,hasRelativeTargetChanged:Ft})}else if(s.isLead()){const{onExitComplete:nt}=s.options;nt&&nt()}s.options.transition=void 0}function propagateDirtyNodes(s){isDebug&&metrics.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function cleanDirtyNodes(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function clearSnapshot(s){s.clearSnapshot()}function clearMeasurements(s){s.clearMeasurements()}function clearIsLayoutDirty(s){s.isLayoutDirty=!1}function resetTransformStyle(s){const{visualElement:a}=s.options;a&&a.getProps().onBeforeLayoutMeasure&&a.notify("BeforeLayoutMeasure"),s.resetTransform()}function finishAnimation(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function resolveTargetDelta(s){s.resolveTargetDelta()}function calcProjection(s){s.calcProjection()}function resetSkewAndRotation(s){s.resetSkewAndRotation()}function removeLeadSnapshots(s){s.removeLeadSnapshot()}function mixAxisDelta(s,a,et){s.translate=mixNumber$1(a.translate,0,et),s.scale=mixNumber$1(a.scale,1,et),s.origin=a.origin,s.originPoint=a.originPoint}function mixAxis(s,a,et,nt){s.min=mixNumber$1(a.min,et.min,nt),s.max=mixNumber$1(a.max,et.max,nt)}function mixBox(s,a,et,nt){mixAxis(s.x,a.x,et.x,nt),mixAxis(s.y,a.y,et.y,nt)}function hasOpacityCrossfade(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(s){s.min=roundPoint(s.min),s.max=roundPoint(s.max)}function roundBox(s){roundAxis(s.x),roundAxis(s.y)}function shouldAnimatePositionOnly(s,a,et){return s==="position"||s==="preserve-aspect"&&!isNear(aspectRatio(a),aspectRatio(et),.2)}function checkNodeWasScrollRoot(s){var a;return s!==s.root&&((a=s.scroll)===null||a===void 0?void 0:a.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(s,a)=>addDomEvent(s,"resize",a),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const s=new DocumentProjectionNode({});s.mount(window),s.setOptions({layoutScroll:!0}),rootProjectionNode.current=s}return rootProjectionNode.current},resetTransform:(s,a)=>{s.style.transform=a!==void 0?a:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(s,a,et){const{props:nt}=s;s.animationState&&nt.whileHover&&s.animationState.setActive("whileHover",et==="Start");const at="onHover"+et,mt=nt[at];mt&&frame.postRender(()=>mt(a,extractEventInfo(a)))}class HoverGesture extends Feature{mount(){const{current:a}=this.node;a&&(this.unmount=hover(a,et=>(handleHoverEvent(this.node,et,"Start"),nt=>handleHoverEvent(this.node,nt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let a=!1;try{a=this.node.current.matches(":focus-visible")}catch{a=!0}!a||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(s,a,et){const{props:nt}=s;s.animationState&&nt.whileTap&&s.animationState.setActive("whileTap",et==="Start");const at="onTap"+(et==="End"?"":et),mt=nt[at];mt&&frame.postRender(()=>mt(a,extractEventInfo(a)))}class PressGesture extends Feature{mount(){const{current:a}=this.node;a&&(this.unmount=press(a,et=>(handlePressEvent(this.node,et,"Start"),(nt,{success:at})=>handlePressEvent(this.node,nt,at?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=s=>{const a=observerCallbacks.get(s.target);a&&a(s)},fireAllObserverCallbacks=s=>{s.forEach(fireObserverCallback)};function initIntersectionObserver({root:s,...a}){const et=s||document;observers.has(et)||observers.set(et,{});const nt=observers.get(et),at=JSON.stringify(a);return nt[at]||(nt[at]=new IntersectionObserver(fireAllObserverCallbacks,{root:s,...a})),nt[at]}function observeIntersection(s,a,et){const nt=initIntersectionObserver(a);return observerCallbacks.set(s,et),nt.observe(s),()=>{observerCallbacks.delete(s),nt.unobserve(s)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:a={}}=this.node.getProps(),{root:et,margin:nt,amount:at="some",once:mt}=a,wt={root:et?et.current:void 0,rootMargin:nt,threshold:typeof at=="number"?at:thresholdNames[at]},$t=Ct=>{const{isIntersecting:Dt}=Ct;if(this.isInView===Dt||(this.isInView=Dt,mt&&!Dt&&this.hasEnteredView))return;Dt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Dt);const{onViewportEnter:Ft,onViewportLeave:jt}=this.node.getProps(),Nt=Dt?Ft:jt;Nt&&Nt(Ct)};return observeIntersection(this.node.current,wt,$t)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:a,prevProps:et}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(a,et))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:s={}},{viewport:a={}}={}){return et=>s[et]!==a[et]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),a=()=>prefersReducedMotion.current=s.matches;s.addListener(a),a()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=s=>valueTypes.find(testValueType(s)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(s,a,et){for(const nt in a){const at=a[nt],mt=et[nt];if(isMotionValue(at))s.addValue(nt,at);else if(isMotionValue(mt))s.addValue(nt,motionValue(at,{owner:s}));else if(mt!==at)if(s.hasValue(nt)){const wt=s.getValue(nt);wt.liveStyle===!0?wt.jump(at):wt.hasAnimated||wt.set(at)}else{const wt=s.getStaticValue(nt);s.addValue(nt,motionValue(wt!==void 0?wt:at,{owner:s}))}}for(const nt in et)a[nt]===void 0&&s.removeValue(nt);return a}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(a,et,nt){return{}}constructor({parent:a,props:et,presenceContext:nt,reducedMotionConfig:at,blockInitialAnimation:mt,visualState:wt},$t={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Lt=time.now();this.renderScheduledAt<Lt&&(this.renderScheduledAt=Lt,frame.render(this.render,!1,!0))};const{latestValues:Ct,renderState:Dt,onUpdate:Ft}=wt;this.onUpdate=Ft,this.latestValues=Ct,this.baseTarget={...Ct},this.initialValues=et.initial?{...Ct}:{},this.renderState=Dt,this.parent=a,this.props=et,this.presenceContext=nt,this.depth=a?a.depth+1:0,this.reducedMotionConfig=at,this.options=$t,this.blockInitialAnimation=!!mt,this.isControllingVariants=isControllingVariants(et),this.isVariantNode=isVariantNode(et),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(a&&a.current);const{willChange:jt,...Nt}=this.scrapeMotionValuesFromProps(et,{},this);for(const Lt in Nt){const Ut=Nt[Lt];Ct[Lt]!==void 0&&isMotionValue(Ut)&&Ut.set(Ct[Lt],!1)}}mount(a){this.current=a,visualElementStore.set(a,this),this.projection&&!this.projection.instance&&this.projection.mount(a),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((et,nt)=>this.bindToMotionValue(nt,et)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const et=this.features[a];et&&(et.unmount(),et.isMounted=!1)}this.current=null}bindToMotionValue(a,et){this.valueSubscriptions.has(a)&&this.valueSubscriptions.get(a)();const nt=transformProps.has(a),at=et.on("change",$t=>{this.latestValues[a]=$t,this.props.onUpdate&&frame.preRender(this.notifyUpdate),nt&&this.projection&&(this.projection.isTransformDirty=!0)}),mt=et.on("renderRequest",this.scheduleRender);let wt;window.MotionCheckAppearSync&&(wt=window.MotionCheckAppearSync(this,a,et)),this.valueSubscriptions.set(a,()=>{at(),mt(),wt&&wt(),et.owner&&et.stop()})}sortNodePosition(a){return!this.current||!this.sortInstanceNodePosition||this.type!==a.type?0:this.sortInstanceNodePosition(this.current,a.current)}updateFeatures(){let a="animation";for(a in featureDefinitions){const et=featureDefinitions[a];if(!et)continue;const{isEnabled:nt,Feature:at}=et;if(!this.features[a]&&at&&nt(this.props)&&(this.features[a]=new at(this)),this.features[a]){const mt=this.features[a];mt.isMounted?mt.update():(mt.mount(),mt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(a){return this.latestValues[a]}setStaticValue(a,et){this.latestValues[a]=et}update(a,et){(a.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=a,this.prevPresenceContext=this.presenceContext,this.presenceContext=et;for(let nt=0;nt<propEventHandlers.length;nt++){const at=propEventHandlers[nt];this.propEventSubscriptions[at]&&(this.propEventSubscriptions[at](),delete this.propEventSubscriptions[at]);const mt="on"+at,wt=a[mt];wt&&(this.propEventSubscriptions[at]=this.on(at,wt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(a,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(a){return this.props.variants?this.props.variants[a]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(a){const et=this.getClosestVariantNode();if(et)return et.variantChildren&&et.variantChildren.add(a),()=>et.variantChildren.delete(a)}addValue(a,et){const nt=this.values.get(a);et!==nt&&(nt&&this.removeValue(a),this.bindToMotionValue(a,et),this.values.set(a,et),this.latestValues[a]=et.get())}removeValue(a){this.values.delete(a);const et=this.valueSubscriptions.get(a);et&&(et(),this.valueSubscriptions.delete(a)),delete this.latestValues[a],this.removeValueFromRenderState(a,this.renderState)}hasValue(a){return this.values.has(a)}getValue(a,et){if(this.props.values&&this.props.values[a])return this.props.values[a];let nt=this.values.get(a);return nt===void 0&&et!==void 0&&(nt=motionValue(et===null?void 0:et,{owner:this}),this.addValue(a,nt)),nt}readValue(a,et){var nt;let at=this.latestValues[a]!==void 0||!this.current?this.latestValues[a]:(nt=this.getBaseTargetFromProps(this.props,a))!==null&&nt!==void 0?nt:this.readValueFromInstance(this.current,a,this.options);return at!=null&&(typeof at=="string"&&(isNumericalString(at)||isZeroValueString(at))?at=parseFloat(at):!findValueType(at)&&complex.test(et)&&(at=getAnimatableNone(a,et)),this.setBaseTarget(a,isMotionValue(at)?at.get():at)),isMotionValue(at)?at.get():at}setBaseTarget(a,et){this.baseTarget[a]=et}getBaseTarget(a){var et;const{initial:nt}=this.props;let at;if(typeof nt=="string"||typeof nt=="object"){const wt=resolveVariantFromProps(this.props,nt,(et=this.presenceContext)===null||et===void 0?void 0:et.custom);wt&&(at=wt[a])}if(nt&&at!==void 0)return at;const mt=this.getBaseTargetFromProps(this.props,a);return mt!==void 0&&!isMotionValue(mt)?mt:this.initialValues[a]!==void 0&&at===void 0?void 0:this.baseTarget[a]}on(a,et){return this.events[a]||(this.events[a]=new SubscriptionManager),this.events[a].add(et)}notify(a,...et){this.events[a]&&this.events[a].notify(...et)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(a,et){return a.compareDocumentPosition(et)&2?1:-1}getBaseTargetFromProps(a,et){return a.style?a.style[et]:void 0}removeValueFromRenderState(a,{vars:et,style:nt}){delete et[a],delete nt[a]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:a}=this.props;isMotionValue(a)&&(this.childSubscription=a.on("change",et=>{this.current&&(this.current.textContent=`${et}`)}))}}function getComputedStyle$1(s){return window.getComputedStyle(s)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(a,et){if(transformProps.has(et)){const nt=getDefaultValueType(et);return nt&&nt.default||0}else{const nt=getComputedStyle$1(a),at=(isCSSVariableName(et)?nt.getPropertyValue(et):nt[et])||0;return typeof at=="string"?at.trim():at}}measureInstanceViewportBox(a,{transformPagePoint:et}){return measureViewportBox(a,et)}build(a,et,nt){buildHTMLStyles(a,et,nt.transformTemplate)}scrapeMotionValuesFromProps(a,et,nt){return scrapeMotionValuesFromProps$1(a,et,nt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(a,et){return a[et]}readValueFromInstance(a,et){if(transformProps.has(et)){const nt=getDefaultValueType(et);return nt&&nt.default||0}return et=camelCaseAttributes.has(et)?et:camelToDash(et),a.getAttribute(et)}scrapeMotionValuesFromProps(a,et,nt){return scrapeMotionValuesFromProps(a,et,nt)}build(a,et,nt){buildSVGAttrs(a,et,this.isSVGTag,nt.transformTemplate)}renderInstance(a,et,nt,at){renderSVG(a,et,nt,at)}mount(a){this.isSVGTag=isSVGTag(a.tagName),super.mount(a)}}const createDomVisualElement=(s,a)=>isSVGComponent(s)?new SVGVisualElement(a):new HTMLVisualElement(a,{allowProjection:s!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),findById=(s,a)=>s.find(et=>et.id===a);function findToast(s,a){const et=getToastPosition(s,a),nt=et?s[et].findIndex(at=>at.id===a):-1;return{position:et,index:nt}}function getToastPosition(s,a){for(const[et,nt]of Object.entries(s))if(findById(nt,a))return et}function getToastStyle(s){const a=s.includes("right"),et=s.includes("left");let nt="center";return a&&(nt="flex-end"),et&&(nt="flex-start"),{display:"flex",flexDirection:"column",alignItems:nt}}function getToastListStyle(s){const et=s==="top"||s==="bottom"?"0 auto":void 0,nt=s.includes("top")?"env(safe-area-inset-top, 0px)":void 0,at=s.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,mt=s.includes("left")?void 0:"env(safe-area-inset-right, 0px)",wt=s.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:et,top:nt,bottom:at,right:mt,left:wt}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(s){return reactPropsRegex.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(a){return a!=="theme"},getDefaultShouldForwardProp=function(a){return typeof a=="string"&&a.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(a,et,nt){var at;if(et){var mt=et.shouldForwardProp;at=a.__emotion_forwardProp&&mt?function(wt){return a.__emotion_forwardProp(wt)&&mt(wt)}:mt}return typeof at!="function"&&nt&&(at=a.__emotion_forwardProp),at},Insertion=function(a){var et=a.cache,nt=a.serialized,at=a.isStringTag;return registerStyles(et,nt,at),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,nt,at)}),null},createStyled=function s(a,et){var nt=a.__emotion_real===a,at=nt&&a.__emotion_base||a,mt,wt;et!==void 0&&(mt=et.label,wt=et.target);var $t=composeShouldForwardProps(a,et,nt),Ct=$t||getDefaultShouldForwardProp(at),Dt=!Ct("as");return function(){var Ft=arguments,jt=nt&&a.__emotion_styles!==void 0?a.__emotion_styles.slice(0):[];if(mt!==void 0&&jt.push("label:"+mt+";"),Ft[0]==null||Ft[0].raw===void 0)jt.push.apply(jt,Ft);else{var Nt=Ft[0];jt.push(Nt[0]);for(var Lt=Ft.length,Ut=1;Ut<Lt;Ut++)jt.push(Ft[Ut],Nt[Ut])}var Vt=withEmotionCache(function(Yt,er,tr){var nr=Dt&&Yt.as||at,sr="",dr=[],br=Yt;if(Yt.theme==null){br={};for(var vr in Yt)br[vr]=Yt[vr];br.theme=reactExports.useContext(ThemeContext)}typeof Yt.className=="string"?sr=getRegisteredStyles(er.registered,dr,Yt.className):Yt.className!=null&&(sr=Yt.className+" ");var yr=serializeStyles(jt.concat(dr),er.registered,br);sr+=er.key+"-"+yr.name,wt!==void 0&&(sr+=" "+wt);var $r=Dt&&$t===void 0?getDefaultShouldForwardProp(nr):Ct,Sr={};for(var wr in Yt)Dt&&wr==="as"||$r(wr)&&(Sr[wr]=Yt[wr]);return Sr.className=sr,tr&&(Sr.ref=tr),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:er,serialized:yr,isStringTag:typeof nr=="string"}),reactExports.createElement(nr,Sr))});return Vt.displayName=mt!==void 0?mt:"Styled("+(typeof at=="string"?at:at.displayName||at.name||"Component")+")",Vt.defaultProps=a.defaultProps,Vt.__emotion_real=Vt,Vt.__emotion_base=at,Vt.__emotion_styles=jt,Vt.__emotion_forwardProp=$t,Object.defineProperty(Vt,"toString",{value:function(){return"."+wt}}),Vt.withComponent=function(Yt,er){var tr=s(Yt,_extends({},et,er,{shouldForwardProp:composeShouldForwardProps(Vt,er,!0)}));return tr.apply(void 0,jt)},Vt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled.bind(null);tags.forEach(function(s){newStyled[s]=newStyled(s)});const allPropNames=new Set([...propNames,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),validHTMLProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function shouldForwardProp(s){return(validHTMLProps.has(s)||!allPropNames.has(s))&&s[0]!=="_"}const emotion_styled=interopDefault(newStyled),toCSSObject=({baseStyle:s})=>a=>{const{theme:et,css:nt,__css:at,sx:mt,...wt}=a,[$t]=splitProps(wt,isStyleProp),Ct=runIfFn$1(s,a),Dt=assignAfter({},at,Ct,compact($t),mt),Ft=css$2(Dt)(a.theme);return nt?[Ft,nt]:Ft};function styled(s,a){const{baseStyle:et,...nt}=a??{};nt.shouldForwardProp||(nt.shouldForwardProp=shouldForwardProp);const at=toCSSObject({baseStyle:et}),mt=emotion_styled(s,nt)(at);return reactExports.forwardRef(function(Ct,Dt){const{children:Ft,...jt}=Ct,{colorMode:Nt,forced:Lt}=useColorMode(),Ut=Lt?Nt:void 0;return reactExports.createElement(mt,{ref:Dt,"data-theme":Ut,...jt},Ft)})}function factory(){const s=new Map;return new Proxy(styled,{apply(a,et,nt){return styled(...nt)},get(a,et){return s.has(et)||s.set(et,styled(et)),s.get(et)}})}const chakra=factory(),toastMotionVariants={initial:s=>{const{position:a}=s,et=["top","bottom"].includes(a)?"y":"x";let nt=["top-right","bottom-right"].includes(a)?1:-1;return a==="bottom"&&(nt=1),{opacity:0,[et]:nt*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},ToastComponent=reactExports.memo(s=>{const{id:a,message:et,onCloseComplete:nt,onRequestRemove:at,requestClose:mt=!1,position:wt="bottom",duration:$t=5e3,containerStyle:Ct,motionVariants:Dt=toastMotionVariants,toastSpacing:Ft="0.5rem"}=s,[jt,Nt]=reactExports.useState($t),Lt=useIsPresent();useUpdateEffect(()=>{Lt||nt==null||nt()},[Lt]),useUpdateEffect(()=>{Nt($t)},[$t]);const Ut=()=>Nt(null),Vt=()=>Nt($t),Yt=()=>{Lt&&at()};reactExports.useEffect(()=>{Lt&&mt&&at()},[Lt,mt,at]),useTimeout(Yt,jt);const er=reactExports.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:Ft,...Ct}),[Ct,Ft]),tr=reactExports.useMemo(()=>getToastStyle(wt),[wt]);return jsxRuntimeExports.jsx(motion.div,{layout:!0,className:"chakra-toast",variants:Dt,initial:"initial",animate:"animate",exit:"exit",onHoverStart:Ut,onHoverEnd:Vt,custom:{position:wt},style:tr,children:jsxRuntimeExports.jsx(chakra.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:er,children:runIfFn$1(et,{id:a,onClose:Yt})})})});ToastComponent.displayName="ToastComponent";function forwardRef(s){return reactExports.forwardRef(s)}var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var et,nt,at;if(Array.isArray(s)){if(et=s.length,et!=a.length)return!1;for(nt=et;nt--!==0;)if(!equal(s[nt],a[nt]))return!1;return!0}var mt;if(hasMap&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(mt=s.entries();!(nt=mt.next()).done;)if(!a.has(nt.value[0]))return!1;for(mt=s.entries();!(nt=mt.next()).done;)if(!equal(nt.value[1],a.get(nt.value[0])))return!1;return!0}if(hasSet&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(mt=s.entries();!(nt=mt.next()).done;)if(!a.has(nt.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if(et=s.length,et!=a.length)return!1;for(nt=et;nt--!==0;)if(s[nt]!==a[nt])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof a.valueOf=="function")return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof a.toString=="function")return s.toString()===a.toString();if(at=Object.keys(s),et=at.length,et!==Object.keys(a).length)return!1;for(nt=et;nt--!==0;)if(!Object.prototype.hasOwnProperty.call(a,at[nt]))return!1;if(hasElementType&&s instanceof Element)return!1;for(nt=et;nt--!==0;)if(!((at[nt]==="_owner"||at[nt]==="__v"||at[nt]==="__o")&&s.$$typeof)&&!equal(s[at[nt]],a[at[nt]]))return!1;return!0}return s!==s&&a!==a}var reactFastCompare=function(a,et){try{return equal(a,et)}catch(nt){if((nt.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw nt}};const isEqual=getDefaultExportFromCjs$2(reactFastCompare);function useTheme(){const s=reactExports.useContext(ThemeContext);if(!s)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return s}function useChakra(){const s=useColorMode(),a=useTheme();return{...s,theme:a}}function getTokenValue(s,a,et){if(a==null)return a;const nt=at=>{var mt,wt;return(wt=(mt=s.__cssMap)==null?void 0:mt[at])==null?void 0:wt.value};return nt(a)??nt(et)??et}function useToken(s,a,et){const nt=useTheme();return getToken(s,a,et)(nt)}function getToken(s,a,et){const nt=Array.isArray(a)?a:[a],at=Array.isArray(et)?et:[et];return mt=>{const wt=at.filter(Boolean),$t=nt.map((Ct,Dt)=>{const Ft=`${s}.${Ct}`;return getTokenValue(mt,Ft,wt[Dt]??Ct)});return Array.isArray(a)?$t:$t[0]}}function useStyleConfigImpl(s,a={}){const{styleConfig:et,...nt}=a,{theme:at,colorMode:mt}=useChakra(),wt=s?memoizedGet$1(at,`components.${s}`):void 0,$t=et||wt,Ct=mergeWith({theme:at,colorMode:mt},($t==null?void 0:$t.defaultProps)??{},compact(omit(nt,["children"])),(Ft,jt)=>Ft?void 0:jt),Dt=reactExports.useRef({});if($t){const jt=resolveStyleConfig($t)(Ct);isEqual(Dt.current,jt)||(Dt.current=jt)}return Dt.current}function useStyleConfig(s,a={}){return useStyleConfigImpl(s,a)}function useMultiStyleConfig(s,a={}){return useStyleConfigImpl(s,a)}const fallbackIcon={path:jsxRuntimeExports.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),jsxRuntimeExports.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Icon$1=forwardRef((s,a)=>{const{as:et,viewBox:nt,color:at="currentColor",focusable:mt=!1,children:wt,className:$t,__css:Ct,...Dt}=s,Ft=cx("chakra-icon",$t),jt=useStyleConfig("Icon",s),Nt={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:at,...Ct,...jt},Lt={ref:a,focusable:mt,className:Ft,__css:Nt},Ut=nt??fallbackIcon.viewBox;if(et&&typeof et!="string")return jsxRuntimeExports.jsx(chakra.svg,{as:et,...Lt,...Dt});const Vt=wt??fallbackIcon.path;return jsxRuntimeExports.jsx(chakra.svg,{verticalAlign:"middle",viewBox:Ut,...Lt,...Dt,children:Vt})});Icon$1.displayName="Icon";function CheckIcon(s){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...s,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function InfoIcon(s){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...s,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function WarningIcon(s){return jsxRuntimeExports.jsx(Icon$1,{viewBox:"0 0 24 24",...s,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}const spin$1=keyframes$1({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),Spinner$1=forwardRef((s,a)=>{const et=useStyleConfig("Spinner",s),{label:nt="Loading...",thickness:at="2px",speed:mt="0.45s",emptyColor:wt="transparent",className:$t,...Ct}=omitThemingProps(s),Dt=cx("chakra-spinner",$t),Ft={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:at,borderBottomColor:wt,borderLeftColor:wt,animation:`${spin$1} ${mt} linear infinite`,...et};return jsxRuntimeExports.jsx(chakra.div,{ref:a,__css:Ft,className:Dt,...Ct,children:nt&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,children:nt})})});Spinner$1.displayName="Spinner";const[AlertProvider,useAlertContext]=createContext({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[AlertStylesProvider,useAlertStyles]=createContext({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),STATUSES={info:{icon:InfoIcon,colorScheme:"blue"},warning:{icon:WarningIcon,colorScheme:"orange"},success:{icon:CheckIcon,colorScheme:"green"},error:{icon:WarningIcon,colorScheme:"red"},loading:{icon:Spinner$1,colorScheme:"blue"}};function getStatusColorScheme(s){return STATUSES[s].colorScheme}function getStatusIcon(s){return STATUSES[s].icon}const Alert=forwardRef(function(a,et){const{status:nt="info",addRole:at=!0,...mt}=omitThemingProps(a),wt=a.colorScheme??getStatusColorScheme(nt),$t=useMultiStyleConfig("Alert",{...a,colorScheme:wt}),Ct={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...$t.container};return jsxRuntimeExports.jsx(AlertProvider,{value:{status:nt},children:jsxRuntimeExports.jsx(AlertStylesProvider,{value:$t,children:jsxRuntimeExports.jsx(chakra.div,{"data-status":nt,role:at?"alert":void 0,ref:et,...mt,className:cx("chakra-alert",a.className),__css:Ct})})})});Alert.displayName="Alert";function AlertIcon(s){const{status:a}=useAlertContext(),et=getStatusIcon(a),nt=useAlertStyles(),at=a==="loading"?nt.spinner:nt.icon;return jsxRuntimeExports.jsx(chakra.span,{display:"inherit","data-status":a,...s,className:cx("chakra-alert__icon",s.className),__css:at,children:s.children||jsxRuntimeExports.jsx(et,{h:"100%",w:"100%"})})}AlertIcon.displayName="AlertIcon";const AlertTitle=forwardRef(function(a,et){const nt=useAlertStyles(),{status:at}=useAlertContext();return jsxRuntimeExports.jsx(chakra.div,{ref:et,"data-status":at,...a,className:cx("chakra-alert__title",a.className),__css:nt.title})});AlertTitle.displayName="AlertTitle";const AlertDescription=forwardRef(function(a,et){const{status:nt}=useAlertContext(),at=useAlertStyles(),mt={display:"inline",...at.description};return jsxRuntimeExports.jsx(chakra.div,{ref:et,"data-status":nt,...a,className:cx("chakra-alert__desc",a.className),__css:mt})});AlertDescription.displayName="AlertDescription";function CloseIcon(s){return jsxRuntimeExports.jsx(Icon$1,{focusable:"false","aria-hidden":!0,...s,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}const CloseButton=forwardRef(function(a,et){const nt=useStyleConfig("CloseButton",a),{children:at,isDisabled:mt,__css:wt,...$t}=omitThemingProps(a),Ct={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return jsxRuntimeExports.jsx(chakra.button,{type:"button","aria-label":"Close",ref:et,disabled:mt,__css:{...Ct,...nt,...wt},...$t,children:at||jsxRuntimeExports.jsx(CloseIcon,{width:"1em",height:"1em"})})});CloseButton.displayName="CloseButton";const Toast$1=s=>{const{status:a,variant:et="solid",id:nt,title:at,isClosable:mt,onClose:wt,description:$t,colorScheme:Ct,icon:Dt}=s,Ft=nt?{root:`toast-${nt}`,title:`toast-${nt}-title`,description:`toast-${nt}-description`}:void 0;return jsxRuntimeExports.jsxs(Alert,{addRole:!1,status:a,variant:et,id:Ft==null?void 0:Ft.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:Ct,children:[jsxRuntimeExports.jsx(AlertIcon,{children:Dt}),jsxRuntimeExports.jsxs(chakra.div,{flex:"1",maxWidth:"100%",children:[at&&jsxRuntimeExports.jsx(AlertTitle,{id:Ft==null?void 0:Ft.title,children:at}),$t&&jsxRuntimeExports.jsx(AlertDescription,{id:Ft==null?void 0:Ft.description,display:"block",children:$t})]}),mt&&jsxRuntimeExports.jsx(CloseButton,{size:"sm",onClick:wt,position:"absolute",insetEnd:1,top:1})]})};function createRenderToast(s={}){const{render:a,toastComponent:et=Toast$1}=s;return at=>typeof a=="function"?a({...at,...s}):jsxRuntimeExports.jsx(et,{...at,...s})}const initialState={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},toastStore=createStore(initialState);function createStore(s){let a=s;const et=new Set,nt=at=>{a=at(a),et.forEach(mt=>mt())};return{getState:()=>a,subscribe:at=>(et.add(at),()=>{nt(()=>s),et.delete(at)}),removeToast:(at,mt)=>{nt(wt=>({...wt,[mt]:wt[mt].filter($t=>$t.id!=at)}))},notify:(at,mt)=>{const wt=createToast(at,mt),{position:$t,id:Ct}=wt;return nt(Dt=>{const jt=$t.includes("top")?[wt,...Dt[$t]??[]]:[...Dt[$t]??[],wt];return{...Dt,[$t]:jt}}),Ct},update:(at,mt)=>{at&&nt(wt=>{const $t={...wt},{position:Ct,index:Dt}=findToast($t,at);return Ct&&Dt!==-1&&($t[Ct][Dt]={...$t[Ct][Dt],...mt,message:createRenderToast(mt)}),$t})},closeAll:({positions:at}={})=>{nt(mt=>(at??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((Ct,Dt)=>(Ct[Dt]=mt[Dt].map(Ft=>({...Ft,requestClose:!0})),Ct),{...mt}))},close:at=>{nt(mt=>{const wt=getToastPosition(mt,at);return wt?{...mt,[wt]:mt[wt].map($t=>$t.id==at?{...$t,requestClose:!0}:$t)}:mt})},isActive:at=>!!findToast(toastStore.getState(),at).position}}let counter=0;function createToast(s,a={}){counter+=1;const et=a.id??counter,nt=a.position??"bottom";return{id:et,message:s,position:nt,duration:a.duration,onCloseComplete:a.onCloseComplete,onRequestRemove:()=>toastStore.removeToast(String(et),nt),status:a.status,requestClose:!1,containerStyle:a.containerStyle}}const[PortalContextProvider,usePortalContext]=createContext({strict:!1,name:"PortalContext"}),PORTAL_CLASSNAME="chakra-portal",PORTAL_SELECTOR=".chakra-portal",Container=s=>jsxRuntimeExports.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:s.zIndex,top:0,left:0,right:0},children:s.children}),DefaultPortal=s=>{const{appendToParentPortal:a,children:et}=s,[nt,at]=reactExports.useState(null),mt=reactExports.useRef(null),[,wt]=reactExports.useState({});reactExports.useEffect(()=>wt({}),[]);const $t=usePortalContext(),Ct=usePortalManager();useSafeLayoutEffect$2(()=>{if(!nt)return;const Ft=nt.ownerDocument,jt=a?$t??Ft.body:Ft.body;if(!jt)return;mt.current=Ft.createElement("div"),mt.current.className=PORTAL_CLASSNAME,jt.appendChild(mt.current),wt({});const Nt=mt.current;return()=>{jt.contains(Nt)&&jt.removeChild(Nt)}},[nt]);const Dt=Ct!=null&&Ct.zIndex?jsxRuntimeExports.jsx(Container,{zIndex:Ct==null?void 0:Ct.zIndex,children:et}):et;return mt.current?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:mt.current,children:Dt}),mt.current):jsxRuntimeExports.jsx("span",{ref:Ft=>{Ft&&at(Ft)}})},ContainerPortal=s=>{const{children:a,containerRef:et,appendToParentPortal:nt}=s,at=et.current,mt=at??(typeof window<"u"?document.body:void 0),wt=reactExports.useMemo(()=>{const Ct=at==null?void 0:at.ownerDocument.createElement("div");return Ct&&(Ct.className=PORTAL_CLASSNAME),Ct},[at]),[,$t]=reactExports.useState({});return useSafeLayoutEffect$2(()=>$t({}),[]),useSafeLayoutEffect$2(()=>{if(!(!wt||!mt))return mt.appendChild(wt),()=>{mt.removeChild(wt)}},[wt,mt]),mt&&wt?reactDomExports.createPortal(jsxRuntimeExports.jsx(PortalContextProvider,{value:nt?wt:null,children:a}),wt):null};function Portal(s){const a={appendToParentPortal:!0,...s},{containerRef:et,...nt}=a;return et?jsxRuntimeExports.jsx(ContainerPortal,{containerRef:et,...nt}):jsxRuntimeExports.jsx(DefaultPortal,{...nt})}Portal.className=PORTAL_CLASSNAME;Portal.selector=PORTAL_SELECTOR;Portal.displayName="Portal";const[ToastOptionProvider,useToastOptionContext]=createContext({name:"ToastOptionsContext",strict:!1}),ToastProvider=s=>{const a=reactExports.useSyncExternalStore(toastStore.subscribe,toastStore.getState,toastStore.getState),{motionVariants:et,component:nt=ToastComponent,portalProps:at,animatePresenceProps:mt}=s,$t=Object.keys(a).map(Ct=>{const Dt=a[Ct];return jsxRuntimeExports.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${Ct}`,id:`chakra-toast-manager-${Ct}`,style:getToastListStyle(Ct),children:jsxRuntimeExports.jsx(AnimatePresence,{...mt,initial:!1,children:Dt.map(Ft=>jsxRuntimeExports.jsx(nt,{motionVariants:et,...Ft},Ft.id))})},Ct)});return jsxRuntimeExports.jsx(Portal,{...at,children:$t})},createProvider=s=>function({children:et,theme:nt=s,toastOptions:at,...mt}){return jsxRuntimeExports.jsxs(Provider,{theme:nt,...mt,children:[jsxRuntimeExports.jsx(ToastOptionProvider,{value:at==null?void 0:at.defaultOptions,children:et}),jsxRuntimeExports.jsx(ToastProvider,{...at})]})},ChakraProvider=createProvider(theme$1);function sortNodes(s){return s.sort((a,et)=>{const nt=a.compareDocumentPosition(et);if(nt&Node.DOCUMENT_POSITION_FOLLOWING||nt&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(nt&Node.DOCUMENT_POSITION_PRECEDING||nt&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(nt&Node.DOCUMENT_POSITION_DISCONNECTED||nt&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const isElement$2=s=>typeof s=="object"&&"nodeType"in s&&s.nodeType===Node.ELEMENT_NODE;function getNextIndex(s,a,et){let nt=s+1;return et&&nt>=a&&(nt=0),nt}function getPrevIndex(s,a,et){let nt=s-1;return et&&nt<0&&(nt=a),nt}const useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,cast$1=s=>s;var __defProp$h=Object.defineProperty,__defNormalProp$5=(s,a,et)=>a in s?__defProp$h(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__publicField$2=(s,a,et)=>(__defNormalProp$5(s,typeof a!="symbol"?a+"":a,et),et);class DescendantsManager{constructor(){__publicField$2(this,"descendants",new Map),__publicField$2(this,"register",a=>{if(a!=null)return isElement$2(a)?this.registerNode(a):et=>{this.registerNode(et,a)}}),__publicField$2(this,"unregister",a=>{this.descendants.delete(a);const et=sortNodes(Array.from(this.descendants.keys()));this.assignIndex(et)}),__publicField$2(this,"destroy",()=>{this.descendants.clear()}),__publicField$2(this,"assignIndex",a=>{this.descendants.forEach(et=>{const nt=a.indexOf(et.node);et.index=nt,et.node.dataset.index=et.index.toString()})}),__publicField$2(this,"count",()=>this.descendants.size),__publicField$2(this,"enabledCount",()=>this.enabledValues().length),__publicField$2(this,"values",()=>Array.from(this.descendants.values()).sort((et,nt)=>et.index-nt.index)),__publicField$2(this,"enabledValues",()=>this.values().filter(a=>!a.disabled)),__publicField$2(this,"item",a=>{if(this.count()!==0)return this.values()[a]}),__publicField$2(this,"enabledItem",a=>{if(this.enabledCount()!==0)return this.enabledValues()[a]}),__publicField$2(this,"first",()=>this.item(0)),__publicField$2(this,"firstEnabled",()=>this.enabledItem(0)),__publicField$2(this,"last",()=>this.item(this.descendants.size-1)),__publicField$2(this,"lastEnabled",()=>{const a=this.enabledValues().length-1;return this.enabledItem(a)}),__publicField$2(this,"indexOf",a=>{var et;return a?((et=this.descendants.get(a))==null?void 0:et.index)??-1:-1}),__publicField$2(this,"enabledIndexOf",a=>a==null?-1:this.enabledValues().findIndex(et=>et.node.isSameNode(a))),__publicField$2(this,"next",(a,et=!0)=>{const nt=getNextIndex(a,this.count(),et);return this.item(nt)}),__publicField$2(this,"nextEnabled",(a,et=!0)=>{const nt=this.item(a);if(!nt)return;const at=this.enabledIndexOf(nt.node),mt=getNextIndex(at,this.enabledCount(),et);return this.enabledItem(mt)}),__publicField$2(this,"prev",(a,et=!0)=>{const nt=getPrevIndex(a,this.count()-1,et);return this.item(nt)}),__publicField$2(this,"prevEnabled",(a,et=!0)=>{const nt=this.item(a);if(!nt)return;const at=this.enabledIndexOf(nt.node),mt=getPrevIndex(at,this.enabledCount()-1,et);return this.enabledItem(mt)}),__publicField$2(this,"registerNode",(a,et)=>{if(!a||this.descendants.has(a))return;const nt=Array.from(this.descendants.keys()).concat(a),at=sortNodes(nt);et!=null&&et.disabled&&(et.disabled=!!et.disabled);const mt={node:a,index:-1,...et};this.descendants.set(a,mt),this.assignIndex(at)})}}function createDescendantContext(){const[s,a]=createContext({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[s,a,()=>{const at=reactExports.useRef(new DescendantsManager);return useSafeLayoutEffect(()=>()=>at.current.destroy()),at.current},at=>{const mt=a(),[wt,$t]=reactExports.useState(-1),Ct=reactExports.useRef(null);useSafeLayoutEffect(()=>()=>{Ct.current&&mt.unregister(Ct.current)},[]),useSafeLayoutEffect(()=>{if(!Ct.current)return;const Ft=Number(Ct.current.dataset.index);wt!=Ft&&!Number.isNaN(Ft)&&$t(Ft)});const Dt=cast$1(at?mt.register(at):mt.register);return{descendants:mt,index:wt,enabledIndex:mt.enabledIndexOf(Ct.current),register:mergeRefs(Dt,Ct)}}]}const TRANSITION_EASINGS={easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},TRANSITION_VARIANTS={slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function getSlideTransition(s){switch((s==null?void 0:s.direction)??"right"){case"right":return TRANSITION_VARIANTS.slideRight;case"left":return TRANSITION_VARIANTS.slideLeft;case"bottom":return TRANSITION_VARIANTS.slideDown;case"top":return TRANSITION_VARIANTS.slideUp;default:return TRANSITION_VARIANTS.slideRight}}const TRANSITION_DEFAULTS={enter:{duration:.2,ease:TRANSITION_EASINGS.easeOut},exit:{duration:.1,ease:TRANSITION_EASINGS.easeIn}},withDelay={enter:(s,a)=>({...s,delay:typeof a=="number"?a:a==null?void 0:a.enter}),exit:(s,a)=>({...s,delay:typeof a=="number"?a:a==null?void 0:a.exit})};function useImage(s){const{loading:a,src:et,srcSet:nt,onLoad:at,onError:mt,crossOrigin:wt,sizes:$t,ignoreFallback:Ct}=s,[Dt,Ft]=reactExports.useState("pending");reactExports.useEffect(()=>{Ft(et?"loading":"pending")},[et]);const jt=reactExports.useRef(null),Nt=reactExports.useCallback(()=>{if(!et)return;Lt();const Ut=new Image;Ut.src=et,wt&&(Ut.crossOrigin=wt),nt&&(Ut.srcset=nt),$t&&(Ut.sizes=$t),a&&(Ut.loading=a),Ut.onload=Vt=>{Lt(),Ft("loaded"),at==null||at(Vt)},Ut.onerror=Vt=>{Lt(),Ft("failed"),mt==null||mt(Vt)},jt.current=Ut},[et,wt,nt,$t,at,mt,a]),Lt=()=>{jt.current&&(jt.current.onload=null,jt.current.onerror=null,jt.current=null)};return useSafeLayoutEffect$2(()=>{if(!Ct)return Dt==="loading"&&Nt(),()=>{Lt()}},[Dt,Nt,Ct]),Ct?"loaded":Dt}const shouldShowFallbackImage=(s,a)=>s!=="loaded"&&a==="beforeLoadOrError"||s==="failed"&&a==="onError",Box=chakra("div");Box.displayName="Box";const[ButtonGroupProvider,useButtonGroup]=createContext({strict:!1,name:"ButtonGroupContext"});function ButtonIcon(s){const{children:a,className:et,...nt}=s,at=reactExports.isValidElement(a)?reactExports.cloneElement(a,{"aria-hidden":!0,focusable:!1}):a,mt=cx("chakra-button__icon",et);return jsxRuntimeExports.jsx(chakra.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...nt,className:mt,children:at})}ButtonIcon.displayName="ButtonIcon";function ButtonSpinner(s){const{label:a,placement:et,spacing:nt="0.5rem",children:at=jsxRuntimeExports.jsx(Spinner$1,{color:"currentColor",width:"1em",height:"1em"}),className:mt,__css:wt,...$t}=s,Ct=cx("chakra-button__spinner",mt),Dt=et==="start"?"marginEnd":"marginStart",Ft=reactExports.useMemo(()=>({display:"flex",alignItems:"center",position:a?"relative":"absolute",[Dt]:a?nt:0,fontSize:"1em",lineHeight:"normal",...wt}),[wt,a,Dt,nt]);return jsxRuntimeExports.jsx(chakra.div,{className:Ct,...$t,__css:Ft,children:at})}ButtonSpinner.displayName="ButtonSpinner";function useButtonType(s){const[a,et]=reactExports.useState(!s);return{ref:reactExports.useCallback(mt=>{mt&&et(mt.tagName==="BUTTON")},[]),type:a?"button":void 0}}const Button=forwardRef((s,a)=>{const et=useButtonGroup(),nt=useStyleConfig("Button",{...et,...s}),{isDisabled:at=et==null?void 0:et.isDisabled,isLoading:mt,isActive:wt,children:$t,leftIcon:Ct,rightIcon:Dt,loadingText:Ft,iconSpacing:jt="0.5rem",type:Nt,spinner:Lt,spinnerPlacement:Ut="start",className:Vt,as:Yt,shouldWrapChildren:er,...tr}=omitThemingProps(s),nr=reactExports.useMemo(()=>{const vr={...nt==null?void 0:nt._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...nt,...!!et&&{_focus:vr}}},[nt,et]),{ref:sr,type:dr}=useButtonType(Yt),br={rightIcon:Dt,leftIcon:Ct,iconSpacing:jt,children:$t,shouldWrapChildren:er};return jsxRuntimeExports.jsxs(chakra.button,{disabled:at||mt,ref:useMergeRefs(a,sr),as:Yt,type:Nt??dr,"data-active":dataAttr(wt),"data-loading":dataAttr(mt),__css:nr,className:cx("chakra-button",Vt),...tr,children:[mt&&Ut==="start"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--start",label:Ft,placement:"start",spacing:jt,children:Lt}),mt?Ft||jsxRuntimeExports.jsx(chakra.span,{opacity:0,children:jsxRuntimeExports.jsx(ButtonContent,{...br})}):jsxRuntimeExports.jsx(ButtonContent,{...br}),mt&&Ut==="end"&&jsxRuntimeExports.jsx(ButtonSpinner,{className:"chakra-button__spinner--end",label:Ft,placement:"end",spacing:jt,children:Lt})]})});Button.displayName="Button";function ButtonContent(s){const{leftIcon:a,rightIcon:et,children:nt,iconSpacing:at,shouldWrapChildren:mt}=s;return mt?jsxRuntimeExports.jsxs("span",{style:{display:"contents"},children:[a&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:at,children:a}),nt,et&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:at,children:et})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a&&jsxRuntimeExports.jsx(ButtonIcon,{marginEnd:at,children:a}),nt,et&&jsxRuntimeExports.jsx(ButtonIcon,{marginStart:at,children:et})]})}const Center=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Center.displayName="Center";const centerStyles={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};forwardRef(function(a,et){const{axis:nt="both",...at}=a;return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:centerStyles[nt],...at,position:"absolute"})});var isDom=()=>typeof document<"u",hasSetup=!1,modality=null,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,handlers=new Set;function trigger(s,a){handlers.forEach(et=>et(s,a))}var isMac=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function isValidKey(s){return!(s.metaKey||!isMac&&s.altKey||s.ctrlKey||s.key==="Control"||s.key==="Shift"||s.key==="Meta")}function onKeyboardEvent(s){hasEventBeforeFocus=!0,isValidKey(s)&&(modality="keyboard",trigger("keyboard",s))}function onPointerEvent(s){if(modality="pointer",s.type==="mousedown"||s.type==="pointerdown"){hasEventBeforeFocus=!0;const a=s.composedPath?s.composedPath()[0]:s.target;let et=!1;try{et=a.matches(":focus-visible")}catch{}if(et)return;trigger("pointer",s)}}function isVirtualClick(s){return s.mozInputSource===0&&s.isTrusted?!0:s.detail===0&&!s.pointerType}function onClickEvent(s){isVirtualClick(s)&&(hasEventBeforeFocus=!0,modality="virtual")}function onWindowFocus$1(s){s.target===window||s.target===document||s.target instanceof Element&&s.target.hasAttribute("tabindex")||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(modality="virtual",trigger("virtual",s)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function onWindowBlur$1(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function isFocusVisible(){return modality!=="pointer"}function setupGlobalFocusEvents(){if(!isDom()||hasSetup)return;const{focus:s}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...et){hasEventBeforeFocus=!0,s.apply(this,et)},document.addEventListener("keydown",onKeyboardEvent,!0),document.addEventListener("keyup",onKeyboardEvent,!0),document.addEventListener("click",onClickEvent,!0),window.addEventListener("focus",onWindowFocus$1,!0),window.addEventListener("blur",onWindowBlur$1,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",onPointerEvent,!0),document.addEventListener("pointermove",onPointerEvent,!0),document.addEventListener("pointerup",onPointerEvent,!0)):(document.addEventListener("mousedown",onPointerEvent,!0),document.addEventListener("mousemove",onPointerEvent,!0),document.addEventListener("mouseup",onPointerEvent,!0)),hasSetup=!0}function trackFocusVisible(s){setupGlobalFocusEvents(),s(isFocusVisible());const a=()=>s(isFocusVisible());return handlers.add(a),()=>{handlers.delete(a)}}const[FormControlStylesProvider,useFormControlStyles]=createContext({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[FormControlProvider,useFormControlContext]=createContext({strict:!1,name:"FormControlContext"});function useFormControlProvider(s){const{id:a,isRequired:et,isInvalid:nt,isDisabled:at,isReadOnly:mt,...wt}=s,$t=reactExports.useId(),Ct=a||`field-${$t}`,Dt=`${Ct}-label`,Ft=`${Ct}-feedback`,jt=`${Ct}-helptext`,[Nt,Lt]=reactExports.useState(!1),[Ut,Vt]=reactExports.useState(!1),[Yt,er]=reactExports.useState(!1),tr=reactExports.useCallback((vr={},yr=null)=>({id:jt,...vr,ref:mergeRefs(yr,$r=>{$r&&Vt(!0)})}),[jt]),nr=reactExports.useCallback((vr={},yr=null)=>({...vr,ref:yr,"data-focus":dataAttr(Yt),"data-disabled":dataAttr(at),"data-invalid":dataAttr(nt),"data-readonly":dataAttr(mt),id:vr.id!==void 0?vr.id:Dt,htmlFor:vr.htmlFor!==void 0?vr.htmlFor:Ct}),[Ct,at,Yt,nt,mt,Dt]),sr=reactExports.useCallback((vr={},yr=null)=>({id:Ft,...vr,ref:mergeRefs(yr,$r=>{$r&&Lt(!0)}),"aria-live":"polite"}),[Ft]),dr=reactExports.useCallback((vr={},yr=null)=>({...vr,...wt,ref:yr,role:"group","data-focus":dataAttr(Yt),"data-disabled":dataAttr(at),"data-invalid":dataAttr(nt),"data-readonly":dataAttr(mt)}),[wt,at,Yt,nt,mt]),br=reactExports.useCallback((vr={},yr=null)=>({...vr,ref:yr,role:"presentation","aria-hidden":!0,children:vr.children||"*"}),[]);return{isRequired:!!et,isInvalid:!!nt,isReadOnly:!!mt,isDisabled:!!at,isFocused:!!Yt,onFocus:()=>er(!0),onBlur:()=>er(!1),hasFeedbackText:Nt,setHasFeedbackText:Lt,hasHelpText:Ut,setHasHelpText:Vt,id:Ct,labelId:Dt,feedbackId:Ft,helpTextId:jt,htmlProps:wt,getHelpTextProps:tr,getErrorMessageProps:sr,getRootProps:dr,getLabelProps:nr,getRequiredIndicatorProps:br}}const FormControl=forwardRef(function(a,et){const nt=useMultiStyleConfig("Form",a),at=omitThemingProps(a),{getRootProps:mt,htmlProps:wt,...$t}=useFormControlProvider(at),Ct=cx("chakra-form-control",a.className);return jsxRuntimeExports.jsx(FormControlProvider,{value:$t,children:jsxRuntimeExports.jsx(FormControlStylesProvider,{value:nt,children:jsxRuntimeExports.jsx(chakra.div,{...mt({},et),className:Ct,__css:nt.container})})})});FormControl.displayName="FormControl";const FormHelperText=forwardRef(function(a,et){const nt=useFormControlContext(),at=useFormControlStyles(),mt=cx("chakra-form__helper-text",a.className);return jsxRuntimeExports.jsx(chakra.div,{...nt==null?void 0:nt.getHelpTextProps(a,et),__css:at.helperText,className:mt})});FormHelperText.displayName="FormHelperText";function useFormControl(s){const{isDisabled:a,isInvalid:et,isReadOnly:nt,isRequired:at,...mt}=useFormControlProps(s);return{...mt,disabled:a,readOnly:nt,required:at,"aria-invalid":ariaAttr(et),"aria-required":ariaAttr(at),"aria-readonly":ariaAttr(nt)}}function useFormControlProps(s){const a=useFormControlContext(),{id:et,disabled:nt,readOnly:at,required:mt,isRequired:wt,isInvalid:$t,isReadOnly:Ct,isDisabled:Dt,onFocus:Ft,onBlur:jt,...Nt}=s,Lt=s["aria-describedby"]?[s["aria-describedby"]]:[];return a!=null&&a.hasFeedbackText&&(a!=null&&a.isInvalid)&&Lt.push(a.feedbackId),a!=null&&a.hasHelpText&&Lt.push(a.helpTextId),{...Nt,"aria-describedby":Lt.join(" ")||void 0,id:et??(a==null?void 0:a.id),isDisabled:nt??Dt??(a==null?void 0:a.isDisabled),isReadOnly:at??Ct??(a==null?void 0:a.isReadOnly),isRequired:mt??wt??(a==null?void 0:a.isRequired),isInvalid:$t??(a==null?void 0:a.isInvalid),onFocus:callAllHandlers(a==null?void 0:a.onFocus,Ft),onBlur:callAllHandlers(a==null?void 0:a.onBlur,jt)}}const visuallyHiddenStyle={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function useCheckbox(s={}){const a=useFormControlProps(s),{isDisabled:et,isReadOnly:nt,isRequired:at,isInvalid:mt,id:wt,onBlur:$t,onFocus:Ct,"aria-describedby":Dt}=a,{defaultChecked:Ft,isChecked:jt,isFocusable:Nt,onChange:Lt,isIndeterminate:Ut,name:Vt,value:Yt,tabIndex:er=void 0,"aria-label":tr,"aria-labelledby":nr,"aria-invalid":sr,...dr}=s,br=omit(dr,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),vr=useCallbackRef(Lt),yr=useCallbackRef($t),$r=useCallbackRef(Ct),[Sr,wr]=reactExports.useState(!1),[fr,_r]=reactExports.useState(!1),[ir,rr]=reactExports.useState(!1),or=reactExports.useRef(!1);reactExports.useEffect(()=>trackFocusVisible(Nr=>{or.current=Nr}),[]);const ar=reactExports.useRef(null),[ur,pr]=reactExports.useState(!0),[cr,gr]=reactExports.useState(!!Ft),hr=jt!==void 0,lr=hr?jt:cr,xr=reactExports.useCallback(Nr=>{if(nt||et){Nr.preventDefault();return}hr||gr(lr?Nr.currentTarget.checked:Ut?!0:Nr.currentTarget.checked),vr==null||vr(Nr)},[nt,et,lr,hr,Ut,vr]);useSafeLayoutEffect$2(()=>{ar.current&&(ar.current.indeterminate=!!Ut)},[Ut]),useUpdateEffect(()=>{et&&wr(!1)},[et,wr]),useSafeLayoutEffect$2(()=>{const Nr=ar.current;if(!(Nr!=null&&Nr.form))return;const zr=()=>{gr(!!Ft)};return Nr.form.addEventListener("reset",zr),()=>{var Hr;return(Hr=Nr.form)==null?void 0:Hr.removeEventListener("reset",zr)}},[]);const Mr=et&&!Nt,Pr=reactExports.useCallback(Nr=>{Nr.key===" "&&rr(!0)},[rr]),Ar=reactExports.useCallback(Nr=>{Nr.key===" "&&rr(!1)},[rr]);useSafeLayoutEffect$2(()=>{if(!ar.current)return;ar.current.checked!==lr&&gr(ar.current.checked)},[ar.current]);const Ir=reactExports.useCallback((Nr={},zr=null)=>{const Hr=jr=>{Sr&&jr.preventDefault(),rr(!0)};return{...Nr,ref:zr,"data-active":dataAttr(ir),"data-hover":dataAttr(fr),"data-checked":dataAttr(lr),"data-focus":dataAttr(Sr),"data-focus-visible":dataAttr(Sr&&or.current),"data-indeterminate":dataAttr(Ut),"data-disabled":dataAttr(et),"data-invalid":dataAttr(mt),"data-readonly":dataAttr(nt),"aria-hidden":!0,onMouseDown:callAllHandlers(Nr.onMouseDown,Hr),onMouseUp:callAllHandlers(Nr.onMouseUp,()=>rr(!1)),onMouseEnter:callAllHandlers(Nr.onMouseEnter,()=>_r(!0)),onMouseLeave:callAllHandlers(Nr.onMouseLeave,()=>_r(!1))}},[ir,lr,et,Sr,fr,Ut,mt,nt]),qr=reactExports.useCallback((Nr={},zr=null)=>({...Nr,ref:zr,"data-active":dataAttr(ir),"data-hover":dataAttr(fr),"data-checked":dataAttr(lr),"data-focus":dataAttr(Sr),"data-focus-visible":dataAttr(Sr&&or.current),"data-indeterminate":dataAttr(Ut),"data-disabled":dataAttr(et),"data-invalid":dataAttr(mt),"data-readonly":dataAttr(nt)}),[ir,lr,et,Sr,fr,Ut,mt,nt]),Rr=reactExports.useCallback((Nr={},zr=null)=>({...br,...Nr,ref:mergeRefs(zr,Hr=>{Hr&&pr(Hr.tagName==="LABEL")}),onClick:callAllHandlers(Nr.onClick,()=>{var Hr;ur||((Hr=ar.current)==null||Hr.click(),requestAnimationFrame(()=>{var jr;(jr=ar.current)==null||jr.focus({preventScroll:!0})}))}),"data-disabled":dataAttr(et),"data-checked":dataAttr(lr),"data-invalid":dataAttr(mt)}),[br,et,lr,mt,ur]),Tr=reactExports.useCallback((Nr={},zr=null)=>({...Nr,ref:mergeRefs(ar,zr),type:"checkbox",name:Vt,value:Yt,id:wt,tabIndex:er,onChange:callAllHandlers(Nr.onChange,xr),onBlur:callAllHandlers(Nr.onBlur,yr,()=>wr(!1)),onFocus:callAllHandlers(Nr.onFocus,$r,()=>wr(!0)),onKeyDown:callAllHandlers(Nr.onKeyDown,Pr),onKeyUp:callAllHandlers(Nr.onKeyUp,Ar),required:at,checked:lr,disabled:Mr,readOnly:nt,"aria-label":tr,"aria-labelledby":nr,"aria-invalid":sr?!!sr:mt,"aria-describedby":Dt,"aria-disabled":et,"aria-checked":Ut?"mixed":lr,style:visuallyHiddenStyle}),[Vt,Yt,wt,er,xr,yr,$r,Pr,Ar,at,lr,Mr,nt,tr,nr,sr,mt,Dt,et,Ut]),Er=reactExports.useCallback((Nr={},zr=null)=>({...Nr,ref:zr,onMouseDown:callAllHandlers(Nr.onMouseDown,stopEvent),"data-disabled":dataAttr(et),"data-checked":dataAttr(lr),"data-invalid":dataAttr(mt)}),[lr,et,mt]);return{state:{isInvalid:mt,isFocused:Sr,isChecked:lr,isActive:ir,isHovered:fr,isIndeterminate:Ut,isDisabled:et,isReadOnly:nt,isRequired:at},getRootProps:Rr,getCheckboxProps:Ir,getIndicatorProps:qr,getInputProps:Tr,getLabelProps:Er,htmlProps:br}}function stopEvent(s){s.preventDefault(),s.stopPropagation()}const Divider$1=forwardRef(function(a,et){const{borderLeftWidth:nt,borderBottomWidth:at,borderTopWidth:mt,borderRightWidth:wt,borderWidth:$t,borderStyle:Ct,borderColor:Dt,...Ft}=useStyleConfig("Divider",a),{className:jt,orientation:Nt="horizontal",__css:Lt,...Ut}=omitThemingProps(a),Vt={vertical:{borderLeftWidth:nt||wt||$t||"1px",height:"100%"},horizontal:{borderBottomWidth:at||mt||$t||"1px",width:"100%"}};return jsxRuntimeExports.jsx(chakra.hr,{ref:et,"aria-orientation":Nt,...Ut,__css:{...Ft,border:"0",borderColor:Dt,borderStyle:Ct,...Vt[Nt],...Lt},className:cx("chakra-divider",jt)})});Divider$1.displayName="Divider";function isFunction$2(s){return typeof s=="function"}function pipe(...s){return a=>s.reduce((et,nt)=>nt(et),a)}const createExtendTheme=s=>function(...et){let nt=[...et],at=et[et.length-1];return isChakraTheme(at)&&nt.length>1?nt=nt.slice(0,nt.length-1):at=s,pipe(...nt.map(mt=>wt=>isFunction$2(mt)?mt(wt):mergeThemeOverride(wt,mt)))(at)},extendTheme=createExtendTheme(theme$1);function mergeThemeOverride(...s){return mergeWith({},...s,mergeThemeCustomizer)}function mergeThemeCustomizer(s,a,et,nt){if((isFunction$2(s)||isFunction$2(a))&&Object.prototype.hasOwnProperty.call(nt,et))return(...at)=>{const mt=isFunction$2(s)?s(...at):s,wt=isFunction$2(a)?a(...at):a;return mergeWith({},mt,wt,mergeThemeCustomizer)};if(isObject$3(s)&&isArray$2(a)||isArray$2(s)&&isObject$3(a))return a}const Flex=forwardRef(function(a,et){const{direction:nt,align:at,justify:mt,wrap:wt,basis:$t,grow:Ct,shrink:Dt,...Ft}=a,jt={display:"flex",flexDirection:nt,alignItems:at,justifyContent:mt,flexWrap:wt,flexBasis:$t,flexGrow:Ct,flexShrink:Dt};return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:jt,...Ft})});Flex.displayName="Flex";function _objectWithoutPropertiesLoose(s,a){if(s==null)return{};var et={};for(var nt in s)if({}.hasOwnProperty.call(s,nt)){if(a.indexOf(nt)!==-1)continue;et[nt]=s[nt]}return et}var FOCUS_GROUP="data-focus-lock",FOCUS_DISABLED="data-focus-lock-disabled",FOCUS_ALLOW="data-no-focus-lock",FOCUS_AUTO="data-autofocus-inside",FOCUS_NO_AUTOFOCUS="data-no-autofocus",hiddenGuard={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},mediumFocus=createMedium({},function(s){var a=s.target,et=s.currentTarget;return{target:a,currentTarget:et}}),mediumBlur=createMedium(),mediumEffect=createMedium(),mediumSidecar=createSidecarMedium({async:!0,ssr:typeof document<"u"}),focusScope=reactExports.createContext(void 0),emptyArray=[],FocusLock$1=reactExports.forwardRef(function(a,et){var nt,at=reactExports.useState(),mt=at[0],wt=at[1],$t=reactExports.useRef(),Ct=reactExports.useRef(!1),Dt=reactExports.useRef(null),Ft=reactExports.useState({}),jt=Ft[1],Nt=a.children,Lt=a.disabled,Ut=Lt===void 0?!1:Lt,Vt=a.noFocusGuards,Yt=Vt===void 0?!1:Vt,er=a.persistentFocus,tr=er===void 0?!1:er,nr=a.crossFrame,sr=nr===void 0?!0:nr,dr=a.autoFocus,br=dr===void 0?!0:dr;a.allowTextSelection;var vr=a.group,yr=a.className,$r=a.whiteList,Sr=a.hasPositiveIndices,wr=a.shards,fr=wr===void 0?emptyArray:wr,_r=a.as,ir=_r===void 0?"div":_r,rr=a.lockProps,or=rr===void 0?{}:rr,ar=a.sideCar,ur=a.returnFocus,pr=ur===void 0?!1:ur,cr=a.focusOptions,gr=a.onActivation,hr=a.onDeactivation,lr=reactExports.useState({}),xr=lr[0],Mr=reactExports.useCallback(function(Hr){var jr=Hr.captureFocusRestore;if(!Dt.current){var Ur,Fr=(Ur=document)==null?void 0:Ur.activeElement;Dt.current=Fr,Fr!==document.body&&(Dt.current=jr(Fr))}$t.current&&gr&&gr($t.current),Ct.current=!0,jt()},[gr]),Pr=reactExports.useCallback(function(){Ct.current=!1,hr&&hr($t.current),jt()},[hr]),Ar=reactExports.useCallback(function(Hr){var jr=Dt.current;if(jr){var Ur=(typeof jr=="function"?jr():jr)||document.body,Fr=typeof pr=="function"?pr(Ur):pr;if(Fr){var Gr=typeof Fr=="object"?Fr:void 0;Dt.current=null,Hr?Promise.resolve().then(function(){return Ur.focus(Gr)}):Ur.focus(Gr)}}},[pr]),Ir=reactExports.useCallback(function(Hr){Ct.current&&mediumFocus.useMedium(Hr)},[]),qr=mediumBlur.useMedium,Rr=reactExports.useCallback(function(Hr){$t.current!==Hr&&($t.current=Hr,wt(Hr))},[]),Tr=_extends((nt={},nt[FOCUS_DISABLED]=Ut&&"disabled",nt[FOCUS_GROUP]=vr,nt),or),Er=Yt!==!0,Br=Er&&Yt!=="tail",Nr=useMergeRefs$1([et,Rr]),zr=reactExports.useMemo(function(){return{observed:$t,shards:fr,enabled:!Ut,active:Ct.current}},[Ut,Ct.current,fr,mt]);return React$2.createElement(reactExports.Fragment,null,Er&&[React$2.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:Ut?-1:0,style:hiddenGuard}),Sr?React$2.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:Ut?-1:1,style:hiddenGuard}):null],!Ut&&React$2.createElement(ar,{id:xr,sideCar:mediumSidecar,observed:mt,disabled:Ut,persistentFocus:tr,crossFrame:sr,autoFocus:br,whiteList:$r,shards:fr,onActivation:Mr,onDeactivation:Pr,returnFocus:Ar,focusOptions:cr,noFocusGuards:Yt}),React$2.createElement(ir,_extends({ref:Nr},Tr,{className:yr,onBlur:qr,onFocus:Ir}),React$2.createElement(focusScope.Provider,{value:zr},Nt)),Br&&React$2.createElement("div",{"data-focus-guard":!0,tabIndex:Ut?-1:0,style:hiddenGuard}))});FocusLock$1.propTypes={};function _setPrototypeOf(s,a){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,nt){return et.__proto__=nt,et},_setPrototypeOf(s,a)}function _inheritsLoose(s,a){s.prototype=Object.create(a.prototype),s.prototype.constructor=s,_setPrototypeOf(s,a)}function _typeof$1(s){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof$1(s)}function toPrimitive$1(s,a){if(_typeof$1(s)!="object"||!s)return s;var et=s[Symbol.toPrimitive];if(et!==void 0){var nt=et.call(s,a);if(_typeof$1(nt)!="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function toPropertyKey$1(s){var a=toPrimitive$1(s,"string");return _typeof$1(a)=="symbol"?a:a+""}function _defineProperty(s,a,et){return(a=toPropertyKey$1(a))in s?Object.defineProperty(s,a,{value:et,enumerable:!0,configurable:!0,writable:!0}):s[a]=et,s}function withSideEffect(s,a){function et(nt){return nt.displayName||nt.name||"Component"}return function(at){var mt=[],wt;function $t(){wt=s(mt.map(function(Dt){return Dt.props})),a(wt)}var Ct=function(Dt){_inheritsLoose(Ft,Dt);function Ft(){return Dt.apply(this,arguments)||this}Ft.peek=function(){return wt};var jt=Ft.prototype;return jt.componentDidMount=function(){mt.push(this),$t()},jt.componentDidUpdate=function(){$t()},jt.componentWillUnmount=function(){var Lt=mt.indexOf(this);mt.splice(Lt,1),$t()},jt.render=function(){return React$2.createElement(at,this.props)},Ft}(reactExports.PureComponent);return _defineProperty(Ct,"displayName","SideEffect("+et(at)+")"),Ct}}var toArray$1=function(s){for(var a=Array(s.length),et=0;et<s.length;++et)a[et]=s[et];return a},asArray=function(s){return Array.isArray(s)?s:[s]},getFirst=function(s){return Array.isArray(s)?s[0]:s},isElementHidden=function(s){if(s.nodeType!==Node.ELEMENT_NODE)return!1;var a=window.getComputedStyle(s,null);return!a||!a.getPropertyValue?!1:a.getPropertyValue("display")==="none"||a.getPropertyValue("visibility")==="hidden"},getParentNode$1=function(s){return s.parentNode&&s.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?s.parentNode.host:s.parentNode},isTopNode=function(s){return s===document||s&&s.nodeType===Node.DOCUMENT_NODE},isInert=function(s){return s.hasAttribute("inert")},isVisibleUncached=function(s,a){return!s||isTopNode(s)||!isElementHidden(s)&&!isInert(s)&&a(getParentNode$1(s))},isVisibleCached=function(s,a){var et=s.get(a);if(et!==void 0)return et;var nt=isVisibleUncached(a,isVisibleCached.bind(void 0,s));return s.set(a,nt),nt},isAutoFocusAllowedUncached=function(s,a){return s&&!isTopNode(s)?isAutoFocusAllowed(s)?a(getParentNode$1(s)):!1:!0},isAutoFocusAllowedCached=function(s,a){var et=s.get(a);if(et!==void 0)return et;var nt=isAutoFocusAllowedUncached(a,isAutoFocusAllowedCached.bind(void 0,s));return s.set(a,nt),nt},getDataset=function(s){return s.dataset},isHTMLButtonElement=function(s){return s.tagName==="BUTTON"},isHTMLInputElement=function(s){return s.tagName==="INPUT"},isRadioElement=function(s){return isHTMLInputElement(s)&&s.type==="radio"},notHiddenInput=function(s){return!((isHTMLInputElement(s)||isHTMLButtonElement(s))&&(s.type==="hidden"||s.disabled))},isAutoFocusAllowed=function(s){var a=s.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(a)},isGuard=function(s){var a;return!!(s&&(!((a=getDataset(s))===null||a===void 0)&&a.focusGuard))},isNotAGuard=function(s){return!isGuard(s)},isDefined=function(s){return!!s},tabSort=function(s,a){var et=Math.max(0,s.tabIndex),nt=Math.max(0,a.tabIndex),at=et-nt,mt=s.index-a.index;if(at){if(!et)return 1;if(!nt)return-1}return at||mt},getTabIndex=function(s){return s.tabIndex<0&&!s.hasAttribute("tabindex")?0:s.tabIndex},orderByTabIndex=function(s,a,et){return toArray$1(s).map(function(nt,at){var mt=getTabIndex(nt);return{node:nt,index:at,tabIndex:et&&mt===-1?(nt.dataset||{}).focusGuard?0:-1:mt}}).filter(function(nt){return!a||nt.tabIndex>=0}).sort(tabSort)},tabbables=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],queryTabbables=tabbables.join(","),queryGuardTabbables="".concat(queryTabbables,", [data-focus-guard]"),getFocusablesWithShadowDom=function(s,a){return toArray$1((s.shadowRoot||s).children).reduce(function(et,nt){return et.concat(nt.matches(a?queryGuardTabbables:queryTabbables)?[nt]:[],getFocusablesWithShadowDom(nt))},[])},getFocusablesWithIFrame=function(s,a){var et;return s instanceof HTMLIFrameElement&&(!((et=s.contentDocument)===null||et===void 0)&&et.body)?getFocusables([s.contentDocument.body],a):[s]},getFocusables=function(s,a){return s.reduce(function(et,nt){var at,mt=getFocusablesWithShadowDom(nt,a),wt=(at=[]).concat.apply(at,mt.map(function($t){return getFocusablesWithIFrame($t,a)}));return et.concat(wt,nt.parentNode?toArray$1(nt.parentNode.querySelectorAll(queryTabbables)).filter(function($t){return $t===nt}):[])},[])},getParentAutofocusables=function(s){var a=s.querySelectorAll("[".concat(FOCUS_AUTO,"]"));return toArray$1(a).map(function(et){return getFocusables([et])}).reduce(function(et,nt){return et.concat(nt)},[])},filterFocusable=function(s,a){return toArray$1(s).filter(function(et){return isVisibleCached(a,et)}).filter(function(et){return notHiddenInput(et)})},filterAutoFocusable=function(s,a){return a===void 0&&(a=new Map),toArray$1(s).filter(function(et){return isAutoFocusAllowedCached(a,et)})},getTabbableNodes=function(s,a,et){return orderByTabIndex(filterFocusable(getFocusables(s,et),a),!0,et)},getFocusableNodes=function(s,a){return orderByTabIndex(filterFocusable(getFocusables(s),a),!1)},parentAutofocusables=function(s,a){return filterFocusable(getParentAutofocusables(s),a)},contains$2=function(s,a){return s.shadowRoot?contains$2(s.shadowRoot,a):Object.getPrototypeOf(s).contains!==void 0&&Object.getPrototypeOf(s).contains.call(s,a)?!0:toArray$1(s.children).some(function(et){var nt;if(et instanceof HTMLIFrameElement){var at=(nt=et.contentDocument)===null||nt===void 0?void 0:nt.body;return at?contains$2(at,a):!1}return contains$2(et,a)})},filterNested=function(s){for(var a=new Set,et=s.length,nt=0;nt<et;nt+=1)for(var at=nt+1;at<et;at+=1){var mt=s[nt].compareDocumentPosition(s[at]);(mt&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&a.add(at),(mt&Node.DOCUMENT_POSITION_CONTAINS)>0&&a.add(nt)}return s.filter(function(wt,$t){return!a.has($t)})},getTopParent=function(s){return s.parentNode?getTopParent(s.parentNode):s},getAllAffectedNodes=function(s){var a=asArray(s);return a.filter(Boolean).reduce(function(et,nt){var at=nt.getAttribute(FOCUS_GROUP);return et.push.apply(et,at?filterNested(toArray$1(getTopParent(nt).querySelectorAll("[".concat(FOCUS_GROUP,'="').concat(at,'"]:not([').concat(FOCUS_DISABLED,'="disabled"])')))):[nt]),et},[])},safeProbe=function(s){try{return s()}catch{return}},getActiveElement=function(s){if(s===void 0&&(s=document),!(!s||!s.activeElement)){var a=s.activeElement;return a.shadowRoot?getActiveElement(a.shadowRoot):a instanceof HTMLIFrameElement&&safeProbe(function(){return a.contentWindow.document})?getActiveElement(a.contentWindow.document):a}},focusInFrame=function(s,a){return s===a},focusInsideIframe=function(s,a){return!!toArray$1(s.querySelectorAll("iframe")).some(function(et){return focusInFrame(et,a)})},focusInside=function(s,a){return a===void 0&&(a=getActiveElement(getFirst(s).ownerDocument)),!a||a.dataset&&a.dataset.focusGuard?!1:getAllAffectedNodes(s).some(function(et){return contains$2(et,a)||focusInsideIframe(et,a)})},focusIsHidden=function(s){s===void 0&&(s=document);var a=getActiveElement(s);return a?toArray$1(s.querySelectorAll("[".concat(FOCUS_ALLOW,"]"))).some(function(et){return contains$2(et,a)}):!1},findSelectedRadio=function(s,a){return a.filter(isRadioElement).filter(function(et){return et.name===s.name}).filter(function(et){return et.checked})[0]||s},correctNode=function(s,a){return isRadioElement(s)&&s.name?findSelectedRadio(s,a):s},correctNodes=function(s){var a=new Set;return s.forEach(function(et){return a.add(correctNode(et,s))}),s.filter(function(et){return a.has(et)})},pickFirstFocus=function(s){return s[0]&&s.length>1?correctNode(s[0],s):s[0]},pickFocusable=function(s,a){return s.indexOf(correctNode(a,s))},NEW_FOCUS="NEW_FOCUS",newFocus=function(s,a,et,nt,at){var mt=s.length,wt=s[0],$t=s[mt-1],Ct=isGuard(nt);if(!(nt&&s.indexOf(nt)>=0)){var Dt=nt!==void 0?et.indexOf(nt):-1,Ft=at?et.indexOf(at):Dt,jt=at?s.indexOf(at):-1;if(Dt===-1)return jt!==-1?jt:NEW_FOCUS;if(jt===-1)return NEW_FOCUS;var Nt=Dt-Ft,Lt=et.indexOf(wt),Ut=et.indexOf($t),Vt=correctNodes(et),Yt=nt!==void 0?Vt.indexOf(nt):-1,er=at?Vt.indexOf(at):Yt,tr=Vt.filter(function(yr){return yr.tabIndex>=0}),nr=nt!==void 0?tr.indexOf(nt):-1,sr=at?tr.indexOf(at):nr,dr=nr>=0&&sr>=0?sr-nr:er-Yt;if(!Nt&&jt>=0||a.length===0)return jt;var br=pickFocusable(s,a[0]),vr=pickFocusable(s,a[a.length-1]);if(Dt<=Lt&&Ct&&Math.abs(Nt)>1)return vr;if(Dt>=Ut&&Ct&&Math.abs(Nt)>1)return br;if(Nt&&Math.abs(dr)>1)return jt;if(Dt<=Lt)return vr;if(Dt>Ut)return br;if(Nt)return Math.abs(Nt)>1?jt:(mt+jt+Nt)%mt}},findAutoFocused=function(s){return function(a){var et,nt=(et=getDataset(a))===null||et===void 0?void 0:et.autofocus;return a.autofocus||nt!==void 0&&nt!=="false"||s.indexOf(a)>=0}},pickAutofocus=function(s,a,et){var nt=s.map(function(mt){var wt=mt.node;return wt}),at=filterAutoFocusable(nt.filter(findAutoFocused(et)));return at&&at.length?pickFirstFocus(at):pickFirstFocus(filterAutoFocusable(a))},getParents=function(s,a){return a===void 0&&(a=[]),a.push(s),s.parentNode&&getParents(s.parentNode.host||s.parentNode,a),a},getCommonParent=function(s,a){for(var et=getParents(s),nt=getParents(a),at=0;at<et.length;at+=1){var mt=et[at];if(nt.indexOf(mt)>=0)return mt}return!1},getTopCommonParent=function(s,a,et){var nt=asArray(s),at=asArray(a),mt=nt[0],wt=!1;return at.filter(Boolean).forEach(function($t){wt=getCommonParent(wt||$t,$t)||wt,et.filter(Boolean).forEach(function(Ct){var Dt=getCommonParent(mt,Ct);Dt&&(!wt||contains$2(Dt,wt)?wt=Dt:wt=getCommonParent(Dt,wt))})}),wt},allParentAutofocusables=function(s,a){return s.reduce(function(et,nt){return et.concat(parentAutofocusables(nt,a))},[])},reorderNodes=function(s,a){var et=new Map;return a.forEach(function(nt){return et.set(nt.node,nt)}),s.map(function(nt){return et.get(nt)}).filter(isDefined)},focusSolver=function(s,a){var et=getActiveElement(asArray(s).length>0?document:getFirst(s).ownerDocument),nt=getAllAffectedNodes(s).filter(isNotAGuard),at=getTopCommonParent(et||s,s,nt),mt=new Map,wt=getFocusableNodes(nt,mt),$t=wt.filter(function(Ut){var Vt=Ut.node;return isNotAGuard(Vt)});if($t[0]){var Ct=getFocusableNodes([at],mt).map(function(Ut){var Vt=Ut.node;return Vt}),Dt=reorderNodes(Ct,$t),Ft=Dt.map(function(Ut){var Vt=Ut.node;return Vt}),jt=Dt.filter(function(Ut){var Vt=Ut.tabIndex;return Vt>=0}).map(function(Ut){var Vt=Ut.node;return Vt}),Nt=newFocus(Ft,jt,Ct,et,a);if(Nt===NEW_FOCUS){var Lt=pickAutofocus(wt,jt,allParentAutofocusables(nt,mt))||pickAutofocus(wt,Ft,allParentAutofocusables(nt,mt));if(Lt)return{node:Lt};console.warn("focus-lock: cannot find any node to move focus into");return}return Nt===void 0?Nt:Dt[Nt]}},expandFocusableNodes=function(s){var a=getAllAffectedNodes(s).filter(isNotAGuard),et=getTopCommonParent(s,s,a),nt=orderByTabIndex(getFocusables([et],!0),!0,!0),at=getFocusables(a,!1);return nt.map(function(mt){var wt=mt.node,$t=mt.index;return{node:wt,index:$t,lockItem:at.indexOf(wt)>=0,guard:isGuard(wt)}})},focusOn=function(s,a){s&&("focus"in s&&s.focus(a),"contentWindow"in s&&s.contentWindow&&s.contentWindow.focus())},guardCount=0,lockDisabled=!1,moveFocusInside=function(s,a,et){et===void 0&&(et={});var nt=focusSolver(s,a);if(!lockDisabled&&nt){if(guardCount>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),lockDisabled=!0,setTimeout(function(){lockDisabled=!1},1);return}guardCount++,focusOn(nt.node,et.focusOptions),guardCount--}};function weakRef(s){if(!s)return null;if(typeof WeakRef>"u")return function(){return s||null};var a=s?new WeakRef(s):null;return function(){return(a==null?void 0:a.deref())||null}}var recordElementLocation=function(s){if(!s)return null;for(var a=[],et=s;et&&et!==document.body;)a.push({current:weakRef(et),parent:weakRef(et.parentElement),left:weakRef(et.previousElementSibling),right:weakRef(et.nextElementSibling)}),et=et.parentElement;return{element:weakRef(s),stack:a,ownerDocument:s.ownerDocument}},restoreFocusTo=function(s){var a,et,nt,at,mt;if(s)for(var wt=s.stack,$t=s.ownerDocument,Ct=new Map,Dt=0,Ft=wt;Dt<Ft.length;Dt++){var jt=Ft[Dt],Nt=(a=jt.parent)===null||a===void 0?void 0:a.call(jt);if(Nt&&$t.contains(Nt)){for(var Lt=(et=jt.left)===null||et===void 0?void 0:et.call(jt),Ut=jt.current(),Vt=Nt.contains(Ut)?Ut:void 0,Yt=(nt=jt.right)===null||nt===void 0?void 0:nt.call(jt),er=getTabbableNodes([Nt],Ct),tr=(mt=(at=Vt??(Lt==null?void 0:Lt.nextElementSibling))!==null&&at!==void 0?at:Yt)!==null&&mt!==void 0?mt:Lt;tr;){for(var nr=0,sr=er;nr<sr.length;nr++){var dr=sr[nr];if(tr!=null&&tr.contains(dr.node))return dr.node}tr=tr.nextElementSibling}if(er.length)return er[0].node}}},captureFocusRestore=function(s){var a=recordElementLocation(s);return function(){return restoreFocusTo(a)}},getRelativeFocusable=function(s,a,et){if(!s||!a)return console.error("no element or scope given"),{};var nt=asArray(a);if(nt.every(function(wt){return!contains$2(wt,s)}))return console.error("Active element is not contained in the scope"),{};var at=et?getTabbableNodes(nt,new Map):getFocusableNodes(nt,new Map),mt=at.findIndex(function(wt){var $t=wt.node;return $t===s});if(mt!==-1)return{prev:at[mt-1],next:at[mt+1],first:at[0],last:at[at.length-1]}},getBoundary=function(s,a){var et=a?getTabbableNodes(asArray(s),new Map):getFocusableNodes(asArray(s),new Map);return{first:et[0],last:et[et.length-1]}},defaultOptions=function(s){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},s)},moveFocus=function(s,a,et){a===void 0&&(a={});var nt=defaultOptions(a),at=getRelativeFocusable(s,nt.scope,nt.onlyTabbable);if(at){var mt=et(at,nt.cycle);mt&&focusOn(mt.node,nt.focusOptions)}},focusNextElement=function(s,a){a===void 0&&(a={}),moveFocus(s,a,function(et,nt){var at=et.next,mt=et.first;return at||nt&&mt})},focusPrevElement=function(s,a){a===void 0&&(a={}),moveFocus(s,a,function(et,nt){var at=et.prev,mt=et.last;return at||nt&&mt})},pickBoundary=function(s,a,et){var nt,at=getBoundary(s,(nt=a.onlyTabbable)!==null&&nt!==void 0?nt:!0),mt=at[et];mt&&focusOn(mt.node,a.focusOptions)},focusFirstElement=function(s,a){a===void 0&&(a={}),pickBoundary(s,a,"first")},focusLastElement=function(s,a){a===void 0&&(a={}),pickBoundary(s,a,"last")};function deferAction(s){setTimeout(s,1)}var extractRef=function(a){return a&&"current"in a?a.current:a},focusOnBody=function(){return document&&document.activeElement===document.body},isFreeFocus=function(){return focusOnBody()||focusIsHidden()},lastActiveTrap=null,lastActiveFocus=null,tryRestoreFocus=function(){return null},lastPortaledElement=null,focusWasOutsideWindow=!1,windowFocused=!1,defaultWhitelist=function(){return!0},focusWhitelisted=function(a){return(lastActiveTrap.whiteList||defaultWhitelist)(a)},recordPortal=function(a,et){lastPortaledElement={observerNode:a,portaledElement:et}},focusIsPortaledPair=function(a){return lastPortaledElement&&lastPortaledElement.portaledElement===a};function autoGuard(s,a,et,nt){var at=null,mt=s;do{var wt=nt[mt];if(wt.guard)wt.node.dataset.focusAutoGuard&&(at=wt);else if(wt.lockItem){if(mt!==s)return;at=null}else break}while((mt+=et)!==a);at&&(at.node.tabIndex=0)}var focusWasOutside=function(a){return a?!!focusWasOutsideWindow:focusWasOutsideWindow==="meanwhile"},checkInHost=function s(a,et,nt){return et&&(et.host===a&&(!et.activeElement||nt.contains(et.activeElement))||et.parentNode&&s(a,et.parentNode,nt))},withinHost=function(a,et){return et.some(function(nt){return checkInHost(a,nt,nt)})},getNodeFocusables=function(a){return getFocusableNodes(a,new Map)},isNotFocusable=function(a){return!getNodeFocusables([a.parentNode]).some(function(et){return et.node===a})},activateTrap=function(){var a=!1;if(lastActiveTrap){var et=lastActiveTrap,nt=et.observed,at=et.persistentFocus,mt=et.autoFocus,wt=et.shards,$t=et.crossFrame,Ct=et.focusOptions,Dt=et.noFocusGuards,Ft=nt||lastPortaledElement&&lastPortaledElement.portaledElement;if(focusOnBody()&&lastActiveFocus&&lastActiveFocus!==document.body&&(!document.body.contains(lastActiveFocus)||isNotFocusable(lastActiveFocus))){var jt=tryRestoreFocus();jt&&jt.focus()}var Nt=document&&document.activeElement;if(Ft){var Lt=[Ft].concat(wt.map(extractRef).filter(Boolean)),Ut=function(){if(!focusWasOutside($t)||!Dt||!lastActiveFocus||windowFocused)return!1;var nr=getNodeFocusables(Lt),sr=nr.findIndex(function(dr){var br=dr.node;return br===lastActiveFocus});return sr===0||sr===nr.length-1};if((!Nt||focusWhitelisted(Nt))&&(at||Ut()||!isFreeFocus()||!lastActiveFocus&&mt)&&(Ft&&!(focusInside(Lt)||Nt&&withinHost(Nt,Lt)||focusIsPortaledPair(Nt))&&(document&&!lastActiveFocus&&Nt&&!mt?(Nt.blur&&Nt.blur(),document.body.focus()):(a=moveFocusInside(Lt,lastActiveFocus,{focusOptions:Ct}),lastPortaledElement={})),lastActiveFocus=document&&document.activeElement,lastActiveFocus!==document.body&&(tryRestoreFocus=captureFocusRestore(lastActiveFocus)),focusWasOutsideWindow=!1),document&&Nt!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var Vt=document&&document.activeElement,Yt=expandFocusableNodes(Lt),er=Yt.map(function(tr){var nr=tr.node;return nr}).indexOf(Vt);er>-1&&(Yt.filter(function(tr){var nr=tr.guard,sr=tr.node;return nr&&sr.dataset.focusAutoGuard}).forEach(function(tr){var nr=tr.node;return nr.removeAttribute("tabIndex")}),autoGuard(er,Yt.length,1,Yt),autoGuard(er,-1,-1,Yt))}}}return a},onTrap=function(a){activateTrap()&&a&&(a.stopPropagation(),a.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onFocus=function(a){var et=a.target,nt=a.currentTarget;nt.contains(et)||recordPortal(nt,et)},FocusWatcher=function(){return null},onWindowFocus=function(){windowFocused=!0},onWindowBlur=function(){windowFocused=!1,focusWasOutsideWindow="just",deferAction(function(){focusWasOutsideWindow="meanwhile"})},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("focus",onWindowFocus),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("focus",onWindowFocus),window.removeEventListener("blur",onWindowBlur)};function reducePropsToState(s){return s.filter(function(a){var et=a.disabled;return!et})}var focusLockAPI={moveFocusInside,focusInside,focusNextElement,focusPrevElement,focusFirstElement,focusLastElement,captureFocusRestore};function handleStateChangeOnClient(s){var a=s.slice(-1)[0];a&&!lastActiveTrap&&attachHandler();var et=lastActiveTrap,nt=et&&a&&a.id===et.id;lastActiveTrap=a,et&&!nt&&(et.onDeactivation(),s.filter(function(at){var mt=at.id;return mt===et.id}).length||et.returnFocus(!a)),a?(lastActiveFocus=null,(!nt||et.observed!==a.observed)&&a.onActivation(focusLockAPI),activateTrap(),deferAction(activateTrap)):(detachHandler(),lastActiveFocus=null)}mediumFocus.assignSyncMedium(onFocus);mediumBlur.assignMedium(onBlur);mediumEffect.assignMedium(function(s){return s(focusLockAPI)});const FocusTrap$1=withSideEffect(reducePropsToState,handleStateChangeOnClient)(FocusWatcher);var FocusLockCombination=reactExports.forwardRef(function(a,et){return React$2.createElement(FocusLock$1,_extends({sideCar:FocusTrap$1,ref:et},a))}),_ref=FocusLock$1.propTypes||{};_ref.sideCar;_objectWithoutPropertiesLoose(_ref,["sideCar"]);FocusLockCombination.propTypes={};const FocusTrap=FocusLockCombination.default??FocusLockCombination,FocusLock=s=>{const{initialFocusRef:a,finalFocusRef:et,contentRef:nt,restoreFocus:at,children:mt,isDisabled:wt,autoFocus:$t,persistentFocus:Ct,lockFocusAcrossFrames:Dt}=s,Ft=reactExports.useCallback(()=>{a!=null&&a.current?a.current.focus():nt!=null&&nt.current&&getAllFocusable(nt.current).length===0&&requestAnimationFrame(()=>{var Ut;(Ut=nt.current)==null||Ut.focus()})},[a,nt]),jt=reactExports.useCallback(()=>{var Lt;(Lt=et==null?void 0:et.current)==null||Lt.focus()},[et]),Nt=at&&!et;return jsxRuntimeExports.jsx(FocusTrap,{crossFrame:Dt,persistentFocus:Ct,autoFocus:$t,disabled:wt,onActivation:Ft,onDeactivation:jt,returnFocus:Nt,children:mt})};FocusLock.displayName="FocusLock";const Grid=forwardRef(function(a,et){const{templateAreas:nt,gap:at,rowGap:mt,columnGap:wt,column:$t,row:Ct,autoFlow:Dt,autoRows:Ft,templateRows:jt,autoColumns:Nt,templateColumns:Lt,...Ut}=a,Vt={display:"grid",gridTemplateAreas:nt,gridGap:at,gridRowGap:mt,gridColumnGap:wt,gridAutoColumns:Nt,gridColumn:$t,gridRow:Ct,gridAutoFlow:Dt,gridAutoRows:Ft,gridTemplateRows:jt,gridTemplateColumns:Lt};return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:Vt,...Ut})});Grid.displayName="Grid";function spanFn(s){return mapResponsive(s,a=>a==="auto"?"auto":`span ${a}/span ${a}`)}const GridItem=forwardRef(function(a,et){const{area:nt,colSpan:at,colStart:mt,colEnd:wt,rowEnd:$t,rowSpan:Ct,rowStart:Dt,...Ft}=a,jt=compact({gridArea:nt,gridColumn:spanFn(at),gridRow:spanFn(Ct),gridColumnStart:mt,gridColumnEnd:wt,gridRowStart:Dt,gridRowEnd:$t});return jsxRuntimeExports.jsx(chakra.div,{ref:et,__css:jt,...Ft})});GridItem.displayName="GridItem";const NativeImage=forwardRef(function(a,et){const{htmlWidth:nt,htmlHeight:at,alt:mt,...wt}=a;return jsxRuntimeExports.jsx("img",{width:nt,height:at,ref:et,alt:mt,...wt})});NativeImage.displayName="NativeImage";const Image$1=forwardRef(function(a,et){const{fallbackSrc:nt,fallback:at,src:mt,srcSet:wt,align:$t,fit:Ct,loading:Dt,ignoreFallback:Ft,crossOrigin:jt,fallbackStrategy:Nt="beforeLoadOrError",referrerPolicy:Lt,...Ut}=a,Vt=nt!==void 0||at!==void 0,Yt=Dt!=null||Ft||!Vt,er=useImage({...a,crossOrigin:jt,ignoreFallback:Yt}),tr=shouldShowFallbackImage(er,Nt),nr={ref:et,objectFit:Ct,objectPosition:$t,...Yt?Ut:omit(Ut,["onError","onLoad"])};return tr?at||jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,className:"chakra-image__placeholder",src:nt,...nr}):jsxRuntimeExports.jsx(chakra.img,{as:NativeImage,src:mt,srcSet:wt,crossOrigin:jt,loading:Dt,referrerPolicy:Lt,className:"chakra-image",...nr})});Image$1.displayName="Image";const Input=forwardRef(function(a,et){const{htmlSize:nt,...at}=a,mt=useMultiStyleConfig("Input",at),wt=omitThemingProps(at),$t=useFormControl(wt),Ct=cx("chakra-input",a.className);return jsxRuntimeExports.jsx(chakra.input,{size:nt,...$t,__css:mt.field,ref:et,className:Ct})});Input.displayName="Input";Input.id="Input";const[InputGroupStylesProvider,useInputGroupStyles]=createContext({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),InputGroup=forwardRef(function(a,et){const nt=useMultiStyleConfig("Input",a),{children:at,className:mt,...wt}=omitThemingProps(a),$t=cx("chakra-input__group",mt),Ct={},Dt=getValidChildren(at),Ft=nt.field;Dt.forEach(Nt=>{nt&&(Ft&&Nt.type.id==="InputLeftElement"&&(Ct.paddingStart=Ft.height??Ft.h),Ft&&Nt.type.id==="InputRightElement"&&(Ct.paddingEnd=Ft.height??Ft.h),Nt.type.id==="InputRightAddon"&&(Ct.borderEndRadius=0),Nt.type.id==="InputLeftAddon"&&(Ct.borderStartRadius=0))});const jt=Dt.map(Nt=>{var Ut,Vt;const Lt=compact({size:((Ut=Nt.props)==null?void 0:Ut.size)||a.size,variant:((Vt=Nt.props)==null?void 0:Vt.variant)||a.variant});return Nt.type.id!=="Input"?reactExports.cloneElement(Nt,Lt):reactExports.cloneElement(Nt,Object.assign(Lt,Ct,Nt.props))});return jsxRuntimeExports.jsx(chakra.div,{className:$t,ref:et,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...nt.group},"data-group":!0,...wt,children:jsxRuntimeExports.jsx(InputGroupStylesProvider,{value:nt,children:jt})})});InputGroup.displayName="InputGroup";const placements$1={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},StyledAddon=chakra("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),InputAddon=forwardRef(function(a,et){const{placement:nt="left",...at}=a,mt=placements$1[nt]??{},wt=useInputGroupStyles();return jsxRuntimeExports.jsx(StyledAddon,{ref:et,...at,__css:{...wt.addon,...mt}})});InputAddon.displayName="InputAddon";const InputLeftAddon=forwardRef(function(a,et){return jsxRuntimeExports.jsx(InputAddon,{ref:et,placement:"left",...a,className:cx("chakra-input__left-addon",a.className)})});InputLeftAddon.displayName="InputLeftAddon";InputLeftAddon.id="InputLeftAddon";const InputRightAddon=forwardRef(function(a,et){return jsxRuntimeExports.jsx(InputAddon,{ref:et,placement:"right",...a,className:cx("chakra-input__right-addon",a.className)})});InputRightAddon.displayName="InputRightAddon";InputRightAddon.id="InputRightAddon";const StyledInputElement=chakra("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),InputElement=forwardRef(function(a,et){const{placement:nt="left",...at}=a,mt=useInputGroupStyles(),wt=mt.field,Ct={[nt==="left"?"insetStart":"insetEnd"]:"0",width:(wt==null?void 0:wt.height)??(wt==null?void 0:wt.h),height:(wt==null?void 0:wt.height)??(wt==null?void 0:wt.h),fontSize:wt==null?void 0:wt.fontSize,...mt.element};return jsxRuntimeExports.jsx(StyledInputElement,{ref:et,__css:Ct,...at})});InputElement.id="InputElement";InputElement.displayName="InputElement";const InputLeftElement=forwardRef(function(a,et){const{className:nt,...at}=a,mt=cx("chakra-input__left-element",nt);return jsxRuntimeExports.jsx(InputElement,{ref:et,placement:"left",className:mt,...at})});InputLeftElement.id="InputLeftElement";InputLeftElement.displayName="InputLeftElement";const InputRightElement=forwardRef(function(a,et){const{className:nt,...at}=a,mt=cx("chakra-input__right-element",nt);return jsxRuntimeExports.jsx(InputElement,{ref:et,placement:"right",className:mt,...at})});InputRightElement.id="InputRightElement";InputRightElement.displayName="InputRightElement";const Link=forwardRef(function(a,et){const nt=useStyleConfig("Link",a),{className:at,isExternal:mt,...wt}=omitThemingProps(a);return jsxRuntimeExports.jsx(chakra.a,{target:mt?"_blank":void 0,rel:mt?"noopener":void 0,ref:et,className:cx("chakra-link",at),...wt,__css:nt})});Link.displayName="Link";function getNextItemFromSearch(s,a,et,nt){if(a==null)return nt;if(!nt)return s.find(wt=>et(wt).toLowerCase().startsWith(a.toLowerCase()));const at=s.filter(mt=>et(mt).toLowerCase().startsWith(a.toLowerCase()));if(at.length>0){let mt;return at.includes(nt)?(mt=at.indexOf(nt)+1,mt===at.length&&(mt=0),at[mt]):(mt=s.indexOf(at[0]),s[mt])}return nt}function isPrintableCharacter(s){const{key:a}=s;return a.length===1||a.length>1&&/[^a-zA-Z0-9]/.test(a)}function useShortcut(s={}){const{timeout:a=300,preventDefault:et=()=>!0}=s,[nt,at]=reactExports.useState([]),mt=reactExports.useRef(void 0),wt=()=>{mt.current&&(clearTimeout(mt.current),mt.current=null)},$t=()=>{wt(),mt.current=setTimeout(()=>{at([]),mt.current=null},a)};reactExports.useEffect(()=>wt,[]);function Ct(Dt){return Ft=>{if(Ft.key==="Backspace"){const jt=[...nt];jt.pop(),at(jt);return}if(isPrintableCharacter(Ft)){const jt=nt.concat(Ft.key);et(Ft)&&(Ft.preventDefault(),Ft.stopPropagation()),at(jt),Dt(jt.join("")),$t()}}}return Ct}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(s,a){return s.concat([a+"-"+start,a+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(s,a){return s.concat([a,a+"-"+start,a+"-"+end])},[]),beforeRead="beforeRead",read$1="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read$1,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(s){return s?(s.nodeName||"").toLowerCase():null}function getWindow(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var a=s.ownerDocument;return a&&a.defaultView||window}return s}function isElement$1(s){var a=getWindow(s).Element;return s instanceof a||s instanceof Element}function isHTMLElement$1(s){var a=getWindow(s).HTMLElement;return s instanceof a||s instanceof HTMLElement}function isShadowRoot(s){if(typeof ShadowRoot>"u")return!1;var a=getWindow(s).ShadowRoot;return s instanceof a||s instanceof ShadowRoot}function applyStyles(s){var a=s.state;Object.keys(a.elements).forEach(function(et){var nt=a.styles[et]||{},at=a.attributes[et]||{},mt=a.elements[et];!isHTMLElement$1(mt)||!getNodeName(mt)||(Object.assign(mt.style,nt),Object.keys(at).forEach(function(wt){var $t=at[wt];$t===!1?mt.removeAttribute(wt):mt.setAttribute(wt,$t===!0?"":$t)}))})}function effect$2(s){var a=s.state,et={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,et.popper),a.styles=et,a.elements.arrow&&Object.assign(a.elements.arrow.style,et.arrow),function(){Object.keys(a.elements).forEach(function(nt){var at=a.elements[nt],mt=a.attributes[nt]||{},wt=Object.keys(a.styles.hasOwnProperty(nt)?a.styles[nt]:et[nt]),$t=wt.reduce(function(Ct,Dt){return Ct[Dt]="",Ct},{});!isHTMLElement$1(at)||!getNodeName(at)||(Object.assign(at.style,$t),Object.keys(mt).forEach(function(Ct){at.removeAttribute(Ct)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(s){return s.split("-")[0]}var max$2=Math.max,min$2=Math.min,round$2=Math.round;function getUAString(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(s,a,et){a===void 0&&(a=!1),et===void 0&&(et=!1);var nt=s.getBoundingClientRect(),at=1,mt=1;a&&isHTMLElement$1(s)&&(at=s.offsetWidth>0&&round$2(nt.width)/s.offsetWidth||1,mt=s.offsetHeight>0&&round$2(nt.height)/s.offsetHeight||1);var wt=isElement$1(s)?getWindow(s):window,$t=wt.visualViewport,Ct=!isLayoutViewport()&&et,Dt=(nt.left+(Ct&&$t?$t.offsetLeft:0))/at,Ft=(nt.top+(Ct&&$t?$t.offsetTop:0))/mt,jt=nt.width/at,Nt=nt.height/mt;return{width:jt,height:Nt,top:Ft,right:Dt+jt,bottom:Ft+Nt,left:Dt,x:Dt,y:Ft}}function getLayoutRect(s){var a=getBoundingClientRect(s),et=s.offsetWidth,nt=s.offsetHeight;return Math.abs(a.width-et)<=1&&(et=a.width),Math.abs(a.height-nt)<=1&&(nt=a.height),{x:s.offsetLeft,y:s.offsetTop,width:et,height:nt}}function contains$1(s,a){var et=a.getRootNode&&a.getRootNode();if(s.contains(a))return!0;if(et&&isShadowRoot(et)){var nt=a;do{if(nt&&s.isSameNode(nt))return!0;nt=nt.parentNode||nt.host}while(nt)}return!1}function getComputedStyle(s){return getWindow(s).getComputedStyle(s)}function isTableElement(s){return["table","td","th"].indexOf(getNodeName(s))>=0}function getDocumentElement(s){return((isElement$1(s)?s.ownerDocument:s.document)||window.document).documentElement}function getParentNode(s){return getNodeName(s)==="html"?s:s.assignedSlot||s.parentNode||(isShadowRoot(s)?s.host:null)||getDocumentElement(s)}function getTrueOffsetParent(s){return!isHTMLElement$1(s)||getComputedStyle(s).position==="fixed"?null:s.offsetParent}function getContainingBlock(s){var a=/firefox/i.test(getUAString()),et=/Trident/i.test(getUAString());if(et&&isHTMLElement$1(s)){var nt=getComputedStyle(s);if(nt.position==="fixed")return null}var at=getParentNode(s);for(isShadowRoot(at)&&(at=at.host);isHTMLElement$1(at)&&["html","body"].indexOf(getNodeName(at))<0;){var mt=getComputedStyle(at);if(mt.transform!=="none"||mt.perspective!=="none"||mt.contain==="paint"||["transform","perspective"].indexOf(mt.willChange)!==-1||a&&mt.willChange==="filter"||a&&mt.filter&&mt.filter!=="none")return at;at=at.parentNode}return null}function getOffsetParent(s){for(var a=getWindow(s),et=getTrueOffsetParent(s);et&&isTableElement(et)&&getComputedStyle(et).position==="static";)et=getTrueOffsetParent(et);return et&&(getNodeName(et)==="html"||getNodeName(et)==="body"&&getComputedStyle(et).position==="static")?a:et||getContainingBlock(s)||a}function getMainAxisFromPlacement(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function within(s,a,et){return max$2(s,min$2(a,et))}function withinMaxClamp(s,a,et){var nt=within(s,a,et);return nt>et?et:nt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(s){return Object.assign({},getFreshSideObject(),s)}function expandToHashMap(s,a){return a.reduce(function(et,nt){return et[nt]=s,et},{})}var toPaddingObject=function(a,et){return a=typeof a=="function"?a(Object.assign({},et.rects,{placement:et.placement})):a,mergePaddingObject(typeof a!="number"?a:expandToHashMap(a,basePlacements))};function arrow(s){var a,et=s.state,nt=s.name,at=s.options,mt=et.elements.arrow,wt=et.modifiersData.popperOffsets,$t=getBasePlacement(et.placement),Ct=getMainAxisFromPlacement($t),Dt=[left,right].indexOf($t)>=0,Ft=Dt?"height":"width";if(!(!mt||!wt)){var jt=toPaddingObject(at.padding,et),Nt=getLayoutRect(mt),Lt=Ct==="y"?top:left,Ut=Ct==="y"?bottom:right,Vt=et.rects.reference[Ft]+et.rects.reference[Ct]-wt[Ct]-et.rects.popper[Ft],Yt=wt[Ct]-et.rects.reference[Ct],er=getOffsetParent(mt),tr=er?Ct==="y"?er.clientHeight||0:er.clientWidth||0:0,nr=Vt/2-Yt/2,sr=jt[Lt],dr=tr-Nt[Ft]-jt[Ut],br=tr/2-Nt[Ft]/2+nr,vr=within(sr,br,dr),yr=Ct;et.modifiersData[nt]=(a={},a[yr]=vr,a.centerOffset=vr-br,a)}}function effect$1(s){var a=s.state,et=s.options,nt=et.element,at=nt===void 0?"[data-popper-arrow]":nt;at!=null&&(typeof at=="string"&&(at=a.elements.popper.querySelector(at),!at)||contains$1(a.elements.popper,at)&&(a.elements.arrow=at))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(s){return s.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(s,a){var et=s.x,nt=s.y,at=a.devicePixelRatio||1;return{x:round$2(et*at)/at||0,y:round$2(nt*at)/at||0}}function mapToStyles(s){var a,et=s.popper,nt=s.popperRect,at=s.placement,mt=s.variation,wt=s.offsets,$t=s.position,Ct=s.gpuAcceleration,Dt=s.adaptive,Ft=s.roundOffsets,jt=s.isFixed,Nt=wt.x,Lt=Nt===void 0?0:Nt,Ut=wt.y,Vt=Ut===void 0?0:Ut,Yt=typeof Ft=="function"?Ft({x:Lt,y:Vt}):{x:Lt,y:Vt};Lt=Yt.x,Vt=Yt.y;var er=wt.hasOwnProperty("x"),tr=wt.hasOwnProperty("y"),nr=left,sr=top,dr=window;if(Dt){var br=getOffsetParent(et),vr="clientHeight",yr="clientWidth";if(br===getWindow(et)&&(br=getDocumentElement(et),getComputedStyle(br).position!=="static"&&$t==="absolute"&&(vr="scrollHeight",yr="scrollWidth")),br=br,at===top||(at===left||at===right)&&mt===end){sr=bottom;var $r=jt&&br===dr&&dr.visualViewport?dr.visualViewport.height:br[vr];Vt-=$r-nt.height,Vt*=Ct?1:-1}if(at===left||(at===top||at===bottom)&&mt===end){nr=right;var Sr=jt&&br===dr&&dr.visualViewport?dr.visualViewport.width:br[yr];Lt-=Sr-nt.width,Lt*=Ct?1:-1}}var wr=Object.assign({position:$t},Dt&&unsetSides),fr=Ft===!0?roundOffsetsByDPR({x:Lt,y:Vt},getWindow(et)):{x:Lt,y:Vt};if(Lt=fr.x,Vt=fr.y,Ct){var _r;return Object.assign({},wr,(_r={},_r[sr]=tr?"0":"",_r[nr]=er?"0":"",_r.transform=(dr.devicePixelRatio||1)<=1?"translate("+Lt+"px, "+Vt+"px)":"translate3d("+Lt+"px, "+Vt+"px, 0)",_r))}return Object.assign({},wr,(a={},a[sr]=tr?Vt+"px":"",a[nr]=er?Lt+"px":"",a.transform="",a))}function computeStyles(s){var a=s.state,et=s.options,nt=et.gpuAcceleration,at=nt===void 0?!0:nt,mt=et.adaptive,wt=mt===void 0?!0:mt,$t=et.roundOffsets,Ct=$t===void 0?!0:$t,Dt={placement:getBasePlacement(a.placement),variation:getVariation(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:at,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,mapToStyles(Object.assign({},Dt,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:wt,roundOffsets:Ct})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,mapToStyles(Object.assign({},Dt,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ct})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(s){var a=s.state,et=s.instance,nt=s.options,at=nt.scroll,mt=at===void 0?!0:at,wt=nt.resize,$t=wt===void 0?!0:wt,Ct=getWindow(a.elements.popper),Dt=[].concat(a.scrollParents.reference,a.scrollParents.popper);return mt&&Dt.forEach(function(Ft){Ft.addEventListener("scroll",et.update,passive)}),$t&&Ct.addEventListener("resize",et.update,passive),function(){mt&&Dt.forEach(function(Ft){Ft.removeEventListener("scroll",et.update,passive)}),$t&&Ct.removeEventListener("resize",et.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$3={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(s){return s.replace(/left|right|bottom|top/g,function(a){return hash$3[a]})}var hash$2={start:"end",end:"start"};function getOppositeVariationPlacement(s){return s.replace(/start|end/g,function(a){return hash$2[a]})}function getWindowScroll(s){var a=getWindow(s),et=a.pageXOffset,nt=a.pageYOffset;return{scrollLeft:et,scrollTop:nt}}function getWindowScrollBarX(s){return getBoundingClientRect(getDocumentElement(s)).left+getWindowScroll(s).scrollLeft}function getViewportRect(s,a){var et=getWindow(s),nt=getDocumentElement(s),at=et.visualViewport,mt=nt.clientWidth,wt=nt.clientHeight,$t=0,Ct=0;if(at){mt=at.width,wt=at.height;var Dt=isLayoutViewport();(Dt||!Dt&&a==="fixed")&&($t=at.offsetLeft,Ct=at.offsetTop)}return{width:mt,height:wt,x:$t+getWindowScrollBarX(s),y:Ct}}function getDocumentRect(s){var a,et=getDocumentElement(s),nt=getWindowScroll(s),at=(a=s.ownerDocument)==null?void 0:a.body,mt=max$2(et.scrollWidth,et.clientWidth,at?at.scrollWidth:0,at?at.clientWidth:0),wt=max$2(et.scrollHeight,et.clientHeight,at?at.scrollHeight:0,at?at.clientHeight:0),$t=-nt.scrollLeft+getWindowScrollBarX(s),Ct=-nt.scrollTop;return getComputedStyle(at||et).direction==="rtl"&&($t+=max$2(et.clientWidth,at?at.clientWidth:0)-mt),{width:mt,height:wt,x:$t,y:Ct}}function isScrollParent(s){var a=getComputedStyle(s),et=a.overflow,nt=a.overflowX,at=a.overflowY;return/auto|scroll|overlay|hidden/.test(et+at+nt)}function getScrollParent(s){return["html","body","#document"].indexOf(getNodeName(s))>=0?s.ownerDocument.body:isHTMLElement$1(s)&&isScrollParent(s)?s:getScrollParent(getParentNode(s))}function listScrollParents(s,a){var et;a===void 0&&(a=[]);var nt=getScrollParent(s),at=nt===((et=s.ownerDocument)==null?void 0:et.body),mt=getWindow(nt),wt=at?[mt].concat(mt.visualViewport||[],isScrollParent(nt)?nt:[]):nt,$t=a.concat(wt);return at?$t:$t.concat(listScrollParents(getParentNode(wt)))}function rectToClientRect(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function getInnerBoundingClientRect(s,a){var et=getBoundingClientRect(s,!1,a==="fixed");return et.top=et.top+s.clientTop,et.left=et.left+s.clientLeft,et.bottom=et.top+s.clientHeight,et.right=et.left+s.clientWidth,et.width=s.clientWidth,et.height=s.clientHeight,et.x=et.left,et.y=et.top,et}function getClientRectFromMixedType(s,a,et){return a===viewport?rectToClientRect(getViewportRect(s,et)):isElement$1(a)?getInnerBoundingClientRect(a,et):rectToClientRect(getDocumentRect(getDocumentElement(s)))}function getClippingParents(s){var a=listScrollParents(getParentNode(s)),et=["absolute","fixed"].indexOf(getComputedStyle(s).position)>=0,nt=et&&isHTMLElement$1(s)?getOffsetParent(s):s;return isElement$1(nt)?a.filter(function(at){return isElement$1(at)&&contains$1(at,nt)&&getNodeName(at)!=="body"}):[]}function getClippingRect(s,a,et,nt){var at=a==="clippingParents"?getClippingParents(s):[].concat(a),mt=[].concat(at,[et]),wt=mt[0],$t=mt.reduce(function(Ct,Dt){var Ft=getClientRectFromMixedType(s,Dt,nt);return Ct.top=max$2(Ft.top,Ct.top),Ct.right=min$2(Ft.right,Ct.right),Ct.bottom=min$2(Ft.bottom,Ct.bottom),Ct.left=max$2(Ft.left,Ct.left),Ct},getClientRectFromMixedType(s,wt,nt));return $t.width=$t.right-$t.left,$t.height=$t.bottom-$t.top,$t.x=$t.left,$t.y=$t.top,$t}function computeOffsets(s){var a=s.reference,et=s.element,nt=s.placement,at=nt?getBasePlacement(nt):null,mt=nt?getVariation(nt):null,wt=a.x+a.width/2-et.width/2,$t=a.y+a.height/2-et.height/2,Ct;switch(at){case top:Ct={x:wt,y:a.y-et.height};break;case bottom:Ct={x:wt,y:a.y+a.height};break;case right:Ct={x:a.x+a.width,y:$t};break;case left:Ct={x:a.x-et.width,y:$t};break;default:Ct={x:a.x,y:a.y}}var Dt=at?getMainAxisFromPlacement(at):null;if(Dt!=null){var Ft=Dt==="y"?"height":"width";switch(mt){case start:Ct[Dt]=Ct[Dt]-(a[Ft]/2-et[Ft]/2);break;case end:Ct[Dt]=Ct[Dt]+(a[Ft]/2-et[Ft]/2);break}}return Ct}function detectOverflow(s,a){a===void 0&&(a={});var et=a,nt=et.placement,at=nt===void 0?s.placement:nt,mt=et.strategy,wt=mt===void 0?s.strategy:mt,$t=et.boundary,Ct=$t===void 0?clippingParents:$t,Dt=et.rootBoundary,Ft=Dt===void 0?viewport:Dt,jt=et.elementContext,Nt=jt===void 0?popper:jt,Lt=et.altBoundary,Ut=Lt===void 0?!1:Lt,Vt=et.padding,Yt=Vt===void 0?0:Vt,er=mergePaddingObject(typeof Yt!="number"?Yt:expandToHashMap(Yt,basePlacements)),tr=Nt===popper?reference:popper,nr=s.rects.popper,sr=s.elements[Ut?tr:Nt],dr=getClippingRect(isElement$1(sr)?sr:sr.contextElement||getDocumentElement(s.elements.popper),Ct,Ft,wt),br=getBoundingClientRect(s.elements.reference),vr=computeOffsets({reference:br,element:nr,placement:at}),yr=rectToClientRect(Object.assign({},nr,vr)),$r=Nt===popper?yr:br,Sr={top:dr.top-$r.top+er.top,bottom:$r.bottom-dr.bottom+er.bottom,left:dr.left-$r.left+er.left,right:$r.right-dr.right+er.right},wr=s.modifiersData.offset;if(Nt===popper&&wr){var fr=wr[at];Object.keys(Sr).forEach(function(_r){var ir=[right,bottom].indexOf(_r)>=0?1:-1,rr=[top,bottom].indexOf(_r)>=0?"y":"x";Sr[_r]+=fr[rr]*ir})}return Sr}function computeAutoPlacement(s,a){a===void 0&&(a={});var et=a,nt=et.placement,at=et.boundary,mt=et.rootBoundary,wt=et.padding,$t=et.flipVariations,Ct=et.allowedAutoPlacements,Dt=Ct===void 0?placements:Ct,Ft=getVariation(nt),jt=Ft?$t?variationPlacements:variationPlacements.filter(function(Ut){return getVariation(Ut)===Ft}):basePlacements,Nt=jt.filter(function(Ut){return Dt.indexOf(Ut)>=0});Nt.length===0&&(Nt=jt);var Lt=Nt.reduce(function(Ut,Vt){return Ut[Vt]=detectOverflow(s,{placement:Vt,boundary:at,rootBoundary:mt,padding:wt})[getBasePlacement(Vt)],Ut},{});return Object.keys(Lt).sort(function(Ut,Vt){return Lt[Ut]-Lt[Vt]})}function getExpandedFallbackPlacements(s){if(getBasePlacement(s)===auto)return[];var a=getOppositePlacement(s);return[getOppositeVariationPlacement(s),a,getOppositeVariationPlacement(a)]}function flip(s){var a=s.state,et=s.options,nt=s.name;if(!a.modifiersData[nt]._skip){for(var at=et.mainAxis,mt=at===void 0?!0:at,wt=et.altAxis,$t=wt===void 0?!0:wt,Ct=et.fallbackPlacements,Dt=et.padding,Ft=et.boundary,jt=et.rootBoundary,Nt=et.altBoundary,Lt=et.flipVariations,Ut=Lt===void 0?!0:Lt,Vt=et.allowedAutoPlacements,Yt=a.options.placement,er=getBasePlacement(Yt),tr=er===Yt,nr=Ct||(tr||!Ut?[getOppositePlacement(Yt)]:getExpandedFallbackPlacements(Yt)),sr=[Yt].concat(nr).reduce(function(xr,Mr){return xr.concat(getBasePlacement(Mr)===auto?computeAutoPlacement(a,{placement:Mr,boundary:Ft,rootBoundary:jt,padding:Dt,flipVariations:Ut,allowedAutoPlacements:Vt}):Mr)},[]),dr=a.rects.reference,br=a.rects.popper,vr=new Map,yr=!0,$r=sr[0],Sr=0;Sr<sr.length;Sr++){var wr=sr[Sr],fr=getBasePlacement(wr),_r=getVariation(wr)===start,ir=[top,bottom].indexOf(fr)>=0,rr=ir?"width":"height",or=detectOverflow(a,{placement:wr,boundary:Ft,rootBoundary:jt,altBoundary:Nt,padding:Dt}),ar=ir?_r?right:left:_r?bottom:top;dr[rr]>br[rr]&&(ar=getOppositePlacement(ar));var ur=getOppositePlacement(ar),pr=[];if(mt&&pr.push(or[fr]<=0),$t&&pr.push(or[ar]<=0,or[ur]<=0),pr.every(function(xr){return xr})){$r=wr,yr=!1;break}vr.set(wr,pr)}if(yr)for(var cr=Ut?3:1,gr=function(Mr){var Pr=sr.find(function(Ar){var Ir=vr.get(Ar);if(Ir)return Ir.slice(0,Mr).every(function(qr){return qr})});if(Pr)return $r=Pr,"break"},hr=cr;hr>0;hr--){var lr=gr(hr);if(lr==="break")break}a.placement!==$r&&(a.modifiersData[nt]._skip=!0,a.placement=$r,a.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(s,a,et){return et===void 0&&(et={x:0,y:0}),{top:s.top-a.height-et.y,right:s.right-a.width+et.x,bottom:s.bottom-a.height+et.y,left:s.left-a.width-et.x}}function isAnySideFullyClipped(s){return[top,right,bottom,left].some(function(a){return s[a]>=0})}function hide(s){var a=s.state,et=s.name,nt=a.rects.reference,at=a.rects.popper,mt=a.modifiersData.preventOverflow,wt=detectOverflow(a,{elementContext:"reference"}),$t=detectOverflow(a,{altBoundary:!0}),Ct=getSideOffsets(wt,nt),Dt=getSideOffsets($t,at,mt),Ft=isAnySideFullyClipped(Ct),jt=isAnySideFullyClipped(Dt);a.modifiersData[et]={referenceClippingOffsets:Ct,popperEscapeOffsets:Dt,isReferenceHidden:Ft,hasPopperEscaped:jt},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":Ft,"data-popper-escaped":jt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(s,a,et){var nt=getBasePlacement(s),at=[left,top].indexOf(nt)>=0?-1:1,mt=typeof et=="function"?et(Object.assign({},a,{placement:s})):et,wt=mt[0],$t=mt[1];return wt=wt||0,$t=($t||0)*at,[left,right].indexOf(nt)>=0?{x:$t,y:wt}:{x:wt,y:$t}}function offset(s){var a=s.state,et=s.options,nt=s.name,at=et.offset,mt=at===void 0?[0,0]:at,wt=placements.reduce(function(Ft,jt){return Ft[jt]=distanceAndSkiddingToXY(jt,a.rects,mt),Ft},{}),$t=wt[a.placement],Ct=$t.x,Dt=$t.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=Ct,a.modifiersData.popperOffsets.y+=Dt),a.modifiersData[nt]=wt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(s){var a=s.state,et=s.name;a.modifiersData[et]=computeOffsets({reference:a.rects.reference,element:a.rects.popper,placement:a.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(s){return s==="x"?"y":"x"}function preventOverflow(s){var a=s.state,et=s.options,nt=s.name,at=et.mainAxis,mt=at===void 0?!0:at,wt=et.altAxis,$t=wt===void 0?!1:wt,Ct=et.boundary,Dt=et.rootBoundary,Ft=et.altBoundary,jt=et.padding,Nt=et.tether,Lt=Nt===void 0?!0:Nt,Ut=et.tetherOffset,Vt=Ut===void 0?0:Ut,Yt=detectOverflow(a,{boundary:Ct,rootBoundary:Dt,padding:jt,altBoundary:Ft}),er=getBasePlacement(a.placement),tr=getVariation(a.placement),nr=!tr,sr=getMainAxisFromPlacement(er),dr=getAltAxis(sr),br=a.modifiersData.popperOffsets,vr=a.rects.reference,yr=a.rects.popper,$r=typeof Vt=="function"?Vt(Object.assign({},a.rects,{placement:a.placement})):Vt,Sr=typeof $r=="number"?{mainAxis:$r,altAxis:$r}:Object.assign({mainAxis:0,altAxis:0},$r),wr=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,fr={x:0,y:0};if(br){if(mt){var _r,ir=sr==="y"?top:left,rr=sr==="y"?bottom:right,or=sr==="y"?"height":"width",ar=br[sr],ur=ar+Yt[ir],pr=ar-Yt[rr],cr=Lt?-yr[or]/2:0,gr=tr===start?vr[or]:yr[or],hr=tr===start?-yr[or]:-vr[or],lr=a.elements.arrow,xr=Lt&&lr?getLayoutRect(lr):{width:0,height:0},Mr=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Pr=Mr[ir],Ar=Mr[rr],Ir=within(0,vr[or],xr[or]),qr=nr?vr[or]/2-cr-Ir-Pr-Sr.mainAxis:gr-Ir-Pr-Sr.mainAxis,Rr=nr?-vr[or]/2+cr+Ir+Ar+Sr.mainAxis:hr+Ir+Ar+Sr.mainAxis,Tr=a.elements.arrow&&getOffsetParent(a.elements.arrow),Er=Tr?sr==="y"?Tr.clientTop||0:Tr.clientLeft||0:0,Br=(_r=wr==null?void 0:wr[sr])!=null?_r:0,Nr=ar+qr-Br-Er,zr=ar+Rr-Br,Hr=within(Lt?min$2(ur,Nr):ur,ar,Lt?max$2(pr,zr):pr);br[sr]=Hr,fr[sr]=Hr-ar}if($t){var jr,Ur=sr==="x"?top:left,Fr=sr==="x"?bottom:right,Gr=br[dr],Wr=dr==="y"?"height":"width",nn=Gr+Yt[Ur],Ln=Gr-Yt[Fr],Un=[top,left].indexOf(er)!==-1,Wn=(jr=wr==null?void 0:wr[dr])!=null?jr:0,io=Un?nn:Gr-vr[Wr]-yr[Wr]-Wn+Sr.altAxis,zn=Un?Gr+vr[Wr]+yr[Wr]-Wn-Sr.altAxis:Ln,Zn=Lt&&Un?withinMaxClamp(io,Gr,zn):within(Lt?io:nn,Gr,Lt?zn:Ln);br[dr]=Zn,fr[dr]=Zn-Gr}a.modifiersData[nt]=fr}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function getNodeScroll(s){return s===getWindow(s)||!isHTMLElement$1(s)?getWindowScroll(s):getHTMLElementScroll(s)}function isElementScaled(s){var a=s.getBoundingClientRect(),et=round$2(a.width)/s.offsetWidth||1,nt=round$2(a.height)/s.offsetHeight||1;return et!==1||nt!==1}function getCompositeRect(s,a,et){et===void 0&&(et=!1);var nt=isHTMLElement$1(a),at=isHTMLElement$1(a)&&isElementScaled(a),mt=getDocumentElement(a),wt=getBoundingClientRect(s,at,et),$t={scrollLeft:0,scrollTop:0},Ct={x:0,y:0};return(nt||!nt&&!et)&&((getNodeName(a)!=="body"||isScrollParent(mt))&&($t=getNodeScroll(a)),isHTMLElement$1(a)?(Ct=getBoundingClientRect(a,!0),Ct.x+=a.clientLeft,Ct.y+=a.clientTop):mt&&(Ct.x=getWindowScrollBarX(mt))),{x:wt.left+$t.scrollLeft-Ct.x,y:wt.top+$t.scrollTop-Ct.y,width:wt.width,height:wt.height}}function order(s){var a=new Map,et=new Set,nt=[];s.forEach(function(mt){a.set(mt.name,mt)});function at(mt){et.add(mt.name);var wt=[].concat(mt.requires||[],mt.requiresIfExists||[]);wt.forEach(function($t){if(!et.has($t)){var Ct=a.get($t);Ct&&at(Ct)}}),nt.push(mt)}return s.forEach(function(mt){et.has(mt.name)||at(mt)}),nt}function orderModifiers(s){var a=order(s);return modifierPhases.reduce(function(et,nt){return et.concat(a.filter(function(at){return at.phase===nt}))},[])}function debounce(s){var a;return function(){return a||(a=new Promise(function(et){Promise.resolve().then(function(){a=void 0,et(s())})})),a}}function mergeByName(s){var a=s.reduce(function(et,nt){var at=et[nt.name];return et[nt.name]=at?Object.assign({},at,nt,{options:Object.assign({},at.options,nt.options),data:Object.assign({},at.data,nt.data)}):nt,et},{});return Object.keys(a).map(function(et){return a[et]})}var DEFAULT_OPTIONS$1={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var s=arguments.length,a=new Array(s),et=0;et<s;et++)a[et]=arguments[et];return!a.some(function(nt){return!(nt&&typeof nt.getBoundingClientRect=="function")})}function popperGenerator(s){s===void 0&&(s={});var a=s,et=a.defaultModifiers,nt=et===void 0?[]:et,at=a.defaultOptions,mt=at===void 0?DEFAULT_OPTIONS$1:at;return function($t,Ct,Dt){Dt===void 0&&(Dt=mt);var Ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS$1,mt),modifiersData:{},elements:{reference:$t,popper:Ct},attributes:{},styles:{}},jt=[],Nt=!1,Lt={state:Ft,setOptions:function(er){var tr=typeof er=="function"?er(Ft.options):er;Vt(),Ft.options=Object.assign({},mt,Ft.options,tr),Ft.scrollParents={reference:isElement$1($t)?listScrollParents($t):$t.contextElement?listScrollParents($t.contextElement):[],popper:listScrollParents(Ct)};var nr=orderModifiers(mergeByName([].concat(nt,Ft.options.modifiers)));return Ft.orderedModifiers=nr.filter(function(sr){return sr.enabled}),Ut(),Lt.update()},forceUpdate:function(){if(!Nt){var er=Ft.elements,tr=er.reference,nr=er.popper;if(areValidElements(tr,nr)){Ft.rects={reference:getCompositeRect(tr,getOffsetParent(nr),Ft.options.strategy==="fixed"),popper:getLayoutRect(nr)},Ft.reset=!1,Ft.placement=Ft.options.placement,Ft.orderedModifiers.forEach(function(Sr){return Ft.modifiersData[Sr.name]=Object.assign({},Sr.data)});for(var sr=0;sr<Ft.orderedModifiers.length;sr++){if(Ft.reset===!0){Ft.reset=!1,sr=-1;continue}var dr=Ft.orderedModifiers[sr],br=dr.fn,vr=dr.options,yr=vr===void 0?{}:vr,$r=dr.name;typeof br=="function"&&(Ft=br({state:Ft,options:yr,name:$r,instance:Lt})||Ft)}}}},update:debounce(function(){return new Promise(function(Yt){Lt.forceUpdate(),Yt(Ft)})}),destroy:function(){Vt(),Nt=!0}};if(!areValidElements($t,Ct))return Lt;Lt.setOptions(Dt).then(function(Yt){!Nt&&Dt.onFirstUpdate&&Dt.onFirstUpdate(Yt)});function Ut(){Ft.orderedModifiers.forEach(function(Yt){var er=Yt.name,tr=Yt.options,nr=tr===void 0?{}:tr,sr=Yt.effect;if(typeof sr=="function"){var dr=sr({state:Ft,name:er,instance:Lt,options:nr}),br=function(){};jt.push(dr||br)}})}function Vt(){jt.forEach(function(Yt){return Yt()}),jt=[]}return Lt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const toVar=(s,a)=>({var:s,varRef:a?`var(${s}, ${a})`:`var(${s})`}),cssVars={arrowShadowColor:toVar("--popper-arrow-shadow-color"),arrowSize:toVar("--popper-arrow-size","8px"),arrowSizeHalf:toVar("--popper-arrow-size-half"),arrowBg:toVar("--popper-arrow-bg"),transformOrigin:toVar("--popper-transform-origin"),arrowOffset:toVar("--popper-arrow-offset")};function getBoxShadow(s){if(s.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(s.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(s.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(s.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}const transforms={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},toTransformOrigin=s=>transforms[s],defaultEventListeners={scroll:!0,resize:!0};function getEventListenerOptions(s){let a;return typeof s=="object"?a={enabled:!0,options:{...defaultEventListeners,...s}}:a={enabled:s,options:defaultEventListeners},a}const matchWidth={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:s})=>{s.styles.popper.width=`${s.rects.reference.width}px`},effect:({state:s})=>()=>{const a=s.elements.reference;s.elements.popper.style.width=`${a.offsetWidth}px`}},transformOrigin={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:s})=>{setTransformOrigin(s)},effect:({state:s})=>()=>{setTransformOrigin(s)}},setTransformOrigin=s=>{s.elements.popper.style.setProperty(cssVars.transformOrigin.var,toTransformOrigin(s.placement))},positionArrow={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:s})=>{setArrowStyles(s)}},setArrowStyles=s=>{var et;if(!s.placement)return;const a=getArrowStyle$1(s.placement);if((et=s.elements)!=null&&et.arrow&&a){Object.assign(s.elements.arrow.style,{[a.property]:a.value,width:cssVars.arrowSize.varRef,height:cssVars.arrowSize.varRef,zIndex:-1});const nt={[cssVars.arrowSizeHalf.var]:`calc(${cssVars.arrowSize.varRef} / 2 - 1px)`,[cssVars.arrowOffset.var]:`calc(${cssVars.arrowSizeHalf.varRef} * -1)`};for(const at in nt)s.elements.arrow.style.setProperty(at,nt[at])}},getArrowStyle$1=s=>{if(s.startsWith("top"))return{property:"bottom",value:cssVars.arrowOffset.varRef};if(s.startsWith("bottom"))return{property:"top",value:cssVars.arrowOffset.varRef};if(s.startsWith("left"))return{property:"right",value:cssVars.arrowOffset.varRef};if(s.startsWith("right"))return{property:"left",value:cssVars.arrowOffset.varRef}},innerArrow={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:s})=>{setInnerArrowStyles(s)},effect:({state:s})=>()=>{setInnerArrowStyles(s)}},setInnerArrowStyles=s=>{if(!s.elements.arrow)return;const a=s.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!a)return;const et=getBoxShadow(s.placement);et&&a.style.setProperty("--popper-arrow-default-shadow",et),Object.assign(a.style,{transform:"rotate(45deg)",background:cssVars.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},logicals={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},opposites={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function getPopperPlacement(s,a="ltr"){var nt;const et=((nt=logicals[s])==null?void 0:nt[a])||s;return a==="ltr"?et:opposites[s]??et}function usePopper(s={}){const{enabled:a=!0,modifiers:et,placement:nt="bottom",strategy:at="absolute",arrowPadding:mt=8,eventListeners:wt=!0,offset:$t,gutter:Ct=8,flip:Dt=!0,boundary:Ft="clippingParents",preventOverflow:jt=!0,matchWidth:Nt,direction:Lt="ltr"}=s,Ut=reactExports.useRef(null),Vt=reactExports.useRef(null),Yt=reactExports.useRef(null),er=getPopperPlacement(nt,Lt),tr=reactExports.useRef(()=>{}),nr=reactExports.useCallback(()=>{var Sr;!a||!Ut.current||!Vt.current||((Sr=tr.current)==null||Sr.call(tr),Yt.current=createPopper(Ut.current,Vt.current,{placement:er,modifiers:[innerArrow,positionArrow,transformOrigin,{...matchWidth,enabled:!!Nt},{name:"eventListeners",...getEventListenerOptions(wt)},{name:"arrow",options:{padding:mt}},{name:"offset",options:{offset:$t??[0,Ct]}},{name:"flip",enabled:!!Dt,options:{padding:8}},{name:"preventOverflow",enabled:!!jt,options:{boundary:Ft}},...et??[]],strategy:at}),Yt.current.forceUpdate(),tr.current=Yt.current.destroy)},[er,a,et,Nt,wt,mt,$t,Ct,Dt,jt,Ft,at]);reactExports.useEffect(()=>()=>{var Sr;!Ut.current&&!Vt.current&&((Sr=Yt.current)==null||Sr.destroy(),Yt.current=null)},[]);const sr=reactExports.useCallback(Sr=>{Ut.current=Sr,nr()},[nr]),dr=reactExports.useCallback((Sr={},wr=null)=>({...Sr,ref:mergeRefs(sr,wr)}),[sr]),br=reactExports.useCallback(Sr=>{Vt.current=Sr,nr()},[nr]),vr=reactExports.useCallback((Sr={},wr=null)=>({...Sr,ref:mergeRefs(br,wr),style:{...Sr.style,position:at,minWidth:Nt?void 0:"max-content",inset:"0 auto auto 0"}}),[at,br,Nt]),yr=reactExports.useCallback((Sr={},wr=null)=>{const{size:fr,shadowColor:_r,bg:ir,style:rr,...or}=Sr;return{...or,ref:wr,"data-popper-arrow":"",style:getArrowStyle(Sr)}},[]),$r=reactExports.useCallback((Sr={},wr=null)=>({...Sr,ref:wr,"data-popper-arrow-inner":""}),[]);return{update(){var Sr;(Sr=Yt.current)==null||Sr.update()},forceUpdate(){var Sr;(Sr=Yt.current)==null||Sr.forceUpdate()},transformOrigin:cssVars.transformOrigin.varRef,referenceRef:sr,popperRef:br,getPopperProps:vr,getArrowProps:yr,getArrowInnerProps:$r,getReferenceProps:dr}}function getArrowStyle(s){const{size:a,shadowColor:et,bg:nt,style:at}=s,mt={...at,position:"absolute"};return a&&(mt["--popper-arrow-size"]=a),et&&(mt["--popper-arrow-shadow-color"]=et),nt&&(mt["--popper-arrow-bg"]=nt),mt}function useEventListeners(){const s=reactExports.useRef(new Map),a=s.current,et=reactExports.useCallback((at,mt,wt,$t)=>{s.current.set(wt,{type:mt,el:at,options:$t}),at.addEventListener(mt,wt,$t)},[]),nt=reactExports.useCallback((at,mt,wt,$t)=>{at.removeEventListener(mt,wt,$t),s.current.delete(wt)},[]);return reactExports.useEffect(()=>()=>{a.forEach((at,mt)=>{nt(at.el,at.type,mt,at.options)})},[nt,a]),{add:et,remove:nt}}function isValidElement(s){var at,mt;const a=((mt=(at=s.composedPath)==null?void 0:at.call(s))==null?void 0:mt[0])??s.target,{tagName:et,isContentEditable:nt}=a;return et!=="INPUT"&&et!=="TEXTAREA"&&nt!==!0}function useClickable(s={}){const{ref:a,isDisabled:et,isFocusable:nt,clickOnEnter:at=!0,clickOnSpace:mt=!0,onMouseDown:wt,onMouseUp:$t,onClick:Ct,onKeyDown:Dt,onKeyUp:Ft,tabIndex:jt,onMouseOver:Nt,onMouseLeave:Lt,...Ut}=s,[Vt,Yt]=reactExports.useState(!0),[er,tr]=reactExports.useState(!1),nr=useEventListeners(),sr=ar=>{ar&&ar.tagName!=="BUTTON"&&Yt(!1)},dr=Vt?jt:jt||0,br=et&&!nt,vr=reactExports.useCallback(ar=>{if(et){ar.stopPropagation(),ar.preventDefault();return}ar.currentTarget.focus(),Ct==null||Ct(ar)},[et,Ct]),yr=reactExports.useCallback(ar=>{er&&isValidElement(ar)&&(ar.preventDefault(),ar.stopPropagation(),tr(!1),nr.remove(document,"keyup",yr,!1))},[er,nr]),$r=reactExports.useCallback(ar=>{if(Dt==null||Dt(ar),et||ar.defaultPrevented||ar.metaKey||!isValidElement(ar.nativeEvent)||Vt)return;const ur=at&&ar.key==="Enter";mt&&ar.key===" "&&(ar.preventDefault(),tr(!0)),ur&&(ar.preventDefault(),ar.currentTarget.click()),nr.add(document,"keyup",yr,!1)},[et,Vt,Dt,at,mt,nr,yr]),Sr=reactExports.useCallback(ar=>{if(Ft==null||Ft(ar),et||ar.defaultPrevented||ar.metaKey||!isValidElement(ar.nativeEvent)||Vt)return;mt&&ar.key===" "&&(ar.preventDefault(),tr(!1),ar.currentTarget.click())},[mt,Vt,et,Ft]),wr=reactExports.useCallback(ar=>{ar.button===0&&(tr(!1),nr.remove(document,"mouseup",wr,!1))},[nr]),fr=reactExports.useCallback(ar=>{if(ar.button!==0)return;if(et){ar.stopPropagation(),ar.preventDefault();return}Vt||tr(!0),ar.currentTarget.focus({preventScroll:!0}),nr.add(document,"mouseup",wr,!1),wt==null||wt(ar)},[et,Vt,wt,nr,wr]),_r=reactExports.useCallback(ar=>{ar.button===0&&(Vt||tr(!1),$t==null||$t(ar))},[$t,Vt]),ir=reactExports.useCallback(ar=>{if(et){ar.preventDefault();return}Nt==null||Nt(ar)},[et,Nt]),rr=reactExports.useCallback(ar=>{er&&(ar.preventDefault(),tr(!1)),Lt==null||Lt(ar)},[er,Lt]),or=mergeRefs(a,sr);return Vt?{...Ut,ref:or,type:"button","aria-disabled":br?void 0:et,disabled:br,onClick:vr,onMouseDown:wt,onMouseUp:$t,onKeyUp:Ft,onKeyDown:Dt,onMouseOver:Nt,onMouseLeave:Lt}:{...Ut,ref:or,role:"button","data-active":dataAttr(er),"aria-disabled":et?"true":void 0,tabIndex:br?void 0:dr,onClick:vr,onMouseDown:fr,onMouseUp:_r,onKeyUp:Sr,onKeyDown:$r,onMouseOver:ir,onMouseLeave:rr}}const[MenuDescendantsProvider,useMenuDescendantsContext,useMenuDescendants,useMenuDescendant]=createDescendantContext(),[MenuProvider,useMenuContext]=createContext({strict:!1,name:"MenuContext"});function getOwnerDocument(s){return(s==null?void 0:s.ownerDocument)??document}function isActiveElement(s){return getOwnerDocument(s).activeElement===s}function useMenu(s={}){const{id:a,closeOnSelect:et=!0,closeOnBlur:nt=!0,initialFocusRef:at,autoSelect:mt=!0,isLazy:wt,isOpen:$t,defaultIsOpen:Ct,onClose:Dt,onOpen:Ft,placement:jt="bottom-start",lazyBehavior:Nt="unmount",direction:Lt,computePositionOnMount:Ut=!1,...Vt}=s,Yt=reactExports.useRef(null),er=reactExports.useRef(null),tr=reactExports.useRef(!0),nr=useMenuDescendants(),sr=reactExports.useCallback(()=>{requestAnimationFrame(()=>{var lr;(lr=Yt.current)==null||lr.focus({preventScroll:!1})})},[]),dr=reactExports.useCallback(()=>{const lr=setTimeout(()=>{var xr,Mr;if(at)(xr=at.current)==null||xr.focus();else if(!nr.count())(Mr=Yt.current)==null||Mr.focus({preventScroll:!1});else{const Pr=nr.firstEnabled();Pr&&ir(Pr.index)}});pr.current.add(lr)},[nr,at]),br=reactExports.useCallback(()=>{const lr=setTimeout(()=>{var xr;if(!nr.count())(xr=Yt.current)==null||xr.focus({preventScroll:!1});else{const Mr=nr.lastEnabled();Mr&&ir(Mr.index)}});pr.current.add(lr)},[nr]),vr=reactExports.useCallback(()=>{Ft==null||Ft(),mt?dr():sr()},[mt,dr,sr,Ft]),{isOpen:yr,onOpen:$r,onClose:Sr,onToggle:wr}=useDisclosure({isOpen:$t,defaultIsOpen:Ct,onClose:Dt,onOpen:vr});useOutsideClick({enabled:yr&&nt,ref:Yt,handler:lr=>{var Mr,Pr,Ar;const xr=((Pr=(Mr=lr.composedPath)==null?void 0:Mr.call(lr))==null?void 0:Pr[0])??lr.target;(Ar=er.current)!=null&&Ar.contains(xr)||Sr()}});const fr=usePopper({...Vt,enabled:yr||Ut,placement:jt,direction:Lt}),[_r,ir]=reactExports.useState(-1);useFocusOnHide(Yt,{focusRef:er,visible:yr,shouldFocus:!0});const rr=useAnimationState({isOpen:yr,ref:Yt}),[or,ar]=useIds$1(a,"menu-button","menu-list"),ur=reactExports.useCallback(()=>{$r(),sr()},[$r,sr]),pr=reactExports.useRef(new Set([]));reactExports.useEffect(()=>{const lr=pr.current;return()=>{lr.forEach(xr=>clearTimeout(xr)),lr.clear()}},[]),useUpdateEffect(()=>{var lr;yr||(ir(-1),(lr=Yt.current)==null||lr.scrollTo(0,0))},[yr]),useUpdateEffect(()=>{yr&&_r===-1&&sr()},[_r,yr]),reactExports.useEffect(()=>{var xr;if(!yr)return;const lr=nr.item(_r);(xr=lr==null?void 0:lr.node)==null||xr.focus({preventScroll:!tr.current})},[nr,_r,yr]);const cr=reactExports.useCallback(()=>{$r(),dr()},[dr,$r]),gr=reactExports.useCallback(()=>{tr.current=!0,$r(),br()},[$r,br]),hr=reactExports.useCallback(()=>{var Ar,Ir;const lr=getOwnerDocument(Yt.current),xr=(Ar=Yt.current)==null?void 0:Ar.contains(lr.activeElement);if(!(yr&&!xr))return;const Pr=(Ir=nr.item(_r))==null?void 0:Ir.node;Pr==null||Pr.focus({preventScroll:!tr.current})},[yr,_r,nr]);return{openAndFocusMenu:ur,openAndFocusFirstItem:cr,openAndFocusLastItem:gr,onTransitionEnd:hr,unstable__animationState:rr,descendants:nr,popper:fr,buttonId:or,menuId:ar,forceUpdate:fr.forceUpdate,orientation:"vertical",isOpen:yr,onToggle:wr,onOpen:$r,onClose:Sr,menuRef:Yt,buttonRef:er,focusedIndex:_r,closeOnSelect:et,closeOnBlur:nt,autoSelect:mt,setFocusedIndex:ir,isLazy:wt,lazyBehavior:Nt,initialFocusRef:at,scrollIntoViewRef:tr}}function useMenuButton(s={},a=null){const et=useMenuContext(),{onToggle:nt,popper:at,openAndFocusFirstItem:mt,openAndFocusLastItem:wt,scrollIntoViewRef:$t}=et,Ct=reactExports.useCallback(Dt=>{const Ft=Dt.key,Nt={Enter:mt,ArrowDown:mt,ArrowUp:wt}[Ft];Nt&&($t.current=!0,Dt.preventDefault(),Dt.stopPropagation(),Nt(Dt))},[mt,wt,$t]);return{...s,ref:mergeRefs(et.buttonRef,a,at.referenceRef),id:et.buttonId,"data-active":dataAttr(et.isOpen),"aria-expanded":et.isOpen,"aria-haspopup":"menu","aria-controls":et.menuId,onClick:callAllHandlers(s.onClick,nt),onKeyDown:callAllHandlers(s.onKeyDown,Ct)}}function isTargetMenuItem(s){var a;return isHTMLElement(s)&&!!((a=s==null?void 0:s.getAttribute("role"))!=null&&a.startsWith("menuitem"))}function useMenuList(s={},a=null){const et=useMenuContext();if(!et)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:nt,setFocusedIndex:at,menuRef:mt,isOpen:wt,onClose:$t,menuId:Ct,isLazy:Dt,lazyBehavior:Ft,scrollIntoViewRef:jt,unstable__animationState:Nt}=et,Lt=useMenuDescendantsContext(),Ut=useShortcut({preventDefault:tr=>tr.key!==" "&&isTargetMenuItem(tr.target)}),Vt=reactExports.useCallback(tr=>{if(!tr.currentTarget.contains(tr.target))return;const nr=tr.key,dr={Tab:vr=>vr.preventDefault(),Escape:vr=>{vr.stopPropagation(),$t()},ArrowDown:()=>{jt.current=!0;const vr=Lt.nextEnabled(nt)??Lt.firstEnabled();vr&&at(vr.index)},ArrowUp:()=>{jt.current=!0;const vr=Lt.prevEnabled(nt)??Lt.firstEnabled();vr&&at(vr.index)}}[nr];if(dr){tr.preventDefault(),dr(tr);return}const br=Ut(vr=>{const yr=getNextItemFromSearch(Lt.values(),vr,$r=>{var Sr;return((Sr=$r==null?void 0:$r.node)==null?void 0:Sr.textContent)??""},Lt.item(nt));if(yr){const $r=Lt.indexOf(yr.node);at($r)}});isTargetMenuItem(tr.target)&&br(tr)},[Lt,nt,Ut,$t,at,jt]),Yt=reactExports.useRef(!1);wt&&(Yt.current=!0);const er=lazyDisclosure({wasSelected:Yt.current,enabled:Dt,mode:Ft,isSelected:Nt.present});return{...s,ref:mergeRefs(mt,a),children:er?s.children:null,tabIndex:-1,role:"menu",id:Ct,style:{...s.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:callAllHandlers(s.onKeyDown,Vt)}}function useMenuPositioner(s={}){const{popper:a,isOpen:et}=useMenuContext();return a.getPopperProps({...s,style:{visibility:et?"visible":"hidden",...s.style}})}function useMenuItem(s={},a=null){const{onMouseEnter:et,onMouseMove:nt,onMouseLeave:at,onClick:mt,onFocus:wt,isDisabled:$t,isFocusable:Ct,closeOnSelect:Dt,type:Ft,...jt}=s,Nt=useMenuContext(),{setFocusedIndex:Lt,focusedIndex:Ut,closeOnSelect:Vt,onClose:Yt,menuId:er,scrollIntoViewRef:tr}=Nt,nr=reactExports.useRef(null),sr=`${er}-menuitem-${reactExports.useId()}`,{index:dr,register:br}=useMenuDescendant({disabled:$t&&!Ct}),vr=reactExports.useCallback(ir=>{et==null||et(ir),!$t&&(tr.current=!1,Lt(dr))},[Lt,dr,$t,et,tr]),yr=reactExports.useCallback(ir=>{nt==null||nt(ir),nr.current&&!isActiveElement(nr.current)&&vr(ir)},[vr,nt]),$r=reactExports.useCallback(ir=>{at==null||at(ir),!$t&&Lt(-1)},[Lt,$t,at]),Sr=reactExports.useCallback(ir=>{mt==null||mt(ir),isTargetMenuItem(ir.currentTarget)&&(Dt??Vt)&&Yt()},[Yt,mt,Vt,Dt]),wr=reactExports.useCallback(ir=>{wt==null||wt(ir),Lt(dr)},[Lt,wt,dr]),fr=dr===Ut,_r=useClickable({onClick:Sr,onFocus:wr,onMouseEnter:vr,onMouseMove:yr,onMouseLeave:$r,ref:mergeRefs(br,nr,a),isDisabled:$t,isFocusable:Ct});return{...jt,..._r,type:Ft??_r.type,id:sr,role:"menuitem",tabIndex:fr?0:-1}}function isHTMLElement(s){if(!isElement(s))return!1;const a=s.ownerDocument.defaultView??window;return s instanceof a.HTMLElement}function isElement(s){return s!=null&&typeof s=="object"&&"nodeType"in s&&s.nodeType===Node.ELEMENT_NODE}const[MenuStylesProvider,useMenuStyles]=createContext({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Menu=s=>{const{children:a}=s,et=useMultiStyleConfig("Menu",s),nt=omitThemingProps(s),{direction:at}=useTheme(),{descendants:mt,...wt}=useMenu({...nt,direction:at}),$t=reactExports.useMemo(()=>wt,[wt]),{isOpen:Ct,onClose:Dt,forceUpdate:Ft}=$t;return jsxRuntimeExports.jsx(MenuDescendantsProvider,{value:mt,children:jsxRuntimeExports.jsx(MenuProvider,{value:$t,children:jsxRuntimeExports.jsx(MenuStylesProvider,{value:et,children:runIfFn$1(a,{isOpen:Ct,onClose:Dt,forceUpdate:Ft})})})})};Menu.displayName="Menu";const StyledMenuButton=forwardRef((s,a)=>{const et=useMenuStyles();return jsxRuntimeExports.jsx(chakra.button,{ref:a,...s,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...et.button}})}),MenuButton=forwardRef((s,a)=>{const{children:et,as:nt,...at}=s,mt=useMenuButton(at,a),wt=nt||StyledMenuButton;return jsxRuntimeExports.jsx(wt,{...mt,className:cx("chakra-menu__menu-button",s.className),children:jsxRuntimeExports.jsx(chakra.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:s.children})})});MenuButton.displayName="MenuButton";const MenuCommand=forwardRef((s,a)=>{const et=useMenuStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:a,...s,__css:et.command,className:"chakra-menu__command"})});MenuCommand.displayName="MenuCommand";const MenuIcon=s=>{const{className:a,children:et,...nt}=s,at=useMenuStyles(),mt=reactExports.Children.only(et),wt=reactExports.isValidElement(mt)?reactExports.cloneElement(mt,{focusable:"false","aria-hidden":!0,className:cx("chakra-menu__icon",mt.props.className)}):null,$t=cx("chakra-menu__icon-wrapper",a);return jsxRuntimeExports.jsx(chakra.span,{className:$t,...nt,__css:at.icon,children:wt})};MenuIcon.displayName="MenuIcon";const StyledMenuItem=forwardRef((s,a)=>{const{type:et,...nt}=s,at=useMenuStyles(),mt=nt.as||et?et??void 0:"button",wt=reactExports.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...at.item}),[at.item]);return jsxRuntimeExports.jsx(chakra.button,{ref:a,type:mt,...nt,__css:wt})}),MenuItem=forwardRef((s,a)=>{const{icon:et,iconSpacing:nt="0.75rem",command:at,commandSpacing:mt="0.75rem",children:wt,...$t}=s,Ct=useMenuItem($t,a),Ft=et||at?jsxRuntimeExports.jsx("span",{style:{pointerEvents:"none",flex:1},children:wt}):wt;return jsxRuntimeExports.jsxs(StyledMenuItem,{...Ct,className:cx("chakra-menu__menuitem",Ct.className),children:[et&&jsxRuntimeExports.jsx(MenuIcon,{fontSize:"0.8em",marginEnd:nt,children:et}),Ft,at&&jsxRuntimeExports.jsx(MenuCommand,{marginStart:mt,children:at})]})});MenuItem.displayName="MenuItem";const motionVariants={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},MenuTransition=chakra(motion.div),MenuList=forwardRef(function(a,et){var Nt;const{rootProps:nt,motionProps:at,...mt}=a,{isOpen:wt,onTransitionEnd:$t,unstable__animationState:Ct}=useMenuContext(),Dt=useMenuList(mt,et),Ft=useMenuPositioner(nt),jt=useMenuStyles();return jsxRuntimeExports.jsx(chakra.div,{...Ft,__css:{zIndex:a.zIndex??((Nt=jt.list)==null?void 0:Nt.zIndex)},children:jsxRuntimeExports.jsx(MenuTransition,{variants:motionVariants,initial:!1,animate:wt?"enter":"exit",__css:{outline:0,...jt.list},...at,...Dt,className:cx("chakra-menu__menu-list",Dt.className),onUpdate:$t,onAnimationComplete:callAll(Ct.onComplete,Dt.onAnimationComplete)})})});MenuList.displayName="MenuList";var __defProp$g=Object.defineProperty,__defNormalProp$4=(s,a,et)=>a in s?__defProp$g(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__publicField$1=(s,a,et)=>(__defNormalProp$4(s,a+"",et),et);class ModalManager{constructor(){__publicField$1(this,"modals"),this.modals=new Set}add(a){return this.modals.add(a),this.modals.size}remove(a){this.modals.delete(a)}isTopModal(a){if(!a)return!1;const et=Array.from(this.modals)[this.modals.size-1];return a===et}}const modalManager=new ModalManager;function useModalManager(s,a){const[et,nt]=reactExports.useState(0);return reactExports.useEffect(()=>{const at=s.current;if(at){if(a){const mt=modalManager.add(at);nt(mt)}return()=>{modalManager.remove(at),nt(0)}}},[a,s]),et}function useModal(s){const{isOpen:a,onClose:et,id:nt,closeOnOverlayClick:at=!0,closeOnEsc:mt=!0,useInert:wt=!0,onOverlayClick:$t,onEsc:Ct}=s,Dt=reactExports.useRef(null),Ft=reactExports.useRef(null),[jt,Nt,Lt]=useIds(nt,"chakra-modal","chakra-modal--header","chakra-modal--body");useAriaHidden(Dt,a&&wt);const Ut=useModalManager(Dt,a),Vt=reactExports.useRef(null),Yt=reactExports.useCallback($r=>{Vt.current=$r.target},[]),er=reactExports.useCallback($r=>{$r.key==="Escape"&&($r.stopPropagation(),mt&&(et==null||et()),Ct==null||Ct())},[mt,et,Ct]),[tr,nr]=reactExports.useState(!1),[sr,dr]=reactExports.useState(!1),br=reactExports.useCallback(($r={},Sr=null)=>({role:"dialog",...$r,ref:mergeRefs(Sr,Dt),id:jt,tabIndex:-1,"aria-modal":!0,"aria-labelledby":tr?Nt:void 0,"aria-describedby":sr?Lt:void 0,onClick:callAllHandlers($r.onClick,wr=>wr.stopPropagation())}),[Lt,sr,jt,Nt,tr]),vr=reactExports.useCallback($r=>{$r.stopPropagation(),Vt.current===$r.target&&modalManager.isTopModal(Dt.current)&&(at&&(et==null||et()),$t==null||$t())},[et,at,$t]),yr=reactExports.useCallback(($r={},Sr=null)=>({...$r,ref:mergeRefs(Sr,Ft),onClick:callAllHandlers($r.onClick,vr),onKeyDown:callAllHandlers($r.onKeyDown,er),onMouseDown:callAllHandlers($r.onMouseDown,Yt)}),[er,Yt,vr]);return{isOpen:a,onClose:et,headerId:Nt,bodyId:Lt,setBodyMounted:dr,setHeaderMounted:nr,dialogRef:Dt,overlayRef:Ft,getDialogProps:br,getDialogContainerProps:yr,index:Ut}}function useAriaHidden(s,a){const et=s.current;reactExports.useEffect(()=>{if(!(!s.current||!a))return hideOthers(s.current)},[a,s,et])}function useIds(s,...a){const et=reactExports.useId(),nt=s||et;return reactExports.useMemo(()=>a.map(at=>`${at}-${nt}`),[nt,a])}const[ModalStylesProvider,useModalStyles]=createContext({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[ModalContextProvider,useModalContext]=createContext({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),Modal$1=s=>{const a={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,preserveScrollBarGap:!0,motionPreset:"scale",...s,lockFocusAcrossFrames:s.lockFocusAcrossFrames||!0},{portalProps:et,children:nt,autoFocus:at,trapFocus:mt,initialFocusRef:wt,finalFocusRef:$t,returnFocusOnClose:Ct,blockScrollOnMount:Dt,allowPinchZoom:Ft,preserveScrollBarGap:jt,motionPreset:Nt,lockFocusAcrossFrames:Lt,animatePresenceProps:Ut,onCloseComplete:Vt}=a,Yt=useMultiStyleConfig("Modal",a),tr={...useModal(a),autoFocus:at,trapFocus:mt,initialFocusRef:wt,finalFocusRef:$t,returnFocusOnClose:Ct,blockScrollOnMount:Dt,allowPinchZoom:Ft,preserveScrollBarGap:jt,motionPreset:Nt,lockFocusAcrossFrames:Lt};return jsxRuntimeExports.jsx(ModalContextProvider,{value:tr,children:jsxRuntimeExports.jsx(ModalStylesProvider,{value:Yt,children:jsxRuntimeExports.jsx(AnimatePresence,{...Ut,onExitComplete:Vt,children:tr.isOpen&&jsxRuntimeExports.jsx(Portal,{...et,children:nt})})})})};Modal$1.displayName="Modal";function ModalFocusScope(s){const{autoFocus:a,trapFocus:et,dialogRef:nt,initialFocusRef:at,blockScrollOnMount:mt,allowPinchZoom:wt,finalFocusRef:$t,returnFocusOnClose:Ct,preserveScrollBarGap:Dt,lockFocusAcrossFrames:Ft,isOpen:jt}=useModalContext(),[Nt,Lt]=usePresence();reactExports.useEffect(()=>{!Nt&&Lt&&setTimeout(Lt)},[Nt,Lt]);const Ut=useModalManager(nt,jt);return jsxRuntimeExports.jsx(FocusLock,{autoFocus:a,isDisabled:!et,initialFocusRef:at,finalFocusRef:$t,restoreFocus:Ct,contentRef:nt,lockFocusAcrossFrames:Ft,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{removeScrollBar:!Dt,allowPinchZoom:wt,enabled:Ut===1&&mt,forwardProps:!0,children:s.children})})}const variants$4={initial:({offsetX:s,offsetY:a,transition:et,transitionEnd:nt,delay:at})=>({opacity:0,x:s,y:a,transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,at),transitionEnd:nt==null?void 0:nt.exit}),enter:({transition:s,transitionEnd:a,delay:et})=>({opacity:1,x:0,y:0,transition:(s==null?void 0:s.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:a==null?void 0:a.enter}),exit:({offsetY:s,offsetX:a,transition:et,transitionEnd:nt,reverse:at,delay:mt})=>{const wt={x:a,y:s};return{opacity:0,transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,mt),...at?{...wt,transitionEnd:nt==null?void 0:nt.exit}:{transitionEnd:{...wt,...nt==null?void 0:nt.exit}}}}},slideFadeConfig={initial:"initial",animate:"enter",exit:"exit",variants:variants$4},SlideFade=reactExports.forwardRef(function(a,et){const{unmountOnExit:nt,in:at,reverse:mt=!0,className:wt,offsetX:$t=0,offsetY:Ct=8,transition:Dt,transitionEnd:Ft,delay:jt,animatePresenceProps:Nt,...Lt}=a,Ut=nt?at&&nt:!0,Vt=at||nt?"enter":"exit",Yt={offsetX:$t,offsetY:Ct,reverse:mt,transition:Dt,transitionEnd:Ft,delay:jt};return jsxRuntimeExports.jsx(AnimatePresence,{...Nt,custom:Yt,children:Ut&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-offset-slide",wt),custom:Yt,...slideFadeConfig,animate:Vt,...Lt})})});SlideFade.displayName="SlideFade";const variants$3={exit:({reverse:s,initialScale:a,transition:et,transitionEnd:nt,delay:at})=>({opacity:0,...s?{scale:a,transitionEnd:nt==null?void 0:nt.exit}:{transitionEnd:{scale:a,...nt==null?void 0:nt.exit}},transition:(et==null?void 0:et.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,at)}),enter:({transitionEnd:s,transition:a,delay:et})=>({opacity:1,scale:1,transition:(a==null?void 0:a.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:s==null?void 0:s.enter})},scaleFadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$3},ScaleFade=reactExports.forwardRef(function(a,et){const{unmountOnExit:nt,in:at,reverse:mt=!0,initialScale:wt=.95,className:$t,transition:Ct,transitionEnd:Dt,delay:Ft,animatePresenceProps:jt,...Nt}=a,Lt=nt?at&&nt:!0,Ut=at||nt?"enter":"exit",Vt={initialScale:wt,reverse:mt,transition:Ct,transitionEnd:Dt,delay:Ft};return jsxRuntimeExports.jsx(AnimatePresence,{...jt,custom:Vt,children:Lt&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-offset-slide",$t),...scaleFadeConfig,animate:Ut,custom:Vt,...Nt})})});ScaleFade.displayName="ScaleFade";const transitions={slideInBottom:{...slideFadeConfig,custom:{offsetY:16,reverse:!0}},slideInRight:{...slideFadeConfig,custom:{offsetX:16,reverse:!0}},slideInTop:{...slideFadeConfig,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...slideFadeConfig,custom:{offsetX:-16,reverse:!0}},scale:{...scaleFadeConfig,custom:{initialScale:.95,reverse:!0}},none:{}},MotionSection$1=chakra(motion.section),getMotionProps=s=>transitions[s||"none"],ModalTransition=reactExports.forwardRef((s,a)=>{const{preset:et,motionProps:nt=getMotionProps(et),...at}=s;return jsxRuntimeExports.jsx(MotionSection$1,{ref:a,...nt,...at})});ModalTransition.displayName="ModalTransition";const ModalContent=forwardRef((s,a)=>{const{className:et,children:nt,containerProps:at,motionProps:mt,...wt}=s,{getDialogProps:$t,getDialogContainerProps:Ct}=useModalContext(),Dt=$t(wt,a),Ft=Ct(at),jt=cx("chakra-modal__content",et),Nt=useModalStyles(),Lt={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...Nt.dialog},Ut={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...Nt.dialogContainer},{motionPreset:Vt}=useModalContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...Ft,className:"chakra-modal__content-container",tabIndex:-1,__css:Ut,children:jsxRuntimeExports.jsx(ModalTransition,{preset:Vt,motionProps:mt,className:jt,...Dt,__css:Lt,children:nt})})})});ModalContent.displayName="ModalContent";const ModalBody=forwardRef((s,a)=>{const{className:et,...nt}=s,{bodyId:at,setBodyMounted:mt}=useModalContext();reactExports.useEffect(()=>(mt(!0),()=>mt(!1)),[mt]);const wt=cx("chakra-modal__body",et),$t=useModalStyles();return jsxRuntimeExports.jsx(chakra.div,{ref:a,className:wt,id:at,...nt,__css:$t.body})});ModalBody.displayName="ModalBody";const ModalCloseButton=forwardRef((s,a)=>{const{onClick:et,className:nt,...at}=s,{onClose:mt}=useModalContext(),wt=cx("chakra-modal__close-btn",nt),$t=useModalStyles();return jsxRuntimeExports.jsx(CloseButton,{ref:a,__css:$t.closeButton,className:wt,onClick:callAllHandlers(et,Ct=>{Ct.stopPropagation(),mt()}),...at})});ModalCloseButton.displayName="ModalCloseButton";const ModalFooter=forwardRef((s,a)=>{const{className:et,...nt}=s,at=cx("chakra-modal__footer",et),mt=useModalStyles(),wt={display:"flex",alignItems:"center",justifyContent:"flex-end",...mt.footer};return jsxRuntimeExports.jsx(chakra.footer,{ref:a,...nt,__css:wt,className:at})});ModalFooter.displayName="ModalFooter";const ModalHeader=forwardRef((s,a)=>{const{className:et,...nt}=s,{headerId:at,setHeaderMounted:mt}=useModalContext();reactExports.useEffect(()=>(mt(!0),()=>mt(!1)),[mt]);const wt=cx("chakra-modal__header",et),$t=useModalStyles(),Ct={flex:0,...$t.header};return jsxRuntimeExports.jsx(chakra.header,{ref:a,className:wt,id:at,...nt,__css:Ct})});ModalHeader.displayName="ModalHeader";const variants$2={enter:({transition:s,transitionEnd:a,delay:et}={})=>({opacity:1,transition:(s==null?void 0:s.enter)??withDelay.enter(TRANSITION_DEFAULTS.enter,et),transitionEnd:a==null?void 0:a.enter}),exit:({transition:s,transitionEnd:a,delay:et}={})=>({opacity:0,transition:(s==null?void 0:s.exit)??withDelay.exit(TRANSITION_DEFAULTS.exit,et),transitionEnd:a==null?void 0:a.exit})},fadeConfig={initial:"exit",animate:"enter",exit:"exit",variants:variants$2},Fade=reactExports.forwardRef(function(a,et){const{unmountOnExit:nt,in:at,className:mt,transition:wt,transitionEnd:$t,delay:Ct,animatePresenceProps:Dt,...Ft}=a,jt=at||nt?"enter":"exit",Nt=nt?at&&nt:!0,Lt={transition:wt,transitionEnd:$t,delay:Ct};return jsxRuntimeExports.jsx(AnimatePresence,{...Dt,custom:Lt,children:Nt&&jsxRuntimeExports.jsx(motion.div,{ref:et,className:cx("chakra-fade",mt),custom:Lt,...fadeConfig,animate:jt,...Ft})})});Fade.displayName="Fade";const MotionDiv$2=chakra(motion.div),ModalOverlay=forwardRef((s,a)=>{const{className:et,transition:nt,motionProps:at,...mt}=s,wt=cx("chakra-modal__overlay",et),Ct={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...useModalStyles().overlay},{motionPreset:Dt}=useModalContext(),jt=at||(Dt==="none"?{}:fadeConfig);return jsxRuntimeExports.jsx(MotionDiv$2,{...jt,__css:Ct,ref:a,className:wt,...mt})});ModalOverlay.displayName="ModalOverlay";const[DrawerContextProvider,useDrawerContext]=createContext(),placementMap={start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}};function getDrawerPlacement(s,a){var et;if(s)return((et=placementMap[s])==null?void 0:et[a])??s}function Drawer$1(s){var Dt;const{isOpen:a,onClose:et,placement:nt="right",children:at,...mt}=s,wt=useTheme(),$t=(Dt=wt.components)==null?void 0:Dt.Drawer,Ct=getDrawerPlacement(nt,wt.direction);return jsxRuntimeExports.jsx(DrawerContextProvider,{value:{placement:Ct},children:jsxRuntimeExports.jsx(Modal$1,{isOpen:a,onClose:et,styleConfig:$t,...mt,children:at})})}const defaultTransition={exit:{duration:.15,ease:TRANSITION_EASINGS.easeInOut},enter:{type:"spring",damping:25,stiffness:180}},variants$1={exit:({direction:s,transition:a,transitionEnd:et,delay:nt})=>{const{exit:at}=getSlideTransition({direction:s});return{...at,transition:(a==null?void 0:a.exit)??withDelay.exit(defaultTransition.exit,nt),transitionEnd:et==null?void 0:et.exit}},enter:({direction:s,transitionEnd:a,transition:et,delay:nt})=>{const{enter:at}=getSlideTransition({direction:s});return{...at,transition:(et==null?void 0:et.enter)??withDelay.enter(defaultTransition.enter,nt),transitionEnd:a==null?void 0:a.enter}}},Slide=reactExports.forwardRef(function(a,et){const{direction:nt="right",style:at,unmountOnExit:mt,in:wt,className:$t,transition:Ct,transitionEnd:Dt,delay:Ft,motionProps:jt,animatePresenceProps:Nt,...Lt}=a,Ut=getSlideTransition({direction:nt}),Vt=Object.assign({position:"fixed"},Ut.position,at),Yt=mt?wt&&mt:!0,er=wt||mt?"enter":"exit",tr={transitionEnd:Dt,transition:Ct,direction:nt,delay:Ft};return jsxRuntimeExports.jsx(AnimatePresence,{...Nt,custom:tr,children:Yt&&jsxRuntimeExports.jsx(motion.div,{...Lt,ref:et,initial:"exit",className:cx("chakra-slide",$t),animate:er,exit:"exit",custom:tr,variants:variants$1,style:Vt,...jt})})});Slide.displayName="Slide";const MotionDiv$1=chakra(Slide),DrawerContent=forwardRef((s,a)=>{const{className:et,children:nt,motionProps:at,containerProps:mt,...wt}=s,{getDialogProps:$t,getDialogContainerProps:Ct,isOpen:Dt}=useModalContext(),Ft=$t(wt,a),jt=Ct(mt),Nt=cx("chakra-modal__content",et),Lt=useModalStyles(),Ut={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...Lt.dialog},Vt={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...Lt.dialogContainer},{placement:Yt}=useDrawerContext();return jsxRuntimeExports.jsx(ModalFocusScope,{children:jsxRuntimeExports.jsx(chakra.div,{...jt,className:"chakra-modal__content-container",__css:Vt,children:jsxRuntimeExports.jsx(MotionDiv$1,{motionProps:at,direction:Yt,in:Dt,className:Nt,...Ft,__css:Ut,children:nt})})})});DrawerContent.displayName="DrawerContent";const[PopoverProvider,usePopoverContext]=createContext({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[PopoverStylesProvider,usePopoverStyles]=createContext({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),TRIGGER={click:"click",hover:"hover"};function usePopover(s={}){const{closeOnBlur:a=!0,closeOnEsc:et=!0,initialFocusRef:nt,id:at,returnFocusOnClose:mt=!0,autoFocus:wt=!0,arrowSize:$t,arrowShadowColor:Ct,trigger:Dt=TRIGGER.click,openDelay:Ft=200,closeDelay:jt=200,isLazy:Nt,lazyBehavior:Lt="unmount",computePositionOnMount:Ut,...Vt}=s,{isOpen:Yt,onClose:er,onOpen:tr,onToggle:nr}=useDisclosure(s),[sr,dr]=reactExports.useState(mt);reactExports.useEffect(()=>dr(mt),[mt]);const br=reactExports.useRef(null),vr=reactExports.useRef(null),yr=reactExports.useRef(null),$r=reactExports.useRef(!1),Sr=reactExports.useRef(!1);Yt&&(Sr.current=!0);const[wr,fr]=reactExports.useState(!1),[_r,ir]=reactExports.useState(!1),rr=reactExports.useId(),or=at??rr,[ar,ur,pr,cr]=["popover-trigger","popover-content","popover-header","popover-body"].map(jr=>`${jr}-${or}`),{referenceRef:gr,getArrowProps:hr,getPopperProps:lr,getArrowInnerProps:xr,forceUpdate:Mr}=usePopper({...Vt,enabled:Yt||!!Ut}),Pr=useAnimationState({isOpen:Yt,ref:yr});useFocusOnPointerDown({enabled:Yt,ref:vr}),useFocusOnHide(yr,{focusRef:vr,visible:Yt,shouldFocus:sr&&Dt===TRIGGER.click}),useFocusOnShow(yr,{focusRef:nt,visible:Yt,shouldFocus:wt&&Dt===TRIGGER.click}),useOutsideClick({enabled:Yt&&a,ref:yr,handler(jr){var Fr;const Ur=((Fr=jr.composedPath)==null?void 0:Fr.call(jr)[0])??[jr.target];contains(vr.current,Ur)||(Ur&&dr(!isFocusable(Ur)),er())}});const Ar=lazyDisclosure({wasSelected:Sr.current,enabled:Nt,mode:Lt,isSelected:Pr.present}),Ir=reactExports.useCallback((jr={},Ur=null)=>{const Fr={...jr,style:{...jr.style,transformOrigin:cssVars.transformOrigin.varRef,[cssVars.arrowSize.var]:$t?`${$t}px`:void 0,[cssVars.arrowShadowColor.var]:Ct},ref:mergeRefs(yr,Ur),children:Ar?jr.children:null,id:ur,tabIndex:-1,role:"dialog",onKeyDown:callAllHandlers(jr.onKeyDown,Gr=>{Gr.nativeEvent.isComposing||et&&Gr.key==="Escape"&&(Gr.preventDefault(),Gr.stopPropagation(),er())}),onBlur:callAllHandlers(jr.onBlur,Gr=>{const Wr=getRelatedTarget(Gr),nn=contains(yr.current,Wr),Ln=contains(vr.current,Wr),Un=!nn&&!Ln;Wr&&dr(!isFocusable(Wr)),Yt&&a&&Un&&er()}),"aria-labelledby":wr?pr:void 0,"aria-describedby":_r?cr:void 0};return Dt===TRIGGER.hover&&(Fr.role="tooltip",Fr.onMouseEnter=callAllHandlers(jr.onMouseEnter,()=>{$r.current=!0}),Fr.onMouseLeave=callAllHandlers(jr.onMouseLeave,Gr=>{Gr.nativeEvent.relatedTarget!==null&&($r.current=!1,setTimeout(()=>er(),jt))})),Fr},[Ar,ur,wr,pr,_r,cr,Dt,et,er,Yt,a,jt,Ct,$t]),qr=reactExports.useCallback((jr={},Ur=null)=>lr({...jr,style:{visibility:Yt?"visible":"hidden",...jr.style}},Ur),[Yt,lr]),Rr=reactExports.useCallback((jr,Ur=null)=>({...jr,ref:mergeRefs(Ur,br,gr)}),[br,gr]),Tr=reactExports.useRef(void 0),Er=reactExports.useRef(void 0),Br=reactExports.useCallback(jr=>{br.current==null&&gr(jr)},[gr]),Nr=reactExports.useCallback((jr={},Ur=null)=>{const Fr={...jr,ref:mergeRefs(vr,Ur,Br),id:ar,"aria-haspopup":"dialog","aria-expanded":Yt,"aria-controls":ur};return Dt===TRIGGER.click&&(Fr.onClick=callAllHandlers(jr.onClick,nr)),Dt===TRIGGER.hover&&(Fr.onFocus=callAllHandlers(jr.onFocus,()=>{Tr.current===void 0&&tr()}),Fr.onBlur=callAllHandlers(jr.onBlur,Gr=>{const Wr=getRelatedTarget(Gr),nn=!contains(yr.current,Wr);Yt&&a&&nn&&er()}),Fr.onKeyDown=callAllHandlers(jr.onKeyDown,Gr=>{Gr.key==="Escape"&&er()}),Fr.onMouseEnter=callAllHandlers(jr.onMouseEnter,()=>{$r.current=!0,Tr.current=window.setTimeout(()=>tr(),Ft)}),Fr.onMouseLeave=callAllHandlers(jr.onMouseLeave,()=>{$r.current=!1,Tr.current&&(clearTimeout(Tr.current),Tr.current=void 0),Er.current=window.setTimeout(()=>{$r.current===!1&&er()},jt)})),Fr},[ar,Yt,ur,Dt,Br,nr,tr,a,er,Ft,jt]);reactExports.useEffect(()=>()=>{Tr.current&&clearTimeout(Tr.current),Er.current&&clearTimeout(Er.current)},[]);const zr=reactExports.useCallback((jr={},Ur=null)=>({...jr,id:pr,ref:mergeRefs(Ur,Fr=>{fr(!!Fr)})}),[pr]),Hr=reactExports.useCallback((jr={},Ur=null)=>({...jr,id:cr,ref:mergeRefs(Ur,Fr=>{ir(!!Fr)})}),[cr]);return{forceUpdate:Mr,isOpen:Yt,onAnimationComplete:Pr.onComplete,onClose:er,getAnchorProps:Rr,getArrowProps:hr,getArrowInnerProps:xr,getPopoverPositionerProps:qr,getPopoverProps:Ir,getTriggerProps:Nr,getHeaderProps:zr,getBodyProps:Hr}}function contains(s,a){return s===a||(s==null?void 0:s.contains(a))}function getRelatedTarget(s){const a=s.currentTarget.ownerDocument.activeElement;return s.relatedTarget??a}function Popover(s){const a=useMultiStyleConfig("Popover",s),{children:et,...nt}=omitThemingProps(s),at=useTheme(),mt=usePopover({...nt,direction:at.direction});return jsxRuntimeExports.jsx(PopoverProvider,{value:mt,children:jsxRuntimeExports.jsx(PopoverStylesProvider,{value:a,children:runIfFn$1(et,{isOpen:mt.isOpen,onClose:mt.onClose,forceUpdate:mt.forceUpdate})})})}Popover.displayName="Popover";function getElementRef(s){var et;const a=reactExports.version;return typeof a!="string"||a.startsWith("18.")?s==null?void 0:s.ref:(et=s==null?void 0:s.props)==null?void 0:et.ref}const PopoverBody=forwardRef(function(a,et){const{getBodyProps:nt}=usePopoverContext(),at=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.div,{...nt(a,et),className:cx("chakra-popover__body",a.className),__css:at.body})});PopoverBody.displayName="PopoverBody";function mergeVariants(s){if(s)return{enter:{...s.enter,visibility:"visible"},exit:{...s.exit,transitionEnd:{visibility:"hidden"}}}}const scaleFade={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},MotionSection=chakra(motion.section),PopoverTransition=forwardRef(function(a,et){const{variants:nt=scaleFade,...at}=a,{isOpen:mt}=usePopoverContext();return jsxRuntimeExports.jsx(MotionSection,{ref:et,variants:mergeVariants(nt),initial:!1,animate:mt?"enter":"exit",...at})});PopoverTransition.displayName="PopoverTransition";const PopoverContent=forwardRef(function(a,et){const{rootProps:nt,motionProps:at,...mt}=a,{getPopoverProps:wt,getPopoverPositionerProps:$t,onAnimationComplete:Ct}=usePopoverContext(),Dt=usePopoverStyles(),Ft={position:"relative",display:"flex",flexDirection:"column",...Dt.content};return jsxRuntimeExports.jsx(chakra.div,{...$t(nt),__css:Dt.popper,className:"chakra-popover__popper",children:jsxRuntimeExports.jsx(PopoverTransition,{...at,...wt(mt,et),onAnimationComplete:callAll(Ct,mt.onAnimationComplete),className:cx("chakra-popover__content",a.className),__css:Ft})})});PopoverContent.displayName="PopoverContent";function PopoverFooter(s){const a=usePopoverStyles();return jsxRuntimeExports.jsx(chakra.footer,{...s,className:cx("chakra-popover__footer",s.className),__css:a.footer})}PopoverFooter.displayName="PopoverFooter";function PopoverTrigger(s){const a=reactExports.Children.only(s.children),{getTriggerProps:et}=usePopoverContext();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reactExports.cloneElement(a,et(a.props,getElementRef(a)))})}PopoverTrigger.displayName="PopoverTrigger";function useIsFirstRender(){const s=reactExports.useRef(!0);return reactExports.useEffect(()=>{s.current=!1},[]),s.current}const StyledSkeleton=chakra("div",{baseStyle:{boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none","&::before, &::after, *":{visibility:"hidden"}}}),$startColor$1=cssVar$1("skeleton-start-color"),$endColor$1=cssVar$1("skeleton-end-color"),fade=keyframes$1({from:{opacity:0},to:{opacity:1}}),bgFade=keyframes$1({from:{borderColor:$startColor$1.reference,background:$startColor$1.reference},to:{borderColor:$endColor$1.reference,background:$endColor$1.reference}}),Skeleton=forwardRef((s,a)=>{const et={...s,fadeDuration:typeof s.fadeDuration=="number"?s.fadeDuration:.4,speed:typeof s.speed=="number"?s.speed:.8},nt=useStyleConfig("Skeleton",et),at=useIsFirstRender(),{startColor:mt="",endColor:wt="",isLoaded:$t,fadeDuration:Ct,speed:Dt,className:Ft,fitContent:jt,animation:Nt,...Lt}=omitThemingProps(et),[Ut,Vt]=useToken("colors",[mt,wt]),Yt=usePrevious($t),er=cx("chakra-skeleton",Ft),tr={...Ut&&{[$startColor$1.variable]:Ut},...Vt&&{[$endColor$1.variable]:Vt}};if($t){const nr=at||Yt?"none":`${fade} ${Ct}s`;return jsxRuntimeExports.jsx(chakra.div,{ref:a,className:er,__css:{animation:nr},...Lt})}return jsxRuntimeExports.jsx(StyledSkeleton,{ref:a,className:er,...Lt,__css:{width:jt?"fit-content":void 0,...nt,...tr,_dark:{...nt._dark,...tr},animation:Nt||`${Dt}s linear infinite alternate ${bgFade}`}})});Skeleton.displayName="Skeleton";const SkeletonCircle=({size:s="2rem",...a})=>jsxRuntimeExports.jsx(Skeleton,{borderRadius:"full",boxSize:s,...a});SkeletonCircle.displayName="SkeletonCircle";function getIds(s){return{root:`slider-root-${s}`,getThumb:a=>`slider-thumb-${s}-${a}`,getInput:a=>`slider-input-${s}-${a}`,track:`slider-track-${s}`,innerTrack:`slider-filled-track-${s}`,getMarker:a=>`slider-marker-${s}-${a}`,output:`slider-output-${s}`}}function orient$1(s){const{orientation:a,vertical:et,horizontal:nt}=s;return a==="vertical"?et:nt}function getStyles(s){const{orientation:a,thumbPercents:et,isReversed:nt}=s,at=Lt=>({position:"absolute",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",touchAction:"none",...orient$1({orientation:a,vertical:{bottom:`calc(${et[Lt]}% - var(--slider-thumb-size) / 2)`},horizontal:{left:`calc(${et[Lt]}% - var(--slider-thumb-size) / 2)`}})}),mt={position:"relative",touchAction:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",userSelect:"none",outline:0},wt={position:"absolute",...orient$1({orientation:a,vertical:{left:"50%",transform:"translateX(-50%)",height:"100%"},horizontal:{top:"50%",transform:"translateY(-50%)",width:"100%"}})},$t=et.length===1,Ct=[0,nt?100-et[0]:et[0]],Dt=$t?Ct:et;let Ft=Dt[0];!$t&&nt&&(Ft=100-Ft);const jt=Math.abs(Dt[Dt.length-1]-Dt[0]),Nt={...wt,...orient$1({orientation:a,vertical:nt?{height:`${jt}%`,top:`${Ft}%`}:{height:`${jt}%`,bottom:`${Ft}%`},horizontal:nt?{width:`${jt}%`,right:`${Ft}%`}:{width:`${jt}%`,left:`${Ft}%`}})};return{trackStyle:wt,innerTrackStyle:Nt,rootStyle:mt,getThumbStyle:at}}function getIsReversed(s){const{isReversed:a,direction:et,orientation:nt}=s;return et==="ltr"||nt==="vertical"?a:!a}function useSlider(s){const{min:a=0,max:et=100,onChange:nt,value:at,defaultValue:mt,isReversed:wt,direction:$t="ltr",orientation:Ct="horizontal",id:Dt,isDisabled:Ft,isReadOnly:jt,onChangeStart:Nt,onChangeEnd:Lt,step:Ut=1,getAriaValueText:Vt,"aria-valuetext":Yt,"aria-label":er,"aria-labelledby":tr,name:nr,focusThumbOnChange:sr=!0,...dr}=s,br=useCallbackRef(Nt),vr=useCallbackRef(Lt),yr=useCallbackRef(Vt),$r=getIsReversed({isReversed:wt,direction:$t,orientation:Ct}),[Sr,wr]=useControllableState({value:at,defaultValue:mt??getDefaultValue(a,et),onChange:nt}),[fr,_r]=reactExports.useState(!1),[ir,rr]=reactExports.useState(!1),or=!(Ft||jt),ar=(et-a)/10,ur=Ut||(et-a)/100,pr=clampValue(Sr,a,et),cr=et-pr+a,hr=valueToPercent($r?cr:pr,a,et),lr=Ct==="vertical",xr=useLatestRef({min:a,max:et,step:Ut,isDisabled:Ft,value:pr,isInteractive:or,isReversed:$r,isVertical:lr,eventSource:null,focusThumbOnChange:sr,orientation:Ct}),Mr=reactExports.useRef(null),Pr=reactExports.useRef(null),Ar=reactExports.useRef(null),Ir=reactExports.useId(),qr=Dt??Ir,[Rr,Tr]=[`slider-thumb-${qr}`,`slider-track-${qr}`],Er=reactExports.useCallback(Or=>{var ro;if(!Mr.current)return;const Cr=xr.current;Cr.eventSource="pointer";const kr=Mr.current.getBoundingClientRect(),{clientX:Lr,clientY:Zr}=((ro=Or.touches)==null?void 0:ro[0])??Or,an=lr?kr.bottom-Zr:Lr-kr.left,rn=lr?kr.height:kr.width;let Yn=an/rn;$r&&(Yn=1-Yn);let yo=percentToValue(Yn,Cr.min,Cr.max);return Cr.step&&(yo=parseFloat(roundValueToStep(yo,Cr.min,Cr.step))),yo=clampValue(yo,Cr.min,Cr.max),yo},[lr,$r,xr]),Br=reactExports.useCallback(Or=>{const Cr=xr.current;Cr.isInteractive&&(Or=parseFloat(roundValueToStep(Or,Cr.min,ur)),Or=clampValue(Or,Cr.min,Cr.max),wr(Or))},[ur,wr,xr]),Nr=reactExports.useMemo(()=>({stepUp(Or=ur){const Cr=$r?pr-Or:pr+Or;Br(Cr)},stepDown(Or=ur){const Cr=$r?pr+Or:pr-Or;Br(Cr)},reset(){Br(mt||0)},stepTo(Or){Br(Or)}}),[Br,$r,pr,ur,mt]),zr=reactExports.useCallback(Or=>{const Cr=xr.current,Lr={ArrowRight:()=>Nr.stepUp(),ArrowUp:()=>Nr.stepUp(),ArrowLeft:()=>Nr.stepDown(),ArrowDown:()=>Nr.stepDown(),PageUp:()=>Nr.stepUp(ar),PageDown:()=>Nr.stepDown(ar),Home:()=>Br(Cr.min),End:()=>Br(Cr.max)}[Or.key];Lr&&(Or.preventDefault(),Or.stopPropagation(),Lr(Or),Cr.eventSource="keyboard")},[Nr,Br,ar,xr]),Hr=(yr==null?void 0:yr(pr))??Yt,{getThumbStyle:jr,rootStyle:Ur,trackStyle:Fr,innerTrackStyle:Gr}=reactExports.useMemo(()=>{const Or=xr.current;return getStyles({isReversed:$r,orientation:Or.orientation,thumbPercents:[hr]})},[$r,hr,xr]),Wr=reactExports.useCallback(()=>{xr.current.focusThumbOnChange&&setTimeout(()=>{var Cr;return(Cr=Pr.current)==null?void 0:Cr.focus()})},[xr]);useUpdateEffect(()=>{const Or=xr.current;Wr(),Or.eventSource==="keyboard"&&(vr==null||vr(Or.value))},[pr,vr]);function nn(Or){const Cr=Er(Or);Cr!=null&&Cr!==xr.current.value&&wr(Cr)}usePanEvent(Ar,{onPanSessionStart(Or){const Cr=xr.current;Cr.isInteractive&&(_r(!0),Wr(),nn(Or),br==null||br(Cr.value))},onPanSessionEnd(){const Or=xr.current;Or.isInteractive&&(_r(!1),vr==null||vr(Or.value))},onPan(Or){xr.current.isInteractive&&nn(Or)}});const Ln=reactExports.useCallback((Or={},Cr=null)=>({...Or,...dr,ref:mergeRefs(Cr,Ar),tabIndex:-1,"aria-disabled":ariaAttr(Ft),"data-focused":dataAttr(ir),style:{...Or.style,...Ur}}),[dr,Ft,ir,Ur]),Un=reactExports.useCallback((Or={},Cr=null)=>({...Or,ref:mergeRefs(Cr,Mr),id:Tr,"data-disabled":dataAttr(Ft),style:{...Or.style,...Fr}}),[Ft,Tr,Fr]),Wn=reactExports.useCallback((Or={},Cr=null)=>({...Or,ref:Cr,style:{...Or.style,...Gr}}),[Gr]),io=reactExports.useCallback((Or={},Cr=null)=>({...Or,ref:mergeRefs(Cr,Pr),role:"slider",tabIndex:or?0:void 0,id:Rr,"data-active":dataAttr(fr),"aria-valuetext":Hr,"aria-valuemin":a,"aria-valuemax":et,"aria-valuenow":pr,"aria-orientation":Ct,"aria-disabled":ariaAttr(Ft),"aria-readonly":ariaAttr(jt),"aria-label":er,"aria-labelledby":er?void 0:tr,style:{...Or.style,...jr(0)},onKeyDown:callAllHandlers(Or.onKeyDown,zr),onFocus:callAllHandlers(Or.onFocus,()=>rr(!0)),onBlur:callAllHandlers(Or.onBlur,()=>rr(!1))}),[or,Rr,fr,Hr,a,et,pr,Ct,Ft,jt,er,tr,jr,zr]),zn=reactExports.useCallback((Or,Cr=null)=>{const kr=!(Or.value<a||Or.value>et),Lr=pr>=Or.value,Zr=valueToPercent(Or.value,a,et),an={position:"absolute",pointerEvents:"none",...orient({orientation:Ct,vertical:{bottom:$r?`${100-Zr}%`:`${Zr}%`},horizontal:{left:$r?`${100-Zr}%`:`${Zr}%`}})};return{...Or,ref:Cr,role:"presentation","aria-hidden":!0,"data-disabled":dataAttr(Ft),"data-invalid":dataAttr(!kr),"data-highlighted":dataAttr(Lr),style:{...Or.style,...an}}},[Ft,$r,et,a,Ct,pr]),Zn=reactExports.useCallback((Or={},Cr=null)=>({...Or,ref:Cr,type:"hidden",value:pr,name:nr}),[nr,pr]);return{state:{value:pr,isFocused:ir,isDragging:fr},actions:Nr,getRootProps:Ln,getTrackProps:Un,getInnerTrackProps:Wn,getThumbProps:io,getMarkerProps:zn,getInputProps:Zn}}function orient(s){const{orientation:a,vertical:et,horizontal:nt}=s;return a==="vertical"?et:nt}function getDefaultValue(s,a){return a<s?s:s+(a-s)/2}const[SliderProvider,useSliderContext]=createContext({name:"SliderContext",hookName:"useSliderContext",providerName:"<Slider />"}),[SliderStylesProvider,useSliderStyles]=createContext({name:"SliderStylesContext",hookName:"useSliderStyles",providerName:"<Slider />"}),Slider=forwardRef((s,a)=>{const et={...s,orientation:(s==null?void 0:s.orientation)??"horizontal"},nt=useMultiStyleConfig("Slider",et),at=omitThemingProps(et),{direction:mt}=useTheme();at.direction=mt;const{getInputProps:wt,getRootProps:$t,...Ct}=useSlider(at),Dt=$t(),Ft=wt({},a);return jsxRuntimeExports.jsx(SliderProvider,{value:Ct,children:jsxRuntimeExports.jsx(SliderStylesProvider,{value:nt,children:jsxRuntimeExports.jsxs(chakra.div,{...Dt,className:cx("chakra-slider",et.className),__css:nt.container,children:[et.children,jsxRuntimeExports.jsx("input",{...Ft})]})})})});Slider.displayName="Slider";const SliderThumb=forwardRef((s,a)=>{const{getThumbProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(s,a);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__thumb",s.className),__css:nt.thumb})});SliderThumb.displayName="SliderThumb";const SliderTrack=forwardRef((s,a)=>{const{getTrackProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(s,a);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__track",s.className),__css:nt.track})});SliderTrack.displayName="SliderTrack";const SliderFilledTrack=forwardRef((s,a)=>{const{getInnerTrackProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(s,a);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__filled-track",s.className),__css:nt.filledTrack})});SliderFilledTrack.displayName="SliderFilledTrack";const SliderMark=forwardRef((s,a)=>{const{getMarkerProps:et}=useSliderContext(),nt=useSliderStyles(),at=et(s,a);return jsxRuntimeExports.jsx(chakra.div,{...at,className:cx("chakra-slider__marker",s.className),__css:nt.mark})});SliderMark.displayName="SliderMark";const StackItem=s=>jsxRuntimeExports.jsx(chakra.div,{className:"chakra-stack__item",...s,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...s.__css}});StackItem.displayName="StackItem";function getDividerStyles(s){const{spacing:a,direction:et}=s,nt={column:{my:a,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:a,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:a,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:a,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":mapResponsive(et,at=>nt[at])}}const Stack$1=forwardRef((s,a)=>{const{isInline:et,direction:nt,align:at,justify:mt,spacing:wt="0.5rem",wrap:$t,children:Ct,divider:Dt,className:Ft,shouldWrapChildren:jt,...Nt}=s,Lt=et?"row":nt??"column",Ut=reactExports.useMemo(()=>getDividerStyles({spacing:wt,direction:Lt}),[wt,Lt]),Vt=!!Dt,Yt=!jt&&!Vt,er=reactExports.useMemo(()=>{const nr=getValidChildren(Ct);return Yt?nr:nr.map((sr,dr)=>{const br=typeof sr.key<"u"?sr.key:dr,vr=dr+1===nr.length,$r=jt?jsxRuntimeExports.jsx(StackItem,{children:sr},br):sr;if(!Vt)return $r;const Sr=reactExports.cloneElement(Dt,{__css:Ut}),wr=vr?null:Sr;return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[$r,wr]},br)})},[Dt,Ut,Vt,Yt,jt,Ct]),tr=cx("chakra-stack",Ft);return jsxRuntimeExports.jsx(chakra.div,{ref:a,display:"flex",alignItems:at,justifyContent:mt,flexDirection:Lt,flexWrap:$t,gap:Vt?void 0:wt,className:tr,...Nt,children:er})});Stack$1.displayName="Stack";const HStack=forwardRef((s,a)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...s,direction:"row",ref:a}));HStack.displayName="HStack";const VStack=forwardRef((s,a)=>jsxRuntimeExports.jsx(Stack$1,{align:"center",...s,direction:"column",ref:a}));VStack.displayName="VStack";const Switch=forwardRef(function(a,et){const nt=useMultiStyleConfig("Switch",a),{spacing:at="0.5rem",children:mt,...wt}=omitThemingProps(a),{getIndicatorProps:$t,getInputProps:Ct,getCheckboxProps:Dt,getRootProps:Ft,getLabelProps:jt}=useCheckbox(wt),Nt=reactExports.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...nt.container}),[nt.container]),Lt=reactExports.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...nt.track}),[nt.track]),Ut=reactExports.useMemo(()=>({userSelect:"none",marginStart:at,...nt.label}),[at,nt.label]);return jsxRuntimeExports.jsxs(chakra.label,{...Ft(),className:cx("chakra-switch",a.className),__css:Nt,children:[jsxRuntimeExports.jsx("input",{className:"chakra-switch__input",...Ct({},et)}),jsxRuntimeExports.jsx(chakra.span,{...Dt(),className:"chakra-switch__track",__css:Lt,children:jsxRuntimeExports.jsx(chakra.span,{__css:nt.thumb,className:"chakra-switch__thumb",...$t()})}),mt&&jsxRuntimeExports.jsx(chakra.span,{className:"chakra-switch__label",...jt(),__css:Ut,children:mt})]})});Switch.displayName="Switch";const[TagStylesProvider,useTagStyles]=createContext({name:"TagStylesContext",errorMessage:`useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tag />" `}),Tag=forwardRef((s,a)=>{const et=useMultiStyleConfig("Tag",s),nt=omitThemingProps(s),at={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...et.container};return jsxRuntimeExports.jsx(TagStylesProvider,{value:et,children:jsxRuntimeExports.jsx(chakra.span,{ref:a,...nt,__css:at})})});Tag.displayName="Tag";const TagLabel=forwardRef((s,a)=>{const et=useTagStyles();return jsxRuntimeExports.jsx(chakra.span,{ref:a,noOfLines:1,...s,__css:et.label})});TagLabel.displayName="TagLabel";const TagLeftIcon=forwardRef((s,a)=>jsxRuntimeExports.jsx(Icon$1,{ref:a,verticalAlign:"top",marginEnd:"0.5rem",...s}));TagLeftIcon.displayName="TagLeftIcon";const TagRightIcon=forwardRef((s,a)=>jsxRuntimeExports.jsx(Icon$1,{ref:a,verticalAlign:"top",marginStart:"0.5rem",...s}));TagRightIcon.displayName="TagRightIcon";const TagCloseIcon=s=>jsxRuntimeExports.jsx(Icon$1,{verticalAlign:"inherit",viewBox:"0 0 512 512",...s,children:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});TagCloseIcon.displayName="TagCloseIcon";const TagCloseButton=forwardRef((s,a)=>{const{isDisabled:et,children:nt,...at}=s,wt={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...useTagStyles().closeButton};return jsxRuntimeExports.jsx(chakra.button,{ref:a,"aria-label":"close",...at,type:"button",disabled:et,__css:wt,children:nt||jsxRuntimeExports.jsx(TagCloseIcon,{})})});TagCloseButton.displayName="TagCloseButton";function getToastPlacement(s,a){const et=s??"bottom",at={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[et];return(at==null?void 0:at[a])??et}function createToastFn(s,a){const et=at=>({...a,...at,position:getToastPlacement((at==null?void 0:at.position)??(a==null?void 0:a.position),s)}),nt=at=>{const mt=et(at),wt=createRenderToast(mt);return toastStore.notify(wt,mt)};return nt.update=(at,mt)=>{toastStore.update(at,et(mt))},nt.promise=(at,mt)=>{const wt=nt({...mt.loading,status:"loading",duration:null});at.then($t=>nt.update(wt,{status:"success",duration:5e3,...runIfFn$1(mt.success,$t)})).catch($t=>nt.update(wt,{status:"error",duration:5e3,...runIfFn$1(mt.error,$t)}))},nt.closeAll=toastStore.closeAll,nt.close=toastStore.close,nt.isActive=toastStore.isActive,nt}function useToast(s){const{theme:a}=useChakra(),et=useToastOptionContext();return reactExports.useMemo(()=>createToastFn(a.direction,{...et,...s}),[s,a.direction,et])}const scale={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},getDoc=s=>{var a;return((a=s.current)==null?void 0:a.ownerDocument)||document},getWin=s=>{var a,et;return((et=(a=s.current)==null?void 0:a.ownerDocument)==null?void 0:et.defaultView)||window};function useTooltip(s={}){const{openDelay:a=0,closeDelay:et=0,closeOnClick:nt=!0,closeOnMouseDown:at,closeOnScroll:mt,closeOnPointerDown:wt=at,closeOnEsc:$t=!0,onOpen:Ct,onClose:Dt,placement:Ft,id:jt,isOpen:Nt,defaultIsOpen:Lt,arrowSize:Ut=10,arrowShadowColor:Vt,arrowPadding:Yt,modifiers:er,isDisabled:tr,gutter:nr,offset:sr,direction:dr,...br}=s,{isOpen:vr,onOpen:yr,onClose:$r}=useDisclosure({isOpen:Nt,defaultIsOpen:Lt,onOpen:Ct,onClose:Dt}),{referenceRef:Sr,getPopperProps:wr,getArrowInnerProps:fr,getArrowProps:_r}=usePopper({enabled:vr,placement:Ft,arrowPadding:Yt,modifiers:er,gutter:nr,offset:sr,direction:dr}),ir=reactExports.useId(),or=`tooltip-${jt??ir}`,ar=reactExports.useRef(null),ur=reactExports.useRef(void 0),pr=reactExports.useCallback(()=>{ur.current&&(clearTimeout(ur.current),ur.current=void 0)},[]),cr=reactExports.useRef(void 0),gr=reactExports.useCallback(()=>{cr.current&&(clearTimeout(cr.current),cr.current=void 0)},[]),hr=reactExports.useCallback(()=>{gr(),$r()},[$r,gr]),lr=useCloseEvent(ar,hr),xr=reactExports.useCallback(()=>{if(!tr&&!ur.current){vr&&lr();const Er=getWin(ar);ur.current=Er.setTimeout(yr,a)}},[lr,tr,vr,yr,a]),Mr=reactExports.useCallback(()=>{pr();const Er=getWin(ar);cr.current=Er.setTimeout(hr,et)},[et,hr,pr]),Pr=reactExports.useCallback(()=>{vr&&nt&&Mr()},[nt,Mr,vr]),Ar=reactExports.useCallback(()=>{vr&&wt&&Mr()},[wt,Mr,vr]),Ir=reactExports.useCallback(Er=>{vr&&Er.key==="Escape"&&Mr()},[vr,Mr]);useEventListener(()=>getDoc(ar),"keydown",$t?Ir:void 0),useEventListener(()=>{if(!mt)return null;const Er=ar.current;if(!Er)return null;const Br=getScrollParent$1(Er);return Br.localName==="body"?getWin(ar):Br},"scroll",()=>{vr&&mt&&hr()},{passive:!0,capture:!0}),reactExports.useEffect(()=>{tr&&(pr(),vr&&$r())},[tr,vr,$r,pr]),reactExports.useEffect(()=>()=>{pr(),gr()},[pr,gr]),useEventListener(()=>ar.current,"pointerleave",Mr);const qr=reactExports.useCallback((Er={},Br=null)=>({...Er,ref:mergeRefs(ar,Br,Sr),onPointerEnter:callAllHandlers(Er.onPointerEnter,zr=>{zr.pointerType!=="touch"&&xr()}),onClick:callAllHandlers(Er.onClick,Pr),onPointerDown:callAllHandlers(Er.onPointerDown,Ar),onFocus:callAllHandlers(Er.onFocus,xr),onBlur:callAllHandlers(Er.onBlur,Mr),"aria-describedby":vr?or:void 0}),[xr,Mr,Ar,vr,or,Pr,Sr]),Rr=reactExports.useCallback((Er={},Br=null)=>wr({...Er,style:{...Er.style,[cssVars.arrowSize.var]:Ut?`${Ut}px`:void 0,[cssVars.arrowShadowColor.var]:Vt}},Br),[wr,Ut,Vt]),Tr=reactExports.useCallback((Er={},Br=null)=>{const Nr={...Er.style,position:"relative",transformOrigin:cssVars.transformOrigin.varRef};return{ref:Br,...br,...Er,id:or,role:"tooltip",style:Nr}},[br,or]);return{isOpen:vr,show:xr,hide:Mr,getTriggerProps:qr,getTooltipProps:Tr,getTooltipPositionerProps:Rr,getArrowProps:_r,getArrowInnerProps:fr}}const closeEventName="chakra-ui:close-tooltip";function useCloseEvent(s,a){return reactExports.useEffect(()=>{const et=getDoc(s);return et.addEventListener(closeEventName,a),()=>et.removeEventListener(closeEventName,a)},[a,s]),()=>{const et=getDoc(s),nt=getWin(s);et.dispatchEvent(new nt.CustomEvent(closeEventName))}}const MotionDiv=chakra(motion.div),Tooltip=forwardRef((s,a)=>{const et=useStyleConfig("Tooltip",s),nt=omitThemingProps(s),at=useTheme(),{children:mt,label:wt,shouldWrapChildren:$t,"aria-label":Ct,hasArrow:Dt,bg:Ft,portalProps:jt,background:Nt,backgroundColor:Lt,bgColor:Ut,motionProps:Vt,animatePresenceProps:Yt,...er}=nt,tr=Nt??Lt??Ft??Ut;if(tr){et.bg=tr;const Sr=getCSSVar(at,"colors",tr);et[cssVars.arrowBg.var]=Sr}const nr=useTooltip({...er,direction:at.direction}),sr=!reactExports.isValidElement(mt)||$t;let dr;if(sr)dr=jsxRuntimeExports.jsx(chakra.span,{display:"inline-block",tabIndex:0,...nr.getTriggerProps(),children:mt});else{const Sr=reactExports.Children.only(mt);dr=reactExports.cloneElement(Sr,nr.getTriggerProps(Sr.props,getElementRef(Sr)))}const br=!!Ct,vr=nr.getTooltipProps({},a),yr=br?omit(vr,["role","id"]):vr,$r=pick(vr,["role","id"]);return wt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[dr,jsxRuntimeExports.jsx(AnimatePresence,{...Yt,children:nr.isOpen&&jsxRuntimeExports.jsx(Portal,{...jt,children:jsxRuntimeExports.jsx(chakra.div,{...nr.getTooltipPositionerProps(),__css:{zIndex:et.zIndex,pointerEvents:"none"},children:jsxRuntimeExports.jsxs(MotionDiv,{variants:scale,initial:"exit",animate:"enter",exit:"exit",...Vt,...yr,__css:et,children:[wt,br&&jsxRuntimeExports.jsx(chakra.span,{srOnly:!0,...$r,children:Ct}),Dt&&jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:jsxRuntimeExports.jsx(chakra.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:et.bg}})})]})})})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:mt})});Tooltip.displayName="Tooltip";const Heading=forwardRef(function(a,et){const nt=useStyleConfig("Heading",a),{className:at,...mt}=omitThemingProps(a);return jsxRuntimeExports.jsx(chakra.h2,{ref:et,className:cx("chakra-heading",a.className),...mt,__css:nt})});Heading.displayName="Heading";const Text=forwardRef(function(a,et){const nt=useStyleConfig("Text",a),{className:at,align:mt,decoration:wt,casing:$t,...Ct}=omitThemingProps(a),Dt=compact({textAlign:a.align,textDecoration:a.decoration,textTransform:a.casing});return jsxRuntimeExports.jsx(chakra.p,{ref:et,className:cx("chakra-text",a.className),...Dt,...Ct,__css:nt})});Text.displayName="Text";function Icon(s){const{xlinkHref:a,fontSize:et,svgW:nt,svgH:at,boxW:mt,boxH:wt,variant:$t,svgHover:Ct,svgFill:Dt,onClick:Ft,iconCursor:jt="pointer",isActive:Nt,activeColor:Lt,activeHoverColor:Ut,...Vt}=s,[Yt,er]=reactExports.useState(!1),{isApp:tr}=useWindowWidth(),nr=dr=>{tr&&er(!0),Ft&&Ft(dr)},sr=reactExports.useMemo(()=>{const dr={base:{box:{w:mt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!Yt&&!tr?{svg:{fill:Nt&&Ut?Ut:Ct||"text_caption"}}:void 0},svg:{fill:Nt&&Lt?isColorValue(Lt)?Lt:`var(--chakra-colors-${Lt||"text_paragraph"})`:Dt&&isColorValue(Dt)?Dt:`var(--chakra-colors-${Dt||"text_paragraph"})`,width:nt||et||"20px",height:at||et||"20px"}},gray:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!Yt&&!tr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:nt||et||"20px",height:at||et||"20px"}},primary:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!Yt&&!tr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:nt||et||"20px",height:at||et||"20px"}},warning:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!Yt&&!tr?{svg:{fill:"primary_yellow"}}:void 0},svg:{fill:"var(--chakra-colors-primary_yellow)",width:nt||et||"20px",height:at||et||"20px"}},error:{box:{w:wt||et||"20px",h:wt||et||"20px",bg:"none",_hover:!Yt&&!tr?{svg:{fill:"primary_red"}}:void 0},svg:{fill:"var(--chakra-colors-primary_red)",width:nt||et||"20px",height:at||et||"20px"}},solid:{box:{bg:"checked_bg",w:mt||et||"24px",h:wt||et||"24px",borderRadius:"4px",_hover:!Yt&&!tr?{svg:{fill:Nt&&Ut?Ut:Ct||"text_caption"}}:void 0},svg:{fill:Nt&&Lt?isColorValue(Lt)?Lt:`var(--chakra-colors-${Lt||"text_paragraph"})`:Dt&&isColorValue(Dt)?Dt:`var(--chakra-colors-${Dt||"text_paragraph"})`,width:nt||et||"16px",height:at||et||"16px"}},rectangle:{box:{bg:"card_bg",w:mt||et||"28px",h:wt||et||"20px",borderRadius:"8px",_hover:!Yt&&!tr?{svg:{fill:"primary"}}:void 0},svg:{fill:"var(--chakra-colors-primary)",width:nt||et||"16px",height:at||et||"16px"}},round:{box:{bg:"card_bg",w:mt||et||"20px",h:wt||et||"20px",borderRadius:"50%",border:"1px",borderStyle:"solid",borderColor:"var(--chakra-colors-border)",background:"var(--chakra-colors-bg_secondary)",_hover:!Yt&&!tr?{svg:{fill:"text_caption"}}:void 0},svg:{fill:"var(--chakra-colors-text_paragraph)",width:nt||et||"16px",height:at||et||"16px"}}};return $t?dr[$t]:dr.base},[$t,nt,at,mt,wt,et,Dt,Ct,Nt,Lt,Ut]);return jsxRuntimeExports.jsx(Center,{cursor:jt,...sr.box,...Vt,onClick:nr,children:jsxRuntimeExports.jsx("svg",{"aria-hidden":"true",...sr.svg,children:jsxRuntimeExports.jsx("use",{xlinkHref:a})})})}function Block({children:s,...a}){return jsxRuntimeExports.jsx(Box,{as:"div",w:"100%",borderRadius:"20px",border:"1px solid",borderColor:"border",bg:"bg_secondary",p:"20px 16px",...a,children:s})}var depsEqual=function(s,a){return s===void 0&&(s=[]),a===void 0&&(a=[]),isEqual(s,a)},createDeepCompareEffect=function(s){return function(a,et){var nt=reactExports.useRef(),at=reactExports.useRef(0);(et===void 0||!depsEqual(et,nt.current))&&(at.current+=1),nt.current=et,s(a,[at.current])}};const useDeepCompareEffect=createDeepCompareEffect(reactExports.useEffect);function CetusTooltip({children:s,tooltip:a,placement:et,maxW:nt="320px",bodyPadding:at="8px",showTooltip:mt=!0}){const{isApp:wt}=useWindowWidth();return jsxRuntimeExports.jsxs(Popover,{isLazy:!0,trigger:wt?"click":"hover",placement:et,autoFocus:!1,returnFocusOnClose:!1,gutter:4,children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Box,{as:"button",children:s})}),mt&&jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(PopoverContent,{w:"fit-content",maxW:nt,children:jsxRuntimeExports.jsx(PopoverBody,{p:at,fontSize:"12px",w:"fit-content",children:a})})})]})}function SwitchChain({chainsList:s,currentChain:a,onChange:et}){const{isApp:nt}=useWindowWidth();return jsxRuntimeExports.jsx(Menu,{isLazy:!0,children:({isOpen:at})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MenuButton,{as:Button,variant:"outline",h:"36px",borderRadius:"8px",p:nt?"6px":"6px 11px",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Image$1,{src:a.icon,w:"20px",h:"20px",borderRadius:"50%"}),!nt&&jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:a.name})]})})})})}function BackButton({text:s,onClick:a,...et}){const nt=useNavigate();return jsxRuntimeExports.jsxs(Flex,{w:"73px",h:"32px",align:"center",justifyContent:"center",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",fontWeight:"500",onClick:()=>{a?a():nt(-1)},sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},...et,children:[s!=="Back to DEX"&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_descending",fontSize:"16px",transform:"rotate(90deg)"}),jsxRuntimeExports.jsx(Text,{lineHeight:"1",children:s||"Back"})]})}function CheckBox(s){const{checked:a,width:et,height:nt,borderRadius:at,onClick:mt,cursor:wt="pointer"}=s;return jsxRuntimeExports.jsx(Flex,{align:"center",justifyContent:"center",background:"checked_bg",border:"1px solid",borderColor:"border",cursor:wt,width:et||"20px",height:nt||"20px",borderRadius:at||"4px",onClick:mt,sx:{svg:{fill:"primary !important"}},children:a?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check"}):null})}const store$b=(s,a)=>({collectList:[],collectObj:{},setCollectList:et=>{s(()=>({collectList:et,collectObj:Object.fromEntries(et.map(nt=>[nt.coin_type,nt]))}))},trustedTokenList:[],setTrustedList:et=>{s(()=>({trustedTokenList:et}))},filterTokenLoading:!1,setFilterTokenLoading:et=>{s(()=>({filterTokenLoading:et}))},filterTokenList:[],setFilterTokenList:et=>{s(()=>({filterTokenList:et}))},importTokenList:[],setImportTokenList:et=>{s(()=>({importTokenList:et}))},liquidityTrustTokenList:[],setLiquidityTrustTokenList:et=>{s(()=>({liquidityTrustTokenList:et}))},isShowImportBtn:!1,setShowImportBtn:et=>{s(()=>({isShowImportBtn:et}))},trustedListLabel:[],setTrustedListLabel:et=>{s(()=>({trustedListLabel:et}))},tokenModalOpacity:1,setTokenModalOpacity:et=>{s(()=>({tokenModalOpacity:et}))},userCollectList:[],userCollectObj:{},setUserCollectList:et=>{s(()=>({userCollectList:et,userCollectObj:Object.fromEntries(et.map(nt=>[nt.coin_type,nt]))}))}}),useTokenSelectStore=create$3(persist(store$b,{name:"useTokenSelectStore",partialize:s=>{const{importTokenList:a,liquidityTrustTokenList:et}=s;return{importTokenList:a,liquidityTrustTokenList:et}}})),APP_ENV="mainnet",VAULT_FILTER=!0;function getQueryParam(s){const a=new URLSearchParams(window.location.search);return window.location.host==="app.cetus.zone"?"":a.get(s)}let apiUrl="";try{apiUrl=getQueryParam("apiUrl")||""}catch(s){console.log(" ~ error:",s),apiUrl=""}const baseConfigMainnet={fullRpcUrl:"https://fullnode.mainnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigMainnet={...baseConfigMainnet,cetus_config:{package_id:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",published_at:"0x95b8d278b876cae22206131fb9724f701c9444515813042f54f0a426c9a3bc2f",version:void 0,config:{coin_list_id:"0x8cbc11d9e10140db3d230f50b4d30e9b721201c0083615441707ffec1ef77b23",launchpad_pools_id:"0x1098fac992eab3a0ab7acf15bb654fc1cf29b5a6142c4ef1058e6c408dd15115",clmm_pools_id:"0x15b6a27dd9ae03eb455aba03b39e29aad74abd3757b8e18c0755651b2ae5b71e",admin_cap_id:"0x39d78781750e193ce35c45ff32c6c0c3f2941fa3ddaf8595c90c555589ddb113",global_config_id:"0x0408fa4e4a4c03cc0de8f23d0c2bbfe8913d178713c9a271ed4080973fe42d8f",coin_list_handle:"0x49136005e90e28c4695419ed4194cc240603f1ea8eb84e62275eaff088a71063",launchpad_pools_handle:"0x5e194a8efcf653830daf85a85b52e3ae8f65dc39481d54b2382acda25068375c",clmm_pools_handle:"0x37f60eb2d9d227949b95da8fea810db3c32d1e1fa8ed87434fc51664f87d83cb"}},clmm_pool:{package_id:"0x1eabed72c53feb3805120a081dc15963c204dc8d091542592abaf7a35689b2fb",published_at:"0xc6faf3703b0e8ba9ed06b7851134bbbe7565eb35ff823fd78432baa4cbeaa12e",version:0,config:{pools_id:"0xf699e7f2276f5c9a75944b37a0c5b5d9ddfd2471bf6242483b03ab2887d198d0",global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",admin_cap_id:"",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"}},integrate:{package_id:"0x996c4d9480708fb8b92aa7acf819fb0497b5ec8e65ba06601cae2fb6db3312c3",published_at:"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:`${apiUrl||"https://api-sui.cetus.zone"}/router_v2`},burnConfigMainnet={...baseConfigMainnet,burn:{package_id:"0x12d73de9a6bc3cb658ec9dc0fe7de2662be1cea5c76c092fcc3606048cdbac27",published_at:"0xb977b00649d3ab8950bcbbafb01fcf32e2e7718eb3133eff2e48c0cef04b1495",manager_id:"0x1d94aa32518d0cb00f9de6ed60d450c9a2090761f326752ffad06b2e9404f845",clmm_global_config:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",clmm_global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b",burn_pool_handle:"0xc9aacf74bd7cc8da8820ae28ca4473b7e01c87be19bc35bf81c9c7311e1b299e"}},peripheryConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"},limit_order:{package_id:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",published_at:"0x533fab9a116080e2cb1c87f1832c1bf4231ab4c32318ced041e75cc28604bba9",config:{rate_orders_indexer_id:"0xe7fa62b6fc095ed5659b85c735f4322059e1f4616dcf3343adece6e7eb52bf47",rate_orders_indexer_handle:"0x81a95c812cab1c9cc7a1c10446d93d2d9517097211c72b544f7efed33b540bcc",global_config_id:"0xd3403f23a053b52e5c4ef0c2a8be316120c435ec338f2596647b6befd569fd9c",token_list_handle:"0x644a7f05eff2a1b4c266d7ce849c8494fb068a4e29037c7c523e5eb822389d8d",user_orders_indexer_id:"0x7f851ac19e438f97e78a5335eed4f12766a3a0ae94340bab7956a402f0e6212e",user_orders_indexer_handle:"0x84703679acd2eeaee8de4945be79d029ab94966bc22e0f6cfd696032fd31bbc7"}},frams:{package_id:"0x11ea791d82b5742cc8cab0bf7946035c97d9001d7c3803a93f119753da66f526",published_at:"0x585381670c3d7c1f78caeb6c803f449442659743f4047a01b942da08bbfa19f6",config:{global_config_id:"0x21215f2f6de04b57dd87d9be7bb4e15499aec935e36078e2488f36436d64996e",rewarder_manager_id:"0xe0e155a88c77025056da08db5b1701a91b79edb6167462f768e387c3ed6614d5",rewarder_manager_handle:"0xb32e312cbb3367d6f3d2b4e57c9225e903d29b7b9f612dae2ddf75bdeb26a5aa",admin_cap_id:"0xf10fbf1fea5b7aeaa524b87769461a28c5c977613046360093673991f26d886c"}},dca:{package_id:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",published_at:"0x587614620d0d30aed66d86ffd3ba385a661a86aa573a4d579017068f561c6d8f",config:{admin_cap_id:"0xbcdd7391245dd8d6118a39bc83e6d9a7cfca899d06cc283c1a4cae41b2508574",global_config_id:"0x5db218756f8486fa2ac26fab590c4be4e439be54e6d932c9a30b20573a5b706a",indexer_id:"0x713f0968d042b48f4ec57e4e21bd7e346d06355f59776faedc9497ca990a9f77",user_indexer_id:"0x0ae365f60f2fa692831f9496c9e49b2440c74f14e8eab6f88dbb418c443b5020",in_coin_whitelist_id:"0x845643253afdfef9c4202e7af5e2de374b7f4766f78694903e8b2c0f83dab3ce",out_coin_whitelist_id:"0xe398b24a2b28f1ffd18394eaa78538d6ec8111dcb5fd919424bd3d42764c19f7"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:""}}}}},MainnetTokens={SUI:{id:"0x9258181f5ceac8dbffb7030890243caed69a9599d2886d957a9cb7656af3bdb3",coin_type:"0x2::sui::SUI",decimals:9,description:"",name:"Sui",symbol:"SUI",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",is_trusted:!0,extensions:{rank:"880"}},CETUS:{id:"0x4c0dce55eff2db5419bbd2d239d1aa22b4a400c01bbb648b058a9883989025da",coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",decimals:9,description:"",name:"Cetus Token",symbol:"CETUS",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",is_trusted:!0},xCETUS:{coin_type:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0},USDC:{id:"0x69b7a7c3c200439c1b5f3b19d7d495d5966d5f08de66c69276152f8db3992ec6",coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",decimals:6,description:"",name:"USDC",symbol:"USDC",logo_url:"https://circle.com/usdc-icon",is_trusted:!0,extensions:{rank:"1000"}}},MainnetCreatePoolQuoteTokens=["0x2::sui::SUI","0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x375f70cf2ae4c00bf37117d0c85a2c71545e6ee05c4a5c7d282cd66a4504b068::usdt::USDT","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS","0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI","0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK","0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT","0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI","0x83556891f4a0f233ce7b05cfe7f957d4020492a34f5405b2cb9377d060bef4bf::spring_sui::SPRING_SUI","0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN","0xaafb102dd0902f5055cadecd687fb5b71ca82ef0e0285d90afde828ec58ca96b::btc::BTC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0x356a26eb9e012a68958082340d4c4116e7f55615cf27affcff209cf0ae544f59::wal::WAL"];var lib$3={},SuiPriceServiceConnection$1={},lib$2={},PriceServiceConnection$1={},lib$1={},PriceFeed={};Object.defineProperty(PriceFeed,"__esModule",{value:!0});PriceFeed.Convert=void 0;class Convert{static toPriceFeed(a){return cast(a,r$1("PriceFeed"))}static priceFeedToJson(a){return uncast(a,r$1("PriceFeed"))}static toPrice(a){return cast(a,r$1("Price"))}static priceToJson(a){return uncast(a,r$1("Price"))}static toPriceFeedMetadata(a){return cast(a,r$1("PriceFeedMetadata"))}static priceFeedMetadataToJson(a){return uncast(a,r$1("PriceFeedMetadata"))}}PriceFeed.Convert=Convert;function invalidValue(s,a,et=""){throw Error(et?`Invalid value for key "${et}". Expected type ${JSON.stringify(s)} but got ${JSON.stringify(a)}`:`Invalid value ${JSON.stringify(a)} for type ${JSON.stringify(s)}`)}function jsonToJSProps(s){if(s.jsonToJS===void 0){const a={};s.props.forEach(et=>a[et.json]={key:et.js,typ:et.typ}),s.jsonToJS=a}return s.jsonToJS}function jsToJSONProps(s){if(s.jsToJSON===void 0){const a={};s.props.forEach(et=>a[et.js]={key:et.json,typ:et.typ}),s.jsToJSON=a}return s.jsToJSON}function transform(s,a,et,nt=""){function at(Ft,jt){return typeof Ft==typeof jt?jt:invalidValue(Ft,jt,nt)}function mt(Ft,jt){const Nt=Ft.length;for(let Lt=0;Lt<Nt;Lt++){const Ut=Ft[Lt];try{return transform(jt,Ut,et)}catch{}}return invalidValue(Ft,jt)}function wt(Ft,jt){return Ft.indexOf(jt)!==-1?jt:invalidValue(Ft,jt)}function $t(Ft,jt){return Array.isArray(jt)?jt.map(Nt=>transform(Nt,Ft,et)):invalidValue("array",jt)}function Ct(Ft){if(Ft===null)return null;const jt=new Date(Ft);return isNaN(jt.valueOf())?invalidValue("Date",Ft):jt}function Dt(Ft,jt,Nt){if(Nt===null||typeof Nt!="object"||Array.isArray(Nt))return invalidValue("object",Nt);const Lt={};return Object.getOwnPropertyNames(Ft).forEach(Ut=>{const Vt=Ft[Ut],Yt=Object.prototype.hasOwnProperty.call(Nt,Ut)?Nt[Ut]:void 0;Lt[Vt.key]=transform(Yt,Vt.typ,et,Vt.key)}),Object.getOwnPropertyNames(Nt).forEach(Ut=>{Object.prototype.hasOwnProperty.call(Ft,Ut)||(Lt[Ut]=transform(Nt[Ut],jt,et,Ut))}),Lt}if(a==="any")return s;if(a===null)return s===null?s:invalidValue(a,s);if(a===!1)return invalidValue(a,s);for(;typeof a=="object"&&a.ref!==void 0;)a=typeMap[a.ref];return Array.isArray(a)?wt(a,s):typeof a=="object"?a.hasOwnProperty("unionMembers")?mt(a.unionMembers,s):a.hasOwnProperty("arrayItems")?$t(a.arrayItems,s):a.hasOwnProperty("props")?Dt(et(a),a.additional,s):invalidValue(a,s):a===Date&&typeof s!="number"?Ct(s):at(a,s)}function cast(s,a){return transform(s,a,jsonToJSProps)}function uncast(s,a){return transform(s,a,jsToJSONProps)}function u$1(...s){return{unionMembers:s}}function o(s,a){return{props:s,additional:a}}function r$1(s){return{ref:s}}const typeMap={PriceFeed:o([{json:"ema_price",js:"ema_price",typ:r$1("Price")},{json:"id",js:"id",typ:""},{json:"metadata",js:"metadata",typ:u$1(void 0,r$1("PriceFeedMetadata"))},{json:"price",js:"price",typ:r$1("Price")},{json:"vaa",js:"vaa",typ:u$1(void 0,"")}],"any"),Price:o([{json:"conf",js:"conf",typ:""},{json:"expo",js:"expo",typ:0},{json:"price",js:"price",typ:""},{json:"publish_time",js:"publish_time",typ:0}],"any"),PriceFeedMetadata:o([{json:"attestation_time",js:"attestation_time",typ:u$1(void 0,0)},{json:"emitter_chain",js:"emitter_chain",typ:0},{json:"prev_publish_time",js:"prev_publish_time",typ:u$1(void 0,0)},{json:"price_service_receive_time",js:"price_service_receive_time",typ:u$1(void 0,0)},{json:"sequence_number",js:"sequence_number",typ:u$1(void 0,0)},{json:"slot",js:"slot",typ:u$1(void 0,0)}],"any")};var AccumulatorUpdateData={},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(AccumulatorUpdateData,"__esModule",{value:!0});AccumulatorUpdateData.parseAccumulatorUpdateData=AccumulatorUpdateData.sliceAccumulatorUpdateData=AccumulatorUpdateData.parseTwapMessage=AccumulatorUpdateData.parsePriceFeedMessage=AccumulatorUpdateData.isAccumulatorUpdateData=void 0;const bn_js_1=__importDefault$2(bnExports),ACCUMULATOR_MAGIC="504e4155",MAJOR_VERSION=1,MINOR_VERSION=0,KECCAK160_HASH_SIZE=20,PRICE_FEED_MESSAGE_VARIANT=0,TWAP_MESSAGE_VARIANT=1;function isAccumulatorUpdateData(s){return s.toString("hex").slice(0,8)===ACCUMULATOR_MAGIC&&s[4]===MAJOR_VERSION&&s[5]===MINOR_VERSION}AccumulatorUpdateData.isAccumulatorUpdateData=isAccumulatorUpdateData;function parsePriceFeedMessage(s){let a=0;if(s.readUInt8(a)!==PRICE_FEED_MESSAGE_VARIANT)throw new Error("Not a price feed message");a+=1;const nt=s.subarray(a,a+32);a+=32;const at=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const mt=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const wt=s.readInt32BE(a);a+=4;const $t=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const Ct=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const Dt=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const Ft=new bn_js_1.default(s.subarray(a,a+8),"be");return a+=8,{feedId:nt,price:at,confidence:mt,exponent:wt,publishTime:$t,prevPublishTime:Ct,emaPrice:Dt,emaConf:Ft}}AccumulatorUpdateData.parsePriceFeedMessage=parsePriceFeedMessage;function parseTwapMessage(s){let a=0;if(s.readUInt8(a)!==TWAP_MESSAGE_VARIANT)throw new Error("Not a twap message");a+=1;const nt=s.subarray(a,a+32);a+=32;const at=new bn_js_1.default(s.subarray(a,a+16),"be");a+=16;const mt=new bn_js_1.default(s.subarray(a,a+16),"be");a+=16;const wt=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const $t=s.readInt32BE(a);a+=4;const Ct=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const Dt=new bn_js_1.default(s.subarray(a,a+8),"be");a+=8;const Ft=new bn_js_1.default(s.subarray(a,a+8),"be");return a+=8,{feedId:nt,cumulativePrice:at,cumulativeConf:mt,numDownSlots:wt,exponent:$t,publishTime:Ct,prevPublishTime:Dt,publishSlot:Ft}}AccumulatorUpdateData.parseTwapMessage=parseTwapMessage;function sliceAccumulatorUpdateData(s,a,et){if(!isAccumulatorUpdateData(s))throw new Error("Invalid accumulator message");let nt=6;const at=s.readUint8(nt);nt+=1+at,nt+=1;const mt=s.readUint16BE(nt);nt+=2,nt+=mt;const wt=nt,$t=[],Ct=s.readUInt8(nt);nt+=1;for(let Ft=0;Ft<Ct;Ft++){const jt=nt,Nt=s.readUint16BE(nt);nt+=2,nt+=Nt;const Lt=s.readUInt8(nt);nt+=1,nt+=KECCAK160_HASH_SIZE*Lt,$t.push(s.subarray(jt,nt))}if(nt!==s.length)throw new Error("Didn't reach the end of the message");const Dt=$t.slice(a,et);return Buffer$1.concat([s.subarray(0,wt),Buffer$1.from([Dt.length]),...$t.slice(a,et)])}AccumulatorUpdateData.sliceAccumulatorUpdateData=sliceAccumulatorUpdateData;function parseAccumulatorUpdateData(s){if(!isAccumulatorUpdateData(s))throw new Error("Invalid accumulator message");let a=6;const et=s.readUint8(a);a+=1+et,a+=1;const nt=s.readUint16BE(a);a+=2;const at=s.subarray(a,a+nt);a+=nt;const mt=s.readUInt8(a),wt=[];a+=1;for(let $t=0;$t<mt;$t++){const Ct=s.readUint16BE(a);a+=2;const Dt=s.subarray(a,a+Ct);a+=Ct;const Ft=s.readUInt8(a);a+=1;const jt=[];for(let Nt=0;Nt<Ft;Nt++)jt.push(Array.from(s.subarray(a,a+KECCAK160_HASH_SIZE))),a+=KECCAK160_HASH_SIZE;wt.push({message:Dt,proof:jt})}if(a!==s.length)throw new Error("Didn't reach the end of the message");return{vaa:at,updates:wt}}AccumulatorUpdateData.parseAccumulatorUpdateData=parseAccumulatorUpdateData;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.PriceFeed=s.PriceFeedMetadata=s.Price=s.parseTwapMessage=s.parsePriceFeedMessage=s.parseAccumulatorUpdateData=s.sliceAccumulatorUpdateData=s.isAccumulatorUpdateData=void 0;const a=PriceFeed;var et=AccumulatorUpdateData;Object.defineProperty(s,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return et.isAccumulatorUpdateData}}),Object.defineProperty(s,"sliceAccumulatorUpdateData",{enumerable:!0,get:function(){return et.sliceAccumulatorUpdateData}}),Object.defineProperty(s,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return et.parseAccumulatorUpdateData}}),Object.defineProperty(s,"parsePriceFeedMessage",{enumerable:!0,get:function(){return et.parsePriceFeedMessage}}),Object.defineProperty(s,"parseTwapMessage",{enumerable:!0,get:function(){return et.parseTwapMessage}});class nt{constructor($t){sn(this,"conf");sn(this,"expo");sn(this,"price");sn(this,"publishTime");this.conf=$t.conf,this.expo=$t.expo,this.price=$t.price,this.publishTime=$t.publishTime}getPriceAsNumberUnchecked(){return Number(this.price)*10**this.expo}getConfAsNumberUnchecked(){return Number(this.conf)*10**this.expo}static fromJson($t){const Ct=a.Convert.toPrice($t);return new nt({conf:Ct.conf,expo:Ct.expo,price:Ct.price,publishTime:Ct.publish_time})}toJson(){const $t={conf:this.conf,expo:this.expo,price:this.price,publish_time:this.publishTime};return a.Convert.priceToJson($t)}}s.Price=nt;class at{constructor($t){sn(this,"attestationTime");sn(this,"emitterChain");sn(this,"priceServiceReceiveTime");sn(this,"sequenceNumber");sn(this,"slot");sn(this,"prevPublishTime");this.attestationTime=$t.attestationTime,this.emitterChain=$t.emitterChain,this.priceServiceReceiveTime=$t.receiveTime,this.sequenceNumber=$t.sequenceNumber,this.slot=$t.slot,this.prevPublishTime=$t.prevPublishTime}static fromJson($t){if($t===void 0)return;const Ct=a.Convert.toPriceFeedMetadata($t);return new at({attestationTime:Ct.attestation_time,emitterChain:Ct.emitter_chain,receiveTime:Ct.price_service_receive_time,sequenceNumber:Ct.sequence_number,slot:Ct.slot,prevPublishTime:Ct.prev_publish_time})}toJson(){const $t={attestation_time:this.attestationTime,emitter_chain:this.emitterChain,price_service_receive_time:this.priceServiceReceiveTime,sequence_number:this.sequenceNumber,slot:this.slot,prev_publish_time:this.prevPublishTime};return a.Convert.priceFeedMetadataToJson($t)}}s.PriceFeedMetadata=at;let mt=class kp{constructor($t){sn(this,"emaPrice");sn(this,"id");sn(this,"metadata");sn(this,"vaa");sn(this,"price");this.emaPrice=$t.emaPrice,this.id=$t.id,this.metadata=$t.metadata,this.vaa=$t.vaa,this.price=$t.price}static fromJson($t){const Ct=a.Convert.toPriceFeed($t);return new kp({emaPrice:nt.fromJson(Ct.ema_price),id:Ct.id,metadata:at.fromJson(Ct.metadata),vaa:Ct.vaa,price:nt.fromJson(Ct.price)})}toJson(){var Ct;const $t={ema_price:this.emaPrice.toJson(),id:this.id,metadata:(Ct=this.metadata)==null?void 0:Ct.toJson(),price:this.price.toJson()};return a.Convert.priceFeedToJson($t)}getPriceUnchecked(){return this.price}getEmaPriceUnchecked(){return this.emaPrice}getPriceNoOlderThan($t){const Ct=this.getPriceUnchecked(),Dt=Math.floor(Date.now()/1e3);if(!(Math.abs(Dt-Ct.publishTime)>$t))return Ct}getEmaPriceNoOlderThan($t){const Ct=this.getEmaPriceUnchecked(),Dt=Math.floor(Date.now()/1e3);if(!(Math.abs(Dt-Ct.publishTime)>$t))return Ct}getMetadata(){return this.metadata}getVAA(){return this.vaa}};s.PriceFeed=mt})(lib$1);function bind(s,a){return function(){return s.apply(a,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(s=>a=>{const et=toString$1.call(a);return s[et]||(s[et]=et.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=s=>(s=s.toLowerCase(),a=>kindOf(a)===s),typeOfTest=s=>a=>typeof a===s,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(s){return s!==null&&!isUndefined(s)&&s.constructor!==null&&!isUndefined(s.constructor)&&isFunction$1(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(s){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(s):a=s&&s.buffer&&isArrayBuffer(s.buffer),a}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=s=>s!==null&&typeof s=="object",isBoolean=s=>s===!0||s===!1,isPlainObject=s=>{if(kindOf(s)!=="object")return!1;const a=getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=s=>isObject$2(s)&&isFunction$1(s.pipe),isFormData=s=>{let a;return s&&(typeof FormData=="function"&&s instanceof FormData||isFunction$1(s.append)&&((a=kindOf(s))==="formdata"||a==="object"&&isFunction$1(s.toString)&&s.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest$1,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(s,a,{allOwnKeys:et=!1}={}){if(s===null||typeof s>"u")return;let nt,at;if(typeof s!="object"&&(s=[s]),isArray$1(s))for(nt=0,at=s.length;nt<at;nt++)a.call(null,s[nt],nt,s);else{const mt=et?Object.getOwnPropertyNames(s):Object.keys(s),wt=mt.length;let $t;for(nt=0;nt<wt;nt++)$t=mt[nt],a.call(null,s[$t],$t,s)}}function findKey(s,a){a=a.toLowerCase();const et=Object.keys(s);let nt=et.length,at;for(;nt-- >0;)if(at=et[nt],a===at.toLowerCase())return at;return null}const _global$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal$1,isContextDefined=s=>!isUndefined(s)&&s!==_global$1;function merge$1(){const{caseless:s}=isContextDefined(this)&&this||{},a={},et=(nt,at)=>{const mt=s&&findKey(a,at)||at;isPlainObject(a[mt])&&isPlainObject(nt)?a[mt]=merge$1(a[mt],nt):isPlainObject(nt)?a[mt]=merge$1({},nt):isArray$1(nt)?a[mt]=nt.slice():a[mt]=nt};for(let nt=0,at=arguments.length;nt<at;nt++)arguments[nt]&&forEach$1(arguments[nt],et);return a}const extend=(s,a,et,{allOwnKeys:nt}={})=>(forEach$1(a,(at,mt)=>{et&&isFunction$1(at)?s[mt]=bind(at,et):s[mt]=at},{allOwnKeys:nt}),s),stripBOM=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),inherits=(s,a,et,nt)=>{s.prototype=Object.create(a.prototype,nt),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:a.prototype}),et&&Object.assign(s.prototype,et)},toFlatObject=(s,a,et,nt)=>{let at,mt,wt;const $t={};if(a=a||{},s==null)return a;do{for(at=Object.getOwnPropertyNames(s),mt=at.length;mt-- >0;)wt=at[mt],(!nt||nt(wt,s,a))&&!$t[wt]&&(a[wt]=s[wt],$t[wt]=!0);s=et!==!1&&getPrototypeOf(s)}while(s&&(!et||et(s,a))&&s!==Object.prototype);return a},endsWith=(s,a,et)=>{s=String(s),(et===void 0||et>s.length)&&(et=s.length),et-=a.length;const nt=s.indexOf(a,et);return nt!==-1&&nt===et},toArray=s=>{if(!s)return null;if(isArray$1(s))return s;let a=s.length;if(!isNumber(a))return null;const et=new Array(a);for(;a-- >0;)et[a]=s[a];return et},isTypedArray$2=(s=>a=>s&&a instanceof s)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(s,a)=>{const nt=(s&&s[Symbol.iterator]).call(s);let at;for(;(at=nt.next())&&!at.done;){const mt=at.value;a.call(s,mt[0],mt[1])}},matchAll=(s,a)=>{let et;const nt=[];for(;(et=s.exec(a))!==null;)nt.push(et);return nt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(et,nt,at){return nt.toUpperCase()+at}),hasOwnProperty$a=(({hasOwnProperty:s})=>(a,et)=>s.call(a,et))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(s,a)=>{const et=Object.getOwnPropertyDescriptors(s),nt={};forEach$1(et,(at,mt)=>{let wt;(wt=a(at,mt,s))!==!1&&(nt[mt]=wt||at)}),Object.defineProperties(s,nt)},freezeMethods=s=>{reduceDescriptors(s,(a,et)=>{if(isFunction$1(s)&&["arguments","caller","callee"].indexOf(et)!==-1)return!1;const nt=s[et];if(isFunction$1(nt)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+et+"'")})}})},toObjectSet=(s,a)=>{const et={},nt=at=>{at.forEach(mt=>{et[mt]=!0})};return isArray$1(s)?nt(s):nt(String(s).split(a)),et},noop$1=()=>{},toFiniteNumber=(s,a)=>s!=null&&Number.isFinite(s=+s)?s:a;function isSpecCompliantForm(s){return!!(s&&isFunction$1(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const toJSONObject=s=>{const a=new Array(10),et=(nt,at)=>{if(isObject$2(nt)){if(a.indexOf(nt)>=0)return;if(!("toJSON"in nt)){a[at]=nt;const mt=isArray$1(nt)?[]:{};return forEach$1(nt,(wt,$t)=>{const Ct=et(wt,at+1);!isUndefined(Ct)&&(mt[$t]=Ct)}),a[at]=void 0,mt}}return nt};return et(s,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=s=>s&&(isObject$2(s)||isFunction$1(s))&&isFunction$1(s.then)&&isFunction$1(s.catch),_setImmediate=((s,a)=>s?setImmediate:a?((et,nt)=>(_global$1.addEventListener("message",({source:at,data:mt})=>{at===_global$1&&mt===et&&nt.length&&nt.shift()()},!1),at=>{nt.push(at),_global$1.postMessage(et,"*")}))(`axios@${Math.random()}`,[]):et=>setTimeout(et))(typeof setImmediate=="function",isFunction$1(_global$1.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global$1):typeof process$1<"u"&&process$1.nextTick||_setImmediate;var utils$1$1={isArray:isArray$1,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$2,isPlainObject,isReadableStream,isRequest:isRequest$1,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$2,isFileList,forEach:forEach$1,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$a,hasOwnProp:hasOwnProperty$a,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global$1,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(s,a,et,nt,at){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",a&&(this.code=a),et&&(this.config=et),nt&&(this.request=nt),at&&(this.response=at,this.status=at.status?at.status:null)}utils$1$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{descriptors[s]={value:s}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(s,a,et,nt,at,mt)=>{const wt=Object.create(prototype$1);return utils$1$1.toFlatObject(s,wt,function(Ct){return Ct!==Error.prototype},$t=>$t!=="isAxiosError"),AxiosError.call(wt,s.message,a,et,nt,at),wt.cause=s,wt.name=s.name,mt&&Object.assign(wt,mt),wt};var httpAdapter=null;function isVisitable(s){return utils$1$1.isPlainObject(s)||utils$1$1.isArray(s)}function removeBrackets(s){return utils$1$1.endsWith(s,"[]")?s.slice(0,-2):s}function renderKey(s,a,et){return s?s.concat(a).map(function(at,mt){return at=removeBrackets(at),!et&&mt?"["+at+"]":at}).join(et?".":""):a}function isFlatArray(s){return utils$1$1.isArray(s)&&!s.some(isVisitable)}const predicates=utils$1$1.toFlatObject(utils$1$1,{},null,function(a){return/^is[A-Z]/.test(a)});function toFormData(s,a,et){if(!utils$1$1.isObject(s))throw new TypeError("target must be an object");a=a||new FormData,et=utils$1$1.toFlatObject(et,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Vt,Yt){return!utils$1$1.isUndefined(Yt[Vt])});const nt=et.metaTokens,at=et.visitor||Ft,mt=et.dots,wt=et.indexes,Ct=(et.Blob||typeof Blob<"u"&&Blob)&&utils$1$1.isSpecCompliantForm(a);if(!utils$1$1.isFunction(at))throw new TypeError("visitor must be a function");function Dt(Ut){if(Ut===null)return"";if(utils$1$1.isDate(Ut))return Ut.toISOString();if(!Ct&&utils$1$1.isBlob(Ut))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1$1.isArrayBuffer(Ut)||utils$1$1.isTypedArray(Ut)?Ct&&typeof Blob=="function"?new Blob([Ut]):Buffer$1.from(Ut):Ut}function Ft(Ut,Vt,Yt){let er=Ut;if(Ut&&!Yt&&typeof Ut=="object"){if(utils$1$1.endsWith(Vt,"{}"))Vt=nt?Vt:Vt.slice(0,-2),Ut=JSON.stringify(Ut);else if(utils$1$1.isArray(Ut)&&isFlatArray(Ut)||(utils$1$1.isFileList(Ut)||utils$1$1.endsWith(Vt,"[]"))&&(er=utils$1$1.toArray(Ut)))return Vt=removeBrackets(Vt),er.forEach(function(nr,sr){!(utils$1$1.isUndefined(nr)||nr===null)&&a.append(wt===!0?renderKey([Vt],sr,mt):wt===null?Vt:Vt+"[]",Dt(nr))}),!1}return isVisitable(Ut)?!0:(a.append(renderKey(Yt,Vt,mt),Dt(Ut)),!1)}const jt=[],Nt=Object.assign(predicates,{defaultVisitor:Ft,convertValue:Dt,isVisitable});function Lt(Ut,Vt){if(!utils$1$1.isUndefined(Ut)){if(jt.indexOf(Ut)!==-1)throw Error("Circular reference detected in "+Vt.join("."));jt.push(Ut),utils$1$1.forEach(Ut,function(er,tr){(!(utils$1$1.isUndefined(er)||er===null)&&at.call(a,er,utils$1$1.isString(tr)?tr.trim():tr,Vt,Nt))===!0&&Lt(er,Vt?Vt.concat(tr):[tr])}),jt.pop()}}if(!utils$1$1.isObject(s))throw new TypeError("data must be an object");return Lt(s),a}function encode$1(s){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(nt){return a[nt]})}function AxiosURLSearchParams(s,a){this._pairs=[],s&&toFormData(s,this,a)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(a,et){this._pairs.push([a,et])};prototype.toString=function(a){const et=a?function(nt){return a.call(this,nt,encode$1)}:encode$1;return this._pairs.map(function(at){return et(at[0])+"="+et(at[1])},"").join("&")};function encode(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(s,a,et){if(!a)return s;const nt=et&&et.encode||encode;utils$1$1.isFunction(et)&&(et={serialize:et});const at=et&&et.serialize;let mt;if(at?mt=at(a,et):mt=utils$1$1.isURLSearchParams(a)?a.toString():new AxiosURLSearchParams(a,et).toString(nt),mt){const wt=s.indexOf("#");wt!==-1&&(s=s.slice(0,wt)),s+=(s.indexOf("?")===-1?"?":"&")+mt}return s}class InterceptorManager{constructor(){this.handlers=[]}use(a,et,nt){return this.handlers.push({fulfilled:a,rejected:et,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){utils$1$1.forEach(this.handlers,function(nt){nt!==null&&a(nt)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost";var utils$6=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv,navigator:_navigator,origin}),platform={...utils$6,...platform$1};function toURLEncodedForm(s,a){return toFormData(s,new platform.classes.URLSearchParams,Object.assign({visitor:function(et,nt,at,mt){return platform.isNode&&utils$1$1.isBuffer(et)?(this.append(nt,et.toString("base64")),!1):mt.defaultVisitor.apply(this,arguments)}},a))}function parsePropPath(s){return utils$1$1.matchAll(/\w+|\[(\w*)]/g,s).map(a=>a[0]==="[]"?"":a[1]||a[0])}function arrayToObject(s){const a={},et=Object.keys(s);let nt;const at=et.length;let mt;for(nt=0;nt<at;nt++)mt=et[nt],a[mt]=s[mt];return a}function formDataToJSON(s){function a(et,nt,at,mt){let wt=et[mt++];if(wt==="__proto__")return!0;const $t=Number.isFinite(+wt),Ct=mt>=et.length;return wt=!wt&&utils$1$1.isArray(at)?at.length:wt,Ct?(utils$1$1.hasOwnProp(at,wt)?at[wt]=[at[wt],nt]:at[wt]=nt,!$t):((!at[wt]||!utils$1$1.isObject(at[wt]))&&(at[wt]=[]),a(et,nt,at[wt],mt)&&utils$1$1.isArray(at[wt])&&(at[wt]=arrayToObject(at[wt])),!$t)}if(utils$1$1.isFormData(s)&&utils$1$1.isFunction(s.entries)){const et={};return utils$1$1.forEachEntry(s,(nt,at)=>{a(parsePropPath(nt),at,et,0)}),et}return null}function stringifySafely(s,a,et){if(utils$1$1.isString(s))try{return(a||JSON.parse)(s),utils$1$1.trim(s)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(et||JSON.stringify)(s)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(a,et){const nt=et.getContentType()||"",at=nt.indexOf("application/json")>-1,mt=utils$1$1.isObject(a);if(mt&&utils$1$1.isHTMLForm(a)&&(a=new FormData(a)),utils$1$1.isFormData(a))return at?JSON.stringify(formDataToJSON(a)):a;if(utils$1$1.isArrayBuffer(a)||utils$1$1.isBuffer(a)||utils$1$1.isStream(a)||utils$1$1.isFile(a)||utils$1$1.isBlob(a)||utils$1$1.isReadableStream(a))return a;if(utils$1$1.isArrayBufferView(a))return a.buffer;if(utils$1$1.isURLSearchParams(a))return et.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let $t;if(mt){if(nt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(a,this.formSerializer).toString();if(($t=utils$1$1.isFileList(a))||nt.indexOf("multipart/form-data")>-1){const Ct=this.env&&this.env.FormData;return toFormData($t?{"files[]":a}:a,Ct&&new Ct,this.formSerializer)}}return mt||at?(et.setContentType("application/json",!1),stringifySafely(a)):a}],transformResponse:[function(a){const et=this.transitional||defaults.transitional,nt=et&&et.forcedJSONParsing,at=this.responseType==="json";if(utils$1$1.isResponse(a)||utils$1$1.isReadableStream(a))return a;if(a&&utils$1$1.isString(a)&&(nt&&!this.responseType||at)){const wt=!(et&&et.silentJSONParsing)&&at;try{return JSON.parse(a)}catch($t){if(wt)throw $t.name==="SyntaxError"?AxiosError.from($t,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):$t}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1$1.forEach(["delete","get","head","post","put","patch"],s=>{defaults.headers[s]={}});var defaults$1=defaults;const ignoreDuplicateOf=utils$1$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=s=>{const a={};let et,nt,at;return s&&s.split(`
`).forEach(function(wt){at=wt.indexOf(":"),et=wt.substring(0,at).trim().toLowerCase(),nt=wt.substring(at+1).trim(),!(!et||a[et]&&ignoreDuplicateOf[et])&&(et==="set-cookie"?a[et]?a[et].push(nt):a[et]=[nt]:a[et]=a[et]?a[et]+", "+nt:nt)}),a};const $internals=Symbol("internals");function normalizeHeader(s){return s&&String(s).trim().toLowerCase()}function normalizeValue(s){return s===!1||s==null?s:utils$1$1.isArray(s)?s.map(normalizeValue):String(s)}function parseTokens(s){const a=Object.create(null),et=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nt;for(;nt=et.exec(s);)a[nt[1]]=nt[2];return a}const isValidHeaderName=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function matchHeaderValue(s,a,et,nt,at){if(utils$1$1.isFunction(nt))return nt.call(this,a,et);if(at&&(a=et),!!utils$1$1.isString(a)){if(utils$1$1.isString(nt))return a.indexOf(nt)!==-1;if(utils$1$1.isRegExp(nt))return nt.test(a)}}function formatHeader(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,et,nt)=>et.toUpperCase()+nt)}function buildAccessors(s,a){const et=utils$1$1.toCamelCase(" "+a);["get","set","has"].forEach(nt=>{Object.defineProperty(s,nt+et,{value:function(at,mt,wt){return this[nt].call(this,a,at,mt,wt)},configurable:!0})})}class AxiosHeaders{constructor(a){a&&this.set(a)}set(a,et,nt){const at=this;function mt($t,Ct,Dt){const Ft=normalizeHeader(Ct);if(!Ft)throw new Error("header name must be a non-empty string");const jt=utils$1$1.findKey(at,Ft);(!jt||at[jt]===void 0||Dt===!0||Dt===void 0&&at[jt]!==!1)&&(at[jt||Ct]=normalizeValue($t))}const wt=($t,Ct)=>utils$1$1.forEach($t,(Dt,Ft)=>mt(Dt,Ft,Ct));if(utils$1$1.isPlainObject(a)||a instanceof this.constructor)wt(a,et);else if(utils$1$1.isString(a)&&(a=a.trim())&&!isValidHeaderName(a))wt(parseHeaders(a),et);else if(utils$1$1.isHeaders(a))for(const[$t,Ct]of a.entries())mt(Ct,$t,nt);else a!=null&&mt(et,a,nt);return this}get(a,et){if(a=normalizeHeader(a),a){const nt=utils$1$1.findKey(this,a);if(nt){const at=this[nt];if(!et)return at;if(et===!0)return parseTokens(at);if(utils$1$1.isFunction(et))return et.call(this,at,nt);if(utils$1$1.isRegExp(et))return et.exec(at);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,et){if(a=normalizeHeader(a),a){const nt=utils$1$1.findKey(this,a);return!!(nt&&this[nt]!==void 0&&(!et||matchHeaderValue(this,this[nt],nt,et)))}return!1}delete(a,et){const nt=this;let at=!1;function mt(wt){if(wt=normalizeHeader(wt),wt){const $t=utils$1$1.findKey(nt,wt);$t&&(!et||matchHeaderValue(nt,nt[$t],$t,et))&&(delete nt[$t],at=!0)}}return utils$1$1.isArray(a)?a.forEach(mt):mt(a),at}clear(a){const et=Object.keys(this);let nt=et.length,at=!1;for(;nt--;){const mt=et[nt];(!a||matchHeaderValue(this,this[mt],mt,a,!0))&&(delete this[mt],at=!0)}return at}normalize(a){const et=this,nt={};return utils$1$1.forEach(this,(at,mt)=>{const wt=utils$1$1.findKey(nt,mt);if(wt){et[wt]=normalizeValue(at),delete et[mt];return}const $t=a?formatHeader(mt):String(mt).trim();$t!==mt&&delete et[mt],et[$t]=normalizeValue(at),nt[$t]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const et=Object.create(null);return utils$1$1.forEach(this,(nt,at)=>{nt!=null&&nt!==!1&&(et[at]=a&&utils$1$1.isArray(nt)?nt.join(", "):nt)}),et}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,et])=>a+": "+et).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...et){const nt=new this(a);return et.forEach(at=>nt.set(at)),nt}static accessor(a){const nt=(this[$internals]=this[$internals]={accessors:{}}).accessors,at=this.prototype;function mt(wt){const $t=normalizeHeader(wt);nt[$t]||(buildAccessors(at,wt),nt[$t]=!0)}return utils$1$1.isArray(a)?a.forEach(mt):mt(a),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1$1.reduceDescriptors(AxiosHeaders.prototype,({value:s},a)=>{let et=a[0].toUpperCase()+a.slice(1);return{get:()=>s,set(nt){this[et]=nt}}});utils$1$1.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(s,a){const et=this||defaults$1,nt=a||et,at=AxiosHeaders$1.from(nt.headers);let mt=nt.data;return utils$1$1.forEach(s,function($t){mt=$t.call(et,mt,at.normalize(),a?a.status:void 0)}),at.normalize(),mt}function isCancel(s){return!!(s&&s.__CANCEL__)}function CanceledError(s,a,et){AxiosError.call(this,s??"canceled",AxiosError.ERR_CANCELED,a,et),this.name="CanceledError"}utils$1$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(s,a,et){const nt=et.config.validateStatus;!et.status||!nt||nt(et.status)?s(et):a(new AxiosError("Request failed with status code "+et.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(et.status/100)-4],et.config,et.request,et))}function parseProtocol(s){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}function speedometer(s,a){s=s||10;const et=new Array(s),nt=new Array(s);let at=0,mt=0,wt;return a=a!==void 0?a:1e3,function(Ct){const Dt=Date.now(),Ft=nt[mt];wt||(wt=Dt),et[at]=Ct,nt[at]=Dt;let jt=mt,Nt=0;for(;jt!==at;)Nt+=et[jt++],jt=jt%s;if(at=(at+1)%s,at===mt&&(mt=(mt+1)%s),Dt-wt<a)return;const Lt=Ft&&Dt-Ft;return Lt?Math.round(Nt*1e3/Lt):void 0}}function throttle(s,a){let et=0,nt=1e3/a,at,mt;const wt=(Dt,Ft=Date.now())=>{et=Ft,at=null,mt&&(clearTimeout(mt),mt=null),s.apply(null,Dt)};return[(...Dt)=>{const Ft=Date.now(),jt=Ft-et;jt>=nt?wt(Dt,Ft):(at=Dt,mt||(mt=setTimeout(()=>{mt=null,wt(at)},nt-jt)))},()=>at&&wt(at)]}const progressEventReducer=(s,a,et=3)=>{let nt=0;const at=speedometer(50,250);return throttle(mt=>{const wt=mt.loaded,$t=mt.lengthComputable?mt.total:void 0,Ct=wt-nt,Dt=at(Ct),Ft=wt<=$t;nt=wt;const jt={loaded:wt,total:$t,progress:$t?wt/$t:void 0,bytes:Ct,rate:Dt||void 0,estimated:Dt&&$t&&Ft?($t-wt)/Dt:void 0,event:mt,lengthComputable:$t!=null,[a?"download":"upload"]:!0};s(jt)},et)},progressEventDecorator=(s,a)=>{const et=s!=null;return[nt=>a[0]({lengthComputable:et,total:s,loaded:nt}),a[1]]},asyncDecorator=s=>(...a)=>utils$1$1.asap(()=>s(...a));var isURLSameOrigin=platform.hasStandardBrowserEnv?((s,a)=>et=>(et=new URL(et,platform.origin),s.protocol===et.protocol&&s.host===et.host&&(a||s.port===et.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(s,a,et,nt,at,mt){const wt=[s+"="+encodeURIComponent(a)];utils$1$1.isNumber(et)&&wt.push("expires="+new Date(et).toGMTString()),utils$1$1.isString(nt)&&wt.push("path="+nt),utils$1$1.isString(at)&&wt.push("domain="+at),mt===!0&&wt.push("secure"),document.cookie=wt.join("; ")},read(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function combineURLs(s,a){return a?s.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):s}function buildFullPath(s,a,et){let nt=!isAbsoluteURL(a);return s&&(nt||et==!1)?combineURLs(s,a):a}const headersToObject=s=>s instanceof AxiosHeaders$1?{...s}:s;function mergeConfig(s,a){a=a||{};const et={};function nt(Dt,Ft,jt,Nt){return utils$1$1.isPlainObject(Dt)&&utils$1$1.isPlainObject(Ft)?utils$1$1.merge.call({caseless:Nt},Dt,Ft):utils$1$1.isPlainObject(Ft)?utils$1$1.merge({},Ft):utils$1$1.isArray(Ft)?Ft.slice():Ft}function at(Dt,Ft,jt,Nt){if(utils$1$1.isUndefined(Ft)){if(!utils$1$1.isUndefined(Dt))return nt(void 0,Dt,jt,Nt)}else return nt(Dt,Ft,jt,Nt)}function mt(Dt,Ft){if(!utils$1$1.isUndefined(Ft))return nt(void 0,Ft)}function wt(Dt,Ft){if(utils$1$1.isUndefined(Ft)){if(!utils$1$1.isUndefined(Dt))return nt(void 0,Dt)}else return nt(void 0,Ft)}function $t(Dt,Ft,jt){if(jt in a)return nt(Dt,Ft);if(jt in s)return nt(void 0,Dt)}const Ct={url:mt,method:mt,data:mt,baseURL:wt,transformRequest:wt,transformResponse:wt,paramsSerializer:wt,timeout:wt,timeoutMessage:wt,withCredentials:wt,withXSRFToken:wt,adapter:wt,responseType:wt,xsrfCookieName:wt,xsrfHeaderName:wt,onUploadProgress:wt,onDownloadProgress:wt,decompress:wt,maxContentLength:wt,maxBodyLength:wt,beforeRedirect:wt,transport:wt,httpAgent:wt,httpsAgent:wt,cancelToken:wt,socketPath:wt,responseEncoding:wt,validateStatus:$t,headers:(Dt,Ft,jt)=>at(headersToObject(Dt),headersToObject(Ft),jt,!0)};return utils$1$1.forEach(Object.keys(Object.assign({},s,a)),function(Ft){const jt=Ct[Ft]||at,Nt=jt(s[Ft],a[Ft],Ft);utils$1$1.isUndefined(Nt)&&jt!==$t||(et[Ft]=Nt)}),et}var resolveConfig=s=>{const a=mergeConfig({},s);let{data:et,withXSRFToken:nt,xsrfHeaderName:at,xsrfCookieName:mt,headers:wt,auth:$t}=a;a.headers=wt=AxiosHeaders$1.from(wt),a.url=buildURL(buildFullPath(a.baseURL,a.url,a.allowAbsoluteUrls),s.params,s.paramsSerializer),$t&&wt.set("Authorization","Basic "+btoa(($t.username||"")+":"+($t.password?unescape(encodeURIComponent($t.password)):"")));let Ct;if(utils$1$1.isFormData(et)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)wt.setContentType(void 0);else if((Ct=wt.getContentType())!==!1){const[Dt,...Ft]=Ct?Ct.split(";").map(jt=>jt.trim()).filter(Boolean):[];wt.setContentType([Dt||"multipart/form-data",...Ft].join("; "))}}if(platform.hasStandardBrowserEnv&&(nt&&utils$1$1.isFunction(nt)&&(nt=nt(a)),nt||nt!==!1&&isURLSameOrigin(a.url))){const Dt=at&&mt&&cookies.read(mt);Dt&&wt.set(at,Dt)}return a};const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(s){return new Promise(function(et,nt){const at=resolveConfig(s);let mt=at.data;const wt=AxiosHeaders$1.from(at.headers).normalize();let{responseType:$t,onUploadProgress:Ct,onDownloadProgress:Dt}=at,Ft,jt,Nt,Lt,Ut;function Vt(){Lt&&Lt(),Ut&&Ut(),at.cancelToken&&at.cancelToken.unsubscribe(Ft),at.signal&&at.signal.removeEventListener("abort",Ft)}let Yt=new XMLHttpRequest;Yt.open(at.method.toUpperCase(),at.url,!0),Yt.timeout=at.timeout;function er(){if(!Yt)return;const nr=AxiosHeaders$1.from("getAllResponseHeaders"in Yt&&Yt.getAllResponseHeaders()),dr={data:!$t||$t==="text"||$t==="json"?Yt.responseText:Yt.response,status:Yt.status,statusText:Yt.statusText,headers:nr,config:s,request:Yt};settle(function(vr){et(vr),Vt()},function(vr){nt(vr),Vt()},dr),Yt=null}"onloadend"in Yt?Yt.onloadend=er:Yt.onreadystatechange=function(){!Yt||Yt.readyState!==4||Yt.status===0&&!(Yt.responseURL&&Yt.responseURL.indexOf("file:")===0)||setTimeout(er)},Yt.onabort=function(){Yt&&(nt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,s,Yt)),Yt=null)},Yt.onerror=function(){nt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,Yt)),Yt=null},Yt.ontimeout=function(){let sr=at.timeout?"timeout of "+at.timeout+"ms exceeded":"timeout exceeded";const dr=at.transitional||transitionalDefaults;at.timeoutErrorMessage&&(sr=at.timeoutErrorMessage),nt(new AxiosError(sr,dr.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,s,Yt)),Yt=null},mt===void 0&&wt.setContentType(null),"setRequestHeader"in Yt&&utils$1$1.forEach(wt.toJSON(),function(sr,dr){Yt.setRequestHeader(dr,sr)}),utils$1$1.isUndefined(at.withCredentials)||(Yt.withCredentials=!!at.withCredentials),$t&&$t!=="json"&&(Yt.responseType=at.responseType),Dt&&([Nt,Ut]=progressEventReducer(Dt,!0),Yt.addEventListener("progress",Nt)),Ct&&Yt.upload&&([jt,Lt]=progressEventReducer(Ct),Yt.upload.addEventListener("progress",jt),Yt.upload.addEventListener("loadend",Lt)),(at.cancelToken||at.signal)&&(Ft=nr=>{Yt&&(nt(!nr||nr.type?new CanceledError(null,s,Yt):nr),Yt.abort(),Yt=null)},at.cancelToken&&at.cancelToken.subscribe(Ft),at.signal&&(at.signal.aborted?Ft():at.signal.addEventListener("abort",Ft)));const tr=parseProtocol(at.url);if(tr&&platform.protocols.indexOf(tr)===-1){nt(new AxiosError("Unsupported protocol "+tr+":",AxiosError.ERR_BAD_REQUEST,s));return}Yt.send(mt||null)})};const composeSignals=(s,a)=>{const{length:et}=s=s?s.filter(Boolean):[];if(a||et){let nt=new AbortController,at;const mt=function(Dt){if(!at){at=!0,$t();const Ft=Dt instanceof Error?Dt:this.reason;nt.abort(Ft instanceof AxiosError?Ft:new CanceledError(Ft instanceof Error?Ft.message:Ft))}};let wt=a&&setTimeout(()=>{wt=null,mt(new AxiosError(`timeout ${a} of ms exceeded`,AxiosError.ETIMEDOUT))},a);const $t=()=>{s&&(wt&&clearTimeout(wt),wt=null,s.forEach(Dt=>{Dt.unsubscribe?Dt.unsubscribe(mt):Dt.removeEventListener("abort",mt)}),s=null)};s.forEach(Dt=>Dt.addEventListener("abort",mt));const{signal:Ct}=nt;return Ct.unsubscribe=()=>utils$1$1.asap($t),Ct}};var composeSignals$1=composeSignals;const streamChunk=function*(s,a){let et=s.byteLength;if(et<a){yield s;return}let nt=0,at;for(;nt<et;)at=nt+a,yield s.slice(nt,at),nt=at},readBytes=async function*(s,a){for await(const et of readStream(s))yield*streamChunk(et,a)},readStream=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const a=s.getReader();try{for(;;){const{done:et,value:nt}=await a.read();if(et)break;yield nt}}finally{await a.cancel()}},trackStream=(s,a,et,nt)=>{const at=readBytes(s,a);let mt=0,wt,$t=Ct=>{wt||(wt=!0,nt&&nt(Ct))};return new ReadableStream({async pull(Ct){try{const{done:Dt,value:Ft}=await at.next();if(Dt){$t(),Ct.close();return}let jt=Ft.byteLength;if(et){let Nt=mt+=jt;et(Nt)}Ct.enqueue(new Uint8Array(Ft))}catch(Dt){throw $t(Dt),Dt}},cancel(Ct){return $t(Ct),at.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(s=>a=>s.encode(a))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),test=(s,...a)=>{try{return!!s(...a)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let s=!1;const a=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!a}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(s=>s.body)};isFetchSupported&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(a=>{!resolvers[a]&&(resolvers[a]=utils$1$1.isFunction(s[a])?et=>et[a]():(et,nt)=>{throw new AxiosError(`Response type '${a}' is not supported`,AxiosError.ERR_NOT_SUPPORT,nt)})})})(new Response);const getBodyLength=async s=>{if(s==null)return 0;if(utils$1$1.isBlob(s))return s.size;if(utils$1$1.isSpecCompliantForm(s))return(await new Request(platform.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(utils$1$1.isArrayBufferView(s)||utils$1$1.isArrayBuffer(s))return s.byteLength;if(utils$1$1.isURLSearchParams(s)&&(s=s+""),utils$1$1.isString(s))return(await encodeText(s)).byteLength},resolveBodyLength=async(s,a)=>{const et=utils$1$1.toFiniteNumber(s.getContentLength());return et??getBodyLength(a)};var fetchAdapter=isFetchSupported&&(async s=>{let{url:a,method:et,data:nt,signal:at,cancelToken:mt,timeout:wt,onDownloadProgress:$t,onUploadProgress:Ct,responseType:Dt,headers:Ft,withCredentials:jt="same-origin",fetchOptions:Nt}=resolveConfig(s);Dt=Dt?(Dt+"").toLowerCase():"text";let Lt=composeSignals$1([at,mt&&mt.toAbortSignal()],wt),Ut;const Vt=Lt&&Lt.unsubscribe&&(()=>{Lt.unsubscribe()});let Yt;try{if(Ct&&supportsRequestStream&&et!=="get"&&et!=="head"&&(Yt=await resolveBodyLength(Ft,nt))!==0){let dr=new Request(a,{method:"POST",body:nt,duplex:"half"}),br;if(utils$1$1.isFormData(nt)&&(br=dr.headers.get("content-type"))&&Ft.setContentType(br),dr.body){const[vr,yr]=progressEventDecorator(Yt,progressEventReducer(asyncDecorator(Ct)));nt=trackStream(dr.body,DEFAULT_CHUNK_SIZE,vr,yr)}}utils$1$1.isString(jt)||(jt=jt?"include":"omit");const er="credentials"in Request.prototype;Ut=new Request(a,{...Nt,signal:Lt,method:et.toUpperCase(),headers:Ft.normalize().toJSON(),body:nt,duplex:"half",credentials:er?jt:void 0});let tr=await fetch(Ut);const nr=supportsResponseStream&&(Dt==="stream"||Dt==="response");if(supportsResponseStream&&($t||nr&&Vt)){const dr={};["status","statusText","headers"].forEach($r=>{dr[$r]=tr[$r]});const br=utils$1$1.toFiniteNumber(tr.headers.get("content-length")),[vr,yr]=$t&&progressEventDecorator(br,progressEventReducer(asyncDecorator($t),!0))||[];tr=new Response(trackStream(tr.body,DEFAULT_CHUNK_SIZE,vr,()=>{yr&&yr(),Vt&&Vt()}),dr)}Dt=Dt||"text";let sr=await resolvers[utils$1$1.findKey(resolvers,Dt)||"text"](tr,s);return!nr&&Vt&&Vt(),await new Promise((dr,br)=>{settle(dr,br,{data:sr,headers:AxiosHeaders$1.from(tr.headers),status:tr.status,statusText:tr.statusText,config:s,request:Ut})})}catch(er){throw Vt&&Vt(),er&&er.name==="TypeError"&&/fetch/i.test(er.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,s,Ut),{cause:er.cause||er}):AxiosError.from(er,er&&er.code,s,Ut)}});const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1$1.forEach(knownAdapters,(s,a)=>{if(s){try{Object.defineProperty(s,"name",{value:a})}catch{}Object.defineProperty(s,"adapterName",{value:a})}});const renderReason=s=>`- ${s}`,isResolvedHandle=s=>utils$1$1.isFunction(s)||s===null||s===!1;var adapters={getAdapter:s=>{s=utils$1$1.isArray(s)?s:[s];const{length:a}=s;let et,nt;const at={};for(let mt=0;mt<a;mt++){et=s[mt];let wt;if(nt=et,!isResolvedHandle(et)&&(nt=knownAdapters[(wt=String(et)).toLowerCase()],nt===void 0))throw new AxiosError(`Unknown adapter '${wt}'`);if(nt)break;at[wt||"#"+mt]=nt}if(!nt){const mt=Object.entries(at).map(([$t,Ct])=>`adapter ${$t} `+(Ct===!1?"is not supported by the environment":"is not available in the build"));let wt=a?mt.length>1?`since :
`+mt.map(renderReason).join(`
`):" "+renderReason(mt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+wt,"ERR_NOT_SUPPORT")}return nt},adapters:knownAdapters};function throwIfCancellationRequested(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new CanceledError(null,s)}function dispatchRequest(s){return throwIfCancellationRequested(s),s.headers=AxiosHeaders$1.from(s.headers),s.data=transformData.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(s.adapter||defaults$1.adapter)(s).then(function(nt){return throwIfCancellationRequested(s),nt.data=transformData.call(s,s.transformResponse,nt),nt.headers=AxiosHeaders$1.from(nt.headers),nt},function(nt){return isCancel(nt)||(throwIfCancellationRequested(s),nt&&nt.response&&(nt.response.data=transformData.call(s,s.transformResponse,nt.response),nt.response.headers=AxiosHeaders$1.from(nt.response.headers))),Promise.reject(nt)})}const VERSION="1.8.4",validators$1={};["object","boolean","number","function","string","symbol"].forEach((s,a)=>{validators$1[s]=function(nt){return typeof nt===s||"a"+(a<1?"n ":" ")+s}});const deprecatedWarnings={};validators$1.transitional=function(a,et,nt){function at(mt,wt){return"[Axios v"+VERSION+"] Transitional option '"+mt+"'"+wt+(nt?". "+nt:"")}return(mt,wt,$t)=>{if(a===!1)throw new AxiosError(at(wt," has been removed"+(et?" in "+et:"")),AxiosError.ERR_DEPRECATED);return et&&!deprecatedWarnings[wt]&&(deprecatedWarnings[wt]=!0,console.warn(at(wt," has been deprecated since v"+et+" and will be removed in the near future"))),a?a(mt,wt,$t):!0}};validators$1.spelling=function(a){return(et,nt)=>(console.warn(`${nt} is likely a misspelling of ${a}`),!0)};function assertOptions(s,a,et){if(typeof s!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const nt=Object.keys(s);let at=nt.length;for(;at-- >0;){const mt=nt[at],wt=a[mt];if(wt){const $t=s[mt],Ct=$t===void 0||wt($t,mt,s);if(Ct!==!0)throw new AxiosError("option "+mt+" must be "+Ct,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(et!==!0)throw new AxiosError("Unknown option "+mt,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(a){this.defaults=a,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(a,et){try{return await this._request(a,et)}catch(nt){if(nt instanceof Error){let at={};Error.captureStackTrace?Error.captureStackTrace(at):at=new Error;const mt=at.stack?at.stack.replace(/^.+\n/,""):"";try{nt.stack?mt&&!String(nt.stack).endsWith(mt.replace(/^.+\n.+\n/,""))&&(nt.stack+=`
`+mt):nt.stack=mt}catch{}}throw nt}}_request(a,et){typeof a=="string"?(et=et||{},et.url=a):et=a||{},et=mergeConfig(this.defaults,et);const{transitional:nt,paramsSerializer:at,headers:mt}=et;nt!==void 0&&validator.assertOptions(nt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),at!=null&&(utils$1$1.isFunction(at)?et.paramsSerializer={serialize:at}:validator.assertOptions(at,{encode:validators.function,serialize:validators.function},!0)),et.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?et.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:et.allowAbsoluteUrls=!0),validator.assertOptions(et,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),et.method=(et.method||this.defaults.method||"get").toLowerCase();let wt=mt&&utils$1$1.merge(mt.common,mt[et.method]);mt&&utils$1$1.forEach(["delete","get","head","post","put","patch","common"],Ut=>{delete mt[Ut]}),et.headers=AxiosHeaders$1.concat(wt,mt);const $t=[];let Ct=!0;this.interceptors.request.forEach(function(Vt){typeof Vt.runWhen=="function"&&Vt.runWhen(et)===!1||(Ct=Ct&&Vt.synchronous,$t.unshift(Vt.fulfilled,Vt.rejected))});const Dt=[];this.interceptors.response.forEach(function(Vt){Dt.push(Vt.fulfilled,Vt.rejected)});let Ft,jt=0,Nt;if(!Ct){const Ut=[dispatchRequest.bind(this),void 0];for(Ut.unshift.apply(Ut,$t),Ut.push.apply(Ut,Dt),Nt=Ut.length,Ft=Promise.resolve(et);jt<Nt;)Ft=Ft.then(Ut[jt++],Ut[jt++]);return Ft}Nt=$t.length;let Lt=et;for(jt=0;jt<Nt;){const Ut=$t[jt++],Vt=$t[jt++];try{Lt=Ut(Lt)}catch(Yt){Vt.call(this,Yt);break}}try{Ft=dispatchRequest.call(this,Lt)}catch(Ut){return Promise.reject(Ut)}for(jt=0,Nt=Dt.length;jt<Nt;)Ft=Ft.then(Dt[jt++],Dt[jt++]);return Ft}getUri(a){a=mergeConfig(this.defaults,a);const et=buildFullPath(a.baseURL,a.url,a.allowAbsoluteUrls);return buildURL(et,a.params,a.paramsSerializer)}}utils$1$1.forEach(["delete","get","head","options"],function(a){Axios.prototype[a]=function(et,nt){return this.request(mergeConfig(nt||{},{method:a,url:et,data:(nt||{}).data}))}});utils$1$1.forEach(["post","put","patch"],function(a){function et(nt){return function(mt,wt,$t){return this.request(mergeConfig($t||{},{method:a,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:mt,data:wt}))}}Axios.prototype[a]=et(),Axios.prototype[a+"Form"]=et(!0)});var Axios$1=Axios;class CancelToken{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let et;this.promise=new Promise(function(mt){et=mt});const nt=this;this.promise.then(at=>{if(!nt._listeners)return;let mt=nt._listeners.length;for(;mt-- >0;)nt._listeners[mt](at);nt._listeners=null}),this.promise.then=at=>{let mt;const wt=new Promise($t=>{nt.subscribe($t),mt=$t}).then(at);return wt.cancel=function(){nt.unsubscribe(mt)},wt},a(function(mt,wt,$t){nt.reason||(nt.reason=new CanceledError(mt,wt,$t),et(nt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const et=this._listeners.indexOf(a);et!==-1&&this._listeners.splice(et,1)}toAbortSignal(){const a=new AbortController,et=nt=>{a.abort(nt)};return this.subscribe(et),a.signal.unsubscribe=()=>this.unsubscribe(et),a.signal}static source(){let a;return{token:new CancelToken(function(at){a=at}),cancel:a}}}var CancelToken$1=CancelToken;function spread(s){return function(et){return s.apply(null,et)}}function isAxiosError(s){return utils$1$1.isObject(s)&&s.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([s,a])=>{HttpStatusCode[a]=s});var HttpStatusCode$1=HttpStatusCode;function createInstance(s){const a=new Axios$1(s),et=bind(Axios$1.prototype.request,a);return utils$1$1.extend(et,Axios$1.prototype,a,{allOwnKeys:!0}),utils$1$1.extend(et,a,null,{allOwnKeys:!0}),et.create=function(at){return createInstance(mergeConfig(s,at))},et}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(a){return Promise.all(a)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=s=>formDataToJSON(utils$1$1.isHTMLForm(s)?new FormData(s):s);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;var axios_1$1=axios,axiosRetry$2={exports:{}},cjs={},interopRequireDefault={exports:{}};(function(s){function a(et){return et&&et.__esModule?et:{default:et}}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,regeneratorRuntime$1={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(s){function a(et){"@babel/helpers - typeof";return s.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},s.exports.__esModule=!0,s.exports.default=s.exports,a(et)}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports}(_typeof)),_typeof.exports}var hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(s){var a=require_typeof().default;function et(){s.exports=et=function(){return at},s.exports.__esModule=!0,s.exports.default=s.exports;var nt,at={},mt=Object.prototype,wt=mt.hasOwnProperty,$t=Object.defineProperty||function(pr,cr,gr){pr[cr]=gr.value},Ct=typeof Symbol=="function"?Symbol:{},Dt=Ct.iterator||"@@iterator",Ft=Ct.asyncIterator||"@@asyncIterator",jt=Ct.toStringTag||"@@toStringTag";function Nt(pr,cr,gr){return Object.defineProperty(pr,cr,{value:gr,enumerable:!0,configurable:!0,writable:!0}),pr[cr]}try{Nt({},"")}catch{Nt=function(gr,hr,lr){return gr[hr]=lr}}function Lt(pr,cr,gr,hr){var lr=cr&&cr.prototype instanceof sr?cr:sr,xr=Object.create(lr.prototype),Mr=new ar(hr||[]);return $t(xr,"_invoke",{value:_r(pr,gr,Mr)}),xr}function Ut(pr,cr,gr){try{return{type:"normal",arg:pr.call(cr,gr)}}catch(hr){return{type:"throw",arg:hr}}}at.wrap=Lt;var Vt="suspendedStart",Yt="suspendedYield",er="executing",tr="completed",nr={};function sr(){}function dr(){}function br(){}var vr={};Nt(vr,Dt,function(){return this});var yr=Object.getPrototypeOf,$r=yr&&yr(yr(ur([])));$r&&$r!==mt&&wt.call($r,Dt)&&(vr=$r);var Sr=br.prototype=sr.prototype=Object.create(vr);function wr(pr){["next","throw","return"].forEach(function(cr){Nt(pr,cr,function(gr){return this._invoke(cr,gr)})})}function fr(pr,cr){function gr(lr,xr,Mr,Pr){var Ar=Ut(pr[lr],pr,xr);if(Ar.type!=="throw"){var Ir=Ar.arg,qr=Ir.value;return qr&&a(qr)=="object"&&wt.call(qr,"__await")?cr.resolve(qr.__await).then(function(Rr){gr("next",Rr,Mr,Pr)},function(Rr){gr("throw",Rr,Mr,Pr)}):cr.resolve(qr).then(function(Rr){Ir.value=Rr,Mr(Ir)},function(Rr){return gr("throw",Rr,Mr,Pr)})}Pr(Ar.arg)}var hr;$t(this,"_invoke",{value:function(xr,Mr){function Pr(){return new cr(function(Ar,Ir){gr(xr,Mr,Ar,Ir)})}return hr=hr?hr.then(Pr,Pr):Pr()}})}function _r(pr,cr,gr){var hr=Vt;return function(lr,xr){if(hr===er)throw Error("Generator is already running");if(hr===tr){if(lr==="throw")throw xr;return{value:nt,done:!0}}for(gr.method=lr,gr.arg=xr;;){var Mr=gr.delegate;if(Mr){var Pr=ir(Mr,gr);if(Pr){if(Pr===nr)continue;return Pr}}if(gr.method==="next")gr.sent=gr._sent=gr.arg;else if(gr.method==="throw"){if(hr===Vt)throw hr=tr,gr.arg;gr.dispatchException(gr.arg)}else gr.method==="return"&&gr.abrupt("return",gr.arg);hr=er;var Ar=Ut(pr,cr,gr);if(Ar.type==="normal"){if(hr=gr.done?tr:Yt,Ar.arg===nr)continue;return{value:Ar.arg,done:gr.done}}Ar.type==="throw"&&(hr=tr,gr.method="throw",gr.arg=Ar.arg)}}}function ir(pr,cr){var gr=cr.method,hr=pr.iterator[gr];if(hr===nt)return cr.delegate=null,gr==="throw"&&pr.iterator.return&&(cr.method="return",cr.arg=nt,ir(pr,cr),cr.method==="throw")||gr!=="return"&&(cr.method="throw",cr.arg=new TypeError("The iterator does not provide a '"+gr+"' method")),nr;var lr=Ut(hr,pr.iterator,cr.arg);if(lr.type==="throw")return cr.method="throw",cr.arg=lr.arg,cr.delegate=null,nr;var xr=lr.arg;return xr?xr.done?(cr[pr.resultName]=xr.value,cr.next=pr.nextLoc,cr.method!=="return"&&(cr.method="next",cr.arg=nt),cr.delegate=null,nr):xr:(cr.method="throw",cr.arg=new TypeError("iterator result is not an object"),cr.delegate=null,nr)}function rr(pr){var cr={tryLoc:pr[0]};1 in pr&&(cr.catchLoc=pr[1]),2 in pr&&(cr.finallyLoc=pr[2],cr.afterLoc=pr[3]),this.tryEntries.push(cr)}function or(pr){var cr=pr.completion||{};cr.type="normal",delete cr.arg,pr.completion=cr}function ar(pr){this.tryEntries=[{tryLoc:"root"}],pr.forEach(rr,this),this.reset(!0)}function ur(pr){if(pr||pr===""){var cr=pr[Dt];if(cr)return cr.call(pr);if(typeof pr.next=="function")return pr;if(!isNaN(pr.length)){var gr=-1,hr=function lr(){for(;++gr<pr.length;)if(wt.call(pr,gr))return lr.value=pr[gr],lr.done=!1,lr;return lr.value=nt,lr.done=!0,lr};return hr.next=hr}}throw new TypeError(a(pr)+" is not iterable")}return dr.prototype=br,$t(Sr,"constructor",{value:br,configurable:!0}),$t(br,"constructor",{value:dr,configurable:!0}),dr.displayName=Nt(br,jt,"GeneratorFunction"),at.isGeneratorFunction=function(pr){var cr=typeof pr=="function"&&pr.constructor;return!!cr&&(cr===dr||(cr.displayName||cr.name)==="GeneratorFunction")},at.mark=function(pr){return Object.setPrototypeOf?Object.setPrototypeOf(pr,br):(pr.__proto__=br,Nt(pr,jt,"GeneratorFunction")),pr.prototype=Object.create(Sr),pr},at.awrap=function(pr){return{__await:pr}},wr(fr.prototype),Nt(fr.prototype,Ft,function(){return this}),at.AsyncIterator=fr,at.async=function(pr,cr,gr,hr,lr){lr===void 0&&(lr=Promise);var xr=new fr(Lt(pr,cr,gr,hr),lr);return at.isGeneratorFunction(cr)?xr:xr.next().then(function(Mr){return Mr.done?Mr.value:xr.next()})},wr(Sr),Nt(Sr,jt,"Generator"),Nt(Sr,Dt,function(){return this}),Nt(Sr,"toString",function(){return"[object Generator]"}),at.keys=function(pr){var cr=Object(pr),gr=[];for(var hr in cr)gr.push(hr);return gr.reverse(),function lr(){for(;gr.length;){var xr=gr.pop();if(xr in cr)return lr.value=xr,lr.done=!1,lr}return lr.done=!0,lr}},at.values=ur,ar.prototype={constructor:ar,reset:function(cr){if(this.prev=0,this.next=0,this.sent=this._sent=nt,this.done=!1,this.delegate=null,this.method="next",this.arg=nt,this.tryEntries.forEach(or),!cr)for(var gr in this)gr.charAt(0)==="t"&&wt.call(this,gr)&&!isNaN(+gr.slice(1))&&(this[gr]=nt)},stop:function(){this.done=!0;var cr=this.tryEntries[0].completion;if(cr.type==="throw")throw cr.arg;return this.rval},dispatchException:function(cr){if(this.done)throw cr;var gr=this;function hr(Ir,qr){return Mr.type="throw",Mr.arg=cr,gr.next=Ir,qr&&(gr.method="next",gr.arg=nt),!!qr}for(var lr=this.tryEntries.length-1;lr>=0;--lr){var xr=this.tryEntries[lr],Mr=xr.completion;if(xr.tryLoc==="root")return hr("end");if(xr.tryLoc<=this.prev){var Pr=wt.call(xr,"catchLoc"),Ar=wt.call(xr,"finallyLoc");if(Pr&&Ar){if(this.prev<xr.catchLoc)return hr(xr.catchLoc,!0);if(this.prev<xr.finallyLoc)return hr(xr.finallyLoc)}else if(Pr){if(this.prev<xr.catchLoc)return hr(xr.catchLoc,!0)}else{if(!Ar)throw Error("try statement without catch or finally");if(this.prev<xr.finallyLoc)return hr(xr.finallyLoc)}}}},abrupt:function(cr,gr){for(var hr=this.tryEntries.length-1;hr>=0;--hr){var lr=this.tryEntries[hr];if(lr.tryLoc<=this.prev&&wt.call(lr,"finallyLoc")&&this.prev<lr.finallyLoc){var xr=lr;break}}xr&&(cr==="break"||cr==="continue")&&xr.tryLoc<=gr&&gr<=xr.finallyLoc&&(xr=null);var Mr=xr?xr.completion:{};return Mr.type=cr,Mr.arg=gr,xr?(this.method="next",this.next=xr.finallyLoc,nr):this.complete(Mr)},complete:function(cr,gr){if(cr.type==="throw")throw cr.arg;return cr.type==="break"||cr.type==="continue"?this.next=cr.arg:cr.type==="return"?(this.rval=this.arg=cr.arg,this.method="return",this.next="end"):cr.type==="normal"&&gr&&(this.next=gr),nr},finish:function(cr){for(var gr=this.tryEntries.length-1;gr>=0;--gr){var hr=this.tryEntries[gr];if(hr.finallyLoc===cr)return this.complete(hr.completion,hr.afterLoc),or(hr),nr}},catch:function(cr){for(var gr=this.tryEntries.length-1;gr>=0;--gr){var hr=this.tryEntries[gr];if(hr.tryLoc===cr){var lr=hr.completion;if(lr.type==="throw"){var xr=lr.arg;or(hr)}return xr}}throw Error("illegal catch attempt")},delegateYield:function(cr,gr,hr){return this.delegate={iterator:ur(cr),resultName:gr,nextLoc:hr},this.method==="next"&&(this.arg=nt),nr}},at}s.exports=et,s.exports.__esModule=!0,s.exports.default=s.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var s=requireRegeneratorRuntime()();regenerator=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(s){function a(nt,at,mt,wt,$t,Ct,Dt){try{var Ft=nt[Ct](Dt),jt=Ft.value}catch(Nt){return void mt(Nt)}Ft.done?at(jt):Promise.resolve(jt).then(wt,$t)}function et(nt){return function(){var at=this,mt=arguments;return new Promise(function(wt,$t){var Ct=nt.apply(at,mt);function Dt(jt){a(Ct,wt,$t,Dt,Ft,"next",jt)}function Ft(jt){a(Ct,wt,$t,Dt,Ft,"throw",jt)}Dt(void 0)})}}s.exports=et,s.exports.__esModule=!0,s.exports.default=s.exports}(asyncToGenerator)),asyncToGenerator.exports}var defineProperty={exports:{}},toPropertyKey={exports:{}},toPrimitive={exports:{}},hasRequiredToPrimitive;function requireToPrimitive(){return hasRequiredToPrimitive||(hasRequiredToPrimitive=1,function(s){var a=require_typeof().default;function et(nt,at){if(a(nt)!="object"||!nt)return nt;var mt=nt[Symbol.toPrimitive];if(mt!==void 0){var wt=mt.call(nt,at||"default");if(a(wt)!="object")return wt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(at==="string"?String:Number)(nt)}s.exports=et,s.exports.__esModule=!0,s.exports.default=s.exports}(toPrimitive)),toPrimitive.exports}var hasRequiredToPropertyKey;function requireToPropertyKey(){return hasRequiredToPropertyKey||(hasRequiredToPropertyKey=1,function(s){var a=require_typeof().default,et=requireToPrimitive();function nt(at){var mt=et(at,"string");return a(mt)=="symbol"?mt:mt+""}s.exports=nt,s.exports.__esModule=!0,s.exports.default=s.exports}(toPropertyKey)),toPropertyKey.exports}var hasRequiredDefineProperty;function requireDefineProperty(){return hasRequiredDefineProperty||(hasRequiredDefineProperty=1,function(s){var a=requireToPropertyKey();function et(nt,at,mt){return(at=a(at))in nt?Object.defineProperty(nt,at,{value:mt,enumerable:!0,configurable:!0,writable:!0}):nt[at]=mt,nt}s.exports=et,s.exports.__esModule=!0,s.exports.default=s.exports}(defineProperty)),defineProperty.exports}var isRetryAllowed,hasRequiredIsRetryAllowed;function requireIsRetryAllowed(){if(hasRequiredIsRetryAllowed)return isRetryAllowed;hasRequiredIsRetryAllowed=1;const s=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);return isRetryAllowed=a=>!s.has(a&&a.code),isRetryAllowed}var _interopRequireDefault$t=interopRequireDefaultExports;Object.defineProperty(cjs,"__esModule",{value:!0});cjs.isNetworkError=isNetworkError;cjs.isRetryableError=isRetryableError;cjs.isSafeRequestError=isSafeRequestError;cjs.isIdempotentRequestError=isIdempotentRequestError;cjs.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;cjs.exponentialDelay=exponentialDelay;cjs.default=axiosRetry$1;cjs.DEFAULT_OPTIONS=cjs.namespace=void 0;var _regenerator=_interopRequireDefault$t(requireRegenerator()),_typeof2=_interopRequireDefault$t(require_typeof()),_asyncToGenerator2=_interopRequireDefault$t(requireAsyncToGenerator()),_defineProperty2$6=_interopRequireDefault$t(requireDefineProperty()),_isRetryAllowed=_interopRequireDefault$t(requireIsRetryAllowed());function ownKeys(s,a){var et=Object.keys(s);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(s);a&&(nt=nt.filter(function(at){return Object.getOwnPropertyDescriptor(s,at).enumerable})),et.push.apply(et,nt)}return et}function _objectSpread(s){for(var a=1;a<arguments.length;a++){var et=arguments[a]!=null?arguments[a]:{};a%2?ownKeys(Object(et),!0).forEach(function(nt){(0,_defineProperty2$6.default)(s,nt,et[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(nt){Object.defineProperty(s,nt,Object.getOwnPropertyDescriptor(et,nt))})}return s}var namespace="axios-retry";cjs.namespace=namespace;function isNetworkError(s){var a=["ERR_CANCELED","ECONNABORTED"];return!s.response&&!!s.code&&!a.includes(s.code)&&(0,_isRetryAllowed.default)(s)}var SAFE_HTTP_METHODS=["get","head","options"],IDEMPOTENT_HTTP_METHODS=SAFE_HTTP_METHODS.concat(["put","delete"]);function isRetryableError(s){return s.code!=="ECONNABORTED"&&(!s.response||s.response.status>=500&&s.response.status<=599)}function isSafeRequestError(s){return s.config?isRetryableError(s)&&SAFE_HTTP_METHODS.indexOf(s.config.method)!==-1:!1}function isIdempotentRequestError(s){return s.config?isRetryableError(s)&&IDEMPOTENT_HTTP_METHODS.indexOf(s.config.method)!==-1:!1}function isNetworkOrIdempotentRequestError(s){return isNetworkError(s)||isIdempotentRequestError(s)}function noDelay(){return 0}function exponentialDelay(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,et=Math.pow(2,s)*a,nt=et*.2*Math.random();return et+nt}var DEFAULT_OPTIONS={retries:3,retryCondition:isNetworkOrIdempotentRequestError,retryDelay:noDelay,shouldResetTimeout:!1,onRetry:function(){}};cjs.DEFAULT_OPTIONS=DEFAULT_OPTIONS;function getRequestOptions(s,a){return _objectSpread(_objectSpread(_objectSpread({},DEFAULT_OPTIONS),a),s[namespace])}function getCurrentState(s,a){var et=getRequestOptions(s,a);return et.retryCount=et.retryCount||0,s[namespace]=et,et}function fixConfig(s,a){s.defaults.agent===a.agent&&delete a.agent,s.defaults.httpAgent===a.httpAgent&&delete a.httpAgent,s.defaults.httpsAgent===a.httpsAgent&&delete a.httpsAgent}function shouldRetry(s,a){return _shouldRetry.apply(this,arguments)}function _shouldRetry(){return _shouldRetry=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function s(a,et){var nt,at,mt,wt;return _regenerator.default.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(nt=a.retries,at=a.retryCondition,mt=a.retryCount<nt&&at(et),(0,_typeof2.default)(mt)!=="object"){Ct.next=13;break}return Ct.prev=3,Ct.next=6,mt;case 6:return wt=Ct.sent,Ct.abrupt("return",wt!==!1);case 10:return Ct.prev=10,Ct.t0=Ct.catch(3),Ct.abrupt("return",!1);case 13:return Ct.abrupt("return",mt);case 14:case"end":return Ct.stop()}},s,null,[[3,10]])})),_shouldRetry.apply(this,arguments)}function axiosRetry$1(s,a){var et=s.interceptors.request.use(function(at){var mt=getCurrentState(at,a);return mt.lastRequestTime=Date.now(),at}),nt=s.interceptors.response.use(null,function(){var at=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function mt(wt){var $t,Ct,Dt,Ft,jt,Nt,Lt,Ut;return _regenerator.default.wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:if($t=wt.config,$t){Yt.next=3;break}return Yt.abrupt("return",Promise.reject(wt));case 3:return Ct=getCurrentState($t,a),Yt.next=6,shouldRetry(Ct,wt);case 6:if(!Yt.sent){Yt.next=21;break}if(Ct.retryCount+=1,Dt=Ct.retryDelay,Ft=Ct.shouldResetTimeout,jt=Ct.onRetry,Nt=Dt(Ct.retryCount,wt),fixConfig(s,$t),!(!Ft&&$t.timeout&&Ct.lastRequestTime)){Yt.next=17;break}if(Lt=Date.now()-Ct.lastRequestTime,Ut=$t.timeout-Lt-Nt,!(Ut<=0)){Yt.next=16;break}return Yt.abrupt("return",Promise.reject(wt));case 16:$t.timeout=Ut;case 17:return $t.transformRequest=[function(er){return er}],Yt.next=20,jt(Ct.retryCount,wt,$t);case 20:return Yt.abrupt("return",new Promise(function(er){return setTimeout(function(){return er(s($t))},Nt)}));case 21:return Yt.abrupt("return",Promise.reject(wt));case 22:case"end":return Yt.stop()}},mt)}));return function(mt){return at.apply(this,arguments)}}());return{requestInterceptorId:et,responseInterceptorId:nt}}axiosRetry$1.isNetworkError=isNetworkError;axiosRetry$1.isSafeRequestError=isSafeRequestError;axiosRetry$1.isIdempotentRequestError=isIdempotentRequestError;axiosRetry$1.isNetworkOrIdempotentRequestError=isNetworkOrIdempotentRequestError;axiosRetry$1.exponentialDelay=exponentialDelay;axiosRetry$1.isRetryableError=isRetryableError;const axiosRetry=cjs.default;axiosRetry$2.exports=axiosRetry;axiosRetry$2.exports.default=axiosRetry;var axiosRetryExports=axiosRetry$2.exports,ResillientWebSocket={},ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof commonjsGlobal$1<"u"?ws=commonjsGlobal$1.WebSocket||commonjsGlobal$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);var browser$e=ws,__importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(ResillientWebSocket,"__esModule",{value:!0});ResillientWebSocket.ResilientWebSocket=void 0;const isomorphic_ws_1=__importDefault$1(browser$e),PING_TIMEOUT_DURATION=33e3;class ResilientWebSocket{constructor(a,et){sn(this,"endpoint");sn(this,"wsClient");sn(this,"wsUserClosed");sn(this,"wsFailedAttempts");sn(this,"pingTimeout");sn(this,"logger");sn(this,"onError");sn(this,"onMessage");sn(this,"onReconnect");this.endpoint=a,this.logger=et,this.wsFailedAttempts=0,this.onError=nt=>{var at;(at=this.logger)==null||at.error(nt)},this.wsUserClosed=!0,this.onMessage=()=>{},this.onReconnect=()=>{}}async send(a){var et,nt,at;(et=this.logger)==null||et.info(`Sending ${a}`),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0?(nt=this.logger)==null||nt.error("Couldn't connect to the websocket server. Error callback is called."):(at=this.wsClient)==null||at.send(a)}async startWebSocket(){var a;this.wsClient===void 0&&((a=this.logger)==null||a.info("Creating Web Socket client"),this.wsClient=new isomorphic_ws_1.default(this.endpoint),this.wsUserClosed=!1,this.wsClient.onopen=()=>{this.wsFailedAttempts=0,this.wsClient.on!==void 0&&this.heartbeat()},this.wsClient.onerror=et=>{this.onError(et.error)},this.wsClient.onmessage=et=>{this.onMessage(et.data)},this.wsClient.onclose=async()=>{var et,nt;if(this.pingTimeout!==void 0&&clearInterval(this.pingTimeout),this.wsUserClosed===!1){this.wsFailedAttempts+=1,this.wsClient=void 0;const at=expoBackoff(this.wsFailedAttempts);(et=this.logger)==null||et.error(`Connection closed unexpectedly or because of timeout. Reconnecting after ${at}ms.`),await sleep(at),this.restartUnexpectedClosedWebsocket()}else(nt=this.logger)==null||nt.info("The connection has been closed successfully.")},this.wsClient.on!==void 0&&this.wsClient.on("ping",this.heartbeat.bind(this)))}heartbeat(){var a;(a=this.logger)==null||a.info("Heartbeat"),this.pingTimeout!==void 0&&clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var et,nt;(et=this.logger)==null||et.warn("Connection timed out. Reconnecting..."),(nt=this.wsClient)==null||nt.terminate(),this.restartUnexpectedClosedWebsocket()},PING_TIMEOUT_DURATION)}async waitForMaybeReadyWebSocket(){let a=0;for(;this.wsClient!==void 0&&this.wsClient.readyState!==this.wsClient.OPEN;)if(a>5e3){this.wsClient.close();return}else a+=10,await sleep(10)}async restartUnexpectedClosedWebsocket(){var a;if(this.wsUserClosed!==!0){if(await this.startWebSocket(),await this.waitForMaybeReadyWebSocket(),this.wsClient===void 0){(a=this.logger)==null||a.error("Couldn't reconnect to websocket. Error callback is called.");return}this.onReconnect()}}closeWebSocket(){if(this.wsClient!==void 0){const a=this.wsClient;this.wsClient=void 0,a.close()}this.wsUserClosed=!0}}ResillientWebSocket.ResilientWebSocket=ResilientWebSocket;async function sleep(s){return new Promise(a=>setTimeout(a,s))}function expoBackoff(s){return 2**s*100}var utils$5={};Object.defineProperty(utils$5,"__esModule",{value:!0});utils$5.removeLeading0xIfExists=utils$5.makeWebsocketUrl=void 0;function makeWebsocketUrl(s){const a=new URL("ws",s),et=a.protocol==="https:";return a.protocol=et?"wss:":"ws:",a.toString()}utils$5.makeWebsocketUrl=makeWebsocketUrl;function removeLeading0xIfExists(s){return s.startsWith("0x")?s.substring(2):s}utils$5.removeLeading0xIfExists=removeLeading0xIfExists;var __importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(PriceServiceConnection$1,"__esModule",{value:!0});PriceServiceConnection$1.PriceServiceConnection=void 0;const price_service_sdk_1=lib$1,axios_1=__importDefault(axios_1$1),axios_retry_1=__importDefault(axiosRetryExports),ResillientWebSocket_1=ResillientWebSocket,utils_1$1=utils$5;class PriceServiceConnection{constructor(a,et){sn(this,"httpClient");sn(this,"priceFeedCallbacks");sn(this,"wsClient");sn(this,"wsEndpoint");sn(this,"logger");sn(this,"priceFeedRequestConfig");sn(this,"onWsError");var nt,at,mt;this.httpClient=axios_1.default.create({baseURL:a,timeout:(et==null?void 0:et.timeout)||5e3}),(0,axios_retry_1.default)(this.httpClient,{retries:(et==null?void 0:et.httpRetries)||3,retryDelay:axios_retry_1.default.exponentialDelay}),this.priceFeedRequestConfig={binary:(nt=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:nt.binary,verbose:((at=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:at.verbose)??(et==null?void 0:et.verbose),allowOutOfOrder:(mt=et==null?void 0:et.priceFeedRequestConfig)==null?void 0:mt.allowOutOfOrder},this.priceFeedCallbacks=new Map,this.logger=(et==null?void 0:et.logger)||{trace:()=>{},debug:()=>{},info:()=>{},warn:console.warn,error:console.error},this.onWsError=wt=>{this.logger.error(wt),typeof process$1<"u"&&typeof process$1.exit=="function"?(this.logger.error("Halting the process due to the websocket error"),process$1.exit(1)):this.logger.error("Cannot halt process. Please handle the websocket error.")},this.wsEndpoint=(0,utils_1$1.makeWebsocketUrl)(a)}async getLatestPriceFeeds(a){return a.length===0?[]:(await this.httpClient.get("/api/latest_price_feeds",{params:{ids:a,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}})).data.map(at=>price_service_sdk_1.PriceFeed.fromJson(at))}async getLatestVaas(a){return(await this.httpClient.get("/api/latest_vaas",{params:{ids:a}})).data}async getVaa(a,et){const nt=await this.httpClient.get("/api/get_vaa",{params:{id:a,publish_time:et}});return[nt.data.vaa,nt.data.publishTime]}async getPriceFeed(a,et){const nt=await this.httpClient.get("/api/get_price_feed",{params:{id:a,publish_time:et,verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary}});return price_service_sdk_1.PriceFeed.fromJson(nt.data)}async getPriceFeedIds(){return(await this.httpClient.get("/api/price_feed_ids")).data}async subscribePriceFeedUpdates(a,et){var mt;this.wsClient===void 0&&await this.startWebSocket(),a=a.map(wt=>(0,utils_1$1.removeLeading0xIfExists)(wt));const nt=[];for(const wt of a)this.priceFeedCallbacks.has(wt)||(this.priceFeedCallbacks.set(wt,new Set),nt.push(wt)),this.priceFeedCallbacks.get(wt).add(et);const at={ids:nt,type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};await((mt=this.wsClient)==null?void 0:mt.send(JSON.stringify(at)))}async unsubscribePriceFeedUpdates(a,et){var mt;this.wsClient===void 0&&await this.startWebSocket(),a=a.map(wt=>(0,utils_1$1.removeLeading0xIfExists)(wt));const nt=[];for(const wt of a)if(this.priceFeedCallbacks.has(wt)){let $t=!1;et===void 0?(this.priceFeedCallbacks.delete(wt),$t=!0):(this.priceFeedCallbacks.get(wt).delete(et),this.priceFeedCallbacks.get(wt).size===0&&(this.priceFeedCallbacks.delete(wt),$t=!0)),$t&&nt.push(wt)}const at={ids:nt,type:"unsubscribe"};await((mt=this.wsClient)==null?void 0:mt.send(JSON.stringify(at))),this.priceFeedCallbacks.size===0&&this.closeWebSocket()}async startWebSocket(){if(this.wsEndpoint===void 0)throw new Error("Websocket endpoint is undefined.");this.wsClient=new ResillientWebSocket_1.ResilientWebSocket(this.wsEndpoint,this.logger),this.wsClient.onError=this.onWsError,this.wsClient.onReconnect=()=>{var a;if(this.priceFeedCallbacks.size>0){const et={ids:Array.from(this.priceFeedCallbacks.keys()),type:"subscribe",verbose:this.priceFeedRequestConfig.verbose,binary:this.priceFeedRequestConfig.binary,allow_out_of_order:this.priceFeedRequestConfig.allowOutOfOrder};this.logger.info("Resubscribing to existing price feeds."),(a=this.wsClient)==null||a.send(JSON.stringify(et))}},this.wsClient.onMessage=a=>{this.logger.info(`Received message ${a.toString()}`);let et;try{et=JSON.parse(a.toString())}catch(nt){this.logger.error(`Error parsing message ${a.toString()} as JSON.`),this.logger.error(nt),this.onWsError(nt);return}if(et.type==="response")et.status==="error"&&(this.logger.error(`Error response from the websocket server ${et.error}.`),this.onWsError(new Error(et.error)));else if(et.type==="price_update"){let nt;try{nt=price_service_sdk_1.PriceFeed.fromJson(et.price_feed)}catch(at){this.logger.error(`Error parsing price feeds from message ${a.toString()}.`),this.logger.error(at),this.onWsError(at);return}if(this.priceFeedCallbacks.has(nt.id))for(const at of this.priceFeedCallbacks.get(nt.id))at(nt)}else this.logger.warn(`Ignoring unsupported server response ${a.toString()}.`)},await this.wsClient.startWebSocket()}closeWebSocket(){var a;(a=this.wsClient)==null||a.closeWebSocket(),this.wsClient=void 0,this.priceFeedCallbacks.clear()}}PriceServiceConnection$1.PriceServiceConnection=PriceServiceConnection;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.parseAccumulatorUpdateData=s.isAccumulatorUpdateData=s.Price=s.PriceFeed=s.PriceFeedMetadata=s.PriceServiceConnection=void 0;var a=PriceServiceConnection$1;Object.defineProperty(s,"PriceServiceConnection",{enumerable:!0,get:function(){return a.PriceServiceConnection}});var et=lib$1;Object.defineProperty(s,"PriceFeedMetadata",{enumerable:!0,get:function(){return et.PriceFeedMetadata}}),Object.defineProperty(s,"PriceFeed",{enumerable:!0,get:function(){return et.PriceFeed}}),Object.defineProperty(s,"Price",{enumerable:!0,get:function(){return et.Price}}),Object.defineProperty(s,"isAccumulatorUpdateData",{enumerable:!0,get:function(){return et.isAccumulatorUpdateData}}),Object.defineProperty(s,"parseAccumulatorUpdateData",{enumerable:!0,get:function(){return et.parseAccumulatorUpdateData}})})(lib$2);Object.defineProperty(SuiPriceServiceConnection$1,"__esModule",{value:!0});SuiPriceServiceConnection$1.SuiPriceServiceConnection=void 0;const price_service_client_1=lib$2,buffer_1$1=require$$1$3;class SuiPriceServiceConnection extends price_service_client_1.PriceServiceConnection{async getPriceFeedsUpdateData(a){return(await this.getLatestVaas(a)).map(nt=>buffer_1$1.Buffer.from(nt,"base64"))}}SuiPriceServiceConnection$1.SuiPriceServiceConnection=SuiPriceServiceConnection;var client={},__defProp$f=Object.defineProperty,__getOwnPropDesc$c=Object.getOwnPropertyDescriptor,__getOwnPropNames$c=Object.getOwnPropertyNames,__hasOwnProp$e=Object.prototype.hasOwnProperty,__export$b=(s,a)=>{for(var et in a)__defProp$f(s,et,{get:a[et],enumerable:!0})},__copyProps$c=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$c(a))!__hasOwnProp$e.call(s,at)&&at!==et&&__defProp$f(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$c(a,at))||nt.enumerable});return s},__toCommonJS$b=s=>__copyProps$c(__defProp$f({},"__esModule",{value:!0}),s),format_exports={};__export$b(format_exports,{formatAddress:()=>formatAddress,formatDigest:()=>formatDigest});var format$1=__toCommonJS$b(format_exports);const ELLIPSIS="";function formatAddress(s){if(s.length<=6)return s;const a=s.startsWith("0x")?2:0;return`0x${s.slice(a,a+4)}${ELLIPSIS}${s.slice(-4)}`}function formatDigest(s){return`${s.slice(0,10)}${ELLIPSIS}`}const require$$2$1=getAugmentedNamespace(esm);var __defProp$e=Object.defineProperty,__getOwnPropDesc$b=Object.getOwnPropertyDescriptor,__getOwnPropNames$b=Object.getOwnPropertyNames,__hasOwnProp$d=Object.prototype.hasOwnProperty,__export$a=(s,a)=>{for(var et in a)__defProp$e(s,et,{get:a[et],enumerable:!0})},__copyProps$b=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$b(a))!__hasOwnProp$d.call(s,at)&&at!==et&&__defProp$e(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$b(a,at))||nt.enumerable});return s},__toCommonJS$a=s=>__copyProps$b(__defProp$e({},"__esModule",{value:!0}),s),suins_exports={};__export$a(suins_exports,{isValidSuiNSName:()=>isValidSuiNSName,normalizeSuiNSName:()=>normalizeSuiNSName});var suins=__toCommonJS$a(suins_exports);const SUI_NS_NAME_REGEX=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,SUI_NS_DOMAIN_REGEX=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,MAX_SUI_NS_NAME_LENGTH=235;function isValidSuiNSName(s){return s.length>MAX_SUI_NS_NAME_LENGTH?!1:s.includes("@")?SUI_NS_NAME_REGEX.test(s):SUI_NS_DOMAIN_REGEX.test(s)}function normalizeSuiNSName(s,a="at"){const et=s.toLowerCase();let nt;if(et.includes("@")){if(!SUI_NS_NAME_REGEX.test(et))throw new Error(`Invalid SuiNS name ${s}`);const[at,mt]=et.split("@");nt=[...at?at.split("."):[],mt]}else{if(!SUI_NS_DOMAIN_REGEX.test(et))throw new Error(`Invalid SuiNS name ${s}`);nt=et.split(".").slice(0,-1)}return a==="dot"?`${nt.join(".")}.sui`:`${nt.slice(0,-1).join(".")}@${nt[nt.length-1]}`}var __defProp$d=Object.defineProperty,__getOwnPropDesc$a=Object.getOwnPropertyDescriptor,__getOwnPropNames$a=Object.getOwnPropertyNames,__hasOwnProp$c=Object.prototype.hasOwnProperty,__export$9=(s,a)=>{for(var et in a)__defProp$d(s,et,{get:a[et],enumerable:!0})},__copyProps$a=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$a(a))!__hasOwnProp$c.call(s,at)&&at!==et&&__defProp$d(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$a(a,at))||nt.enumerable});return s},__toCommonJS$9=s=>__copyProps$a(__defProp$d({},"__esModule",{value:!0}),s),move_registry_exports={};__export$9(move_registry_exports,{isValidNamedPackage:()=>isValidNamedPackage,isValidNamedType:()=>isValidNamedType});var moveRegistry=__toCommonJS$9(move_registry_exports),import_suins$1=suins;const NAME_PATTERN=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,VERSION_REGEX=/^\d+$/,MAX_APP_SIZE=64,NAME_SEPARATOR="/",isValidNamedPackage=s=>{const a=s.split(NAME_SEPARATOR);if(a.length<2||a.length>3)return!1;const[et,nt,at]=a;return at!==void 0&&!VERSION_REGEX.test(at)||!(0,import_suins$1.isValidSuiNSName)(et)?!1:NAME_PATTERN.test(nt)&&nt.length<MAX_APP_SIZE},isValidNamedType=s=>{const a=s.split(/::|<|>|,/);for(const et of a)if(et.includes(NAME_SEPARATOR)&&!isValidNamedPackage(et))return!1;return!0};var __defProp$c=Object.defineProperty,__getOwnPropDesc$9=Object.getOwnPropertyDescriptor,__getOwnPropNames$9=Object.getOwnPropertyNames,__hasOwnProp$b=Object.prototype.hasOwnProperty,__export$8=(s,a)=>{for(var et in a)__defProp$c(s,et,{get:a[et],enumerable:!0})},__copyProps$9=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$9(a))!__hasOwnProp$b.call(s,at)&&at!==et&&__defProp$c(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$9(a,at))||nt.enumerable});return s},__toCommonJS$8=s=>__copyProps$9(__defProp$c({},"__esModule",{value:!0}),s),sui_types_exports={};__export$8(sui_types_exports,{SUI_ADDRESS_LENGTH:()=>SUI_ADDRESS_LENGTH,isValidSuiAddress:()=>isValidSuiAddress,isValidSuiObjectId:()=>isValidSuiObjectId,isValidTransactionDigest:()=>isValidTransactionDigest,normalizeStructTag:()=>normalizeStructTag,normalizeSuiAddress:()=>normalizeSuiAddress,normalizeSuiObjectId:()=>normalizeSuiObjectId,parseStructTag:()=>parseStructTag});var suiTypes=__toCommonJS$8(sui_types_exports),import_bcs$7=require$$2$1,import_move_registry$1=moveRegistry;const TX_DIGEST_LENGTH=32;function isValidTransactionDigest(s){try{return(0,import_bcs$7.fromBase58)(s).length===TX_DIGEST_LENGTH}catch{return!1}}const SUI_ADDRESS_LENGTH=32;function isValidSuiAddress(s){return isHex$1(s)&&getHexByteLength(s)===SUI_ADDRESS_LENGTH}function isValidSuiObjectId(s){return isValidSuiAddress(s)}function parseTypeTag(s){return s.includes("::")?parseStructTag(s):s}function parseStructTag(s){const[a,et]=s.split("::"),nt=(0,import_move_registry$1.isValidNamedPackage)(a),at=s.slice(a.length+et.length+4),mt=at.includes("<")?at.slice(0,at.indexOf("<")):at,wt=at.includes("<")?(0,import_bcs$7.splitGenericParameters)(at.slice(at.indexOf("<")+1,at.lastIndexOf(">"))).map($t=>parseTypeTag($t.trim())):[];return{address:nt?a:normalizeSuiAddress(a),module:et,name:mt,typeParams:wt}}function normalizeStructTag(s){const{address:a,module:et,name:nt,typeParams:at}=typeof s=="string"?parseStructTag(s):s,mt=(at==null?void 0:at.length)>0?`<${at.map(wt=>typeof wt=="string"?wt:normalizeStructTag(wt)).join(",")}>`:"";return`${a}::${et}::${nt}${mt}`}function normalizeSuiAddress(s,a=!1){let et=s.toLowerCase();return!a&&et.startsWith("0x")&&(et=et.slice(2)),`0x${et.padStart(SUI_ADDRESS_LENGTH*2,"0")}`}function normalizeSuiObjectId(s,a=!1){return normalizeSuiAddress(s,a)}function isHex$1(s){return/^(0x|0X)?[a-fA-F0-9]+$/.test(s)&&s.length%2===0}function getHexByteLength(s){return/^(0x|0X)/.test(s)?(s.length-2)/2:s.length/2}var __defProp$b=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__getOwnPropNames$8=Object.getOwnPropertyNames,__hasOwnProp$a=Object.prototype.hasOwnProperty,__export$7=(s,a)=>{for(var et in a)__defProp$b(s,et,{get:a[et],enumerable:!0})},__copyProps$8=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$8(a))!__hasOwnProp$a.call(s,at)&&at!==et&&__defProp$b(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$8(a,at))||nt.enumerable});return s},__toCommonJS$7=s=>__copyProps$8(__defProp$b({},"__esModule",{value:!0}),s),constants_exports={};__export$7(constants_exports,{MIST_PER_SUI:()=>MIST_PER_SUI,MOVE_STDLIB_ADDRESS:()=>MOVE_STDLIB_ADDRESS,SUI_CLOCK_OBJECT_ID:()=>SUI_CLOCK_OBJECT_ID,SUI_DECIMALS:()=>SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS:()=>SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS:()=>SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME:()=>SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID:()=>SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG:()=>SUI_TYPE_ARG});var constants$1=__toCommonJS$7(constants_exports),import_sui_types$3=suiTypes;const SUI_DECIMALS=9,MIST_PER_SUI=BigInt(1e9),MOVE_STDLIB_ADDRESS="0x1",SUI_FRAMEWORK_ADDRESS="0x2",SUI_SYSTEM_ADDRESS="0x3",SUI_CLOCK_OBJECT_ID=(0,import_sui_types$3.normalizeSuiObjectId)("0x6"),SUI_SYSTEM_MODULE_NAME="sui_system",SUI_TYPE_ARG=`${SUI_FRAMEWORK_ADDRESS}::sui::SUI`,SUI_SYSTEM_STATE_OBJECT_ID=(0,import_sui_types$3.normalizeSuiObjectId)("0x5"),require$$1$2=getAugmentedNamespace(blake2b$2);var __defProp$a=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__getOwnPropNames$7=Object.getOwnPropertyNames,__hasOwnProp$9=Object.prototype.hasOwnProperty,__export$6=(s,a)=>{for(var et in a)__defProp$a(s,et,{get:a[et],enumerable:!0})},__copyProps$7=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$7(a))!__hasOwnProp$9.call(s,at)&&at!==et&&__defProp$a(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$7(a,at))||nt.enumerable});return s},__toCommonJS$6=s=>__copyProps$7(__defProp$a({},"__esModule",{value:!0}),s),type_tag_serializer_exports={};__export$6(type_tag_serializer_exports,{TypeTagSerializer:()=>TypeTagSerializer});var typeTagSerializer=__toCommonJS$6(type_tag_serializer_exports),import_bcs$6=require$$2$1,import_sui_types$2=suiTypes;const VECTOR_REGEX=/^vector<(.+)>$/,STRUCT_REGEX=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class TypeTagSerializer{static parseFromStr(a,et=!1){if(a==="address")return{address:null};if(a==="bool")return{bool:null};if(a==="u8")return{u8:null};if(a==="u16")return{u16:null};if(a==="u32")return{u32:null};if(a==="u64")return{u64:null};if(a==="u128")return{u128:null};if(a==="u256")return{u256:null};if(a==="signer")return{signer:null};const nt=a.match(VECTOR_REGEX);if(nt)return{vector:TypeTagSerializer.parseFromStr(nt[1],et)};const at=a.match(STRUCT_REGEX);if(at)return{struct:{address:et?(0,import_sui_types$2.normalizeSuiAddress)(at[1]):at[1],module:at[2],name:at[3],typeParams:at[5]===void 0?[]:TypeTagSerializer.parseStructTypeArgs(at[5],et)}};throw new Error(`Encountered unexpected token when parsing type args for ${a}`)}static parseStructTypeArgs(a,et=!1){return(0,import_bcs$6.splitGenericParameters)(a).map(nt=>TypeTagSerializer.parseFromStr(nt,et))}static tagToString(a){if("bool"in a)return"bool";if("u8"in a)return"u8";if("u16"in a)return"u16";if("u32"in a)return"u32";if("u64"in a)return"u64";if("u128"in a)return"u128";if("u256"in a)return"u256";if("address"in a)return"address";if("signer"in a)return"signer";if("vector"in a)return`vector<${TypeTagSerializer.tagToString(a.vector)}>`;if("struct"in a){const et=a.struct,nt=et.typeParams.map(TypeTagSerializer.tagToString).join(", ");return`${et.address}::${et.module}::${et.name}${nt?`<${nt}>`:""}`}throw new Error("Invalid TypeTag")}}var __defProp$9=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__getOwnPropNames$6=Object.getOwnPropertyNames,__hasOwnProp$8=Object.prototype.hasOwnProperty,__export$5=(s,a)=>{for(var et in a)__defProp$9(s,et,{get:a[et],enumerable:!0})},__copyProps$6=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$6(a))!__hasOwnProp$8.call(s,at)&&at!==et&&__defProp$9(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$6(a,at))||nt.enumerable});return s},__toCommonJS$5=s=>__copyProps$6(__defProp$9({},"__esModule",{value:!0}),s),bcs_exports$1={};__export$5(bcs_exports$1,{Address:()=>Address,AppId:()=>AppId,Argument:()=>Argument,CallArg:()=>CallArg,Command:()=>Command,CompressedSignature:()=>CompressedSignature,GasData:()=>GasData,Intent:()=>Intent,IntentMessage:()=>IntentMessage,IntentScope:()=>IntentScope,IntentVersion:()=>IntentVersion,MultiSig:()=>MultiSig,MultiSigPkMap:()=>MultiSigPkMap,MultiSigPublicKey:()=>MultiSigPublicKey,ObjectArg:()=>ObjectArg,ObjectDigest:()=>ObjectDigest,PasskeyAuthenticator:()=>PasskeyAuthenticator,ProgrammableMoveCall:()=>ProgrammableMoveCall,ProgrammableTransaction:()=>ProgrammableTransaction,PublicKey:()=>PublicKey,SenderSignedData:()=>SenderSignedData,SenderSignedTransaction:()=>SenderSignedTransaction,SharedObjectRef:()=>SharedObjectRef,StructTag:()=>StructTag,SuiObjectRef:()=>SuiObjectRef,TransactionData:()=>TransactionData,TransactionDataV1:()=>TransactionDataV1,TransactionExpiration:()=>TransactionExpiration,TransactionKind:()=>TransactionKind,TypeTag:()=>TypeTag,base64String:()=>base64String});var bcs$1=__toCommonJS$5(bcs_exports$1),import_bcs$5=require$$2$1,import_sui_types$1=suiTypes,import_type_tag_serializer$1=typeTagSerializer;function unsafe_u64(s){return import_bcs$5.bcs.u64({name:"unsafe_u64",...s}).transform({input:a=>a,output:a=>Number(a)})}function optionEnum(s){return import_bcs$5.bcs.enum("Option",{None:null,Some:s})}const Address=import_bcs$5.bcs.bytes(import_sui_types$1.SUI_ADDRESS_LENGTH).transform({validate:s=>{const a=typeof s=="string"?s:(0,import_bcs$5.toHex)(s);if(!a||!(0,import_sui_types$1.isValidSuiAddress)((0,import_sui_types$1.normalizeSuiAddress)(a)))throw new Error(`Invalid Sui address ${a}`)},input:s=>typeof s=="string"?(0,import_bcs$5.fromHex)((0,import_sui_types$1.normalizeSuiAddress)(s)):s,output:s=>(0,import_sui_types$1.normalizeSuiAddress)((0,import_bcs$5.toHex)(s))}),ObjectDigest=import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({name:"ObjectDigest",input:s=>(0,import_bcs$5.fromBase58)(s),output:s=>(0,import_bcs$5.toBase58)(new Uint8Array(s)),validate:s=>{if((0,import_bcs$5.fromBase58)(s).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),SuiObjectRef=import_bcs$5.bcs.struct("SuiObjectRef",{objectId:Address,version:import_bcs$5.bcs.u64(),digest:ObjectDigest}),SharedObjectRef=import_bcs$5.bcs.struct("SharedObjectRef",{objectId:Address,initialSharedVersion:import_bcs$5.bcs.u64(),mutable:import_bcs$5.bcs.bool()}),ObjectArg=import_bcs$5.bcs.enum("ObjectArg",{ImmOrOwnedObject:SuiObjectRef,SharedObject:SharedObjectRef,Receiving:SuiObjectRef}),CallArg=import_bcs$5.bcs.enum("CallArg",{Pure:import_bcs$5.bcs.struct("Pure",{bytes:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:s=>typeof s=="string"?(0,import_bcs$5.fromBase64)(s):s,output:s=>(0,import_bcs$5.toBase64)(new Uint8Array(s))})}),Object:ObjectArg}),InnerTypeTag=import_bcs$5.bcs.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:import_bcs$5.bcs.lazy(()=>InnerTypeTag),struct:import_bcs$5.bcs.lazy(()=>StructTag),u16:null,u32:null,u256:null}),TypeTag=InnerTypeTag.transform({input:s=>typeof s=="string"?import_type_tag_serializer$1.TypeTagSerializer.parseFromStr(s,!0):s,output:s=>import_type_tag_serializer$1.TypeTagSerializer.tagToString(s)}),Argument=import_bcs$5.bcs.enum("Argument",{GasCoin:null,Input:import_bcs$5.bcs.u16(),Result:import_bcs$5.bcs.u16(),NestedResult:import_bcs$5.bcs.tuple([import_bcs$5.bcs.u16(),import_bcs$5.bcs.u16()])}),ProgrammableMoveCall=import_bcs$5.bcs.struct("ProgrammableMoveCall",{package:Address,module:import_bcs$5.bcs.string(),function:import_bcs$5.bcs.string(),typeArguments:import_bcs$5.bcs.vector(TypeTag),arguments:import_bcs$5.bcs.vector(Argument)}),Command=import_bcs$5.bcs.enum("Command",{MoveCall:ProgrammableMoveCall,TransferObjects:import_bcs$5.bcs.struct("TransferObjects",{objects:import_bcs$5.bcs.vector(Argument),address:Argument}),SplitCoins:import_bcs$5.bcs.struct("SplitCoins",{coin:Argument,amounts:import_bcs$5.bcs.vector(Argument)}),MergeCoins:import_bcs$5.bcs.struct("MergeCoins",{destination:Argument,sources:import_bcs$5.bcs.vector(Argument)}),Publish:import_bcs$5.bcs.struct("Publish",{modules:import_bcs$5.bcs.vector(import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:s=>typeof s=="string"?(0,import_bcs$5.fromBase64)(s):s,output:s=>(0,import_bcs$5.toBase64)(new Uint8Array(s))})),dependencies:import_bcs$5.bcs.vector(Address)}),MakeMoveVec:import_bcs$5.bcs.struct("MakeMoveVec",{type:optionEnum(TypeTag).transform({input:s=>s===null?{None:!0}:{Some:s},output:s=>s.Some??null}),elements:import_bcs$5.bcs.vector(Argument)}),Upgrade:import_bcs$5.bcs.struct("Upgrade",{modules:import_bcs$5.bcs.vector(import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:s=>typeof s=="string"?(0,import_bcs$5.fromBase64)(s):s,output:s=>(0,import_bcs$5.toBase64)(new Uint8Array(s))})),dependencies:import_bcs$5.bcs.vector(Address),package:Address,ticket:Argument})}),ProgrammableTransaction=import_bcs$5.bcs.struct("ProgrammableTransaction",{inputs:import_bcs$5.bcs.vector(CallArg),commands:import_bcs$5.bcs.vector(Command)}),TransactionKind=import_bcs$5.bcs.enum("TransactionKind",{ProgrammableTransaction,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),TransactionExpiration=import_bcs$5.bcs.enum("TransactionExpiration",{None:null,Epoch:unsafe_u64()}),StructTag=import_bcs$5.bcs.struct("StructTag",{address:Address,module:import_bcs$5.bcs.string(),name:import_bcs$5.bcs.string(),typeParams:import_bcs$5.bcs.vector(InnerTypeTag)}),GasData=import_bcs$5.bcs.struct("GasData",{payment:import_bcs$5.bcs.vector(SuiObjectRef),owner:Address,price:import_bcs$5.bcs.u64(),budget:import_bcs$5.bcs.u64()}),TransactionDataV1=import_bcs$5.bcs.struct("TransactionDataV1",{kind:TransactionKind,sender:Address,gasData:GasData,expiration:TransactionExpiration}),TransactionData=import_bcs$5.bcs.enum("TransactionData",{V1:TransactionDataV1}),IntentScope=import_bcs$5.bcs.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),IntentVersion=import_bcs$5.bcs.enum("IntentVersion",{V0:null}),AppId=import_bcs$5.bcs.enum("AppId",{Sui:null}),Intent=import_bcs$5.bcs.struct("Intent",{scope:IntentScope,version:IntentVersion,appId:AppId});function IntentMessage(s){return import_bcs$5.bcs.struct(`IntentMessage<${s.name}>`,{intent:Intent,value:s})}const CompressedSignature=import_bcs$5.bcs.enum("CompressedSignature",{ED25519:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),Secp256k1:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),Secp256r1:import_bcs$5.bcs.fixedArray(64,import_bcs$5.bcs.u8()),ZkLogin:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())}),PublicKey=import_bcs$5.bcs.enum("PublicKey",{ED25519:import_bcs$5.bcs.fixedArray(32,import_bcs$5.bcs.u8()),Secp256k1:import_bcs$5.bcs.fixedArray(33,import_bcs$5.bcs.u8()),Secp256r1:import_bcs$5.bcs.fixedArray(33,import_bcs$5.bcs.u8()),ZkLogin:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())}),MultiSigPkMap=import_bcs$5.bcs.struct("MultiSigPkMap",{pubKey:PublicKey,weight:import_bcs$5.bcs.u8()}),MultiSigPublicKey=import_bcs$5.bcs.struct("MultiSigPublicKey",{pk_map:import_bcs$5.bcs.vector(MultiSigPkMap),threshold:import_bcs$5.bcs.u16()}),MultiSig=import_bcs$5.bcs.struct("MultiSig",{sigs:import_bcs$5.bcs.vector(CompressedSignature),bitmap:import_bcs$5.bcs.u16(),multisig_pk:MultiSigPublicKey}),base64String=import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()).transform({input:s=>typeof s=="string"?(0,import_bcs$5.fromBase64)(s):s,output:s=>(0,import_bcs$5.toBase64)(new Uint8Array(s))}),SenderSignedTransaction=import_bcs$5.bcs.struct("SenderSignedTransaction",{intentMessage:IntentMessage(TransactionData),txSignatures:import_bcs$5.bcs.vector(base64String)}),SenderSignedData=import_bcs$5.bcs.vector(SenderSignedTransaction,{name:"SenderSignedData"}),PasskeyAuthenticator=import_bcs$5.bcs.struct("PasskeyAuthenticator",{authenticatorData:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8()),clientDataJson:import_bcs$5.bcs.string(),userSignature:import_bcs$5.bcs.vector(import_bcs$5.bcs.u8())});var __defProp$8=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__getOwnPropNames$5=Object.getOwnPropertyNames,__hasOwnProp$7=Object.prototype.hasOwnProperty,__export$4=(s,a)=>{for(var et in a)__defProp$8(s,et,{get:a[et],enumerable:!0})},__copyProps$5=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$5(a))!__hasOwnProp$7.call(s,at)&&at!==et&&__defProp$8(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$5(a,at))||nt.enumerable});return s},__toCommonJS$4=s=>__copyProps$5(__defProp$8({},"__esModule",{value:!0}),s),effects_exports={};__export$4(effects_exports,{TransactionEffects:()=>TransactionEffects});var effects=__toCommonJS$4(effects_exports),import_bcs$4=require$$2$1,import_bcs2$3=bcs$1;const PackageUpgradeError=import_bcs$4.bcs.enum("PackageUpgradeError",{UnableToFetchPackage:import_bcs$4.bcs.struct("UnableToFetchPackage",{packageId:import_bcs2$3.Address}),NotAPackage:import_bcs$4.bcs.struct("NotAPackage",{objectId:import_bcs2$3.Address}),IncompatibleUpgrade:null,DigestDoesNotMatch:import_bcs$4.bcs.struct("DigestDoesNotMatch",{digest:import_bcs$4.bcs.vector(import_bcs$4.bcs.u8())}),UnknownUpgradePolicy:import_bcs$4.bcs.struct("UnknownUpgradePolicy",{policy:import_bcs$4.bcs.u8()}),PackageIDDoesNotMatch:import_bcs$4.bcs.struct("PackageIDDoesNotMatch",{packageId:import_bcs2$3.Address,ticketId:import_bcs2$3.Address})}),ModuleId=import_bcs$4.bcs.struct("ModuleId",{address:import_bcs2$3.Address,name:import_bcs$4.bcs.string()}),MoveLocation=import_bcs$4.bcs.struct("MoveLocation",{module:ModuleId,function:import_bcs$4.bcs.u16(),instruction:import_bcs$4.bcs.u16(),functionName:import_bcs$4.bcs.option(import_bcs$4.bcs.string())}),CommandArgumentError=import_bcs$4.bcs.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:import_bcs$4.bcs.struct("IndexOutOfBounds",{idx:import_bcs$4.bcs.u16()}),SecondaryIndexOutOfBounds:import_bcs$4.bcs.struct("SecondaryIndexOutOfBounds",{resultIdx:import_bcs$4.bcs.u16(),secondaryIdx:import_bcs$4.bcs.u16()}),InvalidResultArity:import_bcs$4.bcs.struct("InvalidResultArity",{resultIdx:import_bcs$4.bcs.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),TypeArgumentError=import_bcs$4.bcs.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),ExecutionFailureStatus=import_bcs$4.bcs.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:import_bcs$4.bcs.struct("MoveObjectTooBig",{objectSize:import_bcs$4.bcs.u64(),maxObjectSize:import_bcs$4.bcs.u64()}),MovePackageTooBig:import_bcs$4.bcs.struct("MovePackageTooBig",{objectSize:import_bcs$4.bcs.u64(),maxObjectSize:import_bcs$4.bcs.u64()}),CircularObjectOwnership:import_bcs$4.bcs.struct("CircularObjectOwnership",{object:import_bcs2$3.Address}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:import_bcs$4.bcs.option(MoveLocation),MoveAbort:import_bcs$4.bcs.tuple([MoveLocation,import_bcs$4.bcs.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:import_bcs$4.bcs.struct("CommandArgumentError",{argIdx:import_bcs$4.bcs.u16(),kind:CommandArgumentError}),TypeArgumentError:import_bcs$4.bcs.struct("TypeArgumentError",{argumentIdx:import_bcs$4.bcs.u16(),kind:TypeArgumentError}),UnusedValueWithoutDrop:import_bcs$4.bcs.struct("UnusedValueWithoutDrop",{resultIdx:import_bcs$4.bcs.u16(),secondaryIdx:import_bcs$4.bcs.u16()}),InvalidPublicFunctionReturnType:import_bcs$4.bcs.struct("InvalidPublicFunctionReturnType",{idx:import_bcs$4.bcs.u16()}),InvalidTransferObject:null,EffectsTooLarge:import_bcs$4.bcs.struct("EffectsTooLarge",{currentSize:import_bcs$4.bcs.u64(),maxSize:import_bcs$4.bcs.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:import_bcs$4.bcs.struct("PackageUpgradeError",{upgradeError:PackageUpgradeError}),WrittenObjectsTooLarge:import_bcs$4.bcs.struct("WrittenObjectsTooLarge",{currentSize:import_bcs$4.bcs.u64(),maxSize:import_bcs$4.bcs.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:import_bcs$4.bcs.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:import_bcs$4.bcs.vector(import_bcs2$3.Address)}),AddressDeniedForCoin:import_bcs$4.bcs.struct("AddressDeniedForCoin",{address:import_bcs2$3.Address,coinType:import_bcs$4.bcs.string()}),CoinTypeGlobalPause:import_bcs$4.bcs.struct("CoinTypeGlobalPause",{coinType:import_bcs$4.bcs.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),ExecutionStatus=import_bcs$4.bcs.enum("ExecutionStatus",{Success:null,Failed:import_bcs$4.bcs.struct("ExecutionFailed",{error:ExecutionFailureStatus,command:import_bcs$4.bcs.option(import_bcs$4.bcs.u64())})}),GasCostSummary=import_bcs$4.bcs.struct("GasCostSummary",{computationCost:import_bcs$4.bcs.u64(),storageCost:import_bcs$4.bcs.u64(),storageRebate:import_bcs$4.bcs.u64(),nonRefundableStorageFee:import_bcs$4.bcs.u64()}),Owner=import_bcs$4.bcs.enum("Owner",{AddressOwner:import_bcs2$3.Address,ObjectOwner:import_bcs2$3.Address,Shared:import_bcs$4.bcs.struct("Shared",{initialSharedVersion:import_bcs$4.bcs.u64()}),Immutable:null}),TransactionEffectsV1=import_bcs$4.bcs.struct("TransactionEffectsV1",{status:ExecutionStatus,executedEpoch:import_bcs$4.bcs.u64(),gasUsed:GasCostSummary,modifiedAtVersions:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,import_bcs$4.bcs.u64()])),sharedObjects:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),transactionDigest:import_bcs2$3.ObjectDigest,created:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner])),mutated:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner])),unwrapped:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner])),deleted:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),unwrappedThenDeleted:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),wrapped:import_bcs$4.bcs.vector(import_bcs2$3.SuiObjectRef),gasObject:import_bcs$4.bcs.tuple([import_bcs2$3.SuiObjectRef,Owner]),eventsDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest),dependencies:import_bcs$4.bcs.vector(import_bcs2$3.ObjectDigest)}),VersionDigest=import_bcs$4.bcs.tuple([import_bcs$4.bcs.u64(),import_bcs2$3.ObjectDigest]),ObjectIn=import_bcs$4.bcs.enum("ObjectIn",{NotExist:null,Exist:import_bcs$4.bcs.tuple([VersionDigest,Owner])}),ObjectOut=import_bcs$4.bcs.enum("ObjectOut",{NotExist:null,ObjectWrite:import_bcs$4.bcs.tuple([import_bcs2$3.ObjectDigest,Owner]),PackageWrite:VersionDigest}),IDOperation=import_bcs$4.bcs.enum("IDOperation",{None:null,Created:null,Deleted:null}),EffectsObjectChange=import_bcs$4.bcs.struct("EffectsObjectChange",{inputState:ObjectIn,outputState:ObjectOut,idOperation:IDOperation}),UnchangedSharedKind=import_bcs$4.bcs.enum("UnchangedSharedKind",{ReadOnlyRoot:VersionDigest,MutateDeleted:import_bcs$4.bcs.u64(),ReadDeleted:import_bcs$4.bcs.u64(),Cancelled:import_bcs$4.bcs.u64(),PerEpochConfig:null}),TransactionEffectsV2=import_bcs$4.bcs.struct("TransactionEffectsV2",{status:ExecutionStatus,executedEpoch:import_bcs$4.bcs.u64(),gasUsed:GasCostSummary,transactionDigest:import_bcs2$3.ObjectDigest,gasObjectIndex:import_bcs$4.bcs.option(import_bcs$4.bcs.u32()),eventsDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest),dependencies:import_bcs$4.bcs.vector(import_bcs2$3.ObjectDigest),lamportVersion:import_bcs$4.bcs.u64(),changedObjects:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,EffectsObjectChange])),unchangedSharedObjects:import_bcs$4.bcs.vector(import_bcs$4.bcs.tuple([import_bcs2$3.Address,UnchangedSharedKind])),auxDataDigest:import_bcs$4.bcs.option(import_bcs2$3.ObjectDigest)}),TransactionEffects=import_bcs$4.bcs.enum("TransactionEffects",{V1:TransactionEffectsV1,V2:TransactionEffectsV2});var __defProp$7=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__getOwnPropNames$4=Object.getOwnPropertyNames,__hasOwnProp$6=Object.prototype.hasOwnProperty,__export$3=(s,a)=>{for(var et in a)__defProp$7(s,et,{get:a[et],enumerable:!0})},__copyProps$4=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$4(a))!__hasOwnProp$6.call(s,at)&&at!==et&&__defProp$7(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$4(a,at))||nt.enumerable});return s},__toCommonJS$3=s=>__copyProps$4(__defProp$7({},"__esModule",{value:!0}),s),pure_exports={};__export$3(pure_exports,{pureBcsSchemaFromTypeName:()=>pureBcsSchemaFromTypeName});var pure=__toCommonJS$3(pure_exports),import_bcs$3=require$$2$1,import_bcs2$2=bcs$1;function pureBcsSchemaFromTypeName(s){switch(s){case"u8":return import_bcs$3.bcs.u8();case"u16":return import_bcs$3.bcs.u16();case"u32":return import_bcs$3.bcs.u32();case"u64":return import_bcs$3.bcs.u64();case"u128":return import_bcs$3.bcs.u128();case"u256":return import_bcs$3.bcs.u256();case"bool":return import_bcs$3.bcs.bool();case"string":return import_bcs$3.bcs.string();case"id":case"address":return import_bcs2$2.Address}const a=s.match(/^(vector|option)<(.+)>$/);if(a){const[et,nt]=a.slice(1);return et==="vector"?import_bcs$3.bcs.vector(pureBcsSchemaFromTypeName(nt)):import_bcs$3.bcs.option(pureBcsSchemaFromTypeName(nt))}throw new Error(`Invalid Pure type name: ${s}`)}var __defProp$6=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__getOwnPropNames$3=Object.getOwnPropertyNames,__hasOwnProp$5=Object.prototype.hasOwnProperty,__export$2=(s,a)=>{for(var et in a)__defProp$6(s,et,{get:a[et],enumerable:!0})},__copyProps$3=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$3(a))!__hasOwnProp$5.call(s,at)&&at!==et&&__defProp$6(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$3(a,at))||nt.enumerable});return s},__toCommonJS$2=s=>__copyProps$3(__defProp$6({},"__esModule",{value:!0}),s),bcs_exports={};__export$2(bcs_exports,{BcsType:()=>import_bcs3.BcsType,TypeTagSerializer:()=>import_type_tag_serializer.TypeTagSerializer,bcs:()=>suiBcs,pureBcsSchemaFromTypeName:()=>import_pure.pureBcsSchemaFromTypeName});var bcs=__toCommonJS$2(bcs_exports),import_bcs$2=require$$2$1,import_bcs2$1=bcs$1,import_effects=effects,import_type_tag_serializer=typeTagSerializer,import_bcs3=require$$2$1,import_pure=pure;const suiBcs={...import_bcs$2.bcs,U8:import_bcs$2.bcs.u8(),U16:import_bcs$2.bcs.u16(),U32:import_bcs$2.bcs.u32(),U64:import_bcs$2.bcs.u64(),U128:import_bcs$2.bcs.u128(),U256:import_bcs$2.bcs.u256(),ULEB128:import_bcs$2.bcs.uleb128(),Bool:import_bcs$2.bcs.bool(),String:import_bcs$2.bcs.string(),Address:import_bcs2$1.Address,AppId:import_bcs2$1.AppId,Argument:import_bcs2$1.Argument,CallArg:import_bcs2$1.CallArg,CompressedSignature:import_bcs2$1.CompressedSignature,GasData:import_bcs2$1.GasData,Intent:import_bcs2$1.Intent,IntentMessage:import_bcs2$1.IntentMessage,IntentScope:import_bcs2$1.IntentScope,IntentVersion:import_bcs2$1.IntentVersion,MultiSig:import_bcs2$1.MultiSig,MultiSigPkMap:import_bcs2$1.MultiSigPkMap,MultiSigPublicKey:import_bcs2$1.MultiSigPublicKey,ObjectArg:import_bcs2$1.ObjectArg,ObjectDigest:import_bcs2$1.ObjectDigest,ProgrammableMoveCall:import_bcs2$1.ProgrammableMoveCall,ProgrammableTransaction:import_bcs2$1.ProgrammableTransaction,PublicKey:import_bcs2$1.PublicKey,SenderSignedData:import_bcs2$1.SenderSignedData,SenderSignedTransaction:import_bcs2$1.SenderSignedTransaction,SharedObjectRef:import_bcs2$1.SharedObjectRef,StructTag:import_bcs2$1.StructTag,SuiObjectRef:import_bcs2$1.SuiObjectRef,Command:import_bcs2$1.Command,TransactionData:import_bcs2$1.TransactionData,TransactionDataV1:import_bcs2$1.TransactionDataV1,TransactionExpiration:import_bcs2$1.TransactionExpiration,TransactionKind:import_bcs2$1.TransactionKind,TypeTag:import_bcs2$1.TypeTag,TransactionEffects:import_effects.TransactionEffects,PasskeyAuthenticator:import_bcs2$1.PasskeyAuthenticator};var __defProp$5=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__getOwnPropNames$2=Object.getOwnPropertyNames,__hasOwnProp$4=Object.prototype.hasOwnProperty,__export$1=(s,a)=>{for(var et in a)__defProp$5(s,et,{get:a[et],enumerable:!0})},__copyProps$2=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$2(a))!__hasOwnProp$4.call(s,at)&&at!==et&&__defProp$5(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$2(a,at))||nt.enumerable});return s},__toCommonJS$1=s=>__copyProps$2(__defProp$5({},"__esModule",{value:!0}),s),dynamic_fields_exports={};__export$1(dynamic_fields_exports,{deriveDynamicFieldID:()=>deriveDynamicFieldID});var dynamicFields=__toCommonJS$1(dynamic_fields_exports),import_bcs$1=require$$2$1,import_blake2b=require$$1$2,import_bcs2=bcs;function deriveDynamicFieldID(s,a,et){const nt=import_bcs2.bcs.Address.serialize(s).toBytes(),at=import_bcs2.bcs.TypeTag.serialize(a).toBytes(),mt=import_bcs2.bcs.u64().serialize(et.length).toBytes(),wt=import_blake2b.blake2b.create({dkLen:32});return wt.update(new Uint8Array([240])),wt.update(nt),wt.update(mt),wt.update(et),wt.update(at),`0x${(0,import_bcs$1.toHex)(wt.digest().slice(0,32))}`}var __defProp$4=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__hasOwnProp$3=Object.prototype.hasOwnProperty,__export=(s,a)=>{for(var et in a)__defProp$4(s,et,{get:a[et],enumerable:!0})},__copyProps$1=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames$1(a))!__hasOwnProp$3.call(s,at)&&at!==et&&__defProp$4(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc$1(a,at))||nt.enumerable});return s},__toCommonJS=s=>__copyProps$1(__defProp$4({},"__esModule",{value:!0}),s),utils_exports={};__export(utils_exports,{MIST_PER_SUI:()=>import_constants.MIST_PER_SUI,MOVE_STDLIB_ADDRESS:()=>import_constants.MOVE_STDLIB_ADDRESS,SUI_ADDRESS_LENGTH:()=>import_sui_types.SUI_ADDRESS_LENGTH,SUI_CLOCK_OBJECT_ID:()=>import_constants.SUI_CLOCK_OBJECT_ID,SUI_DECIMALS:()=>import_constants.SUI_DECIMALS,SUI_FRAMEWORK_ADDRESS:()=>import_constants.SUI_FRAMEWORK_ADDRESS,SUI_SYSTEM_ADDRESS:()=>import_constants.SUI_SYSTEM_ADDRESS,SUI_SYSTEM_MODULE_NAME:()=>import_constants.SUI_SYSTEM_MODULE_NAME,SUI_SYSTEM_STATE_OBJECT_ID:()=>import_constants.SUI_SYSTEM_STATE_OBJECT_ID,SUI_TYPE_ARG:()=>import_constants.SUI_TYPE_ARG,deriveDynamicFieldID:()=>import_dynamic_fields.deriveDynamicFieldID,formatAddress:()=>import_format.formatAddress,formatDigest:()=>import_format.formatDigest,fromB64:()=>import_bcs.fromB64,fromBase58:()=>import_bcs.fromBase58,fromBase64:()=>import_bcs.fromBase64,fromHEX:()=>import_bcs.fromHEX,fromHex:()=>import_bcs.fromHex,isValidNamedPackage:()=>import_move_registry.isValidNamedPackage,isValidNamedType:()=>import_move_registry.isValidNamedType,isValidSuiAddress:()=>import_sui_types.isValidSuiAddress,isValidSuiNSName:()=>import_suins.isValidSuiNSName,isValidSuiObjectId:()=>import_sui_types.isValidSuiObjectId,isValidTransactionDigest:()=>import_sui_types.isValidTransactionDigest,normalizeStructTag:()=>import_sui_types.normalizeStructTag,normalizeSuiAddress:()=>import_sui_types.normalizeSuiAddress,normalizeSuiNSName:()=>import_suins.normalizeSuiNSName,normalizeSuiObjectId:()=>import_sui_types.normalizeSuiObjectId,parseStructTag:()=>import_sui_types.parseStructTag,toB64:()=>import_bcs.toB64,toBase58:()=>import_bcs.toBase58,toBase64:()=>import_bcs.toBase64,toHEX:()=>import_bcs.toHEX,toHex:()=>import_bcs.toHex});var utils$4=__toCommonJS(utils_exports),import_format=format$1,import_sui_types=suiTypes,import_bcs=require$$2$1,import_suins=suins,import_constants=constants$1,import_move_registry=moveRegistry,import_dynamic_fields=dynamicFields;Object.defineProperty(client,"__esModule",{value:!0});client.SuiPythClient=void 0;const utils_1=utils$4,bcs_1=bcs,buffer_1=require$$1$3,MAX_ARGUMENT_SIZE=16*1024;class SuiPythClient{constructor(a,et,nt){sn(this,"provider");sn(this,"pythStateId");sn(this,"wormholeStateId");sn(this,"pythPackageId");sn(this,"wormholePackageId");sn(this,"priceTableInfo");sn(this,"priceFeedObjectIdCache",new Map);sn(this,"baseUpdateFee");this.provider=a,this.pythStateId=et,this.wormholeStateId=nt,this.pythPackageId=void 0,this.wormholePackageId=void 0}async getBaseUpdateFee(){if(this.baseUpdateFee===void 0){const a=await this.provider.getObject({id:this.pythStateId,options:{showContent:!0}});if(!a.data||!a.data.content||a.data.content.dataType!=="moveObject")throw new Error("Unable to fetch pyth state object");this.baseUpdateFee=a.data.content.fields.base_update_fee}return this.baseUpdateFee}async getPackageId(a){const et=await this.provider.getObject({id:a,options:{showContent:!0}}).then(nt=>{var at,mt,wt;if(((mt=(at=nt.data)==null?void 0:at.content)==null?void 0:mt.dataType)=="moveObject")return nt.data.content.fields;throw console.log((wt=nt.data)==null?void 0:wt.content),new Error(`Cannot fetch package id for object ${a}`)});if("upgrade_cap"in et)return et.upgrade_cap.fields.package;throw new Error("upgrade_cap not found")}async verifyVaas(a,et){const nt=await this.getWormholePackageId(),at=[];for(const mt of a){const[wt]=et.moveCall({target:`${nt}::vaa::parse_and_verify`,arguments:[et.object(this.wormholeStateId),et.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(mt),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),et.object(utils_1.SUI_CLOCK_OBJECT_ID)]});at.push(wt)}return at}async updatePriceFeeds(a,et,nt){const at=await this.getPythPackageId();let mt;if(et.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const wt=this.extractVaaBytesFromAccumulatorMessage(et[0]),$t=await this.verifyVaas([wt],a);[mt]=a.moveCall({target:`${at}::pyth::create_authenticated_price_infos_using_accumulator`,arguments:[a.object(this.pythStateId),a.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(et[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),$t[0],a.object(utils_1.SUI_CLOCK_OBJECT_ID)]});const Ct=[],Dt=await this.getBaseUpdateFee(),Ft=a.splitCoins(a.gas,nt.map(()=>a.pure.u64(Dt)));let jt=0;for(const Nt of nt){const Lt=await this.getPriceFeedObjectId(Nt);if(!Lt)throw new Error(`Price feed ${Nt} not found, please create it first`);Ct.push(Lt),[mt]=a.moveCall({target:`${at}::pyth::update_single_price_feed`,arguments:[a.object(this.pythStateId),mt,a.object(Lt),Ft[jt],a.object(utils_1.SUI_CLOCK_OBJECT_ID)]}),jt++}return a.moveCall({target:`${at}::hot_potato_vector::destroy`,arguments:[mt],typeArguments:[`${at}::price_info::PriceInfo`]}),Ct}async createPriceFeed(a,et){const nt=await this.getPythPackageId();if(et.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");const at=this.extractVaaBytesFromAccumulatorMessage(et[0]),mt=await this.verifyVaas([at],a);a.moveCall({target:`${nt}::pyth::create_price_feeds_using_accumulator`,arguments:[a.object(this.pythStateId),a.pure(bcs_1.bcs.vector(bcs_1.bcs.U8).serialize(Array.from(et[0]),{maxSize:MAX_ARGUMENT_SIZE}).toBytes()),mt[0],a.object(utils_1.SUI_CLOCK_OBJECT_ID)]})}async getWormholePackageId(){return this.wormholePackageId||(this.wormholePackageId=await this.getPackageId(this.wormholeStateId)),this.wormholePackageId}async getPythPackageId(){return this.pythPackageId||(this.pythPackageId=await this.getPackageId(this.pythStateId)),this.pythPackageId}async getPriceFeedObjectId(a){const et=a.replace("0x","");if(!this.priceFeedObjectIdCache.has(et)){const{id:nt,fieldType:at}=await this.getPriceTableInfo(),mt=await this.provider.getDynamicFieldObject({parentId:nt,name:{type:`${at}::price_identifier::PriceIdentifier`,value:{bytes:Array.from(buffer_1.Buffer.from(et,"hex"))}}});if(!mt.data||!mt.data.content)return;if(mt.data.content.dataType!=="moveObject")throw new Error("Price feed type mismatch");this.priceFeedObjectIdCache.set(et,mt.data.content.fields.value)}return this.priceFeedObjectIdCache.get(et)}async getPriceTableInfo(){if(this.priceTableInfo===void 0){const a=await this.provider.getDynamicFieldObject({parentId:this.pythStateId,name:{type:"vector<u8>",value:"price_info"}});if(!a.data||!a.data.type)throw new Error("Price Table not found, contract may not be initialized");let et=a.data.type.replace("0x2::table::Table<","");et=et.replace("::price_identifier::PriceIdentifier, 0x2::object::ID>",""),this.priceTableInfo={id:a.data.objectId,fieldType:et}}return this.priceTableInfo}extractVaaBytesFromAccumulatorMessage(a){const nt=7+a.readUint8(6)+1,at=a.readUint16BE(nt),mt=nt+2;return a.subarray(mt,mt+at)}}client.SuiPythClient=SuiPythClient;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.PriceFeed=s.Price=s.SuiPythClient=s.SuiPriceServiceConnection=void 0;var a=SuiPriceServiceConnection$1;Object.defineProperty(s,"SuiPriceServiceConnection",{enumerable:!0,get:function(){return a.SuiPriceServiceConnection}});var et=client;Object.defineProperty(s,"SuiPythClient",{enumerable:!0,get:function(){return et.SuiPythClient}});var nt=lib$2;Object.defineProperty(s,"Price",{enumerable:!0,get:function(){return nt.Price}}),Object.defineProperty(s,"PriceFeed",{enumerable:!0,get:function(){return nt.PriceFeed}})})(lib$3);var __create=Object.create,__defProp$3=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(s,a,et)=>a in s?__defProp$3(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__spreadValues$2=(s,a)=>{for(var et in a||(a={}))__hasOwnProp$2.call(a,et)&&__defNormalProp$3(s,et,a[et]);if(__getOwnPropSymbols$2)for(var et of __getOwnPropSymbols$2(a))__propIsEnum$2.call(a,et)&&__defNormalProp$3(s,et,a[et]);return s},__spreadProps$1=(s,a)=>__defProps$1(s,__getOwnPropDescs$1(a)),__require=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(a,et)=>(typeof require<"u"?require:a)[et]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')}),__commonJS=(s,a)=>function(){return a||(0,s[__getOwnPropNames(s)[0]])((a={exports:{}}).exports,a),a.exports},__copyProps=(s,a,et,nt)=>{if(a&&typeof a=="object"||typeof a=="function")for(let at of __getOwnPropNames(a))!__hasOwnProp$2.call(s,at)&&at!==et&&__defProp$3(s,at,{get:()=>a[at],enumerable:!(nt=__getOwnPropDesc(a,at))||nt.enumerable});return s},__toESM=(s,a,et)=>(et=s!=null?__create(__getProtoOf(s)):{},__copyProps(!s||!s.__esModule?__defProp$3(et,"default",{value:s,enumerable:!0}):et,s)),__async=(s,a,et)=>new Promise((nt,at)=>{var mt=Ct=>{try{$t(et.next(Ct))}catch(Dt){at(Dt)}},wt=Ct=>{try{$t(et.throw(Ct))}catch(Dt){at(Dt)}},$t=Ct=>Ct.done?nt(Ct.value):Promise.resolve(Ct.value).then(mt,wt);$t((et=et.apply(s,a)).next())}),require_bn=__commonJS({"node_modules/bn.js/lib/bn.js"(s,a){(function(et,nt){function at(ir,rr){if(!ir)throw new Error(rr||"Assertion failed")}function mt(ir,rr){ir.super_=rr;var or=function(){};or.prototype=rr.prototype,ir.prototype=new or,ir.prototype.constructor=ir}function wt(ir,rr,or){if(wt.isBN(ir))return ir;this.negative=0,this.words=null,this.length=0,this.red=null,ir!==null&&((rr==="le"||rr==="be")&&(or=rr,rr=10),this._init(ir||0,rr||10,or||"be"))}typeof et=="object"?et.exports=wt:nt.BN=wt,wt.BN=wt,wt.wordSize=26;var $t;try{typeof window<"u"&&typeof window.Buffer<"u"?$t=window.Buffer:$t=__require("buffer").Buffer}catch{}wt.isBN=function(rr){return rr instanceof wt?!0:rr!==null&&typeof rr=="object"&&rr.constructor.wordSize===wt.wordSize&&Array.isArray(rr.words)},wt.max=function(rr,or){return rr.cmp(or)>0?rr:or},wt.min=function(rr,or){return rr.cmp(or)<0?rr:or},wt.prototype._init=function(rr,or,ar){if(typeof rr=="number")return this._initNumber(rr,or,ar);if(typeof rr=="object")return this._initArray(rr,or,ar);or==="hex"&&(or=16),at(or===(or|0)&&or>=2&&or<=36),rr=rr.toString().replace(/\s+/g,"");var ur=0;rr[0]==="-"&&(ur++,this.negative=1),ur<rr.length&&(or===16?this._parseHex(rr,ur,ar):(this._parseBase(rr,or,ur),ar==="le"&&this._initArray(this.toArray(),or,ar)))},wt.prototype._initNumber=function(rr,or,ar){rr<0&&(this.negative=1,rr=-rr),rr<67108864?(this.words=[rr&67108863],this.length=1):rr<4503599627370496?(this.words=[rr&67108863,rr/67108864&67108863],this.length=2):(at(rr<9007199254740992),this.words=[rr&67108863,rr/67108864&67108863,1],this.length=3),ar==="le"&&this._initArray(this.toArray(),or,ar)},wt.prototype._initArray=function(rr,or,ar){if(at(typeof rr.length=="number"),rr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(rr.length/3),this.words=new Array(this.length);for(var ur=0;ur<this.length;ur++)this.words[ur]=0;var pr,cr,gr=0;if(ar==="be")for(ur=rr.length-1,pr=0;ur>=0;ur-=3)cr=rr[ur]|rr[ur-1]<<8|rr[ur-2]<<16,this.words[pr]|=cr<<gr&67108863,this.words[pr+1]=cr>>>26-gr&67108863,gr+=24,gr>=26&&(gr-=26,pr++);else if(ar==="le")for(ur=0,pr=0;ur<rr.length;ur+=3)cr=rr[ur]|rr[ur+1]<<8|rr[ur+2]<<16,this.words[pr]|=cr<<gr&67108863,this.words[pr+1]=cr>>>26-gr&67108863,gr+=24,gr>=26&&(gr-=26,pr++);return this._strip()};function Ct(ir,rr){var or=ir.charCodeAt(rr);if(or>=48&&or<=57)return or-48;if(or>=65&&or<=70)return or-55;if(or>=97&&or<=102)return or-87;at(!1,"Invalid character in "+ir)}function Dt(ir,rr,or){var ar=Ct(ir,or);return or-1>=rr&&(ar|=Ct(ir,or-1)<<4),ar}wt.prototype._parseHex=function(rr,or,ar){this.length=Math.ceil((rr.length-or)/6),this.words=new Array(this.length);for(var ur=0;ur<this.length;ur++)this.words[ur]=0;var pr=0,cr=0,gr;if(ar==="be")for(ur=rr.length-1;ur>=or;ur-=2)gr=Dt(rr,or,ur)<<pr,this.words[cr]|=gr&67108863,pr>=18?(pr-=18,cr+=1,this.words[cr]|=gr>>>26):pr+=8;else{var hr=rr.length-or;for(ur=hr%2===0?or+1:or;ur<rr.length;ur+=2)gr=Dt(rr,or,ur)<<pr,this.words[cr]|=gr&67108863,pr>=18?(pr-=18,cr+=1,this.words[cr]|=gr>>>26):pr+=8}this._strip()};function Ft(ir,rr,or,ar){for(var ur=0,pr=0,cr=Math.min(ir.length,or),gr=rr;gr<cr;gr++){var hr=ir.charCodeAt(gr)-48;ur*=ar,hr>=49?pr=hr-49+10:hr>=17?pr=hr-17+10:pr=hr,at(hr>=0&&pr<ar,"Invalid character"),ur+=pr}return ur}wt.prototype._parseBase=function(rr,or,ar){this.words=[0],this.length=1;for(var ur=0,pr=1;pr<=67108863;pr*=or)ur++;ur--,pr=pr/or|0;for(var cr=rr.length-ar,gr=cr%ur,hr=Math.min(cr,cr-gr)+ar,lr=0,xr=ar;xr<hr;xr+=ur)lr=Ft(rr,xr,xr+ur,or),this.imuln(pr),this.words[0]+lr<67108864?this.words[0]+=lr:this._iaddn(lr);if(gr!==0){var Mr=1;for(lr=Ft(rr,xr,rr.length,or),xr=0;xr<gr;xr++)Mr*=or;this.imuln(Mr),this.words[0]+lr<67108864?this.words[0]+=lr:this._iaddn(lr)}this._strip()},wt.prototype.copy=function(rr){rr.words=new Array(this.length);for(var or=0;or<this.length;or++)rr.words[or]=this.words[or];rr.length=this.length,rr.negative=this.negative,rr.red=this.red};function jt(ir,rr){ir.words=rr.words,ir.length=rr.length,ir.negative=rr.negative,ir.red=rr.red}if(wt.prototype._move=function(rr){jt(rr,this)},wt.prototype.clone=function(){var rr=new wt(null);return this.copy(rr),rr},wt.prototype._expand=function(rr){for(;this.length<rr;)this.words[this.length++]=0;return this},wt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},wt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{wt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Nt}catch{wt.prototype.inspect=Nt}else wt.prototype.inspect=Nt;function Nt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Lt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ut=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Vt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];wt.prototype.toString=function(rr,or){rr=rr||10,or=or|0||1;var ar;if(rr===16||rr==="hex"){ar="";for(var ur=0,pr=0,cr=0;cr<this.length;cr++){var gr=this.words[cr],hr=((gr<<ur|pr)&16777215).toString(16);pr=gr>>>24-ur&16777215,ur+=2,ur>=26&&(ur-=26,cr--),pr!==0||cr!==this.length-1?ar=Lt[6-hr.length]+hr+ar:ar=hr+ar}for(pr!==0&&(ar=pr.toString(16)+ar);ar.length%or!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}if(rr===(rr|0)&&rr>=2&&rr<=36){var lr=Ut[rr],xr=Vt[rr];ar="";var Mr=this.clone();for(Mr.negative=0;!Mr.isZero();){var Pr=Mr.modrn(xr).toString(rr);Mr=Mr.idivn(xr),Mr.isZero()?ar=Pr+ar:ar=Lt[lr-Pr.length]+Pr+ar}for(this.isZero()&&(ar="0"+ar);ar.length%or!==0;)ar="0"+ar;return this.negative!==0&&(ar="-"+ar),ar}at(!1,"Base should be between 2 and 36")},wt.prototype.toNumber=function(){var rr=this.words[0];return this.length===2?rr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?rr+=4503599627370496+this.words[1]*67108864:this.length>2&&at(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-rr:rr},wt.prototype.toJSON=function(){return this.toString(16,2)},$t&&(wt.prototype.toBuffer=function(rr,or){return this.toArrayLike($t,rr,or)}),wt.prototype.toArray=function(rr,or){return this.toArrayLike(Array,rr,or)};var Yt=function(rr,or){return rr.allocUnsafe?rr.allocUnsafe(or):new rr(or)};wt.prototype.toArrayLike=function(rr,or,ar){this._strip();var ur=this.byteLength(),pr=ar||Math.max(1,ur);at(ur<=pr,"byte array longer than desired length"),at(pr>0,"Requested array length <= 0");var cr=Yt(rr,pr),gr=or==="le"?"LE":"BE";return this["_toArrayLike"+gr](cr,ur),cr},wt.prototype._toArrayLikeLE=function(rr,or){for(var ar=0,ur=0,pr=0,cr=0;pr<this.length;pr++){var gr=this.words[pr]<<cr|ur;rr[ar++]=gr&255,ar<rr.length&&(rr[ar++]=gr>>8&255),ar<rr.length&&(rr[ar++]=gr>>16&255),cr===6?(ar<rr.length&&(rr[ar++]=gr>>24&255),ur=0,cr=0):(ur=gr>>>24,cr+=2)}if(ar<rr.length)for(rr[ar++]=ur;ar<rr.length;)rr[ar++]=0},wt.prototype._toArrayLikeBE=function(rr,or){for(var ar=rr.length-1,ur=0,pr=0,cr=0;pr<this.length;pr++){var gr=this.words[pr]<<cr|ur;rr[ar--]=gr&255,ar>=0&&(rr[ar--]=gr>>8&255),ar>=0&&(rr[ar--]=gr>>16&255),cr===6?(ar>=0&&(rr[ar--]=gr>>24&255),ur=0,cr=0):(ur=gr>>>24,cr+=2)}if(ar>=0)for(rr[ar--]=ur;ar>=0;)rr[ar--]=0},Math.clz32?wt.prototype._countBits=function(rr){return 32-Math.clz32(rr)}:wt.prototype._countBits=function(rr){var or=rr,ar=0;return or>=4096&&(ar+=13,or>>>=13),or>=64&&(ar+=7,or>>>=7),or>=8&&(ar+=4,or>>>=4),or>=2&&(ar+=2,or>>>=2),ar+or},wt.prototype._zeroBits=function(rr){if(rr===0)return 26;var or=rr,ar=0;return or&8191||(ar+=13,or>>>=13),or&127||(ar+=7,or>>>=7),or&15||(ar+=4,or>>>=4),or&3||(ar+=2,or>>>=2),or&1||ar++,ar},wt.prototype.bitLength=function(){var rr=this.words[this.length-1],or=this._countBits(rr);return(this.length-1)*26+or};function er(ir){for(var rr=new Array(ir.bitLength()),or=0;or<rr.length;or++){var ar=or/26|0,ur=or%26;rr[or]=ir.words[ar]>>>ur&1}return rr}wt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var rr=0,or=0;or<this.length;or++){var ar=this._zeroBits(this.words[or]);if(rr+=ar,ar!==26)break}return rr},wt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},wt.prototype.toTwos=function(rr){return this.negative!==0?this.abs().inotn(rr).iaddn(1):this.clone()},wt.prototype.fromTwos=function(rr){return this.testn(rr-1)?this.notn(rr).iaddn(1).ineg():this.clone()},wt.prototype.isNeg=function(){return this.negative!==0},wt.prototype.neg=function(){return this.clone().ineg()},wt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},wt.prototype.iuor=function(rr){for(;this.length<rr.length;)this.words[this.length++]=0;for(var or=0;or<rr.length;or++)this.words[or]=this.words[or]|rr.words[or];return this._strip()},wt.prototype.ior=function(rr){return at((this.negative|rr.negative)===0),this.iuor(rr)},wt.prototype.or=function(rr){return this.length>rr.length?this.clone().ior(rr):rr.clone().ior(this)},wt.prototype.uor=function(rr){return this.length>rr.length?this.clone().iuor(rr):rr.clone().iuor(this)},wt.prototype.iuand=function(rr){var or;this.length>rr.length?or=rr:or=this;for(var ar=0;ar<or.length;ar++)this.words[ar]=this.words[ar]&rr.words[ar];return this.length=or.length,this._strip()},wt.prototype.iand=function(rr){return at((this.negative|rr.negative)===0),this.iuand(rr)},wt.prototype.and=function(rr){return this.length>rr.length?this.clone().iand(rr):rr.clone().iand(this)},wt.prototype.uand=function(rr){return this.length>rr.length?this.clone().iuand(rr):rr.clone().iuand(this)},wt.prototype.iuxor=function(rr){var or,ar;this.length>rr.length?(or=this,ar=rr):(or=rr,ar=this);for(var ur=0;ur<ar.length;ur++)this.words[ur]=or.words[ur]^ar.words[ur];if(this!==or)for(;ur<or.length;ur++)this.words[ur]=or.words[ur];return this.length=or.length,this._strip()},wt.prototype.ixor=function(rr){return at((this.negative|rr.negative)===0),this.iuxor(rr)},wt.prototype.xor=function(rr){return this.length>rr.length?this.clone().ixor(rr):rr.clone().ixor(this)},wt.prototype.uxor=function(rr){return this.length>rr.length?this.clone().iuxor(rr):rr.clone().iuxor(this)},wt.prototype.inotn=function(rr){at(typeof rr=="number"&&rr>=0);var or=Math.ceil(rr/26)|0,ar=rr%26;this._expand(or),ar>0&&or--;for(var ur=0;ur<or;ur++)this.words[ur]=~this.words[ur]&67108863;return ar>0&&(this.words[ur]=~this.words[ur]&67108863>>26-ar),this._strip()},wt.prototype.notn=function(rr){return this.clone().inotn(rr)},wt.prototype.setn=function(rr,or){at(typeof rr=="number"&&rr>=0);var ar=rr/26|0,ur=rr%26;return this._expand(ar+1),or?this.words[ar]=this.words[ar]|1<<ur:this.words[ar]=this.words[ar]&~(1<<ur),this._strip()},wt.prototype.iadd=function(rr){var or;if(this.negative!==0&&rr.negative===0)return this.negative=0,or=this.isub(rr),this.negative^=1,this._normSign();if(this.negative===0&&rr.negative!==0)return rr.negative=0,or=this.isub(rr),rr.negative=1,or._normSign();var ar,ur;this.length>rr.length?(ar=this,ur=rr):(ar=rr,ur=this);for(var pr=0,cr=0;cr<ur.length;cr++)or=(ar.words[cr]|0)+(ur.words[cr]|0)+pr,this.words[cr]=or&67108863,pr=or>>>26;for(;pr!==0&&cr<ar.length;cr++)or=(ar.words[cr]|0)+pr,this.words[cr]=or&67108863,pr=or>>>26;if(this.length=ar.length,pr!==0)this.words[this.length]=pr,this.length++;else if(ar!==this)for(;cr<ar.length;cr++)this.words[cr]=ar.words[cr];return this},wt.prototype.add=function(rr){var or;return rr.negative!==0&&this.negative===0?(rr.negative=0,or=this.sub(rr),rr.negative^=1,or):rr.negative===0&&this.negative!==0?(this.negative=0,or=rr.sub(this),this.negative=1,or):this.length>rr.length?this.clone().iadd(rr):rr.clone().iadd(this)},wt.prototype.isub=function(rr){if(rr.negative!==0){rr.negative=0;var or=this.iadd(rr);return rr.negative=1,or._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(rr),this.negative=1,this._normSign();var ar=this.cmp(rr);if(ar===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ur,pr;ar>0?(ur=this,pr=rr):(ur=rr,pr=this);for(var cr=0,gr=0;gr<pr.length;gr++)or=(ur.words[gr]|0)-(pr.words[gr]|0)+cr,cr=or>>26,this.words[gr]=or&67108863;for(;cr!==0&&gr<ur.length;gr++)or=(ur.words[gr]|0)+cr,cr=or>>26,this.words[gr]=or&67108863;if(cr===0&&gr<ur.length&&ur!==this)for(;gr<ur.length;gr++)this.words[gr]=ur.words[gr];return this.length=Math.max(this.length,gr),ur!==this&&(this.negative=1),this._strip()},wt.prototype.sub=function(rr){return this.clone().isub(rr)};function tr(ir,rr,or){or.negative=rr.negative^ir.negative;var ar=ir.length+rr.length|0;or.length=ar,ar=ar-1|0;var ur=ir.words[0]|0,pr=rr.words[0]|0,cr=ur*pr,gr=cr&67108863,hr=cr/67108864|0;or.words[0]=gr;for(var lr=1;lr<ar;lr++){for(var xr=hr>>>26,Mr=hr&67108863,Pr=Math.min(lr,rr.length-1),Ar=Math.max(0,lr-ir.length+1);Ar<=Pr;Ar++){var Ir=lr-Ar|0;ur=ir.words[Ir]|0,pr=rr.words[Ar]|0,cr=ur*pr+Mr,xr+=cr/67108864|0,Mr=cr&67108863}or.words[lr]=Mr|0,hr=xr|0}return hr!==0?or.words[lr]=hr|0:or.length--,or._strip()}var nr=function(rr,or,ar){var ur=rr.words,pr=or.words,cr=ar.words,gr=0,hr,lr,xr,Mr=ur[0]|0,Pr=Mr&8191,Ar=Mr>>>13,Ir=ur[1]|0,qr=Ir&8191,Rr=Ir>>>13,Tr=ur[2]|0,Er=Tr&8191,Br=Tr>>>13,Nr=ur[3]|0,zr=Nr&8191,Hr=Nr>>>13,jr=ur[4]|0,Ur=jr&8191,Fr=jr>>>13,Gr=ur[5]|0,Wr=Gr&8191,nn=Gr>>>13,Ln=ur[6]|0,Un=Ln&8191,Wn=Ln>>>13,io=ur[7]|0,zn=io&8191,Zn=io>>>13,bo=ur[8]|0,Or=bo&8191,Cr=bo>>>13,kr=ur[9]|0,Lr=kr&8191,Zr=kr>>>13,an=pr[0]|0,rn=an&8191,Yn=an>>>13,yo=pr[1]|0,ro=yo&8191,so=yo>>>13,vo=pr[2]|0,po=vo&8191,$o=vo>>>13,Mo=pr[3]|0,_o=Mo&8191,Eo=Mo>>>13,Do=pr[4]|0,mo=Do&8191,So=Do>>>13,Fo=pr[5]|0,Yr=Fo&8191,Qr=Fo>>>13,Cn=pr[6]|0,Nn=Cn&8191,Hn=Cn>>>13,lo=pr[7]|0,Qn=lo&8191,Jn=lo>>>13,oo=pr[8]|0,Gn=oo&8191,_i=oo>>>13,go=pr[9]|0,fo=go&8191,Co=go>>>13;ar.negative=rr.negative^or.negative,ar.length=19,hr=Math.imul(Pr,rn),lr=Math.imul(Pr,Yn),lr=lr+Math.imul(Ar,rn)|0,xr=Math.imul(Ar,Yn);var ko=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(ko>>>26)|0,ko&=67108863,hr=Math.imul(qr,rn),lr=Math.imul(qr,Yn),lr=lr+Math.imul(Rr,rn)|0,xr=Math.imul(Rr,Yn),hr=hr+Math.imul(Pr,ro)|0,lr=lr+Math.imul(Pr,so)|0,lr=lr+Math.imul(Ar,ro)|0,xr=xr+Math.imul(Ar,so)|0;var Ao=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,hr=Math.imul(Er,rn),lr=Math.imul(Er,Yn),lr=lr+Math.imul(Br,rn)|0,xr=Math.imul(Br,Yn),hr=hr+Math.imul(qr,ro)|0,lr=lr+Math.imul(qr,so)|0,lr=lr+Math.imul(Rr,ro)|0,xr=xr+Math.imul(Rr,so)|0,hr=hr+Math.imul(Pr,po)|0,lr=lr+Math.imul(Pr,$o)|0,lr=lr+Math.imul(Ar,po)|0,xr=xr+Math.imul(Ar,$o)|0;var Oo=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,hr=Math.imul(zr,rn),lr=Math.imul(zr,Yn),lr=lr+Math.imul(Hr,rn)|0,xr=Math.imul(Hr,Yn),hr=hr+Math.imul(Er,ro)|0,lr=lr+Math.imul(Er,so)|0,lr=lr+Math.imul(Br,ro)|0,xr=xr+Math.imul(Br,so)|0,hr=hr+Math.imul(qr,po)|0,lr=lr+Math.imul(qr,$o)|0,lr=lr+Math.imul(Rr,po)|0,xr=xr+Math.imul(Rr,$o)|0,hr=hr+Math.imul(Pr,_o)|0,lr=lr+Math.imul(Pr,Eo)|0,lr=lr+Math.imul(Ar,_o)|0,xr=xr+Math.imul(Ar,Eo)|0;var Xo=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,hr=Math.imul(Ur,rn),lr=Math.imul(Ur,Yn),lr=lr+Math.imul(Fr,rn)|0,xr=Math.imul(Fr,Yn),hr=hr+Math.imul(zr,ro)|0,lr=lr+Math.imul(zr,so)|0,lr=lr+Math.imul(Hr,ro)|0,xr=xr+Math.imul(Hr,so)|0,hr=hr+Math.imul(Er,po)|0,lr=lr+Math.imul(Er,$o)|0,lr=lr+Math.imul(Br,po)|0,xr=xr+Math.imul(Br,$o)|0,hr=hr+Math.imul(qr,_o)|0,lr=lr+Math.imul(qr,Eo)|0,lr=lr+Math.imul(Rr,_o)|0,xr=xr+Math.imul(Rr,Eo)|0,hr=hr+Math.imul(Pr,mo)|0,lr=lr+Math.imul(Pr,So)|0,lr=lr+Math.imul(Ar,mo)|0,xr=xr+Math.imul(Ar,So)|0;var es=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(es>>>26)|0,es&=67108863,hr=Math.imul(Wr,rn),lr=Math.imul(Wr,Yn),lr=lr+Math.imul(nn,rn)|0,xr=Math.imul(nn,Yn),hr=hr+Math.imul(Ur,ro)|0,lr=lr+Math.imul(Ur,so)|0,lr=lr+Math.imul(Fr,ro)|0,xr=xr+Math.imul(Fr,so)|0,hr=hr+Math.imul(zr,po)|0,lr=lr+Math.imul(zr,$o)|0,lr=lr+Math.imul(Hr,po)|0,xr=xr+Math.imul(Hr,$o)|0,hr=hr+Math.imul(Er,_o)|0,lr=lr+Math.imul(Er,Eo)|0,lr=lr+Math.imul(Br,_o)|0,xr=xr+Math.imul(Br,Eo)|0,hr=hr+Math.imul(qr,mo)|0,lr=lr+Math.imul(qr,So)|0,lr=lr+Math.imul(Rr,mo)|0,xr=xr+Math.imul(Rr,So)|0,hr=hr+Math.imul(Pr,Yr)|0,lr=lr+Math.imul(Pr,Qr)|0,lr=lr+Math.imul(Ar,Yr)|0,xr=xr+Math.imul(Ar,Qr)|0;var Ho=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,hr=Math.imul(Un,rn),lr=Math.imul(Un,Yn),lr=lr+Math.imul(Wn,rn)|0,xr=Math.imul(Wn,Yn),hr=hr+Math.imul(Wr,ro)|0,lr=lr+Math.imul(Wr,so)|0,lr=lr+Math.imul(nn,ro)|0,xr=xr+Math.imul(nn,so)|0,hr=hr+Math.imul(Ur,po)|0,lr=lr+Math.imul(Ur,$o)|0,lr=lr+Math.imul(Fr,po)|0,xr=xr+Math.imul(Fr,$o)|0,hr=hr+Math.imul(zr,_o)|0,lr=lr+Math.imul(zr,Eo)|0,lr=lr+Math.imul(Hr,_o)|0,xr=xr+Math.imul(Hr,Eo)|0,hr=hr+Math.imul(Er,mo)|0,lr=lr+Math.imul(Er,So)|0,lr=lr+Math.imul(Br,mo)|0,xr=xr+Math.imul(Br,So)|0,hr=hr+Math.imul(qr,Yr)|0,lr=lr+Math.imul(qr,Qr)|0,lr=lr+Math.imul(Rr,Yr)|0,xr=xr+Math.imul(Rr,Qr)|0,hr=hr+Math.imul(Pr,Nn)|0,lr=lr+Math.imul(Pr,Hn)|0,lr=lr+Math.imul(Ar,Nn)|0,xr=xr+Math.imul(Ar,Hn)|0;var No=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(No>>>26)|0,No&=67108863,hr=Math.imul(zn,rn),lr=Math.imul(zn,Yn),lr=lr+Math.imul(Zn,rn)|0,xr=Math.imul(Zn,Yn),hr=hr+Math.imul(Un,ro)|0,lr=lr+Math.imul(Un,so)|0,lr=lr+Math.imul(Wn,ro)|0,xr=xr+Math.imul(Wn,so)|0,hr=hr+Math.imul(Wr,po)|0,lr=lr+Math.imul(Wr,$o)|0,lr=lr+Math.imul(nn,po)|0,xr=xr+Math.imul(nn,$o)|0,hr=hr+Math.imul(Ur,_o)|0,lr=lr+Math.imul(Ur,Eo)|0,lr=lr+Math.imul(Fr,_o)|0,xr=xr+Math.imul(Fr,Eo)|0,hr=hr+Math.imul(zr,mo)|0,lr=lr+Math.imul(zr,So)|0,lr=lr+Math.imul(Hr,mo)|0,xr=xr+Math.imul(Hr,So)|0,hr=hr+Math.imul(Er,Yr)|0,lr=lr+Math.imul(Er,Qr)|0,lr=lr+Math.imul(Br,Yr)|0,xr=xr+Math.imul(Br,Qr)|0,hr=hr+Math.imul(qr,Nn)|0,lr=lr+Math.imul(qr,Hn)|0,lr=lr+Math.imul(Rr,Nn)|0,xr=xr+Math.imul(Rr,Hn)|0,hr=hr+Math.imul(Pr,Qn)|0,lr=lr+Math.imul(Pr,Jn)|0,lr=lr+Math.imul(Ar,Qn)|0,xr=xr+Math.imul(Ar,Jn)|0;var rs=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(rs>>>26)|0,rs&=67108863,hr=Math.imul(Or,rn),lr=Math.imul(Or,Yn),lr=lr+Math.imul(Cr,rn)|0,xr=Math.imul(Cr,Yn),hr=hr+Math.imul(zn,ro)|0,lr=lr+Math.imul(zn,so)|0,lr=lr+Math.imul(Zn,ro)|0,xr=xr+Math.imul(Zn,so)|0,hr=hr+Math.imul(Un,po)|0,lr=lr+Math.imul(Un,$o)|0,lr=lr+Math.imul(Wn,po)|0,xr=xr+Math.imul(Wn,$o)|0,hr=hr+Math.imul(Wr,_o)|0,lr=lr+Math.imul(Wr,Eo)|0,lr=lr+Math.imul(nn,_o)|0,xr=xr+Math.imul(nn,Eo)|0,hr=hr+Math.imul(Ur,mo)|0,lr=lr+Math.imul(Ur,So)|0,lr=lr+Math.imul(Fr,mo)|0,xr=xr+Math.imul(Fr,So)|0,hr=hr+Math.imul(zr,Yr)|0,lr=lr+Math.imul(zr,Qr)|0,lr=lr+Math.imul(Hr,Yr)|0,xr=xr+Math.imul(Hr,Qr)|0,hr=hr+Math.imul(Er,Nn)|0,lr=lr+Math.imul(Er,Hn)|0,lr=lr+Math.imul(Br,Nn)|0,xr=xr+Math.imul(Br,Hn)|0,hr=hr+Math.imul(qr,Qn)|0,lr=lr+Math.imul(qr,Jn)|0,lr=lr+Math.imul(Rr,Qn)|0,xr=xr+Math.imul(Rr,Jn)|0,hr=hr+Math.imul(Pr,Gn)|0,lr=lr+Math.imul(Pr,_i)|0,lr=lr+Math.imul(Ar,Gn)|0,xr=xr+Math.imul(Ar,_i)|0;var Go=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Go>>>26)|0,Go&=67108863,hr=Math.imul(Lr,rn),lr=Math.imul(Lr,Yn),lr=lr+Math.imul(Zr,rn)|0,xr=Math.imul(Zr,Yn),hr=hr+Math.imul(Or,ro)|0,lr=lr+Math.imul(Or,so)|0,lr=lr+Math.imul(Cr,ro)|0,xr=xr+Math.imul(Cr,so)|0,hr=hr+Math.imul(zn,po)|0,lr=lr+Math.imul(zn,$o)|0,lr=lr+Math.imul(Zn,po)|0,xr=xr+Math.imul(Zn,$o)|0,hr=hr+Math.imul(Un,_o)|0,lr=lr+Math.imul(Un,Eo)|0,lr=lr+Math.imul(Wn,_o)|0,xr=xr+Math.imul(Wn,Eo)|0,hr=hr+Math.imul(Wr,mo)|0,lr=lr+Math.imul(Wr,So)|0,lr=lr+Math.imul(nn,mo)|0,xr=xr+Math.imul(nn,So)|0,hr=hr+Math.imul(Ur,Yr)|0,lr=lr+Math.imul(Ur,Qr)|0,lr=lr+Math.imul(Fr,Yr)|0,xr=xr+Math.imul(Fr,Qr)|0,hr=hr+Math.imul(zr,Nn)|0,lr=lr+Math.imul(zr,Hn)|0,lr=lr+Math.imul(Hr,Nn)|0,xr=xr+Math.imul(Hr,Hn)|0,hr=hr+Math.imul(Er,Qn)|0,lr=lr+Math.imul(Er,Jn)|0,lr=lr+Math.imul(Br,Qn)|0,xr=xr+Math.imul(Br,Jn)|0,hr=hr+Math.imul(qr,Gn)|0,lr=lr+Math.imul(qr,_i)|0,lr=lr+Math.imul(Rr,Gn)|0,xr=xr+Math.imul(Rr,_i)|0,hr=hr+Math.imul(Pr,fo)|0,lr=lr+Math.imul(Pr,Co)|0,lr=lr+Math.imul(Ar,fo)|0,xr=xr+Math.imul(Ar,Co)|0;var Zo=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,hr=Math.imul(Lr,ro),lr=Math.imul(Lr,so),lr=lr+Math.imul(Zr,ro)|0,xr=Math.imul(Zr,so),hr=hr+Math.imul(Or,po)|0,lr=lr+Math.imul(Or,$o)|0,lr=lr+Math.imul(Cr,po)|0,xr=xr+Math.imul(Cr,$o)|0,hr=hr+Math.imul(zn,_o)|0,lr=lr+Math.imul(zn,Eo)|0,lr=lr+Math.imul(Zn,_o)|0,xr=xr+Math.imul(Zn,Eo)|0,hr=hr+Math.imul(Un,mo)|0,lr=lr+Math.imul(Un,So)|0,lr=lr+Math.imul(Wn,mo)|0,xr=xr+Math.imul(Wn,So)|0,hr=hr+Math.imul(Wr,Yr)|0,lr=lr+Math.imul(Wr,Qr)|0,lr=lr+Math.imul(nn,Yr)|0,xr=xr+Math.imul(nn,Qr)|0,hr=hr+Math.imul(Ur,Nn)|0,lr=lr+Math.imul(Ur,Hn)|0,lr=lr+Math.imul(Fr,Nn)|0,xr=xr+Math.imul(Fr,Hn)|0,hr=hr+Math.imul(zr,Qn)|0,lr=lr+Math.imul(zr,Jn)|0,lr=lr+Math.imul(Hr,Qn)|0,xr=xr+Math.imul(Hr,Jn)|0,hr=hr+Math.imul(Er,Gn)|0,lr=lr+Math.imul(Er,_i)|0,lr=lr+Math.imul(Br,Gn)|0,xr=xr+Math.imul(Br,_i)|0,hr=hr+Math.imul(qr,fo)|0,lr=lr+Math.imul(qr,Co)|0,lr=lr+Math.imul(Rr,fo)|0,xr=xr+Math.imul(Rr,Co)|0;var ga=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(ga>>>26)|0,ga&=67108863,hr=Math.imul(Lr,po),lr=Math.imul(Lr,$o),lr=lr+Math.imul(Zr,po)|0,xr=Math.imul(Zr,$o),hr=hr+Math.imul(Or,_o)|0,lr=lr+Math.imul(Or,Eo)|0,lr=lr+Math.imul(Cr,_o)|0,xr=xr+Math.imul(Cr,Eo)|0,hr=hr+Math.imul(zn,mo)|0,lr=lr+Math.imul(zn,So)|0,lr=lr+Math.imul(Zn,mo)|0,xr=xr+Math.imul(Zn,So)|0,hr=hr+Math.imul(Un,Yr)|0,lr=lr+Math.imul(Un,Qr)|0,lr=lr+Math.imul(Wn,Yr)|0,xr=xr+Math.imul(Wn,Qr)|0,hr=hr+Math.imul(Wr,Nn)|0,lr=lr+Math.imul(Wr,Hn)|0,lr=lr+Math.imul(nn,Nn)|0,xr=xr+Math.imul(nn,Hn)|0,hr=hr+Math.imul(Ur,Qn)|0,lr=lr+Math.imul(Ur,Jn)|0,lr=lr+Math.imul(Fr,Qn)|0,xr=xr+Math.imul(Fr,Jn)|0,hr=hr+Math.imul(zr,Gn)|0,lr=lr+Math.imul(zr,_i)|0,lr=lr+Math.imul(Hr,Gn)|0,xr=xr+Math.imul(Hr,_i)|0,hr=hr+Math.imul(Er,fo)|0,lr=lr+Math.imul(Er,Co)|0,lr=lr+Math.imul(Br,fo)|0,xr=xr+Math.imul(Br,Co)|0;var xa=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(xa>>>26)|0,xa&=67108863,hr=Math.imul(Lr,_o),lr=Math.imul(Lr,Eo),lr=lr+Math.imul(Zr,_o)|0,xr=Math.imul(Zr,Eo),hr=hr+Math.imul(Or,mo)|0,lr=lr+Math.imul(Or,So)|0,lr=lr+Math.imul(Cr,mo)|0,xr=xr+Math.imul(Cr,So)|0,hr=hr+Math.imul(zn,Yr)|0,lr=lr+Math.imul(zn,Qr)|0,lr=lr+Math.imul(Zn,Yr)|0,xr=xr+Math.imul(Zn,Qr)|0,hr=hr+Math.imul(Un,Nn)|0,lr=lr+Math.imul(Un,Hn)|0,lr=lr+Math.imul(Wn,Nn)|0,xr=xr+Math.imul(Wn,Hn)|0,hr=hr+Math.imul(Wr,Qn)|0,lr=lr+Math.imul(Wr,Jn)|0,lr=lr+Math.imul(nn,Qn)|0,xr=xr+Math.imul(nn,Jn)|0,hr=hr+Math.imul(Ur,Gn)|0,lr=lr+Math.imul(Ur,_i)|0,lr=lr+Math.imul(Fr,Gn)|0,xr=xr+Math.imul(Fr,_i)|0,hr=hr+Math.imul(zr,fo)|0,lr=lr+Math.imul(zr,Co)|0,lr=lr+Math.imul(Hr,fo)|0,xr=xr+Math.imul(Hr,Co)|0;var To=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(To>>>26)|0,To&=67108863,hr=Math.imul(Lr,mo),lr=Math.imul(Lr,So),lr=lr+Math.imul(Zr,mo)|0,xr=Math.imul(Zr,So),hr=hr+Math.imul(Or,Yr)|0,lr=lr+Math.imul(Or,Qr)|0,lr=lr+Math.imul(Cr,Yr)|0,xr=xr+Math.imul(Cr,Qr)|0,hr=hr+Math.imul(zn,Nn)|0,lr=lr+Math.imul(zn,Hn)|0,lr=lr+Math.imul(Zn,Nn)|0,xr=xr+Math.imul(Zn,Hn)|0,hr=hr+Math.imul(Un,Qn)|0,lr=lr+Math.imul(Un,Jn)|0,lr=lr+Math.imul(Wn,Qn)|0,xr=xr+Math.imul(Wn,Jn)|0,hr=hr+Math.imul(Wr,Gn)|0,lr=lr+Math.imul(Wr,_i)|0,lr=lr+Math.imul(nn,Gn)|0,xr=xr+Math.imul(nn,_i)|0,hr=hr+Math.imul(Ur,fo)|0,lr=lr+Math.imul(Ur,Co)|0,lr=lr+Math.imul(Fr,fo)|0,xr=xr+Math.imul(Fr,Co)|0;var Po=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Po>>>26)|0,Po&=67108863,hr=Math.imul(Lr,Yr),lr=Math.imul(Lr,Qr),lr=lr+Math.imul(Zr,Yr)|0,xr=Math.imul(Zr,Qr),hr=hr+Math.imul(Or,Nn)|0,lr=lr+Math.imul(Or,Hn)|0,lr=lr+Math.imul(Cr,Nn)|0,xr=xr+Math.imul(Cr,Hn)|0,hr=hr+Math.imul(zn,Qn)|0,lr=lr+Math.imul(zn,Jn)|0,lr=lr+Math.imul(Zn,Qn)|0,xr=xr+Math.imul(Zn,Jn)|0,hr=hr+Math.imul(Un,Gn)|0,lr=lr+Math.imul(Un,_i)|0,lr=lr+Math.imul(Wn,Gn)|0,xr=xr+Math.imul(Wn,_i)|0,hr=hr+Math.imul(Wr,fo)|0,lr=lr+Math.imul(Wr,Co)|0,lr=lr+Math.imul(nn,fo)|0,xr=xr+Math.imul(nn,Co)|0;var Qo=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,hr=Math.imul(Lr,Nn),lr=Math.imul(Lr,Hn),lr=lr+Math.imul(Zr,Nn)|0,xr=Math.imul(Zr,Hn),hr=hr+Math.imul(Or,Qn)|0,lr=lr+Math.imul(Or,Jn)|0,lr=lr+Math.imul(Cr,Qn)|0,xr=xr+Math.imul(Cr,Jn)|0,hr=hr+Math.imul(zn,Gn)|0,lr=lr+Math.imul(zn,_i)|0,lr=lr+Math.imul(Zn,Gn)|0,xr=xr+Math.imul(Zn,_i)|0,hr=hr+Math.imul(Un,fo)|0,lr=lr+Math.imul(Un,Co)|0,lr=lr+Math.imul(Wn,fo)|0,xr=xr+Math.imul(Wn,Co)|0;var ts=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(ts>>>26)|0,ts&=67108863,hr=Math.imul(Lr,Qn),lr=Math.imul(Lr,Jn),lr=lr+Math.imul(Zr,Qn)|0,xr=Math.imul(Zr,Jn),hr=hr+Math.imul(Or,Gn)|0,lr=lr+Math.imul(Or,_i)|0,lr=lr+Math.imul(Cr,Gn)|0,xr=xr+Math.imul(Cr,_i)|0,hr=hr+Math.imul(zn,fo)|0,lr=lr+Math.imul(zn,Co)|0,lr=lr+Math.imul(Zn,fo)|0,xr=xr+Math.imul(Zn,Co)|0;var Lo=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,hr=Math.imul(Lr,Gn),lr=Math.imul(Lr,_i),lr=lr+Math.imul(Zr,Gn)|0,xr=Math.imul(Zr,_i),hr=hr+Math.imul(Or,fo)|0,lr=lr+Math.imul(Or,Co)|0,lr=lr+Math.imul(Cr,fo)|0,xr=xr+Math.imul(Cr,Co)|0;var Vr=(gr+hr|0)+((lr&8191)<<13)|0;gr=(xr+(lr>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,hr=Math.imul(Lr,fo),lr=Math.imul(Lr,Co),lr=lr+Math.imul(Zr,fo)|0,xr=Math.imul(Zr,Co);var Jr=(gr+hr|0)+((lr&8191)<<13)|0;return gr=(xr+(lr>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,cr[0]=ko,cr[1]=Ao,cr[2]=Oo,cr[3]=Xo,cr[4]=es,cr[5]=Ho,cr[6]=No,cr[7]=rs,cr[8]=Go,cr[9]=Zo,cr[10]=ga,cr[11]=xa,cr[12]=To,cr[13]=Po,cr[14]=Qo,cr[15]=ts,cr[16]=Lo,cr[17]=Vr,cr[18]=Jr,gr!==0&&(cr[19]=gr,ar.length++),ar};Math.imul||(nr=tr);function sr(ir,rr,or){or.negative=rr.negative^ir.negative,or.length=ir.length+rr.length;for(var ar=0,ur=0,pr=0;pr<or.length-1;pr++){var cr=ur;ur=0;for(var gr=ar&67108863,hr=Math.min(pr,rr.length-1),lr=Math.max(0,pr-ir.length+1);lr<=hr;lr++){var xr=pr-lr,Mr=ir.words[xr]|0,Pr=rr.words[lr]|0,Ar=Mr*Pr,Ir=Ar&67108863;cr=cr+(Ar/67108864|0)|0,Ir=Ir+gr|0,gr=Ir&67108863,cr=cr+(Ir>>>26)|0,ur+=cr>>>26,cr&=67108863}or.words[pr]=gr,ar=cr,cr=ur}return ar!==0?or.words[pr]=ar:or.length--,or._strip()}function dr(ir,rr,or){return sr(ir,rr,or)}wt.prototype.mulTo=function(rr,or){var ar,ur=this.length+rr.length;return this.length===10&&rr.length===10?ar=nr(this,rr,or):ur<63?ar=tr(this,rr,or):ur<1024?ar=sr(this,rr,or):ar=dr(this,rr,or),ar},wt.prototype.mul=function(rr){var or=new wt(null);return or.words=new Array(this.length+rr.length),this.mulTo(rr,or)},wt.prototype.mulf=function(rr){var or=new wt(null);return or.words=new Array(this.length+rr.length),dr(this,rr,or)},wt.prototype.imul=function(rr){return this.clone().mulTo(rr,this)},wt.prototype.imuln=function(rr){var or=rr<0;or&&(rr=-rr),at(typeof rr=="number"),at(rr<67108864);for(var ar=0,ur=0;ur<this.length;ur++){var pr=(this.words[ur]|0)*rr,cr=(pr&67108863)+(ar&67108863);ar>>=26,ar+=pr/67108864|0,ar+=cr>>>26,this.words[ur]=cr&67108863}return ar!==0&&(this.words[ur]=ar,this.length++),or?this.ineg():this},wt.prototype.muln=function(rr){return this.clone().imuln(rr)},wt.prototype.sqr=function(){return this.mul(this)},wt.prototype.isqr=function(){return this.imul(this.clone())},wt.prototype.pow=function(rr){var or=er(rr);if(or.length===0)return new wt(1);for(var ar=this,ur=0;ur<or.length&&or[ur]===0;ur++,ar=ar.sqr());if(++ur<or.length)for(var pr=ar.sqr();ur<or.length;ur++,pr=pr.sqr())or[ur]!==0&&(ar=ar.mul(pr));return ar},wt.prototype.iushln=function(rr){at(typeof rr=="number"&&rr>=0);var or=rr%26,ar=(rr-or)/26,ur=67108863>>>26-or<<26-or,pr;if(or!==0){var cr=0;for(pr=0;pr<this.length;pr++){var gr=this.words[pr]&ur,hr=(this.words[pr]|0)-gr<<or;this.words[pr]=hr|cr,cr=gr>>>26-or}cr&&(this.words[pr]=cr,this.length++)}if(ar!==0){for(pr=this.length-1;pr>=0;pr--)this.words[pr+ar]=this.words[pr];for(pr=0;pr<ar;pr++)this.words[pr]=0;this.length+=ar}return this._strip()},wt.prototype.ishln=function(rr){return at(this.negative===0),this.iushln(rr)},wt.prototype.iushrn=function(rr,or,ar){at(typeof rr=="number"&&rr>=0);var ur;or?ur=(or-or%26)/26:ur=0;var pr=rr%26,cr=Math.min((rr-pr)/26,this.length),gr=67108863^67108863>>>pr<<pr,hr=ar;if(ur-=cr,ur=Math.max(0,ur),hr){for(var lr=0;lr<cr;lr++)hr.words[lr]=this.words[lr];hr.length=cr}if(cr!==0)if(this.length>cr)for(this.length-=cr,lr=0;lr<this.length;lr++)this.words[lr]=this.words[lr+cr];else this.words[0]=0,this.length=1;var xr=0;for(lr=this.length-1;lr>=0&&(xr!==0||lr>=ur);lr--){var Mr=this.words[lr]|0;this.words[lr]=xr<<26-pr|Mr>>>pr,xr=Mr&gr}return hr&&xr!==0&&(hr.words[hr.length++]=xr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},wt.prototype.ishrn=function(rr,or,ar){return at(this.negative===0),this.iushrn(rr,or,ar)},wt.prototype.shln=function(rr){return this.clone().ishln(rr)},wt.prototype.ushln=function(rr){return this.clone().iushln(rr)},wt.prototype.shrn=function(rr){return this.clone().ishrn(rr)},wt.prototype.ushrn=function(rr){return this.clone().iushrn(rr)},wt.prototype.testn=function(rr){at(typeof rr=="number"&&rr>=0);var or=rr%26,ar=(rr-or)/26,ur=1<<or;if(this.length<=ar)return!1;var pr=this.words[ar];return!!(pr&ur)},wt.prototype.imaskn=function(rr){at(typeof rr=="number"&&rr>=0);var or=rr%26,ar=(rr-or)/26;if(at(this.negative===0,"imaskn works only with positive numbers"),this.length<=ar)return this;if(or!==0&&ar++,this.length=Math.min(ar,this.length),or!==0){var ur=67108863^67108863>>>or<<or;this.words[this.length-1]&=ur}return this._strip()},wt.prototype.maskn=function(rr){return this.clone().imaskn(rr)},wt.prototype.iaddn=function(rr){return at(typeof rr=="number"),at(rr<67108864),rr<0?this.isubn(-rr):this.negative!==0?this.length===1&&(this.words[0]|0)<=rr?(this.words[0]=rr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(rr),this.negative=1,this):this._iaddn(rr)},wt.prototype._iaddn=function(rr){this.words[0]+=rr;for(var or=0;or<this.length&&this.words[or]>=67108864;or++)this.words[or]-=67108864,or===this.length-1?this.words[or+1]=1:this.words[or+1]++;return this.length=Math.max(this.length,or+1),this},wt.prototype.isubn=function(rr){if(at(typeof rr=="number"),at(rr<67108864),rr<0)return this.iaddn(-rr);if(this.negative!==0)return this.negative=0,this.iaddn(rr),this.negative=1,this;if(this.words[0]-=rr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var or=0;or<this.length&&this.words[or]<0;or++)this.words[or]+=67108864,this.words[or+1]-=1;return this._strip()},wt.prototype.addn=function(rr){return this.clone().iaddn(rr)},wt.prototype.subn=function(rr){return this.clone().isubn(rr)},wt.prototype.iabs=function(){return this.negative=0,this},wt.prototype.abs=function(){return this.clone().iabs()},wt.prototype._ishlnsubmul=function(rr,or,ar){var ur=rr.length+ar,pr;this._expand(ur);var cr,gr=0;for(pr=0;pr<rr.length;pr++){cr=(this.words[pr+ar]|0)+gr;var hr=(rr.words[pr]|0)*or;cr-=hr&67108863,gr=(cr>>26)-(hr/67108864|0),this.words[pr+ar]=cr&67108863}for(;pr<this.length-ar;pr++)cr=(this.words[pr+ar]|0)+gr,gr=cr>>26,this.words[pr+ar]=cr&67108863;if(gr===0)return this._strip();for(at(gr===-1),gr=0,pr=0;pr<this.length;pr++)cr=-(this.words[pr]|0)+gr,gr=cr>>26,this.words[pr]=cr&67108863;return this.negative=1,this._strip()},wt.prototype._wordDiv=function(rr,or){var ar=this.length-rr.length,ur=this.clone(),pr=rr,cr=pr.words[pr.length-1]|0,gr=this._countBits(cr);ar=26-gr,ar!==0&&(pr=pr.ushln(ar),ur.iushln(ar),cr=pr.words[pr.length-1]|0);var hr=ur.length-pr.length,lr;if(or!=="mod"){lr=new wt(null),lr.length=hr+1,lr.words=new Array(lr.length);for(var xr=0;xr<lr.length;xr++)lr.words[xr]=0}var Mr=ur.clone()._ishlnsubmul(pr,1,hr);Mr.negative===0&&(ur=Mr,lr&&(lr.words[hr]=1));for(var Pr=hr-1;Pr>=0;Pr--){var Ar=(ur.words[pr.length+Pr]|0)*67108864+(ur.words[pr.length+Pr-1]|0);for(Ar=Math.min(Ar/cr|0,67108863),ur._ishlnsubmul(pr,Ar,Pr);ur.negative!==0;)Ar--,ur.negative=0,ur._ishlnsubmul(pr,1,Pr),ur.isZero()||(ur.negative^=1);lr&&(lr.words[Pr]=Ar)}return lr&&lr._strip(),ur._strip(),or!=="div"&&ar!==0&&ur.iushrn(ar),{div:lr||null,mod:ur}},wt.prototype.divmod=function(rr,or,ar){if(at(!rr.isZero()),this.isZero())return{div:new wt(0),mod:new wt(0)};var ur,pr,cr;return this.negative!==0&&rr.negative===0?(cr=this.neg().divmod(rr,or),or!=="mod"&&(ur=cr.div.neg()),or!=="div"&&(pr=cr.mod.neg(),ar&&pr.negative!==0&&pr.iadd(rr)),{div:ur,mod:pr}):this.negative===0&&rr.negative!==0?(cr=this.divmod(rr.neg(),or),or!=="mod"&&(ur=cr.div.neg()),{div:ur,mod:cr.mod}):this.negative&rr.negative?(cr=this.neg().divmod(rr.neg(),or),or!=="div"&&(pr=cr.mod.neg(),ar&&pr.negative!==0&&pr.isub(rr)),{div:cr.div,mod:pr}):rr.length>this.length||this.cmp(rr)<0?{div:new wt(0),mod:this}:rr.length===1?or==="div"?{div:this.divn(rr.words[0]),mod:null}:or==="mod"?{div:null,mod:new wt(this.modrn(rr.words[0]))}:{div:this.divn(rr.words[0]),mod:new wt(this.modrn(rr.words[0]))}:this._wordDiv(rr,or)},wt.prototype.div=function(rr){return this.divmod(rr,"div",!1).div},wt.prototype.mod=function(rr){return this.divmod(rr,"mod",!1).mod},wt.prototype.umod=function(rr){return this.divmod(rr,"mod",!0).mod},wt.prototype.divRound=function(rr){var or=this.divmod(rr);if(or.mod.isZero())return or.div;var ar=or.div.negative!==0?or.mod.isub(rr):or.mod,ur=rr.ushrn(1),pr=rr.andln(1),cr=ar.cmp(ur);return cr<0||pr===1&&cr===0?or.div:or.div.negative!==0?or.div.isubn(1):or.div.iaddn(1)},wt.prototype.modrn=function(rr){var or=rr<0;or&&(rr=-rr),at(rr<=67108863);for(var ar=(1<<26)%rr,ur=0,pr=this.length-1;pr>=0;pr--)ur=(ar*ur+(this.words[pr]|0))%rr;return or?-ur:ur},wt.prototype.modn=function(rr){return this.modrn(rr)},wt.prototype.idivn=function(rr){var or=rr<0;or&&(rr=-rr),at(rr<=67108863);for(var ar=0,ur=this.length-1;ur>=0;ur--){var pr=(this.words[ur]|0)+ar*67108864;this.words[ur]=pr/rr|0,ar=pr%rr}return this._strip(),or?this.ineg():this},wt.prototype.divn=function(rr){return this.clone().idivn(rr)},wt.prototype.egcd=function(rr){at(rr.negative===0),at(!rr.isZero());var or=this,ar=rr.clone();or.negative!==0?or=or.umod(rr):or=or.clone();for(var ur=new wt(1),pr=new wt(0),cr=new wt(0),gr=new wt(1),hr=0;or.isEven()&&ar.isEven();)or.iushrn(1),ar.iushrn(1),++hr;for(var lr=ar.clone(),xr=or.clone();!or.isZero();){for(var Mr=0,Pr=1;!(or.words[0]&Pr)&&Mr<26;++Mr,Pr<<=1);if(Mr>0)for(or.iushrn(Mr);Mr-- >0;)(ur.isOdd()||pr.isOdd())&&(ur.iadd(lr),pr.isub(xr)),ur.iushrn(1),pr.iushrn(1);for(var Ar=0,Ir=1;!(ar.words[0]&Ir)&&Ar<26;++Ar,Ir<<=1);if(Ar>0)for(ar.iushrn(Ar);Ar-- >0;)(cr.isOdd()||gr.isOdd())&&(cr.iadd(lr),gr.isub(xr)),cr.iushrn(1),gr.iushrn(1);or.cmp(ar)>=0?(or.isub(ar),ur.isub(cr),pr.isub(gr)):(ar.isub(or),cr.isub(ur),gr.isub(pr))}return{a:cr,b:gr,gcd:ar.iushln(hr)}},wt.prototype._invmp=function(rr){at(rr.negative===0),at(!rr.isZero());var or=this,ar=rr.clone();or.negative!==0?or=or.umod(rr):or=or.clone();for(var ur=new wt(1),pr=new wt(0),cr=ar.clone();or.cmpn(1)>0&&ar.cmpn(1)>0;){for(var gr=0,hr=1;!(or.words[0]&hr)&&gr<26;++gr,hr<<=1);if(gr>0)for(or.iushrn(gr);gr-- >0;)ur.isOdd()&&ur.iadd(cr),ur.iushrn(1);for(var lr=0,xr=1;!(ar.words[0]&xr)&&lr<26;++lr,xr<<=1);if(lr>0)for(ar.iushrn(lr);lr-- >0;)pr.isOdd()&&pr.iadd(cr),pr.iushrn(1);or.cmp(ar)>=0?(or.isub(ar),ur.isub(pr)):(ar.isub(or),pr.isub(ur))}var Mr;return or.cmpn(1)===0?Mr=ur:Mr=pr,Mr.cmpn(0)<0&&Mr.iadd(rr),Mr},wt.prototype.gcd=function(rr){if(this.isZero())return rr.abs();if(rr.isZero())return this.abs();var or=this.clone(),ar=rr.clone();or.negative=0,ar.negative=0;for(var ur=0;or.isEven()&&ar.isEven();ur++)or.iushrn(1),ar.iushrn(1);do{for(;or.isEven();)or.iushrn(1);for(;ar.isEven();)ar.iushrn(1);var pr=or.cmp(ar);if(pr<0){var cr=or;or=ar,ar=cr}else if(pr===0||ar.cmpn(1)===0)break;or.isub(ar)}while(!0);return ar.iushln(ur)},wt.prototype.invm=function(rr){return this.egcd(rr).a.umod(rr)},wt.prototype.isEven=function(){return(this.words[0]&1)===0},wt.prototype.isOdd=function(){return(this.words[0]&1)===1},wt.prototype.andln=function(rr){return this.words[0]&rr},wt.prototype.bincn=function(rr){at(typeof rr=="number");var or=rr%26,ar=(rr-or)/26,ur=1<<or;if(this.length<=ar)return this._expand(ar+1),this.words[ar]|=ur,this;for(var pr=ur,cr=ar;pr!==0&&cr<this.length;cr++){var gr=this.words[cr]|0;gr+=pr,pr=gr>>>26,gr&=67108863,this.words[cr]=gr}return pr!==0&&(this.words[cr]=pr,this.length++),this},wt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},wt.prototype.cmpn=function(rr){var or=rr<0;if(this.negative!==0&&!or)return-1;if(this.negative===0&&or)return 1;this._strip();var ar;if(this.length>1)ar=1;else{or&&(rr=-rr),at(rr<=67108863,"Number is too big");var ur=this.words[0]|0;ar=ur===rr?0:ur<rr?-1:1}return this.negative!==0?-ar|0:ar},wt.prototype.cmp=function(rr){if(this.negative!==0&&rr.negative===0)return-1;if(this.negative===0&&rr.negative!==0)return 1;var or=this.ucmp(rr);return this.negative!==0?-or|0:or},wt.prototype.ucmp=function(rr){if(this.length>rr.length)return 1;if(this.length<rr.length)return-1;for(var or=0,ar=this.length-1;ar>=0;ar--){var ur=this.words[ar]|0,pr=rr.words[ar]|0;if(ur!==pr){ur<pr?or=-1:ur>pr&&(or=1);break}}return or},wt.prototype.gtn=function(rr){return this.cmpn(rr)===1},wt.prototype.gt=function(rr){return this.cmp(rr)===1},wt.prototype.gten=function(rr){return this.cmpn(rr)>=0},wt.prototype.gte=function(rr){return this.cmp(rr)>=0},wt.prototype.ltn=function(rr){return this.cmpn(rr)===-1},wt.prototype.lt=function(rr){return this.cmp(rr)===-1},wt.prototype.lten=function(rr){return this.cmpn(rr)<=0},wt.prototype.lte=function(rr){return this.cmp(rr)<=0},wt.prototype.eqn=function(rr){return this.cmpn(rr)===0},wt.prototype.eq=function(rr){return this.cmp(rr)===0},wt.red=function(rr){return new fr(rr)},wt.prototype.toRed=function(rr){return at(!this.red,"Already a number in reduction context"),at(this.negative===0,"red works only with positives"),rr.convertTo(this)._forceRed(rr)},wt.prototype.fromRed=function(){return at(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},wt.prototype._forceRed=function(rr){return this.red=rr,this},wt.prototype.forceRed=function(rr){return at(!this.red,"Already a number in reduction context"),this._forceRed(rr)},wt.prototype.redAdd=function(rr){return at(this.red,"redAdd works only with red numbers"),this.red.add(this,rr)},wt.prototype.redIAdd=function(rr){return at(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,rr)},wt.prototype.redSub=function(rr){return at(this.red,"redSub works only with red numbers"),this.red.sub(this,rr)},wt.prototype.redISub=function(rr){return at(this.red,"redISub works only with red numbers"),this.red.isub(this,rr)},wt.prototype.redShl=function(rr){return at(this.red,"redShl works only with red numbers"),this.red.shl(this,rr)},wt.prototype.redMul=function(rr){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,rr),this.red.mul(this,rr)},wt.prototype.redIMul=function(rr){return at(this.red,"redMul works only with red numbers"),this.red._verify2(this,rr),this.red.imul(this,rr)},wt.prototype.redSqr=function(){return at(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},wt.prototype.redISqr=function(){return at(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},wt.prototype.redSqrt=function(){return at(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},wt.prototype.redInvm=function(){return at(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},wt.prototype.redNeg=function(){return at(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},wt.prototype.redPow=function(rr){return at(this.red&&!rr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,rr)};var br={k256:null,p224:null,p192:null,p25519:null};function vr(ir,rr){this.name=ir,this.p=new wt(rr,16),this.n=this.p.bitLength(),this.k=new wt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}vr.prototype._tmp=function(){var rr=new wt(null);return rr.words=new Array(Math.ceil(this.n/13)),rr},vr.prototype.ireduce=function(rr){var or=rr,ar;do this.split(or,this.tmp),or=this.imulK(or),or=or.iadd(this.tmp),ar=or.bitLength();while(ar>this.n);var ur=ar<this.n?-1:or.ucmp(this.p);return ur===0?(or.words[0]=0,or.length=1):ur>0?or.isub(this.p):or.strip!==void 0?or.strip():or._strip(),or},vr.prototype.split=function(rr,or){rr.iushrn(this.n,0,or)},vr.prototype.imulK=function(rr){return rr.imul(this.k)};function yr(){vr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}mt(yr,vr),yr.prototype.split=function(rr,or){for(var ar=4194303,ur=Math.min(rr.length,9),pr=0;pr<ur;pr++)or.words[pr]=rr.words[pr];if(or.length=ur,rr.length<=9){rr.words[0]=0,rr.length=1;return}var cr=rr.words[9];for(or.words[or.length++]=cr&ar,pr=10;pr<rr.length;pr++){var gr=rr.words[pr]|0;rr.words[pr-10]=(gr&ar)<<4|cr>>>22,cr=gr}cr>>>=22,rr.words[pr-10]=cr,cr===0&&rr.length>10?rr.length-=10:rr.length-=9},yr.prototype.imulK=function(rr){rr.words[rr.length]=0,rr.words[rr.length+1]=0,rr.length+=2;for(var or=0,ar=0;ar<rr.length;ar++){var ur=rr.words[ar]|0;or+=ur*977,rr.words[ar]=or&67108863,or=ur*64+(or/67108864|0)}return rr.words[rr.length-1]===0&&(rr.length--,rr.words[rr.length-1]===0&&rr.length--),rr};function $r(){vr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}mt($r,vr);function Sr(){vr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}mt(Sr,vr);function wr(){vr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}mt(wr,vr),wr.prototype.imulK=function(rr){for(var or=0,ar=0;ar<rr.length;ar++){var ur=(rr.words[ar]|0)*19+or,pr=ur&67108863;ur>>>=26,rr.words[ar]=pr,or=ur}return or!==0&&(rr.words[rr.length++]=or),rr},wt._prime=function(rr){if(br[rr])return br[rr];var or;if(rr==="k256")or=new yr;else if(rr==="p224")or=new $r;else if(rr==="p192")or=new Sr;else if(rr==="p25519")or=new wr;else throw new Error("Unknown prime "+rr);return br[rr]=or,or};function fr(ir){if(typeof ir=="string"){var rr=wt._prime(ir);this.m=rr.p,this.prime=rr}else at(ir.gtn(1),"modulus must be greater than 1"),this.m=ir,this.prime=null}fr.prototype._verify1=function(rr){at(rr.negative===0,"red works only with positives"),at(rr.red,"red works only with red numbers")},fr.prototype._verify2=function(rr,or){at((rr.negative|or.negative)===0,"red works only with positives"),at(rr.red&&rr.red===or.red,"red works only with red numbers")},fr.prototype.imod=function(rr){return this.prime?this.prime.ireduce(rr)._forceRed(this):(jt(rr,rr.umod(this.m)._forceRed(this)),rr)},fr.prototype.neg=function(rr){return rr.isZero()?rr.clone():this.m.sub(rr)._forceRed(this)},fr.prototype.add=function(rr,or){this._verify2(rr,or);var ar=rr.add(or);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar._forceRed(this)},fr.prototype.iadd=function(rr,or){this._verify2(rr,or);var ar=rr.iadd(or);return ar.cmp(this.m)>=0&&ar.isub(this.m),ar},fr.prototype.sub=function(rr,or){this._verify2(rr,or);var ar=rr.sub(or);return ar.cmpn(0)<0&&ar.iadd(this.m),ar._forceRed(this)},fr.prototype.isub=function(rr,or){this._verify2(rr,or);var ar=rr.isub(or);return ar.cmpn(0)<0&&ar.iadd(this.m),ar},fr.prototype.shl=function(rr,or){return this._verify1(rr),this.imod(rr.ushln(or))},fr.prototype.imul=function(rr,or){return this._verify2(rr,or),this.imod(rr.imul(or))},fr.prototype.mul=function(rr,or){return this._verify2(rr,or),this.imod(rr.mul(or))},fr.prototype.isqr=function(rr){return this.imul(rr,rr.clone())},fr.prototype.sqr=function(rr){return this.mul(rr,rr)},fr.prototype.sqrt=function(rr){if(rr.isZero())return rr.clone();var or=this.m.andln(3);if(at(or%2===1),or===3){var ar=this.m.add(new wt(1)).iushrn(2);return this.pow(rr,ar)}for(var ur=this.m.subn(1),pr=0;!ur.isZero()&&ur.andln(1)===0;)pr++,ur.iushrn(1);at(!ur.isZero());var cr=new wt(1).toRed(this),gr=cr.redNeg(),hr=this.m.subn(1).iushrn(1),lr=this.m.bitLength();for(lr=new wt(2*lr*lr).toRed(this);this.pow(lr,hr).cmp(gr)!==0;)lr.redIAdd(gr);for(var xr=this.pow(lr,ur),Mr=this.pow(rr,ur.addn(1).iushrn(1)),Pr=this.pow(rr,ur),Ar=pr;Pr.cmp(cr)!==0;){for(var Ir=Pr,qr=0;Ir.cmp(cr)!==0;qr++)Ir=Ir.redSqr();at(qr<Ar);var Rr=this.pow(xr,new wt(1).iushln(Ar-qr-1));Mr=Mr.redMul(Rr),xr=Rr.redSqr(),Pr=Pr.redMul(xr),Ar=qr}return Mr},fr.prototype.invm=function(rr){var or=rr._invmp(this.m);return or.negative!==0?(or.negative=0,this.imod(or).redNeg()):this.imod(or)},fr.prototype.pow=function(rr,or){if(or.isZero())return new wt(1).toRed(this);if(or.cmpn(1)===0)return rr.clone();var ar=4,ur=new Array(1<<ar);ur[0]=new wt(1).toRed(this),ur[1]=rr;for(var pr=2;pr<ur.length;pr++)ur[pr]=this.mul(ur[pr-1],rr);var cr=ur[0],gr=0,hr=0,lr=or.bitLength()%26;for(lr===0&&(lr=26),pr=or.length-1;pr>=0;pr--){for(var xr=or.words[pr],Mr=lr-1;Mr>=0;Mr--){var Pr=xr>>Mr&1;if(cr!==ur[0]&&(cr=this.sqr(cr)),Pr===0&&gr===0){hr=0;continue}gr<<=1,gr|=Pr,hr++,!(hr!==ar&&(pr!==0||Mr!==0))&&(cr=this.mul(cr,ur[gr]),hr=0,gr=0)}lr=26}return cr},fr.prototype.convertTo=function(rr){var or=rr.umod(this.m);return or===rr?or.clone():or},fr.prototype.convertFrom=function(rr){var or=rr.clone();return or.red=null,or},wt.mont=function(rr){return new _r(rr)};function _r(ir){fr.call(this,ir),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new wt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}mt(_r,fr),_r.prototype.convertTo=function(rr){return this.imod(rr.ushln(this.shift))},_r.prototype.convertFrom=function(rr){var or=this.imod(rr.mul(this.rinv));return or.red=null,or},_r.prototype.imul=function(rr,or){if(rr.isZero()||or.isZero())return rr.words[0]=0,rr.length=1,rr;var ar=rr.imul(or),ur=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),pr=ar.isub(ur).iushrn(this.shift),cr=pr;return pr.cmp(this.m)>=0?cr=pr.isub(this.m):pr.cmpn(0)<0&&(cr=pr.iadd(this.m)),cr._forceRed(this)},_r.prototype.mul=function(rr,or){if(rr.isZero()||or.isZero())return new wt(0)._forceRed(this);var ar=rr.mul(or),ur=ar.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),pr=ar.isub(ur).iushrn(this.shift),cr=pr;return pr.cmp(this.m)>=0?cr=pr.isub(this.m):pr.cmpn(0)<0&&(cr=pr.iadd(this.m)),cr._forceRed(this)},_r.prototype.invm=function(rr){var or=this.imod(rr._invmp(this.m).mul(this.r2));return or._forceRed(this)}})(typeof a>"u"||a,s)}}),EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:EXP_LIMIT,crypto:!1},inexact,quadrant,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",tag="[object Decimal]",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER$2=9007199254740991,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P$2={toStringTag:tag};P$2.absoluteValue=P$2.abs=function(){var s=new this.constructor(this);return s.s<0&&(s.s=1),finalise(s)};P$2.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)};P$2.clampedTo=P$2.clamp=function(s,a){var et,nt=this,at=nt.constructor;if(s=new at(s),a=new at(a),!s.s||!a.s)return new at(NaN);if(s.gt(a))throw Error(invalidArgument+a);return et=nt.cmp(s),et<0?s:nt.cmp(a)>0?a:new at(nt)};P$2.comparedTo=P$2.cmp=function(s){var a,et,nt,at,mt=this,wt=mt.d,$t=(s=new mt.constructor(s)).d,Ct=mt.s,Dt=s.s;if(!wt||!$t)return!Ct||!Dt?NaN:Ct!==Dt?Ct:wt===$t?0:!wt^Ct<0?1:-1;if(!wt[0]||!$t[0])return wt[0]?Ct:$t[0]?-Dt:0;if(Ct!==Dt)return Ct;if(mt.e!==s.e)return mt.e>s.e^Ct<0?1:-1;for(nt=wt.length,at=$t.length,a=0,et=nt<at?nt:at;a<et;++a)if(wt[a]!==$t[a])return wt[a]>$t[a]^Ct<0?1:-1;return nt===at?0:nt>at^Ct<0?1:-1};P$2.cosine=P$2.cos=function(){var s,a,et=this,nt=et.constructor;return et.d?et.d[0]?(s=nt.precision,a=nt.rounding,nt.precision=s+Math.max(et.e,et.sd())+LOG_BASE,nt.rounding=1,et=cosine(nt,toLessThanHalfPi(nt,et)),nt.precision=s,nt.rounding=a,finalise(quadrant==2||quadrant==3?et.neg():et,s,a,!0)):new nt(1):new nt(NaN)};P$2.cubeRoot=P$2.cbrt=function(){var s,a,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor;if(!Ft.isFinite()||Ft.isZero())return new jt(Ft);for(external=!1,mt=Ft.s*mathpow(Ft.s*Ft,1/3),!mt||Math.abs(mt)==1/0?(et=digitsToString(Ft.d),s=Ft.e,(mt=(s-et.length+1)%3)&&(et+=mt==1||mt==-2?"0":"00"),mt=mathpow(et,1/3),s=mathfloor((s+1)/3)-(s%3==(s<0?-1:2)),mt==1/0?et="5e"+s:(et=mt.toExponential(),et=et.slice(0,et.indexOf("e")+1)+s),nt=new jt(et),nt.s=Ft.s):nt=new jt(mt.toString()),wt=(s=jt.precision)+3;;)if($t=nt,Ct=$t.times($t).times($t),Dt=Ct.plus(Ft),nt=divide(Dt.plus(Ft).times($t),Dt.plus(Ct),wt+2,1),digitsToString($t.d).slice(0,wt)===(et=digitsToString(nt.d)).slice(0,wt))if(et=et.slice(wt-3,wt+1),et=="9999"||!at&&et=="4999"){if(!at&&(finalise($t,s+1,0),$t.times($t).times($t).eq(Ft))){nt=$t;break}wt+=4,at=1}else{(!+et||!+et.slice(1)&&et.charAt(0)=="5")&&(finalise(nt,s+1,1),a=!nt.times(nt).times(nt).eq(Ft));break}return external=!0,finalise(nt,s,jt.rounding,a)};P$2.decimalPlaces=P$2.dp=function(){var s,a=this.d,et=NaN;if(a){if(s=a.length-1,et=(s-mathfloor(this.e/LOG_BASE))*LOG_BASE,s=a[s],s)for(;s%10==0;s/=10)et--;et<0&&(et=0)}return et};P$2.dividedBy=P$2.div=function(s){return divide(this,new this.constructor(s))};P$2.dividedToIntegerBy=P$2.divToInt=function(s){var a=this,et=a.constructor;return finalise(divide(a,new et(s),0,1,1),et.precision,et.rounding)};P$2.equals=P$2.eq=function(s){return this.cmp(s)===0};P$2.floor=function(){return finalise(new this.constructor(this),this.e+1,3)};P$2.greaterThan=P$2.gt=function(s){return this.cmp(s)>0};P$2.greaterThanOrEqualTo=P$2.gte=function(s){var a=this.cmp(s);return a==1||a===0};P$2.hyperbolicCosine=P$2.cosh=function(){var s,a,et,nt,at,mt=this,wt=mt.constructor,$t=new wt(1);if(!mt.isFinite())return new wt(mt.s?1/0:NaN);if(mt.isZero())return $t;et=wt.precision,nt=wt.rounding,wt.precision=et+Math.max(mt.e,mt.sd())+4,wt.rounding=1,at=mt.d.length,at<32?(s=Math.ceil(at/3),a=(1/tinyPow(4,s)).toString()):(s=16,a="2.3283064365386962890625e-10"),mt=taylorSeries(wt,1,mt.times(a),new wt(1),!0);for(var Ct,Dt=s,Ft=new wt(8);Dt--;)Ct=mt.times(mt),mt=$t.minus(Ct.times(Ft.minus(Ct.times(Ft))));return finalise(mt,wt.precision=et,wt.rounding=nt,!0)};P$2.hyperbolicSine=P$2.sinh=function(){var s,a,et,nt,at=this,mt=at.constructor;if(!at.isFinite()||at.isZero())return new mt(at);if(a=mt.precision,et=mt.rounding,mt.precision=a+Math.max(at.e,at.sd())+4,mt.rounding=1,nt=at.d.length,nt<3)at=taylorSeries(mt,2,at,at,!0);else{s=1.4*Math.sqrt(nt),s=s>16?16:s|0,at=at.times(1/tinyPow(5,s)),at=taylorSeries(mt,2,at,at,!0);for(var wt,$t=new mt(5),Ct=new mt(16),Dt=new mt(20);s--;)wt=at.times(at),at=at.times($t.plus(wt.times(Ct.times(wt).plus(Dt))))}return mt.precision=a,mt.rounding=et,finalise(at,a,et,!0)};P$2.hyperbolicTangent=P$2.tanh=function(){var s,a,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+7,nt.rounding=1,divide(et.sinh(),et.cosh(),nt.precision=s,nt.rounding=a)):new nt(et.s)};P$2.inverseCosine=P$2.acos=function(){var s,a=this,et=a.constructor,nt=a.abs().cmp(1),at=et.precision,mt=et.rounding;return nt!==-1?nt===0?a.isNeg()?getPi(et,at,mt):new et(0):new et(NaN):a.isZero()?getPi(et,at+4,mt).times(.5):(et.precision=at+6,et.rounding=1,a=a.asin(),s=getPi(et,at+4,mt).times(.5),et.precision=at,et.rounding=mt,s.minus(a))};P$2.inverseHyperbolicCosine=P$2.acosh=function(){var s,a,et=this,nt=et.constructor;return et.lte(1)?new nt(et.eq(1)?0:NaN):et.isFinite()?(s=nt.precision,a=nt.rounding,nt.precision=s+Math.max(Math.abs(et.e),et.sd())+4,nt.rounding=1,external=!1,et=et.times(et).minus(1).sqrt().plus(et),external=!0,nt.precision=s,nt.rounding=a,et.ln()):new nt(et)};P$2.inverseHyperbolicSine=P$2.asinh=function(){var s,a,et=this,nt=et.constructor;return!et.isFinite()||et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+2*Math.max(Math.abs(et.e),et.sd())+6,nt.rounding=1,external=!1,et=et.times(et).plus(1).sqrt().plus(et),external=!0,nt.precision=s,nt.rounding=a,et.ln())};P$2.inverseHyperbolicTangent=P$2.atanh=function(){var s,a,et,nt,at=this,mt=at.constructor;return at.isFinite()?at.e>=0?new mt(at.abs().eq(1)?at.s/0:at.isZero()?at:NaN):(s=mt.precision,a=mt.rounding,nt=at.sd(),Math.max(nt,s)<2*-at.e-1?finalise(new mt(at),s,a,!0):(mt.precision=et=nt-at.e,at=divide(at.plus(1),new mt(1).minus(at),et+s,1),mt.precision=s+4,mt.rounding=1,at=at.ln(),mt.precision=s,mt.rounding=a,at.times(.5))):new mt(NaN)};P$2.inverseSine=P$2.asin=function(){var s,a,et,nt,at=this,mt=at.constructor;return at.isZero()?new mt(at):(a=at.abs().cmp(1),et=mt.precision,nt=mt.rounding,a!==-1?a===0?(s=getPi(mt,et+4,nt).times(.5),s.s=at.s,s):new mt(NaN):(mt.precision=et+6,mt.rounding=1,at=at.div(new mt(1).minus(at.times(at)).sqrt().plus(1)).atan(),mt.precision=et,mt.rounding=nt,at.times(2)))};P$2.inverseTangent=P$2.atan=function(){var s,a,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Nt=Ft.rounding;if(Dt.isFinite()){if(Dt.isZero())return new Ft(Dt);if(Dt.abs().eq(1)&&jt+4<=PI_PRECISION)return wt=getPi(Ft,jt+4,Nt).times(.25),wt.s=Dt.s,wt}else{if(!Dt.s)return new Ft(NaN);if(jt+4<=PI_PRECISION)return wt=getPi(Ft,jt+4,Nt).times(.5),wt.s=Dt.s,wt}for(Ft.precision=$t=jt+10,Ft.rounding=1,et=Math.min(28,$t/LOG_BASE+2|0),s=et;s;--s)Dt=Dt.div(Dt.times(Dt).plus(1).sqrt().plus(1));for(external=!1,a=Math.ceil($t/LOG_BASE),nt=1,Ct=Dt.times(Dt),wt=new Ft(Dt),at=Dt;s!==-1;)if(at=at.times(Ct),mt=wt.minus(at.div(nt+=2)),at=at.times(Ct),wt=mt.plus(at.div(nt+=2)),wt.d[a]!==void 0)for(s=a;wt.d[s]===mt.d[s]&&s--;);return et&&(wt=wt.times(2<<et-1)),external=!0,finalise(wt,Ft.precision=jt,Ft.rounding=Nt,!0)};P$2.isFinite=function(){return!!this.d};P$2.isInteger=P$2.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2};P$2.isNaN=function(){return!this.s};P$2.isNegative=P$2.isNeg=function(){return this.s<0};P$2.isPositive=P$2.isPos=function(){return this.s>0};P$2.isZero=function(){return!!this.d&&this.d[0]===0};P$2.lessThan=P$2.lt=function(s){return this.cmp(s)<0};P$2.lessThanOrEqualTo=P$2.lte=function(s){return this.cmp(s)<1};P$2.logarithm=P$2.log=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt=this,Ft=Dt.constructor,jt=Ft.precision,Nt=Ft.rounding,Lt=5;if(s==null)s=new Ft(10),a=!0;else{if(s=new Ft(s),et=s.d,s.s<0||!et||!et[0]||s.eq(1))return new Ft(NaN);a=s.eq(10)}if(et=Dt.d,Dt.s<0||!et||!et[0]||Dt.eq(1))return new Ft(et&&!et[0]?-1/0:Dt.s!=1?NaN:et?0:1/0);if(a)if(et.length>1)mt=!0;else{for(at=et[0];at%10===0;)at/=10;mt=at!==1}if(external=!1,$t=jt+Lt,wt=naturalLogarithm(Dt,$t),nt=a?getLn10(Ft,$t+10):naturalLogarithm(s,$t),Ct=divide(wt,nt,$t,1),checkRoundingDigits(Ct.d,at=jt,Nt))do if($t+=10,wt=naturalLogarithm(Dt,$t),nt=a?getLn10(Ft,$t+10):naturalLogarithm(s,$t),Ct=divide(wt,nt,$t,1),!mt){+digitsToString(Ct.d).slice(at+1,at+15)+1==1e14&&(Ct=finalise(Ct,jt+1,0));break}while(checkRoundingDigits(Ct.d,at+=10,Nt));return external=!0,finalise(Ct,jt,Nt)};P$2.minus=P$2.sub=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=this,Ut=Lt.constructor;if(s=new Ut(s),!Lt.d||!s.d)return!Lt.s||!s.s?s=new Ut(NaN):Lt.d?s.s=-s.s:s=new Ut(s.d||Lt.s!==s.s?Lt:NaN),s;if(Lt.s!=s.s)return s.s=-s.s,Lt.plus(s);if(Dt=Lt.d,Nt=s.d,$t=Ut.precision,Ct=Ut.rounding,!Dt[0]||!Nt[0]){if(Nt[0])s.s=-s.s;else if(Dt[0])s=new Ut(Lt);else return new Ut(Ct===3?-0:0);return external?finalise(s,$t,Ct):s}if(et=mathfloor(s.e/LOG_BASE),Ft=mathfloor(Lt.e/LOG_BASE),Dt=Dt.slice(),mt=Ft-et,mt){for(jt=mt<0,jt?(a=Dt,mt=-mt,wt=Nt.length):(a=Nt,et=Ft,wt=Dt.length),nt=Math.max(Math.ceil($t/LOG_BASE),wt)+2,mt>nt&&(mt=nt,a.length=1),a.reverse(),nt=mt;nt--;)a.push(0);a.reverse()}else{for(nt=Dt.length,wt=Nt.length,jt=nt<wt,jt&&(wt=nt),nt=0;nt<wt;nt++)if(Dt[nt]!=Nt[nt]){jt=Dt[nt]<Nt[nt];break}mt=0}for(jt&&(a=Dt,Dt=Nt,Nt=a,s.s=-s.s),wt=Dt.length,nt=Nt.length-wt;nt>0;--nt)Dt[wt++]=0;for(nt=Nt.length;nt>mt;){if(Dt[--nt]<Nt[nt]){for(at=nt;at&&Dt[--at]===0;)Dt[at]=BASE-1;--Dt[at],Dt[nt]+=BASE}Dt[nt]-=Nt[nt]}for(;Dt[--wt]===0;)Dt.pop();for(;Dt[0]===0;Dt.shift())--et;return Dt[0]?(s.d=Dt,s.e=getBase10Exponent(Dt,et),external?finalise(s,$t,Ct):s):new Ut(Ct===3?-0:0)};P$2.modulo=P$2.mod=function(s){var a,et=this,nt=et.constructor;return s=new nt(s),!et.d||!s.s||s.d&&!s.d[0]?new nt(NaN):!s.d||et.d&&!et.d[0]?finalise(new nt(et),nt.precision,nt.rounding):(external=!1,nt.modulo==9?(a=divide(et,s.abs(),0,3,1),a.s*=s.s):a=divide(et,s,0,nt.modulo,1),a=a.times(s),external=!0,et.minus(a))};P$2.naturalExponential=P$2.exp=function(){return naturalExponential(this)};P$2.naturalLogarithm=P$2.ln=function(){return naturalLogarithm(this)};P$2.negated=P$2.neg=function(){var s=new this.constructor(this);return s.s=-s.s,finalise(s)};P$2.plus=P$2.add=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt=this,Nt=jt.constructor;if(s=new Nt(s),!jt.d||!s.d)return!jt.s||!s.s?s=new Nt(NaN):jt.d||(s=new Nt(s.d||jt.s===s.s?jt:NaN)),s;if(jt.s!=s.s)return s.s=-s.s,jt.minus(s);if(Dt=jt.d,Ft=s.d,$t=Nt.precision,Ct=Nt.rounding,!Dt[0]||!Ft[0])return Ft[0]||(s=new Nt(jt)),external?finalise(s,$t,Ct):s;if(mt=mathfloor(jt.e/LOG_BASE),nt=mathfloor(s.e/LOG_BASE),Dt=Dt.slice(),at=mt-nt,at){for(at<0?(et=Dt,at=-at,wt=Ft.length):(et=Ft,nt=mt,wt=Dt.length),mt=Math.ceil($t/LOG_BASE),wt=mt>wt?mt+1:wt+1,at>wt&&(at=wt,et.length=1),et.reverse();at--;)et.push(0);et.reverse()}for(wt=Dt.length,at=Ft.length,wt-at<0&&(at=wt,et=Ft,Ft=Dt,Dt=et),a=0;at;)a=(Dt[--at]=Dt[at]+Ft[at]+a)/BASE|0,Dt[at]%=BASE;for(a&&(Dt.unshift(a),++nt),wt=Dt.length;Dt[--wt]==0;)Dt.pop();return s.d=Dt,s.e=getBase10Exponent(Dt,nt),external?finalise(s,$t,Ct):s};P$2.precision=P$2.sd=function(s){var a,et=this;if(s!==void 0&&s!==!!s&&s!==1&&s!==0)throw Error(invalidArgument+s);return et.d?(a=getPrecision(et.d),s&&et.e+1>a&&(a=et.e+1)):a=NaN,a};P$2.round=function(){var s=this,a=s.constructor;return finalise(new a(s),s.e+1,a.rounding)};P$2.sine=P$2.sin=function(){var s,a,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+Math.max(et.e,et.sd())+LOG_BASE,nt.rounding=1,et=sine(nt,toLessThanHalfPi(nt,et)),nt.precision=s,nt.rounding=a,finalise(quadrant>2?et.neg():et,s,a,!0)):new nt(NaN)};P$2.squareRoot=P$2.sqrt=function(){var s,a,et,nt,at,mt,wt=this,$t=wt.d,Ct=wt.e,Dt=wt.s,Ft=wt.constructor;if(Dt!==1||!$t||!$t[0])return new Ft(!Dt||Dt<0&&(!$t||$t[0])?NaN:$t?wt:1/0);for(external=!1,Dt=Math.sqrt(+wt),Dt==0||Dt==1/0?(a=digitsToString($t),(a.length+Ct)%2==0&&(a+="0"),Dt=Math.sqrt(a),Ct=mathfloor((Ct+1)/2)-(Ct<0||Ct%2),Dt==1/0?a="5e"+Ct:(a=Dt.toExponential(),a=a.slice(0,a.indexOf("e")+1)+Ct),nt=new Ft(a)):nt=new Ft(Dt.toString()),et=(Ct=Ft.precision)+3;;)if(mt=nt,nt=mt.plus(divide(wt,mt,et+2,1)).times(.5),digitsToString(mt.d).slice(0,et)===(a=digitsToString(nt.d)).slice(0,et))if(a=a.slice(et-3,et+1),a=="9999"||!at&&a=="4999"){if(!at&&(finalise(mt,Ct+1,0),mt.times(mt).eq(wt))){nt=mt;break}et+=4,at=1}else{(!+a||!+a.slice(1)&&a.charAt(0)=="5")&&(finalise(nt,Ct+1,1),s=!nt.times(nt).eq(wt));break}return external=!0,finalise(nt,Ct,Ft.rounding,s)};P$2.tangent=P$2.tan=function(){var s,a,et=this,nt=et.constructor;return et.isFinite()?et.isZero()?new nt(et):(s=nt.precision,a=nt.rounding,nt.precision=s+10,nt.rounding=1,et=et.sin(),et.s=1,et=divide(et,new nt(1).minus(et.times(et)).sqrt(),s+10,0),nt.precision=s,nt.rounding=a,finalise(quadrant==2||quadrant==4?et.neg():et,s,a,!0)):new nt(NaN)};P$2.times=P$2.mul=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft=this,jt=Ft.constructor,Nt=Ft.d,Lt=(s=new jt(s)).d;if(s.s*=Ft.s,!Nt||!Nt[0]||!Lt||!Lt[0])return new jt(!s.s||Nt&&!Nt[0]&&!Lt||Lt&&!Lt[0]&&!Nt?NaN:!Nt||!Lt?s.s/0:s.s*0);for(et=mathfloor(Ft.e/LOG_BASE)+mathfloor(s.e/LOG_BASE),Ct=Nt.length,Dt=Lt.length,Ct<Dt&&(mt=Nt,Nt=Lt,Lt=mt,wt=Ct,Ct=Dt,Dt=wt),mt=[],wt=Ct+Dt,nt=wt;nt--;)mt.push(0);for(nt=Dt;--nt>=0;){for(a=0,at=Ct+nt;at>nt;)$t=mt[at]+Lt[nt]*Nt[at-nt-1]+a,mt[at--]=$t%BASE|0,a=$t/BASE|0;mt[at]=(mt[at]+a)%BASE|0}for(;!mt[--wt];)mt.pop();return a?++et:mt.shift(),s.d=mt,s.e=getBase10Exponent(mt,et),external?finalise(s,jt.precision,jt.rounding):s};P$2.toBinary=function(s,a){return toStringBinary(this,2,s,a)};P$2.toDecimalPlaces=P$2.toDP=function(s,a){var et=this,nt=et.constructor;return et=new nt(et),s===void 0?et:(checkInt32(s,0,MAX_DIGITS),a===void 0?a=nt.rounding:checkInt32(a,0,8),finalise(et,s+et.e+1,a))};P$2.toExponential=function(s,a){var et,nt=this,at=nt.constructor;return s===void 0?et=finiteToString(nt,!0):(checkInt32(s,0,MAX_DIGITS),a===void 0?a=at.rounding:checkInt32(a,0,8),nt=finalise(new at(nt),s+1,a),et=finiteToString(nt,!0,s+1)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$2.toFixed=function(s,a){var et,nt,at=this,mt=at.constructor;return s===void 0?et=finiteToString(at):(checkInt32(s,0,MAX_DIGITS),a===void 0?a=mt.rounding:checkInt32(a,0,8),nt=finalise(new mt(at),s+at.e+1,a),et=finiteToString(nt,!1,s+nt.e+1)),at.isNeg()&&!at.isZero()?"-"+et:et};P$2.toFraction=function(s){var a,et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=this,Ut=Lt.d,Vt=Lt.constructor;if(!Ut)return new Vt(Lt);if(Dt=et=new Vt(1),nt=Ct=new Vt(0),a=new Vt(nt),mt=a.e=getPrecision(Ut)-Lt.e-1,wt=mt%LOG_BASE,a.d[0]=mathpow(10,wt<0?LOG_BASE+wt:wt),s==null)s=mt>0?a:Dt;else{if($t=new Vt(s),!$t.isInt()||$t.lt(Dt))throw Error(invalidArgument+$t);s=$t.gt(a)?mt>0?a:Dt:$t}for(external=!1,$t=new Vt(digitsToString(Ut)),Ft=Vt.precision,Vt.precision=mt=Ut.length*LOG_BASE*2;jt=divide($t,a,0,1,1),at=et.plus(jt.times(nt)),at.cmp(s)!=1;)et=nt,nt=at,at=Dt,Dt=Ct.plus(jt.times(at)),Ct=at,at=a,a=$t.minus(jt.times(at)),$t=at;return at=divide(s.minus(et),nt,0,1,1),Ct=Ct.plus(at.times(Dt)),et=et.plus(at.times(nt)),Ct.s=Dt.s=Lt.s,Nt=divide(Dt,nt,mt,1).minus(Lt).abs().cmp(divide(Ct,et,mt,1).minus(Lt).abs())<1?[Dt,nt]:[Ct,et],Vt.precision=Ft,external=!0,Nt};P$2.toHexadecimal=P$2.toHex=function(s,a){return toStringBinary(this,16,s,a)};P$2.toNearest=function(s,a){var et=this,nt=et.constructor;if(et=new nt(et),s==null){if(!et.d)return et;s=new nt(1),a=nt.rounding}else{if(s=new nt(s),a===void 0?a=nt.rounding:checkInt32(a,0,8),!et.d)return s.s?et:s;if(!s.d)return s.s&&(s.s=et.s),s}return s.d[0]?(external=!1,et=divide(et,s,0,a,1).times(s),external=!0,finalise(et)):(s.s=et.s,et=s),et};P$2.toNumber=function(){return+this};P$2.toOctal=function(s,a){return toStringBinary(this,8,s,a)};P$2.toPower=P$2.pow=function(s){var a,et,nt,at,mt,wt,$t=this,Ct=$t.constructor,Dt=+(s=new Ct(s));if(!$t.d||!s.d||!$t.d[0]||!s.d[0])return new Ct(mathpow(+$t,Dt));if($t=new Ct($t),$t.eq(1))return $t;if(nt=Ct.precision,mt=Ct.rounding,s.eq(1))return finalise($t,nt,mt);if(a=mathfloor(s.e/LOG_BASE),a>=s.d.length-1&&(et=Dt<0?-Dt:Dt)<=MAX_SAFE_INTEGER$2)return at=intPow(Ct,$t,et,nt),s.s<0?new Ct(1).div(at):finalise(at,nt,mt);if(wt=$t.s,wt<0){if(a<s.d.length-1)return new Ct(NaN);if(s.d[a]&1||(wt=1),$t.e==0&&$t.d[0]==1&&$t.d.length==1)return $t.s=wt,$t}return et=mathpow(+$t,Dt),a=et==0||!isFinite(et)?mathfloor(Dt*(Math.log("0."+digitsToString($t.d))/Math.LN10+$t.e+1)):new Ct(et+"").e,a>Ct.maxE+1||a<Ct.minE-1?new Ct(a>0?wt/0:0):(external=!1,Ct.rounding=$t.s=1,et=Math.min(12,(a+"").length),at=naturalExponential(s.times(naturalLogarithm($t,nt+et)),nt),at.d&&(at=finalise(at,nt+5,1),checkRoundingDigits(at.d,nt,mt)&&(a=nt+10,at=finalise(naturalExponential(s.times(naturalLogarithm($t,a+et)),a),a+5,1),+digitsToString(at.d).slice(nt+1,nt+15)+1==1e14&&(at=finalise(at,nt+1,0)))),at.s=wt,external=!0,Ct.rounding=mt,finalise(at,nt,mt))};P$2.toPrecision=function(s,a){var et,nt=this,at=nt.constructor;return s===void 0?et=finiteToString(nt,nt.e<=at.toExpNeg||nt.e>=at.toExpPos):(checkInt32(s,1,MAX_DIGITS),a===void 0?a=at.rounding:checkInt32(a,0,8),nt=finalise(new at(nt),s,a),et=finiteToString(nt,s<=nt.e||nt.e<=at.toExpNeg,s)),nt.isNeg()&&!nt.isZero()?"-"+et:et};P$2.toSignificantDigits=P$2.toSD=function(s,a){var et=this,nt=et.constructor;return s===void 0?(s=nt.precision,a=nt.rounding):(checkInt32(s,1,MAX_DIGITS),a===void 0?a=nt.rounding:checkInt32(a,0,8)),finalise(new nt(et),s,a)};P$2.toString=function(){var s=this,a=s.constructor,et=finiteToString(s,s.e<=a.toExpNeg||s.e>=a.toExpPos);return s.isNeg()&&!s.isZero()?"-"+et:et};P$2.truncated=P$2.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)};P$2.valueOf=P$2.toJSON=function(){var s=this,a=s.constructor,et=finiteToString(s,s.e<=a.toExpNeg||s.e>=a.toExpPos);return s.isNeg()?"-"+et:et};function digitsToString(s){var a,et,nt,at=s.length-1,mt="",wt=s[0];if(at>0){for(mt+=wt,a=1;a<at;a++)nt=s[a]+"",et=LOG_BASE-nt.length,et&&(mt+=getZeroString(et)),mt+=nt;wt=s[a],nt=wt+"",et=LOG_BASE-nt.length,et&&(mt+=getZeroString(et))}else if(wt===0)return"0";for(;wt%10===0;)wt/=10;return mt+wt}function checkInt32(s,a,et){if(s!==~~s||s<a||s>et)throw Error(invalidArgument+s)}function checkRoundingDigits(s,a,et,nt){var at,mt,wt,$t;for(mt=s[0];mt>=10;mt/=10)--a;return--a<0?(a+=LOG_BASE,at=0):(at=Math.ceil((a+1)/LOG_BASE),a%=LOG_BASE),mt=mathpow(10,LOG_BASE-a),$t=s[at]%mt|0,nt==null?a<3?(a==0?$t=$t/100|0:a==1&&($t=$t/10|0),wt=et<4&&$t==99999||et>3&&$t==49999||$t==5e4||$t==0):wt=(et<4&&$t+1==mt||et>3&&$t+1==mt/2)&&(s[at+1]/mt/100|0)==mathpow(10,a-2)-1||($t==mt/2||$t==0)&&(s[at+1]/mt/100|0)==0:a<4?(a==0?$t=$t/1e3|0:a==1?$t=$t/100|0:a==2&&($t=$t/10|0),wt=(nt||et<4)&&$t==9999||!nt&&et>3&&$t==4999):wt=((nt||et<4)&&$t+1==mt||!nt&&et>3&&$t+1==mt/2)&&(s[at+1]/mt/1e3|0)==mathpow(10,a-3)-1,wt}function convertBase(s,a,et){for(var nt,at=[0],mt,wt=0,$t=s.length;wt<$t;){for(mt=at.length;mt--;)at[mt]*=a;for(at[0]+=NUMERALS.indexOf(s.charAt(wt++)),nt=0;nt<at.length;nt++)at[nt]>et-1&&(at[nt+1]===void 0&&(at[nt+1]=0),at[nt+1]+=at[nt]/et|0,at[nt]%=et)}return at.reverse()}function cosine(s,a){var et,nt,at;if(a.isZero())return a;nt=a.d.length,nt<32?(et=Math.ceil(nt/3),at=(1/tinyPow(4,et)).toString()):(et=16,at="2.3283064365386962890625e-10"),s.precision+=et,a=taylorSeries(s,1,a.times(at),new s(1));for(var mt=et;mt--;){var wt=a.times(a);a=wt.times(wt).minus(wt).times(8).plus(1)}return s.precision-=et,a}var divide=function(){function s(nt,at,mt){var wt,$t=0,Ct=nt.length;for(nt=nt.slice();Ct--;)wt=nt[Ct]*at+$t,nt[Ct]=wt%mt|0,$t=wt/mt|0;return $t&&nt.unshift($t),nt}function a(nt,at,mt,wt){var $t,Ct;if(mt!=wt)Ct=mt>wt?1:-1;else for($t=Ct=0;$t<mt;$t++)if(nt[$t]!=at[$t]){Ct=nt[$t]>at[$t]?1:-1;break}return Ct}function et(nt,at,mt,wt){for(var $t=0;mt--;)nt[mt]-=$t,$t=nt[mt]<at[mt]?1:0,nt[mt]=$t*wt+nt[mt]-at[mt];for(;!nt[0]&&nt.length>1;)nt.shift()}return function(nt,at,mt,wt,$t,Ct){var Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt,er,tr,nr,sr,dr,br,vr,yr,$r,Sr,wr,fr,_r=nt.constructor,ir=nt.s==at.s?1:-1,rr=nt.d,or=at.d;if(!rr||!rr[0]||!or||!or[0])return new _r(!nt.s||!at.s||(rr?or&&rr[0]==or[0]:!or)?NaN:rr&&rr[0]==0||!or?ir*0:ir/0);for(Ct?(Lt=1,Ft=nt.e-at.e):(Ct=BASE,Lt=LOG_BASE,Ft=mathfloor(nt.e/Lt)-mathfloor(at.e/Lt)),wr=or.length,$r=rr.length,er=new _r(ir),tr=er.d=[],jt=0;or[jt]==(rr[jt]||0);jt++);if(or[jt]>(rr[jt]||0)&&Ft--,mt==null?(br=mt=_r.precision,wt=_r.rounding):$t?br=mt+(nt.e-at.e)+1:br=mt,br<0)tr.push(1),Ut=!0;else{if(br=br/Lt+2|0,jt=0,wr==1){for(Nt=0,or=or[0],br++;(jt<$r||Nt)&&br--;jt++)vr=Nt*Ct+(rr[jt]||0),tr[jt]=vr/or|0,Nt=vr%or|0;Ut=Nt||jt<$r}else{for(Nt=Ct/(or[0]+1)|0,Nt>1&&(or=s(or,Nt,Ct),rr=s(rr,Nt,Ct),wr=or.length,$r=rr.length),yr=wr,nr=rr.slice(0,wr),sr=nr.length;sr<wr;)nr[sr++]=0;fr=or.slice(),fr.unshift(0),Sr=or[0],or[1]>=Ct/2&&++Sr;do Nt=0,Dt=a(or,nr,wr,sr),Dt<0?(dr=nr[0],wr!=sr&&(dr=dr*Ct+(nr[1]||0)),Nt=dr/Sr|0,Nt>1?(Nt>=Ct&&(Nt=Ct-1),Vt=s(or,Nt,Ct),Yt=Vt.length,sr=nr.length,Dt=a(Vt,nr,Yt,sr),Dt==1&&(Nt--,et(Vt,wr<Yt?fr:or,Yt,Ct))):(Nt==0&&(Dt=Nt=1),Vt=or.slice()),Yt=Vt.length,Yt<sr&&Vt.unshift(0),et(nr,Vt,sr,Ct),Dt==-1&&(sr=nr.length,Dt=a(or,nr,wr,sr),Dt<1&&(Nt++,et(nr,wr<sr?fr:or,sr,Ct))),sr=nr.length):Dt===0&&(Nt++,nr=[0]),tr[jt++]=Nt,Dt&&nr[0]?nr[sr++]=rr[yr]||0:(nr=[rr[yr]],sr=1);while((yr++<$r||nr[0]!==void 0)&&br--);Ut=nr[0]!==void 0}tr[0]||tr.shift()}if(Lt==1)er.e=Ft,inexact=Ut;else{for(jt=1,Nt=tr[0];Nt>=10;Nt/=10)jt++;er.e=jt+Ft*Lt-1,finalise(er,$t?mt+er.e+1:mt,wt,Ut)}return er}}();function finalise(s,a,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=s.constructor;e:if(a!=null){if(jt=s.d,!jt)return s;for(at=1,$t=jt[0];$t>=10;$t/=10)at++;if(mt=a-at,mt<0)mt+=LOG_BASE,wt=a,Ft=jt[Nt=0],Ct=Ft/mathpow(10,at-wt-1)%10|0;else if(Nt=Math.ceil((mt+1)/LOG_BASE),$t=jt.length,Nt>=$t)if(nt){for(;$t++<=Nt;)jt.push(0);Ft=Ct=0,at=1,mt%=LOG_BASE,wt=mt-LOG_BASE+1}else break e;else{for(Ft=$t=jt[Nt],at=1;$t>=10;$t/=10)at++;mt%=LOG_BASE,wt=mt-LOG_BASE+at,Ct=wt<0?0:Ft/mathpow(10,at-wt-1)%10|0}if(nt=nt||a<0||jt[Nt+1]!==void 0||(wt<0?Ft:Ft%mathpow(10,at-wt-1)),Dt=et<4?(Ct||nt)&&(et==0||et==(s.s<0?3:2)):Ct>5||Ct==5&&(et==4||nt||et==6&&(mt>0?wt>0?Ft/mathpow(10,at-wt):0:jt[Nt-1])%10&1||et==(s.s<0?8:7)),a<1||!jt[0])return jt.length=0,Dt?(a-=s.e+1,jt[0]=mathpow(10,(LOG_BASE-a%LOG_BASE)%LOG_BASE),s.e=-a||0):jt[0]=s.e=0,s;if(mt==0?(jt.length=Nt,$t=1,Nt--):(jt.length=Nt+1,$t=mathpow(10,LOG_BASE-mt),jt[Nt]=wt>0?(Ft/mathpow(10,at-wt)%mathpow(10,wt)|0)*$t:0),Dt)for(;;)if(Nt==0){for(mt=1,wt=jt[0];wt>=10;wt/=10)mt++;for(wt=jt[0]+=$t,$t=1;wt>=10;wt/=10)$t++;mt!=$t&&(s.e++,jt[0]==BASE&&(jt[0]=1));break}else{if(jt[Nt]+=$t,jt[Nt]!=BASE)break;jt[Nt--]=0,$t=1}for(mt=jt.length;jt[--mt]===0;)jt.pop()}return external&&(s.e>Lt.maxE?(s.d=null,s.e=NaN):s.e<Lt.minE&&(s.e=0,s.d=[0])),s}function finiteToString(s,a,et){if(!s.isFinite())return nonFiniteToString(s);var nt,at=s.e,mt=digitsToString(s.d),wt=mt.length;return a?(et&&(nt=et-wt)>0?mt=mt.charAt(0)+"."+mt.slice(1)+getZeroString(nt):wt>1&&(mt=mt.charAt(0)+"."+mt.slice(1)),mt=mt+(s.e<0?"e":"e+")+s.e):at<0?(mt="0."+getZeroString(-at-1)+mt,et&&(nt=et-wt)>0&&(mt+=getZeroString(nt))):at>=wt?(mt+=getZeroString(at+1-wt),et&&(nt=et-at-1)>0&&(mt=mt+"."+getZeroString(nt))):((nt=at+1)<wt&&(mt=mt.slice(0,nt)+"."+mt.slice(nt)),et&&(nt=et-wt)>0&&(at+1===wt&&(mt+="."),mt+=getZeroString(nt))),mt}function getBase10Exponent(s,a){var et=s[0];for(a*=LOG_BASE;et>=10;et/=10)a++;return a}function getLn10(s,a,et){if(a>LN10_PRECISION)throw external=!0,et&&(s.precision=et),Error(precisionLimitExceeded);return finalise(new s(LN10),a,1,!0)}function getPi(s,a,et){if(a>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new s(PI),a,et,!0)}function getPrecision(s){var a=s.length-1,et=a*LOG_BASE+1;if(a=s[a],a){for(;a%10==0;a/=10)et--;for(a=s[0];a>=10;a/=10)et++}return et}function getZeroString(s){for(var a="";s--;)a+="0";return a}function intPow(s,a,et,nt){var at,mt=new s(1),wt=Math.ceil(nt/LOG_BASE+4);for(external=!1;;){if(et%2&&(mt=mt.times(a),truncate(mt.d,wt)&&(at=!0)),et=mathfloor(et/2),et===0){et=mt.d.length-1,at&&mt.d[et]===0&&++mt.d[et];break}a=a.times(a),truncate(a.d,wt)}return external=!0,mt}function isOdd(s){return s.d[s.d.length-1]&1}function maxOrMin(s,a,et){for(var nt,at=new s(a[0]),mt=0;++mt<a.length;)if(nt=new s(a[mt]),nt.s)at[et](nt)&&(at=nt);else{at=nt;break}return at}function naturalExponential(s,a){var et,nt,at,mt,wt,$t,Ct,Dt=0,Ft=0,jt=0,Nt=s.constructor,Lt=Nt.rounding,Ut=Nt.precision;if(!s.d||!s.d[0]||s.e>17)return new Nt(s.d?s.d[0]?s.s<0?0:1/0:1:s.s?s.s<0?0:s:NaN);for(a==null?(external=!1,Ct=Ut):Ct=a,$t=new Nt(.03125);s.e>-2;)s=s.times($t),jt+=5;for(nt=Math.log(mathpow(2,jt))/Math.LN10*2+5|0,Ct+=nt,et=mt=wt=new Nt(1),Nt.precision=Ct;;){if(mt=finalise(mt.times(s),Ct,1),et=et.times(++Ft),$t=wt.plus(divide(mt,et,Ct,1)),digitsToString($t.d).slice(0,Ct)===digitsToString(wt.d).slice(0,Ct)){for(at=jt;at--;)wt=finalise(wt.times(wt),Ct,1);if(a==null)if(Dt<3&&checkRoundingDigits(wt.d,Ct-nt,Lt,Dt))Nt.precision=Ct+=10,et=mt=$t=new Nt(1),Ft=0,Dt++;else return finalise(wt,Nt.precision=Ut,Lt,external=!0);else return Nt.precision=Ut,wt}wt=$t}}function naturalLogarithm(s,a){var et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=1,Ut=10,Vt=s,Yt=Vt.d,er=Vt.constructor,tr=er.rounding,nr=er.precision;if(Vt.s<0||!Yt||!Yt[0]||!Vt.e&&Yt[0]==1&&Yt.length==1)return new er(Yt&&!Yt[0]?-1/0:Vt.s!=1?NaN:Yt?0:Vt);if(a==null?(external=!1,Ft=nr):Ft=a,er.precision=Ft+=Ut,et=digitsToString(Yt),nt=et.charAt(0),Math.abs(mt=Vt.e)<15e14){for(;nt<7&&nt!=1||nt==1&&et.charAt(1)>3;)Vt=Vt.times(s),et=digitsToString(Vt.d),nt=et.charAt(0),Lt++;mt=Vt.e,nt>1?(Vt=new er("0."+et),mt++):Vt=new er(nt+"."+et.slice(1))}else return Dt=getLn10(er,Ft+2,nr).times(mt+""),Vt=naturalLogarithm(new er(nt+"."+et.slice(1)),Ft-Ut).plus(Dt),er.precision=nr,a==null?finalise(Vt,nr,tr,external=!0):Vt;for(jt=Vt,Ct=wt=Vt=divide(Vt.minus(1),Vt.plus(1),Ft,1),Nt=finalise(Vt.times(Vt),Ft,1),at=3;;){if(wt=finalise(wt.times(Nt),Ft,1),Dt=Ct.plus(divide(wt,new er(at),Ft,1)),digitsToString(Dt.d).slice(0,Ft)===digitsToString(Ct.d).slice(0,Ft))if(Ct=Ct.times(2),mt!==0&&(Ct=Ct.plus(getLn10(er,Ft+2,nr).times(mt+""))),Ct=divide(Ct,new er(Lt),Ft,1),a==null)if(checkRoundingDigits(Ct.d,Ft-Ut,tr,$t))er.precision=Ft+=Ut,Dt=wt=Vt=divide(jt.minus(1),jt.plus(1),Ft,1),Nt=finalise(Vt.times(Vt),Ft,1),at=$t=1;else return finalise(Ct,er.precision=nr,tr,external=!0);else return er.precision=nr,Ct;Ct=Dt,at+=2}}function nonFiniteToString(s){return String(s.s*s.s/0)}function parseDecimal(s,a){var et,nt,at;for((et=a.indexOf("."))>-1&&(a=a.replace(".","")),(nt=a.search(/e/i))>0?(et<0&&(et=nt),et+=+a.slice(nt+1),a=a.substring(0,nt)):et<0&&(et=a.length),nt=0;a.charCodeAt(nt)===48;nt++);for(at=a.length;a.charCodeAt(at-1)===48;--at);if(a=a.slice(nt,at),a){if(at-=nt,s.e=et=et-nt-1,s.d=[],nt=(et+1)%LOG_BASE,et<0&&(nt+=LOG_BASE),nt<at){for(nt&&s.d.push(+a.slice(0,nt)),at-=LOG_BASE;nt<at;)s.d.push(+a.slice(nt,nt+=LOG_BASE));a=a.slice(nt),nt=LOG_BASE-a.length}else nt-=at;for(;nt--;)a+="0";s.d.push(+a),external&&(s.e>s.constructor.maxE?(s.d=null,s.e=NaN):s.e<s.constructor.minE&&(s.e=0,s.d=[0]))}else s.e=0,s.d=[0];return s}function parseOther(s,a){var et,nt,at,mt,wt,$t,Ct,Dt,Ft;if(a.indexOf("_")>-1){if(a=a.replace(/(\d)_(?=\d)/g,"$1"),isDecimal.test(a))return parseDecimal(s,a)}else if(a==="Infinity"||a==="NaN")return+a||(s.s=NaN),s.e=NaN,s.d=null,s;if(isHex.test(a))et=16,a=a.toLowerCase();else if(isBinary.test(a))et=2;else if(isOctal.test(a))et=8;else throw Error(invalidArgument+a);for(mt=a.search(/p/i),mt>0?(Ct=+a.slice(mt+1),a=a.substring(2,mt)):a=a.slice(2),mt=a.indexOf("."),wt=mt>=0,nt=s.constructor,wt&&(a=a.replace(".",""),$t=a.length,mt=$t-mt,at=intPow(nt,new nt(et),mt,mt*2)),Dt=convertBase(a,et,BASE),Ft=Dt.length-1,mt=Ft;Dt[mt]===0;--mt)Dt.pop();return mt<0?new nt(s.s*0):(s.e=getBase10Exponent(Dt,Ft),s.d=Dt,external=!1,wt&&(s=divide(s,at,$t*4)),Ct&&(s=s.times(Math.abs(Ct)<54?mathpow(2,Ct):Decimal.pow(2,Ct))),external=!0,s)}function sine(s,a){var et,nt=a.d.length;if(nt<3)return a.isZero()?a:taylorSeries(s,2,a,a);et=1.4*Math.sqrt(nt),et=et>16?16:et|0,a=a.times(1/tinyPow(5,et)),a=taylorSeries(s,2,a,a);for(var at,mt=new s(5),wt=new s(16),$t=new s(20);et--;)at=a.times(a),a=a.times(mt.plus(at.times(wt.times(at).minus($t))));return a}function taylorSeries(s,a,et,nt,at){var mt,wt,$t,Ct,Dt=s.precision,Ft=Math.ceil(Dt/LOG_BASE);for(external=!1,Ct=et.times(et),$t=new s(nt);;){if(wt=divide($t.times(Ct),new s(a++*a++),Dt,1),$t=at?nt.plus(wt):nt.minus(wt),nt=divide(wt.times(Ct),new s(a++*a++),Dt,1),wt=$t.plus(nt),wt.d[Ft]!==void 0){for(mt=Ft;wt.d[mt]===$t.d[mt]&&mt--;);if(mt==-1)break}mt=$t,$t=nt,nt=wt,wt=mt}return external=!0,wt.d.length=Ft+1,wt}function tinyPow(s,a){for(var et=s;--a;)et*=s;return et}function toLessThanHalfPi(s,a){var et,nt=a.s<0,at=getPi(s,s.precision,1),mt=at.times(.5);if(a=a.abs(),a.lte(mt))return quadrant=nt?4:1,a;if(et=a.divToInt(at),et.isZero())quadrant=nt?3:2;else{if(a=a.minus(et.times(at)),a.lte(mt))return quadrant=isOdd(et)?nt?2:3:nt?4:1,a;quadrant=isOdd(et)?nt?1:4:nt?3:2}return a.minus(at).abs()}function toStringBinary(s,a,et,nt){var at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt=s.constructor,Ut=et!==void 0;if(Ut?(checkInt32(et,1,MAX_DIGITS),nt===void 0?nt=Lt.rounding:checkInt32(nt,0,8)):(et=Lt.precision,nt=Lt.rounding),!s.isFinite())Ft=nonFiniteToString(s);else{for(Ft=finiteToString(s),wt=Ft.indexOf("."),Ut?(at=2,a==16?et=et*4-3:a==8&&(et=et*3-2)):at=a,wt>=0&&(Ft=Ft.replace(".",""),Nt=new Lt(1),Nt.e=Ft.length-wt,Nt.d=convertBase(finiteToString(Nt),10,at),Nt.e=Nt.d.length),jt=convertBase(Ft,10,at),mt=Ct=jt.length;jt[--Ct]==0;)jt.pop();if(!jt[0])Ft=Ut?"0p+0":"0";else{if(wt<0?mt--:(s=new Lt(s),s.d=jt,s.e=mt,s=divide(s,Nt,et,nt,0,at),jt=s.d,mt=s.e,Dt=inexact),wt=jt[et],$t=at/2,Dt=Dt||jt[et+1]!==void 0,Dt=nt<4?(wt!==void 0||Dt)&&(nt===0||nt===(s.s<0?3:2)):wt>$t||wt===$t&&(nt===4||Dt||nt===6&&jt[et-1]&1||nt===(s.s<0?8:7)),jt.length=et,Dt)for(;++jt[--et]>at-1;)jt[et]=0,et||(++mt,jt.unshift(1));for(Ct=jt.length;!jt[Ct-1];--Ct);for(wt=0,Ft="";wt<Ct;wt++)Ft+=NUMERALS.charAt(jt[wt]);if(Ut){if(Ct>1)if(a==16||a==8){for(wt=a==16?4:3,--Ct;Ct%wt;Ct++)Ft+="0";for(jt=convertBase(Ft,at,a),Ct=jt.length;!jt[Ct-1];--Ct);for(wt=1,Ft="1.";wt<Ct;wt++)Ft+=NUMERALS.charAt(jt[wt])}else Ft=Ft.charAt(0)+"."+Ft.slice(1);Ft=Ft+(mt<0?"p":"p+")+mt}else if(mt<0){for(;++mt;)Ft="0"+Ft;Ft="0."+Ft}else if(++mt>Ct)for(mt-=Ct;mt--;)Ft+="0";else mt<Ct&&(Ft=Ft.slice(0,mt)+"."+Ft.slice(mt))}Ft=(a==16?"0x":a==2?"0b":a==8?"0o":"")+Ft}return s.s<0?"-"+Ft:Ft}function truncate(s,a){if(s.length>a)return s.length=a,!0}function abs$1(s){return new this(s).abs()}function acos(s){return new this(s).acos()}function acosh(s){return new this(s).acosh()}function add(s,a){return new this(s).plus(a)}function asin(s){return new this(s).asin()}function asinh(s){return new this(s).asinh()}function atan(s){return new this(s).atan()}function atanh(s){return new this(s).atanh()}function atan2(s,a){s=new this(s),a=new this(a);var et,nt=this.precision,at=this.rounding,mt=nt+4;return!s.s||!a.s?et=new this(NaN):!s.d&&!a.d?(et=getPi(this,mt,1).times(a.s>0?.25:.75),et.s=s.s):!a.d||s.isZero()?(et=a.s<0?getPi(this,nt,at):new this(0),et.s=s.s):!s.d||a.isZero()?(et=getPi(this,mt,1).times(.5),et.s=s.s):a.s<0?(this.precision=mt,this.rounding=1,et=this.atan(divide(s,a,mt,1)),a=getPi(this,mt,1),this.precision=nt,this.rounding=at,et=s.s<0?et.minus(a):et.plus(a)):et=this.atan(divide(s,a,mt,1)),et}function cbrt(s){return new this(s).cbrt()}function ceil(s){return finalise(s=new this(s),s.e+1,2)}function clamp$2(s,a,et){return new this(s).clamp(a,et)}function config$2(s){if(!s||typeof s!="object")throw Error(decimalError+"Object expected");var a,et,nt,at=s.defaults===!0,mt=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-9e15,0,"modulo",0,9];for(a=0;a<mt.length;a+=3)if(et=mt[a],at&&(this[et]=DEFAULTS[et]),(nt=s[et])!==void 0)if(mathfloor(nt)===nt&&nt>=mt[a+1]&&nt<=mt[a+2])this[et]=nt;else throw Error(invalidArgument+et+": "+nt);if(et="crypto",at&&(this[et]=DEFAULTS[et]),(nt=s[et])!==void 0)if(nt===!0||nt===!1||nt===0||nt===1)if(nt)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[et]=!0;else throw Error(cryptoUnavailable);else this[et]=!1;else throw Error(invalidArgument+et+": "+nt);return this}function cos(s){return new this(s).cos()}function cosh(s){return new this(s).cosh()}function clone$1(s){var a,et,nt;function at(mt){var wt,$t,Ct,Dt=this;if(!(Dt instanceof at))return new at(mt);if(Dt.constructor=at,isDecimalInstance(mt)){Dt.s=mt.s,external?!mt.d||mt.e>at.maxE?(Dt.e=NaN,Dt.d=null):mt.e<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=mt.e,Dt.d=mt.d.slice()):(Dt.e=mt.e,Dt.d=mt.d?mt.d.slice():mt.d);return}if(Ct=typeof mt,Ct==="number"){if(mt===0){Dt.s=1/mt<0?-1:1,Dt.e=0,Dt.d=[0];return}if(mt<0?(mt=-mt,Dt.s=-1):Dt.s=1,mt===~~mt&&mt<1e7){for(wt=0,$t=mt;$t>=10;$t/=10)wt++;external?wt>at.maxE?(Dt.e=NaN,Dt.d=null):wt<at.minE?(Dt.e=0,Dt.d=[0]):(Dt.e=wt,Dt.d=[mt]):(Dt.e=wt,Dt.d=[mt]);return}else if(mt*0!==0){mt||(Dt.s=NaN),Dt.e=NaN,Dt.d=null;return}return parseDecimal(Dt,mt.toString())}else if(Ct!=="string")throw Error(invalidArgument+mt);return($t=mt.charCodeAt(0))===45?(mt=mt.slice(1),Dt.s=-1):($t===43&&(mt=mt.slice(1)),Dt.s=1),isDecimal.test(mt)?parseDecimal(Dt,mt):parseOther(Dt,mt)}if(at.prototype=P$2,at.ROUND_UP=0,at.ROUND_DOWN=1,at.ROUND_CEIL=2,at.ROUND_FLOOR=3,at.ROUND_HALF_UP=4,at.ROUND_HALF_DOWN=5,at.ROUND_HALF_EVEN=6,at.ROUND_HALF_CEIL=7,at.ROUND_HALF_FLOOR=8,at.EUCLID=9,at.config=at.set=config$2,at.clone=clone$1,at.isDecimal=isDecimalInstance,at.abs=abs$1,at.acos=acos,at.acosh=acosh,at.add=add,at.asin=asin,at.asinh=asinh,at.atan=atan,at.atanh=atanh,at.atan2=atan2,at.cbrt=cbrt,at.ceil=ceil,at.clamp=clamp$2,at.cos=cos,at.cosh=cosh,at.div=div,at.exp=exp,at.floor=floor$1,at.hypot=hypot,at.ln=ln$2,at.log=log,at.log10=log10,at.log2=log2,at.max=max$1,at.min=min$1,at.mod=mod,at.mul=mul,at.pow=pow$1,at.random=random,at.round=round$1,at.sign=sign$2,at.sin=sin,at.sinh=sinh,at.sqrt=sqrt,at.sub=sub,at.sum=sum,at.tan=tan,at.tanh=tanh,at.trunc=trunc,s===void 0&&(s={}),s&&s.defaults!==!0)for(nt=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],a=0;a<nt.length;)s.hasOwnProperty(et=nt[a++])||(s[et]=this[et]);return at.config(s),at}function div(s,a){return new this(s).div(a)}function exp(s){return new this(s).exp()}function floor$1(s){return finalise(s=new this(s),s.e+1,3)}function hypot(){var s,a,et=new this(0);for(external=!1,s=0;s<arguments.length;)if(a=new this(arguments[s++]),a.d)et.d&&(et=et.plus(a.times(a)));else{if(a.s)return external=!0,new this(1/0);et=a}return external=!0,et.sqrt()}function isDecimalInstance(s){return s instanceof Decimal||s&&s.toStringTag===tag||!1}function ln$2(s){return new this(s).ln()}function log(s,a){return new this(s).log(a)}function log2(s){return new this(s).log(2)}function log10(s){return new this(s).log(10)}function max$1(){return maxOrMin(this,arguments,"lt")}function min$1(){return maxOrMin(this,arguments,"gt")}function mod(s,a){return new this(s).mod(a)}function mul(s,a){return new this(s).mul(a)}function pow$1(s,a){return new this(s).pow(a)}function random(s){var a,et,nt,at,mt=0,wt=new this(1),$t=[];if(s===void 0?s=this.precision:checkInt32(s,1,MAX_DIGITS),nt=Math.ceil(s/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(a=crypto.getRandomValues(new Uint32Array(nt));mt<nt;)at=a[mt],at>=429e7?a[mt]=crypto.getRandomValues(new Uint32Array(1))[0]:$t[mt++]=at%1e7;else if(crypto.randomBytes){for(a=crypto.randomBytes(nt*=4);mt<nt;)at=a[mt]+(a[mt+1]<<8)+(a[mt+2]<<16)+((a[mt+3]&127)<<24),at>=214e7?crypto.randomBytes(4).copy(a,mt):($t.push(at%1e7),mt+=4);mt=nt/4}else throw Error(cryptoUnavailable);else for(;mt<nt;)$t[mt++]=Math.random()*1e7|0;for(nt=$t[--mt],s%=LOG_BASE,nt&&s&&(at=mathpow(10,LOG_BASE-s),$t[mt]=(nt/at|0)*at);$t[mt]===0;mt--)$t.pop();if(mt<0)et=0,$t=[0];else{for(et=-1;$t[0]===0;et-=LOG_BASE)$t.shift();for(nt=1,at=$t[0];at>=10;at/=10)nt++;nt<LOG_BASE&&(et-=LOG_BASE-nt)}return wt.e=et,wt.d=$t,wt}function round$1(s){return finalise(s=new this(s),s.e+1,this.rounding)}function sign$2(s){return s=new this(s),s.d?s.d[0]?s.s:0*s.s:s.s||NaN}function sin(s){return new this(s).sin()}function sinh(s){return new this(s).sinh()}function sqrt(s){return new this(s).sqrt()}function sub(s,a){return new this(s).sub(a)}function sum(){var s=0,a=arguments,et=new this(a[s]);for(external=!1;et.s&&++s<a.length;)et=et.plus(a[s]);return external=!0,finalise(et,this.precision,this.rounding)}function tan(s){return new this(s).tan()}function tanh(s){return new this(s).tanh()}function trunc(s){return finalise(s=new this(s),s.e+1,1)}P$2[Symbol.for("nodejs.util.inspect.custom")]=P$2.toString;P$2[Symbol.toStringTag]="Decimal";var Decimal=P$2.constructor=clone$1(DEFAULTS);LN10=new Decimal(LN10);PI=new Decimal(PI);var decimal_default=Decimal,import_bn5=__toESM(require_bn()),import_bn=__toESM(require_bn()),Aftermath=class{constructor(s){if(s!==0)throw new Error("Aftermath only supported on mainnet");this.slippage="900000000000000000",this.poolRegistry="0xfcc774493db2c45c79f688f88d28023a3e7d98e4ee9f48bbf5c7990f651577ae",this.protocolFeeVault="0xf194d9b1bcad972e45a7dd67dd49b3ee1e3357a00a50850c52cd51bb450e13b4",this.treasury="0x28e499dff5e864a2eafe476269a4f5035f1c16f338da7be18b103499abf271ce",this.insuranceFund="0xf0c40d67b078000e18032334c3325c47b9ec9f3d9ae4128be820d54663d14e3b",this.referrealVault="0x35d35b0e5b177593d8c3a801462485572fc30861e6ce96a55af6dc4730709278"}amountLimit(s){return new import_bn.default(s).mul(new import_bn.default(this.slippage)).div(new import_bn.default("1000000000000000000")).toString()}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.aftermathLpSupplyType==null)throw new Error("LP supply type not supported");const jt=[a.object(et.id),a.object(this.poolRegistry),a.object(this.protocolFeeVault),a.object(this.treasury),a.object(this.insuranceFund),a.object(this.referrealVault),a.pure.u64(this.amountLimit(et.amountOut)),a.pure.u64(this.slippage),nt],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::aftermath::${Ct}`,typeArguments:[Dt,Ft,et.extendedDetails.aftermathLpSupplyType],arguments:jt})})}},DEEPBOOK_PACKAGE_ID="0x000000000000000000000000000000000000000000000000000000000000dee9",DeepbookV2=class{constructor(s){if(s!==0)throw new Error("Aftermath only supported on mainnet")}getAccountCap(s,a){return __async(this,null,function*(){let et=50,nt=null;for(;;){const at=s.getOwnedObjects({owner:a,cursor:nt,limit:et,filter:{MoveModule:{package:DEEPBOOK_PACKAGE_ID,module:"custodian_v2"}}});if(at!=null&&at.data!=null){if(at.data.length!==0)return at.data[0].data.objectId;if(at.data.length<50)break}else break}return null})}getOrCreateAccountCap(s,a,et){return __async(this,null,function*(){let nt=yield this.getAccountCap(a,et);return nt!==null?{accountCap:s.object(nt),isCreate:!1}:{accountCap:s.moveCall({target:`${DEEPBOOK_PACKAGE_ID}::clob_v2::create_account`,typeArguments:[],arguments:[]}),isCreate:!0}})}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=yield this.getOrCreateAccountCap(a,s.client,s.signer),Nt=[a.object(et.id),nt,jt.accountCap,a.object(CLOCK_ADDRESS)],Lt=getAggregatorV2PublishedAt(s.publishedAtV2(),at),Ut=a.moveCall({target:`${Lt}::deepbook::${Ct}`,typeArguments:[Dt,Ft],arguments:Nt});return jt.isCreate&&a.transferObjects([jt.accountCap],s.signer),Ut})}},KriyaV2=class{constructor(s){if(s!==0)throw new Error("Kriya amm only supported on mainnet")}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[a.object(et.id),nt],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::kriya_amm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},KriyaV3=class{constructor(s){if(s!==0)throw new Error("Kriya clmm only supported on mainnet");this.version="0xf5145a7ac345ca8736cf8c76047d00d6d378f30e81be6f6eb557184d9de93c78"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[a.object(et.id),nt,a.object(this.version),a.object(CLOCK_ADDRESS)],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::kriya_clmm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},FlowxV2=class{constructor(s){if(s!==0)throw new Error("Flowx only supported on mainnet");this.container="0xb65dcbf63fd3ad5d0ebfbf334780dc9f785eff38a4459e37ab08fa79576ee511"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[a.object(this.container),nt],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::flowx_amm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},FlowxV3=class{constructor(s){if(s!==0)throw new Error("Flowx clmm only supported on mainnet");this.versioned="0x67624a1533b5aff5d0dfcf5e598684350efd38134d2d245f475524c03a64e656",this.poolRegistry="0x27565d24a4cd51127ac90e4074a841bbe356cca7bf5759ddc14a975be1632abc"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[a.object(this.poolRegistry),a.pure.u64(et.feeRate*1e6),nt,a.object(this.versioned),a.object(CLOCK_ADDRESS)],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::flowx_clmm::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},Turbos=class{constructor(s){if(s!==0)throw new Error("Turbos only supported on mainnet");this.versioned="0xf1cf0e81048df168ebeb1b8030fad24b3e0b53ae827c25053fff0779c1445b6f"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.turbosFeeType==null)throw new Error("Turbos fee type not supported");const jt=[a.object(et.id),nt,a.object(CLOCK_ADDRESS),a.object(this.versioned)],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::turbos::${Ct}`,typeArguments:[Dt,Ft,et.extendedDetails.turbosFeeType],arguments:jt})})}},Cetus=class{constructor(s,a){this.globalConfig=s===0?"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f":"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",this.partner=a??(s===0?"0x639b5e433da31739e800cd085f356e64cae222966d0f1b11bd9dc76b322ff58b":"0x1f5fa5c820f40d43fc47815ad06d95e40a1942ff72a732a92e8ef4aa8cde70a5")}flash_swap(s,a,et,nt,at){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["flash_swap_a2b",wt,$t]:["flash_swap_b2a",$t,wt];let jt=nt?et.amountIn:et.amountOut;const Nt=[a.object(this.globalConfig),a.object(et.id),a.object(this.partner),a.pure.u64(jt),a.pure.bool(nt),a.object(CLOCK_ADDRESS)],Lt=getAggregatorV2PublishedAt(s.publishedAtV2(),at),Ut=a.moveCall({target:`${Lt}::cetus::${Ct}`,typeArguments:[Dt,Ft],arguments:Nt});return{targetCoin:Ut[0],flashReceipt:Ut[1],payAmount:Ut[2]}}repay_flash_swap(s,a,et,nt,at,mt){const{direction:wt,from:$t,target:Ct}=et,[Dt,Ft,jt]=wt?["repay_flash_swap_a2b",$t,Ct]:["repay_flash_swap_b2a",Ct,$t],Nt=[a.object(this.globalConfig),a.object(et.id),a.object(this.partner),nt,at],Lt=getAggregatorV2PublishedAt(s.publishedAtV2(),mt);return a.moveCall({target:`${Lt}::cetus::${Dt}`,typeArguments:[Ft,jt],arguments:Nt})[0]}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[a.object(this.globalConfig),a.object(et.id),a.object(this.partner),nt,a.object(CLOCK_ADDRESS)],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::cetus::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}};function composeType(s,...a){const et=Array.isArray(a[a.length-1])?a.pop():[];let at=[s,...a].filter(Boolean).join("::");return et&&et.length&&(at+=`<${et.join(", ")}>`),at}function extractStructTagFromType(s){var a;try{let et=s.replace(/\s/g,"");const nt=et.match(/(<.+>)$/),at=(a=nt==null?void 0:nt[0])==null?void 0:a.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){et=et.slice(0,et.indexOf("<"));const Ct=extractStructTagFromType(et),Dt=__spreadProps$1(__spreadValues$2({},Ct),{type_arguments:at.map(Ft=>extractStructTagFromType(Ft).source_address)});return Dt.type_arguments=Dt.type_arguments.map(Ft=>CoinUtils.isSuiCoin(Ft)?Ft:extractStructTagFromType(Ft).source_address),Dt.source_address=composeType(Dt.full_address,Dt.type_arguments),Dt}const mt=et.split("::"),$t={full_address:et,address:et===GAS_TYPE_ARG||et===GAS_TYPE_ARG_LONG?"0x2":normalizeSuiObjectId$1(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return $t.full_address=`${$t.address}::${$t.module}::${$t.name}`,$t.source_address=composeType($t.full_address,$t.type_arguments),$t}catch{return{full_address:s,address:"",module:"",name:"",type_arguments:[],source_address:s}}}function normalizeCoinType(s){return extractStructTagFromType(s).source_address}var COIN_TYPE="0x2::coin::Coin",COIN_TYPE_ARG_REGEX=/^0x2::coin::Coin<(.+)>$/,GAS_TYPE_ARG="0x2::sui::SUI",GAS_TYPE_ARG_LONG="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",CoinUtils=class Ys{static getCoinTypeArg(a){const et=a.type.match(COIN_TYPE_ARG_REGEX);return et?et[1]:null}static isSUI(a){const et=Ys.getCoinTypeArg(a);return et?Ys.getCoinSymbol(et)==="SUI":!1}static getCoinSymbol(a){return a.substring(a.lastIndexOf(":")+1)}static getBalance(a){return BigInt(a.fields.balance)}static totalBalance(a,et){let nt=BigInt(0);return a.forEach(at=>{et===at.coinAddress&&(nt+=BigInt(at.balance))}),nt}static getID(a){return a.fields.id.id}static getCoinTypeFromArg(a){return`${COIN_TYPE}<${a}>`}static getCoinAssets(a,et){const nt=[];return et.forEach(at=>{normalizeCoinType(at.coinAddress)===normalizeCoinType(a)&&nt.push(at)}),nt}static isSuiCoin(a){return extractStructTagFromType(a).full_address===GAS_TYPE_ARG}static selectCoinObjectIdGreaterThanOrEqual(a,et,nt=[]){const at=Ys.selectCoinAssetGreaterThanOrEqual(a,et,nt),mt=at.selectedCoins.map(Ct=>Ct.coinObjectId),wt=at.remainingCoins,$t=at.selectedCoins.map(Ct=>Ct.balance.toString());return{objectArray:mt,remainCoins:wt,amountArray:$t}}static selectCoinAssetGreaterThanOrEqual(a,et,nt=[]){const at=Ys.sortByBalance(a.filter(Dt=>!nt.includes(Dt.coinObjectId))),mt=Ys.calculateTotalBalance(at);if(mt<et)return{selectedCoins:[],remainingCoins:at};if(mt===et)return{selectedCoins:at,remainingCoins:[]};let wt=BigInt(0);const $t=[],Ct=[...at];for(;wt<mt;){const Dt=et-wt,Ft=Ct.findIndex(Nt=>Nt.balance>=Dt);if(Ft!==-1){$t.push(Ct[Ft]),Ct.splice(Ft,1);break}const jt=Ct.pop();jt.balance>0&&($t.push(jt),wt+=jt.balance)}return{selectedCoins:Ys.sortByBalance($t),remainingCoins:Ys.sortByBalance(Ct)}}static sortByBalance(a){return a.sort((et,nt)=>et.balance<nt.balance?-1:et.balance>nt.balance?1:0)}static sortByBalanceDes(a){return a.sort((et,nt)=>et.balance>nt.balance?-1:et.balance<nt.balance?0:1)}static calculateTotalBalance(a){return a.reduce((et,nt)=>et+nt.balance,BigInt(0))}};function getAggregatorServerErrorMessage(s){switch(s){case 1e4:return"Calculate error";case 10001:return"Input number too large can not fit in target type";case 10002:return"No router";case 10003:return"Insufficient Liquidity";case 10004:return"Target token is detected as a HoneyPot scam";case 10005:return"Too many requests. Please try again later";default:return"Unknown error"}}function completionCoin(s){const a=s.indexOf("::");if(a===-1)return s;const et=s.substring(0,a),nt=s.substring(a);if(!et.startsWith("0x"))return s;const at=et.substring(2);return at.length>64?s:`0x${at.padStart(64,"0")}${nt}`}function compareCoins(s,a){s=completionCoin(s),a=completionCoin(a);const et=Math.min(s.length,a.length);for(let nt=0;nt<et;nt++){if(s[nt]>a[nt])return!0;if(s[nt]<a[nt])return!1}return!0}function mintZeroCoin(s,a){return s.moveCall({target:"0x2::coin::zero",typeArguments:[a]})}function buildInputCoin(s,a,et,nt){const at=CoinUtils.getCoinAssets(nt,a);if(et===BigInt(0))return CoinUtils.isSuiCoin(nt)||at.length===0&&!CoinUtils.isSuiCoin(nt)?{targetCoin:mintZeroCoin(s,nt),isMintZeroCoin:!0,targetCoinAmount:0}:{targetCoin:s.object(at[0].coinObjectId),isMintZeroCoin:!1,targetCoinAmount:Number(at[0].balance.toString())};if(CoinUtils.calculateTotalBalance(at)<et)throw new AggregateError("Insufficient balance when build merge coin, coinType: "+nt,"InsufficientBalance"+nt);if(CoinUtils.isSuiCoin(nt))return{targetCoin:s.splitCoins(s.gas,[s.pure.u64(et.toString())]),isMintZeroCoin:!0,targetCoinAmount:Number(et.toString())};let wt=CoinUtils.sortByBalance(at);wt.slice(0,3).reduce((Nt,Lt)=>Nt+Lt.balance,BigInt(0))<BigInt(et)&&(wt=CoinUtils.sortByBalanceDes(at));let Ct=CoinUtils.selectCoinObjectIdGreaterThanOrEqual(wt,et);const[Dt,...Ft]=Ct.objectArray;return Ft.length>0&&s.mergeCoins(Dt,Ft.map(Nt=>s.object(Nt))),{targetCoin:s.splitCoins(s.object(Dt),[s.pure.u64(et.toString())]),isMintZeroCoin:!1,targetCoinAmount:Number(et.toString())}}function checkInvalidSuiAddress(s){return!(!s.startsWith("0x")||s.length!==66)}var import_bn4=__toESM(require_bn()),import_bn3=__toESM(require_bn()),import_bn2=__toESM(require_bn()),ZERO=new import_bn2.default(0);new import_bn2.default(1);var TWO=new import_bn2.default(2);TWO.pow(new import_bn2.default(128));var U64_MAX_BN=new import_bn2.default("18446744073709551615"),TEN_POW_NINE=1e9;function CalculateAmountLimit(s,a,et){let nt=ZERO;return a?nt=s.mul(new import_bn3.default(TEN_POW_NINE-et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):nt=s.mul(new import_bn3.default(TEN_POW_NINE+et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),Number(nt.toString())}function CalculateAmountLimitBN(s,a,et){let nt=ZERO;return a?nt=s.mul(new import_bn3.default(TEN_POW_NINE-et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)):nt=s.mul(new import_bn3.default(TEN_POW_NINE+et*TEN_POW_NINE)).div(new import_bn3.default(TEN_POW_NINE)),nt}function sqrtPriceX64ToPrice(s,a,et){return new decimal_default(s).mul(decimal_default.pow(2,-64)).pow(2).mul(decimal_default.pow(10,a-et))}function swapInPools(s,a,et,nt){return __async(this,null,function*(){var at,mt,wt,$t,Ct;const{from:Dt,target:Ft,amount:jt,byAmountIn:Nt,pools:Lt}=a,Ut=completionCoin(Dt),Vt=completionCoin(Ft),Yt=new Transaction,er=compareCoins(Ut,Vt),tr=nt===0?"0x2d8c2e0fc6dd25b0214b3fa747e0fd27fd54608142cd2e4f64c1cd350cc4add4":"0x4f920e1ef6318cfba77e20a0538a419a5a504c14230169438b99aba485db40a6",nr=er?Ut:Vt,sr=er?Vt:Ut,dr=[nr,sr];for(let gr=0;gr<Lt.length;gr++){const hr=[Yt.object(Lt[gr]),Yt.pure.bool(er),Yt.pure.bool(Nt),Yt.pure.u64(jt.toString())];Yt.moveCall({target:`${tr}::fetcher_script::calculate_swap_result`,arguments:hr,typeArguments:dr})}if(!checkInvalidSuiAddress(et))throw new AggregateError("Aggregator package not set","InvalidWallet");const br=yield s.devInspectTransactionBlock({transactionBlock:Yt,sender:et});if(br.error!=null)throw console.log("simulateRes.error",br.error),new AggregateError("Aggregator package not set","SimulateError");const vr=(at=br.events)==null?void 0:at.filter(gr=>gr.type.includes("CalculatedSwapResultEvent"));if(vr.length===0||vr.length!==Lt.length)throw new AggregateError("Simulate event result error","simulateEventError");let yr=Nt?ZERO:U64_MAX_BN,$r=0;for(let gr=0;gr<vr.length;gr+=1)if(!vr[gr].parsedJson.data.is_exceed)if(a.byAmountIn){const hr=new import_bn4.BN(vr[gr].parsedJson.data.amount_out);hr.gt(yr)&&($r=gr,yr=hr)}else{const hr=new import_bn4.BN(vr[gr].parsedJson.data.amount_out);hr.lt(yr)&&($r=gr,yr=hr)}const Sr=vr[$r].parsedJson.data,wr=Sr.step_results[0].current_sqrt_price,[fr,_r]=yield Promise.all([s.getCoinMetadata({coinType:nr}).then(gr=>gr==null?void 0:gr.decimals),s.getCoinMetadata({coinType:sr}).then(gr=>gr==null?void 0:gr.decimals)]);if(fr==null||_r==null)throw new AggregateError("Simulate event result error","CannotGetDecimals");const ir=sqrtPriceX64ToPrice(wr,fr,_r),rr=Number(Sr.fee_rate)/1e6,or=new import_bn4.BN((mt=Sr.amount_in)!=null?mt:0),ar=new import_bn4.BN((wt=Sr.fee_amount)!=null?wt:0),ur=or.add(ar),pr={amountIn:ur,amountOut:new import_bn4.BN(($t=Sr.amount_out)!=null?$t:0),routes:[{path:[{id:Lt[$r],direction:er,provider:"CETUS",from:Ut,target:Vt,feeRate:rr,amountIn:Sr.amount_in,amountOut:Sr.amount_out,extendedDetails:{afterSqrtPrice:Sr.after_sqrt_price}}],amountIn:ur,amountOut:new import_bn4.BN((Ct=Sr.amount_out)!=null?Ct:0),initialPrice:ir}],insufficientLiquidity:!1,byAmountIn:a.byAmountIn};return{isExceed:Sr.is_exceed,routeData:pr}})}var Haedal=class{constructor(s){if(s!==0)throw new Error("Haedal only supported on mainnet")}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt}=et,wt=mt?"swap_a2b":"swap_b2a",$t=[a.object(et.id),a.object("0x5"),nt],Ct=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Ct}::haedal::${wt}`,typeArguments:[],arguments:$t})})}},Afsui=class{constructor(s){if(s!==0)throw new Error("Afsui only supported on mainnet");this.stakedSuiVault="0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",this.safe="0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",this.referVault="0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",this.validator="0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt}=et;if(!mt)throw new Error("Afsui not support b2a swap");const wt="swap_a2b",$t=[a.object(this.stakedSuiVault),a.object(this.safe),a.object("0x5"),a.object(this.referVault),a.object(this.validator),nt],Ct=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Ct}::afsui::${wt}`,typeArguments:[],arguments:$t})})}},Volo=class{constructor(s){if(s!==0)throw new Error("Volo only supported on mainnet");this.nativePool="0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",this.metadata="0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt}=et;if(!mt)throw new Error("Volo not support b2a swap");const wt="swap_a2b",$t=[a.object(this.nativePool),a.object(this.metadata),a.object("0x5"),nt],Ct=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Ct}::volo::${wt}`,typeArguments:[],arguments:$t})})}},Bluemove=class{constructor(s){if(s!==0)throw new Error("Bluemove only supported on mainnet");this.dexInfo="0x3f2d9f724f4a1ce5e71676448dc452be9a6243dac9c5b975a588c8c867066e92"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[a.object(this.dexInfo),nt],Nt=getAggregatorV2PublishedAt(s.publishedAtV2(),at);return a.moveCall({target:`${Nt}::bluemove::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},DeepbookV3=class{constructor(s){this.deepbookV3Config=s===0?"0xe4099d0cda04f3aa80028fac91a9b3dbe50d08f2ff42aa2c29473926e34ca48c":"0xe19b5d072346cae83a037d4e3c8492068a74410a74e5830b3a68012db38296aa"}swap(s,a,et,nt,at,mt){return __async(this,null,function*(){const{direction:wt,from:$t,target:Ct}=et,[Dt,Ft,jt]=wt?["swap_a2b",$t,Ct]:["swap_b2a",Ct,$t];let Nt;mt?Nt=mt:Nt=mintZeroCoin(a,s.deepbookv3DeepFeeType());const Lt=[a.object(this.deepbookV3Config),a.object(et.id),nt,Nt,a.object(CLOCK_ADDRESS)],Ut=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${Ut}::deepbookv3::${Dt}`,typeArguments:[Ft,jt],arguments:Lt})})}},Scallop=class{constructor(s){if(s!==0)throw new Error("Scallop only supported on mainnet");this.version=s===0?"0x07871c4b3c847a0f674510d4978d5cf6f960452795e8ff6f189fd2088a3f6ac7":"0x0",this.market=s===0?"0xa757975255146dc9686aa823b7838b507f315d704f428cbadad2f4ea061939d9":"0x0"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",wt,$t];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.scallopScoinTreasury==null)throw new Error("Scallop coin treasury not supported");const jt=[a.object(this.version),a.object(this.market),a.object(et.extendedDetails.scallopScoinTreasury),nt,a.object(CLOCK_ADDRESS)],Nt=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${Nt}::scallop::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},Suilend=class{constructor(s){if(s!==0)throw new Error("Suilend only supported on mainnet");this.sui_system_state=s===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt]=mt?["swap_a2b",$t]:["swap_b2a",wt],Ft=[a.object(et.id),a.object(this.sui_system_state),nt],jt=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${jt}::suilend::${Ct}`,typeArguments:[Dt],arguments:Ft})})}},Bluefin=class{constructor(s){if(s!==0)throw new Error("Bluefin only supported on mainnet");this.globalConfig="0x03db251ba509a8d5d8777b6338836082335d93eecbdd09a11e190a1cff51c352"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt],jt=[a.object(this.globalConfig),a.object(et.id),nt,a.object(CLOCK_ADDRESS)],Nt=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${Nt}::bluefin::${Ct}`,typeArguments:[Dt,Ft],arguments:jt})})}},HaedalPmm=class{constructor(s,a){if(s===1)throw new Error("HaedalPmm is not supported on testnet");this.pythPriceIDs=a}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];let jt,Nt;if(et.extendedDetails==null)throw new Error("Extended details not supported haedal pmm");if(!et.extendedDetails.haedalPmmBasePriceSeed||!et.extendedDetails.haedalPmmQuotePriceSeed)throw new Error("Base price seed or quote price seed not supported");jt=et.extendedDetails.haedalPmmBasePriceSeed,Nt=et.extendedDetails.haedalPmmQuotePriceSeed;const Lt=this.pythPriceIDs.get(jt),Ut=this.pythPriceIDs.get(Nt);if(!Lt||!Ut)throw new Error("Base price info object id or quote price info object id not found");const Vt=[a.object(et.id),a.object(Lt),a.object(Ut),nt,a.object(CLOCK_ADDRESS)],Yt=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${Yt}::haedalpmm::${Ct}`,typeArguments:[Dt,Ft],arguments:Vt})})}},Alphafi=class{constructor(s){if(s!==0)throw new Error("Alphafi only supported on mainnet");this.sui_system_state=s===0?"0x0000000000000000000000000000000000000000000000000000000000000005":"0x0"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt]=mt?["swap_a2b",$t]:["swap_b2a",wt],Ft=[a.object(et.id),a.object(this.sui_system_state),nt],jt=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${jt}::alphafi::${Ct}`,typeArguments:[Dt],arguments:Ft})})}},Steamm=class{constructor(s){if(s!==0)throw new Error("Steamm only supported on mainnet")}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];if(et.extendedDetails==null)throw new Error("Extended details not supported");if(et.extendedDetails.steammBankA==null)throw new Error("Steamm bank a type not supported");if(et.extendedDetails.steammBankB==null)throw new Error("Steamm bank b type not supported");if(et.extendedDetails.steammLendingMarket==null)throw new Error("Steamm lending market not supported");if(et.extendedDetails.steammLendingMarketType==null)throw new Error("Steamm lending market type not supported");if(et.extendedDetails.steammBCoinAType==null)throw new Error("Steamm b coin a type not supported");if(et.extendedDetails.steammBCoinBType==null)throw new Error("Steamm b coin b type not supported");if(et.extendedDetails.steammLPToken==null)throw new Error("Steamm lp token not supported");const jt=[a.object(et.id),a.object(et.extendedDetails.steammBankA),a.object(et.extendedDetails.steammBankB),a.object(et.extendedDetails.steammLendingMarket),nt,a.object(CLOCK_ADDRESS)],Nt=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${Nt}::steammfe::${Ct}`,typeArguments:[et.extendedDetails.steammLendingMarketType,Dt,Ft,et.extendedDetails.steammBCoinAType,et.extendedDetails.steammBCoinBType,et.extendedDetails.steammLPToken],arguments:jt})})}},SUPER_SUI_TYPE="0x790f258062909e3a0ffc78b3c53ac2f62d7084c3bab95644bdeb05add7250001::super_sui::SUPER_SUI",MUSD_TYPE="0xe44df51c0b21a27ab915fa1fe2ca610cd3eaa6d9666fe5e62b988bf7f0bd8722::musd::MUSD",METH_TYPE="0xccd628c2334c5ed33e6c47d6c21bb664f8b6307b2ac32c2462a61f69a31ebcee::meth::METH",Metastable=class{constructor(s,a){if(s!==0)throw new Error("Metastable only supported on mainnet");this.versionID="0x4696559327b35ff2ab26904e7426a1646312e9c836d5c6cff6709a5ccc30915c",this.pythPriceIDs=a}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft,jt]=mt?["swap_a2b","create_deposit_cap",wt,$t]:["swap_b2a","create_withdraw_cap",$t,wt];let Nt="",Lt="pyth",Ut="";if(et.extendedDetails==null)throw new Error("Extended details not supported metastable");if(!et.extendedDetails.metastableCreateCapPkgId||!et.extendedDetails.metastableCreateCapModule||!et.extendedDetails.metastableRegistryId||!et.extendedDetails.metastableWhitelistedAppId)throw new Error("CreateCapPkgId or CreateCapModule or RegistryId or WhitelistedAppId or CreateCapAllTypeParams not supported");Nt=et.extendedDetails.metastableCreateCapPkgId,Lt=et.extendedDetails.metastableCreateCapModule,Ut=et.extendedDetails.metastableWhitelistedAppId;const Vt=[jt];et.extendedDetails.metastableCreateCapAllTypeParams&&Vt.push(Ft);const Yt=[a.object(Ut),a.object(et.id)];switch(jt){case SUPER_SUI_TYPE:{if(!et.extendedDetails.metastableRegistryId)throw new Error("Not found registry id for super sui");Yt.push(a.object(et.extendedDetails.metastableRegistryId));break}case MUSD_TYPE:{if(et.extendedDetails.metastablePriceSeed!=null){const dr=this.pythPriceIDs.get(et.extendedDetails.metastablePriceSeed);if(dr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastablePriceSeed);Yt.push(a.object(dr))}if(et.extendedDetails.metastableETHPriceSeed!=null){const dr=this.pythPriceIDs.get(et.extendedDetails.metastableETHPriceSeed);if(dr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastableETHPriceSeed);Yt.push(a.object(dr))}Yt.push(a.object(CLOCK_ADDRESS));break}case METH_TYPE:{if(et.extendedDetails.metastablePriceSeed!=null){const dr=this.pythPriceIDs.get(et.extendedDetails.metastablePriceSeed);if(dr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastablePriceSeed);Yt.push(a.object(dr))}if(et.extendedDetails.metastableETHPriceSeed!=null){const dr=this.pythPriceIDs.get(et.extendedDetails.metastableETHPriceSeed);if(dr==null)throw new Error("Invalid Pyth price feed: "+et.extendedDetails.metastableETHPriceSeed);Yt.push(a.object(dr))}Yt.push(a.object(CLOCK_ADDRESS));break}default:throw new Error("Invalid Metacoin: "+jt)}const er=a.moveCall({target:`${Nt}::${Lt}::${Dt}`,typeArguments:Vt,arguments:Yt}),tr=[a.object(et.id),a.object(this.versionID),er,nt],nr=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${nr}::metastable::${Ct}`,typeArguments:[Ft,jt],arguments:tr})})}},Obric=class{constructor(s,a){if(s===1)throw new Error("Obric is not supported on testnet");this.pythPriceIDs=a,this.pythStateObjectId="0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}swap(s,a,et,nt,at){return __async(this,null,function*(){const{direction:mt,from:wt,target:$t}=et,[Ct,Dt,Ft]=mt?["swap_a2b",wt,$t]:["swap_b2a",$t,wt];let jt,Nt,Lt,Ut;if(et.extendedDetails==null)throw new Error("Extended details not supported in obric");if(et.extendedDetails.obricCoinAPriceSeed&&et.extendedDetails.obricCoinBPriceSeed)jt=et.extendedDetails.obricCoinAPriceSeed,Lt=this.pythPriceIDs.get(jt),Nt=et.extendedDetails.obricCoinBPriceSeed,Ut=this.pythPriceIDs.get(Nt);else{if(!et.extendedDetails.obricCoinAPriceId||!et.extendedDetails.obricCoinBPriceId)throw new Error("Base price id or quote price id not supported");Lt=et.extendedDetails.obricCoinAPriceId,Ut=et.extendedDetails.obricCoinBPriceId}if(!Lt||!Ut)throw new Error("Base price info object id or quote price info object id not found");const Vt=[a.object(et.id),nt,a.object(this.pythStateObjectId),a.object(Lt),a.object(Ut),a.object(CLOCK_ADDRESS)],Yt=getAggregatorV2ExtendPublishedAt(s.publishedAtV2Extend(),at);return a.moveCall({target:`${Yt}::obric::${Ct}`,typeArguments:[Dt,Ft],arguments:Vt})})}},CETUS="CETUS",DEEPBOOKV2="DEEPBOOK",KRIYA="KRIYA",FLOWXV2="FLOWX",FLOWXV3="FLOWXV3",KRIYAV3="KRIYAV3",TURBOS="TURBOS",AFTERMATH="AFTERMATH",HAEDAL="HAEDAL",VOLO="VOLO",AFSUI="AFSUI",BLUEMOVE="BLUEMOVE",DEEPBOOKV3="DEEPBOOKV3",SCALLOP="SCALLOP",SUILEND="SUILEND",BLUEFIN="BLUEFIN",HAEDALPMM="HAEDALPMM",ALPHAFI="ALPHAFI",SPRINGSUI="SPRINGSUI",STEAMM="STEAMM",METASTABLE="METASTABLE",OBRIC="OBRIC",DEFAULT_ENDPOINT="https://api-sui.cetus.zone/router_v2";function isBuilderRouterSwapParams(s){return Array.isArray(s.routers)}function isBuilderFastRouterSwapParams(s){return Array.isArray(s.routers)}var _AggregatorClient=class Ip{constructor(a){var et;this.endpoint=a.endpoint?processEndpoint(a.endpoint):DEFAULT_ENDPOINT,this.client=a.client||new SuiClient({url:getFullnodeUrl("mainnet")}),this.signer=a.signer||"",this.env=a.env||0,this.allCoins=new Map;const nt=Ip.CONFIG[this.env];this.pythConnections=this.newPythClients((et=a.pythUrls)!=null?et:[]),this.pythClient=new lib$3.SuiPythClient(this.client,nt.pythStateId,nt.wormholeStateId),this.apiKey=a.apiKey||""}newPythClients(a){return a.includes("https://hermes.pyth.network")||a.push("https://hermes.pyth.network"),a.map(nt=>new lib$3.SuiPriceServiceConnection(nt,{timeout:3e3}))}getCoins(a,et=!0){return __async(this,null,function*(){if(this.signer==="")throw new Error("Signer is required, but not provided.");let nt=null,at=50;if(!et){const wt=this.allCoins.get(a);if(wt)return wt}const mt=[];for(;;)try{const wt=yield this.client.getCoins({owner:this.signer,coinType:a,cursor:nt,limit:at});for(const $t of wt.data)mt.push({coinAddress:extractStructTagFromType($t.coinType).source_address,coinObjectId:$t.coinObjectId,balance:BigInt($t.balance)});if(!wt.hasNextPage)break;nt=wt.nextCursor}catch(wt){console.error("getCoins error:",wt);break}return this.allCoins.set(a,mt),mt})}findRouters(a){return __async(this,null,function*(){return getRouterResult(this.endpoint,this.apiKey,a)})}executeFlexibleInputSwap(a,et,nt,at,mt,wt,$t,Ct){return __async(this,null,function*(){if(nt.length===0)throw new Error("No router found");const Dt=nt[0].path[nt[0].path.length-1].target,Ft=[];for(let Ut=0;Ut<nt.length-1;Ut++){if(nt[Ut].path.length===0)throw new Error("Empty path");let Yt=a.splitCoins(et,[nt[Ut].amountIn.toString()])[0];for(const er of nt[Ut].path)Yt=yield this.newDex(er.provider,mt,wt).swap(this,a,er,Yt,Ct,$t);Ft.push(Yt)}if(nt[nt.length-1].path.length===0)throw new Error("Empty path");let jt=et;for(const Ut of nt[nt.length-1].path)jt=yield this.newDex(Ut.provider,mt,wt).swap(this,a,Ut,jt,Ct,$t);Ft.push(jt);const Nt=getAggregatorV2PublishedAt(this.publishedAtV2(),Ct);return this.checkCoinThresholdAndMergeCoin(a,Ft,Dt,at,Nt)})}expectInputSwap(a,et,nt,at,mt,wt,$t,Ct){return __async(this,null,function*(){if(nt.length===0)throw new Error("No router found");const Dt=nt.map(Yt=>Yt.amountIn.toString()),Ft=nt[0].path[0].from,jt=nt[0].path[nt[0].path.length-1].target,Nt=a.splitCoins(et,Dt),Lt=[];for(let Yt=0;Yt<nt.length;Yt++){if(nt[Yt].path.length===0)throw new Error("Empty path");let er=Nt[Yt];for(const tr of nt[Yt].path)er=yield this.newDex(tr.provider,mt,wt).swap(this,a,tr,er,Ct,$t);Lt.push(er)}const Ut=getAggregatorV2PublishedAt(this.publishedAtV2(),Ct);return this.transferOrDestoryCoin(a,et,Ft,this.publishedAtV2()),this.checkCoinThresholdAndMergeCoin(a,Lt,jt,at,Ut)})}expectOutputSwap(a,et,nt,at,mt){return __async(this,null,function*(){const wt=[],$t=[],Ct=[],Dt=new Cetus(this.env,at),Ft=getAggregatorV2PublishedAt(this.publishedAtV2(),mt);for(let Nt=0;Nt<nt.length;Nt++){const Lt=nt[Nt];for(let Vt=Lt.path.length-1;Vt>=0;Vt--){const Yt=Lt.path[Vt],er=Dt.flash_swap(this,a,Yt,!1);wt.unshift(er.targetCoin),$t.unshift(er.flashReceipt)}let Ut=et;for(let Vt=0;Vt<Lt.path.length;Vt++){const Yt=Lt.path[Vt],er=Dt.repay_flash_swap(this,a,Yt,Ut,$t[Vt]);Ut=wt[Vt],Vt===0?et=er:this.transferOrDestoryCoin(a,er,Yt.from,Ft),Vt===Lt.path.length-1&&Ct.push(Ut)}}const jt=nt[0].path[0].from;if(this.transferOrDestoryCoin(a,et,jt,Ft),Ct.length>1){const Nt=a.makeMoveVec({elements:Ct.slice(1)});a.moveCall({target:`${SUI_FRAMEWORK_ADDRESS$1}::pay::join_vec`,typeArguments:[nt[0].path[nt[0].path.length-1].target],arguments:[Ct[0],Nt]})}return Ct[0]})}swapInPools(a){return __async(this,null,function*(){let et;try{et=yield swapInPools(this.client,a,this.signer,this.env)}catch(nt){return console.error("swapInPools error:",nt),null}return et})}routerSwap(a){return __async(this,null,function*(){const{routers:et,inputCoin:nt,slippage:at,txb:mt,partner:wt,deepbookv3DeepFee:$t}=a,Ct=Array.isArray(et)?et:et.routes,Dt=isBuilderRouterSwapParams(a)?a.byAmountIn:a.routers.byAmountIn,Ft=Ct.reduce((nr,sr)=>nr.add(sr.amountIn),new import_bn5.default(0)),jt=Ct.reduce((nr,sr)=>nr.add(sr.amountOut),new import_bn5.default(0)),Nt=CalculateAmountLimitBN(Dt?jt:Ft,Dt,at),Lt=isBuilderRouterSwapParams(a)?void 0:a.routers.packages,Ut=getAggregatorV2PublishedAt(this.publishedAtV2(),Lt),Vt=findPythPriceIDs(Ct),Yt=Vt.length>0?yield this.updatePythPriceIDs(Vt,mt):new Map;if(Dt)return yield this.expectInputSwap(mt,nt,Ct,Nt,Yt,wt,$t,Lt);const er=mt.splitCoins(nt,[Nt.toString()]);return this.transferOrDestoryCoin(mt,nt,Ct[0].path[0].from,Ut),yield this.expectOutputSwap(mt,er[0],Ct,wt)})}fixableRouterSwap(a){return __async(this,null,function*(){const{routers:et,inputCoin:nt,slippage:at,txb:mt,partner:wt,deepbookv3DeepFee:$t}=a,Ct=Array.isArray(et)?et:et.routes,Dt=a.routers.byAmountIn,Ft=Ct.reduce((er,tr)=>er.add(tr.amountIn),new import_bn5.default(0)),jt=Ct.reduce((er,tr)=>er.add(tr.amountOut),new import_bn5.default(0)),Nt=CalculateAmountLimitBN(Dt?jt:Ft,Dt,at),Lt=isBuilderRouterSwapParams(a)?void 0:a.routers.packages;getAggregatorV2PublishedAt(this.publishedAtV2(),Lt);const Ut=findPythPriceIDs(Ct),Vt=Ut.length>0?yield this.updatePythPriceIDs(Ut,mt):new Map;return Dt?yield this.executeFlexibleInputSwap(mt,nt,Ct,Nt,Vt,wt,$t,Lt):yield this.expectOutputSwap(mt,nt,Ct,wt)})}fastRouterSwap(a){return __async(this,null,function*(){const{routers:et,slippage:nt,txb:at,partner:mt,refreshAllCoins:wt,payDeepFeeAmount:$t}=a,Ct=Array.isArray(et)?et:et.routes,Dt=Ct[0].path[0].from;let Ft=yield this.getCoins(Dt,wt);const jt=Ct[0].path[Ct[0].path.length-1].target,Nt=Ct.reduce((dr,br)=>dr.add(br.amountIn),new import_bn5.default(0)),Lt=Ct.reduce((dr,br)=>dr.add(br.amountOut),new import_bn5.default(0)),Ut=isBuilderFastRouterSwapParams(a)?a.byAmountIn:a.routers.byAmountIn,Vt=CalculateAmountLimit(Ut?Lt:Nt,Ut,nt),er=buildInputCoin(at,Ft,BigInt((Ut?Nt:Vt).toString()),Dt);let tr;if($t&&$t>0){let dr=yield this.getCoins(this.deepbookv3DeepFeeType());tr=buildInputCoin(at,dr,BigInt($t),this.deepbookv3DeepFeeType()).targetCoin}const nr=isBuilderFastRouterSwapParams(a)?{routers:Ct,inputCoin:er.targetCoin,slippage:nt,byAmountIn:Ut,txb:at,partner:mt,deepbookv3DeepFee:tr}:{routers:a.routers,inputCoin:er.targetCoin,slippage:nt,byAmountIn:Ut,txb:at,partner:mt,deepbookv3DeepFee:tr},sr=yield this.routerSwap(nr);if(CoinUtils.isSuiCoin(jt))at.mergeCoins(at.gas,[sr]);else{let dr=yield this.getCoins(jt,wt);const br=buildInputCoin(at,dr,BigInt(0),jt),vr=isBuilderFastRouterSwapParams(a)?void 0:a.routers.packages,yr=getAggregatorV2PublishedAt(this.publishedAtV2(),vr);at.mergeCoins(br.targetCoin,[sr]),br.isMintZeroCoin&&this.transferOrDestoryCoin(at,br.targetCoin,jt,yr)}})}publishedAtV2(){return this.env===0?"0x3864c7c59a4889fec05d1aae4bc9dba5a0e0940594b424fbed44cb3f6ac4c032":"0x52eae33adeb44de55cfb3f281d4cc9e02d976181c0952f5323648b5717b33934"}publishedAtV2Extend(){return this.env===0?"0x200e762fa2c49f3dc150813038fbf22fd4f894ac6f23ebe1085c62f2ef97f1ca":"0xabb6a81c8a216828e317719e06125de5bb2cb0fe8f9916ff8c023ca5be224c78"}deepbookv3DeepFeeType(){return this.env===0?"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":"0x36dbef866a1d62bf7328989a10fb2f07d769f4ee587c0de4a0a256e57e0a58a8::deep::DEEP"}transferOrDestoryCoin(a,et,nt,at){a.moveCall({target:`${at}::utils::transfer_or_destroy_coin`,typeArguments:[nt],arguments:[et]})}checkCoinThresholdAndMergeCoin(a,et,nt,at,mt){let wt=et[0];if(et.length>1){let $t=a.makeMoveVec({elements:et.slice(1)});a.moveCall({target:`${SUI_FRAMEWORK_ADDRESS$1}::pay::join_vec`,typeArguments:[nt],arguments:[et[0],$t]}),wt=et[0]}return a.moveCall({target:`${mt}::utils::check_coin_threshold`,typeArguments:[nt],arguments:[wt,a.pure.u64(at.toString())]}),wt}newDex(a,et,nt){switch(a){case CETUS:return new Cetus(this.env,nt);case DEEPBOOKV2:return new DeepbookV2(this.env);case DEEPBOOKV3:return new DeepbookV3(this.env);case KRIYA:return new KriyaV2(this.env);case KRIYAV3:return new KriyaV3(this.env);case FLOWXV2:return new FlowxV2(this.env);case FLOWXV3:return new FlowxV3(this.env);case TURBOS:return new Turbos(this.env);case AFTERMATH:return new Aftermath(this.env);case HAEDAL:return new Haedal(this.env);case AFSUI:return new Afsui(this.env);case VOLO:return new Volo(this.env);case BLUEMOVE:return new Bluemove(this.env);case SCALLOP:return new Scallop(this.env);case SUILEND:return new Suilend(this.env);case SPRINGSUI:return new Suilend(this.env);case BLUEFIN:return new Bluefin(this.env);case HAEDALPMM:return new HaedalPmm(this.env,et);case ALPHAFI:return new Alphafi(this.env);case STEAMM:return new Steamm(this.env);case METASTABLE:return new Metastable(this.env,et);case OBRIC:return new Obric(this.env,et);default:throw new Error(`Unsupported dex ${a}`)}}signAndExecuteTransaction(a,et){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:a,signer:et,options:{showEffects:!0,showEvents:!0,showInput:!0,showBalanceChanges:!0}})})}devInspectTransactionBlock(a){return __async(this,null,function*(){return yield this.client.devInspectTransactionBlock({transactionBlock:a,sender:this.signer})})}sendTransaction(a,et){return __async(this,null,function*(){return yield this.client.signAndExecuteTransaction({transaction:a,signer:et})})}getDeepbookV3Config(){return __async(this,null,function*(){const a=yield getDeepbookV3Config(this.endpoint);return a?a.data:null})}updatePythPriceIDs(a,et){return __async(this,null,function*(){let nt=null,at=null;for(const $t of this.pythConnections)try{nt=yield $t.getPriceFeedsUpdateData(a);break}catch(Ct){at=Ct,console.log("Error: ",Ct);continue}if(nt==null)throw new Error(`All Pyth price nodes are unavailable. Cannot fetch price data. Please switch to or add new available Pyth nodes. Detailed error: ${at==null?void 0:at.message}`);let mt=[];try{mt=yield this.pythClient.updatePriceFeeds(et,nt,a)}catch($t){throw new Error(`All Pyth price nodes are unavailable. Cannot fetch price data. Please switch to or add new available Pyth nodes in the pythUrls parameter when initializing AggregatorClient, for example: new AggregatorClient({ pythUrls: ["https://your-pyth-node-url"] }). Detailed error: ${$t}`)}let wt=new Map;for(let $t=0;$t<a.length;$t++)wt.set(a[$t],mt[$t]);return wt})}};_AggregatorClient.CONFIG={1:{wormholeStateId:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",pythStateId:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c"},0:{wormholeStateId:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pythStateId:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8"}};var AggregatorClient22=_AggregatorClient;function findPythPriceIDs(s){const a=new Set;for(const et of s)for(const nt of et.path)nt.provider===HAEDALPMM&&nt.extendedDetails&&nt.extendedDetails.haedalPmmBasePriceSeed&&nt.extendedDetails.haedalPmmQuotePriceSeed&&(a.add(nt.extendedDetails.haedalPmmBasePriceSeed),a.add(nt.extendedDetails.haedalPmmQuotePriceSeed)),nt.provider===METASTABLE&&(nt.extendedDetails&&nt.extendedDetails.metastablePriceSeed&&a.add(nt.extendedDetails.metastablePriceSeed),nt.extendedDetails&&nt.extendedDetails.metastableETHPriceSeed&&a.add(nt.extendedDetails.metastableETHPriceSeed)),nt.provider===OBRIC&&(nt.extendedDetails&&nt.extendedDetails.obricCoinAPriceSeed&&a.add(nt.extendedDetails.obricCoinAPriceSeed),nt.extendedDetails&&nt.extendedDetails.obricCoinBPriceSeed&&a.add(nt.extendedDetails.obricCoinBPriceSeed));return Array.from(a)}function parseRouterResponse(s,a){let et=0;for(const mt of s.routes)for(const wt of mt.path)wt.extended_details&&wt.extended_details.deepbookv3_deep_fee&&(et+=Number(wt.extended_details.deepbookv3_deep_fee));let nt;if(s.packages!=null){nt=new Map;for(const[mt,wt]of Object.entries(s.packages))nt.set(mt,wt)}return{amountIn:new import_bn5.default(s.amount_in.toString()),amountOut:new import_bn5.default(s.amount_out.toString()),byAmountIn:a,insufficientLiquidity:!1,routes:s.routes.map(mt=>({path:mt.path.map(wt=>{var $t,Ct,Dt,Ft,jt,Nt,Lt,Ut,Vt,Yt,er,tr,nr,sr,dr,br,vr,yr,$r,Sr,wr,fr,_r,ir,rr;let or;wt.provider===AFTERMATH&&(or=wt.extended_details.aftermath_pool_flatness===0?"v2":"v3");let ar;return(wt.provider===TURBOS||wt.provider===AFTERMATH||wt.provider===CETUS||wt.provider===DEEPBOOKV3||wt.provider===SCALLOP||wt.provider===HAEDALPMM||wt.provider===STEAMM||wt.provider===METASTABLE||wt.provider===OBRIC)&&(ar={aftermathLpSupplyType:($t=wt.extended_details)==null?void 0:$t.aftermath_lp_supply_type,turbosFeeType:(Ct=wt.extended_details)==null?void 0:Ct.turbos_fee_type,afterSqrtPrice:(Dt=wt.extended_details)==null?void 0:Dt.after_sqrt_price,deepbookv3DeepFee:(Ft=wt.extended_details)==null?void 0:Ft.deepbookv3_deep_fee,scallopScoinTreasury:(jt=wt.extended_details)==null?void 0:jt.scallop_scoin_treasury,haedalPmmBasePriceSeed:(Nt=wt.extended_details)==null?void 0:Nt.haedal_pmm_base_price_seed,haedalPmmQuotePriceSeed:(Lt=wt.extended_details)==null?void 0:Lt.haedal_pmm_quote_price_seed,steammBankA:(Ut=wt.extended_details)==null?void 0:Ut.steamm_bank_a,steammBankB:(Vt=wt.extended_details)==null?void 0:Vt.steamm_bank_b,steammLendingMarket:(Yt=wt.extended_details)==null?void 0:Yt.steamm_lending_market,steammLendingMarketType:(er=wt.extended_details)==null?void 0:er.steamm_lending_market_type,steammBCoinAType:(tr=wt.extended_details)==null?void 0:tr.steamm_btoken_a_type,steammBCoinBType:(nr=wt.extended_details)==null?void 0:nr.steamm_btoken_b_type,steammLPToken:(sr=wt.extended_details)==null?void 0:sr.steamm_lp_token_type,metastablePriceSeed:(dr=wt.extended_details)==null?void 0:dr.metastable_price_seed,metastableETHPriceSeed:(br=wt.extended_details)==null?void 0:br.metastable_eth_price_seed,metastableWhitelistedAppId:(vr=wt.extended_details)==null?void 0:vr.metastable_whitelisted_app_id,metastableCreateCapPkgId:(yr=wt.extended_details)==null?void 0:yr.metastable_create_cap_pkg_id,metastableCreateCapModule:($r=wt.extended_details)==null?void 0:$r.metastable_create_cap_module,metastableCreateCapAllTypeParams:(Sr=wt.extended_details)==null?void 0:Sr.metastable_create_cap_all_type_params,metastableRegistryId:(wr=wt.extended_details)==null?void 0:wr.metastable_registry_id,obricCoinAPriceSeed:(fr=wt.extended_details)==null?void 0:fr.obric_coin_a_price_seed,obricCoinBPriceSeed:(_r=wt.extended_details)==null?void 0:_r.obric_coin_b_price_seed,obricCoinAPriceId:(ir=wt.extended_details)==null?void 0:ir.obric_coin_a_price_id,obricCoinBPriceId:(rr=wt.extended_details)==null?void 0:rr.obric_coin_b_price_id}),{id:wt.id,direction:wt.direction,provider:wt.provider,from:wt.from,target:wt.target,feeRate:wt.fee_rate,amountIn:wt.amount_in,amountOut:wt.amount_out,extendedDetails:ar,version:or}}),amountIn:new import_bn5.default(mt.amount_in.toString()),amountOut:new import_bn5.default(mt.amount_out.toString()),initialPrice:new decimal_default(mt.initial_price.toString())})),totalDeepFee:et,packages:nt}}var CLOCK_ADDRESS=SUI_CLOCK_OBJECT_ID$1,AGGREGATOR_V2="aggregator_v2",AGGREGATOR_V2_EXTEND="aggregator_v2_extend";function getAggregatorV2PublishedAt(s,a){var et;return a instanceof Map&&(et=a.get(AGGREGATOR_V2))!=null?et:s}function getAggregatorV2ExtendPublishedAt(s,a){var et;return a instanceof Map&&(et=a.get(AGGREGATOR_V2_EXTEND))!=null?et:s}__toESM(require_bn());var dealWithFastRouterSwapParamsForMsafe=s=>{var a,et,nt;return __spreadProps$1(__spreadValues$2({},s),{amountIn:(a=s==null?void 0:s.amountIn)==null?void 0:a.toString(),amountOut:(et=s==null?void 0:s.amountIn)==null?void 0:et.toString(),routes:(nt=s==null?void 0:s.routes)==null?void 0:nt.map(mt=>{var wt,$t,Ct;return __spreadProps$1(__spreadValues$2({},mt),{amountIn:(wt=mt==null?void 0:mt.amountIn)==null?void 0:wt.toString(),amountOut:($t=mt==null?void 0:mt.amountOut)==null?void 0:$t.toString(),initialPrice:(Ct=mt==null?void 0:mt.initialPrice)==null?void 0:Ct.toString()})})})};function processEndpoint(s){return s.endsWith("/find_routes")?s.replace("/find_routes",""):s}var SDK_VERSION=1000404;function getRouterResult(s,a,et){return __async(this,null,function*(){let nt;if(et.liquidityChanges&&et.liquidityChanges.length>0?nt=yield postRouterWithLiquidityChanges(s,et):nt=yield getRouter(s,a,et),!nt)return null;if(!nt.ok){let wt=10001;return nt.status===429&&(wt=10005),{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:et.byAmountIn,insufficientLiquidity:!1,error:{code:wt,msg:getAggregatorServerErrorMessage(wt)}}}const at=yield nt.json(),mt=at.msg==="liquidity is not enough";return at.msg&&at.msg.indexOf("HoneyPot scam")>-1?{amountIn:ZERO,amountOut:ZERO,routes:[],byAmountIn:et.byAmountIn,insufficientLiquidity:mt,error:{code:10004,msg:getAggregatorServerErrorMessage(10004)}}:at.data!=null?parseRouterResponse(at.data,et.byAmountIn):{amountIn:ZERO,amountOut:ZERO,routes:[],insufficientLiquidity:mt,byAmountIn:et.byAmountIn,error:{code:10003,msg:getAggregatorServerErrorMessage(10003)}}})}function getRouter(s,a,et){return __async(this,null,function*(){try{const{from:nt,target:at,amount:mt,byAmountIn:wt,depth:$t,splitAlgorithm:Ct,splitFactor:Dt,splitCount:Ft,providers:jt}=et,Nt=completionCoin(nt),Lt=completionCoin(at);let Ut=`${s}/find_routes?from=${Nt}&target=${Lt}&amount=${mt.toString()}&by_amount_in=${wt}`;return $t&&(Ut+=`&depth=${$t}`),Ct&&(Ut+=`&split_algorithm=${Ct}`),Dt&&(Ut+=`&split_factor=${Dt}`),Ft&&(Ut+=`&split_count=${Ft}`),jt&&jt.length>0&&(Ut+=`&providers=${jt.join(",")}`),a.length>0&&(Ut+=`&apiKey=${a}`),Ut+=`&v=${SDK_VERSION}`,yield fetch(Ut)}catch(nt){return console.error(nt),null}})}function postRouterWithLiquidityChanges(s,a){return __async(this,null,function*(){const{from:et,target:nt,amount:at,byAmountIn:mt,depth:wt,splitAlgorithm:$t,splitFactor:Ct,splitCount:Dt,providers:Ft,liquidityChanges:jt}=a,Nt=completionCoin(et),Lt=completionCoin(nt),Ut=`${s}/find_routes`,Vt=Ft==null?void 0:Ft.join(","),Yt={from:Nt,target:Lt,amount:Number(at.toString()),by_amount_in:mt,depth:wt,split_algorithm:$t,split_factor:Ct,split_count:Dt,providers:Vt,liquidity_changes:jt.map(er=>({pool:er.poolID,tick_lower:er.ticklower,tick_upper:er.tickUpper,delta_liquidity:er.deltaLiquidity})),v:SDK_VERSION};try{return yield fetch(Ut,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yt)})}catch(er){return console.error("Error:",er),null}})}function getDeepbookV3Config(s){return __async(this,null,function*(){const a=`${s}/deepbookv3_config`;try{return(yield fetch(a)).json()}catch(et){return console.error("Error:",et),null}})}var Env=(s=>(s[s.Mainnet=0]="Mainnet",s[s.Testnet=1]="Testnet",s))(Env||{});const vaultsConfigMainnet={...baseConfigMainnet,vaults:{package_id:"0xd3453d9be7e35efe222f78a810bb3af1859fd1600926afced8b4936d825c9a05",published_at:"0x1ed1fef522ccea98a4fbd954543d5019238ec89282fbdea9a753e0a17e96fc28",config:{admin_cap_id:"0x78a42978709c4032fab7b33b782b5bcef64c1c6603250bf23644650b72144375",vaults_manager_id:"0x25b82dd2f5ee486ed1c8af144b89a8931cd9c29dee3a86a1bfe194fdea9d04a6",vaults_pool_handle:"0x9036bcc5aa7fd2cceec1659a6a1082871f45bc400c743f50063363457d1738bd",haedal:{package_id:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d",published_at:"0xaabf0856070391df81fad9240049d69c5a51c3d376cc0885eeedd516526cc79b",version:1,config:{staking_id:"0x47b224762220393057ebf4f70501b6e657c3e56684737568439a04f80849b2ca",coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI"}},volo:{package_id:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",published_at:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55",version:1,config:{native_pool:"0x7fa2faa111b8c65bea48a23049bfd81ca8f971a262d981dcd9a17c3825cb5baf",vsui_metadata:"0x680cd26af32b2bde8d3361e804c53ec1d1cfe24c7f039eb7f549e8dfde389a60",coin_type:"0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT"}},aftermath:{package_id:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",published_at:"0x7f6ce7ade63857c4fd16ef7783fed2dfc4d7fb7e40615abdb653030b76aef0c6",version:1,config:{staked_sui_vault:"0x2f8f6d5da7f13ea37daa397724280483ed062769813b6f31e9788e59cc88994d",referral_vault:"0x4ce9a19b594599536c53edb25d22532f82f18038dc8ef618afd00fbbfb9845ef",safe:"0xeb685899830dd5837b47007809c76d91a098d52aabbf61e8ac467c59e5cc4610",validator_address:"0xd30018ec3f5ff1a3c75656abf927a87d7f0529e6dc89c7ddd1bd27ecb05e3db2",coin_type:"0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI"}}}},frams:peripheryConfigMainnet.frams,aggregator:{endPoint:clmmConfigMainnet.aggregatorUrl+"/find_routes",fullNodeurl:clmmConfigMainnet.fullRpcUrl,walletAddress:clmmConfigMainnet.simulationAccount.address,env:Env.Mainnet,providers:[],pythUrls:[]},clmm_pool:clmmConfigMainnet.clmm_pool,integrate:clmmConfigMainnet.integrate},volatileVaultsConfigMainnet={...baseConfigMainnet,env:"mainnet",aggregatorUrl:clmmConfigMainnet.aggregatorUrl,providers:[],vaults:{package_id:"0xc4ebf35be1478318d78c324342854dd2735a036139373a9d41a1aa3a46a01d05",published_at:"0xc4ebf35be1478318d78c324342854dd2735a036139373a9d41a1aa3a46a01d05",configs:{registry_id:"0x23014734280164270fa4c58f973c00079651e730d6f46491678ea8858f3bd13a",pools_handle:"0x31c810b6fcf3bb8699384e7c61fe9f7db53a04c4c22d514b3f79b6caa86183a8",pyth_oracle_id:"0xaed73fd854dfceedb2522903feec8c0e251764f5945bd38f969473024c4fb4d0",oracle_infos_handle:"0x6951ab4b36639e79ddbd9ba4478d7f72d1c5396b9198d0864c00e796c5815b01",prices_handle:"0x20a65a0f747f4f1ad465bdb61d784bbc5080ee5d200d5dd6594a354723b8c171",global_config_id:"0x5f8371674cd8e1e9eef5542ffe8adb339e3ff3a67894b14c954c7a92e992e0c1"},clmm_configs:{global_config_id:"0xdaa46292632c3c4d8f31f23ea0f9b36a28ff3677e9684980e4438403a67a3d8f",global_vault_id:"0xce7bceef26d3ad1f6d9b6f13a953f053e6ed3ca77907516481ce99ae8e588f2b"},pyth_configs:{pyth_state_id:"0x1f9310238ee9298fb703c3419030b35b22bb1cc37113e3bb5007c99aec79e5b8",hermes_service_urls:{primary:"https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com",secondary:"https://hermes.pyth.network"},wormhole_state_id:"0xaeab97f96cf9877fee2883315d459552b2b921edc16d7ceac6eab944dd88919c",pyth_package_id:"0x04e20ddf36af412a4096f9014f4a565af9e812db9a05cc40254846cf6ed0ad91",pyth_published_at:"0x04e20ddf36af412a4096f9014f4a565af9e812db9a05cc40254846cf6ed0ad91"}}},xCetusConfigMainnet={...baseConfigMainnet,xcetus:{package_id:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",published_at:"0x9e69acc50ca03bc943c4f7c5304c2a6002d507b51c11913b247159c60422c606",config:{xcetus_manager_id:"0x838b3dbade12b1e602efcaf8c8b818fae643e43176462bf14fd196afa59d1d9d",lock_manager_id:"0x288b59d9dedb51d0bb6cb5e13bfb30885ecf44f8c9076b6f5221c5ef6644fd28",lock_handle_id:"0x7c534bb7b8a2cc21538d0dbedd2437cc64f47106cb4c259b9ff921b5c3cb1a49"}},xcetus_dividends:{package_id:"0x785248249ac457dfd378bdc6d2fbbfec9d1daf65e9d728b820eb4888c8da2c10",published_at:"0x5aa58e1623885bd93de2331d05c29bf4930e54e56beeabcab8fe5385de2d31dc",config:{dividend_manager_id:"0x721c990bfc031d074341c6059a113a59c1febfbd2faeb62d49dcead8408fa6b5",dividend_admin_id:"0x682ba823134f156eac2bcfb27d85a284954a0e61998dc628c40b9bcb4a46ff30",dividend_settle_id:"0xade40abe9f6dd10b83b11085be18f07b63b681cf1c169b041fa16854403388c5",venft_dividends_id:"0x9dcdb97b4307684bedaeaf803d381b12321a31ecbb9dad7df2cd5f64384f9456",venft_dividends_id_v2:"0xaa21fbc1707786d56302952f8327362f4eb9a431a5bc574834e6d46125390de3"}},cetus_faucet:{package_id:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b",published_at:"0x6864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b"}},baseConfigTestnet={fullRpcUrl:"https://fullnode.testnet.sui.io",simulationAccount:{address:"0x326ce9894f08dcaa337fa232641cc34db957aec9ff6614c1186bc9a7508df0bb"}},clmmConfigTestnet={...baseConfigTestnet,cetus_config:{package_id:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",published_at:"0xf5ff7d5ba73b581bca6b4b9fa0049cd320360abd154b809f8700a8fd3cfaf7ca",version:void 0,config:{coin_list_id:"0x257eb2ba592a5480bba0a97d05338fab17cc3283f8df6998a0e12e4ab9b84478",launchpad_pools_id:"0xdc3a7bd66a6dcff73c77c866e87d73826e446e9171f34e1c1b656377314f94da",clmm_pools_id:"0x26c85500f5dd2983bf35123918a144de24e18936d0b234ef2b49fbb2d3d6307d",admin_cap_id:"0x1a496f6c67668eb2c27c99e07e1d61754715c1acf86dac45020c886ac601edb8",global_config_id:"0xe1f3db327e75f7ec30585fa52241edf66f7e359ef550b533f89aa1528dd1be52",coin_list_handle:"0x3204350fc603609c91675e07b8f9ac0999b9607d83845086321fca7f469de235",launchpad_pools_handle:"0xae67ff87c34aceea4d28107f9c6c62e297a111e9f8e70b9abbc2f4c9f5ec20fd",clmm_pools_handle:"0xd28736923703342b4752f5ed8c2f2a5c0cb2336c30e1fed42b387234ce8408ec"}},clmm_pool:{package_id:"0x0c7ae833c220aa73a3643a0d508afa4ac5d50d97312ea4584e35f9eb21b9df12",published_at:"0x85e61285a10efc6602ab00df70a0c06357c384ef4c5633ecf73016df1500c704",version:0,config:{pools_id:"0x50eb61dd5928cec5ea04711a2e9b72e5237e79e9fbcd2ce3d5469dc8708e0ee2",global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",admin_cap_id:"0xd0accadc3d0b27f0cfaebe8e546968ac7874b9a9f5964669b4c9a7e1dcf80a28",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea"}},integrate:{package_id:"0x2918cf39850de6d5d94d8196dc878c8c722cd79db659318e00bff57fbb4e2ede",published_at:"0x19dd42e05fa6c9988a60d30686ee3feb776672b5547e328d6dab16563da65293",version:void 0,config:void 0},deepbook:{package_id:"",published_at:"",version:void 0,config:void 0},deepbook_endpoint_v2:{package_id:"",published_at:"",version:void 0,config:void 0},aggregatorUrl:"https://api-sui.devcetus.com/router_v2"},burnConfigTestnet={...baseConfigTestnet,burn:{package_id:"0x3b494006831b046481c8046910106e2dfbe0d1fa9bc01e41783fb3ff6534ed3a",published_at:"0xaf89f8215c5b07eaac8b77c7745ce62f94cb76ef4bcb854e283f644c519ef43e",manager_id:"0xd04529ef15b7dad6699ee905daca0698858cab49724b2b2a1fc6b1ebc5e474ef",clmm_global_config:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",clmm_global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea",burn_pool_handle:"0x20262dac8853ab8f63c98e0b17bfb1c758efc33d0092ac3c5f204dfb7ba81ac5"}},peripheryConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"},limit_order:{package_id:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",published_at:"0xc65bc51d2bc2fdbce8c701f8d812da80fb37dba9cdf97ce38f60ab18c5202b17",config:{rate_orders_indexer_id:"0xeaa7dc3a4b70c14b434aed2cef0bdd272a781c630ea3c54c25fa53c72fb3cf96",rate_orders_indexer_handle:"0x62eea7ce7be125e6b43fac6158d0ac8a6b0f263446d4631ad5a3629d82fef2ed",global_config_id:"0xd4d98f126233057b3a01f17adfb5bc77d7bdb0332fe982ab44c6c7a2f66443dc",token_list_handle:"0x81233cdf2165f013a57c3ab180b079e0f411483ba7f80dd6fbcb74426d2045f9",user_orders_indexer_id:"0x18ff28ae25ea50c703a0dfcc49653cc7dd7035207e26c8f86fa9e4aea49037d0",user_orders_indexer_handle:"0xbe3301b85fb0fc99deacb68c31d971837ae23a65c38680cf79a6b8562518b4c7"}},frams:{package_id:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",published_at:"0xcc38686ca84d1dca949b6966dcdb66b698b58a4bba247d8db4d6a3a1dbeca26e",config:{global_config_id:"0x499132a4baf342a0fe9528a3666a77b2aece3be129f4a3ada469fef4b9c34fb4",rewarder_manager_id:"0x960c7800e301fd1e47b79037927b426db57b643bd2934f7069d81c2dae092230",rewarder_manager_handle:"0x1274149371876b60742cd02071a09f2aa72ffee75b76fdfc45724d98f18ea5b5",admin_cap_id:"0x110175e641c1ea8f9287f4fd59cb6a1fb97a3f3ec595aa30d0e6ed93ac4caa0c"}},dca:{package_id:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",published_at:"0x484d2be08b58b8dc00a08c0ff8a2a9cd0542c4249ea2d5934ef9b15a10585d88",config:{admin_cap_id:"0xf54334a5cf41874d151cc610f7575f2b9ca8aab32103be3ed87f07f73388dcf2",global_config_id:"0xdac150723df0b51c1407ea942036d7f9d4e3b064ff35a4136dd31ffb397497e0",indexer_id:"0xacd0ab94883a8785c5258388618b6252f0c2e9384b23f91fc23f6c8ef44d445c",user_indexer_id:"0xc4ca05342746468383922650a3137bd3efc49d4c7a37431ed11a94c08dbfb677",in_coin_whitelist_id:"0xe72cdb8a0777bbcb5105b7045b90f5fdc8c7b946d48fd4cec0607d201a45a9b7",out_coin_whitelist_id:"0xbe67538ca0e4683fef704b374d034f5a4f79cdc756ea47cec82df55b37d4ff0a"}},token_faucet:{package_id:"",published_at:""},xtoken:{package_id:"",published_at:"",config:{xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""}},xtoken_dividends:{package_id:"",published_at:"",config:{dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""}},launchpad:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",config_cap_id:""}},ido:{package_id:"",published_at:"",config:{pools_id:"",admin_cap_id:"",package_version_id:""}},booster:{package_id:"",published_at:"",config:{booster_config_id:"",booster_pool_handle:""}},liquidity_stratefy:{package_id:"",published_at:"",config:{master_manger_id:"",master_liquidity_handle:""}},maker_bonus:{package_id:"",published_at:"",config:{maker_config_id:"",maker_pool_handle:""}},vaults:{package_id:"",published_at:"",config:{admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:"",haedal:{package_id:"",published_at:"",version:1,config:{staking_id:"",coin_type:""}},volo:{package_id:"",published_at:"",version:1,config:{native_pool:"",vsui_metadata:"",coin_type:""}},aftermath:{package_id:"",published_at:"",version:1,config:{staked_sui_vault:"",referral_vault:"",safe:"",validator_address:"",coin_type:"::afsui::AFSUI"}}}}},TestnetTokens={SUI:{decimals:9,name:"Sui",symbol:"SUI",description:"",logo_url:"https://archive.cetus.zone/assets/image/sui/sui.png",id:"0x587c29de216efd4219573e08a1f6964d4fa7cb714518c2c8a0f29abfa264327d",coin_type:"0x2::sui::SUI",is_trusted:!0},CETUS:{decimals:9,name:"Cetus Token",symbol:"CETUS",description:"CETUS is the native token of Cetus Protocol.",logo_url:"https://uxcdefo3r2uemooidt2kk2stykakvwd2m6nasg5lhbfaxemm4i3a.arweave.net/pcQyFduOqEY5yBz0pWpTwoCq2HpnmgkbqzhKC5GM4jY",id:"0xf5dd74cd76c4bb4b0c6ac1b1388982a64f2cd089278d453e2067038fe50cbc1d",coin_type:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7::cetus::CETUS",is_trusted:!0},xCETUS:{coin_type:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966::xcetus::XCETUS",decimals:9,description:"",name:"Cetus Escrowed Token",symbol:"xCETUS",logo_url:"https://7rgiihm5sisgewirofazpjddkpvmlwphumcg5lulriu6okgf5krq.arweave.net/_EyEHZ2SJGJZEXFBl6RjU-rF2eejBG6ui4op5yjF6qM",is_trusted:!0},USDC:{coin_type:"0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::usdc::USDC",decimals:6,description:"",name:"USD Coin",symbol:"USDC",logo_url:"https://archive.cetus.zone/assets/image/sui/usdc.png",is_trusted:!0}},TestnetCreatePoolQuoteTokens=["0x2::sui::SUI","0x26b3bc67befc214058ca78ea9a2690298d731a2d4309485ec3d40198063c4abc::cetus::CETUS"],vaultsConfigTestnet={...baseConfigTestnet,vaults:{package_id:"",published_at:""},frams:peripheryConfigTestnet.frams,aggregator:{endPoint:clmmConfigTestnet.aggregatorUrl,fullNodeurl:clmmConfigTestnet.fullRpcUrl,walletAddress:clmmConfigTestnet.simulationAccount.address,env:Env.Mainnet},clmm_pool:clmmConfigTestnet.clmm_pool,integrate:clmmConfigTestnet.integrate},volatileVaultsConfigTestnet={...baseConfigTestnet,env:"testnet",aggregatorUrl:clmmConfigTestnet.aggregatorUrl,providers:[],vaults:{package_id:"0x0a624f2dcafc9f7f381684b3d553a9837411925b6e8530b1f8f4e6ff3f1fde77",published_at:"0x36f9d8e6219e6ba4d8840165ec27676a1bcb43fc5712f87ca702ac7b5924507d",configs:{registry_id:"0xa2ebae3656c5fbdd2473caadfc077cd1780a881759a356f1a5bc0f9fd470adb9",pools_handle:"0x0df305d395f8e0359da0ac5717bc96e0e1da9792684ec8e8f6a20b7ab544f98e",pyth_oracle_id:"0x6c74aec8d4471d9b05f718c467204c9010c450b94a4e40b0b4031a7d6c386337",global_config_id:"0x8969b09cfdd72b1635263b569027ded4b91bbabd7d8cd91b21e355325e218b10",oracle_infos_handle:"0x8707c6665d202f277ffe8e7fd58684e232622a3e6826b94ba99f7569f253fa9d",prices_handle:"0x74230bb2c6a63235acbfe477ce16144afca7ccd16a458fa93f4605330b5d1c58"},clmm_configs:{global_config_id:"0x9774e359588ead122af1c7e7f64e14ade261cfeecdb5d0eb4a5b3b4c8ab8bd3e",global_vault_id:"0xf78d2ee3c312f298882cb680695e5e8c81b1d441a646caccc058006c2851ddea"},pyth_configs:{pyth_state_id:"0x243759059f4c3111179da5878c12f68d612c21a8d54d85edc86164bb18be1c7c",wormhole_state_id:"0x31358d198147da50db32eda2562951d53973a0c0ad5ed738e9b17d88b213d790",hermes_service_urls:{primary:"https://hermes-beta.pyth.network"},pyth_package_id:"0xabf837e98c26087cba0883c0a7a28326b1fa3c5e1e2c5abdb486f9e8f594c837",pyth_published_at:"0xabf837e98c26087cba0883c0a7a28326b1fa3c5e1e2c5abdb486f9e8f594c837"}}},xCetusConfigTestnet={...baseConfigTestnet,xcetus:{package_id:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",published_at:"0xdebaab6b851fd3414c0a62dbdf8eb752d6b0d31f5cfce5e38541bc6c6daa8966",config:{xcetus_manager_id:"0x3be34cbad122c8b100ed7157d762b9610e68b3c65734e08bc3c3baf857da807d",lock_manager_id:"0x7c67e805182e3fecd098bd68a6b06c317f28f8c6249bd771e07904a10b424e60",lock_handle_id:"0xc5f3bbfefe9a45c13da7a34bc72cac122ee45d633690476a8ac56bd2c4e78c86"}},xcetus_dividends:{package_id:"0x4061e279415a3c45cfd31554d38c5b3bb0e06c65833811a98a66f469e04c69c3",published_at:"0xfeda040996e722ba532ab2203d13333484024456ca38bf4adeb526ce1457332d",config:{dividend_manager_id:"0x9d1be1a6b1146b30448a266bc87127466c0bae1585750c42adffce3e25e1ab6d",dividend_admin_id:"0x36d63c1a588bd93775aff8f47538a0063960564f0a171d100a9f49526a872b92",dividend_settle_id:"0x9eb78595419560b1dcaa9fb0ca307921ab1664a5f63c877c6887ab696344b400",venft_dividends_id:"0xc31a85fa5a77fc1def0dc5b2aadc5317a9d744ffda24b472e56a646711770676",venft_dividends_id_v2:"0x53b24031120730f6e4a733526147917650b1ecd3c56b43164b69eaa74f9b9ff7"}},cetus_faucet:{package_id:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7",published_at:"0x1a69aee6be709054750949959a67aedbb4200583b39586d5e3eabe57f40012c7"}},envConfigs={mainnet:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:apiUrl||"https://api-sui.cetus.zone",notifi_api:"https://api.notifi.network/gql",pythUrls:["https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com"],clmm_sdk_options:clmmConfigMainnet,periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigMainnet},pre:{env:"mainnet",cetus_clmm_site:"https://v1.cetus.zone",cetus_api:"https://api-sui-cloudfront.cetus.zone",notifi_api:"https://api.notifi.network/gql",pythUrls:["https://cetus-pythnet-a648.mainnet.pythnet.rpcpool.com"],clmm_sdk_options:{...clmmConfigMainnet,aggregatorUrl:"https://api-sui-cloudfront.cetus.zone/router_v2"},periphery_sdk_options:peripheryConfigMainnet,burn_sdk_options:burnConfigMainnet,sui_coin:MainnetTokens.SUI,cetus_coin:MainnetTokens.CETUS,clmm_swap:{from_coin:MainnetTokens.USDC,to_coin:MainnetTokens.SUI},vaults_sdk_options:vaultsConfigMainnet,xcetus_sdk_options:xCetusConfigMainnet,x_cetus_coin:MainnetTokens.xCETUS,create_pool_quote_coin_list:MainnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigMainnet},testnet:{env:"testnet",cetus_clmm_site:"https://cetus-cmm-app-testnet.netlify.app",cetus_api:"https://api-sui.devcetus.com",notifi_api:"https://api.notifi.network/gql",pythUrls:[],clmm_sdk_options:clmmConfigTestnet,periphery_sdk_options:peripheryConfigTestnet,burn_sdk_options:burnConfigTestnet,sui_coin:TestnetTokens.SUI,cetus_coin:TestnetTokens.CETUS,clmm_swap:{from_coin:TestnetTokens.USDC,to_coin:TestnetTokens.SUI},vaults_sdk_options:vaultsConfigTestnet,xcetus_sdk_options:xCetusConfigTestnet,x_cetus_coin:TestnetTokens.xCETUS,create_pool_quote_coin_list:TestnetCreatePoolQuoteTokens,volatile_vaults_sdk_options:volatileVaultsConfigTestnet}},envConfigs$1=envConfigs[APP_ENV];function useGetTokenSource(){const{trustedTokenList:s,importTokenList:a,liquidityTrustTokenList:et}=useTokenSelectStore();return{getTokenSource:wt=>{console.log(" ~ file: useGetTokenSource.ts:8 ~ getTokenSource ~ tokensInfo:",wt);const $t=[],Ct=new Set([...s.map(Dt=>Dt.coin_type),...a.map(Dt=>Dt.coin_type)]);console.log(" ~ getTokenSource ~ tokenTypesSet:",Ct);for(const Dt of wt)Ct.has(suiAddressLongToShort(add0x(Dt.coin_type)))||$t.push(Dt);return $t},getTrustTokenSource:wt=>{const $t=[],Ct=new Set([...s.map(Dt=>Dt.coin_type),...a.map(Dt=>Dt.coin_type),...et.map(Dt=>Dt.coin_type)]);for(const Dt of wt)Ct.has(suiAddressLongToShort(add0x(Dt.coin_type||(Dt==null?void 0:Dt.address)||"")))||$t.push(Dt);return $t},getShowCoinTag:wt=>{if(fixCoinType(wt)===fixCoinType(envConfigs$1.x_cetus_coin.coin_type))return!1;const $t=Array.from(new Set([...s.map(Ct=>Ct.coin_type),...a.map(Ct=>Ct.coin_type)]));return!(($t==null?void 0:$t.length)>0&&($t!=null&&$t.includes(suiAddressLongToShort(add0x(wt)))))}}}const IconTipsTriangle="/images/token-warning@2x.png",placeholderImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAQcklEQVR4Ac07C3BUVZb33vfp7nQSgiEhYYYgESEj40oZjERH/MxAnFEGQQYUZILRGix1y3V3q3bZqd2trZpZqram1rJ2tMZZiUGFAURQ4romiALjmlkFB2eGEVyMEAQSEiSQ9O+9fvfuOfe923Q66aQ7dDS3q/vcd9+553fPOffzXlMyxqX4hc1Vls9p4Iao5nm8Mp5HSoSfmsIUGjcJRfbMIoJa1CFRbhlh2k3CrJ3F6EG/rTWee3DlkbEUUQqQawYTX3ppVTxInoxN4rPjVxAfAf0kDwG/WEM4RKGUEiEEQYgF0ITxJY2ZPfSwHiJPnV+9etMQ3S6rKWcGmPTcq+XWxOhzVhlfGJ8oQGkoSlnFJcUAAlSk8EHoort1bPMaXGN5lzoao5O1muf9a3vW3nvGRbq8XyXaqKlMebG5IpTXtzF6JZ/PfYINSyjFADDUoCA0eiN+SVvXINIuKKF3qQzKLMr9x9n+YLig/vSPF3UMy3OEm6M2ALgqLd6y5fnwVXyNCJChFZcKU2GcoyGtlx6FuD7MYuQDjemHhNC7mLggR5HTCeWUxic7JD6HG6QGDDmbTxSzrCtEELRPKyOLEB74jDWdu+++hyFslJlGUHng7bTEB6INvPrGC6/O65tmt1iTeKGKWxfDGy7OhL+Tduq9ZLMZ9j19uuGekwMpZHY1pfG1qVZe7Il4EV8ZLSNlYGZgIK3qEXDrZje5GOgw67oevPd3mVG+hJW1AUpf3vpI+GrxjAOj7qmrIpZQhwr/CdbG+sz67tWLj11ic/m1kpden8ELrI2RabyWaIO9QkNv+D/9sbMPLPtVNtyyMsDkra809s8iawjjXj9lAhjxk+TTYLdY1bFm+cFsBMgWt6JpW3WomG6KVpCZhCg5XCqUMBE8Qpq6VvyoIVO6GRmg+oAwvji9sy00zalWKrsMBPF1sW69kzzU9eNlzZkyzQXelM2vLbImORtik3mJoqeCw39CO1gxZUntwbnUVvfSwRENgMp39OzoiJWJsgFZG5JO8BjdfWbpkrp0xL+K9sk7drZEruILYDZxZ0/PCj7IQRXFSytGMsLQ2TtJ8tOnX2+zy2kZo5CBgAdCZjNR8Alb/3Urj2J2wQAUHNHWs7gGczBmSfxlxC6jZadA9iRVhqwOa4CpW3c1RqeRalRcKg+E9X5m5x81lp1acc9Ph6T4NTSiLPlH2TI9BEMDJlDyxipI9dStzY3DiZQ2BK78TfMjfVXiWYHUvKKHme1v1+Z0PPCDP6u28QQrXn7zmmilcyieB6sJKFJwUAA85NHj99815OwwpAfM2PLmvHCleAbmeHR86VK6o4n8z/X7xqvyqDDKhjKirDIc0HOhhKc7z6BOiJNaBhkAV3jhUtEiTMZcV5ImEAXt+vr2Vd/fkUpgvF2jjCgrGEAagaED+xiTOmGiTCmDGiq3v7khdBVpkHjeOj3vBG39/J7v5yTbz9y2pyZO4/cIH68RGisV1PEJjerUZr3MEqepTd+JGUUvnlp647kUWbO6nL7rv1vC3+QLZRzgzAAl2E4b25f94CH3yv0dYICq37Rd2VfZ+5ljgNdjQeP10O4TC+4sddFH94tTae/J1v+0J4il9kRRgHbFkroXSuyLOBG+bnbcd8H4+6Mr7tjmYmf/O233W2djk0SJUpLGCJ/YUTD98PLvdChqA0IgHux/QRiUuRMJ/moi0E0HWEx1zBRevW33yp7w7guRaaTeLiIFFBwTJ2z5wRjFD0L4qqkWJKDWZDK972p7y1Vv7P4thmWm/JLxUHYIBJnHZS6HsI75IxuTcRKEv/Xq/vL+qdEvhA7B42H4z7Kjn935varkDtnUZ2/f+9cXKuxfEH1oBbw1S2K3m0obhUOcwBn6x2N3LfiL1PuZXF/91ttHwiV8lsJlccLzv/B/85N755/BtoQHCM1+juhgepnzYfS5JvIuslWqY7Zw1ta9t/dNc35BNfR0dy7BnS3W5Q4XR9yrJzzOa8PEJZOXB2EneO23tu/5WbYyIL4fdGACZgVcwCE/g8El6OqVhAGsK8hC5YoI8zq1tj8uv2NUGxt0WV4qXgd+lKEFgB5+UQAFk+uJ+x4u9pFf7IF1+MRK2d8oobOBqAPqInl44WaDroqGNMC1r7y3igeZLyEc7OeDjlmvkLKF1726/x/sQoz3S/GtaCPUYESCZ/S2CZ/7/nLSZ+bcwuPaT/292peEo0uC4wNMrmMbDwr/ddvfW56tLIjvt7QHkSfSQWM6Qeq79pV90rt1RIDT2ielc4KzYsz5e1nnR4tvGvV+PjaBPCGVl2kes72XaoA4A+MWHGf1Hy+/5SXk7RX0tH+dtWffWasIsrbKTIAv6ygUFJg6lwDIelb4eOktn1a17uu0ilm5O9OAQfPok0Brk/SAeFDMxpjDDI3QF9ZfRoajKTVv/2+xU0QnSWvLpQjGM9JF21OS36ntTFE+wSZw3vgXxFOeI3uAPAjx42gkkcwSnTKs+EJsM+YepIPQBp2xK6vefqDKKdB8ig06qBHW/yNDuoPQ7Ivxh3HIL9FT4sOkaml81qKb07qxYeu70BM176PqCGVd6P2DGGbYYEZ9T+O0rsKAg86oOxOG1QCjLnMk+r+vn4U+vL/mZIZ0B6E5wfxfFp7QH8w/pW0PnGPHjQizlQK+C/TYKxQegKQpIo/f7I4QIKD7w0gpKHMHZ6fSdB2xGXUy+2kIB0Z6GAdgOA260Fk1k5GPvAQxI9rREakNg/CHuutCcLvJ+0rM2uYDVZbD7xe287FsSPNj+cXPpHAw3ljQj2BGkRCMKLSY9m9pumbUjLo5QQ6nWi59WPNU67DyqyTczTJyrozTP2VELQuktkVz8fHWPw/XZe6uD/89VMwrKYehUVkQvQCFBeg/T08eWHbD74ejMdI9nWuHIQNUKzyui0omfLRERSlaH7aSHyqErwreuPPAP0ZK+V8BfxmK0k1lunIj1rA1J9hv/PBy5dFs9gHqqkKSmFqJDkskHzapAiIcUvWvAtb810cbw6V8NSjtPtrA0XcdUoYkCCzyusnj7y29ftjwyURWqZsAD1PIBjV1ouHy1ysQb36f2aUuxxLiarHmrY/ejxTzeaiwikulPPLW4owHv6SPv7/4+iFPc7KVD3ULEczBrsaCMU2nGuiPqwNsBuubNC43CbJhDH/mtfz+gFVMr8cHWirmVcJDqEdppKBPq9t393W/zZUYqFtykoVzCKpj4kOGsiiYK45p6Nz8xh/+KTTRcZXH0fDYq4QX6NU+KY36bty1uKovDYlRN8NaAAzudsddtq7B4yzHSwIogBXVy+H2qJfBmUhm5Yu/w5GQkqDRPYnAE/D8YdP/3HXt6kzoZIuDulEShwnV7QkPuCAK4hT0dz/SPQxtcraEs8G/tfmTRTzA8uQuD4yQgFDP+5K1jJXyKCMF3dwlPww18NMc5jDmUAsb5VeGA5+TjUJZ4zJxp4x7GAU5JXnQtDWrvG723VnTy6KDcPgceeokp0IIhjixdCPOuh2Bz+HBQvDljN6QBc2sUSHpTlErT+yssr8ZoYeGWyZnzWiIDtSgNW4SdG/qFu1msPBp12Dk8St3gxr99hB9c9hE8y+FnAo95K3hEnpMC+yEZrte5+qqC61d17h2kApxB3LG0eAmHfWWMxPpNc4+CPSTShcXfQ4zEmRjTrN+uSETfsk43NRmUbkQcqcBqfvC5s+r+kvif5ZPVyU2FfkX6bTWuhmj3hEmMx0v9YUtx6b2F/ATcpTdmUfk9xjXsNZF04+YMRZTbgnOAZMRe2K8CJ4rOVAn1E3paVoshrrLIzHDZocdgyd2SY5JVgLjv80Vc0Xn7uaeb0Ty+xJr+ksB4GIELO3h5rqK1xR+LiHqJDdZEHH4cp5hk8NIH3aHcAji6E956UhOTXaAlv3w3ZMz8F4uC2fRYNwniuM+Ir+2V0eIXzgLxUVYzgvqYvnhHQdQ3D0Wg2M/x3wKGUkDvFE3dZNhURkGOE3gCVGc8425lqQACMqZBgRBYSQvD8qFiStOrtkSC3RJuD8EAaw5YqgzMpIGwIrfYq3JAsX8tPaultOJsECcyy4+d/GT7sEIYdpls0glgDrYAVarpj+EvhhtVXgJA5j+wFo4O4fXrnBssBmSoc6llRRyLiCuAlUiSoW5oJ9KQ+qAp2rg2cgbpmFu8sBahZcwwI75JWf8UbbftZTrnpaPzry35dQihXz50Jd40qP4KIgCqofSl8/HpYCyW342UxkaBxZ13HFnSWLLnzAAdvH7J9aDD3DVAb0garINuRII0q2Me3c0UBzwNsw53ifXISBlT4w+GJhrHHVM1sddEiW1LNl9dkPY7zRgEwSBPCvIg/yw87uT65LQRl39kRBpAz2Xe4Ele7paIj6ReAaIAgcirHHngtKHkoUfZAA8qlq8r7vX1gS8BwyzBsQNPOEUeRG2fvv3Jo2bN8OSlUitL3u75+chP193aXULD4UdevH1W0uKcJmXjD8gBPAGIgRsrQ4e6cN7GuieYAU4R4yYfN2Kd3qWJncej3WUMWqKdTiVQyaTwQWvFnPUKVV5lH+QAbBx64Li3wUd/TGNum9byVgFN4jpbMuqt/uuQZzxWFA2lBFHEZWXD9YpE/mO+RjqNJTMQxoAEbfcfsWvIPabXC9w05QD/2CJmM6h8egJK945vzRsxA/BatJQSRZlRx223F6U9lR5UA5ItdLydy8ciGnePgGxMSdAbsxztPWbbyscFzlh5d6LPw8zZx2Kliw//IHl4LZbJ8xNbkutp/UAhVh0W2Gtj7NOdClpWeQB8RXWxLqVe/taFN7XBVEGlAWHRYYqyIfQz7XOovmFtSPJNcBi6ZB/IoTRv7+/LUrEwKUxuILBRXfAMR9q+q6/OV3/sWhfs+fioohGNsCj5xJFHyMfj/gDVDsYvCWv9tc0B6/LK+IIH9jb3xhjdA3HA3VZcEYBzwC+JiefGpyu2nhHcFTvFbn0Rv6tfydU7TC6KcbETJyyB/TA0OS06cXbgg0D2oe5GEhgGER1a827oUcijDwjX+fBcPCOtLz7wk9oW4Hhr3/2JprTZwuPvi9m9NmRjVFCwK09xV37SxEglnlAkMeabg+mTXhKh2SYtQGw88PvWfMijtNiC1KYbADwBLlwwreMDSE6dUI3BwK+p5+toaM6Xnv0AzE1EoE/TRGyEly9LHXE0d3R7eFU52JA0+qe/4455FSXrHBqfVQGQCIoTMN+6/kYERASQ68nJDNYWIEhQhoRR+H57580h3zo9xuHoE9XXpDITUk4RMpjlEymUXsOvAd0A4TYtx1CZ8UJHNenunmSBvBUk8PuoqlxvvnV/m0uSQbyxGFR0X8uvjFGyHzO4eB5mKJGDKEsKRGEM436N+lQZJTHg4fhHwL2Fxbr9U/Pph1D4WbaNmoPSGXwk/2inAvnOYuLhfAA2of3lcCeuoMzhooZhLIDYKo2t2XArw7vSxqEtsLjtLW/nk+l9wxAGMVFzgyQzPvRNrHKtvmTNiezwZV96dx4JAPBcgPCR8R0Sg6bJnvq2Vqa+wOaZMHHov74+6LKiZMGSGTVEPeV4P0lkMNNgBrMJHIAIG7gRRV4c0EQS6OkG1rbIbEd1HTS+Mub6JGxkEvR/H/1GixGG+ou8QAAAABJRU5ErkJggg==";function SingleCoinImage(s){const{coinType:a,variant:et,imageUrl:nt,w:at,h:mt,p:wt,showTag:$t=!0,showTagWidth:Ct,showTagHeight:Dt,borderColor:Ft,imageStyle:jt={},imgBoxStyle:Nt={},...Lt}=s,Ut=reactExports.useMemo(()=>{const nr={default:{box:{border:"none",w:at||"32px",h:mt||"32px"}},border:{box:{bg:"checked_bg",border:"1px",borderColor:Ft||"border",borderRadius:"100%",w:at||"46px",h:at||"46px",p:wt||"5px"}}};return et?nr[et]:nr.default},[et,at,Ft,wt]),{getShowCoinTag:Vt}=useGetTokenSource(),{trustedTokenList:Yt,importTokenList:er}=useTokenSelectStore(),tr=reactExports.useMemo(()=>a&&(Yt==null?void 0:Yt.length)>0?Vt(a):!1,[a,Yt,er]);return jsxRuntimeExports.jsxs(Flex,{display:"flex",position:"relative",children:[jsxRuntimeExports.jsx(Center,{...Ut.box,...Nt,...Lt,children:jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:nt,fallbackSrc:placeholderImg,borderRadius:"100%",w:"100%",h:"100%",...jt,minW:jt.w||"unset",minH:jt.h||"unset"},nt)}),tr&&$t&&jsxRuntimeExports.jsx(Image$1,{decoding:"async",src:IconTipsTriangle,fallbackSrc:placeholderImg,w:Ct||"16px",h:Dt||"16px",right:et==="border"?"1px":"-3px",style:{position:"absolute",bottom:"0px"}})]})}function CoinPairImage(s){const{coinAIconUrl:a,coinBIconUrl:et,coinACoinType:nt,coinBCoinType:at,ml:mt,showATag:wt,showBTag:$t,...Ct}=s;return jsxRuntimeExports.jsxs(HStack,{gap:"0px",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:a,...Ct,showTag:wt,coinType:nt}),jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et,...Ct,ml:mt||"0px",showTag:$t,coinType:at})]})}const formatCurrency=s=>{try{return s.startsWith("-")?`-$${s.slice(1)}`:`$${s}`}catch(a){return console.log(" ~ formatCurrency ~ error:",a),"$--"}};function Comma({value:s,currency:a}){const et=(a?formatCurrency(s+""):s)+"",nt=(et+"").indexOf("$"),at=nt>-1?(addComma(et.slice(nt+1))+"").split(","):(addComma(et)+"").split(","),mt=at.length;return jsxRuntimeExports.jsxs(Box,{as:"span",children:[nt>-1&&et.slice(0,nt+1),at.map((wt,$t)=>jsxRuntimeExports.jsxs(Box,{as:"span",children:[wt,$t<mt-1&&jsxRuntimeExports.jsx(Box,{as:"span",className:"delimiter",children:","})]},`${wt}-${$t}`))]})}function Drawer({title:s,isOpen:a,onClose:et,children:nt,cancelText:at,okText:mt,onSubmit:wt,footer:$t=!1,placement:Ct,size:Dt}){return jsxRuntimeExports.jsxs(Drawer$1,{isOpen:a,placement:Ct||"right",onClose:et,size:Dt||"md",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(DrawerContent,{h:"100dvh !important",minH:"calc(100vh - 80px) !important",children:[jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalHeader,{children:s}),jsxRuntimeExports.jsx(ModalBody,{children:nt}),jsxRuntimeExports.jsx(ModalFooter,{children:typeof $t!="boolean"?$t:$t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"outline",mr:3,onClick:et,children:at}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:wt,children:mt})]})})]})]})}const TextWrap=({children:s,haveTooltip:a=!0,...et})=>{const nt=reactExports.useRef(null),[at,mt]=reactExports.useState(!1),wt=()=>{const Ct=nt.current;Ct&&Ct.scrollWidth>Ct.clientWidth?mt(!0):mt(!1)},{isApp:$t}=useWindowWidth();return jsxRuntimeExports.jsx(Box,{w:"100%",onClick:Ct=>cancelBubble(Ct),children:$t?jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"wrap",wordBreak:"break-all",textAlign:"right",...et,children:s}):at&&a?jsxRuntimeExports.jsx(Tooltip,{placement:"top",label:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",fontWeight:"500",children:s}),children:jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:nt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseLeave:()=>mt(!1),tabIndex:0,...et,children:s})}):jsxRuntimeExports.jsx(Text,{w:"100%",fontSize:"14px",color:"text_caption",fontWeight:"500",ref:nt,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",onMouseEnter:wt,tabIndex:0,...et,children:s})})},SingleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"130px"})]})]}),SingleTokenInfoH5=({data:s})=>{const{loading:a,imageUrl:et,symbol:nt,name:at}=s;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a?jsxRuntimeExports.jsx(SingleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:et,w:"24px",h:"24px"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:{md:"0",lg:"0.5rem"},children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",children:nt}),jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:at})]})]})})},DoubleTokenInfoSkeleton=()=>jsxRuntimeExports.jsxs(HStack,{gap:"4px",align:"center",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsx(Box,{ml:"-8px",children:jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"})}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{}),jsxRuntimeExports.jsx(Skeleton,{w:"60px"})]})]}),PairTokenInfo=({data:s,fee:a,loading:et})=>{var nt,at,mt,wt;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et?jsxRuntimeExports.jsx(DoubleTokenInfoSkeleton,{}):jsxRuntimeExports.jsxs(HStack,{gap:"0px",w:"100%",children:[jsxRuntimeExports.jsx(CoinPairImage,{w:"40px",variant:"border",coinAIconUrl:(nt=s[0])==null?void 0:nt.imageUrl,coinBIconUrl:(at=s[1])==null?void 0:at.imageUrl}),jsxRuntimeExports.jsx(VStack,{gap:"0px",ml:"8px",align:"flex-start",children:jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(mt=s[0])==null?void 0:mt.symbol}),jsxRuntimeExports.jsx(Text,{color:"text_caption",children:"-"}),jsxRuntimeExports.jsx(TextWrap,{color:"text_caption",children:(wt=s[1])==null?void 0:wt.symbol})]})})]})})};var HandleEventType=(s=>(s.Add="add",s.Edit="edit",s.Delete="delete",s))(HandleEventType||{}),H5MapTableCells=(s=>(s.Regular="regular",s.Double="double",s.Divider="divider",s.Action="action",s.Cos="cos",s))(H5MapTableCells||{}),TitleEnum=(s=>(s.SingleToken="SingleToken",s.ST="ST",s.DoubleToken="DoubleToken",s.DT="DT",s))(TitleEnum||{});const handleElement=({value:s})=>{let a,et;if(reactExports.isValidElement(s)||typeof s=="string"||typeof s=="number")a=s;else if(typeof s=="function")a=s();else if(typeof s=="object"&&s!==null){const{text:nt,render:at}=s;if("color"in s&&(et=s.color),nt)a=nt;else if(at)a=handleElement({value:at});else throw new Error("You must select one of text or render to assign a valid value.")}else throw new Error("A valid value is required here.");return[a,et]},renderNode=s=>handleElement({value:s})[0];function transColumns2H5(s,a,et){return s.map(nt=>({type:H5MapTableCells.Cos,label:nt.title,showLabel:nt==null?void 0:nt.showLabel,key:nt.key,hidden:nt.hidden?typeof nt.hidden=="function"?nt.hidden(a):nt.hidden:!1,value:typeof nt.render=="function"?nt.render(a,et):nt.render||a[nt.key]}))}const Regular=({value:s,...a})=>{let et="text_caption";"color"in a&&(et=a.color);const[nt,at]=handleElement({value:s});return et=at||et,jsxRuntimeExports.jsx(Text,{color:et,children:nt})},Action=({value:s,onChange:a,btn:et,...nt})=>{if(!s){const{text:$t,color:Ct="primary",bg_color:Dt="bg_secondary"}=et;return jsxRuntimeExports.jsx(Button,{w:"60px",h:"20px",borderRadius:"4px",color:Ct,bgColor:Dt,size:"xs",onClick:(...Ft)=>a==null?void 0:a(HandleEventType.Add,...Ft),children:$t})}let at="text_caption";"color"in nt&&(at=nt.color||at);const[mt,wt]=handleElement({value:s});return at=wt||at,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:at,children:mt}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",onClick:(...$t)=>a==null?void 0:a(HandleEventType.Edit,...$t)}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",onClick:(...$t)=>a==null?void 0:a(HandleEventType.Delete,...$t)})]})},Divider=({value:s})=>{let a="text_caption",et="text_paragraph";const[nt,at]=handleElement({value:s[0]}),[mt,wt]=handleElement({value:s[1]});return a=at||a,et=wt||et,jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{color:a,children:nt}),jsxRuntimeExports.jsxs(Text,{color:et,children:["/ ",mt]})]})},Double=({value:s,onChange:a})=>{var Ct;let et="text_caption",nt="text_paragraph";const[at,mt]=handleElement({value:s[0]}),[wt,$t]=handleElement({value:s[1]});return et=mt||et,nt=$t||nt,jsxRuntimeExports.jsxs(VStack,{gap:"0.2em",alignItems:"flex-end",children:[jsxRuntimeExports.jsxs(HStack,{h:"12px",children:[jsxRuntimeExports.jsx(Text,{color:et,children:at}),typeof s[0]=="object"&&((Ct=s[0])==null?void 0:Ct.editable)&&jsxRuntimeExports.jsx(Icon,{onClick:(...Dt)=>a==null?void 0:a(HandleEventType.Edit,...Dt),xlinkHref:"#icon-icon_edit"})]}),jsxRuntimeExports.jsx(Text,{h:"12px",color:nt,children:wt})]})},Cos=({value:s})=>typeof s=="function"?s():jsxRuntimeExports.jsx(Box,{fontFamily:"Inter",fontSize:"14px",color:"text_caption",children:s});function useTextColor({isLong:s}){const a=reactExports.useMemo(()=>s?"primary":"primary_red",[s]),et=reactExports.useMemo(()=>s?"primary_opacity.10":"primary_red_opacity.10",[s]);return{color:a,bg:et}}const ItemsMap={[H5MapTableCells.Regular]:Regular,[H5MapTableCells.Action]:Action,[H5MapTableCells.Divider]:Divider,[H5MapTableCells.Double]:Double,[H5MapTableCells.Cos]:Cos},TitleMap={[TitleEnum.SingleToken]:SingleTokenInfoH5,[TitleEnum.ST]:SingleTokenInfoH5,[TitleEnum.DoubleToken]:PairTokenInfo,[TitleEnum.DT]:PairTokenInfo},Title=({data:s})=>{if(!s)return null;const{type:a,...et}=s,nt=TitleMap[a];return jsxRuntimeExports.jsx(nt,{...et})},Bottom=({data:s})=>{if(typeof s=="function")return s();if(reactExports.isValidElement(s))return s;if(typeof s=="object"&&(s!=null&&s.data)&&Array.isArray(s==null?void 0:s.data)){const{style:a,data:et}=s;return jsxRuntimeExports.jsx(HStack,{w:"100%",justifyContent:"space-between",...a,children:et.map(nt=>{const{text:at,render:mt,...wt}=nt;return jsxRuntimeExports.jsx(Button,{...wt,children:renderNode({text:at,render:mt})},nt.key||nt.text)})})}if(typeof s=="object"){const{text:a,render:et,...nt}=s;return jsxRuntimeExports.jsx(Button,{...nt,children:renderNode({text:a,render:et})})}return null};function H5MapTableItem({data:s,children:a,loading:et,skeletonLength:nt=5,itemHeight:at="40px",style:mt,title:wt,bottom:$t,onClick:Ct}){const Dt=new Array(nt).fill(0);return jsxRuntimeExports.jsxs(VStack,{gap:"0.5em",...mt,onClick:Ct,children:[a,jsxRuntimeExports.jsx(Title,{data:wt}),et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Dt==null?void 0:Dt.map((Ft,jt)=>jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",flexBasis:at,children:[jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"}),jsxRuntimeExports.jsx(Skeleton,{h:"16px",flex:"1"})]},jt))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:s==null?void 0:s.map(Ft=>{const{label:jt,type:Nt,key:Lt,showLabel:Ut=!0,hidden:Vt=!1,...Yt}=Ft,er=ItemsMap[Nt];return jsxRuntimeExports.jsx(React$2.Fragment,{children:!Vt&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",alignItems:"center",mt:Vt?"-8px":"0",flexBasis:at,children:[Ut&&jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Box,{children:renderNode(jt)}),typeof jt=="object"&&(jt==null?void 0:jt.tooltip)&&jsxRuntimeExports.jsx(Tooltip,{label:renderNode(jt==null?void 0:jt.tooltip),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_tips",cursor:"help"})})]}),jsxRuntimeExports.jsx(er,{...Yt})]},Lt||(jt==null?void 0:jt.toString()))},Lt||(jt==null?void 0:jt.toString()))})}),jsxRuntimeExports.jsx(Bottom,{data:$t})]})}const Logo=({name:s,logo:a,multiple:et,isLong:nt})=>{const{color:at,bg:mt}=useTextColor({isLong:nt});return jsxRuntimeExports.jsxs(HStack,{flexBasis:"32px",gap:"8px",children:[jsxRuntimeExports.jsx(Box,{flexBasis:"32px",children:jsxRuntimeExports.jsx(Image$1,{borderRadius:"50%",src:a})}),jsxRuntimeExports.jsxs(VStack,{gap:"2px",alignItems:"flex-start",children:[jsxRuntimeExports.jsx(Text,{flexBasis:"14px",color:"text_caption",children:s}),jsxRuntimeExports.jsx(Tag,{flexBasis:"16px",color:at,bgColor:mt,children:`${et}x ${nt?"Long":"Short"}`})]})]})};H5MapTableItem.Logo=Logo;function Modal({title:s="",isOpen:a,showOverlay:et=!0,closeable:nt=!0,isCentered:at=!0,onClose:mt,children:wt,footer:$t,okText:Ct="OK",cancelText:Dt="Cancel",onOk:Ft,onCancel:jt}){return jsxRuntimeExports.jsxs(Modal$1,{isOpen:a,onClose:mt,isCentered:at,children:[et&&jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:s}),nt&&jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{children:wt}),$t||($t===null?null:jsxRuntimeExports.jsxs(ModalFooter,{children:[jsxRuntimeExports.jsx(Button,{mr:3,onClick:jt,variant:"outline",children:Dt}),jsxRuntimeExports.jsx(Button,{colorScheme:"blue",onClick:Ft,children:Ct})]}))]})]})}function __rest(s,a){var et={};for(var nt in s)Object.prototype.hasOwnProperty.call(s,nt)&&a.indexOf(nt)<0&&(et[nt]=s[nt]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,nt=Object.getOwnPropertySymbols(s);at<nt.length;at++)a.indexOf(nt[at])<0&&Object.prototype.propertyIsEnumerable.call(s,nt[at])&&(et[nt[at]]=s[nt[at]]);return et}var SourceType;(function(s){s.event="event",s.props="prop"})(SourceType||(SourceType={}));function noop(){}function memoizeOnce(s){var a,et=void 0;return function(){for(var nt=[],at=arguments.length;at--;)nt[at]=arguments[at];return a&&nt.length===a.length&&nt.every(function(mt,wt){return mt===a[wt]})||(a=nt,et=s.apply(void 0,nt)),et}}function charIsNumber(s){return!!(s||"").match(/\d/)}function isNil(s){return s==null}function isNanValue(s){return typeof s=="number"&&isNaN(s)}function isNotValidValue(s){return isNil(s)||isNanValue(s)||typeof s=="number"&&!isFinite(s)}function escapeRegExp(s){return s.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(s){switch(s){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(s,a,et){var nt=getThousandsGroupRegex(et),at=s.search(/[1-9]/);return at=at===-1?s.length:at,s.substring(0,at)+s.substring(at,s.length).replace(nt,"$1"+a)}function usePersistentCallback(s){var a=reactExports.useRef(s);a.current=s;var et=reactExports.useRef(function(){for(var nt=[],at=arguments.length;at--;)nt[at]=arguments[at];return a.current.apply(a,nt)});return et.current}function splitDecimal(s,a){a===void 0&&(a=!0);var et=s[0]==="-",nt=et&&a;s=s.replace("-","");var at=s.split("."),mt=at[0],wt=at[1]||"";return{beforeDecimal:mt,afterDecimal:wt,hasNegation:et,addNegation:nt}}function fixLeadingZero(s){if(!s)return s;var a=s[0]==="-";a&&(s=s.substring(1,s.length));var et=s.split("."),nt=et[0].replace(/^0+/,"")||"0",at=et[1]||"";return(a?"-":"")+nt+(at?"."+at:"")}function limitToScale(s,a,et){for(var nt="",at=et?"0":"",mt=0;mt<=a-1;mt++)nt+=s[mt]||at;return nt}function repeat(s,a){return Array(a+1).join(s)}function toNumericString(s){var a=s+"",et=a[0]==="-"?"-":"";et&&(a=a.substring(1));var nt=a.split(/[eE]/g),at=nt[0],mt=nt[1];if(mt=Number(mt),!mt)return et+at;at=at.replace(".","");var wt=1+mt,$t=at.length;return wt<0?at="0."+repeat("0",Math.abs(wt))+at:wt>=$t?at=at+repeat("0",wt-$t):at=(at.substring(0,wt)||"0")+"."+at.substring(wt),et+at}function roundToPrecision(s,a,et){if(["","-"].indexOf(s)!==-1)return s;var nt=(s.indexOf(".")!==-1||et)&&a,at=splitDecimal(s),mt=at.beforeDecimal,wt=at.afterDecimal,$t=at.hasNegation,Ct=parseFloat("0."+(wt||"0")),Dt=wt.length<=a?"0."+wt:Ct.toFixed(a),Ft=Dt.split("."),jt=mt;mt&&Number(Ft[0])&&(jt=mt.split("").reverse().reduce(function(Vt,Yt,er){return Vt.length>er?(Number(Vt[0])+Number(Yt)).toString()+Vt.substring(1,Vt.length):Yt+Vt},Ft[0]));var Nt=limitToScale(Ft[1]||"",a,et),Lt=$t?"-":"",Ut=nt?".":"";return""+Lt+jt+Ut+Nt}function setCaretPosition(s,a){if(s.value=s.value,s!==null){if(s.createTextRange){var et=s.createTextRange();return et.move("character",a),et.select(),!0}return s.selectionStart||s.selectionStart===0?(s.focus(),s.setSelectionRange(a,a),!0):(s.focus(),!1)}}var findChangeRange=memoizeOnce(function(s,a){for(var et=0,nt=0,at=s.length,mt=a.length;s[et]===a[et]&&et<at;)et++;for(;s[at-1-nt]===a[mt-1-nt]&&mt-nt>et&&at-nt>et;)nt++;return{from:{start:et,end:at-nt},to:{start:et,end:mt-nt}}}),findChangedRangeFromCaretPositions=function(s,a){var et=Math.min(s.selectionStart,a);return{from:{start:et,end:s.selectionEnd},to:{start:et,end:a}}};function clamp$1(s,a,et){return Math.min(Math.max(s,a),et)}function geInputCaretPosition(s){return Math.max(s.selectionStart,s.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(s){return{from:{start:0,end:0},to:{start:0,end:s.length},lastValue:""}}function defaultIsCharacterSame(s){var a=s.currentValue,et=s.formattedValue,nt=s.currentValueIndex,at=s.formattedValueIndex;return a[nt]===et[at]}function getCaretPosition(s,a,et,nt,at,mt,wt){wt===void 0&&(wt=defaultIsCharacterSame);var $t=at.findIndex(function(sr){return sr}),Ct=s.slice(0,$t);!a&&!et.startsWith(Ct)&&(a=Ct,et=Ct+et,nt=nt+Ct.length);for(var Dt=et.length,Ft=s.length,jt={},Nt=new Array(Dt),Lt=0;Lt<Dt;Lt++){Nt[Lt]=-1;for(var Ut=0,Vt=Ft;Ut<Vt;Ut++){var Yt=wt({currentValue:et,lastValue:a,formattedValue:s,currentValueIndex:Lt,formattedValueIndex:Ut});if(Yt&&jt[Ut]!==!0){Nt[Lt]=Ut,jt[Ut]=!0;break}}}for(var er=nt;er<Dt&&(Nt[er]===-1||!mt(et[er]));)er++;var tr=er===Dt||Nt[er]===-1?Ft:Nt[er];for(er=nt-1;er>0&&Nt[er]===-1;)er--;var nr=er===-1||Nt[er]===-1?0:Nt[er]+1;return nr>tr?tr:nt-nr<tr-nt?nr:tr}function getCaretPosInBoundary(s,a,et,nt){var at=s.length;if(a=clamp$1(a,0,at),nt==="left"){for(;a>=0&&!et[a];)a--;a===-1&&(a=et.indexOf(!0))}else{for(;a<=at&&!et[a];)a++;a>at&&(a=et.lastIndexOf(!0))}return a===-1&&(a=at),a}function caretUnknownFormatBoundary(s){for(var a=Array.from({length:s.length+1}).map(function(){return!0}),et=0,nt=a.length;et<nt;et++)a[et]=!!(charIsNumber(s[et])||charIsNumber(s[et-1]));return a}function useInternalValues(s,a,et,nt,at,mt){mt===void 0&&(mt=noop);var wt=usePersistentCallback(function(Ut,Vt){var Yt,er;return isNotValidValue(Ut)?(er="",Yt=""):typeof Ut=="number"||Vt?(er=typeof Ut=="number"?toNumericString(Ut):Ut,Yt=nt(er)):(er=at(Ut,void 0),Yt=nt(er)),{formattedValue:Yt,numAsString:er}}),$t=reactExports.useState(function(){return wt(isNil(s)?a:s,et)}),Ct=$t[0],Dt=$t[1],Ft=function(Ut,Vt){Ut.formattedValue!==Ct.formattedValue&&Dt({formattedValue:Ut.formattedValue,numAsString:Ut.value}),mt(Ut,Vt)},jt=s,Nt=et;isNil(s)&&(jt=Ct.numAsString,Nt=!0);var Lt=wt(jt,Nt);return reactExports.useMemo(function(){Dt(Lt)},[Lt.formattedValue]),[Ct,Ft]}function defaultRemoveFormatting(s){return s.replace(/[^0-9]/g,"")}function defaultFormat(s){return s}function NumberFormatBase(s){var a=s.type;a===void 0&&(a="text");var et=s.displayType;et===void 0&&(et="input");var nt=s.customInput,at=s.renderText,mt=s.getInputRef,wt=s.format;wt===void 0&&(wt=defaultFormat);var $t=s.removeFormatting;$t===void 0&&($t=defaultRemoveFormatting);var Ct=s.defaultValue,Dt=s.valueIsNumericString,Ft=s.onValueChange,jt=s.isAllowed,Nt=s.onChange;Nt===void 0&&(Nt=noop);var Lt=s.onKeyDown;Lt===void 0&&(Lt=noop);var Ut=s.onMouseUp;Ut===void 0&&(Ut=noop);var Vt=s.onFocus;Vt===void 0&&(Vt=noop);var Yt=s.onBlur;Yt===void 0&&(Yt=noop);var er=s.value,tr=s.getCaretBoundary;tr===void 0&&(tr=caretUnknownFormatBoundary);var nr=s.isValidInputCharacter;nr===void 0&&(nr=charIsNumber);var sr=s.isCharacterSame,dr=__rest(s,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),br=useInternalValues(er,Ct,!!Dt,wt,$t,Ft),vr=br[0],yr=vr.formattedValue,$r=vr.numAsString,Sr=br[1],wr=reactExports.useRef(),fr=reactExports.useRef({formattedValue:yr,numAsString:$r}),_r=function(jr,Ur){fr.current={formattedValue:jr.formattedValue,numAsString:jr.value},Sr(jr,Ur)},ir=reactExports.useState(!1),rr=ir[0],or=ir[1],ar=reactExports.useRef(null),ur=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return or(!0),function(){clearTimeout(ur.current.setCaretTimeout),clearTimeout(ur.current.focusTimeout)}},[]);var pr=wt,cr=function(jr,Ur){var Fr=parseFloat(Ur);return{formattedValue:jr,value:Ur,floatValue:isNaN(Fr)?void 0:Fr}},gr=function(jr,Ur,Fr){jr.selectionStart===0&&jr.selectionEnd===jr.value.length||(setCaretPosition(jr,Ur),ur.current.setCaretTimeout=setTimeout(function(){jr.value===Fr&&jr.selectionStart!==Ur&&setCaretPosition(jr,Ur)},0))},hr=function(jr,Ur,Fr){return getCaretPosInBoundary(jr,Ur,tr(jr),Fr)},lr=function(jr,Ur,Fr){var Gr=tr(Ur),Wr=getCaretPosition(Ur,yr,jr,Fr,Gr,nr,sr);return Wr=getCaretPosInBoundary(Ur,Wr,Gr),Wr},xr=function(jr){var Ur=jr.formattedValue;Ur===void 0&&(Ur="");var Fr=jr.input,Gr=jr.source,Wr=jr.event,nn=jr.numAsString,Ln;if(Fr){var Un=jr.inputValue||Fr.value,Wn=geInputCaretPosition(Fr);Fr.value=Ur,Ln=lr(Un,Ur,Wn),Ln!==void 0&&gr(Fr,Ln,Ur)}Ur!==yr&&_r(cr(Ur,nn),{event:Wr,source:Gr})};reactExports.useEffect(function(){var jr=fr.current,Ur=jr.formattedValue,Fr=jr.numAsString;(yr!==Ur||$r!==Fr)&&_r(cr(yr,$r),{event:void 0,source:SourceType.props})},[yr,$r]);var Mr=ar.current?geInputCaretPosition(ar.current):void 0,Pr=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;Pr(function(){var jr=ar.current;if(yr!==fr.current.formattedValue&&jr){var Ur=lr(fr.current.formattedValue,yr,Mr);jr.value=yr,gr(jr,Ur,yr)}},[yr]);var Ar=function(jr,Ur,Fr){var Gr=Ur.target,Wr=wr.current?findChangedRangeFromCaretPositions(wr.current,Gr.selectionEnd):findChangeRange(yr,jr),nn=Object.assign(Object.assign({},Wr),{lastValue:yr}),Ln=$t(jr,nn),Un=pr(Ln);if(Ln=$t(Un,void 0),jt&&!jt(cr(Un,Ln))){var Wn=Ur.target,io=geInputCaretPosition(Wn),zn=lr(jr,yr,io);return Wn.value=yr,gr(Wn,zn,yr),!1}return xr({formattedValue:Un,numAsString:Ln,inputValue:jr,event:Ur,source:Fr,input:Ur.target}),!0},Ir=function(jr,Ur){Ur===void 0&&(Ur=0);var Fr=jr.selectionStart,Gr=jr.selectionEnd;wr.current={selectionStart:Fr,selectionEnd:Gr+Ur}},qr=function(jr){var Ur=jr.target,Fr=Ur.value,Gr=Ar(Fr,jr,SourceType.event);Gr&&Nt(jr),wr.current=void 0},Rr=function(jr){var Ur=jr.target,Fr=jr.key,Gr=Ur.selectionStart,Wr=Ur.selectionEnd,nn=Ur.value;nn===void 0&&(nn="");var Ln;Fr==="ArrowLeft"||Fr==="Backspace"?Ln=Math.max(Gr-1,0):Fr==="ArrowRight"?Ln=Math.min(Gr+1,nn.length):Fr==="Delete"&&(Ln=Gr);var Un=0;Fr==="Delete"&&Gr===Wr&&(Un=1);var Wn=Fr==="ArrowLeft"||Fr==="ArrowRight";if(Ln===void 0||Gr!==Wr&&!Wn){Lt(jr),Ir(Ur,Un);return}var io=Ln;if(Wn){var zn=Fr==="ArrowLeft"?"left":"right";io=hr(nn,Ln,zn),io!==Ln&&jr.preventDefault()}else Fr==="Delete"&&!nr(nn[Ln])?io=hr(nn,Ln,"right"):Fr==="Backspace"&&!nr(nn[Ln])&&(io=hr(nn,Ln,"left"));io!==Ln&&gr(Ur,io,nn),Lt(jr),Ir(Ur,Un)},Tr=function(jr){var Ur=jr.target,Fr=function(){var Gr=Ur.selectionStart,Wr=Ur.selectionEnd,nn=Ur.value;if(nn===void 0&&(nn=""),Gr===Wr){var Ln=hr(nn,Gr);Ln!==Gr&&gr(Ur,Ln,nn)}};Fr(),requestAnimationFrame(function(){Fr()}),Ut(jr),Ir(Ur)},Er=function(jr){jr.persist&&jr.persist();var Ur=jr.target,Fr=jr.currentTarget;ar.current=Ur,ur.current.focusTimeout=setTimeout(function(){var Gr=Ur.selectionStart,Wr=Ur.selectionEnd,nn=Ur.value;nn===void 0&&(nn="");var Ln=hr(nn,Gr);Ln!==Gr&&!(Gr===0&&Wr===nn.length)&&gr(Ur,Ln,nn),Vt(Object.assign(Object.assign({},jr),{currentTarget:Fr}))},0)},Br=function(jr){ar.current=null,clearTimeout(ur.current.focusTimeout),clearTimeout(ur.current.setCaretTimeout),Yt(jr)},Nr=rr&&addInputMode()?"numeric":void 0,zr=Object.assign({inputMode:Nr},dr,{type:a,value:yr,onChange:qr,onKeyDown:Rr,onMouseUp:Tr,onFocus:Er,onBlur:Br});if(et==="text")return at?React$2.createElement(React$2.Fragment,null,at(yr,dr)||null):React$2.createElement("span",Object.assign({},dr,{ref:mt}),yr);if(nt){var Hr=nt;return React$2.createElement(Hr,Object.assign({},zr,{ref:mt}))}return React$2.createElement("input",Object.assign({},zr,{ref:mt}))}function format(s,a){var et=a.decimalScale,nt=a.fixedDecimalScale,at=a.prefix;at===void 0&&(at="");var mt=a.suffix;mt===void 0&&(mt="");var wt=a.allowNegative,$t=a.thousandsGroupStyle;if($t===void 0&&($t="thousand"),s===""||s==="-")return s;var Ct=getSeparators(a),Dt=Ct.thousandSeparator,Ft=Ct.decimalSeparator,jt=et!==0&&s.indexOf(".")!==-1||et&&nt,Nt=splitDecimal(s,wt),Lt=Nt.beforeDecimal,Ut=Nt.afterDecimal,Vt=Nt.addNegation;return et!==void 0&&(Ut=limitToScale(Ut,et,!!nt)),Dt&&(Lt=applyThousandSeparator(Lt,Dt,$t)),at&&(Lt=at+Lt),mt&&(Ut=Ut+mt),Vt&&(Lt="-"+Lt),s=Lt+(jt&&Ft||"")+Ut,s}function getSeparators(s){var a=s.decimalSeparator;a===void 0&&(a=".");var et=s.thousandSeparator,nt=s.allowedDecimalSeparators;return et===!0&&(et=","),nt||(nt=[a,"."]),{decimalSeparator:a,thousandSeparator:et,allowedDecimalSeparators:nt}}function handleNegation(s,a){s===void 0&&(s="");var et=new RegExp("(-)"),nt=new RegExp("(-)(.)*(-)"),at=et.test(s),mt=nt.test(s);return s=s.replace(/-/g,""),at&&!mt&&a&&(s="-"+s),s}function getNumberRegex(s,a){return new RegExp("(^-)|[0-9]|"+escapeRegExp(s),"g")}function isNumericString(s,a,et){return s===""?!0:!(a!=null&&a.match(/\d/))&&!(et!=null&&et.match(/\d/))&&typeof s=="string"&&!isNaN(Number(s))}function removeFormatting(s,a,et){var nt;a===void 0&&(a=getDefaultChangeMeta(s));var at=et.allowNegative,mt=et.prefix;mt===void 0&&(mt="");var wt=et.suffix;wt===void 0&&(wt="");var $t=et.decimalScale,Ct=a.from,Dt=a.to,Ft=Dt.start,jt=Dt.end,Nt=getSeparators(et),Lt=Nt.allowedDecimalSeparators,Ut=Nt.decimalSeparator,Vt=s[jt]===Ut;if(charIsNumber(s)&&(s===mt||s===wt)&&a.lastValue==="")return s;if(jt-Ft===1&&Lt.indexOf(s[Ft])!==-1){var Yt=$t===0?"":Ut;s=s.substring(0,Ft)+Yt+s.substring(Ft+1,s.length)}var er=function(ar,ur,pr){var cr=!1,gr=!1;mt.startsWith("-")?cr=!1:ar.startsWith("--")?(cr=!1,gr=!0):wt.startsWith("-")&&ar.length===wt.length?cr=!1:ar[0]==="-"&&(cr=!0);var hr=cr?1:0;return gr&&(hr=2),hr&&(ar=ar.substring(hr),ur-=hr,pr-=hr),{value:ar,start:ur,end:pr,hasNegation:cr}},tr=er(s,Ft,jt),nr=tr.hasNegation;nt=tr,s=nt.value,Ft=nt.start,jt=nt.end;var sr=er(a.lastValue,Ct.start,Ct.end),dr=sr.start,br=sr.end,vr=sr.value,yr=s.substring(Ft,jt);s.length&&vr.length&&(dr>vr.length-wt.length||br<mt.length)&&!(yr&&wt.startsWith(yr))&&(s=vr);var $r=0;s.startsWith(mt)?$r+=mt.length:Ft<mt.length&&($r=Ft),s=s.substring($r),jt-=$r;var Sr=s.length,wr=s.length-wt.length;s.endsWith(wt)?Sr=wr:(jt>wr||jt>s.length-wt.length)&&(Sr=jt),s=s.substring(0,Sr),s=handleNegation(nr?"-"+s:s,at),s=(s.match(getNumberRegex(Ut))||[]).join("");var fr=s.indexOf(Ut);s=s.replace(new RegExp(escapeRegExp(Ut),"g"),function(ar,ur){return ur===fr?".":""});var _r=splitDecimal(s,at),ir=_r.beforeDecimal,rr=_r.afterDecimal,or=_r.addNegation;return Dt.end-Dt.start<Ct.end-Ct.start&&ir===""&&Vt&&!parseFloat(rr)&&(s=or?"-":""),s}function getCaretBoundary(s,a){var et=a.prefix;et===void 0&&(et="");var nt=a.suffix;nt===void 0&&(nt="");var at=Array.from({length:s.length+1}).map(function(){return!0}),mt=s[0]==="-";at.fill(!1,0,et.length+(mt?1:0));var wt=s.length;return at.fill(!1,wt-nt.length+1,wt+1),at}function validateAndUpdateProps(s){var a=getSeparators(s),et=a.thousandSeparator,nt=a.decimalSeparator,at=s.prefix;at===void 0&&(at="");var mt=s.allowNegative;if(mt===void 0&&(mt=!0),et===nt)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+et+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+nt+` (default value for decimalSeparator is .)
     `);return at.startsWith("-")&&mt&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+at+`
      allowNegative: `+mt+`
    `),mt=!1),Object.assign(Object.assign({},s),{allowNegative:mt})}function useNumericFormat(s){s=validateAndUpdateProps(s),s.decimalSeparator,s.allowedDecimalSeparators,s.thousandsGroupStyle;var a=s.suffix,et=s.allowNegative,nt=s.allowLeadingZeros,at=s.onKeyDown;at===void 0&&(at=noop);var mt=s.onBlur;mt===void 0&&(mt=noop);var wt=s.thousandSeparator,$t=s.decimalScale,Ct=s.fixedDecimalScale,Dt=s.prefix;Dt===void 0&&(Dt="");var Ft=s.defaultValue,jt=s.value,Nt=s.valueIsNumericString,Lt=s.onValueChange,Ut=__rest(s,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),Vt=getSeparators(s),Yt=Vt.decimalSeparator,er=Vt.allowedDecimalSeparators,tr=function(or){return format(or,s)},nr=function(or,ar){return removeFormatting(or,ar,s)},sr=isNil(jt)?Ft:jt,dr=Nt??isNumericString(sr,Dt,a);isNil(jt)?isNil(Ft)||(dr=dr||typeof Ft=="number"):dr=dr||typeof jt=="number";var br=function(or){return isNotValidValue(or)?or:(typeof or=="number"&&(or=toNumericString(or)),dr&&typeof $t=="number"?roundToPrecision(or,$t,!!Ct):or)},vr=useInternalValues(br(jt),br(Ft),!!dr,tr,nr,Lt),yr=vr[0],$r=yr.numAsString,Sr=yr.formattedValue,wr=vr[1],fr=function(or){var ar=or.target,ur=or.key,pr=ar.selectionStart,cr=ar.selectionEnd,gr=ar.value;if(gr===void 0&&(gr=""),(ur==="Backspace"||ur==="Delete")&&cr<Dt.length){or.preventDefault();return}if(pr!==cr){at(or);return}ur==="Backspace"&&gr[0]==="-"&&pr===Dt.length+1&&et&&setCaretPosition(ar,1),$t&&Ct&&(ur==="Backspace"&&gr[pr-1]===Yt?(setCaretPosition(ar,pr-1),or.preventDefault()):ur==="Delete"&&gr[pr]===Yt&&or.preventDefault()),er!=null&&er.includes(ur)&&gr[pr]===Yt&&setCaretPosition(ar,pr+1);var hr=wt===!0?",":wt;ur==="Backspace"&&gr[pr-1]===hr&&setCaretPosition(ar,pr-1),ur==="Delete"&&gr[pr]===hr&&setCaretPosition(ar,pr+1),at(or)},_r=function(or){var ar=$r;if(ar.match(/\d/g)||(ar=""),nt||(ar=fixLeadingZero(ar)),Ct&&$t&&(ar=roundToPrecision(ar,$t,Ct)),ar!==$r){var ur=format(ar,s);wr({formattedValue:ur,value:ar,floatValue:parseFloat(ar)},{event:or,source:SourceType.event})}mt(or)},ir=function(or){return or===Yt?!0:charIsNumber(or)},rr=function(or){var ar=or.currentValue,ur=or.lastValue,pr=or.formattedValue,cr=or.currentValueIndex,gr=or.formattedValueIndex,hr=ar[cr],lr=pr[gr],xr=findChangeRange(ur,ar),Mr=xr.to,Pr=function(Ar){return nr(Ar).indexOf(".")+Dt.length};return jt===0&&Ct&&$t&&ar[Mr.start]===Yt&&Pr(ar)<cr&&Pr(pr)>gr?!1:cr>=Mr.start&&cr<Mr.end&&er&&er.includes(hr)&&lr===Yt?!0:hr===lr};return Object.assign(Object.assign({},Ut),{value:Sr,valueIsNumericString:!1,isValidInputCharacter:ir,isCharacterSame:rr,onValueChange:wr,format:tr,removeFormatting:nr,getCaretBoundary:function(or){return getCaretBoundary(or,s)},onKeyDown:fr,onBlur:_r})}function NumericFormat(s){var a=useNumericFormat(s);return React$2.createElement(NumberFormatBase,Object.assign({},a))}function NumericFormatInput(s){const{value:a,decimals:et,placeholder:nt,style:at,onChange:mt,maxValue:wt,minValue:$t=0,inputAllowed:Ct=!0,prefix:Dt,...Ft}=s,jt=Nt=>{var Ut;const Lt=(Ut=Nt==null?void 0:Nt.target)==null?void 0:Ut.value;if(Lt){if(Lt.startsWith(".")){mt(Lt.slice(1,Lt.length));return}try{if(d$2(Lt).eq(0)){mt("0");return}}catch(Yt){console.log(" ~ handleChange ~ error:",Yt)}let Vt=Lt.replace(/^0+$/,"0").replace(/^0+(?!\.\d+$)/g,"").replace(/,/g,"")||"";if(Vt.startsWith("-")){mt("");return}Dt&&(Vt=Vt.replace(Dt,"")),wt!==void 0&&d$2(Vt).gt(wt)?Vt=wt.toString():$t!==void 0&&d$2(Vt).lt($t)&&(Vt=$t.toString()),mt(String(Vt))}else mt("")};return jsxRuntimeExports.jsx(NumericFormat,{value:a,disabled:!Ct,placeholder:nt,decimalScale:et,prefix:Dt,allowLeadingZeros:!0,thousandSeparator:",",onMouseDown:Nt=>{cancelBubble(Nt)},isAllowed:Nt=>!Nt.value.startsWith("-"),onChange:jt,...Ft,style:{...at,cursor:Ct?"text":"not-allowed",fontFamily:"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji",fontFeatureSettings:"tnum",fontVariant:"tabular-nums"}})}const GhostLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA6RJREFUWEfNl2von2MYxz/fbdnCvBA1ipKMcopFEXOYGCWxYmi1N8KmyCEph/bCqRSWkawZy8ihkY1lSu3NbHthYjO1lReIlpkmYw5fz7Wu5+/e7//8fr9nz2juV7/fdd/X9/re132dHtFx2Z4AzEn1ZyX92gVKw5Rsj5H0V+8526cAs1O+WNLnw7Ca9gcSsH0yMBdYK+mlEsD26cCslC2R9GnP/pXAScAySVv6kRtGYCZwUSovlLS+BhpEwPapwIw8u07Se10JTAbuSuUfgQcl7Y7//QjYPgi4DTiseJ6vOhFIQzcDZybAcknvpvx44NaUPydpa8rDYxekfJOk1wfFRpsgPAKYB4wDdki6Nw2NKZ7nozpQbYfHJgJ/AM9I2tGKQLr0DCDebFNPQE0DrgXWSFo8CND29cCJwEpJH/fgHFMFZQTvF7XH9nggUg2IKB+bCmuBpZK2FUE3oU2uJ9b4ylO7Ct2IhwuBE1IWaf10eG3kCWzHW9dvF+d+rxRekfRBl/wujEf8TC0uF1sbJa2MH3vFgO1zgRuAwxMg3nF2UyFqQ8p23Pym4uxOYLWkzbVsVBDaHg9EEbkM2CBpQRtjTWfyOa4GJgGfAOslhWdH1tAs6Gq8rd6BJ2D7YOC0zPOa+E8ZKKOaUNub9aRfXPQoIDpovQL7W9meX6XgcQ3AL0t6o4vBXh3bUV/OasD64X9B4MA+wb/h4v3B6JsFtsdK+nN/wNvoNhWiiNQYRK6rhorPgPu6ErEd+K8CEYTRa56S9EvfQmT7YuAW4Mji0ExJ37e5TUP0H1KV4m+AaHax4vcDkt4cVYptR5+fXoBEyYxBY1kX47WO7egFjwBR4uv1oqTb40/djqMNR3eKoSPW6jT+XQE0TlI0p4HLdmBMkvR1oXss8HDVD65K2TZJMVH90w1tnwOcB6yStKG0YjsGzHuAtyU9NoiB7aXZ+++XtKgHJ/AjvmJYWb4XgX6gtqOEvlW5MYbN7ZIujbPZ6epW+0K07Mgc4EsgastvwPmlJ5psDG1Gth8HYiSL9ZqkJ5LA2cCSlM+StC7ldwN3pnyFpHIeGMVh2HfBlKqJPJ9a24FrJP2chi6PtMq9OyS9n/K4fcTQ0bk3Q9Kafh4eRiDePepBrIckrSgCq5FAkoghpB5k3qnSuB7f99kDEZiPVrNijN0xmo8s230JJIknqwn7ivhIkbSqkwf6KaWBS4pbzpX04aDz/wWBQ2NqTuAb69jYVxJ/A8eXcdbPzepuAAAAAElFTkSuQmCC",PrimaryLoading="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAbKADAAQAAAABAAAAbAAAAAD529oeAAAJzUlEQVR4Ae1dz4sURxj9undNVkLMikSIoJ5zCYSQy6oQFQNBE5ND9p6jxvwAYf+IgBCj0WPu5pCYuJeMPwLqXiQEctmzK6wgSH4RNHHdzns1U2PP7MzO7E5V12uYRu2enpn6Xr3X1V399fuczGq+XPit2P70sR0tMjuCruyxwnZZhr9cClvG9jK2lrLCGhNTNn/ytex3915N/8lqitvO/1J8sLpqnxSFHUAfJofsx0qW2c08t3On3si+G/I7Uh+rnWDn7hT7CrMvINTMKExCuAV0fu6TN7Pbo7RT9XdrI9ilopi4/4udsVX7LChJuZ195Q07PZtlT4O2G6mxWgj2za/F9F8rdgnXJF6nwi+ZNbZN2uxHr2d/hG88bIvygrXEWoBYr4bteldrmS1CtBl10fIu2FIveRpsjay4YrHXOCAYizGlSOgCIy2Yu2bFOg12EeFeIpaL2es9kX2yp0TOBlcLu5WCpzyz/aqzR9kRxql7CrEYM2XsQX2WFIw3xaPeZw3q+HrvMzYxrPeZVO9JCsYMRipCfFwFDB5LeS13DWNu8MljewCQw6abyv0Jub2yZcp2quUe5UbYk3/tmIBYFH6yhSXkQTByW3KCYcjHyWZsgiolLB6+nGAAttuDE1grYXF06AnG51kqixKWFid6gvmHjwqiKWFRFQz3QLhv1ViUsHhG5EYYLvT3PbjUayUsngs5wVoeDI8v7brpB0mLoSu6nmAwzHRhTPlSCYvjQU4wXMCuplSoHJtOq/JrhW05wbY8b1dAzIoAOSu0xQng6IAgJxhzd7SidaBM8IIY1PKIpEFOMAcKvsEEGnWEpHexY4fIC8xcNZev7hS3Uz0To2fx0zezfYrMSI4wEoUjaS4VYSljD+qzrGDOUwGT56AOBH8fMVX9HOyrrGAER0cuhlp1U2vEcjEZXHSRFoz2aTpyIdpidP6aRtJZdcu2tGAUiU5cOnKjjrSmVVve9Us+ZGeJBFdexsUQTTZqI5gXb1xu5Jmo2Xpc0FczwTxcZ4uD0wqnCpp3duPxZ6+S2XtIKjeYp1RMN/m+DLPe8CnxxJViuz21oyQIdcV7kNGmB8P7MJaxbxn7lkiQTdj8xWP1rikehsTyZ27eLbb/a6i55gFUoOaa3HirAWuuzdVdL4G/xvNm8wf2boyfoQX7+EfYp+nIzewAUkZDmTyR4lkB6JsZ8nJfv1vPmuKyGOttX7uHmuunm+Mnn7Bzh3cPx89AwU5dRhUJa4ptxJpiswXcQ8ydP16vmuL1ROJ71+8W+/As6AscmCPVXGMgLGAUzB3auz4/fQXjNPrnH+wMhApaU4yAZ996rz41xf0EK8DPtSU7g5KooPyg1Ons4T12OutTc91TsM9vFNP//W3QLI4LF6fKxnMv2uyXB/VrinsJduP3YvrJX3Frrrdss9mD29fys0awllgLECtqmSpEW4RoM3UTjWKt/GkLOPPE5cdscfIlm+kWrSM1xdNga2RFBcOjlgcEYzFmr6NYcR9PgxxZscVy/OCAcLG6+OkQzF2zIp0GewnAUy5j9npPcR+vWZhcVFesgVguZomM9imRs0H8zyJJaooxxParzx7dbDBRzfUkaq797LE9wjh1LwlZ6WbK2MN21E3dh/1w4M+VYzvB3E3xiPdZo2DkPR4xjNJGzO/ypnjk+6xRAOIez2FAG04wl8EYpcEA31XA0K8bLoPR782K9nsMGXOD2ao9wARgqHRTLHxMYxW57VTLPTI3+Ng0+Jky25nnq3YstVg8CIiBWGIdEJtt95Hp8EMs4KjCaeoA1pSweKiYRlc3jfdB+6yJhdcwpTpeJSxN2gohfoAlbz3P6qNptbuVsJR67p/1lXYl29zFESYFKBkV/QL7h4/93q9yP7DkuAfCH41FCUubEaGaayhV4PHLuKa4LU7vDZmaa8C7n9OD0Rtn9XuVsJR6L8MPMC1z0rFUApd0UwlLm4hMhx/YCJZyZBiutsEl3sA1rLrChyH7Ckwy/ODy1chXc7vCtNCQ+KN9zGGALS5agE02vNV0+KEtLne5O1jRNtmfcF8DBrU8IjvnfIMi/BCLy9bTNxiO+c21pIChH3L6Bvu9V9V+jwGnxeZy8jJqihM9EwOIhQvHNWuKPT8/3S1uJ3smBs/i23ub/LgRRlDYSFZTnDK2F2TQmibPQZ+J9X45dlsweipwpFdeU8yY6n4OCkFPBU2esUTp1y5jej8HP9MWjC/oyMVsrbKpNWMxJmPXYaEjF/dClfHDWC5miZwOwVjfS0cuiIxeU8wYjKVeU1ziymifpiMXZ4X4/CCGi9Vl2e4QjODoxKUjN+ZIY9t1dP2SHzpx6ciNOtLATy/XL+PjYOm90JE7LobozQ33ShVDlGGOy43KbKzdlik36oY2LujrZqTztUxBXycsM9ri6G5qGWZ2tx7r+6fWrmQW37mHi2ODeUrFdFN3n0K+pi2O7iZca1gyS49Kr5JZV3PNPGW0ktmQnQrZ1tEL8A3mdhQ/bnPE11wjY+MOIJDWrrnGf6fXmFq1+fmTG6spDok1RFt9Jx0hGo/ZxqGLqCku3K8gHUCcYU2wfCpxEzej566fGK6mOGYfNtN27QQ7eLHYh1NNkJprzJHnbpxYv6Z4M6TG/E5tBPvwUjHx8GGcmuIdO+z0t7Pj33EOdqC9/00x/cfjuDXF01M2+/1Ha2uKg3UiUEPyI8yJ9cgW0N/YZbyL01ttRl20NampQAdCkGZ4GnQjK75YxPsqYzFmEPCRGpEWjNcsTDCqK0ZALBczEtkhmpU9JXI2iBKkWyE6udE2kJzerzp71B1hmLpvlOhgn08Ze0AnJAXjTXEqfwn5YmxiGMBdkrclBWtlMJIQ4oMqYPBYymu5axhzg/+gphggh003lfsTcnvlBdQUq+Ue5UbYo0znd5xbWEIeBCO3JScYrh/VTeMH0KeExUNVFEymzhmCyWCRFUypzlkJi6xgOKr902uPMdlaCYsnQe6UiGdU4ElkUcLSokROMJyGZGqKlbD4Q1hOMKU6ZyUssoLhqF7y4FKvlbB4LuRGGDLlMjXFdFp5olTWcoJtLXR+x5m2OBWhPA45wVq5u/Q117DDqeURKZqcYA4UfIP+iEq1pncxVez14spl6z3YgxfS1lzfOKlZcy05wpxoMHl68Spfp4w9oLOygtFTkaqmWNXPQS1lBSM4OnKjVjoySHlB5aOLWd4nti17DfM8jY2knonmWnqEESKduHTkRh1pGFl1cP2SD3nBvGgv77B3YlzT2CbbVrdokwcu8qfEJsxn/47LjZ5xUautcUFfreR6Bpa2OLqb8NTzCP66mmv/pBinj2bJLGqusd1gnlIx3fSsN4O3/geTqWMhW4ldAwAAAABJRU5ErkJggg==",spin=keyframes$1`
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
`,imageMap={primary:PrimaryLoading,ghost:GhostLoading};function Spinner({size:s="20px",variant:a="primary",wrapStyle:et={}}){return jsxRuntimeExports.jsx(Center,{w:"100%",h:"100%",...et,children:jsxRuntimeExports.jsx(Image$1,{boxSize:s,src:imageMap[a],alt:"Loading",animation:`${spin} 1s linear infinite`})})}const alertTheme={baseStyle:{zIndex:999999,button:{color:"orange"},container:{zIndex:999999,bg:"none"},icon:{color:"text_paragraph"},spinner:{color:"text_paragraph"},title:{color:"text_caption",fontSize:"md"},description:{color:"text_paragraph",fontSize:"sm"}},variants:{subtle:{}},defaultProps:{variant:"subtle"}};function defineStyle(s){return s}function defineStyleConfig(s){return s}const baseStyle$1={fontWeight:"normal",borderRadius:"12px",fontFamily:"Inter",minW:"unset !important",_focusVisible:{boxShadow:"none",outline:"none"}},variants={solid:{bg:"primary",minW:"unset !important",_hover:{bg:{base:"",lg:"primary_hover"},_disabled:{bg:"primary_disabled",color:"primary_gray"}},_active:{bg:"primary_hover"},_disabled:{opacity:1,bg:"primary_disabled",color:"primary_gray",_hover:{bg:"unset",color:"unset",opacity:1}},color:"block_color"},outline:{bg:"button_outline_bg",border:"1px solid ",borderColor:"border !important",color:"primary",minW:"unset !important",_hover:{borderColor:"border",bg:{base:"",lg:"button_outline_hov_bg"},color:{base:"",lg:"primary"}},_active:{borderColor:"border",bg:"button_outline_hov_bg",color:"primary"},_disabled:{opacity:1,bg:"button_outline_disabled_bg",color:"primary_gray",border:"1px solid",borderColor:"border",_hover:{opacity:1,color:"primary_gray",bg:"button_outline_disabled_bg !important"}}},ghost:{bg:"button_ghost_bg !important",borderRadius:"8px",border:"1px solid",borderColor:"border !important",color:"primary_gray",minW:"unset !important",_hover:{border:{base:"",lg:"1px solid"},borderColor:{base:"",lg:"border !important"},bg:{base:"",lg:"button_ghost_hov_bg !important"},color:"primary_gray"},_active:{border:"1px solid",borderColor:"border !important",bg:"button_ghost_hov_bg !important",color:"primary_gray"},_disabled:{opacity:1,border:"1px solid",borderColor:"border !important",bg:"button_ghost_disabled_bg !important",color:"primary_gray",_hover:{opacity:1,bg:"button_ghost_disabled_bg !important",color:"primary_gray"}}}},buttonTheme={baseStyle:baseStyle$1,variants,defaultProps:{size:"md",variant:"solid"},sizes:{lg:{fontWeight:"550",height:"48px"},md:{fontWeight:"400"}}},cardTheme={baseStyle:{container:{borderRadius:"16px",paddingLeft:"16px",paddingRight:"16px",paddingTop:"20px",paddingBottom:"20px"},body:{color:"text_paragraph",padding:"0px,0px,0px,0px"},header:{color:"text_caption"},footer:{}},variants:{filled:{container:{bg:"card_bg"}},outline:{container:{bg:"card_bg"}}},defaultProps:{variant:"filled"}},checkboxTheme={baseStyle:{icon:{},container:{},control:{bg:"checked_bg",border:"0px",borderRadius:"4px",color:"primary",_hover:{bg:"checked_bg",color:"primary"},_checked:{bg:"checked_bg",color:"primary"}},label:{color:"text_caption",_checked:{color:"primary"}}}},drawerTheme={baseStyle:{overlay:{bg:"block_color_opacity.80",backdropFilter:"blur(10px)"},dialogContainer:{padding:{md:"0 8px",lg:"0px"}},dialog:{bg:"block_color_opacity.93",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)"},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},baseStyle={fontFamily:"Inter"},formTheme={baseStyle},headingTheme={baseStyle:{fontFamily:"Inter",color:"text_caption"}},inputTheme={baseStyle:{addon:{"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},field:{fontFamily:"Inter","::placeholder":{color:"text_paragraph"},_light:{"::placeholder":{color:"text_paragraph"}}}},variants:{unstyled:{field:{color:"text_caption",fontSize:"2xl",_disabled:{color:"text_paragraph",opacity:1}},"::placeholder":{},_light:{"::placeholder":{color:"text_paragraph"}}},outline:{field:{bg:"bg_secondary",color:"text_caption",border:"1px",borderColor:"border",borderRadius:"16px",fontSize:"2xl",height:"52px",width:"100%",_hover:{borderColor:"border",bg:"bg_secondary"},"::placeholder":{color:"text_paragraph"},_focusVisible:{borderColor:"primary",boxShadow:"0px 1px 0px 0px primary"}},addon:{height:"100%"}}},defaultProps:{variant:"unstyled"}},menuTheme={baseStyle:{button:{bg:"bg_secondary",color:"text_paragraph"},list:{bg:"bg_secondary",p:"16px",borderRadius:"12px",backdropFilter:"blur(20px)",border:"1px solid",borderColor:"border",boxShadow:"unset !important"},item:{bg:"none",color:"text_paragraph",fontSize:"sm"},groupTitle:{},icon:{},command:{},divider:{}}},modalTheme={baseStyle:{overlay:{bg:"rgba(0,0,0,0.8)"},dialogContainer:{top:"28px",bottom:"28px",overflowY:"scroll",padding:{base:"0 8px 56px",lg:"0px 0 56px"}},dialog:{bg:"background",border:"1px solid",borderColor:"border",boxShadow:"unset",borderRadius:"16px",backdropFilter:"blur(50px)",transition:{duration:.1}},header:{color:"text_caption",fontSize:"md",fontWeight:"400",pl:"16px",pr:"16px"},closeButton:{mt:"4px",right:"6px",color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"},_focusVisible:{boxShadow:"none"}},body:{pl:"16px",pr:"16px"},footer:{}}},popoverTheme={baseStyle:{popper:{bg:"transparent",color:"text_paragraph",borderRadius:"0px",border:"0px solid",borderColor:"border",_focus:{outline:"none !important",boxShadow:"unset !important"}},content:{bg:"bg_secondary",border:"1px solid",borderColor:"border",borderRadius:"8px",_focus:{outline:"unset",boxShadow:"unset !important"}},header:{color:"text_caption",fontSize:"12px"},body:{color:"text_paragraph",borderRadius:"8px"},footer:{color:"text_paragraph"},closeButton:{color:"text_paragraph",cursor:"pointer",_hover:{bg:"none",color:"text_caption"}}}},progressTheme={baseStyle:{track:{borderRadius:"8px",bg:"transparent",border:"0px",borderColor:"none"},filledTrack:{bg:"process_bg",borderRadius:"8px"}},defaultProps:{}},$startColor=cssVar$1("skeleton-start-color"),$endColor=cssVar$1("skeleton-end-color"),skeletonTheme={baseStyle:{[$startColor.variable]:"var(--chakra-colors-loading_gradient_start)",[$endColor.variable]:"var(--chakra-colors-loading_gradient_end)",background:"background",width:"96px",height:"16px",borderRadius:"4px",opacity:"0.5"}},sliderTheme={baseStyle:{container:{},track:{bg:"bg_four",h:"4px",borderRadius:"4px"},thumb:{w:"12px",h:"12px",bg:"primary",borderRadius:"10px",border:"1px",borderColor:"bg_four",position:"relative",_before:{content:"''",width:"6px",height:"6px",borderRadius:"100%",background:"bg_four",position:"absolute",left:"50%",top:"50%",marginLeft:"-3px",marginTop:"-3px"},_focusVisible:{boxShadow:"sm"}},filledTrack:{bg:"primary"}},defaultProps:{colorScheme:"primary"}},stepperTheme={baseStyle:{stepper:{},title:{fontSize:"14px",color:"text_caption",opacity:.5,"&[data-status=complete]":{color:"primary",opacity:1},"&[data-status=active]":{color:"primary",opacity:1}},description:{},number:{},step:{minH:"66px",display:"flex",justifyContent:"flex-start",alignItems:"center"},icon:{},indicator:{w:"28px",h:"28px",borderRadius:"8px","&[data-status=complete]":{bg:"none",borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=active]":{borderWidth:"1px",borderColor:"primary",color:"primary"},"&[data-status=incomplete]":{bg:"none",borderWidth:"1px",borderColor:"border",color:"#FFCA680"}},separator:{marginTop:"14px","&[data-orientation=vertical]":{w:"1px",h:"32px",bg:"primary",maxH:"auto"}}}},switchTheme={baseStyle:{thumb:{w:"14px",h:"14px",borderRadius:"7px",bg:"switch_inactive_bg",_checked:{bg:"switch_active_bg"}},track:{align:"center",w:"28px",h:"14px",bg:"block_color",p:"1px",border:"1px solid",borderRadius:"9px",borderColor:"border !important",_checked:{bg:"aggregator_switch_track_active"},_focusVisible:{boxShadow:"unset !important"}}}},tableTheme={baseStyle:{fontFamily:"Inter"},sizes:{sm:{th:{fontSize:"12px"},td:{fontSize:"14px"}}},variants:{unstyled:{table:{},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",textTransform:"none",fontSize:"14px",p:"8px !important",_first:{pl:"16px !important"},_last:{textAlign:"right",pr:"16px !important"}},tbody:{tr:{td:{textAlign:"right",color:"text_caption",fontFamily:"Inter",p:"8px !important",_first:{pl:"16px !important",textAlign:"left",borderRadius:"12px 0 0 12px"},_last:{pr:"16px !important",borderRadius:"0 12px  12px 0"}},_hover:{bg:"primary_opacity.10",borderRadius:"12px",backdropFilter:"blur(10px)"}}}},simple:{table:{borderCollapse:"separate",borderSpacing:"0px 4px"},th:{fontFamily:"Inter",textTransform:"none",fontSize:"14px",fontWeight:"400",borderBottom:"0px",padding:"0px"},tr:{_last:{td:{border:"none"}}},td:{fontFamily:"Inter",borderColor:"border",padding:"16px 0px"}},simple_list:{table:{borderCollapse:"separate",borderSpacing:"0px 0px"},th:{fontFamily:"Inter",fontWeight:"400",color:"text_paragraph",fontSize:"14px",textTransform:"none",textAlign:"right",padding:"12px 8px",_first:{pl:"16px",textAlign:"left"},_last:{textAlign:"right",pr:"16px"}},tbody:{tr:{td:{fontFamily:"Inter",bg:"bg_secondary",borderTop:"1px solid",borderBottom:"1px solid",borderColor:"border",textAlign:"right",padding:"16px 8px",_first:{pl:"16px",borderRadius:"16px 0 0 16px",borderLeft:"1px solid",borderColor:"border",textAlign:"left"},_last:{pr:"16px",borderRadius:"0 16px  16px 0",borderRight:"1px solid",borderColor:"border"}},_hover:{bg:"primary_opacity.10",borderRadius:"16px",backdropFilter:"blur(10px)"}}}},striped:{table:{},th:{fontFamily:"Inter",color:"text_paragraph",textTransform:"none",padding:"16px",border:"none"},td:{fontFamily:"Inter",color:"text_caption",border:"none !important",padding:"16px"}}},defaultProps:{variant:"unstyled"}},tabsTheme={variants:{}},textTheme={baseStyle:{fontSize:"sm",color:"text_paragraph",fontFamily:"Inter"}},tooltipTheme={baseStyle:{bg:"bg_secondary",color:"text_paragraph",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"9px 12px",fontSize:"12px",boxShadow:"unset"}},components={Button:buttonTheme,Switch:switchTheme,Input:inputTheme,Text:textTheme,Heading:headingTheme,Checkbox:checkboxTheme,Progress:progressTheme,Slider:sliderTheme,Card:cardTheme,Menu:menuTheme,Modal:modalTheme,Tooltip:tooltipTheme,Popover:popoverTheme,Stepper:stepperTheme,Skeleton:skeletonTheme,Table:tableTheme,Alert:alertTheme,Drawer:drawerTheme,FormControl:formTheme,Tabs:tabsTheme},typography={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},foundations={typography},colors={background:"#161616",bg_primary:"#161616",bg_secondary:"#0F0F0F",bg_third:"#191919",bg_four:"#202224",bg_fifth:"#1A1D21",bg_six:"#191B1E",bg_seven:"#171717",bg_eight:"rgba(114,193,247,0.1)",menu_item_bg:"#181818",menu_item_hover_bg:"#1f1f1f",block_color:"#000000",text_caption:"#FFFFFF",text_paragraph:"#909CA4",text_highlight:"#72C1F7",top_coin_address_text:"#86FFE4",primary:"#75C8FF",primary_gray:"#7F98A7",primary_green:"#68FFD8",primary_yellow:"#FFCA68",primary_red:"#FF5073",primary_blue:"#62AADB",light_coral:"#AE6161",quote_green:"#027658",text_green:"#AAFFC9",primary_hover:"#8DD2FF",primary_disabled:"#25303A",button_outline_bg:"#0F0F0F",button_outline_hov_bg:"rgba(114,193,247,0.1)",button_outline_disabled_bg:"#25303A",button_ghost_bg:"#1A1C25",button_ghost_hov_bg:"#242733",button_ghost_disabled_bg:"#25303A",switch_active_bg:"#72C1F7",switch_inactive_bg:"#768691",switch_thumb:"#FFFFFF",aggregator_switch:"#222530",aggregator_switch_track_active:"#1B2E3B",border:"#2A3238",button_outline_border:"#00334C",input_error_border:"#FC8181",h5_route_border:"#8BABBE",h5_router_percentage_bg:"#22333D",token_inactive_border:"#2b3239",token_active_border:"#4F86AB",trade_input_border_light:"#344E61",border_secondary:"#23252C",checked_bg:"#1A1C25",process_bg_gray:"#2A3238",process_bg:"#3C60F7",process_bg_value:"#2CDAB0",card_bg:"#192128",card_bg_hover:"#1D262E",form_card_bg:"#1D1F21",input_bg:"#141414",input_disabled:"#121719",launch_title:"#C3F8E6",scroll_header_bg:"linear-gradient( 270deg, #003D4C 0%, #170033 100%)",scroll_header_border:"linear-gradient( 270deg, #005B99 0%, #480077 100%)",ranking_table_bg:"linear-gradient( 0deg, #151A29 0%, #0F0F0F 100%)",market_table_bg:"linear-gradient( 0deg, #152429 0%, #0F0F0F 100%)",status_text:"linear-gradient(to left, #4CB6FF 0%, #7CFFD0 100%)",ranking_list_h5_bg:"linear-gradient( 180deg, #0F0F0F 100%, #151A29 0%)",bubble_bg_created:"#003254",bubble_bg_complete:"linear-gradient( 270deg, #055C45 0%, #002E73 100%)",bubble_bg_buy:"#006147",bubble_bg_sell:"#46121C",plus_mode_color:"linear-gradient(90deg, #c7f9d4, #eff7d0 48%, #f8beff)",beta_tag_color:"linear-gradient( 90deg, #C6F9D4 5%, #FFFDB3 30%, #D5ECFA 66%, #FBD7FF 87%, #F7B8FF 100%)",beta_tag_border_color:"linear-gradient(90deg, rgba(198, 249, 212, 1), rgba(255, 253, 179, 1), rgba(213, 236, 250, 1), rgba(251, 215, 255, 1), rgba(247, 184, 255, 1)) 1 1",aggregator_box_shadow:"linear-gradient(180deg, rgba(22,22,22,0) 0%, #161616 100%)",circle_progress_color:"#72C1F7",circle_progress_track_color:"#333333",crop_slider_tracker:"#1F272D",status_tag_bg:"#313336",progress_track:"linear-gradient( 270deg, #22A5FF 0%, #7CFFD0 100%)",skeleton_light:"linear-gradient( 270deg, #606060 0%, #313131 100%)",pending_yield_bg:"#192128",position_status_bg:"rgba(118, 200, 255, 0.1)",position_farms_bg:"rgba(203, 150, 255, 0.2)",position_farms_color:"rgba(203, 150, 255, 1)",modal_bg:"rgba(32, 32, 32, 0.8)",primary_opacity:{10:"rgba(117,200,255,0.1)",50:"rgba(117,200,255,0.5)",60:"rgba(117,200,255,0.6)"},primary_green_opacity:{10:"rgba(104,255,216,0.1)"},primary_yellow_opacity:{10:"rgba(255,202,104,0.1)"},primary_red_bg:"rgba(63, 35, 40,0.8)",primary_red_opacity:{10:"rgba(255,80,115,0.1)"},text_paragraph_opacity:{20:"rgba(144,156,164,0.2)"},text_highlight_opacity:{10:"rgba(114,193,247,0.1)",20:"rgba(114,193,247,0.2)",30:"rgba(114,193,247,0.3)"},block_color_opacity:{4:"rgba(0,0,0,0.04)",10:"rgba(0,0,0,0.1)",50:"rgba(0,0,0,0.5)",93:"rgba(0,0,0,0.93)",80:"rgba(0,0,0,0.8)"},white_color_opacity:{10:"rgba(255,255,255,0.1)",50:"rgba(255,255,255,0.5)",80:"rgba(255,255,255,0.8)"},frosted_glass:{1:"rgba(59,59,59,0.1)",5:"rgba(218,218,218,0.05)"},swap_bg_primary:"#1B242C",swap_bg_secondary:"#161A1E",swap_card_bg:"#161A1E",swap_card_bg_2:"rgba(114, 193, 247, 0.05)",swap_input_bg:"rgba(15,15,15,0.4)",swap_border:"rgba(114, 193, 247, 0.2)",text_haedal:"#C4A992"},styles={global:{"@font-face":{fontFamily:"Inter",fontWeight:"normal",fontStyle:"normal",fontDisplay:"swap"},"html body":{width:"100%",background:"background",fontFamily:"Inter"},body:{lineHeight:1},label:{fontFamily:"Inter"},button:{fontFamily:"Inter",_focusVisible:{boxShadow:"none",outline:"none"}},input:{fontFamily:"Inter",caretColor:"var(--chakra-colors-text_caption) !important"},".recharts-cartesian-axis-line":{display:"none"},".recharts-sector:focus":{outline:"none !important"},".recharts-cartesian-axis-ticks":{marginTop:"4px"},".chakra-input__right-element":{height:"100% !important"},".chakra-toast__inner":{button:{color:"text_paragraph",_hover:{color:"text_caption"}}},".exchange":{w:"40px",h:"44px",cursor:"pointer",bgSize:"100% auto",bgRepeat:"no-repeat",bgPosition:"center center",mt:"-20px",mb:"-2px",zIndex:9},".swap-exchange":{bgImage:'url("/images/btn_swap@2x.png")',_hover:{bgImage:'url("/images/btn_swap_hov@2x.png")'}},".liquidity-add":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add_hov@2x.png")'}},".position-img":{bgImage:'url("/images/btn_add@2x.png")',_hover:{bgImage:'url("/images/btn_add@2x.png")'}},".confirm-order-img":{w:"30px",h:"33px",bgImage:'url("/images/btn_down@2x.png")',_hover:{bgImage:'url("/images/btn_down@2x.png")'}},".aprTooltip_btn":{display:"flex",alignItems:"center"},".delimiter":{fontFamily:"Inter",fontWeight:"normal"},"@keyframes rotate":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},".loading_animation":{animation:"rotate 1s linear infinite"},".price-historical-selection":{display:"none !important"},".price-historical-y-axis text":{display:"none"},".price-historical-y-axis line":{display:"none"},".price-historical-y-axis path":{display:"none"},".price-historical-x-axis line":{display:"none"},".price-historical-x-axis path":{display:"none"}}},config$1={initialColorMode:"dark",useSystemColorMode:!1},textStyles={caption:{fontWeight:400,lineHeight:"100%",color:"text_caption",fontFamily:"Inter"},paragraph:{fontWeight:400,lineHeight:"100%",color:"text_paragraph",fontFamily:"Inter"}},breakpoints={base:"0px",md:"500px",lg:"810px",xl:"1200px","2xl":"2500px"},theme=extendTheme({config:config$1,styles,textStyles,breakpoints,...foundations,components,semanticTokens:{colors},shadows:{trade_icon_shadow:"inset 0px 0px 6px 0px rgba(255,255,255,0.2)",aggregator_shadow:"inset 0px 0px 10px 0px rgba(0,152,255,0.2)"}});function TokenAvatar({coin_type:s,size:a="38px",src:et,is_trusted:nt=!0,variant:at,style:mt={}}){return jsxRuntimeExports.jsx(Box,{w:a,h:a,minW:a,minH:a,maxW:a,maxH:a,borderRadius:"50%",children:jsxRuntimeExports.jsx(SingleCoinImage,{variant:at,imageUrl:et,w:a,h:a,borderRadius:"50%",coinType:s,p:"4px",imgBoxStyle:mt})})}const TokenSelectModal$1=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>index$1),void 0));function CoinSelect$1({value:s,onSelect:a,loading:et,currentCoinKey:nt,whiteTokenList:at,tokenStyle:mt={},tokenSize:wt="38px",symbolStyle:$t={},wrapStyle:Ct={},isShowLabelTab:Dt=!0,isShowCollectListBox:Ft=!0,isShowTokenListTab:jt=!0,disabled:Nt=!1,openSelectTokenModal:Lt,selectModalCallback:Ut}){const{isOpen:Vt,onOpen:Yt,onClose:er}=useDisclosure(),[tr,nr]=reactExports.useState(!1),{pathname:sr}=useLocation();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{w:"100%",variant:"unstyled",display:"flex",alignItems:"center",gap:"8px",onClick:()=>{Lt?Lt():Yt(),Ut&&Ut(!0)},cursor:"pointer",onMouseEnter:()=>nr(!0),onMouseLeave:()=>nr(!1),isDisabled:Nt,...Ct,children:[et?jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SkeletonCircle,{w:wt,h:wt}),jsxRuntimeExports.jsx(Skeleton,{h:$t.fontSize||"16px"})]}):s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TokenAvatar,{variant:"border",src:(s==null?void 0:s.logo_url)||"",is_trusted:s==null?void 0:s.is_trusted,coin_type:s==null?void 0:s.coin_type,size:wt,style:tr?{...mt,borderColor:"token_active_border",boxShadow:"0px 0px 6px 0px #0067AD"}:mt}),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",...$t,children:textEllipses((s==null?void 0:s.symbol)||"",10)})]}):jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",fontWeight:"600",children:"Select a token"}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",svgFill:tr?"text_caption":"text_paragraph"})]}),jsxRuntimeExports.jsx(TokenSelectModal$1,{tokenInfo:s,lastSelectedToken:(s==null?void 0:s.coin_type)||"",isOpen:Vt,currentCoinKey:nt,whiteTokenList:at,isShowLabelTab:Dt,isShowTokenListTab:jt&&sr!=="/dca",isShowCollectListBox:Ft&&sr!=="/dca",onSelectToken:dr=>{a(dr)},onClose:()=>{er(),Ut&&Ut(!1)}})]})}const CoinSelect$2=reactExports.memo(CoinSelect$1),CoinSelect$3=Object.freeze(Object.defineProperty({__proto__:null,default:CoinSelect$2},Symbol.toStringTag,{value:"Module"})),uploadFilePath="/api/v1/upload";function useFileUpload(){const[s,a]=reactExports.useState(!1);return{doUploadFile:async nt=>{const at=new FormData;at.append("file",nt);try{a(!0);const mt=`${envConfigs$1.pump_api.api_primary_domain}${uploadFilePath}`,wt=await fetch(mt,{method:"POST",body:at});if(!wt.ok){const{error:Ct}=await wt.json();throw Ct?new Error(Ct):new Error("Upload failed")}const $t=await wt.json();return console.log(" ~ file: useFileUpload.tsx:26 ~ doUploadFile ~ result:",$t),$t}catch(mt){throw console.log(" ~ file: useFileUpload.tsx:29 ~ doUploadFile ~ error:",mt.message),new Error(mt.message)}finally{a(!1)}},uploadLoading:s}}const store$a=(s,a)=>({currentCrypto:"",setCurrentCrypto:et=>{s(()=>({currentCrypto:et}))},isShowAlchemyCrypto:!1,setIsShowAlchemyCrypto:et=>{s(()=>({isShowAlchemyCrypto:et}))},isShowKodoCrypto:!1,setIsShowKodoCrypto:et=>{s(()=>({isShowKodoCrypto:et}))}}),useCryptoStore=create$3(store$a),store$9=(s,a)=>({globalLoading:!0,setGlobalLoading:et=>{s(()=>({globalLoading:et}))},isScrollTop:!1,setIsScrollTop:et=>{s(()=>({isScrollTop:et}))}});create$3(store$9);const store$8=(s,a)=>({notifiAlerts:[],setNotifiAlerts:et=>{s(()=>({notifiAlerts:et}))},notifiSourceGroups:[],setNotifiSourceGroups:et=>{s(()=>({notifiSourceGroups:et}))},notifiSources:[],setNotifiSources:et=>{s(()=>({notifiSources:et}))},isChecked:!1,setIsChecked:et=>{s(()=>({isChecked:et}))},isShowNotifi:!1,setIsShowNotifi:et=>{s(()=>({isShowNotifi:et}))},notifiSubscriptionLoading:!1,setNotifiSubscriptionLoading:et=>{s(()=>({notifiSubscriptionLoading:et}))},notifiLoginLoading:!1,setNotifiLoginLoading:et=>{s(()=>({notifiLoginLoading:et}))},notifiClient:{},setNotifiClient:et=>{s(()=>({notifiClient:et}))},notifiStatus:"",setNotifiStatus:et=>{s(()=>({notifiStatus:et}))},defaultTargetGroup:[],setDefaultTargetGroup:et=>{s(()=>({defaultTargetGroup:et}))},notifiAccountAddress:"",setNotifiAccountAddress:et=>{s(()=>({notifiAccountAddress:et}))},emailTarget:{},setEmailTarget:et=>{s(()=>({emailTarget:et}))},telegramTarget:{},setTelegramTarget:et=>{s(()=>({telegramTarget:et}))},smsTarget:{},setSmsTarget:et=>{s(()=>({smsTarget:et}))}}),useNotifiStore=create$3(store$8);LocalStorageService.getItem(NOTIFI_SIGNATURE).then(s=>{});const useToastStore=create$3((s,a)=>({toastId:0,accumulateToastId:()=>{const et=a().toastId+1;return s(()=>({toastId:et})),et}})),store$7=(s,a)=>({requestTokenList:[],addRequestTokenList:et=>{s(()=>({requestTokenList:[...a().requestTokenList,et]}))},setToken:et=>{const{tokenMap:nt,requestTokenList:at}=a(),mt=new Map(nt);mt.set(extractStructTagFromType$1(et.coin_type).full_address,et);const wt=at.filter($t=>$t!==et.coin_type);s(()=>({tokenMap:mt,requestTokenList:[...wt]})),LocalStorageService.setItem(TOKEN_MAP_KEY,mt)},tokenMap:new Map,setTokenMap:et=>{s(()=>({tokenMap:et})),LocalStorageService.setItem(TOKEN_MAP_KEY,et)}}),useTokenStore=create$3(store$7);LocalStorageService.getItem(TOKEN_MAP_KEY).then(s=>{console.log(" ~ file: token.ts:57 ~ savedTokenMap:",s),s!==null&&useTokenStore.getState().setTokenMap(s)});const store$6=(s,a)=>({isLoading:!1,ownerAddress:void 0,tokenBalanceObj:{},setTokenBalanceObj:(et,nt)=>{const{tokenBalanceObj:at,ownerAddress:mt}=a();s(nt!==mt?()=>({tokenBalanceObj:{...et},ownerAddress:nt}):()=>({tokenBalanceObj:{...at,...et},ownerAddress:nt}))},setIsLoading:et=>{s(()=>({isLoading:et}))},clearData:()=>{s(()=>({tokenBalanceObj:{},ownerAddress:void 0}))}}),useTokenBalanceStore=create$3(persist(store$6,{name:"useTokenBalanceStore",version:1}));var x$1=24*60*60*1e3;function T$1(s){return Date.parse(new Date().toString())+s}var b$1=class{constructor(a,et=0){sn(this,"overdueTime");sn(this,"value");this.overdueTime=et,this.value=a}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};function S$3(s,a=32){return Number(BigInt.asIntN(a,BigInt(s)))}var D$1="0x2::coin::Coin",v$3=/^0x2::coin::Coin<(.+)>$/,P$1="0x2::sui::SUI",j$1="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",u=class{static getCoinTypeArg(s){let a=s.type.match(v$3);return a?a[1]:null}static isSUI(s){let a=u.getCoinTypeArg(s);return a?u.getCoinSymbol(a)==="SUI":!1}static getCoinSymbol(s){return s.substring(s.lastIndexOf(":")+1)}static getBalance(s){return BigInt(s.fields.balance)}static totalBalance(s,a){let et=BigInt(0);return s.forEach(nt=>{a===nt.coinAddress&&(et+=BigInt(nt.balance))}),et}static getID(s){return s.fields.id.id}static getCoinTypeFromArg(s){return`${D$1}<${s}>`}static getFaucetCoins(s){let{events:a}=s,et=[];return a==null||a.forEach(nt=>{let{type:at}=nt;if(d(at).name==="InitEvent"){let mt=nt.parsedJson;et.push({transactionModule:nt.transactionModule,suplyID:mt.suplyID,decimals:mt.decimals})}}),et}static getCoinAssets(s,a){let et=[];return a.forEach(nt=>{A(nt.coinAddress)===A(s)&&et.push(nt)}),et}static isSuiCoin(s){return d(s).full_address===P$1}static selectCoinObjectIdGreaterThanOrEqual(s,a,et=[]){let nt=u.selectCoinAssetGreaterThanOrEqual(s,a,et),at=nt.selectedCoins.map($t=>$t.coinObjectId),mt=nt.remainingCoins,wt=nt.selectedCoins.map($t=>$t.balance.toString());return{objectArray:at,remainCoins:mt,amountArray:wt}}static selectCoinAssetGreaterThanOrEqual(s,a,et=[]){let nt=u.sortByBalance(s.filter(Ct=>!et.includes(Ct.coinObjectId))),at=u.calculateTotalBalance(nt);if(at<a)return{selectedCoins:[],remainingCoins:nt};if(at===a)return{selectedCoins:nt,remainingCoins:[]};let mt=BigInt(0),wt=[],$t=[...nt];for(;mt<at;){let Ct=a-mt,Dt=$t.findIndex(jt=>jt.balance>=Ct);if(Dt!==-1){wt.push($t[Dt]),$t.splice(Dt,1);break}let Ft=$t.pop();Ft.balance>0&&(wt.push(Ft),mt+=Ft.balance)}return{selectedCoins:u.sortByBalance(wt),remainingCoins:u.sortByBalance($t)}}static sortByBalance(s){return s.sort((a,et)=>a.balance<et.balance?-1:a.balance>et.balance?1:0)}static sortByBalanceDes(s){return s.sort((a,et)=>a.balance>et.balance?-1:a.balance<et.balance?0:1)}static calculateTotalBalance(s){return s.reduce((a,et)=>a+et.balance,BigInt(0))}};function k$1(s){return s.startsWith("0x")?`${s.slice(2)}`:s}function I$2(s,...a){let et=Array.isArray(a[a.length-1])?a.pop():[],nt=[s,...a].filter(Boolean).join("::");return et&&et.length&&(nt+=`<${et.join(", ")}>`),nt}function d(s){var a,et;try{let nt=s.replace(/\s/g,""),at=(et=(a=nt.match(/(<.+>)$/))==null?void 0:a[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){nt=nt.slice(0,nt.indexOf("<"));let $t={...d(nt),type_arguments:at.map(Ct=>d(Ct).source_address)};return $t.type_arguments=$t.type_arguments.map(Ct=>u.isSuiCoin(Ct)?Ct:d(Ct).source_address),$t.source_address=I$2($t.full_address,$t.type_arguments),$t}let mt=nt.split("::"),wt={full_address:nt,address:nt===P$1||nt===j$1?"0x2":normalizeSuiObjectId$1(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return wt.full_address=`${wt.address}::${wt.module}::${wt.name}`,wt.source_address=I$2(wt.full_address,wt.type_arguments),wt}catch{return{full_address:s,address:"",module:"",name:"",type_arguments:[],source_address:s}}}function A(s){return d(s).source_address}function L(s){return s.toLowerCase().startsWith("0x")?normalizeSuiObjectId$1(s):s}var ee$1=(s,a=!0)=>{let et=s.split("::"),nt=et.shift(),at=normalizeSuiObjectId$1(nt);return a&&(at=k$1(at)),`${at}::${et.join("::")}`};function O$2(s){for(let a in s){let et=typeof s[a];if(et==="object")O$2(s[a]);else if(et==="string"){let nt=s[a];nt&&!nt.includes("::")&&(s[a]=L(nt))}}}var g=class{static buildBurnPositionNFT(s){var nt;let a=s.position.fields,et=`Cetus Burned LP | Pool${(nt=a.name.split("Pool"))==null?void 0:nt[1]}`;return{id:s.id.id,url:a.url,pool_id:a.pool,coinTypeA:d(a.coin_type_a.fields.name).full_address,coinTypeB:d(a.coin_type_b.fields.name).full_address,description:a.description,name:et,liquidity:a.liquidity,clmm_position_id:a.id.id,clmm_pool_id:a.pool,tick_lower_index:S$3(BigInt(a.tick_lower_index.fields.bits)),tick_upper_index:S$3(BigInt(a.tick_upper_index.fields.bits)),index:a.index,is_lp_burn:!0}}},w$1="0x0000000000000000000000000000000000000000000000000000000000000006",h=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getHaveBurnPoolList(){var s,a,et,nt,at,mt,wt,$t;try{let{package_id:Ct,manager_id:Dt}=this._sdk.sdkOptions.burn,Ft=await this._sdk.fullClient.getObject({id:Dt,options:{showType:!0,showContent:!0}});console.log(" ~ file: burnModule.ts:32 ~ BurnModule ~ getHaveBurnPoolList ~ object:",Ft);let jt=(mt=(at=(nt=(et=(a=(s=Ft==null?void 0:Ft.data)==null?void 0:s.content)==null?void 0:a.fields)==null?void 0:et.position)==null?void 0:nt.fields)==null?void 0:at.id)==null?void 0:mt.id;return($t=(wt=await this._sdk.fullClient.getDynamicFieldsByPage(jt))==null?void 0:wt.data)==null?void 0:$t.map(Nt=>{var Lt;return(Lt=Nt==null?void 0:Nt.name)==null?void 0:Lt.value})}catch(Ct){return console.log("getHaveBurnPoolList ~ error:",Ct),[]}}async getPositionHandle(s){let{burn_pool_handle:a}=this._sdk.sdkOptions.burn,et=`getPosHandle_${s}`,nt=this._sdk.getCache(et);return nt||(nt=(await this._sdk.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}})).data.content.fields.value.fields.id.id,nt&&this._sdk.updateCache(et,nt),nt)}async getPoolBurnPositionList(s){var a,et,nt;try{let at=await this.getPositionHandle(s);if(at===void 0)throw Error("Not found posHandle");let mt=(et=(a=await this._sdk.fullClient.getDynamicFieldsByPage(at))==null?void 0:a.data)==null?void 0:et.map(wt=>wt.objectId);if(mt.length>0){let wt=(await this._sdk.fullClient.batchGetObjects(mt,{showContent:!0})).map($t=>$t.data.content.fields.value.fields.burned_position_id);return(nt=await this._sdk.fullClient.batchGetObjects(wt,{showContent:!0}))==null?void 0:nt.map($t=>{var Ct,Dt;return g.buildBurnPositionNFT((Dt=(Ct=$t==null?void 0:$t.data)==null?void 0:Ct.content)==null?void 0:Dt.fields)})}return[]}catch(at){return console.log("getPoolBurnPositionList ~ error:",at),[]}}async getBurnPositionList(s){var et,nt;let{package_id:a}=this._sdk.sdkOptions.burn;return(nt=(et=await this._sdk.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showOwner:!0,showDisplay:!0},filter:{MatchAny:[{StructType:`${a}::lp_burn::CetusLPBurnProof`}]}}))==null?void 0:et.data)==null?void 0:nt.map(at=>{var mt,wt;return g.buildBurnPositionNFT((wt=(mt=at==null?void 0:at.data)==null?void 0:mt.content)==null?void 0:wt.fields)})}async getBurnPositon(s){var et,nt,at,mt;let a=await this._sdk.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}});return(nt=(et=a==null?void 0:a.data)==null?void 0:et.content)!=null&&nt.fields?g.buildBurnPositionNFT((mt=(at=a==null?void 0:a.data)==null?void 0:at.content)==null?void 0:mt.fields):null}createBurnPayload(s,a){a=a||new Transaction;let et=typeof s.pos=="string"?a.object(s.pos):s.pos,{published_at:nt,manager_id:at}=this._sdk.sdkOptions.burn,mt=`${nt}::lp_burn::burn`;return a.moveCall({target:mt,arguments:[a.object(at),a.object(s.pool),et],typeArguments:[s.coinTypeA,s.coinTypeB]}),a}createBurnLPV2Payload(s,a){a=a||new Transaction;let et=typeof s=="string"?a.object(s):s,{published_at:nt,manager_id:at}=this._sdk.sdkOptions.burn,mt=`${nt}::lp_burn::burn_lp_v2`,[wt]=a.moveCall({target:mt,arguments:[a.object(at),et],typeArguments:[]});return wt}createCollectFeePaylaod(s,a){a=a||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at}=this._sdk.sdkOptions.burn,mt=`${et}::lp_burn::collect_fee`,wt=a.moveCall({target:mt,arguments:[a.object(nt),a.object(at),a.object(s.pool),a.object(s.pos)],typeArguments:[s.coinTypeA,s.coinTypeB]});return a.transferObjects([wt[0]],a.pure.address(s.account)),a.transferObjects([wt[1]],a.pure.address(s.account)),a}crateCollectRewardPayload(s,a){var $t,Ct;a=a||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at,clmm_global_vault_id:mt}=this._sdk.sdkOptions.burn,wt=`${et}::lp_burn::collect_reward`;for(let Dt=0;Dt<(($t=s.rewarderCoinTypes)==null?void 0:$t.length);Dt++){let Ft=(Ct=s.rewarderCoinTypes)==null?void 0:Ct[Dt],jt=a.moveCall({target:wt,arguments:[a.object(nt),a.object(at),a.object(s.pool),a.object(s.pos),a.object(mt),a.object(w$1)],typeArguments:[s.coinTypeA,s.coinTypeB,Ft]});a.transferObjects([jt],a.pure.address(s.account))}return a}createCollectFeesPaylaod(s,a){a=a||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at}=this._sdk.sdkOptions.burn,mt=`${et}::lp_burn::collect_fee`;for(let wt=0;wt<s.length;wt++){let $t=s[wt],Ct=a.moveCall({target:mt,arguments:[a.object(nt),a.object(at),a.object($t.pool),a.object($t.pos)],typeArguments:[$t.coinTypeA,$t.coinTypeB]});a.transferObjects([Ct[0]],a.pure.address($t.account)),a.transferObjects([Ct[1]],a.pure.address($t.account))}return a}crateCollectRewardsPayload(s,a){var $t,Ct;a=a||new Transaction;let{published_at:et,manager_id:nt,clmm_global_config:at,clmm_global_vault_id:mt}=this._sdk.sdkOptions.burn,wt=`${et}::lp_burn::collect_reward`;for(let Dt=0;Dt<s.length;Dt++){let Ft=s[Dt];for(let jt=0;jt<(($t=Ft.rewarderCoinTypes)==null?void 0:$t.length);jt++){let Nt=(Ct=Ft.rewarderCoinTypes)==null?void 0:Ct[jt],Lt=a.moveCall({target:wt,arguments:[a.object(nt),a.object(at),a.object(Ft.pool),a.object(Ft.pos),a.object(mt),a.object(w$1)],typeArguments:[Ft.coinTypeA,Ft.coinTypeB,Nt]});a.transferObjects([Lt],a.pure.address(Ft.account))}}return a}},y$1=class extends SuiClient{async queryEventsByPage(a,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.queryEvents({query:a,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getOwnedObjectsByPage(a,et,nt="all"){let at=[],mt=!0,wt=nt==="all",$t=wt?null:nt.cursor;do{let Ct=await this.getOwnedObjects({owner:a,...et,cursor:$t,limit:wt?null:nt.limit});Ct.data?(at=[...at,...Ct.data],mt=Ct.hasNextPage,$t=Ct.nextCursor):mt=!1}while(wt&&mt);return{data:at,nextCursor:$t,hasNextPage:mt}}async getDynamicFieldsByPage(a,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.getDynamicFields({parentId:a,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async batchGetObjects(a,et,nt=50){let at=[];try{for(let mt=0;mt<Math.ceil(a.length/nt);mt++){let wt=await this.multiGetObjects({ids:a.slice(mt*nt,nt*(mt+1)),options:et});at=[...at,...wt]}}catch(mt){console.log(mt)}return at}async calculationTxGas(a){let{sender:et}=a.blockData;if(et===void 0)throw Error("sdk sender is empty");let nt=await this.devInspectTransactionBlock({transactionBlock:a,sender:et}),{gasUsed:at}=nt.effects;return Number(at.computationCost)+Number(at.storageCost)-Number(at.storageRebate)}async sendTransaction(a,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:a,options:{showEffects:!0,showEvents:!0}})}catch(nt){console.log("error: ",nt)}}async sendSimulationTransaction(a,et,nt=!0){try{if(nt)return await this.devInspectTransactionBlock({transactionBlock:a,sender:et})}catch(at){console.log("devInspectTransactionBlock error",at)}}},_$1=class{constructor(a){sn(this,"_cache",{});sn(this,"_rpcModule");sn(this,"_sdkOptions");sn(this,"_senderAddress","");sn(this,"_burn");this._sdkOptions=a,this._rpcModule=new y$1({url:a.fullRpcUrl}),this._burn=new h(this),O$2(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(a){this._senderAddress=a}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Burn(){return this._burn}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(a,et,nt=!0){let at=[],mt=null,wt=`${this.sdkOptions.fullRpcUrl}_${a}_${et}_getOwnerCoinAssets`,$t=this.getCache(wt,nt);if($t)return $t;for(;;){let Ct=await(et?this.fullClient.getCoins({owner:a,coinType:et,cursor:mt}):this.fullClient.getAllCoins({owner:a,cursor:mt}));if(Ct.data.forEach(Dt=>{BigInt(Dt.balance)>0&&at.push({coinAddress:d(Dt.coinType).source_address,coinObjectId:Dt.coinObjectId,balance:BigInt(Dt.balance)})}),mt=Ct.nextCursor,!Ct.hasNextPage)break}return this.updateCache(wt,at,30*1e3),at}async getOwnerCoinBalances(a,et){let nt=[];return et?nt=[await this.fullClient.getBalance({owner:a,coinType:et})]:nt=[...await this.fullClient.getAllBalances({owner:a})],nt}updateCache(a,et,nt=x$1){let at=this._cache[a];at?(at.overdueTime=T$1(nt),at.value=et):at=new b$1(et,T$1(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[a]}};const store$5=(s,a)=>({coinPriceObj:{},setPriceObj:et=>{const nt=a().coinPriceObj;s({coinPriceObj:{...nt,...et}})},clearPriceObj:et=>{const nt=a().coinPriceObj;et.forEach(at=>{delete nt[d(at).full_address]}),s({coinPriceObj:{...nt}})}}),useTokenPriceStore=create$3(store$5),useTransactionStore=create$3((s,a)=>({manualCloseIdList:[],transactionModalVisible:!1,transactionData:void 0,setTransactionModalVisible:et=>{s(()=>({transactionModalVisible:et}))},setTransactionData:et=>{s(()=>({transactionData:et}))},setManualCloseId:et=>{s(nt=>({manualCloseIdList:[...nt.manualCloseIdList,et]}))}})),useAccountStore=create$3((s,a)=>({addressChangeVersion:0,accounts:[],currentAccount:void 0,isOpenWalletModal:!1,saveCurrentAccount:et=>{var mt;const nt=(mt=a().currentAccount)==null?void 0:mt.address,at=a().addressChangeVersion;nt&&et&&nt!==et.address?s({currentAccount:et,addressChangeVersion:at+1}):s({currentAccount:et})},saveAccounts:et=>{s({accounts:et})},onWalletModal:et=>{s({isOpenWalletModal:et})}}));console.log(" ~ useClmmSDKStore.ts:2 ~ envConfigs:",envConfigs$1);const store$4=(s,a)=>({isInitLoading:!1,clmmSdk:new CetusClmmSDK(envConfigs$1.clmm_sdk_options),aggregatorSDK:new AggregatorClient22({signer:envConfigs$1.clmm_sdk_options.simulationAccount.address,client:new SuiClient({url:envConfigs$1.clmm_sdk_options.fullRpcUrl}),env:envConfigs$1.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:envConfigs$1.pythUrls}),setClmmSdk:et=>{s(()=>({clmmSdk:et}))},setAggregatorSDK:et=>{s(()=>({aggregatorSDK:et}))},setIsInitLoading:et=>{s(()=>({isInitLoading:et}))}}),useClmmSDKStore=create$3(store$4),store$3=(s,a)=>({domains:[envConfigs$1.cetus_api],unhealthyDomains:[],currentDomain:envConfigs$1.cetus_api,setCurrentDomain:et=>{s(()=>({currentDomain:et}))},setUnhealthyDomains:et=>{s(()=>({unhealthyDomains:[...a().unhealthyDomains,et]}))}}),useGlobalApiDomainStore=create$3(store$3),defaultMainnetNodes=[{name:"Sui Official",link:"https://fullnode.mainnet.sui.io"},{name:"BlockVision",link:"https://sui-mainnet-endpoint.blockvision.org"},{name:"BlockVision 2",link:"https://cetus-mainnet-endpoint.blockvision.org"},{name:"Suiet",link:"https://mainnet.suiet.app:443"},{name:"Blast",link:"https://sui-mainnet.blastapi.io/5e2b3e4f-dc83-432b-86d1-70fb73e88187"},{name:"Suiscan",link:"https://rpc-mainnet.suiscan.xyz:443"},{name:"Triton",link:"https://cetus-suimain-e31f.mainnet.sui.rpcpool.com"},{name:"Custom",link:""}],defaultMainnetExplorers=[{name:"SuiVision",link:"https://suivision.xyz",img:"/images/img_suivision@2x.png"},{name:"Suiscan",link:"https://suiscan.xyz/mainnet",img:"/images/img_suiscan@2x.png"}],defaultNodes=defaultMainnetNodes,defaultNode=defaultMainnetNodes[0],defaultExplorers=defaultMainnetExplorers,defaultExplorer=defaultMainnetExplorers[0],suiWalletList=[{name:"Sui Wallet",walletName:"Sui Wallet",url:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",icon:"sui-wallet-icon"},{name:"Phantom",walletName:"Phantom",url:"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa",icon:"phantom"},{name:"OKX",walletName:"OKX Wallet",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",icon:"okx"},{name:"Suiet",walletName:"Suiet",url:"https://chrome.google.com/webstore/detail/suiet-sui-wallet/khpkpbbcccdmmclmpigdgddabeilkdpd",icon:"suiet-icon"},{name:"Binance",walletName:"Binance Wallet",url:"https://chromewebstore.google.com/detail/%E5%B8%81%E5%AE%89%E9%93%BE%E9%92%B1%E5%8C%85/fhbohimaelbohpjbbldcngcnapndodjp?hl=zh-CN&utm_source=ext_sidebar",icon:"binance"},{name:"Stashed",walletName:"Stashed",url:"https://getstashed.com",icon:"stashed"},{name:"Bybit Wallet",walletName:"Bybit Wallet",url:"https://chromewebstore.google.com/search/Bybit%20Wallet?hl=zh-CN&utm_source=ext_sidebar",icon:"bybit"},{name:"Gate",walletName:"Gate Wallet",url:"https://chromewebstore.google.com/detail/gate-wallet/cpmkedoipcpimgecpmgpldfpohjplkpp",icon:"gate"},{name:"Bitget Wallet",walletName:"Bitget Wallet",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",icon:"bitget"},{name:"SuiMetaMaskSnap",walletName:"Sui MetaMask Snap",url:"https://suisnap.com",icon:"metamask"},{name:"Surf",walletName:"Surf Wallet",url:"https://chrome.google.com/webstore/detail/surf-wallet/emeeapjkbcbpbpgaagfchmcgglmebnen",icon:"surf"},{name:"Coin98",walletName:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",icon:"coin98"},{name:"MSafe",walletName:"MSafe Wallet",url:"https://sui.m-safe.io/",icon:"msafe"},{name:"OneKey",walletName:"OneKey Wallet",url:"https://chromewebstore.google.com/detail/onekey/jnmbobjmhlngoefaiojfljckilhhlhcj",icon:"onekey"},{name:"TokenPocket",walletName:"TokenPocket Wallet",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",icon:"tokenpocket"},{name:"Nightly",walletName:"Nightly",url:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa",icon:"nightly"},{name:"Martian",walletName:"Martian Sui Wallet",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",icon:"martian"},{name:"Fewcha",walletName:"Fewcha Move Wallet",url:"https://fewcha.app/",icon:"fewcha"},{name:"SafePal",walletName:"SafePal",url:"https://chrome.google.com/webstore/detail/safepal-extension-wallet/lgmpcpglpngdoalbgeoldeajfclnhafa",icon:"safepal"},{name:"Math",walletName:"MathWallet",url:"https://mathwallet.org/",icon:"math"}],store$2=(s,a)=>({rpcSpeed:{},currentExplorer:defaultExplorer,explorerList:[...defaultExplorers],currentNode:{...defaultNode},nodes:[...defaultNodes],switchNode:et=>{s(()=>({currentNode:et}))},switchExplorer:et=>{s(()=>({currentExplorer:et}))},setNodeList:et=>{s(()=>({nodes:[...et]}))},setRpcSpeed:et=>{s(()=>({rpcSpeed:et}))}}),useRpcConfigStore=create$3(persist(store$2,{name:"useRpcConfigStore",version:4})),store$1=(s,a)=>({deepbookV3Config:null,providers:["CETUS"],isBuyCryptoConfirm:!1,setIsBuyCryptoConfirm:et=>{s(()=>({isBuyCryptoConfirm:et}))},isTerm:!1,setIsTerm:et=>{s(()=>({isTerm:et}))},setProviders:et=>{s(()=>({providers:et}))},setDeepbookV3Config:et=>{s(()=>({deepbookV3Config:et}))},isSwapWidgetDisplay:!0,setIsSwapWidgetDisplay:et=>{s(()=>({isSwapWidgetDisplay:et}))},showSwapWidgetTips:!0,setShowSwapWidgetTips:et=>{s(()=>({showSwapWidgetTips:et}))}}),useWebConfigStore=create$3(persist(store$1,{name:"useWebConfigStore",version:3}));function useGlobalToast(){const{accumulateToastId:s}=useToastStore(),a=useToast({position:"top-right",duration:5e3,containerStyle:{maxW:"660px"}}),et=Ft=>Ft||`toast${s()}`;return{closeToast:Ft=>{a.close(Ft)},successTsToast:Ft=>{const{transactionId:jt}=Ft,Nt=et(jt);return a({id:Nt,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Nt,status:"success",onClose:()=>a.close(Nt)})}),Nt},failedTsToast:Ft=>{const{transactionId:jt}=Ft,Nt=et(jt);return a({id:Nt,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Nt,status:"rejected",onClose:()=>a.close(Nt)})}),Nt},submittedTsToast:Ft=>{const{transactionId:jt}=Ft,Nt=et(jt);return a({id:Nt,render:()=>jsxRuntimeExports.jsx(Toast,{...Ft,transactionId:Nt,status:"submitted",onClose:()=>a.close(Nt)})}),Nt},closeAllToast:()=>{a.closeAll()},customToast:Ft=>{const jt=et();return a({id:jt,render:()=>jsxRuntimeExports.jsx(CustomToast,{onClose:()=>a.close(jt),children:Ft})}),jt},showCommonToast:(Ft,jt="success",Nt)=>{const Lt=et(),Ut={getShowInfo:()=>({toastTitleText:Ft,toastDescriptionContent:Nt})};return a({id:Lt,render:()=>jsxRuntimeExports.jsx(Toast,{...Ut,transactionId:Lt,status:jt,onClose:()=>a.close(Lt)})}),Lt}}}var cryptoJs={exports:{}},core={exports:{}},cryptoBrowserify={},browser$d={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(s,a){var et=require$$1$3,nt=et.Buffer;function at(wt,$t){for(var Ct in wt)$t[Ct]=wt[Ct]}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?s.exports=et:(at(et,a),a.Buffer=mt);function mt(wt,$t,Ct){return nt(wt,$t,Ct)}mt.prototype=Object.create(nt.prototype),at(nt,mt),mt.from=function(wt,$t,Ct){if(typeof wt=="number")throw new TypeError("Argument must not be a number");return nt(wt,$t,Ct)},mt.alloc=function(wt,$t,Ct){if(typeof wt!="number")throw new TypeError("Argument must be a number");var Dt=nt(wt);return $t!==void 0?typeof Ct=="string"?Dt.fill($t,Ct):Dt.fill($t):Dt.fill(0),Dt},mt.allocUnsafe=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return nt(wt)},mt.allocUnsafeSlow=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(wt)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$d.exports;hasRequiredBrowser$b=1;var s=65536,a=4294967295;function et(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var nt=requireSafeBuffer$1().Buffer,at=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto;at&&at.getRandomValues?browser$d.exports=mt:browser$d.exports=et;function mt(wt,$t){if(wt>a)throw new RangeError("requested too many random bytes");var Ct=nt.allocUnsafe(wt);if(wt>0)if(wt>s)for(var Dt=0;Dt<wt;Dt+=s)at.getRandomValues(Ct.slice(Dt,Dt+s));else at.getRandomValues(Ct);return typeof $t=="function"?process$1.nextTick(function(){$t(null,Ct)}):Ct}return browser$d.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(a,et){et&&(a.super_=et,a.prototype=Object.create(et.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(a,et){if(et){a.super_=et;var nt=function(){};nt.prototype=et.prototype,a.prototype=new nt,a.prototype.constructor=a}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var s=typeof Reflect=="object"?Reflect:null,a=s&&typeof s.apply=="function"?s.apply:function(dr,br,vr){return Function.prototype.apply.call(dr,br,vr)},et;s&&typeof s.ownKeys=="function"?et=s.ownKeys:Object.getOwnPropertySymbols?et=function(dr){return Object.getOwnPropertyNames(dr).concat(Object.getOwnPropertySymbols(dr))}:et=function(dr){return Object.getOwnPropertyNames(dr)};function nt(sr){console&&console.warn&&console.warn(sr)}var at=Number.isNaN||function(dr){return dr!==dr};function mt(){mt.init.call(this)}events.exports=mt,events.exports.once=er,mt.EventEmitter=mt,mt.prototype._events=void 0,mt.prototype._eventsCount=0,mt.prototype._maxListeners=void 0;var wt=10;function $t(sr){if(typeof sr!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof sr)}Object.defineProperty(mt,"defaultMaxListeners",{enumerable:!0,get:function(){return wt},set:function(sr){if(typeof sr!="number"||sr<0||at(sr))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+sr+".");wt=sr}}),mt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},mt.prototype.setMaxListeners=function(dr){if(typeof dr!="number"||dr<0||at(dr))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+dr+".");return this._maxListeners=dr,this};function Ct(sr){return sr._maxListeners===void 0?mt.defaultMaxListeners:sr._maxListeners}mt.prototype.getMaxListeners=function(){return Ct(this)},mt.prototype.emit=function(dr){for(var br=[],vr=1;vr<arguments.length;vr++)br.push(arguments[vr]);var yr=dr==="error",$r=this._events;if($r!==void 0)yr=yr&&$r.error===void 0;else if(!yr)return!1;if(yr){var Sr;if(br.length>0&&(Sr=br[0]),Sr instanceof Error)throw Sr;var wr=new Error("Unhandled error."+(Sr?" ("+Sr.message+")":""));throw wr.context=Sr,wr}var fr=$r[dr];if(fr===void 0)return!1;if(typeof fr=="function")a(fr,this,br);else for(var _r=fr.length,ir=Ut(fr,_r),vr=0;vr<_r;++vr)a(ir[vr],this,br);return!0};function Dt(sr,dr,br,vr){var yr,$r,Sr;if($t(br),$r=sr._events,$r===void 0?($r=sr._events=Object.create(null),sr._eventsCount=0):($r.newListener!==void 0&&(sr.emit("newListener",dr,br.listener?br.listener:br),$r=sr._events),Sr=$r[dr]),Sr===void 0)Sr=$r[dr]=br,++sr._eventsCount;else if(typeof Sr=="function"?Sr=$r[dr]=vr?[br,Sr]:[Sr,br]:vr?Sr.unshift(br):Sr.push(br),yr=Ct(sr),yr>0&&Sr.length>yr&&!Sr.warned){Sr.warned=!0;var wr=new Error("Possible EventEmitter memory leak detected. "+Sr.length+" "+String(dr)+" listeners added. Use emitter.setMaxListeners() to increase limit");wr.name="MaxListenersExceededWarning",wr.emitter=sr,wr.type=dr,wr.count=Sr.length,nt(wr)}return sr}mt.prototype.addListener=function(dr,br){return Dt(this,dr,br,!1)},mt.prototype.on=mt.prototype.addListener,mt.prototype.prependListener=function(dr,br){return Dt(this,dr,br,!0)};function Ft(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function jt(sr,dr,br){var vr={fired:!1,wrapFn:void 0,target:sr,type:dr,listener:br},yr=Ft.bind(vr);return yr.listener=br,vr.wrapFn=yr,yr}mt.prototype.once=function(dr,br){return $t(br),this.on(dr,jt(this,dr,br)),this},mt.prototype.prependOnceListener=function(dr,br){return $t(br),this.prependListener(dr,jt(this,dr,br)),this},mt.prototype.removeListener=function(dr,br){var vr,yr,$r,Sr,wr;if($t(br),yr=this._events,yr===void 0)return this;if(vr=yr[dr],vr===void 0)return this;if(vr===br||vr.listener===br)--this._eventsCount===0?this._events=Object.create(null):(delete yr[dr],yr.removeListener&&this.emit("removeListener",dr,vr.listener||br));else if(typeof vr!="function"){for($r=-1,Sr=vr.length-1;Sr>=0;Sr--)if(vr[Sr]===br||vr[Sr].listener===br){wr=vr[Sr].listener,$r=Sr;break}if($r<0)return this;$r===0?vr.shift():Vt(vr,$r),vr.length===1&&(yr[dr]=vr[0]),yr.removeListener!==void 0&&this.emit("removeListener",dr,wr||br)}return this},mt.prototype.off=mt.prototype.removeListener,mt.prototype.removeAllListeners=function(dr){var br,vr,yr;if(vr=this._events,vr===void 0)return this;if(vr.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):vr[dr]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete vr[dr]),this;if(arguments.length===0){var $r=Object.keys(vr),Sr;for(yr=0;yr<$r.length;++yr)Sr=$r[yr],Sr!=="removeListener"&&this.removeAllListeners(Sr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(br=vr[dr],typeof br=="function")this.removeListener(dr,br);else if(br!==void 0)for(yr=br.length-1;yr>=0;yr--)this.removeListener(dr,br[yr]);return this};function Nt(sr,dr,br){var vr=sr._events;if(vr===void 0)return[];var yr=vr[dr];return yr===void 0?[]:typeof yr=="function"?br?[yr.listener||yr]:[yr]:br?Yt(yr):Ut(yr,yr.length)}mt.prototype.listeners=function(dr){return Nt(this,dr,!0)},mt.prototype.rawListeners=function(dr){return Nt(this,dr,!1)},mt.listenerCount=function(sr,dr){return typeof sr.listenerCount=="function"?sr.listenerCount(dr):Lt.call(sr,dr)},mt.prototype.listenerCount=Lt;function Lt(sr){var dr=this._events;if(dr!==void 0){var br=dr[sr];if(typeof br=="function")return 1;if(br!==void 0)return br.length}return 0}mt.prototype.eventNames=function(){return this._eventsCount>0?et(this._events):[]};function Ut(sr,dr){for(var br=new Array(dr),vr=0;vr<dr;++vr)br[vr]=sr[vr];return br}function Vt(sr,dr){for(;dr+1<sr.length;dr++)sr[dr]=sr[dr+1];sr.pop()}function Yt(sr){for(var dr=new Array(sr.length),br=0;br<dr.length;++br)dr[br]=sr[br].listener||sr[br];return dr}function er(sr,dr){return new Promise(function(br,vr){function yr(Sr){sr.removeListener(dr,$r),vr(Sr)}function $r(){typeof sr.removeListener=="function"&&sr.removeListener("error",yr),br([].slice.call(arguments))}nr(sr,dr,$r,{once:!0}),dr!=="error"&&tr(sr,yr,{once:!0})})}function tr(sr,dr,br){typeof sr.on=="function"&&nr(sr,"error",dr,br)}function nr(sr,dr,br,vr){if(typeof sr.on=="function")vr.once?sr.once(dr,br):sr.on(dr,br);else if(typeof sr.addEventListener=="function")sr.addEventListener(dr,function yr($r){vr.once&&sr.removeEventListener(dr,yr),br($r)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof sr)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$4={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},et=Symbol("test"),nt=Object(et);if(typeof et=="string"||Object.prototype.toString.call(et)!=="[object Symbol]"||Object.prototype.toString.call(nt)!=="[object Symbol]")return!1;var at=42;a[et]=at;for(var mt in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var wt=Object.getOwnPropertySymbols(a);if(wt.length!==1||wt[0]!==et||!Object.prototype.propertyIsEnumerable.call(a,et))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var $t=Object.getOwnPropertyDescriptor(a,et);if($t.value!==at||$t.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var s=requireShams$1();return shams=function(){return s()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(a){return a!==a}),_isNaN}var sign$1,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$1;hasRequiredSign$1=1;var s=require_isNaN();return sign$1=function(et){return s(et)||et===0?et:et<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var s=requireGOPD();if(s)try{s([],"length")}catch{s=null}return gopd=s,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return esDefineProperty=s,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var s=typeof Symbol<"u"&&Symbol,a=requireShams$1();return hasSymbols=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var s=requireEsObjectAtoms();return Object_getPrototypeOf=s.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var s="Function.prototype.bind called on incompatible ",a=Object.prototype.toString,et=Math.max,nt="[object Function]",at=function(Ct,Dt){for(var Ft=[],jt=0;jt<Ct.length;jt+=1)Ft[jt]=Ct[jt];for(var Nt=0;Nt<Dt.length;Nt+=1)Ft[Nt+Ct.length]=Dt[Nt];return Ft},mt=function(Ct,Dt){for(var Ft=[],jt=Dt,Nt=0;jt<Ct.length;jt+=1,Nt+=1)Ft[Nt]=Ct[jt];return Ft},wt=function($t,Ct){for(var Dt="",Ft=0;Ft<$t.length;Ft+=1)Dt+=$t[Ft],Ft+1<$t.length&&(Dt+=Ct);return Dt};return implementation=function(Ct){var Dt=this;if(typeof Dt!="function"||a.apply(Dt)!==nt)throw new TypeError(s+Dt);for(var Ft=mt(arguments,1),jt,Nt=function(){if(this instanceof jt){var er=Dt.apply(this,at(Ft,arguments));return Object(er)===er?er:this}return Dt.apply(Ct,at(Ft,arguments))},Lt=et(0,Dt.length-Ft.length),Ut=[],Vt=0;Vt<Lt;Vt++)Ut[Vt]="$"+Vt;if(jt=Function("binder","return function ("+wt(Ut,",")+"){ return binder.apply(this,arguments); }")(Nt),Dt.prototype){var Yt=function(){};Yt.prototype=Dt.prototype,jt.prototype=new Yt,Yt.prototype=null}return jt},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var s=requireImplementation();return functionBind=Function.prototype.bind||s,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var s=requireFunctionBind(),a=requireFunctionApply(),et=requireFunctionCall(),nt=requireReflectApply();return actualApply=nt||s.call(et,a),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var s=requireFunctionBind(),a=requireType(),et=requireFunctionCall(),nt=requireActualApply();return callBindApplyHelpers=function(mt){if(mt.length<1||typeof mt[0]!="function")throw new a("a function is required");return nt(s,et,mt)},callBindApplyHelpers}var get$1,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$1;hasRequiredGet=1;var s=requireCallBindApplyHelpers(),a=requireGopd(),et;try{et=[].__proto__===Array.prototype}catch(wt){if(!wt||typeof wt!="object"||!("code"in wt)||wt.code!=="ERR_PROTO_ACCESS")throw wt}var nt=!!et&&a&&a(Object.prototype,"__proto__"),at=Object,mt=at.getPrototypeOf;return get$1=nt&&typeof nt.get=="function"?s([nt.get]):typeof mt=="function"?function($t){return mt($t==null?$t:at($t))}:!1,get$1}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var s=requireReflect_getPrototypeOf(),a=requireObject_getPrototypeOf(),et=requireGet();return getProto=s?function(at){return s(at)}:a?function(at){if(!at||typeof at!="object"&&typeof at!="function")throw new TypeError("getProto: not an object");return a(at)}:et?function(at){return et(at)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var s=Function.prototype.call,a=Object.prototype.hasOwnProperty,et=requireFunctionBind();return hasown=et.call(s,a),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var s,a=requireEsObjectAtoms(),et=requireEsErrors(),nt=require_eval(),at=requireRange(),mt=requireRef(),wt=requireSyntax(),$t=requireType(),Ct=requireUri(),Dt=requireAbs(),Ft=requireFloor(),jt=requireMax(),Nt=requireMin(),Lt=requirePow(),Ut=requireRound(),Vt=requireSign$1(),Yt=Function,er=function(qr){try{return Yt('"use strict"; return ('+qr+").constructor;")()}catch{}},tr=requireGopd(),nr=requireEsDefineProperty(),sr=function(){throw new $t},dr=tr?function(){try{return arguments.callee,sr}catch{try{return tr(arguments,"callee").get}catch{return sr}}}():sr,br=requireHasSymbols()(),vr=requireGetProto(),yr=requireObject_getPrototypeOf(),$r=requireReflect_getPrototypeOf(),Sr=requireFunctionApply(),wr=requireFunctionCall(),fr={},_r=typeof Uint8Array>"u"||!vr?s:vr(Uint8Array),ir={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":br&&vr?vr([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":fr,"%AsyncGenerator%":fr,"%AsyncGeneratorFunction%":fr,"%AsyncIteratorPrototype%":fr,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":et,"%eval%":eval,"%EvalError%":nt,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":Yt,"%GeneratorFunction%":fr,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":br&&vr?vr(vr([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!br||!vr?s:vr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":a,"%Object.getOwnPropertyDescriptor%":tr,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":at,"%ReferenceError%":mt,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!br||!vr?s:vr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":br&&vr?vr(""[Symbol.iterator]()):s,"%Symbol%":br?Symbol:s,"%SyntaxError%":wt,"%ThrowTypeError%":dr,"%TypedArray%":_r,"%TypeError%":$t,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":Ct,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":wr,"%Function.prototype.apply%":Sr,"%Object.defineProperty%":nr,"%Object.getPrototypeOf%":yr,"%Math.abs%":Dt,"%Math.floor%":Ft,"%Math.max%":jt,"%Math.min%":Nt,"%Math.pow%":Lt,"%Math.round%":Ut,"%Math.sign%":Vt,"%Reflect.getPrototypeOf%":$r};if(vr)try{null.error}catch(qr){var rr=vr(vr(qr));ir["%Error.prototype%"]=rr}var or=function qr(Rr){var Tr;if(Rr==="%AsyncFunction%")Tr=er("async function () {}");else if(Rr==="%GeneratorFunction%")Tr=er("function* () {}");else if(Rr==="%AsyncGeneratorFunction%")Tr=er("async function* () {}");else if(Rr==="%AsyncGenerator%"){var Er=qr("%AsyncGeneratorFunction%");Er&&(Tr=Er.prototype)}else if(Rr==="%AsyncIteratorPrototype%"){var Br=qr("%AsyncGenerator%");Br&&vr&&(Tr=vr(Br.prototype))}return ir[Rr]=Tr,Tr},ar={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ur=requireFunctionBind(),pr=requireHasown(),cr=ur.call(wr,Array.prototype.concat),gr=ur.call(Sr,Array.prototype.splice),hr=ur.call(wr,String.prototype.replace),lr=ur.call(wr,String.prototype.slice),xr=ur.call(wr,RegExp.prototype.exec),Mr=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pr=/\\(\\)?/g,Ar=function(Rr){var Tr=lr(Rr,0,1),Er=lr(Rr,-1);if(Tr==="%"&&Er!=="%")throw new wt("invalid intrinsic syntax, expected closing `%`");if(Er==="%"&&Tr!=="%")throw new wt("invalid intrinsic syntax, expected opening `%`");var Br=[];return hr(Rr,Mr,function(Nr,zr,Hr,jr){Br[Br.length]=Hr?hr(jr,Pr,"$1"):zr||Nr}),Br},Ir=function(Rr,Tr){var Er=Rr,Br;if(pr(ar,Er)&&(Br=ar[Er],Er="%"+Br[0]+"%"),pr(ir,Er)){var Nr=ir[Er];if(Nr===fr&&(Nr=or(Er)),typeof Nr>"u"&&!Tr)throw new $t("intrinsic "+Rr+" exists, but is not available. Please file an issue!");return{alias:Br,name:Er,value:Nr}}throw new wt("intrinsic "+Rr+" does not exist!")};return getIntrinsic=function(Rr,Tr){if(typeof Rr!="string"||Rr.length===0)throw new $t("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Tr!="boolean")throw new $t('"allowMissing" argument must be a boolean');if(xr(/^%?[^%]*%?$/,Rr)===null)throw new wt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Er=Ar(Rr),Br=Er.length>0?Er[0]:"",Nr=Ir("%"+Br+"%",Tr),zr=Nr.name,Hr=Nr.value,jr=!1,Ur=Nr.alias;Ur&&(Br=Ur[0],gr(Er,cr([0,1],Ur)));for(var Fr=1,Gr=!0;Fr<Er.length;Fr+=1){var Wr=Er[Fr],nn=lr(Wr,0,1),Ln=lr(Wr,-1);if((nn==='"'||nn==="'"||nn==="`"||Ln==='"'||Ln==="'"||Ln==="`")&&nn!==Ln)throw new wt("property names with quotes must have matching quotes");if((Wr==="constructor"||!Gr)&&(jr=!0),Br+="."+Wr,zr="%"+Br+"%",pr(ir,zr))Hr=ir[zr];else if(Hr!=null){if(!(Wr in Hr)){if(!Tr)throw new $t("base intrinsic for "+Rr+" exists, but the property is not available.");return}if(tr&&Fr+1>=Er.length){var Un=tr(Hr,Wr);Gr=!!Un,Gr&&"get"in Un&&!("originalValue"in Un.get)?Hr=Un.get:Hr=Hr[Wr]}else Gr=pr(Hr,Wr),Hr=Hr[Wr];Gr&&!jr&&(ir[zr]=Hr)}}return Hr},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var s=requireGetIntrinsic(),a=requireCallBindApplyHelpers(),et=a([s("%String.prototype.indexOf%")]);return callBound=function(at,mt){var wt=s(at,!!mt);return typeof wt=="function"&&et(at,".prototype.")>-1?a([wt]):wt},callBound}var isArguments$1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$1;hasRequiredIsArguments=1;var s=requireShams()(),a=requireCallBound(),et=a("Object.prototype.toString"),nt=function($t){return s&&$t&&typeof $t=="object"&&Symbol.toStringTag in $t?!1:et($t)==="[object Arguments]"},at=function($t){return nt($t)?!0:$t!==null&&typeof $t=="object"&&"length"in $t&&typeof $t.length=="number"&&$t.length>=0&&et($t)!=="[object Array]"&&"callee"in $t&&et($t.callee)==="[object Function]"},mt=function(){return nt(arguments)}();return nt.isLegacyArguments=at,isArguments$1=mt?nt:at,isArguments$1}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var s=requireCallBound(),a=requireShams()(),et=requireHasown(),nt=requireGopd(),at;if(a){var mt=s("RegExp.prototype.exec"),wt={},$t=function(){throw wt},Ct={toString:$t,valueOf:$t};typeof Symbol.toPrimitive=="symbol"&&(Ct[Symbol.toPrimitive]=$t),at=function(Nt){if(!Nt||typeof Nt!="object")return!1;var Lt=nt(Nt,"lastIndex"),Ut=Lt&&et(Lt,"value");if(!Ut)return!1;try{mt(Nt,Ct)}catch(Vt){return Vt===wt}}}else{var Dt=s("Object.prototype.toString"),Ft="[object RegExp]";at=function(Nt){return!Nt||typeof Nt!="object"&&typeof Nt!="function"?!1:Dt(Nt)===Ft}}return isRegex=at,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var s=requireCallBound(),a=requireIsRegex(),et=s("RegExp.prototype.exec"),nt=requireType();return safeRegexTest=function(mt){if(!a(mt))throw new nt("`regex` must be a RegExp");return function($t){return et(mt,$t)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var s=requireCallBound(),a=requireSafeRegexTest(),et=a(/^\s*(?:function)?\*/),nt=requireShams()(),at=requireGetProto(),mt=s("Object.prototype.toString"),wt=s("Function.prototype.toString"),$t=function(){if(!nt)return!1;try{return Function("return function*() {}")()}catch{}},Ct;return isGeneratorFunction=function(Ft){if(typeof Ft!="function")return!1;if(et(wt(Ft)))return!0;if(!nt){var jt=mt(Ft);return jt==="[object GeneratorFunction]"}if(!at)return!1;if(typeof Ct>"u"){var Nt=$t();Ct=Nt?at(Nt):!1}return at(Ft)===Ct},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var s=Function.prototype.toString,a=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,et,nt;if(typeof a=="function"&&typeof Object.defineProperty=="function")try{et=Object.defineProperty({},"length",{get:function(){throw nt}}),nt={},a(function(){throw 42},null,et)}catch(tr){tr!==nt&&(a=null)}else a=null;var at=/^\s*class\b/,mt=function(nr){try{var sr=s.call(nr);return at.test(sr)}catch{return!1}},wt=function(nr){try{return mt(nr)?!1:(s.call(nr),!0)}catch{return!1}},$t=Object.prototype.toString,Ct="[object Object]",Dt="[object Function]",Ft="[object GeneratorFunction]",jt="[object HTMLAllCollection]",Nt="[object HTML document.all class]",Lt="[object HTMLCollection]",Ut=typeof Symbol=="function"&&!!Symbol.toStringTag,Vt=!(0 in[,]),Yt=function(){return!1};if(typeof document=="object"){var er=document.all;$t.call(er)===$t.call(document.all)&&(Yt=function(nr){if((Vt||!nr)&&(typeof nr>"u"||typeof nr=="object"))try{var sr=$t.call(nr);return(sr===jt||sr===Nt||sr===Lt||sr===Ct)&&nr("")==null}catch{}return!1})}return isCallable=a?function(nr){if(Yt(nr))return!0;if(!nr||typeof nr!="function"&&typeof nr!="object")return!1;try{a(nr,null,et)}catch(sr){if(sr!==nt)return!1}return!mt(nr)&&wt(nr)}:function(nr){if(Yt(nr))return!0;if(!nr||typeof nr!="function"&&typeof nr!="object")return!1;if(Ut)return wt(nr);if(mt(nr))return!1;var sr=$t.call(nr);return sr!==Dt&&sr!==Ft&&!/^\[object HTML/.test(sr)?!1:wt(nr)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var s=requireIsCallable(),a=Object.prototype.toString,et=Object.prototype.hasOwnProperty,nt=function(Ct,Dt,Ft){for(var jt=0,Nt=Ct.length;jt<Nt;jt++)et.call(Ct,jt)&&(Ft==null?Dt(Ct[jt],jt,Ct):Dt.call(Ft,Ct[jt],jt,Ct))},at=function(Ct,Dt,Ft){for(var jt=0,Nt=Ct.length;jt<Nt;jt++)Ft==null?Dt(Ct.charAt(jt),jt,Ct):Dt.call(Ft,Ct.charAt(jt),jt,Ct)},mt=function(Ct,Dt,Ft){for(var jt in Ct)et.call(Ct,jt)&&(Ft==null?Dt(Ct[jt],jt,Ct):Dt.call(Ft,Ct[jt],jt,Ct))};function wt($t){return a.call($t)==="[object Array]"}return forEach=function(Ct,Dt,Ft){if(!s(Dt))throw new TypeError("iterator must be a function");var jt;arguments.length>=3&&(jt=Ft),wt(Ct)?nt(Ct,Dt,jt):typeof Ct=="string"?at(Ct,Dt,jt):mt(Ct,Dt,jt)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var s=requirePossibleTypedArrayNames(),a=typeof globalThis>"u"?commonjsGlobal$1:globalThis;return availableTypedArrays=function(){for(var nt=[],at=0;at<s.length;at++)typeof a[s[at]]=="function"&&(nt[nt.length]=s[at]);return nt},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var s=requireEsDefineProperty(),a=requireSyntax(),et=requireType(),nt=requireGopd();return defineDataProperty=function(mt,wt,$t){if(!mt||typeof mt!="object"&&typeof mt!="function")throw new et("`obj` must be an object or a function`");if(typeof wt!="string"&&typeof wt!="symbol")throw new et("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new et("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new et("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new et("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new et("`loose`, if provided, must be a boolean");var Ct=arguments.length>3?arguments[3]:null,Dt=arguments.length>4?arguments[4]:null,Ft=arguments.length>5?arguments[5]:null,jt=arguments.length>6?arguments[6]:!1,Nt=!!nt&&nt(mt,wt);if(s)s(mt,wt,{configurable:Ft===null&&Nt?Nt.configurable:!Ft,enumerable:Ct===null&&Nt?Nt.enumerable:!Ct,value:$t,writable:Dt===null&&Nt?Nt.writable:!Dt});else if(jt||!Ct&&!Dt&&!Ft)mt[wt]=$t;else throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var s=requireEsDefineProperty(),a=function(){return!!s};return a.hasArrayLengthDefineBug=function(){if(!s)return null;try{return s([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=a,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var s=requireGetIntrinsic(),a=requireDefineDataProperty(),et=requireHasPropertyDescriptors()(),nt=requireGopd(),at=requireType(),mt=s("%Math.floor%");return setFunctionLength=function($t,Ct){if(typeof $t!="function")throw new at("`fn` is not a function");if(typeof Ct!="number"||Ct<0||Ct>4294967295||mt(Ct)!==Ct)throw new at("`length` must be a positive 32-bit integer");var Dt=arguments.length>2&&!!arguments[2],Ft=!0,jt=!0;if("length"in $t&&nt){var Nt=nt($t,"length");Nt&&!Nt.configurable&&(Ft=!1),Nt&&!Nt.writable&&(jt=!1)}return(Ft||jt||!Dt)&&(et?a($t,"length",Ct,!0,!0):a($t,"length",Ct)),$t},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var s=requireFunctionBind(),a=requireFunctionApply(),et=requireActualApply();return applyBind=function(){return et(s,a,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(s){var a=requireSetFunctionLength(),et=requireEsDefineProperty(),nt=requireCallBindApplyHelpers(),at=requireApplyBind();s.exports=function(wt){var $t=nt(arguments),Ct=wt.length-(arguments.length-1);return a($t,1+(Ct>0?Ct:0),!0)},et?et(s.exports,"apply",{value:at}):s.exports.apply=at}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var s=requireForEach(),a=requireAvailableTypedArrays(),et=requireCallBind(),nt=requireCallBound(),at=requireGopd(),mt=requireGetProto(),wt=nt("Object.prototype.toString"),$t=requireShams()(),Ct=typeof globalThis>"u"?commonjsGlobal$1:globalThis,Dt=a(),Ft=nt("String.prototype.slice"),jt=nt("Array.prototype.indexOf",!0)||function(Yt,er){for(var tr=0;tr<Yt.length;tr+=1)if(Yt[tr]===er)return tr;return-1},Nt={__proto__:null};$t&&at&&mt?s(Dt,function(Vt){var Yt=new Ct[Vt];if(Symbol.toStringTag in Yt&&mt){var er=mt(Yt),tr=at(er,Symbol.toStringTag);if(!tr&&er){var nr=mt(er);tr=at(nr,Symbol.toStringTag)}Nt["$"+Vt]=et(tr.get)}}):s(Dt,function(Vt){var Yt=new Ct[Vt],er=Yt.slice||Yt.set;er&&(Nt["$"+Vt]=et(er))});var Lt=function(Yt){var er=!1;return s(Nt,function(tr,nr){if(!er)try{"$"+tr(Yt)===nr&&(er=Ft(nr,1))}catch{}}),er},Ut=function(Yt){var er=!1;return s(Nt,function(tr,nr){if(!er)try{tr(Yt),er=Ft(nr,1)}catch{}}),er};return whichTypedArray=function(Yt){if(!Yt||typeof Yt!="object")return!1;if(!$t){var er=Ft(wt(Yt),8,-1);return jt(Dt,er)>-1?er:er!=="Object"?!1:Ut(Yt)}return at?Lt(Yt):null},whichTypedArray}var isTypedArray$1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$1;hasRequiredIsTypedArray=1;var s=requireWhichTypedArray();return isTypedArray$1=function(et){return!!s(et)},isTypedArray$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(s){var a=requireIsArguments(),et=requireIsGeneratorFunction(),nt=requireWhichTypedArray(),at=requireIsTypedArray();function mt(Fr){return Fr.call.bind(Fr)}var wt=typeof BigInt<"u",$t=typeof Symbol<"u",Ct=mt(Object.prototype.toString),Dt=mt(Number.prototype.valueOf),Ft=mt(String.prototype.valueOf),jt=mt(Boolean.prototype.valueOf);if(wt)var Nt=mt(BigInt.prototype.valueOf);if($t)var Lt=mt(Symbol.prototype.valueOf);function Ut(Fr,Gr){if(typeof Fr!="object")return!1;try{return Gr(Fr),!0}catch{return!1}}s.isArgumentsObject=a,s.isGeneratorFunction=et,s.isTypedArray=at;function Vt(Fr){return typeof Promise<"u"&&Fr instanceof Promise||Fr!==null&&typeof Fr=="object"&&typeof Fr.then=="function"&&typeof Fr.catch=="function"}s.isPromise=Vt;function Yt(Fr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Fr):at(Fr)||lr(Fr)}s.isArrayBufferView=Yt;function er(Fr){return nt(Fr)==="Uint8Array"}s.isUint8Array=er;function tr(Fr){return nt(Fr)==="Uint8ClampedArray"}s.isUint8ClampedArray=tr;function nr(Fr){return nt(Fr)==="Uint16Array"}s.isUint16Array=nr;function sr(Fr){return nt(Fr)==="Uint32Array"}s.isUint32Array=sr;function dr(Fr){return nt(Fr)==="Int8Array"}s.isInt8Array=dr;function br(Fr){return nt(Fr)==="Int16Array"}s.isInt16Array=br;function vr(Fr){return nt(Fr)==="Int32Array"}s.isInt32Array=vr;function yr(Fr){return nt(Fr)==="Float32Array"}s.isFloat32Array=yr;function $r(Fr){return nt(Fr)==="Float64Array"}s.isFloat64Array=$r;function Sr(Fr){return nt(Fr)==="BigInt64Array"}s.isBigInt64Array=Sr;function wr(Fr){return nt(Fr)==="BigUint64Array"}s.isBigUint64Array=wr;function fr(Fr){return Ct(Fr)==="[object Map]"}fr.working=typeof Map<"u"&&fr(new Map);function _r(Fr){return typeof Map>"u"?!1:fr.working?fr(Fr):Fr instanceof Map}s.isMap=_r;function ir(Fr){return Ct(Fr)==="[object Set]"}ir.working=typeof Set<"u"&&ir(new Set);function rr(Fr){return typeof Set>"u"?!1:ir.working?ir(Fr):Fr instanceof Set}s.isSet=rr;function or(Fr){return Ct(Fr)==="[object WeakMap]"}or.working=typeof WeakMap<"u"&&or(new WeakMap);function ar(Fr){return typeof WeakMap>"u"?!1:or.working?or(Fr):Fr instanceof WeakMap}s.isWeakMap=ar;function ur(Fr){return Ct(Fr)==="[object WeakSet]"}ur.working=typeof WeakSet<"u"&&ur(new WeakSet);function pr(Fr){return ur(Fr)}s.isWeakSet=pr;function cr(Fr){return Ct(Fr)==="[object ArrayBuffer]"}cr.working=typeof ArrayBuffer<"u"&&cr(new ArrayBuffer);function gr(Fr){return typeof ArrayBuffer>"u"?!1:cr.working?cr(Fr):Fr instanceof ArrayBuffer}s.isArrayBuffer=gr;function hr(Fr){return Ct(Fr)==="[object DataView]"}hr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&hr(new DataView(new ArrayBuffer(1),0,1));function lr(Fr){return typeof DataView>"u"?!1:hr.working?hr(Fr):Fr instanceof DataView}s.isDataView=lr;var xr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Mr(Fr){return Ct(Fr)==="[object SharedArrayBuffer]"}function Pr(Fr){return typeof xr>"u"?!1:(typeof Mr.working>"u"&&(Mr.working=Mr(new xr)),Mr.working?Mr(Fr):Fr instanceof xr)}s.isSharedArrayBuffer=Pr;function Ar(Fr){return Ct(Fr)==="[object AsyncFunction]"}s.isAsyncFunction=Ar;function Ir(Fr){return Ct(Fr)==="[object Map Iterator]"}s.isMapIterator=Ir;function qr(Fr){return Ct(Fr)==="[object Set Iterator]"}s.isSetIterator=qr;function Rr(Fr){return Ct(Fr)==="[object Generator]"}s.isGeneratorObject=Rr;function Tr(Fr){return Ct(Fr)==="[object WebAssembly.Module]"}s.isWebAssemblyCompiledModule=Tr;function Er(Fr){return Ut(Fr,Dt)}s.isNumberObject=Er;function Br(Fr){return Ut(Fr,Ft)}s.isStringObject=Br;function Nr(Fr){return Ut(Fr,jt)}s.isBooleanObject=Nr;function zr(Fr){return wt&&Ut(Fr,Nt)}s.isBigIntObject=zr;function Hr(Fr){return $t&&Ut(Fr,Lt)}s.isSymbolObject=Hr;function jr(Fr){return Er(Fr)||Br(Fr)||Nr(Fr)||zr(Fr)||Hr(Fr)}s.isBoxedPrimitive=jr;function Ur(Fr){return typeof Uint8Array<"u"&&(gr(Fr)||Pr(Fr))}s.isAnyArrayBuffer=Ur,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Fr){Object.defineProperty(s,Fr,{enumerable:!1,value:function(){throw new Error(Fr+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(s){var a={},et=Object.getOwnPropertyDescriptors||function(xr){for(var Mr=Object.keys(xr),Pr={},Ar=0;Ar<Mr.length;Ar++)Pr[Mr[Ar]]=Object.getOwnPropertyDescriptor(xr,Mr[Ar]);return Pr},nt=/%[sdj%]/g;s.format=function(lr){if(!br(lr)){for(var xr=[],Mr=0;Mr<arguments.length;Mr++)xr.push($t(arguments[Mr]));return xr.join(" ")}for(var Mr=1,Pr=arguments,Ar=Pr.length,Ir=String(lr).replace(nt,function(Rr){if(Rr==="%%")return"%";if(Mr>=Ar)return Rr;switch(Rr){case"%s":return String(Pr[Mr++]);case"%d":return Number(Pr[Mr++]);case"%j":try{return JSON.stringify(Pr[Mr++])}catch{return"[Circular]"}default:return Rr}}),qr=Pr[Mr];Mr<Ar;qr=Pr[++Mr])nr(qr)||!Sr(qr)?Ir+=" "+qr:Ir+=" "+$t(qr);return Ir},s.deprecate=function(lr,xr){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return lr;if(typeof process$1>"u")return function(){return s.deprecate(lr,xr).apply(this,arguments)};var Mr=!1;function Pr(){if(!Mr){if(process$1.throwDeprecation)throw new Error(xr);process$1.traceDeprecation?console.trace(xr):console.error(xr),Mr=!0}return lr.apply(this,arguments)}return Pr};var at={},mt=/^$/;if(a.NODE_DEBUG){var wt=a.NODE_DEBUG;wt=wt.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),mt=new RegExp("^"+wt+"$","i")}s.debuglog=function(lr){if(lr=lr.toUpperCase(),!at[lr])if(mt.test(lr)){var xr=process$1.pid;at[lr]=function(){var Mr=s.format.apply(s,arguments);console.error("%s %d: %s",lr,xr,Mr)}}else at[lr]=function(){};return at[lr]};function $t(lr,xr){var Mr={seen:[],stylize:Dt};return arguments.length>=3&&(Mr.depth=arguments[2]),arguments.length>=4&&(Mr.colors=arguments[3]),tr(xr)?Mr.showHidden=xr:xr&&s._extend(Mr,xr),yr(Mr.showHidden)&&(Mr.showHidden=!1),yr(Mr.depth)&&(Mr.depth=2),yr(Mr.colors)&&(Mr.colors=!1),yr(Mr.customInspect)&&(Mr.customInspect=!0),Mr.colors&&(Mr.stylize=Ct),jt(Mr,lr,Mr.depth)}s.inspect=$t,$t.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$t.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function Ct(lr,xr){var Mr=$t.styles[xr];return Mr?"\x1B["+$t.colors[Mr][0]+"m"+lr+"\x1B["+$t.colors[Mr][1]+"m":lr}function Dt(lr,xr){return lr}function Ft(lr){var xr={};return lr.forEach(function(Mr,Pr){xr[Mr]=!0}),xr}function jt(lr,xr,Mr){if(lr.customInspect&&xr&&_r(xr.inspect)&&xr.inspect!==s.inspect&&!(xr.constructor&&xr.constructor.prototype===xr)){var Pr=xr.inspect(Mr,lr);return br(Pr)||(Pr=jt(lr,Pr,Mr)),Pr}var Ar=Nt(lr,xr);if(Ar)return Ar;var Ir=Object.keys(xr),qr=Ft(Ir);if(lr.showHidden&&(Ir=Object.getOwnPropertyNames(xr)),fr(xr)&&(Ir.indexOf("message")>=0||Ir.indexOf("description")>=0))return Lt(xr);if(Ir.length===0){if(_r(xr)){var Rr=xr.name?": "+xr.name:"";return lr.stylize("[Function"+Rr+"]","special")}if($r(xr))return lr.stylize(RegExp.prototype.toString.call(xr),"regexp");if(wr(xr))return lr.stylize(Date.prototype.toString.call(xr),"date");if(fr(xr))return Lt(xr)}var Tr="",Er=!1,Br=["{","}"];if(er(xr)&&(Er=!0,Br=["[","]"]),_r(xr)){var Nr=xr.name?": "+xr.name:"";Tr=" [Function"+Nr+"]"}if($r(xr)&&(Tr=" "+RegExp.prototype.toString.call(xr)),wr(xr)&&(Tr=" "+Date.prototype.toUTCString.call(xr)),fr(xr)&&(Tr=" "+Lt(xr)),Ir.length===0&&(!Er||xr.length==0))return Br[0]+Tr+Br[1];if(Mr<0)return $r(xr)?lr.stylize(RegExp.prototype.toString.call(xr),"regexp"):lr.stylize("[Object]","special");lr.seen.push(xr);var zr;return Er?zr=Ut(lr,xr,Mr,qr,Ir):zr=Ir.map(function(Hr){return Vt(lr,xr,Mr,qr,Hr,Er)}),lr.seen.pop(),Yt(zr,Tr,Br)}function Nt(lr,xr){if(yr(xr))return lr.stylize("undefined","undefined");if(br(xr)){var Mr="'"+JSON.stringify(xr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return lr.stylize(Mr,"string")}if(dr(xr))return lr.stylize(""+xr,"number");if(tr(xr))return lr.stylize(""+xr,"boolean");if(nr(xr))return lr.stylize("null","null")}function Lt(lr){return"["+Error.prototype.toString.call(lr)+"]"}function Ut(lr,xr,Mr,Pr,Ar){for(var Ir=[],qr=0,Rr=xr.length;qr<Rr;++qr)pr(xr,String(qr))?Ir.push(Vt(lr,xr,Mr,Pr,String(qr),!0)):Ir.push("");return Ar.forEach(function(Tr){Tr.match(/^\d+$/)||Ir.push(Vt(lr,xr,Mr,Pr,Tr,!0))}),Ir}function Vt(lr,xr,Mr,Pr,Ar,Ir){var qr,Rr,Tr;if(Tr=Object.getOwnPropertyDescriptor(xr,Ar)||{value:xr[Ar]},Tr.get?Tr.set?Rr=lr.stylize("[Getter/Setter]","special"):Rr=lr.stylize("[Getter]","special"):Tr.set&&(Rr=lr.stylize("[Setter]","special")),pr(Pr,Ar)||(qr="["+Ar+"]"),Rr||(lr.seen.indexOf(Tr.value)<0?(nr(Mr)?Rr=jt(lr,Tr.value,null):Rr=jt(lr,Tr.value,Mr-1),Rr.indexOf(`
`)>-1&&(Ir?Rr=Rr.split(`
`).map(function(Er){return"  "+Er}).join(`
`).slice(2):Rr=`
`+Rr.split(`
`).map(function(Er){return"   "+Er}).join(`
`))):Rr=lr.stylize("[Circular]","special")),yr(qr)){if(Ir&&Ar.match(/^\d+$/))return Rr;qr=JSON.stringify(""+Ar),qr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(qr=qr.slice(1,-1),qr=lr.stylize(qr,"name")):(qr=qr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),qr=lr.stylize(qr,"string"))}return qr+": "+Rr}function Yt(lr,xr,Mr){var Pr=lr.reduce(function(Ar,Ir){return Ir.indexOf(`
`)>=0,Ar+Ir.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Pr>60?Mr[0]+(xr===""?"":xr+`
 `)+" "+lr.join(`,
  `)+" "+Mr[1]:Mr[0]+xr+" "+lr.join(", ")+" "+Mr[1]}s.types=requireTypes();function er(lr){return Array.isArray(lr)}s.isArray=er;function tr(lr){return typeof lr=="boolean"}s.isBoolean=tr;function nr(lr){return lr===null}s.isNull=nr;function sr(lr){return lr==null}s.isNullOrUndefined=sr;function dr(lr){return typeof lr=="number"}s.isNumber=dr;function br(lr){return typeof lr=="string"}s.isString=br;function vr(lr){return typeof lr=="symbol"}s.isSymbol=vr;function yr(lr){return lr===void 0}s.isUndefined=yr;function $r(lr){return Sr(lr)&&rr(lr)==="[object RegExp]"}s.isRegExp=$r,s.types.isRegExp=$r;function Sr(lr){return typeof lr=="object"&&lr!==null}s.isObject=Sr;function wr(lr){return Sr(lr)&&rr(lr)==="[object Date]"}s.isDate=wr,s.types.isDate=wr;function fr(lr){return Sr(lr)&&(rr(lr)==="[object Error]"||lr instanceof Error)}s.isError=fr,s.types.isNativeError=fr;function _r(lr){return typeof lr=="function"}s.isFunction=_r;function ir(lr){return lr===null||typeof lr=="boolean"||typeof lr=="number"||typeof lr=="string"||typeof lr=="symbol"||typeof lr>"u"}s.isPrimitive=ir,s.isBuffer=requireIsBufferBrowser();function rr(lr){return Object.prototype.toString.call(lr)}function or(lr){return lr<10?"0"+lr.toString(10):lr.toString(10)}var ar=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ur(){var lr=new Date,xr=[or(lr.getHours()),or(lr.getMinutes()),or(lr.getSeconds())].join(":");return[lr.getDate(),ar[lr.getMonth()],xr].join(" ")}s.log=function(){console.log("%s - %s",ur(),s.format.apply(s,arguments))},s.inherits=requireInherits_browser(),s._extend=function(lr,xr){if(!xr||!Sr(xr))return lr;for(var Mr=Object.keys(xr),Pr=Mr.length;Pr--;)lr[Mr[Pr]]=xr[Mr[Pr]];return lr};function pr(lr,xr){return Object.prototype.hasOwnProperty.call(lr,xr)}var cr=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;s.promisify=function(xr){if(typeof xr!="function")throw new TypeError('The "original" argument must be of type Function');if(cr&&xr[cr]){var Mr=xr[cr];if(typeof Mr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Mr,cr,{value:Mr,enumerable:!1,writable:!1,configurable:!0}),Mr}function Mr(){for(var Pr,Ar,Ir=new Promise(function(Tr,Er){Pr=Tr,Ar=Er}),qr=[],Rr=0;Rr<arguments.length;Rr++)qr.push(arguments[Rr]);qr.push(function(Tr,Er){Tr?Ar(Tr):Pr(Er)});try{xr.apply(this,qr)}catch(Tr){Ar(Tr)}return Ir}return Object.setPrototypeOf(Mr,Object.getPrototypeOf(xr)),cr&&Object.defineProperty(Mr,cr,{value:Mr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Mr,et(xr))},s.promisify.custom=cr;function gr(lr,xr){if(!lr){var Mr=new Error("Promise was rejected with a falsy value");Mr.reason=lr,lr=Mr}return xr(lr)}function hr(lr){if(typeof lr!="function")throw new TypeError('The "original" argument must be of type Function');function xr(){for(var Mr=[],Pr=0;Pr<arguments.length;Pr++)Mr.push(arguments[Pr]);var Ar=Mr.pop();if(typeof Ar!="function")throw new TypeError("The last argument must be of type Function");var Ir=this,qr=function(){return Ar.apply(Ir,arguments)};lr.apply(this,Mr).then(function(Rr){process$1.nextTick(qr.bind(null,null,Rr))},function(Rr){process$1.nextTick(gr.bind(null,Rr,qr))})}return Object.setPrototypeOf(xr,Object.getPrototypeOf(lr)),Object.defineProperties(xr,et(lr)),xr}s.callbackify=hr}(util$4)),util$4}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function s(Ut,Vt){var Yt=Object.keys(Ut);if(Object.getOwnPropertySymbols){var er=Object.getOwnPropertySymbols(Ut);Vt&&(er=er.filter(function(tr){return Object.getOwnPropertyDescriptor(Ut,tr).enumerable})),Yt.push.apply(Yt,er)}return Yt}function a(Ut){for(var Vt=1;Vt<arguments.length;Vt++){var Yt=arguments[Vt]!=null?arguments[Vt]:{};Vt%2?s(Object(Yt),!0).forEach(function(er){et(Ut,er,Yt[er])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ut,Object.getOwnPropertyDescriptors(Yt)):s(Object(Yt)).forEach(function(er){Object.defineProperty(Ut,er,Object.getOwnPropertyDescriptor(Yt,er))})}return Ut}function et(Ut,Vt,Yt){return Vt=wt(Vt),Vt in Ut?Object.defineProperty(Ut,Vt,{value:Yt,enumerable:!0,configurable:!0,writable:!0}):Ut[Vt]=Yt,Ut}function nt(Ut,Vt){if(!(Ut instanceof Vt))throw new TypeError("Cannot call a class as a function")}function at(Ut,Vt){for(var Yt=0;Yt<Vt.length;Yt++){var er=Vt[Yt];er.enumerable=er.enumerable||!1,er.configurable=!0,"value"in er&&(er.writable=!0),Object.defineProperty(Ut,wt(er.key),er)}}function mt(Ut,Vt,Yt){return Vt&&at(Ut.prototype,Vt),Object.defineProperty(Ut,"prototype",{writable:!1}),Ut}function wt(Ut){var Vt=$t(Ut,"string");return typeof Vt=="symbol"?Vt:String(Vt)}function $t(Ut,Vt){if(typeof Ut!="object"||Ut===null)return Ut;var Yt=Ut[Symbol.toPrimitive];if(Yt!==void 0){var er=Yt.call(Ut,Vt);if(typeof er!="object")return er;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ut)}var Ct=require$$1$3,Dt=Ct.Buffer,Ft=requireUtil$1(),jt=Ft.inspect,Nt=jt&&jt.custom||"inspect";function Lt(Ut,Vt,Yt){Dt.prototype.copy.call(Ut,Vt,Yt)}return buffer_list=function(){function Ut(){nt(this,Ut),this.head=null,this.tail=null,this.length=0}return mt(Ut,[{key:"push",value:function(Yt){var er={data:Yt,next:null};this.length>0?this.tail.next=er:this.head=er,this.tail=er,++this.length}},{key:"unshift",value:function(Yt){var er={data:Yt,next:this.head};this.length===0&&(this.tail=er),this.head=er,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Yt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Yt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Yt){if(this.length===0)return"";for(var er=this.head,tr=""+er.data;er=er.next;)tr+=Yt+er.data;return tr}},{key:"concat",value:function(Yt){if(this.length===0)return Dt.alloc(0);for(var er=Dt.allocUnsafe(Yt>>>0),tr=this.head,nr=0;tr;)Lt(tr.data,er,nr),nr+=tr.data.length,tr=tr.next;return er}},{key:"consume",value:function(Yt,er){var tr;return Yt<this.head.data.length?(tr=this.head.data.slice(0,Yt),this.head.data=this.head.data.slice(Yt)):Yt===this.head.data.length?tr=this.shift():tr=er?this._getString(Yt):this._getBuffer(Yt),tr}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Yt){var er=this.head,tr=1,nr=er.data;for(Yt-=nr.length;er=er.next;){var sr=er.data,dr=Yt>sr.length?sr.length:Yt;if(dr===sr.length?nr+=sr:nr+=sr.slice(0,Yt),Yt-=dr,Yt===0){dr===sr.length?(++tr,er.next?this.head=er.next:this.head=this.tail=null):(this.head=er,er.data=sr.slice(dr));break}++tr}return this.length-=tr,nr}},{key:"_getBuffer",value:function(Yt){var er=Dt.allocUnsafe(Yt),tr=this.head,nr=1;for(tr.data.copy(er),Yt-=tr.data.length;tr=tr.next;){var sr=tr.data,dr=Yt>sr.length?sr.length:Yt;if(sr.copy(er,er.length-Yt,0,dr),Yt-=dr,Yt===0){dr===sr.length?(++nr,tr.next?this.head=tr.next:this.head=this.tail=null):(this.head=tr,tr.data=sr.slice(dr));break}++nr}return this.length-=nr,er}},{key:Nt,value:function(Yt,er){return jt(this,a(a({},er),{},{depth:0,customInspect:!1}))}}]),Ut}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function s(wt,$t){var Ct=this,Dt=this._readableState&&this._readableState.destroyed,Ft=this._writableState&&this._writableState.destroyed;return Dt||Ft?($t?$t(wt):wt&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(at,this,wt)):process$1.nextTick(at,this,wt)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(wt||null,function(jt){!$t&&jt?Ct._writableState?Ct._writableState.errorEmitted?process$1.nextTick(et,Ct):(Ct._writableState.errorEmitted=!0,process$1.nextTick(a,Ct,jt)):process$1.nextTick(a,Ct,jt):$t?(process$1.nextTick(et,Ct),$t(jt)):process$1.nextTick(et,Ct)}),this)}function a(wt,$t){at(wt,$t),et(wt)}function et(wt){wt._writableState&&!wt._writableState.emitClose||wt._readableState&&!wt._readableState.emitClose||wt.emit("close")}function nt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function at(wt,$t){wt.emit("error",$t)}function mt(wt,$t){var Ct=wt._readableState,Dt=wt._writableState;Ct&&Ct.autoDestroy||Dt&&Dt.autoDestroy?wt.destroy($t):wt.emit("error",$t)}return destroy_1$1={destroy:s,undestroy:nt,errorOrDestroy:mt},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function s($t,Ct){$t.prototype=Object.create(Ct.prototype),$t.prototype.constructor=$t,$t.__proto__=Ct}var a={};function et($t,Ct,Dt){Dt||(Dt=Error);function Ft(Nt,Lt,Ut){return typeof Ct=="string"?Ct:Ct(Nt,Lt,Ut)}var jt=function(Nt){s(Lt,Nt);function Lt(Ut,Vt,Yt){return Nt.call(this,Ft(Ut,Vt,Yt))||this}return Lt}(Dt);jt.prototype.name=Dt.name,jt.prototype.code=$t,a[$t]=jt}function nt($t,Ct){if(Array.isArray($t)){var Dt=$t.length;return $t=$t.map(function(Ft){return String(Ft)}),Dt>2?"one of ".concat(Ct," ").concat($t.slice(0,Dt-1).join(", "),", or ")+$t[Dt-1]:Dt===2?"one of ".concat(Ct," ").concat($t[0]," or ").concat($t[1]):"of ".concat(Ct," ").concat($t[0])}else return"of ".concat(Ct," ").concat(String($t))}function at($t,Ct,Dt){return $t.substr(0,Ct.length)===Ct}function mt($t,Ct,Dt){return(Dt===void 0||Dt>$t.length)&&(Dt=$t.length),$t.substring(Dt-Ct.length,Dt)===Ct}function wt($t,Ct,Dt){return typeof Dt!="number"&&(Dt=0),Dt+Ct.length>$t.length?!1:$t.indexOf(Ct,Dt)!==-1}return et("ERR_INVALID_OPT_VALUE",function($t,Ct){return'The value "'+Ct+'" is invalid for option "'+$t+'"'},TypeError),et("ERR_INVALID_ARG_TYPE",function($t,Ct,Dt){var Ft;typeof Ct=="string"&&at(Ct,"not ")?(Ft="must not be",Ct=Ct.replace(/^not /,"")):Ft="must be";var jt;if(mt($t," argument"))jt="The ".concat($t," ").concat(Ft," ").concat(nt(Ct,"type"));else{var Nt=wt($t,".")?"property":"argument";jt='The "'.concat($t,'" ').concat(Nt," ").concat(Ft," ").concat(nt(Ct,"type"))}return jt+=". Received type ".concat(typeof Dt),jt},TypeError),et("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),et("ERR_METHOD_NOT_IMPLEMENTED",function($t){return"The "+$t+" method is not implemented"}),et("ERR_STREAM_PREMATURE_CLOSE","Premature close"),et("ERR_STREAM_DESTROYED",function($t){return"Cannot call "+$t+" after a stream was destroyed"}),et("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),et("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),et("ERR_STREAM_WRITE_AFTER_END","write after end"),et("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),et("ERR_UNKNOWN_ENCODING",function($t){return"Unknown encoding: "+$t},TypeError),et("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=a,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var s=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function a(nt,at,mt){return nt.highWaterMark!=null?nt.highWaterMark:at?nt[mt]:null}function et(nt,at,mt,wt){var $t=a(at,wt,mt);if($t!=null){if(!(isFinite($t)&&Math.floor($t)===$t)||$t<0){var Ct=wt?mt:"highWaterMark";throw new s(Ct,$t)}return Math.floor($t)}return nt.objectMode?16:16*1024}return state={getHighWaterMark:et},state}var browser$c,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$c;hasRequiredBrowser$a=1,browser$c=s;function s(et,nt){if(a("noDeprecation"))return et;var at=!1;function mt(){if(!at){if(a("throwDeprecation"))throw new Error(nt);a("traceDeprecation")?console.trace(nt):console.warn(nt),at=!0}return et.apply(this,arguments)}return mt}function a(et){try{if(!commonjsGlobal$1.localStorage)return!1}catch{return!1}var nt=commonjsGlobal$1.localStorage[et];return nt==null?!1:String(nt).toLowerCase()==="true"}return browser$c}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=yr;function s(Pr){var Ar=this;this.next=null,this.entry=null,this.finish=function(){Mr(Ar,Pr)}}var a;yr.WritableState=br;var et={deprecate:requireBrowser$a()},nt=requireStreamBrowser$1(),at=require$$1$3.Buffer,mt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function wt(Pr){return at.from(Pr)}function $t(Pr){return at.isBuffer(Pr)||Pr instanceof mt}var Ct=requireDestroy$1(),Dt=requireState(),Ft=Dt.getHighWaterMark,jt=requireErrorsBrowser().codes,Nt=jt.ERR_INVALID_ARG_TYPE,Lt=jt.ERR_METHOD_NOT_IMPLEMENTED,Ut=jt.ERR_MULTIPLE_CALLBACK,Vt=jt.ERR_STREAM_CANNOT_PIPE,Yt=jt.ERR_STREAM_DESTROYED,er=jt.ERR_STREAM_NULL_VALUES,tr=jt.ERR_STREAM_WRITE_AFTER_END,nr=jt.ERR_UNKNOWN_ENCODING,sr=Ct.errorOrDestroy;requireInherits_browser()(yr,nt);function dr(){}function br(Pr,Ar,Ir){a=a||require_stream_duplex$1(),Pr=Pr||{},typeof Ir!="boolean"&&(Ir=Ar instanceof a),this.objectMode=!!Pr.objectMode,Ir&&(this.objectMode=this.objectMode||!!Pr.writableObjectMode),this.highWaterMark=Ft(this,Pr,"writableHighWaterMark",Ir),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var qr=Pr.decodeStrings===!1;this.decodeStrings=!qr,this.defaultEncoding=Pr.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Rr){or(Ar,Rr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Pr.emitClose!==!1,this.autoDestroy=!!Pr.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}br.prototype.getBuffer=function(){for(var Ar=this.bufferedRequest,Ir=[];Ar;)Ir.push(Ar),Ar=Ar.next;return Ir},function(){try{Object.defineProperty(br.prototype,"buffer",{get:et.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var vr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(vr=Function.prototype[Symbol.hasInstance],Object.defineProperty(yr,Symbol.hasInstance,{value:function(Ar){return vr.call(this,Ar)?!0:this!==yr?!1:Ar&&Ar._writableState instanceof br}})):vr=function(Ar){return Ar instanceof this};function yr(Pr){a=a||require_stream_duplex$1();var Ar=this instanceof a;if(!Ar&&!vr.call(yr,this))return new yr(Pr);this._writableState=new br(Pr,this,Ar),this.writable=!0,Pr&&(typeof Pr.write=="function"&&(this._write=Pr.write),typeof Pr.writev=="function"&&(this._writev=Pr.writev),typeof Pr.destroy=="function"&&(this._destroy=Pr.destroy),typeof Pr.final=="function"&&(this._final=Pr.final)),nt.call(this)}yr.prototype.pipe=function(){sr(this,new Vt)};function $r(Pr,Ar){var Ir=new tr;sr(Pr,Ir),process$1.nextTick(Ar,Ir)}function Sr(Pr,Ar,Ir,qr){var Rr;return Ir===null?Rr=new er:typeof Ir!="string"&&!Ar.objectMode&&(Rr=new Nt("chunk",["string","Buffer"],Ir)),Rr?(sr(Pr,Rr),process$1.nextTick(qr,Rr),!1):!0}yr.prototype.write=function(Pr,Ar,Ir){var qr=this._writableState,Rr=!1,Tr=!qr.objectMode&&$t(Pr);return Tr&&!at.isBuffer(Pr)&&(Pr=wt(Pr)),typeof Ar=="function"&&(Ir=Ar,Ar=null),Tr?Ar="buffer":Ar||(Ar=qr.defaultEncoding),typeof Ir!="function"&&(Ir=dr),qr.ending?$r(this,Ir):(Tr||Sr(this,qr,Pr,Ir))&&(qr.pendingcb++,Rr=fr(this,qr,Tr,Pr,Ar,Ir)),Rr},yr.prototype.cork=function(){this._writableState.corked++},yr.prototype.uncork=function(){var Pr=this._writableState;Pr.corked&&(Pr.corked--,!Pr.writing&&!Pr.corked&&!Pr.bufferProcessing&&Pr.bufferedRequest&&pr(this,Pr))},yr.prototype.setDefaultEncoding=function(Ar){if(typeof Ar=="string"&&(Ar=Ar.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ar+"").toLowerCase())>-1))throw new nr(Ar);return this._writableState.defaultEncoding=Ar,this},Object.defineProperty(yr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function wr(Pr,Ar,Ir){return!Pr.objectMode&&Pr.decodeStrings!==!1&&typeof Ar=="string"&&(Ar=at.from(Ar,Ir)),Ar}Object.defineProperty(yr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function fr(Pr,Ar,Ir,qr,Rr,Tr){if(!Ir){var Er=wr(Ar,qr,Rr);qr!==Er&&(Ir=!0,Rr="buffer",qr=Er)}var Br=Ar.objectMode?1:qr.length;Ar.length+=Br;var Nr=Ar.length<Ar.highWaterMark;if(Nr||(Ar.needDrain=!0),Ar.writing||Ar.corked){var zr=Ar.lastBufferedRequest;Ar.lastBufferedRequest={chunk:qr,encoding:Rr,isBuf:Ir,callback:Tr,next:null},zr?zr.next=Ar.lastBufferedRequest:Ar.bufferedRequest=Ar.lastBufferedRequest,Ar.bufferedRequestCount+=1}else _r(Pr,Ar,!1,Br,qr,Rr,Tr);return Nr}function _r(Pr,Ar,Ir,qr,Rr,Tr,Er){Ar.writelen=qr,Ar.writecb=Er,Ar.writing=!0,Ar.sync=!0,Ar.destroyed?Ar.onwrite(new Yt("write")):Ir?Pr._writev(Rr,Ar.onwrite):Pr._write(Rr,Tr,Ar.onwrite),Ar.sync=!1}function ir(Pr,Ar,Ir,qr,Rr){--Ar.pendingcb,Ir?(process$1.nextTick(Rr,qr),process$1.nextTick(lr,Pr,Ar),Pr._writableState.errorEmitted=!0,sr(Pr,qr)):(Rr(qr),Pr._writableState.errorEmitted=!0,sr(Pr,qr),lr(Pr,Ar))}function rr(Pr){Pr.writing=!1,Pr.writecb=null,Pr.length-=Pr.writelen,Pr.writelen=0}function or(Pr,Ar){var Ir=Pr._writableState,qr=Ir.sync,Rr=Ir.writecb;if(typeof Rr!="function")throw new Ut;if(rr(Ir),Ar)ir(Pr,Ir,qr,Ar,Rr);else{var Tr=cr(Ir)||Pr.destroyed;!Tr&&!Ir.corked&&!Ir.bufferProcessing&&Ir.bufferedRequest&&pr(Pr,Ir),qr?process$1.nextTick(ar,Pr,Ir,Tr,Rr):ar(Pr,Ir,Tr,Rr)}}function ar(Pr,Ar,Ir,qr){Ir||ur(Pr,Ar),Ar.pendingcb--,qr(),lr(Pr,Ar)}function ur(Pr,Ar){Ar.length===0&&Ar.needDrain&&(Ar.needDrain=!1,Pr.emit("drain"))}function pr(Pr,Ar){Ar.bufferProcessing=!0;var Ir=Ar.bufferedRequest;if(Pr._writev&&Ir&&Ir.next){var qr=Ar.bufferedRequestCount,Rr=new Array(qr),Tr=Ar.corkedRequestsFree;Tr.entry=Ir;for(var Er=0,Br=!0;Ir;)Rr[Er]=Ir,Ir.isBuf||(Br=!1),Ir=Ir.next,Er+=1;Rr.allBuffers=Br,_r(Pr,Ar,!0,Ar.length,Rr,"",Tr.finish),Ar.pendingcb++,Ar.lastBufferedRequest=null,Tr.next?(Ar.corkedRequestsFree=Tr.next,Tr.next=null):Ar.corkedRequestsFree=new s(Ar),Ar.bufferedRequestCount=0}else{for(;Ir;){var Nr=Ir.chunk,zr=Ir.encoding,Hr=Ir.callback,jr=Ar.objectMode?1:Nr.length;if(_r(Pr,Ar,!1,jr,Nr,zr,Hr),Ir=Ir.next,Ar.bufferedRequestCount--,Ar.writing)break}Ir===null&&(Ar.lastBufferedRequest=null)}Ar.bufferedRequest=Ir,Ar.bufferProcessing=!1}yr.prototype._write=function(Pr,Ar,Ir){Ir(new Lt("_write()"))},yr.prototype._writev=null,yr.prototype.end=function(Pr,Ar,Ir){var qr=this._writableState;return typeof Pr=="function"?(Ir=Pr,Pr=null,Ar=null):typeof Ar=="function"&&(Ir=Ar,Ar=null),Pr!=null&&this.write(Pr,Ar),qr.corked&&(qr.corked=1,this.uncork()),qr.ending||xr(this,qr,Ir),this},Object.defineProperty(yr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function cr(Pr){return Pr.ending&&Pr.length===0&&Pr.bufferedRequest===null&&!Pr.finished&&!Pr.writing}function gr(Pr,Ar){Pr._final(function(Ir){Ar.pendingcb--,Ir&&sr(Pr,Ir),Ar.prefinished=!0,Pr.emit("prefinish"),lr(Pr,Ar)})}function hr(Pr,Ar){!Ar.prefinished&&!Ar.finalCalled&&(typeof Pr._final=="function"&&!Ar.destroyed?(Ar.pendingcb++,Ar.finalCalled=!0,process$1.nextTick(gr,Pr,Ar)):(Ar.prefinished=!0,Pr.emit("prefinish")))}function lr(Pr,Ar){var Ir=cr(Ar);if(Ir&&(hr(Pr,Ar),Ar.pendingcb===0&&(Ar.finished=!0,Pr.emit("finish"),Ar.autoDestroy))){var qr=Pr._readableState;(!qr||qr.autoDestroy&&qr.endEmitted)&&Pr.destroy()}return Ir}function xr(Pr,Ar,Ir){Ar.ending=!0,lr(Pr,Ar),Ir&&(Ar.finished?process$1.nextTick(Ir):Pr.once("finish",Ir)),Ar.ended=!0,Pr.writable=!1}function Mr(Pr,Ar,Ir){var qr=Pr.entry;for(Pr.entry=null;qr;){var Rr=qr.callback;Ar.pendingcb--,Rr(Ir),qr=qr.next}Ar.corkedRequestsFree.next=Pr}return Object.defineProperty(yr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ar){this._writableState&&(this._writableState.destroyed=Ar)}}),yr.prototype.destroy=Ct.destroy,yr.prototype._undestroy=Ct.undestroy,yr.prototype._destroy=function(Pr,Ar){Ar(Pr)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var s=Object.keys||function(Dt){var Ft=[];for(var jt in Dt)Ft.push(jt);return Ft};_stream_duplex$1=wt;var a=require_stream_readable$1(),et=require_stream_writable$1();requireInherits_browser()(wt,a);for(var nt=s(et.prototype),at=0;at<nt.length;at++){var mt=nt[at];wt.prototype[mt]||(wt.prototype[mt]=et.prototype[mt])}function wt(Dt){if(!(this instanceof wt))return new wt(Dt);a.call(this,Dt),et.call(this,Dt),this.allowHalfOpen=!0,Dt&&(Dt.readable===!1&&(this.readable=!1),Dt.writable===!1&&(this.writable=!1),Dt.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",$t)))}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(wt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(wt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $t(){this._writableState.ended||process$1.nextTick(Ct,this)}function Ct(Dt){Dt.end()}return Object.defineProperty(wt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Ft){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Ft,this._writableState.destroyed=Ft)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var s=requireSafeBuffer$1().Buffer,a=s.isEncoding||function(er){switch(er=""+er,er&&er.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function et(er){if(!er)return"utf8";for(var tr;;)switch(er){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return er;default:if(tr)return;er=(""+er).toLowerCase(),tr=!0}}function nt(er){var tr=et(er);if(typeof tr!="string"&&(s.isEncoding===a||!a(er)))throw new Error("Unknown encoding: "+er);return tr||er}string_decoder.StringDecoder=at;function at(er){this.encoding=nt(er);var tr;switch(this.encoding){case"utf16le":this.text=jt,this.end=Nt,tr=4;break;case"utf8":this.fillLast=Ct,tr=4;break;case"base64":this.text=Lt,this.end=Ut,tr=3;break;default:this.write=Vt,this.end=Yt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(tr)}at.prototype.write=function(er){if(er.length===0)return"";var tr,nr;if(this.lastNeed){if(tr=this.fillLast(er),tr===void 0)return"";nr=this.lastNeed,this.lastNeed=0}else nr=0;return nr<er.length?tr?tr+this.text(er,nr):this.text(er,nr):tr||""},at.prototype.end=Ft,at.prototype.text=Dt,at.prototype.fillLast=function(er){if(this.lastNeed<=er.length)return er.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);er.copy(this.lastChar,this.lastTotal-this.lastNeed,0,er.length),this.lastNeed-=er.length};function mt(er){return er<=127?0:er>>5===6?2:er>>4===14?3:er>>3===30?4:er>>6===2?-1:-2}function wt(er,tr,nr){var sr=tr.length-1;if(sr<nr)return 0;var dr=mt(tr[sr]);return dr>=0?(dr>0&&(er.lastNeed=dr-1),dr):--sr<nr||dr===-2?0:(dr=mt(tr[sr]),dr>=0?(dr>0&&(er.lastNeed=dr-2),dr):--sr<nr||dr===-2?0:(dr=mt(tr[sr]),dr>=0?(dr>0&&(dr===2?dr=0:er.lastNeed=dr-3),dr):0))}function $t(er,tr,nr){if((tr[0]&192)!==128)return er.lastNeed=0,"";if(er.lastNeed>1&&tr.length>1){if((tr[1]&192)!==128)return er.lastNeed=1,"";if(er.lastNeed>2&&tr.length>2&&(tr[2]&192)!==128)return er.lastNeed=2,""}}function Ct(er){var tr=this.lastTotal-this.lastNeed,nr=$t(this,er);if(nr!==void 0)return nr;if(this.lastNeed<=er.length)return er.copy(this.lastChar,tr,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);er.copy(this.lastChar,tr,0,er.length),this.lastNeed-=er.length}function Dt(er,tr){var nr=wt(this,er,tr);if(!this.lastNeed)return er.toString("utf8",tr);this.lastTotal=nr;var sr=er.length-(nr-this.lastNeed);return er.copy(this.lastChar,0,sr),er.toString("utf8",tr,sr)}function Ft(er){var tr=er&&er.length?this.write(er):"";return this.lastNeed?tr+"":tr}function jt(er,tr){if((er.length-tr)%2===0){var nr=er.toString("utf16le",tr);if(nr){var sr=nr.charCodeAt(nr.length-1);if(sr>=55296&&sr<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=er[er.length-2],this.lastChar[1]=er[er.length-1],nr.slice(0,-1)}return nr}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=er[er.length-1],er.toString("utf16le",tr,er.length-1)}function Nt(er){var tr=er&&er.length?this.write(er):"";if(this.lastNeed){var nr=this.lastTotal-this.lastNeed;return tr+this.lastChar.toString("utf16le",0,nr)}return tr}function Lt(er,tr){var nr=(er.length-tr)%3;return nr===0?er.toString("base64",tr):(this.lastNeed=3-nr,this.lastTotal=3,nr===1?this.lastChar[0]=er[er.length-1]:(this.lastChar[0]=er[er.length-2],this.lastChar[1]=er[er.length-1]),er.toString("base64",tr,er.length-nr))}function Ut(er){var tr=er&&er.length?this.write(er):"";return this.lastNeed?tr+this.lastChar.toString("base64",0,3-this.lastNeed):tr}function Vt(er){return er.toString(this.encoding)}function Yt(er){return er&&er.length?this.write(er):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var s=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function a(mt){var wt=!1;return function(){if(!wt){wt=!0;for(var $t=arguments.length,Ct=new Array($t),Dt=0;Dt<$t;Dt++)Ct[Dt]=arguments[Dt];mt.apply(this,Ct)}}}function et(){}function nt(mt){return mt.setHeader&&typeof mt.abort=="function"}function at(mt,wt,$t){if(typeof wt=="function")return at(mt,null,wt);wt||(wt={}),$t=a($t||et);var Ct=wt.readable||wt.readable!==!1&&mt.readable,Dt=wt.writable||wt.writable!==!1&&mt.writable,Ft=function(){mt.writable||Nt()},jt=mt._writableState&&mt._writableState.finished,Nt=function(){Dt=!1,jt=!0,Ct||$t.call(mt)},Lt=mt._readableState&&mt._readableState.endEmitted,Ut=function(){Ct=!1,Lt=!0,Dt||$t.call(mt)},Vt=function(nr){$t.call(mt,nr)},Yt=function(){var nr;if(Ct&&!Lt)return(!mt._readableState||!mt._readableState.ended)&&(nr=new s),$t.call(mt,nr);if(Dt&&!jt)return(!mt._writableState||!mt._writableState.ended)&&(nr=new s),$t.call(mt,nr)},er=function(){mt.req.on("finish",Nt)};return nt(mt)?(mt.on("complete",Nt),mt.on("abort",Yt),mt.req?er():mt.on("request",er)):Dt&&!mt._writableState&&(mt.on("end",Ft),mt.on("close",Ft)),mt.on("end",Ut),mt.on("finish",Nt),wt.error!==!1&&mt.on("error",Vt),mt.on("close",Yt),function(){mt.removeListener("complete",Nt),mt.removeListener("abort",Yt),mt.removeListener("request",er),mt.req&&mt.req.removeListener("finish",Nt),mt.removeListener("end",Ft),mt.removeListener("close",Ft),mt.removeListener("finish",Nt),mt.removeListener("end",Ut),mt.removeListener("error",Vt),mt.removeListener("close",Yt)}}return endOfStream=at,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var s;function a(nr,sr,dr){return sr=et(sr),sr in nr?Object.defineProperty(nr,sr,{value:dr,enumerable:!0,configurable:!0,writable:!0}):nr[sr]=dr,nr}function et(nr){var sr=nt(nr,"string");return typeof sr=="symbol"?sr:String(sr)}function nt(nr,sr){if(typeof nr!="object"||nr===null)return nr;var dr=nr[Symbol.toPrimitive];if(dr!==void 0){var br=dr.call(nr,sr);if(typeof br!="object")return br;throw new TypeError("@@toPrimitive must return a primitive value.")}return(sr==="string"?String:Number)(nr)}var at=requireEndOfStream(),mt=Symbol("lastResolve"),wt=Symbol("lastReject"),$t=Symbol("error"),Ct=Symbol("ended"),Dt=Symbol("lastPromise"),Ft=Symbol("handlePromise"),jt=Symbol("stream");function Nt(nr,sr){return{value:nr,done:sr}}function Lt(nr){var sr=nr[mt];if(sr!==null){var dr=nr[jt].read();dr!==null&&(nr[Dt]=null,nr[mt]=null,nr[wt]=null,sr(Nt(dr,!1)))}}function Ut(nr){process$1.nextTick(Lt,nr)}function Vt(nr,sr){return function(dr,br){nr.then(function(){if(sr[Ct]){dr(Nt(void 0,!0));return}sr[Ft](dr,br)},br)}}var Yt=Object.getPrototypeOf(function(){}),er=Object.setPrototypeOf((s={get stream(){return this[jt]},next:function(){var sr=this,dr=this[$t];if(dr!==null)return Promise.reject(dr);if(this[Ct])return Promise.resolve(Nt(void 0,!0));if(this[jt].destroyed)return new Promise(function($r,Sr){process$1.nextTick(function(){sr[$t]?Sr(sr[$t]):$r(Nt(void 0,!0))})});var br=this[Dt],vr;if(br)vr=new Promise(Vt(br,this));else{var yr=this[jt].read();if(yr!==null)return Promise.resolve(Nt(yr,!1));vr=new Promise(this[Ft])}return this[Dt]=vr,vr}},a(s,Symbol.asyncIterator,function(){return this}),a(s,"return",function(){var sr=this;return new Promise(function(dr,br){sr[jt].destroy(null,function(vr){if(vr){br(vr);return}dr(Nt(void 0,!0))})})}),s),Yt),tr=function(sr){var dr,br=Object.create(er,(dr={},a(dr,jt,{value:sr,writable:!0}),a(dr,mt,{value:null,writable:!0}),a(dr,wt,{value:null,writable:!0}),a(dr,$t,{value:null,writable:!0}),a(dr,Ct,{value:sr._readableState.endEmitted,writable:!0}),a(dr,Ft,{value:function(yr,$r){var Sr=br[jt].read();Sr?(br[Dt]=null,br[mt]=null,br[wt]=null,yr(Nt(Sr,!1))):(br[mt]=yr,br[wt]=$r)},writable:!0}),dr));return br[Dt]=null,at(sr,function(vr){if(vr&&vr.code!=="ERR_STREAM_PREMATURE_CLOSE"){var yr=br[wt];yr!==null&&(br[Dt]=null,br[mt]=null,br[wt]=null,yr(vr)),br[$t]=vr;return}var $r=br[mt];$r!==null&&(br[Dt]=null,br[mt]=null,br[wt]=null,$r(Nt(void 0,!0))),br[Ct]=!0}),sr.on("readable",Ut.bind(null,br)),br};return async_iterator=tr,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=$r;var s;$r.ReadableState=yr,requireEvents().EventEmitter;var a=function(Er,Br){return Er.listeners(Br).length},et=requireStreamBrowser$1(),nt=require$$1$3.Buffer,at=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function mt(Tr){return nt.from(Tr)}function wt(Tr){return nt.isBuffer(Tr)||Tr instanceof at}var $t=requireUtil$1(),Ct;$t&&$t.debuglog?Ct=$t.debuglog("stream"):Ct=function(){};var Dt=requireBuffer_list(),Ft=requireDestroy$1(),jt=requireState(),Nt=jt.getHighWaterMark,Lt=requireErrorsBrowser().codes,Ut=Lt.ERR_INVALID_ARG_TYPE,Vt=Lt.ERR_STREAM_PUSH_AFTER_EOF,Yt=Lt.ERR_METHOD_NOT_IMPLEMENTED,er=Lt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,tr,nr,sr;requireInherits_browser()($r,et);var dr=Ft.errorOrDestroy,br=["error","close","destroy","pause","resume"];function vr(Tr,Er,Br){if(typeof Tr.prependListener=="function")return Tr.prependListener(Er,Br);!Tr._events||!Tr._events[Er]?Tr.on(Er,Br):Array.isArray(Tr._events[Er])?Tr._events[Er].unshift(Br):Tr._events[Er]=[Br,Tr._events[Er]]}function yr(Tr,Er,Br){s=s||require_stream_duplex$1(),Tr=Tr||{},typeof Br!="boolean"&&(Br=Er instanceof s),this.objectMode=!!Tr.objectMode,Br&&(this.objectMode=this.objectMode||!!Tr.readableObjectMode),this.highWaterMark=Nt(this,Tr,"readableHighWaterMark",Br),this.buffer=new Dt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Tr.emitClose!==!1,this.autoDestroy=!!Tr.autoDestroy,this.destroyed=!1,this.defaultEncoding=Tr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Tr.encoding&&(tr||(tr=requireString_decoder().StringDecoder),this.decoder=new tr(Tr.encoding),this.encoding=Tr.encoding)}function $r(Tr){if(s=s||require_stream_duplex$1(),!(this instanceof $r))return new $r(Tr);var Er=this instanceof s;this._readableState=new yr(Tr,this,Er),this.readable=!0,Tr&&(typeof Tr.read=="function"&&(this._read=Tr.read),typeof Tr.destroy=="function"&&(this._destroy=Tr.destroy)),et.call(this)}Object.defineProperty($r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Er){this._readableState&&(this._readableState.destroyed=Er)}}),$r.prototype.destroy=Ft.destroy,$r.prototype._undestroy=Ft.undestroy,$r.prototype._destroy=function(Tr,Er){Er(Tr)},$r.prototype.push=function(Tr,Er){var Br=this._readableState,Nr;return Br.objectMode?Nr=!0:typeof Tr=="string"&&(Er=Er||Br.defaultEncoding,Er!==Br.encoding&&(Tr=nt.from(Tr,Er),Er=""),Nr=!0),Sr(this,Tr,Er,!1,Nr)},$r.prototype.unshift=function(Tr){return Sr(this,Tr,null,!0,!1)};function Sr(Tr,Er,Br,Nr,zr){Ct("readableAddChunk",Er);var Hr=Tr._readableState;if(Er===null)Hr.reading=!1,or(Tr,Hr);else{var jr;if(zr||(jr=fr(Hr,Er)),jr)dr(Tr,jr);else if(Hr.objectMode||Er&&Er.length>0)if(typeof Er!="string"&&!Hr.objectMode&&Object.getPrototypeOf(Er)!==nt.prototype&&(Er=mt(Er)),Nr)Hr.endEmitted?dr(Tr,new er):wr(Tr,Hr,Er,!0);else if(Hr.ended)dr(Tr,new Vt);else{if(Hr.destroyed)return!1;Hr.reading=!1,Hr.decoder&&!Br?(Er=Hr.decoder.write(Er),Hr.objectMode||Er.length!==0?wr(Tr,Hr,Er,!1):pr(Tr,Hr)):wr(Tr,Hr,Er,!1)}else Nr||(Hr.reading=!1,pr(Tr,Hr))}return!Hr.ended&&(Hr.length<Hr.highWaterMark||Hr.length===0)}function wr(Tr,Er,Br,Nr){Er.flowing&&Er.length===0&&!Er.sync?(Er.awaitDrain=0,Tr.emit("data",Br)):(Er.length+=Er.objectMode?1:Br.length,Nr?Er.buffer.unshift(Br):Er.buffer.push(Br),Er.needReadable&&ar(Tr)),pr(Tr,Er)}function fr(Tr,Er){var Br;return!wt(Er)&&typeof Er!="string"&&Er!==void 0&&!Tr.objectMode&&(Br=new Ut("chunk",["string","Buffer","Uint8Array"],Er)),Br}$r.prototype.isPaused=function(){return this._readableState.flowing===!1},$r.prototype.setEncoding=function(Tr){tr||(tr=requireString_decoder().StringDecoder);var Er=new tr(Tr);this._readableState.decoder=Er,this._readableState.encoding=this._readableState.decoder.encoding;for(var Br=this._readableState.buffer.head,Nr="";Br!==null;)Nr+=Er.write(Br.data),Br=Br.next;return this._readableState.buffer.clear(),Nr!==""&&this._readableState.buffer.push(Nr),this._readableState.length=Nr.length,this};var _r=1073741824;function ir(Tr){return Tr>=_r?Tr=_r:(Tr--,Tr|=Tr>>>1,Tr|=Tr>>>2,Tr|=Tr>>>4,Tr|=Tr>>>8,Tr|=Tr>>>16,Tr++),Tr}function rr(Tr,Er){return Tr<=0||Er.length===0&&Er.ended?0:Er.objectMode?1:Tr!==Tr?Er.flowing&&Er.length?Er.buffer.head.data.length:Er.length:(Tr>Er.highWaterMark&&(Er.highWaterMark=ir(Tr)),Tr<=Er.length?Tr:Er.ended?Er.length:(Er.needReadable=!0,0))}$r.prototype.read=function(Tr){Ct("read",Tr),Tr=parseInt(Tr,10);var Er=this._readableState,Br=Tr;if(Tr!==0&&(Er.emittedReadable=!1),Tr===0&&Er.needReadable&&((Er.highWaterMark!==0?Er.length>=Er.highWaterMark:Er.length>0)||Er.ended))return Ct("read: emitReadable",Er.length,Er.ended),Er.length===0&&Er.ended?Ir(this):ar(this),null;if(Tr=rr(Tr,Er),Tr===0&&Er.ended)return Er.length===0&&Ir(this),null;var Nr=Er.needReadable;Ct("need readable",Nr),(Er.length===0||Er.length-Tr<Er.highWaterMark)&&(Nr=!0,Ct("length less than watermark",Nr)),Er.ended||Er.reading?(Nr=!1,Ct("reading or ended",Nr)):Nr&&(Ct("do read"),Er.reading=!0,Er.sync=!0,Er.length===0&&(Er.needReadable=!0),this._read(Er.highWaterMark),Er.sync=!1,Er.reading||(Tr=rr(Br,Er)));var zr;return Tr>0?zr=Ar(Tr,Er):zr=null,zr===null?(Er.needReadable=Er.length<=Er.highWaterMark,Tr=0):(Er.length-=Tr,Er.awaitDrain=0),Er.length===0&&(Er.ended||(Er.needReadable=!0),Br!==Tr&&Er.ended&&Ir(this)),zr!==null&&this.emit("data",zr),zr};function or(Tr,Er){if(Ct("onEofChunk"),!Er.ended){if(Er.decoder){var Br=Er.decoder.end();Br&&Br.length&&(Er.buffer.push(Br),Er.length+=Er.objectMode?1:Br.length)}Er.ended=!0,Er.sync?ar(Tr):(Er.needReadable=!1,Er.emittedReadable||(Er.emittedReadable=!0,ur(Tr)))}}function ar(Tr){var Er=Tr._readableState;Ct("emitReadable",Er.needReadable,Er.emittedReadable),Er.needReadable=!1,Er.emittedReadable||(Ct("emitReadable",Er.flowing),Er.emittedReadable=!0,process$1.nextTick(ur,Tr))}function ur(Tr){var Er=Tr._readableState;Ct("emitReadable_",Er.destroyed,Er.length,Er.ended),!Er.destroyed&&(Er.length||Er.ended)&&(Tr.emit("readable"),Er.emittedReadable=!1),Er.needReadable=!Er.flowing&&!Er.ended&&Er.length<=Er.highWaterMark,Pr(Tr)}function pr(Tr,Er){Er.readingMore||(Er.readingMore=!0,process$1.nextTick(cr,Tr,Er))}function cr(Tr,Er){for(;!Er.reading&&!Er.ended&&(Er.length<Er.highWaterMark||Er.flowing&&Er.length===0);){var Br=Er.length;if(Ct("maybeReadMore read 0"),Tr.read(0),Br===Er.length)break}Er.readingMore=!1}$r.prototype._read=function(Tr){dr(this,new Yt("_read()"))},$r.prototype.pipe=function(Tr,Er){var Br=this,Nr=this._readableState;switch(Nr.pipesCount){case 0:Nr.pipes=Tr;break;case 1:Nr.pipes=[Nr.pipes,Tr];break;default:Nr.pipes.push(Tr);break}Nr.pipesCount+=1,Ct("pipe count=%d opts=%j",Nr.pipesCount,Er);var zr=(!Er||Er.end!==!1)&&Tr!==process$1.stdout&&Tr!==process$1.stderr,Hr=zr?Ur:io;Nr.endEmitted?process$1.nextTick(Hr):Br.once("end",Hr),Tr.on("unpipe",jr);function jr(zn,Zn){Ct("onunpipe"),zn===Br&&Zn&&Zn.hasUnpiped===!1&&(Zn.hasUnpiped=!0,Wr())}function Ur(){Ct("onend"),Tr.end()}var Fr=gr(Br);Tr.on("drain",Fr);var Gr=!1;function Wr(){Ct("cleanup"),Tr.removeListener("close",Un),Tr.removeListener("finish",Wn),Tr.removeListener("drain",Fr),Tr.removeListener("error",Ln),Tr.removeListener("unpipe",jr),Br.removeListener("end",Ur),Br.removeListener("end",io),Br.removeListener("data",nn),Gr=!0,Nr.awaitDrain&&(!Tr._writableState||Tr._writableState.needDrain)&&Fr()}Br.on("data",nn);function nn(zn){Ct("ondata");var Zn=Tr.write(zn);Ct("dest.write",Zn),Zn===!1&&((Nr.pipesCount===1&&Nr.pipes===Tr||Nr.pipesCount>1&&Rr(Nr.pipes,Tr)!==-1)&&!Gr&&(Ct("false write response, pause",Nr.awaitDrain),Nr.awaitDrain++),Br.pause())}function Ln(zn){Ct("onerror",zn),io(),Tr.removeListener("error",Ln),a(Tr,"error")===0&&dr(Tr,zn)}vr(Tr,"error",Ln);function Un(){Tr.removeListener("finish",Wn),io()}Tr.once("close",Un);function Wn(){Ct("onfinish"),Tr.removeListener("close",Un),io()}Tr.once("finish",Wn);function io(){Ct("unpipe"),Br.unpipe(Tr)}return Tr.emit("pipe",Br),Nr.flowing||(Ct("pipe resume"),Br.resume()),Tr};function gr(Tr){return function(){var Br=Tr._readableState;Ct("pipeOnDrain",Br.awaitDrain),Br.awaitDrain&&Br.awaitDrain--,Br.awaitDrain===0&&a(Tr,"data")&&(Br.flowing=!0,Pr(Tr))}}$r.prototype.unpipe=function(Tr){var Er=this._readableState,Br={hasUnpiped:!1};if(Er.pipesCount===0)return this;if(Er.pipesCount===1)return Tr&&Tr!==Er.pipes?this:(Tr||(Tr=Er.pipes),Er.pipes=null,Er.pipesCount=0,Er.flowing=!1,Tr&&Tr.emit("unpipe",this,Br),this);if(!Tr){var Nr=Er.pipes,zr=Er.pipesCount;Er.pipes=null,Er.pipesCount=0,Er.flowing=!1;for(var Hr=0;Hr<zr;Hr++)Nr[Hr].emit("unpipe",this,{hasUnpiped:!1});return this}var jr=Rr(Er.pipes,Tr);return jr===-1?this:(Er.pipes.splice(jr,1),Er.pipesCount-=1,Er.pipesCount===1&&(Er.pipes=Er.pipes[0]),Tr.emit("unpipe",this,Br),this)},$r.prototype.on=function(Tr,Er){var Br=et.prototype.on.call(this,Tr,Er),Nr=this._readableState;return Tr==="data"?(Nr.readableListening=this.listenerCount("readable")>0,Nr.flowing!==!1&&this.resume()):Tr==="readable"&&!Nr.endEmitted&&!Nr.readableListening&&(Nr.readableListening=Nr.needReadable=!0,Nr.flowing=!1,Nr.emittedReadable=!1,Ct("on readable",Nr.length,Nr.reading),Nr.length?ar(this):Nr.reading||process$1.nextTick(lr,this)),Br},$r.prototype.addListener=$r.prototype.on,$r.prototype.removeListener=function(Tr,Er){var Br=et.prototype.removeListener.call(this,Tr,Er);return Tr==="readable"&&process$1.nextTick(hr,this),Br},$r.prototype.removeAllListeners=function(Tr){var Er=et.prototype.removeAllListeners.apply(this,arguments);return(Tr==="readable"||Tr===void 0)&&process$1.nextTick(hr,this),Er};function hr(Tr){var Er=Tr._readableState;Er.readableListening=Tr.listenerCount("readable")>0,Er.resumeScheduled&&!Er.paused?Er.flowing=!0:Tr.listenerCount("data")>0&&Tr.resume()}function lr(Tr){Ct("readable nexttick read 0"),Tr.read(0)}$r.prototype.resume=function(){var Tr=this._readableState;return Tr.flowing||(Ct("resume"),Tr.flowing=!Tr.readableListening,xr(this,Tr)),Tr.paused=!1,this};function xr(Tr,Er){Er.resumeScheduled||(Er.resumeScheduled=!0,process$1.nextTick(Mr,Tr,Er))}function Mr(Tr,Er){Ct("resume",Er.reading),Er.reading||Tr.read(0),Er.resumeScheduled=!1,Tr.emit("resume"),Pr(Tr),Er.flowing&&!Er.reading&&Tr.read(0)}$r.prototype.pause=function(){return Ct("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ct("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Pr(Tr){var Er=Tr._readableState;for(Ct("flow",Er.flowing);Er.flowing&&Tr.read()!==null;);}$r.prototype.wrap=function(Tr){var Er=this,Br=this._readableState,Nr=!1;Tr.on("end",function(){if(Ct("wrapped end"),Br.decoder&&!Br.ended){var jr=Br.decoder.end();jr&&jr.length&&Er.push(jr)}Er.push(null)}),Tr.on("data",function(jr){if(Ct("wrapped data"),Br.decoder&&(jr=Br.decoder.write(jr)),!(Br.objectMode&&jr==null)&&!(!Br.objectMode&&(!jr||!jr.length))){var Ur=Er.push(jr);Ur||(Nr=!0,Tr.pause())}});for(var zr in Tr)this[zr]===void 0&&typeof Tr[zr]=="function"&&(this[zr]=function(Ur){return function(){return Tr[Ur].apply(Tr,arguments)}}(zr));for(var Hr=0;Hr<br.length;Hr++)Tr.on(br[Hr],this.emit.bind(this,br[Hr]));return this._read=function(jr){Ct("wrapped _read",jr),Nr&&(Nr=!1,Tr.resume())},this},typeof Symbol=="function"&&($r.prototype[Symbol.asyncIterator]=function(){return nr===void 0&&(nr=requireAsync_iterator()),nr(this)}),Object.defineProperty($r.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($r.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($r.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Er){this._readableState&&(this._readableState.flowing=Er)}}),$r._fromList=Ar,Object.defineProperty($r.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Ar(Tr,Er){if(Er.length===0)return null;var Br;return Er.objectMode?Br=Er.buffer.shift():!Tr||Tr>=Er.length?(Er.decoder?Br=Er.buffer.join(""):Er.buffer.length===1?Br=Er.buffer.first():Br=Er.buffer.concat(Er.length),Er.buffer.clear()):Br=Er.buffer.consume(Tr,Er.decoder),Br}function Ir(Tr){var Er=Tr._readableState;Ct("endReadable",Er.endEmitted),Er.endEmitted||(Er.ended=!0,process$1.nextTick(qr,Er,Tr))}function qr(Tr,Er){if(Ct("endReadableNT",Tr.endEmitted,Tr.length),!Tr.endEmitted&&Tr.length===0&&(Tr.endEmitted=!0,Er.readable=!1,Er.emit("end"),Tr.autoDestroy)){var Br=Er._writableState;(!Br||Br.autoDestroy&&Br.finished)&&Er.destroy()}}typeof Symbol=="function"&&($r.from=function(Tr,Er){return sr===void 0&&(sr=requireFromBrowser()),sr($r,Tr,Er)});function Rr(Tr,Er){for(var Br=0,Nr=Tr.length;Br<Nr;Br++)if(Tr[Br]===Er)return Br;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=$t;var s=requireErrorsBrowser().codes,a=s.ERR_METHOD_NOT_IMPLEMENTED,et=s.ERR_MULTIPLE_CALLBACK,nt=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,at=s.ERR_TRANSFORM_WITH_LENGTH_0,mt=require_stream_duplex$1();requireInherits_browser()($t,mt);function wt(Ft,jt){var Nt=this._transformState;Nt.transforming=!1;var Lt=Nt.writecb;if(Lt===null)return this.emit("error",new et);Nt.writechunk=null,Nt.writecb=null,jt!=null&&this.push(jt),Lt(Ft);var Ut=this._readableState;Ut.reading=!1,(Ut.needReadable||Ut.length<Ut.highWaterMark)&&this._read(Ut.highWaterMark)}function $t(Ft){if(!(this instanceof $t))return new $t(Ft);mt.call(this,Ft),this._transformState={afterTransform:wt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Ft&&(typeof Ft.transform=="function"&&(this._transform=Ft.transform),typeof Ft.flush=="function"&&(this._flush=Ft.flush)),this.on("prefinish",Ct)}function Ct(){var Ft=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(jt,Nt){Dt(Ft,jt,Nt)}):Dt(this,null,null)}$t.prototype.push=function(Ft,jt){return this._transformState.needTransform=!1,mt.prototype.push.call(this,Ft,jt)},$t.prototype._transform=function(Ft,jt,Nt){Nt(new a("_transform()"))},$t.prototype._write=function(Ft,jt,Nt){var Lt=this._transformState;if(Lt.writecb=Nt,Lt.writechunk=Ft,Lt.writeencoding=jt,!Lt.transforming){var Ut=this._readableState;(Lt.needTransform||Ut.needReadable||Ut.length<Ut.highWaterMark)&&this._read(Ut.highWaterMark)}},$t.prototype._read=function(Ft){var jt=this._transformState;jt.writechunk!==null&&!jt.transforming?(jt.transforming=!0,this._transform(jt.writechunk,jt.writeencoding,jt.afterTransform)):jt.needTransform=!0},$t.prototype._destroy=function(Ft,jt){mt.prototype._destroy.call(this,Ft,function(Nt){jt(Nt)})};function Dt(Ft,jt,Nt){if(jt)return Ft.emit("error",jt);if(Nt!=null&&Ft.push(Nt),Ft._writableState.length)throw new at;if(Ft._transformState.transforming)throw new nt;return Ft.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=a;var s=require_stream_transform$1();requireInherits_browser()(a,s);function a(et){if(!(this instanceof a))return new a(et);s.call(this,et)}return a.prototype._transform=function(et,nt,at){at(null,et)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var s;function a(Nt){var Lt=!1;return function(){Lt||(Lt=!0,Nt.apply(void 0,arguments))}}var et=requireErrorsBrowser().codes,nt=et.ERR_MISSING_ARGS,at=et.ERR_STREAM_DESTROYED;function mt(Nt){if(Nt)throw Nt}function wt(Nt){return Nt.setHeader&&typeof Nt.abort=="function"}function $t(Nt,Lt,Ut,Vt){Vt=a(Vt);var Yt=!1;Nt.on("close",function(){Yt=!0}),s===void 0&&(s=requireEndOfStream()),s(Nt,{readable:Lt,writable:Ut},function(tr){if(tr)return Vt(tr);Yt=!0,Vt()});var er=!1;return function(tr){if(!Yt&&!er){if(er=!0,wt(Nt))return Nt.abort();if(typeof Nt.destroy=="function")return Nt.destroy();Vt(tr||new at("pipe"))}}}function Ct(Nt){Nt()}function Dt(Nt,Lt){return Nt.pipe(Lt)}function Ft(Nt){return!Nt.length||typeof Nt[Nt.length-1]!="function"?mt:Nt.pop()}function jt(){for(var Nt=arguments.length,Lt=new Array(Nt),Ut=0;Ut<Nt;Ut++)Lt[Ut]=arguments[Ut];var Vt=Ft(Lt);if(Array.isArray(Lt[0])&&(Lt=Lt[0]),Lt.length<2)throw new nt("streams");var Yt,er=Lt.map(function(tr,nr){var sr=nr<Lt.length-1,dr=nr>0;return $t(tr,sr,dr,function(br){Yt||(Yt=br),br&&er.forEach(Ct),!sr&&(er.forEach(Ct),Vt(Yt))})});return Lt.reduce(Dt)}return pipeline_1=jt,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=et;var s=requireEvents().EventEmitter,a=requireInherits_browser();a(et,s),et.Readable=require_stream_readable$1(),et.Writable=require_stream_writable$1(),et.Duplex=require_stream_duplex$1(),et.Transform=require_stream_transform$1(),et.PassThrough=require_stream_passthrough$1(),et.finished=requireEndOfStream(),et.pipeline=requirePipeline(),et.Stream=et;function et(){s.call(this)}return et.prototype.pipe=function(nt,at){var mt=this;function wt(Lt){nt.writable&&nt.write(Lt)===!1&&mt.pause&&mt.pause()}mt.on("data",wt);function $t(){mt.readable&&mt.resume&&mt.resume()}nt.on("drain",$t),!nt._isStdio&&(!at||at.end!==!1)&&(mt.on("end",Dt),mt.on("close",Ft));var Ct=!1;function Dt(){Ct||(Ct=!0,nt.end())}function Ft(){Ct||(Ct=!0,typeof nt.destroy=="function"&&nt.destroy())}function jt(Lt){if(Nt(),s.listenerCount(this,"error")===0)throw Lt}mt.on("error",jt),nt.on("error",jt);function Nt(){mt.removeListener("data",wt),nt.removeListener("drain",$t),mt.removeListener("end",Dt),mt.removeListener("close",Ft),mt.removeListener("error",jt),nt.removeListener("error",jt),mt.removeListener("end",Nt),mt.removeListener("close",Nt),nt.removeListener("close",Nt)}return mt.on("end",Nt),mt.on("close",Nt),nt.on("close",Nt),nt.emit("pipe",mt),nt},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var s=requireSafeBuffer$1().Buffer,a=requireStreamBrowserify().Transform,et=requireInherits_browser();function nt($t){a.call(this),this._block=s.allocUnsafe($t),this._blockSize=$t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}et(nt,a),nt.prototype._transform=function($t,Ct,Dt){var Ft=null;try{this.update($t,Ct)}catch(jt){Ft=jt}Dt(Ft)},nt.prototype._flush=function($t){var Ct=null;try{this.push(this.digest())}catch(Dt){Ct=Dt}$t(Ct)};var at=typeof Uint8Array<"u",mt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(s.prototype instanceof Uint8Array||s.TYPED_ARRAY_SUPPORT);function wt($t,Ct){if($t instanceof s)return $t;if(typeof $t=="string")return s.from($t,Ct);if(mt&&ArrayBuffer.isView($t)){if($t.byteLength===0)return s.alloc(0);var Dt=s.from($t.buffer,$t.byteOffset,$t.byteLength);if(Dt.byteLength===$t.byteLength)return Dt}if(at&&$t instanceof Uint8Array||s.isBuffer($t)&&$t.constructor&&typeof $t.constructor.isBuffer=="function"&&$t.constructor.isBuffer($t))return s.from($t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return nt.prototype.update=function($t,Ct){if(this._finalized)throw new Error("Digest already called");$t=wt($t,Ct);for(var Dt=this._block,Ft=0;this._blockOffset+$t.length-Ft>=this._blockSize;){for(var jt=this._blockOffset;jt<this._blockSize;)Dt[jt++]=$t[Ft++];this._update(),this._blockOffset=0}for(;Ft<$t.length;)Dt[this._blockOffset++]=$t[Ft++];for(var Nt=0,Lt=$t.length*8;Lt>0;++Nt)this._length[Nt]+=Lt,Lt=this._length[Nt]/4294967296|0,Lt>0&&(this._length[Nt]-=4294967296*Lt);return this},nt.prototype._update=function(){throw new Error("_update is not implemented")},nt.prototype.digest=function($t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Ct=this._digest();$t!==void 0&&(Ct=Ct.toString($t)),this._block.fill(0),this._blockOffset=0;for(var Dt=0;Dt<4;++Dt)this._length[Dt]=0;return Ct},nt.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=nt,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var s=requireInherits_browser(),a=requireHashBase(),et=requireSafeBuffer$1().Buffer,nt=new Array(16);function at(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}s(at,a),at.prototype._update=function(){for(var Ft=nt,jt=0;jt<16;++jt)Ft[jt]=this._block.readInt32LE(jt*4);var Nt=this._a,Lt=this._b,Ut=this._c,Vt=this._d;Nt=wt(Nt,Lt,Ut,Vt,Ft[0],3614090360,7),Vt=wt(Vt,Nt,Lt,Ut,Ft[1],3905402710,12),Ut=wt(Ut,Vt,Nt,Lt,Ft[2],606105819,17),Lt=wt(Lt,Ut,Vt,Nt,Ft[3],3250441966,22),Nt=wt(Nt,Lt,Ut,Vt,Ft[4],4118548399,7),Vt=wt(Vt,Nt,Lt,Ut,Ft[5],1200080426,12),Ut=wt(Ut,Vt,Nt,Lt,Ft[6],2821735955,17),Lt=wt(Lt,Ut,Vt,Nt,Ft[7],4249261313,22),Nt=wt(Nt,Lt,Ut,Vt,Ft[8],1770035416,7),Vt=wt(Vt,Nt,Lt,Ut,Ft[9],2336552879,12),Ut=wt(Ut,Vt,Nt,Lt,Ft[10],4294925233,17),Lt=wt(Lt,Ut,Vt,Nt,Ft[11],2304563134,22),Nt=wt(Nt,Lt,Ut,Vt,Ft[12],1804603682,7),Vt=wt(Vt,Nt,Lt,Ut,Ft[13],4254626195,12),Ut=wt(Ut,Vt,Nt,Lt,Ft[14],2792965006,17),Lt=wt(Lt,Ut,Vt,Nt,Ft[15],1236535329,22),Nt=$t(Nt,Lt,Ut,Vt,Ft[1],4129170786,5),Vt=$t(Vt,Nt,Lt,Ut,Ft[6],3225465664,9),Ut=$t(Ut,Vt,Nt,Lt,Ft[11],643717713,14),Lt=$t(Lt,Ut,Vt,Nt,Ft[0],3921069994,20),Nt=$t(Nt,Lt,Ut,Vt,Ft[5],3593408605,5),Vt=$t(Vt,Nt,Lt,Ut,Ft[10],38016083,9),Ut=$t(Ut,Vt,Nt,Lt,Ft[15],3634488961,14),Lt=$t(Lt,Ut,Vt,Nt,Ft[4],3889429448,20),Nt=$t(Nt,Lt,Ut,Vt,Ft[9],568446438,5),Vt=$t(Vt,Nt,Lt,Ut,Ft[14],3275163606,9),Ut=$t(Ut,Vt,Nt,Lt,Ft[3],4107603335,14),Lt=$t(Lt,Ut,Vt,Nt,Ft[8],1163531501,20),Nt=$t(Nt,Lt,Ut,Vt,Ft[13],2850285829,5),Vt=$t(Vt,Nt,Lt,Ut,Ft[2],4243563512,9),Ut=$t(Ut,Vt,Nt,Lt,Ft[7],1735328473,14),Lt=$t(Lt,Ut,Vt,Nt,Ft[12],2368359562,20),Nt=Ct(Nt,Lt,Ut,Vt,Ft[5],4294588738,4),Vt=Ct(Vt,Nt,Lt,Ut,Ft[8],2272392833,11),Ut=Ct(Ut,Vt,Nt,Lt,Ft[11],1839030562,16),Lt=Ct(Lt,Ut,Vt,Nt,Ft[14],4259657740,23),Nt=Ct(Nt,Lt,Ut,Vt,Ft[1],2763975236,4),Vt=Ct(Vt,Nt,Lt,Ut,Ft[4],1272893353,11),Ut=Ct(Ut,Vt,Nt,Lt,Ft[7],4139469664,16),Lt=Ct(Lt,Ut,Vt,Nt,Ft[10],3200236656,23),Nt=Ct(Nt,Lt,Ut,Vt,Ft[13],681279174,4),Vt=Ct(Vt,Nt,Lt,Ut,Ft[0],3936430074,11),Ut=Ct(Ut,Vt,Nt,Lt,Ft[3],3572445317,16),Lt=Ct(Lt,Ut,Vt,Nt,Ft[6],76029189,23),Nt=Ct(Nt,Lt,Ut,Vt,Ft[9],3654602809,4),Vt=Ct(Vt,Nt,Lt,Ut,Ft[12],3873151461,11),Ut=Ct(Ut,Vt,Nt,Lt,Ft[15],530742520,16),Lt=Ct(Lt,Ut,Vt,Nt,Ft[2],3299628645,23),Nt=Dt(Nt,Lt,Ut,Vt,Ft[0],4096336452,6),Vt=Dt(Vt,Nt,Lt,Ut,Ft[7],1126891415,10),Ut=Dt(Ut,Vt,Nt,Lt,Ft[14],2878612391,15),Lt=Dt(Lt,Ut,Vt,Nt,Ft[5],4237533241,21),Nt=Dt(Nt,Lt,Ut,Vt,Ft[12],1700485571,6),Vt=Dt(Vt,Nt,Lt,Ut,Ft[3],2399980690,10),Ut=Dt(Ut,Vt,Nt,Lt,Ft[10],4293915773,15),Lt=Dt(Lt,Ut,Vt,Nt,Ft[1],2240044497,21),Nt=Dt(Nt,Lt,Ut,Vt,Ft[8],1873313359,6),Vt=Dt(Vt,Nt,Lt,Ut,Ft[15],4264355552,10),Ut=Dt(Ut,Vt,Nt,Lt,Ft[6],2734768916,15),Lt=Dt(Lt,Ut,Vt,Nt,Ft[13],1309151649,21),Nt=Dt(Nt,Lt,Ut,Vt,Ft[4],4149444226,6),Vt=Dt(Vt,Nt,Lt,Ut,Ft[11],3174756917,10),Ut=Dt(Ut,Vt,Nt,Lt,Ft[2],718787259,15),Lt=Dt(Lt,Ut,Vt,Nt,Ft[9],3951481745,21),this._a=this._a+Nt|0,this._b=this._b+Lt|0,this._c=this._c+Ut|0,this._d=this._d+Vt|0},at.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Ft=et.allocUnsafe(16);return Ft.writeInt32LE(this._a,0),Ft.writeInt32LE(this._b,4),Ft.writeInt32LE(this._c,8),Ft.writeInt32LE(this._d,12),Ft};function mt(Ft,jt){return Ft<<jt|Ft>>>32-jt}function wt(Ft,jt,Nt,Lt,Ut,Vt,Yt){return mt(Ft+(jt&Nt|~jt&Lt)+Ut+Vt|0,Yt)+jt|0}function $t(Ft,jt,Nt,Lt,Ut,Vt,Yt){return mt(Ft+(jt&Lt|Nt&~Lt)+Ut+Vt|0,Yt)+jt|0}function Ct(Ft,jt,Nt,Lt,Ut,Vt,Yt){return mt(Ft+(jt^Nt^Lt)+Ut+Vt|0,Yt)+jt|0}function Dt(Ft,jt,Nt,Lt,Ut,Vt,Yt){return mt(Ft+(Nt^(jt|~Lt))+Ut+Vt|0,Yt)+jt|0}return md5_js=at,md5_js}var ripemd160$1,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$1;hasRequiredRipemd160$1=1;var s=require$$1$3.Buffer,a=requireInherits_browser(),et=requireHashBase(),nt=new Array(16),at=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],wt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],$t=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ct=[0,1518500249,1859775393,2400959708,2840853838],Dt=[1352829926,1548603684,1836072691,2053994217,0];function Ft(){et.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}a(Ft,et),Ft.prototype._update=function(){for(var er=nt,tr=0;tr<16;++tr)er[tr]=this._block.readInt32LE(tr*4);for(var nr=this._a|0,sr=this._b|0,dr=this._c|0,br=this._d|0,vr=this._e|0,yr=this._a|0,$r=this._b|0,Sr=this._c|0,wr=this._d|0,fr=this._e|0,_r=0;_r<80;_r+=1){var ir,rr;_r<16?(ir=Nt(nr,sr,dr,br,vr,er[at[_r]],Ct[0],wt[_r]),rr=Yt(yr,$r,Sr,wr,fr,er[mt[_r]],Dt[0],$t[_r])):_r<32?(ir=Lt(nr,sr,dr,br,vr,er[at[_r]],Ct[1],wt[_r]),rr=Vt(yr,$r,Sr,wr,fr,er[mt[_r]],Dt[1],$t[_r])):_r<48?(ir=Ut(nr,sr,dr,br,vr,er[at[_r]],Ct[2],wt[_r]),rr=Ut(yr,$r,Sr,wr,fr,er[mt[_r]],Dt[2],$t[_r])):_r<64?(ir=Vt(nr,sr,dr,br,vr,er[at[_r]],Ct[3],wt[_r]),rr=Lt(yr,$r,Sr,wr,fr,er[mt[_r]],Dt[3],$t[_r])):(ir=Yt(nr,sr,dr,br,vr,er[at[_r]],Ct[4],wt[_r]),rr=Nt(yr,$r,Sr,wr,fr,er[mt[_r]],Dt[4],$t[_r])),nr=vr,vr=br,br=jt(dr,10),dr=sr,sr=ir,yr=fr,fr=wr,wr=jt(Sr,10),Sr=$r,$r=rr}var or=this._b+dr+wr|0;this._b=this._c+br+fr|0,this._c=this._d+vr+yr|0,this._d=this._e+nr+$r|0,this._e=this._a+sr+Sr|0,this._a=or},Ft.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var er=s.alloc?s.alloc(20):new s(20);return er.writeInt32LE(this._a,0),er.writeInt32LE(this._b,4),er.writeInt32LE(this._c,8),er.writeInt32LE(this._d,12),er.writeInt32LE(this._e,16),er};function jt(er,tr){return er<<tr|er>>>32-tr}function Nt(er,tr,nr,sr,dr,br,vr,yr){return jt(er+(tr^nr^sr)+br+vr|0,yr)+dr|0}function Lt(er,tr,nr,sr,dr,br,vr,yr){return jt(er+(tr&nr|~tr&sr)+br+vr|0,yr)+dr|0}function Ut(er,tr,nr,sr,dr,br,vr,yr){return jt(er+((tr|~nr)^sr)+br+vr|0,yr)+dr|0}function Vt(er,tr,nr,sr,dr,br,vr,yr){return jt(er+(tr&sr|nr&~sr)+br+vr|0,yr)+dr|0}function Yt(er,tr,nr,sr,dr,br,vr,yr){return jt(er+(tr^(nr|~sr))+br+vr|0,yr)+dr|0}return ripemd160$1=Ft,ripemd160$1}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var s=requireSafeBuffer$1().Buffer;function a(et,nt){this._block=s.alloc(et),this._finalSize=nt,this._blockSize=et,this._len=0}return a.prototype.update=function(et,nt){typeof et=="string"&&(nt=nt||"utf8",et=s.from(et,nt));for(var at=this._block,mt=this._blockSize,wt=et.length,$t=this._len,Ct=0;Ct<wt;){for(var Dt=$t%mt,Ft=Math.min(wt-Ct,mt-Dt),jt=0;jt<Ft;jt++)at[Dt+jt]=et[Ct+jt];$t+=Ft,Ct+=Ft,$t%mt===0&&this._update(at)}return this._len+=wt,this},a.prototype.digest=function(et){var nt=this._len%this._blockSize;this._block[nt]=128,this._block.fill(0,nt+1),nt>=this._finalSize&&(this._update(this._block),this._block.fill(0));var at=this._len*8;if(at<=4294967295)this._block.writeUInt32BE(at,this._blockSize-4);else{var mt=(at&4294967295)>>>0,wt=(at-mt)/4294967296;this._block.writeUInt32BE(wt,this._blockSize-8),this._block.writeUInt32BE(mt,this._blockSize-4)}this._update(this._block);var $t=this._hash();return et?$t.toString(et):$t},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=a,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var s=requireInherits_browser(),a=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1518500249,1859775393,-1894007588,-899497514],at=new Array(80);function mt(){this.init(),this._w=at,a.call(this,64,56)}s(mt,a),mt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function wt(Dt){return Dt<<5|Dt>>>27}function $t(Dt){return Dt<<30|Dt>>>2}function Ct(Dt,Ft,jt,Nt){return Dt===0?Ft&jt|~Ft&Nt:Dt===2?Ft&jt|Ft&Nt|jt&Nt:Ft^jt^Nt}return mt.prototype._update=function(Dt){for(var Ft=this._w,jt=this._a|0,Nt=this._b|0,Lt=this._c|0,Ut=this._d|0,Vt=this._e|0,Yt=0;Yt<16;++Yt)Ft[Yt]=Dt.readInt32BE(Yt*4);for(;Yt<80;++Yt)Ft[Yt]=Ft[Yt-3]^Ft[Yt-8]^Ft[Yt-14]^Ft[Yt-16];for(var er=0;er<80;++er){var tr=~~(er/20),nr=wt(jt)+Ct(tr,Nt,Lt,Ut)+Vt+Ft[er]+nt[tr]|0;Vt=Ut,Ut=Lt,Lt=$t(Nt),Nt=jt,jt=nr}this._a=jt+this._a|0,this._b=Nt+this._b|0,this._c=Lt+this._c|0,this._d=Ut+this._d|0,this._e=Vt+this._e|0},mt.prototype._hash=function(){var Dt=et.allocUnsafe(20);return Dt.writeInt32BE(this._a|0,0),Dt.writeInt32BE(this._b|0,4),Dt.writeInt32BE(this._c|0,8),Dt.writeInt32BE(this._d|0,12),Dt.writeInt32BE(this._e|0,16),Dt},sha$1=mt,sha$1}var sha1$1,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$1;hasRequiredSha1$1=1;var s=requireInherits_browser(),a=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1518500249,1859775393,-1894007588,-899497514],at=new Array(80);function mt(){this.init(),this._w=at,a.call(this,64,56)}s(mt,a),mt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function wt(Ft){return Ft<<1|Ft>>>31}function $t(Ft){return Ft<<5|Ft>>>27}function Ct(Ft){return Ft<<30|Ft>>>2}function Dt(Ft,jt,Nt,Lt){return Ft===0?jt&Nt|~jt&Lt:Ft===2?jt&Nt|jt&Lt|Nt&Lt:jt^Nt^Lt}return mt.prototype._update=function(Ft){for(var jt=this._w,Nt=this._a|0,Lt=this._b|0,Ut=this._c|0,Vt=this._d|0,Yt=this._e|0,er=0;er<16;++er)jt[er]=Ft.readInt32BE(er*4);for(;er<80;++er)jt[er]=wt(jt[er-3]^jt[er-8]^jt[er-14]^jt[er-16]);for(var tr=0;tr<80;++tr){var nr=~~(tr/20),sr=$t(Nt)+Dt(nr,Lt,Ut,Vt)+Yt+jt[tr]+nt[nr]|0;Yt=Vt,Vt=Ut,Ut=Ct(Lt),Lt=Nt,Nt=sr}this._a=Nt+this._a|0,this._b=Lt+this._b|0,this._c=Ut+this._c|0,this._d=Vt+this._d|0,this._e=Yt+this._e|0},mt.prototype._hash=function(){var Ft=et.allocUnsafe(20);return Ft.writeInt32BE(this._a|0,0),Ft.writeInt32BE(this._b|0,4),Ft.writeInt32BE(this._c|0,8),Ft.writeInt32BE(this._d|0,12),Ft.writeInt32BE(this._e|0,16),Ft},sha1$1=mt,sha1$1}var sha256$2,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$2;hasRequiredSha256$1=1;var s=requireInherits_browser(),a=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],at=new Array(64);function mt(){this.init(),this._w=at,a.call(this,64,56)}s(mt,a),mt.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function wt(Nt,Lt,Ut){return Ut^Nt&(Lt^Ut)}function $t(Nt,Lt,Ut){return Nt&Lt|Ut&(Nt|Lt)}function Ct(Nt){return(Nt>>>2|Nt<<30)^(Nt>>>13|Nt<<19)^(Nt>>>22|Nt<<10)}function Dt(Nt){return(Nt>>>6|Nt<<26)^(Nt>>>11|Nt<<21)^(Nt>>>25|Nt<<7)}function Ft(Nt){return(Nt>>>7|Nt<<25)^(Nt>>>18|Nt<<14)^Nt>>>3}function jt(Nt){return(Nt>>>17|Nt<<15)^(Nt>>>19|Nt<<13)^Nt>>>10}return mt.prototype._update=function(Nt){for(var Lt=this._w,Ut=this._a|0,Vt=this._b|0,Yt=this._c|0,er=this._d|0,tr=this._e|0,nr=this._f|0,sr=this._g|0,dr=this._h|0,br=0;br<16;++br)Lt[br]=Nt.readInt32BE(br*4);for(;br<64;++br)Lt[br]=jt(Lt[br-2])+Lt[br-7]+Ft(Lt[br-15])+Lt[br-16]|0;for(var vr=0;vr<64;++vr){var yr=dr+Dt(tr)+wt(tr,nr,sr)+nt[vr]+Lt[vr]|0,$r=Ct(Ut)+$t(Ut,Vt,Yt)|0;dr=sr,sr=nr,nr=tr,tr=er+yr|0,er=Yt,Yt=Vt,Vt=Ut,Ut=yr+$r|0}this._a=Ut+this._a|0,this._b=Vt+this._b|0,this._c=Yt+this._c|0,this._d=er+this._d|0,this._e=tr+this._e|0,this._f=nr+this._f|0,this._g=sr+this._g|0,this._h=dr+this._h|0},mt.prototype._hash=function(){var Nt=et.allocUnsafe(32);return Nt.writeInt32BE(this._a,0),Nt.writeInt32BE(this._b,4),Nt.writeInt32BE(this._c,8),Nt.writeInt32BE(this._d,12),Nt.writeInt32BE(this._e,16),Nt.writeInt32BE(this._f,20),Nt.writeInt32BE(this._g,24),Nt.writeInt32BE(this._h,28),Nt},sha256$2=mt,sha256$2}var sha224$2,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$2;hasRequiredSha224$1=1;var s=requireInherits_browser(),a=requireSha256$1(),et=requireHash$1(),nt=requireSafeBuffer$1().Buffer,at=new Array(64);function mt(){this.init(),this._w=at,et.call(this,64,56)}return s(mt,a),mt.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},mt.prototype._hash=function(){var wt=nt.allocUnsafe(28);return wt.writeInt32BE(this._a,0),wt.writeInt32BE(this._b,4),wt.writeInt32BE(this._c,8),wt.writeInt32BE(this._d,12),wt.writeInt32BE(this._e,16),wt.writeInt32BE(this._f,20),wt.writeInt32BE(this._g,24),wt},sha224$2=mt,sha224$2}var sha512$2,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$2;hasRequiredSha512$1=1;var s=requireInherits_browser(),a=requireHash$1(),et=requireSafeBuffer$1().Buffer,nt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],at=new Array(160);function mt(){this.init(),this._w=at,a.call(this,128,112)}s(mt,a),mt.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function wt(Vt,Yt,er){return er^Vt&(Yt^er)}function $t(Vt,Yt,er){return Vt&Yt|er&(Vt|Yt)}function Ct(Vt,Yt){return(Vt>>>28|Yt<<4)^(Yt>>>2|Vt<<30)^(Yt>>>7|Vt<<25)}function Dt(Vt,Yt){return(Vt>>>14|Yt<<18)^(Vt>>>18|Yt<<14)^(Yt>>>9|Vt<<23)}function Ft(Vt,Yt){return(Vt>>>1|Yt<<31)^(Vt>>>8|Yt<<24)^Vt>>>7}function jt(Vt,Yt){return(Vt>>>1|Yt<<31)^(Vt>>>8|Yt<<24)^(Vt>>>7|Yt<<25)}function Nt(Vt,Yt){return(Vt>>>19|Yt<<13)^(Yt>>>29|Vt<<3)^Vt>>>6}function Lt(Vt,Yt){return(Vt>>>19|Yt<<13)^(Yt>>>29|Vt<<3)^(Vt>>>6|Yt<<26)}function Ut(Vt,Yt){return Vt>>>0<Yt>>>0?1:0}return mt.prototype._update=function(Vt){for(var Yt=this._w,er=this._ah|0,tr=this._bh|0,nr=this._ch|0,sr=this._dh|0,dr=this._eh|0,br=this._fh|0,vr=this._gh|0,yr=this._hh|0,$r=this._al|0,Sr=this._bl|0,wr=this._cl|0,fr=this._dl|0,_r=this._el|0,ir=this._fl|0,rr=this._gl|0,or=this._hl|0,ar=0;ar<32;ar+=2)Yt[ar]=Vt.readInt32BE(ar*4),Yt[ar+1]=Vt.readInt32BE(ar*4+4);for(;ar<160;ar+=2){var ur=Yt[ar-30],pr=Yt[ar-15*2+1],cr=Ft(ur,pr),gr=jt(pr,ur);ur=Yt[ar-2*2],pr=Yt[ar-2*2+1];var hr=Nt(ur,pr),lr=Lt(pr,ur),xr=Yt[ar-7*2],Mr=Yt[ar-7*2+1],Pr=Yt[ar-16*2],Ar=Yt[ar-16*2+1],Ir=gr+Mr|0,qr=cr+xr+Ut(Ir,gr)|0;Ir=Ir+lr|0,qr=qr+hr+Ut(Ir,lr)|0,Ir=Ir+Ar|0,qr=qr+Pr+Ut(Ir,Ar)|0,Yt[ar]=qr,Yt[ar+1]=Ir}for(var Rr=0;Rr<160;Rr+=2){qr=Yt[Rr],Ir=Yt[Rr+1];var Tr=$t(er,tr,nr),Er=$t($r,Sr,wr),Br=Ct(er,$r),Nr=Ct($r,er),zr=Dt(dr,_r),Hr=Dt(_r,dr),jr=nt[Rr],Ur=nt[Rr+1],Fr=wt(dr,br,vr),Gr=wt(_r,ir,rr),Wr=or+Hr|0,nn=yr+zr+Ut(Wr,or)|0;Wr=Wr+Gr|0,nn=nn+Fr+Ut(Wr,Gr)|0,Wr=Wr+Ur|0,nn=nn+jr+Ut(Wr,Ur)|0,Wr=Wr+Ir|0,nn=nn+qr+Ut(Wr,Ir)|0;var Ln=Nr+Er|0,Un=Br+Tr+Ut(Ln,Nr)|0;yr=vr,or=rr,vr=br,rr=ir,br=dr,ir=_r,_r=fr+Wr|0,dr=sr+nn+Ut(_r,fr)|0,sr=nr,fr=wr,nr=tr,wr=Sr,tr=er,Sr=$r,$r=Wr+Ln|0,er=nn+Un+Ut($r,Wr)|0}this._al=this._al+$r|0,this._bl=this._bl+Sr|0,this._cl=this._cl+wr|0,this._dl=this._dl+fr|0,this._el=this._el+_r|0,this._fl=this._fl+ir|0,this._gl=this._gl+rr|0,this._hl=this._hl+or|0,this._ah=this._ah+er+Ut(this._al,$r)|0,this._bh=this._bh+tr+Ut(this._bl,Sr)|0,this._ch=this._ch+nr+Ut(this._cl,wr)|0,this._dh=this._dh+sr+Ut(this._dl,fr)|0,this._eh=this._eh+dr+Ut(this._el,_r)|0,this._fh=this._fh+br+Ut(this._fl,ir)|0,this._gh=this._gh+vr+Ut(this._gl,rr)|0,this._hh=this._hh+yr+Ut(this._hl,or)|0},mt.prototype._hash=function(){var Vt=et.allocUnsafe(64);function Yt(er,tr,nr){Vt.writeInt32BE(er,nr),Vt.writeInt32BE(tr,nr+4)}return Yt(this._ah,this._al,0),Yt(this._bh,this._bl,8),Yt(this._ch,this._cl,16),Yt(this._dh,this._dl,24),Yt(this._eh,this._el,32),Yt(this._fh,this._fl,40),Yt(this._gh,this._gl,48),Yt(this._hh,this._hl,56),Vt},sha512$2=mt,sha512$2}var sha384$2,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$2;hasRequiredSha384$1=1;var s=requireInherits_browser(),a=requireSha512$1(),et=requireHash$1(),nt=requireSafeBuffer$1().Buffer,at=new Array(160);function mt(){this.init(),this._w=at,et.call(this,128,112)}return s(mt,a),mt.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},mt.prototype._hash=function(){var wt=nt.allocUnsafe(48);function $t(Ct,Dt,Ft){wt.writeInt32BE(Ct,Ft),wt.writeInt32BE(Dt,Ft+4)}return $t(this._ah,this._al,0),$t(this._bh,this._bl,8),$t(this._ch,this._cl,16),$t(this._dh,this._dl,24),$t(this._eh,this._el,32),$t(this._fh,this._fl,40),wt},sha384$2=mt,sha384$2}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var s=sha_js.exports=function(et){et=et.toLowerCase();var nt=s[et];if(!nt)throw new Error(et+" is not supported (we accept pull requests)");return new nt};return s.sha=requireSha$1(),s.sha1=requireSha1$1(),s.sha224=requireSha224$1(),s.sha256=requireSha256$1(),s.sha384=requireSha384$1(),s.sha512=requireSha512$1(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var s=requireSafeBuffer$1().Buffer,a=requireStreamBrowserify().Transform,et=requireString_decoder().StringDecoder,nt=requireInherits_browser();function at(Ct){a.call(this),this.hashMode=typeof Ct=="string",this.hashMode?this[Ct]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}nt(at,a);var mt=typeof Uint8Array<"u",wt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(s.prototype instanceof Uint8Array||s.TYPED_ARRAY_SUPPORT);function $t(Ct,Dt){if(Ct instanceof s)return Ct;if(typeof Ct=="string")return s.from(Ct,Dt);if(wt&&ArrayBuffer.isView(Ct)){if(Ct.byteLength===0)return s.alloc(0);var Ft=s.from(Ct.buffer,Ct.byteOffset,Ct.byteLength);if(Ft.byteLength===Ct.byteLength)return Ft}if(mt&&Ct instanceof Uint8Array||s.isBuffer(Ct)&&Ct.constructor&&typeof Ct.constructor.isBuffer=="function"&&Ct.constructor.isBuffer(Ct))return s.from(Ct);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return at.prototype.update=function(Ct,Dt,Ft){var jt=$t(Ct,Dt),Nt=this._update(jt);return this.hashMode?this:(Ft&&(Nt=this._toString(Nt,Ft)),Nt)},at.prototype.setAutoPadding=function(){},at.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},at.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},at.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},at.prototype._transform=function(Ct,Dt,Ft){var jt;try{this.hashMode?this._update(Ct):this.push(this._update(Ct))}catch(Nt){jt=Nt}finally{Ft(jt)}},at.prototype._flush=function(Ct){var Dt;try{this.push(this.__final())}catch(Ft){Dt=Ft}Ct(Dt)},at.prototype._finalOrDigest=function(Ct){var Dt=this.__final()||s.alloc(0);return Ct&&(Dt=this._toString(Dt,Ct,!0)),Dt},at.prototype._toString=function(Ct,Dt,Ft){if(this._decoder||(this._decoder=new et(Dt),this._encoding=Dt),this._encoding!==Dt)throw new Error("cant switch encodings");var jt=this._decoder.write(Ct);return Ft&&(jt+=this._decoder.end()),jt},cipherBase=at,cipherBase}var browser$b,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$b;hasRequiredBrowser$9=1;var s=requireInherits_browser(),a=requireMd5_js(),et=requireRipemd160$1(),nt=requireSha_js(),at=requireCipherBase();function mt(wt){at.call(this,"digest"),this._hash=wt}return s(mt,at),mt.prototype._update=function(wt){this._hash.update(wt)},mt.prototype._final=function(){return this._hash.digest()},browser$b=function($t){return $t=$t.toLowerCase(),$t==="md5"?new a:$t==="rmd160"||$t==="ripemd160"?new et:new mt(nt($t))},browser$b}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var s=requireInherits_browser(),a=requireSafeBuffer$1().Buffer,et=requireCipherBase(),nt=a.alloc(128),at=64;function mt(wt,$t){et.call(this,"digest"),typeof $t=="string"&&($t=a.from($t)),this._alg=wt,this._key=$t,$t.length>at?$t=wt($t):$t.length<at&&($t=a.concat([$t,nt],at));for(var Ct=this._ipad=a.allocUnsafe(at),Dt=this._opad=a.allocUnsafe(at),Ft=0;Ft<at;Ft++)Ct[Ft]=$t[Ft]^54,Dt[Ft]=$t[Ft]^92;this._hash=[Ct]}return s(mt,et),mt.prototype._update=function(wt){this._hash.push(wt)},mt.prototype._final=function(){var wt=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,wt]))},legacy=mt,legacy}var md5$1,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$1;hasRequiredMd5$1=1;var s=requireMd5_js();return md5$1=function(a){return new s().update(a).digest()},md5$1}var browser$a,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$a;hasRequiredBrowser$8=1;var s=requireInherits_browser(),a=requireLegacy(),et=requireCipherBase(),nt=requireSafeBuffer$1().Buffer,at=requireMd5$1(),mt=requireRipemd160$1(),wt=requireSha_js(),$t=nt.alloc(128);function Ct(Dt,Ft){et.call(this,"digest"),typeof Ft=="string"&&(Ft=nt.from(Ft));var jt=Dt==="sha512"||Dt==="sha384"?128:64;if(this._alg=Dt,this._key=Ft,Ft.length>jt){var Nt=Dt==="rmd160"?new mt:wt(Dt);Ft=Nt.update(Ft).digest()}else Ft.length<jt&&(Ft=nt.concat([Ft,$t],jt));for(var Lt=this._ipad=nt.allocUnsafe(jt),Ut=this._opad=nt.allocUnsafe(jt),Vt=0;Vt<jt;Vt++)Lt[Vt]=Ft[Vt]^54,Ut[Vt]=Ft[Vt]^92;this._hash=Dt==="rmd160"?new mt:wt(Dt),this._hash.update(Lt)}return s(Ct,et),Ct.prototype._update=function(Dt){this._hash.update(Dt)},Ct.prototype._final=function(){var Dt=this._hash.digest(),Ft=this._alg==="rmd160"?new mt:wt(this._alg);return Ft.update(this._opad).update(Dt).digest()},browser$a=function(Ft,jt){return Ft=Ft.toLowerCase(),Ft==="rmd160"||Ft==="ripemd160"?new Ct("rmd160",jt):Ft==="md5"?new a(at,jt):new Ct(Ft,jt)},browser$a}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224:sha224$1,sha384:sha384$1,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$9={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var s=Math.pow(2,30)-1;return precondition=function(a,et){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof et!="number")throw new TypeError("Key length not a number");if(et<0||et>s||et!==et)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var s;if(commonjsGlobal$1.process&&commonjsGlobal$1.process.browser)s="utf-8";else if(commonjsGlobal$1.process&&commonjsGlobal$1.process.version){var a=parseInt(process$1.version.split(".")[0].slice(1),10);s=a>=6?"utf-8":"binary"}else s="utf-8";return defaultEncoding_1=s,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var s=requireSafeBuffer$1().Buffer;return toBuffer=function(a,et,nt){if(s.isBuffer(a))return a;if(typeof a=="string")return s.from(a,et);if(ArrayBuffer.isView(a))return s.from(a.buffer);throw new TypeError(nt+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var s=requireMd5$1(),a=requireRipemd160$1(),et=requireSha_js(),nt=requireSafeBuffer$1().Buffer,at=requirePrecondition(),mt=requireDefaultEncoding(),wt=requireToBuffer(),$t=nt.alloc(128),Ct={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Dt(Nt,Lt,Ut){var Vt=Ft(Nt),Yt=Nt==="sha512"||Nt==="sha384"?128:64;Lt.length>Yt?Lt=Vt(Lt):Lt.length<Yt&&(Lt=nt.concat([Lt,$t],Yt));for(var er=nt.allocUnsafe(Yt+Ct[Nt]),tr=nt.allocUnsafe(Yt+Ct[Nt]),nr=0;nr<Yt;nr++)er[nr]=Lt[nr]^54,tr[nr]=Lt[nr]^92;var sr=nt.allocUnsafe(Yt+Ut+4);er.copy(sr,0,0,Yt),this.ipad1=sr,this.ipad2=er,this.opad=tr,this.alg=Nt,this.blocksize=Yt,this.hash=Vt,this.size=Ct[Nt]}Dt.prototype.run=function(Nt,Lt){Nt.copy(Lt,this.blocksize);var Ut=this.hash(Lt);return Ut.copy(this.opad,this.blocksize),this.hash(this.opad)};function Ft(Nt){function Lt(Vt){return et(Nt).update(Vt).digest()}function Ut(Vt){return new a().update(Vt).digest()}return Nt==="rmd160"||Nt==="ripemd160"?Ut:Nt==="md5"?s:Lt}function jt(Nt,Lt,Ut,Vt,Yt){at(Ut,Vt),Nt=wt(Nt,mt,"Password"),Lt=wt(Lt,mt,"Salt"),Yt=Yt||"sha1";var er=new Dt(Yt,Nt,Lt.length),tr=nt.allocUnsafe(Vt),nr=nt.allocUnsafe(Lt.length+4);Lt.copy(nr,0,0,Lt.length);for(var sr=0,dr=Ct[Yt],br=Math.ceil(Vt/dr),vr=1;vr<=br;vr++){nr.writeUInt32BE(vr,Lt.length);for(var yr=er.run(nr,er.ipad1),$r=yr,Sr=1;Sr<Ut;Sr++){$r=er.run($r,er.ipad2);for(var wr=0;wr<dr;wr++)yr[wr]^=$r[wr]}yr.copy(tr,sr),sr+=dr}return tr}return syncBrowser=jt,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var s=requireSafeBuffer$1().Buffer,a=requirePrecondition(),et=requireDefaultEncoding(),nt=requireSyncBrowser(),at=requireToBuffer(),mt,wt=commonjsGlobal$1.crypto&&commonjsGlobal$1.crypto.subtle,$t={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Ct=[];function Dt(Ut){if(commonjsGlobal$1.process&&!commonjsGlobal$1.process.browser||!wt||!wt.importKey||!wt.deriveBits)return Promise.resolve(!1);if(Ct[Ut]!==void 0)return Ct[Ut];mt=mt||s.alloc(8);var Vt=Nt(mt,mt,10,128,Ut).then(function(){return!0}).catch(function(){return!1});return Ct[Ut]=Vt,Vt}var Ft;function jt(){return Ft||(commonjsGlobal$1.process&&commonjsGlobal$1.process.nextTick?Ft=commonjsGlobal$1.process.nextTick:commonjsGlobal$1.queueMicrotask?Ft=commonjsGlobal$1.queueMicrotask:commonjsGlobal$1.setImmediate?Ft=commonjsGlobal$1.setImmediate:Ft=commonjsGlobal$1.setTimeout,Ft)}function Nt(Ut,Vt,Yt,er,tr){return wt.importKey("raw",Ut,{name:"PBKDF2"},!1,["deriveBits"]).then(function(nr){return wt.deriveBits({name:"PBKDF2",salt:Vt,iterations:Yt,hash:{name:tr}},nr,er<<3)}).then(function(nr){return s.from(nr)})}function Lt(Ut,Vt){Ut.then(function(Yt){jt()(function(){Vt(null,Yt)})},function(Yt){jt()(function(){Vt(Yt)})})}return async=function(Ut,Vt,Yt,er,tr,nr){typeof tr=="function"&&(nr=tr,tr=void 0),tr=tr||"sha1";var sr=$t[tr.toLowerCase()];if(!sr||typeof commonjsGlobal$1.Promise!="function"){jt()(function(){var dr;try{dr=nt(Ut,Vt,Yt,er,tr)}catch(br){return nr(br)}nr(null,dr)});return}if(a(Yt,er),Ut=at(Ut,et,"Password"),Vt=at(Vt,et,"Salt"),typeof nr!="function")throw new Error("No callback provided to pbkdf2");Lt(Dt(sr).then(function(dr){return dr?Nt(Ut,Vt,Yt,er,sr):nt(Ut,Vt,Yt,er,tr)}),nr)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$9.pbkdf2=requireAsync(),browser$9.pbkdf2Sync=requireSyncBrowser()),browser$9}var browser$8={},des$1={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$3;hasRequiredUtils$3=1,utils$3.readUInt32BE=function(at,mt){var wt=at[0+mt]<<24|at[1+mt]<<16|at[2+mt]<<8|at[3+mt];return wt>>>0},utils$3.writeUInt32BE=function(at,mt,wt){at[0+wt]=mt>>>24,at[1+wt]=mt>>>16&255,at[2+wt]=mt>>>8&255,at[3+wt]=mt&255},utils$3.ip=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=6;Ft>=0;Ft-=2){for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=mt>>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=at>>>jt+Ft&1}for(var Ft=6;Ft>=0;Ft-=2){for(var jt=1;jt<=25;jt+=8)Dt<<=1,Dt|=mt>>>jt+Ft&1;for(var jt=1;jt<=25;jt+=8)Dt<<=1,Dt|=at>>>jt+Ft&1}wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.rip=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=0;Ft<4;Ft++)for(var jt=24;jt>=0;jt-=8)Ct<<=1,Ct|=mt>>>jt+Ft&1,Ct<<=1,Ct|=at>>>jt+Ft&1;for(var Ft=4;Ft<8;Ft++)for(var jt=24;jt>=0;jt-=8)Dt<<=1,Dt|=mt>>>jt+Ft&1,Dt<<=1,Dt|=at>>>jt+Ft&1;wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.pc1=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=7;Ft>=5;Ft--){for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=mt>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=at>>jt+Ft&1}for(var jt=0;jt<=24;jt+=8)Ct<<=1,Ct|=mt>>jt+Ft&1;for(var Ft=1;Ft<=3;Ft++){for(var jt=0;jt<=24;jt+=8)Dt<<=1,Dt|=mt>>jt+Ft&1;for(var jt=0;jt<=24;jt+=8)Dt<<=1,Dt|=at>>jt+Ft&1}for(var jt=0;jt<=24;jt+=8)Dt<<=1,Dt|=at>>jt+Ft&1;wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.r28shl=function(at,mt){return at<<mt&268435455|at>>>28-mt};var s=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$3.pc2=function(at,mt,wt,$t){for(var Ct=0,Dt=0,Ft=s.length>>>1,jt=0;jt<Ft;jt++)Ct<<=1,Ct|=at>>>s[jt]&1;for(var jt=Ft;jt<s.length;jt++)Dt<<=1,Dt|=mt>>>s[jt]&1;wt[$t+0]=Ct>>>0,wt[$t+1]=Dt>>>0},utils$3.expand=function(at,mt,wt){var $t=0,Ct=0;$t=(at&1)<<5|at>>>27;for(var Dt=23;Dt>=15;Dt-=4)$t<<=6,$t|=at>>>Dt&63;for(var Dt=11;Dt>=3;Dt-=4)Ct|=at>>>Dt&63,Ct<<=6;Ct|=(at&31)<<1|at>>>31,mt[wt+0]=$t>>>0,mt[wt+1]=Ct>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$3.substitute=function(at,mt){for(var wt=0,$t=0;$t<4;$t++){var Ct=at>>>18-$t*6&63,Dt=a[$t*64+Ct];wt<<=4,wt|=Dt}for(var $t=0;$t<4;$t++){var Ct=mt>>>18-$t*6&63,Dt=a[4*64+$t*64+Ct];wt<<=4,wt|=Dt}return wt>>>0};var et=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$3.permute=function(at){for(var mt=0,wt=0;wt<et.length;wt++)mt<<=1,mt|=at>>>et[wt]&1;return mt>>>0},utils$3.padSplit=function(at,mt,wt){for(var $t=at.toString(2);$t.length<mt;)$t="0"+$t;for(var Ct=[],Dt=0;Dt<mt;Dt+=wt)Ct.push($t.slice(Dt,Dt+wt));return Ct.join(" ")},utils$3}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=s;function s(a,et){if(!a)throw new Error(et||"Assertion failed")}return s.equal=function(et,nt,at){if(et!=nt)throw new Error(at||"Assertion failed: "+et+" != "+nt)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var s=requireMinimalisticAssert();function a(et){this.options=et,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=et.padding!==!1}return cipher=a,a.prototype._init=function(){},a.prototype.update=function(nt){return nt.length===0?[]:this.type==="decrypt"?this._updateDecrypt(nt):this._updateEncrypt(nt)},a.prototype._buffer=function(nt,at){for(var mt=Math.min(this.buffer.length-this.bufferOff,nt.length-at),wt=0;wt<mt;wt++)this.buffer[this.bufferOff+wt]=nt[at+wt];return this.bufferOff+=mt,mt},a.prototype._flushBuffer=function(nt,at){return this._update(this.buffer,0,nt,at),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(nt){var at=0,mt=0,wt=(this.bufferOff+nt.length)/this.blockSize|0,$t=new Array(wt*this.blockSize);this.bufferOff!==0&&(at+=this._buffer(nt,at),this.bufferOff===this.buffer.length&&(mt+=this._flushBuffer($t,mt)));for(var Ct=nt.length-(nt.length-at)%this.blockSize;at<Ct;at+=this.blockSize)this._update(nt,at,$t,mt),mt+=this.blockSize;for(;at<nt.length;at++,this.bufferOff++)this.buffer[this.bufferOff]=nt[at];return $t},a.prototype._updateDecrypt=function(nt){for(var at=0,mt=0,wt=Math.ceil((this.bufferOff+nt.length)/this.blockSize)-1,$t=new Array(wt*this.blockSize);wt>0;wt--)at+=this._buffer(nt,at),mt+=this._flushBuffer($t,mt);return at+=this._buffer(nt,at),$t},a.prototype.final=function(nt){var at;nt&&(at=this.update(nt));var mt;return this.type==="encrypt"?mt=this._finalEncrypt():mt=this._finalDecrypt(),at?at.concat(mt):mt},a.prototype._pad=function(nt,at){if(at===0)return!1;for(;at<nt.length;)nt[at++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var nt=new Array(this.blockSize);return this._update(this.buffer,0,nt,0),nt},a.prototype._unpad=function(nt){return nt},a.prototype._finalDecrypt=function(){s.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var nt=new Array(this.blockSize);return this._flushBuffer(nt,0),this._unpad(nt)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var s=requireMinimalisticAssert(),a=requireInherits_browser(),et=requireUtils$3(),nt=requireCipher();function at(){this.tmp=new Array(2),this.keys=null}function mt($t){nt.call(this,$t);var Ct=new at;this._desState=Ct,this.deriveKeys(Ct,$t.key)}a(mt,nt),des=mt,mt.create=function(Ct){return new mt(Ct)};var wt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return mt.prototype.deriveKeys=function(Ct,Dt){Ct.keys=new Array(16*2),s.equal(Dt.length,this.blockSize,"Invalid key length");var Ft=et.readUInt32BE(Dt,0),jt=et.readUInt32BE(Dt,4);et.pc1(Ft,jt,Ct.tmp,0),Ft=Ct.tmp[0],jt=Ct.tmp[1];for(var Nt=0;Nt<Ct.keys.length;Nt+=2){var Lt=wt[Nt>>>1];Ft=et.r28shl(Ft,Lt),jt=et.r28shl(jt,Lt),et.pc2(Ft,jt,Ct.keys,Nt)}},mt.prototype._update=function(Ct,Dt,Ft,jt){var Nt=this._desState,Lt=et.readUInt32BE(Ct,Dt),Ut=et.readUInt32BE(Ct,Dt+4);et.ip(Lt,Ut,Nt.tmp,0),Lt=Nt.tmp[0],Ut=Nt.tmp[1],this.type==="encrypt"?this._encrypt(Nt,Lt,Ut,Nt.tmp,0):this._decrypt(Nt,Lt,Ut,Nt.tmp,0),Lt=Nt.tmp[0],Ut=Nt.tmp[1],et.writeUInt32BE(Ft,Lt,jt),et.writeUInt32BE(Ft,Ut,jt+4)},mt.prototype._pad=function(Ct,Dt){if(this.padding===!1)return!1;for(var Ft=Ct.length-Dt,jt=Dt;jt<Ct.length;jt++)Ct[jt]=Ft;return!0},mt.prototype._unpad=function(Ct){if(this.padding===!1)return Ct;for(var Dt=Ct[Ct.length-1],Ft=Ct.length-Dt;Ft<Ct.length;Ft++)s.equal(Ct[Ft],Dt);return Ct.slice(0,Ct.length-Dt)},mt.prototype._encrypt=function(Ct,Dt,Ft,jt,Nt){for(var Lt=Dt,Ut=Ft,Vt=0;Vt<Ct.keys.length;Vt+=2){var Yt=Ct.keys[Vt],er=Ct.keys[Vt+1];et.expand(Ut,Ct.tmp,0),Yt^=Ct.tmp[0],er^=Ct.tmp[1];var tr=et.substitute(Yt,er),nr=et.permute(tr),sr=Ut;Ut=(Lt^nr)>>>0,Lt=sr}et.rip(Ut,Lt,jt,Nt)},mt.prototype._decrypt=function(Ct,Dt,Ft,jt,Nt){for(var Lt=Ft,Ut=Dt,Vt=Ct.keys.length-2;Vt>=0;Vt-=2){var Yt=Ct.keys[Vt],er=Ct.keys[Vt+1];et.expand(Lt,Ct.tmp,0),Yt^=Ct.tmp[0],er^=Ct.tmp[1];var tr=et.substitute(Yt,er),nr=et.permute(tr),sr=Lt;Lt=(Ut^nr)>>>0,Ut=sr}et.rip(Lt,Ut,jt,Nt)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var s=requireMinimalisticAssert(),a=requireInherits_browser(),et={};function nt(mt){s.equal(mt.length,8,"Invalid IV length"),this.iv=new Array(8);for(var wt=0;wt<this.iv.length;wt++)this.iv[wt]=mt[wt]}function at(mt){function wt(Ft){mt.call(this,Ft),this._cbcInit()}a(wt,mt);for(var $t=Object.keys(et),Ct=0;Ct<$t.length;Ct++){var Dt=$t[Ct];wt.prototype[Dt]=et[Dt]}return wt.create=function(jt){return new wt(jt)},wt}return cbc$1.instantiate=at,et._cbcInit=function(){var wt=new nt(this.options.iv);this._cbcState=wt},et._update=function(wt,$t,Ct,Dt){var Ft=this._cbcState,jt=this.constructor.super_.prototype,Nt=Ft.iv;if(this.type==="encrypt"){for(var Lt=0;Lt<this.blockSize;Lt++)Nt[Lt]^=wt[$t+Lt];jt._update.call(this,Nt,0,Ct,Dt);for(var Lt=0;Lt<this.blockSize;Lt++)Nt[Lt]=Ct[Dt+Lt]}else{jt._update.call(this,wt,$t,Ct,Dt);for(var Lt=0;Lt<this.blockSize;Lt++)Ct[Dt+Lt]^=Nt[Lt];for(var Lt=0;Lt<this.blockSize;Lt++)Nt[Lt]=wt[$t+Lt]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var s=requireMinimalisticAssert(),a=requireInherits_browser(),et=requireCipher(),nt=requireDes$1();function at(wt,$t){s.equal($t.length,24,"Invalid key length");var Ct=$t.slice(0,8),Dt=$t.slice(8,16),Ft=$t.slice(16,24);wt==="encrypt"?this.ciphers=[nt.create({type:"encrypt",key:Ct}),nt.create({type:"decrypt",key:Dt}),nt.create({type:"encrypt",key:Ft})]:this.ciphers=[nt.create({type:"decrypt",key:Ft}),nt.create({type:"encrypt",key:Dt}),nt.create({type:"decrypt",key:Ct})]}function mt(wt){et.call(this,wt);var $t=new at(this.type,this.options.key);this._edeState=$t}return a(mt,et),ede=mt,mt.create=function($t){return new mt($t)},mt.prototype._update=function($t,Ct,Dt,Ft){var jt=this._edeState;jt.ciphers[0]._update($t,Ct,Dt,Ft),jt.ciphers[1]._update(Dt,Ft,Dt,Ft),jt.ciphers[2]._update(Dt,Ft,Dt,Ft)},mt.prototype._pad=nt.prototype._pad,mt.prototype._unpad=nt.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var s=requireCipherBase(),a=requireDes(),et=requireInherits_browser(),nt=requireSafeBuffer$1().Buffer,at={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};at.des=at["des-cbc"],at.des3=at["des-ede3-cbc"],browserifyDes=mt,et(mt,s);function mt(wt){s.call(this);var $t=wt.mode.toLowerCase(),Ct=at[$t],Dt;wt.decrypt?Dt="decrypt":Dt="encrypt";var Ft=wt.key;nt.isBuffer(Ft)||(Ft=nt.from(Ft)),($t==="des-ede"||$t==="des-ede-cbc")&&(Ft=nt.concat([Ft,Ft.slice(0,8)]));var jt=wt.iv;nt.isBuffer(jt)||(jt=nt.from(jt)),this._des=Ct.create({key:Ft,iv:jt,type:Dt})}return mt.prototype._update=function(wt){return nt.from(this._des.update(wt))},mt.prototype._final=function(){return nt.from(this._des.final())},browserifyDes}var browser$7={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(s,a){return s._cipher.encryptBlock(a)},ecb.decrypt=function(s,a){return s._cipher.decryptBlock(a)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(a,et){for(var nt=Math.min(a.length,et.length),at=new Buffer$1(nt),mt=0;mt<nt;++mt)at[mt]=a[mt]^et[mt];return at}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var s=requireBufferXor();return cbc.encrypt=function(a,et){var nt=s(et,a._prev);return a._prev=a._cipher.encryptBlock(nt),a._prev},cbc.decrypt=function(a,et){var nt=a._prev;a._prev=et;var at=a._cipher.decryptBlock(et);return s(at,nt)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var s=requireSafeBuffer$1().Buffer,a=requireBufferXor();function et(nt,at,mt){var wt=at.length,$t=a(at,nt._cache);return nt._cache=nt._cache.slice(wt),nt._prev=s.concat([nt._prev,mt?at:$t]),$t}return cfb.encrypt=function(nt,at,mt){for(var wt=s.allocUnsafe(0),$t;at.length;)if(nt._cache.length===0&&(nt._cache=nt._cipher.encryptBlock(nt._prev),nt._prev=s.allocUnsafe(0)),nt._cache.length<=at.length)$t=nt._cache.length,wt=s.concat([wt,et(nt,at.slice(0,$t),mt)]),at=at.slice($t);else{wt=s.concat([wt,et(nt,at,mt)]);break}return wt},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var s=requireSafeBuffer$1().Buffer;function a(et,nt,at){var mt=et._cipher.encryptBlock(et._prev),wt=mt[0]^nt;return et._prev=s.concat([et._prev.slice(1),s.from([at?nt:wt])]),wt}return cfb8.encrypt=function(et,nt,at){for(var mt=nt.length,wt=s.allocUnsafe(mt),$t=-1;++$t<mt;)wt[$t]=a(et,nt[$t],at);return wt},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var s=requireSafeBuffer$1().Buffer;function a(nt,at,mt){for(var wt,$t=-1,Ct=8,Dt=0,Ft,jt;++$t<Ct;)wt=nt._cipher.encryptBlock(nt._prev),Ft=at&1<<7-$t?128:0,jt=wt[0]^Ft,Dt+=(jt&128)>>$t%8,nt._prev=et(nt._prev,mt?Ft:jt);return Dt}function et(nt,at){var mt=nt.length,wt=-1,$t=s.allocUnsafe(nt.length);for(nt=s.concat([nt,s.from([at])]);++wt<mt;)$t[wt]=nt[wt]<<1|nt[wt+1]>>7;return $t}return cfb1.encrypt=function(nt,at,mt){for(var wt=at.length,$t=s.allocUnsafe(wt),Ct=-1;++Ct<wt;)$t[Ct]=a(nt,at[Ct],mt);return $t},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var s=requireBufferXor();function a(et){return et._prev=et._cipher.encryptBlock(et._prev),et._prev}return ofb.encrypt=function(et,nt){for(;et._cache.length<nt.length;)et._cache=Buffer$1.concat([et._cache,a(et)]);var at=et._cache.slice(0,nt.length);return et._cache=et._cache.slice(nt.length),s(nt,at)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function s(a){for(var et=a.length,nt;et--;)if(nt=a.readUInt8(et),nt===255)a.writeUInt8(0,et);else{nt++,a.writeUInt8(nt,et);break}}return incr32_1=s,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var s=requireBufferXor(),a=requireSafeBuffer$1().Buffer,et=requireIncr32();function nt(mt){var wt=mt._cipher.encryptBlockRaw(mt._prev);return et(mt._prev),wt}var at=16;return ctr.encrypt=function(mt,wt){var $t=Math.ceil(wt.length/at),Ct=mt._cache.length;mt._cache=a.concat([mt._cache,a.allocUnsafe($t*at)]);for(var Dt=0;Dt<$t;Dt++){var Ft=nt(mt),jt=Ct+Dt*at;mt._cache.writeUInt32BE(Ft[0],jt+0),mt._cache.writeUInt32BE(Ft[1],jt+4),mt._cache.writeUInt32BE(Ft[2],jt+8),mt._cache.writeUInt32BE(Ft[3],jt+12)}var Nt=mt._cache.slice(0,wt.length);return mt._cache=mt._cache.slice(wt.length),s(wt,Nt)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var s={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},a=require$$2;for(var et in a)a[et].module=s[a[et].mode];return modes_1=a,modes_1}var aes$1={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$1;hasRequiredAes$1=1;var s=requireSafeBuffer$1().Buffer;function a($t){s.isBuffer($t)||($t=s.from($t));for(var Ct=$t.length/4|0,Dt=new Array(Ct),Ft=0;Ft<Ct;Ft++)Dt[Ft]=$t.readUInt32BE(Ft*4);return Dt}function et($t){for(var Ct=0;Ct<$t.length;$t++)$t[Ct]=0}function nt($t,Ct,Dt,Ft,jt){for(var Nt=Dt[0],Lt=Dt[1],Ut=Dt[2],Vt=Dt[3],Yt=$t[0]^Ct[0],er=$t[1]^Ct[1],tr=$t[2]^Ct[2],nr=$t[3]^Ct[3],sr,dr,br,vr,yr=4,$r=1;$r<jt;$r++)sr=Nt[Yt>>>24]^Lt[er>>>16&255]^Ut[tr>>>8&255]^Vt[nr&255]^Ct[yr++],dr=Nt[er>>>24]^Lt[tr>>>16&255]^Ut[nr>>>8&255]^Vt[Yt&255]^Ct[yr++],br=Nt[tr>>>24]^Lt[nr>>>16&255]^Ut[Yt>>>8&255]^Vt[er&255]^Ct[yr++],vr=Nt[nr>>>24]^Lt[Yt>>>16&255]^Ut[er>>>8&255]^Vt[tr&255]^Ct[yr++],Yt=sr,er=dr,tr=br,nr=vr;return sr=(Ft[Yt>>>24]<<24|Ft[er>>>16&255]<<16|Ft[tr>>>8&255]<<8|Ft[nr&255])^Ct[yr++],dr=(Ft[er>>>24]<<24|Ft[tr>>>16&255]<<16|Ft[nr>>>8&255]<<8|Ft[Yt&255])^Ct[yr++],br=(Ft[tr>>>24]<<24|Ft[nr>>>16&255]<<16|Ft[Yt>>>8&255]<<8|Ft[er&255])^Ct[yr++],vr=(Ft[nr>>>24]<<24|Ft[Yt>>>16&255]<<16|Ft[er>>>8&255]<<8|Ft[tr&255])^Ct[yr++],sr=sr>>>0,dr=dr>>>0,br=br>>>0,vr=vr>>>0,[sr,dr,br,vr]}var at=[0,1,2,4,8,16,32,64,128,27,54],mt=function(){for(var $t=new Array(256),Ct=0;Ct<256;Ct++)Ct<128?$t[Ct]=Ct<<1:$t[Ct]=Ct<<1^283;for(var Dt=[],Ft=[],jt=[[],[],[],[]],Nt=[[],[],[],[]],Lt=0,Ut=0,Vt=0;Vt<256;++Vt){var Yt=Ut^Ut<<1^Ut<<2^Ut<<3^Ut<<4;Yt=Yt>>>8^Yt&255^99,Dt[Lt]=Yt,Ft[Yt]=Lt;var er=$t[Lt],tr=$t[er],nr=$t[tr],sr=$t[Yt]*257^Yt*16843008;jt[0][Lt]=sr<<24|sr>>>8,jt[1][Lt]=sr<<16|sr>>>16,jt[2][Lt]=sr<<8|sr>>>24,jt[3][Lt]=sr,sr=nr*16843009^tr*65537^er*257^Lt*16843008,Nt[0][Yt]=sr<<24|sr>>>8,Nt[1][Yt]=sr<<16|sr>>>16,Nt[2][Yt]=sr<<8|sr>>>24,Nt[3][Yt]=sr,Lt===0?Lt=Ut=1:(Lt=er^$t[$t[$t[nr^er]]],Ut^=$t[$t[Ut]])}return{SBOX:Dt,INV_SBOX:Ft,SUB_MIX:jt,INV_SUB_MIX:Nt}}();function wt($t){this._key=a($t),this._reset()}return wt.blockSize=4*4,wt.keySize=256/8,wt.prototype.blockSize=wt.blockSize,wt.prototype.keySize=wt.keySize,wt.prototype._reset=function(){for(var $t=this._key,Ct=$t.length,Dt=Ct+6,Ft=(Dt+1)*4,jt=[],Nt=0;Nt<Ct;Nt++)jt[Nt]=$t[Nt];for(Nt=Ct;Nt<Ft;Nt++){var Lt=jt[Nt-1];Nt%Ct===0?(Lt=Lt<<8|Lt>>>24,Lt=mt.SBOX[Lt>>>24]<<24|mt.SBOX[Lt>>>16&255]<<16|mt.SBOX[Lt>>>8&255]<<8|mt.SBOX[Lt&255],Lt^=at[Nt/Ct|0]<<24):Ct>6&&Nt%Ct===4&&(Lt=mt.SBOX[Lt>>>24]<<24|mt.SBOX[Lt>>>16&255]<<16|mt.SBOX[Lt>>>8&255]<<8|mt.SBOX[Lt&255]),jt[Nt]=jt[Nt-Ct]^Lt}for(var Ut=[],Vt=0;Vt<Ft;Vt++){var Yt=Ft-Vt,er=jt[Yt-(Vt%4?0:4)];Vt<4||Yt<=4?Ut[Vt]=er:Ut[Vt]=mt.INV_SUB_MIX[0][mt.SBOX[er>>>24]]^mt.INV_SUB_MIX[1][mt.SBOX[er>>>16&255]]^mt.INV_SUB_MIX[2][mt.SBOX[er>>>8&255]]^mt.INV_SUB_MIX[3][mt.SBOX[er&255]]}this._nRounds=Dt,this._keySchedule=jt,this._invKeySchedule=Ut},wt.prototype.encryptBlockRaw=function($t){return $t=a($t),nt($t,this._keySchedule,mt.SUB_MIX,mt.SBOX,this._nRounds)},wt.prototype.encryptBlock=function($t){var Ct=this.encryptBlockRaw($t),Dt=s.allocUnsafe(16);return Dt.writeUInt32BE(Ct[0],0),Dt.writeUInt32BE(Ct[1],4),Dt.writeUInt32BE(Ct[2],8),Dt.writeUInt32BE(Ct[3],12),Dt},wt.prototype.decryptBlock=function($t){$t=a($t);var Ct=$t[1];$t[1]=$t[3],$t[3]=Ct;var Dt=nt($t,this._invKeySchedule,mt.INV_SUB_MIX,mt.INV_SBOX,this._nRounds),Ft=s.allocUnsafe(16);return Ft.writeUInt32BE(Dt[0],0),Ft.writeUInt32BE(Dt[3],4),Ft.writeUInt32BE(Dt[2],8),Ft.writeUInt32BE(Dt[1],12),Ft},wt.prototype.scrub=function(){et(this._keySchedule),et(this._invKeySchedule),et(this._key)},aes$1.AES=wt,aes$1}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var s=requireSafeBuffer$1().Buffer,a=s.alloc(16,0);function et(mt){return[mt.readUInt32BE(0),mt.readUInt32BE(4),mt.readUInt32BE(8),mt.readUInt32BE(12)]}function nt(mt){var wt=s.allocUnsafe(16);return wt.writeUInt32BE(mt[0]>>>0,0),wt.writeUInt32BE(mt[1]>>>0,4),wt.writeUInt32BE(mt[2]>>>0,8),wt.writeUInt32BE(mt[3]>>>0,12),wt}function at(mt){this.h=mt,this.state=s.alloc(16,0),this.cache=s.allocUnsafe(0)}return at.prototype.ghash=function(mt){for(var wt=-1;++wt<mt.length;)this.state[wt]^=mt[wt];this._multiply()},at.prototype._multiply=function(){for(var mt=et(this.h),wt=[0,0,0,0],$t,Ct,Dt,Ft=-1;++Ft<128;){for(Ct=(this.state[~~(Ft/8)]&1<<7-Ft%8)!==0,Ct&&(wt[0]^=mt[0],wt[1]^=mt[1],wt[2]^=mt[2],wt[3]^=mt[3]),Dt=(mt[3]&1)!==0,$t=3;$t>0;$t--)mt[$t]=mt[$t]>>>1|(mt[$t-1]&1)<<31;mt[0]=mt[0]>>>1,Dt&&(mt[0]=mt[0]^225<<24)}this.state=nt(wt)},at.prototype.update=function(mt){this.cache=s.concat([this.cache,mt]);for(var wt;this.cache.length>=16;)wt=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(wt)},at.prototype.final=function(mt,wt){return this.cache.length&&this.ghash(s.concat([this.cache,a],16)),this.ghash(nt([0,mt,0,wt])),this.state},ghash=at,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var s=requireAes$1(),a=requireSafeBuffer$1().Buffer,et=requireCipherBase(),nt=requireInherits_browser(),at=requireGhash(),mt=requireBufferXor(),wt=requireIncr32();function $t(Ft,jt){var Nt=0;Ft.length!==jt.length&&Nt++;for(var Lt=Math.min(Ft.length,jt.length),Ut=0;Ut<Lt;++Ut)Nt+=Ft[Ut]^jt[Ut];return Nt}function Ct(Ft,jt,Nt){if(jt.length===12)return Ft._finID=a.concat([jt,a.from([0,0,0,1])]),a.concat([jt,a.from([0,0,0,2])]);var Lt=new at(Nt),Ut=jt.length,Vt=Ut%16;Lt.update(jt),Vt&&(Vt=16-Vt,Lt.update(a.alloc(Vt,0))),Lt.update(a.alloc(8,0));var Yt=Ut*8,er=a.alloc(8);er.writeUIntBE(Yt,0,8),Lt.update(er),Ft._finID=Lt.state;var tr=a.from(Ft._finID);return wt(tr),tr}function Dt(Ft,jt,Nt,Lt){et.call(this);var Ut=a.alloc(4,0);this._cipher=new s.AES(jt);var Vt=this._cipher.encryptBlock(Ut);this._ghash=new at(Vt),Nt=Ct(this,Nt,Vt),this._prev=a.from(Nt),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=Lt,this._alen=0,this._len=0,this._mode=Ft,this._authTag=null,this._called=!1}return nt(Dt,et),Dt.prototype._update=function(Ft){if(!this._called&&this._alen){var jt=16-this._alen%16;jt<16&&(jt=a.alloc(jt,0),this._ghash.update(jt))}this._called=!0;var Nt=this._mode.encrypt(this,Ft);return this._decrypt?this._ghash.update(Ft):this._ghash.update(Nt),this._len+=Ft.length,Nt},Dt.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Ft=mt(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&$t(Ft,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Ft,this._cipher.scrub()},Dt.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Dt.prototype.setAuthTag=function(jt){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=jt},Dt.prototype.setAAD=function(jt){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(jt),this._alen+=jt.length},authCipher=Dt,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var s=requireAes$1(),a=requireSafeBuffer$1().Buffer,et=requireCipherBase(),nt=requireInherits_browser();function at(mt,wt,$t,Ct){et.call(this),this._cipher=new s.AES(wt),this._prev=a.from($t),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=Ct,this._mode=mt}return nt(at,et),at.prototype._update=function(mt){return this._mode.encrypt(this,mt,this._decrypt)},at.prototype._final=function(){this._cipher.scrub()},streamCipher=at,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var s=requireSafeBuffer$1().Buffer,a=requireMd5_js();function et(nt,at,mt,wt){if(s.isBuffer(nt)||(nt=s.from(nt,"binary")),at&&(s.isBuffer(at)||(at=s.from(at,"binary")),at.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var $t=mt/8,Ct=s.alloc($t),Dt=s.alloc(wt||0),Ft=s.alloc(0);$t>0||wt>0;){var jt=new a;jt.update(Ft),jt.update(nt),at&&jt.update(at),Ft=jt.digest();var Nt=0;if($t>0){var Lt=Ct.length-$t;Nt=Math.min($t,Ft.length),Ft.copy(Ct,Lt,0,Nt),$t-=Nt}if(Nt<Ft.length&&wt>0){var Ut=Dt.length-wt,Vt=Math.min(wt,Ft.length-Nt);Ft.copy(Dt,Ut,Nt,Nt+Vt),wt-=Vt}}return Ft.fill(0),{key:Ct,iv:Dt}}return evp_bytestokey=et,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var s=requireModes$1(),a=requireAuthCipher(),et=requireSafeBuffer$1().Buffer,nt=requireStreamCipher(),at=requireCipherBase(),mt=requireAes$1(),wt=requireEvp_bytestokey(),$t=requireInherits_browser();function Ct(Lt,Ut,Vt){at.call(this),this._cache=new Ft,this._cipher=new mt.AES(Ut),this._prev=et.from(Vt),this._mode=Lt,this._autopadding=!0}$t(Ct,at),Ct.prototype._update=function(Lt){this._cache.add(Lt);for(var Ut,Vt,Yt=[];Ut=this._cache.get();)Vt=this._mode.encrypt(this,Ut),Yt.push(Vt);return et.concat(Yt)};var Dt=et.alloc(16,16);Ct.prototype._final=function(){var Lt=this._cache.flush();if(this._autopadding)return Lt=this._mode.encrypt(this,Lt),this._cipher.scrub(),Lt;if(!Lt.equals(Dt))throw this._cipher.scrub(),new Error("data not multiple of block length")},Ct.prototype.setAutoPadding=function(Lt){return this._autopadding=!!Lt,this};function Ft(){this.cache=et.allocUnsafe(0)}Ft.prototype.add=function(Lt){this.cache=et.concat([this.cache,Lt])},Ft.prototype.get=function(){if(this.cache.length>15){var Lt=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Lt}return null},Ft.prototype.flush=function(){for(var Lt=16-this.cache.length,Ut=et.allocUnsafe(Lt),Vt=-1;++Vt<Lt;)Ut.writeUInt8(Lt,Vt);return et.concat([this.cache,Ut])};function jt(Lt,Ut,Vt){var Yt=s[Lt.toLowerCase()];if(!Yt)throw new TypeError("invalid suite type");if(typeof Ut=="string"&&(Ut=et.from(Ut)),Ut.length!==Yt.key/8)throw new TypeError("invalid key length "+Ut.length);if(typeof Vt=="string"&&(Vt=et.from(Vt)),Yt.mode!=="GCM"&&Vt.length!==Yt.iv)throw new TypeError("invalid iv length "+Vt.length);return Yt.type==="stream"?new nt(Yt.module,Ut,Vt):Yt.type==="auth"?new a(Yt.module,Ut,Vt):new Ct(Yt.module,Ut,Vt)}function Nt(Lt,Ut){var Vt=s[Lt.toLowerCase()];if(!Vt)throw new TypeError("invalid suite type");var Yt=wt(Ut,!1,Vt.key,Vt.iv);return jt(Lt,Yt.key,Yt.iv)}return encrypter.createCipheriv=jt,encrypter.createCipher=Nt,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var s=requireAuthCipher(),a=requireSafeBuffer$1().Buffer,et=requireModes$1(),nt=requireStreamCipher(),at=requireCipherBase(),mt=requireAes$1(),wt=requireEvp_bytestokey(),$t=requireInherits_browser();function Ct(Lt,Ut,Vt){at.call(this),this._cache=new Dt,this._last=void 0,this._cipher=new mt.AES(Ut),this._prev=a.from(Vt),this._mode=Lt,this._autopadding=!0}$t(Ct,at),Ct.prototype._update=function(Lt){this._cache.add(Lt);for(var Ut,Vt,Yt=[];Ut=this._cache.get(this._autopadding);)Vt=this._mode.decrypt(this,Ut),Yt.push(Vt);return a.concat(Yt)},Ct.prototype._final=function(){var Lt=this._cache.flush();if(this._autopadding)return Ft(this._mode.decrypt(this,Lt));if(Lt)throw new Error("data not multiple of block length")},Ct.prototype.setAutoPadding=function(Lt){return this._autopadding=!!Lt,this};function Dt(){this.cache=a.allocUnsafe(0)}Dt.prototype.add=function(Lt){this.cache=a.concat([this.cache,Lt])},Dt.prototype.get=function(Lt){var Ut;if(Lt){if(this.cache.length>16)return Ut=this.cache.slice(0,16),this.cache=this.cache.slice(16),Ut}else if(this.cache.length>=16)return Ut=this.cache.slice(0,16),this.cache=this.cache.slice(16),Ut;return null},Dt.prototype.flush=function(){if(this.cache.length)return this.cache};function Ft(Lt){var Ut=Lt[15];if(Ut<1||Ut>16)throw new Error("unable to decrypt data");for(var Vt=-1;++Vt<Ut;)if(Lt[Vt+(16-Ut)]!==Ut)throw new Error("unable to decrypt data");if(Ut!==16)return Lt.slice(0,16-Ut)}function jt(Lt,Ut,Vt){var Yt=et[Lt.toLowerCase()];if(!Yt)throw new TypeError("invalid suite type");if(typeof Vt=="string"&&(Vt=a.from(Vt)),Yt.mode!=="GCM"&&Vt.length!==Yt.iv)throw new TypeError("invalid iv length "+Vt.length);if(typeof Ut=="string"&&(Ut=a.from(Ut)),Ut.length!==Yt.key/8)throw new TypeError("invalid key length "+Ut.length);return Yt.type==="stream"?new nt(Yt.module,Ut,Vt,!0):Yt.type==="auth"?new s(Yt.module,Ut,Vt,!0):new Ct(Yt.module,Ut,Vt)}function Nt(Lt,Ut){var Vt=et[Lt.toLowerCase()];if(!Vt)throw new TypeError("invalid suite type");var Yt=wt(Ut,!1,Vt.key,Vt.iv);return jt(Lt,Yt.key,Yt.iv)}return decrypter.createDecipher=Nt,decrypter.createDecipheriv=jt,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$7;hasRequiredBrowser$6=1;var s=requireEncrypter(),a=requireDecrypter(),et=require$$2;function nt(){return Object.keys(et)}return browser$7.createCipher=browser$7.Cipher=s.createCipher,browser$7.createCipheriv=browser$7.Cipheriv=s.createCipheriv,browser$7.createDecipher=browser$7.Decipher=a.createDecipher,browser$7.createDecipheriv=browser$7.Decipheriv=a.createDecipheriv,browser$7.listCiphers=browser$7.getCiphers=nt,browser$7}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$8;hasRequiredBrowser$5=1;var s=requireBrowserifyDes(),a=requireBrowser$6(),et=requireModes$1(),nt=requireModes(),at=requireEvp_bytestokey();function mt(Ft,jt){Ft=Ft.toLowerCase();var Nt,Lt;if(et[Ft])Nt=et[Ft].key,Lt=et[Ft].iv;else if(nt[Ft])Nt=nt[Ft].key*8,Lt=nt[Ft].iv;else throw new TypeError("invalid suite type");var Ut=at(jt,!1,Nt,Lt);return $t(Ft,Ut.key,Ut.iv)}function wt(Ft,jt){Ft=Ft.toLowerCase();var Nt,Lt;if(et[Ft])Nt=et[Ft].key,Lt=et[Ft].iv;else if(nt[Ft])Nt=nt[Ft].key*8,Lt=nt[Ft].iv;else throw new TypeError("invalid suite type");var Ut=at(jt,!1,Nt,Lt);return Ct(Ft,Ut.key,Ut.iv)}function $t(Ft,jt,Nt){if(Ft=Ft.toLowerCase(),et[Ft])return a.createCipheriv(Ft,jt,Nt);if(nt[Ft])return new s({key:jt,iv:Nt,mode:Ft});throw new TypeError("invalid suite type")}function Ct(Ft,jt,Nt){if(Ft=Ft.toLowerCase(),et[Ft])return a.createDecipheriv(Ft,jt,Nt);if(nt[Ft])return new s({key:jt,iv:Nt,mode:Ft,decrypt:!0});throw new TypeError("invalid suite type")}function Dt(){return Object.keys(nt).concat(a.getCiphers())}return browser$8.createCipher=browser$8.Cipher=mt,browser$8.createCipheriv=browser$8.Cipheriv=$t,browser$8.createDecipher=browser$8.Decipher=wt,browser$8.createDecipheriv=browser$8.Decipheriv=Ct,browser$8.listCiphers=browser$8.getCiphers=Dt,browser$8}var browser$6={},bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(s){(function(a,et){function nt(wr,fr){if(!wr)throw new Error(fr||"Assertion failed")}function at(wr,fr){wr.super_=fr;var _r=function(){};_r.prototype=fr.prototype,wr.prototype=new _r,wr.prototype.constructor=wr}function mt(wr,fr,_r){if(mt.isBN(wr))return wr;this.negative=0,this.words=null,this.length=0,this.red=null,wr!==null&&((fr==="le"||fr==="be")&&(_r=fr,fr=10),this._init(wr||0,fr||10,_r||"be"))}typeof a=="object"?a.exports=mt:et.BN=mt,mt.BN=mt,mt.wordSize=26;var wt;try{typeof window<"u"&&typeof window.Buffer<"u"?wt=window.Buffer:wt=require$$1$3.Buffer}catch{}mt.isBN=function(fr){return fr instanceof mt?!0:fr!==null&&typeof fr=="object"&&fr.constructor.wordSize===mt.wordSize&&Array.isArray(fr.words)},mt.max=function(fr,_r){return fr.cmp(_r)>0?fr:_r},mt.min=function(fr,_r){return fr.cmp(_r)<0?fr:_r},mt.prototype._init=function(fr,_r,ir){if(typeof fr=="number")return this._initNumber(fr,_r,ir);if(typeof fr=="object")return this._initArray(fr,_r,ir);_r==="hex"&&(_r=16),nt(_r===(_r|0)&&_r>=2&&_r<=36),fr=fr.toString().replace(/\s+/g,"");var rr=0;fr[0]==="-"&&(rr++,this.negative=1),rr<fr.length&&(_r===16?this._parseHex(fr,rr,ir):(this._parseBase(fr,_r,rr),ir==="le"&&this._initArray(this.toArray(),_r,ir)))},mt.prototype._initNumber=function(fr,_r,ir){fr<0&&(this.negative=1,fr=-fr),fr<67108864?(this.words=[fr&67108863],this.length=1):fr<4503599627370496?(this.words=[fr&67108863,fr/67108864&67108863],this.length=2):(nt(fr<9007199254740992),this.words=[fr&67108863,fr/67108864&67108863,1],this.length=3),ir==="le"&&this._initArray(this.toArray(),_r,ir)},mt.prototype._initArray=function(fr,_r,ir){if(nt(typeof fr.length=="number"),fr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(fr.length/3),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var or,ar,ur=0;if(ir==="be")for(rr=fr.length-1,or=0;rr>=0;rr-=3)ar=fr[rr]|fr[rr-1]<<8|fr[rr-2]<<16,this.words[or]|=ar<<ur&67108863,this.words[or+1]=ar>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,or++);else if(ir==="le")for(rr=0,or=0;rr<fr.length;rr+=3)ar=fr[rr]|fr[rr+1]<<8|fr[rr+2]<<16,this.words[or]|=ar<<ur&67108863,this.words[or+1]=ar>>>26-ur&67108863,ur+=24,ur>=26&&(ur-=26,or++);return this.strip()};function $t(wr,fr){var _r=wr.charCodeAt(fr);return _r>=65&&_r<=70?_r-55:_r>=97&&_r<=102?_r-87:_r-48&15}function Ct(wr,fr,_r){var ir=$t(wr,_r);return _r-1>=fr&&(ir|=$t(wr,_r-1)<<4),ir}mt.prototype._parseHex=function(fr,_r,ir){this.length=Math.ceil((fr.length-_r)/6),this.words=new Array(this.length);for(var rr=0;rr<this.length;rr++)this.words[rr]=0;var or=0,ar=0,ur;if(ir==="be")for(rr=fr.length-1;rr>=_r;rr-=2)ur=Ct(fr,_r,rr)<<or,this.words[ar]|=ur&67108863,or>=18?(or-=18,ar+=1,this.words[ar]|=ur>>>26):or+=8;else{var pr=fr.length-_r;for(rr=pr%2===0?_r+1:_r;rr<fr.length;rr+=2)ur=Ct(fr,_r,rr)<<or,this.words[ar]|=ur&67108863,or>=18?(or-=18,ar+=1,this.words[ar]|=ur>>>26):or+=8}this.strip()};function Dt(wr,fr,_r,ir){for(var rr=0,or=Math.min(wr.length,_r),ar=fr;ar<or;ar++){var ur=wr.charCodeAt(ar)-48;rr*=ir,ur>=49?rr+=ur-49+10:ur>=17?rr+=ur-17+10:rr+=ur}return rr}mt.prototype._parseBase=function(fr,_r,ir){this.words=[0],this.length=1;for(var rr=0,or=1;or<=67108863;or*=_r)rr++;rr--,or=or/_r|0;for(var ar=fr.length-ir,ur=ar%rr,pr=Math.min(ar,ar-ur)+ir,cr=0,gr=ir;gr<pr;gr+=rr)cr=Dt(fr,gr,gr+rr,_r),this.imuln(or),this.words[0]+cr<67108864?this.words[0]+=cr:this._iaddn(cr);if(ur!==0){var hr=1;for(cr=Dt(fr,gr,fr.length,_r),gr=0;gr<ur;gr++)hr*=_r;this.imuln(hr),this.words[0]+cr<67108864?this.words[0]+=cr:this._iaddn(cr)}this.strip()},mt.prototype.copy=function(fr){fr.words=new Array(this.length);for(var _r=0;_r<this.length;_r++)fr.words[_r]=this.words[_r];fr.length=this.length,fr.negative=this.negative,fr.red=this.red},mt.prototype.clone=function(){var fr=new mt(null);return this.copy(fr),fr},mt.prototype._expand=function(fr){for(;this.length<fr;)this.words[this.length++]=0;return this},mt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},mt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},mt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Ft=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],jt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Nt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];mt.prototype.toString=function(fr,_r){fr=fr||10,_r=_r|0||1;var ir;if(fr===16||fr==="hex"){ir="";for(var rr=0,or=0,ar=0;ar<this.length;ar++){var ur=this.words[ar],pr=((ur<<rr|or)&16777215).toString(16);or=ur>>>24-rr&16777215,rr+=2,rr>=26&&(rr-=26,ar--),or!==0||ar!==this.length-1?ir=Ft[6-pr.length]+pr+ir:ir=pr+ir}for(or!==0&&(ir=or.toString(16)+ir);ir.length%_r!==0;)ir="0"+ir;return this.negative!==0&&(ir="-"+ir),ir}if(fr===(fr|0)&&fr>=2&&fr<=36){var cr=jt[fr],gr=Nt[fr];ir="";var hr=this.clone();for(hr.negative=0;!hr.isZero();){var lr=hr.modn(gr).toString(fr);hr=hr.idivn(gr),hr.isZero()?ir=lr+ir:ir=Ft[cr-lr.length]+lr+ir}for(this.isZero()&&(ir="0"+ir);ir.length%_r!==0;)ir="0"+ir;return this.negative!==0&&(ir="-"+ir),ir}nt(!1,"Base should be between 2 and 36")},mt.prototype.toNumber=function(){var fr=this.words[0];return this.length===2?fr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?fr+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-fr:fr},mt.prototype.toJSON=function(){return this.toString(16)},mt.prototype.toBuffer=function(fr,_r){return nt(typeof wt<"u"),this.toArrayLike(wt,fr,_r)},mt.prototype.toArray=function(fr,_r){return this.toArrayLike(Array,fr,_r)},mt.prototype.toArrayLike=function(fr,_r,ir){var rr=this.byteLength(),or=ir||Math.max(1,rr);nt(rr<=or,"byte array longer than desired length"),nt(or>0,"Requested array length <= 0"),this.strip();var ar=_r==="le",ur=new fr(or),pr,cr,gr=this.clone();if(ar){for(cr=0;!gr.isZero();cr++)pr=gr.andln(255),gr.iushrn(8),ur[cr]=pr;for(;cr<or;cr++)ur[cr]=0}else{for(cr=0;cr<or-rr;cr++)ur[cr]=0;for(cr=0;!gr.isZero();cr++)pr=gr.andln(255),gr.iushrn(8),ur[or-cr-1]=pr}return ur},Math.clz32?mt.prototype._countBits=function(fr){return 32-Math.clz32(fr)}:mt.prototype._countBits=function(fr){var _r=fr,ir=0;return _r>=4096&&(ir+=13,_r>>>=13),_r>=64&&(ir+=7,_r>>>=7),_r>=8&&(ir+=4,_r>>>=4),_r>=2&&(ir+=2,_r>>>=2),ir+_r},mt.prototype._zeroBits=function(fr){if(fr===0)return 26;var _r=fr,ir=0;return _r&8191||(ir+=13,_r>>>=13),_r&127||(ir+=7,_r>>>=7),_r&15||(ir+=4,_r>>>=4),_r&3||(ir+=2,_r>>>=2),_r&1||ir++,ir},mt.prototype.bitLength=function(){var fr=this.words[this.length-1],_r=this._countBits(fr);return(this.length-1)*26+_r};function Lt(wr){for(var fr=new Array(wr.bitLength()),_r=0;_r<fr.length;_r++){var ir=_r/26|0,rr=_r%26;fr[_r]=(wr.words[ir]&1<<rr)>>>rr}return fr}mt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var fr=0,_r=0;_r<this.length;_r++){var ir=this._zeroBits(this.words[_r]);if(fr+=ir,ir!==26)break}return fr},mt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},mt.prototype.toTwos=function(fr){return this.negative!==0?this.abs().inotn(fr).iaddn(1):this.clone()},mt.prototype.fromTwos=function(fr){return this.testn(fr-1)?this.notn(fr).iaddn(1).ineg():this.clone()},mt.prototype.isNeg=function(){return this.negative!==0},mt.prototype.neg=function(){return this.clone().ineg()},mt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},mt.prototype.iuor=function(fr){for(;this.length<fr.length;)this.words[this.length++]=0;for(var _r=0;_r<fr.length;_r++)this.words[_r]=this.words[_r]|fr.words[_r];return this.strip()},mt.prototype.ior=function(fr){return nt((this.negative|fr.negative)===0),this.iuor(fr)},mt.prototype.or=function(fr){return this.length>fr.length?this.clone().ior(fr):fr.clone().ior(this)},mt.prototype.uor=function(fr){return this.length>fr.length?this.clone().iuor(fr):fr.clone().iuor(this)},mt.prototype.iuand=function(fr){var _r;this.length>fr.length?_r=fr:_r=this;for(var ir=0;ir<_r.length;ir++)this.words[ir]=this.words[ir]&fr.words[ir];return this.length=_r.length,this.strip()},mt.prototype.iand=function(fr){return nt((this.negative|fr.negative)===0),this.iuand(fr)},mt.prototype.and=function(fr){return this.length>fr.length?this.clone().iand(fr):fr.clone().iand(this)},mt.prototype.uand=function(fr){return this.length>fr.length?this.clone().iuand(fr):fr.clone().iuand(this)},mt.prototype.iuxor=function(fr){var _r,ir;this.length>fr.length?(_r=this,ir=fr):(_r=fr,ir=this);for(var rr=0;rr<ir.length;rr++)this.words[rr]=_r.words[rr]^ir.words[rr];if(this!==_r)for(;rr<_r.length;rr++)this.words[rr]=_r.words[rr];return this.length=_r.length,this.strip()},mt.prototype.ixor=function(fr){return nt((this.negative|fr.negative)===0),this.iuxor(fr)},mt.prototype.xor=function(fr){return this.length>fr.length?this.clone().ixor(fr):fr.clone().ixor(this)},mt.prototype.uxor=function(fr){return this.length>fr.length?this.clone().iuxor(fr):fr.clone().iuxor(this)},mt.prototype.inotn=function(fr){nt(typeof fr=="number"&&fr>=0);var _r=Math.ceil(fr/26)|0,ir=fr%26;this._expand(_r),ir>0&&_r--;for(var rr=0;rr<_r;rr++)this.words[rr]=~this.words[rr]&67108863;return ir>0&&(this.words[rr]=~this.words[rr]&67108863>>26-ir),this.strip()},mt.prototype.notn=function(fr){return this.clone().inotn(fr)},mt.prototype.setn=function(fr,_r){nt(typeof fr=="number"&&fr>=0);var ir=fr/26|0,rr=fr%26;return this._expand(ir+1),_r?this.words[ir]=this.words[ir]|1<<rr:this.words[ir]=this.words[ir]&~(1<<rr),this.strip()},mt.prototype.iadd=function(fr){var _r;if(this.negative!==0&&fr.negative===0)return this.negative=0,_r=this.isub(fr),this.negative^=1,this._normSign();if(this.negative===0&&fr.negative!==0)return fr.negative=0,_r=this.isub(fr),fr.negative=1,_r._normSign();var ir,rr;this.length>fr.length?(ir=this,rr=fr):(ir=fr,rr=this);for(var or=0,ar=0;ar<rr.length;ar++)_r=(ir.words[ar]|0)+(rr.words[ar]|0)+or,this.words[ar]=_r&67108863,or=_r>>>26;for(;or!==0&&ar<ir.length;ar++)_r=(ir.words[ar]|0)+or,this.words[ar]=_r&67108863,or=_r>>>26;if(this.length=ir.length,or!==0)this.words[this.length]=or,this.length++;else if(ir!==this)for(;ar<ir.length;ar++)this.words[ar]=ir.words[ar];return this},mt.prototype.add=function(fr){var _r;return fr.negative!==0&&this.negative===0?(fr.negative=0,_r=this.sub(fr),fr.negative^=1,_r):fr.negative===0&&this.negative!==0?(this.negative=0,_r=fr.sub(this),this.negative=1,_r):this.length>fr.length?this.clone().iadd(fr):fr.clone().iadd(this)},mt.prototype.isub=function(fr){if(fr.negative!==0){fr.negative=0;var _r=this.iadd(fr);return fr.negative=1,_r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(fr),this.negative=1,this._normSign();var ir=this.cmp(fr);if(ir===0)return this.negative=0,this.length=1,this.words[0]=0,this;var rr,or;ir>0?(rr=this,or=fr):(rr=fr,or=this);for(var ar=0,ur=0;ur<or.length;ur++)_r=(rr.words[ur]|0)-(or.words[ur]|0)+ar,ar=_r>>26,this.words[ur]=_r&67108863;for(;ar!==0&&ur<rr.length;ur++)_r=(rr.words[ur]|0)+ar,ar=_r>>26,this.words[ur]=_r&67108863;if(ar===0&&ur<rr.length&&rr!==this)for(;ur<rr.length;ur++)this.words[ur]=rr.words[ur];return this.length=Math.max(this.length,ur),rr!==this&&(this.negative=1),this.strip()},mt.prototype.sub=function(fr){return this.clone().isub(fr)};function Ut(wr,fr,_r){_r.negative=fr.negative^wr.negative;var ir=wr.length+fr.length|0;_r.length=ir,ir=ir-1|0;var rr=wr.words[0]|0,or=fr.words[0]|0,ar=rr*or,ur=ar&67108863,pr=ar/67108864|0;_r.words[0]=ur;for(var cr=1;cr<ir;cr++){for(var gr=pr>>>26,hr=pr&67108863,lr=Math.min(cr,fr.length-1),xr=Math.max(0,cr-wr.length+1);xr<=lr;xr++){var Mr=cr-xr|0;rr=wr.words[Mr]|0,or=fr.words[xr]|0,ar=rr*or+hr,gr+=ar/67108864|0,hr=ar&67108863}_r.words[cr]=hr|0,pr=gr|0}return pr!==0?_r.words[cr]=pr|0:_r.length--,_r.strip()}var Vt=function(fr,_r,ir){var rr=fr.words,or=_r.words,ar=ir.words,ur=0,pr,cr,gr,hr=rr[0]|0,lr=hr&8191,xr=hr>>>13,Mr=rr[1]|0,Pr=Mr&8191,Ar=Mr>>>13,Ir=rr[2]|0,qr=Ir&8191,Rr=Ir>>>13,Tr=rr[3]|0,Er=Tr&8191,Br=Tr>>>13,Nr=rr[4]|0,zr=Nr&8191,Hr=Nr>>>13,jr=rr[5]|0,Ur=jr&8191,Fr=jr>>>13,Gr=rr[6]|0,Wr=Gr&8191,nn=Gr>>>13,Ln=rr[7]|0,Un=Ln&8191,Wn=Ln>>>13,io=rr[8]|0,zn=io&8191,Zn=io>>>13,bo=rr[9]|0,Or=bo&8191,Cr=bo>>>13,kr=or[0]|0,Lr=kr&8191,Zr=kr>>>13,an=or[1]|0,rn=an&8191,Yn=an>>>13,yo=or[2]|0,ro=yo&8191,so=yo>>>13,vo=or[3]|0,po=vo&8191,$o=vo>>>13,Mo=or[4]|0,_o=Mo&8191,Eo=Mo>>>13,Do=or[5]|0,mo=Do&8191,So=Do>>>13,Fo=or[6]|0,Yr=Fo&8191,Qr=Fo>>>13,Cn=or[7]|0,Nn=Cn&8191,Hn=Cn>>>13,lo=or[8]|0,Qn=lo&8191,Jn=lo>>>13,oo=or[9]|0,Gn=oo&8191,_i=oo>>>13;ir.negative=fr.negative^_r.negative,ir.length=19,pr=Math.imul(lr,Lr),cr=Math.imul(lr,Zr),cr=cr+Math.imul(xr,Lr)|0,gr=Math.imul(xr,Zr);var go=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(go>>>26)|0,go&=67108863,pr=Math.imul(Pr,Lr),cr=Math.imul(Pr,Zr),cr=cr+Math.imul(Ar,Lr)|0,gr=Math.imul(Ar,Zr),pr=pr+Math.imul(lr,rn)|0,cr=cr+Math.imul(lr,Yn)|0,cr=cr+Math.imul(xr,rn)|0,gr=gr+Math.imul(xr,Yn)|0;var fo=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(fo>>>26)|0,fo&=67108863,pr=Math.imul(qr,Lr),cr=Math.imul(qr,Zr),cr=cr+Math.imul(Rr,Lr)|0,gr=Math.imul(Rr,Zr),pr=pr+Math.imul(Pr,rn)|0,cr=cr+Math.imul(Pr,Yn)|0,cr=cr+Math.imul(Ar,rn)|0,gr=gr+Math.imul(Ar,Yn)|0,pr=pr+Math.imul(lr,ro)|0,cr=cr+Math.imul(lr,so)|0,cr=cr+Math.imul(xr,ro)|0,gr=gr+Math.imul(xr,so)|0;var Co=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Co>>>26)|0,Co&=67108863,pr=Math.imul(Er,Lr),cr=Math.imul(Er,Zr),cr=cr+Math.imul(Br,Lr)|0,gr=Math.imul(Br,Zr),pr=pr+Math.imul(qr,rn)|0,cr=cr+Math.imul(qr,Yn)|0,cr=cr+Math.imul(Rr,rn)|0,gr=gr+Math.imul(Rr,Yn)|0,pr=pr+Math.imul(Pr,ro)|0,cr=cr+Math.imul(Pr,so)|0,cr=cr+Math.imul(Ar,ro)|0,gr=gr+Math.imul(Ar,so)|0,pr=pr+Math.imul(lr,po)|0,cr=cr+Math.imul(lr,$o)|0,cr=cr+Math.imul(xr,po)|0,gr=gr+Math.imul(xr,$o)|0;var ko=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(ko>>>26)|0,ko&=67108863,pr=Math.imul(zr,Lr),cr=Math.imul(zr,Zr),cr=cr+Math.imul(Hr,Lr)|0,gr=Math.imul(Hr,Zr),pr=pr+Math.imul(Er,rn)|0,cr=cr+Math.imul(Er,Yn)|0,cr=cr+Math.imul(Br,rn)|0,gr=gr+Math.imul(Br,Yn)|0,pr=pr+Math.imul(qr,ro)|0,cr=cr+Math.imul(qr,so)|0,cr=cr+Math.imul(Rr,ro)|0,gr=gr+Math.imul(Rr,so)|0,pr=pr+Math.imul(Pr,po)|0,cr=cr+Math.imul(Pr,$o)|0,cr=cr+Math.imul(Ar,po)|0,gr=gr+Math.imul(Ar,$o)|0,pr=pr+Math.imul(lr,_o)|0,cr=cr+Math.imul(lr,Eo)|0,cr=cr+Math.imul(xr,_o)|0,gr=gr+Math.imul(xr,Eo)|0;var Ao=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,pr=Math.imul(Ur,Lr),cr=Math.imul(Ur,Zr),cr=cr+Math.imul(Fr,Lr)|0,gr=Math.imul(Fr,Zr),pr=pr+Math.imul(zr,rn)|0,cr=cr+Math.imul(zr,Yn)|0,cr=cr+Math.imul(Hr,rn)|0,gr=gr+Math.imul(Hr,Yn)|0,pr=pr+Math.imul(Er,ro)|0,cr=cr+Math.imul(Er,so)|0,cr=cr+Math.imul(Br,ro)|0,gr=gr+Math.imul(Br,so)|0,pr=pr+Math.imul(qr,po)|0,cr=cr+Math.imul(qr,$o)|0,cr=cr+Math.imul(Rr,po)|0,gr=gr+Math.imul(Rr,$o)|0,pr=pr+Math.imul(Pr,_o)|0,cr=cr+Math.imul(Pr,Eo)|0,cr=cr+Math.imul(Ar,_o)|0,gr=gr+Math.imul(Ar,Eo)|0,pr=pr+Math.imul(lr,mo)|0,cr=cr+Math.imul(lr,So)|0,cr=cr+Math.imul(xr,mo)|0,gr=gr+Math.imul(xr,So)|0;var Oo=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,pr=Math.imul(Wr,Lr),cr=Math.imul(Wr,Zr),cr=cr+Math.imul(nn,Lr)|0,gr=Math.imul(nn,Zr),pr=pr+Math.imul(Ur,rn)|0,cr=cr+Math.imul(Ur,Yn)|0,cr=cr+Math.imul(Fr,rn)|0,gr=gr+Math.imul(Fr,Yn)|0,pr=pr+Math.imul(zr,ro)|0,cr=cr+Math.imul(zr,so)|0,cr=cr+Math.imul(Hr,ro)|0,gr=gr+Math.imul(Hr,so)|0,pr=pr+Math.imul(Er,po)|0,cr=cr+Math.imul(Er,$o)|0,cr=cr+Math.imul(Br,po)|0,gr=gr+Math.imul(Br,$o)|0,pr=pr+Math.imul(qr,_o)|0,cr=cr+Math.imul(qr,Eo)|0,cr=cr+Math.imul(Rr,_o)|0,gr=gr+Math.imul(Rr,Eo)|0,pr=pr+Math.imul(Pr,mo)|0,cr=cr+Math.imul(Pr,So)|0,cr=cr+Math.imul(Ar,mo)|0,gr=gr+Math.imul(Ar,So)|0,pr=pr+Math.imul(lr,Yr)|0,cr=cr+Math.imul(lr,Qr)|0,cr=cr+Math.imul(xr,Yr)|0,gr=gr+Math.imul(xr,Qr)|0;var Xo=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,pr=Math.imul(Un,Lr),cr=Math.imul(Un,Zr),cr=cr+Math.imul(Wn,Lr)|0,gr=Math.imul(Wn,Zr),pr=pr+Math.imul(Wr,rn)|0,cr=cr+Math.imul(Wr,Yn)|0,cr=cr+Math.imul(nn,rn)|0,gr=gr+Math.imul(nn,Yn)|0,pr=pr+Math.imul(Ur,ro)|0,cr=cr+Math.imul(Ur,so)|0,cr=cr+Math.imul(Fr,ro)|0,gr=gr+Math.imul(Fr,so)|0,pr=pr+Math.imul(zr,po)|0,cr=cr+Math.imul(zr,$o)|0,cr=cr+Math.imul(Hr,po)|0,gr=gr+Math.imul(Hr,$o)|0,pr=pr+Math.imul(Er,_o)|0,cr=cr+Math.imul(Er,Eo)|0,cr=cr+Math.imul(Br,_o)|0,gr=gr+Math.imul(Br,Eo)|0,pr=pr+Math.imul(qr,mo)|0,cr=cr+Math.imul(qr,So)|0,cr=cr+Math.imul(Rr,mo)|0,gr=gr+Math.imul(Rr,So)|0,pr=pr+Math.imul(Pr,Yr)|0,cr=cr+Math.imul(Pr,Qr)|0,cr=cr+Math.imul(Ar,Yr)|0,gr=gr+Math.imul(Ar,Qr)|0,pr=pr+Math.imul(lr,Nn)|0,cr=cr+Math.imul(lr,Hn)|0,cr=cr+Math.imul(xr,Nn)|0,gr=gr+Math.imul(xr,Hn)|0;var es=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(es>>>26)|0,es&=67108863,pr=Math.imul(zn,Lr),cr=Math.imul(zn,Zr),cr=cr+Math.imul(Zn,Lr)|0,gr=Math.imul(Zn,Zr),pr=pr+Math.imul(Un,rn)|0,cr=cr+Math.imul(Un,Yn)|0,cr=cr+Math.imul(Wn,rn)|0,gr=gr+Math.imul(Wn,Yn)|0,pr=pr+Math.imul(Wr,ro)|0,cr=cr+Math.imul(Wr,so)|0,cr=cr+Math.imul(nn,ro)|0,gr=gr+Math.imul(nn,so)|0,pr=pr+Math.imul(Ur,po)|0,cr=cr+Math.imul(Ur,$o)|0,cr=cr+Math.imul(Fr,po)|0,gr=gr+Math.imul(Fr,$o)|0,pr=pr+Math.imul(zr,_o)|0,cr=cr+Math.imul(zr,Eo)|0,cr=cr+Math.imul(Hr,_o)|0,gr=gr+Math.imul(Hr,Eo)|0,pr=pr+Math.imul(Er,mo)|0,cr=cr+Math.imul(Er,So)|0,cr=cr+Math.imul(Br,mo)|0,gr=gr+Math.imul(Br,So)|0,pr=pr+Math.imul(qr,Yr)|0,cr=cr+Math.imul(qr,Qr)|0,cr=cr+Math.imul(Rr,Yr)|0,gr=gr+Math.imul(Rr,Qr)|0,pr=pr+Math.imul(Pr,Nn)|0,cr=cr+Math.imul(Pr,Hn)|0,cr=cr+Math.imul(Ar,Nn)|0,gr=gr+Math.imul(Ar,Hn)|0,pr=pr+Math.imul(lr,Qn)|0,cr=cr+Math.imul(lr,Jn)|0,cr=cr+Math.imul(xr,Qn)|0,gr=gr+Math.imul(xr,Jn)|0;var Ho=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,pr=Math.imul(Or,Lr),cr=Math.imul(Or,Zr),cr=cr+Math.imul(Cr,Lr)|0,gr=Math.imul(Cr,Zr),pr=pr+Math.imul(zn,rn)|0,cr=cr+Math.imul(zn,Yn)|0,cr=cr+Math.imul(Zn,rn)|0,gr=gr+Math.imul(Zn,Yn)|0,pr=pr+Math.imul(Un,ro)|0,cr=cr+Math.imul(Un,so)|0,cr=cr+Math.imul(Wn,ro)|0,gr=gr+Math.imul(Wn,so)|0,pr=pr+Math.imul(Wr,po)|0,cr=cr+Math.imul(Wr,$o)|0,cr=cr+Math.imul(nn,po)|0,gr=gr+Math.imul(nn,$o)|0,pr=pr+Math.imul(Ur,_o)|0,cr=cr+Math.imul(Ur,Eo)|0,cr=cr+Math.imul(Fr,_o)|0,gr=gr+Math.imul(Fr,Eo)|0,pr=pr+Math.imul(zr,mo)|0,cr=cr+Math.imul(zr,So)|0,cr=cr+Math.imul(Hr,mo)|0,gr=gr+Math.imul(Hr,So)|0,pr=pr+Math.imul(Er,Yr)|0,cr=cr+Math.imul(Er,Qr)|0,cr=cr+Math.imul(Br,Yr)|0,gr=gr+Math.imul(Br,Qr)|0,pr=pr+Math.imul(qr,Nn)|0,cr=cr+Math.imul(qr,Hn)|0,cr=cr+Math.imul(Rr,Nn)|0,gr=gr+Math.imul(Rr,Hn)|0,pr=pr+Math.imul(Pr,Qn)|0,cr=cr+Math.imul(Pr,Jn)|0,cr=cr+Math.imul(Ar,Qn)|0,gr=gr+Math.imul(Ar,Jn)|0,pr=pr+Math.imul(lr,Gn)|0,cr=cr+Math.imul(lr,_i)|0,cr=cr+Math.imul(xr,Gn)|0,gr=gr+Math.imul(xr,_i)|0;var No=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(No>>>26)|0,No&=67108863,pr=Math.imul(Or,rn),cr=Math.imul(Or,Yn),cr=cr+Math.imul(Cr,rn)|0,gr=Math.imul(Cr,Yn),pr=pr+Math.imul(zn,ro)|0,cr=cr+Math.imul(zn,so)|0,cr=cr+Math.imul(Zn,ro)|0,gr=gr+Math.imul(Zn,so)|0,pr=pr+Math.imul(Un,po)|0,cr=cr+Math.imul(Un,$o)|0,cr=cr+Math.imul(Wn,po)|0,gr=gr+Math.imul(Wn,$o)|0,pr=pr+Math.imul(Wr,_o)|0,cr=cr+Math.imul(Wr,Eo)|0,cr=cr+Math.imul(nn,_o)|0,gr=gr+Math.imul(nn,Eo)|0,pr=pr+Math.imul(Ur,mo)|0,cr=cr+Math.imul(Ur,So)|0,cr=cr+Math.imul(Fr,mo)|0,gr=gr+Math.imul(Fr,So)|0,pr=pr+Math.imul(zr,Yr)|0,cr=cr+Math.imul(zr,Qr)|0,cr=cr+Math.imul(Hr,Yr)|0,gr=gr+Math.imul(Hr,Qr)|0,pr=pr+Math.imul(Er,Nn)|0,cr=cr+Math.imul(Er,Hn)|0,cr=cr+Math.imul(Br,Nn)|0,gr=gr+Math.imul(Br,Hn)|0,pr=pr+Math.imul(qr,Qn)|0,cr=cr+Math.imul(qr,Jn)|0,cr=cr+Math.imul(Rr,Qn)|0,gr=gr+Math.imul(Rr,Jn)|0,pr=pr+Math.imul(Pr,Gn)|0,cr=cr+Math.imul(Pr,_i)|0,cr=cr+Math.imul(Ar,Gn)|0,gr=gr+Math.imul(Ar,_i)|0;var rs=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(rs>>>26)|0,rs&=67108863,pr=Math.imul(Or,ro),cr=Math.imul(Or,so),cr=cr+Math.imul(Cr,ro)|0,gr=Math.imul(Cr,so),pr=pr+Math.imul(zn,po)|0,cr=cr+Math.imul(zn,$o)|0,cr=cr+Math.imul(Zn,po)|0,gr=gr+Math.imul(Zn,$o)|0,pr=pr+Math.imul(Un,_o)|0,cr=cr+Math.imul(Un,Eo)|0,cr=cr+Math.imul(Wn,_o)|0,gr=gr+Math.imul(Wn,Eo)|0,pr=pr+Math.imul(Wr,mo)|0,cr=cr+Math.imul(Wr,So)|0,cr=cr+Math.imul(nn,mo)|0,gr=gr+Math.imul(nn,So)|0,pr=pr+Math.imul(Ur,Yr)|0,cr=cr+Math.imul(Ur,Qr)|0,cr=cr+Math.imul(Fr,Yr)|0,gr=gr+Math.imul(Fr,Qr)|0,pr=pr+Math.imul(zr,Nn)|0,cr=cr+Math.imul(zr,Hn)|0,cr=cr+Math.imul(Hr,Nn)|0,gr=gr+Math.imul(Hr,Hn)|0,pr=pr+Math.imul(Er,Qn)|0,cr=cr+Math.imul(Er,Jn)|0,cr=cr+Math.imul(Br,Qn)|0,gr=gr+Math.imul(Br,Jn)|0,pr=pr+Math.imul(qr,Gn)|0,cr=cr+Math.imul(qr,_i)|0,cr=cr+Math.imul(Rr,Gn)|0,gr=gr+Math.imul(Rr,_i)|0;var Go=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Go>>>26)|0,Go&=67108863,pr=Math.imul(Or,po),cr=Math.imul(Or,$o),cr=cr+Math.imul(Cr,po)|0,gr=Math.imul(Cr,$o),pr=pr+Math.imul(zn,_o)|0,cr=cr+Math.imul(zn,Eo)|0,cr=cr+Math.imul(Zn,_o)|0,gr=gr+Math.imul(Zn,Eo)|0,pr=pr+Math.imul(Un,mo)|0,cr=cr+Math.imul(Un,So)|0,cr=cr+Math.imul(Wn,mo)|0,gr=gr+Math.imul(Wn,So)|0,pr=pr+Math.imul(Wr,Yr)|0,cr=cr+Math.imul(Wr,Qr)|0,cr=cr+Math.imul(nn,Yr)|0,gr=gr+Math.imul(nn,Qr)|0,pr=pr+Math.imul(Ur,Nn)|0,cr=cr+Math.imul(Ur,Hn)|0,cr=cr+Math.imul(Fr,Nn)|0,gr=gr+Math.imul(Fr,Hn)|0,pr=pr+Math.imul(zr,Qn)|0,cr=cr+Math.imul(zr,Jn)|0,cr=cr+Math.imul(Hr,Qn)|0,gr=gr+Math.imul(Hr,Jn)|0,pr=pr+Math.imul(Er,Gn)|0,cr=cr+Math.imul(Er,_i)|0,cr=cr+Math.imul(Br,Gn)|0,gr=gr+Math.imul(Br,_i)|0;var Zo=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,pr=Math.imul(Or,_o),cr=Math.imul(Or,Eo),cr=cr+Math.imul(Cr,_o)|0,gr=Math.imul(Cr,Eo),pr=pr+Math.imul(zn,mo)|0,cr=cr+Math.imul(zn,So)|0,cr=cr+Math.imul(Zn,mo)|0,gr=gr+Math.imul(Zn,So)|0,pr=pr+Math.imul(Un,Yr)|0,cr=cr+Math.imul(Un,Qr)|0,cr=cr+Math.imul(Wn,Yr)|0,gr=gr+Math.imul(Wn,Qr)|0,pr=pr+Math.imul(Wr,Nn)|0,cr=cr+Math.imul(Wr,Hn)|0,cr=cr+Math.imul(nn,Nn)|0,gr=gr+Math.imul(nn,Hn)|0,pr=pr+Math.imul(Ur,Qn)|0,cr=cr+Math.imul(Ur,Jn)|0,cr=cr+Math.imul(Fr,Qn)|0,gr=gr+Math.imul(Fr,Jn)|0,pr=pr+Math.imul(zr,Gn)|0,cr=cr+Math.imul(zr,_i)|0,cr=cr+Math.imul(Hr,Gn)|0,gr=gr+Math.imul(Hr,_i)|0;var ga=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(ga>>>26)|0,ga&=67108863,pr=Math.imul(Or,mo),cr=Math.imul(Or,So),cr=cr+Math.imul(Cr,mo)|0,gr=Math.imul(Cr,So),pr=pr+Math.imul(zn,Yr)|0,cr=cr+Math.imul(zn,Qr)|0,cr=cr+Math.imul(Zn,Yr)|0,gr=gr+Math.imul(Zn,Qr)|0,pr=pr+Math.imul(Un,Nn)|0,cr=cr+Math.imul(Un,Hn)|0,cr=cr+Math.imul(Wn,Nn)|0,gr=gr+Math.imul(Wn,Hn)|0,pr=pr+Math.imul(Wr,Qn)|0,cr=cr+Math.imul(Wr,Jn)|0,cr=cr+Math.imul(nn,Qn)|0,gr=gr+Math.imul(nn,Jn)|0,pr=pr+Math.imul(Ur,Gn)|0,cr=cr+Math.imul(Ur,_i)|0,cr=cr+Math.imul(Fr,Gn)|0,gr=gr+Math.imul(Fr,_i)|0;var xa=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(xa>>>26)|0,xa&=67108863,pr=Math.imul(Or,Yr),cr=Math.imul(Or,Qr),cr=cr+Math.imul(Cr,Yr)|0,gr=Math.imul(Cr,Qr),pr=pr+Math.imul(zn,Nn)|0,cr=cr+Math.imul(zn,Hn)|0,cr=cr+Math.imul(Zn,Nn)|0,gr=gr+Math.imul(Zn,Hn)|0,pr=pr+Math.imul(Un,Qn)|0,cr=cr+Math.imul(Un,Jn)|0,cr=cr+Math.imul(Wn,Qn)|0,gr=gr+Math.imul(Wn,Jn)|0,pr=pr+Math.imul(Wr,Gn)|0,cr=cr+Math.imul(Wr,_i)|0,cr=cr+Math.imul(nn,Gn)|0,gr=gr+Math.imul(nn,_i)|0;var To=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(To>>>26)|0,To&=67108863,pr=Math.imul(Or,Nn),cr=Math.imul(Or,Hn),cr=cr+Math.imul(Cr,Nn)|0,gr=Math.imul(Cr,Hn),pr=pr+Math.imul(zn,Qn)|0,cr=cr+Math.imul(zn,Jn)|0,cr=cr+Math.imul(Zn,Qn)|0,gr=gr+Math.imul(Zn,Jn)|0,pr=pr+Math.imul(Un,Gn)|0,cr=cr+Math.imul(Un,_i)|0,cr=cr+Math.imul(Wn,Gn)|0,gr=gr+Math.imul(Wn,_i)|0;var Po=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Po>>>26)|0,Po&=67108863,pr=Math.imul(Or,Qn),cr=Math.imul(Or,Jn),cr=cr+Math.imul(Cr,Qn)|0,gr=Math.imul(Cr,Jn),pr=pr+Math.imul(zn,Gn)|0,cr=cr+Math.imul(zn,_i)|0,cr=cr+Math.imul(Zn,Gn)|0,gr=gr+Math.imul(Zn,_i)|0;var Qo=(ur+pr|0)+((cr&8191)<<13)|0;ur=(gr+(cr>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,pr=Math.imul(Or,Gn),cr=Math.imul(Or,_i),cr=cr+Math.imul(Cr,Gn)|0,gr=Math.imul(Cr,_i);var ts=(ur+pr|0)+((cr&8191)<<13)|0;return ur=(gr+(cr>>>13)|0)+(ts>>>26)|0,ts&=67108863,ar[0]=go,ar[1]=fo,ar[2]=Co,ar[3]=ko,ar[4]=Ao,ar[5]=Oo,ar[6]=Xo,ar[7]=es,ar[8]=Ho,ar[9]=No,ar[10]=rs,ar[11]=Go,ar[12]=Zo,ar[13]=ga,ar[14]=xa,ar[15]=To,ar[16]=Po,ar[17]=Qo,ar[18]=ts,ur!==0&&(ar[19]=ur,ir.length++),ir};Math.imul||(Vt=Ut);function Yt(wr,fr,_r){_r.negative=fr.negative^wr.negative,_r.length=wr.length+fr.length;for(var ir=0,rr=0,or=0;or<_r.length-1;or++){var ar=rr;rr=0;for(var ur=ir&67108863,pr=Math.min(or,fr.length-1),cr=Math.max(0,or-wr.length+1);cr<=pr;cr++){var gr=or-cr,hr=wr.words[gr]|0,lr=fr.words[cr]|0,xr=hr*lr,Mr=xr&67108863;ar=ar+(xr/67108864|0)|0,Mr=Mr+ur|0,ur=Mr&67108863,ar=ar+(Mr>>>26)|0,rr+=ar>>>26,ar&=67108863}_r.words[or]=ur,ir=ar,ar=rr}return ir!==0?_r.words[or]=ir:_r.length--,_r.strip()}function er(wr,fr,_r){var ir=new tr;return ir.mulp(wr,fr,_r)}mt.prototype.mulTo=function(fr,_r){var ir,rr=this.length+fr.length;return this.length===10&&fr.length===10?ir=Vt(this,fr,_r):rr<63?ir=Ut(this,fr,_r):rr<1024?ir=Yt(this,fr,_r):ir=er(this,fr,_r),ir};function tr(wr,fr){this.x=wr,this.y=fr}tr.prototype.makeRBT=function(fr){for(var _r=new Array(fr),ir=mt.prototype._countBits(fr)-1,rr=0;rr<fr;rr++)_r[rr]=this.revBin(rr,ir,fr);return _r},tr.prototype.revBin=function(fr,_r,ir){if(fr===0||fr===ir-1)return fr;for(var rr=0,or=0;or<_r;or++)rr|=(fr&1)<<_r-or-1,fr>>=1;return rr},tr.prototype.permute=function(fr,_r,ir,rr,or,ar){for(var ur=0;ur<ar;ur++)rr[ur]=_r[fr[ur]],or[ur]=ir[fr[ur]]},tr.prototype.transform=function(fr,_r,ir,rr,or,ar){this.permute(ar,fr,_r,ir,rr,or);for(var ur=1;ur<or;ur<<=1)for(var pr=ur<<1,cr=Math.cos(2*Math.PI/pr),gr=Math.sin(2*Math.PI/pr),hr=0;hr<or;hr+=pr)for(var lr=cr,xr=gr,Mr=0;Mr<ur;Mr++){var Pr=ir[hr+Mr],Ar=rr[hr+Mr],Ir=ir[hr+Mr+ur],qr=rr[hr+Mr+ur],Rr=lr*Ir-xr*qr;qr=lr*qr+xr*Ir,Ir=Rr,ir[hr+Mr]=Pr+Ir,rr[hr+Mr]=Ar+qr,ir[hr+Mr+ur]=Pr-Ir,rr[hr+Mr+ur]=Ar-qr,Mr!==pr&&(Rr=cr*lr-gr*xr,xr=cr*xr+gr*lr,lr=Rr)}},tr.prototype.guessLen13b=function(fr,_r){var ir=Math.max(_r,fr)|1,rr=ir&1,or=0;for(ir=ir/2|0;ir;ir=ir>>>1)or++;return 1<<or+1+rr},tr.prototype.conjugate=function(fr,_r,ir){if(!(ir<=1))for(var rr=0;rr<ir/2;rr++){var or=fr[rr];fr[rr]=fr[ir-rr-1],fr[ir-rr-1]=or,or=_r[rr],_r[rr]=-_r[ir-rr-1],_r[ir-rr-1]=-or}},tr.prototype.normalize13b=function(fr,_r){for(var ir=0,rr=0;rr<_r/2;rr++){var or=Math.round(fr[2*rr+1]/_r)*8192+Math.round(fr[2*rr]/_r)+ir;fr[rr]=or&67108863,or<67108864?ir=0:ir=or/67108864|0}return fr},tr.prototype.convert13b=function(fr,_r,ir,rr){for(var or=0,ar=0;ar<_r;ar++)or=or+(fr[ar]|0),ir[2*ar]=or&8191,or=or>>>13,ir[2*ar+1]=or&8191,or=or>>>13;for(ar=2*_r;ar<rr;++ar)ir[ar]=0;nt(or===0),nt((or&-8192)===0)},tr.prototype.stub=function(fr){for(var _r=new Array(fr),ir=0;ir<fr;ir++)_r[ir]=0;return _r},tr.prototype.mulp=function(fr,_r,ir){var rr=2*this.guessLen13b(fr.length,_r.length),or=this.makeRBT(rr),ar=this.stub(rr),ur=new Array(rr),pr=new Array(rr),cr=new Array(rr),gr=new Array(rr),hr=new Array(rr),lr=new Array(rr),xr=ir.words;xr.length=rr,this.convert13b(fr.words,fr.length,ur,rr),this.convert13b(_r.words,_r.length,gr,rr),this.transform(ur,ar,pr,cr,rr,or),this.transform(gr,ar,hr,lr,rr,or);for(var Mr=0;Mr<rr;Mr++){var Pr=pr[Mr]*hr[Mr]-cr[Mr]*lr[Mr];cr[Mr]=pr[Mr]*lr[Mr]+cr[Mr]*hr[Mr],pr[Mr]=Pr}return this.conjugate(pr,cr,rr),this.transform(pr,cr,xr,ar,rr,or),this.conjugate(xr,ar,rr),this.normalize13b(xr,rr),ir.negative=fr.negative^_r.negative,ir.length=fr.length+_r.length,ir.strip()},mt.prototype.mul=function(fr){var _r=new mt(null);return _r.words=new Array(this.length+fr.length),this.mulTo(fr,_r)},mt.prototype.mulf=function(fr){var _r=new mt(null);return _r.words=new Array(this.length+fr.length),er(this,fr,_r)},mt.prototype.imul=function(fr){return this.clone().mulTo(fr,this)},mt.prototype.imuln=function(fr){nt(typeof fr=="number"),nt(fr<67108864);for(var _r=0,ir=0;ir<this.length;ir++){var rr=(this.words[ir]|0)*fr,or=(rr&67108863)+(_r&67108863);_r>>=26,_r+=rr/67108864|0,_r+=or>>>26,this.words[ir]=or&67108863}return _r!==0&&(this.words[ir]=_r,this.length++),this},mt.prototype.muln=function(fr){return this.clone().imuln(fr)},mt.prototype.sqr=function(){return this.mul(this)},mt.prototype.isqr=function(){return this.imul(this.clone())},mt.prototype.pow=function(fr){var _r=Lt(fr);if(_r.length===0)return new mt(1);for(var ir=this,rr=0;rr<_r.length&&_r[rr]===0;rr++,ir=ir.sqr());if(++rr<_r.length)for(var or=ir.sqr();rr<_r.length;rr++,or=or.sqr())_r[rr]!==0&&(ir=ir.mul(or));return ir},mt.prototype.iushln=function(fr){nt(typeof fr=="number"&&fr>=0);var _r=fr%26,ir=(fr-_r)/26,rr=67108863>>>26-_r<<26-_r,or;if(_r!==0){var ar=0;for(or=0;or<this.length;or++){var ur=this.words[or]&rr,pr=(this.words[or]|0)-ur<<_r;this.words[or]=pr|ar,ar=ur>>>26-_r}ar&&(this.words[or]=ar,this.length++)}if(ir!==0){for(or=this.length-1;or>=0;or--)this.words[or+ir]=this.words[or];for(or=0;or<ir;or++)this.words[or]=0;this.length+=ir}return this.strip()},mt.prototype.ishln=function(fr){return nt(this.negative===0),this.iushln(fr)},mt.prototype.iushrn=function(fr,_r,ir){nt(typeof fr=="number"&&fr>=0);var rr;_r?rr=(_r-_r%26)/26:rr=0;var or=fr%26,ar=Math.min((fr-or)/26,this.length),ur=67108863^67108863>>>or<<or,pr=ir;if(rr-=ar,rr=Math.max(0,rr),pr){for(var cr=0;cr<ar;cr++)pr.words[cr]=this.words[cr];pr.length=ar}if(ar!==0)if(this.length>ar)for(this.length-=ar,cr=0;cr<this.length;cr++)this.words[cr]=this.words[cr+ar];else this.words[0]=0,this.length=1;var gr=0;for(cr=this.length-1;cr>=0&&(gr!==0||cr>=rr);cr--){var hr=this.words[cr]|0;this.words[cr]=gr<<26-or|hr>>>or,gr=hr&ur}return pr&&gr!==0&&(pr.words[pr.length++]=gr),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},mt.prototype.ishrn=function(fr,_r,ir){return nt(this.negative===0),this.iushrn(fr,_r,ir)},mt.prototype.shln=function(fr){return this.clone().ishln(fr)},mt.prototype.ushln=function(fr){return this.clone().iushln(fr)},mt.prototype.shrn=function(fr){return this.clone().ishrn(fr)},mt.prototype.ushrn=function(fr){return this.clone().iushrn(fr)},mt.prototype.testn=function(fr){nt(typeof fr=="number"&&fr>=0);var _r=fr%26,ir=(fr-_r)/26,rr=1<<_r;if(this.length<=ir)return!1;var or=this.words[ir];return!!(or&rr)},mt.prototype.imaskn=function(fr){nt(typeof fr=="number"&&fr>=0);var _r=fr%26,ir=(fr-_r)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=ir)return this;if(_r!==0&&ir++,this.length=Math.min(ir,this.length),_r!==0){var rr=67108863^67108863>>>_r<<_r;this.words[this.length-1]&=rr}return this.strip()},mt.prototype.maskn=function(fr){return this.clone().imaskn(fr)},mt.prototype.iaddn=function(fr){return nt(typeof fr=="number"),nt(fr<67108864),fr<0?this.isubn(-fr):this.negative!==0?this.length===1&&(this.words[0]|0)<fr?(this.words[0]=fr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(fr),this.negative=1,this):this._iaddn(fr)},mt.prototype._iaddn=function(fr){this.words[0]+=fr;for(var _r=0;_r<this.length&&this.words[_r]>=67108864;_r++)this.words[_r]-=67108864,_r===this.length-1?this.words[_r+1]=1:this.words[_r+1]++;return this.length=Math.max(this.length,_r+1),this},mt.prototype.isubn=function(fr){if(nt(typeof fr=="number"),nt(fr<67108864),fr<0)return this.iaddn(-fr);if(this.negative!==0)return this.negative=0,this.iaddn(fr),this.negative=1,this;if(this.words[0]-=fr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _r=0;_r<this.length&&this.words[_r]<0;_r++)this.words[_r]+=67108864,this.words[_r+1]-=1;return this.strip()},mt.prototype.addn=function(fr){return this.clone().iaddn(fr)},mt.prototype.subn=function(fr){return this.clone().isubn(fr)},mt.prototype.iabs=function(){return this.negative=0,this},mt.prototype.abs=function(){return this.clone().iabs()},mt.prototype._ishlnsubmul=function(fr,_r,ir){var rr=fr.length+ir,or;this._expand(rr);var ar,ur=0;for(or=0;or<fr.length;or++){ar=(this.words[or+ir]|0)+ur;var pr=(fr.words[or]|0)*_r;ar-=pr&67108863,ur=(ar>>26)-(pr/67108864|0),this.words[or+ir]=ar&67108863}for(;or<this.length-ir;or++)ar=(this.words[or+ir]|0)+ur,ur=ar>>26,this.words[or+ir]=ar&67108863;if(ur===0)return this.strip();for(nt(ur===-1),ur=0,or=0;or<this.length;or++)ar=-(this.words[or]|0)+ur,ur=ar>>26,this.words[or]=ar&67108863;return this.negative=1,this.strip()},mt.prototype._wordDiv=function(fr,_r){var ir=this.length-fr.length,rr=this.clone(),or=fr,ar=or.words[or.length-1]|0,ur=this._countBits(ar);ir=26-ur,ir!==0&&(or=or.ushln(ir),rr.iushln(ir),ar=or.words[or.length-1]|0);var pr=rr.length-or.length,cr;if(_r!=="mod"){cr=new mt(null),cr.length=pr+1,cr.words=new Array(cr.length);for(var gr=0;gr<cr.length;gr++)cr.words[gr]=0}var hr=rr.clone()._ishlnsubmul(or,1,pr);hr.negative===0&&(rr=hr,cr&&(cr.words[pr]=1));for(var lr=pr-1;lr>=0;lr--){var xr=(rr.words[or.length+lr]|0)*67108864+(rr.words[or.length+lr-1]|0);for(xr=Math.min(xr/ar|0,67108863),rr._ishlnsubmul(or,xr,lr);rr.negative!==0;)xr--,rr.negative=0,rr._ishlnsubmul(or,1,lr),rr.isZero()||(rr.negative^=1);cr&&(cr.words[lr]=xr)}return cr&&cr.strip(),rr.strip(),_r!=="div"&&ir!==0&&rr.iushrn(ir),{div:cr||null,mod:rr}},mt.prototype.divmod=function(fr,_r,ir){if(nt(!fr.isZero()),this.isZero())return{div:new mt(0),mod:new mt(0)};var rr,or,ar;return this.negative!==0&&fr.negative===0?(ar=this.neg().divmod(fr,_r),_r!=="mod"&&(rr=ar.div.neg()),_r!=="div"&&(or=ar.mod.neg(),ir&&or.negative!==0&&or.iadd(fr)),{div:rr,mod:or}):this.negative===0&&fr.negative!==0?(ar=this.divmod(fr.neg(),_r),_r!=="mod"&&(rr=ar.div.neg()),{div:rr,mod:ar.mod}):this.negative&fr.negative?(ar=this.neg().divmod(fr.neg(),_r),_r!=="div"&&(or=ar.mod.neg(),ir&&or.negative!==0&&or.isub(fr)),{div:ar.div,mod:or}):fr.length>this.length||this.cmp(fr)<0?{div:new mt(0),mod:this}:fr.length===1?_r==="div"?{div:this.divn(fr.words[0]),mod:null}:_r==="mod"?{div:null,mod:new mt(this.modn(fr.words[0]))}:{div:this.divn(fr.words[0]),mod:new mt(this.modn(fr.words[0]))}:this._wordDiv(fr,_r)},mt.prototype.div=function(fr){return this.divmod(fr,"div",!1).div},mt.prototype.mod=function(fr){return this.divmod(fr,"mod",!1).mod},mt.prototype.umod=function(fr){return this.divmod(fr,"mod",!0).mod},mt.prototype.divRound=function(fr){var _r=this.divmod(fr);if(_r.mod.isZero())return _r.div;var ir=_r.div.negative!==0?_r.mod.isub(fr):_r.mod,rr=fr.ushrn(1),or=fr.andln(1),ar=ir.cmp(rr);return ar<0||or===1&&ar===0?_r.div:_r.div.negative!==0?_r.div.isubn(1):_r.div.iaddn(1)},mt.prototype.modn=function(fr){nt(fr<=67108863);for(var _r=(1<<26)%fr,ir=0,rr=this.length-1;rr>=0;rr--)ir=(_r*ir+(this.words[rr]|0))%fr;return ir},mt.prototype.idivn=function(fr){nt(fr<=67108863);for(var _r=0,ir=this.length-1;ir>=0;ir--){var rr=(this.words[ir]|0)+_r*67108864;this.words[ir]=rr/fr|0,_r=rr%fr}return this.strip()},mt.prototype.divn=function(fr){return this.clone().idivn(fr)},mt.prototype.egcd=function(fr){nt(fr.negative===0),nt(!fr.isZero());var _r=this,ir=fr.clone();_r.negative!==0?_r=_r.umod(fr):_r=_r.clone();for(var rr=new mt(1),or=new mt(0),ar=new mt(0),ur=new mt(1),pr=0;_r.isEven()&&ir.isEven();)_r.iushrn(1),ir.iushrn(1),++pr;for(var cr=ir.clone(),gr=_r.clone();!_r.isZero();){for(var hr=0,lr=1;!(_r.words[0]&lr)&&hr<26;++hr,lr<<=1);if(hr>0)for(_r.iushrn(hr);hr-- >0;)(rr.isOdd()||or.isOdd())&&(rr.iadd(cr),or.isub(gr)),rr.iushrn(1),or.iushrn(1);for(var xr=0,Mr=1;!(ir.words[0]&Mr)&&xr<26;++xr,Mr<<=1);if(xr>0)for(ir.iushrn(xr);xr-- >0;)(ar.isOdd()||ur.isOdd())&&(ar.iadd(cr),ur.isub(gr)),ar.iushrn(1),ur.iushrn(1);_r.cmp(ir)>=0?(_r.isub(ir),rr.isub(ar),or.isub(ur)):(ir.isub(_r),ar.isub(rr),ur.isub(or))}return{a:ar,b:ur,gcd:ir.iushln(pr)}},mt.prototype._invmp=function(fr){nt(fr.negative===0),nt(!fr.isZero());var _r=this,ir=fr.clone();_r.negative!==0?_r=_r.umod(fr):_r=_r.clone();for(var rr=new mt(1),or=new mt(0),ar=ir.clone();_r.cmpn(1)>0&&ir.cmpn(1)>0;){for(var ur=0,pr=1;!(_r.words[0]&pr)&&ur<26;++ur,pr<<=1);if(ur>0)for(_r.iushrn(ur);ur-- >0;)rr.isOdd()&&rr.iadd(ar),rr.iushrn(1);for(var cr=0,gr=1;!(ir.words[0]&gr)&&cr<26;++cr,gr<<=1);if(cr>0)for(ir.iushrn(cr);cr-- >0;)or.isOdd()&&or.iadd(ar),or.iushrn(1);_r.cmp(ir)>=0?(_r.isub(ir),rr.isub(or)):(ir.isub(_r),or.isub(rr))}var hr;return _r.cmpn(1)===0?hr=rr:hr=or,hr.cmpn(0)<0&&hr.iadd(fr),hr},mt.prototype.gcd=function(fr){if(this.isZero())return fr.abs();if(fr.isZero())return this.abs();var _r=this.clone(),ir=fr.clone();_r.negative=0,ir.negative=0;for(var rr=0;_r.isEven()&&ir.isEven();rr++)_r.iushrn(1),ir.iushrn(1);do{for(;_r.isEven();)_r.iushrn(1);for(;ir.isEven();)ir.iushrn(1);var or=_r.cmp(ir);if(or<0){var ar=_r;_r=ir,ir=ar}else if(or===0||ir.cmpn(1)===0)break;_r.isub(ir)}while(!0);return ir.iushln(rr)},mt.prototype.invm=function(fr){return this.egcd(fr).a.umod(fr)},mt.prototype.isEven=function(){return(this.words[0]&1)===0},mt.prototype.isOdd=function(){return(this.words[0]&1)===1},mt.prototype.andln=function(fr){return this.words[0]&fr},mt.prototype.bincn=function(fr){nt(typeof fr=="number");var _r=fr%26,ir=(fr-_r)/26,rr=1<<_r;if(this.length<=ir)return this._expand(ir+1),this.words[ir]|=rr,this;for(var or=rr,ar=ir;or!==0&&ar<this.length;ar++){var ur=this.words[ar]|0;ur+=or,or=ur>>>26,ur&=67108863,this.words[ar]=ur}return or!==0&&(this.words[ar]=or,this.length++),this},mt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},mt.prototype.cmpn=function(fr){var _r=fr<0;if(this.negative!==0&&!_r)return-1;if(this.negative===0&&_r)return 1;this.strip();var ir;if(this.length>1)ir=1;else{_r&&(fr=-fr),nt(fr<=67108863,"Number is too big");var rr=this.words[0]|0;ir=rr===fr?0:rr<fr?-1:1}return this.negative!==0?-ir|0:ir},mt.prototype.cmp=function(fr){if(this.negative!==0&&fr.negative===0)return-1;if(this.negative===0&&fr.negative!==0)return 1;var _r=this.ucmp(fr);return this.negative!==0?-_r|0:_r},mt.prototype.ucmp=function(fr){if(this.length>fr.length)return 1;if(this.length<fr.length)return-1;for(var _r=0,ir=this.length-1;ir>=0;ir--){var rr=this.words[ir]|0,or=fr.words[ir]|0;if(rr!==or){rr<or?_r=-1:rr>or&&(_r=1);break}}return _r},mt.prototype.gtn=function(fr){return this.cmpn(fr)===1},mt.prototype.gt=function(fr){return this.cmp(fr)===1},mt.prototype.gten=function(fr){return this.cmpn(fr)>=0},mt.prototype.gte=function(fr){return this.cmp(fr)>=0},mt.prototype.ltn=function(fr){return this.cmpn(fr)===-1},mt.prototype.lt=function(fr){return this.cmp(fr)===-1},mt.prototype.lten=function(fr){return this.cmpn(fr)<=0},mt.prototype.lte=function(fr){return this.cmp(fr)<=0},mt.prototype.eqn=function(fr){return this.cmpn(fr)===0},mt.prototype.eq=function(fr){return this.cmp(fr)===0},mt.red=function(fr){return new $r(fr)},mt.prototype.toRed=function(fr){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),fr.convertTo(this)._forceRed(fr)},mt.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},mt.prototype._forceRed=function(fr){return this.red=fr,this},mt.prototype.forceRed=function(fr){return nt(!this.red,"Already a number in reduction context"),this._forceRed(fr)},mt.prototype.redAdd=function(fr){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,fr)},mt.prototype.redIAdd=function(fr){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,fr)},mt.prototype.redSub=function(fr){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,fr)},mt.prototype.redISub=function(fr){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,fr)},mt.prototype.redShl=function(fr){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,fr)},mt.prototype.redMul=function(fr){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,fr),this.red.mul(this,fr)},mt.prototype.redIMul=function(fr){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,fr),this.red.imul(this,fr)},mt.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},mt.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},mt.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},mt.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},mt.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},mt.prototype.redPow=function(fr){return nt(this.red&&!fr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,fr)};var nr={k256:null,p224:null,p192:null,p25519:null};function sr(wr,fr){this.name=wr,this.p=new mt(fr,16),this.n=this.p.bitLength(),this.k=new mt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}sr.prototype._tmp=function(){var fr=new mt(null);return fr.words=new Array(Math.ceil(this.n/13)),fr},sr.prototype.ireduce=function(fr){var _r=fr,ir;do this.split(_r,this.tmp),_r=this.imulK(_r),_r=_r.iadd(this.tmp),ir=_r.bitLength();while(ir>this.n);var rr=ir<this.n?-1:_r.ucmp(this.p);return rr===0?(_r.words[0]=0,_r.length=1):rr>0?_r.isub(this.p):_r.strip!==void 0?_r.strip():_r._strip(),_r},sr.prototype.split=function(fr,_r){fr.iushrn(this.n,0,_r)},sr.prototype.imulK=function(fr){return fr.imul(this.k)};function dr(){sr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}at(dr,sr),dr.prototype.split=function(fr,_r){for(var ir=4194303,rr=Math.min(fr.length,9),or=0;or<rr;or++)_r.words[or]=fr.words[or];if(_r.length=rr,fr.length<=9){fr.words[0]=0,fr.length=1;return}var ar=fr.words[9];for(_r.words[_r.length++]=ar&ir,or=10;or<fr.length;or++){var ur=fr.words[or]|0;fr.words[or-10]=(ur&ir)<<4|ar>>>22,ar=ur}ar>>>=22,fr.words[or-10]=ar,ar===0&&fr.length>10?fr.length-=10:fr.length-=9},dr.prototype.imulK=function(fr){fr.words[fr.length]=0,fr.words[fr.length+1]=0,fr.length+=2;for(var _r=0,ir=0;ir<fr.length;ir++){var rr=fr.words[ir]|0;_r+=rr*977,fr.words[ir]=_r&67108863,_r=rr*64+(_r/67108864|0)}return fr.words[fr.length-1]===0&&(fr.length--,fr.words[fr.length-1]===0&&fr.length--),fr};function br(){sr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}at(br,sr);function vr(){sr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}at(vr,sr);function yr(){sr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}at(yr,sr),yr.prototype.imulK=function(fr){for(var _r=0,ir=0;ir<fr.length;ir++){var rr=(fr.words[ir]|0)*19+_r,or=rr&67108863;rr>>>=26,fr.words[ir]=or,_r=rr}return _r!==0&&(fr.words[fr.length++]=_r),fr},mt._prime=function(fr){if(nr[fr])return nr[fr];var _r;if(fr==="k256")_r=new dr;else if(fr==="p224")_r=new br;else if(fr==="p192")_r=new vr;else if(fr==="p25519")_r=new yr;else throw new Error("Unknown prime "+fr);return nr[fr]=_r,_r};function $r(wr){if(typeof wr=="string"){var fr=mt._prime(wr);this.m=fr.p,this.prime=fr}else nt(wr.gtn(1),"modulus must be greater than 1"),this.m=wr,this.prime=null}$r.prototype._verify1=function(fr){nt(fr.negative===0,"red works only with positives"),nt(fr.red,"red works only with red numbers")},$r.prototype._verify2=function(fr,_r){nt((fr.negative|_r.negative)===0,"red works only with positives"),nt(fr.red&&fr.red===_r.red,"red works only with red numbers")},$r.prototype.imod=function(fr){return this.prime?this.prime.ireduce(fr)._forceRed(this):fr.umod(this.m)._forceRed(this)},$r.prototype.neg=function(fr){return fr.isZero()?fr.clone():this.m.sub(fr)._forceRed(this)},$r.prototype.add=function(fr,_r){this._verify2(fr,_r);var ir=fr.add(_r);return ir.cmp(this.m)>=0&&ir.isub(this.m),ir._forceRed(this)},$r.prototype.iadd=function(fr,_r){this._verify2(fr,_r);var ir=fr.iadd(_r);return ir.cmp(this.m)>=0&&ir.isub(this.m),ir},$r.prototype.sub=function(fr,_r){this._verify2(fr,_r);var ir=fr.sub(_r);return ir.cmpn(0)<0&&ir.iadd(this.m),ir._forceRed(this)},$r.prototype.isub=function(fr,_r){this._verify2(fr,_r);var ir=fr.isub(_r);return ir.cmpn(0)<0&&ir.iadd(this.m),ir},$r.prototype.shl=function(fr,_r){return this._verify1(fr),this.imod(fr.ushln(_r))},$r.prototype.imul=function(fr,_r){return this._verify2(fr,_r),this.imod(fr.imul(_r))},$r.prototype.mul=function(fr,_r){return this._verify2(fr,_r),this.imod(fr.mul(_r))},$r.prototype.isqr=function(fr){return this.imul(fr,fr.clone())},$r.prototype.sqr=function(fr){return this.mul(fr,fr)},$r.prototype.sqrt=function(fr){if(fr.isZero())return fr.clone();var _r=this.m.andln(3);if(nt(_r%2===1),_r===3){var ir=this.m.add(new mt(1)).iushrn(2);return this.pow(fr,ir)}for(var rr=this.m.subn(1),or=0;!rr.isZero()&&rr.andln(1)===0;)or++,rr.iushrn(1);nt(!rr.isZero());var ar=new mt(1).toRed(this),ur=ar.redNeg(),pr=this.m.subn(1).iushrn(1),cr=this.m.bitLength();for(cr=new mt(2*cr*cr).toRed(this);this.pow(cr,pr).cmp(ur)!==0;)cr.redIAdd(ur);for(var gr=this.pow(cr,rr),hr=this.pow(fr,rr.addn(1).iushrn(1)),lr=this.pow(fr,rr),xr=or;lr.cmp(ar)!==0;){for(var Mr=lr,Pr=0;Mr.cmp(ar)!==0;Pr++)Mr=Mr.redSqr();nt(Pr<xr);var Ar=this.pow(gr,new mt(1).iushln(xr-Pr-1));hr=hr.redMul(Ar),gr=Ar.redSqr(),lr=lr.redMul(gr),xr=Pr}return hr},$r.prototype.invm=function(fr){var _r=fr._invmp(this.m);return _r.negative!==0?(_r.negative=0,this.imod(_r).redNeg()):this.imod(_r)},$r.prototype.pow=function(fr,_r){if(_r.isZero())return new mt(1).toRed(this);if(_r.cmpn(1)===0)return fr.clone();var ir=4,rr=new Array(1<<ir);rr[0]=new mt(1).toRed(this),rr[1]=fr;for(var or=2;or<rr.length;or++)rr[or]=this.mul(rr[or-1],fr);var ar=rr[0],ur=0,pr=0,cr=_r.bitLength()%26;for(cr===0&&(cr=26),or=_r.length-1;or>=0;or--){for(var gr=_r.words[or],hr=cr-1;hr>=0;hr--){var lr=gr>>hr&1;if(ar!==rr[0]&&(ar=this.sqr(ar)),lr===0&&ur===0){pr=0;continue}ur<<=1,ur|=lr,pr++,!(pr!==ir&&(or!==0||hr!==0))&&(ar=this.mul(ar,rr[ur]),pr=0,ur=0)}cr=26}return ar},$r.prototype.convertTo=function(fr){var _r=fr.umod(this.m);return _r===fr?_r.clone():_r},$r.prototype.convertFrom=function(fr){var _r=fr.clone();return _r.red=null,_r},mt.mont=function(fr){return new Sr(fr)};function Sr(wr){$r.call(this,wr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new mt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}at(Sr,$r),Sr.prototype.convertTo=function(fr){return this.imod(fr.ushln(this.shift))},Sr.prototype.convertFrom=function(fr){var _r=this.imod(fr.mul(this.rinv));return _r.red=null,_r},Sr.prototype.imul=function(fr,_r){if(fr.isZero()||_r.isZero())return fr.words[0]=0,fr.length=1,fr;var ir=fr.imul(_r),rr=ir.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),or=ir.isub(rr).iushrn(this.shift),ar=or;return or.cmp(this.m)>=0?ar=or.isub(this.m):or.cmpn(0)<0&&(ar=or.iadd(this.m)),ar._forceRed(this)},Sr.prototype.mul=function(fr,_r){if(fr.isZero()||_r.isZero())return new mt(0)._forceRed(this);var ir=fr.mul(_r),rr=ir.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),or=ir.isub(rr).iushrn(this.shift),ar=or;return or.cmp(this.m)>=0?ar=or.isub(this.m):or.cmpn(0)<0&&(ar=or.iadd(this.m)),ar._forceRed(this)},Sr.prototype.invm=function(fr){var _r=this.imod(fr._invmp(this.m).mul(this.r2));return _r._forceRed(this)}})(s,commonjsGlobal$1)}(bn$1)),bn$1.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var s;brorand.exports=function(at){return s||(s=new a(null)),s.generate(at)};function a(nt){this.rand=nt}if(brorand.exports.Rand=a,a.prototype.generate=function(at){return this._rand(at)},a.prototype._rand=function(at){if(this.rand.getBytes)return this.rand.getBytes(at);for(var mt=new Uint8Array(at),wt=0;wt<mt.length;wt++)mt[wt]=this.rand.getByte();return mt},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(at){var mt=new Uint8Array(at);return self.crypto.getRandomValues(mt),mt}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(at){var mt=new Uint8Array(at);return self.msCrypto.getRandomValues(mt),mt}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var et=requireCryptoBrowserify();if(typeof et.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(at){return et.randomBytes(at)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var s=requireBn(),a=requireBrorand();function et(nt){this.rand=nt||new a.Rand}return mr=et,et.create=function(at){return new et(at)},et.prototype._randbelow=function(at){var mt=at.bitLength(),wt=Math.ceil(mt/8);do var $t=new s(this.rand.generate(wt));while($t.cmp(at)>=0);return $t},et.prototype._randrange=function(at,mt){var wt=mt.sub(at);return at.add(this._randbelow(wt))},et.prototype.test=function(at,mt,wt){var $t=at.bitLength(),Ct=s.mont(at),Dt=new s(1).toRed(Ct);mt||(mt=Math.max(1,$t/48|0));for(var Ft=at.subn(1),jt=0;!Ft.testn(jt);jt++);for(var Nt=at.shrn(jt),Lt=Ft.toRed(Ct),Ut=!0;mt>0;mt--){var Vt=this._randrange(new s(2),Ft);wt&&wt(Vt);var Yt=Vt.toRed(Ct).redPow(Nt);if(!(Yt.cmp(Dt)===0||Yt.cmp(Lt)===0)){for(var er=1;er<jt;er++){if(Yt=Yt.redSqr(),Yt.cmp(Dt)===0)return!1;if(Yt.cmp(Lt)===0)break}if(er===jt)return!1}}return Ut},et.prototype.getDivisor=function(at,mt){var wt=at.bitLength(),$t=s.mont(at),Ct=new s(1).toRed($t);mt||(mt=Math.max(1,wt/48|0));for(var Dt=at.subn(1),Ft=0;!Dt.testn(Ft);Ft++);for(var jt=at.shrn(Ft),Nt=Dt.toRed($t);mt>0;mt--){var Lt=this._randrange(new s(2),Dt),Ut=at.gcd(Lt);if(Ut.cmpn(1)!==0)return Ut;var Vt=Lt.toRed($t).redPow(jt);if(!(Vt.cmp(Ct)===0||Vt.cmp(Nt)===0)){for(var Yt=1;Yt<Ft;Yt++){if(Vt=Vt.redSqr(),Vt.cmp(Ct)===0)return Vt.fromRed().subn(1).gcd(at);if(Vt.cmp(Nt)===0)break}if(Yt===Ft)return Vt=Vt.redSqr(),Vt.fromRed().subn(1).gcd(at)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var s=requireBrowser$b();generatePrime=Yt,Yt.simpleSieve=Ut,Yt.fermatTest=Vt;var a=requireBn(),et=new a(24),nt=requireMr(),at=new nt,mt=new a(1),wt=new a(2),$t=new a(5);new a(16),new a(8);var Ct=new a(10),Dt=new a(3);new a(7);var Ft=new a(11),jt=new a(4);new a(12);var Nt=null;function Lt(){if(Nt!==null)return Nt;var er=1048576,tr=[];tr[0]=2;for(var nr=1,sr=3;sr<er;sr+=2){for(var dr=Math.ceil(Math.sqrt(sr)),br=0;br<nr&&tr[br]<=dr&&sr%tr[br]!==0;br++);nr!==br&&tr[br]<=dr||(tr[nr++]=sr)}return Nt=tr,tr}function Ut(er){for(var tr=Lt(),nr=0;nr<tr.length;nr++)if(er.modn(tr[nr])===0)return er.cmpn(tr[nr])===0;return!0}function Vt(er){var tr=a.mont(er);return wt.toRed(tr).redPow(er.subn(1)).fromRed().cmpn(1)===0}function Yt(er,tr){if(er<16)return tr===2||tr===5?new a([140,123]):new a([140,39]);tr=new a(tr);for(var nr,sr;;){for(nr=new a(s(Math.ceil(er/8)));nr.bitLength()>er;)nr.ishrn(1);if(nr.isEven()&&nr.iadd(mt),nr.testn(1)||nr.iadd(wt),tr.cmp(wt)){if(!tr.cmp($t))for(;nr.mod(Ct).cmp(Dt);)nr.iadd(jt)}else for(;nr.mod(et).cmp(Ft);)nr.iadd(jt);if(sr=nr.shrn(1),Ut(sr)&&Ut(nr)&&Vt(sr)&&Vt(nr)&&at.test(sr)&&at.test(nr))return nr}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var s=requireBn(),a=requireMr(),et=new a,nt=new s(24),at=new s(11),mt=new s(10),wt=new s(3),$t=new s(7),Ct=requireGeneratePrime(),Dt=requireBrowser$b();dh=Ut;function Ft(Yt,er){return er=er||"utf8",Buffer$1.isBuffer(Yt)||(Yt=new Buffer$1(Yt,er)),this._pub=new s(Yt),this}function jt(Yt,er){return er=er||"utf8",Buffer$1.isBuffer(Yt)||(Yt=new Buffer$1(Yt,er)),this._priv=new s(Yt),this}var Nt={};function Lt(Yt,er){var tr=er.toString("hex"),nr=[tr,Yt.toString(16)].join("_");if(nr in Nt)return Nt[nr];var sr=0;if(Yt.isEven()||!Ct.simpleSieve||!Ct.fermatTest(Yt)||!et.test(Yt))return sr+=1,tr==="02"||tr==="05"?sr+=8:sr+=4,Nt[nr]=sr,sr;et.test(Yt.shrn(1))||(sr+=2);var dr;switch(tr){case"02":Yt.mod(nt).cmp(at)&&(sr+=8);break;case"05":dr=Yt.mod(mt),dr.cmp(wt)&&dr.cmp($t)&&(sr+=8);break;default:sr+=4}return Nt[nr]=sr,sr}function Ut(Yt,er,tr){this.setGenerator(er),this.__prime=new s(Yt),this._prime=s.mont(this.__prime),this._primeLen=Yt.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,tr?(this.setPublicKey=Ft,this.setPrivateKey=jt):this._primeCode=8}Object.defineProperty(Ut.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Lt(this.__prime,this.__gen)),this._primeCode}}),Ut.prototype.generateKeys=function(){return this._priv||(this._priv=new s(Dt(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Ut.prototype.computeSecret=function(Yt){Yt=new s(Yt),Yt=Yt.toRed(this._prime);var er=Yt.redPow(this._priv).fromRed(),tr=new Buffer$1(er.toArray()),nr=this.getPrime();if(tr.length<nr.length){var sr=new Buffer$1(nr.length-tr.length);sr.fill(0),tr=Buffer$1.concat([sr,tr])}return tr},Ut.prototype.getPublicKey=function(er){return Vt(this._pub,er)},Ut.prototype.getPrivateKey=function(er){return Vt(this._priv,er)},Ut.prototype.getPrime=function(Yt){return Vt(this.__prime,Yt)},Ut.prototype.getGenerator=function(Yt){return Vt(this._gen,Yt)},Ut.prototype.setGenerator=function(Yt,er){return er=er||"utf8",Buffer$1.isBuffer(Yt)||(Yt=new Buffer$1(Yt,er)),this.__gen=Yt,this._gen=new s(Yt),this};function Vt(Yt,er){var tr=new Buffer$1(Yt.toArray());return er?tr.toString(er):tr}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$6;hasRequiredBrowser$4=1;var s=requireGeneratePrime(),a=require$$1$1,et=requireDh();function nt(wt){var $t=new Buffer$1(a[wt].prime,"hex"),Ct=new Buffer$1(a[wt].gen,"hex");return new et($t,Ct)}var at={binary:!0,hex:!0,base64:!0};function mt(wt,$t,Ct,Dt){return Buffer$1.isBuffer($t)||at[$t]===void 0?mt(wt,"binary",$t,Ct):($t=$t||"binary",Dt=Dt||"binary",Ct=Ct||new Buffer$1([2]),Buffer$1.isBuffer(Ct)||(Ct=new Buffer$1(Ct,Dt)),typeof wt=="number"?new et(s(wt,Ct),Ct,!0):(Buffer$1.isBuffer(wt)||(wt=new Buffer$1(wt,$t)),new et(wt,Ct,!0)))}return browser$6.DiffieHellmanGroup=browser$6.createDiffieHellmanGroup=browser$6.getDiffieHellman=nt,browser$6.createDiffieHellman=browser$6.DiffieHellman=mt,browser$6}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:s}:processNextickArgs.exports=process$1;function s(a,et,nt,at){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var mt=arguments.length,wt,$t;switch(mt){case 0:case 1:return process$1.nextTick(a);case 2:return process$1.nextTick(function(){a.call(null,et)});case 3:return process$1.nextTick(function(){a.call(null,et,nt)});case 4:return process$1.nextTick(function(){a.call(null,et,nt,at)});default:for(wt=new Array(mt-1),$t=0;$t<wt.length;)wt[$t++]=arguments[$t];return process$1.nextTick(function(){a.apply(null,wt)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var s={}.toString;return isarray=Array.isArray||function(a){return s.call(a)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(s,a){var et=require$$1$3,nt=et.Buffer;function at(wt,$t){for(var Ct in wt)$t[Ct]=wt[Ct]}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?s.exports=et:(at(et,a),a.Buffer=mt);function mt(wt,$t,Ct){return nt(wt,$t,Ct)}at(nt,mt),mt.from=function(wt,$t,Ct){if(typeof wt=="number")throw new TypeError("Argument must not be a number");return nt(wt,$t,Ct)},mt.alloc=function(wt,$t,Ct){if(typeof wt!="number")throw new TypeError("Argument must be a number");var Dt=nt(wt);return $t!==void 0?typeof Ct=="string"?Dt.fill($t,Ct):Dt.fill($t):Dt.fill(0),Dt},mt.allocUnsafe=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return nt(wt)},mt.allocUnsafeSlow=function(wt){if(typeof wt!="number")throw new TypeError("Argument must be a number");return et.SlowBuffer(wt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util$3={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$3;hasRequiredUtil=1;function s(Vt){return Array.isArray?Array.isArray(Vt):Ut(Vt)==="[object Array]"}util$3.isArray=s;function a(Vt){return typeof Vt=="boolean"}util$3.isBoolean=a;function et(Vt){return Vt===null}util$3.isNull=et;function nt(Vt){return Vt==null}util$3.isNullOrUndefined=nt;function at(Vt){return typeof Vt=="number"}util$3.isNumber=at;function mt(Vt){return typeof Vt=="string"}util$3.isString=mt;function wt(Vt){return typeof Vt=="symbol"}util$3.isSymbol=wt;function $t(Vt){return Vt===void 0}util$3.isUndefined=$t;function Ct(Vt){return Ut(Vt)==="[object RegExp]"}util$3.isRegExp=Ct;function Dt(Vt){return typeof Vt=="object"&&Vt!==null}util$3.isObject=Dt;function Ft(Vt){return Ut(Vt)==="[object Date]"}util$3.isDate=Ft;function jt(Vt){return Ut(Vt)==="[object Error]"||Vt instanceof Error}util$3.isError=jt;function Nt(Vt){return typeof Vt=="function"}util$3.isFunction=Nt;function Lt(Vt){return Vt===null||typeof Vt=="boolean"||typeof Vt=="number"||typeof Vt=="string"||typeof Vt=="symbol"||typeof Vt>"u"}util$3.isPrimitive=Lt,util$3.isBuffer=require$$1$3.Buffer.isBuffer;function Ut(Vt){return Object.prototype.toString.call(Vt)}return util$3}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(s){function a(mt,wt){if(!(mt instanceof wt))throw new TypeError("Cannot call a class as a function")}var et=requireSafeBuffer().Buffer,nt=requireUtil$1();function at(mt,wt,$t){mt.copy(wt,$t)}s.exports=function(){function mt(){a(this,mt),this.head=null,this.tail=null,this.length=0}return mt.prototype.push=function($t){var Ct={data:$t,next:null};this.length>0?this.tail.next=Ct:this.head=Ct,this.tail=Ct,++this.length},mt.prototype.unshift=function($t){var Ct={data:$t,next:this.head};this.length===0&&(this.tail=Ct),this.head=Ct,++this.length},mt.prototype.shift=function(){if(this.length!==0){var $t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$t}},mt.prototype.clear=function(){this.head=this.tail=null,this.length=0},mt.prototype.join=function($t){if(this.length===0)return"";for(var Ct=this.head,Dt=""+Ct.data;Ct=Ct.next;)Dt+=$t+Ct.data;return Dt},mt.prototype.concat=function($t){if(this.length===0)return et.alloc(0);for(var Ct=et.allocUnsafe($t>>>0),Dt=this.head,Ft=0;Dt;)at(Dt.data,Ct,Ft),Ft+=Dt.data.length,Dt=Dt.next;return Ct},mt}(),nt&&nt.inspect&&nt.inspect.custom&&(s.exports.prototype[nt.inspect.custom]=function(){var mt=nt.inspect({length:this.length});return this.constructor.name+" "+mt})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var s=requireProcessNextickArgs();function a(at,mt){var wt=this,$t=this._readableState&&this._readableState.destroyed,Ct=this._writableState&&this._writableState.destroyed;return $t||Ct?(mt?mt(at):at&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(nt,this,at)):s.nextTick(nt,this,at)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(at||null,function(Dt){!mt&&Dt?wt._writableState?wt._writableState.errorEmitted||(wt._writableState.errorEmitted=!0,s.nextTick(nt,wt,Dt)):s.nextTick(nt,wt,Dt):mt&&mt(Dt)}),this)}function et(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function nt(at,mt){at.emit("error",mt)}return destroy_1={destroy:a,undestroy:et},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var s=requireProcessNextickArgs();_stream_writable=Vt;function a(ar){var ur=this;this.next=null,this.entry=null,this.finish=function(){or(ur,ar)}}var et=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:s.nextTick,nt;Vt.WritableState=Lt;var at=Object.create(requireUtil());at.inherits=requireInherits_browser();var mt={deprecate:requireBrowser$a()},wt=requireStreamBrowser(),$t=requireSafeBuffer().Buffer,Ct=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Dt(ar){return $t.from(ar)}function Ft(ar){return $t.isBuffer(ar)||ar instanceof Ct}var jt=requireDestroy();at.inherits(Vt,wt);function Nt(){}function Lt(ar,ur){nt=nt||require_stream_duplex(),ar=ar||{};var pr=ur instanceof nt;this.objectMode=!!ar.objectMode,pr&&(this.objectMode=this.objectMode||!!ar.writableObjectMode);var cr=ar.highWaterMark,gr=ar.writableHighWaterMark,hr=this.objectMode?16:16*1024;cr||cr===0?this.highWaterMark=cr:pr&&(gr||gr===0)?this.highWaterMark=gr:this.highWaterMark=hr,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var lr=ar.decodeStrings===!1;this.decodeStrings=!lr,this.defaultEncoding=ar.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xr){vr(ur,xr)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}Lt.prototype.getBuffer=function(){for(var ur=this.bufferedRequest,pr=[];ur;)pr.push(ur),ur=ur.next;return pr},function(){try{Object.defineProperty(Lt.prototype,"buffer",{get:mt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ut;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ut=Function.prototype[Symbol.hasInstance],Object.defineProperty(Vt,Symbol.hasInstance,{value:function(ar){return Ut.call(this,ar)?!0:this!==Vt?!1:ar&&ar._writableState instanceof Lt}})):Ut=function(ar){return ar instanceof this};function Vt(ar){if(nt=nt||require_stream_duplex(),!Ut.call(Vt,this)&&!(this instanceof nt))return new Vt(ar);this._writableState=new Lt(ar,this),this.writable=!0,ar&&(typeof ar.write=="function"&&(this._write=ar.write),typeof ar.writev=="function"&&(this._writev=ar.writev),typeof ar.destroy=="function"&&(this._destroy=ar.destroy),typeof ar.final=="function"&&(this._final=ar.final)),wt.call(this)}Vt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Yt(ar,ur){var pr=new Error("write after end");ar.emit("error",pr),s.nextTick(ur,pr)}function er(ar,ur,pr,cr){var gr=!0,hr=!1;return pr===null?hr=new TypeError("May not write null values to stream"):typeof pr!="string"&&pr!==void 0&&!ur.objectMode&&(hr=new TypeError("Invalid non-string/buffer chunk")),hr&&(ar.emit("error",hr),s.nextTick(cr,hr),gr=!1),gr}Vt.prototype.write=function(ar,ur,pr){var cr=this._writableState,gr=!1,hr=!cr.objectMode&&Ft(ar);return hr&&!$t.isBuffer(ar)&&(ar=Dt(ar)),typeof ur=="function"&&(pr=ur,ur=null),hr?ur="buffer":ur||(ur=cr.defaultEncoding),typeof pr!="function"&&(pr=Nt),cr.ended?Yt(this,pr):(hr||er(this,cr,ar,pr))&&(cr.pendingcb++,gr=nr(this,cr,hr,ar,ur,pr)),gr},Vt.prototype.cork=function(){var ar=this._writableState;ar.corked++},Vt.prototype.uncork=function(){var ar=this._writableState;ar.corked&&(ar.corked--,!ar.writing&&!ar.corked&&!ar.bufferProcessing&&ar.bufferedRequest&&Sr(this,ar))},Vt.prototype.setDefaultEncoding=function(ur){if(typeof ur=="string"&&(ur=ur.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ur+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+ur);return this._writableState.defaultEncoding=ur,this};function tr(ar,ur,pr){return!ar.objectMode&&ar.decodeStrings!==!1&&typeof ur=="string"&&(ur=$t.from(ur,pr)),ur}Object.defineProperty(Vt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function nr(ar,ur,pr,cr,gr,hr){if(!pr){var lr=tr(ur,cr,gr);cr!==lr&&(pr=!0,gr="buffer",cr=lr)}var xr=ur.objectMode?1:cr.length;ur.length+=xr;var Mr=ur.length<ur.highWaterMark;if(Mr||(ur.needDrain=!0),ur.writing||ur.corked){var Pr=ur.lastBufferedRequest;ur.lastBufferedRequest={chunk:cr,encoding:gr,isBuf:pr,callback:hr,next:null},Pr?Pr.next=ur.lastBufferedRequest:ur.bufferedRequest=ur.lastBufferedRequest,ur.bufferedRequestCount+=1}else sr(ar,ur,!1,xr,cr,gr,hr);return Mr}function sr(ar,ur,pr,cr,gr,hr,lr){ur.writelen=cr,ur.writecb=lr,ur.writing=!0,ur.sync=!0,pr?ar._writev(gr,ur.onwrite):ar._write(gr,hr,ur.onwrite),ur.sync=!1}function dr(ar,ur,pr,cr,gr){--ur.pendingcb,pr?(s.nextTick(gr,cr),s.nextTick(ir,ar,ur),ar._writableState.errorEmitted=!0,ar.emit("error",cr)):(gr(cr),ar._writableState.errorEmitted=!0,ar.emit("error",cr),ir(ar,ur))}function br(ar){ar.writing=!1,ar.writecb=null,ar.length-=ar.writelen,ar.writelen=0}function vr(ar,ur){var pr=ar._writableState,cr=pr.sync,gr=pr.writecb;if(br(pr),ur)dr(ar,pr,cr,ur,gr);else{var hr=wr(pr);!hr&&!pr.corked&&!pr.bufferProcessing&&pr.bufferedRequest&&Sr(ar,pr),cr?et(yr,ar,pr,hr,gr):yr(ar,pr,hr,gr)}}function yr(ar,ur,pr,cr){pr||$r(ar,ur),ur.pendingcb--,cr(),ir(ar,ur)}function $r(ar,ur){ur.length===0&&ur.needDrain&&(ur.needDrain=!1,ar.emit("drain"))}function Sr(ar,ur){ur.bufferProcessing=!0;var pr=ur.bufferedRequest;if(ar._writev&&pr&&pr.next){var cr=ur.bufferedRequestCount,gr=new Array(cr),hr=ur.corkedRequestsFree;hr.entry=pr;for(var lr=0,xr=!0;pr;)gr[lr]=pr,pr.isBuf||(xr=!1),pr=pr.next,lr+=1;gr.allBuffers=xr,sr(ar,ur,!0,ur.length,gr,"",hr.finish),ur.pendingcb++,ur.lastBufferedRequest=null,hr.next?(ur.corkedRequestsFree=hr.next,hr.next=null):ur.corkedRequestsFree=new a(ur),ur.bufferedRequestCount=0}else{for(;pr;){var Mr=pr.chunk,Pr=pr.encoding,Ar=pr.callback,Ir=ur.objectMode?1:Mr.length;if(sr(ar,ur,!1,Ir,Mr,Pr,Ar),pr=pr.next,ur.bufferedRequestCount--,ur.writing)break}pr===null&&(ur.lastBufferedRequest=null)}ur.bufferedRequest=pr,ur.bufferProcessing=!1}Vt.prototype._write=function(ar,ur,pr){pr(new Error("_write() is not implemented"))},Vt.prototype._writev=null,Vt.prototype.end=function(ar,ur,pr){var cr=this._writableState;typeof ar=="function"?(pr=ar,ar=null,ur=null):typeof ur=="function"&&(pr=ur,ur=null),ar!=null&&this.write(ar,ur),cr.corked&&(cr.corked=1,this.uncork()),cr.ending||rr(this,cr,pr)};function wr(ar){return ar.ending&&ar.length===0&&ar.bufferedRequest===null&&!ar.finished&&!ar.writing}function fr(ar,ur){ar._final(function(pr){ur.pendingcb--,pr&&ar.emit("error",pr),ur.prefinished=!0,ar.emit("prefinish"),ir(ar,ur)})}function _r(ar,ur){!ur.prefinished&&!ur.finalCalled&&(typeof ar._final=="function"?(ur.pendingcb++,ur.finalCalled=!0,s.nextTick(fr,ar,ur)):(ur.prefinished=!0,ar.emit("prefinish")))}function ir(ar,ur){var pr=wr(ur);return pr&&(_r(ar,ur),ur.pendingcb===0&&(ur.finished=!0,ar.emit("finish"))),pr}function rr(ar,ur,pr){ur.ending=!0,ir(ar,ur),pr&&(ur.finished?s.nextTick(pr):ar.once("finish",pr)),ur.ended=!0,ar.writable=!1}function or(ar,ur,pr){var cr=ar.entry;for(ar.entry=null;cr;){var gr=cr.callback;ur.pendingcb--,gr(pr),cr=cr.next}ur.corkedRequestsFree.next=ar}return Object.defineProperty(Vt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ar){this._writableState&&(this._writableState.destroyed=ar)}}),Vt.prototype.destroy=jt.destroy,Vt.prototype._undestroy=jt.undestroy,Vt.prototype._destroy=function(ar,ur){this.end(),ur(ar)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var s=requireProcessNextickArgs(),a=Object.keys||function(jt){var Nt=[];for(var Lt in jt)Nt.push(Lt);return Nt};_stream_duplex=Ct;var et=Object.create(requireUtil());et.inherits=requireInherits_browser();var nt=require_stream_readable(),at=require_stream_writable();et.inherits(Ct,nt);for(var mt=a(at.prototype),wt=0;wt<mt.length;wt++){var $t=mt[wt];Ct.prototype[$t]||(Ct.prototype[$t]=at.prototype[$t])}function Ct(jt){if(!(this instanceof Ct))return new Ct(jt);nt.call(this,jt),at.call(this,jt),jt&&jt.readable===!1&&(this.readable=!1),jt&&jt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,jt&&jt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Dt)}Object.defineProperty(Ct.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Dt(){this.allowHalfOpen||this._writableState.ended||s.nextTick(Ft,this)}function Ft(jt){jt.end()}return Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(jt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=jt,this._writableState.destroyed=jt)}}),Ct.prototype._destroy=function(jt,Nt){this.push(null),this.end(),s.nextTick(Nt,jt)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var s=requireProcessNextickArgs();_stream_readable=tr;var a=requireIsarray(),et;tr.ReadableState=er,requireEvents().EventEmitter;var nt=function(Ar,Ir){return Ar.listeners(Ir).length},at=requireStreamBrowser(),mt=requireSafeBuffer().Buffer,wt=(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function $t(Ar){return mt.from(Ar)}function Ct(Ar){return mt.isBuffer(Ar)||Ar instanceof wt}var Dt=Object.create(requireUtil());Dt.inherits=requireInherits_browser();var Ft=requireUtil$1(),jt=void 0;Ft&&Ft.debuglog?jt=Ft.debuglog("stream"):jt=function(){};var Nt=requireBufferList(),Lt=requireDestroy(),Ut;Dt.inherits(tr,at);var Vt=["error","close","destroy","pause","resume"];function Yt(Ar,Ir,qr){if(typeof Ar.prependListener=="function")return Ar.prependListener(Ir,qr);!Ar._events||!Ar._events[Ir]?Ar.on(Ir,qr):a(Ar._events[Ir])?Ar._events[Ir].unshift(qr):Ar._events[Ir]=[qr,Ar._events[Ir]]}function er(Ar,Ir){et=et||require_stream_duplex(),Ar=Ar||{};var qr=Ir instanceof et;this.objectMode=!!Ar.objectMode,qr&&(this.objectMode=this.objectMode||!!Ar.readableObjectMode);var Rr=Ar.highWaterMark,Tr=Ar.readableHighWaterMark,Er=this.objectMode?16:16*1024;Rr||Rr===0?this.highWaterMark=Rr:qr&&(Tr||Tr===0)?this.highWaterMark=Tr:this.highWaterMark=Er,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Nt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ar.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ar.encoding&&(Ut||(Ut=requireString_decoder().StringDecoder),this.decoder=new Ut(Ar.encoding),this.encoding=Ar.encoding)}function tr(Ar){if(et=et||require_stream_duplex(),!(this instanceof tr))return new tr(Ar);this._readableState=new er(Ar,this),this.readable=!0,Ar&&(typeof Ar.read=="function"&&(this._read=Ar.read),typeof Ar.destroy=="function"&&(this._destroy=Ar.destroy)),at.call(this)}Object.defineProperty(tr.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Ar){this._readableState&&(this._readableState.destroyed=Ar)}}),tr.prototype.destroy=Lt.destroy,tr.prototype._undestroy=Lt.undestroy,tr.prototype._destroy=function(Ar,Ir){this.push(null),Ir(Ar)},tr.prototype.push=function(Ar,Ir){var qr=this._readableState,Rr;return qr.objectMode?Rr=!0:typeof Ar=="string"&&(Ir=Ir||qr.defaultEncoding,Ir!==qr.encoding&&(Ar=mt.from(Ar,Ir),Ir=""),Rr=!0),nr(this,Ar,Ir,!1,Rr)},tr.prototype.unshift=function(Ar){return nr(this,Ar,null,!0,!1)};function nr(Ar,Ir,qr,Rr,Tr){var Er=Ar._readableState;if(Ir===null)Er.reading=!1,Sr(Ar,Er);else{var Br;Tr||(Br=dr(Er,Ir)),Br?Ar.emit("error",Br):Er.objectMode||Ir&&Ir.length>0?(typeof Ir!="string"&&!Er.objectMode&&Object.getPrototypeOf(Ir)!==mt.prototype&&(Ir=$t(Ir)),Rr?Er.endEmitted?Ar.emit("error",new Error("stream.unshift() after end event")):sr(Ar,Er,Ir,!0):Er.ended?Ar.emit("error",new Error("stream.push() after EOF")):(Er.reading=!1,Er.decoder&&!qr?(Ir=Er.decoder.write(Ir),Er.objectMode||Ir.length!==0?sr(Ar,Er,Ir,!1):_r(Ar,Er)):sr(Ar,Er,Ir,!1))):Rr||(Er.reading=!1)}return br(Er)}function sr(Ar,Ir,qr,Rr){Ir.flowing&&Ir.length===0&&!Ir.sync?(Ar.emit("data",qr),Ar.read(0)):(Ir.length+=Ir.objectMode?1:qr.length,Rr?Ir.buffer.unshift(qr):Ir.buffer.push(qr),Ir.needReadable&&wr(Ar)),_r(Ar,Ir)}function dr(Ar,Ir){var qr;return!Ct(Ir)&&typeof Ir!="string"&&Ir!==void 0&&!Ar.objectMode&&(qr=new TypeError("Invalid non-string/buffer chunk")),qr}function br(Ar){return!Ar.ended&&(Ar.needReadable||Ar.length<Ar.highWaterMark||Ar.length===0)}tr.prototype.isPaused=function(){return this._readableState.flowing===!1},tr.prototype.setEncoding=function(Ar){return Ut||(Ut=requireString_decoder().StringDecoder),this._readableState.decoder=new Ut(Ar),this._readableState.encoding=Ar,this};var vr=8388608;function yr(Ar){return Ar>=vr?Ar=vr:(Ar--,Ar|=Ar>>>1,Ar|=Ar>>>2,Ar|=Ar>>>4,Ar|=Ar>>>8,Ar|=Ar>>>16,Ar++),Ar}function $r(Ar,Ir){return Ar<=0||Ir.length===0&&Ir.ended?0:Ir.objectMode?1:Ar!==Ar?Ir.flowing&&Ir.length?Ir.buffer.head.data.length:Ir.length:(Ar>Ir.highWaterMark&&(Ir.highWaterMark=yr(Ar)),Ar<=Ir.length?Ar:Ir.ended?Ir.length:(Ir.needReadable=!0,0))}tr.prototype.read=function(Ar){jt("read",Ar),Ar=parseInt(Ar,10);var Ir=this._readableState,qr=Ar;if(Ar!==0&&(Ir.emittedReadable=!1),Ar===0&&Ir.needReadable&&(Ir.length>=Ir.highWaterMark||Ir.ended))return jt("read: emitReadable",Ir.length,Ir.ended),Ir.length===0&&Ir.ended?xr(this):wr(this),null;if(Ar=$r(Ar,Ir),Ar===0&&Ir.ended)return Ir.length===0&&xr(this),null;var Rr=Ir.needReadable;jt("need readable",Rr),(Ir.length===0||Ir.length-Ar<Ir.highWaterMark)&&(Rr=!0,jt("length less than watermark",Rr)),Ir.ended||Ir.reading?(Rr=!1,jt("reading or ended",Rr)):Rr&&(jt("do read"),Ir.reading=!0,Ir.sync=!0,Ir.length===0&&(Ir.needReadable=!0),this._read(Ir.highWaterMark),Ir.sync=!1,Ir.reading||(Ar=$r(qr,Ir)));var Tr;return Ar>0?Tr=cr(Ar,Ir):Tr=null,Tr===null?(Ir.needReadable=!0,Ar=0):Ir.length-=Ar,Ir.length===0&&(Ir.ended||(Ir.needReadable=!0),qr!==Ar&&Ir.ended&&xr(this)),Tr!==null&&this.emit("data",Tr),Tr};function Sr(Ar,Ir){if(!Ir.ended){if(Ir.decoder){var qr=Ir.decoder.end();qr&&qr.length&&(Ir.buffer.push(qr),Ir.length+=Ir.objectMode?1:qr.length)}Ir.ended=!0,wr(Ar)}}function wr(Ar){var Ir=Ar._readableState;Ir.needReadable=!1,Ir.emittedReadable||(jt("emitReadable",Ir.flowing),Ir.emittedReadable=!0,Ir.sync?s.nextTick(fr,Ar):fr(Ar))}function fr(Ar){jt("emit readable"),Ar.emit("readable"),pr(Ar)}function _r(Ar,Ir){Ir.readingMore||(Ir.readingMore=!0,s.nextTick(ir,Ar,Ir))}function ir(Ar,Ir){for(var qr=Ir.length;!Ir.reading&&!Ir.flowing&&!Ir.ended&&Ir.length<Ir.highWaterMark&&(jt("maybeReadMore read 0"),Ar.read(0),qr!==Ir.length);)qr=Ir.length;Ir.readingMore=!1}tr.prototype._read=function(Ar){this.emit("error",new Error("_read() is not implemented"))},tr.prototype.pipe=function(Ar,Ir){var qr=this,Rr=this._readableState;switch(Rr.pipesCount){case 0:Rr.pipes=Ar;break;case 1:Rr.pipes=[Rr.pipes,Ar];break;default:Rr.pipes.push(Ar);break}Rr.pipesCount+=1,jt("pipe count=%d opts=%j",Rr.pipesCount,Ir);var Tr=(!Ir||Ir.end!==!1)&&Ar!==process$1.stdout&&Ar!==process$1.stderr,Er=Tr?Nr:Ln;Rr.endEmitted?s.nextTick(Er):qr.once("end",Er),Ar.on("unpipe",Br);function Br(Un,Wn){jt("onunpipe"),Un===qr&&Wn&&Wn.hasUnpiped===!1&&(Wn.hasUnpiped=!0,jr())}function Nr(){jt("onend"),Ar.end()}var zr=rr(qr);Ar.on("drain",zr);var Hr=!1;function jr(){jt("cleanup"),Ar.removeListener("close",Wr),Ar.removeListener("finish",nn),Ar.removeListener("drain",zr),Ar.removeListener("error",Gr),Ar.removeListener("unpipe",Br),qr.removeListener("end",Nr),qr.removeListener("end",Ln),qr.removeListener("data",Fr),Hr=!0,Rr.awaitDrain&&(!Ar._writableState||Ar._writableState.needDrain)&&zr()}var Ur=!1;qr.on("data",Fr);function Fr(Un){jt("ondata"),Ur=!1;var Wn=Ar.write(Un);Wn===!1&&!Ur&&((Rr.pipesCount===1&&Rr.pipes===Ar||Rr.pipesCount>1&&Pr(Rr.pipes,Ar)!==-1)&&!Hr&&(jt("false write response, pause",Rr.awaitDrain),Rr.awaitDrain++,Ur=!0),qr.pause())}function Gr(Un){jt("onerror",Un),Ln(),Ar.removeListener("error",Gr),nt(Ar,"error")===0&&Ar.emit("error",Un)}Yt(Ar,"error",Gr);function Wr(){Ar.removeListener("finish",nn),Ln()}Ar.once("close",Wr);function nn(){jt("onfinish"),Ar.removeListener("close",Wr),Ln()}Ar.once("finish",nn);function Ln(){jt("unpipe"),qr.unpipe(Ar)}return Ar.emit("pipe",qr),Rr.flowing||(jt("pipe resume"),qr.resume()),Ar};function rr(Ar){return function(){var Ir=Ar._readableState;jt("pipeOnDrain",Ir.awaitDrain),Ir.awaitDrain&&Ir.awaitDrain--,Ir.awaitDrain===0&&nt(Ar,"data")&&(Ir.flowing=!0,pr(Ar))}}tr.prototype.unpipe=function(Ar){var Ir=this._readableState,qr={hasUnpiped:!1};if(Ir.pipesCount===0)return this;if(Ir.pipesCount===1)return Ar&&Ar!==Ir.pipes?this:(Ar||(Ar=Ir.pipes),Ir.pipes=null,Ir.pipesCount=0,Ir.flowing=!1,Ar&&Ar.emit("unpipe",this,qr),this);if(!Ar){var Rr=Ir.pipes,Tr=Ir.pipesCount;Ir.pipes=null,Ir.pipesCount=0,Ir.flowing=!1;for(var Er=0;Er<Tr;Er++)Rr[Er].emit("unpipe",this,{hasUnpiped:!1});return this}var Br=Pr(Ir.pipes,Ar);return Br===-1?this:(Ir.pipes.splice(Br,1),Ir.pipesCount-=1,Ir.pipesCount===1&&(Ir.pipes=Ir.pipes[0]),Ar.emit("unpipe",this,qr),this)},tr.prototype.on=function(Ar,Ir){var qr=at.prototype.on.call(this,Ar,Ir);if(Ar==="data")this._readableState.flowing!==!1&&this.resume();else if(Ar==="readable"){var Rr=this._readableState;!Rr.endEmitted&&!Rr.readableListening&&(Rr.readableListening=Rr.needReadable=!0,Rr.emittedReadable=!1,Rr.reading?Rr.length&&wr(this):s.nextTick(or,this))}return qr},tr.prototype.addListener=tr.prototype.on;function or(Ar){jt("readable nexttick read 0"),Ar.read(0)}tr.prototype.resume=function(){var Ar=this._readableState;return Ar.flowing||(jt("resume"),Ar.flowing=!0,ar(this,Ar)),this};function ar(Ar,Ir){Ir.resumeScheduled||(Ir.resumeScheduled=!0,s.nextTick(ur,Ar,Ir))}function ur(Ar,Ir){Ir.reading||(jt("resume read 0"),Ar.read(0)),Ir.resumeScheduled=!1,Ir.awaitDrain=0,Ar.emit("resume"),pr(Ar),Ir.flowing&&!Ir.reading&&Ar.read(0)}tr.prototype.pause=function(){return jt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(jt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function pr(Ar){var Ir=Ar._readableState;for(jt("flow",Ir.flowing);Ir.flowing&&Ar.read()!==null;);}tr.prototype.wrap=function(Ar){var Ir=this,qr=this._readableState,Rr=!1;Ar.on("end",function(){if(jt("wrapped end"),qr.decoder&&!qr.ended){var Br=qr.decoder.end();Br&&Br.length&&Ir.push(Br)}Ir.push(null)}),Ar.on("data",function(Br){if(jt("wrapped data"),qr.decoder&&(Br=qr.decoder.write(Br)),!(qr.objectMode&&Br==null)&&!(!qr.objectMode&&(!Br||!Br.length))){var Nr=Ir.push(Br);Nr||(Rr=!0,Ar.pause())}});for(var Tr in Ar)this[Tr]===void 0&&typeof Ar[Tr]=="function"&&(this[Tr]=function(Br){return function(){return Ar[Br].apply(Ar,arguments)}}(Tr));for(var Er=0;Er<Vt.length;Er++)Ar.on(Vt[Er],this.emit.bind(this,Vt[Er]));return this._read=function(Br){jt("wrapped _read",Br),Rr&&(Rr=!1,Ar.resume())},this},Object.defineProperty(tr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),tr._fromList=cr;function cr(Ar,Ir){if(Ir.length===0)return null;var qr;return Ir.objectMode?qr=Ir.buffer.shift():!Ar||Ar>=Ir.length?(Ir.decoder?qr=Ir.buffer.join(""):Ir.buffer.length===1?qr=Ir.buffer.head.data:qr=Ir.buffer.concat(Ir.length),Ir.buffer.clear()):qr=gr(Ar,Ir.buffer,Ir.decoder),qr}function gr(Ar,Ir,qr){var Rr;return Ar<Ir.head.data.length?(Rr=Ir.head.data.slice(0,Ar),Ir.head.data=Ir.head.data.slice(Ar)):Ar===Ir.head.data.length?Rr=Ir.shift():Rr=qr?hr(Ar,Ir):lr(Ar,Ir),Rr}function hr(Ar,Ir){var qr=Ir.head,Rr=1,Tr=qr.data;for(Ar-=Tr.length;qr=qr.next;){var Er=qr.data,Br=Ar>Er.length?Er.length:Ar;if(Br===Er.length?Tr+=Er:Tr+=Er.slice(0,Ar),Ar-=Br,Ar===0){Br===Er.length?(++Rr,qr.next?Ir.head=qr.next:Ir.head=Ir.tail=null):(Ir.head=qr,qr.data=Er.slice(Br));break}++Rr}return Ir.length-=Rr,Tr}function lr(Ar,Ir){var qr=mt.allocUnsafe(Ar),Rr=Ir.head,Tr=1;for(Rr.data.copy(qr),Ar-=Rr.data.length;Rr=Rr.next;){var Er=Rr.data,Br=Ar>Er.length?Er.length:Ar;if(Er.copy(qr,qr.length-Ar,0,Br),Ar-=Br,Ar===0){Br===Er.length?(++Tr,Rr.next?Ir.head=Rr.next:Ir.head=Ir.tail=null):(Ir.head=Rr,Rr.data=Er.slice(Br));break}++Tr}return Ir.length-=Tr,qr}function xr(Ar){var Ir=Ar._readableState;if(Ir.length>0)throw new Error('"endReadable()" called on non-empty stream');Ir.endEmitted||(Ir.ended=!0,s.nextTick(Mr,Ir,Ar))}function Mr(Ar,Ir){!Ar.endEmitted&&Ar.length===0&&(Ar.endEmitted=!0,Ir.readable=!1,Ir.emit("end"))}function Pr(Ar,Ir){for(var qr=0,Rr=Ar.length;qr<Rr;qr++)if(Ar[qr]===Ir)return qr;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=nt;var s=require_stream_duplex(),a=Object.create(requireUtil());a.inherits=requireInherits_browser(),a.inherits(nt,s);function et(wt,$t){var Ct=this._transformState;Ct.transforming=!1;var Dt=Ct.writecb;if(!Dt)return this.emit("error",new Error("write callback called multiple times"));Ct.writechunk=null,Ct.writecb=null,$t!=null&&this.push($t),Dt(wt);var Ft=this._readableState;Ft.reading=!1,(Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}function nt(wt){if(!(this instanceof nt))return new nt(wt);s.call(this,wt),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,wt&&(typeof wt.transform=="function"&&(this._transform=wt.transform),typeof wt.flush=="function"&&(this._flush=wt.flush)),this.on("prefinish",at)}function at(){var wt=this;typeof this._flush=="function"?this._flush(function($t,Ct){mt(wt,$t,Ct)}):mt(this,null,null)}nt.prototype.push=function(wt,$t){return this._transformState.needTransform=!1,s.prototype.push.call(this,wt,$t)},nt.prototype._transform=function(wt,$t,Ct){throw new Error("_transform() is not implemented")},nt.prototype._write=function(wt,$t,Ct){var Dt=this._transformState;if(Dt.writecb=Ct,Dt.writechunk=wt,Dt.writeencoding=$t,!Dt.transforming){var Ft=this._readableState;(Dt.needTransform||Ft.needReadable||Ft.length<Ft.highWaterMark)&&this._read(Ft.highWaterMark)}},nt.prototype._read=function(wt){var $t=this._transformState;$t.writechunk!==null&&$t.writecb&&!$t.transforming?($t.transforming=!0,this._transform($t.writechunk,$t.writeencoding,$t.afterTransform)):$t.needTransform=!0},nt.prototype._destroy=function(wt,$t){var Ct=this;s.prototype._destroy.call(this,wt,function(Dt){$t(Dt),Ct.emit("close")})};function mt(wt,$t,Ct){if($t)return wt.emit("error",$t);if(Ct!=null&&wt.push(Ct),wt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(wt._transformState.transforming)throw new Error("Calling transform done when still transforming");return wt.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=et;var s=require_stream_transform(),a=Object.create(requireUtil());a.inherits=requireInherits_browser(),a.inherits(et,s);function et(nt){if(!(this instanceof et))return new et(nt);s.call(this,nt)}return et.prototype._transform=function(nt,at,mt){mt(null,nt)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(s,a){a=s.exports=require_stream_readable(),a.Stream=a,a.Readable=a,a.Writable=require_stream_writable(),a.Duplex=require_stream_duplex(),a.Transform=require_stream_transform(),a.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign={exports:{}},browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var s=bnExports,a=requireBrowser$b(),et=requireSafeBuffer$1().Buffer;function nt(wt){var $t=wt.modulus.byteLength(),Ct;do Ct=new s(a($t));while(Ct.cmp(wt.modulus)>=0||!Ct.umod(wt.prime1)||!Ct.umod(wt.prime2));return Ct}function at(wt){var $t=nt(wt),Ct=$t.toRed(s.mont(wt.modulus)).redPow(new s(wt.publicExponent)).fromRed();return{blinder:Ct,unblinder:$t.invm(wt.modulus)}}function mt(wt,$t){var Ct=at($t),Dt=$t.modulus.byteLength(),Ft=new s(wt).mul(Ct.blinder).umod($t.modulus),jt=Ft.toRed(s.mont($t.prime1)),Nt=Ft.toRed(s.mont($t.prime2)),Lt=$t.coefficient,Ut=$t.prime1,Vt=$t.prime2,Yt=jt.redPow($t.exponent1).fromRed(),er=Nt.redPow($t.exponent2).fromRed(),tr=Yt.isub(er).imul(Lt).umod(Ut).imul(Vt);return er.iadd(tr).imul(Ct.unblinder).umod($t.modulus).toArrayLike(et,"be",Dt)}return mt.getr=nt,browserifyRsa=mt,browserifyRsa}var elliptic={};const version$1="6.6.1",require$$0={version:version$1};var utils$2={},utils$1={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(s){var a=s;function et(mt,wt){if(Array.isArray(mt))return mt.slice();if(!mt)return[];var $t=[];if(typeof mt!="string"){for(var Ct=0;Ct<mt.length;Ct++)$t[Ct]=mt[Ct]|0;return $t}if(wt==="hex"){mt=mt.replace(/[^a-z0-9]+/ig,""),mt.length%2!==0&&(mt="0"+mt);for(var Ct=0;Ct<mt.length;Ct+=2)$t.push(parseInt(mt[Ct]+mt[Ct+1],16))}else for(var Ct=0;Ct<mt.length;Ct++){var Dt=mt.charCodeAt(Ct),Ft=Dt>>8,jt=Dt&255;Ft?$t.push(Ft,jt):$t.push(jt)}return $t}a.toArray=et;function nt(mt){return mt.length===1?"0"+mt:mt}a.zero2=nt;function at(mt){for(var wt="",$t=0;$t<mt.length;$t++)wt+=nt(mt[$t].toString(16));return wt}a.toHex=at,a.encode=function(wt,$t){return $t==="hex"?at(wt):wt}}(utils$1)),utils$1}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(s){var a=s,et=requireBn(),nt=requireMinimalisticAssert(),at=requireUtils$2();a.assert=nt,a.toArray=at.toArray,a.zero2=at.zero2,a.toHex=at.toHex,a.encode=at.encode;function mt(Ft,jt,Nt){var Lt=new Array(Math.max(Ft.bitLength(),Nt)+1),Ut;for(Ut=0;Ut<Lt.length;Ut+=1)Lt[Ut]=0;var Vt=1<<jt+1,Yt=Ft.clone();for(Ut=0;Ut<Lt.length;Ut++){var er,tr=Yt.andln(Vt-1);Yt.isOdd()?(tr>(Vt>>1)-1?er=(Vt>>1)-tr:er=tr,Yt.isubn(er)):er=0,Lt[Ut]=er,Yt.iushrn(1)}return Lt}a.getNAF=mt;function wt(Ft,jt){var Nt=[[],[]];Ft=Ft.clone(),jt=jt.clone();for(var Lt=0,Ut=0,Vt;Ft.cmpn(-Lt)>0||jt.cmpn(-Ut)>0;){var Yt=Ft.andln(3)+Lt&3,er=jt.andln(3)+Ut&3;Yt===3&&(Yt=-1),er===3&&(er=-1);var tr;Yt&1?(Vt=Ft.andln(7)+Lt&7,(Vt===3||Vt===5)&&er===2?tr=-Yt:tr=Yt):tr=0,Nt[0].push(tr);var nr;er&1?(Vt=jt.andln(7)+Ut&7,(Vt===3||Vt===5)&&Yt===2?nr=-er:nr=er):nr=0,Nt[1].push(nr),2*Lt===tr+1&&(Lt=1-Lt),2*Ut===nr+1&&(Ut=1-Ut),Ft.iushrn(1),jt.iushrn(1)}return Nt}a.getJSF=wt;function $t(Ft,jt,Nt){var Lt="_"+jt;Ft.prototype[jt]=function(){return this[Lt]!==void 0?this[Lt]:this[Lt]=Nt.call(this)}}a.cachedProperty=$t;function Ct(Ft){return typeof Ft=="string"?a.toArray(Ft,"hex"):Ft}a.parseBytes=Ct;function Dt(Ft){return new et(Ft,"hex","le")}a.intFromLE=Dt}(utils$2)),utils$2}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var s=requireBn(),a=requireUtils$1(),et=a.getNAF,nt=a.getJSF,at=a.assert;function mt($t,Ct){this.type=$t,this.p=new s(Ct.p,16),this.red=Ct.prime?s.red(Ct.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=Ct.n&&new s(Ct.n,16),this.g=Ct.g&&this.pointFromJSON(Ct.g,Ct.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Dt=this.n&&this.p.div(this.n);!Dt||Dt.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=mt,mt.prototype.point=function(){throw new Error("Not implemented")},mt.prototype.validate=function(){throw new Error("Not implemented")},mt.prototype._fixedNafMul=function(Ct,Dt){at(Ct.precomputed);var Ft=Ct._getDoubles(),jt=et(Dt,1,this._bitLength),Nt=(1<<Ft.step+1)-(Ft.step%2===0?2:1);Nt/=3;var Lt=[],Ut,Vt;for(Ut=0;Ut<jt.length;Ut+=Ft.step){Vt=0;for(var Yt=Ut+Ft.step-1;Yt>=Ut;Yt--)Vt=(Vt<<1)+jt[Yt];Lt.push(Vt)}for(var er=this.jpoint(null,null,null),tr=this.jpoint(null,null,null),nr=Nt;nr>0;nr--){for(Ut=0;Ut<Lt.length;Ut++)Vt=Lt[Ut],Vt===nr?tr=tr.mixedAdd(Ft.points[Ut]):Vt===-nr&&(tr=tr.mixedAdd(Ft.points[Ut].neg()));er=er.add(tr)}return er.toP()},mt.prototype._wnafMul=function(Ct,Dt){var Ft=4,jt=Ct._getNAFPoints(Ft);Ft=jt.wnd;for(var Nt=jt.points,Lt=et(Dt,Ft,this._bitLength),Ut=this.jpoint(null,null,null),Vt=Lt.length-1;Vt>=0;Vt--){for(var Yt=0;Vt>=0&&Lt[Vt]===0;Vt--)Yt++;if(Vt>=0&&Yt++,Ut=Ut.dblp(Yt),Vt<0)break;var er=Lt[Vt];at(er!==0),Ct.type==="affine"?er>0?Ut=Ut.mixedAdd(Nt[er-1>>1]):Ut=Ut.mixedAdd(Nt[-er-1>>1].neg()):er>0?Ut=Ut.add(Nt[er-1>>1]):Ut=Ut.add(Nt[-er-1>>1].neg())}return Ct.type==="affine"?Ut.toP():Ut},mt.prototype._wnafMulAdd=function(Ct,Dt,Ft,jt,Nt){var Lt=this._wnafT1,Ut=this._wnafT2,Vt=this._wnafT3,Yt=0,er,tr,nr;for(er=0;er<jt;er++){nr=Dt[er];var sr=nr._getNAFPoints(Ct);Lt[er]=sr.wnd,Ut[er]=sr.points}for(er=jt-1;er>=1;er-=2){var dr=er-1,br=er;if(Lt[dr]!==1||Lt[br]!==1){Vt[dr]=et(Ft[dr],Lt[dr],this._bitLength),Vt[br]=et(Ft[br],Lt[br],this._bitLength),Yt=Math.max(Vt[dr].length,Yt),Yt=Math.max(Vt[br].length,Yt);continue}var vr=[Dt[dr],null,null,Dt[br]];Dt[dr].y.cmp(Dt[br].y)===0?(vr[1]=Dt[dr].add(Dt[br]),vr[2]=Dt[dr].toJ().mixedAdd(Dt[br].neg())):Dt[dr].y.cmp(Dt[br].y.redNeg())===0?(vr[1]=Dt[dr].toJ().mixedAdd(Dt[br]),vr[2]=Dt[dr].add(Dt[br].neg())):(vr[1]=Dt[dr].toJ().mixedAdd(Dt[br]),vr[2]=Dt[dr].toJ().mixedAdd(Dt[br].neg()));var yr=[-3,-1,-5,-7,0,7,5,1,3],$r=nt(Ft[dr],Ft[br]);for(Yt=Math.max($r[0].length,Yt),Vt[dr]=new Array(Yt),Vt[br]=new Array(Yt),tr=0;tr<Yt;tr++){var Sr=$r[0][tr]|0,wr=$r[1][tr]|0;Vt[dr][tr]=yr[(Sr+1)*3+(wr+1)],Vt[br][tr]=0,Ut[dr]=vr}}var fr=this.jpoint(null,null,null),_r=this._wnafT4;for(er=Yt;er>=0;er--){for(var ir=0;er>=0;){var rr=!0;for(tr=0;tr<jt;tr++)_r[tr]=Vt[tr][er]|0,_r[tr]!==0&&(rr=!1);if(!rr)break;ir++,er--}if(er>=0&&ir++,fr=fr.dblp(ir),er<0)break;for(tr=0;tr<jt;tr++){var or=_r[tr];or!==0&&(or>0?nr=Ut[tr][or-1>>1]:or<0&&(nr=Ut[tr][-or-1>>1].neg()),nr.type==="affine"?fr=fr.mixedAdd(nr):fr=fr.add(nr))}}for(er=0;er<jt;er++)Ut[er]=null;return Nt?fr:fr.toP()};function wt($t,Ct){this.curve=$t,this.type=Ct,this.precomputed=null}return mt.BasePoint=wt,wt.prototype.eq=function(){throw new Error("Not implemented")},wt.prototype.validate=function(){return this.curve.validate(this)},mt.prototype.decodePoint=function(Ct,Dt){Ct=a.toArray(Ct,Dt);var Ft=this.p.byteLength();if((Ct[0]===4||Ct[0]===6||Ct[0]===7)&&Ct.length-1===2*Ft){Ct[0]===6?at(Ct[Ct.length-1]%2===0):Ct[0]===7&&at(Ct[Ct.length-1]%2===1);var jt=this.point(Ct.slice(1,1+Ft),Ct.slice(1+Ft,1+2*Ft));return jt}else if((Ct[0]===2||Ct[0]===3)&&Ct.length-1===Ft)return this.pointFromX(Ct.slice(1,1+Ft),Ct[0]===3);throw new Error("Unknown point format")},wt.prototype.encodeCompressed=function(Ct){return this.encode(Ct,!0)},wt.prototype._encode=function(Ct){var Dt=this.curve.p.byteLength(),Ft=this.getX().toArray("be",Dt);return Ct?[this.getY().isEven()?2:3].concat(Ft):[4].concat(Ft,this.getY().toArray("be",Dt))},wt.prototype.encode=function(Ct,Dt){return a.encode(this._encode(Dt),Ct)},wt.prototype.precompute=function(Ct){if(this.precomputed)return this;var Dt={doubles:null,naf:null,beta:null};return Dt.naf=this._getNAFPoints(8),Dt.doubles=this._getDoubles(4,Ct),Dt.beta=this._getBeta(),this.precomputed=Dt,this},wt.prototype._hasDoubles=function(Ct){if(!this.precomputed)return!1;var Dt=this.precomputed.doubles;return Dt?Dt.points.length>=Math.ceil((Ct.bitLength()+1)/Dt.step):!1},wt.prototype._getDoubles=function(Ct,Dt){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Ft=[this],jt=this,Nt=0;Nt<Dt;Nt+=Ct){for(var Lt=0;Lt<Ct;Lt++)jt=jt.dbl();Ft.push(jt)}return{step:Ct,points:Ft}},wt.prototype._getNAFPoints=function(Ct){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Dt=[this],Ft=(1<<Ct)-1,jt=Ft===1?null:this.dbl(),Nt=1;Nt<Ft;Nt++)Dt[Nt]=Dt[Nt-1].add(jt);return{wnd:Ct,points:Dt}},wt.prototype._getBeta=function(){return null},wt.prototype.dblp=function(Ct){for(var Dt=this,Ft=0;Ft<Ct;Ft++)Dt=Dt.dbl();return Dt},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var s=requireUtils$1(),a=requireBn(),et=requireInherits_browser(),nt=requireBase$1(),at=s.assert;function mt(Ct){nt.call(this,"short",Ct),this.a=new a(Ct.a,16).toRed(this.red),this.b=new a(Ct.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Ct),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}et(mt,nt),short=mt,mt.prototype._getEndomorphism=function(Dt){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Ft,jt;if(Dt.beta)Ft=new a(Dt.beta,16).toRed(this.red);else{var Nt=this._getEndoRoots(this.p);Ft=Nt[0].cmp(Nt[1])<0?Nt[0]:Nt[1],Ft=Ft.toRed(this.red)}if(Dt.lambda)jt=new a(Dt.lambda,16);else{var Lt=this._getEndoRoots(this.n);this.g.mul(Lt[0]).x.cmp(this.g.x.redMul(Ft))===0?jt=Lt[0]:(jt=Lt[1],at(this.g.mul(jt).x.cmp(this.g.x.redMul(Ft))===0))}var Ut;return Dt.basis?Ut=Dt.basis.map(function(Vt){return{a:new a(Vt.a,16),b:new a(Vt.b,16)}}):Ut=this._getEndoBasis(jt),{beta:Ft,lambda:jt,basis:Ut}}},mt.prototype._getEndoRoots=function(Dt){var Ft=Dt===this.p?this.red:a.mont(Dt),jt=new a(2).toRed(Ft).redInvm(),Nt=jt.redNeg(),Lt=new a(3).toRed(Ft).redNeg().redSqrt().redMul(jt),Ut=Nt.redAdd(Lt).fromRed(),Vt=Nt.redSub(Lt).fromRed();return[Ut,Vt]},mt.prototype._getEndoBasis=function(Dt){for(var Ft=this.n.ushrn(Math.floor(this.n.bitLength()/2)),jt=Dt,Nt=this.n.clone(),Lt=new a(1),Ut=new a(0),Vt=new a(0),Yt=new a(1),er,tr,nr,sr,dr,br,vr,yr=0,$r,Sr;jt.cmpn(0)!==0;){var wr=Nt.div(jt);$r=Nt.sub(wr.mul(jt)),Sr=Vt.sub(wr.mul(Lt));var fr=Yt.sub(wr.mul(Ut));if(!nr&&$r.cmp(Ft)<0)er=vr.neg(),tr=Lt,nr=$r.neg(),sr=Sr;else if(nr&&++yr===2)break;vr=$r,Nt=jt,jt=$r,Vt=Lt,Lt=Sr,Yt=Ut,Ut=fr}dr=$r.neg(),br=Sr;var _r=nr.sqr().add(sr.sqr()),ir=dr.sqr().add(br.sqr());return ir.cmp(_r)>=0&&(dr=er,br=tr),nr.negative&&(nr=nr.neg(),sr=sr.neg()),dr.negative&&(dr=dr.neg(),br=br.neg()),[{a:nr,b:sr},{a:dr,b:br}]},mt.prototype._endoSplit=function(Dt){var Ft=this.endo.basis,jt=Ft[0],Nt=Ft[1],Lt=Nt.b.mul(Dt).divRound(this.n),Ut=jt.b.neg().mul(Dt).divRound(this.n),Vt=Lt.mul(jt.a),Yt=Ut.mul(Nt.a),er=Lt.mul(jt.b),tr=Ut.mul(Nt.b),nr=Dt.sub(Vt).sub(Yt),sr=er.add(tr).neg();return{k1:nr,k2:sr}},mt.prototype.pointFromX=function(Dt,Ft){Dt=new a(Dt,16),Dt.red||(Dt=Dt.toRed(this.red));var jt=Dt.redSqr().redMul(Dt).redIAdd(Dt.redMul(this.a)).redIAdd(this.b),Nt=jt.redSqrt();if(Nt.redSqr().redSub(jt).cmp(this.zero)!==0)throw new Error("invalid point");var Lt=Nt.fromRed().isOdd();return(Ft&&!Lt||!Ft&&Lt)&&(Nt=Nt.redNeg()),this.point(Dt,Nt)},mt.prototype.validate=function(Dt){if(Dt.inf)return!0;var Ft=Dt.x,jt=Dt.y,Nt=this.a.redMul(Ft),Lt=Ft.redSqr().redMul(Ft).redIAdd(Nt).redIAdd(this.b);return jt.redSqr().redISub(Lt).cmpn(0)===0},mt.prototype._endoWnafMulAdd=function(Dt,Ft,jt){for(var Nt=this._endoWnafT1,Lt=this._endoWnafT2,Ut=0;Ut<Dt.length;Ut++){var Vt=this._endoSplit(Ft[Ut]),Yt=Dt[Ut],er=Yt._getBeta();Vt.k1.negative&&(Vt.k1.ineg(),Yt=Yt.neg(!0)),Vt.k2.negative&&(Vt.k2.ineg(),er=er.neg(!0)),Nt[Ut*2]=Yt,Nt[Ut*2+1]=er,Lt[Ut*2]=Vt.k1,Lt[Ut*2+1]=Vt.k2}for(var tr=this._wnafMulAdd(1,Nt,Lt,Ut*2,jt),nr=0;nr<Ut*2;nr++)Nt[nr]=null,Lt[nr]=null;return tr};function wt(Ct,Dt,Ft,jt){nt.BasePoint.call(this,Ct,"affine"),Dt===null&&Ft===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(Dt,16),this.y=new a(Ft,16),jt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}et(wt,nt.BasePoint),mt.prototype.point=function(Dt,Ft,jt){return new wt(this,Dt,Ft,jt)},mt.prototype.pointFromJSON=function(Dt,Ft){return wt.fromJSON(this,Dt,Ft)},wt.prototype._getBeta=function(){if(this.curve.endo){var Dt=this.precomputed;if(Dt&&Dt.beta)return Dt.beta;var Ft=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Dt){var jt=this.curve,Nt=function(Lt){return jt.point(Lt.x.redMul(jt.endo.beta),Lt.y)};Dt.beta=Ft,Ft.precomputed={beta:null,naf:Dt.naf&&{wnd:Dt.naf.wnd,points:Dt.naf.points.map(Nt)},doubles:Dt.doubles&&{step:Dt.doubles.step,points:Dt.doubles.points.map(Nt)}}}return Ft}},wt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},wt.fromJSON=function(Dt,Ft,jt){typeof Ft=="string"&&(Ft=JSON.parse(Ft));var Nt=Dt.point(Ft[0],Ft[1],jt);if(!Ft[2])return Nt;function Lt(Vt){return Dt.point(Vt[0],Vt[1],jt)}var Ut=Ft[2];return Nt.precomputed={beta:null,doubles:Ut.doubles&&{step:Ut.doubles.step,points:[Nt].concat(Ut.doubles.points.map(Lt))},naf:Ut.naf&&{wnd:Ut.naf.wnd,points:[Nt].concat(Ut.naf.points.map(Lt))}},Nt},wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},wt.prototype.isInfinity=function(){return this.inf},wt.prototype.add=function(Dt){if(this.inf)return Dt;if(Dt.inf)return this;if(this.eq(Dt))return this.dbl();if(this.neg().eq(Dt))return this.curve.point(null,null);if(this.x.cmp(Dt.x)===0)return this.curve.point(null,null);var Ft=this.y.redSub(Dt.y);Ft.cmpn(0)!==0&&(Ft=Ft.redMul(this.x.redSub(Dt.x).redInvm()));var jt=Ft.redSqr().redISub(this.x).redISub(Dt.x),Nt=Ft.redMul(this.x.redSub(jt)).redISub(this.y);return this.curve.point(jt,Nt)},wt.prototype.dbl=function(){if(this.inf)return this;var Dt=this.y.redAdd(this.y);if(Dt.cmpn(0)===0)return this.curve.point(null,null);var Ft=this.curve.a,jt=this.x.redSqr(),Nt=Dt.redInvm(),Lt=jt.redAdd(jt).redIAdd(jt).redIAdd(Ft).redMul(Nt),Ut=Lt.redSqr().redISub(this.x.redAdd(this.x)),Vt=Lt.redMul(this.x.redSub(Ut)).redISub(this.y);return this.curve.point(Ut,Vt)},wt.prototype.getX=function(){return this.x.fromRed()},wt.prototype.getY=function(){return this.y.fromRed()},wt.prototype.mul=function(Dt){return Dt=new a(Dt,16),this.isInfinity()?this:this._hasDoubles(Dt)?this.curve._fixedNafMul(this,Dt):this.curve.endo?this.curve._endoWnafMulAdd([this],[Dt]):this.curve._wnafMul(this,Dt)},wt.prototype.mulAdd=function(Dt,Ft,jt){var Nt=[this,Ft],Lt=[Dt,jt];return this.curve.endo?this.curve._endoWnafMulAdd(Nt,Lt):this.curve._wnafMulAdd(1,Nt,Lt,2)},wt.prototype.jmulAdd=function(Dt,Ft,jt){var Nt=[this,Ft],Lt=[Dt,jt];return this.curve.endo?this.curve._endoWnafMulAdd(Nt,Lt,!0):this.curve._wnafMulAdd(1,Nt,Lt,2,!0)},wt.prototype.eq=function(Dt){return this===Dt||this.inf===Dt.inf&&(this.inf||this.x.cmp(Dt.x)===0&&this.y.cmp(Dt.y)===0)},wt.prototype.neg=function(Dt){if(this.inf)return this;var Ft=this.curve.point(this.x,this.y.redNeg());if(Dt&&this.precomputed){var jt=this.precomputed,Nt=function(Lt){return Lt.neg()};Ft.precomputed={naf:jt.naf&&{wnd:jt.naf.wnd,points:jt.naf.points.map(Nt)},doubles:jt.doubles&&{step:jt.doubles.step,points:jt.doubles.points.map(Nt)}}}return Ft},wt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Dt=this.curve.jpoint(this.x,this.y,this.curve.one);return Dt};function $t(Ct,Dt,Ft,jt){nt.BasePoint.call(this,Ct,"jacobian"),Dt===null&&Ft===null&&jt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(Dt,16),this.y=new a(Ft,16),this.z=new a(jt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return et($t,nt.BasePoint),mt.prototype.jpoint=function(Dt,Ft,jt){return new $t(this,Dt,Ft,jt)},$t.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Dt=this.z.redInvm(),Ft=Dt.redSqr(),jt=this.x.redMul(Ft),Nt=this.y.redMul(Ft).redMul(Dt);return this.curve.point(jt,Nt)},$t.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},$t.prototype.add=function(Dt){if(this.isInfinity())return Dt;if(Dt.isInfinity())return this;var Ft=Dt.z.redSqr(),jt=this.z.redSqr(),Nt=this.x.redMul(Ft),Lt=Dt.x.redMul(jt),Ut=this.y.redMul(Ft.redMul(Dt.z)),Vt=Dt.y.redMul(jt.redMul(this.z)),Yt=Nt.redSub(Lt),er=Ut.redSub(Vt);if(Yt.cmpn(0)===0)return er.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var tr=Yt.redSqr(),nr=tr.redMul(Yt),sr=Nt.redMul(tr),dr=er.redSqr().redIAdd(nr).redISub(sr).redISub(sr),br=er.redMul(sr.redISub(dr)).redISub(Ut.redMul(nr)),vr=this.z.redMul(Dt.z).redMul(Yt);return this.curve.jpoint(dr,br,vr)},$t.prototype.mixedAdd=function(Dt){if(this.isInfinity())return Dt.toJ();if(Dt.isInfinity())return this;var Ft=this.z.redSqr(),jt=this.x,Nt=Dt.x.redMul(Ft),Lt=this.y,Ut=Dt.y.redMul(Ft).redMul(this.z),Vt=jt.redSub(Nt),Yt=Lt.redSub(Ut);if(Vt.cmpn(0)===0)return Yt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var er=Vt.redSqr(),tr=er.redMul(Vt),nr=jt.redMul(er),sr=Yt.redSqr().redIAdd(tr).redISub(nr).redISub(nr),dr=Yt.redMul(nr.redISub(sr)).redISub(Lt.redMul(tr)),br=this.z.redMul(Vt);return this.curve.jpoint(sr,dr,br)},$t.prototype.dblp=function(Dt){if(Dt===0)return this;if(this.isInfinity())return this;if(!Dt)return this.dbl();var Ft;if(this.curve.zeroA||this.curve.threeA){var jt=this;for(Ft=0;Ft<Dt;Ft++)jt=jt.dbl();return jt}var Nt=this.curve.a,Lt=this.curve.tinv,Ut=this.x,Vt=this.y,Yt=this.z,er=Yt.redSqr().redSqr(),tr=Vt.redAdd(Vt);for(Ft=0;Ft<Dt;Ft++){var nr=Ut.redSqr(),sr=tr.redSqr(),dr=sr.redSqr(),br=nr.redAdd(nr).redIAdd(nr).redIAdd(Nt.redMul(er)),vr=Ut.redMul(sr),yr=br.redSqr().redISub(vr.redAdd(vr)),$r=vr.redISub(yr),Sr=br.redMul($r);Sr=Sr.redIAdd(Sr).redISub(dr);var wr=tr.redMul(Yt);Ft+1<Dt&&(er=er.redMul(dr)),Ut=yr,Yt=wr,tr=Sr}return this.curve.jpoint(Ut,tr.redMul(Lt),Yt)},$t.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},$t.prototype._zeroDbl=function(){var Dt,Ft,jt;if(this.zOne){var Nt=this.x.redSqr(),Lt=this.y.redSqr(),Ut=Lt.redSqr(),Vt=this.x.redAdd(Lt).redSqr().redISub(Nt).redISub(Ut);Vt=Vt.redIAdd(Vt);var Yt=Nt.redAdd(Nt).redIAdd(Nt),er=Yt.redSqr().redISub(Vt).redISub(Vt),tr=Ut.redIAdd(Ut);tr=tr.redIAdd(tr),tr=tr.redIAdd(tr),Dt=er,Ft=Yt.redMul(Vt.redISub(er)).redISub(tr),jt=this.y.redAdd(this.y)}else{var nr=this.x.redSqr(),sr=this.y.redSqr(),dr=sr.redSqr(),br=this.x.redAdd(sr).redSqr().redISub(nr).redISub(dr);br=br.redIAdd(br);var vr=nr.redAdd(nr).redIAdd(nr),yr=vr.redSqr(),$r=dr.redIAdd(dr);$r=$r.redIAdd($r),$r=$r.redIAdd($r),Dt=yr.redISub(br).redISub(br),Ft=vr.redMul(br.redISub(Dt)).redISub($r),jt=this.y.redMul(this.z),jt=jt.redIAdd(jt)}return this.curve.jpoint(Dt,Ft,jt)},$t.prototype._threeDbl=function(){var Dt,Ft,jt;if(this.zOne){var Nt=this.x.redSqr(),Lt=this.y.redSqr(),Ut=Lt.redSqr(),Vt=this.x.redAdd(Lt).redSqr().redISub(Nt).redISub(Ut);Vt=Vt.redIAdd(Vt);var Yt=Nt.redAdd(Nt).redIAdd(Nt).redIAdd(this.curve.a),er=Yt.redSqr().redISub(Vt).redISub(Vt);Dt=er;var tr=Ut.redIAdd(Ut);tr=tr.redIAdd(tr),tr=tr.redIAdd(tr),Ft=Yt.redMul(Vt.redISub(er)).redISub(tr),jt=this.y.redAdd(this.y)}else{var nr=this.z.redSqr(),sr=this.y.redSqr(),dr=this.x.redMul(sr),br=this.x.redSub(nr).redMul(this.x.redAdd(nr));br=br.redAdd(br).redIAdd(br);var vr=dr.redIAdd(dr);vr=vr.redIAdd(vr);var yr=vr.redAdd(vr);Dt=br.redSqr().redISub(yr),jt=this.y.redAdd(this.z).redSqr().redISub(sr).redISub(nr);var $r=sr.redSqr();$r=$r.redIAdd($r),$r=$r.redIAdd($r),$r=$r.redIAdd($r),Ft=br.redMul(vr.redISub(Dt)).redISub($r)}return this.curve.jpoint(Dt,Ft,jt)},$t.prototype._dbl=function(){var Dt=this.curve.a,Ft=this.x,jt=this.y,Nt=this.z,Lt=Nt.redSqr().redSqr(),Ut=Ft.redSqr(),Vt=jt.redSqr(),Yt=Ut.redAdd(Ut).redIAdd(Ut).redIAdd(Dt.redMul(Lt)),er=Ft.redAdd(Ft);er=er.redIAdd(er);var tr=er.redMul(Vt),nr=Yt.redSqr().redISub(tr.redAdd(tr)),sr=tr.redISub(nr),dr=Vt.redSqr();dr=dr.redIAdd(dr),dr=dr.redIAdd(dr),dr=dr.redIAdd(dr);var br=Yt.redMul(sr).redISub(dr),vr=jt.redAdd(jt).redMul(Nt);return this.curve.jpoint(nr,br,vr)},$t.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Dt=this.x.redSqr(),Ft=this.y.redSqr(),jt=this.z.redSqr(),Nt=Ft.redSqr(),Lt=Dt.redAdd(Dt).redIAdd(Dt),Ut=Lt.redSqr(),Vt=this.x.redAdd(Ft).redSqr().redISub(Dt).redISub(Nt);Vt=Vt.redIAdd(Vt),Vt=Vt.redAdd(Vt).redIAdd(Vt),Vt=Vt.redISub(Ut);var Yt=Vt.redSqr(),er=Nt.redIAdd(Nt);er=er.redIAdd(er),er=er.redIAdd(er),er=er.redIAdd(er);var tr=Lt.redIAdd(Vt).redSqr().redISub(Ut).redISub(Yt).redISub(er),nr=Ft.redMul(tr);nr=nr.redIAdd(nr),nr=nr.redIAdd(nr);var sr=this.x.redMul(Yt).redISub(nr);sr=sr.redIAdd(sr),sr=sr.redIAdd(sr);var dr=this.y.redMul(tr.redMul(er.redISub(tr)).redISub(Vt.redMul(Yt)));dr=dr.redIAdd(dr),dr=dr.redIAdd(dr),dr=dr.redIAdd(dr);var br=this.z.redAdd(Vt).redSqr().redISub(jt).redISub(Yt);return this.curve.jpoint(sr,dr,br)},$t.prototype.mul=function(Dt,Ft){return Dt=new a(Dt,Ft),this.curve._wnafMul(this,Dt)},$t.prototype.eq=function(Dt){if(Dt.type==="affine")return this.eq(Dt.toJ());if(this===Dt)return!0;var Ft=this.z.redSqr(),jt=Dt.z.redSqr();if(this.x.redMul(jt).redISub(Dt.x.redMul(Ft)).cmpn(0)!==0)return!1;var Nt=Ft.redMul(this.z),Lt=jt.redMul(Dt.z);return this.y.redMul(Lt).redISub(Dt.y.redMul(Nt)).cmpn(0)===0},$t.prototype.eqXToP=function(Dt){var Ft=this.z.redSqr(),jt=Dt.toRed(this.curve.red).redMul(Ft);if(this.x.cmp(jt)===0)return!0;for(var Nt=Dt.clone(),Lt=this.curve.redN.redMul(Ft);;){if(Nt.iadd(this.curve.n),Nt.cmp(this.curve.p)>=0)return!1;if(jt.redIAdd(Lt),this.x.cmp(jt)===0)return!0}},$t.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},$t.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var s=requireBn(),a=requireInherits_browser(),et=requireBase$1(),nt=requireUtils$1();function at(wt){et.call(this,"mont",wt),this.a=new s(wt.a,16).toRed(this.red),this.b=new s(wt.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}a(at,et),mont=at,at.prototype.validate=function($t){var Ct=$t.normalize().x,Dt=Ct.redSqr(),Ft=Dt.redMul(Ct).redAdd(Dt.redMul(this.a)).redAdd(Ct),jt=Ft.redSqrt();return jt.redSqr().cmp(Ft)===0};function mt(wt,$t,Ct){et.BasePoint.call(this,wt,"projective"),$t===null&&Ct===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s($t,16),this.z=new s(Ct,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return a(mt,et.BasePoint),at.prototype.decodePoint=function($t,Ct){return this.point(nt.toArray($t,Ct),1)},at.prototype.point=function($t,Ct){return new mt(this,$t,Ct)},at.prototype.pointFromJSON=function($t){return mt.fromJSON(this,$t)},mt.prototype.precompute=function(){},mt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},mt.fromJSON=function($t,Ct){return new mt($t,Ct[0],Ct[1]||$t.one)},mt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},mt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},mt.prototype.dbl=function(){var $t=this.x.redAdd(this.z),Ct=$t.redSqr(),Dt=this.x.redSub(this.z),Ft=Dt.redSqr(),jt=Ct.redSub(Ft),Nt=Ct.redMul(Ft),Lt=jt.redMul(Ft.redAdd(this.curve.a24.redMul(jt)));return this.curve.point(Nt,Lt)},mt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},mt.prototype.diffAdd=function($t,Ct){var Dt=this.x.redAdd(this.z),Ft=this.x.redSub(this.z),jt=$t.x.redAdd($t.z),Nt=$t.x.redSub($t.z),Lt=Nt.redMul(Dt),Ut=jt.redMul(Ft),Vt=Ct.z.redMul(Lt.redAdd(Ut).redSqr()),Yt=Ct.x.redMul(Lt.redISub(Ut).redSqr());return this.curve.point(Vt,Yt)},mt.prototype.mul=function($t){for(var Ct=$t.clone(),Dt=this,Ft=this.curve.point(null,null),jt=this,Nt=[];Ct.cmpn(0)!==0;Ct.iushrn(1))Nt.push(Ct.andln(1));for(var Lt=Nt.length-1;Lt>=0;Lt--)Nt[Lt]===0?(Dt=Dt.diffAdd(Ft,jt),Ft=Ft.dbl()):(Ft=Dt.diffAdd(Ft,jt),Dt=Dt.dbl());return Ft},mt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},mt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},mt.prototype.eq=function($t){return this.getX().cmp($t.getX())===0},mt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},mt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var s=requireUtils$1(),a=requireBn(),et=requireInherits_browser(),nt=requireBase$1(),at=s.assert;function mt($t){this.twisted=($t.a|0)!==1,this.mOneA=this.twisted&&($t.a|0)===-1,this.extended=this.mOneA,nt.call(this,"edwards",$t),this.a=new a($t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a($t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a($t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),at(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=($t.c|0)===1}et(mt,nt),edwards=mt,mt.prototype._mulA=function(Ct){return this.mOneA?Ct.redNeg():this.a.redMul(Ct)},mt.prototype._mulC=function(Ct){return this.oneC?Ct:this.c.redMul(Ct)},mt.prototype.jpoint=function(Ct,Dt,Ft,jt){return this.point(Ct,Dt,Ft,jt)},mt.prototype.pointFromX=function(Ct,Dt){Ct=new a(Ct,16),Ct.red||(Ct=Ct.toRed(this.red));var Ft=Ct.redSqr(),jt=this.c2.redSub(this.a.redMul(Ft)),Nt=this.one.redSub(this.c2.redMul(this.d).redMul(Ft)),Lt=jt.redMul(Nt.redInvm()),Ut=Lt.redSqrt();if(Ut.redSqr().redSub(Lt).cmp(this.zero)!==0)throw new Error("invalid point");var Vt=Ut.fromRed().isOdd();return(Dt&&!Vt||!Dt&&Vt)&&(Ut=Ut.redNeg()),this.point(Ct,Ut)},mt.prototype.pointFromY=function(Ct,Dt){Ct=new a(Ct,16),Ct.red||(Ct=Ct.toRed(this.red));var Ft=Ct.redSqr(),jt=Ft.redSub(this.c2),Nt=Ft.redMul(this.d).redMul(this.c2).redSub(this.a),Lt=jt.redMul(Nt.redInvm());if(Lt.cmp(this.zero)===0){if(Dt)throw new Error("invalid point");return this.point(this.zero,Ct)}var Ut=Lt.redSqrt();if(Ut.redSqr().redSub(Lt).cmp(this.zero)!==0)throw new Error("invalid point");return Ut.fromRed().isOdd()!==Dt&&(Ut=Ut.redNeg()),this.point(Ut,Ct)},mt.prototype.validate=function(Ct){if(Ct.isInfinity())return!0;Ct.normalize();var Dt=Ct.x.redSqr(),Ft=Ct.y.redSqr(),jt=Dt.redMul(this.a).redAdd(Ft),Nt=this.c2.redMul(this.one.redAdd(this.d.redMul(Dt).redMul(Ft)));return jt.cmp(Nt)===0};function wt($t,Ct,Dt,Ft,jt){nt.BasePoint.call(this,$t,"projective"),Ct===null&&Dt===null&&Ft===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(Ct,16),this.y=new a(Dt,16),this.z=Ft?new a(Ft,16):this.curve.one,this.t=jt&&new a(jt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return et(wt,nt.BasePoint),mt.prototype.pointFromJSON=function(Ct){return wt.fromJSON(this,Ct)},mt.prototype.point=function(Ct,Dt,Ft,jt){return new wt(this,Ct,Dt,Ft,jt)},wt.fromJSON=function(Ct,Dt){return new wt(Ct,Dt[0],Dt[1],Dt[2])},wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},wt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},wt.prototype._extDbl=function(){var Ct=this.x.redSqr(),Dt=this.y.redSqr(),Ft=this.z.redSqr();Ft=Ft.redIAdd(Ft);var jt=this.curve._mulA(Ct),Nt=this.x.redAdd(this.y).redSqr().redISub(Ct).redISub(Dt),Lt=jt.redAdd(Dt),Ut=Lt.redSub(Ft),Vt=jt.redSub(Dt),Yt=Nt.redMul(Ut),er=Lt.redMul(Vt),tr=Nt.redMul(Vt),nr=Ut.redMul(Lt);return this.curve.point(Yt,er,nr,tr)},wt.prototype._projDbl=function(){var Ct=this.x.redAdd(this.y).redSqr(),Dt=this.x.redSqr(),Ft=this.y.redSqr(),jt,Nt,Lt,Ut,Vt,Yt;if(this.curve.twisted){Ut=this.curve._mulA(Dt);var er=Ut.redAdd(Ft);this.zOne?(jt=Ct.redSub(Dt).redSub(Ft).redMul(er.redSub(this.curve.two)),Nt=er.redMul(Ut.redSub(Ft)),Lt=er.redSqr().redSub(er).redSub(er)):(Vt=this.z.redSqr(),Yt=er.redSub(Vt).redISub(Vt),jt=Ct.redSub(Dt).redISub(Ft).redMul(Yt),Nt=er.redMul(Ut.redSub(Ft)),Lt=er.redMul(Yt))}else Ut=Dt.redAdd(Ft),Vt=this.curve._mulC(this.z).redSqr(),Yt=Ut.redSub(Vt).redSub(Vt),jt=this.curve._mulC(Ct.redISub(Ut)).redMul(Yt),Nt=this.curve._mulC(Ut).redMul(Dt.redISub(Ft)),Lt=Ut.redMul(Yt);return this.curve.point(jt,Nt,Lt)},wt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},wt.prototype._extAdd=function(Ct){var Dt=this.y.redSub(this.x).redMul(Ct.y.redSub(Ct.x)),Ft=this.y.redAdd(this.x).redMul(Ct.y.redAdd(Ct.x)),jt=this.t.redMul(this.curve.dd).redMul(Ct.t),Nt=this.z.redMul(Ct.z.redAdd(Ct.z)),Lt=Ft.redSub(Dt),Ut=Nt.redSub(jt),Vt=Nt.redAdd(jt),Yt=Ft.redAdd(Dt),er=Lt.redMul(Ut),tr=Vt.redMul(Yt),nr=Lt.redMul(Yt),sr=Ut.redMul(Vt);return this.curve.point(er,tr,sr,nr)},wt.prototype._projAdd=function(Ct){var Dt=this.z.redMul(Ct.z),Ft=Dt.redSqr(),jt=this.x.redMul(Ct.x),Nt=this.y.redMul(Ct.y),Lt=this.curve.d.redMul(jt).redMul(Nt),Ut=Ft.redSub(Lt),Vt=Ft.redAdd(Lt),Yt=this.x.redAdd(this.y).redMul(Ct.x.redAdd(Ct.y)).redISub(jt).redISub(Nt),er=Dt.redMul(Ut).redMul(Yt),tr,nr;return this.curve.twisted?(tr=Dt.redMul(Vt).redMul(Nt.redSub(this.curve._mulA(jt))),nr=Ut.redMul(Vt)):(tr=Dt.redMul(Vt).redMul(Nt.redSub(jt)),nr=this.curve._mulC(Ut).redMul(Vt)),this.curve.point(er,tr,nr)},wt.prototype.add=function(Ct){return this.isInfinity()?Ct:Ct.isInfinity()?this:this.curve.extended?this._extAdd(Ct):this._projAdd(Ct)},wt.prototype.mul=function(Ct){return this._hasDoubles(Ct)?this.curve._fixedNafMul(this,Ct):this.curve._wnafMul(this,Ct)},wt.prototype.mulAdd=function(Ct,Dt,Ft){return this.curve._wnafMulAdd(1,[this,Dt],[Ct,Ft],2,!1)},wt.prototype.jmulAdd=function(Ct,Dt,Ft){return this.curve._wnafMulAdd(1,[this,Dt],[Ct,Ft],2,!0)},wt.prototype.normalize=function(){if(this.zOne)return this;var Ct=this.z.redInvm();return this.x=this.x.redMul(Ct),this.y=this.y.redMul(Ct),this.t&&(this.t=this.t.redMul(Ct)),this.z=this.curve.one,this.zOne=!0,this},wt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},wt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},wt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},wt.prototype.eq=function(Ct){return this===Ct||this.getX().cmp(Ct.getX())===0&&this.getY().cmp(Ct.getY())===0},wt.prototype.eqXToP=function(Ct){var Dt=Ct.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Dt)===0)return!0;for(var Ft=Ct.clone(),jt=this.curve.redN.redMul(this.z);;){if(Ft.iadd(this.curve.n),Ft.cmp(this.curve.p)>=0)return!1;if(Dt.redIAdd(jt),this.x.cmp(Dt)===0)return!0}},wt.prototype.toP=wt.prototype.normalize,wt.prototype.mixedAdd=wt.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(s){var a=s;a.base=requireBase$1(),a.short=requireShort(),a.mont=requireMont(),a.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var s=requireMinimalisticAssert(),a=requireInherits_browser();utils.inherits=a;function et(fr,_r){return(fr.charCodeAt(_r)&64512)!==55296||_r<0||_r+1>=fr.length?!1:(fr.charCodeAt(_r+1)&64512)===56320}function nt(fr,_r){if(Array.isArray(fr))return fr.slice();if(!fr)return[];var ir=[];if(typeof fr=="string")if(_r){if(_r==="hex")for(fr=fr.replace(/[^a-z0-9]+/ig,""),fr.length%2!==0&&(fr="0"+fr),or=0;or<fr.length;or+=2)ir.push(parseInt(fr[or]+fr[or+1],16))}else for(var rr=0,or=0;or<fr.length;or++){var ar=fr.charCodeAt(or);ar<128?ir[rr++]=ar:ar<2048?(ir[rr++]=ar>>6|192,ir[rr++]=ar&63|128):et(fr,or)?(ar=65536+((ar&1023)<<10)+(fr.charCodeAt(++or)&1023),ir[rr++]=ar>>18|240,ir[rr++]=ar>>12&63|128,ir[rr++]=ar>>6&63|128,ir[rr++]=ar&63|128):(ir[rr++]=ar>>12|224,ir[rr++]=ar>>6&63|128,ir[rr++]=ar&63|128)}else for(or=0;or<fr.length;or++)ir[or]=fr[or]|0;return ir}utils.toArray=nt;function at(fr){for(var _r="",ir=0;ir<fr.length;ir++)_r+=$t(fr[ir].toString(16));return _r}utils.toHex=at;function mt(fr){var _r=fr>>>24|fr>>>8&65280|fr<<8&16711680|(fr&255)<<24;return _r>>>0}utils.htonl=mt;function wt(fr,_r){for(var ir="",rr=0;rr<fr.length;rr++){var or=fr[rr];_r==="little"&&(or=mt(or)),ir+=Ct(or.toString(16))}return ir}utils.toHex32=wt;function $t(fr){return fr.length===1?"0"+fr:fr}utils.zero2=$t;function Ct(fr){return fr.length===7?"0"+fr:fr.length===6?"00"+fr:fr.length===5?"000"+fr:fr.length===4?"0000"+fr:fr.length===3?"00000"+fr:fr.length===2?"000000"+fr:fr.length===1?"0000000"+fr:fr}utils.zero8=Ct;function Dt(fr,_r,ir,rr){var or=ir-_r;s(or%4===0);for(var ar=new Array(or/4),ur=0,pr=_r;ur<ar.length;ur++,pr+=4){var cr;rr==="big"?cr=fr[pr]<<24|fr[pr+1]<<16|fr[pr+2]<<8|fr[pr+3]:cr=fr[pr+3]<<24|fr[pr+2]<<16|fr[pr+1]<<8|fr[pr],ar[ur]=cr>>>0}return ar}utils.join32=Dt;function Ft(fr,_r){for(var ir=new Array(fr.length*4),rr=0,or=0;rr<fr.length;rr++,or+=4){var ar=fr[rr];_r==="big"?(ir[or]=ar>>>24,ir[or+1]=ar>>>16&255,ir[or+2]=ar>>>8&255,ir[or+3]=ar&255):(ir[or+3]=ar>>>24,ir[or+2]=ar>>>16&255,ir[or+1]=ar>>>8&255,ir[or]=ar&255)}return ir}utils.split32=Ft;function jt(fr,_r){return fr>>>_r|fr<<32-_r}utils.rotr32=jt;function Nt(fr,_r){return fr<<_r|fr>>>32-_r}utils.rotl32=Nt;function Lt(fr,_r){return fr+_r>>>0}utils.sum32=Lt;function Ut(fr,_r,ir){return fr+_r+ir>>>0}utils.sum32_3=Ut;function Vt(fr,_r,ir,rr){return fr+_r+ir+rr>>>0}utils.sum32_4=Vt;function Yt(fr,_r,ir,rr,or){return fr+_r+ir+rr+or>>>0}utils.sum32_5=Yt;function er(fr,_r,ir,rr){var or=fr[_r],ar=fr[_r+1],ur=rr+ar>>>0,pr=(ur<rr?1:0)+ir+or;fr[_r]=pr>>>0,fr[_r+1]=ur}utils.sum64=er;function tr(fr,_r,ir,rr){var or=_r+rr>>>0,ar=(or<_r?1:0)+fr+ir;return ar>>>0}utils.sum64_hi=tr;function nr(fr,_r,ir,rr){var or=_r+rr;return or>>>0}utils.sum64_lo=nr;function sr(fr,_r,ir,rr,or,ar,ur,pr){var cr=0,gr=_r;gr=gr+rr>>>0,cr+=gr<_r?1:0,gr=gr+ar>>>0,cr+=gr<ar?1:0,gr=gr+pr>>>0,cr+=gr<pr?1:0;var hr=fr+ir+or+ur+cr;return hr>>>0}utils.sum64_4_hi=sr;function dr(fr,_r,ir,rr,or,ar,ur,pr){var cr=_r+rr+ar+pr;return cr>>>0}utils.sum64_4_lo=dr;function br(fr,_r,ir,rr,or,ar,ur,pr,cr,gr){var hr=0,lr=_r;lr=lr+rr>>>0,hr+=lr<_r?1:0,lr=lr+ar>>>0,hr+=lr<ar?1:0,lr=lr+pr>>>0,hr+=lr<pr?1:0,lr=lr+gr>>>0,hr+=lr<gr?1:0;var xr=fr+ir+or+ur+cr+hr;return xr>>>0}utils.sum64_5_hi=br;function vr(fr,_r,ir,rr,or,ar,ur,pr,cr,gr){var hr=_r+rr+ar+pr+gr;return hr>>>0}utils.sum64_5_lo=vr;function yr(fr,_r,ir){var rr=_r<<32-ir|fr>>>ir;return rr>>>0}utils.rotr64_hi=yr;function $r(fr,_r,ir){var rr=fr<<32-ir|_r>>>ir;return rr>>>0}utils.rotr64_lo=$r;function Sr(fr,_r,ir){return fr>>>ir}utils.shr64_hi=Sr;function wr(fr,_r,ir){var rr=fr<<32-ir|_r>>>ir;return rr>>>0}return utils.shr64_lo=wr,utils}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var s=requireUtils(),a=requireMinimalisticAssert();function et(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=et,et.prototype.update=function(at,mt){if(at=s.toArray(at,mt),this.pending?this.pending=this.pending.concat(at):this.pending=at,this.pendingTotal+=at.length,this.pending.length>=this._delta8){at=this.pending;var wt=at.length%this._delta8;this.pending=at.slice(at.length-wt,at.length),this.pending.length===0&&(this.pending=null),at=s.join32(at,0,at.length-wt,this.endian);for(var $t=0;$t<at.length;$t+=this._delta32)this._update(at,$t,$t+this._delta32)}return this},et.prototype.digest=function(at){return this.update(this._pad()),a(this.pending===null),this._digest(at)},et.prototype._pad=function(){var at=this.pendingTotal,mt=this._delta8,wt=mt-(at+this.padLength)%mt,$t=new Array(wt+this.padLength);$t[0]=128;for(var Ct=1;Ct<wt;Ct++)$t[Ct]=0;if(at<<=3,this.endian==="big"){for(var Dt=8;Dt<this.padLength;Dt++)$t[Ct++]=0;$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=at>>>24&255,$t[Ct++]=at>>>16&255,$t[Ct++]=at>>>8&255,$t[Ct++]=at&255}else for($t[Ct++]=at&255,$t[Ct++]=at>>>8&255,$t[Ct++]=at>>>16&255,$t[Ct++]=at>>>24&255,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,$t[Ct++]=0,Dt=8;Dt<this.padLength;Dt++)$t[Ct++]=0;return $t},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var s=requireUtils(),a=s.rotr32;function et(Ft,jt,Nt,Lt){if(Ft===0)return nt(jt,Nt,Lt);if(Ft===1||Ft===3)return mt(jt,Nt,Lt);if(Ft===2)return at(jt,Nt,Lt)}common.ft_1=et;function nt(Ft,jt,Nt){return Ft&jt^~Ft&Nt}common.ch32=nt;function at(Ft,jt,Nt){return Ft&jt^Ft&Nt^jt&Nt}common.maj32=at;function mt(Ft,jt,Nt){return Ft^jt^Nt}common.p32=mt;function wt(Ft){return a(Ft,2)^a(Ft,13)^a(Ft,22)}common.s0_256=wt;function $t(Ft){return a(Ft,6)^a(Ft,11)^a(Ft,25)}common.s1_256=$t;function Ct(Ft){return a(Ft,7)^a(Ft,18)^Ft>>>3}common.g0_256=Ct;function Dt(Ft){return a(Ft,17)^a(Ft,19)^Ft>>>10}return common.g1_256=Dt,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var s=requireUtils(),a=requireCommon$1(),et=requireCommon(),nt=s.rotl32,at=s.sum32,mt=s.sum32_5,wt=et.ft_1,$t=a.BlockHash,Ct=[1518500249,1859775393,2400959708,3395469782];function Dt(){if(!(this instanceof Dt))return new Dt;$t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return s.inherits(Dt,$t),_1=Dt,Dt.blockSize=512,Dt.outSize=160,Dt.hmacStrength=80,Dt.padLength=64,Dt.prototype._update=function(jt,Nt){for(var Lt=this.W,Ut=0;Ut<16;Ut++)Lt[Ut]=jt[Nt+Ut];for(;Ut<Lt.length;Ut++)Lt[Ut]=nt(Lt[Ut-3]^Lt[Ut-8]^Lt[Ut-14]^Lt[Ut-16],1);var Vt=this.h[0],Yt=this.h[1],er=this.h[2],tr=this.h[3],nr=this.h[4];for(Ut=0;Ut<Lt.length;Ut++){var sr=~~(Ut/20),dr=mt(nt(Vt,5),wt(sr,Yt,er,tr),nr,Lt[Ut],Ct[sr]);nr=tr,tr=er,er=nt(Yt,30),Yt=Vt,Vt=dr}this.h[0]=at(this.h[0],Vt),this.h[1]=at(this.h[1],Yt),this.h[2]=at(this.h[2],er),this.h[3]=at(this.h[3],tr),this.h[4]=at(this.h[4],nr)},Dt.prototype._digest=function(jt){return jt==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var s=requireUtils(),a=requireCommon$1(),et=requireCommon(),nt=requireMinimalisticAssert(),at=s.sum32,mt=s.sum32_4,wt=s.sum32_5,$t=et.ch32,Ct=et.maj32,Dt=et.s0_256,Ft=et.s1_256,jt=et.g0_256,Nt=et.g1_256,Lt=a.BlockHash,Ut=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vt(){if(!(this instanceof Vt))return new Vt;Lt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ut,this.W=new Array(64)}return s.inherits(Vt,Lt),_256=Vt,Vt.blockSize=512,Vt.outSize=256,Vt.hmacStrength=192,Vt.padLength=64,Vt.prototype._update=function(er,tr){for(var nr=this.W,sr=0;sr<16;sr++)nr[sr]=er[tr+sr];for(;sr<nr.length;sr++)nr[sr]=mt(Nt(nr[sr-2]),nr[sr-7],jt(nr[sr-15]),nr[sr-16]);var dr=this.h[0],br=this.h[1],vr=this.h[2],yr=this.h[3],$r=this.h[4],Sr=this.h[5],wr=this.h[6],fr=this.h[7];for(nt(this.k.length===nr.length),sr=0;sr<nr.length;sr++){var _r=wt(fr,Ft($r),$t($r,Sr,wr),this.k[sr],nr[sr]),ir=at(Dt(dr),Ct(dr,br,vr));fr=wr,wr=Sr,Sr=$r,$r=at(yr,_r),yr=vr,vr=br,br=dr,dr=at(_r,ir)}this.h[0]=at(this.h[0],dr),this.h[1]=at(this.h[1],br),this.h[2]=at(this.h[2],vr),this.h[3]=at(this.h[3],yr),this.h[4]=at(this.h[4],$r),this.h[5]=at(this.h[5],Sr),this.h[6]=at(this.h[6],wr),this.h[7]=at(this.h[7],fr)},Vt.prototype._digest=function(er){return er==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var s=requireUtils(),a=require_256();function et(){if(!(this instanceof et))return new et;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return s.inherits(et,a),_224=et,et.blockSize=512,et.outSize=224,et.hmacStrength=192,et.padLength=64,et.prototype._digest=function(at){return at==="hex"?s.toHex32(this.h.slice(0,7),"big"):s.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var s=requireUtils(),a=requireCommon$1(),et=requireMinimalisticAssert(),nt=s.rotr64_hi,at=s.rotr64_lo,mt=s.shr64_hi,wt=s.shr64_lo,$t=s.sum64,Ct=s.sum64_hi,Dt=s.sum64_lo,Ft=s.sum64_4_hi,jt=s.sum64_4_lo,Nt=s.sum64_5_hi,Lt=s.sum64_5_lo,Ut=a.BlockHash,Vt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Yt(){if(!(this instanceof Yt))return new Yt;Ut.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Vt,this.W=new Array(160)}s.inherits(Yt,Ut),_512=Yt,Yt.blockSize=1024,Yt.outSize=512,Yt.hmacStrength=192,Yt.padLength=128,Yt.prototype._prepareBlock=function(ir,rr){for(var or=this.W,ar=0;ar<32;ar++)or[ar]=ir[rr+ar];for(;ar<or.length;ar+=2){var ur=wr(or[ar-4],or[ar-3]),pr=fr(or[ar-4],or[ar-3]),cr=or[ar-14],gr=or[ar-13],hr=$r(or[ar-30],or[ar-29]),lr=Sr(or[ar-30],or[ar-29]),xr=or[ar-32],Mr=or[ar-31];or[ar]=Ft(ur,pr,cr,gr,hr,lr,xr,Mr),or[ar+1]=jt(ur,pr,cr,gr,hr,lr,xr,Mr)}},Yt.prototype._update=function(ir,rr){this._prepareBlock(ir,rr);var or=this.W,ar=this.h[0],ur=this.h[1],pr=this.h[2],cr=this.h[3],gr=this.h[4],hr=this.h[5],lr=this.h[6],xr=this.h[7],Mr=this.h[8],Pr=this.h[9],Ar=this.h[10],Ir=this.h[11],qr=this.h[12],Rr=this.h[13],Tr=this.h[14],Er=this.h[15];et(this.k.length===or.length);for(var Br=0;Br<or.length;Br+=2){var Nr=Tr,zr=Er,Hr=vr(Mr,Pr),jr=yr(Mr,Pr),Ur=er(Mr,Pr,Ar,Ir,qr),Fr=tr(Mr,Pr,Ar,Ir,qr,Rr),Gr=this.k[Br],Wr=this.k[Br+1],nn=or[Br],Ln=or[Br+1],Un=Nt(Nr,zr,Hr,jr,Ur,Fr,Gr,Wr,nn,Ln),Wn=Lt(Nr,zr,Hr,jr,Ur,Fr,Gr,Wr,nn,Ln);Nr=dr(ar,ur),zr=br(ar,ur),Hr=nr(ar,ur,pr,cr,gr),jr=sr(ar,ur,pr,cr,gr,hr);var io=Ct(Nr,zr,Hr,jr),zn=Dt(Nr,zr,Hr,jr);Tr=qr,Er=Rr,qr=Ar,Rr=Ir,Ar=Mr,Ir=Pr,Mr=Ct(lr,xr,Un,Wn),Pr=Dt(xr,xr,Un,Wn),lr=gr,xr=hr,gr=pr,hr=cr,pr=ar,cr=ur,ar=Ct(Un,Wn,io,zn),ur=Dt(Un,Wn,io,zn)}$t(this.h,0,ar,ur),$t(this.h,2,pr,cr),$t(this.h,4,gr,hr),$t(this.h,6,lr,xr),$t(this.h,8,Mr,Pr),$t(this.h,10,Ar,Ir),$t(this.h,12,qr,Rr),$t(this.h,14,Tr,Er)},Yt.prototype._digest=function(ir){return ir==="hex"?s.toHex32(this.h,"big"):s.split32(this.h,"big")};function er(_r,ir,rr,or,ar){var ur=_r&rr^~_r&ar;return ur<0&&(ur+=4294967296),ur}function tr(_r,ir,rr,or,ar,ur){var pr=ir&or^~ir&ur;return pr<0&&(pr+=4294967296),pr}function nr(_r,ir,rr,or,ar){var ur=_r&rr^_r&ar^rr&ar;return ur<0&&(ur+=4294967296),ur}function sr(_r,ir,rr,or,ar,ur){var pr=ir&or^ir&ur^or&ur;return pr<0&&(pr+=4294967296),pr}function dr(_r,ir){var rr=nt(_r,ir,28),or=nt(ir,_r,2),ar=nt(ir,_r,7),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}function br(_r,ir){var rr=at(_r,ir,28),or=at(ir,_r,2),ar=at(ir,_r,7),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}function vr(_r,ir){var rr=nt(_r,ir,14),or=nt(_r,ir,18),ar=nt(ir,_r,9),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}function yr(_r,ir){var rr=at(_r,ir,14),or=at(_r,ir,18),ar=at(ir,_r,9),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}function $r(_r,ir){var rr=nt(_r,ir,1),or=nt(_r,ir,8),ar=mt(_r,ir,7),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}function Sr(_r,ir){var rr=at(_r,ir,1),or=at(_r,ir,8),ar=wt(_r,ir,7),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}function wr(_r,ir){var rr=nt(_r,ir,19),or=nt(ir,_r,29),ar=mt(_r,ir,6),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}function fr(_r,ir){var rr=at(_r,ir,19),or=at(ir,_r,29),ar=wt(_r,ir,6),ur=rr^or^ar;return ur<0&&(ur+=4294967296),ur}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var s=requireUtils(),a=require_512();function et(){if(!(this instanceof et))return new et;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return s.inherits(et,a),_384=et,et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(at){return at==="hex"?s.toHex32(this.h.slice(0,12),"big"):s.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var s=requireUtils(),a=requireCommon$1(),et=s.rotl32,nt=s.sum32,at=s.sum32_3,mt=s.sum32_4,wt=a.BlockHash;function $t(){if(!(this instanceof $t))return new $t;wt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}s.inherits($t,wt),ripemd.ripemd160=$t,$t.blockSize=512,$t.outSize=160,$t.hmacStrength=192,$t.padLength=64,$t.prototype._update=function(Yt,er){for(var tr=this.h[0],nr=this.h[1],sr=this.h[2],dr=this.h[3],br=this.h[4],vr=tr,yr=nr,$r=sr,Sr=dr,wr=br,fr=0;fr<80;fr++){var _r=nt(et(mt(tr,Ct(fr,nr,sr,dr),Yt[jt[fr]+er],Dt(fr)),Lt[fr]),br);tr=br,br=dr,dr=et(sr,10),sr=nr,nr=_r,_r=nt(et(mt(vr,Ct(79-fr,yr,$r,Sr),Yt[Nt[fr]+er],Ft(fr)),Ut[fr]),wr),vr=wr,wr=Sr,Sr=et($r,10),$r=yr,yr=_r}_r=at(this.h[1],sr,Sr),this.h[1]=at(this.h[2],dr,wr),this.h[2]=at(this.h[3],br,vr),this.h[3]=at(this.h[4],tr,yr),this.h[4]=at(this.h[0],nr,$r),this.h[0]=_r},$t.prototype._digest=function(Yt){return Yt==="hex"?s.toHex32(this.h,"little"):s.split32(this.h,"little")};function Ct(Vt,Yt,er,tr){return Vt<=15?Yt^er^tr:Vt<=31?Yt&er|~Yt&tr:Vt<=47?(Yt|~er)^tr:Vt<=63?Yt&tr|er&~tr:Yt^(er|~tr)}function Dt(Vt){return Vt<=15?0:Vt<=31?1518500249:Vt<=47?1859775393:Vt<=63?2400959708:2840853838}function Ft(Vt){return Vt<=15?1352829926:Vt<=31?1548603684:Vt<=47?1836072691:Vt<=63?2053994217:0}var jt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Nt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Lt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ut=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$1,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$1;hasRequiredHmac$1=1;var s=requireUtils(),a=requireMinimalisticAssert();function et(nt,at,mt){if(!(this instanceof et))return new et(nt,at,mt);this.Hash=nt,this.blockSize=nt.blockSize/8,this.outSize=nt.outSize/8,this.inner=null,this.outer=null,this._init(s.toArray(at,mt))}return hmac$1=et,et.prototype._init=function(at){at.length>this.blockSize&&(at=new this.Hash().update(at).digest()),a(at.length<=this.blockSize);for(var mt=at.length;mt<this.blockSize;mt++)at.push(0);for(mt=0;mt<at.length;mt++)at[mt]^=54;for(this.inner=new this.Hash().update(at),mt=0;mt<at.length;mt++)at[mt]^=106;this.outer=new this.Hash().update(at)},et.prototype.update=function(at,mt){return this.inner.update(at,mt),this},et.prototype.digest=function(at){return this.outer.update(this.inner.digest()),this.outer.digest(at)},hmac$1}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(s){var a=s;a.utils=requireUtils(),a.common=requireCommon$1(),a.sha=requireSha(),a.ripemd=requireRipemd(),a.hmac=requireHmac$1(),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(s){var a=s,et=requireHash(),nt=requireCurve(),at=requireUtils$1(),mt=at.assert;function wt(Dt){Dt.type==="short"?this.curve=new nt.short(Dt):Dt.type==="edwards"?this.curve=new nt.edwards(Dt):this.curve=new nt.mont(Dt),this.g=this.curve.g,this.n=this.curve.n,this.hash=Dt.hash,mt(this.g.validate(),"Invalid curve"),mt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a.PresetCurve=wt;function $t(Dt,Ft){Object.defineProperty(a,Dt,{configurable:!0,enumerable:!0,get:function(){var jt=new wt(Ft);return Object.defineProperty(a,Dt,{configurable:!0,enumerable:!0,value:jt}),jt}})}$t("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:et.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),$t("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:et.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),$t("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:et.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),$t("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:et.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),$t("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:et.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),$t("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["9"]}),$t("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:et.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ct;try{Ct=requireSecp256k1()}catch{Ct=void 0}$t("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:et.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ct]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var s=requireHash(),a=requireUtils$2(),et=requireMinimalisticAssert();function nt(at){if(!(this instanceof nt))return new nt(at);this.hash=at.hash,this.predResist=!!at.predResist,this.outLen=this.hash.outSize,this.minEntropy=at.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var mt=a.toArray(at.entropy,at.entropyEnc||"hex"),wt=a.toArray(at.nonce,at.nonceEnc||"hex"),$t=a.toArray(at.pers,at.persEnc||"hex");et(mt.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(mt,wt,$t)}return hmacDrbg=nt,nt.prototype._init=function(mt,wt,$t){var Ct=mt.concat(wt).concat($t);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Dt=0;Dt<this.V.length;Dt++)this.K[Dt]=0,this.V[Dt]=1;this._update(Ct),this._reseed=1,this.reseedInterval=281474976710656},nt.prototype._hmac=function(){return new s.hmac(this.hash,this.K)},nt.prototype._update=function(mt){var wt=this._hmac().update(this.V).update([0]);mt&&(wt=wt.update(mt)),this.K=wt.digest(),this.V=this._hmac().update(this.V).digest(),mt&&(this.K=this._hmac().update(this.V).update([1]).update(mt).digest(),this.V=this._hmac().update(this.V).digest())},nt.prototype.reseed=function(mt,wt,$t,Ct){typeof wt!="string"&&(Ct=$t,$t=wt,wt=null),mt=a.toArray(mt,wt),$t=a.toArray($t,Ct),et(mt.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(mt.concat($t||[])),this._reseed=1},nt.prototype.generate=function(mt,wt,$t,Ct){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof wt!="string"&&(Ct=$t,$t=wt,wt=null),$t&&($t=a.toArray($t,Ct||"hex"),this._update($t));for(var Dt=[];Dt.length<mt;)this.V=this._hmac().update(this.V).digest(),Dt=Dt.concat(this.V);var Ft=Dt.slice(0,mt);return this._update($t),this._reseed++,a.encode(Ft,wt)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var s=requireBn(),a=requireUtils$1(),et=a.assert;function nt(at,mt){this.ec=at,this.priv=null,this.pub=null,mt.priv&&this._importPrivate(mt.priv,mt.privEnc),mt.pub&&this._importPublic(mt.pub,mt.pubEnc)}return key$1=nt,nt.fromPublic=function(mt,wt,$t){return wt instanceof nt?wt:new nt(mt,{pub:wt,pubEnc:$t})},nt.fromPrivate=function(mt,wt,$t){return wt instanceof nt?wt:new nt(mt,{priv:wt,privEnc:$t})},nt.prototype.validate=function(){var mt=this.getPublic();return mt.isInfinity()?{result:!1,reason:"Invalid public key"}:mt.validate()?mt.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},nt.prototype.getPublic=function(mt,wt){return typeof mt=="string"&&(wt=mt,mt=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),wt?this.pub.encode(wt,mt):this.pub},nt.prototype.getPrivate=function(mt){return mt==="hex"?this.priv.toString(16,2):this.priv},nt.prototype._importPrivate=function(mt,wt){this.priv=new s(mt,wt||16),this.priv=this.priv.umod(this.ec.curve.n)},nt.prototype._importPublic=function(mt,wt){if(mt.x||mt.y){this.ec.curve.type==="mont"?et(mt.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&et(mt.x&&mt.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(mt.x,mt.y);return}this.pub=this.ec.curve.decodePoint(mt,wt)},nt.prototype.derive=function(mt){return mt.validate()||et(mt.validate(),"public point not validated"),mt.mul(this.priv).getX()},nt.prototype.sign=function(mt,wt,$t){return this.ec.sign(mt,this,wt,$t)},nt.prototype.verify=function(mt,wt,$t){return this.ec.verify(mt,wt,this,void 0,$t)},nt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var s=requireBn(),a=requireUtils$1(),et=a.assert;function nt(Ct,Dt){if(Ct instanceof nt)return Ct;this._importDER(Ct,Dt)||(et(Ct.r&&Ct.s,"Signature without r or s"),this.r=new s(Ct.r,16),this.s=new s(Ct.s,16),Ct.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Ct.recoveryParam)}signature$1=nt;function at(){this.place=0}function mt(Ct,Dt){var Ft=Ct[Dt.place++];if(!(Ft&128))return Ft;var jt=Ft&15;if(jt===0||jt>4||Ct[Dt.place]===0)return!1;for(var Nt=0,Lt=0,Ut=Dt.place;Lt<jt;Lt++,Ut++)Nt<<=8,Nt|=Ct[Ut],Nt>>>=0;return Nt<=127?!1:(Dt.place=Ut,Nt)}function wt(Ct){for(var Dt=0,Ft=Ct.length-1;!Ct[Dt]&&!(Ct[Dt+1]&128)&&Dt<Ft;)Dt++;return Dt===0?Ct:Ct.slice(Dt)}nt.prototype._importDER=function(Dt,Ft){Dt=a.toArray(Dt,Ft);var jt=new at;if(Dt[jt.place++]!==48)return!1;var Nt=mt(Dt,jt);if(Nt===!1||Nt+jt.place!==Dt.length||Dt[jt.place++]!==2)return!1;var Lt=mt(Dt,jt);if(Lt===!1||Dt[jt.place]&128)return!1;var Ut=Dt.slice(jt.place,Lt+jt.place);if(jt.place+=Lt,Dt[jt.place++]!==2)return!1;var Vt=mt(Dt,jt);if(Vt===!1||Dt.length!==Vt+jt.place||Dt[jt.place]&128)return!1;var Yt=Dt.slice(jt.place,Vt+jt.place);if(Ut[0]===0)if(Ut[1]&128)Ut=Ut.slice(1);else return!1;if(Yt[0]===0)if(Yt[1]&128)Yt=Yt.slice(1);else return!1;return this.r=new s(Ut),this.s=new s(Yt),this.recoveryParam=null,!0};function $t(Ct,Dt){if(Dt<128){Ct.push(Dt);return}var Ft=1+(Math.log(Dt)/Math.LN2>>>3);for(Ct.push(Ft|128);--Ft;)Ct.push(Dt>>>(Ft<<3)&255);Ct.push(Dt)}return nt.prototype.toDER=function(Dt){var Ft=this.r.toArray(),jt=this.s.toArray();for(Ft[0]&128&&(Ft=[0].concat(Ft)),jt[0]&128&&(jt=[0].concat(jt)),Ft=wt(Ft),jt=wt(jt);!jt[0]&&!(jt[1]&128);)jt=jt.slice(1);var Nt=[2];$t(Nt,Ft.length),Nt=Nt.concat(Ft),Nt.push(2),$t(Nt,jt.length);var Lt=Nt.concat(jt),Ut=[48];return $t(Ut,Lt.length),Ut=Ut.concat(Lt),a.encode(Ut,Dt)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var s=requireBn(),a=requireHmacDrbg(),et=requireUtils$1(),nt=requireCurves(),at=requireBrorand(),mt=et.assert,wt=requireKey$1(),$t=requireSignature$1();function Ct(Dt){if(!(this instanceof Ct))return new Ct(Dt);typeof Dt=="string"&&(mt(Object.prototype.hasOwnProperty.call(nt,Dt),"Unknown curve "+Dt),Dt=nt[Dt]),Dt instanceof nt.PresetCurve&&(Dt={curve:Dt}),this.curve=Dt.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Dt.curve.g,this.g.precompute(Dt.curve.n.bitLength()+1),this.hash=Dt.hash||Dt.curve.hash}return ec=Ct,Ct.prototype.keyPair=function(Ft){return new wt(this,Ft)},Ct.prototype.keyFromPrivate=function(Ft,jt){return wt.fromPrivate(this,Ft,jt)},Ct.prototype.keyFromPublic=function(Ft,jt){return wt.fromPublic(this,Ft,jt)},Ct.prototype.genKeyPair=function(Ft){Ft||(Ft={});for(var jt=new a({hash:this.hash,pers:Ft.pers,persEnc:Ft.persEnc||"utf8",entropy:Ft.entropy||at(this.hash.hmacStrength),entropyEnc:Ft.entropy&&Ft.entropyEnc||"utf8",nonce:this.n.toArray()}),Nt=this.n.byteLength(),Lt=this.n.sub(new s(2));;){var Ut=new s(jt.generate(Nt));if(!(Ut.cmp(Lt)>0))return Ut.iaddn(1),this.keyFromPrivate(Ut)}},Ct.prototype._truncateToN=function(Ft,jt,Nt){var Lt;if(s.isBN(Ft)||typeof Ft=="number")Ft=new s(Ft,16),Lt=Ft.byteLength();else if(typeof Ft=="object")Lt=Ft.length,Ft=new s(Ft,16);else{var Ut=Ft.toString();Lt=Ut.length+1>>>1,Ft=new s(Ut,16)}typeof Nt!="number"&&(Nt=Lt*8);var Vt=Nt-this.n.bitLength();return Vt>0&&(Ft=Ft.ushrn(Vt)),!jt&&Ft.cmp(this.n)>=0?Ft.sub(this.n):Ft},Ct.prototype.sign=function(Ft,jt,Nt,Lt){if(typeof Nt=="object"&&(Lt=Nt,Nt=null),Lt||(Lt={}),typeof Ft!="string"&&typeof Ft!="number"&&!s.isBN(Ft)){mt(typeof Ft=="object"&&Ft&&typeof Ft.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),mt(Ft.length>>>0===Ft.length);for(var Ut=0;Ut<Ft.length;Ut++)mt((Ft[Ut]&255)===Ft[Ut])}jt=this.keyFromPrivate(jt,Nt),Ft=this._truncateToN(Ft,!1,Lt.msgBitLength),mt(!Ft.isNeg(),"Can not sign a negative message");var Vt=this.n.byteLength(),Yt=jt.getPrivate().toArray("be",Vt),er=Ft.toArray("be",Vt);mt(new s(er).eq(Ft),"Can not sign message");for(var tr=new a({hash:this.hash,entropy:Yt,nonce:er,pers:Lt.pers,persEnc:Lt.persEnc||"utf8"}),nr=this.n.sub(new s(1)),sr=0;;sr++){var dr=Lt.k?Lt.k(sr):new s(tr.generate(this.n.byteLength()));if(dr=this._truncateToN(dr,!0),!(dr.cmpn(1)<=0||dr.cmp(nr)>=0)){var br=this.g.mul(dr);if(!br.isInfinity()){var vr=br.getX(),yr=vr.umod(this.n);if(yr.cmpn(0)!==0){var $r=dr.invm(this.n).mul(yr.mul(jt.getPrivate()).iadd(Ft));if($r=$r.umod(this.n),$r.cmpn(0)!==0){var Sr=(br.getY().isOdd()?1:0)|(vr.cmp(yr)!==0?2:0);return Lt.canonical&&$r.cmp(this.nh)>0&&($r=this.n.sub($r),Sr^=1),new $t({r:yr,s:$r,recoveryParam:Sr})}}}}}},Ct.prototype.verify=function(Ft,jt,Nt,Lt,Ut){Ut||(Ut={}),Ft=this._truncateToN(Ft,!1,Ut.msgBitLength),Nt=this.keyFromPublic(Nt,Lt),jt=new $t(jt,"hex");var Vt=jt.r,Yt=jt.s;if(Vt.cmpn(1)<0||Vt.cmp(this.n)>=0||Yt.cmpn(1)<0||Yt.cmp(this.n)>=0)return!1;var er=Yt.invm(this.n),tr=er.mul(Ft).umod(this.n),nr=er.mul(Vt).umod(this.n),sr;return this.curve._maxwellTrick?(sr=this.g.jmulAdd(tr,Nt.getPublic(),nr),sr.isInfinity()?!1:sr.eqXToP(Vt)):(sr=this.g.mulAdd(tr,Nt.getPublic(),nr),sr.isInfinity()?!1:sr.getX().umod(this.n).cmp(Vt)===0)},Ct.prototype.recoverPubKey=function(Dt,Ft,jt,Nt){mt((3&jt)===jt,"The recovery param is more than two bits"),Ft=new $t(Ft,Nt);var Lt=this.n,Ut=new s(Dt),Vt=Ft.r,Yt=Ft.s,er=jt&1,tr=jt>>1;if(Vt.cmp(this.curve.p.umod(this.curve.n))>=0&&tr)throw new Error("Unable to find sencond key candinate");tr?Vt=this.curve.pointFromX(Vt.add(this.curve.n),er):Vt=this.curve.pointFromX(Vt,er);var nr=Ft.r.invm(Lt),sr=Lt.sub(Ut).mul(nr).umod(Lt),dr=Yt.mul(nr).umod(Lt);return this.g.mulAdd(sr,Vt,dr)},Ct.prototype.getKeyRecoveryParam=function(Dt,Ft,jt,Nt){if(Ft=new $t(Ft,Nt),Ft.recoveryParam!==null)return Ft.recoveryParam;for(var Lt=0;Lt<4;Lt++){var Ut;try{Ut=this.recoverPubKey(Dt,Ft,Lt)}catch{continue}if(Ut.eq(jt))return Lt}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var s=requireUtils$1(),a=s.assert,et=s.parseBytes,nt=s.cachedProperty;function at(mt,wt){this.eddsa=mt,this._secret=et(wt.secret),mt.isPoint(wt.pub)?this._pub=wt.pub:this._pubBytes=et(wt.pub)}return at.fromPublic=function(wt,$t){return $t instanceof at?$t:new at(wt,{pub:$t})},at.fromSecret=function(wt,$t){return $t instanceof at?$t:new at(wt,{secret:$t})},at.prototype.secret=function(){return this._secret},nt(at,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),nt(at,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),nt(at,"privBytes",function(){var wt=this.eddsa,$t=this.hash(),Ct=wt.encodingLength-1,Dt=$t.slice(0,wt.encodingLength);return Dt[0]&=248,Dt[Ct]&=127,Dt[Ct]|=64,Dt}),nt(at,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),nt(at,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),nt(at,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),at.prototype.sign=function(wt){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(wt,this)},at.prototype.verify=function(wt,$t){return this.eddsa.verify(wt,$t,this)},at.prototype.getSecret=function(wt){return a(this._secret,"KeyPair is public only"),s.encode(this.secret(),wt)},at.prototype.getPublic=function(wt){return s.encode(this.pubBytes(),wt)},key=at,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var s=requireBn(),a=requireUtils$1(),et=a.assert,nt=a.cachedProperty,at=a.parseBytes;function mt(wt,$t){this.eddsa=wt,typeof $t!="object"&&($t=at($t)),Array.isArray($t)&&(et($t.length===wt.encodingLength*2,"Signature has invalid size"),$t={R:$t.slice(0,wt.encodingLength),S:$t.slice(wt.encodingLength)}),et($t.R&&$t.S,"Signature without R or S"),wt.isPoint($t.R)&&(this._R=$t.R),$t.S instanceof s&&(this._S=$t.S),this._Rencoded=Array.isArray($t.R)?$t.R:$t.Rencoded,this._Sencoded=Array.isArray($t.S)?$t.S:$t.Sencoded}return nt(mt,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),nt(mt,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),nt(mt,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),nt(mt,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),mt.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},mt.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},signature=mt,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var s=requireHash(),a=requireCurves(),et=requireUtils$1(),nt=et.assert,at=et.parseBytes,mt=requireKey(),wt=requireSignature();function $t(Ct){if(nt(Ct==="ed25519","only tested with ed25519 so far"),!(this instanceof $t))return new $t(Ct);Ct=a[Ct].curve,this.curve=Ct,this.g=Ct.g,this.g.precompute(Ct.n.bitLength()+1),this.pointClass=Ct.point().constructor,this.encodingLength=Math.ceil(Ct.n.bitLength()/8),this.hash=s.sha512}return eddsa=$t,$t.prototype.sign=function(Dt,Ft){Dt=at(Dt);var jt=this.keyFromSecret(Ft),Nt=this.hashInt(jt.messagePrefix(),Dt),Lt=this.g.mul(Nt),Ut=this.encodePoint(Lt),Vt=this.hashInt(Ut,jt.pubBytes(),Dt).mul(jt.priv()),Yt=Nt.add(Vt).umod(this.curve.n);return this.makeSignature({R:Lt,S:Yt,Rencoded:Ut})},$t.prototype.verify=function(Dt,Ft,jt){if(Dt=at(Dt),Ft=this.makeSignature(Ft),Ft.S().gte(Ft.eddsa.curve.n)||Ft.S().isNeg())return!1;var Nt=this.keyFromPublic(jt),Lt=this.hashInt(Ft.Rencoded(),Nt.pubBytes(),Dt),Ut=this.g.mul(Ft.S()),Vt=Ft.R().add(Nt.pub().mul(Lt));return Vt.eq(Ut)},$t.prototype.hashInt=function(){for(var Dt=this.hash(),Ft=0;Ft<arguments.length;Ft++)Dt.update(arguments[Ft]);return et.intFromLE(Dt.digest()).umod(this.curve.n)},$t.prototype.keyFromPublic=function(Dt){return mt.fromPublic(this,Dt)},$t.prototype.keyFromSecret=function(Dt){return mt.fromSecret(this,Dt)},$t.prototype.makeSignature=function(Dt){return Dt instanceof wt?Dt:new wt(this,Dt)},$t.prototype.encodePoint=function(Dt){var Ft=Dt.getY().toArray("le",this.encodingLength);return Ft[this.encodingLength-1]|=Dt.getX().isOdd()?128:0,Ft},$t.prototype.decodePoint=function(Dt){Dt=et.parseBytes(Dt);var Ft=Dt.length-1,jt=Dt.slice(0,Ft).concat(Dt[Ft]&-129),Nt=(Dt[Ft]&128)!==0,Lt=et.intFromLE(jt);return this.curve.pointFromY(Lt,Nt)},$t.prototype.encodeInt=function(Dt){return Dt.toArray("le",this.encodingLength)},$t.prototype.decodeInt=function(Dt){return et.intFromLE(Dt)},$t.prototype.isPoint=function(Dt){return Dt instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(s){var a=s;a.version=require$$0.version,a.utils=requireUtils$1(),a.rand=requireBrorand(),a.curve=requireCurve(),a.curves=requireCurves(),a.ec=requireEc(),a.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(s,a){if(s.indexOf)return s.indexOf(a);for(var et=0;et<s.length;et++)if(s[et]===a)return et;return-1},Object_keys=function(s){if(Object.keys)return Object.keys(s);var a=[];for(var et in s)a.push(et);return a},forEach=function(s,a){if(s.forEach)return s.forEach(a);for(var et=0;et<s.length;et++)a(s[et],et,s)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(s,a,et){Object.defineProperty(s,a,{writable:!0,enumerable:!1,configurable:!0,value:et})}}catch{return function(a,et,nt){a[et]=nt}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(a){if(!(this instanceof Script))return new Script(a);this.code=a};Script.prototype.runInContext=function(s){if(!(s instanceof Context))throw new TypeError("needs a 'context' argument.");var a=document.createElement("iframe");a.style||(a.style={}),a.style.display="none",document.body.appendChild(a);var et=a.contentWindow,nt=et.eval,at=et.execScript;!nt&&at&&(at.call(et,"null"),nt=et.eval),forEach(Object_keys(s),function($t){et[$t]=s[$t]}),forEach(globals,function($t){s[$t]&&(et[$t]=s[$t])});var mt=Object_keys(et),wt=nt.call(et,this.code);return forEach(Object_keys(et),function($t){($t in s||indexOf(mt,$t)===-1)&&(s[$t]=et[$t])}),forEach(globals,function($t){$t in s||defineProp(s,$t,et[$t])}),document.body.removeChild(a),wt},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(s){var a=Script.createContext(s),et=this.runInContext(a);return s&&forEach(Object_keys(a),function(nt){s[nt]=a[nt]}),et},forEach(Object_keys(Script.prototype),function(s){exports[s]=Script[s]=function(a){var et=Script(a);return et[s].apply(et,[].slice.call(arguments,1))}}),exports.isContext=function(s){return s instanceof Context},exports.createScript=function(s){return exports.Script(s)},exports.createContext=Script.createContext=function(s){var a=new Context;return typeof s=="object"&&forEach(Object_keys(s),function(et){a[et]=s[et]}),a}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(s){var a=requireAsn1$1(),et=requireInherits_browser(),nt=s;nt.define=function(wt,$t){return new at(wt,$t)};function at(mt,wt){this.name=mt,this.body=wt,this.decoders={},this.encoders={}}at.prototype._createNamed=function(wt){var $t;try{$t=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{$t=function(Dt){this._initNamed(Dt)}}return et($t,wt),$t.prototype._initNamed=function(Dt){wt.call(this,Dt)},new $t(this)},at.prototype._getDecoder=function(wt){return wt=wt||"der",this.decoders.hasOwnProperty(wt)||(this.decoders[wt]=this._createNamed(a.decoders[wt])),this.decoders[wt]},at.prototype.decode=function(wt,$t,Ct){return this._getDecoder($t).decode(wt,Ct)},at.prototype._getEncoder=function(wt){return wt=wt||"der",this.encoders.hasOwnProperty(wt)||(this.encoders[wt]=this._createNamed(a.encoders[wt])),this.encoders[wt]},at.prototype.encode=function(wt,$t,Ct){return this._getEncoder($t).encode(wt,Ct)}}(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var s=requireInherits_browser();function a(nt){this._reporterState={obj:null,path:[],options:nt||{},errors:[]}}reporter.Reporter=a,a.prototype.isError=function(at){return at instanceof et},a.prototype.save=function(){var at=this._reporterState;return{obj:at.obj,pathLen:at.path.length}},a.prototype.restore=function(at){var mt=this._reporterState;mt.obj=at.obj,mt.path=mt.path.slice(0,at.pathLen)},a.prototype.enterKey=function(at){return this._reporterState.path.push(at)},a.prototype.exitKey=function(at){var mt=this._reporterState;mt.path=mt.path.slice(0,at-1)},a.prototype.leaveKey=function(at,mt,wt){var $t=this._reporterState;this.exitKey(at),$t.obj!==null&&($t.obj[mt]=wt)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){var at=this._reporterState,mt=at.obj;return at.obj={},mt},a.prototype.leaveObject=function(at){var mt=this._reporterState,wt=mt.obj;return mt.obj=at,wt},a.prototype.error=function(at){var mt,wt=this._reporterState,$t=at instanceof et;if($t?mt=at:mt=new et(wt.path.map(function(Ct){return"["+JSON.stringify(Ct)+"]"}).join(""),at.message||at,at.stack),!wt.options.partial)throw mt;return $t||wt.errors.push(mt),mt},a.prototype.wrapResult=function(at){var mt=this._reporterState;return mt.options.partial?{result:this.isError(at)?null:at,errors:mt.errors}:at};function et(nt,at){this.path=nt,this.rethrow(at)}return s(et,Error),et.prototype.rethrow=function(at){if(this.message=at+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,et),!this.stack)try{throw new Error(this.message)}catch(mt){this.stack=mt.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var s=requireInherits_browser(),a=requireBase().Reporter,et=require$$1$3.Buffer;function nt(mt,wt){if(a.call(this,wt),!et.isBuffer(mt)){this.error("Input not Buffer");return}this.base=mt,this.offset=0,this.length=mt.length}s(nt,a),buffer.DecoderBuffer=nt,nt.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},nt.prototype.restore=function(wt){var $t=new nt(this.base);return $t.offset=wt.offset,$t.length=this.offset,this.offset=wt.offset,a.prototype.restore.call(this,wt.reporter),$t},nt.prototype.isEmpty=function(){return this.offset===this.length},nt.prototype.readUInt8=function(wt){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(wt||"DecoderBuffer overrun")},nt.prototype.skip=function(wt,$t){if(!(this.offset+wt<=this.length))return this.error($t||"DecoderBuffer overrun");var Ct=new nt(this.base);return Ct._reporterState=this._reporterState,Ct.offset=this.offset,Ct.length=this.offset+wt,this.offset+=wt,Ct},nt.prototype.raw=function(wt){return this.base.slice(wt?wt.offset:this.offset,this.length)};function at(mt,wt){if(Array.isArray(mt))this.length=0,this.value=mt.map(function($t){return $t instanceof at||($t=new at($t,wt)),this.length+=$t.length,$t},this);else if(typeof mt=="number"){if(!(0<=mt&&mt<=255))return wt.error("non-byte EncoderBuffer value");this.value=mt,this.length=1}else if(typeof mt=="string")this.value=mt,this.length=et.byteLength(mt);else if(et.isBuffer(mt))this.value=mt,this.length=mt.length;else return wt.error("Unsupported type: "+typeof mt)}return buffer.EncoderBuffer=at,at.prototype.join=function(wt,$t){return wt||(wt=new et(this.length)),$t||($t=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Ct){Ct.join(wt,$t),$t+=Ct.length}):(typeof this.value=="number"?wt[$t]=this.value:typeof this.value=="string"?wt.write(this.value,$t):et.isBuffer(this.value)&&this.value.copy(wt,$t),$t+=this.length)),wt},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var s=requireBase().Reporter,a=requireBase().EncoderBuffer,et=requireBase().DecoderBuffer,nt=requireMinimalisticAssert(),at=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],mt=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(at),wt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function $t(Dt,Ft){var jt={};this._baseState=jt,jt.enc=Dt,jt.parent=Ft||null,jt.children=null,jt.tag=null,jt.args=null,jt.reverseArgs=null,jt.choice=null,jt.optional=!1,jt.any=!1,jt.obj=!1,jt.use=null,jt.useDecoder=null,jt.key=null,jt.default=null,jt.explicit=null,jt.implicit=null,jt.contains=null,jt.parent||(jt.children=[],this._wrap())}node=$t;var Ct=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return $t.prototype.clone=function(){var Ft=this._baseState,jt={};Ct.forEach(function(Lt){jt[Lt]=Ft[Lt]});var Nt=new this.constructor(jt.parent);return Nt._baseState=jt,Nt},$t.prototype._wrap=function(){var Ft=this._baseState;mt.forEach(function(jt){this[jt]=function(){var Lt=new this.constructor(this);return Ft.children.push(Lt),Lt[jt].apply(Lt,arguments)}},this)},$t.prototype._init=function(Ft){var jt=this._baseState;nt(jt.parent===null),Ft.call(this),jt.children=jt.children.filter(function(Nt){return Nt._baseState.parent===this},this),nt.equal(jt.children.length,1,"Root node can have only one child")},$t.prototype._useArgs=function(Ft){var jt=this._baseState,Nt=Ft.filter(function(Lt){return Lt instanceof this.constructor},this);Ft=Ft.filter(function(Lt){return!(Lt instanceof this.constructor)},this),Nt.length!==0&&(nt(jt.children===null),jt.children=Nt,Nt.forEach(function(Lt){Lt._baseState.parent=this},this)),Ft.length!==0&&(nt(jt.args===null),jt.args=Ft,jt.reverseArgs=Ft.map(function(Lt){if(typeof Lt!="object"||Lt.constructor!==Object)return Lt;var Ut={};return Object.keys(Lt).forEach(function(Vt){Vt==(Vt|0)&&(Vt|=0);var Yt=Lt[Vt];Ut[Yt]=Vt}),Ut}))},wt.forEach(function(Dt){$t.prototype[Dt]=function(){var jt=this._baseState;throw new Error(Dt+" not implemented for encoding: "+jt.enc)}}),at.forEach(function(Dt){$t.prototype[Dt]=function(){var jt=this._baseState,Nt=Array.prototype.slice.call(arguments);return nt(jt.tag===null),jt.tag=Dt,this._useArgs(Nt),this}}),$t.prototype.use=function(Ft){nt(Ft);var jt=this._baseState;return nt(jt.use===null),jt.use=Ft,this},$t.prototype.optional=function(){var Ft=this._baseState;return Ft.optional=!0,this},$t.prototype.def=function(Ft){var jt=this._baseState;return nt(jt.default===null),jt.default=Ft,jt.optional=!0,this},$t.prototype.explicit=function(Ft){var jt=this._baseState;return nt(jt.explicit===null&&jt.implicit===null),jt.explicit=Ft,this},$t.prototype.implicit=function(Ft){var jt=this._baseState;return nt(jt.explicit===null&&jt.implicit===null),jt.implicit=Ft,this},$t.prototype.obj=function(){var Ft=this._baseState,jt=Array.prototype.slice.call(arguments);return Ft.obj=!0,jt.length!==0&&this._useArgs(jt),this},$t.prototype.key=function(Ft){var jt=this._baseState;return nt(jt.key===null),jt.key=Ft,this},$t.prototype.any=function(){var Ft=this._baseState;return Ft.any=!0,this},$t.prototype.choice=function(Ft){var jt=this._baseState;return nt(jt.choice===null),jt.choice=Ft,this._useArgs(Object.keys(Ft).map(function(Nt){return Ft[Nt]})),this},$t.prototype.contains=function(Ft){var jt=this._baseState;return nt(jt.use===null),jt.contains=Ft,this},$t.prototype._decode=function(Ft,jt){var Nt=this._baseState;if(Nt.parent===null)return Ft.wrapResult(Nt.children[0]._decode(Ft,jt));var Lt=Nt.default,Ut=!0,Vt=null;if(Nt.key!==null&&(Vt=Ft.enterKey(Nt.key)),Nt.optional){var Yt=null;if(Nt.explicit!==null?Yt=Nt.explicit:Nt.implicit!==null?Yt=Nt.implicit:Nt.tag!==null&&(Yt=Nt.tag),Yt===null&&!Nt.any){var er=Ft.save();try{Nt.choice===null?this._decodeGeneric(Nt.tag,Ft,jt):this._decodeChoice(Ft,jt),Ut=!0}catch{Ut=!1}Ft.restore(er)}else if(Ut=this._peekTag(Ft,Yt,Nt.any),Ft.isError(Ut))return Ut}var tr;if(Nt.obj&&Ut&&(tr=Ft.enterObject()),Ut){if(Nt.explicit!==null){var nr=this._decodeTag(Ft,Nt.explicit);if(Ft.isError(nr))return nr;Ft=nr}var sr=Ft.offset;if(Nt.use===null&&Nt.choice===null){if(Nt.any)var er=Ft.save();var dr=this._decodeTag(Ft,Nt.implicit!==null?Nt.implicit:Nt.tag,Nt.any);if(Ft.isError(dr))return dr;Nt.any?Lt=Ft.raw(er):Ft=dr}if(jt&&jt.track&&Nt.tag!==null&&jt.track(Ft.path(),sr,Ft.length,"tagged"),jt&&jt.track&&Nt.tag!==null&&jt.track(Ft.path(),Ft.offset,Ft.length,"content"),Nt.any?Lt=Lt:Nt.choice===null?Lt=this._decodeGeneric(Nt.tag,Ft,jt):Lt=this._decodeChoice(Ft,jt),Ft.isError(Lt))return Lt;if(!Nt.any&&Nt.choice===null&&Nt.children!==null&&Nt.children.forEach(function(yr){yr._decode(Ft,jt)}),Nt.contains&&(Nt.tag==="octstr"||Nt.tag==="bitstr")){var br=new et(Lt);Lt=this._getUse(Nt.contains,Ft._reporterState.obj)._decode(br,jt)}}return Nt.obj&&Ut&&(Lt=Ft.leaveObject(tr)),Nt.key!==null&&(Lt!==null||Ut===!0)?Ft.leaveKey(Vt,Nt.key,Lt):Vt!==null&&Ft.exitKey(Vt),Lt},$t.prototype._decodeGeneric=function(Ft,jt,Nt){var Lt=this._baseState;return Ft==="seq"||Ft==="set"?null:Ft==="seqof"||Ft==="setof"?this._decodeList(jt,Ft,Lt.args[0],Nt):/str$/.test(Ft)?this._decodeStr(jt,Ft,Nt):Ft==="objid"&&Lt.args?this._decodeObjid(jt,Lt.args[0],Lt.args[1],Nt):Ft==="objid"?this._decodeObjid(jt,null,null,Nt):Ft==="gentime"||Ft==="utctime"?this._decodeTime(jt,Ft,Nt):Ft==="null_"?this._decodeNull(jt,Nt):Ft==="bool"?this._decodeBool(jt,Nt):Ft==="objDesc"?this._decodeStr(jt,Ft,Nt):Ft==="int"||Ft==="enum"?this._decodeInt(jt,Lt.args&&Lt.args[0],Nt):Lt.use!==null?this._getUse(Lt.use,jt._reporterState.obj)._decode(jt,Nt):jt.error("unknown tag: "+Ft)},$t.prototype._getUse=function(Ft,jt){var Nt=this._baseState;return Nt.useDecoder=this._use(Ft,jt),nt(Nt.useDecoder._baseState.parent===null),Nt.useDecoder=Nt.useDecoder._baseState.children[0],Nt.implicit!==Nt.useDecoder._baseState.implicit&&(Nt.useDecoder=Nt.useDecoder.clone(),Nt.useDecoder._baseState.implicit=Nt.implicit),Nt.useDecoder},$t.prototype._decodeChoice=function(Ft,jt){var Nt=this._baseState,Lt=null,Ut=!1;return Object.keys(Nt.choice).some(function(Vt){var Yt=Ft.save(),er=Nt.choice[Vt];try{var tr=er._decode(Ft,jt);if(Ft.isError(tr))return!1;Lt={type:Vt,value:tr},Ut=!0}catch{return Ft.restore(Yt),!1}return!0},this),Ut?Lt:Ft.error("Choice not matched")},$t.prototype._createEncoderBuffer=function(Ft){return new a(Ft,this.reporter)},$t.prototype._encode=function(Ft,jt,Nt){var Lt=this._baseState;if(!(Lt.default!==null&&Lt.default===Ft)){var Ut=this._encodeValue(Ft,jt,Nt);if(Ut!==void 0&&!this._skipDefault(Ut,jt,Nt))return Ut}},$t.prototype._encodeValue=function(Ft,jt,Nt){var Lt=this._baseState;if(Lt.parent===null)return Lt.children[0]._encode(Ft,jt||new s);var er=null;if(this.reporter=jt,Lt.optional&&Ft===void 0)if(Lt.default!==null)Ft=Lt.default;else return;var Ut=null,Vt=!1;if(Lt.any)er=this._createEncoderBuffer(Ft);else if(Lt.choice)er=this._encodeChoice(Ft,jt);else if(Lt.contains)Ut=this._getUse(Lt.contains,Nt)._encode(Ft,jt),Vt=!0;else if(Lt.children)Ut=Lt.children.map(function(sr){if(sr._baseState.tag==="null_")return sr._encode(null,jt,Ft);if(sr._baseState.key===null)return jt.error("Child should have a key");var dr=jt.enterKey(sr._baseState.key);if(typeof Ft!="object")return jt.error("Child expected, but input is not object");var br=sr._encode(Ft[sr._baseState.key],jt,Ft);return jt.leaveKey(dr),br},this).filter(function(sr){return sr}),Ut=this._createEncoderBuffer(Ut);else if(Lt.tag==="seqof"||Lt.tag==="setof"){if(!(Lt.args&&Lt.args.length===1))return jt.error("Too many args for : "+Lt.tag);if(!Array.isArray(Ft))return jt.error("seqof/setof, but data is not Array");var Yt=this.clone();Yt._baseState.implicit=null,Ut=this._createEncoderBuffer(Ft.map(function(sr){var dr=this._baseState;return this._getUse(dr.args[0],Ft)._encode(sr,jt)},Yt))}else Lt.use!==null?er=this._getUse(Lt.use,Nt)._encode(Ft,jt):(Ut=this._encodePrimitive(Lt.tag,Ft),Vt=!0);var er;if(!Lt.any&&Lt.choice===null){var tr=Lt.implicit!==null?Lt.implicit:Lt.tag,nr=Lt.implicit===null?"universal":"context";tr===null?Lt.use===null&&jt.error("Tag could be omitted only for .use()"):Lt.use===null&&(er=this._encodeComposite(tr,Vt,nr,Ut))}return Lt.explicit!==null&&(er=this._encodeComposite(Lt.explicit,!1,"context",er)),er},$t.prototype._encodeChoice=function(Ft,jt){var Nt=this._baseState,Lt=Nt.choice[Ft.type];return Lt||nt(!1,Ft.type+" not found in "+JSON.stringify(Object.keys(Nt.choice))),Lt._encode(Ft.value,jt)},$t.prototype._encodePrimitive=function(Ft,jt){var Nt=this._baseState;if(/str$/.test(Ft))return this._encodeStr(jt,Ft);if(Ft==="objid"&&Nt.args)return this._encodeObjid(jt,Nt.reverseArgs[0],Nt.args[1]);if(Ft==="objid")return this._encodeObjid(jt,null,null);if(Ft==="gentime"||Ft==="utctime")return this._encodeTime(jt,Ft);if(Ft==="null_")return this._encodeNull();if(Ft==="int"||Ft==="enum")return this._encodeInt(jt,Nt.args&&Nt.reverseArgs[0]);if(Ft==="bool")return this._encodeBool(jt);if(Ft==="objDesc")return this._encodeStr(jt,Ft);throw new Error("Unsupported tag: "+Ft)},$t.prototype._isNumstr=function(Ft){return/^[0-9 ]*$/.test(Ft)},$t.prototype._isPrintstr=function(Ft){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(Ft)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(s){var a=s;a.Reporter=requireReporter().Reporter,a.DecoderBuffer=requireBuffer().DecoderBuffer,a.EncoderBuffer=requireBuffer().EncoderBuffer,a.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(s){var a=requireConstants();s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=a._reverse(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=a._reverse(s.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(s){var a=s;a._reverse=function(nt){var at={};return Object.keys(nt).forEach(function(mt){(mt|0)==mt&&(mt=mt|0);var wt=nt[mt];at[wt]=mt}),at},a.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var s=requireInherits_browser(),a=requireAsn1$1(),et=a.base,nt=a.bignum,at=a.constants.der;function mt(Dt){this.enc="der",this.name=Dt.name,this.entity=Dt,this.tree=new wt,this.tree._init(Dt.body)}der_1$1=mt,mt.prototype.decode=function(Ft,jt){return Ft instanceof et.DecoderBuffer||(Ft=new et.DecoderBuffer(Ft,jt)),this.tree._decode(Ft,jt)};function wt(Dt){et.Node.call(this,"der",Dt)}s(wt,et.Node),wt.prototype._peekTag=function(Ft,jt,Nt){if(Ft.isEmpty())return!1;var Lt=Ft.save(),Ut=$t(Ft,'Failed to peek tag: "'+jt+'"');return Ft.isError(Ut)?Ut:(Ft.restore(Lt),Ut.tag===jt||Ut.tagStr===jt||Ut.tagStr+"of"===jt||Nt)},wt.prototype._decodeTag=function(Ft,jt,Nt){var Lt=$t(Ft,'Failed to decode tag of "'+jt+'"');if(Ft.isError(Lt))return Lt;var Ut=Ct(Ft,Lt.primitive,'Failed to get length of "'+jt+'"');if(Ft.isError(Ut))return Ut;if(!Nt&&Lt.tag!==jt&&Lt.tagStr!==jt&&Lt.tagStr+"of"!==jt)return Ft.error('Failed to match tag: "'+jt+'"');if(Lt.primitive||Ut!==null)return Ft.skip(Ut,'Failed to match body of: "'+jt+'"');var Vt=Ft.save(),Yt=this._skipUntilEnd(Ft,'Failed to skip indefinite length body: "'+this.tag+'"');return Ft.isError(Yt)?Yt:(Ut=Ft.offset-Vt.offset,Ft.restore(Vt),Ft.skip(Ut,'Failed to match body of: "'+jt+'"'))},wt.prototype._skipUntilEnd=function(Ft,jt){for(;;){var Nt=$t(Ft,jt);if(Ft.isError(Nt))return Nt;var Lt=Ct(Ft,Nt.primitive,jt);if(Ft.isError(Lt))return Lt;var Ut;if(Nt.primitive||Lt!==null?Ut=Ft.skip(Lt):Ut=this._skipUntilEnd(Ft,jt),Ft.isError(Ut))return Ut;if(Nt.tagStr==="end")break}},wt.prototype._decodeList=function(Ft,jt,Nt,Lt){for(var Ut=[];!Ft.isEmpty();){var Vt=this._peekTag(Ft,"end");if(Ft.isError(Vt))return Vt;var Yt=Nt.decode(Ft,"der",Lt);if(Ft.isError(Yt)&&Vt)break;Ut.push(Yt)}return Ut},wt.prototype._decodeStr=function(Ft,jt){if(jt==="bitstr"){var Nt=Ft.readUInt8();return Ft.isError(Nt)?Nt:{unused:Nt,data:Ft.raw()}}else if(jt==="bmpstr"){var Lt=Ft.raw();if(Lt.length%2===1)return Ft.error("Decoding of string type: bmpstr length mismatch");for(var Ut="",Vt=0;Vt<Lt.length/2;Vt++)Ut+=String.fromCharCode(Lt.readUInt16BE(Vt*2));return Ut}else if(jt==="numstr"){var Yt=Ft.raw().toString("ascii");return this._isNumstr(Yt)?Yt:Ft.error("Decoding of string type: numstr unsupported characters")}else{if(jt==="octstr")return Ft.raw();if(jt==="objDesc")return Ft.raw();if(jt==="printstr"){var er=Ft.raw().toString("ascii");return this._isPrintstr(er)?er:Ft.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(jt)?Ft.raw().toString():Ft.error("Decoding of string type: "+jt+" unsupported")}},wt.prototype._decodeObjid=function(Ft,jt,Nt){for(var Lt,Ut=[],Vt=0;!Ft.isEmpty();){var Yt=Ft.readUInt8();Vt<<=7,Vt|=Yt&127,Yt&128||(Ut.push(Vt),Vt=0)}Yt&128&&Ut.push(Vt);var er=Ut[0]/40|0,tr=Ut[0]%40;if(Nt?Lt=Ut:Lt=[er,tr].concat(Ut.slice(1)),jt){var nr=jt[Lt.join(" ")];nr===void 0&&(nr=jt[Lt.join(".")]),nr!==void 0&&(Lt=nr)}return Lt},wt.prototype._decodeTime=function(Ft,jt){var Nt=Ft.raw().toString();if(jt==="gentime")var Lt=Nt.slice(0,4)|0,Ut=Nt.slice(4,6)|0,Vt=Nt.slice(6,8)|0,Yt=Nt.slice(8,10)|0,er=Nt.slice(10,12)|0,tr=Nt.slice(12,14)|0;else if(jt==="utctime"){var Lt=Nt.slice(0,2)|0,Ut=Nt.slice(2,4)|0,Vt=Nt.slice(4,6)|0,Yt=Nt.slice(6,8)|0,er=Nt.slice(8,10)|0,tr=Nt.slice(10,12)|0;Lt<70?Lt=2e3+Lt:Lt=1900+Lt}else return Ft.error("Decoding "+jt+" time is not supported yet");return Date.UTC(Lt,Ut-1,Vt,Yt,er,tr,0)},wt.prototype._decodeNull=function(Ft){return null},wt.prototype._decodeBool=function(Ft){var jt=Ft.readUInt8();return Ft.isError(jt)?jt:jt!==0},wt.prototype._decodeInt=function(Ft,jt){var Nt=Ft.raw(),Lt=new nt(Nt);return jt&&(Lt=jt[Lt.toString(10)]||Lt),Lt},wt.prototype._use=function(Ft,jt){return typeof Ft=="function"&&(Ft=Ft(jt)),Ft._getDecoder("der").tree};function $t(Dt,Ft){var jt=Dt.readUInt8(Ft);if(Dt.isError(jt))return jt;var Nt=at.tagClass[jt>>6],Lt=(jt&32)===0;if((jt&31)===31){var Ut=jt;for(jt=0;(Ut&128)===128;){if(Ut=Dt.readUInt8(Ft),Dt.isError(Ut))return Ut;jt<<=7,jt|=Ut&127}}else jt&=31;var Vt=at.tag[jt];return{cls:Nt,primitive:Lt,tag:jt,tagStr:Vt}}function Ct(Dt,Ft,jt){var Nt=Dt.readUInt8(jt);if(Dt.isError(Nt))return Nt;if(!Ft&&Nt===128)return null;if(!(Nt&128))return Nt;var Lt=Nt&127;if(Lt>4)return Dt.error("length octect is too long");Nt=0;for(var Ut=0;Ut<Lt;Ut++){Nt<<=8;var Vt=Dt.readUInt8(jt);if(Dt.isError(Vt))return Vt;Nt|=Vt}return Nt}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var s=requireInherits_browser(),a=require$$1$3.Buffer,et=requireDer$1();function nt(at){et.call(this,at),this.enc="pem"}return s(nt,et),pem$1=nt,nt.prototype.decode=function(mt,wt){for(var $t=mt.toString().split(/[\r\n]+/g),Ct=wt.label.toUpperCase(),Dt=/^-----(BEGIN|END) ([^-]+)-----$/,Ft=-1,jt=-1,Nt=0;Nt<$t.length;Nt++){var Lt=$t[Nt].match(Dt);if(Lt!==null&&Lt[2]===Ct)if(Ft===-1){if(Lt[1]!=="BEGIN")break;Ft=Nt}else{if(Lt[1]!=="END")break;jt=Nt;break}}if(Ft===-1||jt===-1)throw new Error("PEM section not found for: "+Ct);var Ut=$t.slice(Ft+1,jt).join("");Ut.replace(/[^a-z0-9\+\/=]+/gi,"");var Vt=new a(Ut,"base64");return et.prototype.decode.call(this,Vt,wt)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(s){var a=s;a.der=requireDer$1(),a.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var s=requireInherits_browser(),a=require$$1$3.Buffer,et=requireAsn1$1(),nt=et.base,at=et.constants.der;function mt(Dt){this.enc="der",this.name=Dt.name,this.entity=Dt,this.tree=new wt,this.tree._init(Dt.body)}der_1=mt,mt.prototype.encode=function(Ft,jt){return this.tree._encode(Ft,jt).join()};function wt(Dt){nt.Node.call(this,"der",Dt)}s(wt,nt.Node),wt.prototype._encodeComposite=function(Ft,jt,Nt,Lt){var Ut=Ct(Ft,jt,Nt,this.reporter);if(Lt.length<128){var er=new a(2);return er[0]=Ut,er[1]=Lt.length,this._createEncoderBuffer([er,Lt])}for(var Vt=1,Yt=Lt.length;Yt>=256;Yt>>=8)Vt++;var er=new a(2+Vt);er[0]=Ut,er[1]=128|Vt;for(var Yt=1+Vt,tr=Lt.length;tr>0;Yt--,tr>>=8)er[Yt]=tr&255;return this._createEncoderBuffer([er,Lt])},wt.prototype._encodeStr=function(Ft,jt){if(jt==="bitstr")return this._createEncoderBuffer([Ft.unused|0,Ft.data]);if(jt==="bmpstr"){for(var Nt=new a(Ft.length*2),Lt=0;Lt<Ft.length;Lt++)Nt.writeUInt16BE(Ft.charCodeAt(Lt),Lt*2);return this._createEncoderBuffer(Nt)}else return jt==="numstr"?this._isNumstr(Ft)?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: numstr supports only digits and space"):jt==="printstr"?this._isPrintstr(Ft)?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(jt)?this._createEncoderBuffer(Ft):jt==="objDesc"?this._createEncoderBuffer(Ft):this.reporter.error("Encoding of string type: "+jt+" unsupported")},wt.prototype._encodeObjid=function(Ft,jt,Nt){if(typeof Ft=="string"){if(!jt)return this.reporter.error("string objid given, but no values map found");if(!jt.hasOwnProperty(Ft))return this.reporter.error("objid not found in values map");Ft=jt[Ft].split(/[\s\.]+/g);for(var Lt=0;Lt<Ft.length;Lt++)Ft[Lt]|=0}else if(Array.isArray(Ft)){Ft=Ft.slice();for(var Lt=0;Lt<Ft.length;Lt++)Ft[Lt]|=0}if(!Array.isArray(Ft))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(Ft));if(!Nt){if(Ft[1]>=40)return this.reporter.error("Second objid identifier OOB");Ft.splice(0,2,Ft[0]*40+Ft[1])}for(var Ut=0,Lt=0;Lt<Ft.length;Lt++){var Vt=Ft[Lt];for(Ut++;Vt>=128;Vt>>=7)Ut++}for(var Yt=new a(Ut),er=Yt.length-1,Lt=Ft.length-1;Lt>=0;Lt--){var Vt=Ft[Lt];for(Yt[er--]=Vt&127;(Vt>>=7)>0;)Yt[er--]=128|Vt&127}return this._createEncoderBuffer(Yt)};function $t(Dt){return Dt<10?"0"+Dt:Dt}wt.prototype._encodeTime=function(Ft,jt){var Nt,Lt=new Date(Ft);return jt==="gentime"?Nt=[$t(Lt.getFullYear()),$t(Lt.getUTCMonth()+1),$t(Lt.getUTCDate()),$t(Lt.getUTCHours()),$t(Lt.getUTCMinutes()),$t(Lt.getUTCSeconds()),"Z"].join(""):jt==="utctime"?Nt=[$t(Lt.getFullYear()%100),$t(Lt.getUTCMonth()+1),$t(Lt.getUTCDate()),$t(Lt.getUTCHours()),$t(Lt.getUTCMinutes()),$t(Lt.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+jt+" time is not supported yet"),this._encodeStr(Nt,"octstr")},wt.prototype._encodeNull=function(){return this._createEncoderBuffer("")},wt.prototype._encodeInt=function(Ft,jt){if(typeof Ft=="string"){if(!jt)return this.reporter.error("String int or enum given, but no values map");if(!jt.hasOwnProperty(Ft))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(Ft));Ft=jt[Ft]}if(typeof Ft!="number"&&!a.isBuffer(Ft)){var Nt=Ft.toArray();!Ft.sign&&Nt[0]&128&&Nt.unshift(0),Ft=new a(Nt)}if(a.isBuffer(Ft)){var Lt=Ft.length;Ft.length===0&&Lt++;var Vt=new a(Lt);return Ft.copy(Vt),Ft.length===0&&(Vt[0]=0),this._createEncoderBuffer(Vt)}if(Ft<128)return this._createEncoderBuffer(Ft);if(Ft<256)return this._createEncoderBuffer([0,Ft]);for(var Lt=1,Ut=Ft;Ut>=256;Ut>>=8)Lt++;for(var Vt=new Array(Lt),Ut=Vt.length-1;Ut>=0;Ut--)Vt[Ut]=Ft&255,Ft>>=8;return Vt[0]&128&&Vt.unshift(0),this._createEncoderBuffer(new a(Vt))},wt.prototype._encodeBool=function(Ft){return this._createEncoderBuffer(Ft?255:0)},wt.prototype._use=function(Ft,jt){return typeof Ft=="function"&&(Ft=Ft(jt)),Ft._getEncoder("der").tree},wt.prototype._skipDefault=function(Ft,jt,Nt){var Lt=this._baseState,Ut;if(Lt.default===null)return!1;var Vt=Ft.join();if(Lt.defaultBuffer===void 0&&(Lt.defaultBuffer=this._encodeValue(Lt.default,jt,Nt).join()),Vt.length!==Lt.defaultBuffer.length)return!1;for(Ut=0;Ut<Vt.length;Ut++)if(Vt[Ut]!==Lt.defaultBuffer[Ut])return!1;return!0};function Ct(Dt,Ft,jt,Nt){var Lt;if(Dt==="seqof"?Dt="seq":Dt==="setof"&&(Dt="set"),at.tagByName.hasOwnProperty(Dt))Lt=at.tagByName[Dt];else if(typeof Dt=="number"&&(Dt|0)===Dt)Lt=Dt;else return Nt.error("Unknown tag: "+Dt);return Lt>=31?Nt.error("Multi-octet tag encoding unsupported"):(Ft||(Lt|=32),Lt|=at.tagClassByName[jt||"universal"]<<6,Lt)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var s=requireInherits_browser(),a=requireDer();function et(nt){a.call(this,nt),this.enc="pem"}return s(et,a),pem=et,et.prototype.encode=function(at,mt){for(var wt=a.prototype.encode.call(this,at),$t=wt.toString("base64"),Ct=["-----BEGIN "+mt.label+"-----"],Dt=0;Dt<$t.length;Dt+=64)Ct.push($t.slice(Dt,Dt+64));return Ct.push("-----END "+mt.label+"-----"),Ct.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(s){var a=s;a.der=requireDer(),a.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(s){var a=s;a.bignum=requireBn(),a.define=requireApi().define,a.base=requireBase(),a.constants=requireConstants(),a.decoders=requireDecoders(),a.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var s=requireAsn1$1(),a=s.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),et=s.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),nt=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),at=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nt),this.key("subjectPublicKey").bitstr())}),mt=s.define("RelativeDistinguishedName",function(){this.setof(et)}),wt=s.define("RDNSequence",function(){this.seqof(mt)}),$t=s.define("Name",function(){this.choice({rdnSequence:this.use(wt)})}),Ct=s.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))}),Dt=s.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Ft=s.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(nt),this.key("issuer").use($t),this.key("validity").use(Ct),this.key("subject").use($t),this.key("subjectPublicKeyInfo").use(at),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Dt).optional())}),jt=s.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Ft),this.key("signatureAlgorithm").use(nt),this.key("signatureValue").bitstr())});return certificate=jt,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var s=requireAsn1$1();asn1$1.certificate=requireCertificate();var a=s.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=a;var et=s.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=et;var nt=s.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),at=s.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nt),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=at;var mt=s.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(nt),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=mt;var wt=s.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=wt;var $t=s.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=$t,asn1$1.DSAparam=s.define("DSAparam",function(){this.int()});var Ct=s.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Dt=s.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Ct),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Dt,asn1$1.signature=s.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,et=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,nt=requireEvp_bytestokey(),at=requireBrowser$6(),mt=requireSafeBuffer$1().Buffer;return fixProc=function(wt,$t){var Ct=wt.toString(),Dt=Ct.match(s),Ft;if(Dt){var Nt="aes"+Dt[1],Lt=mt.from(Dt[2],"hex"),Ut=mt.from(Dt[3].replace(/[\r\n]/g,""),"base64"),Vt=nt($t,Lt.slice(0,8),parseInt(Dt[1],10)).key,Yt=[],er=at.createDecipheriv(Nt,Vt,Lt);Yt.push(er.update(Ut)),Yt.push(er.final()),Ft=mt.concat(Yt)}else{var jt=Ct.match(et);Ft=mt.from(jt[2].replace(/[\r\n]/g,""),"base64")}var tr=Ct.match(a)[1];return{tag:tr,data:Ft}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var s=requireAsn1(),a=require$$1,et=requireFixProc(),nt=requireBrowser$6(),at=requireBrowser$7(),mt=requireSafeBuffer$1().Buffer;function wt(Ct,Dt){var Ft=Ct.algorithm.decrypt.kde.kdeparams.salt,jt=parseInt(Ct.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Nt=a[Ct.algorithm.decrypt.cipher.algo.join(".")],Lt=Ct.algorithm.decrypt.cipher.iv,Ut=Ct.subjectPrivateKey,Vt=parseInt(Nt.split("-")[1],10)/8,Yt=at.pbkdf2Sync(Dt,Ft,jt,Vt,"sha1"),er=nt.createDecipheriv(Nt,Yt,Lt),tr=[];return tr.push(er.update(Ut)),tr.push(er.final()),mt.concat(tr)}function $t(Ct){var Dt;typeof Ct=="object"&&!mt.isBuffer(Ct)&&(Dt=Ct.passphrase,Ct=Ct.key),typeof Ct=="string"&&(Ct=mt.from(Ct));var Ft=et(Ct,Dt),jt=Ft.tag,Nt=Ft.data,Lt,Ut;switch(jt){case"CERTIFICATE":Ut=s.certificate.decode(Nt,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Ut||(Ut=s.PublicKey.decode(Nt,"der")),Lt=Ut.algorithm.algorithm.join("."),Lt){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(Ut.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Ut.subjectPrivateKey=Ut.subjectPublicKey,{type:"ec",data:Ut};case"1.2.840.10040.4.1":return Ut.algorithm.params.pub_key=s.DSAparam.decode(Ut.subjectPublicKey.data,"der"),{type:"dsa",data:Ut.algorithm.params};default:throw new Error("unknown key id "+Lt)}case"ENCRYPTED PRIVATE KEY":Nt=s.EncryptedPrivateKey.decode(Nt,"der"),Nt=wt(Nt,Dt);case"PRIVATE KEY":switch(Ut=s.PrivateKey.decode(Nt,"der"),Lt=Ut.algorithm.algorithm.join("."),Lt){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(Ut.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Ut.algorithm.curve,privateKey:s.ECPrivateKey.decode(Ut.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Ut.algorithm.params.priv_key=s.DSAparam.decode(Ut.subjectPrivateKey,"der"),{type:"dsa",params:Ut.algorithm.params};default:throw new Error("unknown key id "+Lt)}case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(Nt,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(Nt,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(Nt,"der")};case"EC PRIVATE KEY":return Nt=s.ECPrivateKey.decode(Nt,"der"),{curve:Nt.parameters.value,privateKey:Nt.privateKey};default:throw new Error("unknown key type "+jt)}}return $t.signature=s.signature,parseAsn1=$t,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var s=requireSafeBuffer$1().Buffer,a=requireBrowser$8(),et=requireBrowserifyRsa(),nt=requireElliptic().ec,at=bnExports,mt=requireParseAsn1(),wt=require$$4,$t=1;function Ct(er,tr,nr,sr,dr){var br=mt(tr);if(br.curve){if(sr!=="ecdsa"&&sr!=="ecdsa/rsa")throw new Error("wrong private key type");return Dt(er,br)}else if(br.type==="dsa"){if(sr!=="dsa")throw new Error("wrong private key type");return Ft(er,br,nr)}if(sr!=="rsa"&&sr!=="ecdsa/rsa")throw new Error("wrong private key type");if(tr.padding!==void 0&&tr.padding!==$t)throw new Error("illegal or unsupported padding mode");er=s.concat([dr,er]);for(var vr=br.modulus.byteLength(),yr=[0,1];er.length+yr.length+1<vr;)yr.push(255);yr.push(0);for(var $r=-1;++$r<er.length;)yr.push(er[$r]);var Sr=et(yr,br);return Sr}function Dt(er,tr){var nr=wt[tr.curve.join(".")];if(!nr)throw new Error("unknown curve "+tr.curve.join("."));var sr=new nt(nr),dr=sr.keyFromPrivate(tr.privateKey),br=dr.sign(er);return s.from(br.toDER())}function Ft(er,tr,nr){for(var sr=tr.params.priv_key,dr=tr.params.p,br=tr.params.q,vr=tr.params.g,yr=new at(0),$r,Sr=Lt(er,br).mod(br),wr=!1,fr=Nt(sr,br,er,nr);wr===!1;)$r=Vt(br,fr,nr),yr=Yt(vr,$r,dr,br),wr=$r.invm(br).imul(Sr.add(sr.mul(yr))).mod(br),wr.cmpn(0)===0&&(wr=!1,yr=new at(0));return jt(yr,wr)}function jt(er,tr){er=er.toArray(),tr=tr.toArray(),er[0]&128&&(er=[0].concat(er)),tr[0]&128&&(tr=[0].concat(tr));var nr=er.length+tr.length+4,sr=[48,nr,2,er.length];return sr=sr.concat(er,[2,tr.length],tr),s.from(sr)}function Nt(er,tr,nr,sr){if(er=s.from(er.toArray()),er.length<tr.byteLength()){var dr=s.alloc(tr.byteLength()-er.length);er=s.concat([dr,er])}var br=nr.length,vr=Ut(nr,tr),yr=s.alloc(br);yr.fill(1);var $r=s.alloc(br);return $r=a(sr,$r).update(yr).update(s.from([0])).update(er).update(vr).digest(),yr=a(sr,$r).update(yr).digest(),$r=a(sr,$r).update(yr).update(s.from([1])).update(er).update(vr).digest(),yr=a(sr,$r).update(yr).digest(),{k:$r,v:yr}}function Lt(er,tr){var nr=new at(er),sr=(er.length<<3)-tr.bitLength();return sr>0&&nr.ishrn(sr),nr}function Ut(er,tr){er=Lt(er,tr),er=er.mod(tr);var nr=s.from(er.toArray());if(nr.length<tr.byteLength()){var sr=s.alloc(tr.byteLength()-nr.length);nr=s.concat([sr,nr])}return nr}function Vt(er,tr,nr){var sr,dr;do{for(sr=s.alloc(0);sr.length*8<er.bitLength();)tr.v=a(nr,tr.k).update(tr.v).digest(),sr=s.concat([sr,tr.v]);dr=Lt(sr,er),tr.k=a(nr,tr.k).update(tr.v).update(s.from([0])).digest(),tr.v=a(nr,tr.k).update(tr.v).digest()}while(dr.cmp(er)!==-1);return dr}function Yt(er,tr,nr,sr){return er.toRed(at.mont(nr)).redPow(tr).fromRed().mod(sr)}return sign.exports=Ct,sign.exports.getKey=Nt,sign.exports.makeKey=Vt,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var s=requireSafeBuffer$1().Buffer,a=bnExports,et=requireElliptic().ec,nt=requireParseAsn1(),at=require$$4;function mt(Dt,Ft,jt,Nt,Lt){var Ut=nt(jt);if(Ut.type==="ec"){if(Nt!=="ecdsa"&&Nt!=="ecdsa/rsa")throw new Error("wrong public key type");return wt(Dt,Ft,Ut)}else if(Ut.type==="dsa"){if(Nt!=="dsa")throw new Error("wrong public key type");return $t(Dt,Ft,Ut)}if(Nt!=="rsa"&&Nt!=="ecdsa/rsa")throw new Error("wrong public key type");Ft=s.concat([Lt,Ft]);for(var Vt=Ut.modulus.byteLength(),Yt=[1],er=0;Ft.length+Yt.length+2<Vt;)Yt.push(255),er+=1;Yt.push(0);for(var tr=-1;++tr<Ft.length;)Yt.push(Ft[tr]);Yt=s.from(Yt);var nr=a.mont(Ut.modulus);Dt=new a(Dt).toRed(nr),Dt=Dt.redPow(new a(Ut.publicExponent)),Dt=s.from(Dt.fromRed().toArray());var sr=er<8?1:0;for(Vt=Math.min(Dt.length,Yt.length),Dt.length!==Yt.length&&(sr=1),tr=-1;++tr<Vt;)sr|=Dt[tr]^Yt[tr];return sr===0}function wt(Dt,Ft,jt){var Nt=at[jt.data.algorithm.curve.join(".")];if(!Nt)throw new Error("unknown curve "+jt.data.algorithm.curve.join("."));var Lt=new et(Nt),Ut=jt.data.subjectPrivateKey.data;return Lt.verify(Ft,Dt,Ut)}function $t(Dt,Ft,jt){var Nt=jt.data.p,Lt=jt.data.q,Ut=jt.data.g,Vt=jt.data.pub_key,Yt=nt.signature.decode(Dt,"der"),er=Yt.s,tr=Yt.r;Ct(er,Lt),Ct(tr,Lt);var nr=a.mont(Nt),sr=er.invm(Lt),dr=Ut.toRed(nr).redPow(new a(Ft).mul(sr).mod(Lt)).fromRed().mul(Vt.toRed(nr).redPow(tr.mul(sr).mod(Lt)).fromRed()).mod(Nt).mod(Lt);return dr.cmp(tr)===0}function Ct(Dt,Ft){if(Dt.cmpn(0)<=0)throw new Error("invalid sig");if(Dt.cmp(Ft)>=0)throw new Error("invalid sig")}return verify_1=mt,verify_1}var browser$5,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$5;hasRequiredBrowser$3=1;var s=requireSafeBuffer$1().Buffer,a=requireBrowser$9(),et=requireReadableBrowser(),nt=requireInherits_browser(),at=requireSign(),mt=requireVerify(),wt=require$$6;Object.keys(wt).forEach(function(jt){wt[jt].id=s.from(wt[jt].id,"hex"),wt[jt.toLowerCase()]=wt[jt]});function $t(jt){et.Writable.call(this);var Nt=wt[jt];if(!Nt)throw new Error("Unknown message digest");this._hashType=Nt.hash,this._hash=a(Nt.hash),this._tag=Nt.id,this._signType=Nt.sign}nt($t,et.Writable),$t.prototype._write=function(Nt,Lt,Ut){this._hash.update(Nt),Ut()},$t.prototype.update=function(Nt,Lt){return this._hash.update(typeof Nt=="string"?s.from(Nt,Lt):Nt),this},$t.prototype.sign=function(Nt,Lt){this.end();var Ut=this._hash.digest(),Vt=at(Ut,Nt,this._hashType,this._signType,this._tag);return Lt?Vt.toString(Lt):Vt};function Ct(jt){et.Writable.call(this);var Nt=wt[jt];if(!Nt)throw new Error("Unknown message digest");this._hash=a(Nt.hash),this._tag=Nt.id,this._signType=Nt.sign}nt(Ct,et.Writable),Ct.prototype._write=function(Nt,Lt,Ut){this._hash.update(Nt),Ut()},Ct.prototype.update=function(Nt,Lt){return this._hash.update(typeof Nt=="string"?s.from(Nt,Lt):Nt),this},Ct.prototype.verify=function(Nt,Lt,Ut){var Vt=typeof Lt=="string"?s.from(Lt,Ut):Lt;this.end();var Yt=this._hash.digest();return mt(Vt,Yt,Nt,this._signType,this._tag)};function Dt(jt){return new $t(jt)}function Ft(jt){return new Ct(jt)}return browser$5={Sign:Dt,Verify:Ft,createSign:Dt,createVerify:Ft},browser$5}var browser$4,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$4;hasRequiredBrowser$2=1;var s=requireElliptic(),a=requireBn();browser$4=function(wt){return new nt(wt)};var et={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};et.p224=et.secp224r1,et.p256=et.secp256r1=et.prime256v1,et.p192=et.secp192r1=et.prime192v1,et.p384=et.secp384r1,et.p521=et.secp521r1;function nt(mt){this.curveType=et[mt],this.curveType||(this.curveType={name:mt}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}nt.prototype.generateKeys=function(mt,wt){return this.keys=this.curve.genKeyPair(),this.getPublicKey(mt,wt)},nt.prototype.computeSecret=function(mt,wt,$t){wt=wt||"utf8",Buffer$1.isBuffer(mt)||(mt=new Buffer$1(mt,wt));var Ct=this.curve.keyFromPublic(mt).getPublic(),Dt=Ct.mul(this.keys.getPrivate()).getX();return at(Dt,$t,this.curveType.byteLength)},nt.prototype.getPublicKey=function(mt,wt){var $t=this.keys.getPublic(wt==="compressed",!0);return wt==="hybrid"&&($t[$t.length-1]%2?$t[0]=7:$t[0]=6),at($t,mt)},nt.prototype.getPrivateKey=function(mt){return at(this.keys.getPrivate(),mt)},nt.prototype.setPublicKey=function(mt,wt){return wt=wt||"utf8",Buffer$1.isBuffer(mt)||(mt=new Buffer$1(mt,wt)),this.keys._importPublic(mt),this},nt.prototype.setPrivateKey=function(mt,wt){wt=wt||"utf8",Buffer$1.isBuffer(mt)||(mt=new Buffer$1(mt,wt));var $t=new a(mt);return $t=$t.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate($t),this};function at(mt,wt,$t){Array.isArray(mt)||(mt=mt.toArray());var Ct=new Buffer$1(mt);if($t&&Ct.length<$t){var Dt=new Buffer$1($t-Ct.length);Dt.fill(0),Ct=Buffer$1.concat([Dt,Ct])}return wt?Ct.toString(wt):Ct}return browser$4}var browser$3={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var s=requireBrowser$9(),a=requireSafeBuffer$1().Buffer;mgf=function(nt,at){for(var mt=a.alloc(0),wt=0,$t;mt.length<at;)$t=et(wt++),mt=a.concat([mt,s("sha1").update(nt).update($t).digest()]);return mt.slice(0,at)};function et(nt){var at=a.allocUnsafe(4);return at.writeUInt32BE(nt,0),at}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(a,et){for(var nt=a.length,at=-1;++at<nt;)a[at]^=et[at];return a}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var s=requireBn(),a=requireSafeBuffer$1().Buffer;function et(nt,at){return a.from(nt.toRed(s.mont(at.modulus)).redPow(new s(at.publicExponent)).fromRed().toArray())}return withPublic_1=et,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var s=requireParseAsn1(),a=requireBrowser$b(),et=requireBrowser$9(),nt=requireMgf(),at=requireXor(),mt=requireBn(),wt=requireWithPublic(),$t=requireBrowserifyRsa(),Ct=requireSafeBuffer$1().Buffer;publicEncrypt=function(Lt,Ut,Vt){var Yt;Lt.padding?Yt=Lt.padding:Vt?Yt=1:Yt=4;var er=s(Lt),tr;if(Yt===4)tr=Dt(er,Ut);else if(Yt===1)tr=Ft(er,Ut,Vt);else if(Yt===3){if(tr=new mt(Ut),tr.cmp(er.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Vt?$t(tr,er):wt(tr,er)};function Dt(Nt,Lt){var Ut=Nt.modulus.byteLength(),Vt=Lt.length,Yt=et("sha1").update(Ct.alloc(0)).digest(),er=Yt.length,tr=2*er;if(Vt>Ut-tr-2)throw new Error("message too long");var nr=Ct.alloc(Ut-Vt-tr-2),sr=Ut-er-1,dr=a(er),br=at(Ct.concat([Yt,nr,Ct.alloc(1,1),Lt],sr),nt(dr,sr)),vr=at(dr,nt(br,er));return new mt(Ct.concat([Ct.alloc(1),vr,br],Ut))}function Ft(Nt,Lt,Ut){var Vt=Lt.length,Yt=Nt.modulus.byteLength();if(Vt>Yt-11)throw new Error("message too long");var er;return Ut?er=Ct.alloc(Yt-Vt-3,255):er=jt(Yt-Vt-3),new mt(Ct.concat([Ct.from([0,Ut?1:2]),er,Ct.alloc(1),Lt],Yt))}function jt(Nt){for(var Lt=Ct.allocUnsafe(Nt),Ut=0,Vt=a(Nt*2),Yt=0,er;Ut<Nt;)Yt===Vt.length&&(Vt=a(Nt*2),Yt=0),er=Vt[Yt++],er&&(Lt[Ut++]=er);return Lt}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var s=requireParseAsn1(),a=requireMgf(),et=requireXor(),nt=requireBn(),at=requireBrowserifyRsa(),mt=requireBrowser$9(),wt=requireWithPublic(),$t=requireSafeBuffer$1().Buffer;privateDecrypt=function(Nt,Lt,Ut){var Vt;Nt.padding?Vt=Nt.padding:Ut?Vt=1:Vt=4;var Yt=s(Nt),er=Yt.modulus.byteLength();if(Lt.length>er||new nt(Lt).cmp(Yt.modulus)>=0)throw new Error("decryption error");var tr;Ut?tr=wt(new nt(Lt),Yt):tr=at(Lt,Yt);var nr=$t.alloc(er-tr.length);if(tr=$t.concat([nr,tr],er),Vt===4)return Ct(Yt,tr);if(Vt===1)return Dt(Yt,tr,Ut);if(Vt===3)return tr;throw new Error("unknown padding")};function Ct(jt,Nt){var Lt=jt.modulus.byteLength(),Ut=mt("sha1").update($t.alloc(0)).digest(),Vt=Ut.length;if(Nt[0]!==0)throw new Error("decryption error");var Yt=Nt.slice(1,Vt+1),er=Nt.slice(Vt+1),tr=et(Yt,a(er,Vt)),nr=et(er,a(tr,Lt-Vt-1));if(Ft(Ut,nr.slice(0,Vt)))throw new Error("decryption error");for(var sr=Vt;nr[sr]===0;)sr++;if(nr[sr++]!==1)throw new Error("decryption error");return nr.slice(sr)}function Dt(jt,Nt,Lt){for(var Ut=Nt.slice(0,2),Vt=2,Yt=0;Nt[Vt++]!==0;)if(Vt>=Nt.length){Yt++;break}var er=Nt.slice(2,Vt-1);if((Ut.toString("hex")!=="0002"&&!Lt||Ut.toString("hex")!=="0001"&&Lt)&&Yt++,er.length<8&&Yt++,Yt)throw new Error("decryption error");return Nt.slice(Vt)}function Ft(jt,Nt){jt=$t.from(jt),Nt=$t.from(Nt);var Lt=0,Ut=jt.length;jt.length!==Nt.length&&(Lt++,Ut=Math.min(jt.length,Nt.length));for(var Vt=-1;++Vt<Ut;)Lt+=jt[Vt]^Nt[Vt];return Lt}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(s){s.publicEncrypt=requirePublicEncrypt(),s.privateDecrypt=requirePrivateDecrypt(),s.privateEncrypt=function(et,nt){return s.publicEncrypt(et,nt,!0)},s.publicDecrypt=function(et,nt){return s.privateDecrypt(et,nt,!0)}}(browser$3)),browser$3}var browser$2={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$2;hasRequiredBrowser=1;function s(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=requireSafeBuffer$1(),et=requireBrowser$b(),nt=a.Buffer,at=a.kMaxLength,mt=commonjsGlobal$1.crypto||commonjsGlobal$1.msCrypto,wt=Math.pow(2,32)-1;function $t(Nt,Lt){if(typeof Nt!="number"||Nt!==Nt)throw new TypeError("offset must be a number");if(Nt>wt||Nt<0)throw new TypeError("offset must be a uint32");if(Nt>at||Nt>Lt)throw new RangeError("offset out of range")}function Ct(Nt,Lt,Ut){if(typeof Nt!="number"||Nt!==Nt)throw new TypeError("size must be a number");if(Nt>wt||Nt<0)throw new TypeError("size must be a uint32");if(Nt+Lt>Ut||Nt>at)throw new RangeError("buffer too small")}mt&&mt.getRandomValues||!process$1.browser?(browser$2.randomFill=Dt,browser$2.randomFillSync=jt):(browser$2.randomFill=s,browser$2.randomFillSync=s);function Dt(Nt,Lt,Ut,Vt){if(!nt.isBuffer(Nt)&&!(Nt instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof Lt=="function")Vt=Lt,Lt=0,Ut=Nt.length;else if(typeof Ut=="function")Vt=Ut,Ut=Nt.length-Lt;else if(typeof Vt!="function")throw new TypeError('"cb" argument must be a function');return $t(Lt,Nt.length),Ct(Ut,Lt,Nt.length),Ft(Nt,Lt,Ut,Vt)}function Ft(Nt,Lt,Ut,Vt){if(process$1.browser){var Yt=Nt.buffer,er=new Uint8Array(Yt,Lt,Ut);if(mt.getRandomValues(er),Vt){process$1.nextTick(function(){Vt(null,Nt)});return}return Nt}if(Vt){et(Ut,function(nr,sr){if(nr)return Vt(nr);sr.copy(Nt,Lt),Vt(null,Nt)});return}var tr=et(Ut);return tr.copy(Nt,Lt),Nt}function jt(Nt,Lt,Ut){if(typeof Lt>"u"&&(Lt=0),!nt.isBuffer(Nt)&&!(Nt instanceof commonjsGlobal$1.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return $t(Lt,Nt.length),Ut===void 0&&(Ut=Nt.length-Lt),Ct(Ut,Lt,Nt.length),Ft(Nt,Lt,Ut)}return browser$2}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var s=requireAlgos(),a=Object.keys(s),et=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);cryptoBrowserify.getHashes=function(){return et};var nt=requireBrowser$7();cryptoBrowserify.pbkdf2=nt.pbkdf2,cryptoBrowserify.pbkdf2Sync=nt.pbkdf2Sync;var at=requireBrowser$5();cryptoBrowserify.Cipher=at.Cipher,cryptoBrowserify.createCipher=at.createCipher,cryptoBrowserify.Cipheriv=at.Cipheriv,cryptoBrowserify.createCipheriv=at.createCipheriv,cryptoBrowserify.Decipher=at.Decipher,cryptoBrowserify.createDecipher=at.createDecipher,cryptoBrowserify.Decipheriv=at.Decipheriv,cryptoBrowserify.createDecipheriv=at.createDecipheriv,cryptoBrowserify.getCiphers=at.getCiphers,cryptoBrowserify.listCiphers=at.listCiphers;var mt=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=mt.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=mt.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=mt.getDiffieHellman,cryptoBrowserify.createDiffieHellman=mt.createDiffieHellman,cryptoBrowserify.DiffieHellman=mt.DiffieHellman;var wt=requireBrowser$3();cryptoBrowserify.createSign=wt.createSign,cryptoBrowserify.Sign=wt.Sign,cryptoBrowserify.createVerify=wt.createVerify,cryptoBrowserify.Verify=wt.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var $t=requireBrowser$1();cryptoBrowserify.publicEncrypt=$t.publicEncrypt,cryptoBrowserify.privateEncrypt=$t.privateEncrypt,cryptoBrowserify.publicDecrypt=$t.publicDecrypt,cryptoBrowserify.privateDecrypt=$t.privateDecrypt;var Ct=requireBrowser();return cryptoBrowserify.randomFill=Ct.randomFill,cryptoBrowserify.randomFillSync=Ct.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(s,a){(function(et,nt){s.exports=nt()})(commonjsGlobal$1,function(){var et=et||function(nt,at){var mt;if(typeof window<"u"&&window.crypto&&(mt=window.crypto),typeof self<"u"&&self.crypto&&(mt=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(mt=globalThis.crypto),!mt&&typeof window<"u"&&window.msCrypto&&(mt=window.msCrypto),!mt&&typeof commonjsGlobal$1<"u"&&commonjsGlobal$1.crypto&&(mt=commonjsGlobal$1.crypto),!mt&&typeof commonjsRequire=="function")try{mt=requireCryptoBrowserify()}catch{}var wt=function(){if(mt){if(typeof mt.getRandomValues=="function")try{return mt.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof mt.randomBytes=="function")try{return mt.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},$t=Object.create||function(){function tr(){}return function(nr){var sr;return tr.prototype=nr,sr=new tr,tr.prototype=null,sr}}(),Ct={},Dt=Ct.lib={},Ft=Dt.Base=function(){return{extend:function(tr){var nr=$t(this);return tr&&nr.mixIn(tr),(!nr.hasOwnProperty("init")||this.init===nr.init)&&(nr.init=function(){nr.$super.init.apply(this,arguments)}),nr.init.prototype=nr,nr.$super=this,nr},create:function(){var tr=this.extend();return tr.init.apply(tr,arguments),tr},init:function(){},mixIn:function(tr){for(var nr in tr)tr.hasOwnProperty(nr)&&(this[nr]=tr[nr]);tr.hasOwnProperty("toString")&&(this.toString=tr.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),jt=Dt.WordArray=Ft.extend({init:function(tr,nr){tr=this.words=tr||[],nr!=at?this.sigBytes=nr:this.sigBytes=tr.length*4},toString:function(tr){return(tr||Lt).stringify(this)},concat:function(tr){var nr=this.words,sr=tr.words,dr=this.sigBytes,br=tr.sigBytes;if(this.clamp(),dr%4)for(var vr=0;vr<br;vr++){var yr=sr[vr>>>2]>>>24-vr%4*8&255;nr[dr+vr>>>2]|=yr<<24-(dr+vr)%4*8}else for(var $r=0;$r<br;$r+=4)nr[dr+$r>>>2]=sr[$r>>>2];return this.sigBytes+=br,this},clamp:function(){var tr=this.words,nr=this.sigBytes;tr[nr>>>2]&=4294967295<<32-nr%4*8,tr.length=nt.ceil(nr/4)},clone:function(){var tr=Ft.clone.call(this);return tr.words=this.words.slice(0),tr},random:function(tr){for(var nr=[],sr=0;sr<tr;sr+=4)nr.push(wt());return new jt.init(nr,tr)}}),Nt=Ct.enc={},Lt=Nt.Hex={stringify:function(tr){for(var nr=tr.words,sr=tr.sigBytes,dr=[],br=0;br<sr;br++){var vr=nr[br>>>2]>>>24-br%4*8&255;dr.push((vr>>>4).toString(16)),dr.push((vr&15).toString(16))}return dr.join("")},parse:function(tr){for(var nr=tr.length,sr=[],dr=0;dr<nr;dr+=2)sr[dr>>>3]|=parseInt(tr.substr(dr,2),16)<<24-dr%8*4;return new jt.init(sr,nr/2)}},Ut=Nt.Latin1={stringify:function(tr){for(var nr=tr.words,sr=tr.sigBytes,dr=[],br=0;br<sr;br++){var vr=nr[br>>>2]>>>24-br%4*8&255;dr.push(String.fromCharCode(vr))}return dr.join("")},parse:function(tr){for(var nr=tr.length,sr=[],dr=0;dr<nr;dr++)sr[dr>>>2]|=(tr.charCodeAt(dr)&255)<<24-dr%4*8;return new jt.init(sr,nr)}},Vt=Nt.Utf8={stringify:function(tr){try{return decodeURIComponent(escape(Ut.stringify(tr)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(tr){return Ut.parse(unescape(encodeURIComponent(tr)))}},Yt=Dt.BufferedBlockAlgorithm=Ft.extend({reset:function(){this._data=new jt.init,this._nDataBytes=0},_append:function(tr){typeof tr=="string"&&(tr=Vt.parse(tr)),this._data.concat(tr),this._nDataBytes+=tr.sigBytes},_process:function(tr){var nr,sr=this._data,dr=sr.words,br=sr.sigBytes,vr=this.blockSize,yr=vr*4,$r=br/yr;tr?$r=nt.ceil($r):$r=nt.max(($r|0)-this._minBufferSize,0);var Sr=$r*vr,wr=nt.min(Sr*4,br);if(Sr){for(var fr=0;fr<Sr;fr+=vr)this._doProcessBlock(dr,fr);nr=dr.splice(0,Sr),sr.sigBytes-=wr}return new jt.init(nr,wr)},clone:function(){var tr=Ft.clone.call(this);return tr._data=this._data.clone(),tr},_minBufferSize:0});Dt.Hasher=Yt.extend({cfg:Ft.extend(),init:function(tr){this.cfg=this.cfg.extend(tr),this.reset()},reset:function(){Yt.reset.call(this),this._doReset()},update:function(tr){return this._append(tr),this._process(),this},finalize:function(tr){tr&&this._append(tr);var nr=this._doFinalize();return nr},blockSize:16,_createHelper:function(tr){return function(nr,sr){return new tr.init(sr).finalize(nr)}},_createHmacHelper:function(tr){return function(nr,sr){return new er.HMAC.init(tr,sr).finalize(nr)}}});var er=Ct.algo={};return Ct}(Math);return et})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.Base,$t=mt.WordArray,Ct=at.x64={};Ct.Word=wt.extend({init:function(Dt,Ft){this.high=Dt,this.low=Ft}}),Ct.WordArray=wt.extend({init:function(Dt,Ft){Dt=this.words=Dt||[],Ft!=nt?this.sigBytes=Ft:this.sigBytes=Dt.length*8},toX32:function(){for(var Dt=this.words,Ft=Dt.length,jt=[],Nt=0;Nt<Ft;Nt++){var Lt=Dt[Nt];jt.push(Lt.high),jt.push(Lt.low)}return $t.create(jt,this.sigBytes)},clone:function(){for(var Dt=wt.clone.call(this),Ft=Dt.words=this.words.slice(0),jt=Ft.length,Nt=0;Nt<jt;Nt++)Ft[Nt]=Ft[Nt].clone();return Dt}})}(),et})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){if(typeof ArrayBuffer=="function"){var nt=et,at=nt.lib,mt=at.WordArray,wt=mt.init,$t=mt.init=function(Ct){if(Ct instanceof ArrayBuffer&&(Ct=new Uint8Array(Ct)),(Ct instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Ct instanceof Uint8ClampedArray||Ct instanceof Int16Array||Ct instanceof Uint16Array||Ct instanceof Int32Array||Ct instanceof Uint32Array||Ct instanceof Float32Array||Ct instanceof Float64Array)&&(Ct=new Uint8Array(Ct.buffer,Ct.byteOffset,Ct.byteLength)),Ct instanceof Uint8Array){for(var Dt=Ct.byteLength,Ft=[],jt=0;jt<Dt;jt++)Ft[jt>>>2]|=Ct[jt]<<24-jt%4*8;wt.call(this,Ft,Dt)}else wt.apply(this,arguments)};$t.prototype=mt}}(),et.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.enc;wt.Utf16=wt.Utf16BE={stringify:function(Ct){for(var Dt=Ct.words,Ft=Ct.sigBytes,jt=[],Nt=0;Nt<Ft;Nt+=2){var Lt=Dt[Nt>>>2]>>>16-Nt%4*8&65535;jt.push(String.fromCharCode(Lt))}return jt.join("")},parse:function(Ct){for(var Dt=Ct.length,Ft=[],jt=0;jt<Dt;jt++)Ft[jt>>>1]|=Ct.charCodeAt(jt)<<16-jt%2*16;return mt.create(Ft,Dt*2)}},wt.Utf16LE={stringify:function(Ct){for(var Dt=Ct.words,Ft=Ct.sigBytes,jt=[],Nt=0;Nt<Ft;Nt+=2){var Lt=$t(Dt[Nt>>>2]>>>16-Nt%4*8&65535);jt.push(String.fromCharCode(Lt))}return jt.join("")},parse:function(Ct){for(var Dt=Ct.length,Ft=[],jt=0;jt<Dt;jt++)Ft[jt>>>1]|=$t(Ct.charCodeAt(jt)<<16-jt%2*16);return mt.create(Ft,Dt*2)}};function $t(Ct){return Ct<<8&4278255360|Ct>>>8&16711935}}(),et.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.enc;wt.Base64={stringify:function(Ct){var Dt=Ct.words,Ft=Ct.sigBytes,jt=this._map;Ct.clamp();for(var Nt=[],Lt=0;Lt<Ft;Lt+=3)for(var Ut=Dt[Lt>>>2]>>>24-Lt%4*8&255,Vt=Dt[Lt+1>>>2]>>>24-(Lt+1)%4*8&255,Yt=Dt[Lt+2>>>2]>>>24-(Lt+2)%4*8&255,er=Ut<<16|Vt<<8|Yt,tr=0;tr<4&&Lt+tr*.75<Ft;tr++)Nt.push(jt.charAt(er>>>6*(3-tr)&63));var nr=jt.charAt(64);if(nr)for(;Nt.length%4;)Nt.push(nr);return Nt.join("")},parse:function(Ct){var Dt=Ct.length,Ft=this._map,jt=this._reverseMap;if(!jt){jt=this._reverseMap=[];for(var Nt=0;Nt<Ft.length;Nt++)jt[Ft.charCodeAt(Nt)]=Nt}var Lt=Ft.charAt(64);if(Lt){var Ut=Ct.indexOf(Lt);Ut!==-1&&(Dt=Ut)}return $t(Ct,Dt,jt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function $t(Ct,Dt,Ft){for(var jt=[],Nt=0,Lt=0;Lt<Dt;Lt++)if(Lt%4){var Ut=Ft[Ct.charCodeAt(Lt-1)]<<Lt%4*2,Vt=Ft[Ct.charCodeAt(Lt)]>>>6-Lt%4*2,Yt=Ut|Vt;jt[Nt>>>2]|=Yt<<24-Nt%4*8,Nt++}return mt.create(jt,Nt)}}(),et.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.enc;wt.Base64url={stringify:function(Ct,Dt){Dt===void 0&&(Dt=!0);var Ft=Ct.words,jt=Ct.sigBytes,Nt=Dt?this._safe_map:this._map;Ct.clamp();for(var Lt=[],Ut=0;Ut<jt;Ut+=3)for(var Vt=Ft[Ut>>>2]>>>24-Ut%4*8&255,Yt=Ft[Ut+1>>>2]>>>24-(Ut+1)%4*8&255,er=Ft[Ut+2>>>2]>>>24-(Ut+2)%4*8&255,tr=Vt<<16|Yt<<8|er,nr=0;nr<4&&Ut+nr*.75<jt;nr++)Lt.push(Nt.charAt(tr>>>6*(3-nr)&63));var sr=Nt.charAt(64);if(sr)for(;Lt.length%4;)Lt.push(sr);return Lt.join("")},parse:function(Ct,Dt){Dt===void 0&&(Dt=!0);var Ft=Ct.length,jt=Dt?this._safe_map:this._map,Nt=this._reverseMap;if(!Nt){Nt=this._reverseMap=[];for(var Lt=0;Lt<jt.length;Lt++)Nt[jt.charCodeAt(Lt)]=Lt}var Ut=jt.charAt(64);if(Ut){var Vt=Ct.indexOf(Ut);Vt!==-1&&(Ft=Vt)}return $t(Ct,Ft,Nt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function $t(Ct,Dt,Ft){for(var jt=[],Nt=0,Lt=0;Lt<Dt;Lt++)if(Lt%4){var Ut=Ft[Ct.charCodeAt(Lt-1)]<<Lt%4*2,Vt=Ft[Ct.charCodeAt(Lt)]>>>6-Lt%4*2,Yt=Ut|Vt;jt[Nt>>>2]|=Yt<<24-Nt%4*8,Nt++}return mt.create(jt,Nt)}}(),et.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.algo,Dt=[];(function(){for(var Vt=0;Vt<64;Vt++)Dt[Vt]=nt.abs(nt.sin(Vt+1))*4294967296|0})();var Ft=Ct.MD5=$t.extend({_doReset:function(){this._hash=new wt.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Vt,Yt){for(var er=0;er<16;er++){var tr=Yt+er,nr=Vt[tr];Vt[tr]=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360}var sr=this._hash.words,dr=Vt[Yt+0],br=Vt[Yt+1],vr=Vt[Yt+2],yr=Vt[Yt+3],$r=Vt[Yt+4],Sr=Vt[Yt+5],wr=Vt[Yt+6],fr=Vt[Yt+7],_r=Vt[Yt+8],ir=Vt[Yt+9],rr=Vt[Yt+10],or=Vt[Yt+11],ar=Vt[Yt+12],ur=Vt[Yt+13],pr=Vt[Yt+14],cr=Vt[Yt+15],gr=sr[0],hr=sr[1],lr=sr[2],xr=sr[3];gr=jt(gr,hr,lr,xr,dr,7,Dt[0]),xr=jt(xr,gr,hr,lr,br,12,Dt[1]),lr=jt(lr,xr,gr,hr,vr,17,Dt[2]),hr=jt(hr,lr,xr,gr,yr,22,Dt[3]),gr=jt(gr,hr,lr,xr,$r,7,Dt[4]),xr=jt(xr,gr,hr,lr,Sr,12,Dt[5]),lr=jt(lr,xr,gr,hr,wr,17,Dt[6]),hr=jt(hr,lr,xr,gr,fr,22,Dt[7]),gr=jt(gr,hr,lr,xr,_r,7,Dt[8]),xr=jt(xr,gr,hr,lr,ir,12,Dt[9]),lr=jt(lr,xr,gr,hr,rr,17,Dt[10]),hr=jt(hr,lr,xr,gr,or,22,Dt[11]),gr=jt(gr,hr,lr,xr,ar,7,Dt[12]),xr=jt(xr,gr,hr,lr,ur,12,Dt[13]),lr=jt(lr,xr,gr,hr,pr,17,Dt[14]),hr=jt(hr,lr,xr,gr,cr,22,Dt[15]),gr=Nt(gr,hr,lr,xr,br,5,Dt[16]),xr=Nt(xr,gr,hr,lr,wr,9,Dt[17]),lr=Nt(lr,xr,gr,hr,or,14,Dt[18]),hr=Nt(hr,lr,xr,gr,dr,20,Dt[19]),gr=Nt(gr,hr,lr,xr,Sr,5,Dt[20]),xr=Nt(xr,gr,hr,lr,rr,9,Dt[21]),lr=Nt(lr,xr,gr,hr,cr,14,Dt[22]),hr=Nt(hr,lr,xr,gr,$r,20,Dt[23]),gr=Nt(gr,hr,lr,xr,ir,5,Dt[24]),xr=Nt(xr,gr,hr,lr,pr,9,Dt[25]),lr=Nt(lr,xr,gr,hr,yr,14,Dt[26]),hr=Nt(hr,lr,xr,gr,_r,20,Dt[27]),gr=Nt(gr,hr,lr,xr,ur,5,Dt[28]),xr=Nt(xr,gr,hr,lr,vr,9,Dt[29]),lr=Nt(lr,xr,gr,hr,fr,14,Dt[30]),hr=Nt(hr,lr,xr,gr,ar,20,Dt[31]),gr=Lt(gr,hr,lr,xr,Sr,4,Dt[32]),xr=Lt(xr,gr,hr,lr,_r,11,Dt[33]),lr=Lt(lr,xr,gr,hr,or,16,Dt[34]),hr=Lt(hr,lr,xr,gr,pr,23,Dt[35]),gr=Lt(gr,hr,lr,xr,br,4,Dt[36]),xr=Lt(xr,gr,hr,lr,$r,11,Dt[37]),lr=Lt(lr,xr,gr,hr,fr,16,Dt[38]),hr=Lt(hr,lr,xr,gr,rr,23,Dt[39]),gr=Lt(gr,hr,lr,xr,ur,4,Dt[40]),xr=Lt(xr,gr,hr,lr,dr,11,Dt[41]),lr=Lt(lr,xr,gr,hr,yr,16,Dt[42]),hr=Lt(hr,lr,xr,gr,wr,23,Dt[43]),gr=Lt(gr,hr,lr,xr,ir,4,Dt[44]),xr=Lt(xr,gr,hr,lr,ar,11,Dt[45]),lr=Lt(lr,xr,gr,hr,cr,16,Dt[46]),hr=Lt(hr,lr,xr,gr,vr,23,Dt[47]),gr=Ut(gr,hr,lr,xr,dr,6,Dt[48]),xr=Ut(xr,gr,hr,lr,fr,10,Dt[49]),lr=Ut(lr,xr,gr,hr,pr,15,Dt[50]),hr=Ut(hr,lr,xr,gr,Sr,21,Dt[51]),gr=Ut(gr,hr,lr,xr,ar,6,Dt[52]),xr=Ut(xr,gr,hr,lr,yr,10,Dt[53]),lr=Ut(lr,xr,gr,hr,rr,15,Dt[54]),hr=Ut(hr,lr,xr,gr,br,21,Dt[55]),gr=Ut(gr,hr,lr,xr,_r,6,Dt[56]),xr=Ut(xr,gr,hr,lr,cr,10,Dt[57]),lr=Ut(lr,xr,gr,hr,wr,15,Dt[58]),hr=Ut(hr,lr,xr,gr,ur,21,Dt[59]),gr=Ut(gr,hr,lr,xr,$r,6,Dt[60]),xr=Ut(xr,gr,hr,lr,or,10,Dt[61]),lr=Ut(lr,xr,gr,hr,vr,15,Dt[62]),hr=Ut(hr,lr,xr,gr,ir,21,Dt[63]),sr[0]=sr[0]+gr|0,sr[1]=sr[1]+hr|0,sr[2]=sr[2]+lr|0,sr[3]=sr[3]+xr|0},_doFinalize:function(){var Vt=this._data,Yt=Vt.words,er=this._nDataBytes*8,tr=Vt.sigBytes*8;Yt[tr>>>5]|=128<<24-tr%32;var nr=nt.floor(er/4294967296),sr=er;Yt[(tr+64>>>9<<4)+15]=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360,Yt[(tr+64>>>9<<4)+14]=(sr<<8|sr>>>24)&16711935|(sr<<24|sr>>>8)&4278255360,Vt.sigBytes=(Yt.length+1)*4,this._process();for(var dr=this._hash,br=dr.words,vr=0;vr<4;vr++){var yr=br[vr];br[vr]=(yr<<8|yr>>>24)&16711935|(yr<<24|yr>>>8)&4278255360}return dr},clone:function(){var Vt=$t.clone.call(this);return Vt._hash=this._hash.clone(),Vt}});function jt(Vt,Yt,er,tr,nr,sr,dr){var br=Vt+(Yt&er|~Yt&tr)+nr+dr;return(br<<sr|br>>>32-sr)+Yt}function Nt(Vt,Yt,er,tr,nr,sr,dr){var br=Vt+(Yt&tr|er&~tr)+nr+dr;return(br<<sr|br>>>32-sr)+Yt}function Lt(Vt,Yt,er,tr,nr,sr,dr){var br=Vt+(Yt^er^tr)+nr+dr;return(br<<sr|br>>>32-sr)+Yt}function Ut(Vt,Yt,er,tr,nr,sr,dr){var br=Vt+(er^(Yt|~tr))+nr+dr;return(br<<sr|br>>>32-sr)+Yt}at.MD5=$t._createHelper(Ft),at.HmacMD5=$t._createHmacHelper(Ft)}(Math),et.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=at.Hasher,$t=nt.algo,Ct=[],Dt=$t.SHA1=wt.extend({_doReset:function(){this._hash=new mt.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ft,jt){for(var Nt=this._hash.words,Lt=Nt[0],Ut=Nt[1],Vt=Nt[2],Yt=Nt[3],er=Nt[4],tr=0;tr<80;tr++){if(tr<16)Ct[tr]=Ft[jt+tr]|0;else{var nr=Ct[tr-3]^Ct[tr-8]^Ct[tr-14]^Ct[tr-16];Ct[tr]=nr<<1|nr>>>31}var sr=(Lt<<5|Lt>>>27)+er+Ct[tr];tr<20?sr+=(Ut&Vt|~Ut&Yt)+1518500249:tr<40?sr+=(Ut^Vt^Yt)+1859775393:tr<60?sr+=(Ut&Vt|Ut&Yt|Vt&Yt)-1894007588:sr+=(Ut^Vt^Yt)-899497514,er=Yt,Yt=Vt,Vt=Ut<<30|Ut>>>2,Ut=Lt,Lt=sr}Nt[0]=Nt[0]+Lt|0,Nt[1]=Nt[1]+Ut|0,Nt[2]=Nt[2]+Vt|0,Nt[3]=Nt[3]+Yt|0,Nt[4]=Nt[4]+er|0},_doFinalize:function(){var Ft=this._data,jt=Ft.words,Nt=this._nDataBytes*8,Lt=Ft.sigBytes*8;return jt[Lt>>>5]|=128<<24-Lt%32,jt[(Lt+64>>>9<<4)+14]=Math.floor(Nt/4294967296),jt[(Lt+64>>>9<<4)+15]=Nt,Ft.sigBytes=jt.length*4,this._process(),this._hash},clone:function(){var Ft=wt.clone.call(this);return Ft._hash=this._hash.clone(),Ft}});nt.SHA1=wt._createHelper(Dt),nt.HmacSHA1=wt._createHmacHelper(Dt)}(),et.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.algo,Dt=[],Ft=[];(function(){function Lt(er){for(var tr=nt.sqrt(er),nr=2;nr<=tr;nr++)if(!(er%nr))return!1;return!0}function Ut(er){return(er-(er|0))*4294967296|0}for(var Vt=2,Yt=0;Yt<64;)Lt(Vt)&&(Yt<8&&(Dt[Yt]=Ut(nt.pow(Vt,1/2))),Ft[Yt]=Ut(nt.pow(Vt,1/3)),Yt++),Vt++})();var jt=[],Nt=Ct.SHA256=$t.extend({_doReset:function(){this._hash=new wt.init(Dt.slice(0))},_doProcessBlock:function(Lt,Ut){for(var Vt=this._hash.words,Yt=Vt[0],er=Vt[1],tr=Vt[2],nr=Vt[3],sr=Vt[4],dr=Vt[5],br=Vt[6],vr=Vt[7],yr=0;yr<64;yr++){if(yr<16)jt[yr]=Lt[Ut+yr]|0;else{var $r=jt[yr-15],Sr=($r<<25|$r>>>7)^($r<<14|$r>>>18)^$r>>>3,wr=jt[yr-2],fr=(wr<<15|wr>>>17)^(wr<<13|wr>>>19)^wr>>>10;jt[yr]=Sr+jt[yr-7]+fr+jt[yr-16]}var _r=sr&dr^~sr&br,ir=Yt&er^Yt&tr^er&tr,rr=(Yt<<30|Yt>>>2)^(Yt<<19|Yt>>>13)^(Yt<<10|Yt>>>22),or=(sr<<26|sr>>>6)^(sr<<21|sr>>>11)^(sr<<7|sr>>>25),ar=vr+or+_r+Ft[yr]+jt[yr],ur=rr+ir;vr=br,br=dr,dr=sr,sr=nr+ar|0,nr=tr,tr=er,er=Yt,Yt=ar+ur|0}Vt[0]=Vt[0]+Yt|0,Vt[1]=Vt[1]+er|0,Vt[2]=Vt[2]+tr|0,Vt[3]=Vt[3]+nr|0,Vt[4]=Vt[4]+sr|0,Vt[5]=Vt[5]+dr|0,Vt[6]=Vt[6]+br|0,Vt[7]=Vt[7]+vr|0},_doFinalize:function(){var Lt=this._data,Ut=Lt.words,Vt=this._nDataBytes*8,Yt=Lt.sigBytes*8;return Ut[Yt>>>5]|=128<<24-Yt%32,Ut[(Yt+64>>>9<<4)+14]=nt.floor(Vt/4294967296),Ut[(Yt+64>>>9<<4)+15]=Vt,Lt.sigBytes=Ut.length*4,this._process(),this._hash},clone:function(){var Lt=$t.clone.call(this);return Lt._hash=this._hash.clone(),Lt}});at.SHA256=$t._createHelper(Nt),at.HmacSHA256=$t._createHmacHelper(Nt)}(Math),et.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireSha256())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=nt.algo,$t=wt.SHA256,Ct=wt.SHA224=$t.extend({_doReset:function(){this._hash=new mt.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var Dt=$t._doFinalize.call(this);return Dt.sigBytes-=4,Dt}});nt.SHA224=$t._createHelper(Ct),nt.HmacSHA224=$t._createHmacHelper(Ct)}(),et.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.Hasher,wt=nt.x64,$t=wt.Word,Ct=wt.WordArray,Dt=nt.algo;function Ft(){return $t.create.apply($t,arguments)}var jt=[Ft(1116352408,3609767458),Ft(1899447441,602891725),Ft(3049323471,3964484399),Ft(3921009573,2173295548),Ft(961987163,4081628472),Ft(1508970993,3053834265),Ft(2453635748,2937671579),Ft(2870763221,3664609560),Ft(3624381080,2734883394),Ft(310598401,1164996542),Ft(607225278,1323610764),Ft(1426881987,3590304994),Ft(1925078388,4068182383),Ft(2162078206,991336113),Ft(2614888103,633803317),Ft(3248222580,3479774868),Ft(3835390401,2666613458),Ft(4022224774,944711139),Ft(264347078,2341262773),Ft(604807628,2007800933),Ft(770255983,1495990901),Ft(1249150122,1856431235),Ft(1555081692,3175218132),Ft(1996064986,2198950837),Ft(2554220882,3999719339),Ft(2821834349,766784016),Ft(2952996808,2566594879),Ft(3210313671,3203337956),Ft(3336571891,1034457026),Ft(3584528711,2466948901),Ft(113926993,3758326383),Ft(338241895,168717936),Ft(666307205,1188179964),Ft(773529912,1546045734),Ft(1294757372,1522805485),Ft(1396182291,2643833823),Ft(1695183700,2343527390),Ft(1986661051,1014477480),Ft(2177026350,1206759142),Ft(2456956037,344077627),Ft(2730485921,1290863460),Ft(2820302411,3158454273),Ft(3259730800,3505952657),Ft(3345764771,106217008),Ft(3516065817,3606008344),Ft(3600352804,1432725776),Ft(4094571909,1467031594),Ft(275423344,851169720),Ft(430227734,3100823752),Ft(506948616,1363258195),Ft(659060556,3750685593),Ft(883997877,3785050280),Ft(958139571,3318307427),Ft(1322822218,3812723403),Ft(1537002063,2003034995),Ft(1747873779,3602036899),Ft(1955562222,1575990012),Ft(2024104815,1125592928),Ft(2227730452,2716904306),Ft(2361852424,442776044),Ft(2428436474,593698344),Ft(2756734187,3733110249),Ft(3204031479,2999351573),Ft(3329325298,3815920427),Ft(3391569614,3928383900),Ft(3515267271,566280711),Ft(3940187606,3454069534),Ft(4118630271,4000239992),Ft(116418474,1914138554),Ft(174292421,2731055270),Ft(289380356,3203993006),Ft(460393269,320620315),Ft(685471733,587496836),Ft(852142971,1086792851),Ft(1017036298,365543100),Ft(1126000580,2618297676),Ft(1288033470,3409855158),Ft(1501505948,4234509866),Ft(1607167915,987167468),Ft(1816402316,1246189591)],Nt=[];(function(){for(var Ut=0;Ut<80;Ut++)Nt[Ut]=Ft()})();var Lt=Dt.SHA512=mt.extend({_doReset:function(){this._hash=new Ct.init([new $t.init(1779033703,4089235720),new $t.init(3144134277,2227873595),new $t.init(1013904242,4271175723),new $t.init(2773480762,1595750129),new $t.init(1359893119,2917565137),new $t.init(2600822924,725511199),new $t.init(528734635,4215389547),new $t.init(1541459225,327033209)])},_doProcessBlock:function(Ut,Vt){for(var Yt=this._hash.words,er=Yt[0],tr=Yt[1],nr=Yt[2],sr=Yt[3],dr=Yt[4],br=Yt[5],vr=Yt[6],yr=Yt[7],$r=er.high,Sr=er.low,wr=tr.high,fr=tr.low,_r=nr.high,ir=nr.low,rr=sr.high,or=sr.low,ar=dr.high,ur=dr.low,pr=br.high,cr=br.low,gr=vr.high,hr=vr.low,lr=yr.high,xr=yr.low,Mr=$r,Pr=Sr,Ar=wr,Ir=fr,qr=_r,Rr=ir,Tr=rr,Er=or,Br=ar,Nr=ur,zr=pr,Hr=cr,jr=gr,Ur=hr,Fr=lr,Gr=xr,Wr=0;Wr<80;Wr++){var nn,Ln,Un=Nt[Wr];if(Wr<16)Ln=Un.high=Ut[Vt+Wr*2]|0,nn=Un.low=Ut[Vt+Wr*2+1]|0;else{var Wn=Nt[Wr-15],io=Wn.high,zn=Wn.low,Zn=(io>>>1|zn<<31)^(io>>>8|zn<<24)^io>>>7,bo=(zn>>>1|io<<31)^(zn>>>8|io<<24)^(zn>>>7|io<<25),Or=Nt[Wr-2],Cr=Or.high,kr=Or.low,Lr=(Cr>>>19|kr<<13)^(Cr<<3|kr>>>29)^Cr>>>6,Zr=(kr>>>19|Cr<<13)^(kr<<3|Cr>>>29)^(kr>>>6|Cr<<26),an=Nt[Wr-7],rn=an.high,Yn=an.low,yo=Nt[Wr-16],ro=yo.high,so=yo.low;nn=bo+Yn,Ln=Zn+rn+(nn>>>0<bo>>>0?1:0),nn=nn+Zr,Ln=Ln+Lr+(nn>>>0<Zr>>>0?1:0),nn=nn+so,Ln=Ln+ro+(nn>>>0<so>>>0?1:0),Un.high=Ln,Un.low=nn}var vo=Br&zr^~Br&jr,po=Nr&Hr^~Nr&Ur,$o=Mr&Ar^Mr&qr^Ar&qr,Mo=Pr&Ir^Pr&Rr^Ir&Rr,_o=(Mr>>>28|Pr<<4)^(Mr<<30|Pr>>>2)^(Mr<<25|Pr>>>7),Eo=(Pr>>>28|Mr<<4)^(Pr<<30|Mr>>>2)^(Pr<<25|Mr>>>7),Do=(Br>>>14|Nr<<18)^(Br>>>18|Nr<<14)^(Br<<23|Nr>>>9),mo=(Nr>>>14|Br<<18)^(Nr>>>18|Br<<14)^(Nr<<23|Br>>>9),So=jt[Wr],Fo=So.high,Yr=So.low,Qr=Gr+mo,Cn=Fr+Do+(Qr>>>0<Gr>>>0?1:0),Qr=Qr+po,Cn=Cn+vo+(Qr>>>0<po>>>0?1:0),Qr=Qr+Yr,Cn=Cn+Fo+(Qr>>>0<Yr>>>0?1:0),Qr=Qr+nn,Cn=Cn+Ln+(Qr>>>0<nn>>>0?1:0),Nn=Eo+Mo,Hn=_o+$o+(Nn>>>0<Eo>>>0?1:0);Fr=jr,Gr=Ur,jr=zr,Ur=Hr,zr=Br,Hr=Nr,Nr=Er+Qr|0,Br=Tr+Cn+(Nr>>>0<Er>>>0?1:0)|0,Tr=qr,Er=Rr,qr=Ar,Rr=Ir,Ar=Mr,Ir=Pr,Pr=Qr+Nn|0,Mr=Cn+Hn+(Pr>>>0<Qr>>>0?1:0)|0}Sr=er.low=Sr+Pr,er.high=$r+Mr+(Sr>>>0<Pr>>>0?1:0),fr=tr.low=fr+Ir,tr.high=wr+Ar+(fr>>>0<Ir>>>0?1:0),ir=nr.low=ir+Rr,nr.high=_r+qr+(ir>>>0<Rr>>>0?1:0),or=sr.low=or+Er,sr.high=rr+Tr+(or>>>0<Er>>>0?1:0),ur=dr.low=ur+Nr,dr.high=ar+Br+(ur>>>0<Nr>>>0?1:0),cr=br.low=cr+Hr,br.high=pr+zr+(cr>>>0<Hr>>>0?1:0),hr=vr.low=hr+Ur,vr.high=gr+jr+(hr>>>0<Ur>>>0?1:0),xr=yr.low=xr+Gr,yr.high=lr+Fr+(xr>>>0<Gr>>>0?1:0)},_doFinalize:function(){var Ut=this._data,Vt=Ut.words,Yt=this._nDataBytes*8,er=Ut.sigBytes*8;Vt[er>>>5]|=128<<24-er%32,Vt[(er+128>>>10<<5)+30]=Math.floor(Yt/4294967296),Vt[(er+128>>>10<<5)+31]=Yt,Ut.sigBytes=Vt.length*4,this._process();var tr=this._hash.toX32();return tr},clone:function(){var Ut=mt.clone.call(this);return Ut._hash=this._hash.clone(),Ut},blockSize:1024/32});nt.SHA512=mt._createHelper(Lt),nt.HmacSHA512=mt._createHmacHelper(Lt)}(),et.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.x64,mt=at.Word,wt=at.WordArray,$t=nt.algo,Ct=$t.SHA512,Dt=$t.SHA384=Ct.extend({_doReset:function(){this._hash=new wt.init([new mt.init(3418070365,3238371032),new mt.init(1654270250,914150663),new mt.init(2438529370,812702999),new mt.init(355462360,4144912697),new mt.init(1731405415,4290775857),new mt.init(2394180231,1750603025),new mt.init(3675008525,1694076839),new mt.init(1203062813,3204075428)])},_doFinalize:function(){var Ft=Ct._doFinalize.call(this);return Ft.sigBytes-=16,Ft}});nt.SHA384=Ct._createHelper(Dt),nt.HmacSHA384=Ct._createHmacHelper(Dt)}(),et.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireX64Core())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.x64,Dt=Ct.Word,Ft=at.algo,jt=[],Nt=[],Lt=[];(function(){for(var Yt=1,er=0,tr=0;tr<24;tr++){jt[Yt+5*er]=(tr+1)*(tr+2)/2%64;var nr=er%5,sr=(2*Yt+3*er)%5;Yt=nr,er=sr}for(var Yt=0;Yt<5;Yt++)for(var er=0;er<5;er++)Nt[Yt+5*er]=er+(2*Yt+3*er)%5*5;for(var dr=1,br=0;br<24;br++){for(var vr=0,yr=0,$r=0;$r<7;$r++){if(dr&1){var Sr=(1<<$r)-1;Sr<32?yr^=1<<Sr:vr^=1<<Sr-32}dr&128?dr=dr<<1^113:dr<<=1}Lt[br]=Dt.create(vr,yr)}})();var Ut=[];(function(){for(var Yt=0;Yt<25;Yt++)Ut[Yt]=Dt.create()})();var Vt=Ft.SHA3=$t.extend({cfg:$t.cfg.extend({outputLength:512}),_doReset:function(){for(var Yt=this._state=[],er=0;er<25;er++)Yt[er]=new Dt.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(Yt,er){for(var tr=this._state,nr=this.blockSize/2,sr=0;sr<nr;sr++){var dr=Yt[er+2*sr],br=Yt[er+2*sr+1];dr=(dr<<8|dr>>>24)&16711935|(dr<<24|dr>>>8)&4278255360,br=(br<<8|br>>>24)&16711935|(br<<24|br>>>8)&4278255360;var vr=tr[sr];vr.high^=br,vr.low^=dr}for(var yr=0;yr<24;yr++){for(var $r=0;$r<5;$r++){for(var Sr=0,wr=0,fr=0;fr<5;fr++){var vr=tr[$r+5*fr];Sr^=vr.high,wr^=vr.low}var _r=Ut[$r];_r.high=Sr,_r.low=wr}for(var $r=0;$r<5;$r++)for(var ir=Ut[($r+4)%5],rr=Ut[($r+1)%5],or=rr.high,ar=rr.low,Sr=ir.high^(or<<1|ar>>>31),wr=ir.low^(ar<<1|or>>>31),fr=0;fr<5;fr++){var vr=tr[$r+5*fr];vr.high^=Sr,vr.low^=wr}for(var ur=1;ur<25;ur++){var Sr,wr,vr=tr[ur],pr=vr.high,cr=vr.low,gr=jt[ur];gr<32?(Sr=pr<<gr|cr>>>32-gr,wr=cr<<gr|pr>>>32-gr):(Sr=cr<<gr-32|pr>>>64-gr,wr=pr<<gr-32|cr>>>64-gr);var hr=Ut[Nt[ur]];hr.high=Sr,hr.low=wr}var lr=Ut[0],xr=tr[0];lr.high=xr.high,lr.low=xr.low;for(var $r=0;$r<5;$r++)for(var fr=0;fr<5;fr++){var ur=$r+5*fr,vr=tr[ur],Mr=Ut[ur],Pr=Ut[($r+1)%5+5*fr],Ar=Ut[($r+2)%5+5*fr];vr.high=Mr.high^~Pr.high&Ar.high,vr.low=Mr.low^~Pr.low&Ar.low}var vr=tr[0],Ir=Lt[yr];vr.high^=Ir.high,vr.low^=Ir.low}},_doFinalize:function(){var Yt=this._data,er=Yt.words;this._nDataBytes*8;var tr=Yt.sigBytes*8,nr=this.blockSize*32;er[tr>>>5]|=1<<24-tr%32,er[(nt.ceil((tr+1)/nr)*nr>>>5)-1]|=128,Yt.sigBytes=er.length*4,this._process();for(var sr=this._state,dr=this.cfg.outputLength/8,br=dr/8,vr=[],yr=0;yr<br;yr++){var $r=sr[yr],Sr=$r.high,wr=$r.low;Sr=(Sr<<8|Sr>>>24)&16711935|(Sr<<24|Sr>>>8)&4278255360,wr=(wr<<8|wr>>>24)&16711935|(wr<<24|wr>>>8)&4278255360,vr.push(wr),vr.push(Sr)}return new wt.init(vr,dr)},clone:function(){for(var Yt=$t.clone.call(this),er=Yt._state=this._state.slice(0),tr=0;tr<25;tr++)er[tr]=er[tr].clone();return Yt}});at.SHA3=$t._createHelper(Vt),at.HmacSHA3=$t._createHmacHelper(Vt)}(Math),et.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(nt){var at=et,mt=at.lib,wt=mt.WordArray,$t=mt.Hasher,Ct=at.algo,Dt=wt.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Ft=wt.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),jt=wt.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Nt=wt.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Lt=wt.create([0,1518500249,1859775393,2400959708,2840853838]),Ut=wt.create([1352829926,1548603684,1836072691,2053994217,0]),Vt=Ct.RIPEMD160=$t.extend({_doReset:function(){this._hash=wt.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(br,vr){for(var yr=0;yr<16;yr++){var $r=vr+yr,Sr=br[$r];br[$r]=(Sr<<8|Sr>>>24)&16711935|(Sr<<24|Sr>>>8)&4278255360}var wr=this._hash.words,fr=Lt.words,_r=Ut.words,ir=Dt.words,rr=Ft.words,or=jt.words,ar=Nt.words,ur,pr,cr,gr,hr,lr,xr,Mr,Pr,Ar;lr=ur=wr[0],xr=pr=wr[1],Mr=cr=wr[2],Pr=gr=wr[3],Ar=hr=wr[4];for(var Ir,yr=0;yr<80;yr+=1)Ir=ur+br[vr+ir[yr]]|0,yr<16?Ir+=Yt(pr,cr,gr)+fr[0]:yr<32?Ir+=er(pr,cr,gr)+fr[1]:yr<48?Ir+=tr(pr,cr,gr)+fr[2]:yr<64?Ir+=nr(pr,cr,gr)+fr[3]:Ir+=sr(pr,cr,gr)+fr[4],Ir=Ir|0,Ir=dr(Ir,or[yr]),Ir=Ir+hr|0,ur=hr,hr=gr,gr=dr(cr,10),cr=pr,pr=Ir,Ir=lr+br[vr+rr[yr]]|0,yr<16?Ir+=sr(xr,Mr,Pr)+_r[0]:yr<32?Ir+=nr(xr,Mr,Pr)+_r[1]:yr<48?Ir+=tr(xr,Mr,Pr)+_r[2]:yr<64?Ir+=er(xr,Mr,Pr)+_r[3]:Ir+=Yt(xr,Mr,Pr)+_r[4],Ir=Ir|0,Ir=dr(Ir,ar[yr]),Ir=Ir+Ar|0,lr=Ar,Ar=Pr,Pr=dr(Mr,10),Mr=xr,xr=Ir;Ir=wr[1]+cr+Pr|0,wr[1]=wr[2]+gr+Ar|0,wr[2]=wr[3]+hr+lr|0,wr[3]=wr[4]+ur+xr|0,wr[4]=wr[0]+pr+Mr|0,wr[0]=Ir},_doFinalize:function(){var br=this._data,vr=br.words,yr=this._nDataBytes*8,$r=br.sigBytes*8;vr[$r>>>5]|=128<<24-$r%32,vr[($r+64>>>9<<4)+14]=(yr<<8|yr>>>24)&16711935|(yr<<24|yr>>>8)&4278255360,br.sigBytes=(vr.length+1)*4,this._process();for(var Sr=this._hash,wr=Sr.words,fr=0;fr<5;fr++){var _r=wr[fr];wr[fr]=(_r<<8|_r>>>24)&16711935|(_r<<24|_r>>>8)&4278255360}return Sr},clone:function(){var br=$t.clone.call(this);return br._hash=this._hash.clone(),br}});function Yt(br,vr,yr){return br^vr^yr}function er(br,vr,yr){return br&vr|~br&yr}function tr(br,vr,yr){return(br|~vr)^yr}function nr(br,vr,yr){return br&yr|vr&~yr}function sr(br,vr,yr){return br^(vr|~yr)}function dr(br,vr){return br<<vr|br>>>32-vr}at.RIPEMD160=$t._createHelper(Vt),at.HmacRIPEMD160=$t._createHmacHelper(Vt)}(),et.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(s,a){(function(et,nt){s.exports=nt(requireCore())})(commonjsGlobal$1,function(et){(function(){var nt=et,at=nt.lib,mt=at.Base,wt=nt.enc,$t=wt.Utf8,Ct=nt.algo;Ct.HMAC=mt.extend({init:function(Dt,Ft){Dt=this._hasher=new Dt.init,typeof Ft=="string"&&(Ft=$t.parse(Ft));var jt=Dt.blockSize,Nt=jt*4;Ft.sigBytes>Nt&&(Ft=Dt.finalize(Ft)),Ft.clamp();for(var Lt=this._oKey=Ft.clone(),Ut=this._iKey=Ft.clone(),Vt=Lt.words,Yt=Ut.words,er=0;er<jt;er++)Vt[er]^=1549556828,Yt[er]^=909522486;Lt.sigBytes=Ut.sigBytes=Nt,this.reset()},reset:function(){var Dt=this._hasher;Dt.reset(),Dt.update(this._iKey)},update:function(Dt){return this._hasher.update(Dt),this},finalize:function(Dt){var Ft=this._hasher,jt=Ft.finalize(Dt);Ft.reset();var Nt=Ft.finalize(this._oKey.clone().concat(jt));return Nt}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.Base,wt=at.WordArray,$t=nt.algo,Ct=$t.SHA256,Dt=$t.HMAC,Ft=$t.PBKDF2=mt.extend({cfg:mt.extend({keySize:128/32,hasher:Ct,iterations:25e4}),init:function(jt){this.cfg=this.cfg.extend(jt)},compute:function(jt,Nt){for(var Lt=this.cfg,Ut=Dt.create(Lt.hasher,jt),Vt=wt.create(),Yt=wt.create([1]),er=Vt.words,tr=Yt.words,nr=Lt.keySize,sr=Lt.iterations;er.length<nr;){var dr=Ut.update(Nt).finalize(Yt);Ut.reset();for(var br=dr.words,vr=br.length,yr=dr,$r=1;$r<sr;$r++){yr=Ut.finalize(yr),Ut.reset();for(var Sr=yr.words,wr=0;wr<vr;wr++)br[wr]^=Sr[wr]}Vt.concat(dr),tr[0]++}return Vt.sigBytes=nr*4,Vt}});nt.PBKDF2=function(jt,Nt,Lt){return Ft.create(Lt).compute(jt,Nt)}}(),et.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.Base,wt=at.WordArray,$t=nt.algo,Ct=$t.MD5,Dt=$t.EvpKDF=mt.extend({cfg:mt.extend({keySize:128/32,hasher:Ct,iterations:1}),init:function(Ft){this.cfg=this.cfg.extend(Ft)},compute:function(Ft,jt){for(var Nt,Lt=this.cfg,Ut=Lt.hasher.create(),Vt=wt.create(),Yt=Vt.words,er=Lt.keySize,tr=Lt.iterations;Yt.length<er;){Nt&&Ut.update(Nt),Nt=Ut.update(Ft).finalize(jt),Ut.reset();for(var nr=1;nr<tr;nr++)Nt=Ut.finalize(Nt),Ut.reset();Vt.concat(Nt)}return Vt.sigBytes=er*4,Vt}});nt.EvpKDF=function(Ft,jt,Nt){return Dt.create(Nt).compute(Ft,jt)}}(),et.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireEvpkdf())})(commonjsGlobal$1,function(et){et.lib.Cipher||function(nt){var at=et,mt=at.lib,wt=mt.Base,$t=mt.WordArray,Ct=mt.BufferedBlockAlgorithm,Dt=at.enc;Dt.Utf8;var Ft=Dt.Base64,jt=at.algo,Nt=jt.EvpKDF,Lt=mt.Cipher=Ct.extend({cfg:wt.extend(),createEncryptor:function(Sr,wr){return this.create(this._ENC_XFORM_MODE,Sr,wr)},createDecryptor:function(Sr,wr){return this.create(this._DEC_XFORM_MODE,Sr,wr)},init:function(Sr,wr,fr){this.cfg=this.cfg.extend(fr),this._xformMode=Sr,this._key=wr,this.reset()},reset:function(){Ct.reset.call(this),this._doReset()},process:function(Sr){return this._append(Sr),this._process()},finalize:function(Sr){Sr&&this._append(Sr);var wr=this._doFinalize();return wr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Sr(wr){return typeof wr=="string"?$r:br}return function(wr){return{encrypt:function(fr,_r,ir){return Sr(_r).encrypt(wr,fr,_r,ir)},decrypt:function(fr,_r,ir){return Sr(_r).decrypt(wr,fr,_r,ir)}}}}()});mt.StreamCipher=Lt.extend({_doFinalize:function(){var Sr=this._process(!0);return Sr},blockSize:1});var Ut=at.mode={},Vt=mt.BlockCipherMode=wt.extend({createEncryptor:function(Sr,wr){return this.Encryptor.create(Sr,wr)},createDecryptor:function(Sr,wr){return this.Decryptor.create(Sr,wr)},init:function(Sr,wr){this._cipher=Sr,this._iv=wr}}),Yt=Ut.CBC=function(){var Sr=Vt.extend();Sr.Encryptor=Sr.extend({processBlock:function(fr,_r){var ir=this._cipher,rr=ir.blockSize;wr.call(this,fr,_r,rr),ir.encryptBlock(fr,_r),this._prevBlock=fr.slice(_r,_r+rr)}}),Sr.Decryptor=Sr.extend({processBlock:function(fr,_r){var ir=this._cipher,rr=ir.blockSize,or=fr.slice(_r,_r+rr);ir.decryptBlock(fr,_r),wr.call(this,fr,_r,rr),this._prevBlock=or}});function wr(fr,_r,ir){var rr,or=this._iv;or?(rr=or,this._iv=nt):rr=this._prevBlock;for(var ar=0;ar<ir;ar++)fr[_r+ar]^=rr[ar]}return Sr}(),er=at.pad={},tr=er.Pkcs7={pad:function(Sr,wr){for(var fr=wr*4,_r=fr-Sr.sigBytes%fr,ir=_r<<24|_r<<16|_r<<8|_r,rr=[],or=0;or<_r;or+=4)rr.push(ir);var ar=$t.create(rr,_r);Sr.concat(ar)},unpad:function(Sr){var wr=Sr.words[Sr.sigBytes-1>>>2]&255;Sr.sigBytes-=wr}};mt.BlockCipher=Lt.extend({cfg:Lt.cfg.extend({mode:Yt,padding:tr}),reset:function(){var Sr;Lt.reset.call(this);var wr=this.cfg,fr=wr.iv,_r=wr.mode;this._xformMode==this._ENC_XFORM_MODE?Sr=_r.createEncryptor:(Sr=_r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Sr?this._mode.init(this,fr&&fr.words):(this._mode=Sr.call(_r,this,fr&&fr.words),this._mode.__creator=Sr)},_doProcessBlock:function(Sr,wr){this._mode.processBlock(Sr,wr)},_doFinalize:function(){var Sr,wr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(wr.pad(this._data,this.blockSize),Sr=this._process(!0)):(Sr=this._process(!0),wr.unpad(Sr)),Sr},blockSize:128/32});var nr=mt.CipherParams=wt.extend({init:function(Sr){this.mixIn(Sr)},toString:function(Sr){return(Sr||this.formatter).stringify(this)}}),sr=at.format={},dr=sr.OpenSSL={stringify:function(Sr){var wr,fr=Sr.ciphertext,_r=Sr.salt;return _r?wr=$t.create([1398893684,1701076831]).concat(_r).concat(fr):wr=fr,wr.toString(Ft)},parse:function(Sr){var wr,fr=Ft.parse(Sr),_r=fr.words;return _r[0]==1398893684&&_r[1]==1701076831&&(wr=$t.create(_r.slice(2,4)),_r.splice(0,4),fr.sigBytes-=16),nr.create({ciphertext:fr,salt:wr})}},br=mt.SerializableCipher=wt.extend({cfg:wt.extend({format:dr}),encrypt:function(Sr,wr,fr,_r){_r=this.cfg.extend(_r);var ir=Sr.createEncryptor(fr,_r),rr=ir.finalize(wr),or=ir.cfg;return nr.create({ciphertext:rr,key:fr,iv:or.iv,algorithm:Sr,mode:or.mode,padding:or.padding,blockSize:Sr.blockSize,formatter:_r.format})},decrypt:function(Sr,wr,fr,_r){_r=this.cfg.extend(_r),wr=this._parse(wr,_r.format);var ir=Sr.createDecryptor(fr,_r).finalize(wr.ciphertext);return ir},_parse:function(Sr,wr){return typeof Sr=="string"?wr.parse(Sr,this):Sr}}),vr=at.kdf={},yr=vr.OpenSSL={execute:function(Sr,wr,fr,_r,ir){if(_r||(_r=$t.random(64/8)),ir)var rr=Nt.create({keySize:wr+fr,hasher:ir}).compute(Sr,_r);else var rr=Nt.create({keySize:wr+fr}).compute(Sr,_r);var or=$t.create(rr.words.slice(wr),fr*4);return rr.sigBytes=wr*4,nr.create({key:rr,iv:or,salt:_r})}},$r=mt.PasswordBasedCipher=br.extend({cfg:br.cfg.extend({kdf:yr}),encrypt:function(Sr,wr,fr,_r){_r=this.cfg.extend(_r);var ir=_r.kdf.execute(fr,Sr.keySize,Sr.ivSize,_r.salt,_r.hasher);_r.iv=ir.iv;var rr=br.encrypt.call(this,Sr,wr,ir.key,_r);return rr.mixIn(ir),rr},decrypt:function(Sr,wr,fr,_r){_r=this.cfg.extend(_r),wr=this._parse(wr,_r.format);var ir=_r.kdf.execute(fr,Sr.keySize,Sr.ivSize,wr.salt,_r.hasher);_r.iv=ir.iv;var rr=br.decrypt.call(this,Sr,wr,ir.key,_r);return rr}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.CFB=function(){var nt=et.lib.BlockCipherMode.extend();nt.Encryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize;at.call(this,mt,wt,Ct,$t),this._prevBlock=mt.slice(wt,wt+Ct)}}),nt.Decryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize,Dt=mt.slice(wt,wt+Ct);at.call(this,mt,wt,Ct,$t),this._prevBlock=Dt}});function at(mt,wt,$t,Ct){var Dt,Ft=this._iv;Ft?(Dt=Ft.slice(0),this._iv=void 0):Dt=this._prevBlock,Ct.encryptBlock(Dt,0);for(var jt=0;jt<$t;jt++)mt[wt+jt]^=Dt[jt]}return nt}(),et.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.CTR=function(){var nt=et.lib.BlockCipherMode.extend(),at=nt.Encryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize,Dt=this._iv,Ft=this._counter;Dt&&(Ft=this._counter=Dt.slice(0),this._iv=void 0);var jt=Ft.slice(0);$t.encryptBlock(jt,0),Ft[Ct-1]=Ft[Ct-1]+1|0;for(var Nt=0;Nt<Ct;Nt++)mt[wt+Nt]^=jt[Nt]}});return nt.Decryptor=at,nt}(),et.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return et.mode.CTRGladman=function(){var nt=et.lib.BlockCipherMode.extend();function at($t){if(($t>>24&255)===255){var Ct=$t>>16&255,Dt=$t>>8&255,Ft=$t&255;Ct===255?(Ct=0,Dt===255?(Dt=0,Ft===255?Ft=0:++Ft):++Dt):++Ct,$t=0,$t+=Ct<<16,$t+=Dt<<8,$t+=Ft}else $t+=1<<24;return $t}function mt($t){return($t[0]=at($t[0]))===0&&($t[1]=at($t[1])),$t}var wt=nt.Encryptor=nt.extend({processBlock:function($t,Ct){var Dt=this._cipher,Ft=Dt.blockSize,jt=this._iv,Nt=this._counter;jt&&(Nt=this._counter=jt.slice(0),this._iv=void 0),mt(Nt);var Lt=Nt.slice(0);Dt.encryptBlock(Lt,0);for(var Ut=0;Ut<Ft;Ut++)$t[Ct+Ut]^=Lt[Ut]}});return nt.Decryptor=wt,nt}(),et.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.OFB=function(){var nt=et.lib.BlockCipherMode.extend(),at=nt.Encryptor=nt.extend({processBlock:function(mt,wt){var $t=this._cipher,Ct=$t.blockSize,Dt=this._iv,Ft=this._keystream;Dt&&(Ft=this._keystream=Dt.slice(0),this._iv=void 0),$t.encryptBlock(Ft,0);for(var jt=0;jt<Ct;jt++)mt[wt+jt]^=Ft[jt]}});return nt.Decryptor=at,nt}(),et.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.mode.ECB=function(){var nt=et.lib.BlockCipherMode.extend();return nt.Encryptor=nt.extend({processBlock:function(at,mt){this._cipher.encryptBlock(at,mt)}}),nt.Decryptor=nt.extend({processBlock:function(at,mt){this._cipher.decryptBlock(at,mt)}}),nt}(),et.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.AnsiX923={pad:function(nt,at){var mt=nt.sigBytes,wt=at*4,$t=wt-mt%wt,Ct=mt+$t-1;nt.clamp(),nt.words[Ct>>>2]|=$t<<24-Ct%4*8,nt.sigBytes+=$t},unpad:function(nt){var at=nt.words[nt.sigBytes-1>>>2]&255;nt.sigBytes-=at}},et.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.Iso10126={pad:function(nt,at){var mt=at*4,wt=mt-nt.sigBytes%mt;nt.concat(et.lib.WordArray.random(wt-1)).concat(et.lib.WordArray.create([wt<<24],1))},unpad:function(nt){var at=nt.words[nt.sigBytes-1>>>2]&255;nt.sigBytes-=at}},et.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.Iso97971={pad:function(nt,at){nt.concat(et.lib.WordArray.create([2147483648],1)),et.pad.ZeroPadding.pad(nt,at)},unpad:function(nt){et.pad.ZeroPadding.unpad(nt),nt.sigBytes--}},et.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.ZeroPadding={pad:function(nt,at){var mt=at*4;nt.clamp(),nt.sigBytes+=mt-(nt.sigBytes%mt||mt)},unpad:function(nt){for(var at=nt.words,mt=nt.sigBytes-1,mt=nt.sigBytes-1;mt>=0;mt--)if(at[mt>>>2]>>>24-mt%4*8&255){nt.sigBytes=mt+1;break}}},et.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return et.pad.NoPadding={pad:function(){},unpad:function(){}},et.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(nt){var at=et,mt=at.lib,wt=mt.CipherParams,$t=at.enc,Ct=$t.Hex,Dt=at.format;Dt.Hex={stringify:function(Ft){return Ft.ciphertext.toString(Ct)},parse:function(Ft){var jt=Ct.parse(Ft);return wt.create({ciphertext:jt})}}}(),et.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.BlockCipher,wt=nt.algo,$t=[],Ct=[],Dt=[],Ft=[],jt=[],Nt=[],Lt=[],Ut=[],Vt=[],Yt=[];(function(){for(var nr=[],sr=0;sr<256;sr++)sr<128?nr[sr]=sr<<1:nr[sr]=sr<<1^283;for(var dr=0,br=0,sr=0;sr<256;sr++){var vr=br^br<<1^br<<2^br<<3^br<<4;vr=vr>>>8^vr&255^99,$t[dr]=vr,Ct[vr]=dr;var yr=nr[dr],$r=nr[yr],Sr=nr[$r],wr=nr[vr]*257^vr*16843008;Dt[dr]=wr<<24|wr>>>8,Ft[dr]=wr<<16|wr>>>16,jt[dr]=wr<<8|wr>>>24,Nt[dr]=wr;var wr=Sr*16843009^$r*65537^yr*257^dr*16843008;Lt[vr]=wr<<24|wr>>>8,Ut[vr]=wr<<16|wr>>>16,Vt[vr]=wr<<8|wr>>>24,Yt[vr]=wr,dr?(dr=yr^nr[nr[nr[Sr^yr]]],br^=nr[nr[br]]):dr=br=1}})();var er=[0,1,2,4,8,16,32,64,128,27,54],tr=wt.AES=mt.extend({_doReset:function(){var nr;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var sr=this._keyPriorReset=this._key,dr=sr.words,br=sr.sigBytes/4,vr=this._nRounds=br+6,yr=(vr+1)*4,$r=this._keySchedule=[],Sr=0;Sr<yr;Sr++)Sr<br?$r[Sr]=dr[Sr]:(nr=$r[Sr-1],Sr%br?br>6&&Sr%br==4&&(nr=$t[nr>>>24]<<24|$t[nr>>>16&255]<<16|$t[nr>>>8&255]<<8|$t[nr&255]):(nr=nr<<8|nr>>>24,nr=$t[nr>>>24]<<24|$t[nr>>>16&255]<<16|$t[nr>>>8&255]<<8|$t[nr&255],nr^=er[Sr/br|0]<<24),$r[Sr]=$r[Sr-br]^nr);for(var wr=this._invKeySchedule=[],fr=0;fr<yr;fr++){var Sr=yr-fr;if(fr%4)var nr=$r[Sr];else var nr=$r[Sr-4];fr<4||Sr<=4?wr[fr]=nr:wr[fr]=Lt[$t[nr>>>24]]^Ut[$t[nr>>>16&255]]^Vt[$t[nr>>>8&255]]^Yt[$t[nr&255]]}}},encryptBlock:function(nr,sr){this._doCryptBlock(nr,sr,this._keySchedule,Dt,Ft,jt,Nt,$t)},decryptBlock:function(nr,sr){var dr=nr[sr+1];nr[sr+1]=nr[sr+3],nr[sr+3]=dr,this._doCryptBlock(nr,sr,this._invKeySchedule,Lt,Ut,Vt,Yt,Ct);var dr=nr[sr+1];nr[sr+1]=nr[sr+3],nr[sr+3]=dr},_doCryptBlock:function(nr,sr,dr,br,vr,yr,$r,Sr){for(var wr=this._nRounds,fr=nr[sr]^dr[0],_r=nr[sr+1]^dr[1],ir=nr[sr+2]^dr[2],rr=nr[sr+3]^dr[3],or=4,ar=1;ar<wr;ar++){var ur=br[fr>>>24]^vr[_r>>>16&255]^yr[ir>>>8&255]^$r[rr&255]^dr[or++],pr=br[_r>>>24]^vr[ir>>>16&255]^yr[rr>>>8&255]^$r[fr&255]^dr[or++],cr=br[ir>>>24]^vr[rr>>>16&255]^yr[fr>>>8&255]^$r[_r&255]^dr[or++],gr=br[rr>>>24]^vr[fr>>>16&255]^yr[_r>>>8&255]^$r[ir&255]^dr[or++];fr=ur,_r=pr,ir=cr,rr=gr}var ur=(Sr[fr>>>24]<<24|Sr[_r>>>16&255]<<16|Sr[ir>>>8&255]<<8|Sr[rr&255])^dr[or++],pr=(Sr[_r>>>24]<<24|Sr[ir>>>16&255]<<16|Sr[rr>>>8&255]<<8|Sr[fr&255])^dr[or++],cr=(Sr[ir>>>24]<<24|Sr[rr>>>16&255]<<16|Sr[fr>>>8&255]<<8|Sr[_r&255])^dr[or++],gr=(Sr[rr>>>24]<<24|Sr[fr>>>16&255]<<16|Sr[_r>>>8&255]<<8|Sr[ir&255])^dr[or++];nr[sr]=ur,nr[sr+1]=pr,nr[sr+2]=cr,nr[sr+3]=gr},keySize:256/32});nt.AES=mt._createHelper(tr)}(),et.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.WordArray,wt=at.BlockCipher,$t=nt.algo,Ct=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],Dt=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],Ft=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],jt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],Nt=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Lt=$t.DES=wt.extend({_doReset:function(){for(var er=this._key,tr=er.words,nr=[],sr=0;sr<56;sr++){var dr=Ct[sr]-1;nr[sr]=tr[dr>>>5]>>>31-dr%32&1}for(var br=this._subKeys=[],vr=0;vr<16;vr++){for(var yr=br[vr]=[],$r=Ft[vr],sr=0;sr<24;sr++)yr[sr/6|0]|=nr[(Dt[sr]-1+$r)%28]<<31-sr%6,yr[4+(sr/6|0)]|=nr[28+(Dt[sr+24]-1+$r)%28]<<31-sr%6;yr[0]=yr[0]<<1|yr[0]>>>31;for(var sr=1;sr<7;sr++)yr[sr]=yr[sr]>>>(sr-1)*4+3;yr[7]=yr[7]<<5|yr[7]>>>27}for(var Sr=this._invSubKeys=[],sr=0;sr<16;sr++)Sr[sr]=br[15-sr]},encryptBlock:function(er,tr){this._doCryptBlock(er,tr,this._subKeys)},decryptBlock:function(er,tr){this._doCryptBlock(er,tr,this._invSubKeys)},_doCryptBlock:function(er,tr,nr){this._lBlock=er[tr],this._rBlock=er[tr+1],Ut.call(this,4,252645135),Ut.call(this,16,65535),Vt.call(this,2,858993459),Vt.call(this,8,16711935),Ut.call(this,1,1431655765);for(var sr=0;sr<16;sr++){for(var dr=nr[sr],br=this._lBlock,vr=this._rBlock,yr=0,$r=0;$r<8;$r++)yr|=jt[$r][((vr^dr[$r])&Nt[$r])>>>0];this._lBlock=vr,this._rBlock=br^yr}var Sr=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Sr,Ut.call(this,1,1431655765),Vt.call(this,8,16711935),Vt.call(this,2,858993459),Ut.call(this,16,65535),Ut.call(this,4,252645135),er[tr]=this._lBlock,er[tr+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function Ut(er,tr){var nr=(this._lBlock>>>er^this._rBlock)&tr;this._rBlock^=nr,this._lBlock^=nr<<er}function Vt(er,tr){var nr=(this._rBlock>>>er^this._lBlock)&tr;this._lBlock^=nr,this._rBlock^=nr<<er}nt.DES=wt._createHelper(Lt);var Yt=$t.TripleDES=wt.extend({_doReset:function(){var er=this._key,tr=er.words;if(tr.length!==2&&tr.length!==4&&tr.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var nr=tr.slice(0,2),sr=tr.length<4?tr.slice(0,2):tr.slice(2,4),dr=tr.length<6?tr.slice(0,2):tr.slice(4,6);this._des1=Lt.createEncryptor(mt.create(nr)),this._des2=Lt.createEncryptor(mt.create(sr)),this._des3=Lt.createEncryptor(mt.create(dr))},encryptBlock:function(er,tr){this._des1.encryptBlock(er,tr),this._des2.decryptBlock(er,tr),this._des3.encryptBlock(er,tr)},decryptBlock:function(er,tr){this._des3.decryptBlock(er,tr),this._des2.encryptBlock(er,tr),this._des1.decryptBlock(er,tr)},keySize:192/32,ivSize:64/32,blockSize:64/32});nt.TripleDES=wt._createHelper(Yt)}(),et.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.StreamCipher,wt=nt.algo,$t=wt.RC4=mt.extend({_doReset:function(){for(var Ft=this._key,jt=Ft.words,Nt=Ft.sigBytes,Lt=this._S=[],Ut=0;Ut<256;Ut++)Lt[Ut]=Ut;for(var Ut=0,Vt=0;Ut<256;Ut++){var Yt=Ut%Nt,er=jt[Yt>>>2]>>>24-Yt%4*8&255;Vt=(Vt+Lt[Ut]+er)%256;var tr=Lt[Ut];Lt[Ut]=Lt[Vt],Lt[Vt]=tr}this._i=this._j=0},_doProcessBlock:function(Ft,jt){Ft[jt]^=Ct.call(this)},keySize:256/32,ivSize:0});function Ct(){for(var Ft=this._S,jt=this._i,Nt=this._j,Lt=0,Ut=0;Ut<4;Ut++){jt=(jt+1)%256,Nt=(Nt+Ft[jt])%256;var Vt=Ft[jt];Ft[jt]=Ft[Nt],Ft[Nt]=Vt,Lt|=Ft[(Ft[jt]+Ft[Nt])%256]<<24-Ut*8}return this._i=jt,this._j=Nt,Lt}nt.RC4=mt._createHelper($t);var Dt=wt.RC4Drop=$t.extend({cfg:$t.cfg.extend({drop:192}),_doReset:function(){$t._doReset.call(this);for(var Ft=this.cfg.drop;Ft>0;Ft--)Ct.call(this)}});nt.RC4Drop=mt._createHelper(Dt)}(),et.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.StreamCipher,wt=nt.algo,$t=[],Ct=[],Dt=[],Ft=wt.Rabbit=mt.extend({_doReset:function(){for(var Nt=this._key.words,Lt=this.cfg.iv,Ut=0;Ut<4;Ut++)Nt[Ut]=(Nt[Ut]<<8|Nt[Ut]>>>24)&16711935|(Nt[Ut]<<24|Nt[Ut]>>>8)&4278255360;var Vt=this._X=[Nt[0],Nt[3]<<16|Nt[2]>>>16,Nt[1],Nt[0]<<16|Nt[3]>>>16,Nt[2],Nt[1]<<16|Nt[0]>>>16,Nt[3],Nt[2]<<16|Nt[1]>>>16],Yt=this._C=[Nt[2]<<16|Nt[2]>>>16,Nt[0]&4294901760|Nt[1]&65535,Nt[3]<<16|Nt[3]>>>16,Nt[1]&4294901760|Nt[2]&65535,Nt[0]<<16|Nt[0]>>>16,Nt[2]&4294901760|Nt[3]&65535,Nt[1]<<16|Nt[1]>>>16,Nt[3]&4294901760|Nt[0]&65535];this._b=0;for(var Ut=0;Ut<4;Ut++)jt.call(this);for(var Ut=0;Ut<8;Ut++)Yt[Ut]^=Vt[Ut+4&7];if(Lt){var er=Lt.words,tr=er[0],nr=er[1],sr=(tr<<8|tr>>>24)&16711935|(tr<<24|tr>>>8)&4278255360,dr=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360,br=sr>>>16|dr&4294901760,vr=dr<<16|sr&65535;Yt[0]^=sr,Yt[1]^=br,Yt[2]^=dr,Yt[3]^=vr,Yt[4]^=sr,Yt[5]^=br,Yt[6]^=dr,Yt[7]^=vr;for(var Ut=0;Ut<4;Ut++)jt.call(this)}},_doProcessBlock:function(Nt,Lt){var Ut=this._X;jt.call(this),$t[0]=Ut[0]^Ut[5]>>>16^Ut[3]<<16,$t[1]=Ut[2]^Ut[7]>>>16^Ut[5]<<16,$t[2]=Ut[4]^Ut[1]>>>16^Ut[7]<<16,$t[3]=Ut[6]^Ut[3]>>>16^Ut[1]<<16;for(var Vt=0;Vt<4;Vt++)$t[Vt]=($t[Vt]<<8|$t[Vt]>>>24)&16711935|($t[Vt]<<24|$t[Vt]>>>8)&4278255360,Nt[Lt+Vt]^=$t[Vt]},blockSize:128/32,ivSize:64/32});function jt(){for(var Nt=this._X,Lt=this._C,Ut=0;Ut<8;Ut++)Ct[Ut]=Lt[Ut];Lt[0]=Lt[0]+1295307597+this._b|0,Lt[1]=Lt[1]+3545052371+(Lt[0]>>>0<Ct[0]>>>0?1:0)|0,Lt[2]=Lt[2]+886263092+(Lt[1]>>>0<Ct[1]>>>0?1:0)|0,Lt[3]=Lt[3]+1295307597+(Lt[2]>>>0<Ct[2]>>>0?1:0)|0,Lt[4]=Lt[4]+3545052371+(Lt[3]>>>0<Ct[3]>>>0?1:0)|0,Lt[5]=Lt[5]+886263092+(Lt[4]>>>0<Ct[4]>>>0?1:0)|0,Lt[6]=Lt[6]+1295307597+(Lt[5]>>>0<Ct[5]>>>0?1:0)|0,Lt[7]=Lt[7]+3545052371+(Lt[6]>>>0<Ct[6]>>>0?1:0)|0,this._b=Lt[7]>>>0<Ct[7]>>>0?1:0;for(var Ut=0;Ut<8;Ut++){var Vt=Nt[Ut]+Lt[Ut],Yt=Vt&65535,er=Vt>>>16,tr=((Yt*Yt>>>17)+Yt*er>>>15)+er*er,nr=((Vt&4294901760)*Vt|0)+((Vt&65535)*Vt|0);Dt[Ut]=tr^nr}Nt[0]=Dt[0]+(Dt[7]<<16|Dt[7]>>>16)+(Dt[6]<<16|Dt[6]>>>16)|0,Nt[1]=Dt[1]+(Dt[0]<<8|Dt[0]>>>24)+Dt[7]|0,Nt[2]=Dt[2]+(Dt[1]<<16|Dt[1]>>>16)+(Dt[0]<<16|Dt[0]>>>16)|0,Nt[3]=Dt[3]+(Dt[2]<<8|Dt[2]>>>24)+Dt[1]|0,Nt[4]=Dt[4]+(Dt[3]<<16|Dt[3]>>>16)+(Dt[2]<<16|Dt[2]>>>16)|0,Nt[5]=Dt[5]+(Dt[4]<<8|Dt[4]>>>24)+Dt[3]|0,Nt[6]=Dt[6]+(Dt[5]<<16|Dt[5]>>>16)+(Dt[4]<<16|Dt[4]>>>16)|0,Nt[7]=Dt[7]+(Dt[6]<<8|Dt[6]>>>24)+Dt[5]|0}nt.Rabbit=mt._createHelper(Ft)}(),et.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.StreamCipher,wt=nt.algo,$t=[],Ct=[],Dt=[],Ft=wt.RabbitLegacy=mt.extend({_doReset:function(){var Nt=this._key.words,Lt=this.cfg.iv,Ut=this._X=[Nt[0],Nt[3]<<16|Nt[2]>>>16,Nt[1],Nt[0]<<16|Nt[3]>>>16,Nt[2],Nt[1]<<16|Nt[0]>>>16,Nt[3],Nt[2]<<16|Nt[1]>>>16],Vt=this._C=[Nt[2]<<16|Nt[2]>>>16,Nt[0]&4294901760|Nt[1]&65535,Nt[3]<<16|Nt[3]>>>16,Nt[1]&4294901760|Nt[2]&65535,Nt[0]<<16|Nt[0]>>>16,Nt[2]&4294901760|Nt[3]&65535,Nt[1]<<16|Nt[1]>>>16,Nt[3]&4294901760|Nt[0]&65535];this._b=0;for(var Yt=0;Yt<4;Yt++)jt.call(this);for(var Yt=0;Yt<8;Yt++)Vt[Yt]^=Ut[Yt+4&7];if(Lt){var er=Lt.words,tr=er[0],nr=er[1],sr=(tr<<8|tr>>>24)&16711935|(tr<<24|tr>>>8)&4278255360,dr=(nr<<8|nr>>>24)&16711935|(nr<<24|nr>>>8)&4278255360,br=sr>>>16|dr&4294901760,vr=dr<<16|sr&65535;Vt[0]^=sr,Vt[1]^=br,Vt[2]^=dr,Vt[3]^=vr,Vt[4]^=sr,Vt[5]^=br,Vt[6]^=dr,Vt[7]^=vr;for(var Yt=0;Yt<4;Yt++)jt.call(this)}},_doProcessBlock:function(Nt,Lt){var Ut=this._X;jt.call(this),$t[0]=Ut[0]^Ut[5]>>>16^Ut[3]<<16,$t[1]=Ut[2]^Ut[7]>>>16^Ut[5]<<16,$t[2]=Ut[4]^Ut[1]>>>16^Ut[7]<<16,$t[3]=Ut[6]^Ut[3]>>>16^Ut[1]<<16;for(var Vt=0;Vt<4;Vt++)$t[Vt]=($t[Vt]<<8|$t[Vt]>>>24)&16711935|($t[Vt]<<24|$t[Vt]>>>8)&4278255360,Nt[Lt+Vt]^=$t[Vt]},blockSize:128/32,ivSize:64/32});function jt(){for(var Nt=this._X,Lt=this._C,Ut=0;Ut<8;Ut++)Ct[Ut]=Lt[Ut];Lt[0]=Lt[0]+1295307597+this._b|0,Lt[1]=Lt[1]+3545052371+(Lt[0]>>>0<Ct[0]>>>0?1:0)|0,Lt[2]=Lt[2]+886263092+(Lt[1]>>>0<Ct[1]>>>0?1:0)|0,Lt[3]=Lt[3]+1295307597+(Lt[2]>>>0<Ct[2]>>>0?1:0)|0,Lt[4]=Lt[4]+3545052371+(Lt[3]>>>0<Ct[3]>>>0?1:0)|0,Lt[5]=Lt[5]+886263092+(Lt[4]>>>0<Ct[4]>>>0?1:0)|0,Lt[6]=Lt[6]+1295307597+(Lt[5]>>>0<Ct[5]>>>0?1:0)|0,Lt[7]=Lt[7]+3545052371+(Lt[6]>>>0<Ct[6]>>>0?1:0)|0,this._b=Lt[7]>>>0<Ct[7]>>>0?1:0;for(var Ut=0;Ut<8;Ut++){var Vt=Nt[Ut]+Lt[Ut],Yt=Vt&65535,er=Vt>>>16,tr=((Yt*Yt>>>17)+Yt*er>>>15)+er*er,nr=((Vt&4294901760)*Vt|0)+((Vt&65535)*Vt|0);Dt[Ut]=tr^nr}Nt[0]=Dt[0]+(Dt[7]<<16|Dt[7]>>>16)+(Dt[6]<<16|Dt[6]>>>16)|0,Nt[1]=Dt[1]+(Dt[0]<<8|Dt[0]>>>24)+Dt[7]|0,Nt[2]=Dt[2]+(Dt[1]<<16|Dt[1]>>>16)+(Dt[0]<<16|Dt[0]>>>16)|0,Nt[3]=Dt[3]+(Dt[2]<<8|Dt[2]>>>24)+Dt[1]|0,Nt[4]=Dt[4]+(Dt[3]<<16|Dt[3]>>>16)+(Dt[2]<<16|Dt[2]>>>16)|0,Nt[5]=Dt[5]+(Dt[4]<<8|Dt[4]>>>24)+Dt[3]|0,Nt[6]=Dt[6]+(Dt[5]<<16|Dt[5]>>>16)+(Dt[4]<<16|Dt[4]>>>16)|0,Nt[7]=Dt[7]+(Dt[6]<<8|Dt[6]>>>24)+Dt[5]|0}nt.RabbitLegacy=mt._createHelper(Ft)}(),et.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$1,function(et){return function(){var nt=et,at=nt.lib,mt=at.BlockCipher,wt=nt.algo;const $t=16,Ct=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Dt=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var Ft={pbox:[],sbox:[]};function jt(Yt,er){let tr=er>>24&255,nr=er>>16&255,sr=er>>8&255,dr=er&255,br=Yt.sbox[0][tr]+Yt.sbox[1][nr];return br=br^Yt.sbox[2][sr],br=br+Yt.sbox[3][dr],br}function Nt(Yt,er,tr){let nr=er,sr=tr,dr;for(let br=0;br<$t;++br)nr=nr^Yt.pbox[br],sr=jt(Yt,nr)^sr,dr=nr,nr=sr,sr=dr;return dr=nr,nr=sr,sr=dr,sr=sr^Yt.pbox[$t],nr=nr^Yt.pbox[$t+1],{left:nr,right:sr}}function Lt(Yt,er,tr){let nr=er,sr=tr,dr;for(let br=$t+1;br>1;--br)nr=nr^Yt.pbox[br],sr=jt(Yt,nr)^sr,dr=nr,nr=sr,sr=dr;return dr=nr,nr=sr,sr=dr,sr=sr^Yt.pbox[1],nr=nr^Yt.pbox[0],{left:nr,right:sr}}function Ut(Yt,er,tr){for(let vr=0;vr<4;vr++){Yt.sbox[vr]=[];for(let yr=0;yr<256;yr++)Yt.sbox[vr][yr]=Dt[vr][yr]}let nr=0;for(let vr=0;vr<$t+2;vr++)Yt.pbox[vr]=Ct[vr]^er[nr],nr++,nr>=tr&&(nr=0);let sr=0,dr=0,br=0;for(let vr=0;vr<$t+2;vr+=2)br=Nt(Yt,sr,dr),sr=br.left,dr=br.right,Yt.pbox[vr]=sr,Yt.pbox[vr+1]=dr;for(let vr=0;vr<4;vr++)for(let yr=0;yr<256;yr+=2)br=Nt(Yt,sr,dr),sr=br.left,dr=br.right,Yt.sbox[vr][yr]=sr,Yt.sbox[vr][yr+1]=dr;return!0}var Vt=wt.Blowfish=mt.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var Yt=this._keyPriorReset=this._key,er=Yt.words,tr=Yt.sigBytes/4;Ut(Ft,er,tr)}},encryptBlock:function(Yt,er){var tr=Nt(Ft,Yt[er],Yt[er+1]);Yt[er]=tr.left,Yt[er+1]=tr.right},decryptBlock:function(Yt,er){var tr=Lt(Ft,Yt[er],Yt[er+1]);Yt[er]=tr.left,Yt[er+1]=tr.right},blockSize:64/32,keySize:128/32,ivSize:64/32});nt.Blowfish=mt._createHelper(Vt)}(),et.Blowfish})}(blowfish)),blowfish.exports}(function(s,a){(function(et,nt,at){s.exports=nt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal$1,function(et){return et})})(cryptoJs);var cryptoJsExports=cryptoJs.exports;const crypto$1=getDefaultExportFromCjs$2(cryptoJsExports);var __defProp$2=Object.defineProperty,__defNormalProp$2=(s,a,et)=>a in s?__defProp$2(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__name=(s,a)=>__defProp$2(s,"name",{value:a,configurable:!0}),__publicField=(s,a,et)=>(__defNormalProp$2(s,typeof a!="symbol"?a+"":a,et),et),DEFAULT_HOST="https://pay.coinbase.com",generateOnRampURL=__name(({host:s=DEFAULT_HOST,...a})=>{const et=new URL(s);if(et.pathname="/buy/select-asset",a.destinationWallets&&a.addresses)throw new Error("Only one of destinationWallets or addresses can be provided");if(!a.destinationWallets&&!a.addresses)throw new Error("One of destinationWallets or addresses must be provided");return Object.keys(a).forEach(nt=>{const at=a[nt];at!==void 0&&(["string","number","boolean"].includes(typeof at)?et.searchParams.append(nt,at.toString()):et.searchParams.append(nt,JSON.stringify(at)))}),et.searchParams.sort(),et.toString()},"generateOnRampURL"),EMBEDDED_IFRAME_ID="cbpay-embedded-onramp",createEmbeddedContent=__name(({url:s,width:a="100%",height:et="100%",position:nt="fixed",top:at="0px"})=>{const mt=document.createElement("iframe");return mt.style.border="unset",mt.style.borderWidth="0",mt.style.width=a.toString(),mt.style.height=et.toString(),mt.style.position=nt,mt.style.top=at,mt.id=EMBEDDED_IFRAME_ID,mt.src=s,mt},"createEmbeddedContent"),MessageCodes;(function(s){s.LaunchEmbedded="launch_embedded",s.AppReady="app_ready",s.AppParams="app_params",s.SigninSuccess="signin_success",s.Success="success",s.Exit="exit",s.Event="event",s.Error="error",s.PixelReady="pixel_ready",s.OnAppParamsNonce="on_app_params_nonce"})(MessageCodes||(MessageCodes={}));var onBroadcastedPostMessage=__name((s,{onMessage:a,shouldUnsubscribe:et=!0,allowedOrigin:nt,onValidateOrigin:at=__name(()=>Promise.resolve(!0),"onValidateOrigin")})=>{const mt=__name(wt=>{const{eventName:$t,data:Ct}=parsePostMessage(wt.data),Dt=!nt||wt.origin===nt;$t===s&&(async()=>Dt&&await at(wt.origin)&&(a(Ct),et&&window.removeEventListener("message",mt)))()},"onMessage");return window.addEventListener("message",mt),()=>{window.removeEventListener("message",mt)}},"onBroadcastedPostMessage"),broadcastPostMessage=__name((s,a,{allowedOrigin:et="*",data:nt}={})=>{const at=formatPostMessage(a,nt);s.postMessage(at,et)},"broadcastPostMessage"),parsePostMessage=__name(s=>{try{return JSON.parse(s)}catch{return{eventName:s}}},"parsePostMessage"),formatPostMessage=__name((s,a)=>a?JSON.stringify({eventName:s,data:a}):s,"formatPostMessage"),generateOffRampURL=__name(({host:s=DEFAULT_HOST,...a})=>{const et=new URL(s);return et.pathname="/v3/sell/input",Object.keys(a).forEach(nt=>{const at=a[nt];at!==void 0&&(["string","number","boolean"].includes(typeof at)?et.searchParams.append(nt,at.toString()):et.searchParams.append(nt,JSON.stringify(at)))}),et.searchParams.sort(),et.toString()},"generateOffRampURL"),PopupSizes={signin:{width:460,height:730},widget:{width:430,height:600}},CoinbasePixel=class{constructor({host:s=DEFAULT_HOST,appId:a,appParams:et,debug:nt,theme:at}){__publicField(this,"debug"),__publicField(this,"host"),__publicField(this,"appId"),__publicField(this,"eventStreamListeners",{}),__publicField(this,"unsubs",[]),__publicField(this,"appParams"),__publicField(this,"removeEventListener"),__publicField(this,"theme"),__publicField(this,"openExperience",__name(mt=>{var jt,Nt,Lt,Ut;this.log("Attempting to open experience"),this.setupExperienceListeners(mt);const{experienceLoggedIn:wt,experienceLoggedOut:$t,embeddedContentStyles:Ct}=mt,Dt=$t||wt;let Ft="";if(mt.path==="/v3/sell"?Ft=generateOffRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}):Ft=generateOnRampURL({appId:this.appId,host:this.host,theme:this.theme??void 0,...this.appParams}),this.log("Opening experience",{experience:Dt}),Dt==="embedded"){this.log("DEPRECATION WARNING: Two factor authentication does not work in an iframe, so the embedded experience should not be used. It will be removed in a future release");const Vt=__name(()=>{var er;const Yt=createEmbeddedContent({url:Ft,...Ct});Ct!=null&&Ct.target?(er=document.querySelector(Ct==null?void 0:Ct.target))==null||er.replaceChildren(Yt):document.body.appendChild(Yt)},"openEmbeddedExperience");this.startDirectSignin(Vt)}else Dt==="popup"&&((Nt=(jt=window.chrome)==null?void 0:jt.windows)!=null&&Nt.create)?window.chrome.windows.create({url:Ft,setSelfAsOpener:!0,type:"popup",focused:!0,width:PopupSizes.signin.width,height:PopupSizes.signin.height,left:window.screenLeft-PopupSizes.signin.width-10,top:window.screenTop},Vt=>{const Yt=__name(()=>{Vt!=null&&Vt.id&&(chrome.windows.update(Vt.id,{width:PopupSizes.widget.width,height:PopupSizes.widget.height,left:window.screenLeft-PopupSizes.widget.width-10,top:window.screenTop}),this.removeEventStreamListener("open",Yt))},"onOpenCallback");this.addEventStreamListener("open",Yt)}):Dt==="new_tab"&&((Ut=(Lt=window.chrome)==null?void 0:Lt.tabs)!=null&&Ut.create)?window.chrome.tabs.create({url:Ft}):openWindow(Ft,Dt)},"openExperience")),__publicField(this,"endExperience",__name(()=>{var mt;(mt=document.getElementById(EMBEDDED_IFRAME_ID))==null||mt.remove()},"endExperience")),__publicField(this,"destroy",__name(()=>{this.unsubs.forEach(mt=>mt())},"destroy")),__publicField(this,"setupExperienceListeners",__name(({onSuccess:mt,onExit:wt,onEvent:$t,onRequestedUrl:Ct})=>{this.removeEventListener&&this.removeEventListener(),this.removeEventListener=this.onMessage("event",{shouldUnsubscribe:!1,onMessage:Dt=>{var jt;const Ft=Dt;(jt=this.eventStreamListeners[Ft.eventName])==null||jt.forEach(Nt=>Nt==null?void 0:Nt()),Ft.eventName==="success"&&(mt==null||mt()),Ft.eventName==="exit"&&(wt==null||wt(Ft.error)),Ft.eventName==="request_open_url"&&(Ct==null||Ct(Ft.url)),$t==null||$t(Dt)}})},"setupExperienceListeners")),__publicField(this,"startDirectSignin",__name(mt=>{const wt=new URLSearchParams;wt.set("appId",this.appId),wt.set("type","direct");const $t=`${this.host}/signin?${wt.toString()}`,Ct=openWindow($t,"popup");this.onMessage("signin_success",{onMessage:()=>{Ct==null||Ct.close(),mt()}})},"startDirectSignin")),__publicField(this,"addEventStreamListener",__name((mt,wt)=>{var $t;this.eventStreamListeners[mt]?($t=this.eventStreamListeners[mt])==null||$t.push(wt):this.eventStreamListeners[mt]=[wt]},"addEventStreamListener")),__publicField(this,"removeEventStreamListener",__name((mt,wt)=>{var $t;if(this.eventStreamListeners[mt]){const Ct=($t=this.eventStreamListeners[mt])==null?void 0:$t.filter(Dt=>Dt!==wt);this.eventStreamListeners[mt]=Ct}},"removeEventStreamListener")),__publicField(this,"onMessage",__name((...mt)=>{const wt=onBroadcastedPostMessage(mt[0],{allowedOrigin:this.host,...mt[1]});return this.unsubs.push(wt),wt},"onMessage")),__publicField(this,"log",__name((...mt)=>{this.debug&&console.log("[CBPAY]",...mt)},"log")),this.host=s,this.appId=a,this.appParams=et,this.debug=nt||!1,this.theme=at}};__name(CoinbasePixel,"CoinbasePixel");function openWindow(s,a){return window.open(s,"Coinbase",a==="popup"?`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, height=${PopupSizes.signin.height},width=${PopupSizes.signin.width}`:void 0)}__name(openWindow,"openWindow");var widgetRoutes={buy:"/buy",checkout:"/checkout",sell:"/v3/sell"},CBPayInstance=class{constructor(s){if(__publicField(this,"pixel"),__publicField(this,"options"),__publicField(this,"open",__name(()=>{const{widget:a,experienceLoggedIn:et,experienceLoggedOut:nt,embeddedContentStyles:at,onExit:mt,onSuccess:wt,onEvent:$t,onRequestedUrl:Ct,closeOnSuccess:Dt,closeOnExit:Ft}=this.options;this.pixel.openExperience({path:widgetRoutes[a],experienceLoggedIn:et,experienceLoggedOut:nt,embeddedContentStyles:at,onExit:()=>{mt==null||mt(),Ft&&this.pixel.endExperience()},onSuccess:()=>{wt==null||wt(),Dt&&this.pixel.endExperience()},onRequestedUrl:Ct,onEvent:$t})},"open")),__publicField(this,"destroy",__name(()=>{this.pixel.destroy()},"destroy")),this.options=s,this.pixel=new CoinbasePixel({...s,appParams:{widget:s.widget,...s.appParams}}),s.target){const a=document.querySelector(s.target);a&&a.addEventListener("click",this.open)}}};__name(CBPayInstance,"CBPayInstance");function broadcastEvent(s,a){broadcastPostMessage(s,"event",{data:a})}__name(broadcastEvent,"broadcastEvent");function CustomToast(s){const{children:a,onClose:et}=s;return jsxRuntimeExports.jsxs(HStack,{w:"440px",bg:"background",border:"2px",borderColor:"border",borderRadius:"12px",p:"16px",position:"relative",gap:"16px",sx:{"@media screen and (max-width: 810px)":{w:"unset",minW:"330px",p:"16px"}},children:[jsxRuntimeExports.jsx(VStack,{w:"100%",alignItems:"start",children:a}),jsxRuntimeExports.jsx(Center,{onClick:et,position:"absolute",right:"16px",top:"16px",children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}const img_nodata_error="/assets/img_nodata@2x-BiWQ6WZn.png";function Notfound$1(){return jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsxs(Flex,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"background",direction:"column",left:"50%",top:"0px",transform:"translateX(-50%)",children:[jsxRuntimeExports.jsx(Text,{fontSize:"20px",mb:"-50px",textColor:"text_caption",children:"Oops..."}),jsxRuntimeExports.jsx(Image$1,{w:"350px",h:"529px",src:img_nodata_error}),jsxRuntimeExports.jsx(Text,{fontSize:{md:"32px",lg:"60px"},textColor:"primary",mt:"-80px",children:"Something Error"}),jsxRuntimeExports.jsx(Button,{mt:"40px",w:"200px",onClick:()=>window.location.reload(),children:"Refresh"})]})})}const MAX_RETRY_COUNT=1;class ErrorBoundary extends React$2.Component{constructor(a){super(a),this.state={showErrorComponent:!1,hasError:!1,retryCount:0}}getRetryCountFromURL(){const a=new URLSearchParams(window.location.search);return parseInt(a.get("retryCount")||"0",10)}updateRetryCountInURL(a){const et=new URLSearchParams(window.location.search);et.set("retryCount",a.toString()),window.history.replaceState(null,"",`${window.location.pathname}?${et.toString()}`)}static getDerivedStateFromError(a){return{hasError:!0,showErrorComponent:!1}}componentDidCatch(a,et){if(console.error("Error caught in Error Boundary: ",a,et),a&&String(a).includes("Failed to fetch dynamically imported module")){const at=this.getRetryCountFromURL();if(at<MAX_RETRY_COUNT){const mt=at+1;this.updateRetryCountInURL(mt),console.log(`Retrying... (${mt}/${MAX_RETRY_COUNT})`),window.location.reload()}else console.error("Max retry count reached. Showing fallback UI."),this.setState({showErrorComponent:!0,hasError:!0})}else this.setState({showErrorComponent:!0,hasError:!0})}render(){return this.state.hasError?this.state.showErrorComponent?jsxRuntimeExports.jsx(Notfound$1,{}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):this.props.children}}function NavLink(s){const{children:a,link:et,type:nt="reactRouterLink",isActive:at,fontSize:mt,...wt}=s,$t={fontFamily:"Inter",color:at?"text_caption":"text_paragraph",fontSize:mt||"15px",cursor:"pointer",height:"24px",lineHeight:"24px",_hover:{color:"text_caption"}};return nt==="reactRouterLink"?jsxRuntimeExports.jsx(Link,{as:Link$1,to:et,...$t,...wt,children:a}):nt==="_blank"?jsxRuntimeExports.jsx(Link,{href:et,target:"_blank",...$t,...wt,children:a}):jsxRuntimeExports.jsx(Box,{as:"a",...$t,...wt,children:a})}function useTokenPrice(){const{coinPriceObj:s,setPriceObj:a,clearPriceObj:et}=useTokenPriceStore(),nt=async Ct=>{try{const Dt=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/market_price`,Ft=await fetchGet(Dt,{base_symbol_address_pair:Ct.map(Nt=>fixCoinType(Nt,!1))});console.log(" ~ file: useRates.ts:8 ~ fetchRates ~ res:",Ft);const jt=Ft.prices;if(jt){const Nt={},Lt=new Date().getTime();jt.forEach(Ut=>{Ut.update_time=Lt,Nt[extractStructTagFromType$1(Ut.base_symbol).full_address]=Ut}),a(Nt)}return jt}catch(Dt){return console.log(" ~ file: useRates.ts:21 ~ fetchRates ~ error:",Dt),et(Ct),null}},at=reactExports.useCallback((Ct,Dt)=>{if(!Ct)return;const Ft=s[extractStructTagFromType$1(Ct).full_address];if(Ft&&!(Dt&&new Date().getTime()-Ft.update_time>Dt))return Ft},[s]),mt=reactExports.useCallback((Ct,Dt,Ft)=>{const jt=Number(Dt)==0||!Ft?"0":Ft;if(Dt&&Ct&&+Dt){const Nt=at(Ct);if(Nt)return d$3(Dt).mul(Nt.price).toString()}return jt},[s]),wt=reactExports.useCallback((Ct,Dt,Ft)=>{const jt=Number(Dt)==0||!Ft?"0":Ft;if(Dt&&Ct&&+Dt){const Nt=at(Ct);if(Nt)return d$3(Dt).div(Nt.price).toString()}return jt},[s]);return{getTokenAmountValue:mt,getTokenAmount:wt,getTokenPrice:at,fetchTokenPrices:nt,getPriceKline:async(Ct,Dt)=>{var Nt;const Ft=Ct==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":Ct,jt=`${envConfigs$1==null?void 0:envConfigs$1.cetus_api}/v2/sui/coin/kline?coin_address=${Ft}&interval=day&market=${Dt}`;try{const Lt=await fetchGet(jt),Ut=Math.min(...Lt.list.map(Vt=>Number(Vt==null?void 0:Vt.price)));return{price:((Nt=Lt==null?void 0:Lt.list)==null?void 0:Nt.reverse().map(Vt=>({...Vt,value:d$3(Vt==null?void 0:Vt.price).minus(Ut).toString()})))||[],daily_rate:Lt==null?void 0:Lt.daily_rate.replace("%","")}}catch{return{price:[],daily_rate:""}}}}}var freeGlobal=typeof global$1=="object"&&global$1&&global$1.Object===Object&&global$1,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(s){var a=hasOwnProperty$9.call(s,symToStringTag$1),et=s[symToStringTag$1];try{s[symToStringTag$1]=void 0;var nt=!0}catch{}var at=nativeObjectToString$1.call(s);return nt&&(a?s[symToStringTag$1]=et:delete s[symToStringTag$1]),at}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(s){return nativeObjectToString.call(s)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(s){return s==null?s===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(s)?getRawTag(s):objectToString(s)}function isObjectLike(s){return s!=null&&typeof s=="object"}var symbolTag$1="[object Symbol]";function isSymbol(s){return typeof s=="symbol"||isObjectLike(s)&&baseGetTag(s)==symbolTag$1}function arrayMap(s,a){for(var et=-1,nt=s==null?0:s.length,at=Array(nt);++et<nt;)at[et]=a(s[et],et,s);return at}var isArray=Array.isArray,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(s){if(typeof s=="string")return s;if(isArray(s))return arrayMap(s,baseToString)+"";if(isSymbol(s))return symbolToString?symbolToString.call(s):"";var a=s+"";return a=="0"&&1/s==-1/0?"-0":a}function isObject$1(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function identity(s){return s}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(s){if(!isObject$1(s))return!1;var a=baseGetTag(s);return a==funcTag$1||a==genTag||a==asyncTag||a==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var s=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function isMasked(s){return!!maskSrcKey&&maskSrcKey in s}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(s){if(s!=null){try{return funcToString$1.call(s)}catch{}try{return s+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(s){if(!isObject$1(s)||isMasked(s))return!1;var a=isFunction(s)?reIsNative:reIsHostCtor;return a.test(toSource(s))}function getValue$1(s,a){return s==null?void 0:s[a]}function getNative(s,a){var et=getValue$1(s,a);return baseIsNative(et)?et:void 0}var WeakMap$1=getNative(root,"WeakMap"),MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(s,a){var et=typeof s;return a=a??MAX_SAFE_INTEGER$1,!!a&&(et=="number"||et!="symbol"&&reIsUint.test(s))&&s>-1&&s%1==0&&s<a}function eq$1(s,a){return s===a||s!==s&&a!==a}var MAX_SAFE_INTEGER=9007199254740991;function isLength(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=MAX_SAFE_INTEGER}function isArrayLike(s){return s!=null&&isLength(s.length)&&!isFunction(s)}var objectProto$8=Object.prototype;function isPrototype(s){var a=s&&s.constructor,et=typeof a=="function"&&a.prototype||objectProto$8;return s===et}function baseTimes(s,a){for(var et=-1,nt=Array(s);++et<s;)nt[et]=a(et);return nt}var argsTag$2="[object Arguments]";function baseIsArguments(s){return isObjectLike(s)&&baseGetTag(s)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(s){return isObjectLike(s)&&hasOwnProperty$7.call(s,"callee")&&!propertyIsEnumerable$1.call(s,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(s){return isObjectLike(s)&&isLength(s.length)&&!!typedArrayTags[baseGetTag(s)]}function baseUnary(s){return function(a){return s(a)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var s=freeModule&&freeModule.require&&freeModule.require("util").types;return s||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(s,a){var et=isArray(s),nt=!et&&isArguments(s),at=!et&&!nt&&isBuffer(s),mt=!et&&!nt&&!at&&isTypedArray(s),wt=et||nt||at||mt,$t=wt?baseTimes(s.length,String):[],Ct=$t.length;for(var Dt in s)(a||hasOwnProperty$6.call(s,Dt))&&!(wt&&(Dt=="length"||at&&(Dt=="offset"||Dt=="parent")||mt&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||isIndex(Dt,Ct)))&&$t.push(Dt);return $t}function overArg(s,a){return function(et){return s(a(et))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(s){if(!isPrototype(s))return nativeKeys(s);var a=[];for(var et in Object(s))hasOwnProperty$5.call(s,et)&&et!="constructor"&&a.push(et);return a}function keys(s){return isArrayLike(s)?arrayLikeKeys(s):baseKeys(s)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(s,a){if(isArray(s))return!1;var et=typeof s;return et=="number"||et=="symbol"||et=="boolean"||s==null||isSymbol(s)?!0:reIsPlainProp.test(s)||!reIsDeepProp.test(s)||a!=null&&s in Object(a)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(s){var a=this.__data__;if(nativeCreate){var et=a[s];return et===HASH_UNDEFINED$2?void 0:et}return hasOwnProperty$4.call(a,s)?a[s]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(s){var a=this.__data__;return nativeCreate?a[s]!==void 0:hasOwnProperty$3.call(a,s)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(s,a){var et=this.__data__;return this.size+=this.has(s)?0:1,et[s]=nativeCreate&&a===void 0?HASH_UNDEFINED$1:a,this}function Hash(s){var a=-1,et=s==null?0:s.length;for(this.clear();++a<et;){var nt=s[a];this.set(nt[0],nt[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(s,a){for(var et=s.length;et--;)if(eq$1(s[et][0],a))return et;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(s){var a=this.__data__,et=assocIndexOf(a,s);if(et<0)return!1;var nt=a.length-1;return et==nt?a.pop():splice.call(a,et,1),--this.size,!0}function listCacheGet(s){var a=this.__data__,et=assocIndexOf(a,s);return et<0?void 0:a[et][1]}function listCacheHas(s){return assocIndexOf(this.__data__,s)>-1}function listCacheSet(s,a){var et=this.__data__,nt=assocIndexOf(et,s);return nt<0?(++this.size,et.push([s,a])):et[nt][1]=a,this}function ListCache(s){var a=-1,et=s==null?0:s.length;for(this.clear();++a<et;){var nt=s[a];this.set(nt[0],nt[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function getMapData(s,a){var et=s.__data__;return isKeyable(a)?et[typeof a=="string"?"string":"hash"]:et.map}function mapCacheDelete(s){var a=getMapData(this,s).delete(s);return this.size-=a?1:0,a}function mapCacheGet(s){return getMapData(this,s).get(s)}function mapCacheHas(s){return getMapData(this,s).has(s)}function mapCacheSet(s,a){var et=getMapData(this,s),nt=et.size;return et.set(s,a),this.size+=et.size==nt?0:1,this}function MapCache(s){var a=-1,et=s==null?0:s.length;for(this.clear();++a<et;){var nt=s[a];this.set(nt[0],nt[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(FUNC_ERROR_TEXT);var et=function(){var nt=arguments,at=a?a.apply(this,nt):nt[0],mt=et.cache;if(mt.has(at))return mt.get(at);var wt=s.apply(this,nt);return et.cache=mt.set(at,wt)||mt,wt};return et.cache=new(memoize.Cache||MapCache),et}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(s){var a=memoize(s,function(nt){return et.size===MAX_MEMOIZE_SIZE&&et.clear(),nt}),et=a.cache;return a}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(rePropName,function(et,nt,at,mt){a.push(at?mt.replace(reEscapeChar,"$1"):nt||et)}),a});function toString(s){return s==null?"":baseToString(s)}function castPath(s,a){return isArray(s)?s:isKey(s,a)?[s]:stringToPath(toString(s))}function toKey(s){if(typeof s=="string"||isSymbol(s))return s;var a=s+"";return a=="0"&&1/s==-1/0?"-0":a}function baseGet(s,a){a=castPath(a,s);for(var et=0,nt=a.length;s!=null&&et<nt;)s=s[toKey(a[et++])];return et&&et==nt?s:void 0}function get(s,a,et){var nt=s==null?void 0:baseGet(s,a);return nt===void 0?et:nt}function arrayPush(s,a){for(var et=-1,nt=a.length,at=s.length;++et<nt;)s[at+et]=a[et];return s}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(s){var a=this.__data__,et=a.delete(s);return this.size=a.size,et}function stackGet(s){return this.__data__.get(s)}function stackHas(s){return this.__data__.has(s)}var LARGE_ARRAY_SIZE=200;function stackSet(s,a){var et=this.__data__;if(et instanceof ListCache){var nt=et.__data__;if(!Map$1||nt.length<LARGE_ARRAY_SIZE-1)return nt.push([s,a]),this.size=++et.size,this;et=this.__data__=new MapCache(nt)}return et.set(s,a),this.size=et.size,this}function Stack(s){var a=this.__data__=new ListCache(s);this.size=a.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(s,a){for(var et=-1,nt=s==null?0:s.length,at=0,mt=[];++et<nt;){var wt=s[et];a(wt,et,s)&&(mt[at++]=wt)}return mt}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(s){return s==null?[]:(s=Object(s),arrayFilter(nativeGetSymbols(s),function(a){return propertyIsEnumerable.call(s,a)}))}:stubArray;function baseGetAllKeys(s,a,et){var nt=a(s);return isArray(s)?nt:arrayPush(nt,et(s))}function getAllKeys(s){return baseGetAllKeys(s,keys,getSymbols)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(s){var a=baseGetTag(s),et=a==objectTag$1?s.constructor:void 0,nt=et?toSource(et):"";if(nt)switch(nt){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return a});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(s){return this.__data__.set(s,HASH_UNDEFINED),this}function setCacheHas(s){return this.__data__.has(s)}function SetCache(s){var a=-1,et=s==null?0:s.length;for(this.__data__=new MapCache;++a<et;)this.add(s[a])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(s,a){for(var et=-1,nt=s==null?0:s.length;++et<nt;)if(a(s[et],et,s))return!0;return!1}function cacheHas(s,a){return s.has(a)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(s,a,et,nt,at,mt){var wt=et&COMPARE_PARTIAL_FLAG$5,$t=s.length,Ct=a.length;if($t!=Ct&&!(wt&&Ct>$t))return!1;var Dt=mt.get(s),Ft=mt.get(a);if(Dt&&Ft)return Dt==a&&Ft==s;var jt=-1,Nt=!0,Lt=et&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(mt.set(s,a),mt.set(a,s);++jt<$t;){var Ut=s[jt],Vt=a[jt];if(nt)var Yt=wt?nt(Vt,Ut,jt,a,s,mt):nt(Ut,Vt,jt,s,a,mt);if(Yt!==void 0){if(Yt)continue;Nt=!1;break}if(Lt){if(!arraySome(a,function(er,tr){if(!cacheHas(Lt,tr)&&(Ut===er||at(Ut,er,et,nt,mt)))return Lt.push(tr)})){Nt=!1;break}}else if(!(Ut===Vt||at(Ut,Vt,et,nt,mt))){Nt=!1;break}}return mt.delete(s),mt.delete(a),Nt}function mapToArray(s){var a=-1,et=Array(s.size);return s.forEach(function(nt,at){et[++a]=[at,nt]}),et}function setToArray(s){var a=-1,et=Array(s.size);return s.forEach(function(nt){et[++a]=nt}),et}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(s,a,et,nt,at,mt,wt){switch(et){case dataViewTag:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case arrayBufferTag:return!(s.byteLength!=a.byteLength||!mt(new Uint8Array$1(s),new Uint8Array$1(a)));case boolTag:case dateTag:case numberTag:return eq$1(+s,+a);case errorTag:return s.name==a.name&&s.message==a.message;case regexpTag:case stringTag:return s==a+"";case mapTag:var $t=mapToArray;case setTag:var Ct=nt&COMPARE_PARTIAL_FLAG$4;if($t||($t=setToArray),s.size!=a.size&&!Ct)return!1;var Dt=wt.get(s);if(Dt)return Dt==a;nt|=COMPARE_UNORDERED_FLAG$2,wt.set(s,a);var Ft=equalArrays($t(s),$t(a),nt,at,mt,wt);return wt.delete(s),Ft;case symbolTag:if(symbolValueOf)return symbolValueOf.call(s)==symbolValueOf.call(a)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(s,a,et,nt,at,mt){var wt=et&COMPARE_PARTIAL_FLAG$3,$t=getAllKeys(s),Ct=$t.length,Dt=getAllKeys(a),Ft=Dt.length;if(Ct!=Ft&&!wt)return!1;for(var jt=Ct;jt--;){var Nt=$t[jt];if(!(wt?Nt in a:hasOwnProperty$2.call(a,Nt)))return!1}var Lt=mt.get(s),Ut=mt.get(a);if(Lt&&Ut)return Lt==a&&Ut==s;var Vt=!0;mt.set(s,a),mt.set(a,s);for(var Yt=wt;++jt<Ct;){Nt=$t[jt];var er=s[Nt],tr=a[Nt];if(nt)var nr=wt?nt(tr,er,Nt,a,s,mt):nt(er,tr,Nt,s,a,mt);if(!(nr===void 0?er===tr||at(er,tr,et,nt,mt):nr)){Vt=!1;break}Yt||(Yt=Nt=="constructor")}if(Vt&&!Yt){var sr=s.constructor,dr=a.constructor;sr!=dr&&"constructor"in s&&"constructor"in a&&!(typeof sr=="function"&&sr instanceof sr&&typeof dr=="function"&&dr instanceof dr)&&(Vt=!1)}return mt.delete(s),mt.delete(a),Vt}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(s,a,et,nt,at,mt){var wt=isArray(s),$t=isArray(a),Ct=wt?arrayTag:getTag(s),Dt=$t?arrayTag:getTag(a);Ct=Ct==argsTag?objectTag:Ct,Dt=Dt==argsTag?objectTag:Dt;var Ft=Ct==objectTag,jt=Dt==objectTag,Nt=Ct==Dt;if(Nt&&isBuffer(s)){if(!isBuffer(a))return!1;wt=!0,Ft=!1}if(Nt&&!Ft)return mt||(mt=new Stack),wt||isTypedArray(s)?equalArrays(s,a,et,nt,at,mt):equalByTag(s,a,Ct,et,nt,at,mt);if(!(et&COMPARE_PARTIAL_FLAG$2)){var Lt=Ft&&hasOwnProperty$1.call(s,"__wrapped__"),Ut=jt&&hasOwnProperty$1.call(a,"__wrapped__");if(Lt||Ut){var Vt=Lt?s.value():s,Yt=Ut?a.value():a;return mt||(mt=new Stack),at(Vt,Yt,et,nt,mt)}}return Nt?(mt||(mt=new Stack),equalObjects(s,a,et,nt,at,mt)):!1}function baseIsEqual(s,a,et,nt,at){return s===a?!0:s==null||a==null||!isObjectLike(s)&&!isObjectLike(a)?s!==s&&a!==a:baseIsEqualDeep(s,a,et,nt,baseIsEqual,at)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(s,a,et,nt){var at=et.length,mt=at;if(s==null)return!mt;for(s=Object(s);at--;){var wt=et[at];if(wt[2]?wt[1]!==s[wt[0]]:!(wt[0]in s))return!1}for(;++at<mt;){wt=et[at];var $t=wt[0],Ct=s[$t],Dt=wt[1];if(wt[2]){if(Ct===void 0&&!($t in s))return!1}else{var Ft=new Stack,jt;if(!(jt===void 0?baseIsEqual(Dt,Ct,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,nt,Ft):jt))return!1}}return!0}function isStrictComparable(s){return s===s&&!isObject$1(s)}function getMatchData(s){for(var a=keys(s),et=a.length;et--;){var nt=a[et],at=s[nt];a[et]=[nt,at,isStrictComparable(at)]}return a}function matchesStrictComparable(s,a){return function(et){return et==null?!1:et[s]===a&&(a!==void 0||s in Object(et))}}function baseMatches(s){var a=getMatchData(s);return a.length==1&&a[0][2]?matchesStrictComparable(a[0][0],a[0][1]):function(et){return et===s||baseIsMatch(et,s,a)}}function baseHasIn(s,a){return s!=null&&a in Object(s)}function hasPath(s,a,et){a=castPath(a,s);for(var nt=-1,at=a.length,mt=!1;++nt<at;){var wt=toKey(a[nt]);if(!(mt=s!=null&&et(s,wt)))break;s=s[wt]}return mt||++nt!=at?mt:(at=s==null?0:s.length,!!at&&isLength(at)&&isIndex(wt,at)&&(isArray(s)||isArguments(s)))}function hasIn(s,a){return s!=null&&hasPath(s,a,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(s,a){return isKey(s)&&isStrictComparable(a)?matchesStrictComparable(toKey(s),a):function(et){var nt=get(et,s);return nt===void 0&&nt===a?hasIn(et,s):baseIsEqual(a,nt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(s){return function(a){return a==null?void 0:a[s]}}function basePropertyDeep(s){return function(a){return baseGet(a,s)}}function property(s){return isKey(s)?baseProperty(toKey(s)):basePropertyDeep(s)}function baseIteratee(s){return typeof s=="function"?s:s==null?identity:typeof s=="object"?isArray(s)?baseMatchesProperty(s[0],s[1]):baseMatches(s):property(s)}function createBaseFor(s){return function(a,et,nt){for(var at=-1,mt=Object(a),wt=nt(a),$t=wt.length;$t--;){var Ct=wt[++at];if(et(mt[Ct],Ct,mt)===!1)break}return a}}var baseFor=createBaseFor();function baseForOwn(s,a){return s&&baseFor(s,a,keys)}function createBaseEach(s,a){return function(et,nt){if(et==null)return et;if(!isArrayLike(et))return s(et,nt);for(var at=et.length,mt=-1,wt=Object(et);++mt<at&&nt(wt[mt],mt,wt)!==!1;);return et}}var baseEach=createBaseEach(baseForOwn);function baseMap(s,a){var et=-1,nt=isArrayLike(s)?Array(s.length):[];return baseEach(s,function(at,mt,wt){nt[++et]=a(at,mt,wt)}),nt}function baseSortBy(s,a){var et=s.length;for(s.sort(a);et--;)s[et]=s[et].value;return s}function compareAscending(s,a){if(s!==a){var et=s!==void 0,nt=s===null,at=s===s,mt=isSymbol(s),wt=a!==void 0,$t=a===null,Ct=a===a,Dt=isSymbol(a);if(!$t&&!Dt&&!mt&&s>a||mt&&wt&&Ct&&!$t&&!Dt||nt&&wt&&Ct||!et&&Ct||!at)return 1;if(!nt&&!mt&&!Dt&&s<a||Dt&&et&&at&&!nt&&!mt||$t&&et&&at||!wt&&at||!Ct)return-1}return 0}function compareMultiple(s,a,et){for(var nt=-1,at=s.criteria,mt=a.criteria,wt=at.length,$t=et.length;++nt<wt;){var Ct=compareAscending(at[nt],mt[nt]);if(Ct){if(nt>=$t)return Ct;var Dt=et[nt];return Ct*(Dt=="desc"?-1:1)}}return s.index-a.index}function baseOrderBy(s,a,et){a.length?a=arrayMap(a,function(mt){return isArray(mt)?function(wt){return baseGet(wt,mt.length===1?mt[0]:mt)}:mt}):a=[identity];var nt=-1;a=arrayMap(a,baseUnary(baseIteratee));var at=baseMap(s,function(mt,wt,$t){var Ct=arrayMap(a,function(Dt){return Dt(mt)});return{criteria:Ct,index:++nt,value:mt}});return baseSortBy(at,function(mt,wt){return compareMultiple(mt,wt,et)})}function orderBy(s,a,et,nt){return s==null?[]:(isArray(a)||(a=a==null?[]:[a]),et=et,isArray(et)||(et=et==null?[]:[et]),baseOrderBy(s,a,et))}function useTokenSelect(){const{tokenMap:s}=useTokenStore(),{setCollectList:a,collectList:et,setTrustedList:nt,setFilterTokenLoading:at,setFilterTokenList:mt,importTokenList:wt,setImportTokenList:$t,liquidityTrustTokenList:Ct,setLiquidityTrustTokenList:Dt,setShowImportBtn:Ft,trustedTokenList:jt,setTrustedListLabel:Nt,setUserCollectList:Lt,userCollectList:Ut}=useTokenSelectStore(),{tokenBalanceObj:Vt}=useTokenBalanceStore(),{currentAccount:Yt}=useAccountStore(),{getTokenPrice:er}=useTokenPrice(),{clmmSdk:tr}=useClmmSDKStore(),{showCommonToast:nr}=useGlobalToast(),sr=async()=>{const gr=jt.filter(Pr=>Pr.suggested_priority&&Pr.suggested_priority[0]),lr=gr.sort((Pr,Ar)=>Number(Ar.suggested_priority[0])-Number(Pr.suggested_priority[0]));LocalStorageService.setItem(COLLECT_TOKEN_LIST,lr);const xr=[...gr,...lr],Mr=[...new Map(xr.map(Pr=>[extractStructTagFromType$1((Pr==null?void 0:Pr.coin_type)||(Pr==null?void 0:Pr.address)).full_address||(Pr==null?void 0:Pr.address),Pr])).values()];a(Mr)},dr=async()=>{const gr=await LocalStorageService.getItem(USER_COLLECT_TOKEN_LIST)||[];Lt(gr)},br=gr=>{const hr=Ut.filter(lr=>lr.coin_type!==gr.coin_type);Lt(hr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,hr),nr("Removed","success")},vr=gr=>{const hr=gr.map(xr=>xr.coin_type),lr=Ut.filter(xr=>!hr.includes(xr.coin_type));Lt(lr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,lr)},yr=gr=>{const hr=[...Ut,gr];Lt(hr),LocalStorageService.setItem(USER_COLLECT_TOKEN_LIST,hr),nr("Added","success")},$r=async()=>{const gr=await LocalStorageService.getItem(IMPORT_TOKEN_LIST);gr&&$t(gr)},Sr=gr=>{const hr=[...wt,...gr];$t(hr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,hr),nr("Imported","success")},wr=gr=>{const hr=gr.map(xr=>xr.coin_type),lr=wt.filter(xr=>!hr.includes(xr.coin_type));$t(lr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,lr),vr(gr),nr((gr==null?void 0:gr.length)==(wt==null?void 0:wt.length)?"Cleared":"Removed","success")},fr=()=>{const gr=jt.map(lr=>lr.coin_type),hr=wt.filter(lr=>!gr.includes(lr.coin_type));$t(hr),LocalStorageService.setItem(IMPORT_TOKEN_LIST,hr)},_r=gr=>{const hr=[...Ct,...gr];console.log(" ~ file: useTokenSelect.ts:100 ~ addImportTokenList ~ list:",hr),Dt(hr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,hr)},ir=gr=>{const hr=gr.map(xr=>xr.coin_type),lr=Ct.filter(xr=>!hr.includes(xr.coin_type));Dt(lr),LocalStorageService.setItem(LIQUIDITY_TRUST_TOKEN_LIST,lr)},rr=(gr,hr)=>Vt[gr]&&(Yt!=null&&Yt.address)?bnToAmount(Vt[gr].totalBalance,hr):0,or=(gr,hr,lr=!0)=>{console.log(" ~ useTokenSelect.ts:160 ~ sortWithTokenList ~ keyword:",hr);const xr=hr&&hr.toLocaleLowerCase(),Mr=gr.map(Ar=>{var Br;let Ir=0,qr=0;Ar.symbol.toLowerCase()===xr||Ar.name.toLowerCase()===xr||Ar.coin_type.toLowerCase()===xr?(Ir=1e3,qr=2):Ar.symbol.toLowerCase().indexOf(xr)>-1?(Ir=100,qr=0):Ar.name.toLowerCase().indexOf(xr)>-1?(Ir=10,qr=0):Ar.coin_type.toLowerCase().indexOf(xr)>-1?(Ir=1,qr=0):(Ar.coin_type.toLowerCase()=="0x2::sui::sui"||Ar.coin_type.toLocaleLowerCase()=="0000000000000000000000000000000000000000000000000000000000000002::sui::sui")&&(qr=1);const Rr=lr&&rr(extractStructTagFromType$1(Ar.coin_type).full_address,Ar.decimals)||0,Tr=lr&&((Br=er(Ar.coin_type))==null?void 0:Br.price)||void 0,Er=Array.isArray(Ar==null?void 0:Ar.coin_priority)?Number(Ar.coin_priority[0])||0:Number(Ar==null?void 0:Ar.coin_priority)||0;return{...Ar,coin_priority_sort:Er,mark:Ir,sort:qr,balance:Rr,price:Tr,balanceUSD:Tr?d$2(Rr).mul(d$2(Tr)).toNumber():"0"}}),Pr=orderBy(Mr,["sort","mark","balanceUSD","balance","coin_priority_sort","symbol"],["desc","desc","desc","desc","desc","asc"]);return console.log(" ~ useTokenSelect.ts:202 ~ sortWithTokenList ~ sortedTokens:",Pr),Pr},ar=()=>{const gr=[],hr=[],lr=[{label:"All",value:"All"},{label:"Native",value:"Native"}];console.log(" ~ file: useTokenSelect.ts:199 ~ getDefaultTokenList ~ tokenMap.values():",s.values());for(const Pr of s.values())Pr.is_trusted&&Pr.coin_type!=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"&&(gr.push(Pr),Pr.labels&&Pr.labels[0]&&hr.push({label:Pr.labels[0],value:Pr.labels[0]}));const xr=or(gr,"");console.log(" ~ file: useTokenSelect.ts:211 ~ getDefaultTokenList ~ result:",gr),console.log(" ~ file: useTokenSelect.ts:221 ~ getDefaultTokenList ~ sortResult:",xr),nt(xr);const Mr=Array.from(new Set(hr.map(Pr=>Pr.label))).map(Pr=>hr.find(Ar=>Ar.label===Pr));Nt(lr.concat(Mr)),console.log(" ~ file: useTokenSelect.ts:194 ~ getDefaultTokenList ~ trustedListLabel.concat(Array.from(new Set(labelList))):",lr.concat(Array.from(new Set(hr))))},ur=async(gr,hr,lr,xr=!0,Mr=!0)=>{let Pr=!1;Ft(!1);const Ar=getSuiObjectType(gr),Ir=isSuiObjectType(gr)?suiAddressLongToShort(extractStructTagFromType$1(suiAddressLongToShort(gr).toLowerCase()).full_address).toLocaleLowerCase():gr.toLowerCase(),qr=hr.filter(Br=>{var Nr;return Br.symbol.toLowerCase().indexOf(Ir)!==-1||Br.coin_type.toLowerCase().indexOf(Ir)!==-1||Br.name.toLowerCase().indexOf(Ir)!==-1||(Br==null?void 0:Br.coin_type)&&((Nr=Br==null?void 0:Br.coin_type)==null?void 0:Nr.toLowerCase().indexOf(Ir))!==-1}),Rr=lr.filter(Br=>Br.symbol.toLowerCase().indexOf(Ir)!==-1||Br.coin_type.toLowerCase().indexOf(Ir)!==-1||Br.name.toLowerCase().indexOf(Ir)!==-1);let Tr=qr.concat(Rr);if(Tr&&Tr.length==0&&Ar.split("::").length==3&&Mr)try{const Br=await tr.CetusConfig.getTokenListByCoinTypes([Ar]);if(Br[Ar])Tr=[{...Br[Ar],is_trusted:!1,coin_type:extractStructTagFromType$1(Ar).full_address,description:""}],Pr=!0;else{const{data:Nr}=await fetch(`/data/hop-coin-info.json?timestamp=${new Date().getTime()}`).then(Hr=>Hr.json()),zr=Nr[Ar];Nr&&zr&&(Tr=[{...zr,is_trusted:!1,logo_url:zr.iconUrl,coin_type:extractStructTagFromType$1(Ar).full_address}],Pr=!0)}}catch(Br){console.log(" ~ file: useTokenSelect.ts:90 ~ filterTokenList ~ error:",Br)}const Er=or(Tr,Ar);mt(Er),Ft(xr?Pr:!1),at(!1),console.log(" ~ file: useTokenSelect.ts:238 ~ filterTokenListFun ~ filterTokenListFun:",Er)},pr=(gr,hr)=>{const lr=hr.filter(Mr=>gr=="Native"?!Mr.labels||Mr.labels.length==0||Mr.labels=="Native":Mr.labels&&Mr.labels.length>0&&Mr.labels[0].toLowerCase()==gr.toLowerCase());console.log(" ~ file: useTokenSelect.ts:279 ~ filterTokenWithLabel ~ result:",lr);const xr=or(lr,"");mt(xr)},cr=(gr,hr,lr)=>{let xr=hr.findIndex(Mr=>Mr.coin_type.toLowerCase()==gr.toLowerCase());return xr>=0?"Default":(xr=lr.findIndex(Mr=>Mr.coin_type.toLowerCase()==gr.toLowerCase()),xr>=0?"Imported":"Default")};return reactExports.useEffect(()=>()=>{Ft(!1)},[]),{getCollectList:sr,getDefaultTokenList:ar,filterTokenListFun:ur,filterTokenWithLabel:pr,getImportTokenList:$r,addImportTokenList:Sr,delImportTokenList:wr,addLiquidityTrustTokenList:_r,removeLiquidityTrustTokenList:ir,updateImportTokenList:fr,sortWithTokenList:or,getTabByAddress:cr,getUserCollectList:dr,delUserCollectTokens:vr,addUserCollectToken:yr,delUserCollectToken:br}}function useExplorer(){const{currentExplorer:s}=useRpcConfigStore();return{getExplorerUrl:(et,nt="account",at=s)=>{const mt=at.name.toLocaleLowerCase().indexOf("suivision")>-1?"SuiVision":at.name.toLocaleLowerCase().indexOf("suiscan")>-1?"Suiscan":"";let wt;return mt=="SuiVision"?wt=`${at.link}/${getSuiVisionKey(nt)}/${et}`:wt=`${at.link}/${getSuiscanKey(nt)}/${et}`,wt}}}const getSuiscanKey=s=>{switch(s){case"account":return"address";case"token":return"object";case"tx":return"tx";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},getSuiVisionKey=s=>{switch(s){case"account":return"account";case"token":return"object";case"tx":return"txblock";case"poolAddress":return"object";case"nftAddress":return"object";case"coin":return"coin"}},useFetch=()=>{const{domains:s,currentDomain:a,setCurrentDomain:et,setUnhealthyDomains:nt,unhealthyDomains:at}=useGlobalApiDomainStore(),mt=()=>{const $t=s.length;if($t>1&&at.length<$t-1){nt(a);const Ct=s.indexOf(a);let Dt="";return Ct!==$t-1?Dt=s[Ct+1]:Dt=s[0],Dt}return""},wt=async($t,Ct,Dt,Ft)=>{console.log(" ~ file: useFetch.ts:30 ~ fetchByApi ~ params:",{path:$t,type:Ct,options:Dt,domain:Ft||a});try{return Ct==="GET"?await fetchGet(`${Ft||a}${$t}`,Dt):await fetchPost(`${Ft||a}${$t}`,Dt)}catch(jt){console.log(" ~ file: useFetch.ts:41 ~ fetchByApi ~ error:",jt);const Nt=mt();if(Nt)return et(Nt),wt($t,Ct,Dt,Nt);throw jt}};return{fetchByApi:wt}};function useGetTokens(){const{fetchByApi:s}=useFetch(),{setTokenMap:a}=useTokenStore(),{setTrustedList:et}=useTokenSelectStore();return{getTokens:async()=>{var $t;const at=await s("/v2/sui/coins_info","GET"),mt=($t=at==null?void 0:at.list)==null?void 0:$t.reduce((Ct,Dt)=>(Ct.set(Dt.coin_type,Dt),Ct),new Map);mt&&(mt.set("0x2::sui::SUI",{...mt.get("0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"),coin_type:"0x2::sui::SUI"}),a(mt));const wt=[];for(const[Ct,Dt]of mt)Dt.is_trusted&&Dt.coin_type!=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"&&wt.push(Dt);console.log(" ~ file: useGetTokens.ts:8 ~ getTokens ~ res:",wt),et(wt)}}}const ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(s){let a;if(s instanceof Uint8Array)a=s;else if(typeof s=="string")a=new TextEncoder().encode(s);else throw new Error(ERROR_MSG_INPUT);return a}function toHex(s){return Array.prototype.map.call(s,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function uint32ToHex(s){return(4294967296+s).toString(16).substring(1)}function debugPrint(s,a,et){let nt=`
`+s+" = ";for(let at=0;at<a.length;at+=2){if(et===32)nt+=uint32ToHex(a[at]).toUpperCase(),nt+=" ",nt+=uint32ToHex(a[at+1]).toUpperCase();else if(et===64)nt+=uint32ToHex(a[at+1]).toUpperCase(),nt+=uint32ToHex(a[at]).toUpperCase();else throw new Error("Invalid size "+et);at%6===4?nt+=`
`+new Array(s.length+4).join(" "):at<a.length-2&&(nt+=" ")}console.log(nt)}function testSpeed(s,a,et){let nt=new Date().getTime();const at=new Uint8Array(a);for(let wt=0;wt<a;wt++)at[wt]=wt%256;const mt=new Date().getTime();console.log("Generated random input in "+(mt-nt)+"ms"),nt=mt;for(let wt=0;wt<et;wt++){const $t=s(at),Ct=new Date().getTime(),Dt=Ct-nt;nt=Ct,console.log("Hashed in "+Dt+"ms: "+$t.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(Dt/1e3)*100)/100+" MB PER SECOND")}}var util$2={normalizeInput,toHex,debugPrint,testSpeed};const util$1=util$2;function ADD64AA(s,a,et){const nt=s[a]+s[et];let at=s[a+1]+s[et+1];nt>=4294967296&&at++,s[a]=nt,s[a+1]=at}function ADD64AC(s,a,et,nt){let at=s[a]+et;et<0&&(at+=4294967296);let mt=s[a+1]+nt;at>=4294967296&&mt++,s[a]=at,s[a+1]=mt}function B2B_GET32(s,a){return s[a]^s[a+1]<<8^s[a+2]<<16^s[a+3]<<24}function B2B_G(s,a,et,nt,at,mt){const wt=m$2[at],$t=m$2[at+1],Ct=m$2[mt],Dt=m$2[mt+1];ADD64AA(v$2,s,a),ADD64AC(v$2,s,wt,$t);let Ft=v$2[nt]^v$2[s],jt=v$2[nt+1]^v$2[s+1];v$2[nt]=jt,v$2[nt+1]=Ft,ADD64AA(v$2,et,nt),Ft=v$2[a]^v$2[et],jt=v$2[a+1]^v$2[et+1],v$2[a]=Ft>>>24^jt<<8,v$2[a+1]=jt>>>24^Ft<<8,ADD64AA(v$2,s,a),ADD64AC(v$2,s,Ct,Dt),Ft=v$2[nt]^v$2[s],jt=v$2[nt+1]^v$2[s+1],v$2[nt]=Ft>>>16^jt<<16,v$2[nt+1]=jt>>>16^Ft<<16,ADD64AA(v$2,et,nt),Ft=v$2[a]^v$2[et],jt=v$2[a+1]^v$2[et+1],v$2[a]=jt>>>31^Ft<<1,v$2[a+1]=Ft>>>31^jt<<1}const BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map(function(s){return s*2})),v$2=new Uint32Array(32),m$2=new Uint32Array(32);function blake2bCompress(s,a){let et=0;for(et=0;et<16;et++)v$2[et]=s.h[et],v$2[et+16]=BLAKE2B_IV32[et];for(v$2[24]=v$2[24]^s.t,v$2[25]=v$2[25]^s.t/4294967296,a&&(v$2[28]=~v$2[28],v$2[29]=~v$2[29]),et=0;et<32;et++)m$2[et]=B2B_GET32(s.b,4*et);for(et=0;et<12;et++)B2B_G(0,8,16,24,SIGMA82[et*16+0],SIGMA82[et*16+1]),B2B_G(2,10,18,26,SIGMA82[et*16+2],SIGMA82[et*16+3]),B2B_G(4,12,20,28,SIGMA82[et*16+4],SIGMA82[et*16+5]),B2B_G(6,14,22,30,SIGMA82[et*16+6],SIGMA82[et*16+7]),B2B_G(0,10,20,30,SIGMA82[et*16+8],SIGMA82[et*16+9]),B2B_G(2,12,22,24,SIGMA82[et*16+10],SIGMA82[et*16+11]),B2B_G(4,14,16,26,SIGMA82[et*16+12],SIGMA82[et*16+13]),B2B_G(6,8,18,28,SIGMA82[et*16+14],SIGMA82[et*16+15]);for(et=0;et<16;et++)s.h[et]=s.h[et]^v$2[et]^v$2[et+16]}const parameterBlock=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function blake2bInit(s,a,et,nt){if(s===0||s>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(a&&a.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(et&&et.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(nt&&nt.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const at={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:s};parameterBlock.fill(0),parameterBlock[0]=s,a&&(parameterBlock[1]=a.length),parameterBlock[2]=1,parameterBlock[3]=1,et&&parameterBlock.set(et,32),nt&&parameterBlock.set(nt,48);for(let mt=0;mt<16;mt++)at.h[mt]=BLAKE2B_IV32[mt]^B2B_GET32(parameterBlock,mt*4);return a&&(blake2bUpdate(at,a),at.c=128),at}function blake2bUpdate(s,a){for(let et=0;et<a.length;et++)s.c===128&&(s.t+=s.c,blake2bCompress(s,!1),s.c=0),s.b[s.c++]=a[et]}function blake2bFinal(s){for(s.t+=s.c;s.c<128;)s.b[s.c++]=0;blake2bCompress(s,!0);const a=new Uint8Array(s.outlen);for(let et=0;et<s.outlen;et++)a[et]=s.h[et>>2]>>8*(et&3);return a}function blake2b(s,a,et,nt,at){et=et||64,s=util$1.normalizeInput(s),nt&&(nt=util$1.normalizeInput(nt)),at&&(at=util$1.normalizeInput(at));const mt=blake2bInit(et,a,nt,at);return blake2bUpdate(mt,s),blake2bFinal(mt)}function blake2bHex(s,a,et,nt,at){const mt=blake2b(s,a,et,nt,at);return util$1.toHex(mt)}var blake2b_1={blake2b,blake2bHex,blake2bInit,blake2bUpdate,blake2bFinal};const util=util$2;function B2S_GET32(s,a){return s[a]^s[a+1]<<8^s[a+2]<<16^s[a+3]<<24}function B2S_G(s,a,et,nt,at,mt){v$1[s]=v$1[s]+v$1[a]+at,v$1[nt]=ROTR32(v$1[nt]^v$1[s],16),v$1[et]=v$1[et]+v$1[nt],v$1[a]=ROTR32(v$1[a]^v$1[et],12),v$1[s]=v$1[s]+v$1[a]+mt,v$1[nt]=ROTR32(v$1[nt]^v$1[s],8),v$1[et]=v$1[et]+v$1[nt],v$1[a]=ROTR32(v$1[a]^v$1[et],7)}function ROTR32(s,a){return s>>>a^s<<32-a}const BLAKE2S_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),v$1=new Uint32Array(16),m$1=new Uint32Array(16);function blake2sCompress(s,a){let et=0;for(et=0;et<8;et++)v$1[et]=s.h[et],v$1[et+8]=BLAKE2S_IV[et];for(v$1[12]^=s.t,v$1[13]^=s.t/4294967296,a&&(v$1[14]=~v$1[14]),et=0;et<16;et++)m$1[et]=B2S_GET32(s.b,4*et);for(et=0;et<10;et++)B2S_G(0,4,8,12,m$1[SIGMA[et*16+0]],m$1[SIGMA[et*16+1]]),B2S_G(1,5,9,13,m$1[SIGMA[et*16+2]],m$1[SIGMA[et*16+3]]),B2S_G(2,6,10,14,m$1[SIGMA[et*16+4]],m$1[SIGMA[et*16+5]]),B2S_G(3,7,11,15,m$1[SIGMA[et*16+6]],m$1[SIGMA[et*16+7]]),B2S_G(0,5,10,15,m$1[SIGMA[et*16+8]],m$1[SIGMA[et*16+9]]),B2S_G(1,6,11,12,m$1[SIGMA[et*16+10]],m$1[SIGMA[et*16+11]]),B2S_G(2,7,8,13,m$1[SIGMA[et*16+12]],m$1[SIGMA[et*16+13]]),B2S_G(3,4,9,14,m$1[SIGMA[et*16+14]],m$1[SIGMA[et*16+15]]);for(et=0;et<8;et++)s.h[et]^=v$1[et]^v$1[et+8]}function blake2sInit(s,a){if(!(s>0&&s<=32))throw new Error("Incorrect output length, should be in [1, 32]");const et=a?a.length:0;if(a&&!(et>0&&et<=32))throw new Error("Incorrect key length, should be in [1, 32]");const nt={h:new Uint32Array(BLAKE2S_IV),b:new Uint8Array(64),c:0,t:0,outlen:s};return nt.h[0]^=16842752^et<<8^s,et>0&&(blake2sUpdate(nt,a),nt.c=64),nt}function blake2sUpdate(s,a){for(let et=0;et<a.length;et++)s.c===64&&(s.t+=s.c,blake2sCompress(s,!1),s.c=0),s.b[s.c++]=a[et]}function blake2sFinal(s){for(s.t+=s.c;s.c<64;)s.b[s.c++]=0;blake2sCompress(s,!0);const a=new Uint8Array(s.outlen);for(let et=0;et<s.outlen;et++)a[et]=s.h[et>>2]>>8*(et&3)&255;return a}function blake2s(s,a,et){et=et||32,s=util.normalizeInput(s);const nt=blake2sInit(et,a);return blake2sUpdate(nt,s),blake2sFinal(nt)}function blake2sHex(s,a,et){const nt=blake2s(s,a,et);return util.toHex(nt)}var blake2s_1={blake2s,blake2sHex,blake2sInit,blake2sUpdate,blake2sFinal};const b2b=blake2b_1,b2s=blake2s_1;var blakejs={blake2b:b2b.blake2b,blake2bHex:b2b.blake2bHex,blake2bInit:b2b.blake2bInit,blake2bUpdate:b2b.blake2bUpdate,blake2bFinal:b2b.blake2bFinal,blake2s:b2s.blake2s,blake2sHex:b2s.blake2sHex,blake2sInit:b2s.blake2sInit,blake2sUpdate:b2s.blake2sUpdate,blake2sFinal:b2s.blake2sFinal},dt$1="router",pe$1=1e4,ie$1=class{static buildPoolImmutables(a){let{fields:et}=a.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(et.clmm_pool_id).address,booster_type:extractStructTagFromType$1(et.booster_type.fields.name).source_address,pool_id:extractStructTagFromType$1(et.pool_id).address,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).source_address}}static buildPoolState(a){let et=getObjectFields(a),nt=[];return et.config.fields.contents.forEach(at=>{nt.push({lock_day:Number(at.fields.key),multiplier:Number(d$3(at.fields.value).div(pe$1))})}),{basic_percent:Number(d$3(et.basic_percent).div(pe$1)),balances:{balances_handle:et.balances.fields.id.id,size:et.balances.fields.size},config:nt,lock_positions:{lock_positions_handle:et.lock_positions.fields.id.id,size:et.lock_positions.fields.size},is_open:et.is_open,index:Number(et.index),pool_id:getObjectId(a)}}static buildLockNFT(a){let et=extractStructTagFromType$1(getObjectId(a)).address;return{lock_clmm_position:buildPosition(a),locked_nft_id:et}}static buildLockPositionInfo(a){let et=getObjectFields(a),{value:nt}=et.value.fields;return{type:nt.type,position_id:nt.fields.position_id,start_time:Number(nt.fields.start_time),lock_period:Number(nt.fields.lock_period),end_time:Number(nt.fields.end_time),growth_rewarder:nt.fields.growth_rewarder,rewarder_owned:nt.fields.rewarder_owned,is_settled:nt.fields.is_settled}}static isLocked(a){return a.end_time>Date.parse(new Date().toString())/1e3}},ut=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s=!1){var mt;let{booster:a}=this._sdk.sdkOptions,et=`${a.package_id}_getPoolImmutables`,nt=this.getCache(et,s),at=[];if(nt!==void 0)at.push(...nt);else{let wt=[];(mt=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(a).booster_pool_handle)).data)==null||mt.forEach(Ct=>{wt.push(Ct.objectId)});let $t=await this._sdk.ClmmSDK.fullClient.batchGetObjects(wt,{showContent:!0});for(let Ct of $t){let Dt=getObjectFields(Ct);if(Dt){let Ft=ie$1.buildPoolImmutables(Dt);this.updateCache(`${Ft.pool_id}_getPoolImmutable`,Ft,cacheTime24h),at.push(Ft)}}}return this.updateCache(et,at,cacheTime24h),at}async getPoolImmutable(s){let{booster:a}=this._sdk.sdkOptions,et=`${s}_getPoolImmutable`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(a).booster_pool_handle,name:{type:"0x2::object::ID",value:s}}),mt=getObjectFields(at),wt=ie$1.buildPoolImmutables(mt);return this.updateCache(et,wt,cacheTime24h),wt}async getPools(){let s=[],a=(await this.getPoolImmutables()).map(nt=>nt.pool_id),et=await this._sdk.ClmmSDK.fullClient.batchGetObjects(a,{showType:!0,showContent:!0});for(let nt of et){let at=ie$1.buildPoolState(nt);if(at){let mt={...await this.getPoolImmutable(at.pool_id),...at};s.push(mt);let wt=`${mt.pool_id}_getPoolObject`;this.updateCache(wt,mt,cacheTime24h)}}return s}async getPool(s,a=!0){let et=`${s}_getPoolObject`,nt=this.getCache(et,a),at=await this.getPoolImmutable(s);if(nt!==void 0)return{...at,...nt};let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0,showType:!0}}),wt=ie$1.buildPoolState(mt),$t={...at,...wt};return this.updateCache(et,$t,cacheTime24h),$t}async getPoolHandleId(s){let a=await this._sdk.ClmmSDK.fullClient.getObject({id:s,options:{showContent:!0}}),et=getObjectFields(a);return et?et.list.fields.id.id:""}async getBoosterInitConfigs(){var nt;let{package_id:s}=this.sdk.sdkOptions.booster,a=(nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::config::InitEvent`}))==null?void 0:nt.data,et={booster_config_id:"",booster_pool_handle:""};return a.length>0&&a.forEach(at=>{let mt=at.parsedJson;mt&&(et.booster_config_id=mt.config_id)}),et.booster_pool_handle=await this.getPoolHandleId(et.booster_config_id),et}async getOwnerBoosterPositions(s,a,et){let{booster:nt}=this.sdk.sdkOptions,at=[],mt=[],wt=`${nt.package_id}::lock_nft::LockNFT<${this._sdk.ClmmSDK.Position.buildPositionType()}>`,$t=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showOwner:!0},filter:{StructType:wt}});for(let Dt of $t.data)if(extractStructTagFromType$1(getMoveObjectType(Dt)).source_address===wt&&Dt.data){let Ft=ie$1.buildLockNFT(Dt);this.updateCache(`${Ft.locked_nft_id}_getBoosterPositionById`,Ft,cacheTime24h),Ft&&(a===void 0||a===Ft.lock_clmm_position.pool)&&at.push(Ft)}let Ct=await this.getLockPositionInfos(et,at.map(Dt=>Dt.locked_nft_id));for(let Dt of at)for(let Ft of Ct)if(Dt.lock_clmm_position.pos_object_id===Ft.position_id){mt.push({...Dt,...Ft});break}return mt}async getBoosterPosition(s,a){let et=`${a}_getBoosterPositionById`,nt=this.getCache(et),at;if(nt!==void 0)at=nt;else{let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0,showOwner:!0}});at=ie$1.buildLockNFT(wt),this.updateCache(et,at,cacheTime24h)}let mt=await this.getLockPositionInfo(s,a);return{...at,...mt}}async getLockPositionInfos(s,a=[]){var mt;let et=await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(s),nt=[],at=[];return(mt=et.data)==null||mt.forEach(wt=>{a.length>0?a.includes(wt.name.value)&&nt.push(wt.objectId):nt.push(wt.objectId)}),nt.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(nt,{showContent:!0})).forEach(wt=>{let $t=ie$1.buildLockPositionInfo(wt);$t&&at.push($t)}),at}async getLockPositionInfo(s,a){let et=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:a}});return ie$1.buildLockPositionInfo(et)}calculateXCetusRewarder(s,a,et){let nt=a.basic_percent,at="0";s.forEach(wt=>{wt.coin_address===a.booster_type&&(at=wt.amount_owed.toString())}),et.is_settled||a.config.forEach(wt=>{wt.lock_day===et.lock_period&&(nt=wt.multiplier)});let mt=d$3(at).sub(et.growth_rewarder).mul(nt);return d$3(et.rewarder_owned).add(mt).toString()}lockPositionPayload(s){let{booster:a}=this.sdk.sdkOptions,{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${a.published_at}::${dt$1}::lock_position`,typeArguments:[s.booster_type,s.coinTypeA,s.coinTypeB],arguments:[nt.object(getPackagerConfigs(a).booster_config_id),nt.object(getPackagerConfigs(et).global_config_id),nt.object(s.booster_pool_id),nt.object(s.clmm_pool_id),nt.object(s.clmm_position_id),nt.pure.u16(s.lock_day),nt.object(CLOCK_ADDRESS$1)]}),nt}canceLockPositionPayload(s){let{booster:a}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${a.published_at}::${dt$1}::cancel_lock`,typeArguments:[s.booster_type],arguments:[et.object(getPackagerConfigs(a).booster_config_id),et.object(s.booster_pool_id),et.object(s.lock_nft_id),et.object(CLOCK_ADDRESS$1)]}),et}redeemPayload(s){let{booster:a,xcetus:et}=this.sdk.sdkOptions,{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,mt=getPackagerConfigs(et);return at.moveCall({target:`${a.published_at}::${dt$1}::redeem`,typeArguments:[s.booster_type,s.coinTypeA,s.coinTypeB],arguments:[at.object(getPackagerConfigs(a).booster_config_id),at.object(getPackagerConfigs(nt).global_config_id),at.object(s.booster_pool_id),at.object(s.lock_nft_id),at.object(s.clmm_pool_id),at.object(mt.lock_manager_id),at.object(mt.xcetus_manager_id),at.object(s.ve_nft_id),at.object(CLOCK_ADDRESS$1)]}),at}updateCache(s,a,et=cacheTime5min){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s];if(!a&&(et!=null&&et.isValid()))return et.value;delete this._cache[s]}},K$1="router",lt$1=1e9,hi=(s=>(s.Upcoming="Upcoming",s.Live="Live",s.Settle="Settle",s.Ended="Ended",s.Failed="Failed",s.Canceled="Canceled",s))(hi||{}),S$2=class{static priceRealToFix(a,et,nt){let at=d$3(et-nt).toNumber();return Number(d$3(a).div(d$3(10).pow(d$3(at))).toString())}static priceFixToReal(a,et,nt){let at=d$3(et-nt).toNumber();return Number(d$3(a).mul(d$3(10).pow(d$3(at))).toString())}static raiseTotalAmount(a,et,nt){let at=d$3(et-nt).abs().toNumber();return et>nt?Number(d$3(a.total_supply).mul(a.current_price).div(d$3(10).pow(d$3(at))).toString()):Number(d$3(a.total_supply).mul(a.current_price).mul(d$3(10).pow(d$3(at))).toString())}static buildLaunchPadPool(a){let et=getMoveObjectType(a),nt=extractStructTagFromType$1(et),at=getObjectFields(a),mt={coin_type_sale:nt.type_arguments[0],coin_type_raise:nt.type_arguments[1],pool_address:normalizeSuiObjectId$1(getObjectId(a)),is_settle:at.is_settle,current_price:d$3(at.initialize_price).div(d$3(lt$1)).toString(),price:at.initialize_price,min_price:"0",max_price:"0",sale_coin_amount:at.sale_coin,raise_coin_amount:at.raise_coin,total_purchase_amount:at.reality_raise_total,total_supply:at.sale_total,min_purchase:at.min_purchase,max_purchase:at.max_purchase,complete_raise_limit:at.least_raise_amount,softcap:at.softcap,max_raise_amount:at.hardcap,sale_decimals:0,raise_decimals:0,liquidity_injection_ratio:Number(at.liquidity_rate)/1e4,is_cancel:at.is_cancel,duration_summary:{start_time:Number(at.duration_manager.fields.start_time),end_time:0,settle_end_time:0,purchase_duration:Number(at.duration_manager.fields.activity_duration),settle_duration:Number(at.duration_manager.fields.settle_duration),lock_up_duration:Number(at.duration_manager.fields.locked_duration)},white_summary:{white_handle:at.white_list.fields.users.fields.id.id,protection_hard_cap:at.white_list.fields.hard_cap_total,protection_limit_used:at.white_list.fields.purchase_total,size:Number(at.white_list.fields.users.fields.size)},unused_sale:at.unused_sale,harvest_raise:at.harvest_raise,tick_spacing:Number(at.tick_spacing),owner:at.recipient,purchase_summary:{purchase_handle:at.purchase_list.fields.id.id,size:Number(at.purchase_list.fields.size)},pool_status:"Failed"};return S$2.updatePoolStatus(mt),mt}static updatePoolStatus(a){let et=Number(d$3(Date.now()/1e3).toFixed(0)),{duration_summary:nt}=a,at=nt.start_time+nt.purchase_duration,mt=at+nt.settle_duration;if(nt.end_time=at,nt.settle_end_time=mt,a.is_settle)a.pool_status="Ended";else if(a.is_cancel)a.pool_status="Canceled";else if(et<nt.start_time)a.pool_status="Upcoming";else if(et>nt.start_time&&et<at)a.pool_status="Live";else if(et>at&&et<mt){let wt=a.raise_coin_amount;Number(wt)<Number(a.complete_raise_limit)?a.pool_status="Failed":a.pool_status="Settle"}return a}static async calculatePoolPrice(a,et){let nt=await a.ClmmSDK.CetusConfig.getTokenListByCoinTypes([et.coin_type_sale,et.coin_type_raise]),at=nt[et.coin_type_sale].decimals,mt=nt[et.coin_type_raise].decimals;et.min_price=this.priceFixToReal(Number(d$3(et.softcap).div(d$3(et.total_supply))),at,mt).toString(),et.max_price=this.priceFixToReal(Number(d$3(et.max_raise_amount).div(d$3(et.total_supply))),at,mt).toString(),et.current_price=this.priceFixToReal(Number(et.current_price),at,mt).toString(),et.sale_decimals=at,et.raise_decimals=mt}static async getWithdrawRaise(a){return a.pool_status==="Ended"?a.harvest_raise:"0"}static async getWithdrawSale(a){return a.pool_status==="Ended"?a.unused_sale:a.sale_coin_amount}static async getHistoryWithdrawRaise(a,et){if(et.pool_status==="Ended"){if(d$3(et.harvest_raise).equals(d$3(0))){let at=await a.Launchpad.getSettleEvent(et.pool_address);at&&(et.harvest_raise=at.unused_raise)}let nt=bnExports.min(new BN(et.total_purchase_amount),new BN(et.max_raise_amount));return d$3(nt.toString()).mul(1-et.liquidity_injection_ratio).toString()}return"0"}static async getHistoryWithdrawSale(a,et){if(et.pool_status==="Ended"){let nt=await a.Launchpad.getSettleEvent(et.pool_address);return nt&&(et.unused_sale=nt.unused_sale),et.unused_sale}return"0"}static async getOverrecruitReverseAmount(a,et){let nt=await a.Launchpad.getPurchaseMarks(a.ClmmSDK.senderAddress,[et.pool_address],!1);if(nt.length>0){let at=nt[0].purchased_raise_amount,mt=(await a.Launchpad.getPurchaseAmount(et.white_summary.white_handle,a.ClmmSDK.senderAddress)).safe_purchased_amount,{protection_limit_used:wt}=et.white_summary;return d$3(at).sub(mt).div(d$3(et.total_purchase_amount).sub(wt)).mul(d$3(et.total_purchase_amount).sub(et.max_raise_amount)).toString()}return"0"}static async getCanPurchaseAmount(a,et){let nt=await S$2.getOverrecruitReverseAmount(a,et),at=await a.Launchpad.getPurchaseMarks(a.ClmmSDK.senderAddress,[et.pool_address],!1);if(at){let mt=at[0].purchased_raise_amount;d$3(mt).sub(nt).div(et.current_price)}return"0"}},_t$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPoolImmutables(a=[],et=0,nt=100,at=!1){var jt;let{package_id:mt}=this._sdk.sdkOptions.launchpad;if(mt===void 0)throw Error("sdk.sdkOptions.launchpad is undefined");let wt=`${mt}_getPoolImmutables`,$t=this.getCache(wt,at),Ct=[],Dt=[];if($t!==void 0&&Ct.push(...$t),Ct.length===0)try{((jt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${mt}::factory::CreatePoolEvent`}))==null?void 0:jt.data).forEach(Nt=>{let Lt=Nt.parsedJson;Lt&&Ct.push({pool_address:Lt.pool_id,coin_type_sale:extractStructTagFromType$1(Lt.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(Lt.raise_coin.name).full_address})}),this.updateCache(wt,Ct,cacheTime24h)}catch(Nt){console.log("getPoolImmutables",Nt)}let Ft=a.length>0;for(let Nt=0;Nt<Ct.length;Nt+=1){let Lt=Ct[Nt];if(!(Ft&&!a.includes(Lt.pool_address))){if(!Ft){let Ut=Nt;if(Ut<et||Ut>=et+nt)continue}Dt.push(Lt)}}return Dt}async getPoolImmutablesWithPage(a="all",et=!1){let{package_id:nt}=this._sdk.sdkOptions.launchpad,at=`${nt}_getPoolImmutables`,mt=[],wt={data:[],hasNextPage:!1},$t=a==="all";if($t){let Ct=this.getCache(at,et);Ct&&mt.push(...Ct)}if(mt.length===0)try{let Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt}::factory::CreatePoolEvent`},a);wt.hasNextPage=Ct.hasNextPage,wt.nextCursor=Ct.nextCursor,Ct.data.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&mt.push({pool_address:Ft.pool_id,coin_type_sale:extractStructTagFromType$1(Ft.sale_coin.name).full_address,coin_type_raise:extractStructTagFromType$1(Ft.raise_coin.name).full_address})})}catch(Ct){console.log("getPoolImmutables",Ct)}return wt.data=mt,$t&&this.updateCache(at,mt,cacheTime24h),wt}async getPools(a=[],et=0,nt=100){let at=[],mt=[];a.length>0?mt=[...a]:(await this.getPoolImmutables([],et,nt,!1)).forEach($t=>{mt.push($t.pool_address)});let wt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt,{showType:!0,showContent:!0});for(let $t of wt){let Ct=S$2.buildLaunchPadPool($t);await S$2.calculatePoolPrice(this._sdk,Ct),at.push(Ct);let Dt=`${Ct.pool_address}_getPoolObject`;this.updateCache(Dt,Ct,cacheTime24h)}return at}async getPool(a,et=!0){let nt=`${a}_getPoolObject`,at=this.getCache(nt,et);if(at!==void 0){let $t=at;return S$2.updatePoolStatus($t),$t}let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}}),wt=S$2.buildLaunchPadPool(mt);return await S$2.calculatePoolPrice(this._sdk,wt),this.updateCache(nt,wt),wt}async getInitConfig(a=!1){var Dt;let et=this._sdk.sdkOptions.launchpad.package_id,nt=`${et}_getInitEvent`,at=this.getCache(nt,a);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),wt=getObjectPreviousTransactionDigest(mt),$t=(Dt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:wt}))==null?void 0:Dt.data,Ct={pools_id:"",admin_cap_id:"",config_cap_id:""};return $t.length>0&&($t.forEach(Ft=>{let jt=Ft.parsedJson;if(jt)switch(extractStructTagFromType$1(Ft.type).full_address){case`${et}::config::InitConfigEvent`:Ct.admin_cap_id=jt.admin_cap_id,Ct.config_cap_id=jt.config_cap_id;break;case`${et}::factory::InitFactoryEvent`:Ct.pools_id=jt.pools_id;break}}),this.updateCache(nt,Ct,cacheTime24h)),Ct}async getLockNFT(a,et=!1){let nt=`${a}_getLockNFT`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!mt.error)return buildPosition(mt)}async getLockNFTList(a){var mt;let{package_id:et}=this._sdk.ClmmSDK.sdkOptions.clmm_pool,{sdkOptions:nt}=this._sdk,at=[];try{let wt=(mt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt.launchpad.package_id}::lock::LockNFTEvent`}))==null?void 0:mt.data;for(let $t of wt){let Ct=$t.parsedJson;if(Ct){let Dt={locked_time:Number(Ct.locked_time),end_lock_time:Number(Ct.end_lock_time),nft_type:Ct.nft_type_name.name,lock_nft_id:Ct.lock_nft_id,recipient:Ct.recipient};if(a===Dt.recipient&&`${et}`===extractStructTagFromType$1(Dt.nft_type).address){let Ft=await this.getLockNFT(Dt.lock_nft_id);if(Ft){let jt=extractStructTagFromType$1(Ft.coin_type_a).full_address,Nt=extractStructTagFromType$1(Ft.coin_type_b).full_address;at.push({...Ft,coin_type_a:jt,coin_type_b:Nt,...Dt})}}}}return at}catch(wt){return console.log("getLockNFTList:",wt),[]}}async creatPoolTransactionPayload(a){let{launchpad:et}=this.sdk.sdkOptions,nt=getPackagerConfigs(et);if(this.assertLuanchpadConfig(),this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let at=S$2.priceRealToFix(Number(a.initialize_price),a.sale_decimals,a.raise_decimals),mt=new Transaction,wt=d$3(a.total_supply).add(d$3(a.total_supply).mul(d$3(a.liquidity_rate))).toNumber(),$t=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,mt,BigInt(wt),a.coin_type_sale),Ct=[mt.object(nt.admin_cap_id),mt.object(nt.config_cap_id),mt.object(nt.pools_id),mt.object(normalizeSuiAddress$1(a.recipient)),mt.pure.u128((at*lt$1).toString()),$t,mt.pure.u64(a.total_supply.toString()),mt.pure.u64(a.min_purchase.toString()),mt.pure.u64(a.max_purchase.toString()),mt.pure.u64(a.least_raise_amount.toString()),mt.pure.u64(a.hardcap.toString()),mt.pure.u64((a.liquidity_rate*1e3).toString()),mt.pure.u64(a.start_time.toString()),mt.pure.u64(a.activity_duration.toString()),mt.pure.u64(a.settle_duration.toString()),mt.pure.u64(a.locked_duration.toString()),mt.pure.u32(a.tick_spacing),mt.object(CLOCK_ADDRESS$1)],Dt=[a.coin_type_sale,a.coin_type_raise];return mt.moveCall({target:`${et.published_at}::${K$1}::create_launch_pool`,typeArguments:Dt,arguments:Ct}),mt}async creatPurchasePayload(a){let{launchpad:et}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let nt=new Transaction,at=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,nt,BigInt(a.purchase_amount),a.coin_type_raise),mt=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[a.pool_address],!1))[0],wt=[a.coin_type_sale,a.coin_type_raise],$t;return mt?$t=[nt.object(a.pool_address),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(mt.id),at,nt.pure.u64(a.purchase_amount.toString()),nt.object(CLOCK_ADDRESS$1)]:$t=[nt.object(a.pool_address),nt.object(getPackagerConfigs(et).config_cap_id),at,nt.pure.u64(a.purchase_amount.toString()),nt.object(CLOCK_ADDRESS$1)],nt.moveCall({target:`${et.published_at}::${K$1}::${mt===void 0?"create_and_purchase":"purchase"}`,typeArguments:wt,arguments:$t}),nt}async creatClaimPayload(a){let{launchpad:et}=this.sdk.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let nt=(await this.getPurchaseMarks(this._sdk.ClmmSDK.senderAddress,[a.pool_address],!1))[0],at=new Transaction,mt=[a.coin_type_sale,a.coin_type_raise],wt=[at.object(a.pool_address),at.object(getPackagerConfigs(et).config_cap_id),at.object(nt==null?void 0:nt.id),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${K$1}::claim`,typeArguments:mt,arguments:wt}),at}async creatSettlePayload(a){let{launchpad:et}=this.sdk.sdkOptions,{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions;if(this._sdk.ClmmSDK.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");this.assertLuanchpadConfig();let at=getPackagerConfigs(nt),{clmm_args:mt}=a,wt=new Transaction;wt.setSender(this.sdk.ClmmSDK.senderAddress);let $t=[a.coin_type_sale,a.coin_type_raise];if(mt){let Ct=mt.opposite?TickMath.priceToSqrtPriceX64(d$3(1).div(mt.current_price),mt.raise_decimals,mt.sale_decimals).toString():TickMath.priceToSqrtPriceX64(d$3(mt.current_price),mt.sale_decimals,mt.raise_decimals).toString(),Dt=BigInt(Ct)<BigInt(mt.clmm_sqrt_price),Ft=mt.opposite?Dt?a.coin_type_raise:a.coin_type_sale:Dt?a.coin_type_sale:a.coin_type_raise,jt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,Ft),Nt=CoinAssist.calculateTotalBalance(jt);CoinAssist.isSuiCoin(Ft)&&(Nt-=BigInt(2e8));let Lt=TransactionUtil.buildCoinForAmount(wt,jt,Nt,Ft).targetCoin,Ut=mt.opposite?Dt?"settle_with_reverse_clmm_only_with_a":"settle_with_reverse_clmm_only_with_b":Dt?"settle_only_with_a":"settle_only_with_b",Vt=[wt.object(a.pool_address),wt.object(getPackagerConfigs(et).config_cap_id),wt.object(mt.clmm_pool_address),wt.object(at.global_config_id),wt.pure.u128(Ct),Lt,wt.object(CLOCK_ADDRESS$1)];wt.moveCall({target:`${et.published_at}::${K$1}::${Ut}`,typeArguments:$t,arguments:Vt})}else wt.moveCall({target:`${et.published_at}::${K$1}::settle`,typeArguments:$t,arguments:[wt.object(a.pool_address),wt.object(getPackagerConfigs(et).config_cap_id),wt.object(CLOCK_ADDRESS$1)]});return wt}creatWithdrawPayload(a){let{launchpad:et}=this.sdk.sdkOptions,nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise],mt=[nt.object(a.pool_address),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(CLOCK_ADDRESS$1)];return a.sale_amount>BigInt(0)&&nt.moveCall({target:`${et.published_at}::${K$1}::withdraw_sale`,typeArguments:at,arguments:mt}),a.raise_amount>BigInt(0)&&nt.moveCall({target:`${et.published_at}::${K$1}::withdraw_raise`,typeArguments:at,arguments:mt}),nt}addUserToWhitelisPayload(a){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise];return a.user_addrs.forEach(mt=>{let wt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(a.pool_address),nt.object(mt),nt.pure.u64(a.safe_limit_amount),nt.object(CLOCK_ADDRESS$1)];nt.moveCall({target:`${et.published_at}::${K$1}::add_user_to_whitelist`,typeArguments:at,arguments:wt})}),nt}updateWhitelistCapPayload(a){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise];return a.safe_limit_amount>0&&nt.moveCall({target:`${et.published_at}::${K$1}::update_whitelist_member_safe_limit_amount`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(a.pool_address),nt.pure.address(a.white_list_member),nt.pure.u64(a.safe_limit_amount),nt.object(CLOCK_ADDRESS$1)]}),a.hard_cap_total>0&&nt.moveCall({target:`${et.published_at}::${K$1}::update_whitelist_hard_cap_total`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(a.pool_address),nt.pure.u64(a.hard_cap_total),nt.object(CLOCK_ADDRESS$1)]}),nt}creatRemoveWhitelistPayload(a){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise];return a.user_addrs.forEach(mt=>{let wt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(a.pool_address),nt.object(mt),nt.object(CLOCK_ADDRESS$1)];nt.moveCall({target:`${et.published_at}::${K$1}::remove_user_from_whitelist`,typeArguments:at,arguments:wt})}),nt}creatCancelPoolPayload(a){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(a.pool_address),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${K$1}::cancel`,typeArguments:at,arguments:mt}),nt}updateRecipientPayload(a){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(a.pool_address),nt.object(a.new_recipient),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${K$1}::update_recipient_address`,typeArguments:at,arguments:mt}),nt}updatePoolDuractionPayload(a){let{launchpad:et}=this.sdk.sdkOptions;this.assertLuanchpadConfig();let nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).config_cap_id),nt.object(a.pool_address),nt.pure.u64(a.activity_duration),nt.pure.u64(a.settle_duration),nt.pure.u64(a.lock_duration),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${K$1}::update_pool_duration`,typeArguments:at,arguments:mt}),nt}creatUnlockNftPayload(a){let{launchpad:et}=this.sdk.sdkOptions;if(getPackagerConfigs(et)===void 0)throw Error("getPackagerConfigs(launchpad)  is null");let nt=new Transaction,at=[a.nft_type],mt=[nt.object(a.lock_nft),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::lock::unlock_nft`,typeArguments:at,arguments:mt}),nt}async isAdminCap(a){let{launchpad:et}=this._sdk.sdkOptions;if(getPackagerConfigs(et)===void 0)throw Error("launchpad config is empty");let nt=`${a}_isAdminCap`,at=this.getCache(nt);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(et).admin_cap_id,options:{showType:!0,showOwner:!0}}),wt=getObjectType(mt),$t=getObjectOwner(mt),Ct=!1;return $t&&wt&&extractStructTagFromType$1(wt).source_address===`${et.package_id}::config::AdminCap`&&(Ct=normalizeSuiAddress$1($t.AddressOwner)===normalizeSuiAddress$1(a)),this.updateCache(nt,Ct,cacheTime24h),Ct}async isWhiteListUser(a,et){let nt={type:"address",value:et};try{let at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:nt});return!!(at&&at.data)}catch{return!1}}async getPurchaseAmount(a,et){var at;let nt={type:"address",value:et};try{let mt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:nt}),wt=getObjectFields(mt);if(wt)return(at=wt==null?void 0:wt.value)==null?void 0:at.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getPurchaseMarks(a,et=[],nt=!0){let{launchpad:at}=this._sdk.sdkOptions,mt=`${et}_getPurchaseMark`,wt=this.getCache(mt,nt);if(!nt&&wt!==void 0)return wt;let $t=null,Ct=[];for(;;){let Dt=await this._sdk.ClmmSDK.fullClient.getOwnedObjects({owner:a,options:{showType:!0,showContent:!0,showDisplay:!0},cursor:$t});for(let Ft of Dt.data){let{fields:jt}=Ft.data.content;if(extractStructTagFromType$1(getMoveObjectType(Ft)).source_address===`${at.package_id}::pool::PurchaseMark`){console.log("fields: ",jt);let Nt={id:jt.id.id,pool_id:extractStructTagFromType$1(jt.pool_id).address,purchased_raise_amount:jt.purchase_total,obtain_sale_amount:jt.obtain_sale_amount,used_raise_amount:jt.used_raise_amount};et.length>0?et.includes(Nt.pool_id)&&Ct.push(Nt):Ct.push(Nt)}}if(Dt.hasNextPage)$t=Dt.nextCursor;else break}return this.updateCache(mt,Ct,cacheTime24h),Ct}async getSettleEvent(a){let{launchpad:et}=this._sdk.sdkOptions,nt=`${a}_getPurchaseMark`,at=this.getCache(nt);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et.package_id}::pool::SettleEvent`});for(let wt of mt.data){let $t=wt.parsedJson;if(a===normalizeSuiObjectId$1($t.pool_id)){let Ct={pool_id:$t.pool_id,settle_price:$t.settle_price,unused_sale:$t.unused_sale,unused_raise:$t.unused_raise,white_purchase_total:$t.white_purchase_total};return this.updateCache(nt,Ct,cacheTime24h),Ct}}}buildLaunchpadCoinType(a,et){return composeType$1(this._sdk.sdkOptions.launchpad.package_id,"pool","PoolLiquidityCoin",[a,et])}assertLuanchpadConfig(){let{launchpad:a}=this.sdk.sdkOptions;if(getPackagerConfigs(a)===void 0)throw Error("sdk getPackagerConfigs(launchpad) is null")}updateCache(a,et,nt=cacheTime5min){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[a]}},ne$1=class{static buildPoolImmutables(a){let{fields:et}=a.value.fields.value;return{clmm_pool_id:extractStructTagFromType$1(et.clmm_pool_id).address,bonus_type:extractStructTagFromType$1(et.bonus_type.fields.name).source_address,pool_id:extractStructTagFromType$1(et.pool_id).address,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).source_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).source_address}}static buildPoolState(a){let et=getObjectFields(a),nt=[];return et.config.fields.contents.forEach(at=>{nt.push({rate:Number(d$3(at.fields.key).div(pe$1)),multiplier:Number(d$3(at.fields.value).div(pe$1))})}),{balance:et.balance,config:nt,is_open:et.is_open,index:Number(et.index),start_time:Number(et.start_time),interval_day:Number(et.interval_day),minimum_percent_to_reward:Number(d$3(et.minimum_percent_to_reward).div(pe$1)),rewarders:{rewarder_handle:et.rewarders.fields.id.id,size:Number(et.rewarders.fields.size)},whale_nfts:{whale_nfts_handle:et.whale_nfts.fields.id.id,size:Number(et.whale_nfts.fields.size)},points:{point_handle:et.points.fields.id.id,size:Number(et.points.fields.size)}}}static buildMarkerPositions(a){let{contents:et}=a.value.fields.value.fields,nt=[],at=a.id.id;return et.forEach(mt=>{let{key:wt,value:$t}=mt.fields,Ct={id:wt,period_id:at,bonus_num:$t.fields.bonus_num,point:$t.fields.point,is_burn:$t.fields.is_burn,point_after_multiplier:$t.fields.point_after_multiplier,percent:Number(d$3($t.fields.percent).div(pe$1)),fee_share_rate:0,is_redeemed:$t.fields.is_redeemed};nt.push(Ct)}),nt}static buildPoolBonusInfo(a){let{fields:et,type:nt}=a.value.fields.value;return{type:nt,time:Number(et.time),settle_time:Number(et.settle_time),settled_num:et.settled_num,is_settled:et.is_settled,basis_bonus:et.basis_bonus,total_bonus:et.total_bonus,is_vacant:et.is_vacant,redeemed_num:et.redeemed_num}}static getBonusPercent(a,et){let nt=0;for(let at of a)et>=at.rate&&at.rate>nt&&(nt=at.multiplier);return nt}},Ht$1="router",gt$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPoolImmutables(a=!1){var wt;let{maker_bonus:et}=this._sdk.sdkOptions,nt=`${et.package_id}_getPoolImmutables`,at=this.getCache(nt,a),mt=[];if(at!==void 0)mt.push(...at);else{let $t=[];(wt=(await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(getPackagerConfigs(et).maker_pool_handle)).data)==null||wt.forEach(Dt=>{$t.push(Dt.objectId)});let Ct=await this._sdk.ClmmSDK.fullClient.batchGetObjects($t,{showContent:!0});for(let Dt of Ct){let Ft=getObjectFields(Dt);Ft&&mt.push(ne$1.buildPoolImmutables(Ft))}}return mt}async getPoolImmutable(a){let{maker_bonus:et}=this._sdk.sdkOptions,nt=`${et.package_id}_getPoolImmutables`,at=this.getCache(nt);if(at!==void 0){let $t=at.filter(Ct=>a===Ct.pool_id);if($t.length>0)return $t[0]}let mt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(et).maker_pool_handle,name:{type:"0x2::object::ID",value:a}}),wt=getObjectFields(mt);return ne$1.buildPoolImmutables(wt)}async getPools(){let a=[],et=await this.getPoolImmutables(),nt=et.map(wt=>wt.pool_id),at=await this._sdk.ClmmSDK.fullClient.batchGetObjects(nt,{showType:!0,showContent:!0}),mt=0;for(let wt of at){let $t=ne$1.buildPoolState(wt);if($t){let Ct={...et[mt],...$t};a.push(Ct);let Dt=`${Ct.pool_id}_getPoolObject`;this.updateCache(Dt,Ct,cacheTime24h)}mt+=1}return a}async getPool(a,et=!0){let nt=`${a}_getPoolObject`,at=this.getCache(nt,et),mt=await this.getPoolImmutable(a);if(at!==void 0)return at;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}}),$t=ne$1.buildPoolState(wt),Ct={...mt,...$t};return this.updateCache(nt,Ct,cacheTime24h),Ct}async getPoolHandleId(a){let et=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0}}),nt=getObjectFields(et);return nt?nt.list.fields.id.id:""}async getMakerPoolPeriods(a,et=!1){let nt=[],at=`${a.pool_id}_getMakerPoolPeriods`,mt=this.getCache(at,et);return mt!==void 0?mt:((await this._sdk.ClmmSDK.fullClient.getDynamicFieldsByPage(a.whale_nfts.whale_nfts_handle)).data.forEach(wt=>{let $t={id:wt.objectId,start_time:0,end_time:0,period:Number(wt.name.value)};$t.start_time=Number(d$3(a.start_time).add(d$3(a.interval_day).mul(24*3600).mul($t.period)).toFixed(0,Decimal$1.ROUND_DOWN)),$t.end_time=Number(d$3($t.start_time).add(d$3(a.interval_day).mul(24*3600)).toFixed(0,Decimal$1.ROUND_DOWN)),nt.push($t)}),this.updateCache(at,nt,cacheTime24h),nt)}async getMakerBonusInitConfigs(){var at;let{package_id:a}=this.sdk.sdkOptions.maker_bonus,et=(at=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitEvent`}))==null?void 0:at.data,nt={maker_config_id:"",maker_pool_handle:""};return et.length>0&&et.forEach(mt=>{let wt=mt.parsedJson;wt&&(nt.maker_config_id=wt.config_id)}),nt.maker_pool_handle=await this.getPoolHandleId(nt.maker_config_id),nt}async getPoolMarkerPositionList(a,et,nt=!1){let at={},mt=[];nt||et.forEach(wt=>{let $t=`${a}_${wt.period}_getPoolMarkerPositionList`,Ct=this.getCache($t);Ct!==void 0?at[wt.period]=Ct:(at[wt.period]=[],mt.push(wt))});try{mt.length>0&&(await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt.map($t=>$t.id),{showContent:!0})).forEach($t=>{let Ct=getObjectFields($t),Dt=ne$1.buildMarkerPositions(Ct);if(Dt.length>0){let{period_id:Ft}=Dt[0],jt=et.filter(Nt=>Nt.id===Ft)[0];at[jt.period]=Dt}});let wt=[];for(let $t in at)at[$t].forEach(Ct=>{wt.push(Ct)});if(wt.length>0){let $t=await this._sdk.ClmmSDK.Position.getSipmlePositionList(wt.map(Ct=>Ct.id));for(let Ct of wt)for(let Dt of $t)if(Ct.id===Dt.pos_object_id){Ct.clmm_position=Dt;break}}}catch(wt){console.log(wt)}for(let wt in at){let $t=`${a}_${wt}_getPoolMarkerPositionList`;this.updateCache($t,at[wt],cacheTime24h)}return at}async updateXCetusRewarderAndFee(a,et,nt){let at=await this.calculateTotalPointsAfterMultiper(a,nt);for(let mt of et)await this.calculateXCetusRewarder(a,mt,nt.period,at);return et}async calculateXCetusRewarder(a,et,nt,at){let mt=await this.getPoolBonusInfo(a.rewarders.rewarder_handle,nt),{fee_share_rate:wt}=this.calculateFeeShareRate(a,et,at),$t=d$3(wt).mul(mt.total_bonus);return et.is_redeemed?et.bonus_num="0":et.bonus_num=$t.toString(),et.bonus_num}calculateFeeShareRate(a,et,nt){let at=ne$1.getBonusPercent(a.config,et.percent),mt=d$3(et.point).mul(at),wt=d$3(mt).div(nt);return et.point_after_multiplier=mt.toString(),et.fee_share_rate=Number(wt),{fee_share_rate:Number(wt),points_after_multiper:mt.toString()}}async calculateTotalPointsAfterMultiper(a,et){let nt=await this.getPoolMarkerPositionList(a.whale_nfts.whale_nfts_handle,[et]),at=d$3(0),mt=nt[et.period];for(let wt of mt){let $t=ne$1.getBonusPercent(a.config,wt.percent),Ct=d$3(wt.point).mul($t);at=at.add(Ct)}return at.toString()}async calculateAllXCetusRewarder(a){let et=this._sdk.ClmmSDK.senderAddress,nt=d$3(0),at=[];for(let mt of a){let wt=await this._sdk.MakerModule.getMakerPoolPeriods(mt),$t=await this._sdk.MakerModule.getPoolMarkerPositionList(mt.whale_nfts.whale_nfts_handle,wt),Ct=[];for(let Dt of wt){let Ft=$t[Dt.period].filter(jt=>{var Nt;return et.length===0?!1:((Nt=jt.clmm_position)==null?void 0:Nt.owner)===et});Ft.length>0&&(await this._sdk.MakerModule.updateXCetusRewarderAndFee(mt,Ft,Dt),Ft.forEach(jt=>{var Nt;((Nt=jt.clmm_position)==null?void 0:Nt.position_status)===ClmmPositionStatus.Exists&&d$3(jt.bonus_num).greaterThan(0)&&(nt=nt.add(jt.bonus_num),Ct.includes(jt.clmm_position.pos_object_id)||Ct.push(jt.clmm_position.pos_object_id))}))}at.push({bonus_type:mt.bonus_type,pool_id:mt.pool_id,nft_ids:Ct})}return{claimtotal:nt,claimRecord:at}}async getPoolBonusInfo(a,et,nt=!1){let at=`${a}_${et}_getPoolBonusInfo`,mt=this.getCache(at,nt);if(mt!==void 0)return mt;let wt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"u64",value:et.toString()}}),$t=getObjectFields(wt),Ct=ne$1.buildPoolBonusInfo($t);return this.updateCache(at,Ct,cacheTime5min),Ct}claimPayload(a){let{maker_bonus:et,xcetus:nt}=this.sdk.sdkOptions,at=new Transaction;return at.moveCall({target:`${et.published_at}::${Ht$1}::claim`,typeArguments:[a.bonus_type],arguments:[at.object(getPackagerConfigs(et).maker_config_id),at.object(a.market_pool_id),at.object(a.position_nft_id),at.pure.u8(a.phase),at.object(getPackagerConfigs(nt).lock_manager_id),at.object(getPackagerConfigs(nt).xcetus_manager_id),at.object(a.ve_nft_id)]}),at}claimAllPayload(a){let{maker_bonus:et,xcetus:nt}=this.sdk.sdkOptions,at=new Transaction;return a.whale_nfts.forEach(mt=>{mt.nft_ids.forEach(wt=>{at.moveCall({target:`${et.published_at}::${Ht$1}::claim_all`,typeArguments:[mt.bonus_type],arguments:[at.object(getPackagerConfigs(et).maker_config_id),at.object(mt.pool_id),at.object(wt),at.object(getPackagerConfigs(nt).lock_manager_id),at.object(getPackagerConfigs(nt).xcetus_manager_id),at.object(a.ve_nft_id)]})})}),at}updateCache(a,et,nt=cacheTime5min){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[a]}},ve$1="router",tt="router",Se=24*3600,Re$1=1e3,U=1e11,z$2={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},W$1=class{static buildVeNFTDividendInfo(a){let et={id:a.id.id,ve_nft_id:a.name,rewards:[]};return a.value.fields.value.fields.dividends.fields.contents.forEach(nt=>{let at=[];nt.fields.value.fields.contents.forEach(mt=>{at.push({coin_type:extractStructTagFromType$1(mt.fields.key.fields.name).source_address,amount:mt.fields.value})}),et.rewards.push({period:Number(nt.fields.key),rewards:at,vesrion:"v1"})}),et}static buildDividendManager(a){let et={id:a.id.id,dividends:{id:a.dividends.fields.id.id,size:a.dividends.fields.size},venft_dividends:{id:a.venft_dividends.fields.id.id,size:a.venft_dividends.fields.size},bonus_types:[],start_time:Number(a.start_time),interval_day:Number(a.interval_day),balances:{id:a.balances.fields.id.id,size:a.balances.fields.size},is_open:a.is_open};return a.bonus_types.forEach(nt=>{et.bonus_types.push(extractStructTagFromType$1(nt.fields.name).source_address)}),et}static buildLockUpManager(a){return{id:a.id.id,balance:a.balance,treasury_manager:a.treasury_manager,extra_treasury:a.extra_treasury,lock_infos:{lock_handle_id:a.lock_infos.fields.id.id,size:Number(a.lock_infos.fields.size)},type_name:normalizeCoinType$1(a.type_name.fields.name),min_lock_day:Number(a.min_lock_day),max_lock_day:Number(a.max_lock_day),package_version:Number(a.package_version),max_percent_numerator:Number(a.max_percent_numerator),min_percent_numerator:Number(a.min_percent_numerator)}}static buildLockCetus(a){let et=a.fields,nt={id:et.id.id,type:extractStructTagFromType$1(a.type).source_address,locked_start_time:Number(et.locked_start_time),locked_until_time:Number(et.locked_until_time),cetus_amount:et.balance,xcetus_amount:"0",lock_day:0};return nt.lock_day=(nt.locked_until_time-nt.locked_start_time)/Se,nt}static getAvailableXCetus(a,et){let nt=d$3(0);return et.forEach(at=>{nt=nt.add(at.xcetus_amount)}),d$3(a.xcetus_balance).sub(nt).toString()}static getWaitUnLockCetuss(a){return a.filter(et=>!W$1.isLocked(et))}static getLockingCetuss(a){return a.filter(et=>W$1.isLocked(et))}static isLocked(a){return a.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(a,et){let nt=new Set;return a==null||a.forEach(at=>{at.rewards.forEach(mt=>{d$3(mt.amount).gt(0)&&nt.add(mt.coin_type)})}),et==null||et.forEach(at=>{at.rewards.forEach(mt=>{d$3(mt.amount).gt(0)&&nt.add(mt.coin_type)})}),Array.from(nt)}static buildDividendRewardTypeListV2(a){let et={};return a==null||a.forEach(nt=>{nt.vesrion==="v2"&&nt.rewards.forEach(at=>{et[at.coin_type]||(et[at.coin_type]=[]),et[at.coin_type].push(nt.period)})}),et}static getNextStartTime(a){let et=Date.now()/1e3,{start_time:nt,interval_day:at}=a,mt=Math.ceil((et-nt)/(at*Se));return nt+mt*at*Se}},yt$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getOwnerVeNFT(a,et=!0){let{xcetus:nt}=this.sdk.sdkOptions,at=`${a}_getLockUpManagerEvent`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let wt,$t=`${nt.package_id}::xcetus::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:$t}})).data.forEach(Ct=>{let Dt=extractStructTagFromType$1(getMoveObjectType(Ct)).source_address;if(Dt===$t&&Ct.data&&Ct.data.content){let{fields:Ft}=Ct.data.content;wt={...buildNFT(Ct),id:Ft.id.id,index:Ft.index,type:Dt,xcetus_balance:Ft.xcetus_balance},this.updateCache(at,wt,cacheTime24h)}}),wt}async getOwnerLockCetuss(a){let{xcetus:et}=this.sdk.sdkOptions,nt=[],at=`${et.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,mt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0},filter:{StructType:at}});for(let wt of mt.data)if(extractStructTagFromType$1(getMoveObjectType(wt)).source_address===at&&wt.data){let $t=W$1.buildLockCetus(wt.data.content);$t.xcetus_amount=await this.getXCetusAmount($t.id),nt.push($t)}return nt}async getLockCetus(a){var nt;let et=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if((nt=et.data)!=null&&nt.content){let at=W$1.buildLockCetus(et.data.content);return at.xcetus_amount=await this.getXCetusAmount(at.id),at}}async getOwnerCetusCoins(a){return await this._sdk.ClmmSDK.getOwnerCoinAssets(a,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:a}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${a.published_at}::${ve$1}::mint_venft`,typeArguments:[],arguments:[et.object(getPackagerConfigs(a).xcetus_manager_id)]}),et}async convertPayload(a,et){let{xcetus:nt}=this.sdk.sdkOptions;et=et||new Transaction;let at=this.buileCetusCoinType(),mt=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,et,BigInt(a.amount),at);return a.venft_id===void 0?et.moveCall({target:`${nt.published_at}::${ve$1}::mint_and_convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xcetus_manager_id),mt,et.pure.u64(a.amount)]}):et.moveCall({target:`${nt.published_at}::${ve$1}::convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xcetus_manager_id),mt,et.pure.u64(a.amount),et.object(a.venft_id)]}),et}redeemLockPayload(a){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${ve$1}::redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(a.venft_id),nt.pure.u64(a.amount),nt.pure.u64(a.lock_day),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemPayload(a){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${ve$1}::redeem`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(a.venft_id),nt.object(a.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemDividendPayload(a,et){let{xcetus:nt,xcetus_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.forEach(wt=>{mt.moveCall({target:`${nt.published_at}::${tt}::redeem`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(a)]})}),mt}redeemDividendV2Payload(a,et,nt){let{xcetus_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.filter(wt=>nt.includes(wt)).length>0&&(mt=this.redeemDividendXTokenPayload(a,mt)),et.forEach(wt=>{nt.includes(wt)||mt.moveCall({target:`${at.published_at}::${tt}::redeem_v2`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(a),mt.object(CLOCK_ADDRESS$1)]})}),mt}redeemDividendV3Payload(a,et){let{xcetus_dividends:nt}=this.sdk.sdkOptions,at=new Transaction,mt=W$1.buildDividendRewardTypeList(et),wt=W$1.buildDividendRewardTypeListV2(et);return mt.forEach($t=>{at.moveCall({target:`${nt.published_at}::${tt}::redeem_v3`,typeArguments:[$t],arguments:[at.object(getPackagerConfigs(nt).dividend_manager_id),at.object(getPackagerConfigs(nt).venft_dividends_id),at.makeMoveVec({elements:wt[$t].map(Ct=>at.pure.u64(Ct)),type:"u64"}),at.object(a),at.object(CLOCK_ADDRESS$1)]})}),at}redeemDividendXTokenPayload(a,et){let{xcetus_dividends:nt,xcetus:at}=this.sdk.sdkOptions,{xcetus_manager_id:mt,lock_manager_id:wt}=getPackagerConfigs(at),{dividend_manager_id:$t}=getPackagerConfigs(nt);return et=et===void 0?new Transaction:et,et.moveCall({target:`${nt.published_at}::${tt}::redeem_xtoken`,typeArguments:[],arguments:[et.object(wt),et.object(mt),et.object($t),et.object(a),et.object(CLOCK_ADDRESS$1)]}),et}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(a=this._sdk.sdkOptions.xcetus.package_id,et="xcetus",nt="XCETUS"){return`${a}::${et}::${nt}`}cancelRedeemPayload(a){let{xcetus:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${ve$1}::cancel_redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xcetus_manager_id),nt.object(a.venft_id),nt.object(a.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}async getInitConfigs(){var $t,Ct;let{package_id:a}=this.sdk.sdkOptions.xcetus,et=`${a}_getInitFactoryEvent`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=($t=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::xcetus::InitEvent`}))==null?void 0:$t.data,mt={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};at.length>0&&at.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.xcetus_manager_id=Ft.xcetus_manager)});let wt=(Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::locking::InitializeEvent`}))==null?void 0:Ct.data;return wt.length>0&&wt.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.lock_manager_id=Ft.lock_manager)}),mt.lock_manager_id.length>0&&(mt.lock_handle_id=(await this.getLockUpManager(mt.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(et,mt,cacheTime24h),mt}async getLockUpManager(a=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,et=!1){let nt=`${a}_getLockUpManager`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this.sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0}}),wt=W$1.buildLockUpManager(getObjectFields(mt));return this.updateCache(nt,wt,cacheTime24h),wt}async getDividendConfigs(){var Ft,jt,Nt;let{package_id:a}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:et,venft_dividends_id:nt}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),at=`${a}_getDividendManagerEvent`,mt=this.getCache(at);if(mt!==void 0)return mt;let wt=(Ft=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::dividend::InitEvent`}))==null?void 0:Ft.data,$t=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),Ct={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};wt.length>0&&wt.forEach(Lt=>{let Ut=Lt.parsedJson;Ut&&(Ct.dividend_manager_id=Ut.manager_id,Ct.dividend_admin_id=Ut.admin_id,Ct.dividend_settle_id=Ut.settle_id,this.updateCache(at,Ct,cacheTime24h))}),$t&&$t.data&&$t.data.content&&(Ct.venft_dividends_id=(Nt=(jt=$t.data.content)==null?void 0:jt.fields)==null?void 0:Nt.value,this.updateCache(at,Ct,cacheTime24h));let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:nt,options:{showContent:!0}});return Ct.venft_dividends_id_v2=Dt.data.content.fields.venft_dividends.fields.id.id,Ct}async getDividendManager(a=!1){let{dividend_manager_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),nt=`${et}_getDividendManager`,at=this.getCache(nt,a);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t=W$1.buildDividendManager(wt);return this.updateCache(nt,$t,cacheTime24h),$t}async getXcetusManager(a=!0){let{xcetus_manager_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),nt=`${et}_getXcetusManager`,at=this.getCache(nt,a);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t={id:wt.id.id,index:Number(wt.index),has_venft:{handle:wt.has_venft.fields.id.id,size:wt.has_venft.fields.size},nfts:{handle:wt.nfts.fields.id.id,size:wt.nfts.fields.size},total_locked:wt.total_locked,treasury:wt.treasury.fields.total_supply.fields.value};return this.updateCache(nt,$t),$t}async getVeNFTDividendInfoV2(a){let{xcetus_dividends:et}=this._sdk.sdkOptions,{dividend_manager_id:nt,venft_dividends_id:at}=getPackagerConfigs(et),mt=new Transaction;mt.moveCall({target:`${et.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[mt.object(nt),mt.object(at),mt.object(a)]});let wt=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:mt,sender:this._sdk.ClmmSDK.senderAddress}),{contents:$t}=wt.events[0].parsedJson.info,Ct={id:"",ve_nft_id:a,rewards:[]};return $t.forEach(Dt=>{let Ft=[],jt=Dt.key,{contents:Nt}=Dt.value;Nt.forEach(Lt=>{Ft.push({coin_type:extractStructTagFromType$1(Lt.key.name).source_address,amount:Lt.value})}),Ct.rewards.push({period:Number(jt),rewards:Ft,vesrion:Number(jt)>66?"v2":"v1"})}),Ct}async getVeNFTDividendInfo(a,et,nt){let at,mt={id:"",ve_nft_id:nt,rewards:[]};try{at=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:nt}});let $t=getObjectFields(at);mt=W$1.buildVeNFTDividendInfo($t)}catch{at=void 0}let wt=[];try{let $t=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:nt}}),Ct=getObjectFields($t).value.fields.value.fields.dividends.fields.id.id,Dt=null,Ft=50,jt=[];for(;;){let Nt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:Ct,cursor:Dt,limit:Ft});if(Nt.data.forEach(Lt=>{jt.push(Lt.objectId)}),Dt=Nt.nextCursor,Dt===null||Nt.data.length<Ft)break}(await this._sdk.ClmmSDK.fullClient.batchGetObjects(jt,{showType:!0,showContent:!0})).forEach(Nt=>{wt.push({period:Number(Nt.data.content.fields.name),vesrion:"v2",rewards:Nt.data.content.fields.value.fields.contents.map(Lt=>({coin_type:extractStructTagFromType$1(Lt.fields.key.fields.name).source_address,amount:Lt.fields.value}))})})}catch($t){console.log("error:",$t)}return{...mt,rewards:[...mt.rewards,...wt]}}redeemNum(a,et){if(BigInt(a)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=d$3(U).mul(d$3(z$2.max_lock_day).sub(d$3(et))).mul(d$3(z$2.max_percent_numerator).sub(d$3(z$2.min_percent_numerator))).div(d$3(z$2.max_lock_day).sub(d$3(z$2.min_lock_day))),at=d$3(U).mul(d$3(z$2.max_percent_numerator)).sub(nt).div(d$3(Re$1)).div(U);return{amountOut:d$3(at).mul(d$3(a)).round().toString(),percent:at.toString()}}reverseRedeemNum(a,et){if(BigInt(a)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=d$3(U).mul(d$3(z$2.max_lock_day).sub(d$3(et))).mul(d$3(z$2.max_percent_numerator).sub(d$3(z$2.min_percent_numerator))).div(d$3(z$2.max_lock_day).sub(d$3(z$2.min_lock_day))),at=d$3(U).mul(d$3(z$2.max_percent_numerator)).sub(nt).div(d$3(Re$1)).div(U);return{amountOut:d$3(a).div(at).toFixed(0,Decimal$1.ROUND_UP),percent:at.toString()}}async getXCetusAmount(a){let{lock_handle_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),nt=`${a}_getXCetusAmount`,at=this.getCache(nt);if(at!==void 0)return at;try{let mt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:a}}),wt=getObjectFields(mt);if(wt){let{xcetus_amount:$t}=wt.value.fields.value.fields;return this.updateCache(nt,$t,cacheTime24h),$t}}catch{}return"0"}async getVeNftAmount(a,et){try{let nt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(nt);if(at){let{lock_amount:mt,xcetus_amount:wt}=at.value.fields.value.fields;return{lock_amount:mt,xcetus_amount:wt}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(a,et=!1){let nt=(await this.getDividendManager()).dividends.id,at=`${nt}_${a}_getPhaseDividendInfo`,mt=this._sdk.getCache(at,et);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"u64",value:a}}),$t=getObjectFields(wt),Ct=$t.value.fields.value.fields,Dt=Ct.redeemed_num.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),Ft=Ct.bonus_types.map(Lt=>Lt.fields.name),jt=Ct.bonus.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),Nt={id:getObjectId(wt),phase:$t.name,settled_num:Ct.settled_num,register_time:Ct.register_time,redeemed_num:Dt,is_settled:Ct.is_settled,bonus_types:Ft,bonus:jt,phase_end_time:""};return this.updateCache(at,Nt),Nt}catch{}}updateCache(a,et,nt=cacheTime5min){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[a]}},ji="factory",H$1="oversubscribe_pool",bt=1e6,ye$2=1e18,Oi=(s=>(s.Upcoming="Upcoming",s.Live="Live",s.Ended="Ended",s.Failed="Failed",s.Canceled="Canceled",s))(Oi||{}),je="router",kt$1="router",it$1="router",Ai=(s=>(s.BOTH="both",s.LEFT="left",s.Right="right",s))(Ai||{}),Di=(s=>(s[s.CURVE=3]="CURVE",s[s.BID_ASK=4]="BID_ASK",s))(Di||{}),Gt$1={curve:{strategy:3,both_side:{div_width:10,ratios:[.333333,.266666,.2,.133333,.066666]},one_side:{div_width:5,ratios:[.333333,.266666,.2,.133333,.066666]}},bidAsk:{strategy:4,both_side:{div_width:10,ratios:[.172413793,.137931034,.103448276,.068965517,.034482759,.068965517,.103448276,.137931034,.172413793]},one_side:{div_width:5,ratios:[.066666667,.13333333,.2,.266666667,.333333333]}}};function xi(s){return"master_address"in s}var Li="router",Fi="vaults",Mi=1e4,Ri=(s=>(s.STATUS_RUNNING="STATUS_RUNNING",s.STATUS_REBALANCING="STATUS_REBALANCING",s))(Ri||{}),qi=(s=>(s.Haedal="Haedal",s.Volo="Volo",s.Aftermath="aftermath",s))(qi||{}),Ni=(s=>(s.Running="Running",s.PartialCompleted="PartialCompleted",s.Completed="Completed",s.Cancelled="Cancelled",s))(Ni||{}),O$1=class{static buildIdoPoolImmutables(a){return{pool_address:normalizeSuiObjectId$1(a.pool_id),coin_type_sale:extractStructTagFromType$1(a.sale_coin_type.name).full_address,coin_type_raise:extractStructTagFromType$1(a.raise_coin_type.name).full_address,tick_spacing:Number(a.tick_spacing),total_supply:a.total_supply,min_purchase:a.min_purchase_amount,max_purchase:a.max_purchase_amount}}static buildIdoPool(a){let et=getMoveObjectType(a),nt=extractStructTagFromType$1(et),at=getObjectFields(a),mt={pool_address:normalizeSuiObjectId$1(at.id.id),coin_type_sale:nt.type_arguments[0],coin_type_raise:nt.type_arguments[1],tick_spacing:Number(at.tick_spacing),total_supply:at.total_supply,min_purchase:at.min_purchase_amount,max_purchase:at.max_purchase_amount},wt={start_time:Number(at.duration_manager.fields.start_time),lock_up_duration:Number(at.duration_manager.fields.lock_up_duration),purchase_duration:Number(at.duration_manager.fields.purchase_duration),end_time:0};wt.end_time=wt.start_time+wt.purchase_duration;let $t={complete_raise_limit:at.complete_raise_limit,liquidity_injection_ratio:d$3(at.liquidity_injection_ratio).div(bt).toNumber(),current_sqrt_price_min:at.current_sqrt_price_min,current_sqrt_price_max:at.current_sqrt_price_max,owner:at.owner,sale_coin_amount:at.sale_coin,raise_coin_amount:at.raise_coin,price:at.price,current_price:at.price,duration_summary:wt,is_cancelled:at.is_cancelled,is_liquidity_injected:at.is_liquidity_injected,liquidity_used_raise_amount:at.liquidity_used_raise_amount,liquidity_used_sale_amount:at.liquidity_used_sale_amount,purchase_summary:{size:Number(at.purchase_manager.fields.purchases.fields.size),purchase_handle:at.purchase_manager.fields.purchases.fields.id.id},total_purchase_amount:at.total_purchase_amount,white_summary:{white_list_id:at.white_list.fields.id.id,protection_limit_used:at.white_list.fields.protection_limit_used,protection_hard_cap:at.white_list.fields.protection_hard_cap,white_handle:at.white_list.fields.addresses.fields.id.id,size:Number(at.white_list.fields.addresses.fields.size)},pool_status:"Upcoming",max_raise_amount:"",sale_decimals:0,raise_decimals:0,is_withdrawn:at.is_withdrawn};return O$1.updatePoolStatus($t),{...mt,...$t}}static is_init_period(a){return Number(d$3(Date.now()/1e3).toFixed(0))<a.start_time}static is_purchase_period(a){let et=Number(d$3(Date.now()/1e3).toFixed(0));return et>=a.start_time&&et<=a.start_time+a.purchase_duration}static is_claim_period(a){let et=Number(d$3(Date.now()/1e3).toFixed(0)),nt=a.start_time+a.purchase_duration;return et>nt}static is_can_inject_liquidity(a){return!a.is_cancelled&&a.liquidity_injection_ratio!==0&&O$1.is_claim_period(a.duration_summary)&&!a.is_liquidity_injected}static is_can_withdraw(a){return a.is_withdrawn?!1:O$1.is_sale_failed(a)?!0:(a.liquidity_injection_ratio===0||a.is_liquidity_injected)&&O$1.is_claim_period(a.duration_summary)}static is_sale_failed(a){return!!(a.is_cancelled||O$1.is_claim_period(a.duration_summary)&&d$3(a.total_purchase_amount).lessThan(a.complete_raise_limit))}static buildPurchaseInfo(a){return{...a.value.fields.value.fields,owner:a.name}}static calculateRedeemAmount(a,et){let nt,at;if(O$1.is_sale_failed(a))nt="0",at="0";else if(et.is_redeemed)nt=et.obtained_sale_amount,at=et.used_raise_amount;else if(d$3(a.total_purchase_amount).lessThanOrEqualTo(a.max_raise_amount))nt=d$3(et.purchased_raise_amount).mul(ye$2).div(a.price).toString(),at=et.purchased_raise_amount;else{let wt=O$1.redeemForSaleOversubcribeV2(a,et);nt=wt.user_obtained_sale_amount,at=wt.user_used_raise_amount_ceil}nt=Decimal$1.floor(nt);let mt=Decimal$1.floor(d$3(et.purchased_raise_amount).sub(at).toString());return{obtained_sale_amount:nt,refunded_raise_amount:mt}}static calculateWithdrawAmount(a){let et,nt,at=d$3(a.total_supply).mul(a.liquidity_injection_ratio);if(O$1.is_sale_failed(a))et="0",nt=d$3(at).add(a.total_supply);else{let{max_raise_amount:mt}=a;d$3(a.total_purchase_amount).greaterThanOrEqualTo(mt)?(et=d$3(mt).sub(a.liquidity_used_raise_amount).toString(),nt="0"):(et=d$3(a.total_purchase_amount).sub(a.liquidity_used_raise_amount),nt=d$3(a.total_supply).add(at).sub(a.liquidity_used_sale_amount).sub(O$1.get_sold_amount(a)))}return{obtained_raise_amount:Decimal$1.floor(et).toString(),refunded_sale_amount:Decimal$1.ceil(nt).toString()}}static get_sold_amount(a){return d$3(a.total_purchase_amount).greaterThanOrEqualTo(a.max_raise_amount)?a.total_supply:d$3(a.total_purchase_amount).mul(ye$2).div(a.price)}static redeemForSaleOversubcribe(a,et){let nt=et.protection_raise_amount,at=d$3(et.purchased_raise_amount).sub(nt),mt=a.max_raise_amount,{protection_limit_used:wt}=a.white_summary,$t=d$3(mt).sub(wt),Ct=d$3(a.total_purchase_amount).sub(wt),Dt=Decimal$1.ceil(at.mul($t).div(Ct).add(nt)),Ft=Decimal$1.floor(at.mul($t).div(Ct).add(nt));return{user_obtained_sale_amount:Decimal$1.floor(d$3(a.total_supply).mul(Ft).div(mt)),user_used_raise_amount_ceil:Dt}}static redeemForSaleOversubcribeV2(a,et){let nt=et.protection_raise_amount,at=d$3(et.purchased_raise_amount).sub(nt),mt=a.max_raise_amount,{protection_limit_used:wt}=a.white_summary,$t=d$3(mt).sub(wt),Ct=d$3(a.total_purchase_amount).sub(wt),Dt=d$3(nt).mul(Ct).add(d$3(at).mul($t)).mul(ye$2).div(d$3(Ct).mul(a.price)),Ft=Decimal$1.ceil(Dt.mul(a.price).div(ye$2));return{user_obtained_sale_amount:Dt,user_used_raise_amount_ceil:Ft}}static raiseTotalAmount(a){let et=d$3(a.sale_decimals-a.raise_decimals).abs().toNumber();return a.sale_decimals>a.raise_decimals?d$3(a.total_supply).mul(a.current_price).div(d$3(10).pow(d$3(et))).toString():d$3(a.total_supply).mul(a.current_price).mul(d$3(10).pow(d$3(et))).toString()}static updatePoolStatus(a){let et=Number(d$3(Date.now()/1e3).toFixed(0)),nt=a.duration_summary,at=nt.start_time+nt.purchase_duration;a.is_cancelled?a.pool_status="Canceled":et<nt.start_time?a.pool_status="Upcoming":et>nt.start_time&&et<at?a.pool_status="Live":d$3(a.total_purchase_amount).lessThan(a.complete_raise_limit)?a.pool_status="Failed":a.pool_status="Ended"}static async calculatePoolUiPrice(a,et){let nt=await a.ClmmSDK.CetusConfig.getTokenListByCoinTypes([et.coin_type_sale,et.coin_type_raise]),at=nt[et.coin_type_sale].decimals,mt=nt[et.coin_type_raise].decimals;et.current_price=S$2.priceFixToReal(Number(d$3(et.price).div(d$3(ye$2)).toString()),at,mt).toString(),et.sale_decimals=at,et.raise_decimals=mt,et.max_raise_amount=this.raiseTotalAmount(et)}},ln$1=(s=>(s.V1="1",s.V2="2",s))(ln$1||{}),re$1=class{static buildVeNFTDividendInfo(a){let et={id:a.id.id,ve_nft_id:a.name,rewards:[]};return a.value.fields.value.fields.dividends.fields.contents.forEach(nt=>{let at=[];nt.fields.value.fields.contents.forEach(mt=>{at.push({coin_type:extractStructTagFromType$1(mt.fields.key.fields.name).source_address,amount:mt.fields.value})}),et.rewards.push({period:Number(nt.fields.key),rewards:at})}),et}static buildDividendManager(a){let et={id:a.id.id,dividends:{id:a.dividends.fields.id.id,size:a.dividends.fields.size},venft_dividends:{id:a.venft_dividends.fields.id.id,size:a.venft_dividends.fields.size},bonus_types:[],start_time:Number(a.start_time),interval_day:Number(a.interval_day),balances:{id:a.balances.fields.id.id,size:a.balances.fields.size},is_open:a.is_open};return a.bonus_types.forEach(nt=>{et.bonus_types.push(extractStructTagFromType$1(nt.fields.name).source_address)}),et}static buildLockUpManager(a){return{id:a.id.id,balance:a.balance,treasury_manager:a.treasury_manager,extra_treasury:a.extra_treasury,lock_infos:{lock_handle_id:a.lock_infos.fields.id.id,size:Number(a.lock_infos.fields.size)},type_name:normalizeCoinType$1(a.type_name.fields.name),min_lock_day:Number(a.min_lock_day),max_lock_day:Number(a.max_lock_day),package_version:Number(a.package_version),max_percent_numerator:Number(a.max_percent_numerator),min_percent_numerator:Number(a.min_percent_numerator)}}static buildLockToken(a){let et=a.fields,nt={id:et.id.id,type:extractStructTagFromType$1(a.type).source_address,locked_start_time:Number(et.locked_start_time),locked_until_time:Number(et.locked_until_time),token_amount:et.balance,xtoken_amount:"0",lock_day:0};return nt.lock_day=(nt.locked_until_time-nt.locked_start_time)/Se,nt}static getAvailableXToken(a,et){let nt=d$3(0);return et.forEach(at=>{nt=nt.add(at.xtoken_amount)}),d$3(a.xtoken_balance).sub(nt).toString()}static getWaitUnLockTokens(a){return a.filter(et=>!re$1.isLocked(et))}static getLockingTokens(a){return a.filter(et=>re$1.isLocked(et))}static buildDividendRewardTypeList(a){let et=new Set;return a.forEach(nt=>{nt.rewards.forEach(at=>{et.add(at.coin_type)})}),Array.from(et)}static isLocked(a){return a.locked_until_time>Date.parse(new Date().toString())/1e3}static getNextStartTime(a,et=Se){let nt=Date.now()/1e3,{start_time:at,interval_day:mt}=a,wt=Math.ceil((nt-at)/(mt*et));return at+wt*mt*et}},J$1=class{static getDefaultStrategyConfig(a){let et;switch(a){case 4:et=Gt$1.bidAsk;break;default:et=Gt$1.curve;break}return et}static geTickIndexRange(a,et,nt,at){let mt,wt;switch(a=TickMath.getInitializableTickIndex(a,et),at){case"left":a>0?(wt=d$3(a).sub(et).toNumber(),mt=d$3(a).mul(d$3(1).add(nt)).toDecimalPlaces(0).toNumber()):(wt=d$3(a).sub(et).toNumber(),mt=d$3(a).mul(d$3(1).sub(nt)).toDecimalPlaces(0).toNumber());break;case"right":a>0?(wt=d$3(a).mul(d$3(1).add(nt)).toDecimalPlaces(0).toNumber(),mt=d$3(a).add(et).toNumber()):(wt=d$3(a).mul(d$3(1).sub(nt)).toDecimalPlaces(0).toNumber(),mt=d$3(a).add(et).toNumber());break;default:a>0?(mt=d$3(a).mul(d$3(1).sub(nt)).toDecimalPlaces(0).toNumber(),wt=d$3(a).mul(d$3(1).add(nt)).toDecimalPlaces(0).toNumber()):(mt=d$3(a).mul(d$3(1).add(nt)).toDecimalPlaces(0).toNumber(),wt=d$3(a).mul(d$3(1).sub(nt)).toDecimalPlaces(0).toNumber());break}if(mt=TickMath.getInitializableTickIndex(mt,et),wt=TickMath.getInitializableTickIndex(wt,et),mt<MIN_TICK_INDEX)throw Error("Tick lower value is below the minimum allowed value.");if(wt>MAX_TICK_INDEX)throw Error("Tick upper value is above the maximum allowed value.");return{tick_lower:mt,tick_upper:wt}}static getCreateLiquidityBins(a,et){let nt=[];switch(et){case 4:nt=J$1.getCreateBidAskLiquidityBins(a);break;default:nt=J$1.getCreateCurveLiquidityBins(a);break}return nt}static getCreateBidAskLiquidityBins(a){let et=d$3(Math.floor(d$3(a.tick_upper).sub(a.tick_lower).div(a.div_width).toNumber())).abs(),nt=[],at=a.ratios,mt,wt;for(let $t=0;$t<at.length;$t++){let Ct,Dt;a.tick_upper<=a.curr_tick?(Dt=d$3(a.tick_upper).sub(et.mul($t)).toNumber(),Ct=d$3(Dt).sub(et).toNumber()):a.tick_lower>=a.curr_tick?(Ct=d$3(a.tick_lower).add(et.mul($t)).toNumber(),Dt=d$3(a.tick_lower).add(et.mul($t+1)).toNumber()):$t===4?(Ct=d$3(a.tick_lower).add(et.mul($t)).toNumber(),Dt=d$3(Ct).add(et.mul(2)).toNumber()):$t>4?(Ct=d$3(a.tick_lower).add(et.mul($t+1)).toNumber(),Dt=d$3(Ct).add(et).toNumber()):(Ct=d$3(a.tick_lower).add(et.mul($t)).toNumber(),Dt=d$3(Ct).add(et).toNumber()),mt=TickMath.getInitializableTickIndex(Ct,a.tick_spacing),wt=TickMath.getInitializableTickIndex(Dt,a.tick_spacing),nt.push({tick_lower:mt,tick_upper:wt,ratio:at[$t],liquidity:"0"})}return nt}static getCreateCurveLiquidityBins(a){let et=d$3(Math.floor(d$3(a.tick_upper).sub(a.tick_lower).div(a.div_width).toNumber())).abs(),nt=[],at=a.ratios;for(let mt=0;mt<at.length;mt++){let wt,$t;a.tick_upper<=a.curr_tick?($t=a.tick_upper,wt=d$3(a.tick_upper).sub(et.mul(mt+1)).toNumber()):a.tick_lower>=a.curr_tick?(wt=a.tick_lower,$t=d$3(wt).add(et.mul(mt+1)).toNumber()):(wt=d$3(a.curr_tick).sub(et.mul(mt+1)).toNumber(),$t=d$3(a.curr_tick).add(et.mul(mt+1)).toNumber()),nt.push({tick_lower:TickMath.getInitializableTickIndex(wt,a.tick_spacing),tick_upper:TickMath.getInitializableTickIndex($t,a.tick_spacing),ratio:at[mt],liquidity:"0"})}return nt}static calculateAddLiquidityInputs(a){let et=new BN(TickMath.tickIndexToSqrtPriceX64(a.curr_tick)),nt=J$1.calculateCoinRatios(a.curr_tick,a.liquidity_bins),at=a.liquidity_bins.map((mt,wt)=>{let $t=nt[wt],Ct=d$3(a.coin_amount).mul(a.fix_amount_a?$t.coinRatioA:$t.coinRatioB).toFixed(0).toString();try{return{...ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(mt.tick_lower,mt.tick_upper,new BN(Ct),a.fix_amount_a,!0,a.slippage,et),...mt}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!a.fix_amount_a,...mt}}});return J$1.fixLiquidityInputs(et,a.slippage,at,!0)}static fixLiquidityInputs(a,et,nt,at){let mt=nt.filter($t=>$t.liquidityAmount.gt(ZERO$1));if(mt.length===0)return[];let wt=mt[0];return nt.map($t=>{if($t.liquidityAmount.eq(ZERO$1)){let Ct=d$3(wt.liquidityAmount.toString()).mul($t.ratio).div(wt.ratio).toFixed(0),Dt=TickMath.tickIndexToSqrtPriceX64($t.tick_lower),Ft=TickMath.tickIndexToSqrtPriceX64($t.tick_upper),jt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Ct.toString()),a,Dt,Ft,!1);return{coinAmountA:jt.coinA,coinAmountB:jt.coinB,liquidityAmount:new BN(Ct.toString()),fix_amount_a:$t.fix_amount_a,...adjustForCoinSlippage(jt,Percentage.fromDecimal(d$3(et).mul(100)),at)}}return $t})}static calculateCoinRatios(a,et){let nt=new BN(TickMath.tickIndexToSqrtPriceX64(a)),at=[],mt=d$3(0),wt=d$3(0),$t=et.map(Ft=>{let jt=d$3(toDecimalsAmount(100,6).toString()).mul(Ft.ratio).toFixed(0).toString(),Nt=TickMath.tickIndexToSqrtPriceX64(Ft.tick_lower),Lt=TickMath.tickIndexToSqrtPriceX64(Ft.tick_upper),Ut=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(jt),nt,Nt,Lt,!0);return mt=mt.add(Ut.coinA.toString()),wt=wt.add(Ut.coinB.toString()),{...Ut,liquidity:jt}}),Ct=[],Dt=[];return $t.forEach((Ft,jt)=>{let Nt={coinRatioA:mt.eq(d$3(0))?0:d$3(Ft.coinA.toString()).div(mt).toNumber(),coinRatioB:wt.eq(d$3(0))?0:d$3(Ft.coinB.toString()).div(wt).toNumber(),liquiditys:Ft.liquidity,tick_lower:et[jt].tick_lower,tick_upper:et[jt].tick_upper};at.push(Nt),Ct.push(mt.eq(d$3(0))?0:d$3(Ft.coinA.toString()).div(mt).toNumber()),Dt.push(wt.eq(d$3(0))?0:d$3(Ft.coinB.toString()).div(wt).toNumber())}),at}static calculateCloseMasterLiquidityInputs(a){let et=new BN(TickMath.tickIndexToSqrtPriceX64(a.curr_tick));return a.positions.map(nt=>{let at=new BN(nt.liquidity),mt=TickMath.tickIndexToSqrtPriceX64(nt.tick_lower_index),wt=TickMath.tickIndexToSqrtPriceX64(nt.tick_upper_index),$t=ClmmPoolUtil.getCoinAmountFromLiquidity(at,et,mt,wt,!1),Ct=Percentage.fromDecimal(d$3(a.slippage).mul(100)),{tokenMaxA:Dt,tokenMaxB:Ft}=adjustForCoinSlippage($t,Ct,!1);return{coinAmountA:$t.coinA,coinAmountB:$t.coinB,tokenMaxA:Dt,tokenMaxB:Ft,liquidityAmount:at,fix_amount_a:!1}})}static calculateRemoveMasterLiquidityInputs(a){let et=new BN(TickMath.tickIndexToSqrtPriceX64(a.curr_tick)),{fix_token:nt}=a;if(nt){let at=a.positions.map(($t,Ct)=>({tick_lower:$t.tick_lower_index,tick_upper:$t.tick_upper_index,ratio:a.ratios[Ct]})),mt=J$1.calculateCoinRatios(a.curr_tick,at),wt=a.positions.map(($t,Ct)=>{let Dt=mt[Ct],Ft=d$3(nt.coin_amount).mul(nt.fix_amount_a?Dt.coinRatioA:Dt.coinRatioB).toFixed(0).toString();try{let jt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts($t.tick_lower_index,$t.tick_upper_index,new BN(Ft),nt.fix_amount_a,!1,a.slippage,et);return{...jt,tick_lower:$t.tick_lower_index,tick_upper:$t.tick_upper_index,liquidity:jt.liquidityAmount.toString(),ratio:a.ratios[Ct]}}catch{return{coinAmountA:new BN(0),coinAmountB:new BN(0),tokenMaxA:new BN(0),tokenMaxB:new BN(0),liquidityAmount:new BN(0),fix_amount_a:!nt.fix_amount_a,tick_lower:$t.tick_lower_index,tick_upper:$t.tick_upper_index,liquidity:"0",ratio:a.ratios[Ct]}}});return J$1.fixLiquidityInputs(et,a.slippage,wt,!1)}return a.positions.map((at,mt)=>{let wt=a.ratios[mt],$t=d$3(a.liquidity).mul(wt).toFixed(0);d$3($t).greaterThan(at.liquidity)&&($t=at.liquidity);let Ct=TickMath.tickIndexToSqrtPriceX64(at.tick_lower_index),Dt=TickMath.tickIndexToSqrtPriceX64(at.tick_upper_index),Ft=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN($t),et,Ct,Dt,!1),jt=Percentage.fromDecimal(d$3(a.slippage).mul(100)),{tokenMaxA:Nt,tokenMaxB:Lt}=adjustForCoinSlippage(Ft,jt,!1);return{coinAmountA:Ft.coinA,coinAmountB:Ft.coinB,tokenMaxA:Nt,tokenMaxB:Lt,liquidityAmount:new BN($t),fix_amount_a:!1}})}static buildMasterPosition(a){return{coin_type_a:extractStructTagFromType$1(a.coin_type_a.fields.name).full_address,coin_type_b:extractStructTagFromType$1(a.coin_type_b.fields.name).full_address,description:a.description,id:a.id.id,index:a.index,liquidity:a.liquidity,name:a.name,pool:a.pool,tick_lower_index:asIntN(BigInt(a.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(a.tick_upper_index.fields.bits)),url:a.url}}static buildMasterNFT(a){let et=getObjectFields(a);if(et){let nt={id:et.id.id,pool_id:et.pool_id,index:Number(et.index),strategy:Number(et.strategy),tick_lower_index:asIntN(BigInt(et.tick_lower_index)),tick_upper_index:asIntN(BigInt(et.tick_upper_index)),positions:[],...buildNFT(a)};return nt.positions=et.positions.map(at=>J$1.buildMasterPosition(at.fields)),nt}}},q$2=class{static generateNextTickRange(a,et,nt){let at=a-et/2,mt=a+et/2;return{new_tick_lower:q$2.getValidTickIndex(at,nt),new_tick_upper:q$2.getValidTickIndex(mt,nt)}}static calculateDepositRatio(a,et,nt){let at=TickMath.sqrtPriceX64ToTickIndex(nt);if(at<a)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if(at>et)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let mt=new BN(1e8),{coinAmountB:wt}=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a,et,mt,!0,!0,0,nt),$t=TickMath.sqrtPriceX64ToPrice(nt,0,0),Ct=d$3(mt.toString()).mul($t),Dt=Ct.add(wt.toString()),Ft=Ct.div(Dt),jt=d$3(wt.toString()).div(Dt);return{ratioA:Ft,ratioB:jt}}static getValidTickIndex(a,et){if(a%et===0)return a;let nt;if(a>0?nt=a-a%et+et:a<0?nt=a+Math.abs(a)%et-et:nt=a,nt%et!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(nt)<Math.abs(a))throw new Error("Assertion failed: res.abs() >= tickIndex");return nt}static get_lp_amount_by_liquidity(a,et){return a.total_supply==="0"?"0":d$3(a.total_supply).mul(et).div(a.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(a,et){return a.total_supply==="0"?"0":d$3(et).mul(a.liquidity).div(a.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(a,et){return d$3(et).mul(a.protocol_fee_rate).div(Mi).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(a){let et=a.clmm_postion.fields;return{id:a.id.id,url:et.url,pool_id:a.pool_id,coinTypeA:extractStructTagFromType$1(et.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(et.coin_type_b.fields.name).full_address,description:et.description,name:et.name,liquidity:et.liquidity,clmm_position_id:et.id.id,clmm_pool_id:et.pool,tick_lower_index:asIntN(BigInt(et.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(et.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(a){let et=getObjectFields(a),nt=getObjectType(a),{positions:at}=et;if(et&&at.length>0){let mt=q$2.buildFramsPositionNFT(at[0].fields);return{id:et.id.id,pool_id:et.pool,protocol_fee_rate:et.protocol_fee_rate,is_pause:et.is_pause,harvest_assets:{harvest_assets_handle:et.harvest_assets.fields.id.id,size:Number(et.harvest_assets.fields.size)},lp_token_type:extractStructTagFromType$1(nt).type_arguments[0],total_supply:et.lp_token_treasury.fields.total_supply.fields.value,liquidity:et.liquidity,max_quota:et.max_quota,status:et.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:et.quota_based_type.fields.name,position:mt}}}static async getSuiCoin(a,et,nt){let at=await a.ClmmSDK.getOwnerCoinAssets(a.getVerifySenderAddress(),GAS_TYPE_ARG$1);nt=nt||new Transaction;let mt;if(et>95e10){let[wt,...$t]=at;$t.length>0&&nt.mergeCoins(nt.object(wt.coinObjectId),$t.map(Ct=>nt.object(Ct.coinObjectId))),mt=nt.splitCoins(nt.object(wt.coinObjectId),[et])}else mt=TransactionUtil.buildCoinForAmount(nt,at,BigInt(et),GAS_TYPE_ARG$1,!1,!0).targetCoin;return mt}},Ae$1=class{static calculatePositionShare(a,et,nt,at,mt,wt,$t){if(et<=mt||a>=wt)return"0";let Ct=0;a<mt?Ct=mt:Ct=a;let Dt=0;et<wt?Dt=et:Dt=wt;let Ft=TickMath.tickIndexToSqrtPriceX64(Ct),jt=TickMath.tickIndexToSqrtPriceX64(Dt),{coinA:Nt,coinB:Lt}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(nt),new BN($t),Ft,jt,!0);return d$3(Nt.toString()).mul(at).div(1e12).add(Lt.toString()).toString()}static buildFramsPool(a){let et=getObjectFields(a);if(et)try{let nt=[];return et.rewarders.forEach(at=>{nt.push({reward_coin:extractStructTagFromType$1(at.fields.name).full_address,last_reward_time:"",emission_per_second:"",total_allocate_point:"",allocate_point:""})}),{id:et.id.id,clmm_pool_id:et.clmm_pool_id,effective_tick_lower:asIntN(BigInt(et.effective_tick_lower.fields.bits)),effective_tick_upper:asIntN(BigInt(et.effective_tick_upper.fields.bits)),total_share:et.total_share,rewarders:nt,positions:{positions_handle:et.positions.fields.id.id,size:et.positions.fields.size},sqrt_price:et.sqrt_price}}catch(nt){console.log(nt)}}static buildFramsPositionNFT(a){let et=getObjectFields(a);if(et){let nt=et.clmm_postion.fields;return{id:et.id.id,url:nt.url,pool_id:et.pool_id,coinTypeA:extractStructTagFromType$1(nt.coin_type_a.fields.name).full_address,coinTypeB:extractStructTagFromType$1(nt.coin_type_b.fields.name).full_address,description:nt.description,name:nt.name,liquidity:nt.liquidity,clmm_position_id:nt.id.id,clmm_pool_id:nt.pool,tick_lower_index:asIntN(BigInt(nt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(nt.tick_upper_index.fields.bits)),rewards:[]}}}},ke$1=class{static buildOrderLimitEvent(a,et){let{events:nt}=a,at=[];return nt&&nt.forEach(mt=>{let wt=extractStructTagFromType$1(mt.type).name;if(et.includes(wt)){let $t={digest:a.digest,type:wt,timestampMs:a.timestampMs,parsedJson:mt.parsedJson};at.push($t)}}),at}static buildLimitOrderInfo(a){let et=getObjectFields(a),nt=getObjectType(a);if(et&&nt)try{let at=extractStructTagFromType$1(nt),mt={pay_coin_type:at.type_arguments[0],target_coin_type:at.type_arguments[1],canceled_ts:et.canceled_ts==="18446744073709551615"?0:Number(et.canceled_ts),id:et.id.id,obtained_amount:et.obtained_amount,owner:et.owner,rate:et.rate,rate_order_indexer_id:et.rate_order_indexer_id,expire_ts:Number(et.expire_ts),total_pay_amount:et.total_pay_amount,pay_balance:et.pay_balance,target_balance:et.target_balance,claimed_amount:et.claimed_amount,status:"Running",created_ts:Number(et.created_ts)};return mt.canceled_ts===0?(mt.status="Running",d$3(mt.pay_balance).eq(0)?mt.status="Completed":d$3(mt.pay_balance).lessThan(mt.total_pay_amount)&&(mt.status="PartialCompleted")):mt.status="Cancelled",mt}catch(at){console.log(at)}}static rateToPrice(a,et,nt){let at=18+et-nt;return d$3(10**at).div(a).toString()}static priceToRate(a,et,nt){let at=18+et-nt;return d$3(10).pow(at).div(d$3(a)).toFixed(0).toString()}},Ee$1=class{static async getExchangeRateForStake(a,et,nt){let{vaults:at}=a.sdkOptions,{haedal:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the haedal config is undefined");let{simulationAccount:wt}=a.ClmmSDK.sdkOptions,{staking_id:$t}=getPackagerConfigs(mt);try{let Ct=new Transaction;et?await this.requestStake(a,nt||1e9,Ct):Ct.moveCall({target:`${mt.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[Ct.object($t)]});let Dt=await a.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:et?a.ClmmSDK.senderAddress:wt.address});if(et){let jt=Dt.events.find(Ut=>Ut.type.includes("UserStaked")),{sui_amount:Nt,st_amount:Lt}=jt.parsedJson;return d$3(Nt).div(Lt).toString()}let Ft=Dt.results[0].returnValues[0][0];return d$3(suiBcs$1.u64().parse(Uint8Array.from(Ft))).div(1e6).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(a,et,nt){var wt,$t;let{vaults:at}=a.sdkOptions;nt=nt||new Transaction;let mt=await q$2.getSuiCoin(a,et,nt);return nt.moveCall({target:`${($t=(wt=at.config)==null?void 0:wt.haedal)==null?void 0:$t.published_at}::interface::request_stake`,typeArguments:[],arguments:[nt.object(normalizeSuiObjectId$1("0x5")),nt.object(at.config.haedal.config.staking_id),mt,nt.pure.address(normalizeSuiObjectId$1("0x0"))]}),nt}static requestStakeCoin(a,et,nt){let{haedal:at}=a.sdkOptions.vaults.config;return et.moveCall({target:`${at.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[et.object(normalizeSuiObjectId$1("0x5")),et.object(at.config.staking_id),nt,et.pure.address(normalizeSuiObjectId$1("0x0"))]})}},$e$1=class{static async getExchangeRateForStake(a,et,nt){let{vaults:at}=a.sdkOptions,{volo:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the volo config is undefined");let{simulationAccount:wt}=a.ClmmSDK.sdkOptions,{native_pool:$t,vsui_metadata:Ct}=getPackagerConfigs(mt);try{let Dt=new Transaction;et?await this.requestStake(a,nt||1e9,Dt):Dt.moveCall({target:`${mt.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[Dt.object($t),Dt.object(Ct)]});let Ft=await a.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Dt,sender:et?a.ClmmSDK.senderAddress:wt.address});if(et){let Lt=Ft.events.find(Yt=>Yt.type.includes("StakedEvent")),{cert_amount:Ut,sui_amount:Vt}=Lt.parsedJson;return d$3(Vt).div(Ut).toString()}let jt=Ft.results[0].returnValues[0][0],Nt=d$3(suiBcs$1.u256().parse(Uint8Array.from(jt))).div("1000000000000000000").toNumber();return d$3(1).div(Nt).toString()}catch(Dt){console.log("getExchangeRateForHaedal",Dt)}return"0"}static async requestStake(a,et,nt){let{vaults:at}=a.sdkOptions,{volo:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the volo config is undefined");nt=nt||new Transaction;let{native_pool:wt,vsui_metadata:$t}=getPackagerConfigs(mt),Ct=await q$2.getSuiCoin(a,et,nt);return nt.moveCall({target:`${mt.published_at}::native_pool::stake`,typeArguments:[],arguments:[nt.object(wt),nt.object($t),nt.object(normalizeSuiObjectId$1("0x5")),Ct]}),nt}static requestStakeCoin(a,et,nt){let{vaults:at}=a.sdkOptions,{volo:mt}=getPackagerConfigs(at);if(mt===void 0)throw Error("the volo config is undefined");et=et||new Transaction;let{native_pool:wt,vsui_metadata:$t}=getPackagerConfigs(mt);return et.moveCall({target:`${mt.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[et.object(wt),et.object($t),et.object(normalizeSuiObjectId$1("0x5")),nt]})}},Ue=class{static async getExchangeRateForStake(s,a,et){let{vaults:nt}=s.sdkOptions,{aftermath:at}=getPackagerConfigs(nt);if(at===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:mt}=s.ClmmSDK.sdkOptions,{staked_sui_vault:wt,safe:$t}=getPackagerConfigs(at);try{let Ct=new Transaction;a?await this.requestStake(s,et||1e9,Ct):Ct.moveCall({target:`${at.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[Ct.object(wt),Ct.object($t)]});let Dt=await s.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:a?s.ClmmSDK.senderAddress:mt.address});if(a){let jt=Dt.events.find(Ut=>Ut.type.includes("StakedEvent")),{afsui_amount:Nt,sui_amount:Lt}=jt.parsedJson;return d$3(Lt).div(Nt).toString()}let Ft=Dt.results[0].returnValues[0][0];return d$3(suiBcs$1.u128().parse(Uint8Array.from(Ft))).div(1e18).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(s,a,et){let{vaults:nt}=s.sdkOptions,{aftermath:at}=getPackagerConfigs(nt);if(at===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=getPackagerConfigs(at),Dt=await q$2.getSuiCoin(s,a,et);return et.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[et.object(mt),et.object($t),et.object(normalizeSuiObjectId$1("0x5")),et.object(wt),Dt,et.pure.address(normalizeSuiObjectId$1(Ct))]}),et}static requestStakeCoin(s,a,et){let{vaults:nt}=s.sdkOptions,{aftermath:at}=getPackagerConfigs(nt);if(at===void 0)throw Error("the aftermath config is undefined");a=a||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=getPackagerConfigs(at);return a.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[a.object(mt),a.object($t),a.object(normalizeSuiObjectId$1("0x5")),a.object(wt),et,a.pure.address(normalizeSuiObjectId$1(Ct))]})}},St$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getPoolImmutables(a="all",et=!1){let{package_id:nt}=this._sdk.sdkOptions.ido,at=`${nt}_getPoolImmutables`,mt=this.getCache(at,et),wt={data:[],hasNextPage:!1},$t=[];if(mt!==void 0&&$t.push(...mt),$t.length===0)try{let Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${nt}::oversubscribe_pool::CreatePoolEvent`},a);Ct.data.forEach(Dt=>{let Ft=Dt.parsedJson;if(Ft){let jt=O$1.buildIdoPoolImmutables(Ft);$t.push(jt)}}),wt.hasNextPage=Ct.hasNextPage,wt.nextCursor=Ct.nextCursor,this.updateCache(at,$t,cacheTime24h)}catch(Ct){console.log("getPoolImmutables",Ct)}return wt.data=$t,wt}async getPools(a=[],et=!1){let nt=[],at=[];a.length>0?at=[...a]:(await this.getPoolImmutables("all",et)).data.forEach(wt=>{at.push(wt.pool_address)});let mt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(at,{showType:!0,showContent:!0});for(let wt of mt){let $t=O$1.buildIdoPool(wt);await O$1.calculatePoolUiPrice(this._sdk,$t),nt.push($t);let Ct=`${$t.pool_address}_getPoolObject`;this.updateCache(Ct,$t,cacheTime24h)}return nt}async getPool(a,et=!0){let nt=`${a}_getPoolObject`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}}),wt=O$1.buildIdoPool(mt);return await O$1.calculatePoolUiPrice(this._sdk,wt),this.updateCache(nt,wt),wt}async getIdoConfigs(a=!1){var Dt;let{package_id:et}=this._sdk.sdkOptions.ido,nt=`${et}_getInitEvent`,at=this.getCache(nt,a);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showPreviousTransaction:!0}}),wt=getObjectPreviousTransactionDigest(mt),$t=(Dt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({Transaction:wt}))==null?void 0:Dt.data,Ct={pools_id:"",admin_cap_id:"",package_version_id:""};return $t.length>0&&($t.forEach(Ft=>{let jt=Ft.parsedJson;if(jt)switch(extractStructTagFromType$1(Ft.type).full_address){case`${et}::config::InitConfigEvent`:Ct.admin_cap_id=jt.admin_cap_id,Ct.package_version_id=jt.package_version_id;break;case`${et}::factory::InitFactoryEvent`:Ct.pools_id=jt.pools_id;break}}),this.updateCache(nt,Ct,cacheTime24h)),Ct}async getPurchaseInfo(a,et,nt=!0){let at=`${a}_${et}_getPurchaseInfo`,mt=this.getCache(at,nt);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"address",value:et}}),$t=O$1.buildPurchaseInfo(getObjectFields(wt));return this.updateCache(at,$t,cacheTime5min),$t}catch{return}}async getLockNFT(a,et=!1){let nt=`${a}_getLockNFT`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(!mt.error)return buildPosition(mt)}async getLockNFTList(a){var mt;let{clmm_pool:et}=this._sdk.ClmmSDK.sdkOptions,{ido:nt}=this._sdk.sdkOptions,at=[];try{let wt=(mt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{filter:{StructType:`${nt.package_id}::lock::LockedNFT<${et.package_id}::position::Position>`},options:{showContent:!0}}))==null?void 0:mt.data;for(let $t of wt){let Ct=getObjectFields($t);if(Ct){let Dt=Ct.nft.fields,Ft={locked_at:Number(Ct.locked_at),lock_duration:Number(Ct.lock_duration),lock_nft_id:Ct.id.id,type:Ct.nft.type,...Dt};Ft.end_lock_time=Ft.locked_at+Ft.lock_duration,Ft.coin_type_a=extractStructTagFromType$1(Dt.coin_type_a.fields.name).full_address,Ft.coin_type_b=extractStructTagFromType$1(Dt.coin_type_b.fields.name).full_address,Ft.id=Dt.id.id,Ft.tick_lower_index=asIntN(BigInt(Dt.tick_lower_index.fields.bits)),Ft.tick_upper_index=asIntN(BigInt(Dt.tick_upper_index.fields.bits)),at.push(Ft)}}return at}catch(wt){return console.log("getLockNFTList:",wt),[]}}async creatPool(a){let{ido:et}=this.sdk.sdkOptions;isSortedSymbols(normalizeSuiAddress$1(a.coin_type_sale),normalizeSuiAddress$1(a.coin_type_raise))&&(a.price_min=d$3(1).div(a.price_max).toNumber(),a.price_max=d$3(1).div(a.price_min).toNumber());let nt=S$2.priceRealToFix(Number(a.price),a.sale_decimals,a.raise_decimals),at=TickMath.priceToSqrtPriceX64(d$3(a.price_min),a.sale_decimals,a.raise_decimals).toString(),mt=TickMath.priceToSqrtPriceX64(d$3(a.price_max),a.sale_decimals,a.raise_decimals).toString(),wt=new Transaction,$t=d$3(a.total_supply).add(d$3(a.total_supply).mul(d$3(a.liquidity_injection_ratio))).toNumber(),Ct=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,a.coin_type_sale),Dt=TransactionUtil.buildCoinForAmount(wt,Ct,BigInt($t),a.coin_type_sale,!1),Ft=[wt.object(getPackagerConfigs(et).admin_cap_id),wt.object(getPackagerConfigs(et).package_version_id),wt.object(getPackagerConfigs(et).pools_id),wt.object(normalizeSuiAddress$1(a.owner)),wt.pure.u128(d$3(nt).mul(ye$2).toString()),wt.pure.u64(a.total_supply),wt.pure.u64(a.complete_raise_limit),wt.pure.u64(a.min_purchase_amount),wt.pure.u64(a.max_purchase_amount),wt.pure.u64(a.start_time),wt.pure.u64(a.purchase_duration),wt.pure.u64(a.lock_up_duration),wt.pure.u64((a.liquidity_injection_ratio*bt).toString()),wt.pure.u128(at),wt.pure.u128(mt),wt.pure.u32(a.tick_spacing),Dt.targetCoin,wt.pure.u64(a.protection_hard_cap.toString()),wt.object(CLOCK_ADDRESS$1)],jt=[a.coin_type_sale,a.coin_type_raise];return wt.moveCall({target:`${et.published_at}::${ji}::create_oversubscribe_pool`,typeArguments:jt,arguments:Ft}),wt}async creatPurchasePayload(a){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=await this.getPurchaseInfo(a.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1),mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,a.coin_type_raise),wt=TransactionUtil.buildCoinForAmount(nt,mt,BigInt(a.raise_amount),a.coin_type_raise,!1),$t=[a.coin_type_sale,a.coin_type_raise],Ct,Dt;return at?(Dt="purchase",Ct=[nt.object(getPackagerConfigs(et).package_version_id),nt.object(a.pool_address),nt.object(at.purchase_certificate_id),nt.pure.u64(a.raise_amount.toString()),wt.targetCoin,nt.object(CLOCK_ADDRESS$1)]):(Dt="create_certificate_and_purchase",Ct=[nt.object(getPackagerConfigs(et).package_version_id),nt.object(a.pool_address),nt.pure.u64(a.raise_amount.toString()),wt.targetCoin,nt.object(CLOCK_ADDRESS$1)]),nt.moveCall({target:`${et.published_at}::${H$1}::${Dt}`,typeArguments:$t,arguments:Ct}),nt}async redeemPayload(a){let{ido:et}=this.sdk.sdkOptions,nt=await this.getPurchaseInfo(a.purchase_handle,this._sdk.ClmmSDK.senderAddress,!1);if(nt===void 0)throw Error("get purchase certificate fail");let at=new Transaction,mt=[a.coin_type_sale,a.coin_type_raise],wt=[at.object(getPackagerConfigs(et).package_version_id),at.object(a.pool_address),at.object(nt.purchase_certificate_id),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${H$1}::redeem`,typeArguments:mt,arguments:wt}),at}injectLiquidityPayload(a){let{ido:et}=this.sdk.sdkOptions,{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,mt=[a.coin_type_sale,a.coin_type_raise],wt=a.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",$t=[at.object(getPackagerConfigs(et).package_version_id),at.object(a.pool_address),at.object(getPackagerConfigs(nt).global_config_id),at.object(a.clmm_pool_address),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${et.published_at}::${H$1}::${wt}`,typeArguments:mt,arguments:$t}),at}unPauseInjectLiquidity(a){let{ido:et}=this.sdk.sdkOptions,{integrate:nt,clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions,mt=new Transaction;mt.moveCall({target:`${nt.published_at}::${ClmmIntegratePoolModule}::unpause_pool`,typeArguments:[a.coin_type_a,a.coin_type_b],arguments:[mt.object(getPackagerConfigs(at).global_config_id),mt.object(a.clmm_pool_address)]});let wt=[a.coin_type_sale,a.coin_type_raise],$t=a.is_reverse?"inject_liquidity_with_reverse_clmm_pool":"inject_liquidity_with_forward_clmm_pool",Ct=[mt.object(getPackagerConfigs(et).package_version_id),mt.object(a.pool_address),mt.object(getPackagerConfigs(at).global_config_id),mt.object(a.clmm_pool_address),mt.object(CLOCK_ADDRESS$1)];return mt.moveCall({target:`${et.published_at}::${H$1}::${$t}`,typeArguments:wt,arguments:Ct}),mt}async findClmmPoolForLiquidity(a){let et=null,nt=!1,at=await this.sdk.ClmmSDK.Pool.getPoolImmutables();for(let mt of at){if(mt.coinTypeA===a.coin_type_sale&&mt.coinTypeB===a.coin_type_raise&&Number(mt.tickSpacing)===a.tick_spacing){et=await this._sdk.ClmmSDK.Pool.getPool(mt.poolAddress);break}if(mt.coinTypeA===a.coin_type_raise&&mt.coinTypeB===a.coin_type_sale&&Number(mt.tickSpacing)===a.tick_spacing){et=await this._sdk.ClmmSDK.Pool.getPool(mt.poolAddress),nt=!0;break}}return et&&(d$3(et.current_sqrt_price).lessThanOrEqualTo(a.current_sqrt_price_min)||d$3(et.current_sqrt_price).greaterThanOrEqualTo(a.current_sqrt_price_max))?{is_reverse:nt,clmmPool:null}:{is_reverse:nt,clmmPool:et}}withdrawPayload(a){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).package_version_id),nt.object(a.pool_address),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${H$1}::withdraw`,typeArguments:at,arguments:mt}),nt}updateWhitelistCapPayload(a){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise];return a.add_whites&&a.add_whites.addresses.length>0&&nt.moveCall({target:`${et.published_at}::${H$1}::add_white_listed_addresses`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(a.pool_address),nt.makeMoveVec({type:"address",elements:a.add_whites.addresses.map(mt=>nt.pure.address(normalizeSuiObjectId$1(mt)))}),nt.pure.u64(a.add_whites.protection_limit),nt.object(CLOCK_ADDRESS$1)]}),a.remove_whites&&a.remove_whites.length>0&&nt.moveCall({target:`${et.published_at}::${H$1}::remove_white_listed_addresses`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(a.pool_address),nt.makeMoveVec({type:"address",elements:a.remove_whites.map(mt=>nt.pure.address(normalizeSuiObjectId$1(mt)))}),nt.object(CLOCK_ADDRESS$1)]}),a.update_whites&&a.update_whites.forEach(mt=>{nt.moveCall({target:`${et.published_at}::${H$1}::update_white_listed_address`,typeArguments:at,arguments:[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(a.pool_address),nt.object(mt.address),nt.pure.u64(mt.protection_limit),nt.object(CLOCK_ADDRESS$1)]})}),nt}creatCancelPoolPayload(a){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[a.coin_type_sale,a.coin_type_raise],mt=[nt.object(getPackagerConfigs(et).admin_cap_id),nt.object(getPackagerConfigs(et).package_version_id),nt.object(a.pool_address),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::${H$1}::cancel`,typeArguments:at,arguments:mt}),nt}updatePoolOwnerPayload(a,et){let{ido:nt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[a.coin_type_sale,a.coin_type_raise],mt=[et.object(getPackagerConfigs(nt).admin_cap_id),et.object(getPackagerConfigs(nt).package_version_id),et.object(a.pool_address),et.object(a.new_owner),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${nt.published_at}::${H$1}::update_pool_owner`,typeArguments:at,arguments:mt}),et}updatePoolDuractionPayload(a,et){let{ido:nt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[a.coin_type_sale,a.coin_type_raise],mt=[et.object(getPackagerConfigs(nt).admin_cap_id),et.object(getPackagerConfigs(nt).package_version_id),et.object(a.pool_address),et.pure.u64(a.start_time),et.pure.u64(a.purchase_duration),et.pure.u64(a.lock_duration),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${nt.published_at}::${H$1}::update_pool_duration`,typeArguments:at,arguments:mt}),et}updateProtectionHardCapPayload(a,et){let{ido:nt}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let at=[a.coin_type_sale,a.coin_type_raise],mt=[et.object(getPackagerConfigs(nt).admin_cap_id),et.object(getPackagerConfigs(nt).package_version_id),et.object(a.pool_address),et.pure.u64(a.protection_hard_cap),et.object(CLOCK_ADDRESS$1)];return et.moveCall({target:`${nt.published_at}::${H$1}::update_protection_hard_cap`,typeArguments:at,arguments:mt}),et}unlockNftPayload(a){let{ido:et}=this.sdk.sdkOptions,nt=new Transaction,at=[a.nft_type],mt=[nt.object(a.lock_nft_id),nt.object(CLOCK_ADDRESS$1)];return nt.moveCall({target:`${et.published_at}::lock::unlock_nft`,typeArguments:at,arguments:mt}),nt}async isAdminCap(a){let{ido:et}=this._sdk.sdkOptions,nt=`${et.package_id}_${a}_isAdminCap`,at=this.getCache(nt);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(et).admin_cap_id,options:{showType:!0,showOwner:!0}});console.log(mt);let wt=getObjectType(mt),$t=getObjectOwner(mt),Ct=!1;return $t&&wt&&extractStructTagFromType$1(wt).source_address===`${et.package_id}::config::AdminCap`&&(Ct=normalizeSuiAddress$1($t.AddressOwner)===normalizeSuiAddress$1(a)),this.updateCache(nt,Ct,cacheTime24h),Ct}async getWhiteProtectionLimit(a,et,nt=!0){let at=`${a}_${et}_getWhiteProtectionLimit`,mt=this._sdk.getCache(at,nt);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"address",value:et}});if(wt&&wt.data){let $t=getObjectFields(wt);return this._sdk.updateCache(at,$t.value),$t.value}return}catch{return}}async getWhiteList(a,et){var at;let nt={type:"address",value:et};try{let mt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:nt}),wt=getObjectFields(mt);if(console.log(wt),wt)return(at=wt==null?void 0:wt.value)==null?void 0:at.fields}catch{}return{safe_limit_amount:"0",safe_purchased_amount:"0"}}async getAdminAddress(){let{ido:a}=this._sdk.sdkOptions,et=`${getPackagerConfigs(a).admin_cap_id}_getAdminAddress`,nt=this.getCache(et);if(nt)return nt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:getPackagerConfigs(a).admin_cap_id,options:{showType:!0,showOwner:!0}}),mt=getObjectType(at),wt=getObjectOwner(at);if(wt&&mt&&extractStructTagFromType$1(mt).source_address===`${a.package_id}::config::AdminCap`){let $t=normalizeSuiAddress$1(wt.AddressOwner);return this.updateCache(et,$t,cacheTime24h),$t}return""}updateCache(a,et,nt=cacheTime24h){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[a]}},It$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getOwnerVeNFT(a,et=!0){let{xtoken:nt}=this.sdk.sdkOptions,at=`${a}_getLockUpManagerEvent`,mt=this.getCache(at,et);if(mt!==void 0)return mt;let wt,$t=`${nt.package_id}::xtoken::VeNFT`;return(await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:$t}})).data.forEach(Ct=>{let Dt=extractStructTagFromType$1(getMoveObjectType(Ct)).source_address;if(Dt===$t&&Ct.data&&Ct.data.content){let{fields:Ft}=Ct.data.content;wt={...buildNFT(Ct),id:Ft.id.id,index:Ft.index,type:Dt,xtoken_balance:Ft.xtoken_balance},this.updateCache(at,wt,cacheTime24h)}}),wt}async getOwnerLockTokens(a){let{xtoken:et}=this.sdk.sdkOptions,nt=[],at=`${et.package_id}::lock_coin::LockedCoin<${this.buileTokenCoinType()}>`,mt=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0},filter:{StructType:at}});for(let wt of mt.data)if(extractStructTagFromType$1(getMoveObjectType(wt)).source_address===at&&wt.data){let $t=re$1.buildLockToken(wt.data.content),Ct=await this.getLockXToken($t.id);Ct&&($t.xtoken_amount=Ct.xtoken_amount),nt.push($t)}return nt}async getLockToken(a){var nt;let et=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});if((nt=et.data)!=null&&nt.content){let at=re$1.buildLockToken(et.data.content),mt=await this.getLockXToken(at.id);return mt&&(at.xtoken_amount=mt.xtoken_amount),at}}async getOwnerTokenCoins(a){return await this._sdk.ClmmSDK.getOwnerCoinAssets(a,this.buileTokenCoinType())}mintVeNFTPayload(){let{xtoken:a}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${a.published_at}::${je}::mint_venft`,typeArguments:[],arguments:[et.object(getPackagerConfigs(a).xtoken_manager_id)]}),et}async convertPayload(a,et){let{xtoken:nt}=this.sdk.sdkOptions;et=et||new Transaction;let at=this.buileTokenCoinType(),mt=await TransactionUtil.syncBuildCoinInputForAmount(this._sdk.ClmmSDK,et,BigInt(a.amount),at);return a.venft_id===void 0?et.moveCall({target:`${nt.published_at}::${je}::mint_and_convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xtoken_manager_id),mt,et.pure.u64(a.amount)]}):et.moveCall({target:`${nt.published_at}::${je}::convert`,typeArguments:[],arguments:[et.object(getPackagerConfigs(nt).lock_manager_id),et.object(getPackagerConfigs(nt).xtoken_manager_id),mt,et.pure.u64(a.amount),et.object(a.venft_id)]}),et}redeemLockPayload(a){let{xtoken:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${je}::redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xtoken_manager_id),nt.object(a.venft_id),nt.pure.u64(a.amount),nt.pure.u64(a.lock_day),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemPayload(a){let{xtoken:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${je}::redeem`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xtoken_manager_id),nt.object(a.venft_id),nt.object(a.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}redeemDividendPayload(a,et){let{xtoken_dividends:nt}=this.sdk.sdkOptions,at=new Transaction;return et.forEach(mt=>{at.moveCall({target:`${nt.published_at}::${kt$1}::redeem`,typeArguments:[mt],arguments:[at.object(getPackagerConfigs(nt).dividend_manager_id),at.object(a)]})}),at}redeemDividendV2Payload(a,et,nt){let{xtoken_dividends:at}=this.sdk.sdkOptions,mt=new Transaction;return et.filter(wt=>nt.includes(wt)).length>0&&(mt=this.redeemDividendXTokenPayload(a,mt)),et.forEach(wt=>{nt.includes(wt)||mt.moveCall({target:`${at.published_at}::${kt$1}::redeem_v2`,typeArguments:[wt],arguments:[mt.object(getPackagerConfigs(at).dividend_manager_id),mt.object(a),mt.object(CLOCK_ADDRESS$1)]})}),mt}redeemDividendXTokenPayload(a,et){let{xtoken_dividends:nt,xtoken:at}=this.sdk.sdkOptions,{xtoken_manager_id:mt,lock_manager_id:wt}=getPackagerConfigs(at),{dividend_manager_id:$t}=getPackagerConfigs(nt);return et=et===void 0?new Transaction:et,et.moveCall({target:`${nt.published_at}::${kt$1}::redeem_xtoken`,typeArguments:[],arguments:[et.object(wt),et.object(mt),et.object($t),et.object(a),et.object(CLOCK_ADDRESS$1)]}),et}buileTokenCoinType(){return`${this.sdk.sdkOptions.token_faucet.package_id}::token::TOKEN`}buileXTokenCoinType(a=this._sdk.sdkOptions.xtoken.package_id,et="xtoken",nt="XTOKEN"){return`${a}::${et}::${nt}`}cancelRedeemPayload(a){let{xtoken:et}=this.sdk.sdkOptions,nt=new Transaction;return nt.moveCall({target:`${et.published_at}::${je}::cancel_redeem_lock`,typeArguments:[],arguments:[nt.object(getPackagerConfigs(et).lock_manager_id),nt.object(getPackagerConfigs(et).xtoken_manager_id),nt.object(a.venft_id),nt.object(a.lock_id),nt.object(CLOCK_ADDRESS$1)]}),nt}async getInitConfigs(){var $t,Ct;let{package_id:a}=this.sdk.sdkOptions.xtoken,et=`${a}_getInitFactoryEvent`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=($t=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::xtoken::InitEvent`}))==null?void 0:$t.data,mt={xtoken_manager_id:"",lock_manager_id:"",lock_handle_id:""};at.length>0&&at.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.xtoken_manager_id=Ft.xtoken_manager)});let wt=(Ct=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::locking::InitializeEvent`}))==null?void 0:Ct.data;return wt.length>0&&wt.forEach(Dt=>{let Ft=Dt.parsedJson;Ft&&(mt.lock_manager_id=Ft.lock_manager)}),mt.lock_handle_id=(await this.getLockUpManager(mt.lock_manager_id)).lock_infos.lock_handle_id,this.updateCache(et,mt,cacheTime24h),mt}async getLockUpManager(a=getPackagerConfigs(this.sdk.sdkOptions.xtoken).lock_manager_id,et=!1){let nt=`${a}_getLockUpManagerEvent`,at=this.getCache(nt,et);if(at!==void 0)return at;let mt=await this.sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0}}),wt=re$1.buildLockUpManager(getObjectFields(mt));return this.updateCache(nt,wt,cacheTime24h),wt}async getLockInfoHandle(a){let et=`${a}_getLockInfoHandle`,nt=this.getCache(et);if(nt!==void 0)return nt;let at="",mt=await this.sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0}}),wt=getObjectFields(mt);return wt&&(at=wt.lock_infos.fields.id.id,this.updateCache(et,at,cacheTime24h)),at}async getDividendConfigs(){var wt;let{package_id:a}=this.sdk.sdkOptions.xtoken_dividends,et=`${a}_getDividendManagerEvent`,nt=this.getCache(et);if(nt!==void 0)return nt;let at=(wt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::dividend::InitEvent`}))==null?void 0:wt.data,mt={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:""};return at.length>0&&at.forEach($t=>{let Ct=$t.parsedJson;Ct&&(mt.dividend_manager_id=Ct.manager_id,mt.dividend_admin_id=Ct.admin_id,mt.dividend_settle_id=Ct.settle_id,this.updateCache(et,mt,cacheTime24h))}),mt}async getDividendManager(a=!1){let{dividend_manager_id:et}=getPackagerConfigs(this.sdk.sdkOptions.xtoken_dividends),nt=`${et}_getDividendManager`,at=this.getCache(nt,a);if(at!==void 0)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t=re$1.buildDividendManager(wt);return this.updateCache(nt,$t,cacheTime24h),$t}async getXcetusManager(a=!0){let{xtoken_manager_id:et}=getPackagerConfigs(this.sdk.sdkOptions.xtoken),nt=`${et}_getXcetusManager`,at=this.getCache(nt,a);if(at)return at;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:et,options:{showContent:!0}}),wt=getObjectFields(mt),$t={id:wt.id.id,index:Number(wt.index),has_venft:{handle:wt.has_venft.fields.id.id,size:wt.has_venft.fields.size},nfts:{handle:wt.nfts.fields.id.id,size:wt.nfts.fields.size},total_locked:wt.total_locked,treasury:wt.treasury.fields.total_supply.fields.value};return this.updateCache(nt,$t),$t}async getVeNFTDividendInfo(a,et){try{let nt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(nt);return re$1.buildVeNFTDividendInfo(at)}catch{return}}async redeemNum(a,et){if(BigInt(a)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=await this.getLockUpManager(),at=d$3(U).mul(d$3(nt.max_lock_day).sub(d$3(et))).mul(d$3(nt.max_percent_numerator).sub(d$3(nt.min_percent_numerator))).div(d$3(nt.max_lock_day).sub(d$3(nt.min_lock_day))),mt=d$3(U).mul(d$3(nt.max_percent_numerator)).sub(at).div(d$3(Re$1)).div(U);return{amountOut:d$3(mt).mul(d$3(a)).round().toString(),percent:mt.toString()}}async reverseRedeemNum(a,et){if(BigInt(a)===BigInt(0))return{amountOut:"0",percent:"0"};let nt=await this.getLockUpManager(),at=d$3(U).mul(d$3(nt.max_lock_day).sub(d$3(et))).mul(d$3(nt.max_percent_numerator).sub(d$3(nt.min_percent_numerator))).div(d$3(nt.max_lock_day).sub(d$3(nt.min_lock_day))),mt=d$3(U).mul(d$3(nt.max_percent_numerator)).sub(at).div(d$3(Re$1)).div(U);return{amountOut:d$3(a).div(mt).toFixed(0,Decimal$1.ROUND_UP),percent:mt.toString()}}async getLockXToken(a){let{lock_handle_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xtoken),nt=`${a}_getXTokenAmount`,at=this.getCache(nt);if(at)return at;try{let mt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:a}}),wt=getObjectFields(mt);if(wt){let $t=wt.value.fields.value.fields;return this.updateCache(nt,$t,cacheTime24h),$t}}catch{}}async getVeNftAmount(a,et){try{let nt=await this.sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:et}}),at=getObjectFields(nt);if(at){let{lock_amount:mt,xtoken_amount:wt}=at.value.fields.value.fields;return{lock_amount:mt,xtoken_amount:wt}}}catch{}return{lock_amount:"0",xtoken_amount:"0"}}async getPhaseDividendInfo(a,et=!1){let nt=(await this.getDividendManager()).dividends.id,at=`${nt}_${a}_getPhaseDividendInfo`,mt=this._sdk.getCache(at,et);if(mt)return mt;try{let wt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:nt,name:{type:"u64",value:a}}),$t=getObjectFields(wt),Ct=$t.value.fields.value.fields,Dt=Ct.redeemed_num.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),Ft=Ct.bonus_types.map(Lt=>Lt.fields.name),jt=Ct.bonus.fields.contents.map(Lt=>({name:Lt.fields.key.fields.name,value:Lt.fields.value})),Nt={id:getObjectId(wt),phase:$t.name,settled_num:Ct.settled_num,register_time:Ct.register_time,redeemed_num:Dt,is_settled:Ct.is_settled,bonus_types:Ft,bonus:jt,phase_end_time:""};return this.updateCache(at,Nt),Nt}catch{}}updateCache(a,et,nt=cacheTime5min){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[a]}},Ot$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async addMasterLiquidity(a){var Yt,er;let{liquidity_stratefy:et}=this._sdk.sdkOptions,{clmm_pool:nt}=this._sdk.ClmmSDK.sdkOptions,at=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),mt=d$3(0),wt=d$3(0),$t=[],Ct=[],Dt=[],Ft=[],jt=[];a.liquidity_bins.forEach((tr,nr)=>{let sr=a.amounts_a[nr],dr=a.amounts_b[nr],br=a.bins_fix_amount_a[nr];mt=mt.add(sr),wt=wt.add(dr),$t.push(sr),Ct.push(dr),Dt.push(asUintN(BigInt(tr.tick_lower)).toString()),Ft.push(asUintN(BigInt(tr.tick_upper)).toString()),jt.push(br)});let Nt=[a.coinTypeA,a.coinTypeB],Lt=new Transaction,Ut=(Yt=TransactionUtil.buildAddLiquidityFixTokenCoinInput(Lt,!a.fix_amount_a,mt.toString(),a.slippage,a.coinTypeA,at,!1))==null?void 0:Yt.targetCoin,Vt=(er=TransactionUtil.buildAddLiquidityFixTokenCoinInput(Lt,a.fix_amount_a,wt.toString(),a.slippage,a.coinTypeB,at,!1))==null?void 0:er.targetCoin;return xi(a)?Lt.moveCall({target:`${et.published_at}::router::increase_liquidity`,typeArguments:Nt,arguments:[Lt.object(getPackagerConfigs(et).master_manger_id),Lt.object(a.master_address),Lt.object(getPackagerConfigs(nt).global_config_id),Lt.object(a.pool_address),Ut,Vt,Lt.makeMoveVec({elements:$t.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:Ct.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:jt.map(tr=>Lt.pure.bool(tr))}),Lt.object(CLOCK_ADDRESS$1)]}):Lt.moveCall({target:`${et.published_at}::router::create_master_liquidity`,typeArguments:Nt,arguments:[Lt.object(getPackagerConfigs(et).master_manger_id),Lt.object(getPackagerConfigs(nt).global_config_id),Lt.object(a.pool_address),Ut,Vt,Lt.makeMoveVec({elements:Dt.map(tr=>Lt.pure.u32(Number(tr)))}),Lt.makeMoveVec({elements:Ft.map(tr=>Lt.pure.u32(Number(tr)))}),Lt.makeMoveVec({elements:$t.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:Ct.map(tr=>Lt.pure.u64(tr))}),Lt.makeMoveVec({elements:jt.map(tr=>Lt.pure.bool(tr))}),Lt.pure.u8(a.strategy),Lt.pure.u32(Number(asUintN(BigInt(a.tick_lower)).toString())),Lt.pure.u32(Number(asUintN(BigInt(a.tick_upper)).toString())),Lt.object(CLOCK_ADDRESS$1)]}),Lt}buildMasterNFTType(){return`${this._sdk.sdkOptions.liquidity_stratefy.package_id}::master_liquidity::MasterLiquidity`}async getMasterNFTList(a,et=[]){let nt=[],at=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0},filter:{Package:this._sdk.sdkOptions.liquidity_stratefy.package_id}}),mt=et.length>0;for(let wt of at.data)if(extractStructTagFromType$1(wt.data.type).full_address===this.buildMasterNFTType()){let $t=J$1.buildMasterNFT(wt);if($t){let Ct=`${$t.id}_masterNFT`;this.updateCache(Ct,$t,cacheTime24h),mt?et.includes($t.pool_id)&&nt.push($t):nt.push($t)}}return nt}async getMasterNFT(a,et=!1){let nt="$masterId}_masterNFT",at=this.getCache(nt,et);if(at)return at;try{let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}});if(extractStructTagFromType$1(mt.data.type).full_address===this.buildMasterNFTType()){let wt=J$1.buildMasterNFT(mt);return wt&&this.updateCache(nt,wt,cacheTime24h),wt}}catch(mt){console.log(mt)}}async fetchMasterPositionInfos(a){var $t;let et={},{clmm_pool:nt,integrate:at,simulationAccount:mt}=this.sdk.ClmmSDK.sdkOptions,wt=new Transaction;return a.forEach(Ct=>{Ct.position_ids.forEach(Dt=>{let Ft=[Ct.coinTypeA,Ct.coinTypeB],jt=[wt.object(getPackagerConfigs(nt).global_config_id),wt.object(Ct.pool_id),wt.object(Dt)];wt.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::fetch_position_fees`,arguments:jt,typeArguments:Ft}),wt.moveCall({target:`${at.published_at}::${ClmmFetcherModule}::fetch_position_rewards`,arguments:[...jt,wt.object(CLOCK_ADDRESS$1)],typeArguments:Ft})})}),($t=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:mt.address})).events)==null||$t.forEach(Ct=>{let{parsedJson:Dt}=Ct,{position_id:Ft}=Dt,jt=et[Ft];switch(jt===void 0&&(jt={position_id:Ft,feeOwedA:"0",feeOwedB:"0",rewarders:[]},et[Ft]=jt),extractStructTagFromType$1(Ct.type).name){case"FetchPositionFeesEvent":jt.feeOwedA=Dt.fee_owned_a,jt.feeOwedB=Dt.fee_owned_b;break;case"FetchPositionRewardsEvent":jt.rewarders=Dt.data;break}}),et}async getLiquidityStrategyConfigs(a=!1){let{package_id:et}=this._sdk.sdkOptions.liquidity_stratefy,nt=`${et}_getLiquidityStrategyConfigst`,at=this.getCache(nt,a);if(at!==void 0)return at;let mt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::master_liquidity::MasterLiquidityManagerCreatedEvent`})).data,wt={master_manger_id:"",master_liquidity_handle:""};if(mt.length>0){for(let $t of mt){let Ct=$t.parsedJson;wt.master_manger_id=Ct.id;let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:Ct.id,options:{showContent:!0}}),Ft=getObjectFields(Dt);wt.master_liquidity_handle=Ft.position_maps.fields.id.id;break}this.updateCache(nt,wt,cacheTime24h)}return wt}removeMasterLiquidity(a){let{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:nt}=this.sdk.sdkOptions,at=new Transaction,mt=[a.coinTypeA,a.coinTypeB];this.collectReward({coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collect_fee:!1,rewarder_coin_types:a.rewarder_coin_types,master_address:a.master_address,pool_address:a.pool_address},at);let wt=[at.object(getPackagerConfigs(nt).master_manger_id),at.object(a.pool_address),at.object(a.master_address),at.object(getPackagerConfigs(et).global_config_id),at.makeMoveVec({elements:a.delta_liquidities.map($t=>at.pure.u128($t))}),at.makeMoveVec({elements:a.min_amounts_a.map($t=>at.pure.u64($t))}),at.makeMoveVec({elements:a.min_amounts_a.map($t=>at.pure.u64($t))}),at.object(CLOCK_ADDRESS$1)];return at.moveCall({target:`${nt.published_at}::${it$1}::remove_liquidity`,typeArguments:mt,arguments:wt}),at}closeMasterLiquidity(a){let{clmm_pool:et}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:nt}=this.sdk.sdkOptions,at=new Transaction,mt=[a.coinTypeA,a.coinTypeB];return this.collectReward({coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collect_fee:!1,rewarder_coin_types:a.rewarder_coin_types,master_address:a.master_address,pool_address:a.pool_address},at),at.moveCall({target:`${nt.published_at}::${it$1}::close_master_liquidity`,typeArguments:mt,arguments:[at.object(getPackagerConfigs(nt).master_manger_id),at.object(a.master_address),at.object(getPackagerConfigs(et).global_config_id),at.object(a.pool_address),at.makeMoveVec({elements:a.min_amounts_a.map(wt=>at.pure.u64(wt))}),at.makeMoveVec({elements:a.min_amounts_a.map(wt=>at.pure.u64(wt))}),at.object(CLOCK_ADDRESS$1)]}),at}collectFee(a,et){let{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:at}=this.sdk.sdkOptions;et=et===void 0?new Transaction:et;let mt=[a.coinTypeA,a.coinTypeB],wt=[et.object(getPackagerConfigs(at).master_manger_id),et.object(a.master_address),et.object(getPackagerConfigs(nt).global_config_id),et.object(a.pool_address)];return et.moveCall({target:`${at.published_at}::${it$1}::collect_fee`,typeArguments:mt,arguments:wt}),et}collectReward(a,et){let{clmm_pool:nt}=this.sdk.ClmmSDK.sdkOptions,{liquidity_stratefy:at}=this.sdk.sdkOptions;return et=et===void 0?new Transaction:et,a.collect_fee&&this.collectFee({...a},et),a.rewarder_coin_types.forEach(mt=>{let wt=[a.coinTypeA,a.coinTypeB,mt];if(et){let $t=[et.object(getPackagerConfigs(at).master_manger_id),et.object(a.master_address),et.object(getPackagerConfigs(nt).global_config_id),et.object(a.pool_address),et.object(getPackagerConfigs(nt).global_vault_id),et.object(CLOCK_ADDRESS$1)];et.moveCall({target:`${at.published_at}::${it$1}::collect_reward`,typeArguments:wt,arguments:$t})}}),et}updateCache(a,et,nt=cacheTime5min){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[a]}},xt$2=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}buildCoinInput(a,et,nt,at,mt){let{selectedCoins:wt,remainingCoins:$t}=CoinAssist.selectCoinAssetGreaterThanOrEqual(et,BigInt(at)),Ct=CoinAssist.calculateTotalBalance(wt);if(Ct<BigInt(at))throw new Error(`The amount(${Ct}) is Insufficient balance for ${nt} , expect ${at} `);let Dt=Ct-BigInt(at),Ft;if(CoinAssist.isSuiCoin(nt))Ft=a.splitCoins(a.gas,[a.pure.u64(at)]);else{let[jt,...Nt]=wt.map(Lt=>Lt.coinObjectId);Ft=a.object(jt),Nt.length>0?mt?a.mergeCoins(Ft,[...Nt.map(Lt=>a.object(Lt)),mt]):a.mergeCoins(Ft,[...Nt.map(Lt=>a.object(Lt))]):mt&&a.mergeCoins(Ft,[mt])}return{selectedUnusedAmount:Dt,coinInput:Ft,remainingCoins:$t}}async deposit(a){var Nt,Lt;let{vaults:et,frams:nt}=this._sdk.sdkOptions,{clmm_pool:at}=this._sdk.ClmmSDK.sdkOptions,mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress()),wt=new Transaction,$t,Ct;if(a.swapParams){let Ut=await this.handleDepositSwap(a,wt,mt);$t=Ut.primaryCoinAInputs,Ct=Ut.primaryCoinBInputs}else $t=(Nt=TransactionUtil.buildAddLiquidityFixTokenCoinInput(wt,!a.fix_amount_a,a.amount_a,a.slippage,a.coinTypeA,mt,!1))==null?void 0:Nt.targetCoin,Ct=(Lt=TransactionUtil.buildAddLiquidityFixTokenCoinInput(wt,a.fix_amount_a,a.amount_b,a.slippage,a.coinTypeB,mt,!1))==null?void 0:Lt.targetCoin;let Dt=getPackagerConfigs(et),Ft=getPackagerConfigs(nt),jt=getPackagerConfigs(at);return wt.moveCall({target:`${et.published_at}::${Li}::deposit`,typeArguments:[a.coinTypeA,a.coinTypeB,a.lp_token_type],arguments:[wt.object(Dt.vaults_manager_id),wt.object(a.vault_id),wt.object(Ft.rewarder_manager_id),wt.object(Ft.global_config_id),wt.object(a.farming_pool),wt.object(jt.global_config_id),wt.object(a.clmm_pool),$t,Ct,wt.pure.u64(a.amount_a),wt.pure.u64(a.amount_b),wt.pure.bool(a.fix_amount_a),wt.object(CLOCK_ADDRESS$1)]}),wt}async handleDepositSwap(a,et,nt){let{clmm_pool:at,integrate:mt}=this._sdk.ClmmSDK.sdkOptions,{swap_amount:wt,a2b:$t,route_obj:Ct,stakeProtocol:Dt}=a.swapParams,Ft=$t?a.coinTypeA:a.coinTypeB,jt=TransactionUtil.buildCoinForAmount(et,nt,BigInt(wt),Ft,!1),Nt=BigInt(jt.tragetCoinAmount)-BigInt(wt),Lt=[];if(Dt){let tr=this.requestStakeCoin(Dt,et,jt.targetCoin),nr=TransactionUtil.buildCoinForAmount(et,jt.remainCoins,BigInt(0),Ft,!1).targetCoin;Lt=$t?[nr,tr]:[tr,nr]}else if(Ct){let tr=TransactionUtil.buildCoinForAmount(et,nt,0n,$t?a.coinTypeB:a.coinTypeA,!1),nr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,Ct,jt,tr,"",a.slippage,et);Lt=$t?[nr.fromCoin,nr.toCoin]:[nr.toCoin,nr.fromCoin],!tr.isMintZeroCoin&&tr.originalSplitedCoin===void 0&&et.transferObjects([tr.targetCoin],et.pure.address(this._sdk.getVerifySenderAddress()))}else{let tr=TransactionUtil.buildCoinForAmount(et,nt,0n,$t?a.coinTypeB:a.coinTypeA,!1),nr=SwapUtils.getDefaultSqrtPriceLimit($t).toString();Lt=et.moveCall({target:`${mt.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(getPackagerConfigs(at).global_config_id),et.object(a.clmm_pool),$t?jt.targetCoin:tr.targetCoin,$t?tr.targetCoin:jt.targetCoin,et.pure.bool($t),et.pure.bool(!0),et.pure.u64(wt),et.pure.u128(nr),et.pure.bool(!1),et.object(CLOCK_ADDRESS$1)]})}let Ut,Vt,Yt=Lt[0],er=Lt[1];if($t){let tr=BigInt(a.amount_a)-Nt;CoinAssist.isSuiCoin(Ft)?(et.transferObjects([Yt],et.pure.address(this._sdk.getVerifySenderAddress())),Ut=et.splitCoins(et.gas,[et.pure.u64(a.amount_a)])):tr>0n?Ut=this.buildCoinInput(et,jt.remainCoins,Ft,tr,Yt).coinInput:Ut=Yt,Vt=er}else{Ut=Yt;let tr=BigInt(a.amount_b)-Nt;CoinAssist.isSuiCoin(Ft)?(et.transferObjects([er],et.pure.address(this._sdk.getVerifySenderAddress())),Vt=et.splitCoins(et.gas,[et.pure.u64(a.amount_b)])):tr>0n?Vt=this.buildCoinInput(et,jt.remainCoins,Ft,tr,er).coinInput:Vt=er}return{primaryCoinAInputs:Ut,primaryCoinBInputs:Vt}}async remove(a){let{vaults:et,frams:nt}=this.sdk.sdkOptions,{clmm_pool:at,integrate:mt}=this._sdk.ClmmSDK.sdkOptions,wt=new Transaction,$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.getVerifySenderAddress(),a.lp_token_type),Ct=TransactionUtil.buildCoinForAmount(wt,$t,BigInt(a.lp_token_amount),a.lp_token_type,!1).targetCoin,Dt=getPackagerConfigs(et),Ft=getPackagerConfigs(nt),jt=getPackagerConfigs(at),Nt=[a.coinTypeA,a.coinTypeB,a.lp_token_type],Lt=wt.moveCall({target:`${et.published_at}::${Fi}::remove`,typeArguments:Nt,arguments:[wt.object(Dt.vaults_manager_id),wt.object(a.vault_id),wt.object(Ft.rewarder_manager_id),wt.object(Ft.global_config_id),wt.object(a.farming_pool),wt.object(jt.global_config_id),wt.object(a.clmm_pool),Ct,wt.pure.u64(a.lp_token_amount),wt.pure.u64(a.min_amount_a),wt.pure.u64(a.min_amount_b),wt.object(CLOCK_ADDRESS$1)]}),Ut=Lt[0],Vt=Lt[1];if(a.swapParams){let{a2b:Yt,swap_amount:er,route_obj:tr}=a.swapParams;if(tr){let nr={targetCoin:Yt?Ut:Vt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},sr={targetCoin:Yt?Vt:Ut,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:""},dr=await TransactionUtil.buildAggregatorSwapReturnCoins(this._sdk.ClmmSDK,tr,nr,sr,"",a.slippage,wt),br=Yt?[dr.fromCoin,dr.toCoin]:[dr.toCoin,dr.fromCoin];Yt?wt.mergeCoins(br[1],[Vt]):wt.mergeCoins(br[0],[Ut]),wt.transferObjects([...br],wt.pure.address(this._sdk.getVerifySenderAddress()))}else{let nr=SwapUtils.getDefaultSqrtPriceLimit(Yt).toString(),sr=wt.moveCall({target:`${mt.published_at}::${ClmmIntegrateRouterModule}::swap`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[wt.object(getPackagerConfigs(at).global_config_id),wt.object(a.clmm_pool),Ut,Vt,wt.pure.bool(Yt),wt.pure.bool(!0),wt.pure.u64(er),wt.pure.u128(nr),wt.pure.bool(!0),wt.object(CLOCK_ADDRESS$1)]});wt.transferObjects([sr[0],sr[1]],wt.pure.address(this._sdk.getVerifySenderAddress()))}}else wt.transferObjects([Ut,Vt],wt.pure.address(this._sdk.getVerifySenderAddress()));return wt}async getVaultList(a="all"){let{vaults:et}=this._sdk.sdkOptions,nt=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et.package_id}::vaults::CreateEvent`},a),at=nt.data.map($t=>$t.parsedJson.id),mt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(at,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),wt=[];return mt.forEach($t=>{let Ct=q$2.buildPool($t);Ct&&(Ct.stake_protocol=this.findStakeProtocol(Ct.position.coinTypeA,Ct.position.coinTypeB),this.savePoolToCache(Ct),wt.push(Ct))}),nt.data=wt,nt}findStakeProtocol(a,et){let{haedal:nt,volo:at,aftermath:mt}=getPackagerConfigs(this._sdk.sdkOptions.vaults),wt=extractStructTagFromType$1(a).full_address,$t=extractStructTagFromType$1(et).full_address;if(CoinAssist.isSuiCoin(wt)||CoinAssist.isSuiCoin($t)){if(nt){let Ct=extractStructTagFromType$1(getPackagerConfigs(nt).coin_type).full_address;if(wt===Ct||$t===Ct)return"Haedal"}if(at){let Ct=extractStructTagFromType$1(getPackagerConfigs(at).coin_type).full_address;if(wt===Ct||$t===Ct)return"Volo"}if(mt){let Ct=extractStructTagFromType$1(getPackagerConfigs(mt).coin_type).full_address;if(wt===Ct||$t===Ct)return"aftermath"}}}savePoolToCache(a){let et=`${a.id}_mirrorPool`;this.updateCache(et,a,cacheTime24h)}readPoolFromCache(a,et=!1){let nt=`${a}_mirrorPool`;return this.getCache(nt,et)}async calculateMaxAvailable(a){var Vt;let{integrate:et,simulationAccount:nt}=this.sdk.ClmmSDK.sdkOptions,at=new Transaction,mt=TickMath.tickIndexToSqrtPriceX64(a.lowerTick),wt=TickMath.tickIndexToSqrtPriceX64(a.upperTick),$t=new BN(a.curSqrtPrice),Ct=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(a.input_amount),$t,mt,wt,!1),Dt=[a.coinTypeA,a.coinTypeB];at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[at.object(a.clmm_pool),at.pure.bool(!0),at.pure.bool(!0),at.pure.u64(Ct.coinA.toString())],typeArguments:Dt}),at.moveCall({target:`${et.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:[at.object(a.clmm_pool),at.pure.bool(!1),at.pure.bool(!0),at.pure.u64(Ct.coinB.toString())],typeArguments:Dt});let Ft=(Vt=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:nt.address})).events)==null?void 0:Vt.filter(Yt=>extractStructTagFromType$1(Yt.type).name==="CalculatedSwapResultEvent");if(Ft.length===0)return null;let jt=Ft[0].parsedJson.data,Nt=Ft[1].parsedJson.data,Lt=d$3(Ct.coinB.toString()).add(jt.amount_out),Ut=d$3(Ct.coinA.toString()).add(Nt.amount_out);return{maxAmountB:Lt,maxAmountA:Ut}}async calculateRemoveSwapAmount(a,et){let nt=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(a.curSqrtPrice)),at=a.fix_amount_a?nt.ratioA:nt.ratioB,mt=d$3(a.receive_amount).mul(at),wt,$t;if(a.removeLiquidity){let Yt=TickMath.tickIndexToSqrtPriceX64(a.lowerTick),er=TickMath.tickIndexToSqrtPriceX64(a.upperTick),tr=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(a.removeLiquidity),new BN(a.curSqrtPrice),Yt,er,!1);$t=a.removeLiquidity,wt=a.fix_amount_a?tr.coinB.toString():tr.coinA.toString(),mt=a.fix_amount_a?d$3(tr.coinA.toString()):d$3(tr.coinB.toString())}else{let Yt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,new BN(mt.toFixed(0)),a.fix_amount_a,!1,.2,new BN(a.curSqrtPrice));$t=Yt.liquidityAmount.toString(),wt=a.fix_amount_a?Yt.coinAmountB.toString():Yt.coinAmountA.toString()}let Ct=!a.fix_amount_a,Dt=await this.clmmPreSwap(a.clmm_pool,a.curSqrtPrice,Ct,d$3(wt),a.coinTypeA,a.coinTypeB,!0,a.priceSplitPoint,a.use_route,[{pool_id:a.clmm_pool,tick_lower:a.lowerTick,tick_upper:a.upperTick,delta_liquidity:Number($t),is_increase:!1}]),Ft=mt.add(Dt.amount_out),jt=d$3(a.receive_amount),Nt=jt.sub(Ft);if((!a.removeLiquidity||a.removeLiquidity&&et)&&Nt.abs().greaterThan(jt.mul(.01))){let Yt=Ft.lessThan(jt),er,tr;et?Yt?(er=d$3($t),tr=et.right):(er=et.left,tr=d$3($t)):(er=d$3(Yt?$t:0),tr=d$3(Yt?a.maxLiquidity:$t));let nr=d$3(er).add(tr).div(2).toFixed(0);if(!et||et&&et.count<15&&er<tr)return await this.calculateRemoveSwapAmount({...a,removeLiquidity:nr},{left:er,right:tr,count:et?et.count+1:0})}let Lt=Dt.amount_in&&Dt.fee_amount?new BN(Dt.amount_in).add(new BN(Dt.fee_amount)).toString():Dt.amount_in,Ut=Dt.amount_out,{is_exceed:Vt}=Dt;return{swapInAmount:Lt,swapOutAmount:Ut,liquidity:$t,is_exceed:Vt,routeObj:Dt.route_obj,request_id:a.request_id}}async calculateStakeDepositFixSui(a){let et=a.inputSuiAmount.mul(a.remainRate),nt=a.inputSuiAmount.sub(a.swapSuiAmount),at=a.exchangeRate?a.exchangeRate:await this.getExchangeRateForStake(a.stakeProtocol,a.shouldRequestStake,Number(a.swapSuiAmount.toFixed(0))),mt=a.swapSuiAmount.div(at).toFixed(0),wt=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,new BN(mt.toString()),!a.fixCoinA,!0,0,new BN(a.curSqrtPrice)),$t=a.fixCoinA?wt.coinAmountA.toString():wt.coinAmountB.toString(),Ct=d$3(nt).sub($t);return Ct.greaterThanOrEqualTo(0)&&Ct.lessThanOrEqualTo(et)||a.rebalanceCount>12||a.leftSuiAmount.greaterThanOrEqualTo(a.rightSuiAmount)?{swapInAmount:a.swapSuiAmount.toFixed(0),swapOutAmount:mt,afterSqrtPrice:a.curSqrtPrice,fixAmountA:!a.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:a.stakeProtocol}:Ct.lessThan(0)?await this.calculateStakeDepositFixSui({...a,rightSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.leftSuiAmount).div(2),exchangeRate:at,rebalanceCount:a.rebalanceCount+1}):Ct.greaterThan(et)?await this.calculateStakeDepositFixSui({...a,leftSuiAmount:a.swapSuiAmount,swapSuiAmount:a.swapSuiAmount.add(a.rightSuiAmount).div(2),exchangeRate:at,rebalanceCount:a.rebalanceCount+1}):null}async calculateDepositSwapAmount(a,et=!1){let nt=TickMath.sqrtPriceX64ToTickIndex(new BN(a.curSqrtPrice)),{ratioA:at,ratioB:mt}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(a.curSqrtPrice)),wt=d$3(a.input_amount).mul(a.fix_amount_a?at:mt),$t=d$3(a.input_amount).sub(wt),Ct=a.fix_amount_a;if($t.toFixed(0)==="0")return null;if(a.stakeProtocol){if(CoinAssist.isSuiCoin(a.coinTypeA)&&a.fix_amount_a||CoinAssist.isSuiCoin(a.coinTypeB)&&!a.fix_amount_a){let br=await this.calculateStakeDepositFixSui({inputSuiAmount:d$3(a.input_amount),swapSuiAmount:$t,lowerTick:a.lowerTick,upperTick:a.upperTick,curSqrtPrice:a.curSqrtPrice,remainRate:a.remainRate?a.remainRate:.01,fixCoinA:a.fix_amount_a,rebalanceCount:0,shouldRequestStake:a.shouldRequestStake,leftSuiAmount:Ct?new Decimal$1($t.toFixed(0)):new Decimal$1(0),rightSuiAmount:Ct?new Decimal$1(a.input_amount):new Decimal$1($t.toFixed(0)),stakeProtocol:a.stakeProtocol});return br?{...br,request_id:a.request_id}:null}throw Error("Only support fix sui")}let Dt=nt<a.lowerTick||nt>a.upperTick,Ft={clmm_pool:a.clmm_pool,curSqrtPrice:a.curSqrtPrice,a2b:Ct,amount_a:Ct?new Decimal$1(a.input_amount):new Decimal$1(0),amount_b:Ct?new Decimal$1(0):new Decimal$1(a.input_amount),amount_left:Ct?new Decimal$1($t.toFixed(0)):new Decimal$1(0),amount_right:Ct?new Decimal$1(a.input_amount):new Decimal$1($t.toFixed(0)),lowerTick:a.lowerTick,upperTick:a.upperTick,tick_spacing:2,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,useRoute:a.use_route,remainRate:a.remainRate?a.remainRate:.01,priceSplitPoint:a.priceSplitPoint},jt=et&&nt<=a.upperTick,Nt=jt?await this.calculateRebalance(Ft):await this.clmmPreSwap(a.clmm_pool,a.curSqrtPrice,Ct,$t,a.coinTypeA,a.coinTypeB,!0,a.priceSplitPoint,a.use_route),Lt=Nt.after_sqrt_price,Ut=TickMath.sqrtPriceX64ToTickIndex(new BN(Lt)),Vt=Ut<a.lowerTick||Ut>a.upperTick;if(Dt!==Vt&&!jt&&Ut<=a.upperTick){let{ratioA:br,ratioB:vr}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(Lt));$t=d$3(a.input_amount).sub(d$3(a.input_amount).mul(a.fix_amount_a?br:vr)),Ft.amount_left=Ct?new Decimal$1($t.toFixed(0)):new Decimal$1(0),Ft.amount_right=Ct?new Decimal$1(a.input_amount):new Decimal$1($t.toFixed(0)),Nt=await this.calculateRebalance(Ft),Lt=Nt.after_sqrt_price,TickMath.sqrtPriceX64ToTickIndex(new BN(Lt))}let{ratioA:Yt,ratioB:er}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(Lt)),tr=er.div(Yt).sub(mt.div(at)).greaterThan("0"),nr=Nt.amount_in&&Nt.fee_amount?new BN(Nt.amount_in).add(new BN(Nt.fee_amount)).toString():Nt.amount_in,sr=Nt.amount_out,{is_exceed:dr}=Nt;if(Ut<a.lowerTick)tr=!0;else if(Ut>a.upperTick)tr=!1;else{let br=tr===Ct?new BN(d$3(a.input_amount).sub(nr).toString()):new BN(sr),vr=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(a.lowerTick,a.upperTick,br,tr,!0,0,new BN(Lt)),yr=vr.coinAmountA,$r=vr.coinAmountB;d$3(a.fix_amount_a?yr.toString():$r.toString()).add(nr).greaterThanOrEqualTo(a.input_amount)&&(tr=!tr)}return{swapInAmount:nr,swapOutAmount:sr,afterSqrtPrice:Lt,is_exceed:dr,fixAmountA:tr,routeObj:Nt.route_obj,request_id:a.request_id,use_Haedal_stake:!1}}async calculateHaedalDepositSwapAmount(a){TickMath.sqrtPriceX64ToTickIndex(new BN(a.curSqrtPrice));let{ratioA:et,ratioB:nt}=q$2.calculateDepositRatio(a.lowerTick,a.upperTick,new BN(a.curSqrtPrice)),at=d$3(a.input_amount).mul(a.fix_amount_a?et:nt),mt=d$3(a.input_amount).sub(at),wt=a.fix_amount_a;if(mt.toFixed(0)==="0")return null;if(a.stakeProtocol){if(CoinAssist.isSuiCoin(a.coinTypeA)&&a.fix_amount_a||CoinAssist.isSuiCoin(a.coinTypeB)&&!a.fix_amount_a){let $t=await this.calculateStakeDepositFixSui({inputSuiAmount:d$3(a.input_amount),swapSuiAmount:mt,lowerTick:a.lowerTick,upperTick:a.upperTick,curSqrtPrice:a.curSqrtPrice,remainRate:a.remainRate?a.remainRate:.01,fixCoinA:a.fix_amount_a,rebalanceCount:0,shouldRequestStake:a.shouldRequestStake,leftSuiAmount:wt?new Decimal$1(mt.toFixed(0)):new Decimal$1(0),rightSuiAmount:wt?new Decimal$1(a.input_amount):new Decimal$1(mt.toFixed(0)),stakeProtocol:a.stakeProtocol});return $t?{...$t,request_id:a.request_id}:null}throw Error("Only support fix sui")}return null}async calculateRebalance(a){let{clmm_pool:et,a2b:nt,curSqrtPrice:at,amount_a:mt,amount_b:wt,lowerTick:$t,upperTick:Ct,amount_left:Dt,amount_right:Ft,coinTypeA:jt,coinTypeB:Nt,useRoute:Lt,priceSplitPoint:Ut,remainRate:Vt}=a,Yt=async(er,tr,nr)=>{let sr=er.plus(tr).div(2),dr=await this.clmmPreSwap(et,at,nt,sr,jt,Nt,!0,Ut,Lt);if(dr.amount_out==="0")return dr;if(dr.after_sqrt_price||(dr.after_sqrt_price=a.curSqrtPrice),dr.is_exceed)return tr=sr,Yt(er,tr);let br=nt?mt.sub(dr.amount_in):mt.add(dr.amount_out),vr=nt?wt.add(dr.amount_out):wt.sub(dr.amount_in);TickMath.sqrtPriceX64ToTickIndex(new BN(dr.after_sqrt_price));let yr=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts($t,Ct,new BN(br.toString()),!0,!0,1,new BN(dr.after_sqrt_price)),$r=new Decimal$1(yr.coinAmountA.toString()),Sr=new Decimal$1(yr.coinAmountB.toString());if($r.toString()!==br.toString())throw new Error("usedA does not match afterA");if(vr.lessThan(Sr))nt?er=sr:tr=sr;else{nt?tr=sr:er=sr;let wr=vr.sub(Sr);if(vr.mul(Vt).sub(wr).greaterThanOrEqualTo(0))return{...dr,remainingB:wr}}return er.greaterThan(tr)||tr.sub(er).lessThan(10)?dr:Yt(er,tr)};return Dt.greaterThanOrEqualTo(Ft)?Yt(new Decimal$1(0),Dt):Yt(Dt,Ft)}async clmmPreSwap(a,et,nt,at,mt,wt,$t,Ct,Dt,Ft){var er;if(Dt)try{let tr=await this._sdk.ClmmSDK.RouterV2.getBestRouter(nt?mt:wt,nt?wt:mt,Number(at.toFixed(0)),$t,Ct,"",void 0,void 0,!0,!1,Ft);if(!tr.result)throw new Error("route unavailable");let{result:nr}=tr,sr=et;return nr.splitPaths.forEach(dr=>{let br=dr.basePaths.find(vr=>vr.poolAddress.toLowerCase()===a.toLowerCase());br&&(sr=br.afterSqrtPrice.toString())}),{amount_in:nr.inputAmount.toString(),amount_out:nr.outputAmount.toString(),after_sqrt_price:sr,is_exceed:nr.isExceed,route_obj:nr}}catch{throw new Error("route unavailable")}let{integrate:jt,simulationAccount:Nt}=this.sdk.ClmmSDK.sdkOptions,Lt=new Transaction,Ut=[mt,wt],Vt=[Lt.object(a),Lt.pure.bool(nt),Lt.pure.bool($t),Lt.pure.u64(at.toFixed(0))];Lt.moveCall({target:`${jt.published_at}::${ClmmFetcherModule}::calculate_swap_result`,arguments:Vt,typeArguments:Ut});let Yt=(er=(await this.sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:Lt,sender:Nt.address})).events)==null?void 0:er.filter(tr=>extractStructTagFromType$1(tr.type).name==="CalculatedSwapResultEvent");return Yt.length===0?null:Yt[0].parsedJson.data}async getVault(a,et=!1){let nt=this.readPoolFromCache(a,et);if(nt)return nt;try{let at=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),mt=q$2.buildPool(at);if(mt)return mt.stake_protocol=this.findStakeProtocol(mt.position.coinTypeA,mt.position.coinTypeB),this.savePoolToCache(mt),mt}catch(at){console.log(at)}}async getVaultsConfigs(a=!1){let{package_id:et}=this._sdk.sdkOptions.vaults,nt=`${et}_getMirrorPoolConfigs`,at=this.getCache(nt,a);if(at!==void 0)return at;let mt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::vaults::InitEvent`})).data,wt={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(mt.length>0){for(let $t of mt){let Ct=$t.parsedJson;wt.admin_cap_id=Ct.admin_cap_id,wt.vaults_manager_id=Ct.manager_id;let Dt=await this._sdk.ClmmSDK.fullClient.getObject({id:wt.vaults_manager_id,options:{showContent:!0}}),Ft=getObjectFields(Dt);wt.vaults_pool_handle=Ft.vault_to_pool_maps.fields.id.id;break}this.updateCache(nt,wt,cacheTime24h)}return wt}async getExchangeRateForStake(a,et,nt){return a==="Haedal"?await Ee$1.getExchangeRateForStake(this._sdk,et,nt):a==="Volo"?await $e$1.getExchangeRateForStake(this._sdk,et,nt):a==="aftermath"?await Ue.getExchangeRateForStake(this._sdk,et,nt):"0"}requestStakeCoin(a,et,nt){if(a==="Haedal")return Ee$1.requestStakeCoin(this._sdk,et,nt);if(a==="Volo")return $e$1.requestStakeCoin(this._sdk,et,nt);if(a==="aftermath")return Ue.requestStakeCoin(this._sdk,et,nt)}async requestStake(a,et,nt){if(a==="Haedal")return await Ee$1.requestStake(this._sdk,et,nt);if(a==="Volo")return await $e$1.requestStake(this._sdk,et,nt);if(a==="aftermath")return await Ue.requestStake(this._sdk,et,nt)}updateCache(a,et,nt=cacheTime5min){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[a]}},Mt=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getLimitOrderTokenList(){let{limit_order:s}=this._sdk.sdkOptions,{token_list_handle:a}=getPackagerConfigs(s),{fullClient:et}=this._sdk.ClmmSDK,nt=(await et.getDynamicFieldsByPage(a)).data.map(at=>at.objectId);return(await et.batchGetObjects(nt,{showContent:!0})).map(at=>{let{fields:mt}=at.data.content;return{coin_type:extractStructTagFromType$1(mt.name.fields.name).full_address,min_trade_amount:Number(mt.value)}})}async getLimitOrderPoolList(){let{limit_order:s}=this._sdk.sdkOptions,{rate_orders_indexer_handle:a}=getPackagerConfigs(s),{fullClient:et}=this._sdk.ClmmSDK,nt=(await et.getDynamicFieldsByPage(a)).data.map(at=>at.objectId);return(await et.batchGetObjects(nt,{showContent:!0})).map(at=>{let{fields:mt}=at.data.content.fields.value,wt={pay_coin_type:extractStructTagFromType$1(mt.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(mt.target_coin.fields.name).full_address,indexer_id:mt.indexer_id,indexer_key:mt.indexer_key};return this._sdk.updateCache(`${wt.pay_coin_type}_${wt.target_coin_type}`,wt.indexer_id),wt})}async getLimitOrderPool(s,a){let{limit_order:et}=this._sdk.sdkOptions,{rate_orders_indexer_handle:nt}=getPackagerConfigs(et),{fullClient:at}=this._sdk.ClmmSDK;try{let mt=await at.getDynamicFieldObject({parentId:nt,name:{type:"0x2::object::ID",value:this.buildPoolKey(fixCoinType(s,!0),fixCoinType(a,!0))}}),{fields:wt}=getObjectFields(mt).value,$t={pay_coin_type:extractStructTagFromType$1(wt.pay_coin.fields.name).full_address,target_coin_type:extractStructTagFromType$1(wt.target_coin.fields.name).full_address,indexer_id:wt.indexer_id,indexer_key:wt.indexer_key};return this._sdk.updateCache(`${$t.pay_coin_type}_${$t.target_coin_type}`,$t.indexer_id),$t}catch(mt){console.log(" ~ file: LimitOrderModule.ts:122 ~ LimitOrderModule ~ getLimitOrderPool ~ error:",mt)}}async getPoolIndexerId(s,a){let et=this._sdk.getCache(`${s}_${a}`);try{if(et===void 0){let nt=await this.getLimitOrderPool(s,a);if(nt)return nt.indexer_id}}catch{}return et}async getOwnerLimitOrderList(s,a){let{fullClient:et}=this._sdk.ClmmSDK,nt={data:[],hasNextPage:!1};try{let at=await this.getUserIndexerHandle(s);if(!at)return nt;let mt=await et.getDynamicFieldsByPage(at,a);nt.hasNextPage=mt.hasNextPage,nt.nextCursor=mt.nextCursor;let wt=mt.data.map(Ct=>Ct.name.value),$t=(await et.batchGetObjects(wt,{showContent:!0})).map(Ct=>ke$1.buildLimitOrderInfo(Ct)).filter(Ct=>Ct!==void 0);nt.data=$t}catch(at){console.log("Error in getOwnerLimitOrderList:",at)}return nt}async getLimitOrderConfigs(){let{package_id:s}=this._sdk.sdkOptions.limit_order,a={rate_orders_indexer_id:"",rate_orders_indexer_handle:"",global_config_id:"",token_list_handle:"",user_orders_indexer_id:"",user_orders_indexer_handle:""},et=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::limit_order::InitEvent`})).data;if(et.length>0){let at=et[0].parsedJson;a.rate_orders_indexer_id=at.rate_orders_indexer_id,a.user_orders_indexer_id=at.user_orders_indexer_id;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a.rate_orders_indexer_id,options:{showContent:!0}});a.rate_orders_indexer_handle=getObjectFields(mt).list.fields.id.id;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:a.user_orders_indexer_id,options:{showContent:!0}});a.user_orders_indexer_handle=getObjectFields(wt).indexer.fields.id.id}let nt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${s}::config::InitFactoryEvent`})).data;if(nt.length>0){let at=nt[0].parsedJson;a.global_config_id=at.global_config_id;let mt=await this._sdk.ClmmSDK.fullClient.getObject({id:a.global_config_id,options:{showContent:!0}}),wt=getObjectFields(mt);a.token_list_handle=wt.token_white_list.fields.id.id}return a}async getLimitOrder(s){let{fullClient:a}=this._sdk.ClmmSDK;try{let et=await a.getObject({id:s,options:{showContent:!0}});return ke$1.buildLimitOrderInfo(et)}catch(et){console.log("Error in getLimitOrder:",et);return}}async getLimitOrderLogs(s){let{fullClient:a}=this._sdk.ClmmSDK;try{let et=await a.queryTransactionBlocks({filter:{ChangedObject:s},options:{showEvents:!0}}),nt=[];return et.data.forEach(at=>{nt.push(...ke$1.buildOrderLimitEvent(at,["OrderPlacedEvent","OrderCanceledEvent","FlashLoanEvent"]))}),nt}catch(et){return console.log("Error in getLimitOrderLogs:",et),[]}}async getLimitOrderClaimLogs(s){let{fullClient:a}=this._sdk.ClmmSDK;try{let et=await a.queryTransactionBlocks({filter:{ChangedObject:s},options:{showEvents:!0}}),nt=[];return et.data.forEach(at=>{nt.push(...ke$1.buildOrderLimitEvent(at,["ClaimTargetCoinEvent"]))}),nt}catch(et){return console.log("Error in getLimitOrderLogs:",et),[]}}buildRateOrdersIndexerType(s){let{limit_order:a}=this._sdk.sdkOptions;return composeType$1(`${a.package_id}::limit_order::RateOrdersIndexer`,[s.pay_coin_type,s.target_coin_type])}buildPoolKey(s,a){let et=Buffer$1.from(s,"ascii"),nt=Buffer$1.from(a,"ascii"),at=Buffer$1.concat([et,nt]),mt=blakejs.blake2b(at,void 0,32);return`0x${Buffer$1.from(mt).toString("hex")}`}async placeLimitOrder(s){let{limit_order:a}=this._sdk.sdkOptions,{user_orders_indexer_id:et,global_config_id:nt,rate_orders_indexer_id:at}=getPackagerConfigs(a),mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,s.pay_coin_type),wt=new Transaction,$t=await this.getPoolIndexerId(s.pay_coin_type,s.target_coin_type),Ct=TransactionUtil.buildCoinForAmount(wt,mt,BigInt(s.pay_coin_amount),s.pay_coin_type,!1,!0);return wt.moveCall({target:`${a.published_at}::limit_order::${$t===void 0?"create_indexer_and_place_limit_order":"place_limit_order"}`,typeArguments:[s.pay_coin_type,s.target_coin_type],arguments:[wt.object(nt),$t===void 0?wt.object(at):wt.object($t),wt.object(et),Ct.targetCoin,wt.pure.u128(ke$1.priceToRate(s.price,s.pay_decimal,s.target_decimal)),wt.pure.u64(s.expired_ts),wt.object(CLOCK_ADDRESS$1)]}),wt}async claimTargetCoin(s){let{limit_order:a}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(a),nt=new Transaction;return nt.moveCall({target:`${a.published_at}::limit_order::claim_target_coin`,typeArguments:[s.pay_coin_type,s.target_coin_type],arguments:[nt.object(et),nt.object(s.order_id)]}),nt}async cancelOrdersByOwner(s){let{limit_order:a}=this._sdk.sdkOptions,{global_config_id:et}=getPackagerConfigs(a),nt=new Transaction,at={};for(let mt=0;mt<s.length;mt++){let wt=s[mt],$t=await this.getPoolIndexerId(wt.pay_coin_type,wt.target_coin_type);if($t===void 0)throw Error("not found indexerId");at[wt.order_id]=$t}return s.forEach(mt=>{nt.moveCall({target:`${a.published_at}::limit_order::cancel_order_by_owner`,typeArguments:[mt.pay_coin_type,mt.target_coin_type],arguments:[nt.object(et),nt.object(at[mt.order_id]),nt.object(mt.order_id),nt.object(CLOCK_ADDRESS$1)]})}),nt}async getUserIndexerHandle(s){let{fullClient:a}=this._sdk.ClmmSDK,{limit_order:et}=this._sdk.sdkOptions,nt=this.getUserIndexerHandleByCache(s);if(nt===void 0){let at=new Transaction;at.moveCall({target:`${et.published_at}::limit_order::get_orders_indexer_by_owner`,typeArguments:[],arguments:[at.pure.address(s),at.object(getPackagerConfigs(et).user_orders_indexer_id)]}),nt=(await a.devInspectTransactionBlock({transactionBlock:at,sender:this._sdk.ClmmSDK.sdkOptions.simulationAccount.address})).events[0].parsedJson.orders_table_id,nt&&this.saveUserIndexerHandleByCache(s,nt)}return nt}getUserIndexerHandleByCache(s){let a=`getUserIndexerHandleByCache_${s}`;return this.getCache(a)}saveUserIndexerHandleByCache(s,a){let et=`getUserIndexerHandleByCache_${s}`;return this.updateCache(et,a)}updateCache(s,a,et=cacheTime24h){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}},Rt$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async getFramsPoolList(a="all"){let{package_id:et}=this._sdk.sdkOptions.frams,nt={data:[],hasNextPage:!1};try{let at=await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${et}::pool::CreatePoolEvent`},a),mt=at.data.map(wt=>wt.parsedJson.pool_id);if(nt.hasNextPage=at.hasNextPage,nt.nextCursor=at.nextCursor,mt.length>0){let wt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(mt,{showType:!0,showContent:!0});for(let $t of wt){let Ct=Ae$1.buildFramsPool($t);Ct&&(Ct.rewarders=await this.getFramsRewarderConfig(Ct.clmm_pool_id,Ct.rewarders.map(Dt=>Dt.reward_coin)),nt.data.push(Ct),this.updateCache(Ct.id,Ct))}}}catch(at){console.log("getFramsPoolList error ",at)}return nt}async getFramsPool(a,et=!1){let nt=this.getCache(a,et);if(nt)return nt;let at=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}}),mt=Ae$1.buildFramsPool(at.data);return mt&&(mt.rewarders=await this.getFramsRewarderConfig(mt.clmm_pool_id,mt.rewarders.map(wt=>wt.reward_coin)),this.updateCache(mt.id,mt)),mt}async getFramsRewarderConfig(a,et,nt=!1){let{frams:at}=this._sdk.sdkOptions,mt=[];for(let wt of et){let $t=`getFramsRewarderConfig_${wt}_${a}`,Ct=this.getCache($t,nt);if(Ct)mt.push(Ct);else try{let Dt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:getPackagerConfigs(at).rewarder_manager_handle,name:{type:"0x1::type_name::TypeName",value:removeHexPrefix(wt)}}),{fields:Ft}=Dt.data.content.fields.value.fields.value,jt={reward_coin:wt,last_reward_time:Ft.last_reward_time,emission_per_second:Ft.emission_per_second,total_allocate_point:Ft.total_allocate_point,allocate_point:""},Nt=Ft.pools.fields.id.id,Lt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:Nt,name:{type:"0x2::object::ID",value:a}}),{allocate_point:Ut}=Lt.data.content.fields.value.fields.value.fields;jt.allocate_point=Ut,this.updateCache($t,jt),mt.push(jt)}catch(Dt){console.log(Dt)}}return mt}async getOwnedFramsPositionNFTList(a,et=[],nt=!1,at="all"){let{package_id:mt}=this._sdk.sdkOptions.frams,wt={data:[],hasNextPage:!1},$t={},Ct=[],Dt=et.length>0,Ft=await this._sdk.ClmmSDK.fullClient.getOwnedObjectsByPage(a,{filter:{StructType:`${mt}::pool::WrappedPositionNFT`},options:{showContent:!0}},at);wt.hasNextPage=Ft.hasNextPage,wt.nextCursor=Ft.nextCursor;for(let jt of Ft.data){let Nt=Ae$1.buildFramsPositionNFT(jt);if(Nt)if(Dt){if(et.includes(Nt.pool_id)){Ct.push(Nt);let Lt=$t[Nt.pool_id];Lt?Lt.push(Nt):Lt=[Nt],$t[Nt.pool_id]=Lt}}else Ct.push(Nt)}if(nt&&Ct.length>0){let jt=await this.calculateFarmingRewards(Ct.map(Nt=>({pool_id:Nt.pool_id,position_nft_id:Nt.id,clmm_pool_id:Nt.clmm_pool_id})));Dt?($t={},Ct.forEach(Nt=>{jt[Nt.id]&&(Nt.rewards=jt[Nt.id]);let Lt=$t[Nt.pool_id];Lt?Lt.push(Nt):Lt=[Nt],$t[Nt.pool_id]=Lt})):Ct.forEach(Nt=>{jt[Nt.id]&&(Nt.rewards=jt[Nt.id])})}return Dt?$t:(wt.data=Ct,wt)}async getFramsPositionNFT(a,et=!0){let nt=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showContent:!0,showType:!0}}),at=Ae$1.buildFramsPositionNFT(nt);if(et&&at){let mt=await this.calculateFarmingRewards([{pool_id:at.pool_id,position_nft_id:at.id}]);mt[at.id]&&(at.rewards=mt[at.id])}return at}async calculateFarmingRewards(a){var $t,Ct;let{frams:et}=this._sdk.sdkOptions,nt=new Transaction,{rewarder_manager_id:at,global_config_id:mt}=getPackagerConfigs(et);a.forEach(Dt=>{nt.moveCall({target:`${et.published_at}::router::accumulated_position_rewards`,typeArguments:[],arguments:[nt.object(mt),nt.object(at),nt.object(Dt.pool_id),nt.pure.address(Dt.position_nft_id),nt.object(CLOCK_ADDRESS$1)]})});let wt={};try{let Dt=(Ct=($t=await this._sdk.ClmmSDK.fullClient.devInspectTransactionBlock({transactionBlock:nt,sender:this.sdk.ClmmSDK.senderAddress}))==null?void 0:$t.events)==null?void 0:Ct.filter(Ft=>extractStructTagFromType$1(Ft.type).name==="AccumulatedPositionRewardsEvent");if(Dt&&Dt.length>0)for(let Ft=0;Ft<Dt.length;Ft+=1){let{parsedJson:jt}=Dt[Ft],Nt=[];jt.rewards.contents.forEach(Lt=>{Nt.push({rewarder_type:extractStructTagFromType$1(Lt.key.name).full_address,rewarder_amount:Lt.value})}),wt[jt.wrapped_position_id]=Nt}}catch(Dt){console.log(Dt)}return wt}depositPayload(a,et){let{frams:nt}=this.sdk.sdkOptions;et=et||new Transaction;let{global_config_id:at,rewarder_manager_id:mt}=getPackagerConfigs(nt);return et.moveCall({target:`${nt.published_at}::router::deposit`,typeArguments:[],arguments:[et.object(at),et.object(mt),et.object(a.pool_id),et.object(a.clmm_position_id),et.object(CLOCK_ADDRESS$1)]}),et}async withdrawPayload(a,et){let{frams:nt}=this.sdk.sdkOptions,{global_config_id:at,rewarder_manager_id:mt}=getPackagerConfigs(nt);return et=et||new Transaction,et=await this.harvestPayload({pool_id:a.pool_id,position_nft_id:a.position_nft_id},et),et.moveCall({target:`${nt.published_at}::router::withdraw`,typeArguments:[],arguments:[et.object(at),et.object(mt),et.object(a.pool_id),et.object(a.position_nft_id),et.object(CLOCK_ADDRESS$1)]}),et}async batchHarvestPayload(a,et){et=et||new Transaction;for(let nt of a)await this.harvestPayload(nt,et);return et}async batchHarvestAndClmmFeePayload(a,et){if(!checkInvalidSuiAddress$1(this._sdk.ClmmSDK.senderAddress))throw new Error("this config sdk senderAddress is not set right");let nt=new Transaction,at={},mt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,null);for(let Dt of et)this.collectClmmFeeInternal(Dt,at,nt,mt),this.collectClmmRewardInternal(Dt,at,nt,mt);let{frams:wt}=this.sdk.sdkOptions,{global_config_id:$t,rewarder_manager_id:Ct}=getPackagerConfigs(wt);for(let Dt of a){let Ft=await this.getFramsPool(Dt.pool_id,!1);if(Ft===void 0)throw Error(`not found ${Dt.pool_id}`);Dt.collect_fee&&this.collectFeeInternal(Dt,at,nt,mt),Dt.clmm_rewarder_types.length>0&&await this.collectRewardInternal(Dt,at,nt,mt),Dt.collect_frams_rewarder&&Ft.rewarders.forEach(jt=>{nt&&nt.moveCall({target:`${wt.published_at}::router::harvest`,typeArguments:[jt.reward_coin],arguments:[nt.object($t),nt.object(Ct),nt.object(Dt.pool_id),nt.object(Dt.position_nft_id),nt.object(CLOCK_ADDRESS$1)]})})}return Object.keys(at).forEach(Dt=>{let Ft=at[Dt],{originalSplitedCoin:jt}=Ft;(Ft.isMintZeroCoin||jt&&(jt==null?void 0:jt.$kind)==="GasCoin")&&TransactionUtil.buildTransferCoin(this._sdk.ClmmSDK,nt,Ft.targetCoin,Dt,this._sdk.ClmmSDK.senderAddress)}),nt}async collectRewardInternal(a,et,nt,at){let mt=[];a.clmm_rewarder_types.forEach(wt=>{let $t=normalizeCoinType$1(wt),Ct=et[wt];Ct===void 0&&(Ct=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),$t,!1),et[$t]=Ct),mt.push(Ct.targetCoin)}),await this.collectClmmRewardNoSendPayload(a,nt)}collectFeeInternal(a,et,nt,at){let{frams:mt}=this.sdk.sdkOptions,{global_config_id:wt}=getPackagerConfigs(mt),{clmm_pool:$t,integrate:Ct}=this.sdk.ClmmSDK.sdkOptions,Dt=getPackagerConfigs($t),Ft=normalizeCoinType$1(a.coinTypeA),jt=normalizeCoinType$1(a.coinTypeB),Nt=et[Ft];Nt===void 0&&(Nt=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),Ft,!1),et[Ft]=Nt);let Lt=et[jt];Lt===void 0&&(Lt=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),jt,!1),et[jt]=Lt),nt.moveCall({target:`${Ct.published_at}::stable_farming::collect_fee`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[nt.object(wt),nt.object(Dt.global_config_id),nt.object(a.clmm_pool_id),nt.object(a.position_nft_id),Nt.targetCoin,Lt.targetCoin]})}collectClmmRewardInternal(a,et,nt,at){let mt=[];a.rewarder_coin_types.forEach(wt=>{let $t=normalizeCoinType$1(wt),Ct=et[wt];Ct===void 0&&(Ct=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),$t,!1),et[$t]=Ct),mt.push(Ct.targetCoin)}),this._sdk.ClmmSDK.Rewarder.createCollectRewarderNoSendPaylod(a,nt,mt)}collectClmmFeeInternal(a,et,nt,at){if(a.collect_fee){let mt=normalizeCoinType$1(a.coinTypeA),wt=normalizeCoinType$1(a.coinTypeB),$t=et[mt];$t===void 0&&($t=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),mt,!1),et[mt]=$t);let Ct=et[wt];Ct===void 0&&(Ct=TransactionUtil.buildCoinForAmount(nt,at,BigInt(0),wt,!1),et[wt]=Ct),this._sdk.ClmmSDK.Position.createCollectFeeNoSendPaylod({pool_id:a.pool_id,pos_id:a.pos_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB},nt,$t.targetCoin,Ct.targetCoin)}}async harvestPayload(a,et){let{frams:nt}=this.sdk.sdkOptions;et=et||new Transaction;let at=await this.getFramsPool(a.pool_id,!1);if(at===void 0)throw Error(`not found ${a.pool_id}`);let{global_config_id:mt,rewarder_manager_id:wt}=getPackagerConfigs(nt);if("collect_fee"in a&&(a.collect_fee||a.clmm_rewarder_types.length>0)){let $t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:a.clmm_pool_id,position_nft_id:a.position_nft_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collectFee:a.collect_fee,clmm_rewarder_types:a.clmm_rewarder_types},et,$t)}return at.rewarders.forEach($t=>{et&&et.moveCall({target:`${nt.published_at}::router::harvest`,typeArguments:[$t.reward_coin],arguments:[et.object(mt),et.object(wt),et.object(a.pool_id),et.object(a.position_nft_id),et.object(CLOCK_ADDRESS$1)]})}),et}async claimFeeAndClmmReward(a){let et=new Transaction,nt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);return await this.buildCollectRewarderAndFeeParams({clmm_pool_id:a.clmm_pool_id,position_nft_id:a.position_nft_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collectFee:a.collect_fee,clmm_rewarder_types:a.clmm_rewarder_types},et,nt),et}async openPositionAddLiquidityStakePaylod(a){let et=new Transaction,{clmm_pool:nt,integrate:at}=this._sdk.ClmmSDK.sdkOptions,mt=getPackagerConfigs(nt),wt=et.moveCall({target:`${nt.published_at}::pool::open_position`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(a.clmm_pool_id),et.pure.u32(Number(asUintN(BigInt(a.tick_lower)).toString())),et.pure.u32(Number(asUintN(BigInt(a.tick_upper)).toString()))]}),$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Ct=TransactionUtil.buildCoinForAmount(et,$t,BigInt(a.amount_a),a.coinTypeA,!1),Dt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(a.amount_b),a.coinTypeB,!1);et.moveCall({target:`${at.published_at}::${ClmmIntegratePoolV2Module}::add_liquidity_by_fix_coin`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(a.clmm_pool_id),wt,Ct.targetCoin,Dt.targetCoin,et.pure.u64(a.amount_a.toString()),et.pure.u64(a.amount_b.toString()),et.pure.bool(a.fix_amount_a),et.object(CLOCK_ADDRESS$1)]});let{frams:Ft}=this.sdk.sdkOptions,{global_config_id:jt,rewarder_manager_id:Nt}=getPackagerConfigs(Ft);return et.moveCall({target:`${Ft.published_at}::router::deposit`,typeArguments:[],arguments:[et.object(jt),et.object(Nt),et.object(a.pool_id),wt,et.object(CLOCK_ADDRESS$1)]}),et}async addLiquidityPayload(a,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at),$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Ct=TransactionUtil.buildCoinForAmount(et,$t,BigInt(a.amount_limit_a),a.coinTypeA,!1),Dt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(a.amount_limit_b),a.coinTypeB,!1);if(a.collect_rewarder&&(et=await this.harvestPayload({pool_id:a.pool_id,position_nft_id:a.position_nft_id,clmm_pool_id:a.clmm_pool_id},et)),a.collect_fee||a.clmm_rewarder_types.length>0){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:a.clmm_pool_id,position_nft_id:a.position_nft_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collectFee:a.collect_fee,clmm_rewarder_types:a.clmm_rewarder_types},et,Ft,Ct.remainCoins,Dt.remainCoins)}return et.moveCall({target:`${nt.published_at}::router::add_liquidity`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(mt.rewarder_manager_id),et.object(a.pool_id),et.object(a.clmm_pool_id),et.object(a.position_nft_id),Ct.targetCoin,Dt.targetCoin,et.pure.u64(a.amount_limit_a),et.pure.u64(a.amount_limit_b),et.pure.u128(a.delta_liquidity),et.object(CLOCK_ADDRESS$1)]}),et}async addLiquidityFixCoinPayload(a,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at),$t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress),Ct=TransactionUtil.buildCoinForAmount(et,$t,BigInt(a.amount_a),a.coinTypeA,!1),Dt=TransactionUtil.buildCoinForAmount(et,$t,BigInt(a.amount_b),a.coinTypeB,!1);if(a.collect_rewarder&&(et=await this.harvestPayload({pool_id:a.pool_id,position_nft_id:a.position_nft_id,clmm_pool_id:a.clmm_pool_id},et)),a.collect_fee||a.clmm_rewarder_types.length>0){let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:a.clmm_pool_id,position_nft_id:a.position_nft_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collectFee:a.collect_fee,clmm_rewarder_types:a.clmm_rewarder_types},et,Ft,Ct.remainCoins,Dt.remainCoins)}return et.moveCall({target:`${nt.published_at}::router::add_liquidity_fix_coin`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(mt.rewarder_manager_id),et.object(a.pool_id),et.object(a.clmm_pool_id),et.object(a.position_nft_id),Ct.targetCoin,Dt.targetCoin,et.pure.u64(a.amount_a.toString()),et.pure.u64(a.amount_b.toString()),et.pure.bool(a.fix_amount_a),et.object(CLOCK_ADDRESS$1)]}),et}async removeLiquidityPayload(a,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at);if(a.collect_rewarder&&(!a.unstake||a.close_position)&&(et=await this.harvestPayload({pool_id:a.pool_id,position_nft_id:a.position_nft_id,clmm_pool_id:a.clmm_pool_id},et)),a.clmm_rewarder_types.length>0){let $t=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);et=await this.buildCollectRewarderAndFeeParams({clmm_pool_id:a.clmm_pool_id,position_nft_id:a.position_nft_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,collectFee:!1,clmm_rewarder_types:a.clmm_rewarder_types},et,$t)}if(a.close_position){if(a.clmm_position_id===void 0)throw Error("close_position need clmm_position_id");et.moveCall({target:`${nt.published_at}::router::close_position`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(mt.rewarder_manager_id),et.object(a.pool_id),et.object(wt.global_config_id),et.object(a.clmm_pool_id),et.object(a.position_nft_id),et.pure.u64(a.min_amount_a),et.pure.u64(a.min_amount_b),et.object(CLOCK_ADDRESS$1)]})}else et.moveCall({target:`${nt.published_at}::router::remove_liquidity`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(mt.rewarder_manager_id),et.object(a.pool_id),et.object(a.clmm_pool_id),et.object(a.position_nft_id),et.pure.u128(a.delta_liquidity),et.pure.u64(a.min_amount_a),et.pure.u64(a.min_amount_b),et.object(CLOCK_ADDRESS$1)]}),a.unstake&&this.withdrawPayload({pool_id:a.pool_id,position_nft_id:a.position_nft_id});return et}async buildCollectRewarderAndFeeParams(a,et,nt,at,mt){at===void 0&&(at=[...nt]),mt===void 0&&(mt=[...nt]);let wt=normalizeCoinType$1(a.coinTypeA),$t=normalizeCoinType$1(a.coinTypeB);a.collectFee&&this.collectFeePayload({clmm_pool_id:a.clmm_pool_id,position_nft_id:a.position_nft_id,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB},et);let Ct=[];return a.clmm_rewarder_types.forEach(Dt=>{switch(normalizeCoinType$1(Dt)){case wt:Ct.push(TransactionUtil.buildCoinForAmount(et,at,BigInt(0),Dt,!1).targetCoin);break;case $t:Ct.push(TransactionUtil.buildCoinForAmount(et,mt,BigInt(0),Dt,!1).targetCoin);break;default:Ct.push(TransactionUtil.buildCoinForAmount(et,nt,BigInt(0),Dt,!1).targetCoin);break}}),this.collectClmmRewardPayload({clmm_pool_id:a.clmm_pool_id,position_nft_id:a.position_nft_id,clmm_rewarder_types:a.clmm_rewarder_types,coinTypeA:a.coinTypeA,coinTypeB:a.coinTypeB,reward_coins:Ct},et),et}collectFeePayload(a,et){let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=getPackagerConfigs(nt),wt=getPackagerConfigs(at);return et.moveCall({target:`${nt.published_at}::router::collect_fee`,typeArguments:[a.coinTypeA,a.coinTypeB],arguments:[et.object(mt.global_config_id),et.object(wt.global_config_id),et.object(a.clmm_pool_id),et.object(a.position_nft_id)]}),et}async collectClmmRewardPayload(a,et){var Ct;let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at}=this.sdk.ClmmSDK.sdkOptions;et=et||new Transaction;let mt=a.reward_coins;if(a.clmm_rewarder_types.length>0&&mt===void 0){mt=[];let Dt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);a.clmm_rewarder_types.forEach(Ft=>{mt.push(TransactionUtil.buildCoinForAmount(et,Dt,BigInt(0),Ft,!1).targetCoin)})}let wt=getPackagerConfigs(nt),$t=getPackagerConfigs(at);return(Ct=a.clmm_rewarder_types)==null||Ct.forEach((Dt,Ft)=>{et&&et.moveCall({target:`${nt.published_at}::router::collect_clmm_reward`,typeArguments:[Dt,a.coinTypeA,a.coinTypeB],arguments:[et.object(wt.global_config_id),et.object($t.global_config_id),et.object(a.clmm_pool_id),et.object(a.position_nft_id),et.object($t.global_vault_id),mt[Ft],et.object(CLOCK_ADDRESS$1)]})}),et}async collectClmmRewardNoSendPayload(a,et){var Dt;let{frams:nt}=this.sdk.sdkOptions,{clmm_pool:at,integrate:mt}=this.sdk.ClmmSDK.sdkOptions,wt=a.reward_coins;if(a.clmm_rewarder_types.length>0&&wt===void 0){wt=[];let Ft=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress);a.clmm_rewarder_types.forEach(jt=>{wt.push(TransactionUtil.buildCoinForAmount(et,Ft,BigInt(0),jt,!1).targetCoin)})}let $t=getPackagerConfigs(nt),Ct=getPackagerConfigs(at);return(Dt=a.clmm_rewarder_types)==null||Dt.forEach((Ft,jt)=>{et&&et.moveCall({target:`${mt.published_at}::stable_farming::collect_clmm_reward`,typeArguments:[Ft,a.coinTypeA,a.coinTypeB],arguments:[et.object($t.global_config_id),et.object(Ct.global_config_id),et.object(a.clmm_pool_id),et.object(a.position_nft_id),et.object(Ct.global_vault_id),wt[jt],et.object(CLOCK_ADDRESS$1)]})}),et}async getFrarmsConfigs(){let{package_id:a}=this._sdk.sdkOptions.frams,et={global_config_id:"",rewarder_manager_id:"",rewarder_manager_handle:""},nt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitConfigEvent`})).data;if(nt.length>0){let mt=nt[0].parsedJson;et.global_config_id=mt.global_config_id,et.admin_cap_id=mt.admin_cap_id}let at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::rewarder::InitRewarderManagerEvent`})).data;if(at.length>0){let mt=at[0].parsedJson;et.rewarder_manager_id=mt.id;let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:et.rewarder_manager_id,options:{showContent:!0}});et.rewarder_manager_handle=wt.data.content.fields.rewarders.fields.id.id}return et}updateCache(a,et,nt=cacheTime24h){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a];if(!et&&(nt!=null&&nt.isValid()))return nt.value;delete this._cache[a]}},ct=class{static buildDcaOrderList(s){let{parsedJson:a}=s;if(a&&a.order_id)return{created_at:a.created_at,cycle_count:a.cycle_count,cycle_frequency:a.cycle_frequency,in_coin:extractStructTagFromType$1(a.in_coin.name).full_address,in_deposited:a.in_deposited,order_id:a.order_id,out_coin:extractStructTagFromType$1(a.out_coin.name).full_address,per_cycle_in_amount_limit:a.per_cycle_in_amount_limit,per_cycle_max_out_amount:a.per_cycle_max_out_amount,per_cycle_min_out_amount:a.per_cycle_min_out_amount}}static buildDcaGlobalConfig(s){if(s&&s.id.id)return{min_cycle_count:s.min_cycle_count,min_cycle_frequency:s.min_cycle_frequency,whitelist_mode:s.whitelist_mode}}static buildOrderHistoryList(s,a){let{events:et}=s,nt=[];return et&&et.forEach(at=>{let mt=extractStructTagFromType$1(at.type).name;if(a.includes(mt)){let wt={digest:s.digest,type:mt,timestampMs:s.timestampMs,parsedJson:at.parsedJson};nt.push(wt)}}),nt}},Bt$1=class{constructor(a){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=a}get sdk(){return this._sdk}async dcaOpenOrderPayload(a){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt,indexer_id:at}=getPackagerConfigs(et),mt=new Transaction,wt=await this._sdk.ClmmSDK.getOwnerCoinAssets(this._sdk.ClmmSDK.senderAddress,a.in_coin_type),$t=TransactionUtil.buildCoinForAmount(mt,wt,BigInt(a.in_coin_amount),a.in_coin_type,!1,!0);return mt.moveCall({target:`${et.published_at}::order::open_order`,typeArguments:[a.in_coin_type,a.out_coin_type],arguments:[mt.object(nt),$t.targetCoin,mt.pure.u64(a.cycle_frequency),mt.pure.u64(a.cycle_count),mt.pure.u64(a.per_cycle_min_out_amount),mt.pure.u64(a.per_cycle_max_out_amount),mt.pure.u64(a.per_cycle_in_amount_limit),mt.pure.u64(a.fee_rate),mt.pure.u64(a.timestamp),mt.pure.string(a.signature),mt.object(CLOCK_ADDRESS$1),mt.object(at)]}),mt}dcaCloseOrderPayload(a){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt,indexer_id:at}=getPackagerConfigs(et),mt=new Transaction;return a.forEach(wt=>{let $t=mt.moveCall({target:`${et.published_at}::order::cancle_order`,typeArguments:[wt.in_coin_type,wt.out_coin_type],arguments:[mt.object(nt),mt.object(wt.order_id),mt.object(at),mt.object(CLOCK_ADDRESS$1)]});mt.transferObjects([$t[0],$t[1]],mt.pure.address(this._sdk.getVerifySenderAddress()))}),mt}async getDcaOrders(a){let et={data:[],hasNextPage:!1},{dca:nt}=this._sdk.sdkOptions,{user_indexer_id:at}=getPackagerConfigs(nt);try{let mt,wt=this.getCache(`${a}_dca_table_id`);if(wt)mt=wt;else{let Nt=await this._sdk.ClmmSDK.fullClient.getDynamicFieldObject({parentId:at,name:{type:"address",value:a}});mt=getObjectFields(Nt).value.fields.id.id,this.updateCache(`${a}_dca_table_id`,mt)}let $t=null,Ct=50,Dt=[];for(;;){let Nt=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:mt,cursor:$t,limit:Ct});if(Nt.data.forEach(Lt=>{Dt.push(Lt.name.value)}),$t=Nt.nextCursor,$t===null||Nt.data.length<Ct)break}let Ft=[],jt=await this._sdk.ClmmSDK.fullClient.batchGetObjects(Dt,{showType:!0,showContent:!0});for(let Nt=0;Nt<jt.length;Nt++){let Lt=jt[Nt],Ut=extractStructTagFromType$1(Lt.data.type),Vt=Ut.type_arguments[0],Yt=Ut.type_arguments[1];Ft.push({in_coin_type:Vt,out_coin_type:Yt,...Lt.data.content.fields,id:Lt.data.content.fields.id.id,version:Lt.data.version})}return et.data=Ft,et}catch{return et}}async withdraw(a){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt}=getPackagerConfigs(et),at=new Transaction,mt=at.moveCall({target:`${et.published_at}::order::withdraw`,typeArguments:[a.in_coin_type,a.out_coin_type],arguments:[at.object(nt),at.object(a.order_id),at.object(CLOCK_ADDRESS$1)]});return at.transferObjects([mt[0]],at.pure.address(this._sdk.getVerifySenderAddress())),at}async withdrawAll(a){let{dca:et}=this._sdk.sdkOptions,{global_config_id:nt}=getPackagerConfigs(et),at=new Transaction;for(let mt=0;mt<a.length;mt++){let wt=at.moveCall({target:`${et.published_at}::order::withdraw`,typeArguments:[a[mt].in_coin_type,a[mt].out_coin_type],arguments:[at.object(nt),at.object(a[mt].order_id),at.object(CLOCK_ADDRESS$1)]});at.transferObjects([wt[0]],at.pure.address(this._sdk.getVerifySenderAddress()))}return at}async getDcaOrdersMakeDeal(a){let et=this.getCache(`${a}_tx`),nt=[],at=null,mt=50;for(;;){let Ct=await this._sdk.ClmmSDK.fullClient.queryTransactionBlocks({filter:{ChangedObject:a},limit:mt});if(Ct.data.forEach(Dt=>{nt.push(Dt.digest)}),at=Ct.nextCursor,at===null||Ct.data.length<mt)break}if(this.updateCache(`${a}_tx`,nt),et&&et.length===nt.length)return this.getCache(`${a}_history_list`);let wt=await this._sdk.ClmmSDK.fullClient.multiGetTransactionBlocks({digests:nt,options:{showInput:!0,showEffects:!0,showEvents:!0}}),$t=[];return wt.forEach(Ct=>{$t.push(...ct.buildOrderHistoryList(Ct,["MakeDealEvent"]))}),this.updateCache(`${a}_history_list`,$t),$t}async getDcaCoinWhiteList(a){let{in_coin_whitelist_id:et,out_coin_whitelist_id:nt}=getPackagerConfigs(this._sdk.sdkOptions.dca),at=[],mt=[];if(a===1||a===3){let wt=null,$t=50;for(;;){let Ct=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:et,cursor:wt,limit:$t});if(Ct.data.forEach(Dt=>{at.push(extractStructTagFromType$1(Dt.name.value.name).full_address)}),wt=Ct.nextCursor,wt===null||Ct.data.length<$t)break}}if(a===2||a===3){let wt=null,$t=50;for(;;){let Ct=await this._sdk.ClmmSDK.fullClient.getDynamicFields({parentId:nt,cursor:wt,limit:$t});if(Ct.data.forEach(Dt=>{mt.push(extractStructTagFromType$1(Dt.name.value.name).full_address)}),wt=Ct.nextCursor,wt===null||Ct.data.length<$t)break}}return{inCoinList:at,outCoinList:mt}}async getDcaGlobalConfig(){let{global_config_id:a}=getPackagerConfigs(this._sdk.sdkOptions.dca),et=await this._sdk.ClmmSDK.fullClient.getObject({id:a,options:{showType:!0,showContent:!0}});return ct.buildDcaGlobalConfig(et.data.content.fields)}async getDcaConfigs(){var mt;let{package_id:a}=this._sdk.sdkOptions.dca,et={admin_cap_id:"",global_config_id:"",indexer_id:"",user_indexer_id:"",in_coin_whitelist_id:"",out_coin_whitelist_id:""},nt=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::config::InitEvent`})).data,at=(await this._sdk.ClmmSDK.fullClient.queryEventsByPage({MoveEventType:`${a}::order::InitEvent`})).data;if(nt&&nt.length>0){let{parsedJson:wt}=nt[0];et.admin_cap_id=wt.admin_cap_id,et.global_config_id=wt.global_config_id}if(at&&at.length>0){let{parsedJson:wt}=at[0];et.indexer_id=wt.indexer_id;let $t=await this._sdk.ClmmSDK.fullClient.getObject({id:wt.indexer_id,options:{showType:!0,showContent:!0}});et.user_indexer_id=(mt=$t.data)==null?void 0:mt.content.fields.user_orders.fields.id.id}if(et.global_config_id){let wt=await this._sdk.ClmmSDK.fullClient.getObject({id:et.global_config_id,options:{showType:!0,showContent:!0}});et.in_coin_whitelist_id=wt.data.content.fields.in_coin_whitelist.fields.id.id,et.out_coin_whitelist_id=wt.data.content.fields.out_coin_whitelist.fields.id.id}return et}updateCache(a,et,nt=cacheTime24h){let at=this._cache[a];at?(at.overdueTime=getFutureTime(nt),at.value=et):at=new CachedContent(et,getFutureTime(nt)),this._cache[a]=at}getCache(a,et=!1){let nt=this._cache[a],at=nt==null?void 0:nt.isValid();if(!et&&at)return nt.value;at||delete this._cache[a]}},Et=class{constructor(s,a){sn(this,"_cache",{});sn(this,"_sdkOptions");sn(this,"_launchpad");sn(this,"_ido");sn(this,"_xcetusModule");sn(this,"_xtokenModule");sn(this,"_boosterModule");sn(this,"_makerModule");sn(this,"_clmmSDK");sn(this,"_liquidityStrategy");sn(this,"_vaults");sn(this,"_limitOrder");sn(this,"_farmsModule");sn(this,"_dcaModule");this._sdkOptions=s,this._clmmSDK=a,this._launchpad=new _t$1(this),this._ido=new St$1(this),this._xcetusModule=new yt$1(this),this._xtokenModule=new It$1(this),this._boosterModule=new ut(this),this._makerModule=new gt$1(this),this._vaults=new xt$2(this),this._limitOrder=new Mt(this),this._farmsModule=new Rt$1(this),this._dcaModule=new Bt$1(this),this._liquidityStrategy=new Ot$1(this),patchFixSuiObjectId(this._sdkOptions)}get ClmmSDK(){return this._clmmSDK}get sdkOptions(){return this._sdkOptions}get Launchpad(){return this._launchpad}get Ido(){return this._ido}get XToken(){return this._xtokenModule}get XCetusModule(){return this._xcetusModule}get BoosterModule(){return this._boosterModule}get MakerModule(){return this._makerModule}get LiquidityStrategy(){return this._liquidityStrategy}get Vaults(){return this._vaults}get LimitOrder(){return this._limitOrder}get Farms(){return this._farmsModule}get Dca(){return this._dcaModule}getVerifySenderAddress(){let{senderAddress:s}=this.ClmmSDK;if(s.length===0||!isValidSuiAddress$1(s))throw Error("this clmm config sdk senderAddess is illegal");return s}updateCache(s,a,et=cacheTime24h){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s];if(!a&&(et!=null&&et.isValid()))return et.value;delete this._cache[s]}},m_=Et,b="router",D="router",O=24*3600,I$1=1e3,k=1e11,_={min_lock_day:15,max_lock_day:180,max_percent_numerator:1e3,min_percent_numerator:500},m=class{static buildVeNFTDividendInfo(s){let a={id:s.id.id,ve_nft_id:s.name,rewards:[]};return s.value.fields.value.fields.dividends.fields.contents.forEach(et=>{let nt=[];et.fields.value.fields.contents.forEach(at=>{let mt=at.fields.value;d$3(mt).gt(0)&&nt.push({coin_type:extractStructTagFromType$1(at.fields.key.fields.name).source_address,amount:mt})}),nt.length>0&&a.rewards.push({period:Number(et.fields.key),rewards:nt,vesrion:"v1"})}),a}static buildDividendManager(s){let a={id:s.id.id,dividends:{id:s.dividends.fields.id.id,size:s.dividends.fields.size},venft_dividends:{id:s.venft_dividends.fields.id.id,size:s.venft_dividends.fields.size},bonus_types:[],start_time:Number(s.start_time),interval_day:Number(s.interval_day),balances:{id:s.balances.fields.id.id,size:s.balances.fields.size},is_open:s.is_open};return s.bonus_types.forEach(et=>{a.bonus_types.push(extractStructTagFromType$1(et.fields.name).source_address)}),a}static buildLockUpManager(s){return{id:s.id.id,balance:s.balance,treasury_manager:s.treasury_manager,extra_treasury:s.extra_treasury,lock_infos:{lock_handle_id:s.lock_infos.fields.id.id,size:Number(s.lock_infos.fields.size)},type_name:normalizeCoinType$1(s.type_name.fields.name),min_lock_day:Number(s.min_lock_day),max_lock_day:Number(s.max_lock_day),package_version:Number(s.package_version),max_percent_numerator:Number(s.max_percent_numerator),min_percent_numerator:Number(s.min_percent_numerator)}}static buildLockCetus(s){let a=s.fields,et={id:a.id.id,type:extractStructTagFromType$1(s.type).source_address,locked_start_time:Number(a.locked_start_time),locked_until_time:Number(a.locked_until_time),cetus_amount:a.balance,xcetus_amount:"0",lock_day:0};return et.lock_day=(et.locked_until_time-et.locked_start_time)/O,et}static getAvailableXCetus(s,a){let et=d$3(0);return a.forEach(nt=>{et=et.add(nt.xcetus_amount)}),d$3(s.xcetus_balance).sub(et).toString()}static getWaitUnLockCetuss(s){return s.filter(a=>!m.isLocked(a))}static getLockingCetuss(s){return s.filter(a=>m.isLocked(a))}static isLocked(s){return s.locked_until_time>Date.parse(new Date().toString())/1e3}static buildDividendRewardTypeList(s,a){let et=new Set;return s==null||s.forEach(nt=>{nt.rewards.forEach(at=>{et.add(at.coin_type)})}),a==null||a.forEach(nt=>{nt.rewards.forEach(at=>{et.add(at.coin_type)})}),Array.from(et)}static buildDividendRewardTypeListV2(s){let a={};return s==null||s.forEach(et=>{et.vesrion==="v2"&&et.rewards.forEach(nt=>{a[nt.coin_type]||(a[nt.coin_type]=[]),a[nt.coin_type].push(et.period)})}),a}static getNextStartTime(s){let a=Date.now()/1e3,{start_time:et,interval_day:nt}=s,at=Math.ceil((a-et)/(nt*O));return et+at*nt*O}},w=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getOwnerVeNFT(s,a=!0){let{xcetus:et}=this.sdk.sdkOptions,nt=`${s}_getLockUpManagerEvent`,at=this.getCache(nt,a);if(at!==void 0)return at;let mt,wt=`${et.package_id}::xcetus::VeNFT`;return(await this._sdk.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0,showDisplay:!0},filter:{StructType:wt}})).data.forEach($t=>{let Ct=extractStructTagFromType$1(getMoveObjectType($t)).source_address;if(Ct===wt&&$t.data&&$t.data.content){let{fields:Dt}=$t.data.content;mt={...buildNFT($t),id:Dt.id.id,index:Dt.index,type:Ct,xcetus_balance:Dt.xcetus_balance},this.updateCache(nt,mt,cacheTime24h)}}),mt}async getOwnerRedeemLockList(s){let{xcetus:a}=this.sdk.sdkOptions,et=[],nt=`${a.package_id}::lock_coin::LockedCoin<${this.buileCetusCoinType()}>`,at=await this._sdk.fullClient.getOwnedObjectsByPage(s,{options:{showType:!0,showContent:!0},filter:{StructType:nt}});for(let mt of at.data)if(extractStructTagFromType$1(getMoveObjectType(mt)).source_address===nt&&mt.data){let wt=m.buildLockCetus(mt.data.content);wt.xcetus_amount=await this.getXCetusAmount(wt.id),et.push(wt)}return et}async getLockCetus(s){var et;let a=await this._sdk.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});if((et=a.data)!=null&&et.content){let nt=m.buildLockCetus(a.data.content);return nt.xcetus_amount=await this.getXCetusAmount(nt.id),nt}}async getOwnerCetusCoins(s){return await this._sdk.getOwnerCoinAssets(s,this.buileCetusCoinType())}mintVeNFTPayload(){let{xcetus:s}=this.sdk.sdkOptions,a=new Transaction;return a.moveCall({target:`${s.published_at}::${b}::mint_venft`,typeArguments:[],arguments:[a.object(getPackagerConfigs(s).xcetus_manager_id)]}),a}convertPayload(s,a){let{xcetus:et}=this.sdk.sdkOptions;a=a||new Transaction;let nt=this.buileCetusCoinType();if(this._sdk.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");a.setSender(this._sdk.senderAddress);let at=TransactionUtil.buildCoinWithBalance(BigInt(s.amount),nt);return s.venft_id===void 0?a.moveCall({target:`${et.published_at}::${b}::mint_and_convert`,typeArguments:[],arguments:[a.object(getPackagerConfigs(et).lock_manager_id),a.object(getPackagerConfigs(et).xcetus_manager_id),a.makeMoveVec({elements:[at]}),a.pure.u64(s.amount)]}):a.moveCall({target:`${et.published_at}::${b}::convert`,typeArguments:[],arguments:[a.object(getPackagerConfigs(et).lock_manager_id),a.object(getPackagerConfigs(et).xcetus_manager_id),a.makeMoveVec({elements:[at]}),a.pure.u64(s.amount),a.object(s.venft_id)]}),a}redeemLockPayload(s){let{xcetus:a}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${a.published_at}::${b}::redeem_lock`,typeArguments:[],arguments:[et.object(getPackagerConfigs(a).lock_manager_id),et.object(getPackagerConfigs(a).xcetus_manager_id),et.object(s.venft_id),et.pure.u64(s.amount),et.pure.u64(s.lock_day),et.object(CLOCK_ADDRESS$1)]}),et}redeemPayload(s){let{xcetus:a}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${a.published_at}::${b}::redeem`,typeArguments:[],arguments:[et.object(getPackagerConfigs(a).lock_manager_id),et.object(getPackagerConfigs(a).xcetus_manager_id),et.object(s.venft_id),et.object(s.lock_id),et.object(CLOCK_ADDRESS$1)]}),et}redeemDividendPayload(s,a){let{xcetus:et,xcetus_dividends:nt}=this.sdk.sdkOptions,at=new Transaction;return a.forEach(mt=>{at.moveCall({target:`${et.published_at}::${D}::redeem`,typeArguments:[mt],arguments:[at.object(getPackagerConfigs(nt).dividend_manager_id),at.object(s)]})}),at}redeemDividendV2Payload(s,a,et){let{xcetus_dividends:nt}=this.sdk.sdkOptions,at=new Transaction;return a.filter(mt=>et.includes(mt)).length>0&&(at=this.redeemDividendXTokenPayload(s,at)),a.forEach(mt=>{et.includes(mt)||at.moveCall({target:`${nt.published_at}::${D}::redeem_v2`,typeArguments:[mt],arguments:[at.object(getPackagerConfigs(nt).dividend_manager_id),at.object(s),at.object(CLOCK_ADDRESS$1)]})}),at}redeemDividendV3Payload(s,a){let{xcetus_dividends:et}=this.sdk.sdkOptions,nt=new Transaction,at=m.buildDividendRewardTypeList(a),mt=m.buildDividendRewardTypeListV2(a),wt=extractStructTagFromType$1(this.buileXTokenCoinType()).full_address;return at.find($t=>extractStructTagFromType$1($t).full_address===wt)!==void 0&&this.redeemDividendXTokenPayload(s,nt),at.forEach($t=>{nt.moveCall({target:`${et.published_at}::${D}::redeem_v3`,typeArguments:[$t],arguments:[nt.object(getPackagerConfigs(et).dividend_manager_id),nt.object(getPackagerConfigs(et).venft_dividends_id),nt.makeMoveVec({elements:mt[$t].map(Ct=>nt.pure.u64(Ct)),type:"u64"}),nt.object(s),nt.object(CLOCK_ADDRESS$1)]})}),nt}redeemDividendXTokenPayload(s,a){let{xcetus_dividends:et,xcetus:nt}=this.sdk.sdkOptions,{xcetus_manager_id:at,lock_manager_id:mt}=getPackagerConfigs(nt),{dividend_manager_id:wt}=getPackagerConfigs(et);return a=a===void 0?new Transaction:a,a.moveCall({target:`${et.published_at}::${D}::redeem_xtoken`,typeArguments:[],arguments:[a.object(mt),a.object(at),a.object(wt),a.object(s),a.object(CLOCK_ADDRESS$1)]}),a}buileCetusCoinType(){return`${this.sdk.sdkOptions.cetus_faucet.package_id}::cetus::CETUS`}buileXTokenCoinType(s=this._sdk.sdkOptions.xcetus.package_id,a="xcetus",et="XCETUS"){return`${s}::${a}::${et}`}cancelRedeemPayload(s){let{xcetus:a}=this.sdk.sdkOptions,et=new Transaction;return et.moveCall({target:`${a.published_at}::${b}::cancel_redeem_lock`,typeArguments:[],arguments:[et.object(getPackagerConfigs(a).lock_manager_id),et.object(getPackagerConfigs(a).xcetus_manager_id),et.object(s.venft_id),et.object(s.lock_id),et.object(CLOCK_ADDRESS$1)]}),et}async getInitConfigs(){var wt,$t;let{package_id:s}=this.sdk.sdkOptions.xcetus,a=`${s}_getInitFactoryEvent`,et=this.getCache(a);if(et!==void 0)return et;let nt=(wt=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::xcetus::InitEvent`}))==null?void 0:wt.data,at={xcetus_manager_id:"",lock_manager_id:"",lock_handle_id:""};nt.length>0&&nt.forEach(Ct=>{let Dt=Ct.parsedJson;Dt&&(at.xcetus_manager_id=Dt.xcetus_manager)});let mt=($t=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::locking::InitializeEvent`}))==null?void 0:$t.data;return mt.length>0&&mt.forEach(Ct=>{let Dt=Ct.parsedJson;Dt&&(at.lock_manager_id=Dt.lock_manager)}),at.lock_manager_id.length>0&&(at.lock_handle_id=(await this.getLockUpManager(at.lock_manager_id)).lock_infos.lock_handle_id),this.updateCache(a,at,cacheTime24h),at}async getLockUpManager(s=getPackagerConfigs(this.sdk.sdkOptions.xcetus).lock_manager_id,a=!1){let et=`${s}_getLockUpManager`,nt=this.getCache(et,a);if(nt!==void 0)return nt;let at=await this.sdk.fullClient.getObject({id:s,options:{showContent:!0}}),mt=m.buildLockUpManager(getObjectFields(at));return this.updateCache(et,mt,cacheTime24h),mt}async getDividendConfigs(){var Dt,Ft,jt;let{package_id:s}=this.sdk.sdkOptions.xcetus_dividends,{dividend_manager_id:a,venft_dividends_id:et}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),nt=`${s}_getDividendManagerEvent`,at=this.getCache(nt);if(at!==void 0)return at;let mt=(Dt=await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${s}::dividend::InitEvent`}))==null?void 0:Dt.data,wt=await this._sdk.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x1::string::String",value:"VeNFTDividends"}}),$t={dividend_manager_id:"",dividend_admin_id:"",dividend_settle_id:"",venft_dividends_id:"",venft_dividends_id_v2:""};mt.length>0&&mt.forEach(Nt=>{let Lt=Nt.parsedJson;Lt&&($t.dividend_manager_id=Lt.manager_id,$t.dividend_admin_id=Lt.admin_id,$t.dividend_settle_id=Lt.settle_id,this.updateCache(nt,$t,cacheTime24h))}),wt&&wt.data&&wt.data.content&&($t.venft_dividends_id=(jt=(Ft=wt.data.content)==null?void 0:Ft.fields)==null?void 0:jt.value,this.updateCache(nt,$t,cacheTime24h));let Ct=await this._sdk.fullClient.getObject({id:et,options:{showContent:!0}});return $t.venft_dividends_id_v2=Ct.data.content.fields.venft_dividends.fields.id.id,$t}async getDividendManager(s=!1){let{dividend_manager_id:a}=getPackagerConfigs(this._sdk.sdkOptions.xcetus_dividends),et=`${a}_getDividendManager`,nt=this.getCache(et,s);if(nt!==void 0)return nt;let at=await this._sdk.fullClient.getObject({id:a,options:{showContent:!0}}),mt=getObjectFields(at),wt=m.buildDividendManager(mt);return this.updateCache(et,wt,cacheTime24h),wt}async getXcetusManager(s=!0){let{xcetus_manager_id:a}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),et=`${a}_getXcetusManager`,nt=this.getCache(et,s);if(nt)return nt;let at=await this._sdk.fullClient.getObject({id:a,options:{showContent:!0}}),mt=getObjectFields(at),wt={id:mt.id.id,index:Number(mt.index),has_venft:{handle:mt.has_venft.fields.id.id,size:mt.has_venft.fields.size},nfts:{handle:mt.nfts.fields.id.id,size:mt.nfts.fields.size},total_locked:mt.total_locked,treasury:mt.treasury.fields.total_supply.fields.value};return this.updateCache(et,wt),wt}async fetchDividendInfo(s){let{xcetus_dividends:a}=this._sdk.sdkOptions,{dividend_manager_id:et,venft_dividends_id:nt}=getPackagerConfigs(a),at=new Transaction;at.moveCall({target:`${a.published_at}::dividend::fetch_dividend_info_v2`,typeArguments:[],arguments:[at.object(et),at.object(nt),at.object(s)]});let mt=await this._sdk.fullClient.devInspectTransactionBlock({transactionBlock:at,sender:this._sdk.senderAddress}),{contents:wt}=mt.events[0].parsedJson.info,$t={id:"",ve_nft_id:s,rewards:[]};return wt.forEach(Ct=>{let Dt=[],Ft=Ct.key,{contents:jt}=Ct.value;jt.forEach(Nt=>{d$3(Nt.value).gt(0)&&Dt.push({coin_type:extractStructTagFromType$1(Nt.key.name).source_address,amount:Nt.value})}),Dt.length>0&&$t.rewards.push({period:Number(Ft),rewards:Dt,vesrion:Number(Ft)>66?"v2":"v1"})}),$t}async getVeNFTDividendInfo(s){try{return await this.fetchDividendInfo(s)}catch{return await this.getVeNFTDividendInfoV2(s)}}async getVeNFTDividendInfoV2(s){let{xcetus_dividends:a}=this._sdk.sdkOptions,{venft_dividends_id_v2:et}=getPackagerConfigs(a),nt={id:"",ve_nft_id:s,rewards:[]},at=[];try{let mt=await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:s}}),wt=getObjectFields(mt).value.fields.value.fields.dividends.fields.id.id,$t=null,Ct=50,Dt=[];for(;;){let Ft=await this._sdk.fullClient.getDynamicFields({parentId:wt,cursor:$t,limit:Ct});if(Ft.data.forEach(jt=>{Dt.push(jt.objectId)}),$t=Ft.nextCursor,$t===null||Ft.data.length<Ct)break}(await this._sdk.fullClient.batchGetObjects(Dt,{showType:!0,showContent:!0})).forEach(Ft=>{at.push({period:Number(Ft.data.content.fields.name),vesrion:"v2",rewards:Ft.data.content.fields.value.fields.contents.map(jt=>({coin_type:extractStructTagFromType$1(jt.fields.key.fields.name).source_address,amount:jt.fields.value}))})})}catch(mt){console.log(mt)}return{...nt,rewards:[...at]}}async getVeNFTDividendInfoV1(s){let{xcetus_dividends:a}=this._sdk.sdkOptions,{venft_dividends_id:et}=getPackagerConfigs(a),nt={id:"",ve_nft_id:s,rewards:[]};try{let at=await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"0x2::object::ID",value:s}}),mt=getObjectFields(at);nt=m.buildVeNFTDividendInfo(mt)}catch(at){console.log(" ~ file: xcetusModule.ts:839 ~ XCetusModule ~ error:",at)}return nt}redeemNum(s,a){if(BigInt(s)===BigInt(0))return{amount_out:"0",percent:"0"};let et=d$3(k).mul(d$3(_.max_lock_day).sub(d$3(a))).mul(d$3(_.max_percent_numerator).sub(d$3(_.min_percent_numerator))).div(d$3(_.max_lock_day).sub(d$3(_.min_lock_day))),nt=d$3(k).mul(d$3(_.max_percent_numerator)).sub(et).div(d$3(I$1)).div(k);return{amount_out:d$3(nt).mul(d$3(s)).round().toString(),percent:nt.toString()}}reverseRedeemNum(s,a){if(BigInt(s)===BigInt(0))return{amount_out:"0",percent:"0"};let et=d$3(k).mul(d$3(_.max_lock_day).sub(d$3(a))).mul(d$3(_.max_percent_numerator).sub(d$3(_.min_percent_numerator))).div(d$3(_.max_lock_day).sub(d$3(_.min_lock_day))),nt=d$3(k).mul(d$3(_.max_percent_numerator)).sub(et).div(d$3(I$1)).div(k);return{amount_out:d$3(s).div(nt).toFixed(0,Decimal$1.ROUND_UP),percent:nt.toString()}}async getXCetusAmount(s){let{lock_handle_id:a}=getPackagerConfigs(this._sdk.sdkOptions.xcetus),et=`${s}_getXCetusAmount`,nt=this.getCache(et);if(nt!==void 0)return nt;try{let at=await this.sdk.fullClient.getDynamicFieldObject({parentId:a,name:{type:"0x2::object::ID",value:s}}),mt=getObjectFields(at);if(mt){let{xcetus_amount:wt}=mt.value.fields.value.fields;return this.updateCache(et,wt,cacheTime24h),wt}}catch{}return"0"}async getVeNftAmount(s,a){try{let et=await this.sdk.fullClient.getDynamicFieldObject({parentId:s,name:{type:"0x2::object::ID",value:a}}),nt=getObjectFields(et);if(nt){let{lock_amount:at,xcetus_amount:mt}=nt.value.fields.value.fields;return{lock_amount:at,xcetus_amount:mt}}}catch{}return{lock_amount:"0",xcetus_amount:"0"}}async getPhaseDividendInfo(s,a=!1){let et=(await this.getDividendManager()).dividends.id,nt=`${et}_${s}_getPhaseDividendInfo`,at=this._sdk.getCache(nt,a);if(at)return at;try{let mt=await this._sdk.fullClient.getDynamicFieldObject({parentId:et,name:{type:"u64",value:s}}),wt=getObjectFields(mt),$t=wt.value.fields.value.fields,Ct=$t.redeemed_num.fields.contents.map(Nt=>({name:Nt.fields.key.fields.name,value:Nt.fields.value})),Dt=$t.bonus_types.map(Nt=>Nt.fields.name),Ft=$t.bonus.fields.contents.map(Nt=>({name:Nt.fields.key.fields.name,value:Nt.fields.value})),jt={id:getObjectId(mt),phase:wt.name,settled_num:$t.settled_num,register_time:$t.register_time,redeemed_num:Ct,is_settled:$t.is_settled,bonus_types:Dt,bonus:Ft,phase_end_time:""};return this.updateCache(nt,jt),jt}catch{}}updateCache(s,a,et=cacheTime5min){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s];if(!a&&(et!=null&&et.isValid()))return et.value;delete this._cache[s]}},S$1=class extends SuiClient{async queryEventsByPage(a,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.queryEvents({query:a,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getOwnedObjectsByPage(a,et,nt="all"){let at=[],mt=!0,wt=nt==="all",$t=wt?null:nt.cursor;do{let Ct=await this.getOwnedObjects({owner:a,...et,cursor:$t,limit:wt?null:nt.limit});Ct.data?(at=[...at,...Ct.data],mt=Ct.hasNextPage,$t=Ct.nextCursor):mt=!1}while(wt&&mt);return{data:at,nextCursor:$t,hasNextPage:mt}}async getDynamicFieldsByPage(a,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.getDynamicFields({parentId:a,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async batchGetObjects(a,et,nt=50){let at=[];try{for(let mt=0;mt<Math.ceil(a.length/nt);mt++){let wt=await this.multiGetObjects({ids:a.slice(mt*nt,nt*(mt+1)),options:et});at=[...at,...wt]}}catch(mt){console.log(mt)}return at}async calculationTxGas(a){let{sender:et}=a.blockData;if(et===void 0)throw Error("sdk sender is empty");let nt=await this.devInspectTransactionBlock({transactionBlock:a,sender:et}),{gasUsed:at}=nt.effects;return Number(at.computationCost)+Number(at.storageCost)-Number(at.storageRebate)}async sendTransaction(a,et){try{return await this.signAndExecuteTransaction({transaction:et,signer:a,options:{showEffects:!0,showEvents:!0}})}catch(nt){console.log("error: ",nt)}}async sendSimulationTransaction(a,et,nt=!0){try{if(nt)return await this.devInspectTransactionBlock({transactionBlock:a,sender:et})}catch(at){console.log("devInspectTransactionBlock error",at)}}},j=class{constructor(s){sn(this,"_cache",{});sn(this,"_rpcModule");sn(this,"_xcetusModule");sn(this,"_sdkOptions");sn(this,"_senderAddress","");this._sdkOptions=s,this._rpcModule=new S$1({url:s.fullRpcUrl}),this._xcetusModule=new w(this),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(s){this._senderAddress=s}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get XCetusModule(){return this._xcetusModule}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(s,a,et=!0){let nt=[],at=null,mt=`${this.sdkOptions.fullRpcUrl}_${s}_${a}_getOwnerCoinAssets`,wt=this.getCache(mt,et);if(wt)return wt;for(;;){let $t=await(a?this.fullClient.getCoins({owner:s,coinType:a,cursor:at}):this.fullClient.getAllCoins({owner:s,cursor:at}));if($t.data.forEach(Ct=>{BigInt(Ct.balance)>0&&nt.push({coinAddress:extractStructTagFromType$1(Ct.coinType).source_address,coinObjectId:Ct.coinObjectId,balance:BigInt(Ct.balance)})}),at=$t.nextCursor,!$t.hasNextPage)break}return this.updateCache(mt,nt,30*1e3),nt}async getOwnerCoinBalances(s,a){let et=[];return a?et=[await this.fullClient.getBalance({owner:s,coinType:a})]:et=[...await this.fullClient.getAllBalances({owner:s})],et}updateCache(s,a,et=cacheTime24h){let nt=this._cache[s];nt?(nt.overdueTime=getFutureTime(et),nt.value=a):nt=new CachedContent(a,getFutureTime(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}},xt$1=j,re;(function(s){s[s.EQUAL=0]="EQUAL",s[s.GREATER=1]="GREATER",s[s.LESS=-1]="LESS"})(re||(re={}));var Gt=function(){function s(a){this.compare=a||s.defaultCompareFunction}return s.defaultCompareFunction=function(a,et){return a===et?re.EQUAL:a<et?re.LESS:re.GREATER},s.prototype.equal=function(a,et){return this.compare(a,et)===re.EQUAL},s.prototype.lessThan=function(a,et){return this.compare(a,et)===re.LESS},s.prototype.greaterThan=function(a,et){return this.compare(a,et)===re.GREATER},s.prototype.lessThanOrEqual=function(a,et){return this.lessThan(a,et)||this.equal(a,et)},s.prototype.greaterThanOrEqual=function(a,et){return this.greaterThan(a,et)||this.equal(a,et)},s.prototype.reverse=function(){var a=this.compare;this.compare=function(et,nt){return a(nt,et)}},s}(),ot=Gt,it=function(){function s(a){this.value=a,this.next=null}return s}(),rt=function(){function s(a){this.value=a,this.next=null,this.prev=null}return s}(),Le=function(s,a){return Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,nt){et.__proto__=nt}||function(et,nt){for(var at in nt)nt.hasOwnProperty(at)&&(et[at]=nt[at])},Le(s,a)};function fe(s,a){Le(s,a);function et(){this.constructor=s}s.prototype=a===null?Object.create(a):(et.prototype=a.prototype,new et)}function he(s,a){var et={label:0,sent:function(){if(mt[0]&1)throw mt[1];return mt[1]},trys:[],ops:[]},nt,at,mt,wt;return wt={next:$t(0),throw:$t(1),return:$t(2)},typeof Symbol=="function"&&(wt[Symbol.iterator]=function(){return this}),wt;function $t(Dt){return function(Ft){return Ct([Dt,Ft])}}function Ct(Dt){if(nt)throw new TypeError("Generator is already executing.");for(;et;)try{if(nt=1,at&&(mt=Dt[0]&2?at.return:Dt[0]?at.throw||((mt=at.return)&&mt.call(at),0):at.next)&&!(mt=mt.call(at,Dt[1])).done)return mt;switch(at=0,mt&&(Dt=[Dt[0]&2,mt.value]),Dt[0]){case 0:case 1:mt=Dt;break;case 4:return et.label++,{value:Dt[1],done:!1};case 5:et.label++,at=Dt[1],Dt=[0];continue;case 7:Dt=et.ops.pop(),et.trys.pop();continue;default:if(mt=et.trys,!(mt=mt.length>0&&mt[mt.length-1])&&(Dt[0]===6||Dt[0]===2)){et=0;continue}if(Dt[0]===3&&(!mt||Dt[1]>mt[0]&&Dt[1]<mt[3])){et.label=Dt[1];break}if(Dt[0]===6&&et.label<mt[1]){et.label=mt[1],mt=Dt;break}if(mt&&et.label<mt[2]){et.label=mt[2],et.ops.push(Dt);break}mt[2]&&et.ops.pop(),et.trys.pop();continue}Dt=a.call(s,et)}catch(Ft){Dt=[6,Ft],at=0}finally{nt=mt=0}if(Dt[0]&5)throw Dt[1];return{value:Dt[0]?Dt[1]:void 0,done:!0}}}function Kt(s,a){var et=typeof Symbol=="function"&&s[Symbol.iterator];if(!et)return s;var nt=et.call(s),at,mt=[],wt;try{for(;(a===void 0||a-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function H(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(Kt(arguments[a]));return s}var Xt="obfuse error occur";function ke(s,a){if(!s)throw new Error("[linked-list] "+(a||Xt))}var Wt=-1,st=function(){function s(){for(var a=this,et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];this._head=null,this._tail=null,this._length=0,this.compare=new ot,et.length>0&&et.forEach(function(at){a.append(at)})}return Object.defineProperty(s.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"loopLength",{get:function(){var a=!1,et=1;if(!this._head)return 0;for(var nt=this._head,at=this._head;at.next&&at.next.next;)if(at=at.next.next,nt=nt.next,nt===at){a=!0;break}if(a){for(at=at.next;nt!==at;)et++,at=at.next;return et}else return 0},enumerable:!0,configurable:!0}),s.prototype.getNode=function(a){var et=this._length;ke(et>0&&a>=0&&a<et,"[linked-list] index "+a+" out of scope of list, which length is "+et);for(var nt=this._head,at=0;at<a;)nt=nt.next,at++;return nt},s.prototype.get=function(a){var et=this.getNode(a);return et?et.value:null},s.prototype.find=function(a){var et=a.value,nt=a.callback;if(!this._head)return null;for(var at=this._head;at;){if(nt&&nt(at.value)||et!==void 0&&this.compare.equal(at.value,et))return at;at=at.next}return null},s.prototype.indexOf=function(a){if(!this._head)return Wt;for(var et=this._head,nt=-1;et.next;){if(nt++,this.compare.equal(et.value,a))return nt;et=et.next}return et===this._tail&&this.compare.equal(et.value,a)&&(nt+=1),nt},s.prototype.first=function(a){ke(a>=0,"[linked-list] param 'num' ("+a+") should not less than 0");for(var et=this.iterator(),nt=[],at=Math.min(a,this.length),mt=0;mt<at;mt++){var wt=et.next();nt.push(wt.value)}return nt},s.prototype.toArray=function(){return H(this)},s.prototype.isEmpty=function(){return this._head===null},s.prototype.iterator=function(){var a;return he(this,function(et){switch(et.label){case 0:a=this._head,et.label=1;case 1:return a?[4,a.value]:[3,3];case 2:return et.sent(),a=a.next,[3,1];case 3:return[2]}})},s.prototype[Symbol.iterator]=function(){return this.iterator()},s}(),le$1=function(s){fe(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return s.apply(this,H(et))||this}return a.prototype.append=function(et){var nt=new it(et);return this._tail?(this._tail.next=nt,this._tail=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.prepend=function(et){var nt=new it(et);return this._head?(nt.next=this._head,this._head=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,nt.next=null):this._head=this._tail=null,this._length--,et;for(var at=nt;;){if(this.compare.equal(nt.value,et))return nt.next?at.next=nt.next:(this._tail=at,this._tail.next=null),nt.next=null,this._length--,et;if(nt.next)at=nt,nt=nt.next;else return}}},a.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},a.prototype.removeTail=function(){var et=this._tail;if(et){if(!this._head.next)this._head=null,this._tail=null;else{for(var nt=this._head;nt.next!==et;)nt=nt.next;nt.next=null,this._tail=nt}return this._length--,et.value}},a.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,nt=et,et=at;this._head=nt}},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,H([void 0],et)))},a}(st),Jt=function(s){fe(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,H(et))||this;return at.cyclization(),at}return a.prototype.iterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},a.prototype.circleIterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=s.prototype[et].apply(this,nt);return this.cyclization(),mt},a.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},a.prototype.append=function(et){return this.mapToNormalListFn("append",et)},a.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},a.prototype.find=function(et){return this.mapToNormalListFn("find",et)},a.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},a.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},a.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},a.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},a.prototype.first=function(et){ke(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},a.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},a.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},a}(le$1);(function(s){fe(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,H(et))||this;return at.cyclization(),at}return a.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},a.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,H([void 0],et)))},a})(Jt);var zt=function(s){fe(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];return s.apply(this,H(et))||this}return a.prototype.append=function(et){var nt=new rt(et);return this._tail?(this._tail.next=nt,nt.prev=this._tail,this._tail=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.prepend=function(et){var nt=new rt(et);return this._head?(nt.next=this._head,this._head.prev=nt,this._head=nt):this._head=this._tail=nt,this._length++,!0},a.prototype.remove=function(et){var nt=this._head;if(nt){if(this.compare.equal(nt.value,et))return nt.next?(this._head=nt.next,this._head.prev=null,nt.next=nt.prev=null):this._head=this._tail=null,this._length--,et;for(;;){if(this.compare.equal(nt.value,et))return nt.next?(nt.prev.next=nt.next,nt.next.prev=nt.prev,nt.next=nt.prev=null):(nt.prev.next=null,this._tail=nt.prev,nt.next=nt.prev=null),this._length--,nt.value;if(nt.next)nt=nt.next;else return}}},a.prototype.removeHead=function(){var et=this._head;if(et)return this._head.next?(et.next.prev=null,this._head=et.next,et.next=null):(this._head=null,this._tail=null),this._length--,et.value},a.prototype.removeTail=function(){var et=this._tail;if(et)return this._head.next?(et.prev.next=null,this._tail=et.prev,et.next=et.prev=null):(this._head=null,this._tail=null),this._length--,et.value},a.prototype.reverse=function(){if(this._head){var et=this._head,nt=null,at;for(this._tail=this._head;et!==null;)at=et.next,et.next=nt,et.prev=at,nt=et,et=at;this._head=nt}},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,H([void 0],et)))},a}(st),Ht=function(s){fe(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,H(et))||this;return at.cyclization(),at}return a.prototype.iterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,et===this._head&&(et=null),[3,1];case 3:return[2]}})},a.prototype.circleIterator=function(){var et;return he(this,function(nt){switch(nt.label){case 0:et=this._head,nt.label=1;case 1:return et?[4,et.value]:[3,3];case 2:return nt.sent(),et=et.next,[3,1];case 3:return[2]}})},a.prototype[Symbol.iterator]=function(){return this.iterator()},a.prototype.mapToNormalListFn=function(et){for(var nt=[],at=1;at<arguments.length;at++)nt[at-1]=arguments[at];this.breakCircle();var mt=s.prototype[et].apply(this,nt);return this.cyclization(),mt},a.prototype.getNode=function(et){return this.mapToNormalListFn("getNode",et)},a.prototype.append=function(et){return this.mapToNormalListFn("append",et)},a.prototype.prepend=function(et){return this.mapToNormalListFn("prepend",et)},a.prototype.find=function(et){return this.mapToNormalListFn("find",et)},a.prototype.indexOf=function(et){return this.mapToNormalListFn("indexOf",et)},a.prototype.remove=function(et){return this.mapToNormalListFn("remove",et)},a.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},a.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},a.prototype.first=function(et){ke(et>=0,"[linked-list] param 'num' ("+et+") should not less than 0");for(var nt=this.circleIterator(),at=[],mt=0;mt<et;mt++){var wt=nt.next();at.push(wt.value)}return at},a.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},a.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},a}(zt);(function(s){fe(a,s);function a(){for(var et=[],nt=0;nt<arguments.length;nt++)et[nt]=arguments[nt];var at=s.apply(this,H(et))||this;return at.cyclization(),at}return a.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},a.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},a.prototype.clone=function(){var et=this.toArray();return new(a.bind.apply(a,H([void 0],et)))},a})(Ht);function Zt(s,a){var et=typeof Symbol=="function"&&s[Symbol.iterator];if(!et)return s;var nt=et.call(s),at,mt=[],wt;try{for(;(a===void 0||a-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function Qt(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(Zt(arguments[a]));return s}(function(){function s(){for(var a=[],et=0;et<arguments.length;et++)a[et]=arguments[et];this.queue=new(le$1.bind.apply(le$1,Qt([void 0],a)))}return Object.defineProperty(s.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),s.prototype.isEmpty=function(){return this.queue.isEmpty()},s.prototype.enqueue=function(a){return this.queue.append(a)},s.prototype.dequeue=function(){var a=this.queue.removeHead();return typeof a<"u"?a:void 0},s.prototype.toArray=function(){return this.queue.toArray()},s})();function en(s,a){var et=typeof Symbol=="function"&&s[Symbol.iterator];if(!et)return s;var nt=et.call(s),at,mt=[],wt;try{for(;(a===void 0||a-- >0)&&!(at=nt.next()).done;)mt.push(at.value)}catch($t){wt={error:$t}}finally{try{at&&!at.done&&(et=nt.return)&&et.call(nt)}finally{if(wt)throw wt.error}}return mt}function tn(){for(var s=[],a=0;a<arguments.length;a++)s=s.concat(en(arguments[a]));return s}(function(){function s(){for(var a=[],et=0;et<arguments.length;et++)a[et]=arguments[et];this.stack=new(le$1.bind.apply(le$1,tn([void 0],a)))}return Object.defineProperty(s.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),s.prototype.isEmpty=function(){return this.stack.isEmpty()},s.prototype.push=function(a){return this.stack.append(a)},s.prototype.pop=function(){var a=this.stack.removeTail();return typeof a<"u"?a:void 0},s.prototype.popBottom=function(){var a=this.stack.removeHead();return typeof a<"u"?a:void 0},s.prototype.toArray=function(){return this.stack.toArray()},s})();var cn=Object.defineProperty,un=(s,a,et)=>a in s?cn(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,ln=(s,a,et)=>(un(s,a+"",et),et),yt=5*60*1e3,ee=24*60*60*1e3;function oe(s){return Date.parse(new Date().toString())+s}var _e$1=class{constructor(a,et=0){sn(this,"overdueTime");sn(this,"value");this.overdueTime=et,this.value=a}isValid(){return this.value===null?!1:this.overdueTime===0?!0:!(Date.parse(new Date().toString())>this.overdueTime)}};Decimal$1.config({precision:64,rounding:Decimal$1.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var V=Decimal$1,R$1=class extends Error{constructor(et,nt){super(et);sn(this,"message");sn(this,"errorCode");this.message=et,this.errorCode=nt}static isClmmpoolsErrorCode(et,nt){return et instanceof R$1&&et.errorCode===nt}},F=new BN(0),ge$1=new BN(1),Be=new BN(2);Be.pow(new BN(128));var Ke=Be.pow(new BN(64)).sub(ge$1),fn=Be.pow(new BN(128)).sub(ge$1),Y=class{static toX64_BN(s){return s.mul(new BN(2).pow(new BN(64)))}static toX64_Decimal(s){return s.mul(V.pow(2,64))}static toX64(s){return new BN(s.mul(V.pow(2,64)).floor().toFixed())}static fromX64(s){return new V(s.toString()).mul(V.pow(2,-64))}static fromX64_Decimal(s){return s.mul(V.pow(2,-64))}static fromX64_BN(s){return s.div(new BN(2).pow(new BN(64)))}static shiftRightRoundUp(s){let a=s.shrn(64);return s.mod(Ke).gt(F)&&(a=a.add(ge$1)),a}static divRoundUp(s,a){return s.mod(a).eq(F)?s.div(a):s.div(a).add(new BN(1))}static subUnderflowU128(s,a){return s.lt(a)?s.sub(a).add(fn):s.sub(a)}static checkUnsignedSub(s,a){let et=s.sub(a);if(et.isNeg())throw new R$1("Unsigned integer sub overflow","UnsignedIntegerOverflow");return et}static checkMul(s,a,et){let nt=s.mul(a);if(this.isOverflow(nt,et))throw new R$1("Multiplication overflow","MultiplicationOverflow");return nt}static checkMulDivFloor(s,a,et,nt){if(et.eq(F))throw new R$1("Devide by zero","DivideByZero");let at=s.mul(a).div(et);if(this.isOverflow(at,nt))throw new R$1("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivCeil(s,a,et,nt){if(et.eq(F))throw new R$1("Devide by zero","DivideByZero");let at=s.mul(a).add(et.sub(ge$1)).div(et);if(this.isOverflow(at,nt))throw new R$1("Multiplication div overflow","MulDivOverflow");return at}static checkMulDivRound(s,a,et,nt){if(et.eq(F))throw new R$1("Devide by zero","DivideByZero");let at=s.mul(a.add(et.shrn(1))).div(et);if(this.isOverflow(at,nt))throw new R$1("Multiplication div overflow","MulDivOverflow");return at}static checkMulShiftRight(s,a,et,nt){let at=s.mul(a).div(new BN(2).pow(new BN(et)));if(this.isOverflow(at,nt))throw new R$1("Multiplication shift right overflow","MulShiftRightOverflow");return at}static checkMulShiftRight64RoundUpIf(s,a,et,nt){let at=s.mul(a),mt=nt&&at.and(Ke).gt(F)?at.shrn(64).add(ge$1):at.shrn(64);if(this.isOverflow(mt,et))throw new R$1("Multiplication shift right overflow","MulShiftRightOverflow");return mt}static checkMulShiftLeft(s,a,et,nt){let at=s.mul(a).shln(et);if(this.isOverflow(at,nt))throw new R$1("Multiplication shift left overflow","MulShiftLeftOverflow");return at}static checkDivRoundUpIf(s,a,et){if(a.eq(F))throw new R$1("Devide by zero","DivideByZero");return et?this.divRoundUp(s,a):s.div(a)}static isOverflow(s,a){return s.gte(Be.pow(new BN(a)))}static sign(s){return s.testn(127)?1:0}static is_neg(s){return this.sign(s)===1}static abs_u128(s){return s.gt(F)?s:this.u128_neg(s.subn(1))}static u128_neg(s){return s.uxor(new BN("ffffffffffffffffffffffffffffffff",16))}static neg(s){return this.is_neg(s)?s.abs():this.neg_from(s)}static abs(s){return this.sign(s)===0?s:this.u128_neg(s.sub(new BN(1)))}static neg_from(s){return s.eq(F)?s:this.u128_neg(s).add(new BN(1)).or(new BN(1).shln(127))}},At="79226673515401279992447579055",vt="4295048016",lt=new BN(1e6),G$1="0x0000000000000000000000000000000000000000000000000000000000000006",dt="pool_script_v2",Pe$1="router",$e="router_with_partner",ft="utils",Ve$1="custodian_v2",mn="clob_v2",_n="endpoints_v2";function q$1(s){if(s.config===void 0)throw new R$1(`package: ${s.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return s.config}var hn=14,gn="59543866431248",bn="184467440737095516",wn="15793534762490258745";function yn(s,a,et){let nt=s.toTwos(et).shln(a);return nt.imaskn(et+1),nt.fromTwos(et)}function S(s,a,et){let nt=s.toTwos(et).shrn(a);return nt.imaskn(et-a+1),nt.fromTwos(et-a)}function An(s){let a;return s&1?a=new BN("79232123823359799118286999567"):a=new BN("79228162514264337593543950336"),s&2&&(a=S(a.mul(new BN("79236085330515764027303304731")),96,256)),s&4&&(a=S(a.mul(new BN("79244008939048815603706035061")),96,256)),s&8&&(a=S(a.mul(new BN("79259858533276714757314932305")),96,256)),s&16&&(a=S(a.mul(new BN("79291567232598584799939703904")),96,256)),s&32&&(a=S(a.mul(new BN("79355022692464371645785046466")),96,256)),s&64&&(a=S(a.mul(new BN("79482085999252804386437311141")),96,256)),s&128&&(a=S(a.mul(new BN("79736823300114093921829183326")),96,256)),s&256&&(a=S(a.mul(new BN("80248749790819932309965073892")),96,256)),s&512&&(a=S(a.mul(new BN("81282483887344747381513967011")),96,256)),s&1024&&(a=S(a.mul(new BN("83390072131320151908154831281")),96,256)),s&2048&&(a=S(a.mul(new BN("87770609709833776024991924138")),96,256)),s&4096&&(a=S(a.mul(new BN("97234110755111693312479820773")),96,256)),s&8192&&(a=S(a.mul(new BN("119332217159966728226237229890")),96,256)),s&16384&&(a=S(a.mul(new BN("179736315981702064433883588727")),96,256)),s&32768&&(a=S(a.mul(new BN("407748233172238350107850275304")),96,256)),s&65536&&(a=S(a.mul(new BN("2098478828474011932436660412517")),96,256)),s&131072&&(a=S(a.mul(new BN("55581415166113811149459800483533")),96,256)),s&262144&&(a=S(a.mul(new BN("38992368544603139932233054999993551")),96,256)),S(a,32,256)}function vn(s){let a=Math.abs(s),et;return a&1?et=new BN("18445821805675392311"):et=new BN("18446744073709551616"),a&2&&(et=S(et.mul(new BN("18444899583751176498")),64,256)),a&4&&(et=S(et.mul(new BN("18443055278223354162")),64,256)),a&8&&(et=S(et.mul(new BN("18439367220385604838")),64,256)),a&16&&(et=S(et.mul(new BN("18431993317065449817")),64,256)),a&32&&(et=S(et.mul(new BN("18417254355718160513")),64,256)),a&64&&(et=S(et.mul(new BN("18387811781193591352")),64,256)),a&128&&(et=S(et.mul(new BN("18329067761203520168")),64,256)),a&256&&(et=S(et.mul(new BN("18212142134806087854")),64,256)),a&512&&(et=S(et.mul(new BN("17980523815641551639")),64,256)),a&1024&&(et=S(et.mul(new BN("17526086738831147013")),64,256)),a&2048&&(et=S(et.mul(new BN("16651378430235024244")),64,256)),a&4096&&(et=S(et.mul(new BN("15030750278693429944")),64,256)),a&8192&&(et=S(et.mul(new BN("12247334978882834399")),64,256)),a&16384&&(et=S(et.mul(new BN("8131365268884726200")),64,256)),a&32768&&(et=S(et.mul(new BN("3584323654723342297")),64,256)),a&65536&&(et=S(et.mul(new BN("696457651847595233")),64,256)),a&131072&&(et=S(et.mul(new BN("26294789957452057")),64,256)),a&262144&&(et=S(et.mul(new BN("37481735321082")),64,256)),et}var x=class{static priceToSqrtPriceX64(s,a,et){return Y.toX64(s.mul(V.pow(10,et-a)).sqrt())}static sqrtPriceX64ToPrice(s,a,et){return Y.fromX64(s).pow(2).mul(V.pow(10,a-et))}static tickIndexToSqrtPriceX64(s){return s>0?new BN(An(s)):new BN(vn(s))}static sqrtPriceX64ToTickIndex(s){if(s.gt(new BN(At))||s.lt(new BN(vt)))throw new R$1("Provided sqrtPrice is not within the supported sqrtPrice range.","InvalidSqrtPrice");let a=s.bitLength()-1,et=new BN(a-64),nt=yn(et,32,128),at=new BN("8000000000000000","hex"),mt=0,wt=new BN(0),$t=a>=64?s.shrn(a-63):s.shln(63-a);for(;at.gt(new BN(0))&&mt<hn;){$t=$t.mul($t);let Nt=$t.shrn(127);$t=$t.shrn(63+Nt.toNumber()),wt=wt.add(at.mul(Nt)),at=at.shrn(1),mt+=1}let Ct=wt.shrn(32),Dt=nt.add(Ct).mul(new BN(gn)),Ft=S(Dt.sub(new BN(bn)),64,128).toNumber(),jt=S(Dt.add(new BN(wn)),64,128).toNumber();return Ft===jt?Ft:x.tickIndexToSqrtPriceX64(jt).lte(s)?jt:Ft}static tickIndexToPrice(s,a,et){return x.sqrtPriceX64ToPrice(x.tickIndexToSqrtPriceX64(s),a,et)}static priceToTickIndex(s,a,et){return x.sqrtPriceX64ToTickIndex(x.priceToSqrtPriceX64(s,a,et))}static priceToInitializableTickIndex(s,a,et,nt){return x.getInitializableTickIndex(x.priceToTickIndex(s,a,et),nt)}static getInitializableTickIndex(s,a){return s-s%a}static getNextInitializableTickIndex(s,a){return x.getInitializableTickIndex(s,a)+a}static getPrevInitializableTickIndex(s,a){return x.getInitializableTickIndex(s,a)-a}};new BN(365);new BN(24);new BN(3600);new BN(.5);var ne=class{static getDefaultSqrtPriceLimit(s){return new BN(s?vt:At)}static getDefaultOtherAmountThreshold(s){return s?F:Ke}};function Ie(s,a,et){let nt=BN.min(s,a),at=BN.max(s,a),mt=Y.fromX64_BN(et.mul(at).mul(nt)),wt=at.sub(nt);return!mt.isZero()&&!wt.isZero()?mt.div(wt):new BN(0)}function xe(s,a,et){let nt=BN.min(s,a),at=BN.max(s,a).sub(nt);return at.isZero()?new BN(0):et.shln(64).div(at)}var M$1=class{static updateFeeRate(a,et,nt,at,mt){let wt=Y.checkMulDivCeil(et,new BN(at),lt,64),$t=nt===0?F:Y.checkMulDivFloor(et,new BN(nt),lt,64),Ct=et.mul(wt).mul($t);if(mt?a.feeProtocolCoinA=a.feeProtocolCoinA.add(wt):a.feeProtocolCoinB=a.feeProtocolCoinB.add(wt),Ct.eq(F)||a.liquidity.eq(F))return{refFee:$t,clmm:a};let Dt=Ct.shln(64).div(a.liquidity);return mt?a.feeGrowthGlobalA=a.feeGrowthGlobalA.add(Dt):a.feeGrowthGlobalB=a.feeGrowthGlobalB.add(Dt),{refFee:$t,clmm:a}}static getCoinAmountFromLiquidity(a,et,nt,at,mt){let wt=new V(a.toString()),$t=new V(et.toString()),Ct=new V(nt.toString()),Dt=new V(at.toString()),Ft,jt;return et.lt(nt)?(Ft=Y.toX64_Decimal(wt).mul(Dt.sub(Ct)).div(Ct.mul(Dt)),jt=new V(0)):et.lt(at)?(Ft=Y.toX64_Decimal(wt).mul(Dt.sub($t)).div($t.mul(Dt)),jt=Y.fromX64_Decimal(wt.mul($t.sub(Ct)))):(Ft=new V(0),jt=Y.fromX64_Decimal(wt.mul(Dt.sub(Ct)))),mt?{coinA:new BN(Ft.ceil().toString()),coinB:new BN(jt.ceil().toString())}:{coinA:new BN(Ft.floor().toString()),coinB:new BN(jt.floor().toString())}}static estLiquidityAndcoinAmountFromOneAmounts(a,et,nt,at,mt,wt,$t){let Ct=x.sqrtPriceX64ToTickIndex($t),Dt=x.tickIndexToSqrtPriceX64(a),Ft=x.tickIndexToSqrtPriceX64(et),jt;if(Ct<a){if(!at)throw new R$1("lower tick cannot calculate liquidity by coinB","NotSupportedThisCoin");jt=Ie(Dt,Ft,nt)}else if(Ct>et){if(at)throw new R$1("upper tick cannot calculate liquidity by coinA","NotSupportedThisCoin");jt=xe(Ft,Dt,nt)}else at?jt=Ie($t,Ft,nt):jt=xe($t,Dt,nt);let Nt=M$1.getCoinAmountFromLiquidity(jt,$t,Dt,Ft,mt),Lt=mt?y(Nt.coinA.toString()).mul(1+wt).toString():y(Nt.coinA.toString()).mul(1-wt).toString(),Ut=mt?y(Nt.coinB.toString()).mul(1+wt).toString():y(Nt.coinB.toString()).mul(1-wt).toString();return{coinAmountA:Nt.coinA,coinAmountB:Nt.coinB,tokenMaxA:mt?new BN(V.ceil(Lt).toString()):new BN(V.floor(Lt).toString()),tokenMaxB:mt?new BN(V.ceil(Ut).toString()):new BN(V.floor(Ut).toString()),liquidityAmount:jt,fix_amount_a:at}}static estimateLiquidityFromcoinAmounts(a,et,nt,at){if(et>nt)throw new R$1("lower tick cannot be greater than lower tick","InvalidTwoTickIndex");let mt=x.sqrtPriceX64ToTickIndex(a),wt=x.tickIndexToSqrtPriceX64(et),$t=x.tickIndexToSqrtPriceX64(nt);if(mt<et)return Ie(wt,$t,at.coinA);if(mt>=nt)return xe($t,wt,at.coinB);let Ct=Ie(a,$t,at.coinA),Dt=xe(a,wt,at.coinB);return BN.min(Ct,Dt)}static estCoinAmountsFromTotalAmount(a,et,nt,at,mt,wt){let{ratioA:$t,ratioB:Ct}=M$1.calculateDepositRatioFixTokenA(a,et,nt),Dt=y(at).mul($t).div(mt),Ft=y(at).mul(Ct).div(wt);return{amountA:Dt,amountB:Ft}}static calculateDepositRatioFixTokenA(a,et,nt){let at=new BN(1e8),{coinAmountB:mt}=M$1.estLiquidityAndcoinAmountFromOneAmounts(a,et,at,!0,!0,0,nt),wt=x.sqrtPriceX64ToPrice(nt,0,0),$t=y(at.toString()).mul(wt),Ct=$t.add(mt.toString()),Dt=$t.div(Ct),Ft=y(mt.toString()).div(Ct);return{ratioA:Dt,ratioB:Ft}}};function pt(s,...a){let et=Array.isArray(a[a.length-1])?a.pop():[],nt=[s,...a].filter(Boolean).join("::");return et&&et.length&&(nt+=`<${et.join(", ")}>`),nt}function P(s){var a,et;try{let nt=s.replace(/\s/g,""),at=(et=(a=nt.match(/(<.+>)$/))==null?void 0:a[0])==null?void 0:et.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(at){nt=nt.slice(0,nt.indexOf("<"));let $t={...P(nt),type_arguments:at.map(Ct=>P(Ct).source_address)};return $t.type_arguments=$t.type_arguments.map(Ct=>I.isSuiCoin(Ct)?Ct:P(Ct).source_address),$t.source_address=pt($t.full_address,$t.type_arguments),$t}let mt=nt.split("::"),wt={full_address:nt,address:nt===we||nt===Pn?"0x2":normalizeSuiObjectId$1(mt[0]),module:mt[1],name:mt[2],type_arguments:[],source_address:""};return wt.full_address=`${wt.address}::${wt.module}::${wt.name}`,wt.source_address=pt(wt.full_address,wt.type_arguments),wt}catch{return{full_address:s,address:"",module:"",name:"",type_arguments:[],source_address:s}}}function be(s){return P(s).source_address}function Tn(s){return s.toLowerCase().startsWith("0x")?normalizeSuiObjectId$1(s):s}function Xe(s){for(let a in s){let et=typeof s[a];if(et==="object")Xe(s[a]);else if(et==="string"){let nt=s[a];nt&&!nt.includes("::")&&(s[a]=Tn(nt))}}}var kn="0x2::coin::Coin",Sn=/^0x2::coin::Coin<(.+)>$/,we="0x2::sui::SUI",Pn="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",I=class{static getCoinTypeArg(s){let a=s.type.match(Sn);return a?a[1]:null}static isSUI(s){let a=I.getCoinTypeArg(s);return a?I.getCoinSymbol(a)==="SUI":!1}static getCoinSymbol(s){return s.substring(s.lastIndexOf(":")+1)}static getBalance(s){return BigInt(s.fields.balance)}static totalBalance(s,a){let et=BigInt(0);return s.forEach(nt=>{a===nt.coinAddress&&(et+=BigInt(nt.balance))}),et}static getID(s){return s.fields.id.id}static getCoinTypeFromArg(s){return`${kn}<${s}>`}static getFaucetCoins(s){let{events:a}=s,et=[];return a==null||a.forEach(nt=>{let{type:at}=nt;if(P(at).name==="InitEvent"){let mt=nt.parsedJson;et.push({transactionModule:nt.transactionModule,suplyID:mt.suplyID,decimals:mt.decimals})}}),et}static getCoinAssets(s,a){let et=[];return a.forEach(nt=>{be(nt.coinAddress)===be(s)&&et.push(nt)}),et}static isSuiCoin(s){return P(s).full_address===we}static selectCoinObjectIdGreaterThanOrEqual(s,a,et=[]){let nt=I.selectCoinAssetGreaterThanOrEqual(s,a,et),at=nt.selectedCoins.map($t=>$t.coinObjectId),mt=nt.remainingCoins,wt=nt.selectedCoins.map($t=>$t.balance.toString());return{objectArray:at,remainCoins:mt,amountArray:wt}}static selectCoinAssetGreaterThanOrEqual(s,a,et=[]){let nt=I.sortByBalance(s.filter(Ct=>!et.includes(Ct.coinObjectId))),at=I.calculateTotalBalance(nt);if(at<a)return{selectedCoins:[],remainingCoins:nt};if(at===a)return{selectedCoins:nt,remainingCoins:[]};let mt=BigInt(0),wt=[],$t=[...nt];for(;mt<at;){let Ct=a-mt,Dt=$t.findIndex(jt=>jt.balance>=Ct);if(Dt!==-1){wt.push($t[Dt]),$t.splice(Dt,1);break}let Ft=$t.pop();Ft.balance>0&&(wt.push(Ft),mt+=Ft.balance)}return{selectedCoins:I.sortByBalance(wt),remainingCoins:I.sortByBalance($t)}}static sortByBalance(s){return s.sort((a,et)=>a.balance<et.balance?-1:a.balance>et.balance?1:0)}static sortByBalanceDes(s){return s.sort((a,et)=>a.balance>et.balance?-1:a.balance<et.balance?0:1)}static calculateTotalBalance(s){return s.reduce((a,et)=>a+et.balance,BigInt(0))}};function In(s,{numerator:a,denominator:et},nt){return nt?s.mul(et.add(a)).div(et):s.mul(et).div(et.add(a))}function y(s){return Decimal$1.isDecimal(s)?s:new Decimal$1(s===void 0?0:s)}function Tt(s){return s.data}function xn(s){if(s.error&&"object_id"in s.error&&"version"in s.error&&"digest"in s.error){let{error:a}=s;return{objectId:a.object_id,version:a.version,digest:a.digest}}}function On(s){if(s.error&&"object_id"in s.error&&!("version"in s.error)&&!("digest"in s.error))return s.error.object_id}function Bn(s){if("reference"in s)return s.reference;let a=Tt(s);return a?{objectId:a.objectId,version:a.version,digest:a.digest}:xn(s)}function _t(s){var a;return"objectId"in s?s.objectId:((a=Bn(s))==null?void 0:a.objectId)??On(s)}function Rn(s){return s.data!==void 0}function qn(s){return s.content!==void 0}function kt(s){let a="data"in s?Tt(s):s;if(!(!a||!qn(a)||a.content.dataType!=="moveObject"))return a.content}function St(s){var a;return(a=kt(s))==null?void 0:a.type}function Pt(s){var et;let a=Rn(s)?s.data:s;return!(a!=null&&a.type)&&"data"in s?((et=a==null?void 0:a.content)==null?void 0:et.dataType)==="package"?"package":St(s):a==null?void 0:a.type}function se$1(s){var et;let a=(et=kt(s))==null?void 0:et.fields;if(a)return"fields"in a?a.fields:a}function ht(s,a=32){return BigInt.asUintN(a,BigInt(s)).toString()}function ie(s,a=32){return Number(BigInt.asIntN(a,BigInt(s)))}function jn(s,a,et){let nt=P(s).name,at=P(a).name;return`${nt}-${at}[${et}]`}function We(s){let a=St(s),et=P(a),nt=se$1(s);if(nt==null)throw new R$1(`Pool id ${_t(s)} not exists.`,"InvalidPoolObject");let at=[];nt.rewarder_manager.fields.rewarders.forEach(wt=>{let{emissions_per_second:$t}=wt.fields,Ct=Y.fromX64(new BN($t)),Dt=Math.floor(Ct.toNumber()*60*60*24);at.push({emissions_per_second:$t,coinAddress:P(wt.fields.reward_coin.fields.name).source_address,growth_global:wt.fields.growth_global,emissionsEveryDay:Dt})});let mt={poolAddress:_t(s),poolType:a,coinTypeA:et.type_arguments[0],coinTypeB:et.type_arguments[1],coinAmountA:nt.coin_a,coinAmountB:nt.coin_b,current_sqrt_price:nt.current_sqrt_price,current_tick_index:ie(BigInt(nt.current_tick_index.fields.bits)),fee_growth_global_a:nt.fee_growth_global_a,fee_growth_global_b:nt.fee_growth_global_b,fee_protocol_coin_a:nt.fee_protocol_coin_a,fee_protocol_coin_b:nt.fee_protocol_coin_b,fee_rate:nt.fee_rate,is_pause:nt.is_pause,liquidity:nt.liquidity,position_manager:{positions_handle:nt.position_manager.fields.positions.fields.id.id,size:nt.position_manager.fields.positions.fields.size},rewarder_infos:at,rewarder_last_updated_time:nt.rewarder_manager.fields.last_updated_time,tickSpacing:nt.tick_spacing,ticks_handle:nt.tick_manager.fields.ticks.fields.id.id,uri:nt.url,index:Number(nt.index),name:""};return mt.name=jn(mt.coinTypeA,mt.coinTypeB,mt.tickSpacing),mt}function Fn(s){let a=I.isSuiCoin(s.coinTypeA),et=I.isSuiCoin(s.coinTypeB);return{isAdjustCoinA:a,isAdjustCoinB:et}}function En(s,a){return Decimal$1.ceil(y(s).div(1+a)).toString()}var v=class{static createCollectRewarderAndFeeParams(s,a,et,nt,at,mt){at===void 0&&(at=[...nt]),mt===void 0&&(mt=[...nt]);let wt=be(et.coinTypeA),$t=be(et.coinTypeB);if(et.collect_fee){let Dt=v.buildCoinForAmount(a,at,BigInt(0),wt,!1);at=Dt.remainCoins;let Ft=v.buildCoinForAmount(a,mt,BigInt(0),$t,!1);mt=Ft.remainCoins,a=s.Position.createCollectFeePaylod({pool_id:et.pool_id,pos_id:et.pos_id,coinTypeA:et.coinTypeA,coinTypeB:et.coinTypeB},a,Dt.targetCoin,Ft.targetCoin)}let Ct=[];return et.rewarder_coin_types.forEach(Dt=>{switch(be(Dt)){case wt:Ct.push(v.buildCoinForAmount(a,at,BigInt(0),Dt,!1).targetCoin);break;case $t:Ct.push(v.buildCoinForAmount(a,mt,BigInt(0),Dt,!1).targetCoin);break;default:Ct.push(v.buildCoinForAmount(a,nt,BigInt(0),Dt,!1).targetCoin);break}}),a=s.Rewarder.createCollectRewarderPaylod(et,a,Ct),a}static async adjustTransactionForGas(s,a,et,nt){nt.setSender(s.senderAddress);let at=I.selectCoinAssetGreaterThanOrEqual(a,et).selectedCoins;if(at.length===0)throw new R$1("Insufficient balance","InsufficientBalance");let mt=I.calculateTotalBalance(a);if(mt-et>1e9)return{fixAmount:et};let wt=await s.fullClient.calculationTxGas(nt);if(I.selectCoinAssetGreaterThanOrEqual(a,BigInt(wt),at.map($t=>$t.coinObjectId)).selectedCoins.length===0){let $t=BigInt(wt)+BigInt(500);if(mt-et<$t){if(et-=$t,et<0)throw new R$1("gas Insufficient balance","InsufficientBalance");let Ct=new Transaction;return{fixAmount:et,newTx:Ct}}}return{fixAmount:et}}static async buildAddLiquidityFixTokenForGas(s,a,et,nt,at,mt,wt){at=await v.buildAddLiquidityFixToken(s,a,et,at,mt,wt);let{isAdjustCoinA:$t}=Fn(et),Ct=$t?et.amount_a:et.amount_b,Dt=await v.adjustTransactionForGas(s,I.getCoinAssets($t?et.coinTypeA:et.coinTypeB,a),BigInt(Ct),at),{fixAmount:Ft}=Dt,{newTx:jt}=Dt;if(jt!=null){let Nt,Lt;if($t)et.amount_a=Number(Ft),Nt=v.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeA,a,!1,!0),Lt=v.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,a,!1,!0);else return et.amount_b=Number(Ft),Nt=v.buildAddLiquidityFixTokenCoinInput(jt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,a,!1,!0),Lt=v.buildAddLiquidityFixTokenCoinInput(jt,et.fix_amount_a,Ft.toString(),et.slippage,et.coinTypeB,a,!1,!0),et=v.fixAddLiquidityFixTokenParams(et,nt.slippage,nt.curSqrtPrice),at=await v.buildAddLiquidityFixTokenArgs(jt,s,a,et,Nt,Lt),at}return at}static async buildAddLiquidityFixToken(s,a,et,nt,at,mt){if(s.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");nt=nt||new Transaction;let wt,$t;return at==null||mt==null?(wt=v.buildAddLiquidityFixTokenCoinInput(nt,!et.fix_amount_a,et.amount_a,et.slippage,et.coinTypeA,a,!1,!0),$t=v.buildAddLiquidityFixTokenCoinInput(nt,et.fix_amount_a,et.amount_b,et.slippage,et.coinTypeB,a,!1,!0)):(wt={targetCoin:at,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"},$t={targetCoin:mt,remainCoins:[],isMintZeroCoin:!1,tragetCoinAmount:"0"}),nt=v.buildAddLiquidityFixTokenArgs(nt,s,a,et,wt,$t),nt}static buildAddLiquidityFixTokenCoinInput(s,a,et,nt,at,mt,wt=!0,$t=!0){return a?v.buildCoinForAmountInterval(s,mt,{amountSecond:BigInt(En(et,nt)),amountFirst:BigInt(et)},at,wt,$t):v.buildCoinForAmount(s,mt,BigInt(et),at,wt,$t)}static fixAddLiquidityFixTokenParams(s,a,et){let nt=s.fix_amount_a?s.amount_a:s.amount_b,at=M$1.estLiquidityAndcoinAmountFromOneAmounts(Number(s.tick_lower),Number(s.tick_upper),new BN(nt),s.fix_amount_a,!0,a,et);return s.amount_a=s.fix_amount_a?s.amount_a:at.tokenMaxA.toNumber(),s.amount_b=s.fix_amount_a?at.tokenMaxB.toNumber():s.amount_b,s}static buildAddLiquidityFixTokenArgs(s,a,et,nt,at,mt){let wt=[nt.coinTypeA,nt.coinTypeB],$t=nt.is_open?"open_position_with_liquidity_by_fix_coin":"add_liquidity_by_fix_coin",{clmm_pool:Ct,integrate:Dt}=a.sdkOptions;nt.is_open||(s=v.createCollectRewarderAndFeeParams(a,s,nt,et,at.remainCoins,mt.remainCoins));let Ft=q$1(Ct),jt=nt.is_open?[s.object(Ft.global_config_id),s.object(nt.pool_id),s.pure.u32(Number(ht(BigInt(nt.tick_lower)).toString())),s.pure.u32(Number(ht(BigInt(nt.tick_upper)).toString())),at.targetCoin,mt.targetCoin,s.pure.u64(nt.amount_a),s.pure.u64(nt.amount_b),s.pure.bool(nt.fix_amount_a),s.object(G$1)]:[s.object(Ft.global_config_id),s.object(nt.pool_id),s.object(nt.pos_id),at.targetCoin,mt.targetCoin,s.pure.u64(nt.amount_a),s.pure.u64(nt.amount_b),s.pure.bool(nt.fix_amount_a),s.object(G$1)];return s.moveCall({target:`${Dt.published_at}::${dt}::${$t}`,typeArguments:wt,arguments:jt}),s}static async buildSwapTransactionForGas(s,a,et,nt){let at=v.buildSwapTransaction(s,a,et);at.setSender(s.senderAddress);let mt=await v.adjustTransactionForGas(s,I.getCoinAssets(a.a2b?a.coinTypeA:a.coinTypeB,et),BigInt(a.by_amount_in?a.amount:a.amount_limit),at),{fixAmount:wt,newTx:$t}=mt;if($t!==void 0){$t.setSender(s.senderAddress),a.by_amount_in?a.amount=wt.toString():a.amount_limit=wt.toString(),a=await v.fixSwapParams(s,a,nt);let Ct=v.buildCoinForAmount(at,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA),Dt=v.buildCoinForAmount(at,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB);at=v.buildSwapTransactionArgs($t,a,s.sdkOptions,Ct,Dt)}return at}static buildSwapTransaction(s,a,et){let nt=new Transaction;nt.setSender(s.senderAddress);let at=v.buildCoinForAmount(nt,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA,!1),mt=v.buildCoinForAmount(nt,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB,!1);return nt=v.buildSwapTransactionArgs(nt,a,s.sdkOptions,at,mt),nt}static buildSwapTransactionArgs(s,a,et,nt,at){let{clmm_pool:mt,integrate:wt}=et,$t=ne.getDefaultSqrtPriceLimit(a.a2b),Ct=[a.coinTypeA,a.coinTypeB],{global_config_id:Dt}=q$1(mt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");let Ft=a.swap_partner!==void 0,jt=Ft?a.a2b?"swap_a2b_with_partner":"swap_b2a_with_partner":a.a2b?"swap_a2b":"swap_b2a",Nt=Ft?[s.object(Dt),s.object(a.pool_id),s.object(a.swap_partner),nt.targetCoin,at.targetCoin,s.pure.bool(a.by_amount_in),s.pure.u64(a.amount),s.pure.u64(a.amount_limit),s.pure.u128($t.toString()),s.object(G$1)]:[s.object(Dt),s.object(a.pool_id),nt.targetCoin,at.targetCoin,s.pure.bool(a.by_amount_in),s.pure.u64(a.amount),s.pure.u64(a.amount_limit),s.pure.u128($t.toString()),s.object(G$1)];return s.moveCall({target:`${wt.published_at}::${dt}::${jt}`,typeArguments:Ct,arguments:Nt}),s}static async buildSwapTransactionWithoutTransferCoinsForGas(s,a,et,nt){let{tx:at,coinABs:mt}=v.buildSwapTransactionWithoutTransferCoins(s,a,et);at.setSender(s.senderAddress);let wt=await v.adjustTransactionForGas(s,I.getCoinAssets(a.a2b?a.coinTypeA:a.coinTypeB,et),BigInt(a.by_amount_in?a.amount:a.amount_limit),at),{fixAmount:$t,newTx:Ct}=wt;if(Ct!==void 0){Ct.setSender(s.senderAddress),a.by_amount_in?a.amount=$t.toString():a.amount_limit=$t.toString(),a=await v.fixSwapParams(s,a,nt);let Dt=v.buildCoinForAmount(at,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA,!1,!0),Ft=v.buildCoinForAmount(at,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB,!1,!0),jt=v.buildSwapTransactionWithoutTransferCoinArgs(s,Ct,a,s.sdkOptions,Dt,Ft);at=jt.tx,mt=jt.txRes}return{tx:at,coinABs:mt}}static buildSwapTransactionWithoutTransferCoins(s,a,et){let nt=new Transaction;nt.setSender(s.senderAddress);let at=v.buildCoinForAmount(nt,et,a.a2b?BigInt(a.by_amount_in?a.amount:a.amount_limit):BigInt(0),a.coinTypeA,!1,!0),mt=v.buildCoinForAmount(nt,et,a.a2b?BigInt(0):BigInt(a.by_amount_in?a.amount:a.amount_limit),a.coinTypeB,!1,!0),wt=v.buildSwapTransactionWithoutTransferCoinArgs(s,nt,a,s.sdkOptions,at,mt);return{tx:wt.tx,coinABs:wt.txRes}}static buildSwapTransactionWithoutTransferCoinArgs(s,a,et,nt,at,mt){let{clmm_pool:wt,integrate:$t}=nt,Ct=ne.getDefaultSqrtPriceLimit(et.a2b),{global_config_id:Dt}=q$1(wt);if(Dt===void 0)throw Error("clmm.config.global_config_id is undefined");let Ft=et.swap_partner!==void 0,jt=Ft?"swap_with_partner":"swap",Nt=Ft?$e:Pe$1,Lt=Ft?[a.object(Dt),a.object(et.pool_id),a.object(et.swap_partner),at.targetCoin,mt.targetCoin,a.pure.bool(et.a2b),a.pure.bool(et.by_amount_in),a.pure.u64(et.amount),a.pure.u128(Ct.toString()),a.pure.bool(!1),a.object(G$1)]:[a.object(Dt),a.object(et.pool_id),at.targetCoin,mt.targetCoin,a.pure.bool(et.a2b),a.pure.bool(et.by_amount_in),a.pure.u64(et.amount),a.pure.u128(Ct.toString()),a.pure.bool(!1),a.object(G$1)],Ut=[et.coinTypeA,et.coinTypeB],Vt=a.moveCall({target:`${$t.published_at}::${Nt}::${jt}`,typeArguments:Ut,arguments:Lt});if(et.by_amount_in){let Yt=et.a2b?et.coinTypeB:et.coinTypeA,er=et.a2b?Vt[1]:Vt[0],tr=Number(et.amount_limit);this.checkCoinThreshold(s,et.by_amount_in,a,er,tr,Yt)}return{tx:a,txRes:Vt}}static async fixSwapParams(s,a,et){let{currentPool:nt}=et;try{let at=await s.Swap.preswap({decimalsA:et.decimalsA,decimalsB:et.decimalsB,a2b:a.a2b,byAmountIn:a.by_amount_in,amount:a.amount,pool:nt,currentSqrtPrice:nt.current_sqrt_price,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB}),mt=et.byAmountIn?at.estimatedAmountOut:at.estimatedAmountIn,wt=In(mt,et.slippage,!et.byAmountIn);a.amount_limit=wt.toString()}catch(at){console.log("fixSwapParams",at)}return a}static async syncBuildCoinInputForAmount(s,a,et,nt,at=!0,mt=!0){if(s.senderAddress.length===0)throw Error("this config sdk senderAddress is empty");let wt=await s.getOwnerCoinAssets(s.senderAddress,nt);return v.buildCoinForAmount(a,wt,et,nt,at,mt).targetCoin}static buildCoinForAmount(s,a,et,nt,at=!0,mt=!0){let wt=I.getCoinAssets(nt,a);if(et===BigInt(0))return v.buildZeroValueCoin(a,s,nt,at);let $t=I.calculateTotalBalance(wt);if($t<et)throw new R$1(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et} `,"InsufficientBalance");return v.buildCoin(s,a,wt,et,nt,at,mt)}static buildVectorCoin(s,a,et,nt,at,mt=!0){if(I.isSuiCoin(at)){let jt=s.splitCoins(s.gas,[s.pure.u64(nt)]);return{targetCoin:s.makeMoveVec({elements:[jt]}),remainCoins:a,tragetCoinAmount:nt.toString(),isMintZeroCoin:!1,originalSplitedCoin:s.gas}}let{targetCoin:wt,originalSplitedCoin:$t,tragetCoinAmount:Ct,selectedCoinsResult:Dt,coinObjectIds:Ft}=this.buildSpitTargeCoin(s,nt,et,mt);return mt?{targetCoin:s.makeMoveVec({elements:[wt]}),remainCoins:Dt.remainCoins,originalSplitedCoin:$t,tragetCoinAmount:Ct,isMintZeroCoin:!1}:{targetCoin:s.makeMoveVec({elements:Ft.map(jt=>s.object(jt))}),remainCoins:Dt.remainCoins,tragetCoinAmount:Dt.amountArray.reduce((jt,Nt)=>Number(jt)+Number(Nt),0).toString(),isMintZeroCoin:!1}}static buildOneCoin(s,a,et,nt,at=!0){if(I.isSuiCoin(nt)){if(et===0n&&a.length>1){let Ft=I.selectCoinObjectIdGreaterThanOrEqual(a,et);return{targetCoin:s.object(Ft.objectArray[0]),remainCoins:Ft.remainCoins,tragetCoinAmount:Ft.amountArray[0],isMintZeroCoin:!1}}let Dt=I.selectCoinObjectIdGreaterThanOrEqual(a,et);return{targetCoin:s.splitCoins(s.gas,[s.pure.u64(et)]),remainCoins:Dt.remainCoins,tragetCoinAmount:et.toString(),isMintZeroCoin:!1,originalSplitedCoin:s.gas}}let{targetCoin:mt,originalSplitedCoin:wt,tragetCoinAmount:$t,selectedCoinsResult:Ct}=this.buildSpitTargeCoin(s,et,a,at);return{targetCoin:mt,remainCoins:Ct.remainCoins,originalSplitedCoin:wt,tragetCoinAmount:$t,isMintZeroCoin:!1}}static buildSpitTargeCoin(s,a,et,nt){let at=I.selectCoinObjectIdGreaterThanOrEqual(et,a),mt=at.amountArray.reduce((Lt,Ut)=>Number(Lt)+Number(Ut),0).toString(),wt=at.objectArray,[$t,...Ct]=wt,Dt=s.object($t),Ft=Dt,jt=at.amountArray.reduce((Lt,Ut)=>Number(Lt)+Number(Ut),0).toString(),Nt;return Ct.length>0&&s.mergeCoins(Dt,Ct.map(Lt=>s.object(Lt))),nt&&Number(mt)>Number(a)&&(Ft=s.splitCoins(Dt,[s.pure.u64(a)]),Nt=Dt),{originalSplitedCoin:Nt,targetCoin:Ft,tragetCoinAmount:jt,selectedCoinsResult:at,coinObjectIds:wt}}static buildCoin(s,a,et,nt,at,mt=!0,wt=!0){return mt?this.buildVectorCoin(s,a,et,nt,at,wt):this.buildOneCoin(s,et,nt,at,wt)}static buildZeroValueCoin(s,a,et,nt=!0){let at=v.callMintZeroValueCoin(a,et),mt;return nt?mt=a.makeMoveVec({elements:[at]}):mt=at,{targetCoin:mt,remainCoins:s,isMintZeroCoin:!0,tragetCoinAmount:"0"}}static buildCoinForAmountInterval(s,a,et,nt,at=!0,mt=!0){let wt=I.getCoinAssets(nt,a);if(et.amountFirst===BigInt(0))return wt.length>0?v.buildCoin(s,[...a],[...wt],et.amountFirst,nt,at,mt):v.buildZeroValueCoin(a,s,nt,at);let $t=I.calculateTotalBalance(wt);if($t>=et.amountFirst)return v.buildCoin(s,[...a],[...wt],et.amountFirst,nt,at,mt);if($t<et.amountSecond)throw new R$1(`The amount(${$t}) is Insufficient balance for ${nt} , expect ${et.amountSecond} `,"InsufficientBalance");return v.buildCoin(s,[...a],[...wt],et.amountSecond,nt,at,mt)}static async buildRouterSwapTransaction(s,a,et,nt,at){let mt=new Transaction;return a.paths.length>1&&(a.partner=""),mt=await this.buildRouterBasePathTx(s,a,et,nt,mt,at),mt}static async buildRouterBasePathTx(s,a,et,nt,at,mt){let wt=a.paths.filter(nr=>nr&&nr.poolAddress),$t=Number(wt.reduce((nr,sr)=>nr.add(sr.amountIn),F).toString()),Ct=Number(wt.reduce((nr,sr)=>nr.add(sr.amountOut),F).toString()),Dt=Math.round(et?Number(Ct.toString())*(1-a.priceSlippagePoint):Number($t.toString())*(1+a.priceSlippagePoint)),Ft=a.paths[0].coinType[0],jt=a.paths[0].coinType[a.paths[0].coinType.length-1],Nt=v.buildCoinForAmount(at,nt,BigInt(et?$t:Dt),Ft,!1,!0),Lt=Nt.originalSplitedCoin!==void 0,Ut=v.buildCoinForAmount(at,nt,0n,jt,!1),Vt=await this.buildRouterBasePathReturnCoins(s,a,et,Nt,Ut,at),Yt=[],{toCoin:er,fromCoin:tr}=Vt;if(at=Vt.tx,Ut.isMintZeroCoin?Yt.push({coinType:jt,coin:er}):Ut.originalSplitedCoin!==void 0?at.mergeCoins(Ut.originalSplitedCoin,[er]):at.mergeCoins(Ut.targetCoin,[er]),Lt){let nr=Nt==null?void 0:Nt.originalSplitedCoin;at.mergeCoins(nr,[tr])}else Yt.push({coinType:Ft,coin:tr});for(let nr=0;nr<Yt.length;nr++)this.buildTransferCoin(s,at,Yt[nr].coin,Yt[nr].coinType,mt);return at}static async buildRouterBasePathReturnCoins(s,a,et,nt,at,mt){let{clmm_pool:wt,integrate:$t}=s.sdkOptions,Ct=q$1(wt).global_config_id,Dt=a.paths.filter(nr=>nr&&nr.poolAddress),Ft=Number(Dt.reduce((nr,sr)=>nr.add(sr.amountIn),F).toString()),jt=Number(Dt.reduce((nr,sr)=>nr.add(sr.amountOut),F).toString()),Nt=Math.round(et?Number(jt.toString())*(1-a.priceSlippagePoint):Number(Ft.toString())*(1+a.priceSlippagePoint)),Lt=a.paths[0].coinType[0],Ut=a.paths[0].coinType[a.paths[0].coinType.length-1],Vt=nt.targetCoin,Yt;at.isMintZeroCoin||at.originalSplitedCoin!==void 0?Yt=at.targetCoin:Yt=v.callMintZeroValueCoin(mt,Ut);let er=a.partner==="",tr=er?Pe$1:$e;for(let nr of Dt)if(nr.poolAddress.length===1){let sr=nr.a2b[0],dr={amount:Number(nr.amountIn.toString()),poolCoinA:nr.a2b[0]?Lt:Ut,poolCoinB:nr.a2b[0]?Ut:Lt},br=er?"swap":"swap_with_partner",vr=sr?Vt:Yt,yr=sr?Yt:Vt,$r=et?nr.amountIn.toString():nr.amountOut.toString(),Sr=ne.getDefaultSqrtPriceLimit(sr).toString(),wr=er?[mt.object(Ct),mt.object(nr.poolAddress[0]),vr,yr,mt.pure.bool(sr),mt.pure.bool(et),mt.pure.u64($r),mt.pure.u128(Sr),mt.pure.bool(!1),mt.object(G$1)]:[mt.object(Ct),mt.object(nr.poolAddress[0]),mt.object(a.partner),vr,yr,mt.pure.bool(sr),mt.pure.bool(et),mt.pure.u64($r),mt.pure.u128(Sr),mt.pure.bool(!1),mt.object(G$1)],fr=[dr.poolCoinA,dr.poolCoinB],_r=mt.moveCall({target:`${s.sdkOptions.integrate.published_at}::${tr}::${br}`,typeArguments:fr,arguments:wr});Vt=sr?_r[0]:_r[1],Yt=sr?_r[1]:_r[0]}else{let sr=et?nr.amountIn:nr.rawAmountLimit[0],dr=et?0:nr.amountOut,br="";nr.a2b[0]?nr.a2b[1]?br="swap_ab_bc":br="swap_ab_cb":nr.a2b[1]?br="swap_ba_bc":br="swap_ba_cb",er||(br=`${br}_with_partner`);let vr=ne.getDefaultSqrtPriceLimit(nr.a2b[0]),yr=ne.getDefaultSqrtPriceLimit(nr.a2b[1]),$r=er?[mt.object(Ct),mt.object(nr.poolAddress[0]),mt.object(nr.poolAddress[1]),Vt,Yt,mt.pure.bool(et),mt.pure.u64(sr.toString()),mt.pure.u64(dr.toString()),mt.pure.u128(vr.toString()),mt.pure.u128(yr.toString()),mt.object(G$1)]:[mt.object(Ct),mt.object(nr.poolAddress[0]),mt.object(nr.poolAddress[1]),mt.object(a.partner),Vt,Yt,mt.pure.bool(et),mt.pure.u64(sr.toString()),mt.pure.u64(dr.toString()),mt.pure.u128(vr.toString()),mt.pure.u128(yr.toString()),mt.object(G$1)],Sr=[nr.coinType[0],nr.coinType[1],nr.coinType[2]],wr=mt.moveCall({target:`${$t.published_at}::${tr}::${br}`,typeArguments:Sr,arguments:$r});Vt=wr[0],Yt=wr[1]}return this.checkCoinThreshold(s,et,mt,Yt,Nt,Ut),{fromCoin:Vt,toCoin:Yt,tx:mt}}static async buildAggregatorSwapReturnCoins(s,a,et,nt,at,mt,wt,$t){if($t==null){if(s.senderAddress.length===0)throw Error("recipient and this config sdk senderAddress all not set");$t=s.senderAddress}a.splitPaths.length>1&&(at="");let Ct,Dt,Ft=a.splitPaths.some(jt=>jt.basePaths.some(Nt=>Nt.label==="Deepbook"));if((!a.byAmountIn||a.splitPaths.length===1)&&!Ft){let jt=[];for(let Ut of a.splitPaths){let Vt=[],Yt=[],er=[],tr=[];for(let sr=0;sr<Ut.basePaths.length;sr+=1){let dr=Ut.basePaths[sr];Vt.push(dr.direction),Yt.push(dr.poolAddress),er.push(new BN(dr.inputAmount.toString())),sr===0?tr.push(dr.fromCoin,dr.toCoin):tr.push(dr.toCoin)}let nr={amountIn:new BN(Ut.inputAmount.toString()),amountOut:new BN(Ut.outputAmount.toString()),poolAddress:Yt,a2b:Vt,rawAmountLimit:er,isExceed:!1,coinType:tr};jt.push(nr)}let Nt={paths:jt,partner:at,priceSlippagePoint:mt},Lt=await this.buildRouterBasePathReturnCoins(s,Nt,a.byAmountIn,et,nt,wt);Ct=Lt.fromCoin,Dt=Lt.toCoin,wt=Lt.tx}else{let jt=Math.round(a.outputAmount*(1-mt));Ct=et.targetCoin,nt.isMintZeroCoin||nt.originalSplitedCoin!==void 0?Dt=nt.targetCoin:Dt=v.callMintZeroValueCoin(wt,a.toCoin);let Nt=!1,Lt;if(Ft){let[Ut,Vt]=gt.createAccountCap($t,s.sdkOptions,wt);wt=Vt,Lt=Ut,Nt=!0}for(let Ut=0;Ut<a.splitPaths.length;Ut+=1){let Vt=a.splitPaths[Ut],Yt;for(let er=0;er<Vt.basePaths.length;er+=1){let tr=Vt.basePaths[er];if(tr.label==="Deepbook")if(er===0)if(Vt.basePaths.length===1){let nr=this.buildDeepbookBasePathTx(s,tr,wt,Lt,Ct,Dt,!1);Ct=nr.from,Dt=nr.to}else{Yt=v.callMintZeroValueCoin(wt,tr.toCoin);let nr=this.buildDeepbookBasePathTx(s,tr,wt,Lt,Ct,Yt,!1);Ct=nr.from,Yt=nr.to}else{let nr=this.buildDeepbookBasePathTx(s,tr,wt,Lt,Yt,Dt,!0);Yt=nr.from,Dt=nr.to}if(tr.label==="Cetus")if(er===0)if(Vt.basePaths.length===1){let nr=this.buildClmmBasePathTx(s,tr,wt,a.byAmountIn,Ct,Dt,!1,at);Ct=nr.from,Dt=nr.to}else{Yt=v.callMintZeroValueCoin(wt,tr.toCoin);let nr=this.buildClmmBasePathTx(s,tr,wt,a.byAmountIn,Ct,Yt,!1,at);Ct=nr.from,Yt=nr.to}else{let nr=this.buildClmmBasePathTx(s,tr,wt,a.byAmountIn,Yt,Dt,!0,at);Yt=nr.from,Dt=nr.to,wt.moveCall({target:`${s.sdkOptions.integrate.published_at}::${ft}::send_coin`,typeArguments:[tr.fromCoin],arguments:[Yt,wt.pure.address($t)]})}}}this.checkCoinThreshold(s,a.byAmountIn,wt,Dt,jt,a.toCoin),Nt&&(wt=gt.deleteAccountCapByObject(Lt,s.sdkOptions,wt))}return{fromCoin:Ct,toCoin:Dt,tx:wt}}static async buildAggregatorSwapTransaction(s,a,et,nt,at,mt){let wt=new Transaction,$t=a.byAmountIn?Math.round(a.outputAmount*(1-at)):Math.round(a.inputAmount*(1+at)),Ct=v.buildCoinForAmount(wt,et,a.byAmountIn?BigInt(a.inputAmount):BigInt($t),a.fromCoin,!1,!0),Dt=Ct.originalSplitedCoin!=null,Ft=v.buildCoinForAmount(wt,et,0n,a.toCoin,!1),jt=await this.buildAggregatorSwapReturnCoins(s,a,Ct,Ft,nt,at,wt,mt),{fromCoin:Nt,toCoin:Lt}=jt;wt=jt.tx;let Ut=[];if(Ft.isMintZeroCoin?Ut.push({coinType:a.toCoin,coin:Lt}):Ft.originalSplitedCoin!=null?wt.mergeCoins(Ft.originalSplitedCoin,[Lt]):wt.mergeCoins(Ft.targetCoin,[Lt]),Dt){let Vt=Ct.originalSplitedCoin;wt.mergeCoins(Vt,[Nt])}else Ut.push({coinType:a.fromCoin,coin:Nt});for(let Vt=0;Vt<Ut.length;Vt++)this.buildTransferCoin(s,wt,Ut[Vt].coin,Ut[Vt].coinType,mt);return wt}static checkCoinThreshold(s,a,et,nt,at,mt){a&&et.moveCall({target:`${s.sdkOptions.integrate.published_at}::${Pe$1}::check_coin_threshold`,typeArguments:[mt],arguments:[nt,et.pure.u64(at)]})}static buildDeepbookBasePathTx(s,a,et,nt,at,mt,wt){let $t=a.direction?at:mt,Ct=a.direction?mt:at,Dt=[et.object(a.poolAddress),nt,et.pure.u64(a.inputAmount),et.pure.u64(0),et.pure.bool(a.direction),$t,Ct,et.pure.bool(wt),et.object(G$1)],Ft=a.direction?[a.fromCoin,a.toCoin]:[a.toCoin,a.fromCoin],jt=et.moveCall({target:`${s.sdkOptions.deepbook_endpoint_v2.published_at}::endpoints_v2::swap`,typeArguments:Ft,arguments:Dt});return at=a.direction?jt[0]:jt[1],mt=a.direction?jt[1]:jt[0],{from:at,to:mt,tx:et}}static buildClmmBasePathTx(s,a,et,nt,at,mt,wt,$t){let{clmm_pool:Ct,integrate:Dt}=s.sdkOptions,Ft=q$1(Ct).global_config_id,jt=a.direction?at:mt,Nt=a.direction?mt:at,Lt=$t==="",Ut=Lt?Pe$1:$e,Vt=Lt?"swap":"swap_with_partner",Yt=nt?a.inputAmount.toString():a.outputAmount.toString(),er=ne.getDefaultSqrtPriceLimit(a.direction),tr=Lt?[et.object(Ft),et.object(a.poolAddress),jt,Nt,et.pure.bool(a.direction),et.pure.bool(nt),et.pure.u64(Yt),et.pure.u128(er.toString()),et.pure.bool(wt),et.object(G$1)]:[et.object(Ft),et.object(a.poolAddress),et.object($t),jt,Nt,et.pure.bool(a.direction),et.pure.bool(nt),et.pure.u64(Yt),et.pure.u128(er.toString()),et.pure.bool(wt),et.object(G$1)],nr=a.direction?[a.fromCoin,a.toCoin]:[a.toCoin,a.fromCoin],sr=et.moveCall({target:`${Dt.published_at}::${Ut}::${Vt}`,typeArguments:nr,arguments:tr});return jt=sr[0],Nt=sr[1],at=a.direction?jt:Nt,mt=a.direction?Nt:jt,{from:at,to:mt,tx:et}}static buildCoinTypePair(s,a){let et=[];if(s.length===2){let nt=[];nt.push(s[0],s[1]),et.push(nt)}else{let nt=[];nt.push(s[0],s[s.length-1]),et.push(nt);for(let at=1;at<s.length-1;at+=1){if(a[at-1]===0)continue;let mt=[];mt.push(s[0],s[at],s[s.length-1]),et.push(mt)}}return et}static buildTransferCoinToSender(s,a,et,nt){a.moveCall({target:`${s.sdkOptions.integrate.published_at}::${ft}::transfer_coin_to_sender`,typeArguments:[nt],arguments:[et]})}static buildTransferCoin(s,a,et,nt,at){at!=null?a.transferObjects([et],a.pure.address(at)):v.buildTransferCoinToSender(s,a,et,nt)}},z$1=v;ln(z$1,"callMintZeroValueCoin",(s,a)=>s.moveCall({target:"0x2::coin::zero",typeArguments:[a]}));var me=new BN(1e9),gt=class{static createAccountCap(s,a,et,nt=!1){if(s.length===0)throw Error("this config sdk senderAddress is empty");let{deepbook:at}=a,[mt]=et.moveCall({target:`${at.published_at}::${mn}::create_account`,typeArguments:[],arguments:[]});return nt&&et.transferObjects([mt],et.pure.address(s)),[mt,et]}static deleteAccountCap(s,a,et){let{deepbook:nt}=a,at=[et.object(s)];return et.moveCall({target:`${nt.published_at}::${Ve$1}::delete_account_cap`,typeArguments:[],arguments:at}),et}static deleteAccountCapByObject(s,a,et){let{deepbook:nt}=a,at=[s];return et.moveCall({target:`${nt.published_at}::${Ve$1}::delete_account_cap`,typeArguments:[],arguments:at}),et}static async getAccountCap(s,a=!0){let et=await s.fullClient.getOwnedObjectsByPage(s.senderAddress,{options:{showType:!0,showContent:!0,showDisplay:a,showOwner:!0},filter:{MoveModule:{package:s.sdkOptions.deepbook.package_id,module:Ve$1}}});return et.data.length===0?"":et.data[0].data.objectId}static async getPools(s){let a=s.sdkOptions.deepbook.package_id,et=[];try{(await s.fullClient.queryEventsByPage({MoveEventType:`${a}::clob_v2::PoolCreated`})).data.forEach(nt=>{let at=nt.parsedJson;at&&et.push({poolID:at.pool_id,tickSize:Number(at.tick_size),lotSize:Number(at.lot_size),takerFeeRate:Number(at.taker_fee_rate),makerRebateRate:Number(at.maker_rebate_rate),baseAsset:at.base_asset.name,quoteAsset:at.quote_asset.name})})}catch(nt){console.log("getPoolImmutables",nt)}return et}static async getPoolAsks(s,a,et,nt){var jt;let{simulationAccount:at}=s.sdkOptions,{deepbook_endpoint_v2:mt}=s.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(a),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(G$1)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_ask_side`,arguments:Dt,typeArguments:Ct});let Ft=(jt=(await s.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:jt.filter(Nt=>P(Nt.type).name==="BookStatus");if(Ft.length===0)return $t;for(let Nt=0;Nt<Ft[0].parsedJson.depths.length;Nt++){let Lt=Ft[0].parsedJson.price[Nt],Ut=Ft[0].parsedJson.depths[Nt],Vt={price:parseInt(Lt,10),quantity:parseInt(Ut,10)};$t.push(Vt)}return $t}static async getPoolBids(s,a,et,nt){var jt;let{simulationAccount:at}=s.sdkOptions,{deepbook_endpoint_v2:mt}=s.sdkOptions,wt=new Transaction,$t=[],Ct=[et,nt],Dt=[wt.object(a),wt.pure.u64("0"),wt.pure.u64("999999999999"),wt.object(G$1)];wt.moveCall({target:`${mt.published_at}::endpoints_v2::get_level2_book_status_bid_side`,arguments:Dt,typeArguments:Ct});let Ft=(jt=(await s.fullClient.devInspectTransactionBlock({transactionBlock:wt,sender:at.address})).events)==null?void 0:jt.filter(Nt=>P(Nt.type).name==="BookStatus");if(Ft.length===0)return $t;for(let Nt=0;Nt<Ft[0].parsedJson.depths.length;Nt++){let Lt=Ft[0].parsedJson.price[Nt],Ut=Ft[0].parsedJson.depths[Nt],Vt={price:parseInt(Lt,10),quantity:parseInt(Ut,10)};$t.push(Vt)}return $t}static async preSwap(s,a,et,nt){let at=!1,mt=F,wt=new BN(nt),$t=F,Ct=new BN(nt);if(et){let Dt=await this.getPoolBids(s,a.poolID,a.baseAsset,a.quoteAsset);Dt===null&&(at=!0),Dt=Dt.sort((Ft,jt)=>jt.price-Ft.price);for(let Ft=0;Ft<Dt.length;Ft+=1){let jt=new BN(Dt[Ft].quantity),Nt=new BN(Dt[Ft].price),Lt=jt.mul(new BN(Nt)).mul(new BN(a.takerFeeRate)).div(me).div(me);if(wt.gt(jt))wt=wt.sub(jt),mt=mt.add(jt.mul(Nt).div(me).sub(Lt)),$t=$t.add(Lt);else{let Ut=wt.mul(new BN(Dt[Ft].price)).div(me),Vt=Ut.mul(new BN(a.takerFeeRate)).div(me);mt=mt.add(Ut.sub(Vt)),wt=wt.sub(wt),$t=$t.add(Vt)}if(wt.eq(F))break}}else{let Dt=await this.getPoolAsks(s,a.poolID,a.baseAsset,a.quoteAsset);Dt===null&&(at=!0);for(let Ft=0;Ft<Dt.length;Ft+=1){let jt=new BN(Dt[Ft].price).mul(new BN(Dt[Ft].quantity)).div(new BN(1e9)),Nt=jt.mul(new BN(a.takerFeeRate)).div(me),Lt=jt.add(Nt);if(wt.gt(jt))mt=mt.add(new BN(Dt[Ft].quantity)),wt=wt.sub(Lt),$t=$t.add(Nt);else{let Ut=new BN(Dt[Ft].quantity).div(new BN(a.lotSize)),Vt=Lt.div(Ut),Yt=wt.div(Vt);mt=mt.add(Yt.muln(a.lotSize)),wt=wt.sub(Yt.mul(Vt)),$t=$t.add(Yt.div(Ut).mul(Nt))}if(wt.eq(F))break}}return{poolAddress:a.poolID,estimatedAmountIn:Ct.sub(wt).toNumber(),estimatedAmountOut:mt.toNumber(),estimatedFeeAmount:$t,isExceed:at,amount:Number(nt),aToB:et,byAmountIn:!0}}static async simulateSwap(s,a,et,nt,at,mt){var tr,nr,sr;let{deepbook_endpoint_v2:wt}=s.sdkOptions,$t=new Transaction,Ct=await this.getAccountCap(s),Dt;if(Ct===""){let dr=this.createAccountCap(s.senderAddress,s.sdkOptions,$t),br=dr[0];$t=dr[1],Dt=br}else Dt=$t.object(Ct);let Ft=await s.getOwnerCoinAssets(s.senderAddress),jt=(tr=z$1.buildCoinForAmount($t,Ft,BigInt(mt),et,!1))==null?void 0:tr.targetCoin,Nt=(nr=z$1.buildCoinForAmount($t,Ft,BigInt(mt),nt,!1))==null?void 0:nr.targetCoin,Lt=[et,nt],Ut=[$t.object(a),Dt,$t.pure.u64(mt),$t.pure.u64(0),$t.pure.bool(at),jt,Nt,$t.object(G$1)];$t.moveCall({target:`${wt.published_at}::${_n}::swap`,arguments:Ut,typeArguments:Lt});let{simulationAccount:Vt}=s.sdkOptions,Yt=(sr=(await s.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:Vt.address})).events)==null?void 0:sr.filter(dr=>P(dr.type).name==="DeepbookSwapEvent");if(Yt.length===0)return null;let er=Yt[0].parsedJson;return{poolAddress:er.pool,estimatedAmountIn:er.amount_in,estimatedAmountOut:er.amount_out,aToB:er.atob}}};getFullnodeUrl("mainnet");getFullnodeUrl("testnet");var It="router",xt="vaults",Ot=1e4,Bt=(s=>(s.STATUS_RUNNING="STATUS_RUNNING",s.STATUS_REBALANCING="STATUS_REBALANCING",s))(Bt||{}),Mn=(s=>(s.Haedal="Haedal",s.Volo="Volo",s.Aftermath="aftermath",s))(Mn||{}),Rt=(s=>(s.Cetus="Cetus",s.Haedal="Haedal",s.Volo="Volo",s.Aftermath="aftermath",s))(Rt||{}),qt=(s=>(s.Both="both",s.OneSide="oneSide",s))(qt||{}),Z=class extends Error{constructor(a,et){super(a);sn(this,"message");sn(this,"errorCode");this.message=a,this.errorCode=et}static isClmmpoolsErrorCode(a,et){return a instanceof Z&&a.errorCode===et}},ye$1="0x0000000000000000000000000000000000000000000000000000000000000006",Je="router";function $(s){if(s.config===void 0)throw new Z(`package: ${s.package_id}  not config in sdk SdkOptions`,"InvalidConfig");return s.config}var B=class{static generateNextTickRange(s,a,et){let nt=s-a/2,at=s+a/2;return{new_tick_lower:B.getValidTickIndex(nt,et),new_tick_upper:B.getValidTickIndex(at,et)}}static calculateDepositRatio(s,a,et){let nt=x.sqrtPriceX64ToTickIndex(et);if(nt<s)return{ratioA:new Decimal$1(1),ratioB:new Decimal$1(0)};if(nt>a)return{ratioA:new Decimal$1(0),ratioB:new Decimal$1(1)};let at=new BN(1e8),{coinAmountB:mt}=M$1.estLiquidityAndcoinAmountFromOneAmounts(s,a,at,!0,!0,0,et),wt=x.sqrtPriceX64ToPrice(et,0,0),$t=y(at.toString()).mul(wt),Ct=$t.add(mt.toString()),Dt=$t.div(Ct),Ft=y(mt.toString()).div(Ct);return{ratioA:Dt,ratioB:Ft}}static getValidTickIndex(s,a){if(s%a===0)return s;let et;if(s>0?et=s-s%a+a:s<0?et=s+Math.abs(s)%a-a:et=s,et%a!==0)throw new Error("Assertion failed: res % tickSpacing == 0");if(Math.abs(et)<Math.abs(s))throw new Error("Assertion failed: res.abs() >= tickIndex");return et}static get_lp_amount_by_liquidity(s,a){return s.total_supply==="0"?"0":y(s.total_supply).mul(a).div(s.liquidity).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_share_liquidity_by_amount(s,a){return s.total_supply==="0"?"0":y(a).mul(s.liquidity).div(s.total_supply).toFixed(0,Decimal$1.ROUND_DOWN).toString()}static get_protocol_fee_amount(s,a){return y(a).mul(s.protocol_fee_rate).div(Ot).toFixed(0,Decimal$1.ROUND_CEIL)}static buildFramsPositionNFT(s){let a=s.clmm_postion.fields;return{id:s.id.id,url:a.url,pool_id:s.pool_id,coinTypeA:P(a.coin_type_a.fields.name).full_address,coinTypeB:P(a.coin_type_b.fields.name).full_address,description:a.description,name:a.name,liquidity:a.liquidity,clmm_position_id:a.id.id,clmm_pool_id:a.pool,tick_lower_index:ie(BigInt(a.tick_lower_index.fields.bits)),tick_upper_index:ie(BigInt(a.tick_upper_index.fields.bits)),rewards:[]}}static buildPool(s){let a=se$1(s),et=Pt(s),{positions:nt}=a;if(a&&nt.length>0){let at=B.buildFramsPositionNFT(nt[0].fields);return{id:a.id.id,pool_id:a.pool,protocol_fee_rate:a.protocol_fee_rate,is_pause:a.is_pause,harvest_assets:{harvest_assets_handle:a.harvest_assets.fields.id.id,size:Number(a.harvest_assets.fields.size)},lp_token_type:P(et).type_arguments[0],total_supply:a.lp_token_treasury.fields.total_supply.fields.value,liquidity:a.liquidity,max_quota:a.max_quota,status:a.status===1?"STATUS_RUNNING":"STATUS_REBALANCING",quota_based_type:a.quota_based_type.fields.name,position:at}}}static async getSuiCoin(s,a,et){let nt=await s.getOwnerCoinAssets(s.getVerifySenderAddress(),we);et=et||new Transaction;let at;if(a>95e10){let[mt,...wt]=nt;wt.length>0&&et.mergeCoins(et.object(mt.coinObjectId),wt.map($t=>et.object($t.coinObjectId))),at=et.splitCoins(et.object(mt.coinObjectId),[a])}else at=z$1.buildCoinForAmount(et,nt,BigInt(a),we,!1,!0).targetCoin;return at}},Ae=class{static async getExchangeRateForStake(s,a,et){let{vaults:nt}=s.sdkOptions,{haedal:at}=q$1(nt);if(at===void 0)throw Error("the haedal config is undefined");let{simulationAccount:mt}=s.sdkOptions,{staking_id:wt}=q$1(at);try{let $t=new Transaction;a?await this.requestStake(s,et||1e9,$t):$t.moveCall({target:`${at.published_at}::staking::get_exchange_rate`,typeArguments:[],arguments:[$t.object(wt)]});let Ct=await s.fullClient.devInspectTransactionBlock({transactionBlock:$t,sender:a?s.senderAddress:mt.address});if(a){let Ft=Ct.events.find(Lt=>Lt.type.includes("UserStaked")),{sui_amount:jt,st_amount:Nt}=Ft.parsedJson;return y(jt).div(Nt).toString()}let Dt=Ct.results[0].returnValues[0][0];return y(suiBcs$1.u64().parse(Uint8Array.from(Dt))).div(1e6).toString()}catch($t){console.log("getExchangeRateForHaedal",$t)}return"0"}static async requestStake(s,a,et){var mt,wt;let{vaults:nt}=s.sdkOptions;et=et||new Transaction;let at=await B.getSuiCoin(s,a,et);return et.moveCall({target:`${(wt=(mt=nt.config)==null?void 0:mt.haedal)==null?void 0:wt.published_at}::interface::request_stake`,typeArguments:[],arguments:[et.object(normalizeSuiObjectId$1("0x5")),et.object(nt.config.haedal.config.staking_id),at,et.pure.address(normalizeSuiObjectId$1("0x0"))]}),et}static requestStakeCoin(s,a,et){let{haedal:nt}=s.sdkOptions.vaults.config;return a.moveCall({target:`${nt.published_at}::staking::request_stake_coin`,typeArguments:[],arguments:[a.object(normalizeSuiObjectId$1("0x5")),a.object(nt.config.staking_id),et,a.pure.address(normalizeSuiObjectId$1("0x0"))]})}},ve=class{static async getExchangeRateForStake(s,a,et){let{vaults:nt}=s.sdkOptions,{volo:at}=q$1(nt);if(at===void 0)throw Error("the volo config is undefined");let{simulationAccount:mt}=s.sdkOptions,{native_pool:wt,vsui_metadata:$t}=q$1(at);try{let Ct=new Transaction;a?await this.requestStake(s,et||1e9,Ct):Ct.moveCall({target:`${at.published_at}::native_pool::get_ratio`,typeArguments:[],arguments:[Ct.object(wt),Ct.object($t)]});let Dt=await s.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:a?s.senderAddress:mt.address});if(a){let Nt=Dt.events.find(Vt=>Vt.type.includes("StakedEvent")),{cert_amount:Lt,sui_amount:Ut}=Nt.parsedJson;return y(Ut).div(Lt).toString()}let Ft=Dt.results[0].returnValues[0][0],jt=y(suiBcs$1.u256().parse(Uint8Array.from(Ft))).div("1000000000000000000").toNumber();return y(1).div(jt).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(s,a,et){let{vaults:nt}=s.sdkOptions,{volo:at}=q$1(nt);if(at===void 0)throw Error("the volo config is undefined");et=et||new Transaction;let{native_pool:mt,vsui_metadata:wt}=q$1(at),$t=await B.getSuiCoin(s,a,et);return et.moveCall({target:`${at.published_at}::native_pool::stake`,typeArguments:[],arguments:[et.object(mt),et.object(wt),et.object(normalizeSuiObjectId$1("0x5")),$t]}),et}static requestStakeCoin(s,a,et){let{vaults:nt}=s.sdkOptions,{volo:at}=q$1(nt);if(at===void 0)throw Error("the volo config is undefined");a=a||new Transaction;let{native_pool:mt,vsui_metadata:wt}=q$1(at);return a.moveCall({target:`${at.published_at}::native_pool::stake_non_entry`,typeArguments:[],arguments:[a.object(mt),a.object(wt),a.object(normalizeSuiObjectId$1("0x5")),et]})}},Ce=class{static async getExchangeRateForStake(s,a,et){let{vaults:nt}=s.sdkOptions,{aftermath:at}=q$1(nt);if(at===void 0)throw Error("the aftermath config is undefined");let{simulationAccount:mt}=s.sdkOptions,{staked_sui_vault:wt,safe:$t}=q$1(at);try{let Ct=new Transaction;a?await this.requestStake(s,et||1e9,Ct):Ct.moveCall({target:`${at.published_at}::staked_sui_vault::afsui_to_sui_exchange_rate`,typeArguments:[],arguments:[Ct.object(wt),Ct.object($t)]});let Dt=await s.fullClient.devInspectTransactionBlock({transactionBlock:Ct,sender:a?s.senderAddress:mt.address});if(a){let jt=Dt.events.find(Ut=>Ut.type.includes("StakedEvent")),{afsui_amount:Nt,sui_amount:Lt}=jt.parsedJson;return y(Lt).div(Nt).toString()}let Ft=Dt.results[0].returnValues[0][0];return y(suiBcs$1.u128().parse(Uint8Array.from(Ft))).div(1e18).toString()}catch(Ct){console.log("getExchangeRateForHaedal",Ct)}return"0"}static async requestStake(s,a,et){let{vaults:nt}=s.sdkOptions,{aftermath:at}=q$1(nt);if(at===void 0)throw Error("the aftermath config is undefined");et=et||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=q$1(at),Dt=await B.getSuiCoin(s,a,et);return et.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake_and_keep`,typeArguments:[],arguments:[et.object(mt),et.object($t),et.object(normalizeSuiObjectId$1("0x5")),et.object(wt),Dt,et.pure.address(normalizeSuiObjectId$1(Ct))]}),et}static requestStakeCoin(s,a,et){let{vaults:nt}=s.sdkOptions,{aftermath:at}=q$1(nt);if(at===void 0)throw Error("the aftermath config is undefined");a=a||new Transaction;let{staked_sui_vault:mt,referral_vault:wt,safe:$t,validator_address:Ct}=q$1(at);return a.moveCall({target:`${at.published_at}::staked_sui_vault::request_stake`,typeArguments:[],arguments:[a.object(mt),a.object($t),a.object(normalizeSuiObjectId$1("0x5")),a.object(wt),et,a.pure.address(normalizeSuiObjectId$1(Ct))]})}},De=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});sn(this,"getOwnerVaultsBalance",async s=>{let{data:a}=await this.getVaultList(),et=[];for(let nt=0;nt<a.length;nt++){let at=a[nt],mt=await this._sdk.fullClient.getBalance({owner:s,coinType:at.lp_token_type}),wt=await this._sdk.Pool.getPool(at.pool_id,!0),$t=B.get_share_liquidity_by_amount(at,mt.totalBalance),{tick_lower_index:Ct,tick_upper_index:Dt,coinTypeA:Ft,coinTypeB:jt}=at.position,Nt=x.tickIndexToSqrtPriceX64(Ct),Lt=x.tickIndexToSqrtPriceX64(Dt),Ut=M$1.getCoinAmountFromLiquidity(new bnExports.BN($t),new bnExports.BN(wt.current_sqrt_price),Nt,Lt,!0);et.push({vault_id:a[nt].id,clmm_pool_id:at.pool_id,owner:s,lp_token_type:at.lp_token_type,lp_token_balance:mt.totalBalance,liquidity:$t,tick_lower_index:Ct,tick_upper_index:Dt,amount_a:Ut.coinA.toString(),amount_b:Ut.coinB.toString(),coin_type_a:Ft,coin_type_b:jt})}return et});this._sdk=s}get sdk(){return this._sdk}async calculateDepositAmount(s,a=!1,et=!1){return s.side==="both"?await this.calculateAmountFromBoth(s,!0):await this.calculateDepositAmountFromOneSide(s,a,et)}async calculateWithdrawAmount(s){if(s.side==="both"){if(s.is_ft_input)return{...await this.estLiquidityAmountFromFtAmount({...s,input_ft_amount:s.input_amount}),request_id:s.input_amount,burn_ft_amount:s.input_amount,side:s.side};let nt=await this.calculateAmountFromBoth(s,!1);return{...nt,request_id:s.input_amount,burn_ft_amount:nt.ft_amount,side:s.side}}let{vault:a}=await this.getVaultAndPool(s.vault_id),et=B.get_share_liquidity_by_amount(a,s.max_ft_amount);return await this.calculateWithdrawAmountFromOneSide({fix_amount_a:s.fix_amount_a,vault_id:s.vault_id,receive_amount:s.is_ft_input?"0":s.input_amount,slippage:s.slippage,maxLiquidity:et,removeLiquidity:s.is_ft_input?B.get_share_liquidity_by_amount(a,s.input_amount):void 0},!0)}async calculateWithdrawAmountFromOneSide(s,a,et){try{let{vault_id:nt,removeLiquidity:at,maxLiquidity:mt}=s,{vault:wt,pool:$t}=await this.getVaultAndPool(nt),{position:Ct}=wt,Dt=Ct.tick_lower_index,Ft=Ct.tick_upper_index,jt=at===mt,Nt=B.calculateDepositRatio(Dt,Ft,new bnExports.BN($t.current_sqrt_price)),Lt=s.fix_amount_a?Nt.ratioA:Nt.ratioB,Ut=y(s.receive_amount).mul(Lt),Vt,Yt;if(at){let wr=x.tickIndexToSqrtPriceX64(Dt),fr=x.tickIndexToSqrtPriceX64(Ft),_r=M$1.getCoinAmountFromLiquidity(new bnExports.BN(at),new bnExports.BN($t.current_sqrt_price),wr,fr,!1);Yt=at,Vt=s.fix_amount_a?_r.coinB.toString():_r.coinA.toString(),Ut=s.fix_amount_a?y(_r.coinA.toString()):y(_r.coinB.toString())}else{let wr=M$1.estLiquidityAndcoinAmountFromOneAmounts(Dt,Ft,new bnExports.BN(Ut.toFixed(0)),s.fix_amount_a,!1,s.slippage,new bnExports.BN($t.current_sqrt_price));Yt=wr.liquidityAmount.toString(),Vt=s.fix_amount_a?wr.coinAmountB.toString():wr.coinAmountA.toString()}let er=!s.fix_amount_a,tr=await this.findRouters($t.poolAddress,$t.current_sqrt_price.toString(),s.fix_amount_a?$t.coinTypeB:$t.coinTypeA,s.fix_amount_a?$t.coinTypeA:$t.coinTypeB,y(Vt),!0,[$t.poolAddress],{poolID:$t.poolAddress,ticklower:Dt,tickUpper:Ft,deltaLiquidity:Number(Yt)}),nr=Ut.add(tr.amount_out),sr=y(s.receive_amount),dr=sr.sub(nr);if(!jt&&(!s.removeLiquidity||s.removeLiquidity&&et)&&dr.abs().greaterThan(sr.mul(.01))){let wr=nr.lessThan(sr),fr,_r;et?wr?(fr=y(Yt),_r=et.right):(fr=et.left,_r=y(Yt)):(fr=y(wr?Yt:0),_r=y(wr?s.maxLiquidity:Yt));let ir=y(fr).add(_r).div(2).toFixed(0);if(!et||et&&et.count<15&&fr<_r)return await this.calculateWithdrawAmountFromOneSide({...s,removeLiquidity:ir},a,{left:fr,right:_r,count:et?et.count+1:0})}let br=tr.amount_in&&tr.fee_amount?new bnExports.BN(tr.amount_in).add(new bnExports.BN(tr.fee_amount)).toString():tr.amount_in,vr=tr.amount_out,{is_exceed:yr}=tr,$r=B.get_lp_amount_by_liquidity(wt,Yt.toString());return{side:"oneSide",...await this.estLiquidityAmountFromFtAmount({vault_id:nt,input_ft_amount:$r,slippage:s.slippage}),burn_ft_amount:$r,request_id:s.receive_amount,swap_result:{swap_in_amount:br,swap_out_amount:vr,a2b:er,is_exceed:yr,sui_stake_protocol:"Cetus",route_obj:tr.route_obj}}}catch(nt){if(a&&(String(nt)==="Error: route unavailable"||String(nt)==="Error: router timeout"))return await this.calculateWithdrawAmountFromOneSide(s,!1);throw nt}}async calculateDepositAmountFromOneSide(s,a,et=!1,nt=!0,at=5,mt=.02){try{let{vault_id:wt,input_amount:$t,fix_amount_a:Ct,slippage:Dt}=s,{vault:Ft,pool:jt}=await this.getVaultAndPool(wt),{position:Nt}=Ft,Lt=Nt.tick_lower_index,Ut=Nt.tick_upper_index,Vt=x.sqrtPriceX64ToTickIndex(new bnExports.BN(jt.current_sqrt_price)),{ratioA:Yt,ratioB:er}=B.calculateDepositRatio(Lt,Ut,new bnExports.BN(jt.current_sqrt_price)),tr=y($t).mul(Ct?Yt:er),nr=y($t).sub(tr),sr=Ct;if(nr.toFixed(0)==="0")return await this.calculateAmountFromBoth(s,!0);let dr,br,vr,yr,$r,Sr=this.findSuiStakeProtocol(Nt.coinTypeA,Nt.coinTypeB,Ct);if(Sr!=="Cetus")dr=await this.calculateStakeDepositFixSui({inputSuiAmount:y(s.input_amount),swapSuiAmount:nr,lowerTick:Lt,upperTick:Ut,curSqrtPrice:jt.current_sqrt_price.toString(),remainRate:.01,fixCoinA:s.fix_amount_a,rebalanceCount:0,shouldRequestStake:a,leftSuiAmount:sr?new Decimal$1(nr.toFixed(0)):new Decimal$1(0),rightSuiAmount:sr?new Decimal$1(s.input_amount):new Decimal$1(nr.toFixed(0)),stakeProtocol:Sr}),br=jt.current_sqrt_price.toString(),vr=dr.fixAmountA,yr=dr.swapInAmount,$r=dr.swapOutAmount;else{dr=await this.findRouters(jt.poolAddress,jt.current_sqrt_price.toString(),sr?jt.coinTypeA:jt.coinTypeB,sr?jt.coinTypeB:jt.coinTypeA,nr,!0,[jt.poolAddress]);let or=this.paresSwapData(dr,s.input_amount,s.fix_amount_a,sr,Lt,Ut,Yt,er),ar=y(s.input_amount).mul(mt);if(y(s.input_amount).sub(or.preAmountTotal).gt(ar)){let ur={clmm_pool:jt.poolAddress,curSqrtPrice:jt.current_sqrt_price.toString(),a2b:sr,amount_a:y(sr?$t:0),amount_b:y(sr?0:s.input_amount),amount_left:y(sr?nr.toFixed(0):0),amount_right:y(sr?$t:nr.toFixed(0)),lowerTick:Lt,upperTick:Ut,tick_spacing:2,coinTypeA:Nt.coinTypeA,coinTypeB:Nt.coinTypeB,remainRate:.02,priceSplitPoint:Dt,useRoute:nt,maxLoopLimit:at};dr=et&&Vt<=Ut?await this.calculateRebalance(ur):await this.findRouters(jt.poolAddress,jt.current_sqrt_price.toString(),sr?jt.coinTypeA:jt.coinTypeB,sr?jt.coinTypeB:jt.coinTypeA,nr,!0,[jt.poolAddress])}br=dr.after_sqrt_price,or=this.paresSwapData(dr,s.input_amount,s.fix_amount_a,sr,Lt,Ut,Yt,er),vr=or.fixAmountA,yr=or.swapInAmount,$r=or.swapOutAmount,br=or.afterSqrtPrice}let wr=vr===Ct?y($t).sub(yr).toFixed(0):$r,fr=M$1.estLiquidityAndcoinAmountFromOneAmounts(Lt,Ut,new bnExports.BN(wr),vr,!0,Dt,new bnExports.BN(br)),_r=fr.coinAmountA.toString(),ir=fr.coinAmountB.toString(),rr=B.get_lp_amount_by_liquidity(Ft,fr.liquidityAmount.toString());return{request_id:s.input_amount,side:"oneSide",amount_a:_r,amount_b:ir,amount_limit_a:fr.tokenMaxA.toString(),amount_limit_b:fr.tokenMaxB.toString(),ft_amount:rr,fix_amount_a:vr,swap_result:{swap_in_amount:yr,swap_out_amount:$r,a2b:Ct,sui_stake_protocol:Sr,route_obj:dr.route_obj,is_exceed:dr.is_exceed,afterSqrtPrice:br}}}catch(wt){if(nt&&(String(wt)==="Error: route unavailable"||String(wt)==="Error: router timeout"))return await this.calculateDepositAmountFromOneSide(s,a,!1);throw wt}}paresSwapData(s,a,et,nt,at,mt,wt,$t){let Ct=s.after_sqrt_price,Dt=x.sqrtPriceX64ToTickIndex(new bnExports.BN(Ct)),{ratioA:Ft,ratioB:jt}=B.calculateDepositRatio(at,mt,new bnExports.BN(Ct)),Nt=jt.div(Ft).sub($t.div(wt)).greaterThan("0"),Lt=s.amount_in&&s.fee_amount?new bnExports.BN(s.amount_in).add(new bnExports.BN(s.fee_amount)).toString():s.amount_in,Ut=s.amount_out,Vt=Nt===nt?new bnExports.BN(y(a).sub(Lt).toString()):new bnExports.BN(Ut),Yt=y(a);if(Dt<at)Nt=!0;else if(Dt>mt)Nt=!1;else{let er=M$1.estLiquidityAndcoinAmountFromOneAmounts(at,mt,Vt,Nt,!0,0,new bnExports.BN(Ct)),tr=er.coinAmountA,nr=er.coinAmountB;Yt=y(et?tr.toString():nr.toString()).add(Lt),Yt.greaterThanOrEqualTo(a)&&(Nt=!Nt)}return{preAmountTotal:Yt,fixAmountA:Nt,swapInAmount:Lt,swapOutAmount:Ut,afterSqrtPrice:Ct}}async calculateStakeDepositFixSui(s){let a=s.inputSuiAmount.mul(s.remainRate),et=s.inputSuiAmount.sub(s.swapSuiAmount),nt;s.shouldRequestStake?nt=await this.getExchangeRateForStake(s.stakeProtocol,s.shouldRequestStake,Number(s.swapSuiAmount.toFixed(0))):nt=s.exchangeRate?s.exchangeRate:await this.getExchangeRateForStake(s.stakeProtocol,s.shouldRequestStake,Number(s.swapSuiAmount.toFixed(0)));let at=s.swapSuiAmount.div(nt).toFixed(0,Decimal$1.ROUND_DOWN),mt=M$1.estLiquidityAndcoinAmountFromOneAmounts(s.lowerTick,s.upperTick,new bnExports.BN(at.toString()),!s.fixCoinA,!0,0,new bnExports.BN(s.curSqrtPrice)),wt=s.fixCoinA?mt.coinAmountA.toString():mt.coinAmountB.toString(),$t=y(et).sub(wt);return $t.greaterThanOrEqualTo(0)&&$t.lessThanOrEqualTo(a)||s.rebalanceCount>12||s.leftSuiAmount.greaterThanOrEqualTo(s.rightSuiAmount)?{swapInAmount:s.swapSuiAmount.toFixed(0),swapOutAmount:at,afterSqrtPrice:s.curSqrtPrice,fixAmountA:!s.fixCoinA,is_exceed:!0,request_id:"",stake_protocol:s.stakeProtocol}:$t.lessThan(0)?await this.calculateStakeDepositFixSui({...s,rightSuiAmount:s.swapSuiAmount,swapSuiAmount:s.swapSuiAmount.add(s.leftSuiAmount).div(2),exchangeRate:nt,rebalanceCount:s.rebalanceCount+1}):$t.greaterThan(a)?await this.calculateStakeDepositFixSui({...s,leftSuiAmount:s.swapSuiAmount,swapSuiAmount:s.swapSuiAmount.add(s.rightSuiAmount).div(2),exchangeRate:nt,rebalanceCount:s.rebalanceCount+1}):null}async getExchangeRateForStake(s,a,et){return s==="Haedal"?await Ae.getExchangeRateForStake(this._sdk,a,et):s==="Volo"?await ve.getExchangeRateForStake(this._sdk,a,et):s==="aftermath"?await Ce.getExchangeRateForStake(this._sdk,a,et):"0"}async findRouters(s,a,et,nt,at,mt,wt,$t,Ct=!1){var Lt,Ut;let{aggregator:Dt}=this._sdk.sdkOptions,Ft=`${Dt.walletAddress}_getAggregatorClient`,jt=this.getCache(Ft,Ct),Nt;if(jt!==void 0)Nt=jt;else{let Vt=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});Nt=new AggregatorClient22({endpoint:Dt.endPoint,signer:Dt.walletAddress,client:Vt,env:Dt.env,pythUrls:Dt.pythUrls})}try{let Vt={from:et,target:nt,amount:new bnExports.BN(at.toFixed(0).toString()),byAmountIn:mt,depth:3,providers:Dt.providers};$t&&$t.poolID&&(Vt.liquidityChanges=[$t]);let Yt=await Nt.findRouters(Vt);if(((Lt=Yt==null?void 0:Yt.error)==null?void 0:Lt.code)===10001)return{...Yt,is_exceed:Yt.insufficientLiquidity};if(Yt!=null&&Yt.insufficientLiquidity)return{...Yt,is_exceed:Yt.insufficientLiquidity};if(!(Yt!=null&&Yt.routes)||((Ut=Yt==null?void 0:Yt.routes)==null?void 0:Ut.length)===0)throw Error("Aggregator no router");let er=a;return Yt.routes.forEach(tr=>{let nr=tr.path.find(sr=>sr.id.toLowerCase()===s.toLowerCase());nr&&nr.extendedDetails&&nr.extendedDetails.afterSqrtPrice&&(er=String(nr.extendedDetails.afterSqrtPrice))}),{amount_in:Yt.amountIn.toString(),amount_out:Yt.amountOut.toString(),is_exceed:Yt.insufficientLiquidity,after_sqrt_price:er,route_obj:Yt,byAmountIn:!0,liquidity:$t==null?void 0:$t.deltaLiquidity,originRes:Yt}}catch{try{if(wt){let Vt=await Nt.swapInPools({from:et,target:nt,amount:new bnExports.BN(at.toFixed(0).toString()),byAmountIn:mt,pools:wt});if(Vt){let Yt=a;return Vt.routeData.routes.forEach(er=>{let tr=er.path.find(nr=>nr.id.toLowerCase()===s.toLowerCase());tr&&(Yt=String(tr.extendedDetails.afterSqrtPrice))}),{amount_in:Vt.routeData.amountIn.toString(),amount_out:Vt.routeData.amountOut.toString(),is_exceed:Vt.isExceed,after_sqrt_price:Yt,route_obj:Vt.routeData,byAmountIn:!0,liquidity:$t==null?void 0:$t.deltaLiquidity,originRes:Vt}}return null}return null}catch{return null}}}async calculateRebalance(s){let{clmm_pool:a,a2b:et,curSqrtPrice:nt,amount_a:at,amount_b:mt,lowerTick:wt,upperTick:$t,amount_left:Ct,amount_right:Dt,coinTypeA:Ft,coinTypeB:jt,useRoute:Nt,priceSplitPoint:Lt,remainRate:Ut,maxLoopLimit:Vt=5}=s,Yt=async(er,tr,nr)=>{let sr=er.plus(tr).div(2),dr=await this.findRouters(a,nt,Ft,jt,sr,et,[a]);if(dr.amount_out==="0")return dr;if(dr.after_sqrt_price||(dr.after_sqrt_price=s.curSqrtPrice),dr.is_exceed)return tr=sr,Yt(er,tr,nr+1);let br=et?at.sub(dr.amount_in):at.add(dr.amount_out),vr=et?mt.add(dr.amount_out):mt.sub(dr.amount_in),yr=M$1.estLiquidityAndcoinAmountFromOneAmounts(wt,$t,new bnExports.BN(br.toString()),!0,!0,1,new bnExports.BN(dr.after_sqrt_price)),$r=new Decimal$1(yr.coinAmountA.toString()),Sr=new Decimal$1(yr.coinAmountB.toString());if($r.toString()!==br.toString())throw new Error("usedA does not match afterA");if(vr.lessThan(Sr))et?er=sr:tr=sr;else{et?tr=sr:er=sr;let wr=vr.sub(Sr);if(vr.mul(Ut).sub(wr).greaterThanOrEqualTo(0)||nr>=Vt)return{...dr,remainingB:wr}}return er.greaterThan(tr)||tr.sub(er).lessThan(10)?dr:Yt(er,tr,nr+1)};return Ct.greaterThanOrEqualTo(Dt)?Yt(new Decimal$1(0),Ct,0):Yt(Ct,Dt,0)}async calculateAmountFromBoth(s,a){let{vault_id:et,input_amount:nt,fix_amount_a:at,slippage:mt}=s,{vault:wt,pool:$t}=await this.getVaultAndPool(et),{position:Ct}=wt,Dt=Ct.tick_lower_index,Ft=Ct.tick_upper_index,jt=M$1.estLiquidityAndcoinAmountFromOneAmounts(Dt,Ft,new bnExports.BN(nt),at,a,mt,new bnExports.BN($t.current_sqrt_price)),Nt=B.get_lp_amount_by_liquidity(wt,jt.liquidityAmount.toString());return{request_id:s.input_amount,amount_a:jt.coinAmountA.toString(),amount_b:jt.coinAmountB.toString(),amount_limit_a:jt.tokenMaxA.toString(),amount_limit_b:jt.tokenMaxB.toString(),ft_amount:Nt,fix_amount_a:at,side:"both"}}async estLiquidityAmountFromFtAmount(s){let{vault_id:a,input_ft_amount:et,slippage:nt}=s,{vault:at,pool:mt}=await this.getVaultAndPool(a),{position:wt}=at,$t=wt.tick_lower_index,Ct=wt.tick_upper_index,Dt=x.tickIndexToSqrtPriceX64($t),Ft=x.tickIndexToSqrtPriceX64(Ct),jt=new bnExports.BN(et),Nt=B.get_share_liquidity_by_amount(at,jt.toString()),Lt=new bnExports.BN(mt.current_sqrt_price),Ut=M$1.getCoinAmountFromLiquidity(new bnExports.BN(Nt),Lt,Dt,Ft,!1),Vt=y(Ut.coinA.toString()).mul(y(1-nt)),Yt=y(Ut.coinB.toString()).mul(y(1-nt));return{amount_a:Ut.coinA.toString(),amount_b:Ut.coinB.toString(),amount_limit_a:Vt.toFixed(0),amount_limit_b:Yt.toFixed(0)}}async deposit(s){let{vault_id:a}=s,{vault:et,pool:nt}=await this.getVaultAndPool(a,!0),at=await this.calculateDepositAmount(s,!0,!0),mt=new Transaction,wt,$t;if(s.side==="oneSide"&&at.swap_result){let Ft=await this.handleDepositSwap({...at,coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,slippage:s.slippage,clmm_pool:nt.poolAddress},mt);wt=Ft.primaryCoinAInputs,$t=Ft.primaryCoinBInputs}let{amount_a:Ct,amount_b:Dt}=at;return s.side==="oneSide"&&s.fix_amount_a&&(Ct=y(at.amount_a).mul(y(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString(),Dt=y(at.amount_b).mul(y(1).sub(.001)).toFixed(0,Decimal$1.ROUND_DOWN).toString()),await this.depositInternal({coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,lp_token_type:et.lp_token_type,farming_pool:et.position.pool_id,clmm_pool:nt.poolAddress,primaryCoinAInputs:wt,primaryCoinBInputs:$t,vault_id:a,slippage:s.slippage,amount_a:at.fix_amount_a?Ct:at.amount_limit_a,amount_b:at.fix_amount_a?at.amount_limit_b:Dt,fix_amount_a:at.fix_amount_a},mt),mt}async handleDepositSwap(s,a){let et=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress),{clmm_pool:nt,integrate:at}=this._sdk.sdkOptions,{swap_in_amount:mt,a2b:wt,sui_stake_protocol:$t,route_obj:Ct}=s.swap_result,Dt=wt?s.coinTypeA:s.coinTypeB,Ft=z$1.buildCoinForAmount(a,et,BigInt(mt),Dt,!1,!0),jt=BigInt(Ft.tragetCoinAmount)-BigInt(mt),Nt=[];if($t!=="Cetus"){let er=this.requestStakeCoin($t,a,Ft.targetCoin),tr=z$1.buildCoinForAmount(a,Ft.remainCoins,BigInt(0),Dt,!1).targetCoin;Nt=wt?[tr,er]:[er,tr]}else if(Ct){let er={routers:Ct,inputCoin:Ft.targetCoin,slippage:s.slippage,txb:a,partner:s.partner},{aggregator:tr}=this._sdk.sdkOptions,nr=`${tr.walletAddress}_getAggregatorClient`,sr=this.getCache(nr,!1),dr;if(sr!==void 0)dr=sr;else{let vr=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});dr=new AggregatorClient22({endpoint:tr.endPoint,signer:tr.walletAddress,client:vr,env:tr.env,pythUrls:tr.pythUrls})}let br=await dr.fixableRouterSwap(er);Nt=wt?[Ft.originalSplitedCoin,br]:[br,Ft.originalSplitedCoin]}else{let er=z$1.buildCoinForAmount(a,et,0n,wt?s.coinTypeB:s.coinTypeA,!1),tr=ne.getDefaultSqrtPriceLimit(wt).toString();Nt=a.moveCall({target:`${at.published_at}::${Je}::swap`,typeArguments:[s.coinTypeA,s.coinTypeB],arguments:[a.object($(nt).global_config_id),a.object(s.clmm_pool),wt?Ft.targetCoin:er.targetCoin,wt?er.targetCoin:Ft.targetCoin,a.pure.bool(wt),a.pure.bool(!0),a.pure.u64(mt),a.pure.u128(tr),a.pure.bool(!1),a.object(ye$1)]})}let Lt,Ut,Vt=Nt[0],Yt=Nt[1];if(wt){let er=BigInt(s.amount_a)-jt;I.isSuiCoin(Dt)?(Ct||a.transferObjects([Vt],a.pure.address(this._sdk.getVerifySenderAddress())),Lt=a.splitCoins(a.gas,[a.pure.u64(s.amount_a)])):er>0n?Lt=this.buildCoinInput(a,Ft.remainCoins,Dt,er,Vt).coinInput:Lt=Vt,Ut=Yt}else{Lt=Vt;let er=BigInt(s.amount_b)-jt;I.isSuiCoin(Dt)?(Ct||a.transferObjects([Yt],a.pure.address(this._sdk.getVerifySenderAddress())),Ut=a.splitCoins(a.gas,[a.pure.u64(s.amount_b)])):er>0n?Ut=this.buildCoinInput(a,Ft.remainCoins,Dt,er,Yt).coinInput:Ut=Yt}return{primaryCoinAInputs:Lt,primaryCoinBInputs:Ut}}requestStakeCoin(s,a,et){if(s==="Haedal")return Ae.requestStakeCoin(this._sdk,a,et);if(s==="Volo")return ve.requestStakeCoin(this._sdk,a,et);if(s==="aftermath")return Ce.requestStakeCoin(this._sdk,a,et)}async depositInternal(s,a){var Ft,jt;let{vaults:et,frams:nt,clmm_pool:at}=this._sdk.sdkOptions,mt=$(et),wt=$(nt),$t=$(at),{primaryCoinAInputs:Ct,primaryCoinBInputs:Dt}=s;if(Ct===void 0||Dt===void 0){let Nt=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress);Ct=(Ft=z$1.buildAddLiquidityFixTokenCoinInput(a,!s.fix_amount_a,s.amount_a,s.slippage,s.coinTypeA,Nt,!1))==null?void 0:Ft.targetCoin,Dt=(jt=z$1.buildAddLiquidityFixTokenCoinInput(a,s.fix_amount_a,s.amount_b,s.slippage,s.coinTypeB,Nt,!1))==null?void 0:jt.targetCoin}a.moveCall({target:`${et.published_at}::${It}::deposit`,typeArguments:[s.coinTypeA,s.coinTypeB,s.lp_token_type],arguments:[a.object(mt.vaults_manager_id),a.object(s.vault_id),a.object(wt.rewarder_manager_id),a.object(wt.global_config_id),a.object(s.farming_pool),a.object($t.global_config_id),a.object(s.clmm_pool),Ct,Dt,a.pure.u64(s.amount_a),a.pure.u64(s.amount_b),a.pure.bool(s.fix_amount_a),a.object(ye$1)]})}async withdraw(s){let a="is_ft_input"in s,{vault:et,pool:nt}=await this.getVaultAndPool(s.vault_id,!0),at=new Transaction,mt,wt,$t,Ct;if(a)Ct=await this._sdk.Vaults.calculateWithdrawAmount({...s,side:"oneSide"}),wt=Ct.amount_limit_a,$t=Ct.amount_limit_b,mt=s.is_ft_input?s.input_amount:Ct.burn_ft_amount;else{let{vault_id:jt,ft_amount:Nt,slippage:Lt}=s;mt=Nt;let Ut=await this.estLiquidityAmountFromFtAmount({vault_id:jt,input_ft_amount:Nt,slippage:Lt});wt=Ut.amount_limit_a,$t=Ut.amount_limit_b}let{reciveCoinA:Dt,reciveCoinB:Ft}=await this.withdrawInternal({coinTypeA:nt.coinTypeA,coinTypeB:nt.coinTypeB,lp_token_type:et.lp_token_type,farming_pool:et.position.pool_id,clmm_pool:nt.poolAddress,min_amount_a:wt,min_amount_b:$t,vault_id:s.vault_id,ft_amount:mt},at);if(a&&Ct){let{a2b:jt,swap_in_amount:Nt,route_obj:Lt}=Ct.swap_result;if(Lt){let Ut={targetCoin:jt?Dt:Ft},Vt={routers:Lt,inputCoin:Ut.targetCoin,slippage:s.slippage,txb:at,partner:s.partner},{aggregator:Yt}=this._sdk.sdkOptions,er=`${Yt.walletAddress}_getAggregatorClient`,tr=this.getCache(er,!1),nr;if(tr!==void 0)nr=tr;else{let br=new SuiClient({url:this.sdk.sdkOptions.fullRpcUrl});nr=new AggregatorClient22({endpoint:Yt.endPoint,signer:Yt.walletAddress,client:br,env:Yt.env,pythUrls:Yt.pythUrls})}let sr=await nr.fixableRouterSwap(Vt),dr=jt?[Ut.targetCoin,sr]:[sr,Ut.targetCoin];jt?at.mergeCoins(dr[1],[Ft]):at.mergeCoins(dr[0],[Dt]),at.transferObjects([sr],at.pure.address(this._sdk.getVerifySenderAddress()))}else{let{clmm_pool:Ut,integrate:Vt}=this._sdk.sdkOptions,Yt=ne.getDefaultSqrtPriceLimit(jt).toString(),er=at.moveCall({target:`${Vt.published_at}::${Je}::swap`,typeArguments:[nt.coinTypeA,nt.coinTypeB],arguments:[at.object($(Ut).global_config_id),at.object(nt.poolAddress),Dt,Ft,at.pure.bool(jt),at.pure.bool(!0),at.pure.u64(Nt),at.pure.u128(Yt),at.pure.bool(!0),at.object(ye$1)]});at.transferObjects([er[0],er[1]],at.pure.address(this._sdk.senderAddress))}}else at.transferObjects([Dt,Ft],at.pure.address(this._sdk.senderAddress));return at}async withdrawInternal(s,a){let{vaults:et,frams:nt,clmm_pool:at}=this._sdk.sdkOptions,mt=$(et),wt=$(nt),$t=$(at),{primaryCoinInputs:Ct}=s;if(Ct===void 0){let jt=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,s.lp_token_type);Ct=z$1.buildCoinForAmount(a,jt,BigInt(s.ft_amount),s.lp_token_type,!1,!0).targetCoin}let Dt=[s.coinTypeA,s.coinTypeB,s.lp_token_type],Ft=a.moveCall({target:`${et.published_at}::${xt}::remove`,typeArguments:Dt,arguments:[a.object(mt.vaults_manager_id),a.object(s.vault_id),a.object(wt.rewarder_manager_id),a.object(wt.global_config_id),a.object(s.farming_pool),a.object($t.global_config_id),a.object(s.clmm_pool),Ct,a.pure.u64(s.ft_amount),a.pure.u64(s.min_amount_a),a.pure.u64(s.min_amount_b),a.object(ye$1)]});return a.transferObjects([Ct],a.pure.address(this._sdk.senderAddress)),{reciveCoinA:Ft[0],reciveCoinB:Ft[1]}}async getVaultAndPool(s,a=!1){let et=await this.sdk.Vaults.getVault(s);if(et===void 0)throw new Error("please check config and vault id");let nt=await this._sdk.Pool.getPool(et.pool_id,a);return{vault:et,pool:nt}}async getVaultList(s="all"){let{vaults_pool_handle:a}=$(this._sdk.sdkOptions.vaults),et=await this._sdk.fullClient.getDynamicFields({parentId:a}),nt=et.data.map(wt=>wt.name.value),at=await this._sdk.fullClient.batchGetObjects(nt,{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}),mt=[];return at.forEach(wt=>{let $t=B.buildPool(wt);$t&&($t.stake_protocol=this.findStakeProtocol($t.position.coinTypeA,$t.position.coinTypeB),this.savePoolToCache($t),mt.push($t))}),et.data=mt,et}findStakeProtocol(s,a){let{haedal:et,volo:nt,aftermath:at}=$(this._sdk.sdkOptions.vaults),mt=P(s).full_address,wt=P(a).full_address;if(I.isSuiCoin(mt)||I.isSuiCoin(wt)){if(et){let $t=P($(et).coin_type).full_address;if(mt===$t||wt===$t)return"Haedal"}if(nt){let $t=P($(nt).coin_type).full_address;if(mt===$t||wt===$t)return"Volo"}if(at){let $t=P($(at).coin_type).full_address;if(mt===$t||wt===$t)return"aftermath"}}}async getVault(s,a=!1){let et=this.readPoolFromCache(s,a);if(et)return et;try{let nt=await this._sdk.fullClient.getObject({id:s,options:{showType:!0,showContent:!0,showDisplay:!0,showOwner:!0}}),at=B.buildPool(nt);if(at)return this.savePoolToCache(at),at}catch(nt){console.log(nt)}}savePoolToCache(s){let a=`${s.id}_mirrorPool`;this.updateCache(a,s,ee)}readPoolFromCache(s,a=!1){let et=`${s}_mirrorPool`;return this.getCache(et,a)}findSuiStakeProtocol(s,a,et){let{haedal:nt,volo:at,aftermath:mt}=$(this._sdk.sdkOptions.vaults),wt=P(s).full_address,$t=P(a).full_address;if(I.isSuiCoin(wt)&&et||I.isSuiCoin($t)&&!et){if(nt){let Ct=P($(nt).coin_type).full_address;if(wt===Ct||$t===Ct)return"Haedal"}if(at){let Ct=P($(at).coin_type).full_address;if(wt===Ct||$t===Ct)return"Volo"}if(mt){let Ct=P($(mt).coin_type).full_address;if(wt===Ct||$t===Ct)return"aftermath"}}return"Cetus"}buildCoinInput(s,a,et,nt,at){let{selectedCoins:mt,remainingCoins:wt}=I.selectCoinAssetGreaterThanOrEqual(a,BigInt(nt)),$t=I.calculateTotalBalance(mt);if($t<BigInt(nt))throw new Error(`The amount(${$t}) is Insufficient balance for ${et} , expect ${nt} `);let Ct=$t-BigInt(nt),Dt;if(I.isSuiCoin(et))Dt=s.splitCoins(s.gas,[s.pure.u64(nt)]);else{let[Ft,...jt]=mt.map(Nt=>Nt.coinObjectId);Dt=s.object(Ft),jt.length>0?at?s.mergeCoins(Dt,[...jt.map(Nt=>s.object(Nt)),at]):s.mergeCoins(Dt,[...jt.map(Nt=>s.object(Nt))]):at&&s.mergeCoins(Dt,[at])}return{selectedUnusedAmount:Ct,coinInput:Dt,remainingCoins:wt}}async getVaultsConfigs(s=!1){let{package_id:a}=this._sdk.sdkOptions.vaults,et=`${a}_getMirrorPoolConfigs`,nt=this.getCache(et,s);if(nt!==void 0)return nt;let at=(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${a}::vaults::InitEvent`})).data,mt={admin_cap_id:"",vaults_manager_id:"",vaults_pool_handle:""};if(at.length>0){for(let wt of at){let $t=wt.parsedJson;mt.admin_cap_id=$t.admin_cap_id,mt.vaults_manager_id=$t.manager_id;let Ct=await this._sdk.fullClient.getObject({id:mt.vaults_manager_id,options:{showContent:!0}}),Dt=se$1(Ct);mt.vaults_pool_handle=Dt.vault_to_pool_maps.fields.id.id;break}this.updateCache(et,mt,ee)}return mt}updateCache(s,a,et=ee){let nt=this._cache[s];nt?(nt.overdueTime=oe(et),nt.value=a):nt=new _e$1(a,oe(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s];if(!a&&(et!=null&&et.isValid()))return et.value;delete this._cache[s]}},Fe=class{constructor(s){sn(this,"_sdk");sn(this,"_cache",{});this._sdk=s}get sdk(){return this._sdk}async getPoolImmutables(s=[],a=0,et=100,nt=!1){let{package_id:at}=this._sdk.sdkOptions.clmm_pool,mt=`${at}_getInitPoolEvent`,wt=this.getCache(mt,nt),$t=[],Ct=[];if(wt!==void 0&&$t.push(...wt),$t.length===0)try{(await this._sdk.fullClient.queryEventsByPage({MoveEventType:`${at}::factory::CreatePoolEvent`})).data.forEach(Ft=>{let jt=Ft.parsedJson;jt&&$t.push({poolAddress:jt.pool_id,tickSpacing:jt.tick_spacing,coinTypeA:P(jt.coin_type_a).full_address,coinTypeB:P(jt.coin_type_b).full_address})}),this.updateCache(mt,$t,ee)}catch(Ft){console.log("getPoolImmutables",Ft)}let Dt=s.length>0;for(let Ft=0;Ft<$t.length;Ft+=1){let jt=$t[Ft];Dt&&!s.includes(jt.poolAddress)||!Dt&&(Ft<a||Ft>=a+et)||Ct.push(jt)}return Ct}async getPools(s=[],a=0,et=100){var wt,$t,Ct;let nt=[],at=[];s.length>0?at=[...s]:(await this.getPoolImmutables([],a,et,!1)).forEach(Dt=>at.push(Dt.poolAddress));let mt=await this._sdk.fullClient.batchGetObjects(at,{showContent:!0,showType:!0});for(let Dt of mt){if(Dt.error!=null||(($t=(wt=Dt.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new Z(`getPools error code: ${((Ct=Dt.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object ids`,"InvalidPoolObject");let Ft=We(Dt);nt.push(Ft);let jt=`${Ft.poolAddress}_getPoolObject`;this.updateCache(jt,Ft,ee)}return nt}async getPool(s,a=!0){var wt,$t,Ct;let et=`${s}_getPoolObject`,nt=this.getCache(et,a);if(nt!==void 0)return nt;let at=await this._sdk.fullClient.getObject({id:s,options:{showType:!0,showContent:!0}});if(at.error!=null||(($t=(wt=at.data)==null?void 0:wt.content)==null?void 0:$t.dataType)!=="moveObject")throw new Z(`getPool error code: ${((Ct=at.error)==null?void 0:Ct.code)??"unknown error"}, please check config and object id`,"InvalidPoolObject");let mt=We(at);return this.updateCache(et,mt),mt}async getSuiTransactionResponse(s,a=!1){let et=`${s}_getSuiTransactionResponse`,nt=this.getCache(et,a);if(nt!==void 0)return nt;let at;try{at=await this._sdk.fullClient.getTransactionBlock({digest:s,options:{showEvents:!0,showEffects:!0,showBalanceChanges:!0,showInput:!0,showObjectChanges:!0}})}catch{at=await this._sdk.fullClient.getTransactionBlock({digest:s,options:{showEvents:!0,showEffects:!0}})}return this.updateCache(et,at,ee),at}updateCache(s,a,et=yt){let nt=this._cache[s];nt?(nt.overdueTime=oe(et),nt.value=a):nt=new _e$1(a,oe(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}},Ee=class extends SuiClient{async queryEventsByPage(s,a="all"){let et=[],nt=!0,at=a==="all",mt=at?null:a.cursor;do{let wt=await this.queryEvents({query:s,cursor:mt,limit:at?null:a.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async getOwnedObjectsByPage(s,a,et="all"){let nt=[],at=!0,mt=et==="all",wt=mt?null:et.cursor;do{let $t=await this.getOwnedObjects({owner:s,...a,cursor:wt,limit:mt?null:et.limit});$t.data?(nt=[...nt,...$t.data],at=$t.hasNextPage,wt=$t.nextCursor):at=!1}while(mt&&at);return{data:nt,nextCursor:wt,hasNextPage:at}}async getDynamicFieldsByPage(s,a="all"){let et=[],nt=!0,at=a==="all",mt=at?null:a.cursor;do{let wt=await this.getDynamicFields({parentId:s,cursor:mt,limit:at?null:a.limit});wt.data?(et=[...et,...wt.data],nt=wt.hasNextPage,mt=wt.nextCursor):nt=!1}while(at&&nt);return{data:et,nextCursor:mt,hasNextPage:nt}}async batchGetObjects(s,a,et=50){let nt=[];try{for(let at=0;at<Math.ceil(s.length/et);at++){let mt=await this.multiGetObjects({ids:s.slice(at*et,et*(at+1)),options:a});nt=[...nt,...mt]}}catch(at){console.log(at)}return nt}async calculationTxGas(s){let{sender:a}=s.blockData;if(a===void 0)throw Error("sdk sender is empty");let et=await this.devInspectTransactionBlock({transactionBlock:s,sender:a}),{gasUsed:nt}=et.effects;return Number(nt.computationCost)+Number(nt.storageCost)-Number(nt.storageRebate)}async sendTransaction(s,a){try{return await this.signAndExecuteTransaction({transaction:a,signer:s,options:{showEffects:!0,showEvents:!0}})}catch(et){console.log("error: ",et)}}async sendSimulationTransaction(s,a,et=!0){try{if(et)return await this.devInspectTransactionBlock({transactionBlock:s,sender:a})}catch(nt){console.log("devInspectTransactionBlock error",nt)}}},ae=class{constructor(s){sn(this,"_cache",{});sn(this,"_rpcModule");sn(this,"_vaults");sn(this,"_sdkOptions");sn(this,"_senderAddress","");sn(this,"_pool");this._sdkOptions=s,this._rpcModule=new Ee({url:s.fullRpcUrl}),this._vaults=new De(this),this._pool=new Fe(this),Xe(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(s){this._senderAddress=s}get fullClient(){return this._rpcModule}get sdkOptions(){return this._sdkOptions}get Vaults(){return this._vaults}get Pool(){return this._pool}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this clmm config sdk senderAddess is illegal");return this.senderAddress}async getOwnerCoinAssets(s,a,et=!0){let nt=[],at=null,mt=`${this.sdkOptions.fullRpcUrl}_${s}_${a}_getOwnerCoinAssets`,wt=this.getCache(mt,et);if(wt)return wt;for(;;){let $t=await(a?this.fullClient.getCoins({owner:s,coinType:a,cursor:at}):this.fullClient.getAllCoins({owner:s,cursor:at}));if($t.data.forEach(Ct=>{BigInt(Ct.balance)>0&&nt.push({coinAddress:P(Ct.coinType).source_address,coinObjectId:Ct.coinObjectId,balance:BigInt(Ct.balance)})}),at=$t.nextCursor,!$t.hasNextPage)break}return this.updateCache(mt,nt,30*1e3),nt}async getOwnerCoinBalances(s,a){let et=[];return a?et=[await this.fullClient.getBalance({owner:s,coinType:a})]:et=[...await this.fullClient.getAllBalances({owner:s})],et}updateCache(s,a,et=ee){let nt=this._cache[s];nt?(nt.overdueTime=oe(et),nt.value=a):nt=new _e$1(a,oe(et)),this._cache[s]=nt}getCache(s,a=!1){let et=this._cache[s],nt=et==null?void 0:et.isValid();if(!a&&nt)return et.value;nt||delete this._cache[s]}};getFullnodeUrl("mainnet"),Env.Mainnet;getFullnodeUrl("testnet"),Env.Mainnet;/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

ss-linked-list/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-queue/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)

ss-stack/dist/index.esm.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/var R=10n;function z(s){let{fields:a,type:et}=s,{liquidity_range:nt,pool_id:at,wrapped_position:mt}=a.clmm_vault.fields,wt=mt.fields,$t={clmm_pool_id:at,liquidity_range:{lower_offset:nt.fields.lower_offset,rebalance_threshold:nt.fields.rebalance_threshold,upper_offset:nt.fields.upper_offset},wrapped_position:{coin_type_a:fixCoinType(wt.coin_type_a.fields.name,!1),coin_type_b:fixCoinType(wt.coin_type_b.fields.name,!1),description:wt.description,id:wt.id.id,index:wt.index,liquidity:wt.liquidity,name:wt.name,pool:wt.pool,tick_lower_index:asIntN(BigInt(wt.tick_lower_index.fields.bits)),tick_upper_index:asIntN(BigInt(wt.tick_upper_index.fields.bits)),url:wt.url}},{balances:Ct}=a.buffer_assets.fields,Dt=Ct.fields.contents.map(Ft=>{let{key:jt,value:Nt}=Ft.fields;return{coin_type:fixCoinType(jt.fields.name,!1),value:Nt}});return{id:a.id.id,is_pause:a.is_pause,clmm_vault:$t,lp_token_treasury:a.lp_token_treasury.fields.total_supply.fields.value,protocol_fees_handle:a.protocol_fees.fields.id.id,hard_cap:a.hard_cap,quote_type:extractStructTagFromType$1(a.quote_type.fields.name).full_address,lp_token_type:extractStructTagFromType$1(et).type_arguments[0],balances:Dt,protocol_fee_rate:a.protocol_fee_rate}}function se(s,a){let et=d$3(s).div(a).toString(),nt=d$3(a).div(s).toString();return{quote_per_base:et,base_per_quote:nt}}function Oe(s,a,et,nt){let at=10n**(R+nt-et),mt=10n**(R+et-nt),wt=MathUtil.checkMulDivFloor(new BN(s.toString()),new BN(at.toString()),new BN(a.toString()),64),$t=MathUtil.checkMulDivFloor(new BN(a.toString()),new BN(mt.toString()),new BN(s.toString()),64);return{primitive_base_price:BigInt(wt.toString()),primitive_quote_price:BigInt($t.toString())}}function J(s,a){let et=a?s[a].price:{coin_decimals:6,oracle_price:1000000000000000000000000n},nt=new BN("0");for(let[at,{price:mt,value:wt}]of Object.entries(s)){let{primitive_quote_price:$t}=Oe(BigInt(et.oracle_price),BigInt(mt.oracle_price),BigInt(et.coin_decimals),BigInt(mt.coin_decimals)),Ct=MathUtil.checkMulDivFloor(new BN($t.toString()),new BN(wt),new BN((BigInt(10)**R).toString()),64);nt=nt.add(Ct)}return nt.toString()}async function ce(s,a,et,nt,at=!1){let{clmm_vault:mt,quote_type:wt}=a,{wrapped_position:$t}=mt,{tick_lower_index:Ct,tick_upper_index:Dt,liquidity:Ft}=$t,{current_sqrt_price:jt,coinTypeA:Nt,coinTypeB:Lt}=et,Ut=[...nt],Vt=wt&&fixCoinType(a.quote_type,!1),Yt=TickMath.tickIndexToSqrtPriceX64(Ct),er=TickMath.tickIndexToSqrtPriceX64(Dt),{coinA:tr,coinB:nr}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Ft),new BN(jt),new BN(Yt),new BN(er),!1);Ut.push({coin_type:Nt,value:tr.toString()}),Ut.push({coin_type:Lt,value:nr.toString()});let sr={};Ut.forEach(yr=>{let $r=fixCoinType(yr.coin_type,!1),Sr=d$3(yr.value),wr=sr[$r]||0;sr[$r]=Sr.add(wr).toString()});let dr=Object.entries(sr).filter(([yr,$r])=>d$3($r).gt(0)).map(([yr])=>yr);if(Vt&&!dr.includes(Vt)&&dr.push(Vt),dr.length===0)return"0";let br=await s.sdk.PythPrice.getLatestPrice(dr,at),vr={};return dr.forEach(yr=>{let $r=br[yr];if($r)vr[yr]={price:$r,value:sr[yr]||"0"};else throw Error(`find ${yr} price fail `)}),J(vr,Vt).toString()}function de(s,a,et){return d$3(s).eq(0)?a:d$3(s).mul(a).div(et).toFixed(0,Decimal$1.ROUND_HALF_UP)}function q(s,a,et){return d$3(s).eq(0)?"0":d$3(a).mul(et).div(s).toFixed(0,Decimal$1.ROUND_HALF_UP)}function K(s,a){let{balances:et,lp_token_treasury:nt}=a,at={};return et.forEach(mt=>{let wt=q(nt,s,mt.value),$t={coin_type:mt.coin_type,value:wt};at[$t.coin_type]=$t}),at}function le(s,a,et,nt){var tr,nr;let{tick_lower_index:at,tick_upper_index:mt,coin_type_a:wt,coin_type_b:$t,liquidity:Ct}=et.clmm_vault.wrapped_position,Dt=q(et.lp_token_treasury,a,Ct),Ft=TickMath.tickIndexToSqrtPriceX64(at),jt=TickMath.tickIndexToSqrtPriceX64(mt),Nt=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Dt),new BN(nt.current_sqrt_price),Ft,jt,!0),Lt=Nt.coinA.toString(),Ut=Nt.coinB.toString(),Vt=K(a,et);console.log(" ~ buildVaultsBalance:",{share_buffer_assets:Vt,liquidity_amount_a:Lt,liquidity_amount_b:Ut,token_amount:a,pool:et});let Yt=d$3(Lt).add(((tr=Vt[wt])==null?void 0:tr.value)||"0").toFixed(0),er=d$3(Ut).add(((nr=Vt[$t])==null?void 0:nr.value)||"0").toFixed(0);return{vault_id:et.id,clmm_pool_id:nt.poolAddress,owner:s,lp_token_type:et.lp_token_type,lp_token_balance:a,liquidity:Dt,tick_lower_index:at,tick_upper_index:mt,amount_a:Yt,amount_b:er,coin_type_a:wt,coin_type_b:$t}}function G(s,a,et){let nt=[];return a.forEach(at=>{d$3(at.value).gt(0)&&nt.push(at)}),et.forEach(at=>{d$3(at.value).gt(0)&&nt.push(at)}),s.balances.forEach(at=>{d$3(at.value).gt(0)&&nt.push(at)}),nt}function ue(s,a,et){let{coin_type_a:nt,coin_type_b:at}=s.clmm_vault.wrapped_position,mt=G(s,a,et),wt=new Set;return mt.forEach($t=>wt.add($t.coin_type)),wt.add(nt),wt.add(at),Array.from(wt)}function pe(s,a){if(!R)throw new Error("oraclePriceMultiplierDecimal is required");if(s===0n)throw new Error("Invalid oracle price");if(a<0n){let et=10n**(R- -a);return s*et}return s/10n**(a+R)}function _e(s){return`0x${Buffer$1.from(s).toString("hex")}`}var W=class{constructor(s){sn(this,"_sdk");this._sdk=s}get sdk(){return this._sdk}async getProtocolFeeRate(){let s="getProtocolFeeRate",a=this._sdk.getCache(s);if(a)return a;let{configs:et}=this._sdk.sdkOptions.vaults,nt=(await this._sdk.FullClient.getObject({id:et.global_config_id,options:{showContent:!0}})).data.content.fields.protocol_fee_rate;return this._sdk.updateCache(s,nt),nt}async getOwnerVaultsBalance(s,a){let{pool:et,clmmPool:nt}=await this.getVaultAndPool(a,!0),at=(await this._sdk.FullClient.getBalance({owner:s,coinType:et.lp_token_type})).totalBalance;return le(s,at,et,nt)}async getOwnerVaultsBalanceList(s){let{data:a}=await this.getPoolList(),et=[];for(let nt=0;nt<a.length;nt++){let at=await this.getOwnerVaultsBalance(s,a[nt].id);et.push(at)}return et}async getVaultsPositionRewarderAndFee(s){try{let{package_id:a}=this._sdk.sdkOptions.vaults,{pool:et,clmmPool:nt}=await this.getVaultAndPool(s,!1),at=`getVaultsPositionRewarderAndFee_${s}`,mt=this._sdk.getCache(at);if(mt)return mt;let{lp_token_type:wt}=et,{rewarder_infos:$t,poolAddress:Ct,coinTypeA:Dt,coinTypeB:Ft}=nt,jt=new Transaction;this.buildCollectRewardPayload({reward_coin_types:[...$t.map(er=>er.coinAddress)],lp_token_type:wt,pool_id:s,clmm_pool_id:Ct,coin_type_a:Dt,coin_type_b:Ft},jt),this.buildCollectFeePayload({lp_token_type:wt,pool_id:s,clmm_pool_id:Ct,coin_type_a:Dt,coin_type_b:Ft},jt);let Nt=await this._sdk.FullClient.sendSimulationTransaction(jt,normalizeSuiAddress$1("0x0")),Lt=`${a}::pool::FeeClaimedEvent`,Ut=`${a}::pool::RewardClaimedEvent`,Vt=[],Yt=[];return Nt==null||Nt.events.forEach(er=>{let{parsedJson:tr,type:nr}=er;nr===Lt&&(Vt.push({coin_type:fixCoinType(Dt,!1),value:tr.amount_a}),Vt.push({coin_type:fixCoinType(Ft,!1),value:tr.amount_b})),nr===Ut&&Yt.push({coin_type:fixCoinType(tr.reward_type.name,!1),value:tr.amount})}),this._sdk.updateCache(at,{feeList:Vt,rewarderList:Yt},10*1e3),{feeList:Vt,rewarderList:Yt}}catch(a){console.log(" ~ VaultsModule ~ getVaultsPositionRewarderAndFee ~ error:",a)}return{feeList:[],rewarderList:[]}}async getPoolList(s="all"){let a={data:[],hasNextPage:!1},{vaults:et}=this._sdk.sdkOptions,{FullClient:nt}=this._sdk,at=await nt.getDynamicFieldsByPage(et.configs.pools_handle,s),mt=at.data.map(wt=>wt.name.value);return mt.length>0&&((await nt.batchGetObjects(mt,{showContent:!0})).forEach(wt=>{let $t=z(wt.data.content);this._sdk.updateCache(`getPool_${$t.id}`,$t),a.data.push($t)}),a.nextCursor=at.nextCursor,a.hasNextPage=at.hasNextPage),a}async getPool(s,a=!0){let et=`getPool_${s}`,nt=this._sdk.getCache(et,a);if(nt)return nt;let at=await this._sdk.FullClient.getObject({id:s,options:{showContent:!0}}),mt=z(at.data.content);return this._sdk.updateCache(et,mt),mt}buildCollectRewardPayload(s,a){let{coin_type_a:et,coin_type_b:nt,pool_id:at,clmm_pool_id:mt,lp_token_type:wt,reward_coin_types:$t}=s,{published_at:Ct,configs:Dt,clmm_configs:Ft}=this._sdk.sdkOptions.vaults;return a=a||new Transaction,$t.forEach(jt=>{a.moveCall({target:`${Ct}::pool::collect_reward`,typeArguments:[et,nt,wt,jt],arguments:[a.object(at),a.object(Dt.global_config_id),a.object(Ft.global_config_id),a.object(mt),a.object(Ft.global_vault_id),a.object(CLOCK_ADDRESS$1)]})}),a}buildCollectFeePayload(s,a){let{coin_type_a:et,coin_type_b:nt,pool_id:at,clmm_pool_id:mt,lp_token_type:wt}=s,{published_at:$t,configs:Ct,clmm_configs:Dt}=this._sdk.sdkOptions.vaults;return a=a||new Transaction,a.moveCall({target:`${$t}::pool::collect_fee`,typeArguments:[et,nt,wt],arguments:[a.object(at),a.object(Ct.global_config_id),a.object(Dt.global_config_id),a.object(mt)]}),a}async buildDepositPayload(s,a){let{pool_id:et,amount_a:nt,amount_b:at}=s,{pool:mt,clmmPool:wt}=await this.getVaultAndPool(et,!0),{rewarderList:$t,feeList:Ct}=await this.getVaultsPositionRewarderAndFee(et),Dt=ue(mt,$t,Ct),{lp_token_type:Ft}=mt,{rewarder_infos:jt,poolAddress:Nt,coinTypeA:Lt,coinTypeB:Ut}=wt,Vt=$t.length>0?$t.filter(vr=>d$3(vr.value.toString()).gt(0)).map(vr=>fixCoinType(vr.coin_type,!1)):jt.map(vr=>fixCoinType(vr.coinAddress,!1)),{published_at:Yt,configs:er,clmm_configs:tr}=this._sdk.sdkOptions.vaults;a=a||new Transaction,a=this.buildCollectRewardPayload({reward_coin_types:Vt,lp_token_type:Ft,pool_id:et,clmm_pool_id:Nt,coin_type_a:Lt,coin_type_b:Ut},a),a=this.buildCollectFeePayload({lp_token_type:Ft,pool_id:et,clmm_pool_id:Nt,coin_type_a:Lt,coin_type_b:Ut},a),a=await this._sdk.PythPrice.buildUpdatePythPricePayload(Dt,a),a.moveCall({target:`${Yt}::pool::calculate_aum`,typeArguments:[Lt,Ut,Ft],arguments:[a.object(et),a.object(er.global_config_id),a.object(er.pyth_oracle_id),a.object(tr.global_config_id),a.object(Nt),a.object(CLOCK_ADDRESS$1)]});let nr=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Lt),sr=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Ut),dr=TransactionUtil.buildCoinForAmount(a,nr,BigInt(nt),Lt,!1,!0),br=TransactionUtil.buildCoinForAmount(a,sr,BigInt(at),Ut,!1,!0);return a.moveCall({target:`${Yt}::pool::deposit`,typeArguments:[Lt,Ut,Ft],arguments:[a.object(et),a.object(er.global_config_id),a.object(er.pyth_oracle_id),a.object(tr.global_config_id),a.object(Nt),dr.targetCoin,br.targetCoin,a.object(CLOCK_ADDRESS$1)]}),a}async buildWithdrawPayload(s,a){let{pool_id:et,burn_lp_amount:nt,mode:at,slippage:mt,partner:wt}=s,{pool:$t,clmmPool:Ct}=await this.getVaultAndPool(et,!0),{rewarderList:Dt}=await this.getVaultsPositionRewarderAndFee(et),{published_at:Ft,configs:jt,clmm_configs:Nt}=this._sdk.sdkOptions.vaults;a=a||new Transaction;let{lp_token_type:Lt,clmm_vault:Ut,lp_token_treasury:Vt}=$t,{rewarder_infos:Yt,poolAddress:er,coinTypeA:tr,coinTypeB:nr,liquidity:sr}=Ct,dr=Dt.length>0?Dt.filter(fr=>d$3(fr.value.toString()).gt(0)).map(fr=>fixCoinType(fr.coin_type,!1)):Yt.map(fr=>fixCoinType(fr.coinAddress,!1));a=this.buildCollectRewardPayload({reward_coin_types:dr,lp_token_type:Lt,pool_id:et,clmm_pool_id:er,coin_type_a:tr,coin_type_b:nr},a),a=this.buildCollectFeePayload({lp_token_type:Lt,pool_id:et,clmm_pool_id:er,coin_type_a:tr,coin_type_b:nr},a);let br=await this._sdk.getOwnerCoinAssets(this._sdk.senderAddress,Lt),vr=TransactionUtil.buildCoinForAmount(a,br,BigInt(nt),Lt,!1,!0),[yr,$r,Sr]=a.moveCall({target:`${Ft}::pool::withdraw`,typeArguments:[tr,nr,Lt],arguments:[a.object(et),a.object(jt.global_config_id),a.object(Nt.global_config_id),a.object(er),vr.targetCoin,a.object(CLOCK_ADDRESS$1)]}),wr=this.buildWithdrawBufferReward({reward_coin_types:dr.filter(fr=>![fixCoinType(tr,!1),fixCoinType(nr,!1)].includes(fr)),pool_id:et,withdraw_cert:Sr,lp_token_type:Lt},a);if(a.moveCall({target:`${Ft}::pool::destory_withdraw_cert`,typeArguments:[Lt],arguments:[a.object(et),a.object(jt.global_config_id),Sr]}),at!=="FixedOneSide"){if(mt===void 0)throw Error("the slippage is undefined");let fr=at==="OnlyCoinA",_r=fr?$r:yr,ir=q(Vt,nt,sr.toString());await this.handleWithSwap(a,_r,tr,nr,nt,et,fr,mt,wt,[{poolID:er,ticklower:Ut.wrapped_position.tick_lower_index,tickUpper:Ut.wrapped_position.tick_upper_index,deltaLiquidity:Number(ir)}]),a.transferObjects([fr?yr:$r,...wr],this._sdk.senderAddress)}else a.transferObjects([yr,$r,...wr],this._sdk.senderAddress);return a}async handleWithSwap(s,a,et,nt,at,mt,wt,$t,Ct,Dt){let{receive_amount_a:Ft,receive_amount_b:jt}=await this.preCalculateWithdrawAmount({pool_id:mt,mode:"FixedOneSide",burn_lp_amount:at}),Nt=wt?nt:et,Lt=wt?et:nt,Ut=wt?jt:Ft,Vt={from:Nt,target:Lt,amount:new BN(Ut),byAmountIn:!0,depth:3,splitAlgorithm:void 0,splitFactor:void 0,splitCount:void 0,providers:this._sdk.sdkOptions.providers,liquidityChanges:Dt},Yt=await this._sdk.AggregatorClient.findRouters(Vt);if(!Yt)throw Error("not find Router");if(Yt.error!==void 0)throw Error(`find Router error : ${Yt.error}`);let er={routers:Yt,inputCoin:a,slippage:$t,txb:s,partner:Ct},tr=await this._sdk.AggregatorClient.fixableRouterSwap(er);s.transferObjects([tr],s.pure.address(this._sdk.getVerifySenderAddress()))}buildWithdrawBufferReward({reward_coin_types:s,pool_id:a,withdraw_cert:et,lp_token_type:nt},at){let{published_at:mt,configs:wt}=this._sdk.sdkOptions.vaults;return s.map($t=>at.moveCall({target:`${mt}::pool::withdraw_buffer_reward`,typeArguments:[nt,$t],arguments:[at.object(a),at.object(wt.global_config_id),et]}))}async preCalculateDepositAmount(s,a){let{mode:et,pool_id:nt,uuid:at}=s,mt="0",wt="0",{pool:$t,clmmPool:Ct}=await this.getVaultAndPool(nt,!1);switch(et){case"FixedOneSide":{let{fixed_amount:Dt,fixed_coin_a:Ft}=s,{other_amount:jt}=this.calculateDepositOtherSide($t,Ct,Dt,Ft,a,at);Ft?(mt=Dt,wt=jt):(wt=Dt,mt=jt);break}case"FlexibleBoth":{let{coin_amount_a:Dt,coin_amount_b:Ft}=s;mt=Dt,wt=Ft,this.calculateDepositLpAmountBoth($t,Ct,Dt,Ft).then(jt=>{a.onSuccess(jt,at)}).catch(jt=>{a.onError(jt,at)});break}case"OnlyCoinA":{mt=s.coin_amount_a,this.calculateDepositLpAmountBoth($t,Ct,mt,"0").then(Dt=>{a.onSuccess(Dt,at)}).catch(Dt=>{a.onError(Dt,at)});break}case"OnlyCoinB":{wt=s.coin_amount_b,this.calculateDepositLpAmountBoth($t,Ct,"0",wt).then(Dt=>{a.onSuccess(Dt,at)}).catch(Dt=>{a.onError(Dt,at)});break}default:throw new Error(`Unsupported deposit mode: ${et}`)}return{deposit_amount_a:mt,deposit_amount_b:wt,mode:et}}async getVaultAndPool(s,a=!1){let et=await this.getPool(s,a);if(et===void 0)throw new Error("get vaults pool failed");let nt=await this._sdk.CetusClmmSDK.Pool.getPool(et.clmm_vault.clmm_pool_id,a);if(nt===void 0)throw new Error("get vaults clmmPool failed");return{clmmPool:nt,pool:et}}calculateDepositOtherSide(s,a,et,nt,at,mt){let{clmm_vault:wt}=s,{current_sqrt_price:$t}=a,Ct=wt.wrapped_position.tick_lower_index,Dt=wt.wrapped_position.tick_upper_index,Ft=ClmmPoolUtil.estLiquidityAndcoinAmountFromOneAmounts(Ct,Dt,new BN(et),nt,!0,1,new BN($t)),{coinAmountA:jt,coinAmountB:Nt}=Ft;return this.calculateDepositLpAmountBoth(s,a,jt.toString(),Nt.toString()).then(Lt=>{at.onSuccess(Lt,mt)}).catch(Lt=>{at.onError(Lt,mt)}),{other_amount:nt?Nt.toString():jt.toString()}}async calculateDepositLpAmountBoth(s,a,et,nt){let{lp_token_treasury:at,hard_cap:mt}=s,wt=fixCoinType(a.coinTypeA,!1),$t=fixCoinType(a.coinTypeB,!1),{rewarderList:Ct,feeList:Dt}=await this.getVaultsPositionRewarderAndFee(s.id),Ft=G(s,Dt,Ct),jt=await ce(this,s,a,Ft,!0),Nt=await this._sdk.PythPrice.getLatestPrice([wt,$t],!0),Lt=Nt[wt],Ut=Nt[$t];if(console.log(" ~ VaultsModule ~ calculateDepositLpAmountBoth ~ price:",{price_a:Lt,price_b:Ut}),!Lt)throw Error(`not find ${wt} price`);if(!Ut)throw Error(`not find ${$t} price`);let Vt={};Vt[wt]={price:Lt,value:et.toString()},Vt[$t]={price:Ut,value:nt.toString()};let Yt=J(Vt,s.quote_type),er=de(at,Yt,jt);return console.log(" ~ VaultsModule ~ calculateDepositLpAmountBoth :",{lp_token_treasury:at,userTvl:Yt,aum:jt,lp_amount:er}),er}async preCalculateWithdrawAmount(s){let{mode:a,pool_id:et}=s,nt="0",at="0",mt="0",wt="0",$t,{pool:Ct,clmmPool:Dt}=await this.getVaultAndPool(et,!1);switch(a){case"FixedOneSide":let Ft=await this.calculateWithdrawOtherSide(Ct,Dt,s.burn_lp_amount);mt=Ft.burn_lp_amount,nt=Ft.receive_amount_a,at=Ft.receive_amount_b,wt=Ft.remove_liquidity;break;case"OnlyCoinA":{let jt=await this.calculateWithdrawOnlyCoin(Ct,Dt,s.burn_lp_amount,!0);mt=jt.burn_lp_amount,nt=jt.receive_amount_a,at=jt.receive_amount_b,wt=jt.remove_liquidity,$t=jt.swap;break}case"OnlyCoinB":{let jt=await this.calculateWithdrawOnlyCoin(Ct,Dt,s.burn_lp_amount,!1);mt=jt.burn_lp_amount,nt=jt.receive_amount_a,at=jt.receive_amount_b,wt=jt.remove_liquidity,$t=jt.swap;break}default:throw new Error(`Unsupported withdraw mode: ${a}`)}return{remove_liquidity:wt,burn_lp_amount:mt,receive_amount_a:nt,receive_amount_b:at,mode:a,swap:$t}}async calculateWithdrawOtherSide(s,a,et){var nr,sr;let{clmm_vault:nt,lp_token_treasury:at}=s,{current_sqrt_price:mt}=a,{coin_type_a:wt,coin_type_b:$t}=s.clmm_vault.wrapped_position,Ct=nt.wrapped_position.tick_lower_index,Dt=nt.wrapped_position.tick_upper_index,Ft=nt.wrapped_position.liquidity,jt=TickMath.tickIndexToSqrtPriceX64(Ct),Nt=TickMath.tickIndexToSqrtPriceX64(Dt),Lt=q(at,et,Ft),{coinA:Ut,coinB:Vt}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Lt),new BN(mt),jt,Nt,!1),Yt=K(et,s),er=d$3(Ut.toString()).add(((nr=Yt[wt])==null?void 0:nr.value)||"0").toFixed(0),tr=d$3(Vt.toString()).add(((sr=Yt[$t])==null?void 0:sr.value)||"0").toFixed(0);return{receive_amount_a:er,receive_amount_b:tr,burn_lp_amount:et,mode:"FixedOneSide",remove_liquidity:Lt}}async calculateWithdrawOnlyCoin(s,a,et,nt){let{totalReceiveAmount:at,swapAmountIn:mt,swapAmountOut:wt,removeLiquidity:$t}=await this.calculateWithdrawOnlyCoinByLpAmount(s,a,nt,et);return{receive_amount_a:nt?at:"0",receive_amount_b:nt?"0":at,burn_lp_amount:et,remove_liquidity:$t,swap:{swap_amount_in:mt,swap_amount_out:wt},mode:"FixedOneSide"}}async calculateWithdrawOnlyCoinByLpAmount(s,a,et,nt){var ir,rr;let{clmm_vault:at,lp_token_treasury:mt}=s,{current_sqrt_price:wt}=a,{coin_type_a:$t,coin_type_b:Ct}=at.wrapped_position,Dt=at.wrapped_position.tick_lower_index,Ft=at.wrapped_position.tick_upper_index,jt=at.wrapped_position.liquidity,Nt=TickMath.tickIndexToSqrtPriceX64(Dt),Lt=TickMath.tickIndexToSqrtPriceX64(Ft),Ut=q(mt,nt,jt),{coinA:Vt,coinB:Yt}=ClmmPoolUtil.getCoinAmountFromLiquidity(new BN(Ut),new BN(wt),Nt,Lt,!1),er=await this._sdk.PythPrice.getLatestPrice([$t,Ct],!0),tr=er[$t],nr=er[Ct];if(!tr)throw Error(`not find ${$t} price`);if(!nr)throw Error(`not find ${Ct} price`);let sr=et?nr:tr,dr=et?tr:nr,{quote_per_base:br}=se(sr.price,dr.price),vr=K(nt,s),yr=d$3(Vt.toString()).add(((ir=vr[$t])==null?void 0:ir.value)||"0").toFixed(0),$r=d$3(Yt.toString()).add(((rr=vr[Ct])==null?void 0:rr.value)||"0").toFixed(0),Sr=et?yr:$r,wr=et?$r:yr,fr=toDecimalsAmount(d$3(fromDecimalsAmount(wr,et?nr.coin_decimals:tr.coin_decimals)).mul(br).toString(),et?tr.coin_decimals:nr.coin_decimals).toString(),_r=d$3(Sr).add(fr).toFixed(0);return{burn_lp_amount:nt,removeLiquidity:Ut,is_coin_a:et,originAmount:Sr,swapAmountIn:wr,swapAmountOut:d$3(fr).toFixed(0,Decimal$1.ROUND_DOWN),totalReceiveAmount:_r}}async getPackageConfigs(){let s={registry_id:"1",pools_handle:"",pyth_oracle_id:"1",oracle_infos_handle:"",prices_handle:"1",global_config_id:"1"},{package_id:a}=this._sdk.sdkOptions.vaults,et=await this._sdk.FullClient.getObject({id:a,options:{showPreviousTransaction:!0}}),nt=getObjectPreviousTransactionDigest(et);(await this._sdk.FullClient.queryEventsByPage({Transaction:nt})).data.forEach(Ct=>{let Dt=Ct.parsedJson;if(Ct.type)switch(extractStructTagFromType(Ct.type).full_address){case`${a}::pool::InitEvent`:s.registry_id=Dt.registry_id;break;case`${a}::pyth_oracle::InitEvent`:s.pyth_oracle_id=Dt.pyth_oracle_id;break;case`${a}::config::InitConfigEvent`:s.global_config_id=Dt.global_config;break}});let at=await this._sdk.FullClient.getObject({id:s.registry_id,options:{showContent:!0}}),mt=getObjectFields(at);s.pools_handle=mt.pools.fields.id.id;let wt=await this._sdk.FullClient.getObject({id:s.pyth_oracle_id,options:{showContent:!0}}),$t=getObjectFields(wt);return s.oracle_infos_handle=$t.oracle_infos.fields.id.id,s.prices_handle=$t.prices.fields.id.id,this._sdk.sdkOptions.vaults.configs=s,this._sdk.sdkOptions}},ge={"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC":{coin_type:"0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC",price_feed_id:"0xeaa020c61cc479712813461ce153894a96a6c00b21ed0cfc2798d1f9a9e9c94a",coin_decimals:6},"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":{coin_type:"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI",price_feed_id:"0x23d7315113f5b1d3ba7a83604c44b94d79f4fd69af77f804fc7f920a6dc65744",coin_decimals:9},"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS":{coin_type:"0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS",price_feed_id:"0xe5b274b2611143df055d6e7cd8d93fe1961716bcd4dca1cad87a83bc1e78c1ef",coin_decimals:9},"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP":{coin_type:"0xdeeb7a4662eec9f2f3def03fb937a663dddaa2e215b8078a284d026b7946c270::deep::DEEP",price_feed_id:"0x29bdd5248234e33bd93d3b81100b5fa32eaa5997843847e2c2cb16d7c6d9f7ff",coin_decimals:6},"0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX":{coin_type:"0xa99b8952d4f7d947ea77fe0ecdcc9e5fc0bcab2841d6e2a5aa00c3044e5544b5::navx::NAVX",price_feed_id:"0x88250f854c019ef4f88a5c073d52a18bb1c6ac437033f5932cd017d24917ab46",coin_decimals:9},"0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN":{coin_type:"0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN",price_feed_id:"0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43",coin_decimals:9},"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI":{coin_type:"0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI",price_feed_id:"0x6120ffcf96395c70aa77e72dcb900bf9d40dccab228efca59a17b90ce423d5e8",coin_decimals:9},"0xd0e89b2af5e4910726fbcd8b8dd37bb79b29e5f83f7491bca830e94f7f226d29::eth::ETH":{coin_type:"0xd0e89b2af5e4910726fbcd8b8dd37bb79b29e5f83f7491bca830e94f7f226d29::eth::ETH",price_feed_id:"0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace",coin_decimals:8}},ye={},Ve=(s=>(s.mainnet="mainnet",s.testnet="testnet",s))(Ve||{}),Pe=["CETUS","DEEPBOOK","KRIYA","KRIYAV3","FLOWX","FLOWXV3","AFTERMATH","HAEDAL","VOLO","AFSUI"],Re=16*1024,N=class{constructor(s){sn(this,"_sdk");sn(this,"connection");sn(this,"suiPythClient");let{pyth_configs:a}=s.sdkOptions.vaults,{pyth_state_id:et,wormhole_state_id:nt}=a;this._sdk=s;let{primary:at}=s.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(at.length===0)throw new Error("primary url is empty");this.connection=new lib$3.SuiPriceServiceConnection(at),this.suiPythClient=new lib$3.SuiPythClient(this._sdk.FullClient,et,nt)}get sdk(){return this._sdk}async getFeedInfoList(s){let a=s.map(et=>this.getFeedInfo(et,!1));return await Promise.all(a)}priceCheck(s,a=60){let et=Math.floor(Date.now()/1e3);if(!(Math.abs(et-s.last_update_time)>a))return s}async getLatestPrice(s,a=!1){var mt;let et={},nt=[];if(a?s.forEach(wt=>{let $t=this._sdk.getCache(`getLatestPrice_${wt}`);$t&&this.priceCheck($t,60)?et[wt]=$t:nt.push(wt)}):nt=[...s],nt.length===0)return et;let at=await this.getFeedInfoList(nt);return(mt=await this.getLatestPriceFeeds(at.map(wt=>wt.price_feed_id)))==null||mt.forEach((wt,$t)=>{let Ct=wt.getPriceUnchecked();if(Ct){let{price:Dt,expo:Ft}=Ct,jt=d$3(Dt).mul(d$3(10).pow(d$3(Ft))).toString(),Nt=at[$t],Lt={coin_type:Nt.coin_type,price:jt,coin_decimals:Nt.coin_decimals,oracle_price:0n,last_update_time:Ct.publishTime};Lt.oracle_price=pe(BigInt(Dt),BigInt(Ft)),et[nt[$t]]=Lt,this._sdk.updateCache(`getLatestPrice_${Lt.coin_type}`,Lt)}}),et}async getPriceFeedsUpdateData(s){try{return await this.connection.getPriceFeedsUpdateData(s)}catch{let{secondary:a}=this._sdk.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(a)return this.connection=new lib$3.SuiPriceServiceConnection(a),await this.connection.getPriceFeedsUpdateData(s)}}async getLatestPriceFeeds(s){try{return await this.connection.getLatestPriceFeeds(s)}catch{let{secondary:a}=this._sdk.sdkOptions.vaults.pyth_configs.hermes_service_urls;if(a)return this.connection=new lib$3.SuiPriceServiceConnection(a),await this.connection.getLatestPriceFeeds(s)}}async buildUpdatePythPricePayload(s,a){let{pyth_configs:et,published_at:nt,configs:at}=this._sdk.sdkOptions.vaults,{pyth_state_id:mt,pyth_published_at:wt,pyth_package_id:$t}=et,{global_config_id:Ct,pyth_oracle_id:Dt}=at,Ft=(await this.getFeedInfoList(s)).map(Yt=>Yt.price_feed_id);if(s.length!==Ft.length)throw Error("find feed id fail");let jt=await this.getPriceFeedsUpdateData(Ft);if(!jt)throw new Error("get price update data fail");if(jt.length>1)throw new Error("SDK does not support sending multiple accumulator messages in a single transaction");let Nt=this.suiPythClient.extractVaaBytesFromAccumulatorMessage(jt[0]),Lt=await this.suiPythClient.verifyVaas([Nt],a),[Ut]=a.moveCall({target:`${wt}::pyth::create_authenticated_price_infos_using_accumulator`,typeArguments:[],arguments:[a.object(mt),a.pure(suiBcs$1.vector(suiBcs$1.U8).serialize(Array.from(jt[0]),{maxSize:Re}).toBytes()),Lt[0],a.object(CLOCK_ADDRESS$1)]}),Vt=0;for(let Yt of Ft){let er=await this.suiPythClient.getPriceFeedObjectId(Yt);if(!er)throw new Error(`Price feed ${Yt} not found, please create it first`);[Ut]=a.moveCall({target:`${nt}::pyth_oracle::update_price`,typeArguments:[s[Vt]],arguments:[a.object(Dt),a.object(Ct),a.object(mt),Ut,a.object(er),a.object(CLOCK_ADDRESS$1)]}),Vt+=1}return a.moveCall({target:`${wt}::hot_potato_vector::destroy`,arguments:[Ut],typeArguments:[`${$t}::price_info::PriceInfo`]}),a}getFeedInfoByJson(s){let{env:a}=this._sdk.sdkOptions,et=fixCoinType(s,!1);return a==="mainnet"?ge[et]:ye[et]}async getFeedInfo(s,a){let et=`getFeedInfo_${s}`,nt=this._sdk.getCache(et,a);if(nt)return nt;let at=this.getFeedInfoByJson(s);if(at)return at;let{configs:mt}=this._sdk.sdkOptions.vaults,wt=await this._sdk.FullClient.getDynamicFieldObject({parentId:mt.oracle_infos_handle,name:{type:"0x1::type_name::TypeName",value:fixCoinType(s,!0)}}),{fields:$t}=wt.data.content.fields.value,Ct={coin_type:s,price_feed_id:_e($t.price_feed_id),coin_decimals:$t.coin_decimals};return console.log(" ~ PythPriceModule ~ getFeedInfo ~ info:",Ct),this._sdk.updateCache(et,Ct),Ct}},T=class{constructor(s){sn(this,"_cache",{});sn(this,"_sdkOptions");sn(this,"_senderAddress","");sn(this,"_vaults");sn(this,"_pythPrice");sn(this,"_aggregatorClient");sn(this,"_cetusClmmSDK");(!s.providers||s.providers.length===0)&&(s.providers=Pe),this._sdkOptions=s,this._cetusClmmSDK=s.env==="testnet"?initTestnetSDK(s.fullRpcUrl):initMainnetSDK(s.fullRpcUrl),this._vaults=new W(this),this._pythPrice=new N(this);let{primary:a,secondary:et}=s.vaults.pyth_configs.hermes_service_urls,nt=[a,et].filter(Boolean);this._aggregatorClient=new AggregatorClient22({endpoint:s.aggregatorUrl,signer:normalizeSuiAddress$1("0x0"),client:new SuiClient({url:s.fullRpcUrl}),env:s.env==="testnet"?Env.Testnet:Env.Mainnet,pythUrls:nt}),patchFixSuiObjectId(this._sdkOptions)}get senderAddress(){return this._senderAddress}set senderAddress(s){this._senderAddress=s,this.CetusClmmSDK.senderAddress=s}get sdkOptions(){return this._sdkOptions}get Vaults(){return this._vaults}get PythPrice(){return this._pythPrice}get FullClient(){return this._cetusClmmSDK.fullClient}get AggregatorClient(){return this._aggregatorClient}get CetusClmmSDK(){return this._cetusClmmSDK}getVerifySenderAddress(){if(this.senderAddress.length===0||!isValidSuiAddress$1(this.senderAddress))throw Error("this sdk senderAddress is illegal");return this.senderAddress}async getOwnerCoinAssets(s,a,et=!0){return await this._cetusClmmSDK.getOwnerCoinAssets(s,a,et)}async getOwnerCoinBalances(s,a){return await this._cetusClmmSDK.getOwnerCoinBalances(s,a)}updateCache(s,a,et=cacheTime24h){this.CetusClmmSDK.updateCache(s,a,et)}getCache(s,a=!1){return this.CetusClmmSDK.getCache(s,a)}},si=T;const store=(s,a)=>({peripherySdk:new Et(envConfigs$1.periphery_sdk_options,new src_default(envConfigs$1.clmm_sdk_options)),setPeripherySdk:et=>{s(()=>({peripherySdk:et}))},burnSdk:new _$1(envConfigs$1.burn_sdk_options),setBurnSdk:et=>{s(()=>({burnSdk:et}))},vaultsSdk:new ae(envConfigs$1.vaults_sdk_options),setVaultsSDK:et=>{s(()=>({vaultsSdk:et}))},xCetusSdk:new xt$1(envConfigs$1.xcetus_sdk_options),setXCetusSdk:et=>{s(()=>({xCetusSdk:et}))},volatileVaultsSdk:new si(envConfigs$1.volatile_vaults_sdk_options),setVolatileVaultsSdk:et=>{s(()=>({volatileVaultsSdk:et}))}}),usePeripherySDKStore=create$3(store);function useInterval({interval:s,callback:a}){const et=reactExports.useRef(),nt=reactExports.useRef(null);reactExports.useEffect(()=>{et.current=a},[a]);const at=reactExports.useCallback(()=>{nt.current&&clearInterval(nt.current),s>0&&(nt.current=setInterval(()=>{et.current&&et.current(Date.now())},s))},[s]),mt=reactExports.useCallback(()=>{nt.current&&(clearInterval(nt.current),nt.current=null)},[]);return reactExports.useEffect(()=>(at(),()=>mt()),[]),{startTimer:at,stopTimer:mt}}function useSigner(){const{clmmSdk:s}=useClmmSDKStore(),{currentAccount:a}=useAccountStore(),{mutateAsync:et}=useSignTransaction(),{mutate:nt}=useSignPersonalMessage(),{mutate:at}=useSignAndExecuteTransaction({execute:async({bytes:Ft,signature:jt})=>await wt(Ft,jt)}),mt=reactExports.useMemo(()=>envConfigs$1.env==="mainnet"?"sui:mainnet":"sui:testnet",[a]),wt=async(Ft,jt,Nt=!1)=>{var Ut,Vt;if(Nt){const Yt=await s.fullClient.devInspectTransactionBlock({transactionBlock:Transaction.from(fromBase64(Ft)),sender:a.address});if(console.log("devInspectTransactionBlock:",Yt),!Yt||((Ut=Yt.effects)==null?void 0:Ut.status.status)==="failure")throw Error((Vt=Yt.effects)==null?void 0:Vt.status.error)}return await s.fullClient.executeTransactionBlock({transactionBlock:Ft,signature:jt,options:{showEvents:!0,showRawEffects:!0,showEffects:!0,showBalanceChanges:!0,showObjectChanges:!0,showInput:!0}})};return{signAndExecuteTransactionBlock:async(Ft,jt=!1)=>{var Lt,Ut;let Nt;if(typeof Ft=="string"?Nt=Transaction.from(Ft):Nt=Ft,console.log("chain: ",{chain:mt,transactionBlock:Ft}),jt){const Vt=await s.fullClient.devInspectTransactionBlock({transactionBlock:Ft,sender:a.address});if(console.log("devInspectTransactionBlock:",Vt),!Vt||((Lt=Vt.effects)==null?void 0:Lt.status.status)==="failure")throw Error((Ut=Vt.effects)==null?void 0:Ut.status.error)}return Nt.setGasBudget(1e8),console.log(" ~ file: useSigner.ts:71 ~ signTransactionBlock ~ transactionBlock:",Ft),new Promise((Vt,Yt)=>{at({transaction:Nt,chain:mt},{onSuccess:er=>{console.log(" signAndExecuteTransactionBlock  executed transaction",er),Vt(er)},onError:er=>{console.error("signAndExecuteTransactionBlock transaction failed",er),Yt(er)}})})},signTransactionBlock:async Ft=>(console.log(" ~ file: useSigner.ts:74 ~ signTransactionBlock ~ transactionBlock:",Ft instanceof Uint8Array,Ft),Ft instanceof Uint8Array&&(Ft=Transaction.from(Ft)),typeof Ft=="string"&&(Ft=Transaction.from(fromBase64(Ft))),console.log(" ~ file: useSigner.ts:105 ~ signTransactionBlock ~ transactionBlock:",{transactionBlock:Ft,chain:mt}),new Promise((jt,Nt)=>{et({transaction:Ft,chain:mt},{onSuccess:Lt=>{console.log("signTransactionBlock result",Lt),jt(Lt)},onError:Lt=>{console.error("signTransactionBlock failed",Lt),Nt(Lt)},onSettled:(Lt,Ut,Vt,Yt)=>{}})})),executeTransactionBlock:wt,signUserMessage:async Ft=>(console.log(" ~ useSigner.ts:167 ~ signUserMessage ~ message:",Ft),console.log(" ~ useSigner.ts:167 ~ returnnewPromise ~ currentAccount:",a),new Promise((jt,Nt)=>{nt({message:Ft},{onSuccess:Lt=>{console.log("signUserMessage result",Lt),jt(Lt)},onError:Lt=>{console.error("signUserMessage failed",Lt),Nt(Lt)},onSettled:(Lt,Ut,Vt,Yt)=>{}})}))}}const isMenuActive=(s,a)=>a.startsWith(s.path)||!!s.children&&s.children.some(et=>isMenuActive(et,a)),getCroppedImg=(s,a,et,nt="image/jpeg")=>new Promise((at,mt)=>{const wt=new Image;wt.src=s,wt.crossOrigin="anonymous",wt.onload=()=>{const $t=document.createElement("canvas"),Ct=$t.getContext("2d");$t.width=a.width,$t.height=a.height,Ct.drawImage(wt,a.x,a.y,a.width,a.height,0,0,a.width,a.height),$t.toDataURL(nt),$t.toBlob(Dt=>{if(Dt){const Ft=new File([Dt],et,{type:nt});at(Ft)}},nt)},wt.onerror=$t=>{mt($t)}}),calcNumber=s=>typeof s=="string"&&s.includes("px")?parseInt(s.replace("px","")):s.toString(),replaceFilename=(s,a)=>{const et=new Blob([s],{type:s.type});return new File([et],a,{type:s.type,lastModified:s.lastModified})},ExcludeCNCharRegex=/^[^\u4e00-\u9fa5]+$/,ExcludeSpecialCharRegex=/^[a-zA-Z0-9\s]+$/,SymbolExcludeSpecialCharRegex=/^[a-zA-Z0-9_]+$/,SymbolLimitRegex=/^[A-Z][A-Za-z_0-9]*$/,BlankSpaceRegex=/\s/,WebSiteUrlRegex=/^(https?:\/\/)?(www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(\/[^\s]*)?$/,XUrlRegex=/^(https?:\/\/)?(www\.)?x\.com\/([a-zA-Z0-9_\/\-]*)$/,DiscordRegex=/^(https?:\/\/)?(www\.)?discord\.com(\/[a-zA-Z0-9_\/\-]*)?$/,TelegramRegex=/^(https?:\/\/)?(www\.)?(t\.me|telegram\.org)(\/[a-zA-Z0-9_\-]*)?$/;function SelectTab(s){const{type:a,tabList:et,currentTab:nt,isActive:at,handleChangeTab:mt,wrapStyle:wt={h:"60px",p:"8px"},itemStyle:$t={fontSize:"14px"},...Ct}=s,{isApp:Dt}=useWindowWidth(),Ft=jt=>at?at(nt,jt):nt===(jt.key||jt.label);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[a==="outlineTab"&&jsxRuntimeExports.jsx(Flex,{bg:"bg_secondary",borderRadius:"12px",border:"1px solid",borderColor:"border",...wt,children:et==null?void 0:et.map(jt=>{const Nt=Ft(jt);return jsxRuntimeExports.jsxs(Flex,{borderRadius:"4px",align:"center",justify:"center",cursor:"pointer",bg:Nt?"card_bg":"none",onClick:()=>mt(jt),...$t,children:[jt.imgInfo&&(jt!=null&&jt.isToken?jsxRuntimeExports.jsx(SingleCoinImage,{...jt.imgInfo,imageUrl:jt.imgInfo.src}):jsxRuntimeExports.jsx(Image$1,{...jt.imgInfo,src:jt.imgInfo.src})),jt.beforeIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Nt})}):jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Nt})),jsxRuntimeExports.jsx(Text,{fontSize:$t.fontSize,whiteSpace:"nowrap",color:Nt?"primary":"primary_gray",_hover:{color:Dt?"none":"primary"},children:jt!=null&&jt.isToken?textEllipses(jt.label,10):jt.label}),(jt==null?void 0:jt.num)!==""&&((jt==null?void 0:jt.num)||Number(jt==null?void 0:jt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:jt==null?void 0:jt.num}),jt.afterIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Nt})}):jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Nt}))]},(jt==null?void 0:jt.key)||jt.label)})}),a==="borderTab"&&jsxRuntimeExports.jsx(Flex,{borderRadius:"12px",bg:"bg_secondary",border:"1px solid",borderColor:"border",...wt,children:et==null?void 0:et.map(jt=>jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"center",cursor:"pointer",onClick:()=>mt(jt),...$t,...Ct,children:[jt.imgInfo&&jsxRuntimeExports.jsx(Image$1,{...jt.imgInfo,src:jt.imgInfo.src,mr:"8px"}),jt.beforeIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ft(jt)})}):jsxRuntimeExports.jsx(Icon,{...jt.beforeIcon,isActive:Ft(jt)})),jsxRuntimeExports.jsx(Text,{color:(at?at(nt,jt):nt==(jt.key||jt.label))?"primary":"primary_gray",fontSize:$t.fontSize,h:$t.fontSize,lineHeight:$t.fontSize,position:"relative",sx:Object.assign({_hover:{color:"primary"},_before:(at?at(nt,jt):nt==(jt.key||jt.label))?{content:"''",width:"20px",height:"2px",background:"primary",position:"absolute",left:"calc(50% - 10px)",bottom:-d$2(calcNumber(wt.h)).minus(calcNumber($t.fontSize||"14px")).div(2).toString()+"px"}:{}},($t==null?void 0:$t.sx)||{}),children:jt.label}),(jt==null?void 0:jt.num)!==""&&((jt==null?void 0:jt.num)||Number(jt==null?void 0:jt.num)==0)&&jsxRuntimeExports.jsx(Block,{w:"unset",lineHeight:"1",ml:"8px",p:"2px 6px",borderRadius:"8px",fontSize:"12px",color:"primary",children:jt==null?void 0:jt.num}),jt.afterIcon&&(jt!=null&&jt.tooltip?jsxRuntimeExports.jsx(TooltipCon,{tooltip:jt.tooltip,children:jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ft(jt)})}):jsxRuntimeExports.jsx(Icon,{...jt.afterIcon,isActive:Ft(jt)})),(jt==null?void 0:jt.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-30px",top:"10px",h:"12px"})]},(jt==null?void 0:jt.key)||jt.label))})]})}const TooltipCon=({children:s,tooltip:a})=>jsxRuntimeExports.jsx(CetusTooltip,{placement:"bottom-end",tooltip:jsxRuntimeExports.jsx(Text,{fontSize:"12px",lineHeight:"20px",children:a}),children:jsxRuntimeExports.jsx(Center,{children:s})});function SearchInput({inputValue:s,changeInputValue:a,isFrom:et="",inputFontSize:nt="sm",isWidget:at=!1}){const mt=reactExports.useRef(null),{isApp:wt}=useWindowWidth();return reactExports.useEffect(()=>{wt||mt.current.focus()},[wt]),jsxRuntimeExports.jsxs(InputGroup,{children:[jsxRuntimeExports.jsx(Input,{_hover:{bg:at?"swap_bg_secondary":"bg_secondary"},bg:at?"swap_bg_secondary":"bg_secondary",ref:mt,borderRadius:"8px",h:"36px",border:"none",variant:"outline",value:s,onChange:$t=>{a($t.target.value)},fontWeight:"500",textAlign:"left",fontSize:nt,placeholder:"Search by token or address",pr:et=="pools"?"22px":{base:"28px",md:"28px",lg:"28px"},pl:et=="pools"?"8px":{md:"12px",lg:"16px"}}),jsxRuntimeExports.jsx(InputRightElement,{children:s?jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",position:"absolute",top:"8px",right:et=="pools"?"4px":"8px",onClick:$t=>{$t.stopPropagation(),a("")}}):null})]})}var _populated=!1,_ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile;function _populate(){if(!_populated){_populated=!0;var s=navigator.userAgent,a=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(s),et=/(Mac OS X)|(Windows)|(Linux)/.exec(s);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(s),_ipad=/\b(iP[ao]d)/.exec(s),_android=/Android/i.exec(s),_native=/FBAN\/\w+;/i.exec(s),_mobile=/Mobile/i.exec(s),_win64=!!/Win64/.exec(s),a){_ie=a[1]?parseFloat(a[1]):a[5]?parseFloat(a[5]):NaN,_ie&&document&&document.documentMode&&(_ie=document.documentMode);var nt=/(?:Trident\/(\d+.\d+))/.exec(s);_ie_real_version=nt?parseFloat(nt[1])+4:_ie,_firefox=a[2]?parseFloat(a[2]):NaN,_opera=a[3]?parseFloat(a[3]):NaN,_webkit=a[4]?parseFloat(a[4]):NaN,_webkit?(a=/(?:Chrome\/(\d+\.\d+))/.exec(s),_chrome=a&&a[1]?parseFloat(a[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if(et){if(et[1]){var at=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(s);_osx=at?parseFloat(at[1].replace("_",".")):!0}else _osx=!1;_windows=!!et[2],_linux=!!et[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED$1={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED$1.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED$1.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}},UserAgent_DEPRECATED_1=UserAgent_DEPRECATED$1,canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),ExecutionEnvironment$1={canUseDOM},ExecutionEnvironment_1=ExecutionEnvironment$1,ExecutionEnvironment=ExecutionEnvironment_1,useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function isEventSupported$1(s,a){if(!ExecutionEnvironment.canUseDOM||a&&!("addEventListener"in document))return!1;var et="on"+s,nt=et in document;if(!nt){var at=document.createElement("div");at.setAttribute(et,"return;"),nt=typeof at[et]=="function"}return!nt&&useHasFeature&&s==="wheel"&&(nt=document.implementation.hasFeature("Events.wheel","3.0")),nt}var isEventSupported_1=isEventSupported$1,UserAgent_DEPRECATED=UserAgent_DEPRECATED_1,isEventSupported=isEventSupported_1,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel$2(s){var a=0,et=0,nt=0,at=0;return"detail"in s&&(et=s.detail),"wheelDelta"in s&&(et=-s.wheelDelta/120),"wheelDeltaY"in s&&(et=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(a=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(a=et,et=0),nt=a*PIXEL_STEP,at=et*PIXEL_STEP,"deltaY"in s&&(at=s.deltaY),"deltaX"in s&&(nt=s.deltaX),(nt||at)&&s.deltaMode&&(s.deltaMode==1?(nt*=LINE_HEIGHT,at*=LINE_HEIGHT):(nt*=PAGE_HEIGHT,at*=PAGE_HEIGHT)),nt&&!a&&(a=nt<1?-1:1),at&&!et&&(et=at<1?-1:1),{spinX:a,spinY:et,pixelX:nt,pixelY:at}}normalizeWheel$2.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"};var normalizeWheel_1=normalizeWheel$2,normalizeWheel=normalizeWheel_1;const normalizeWheel$1=getDefaultExportFromCjs$2(normalizeWheel);function getCropSize(s,a,et,nt,at,mt){mt===void 0&&(mt=0);var wt=rotateSize(s,a,mt),$t=wt.width,Ct=wt.height,Dt=Math.min($t,et),Ft=Math.min(Ct,nt);return Dt>Ft*at?{width:Ft*at,height:Ft}:{width:Dt,height:Dt/at}}function getMediaZoom(s){return s.width>s.height?s.width/s.naturalWidth:s.height/s.naturalHeight}function restrictPosition(s,a,et,nt,at){at===void 0&&(at=0);var mt=rotateSize(a.width,a.height,at),wt=mt.width,$t=mt.height;return{x:restrictPositionCoord(s.x,wt,et.width,nt),y:restrictPositionCoord(s.y,$t,et.height,nt)}}function restrictPositionCoord(s,a,et,nt){var at=a*nt/2-et/2;return clamp(s,-at,at)}function getDistanceBetweenPoints(s,a){return Math.sqrt(Math.pow(s.y-a.y,2)+Math.pow(s.x-a.x,2))}function getRotationBetweenPoints(s,a){return Math.atan2(a.y-s.y,a.x-s.x)*180/Math.PI}function computeCroppedArea(s,a,et,nt,at,mt,wt){mt===void 0&&(mt=0),wt===void 0&&(wt=!0);var $t=wt?limitArea:noOp,Ct=rotateSize(a.width,a.height,mt),Dt=rotateSize(a.naturalWidth,a.naturalHeight,mt),Ft={x:$t(100,((Ct.width-et.width/at)/2-s.x/at)/Ct.width*100),y:$t(100,((Ct.height-et.height/at)/2-s.y/at)/Ct.height*100),width:$t(100,et.width/Ct.width*100/at),height:$t(100,et.height/Ct.height*100/at)},jt=Math.round($t(Dt.width,Ft.width*Dt.width/100)),Nt=Math.round($t(Dt.height,Ft.height*Dt.height/100)),Lt=Dt.width>=Dt.height*nt,Ut=Lt?{width:Math.round(Nt*nt),height:Nt}:{width:jt,height:Math.round(jt/nt)},Vt=__assign$1(__assign$1({},Ut),{x:Math.round($t(Dt.width-Ut.width,Ft.x*Dt.width/100)),y:Math.round($t(Dt.height-Ut.height,Ft.y*Dt.height/100))});return{croppedAreaPercentages:Ft,croppedAreaPixels:Vt}}function limitArea(s,a){return Math.min(s,Math.max(0,a))}function noOp(s,a){return a}function getInitialCropFromCroppedAreaPercentages(s,a,et,nt,at,mt){var wt=rotateSize(a.width,a.height,et),$t=clamp(nt.width/wt.width*(100/s.width),at,mt),Ct={x:$t*wt.width/2-nt.width/2-wt.width*$t*(s.x/100),y:$t*wt.height/2-nt.height/2-wt.height*$t*(s.y/100)};return{crop:Ct,zoom:$t}}function getZoomFromCroppedAreaPixels(s,a,et){var nt=getMediaZoom(a);return et.height>et.width?et.height/(s.height*nt):et.width/(s.width*nt)}function getInitialCropFromCroppedAreaPixels(s,a,et,nt,at,mt){et===void 0&&(et=0);var wt=rotateSize(a.naturalWidth,a.naturalHeight,et),$t=clamp(getZoomFromCroppedAreaPixels(s,a,nt),at,mt),Ct=nt.height>nt.width?nt.height/s.height:nt.width/s.width,Dt={x:((wt.width-s.width)/2-s.x)*Ct,y:((wt.height-s.height)/2-s.y)*Ct};return{crop:Dt,zoom:$t}}function getCenter(s,a){return{x:(a.x+s.x)/2,y:(a.y+s.y)/2}}function getRadianAngle(s){return s*Math.PI/180}function rotateSize(s,a,et){var nt=getRadianAngle(et);return{width:Math.abs(Math.cos(nt)*s)+Math.abs(Math.sin(nt)*a),height:Math.abs(Math.sin(nt)*s)+Math.abs(Math.cos(nt)*a)}}function clamp(s,a,et){return Math.min(Math.max(s,a),et)}function classNames(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return s.filter(function(et){return typeof et=="string"&&et.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=function(s){__extends$1(a,s);function a(){var et=s!==null&&s.apply(this,arguments)||this;return et.cropperRef=reactExports.createRef(),et.imageRef=reactExports.createRef(),et.videoRef=reactExports.createRef(),et.containerPosition={x:0,y:0},et.containerRef=null,et.styleRef=null,et.containerRect=null,et.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},et.dragStartPosition={x:0,y:0},et.dragStartCrop={x:0,y:0},et.gestureZoomStart=0,et.gestureRotationStart=0,et.isTouching=!1,et.lastPinchDistance=0,et.lastPinchRotation=0,et.rafDragTimeout=null,et.rafPinchTimeout=null,et.wheelTimer=null,et.currentDoc=typeof document<"u"?document:null,et.currentWindow=typeof window<"u"?window:null,et.resizeObserver=null,et.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},et.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!et.containerRef)){var nt=!0;et.resizeObserver=new window.ResizeObserver(function(at){if(nt){nt=!1;return}et.computeSizes()}),et.resizeObserver.observe(et.containerRef)}},et.preventZoomSafari=function(nt){return nt.preventDefault()},et.cleanEvents=function(){et.currentDoc&&(et.currentDoc.removeEventListener("mousemove",et.onMouseMove),et.currentDoc.removeEventListener("mouseup",et.onDragStopped),et.currentDoc.removeEventListener("touchmove",et.onTouchMove),et.currentDoc.removeEventListener("touchend",et.onDragStopped),et.currentDoc.removeEventListener("gesturemove",et.onGestureMove),et.currentDoc.removeEventListener("gestureend",et.onGestureEnd),et.currentDoc.removeEventListener("scroll",et.onScroll))},et.clearScrollEvent=function(){et.containerRef&&et.containerRef.removeEventListener("wheel",et.onWheel),et.wheelTimer&&clearTimeout(et.wheelTimer)},et.onMediaLoad=function(){var nt=et.computeSizes();nt&&(et.emitCropData(),et.setInitialCrop(nt)),et.props.onMediaLoaded&&et.props.onMediaLoaded(et.mediaSize)},et.setInitialCrop=function(nt){if(et.props.initialCroppedAreaPercentages){var at=getInitialCropFromCroppedAreaPercentages(et.props.initialCroppedAreaPercentages,et.mediaSize,et.props.rotation,nt,et.props.minZoom,et.props.maxZoom),mt=at.crop,wt=at.zoom;et.props.onCropChange(mt),et.props.onZoomChange&&et.props.onZoomChange(wt)}else if(et.props.initialCroppedAreaPixels){var $t=getInitialCropFromCroppedAreaPixels(et.props.initialCroppedAreaPixels,et.mediaSize,et.props.rotation,nt,et.props.minZoom,et.props.maxZoom),mt=$t.crop,wt=$t.zoom;et.props.onCropChange(mt),et.props.onZoomChange&&et.props.onZoomChange(wt)}},et.computeSizes=function(){var nt,at,mt,wt,$t,Ct,Dt=et.imageRef.current||et.videoRef.current;if(Dt&&et.containerRef){et.containerRect=et.containerRef.getBoundingClientRect(),et.saveContainerPosition();var Ft=et.containerRect.width/et.containerRect.height,jt=((nt=et.imageRef.current)===null||nt===void 0?void 0:nt.naturalWidth)||((at=et.videoRef.current)===null||at===void 0?void 0:at.videoWidth)||0,Nt=((mt=et.imageRef.current)===null||mt===void 0?void 0:mt.naturalHeight)||((wt=et.videoRef.current)===null||wt===void 0?void 0:wt.videoHeight)||0,Lt=Dt.offsetWidth<jt||Dt.offsetHeight<Nt,Ut=jt/Nt,Vt=void 0;if(Lt)switch(et.state.mediaObjectFit){default:case"contain":Vt=Ft>Ut?{width:et.containerRect.height*Ut,height:et.containerRect.height}:{width:et.containerRect.width,height:et.containerRect.width/Ut};break;case"horizontal-cover":Vt={width:et.containerRect.width,height:et.containerRect.width/Ut};break;case"vertical-cover":Vt={width:et.containerRect.height*Ut,height:et.containerRect.height};break}else Vt={width:Dt.offsetWidth,height:Dt.offsetHeight};et.mediaSize=__assign$1(__assign$1({},Vt),{naturalWidth:jt,naturalHeight:Nt}),et.props.setMediaSize&&et.props.setMediaSize(et.mediaSize);var Yt=et.props.cropSize?et.props.cropSize:getCropSize(et.mediaSize.width,et.mediaSize.height,et.containerRect.width,et.containerRect.height,et.props.aspect,et.props.rotation);return((($t=et.state.cropSize)===null||$t===void 0?void 0:$t.height)!==Yt.height||((Ct=et.state.cropSize)===null||Ct===void 0?void 0:Ct.width)!==Yt.width)&&et.props.onCropSizeChange&&et.props.onCropSizeChange(Yt),et.setState({cropSize:Yt},et.recomputeCropPosition),et.props.setCropSize&&et.props.setCropSize(Yt),Yt}},et.saveContainerPosition=function(){if(et.containerRef){var nt=et.containerRef.getBoundingClientRect();et.containerPosition={x:nt.left,y:nt.top}}},et.onMouseDown=function(nt){et.currentDoc&&(nt.preventDefault(),et.currentDoc.addEventListener("mousemove",et.onMouseMove),et.currentDoc.addEventListener("mouseup",et.onDragStopped),et.saveContainerPosition(),et.onDragStart(a.getMousePoint(nt)))},et.onMouseMove=function(nt){return et.onDrag(a.getMousePoint(nt))},et.onScroll=function(nt){et.currentDoc&&(nt.preventDefault(),et.saveContainerPosition())},et.onTouchStart=function(nt){et.currentDoc&&(et.isTouching=!0,!(et.props.onTouchRequest&&!et.props.onTouchRequest(nt))&&(et.currentDoc.addEventListener("touchmove",et.onTouchMove,{passive:!1}),et.currentDoc.addEventListener("touchend",et.onDragStopped),et.saveContainerPosition(),nt.touches.length===2?et.onPinchStart(nt):nt.touches.length===1&&et.onDragStart(a.getTouchPoint(nt.touches[0]))))},et.onTouchMove=function(nt){nt.preventDefault(),nt.touches.length===2?et.onPinchMove(nt):nt.touches.length===1&&et.onDrag(a.getTouchPoint(nt.touches[0]))},et.onGestureStart=function(nt){et.currentDoc&&(nt.preventDefault(),et.currentDoc.addEventListener("gesturechange",et.onGestureMove),et.currentDoc.addEventListener("gestureend",et.onGestureEnd),et.gestureZoomStart=et.props.zoom,et.gestureRotationStart=et.props.rotation)},et.onGestureMove=function(nt){if(nt.preventDefault(),!et.isTouching){var at=a.getMousePoint(nt),mt=et.gestureZoomStart-1+nt.scale;if(et.setNewZoom(mt,at,{shouldUpdatePosition:!0}),et.props.onRotationChange){var wt=et.gestureRotationStart+nt.rotation;et.props.onRotationChange(wt)}}},et.onGestureEnd=function(nt){et.cleanEvents()},et.onDragStart=function(nt){var at,mt,wt=nt.x,$t=nt.y;et.dragStartPosition={x:wt,y:$t},et.dragStartCrop=__assign$1({},et.props.crop),(mt=(at=et.props).onInteractionStart)===null||mt===void 0||mt.call(at)},et.onDrag=function(nt){var at=nt.x,mt=nt.y;et.currentWindow&&(et.rafDragTimeout&&et.currentWindow.cancelAnimationFrame(et.rafDragTimeout),et.rafDragTimeout=et.currentWindow.requestAnimationFrame(function(){if(et.state.cropSize&&!(at===void 0||mt===void 0)){var wt=at-et.dragStartPosition.x,$t=mt-et.dragStartPosition.y,Ct={x:et.dragStartCrop.x+wt,y:et.dragStartCrop.y+$t},Dt=et.props.restrictPosition?restrictPosition(Ct,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):Ct;et.props.onCropChange(Dt)}}))},et.onDragStopped=function(){var nt,at;et.isTouching=!1,et.cleanEvents(),et.emitCropData(),(at=(nt=et.props).onInteractionEnd)===null||at===void 0||at.call(nt)},et.onWheel=function(nt){if(et.currentWindow&&!(et.props.onWheelRequest&&!et.props.onWheelRequest(nt))){nt.preventDefault();var at=a.getMousePoint(nt),mt=normalizeWheel$1(nt).pixelY,wt=et.props.zoom-mt*et.props.zoomSpeed/200;et.setNewZoom(wt,at,{shouldUpdatePosition:!0}),et.state.hasWheelJustStarted||et.setState({hasWheelJustStarted:!0},function(){var $t,Ct;return(Ct=($t=et.props).onInteractionStart)===null||Ct===void 0?void 0:Ct.call($t)}),et.wheelTimer&&clearTimeout(et.wheelTimer),et.wheelTimer=et.currentWindow.setTimeout(function(){return et.setState({hasWheelJustStarted:!1},function(){var $t,Ct;return(Ct=($t=et.props).onInteractionEnd)===null||Ct===void 0?void 0:Ct.call($t)})},250)}},et.getPointOnContainer=function(nt,at){var mt=nt.x,wt=nt.y;if(!et.containerRect)throw new Error("The Cropper is not mounted");return{x:et.containerRect.width/2-(mt-at.x),y:et.containerRect.height/2-(wt-at.y)}},et.getPointOnMedia=function(nt){var at=nt.x,mt=nt.y,wt=et.props,$t=wt.crop,Ct=wt.zoom;return{x:(at+$t.x)/Ct,y:(mt+$t.y)/Ct}},et.setNewZoom=function(nt,at,mt){var wt=mt===void 0?{}:mt,$t=wt.shouldUpdatePosition,Ct=$t===void 0?!0:$t;if(!(!et.state.cropSize||!et.props.onZoomChange)){var Dt=clamp(nt,et.props.minZoom,et.props.maxZoom);if(Ct){var Ft=et.getPointOnContainer(at,et.containerPosition),jt=et.getPointOnMedia(Ft),Nt={x:jt.x*Dt-Ft.x,y:jt.y*Dt-Ft.y},Lt=et.props.restrictPosition?restrictPosition(Nt,et.mediaSize,et.state.cropSize,Dt,et.props.rotation):Nt;et.props.onCropChange(Lt)}et.props.onZoomChange(Dt)}},et.getCropData=function(){if(!et.state.cropSize)return null;var nt=et.props.restrictPosition?restrictPosition(et.props.crop,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):et.props.crop;return computeCroppedArea(nt,et.mediaSize,et.state.cropSize,et.getAspect(),et.props.zoom,et.props.rotation,et.props.restrictPosition)},et.emitCropData=function(){var nt=et.getCropData();if(nt){var at=nt.croppedAreaPercentages,mt=nt.croppedAreaPixels;et.props.onCropComplete&&et.props.onCropComplete(at,mt),et.props.onCropAreaChange&&et.props.onCropAreaChange(at,mt)}},et.emitCropAreaChange=function(){var nt=et.getCropData();if(nt){var at=nt.croppedAreaPercentages,mt=nt.croppedAreaPixels;et.props.onCropAreaChange&&et.props.onCropAreaChange(at,mt)}},et.recomputeCropPosition=function(){if(et.state.cropSize){var nt=et.props.restrictPosition?restrictPosition(et.props.crop,et.mediaSize,et.state.cropSize,et.props.zoom,et.props.rotation):et.props.crop;et.props.onCropChange(nt),et.emitCropData()}},et.onKeyDown=function(nt){var at,mt,wt=et.props,$t=wt.crop,Ct=wt.onCropChange,Dt=wt.keyboardStep,Ft=wt.zoom,jt=wt.rotation,Nt=Dt;if(et.state.cropSize){nt.shiftKey&&(Nt*=.2);var Lt=__assign$1({},$t);switch(nt.key){case"ArrowUp":Lt.y-=Nt,nt.preventDefault();break;case"ArrowDown":Lt.y+=Nt,nt.preventDefault();break;case"ArrowLeft":Lt.x-=Nt,nt.preventDefault();break;case"ArrowRight":Lt.x+=Nt,nt.preventDefault();break;default:return}et.props.restrictPosition&&(Lt=restrictPosition(Lt,et.mediaSize,et.state.cropSize,Ft,jt)),nt.repeat||(mt=(at=et.props).onInteractionStart)===null||mt===void 0||mt.call(at),Ct(Lt)}},et.onKeyUp=function(nt){var at,mt;switch(nt.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":nt.preventDefault();break;default:return}et.emitCropData(),(mt=(at=et.props).onInteractionEnd)===null||mt===void 0||mt.call(at)},et}return a.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},a.prototype.componentWillUnmount=function(){var et,nt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(et=this.resizeObserver)===null||et===void 0||et.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((nt=this.styleRef.parentNode)===null||nt===void 0||nt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},a.prototype.componentDidUpdate=function(et){var nt,at,mt,wt,$t,Ct,Dt,Ft,jt;et.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):et.aspect!==this.props.aspect?this.computeSizes():et.objectFit!==this.props.objectFit?this.computeSizes():et.zoom!==this.props.zoom?this.recomputeCropPosition():((nt=et.cropSize)===null||nt===void 0?void 0:nt.height)!==((at=this.props.cropSize)===null||at===void 0?void 0:at.height)||((mt=et.cropSize)===null||mt===void 0?void 0:mt.width)!==((wt=this.props.cropSize)===null||wt===void 0?void 0:wt.width)?this.computeSizes():((($t=et.crop)===null||$t===void 0?void 0:$t.x)!==((Ct=this.props.crop)===null||Ct===void 0?void 0:Ct.x)||((Dt=et.crop)===null||Dt===void 0?void 0:Dt.y)!==((Ft=this.props.crop)===null||Ft===void 0?void 0:Ft.y))&&this.emitCropAreaChange(),et.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),et.video!==this.props.video&&((jt=this.videoRef.current)===null||jt===void 0||jt.load());var Nt=this.getObjectFit();Nt!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:Nt},this.computeSizes)},a.prototype.getAspect=function(){var et=this.props,nt=et.cropSize,at=et.aspect;return nt?nt.width/nt.height:at},a.prototype.getObjectFit=function(){var et,nt,at,mt;if(this.props.objectFit==="cover"){var wt=this.imageRef.current||this.videoRef.current;if(wt&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var $t=this.containerRect.width/this.containerRect.height,Ct=((et=this.imageRef.current)===null||et===void 0?void 0:et.naturalWidth)||((nt=this.videoRef.current)===null||nt===void 0?void 0:nt.videoWidth)||0,Dt=((at=this.imageRef.current)===null||at===void 0?void 0:at.naturalHeight)||((mt=this.videoRef.current)===null||mt===void 0?void 0:mt.videoHeight)||0,Ft=Ct/Dt;return Ft<$t?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},a.prototype.onPinchStart=function(et){var nt=a.getTouchPoint(et.touches[0]),at=a.getTouchPoint(et.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(nt,at),this.lastPinchRotation=getRotationBetweenPoints(nt,at),this.onDragStart(getCenter(nt,at))},a.prototype.onPinchMove=function(et){var nt=this;if(!(!this.currentDoc||!this.currentWindow)){var at=a.getTouchPoint(et.touches[0]),mt=a.getTouchPoint(et.touches[1]),wt=getCenter(at,mt);this.onDrag(wt),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var $t=getDistanceBetweenPoints(at,mt),Ct=nt.props.zoom*($t/nt.lastPinchDistance);nt.setNewZoom(Ct,wt,{shouldUpdatePosition:!1}),nt.lastPinchDistance=$t;var Dt=getRotationBetweenPoints(at,mt),Ft=nt.props.rotation+(Dt-nt.lastPinchRotation);nt.props.onRotationChange&&nt.props.onRotationChange(Ft),nt.lastPinchRotation=Dt})}},a.prototype.render=function(){var et=this,nt,at=this.props,mt=at.image,wt=at.video,$t=at.mediaProps,Ct=at.cropperProps,Dt=at.transform,Ft=at.crop,jt=Ft.x,Nt=Ft.y,Lt=at.rotation,Ut=at.zoom,Vt=at.cropShape,Yt=at.showGrid,er=at.style,tr=er.containerStyle,nr=er.cropAreaStyle,sr=er.mediaStyle,dr=at.classes,br=dr.containerClassName,vr=dr.cropAreaClassName,yr=dr.mediaClassName,$r=(nt=this.state.mediaObjectFit)!==null&&nt!==void 0?nt:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(wr){return et.containerRef=wr},"data-testid":"container",style:tr,className:classNames("reactEasyCrop_Container",br)},mt?reactExports.createElement("img",__assign$1({alt:"",className:classNames("reactEasyCrop_Image",$r==="contain"&&"reactEasyCrop_Contain",$r==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$r==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",yr)},$t,{src:mt,ref:this.imageRef,style:__assign$1(__assign$1({},sr),{transform:Dt||"translate(".concat(jt,"px, ").concat(Nt,"px) rotate(").concat(Lt,"deg) scale(").concat(Ut,")")}),onLoad:this.onMediaLoad})):wt&&reactExports.createElement("video",__assign$1({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",$r==="contain"&&"reactEasyCrop_Contain",$r==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$r==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",yr)},$t,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign$1(__assign$1({},sr),{transform:Dt||"translate(".concat(jt,"px, ").concat(Nt,"px) rotate(").concat(Lt,"deg) scale(").concat(Ut,")")}),controls:!1}),(Array.isArray(wt)?wt:[{src:wt}]).map(function(Sr){return reactExports.createElement("source",__assign$1({key:Sr.src},Sr))})),this.state.cropSize&&reactExports.createElement("div",__assign$1({ref:this.cropperRef,style:__assign$1(__assign$1({},nr),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",Vt==="round"&&"reactEasyCrop_CropAreaRound",Yt&&"reactEasyCrop_CropAreaGrid",vr)},Ct)))},a.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},a.getMousePoint=function(et){return{x:Number(et.clientX),y:Number(et.clientY)}},a.getTouchPoint=function(et){return{x:Number(et.clientX),y:Number(et.clientY)}},a}(reactExports.Component);function CropImage({src:s,dataUrl:a,file:et,open:nt,onClose:at,onCancel:mt,onOk:wt}){const[$t,Ct]=reactExports.useState({x:0,y:0}),[Dt,Ft]=reactExports.useState(1),[jt,Nt]=reactExports.useState(!1),[Lt,Ut]=reactExports.useState(null),Vt=async(er,tr)=>{Ut({croppedArea:er,croppedAreaPixels:tr})},Yt=async()=>{Nt(!0);try{const er=await getCroppedImg(a,Lt.croppedAreaPixels,et.name,et.type);await wt(er)}catch(er){console.error(er)}finally{Nt(!1)}};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:nt,onClose:at,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{children:[jsxRuntimeExports.jsx(ModalHeader,{children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",color:"text_caption",fontSize:"16px",children:"Edit file"}),jsxRuntimeExports.jsx(Text,{fontFamily:"Inter",children:"Crop and zoom on your image."})]})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsxs(ModalBody,{children:[jsxRuntimeExports.jsx(Box,{position:"relative",h:"280px",w:"100%",mb:"12px",children:jsxRuntimeExports.jsx(Cropper,{image:s,crop:$t,zoom:Dt,aspect:1,showGrid:!1,onCropChange:Ct,onCropComplete:Vt,onZoomChange:Ft,style:{cropAreaStyle:{border:"2px solid #76C8FF"}}})}),jsxRuntimeExports.jsxs(HStack,{p:"0px 60px",gap:"24px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomin",fontSize:"20px",svgFill:Dt-.2<.1?"primary_disabled":"text_paragraph",svgHover:Dt-.2<.1?"primary_disabled":"text_caption",onClick:()=>{Dt-.2>=0&&Ft(Dt-.2)}}),jsxRuntimeExports.jsxs(Slider,{"aria-label":"slider-ex-1",min:.1,max:3,step:.2,value:Dt,onChange:er=>Ft(er),children:[jsxRuntimeExports.jsx(SliderTrack,{h:"4px",bg:"crop_slider_tracker",children:jsxRuntimeExports.jsx(SliderFilledTrack,{})}),jsxRuntimeExports.jsx(SliderThumb,{boxSize:"4"})]}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:"20px",svgFill:Dt+.2>3?"primary_disabled":"text_paragraph",svgHover:Dt+.2>3?"primary_disabled":"text_caption",onClick:()=>{Dt+.2<=3&&Ft(Dt+.2)}})]})]}),jsxRuntimeExports.jsxs(ModalFooter,{justifyContent:"space-between",gap:"16px",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:mt||at,flex:"1",fontSize:"14px",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{flex:"1",fontSize:"14px",onClick:Yt,isLoading:jt,children:"Save"})]})]})]})}function ImageViewer({src:s,open:a,onClose:et}){const[nt,at]=reactExports.useState(1);return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:a,onClose:et,colorScheme:"blackAlpha",size:"full",isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{bg:"transparent",backdropFilter:"blur(6px)",backgroundColor:"rgba(0, 0, 0, 0.1)",children:[jsxRuntimeExports.jsx(ModalCloseButton,{size:"lg"}),jsxRuntimeExports.jsxs(ModalBody,{display:"flex",justifyContent:"center",alignItems:"center",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(Image$1,{src:s,transform:`scale(${nt})`,w:"100%"})}),jsxRuntimeExports.jsxs(HStack,{position:"absolute",bottom:"100px",left:"calc(50% - 44px)",w:"88px",justify:"space-between",children:[jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomin",cursor:"pointer",onClick:()=>at(nt-.2)}),jsxRuntimeExports.jsx(Icon,{fontSize:"28px",svgFill:"primary_gray",xlinkHref:"#icon-a-icon_zoomout",cursor:"pointer",onClick:()=>at(nt+.2)})]})]})]})]})}const TokenPlaceholder="/images/token_placeholder.png",btnStyle={w:{base:"32px",lg:"28px"},h:{base:"32px",lg:"28px"},bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"3px",display:{base:"block",lg:"none"},cursor:"pointer"};function PreView({src:s,editable:a,onEdit:et,onDelete:nt,file:at}){const[mt,wt]=reactExports.useState(!1),[$t,Ct]=reactExports.useState(!1),Dt=async Ft=>{et&&await et({origin:at,cropped:Ft}),wt(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{display:{base:"flex",lg:"block"},position:{base:"static",lg:"relative"},_hover:{div:{display:"flex"}},children:[jsxRuntimeExports.jsx(Image$1,{src:s,fallbackSrc:TokenPlaceholder,alt:"preview",objectFit:"cover",w:{base:"200px",lg:"160px"},h:{base:"200px",lg:"160px"},borderRadius:"12px"}),jsxRuntimeExports.jsxs(Stack$1,{flexDir:{base:"column",lg:"row"},position:{base:"static",lg:"absolute"},justify:{base:"space-between",lg:"center"},ml:{base:"20px",lg:"0"},w:"100%",gap:"12px",bottom:"8px",children:[a&&jsxRuntimeExports.jsx(Tooltip,{label:"Edit file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),wt(!mt)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_edit",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Preview file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),Ct(!$t)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-a-icon_zoomout",fontSize:{base:"24px",lg:"20px"}})})}),jsxRuntimeExports.jsx(Tooltip,{label:"Remove file",children:jsxRuntimeExports.jsx(Box,{...btnStyle,onClick:Ft=>{Ft.stopPropagation(),nt(at)},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_del",fontSize:{base:"24px",lg:"20px"}})})})]})]}),$t&&jsxRuntimeExports.jsx(ImageViewer,{src:s,open:$t,onClose:()=>Ct(!1)}),mt&&jsxRuntimeExports.jsx(CropImage,{src:s,dataUrl:at.dataUrl,file:at,open:mt,onClose:()=>wt(!1),onOk:Dt})]})}const CollectListBox=reactExports.lazy(()=>__vitePreload(()=>import("./CollectListBox-LMuvgkSb.js"),__vite__mapDeps([0,1,2,3]))),TokenList=reactExports.lazy(()=>__vitePreload(()=>import("./TokenList-DBDPiI5-.js"),__vite__mapDeps([4,5,6,1,2,3,7,8,9,10,11])));function TokenSelectCard(s){const{isWidget:a=!1,isOpen:et,onClose:nt,onSelectToken:at,haveImport:mt,lastSelectedToken:wt,isDisableSelectTokenItem:$t=!1,isDcaSelect:Ct,whiteTokenList:Dt,isShowCollectListBox:Ft=!0,isShowHotList:jt=!0,isShowTokenListTab:Nt=!0,isShowLabelTab:Lt=!0,tokenListMaxHeight:Ut,noDataHaveImg:Vt=!0,noClickImportItem:Yt=!1,bg:er,onGoplusTokenClick:tr}=s,{filterTokenListFun:nr,filterTokenWithLabel:sr,getImportTokenList:dr,delImportTokenList:br,updateImportTokenList:vr,sortWithTokenList:yr}=useTokenSelect(),{setFilterTokenLoading:$r,setShowImportBtn:Sr,importTokenList:wr,filterTokenLoading:fr,filterTokenList:_r,trustedTokenList:ir,setTokenModalOpacity:rr,userCollectList:or}=useTokenSelectStore(),[ar,ur]=reactExports.useState(""),pr=Wr=>{const nn=Wr.replace(/[^[a-zA-Z0-9\s]+$/g,"");ur(nn),nn&&($r(!0),cr(nn))},cr=useDebounceFunction(Wr=>{console.log(" ~ TokenSelectCard.tsx:86 ~ debouncedFilter ~ useDebounceFunction:"),Dt&&Dt.length>0?nr(Wr,Dt,[],!1,!1):nr(Wr,ir,wr,mt)},500),gr=Wr=>{console.log($t,wt,Wr.coin_type,"selectToken"),$t?wt!==Wr.coin_type&&(at(Wr),nt()):(at(Wr),nt())},hr=[{label:"Watchlist",value:"Watchlist"},{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],lr=[{label:"All",value:"All"},{label:"Wormhole",value:"Wormhole"}],[xr,Mr]=reactExports.useState("Default"),[Pr,Ar]=reactExports.useState("All"),{getCollectList:Ir,getDefaultTokenList:qr,getTabByAddress:Rr,getUserCollectList:Tr}=useTokenSelect(),{tokenMap:Er}=useTokenStore(),[Br,Nr]=reactExports.useState(!1);reactExports.useEffect(()=>{Nr(!0)},[]),reactExports.useEffect(()=>{Br&&Er&&Er.size>0&&qr(),Br&&(dr(),Tr())},[Er,Br]),reactExports.useEffect(()=>{ir.length>0&&Ir()},[ir]);const[zr,Hr]=reactExports.useState(!1),jr=!zr&&(ir==null?void 0:ir.length)>0&&(wr==null?void 0:wr.length)>0;reactExports.useEffect(()=>{jr&&(vr(),Hr(!0))},[jr]),reactExports.useEffect(()=>{rr(1),et||(console.log(" ~ file: index.tsx:164 ~ useEffect ~ tab22222"),Mr("Default"),Ar("All"),ur(""),Sr(!1))},[et]);const{coinPriceObj:Ur}=useTokenPriceStore(),{currentAccount:Fr}=useAccountStore(),Gr=reactExports.useMemo(()=>fr?[]:ar?_r:Dt&&Dt.length>0?yr(Pr!=="All"?_r:Dt,wt):xr=="Default"?yr(Pr!=="All"?_r:ir,wt):xr=="Imported"?yr(wr,wt):yr(or,wt),[ar,_r,fr,Pr,xr,wr,Dt,ir,Ur,Fr==null?void 0:Fr.address,or]);return reactExports.useEffect(()=>{console.log(" ~ TokenSelectCard ~ tokenList:",Gr)},[Gr]),reactExports.useEffect(()=>{if(wt&&ir&&ir.length>0){const Wr=Rr(wt,ir,wr);console.log(" ~ file: index.tsx:164 ~ useEffect ~ tab:",Wr),Mr(Wr)}},[wt,ir,wr]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Box,{p:"0px 16px",children:[jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(SearchInput,{isWidget:a,inputValue:ar,changeInputValue:Wr=>pr(Wr)})}),jt?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",width:{base:"100%",lg:"428px"},flexWrap:"wrap",justifyContent:"space-between",children:[...Array(12)].map((Wr,nn)=>jsxRuntimeExports.jsx(Skeleton,{width:"94px",height:"16px",margin:"0 8px 8px 0"},nn))}),children:jsxRuntimeExports.jsx(CollectListBox,{whiteTokenList:Dt,onSelectToken:Wr=>gr(Wr)})}):null,!ar&&Nt?jsxRuntimeExports.jsx(SelectTab,{type:"borderTab",wrapStyle:{w:{base:"100%",lg:"395px"},h:"34px",bg:"none",border:"none",marginTop:jt?"":"12px"},itemStyle:{marginRight:"40px",fontSize:"14px"},tabList:hr,currentTab:xr,handleChangeTab:Wr=>{Mr(Wr.value),$r(!0),setTimeout(()=>{$r(!1)},300)}}):null,!ar&&xr=="Default"&&Lt?jsxRuntimeExports.jsx(SelectTab,{type:"outlineTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:a?"swap_bg_secondary":"bg_secondary",padding:"4px",marginTop:"12px"},itemStyle:{w:`${100/lr.length}%`,fontSize:"14px",borderRadius:"8px"},tabList:lr,currentTab:Pr,handleChangeTab:Wr=>{Ar(Wr.value),sr(Wr.value,Ct?Dt:ir)}}):null,xr=="Imported"&&wr&&wr.length>0&&!ar?jsxRuntimeExports.jsxs(Flex,{p:"16px 0 0",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Text,{children:[wr&&wr.length," Custom Tokens"]}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",_hover:{color:"text_caption"},onClick:()=>{br(wr)},children:"Clear All"})]}):null]}),jsxRuntimeExports.jsx(Box,{p:"0px",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Flex,{marginTop:"16px",flexDirection:"column",children:[...Array(5)].map((Wr,nn)=>jsxRuntimeExports.jsxs(HStack,{gap:"0",height:"64px",padding:"0 16px",children:[jsxRuntimeExports.jsx(SkeletonCircle,{size:"9"}),jsxRuntimeExports.jsxs(VStack,{gap:"4px",ml:"4px",align:"flex-start",children:[jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"100px"}),jsxRuntimeExports.jsx(Skeleton,{height:"4",width:"150px"})]})]},nn))}),children:jsxRuntimeExports.jsx(TokenList,{onGoplusTokenClick:tr,tokenList:Gr,keyword:ar,currentLabel:Pr,currentTab:xr,lastSelectedToken:wt,isDisableSelectTokenItem:$t,isShowCollectListBox:Ft,isShowTokenListTab:Nt,tokenListMaxHeight:Ut,noDataHaveImg:Vt,noClickImportItem:Yt,bg:er,onSelectToken:Wr=>gr(Wr),onClose:nt})})})]})}function TokenSelectModal(s){const{isApp:a}=useWindowWidth(),{isOpen:et,onClose:nt}=s,{tokenModalOpacity:at}=useTokenSelectStore(),[mt,wt]=reactExports.useState("400px"),$t=()=>{const Dt=window.innerHeight-380;console.log(" ~ index.tsx:36 ~ calculateMaxHeight ~ remainingHeight:",Dt),wt(`${Dt}px`)};return reactExports.useEffect(()=>($t(),window.addEventListener("resize",$t),()=>{window.removeEventListener("resize",$t)}),[]),jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:et,onClose:nt,isCentered:!0,motionPreset:"none",children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:a?"80%":"462px",opacity:at,transition:"opacity 0.3s",children:[jsxRuntimeExports.jsx(ModalHeader,{p:"18px 16px",children:jsxRuntimeExports.jsx(Heading,{fontWeight:"500",fontSize:"16px",children:"Select a token"})}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"0",textAlign:"center",overflow:"hidden",children:jsxRuntimeExports.jsx(TokenSelectCard,{...s,tokenListMaxHeight:mt})})]})]})}const index=reactExports.memo(TokenSelectModal),index$1=Object.freeze(Object.defineProperty({__proto__:null,default:index},Symbol.toStringTag,{value:"Module"})),CoinSelect=reactExports.lazy(()=>__vitePreload(()=>Promise.resolve().then(()=>CoinSelect$3),void 0)),TradeInput=reactExports.forwardRef(function s({title:a,value:et,amountValue:nt,onFocusChange:at,onChange:mt,placeholder:wt="0.0",balance:$t,selectable:Ct,onTokenChange:Dt,token:Ft,half:jt=!0,max:Nt=!0,loading:Lt,inputAllowed:Ut=!0,hideSelf:Vt=!1,needRemainBalance:Yt=!0,balanceLabel:er,wrapStyle:tr={},calculateAvailableLoading:nr=!1,currentCoinKey:sr,whiteTokenList:dr,isWidget:br=!1,isDcaTo:vr=!1,inputTabOptions:yr,openSelectTokenModal:$r},Sr){const{type:wr="borderTab",tabList:fr=[],currentTab:_r="",handleChangeTab:ir=()=>{},wrapStyle:rr={h:"60px",p:"8px"},itemStyle:or={fontSize:"14px"}}=yr||{},ar=reactExports.useRef(null),[ur,pr]=reactExports.useState(!1),{currentAccount:cr}=useAccountStore(),gr=()=>{const lr=d$2($t||0).div(2);et&&lr.eq(et)||mt==null||mt(formatNumberWithDown(lr.toString(),Ft==null?void 0:Ft.decimals,!0,!0).toString(),!1,!0)},hr=()=>{const lr=d$2($t||0),xr=CoinAssist.isSuiCoin((Ft==null?void 0:Ft.coin_type)||""),Mr=xr&&Yt?.05:0;let Pr=lr;xr&&d$2(lr).gt(Mr)&&(Pr=Pr.sub(Mr)),!(et&&d$2(Pr).eq(et))&&d$2(Pr).gte(0)&&(mt==null||mt(Pr.toString()||"0",!0,!1))};return reactExports.useImperativeHandle(Sr,()=>({focused:ur}),[ur]),Vt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsxs(Box,{ref:ar,w:"100%",onFocus:()=>{pr(!0)},onBlur:()=>{pr(!1)},borderRadius:"16px",p:{base:"16px 8px",lg:"16px"},h:"122px",border:"1px solid",backgroundColor:Ut?"bg_secondary":"card_bg",...tr,borderColor:ur?"token_active_border":tr!=null&&tr.borderColor?tr==null?void 0:tr.borderColor:"border",boxShadow:ur?"0px 0px 6px 0px #0067AD":"",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",justify:"space-between",children:[a&&jsxRuntimeExports.jsx(Text,{color:"text_paragraph",fontSize:"13px",fontWeight:"500",h:"16px",mb:vr?"0px":"4px",textAlign:"left",children:a}),jsxRuntimeExports.jsx(HStack,{mt:"-16px",mr:{base:"0",lg:"-8px"},children:yr&&fr&&(fr==null?void 0:fr.length)>0&&jsxRuntimeExports.jsx(SelectTab,{type:wr,tabList:fr,currentTab:_r,handleChangeTab:lr=>ir(lr),wrapStyle:rr,itemStyle:or})})]}),jsxRuntimeExports.jsxs(VStack,{gap:vr?"0px":"8px",flexDirection:vr?"column-reverse":"column",children:[jsxRuntimeExports.jsxs(InputGroup,{h:"38px",fontFamily:"Inter",justifyContent:vr?"center":"space-between",gap:"12px",children:[!vr&&jsxRuntimeExports.jsx(Skeleton,{isLoaded:!Lt,height:"38px",width:"calc(100% - 8px)",borderRadius:"8px",children:jsxRuntimeExports.jsx(NumericFormatInput,{value:convertScientificToDecimal(et,9),onChange:lr=>{mt==null||mt(lr,d$2(lr).eq($t||"0"))},decimals:Ft==null?void 0:Ft.decimals,placeholder:wt,inputAllowed:Ut,onFocus:()=>{at&&at(!0)},onBlur:()=>{at&&at(!1)},style:{width:"calc(100% - 8px)",background:"none",whiteSpace:"nowrap",opacity:1,outline:"none",color:"var(--chakra-colors-text_caption)",fontSize:br?"24px":"28px",height:"38px",lineHeight:"38px",touchAction:"manipulation",transition:"all 0.3s",fontWeight:"500"}})}),jsxRuntimeExports.jsx(InputRightAddon,{w:vr?"100%":"unset",children:Ct?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Skeleton,{h:"20px",w:"100px",borderRadius:"8px"}),children:jsxRuntimeExports.jsx(CoinSelect,{openSelectTokenModal:$r,selectModalCallback:lr=>{pr(!!lr)},currentCoinKey:sr,whiteTokenList:dr,value:Ft,onSelect:Dt})}):jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(SingleCoinImage,{imageUrl:Ft==null?void 0:Ft.logo_url,w:"28px",h:"28px",coinType:Ft==null?void 0:Ft.coin_type},(Ft==null?void 0:Ft.symbol)+"Icon"),jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"16px",fontWeight:"600",children:textEllipses((Ft==null?void 0:Ft.symbol)||"",10)})]})})]}),jsxRuntimeExports.jsxs(HStack,{justify:"space-between",w:"100%",mt:vr&&cr?"-20px":0,children:[jsxRuntimeExports.jsx(Text,{width:"50%",flex:"0",fontWeight:"500",children:nt&&+nt?`${formatCurrencyWithKMB(nt,2)}`:null}),!!cr&&jsxRuntimeExports.jsxs(HStack,{justify:"flex-end",gap:"8px",children:[jsxRuntimeExports.jsx(Skeleton,{isLoaded:!nr,children:jsxRuntimeExports.jsxs(HStack,{gap:"4px",children:[er?jsxRuntimeExports.jsx(Text,{children:er}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_wallet",svgHover:"text_paragraph",cursor:"default"}),jsxRuntimeExports.jsx(Text,{children:!$t||$t==="0"?"0.0":formatNumberWithDown($t)})]})}),jt&&jsxRuntimeExports.jsx(Button,{onClick:gr,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:br?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"HALF"}),Nt&&jsxRuntimeExports.jsx(Button,{onClick:hr,fontSize:"12px",fontWeight:"500",lineHeight:"20px",color:"text_paragraph",w:"42px",h:"20px",bg:br?"swap_bg_secondary":"button_outline_bg",borderRadius:"4px",variant:"outline",children:"MAX"})]})]})]})]})}),Upload=reactExports.forwardRef(function s({w:a="160px",h:et="160px",loading:nt,borderRadius:at="12px",children:mt,accept:wt="image/png, image/jpeg",multiple:$t=!1,fileSize:Ct,field:Dt,form:Ft,onChange:jt,onSuccess:Nt,onError:Lt,onDelete:Ut,...Vt},Yt){const er=reactExports.useRef(null),{uploadLoading:tr,doUploadFile:nr}=useFileUpload(),sr=async wr=>{if(wr)return await nr(wr)},[dr,br]=reactExports.useState([]),vr=async wr=>{var fr;try{if((fr=wr.target.files)!=null&&fr.length){const _r=wr.target.files[0],ir=_r.name.slice(_r.name.lastIndexOf(".")+1),rr=`cetus_pump_${dayjs().unix()}.${ir}`,or=replaceFilename(_r,rr);if(Ct){const pr=Ct.split("MB")[0];if(or.size>Number(pr)*1024*1024)throw new Error("file size is over limit")}const ar=await sr(or);if(ar!=null&&ar.error)throw new Error(ar==null?void 0:ar.error);ar!=null&&ar.url&&(Nt==null||Nt());const ur=new FileReader;ur.readAsDataURL(or),ur.onload=pr=>{var cr,gr;if(pr.type==="load")if($t){const hr=[...dr,{name:rr,type:or.type,size:or.size,lastModified:or.lastModified,dataUrl:(cr=pr.target)==null?void 0:cr.result,fileUrl:ar==null?void 0:ar.url,sig:ar==null?void 0:ar.sig}];br(hr)}else{const hr=[{name:rr,type:or.type,size:or.size,lastModified:or.lastModified,dataUrl:(gr=pr.target)==null?void 0:gr.result,fileUrl:ar==null?void 0:ar.url,sig:ar==null?void 0:ar.sig}];br(hr)}}}}catch(_r){console.log(_r.message,"(error as unknown as Error).message"),Lt==null||Lt(_r.message)}finally{Ft==null||Ft.setFieldTouched(Dt.name,!0)}};useDeepCompareEffect(()=>{var wr;dr&&(jt==null||jt(dr),Dt.name&&((wr=Ft==null?void 0:Ft.setFieldValue)==null||wr.call(Ft,Dt.name,dr)))},[dr]);const yr=async wr=>{const fr=await sr(wr.cropped),_r=new FileReader;_r.readAsDataURL(wr.cropped),_r.onload=ir=>{var rr;if(ir.type==="load")if($t){const or=dr.map(ar=>{var ur;return ar.name===wr.cropped.name?{...ar,size:wr.cropped.size,lastModified:wr.cropped.lastModified,dataUrl:(ur=ir.target)==null?void 0:ur.result,fileUrl:fr==null?void 0:fr.url,sig:fr==null?void 0:fr.sig}:ar});br(or)}else{const or=[{name:wr.cropped.name,type:wr.cropped.type,size:wr.cropped.size,lastModified:wr.cropped.lastModified,dataUrl:(rr=ir.target)==null?void 0:rr.result,fileUrl:fr==null?void 0:fr.url,sig:fr==null?void 0:fr.sig}];br(or)}}},$r=wr=>{Ut==null||Ut(),br(dr.filter(fr=>fr.name!==wr.name)),er.current&&(er.current.value="")},Sr=()=>{br([]),er.current&&(er.current.value="")};return reactExports.useImperativeHandle(Yt,()=>({handleClear:Sr}),[er.current]),jsxRuntimeExports.jsxs(Box,{w:a,h:et,borderRadius:at,onClick:()=>{var wr;return(wr=er.current)==null?void 0:wr.click()},...Vt,cursor:"pointer",children:[nt||tr?jsxRuntimeExports.jsx(Spinner,{}):dr.length?dr==null?void 0:dr.map((wr,fr)=>wr.type.startsWith("image")?jsxRuntimeExports.jsx(PreView,{editable:!0,src:wr.fileUrl,file:wr,onEdit:yr,onDelete:$r},wr.sig||fr):jsxRuntimeExports.jsx(Box,{as:"a",target:"_blank",download:wr.fileUrl,children:wr.name},wr.sig||fr)):mt,jsxRuntimeExports.jsx(Input,{ref:er,id:"file",name:"file",type:"file",display:"none",accept:wt,multiple:$t,onChange:vr})]})});function ToastDescription(s){const{status:a="confirmation",tx:et,info:nt}=s,{getExplorerUrl:at}=useExplorer(),mt=nt==null?void 0:nt.toastDescriptionContent;return a==="submitted"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[mt&&(typeof mt=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:mt()}):jsxRuntimeExports.jsx(DescriptionText,{text:mt})),!mt&&et&&jsxRuntimeExports.jsxs(Box,{as:"div",children:[jsxRuntimeExports.jsx(DescriptionText,{text:"Confirmation is in progress. Check your transaction on",as:"span"}),"",jsxRuntimeExports.jsx(Link,{href:at(et,"tx"),target:"_blank",color:"primary_green",fontSize:"sm",textDecoration:"none",children:"here"})]})]}):a==="rejected"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[mt&&(typeof mt=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:mt()}):jsxRuntimeExports.jsx(DescriptionText,{text:mt})),!mt&&jsxRuntimeExports.jsx(DescriptionText,{text:"Something went wrong"})]}):a==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:mt&&(typeof mt=="function"?jsxRuntimeExports.jsx(DescriptionText,{children:mt()}):jsxRuntimeExports.jsx(DescriptionText,{text:mt}))}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function DescriptionText(s){const{text:a,children:et,...nt}=s;return et?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et}):jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",...nt,children:jsxRuntimeExports.jsx(Comma,{value:a||""})})}function ToastTitle(s){const{status:a="confirmation",info:et}=s;return a==="submitted"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[jsxRuntimeExports.jsx(Spinner$1,{w:"20px",h:"20px"}),jsxRuntimeExports.jsx(TitleText,{text:"Transaction in progress"})]})}):a==="rejected"?jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",gap:"0px",align:"flex-start",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),"(",jsxRuntimeExports.jsx(HStack,{children:jsxRuntimeExports.jsx(TitleText,{text:(et==null?void 0:et.toastTitleText)||"Transaction failed",color:"primary_red"})}),")"]}):a==="success"?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(HStack,{justify:"flex-start",align:"flex-start",children:[et!=null&&et.iconUrl?jsxRuntimeExports.jsx(Image$1,{src:et.iconUrl,h:"20px",alt:"icon",borderRadius:"4px"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_check",svgFill:"primary"}),jsxRuntimeExports.jsx(TitleText,{text:(et==null?void 0:et.toastTitleText)||"Transaction Successful"})]})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function TitleText(s){const{text:a,color:et="text_caption"}=s;return jsxRuntimeExports.jsx(Heading,{fontSize:"14px",lineHeight:"20px",fontWeight:"400",color:et,whiteSpace:{base:"pre-wrap",lg:"wrap"},children:a})}function Toast(s){const{status:a="confirmation",link:et,tx:nt,getShowInfo:at,actionType:mt,executeTime:wt,linkLabel:$t="View transaction",onClose:Ct}=s,{getExplorerUrl:Dt}=useExplorer(),Ft=reactExports.useMemo(()=>{if(at)return at(a)},[a]);return jsxRuntimeExports.jsxs(HStack,{w:{base:"calc(100vw - 16px)",lg:"fit-content"},minW:{base:"calc(100vw - 16px)",lg:"360px"},maxW:{base:"calc(100vw - 16px)",lg:"420px"},bg:"background",border:"1px",borderColor:"border",borderRadius:"12px",p:"16px",gap:"16px",justify:"space-between",alignItems:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{alignItems:"start",children:[jsxRuntimeExports.jsx(ToastTitle,{info:Ft,status:a}),((Ft==null?void 0:Ft.toastDescriptionContent)||nt)&&jsxRuntimeExports.jsx(ToastDescription,{info:Ft,status:a,tx:nt}),a!=="submitted"&&et&&jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),a!=="submitted"&&!et&&nt&&jsxRuntimeExports.jsxs(HStack,{children:[mt==="swap"&&wt&&wt>0?jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:`Txn finalized in ${d$3(wt).div(1e3).toString()}s! View Transaction`}):jsxRuntimeExports.jsx(Text,{fontSize:"12px",children:"View on Explorer"}),defaultExplorers.map(jt=>jsxRuntimeExports.jsx(Image$1,{onClick:Nt=>{window.open(Dt(nt,"tx",jt),"_blank")},cursor:"pointer",src:jt.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"},jt.name))]})]}),jsxRuntimeExports.jsx(Center,{onClick:Ct,children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"gray"})})]})}function useGetNotifiTargetGroups(){const{notifiClient:s}=useNotifiStore(),{setDefaultTargetGroup:a,setEmailTarget:et,setTelegramTarget:nt,setSmsTarget:at,setNotifiLoginLoading:mt}=useNotifiStore(),wt=Dt=>{Dt.emailTargets&&Dt.emailTargets.length>0&&et(Dt.emailTargets.slice(-1)[0]),Dt.telegramTargets&&(Dt==null?void 0:Dt.telegramTargets.length)>0&&nt(Dt.telegramTargets.slice(-1)[0]),Dt.smsTargets&&(Dt==null?void 0:Dt.smsTargets.length)>0&&at(Dt.smsTargets.slice(-1)[0])};return{getNotifiTargetGroups:async Dt=>{try{const Ft=Dt?await Dt.getTargetGroups():await s.getTargetGroups();if(console.log(" ~ useGetNotifiTargetGroups.ts:8 ~ getNotifiTargetGroups ~ targetGroup:",Ft),(Ft==null?void 0:Ft.length)>0){const jt=Ft[0];console.log(" ~ First target group:",jt),wt(jt)}return a(Ft),Ft}catch(Ft){return console.error(" ~ useGetNotifiTargetGroups.ts:20 ~ getNotifiTargetGroups ~ error:",Ft),{}}},ensureTargetGroup:async Dt=>{try{mt(!0);const Ft={...Dt},jt=await s.ensureTargetGroup({name:"Default",...Ft});jt!=null&&jt.id&&wt(jt),a([jt]),mt(!1)}catch(Ft){mt(!1),console.error(" ~ useGetNotifiTargetGroups.ts:45 ~ ensureTargetGroup ~ error:",Ft)}}}}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(s){return typeof s=="string"&&REGEX.test(s)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=(byteToHex[s[a+0]]+byteToHex[s[a+1]]+byteToHex[s[a+2]]+byteToHex[s[a+3]]+"-"+byteToHex[s[a+4]]+byteToHex[s[a+5]]+"-"+byteToHex[s[a+6]]+byteToHex[s[a+7]]+"-"+byteToHex[s[a+8]]+byteToHex[s[a+9]]+"-"+byteToHex[s[a+10]]+byteToHex[s[a+11]]+byteToHex[s[a+12]]+byteToHex[s[a+13]]+byteToHex[s[a+14]]+byteToHex[s[a+15]]).toLowerCase();if(!validate(et))throw TypeError("Stringified UUID is invalid");return et}function v4(s,a,et){s=s||{};var nt=s.random||(s.rng||rng)();return nt[6]=nt[6]&15|64,nt[8]=nt[8]&63|128,stringify(nt)}const defaultJsonSerializer=JSON,uppercase=s=>s.toUpperCase(),HeadersInstanceToPlainObject=s=>{const a={};return s.forEach((et,nt)=>{a[nt]=et}),a},parseRequestArgs=(s,a,et)=>s.document?s:{document:s,variables:a,requestHeaders:et,signal:void 0},parseRawRequestArgs=(s,a,et)=>s.query?s:{query:s,variables:a,requestHeaders:et,signal:void 0},parseBatchRequestArgs=(s,a)=>s.documents?s:{documents:s,requestHeaders:a,signal:void 0},extractOperationName=s=>{var nt,at;let a;const et=s.definitions.filter(mt=>mt.kind==="OperationDefinition");return et.length===1&&(a=(at=(nt=et[0])==null?void 0:nt.name)==null?void 0:at.value),a},resolveRequestDocument=s=>{if(typeof s=="string"){let et;try{const nt=parse$1(s);et=extractOperationName(nt)}catch{}return{query:s,operationName:et}}const a=extractOperationName(s);return{query:print(s),operationName:a}};class ClientError extends Error{constructor(a,et){const nt=`${ClientError.extractMessage(a)}: ${JSON.stringify({response:a,request:et})}`;super(nt),Object.setPrototypeOf(this,ClientError.prototype),this.response=a,this.request=et,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ClientError)}static extractMessage(a){var et,nt;return((nt=(et=a.errors)==null?void 0:et[0])==null?void 0:nt.message)??`GraphQL Error (Code: ${a.status})`}}var browserPonyfill={exports:{}};(function(s,a){var et=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1,nt=function(){function mt(){this.fetch=!1,this.DOMException=et.DOMException}return mt.prototype=et,new mt}();(function(mt){(function(wt){var $t=typeof mt<"u"&&mt||typeof self<"u"&&self||typeof commonjsGlobal$1<"u"&&commonjsGlobal$1||{},Ct={searchParams:"URLSearchParams"in $t,iterable:"Symbol"in $t&&"iterator"in Symbol,blob:"FileReader"in $t&&"Blob"in $t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in $t,arrayBuffer:"ArrayBuffer"in $t};function Dt(rr){return rr&&DataView.prototype.isPrototypeOf(rr)}if(Ct.arrayBuffer)var Ft=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],jt=ArrayBuffer.isView||function(rr){return rr&&Ft.indexOf(Object.prototype.toString.call(rr))>-1};function Nt(rr){if(typeof rr!="string"&&(rr=String(rr)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(rr)||rr==="")throw new TypeError('Invalid character in header field name: "'+rr+'"');return rr.toLowerCase()}function Lt(rr){return typeof rr!="string"&&(rr=String(rr)),rr}function Ut(rr){var or={next:function(){var ar=rr.shift();return{done:ar===void 0,value:ar}}};return Ct.iterable&&(or[Symbol.iterator]=function(){return or}),or}function Vt(rr){this.map={},rr instanceof Vt?rr.forEach(function(or,ar){this.append(ar,or)},this):Array.isArray(rr)?rr.forEach(function(or){if(or.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+or.length);this.append(or[0],or[1])},this):rr&&Object.getOwnPropertyNames(rr).forEach(function(or){this.append(or,rr[or])},this)}Vt.prototype.append=function(rr,or){rr=Nt(rr),or=Lt(or);var ar=this.map[rr];this.map[rr]=ar?ar+", "+or:or},Vt.prototype.delete=function(rr){delete this.map[Nt(rr)]},Vt.prototype.get=function(rr){return rr=Nt(rr),this.has(rr)?this.map[rr]:null},Vt.prototype.has=function(rr){return this.map.hasOwnProperty(Nt(rr))},Vt.prototype.set=function(rr,or){this.map[Nt(rr)]=Lt(or)},Vt.prototype.forEach=function(rr,or){for(var ar in this.map)this.map.hasOwnProperty(ar)&&rr.call(or,this.map[ar],ar,this)},Vt.prototype.keys=function(){var rr=[];return this.forEach(function(or,ar){rr.push(ar)}),Ut(rr)},Vt.prototype.values=function(){var rr=[];return this.forEach(function(or){rr.push(or)}),Ut(rr)},Vt.prototype.entries=function(){var rr=[];return this.forEach(function(or,ar){rr.push([ar,or])}),Ut(rr)},Ct.iterable&&(Vt.prototype[Symbol.iterator]=Vt.prototype.entries);function Yt(rr){if(!rr._noBody){if(rr.bodyUsed)return Promise.reject(new TypeError("Already read"));rr.bodyUsed=!0}}function er(rr){return new Promise(function(or,ar){rr.onload=function(){or(rr.result)},rr.onerror=function(){ar(rr.error)}})}function tr(rr){var or=new FileReader,ar=er(or);return or.readAsArrayBuffer(rr),ar}function nr(rr){var or=new FileReader,ar=er(or),ur=/charset=([A-Za-z0-9_-]+)/.exec(rr.type),pr=ur?ur[1]:"utf-8";return or.readAsText(rr,pr),ar}function sr(rr){for(var or=new Uint8Array(rr),ar=new Array(or.length),ur=0;ur<or.length;ur++)ar[ur]=String.fromCharCode(or[ur]);return ar.join("")}function dr(rr){if(rr.slice)return rr.slice(0);var or=new Uint8Array(rr.byteLength);return or.set(new Uint8Array(rr)),or.buffer}function br(){return this.bodyUsed=!1,this._initBody=function(rr){this.bodyUsed=this.bodyUsed,this._bodyInit=rr,rr?typeof rr=="string"?this._bodyText=rr:Ct.blob&&Blob.prototype.isPrototypeOf(rr)?this._bodyBlob=rr:Ct.formData&&FormData.prototype.isPrototypeOf(rr)?this._bodyFormData=rr:Ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(rr)?this._bodyText=rr.toString():Ct.arrayBuffer&&Ct.blob&&Dt(rr)?(this._bodyArrayBuffer=dr(rr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ct.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(rr)||jt(rr))?this._bodyArrayBuffer=dr(rr):this._bodyText=rr=Object.prototype.toString.call(rr):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof rr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(rr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ct.blob&&(this.blob=function(){var rr=Yt(this);if(rr)return rr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var rr=Yt(this);return rr||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Ct.blob)return this.blob().then(tr);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var rr=Yt(this);if(rr)return rr;if(this._bodyBlob)return nr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(sr(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ct.formData&&(this.formData=function(){return this.text().then(Sr)}),this.json=function(){return this.text().then(JSON.parse)},this}var vr=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function yr(rr){var or=rr.toUpperCase();return vr.indexOf(or)>-1?or:rr}function $r(rr,or){if(!(this instanceof $r))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');or=or||{};var ar=or.body;if(rr instanceof $r){if(rr.bodyUsed)throw new TypeError("Already read");this.url=rr.url,this.credentials=rr.credentials,or.headers||(this.headers=new Vt(rr.headers)),this.method=rr.method,this.mode=rr.mode,this.signal=rr.signal,!ar&&rr._bodyInit!=null&&(ar=rr._bodyInit,rr.bodyUsed=!0)}else this.url=String(rr);if(this.credentials=or.credentials||this.credentials||"same-origin",(or.headers||!this.headers)&&(this.headers=new Vt(or.headers)),this.method=yr(or.method||this.method||"GET"),this.mode=or.mode||this.mode||null,this.signal=or.signal||this.signal||function(){if("AbortController"in $t){var cr=new AbortController;return cr.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ar)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ar),(this.method==="GET"||this.method==="HEAD")&&(or.cache==="no-store"||or.cache==="no-cache")){var ur=/([?&])_=[^&]*/;if(ur.test(this.url))this.url=this.url.replace(ur,"$1_="+new Date().getTime());else{var pr=/\?/;this.url+=(pr.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}$r.prototype.clone=function(){return new $r(this,{body:this._bodyInit})};function Sr(rr){var or=new FormData;return rr.trim().split("&").forEach(function(ar){if(ar){var ur=ar.split("="),pr=ur.shift().replace(/\+/g," "),cr=ur.join("=").replace(/\+/g," ");or.append(decodeURIComponent(pr),decodeURIComponent(cr))}}),or}function wr(rr){var or=new Vt,ar=rr.replace(/\r?\n[\t ]+/g," ");return ar.split("\r").map(function(ur){return ur.indexOf(`
`)===0?ur.substr(1,ur.length):ur}).forEach(function(ur){var pr=ur.split(":"),cr=pr.shift().trim();if(cr){var gr=pr.join(":").trim();try{or.append(cr,gr)}catch(hr){console.warn("Response "+hr.message)}}}),or}br.call($r.prototype);function fr(rr,or){if(!(this instanceof fr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(or||(or={}),this.type="default",this.status=or.status===void 0?200:or.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=or.statusText===void 0?"":""+or.statusText,this.headers=new Vt(or.headers),this.url=or.url||"",this._initBody(rr)}br.call(fr.prototype),fr.prototype.clone=function(){return new fr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Vt(this.headers),url:this.url})},fr.error=function(){var rr=new fr(null,{status:200,statusText:""});return rr.ok=!1,rr.status=0,rr.type="error",rr};var _r=[301,302,303,307,308];fr.redirect=function(rr,or){if(_r.indexOf(or)===-1)throw new RangeError("Invalid status code");return new fr(null,{status:or,headers:{location:rr}})},wt.DOMException=$t.DOMException;try{new wt.DOMException}catch{wt.DOMException=function(or,ar){this.message=or,this.name=ar;var ur=Error(or);this.stack=ur.stack},wt.DOMException.prototype=Object.create(Error.prototype),wt.DOMException.prototype.constructor=wt.DOMException}function ir(rr,or){return new Promise(function(ar,ur){var pr=new $r(rr,or);if(pr.signal&&pr.signal.aborted)return ur(new wt.DOMException("Aborted","AbortError"));var cr=new XMLHttpRequest;function gr(){cr.abort()}cr.onload=function(){var xr={statusText:cr.statusText,headers:wr(cr.getAllResponseHeaders()||"")};pr.url.indexOf("file://")===0&&(cr.status<200||cr.status>599)?xr.status=200:xr.status=cr.status,xr.url="responseURL"in cr?cr.responseURL:xr.headers.get("X-Request-URL");var Mr="response"in cr?cr.response:cr.responseText;setTimeout(function(){ar(new fr(Mr,xr))},0)},cr.onerror=function(){setTimeout(function(){ur(new TypeError("Network request failed"))},0)},cr.ontimeout=function(){setTimeout(function(){ur(new TypeError("Network request timed out"))},0)},cr.onabort=function(){setTimeout(function(){ur(new wt.DOMException("Aborted","AbortError"))},0)};function hr(xr){try{return xr===""&&$t.location.href?$t.location.href:xr}catch{return xr}}if(cr.open(pr.method,hr(pr.url),!0),pr.credentials==="include"?cr.withCredentials=!0:pr.credentials==="omit"&&(cr.withCredentials=!1),"responseType"in cr&&(Ct.blob?cr.responseType="blob":Ct.arrayBuffer&&(cr.responseType="arraybuffer")),or&&typeof or.headers=="object"&&!(or.headers instanceof Vt||$t.Headers&&or.headers instanceof $t.Headers)){var lr=[];Object.getOwnPropertyNames(or.headers).forEach(function(xr){lr.push(Nt(xr)),cr.setRequestHeader(xr,Lt(or.headers[xr]))}),pr.headers.forEach(function(xr,Mr){lr.indexOf(Mr)===-1&&cr.setRequestHeader(Mr,xr)})}else pr.headers.forEach(function(xr,Mr){cr.setRequestHeader(Mr,xr)});pr.signal&&(pr.signal.addEventListener("abort",gr),cr.onreadystatechange=function(){cr.readyState===4&&pr.signal.removeEventListener("abort",gr)}),cr.send(typeof pr._bodyInit>"u"?null:pr._bodyInit)})}return ir.polyfill=!0,$t.fetch||($t.fetch=ir,$t.Headers=Vt,$t.Request=$r,$t.Response=fr),wt.Headers=Vt,wt.Request=$r,wt.Response=fr,wt.fetch=ir,Object.defineProperty(wt,"__esModule",{value:!0}),wt})({})})(nt),nt.fetch.ponyfill=!0,delete nt.fetch.polyfill;var at=et.fetch?et:nt;a=at.fetch,a.default=at.fetch,a.fetch=at.fetch,a.Headers=at.Headers,a.Request=at.Request,a.Response=at.Response,s.exports=a})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const crossFetch=getDefaultExportFromCjs$2(browserPonyfillExports),CrossFetch=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]),resolveHeaders=s=>{let a={};return s&&(typeof Headers<"u"&&s instanceof Headers||CrossFetch&&browserPonyfillExports.Headers&&s instanceof browserPonyfillExports.Headers?a=HeadersInstanceToPlainObject(s):Array.isArray(s)?s.forEach(([et,nt])=>{et&&nt!==void 0&&(a[et]=nt)}):a=s),a},cleanQuery=s=>s.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),buildRequestConfig=s=>{if(!Array.isArray(s.query)){const nt=s,at=[`query=${encodeURIComponent(cleanQuery(nt.query))}`];return s.variables&&at.push(`variables=${encodeURIComponent(nt.jsonSerializer.stringify(nt.variables))}`),nt.operationName&&at.push(`operationName=${encodeURIComponent(nt.operationName)}`),at.join("&")}if(typeof s.variables<"u"&&!Array.isArray(s.variables))throw new Error("Cannot create query with given variable type, array expected");const a=s,et=s.query.reduce((nt,at,mt)=>(nt.push({query:cleanQuery(at),variables:a.variables?a.jsonSerializer.stringify(a.variables[mt]):void 0}),nt),[]);return`query=${encodeURIComponent(a.jsonSerializer.stringify(et))}`},createHttpMethodFetcher=s=>async a=>{const{url:et,query:nt,variables:at,operationName:mt,fetch:wt,fetchOptions:$t,middleware:Ct}=a,Dt={...a.headers};let Ft="",jt;s==="POST"?(jt=createRequestBody(nt,at,mt,$t.jsonSerializer),typeof jt=="string"&&(Dt["Content-Type"]="application/json")):Ft=buildRequestConfig({query:nt,variables:at,operationName:mt,jsonSerializer:$t.jsonSerializer??defaultJsonSerializer});const Nt={method:s,headers:Dt,body:jt,...$t};let Lt=et,Ut=Nt;if(Ct){const Vt=await Promise.resolve(Ct({...Nt,url:et,operationName:mt,variables:at})),{url:Yt,...er}=Vt;Lt=Yt,Ut=er}return Ft&&(Lt=`${Lt}?${Ft}`),await wt(Lt,Ut)};class GraphQLClient{constructor(a,et={}){this.url=a,this.requestConfig=et,this.rawRequest=async(...nt)=>{const[at,mt,wt]=nt,$t=parseRawRequestArgs(at,mt,wt),{headers:Ct,fetch:Dt=crossFetch,method:Ft="POST",requestMiddleware:jt,responseMiddleware:Nt,...Lt}=this.requestConfig,{url:Ut}=this;$t.signal!==void 0&&(Lt.signal=$t.signal);const{operationName:Vt}=resolveRequestDocument($t.query);return makeRequest({url:Ut,query:$t.query,variables:$t.variables,headers:{...resolveHeaders(callOrIdentity(Ct)),...resolveHeaders($t.requestHeaders)},operationName:Vt,fetch:Dt,method:Ft,fetchOptions:Lt,middleware:jt}).then(Yt=>(Nt&&Nt(Yt),Yt)).catch(Yt=>{throw Nt&&Nt(Yt),Yt})}}async request(a,...et){const[nt,at]=et,mt=parseRequestArgs(a,nt,at),{headers:wt,fetch:$t=crossFetch,method:Ct="POST",requestMiddleware:Dt,responseMiddleware:Ft,...jt}=this.requestConfig,{url:Nt}=this;mt.signal!==void 0&&(jt.signal=mt.signal);const{query:Lt,operationName:Ut}=resolveRequestDocument(mt.document);return makeRequest({url:Nt,query:Lt,variables:mt.variables,headers:{...resolveHeaders(callOrIdentity(wt)),...resolveHeaders(mt.requestHeaders)},operationName:Ut,fetch:$t,method:Ct,fetchOptions:jt,middleware:Dt}).then(Vt=>(Ft&&Ft(Vt),Vt.data)).catch(Vt=>{throw Ft&&Ft(Vt),Vt})}batchRequests(a,et){const nt=parseBatchRequestArgs(a,et),{headers:at,...mt}=this.requestConfig;nt.signal!==void 0&&(mt.signal=nt.signal);const wt=nt.documents.map(({document:Ct})=>resolveRequestDocument(Ct).query),$t=nt.documents.map(({variables:Ct})=>Ct);return makeRequest({url:this.url,query:wt,variables:$t,headers:{...resolveHeaders(callOrIdentity(at)),...resolveHeaders(nt.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??crossFetch,method:this.requestConfig.method||"POST",fetchOptions:mt,middleware:this.requestConfig.requestMiddleware}).then(Ct=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(Ct),Ct.data)).catch(Ct=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(Ct),Ct})}setHeaders(a){return this.requestConfig.headers=a,this}setHeader(a,et){const{headers:nt}=this.requestConfig;return nt?nt[a]=et:this.requestConfig.headers={[a]:et},this}setEndpoint(a){return this.url=a,this}}const makeRequest=async s=>{const{query:a,variables:et,fetchOptions:nt}=s,at=createHttpMethodFetcher(uppercase(s.method??"post")),mt=Array.isArray(s.query),wt=await at(s),$t=await getResult(wt,nt.jsonSerializer??defaultJsonSerializer),Ct=Array.isArray($t)?!$t.some(({data:Ft})=>!Ft):!!$t.data,Dt=Array.isArray($t)||!$t.errors||Array.isArray($t.errors)&&!$t.errors.length||nt.errorPolicy==="all"||nt.errorPolicy==="ignore";if(wt.ok&&Dt&&Ct){const{errors:Ft,...jt}=(Array.isArray($t),$t),Nt=nt.errorPolicy==="ignore"?jt:$t;return{...mt?{data:Nt}:Nt,headers:wt.headers,status:wt.status}}else{const Ft=typeof $t=="string"?{error:$t}:$t;throw new ClientError({...Ft,status:wt.status,headers:wt.headers},{query:a,variables:et})}},createRequestBody=(s,a,et,nt)=>{const at=nt??defaultJsonSerializer;if(!Array.isArray(s))return at.stringify({query:s,variables:a,operationName:et});if(typeof a<"u"&&!Array.isArray(a))throw new Error("Cannot create request body with given variable type, array expected");const mt=s.reduce((wt,$t,Ct)=>(wt.push({query:$t,variables:a?a[Ct]:void 0}),wt),[]);return at.stringify(mt)},getResult=async(s,a)=>{let et;return s.headers.forEach((nt,at)=>{at.toLowerCase()==="content-type"&&(et=nt)}),et&&(et.toLowerCase().startsWith("application/json")||et.toLowerCase().startsWith("application/graphql+json")||et.toLowerCase().startsWith("application/graphql-response+json"))?a.parse(await s.text()):s.text()},callOrIdentity=s=>typeof s=="function"?s():s,gql=(s,...a)=>s.reduce((et,nt,at)=>`${et}${nt}${at in a?String(a[at]):""}`,"");function extendedTypeof(s){return s===null?"null":Array.isArray(s)?"array":typeof s}function isObject(s){return extendedTypeof(s)==="object"}function areGraphQLErrors(s){return Array.isArray(s)&&s.length>0&&s.every(a=>"message"in a)}function limitCloseReason(s,a){return s.length<124?s:a}const GRAPHQL_TRANSPORT_WS_PROTOCOL="graphql-transport-ws";var CloseCode;(function(s){s[s.InternalServerError=4500]="InternalServerError",s[s.InternalClientError=4005]="InternalClientError",s[s.BadRequest=4400]="BadRequest",s[s.BadResponse=4004]="BadResponse",s[s.Unauthorized=4401]="Unauthorized",s[s.Forbidden=4403]="Forbidden",s[s.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",s[s.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",s[s.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",s[s.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",s[s.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(CloseCode||(CloseCode={}));var MessageType;(function(s){s.ConnectionInit="connection_init",s.ConnectionAck="connection_ack",s.Ping="ping",s.Pong="pong",s.Subscribe="subscribe",s.Next="next",s.Error="error",s.Complete="complete"})(MessageType||(MessageType={}));function validateMessage(s){if(!isObject(s))throw new Error(`Message is expected to be an object, but got ${extendedTypeof(s)}`);if(!s.type)throw new Error("Message is missing the 'type' property");if(typeof s.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${extendedTypeof(s.type)}`);switch(s.type){case MessageType.ConnectionInit:case MessageType.ConnectionAck:case MessageType.Ping:case MessageType.Pong:{if(s.payload!=null&&!isObject(s.payload))throw new Error(`"${s.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${s.payload}"`);break}case MessageType.Subscribe:{if(typeof s.id!="string")throw new Error(`"${s.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(s.id)}`);if(!s.id)throw new Error(`"${s.type}" message requires a non-empty 'id' property`);if(!isObject(s.payload))throw new Error(`"${s.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(s.payload)}`);if(typeof s.payload.query!="string")throw new Error(`"${s.type}" message payload expects the 'query' property to be a string, but got ${extendedTypeof(s.payload.query)}`);if(s.payload.variables!=null&&!isObject(s.payload.variables))throw new Error(`"${s.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${extendedTypeof(s.payload.variables)}`);if(s.payload.operationName!=null&&extendedTypeof(s.payload.operationName)!=="string")throw new Error(`"${s.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${extendedTypeof(s.payload.operationName)}`);if(s.payload.extensions!=null&&!isObject(s.payload.extensions))throw new Error(`"${s.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${extendedTypeof(s.payload.extensions)}`);break}case MessageType.Next:{if(typeof s.id!="string")throw new Error(`"${s.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(s.id)}`);if(!s.id)throw new Error(`"${s.type}" message requires a non-empty 'id' property`);if(!isObject(s.payload))throw new Error(`"${s.type}" message expects the 'payload' property to be an object, but got ${extendedTypeof(s.payload)}`);break}case MessageType.Error:{if(typeof s.id!="string")throw new Error(`"${s.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(s.id)}`);if(!s.id)throw new Error(`"${s.type}" message requires a non-empty 'id' property`);if(!areGraphQLErrors(s.payload))throw new Error(`"${s.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(s.payload)}`);break}case MessageType.Complete:{if(typeof s.id!="string")throw new Error(`"${s.type}" message expects the 'id' property to be a string, but got ${extendedTypeof(s.id)}`);if(!s.id)throw new Error(`"${s.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${s.type}"`)}return s}function parseMessage(s,a){return validateMessage(typeof s=="string"?JSON.parse(s,a):s)}function stringifyMessage(s,a){return validateMessage(s),JSON.stringify(s,a)}var __await=function(s){return this instanceof __await?(this.v=s,this):new __await(s)},__asyncGenerator=function(s,a,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt=et.apply(s,a||[]),at,mt=[];return at=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),$t("next"),$t("throw"),$t("return",wt),at[Symbol.asyncIterator]=function(){return this},at;function wt(Lt){return function(Ut){return Promise.resolve(Ut).then(Lt,jt)}}function $t(Lt,Ut){nt[Lt]&&(at[Lt]=function(Vt){return new Promise(function(Yt,er){mt.push([Lt,Vt,Yt,er])>1||Ct(Lt,Vt)})},Ut&&(at[Lt]=Ut(at[Lt])))}function Ct(Lt,Ut){try{Dt(nt[Lt](Ut))}catch(Vt){Nt(mt[0][3],Vt)}}function Dt(Lt){Lt.value instanceof __await?Promise.resolve(Lt.value.v).then(Ft,jt):Nt(mt[0][2],Lt)}function Ft(Lt){Ct("next",Lt)}function jt(Lt){Ct("throw",Lt)}function Nt(Lt,Ut){Lt(Ut),mt.shift(),mt.length&&Ct(mt[0][0],mt[0][1])}};function createClient(s){const{url:a,connectionParams:et,lazy:nt=!0,onNonLazyError:at=console.error,lazyCloseTimeout:mt=0,keepAlive:wt=0,disablePong:$t,connectionAckWaitTimeout:Ct=0,retryAttempts:Dt=5,retryWait:Ft=async function(or){let ar=1e3;for(let ur=0;ur<or;ur++)ar*=2;await new Promise(ur=>setTimeout(ur,ar+Math.floor(Math.random()*2700+300)))},shouldRetry:jt=isLikeCloseEvent,isFatalConnectionProblem:Nt,on:Lt,webSocketImpl:Ut,generateID:Vt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,or=>{const ar=Math.random()*16|0;return(or=="x"?ar:ar&3|8).toString(16)})},jsonMessageReplacer:Yt,jsonMessageReviver:er}=s;let tr;if(Ut){if(!isWebSocket(Ut))throw new Error("Invalid WebSocket implementation provided");tr=Ut}else typeof WebSocket<"u"?tr=WebSocket:typeof global$1<"u"?tr=global$1.WebSocket||global$1.MozWebSocket:typeof window<"u"&&(tr=window.WebSocket||window.MozWebSocket);if(!tr)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const nr=tr,sr=(()=>{const rr=(()=>{const ar={};return{on(ur,pr){return ar[ur]=pr,()=>{delete ar[ur]}},emit(ur){var pr;"id"in ur&&((pr=ar[ur.id])===null||pr===void 0||pr.call(ar,ur))}}})(),or={connecting:Lt!=null&&Lt.connecting?[Lt.connecting]:[],opened:Lt!=null&&Lt.opened?[Lt.opened]:[],connected:Lt!=null&&Lt.connected?[Lt.connected]:[],ping:Lt!=null&&Lt.ping?[Lt.ping]:[],pong:Lt!=null&&Lt.pong?[Lt.pong]:[],message:Lt!=null&&Lt.message?[rr.emit,Lt.message]:[rr.emit],closed:Lt!=null&&Lt.closed?[Lt.closed]:[],error:Lt!=null&&Lt.error?[Lt.error]:[]};return{onMessage:rr.on,on(ar,ur){const pr=or[ar];return pr.push(ur),()=>{pr.splice(pr.indexOf(ur),1)}},emit(ar,...ur){for(const pr of[...or[ar]])pr(...ur)}}})();function dr(rr){const or=[sr.on("error",ar=>{or.forEach(ur=>ur()),rr(ar)}),sr.on("closed",ar=>{or.forEach(ur=>ur()),rr(ar)})]}let br,vr=0,yr,$r=!1,Sr=0,wr=!1;async function fr(){clearTimeout(yr);const[rr,or]=await(br??(br=new Promise((pr,cr)=>(async()=>{if($r){if(await Ft(Sr),!vr)return br=void 0,cr({code:1e3,reason:"All Subscriptions Gone"});Sr++}sr.emit("connecting",$r);const gr=new nr(typeof a=="function"?await a():a,GRAPHQL_TRANSPORT_WS_PROTOCOL);let hr,lr;function xr(){isFinite(wt)&&wt>0&&(clearTimeout(lr),lr=setTimeout(()=>{gr.readyState===nr.OPEN&&(gr.send(stringifyMessage({type:MessageType.Ping})),sr.emit("ping",!1,void 0))},wt))}dr(Pr=>{br=void 0,clearTimeout(hr),clearTimeout(lr),cr(Pr),Pr instanceof TerminatedCloseEvent&&(gr.close(4499,"Terminated"),gr.onerror=null,gr.onclose=null)}),gr.onerror=Pr=>sr.emit("error",Pr),gr.onclose=Pr=>sr.emit("closed",Pr),gr.onopen=async()=>{try{sr.emit("opened",gr);const Pr=typeof et=="function"?await et():et;if(gr.readyState!==nr.OPEN)return;gr.send(stringifyMessage(Pr?{type:MessageType.ConnectionInit,payload:Pr}:{type:MessageType.ConnectionInit},Yt)),isFinite(Ct)&&Ct>0&&(hr=setTimeout(()=>{gr.close(CloseCode.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},Ct)),xr()}catch(Pr){sr.emit("error",Pr),gr.close(CloseCode.InternalClientError,limitCloseReason(Pr instanceof Error?Pr.message:new Error(Pr).message,"Internal client error"))}};let Mr=!1;gr.onmessage=({data:Pr})=>{try{const Ar=parseMessage(Pr,er);if(sr.emit("message",Ar),Ar.type==="ping"||Ar.type==="pong"){sr.emit(Ar.type,!0,Ar.payload),Ar.type==="pong"?xr():$t||(gr.send(stringifyMessage(Ar.payload?{type:MessageType.Pong,payload:Ar.payload}:{type:MessageType.Pong})),sr.emit("pong",!1,Ar.payload));return}if(Mr)return;if(Ar.type!==MessageType.ConnectionAck)throw new Error(`First message cannot be of type ${Ar.type}`);clearTimeout(hr),Mr=!0,sr.emit("connected",gr,Ar.payload,$r),$r=!1,Sr=0,pr([gr,new Promise((Ir,qr)=>dr(qr))])}catch(Ar){gr.onmessage=null,sr.emit("error",Ar),gr.close(CloseCode.BadResponse,limitCloseReason(Ar instanceof Error?Ar.message:new Error(Ar).message,"Bad response"))}}})())));rr.readyState===nr.CLOSING&&await or;let ar=()=>{};const ur=new Promise(pr=>ar=pr);return[rr,ar,Promise.race([ur.then(()=>{if(!vr){const pr=()=>rr.close(1e3,"Normal Closure");isFinite(mt)&&mt>0?yr=setTimeout(()=>{rr.readyState===nr.OPEN&&pr()},mt):pr()}}),or])]}function _r(rr){if(isLikeCloseEvent(rr)&&(isFatalInternalCloseCode(rr.code)||[CloseCode.InternalServerError,CloseCode.InternalClientError,CloseCode.BadRequest,CloseCode.BadResponse,CloseCode.Unauthorized,CloseCode.SubprotocolNotAcceptable,CloseCode.SubscriberAlreadyExists,CloseCode.TooManyInitialisationRequests].includes(rr.code)))throw rr;if(wr)return!1;if(isLikeCloseEvent(rr)&&rr.code===1e3)return vr>0;if(!Dt||Sr>=Dt||!jt(rr)||Nt!=null&&Nt(rr))throw rr;return $r=!0}nt||(async()=>{for(vr++;;)try{const[,,rr]=await fr();await rr}catch(rr){try{if(!_r(rr))return}catch(or){return at==null?void 0:at(or)}}})();function ir(rr,or){const ar=Vt(rr);let ur=!1,pr=!1,cr=()=>{vr--,ur=!0};return(async()=>{for(vr++;;)try{const[gr,hr,lr]=await fr();if(ur)return hr();const xr=sr.onMessage(ar,Mr=>{switch(Mr.type){case MessageType.Next:{or.next(Mr.payload);return}case MessageType.Error:{pr=!0,ur=!0,or.error(Mr.payload),cr();return}case MessageType.Complete:{ur=!0,cr();return}}});gr.send(stringifyMessage({id:ar,type:MessageType.Subscribe,payload:rr},Yt)),cr=()=>{!ur&&gr.readyState===nr.OPEN&&gr.send(stringifyMessage({id:ar,type:MessageType.Complete},Yt)),vr--,ur=!0,hr()},await lr.finally(xr);return}catch(gr){if(!_r(gr))return}})().then(()=>{pr||or.complete()}).catch(gr=>{or.error(gr)}),()=>{ur||cr()}}return{on:sr.on,subscribe:ir,iterate(rr){const or=[],ar={done:!1,error:null,resolve:()=>{}},ur=ir(rr,{next(cr){or.push(cr),ar.resolve()},error(cr){ar.done=!0,ar.error=cr,ar.resolve()},complete(){ar.done=!0,ar.resolve()}}),pr=function(){return __asyncGenerator(this,arguments,function*(){for(;;){for(or.length||(yield __await(new Promise(hr=>ar.resolve=hr)));or.length;)yield yield __await(or.shift());if(ar.error)throw ar.error;if(ar.done)return yield __await(void 0)}})}();return pr.throw=async cr=>(ar.done||(ar.done=!0,ar.error=cr,ar.resolve()),{done:!0,value:void 0}),pr.return=async()=>(ur(),{done:!0,value:void 0}),pr},async dispose(){if(wr=!0,br){const[rr]=await br;rr.close(1e3,"Normal Closure")}},terminate(){br&&sr.emit("closed",new TerminatedCloseEvent)}}}class TerminatedCloseEvent extends Error{constructor(){super(...arguments),this.name="TerminatedCloseEvent",this.message="4499: Terminated",this.code=4499,this.reason="Terminated",this.wasClean=!1}}function isLikeCloseEvent(s){return isObject(s)&&"code"in s&&"reason"in s}function isFatalInternalCloseCode(s){return[1e3,1001,1006,1005,1012,1013,1014].includes(s)?!1:s>=1e3&&s<=1999}function isWebSocket(s){return typeof s=="function"&&"constructor"in s&&"CLOSED"in s&&"CLOSING"in s&&"CONNECTING"in s&&"OPEN"in s}var RelayConcreteNode$3={ACTOR_CHANGE:"ActorChange",CATCH_FIELD:"CatchField",CONDITION:"Condition",CLIENT_COMPONENT:"ClientComponent",CLIENT_EDGE_TO_SERVER_OBJECT:"ClientEdgeToServerObject",CLIENT_EDGE_TO_CLIENT_OBJECT:"ClientEdgeToClientObject",CLIENT_EXTENSION:"ClientExtension",DEFER:"Defer",CONNECTION:"Connection",FRAGMENT:"Fragment",FRAGMENT_SPREAD:"FragmentSpread",INLINE_DATA_FRAGMENT_SPREAD:"InlineDataFragmentSpread",INLINE_DATA_FRAGMENT:"InlineDataFragment",INLINE_FRAGMENT:"InlineFragment",LINKED_FIELD:"LinkedField",LINKED_HANDLE:"LinkedHandle",LITERAL:"Literal",LIST_VALUE:"ListValue",LOCAL_ARGUMENT:"LocalArgument",MODULE_IMPORT:"ModuleImport",ALIASED_FRAGMENT_SPREAD:"AliasedFragmentSpread",ALIASED_INLINE_FRAGMENT_SPREAD:"AliasedInlineFragmentSpread",RELAY_RESOLVER:"RelayResolver",RELAY_LIVE_RESOLVER:"RelayLiveResolver",REQUIRED_FIELD:"RequiredField",OBJECT_VALUE:"ObjectValue",OPERATION:"Operation",REQUEST:"Request",ROOT_ARGUMENT:"RootArgument",SCALAR_FIELD:"ScalarField",SCALAR_HANDLE:"ScalarHandle",SPLIT_OPERATION:"SplitOperation",STREAM:"Stream",TYPE_DISCRIMINATOR:"TypeDiscriminator",UPDATABLE_QUERY:"UpdatableQuery",VARIABLE:"Variable"},RelayConcreteNode_1=RelayConcreteNode$3,invariant$M=function(s,a,et,nt,at,mt,wt,$t){if(!s){var Ct;if(a===void 0)Ct=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Dt=[et,nt,at,mt,wt,$t],Ft=0;Ct=new Error(a.replace(/%s/g,function(){return Dt[Ft++]})),Ct.name="Invariant Violation"}throw Ct.framesToPop=1,Ct}},browser$1=invariant$M;function makeEmptyFunction(s){return function(){return s}}var emptyFunction$2=function s(){};emptyFunction$2.thatReturns=makeEmptyFunction;emptyFunction$2.thatReturnsFalse=makeEmptyFunction(!1);emptyFunction$2.thatReturnsTrue=makeEmptyFunction(!0);emptyFunction$2.thatReturnsNull=makeEmptyFunction(null);emptyFunction$2.thatReturnsThis=function(){return this};emptyFunction$2.thatReturnsArgument=function(s){return s};var emptyFunction_1=emptyFunction$2,emptyFunction$1=emptyFunction_1,warning$3=emptyFunction$1,warning_1=warning$3,RelayConcreteNode$2=RelayConcreteNode_1,invariant$L=browser$1;function graphql(s){invariant$L(!1)}function getNode(s){var a=s;return typeof a=="function"?a=a():a.default&&(a=a.default),a}function isFragment(s){var a=getNode(s);return typeof a=="object"&&a!==null&&a.kind===RelayConcreteNode$2.FRAGMENT}function isRequest(s){var a=getNode(s);return typeof a=="object"&&a!==null&&a.kind===RelayConcreteNode$2.REQUEST}function isUpdatableQuery(s){var a=getNode(s);return typeof a=="object"&&a!==null&&a.kind===RelayConcreteNode$2.UPDATABLE_QUERY}function isInlineDataFragment(s){var a=getNode(s);return typeof a=="object"&&a!==null&&a.kind===RelayConcreteNode$2.INLINE_DATA_FRAGMENT}function getFragment$3(s){var a=getNode(s);return isFragment(a)||invariant$L(!1),a}function getPaginationFragment(s){var a,et=getFragment$3(s),nt=(a=et.metadata)===null||a===void 0?void 0:a.refetch,at=nt==null?void 0:nt.connection;return nt===null||typeof nt!="object"||at===null||typeof at!="object"?null:et}function getRefetchableFragment(s){var a,et=getFragment$3(s),nt=(a=et.metadata)===null||a===void 0?void 0:a.refetch;return nt===null||typeof nt!="object"?null:et}function getRequest$5(s){var a=getNode(s);return isRequest(a)||invariant$L(!1),a}function getUpdatableQuery$1(s){var a=getNode(s);return isUpdatableQuery(a)||invariant$L(!1),a}function getInlineDataFragment$1(s){var a=getNode(s);return isInlineDataFragment(a)||invariant$L(!1),a}var GraphQLTag$1={getFragment:getFragment$3,getNode,getPaginationFragment,getRefetchableFragment,getRequest:getRequest$5,getUpdatableQuery:getUpdatableQuery$1,getInlineDataFragment:getInlineDataFragment$1,graphql,isFragment,isRequest,isInlineDataFragment},createForOfIteratorHelper={exports:{}},unsupportedIterableToArray={exports:{}},arrayLikeToArray={exports:{}};(function(s){function a(et,nt){(nt==null||nt>et.length)&&(nt=et.length);for(var at=0,mt=Array(nt);at<nt;at++)mt[at]=et[at];return mt}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(arrayLikeToArray);var arrayLikeToArrayExports=arrayLikeToArray.exports;(function(s){var a=arrayLikeToArrayExports;function et(nt,at){if(nt){if(typeof nt=="string")return a(nt,at);var mt={}.toString.call(nt).slice(8,-1);return mt==="Object"&&nt.constructor&&(mt=nt.constructor.name),mt==="Map"||mt==="Set"?Array.from(nt):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?a(nt,at):void 0}}s.exports=et,s.exports.__esModule=!0,s.exports.default=s.exports})(unsupportedIterableToArray);var unsupportedIterableToArrayExports=unsupportedIterableToArray.exports;(function(s){var a=unsupportedIterableToArrayExports;function et(nt,at){var mt=typeof Symbol<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!mt){if(Array.isArray(nt)||(mt=a(nt))||at&&nt&&typeof nt.length=="number"){mt&&(nt=mt);var wt=0,$t=function(){};return{s:$t,n:function(){return wt>=nt.length?{done:!0}:{done:!1,value:nt[wt++]}},e:function(Nt){throw Nt},f:$t}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ct,Dt=!0,Ft=!1;return{s:function(){mt=mt.call(nt)},n:function(){var Nt=mt.next();return Dt=Nt.done,Nt},e:function(Nt){Ft=!0,Ct=Nt},f:function(){try{Dt||mt.return==null||mt.return()}finally{if(Ft)throw Ct}}}}s.exports=et,s.exports.__esModule=!0,s.exports.default=s.exports})(createForOfIteratorHelper);var createForOfIteratorHelperExports=createForOfIteratorHelper.exports,_interopRequireDefault$s=interopRequireDefaultExports.default,_createForOfIteratorHelper2$f=_interopRequireDefault$s(createForOfIteratorHelperExports),invariant$K=browser$1;function handleFieldErrors(s,a){var et=(0,_createForOfIteratorHelper2$f.default)(a),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value;s.relayFieldLogger(at)}}catch(Ct){et.e(Ct)}finally{et.f()}var mt=(0,_createForOfIteratorHelper2$f.default)(a),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if(eventShouldThrow$1($t))switch($t.kind){case"relay_resolver.error":throw new Error("Relay: Resolver error at path '".concat($t.fieldPath,"' in '").concat($t.owner,"'."));case"relay_field_payload.error":throw new Error("Relay: Unexpected response payload - check server logs for details.");case"missing_expected_data.throw":throw new Error("Relay: Missing expected data at path '".concat($t.fieldPath,"' in '").concat($t.owner,"'."));case"missing_required_field.throw":throw new Error("Relay: Missing @required value at path '".concat($t.fieldPath,"' in '").concat($t.owner,"'."));case"missing_required_field.log":case"missing_expected_data.log":break;default:$t.kind,invariant$K(!1)}}}catch(Ct){mt.e(Ct)}finally{mt.f()}}function eventShouldThrow$1(s){switch(s.kind){case"relay_resolver.error":case"relay_field_payload.error":return s.shouldThrow&&!s.handled;case"missing_expected_data.throw":case"missing_required_field.throw":return!s.handled;case"missing_required_field.log":case"missing_expected_data.log":return!1;default:throw s.kind,new Error("Relay: Unexpected event kind")}}function handlePotentialSnapshotErrors$4(s,a){a!=null&&handleFieldErrors(s,a)}var handlePotentialSnapshotErrors_1={handlePotentialSnapshotErrors:handlePotentialSnapshotErrors$4,eventShouldThrow:eventShouldThrow$1},objectSpread2={exports:{}};(function(s){var a=requireDefineProperty();function et(at,mt){var wt=Object.keys(at);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(at);mt&&($t=$t.filter(function(Ct){return Object.getOwnPropertyDescriptor(at,Ct).enumerable})),wt.push.apply(wt,$t)}return wt}function nt(at){for(var mt=1;mt<arguments.length;mt++){var wt=arguments[mt]!=null?arguments[mt]:{};mt%2?et(Object(wt),!0).forEach(function($t){a(at,$t,wt[$t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(wt)):et(Object(wt)).forEach(function($t){Object.defineProperty(at,$t,Object.getOwnPropertyDescriptor(wt,$t))})}return at}s.exports=nt,s.exports.__esModule=!0,s.exports.default=s.exports})(objectSpread2);var objectSpread2Exports=objectSpread2.exports,toConsumableArray={exports:{}},arrayWithoutHoles={exports:{}};(function(s){var a=arrayLikeToArrayExports;function et(nt){if(Array.isArray(nt))return a(nt)}s.exports=et,s.exports.__esModule=!0,s.exports.default=s.exports})(arrayWithoutHoles);var arrayWithoutHolesExports=arrayWithoutHoles.exports,iterableToArray={exports:{}};(function(s){function a(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(iterableToArray);var iterableToArrayExports=iterableToArray.exports,nonIterableSpread={exports:{}};(function(s){function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(nonIterableSpread);var nonIterableSpreadExports=nonIterableSpread.exports;(function(s){var a=arrayWithoutHolesExports,et=iterableToArrayExports,nt=unsupportedIterableToArrayExports,at=nonIterableSpreadExports;function mt(wt){return a(wt)||et(wt)||nt(wt)||at()}s.exports=mt,s.exports.__esModule=!0,s.exports.default=s.exports})(toConsumableArray);var toConsumableArrayExports=toConsumableArray.exports,RelayDefaultHandleKey$1={DEFAULT_HANDLE_KEY:""},_require$O=RelayDefaultHandleKey$1,DEFAULT_HANDLE_KEY=_require$O.DEFAULT_HANDLE_KEY,invariant$J=browser$1;function getRelayHandleKey$3(s,a,et){return a&&a!==DEFAULT_HANDLE_KEY?"__".concat(a,"_").concat(s):(et==null&&invariant$J(!1),"__".concat(et,"_").concat(s))}var getRelayHandleKey_1=getRelayHandleKey$3;function stableCopy$6(s){if(!s||typeof s!="object")return s;if(Array.isArray(s))return s.map(stableCopy$6);for(var a=Object.keys(s).sort(),et={},nt=0;nt<a.length;nt++)et[a[nt]]=stableCopy$6(s[a[nt]]);return et}function hasCycle$2(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;if(!s||typeof s!="object")return!1;if(a.has(s))return!0;var et=new Set(a);et.add(s);var nt=Array.isArray(s)?s:Object.values(s);return nt.some(function(at){return hasCycle$2(at,et)})}var stableCopy_1={stableCopy:stableCopy$6,hasCycle:hasCycle$2},_interopRequireDefault$r=interopRequireDefaultExports.default,_toConsumableArray2$5=_interopRequireDefault$r(toConsumableArrayExports),getRelayHandleKey$2=getRelayHandleKey_1,RelayConcreteNode$1=RelayConcreteNode_1,_require$N=stableCopy_1,stableCopy$5=_require$N.stableCopy,invariant$I=browser$1,VARIABLE=RelayConcreteNode$1.VARIABLE,LITERAL=RelayConcreteNode$1.LITERAL,OBJECT_VALUE=RelayConcreteNode$1.OBJECT_VALUE,LIST_VALUE=RelayConcreteNode$1.LIST_VALUE,ERRORS_KEY$1="__errors",MODULE_COMPONENT_KEY_PREFIX="__module_component_",MODULE_OPERATION_KEY_PREFIX="__module_operation_";function getArgumentValue(s,a){if(s.kind===VARIABLE)return getStableVariableValue(s.variableName,a);if(s.kind===LITERAL)return s.value;if(s.kind===OBJECT_VALUE){var et={};return s.fields.forEach(function(at){et[at.name]=getArgumentValue(at,a)}),et}else if(s.kind===LIST_VALUE){var nt=[];return s.items.forEach(function(at){at!=null&&nt.push(getArgumentValue(at,a))}),nt}}function getArgumentValues$5(s,a,et){var nt={};return et&&(nt[RelayStoreUtils$4.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]=!0),s&&s.forEach(function(at){nt[at.name]=getArgumentValue(at,a)}),nt}function getHandleStorageKey$3(s,a){var et=s.dynamicKey,nt=s.handle,at=s.key,mt=s.name,wt=s.args,$t=s.filters,Ct=getRelayHandleKey$2(nt,at,mt),Dt=null;return wt&&$t&&wt.length!==0&&$t.length!==0&&(Dt=wt.filter(function(Ft){return $t.indexOf(Ft.name)>-1})),et&&(Dt=Dt!=null?[et].concat((0,_toConsumableArray2$5.default)(Dt)):[et]),Dt===null?Ct:formatStorageKey(Ct,getArgumentValues$5(Dt,a))}function getStorageKey$7(s,a){if(s.storageKey)return s.storageKey;var et=getArguments(s),nt=s.name;return et&&et.length!==0?formatStorageKey(nt,getArgumentValues$5(et,a)):nt}function getArguments(s){if(s.kind==="RelayResolver"||s.kind==="RelayLiveResolver"){var a;if(s.args==null){var et;return(et=s.fragment)===null||et===void 0?void 0:et.args}return((a=s.fragment)===null||a===void 0?void 0:a.args)==null?s.args:s.args.concat(s.fragment.args)}var nt=typeof s.args>"u"?void 0:s.args;return nt}function getStableStorageKey$2(s,a){return formatStorageKey(s,stableCopy$5(a))}function formatStorageKey(s,a){if(!a)return s;var et=[];for(var nt in a)if(a.hasOwnProperty(nt)){var at=a[nt];if(at!=null){var mt;et.push(nt+":"+((mt=JSON.stringify(at))!==null&&mt!==void 0?mt:"undefined"))}}return et.length===0?s:s+"(".concat(et.join(","),")")}function getStableVariableValue(s,a){return a.hasOwnProperty(s)||invariant$I(!1),stableCopy$5(a[s])}function getModuleComponentKey$3(s){return"".concat(MODULE_COMPONENT_KEY_PREFIX).concat(s)}function getModuleOperationKey$4(s){return"".concat(MODULE_OPERATION_KEY_PREFIX).concat(s)}var RelayStoreUtils$4={ACTOR_IDENTIFIER_KEY:"__actorIdentifier",CLIENT_EDGE_TRAVERSAL_PATH:"__clientEdgeTraversalPath",FRAGMENTS_KEY:"__fragments",FRAGMENT_OWNER_KEY:"__fragmentOwner",FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT:"$isWithinUnmatchedTypeRefinement",FRAGMENT_PROP_NAME_KEY:"__fragmentPropName",MODULE_COMPONENT_KEY:"__module_component",ERRORS_KEY:ERRORS_KEY$1,ID_KEY:"__id",REF_KEY:"__ref",REFS_KEY:"__refs",ROOT_ID:"client:root",ROOT_TYPE:"__Root",TYPENAME_KEY:"__typename",INVALIDATED_AT_KEY:"__invalidated_at",RELAY_RESOLVER_VALUE_KEY:"__resolverValue",RELAY_RESOLVER_INVALIDATION_KEY:"__resolverValueMayBeInvalid",RELAY_RESOLVER_SNAPSHOT_KEY:"__resolverSnapshot",RELAY_RESOLVER_ERROR_KEY:"__resolverError",RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS:"__resolverOutputTypeRecordIDs",getArgumentValues:getArgumentValues$5,getHandleStorageKey:getHandleStorageKey$3,getStorageKey:getStorageKey$7,getStableStorageKey:getStableStorageKey$2,getModuleComponentKey:getModuleComponentKey$3,getModuleOperationKey:getModuleOperationKey$4},RelayStoreUtils_1=RelayStoreUtils$4,_interopRequireDefault$q=interopRequireDefaultExports.default,_objectSpread2$a=_interopRequireDefault$q(objectSpread2Exports),_require$M=RelayStoreUtils_1,getArgumentValues$4=_require$M.getArgumentValues,invariant$H=browser$1;function getFragmentVariables$1(s,a,et){if(s.argumentDefinitions==null)return et;var nt;return s.argumentDefinitions.forEach(function(at){if(!et.hasOwnProperty(at.name))switch(nt=nt||(0,_objectSpread2$a.default)({},et),at.kind){case"LocalArgument":nt[at.name]=at.defaultValue;break;case"RootArgument":if(!a.hasOwnProperty(at.name)){nt[at.name]=void 0;break}nt[at.name]=a[at.name];break;default:invariant$H(!1)}}),nt||et}function getOperationVariables$1(s,a,et){var nt={};return s.argumentDefinitions.forEach(function(at){var mt=at.defaultValue;et[at.name]!=null&&(mt=et[at.name]),nt[at.name]=mt}),a!=null&&Object.keys(a).forEach(function(at){nt[at]=a[at].get()}),nt}function getLocalVariables$4(s,a,et){if(a==null)return s;var nt=(0,_objectSpread2$a.default)({},s),at=et?getArgumentValues$4(et,s):{};return a.forEach(function(mt){var wt,$t=(wt=at[mt.name])!==null&&wt!==void 0?wt:mt.defaultValue;nt[mt.name]=$t}),nt}var RelayConcreteVariables$2={getLocalVariables:getLocalVariables$4,getFragmentVariables:getFragmentVariables$1,getOperationVariables:getOperationVariables$1},aStackPool=[],bStackPool=[];/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function areEqual$5(s,a){var et=aStackPool.length?aStackPool.pop():[],nt=bStackPool.length?bStackPool.pop():[],at=eq(s,a,et,nt);return et.length=0,nt.length=0,aStackPool.push(et),bStackPool.push(nt),at}function eq(s,a,et,nt){if(s===a)return s!==0||1/s==1/a;if(s==null||a==null||typeof s!="object"||typeof a!="object")return!1;var at=Object.prototype.toString,mt=at.call(s);if(mt!=at.call(a))return!1;switch(mt){case"[object String]":return s==String(a);case"[object Number]":return isNaN(s)||isNaN(a)?!1:s==Number(a);case"[object Date]":case"[object Boolean]":return+s==+a;case"[object RegExp]":return s.source==a.source&&s.global==a.global&&s.multiline==a.multiline&&s.ignoreCase==a.ignoreCase}for(var wt=et.length;wt--;)if(et[wt]==s)return nt[wt]==a;et.push(s),nt.push(a);var $t=0;if(mt==="[object Array]"){if($t=s.length,$t!==a.length)return!1;for(;$t--;)if(!eq(s[$t],a[$t],et,nt))return!1}else{if(s.constructor!==a.constructor)return!1;if(s.hasOwnProperty("valueOf")&&a.hasOwnProperty("valueOf"))return s.valueOf()==a.valueOf();var Ct=Object.keys(s);if(Ct.length!=Object.keys(a).length)return!1;for(var Dt=0;Dt<Ct.length;Dt++)if(!eq(s[Ct[Dt]],a[Ct[Dt]],et,nt))return!1}return et.pop(),nt.pop(),!0}var areEqual_1=areEqual$5,_require$L=RelayConcreteVariables$2,getFragmentVariables=_require$L.getFragmentVariables,_require2$v=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH$1=_require2$v.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY$1=_require2$v.FRAGMENT_OWNER_KEY,FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT=_require2$v.FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT,FRAGMENTS_KEY$2=_require2$v.FRAGMENTS_KEY,ID_KEY$3=_require2$v.ID_KEY,areEqual$4=areEqual_1,invariant$G=browser$1;function getSingularSelector(s,a){typeof a=="object"&&a!==null&&!Array.isArray(a)||invariant$G(!1);var et=a[ID_KEY$3],nt=a[FRAGMENTS_KEY$2],at=a[FRAGMENT_OWNER_KEY$1],mt=a[CLIENT_EDGE_TRAVERSAL_PATH$1];if(typeof et=="string"&&typeof nt=="object"&&nt!==null&&typeof nt[s.name]=="object"&&nt[s.name]!==null&&typeof at=="object"&&at!==null&&(mt==null||Array.isArray(mt))){var wt=at,$t=mt,Ct=nt[s.name],Dt=getFragmentVariables(s,wt.variables,Ct),Ft=Ct[FRAGMENT_POINTER_IS_WITHIN_UNMATCHED_TYPE_REFINEMENT]===!0;return createReaderSelector$4(s,et,Dt,wt,Ft,$t)}return null}function getPluralSelector(s,a){var et=null;return a.forEach(function(nt,at){var mt=nt!=null?getSingularSelector(s,nt):null;mt!=null&&(et=et||[],et.push(mt))}),et==null?null:{kind:"PluralReaderSelector",selectors:et}}function getSelector$3(s,a){return a==null?a:s.metadata&&s.metadata.plural===!0?(Array.isArray(a)||invariant$G(!1),getPluralSelector(s,a)):(Array.isArray(a)&&invariant$G(!1),getSingularSelector(s,a))}function getSelectorsFromObject$1(s,a){var et={};for(var nt in s)if(s.hasOwnProperty(nt)){var at=s[nt],mt=a[nt];et[nt]=getSelector$3(at,mt)}return et}function getDataIDsFromObject(s,a){var et={};for(var nt in s)if(s.hasOwnProperty(nt)){var at=s[nt],mt=a[nt];et[nt]=getDataIDsFromFragment$1(at,mt)}return et}function getDataIDsFromFragment$1(s,a){return a==null?a:s.metadata&&s.metadata.plural===!0?(Array.isArray(a)||invariant$G(!1),getDataIDs(s,a)):(Array.isArray(a)&&invariant$G(!1),getDataID$1(s,a))}function getDataIDs(s,a){var et=null;return a.forEach(function(nt){var at=nt!=null?getDataID$1(s,nt):null;at!=null&&(et=et||[],et.push(at))}),et}function getDataID$1(s,a){typeof a=="object"&&a!==null&&!Array.isArray(a)||invariant$G(!1);var et=a[ID_KEY$3];return typeof et=="string"?et:null}function getVariablesFromObject(s,a){var et={};for(var nt in s)if(s.hasOwnProperty(nt)){var at=s[nt],mt=a[nt],wt=getVariablesFromFragment$2(at,mt);Object.assign(et,wt)}return et}function getVariablesFromFragment$2(s,a){var et;return a==null?{}:((et=s.metadata)===null||et===void 0?void 0:et.plural)===!0?(Array.isArray(a)||invariant$G(!1),getVariablesFromPluralFragment(s,a)):(Array.isArray(a)&&invariant$G(!1),getVariablesFromSingularFragment(s,a)||{})}function getVariablesFromSingularFragment(s,a){var et=getSingularSelector(s,a);return et?et.variables:null}function getVariablesFromPluralFragment(s,a){var et={};return a.forEach(function(nt,at){if(nt!=null){var mt=getVariablesFromSingularFragment(s,nt);mt!=null&&Object.assign(et,mt)}}),et}function areEqualSingularSelectors(s,a){return s.dataID===a.dataID&&s.node===a.node&&areEqual$4(s.variables,a.variables)&&areEqualOwners(s.owner,a.owner)&&s.isWithinUnmatchedTypeRefinement===a.isWithinUnmatchedTypeRefinement&&areEqualClientEdgeTraversalPaths(s.clientEdgeTraversalPath,a.clientEdgeTraversalPath)}function areEqualOwners(s,a){return s===a?!0:s.identifier===a.identifier&&areEqual$4(s.cacheConfig,a.cacheConfig)}function areEqualClientEdgeTraversalPaths(s,a){if(s===a)return!0;if(s==null||a==null||s.length!==a.length)return!1;for(var et=s.length;et--;){var nt=s[et],at=a[et];if(nt!==at&&(nt==null||at==null||nt.clientEdgeDestinationID!==at.clientEdgeDestinationID||nt.readerClientEdge!==at.readerClientEdge))return!1}return!0}function areEqualSelectors$1(s,a){return s===a?!0:s==null?a==null:a==null?s==null:s.kind==="SingularReaderSelector"&&a.kind==="SingularReaderSelector"?areEqualSingularSelectors(s,a):s.kind==="PluralReaderSelector"&&a.kind==="PluralReaderSelector"?s.selectors.length===a.selectors.length&&s.selectors.every(function(et,nt){return areEqualSingularSelectors(et,a.selectors[nt])}):!1}function createReaderSelector$4(s,a,et,nt){var at=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,mt=arguments.length>5?arguments[5]:void 0;return{kind:"SingularReaderSelector",dataID:a,isWithinUnmatchedTypeRefinement:at,clientEdgeTraversalPath:mt??null,node:s,variables:et,owner:nt}}function createNormalizationSelector$4(s,a,et){return{dataID:a,node:s,variables:et}}var RelayModernSelector$1={areEqualSelectors:areEqualSelectors$1,createReaderSelector:createReaderSelector$4,createNormalizationSelector:createNormalizationSelector$4,getDataIDsFromFragment:getDataIDsFromFragment$1,getDataIDsFromObject,getSingularSelector,getPluralSelector,getSelector:getSelector$3,getSelectorsFromObject:getSelectorsFromObject$1,getVariablesFromSingularFragment,getVariablesFromPluralFragment,getVariablesFromFragment:getVariablesFromFragment$2,getVariablesFromObject},_require$K=GraphQLTag$1,getFragment$2=_require$K.getFragment,_require2$u=handlePotentialSnapshotErrors_1,eventShouldThrow=_require2$u.eventShouldThrow,_require3$i=RelayModernSelector$1,getSelector$2=_require3$i.getSelector,invariant$F=browser$1,contextStack=[];function withResolverContext$1(s,a){contextStack.push(s);try{return a()}finally{contextStack.pop()}}function readFragment(s,a){if(!contextStack.length)throw new Error("readFragment should be called only from within a Relay Resolver function.");var et=contextStack[contextStack.length-1],nt=getFragment$2(s),at=getSelector$2(nt,a);at==null&&invariant$F(!1),at.kind!=="SingularReaderSelector"&&invariant$F(!1);var mt=et.getDataForResolverFragment(at,a),wt=mt.data,$t=mt.isMissingData,Ct=mt.errorResponseFields;if($t||Ct!=null&&Ct.some(eventShouldThrow))throw RESOLVER_FRAGMENT_ERRORED_SENTINEL$1;return wt}var RESOLVER_FRAGMENT_ERRORED_SENTINEL$1={},ResolverFragments$1={readFragment,withResolverContext:withResolverContext$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL:RESOLVER_FRAGMENT_ERRORED_SENTINEL$1},_require$J=ResolverFragments$1;_require$J.readFragment;function isPromise$2(s){return s!=null&&typeof s=="object"&&typeof s.then=="function"}var isPromise_1=isPromise$2,isPromise$1=isPromise_1,hostReportError=swallowError,RelayObservable$6=function(){s.create=function(nt){return new s(nt)};function s(et){this._source=et}s.onUnhandledError=function(nt){hostReportError=nt},s.from=function(nt){return isObservable(nt)?fromObservable(nt):isPromise$1(nt)?fromPromise(nt):fromValue(nt)};var a=s.prototype;return a.catch=function(nt){var at=this;return s.create(function(mt){var wt;return at.subscribe({start:function(Ct){wt=Ct},next:mt.next,complete:mt.complete,error:function(Ct){try{nt(Ct).subscribe({start:function(Ft){wt=Ft},next:mt.next,complete:mt.complete,error:mt.error})}catch(Dt){mt.error(Dt,!0)}}}),function(){return wt.unsubscribe()}})},a.concat=function(nt){var at=this;return s.create(function(mt){var wt;return at.subscribe({start:function(Ct){wt=Ct},next:mt.next,error:mt.error,complete:function(){wt=nt.subscribe(mt)}}),function(){wt&&wt.unsubscribe()}})},a.do=function(nt){var at=this;return s.create(function(mt){var wt=function(Ct){return function(){try{nt[Ct]&&nt[Ct].apply(nt,arguments)}catch(Dt){hostReportError(Dt,!0)}mt[Ct]&&mt[Ct].apply(mt,arguments)}};return at.subscribe({start:wt("start"),next:wt("next"),error:wt("error"),complete:wt("complete"),unsubscribe:wt("unsubscribe")})})},a.finally=function(nt){var at=this;return s.create(function(mt){var wt=at.subscribe(mt);return function(){wt.unsubscribe(),nt()}})},a.ifEmpty=function(nt){var at=this;return s.create(function(mt){var wt=!1,$t;return $t=at.subscribe({next:function(Dt){wt=!0,mt.next(Dt)},error:mt.error,complete:function(){wt?mt.complete():$t=nt.subscribe(mt)}}),function(){$t&&$t.unsubscribe()}})},a.subscribe=function(nt){return _subscribe(this._source,nt)},a.map=function(nt){var at=this;return s.create(function(mt){var wt=at.subscribe({complete:mt.complete,error:mt.error,next:function(Ct){try{var Dt=nt(Ct);mt.next(Dt)}catch(Ft){mt.error(Ft,!0)}}});return function(){wt.unsubscribe()}})},a.mergeMap=function(nt){var at=this;return s.create(function(mt){var wt=[];function $t(Dt){this._sub=Dt,wt.push(Dt)}function Ct(){wt.splice(wt.indexOf(this._sub),1),wt.length===0&&mt.complete()}return at.subscribe({start:$t,next:function(Ft){try{mt.closed||s.from(nt(Ft)).subscribe({start:$t,next:mt.next,error:mt.error,complete:Ct})}catch(jt){mt.error(jt,!0)}},error:mt.error,complete:Ct}),function(){wt.forEach(function(Dt){return Dt.unsubscribe()}),wt.length=0}})},a.poll=function(nt){var at=this;return s.create(function(mt){var wt,$t,Ct=function Dt(){wt=at.subscribe({next:mt.next,error:mt.error,complete:function(){$t=setTimeout(Dt,nt)}})};return Ct(),function(){clearTimeout($t),wt.unsubscribe()}})},a.toPromise=function(){var nt=this;return new Promise(function(at,mt){var wt=!1;nt.subscribe({next:function(Ct){wt||(wt=!0,at(Ct))},error:mt,complete:at})})},s}();function isObservable(s){return typeof s=="object"&&s!==null&&typeof s.subscribe=="function"}function fromObservable(s){return s instanceof RelayObservable$6?s:RelayObservable$6.create(function(a){return s.subscribe(a)})}function fromPromise(s){return RelayObservable$6.create(function(a){s.then(function(et){a.next(et),a.complete()},a.error)})}function fromValue(s){return RelayObservable$6.create(function(a){a.next(s),a.complete()})}function _subscribe(s,a){var et=!1,nt,at=function(Dt){return Object.defineProperty(Dt,"closed",{get:function(){return et}})};function mt(){if(nt){if(nt.unsubscribe)nt.unsubscribe();else try{nt()}catch(Ct){hostReportError(Ct,!0)}nt=void 0}}var wt=at({unsubscribe:function(){if(!et){et=!0;try{a.unsubscribe&&a.unsubscribe(wt)}catch(Dt){hostReportError(Dt,!0)}finally{mt()}}}});try{a.start&&a.start(wt)}catch(Ct){hostReportError(Ct,!0)}if(et)return wt;var $t=at({next:function(Dt){if(!et&&a.next)try{a.next(Dt)}catch(Ft){hostReportError(Ft,!0)}},error:function(Dt,Ft){if(et||!a.error)et=!0,hostReportError(Dt,Ft||!1),mt();else{et=!0;try{a.error(Dt)}catch(jt){hostReportError(jt,!0)}finally{mt()}}},complete:function(){if(!et){et=!0;try{a.complete&&a.complete()}catch(Dt){hostReportError(Dt,!0)}finally{mt()}}}});try{nt=s($t)}catch(Ct){$t.error(Ct,!0)}return et&&mt(),wt}function swallowError(s,a){}var RelayObservable_1=RelayObservable$6,_interopRequireDefault$p=interopRequireDefaultExports.default,_createForOfIteratorHelper2$e=_interopRequireDefault$p(createForOfIteratorHelperExports),_defineProperty2$5=_interopRequireDefault$p(requireDefineProperty()),RelayObservable$5=RelayObservable_1,invariant$E=browser$1,RelayReplaySubject$2=function(){function s(){var et=this;(0,_defineProperty2$5.default)(this,"_complete",!1),(0,_defineProperty2$5.default)(this,"_events",[]),(0,_defineProperty2$5.default)(this,"_sinks",new Set),(0,_defineProperty2$5.default)(this,"_subscription",[]),this._observable=RelayObservable$5.create(function(nt){et._sinks.add(nt);for(var at=et._events,mt=0;mt<at.length&&!nt.closed;mt++){var wt=at[mt];switch(wt.kind){case"complete":nt.complete();break;case"error":nt.error(wt.error);break;case"next":nt.next(wt.data);break;default:wt.kind,invariant$E(!1)}}return function(){et._sinks.delete(nt)}})}var a=s.prototype;return a.complete=function(){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"complete"}),this._sinks.forEach(function(nt){return nt.complete()}))},a.error=function(nt){this._complete!==!0&&(this._complete=!0,this._events.push({kind:"error",error:nt}),this._sinks.forEach(function(at){return at.error(nt)}))},a.next=function(nt){this._complete!==!0&&(this._events.push({kind:"next",data:nt}),this._sinks.forEach(function(at){return at.next(nt)}))},a.subscribe=function(nt){var at=this._observable.subscribe(nt);return this._subscription.push(at),at},a.unsubscribe=function(){var nt=(0,_createForOfIteratorHelper2$e.default)(this._subscription),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;mt.unsubscribe()}}catch(wt){nt.e(wt)}finally{nt.f()}this._subscription=[]},a.getObserverCount=function(){return this._sinks.size},s}(),RelayReplaySubject_1=RelayReplaySubject$2,Observable$1=RelayObservable_1,RelayReplaySubject$1=RelayReplaySubject_1,invariant$D=browser$1,WEAKMAP_SUPPORTED$1=typeof WeakMap=="function",requestCachesByEnvironment=WEAKMAP_SUPPORTED$1?new WeakMap:new Map;function fetchQuery$2(s,a){return fetchQueryDeduped(s,a.request.identifier,function(){return s.execute({operation:a})})}function fetchQueryDeduped(s,a,et){return Observable$1.create(function(nt){var at=getRequestCache(s),mt=at.get(a);return mt||et().finally(function(){return at.delete(a)}).subscribe({start:function($t){mt={identifier:a,subject:new RelayReplaySubject$1,subjectForInFlightStatus:new RelayReplaySubject$1,subscription:$t,promise:null},at.set(a,mt)},next:function($t){var Ct=getCachedRequest(at,a);Ct.subject.next($t),Ct.subjectForInFlightStatus.next($t)},error:function($t){var Ct=getCachedRequest(at,a);Ct.subject.error($t),Ct.subjectForInFlightStatus.error($t)},complete:function(){var $t=getCachedRequest(at,a);$t.subject.complete(),$t.subjectForInFlightStatus.complete()},unsubscribe:function($t){var Ct=getCachedRequest(at,a);Ct.subject.unsubscribe(),Ct.subjectForInFlightStatus.unsubscribe()}}),mt==null&&invariant$D(!1),getObservableForCachedRequest(at,mt).subscribe(nt)})}function getObservableForCachedRequest(s,a){return Observable$1.create(function(et){var nt=a.subject.subscribe(et);return function(){nt.unsubscribe();var at=s.get(a.identifier);if(at){var mt=at.subscription;mt!=null&&at.subject.getObserverCount()===0&&(mt.unsubscribe(),s.delete(a.identifier))}}})}function getActiveStatusObservableForCachedRequest(s,a,et){return Observable$1.create(function(nt){var at=et.subjectForInFlightStatus.subscribe({error:nt.error,next:function(wt){if(!s.isRequestActive(et.identifier)){nt.complete();return}nt.next()},complete:nt.complete,unsubscribe:nt.complete});return function(){at.unsubscribe()}})}function getPromiseForActiveRequest$1(s,a){var et=getRequestCache(s),nt=et.get(a.identifier);if(!nt||!s.isRequestActive(nt.identifier))return null;var at=new Promise(function(mt,wt){var $t=!1;getActiveStatusObservableForCachedRequest(s,et,nt).subscribe({complete:mt,error:wt,next:function(Dt){$t&&mt(Dt)}}),$t=!0});return at}function getObservableForActiveRequest(s,a){var et=getRequestCache(s),nt=et.get(a.identifier);return!nt||!s.isRequestActive(nt.identifier)?null:getActiveStatusObservableForCachedRequest(s,et,nt)}function getRequestCache(s){var a=requestCachesByEnvironment.get(s);if(a!=null)return a;var et=new Map;return requestCachesByEnvironment.set(s,et),et}function getCachedRequest(s,a){var et=s.get(a);return et==null&&invariant$D(!1),et}var fetchQueryInternal$2={fetchQuery:fetchQuery$2,fetchQueryDeduped,getPromiseForActiveRequest:getPromiseForActiveRequest$1,getObservableForActiveRequest},_require$I=fetchQueryInternal$2,getPromiseForActiveRequest=_require$I.getPromiseForActiveRequest;function getPendingOperationsForFragment$3(s,a,et){var nt,at,mt=[],wt=getPromiseForActiveRequest(s,et);if(wt!=null)mt=[et];else{var $t,Ct,Dt=s.getOperationTracker(),Ft=Dt.getPendingOperationsAffectingOwner(et);mt=($t=Ft==null?void 0:Ft.pendingOperations)!==null&&$t!==void 0?$t:[],wt=(Ct=Ft==null?void 0:Ft.promise)!==null&&Ct!==void 0?Ct:null}if(!wt)return null;var jt=(nt=(at=mt)===null||at===void 0?void 0:at.map(function(Ut){return Ut.node.params.name}).join(","))!==null&&nt!==void 0?nt:null;(jt==null||jt.length===0)&&(jt="Unknown pending operation");var Nt=a.name,Lt=jt===Nt?"Relay(".concat(jt,")"):"Relay(".concat(jt,":").concat(Nt,")");return wt.displayName=Lt,s.__log({name:"pendingoperation.found",fragment:a,fragmentOwner:et,pendingOperations:mt}),{promise:wt,pendingOperations:mt}}var getPendingOperationsForFragment_1=getPendingOperationsForFragment$3;requireAsyncToGenerator().default;var Observable=RelayObservable_1,_require$H=GraphQLTag$1,getFragment$1=_require$H.getFragment,getPendingOperationsForFragment$2=getPendingOperationsForFragment_1,_require2$t=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$3=_require2$t.handlePotentialSnapshotErrors,_require3$h=RelayModernSelector$1,getSelector$1=_require3$h.getSelector,invariant$C=browser$1;function observeFragment$1(s,a,et){var nt,at=getFragment$1(a),mt=getSelector$1(at,et);switch(((nt=at.metadata)===null||nt===void 0?void 0:nt.hasClientEdges)!=null&&invariant$C(!1),mt==null&&invariant$C(!1),mt.kind){case"SingularReaderSelector":return observeSelector(s,a,mt);case"PluralReaderSelector":invariant$C(!1)}invariant$C(!1)}function observeSelector(s,a,et){var nt=s.lookup(et);return Observable.create(function(at){at.next(snapshotToFragmentState(s,a,et.owner,nt));var mt=s.subscribe(nt,function(wt){at.next(snapshotToFragmentState(s,a,et.owner,wt))});return function(){return mt.dispose()}})}function snapshotToFragmentState(s,a,et,nt){var at=nt.missingLiveResolverFields!=null&&nt.missingLiveResolverFields.length>0,mt=nt.missingClientEdges!=null&&nt.missingClientEdges.length>0;if(at||mt)return{state:"loading"};if(nt.isMissingData){var wt=getPendingOperationsForFragment$2(s,a,et);if(wt!=null)return{state:"loading"}}try{handlePotentialSnapshotErrors$3(s,nt.errorResponseFields)}catch($t){return{error:$t,state:"error"}}return nt.data==null&&invariant$C(!1),{state:"ok",value:nt.data}}var observeFragmentExperimental={observeFragment:observeFragment$1},_asyncToGenerator=requireAsyncToGenerator().default,_require$G=observeFragmentExperimental,observeFragment=_require$G.observeFragment;function waitForFragmentData(s,a,et){return _waitForFragmentData.apply(this,arguments)}function _waitForFragmentData(){return _waitForFragmentData=_asyncToGenerator(function*(s,a,et){var nt;try{var at,mt=yield new Promise(function($t,Ct){nt=observeFragment(s,a,et).subscribe({next:function(Ft){Ft.state==="ok"?$t(Ft.value):Ft.state==="error"&&Ct(Ft.error)}})});return(at=nt)===null||at===void 0||at.unsubscribe(),mt}catch($t){var wt;throw(wt=nt)===null||wt===void 0||wt.unsubscribe(),$t}}),_waitForFragmentData.apply(this,arguments)}var waitForFragmentExperimental={waitForFragmentData},_require$F=observeFragmentExperimental;_require$F.observeFragment;var _require2$s=waitForFragmentExperimental;_require2$s.waitForFragmentData;function isValueResult$1(s){return s.ok===!0}function isErrorResult$1(s){return s.ok===!1}var experimental={isValueResult:isValueResult$1,isErrorResult:isErrorResult$1},RelayFeatureFlags$9={ENABLE_VARIABLE_CONNECTION_KEY:!1,ENABLE_RELAY_RESOLVERS:!1,ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION:!1,ENABLE_FRIENDLY_QUERY_NAME_GQL_URL:!1,ENABLE_DO_NOT_WRAP_LIVE_QUERY:!1,ENABLE_NOTIFY_SUBSCRIPTION:!1,BATCH_ASYNC_MODULE_UPDATES_FN:null,ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT:!1,MAX_DATA_ID_LENGTH:null,STRING_INTERN_LEVEL:0,LOG_MISSING_RECORDS_IN_PROD:!1,ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS:!1,ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION:!1,ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES:!1,ENABLE_RELAY_OPERATION_TRACKER_SUSPENSE:!1,PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION:!1,MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD:!1,ENABLE_CYLE_DETECTION_IN_VARIABLES:!1,ENABLE_ACTIVITY_COMPATIBILITY:!1,ENABLE_READ_TIME_RESOLVER_STORAGE_KEY_PREFIX:!0},RelayFeatureFlags_1=RelayFeatureFlags$9,internTable=new Map,nextIndex=1,digits=initDigitTable(),INTERN_PREFIX="	",ESCAPE_PREFIX="\v";function initDigitTable(){for(var s=new Set,a=0;a<10;++a)s.add(a.toString());return s}function escape$1(s){return s[0]===INTERN_PREFIX&&digits.has(s[1])||s[0]===ESCAPE_PREFIX?ESCAPE_PREFIX+s:s}function intern$2(s,a){if(a==null||s.length<a)return escape$1(s);var et=internTable.get(s);return et!=null||(et=INTERN_PREFIX+nextIndex++,internTable.set(s,et)),et}var StringInterner={intern:intern$2},RelayFeatureFlags$8=RelayFeatureFlags_1,_require$E=StringInterner,intern$1=_require$E.intern,PREFIX$1="client:";function generateClientID$7(s,a,et){var nt=RelayFeatureFlags$8.STRING_INTERN_LEVEL<=0?s:intern$1(s,RelayFeatureFlags$8.MAX_DATA_ID_LENGTH),at=nt+":"+a;return et!=null&&(at+=":"+et),at.indexOf(PREFIX$1)!==0&&(at=PREFIX$1+at),at}function isClientID$2(s){return s.indexOf(PREFIX$1)===0}var localID=0;function generateUniqueClientID$3(){return"".concat(PREFIX$1,"local:").concat(localID++)}function generateClientObjectClientID$2(s,a,et){var nt="".concat(PREFIX$1).concat(s,":").concat(a);return et!=null&&(nt+=":"+et),nt}var ClientID={generateClientID:generateClientID$7,generateClientObjectClientID:generateClientObjectClientID$2,generateUniqueClientID:generateUniqueClientID$3,isClientID:isClientID$2},CONNECTION_CALLS={after:!0,before:!0,find:!0,first:!0,last:!0,surrounds:!0},config={CURSOR:"cursor",EDGES:"edges",END_CURSOR:"endCursor",HAS_NEXT_PAGE:"hasNextPage",HAS_PREV_PAGE:"hasPreviousPage",NODE:"node",PAGE_INFO_TYPE:"PageInfo",PAGE_INFO:"pageInfo",START_CURSOR:"startCursor"},ConnectionInterface$3={inject:function s(a){config=a},get:function s(){return config},isConnectionCall:function s(a){return CONNECTION_CALLS.hasOwnProperty(a.name)}},ConnectionInterface_1=ConnectionInterface$3,_require$D=ClientID,generateClientID$6=_require$D.generateClientID,_require2$r=RelayStoreUtils_1,getStableStorageKey$1=_require2$r.getStableStorageKey,getRelayHandleKey$1=getRelayHandleKey_1,ConnectionInterface$2=ConnectionInterface_1,invariant$B=browser$1,CONNECTION="connection",NEXT_EDGE_INDEX="__connection_next_edge_index";function update$1(s,a){var et=s.get(a.dataID);if(et){var nt=ConnectionInterface$2.get(),at=nt.EDGES,mt=nt.END_CURSOR,wt=nt.HAS_NEXT_PAGE,$t=nt.HAS_PREV_PAGE,Ct=nt.PAGE_INFO,Dt=nt.PAGE_INFO_TYPE,Ft=nt.START_CURSOR,jt=et.getLinkedRecord(a.fieldKey),Nt=jt&&jt.getLinkedRecord(Ct);if(!jt){et.setValue(null,a.handleKey,void 0,et.getErrors(a.fieldKey));return}var Lt=generateClientID$6(et.getDataID(),a.handleKey),Ut=et.getLinkedRecord(a.handleKey),Vt=Ut??s.get(Lt),Yt=Vt&&Vt.getLinkedRecord(Ct);if(Vt){Ut==null&&et.setLinkedRecord(Vt,a.handleKey);var nr=Vt,sr=jt.getLinkedRecords(at);sr&&(sr=sr.map(function(ur){return buildConnectionEdge(s,nr,ur)}));var dr=nr.getLinkedRecords(at),br=nr.getLinkedRecord(Ct);nr.copyFieldsFrom(jt),dr&&nr.setLinkedRecords(dr,at),br&&nr.setLinkedRecord(br,Ct);var vr=[],yr=a.args;if(dr&&sr)if(yr.after!=null){var $r,Sr=($r=Yt)===null||$r===void 0?void 0:$r.getValue(mt),wr=Nt==null?void 0:Nt.getValue(mt),fr=Yt&&yr.after===Sr,_r=Yt&&Sr===wr;if(fr||_r){var ir=new Set;mergeEdges(dr,vr,ir),mergeEdges(sr,vr,ir)}else return}else if(yr.before!=null)if(Yt&&yr.before===Yt.getValue(Ft)){var rr=new Set;mergeEdges(sr,vr,rr),mergeEdges(dr,vr,rr)}else return;else vr=sr;else sr?vr=sr:vr=dr;if(vr!=null&&vr!==dr&&nr.setLinkedRecords(vr,at),Yt&&Nt){if(yr.after==null&&yr.before==null)Yt.copyFieldsFrom(Nt);else if(yr.before!=null||yr.after==null&&yr.last){Yt.setValue(!!Nt.getValue($t),$t);var or=Nt.getValue(Ft);typeof or=="string"&&Yt.setValue(or,Ft)}else if(yr.after!=null||yr.before==null&&yr.first){Yt.setValue(!!Nt.getValue(wt),wt);var ar=Nt.getValue(mt);typeof ar=="string"&&Yt.setValue(ar,mt)}}}else{var er=s.create(Lt,jt.getType());er.setValue(0,NEXT_EDGE_INDEX),er.copyFieldsFrom(jt);var tr=jt.getLinkedRecords(at);tr&&(tr=tr.map(function(ur){return buildConnectionEdge(s,er,ur)}),er.setLinkedRecords(tr,at)),et.setLinkedRecord(er,a.handleKey),Yt=s.create(generateClientID$6(er.getDataID(),Ct),Dt),Yt.setValue(!1,wt),Yt.setValue(!1,$t),Yt.setValue(null,mt),Yt.setValue(null,Ft),Nt&&Yt.copyFieldsFrom(Nt),er.setLinkedRecord(Yt,Ct)}}}function getConnection(s,a,et){var nt=getRelayHandleKey$1(CONNECTION,a,null);return s.getLinkedRecord(nt,et)}function getConnectionID(s,a,et){var nt=getRelayHandleKey$1(CONNECTION,a,null),at=getStableStorageKey$1(nt,et);return generateClientID$6(s,at)}function insertEdgeAfter(s,a,et){var nt=ConnectionInterface$2.get(),at=nt.CURSOR,mt=nt.EDGES,wt=s.getLinkedRecords(mt);if(!wt){s.setLinkedRecords([a],mt);return}var $t;if(et==null)$t=wt.concat(a);else{$t=[];for(var Ct=!1,Dt=0;Dt<wt.length;Dt++){var Ft=wt[Dt];if($t.push(Ft),Ft!=null){var jt=Ft.getValue(at);et===jt&&($t.push(a),Ct=!0)}}Ct||$t.push(a)}s.setLinkedRecords($t,mt)}function createEdge(s,a,et,nt){var at=ConnectionInterface$2.get(),mt=at.NODE,wt=generateClientID$6(a.getDataID(),et.getDataID()),$t=s.get(wt);return $t||($t=s.create(wt,nt)),$t.setLinkedRecord(et,mt),$t.getValue("cursor")==null&&$t.setValue(null,"cursor"),$t}function insertEdgeBefore(s,a,et){var nt=ConnectionInterface$2.get(),at=nt.CURSOR,mt=nt.EDGES,wt=s.getLinkedRecords(mt);if(!wt){s.setLinkedRecords([a],mt);return}var $t;if(et==null)$t=[a].concat(wt);else{$t=[];for(var Ct=!1,Dt=0;Dt<wt.length;Dt++){var Ft=wt[Dt];if(Ft!=null){var jt=Ft.getValue(at);et===jt&&($t.push(a),Ct=!0)}$t.push(Ft)}Ct||$t.unshift(a)}s.setLinkedRecords($t,mt)}function deleteNode$1(s,a){var et=ConnectionInterface$2.get(),nt=et.EDGES,at=et.NODE,mt=s.getLinkedRecords(nt);if(mt){for(var wt,$t=0;$t<mt.length;$t++){var Ct=mt[$t],Dt=Ct&&Ct.getLinkedRecord(at);Dt!=null&&Dt.getDataID()===a?wt===void 0&&(wt=mt.slice(0,$t)):wt!==void 0&&wt.push(Ct)}wt!==void 0&&s.setLinkedRecords(wt,nt)}}function buildConnectionEdge(s,a,et){if(et==null)return et;var nt=ConnectionInterface$2.get(),at=nt.EDGES,mt=a.getValue(NEXT_EDGE_INDEX);typeof mt!="number"&&invariant$B(!1);var wt=generateClientID$6(a.getDataID(),at,mt),$t=s.create(wt,et.getType());return $t.copyFieldsFrom(et),$t.getValue("cursor")==null&&$t.setValue(null,"cursor"),a.setValue(mt+1,NEXT_EDGE_INDEX),$t}function mergeEdges(s,a,et){for(var nt=ConnectionInterface$2.get(),at=nt.NODE,mt=0;mt<s.length;mt++){var wt=s[mt];if(wt){var $t=wt.getLinkedRecord(at),Ct=$t&&$t.getDataID();if(Ct){if(et.has(Ct))continue;et.add(Ct)}a.push(wt)}}}var ConnectionHandler$4={buildConnectionEdge,createEdge,deleteNode:deleteNode$1,getConnection,getConnectionID,insertEdgeAfter,insertEdgeBefore,update:update$1},_interopRequireDefault$o=interopRequireDefaultExports.default,_createForOfIteratorHelper2$d=_interopRequireDefault$o(createForOfIteratorHelperExports),ConnectionHandler$3=ConnectionHandler$4,ConnectionInterface$1=ConnectionInterface_1,invariant$A=browser$1,warning$2=warning_1,DeleteRecordHandler={update:function s(a,et){var nt=a.get(et.dataID);if(nt!=null){var at=nt.getValue(et.fieldKey);typeof at=="string"?a.delete(at):Array.isArray(at)&&at.forEach(function(mt){typeof mt=="string"&&a.delete(mt)})}}},DeleteEdgeHandler={update:function s(a,et){var nt=a.get(et.dataID);if(nt!=null){var at=et.handleArgs.connections;at==null&&invariant$A(!1);var mt=nt.getValue(et.fieldKey),wt=Array.isArray(mt)?mt:[mt];wt.forEach(function($t){if(typeof $t=="string"){var Ct=(0,_createForOfIteratorHelper2$d.default)(at),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=a.get(Ft);jt!=null&&ConnectionHandler$3.deleteNode(jt,$t)}}catch(Nt){Ct.e(Nt)}finally{Ct.f()}}})}}},AppendEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependEdgeHandler={update:edgeUpdater(ConnectionHandler$3.insertEdgeBefore)},AppendNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeAfter)},PrependNodeHandler={update:nodeUpdater(ConnectionHandler$3.insertEdgeBefore)};function edgeUpdater(s){return function(a,et){var nt,at=a.get(et.dataID);if(at!=null){var mt=et.handleArgs.connections;mt==null&&invariant$A(!1);var wt,$t;try{wt=at.getLinkedRecord(et.fieldKey)}catch{}if(!wt)try{$t=at.getLinkedRecords(et.fieldKey)}catch{}if(!(wt==null&&$t==null)){var Ct=ConnectionInterface$1.get(),Dt=Ct.NODE,Ft=Ct.EDGES,jt=(nt=$t)!==null&&nt!==void 0?nt:[wt],Nt=(0,_createForOfIteratorHelper2$d.default)(jt),Lt;try{var Ut=function(){var tr=Lt.value;if(tr==null)return"continue";var nr=tr.getLinkedRecord("node");if(!nr)return"continue";var sr=nr.getDataID(),dr=(0,_createForOfIteratorHelper2$d.default)(mt),br;try{for(dr.s();!(br=dr.n()).done;){var vr=br.value,yr=a.get(vr);if(yr!=null){var $r=(Vt=yr.getLinkedRecords(Ft))===null||Vt===void 0?void 0:Vt.some(function(wr){var fr;return(wr==null||(fr=wr.getLinkedRecord(Dt))===null||fr===void 0?void 0:fr.getDataID())===sr});if(!$r){var Sr=ConnectionHandler$3.buildConnectionEdge(a,yr,tr);Sr==null&&invariant$A(!1),s(yr,Sr)}}}}catch(wr){dr.e(wr)}finally{dr.f()}};for(Nt.s();!(Lt=Nt.n()).done;)var Vt,Yt=Ut()}catch(er){Nt.e(er)}finally{Nt.f()}}}}}function nodeUpdater(s){return function(a,et){var nt,at=a.get(et.dataID);if(at!=null){var mt=et.handleArgs,wt=mt.connections,$t=mt.edgeTypeName;wt==null&&invariant$A(!1),$t==null&&invariant$A(!1);var Ct,Dt;try{Ct=at.getLinkedRecord(et.fieldKey)}catch{}if(!Ct)try{Dt=at.getLinkedRecords(et.fieldKey)}catch{}if(!(Ct==null&&Dt==null)){var Ft=ConnectionInterface$1.get(),jt=Ft.NODE,Nt=Ft.EDGES,Lt=(nt=Dt)!==null&&nt!==void 0?nt:[Ct],Ut=(0,_createForOfIteratorHelper2$d.default)(Lt),Vt;try{var Yt=function(){var sr=Vt.value;if(sr==null)return"continue";var dr=sr.getDataID(),br=(0,_createForOfIteratorHelper2$d.default)(wt),vr;try{for(br.s();!(vr=br.n()).done;){var yr=vr.value,$r=a.get(yr);if($r!=null){var Sr=(er=$r.getLinkedRecords(Nt))===null||er===void 0?void 0:er.some(function(fr){var _r;return(fr==null||(_r=fr.getLinkedRecord(jt))===null||_r===void 0?void 0:_r.getDataID())===dr});if(!Sr){var wr=ConnectionHandler$3.createEdge(a,$r,sr,$t);wr==null&&invariant$A(!1),s($r,wr)}}}}catch(fr){br.e(fr)}finally{br.f()}};for(Ut.s();!(Vt=Ut.n()).done;)var er,tr=Yt()}catch(nr){Ut.e(nr)}finally{Ut.f()}}}}}var MutationHandlers$2={AppendEdgeHandler,DeleteRecordHandler,PrependEdgeHandler,AppendNodeHandler,PrependNodeHandler,DeleteEdgeHandler},ConnectionHandler$2=ConnectionHandler$4,MutationHandlers$1=MutationHandlers$2,invariant$z=browser$1;function RelayDefaultHandlerProvider$2(s){switch(s){case"connection":return ConnectionHandler$2;case"deleteRecord":return MutationHandlers$1.DeleteRecordHandler;case"deleteEdge":return MutationHandlers$1.DeleteEdgeHandler;case"appendEdge":return MutationHandlers$1.AppendEdgeHandler;case"prependEdge":return MutationHandlers$1.PrependEdgeHandler;case"appendNode":return MutationHandlers$1.AppendNodeHandler;case"prependNode":return MutationHandlers$1.PrependNodeHandler}invariant$z(!1)}var RelayDefaultHandlerProvider_1=RelayDefaultHandlerProvider$2;function isRelayModernEnvironment$3(s){return!!(s&&s["@@RelayModernEnvironment"])}var isRelayModernEnvironment_1=isRelayModernEnvironment$3;function deepFreeze$2(s){return shouldBeFrozen(s)&&(Object.freeze(s),Object.getOwnPropertyNames(s).forEach(function(a){var et=s[a];et&&typeof et=="object"&&!Object.isFrozen(et)&&deepFreeze$2(et)})),s}function shouldBeFrozen(s){return s!=null&&(Array.isArray(s)||typeof s=="object"&&s.constructor===Object)}var deepFreeze_1=deepFreeze$2,_require$C=stableCopy_1,stableCopy$4=_require$C.stableCopy,invariant$y=browser$1;function getRequestIdentifier$2(s,a){var et=s.cacheID!=null?s.cacheID:s.id;return et==null&&invariant$y(!1),et+JSON.stringify(stableCopy$4(a))}var getRequestIdentifier_1=getRequestIdentifier$2,getRequestIdentifier$1=getRequestIdentifier_1,RelayFeatureFlags$7=RelayFeatureFlags_1,_require$B=stableCopy_1,hasCycle$1=_require$B.hasCycle,_require2$q=RelayConcreteVariables$2,getOperationVariables=_require2$q.getOperationVariables,_require3$g=RelayModernSelector$1,createNormalizationSelector$3=_require3$g.createNormalizationSelector,createReaderSelector$3=_require3$g.createReaderSelector,_require4$8=RelayStoreUtils_1,ROOT_ID$5=_require4$8.ROOT_ID,invariant$x=browser$1;function createOperationDescriptor$5(s,a,et){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ROOT_ID$5,at=s.operation,mt=getOperationVariables(at,s.params.providedVariables,a);RelayFeatureFlags$7.ENABLE_CYLE_DETECTION_IN_VARIABLES&&hasCycle$1(mt)&&invariant$x(!1);var wt=createRequestDescriptor$1(s,mt,et),$t={fragment:createReaderSelector$3(s.fragment,nt,mt,wt),request:wt,root:createNormalizationSelector$3(at,nt,mt)};return $t}function createRequestDescriptor$1(s,a,et){var nt={identifier:getRequestIdentifier$1(s.params,a),node:s,variables:a,cacheConfig:et};return nt}var RelayModernOperationDescriptor$1={createOperationDescriptor:createOperationDescriptor$5,createRequestDescriptor:createRequestDescriptor$1},_interopRequireDefault$n=interopRequireDefaultExports.default,_createForOfIteratorHelper2$c=_interopRequireDefault$n(createForOfIteratorHelperExports),ConnectionHandler$1=ConnectionHandler$4,warning$1=warning_1,MutationTypes=Object.freeze({RANGE_ADD:"RANGE_ADD",RANGE_DELETE:"RANGE_DELETE",NODE_DELETE:"NODE_DELETE"}),RangeOperations=Object.freeze({APPEND:"append",PREPEND:"prepend"});function convert(s,a,et,nt){var at=et?[et]:[],mt=nt?[nt]:[];return s.forEach(function(wt){switch(wt.type){case"NODE_DELETE":var $t=nodeDelete(wt,a);$t&&(at.push($t),mt.push($t));break;case"RANGE_ADD":var Ct=rangeAdd(wt,a);Ct&&(at.push(Ct),mt.push(Ct));break;case"RANGE_DELETE":var Dt=rangeDelete(wt,a);Dt&&(at.push(Dt),mt.push(Dt));break}}),{optimisticUpdater:function($t,Ct){at.forEach(function(Dt){Dt($t,Ct)})},updater:function($t,Ct){mt.forEach(function(Dt){Dt($t,Ct)})}}}function nodeDelete(s,a){var et=s.deletedIDFieldName,nt=getRootField(a);return nt?function(at,mt){var wt=at.getRootField(nt);if(wt){var $t=wt.getValue(et),Ct=Array.isArray($t)?$t:[$t];Ct.forEach(function(Dt){Dt&&typeof Dt=="string"&&at.delete(Dt)})}}:null}function rangeAdd(s,a){var et=s.parentID,nt=s.connectionInfo,at=s.edgeName;if(!et)return null;var mt=getRootField(a);return!nt||!mt?null:function(wt,$t){var Ct=wt.get(et);if(Ct){var Dt=wt.getRootField(mt);if(Dt){var Ft=Dt.getLinkedRecord(at),jt=(0,_createForOfIteratorHelper2$c.default)(nt),Nt;try{for(jt.s();!(Nt=jt.n()).done;){var Lt=Nt.value;if(Ft){var Ut=ConnectionHandler$1.getConnection(Ct,Lt.key,Lt.filters);if(Ut){var Vt=ConnectionHandler$1.buildConnectionEdge(wt,Ut,Ft);if(Vt)switch(Lt.rangeBehavior){case"append":ConnectionHandler$1.insertEdgeAfter(Ut,Vt);break;case"prepend":ConnectionHandler$1.insertEdgeBefore(Ut,Vt);break;default:break}}}}}catch(Yt){jt.e(Yt)}finally{jt.f()}}}}}function rangeDelete(s,a){var et=s.parentID,nt=s.connectionKeys,at=s.pathToConnection,mt=s.deletedIDFieldName;if(!et)return null;var wt=getRootField(a);return wt?function($t,Ct){if(Ct){var Dt=[],Ft=Ct[wt];if(Ft&&Array.isArray(mt)){var jt=(0,_createForOfIteratorHelper2$c.default)(mt),Nt;try{for(jt.s();!(Nt=jt.n()).done;){var Lt=Nt.value;Ft&&typeof Ft=="object"&&(Ft=Ft[Lt])}}catch(Ut){jt.e(Ut)}finally{jt.f()}Array.isArray(Ft)?Ft.forEach(function(Ut){Ut&&Ut.id&&typeof Ut=="object"&&typeof Ut.id=="string"&&Dt.push(Ut.id)}):Ft&&Ft.id&&typeof Ft.id=="string"&&Dt.push(Ft.id)}else Ft&&typeof mt=="string"&&typeof Ft=="object"&&(Ft=Ft[mt],typeof Ft=="string"?Dt.push(Ft):Array.isArray(Ft)&&Ft.forEach(function(Ut){typeof Ut=="string"&&Dt.push(Ut)}));deleteNode(et,nt,at,$t,Dt)}}:null}function deleteNode(s,a,et,nt,at){var mt=nt.get(s);if(mt&&!(et.length<2)){for(var wt=mt,$t=1;$t<et.length-1;$t++)wt&&(wt=wt.getLinkedRecord(et[$t]));if(!(!a||!wt)){var Ct=(0,_createForOfIteratorHelper2$c.default)(a),Dt;try{var Ft=function(){var Nt=Dt.value,Lt=ConnectionHandler$1.getConnection(wt,Nt.key,Nt.filters);Lt&&at.forEach(function(Ut){ConnectionHandler$1.deleteNode(Lt,Ut)})};for(Ct.s();!(Dt=Ct.n()).done;)Ft()}catch(jt){Ct.e(jt)}finally{Ct.f()}}}}function getRootField(s){return s.fragment.selections&&s.fragment.selections.length>0&&s.fragment.selections[0].kind==="LinkedField"?s.fragment.selections[0].name:null}var RelayDeclarativeMutationConfig$4={MutationTypes,RangeOperations,convert},_require$A=GraphQLTag$1,getRequest$4=_require$A.getRequest,isRelayModernEnvironment$2=isRelayModernEnvironment_1,_require2$p=RelayModernOperationDescriptor$1,createOperationDescriptor$4=_require2$p.createOperationDescriptor,RelayDeclarativeMutationConfig$3=RelayDeclarativeMutationConfig$4,invariant$w=browser$1;function applyOptimisticMutation$1(s,a){isRelayModernEnvironment$2(s)||invariant$w(!1);var et=getRequest$4(a.mutation);if(et.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");var nt=a.optimisticUpdater,at=a.configs,mt=a.optimisticResponse,wt=a.variables,$t=createOperationDescriptor$4(et,wt);if(at){var Ct=RelayDeclarativeMutationConfig$3.convert(at,et,nt);nt=Ct.optimisticUpdater}return s.applyMutation({operation:$t,response:mt,updater:nt})}var applyOptimisticMutation_1=applyOptimisticMutation$1;function commitLocalUpdate$1(s,a){s.commitUpdate(a)}var commitLocalUpdate_1=commitLocalUpdate$1,_interopRequireDefault$m=interopRequireDefaultExports.default;_interopRequireDefault$m(objectSpread2Exports);var _interopRequireDefault$l=interopRequireDefaultExports.default,_toConsumableArray2$4=_interopRequireDefault$l(toConsumableArrayExports),_require$z=GraphQLTag$1,getRequest$3=_require$z.getRequest,_require2$o=ClientID,generateUniqueClientID$2=_require2$o.generateUniqueClientID,isRelayModernEnvironment$1=isRelayModernEnvironment_1,_require3$f=RelayModernOperationDescriptor$1,createOperationDescriptor$3=_require3$f.createOperationDescriptor,RelayDeclarativeMutationConfig$2=RelayDeclarativeMutationConfig$4,invariant$v=browser$1;function commitMutation$1(s,a){isRelayModernEnvironment$1(s)||invariant$v(!1);var et=getRequest$3(a.mutation);if(et.params.operationKind!=="mutation")throw new Error("commitMutation: Expected mutation operation");if(et.kind!=="Request")throw new Error("commitMutation: Expected mutation to be of type request");var nt=a.optimisticResponse,at=a.optimisticUpdater,mt=a.updater,wt=a.configs,$t=a.cacheConfig,Ct=a.onError,Dt=a.onUnsubscribe,Ft=a.variables,jt=a.uploadables,Nt=createOperationDescriptor$3(et,Ft,$t,generateUniqueClientID$2());if(typeof nt=="function"&&(nt=nt()),wt){var Lt=RelayDeclarativeMutationConfig$2.convert(wt,et,at,mt);at=Lt.optimisticUpdater,mt=Lt.updater}var Ut=[],Vt=s.executeMutation({operation:Nt,optimisticResponse:nt,optimisticUpdater:at,updater:mt,uploadables:jt}).subscribe({next:function(er){var tr;Array.isArray(er)?er.forEach(function(nr){nr.errors&&Ut.push.apply(Ut,(0,_toConsumableArray2$4.default)(nr.errors))}):er.errors&&Ut.push.apply(Ut,(0,_toConsumableArray2$4.default)(er.errors)),(tr=a.onNext)===null||tr===void 0||tr.call(a)},complete:function(){var er=a.onCompleted;if(er){var tr=s.lookup(Nt.fragment);er(tr.data,Ut.length!==0?Ut:null)}},error:Ct,unsubscribe:Dt});return{dispose:Vt.unsubscribe}}var commitMutation_1=commitMutation$1,WEAKMAP_SUPPORTED=typeof WeakMap=="function",debugCache=WEAKMAP_SUPPORTED?new WeakMap:new Map;function withProvidedVariables$2(s,a){if(a!=null){var et={};return Object.assign(et,s),Object.keys(a).forEach(function(nt){var at=a[nt].get,mt=at();if(!debugCache.has(at))debugCache.set(at,mt),et[nt]=mt;else{var wt=debugCache.get(at);et[nt]=wt}}),et}else return s}withProvidedVariables$2.tests_only_resetDebugCache=void 0;var withProvidedVariables_1=withProvidedVariables$2,RelayObservable$4=RelayObservable_1;function convertFetch$1(s){return function(et,nt,at,mt,wt){var $t=s(et,nt,at,mt,wt);return $t instanceof Error?RelayObservable$4.create(function(Ct){return Ct.error($t)}):RelayObservable$4.from($t)}}var ConvertToExecuteFunction={convertFetch:convertFetch$1},withProvidedVariables$1=withProvidedVariables_1,_require$y=ConvertToExecuteFunction,convertFetch=_require$y.convertFetch,invariant$u=browser$1;function create$2(s,a){var et=convertFetch(s);function nt(at,mt,wt,$t,Ct){var Dt=withProvidedVariables$1(mt,at.providedVariables);if(at.operationKind==="subscription")return a||invariant$u(!1),$t&&invariant$u(!1),a(at,Dt,wt);var Ft=wt.poll;return Ft!=null?($t&&invariant$u(!1),et(at,Dt,{force:!0}).poll(Ft)):et(at,Dt,wt,$t,Ct)}return{execute:nt}}var RelayNetwork$1={create:create$2},_interopRequireDefault$k=interopRequireDefaultExports.default,_objectSpread2$9=_interopRequireDefault$k(objectSpread2Exports),_require$x=stableCopy_1,stableCopy$3=_require$x.stableCopy,invariant$t=browser$1,RelayQueryResponseCache$1=function(){function s(et){var nt=et.size,at=et.ttl;nt>0||invariant$t(!1),at>0||invariant$t(!1),this._responses=new Map,this._size=nt,this._ttl=at}var a=s.prototype;return a.clear=function(){this._responses.clear()},a.get=function(nt,at){var mt=this,wt=getCacheKey(nt,at);this._responses.forEach(function(Ct,Dt){isCurrent(Ct.fetchTime,mt._ttl)||mt._responses.delete(Dt)});var $t=this._responses.get(wt);return $t==null?null:Array.isArray($t.payload)?$t.payload.map(function(Ct){return(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Ct),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},Ct.extensions),{},{cacheTimestamp:$t.fetchTime})})}):(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},$t.payload),{},{extensions:(0,_objectSpread2$9.default)((0,_objectSpread2$9.default)({},$t.payload.extensions),{},{cacheTimestamp:$t.fetchTime})})},a.set=function(nt,at,mt){var wt=Date.now(),$t=getCacheKey(nt,at);if(this._responses.delete($t),this._responses.set($t,{fetchTime:wt,payload:mt}),this._responses.size>this._size){var Ct=this._responses.keys().next();Ct.done||this._responses.delete(Ct.value)}},s}();function getCacheKey(s,a){return JSON.stringify(stableCopy$3({queryID:s,variables:a}))}function isCurrent(s,a){return s+a>=Date.now()}var RelayQueryResponseCache_1=RelayQueryResponseCache$1,_interopRequireDefault$j=interopRequireDefaultExports.default,_objectSpread2$8=_interopRequireDefault$j(objectSpread2Exports),RelayObservable$3=RelayObservable_1,_require$w=RelayModernOperationDescriptor$1,createOperationDescriptor$2=_require$w.createOperationDescriptor,_require2$n=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$2=_require2$n.handlePotentialSnapshotErrors,fetchQueryInternal$1=fetchQueryInternal$2,_require3$e=GraphQLTag$1,getRequest$2=_require3$e.getRequest,invariant$s=browser$1;function fetchQuery$1(s,a,et,nt){var at,mt=getRequest$2(a);mt.params.operationKind!=="query"&&invariant$s(!1);var wt=(0,_objectSpread2$8.default)({force:!0},nt==null?void 0:nt.networkCacheConfig),$t=createOperationDescriptor$2(mt,et,wt),Ct=(at=nt==null?void 0:nt.fetchPolicy)!==null&&at!==void 0?at:"network-only";function Dt(Ft){return handlePotentialSnapshotErrors$2(s,Ft.errorResponseFields),Ft.data}switch(Ct){case"network-only":return getNetworkObservable(s,$t).map(Dt);case"store-or-network":return s.check($t).status==="available"?RelayObservable$3.from(s.lookup($t.fragment)).map(Dt):getNetworkObservable(s,$t).map(Dt);default:throw new Error("fetchQuery: Invalid fetchPolicy "+Ct)}}function getNetworkObservable(s,a){return fetchQueryInternal$1.fetchQuery(s,a).map(function(){return s.lookup(a.fragment)})}var fetchQuery_1=fetchQuery$1,_require$v=RelayModernOperationDescriptor$1,createOperationDescriptor$1=_require$v.createOperationDescriptor,_require2$m=GraphQLTag$1,getRequest$1=_require2$m.getRequest;function fetchQuery_DEPRECATED$1(s,a,et,nt){var at=getRequest$1(a);if(at.params.operationKind!=="query")throw new Error("fetchQuery: Expected query operation");var mt=createOperationDescriptor$1(at,et,nt);return s.execute({operation:mt}).map(function(){return s.lookup(mt.fragment).data}).toPromise()}var fetchQuery_DEPRECATED_1=fetchQuery_DEPRECATED$1,PreloadableQueryRegistry$1=function(){function s(){this._preloadableQueries=new Map,this._callbacks=new Map}var a=s.prototype;return a.set=function(nt,at){this._preloadableQueries.set(nt,at);var mt=this._callbacks.get(nt);mt!=null&&mt.forEach(function(wt){try{wt(at)}catch($t){setTimeout(function(){throw $t},0)}})},a.get=function(nt){return this._preloadableQueries.get(nt)},a.onLoad=function(nt,at){var mt,wt=(mt=this._callbacks.get(nt))!==null&&mt!==void 0?mt:new Set;wt.add(at);var $t=function(){wt.delete(at)};return this._callbacks.set(nt,wt),{dispose:$t}},a.clear=function(){this._preloadableQueries.clear()},s}(),preloadableQueryRegistry=new PreloadableQueryRegistry$1,PreloadableQueryRegistry_1=preloadableQueryRegistry;function isScalarAndEqual$2(s,a){return s===a&&(s===null||typeof s!="object")}var isScalarAndEqual_1=isScalarAndEqual$2;function recycleNodesInto$4(s,a){return recycleNodesIntoImpl(s,a,!0)}function recycleNodesIntoImpl(s,a,et){if(s===a||typeof s!="object"||!s||s.constructor!==Object&&!Array.isArray(s)||typeof a!="object"||!a||a.constructor!==Object&&!Array.isArray(a))return a;var nt=!1,at=Array.isArray(s)?s:null,mt=Array.isArray(a)?a:null;if(at&&mt){var wt=et&&!Object.isFrozen(mt);nt=mt.reduce(function(Nt,Lt,Ut){var Vt=at[Ut],Yt=recycleNodesIntoImpl(Vt,Lt,wt);return Yt!==mt[Ut]&&wt&&(mt[Ut]=Yt),Nt&&Yt===at[Ut]},!0)&&at.length===mt.length}else if(!at&&!mt){var $t=s,Ct=a,Dt=Object.keys($t),Ft=Object.keys(Ct),jt=et&&!Object.isFrozen(Ct);nt=Ft.reduce(function(Nt,Lt){var Ut=$t[Lt],Vt=recycleNodesIntoImpl(Ut,Ct[Lt],jt);return Vt!==Ct[Lt]&&jt&&(Ct[Lt]=Vt),Nt&&Vt===$t[Lt]},!0)&&Dt.length===Ft.length}return nt?s:a}var recycleNodesInto_1=recycleNodesInto$4,_interopRequireDefault$i=interopRequireDefaultExports.default,_objectSpread2$7=_interopRequireDefault$i(objectSpread2Exports),_defineProperty2$4=_interopRequireDefault$i(requireDefineProperty()),getPendingOperationsForFragment$1=getPendingOperationsForFragment_1,_require$u=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors$1=_require$u.handlePotentialSnapshotErrors,isScalarAndEqual$1=isScalarAndEqual_1,recycleNodesInto$3=recycleNodesInto_1,RelayFeatureFlags$6=RelayFeatureFlags_1,_require2$l=RelayModernOperationDescriptor$1,createRequestDescriptor=_require2$l.createRequestDescriptor,_require3$d=RelayModernSelector$1,areEqualSelectors=_require3$d.areEqualSelectors,createReaderSelector$2=_require3$d.createReaderSelector,getSelectorsFromObject=_require3$d.getSelectorsFromObject,areEqual$3=areEqual_1,invariant$r=browser$1,RelayModernFragmentSpecResolver$1=function(){function s(et,nt,at,mt,wt){var $t=this;(0,_defineProperty2$4.default)(this,"_onChange",function(){$t._stale=!0,typeof $t._callback=="function"&&$t._callback()}),this._callback=mt,this._context=et,this._data={},this._fragments=nt,this._props={},this._resolvers={},this._stale=!1,this._rootIsQueryRenderer=wt,this.setProps(at)}var a=s.prototype;return a.dispose=function(){for(var nt in this._resolvers)this._resolvers.hasOwnProperty(nt)&&disposeCallback(this._resolvers[nt])},a.resolve=function(){if(this._stale){var nt=this._data,at;for(var mt in this._resolvers)if(this._resolvers.hasOwnProperty(mt)){var wt=this._resolvers[mt],$t=nt[mt];if(wt){var Ct=wt.resolve();(at||Ct!==$t)&&(at=at||(0,_objectSpread2$7.default)({},nt),at[mt]=Ct)}else{var Dt=this._props[mt],Ft=Dt!==void 0?Dt:null;(at||!isScalarAndEqual$1(Ft,$t))&&(at=at||(0,_objectSpread2$7.default)({},nt),at[mt]=Ft)}}this._data=at||nt,this._stale=!1}return this._data},a.setCallback=function(nt,at){this._callback=at,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0&&this.setProps(nt)},a.setProps=function(nt){this._props={};var at=getSelectorsFromObject(this._fragments,nt);for(var mt in at)if(at.hasOwnProperty(mt)){var wt=at[mt],$t=this._resolvers[mt];wt==null?($t!=null&&$t.dispose(),$t=null):wt.kind==="PluralReaderSelector"?$t==null?$t=new SelectorListResolver(this._context.environment,this._rootIsQueryRenderer,wt,this._callback!=null,this._onChange):($t instanceof SelectorListResolver||invariant$r(!1),$t.setSelector(wt)):$t==null?$t=new SelectorResolver(this._context.environment,this._rootIsQueryRenderer,wt,this._callback!=null,this._onChange):($t instanceof SelectorResolver||invariant$r(!1),$t.setSelector(wt)),this._props[mt]=nt[mt],this._resolvers[mt]=$t}this._stale=!0},a.setVariables=function(nt,at){for(var mt in this._resolvers)if(this._resolvers.hasOwnProperty(mt)){var wt=this._resolvers[mt];wt&&wt.setVariables(nt,at)}this._stale=!0},s}(),SelectorResolver=function(){function s(et,nt,at,mt,wt){var $t=this;(0,_defineProperty2$4.default)(this,"_onChange",function(Dt){$t._data=Dt.data,$t._isMissingData=Dt.isMissingData,$t._errorResponseFields=Dt.errorResponseFields,$t._callback()});var Ct=et.lookup(at);this._callback=wt,this._data=Ct.data,this._isMissingData=Ct.isMissingData,this._errorResponseFields=Ct.errorResponseFields,this._environment=et,this._rootIsQueryRenderer=nt,this._selector=at,RelayFeatureFlags$6.ENABLE_CONTAINERS_SUBSCRIBE_ON_COMMIT===!0?mt&&(this._subscription=et.subscribe(Ct,this._onChange)):this._subscription=et.subscribe(Ct,this._onChange)}var a=s.prototype;return a.dispose=function(){this._subscription&&(this._subscription.dispose(),this._subscription=null)},a.resolve=function(){if(this._isMissingData===!0){var nt=getPendingOperationsForFragment$1(this._environment,this._selector.node,this._selector.owner),at=nt==null?void 0:nt.promise;if(at!=null&&!this._rootIsQueryRenderer){var mt,wt=(mt=nt==null?void 0:nt.pendingOperations)!==null&&mt!==void 0?mt:[];throw this._environment.__log({name:"suspense.fragment",data:this._data,fragment:this._selector.node,isRelayHooks:!1,isMissingData:this._isMissingData,isPromiseCached:!1,pendingOperations:wt}),at}}return handlePotentialSnapshotErrors$1(this._environment,this._errorResponseFields),this._data},a.setSelector=function(nt){if(!(this._subscription!=null&&areEqualSelectors(nt,this._selector))){this.dispose();var at=this._environment.lookup(nt);this._data=recycleNodesInto$3(this._data,at.data),this._isMissingData=at.isMissingData,this._errorResponseFields=at.errorResponseFields,this._selector=nt,this._subscription=this._environment.subscribe(at,this._onChange)}},a.setVariables=function(nt,at){if(!areEqual$3(nt,this._selector.variables)){var mt=createRequestDescriptor(at,nt),wt=createReaderSelector$2(this._selector.node,this._selector.dataID,nt,mt);this.setSelector(wt)}},s}(),SelectorListResolver=function(){function s(et,nt,at,mt,wt){var $t=this;(0,_defineProperty2$4.default)(this,"_onChange",function(Ct){$t._stale=!0,$t._callback()}),this._callback=wt,this._data=[],this._environment=et,this._resolvers=[],this._stale=!0,this._rootIsQueryRenderer=nt,this._subscribeOnConstruction=mt,this.setSelector(at)}var a=s.prototype;return a.dispose=function(){this._resolvers.forEach(disposeCallback)},a.resolve=function(){if(this._stale){for(var nt=this._data,at,mt=0;mt<this._resolvers.length;mt++){var wt=nt[mt],$t=this._resolvers[mt].resolve();(at||$t!==wt)&&(at=at||nt.slice(0,mt),at.push($t))}!at&&this._resolvers.length!==nt.length&&(at=nt.slice(0,this._resolvers.length)),this._data=at||nt,this._stale=!1}return this._data},a.setSelector=function(nt){for(var at=nt.selectors;this._resolvers.length>at.length;){var mt=this._resolvers.pop();mt.dispose()}for(var wt=0;wt<at.length;wt++)wt<this._resolvers.length?this._resolvers[wt].setSelector(at[wt]):this._resolvers[wt]=new SelectorResolver(this._environment,this._rootIsQueryRenderer,at[wt],this._subscribeOnConstruction,this._onChange);this._stale=!0},a.setVariables=function(nt,at){this._resolvers.forEach(function(mt){return mt.setVariables(nt,at)}),this._stale=!0},s}();function disposeCallback(s){s&&s.dispose()}var RelayModernFragmentSpecResolver_1=RelayModernFragmentSpecResolver$1,RelayModernFragmentSpecResolver=RelayModernFragmentSpecResolver_1;function createFragmentSpecResolver$1(s,a,et,nt,at,mt){return new RelayModernFragmentSpecResolver(s,et,nt,mt,at)}var createFragmentSpecResolver_1=createFragmentSpecResolver$1,invariant$q=browser$1,relayContext,firstReact;function createRelayContext$1(s){return relayContext||(relayContext=s.createContext(null),firstReact=s),s!==firstReact&&invariant$q(!1),relayContext}var createRelayContext_1=createRelayContext$1,LIVE_RESOLVER_SUSPENSE_SENTINEL=Object.freeze({__LIVE_RESOLVER_SUSPENSE_SENTINEL:!0});function suspenseSentinel$1(){return LIVE_RESOLVER_SUSPENSE_SENTINEL}function isSuspenseSentinel$4(s){return s===LIVE_RESOLVER_SUSPENSE_SENTINEL}var LiveResolverSuspenseSentinel={isSuspenseSentinel:isSuspenseSentinel$4,suspenseSentinel:suspenseSentinel$1},objectWithoutPropertiesLoose={exports:{}};(function(s){function a(et,nt){if(et==null)return{};var at={};for(var mt in et)if({}.hasOwnProperty.call(et,mt)){if(nt.indexOf(mt)!==-1)continue;at[mt]=et[mt]}return at}s.exports=a,s.exports.__esModule=!0,s.exports.default=s.exports})(objectWithoutPropertiesLoose);var objectWithoutPropertiesLooseExports=objectWithoutPropertiesLoose.exports,_interopRequireDefault$h=interopRequireDefaultExports.default,_defineProperty2$3=_interopRequireDefault$h(requireDefineProperty()),_objectWithoutPropertiesLoose2$2=_interopRequireDefault$h(objectWithoutPropertiesLooseExports),_toPropertyKey2=_interopRequireDefault$h(requireToPropertyKey()),_objectSpread2$6=_interopRequireDefault$h(objectSpread2Exports),deepFreeze$1=deepFreeze_1,_require$t=ClientID,generateClientObjectClientID$1=_require$t.generateClientObjectClientID;_require$t.isClientID;var _require2$k=LiveResolverSuspenseSentinel,isSuspenseSentinel$3=_require2$k.isSuspenseSentinel,_require3$c=RelayStoreUtils_1,ACTOR_IDENTIFIER_KEY=_require3$c.ACTOR_IDENTIFIER_KEY,ERRORS_KEY=_require3$c.ERRORS_KEY,ID_KEY$2=_require3$c.ID_KEY,INVALIDATED_AT_KEY=_require3$c.INVALIDATED_AT_KEY,REF_KEY=_require3$c.REF_KEY,REFS_KEY=_require3$c.REFS_KEY,RELAY_RESOLVER_VALUE_KEY$1=_require3$c.RELAY_RESOLVER_VALUE_KEY;_require3$c.ROOT_ID;var TYPENAME_KEY$2=_require3$c.TYPENAME_KEY,areEqual$2=areEqual_1,invariant$p=browser$1;function clone(s){return(0,_objectSpread2$6.default)({},s)}function copyFields(s,a){for(var et in s)s.hasOwnProperty(et)&&et!==ID_KEY$2&&et!==TYPENAME_KEY$2&&(a[et]=s[et])}function create$1(s,a){var et={};return et[ID_KEY$2]=s,et[TYPENAME_KEY$2]=a,et}function fromObject(s){return s}function getDataID(s){return s[ID_KEY$2]}function getFields(s){return ERRORS_KEY in s?Object.keys(s).filter(function(a){return a!==ERRORS_KEY}):Object.keys(s)}function getType(s){return s[TYPENAME_KEY$2]}function getErrors(s,a){var et;return(et=s[ERRORS_KEY])===null||et===void 0?void 0:et[a]}function getValue(s,a){var et=s[a];return et&&typeof et=="object"&&(!et.hasOwnProperty(REF_KEY)&&!et.hasOwnProperty(REFS_KEY)||invariant$p(!1)),et}function hasValue(s,a){return a in s}function getLinkedRecordID(s,a){var et=s[a];if(et==null)return et;var nt=et;return typeof nt=="object"&&nt&&typeof nt[REF_KEY]=="string"||invariant$p(!1),nt[REF_KEY]}function hasLinkedRecordID(s,a){var et=s[a];if(et==null)return!1;var nt=et;return typeof nt=="object"&&nt&&typeof nt[REF_KEY]=="string"}function getLinkedRecordIDs(s,a){var et=s[a];return et==null?et:(typeof et=="object"&&Array.isArray(et[REFS_KEY])||invariant$p(!1),et[REFS_KEY])}function hasLinkedRecordIDs(s,a){var et=s[a];return et==null?!1:typeof et=="object"&&Array.isArray(et[REFS_KEY])&&et[REFS_KEY].every(function(nt){return typeof nt=="string"})}function getInvalidationEpoch(s){if(s==null)return null;var a=s[INVALIDATED_AT_KEY];return typeof a!="number"?null:a}function update(s,a){var et,nt=s[ERRORS_KEY],at=a[ERRORS_KEY],mt=null;if(nt==null&&at==null){var wt;for(var $t in a)(mt||!areEqual$2(s[$t],a[$t]))&&(mt=mt!==null?mt:(0,_objectSpread2$6.default)({},s),mt[$t]=a[$t]);return(wt=mt)!==null&&wt!==void 0?wt:s}for(var Ct in a)if(Ct!==ERRORS_KEY){var Dt=a[Ct],Ft=at==null?void 0:at[Ct];if(mt==null){var jt=s[Ct],Nt=nt==null?void 0:nt[Ct];if(areEqual$2(jt,Dt)&&areEqual$2(Nt,Ft))continue;mt=(0,_objectSpread2$6.default)({},s),nt!=null&&(mt[ERRORS_KEY]=(0,_objectSpread2$6.default)({},nt))}setValue(mt,Ct,Dt),setErrors(mt,Ct,Ft)}return(et=mt)!==null&&et!==void 0?et:s}function merge(s,a){if(ERRORS_KEY in s||ERRORS_KEY in a){var et=s[ERRORS_KEY],nt=(0,_objectWithoutPropertiesLoose2$2.default)(s,[ERRORS_KEY].map(_toPropertyKey2.default)),at=a[ERRORS_KEY],mt=(0,_objectWithoutPropertiesLoose2$2.default)(a,[ERRORS_KEY].map(_toPropertyKey2.default)),wt=(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},nt),mt);if(et==null&&at==null)return wt;var $t={};for(var Ct in et)mt.hasOwnProperty(Ct)||($t[Ct]=et[Ct]);for(var Dt in at)$t[Dt]=at[Dt];for(var Ft in $t){wt[ERRORS_KEY]=$t;break}return wt}else return(0,_objectSpread2$6.default)((0,_objectSpread2$6.default)({},s),a)}function freeze(s){deepFreeze$1(s)}function setErrors(s,a,et){var nt=s[ERRORS_KEY];if(et!=null&&et.length>0)nt==null?s[ERRORS_KEY]=(0,_defineProperty2$3.default)({},a,et):nt[a]=et;else if(nt!=null&&delete nt[a]){for(var at in nt)if(nt.hasOwnProperty(at))return;delete s[ERRORS_KEY]}}function setValue(s,a,et){s[a]=et}function setLinkedRecordID(s,a,et){var nt={};nt[REF_KEY]=et,s[a]=nt}function setLinkedRecordIDs(s,a,et){var nt={};nt[REFS_KEY]=et,s[a]=nt}function setActorLinkedRecordID(s,a,et,nt){var at={};at[REF_KEY]=nt,at[ACTOR_IDENTIFIER_KEY]=et,s[a]=at}function getActorLinkedRecordID(s,a){var et=s[a];return et==null?et:(typeof et=="object"&&typeof et[REF_KEY]=="string"&&et[ACTOR_IDENTIFIER_KEY]!=null||invariant$p(!1),[et[ACTOR_IDENTIFIER_KEY],et[REF_KEY]])}function getResolverLinkedRecordID(s,a){var et=getValue(s,RELAY_RESOLVER_VALUE_KEY$1);return et==null||isSuspenseSentinel$3(et)?null:(typeof et=="object"&&(et=et.id),typeof et!="string"&&invariant$p(!1),generateClientObjectClientID$1(a,et))}function getResolverLinkedRecordIDs(s,a){var et=getValue(s,RELAY_RESOLVER_VALUE_KEY$1);return et==null||isSuspenseSentinel$3(et)?null:(Array.isArray(et)||invariant$p(!1),et.map(function(nt){return nt==null?null:(typeof nt=="object"&&(nt=nt.id),typeof nt!="string"&&invariant$p(!1),generateClientObjectClientID$1(a,nt))}))}function toJSON(s){return s}var RelayModernRecord$d={clone,copyFields,create:create$1,freeze,fromObject,getDataID,getErrors,getFields,getInvalidationEpoch,getLinkedRecordID,getLinkedRecordIDs,getType,getValue,hasValue,hasLinkedRecordID,hasLinkedRecordIDs,merge,setErrors,setValue,setLinkedRecordID,setLinkedRecordIDs,update,getActorLinkedRecordID,setActorLinkedRecordID,getResolverLinkedRecordID,getResolverLinkedRecordIDs,toJSON},RelayRecordState$1={EXISTENT:"EXISTENT",NONEXISTENT:"NONEXISTENT",UNKNOWN:"UNKNOWN"},RelayRecordState_1=RelayRecordState$1,_interopRequireDefault$g=interopRequireDefaultExports.default,_createForOfIteratorHelper2$b=_interopRequireDefault$g(createForOfIteratorHelperExports),RelayModernRecord$c=RelayModernRecord$d,RelayRecordState=RelayRecordState_1,EXISTENT$3=RelayRecordState.EXISTENT,NONEXISTENT$1=RelayRecordState.NONEXISTENT,UNKNOWN$1=RelayRecordState.UNKNOWN,RelayRecordSource$6=function(){function s(et){var nt=this;this._records=new Map,et!=null&&Object.keys(et).forEach(function(at){var mt=et[at],wt=RelayModernRecord$c.fromObject(mt);nt._records.set(at,wt)})}s.create=function(nt){return new s(nt)};var a=s.prototype;return a.clear=function(){this._records=new Map},a.delete=function(nt){this._records.set(nt,null)},a.get=function(nt){return this._records.get(nt)},a.getRecordIDs=function(){return Array.from(this._records.keys())},a.getStatus=function(nt){return this._records.has(nt)?this._records.get(nt)==null?NONEXISTENT$1:EXISTENT$3:UNKNOWN$1},a.has=function(nt){return this._records.has(nt)},a.remove=function(nt){this._records.delete(nt)},a.set=function(nt,at){this._records.set(nt,at)},a.size=function(){return this._records.size},a.toJSON=function(){var nt={},at=(0,_createForOfIteratorHelper2$b.default)(this._records),mt;try{for(at.s();!(mt=at.n()).done;){var wt=mt.value,$t=wt[0],Ct=wt[1];nt[$t]=RelayModernRecord$c.toJSON(Ct)}}catch(Dt){at.e(Dt)}finally{at.f()}return nt},s}(),RelayRecordSource_1=RelayRecordSource$6,invariant$o=browser$1,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2="INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE";function assertInternalActorIdentifier$2(s){s!==INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2&&invariant$o(!1)}var ActorIdentifier={assertInternalActorIdentifier:assertInternalActorIdentifier$2,getActorIdentifier:function s(a){return a},INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$2},ACTOR_IDENTIFIER_FIELD_NAME="actor_key",_require$s=ActorIdentifier,getActorIdentifier=_require$s.getActorIdentifier;function getActorIdentifierFromPayload$1(s){if(s!=null&&typeof s=="object"&&typeof s[ACTOR_IDENTIFIER_FIELD_NAME]=="string")return getActorIdentifier(s[ACTOR_IDENTIFIER_FIELD_NAME])}var ActorUtils={ACTOR_IDENTIFIER_FIELD_NAME,getActorIdentifierFromPayload:getActorIdentifierFromPayload$1},_interopRequireDefault$f=interopRequireDefaultExports.default,_objectSpread2$5=_interopRequireDefault$f(objectSpread2Exports),_objectWithoutPropertiesLoose2$1=_interopRequireDefault$f(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$a=_interopRequireDefault$f(createForOfIteratorHelperExports),_toConsumableArray2$3=_interopRequireDefault$f(toConsumableArrayExports),_excluded$1=["path","locations"],SELF=Symbol("$SELF");function buildErrorTrie$1(s){if(s==null)return null;var a=new Map,et=(0,_createForOfIteratorHelper2$a.default)(s),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value,mt=at.path,wt=at.locations,$t=(0,_objectWithoutPropertiesLoose2$1.default)(at,_excluded$1);if(mt!=null){var Ct=mt.length;if(Ct!==0){for(var Dt=Ct-1,Ft=a,jt=0;jt<Dt;jt++){var Nt=mt[jt],Lt=Ft.get(Nt);if(Lt instanceof Map){Ft=Lt;continue}var Ut=new Map;Array.isArray(Lt)&&Ut.set(SELF,Lt),Ft.set(Nt,Ut),Ft=Ut}var Vt=mt[Dt],Yt=Ft.get(Vt);Yt instanceof Map&&(Ft=Yt,Yt=Ft.get(Vt),Vt=SELF),Array.isArray(Yt)?Yt.push($t):Ft.set(Vt,[$t])}}}}catch(er){et.e(er)}finally{et.f()}return a}function getErrorsByKey$1(s,a){var et=s.get(a);if(et==null)return null;if(Array.isArray(et))return et;var nt=[];return recursivelyCopyErrorsIntoArray(et,nt),nt}function recursivelyCopyErrorsIntoArray(s,a){var et=(0,_createForOfIteratorHelper2$a.default)(s),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value,mt=at[0],wt=at[1],$t=a.length;if(Array.isArray(wt)?a.push.apply(a,(0,_toConsumableArray2$3.default)(wt)):recursivelyCopyErrorsIntoArray(wt,a),mt!==SELF)for(var Ct=a.length,Dt=$t;Dt<Ct;Dt++){var Ft=a[Dt];Ft.path==null?a[Dt]=(0,_objectSpread2$5.default)((0,_objectSpread2$5.default)({},Ft),{},{path:[mt]}):Ft.path.unshift(mt)}}}catch(jt){et.e(jt)}finally{et.f()}}function getNestedErrorTrieByKey$1(s,a){var et=s.get(a);return et instanceof Map?et:null}var RelayErrorTrie={buildErrorTrie:buildErrorTrie$1,getNestedErrorTrieByKey:getNestedErrorTrieByKey$1,getErrorsByKey:getErrorsByKey$1},PREFIX="client:__type:",TYPE_SCHEMA_TYPE$2="__TypeSchema";function generateTypeID$4(s){return PREFIX+s}var TypeID={generateTypeID:generateTypeID$4,TYPE_SCHEMA_TYPE:TYPE_SCHEMA_TYPE$2},_interopRequireDefault$e=interopRequireDefaultExports.default,_createForOfIteratorHelper2$9=_interopRequireDefault$e(createForOfIteratorHelperExports),_toConsumableArray2$2=_interopRequireDefault$e(toConsumableArrayExports),_require$r=ActorUtils;_require$r.ACTOR_IDENTIFIER_FIELD_NAME;var getActorIdentifierFromPayload=_require$r.getActorIdentifierFromPayload,RelayFeatureFlags$5=RelayFeatureFlags_1,_require2$j=ClientID,generateClientID$5=_require2$j.generateClientID;_require2$j.isClientID;var _require3$b=RelayConcreteVariables$2,getLocalVariables$3=_require3$b.getLocalVariables,_require4$7=RelayErrorTrie,buildErrorTrie=_require4$7.buildErrorTrie,getErrorsByKey=_require4$7.getErrorsByKey,getNestedErrorTrieByKey=_require4$7.getNestedErrorTrieByKey,RelayModernRecord$b=RelayModernRecord$d,_require5$4=RelayModernSelector$1,createNormalizationSelector$2=_require5$4.createNormalizationSelector,_require6$1=RelayStoreUtils_1;_require6$1.ROOT_ID;var TYPENAME_KEY$1=_require6$1.TYPENAME_KEY,getArgumentValues$3=_require6$1.getArgumentValues,getHandleStorageKey$2=_require6$1.getHandleStorageKey,getModuleComponentKey$2=_require6$1.getModuleComponentKey,getModuleOperationKey$3=_require6$1.getModuleOperationKey,getStorageKey$6=_require6$1.getStorageKey,_require7=TypeID,TYPE_SCHEMA_TYPE$1=_require7.TYPE_SCHEMA_TYPE,generateTypeID$3=_require7.generateTypeID,invariant$n=browser$1;function normalize$2(s,a,et,nt,at){var mt=a.dataID,wt=a.node,$t=a.variables,Ct=new RelayResponseNormalizer(s,$t,nt);return Ct.normalizeResponse(wt,mt,et,at)}var RelayResponseNormalizer=function(){function s(et,nt,at){this._actorIdentifier=at.actorIdentifier,this._getDataId=at.getDataID,this._handleFieldPayloads=[],this._treatMissingFieldsAsNull=at.treatMissingFieldsAsNull,this._incrementalPlaceholders=[],this._isClientExtension=!1,this._isUnmatchedAbstractType=!1,this._followupPayloads=[],this._path=at.path?(0,_toConsumableArray2$2.default)(at.path):[],this._recordSource=et,this._variables=nt,this._shouldProcessClientComponents=at.shouldProcessClientComponents}var a=s.prototype;return a.normalizeResponse=function(nt,at,mt,wt){var $t=this._recordSource.get(at);return $t||invariant$n(!1),this._assignClientAbstractTypes(nt),this._errorTrie=buildErrorTrie(wt),this._traverseSelections(nt,$t,mt),{errors:wt,fieldPayloads:this._handleFieldPayloads,incrementalPlaceholders:this._incrementalPlaceholders,followupPayloads:this._followupPayloads,source:this._recordSource,isFinal:!1}},a._assignClientAbstractTypes=function(nt){var at=nt.clientAbstractTypes;if(at!=null)for(var mt=0,wt=Object.keys(at);mt<wt.length;mt++){var $t=wt[mt],Ct=(0,_createForOfIteratorHelper2$9.default)(at[$t]),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=generateTypeID$3(Ft),Nt=this._recordSource.get(jt);Nt==null&&(Nt=RelayModernRecord$b.create(jt,TYPE_SCHEMA_TYPE$1),this._recordSource.set(jt,Nt)),RelayModernRecord$b.setValue(Nt,$t,!0)}}catch(Lt){Ct.e(Lt)}finally{Ct.f()}}},a._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$n(!1),this._variables[nt]},a._getRecordType=function(nt){var at=nt[TYPENAME_KEY$1];return at==null&&invariant$n(!1),at},a._traverseSelections=function(nt,at,mt){for(var wt=0;wt<nt.selections.length;wt++){var $t=nt.selections[wt];switch($t.kind){case"ScalarField":case"LinkedField":this._normalizeField($t,at,mt);break;case"Condition":var Ct=!!this._getVariableValue($t.condition);Ct===$t.passingValue&&this._traverseSelections($t,at,mt);break;case"FragmentSpread":{var Dt=this._variables;this._variables=getLocalVariables$3(this._variables,$t.fragment.argumentDefinitions,$t.args),this._traverseSelections($t.fragment,at,mt),this._variables=Dt;break}case"InlineFragment":{var Ft=$t.abstractKey;if(Ft==null){var jt=RelayModernRecord$b.getType(at);jt===$t.type&&this._traverseSelections($t,at,mt)}else{var Nt=mt.hasOwnProperty(Ft),Lt=RelayModernRecord$b.getType(at),Ut=generateTypeID$3(Lt),Vt=this._recordSource.get(Ut);Vt==null&&(Vt=RelayModernRecord$b.create(Ut,TYPE_SCHEMA_TYPE$1),this._recordSource.set(Ut,Vt)),RelayModernRecord$b.setValue(Vt,Ft,Nt),Nt&&this._traverseSelections($t,at,mt)}break}case"TypeDiscriminator":{var Yt=$t.abstractKey,er=mt.hasOwnProperty(Yt),tr=RelayModernRecord$b.getType(at),nr=generateTypeID$3(tr),sr=this._recordSource.get(nr);sr==null&&(sr=RelayModernRecord$b.create(nr,TYPE_SCHEMA_TYPE$1),this._recordSource.set(nr,sr)),RelayModernRecord$b.setValue(sr,Yt,er);break}case"LinkedHandle":case"ScalarHandle":var dr=$t.args?getArgumentValues$3($t.args,this._variables):{},br=getStorageKey$6($t,this._variables),vr=getHandleStorageKey$2($t,this._variables);this._handleFieldPayloads.push({args:dr,dataID:RelayModernRecord$b.getDataID(at),fieldKey:br,handle:$t.handle,handleKey:vr,handleArgs:$t.handleArgs?getArgumentValues$3($t.handleArgs,this._variables):{}});break;case"ModuleImport":this._normalizeModuleImport($t,at,mt);break;case"Defer":this._normalizeDefer($t,at,mt);break;case"Stream":this._normalizeStream($t,at,mt);break;case"ClientExtension":var yr=this._isClientExtension;this._isClientExtension=!0,this._traverseSelections($t,at,mt),this._isClientExtension=yr;break;case"ClientComponent":if(this._shouldProcessClientComponents===!1)break;this._traverseSelections($t.fragment,at,mt);break;case"ActorChange":this._normalizeActorChange($t,at,mt);break;case"RelayResolver":this._normalizeResolver($t,at,mt);break;case"RelayLiveResolver":this._normalizeResolver($t,at,mt);break;case"ClientEdgeToClientObject":this._normalizeResolver($t.backingField,at,mt);break;default:invariant$n(!1)}}},a._normalizeResolver=function(nt,at,mt){nt.fragment!=null&&this._traverseSelections(nt.fragment,at,mt)},a._normalizeDefer=function(nt,at,mt){var wt=nt.if===null||this._getVariableValue(nt.if);wt===!1?this._traverseSelections(nt,at,mt):this._incrementalPlaceholders.push({kind:"defer",data:mt,label:nt.label,path:(0,_toConsumableArray2$2.default)(this._path),selector:createNormalizationSelector$2(nt,RelayModernRecord$b.getDataID(at),this._variables),typeName:RelayModernRecord$b.getType(at),actorIdentifier:this._actorIdentifier})},a._normalizeStream=function(nt,at,mt){this._traverseSelections(nt,at,mt);var wt=nt.if===null||this._getVariableValue(nt.if);wt===!0&&this._incrementalPlaceholders.push({kind:"stream",label:nt.label,path:(0,_toConsumableArray2$2.default)(this._path),parentID:RelayModernRecord$b.getDataID(at),node:nt,variables:this._variables,actorIdentifier:this._actorIdentifier})},a._normalizeModuleImport=function(nt,at,mt){typeof mt=="object"&&mt||invariant$n(!1);var wt=RelayModernRecord$b.getType(at),$t=getModuleComponentKey$2(nt.documentName),Ct=nt.componentModuleProvider||mt[$t];RelayModernRecord$b.setValue(at,$t,Ct??null);var Dt=getModuleOperationKey$3(nt.documentName),Ft=nt.operationModuleProvider||mt[Dt];RelayModernRecord$b.setValue(at,Dt,Ft??null),Ft!=null&&this._followupPayloads.push({kind:"ModuleImportPayload",args:nt.args,data:mt,dataID:RelayModernRecord$b.getDataID(at),operationReference:Ft,path:(0,_toConsumableArray2$2.default)(this._path),typeName:wt,variables:this._variables,actorIdentifier:this._actorIdentifier})},a._normalizeField=function(nt,at,mt){typeof mt=="object"&&mt||invariant$n(!1);var wt=nt.alias||nt.name,$t=getStorageKey$6(nt,this._variables),Ct=mt[wt];if(Ct==null||RelayFeatureFlags$5.ENABLE_NONCOMPLIANT_ERROR_HANDLING_ON_LISTS&&Array.isArray(Ct)&&Ct.length===0){if(Ct===void 0){var Dt=this._isClientExtension||this._isUnmatchedAbstractType;if(Dt)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue(at,$t,null);var Ft=this._errorTrie;if(Ft!=null){var jt=getErrorsByKey(Ft,wt);jt!=null&&RelayModernRecord$b.setErrors(at,$t,jt)}return}if(nt.kind==="ScalarField")RelayModernRecord$b.setValue(at,$t,Ct);else if(nt.kind==="LinkedField"){this._path.push(wt);var Nt=this._errorTrie;this._errorTrie=Nt==null?null:getNestedErrorTrieByKey(Nt,wt),nt.plural?this._normalizePluralLink(nt,at,$t,Ct):this._normalizeLink(nt,at,$t,Ct),this._errorTrie=Nt,this._path.pop()}else invariant$n(!1)},a._normalizeActorChange=function(nt,at,mt){var wt,$t=nt.linkedField;typeof mt=="object"&&mt||invariant$n(!1);var Ct=$t.alias||$t.name,Dt=getStorageKey$6($t,this._variables),Ft=mt[Ct];if(Ft==null){if(Ft===void 0){var jt=this._isClientExtension||this._isUnmatchedAbstractType;if(jt)return;if(!this._treatMissingFieldsAsNull)return}RelayModernRecord$b.setValue(at,Dt,null);return}var Nt=getActorIdentifierFromPayload(Ft);if(Nt==null){RelayModernRecord$b.setValue(at,Dt,null);return}var Lt=(wt=$t.concreteType)!==null&&wt!==void 0?wt:this._getRecordType(Ft),Ut=this._getDataId(Ft,Lt)||RelayModernRecord$b.getLinkedRecordID(at,Dt)||generateClientID$5(RelayModernRecord$b.getDataID(at),Dt);typeof Ut!="string"&&invariant$n(!1),RelayModernRecord$b.setActorLinkedRecordID(at,Dt,Nt,Ut),this._followupPayloads.push({kind:"ActorPayload",data:Ft,dataID:Ut,path:[].concat((0,_toConsumableArray2$2.default)(this._path),[Ct]),typeName:Lt,variables:this._variables,node:$t,actorIdentifier:Nt})},a._normalizeLink=function(nt,at,mt,wt){var $t;typeof wt=="object"&&wt||invariant$n(!1);var Ct=this._getDataId(wt,($t=nt.concreteType)!==null&&$t!==void 0?$t:this._getRecordType(wt))||RelayModernRecord$b.getLinkedRecordID(at,mt)||generateClientID$5(RelayModernRecord$b.getDataID(at),mt);typeof Ct!="string"&&invariant$n(!1),RelayModernRecord$b.setLinkedRecordID(at,mt,Ct);var Dt=this._recordSource.get(Ct);if(!Dt){var Ft=nt.concreteType||this._getRecordType(wt);Dt=RelayModernRecord$b.create(Ct,Ft),this._recordSource.set(Ct,Dt)}this._traverseSelections(nt,Dt,wt)},a._normalizePluralLink=function(nt,at,mt,wt){var $t=this;Array.isArray(wt)||invariant$n(!1);var Ct=RelayModernRecord$b.getLinkedRecordIDs(at,mt),Dt=[];wt.forEach(function(Ft,jt){var Nt;if(Ft==null){Dt.push(Ft);return}$t._path.push(String(jt));var Lt=$t._errorTrie;$t._errorTrie=Lt==null?null:getNestedErrorTrieByKey(Lt,jt),typeof Ft!="object"&&invariant$n(!1);var Ut=$t._getDataId(Ft,(Nt=nt.concreteType)!==null&&Nt!==void 0?Nt:$t._getRecordType(Ft))||Ct&&Ct[jt]||generateClientID$5(RelayModernRecord$b.getDataID(at),mt,jt);typeof Ut!="string"&&invariant$n(!1),Dt.push(Ut);var Vt=$t._recordSource.get(Ut);if(!Vt){var Yt=nt.concreteType||$t._getRecordType(Ft);Vt=RelayModernRecord$b.create(Ut,Yt),$t._recordSource.set(Ut,Vt)}$t._traverseSelections(nt,Vt,Ft),$t._errorTrie=Lt,$t._path.pop()}),RelayModernRecord$b.setLinkedRecordIDs(at,mt,Dt)},a._validateRecordType=function(nt,at,mt){var wt;(wt=at.concreteType)!==null&&wt!==void 0||this._getRecordType(mt),RelayModernRecord$b.getDataID(nt)},a._validateConflictingFieldsWithIdenticalId=function(nt,at,mt){},a._validateConflictingLinkedFieldsWithIdenticalId=function(nt,at,mt){},s}(),RelayResponseNormalizer_1={normalize:normalize$2},_interopRequireDefault$d=interopRequireDefaultExports.default,_objectSpread2$4=_interopRequireDefault$d(objectSpread2Exports),_RelayModernRecord=_interopRequireDefault$d(RelayModernRecord$d),_RelayRecordSource=_interopRequireDefault$d(RelayRecordSource_1),_RelayResponseNormalizer=_interopRequireDefault$d(RelayResponseNormalizer_1);function normalizeResponse$2(s,a,et,nt){var at,mt=s.data,wt=s.errors,$t=_RelayRecordSource.default.create(),Ct=_RelayModernRecord.default.create(a.dataID,et);$t.set(a.dataID,Ct);var Dt=_RelayResponseNormalizer.default.normalize($t,a,mt,nt,wt);return(0,_objectSpread2$4.default)((0,_objectSpread2$4.default)({},Dt),{},{isFinal:((at=s.extensions)===null||at===void 0?void 0:at.is_final)===!0})}var normalizeResponse_1=normalizeResponse$2,_require$q=GraphQLTag$1,getInlineDataFragment=_require$q.getInlineDataFragment,_require2$i=RelayStoreUtils_1,FRAGMENTS_KEY$1=_require2$i.FRAGMENTS_KEY,invariant$m=browser$1;function readInlineData$1(s,a){var et,nt=getInlineDataFragment(s);if(a==null)return a;typeof a!="object"&&invariant$m(!1);var at=(et=a[FRAGMENTS_KEY$1])===null||et===void 0?void 0:et[nt.name];return at==null&&invariant$m(!1),at}var readInlineData_1=readInlineData$1,id=1e5;function generateID$2(){return id++}var generateID_1=generateID$2,generateID$1=generateID_1;function wrapNetworkWithLogObserver$1(s,a){return{execute:function(nt,at,mt,wt){var $t=generateID$1(),Ct={start:function(jt){s.__log({name:"network.start",networkRequestId:$t,params:nt,variables:at,cacheConfig:mt})},next:function(jt){s.__log({name:"network.next",networkRequestId:$t,response:jt})},error:function(jt){s.__log({name:"network.error",networkRequestId:$t,error:jt})},complete:function(){s.__log({name:"network.complete",networkRequestId:$t})},unsubscribe:function(){s.__log({name:"network.unsubscribe",networkRequestId:$t})}},Dt=function(jt){s.__log({name:"network.info",networkRequestId:$t,info:jt})};return a.execute(nt,at,mt,wt,Dt).do(Ct)}}}var wrapNetworkWithLogObserver_1=wrapNetworkWithLogObserver$1,_interopRequireDefault$c=interopRequireDefaultExports.default,_createForOfIteratorHelper2$8=_interopRequireDefault$c(createForOfIteratorHelperExports),invariant$l=browser$1,RelayOperationTracker$2=function(){function s(){this._ownersToPendingOperations=new Map,this._pendingOperationsToOwners=new Map,this._ownersToPendingPromise=new Map}var a=s.prototype;return a.update=function(nt,at){if(at.size!==0){var mt=nt.identifier,wt=new Set,$t=(0,_createForOfIteratorHelper2$8.default)(at),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value,Ft=Dt.identifier,jt=this._ownersToPendingOperations.get(Ft);jt!=null?jt.has(mt)||(jt.set(mt,nt),wt.add(Ft)):(this._ownersToPendingOperations.set(Ft,new Map([[mt,nt]])),wt.add(Ft))}}catch(Yt){$t.e(Yt)}finally{$t.f()}if(wt.size!==0){var Nt=this._pendingOperationsToOwners.get(mt)||new Set,Lt=(0,_createForOfIteratorHelper2$8.default)(wt),Ut;try{for(Lt.s();!(Ut=Lt.n()).done;){var Vt=Ut.value;this._resolveOwnerResolvers(Vt),Nt.add(Vt)}}catch(Yt){Lt.e(Yt)}finally{Lt.f()}this._pendingOperationsToOwners.set(mt,Nt)}}},a.complete=function(nt){var at=nt.identifier,mt=this._pendingOperationsToOwners.get(at);if(mt!=null){var wt=new Set,$t=new Set,Ct=(0,_createForOfIteratorHelper2$8.default)(mt),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=this._ownersToPendingOperations.get(Ft);jt&&(jt.delete(at),jt.size>0?$t.add(Ft):wt.add(Ft))}}catch(tr){Ct.e(tr)}finally{Ct.f()}var Nt=(0,_createForOfIteratorHelper2$8.default)(wt),Lt;try{for(Nt.s();!(Lt=Nt.n()).done;){var Ut=Lt.value;this._resolveOwnerResolvers(Ut),this._ownersToPendingOperations.delete(Ut)}}catch(tr){Nt.e(tr)}finally{Nt.f()}var Vt=(0,_createForOfIteratorHelper2$8.default)($t),Yt;try{for(Vt.s();!(Yt=Vt.n()).done;){var er=Yt.value;this._resolveOwnerResolvers(er)}}catch(tr){Vt.e(tr)}finally{Vt.f()}this._pendingOperationsToOwners.delete(at)}},a._resolveOwnerResolvers=function(nt){var at=this._ownersToPendingPromise.get(nt);at!=null&&at.resolve(),this._ownersToPendingPromise.delete(nt)},a.getPendingOperationsAffectingOwner=function(nt){var at=nt.identifier,mt=this._ownersToPendingOperations.get(at);if(mt==null||mt.size===0)return null;var wt=this._ownersToPendingPromise.get(at);if(wt!=null)return{promise:wt.promise,pendingOperations:wt.pendingOperations};var $t,Ct=new Promise(function(Ft){$t=Ft});$t==null&&invariant$l(!1);var Dt=Array.from(mt.values());return this._ownersToPendingPromise.set(at,{promise:Ct,resolve:$t,pendingOperations:Dt}),{promise:Ct,pendingOperations:Dt}},s}(),RelayOperationTracker_1=RelayOperationTracker$2;function registerEnvironmentWithDevTools$1(s){var a=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,et=a&&a.__RELAY_DEVTOOLS_HOOK__;et&&et.registerEnvironment(s)}var registerEnvironmentWithDevTools_1=registerEnvironmentWithDevTools$1,_require$p=ClientID,generateClientID$4=_require$p.generateClientID,_require2$h=RelayStoreUtils_1,ROOT_ID$4=_require2$h.ROOT_ID,VIEWER_ID$2=generateClientID$4(ROOT_ID$4,"viewer"),VIEWER_TYPE$1="Viewer",ViewerPattern$1={VIEWER_ID:VIEWER_ID$2,VIEWER_TYPE:VIEWER_TYPE$1},_require$o=ViewerPattern$1,VIEWER_ID$1=_require$o.VIEWER_ID,VIEWER_TYPE=_require$o.VIEWER_TYPE;function defaultGetDataID$2(s,a){return a===VIEWER_TYPE&&s.id==null?VIEWER_ID$1:s.id}var defaultGetDataID_1=defaultGetDataID$2,defaultRelayFieldLogger$1=function s(a){},defaultRelayFieldLogger_1=defaultRelayFieldLogger$1,_require$n=RelayConcreteNode_1,REQUEST=_require$n.REQUEST,SPLIT_OPERATION=_require$n.SPLIT_OPERATION;function getOperation$3(s){switch(s.kind){case REQUEST:return s.operation;case SPLIT_OPERATION:default:return s}}var getOperation_1=getOperation$3;function createError(s,a,et){for(var nt=arguments.length,at=new Array(nt>3?nt-3:0),mt=3;mt<nt;mt++)at[mt-3]=arguments[mt];var wt=0,$t=et.replace(/%s/g,function(){return String(at[wt++])}),Ct=new Error($t),Dt=Object.assign(Ct,{name:a,messageFormat:et,messageParams:at,type:s,taalOpcodes:[2,2]});if(Dt.stack===void 0)try{throw Dt}catch{}return Dt}var RelayError$2={create:function s(a,et){for(var nt=arguments.length,at=new Array(nt>2?nt-2:0),mt=2;mt<nt;mt++)at[mt-2]=arguments[mt];return createError.apply(void 0,["error",a,et].concat(at))},createWarning:function s(a,et){for(var nt=arguments.length,at=new Array(nt>2?nt-2:0),mt=2;mt<nt;mt++)at[mt-2]=arguments[mt];return createError.apply(void 0,["warn",a,et].concat(at))}},_window,_window$performance,isPerformanceNowAvailable=typeof window<"u"&&typeof((_window=window)===null||_window===void 0||(_window$performance=_window.performance)===null||_window$performance===void 0?void 0:_window$performance.now)=="function";function currentTimestamp(){return isPerformanceNowAvailable?window.performance.now():Date.now()}function withStartAndDuration$1(s){var a=currentTimestamp(),et=s();return[a,currentTimestamp()-a,et]}var withStartAndDuration_1=withStartAndDuration$1,_interopRequireDefault$b=interopRequireDefaultExports.default,_createForOfIteratorHelper2$7=_interopRequireDefault$b(createForOfIteratorHelperExports),_toConsumableArray2$1=_interopRequireDefault$b(toConsumableArrayExports),RelayObservable$2=RelayObservable_1,generateID=generateID_1,getOperation$2=getOperation_1,RelayError$1=RelayError$2,RelayFeatureFlags$4=RelayFeatureFlags_1,_require$m=stableCopy_1,stableCopy$2=_require$m.stableCopy,withStartAndDuration=withStartAndDuration_1,_require2$g=ClientID,generateClientID$3=_require2$g.generateClientID,generateUniqueClientID$1=_require2$g.generateUniqueClientID,_require3$a=RelayConcreteVariables$2,getLocalVariables$2=_require3$a.getLocalVariables,RelayModernRecord$a=RelayModernRecord$d,_require4$6=RelayModernSelector$1,createNormalizationSelector$1=_require4$6.createNormalizationSelector,createReaderSelector$1=_require4$6.createReaderSelector,RelayRecordSource$5=RelayRecordSource_1,_require5$3=RelayStoreUtils_1,ROOT_TYPE$3=_require5$3.ROOT_TYPE,TYPENAME_KEY=_require5$3.TYPENAME_KEY,getStorageKey$5=_require5$3.getStorageKey,invariant$k=browser$1,warning=warning_1;function execute(s){return new Executor(s)}var Executor=function(){function s(et){var nt=this,at=et.actorIdentifier,mt=et.getDataID,wt=et.getPublishQueue,$t=et.getStore,Ct=et.isClientPayload,Dt=et.operation,Ft=et.operationExecutions,jt=et.operationLoader,Nt=et.operationTracker,Lt=et.optimisticConfig,Ut=et.scheduler,Vt=et.shouldProcessClientComponents,Yt=et.sink,er=et.source,tr=et.treatMissingFieldsAsNull,nr=et.updater,sr=et.log,dr=et.normalizeResponse;this._actorIdentifier=at,this._getDataID=mt,this._treatMissingFieldsAsNull=tr,this._incrementalPayloadsPending=!1,this._incrementalResults=new Map,this._log=sr,this._executeId=generateID(),this._nextSubscriptionId=0,this._operation=Dt,this._operationExecutions=Ft,this._operationLoader=jt,this._operationTracker=Nt,this._operationUpdateEpochs=new Map,this._optimisticUpdates=null,this._pendingModulePayloadsCount=0,this._getPublishQueue=wt,this._scheduler=Ut,this._sink=Yt,this._source=new Map,this._state="started",this._getStore=$t,this._subscriptions=new Map,this._updater=nr,this._isClientPayload=Ct===!0,this._isSubscriptionOperation=this._operation.request.node.params.operationKind==="subscription",this._shouldProcessClientComponents=Vt,this._retainDisposables=new Map,this._seenActors=new Set,this._completeFns=[],this._normalizeResponse=dr;var br=this._nextSubscriptionId++;RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&Lt!=null&&this._processOptimisticResponse(Lt.response!=null?{data:Lt.response}:null,Lt.updater,!1),er.subscribe({complete:function(){return nt._complete(br)},error:function(yr){return nt._error(yr)},next:function(yr){try{nt._next(br,yr)}catch($r){Yt.error($r)}},start:function(yr){var $r;nt._start(br,yr),nt._log({name:"execute.start",executeId:nt._executeId,params:nt._operation.request.node.params,variables:nt._operation.request.variables,cacheConfig:($r=nt._operation.request.cacheConfig)!==null&&$r!==void 0?$r:{}})}}),!RelayFeatureFlags$4.PROCESS_OPTIMISTIC_UPDATE_BEFORE_SUBSCRIPTION&&Lt!=null&&this._processOptimisticResponse(Lt.response!=null?{data:Lt.response}:null,Lt.updater,!1)}var a=s.prototype;return a.cancel=function(){var nt=this;if(this._state!=="completed"){this._state="completed",this._operationExecutions.delete(this._operation.request.identifier),this._subscriptions.size!==0&&(this._subscriptions.forEach(function(mt){return mt.unsubscribe()}),this._subscriptions.clear());var at=this._optimisticUpdates;at!==null&&(this._optimisticUpdates=null,at.forEach(function(mt){return nt._getPublishQueueAndSaveActor().revertUpdate(mt)}),this._runPublishQueue()),this._incrementalResults.clear(),this._asyncStoreUpdateDisposable!=null&&(this._asyncStoreUpdateDisposable.dispose(),this._asyncStoreUpdateDisposable=null),this._completeFns=[],this._completeOperationTracker(),this._disposeRetainedData()}},a._updateActiveState=function(){var nt;switch(this._state){case"started":{nt="active";break}case"loading_incremental":{nt="active";break}case"completed":{nt="inactive";break}case"loading_final":{nt=this._pendingModulePayloadsCount>0?"active":"inactive";break}default:this._state,invariant$k(!1)}this._operationExecutions.set(this._operation.request.identifier,nt)},a._schedule=function(nt,at){var mt=this,wt=this._scheduler;if(wt!=null){var $t=this._nextSubscriptionId++;RelayObservable$2.create(function(Ct){var Dt=wt.schedule(function(){try{nt(),Ct.complete()}catch(Ft){Ct.error(Ft)}},at);return function(){return wt.cancel(Dt)}}).subscribe({complete:function(){return mt._complete($t)},error:function(Dt){return mt._error(Dt)},start:function(Dt){return mt._start($t,Dt)}})}else nt()},a._complete=function(nt){this._subscriptions.delete(nt),this._subscriptions.size===0&&(this.cancel(),this._sink.complete(),this._log({name:"execute.complete",executeId:this._executeId}))},a._error=function(nt){this.cancel(),this._sink.error(nt),this._log({name:"execute.error",executeId:this._executeId,error:nt})},a._start=function(nt,at){this._subscriptions.set(nt,at),this._updateActiveState()},a._next=function(nt,at){var mt=this,wt=this._state==="loading_incremental"?"low":"default";this._schedule(function(){mt._log({name:"execute.next.start",executeId:mt._executeId,response:at,operation:mt._operation}),mt._handleNext(at),mt._maybeCompleteSubscriptionOperationTracking(),mt._log({name:"execute.next.end",executeId:mt._executeId,response:at,operation:mt._operation})},wt)},a._handleErrorResponse=function(nt){var at=this,mt=[];return nt.forEach(function(wt){if(!(wt.data===null&&wt.extensions!=null&&!wt.hasOwnProperty("errors")))if(wt.data==null){var $t=wt.hasOwnProperty("errors")&&wt.errors!=null?wt.errors:null,Ct=$t?$t.map(function(jt){var Nt=jt.message;return Nt}).join(`
`):"(No errors)",Dt=RelayError$1.create("RelayNetwork","No data returned for operation `"+at._operation.request.node.params.name+"`, got error(s):\n"+Ct+"\n\nSee the error `source` property for more information.");throw Dt.source={errors:$t,operation:at._operation.request.node,variables:at._operation.request.variables},Dt.stack,Dt}else{var Ft=wt;mt.push(Ft)}}),mt},a._handleOptimisticResponses=function(nt){var at;if(nt.length>1)return nt.some(function($t){var Ct;return((Ct=$t.extensions)===null||Ct===void 0?void 0:Ct.isOptimistic)===!0})&&invariant$k(!1),!1;var mt=nt[0],wt=((at=mt.extensions)===null||at===void 0?void 0:at.isOptimistic)===!0;return wt&&this._state!=="started"&&invariant$k(!1),wt?(this._processOptimisticResponse(mt,null,this._treatMissingFieldsAsNull),this._sink.next(mt),!0):!1},a._handleNext=function(nt){if(this._state!=="completed"){this._seenActors.clear();var at=Array.isArray(nt)?nt:[nt],mt=this._handleErrorResponse(at);if(mt.length===0){var wt=at.some(function(Yt){var er;return((er=Yt.extensions)===null||er===void 0?void 0:er.is_final)===!0});wt&&(this._state="loading_final",this._updateActiveState(),this._incrementalPayloadsPending=!1),this._sink.next(nt);return}var $t=this._handleOptimisticResponses(mt);if(!$t){var Ct=partitionGraphQLResponses(mt),Dt=Ct[0],Ft=Ct[1],jt=Dt.length>0;if(jt){if(this._isSubscriptionOperation){var Nt=generateUniqueClientID$1();this._operation={request:this._operation.request,fragment:createReaderSelector$1(this._operation.fragment.node,Nt,this._operation.fragment.variables,this._operation.fragment.owner),root:createNormalizationSelector$1(this._operation.root.node,Nt,this._operation.root.variables)}}var Lt=this._processResponses(Dt);this._processPayloadFollowups(Lt)}if(Ft.length>0){var Ut=this._processIncrementalResponses(Ft);this._processPayloadFollowups(Ut)}this._isSubscriptionOperation&&(mt[0].extensions==null?mt[0].extensions={__relay_subscription_root_id:this._operation.fragment.dataID}:mt[0].extensions.__relay_subscription_root_id=this._operation.fragment.dataID);var Vt=this._runPublishQueue(jt?this._operation:void 0);jt&&this._incrementalPayloadsPending&&this._retainData(),this._updateOperationTracker(Vt),this._sink.next(nt)}}},a._processOptimisticResponse=function(nt,at,mt){var wt=this;if(this._optimisticUpdates!==null&&invariant$k(!1),!(nt==null&&at==null)){var $t=[];if(nt){var Ct=this._normalizeResponse(nt,this._operation.root,ROOT_TYPE$3,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[],shouldProcessClientComponents:this._shouldProcessClientComponents,treatMissingFieldsAsNull:mt});validateOptimisticResponsePayload(Ct),$t.push({operation:this._operation,payload:Ct,updater:at}),this._processOptimisticFollowups(Ct,$t)}else at&&$t.push({operation:this._operation,payload:{errors:null,fieldPayloads:null,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1},updater:at});this._optimisticUpdates=$t,$t.forEach(function(Ft){return wt._getPublishQueueAndSaveActor().applyUpdate(Ft)});var Dt=this._runPublishQueue();RelayFeatureFlags$4.ENABLE_OPERATION_TRACKER_OPTIMISTIC_UPDATES&&this._updateOperationTracker(Dt)}},a._processOptimisticFollowups=function(nt,at){if(nt.followupPayloads&&nt.followupPayloads.length){var mt=nt.followupPayloads,wt=(0,_createForOfIteratorHelper2$7.default)(mt),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value;switch(Ct.kind){case"ModuleImportPayload":var Dt=this._expectOperationLoader(),Ft=Dt.get(Ct.operationReference);if(Ft==null)this._processAsyncOptimisticModuleImport(Ct);else{var jt=this._processOptimisticModuleImport(Ft,Ct);at.push.apply(at,(0,_toConsumableArray2$1.default)(jt))}break;case"ActorPayload":break;default:invariant$k(!1)}}}catch(Nt){wt.e(Nt)}finally{wt.f()}}},a._normalizeFollowupPayload=function(nt,at){var mt;at.kind==="SplitOperation"&&nt.kind==="ModuleImportPayload"?mt=getLocalVariables$2(nt.variables,at.argumentDefinitions,nt.args):mt=nt.variables;var wt=createNormalizationSelector$1(at,nt.dataID,mt);return this._normalizeResponse({data:nt.data},wt,nt.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:nt.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents})},a._processOptimisticModuleImport=function(nt,at){var mt=getOperation$2(nt),wt=[],$t=this._normalizeFollowupPayload(at,mt);return validateOptimisticResponsePayload($t),wt.push({operation:this._operation,payload:$t,updater:null}),this._processOptimisticFollowups($t,wt),wt},a._processAsyncOptimisticModuleImport=function(nt){var at=this;this._expectOperationLoader().load(nt.operationReference).then(function(mt){if(!(mt==null||at._state!=="started")){var wt=at._processOptimisticModuleImport(mt,nt);if(wt.forEach(function(Ct){return at._getPublishQueueAndSaveActor().applyUpdate(Ct)}),at._optimisticUpdates!=null){var $t;($t=at._optimisticUpdates).push.apply($t,(0,_toConsumableArray2$1.default)(wt)),at._runPublishQueue()}}})},a._processResponses=function(nt){var at=this;return this._log({name:"execute.normalize.start",operation:this._operation}),this._optimisticUpdates!==null&&(this._optimisticUpdates.forEach(function(mt){at._getPublishQueueAndSaveActor().revertUpdate(mt)}),this._optimisticUpdates=null),this._incrementalPayloadsPending=!1,this._incrementalResults.clear(),this._source.clear(),nt.map(function(mt){var wt=at._normalizeResponse(mt,at._operation.root,ROOT_TYPE$3,{actorIdentifier:at._actorIdentifier,getDataID:at._getDataID,path:[],treatMissingFieldsAsNull:at._treatMissingFieldsAsNull,shouldProcessClientComponents:at._shouldProcessClientComponents});return at._getPublishQueueAndSaveActor().commitPayload(at._operation,wt,at._updater),at._log({name:"execute.normalize.end",operation:at._operation}),wt})},a._processPayloadFollowups=function(nt){var at=this;this._state!=="completed"&&nt.forEach(function(mt){var wt=mt.incrementalPlaceholders,$t=mt.followupPayloads,Ct=mt.isFinal;if(at._state=Ct?"loading_final":"loading_incremental",at._updateActiveState(),Ct&&(at._incrementalPayloadsPending=!1),$t&&$t.length!==0&&$t.forEach(function(Ft){var jt,Nt=at._actorIdentifier;at._actorIdentifier=(jt=Ft.actorIdentifier)!==null&&jt!==void 0?jt:at._actorIdentifier,at._processFollowupPayload(Ft),at._actorIdentifier=Nt}),wt&&wt.length!==0&&(at._incrementalPayloadsPending=at._state!=="loading_final",wt.forEach(function(Ft){var jt,Nt=at._actorIdentifier;at._actorIdentifier=(jt=Ft.actorIdentifier)!==null&&jt!==void 0?jt:at._actorIdentifier,at._processIncrementalPlaceholder(mt,Ft),at._actorIdentifier=Nt}),at._isClientPayload||at._state==="loading_final")){var Dt=[];wt.forEach(function(Ft){Ft.kind==="defer"&&Dt.push(at._processDeferResponse(Ft.label,Ft.path,Ft,{data:Ft.data}))}),Dt.length>0&&at._processPayloadFollowups(Dt)}})},a._maybeCompleteSubscriptionOperationTracking=function(){this._isSubscriptionOperation&&this._pendingModulePayloadsCount===0&&this._incrementalPayloadsPending===!1&&this._completeOperationTracker()},a._processFollowupPayload=function(nt){var at=this;switch(nt.kind){case"ModuleImportPayload":var mt=this._expectOperationLoader(),wt=mt.get(nt.operationReference);if(wt!=null)this._processFollowupPayloadWithNormalizationNode(nt,getOperation$2(wt));else{var $t=this._nextSubscriptionId++;this._pendingModulePayloadsCount++;var Ct=function(){at._pendingModulePayloadsCount--,at._maybeCompleteSubscriptionOperationTracking()},Dt=RelayObservable$2.from(new Promise(function(Ft,jt){mt.load(nt.operationReference).then(Ft,jt)}));RelayObservable$2.create(function(Ft){var jt,Nt=Dt.subscribe({next:function(Ut){if(Ut!=null){var Vt=function(){try{var tr=getOperation$2(Ut),nr=RelayFeatureFlags$4.BATCH_ASYNC_MODULE_UPDATES_FN,sr=nr!=null&&at._pendingModulePayloadsCount>1,dr=withStartAndDuration(function(){if(at._handleFollowupPayload(nt,tr),sr)at._scheduleAsyncStoreUpdate(nr,Ft.complete);else{var yr=at._runPublishQueue();at._updateOperationTracker(yr)}}),br=dr[0],vr=dr[1];at._log({name:"execute.async.module",executeId:at._executeId,operationName:tr.name,duration:vr}),sr||Ft.complete()}catch(yr){Ft.error(yr)}},Yt=at._scheduler;Yt==null?Vt():jt=Yt.schedule(Vt)}else Ft.complete()},error:Ft.error});return function(){Nt.unsubscribe(),at._scheduler!=null&&jt!=null&&at._scheduler.cancel(jt)}}).subscribe({complete:function(){at._complete($t),Ct()},error:function(jt){at._error(jt),Ct()},start:function(jt){return at._start($t,jt)}})}break;case"ActorPayload":this._processFollowupPayloadWithNormalizationNode(nt,nt.node);break;default:invariant$k(!1)}},a._processFollowupPayloadWithNormalizationNode=function(nt,at){this._handleFollowupPayload(nt,at),this._maybeCompleteSubscriptionOperationTracking()},a._handleFollowupPayload=function(nt,at){var mt=this._normalizeFollowupPayload(nt,at);this._getPublishQueueAndSaveActor().commitPayload(this._operation,mt),this._processPayloadFollowups([mt])},a._processIncrementalPlaceholder=function(nt,at){var mt,wt=at.label,$t=at.path,Ct=$t.map(String).join("."),Dt=this._incrementalResults.get(wt);Dt==null&&(Dt=new Map,this._incrementalResults.set(wt,Dt));var Ft=Dt.get(Ct),jt=Ft!=null&&Ft.kind==="response"?Ft.responses:null;Dt.set(Ct,{kind:"placeholder",placeholder:at});var Nt;at.kind==="stream"?Nt=at.parentID:at.kind==="defer"?Nt=at.selector.dataID:invariant$k(!1);var Lt=nt.source.get(Nt),Ut=((mt=nt.fieldPayloads)!==null&&mt!==void 0?mt:[]).filter(function(dr){var br=generateClientID$3(dr.dataID,dr.fieldKey);return dr.dataID===Nt||br===Nt});Lt==null&&invariant$k(!1);var Vt,Yt,er=this._source.get(Nt);if(er!=null){Vt=RelayModernRecord$a.update(er.record,Lt);var tr=new Map,nr=function(br){var vr=stableStringify(br);tr.set(vr,br)};er.fieldPayloads.forEach(nr),Ut.forEach(nr),Yt=Array.from(tr.values())}else Vt=Lt,Yt=Ut;if(this._source.set(Nt,{record:Vt,fieldPayloads:Yt}),jt!=null){var sr=this._processIncrementalResponses(jt);this._processPayloadFollowups(sr)}},a._processIncrementalResponses=function(nt){var at=this,mt=[];return nt.forEach(function(wt){var $t=wt.label,Ct=wt.path,Dt=wt.response,Ft=at._incrementalResults.get($t);if(Ft==null&&(Ft=new Map,at._incrementalResults.set($t,Ft)),$t.indexOf("$defer$")!==-1){var jt=Ct.map(String).join("."),Nt=Ft.get(jt);if(Nt==null){Nt={kind:"response",responses:[wt]},Ft.set(jt,Nt);return}else if(Nt.kind==="response"){Nt.responses.push(wt);return}var Lt=Nt.placeholder;Lt.kind!=="defer"&&invariant$k(!1),mt.push(at._processDeferResponse($t,Ct,Lt,Dt))}else{var Ut=Ct.slice(0,-2).map(String).join("."),Vt=Ft.get(Ut);if(Vt==null){Vt={kind:"response",responses:[wt]},Ft.set(Ut,Vt);return}else if(Vt.kind==="response"){Vt.responses.push(wt);return}var Yt=Vt.placeholder;Yt.kind!=="stream"&&invariant$k(!1),mt.push(at._processStreamResponse($t,Ct,Yt,Dt))}}),mt},a._processDeferResponse=function(nt,at,mt,wt){var $t,Ct=mt.selector.dataID,Dt=this._actorIdentifier;this._actorIdentifier=($t=mt.actorIdentifier)!==null&&$t!==void 0?$t:this._actorIdentifier;var Ft=this._normalizeResponse(wt,mt.selector,mt.typeName,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:mt.path,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});this._getPublishQueueAndSaveActor().commitPayload(this._operation,Ft);var jt=this._source.get(Ct);jt==null&&invariant$k(!1);var Nt=jt.fieldPayloads;if(Nt.length!==0){var Lt,Ut={errors:null,fieldPayloads:Nt,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:((Lt=wt.extensions)===null||Lt===void 0?void 0:Lt.is_final)===!0};this._getPublishQueueAndSaveActor().commitPayload(this._operation,Ut)}return this._actorIdentifier=Dt,Ft},a._processStreamResponse=function(nt,at,mt,wt){var $t=mt.parentID,Ct=mt.node,Dt=mt.variables,Ft=mt.actorIdentifier,jt=this._actorIdentifier;this._actorIdentifier=Ft??this._actorIdentifier;var Nt=Ct.selections[0];Nt!=null&&Nt.kind==="LinkedField"&&Nt.plural===!0||invariant$k(!1);var Lt=this._normalizeStreamItem(wt,$t,Nt,Dt,at,mt.path),Ut=Lt.fieldPayloads,Vt=Lt.itemID,Yt=Lt.itemIndex,er=Lt.prevIDs,tr=Lt.relayPayload,nr=Lt.storageKey;if(this._getPublishQueueAndSaveActor().commitPayload(this._operation,tr,function(dr){var br=dr.get($t);if(br!=null){var vr=br.getLinkedRecords(nr);if(vr!=null&&!(vr.length!==er.length||vr.some(function($r,Sr){return er[Sr]!==($r&&$r.getDataID())}))){var yr=(0,_toConsumableArray2$1.default)(vr);yr[Yt]=dr.get(Vt),br.setLinkedRecords(yr,nr)}}}),Ut.length!==0){var sr={errors:null,fieldPayloads:Ut,incrementalPlaceholders:null,followupPayloads:null,source:RelayRecordSource$5.create(),isFinal:!1};this._getPublishQueueAndSaveActor().commitPayload(this._operation,sr)}return this._actorIdentifier=jt,tr},a._normalizeStreamItem=function(nt,at,mt,wt,$t,Ct){var Dt,Ft,jt,Nt,Lt=nt.data;typeof Lt!="object"&&invariant$k(!1);var Ut=(Dt=mt.alias)!==null&&Dt!==void 0?Dt:mt.name,Vt=getStorageKey$5(mt,wt),Yt=this._source.get(at);Yt==null&&invariant$k(!1);var er=Yt.record,tr=Yt.fieldPayloads,nr=RelayModernRecord$a.getLinkedRecordIDs(er,Vt);nr==null&&invariant$k(!1);var sr=$t[$t.length-1],dr=parseInt(sr,10);dr===sr&&dr>=0||invariant$k(!1);var br=(Ft=mt.concreteType)!==null&&Ft!==void 0?Ft:Lt[TYPENAME_KEY];typeof br!="string"&&invariant$k(!1);var vr=(jt=(Nt=this._getDataID(Lt,br))!==null&&Nt!==void 0?Nt:nr==null?void 0:nr[dr])!==null&&jt!==void 0?jt:generateClientID$3(at,Vt,dr);typeof vr!="string"&&invariant$k(!1);var yr=createNormalizationSelector$1(mt,vr,wt),$r=RelayModernRecord$a.clone(er),Sr=(0,_toConsumableArray2$1.default)(nr);Sr[dr]=vr,RelayModernRecord$a.setLinkedRecordIDs($r,Vt,Sr),this._source.set(at,{record:$r,fieldPayloads:tr});var wr=this._normalizeResponse(nt,yr,br,{actorIdentifier:this._actorIdentifier,getDataID:this._getDataID,path:[].concat((0,_toConsumableArray2$1.default)(Ct),[Ut,String(dr)]),treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents});return{fieldPayloads:tr,itemID:vr,itemIndex:dr,prevIDs:nr,relayPayload:wr,storageKey:Vt}},a._scheduleAsyncStoreUpdate=function(nt,at){var mt=this;this._completeFns.push(at),this._asyncStoreUpdateDisposable==null&&(this._asyncStoreUpdateDisposable=nt(function(){mt._asyncStoreUpdateDisposable=null;var wt=mt._runPublishQueue();mt._updateOperationTracker(wt);var $t=(0,_createForOfIteratorHelper2$7.default)(mt._completeFns),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value;Dt()}}catch(Ft){$t.e(Ft)}finally{$t.f()}mt._completeFns=[]}))},a._updateOperationTracker=function(nt){nt!=null&&nt.length>0&&this._operationTracker.update(this._operation.request,new Set(nt))},a._completeOperationTracker=function(){this._operationTracker.complete(this._operation.request)},a._getPublishQueueAndSaveActor=function(){return this._seenActors.add(this._actorIdentifier),this._getPublishQueue(this._actorIdentifier)},a._getActorsToVisit=function(){return this._seenActors.size===0?new Set([this._actorIdentifier]):this._seenActors},a._runPublishQueue=function(nt){var at=new Set,mt=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value,Ct=this._getPublishQueue($t).run(nt);Ct.forEach(function(Dt){return at.add(Dt)})}}catch(Dt){mt.e(Dt)}finally{mt.f()}return Array.from(at)},a._retainData=function(){var nt=(0,_createForOfIteratorHelper2$7.default)(this._getActorsToVisit()),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;this._retainDisposables.has(mt)||this._retainDisposables.set(mt,this._getStore(mt).retain(this._operation))}}catch(wt){nt.e(wt)}finally{nt.f()}},a._disposeRetainedData=function(){var nt=(0,_createForOfIteratorHelper2$7.default)(this._retainDisposables.values()),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;mt.dispose()}}catch(wt){nt.e(wt)}finally{nt.f()}this._retainDisposables.clear()},a._expectOperationLoader=function(){var nt=this._operationLoader;return nt||invariant$k(!1),nt},s}();function partitionGraphQLResponses(s){var a=[],et=[];return s.forEach(function(nt){if(nt.path!=null||nt.label!=null){var at=nt.label,mt=nt.path;(at==null||mt==null)&&invariant$k(!1),et.push({label:at,path:mt,response:nt})}else a.push(nt)}),[a,et]}function stableStringify(s){var a;return(a=JSON.stringify(stableCopy$2(s)))!==null&&a!==void 0?a:""}function validateOptimisticResponsePayload(s){var a=s.incrementalPlaceholders;a!=null&&a.length!==0&&invariant$k(!1)}var OperationExecutor$1={execute},RelayModernRecord$9=RelayModernRecord$d,_require$l=RelayRecordState_1,EXISTENT$2=_require$l.EXISTENT,invariant$j=browser$1,RelayRecordSourceMutator$2=function(){function s(et,nt){this.__sources=[nt,et],this._base=et,this._sink=nt}var a=s.prototype;return a.unstable_getRawRecordWithChanges=function(nt){var at=this._base.get(nt),mt=this._sink.get(nt);if(mt===void 0){if(at==null)return at;var wt=RelayModernRecord$9.clone(at);return wt}else{if(mt===null)return null;if(at!=null){var $t=RelayModernRecord$9.update(at,mt);return $t}else{var Ct=RelayModernRecord$9.clone(mt);return Ct}}},a._getSinkRecord=function(nt){var at=this._sink.get(nt);if(!at){var mt=this._base.get(nt);mt||invariant$j(!1),at=RelayModernRecord$9.create(nt,RelayModernRecord$9.getType(mt)),this._sink.set(nt,at)}return at},a.copyFields=function(nt,at){var mt=this._sink.get(nt),wt=this._base.get(nt);mt||wt||invariant$j(!1);var $t=this._getSinkRecord(at);wt&&RelayModernRecord$9.copyFields(wt,$t),mt&&RelayModernRecord$9.copyFields(mt,$t)},a.copyFieldsFromRecord=function(nt,at){var mt=this._getSinkRecord(at);RelayModernRecord$9.copyFields(nt,mt)},a.create=function(nt,at){this._base.getStatus(nt)!==EXISTENT$2&&this._sink.getStatus(nt)!==EXISTENT$2||invariant$j(!1);var mt=RelayModernRecord$9.create(nt,at);this._sink.set(nt,mt)},a.delete=function(nt){this._sink.delete(nt)},a.getStatus=function(nt){return this._sink.has(nt)?this._sink.getStatus(nt):this._base.getStatus(nt)},a.getType=function(nt){for(var at=0;at<this.__sources.length;at++){var mt=this.__sources[at].get(nt);if(mt)return RelayModernRecord$9.getType(mt);if(mt===null)return null}},a.getValue=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getValue(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},a.setValue=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setValue(wt,at,mt)},a.getErrors=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getErrors(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},a.setErrors=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setErrors(wt,at,mt)},a.getLinkedRecordID=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getLinkedRecordID(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},a.setLinkedRecordID=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setLinkedRecordID(wt,at,mt)},a.getLinkedRecordIDs=function(nt,at){for(var mt=0;mt<this.__sources.length;mt++){var wt=this.__sources[mt].get(nt);if(wt){var $t=RelayModernRecord$9.getLinkedRecordIDs(wt,at);if($t!==void 0)return $t}else if(wt===null)return null}},a.setLinkedRecordIDs=function(nt,at,mt){var wt=this._getSinkRecord(nt);RelayModernRecord$9.setLinkedRecordIDs(wt,at,mt)},s}(),RelayRecordSourceMutator_1=RelayRecordSourceMutator$2,_interopRequireDefault$a=interopRequireDefaultExports.default,_createForOfIteratorHelper2$6=_interopRequireDefault$a(createForOfIteratorHelperExports),_require$k=RelayStoreUtils_1,getArgumentValues$2=_require$k.getArgumentValues,nonUpdatableKeys=["id","__id","__typename","js"];function createUpdatableProxy$2(s,a,et,nt,at){var mt={};return updateProxyFromSelections(mt,s,a,et,nt,at),mt}function updateProxyFromSelections(s,a,et,nt,at,mt){var wt,$t=(0,_createForOfIteratorHelper2$6.default)(nt),Ct;try{var Dt=function(){var Lt=Ct.value;switch(Lt.kind){case"LinkedField":Lt.plural?Object.defineProperty(s,(Ft=Lt.alias)!==null&&Ft!==void 0?Ft:Lt.name,{get:createGetterForPluralLinkedField(Lt,et,a,at,mt),set:createSetterForPluralLinkedField(Lt,et,a,at)}):Object.defineProperty(s,(jt=Lt.alias)!==null&&jt!==void 0?jt:Lt.name,{get:createGetterForSingularLinkedField(Lt,et,a,at,mt),set:createSetterForSingularLinkedField(Lt,et,a,at)});break;case"ScalarField":var Ut=(wt=Lt.alias)!==null&&wt!==void 0?wt:Lt.name;Object.defineProperty(s,Ut,{get:function(){var Yt,er=getArgumentValues$2((Yt=Lt.args)!==null&&Yt!==void 0?Yt:[],et),tr=a.getValue(Lt.name,er);return tr==null&&(tr=getScalarUsingMissingFieldHandlers(Lt,er,a,at,mt)),tr},set:nonUpdatableKeys.includes(Lt.name)?void 0:function(Vt){var Yt,er=getArgumentValues$2((Yt=Lt.args)!==null&&Yt!==void 0?Yt:[],et);a.setValue__UNSAFE(Vt,Lt.name,er)}});break;case"InlineFragment":a.getType()===Lt.type&&updateProxyFromSelections(s,a,et,Lt.selections,at,mt);break;case"ClientExtension":updateProxyFromSelections(s,a,et,Lt.selections,at,mt);break;case"FragmentSpread":break;case"Condition":case"ActorChange":case"InlineDataFragmentSpread":case"AliasedInlineFragmentSpread":case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":case"Defer":case"ModuleImport":case"RelayLiveResolver":case"RequiredField":case"CatchField":case"Stream":case"RelayResolver":throw new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.");default:throw Lt.kind,new Error("Encountered an unexpected ReaderSelection variant in RelayRecordSourceProxy. This indicates a bug in Relay.")}};for($t.s();!(Ct=$t.n()).done;){var Ft,jt;Dt()}}catch(Nt){$t.e(Nt)}finally{$t.f()}}function createSetterForPluralLinkedField(s,a,et,nt){return function(mt){var wt,$t=getArgumentValues$2((wt=s.args)!==null&&wt!==void 0?wt:[],a);if(mt==null)throw new Error("Do not assign null to plural linked fields; assign an empty array instead.");var Ct=mt.map(function(Dt){if(Dt==null)throw new Error("When assigning an array of items, none of the items should be null or undefined.");var Ft=Dt.__id;if(Ft==null)throw new Error("The __id field must be present on each item passed to the setter. This indicates a bug in Relay.");var jt=nt.get(Ft);if(jt==null)throw new Error("Did not find item with data id ".concat(Ft," in the store."));return jt});et.setLinkedRecords(Ct,s.name,$t)}}function createSetterForSingularLinkedField(s,a,et,nt){return function(mt){var wt,$t=getArgumentValues$2((wt=s.args)!==null&&wt!==void 0?wt:[],a);if(mt==null)et.setValue(mt,s.name,$t);else{var Ct=mt.__id;if(Ct==null)throw new Error("The __id field must be present on the argument. This indicates a bug in Relay.");var Dt=nt.get(Ct);if(Dt==null)throw new Error("Did not find item with data id ".concat(Ct," in the store."));et.setLinkedRecord(Dt,s.name,$t)}}}function createGetterForPluralLinkedField(s,a,et,nt,at){return function(){var mt,wt=getArgumentValues$2((mt=s.args)!==null&&mt!==void 0?mt:[],a),$t=et.getLinkedRecords(s.name,wt);return $t===void 0&&($t=getPluralLinkedRecordUsingMissingFieldHandlers(s,wt,et,nt,at)),$t!=null?$t.map(function(Ct){if(Ct!=null){var Dt={};return updateProxyFromSelections(Dt,Ct,a,s.selections,nt,at),Dt}else return Ct}):$t}}function createGetterForSingularLinkedField(s,a,et,nt,at){return function(){var mt,wt=getArgumentValues$2((mt=s.args)!==null&&mt!==void 0?mt:[],a),$t=et.getLinkedRecord(s.name,wt);if($t===void 0&&($t=getLinkedRecordUsingMissingFieldHandlers(s,wt,et,nt,at)),$t!=null){var Ct={};return updateProxyFromSelections(Ct,$t,a,s.selections,nt,at),Ct}else return $t}}function getLinkedRecordUsingMissingFieldHandlers(s,a,et,nt,at){var mt=(0,_createForOfIteratorHelper2$6.default)(at),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if($t.kind==="linked"){var Ct=$t.handle(s,et,a,nt);if(Ct!=null)return nt.get(Ct)}}}catch(Dt){mt.e(Dt)}finally{mt.f()}}function getPluralLinkedRecordUsingMissingFieldHandlers(s,a,et,nt,at){var mt=(0,_createForOfIteratorHelper2$6.default)(at),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if($t.kind==="pluralLinked"){var Ct=$t.handle(s,et,a,nt);if(Ct!=null)return Ct.map(function(Dt){if(Dt!=null)return nt.get(Dt)})}}}catch(Dt){mt.e(Dt)}finally{mt.f()}}function getScalarUsingMissingFieldHandlers(s,a,et,nt,at){var mt=(0,_createForOfIteratorHelper2$6.default)(at),wt;try{for(mt.s();!(wt=mt.n()).done;){var $t=wt.value;if($t.kind==="scalar"){var Ct=$t.handle(s,et,a,nt);if(Ct!==void 0)return Ct}}}catch(Dt){mt.e(Dt)}finally{mt.f()}}var createUpdatableProxy_1={createUpdatableProxy:createUpdatableProxy$2},_require$j=GraphQLTag$1,getFragment=_require$j.getFragment,_require2$f=RelayModernSelector$1,getVariablesFromFragment$1=_require2$f.getVariablesFromFragment,_require3$9=RelayStoreUtils_1,ID_KEY$1=_require3$9.ID_KEY,_require4$5=createUpdatableProxy_1,createUpdatableProxy$1=_require4$5.createUpdatableProxy,invariant$i=browser$1;function readUpdatableFragment(s,a,et,nt){var at=getFragment(s),mt=getVariablesFromFragment$1(at,a),wt=a[ID_KEY$1],$t=et.get(wt);return $t==null&&invariant$i(!1),{updatableData:createUpdatableProxy$1($t,mt,at.selections,et,nt)}}var readUpdatableFragment_1={readUpdatableFragment},_require$i=GraphQLTag$1,getUpdatableQuery=_require$i.getUpdatableQuery,_require2$e=createUpdatableProxy_1,createUpdatableProxy=_require2$e.createUpdatableProxy;function readUpdatableQuery(s,a,et,nt){var at=getUpdatableQuery(s);return{updatableData:createUpdatableProxy(et.getRoot(),a,at.fragment.selections,et,nt)}}var readUpdatableQuery_1={readUpdatableQuery},_require$h=ClientID,generateClientID$2=_require$h.generateClientID,_require2$d=RelayStoreUtils_1,getStableStorageKey=_require2$d.getStableStorageKey,invariant$h=browser$1,RelayRecordProxy$1=function(){function s(et,nt,at){this._dataID=at,this._mutator=nt,this._source=et}var a=s.prototype;return a.copyFieldsFrom=function(nt){this._mutator.copyFields(nt.getDataID(),this._dataID)},a.getDataID=function(){return this._dataID},a.getType=function(){var nt=this._mutator.getType(this._dataID);return nt==null&&invariant$h(!1),nt},a.getValue=function(nt,at){var mt=getStableStorageKey(nt,at);return this._mutator.getValue(this._dataID,mt)},a.setValue=function(nt,at,mt,wt){return isValidLeafValue(nt)||invariant$h(!1),this.setValue__UNSAFE(nt,at,mt,wt)},a.getErrors=function(nt,at){var mt=getStableStorageKey(nt,at);return this._mutator.getErrors(this._dataID,mt)},a.setValue__UNSAFE=function(nt,at,mt,wt){var $t=getStableStorageKey(at,mt);return this._mutator.setValue(this._dataID,$t,nt),wt!=null&&(wt.length===0?this._mutator.setErrors(this._dataID,$t):this._mutator.setErrors(this._dataID,$t,wt)),this},a.getLinkedRecord=function(nt,at){var mt=getStableStorageKey(nt,at),wt=this._mutator.getLinkedRecordID(this._dataID,mt);return wt!=null?this._source.get(wt):wt},a.setLinkedRecord=function(nt,at,mt){nt instanceof s||invariant$h(!1);var wt=getStableStorageKey(at,mt),$t=nt.getDataID();return this._mutator.setLinkedRecordID(this._dataID,wt,$t),this},a.getOrCreateLinkedRecord=function(nt,at,mt){var wt=this.getLinkedRecord(nt,mt);if(!wt){var $t,Ct=getStableStorageKey(nt,mt),Dt=generateClientID$2(this.getDataID(),Ct);wt=($t=this._source.get(Dt))!==null&&$t!==void 0?$t:this._source.create(Dt,at),this.setLinkedRecord(wt,nt,mt)}return wt},a.getLinkedRecords=function(nt,at){var mt=this,wt=getStableStorageKey(nt,at),$t=this._mutator.getLinkedRecordIDs(this._dataID,wt);return $t==null?$t:$t.map(function(Ct){return Ct!=null?mt._source.get(Ct):Ct})},a.setLinkedRecords=function(nt,at,mt){Array.isArray(nt)||invariant$h(!1);var wt=getStableStorageKey(at,mt),$t=nt.map(function(Ct){return Ct&&Ct.getDataID()});return this._mutator.setLinkedRecordIDs(this._dataID,wt,$t),this},a.invalidateRecord=function(){this._source.markIDForInvalidation(this._dataID)},s}();function isValidLeafValue(s){return s==null||typeof s!="object"||Array.isArray(s)&&s.every(isValidLeafValue)}var RelayRecordProxy_1=RelayRecordProxy$1,RelayModernRecord$8=RelayModernRecord$d,_require$g=RelayRecordState_1,EXISTENT$1=_require$g.EXISTENT,NONEXISTENT=_require$g.NONEXISTENT,_require2$c=RelayStoreUtils_1,ROOT_ID$3=_require2$c.ROOT_ID,ROOT_TYPE$2=_require2$c.ROOT_TYPE,_require3$8=readUpdatableFragment_1,_readUpdatableFragment$1=_require3$8.readUpdatableFragment,_require4$4=readUpdatableQuery_1,_readUpdatableQuery$1=_require4$4.readUpdatableQuery,RelayRecordProxy=RelayRecordProxy_1,invariant$g=browser$1,RelayRecordSourceProxy$2=function(){function s(et,nt,at,mt){this.__mutator=et,this._handlerProvider=at||null,this._proxies={},this._getDataID=nt,this._invalidatedStore=!1,this._idsMarkedForInvalidation=new Set,this._missingFieldHandlers=mt}var a=s.prototype;return a.publishSource=function(nt,at){var mt=this,wt=nt.getRecordIDs();wt.forEach(function($t){var Ct=nt.getStatus($t);if(Ct===EXISTENT$1){var Dt=nt.get($t);Dt&&(mt.__mutator.getStatus($t)!==EXISTENT$1&&mt.create($t,RelayModernRecord$8.getType(Dt)),mt.__mutator.copyFieldsFromRecord(Dt,$t))}else Ct===NONEXISTENT&&mt.delete($t)}),at&&at.length&&at.forEach(function($t){var Ct=mt._handlerProvider&&mt._handlerProvider($t.handle);Ct||invariant$g(!1),Ct.update(mt,$t)})},a.create=function(nt,at){this.__mutator.create(nt,at),delete this._proxies[nt];var mt=this.get(nt);return mt||invariant$g(!1),mt},a.delete=function(nt){nt===ROOT_ID$3&&invariant$g(!1),delete this._proxies[nt],this.__mutator.delete(nt)},a.get=function(nt){if(!this._proxies.hasOwnProperty(nt)){var at=this.__mutator.getStatus(nt);at===EXISTENT$1?this._proxies[nt]=new RelayRecordProxy(this,this.__mutator,nt):this._proxies[nt]=at===NONEXISTENT?null:void 0}return this._proxies[nt]},a.getRoot=function(){var nt=this.get(ROOT_ID$3);return nt||(nt=this.create(ROOT_ID$3,ROOT_TYPE$2)),nt&&nt.getType()===ROOT_TYPE$2||invariant$g(!1),nt},a.invalidateStore=function(){this._invalidatedStore=!0},a.isStoreMarkedForInvalidation=function(){return this._invalidatedStore},a.markIDForInvalidation=function(nt){this._idsMarkedForInvalidation.add(nt)},a.getIDsMarkedForInvalidation=function(){return this._idsMarkedForInvalidation},a.readUpdatableQuery=function(nt,at){return _readUpdatableQuery$1(nt,at,this,this._missingFieldHandlers)},a.readUpdatableFragment=function(nt,at){return _readUpdatableFragment$1(nt,at,this,this._missingFieldHandlers)},s}(),RelayRecordSourceProxy_1=RelayRecordSourceProxy$2,_require$f=RelayStoreUtils_1,ROOT_TYPE$1=_require$f.ROOT_TYPE,getStorageKey$4=_require$f.getStorageKey,_require2$b=readUpdatableFragment_1,_readUpdatableFragment=_require2$b.readUpdatableFragment,_require3$7=readUpdatableQuery_1,_readUpdatableQuery=_require3$7.readUpdatableQuery,invariant$f=browser$1,RelayRecordSourceSelectorProxy$1=function(){function s(et,nt,at,mt){this.__mutator=et,this.__recordSource=nt,this._readSelector=at,this._missingFieldHandlers=mt}var a=s.prototype;return a.create=function(nt,at){return this.__recordSource.create(nt,at)},a.delete=function(nt){this.__recordSource.delete(nt)},a.get=function(nt){return this.__recordSource.get(nt)},a.getRoot=function(){return this.__recordSource.getRoot()},a.getOperationRoot=function(){var nt=this.__recordSource.get(this._readSelector.dataID);return nt||(nt=this.__recordSource.create(this._readSelector.dataID,ROOT_TYPE$1)),nt},a._getRootField=function(nt,at,mt){var wt=nt.node.selections.find(function($t){return $t.kind==="LinkedField"&&$t.name===at||$t.kind==="RequiredField"&&$t.field.name===at});return wt&&wt.kind==="RequiredField"&&(wt=wt.field),wt&&wt.kind==="LinkedField"||invariant$f(!1),wt.plural!==mt&&invariant$f(!1),wt},a.getRootField=function(nt){var at=this._getRootField(this._readSelector,nt,!1),mt=getStorageKey$4(at,this._readSelector.variables);return this.getOperationRoot().getLinkedRecord(mt)},a.getPluralRootField=function(nt){var at=this._getRootField(this._readSelector,nt,!0),mt=getStorageKey$4(at,this._readSelector.variables);return this.getOperationRoot().getLinkedRecords(mt)},a.invalidateStore=function(){this.__recordSource.invalidateStore()},a.readUpdatableQuery=function(nt,at){return _readUpdatableQuery(nt,at,this,this._missingFieldHandlers)},a.readUpdatableFragment=function(nt,at){return _readUpdatableFragment(nt,at,this,this._missingFieldHandlers)},s}(),RelayRecordSourceSelectorProxy_1=RelayRecordSourceSelectorProxy$1,_require$e=RelayConcreteNode_1,RELAY_LIVE_RESOLVER$1=_require$e.RELAY_LIVE_RESOLVER,invariant$e=browser$1,NoopResolverCache$1=function(){function s(){}var a=s.prototype;return a.readFromCacheOrEvaluate=function(nt,at,mt,wt,$t){at.kind===RELAY_LIVE_RESOLVER$1&&invariant$e(!1);var Ct=wt(),Dt=Ct.resolverResult,Ft=Ct.snapshot,jt=Ct.error;return[Dt,void 0,jt,Ft,void 0,void 0]},a.invalidateDataIDs=function(nt){},a.ensureClientRecord=function(nt,at){invariant$e(!1)},a.notifyUpdatedSubscribers=function(nt){},s}(),ResolverCache={NoopResolverCache:NoopResolverCache$1},_interopRequireDefault$9=interopRequireDefaultExports.default,_objectSpread2$3=_interopRequireDefault$9(objectSpread2Exports),_defineProperty2$2=_interopRequireDefault$9(requireDefineProperty()),_objectWithoutPropertiesLoose2=_interopRequireDefault$9(objectWithoutPropertiesLooseExports),_createForOfIteratorHelper2$5=_interopRequireDefault$9(createForOfIteratorHelperExports),_toConsumableArray2=_interopRequireDefault$9(toConsumableArrayExports),_excluded=["message"],_require$d=LiveResolverSuspenseSentinel,isSuspenseSentinel$2=_require$d.isSuspenseSentinel,RelayConcreteVariables$1=RelayConcreteVariables$2,RelayModernRecord$7=RelayModernRecord$d,_require2$a=RelayStoreUtils_1,CLIENT_EDGE_TRAVERSAL_PATH=_require2$a.CLIENT_EDGE_TRAVERSAL_PATH,FRAGMENT_OWNER_KEY=_require2$a.FRAGMENT_OWNER_KEY,FRAGMENT_PROP_NAME_KEY=_require2$a.FRAGMENT_PROP_NAME_KEY,FRAGMENTS_KEY=_require2$a.FRAGMENTS_KEY,ID_KEY=_require2$a.ID_KEY,MODULE_COMPONENT_KEY=_require2$a.MODULE_COMPONENT_KEY,ROOT_ID$2=_require2$a.ROOT_ID,getArgumentValues$1=_require2$a.getArgumentValues,getModuleComponentKey$1=_require2$a.getModuleComponentKey,getStorageKey$3=_require2$a.getStorageKey,_require3$6=ResolverCache,NoopResolverCache=_require3$6.NoopResolverCache,_require4$3=ResolverFragments$1,RESOLVER_FRAGMENT_ERRORED_SENTINEL=_require4$3.RESOLVER_FRAGMENT_ERRORED_SENTINEL,withResolverContext=_require4$3.withResolverContext,_require5$2=TypeID,generateTypeID$2=_require5$2.generateTypeID,invariant$d=browser$1;function read(s,a,et,nt){var at=new RelayReader$3(s,a,et??new NoopResolverCache,nt);return at.read()}var RelayReader$3=function(){function s(et,nt,at,mt){var wt,$t;this._clientEdgeTraversalPath=(wt=nt.clientEdgeTraversalPath)!==null&&wt!==void 0&&wt.length?(0,_toConsumableArray2.default)(nt.clientEdgeTraversalPath):[],this._missingClientEdges=[],this._missingLiveResolverFields=[],this._isMissingData=!1,this._isWithinUnmatchedTypeRefinement=!1,this._errorResponseFields=null,this._owner=nt.owner,this._useExecTimeResolvers=($t=this._owner.node.operation.use_exec_time_resolvers)!==null&&$t!==void 0?$t:!1,this._recordSource=et,this._seenRecords=new Set,this._selector=nt,this._variables=nt.variables,this._resolverCache=at,this._fragmentName=nt.node.name,this._updatedDataIDs=new Set,this._resolverContext=mt}var a=s.prototype;return a.read=function(){var nt,at=this._selector,mt=at.node,wt=at.dataID,$t=at.isWithinUnmatchedTypeRefinement,Ct=mt.abstractKey,Dt=this._recordSource.get(wt),Ft=!$t;if(Ft&&Ct==null&&Dt!=null&&(this._recordMatchesTypeCondition(Dt,mt.type)||(Ft=!1)),Ft&&Ct!=null&&Dt!=null){var jt=this._implementsInterface(Dt,Ct);jt===!1&&(Ft=!1)}this._isWithinUnmatchedTypeRefinement=!Ft;var Nt=this._traverse(mt,wt,null),Lt=(nt=this._selector.node.metadata)===null||nt===void 0?void 0:nt.catchTo;return Lt!=null&&(Nt=this._catchErrors(Nt,Lt,null)),this._updatedDataIDs.size>0&&(this._resolverCache.notifyUpdatedSubscribers(this._updatedDataIDs),this._updatedDataIDs.clear()),{data:Nt,isMissingData:this._isMissingData&&Ft,missingClientEdges:this._missingClientEdges.length?this._missingClientEdges:null,missingLiveResolverFields:this._missingLiveResolverFields,seenRecords:this._seenRecords,selector:this._selector,errorResponseFields:this._errorResponseFields}},a._maybeAddErrorResponseFields=function(nt,at){var mt=RelayModernRecord$7.getErrors(nt,at);if(mt!=null){var wt=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var $t=(0,_createForOfIteratorHelper2$5.default)(mt),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt,Ft,jt,Nt=Ct.value;this._errorResponseFields.push({kind:"relay_field_payload.error",owner:wt,fieldPath:((Dt=Nt.path)!==null&&Dt!==void 0?Dt:[]).join("."),error:Nt,shouldThrow:(Ft=(jt=this._selector.node.metadata)===null||jt===void 0?void 0:jt.throwOnFieldError)!==null&&Ft!==void 0?Ft:!1,handled:!1})}}catch(Lt){$t.e(Lt)}finally{$t.f()}}},a._markDataAsMissing=function(nt){var at,mt;if(!this._isWithinUnmatchedTypeRefinement){this._errorResponseFields==null&&(this._errorResponseFields=[]);var wt=this._fragmentName;if(this._errorResponseFields.push((at=(mt=this._selector.node.metadata)===null||mt===void 0?void 0:mt.throwOnFieldError)!==null&&at!==void 0&&at?{kind:"missing_expected_data.throw",owner:wt,fieldPath:nt,handled:!1}:{kind:"missing_expected_data.log",owner:wt,fieldPath:nt}),this._isMissingData=!0,this._clientEdgeTraversalPath.length){var $t=this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1];$t!==null&&this._missingClientEdges.push({request:$t.readerClientEdge.operation,clientEdgeDestinationID:$t.clientEdgeDestinationID})}}},a._traverse=function(nt,at,mt){var wt=this._recordSource.get(at);if(this._seenRecords.add(at),wt==null)return wt===void 0&&this._markDataAsMissing("<record>"),wt;var $t=mt||{},Ct=this._traverseSelections(nt.selections,wt,$t);return Ct?$t:null},a._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$d(!1),this._variables[nt]},a._maybeReportUnexpectedNull=function(nt){if(nt.action!=="NONE"){var at=this._fragmentName;this._errorResponseFields==null&&(this._errorResponseFields=[]);var mt;if(nt.field.linkedField!=null){var wt;mt=(wt=nt.field.linkedField.alias)!==null&&wt!==void 0?wt:nt.field.linkedField.name}else{var $t;mt=($t=nt.field.alias)!==null&&$t!==void 0?$t:nt.field.name}switch(nt.action){case"THROW":this._errorResponseFields.push({kind:"missing_required_field.throw",fieldPath:mt,owner:at,handled:!1});return;case"LOG":this._errorResponseFields.push({kind:"missing_required_field.log",fieldPath:mt,owner:at});return;default:nt.action}}},a._handleRequiredFieldValue=function(nt,at){return at==null?(this._maybeReportUnexpectedNull(nt),!1):!0},a._catchErrors=function(nt,at,mt){var wt=nt;switch(at){case"RESULT":wt=this._asResult(nt);break;case"NULL":this._errorResponseFields!=null&&this._errorResponseFields.length>0&&(wt=null);break}var $t=this._errorResponseFields;if(this._errorResponseFields=mt,$t!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);for(var Ct=0;Ct<$t.length;Ct++)this._errorResponseFields.push(markFieldErrorHasHandled($t[Ct]))}return wt},a._asResult=function(nt){if(this._errorResponseFields==null||this._errorResponseFields.length===0)return{ok:!0,value:nt};var at=this._errorResponseFields.map(function(mt){switch(mt.kind){case"relay_field_payload.error":var wt=mt.error;wt.message;var $t=(0,_objectWithoutPropertiesLoose2.default)(wt,_excluded);return $t;case"missing_expected_data.throw":case"missing_expected_data.log":return{path:mt.fieldPath.split(".")};case"relay_resolver.error":return{message:"Relay: Error in resolver for field at ".concat(mt.fieldPath," in ").concat(mt.owner)};case"missing_required_field.throw":return{message:"Relay: Missing @required value at path '".concat(mt.fieldPath,"' in '").concat(mt.owner,"'.")};case"missing_required_field.log":return null;default:mt.kind,invariant$d(!1)}}).filter(Boolean);return{ok:!1,errors:at}},a._traverseSelections=function(nt,at,mt){for(var wt=0;wt<nt.length;wt++){var $t=nt[wt];switch($t.kind){case"RequiredField":var Ct=this._readClientSideDirectiveField($t,at,mt);if(!this._handleRequiredFieldValue($t,Ct))return!1;break;case"CatchField":{var Dt,Ft,jt,Nt=this._errorResponseFields;this._errorResponseFields=null;var Lt=this._readClientSideDirectiveField($t,at,mt),Ut=(Dt=(Ft=$t.field)===null||Ft===void 0?void 0:Ft.backingField)!==null&&Dt!==void 0?Dt:$t.field,Vt=(jt=Ut==null?void 0:Ut.alias)!==null&&jt!==void 0?jt:Ut==null?void 0:Ut.name;Vt==null&&invariant$d(!1),mt[Vt]=this._catchErrors(Lt,$t.to,Nt);break}case"ScalarField":this._readScalar($t,at,mt);break;case"LinkedField":$t.plural?this._readPluralLink($t,at,mt):this._readLink($t,at,mt);break;case"Condition":var Yt=!!this._getVariableValue($t.condition);if(Yt===$t.passingValue){var er=this._traverseSelections($t.selections,at,mt);if(!er)return!1}break;case"InlineFragment":{var tr=this._readInlineFragment($t,at,mt,!1);if(tr===!1)return!1;break}case"RelayLiveResolver":case"RelayResolver":{this._useExecTimeResolvers?this._readScalar($t,at,mt):this._readResolverField($t,at,mt);break}case"FragmentSpread":this._createFragmentPointer($t,at,mt);break;case"AliasedInlineFragmentSpread":{this._readAliasedInlineFragment($t,at,mt);break}case"ModuleImport":this._readModuleImport($t,at,mt);break;case"InlineDataFragmentSpread":this._createInlineDataOrResolverFragmentPointer($t,at,mt);break;case"Defer":case"ClientExtension":{var nr=this._isMissingData,sr=this._missingClientEdges.length;this._clientEdgeTraversalPath.push(null);var dr=this._traverseSelections($t.selections,at,mt);if(this._isMissingData=nr||this._missingClientEdges.length>sr||this._missingLiveResolverFields.length>0,this._clientEdgeTraversalPath.pop(),!dr)return!1;break}case"Stream":{var br=this._traverseSelections($t.selections,at,mt);if(!br)return!1;break}case"ActorChange":this._readActorChange($t,at,mt);break;case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":if(this._useExecTimeResolvers&&($t.backingField.kind==="RelayResolver"||$t.backingField.kind==="RelayLiveResolver")){var vr=$t.linkedField;vr.plural?this._readPluralLink(vr,at,mt):this._readLink(vr,at,mt)}else this._readClientEdge($t,at,mt);break;default:invariant$d(!1)}}return!0},a._readClientSideDirectiveField=function(nt,at,mt){switch(nt.field.kind){case"ScalarField":return this._readScalar(nt.field,at,mt);case"LinkedField":return nt.field.plural?this._readPluralLink(nt.field,at,mt):this._readLink(nt.field,at,mt);case"RelayResolver":return this._readResolverField(nt.field,at,mt);case"RelayLiveResolver":return this._readResolverField(nt.field,at,mt);case"ClientEdgeToClientObject":case"ClientEdgeToServerObject":return this._readClientEdge(nt.field,at,mt);case"AliasedInlineFragmentSpread":return this._readAliasedInlineFragment(nt.field,at,mt);default:nt.field.kind,invariant$d(!1)}},a._readResolverField=function(nt,at,mt){var wt,$t=RelayModernRecord$7.getDataID(at),Ct=this._errorResponseFields;this._errorResponseFields=null;var Dt=this._readResolverFieldImpl(nt,$t),Ft=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name;return this._prependPreviousErrors(Ct,Ft),mt[Ft]=Dt,Dt},a._readResolverFieldImpl=function(nt,at){var mt=this,wt=nt.fragment,$t,Ct=function(tr){return $t!=null?{data:$t.data,isMissingData:$t.isMissingData,errorResponseFields:$t.errorResponseFields}:($t=read(mt._recordSource,tr,mt._resolverCache),{data:$t.data,isMissingData:$t.isMissingData,errorResponseFields:$t.errorResponseFields})},Dt=function(){if(wt!=null){var tr={__id:at,__fragmentOwner:mt._owner,__fragments:(0,_defineProperty2$2.default)({},wt.name,wt.args?getArgumentValues$1(wt.args,mt._variables):{})},nr={getDataForResolverFragment:Ct};return withResolverContext(nr,function(){var vr=getResolverValue(nt,mt._variables,tr,mt._resolverContext),yr=vr[0],$r=vr[1];return{resolverResult:yr,snapshot:$t,error:$r}})}else{var sr=getResolverValue(nt,mt._variables,null,mt._resolverContext),dr=sr[0],br=sr[1];return{resolverResult:dr,snapshot:void 0,error:br}}},Ft=this._resolverCache.readFromCacheOrEvaluate(at,nt,this._variables,Dt,Ct),jt=Ft[0],Nt=Ft[1],Lt=Ft[2],Ut=Ft[3],Vt=Ft[4],Yt=Ft[5];return this._propagateResolverMetadata(nt.path,Ut,Lt,Nt,Vt,Yt),jt},a._propagateResolverMetadata=function(nt,at,mt,wt,$t,Ct){if(at!=null){if(at.missingClientEdges!=null){var Dt=(0,_createForOfIteratorHelper2$5.default)(at.missingClientEdges),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var jt=Ft.value;this._missingClientEdges.push(jt)}}catch($r){Dt.e($r)}finally{Dt.f()}}if(at.missingLiveResolverFields!=null){this._isMissingData=this._isMissingData||at.missingLiveResolverFields.length>0;var Nt=(0,_createForOfIteratorHelper2$5.default)(at.missingLiveResolverFields),Lt;try{for(Nt.s();!(Lt=Nt.n()).done;){var Ut=Lt.value;this._missingLiveResolverFields.push(Ut)}}catch($r){Nt.e($r)}finally{Nt.f()}}if(at.errorResponseFields!=null){this._errorResponseFields==null&&(this._errorResponseFields=[]);var Vt=(0,_createForOfIteratorHelper2$5.default)(at.errorResponseFields),Yt;try{for(Vt.s();!(Yt=Vt.n()).done;){var er,tr=Yt.value;((er=this._selector.node.metadata)===null||er===void 0?void 0:er.throwOnFieldError)===!0?this._errorResponseFields.push(tr):this._errorResponseFields.push(markFieldErrorHasHandled(tr))}}catch($r){Vt.e($r)}finally{Vt.f()}}this._isMissingData=this._isMissingData||at.isMissingData}if(mt){var nr,sr,dr={kind:"relay_resolver.error",fieldPath:nt,owner:this._fragmentName,error:mt,shouldThrow:(nr=(sr=this._selector.node.metadata)===null||sr===void 0?void 0:sr.throwOnFieldError)!==null&&nr!==void 0?nr:!1,handled:!1};this._errorResponseFields==null?this._errorResponseFields=[dr]:this._errorResponseFields.push(dr)}if(wt!=null&&this._seenRecords.add(wt),$t!=null&&(this._isMissingData=!0,this._missingLiveResolverFields.push($t)),Ct!=null){var br=(0,_createForOfIteratorHelper2$5.default)(Ct),vr;try{for(br.s();!(vr=br.n()).done;){var yr=vr.value;this._updatedDataIDs.add(yr)}}catch($r){br.e($r)}finally{br.f()}}},a._readClientEdge=function(nt,at,mt){var wt=this,$t,Ct=nt.backingField;Ct.kind==="ClientExtension"&&invariant$d(!1);var Dt=($t=Ct.alias)!==null&&$t!==void 0?$t:Ct.name,Ft={};this._traverseSelections([Ct],at,Ft);var jt=Ft[Dt];if(jt==null||isSuspenseSentinel$2(jt))return mt[Dt]=jt,jt;if(nt.linkedField.plural){Array.isArray(jt)||invariant$d(!1);var Nt;nt.kind!=="ClientEdgeToClientObject"&&invariant$d(!1),nt.backingField.normalizationInfo==null?Nt=jt.map(function($r){var Sr,wr=(Sr=nt.concreteType)!==null&&Sr!==void 0?Sr:$r.__typename;typeof wr!="string"&&invariant$d(!1);var fr=extractIdFromResponse($r,Ct.path,wt._owner.identifier),_r=wt._resolverCache.ensureClientRecord(fr,wr),ir=nt.modelResolvers;if(ir!=null){var rr=ir[wr];rr===void 0&&invariant$d(!1);var or=wt._readResolverFieldImpl(rr,_r);return or!=null?_r:null}return _r}):Nt=jt.map(function($r){return extractIdFromResponse($r,Ct.path,wt._owner.identifier)}),this._clientEdgeTraversalPath.push(null);var Lt=this._readLinkedIds(nt.linkedField,Nt,at,mt);return this._clientEdgeTraversalPath.pop(),mt[Dt]=Lt,Lt}else{var Ut,Vt=extractIdFromResponse(jt,Ct.path,this._owner.identifier),Yt,er=(Ut=nt.concreteType)!==null&&Ut!==void 0?Ut:jt.__typename,tr;nt.kind==="ClientEdgeToClientObject"?nt.backingField.normalizationInfo==null?(typeof er!="string"&&invariant$d(!1),Yt=this._resolverCache.ensureClientRecord(Vt,er),tr=null):(Yt=Vt,tr=null):(Yt=Vt,tr={readerClientEdge:nt,clientEdgeDestinationID:Vt});var nr=nt.modelResolvers;if(nr!=null){typeof er!="string"&&invariant$d(!1);var sr=nr[er];sr===void 0&&invariant$d(!1);var dr=this._readResolverFieldImpl(sr,Yt);if(dr==null)return mt[Dt]=null,null}this._clientEdgeTraversalPath.push(tr);var br=mt[Dt];br==null||typeof br=="object"||invariant$d(!1);var vr=this._errorResponseFields;this._errorResponseFields=null;var yr=this._traverse(nt.linkedField,Yt,br);return this._prependPreviousErrors(vr,Dt),this._clientEdgeTraversalPath.pop(),mt[Dt]=yr,yr}},a._readScalar=function(nt,at,mt){var wt,$t=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name,Ct=getStorageKey$3(nt,this._variables),Dt=RelayModernRecord$7.getValue(at,Ct);return Dt===null?this._maybeAddErrorResponseFields(at,Ct):Dt===void 0&&this._markDataAsMissing($t),mt[$t]=Dt,Dt},a._readLink=function(nt,at,mt){var wt,$t=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name,Ct=getStorageKey$3(nt,this._variables),Dt=RelayModernRecord$7.getLinkedRecordID(at,Ct);if(Dt==null)return mt[$t]=Dt,Dt===null?this._maybeAddErrorResponseFields(at,Ct):Dt===void 0&&this._markDataAsMissing($t),Dt;var Ft=mt[$t];Ft==null||typeof Ft=="object"||invariant$d(!1);var jt=this._errorResponseFields;this._errorResponseFields=null;var Nt=this._traverse(nt,Dt,Ft);return this._prependPreviousErrors(jt,$t),mt[$t]=Nt,Nt},a._prependPreviousErrors=function(nt,at){if(this._errorResponseFields!=null){for(var mt=0;mt<this._errorResponseFields.length;mt++){var wt=this._errorResponseFields[mt];wt.owner===this._fragmentName&&(wt.kind==="missing_expected_data.throw"||wt.kind==="missing_expected_data.log"||wt.kind==="missing_required_field.throw"||wt.kind==="missing_required_field.log")&&(wt.fieldPath="".concat(at,".").concat(wt.fieldPath))}if(nt!=null){for(var $t=this._errorResponseFields.length-1;$t>=0;$t--)nt.push(this._errorResponseFields[$t]);this._errorResponseFields=nt}}else this._errorResponseFields=nt},a._readActorChange=function(nt,at,mt){var wt,$t=(wt=nt.alias)!==null&&wt!==void 0?wt:nt.name,Ct=getStorageKey$3(nt,this._variables),Dt=RelayModernRecord$7.getActorLinkedRecordID(at,Ct);if(Dt==null)return mt[$t]=Dt,Dt===void 0?this._markDataAsMissing($t):Dt===null&&this._maybeAddErrorResponseFields(at,Ct),mt[$t];var Ft=Dt[0],jt=Dt[1],Nt={};return this._createFragmentPointer(nt.fragmentSpread,RelayModernRecord$7.fromObject({__id:jt}),Nt),mt[$t]={__fragmentRef:Nt,__viewer:Ft},mt[$t]},a._readPluralLink=function(nt,at,mt){var wt=getStorageKey$3(nt,this._variables),$t=RelayModernRecord$7.getLinkedRecordIDs(at,wt);return $t===null&&this._maybeAddErrorResponseFields(at,wt),this._readLinkedIds(nt,$t,at,mt)},a._readLinkedIds=function(nt,at,mt,wt){var $t=this,Ct,Dt=(Ct=nt.alias)!==null&&Ct!==void 0?Ct:nt.name;if(at==null)return wt[Dt]=at,at===void 0&&this._markDataAsMissing(Dt),at;var Ft=wt[Dt];Ft==null||Array.isArray(Ft)||invariant$d(!1);var jt=this._errorResponseFields;this._errorResponseFields=null;var Nt=Ft||[];return at.forEach(function(Lt,Ut){if(Lt==null){Lt===void 0&&$t._markDataAsMissing(String(Ut)),Nt[Ut]=Lt;return}var Vt=Nt[Ut];Vt==null||typeof Vt=="object"||invariant$d(!1);var Yt=$t._errorResponseFields;$t._errorResponseFields=null,Nt[Ut]=$t._traverse(nt,Lt,Vt),$t._prependPreviousErrors(Yt,Ut)}),this._prependPreviousErrors(jt,Dt),wt[Dt]=Nt,Nt},a._readModuleImport=function(nt,at,mt){var wt,$t=getModuleComponentKey$1(nt.documentName),Ct=(wt=nt.componentModuleProvider)!==null&&wt!==void 0?wt:RelayModernRecord$7.getValue(at,$t);if(Ct==null){Ct===void 0&&this._markDataAsMissing("<module-import>");return}this._createFragmentPointer({kind:"FragmentSpread",name:nt.fragmentName,args:nt.args},at,mt),mt[FRAGMENT_PROP_NAME_KEY]=nt.fragmentPropName,mt[MODULE_COMPONENT_KEY]=Ct},a._readAliasedInlineFragment=function(nt,at,mt){var wt=this._errorResponseFields;this._errorResponseFields=null;var $t=this._readInlineFragment(nt.fragment,at,{},!0);this._prependPreviousErrors(wt,nt.name),$t===!1&&($t=null),mt[nt.name]=$t},a._readInlineFragment=function(nt,at,mt,wt){if(nt.type==null){var $t=this._traverseSelections(nt.selections,at,mt);return $t===!1?!1:mt}var Ct=nt.abstractKey;if(Ct==null)if(this._recordMatchesTypeCondition(at,nt.type)){var $t=this._traverseSelections(nt.selections,at,mt);if(!$t)return!1}else return null;else{var Dt=this._implementsInterface(at,Ct);if(Dt===!1&&wt)return null;var Ft=this._isMissingData,jt=this._isWithinUnmatchedTypeRefinement;this._isWithinUnmatchedTypeRefinement=jt||Dt===!1;var Nt=this._traverseSelections(nt.selections,at,mt);if(this._isWithinUnmatchedTypeRefinement=jt,Dt===!1)return this._isMissingData=Ft,null;if(Dt==null)return;if(Nt===!1)return!1}return mt},a._recordMatchesTypeCondition=function(nt,at){var mt=RelayModernRecord$7.getType(nt);return mt!=null&&mt===at||RelayModernRecord$7.getDataID(nt)===ROOT_ID$2},a._createFragmentPointer=function(nt,at,mt){var wt=mt[FRAGMENTS_KEY];wt==null&&(wt=mt[FRAGMENTS_KEY]={}),typeof wt=="object"&&wt!=null||invariant$d(!1),mt[ID_KEY]==null&&(mt[ID_KEY]=RelayModernRecord$7.getDataID(at)),wt[nt.name]=getArgumentValues$1(nt.args,this._variables,this._isWithinUnmatchedTypeRefinement),mt[FRAGMENT_OWNER_KEY]=this._owner,this._clientEdgeTraversalPath.length>0&&this._clientEdgeTraversalPath[this._clientEdgeTraversalPath.length-1]!==null&&(mt[CLIENT_EDGE_TRAVERSAL_PATH]=(0,_toConsumableArray2.default)(this._clientEdgeTraversalPath))},a._createInlineDataOrResolverFragmentPointer=function(nt,at,mt){var wt=mt[FRAGMENTS_KEY];wt==null&&(wt=mt[FRAGMENTS_KEY]={}),typeof wt=="object"&&wt!=null||invariant$d(!1),mt[ID_KEY]==null&&(mt[ID_KEY]=RelayModernRecord$7.getDataID(at));var $t={},Ct=this._fragmentName;this._fragmentName=nt.name;var Dt=this._variables,Ft=nt.args?getArgumentValues$1(nt.args,this._variables):{};this._variables=RelayConcreteVariables$1.getFragmentVariables(nt,this._owner.variables,Ft),this._traverseSelections(nt.selections,at,$t),this._variables=Dt,this._fragmentName=Ct,wt[nt.name]=$t},a._implementsInterface=function(nt,at){var mt=RelayModernRecord$7.getType(nt),wt=this._recordSource.get(generateTypeID$2(mt)),$t=wt!=null?RelayModernRecord$7.getValue(wt,at):null;return $t==null&&this._markDataAsMissing("<abstract-type-hint>"),$t},s}();function markFieldErrorHasHandled(s){switch(s.kind){case"missing_expected_data.throw":case"missing_required_field.throw":case"relay_field_payload.error":case"relay_resolver.error":return(0,_objectSpread2$3.default)((0,_objectSpread2$3.default)({},s),{},{handled:!0});case"missing_expected_data.log":case"missing_required_field.log":return s;default:s.kind,invariant$d(!1)}}function getResolverValue(s,a,et,nt){var at=typeof s.resolverModule=="function"?s.resolverModule:s.resolverModule.default,mt=null,wt=null;try{var $t=[];s.fragment!=null&&$t.push(et);var Ct=s.args?getArgumentValues$1(s.args,a):void 0;$t.push(Ct),$t.push(nt),mt=at.apply(null,$t)}catch(Dt){mt=null,Dt!==RESOLVER_FRAGMENT_ERRORED_SENTINEL&&(wt=Dt)}return[mt,wt]}function extractIdFromResponse(s,a,et){if(typeof s=="string")return s;if(typeof s=="object"&&s!=null&&typeof s.id=="string")return s.id;invariant$d(!1)}var RelayReader_1={read},_global$ErrorUtils$ap,_global$ErrorUtils,RelayRecordSourceMutator$1=RelayRecordSourceMutator_1,RelayRecordSourceProxy$1=RelayRecordSourceProxy_1,RelayRecordSourceSelectorProxy=RelayRecordSourceSelectorProxy_1,RelayReader$2=RelayReader_1,RelayRecordSource$4=RelayRecordSource_1,invariant$c=browser$1,_global=typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof window<"u"?window:void 0,applyWithGuard=(_global$ErrorUtils$ap=_global==null||(_global$ErrorUtils=_global.ErrorUtils)===null||_global$ErrorUtils===void 0?void 0:_global$ErrorUtils.applyWithGuard)!==null&&_global$ErrorUtils$ap!==void 0?_global$ErrorUtils$ap:function(s,a,et,nt,at){return s.apply(a,et)},RelayPublishQueue$1=function(){function s(et,nt,at,mt){this._hasStoreSnapshot=!1,this._handlerProvider=nt||null,this._pendingBackupRebase=!1,this._pendingData=new Set,this._pendingOptimisticUpdates=new Set,this._store=et,this._appliedOptimisticUpdates=new Set,this._gcHold=null,this._getDataID=at,this._missingFieldHandlers=mt}var a=s.prototype;return a.applyUpdate=function(nt){!this._appliedOptimisticUpdates.has(nt)&&!this._pendingOptimisticUpdates.has(nt)||invariant$c(!1),this._pendingOptimisticUpdates.add(nt)},a.revertUpdate=function(nt){this._pendingOptimisticUpdates.has(nt)?this._pendingOptimisticUpdates.delete(nt):this._appliedOptimisticUpdates.has(nt)&&(this._pendingBackupRebase=!0,this._appliedOptimisticUpdates.delete(nt))},a.revertAll=function(){this._pendingBackupRebase=!0,this._pendingOptimisticUpdates.clear(),this._appliedOptimisticUpdates.clear()},a.commitPayload=function(nt,at,mt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"payload",operation:nt,payload:at,updater:mt})},a.commitUpdate=function(nt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"updater",updater:nt})},a.commitSource=function(nt){this._pendingBackupRebase=!0,this._pendingData.add({kind:"source",source:nt})},a.run=function(nt){var at=this._appliedOptimisticUpdates===0&&!!this._gcHold,mt=!this._pendingBackupRebase&&this._pendingOptimisticUpdates.size===0&&!at;if(mt)return[];this._pendingBackupRebase&&this._hasStoreSnapshot&&(this._store.restore(),this._hasStoreSnapshot=!1);var wt=this._commitData();return(this._pendingOptimisticUpdates.size||this._pendingBackupRebase&&this._appliedOptimisticUpdates.size)&&(this._hasStoreSnapshot||(this._store.snapshot(),this._hasStoreSnapshot=!0),this._applyUpdates()),this._pendingBackupRebase=!1,this._appliedOptimisticUpdates.size>0?this._gcHold||(this._gcHold=this._store.holdGC()):this._gcHold&&(this._gcHold.dispose(),this._gcHold=null),this._store.notify(nt,wt)},a._publishSourceFromPayload=function(nt){var at=this,mt=nt.payload,wt=nt.operation,$t=nt.updater,Ct=mt.source,Dt=mt.fieldPayloads,Ft=new RelayRecordSourceMutator$1(this._store.getSource(),Ct),jt=new RelayRecordSourceProxy$1(Ft,this._getDataID,this._handlerProvider,this._missingFieldHandlers);if(Dt&&Dt.length&&Dt.forEach(function(Yt){var er=at._handlerProvider&&at._handlerProvider(Yt.handle);er||invariant$c(!1),er.update(jt,Yt)}),$t){var Nt=wt.fragment;Nt==null&&invariant$c(!1);var Lt=new RelayRecordSourceSelectorProxy(Ft,jt,Nt,this._missingFieldHandlers),Ut=lookupSelector(Ct,Nt);$t(Lt,Ut)}var Vt=jt.getIDsMarkedForInvalidation();return this._store.publish(Ct,Vt),jt.isStoreMarkedForInvalidation()},a._commitData=function(){var nt=this;if(!this._pendingData.size)return!1;var at=!1;return this._pendingData.forEach(function(mt){if(mt.kind==="payload"){var wt=nt._publishSourceFromPayload(mt);at=at||wt}else if(mt.kind==="source"){var $t=mt.source;nt._store.publish($t)}else{var Ct=mt.updater,Dt=RelayRecordSource$4.create(),Ft=new RelayRecordSourceMutator$1(nt._store.getSource(),Dt),jt=new RelayRecordSourceProxy$1(Ft,nt._getDataID,nt._handlerProvider,nt._missingFieldHandlers);applyWithGuard(Ct,null,[jt],null,"RelayPublishQueue:commitData"),at=at||jt.isStoreMarkedForInvalidation();var Nt=jt.getIDsMarkedForInvalidation();nt._store.publish(Dt,Nt)}}),this._pendingData.clear(),at},a._applyUpdates=function(){var nt=this,at=RelayRecordSource$4.create(),mt=new RelayRecordSourceMutator$1(this._store.getSource(),at),wt=new RelayRecordSourceProxy$1(mt,this._getDataID,this._handlerProvider,this._missingFieldHandlers),$t=function(Dt){if(Dt.storeUpdater){var Ft=Dt.storeUpdater;applyWithGuard(Ft,null,[wt],null,"RelayPublishQueue:applyUpdates")}else{var jt=Dt.operation,Nt=Dt.payload,Lt=Dt.updater,Ut=Nt.source,Vt=Nt.fieldPayloads;if(Ut&&wt.publishSource(Ut,Vt),Lt){var Yt;Ut&&(Yt=lookupSelector(Ut,jt.fragment));var er=new RelayRecordSourceSelectorProxy(mt,wt,jt.fragment,nt._missingFieldHandlers);applyWithGuard(Lt,null,[er,Yt],null,"RelayPublishQueue:applyUpdates")}}};this._pendingBackupRebase&&this._appliedOptimisticUpdates.size&&this._appliedOptimisticUpdates.forEach($t),this._pendingOptimisticUpdates.size&&(this._pendingOptimisticUpdates.forEach(function(Ct){$t(Ct),nt._appliedOptimisticUpdates.add(Ct)}),this._pendingOptimisticUpdates.clear()),this._store.publish(at)},s}();function lookupSelector(s,a){var et=RelayReader$2.read(s,a).data;return et}var RelayPublishQueue_1=RelayPublishQueue$1,_interopRequireDefault$8=interopRequireDefaultExports.default,_objectSpread2$2=_interopRequireDefault$8(objectSpread2Exports),RelayDefaultHandlerProvider$1=RelayDefaultHandlerProvider_1,_require$c=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1=_require$c.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier$1=_require$c.assertInternalActorIdentifier,RelayObservable$1=RelayObservable_1,wrapNetworkWithLogObserver=wrapNetworkWithLogObserver_1,RelayOperationTracker$1=RelayOperationTracker_1,registerEnvironmentWithDevTools=registerEnvironmentWithDevTools_1,defaultGetDataID$1=defaultGetDataID_1,defaultRelayFieldLogger=defaultRelayFieldLogger_1,normalizeResponse$1=normalizeResponse_1,OperationExecutor=OperationExecutor$1,RelayPublishQueue=RelayPublishQueue_1,RelayRecordSource$3=RelayRecordSource_1,RelayModernEnvironment$1=function(){function s(et){var nt=this,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt;this.configName=et.configName,this._treatMissingFieldsAsNull=et.treatMissingFieldsAsNull===!0;var Ut=et.operationLoader;this.__log=(at=et.log)!==null&&at!==void 0?at:emptyFunction,this.relayFieldLogger=(mt=et.relayFieldLogger)!==null&&mt!==void 0?mt:defaultRelayFieldLogger,this._defaultRenderPolicy=(wt=et.UNSTABLE_defaultRenderPolicy)!==null&&wt!==void 0?wt:"partial",this._operationLoader=Ut,this._operationExecutions=new Map,this._network=wrapNetworkWithLogObserver(this,et.network),this._getDataID=($t=et.getDataID)!==null&&$t!==void 0?$t:defaultGetDataID$1,this._missingFieldHandlers=(Ct=et.missingFieldHandlers)!==null&&Ct!==void 0?Ct:[],this._publishQueue=new RelayPublishQueue(et.store,(Dt=et.handlerProvider)!==null&&Dt!==void 0?Dt:RelayDefaultHandlerProvider$1,this._getDataID,this._missingFieldHandlers),this._scheduler=(Ft=et.scheduler)!==null&&Ft!==void 0?Ft:null,this._store=et.store,this.options=et.options,this._isServer=(jt=et.isServer)!==null&&jt!==void 0?jt:!1,this._normalizeResponse=(Nt=et.normalizeResponse)!==null&&Nt!==void 0?Nt:normalizeResponse$1,this.__setNet=function(Vt){return nt._network=wrapNetworkWithLogObserver(nt,Vt)},this._operationTracker=(Lt=et.operationTracker)!==null&&Lt!==void 0?Lt:new RelayOperationTracker$1,this._shouldProcessClientComponents=et.shouldProcessClientComponents,registerEnvironmentWithDevTools(this)}var a=s.prototype;return a.getStore=function(){return this._store},a.getNetwork=function(){return this._network},a.getOperationTracker=function(){return this._operationTracker},a.getScheduler=function(){return this._scheduler},a.isRequestActive=function(nt){var at=this._operationExecutions.get(nt);return at==="active"},a.UNSTABLE_getDefaultRenderPolicy=function(){return this._defaultRenderPolicy},a.applyUpdate=function(nt){var at=this,mt=function(){at._scheduleUpdates(function(){at._publishQueue.revertUpdate(nt),at._publishQueue.run()})};return this._scheduleUpdates(function(){at._publishQueue.applyUpdate(nt),at._publishQueue.run()}),{dispose:mt}},a.revertUpdate=function(nt){var at=this;this._scheduleUpdates(function(){at._publishQueue.revertUpdate(nt),at._publishQueue.run()})},a.replaceUpdate=function(nt,at){var mt=this;this._scheduleUpdates(function(){mt._publishQueue.revertUpdate(nt),mt._publishQueue.applyUpdate(at),mt._publishQueue.run()})},a.applyMutation=function(nt){var at=this._execute({createSource:function(){return RelayObservable$1.create(function(wt){})},isClientPayload:!1,operation:nt.operation,optimisticConfig:nt,updater:null}).subscribe({});return{dispose:function(){return at.unsubscribe()}}},a.check=function(nt){return this._missingFieldHandlers.length===0&&!operationHasClientAbstractTypes(nt)?this._store.check(nt):this._checkSelectorAndHandleMissingFields(nt,this._missingFieldHandlers)},a.commitPayload=function(nt,at){this._execute({createSource:function(){return RelayObservable$1.from({data:at})},isClientPayload:!0,operation:nt,optimisticConfig:null,updater:null}).subscribe({})},a.commitUpdate=function(nt){var at=this;this._scheduleUpdates(function(){at._publishQueue.commitUpdate(nt),at._publishQueue.run()})},a.lookup=function(nt){return this._store.lookup(nt)},a.subscribe=function(nt,at){return this._store.subscribe(nt,at)},a.retain=function(nt){return this._store.retain(nt)},a.isServer=function(){return this._isServer},a._checkSelectorAndHandleMissingFields=function(nt,at){var mt=this,wt=RelayRecordSource$3.create(),$t=this._store.getSource(),Ct=this._store.check(nt,{handlers:at,defaultActorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getSourceForActor:function(Ft){return assertInternalActorIdentifier$1(Ft),$t},getTargetForActor:function(Ft){return assertInternalActorIdentifier$1(Ft),wt}});return wt.size()>0&&this._scheduleUpdates(function(){mt._publishQueue.commitSource(wt),mt._publishQueue.run()}),Ct},a._scheduleUpdates=function(nt){var at=this._scheduler;at!=null?at.schedule(nt):nt()},a.execute=function(nt){var at=this,mt=nt.operation;return this._execute({createSource:function(){return at.getNetwork().execute(mt.request.node.params,mt.request.variables,mt.request.cacheConfig||{},null)},isClientPayload:!1,operation:mt,optimisticConfig:null,updater:null})},a.executeSubscription=function(nt){var at=this,mt=nt.operation,wt=nt.updater;return this._execute({createSource:function(){return at.getNetwork().execute(mt.request.node.params,mt.request.variables,mt.request.cacheConfig||{},null)},isClientPayload:!1,operation:mt,optimisticConfig:null,updater:wt})},a.executeMutation=function(nt){var at=this,mt=nt.operation,wt=nt.optimisticResponse,$t=nt.optimisticUpdater,Ct=nt.updater,Dt=nt.uploadables,Ft;return(wt||$t)&&(Ft={operation:mt,response:wt,updater:$t}),this._execute({createSource:function(){return at.getNetwork().execute(mt.request.node.params,mt.request.variables,(0,_objectSpread2$2.default)((0,_objectSpread2$2.default)({},mt.request.cacheConfig),{},{force:!0}),Dt)},isClientPayload:!1,operation:mt,optimisticConfig:Ft,updater:Ct})},a.executeWithSource=function(nt){var at=nt.operation,mt=nt.source;return this._execute({createSource:function(){return mt},isClientPayload:!1,operation:at,optimisticConfig:null,updater:null})},a.toJSON=function(){var nt;return"RelayModernEnvironment(".concat((nt=this.configName)!==null&&nt!==void 0?nt:"",")")},a._execute=function(nt){var at=this,mt=nt.createSource,wt=nt.isClientPayload,$t=nt.operation,Ct=nt.optimisticConfig,Dt=nt.updater,Ft=this._publishQueue,jt=this._store;return RelayObservable$1.create(function(Nt){var Lt=OperationExecutor.execute({actorIdentifier:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE$1,getDataID:at._getDataID,isClientPayload:wt,log:at.__log,operation:$t,operationExecutions:at._operationExecutions,operationLoader:at._operationLoader,operationTracker:at._operationTracker,optimisticConfig:Ct,getPublishQueue:function(Vt){return assertInternalActorIdentifier$1(Vt),Ft},scheduler:at._scheduler,shouldProcessClientComponents:at._shouldProcessClientComponents,sink:Nt,source:mt(),getStore:function(Vt){return assertInternalActorIdentifier$1(Vt),jt},treatMissingFieldsAsNull:at._treatMissingFieldsAsNull,updater:Dt,normalizeResponse:at._normalizeResponse});return function(){return Lt.cancel()}})},s}();function operationHasClientAbstractTypes(s){return s.root.node.kind==="Operation"&&s.root.node.clientAbstractTypes!=null}RelayModernEnvironment$1.prototype["@@RelayModernEnvironment"]=!0;function emptyFunction(){}var RelayModernEnvironment_1=RelayModernEnvironment$1,resolvedPromise=Promise.resolve();function resolveImmediate$1(s){resolvedPromise.then(s).catch(throwNext)}function throwNext(s){setTimeout(function(){throw s},0)}var resolveImmediate_1=resolveImmediate$1,_require$b=RelayConcreteNode_1,LINKED_FIELD=_require$b.LINKED_FIELD,_require2$9=RelayStoreUtils_1,getHandleStorageKey$1=_require2$9.getHandleStorageKey,areEqual$1=areEqual_1,invariant$b=browser$1;function cloneRelayHandleSourceField$2(s,a,et){var nt=a.find(function(mt){return mt.kind===LINKED_FIELD&&mt.name===s.name&&mt.alias===s.alias&&areEqual$1(mt.args,s.args)});nt&&nt.kind===LINKED_FIELD||invariant$b(!1);var at=getHandleStorageKey$1(s,et);return{kind:"LinkedField",alias:nt.alias,name:at,storageKey:at,args:null,concreteType:nt.concreteType,plural:nt.plural,selections:nt.selections}}var cloneRelayHandleSourceField_1=cloneRelayHandleSourceField$2,_require$a=RelayConcreteNode_1,SCALAR_FIELD=_require$a.SCALAR_FIELD,_require2$8=RelayStoreUtils_1,getHandleStorageKey=_require2$8.getHandleStorageKey,areEqual=areEqual_1,invariant$a=browser$1;function cloneRelayScalarHandleSourceField$1(s,a,et){var nt=a.find(function(mt){return mt.kind===SCALAR_FIELD&&mt.name===s.name&&mt.alias===s.alias&&areEqual(mt.args,s.args)});nt&&nt.kind===SCALAR_FIELD||invariant$a(!1);var at=getHandleStorageKey(s,et);return{kind:"ScalarField",alias:nt.alias,name:at,storageKey:at,args:null}}var cloneRelayScalarHandleSourceField_1=cloneRelayScalarHandleSourceField$1,_interopRequireDefault$7=interopRequireDefaultExports.default,_createForOfIteratorHelper2$4=_interopRequireDefault$7(createForOfIteratorHelperExports),RelayRecordSourceMutator=RelayRecordSourceMutator_1,RelayRecordSourceProxy=RelayRecordSourceProxy_1,getOperation$1=getOperation_1,_require$9=ClientID,isClientID$1=_require$9.isClientID,cloneRelayHandleSourceField$1=cloneRelayHandleSourceField_1,cloneRelayScalarHandleSourceField=cloneRelayScalarHandleSourceField_1,_require2$7=RelayConcreteVariables$2,getLocalVariables$1=_require2$7.getLocalVariables,RelayModernRecord$6=RelayModernRecord$d,_require3$5=RelayRecordState_1,EXISTENT=_require3$5.EXISTENT,UNKNOWN=_require3$5.UNKNOWN,RelayStoreUtils$3=RelayStoreUtils_1,_require4$2=TypeID,TYPE_SCHEMA_TYPE=_require4$2.TYPE_SCHEMA_TYPE,generateTypeID$1=_require4$2.generateTypeID,invariant$9=browser$1,getModuleOperationKey$2=RelayStoreUtils$3.getModuleOperationKey,getStorageKey$2=RelayStoreUtils$3.getStorageKey,getArgumentValues=RelayStoreUtils$3.getArgumentValues;function check(s,a,et,nt,at,mt,wt,$t,Ct){Ct!=null&&Ct({name:"store.datachecker.start",selector:nt});var Dt=nt.dataID,Ft=nt.node,jt=nt.variables,Nt=new DataChecker$1(s,a,et,jt,at,mt,wt,$t),Lt=Nt.check(Ft,Dt);return Ct!=null&&Ct({name:"store.datachecker.end",selector:nt}),Lt}var DataChecker$1=function(){function s(et,nt,at,mt,wt,$t,Ct,Dt){this._getSourceForActor=et,this._getTargetForActor=nt,this._getDataID=Ct,this._source=et(at),this._mutatorRecordSourceProxyCache=new Map;var Ft=this._getMutatorAndRecordProxyForActor(at),jt=Ft[0],Nt=Ft[1];this._mostRecentlyInvalidatedAt=null,this._handlers=wt,this._mutator=jt,this._operationLoader=$t??null,this._recordSourceProxy=Nt,this._recordWasMissing=!1,this._variables=mt,this._shouldProcessClientComponents=Dt}var a=s.prototype;return a._getMutatorAndRecordProxyForActor=function(nt){var at=this._mutatorRecordSourceProxyCache.get(nt);if(at==null){var mt=this._getTargetForActor(nt),wt=new RelayRecordSourceMutator(this._getSourceForActor(nt),mt),$t=new RelayRecordSourceProxy(wt,this._getDataID,void 0,this._handlers);at=[wt,$t],this._mutatorRecordSourceProxyCache.set(nt,at)}return at},a.check=function(nt,at){return this._assignClientAbstractTypes(nt),this._traverse(nt,at),this._recordWasMissing===!0?{status:"missing",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}:{status:"available",mostRecentlyInvalidatedAt:this._mostRecentlyInvalidatedAt}},a._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$9(!1),this._variables[nt]},a._handleMissing=function(){this._recordWasMissing=!0},a._handleMissingScalarField=function(nt,at){if(!(nt.name==="id"&&nt.alias==null&&isClientID$1(at))){var mt=nt.args!=null?getArgumentValues(nt.args,this._variables):{},wt=(0,_createForOfIteratorHelper2$4.default)(this._handlers),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value;if(Ct.kind==="scalar"){var Dt=Ct.handle(nt,this._recordSourceProxy.get(at),mt,this._recordSourceProxy);if(Dt!==void 0)return Dt}}}catch(Ft){wt.e(Ft)}finally{wt.f()}this._handleMissing()}},a._handleMissingLinkField=function(nt,at){var mt=nt.args!=null?getArgumentValues(nt.args,this._variables):{},wt=(0,_createForOfIteratorHelper2$4.default)(this._handlers),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value;if(Ct.kind==="linked"){var Dt=Ct.handle(nt,this._recordSourceProxy.get(at),mt,this._recordSourceProxy);if(Dt!==void 0&&(Dt===null||this._mutator.getStatus(Dt)===EXISTENT))return Dt}}}catch(Ft){wt.e(Ft)}finally{wt.f()}this._handleMissing()},a._handleMissingPluralLinkField=function(nt,at){var mt=this,wt=nt.args!=null?getArgumentValues(nt.args,this._variables):{},$t=(0,_createForOfIteratorHelper2$4.default)(this._handlers),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value;if(Dt.kind==="pluralLinked"){var Ft=Dt.handle(nt,this._recordSourceProxy.get(at),wt,this._recordSourceProxy);if(Ft!=null){var jt=Ft.every(function(Nt){return Nt!=null&&mt._mutator.getStatus(Nt)===EXISTENT});if(jt)return Ft}else if(Ft===null)return null}}}catch(Nt){$t.e(Nt)}finally{$t.f()}this._handleMissing()},a._traverse=function(nt,at){var mt=this._mutator.getStatus(at);if(mt===UNKNOWN&&this._handleMissing(),mt===EXISTENT){var wt=this._source.get(at),$t=RelayModernRecord$6.getInvalidationEpoch(wt);$t!=null&&(this._mostRecentlyInvalidatedAt=this._mostRecentlyInvalidatedAt!=null?Math.max(this._mostRecentlyInvalidatedAt,$t):$t),this._traverseSelections(nt.selections,at)}},a._traverseSelections=function(nt,at){var mt=this;nt.forEach(function(wt){switch(wt.kind){case"ScalarField":mt._checkScalar(wt,at);break;case"LinkedField":wt.plural?mt._checkPluralLink(wt,at):mt._checkLink(wt,at);break;case"ActorChange":mt._checkActorChange(wt.linkedField,at);break;case"Condition":var $t=!!mt._getVariableValue(wt.condition);$t===wt.passingValue&&mt._traverseSelections(wt.selections,at);break;case"InlineFragment":{var Ct=wt.abstractKey;if(Ct==null){var Dt=mt._mutator.getType(at);Dt===wt.type&&mt._traverseSelections(wt.selections,at)}else{var Ft=mt._mutator.getType(at);Ft==null&&invariant$9(!1);var jt=generateTypeID$1(Ft),Nt=mt._mutator.getValue(jt,Ct);Nt===!0?mt._traverseSelections(wt.selections,at):Nt==null&&mt._handleMissing()}break}case"LinkedHandle":{var Lt=cloneRelayHandleSourceField$1(wt,nt,mt._variables);Lt.plural?mt._checkPluralLink(Lt,at):mt._checkLink(Lt,at);break}case"ScalarHandle":{var Ut=cloneRelayScalarHandleSourceField(wt,nt,mt._variables);mt._checkScalar(Ut,at);break}case"ModuleImport":mt._checkModuleImport(wt,at);break;case"Defer":case"Stream":mt._traverseSelections(wt.selections,at);break;case"FragmentSpread":var Vt=mt._variables;mt._variables=getLocalVariables$1(mt._variables,wt.fragment.argumentDefinitions,wt.args),mt._traverseSelections(wt.fragment.selections,at),mt._variables=Vt;break;case"ClientExtension":var Yt=mt._recordWasMissing;mt._traverseSelections(wt.selections,at),mt._recordWasMissing=Yt;break;case"TypeDiscriminator":var er=wt.abstractKey,tr=mt._mutator.getType(at);tr==null&&invariant$9(!1);var nr=generateTypeID$1(tr),sr=mt._mutator.getValue(nr,er);sr==null&&mt._handleMissing();break;case"ClientComponent":if(mt._shouldProcessClientComponents===!1)break;mt._traverseSelections(wt.fragment.selections,at);break;case"RelayResolver":mt._checkResolver(wt,at);break;case"RelayLiveResolver":mt._checkResolver(wt,at);break;case"ClientEdgeToClientObject":mt._checkResolver(wt.backingField,at);break;default:invariant$9(!1)}})},a._checkResolver=function(nt,at){nt.fragment&&this._traverseSelections([nt.fragment],at)},a._checkModuleImport=function(nt,at){var mt=this._operationLoader;mt===null&&invariant$9(!1);var wt=getModuleOperationKey$2(nt.documentName),$t=this._mutator.getValue(at,wt);if($t==null){$t===void 0&&this._handleMissing();return}var Ct=mt.get($t);if(Ct!=null){var Dt=getOperation$1(Ct),Ft=this._variables;this._variables=getLocalVariables$1(this._variables,Dt.argumentDefinitions,nt.args),this._traverse(Dt,at),this._variables=Ft}else this._handleMissing()},a._checkScalar=function(nt,at){var mt=getStorageKey$2(nt,this._variables),wt=this._mutator.getValue(at,mt);wt===void 0&&(wt=this._handleMissingScalarField(nt,at),wt!==void 0&&this._mutator.setValue(at,mt,wt))},a._checkLink=function(nt,at){var mt=getStorageKey$2(nt,this._variables),wt=this._mutator.getLinkedRecordID(at,mt);wt===void 0&&(wt=this._handleMissingLinkField(nt,at),wt!=null?this._mutator.setLinkedRecordID(at,mt,wt):wt===null&&this._mutator.setValue(at,mt,null)),wt!=null&&this._traverse(nt,wt)},a._checkPluralLink=function(nt,at){var mt=this,wt=getStorageKey$2(nt,this._variables),$t=this._mutator.getLinkedRecordIDs(at,wt);$t===void 0&&($t=this._handleMissingPluralLinkField(nt,at),$t!=null?this._mutator.setLinkedRecordIDs(at,wt,$t):$t===null&&this._mutator.setValue(at,wt,null)),$t&&$t.forEach(function(Ct){Ct!=null&&mt._traverse(nt,Ct)})},a._checkActorChange=function(nt,at){var mt=getStorageKey$2(nt,this._variables),wt=this._source.get(at),$t=wt!=null?RelayModernRecord$6.getActorLinkedRecordID(wt,mt):wt;if($t==null)$t===void 0&&this._handleMissing();else{var Ct=$t[0],Dt=$t[1],Ft=this._source,jt=this._mutator,Nt=this._recordSourceProxy,Lt=this._getMutatorAndRecordProxyForActor(Ct),Ut=Lt[0],Vt=Lt[1];this._source=this._getSourceForActor(Ct),this._mutator=Ut,this._recordSourceProxy=Vt,this._assignClientAbstractTypes(nt),this._traverse(nt,Dt),this._source=Ft,this._mutator=jt,this._recordSourceProxy=Nt}},a._assignClientAbstractTypes=function(nt){var at=nt.clientAbstractTypes;if(at!=null)for(var mt=0,wt=Object.keys(at);mt<wt.length;mt++){var $t=wt[mt],Ct=(0,_createForOfIteratorHelper2$4.default)(at[$t]),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value,jt=generateTypeID$1(Ft);this._source.get(jt)==null&&this._mutator.create(jt,TYPE_SCHEMA_TYPE),this._mutator.getValue(jt,$t)==null&&this._mutator.setValue(jt,$t,!0)}}catch(Nt){Ct.e(Nt)}finally{Ct.f()}}},s}(),DataChecker_1={check},shallowFreeze$1=function s(a){typeof a=="object"&&a!=null&&(Array.isArray(a)||a.constructor===Object)&&Object.freeze(a)},RelayModernRecord$5=RelayModernRecord$d,_require$8=RelayStoreUtils_1,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1=_require$8.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,invariant$8=browser$1;function getOutputTypeRecordIDs$2(s){var a=RelayModernRecord$5.getValue(s,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS$1);return a==null?null:(a instanceof Set||invariant$8(!1),a)}var getOutputTypeRecordIDs_1=getOutputTypeRecordIDs$2;function isLiveStateValue$1(s){return s!=null&&typeof s=="object"&&typeof s.read=="function"&&typeof s.subscribe=="function"}var isLiveStateValue_1=isLiveStateValue$1,_interopRequireDefault$6=interopRequireDefaultExports.default,_createForOfIteratorHelper2$3=_interopRequireDefault$6(createForOfIteratorHelperExports),recycleNodesInto$2=recycleNodesInto_1,_require$7=RelayConcreteNode_1,RELAY_LIVE_RESOLVER=_require$7.RELAY_LIVE_RESOLVER,RelayFeatureFlags$3=RelayFeatureFlags_1,shallowFreeze=shallowFreeze$1,_require2$6=ClientID,generateClientID$1=_require2$6.generateClientID,generateClientObjectClientID=_require2$6.generateClientObjectClientID,RelayModernRecord$4=RelayModernRecord$d,_require3$4=RelayModernSelector$1,createNormalizationSelector=_require3$4.createNormalizationSelector,RelayRecordSource$2=RelayRecordSource_1,_require4$1=RelayResponseNormalizer_1,normalize$1=_require4$1.normalize,_require5$1=RelayStoreUtils_1,RELAY_RESOLVER_ERROR_KEY=_require5$1.RELAY_RESOLVER_ERROR_KEY,RELAY_RESOLVER_INVALIDATION_KEY=_require5$1.RELAY_RESOLVER_INVALIDATION_KEY,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS=_require5$1.RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,RELAY_RESOLVER_SNAPSHOT_KEY=_require5$1.RELAY_RESOLVER_SNAPSHOT_KEY,RELAY_RESOLVER_VALUE_KEY=_require5$1.RELAY_RESOLVER_VALUE_KEY,getStorageKey$1=_require5$1.getStorageKey,getOutputTypeRecordIDs$1=getOutputTypeRecordIDs_1,isLiveStateValue=isLiveStateValue_1,_require6=LiveResolverSuspenseSentinel,isSuspenseSentinel$1=_require6.isSuspenseSentinel,invariant$7=browser$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1="__resolverLiveStateSubscription",RELAY_RESOLVER_LIVE_STATE_VALUE="__resolverLiveStateValue",RELAY_RESOLVER_LIVE_STATE_DIRTY="__resolverLiveStateDirty",RELAY_RESOLVER_RECORD_TYPENAME="__RELAY_RESOLVER__",MODEL_PROPERTY_NAME="__relay_model_instance";function addDependencyEdge(s,a,et){var nt=s.get(a);nt||(nt=new Set,s.set(a,nt)),nt.add(et)}var LiveResolverCache$1=function(){function s(et,nt){this._resolverIDToRecordIDs=new Map,this._recordIDToResolverIDs=new Map,this._getRecordSource=et,this._store=nt,this._handlingBatch=!1,this._liveResolverBatchRecordSource=null}var a=s.prototype;return a.readFromCacheOrEvaluate=function(nt,at,mt,wt,$t){var Ct=this._getRecordSource(),Dt=expectRecord(Ct,nt),Ft=getStorageKey$1(at,mt),jt=RelayModernRecord$4.getLinkedRecordID(Dt,Ft),Nt=jt==null?null:Ct.get(jt),Lt;if(Nt==null||this._isInvalid(Nt,$t)){var Ut;Nt!=null&&maybeUnsubscribeFromLiveState(Nt),jt=(Ut=jt)!==null&&Ut!==void 0?Ut:generateClientID$1(nt,Ft),Nt=RelayModernRecord$4.create(jt,RELAY_RESOLVER_RECORD_TYPENAME);var Vt=wt();if(RelayModernRecord$4.setValue(Nt,RELAY_RESOLVER_SNAPSHOT_KEY,Vt.snapshot),RelayModernRecord$4.setValue(Nt,RELAY_RESOLVER_ERROR_KEY,Vt.error),at.kind===RELAY_LIVE_RESOLVER){if(Vt.resolverResult!=null){Vt.error!=null&&invariant$7(!1);var Yt=Vt.resolverResult;Lt=this._setLiveStateValue(Nt,jt,Yt,at,mt)}}else Lt=this._setResolverValue(Nt,Vt.resolverResult,at,mt);Ct.set(jt,Nt);var er=expectRecord(Ct,nt),tr=RelayModernRecord$4.clone(er);if(RelayModernRecord$4.setLinkedRecordID(tr,Ft,jt),Ct.set(nt,tr),at.fragment!=null){var nr,sr=getStorageKey$1(at.fragment,mt),dr=generateClientID$1(nt,sr);addDependencyEdge(this._resolverIDToRecordIDs,dr,jt),addDependencyEdge(this._recordIDToResolverIDs,nt,dr);var br=(nr=Vt.snapshot)===null||nr===void 0?void 0:nr.seenRecords;if(br!=null){var vr=(0,_createForOfIteratorHelper2$3.default)(br),yr;try{for(vr.s();!(yr=vr.n()).done;){var $r=yr.value;addDependencyEdge(this._recordIDToResolverIDs,$r,dr)}}catch(ar){vr.e(ar)}finally{vr.f()}}}}else if(at.kind===RELAY_LIVE_RESOLVER&&RelayModernRecord$4.getValue(Nt,RELAY_RESOLVER_LIVE_STATE_DIRTY)){var Sr;jt=(Sr=jt)!==null&&Sr!==void 0?Sr:generateClientID$1(nt,Ft),Nt=RelayModernRecord$4.clone(Nt);var wr=RelayModernRecord$4.getValue(Nt,RELAY_RESOLVER_LIVE_STATE_VALUE);isLiveStateValue(wr)||invariant$7(!1),Lt=this._setLiveResolverValue(Nt,wr,at,mt),RelayModernRecord$4.setValue(Nt,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),Ct.set(jt,Nt)}var fr=this._getResolverValue(Nt),_r=RelayModernRecord$4.getValue(Nt,RELAY_RESOLVER_SNAPSHOT_KEY),ir=RelayModernRecord$4.getValue(Nt,RELAY_RESOLVER_ERROR_KEY),rr=null;if(isSuspenseSentinel$1(fr)){var or;rr=(or=jt)!==null&&or!==void 0?or:generateClientID$1(nt,Ft)}return[fr,jt,ir,_r,rr,Lt]},a.getLiveResolverPromise=function(nt){var at=this._getRecordSource(),mt=at.get(nt);mt==null&&invariant$7(!1);var wt=RelayModernRecord$4.getValue(mt,RELAY_RESOLVER_LIVE_STATE_VALUE);return new Promise(function($t){var Ct=wt.subscribe(function(){Ct(),$t()})})},a._setLiveStateValue=function(nt,at,mt,wt,$t){var Ct=this._makeLiveStateHandler(at),Dt=mt.subscribe(Ct);RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_LIVE_STATE_VALUE,mt);var Ft=this._setLiveResolverValue(nt,mt,wt,$t);return RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_LIVE_STATE_DIRTY,!1),RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1,Dt),Ft},a._makeLiveStateHandler=function(nt){var at=this;return function(){var mt=at._getRecordSource(),wt=mt.get(nt);if(wt&&RelayModernRecord$4.hasValue(wt,RELAY_RESOLVER_LIVE_STATE_VALUE)){var $t=RelayModernRecord$4.clone(wt);RelayModernRecord$4.setValue($t,RELAY_RESOLVER_LIVE_STATE_DIRTY,!0),at._setLiveResolverUpdate(nt,$t)}}},a._setLiveResolverUpdate=function(nt,at){if(this._handlingBatch)this._liveResolverBatchRecordSource==null&&(this._liveResolverBatchRecordSource=RelayRecordSource$2.create()),this._liveResolverBatchRecordSource.set(nt,at);else{var mt=RelayRecordSource$2.create();mt.set(nt,at),this._store.publish(mt),this._store.notify()}},a.batchLiveStateUpdates=function(nt){this._handlingBatch&&invariant$7(!1),this._handlingBatch=!0;try{nt()}finally{this._liveResolverBatchRecordSource!=null&&(this._store.publish(this._liveResolverBatchRecordSource),this._store.notify()),this._liveResolverBatchRecordSource=null,this._handlingBatch=!1}},a._setLiveResolverValue=function(nt,at,mt,wt){var $t=null,Ct=null;try{$t=at.read()}catch(Dt){Ct=Dt}return RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_ERROR_KEY,Ct),this._setResolverValue(nt,$t,mt,wt)},a._setResolverValue=function(nt,at,mt,wt){var $t=mt.normalizationInfo,Ct=null;if(at!=null&&$t!=null&&!isSuspenseSentinel$1(at)){var Dt,Ft=getOutputTypeRecordIDs$1(nt),jt=new Set,Nt=this._getRecordSource();if($t.plural){Array.isArray(at)||invariant$7(!1),Dt=[];for(var Lt=RelayRecordSource$2.create(),Ut=0;Ut<at.length;Ut++){var Vt=at[Ut];if(Vt!=null){typeof Vt!="object"&&invariant$7(!1);var Yt=getConcreteTypename($t,Vt),er=generateClientObjectClientID(Yt,RelayModernRecord$4.getDataID(nt),Ut),tr=this._normalizeOutputTypeValue(er,Vt,wt,$t,[mt.path,String(Ut)],Yt),nr=(0,_createForOfIteratorHelper2$3.default)(tr.getRecordIDs()),sr;try{for(nr.s();!(sr=nr.n()).done;){var dr=sr.value;Lt.set(dr,expectRecord(tr,dr)),jt.add(dr)}}catch(fr){nr.e(fr)}finally{nr.f()}Dt.push(er)}}Ct=updateCurrentSource(Nt,Lt,Ft)}else{typeof at!="object"&&invariant$7(!1);var br=getConcreteTypename($t,at),vr=generateClientObjectClientID(br,RelayModernRecord$4.getDataID(nt)),yr=this._normalizeOutputTypeValue(vr,at,wt,$t,[mt.path],br),$r=(0,_createForOfIteratorHelper2$3.default)(yr.getRecordIDs()),Sr;try{for($r.s();!(Sr=$r.n()).done;){var wr=Sr.value;jt.add(wr)}}catch(fr){$r.e(fr)}finally{$r.f()}Dt=vr,Ct=updateCurrentSource(Nt,yr,Ft)}RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_OUTPUT_TYPE_RECORD_IDS,jt),shallowFreeze(Dt),RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_VALUE_KEY,Dt)}else shallowFreeze(at),RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_VALUE_KEY,at);return Ct},a.notifyUpdatedSubscribers=function(nt){this._store.__notifyUpdatedSubscribers(nt)},a._getResolverValue=function(nt){return RelayModernRecord$4.getValue(nt,RELAY_RESOLVER_VALUE_KEY)},a.invalidateDataIDs=function(nt){for(var at=this._getRecordSource(),mt=new Set,wt=Array.from(nt);wt.length;){var $t=wt.pop();mt.add($t),nt.add($t);var Ct=this._recordIDToResolverIDs.get($t);if(Ct!=null){var Dt=(0,_createForOfIteratorHelper2$3.default)(Ct),Ft;try{for(Dt.s();!(Ft=Dt.n()).done;){var jt=Ft.value;if(!mt.has(jt)){mt.add(jt);var Nt=this._resolverIDToRecordIDs.get(jt);if(Nt==null)continue;var Lt=(0,_createForOfIteratorHelper2$3.default)(Nt),Ut;try{for(Lt.s();!(Ut=Lt.n()).done;){var Vt=Ut.value;markInvalidatedResolverRecord(Vt,at),mt.has(Vt)||(mt.add(Vt),wt.push(Vt))}}catch(Yt){Lt.e(Yt)}finally{Lt.f()}}}}catch(Yt){Dt.e(Yt)}finally{Dt.f()}}}},a._isInvalid=function(nt,at){if(!RelayModernRecord$4.getValue(nt,RELAY_RESOLVER_INVALIDATION_KEY))return!1;var mt=RelayModernRecord$4.getValue(nt,RELAY_RESOLVER_SNAPSHOT_KEY),wt=mt==null?void 0:mt.data,$t=mt==null?void 0:mt.selector;if(wt==null||$t==null)return!0;var Ct=at($t),Dt=Ct.data,Ft=recycleNodesInto$2(wt,Dt);if(Ft!==wt)return!0;if(RelayFeatureFlags$3.MARK_RESOLVER_VALUES_AS_CLEAN_AFTER_FRAGMENT_REREAD){var jt=RelayModernRecord$4.clone(nt);RelayModernRecord$4.setValue(jt,RELAY_RESOLVER_INVALIDATION_KEY,!1);var Nt=this._getRecordSource();Nt.set(RelayModernRecord$4.getDataID(nt),jt)}return!1},a._normalizeOutputTypeValue=function(nt,at,mt,wt,$t,Ct){var Dt=RelayRecordSource$2.create();switch(wt.kind){case"OutputType":{var Ft=RelayModernRecord$4.create(nt,Ct);Dt.set(nt,Ft);var jt=createNormalizationSelector(wt.normalizationNode,nt,mt),Nt=this._store.__getNormalizationOptions($t);return normalize$1(Dt,jt,at,Nt).source}case"WeakModel":{var Lt=RelayModernRecord$4.create(nt,Ct);return RelayModernRecord$4.setValue(Lt,MODEL_PROPERTY_NAME,at),Dt.set(nt,Lt),Dt}default:wt.kind,invariant$7(!1)}},a.ensureClientRecord=function(nt,at){var mt=generateClientObjectClientID(at,nt),wt=this._getRecordSource();if(!wt.has(mt)){var $t=RelayModernRecord$4.create(mt,at);RelayModernRecord$4.setValue($t,"id",nt),wt.set(mt,$t)}return mt},a.unsubscribeFromLiveResolverRecords=function(nt){return unsubscribeFromLiveResolverRecordsImpl(this._getRecordSource(),nt)},a.invalidateResolverRecords=function(nt){if(nt.size!==0){var at=(0,_createForOfIteratorHelper2$3.default)(nt),mt;try{for(at.s();!(mt=at.n()).done;){var wt=mt.value,$t=this._getRecordSource().get(wt);$t!=null&&isResolverRecord($t)&&this._getRecordSource().delete(wt)}}catch(Ct){at.e(Ct)}finally{at.f()}}},s}();function updateCurrentSource(s,a,et){var nt=new Set;if(et!=null){var at=(0,_createForOfIteratorHelper2$3.default)(et),mt;try{for(at.s();!(mt=at.n()).done;){var wt=mt.value;a.has(wt)||(nt.add(wt),s.remove(wt))}}catch(Lt){at.e(Lt)}finally{at.f()}}var $t=(0,_createForOfIteratorHelper2$3.default)(a.getRecordIDs()),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value,Ft=expectRecord(a,Dt);if(s.has(Dt)){var jt=expectRecord(s,Dt),Nt=RelayModernRecord$4.update(jt,Ft);Nt!==jt&&(nt.add(Dt),s.set(Dt,Nt),markInvalidatedLinkedResolverRecords(jt,s))}else s.set(Dt,Ft)}}catch(Lt){$t.e(Lt)}finally{$t.f()}return nt}function getAllLinkedRecordIds(s){var a=new Set;return RelayModernRecord$4.getFields(s).forEach(function(et){if(RelayModernRecord$4.hasLinkedRecordID(s,et)){var nt=RelayModernRecord$4.getLinkedRecordID(s,et);nt!=null&&a.add(nt)}else if(RelayModernRecord$4.hasLinkedRecordIDs(s,et)){var at;(at=RelayModernRecord$4.getLinkedRecordIDs(s,et))===null||at===void 0||at.forEach(function(mt){mt!=null&&a.add(mt)})}}),a}function markInvalidatedResolverRecord(s,a){var et=a.get(s);if(et){var nt=RelayModernRecord$4.clone(et);RelayModernRecord$4.setValue(nt,RELAY_RESOLVER_INVALIDATION_KEY,!0),a.set(s,nt)}}function markInvalidatedLinkedResolverRecords(s,a){var et=getAllLinkedRecordIds(s),nt=(0,_createForOfIteratorHelper2$3.default)(et),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value,wt=a.get(mt);wt!=null&&isResolverRecord(wt)&&markInvalidatedResolverRecord(mt,a)}}catch($t){nt.e($t)}finally{nt.f()}}function unsubscribeFromLiveResolverRecordsImpl(s,a){if(a.size!==0){var et=(0,_createForOfIteratorHelper2$3.default)(a),nt;try{for(et.s();!(nt=et.n()).done;){var at=nt.value,mt=s.get(at);mt!=null&&isResolverRecord(mt)&&maybeUnsubscribeFromLiveState(mt)}}catch(wt){et.e(wt)}finally{et.f()}}}function isResolverRecord(s){return RelayModernRecord$4.getType(s)===RELAY_RESOLVER_RECORD_TYPENAME}function maybeUnsubscribeFromLiveState(s){var a=RelayModernRecord$4.getValue(s,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1);a!=null&&a()}function expectRecord(s,a){var et=s.get(a);return et==null&&invariant$7(!1),et}function getUpdatedDataIDs$1(s){return s}function getConcreteTypename(s,a){var et,nt=(et=s.concreteType)!==null&&et!==void 0?et:a.__typename;return nt==null&&invariant$7(!1),nt}var LiveResolverCache_1={LiveResolverCache:LiveResolverCache$1,getUpdatedDataIDs:getUpdatedDataIDs$1,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY:RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY$1},_interopRequireDefault$5=interopRequireDefaultExports.default,_objectSpread2$1=_interopRequireDefault$5(objectSpread2Exports),RelayModernRecord$3=RelayModernRecord$d,RelayRecordSource$1=RelayRecordSource_1,invariant$6=browser$1,UNPUBLISH_RECORD_SENTINEL=RelayModernRecord$3.fromObject(Object.freeze({__UNPUBLISH_RECORD_SENTINEL:!0})),RelayOptimisticRecordSource$1=function(){function s(et){this._base=et,this._sink=RelayRecordSource$1.create()}var a=s.prototype;return a.has=function(nt){if(this._sink.has(nt)){var at=this._sink.get(nt);return at!==UNPUBLISH_RECORD_SENTINEL}else return this._base.has(nt)},a.get=function(nt){if(this._sink.has(nt)){var at=this._sink.get(nt);return at===UNPUBLISH_RECORD_SENTINEL?void 0:at}else return this._base.get(nt)},a.getStatus=function(nt){var at=this.get(nt);return at===void 0?"UNKNOWN":at===null?"NONEXISTENT":"EXISTENT"},a.clear=function(){this._base=RelayRecordSource$1.create(),this._sink.clear()},a.delete=function(nt){this._sink.delete(nt)},a.remove=function(nt){this._sink.set(nt,UNPUBLISH_RECORD_SENTINEL)},a.set=function(nt,at){this._sink.set(nt,at)},a.getRecordIDs=function(){return Object.keys(this.toJSON())},a.size=function(){return Object.keys(this.toJSON()).length},a.toJSON=function(){var nt=this,at=(0,_objectSpread2$1.default)({},this._base.toJSON());return this._sink.getRecordIDs().forEach(function(mt){var wt=nt.get(mt);wt===void 0?delete at[mt]:at[mt]=RelayModernRecord$3.toJSON(wt)}),at},a.getOptimisticRecordIDs=function(){return new Set(this._sink.getRecordIDs())},s}();function create(s){return new RelayOptimisticRecordSource$1(s)}function getOptimisticRecordIDs(s){return s instanceof RelayOptimisticRecordSource$1||invariant$6(!1),s.getOptimisticRecordIDs()}var RelayOptimisticRecordSource_1={create,getOptimisticRecordIDs},_interopRequireDefault$4=interopRequireDefaultExports.default,_createForOfIteratorHelper2$2=_interopRequireDefault$4(createForOfIteratorHelperExports),getOperation=getOperation_1,cloneRelayHandleSourceField=cloneRelayHandleSourceField_1,getOutputTypeRecordIDs=getOutputTypeRecordIDs_1,_require$6=RelayConcreteVariables$2,getLocalVariables=_require$6.getLocalVariables,RelayModernRecord$2=RelayModernRecord$d,RelayStoreUtils$2=RelayStoreUtils_1,_require2$5=TypeID,generateTypeID=_require2$5.generateTypeID,invariant$5=browser$1,getStorageKey=RelayStoreUtils$2.getStorageKey,getModuleOperationKey$1=RelayStoreUtils$2.getModuleOperationKey;function mark(s,a,et,nt,at){var mt=a.dataID,wt=a.node,$t=a.variables,Ct=new RelayReferenceMarker$1(s,$t,et,nt,at);Ct.mark(wt,mt)}var RelayReferenceMarker$1=function(){function s(et,nt,at,mt,wt){this._operationLoader=mt??null,this._operationName=null,this._recordSource=et,this._references=at,this._variables=nt,this._shouldProcessClientComponents=wt}var a=s.prototype;return a.mark=function(nt,at){(nt.kind==="Operation"||nt.kind==="SplitOperation")&&(this._operationName=nt.name),this._traverse(nt,at)},a._traverse=function(nt,at){this._references.add(at);var mt=this._recordSource.get(at);mt!=null&&this._traverseSelections(nt.selections,mt)},a._getVariableValue=function(nt){return this._variables.hasOwnProperty(nt)||invariant$5(!1),this._variables[nt]},a._traverseSelections=function(nt,at){var mt=this;nt.forEach(function(wt){switch(wt.kind){case"ActorChange":mt._traverseLink(wt.linkedField,at);break;case"LinkedField":wt.plural?mt._traversePluralLink(wt,at):mt._traverseLink(wt,at);break;case"Condition":var $t=!!mt._getVariableValue(wt.condition);$t===wt.passingValue&&mt._traverseSelections(wt.selections,at);break;case"InlineFragment":if(wt.abstractKey==null){var Ct=RelayModernRecord$2.getType(at);(Ct!=null&&Ct===wt.type||Ct===RelayStoreUtils$2.ROOT_TYPE)&&mt._traverseSelections(wt.selections,at)}else{var Dt=RelayModernRecord$2.getType(at),Ft=generateTypeID(Dt);mt._references.add(Ft),mt._traverseSelections(wt.selections,at)}break;case"FragmentSpread":var jt=mt._variables;mt._variables=getLocalVariables(mt._variables,wt.fragment.argumentDefinitions,wt.args),mt._traverseSelections(wt.fragment.selections,at),mt._variables=jt;break;case"LinkedHandle":var Nt=cloneRelayHandleSourceField(wt,nt,mt._variables);Nt.plural?mt._traversePluralLink(Nt,at):mt._traverseLink(Nt,at);break;case"Defer":case"Stream":mt._traverseSelections(wt.selections,at);break;case"ScalarField":case"ScalarHandle":break;case"TypeDiscriminator":{var Lt=RelayModernRecord$2.getType(at),Ut=generateTypeID(Lt);mt._references.add(Ut);break}case"ModuleImport":mt._traverseModuleImport(wt,at);break;case"ClientExtension":mt._traverseSelections(wt.selections,at);break;case"ClientComponent":if(mt._shouldProcessClientComponents===!1)break;mt._traverseSelections(wt.fragment.selections,at);break;case"RelayResolver":mt._traverseResolverField(wt,at);break;case"RelayLiveResolver":mt._traverseResolverField(wt,at);break;case"ClientEdgeToClientObject":mt._traverseClientEdgeToClientObject(wt,at);break;default:invariant$5(!1)}})},a._traverseClientEdgeToClientObject=function(nt,at){var mt=this._traverseResolverField(nt.backingField,at);if(mt!=null){var wt=this._recordSource.get(mt);if(wt!=null)if(nt.backingField.isOutputType){var $t=getOutputTypeRecordIDs(wt);if($t!=null){var Ct=(0,_createForOfIteratorHelper2$2.default)($t),Dt;try{for(Ct.s();!(Dt=Ct.n()).done;){var Ft=Dt.value;this._references.add(Ft)}}catch(tr){Ct.e(tr)}finally{Ct.f()}}}else{var jt=nt.linkedField,Nt=jt.concreteType;if(Nt==null)return;if(jt.plural){var Lt=RelayModernRecord$2.getResolverLinkedRecordIDs(wt,Nt);if(Lt!=null){var Ut=(0,_createForOfIteratorHelper2$2.default)(Lt),Vt;try{for(Ut.s();!(Vt=Ut.n()).done;){var Yt=Vt.value;Yt!=null&&this._traverse(jt,Yt)}}catch(tr){Ut.e(tr)}finally{Ut.f()}}}else{var er=RelayModernRecord$2.getResolverLinkedRecordID(wt,Nt);er!=null&&this._traverse(jt,er)}}}},a._traverseResolverField=function(nt,at){var mt=getStorageKey(nt,this._variables),wt=RelayModernRecord$2.getLinkedRecordID(at,mt);wt!=null&&this._references.add(wt);var $t=nt.fragment;return $t!=null&&this._traverseSelections([$t],at),wt},a._traverseModuleImport=function(nt,at){var mt=this._operationLoader;mt===null&&invariant$5(!1);var wt=getModuleOperationKey$1(nt.documentName),$t=RelayModernRecord$2.getValue(at,wt);if($t!=null){var Ct=mt.get($t);if(Ct!=null){var Dt=getOperation(Ct),Ft=this._variables;this._variables=getLocalVariables(this._variables,Dt.argumentDefinitions,nt.args),this._traverseSelections(Dt.selections,at),this._variables=Ft}}},a._traverseLink=function(nt,at){var mt=getStorageKey(nt,this._variables),wt=RelayModernRecord$2.getLinkedRecordID(at,mt);wt!=null&&this._traverse(nt,wt)},a._traversePluralLink=function(nt,at){var mt=this,wt=getStorageKey(nt,this._variables),$t=RelayModernRecord$2.getLinkedRecordIDs(at,wt);$t!=null&&$t.forEach(function(Ct){Ct!=null&&mt._traverse(nt,Ct)})},s}(),RelayReferenceMarker_1={mark},ITERATOR_KEY$1=Symbol.iterator;function hasOverlappingIDs$1(s,a){for(var et=s[ITERATOR_KEY$1](),nt=et.next();!nt.done;){var at=nt.value;if(a.has(at))return!0;nt=et.next()}return!1}var hasOverlappingIDs_1=hasOverlappingIDs$1,_require$5=RelayStoreUtils_1,ROOT_ID$1=_require$5.ROOT_ID,_require2$4=ViewerPattern$1,VIEWER_ID=_require2$4.VIEWER_ID,ITERATOR_KEY=Symbol.iterator;function hasSignificantOverlappingIDs$1(s,a){for(var et=s[ITERATOR_KEY](),nt=et.next();!nt.done;){var at=nt.value;if(a.has(at)&&at!==ROOT_ID$1&&at!==VIEWER_ID)return!0;nt=et.next()}return!1}var hasSignificantOverlappingIDs_1=hasSignificantOverlappingIDs$1,recycleNodesInto$1=recycleNodesInto_1,RelayFeatureFlags$2=RelayFeatureFlags_1,hasOverlappingIDs=hasOverlappingIDs_1,hasSignificantOverlappingIDs=hasSignificantOverlappingIDs_1,RelayReader$1=RelayReader_1,RelayStoreSubscriptions$1=function(){function s(et,nt,at){this._subscriptions=new Set,this.__log=et,this._resolverCache=nt,this._resolverContext=at}var a=s.prototype;return a.subscribe=function(nt,at){var mt=this,wt={backup:null,callback:at,snapshot:nt,stale:!1},$t=function(){mt._subscriptions.delete(wt)};return this._subscriptions.add(wt),{dispose:$t}},a.snapshotSubscriptions=function(nt){var at=this;this._subscriptions.forEach(function(mt){if(!mt.stale){mt.backup=mt.snapshot;return}var wt=mt.snapshot,$t=RelayReader$1.read(nt,wt.selector,at._resolverCache,at._resolverContext),Ct=recycleNodesInto$1(wt.data,$t.data);$t.data=Ct,mt.backup=$t})},a.restoreSubscriptions=function(){this._subscriptions.forEach(function(nt){var at=nt.backup;nt.backup=null,at?(at.data!==nt.snapshot.data&&(nt.stale=!0),nt.snapshot={data:nt.snapshot.data,isMissingData:at.isMissingData,missingClientEdges:at.missingClientEdges,missingLiveResolverFields:at.missingLiveResolverFields,seenRecords:at.seenRecords,selector:at.selector,errorResponseFields:at.errorResponseFields}):nt.stale=!0})},a.updateSubscriptions=function(nt,at,mt,wt){var $t=this,Ct=at.size!==0;this._subscriptions.forEach(function(Dt){var Ft=$t._updateSubscription(nt,Dt,at,Ct,wt);Ft!=null&&mt.push(Ft)})},a._updateSubscription=function(nt,at,mt,wt,$t){var Ct=at.backup,Dt=at.callback,Ft=at.snapshot,jt=at.stale,Nt=wt&&hasOverlappingIDs(Ft.seenRecords,mt);if(!(!jt&&!Nt)){var Lt=Nt||!Ct?RelayReader$1.read(nt,Ft.selector,this._resolverCache,this._resolverContext):Ct,Ut=recycleNodesInto$1(Ft.data,Lt.data);if(Lt={data:Ut,isMissingData:Lt.isMissingData,missingClientEdges:Lt.missingClientEdges,missingLiveResolverFields:Lt.missingLiveResolverFields,seenRecords:Lt.seenRecords,selector:Lt.selector,errorResponseFields:Lt.errorResponseFields},at.snapshot=Lt,at.stale=!1,Lt.data!==Ft.data)return this.__log&&RelayFeatureFlags$2.ENABLE_NOTIFY_SUBSCRIPTION&&this.__log({name:"store.notify.subscription",sourceOperation:$t,snapshot:Ft,nextSnapshot:Lt}),Dt(Lt),Ft.selector.owner;if(RelayFeatureFlags$2.ENABLE_LOOSE_SUBSCRIPTION_ATTRIBUTION&&(jt||hasSignificantOverlappingIDs(Ft.seenRecords,mt)))return Ft.selector.owner}},a.size=function(){return this._subscriptions.size},s}(),RelayStoreSubscriptions_1=RelayStoreSubscriptions$1,_interopRequireDefault$3=interopRequireDefaultExports.default,_createForOfIteratorHelper2$1=_interopRequireDefault$3(createForOfIteratorHelperExports),_defineProperty2$1=_interopRequireDefault$3(requireDefineProperty()),_require$4=ActorIdentifier,INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE=_require$4.INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,assertInternalActorIdentifier=_require$4.assertInternalActorIdentifier,resolveImmediate=resolveImmediate_1,DataChecker=DataChecker_1,defaultGetDataID=defaultGetDataID_1,_require2$3=LiveResolverCache_1,LiveResolverCache=_require2$3.LiveResolverCache,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY=_require2$3.RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY,getUpdatedDataIDs=_require2$3.getUpdatedDataIDs,RelayModernRecord$1=RelayModernRecord$d,RelayOptimisticRecordSource=RelayOptimisticRecordSource_1,RelayReader=RelayReader_1,RelayReferenceMarker=RelayReferenceMarker_1,RelayStoreSubscriptions=RelayStoreSubscriptions_1,RelayStoreUtils$1=RelayStoreUtils_1,_require3$3=RelayStoreUtils_1,ROOT_ID=_require3$3.ROOT_ID,ROOT_TYPE=_require3$3.ROOT_TYPE,invariant$4=browser$1,DEFAULT_RELEASE_BUFFER_SIZE=10,RelayModernStore$1=function(){function s(et,nt){var at=this,mt,wt,$t,Ct,Dt,Ft,jt;(0,_defineProperty2$1.default)(this,"_gcStep",function(){at._gcRun&&(at._gcRun.next().done?at._gcRun=null:at._gcScheduler(at._gcStep))}),this._currentWriteEpoch=0,this._gcHoldCounter=0,this._gcReleaseBufferSize=(mt=nt==null?void 0:nt.gcReleaseBufferSize)!==null&&mt!==void 0?mt:DEFAULT_RELEASE_BUFFER_SIZE,this._gcRun=null,this._gcScheduler=(wt=nt==null?void 0:nt.gcScheduler)!==null&&wt!==void 0?wt:resolveImmediate,this._getDataID=($t=nt==null?void 0:nt.getDataID)!==null&&$t!==void 0?$t:defaultGetDataID,this._globalInvalidationEpoch=null,this._invalidationSubscriptions=new Set,this._invalidatedRecordIDs=new Set,this.__log=(Ct=nt==null?void 0:nt.log)!==null&&Ct!==void 0?Ct:null,this._queryCacheExpirationTime=nt==null?void 0:nt.queryCacheExpirationTime,this._operationLoader=(Dt=nt==null?void 0:nt.operationLoader)!==null&&Dt!==void 0?Dt:null,this._optimisticSource=null,this._recordSource=et,this._releaseBuffer=[],this._roots=new Map,this._shouldScheduleGC=!1,this._resolverCache=new LiveResolverCache(function(){return at._getMutableRecordSource()},this),this._storeSubscriptions=new RelayStoreSubscriptions(nt==null?void 0:nt.log,this._resolverCache),this._updatedRecordIDs=new Set,this._shouldProcessClientComponents=(Ft=nt==null?void 0:nt.shouldProcessClientComponents)!==null&&Ft!==void 0?Ft:!1,this._resolverContext=nt==null?void 0:nt.resolverContext,this._treatMissingFieldsAsNull=(jt=nt==null?void 0:nt.treatMissingFieldsAsNull)!==null&&jt!==void 0?jt:!1,this._actorIdentifier=nt==null?void 0:nt.actorIdentifier,initializeRecordSource(this._recordSource)}var a=s.prototype;return a.getSource=function(){var nt;return(nt=this._optimisticSource)!==null&&nt!==void 0?nt:this._recordSource},a.getOperationLoader=function(){return this._operationLoader},a._getMutableRecordSource=function(){var nt;return(nt=this._optimisticSource)!==null&&nt!==void 0?nt:this._recordSource},a.getLiveResolverPromise=function(nt){return this._resolverCache.getLiveResolverPromise(nt)},a.batchLiveStateUpdates=function(nt){this.__log!=null&&this.__log({name:"liveresolver.batch.start"});try{this._resolverCache.batchLiveStateUpdates(nt)}finally{this.__log!=null&&this.__log({name:"liveresolver.batch.end"})}},a.check=function(nt,at){var mt,wt,$t,Ct,Dt=nt.root,Ft=this._getMutableRecordSource(),jt=this._globalInvalidationEpoch,Nt=this._roots.get(nt.request.identifier),Lt=Nt!=null?Nt.epoch:null;if(jt!=null&&(Lt==null||Lt<=jt))return{status:"stale"};var Ut=(mt=at==null?void 0:at.handlers)!==null&&mt!==void 0?mt:[],Vt=(wt=at==null?void 0:at.getSourceForActor)!==null&&wt!==void 0?wt:function(tr){return assertInternalActorIdentifier(tr),Ft},Yt=($t=at==null?void 0:at.getTargetForActor)!==null&&$t!==void 0?$t:function(tr){return assertInternalActorIdentifier(tr),Ft},er=DataChecker.check(Vt,Yt,(Ct=at==null?void 0:at.defaultActorIdentifier)!==null&&Ct!==void 0?Ct:INTERNAL_ACTOR_IDENTIFIER_DO_NOT_USE,Dt,Ut,this._operationLoader,this._getDataID,this._shouldProcessClientComponents,this.__log);return getAvailabilityStatus(er,Lt,Nt==null?void 0:Nt.fetchTime,this._queryCacheExpirationTime)},a.retain=function(nt){var at=this,mt=nt.request.identifier,wt=!1,$t=function(){if(!wt){wt=!0;var Ft=at._roots.get(mt);if(Ft!=null&&(Ft.refCount--,Ft.refCount===0)){var jt=at._queryCacheExpirationTime,Nt=Ft.fetchTime!=null&&jt!=null&&Ft.fetchTime<=Date.now()-jt;if(Nt)at._roots.delete(mt),at.scheduleGC();else if(at._releaseBuffer.push(mt),at._releaseBuffer.length>at._gcReleaseBufferSize){var Lt=at._releaseBuffer.shift();at._roots.delete(Lt),at.scheduleGC()}}}},Ct=this._roots.get(mt);return Ct!=null?(Ct.refCount===0&&(this._releaseBuffer=this._releaseBuffer.filter(function(Dt){return Dt!==mt})),Ct.refCount+=1):this._roots.set(mt,{operation:nt,refCount:1,epoch:null,fetchTime:null}),{dispose:$t}},a.lookup=function(nt){var at=this.__log;at!=null&&at({name:"store.lookup.start",selector:nt});var mt=this.getSource(),wt=RelayReader.read(mt,nt,this._resolverCache,this._resolverContext);return at!=null&&at({name:"store.lookup.end",selector:nt}),wt},a.notify=function(nt,at){var mt=this,wt=this.__log;wt!=null&&wt({name:"store.notify.start",sourceOperation:nt}),this._currentWriteEpoch++,at===!0&&(this._globalInvalidationEpoch=this._currentWriteEpoch),this._resolverCache.invalidateDataIDs(this._updatedRecordIDs);var $t=this.getSource(),Ct=[];if(this._storeSubscriptions.updateSubscriptions($t,this._updatedRecordIDs,Ct,nt),this._invalidationSubscriptions.forEach(function(Nt){mt._updateInvalidationSubscription(Nt,at===!0)}),nt!=null){var Dt=nt.request.identifier,Ft=this._roots.get(Dt);if(Ft!=null)Ft.epoch=this._currentWriteEpoch,Ft.fetchTime=Date.now();else if(nt.request.node.params.operationKind==="query"&&this._gcReleaseBufferSize>0&&this._releaseBuffer.length<this._gcReleaseBufferSize){var jt={operation:nt,refCount:0,epoch:this._currentWriteEpoch,fetchTime:Date.now()};this._releaseBuffer.push(Dt),this._roots.set(Dt,jt)}}return wt!=null&&wt({name:"store.notify.complete",sourceOperation:nt,updatedRecordIDs:this._updatedRecordIDs,invalidatedRecordIDs:this._invalidatedRecordIDs,subscriptionsSize:this._storeSubscriptions.size(),updatedOwners:Ct}),this._updatedRecordIDs.clear(),this._invalidatedRecordIDs.clear(),Ct},a.publish=function(nt,at){var mt=this._getMutableRecordSource();updateTargetFromSource(mt,nt,this._currentWriteEpoch+1,at,this._updatedRecordIDs,this._invalidatedRecordIDs);var wt=this.__log;wt!=null&&wt({name:"store.publish",source:nt,optimistic:mt===this._optimisticSource})},a.subscribe=function(nt,at){return this._storeSubscriptions.subscribe(nt,at)},a.holdGC=function(){var nt=this;this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._gcHoldCounter++;var at=function(){nt._gcHoldCounter>0&&(nt._gcHoldCounter--,nt._gcHoldCounter===0&&nt._shouldScheduleGC&&(nt.scheduleGC(),nt._shouldScheduleGC=!1))};return{dispose:at}},a.toJSON=function(){return"RelayModernStore()"},a.getEpoch=function(){return this._currentWriteEpoch},a.__getUpdatedRecordIDs=function(){return this._updatedRecordIDs},a.lookupInvalidationState=function(nt){var at=this,mt=new Map;return nt.forEach(function(wt){var $t,Ct=at.getSource().get(wt);mt.set(wt,($t=RelayModernRecord$1.getInvalidationEpoch(Ct))!==null&&$t!==void 0?$t:null)}),mt.set("global",this._globalInvalidationEpoch),{dataIDs:nt,invalidations:mt}},a.checkInvalidationState=function(nt){var at=this.lookupInvalidationState(nt.dataIDs),mt=at.invalidations,wt=nt.invalidations;if(mt.get("global")!==wt.get("global"))return!0;var $t=(0,_createForOfIteratorHelper2$1.default)(nt.dataIDs),Ct;try{for($t.s();!(Ct=$t.n()).done;){var Dt=Ct.value;if(mt.get(Dt)!==wt.get(Dt))return!0}}catch(Ft){$t.e(Ft)}finally{$t.f()}return!1},a.subscribeToInvalidationState=function(nt,at){var mt=this,wt={callback:at,invalidationState:nt},$t=function(){mt._invalidationSubscriptions.delete(wt)};return this._invalidationSubscriptions.add(wt),{dispose:$t}},a._updateInvalidationSubscription=function(nt,at){var mt=this,wt=nt.callback,$t=nt.invalidationState,Ct=$t.dataIDs,Dt=at||Ct.some(function(Ft){return mt._invalidatedRecordIDs.has(Ft)});Dt&&wt()},a.snapshot=function(){this._optimisticSource!=null&&invariant$4(!1);var nt=this.__log;nt!=null&&nt({name:"store.snapshot"}),this._storeSubscriptions.snapshotSubscriptions(this.getSource()),this._gcRun&&(this._gcRun=null,this._shouldScheduleGC=!0),this._optimisticSource=RelayOptimisticRecordSource.create(this.getSource())},a.restore=function(){var nt=this._optimisticSource;nt||invariant$4(!1);var at=this.__log;at!=null&&at({name:"store.restore"});var mt=RelayOptimisticRecordSource.getOptimisticRecordIDs(nt);this._resolverCache.unsubscribeFromLiveResolverRecords(mt),this._optimisticSource=null,this._shouldScheduleGC&&this.scheduleGC(),this._storeSubscriptions.restoreSubscriptions(),this._resolverCache.invalidateResolverRecords(mt)},a.scheduleGC=function(){if(this._gcHoldCounter>0){this._shouldScheduleGC=!0;return}this._gcRun||(this._gcRun=this._collect(),this._gcScheduler(this._gcStep))},a.__gc=function(){if(this._optimisticSource==null)for(var nt=this._collect();!nt.next().done;);},a._collect=function*(){var nt=this.__log;e:for(;;){nt!=null&&nt({name:"store.gc.start"});var at=this._currentWriteEpoch,mt=new Set,wt=(0,_createForOfIteratorHelper2$1.default)(this._roots.values()),$t;try{for(wt.s();!($t=wt.n()).done;){var Ct=$t.value.operation,Dt=Ct.root;if(RelayReferenceMarker.mark(this._recordSource,Dt,mt,this._operationLoader,this._shouldProcessClientComponents),yield,at!==this._currentWriteEpoch){nt!=null&&nt({name:"store.gc.interrupted"});continue e}}}catch(Vt){wt.e(Vt)}finally{wt.f()}if(mt.size===0)this._recordSource.clear();else for(var Ft=this._recordSource.getRecordIDs(),jt=0;jt<Ft.length;jt++){var Nt=Ft[jt];if(!mt.has(Nt)){var Lt=this._recordSource.get(Nt);if(Lt!=null){var Ut=RelayModernRecord$1.getValue(Lt,RELAY_RESOLVER_LIVE_STATE_SUBSCRIPTION_KEY);Ut!=null&&Ut()}this._recordSource.remove(Nt)}}nt!=null&&nt({name:"store.gc.end",references:mt});return}},a.__getNormalizationOptions=function(nt){return{path:nt,getDataID:this._getDataID,treatMissingFieldsAsNull:this._treatMissingFieldsAsNull,shouldProcessClientComponents:this._shouldProcessClientComponents,actorIdentifier:this._actorIdentifier}},a.__notifyUpdatedSubscribers=function(nt){var at=getUpdatedDataIDs(nt),mt=this._updatedRecordIDs;this._updatedRecordIDs=at,this.notify(),this._updatedRecordIDs=mt},s}();function initializeRecordSource(s){if(!s.has(ROOT_ID)){var a=RelayModernRecord$1.create(ROOT_ID,ROOT_TYPE);s.set(ROOT_ID,a)}}function updateTargetFromSource(s,a,et,nt,at,mt){nt&&nt.forEach(function(Nt){var Lt=s.get(Nt),Ut=a.get(Nt);if(Ut!==null){var Vt;Lt!=null?Vt=RelayModernRecord$1.clone(Lt):Vt=Ut!=null?RelayModernRecord$1.clone(Ut):null,Vt&&(RelayModernRecord$1.setValue(Vt,RelayStoreUtils$1.INVALIDATED_AT_KEY,et),mt.add(Nt),s.set(Nt,Vt))}});for(var wt=a.getRecordIDs(),$t=0;$t<wt.length;$t++){var Ct=wt[$t],Dt=a.get(Ct),Ft=s.get(Ct);if(Dt&&Ft){var jt=RelayModernRecord$1.update(Ft,Dt);jt!==Ft&&(at.add(Ct),s.set(Ct,jt))}else Dt===null?(s.delete(Ct),Ft!==null&&at.add(Ct)):Dt&&(s.set(Ct,Dt),at.add(Ct))}}function getAvailabilityStatus(s,a,et,nt){var at=s.mostRecentlyInvalidatedAt,mt=s.status;if(typeof at=="number"&&(a==null||at>a))return{status:"stale"};if(mt==="missing")return{status:"missing"};if(et!=null&&nt!=null){var wt=et<=Date.now()-nt;if(wt)return{status:"stale"}}return{status:"available",fetchTime:et??null}}var RelayModernStore_1=RelayModernStore$1,RelayDeclarativeMutationConfig$1=RelayDeclarativeMutationConfig$4,_require$3=GraphQLTag$1,getRequest=_require$3.getRequest,_require2$2=RelayModernOperationDescriptor$1,createOperationDescriptor=_require2$2.createOperationDescriptor,_require3$2=RelayModernSelector$1,createReaderSelector=_require3$2.createReaderSelector;function requestSubscription$1(s,a){var et=getRequest(a.subscription);if(et.params.operationKind!=="subscription")throw new Error("requestSubscription: Must use Subscription operation");var nt=a.configs,at=a.onCompleted,mt=a.onError,wt=a.onNext,$t=a.variables,Ct=a.cacheConfig,Dt=createOperationDescriptor(et,$t,Ct),Ft=nt?RelayDeclarativeMutationConfig$1.convert(nt,et,null,a.updater):a,jt=Ft.updater,Nt=s.executeSubscription({operation:Dt,updater:jt}).subscribe({next:function(Ut){if(wt!=null){var Vt=Dt.fragment,Yt;if(Array.isArray(Ut)){var er,tr;Yt=(er=Ut[0])===null||er===void 0||(tr=er.extensions)===null||tr===void 0?void 0:tr.__relay_subscription_root_id}else{var nr;Yt=(nr=Ut.extensions)===null||nr===void 0?void 0:nr.__relay_subscription_root_id}typeof Yt=="string"&&(Vt=createReaderSelector(Vt.node,Yt,Vt.variables,Vt.owner));var sr=s.lookup(Vt).data;wt(sr)}},error:mt,complete:at});return{dispose:Nt.unsubscribe}}var requestSubscription_1=requestSubscription$1,_interopRequireDefault$2=interopRequireDefaultExports.default,_objectSpread2=_interopRequireDefault$2(objectSpread2Exports),_require$2=RelayStoreUtils_1,getModuleComponentKey=_require$2.getModuleComponentKey,getModuleOperationKey=_require$2.getModuleOperationKey;function createPayloadFor3DField$1(s,a,et,nt){var at=(0,_objectSpread2.default)({},nt);return at[getModuleComponentKey(s)]=et,at[getModuleOperationKey(s)]=a,at}var createPayloadFor3DField_1=createPayloadFor3DField$1,hasOwnProperty=Object.prototype.hasOwnProperty;function isEmptyObject$1(s){for(var a in s)if(hasOwnProperty.call(s,a))return!1;return!0}var isEmptyObject_1=isEmptyObject$1,_require$1=RelayModernSelector$1,getDataIDsFromFragment=_require$1.getDataIDsFromFragment,getSelector=_require$1.getSelector,getVariablesFromFragment=_require$1.getVariablesFromFragment,isEmptyObject=isEmptyObject_1,RelayFeatureFlags$1=RelayFeatureFlags_1,_require2$1=stableCopy_1,stableCopy$1=_require2$1.stableCopy,_require3$1=StringInterner,intern=_require3$1.intern;function getFragmentIdentifier$1(s,a){var et=getSelector(s,a),nt=et==null?"null":et.kind==="SingularReaderSelector"?et.owner.identifier:"["+et.selectors.map(function(Dt){return Dt.owner.identifier}).join(",")+"]",at=getVariablesFromFragment(s,a),mt=getDataIDsFromFragment(s,a);if(RelayFeatureFlags$1.ENABLE_GETFRAGMENTIDENTIFIER_OPTIMIZATION){var wt=typeof mt>"u"?"missing":mt==null?"null":Array.isArray(mt)?"["+mt.join(",")+"]":mt;return wt=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?wt:intern(wt,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),nt+"/"+s.name+"/"+(at==null||isEmptyObject(at)?"{}":JSON.stringify(stableCopy$1(at)))+"/"+wt}else{var $t,Ct=($t=JSON.stringify(mt))!==null&&$t!==void 0?$t:"missing";return Ct=RelayFeatureFlags$1.STRING_INTERN_LEVEL<=1?Ct:intern(Ct,RelayFeatureFlags$1.MAX_DATA_ID_LENGTH),nt+"/"+s.name+"/"+JSON.stringify(stableCopy$1(at))+"/"+Ct}}var getFragmentIdentifier_1=getFragmentIdentifier$1,invariant$3=browser$1;function getRefetchMetadata$2(s,a){var et,nt;((et=s.metadata)===null||et===void 0?void 0:et.plural)===!0&&invariant$3(!1);var at=(nt=s.metadata)===null||nt===void 0?void 0:nt.refetch;at==null&&invariant$3(!1);var mt=at.operation.default?at.operation.default:at.operation,wt=at.fragmentPathInResult;typeof mt=="string"&&invariant$3(!1);var $t=at.identifierInfo;return $t!=null&&($t.identifierField==null||typeof $t.identifierField=="string"||invariant$3(!1),$t.identifierQueryVariableName==null||typeof $t.identifierQueryVariableName=="string"||invariant$3(!1)),{fragmentRefPathInResponse:wt,identifierInfo:$t,refetchableRequest:mt,refetchMetadata:at}}var getRefetchMetadata_1=getRefetchMetadata$2,getRefetchMetadata$1=getRefetchMetadata_1,invariant$2=browser$1;function getPaginationMetadata$1(s,a){var et,nt,at=getRefetchMetadata$1(s),mt=at.refetchableRequest,wt=at.refetchMetadata,$t=wt.connection;$t==null&&invariant$2(!1);var Ct=$t.path,Dt=((et=(nt=s.metadata)===null||nt===void 0?void 0:nt.connection)!==null&&et!==void 0?et:[])[0];Dt==null&&invariant$2(!1);var Ft=wt.identifierInfo;return(Ft==null?void 0:Ft.identifierField)==null||typeof Ft.identifierField=="string"||invariant$2(!1),{connectionPathInFragmentData:Ct,identifierField:Ft==null?void 0:Ft.identifierField,paginationRequest:mt,paginationMetadata:$t,stream:Dt.stream===!0}}var getPaginationMetadata_1=getPaginationMetadata$1,_interopRequireDefault$1=interopRequireDefaultExports.default,_defineProperty2=_interopRequireDefault$1(requireDefineProperty()),_objectSpread4=_interopRequireDefault$1(objectSpread2Exports),invariant$1=browser$1;function getPaginationVariables$1(s,a,et,nt,at,mt){var wt,$t=mt.backward,Ct=mt.forward;if(s==="backward"){var Dt;$t!=null&&$t.count!=null&&$t.cursor!=null||invariant$1(!1);var Ft=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},nt),at),{},(Dt={},(0,_defineProperty2.default)(Dt,$t.cursor,et),(0,_defineProperty2.default)(Dt,$t.count,a),Dt));return Ct&&Ct.cursor&&(Ft[Ct.cursor]=null),Ct&&Ct.count&&(Ft[Ct.count]=null),Ft}Ct!=null&&Ct.count!=null&&Ct.cursor!=null||invariant$1(!1);var jt=(0,_objectSpread4.default)((0,_objectSpread4.default)((0,_objectSpread4.default)({},nt),at),{},(wt={},(0,_defineProperty2.default)(wt,Ct.cursor,et),(0,_defineProperty2.default)(wt,Ct.count,a),wt));return $t&&$t.cursor&&(jt[$t.cursor]=null),$t&&$t.count&&(jt[$t.count]=null),jt}var getPaginationVariables_1=getPaginationVariables$1,_interopRequireDefault=interopRequireDefaultExports.default,_createForOfIteratorHelper2=_interopRequireDefault(createForOfIteratorHelperExports),invariant=browser$1;function getValueAtPath$1(s,a){var et=s,nt=(0,_createForOfIteratorHelper2.default)(a),at;try{for(nt.s();!(at=nt.n()).done;){var mt=at.value;if(et==null)return null;typeof mt=="number"?(Array.isArray(et)||invariant(!1),et=et[mt]):(typeof et=="object"&&!Array.isArray(et)||invariant(!1),et=et[mt])}}catch(wt){nt.e(wt)}finally{nt.f()}return et}var getValueAtPath_1=getValueAtPath$1,profileHandlersByName={},defaultProfiler={stop:function s(){}},RelayProfiler$1={profile:function s(a,et){var nt=profileHandlersByName[a];if(nt&&nt.length>0){for(var at=[],mt=nt.length-1;mt>=0;mt--){var wt=nt[mt](a,et);at.unshift(wt)}return{stop:function(Ct){at.forEach(function(Dt){return Dt(Ct)})}}}return defaultProfiler},attachProfileHandler:function s(a,et){profileHandlersByName.hasOwnProperty(a)||(profileHandlersByName[a]=[]),profileHandlersByName[a].push(et)},detachProfileHandler:function s(a,et){profileHandlersByName.hasOwnProperty(a)&&removeFromArray(profileHandlersByName[a],et)}};function removeFromArray(s,a){var et=s.indexOf(a);et!==-1&&s.splice(et,1)}var RelayProfiler_1=RelayProfiler$1,_require=experimental,isErrorResult=_require.isErrorResult,isValueResult=_require.isValueResult,ConnectionHandler=ConnectionHandler$4,ConnectionInterface=ConnectionInterface_1,MutationHandlers=MutationHandlers$2,RelayDefaultHandlerProvider=RelayDefaultHandlerProvider_1,applyOptimisticMutation=applyOptimisticMutation_1,commitLocalUpdate=commitLocalUpdate_1,commitMutation=commitMutation_1,RelayDeclarativeMutationConfig=RelayDeclarativeMutationConfig$4,RelayNetwork=RelayNetwork$1,RelayObservable=RelayObservable_1,RelayQueryResponseCache=RelayQueryResponseCache_1,fetchQuery=fetchQuery_1,fetchQuery_DEPRECATED=fetchQuery_DEPRECATED_1,fetchQueryInternal=fetchQueryInternal$2,GraphQLTag=GraphQLTag$1,PreloadableQueryRegistry=PreloadableQueryRegistry_1,_require2=ClientID,generateClientID=_require2.generateClientID,generateUniqueClientID=_require2.generateUniqueClientID,isClientID=_require2.isClientID,createFragmentSpecResolver=createFragmentSpecResolver_1,createRelayContext=createRelayContext_1,isRelayModernEnvironment=isRelayModernEnvironment_1,_require3=LiveResolverSuspenseSentinel,isSuspenseSentinel=_require3.isSuspenseSentinel,suspenseSentinel=_require3.suspenseSentinel,normalizeResponse=normalizeResponse_1,readInlineData=readInlineData_1,RelayConcreteVariables=RelayConcreteVariables$2,RelayModernEnvironment=RelayModernEnvironment_1,RelayModernOperationDescriptor=RelayModernOperationDescriptor$1,RelayModernRecord=RelayModernRecord$d,RelayModernSelector=RelayModernSelector$1,RelayModernStore=RelayModernStore_1,RelayOperationTracker=RelayOperationTracker_1,RelayRecordSource=RelayRecordSource_1,RelayStoreUtils=RelayStoreUtils_1,ResolverFragments=ResolverFragments$1,ViewerPattern=ViewerPattern$1,requestSubscription=requestSubscription_1,createPayloadFor3DField=createPayloadFor3DField_1,deepFreeze=deepFreeze_1,getFragmentIdentifier=getFragmentIdentifier_1,getPaginationMetadata=getPaginationMetadata_1,getPaginationVariables=getPaginationVariables_1,getPendingOperationsForFragment=getPendingOperationsForFragment_1,getRefetchMetadata=getRefetchMetadata_1,getRelayHandleKey=getRelayHandleKey_1,getRequestIdentifier=getRequestIdentifier_1,getValueAtPath=getValueAtPath_1,_require4=handlePotentialSnapshotErrors_1,handlePotentialSnapshotErrors=_require4.handlePotentialSnapshotErrors,isPromise=isPromise_1,isScalarAndEqual=isScalarAndEqual_1,recycleNodesInto=recycleNodesInto_1,RelayConcreteNode=RelayConcreteNode_1,RelayDefaultHandleKey=RelayDefaultHandleKey$1,RelayError=RelayError$2,RelayFeatureFlags=RelayFeatureFlags_1,RelayProfiler=RelayProfiler_1,RelayReplaySubject=RelayReplaySubject_1,_require5=stableCopy_1,hasCycle=_require5.hasCycle,stableCopy=_require5.stableCopy,withProvidedVariables=withProvidedVariables_1,lib={Environment:RelayModernEnvironment,Network:RelayNetwork,Observable:RelayObservable,QueryResponseCache:RelayQueryResponseCache,RecordSource:RelayRecordSource,Record:RelayModernRecord,ReplaySubject:RelayReplaySubject,Store:RelayModernStore,areEqualSelectors:RelayModernSelector.areEqualSelectors,createFragmentSpecResolver,createNormalizationSelector:RelayModernSelector.createNormalizationSelector,createOperationDescriptor:RelayModernOperationDescriptor.createOperationDescriptor,createReaderSelector:RelayModernSelector.createReaderSelector,createRequestDescriptor:RelayModernOperationDescriptor.createRequestDescriptor,getArgumentValues:RelayStoreUtils.getArgumentValues,getDataIDsFromFragment:RelayModernSelector.getDataIDsFromFragment,getDataIDsFromObject:RelayModernSelector.getDataIDsFromObject,getNode:GraphQLTag.getNode,getFragment:GraphQLTag.getFragment,getInlineDataFragment:GraphQLTag.getInlineDataFragment,getModuleComponentKey:RelayStoreUtils.getModuleComponentKey,getModuleOperationKey:RelayStoreUtils.getModuleOperationKey,getPaginationFragment:GraphQLTag.getPaginationFragment,getPluralSelector:RelayModernSelector.getPluralSelector,getRefetchableFragment:GraphQLTag.getRefetchableFragment,getRequest:GraphQLTag.getRequest,getRequestIdentifier,getSelector:RelayModernSelector.getSelector,getSelectorsFromObject:RelayModernSelector.getSelectorsFromObject,getSingularSelector:RelayModernSelector.getSingularSelector,getStorageKey:RelayStoreUtils.getStorageKey,getVariablesFromFragment:RelayModernSelector.getVariablesFromFragment,getVariablesFromObject:RelayModernSelector.getVariablesFromObject,getVariablesFromPluralFragment:RelayModernSelector.getVariablesFromPluralFragment,getVariablesFromSingularFragment:RelayModernSelector.getVariablesFromSingularFragment,handlePotentialSnapshotErrors,graphql:GraphQLTag.graphql,isErrorResult,isValueResult,isFragment:GraphQLTag.isFragment,isInlineDataFragment:GraphQLTag.isInlineDataFragment,isSuspenseSentinel,suspenseSentinel,isRequest:GraphQLTag.isRequest,readInlineData,MutationTypes:RelayDeclarativeMutationConfig.MutationTypes,RangeOperations:RelayDeclarativeMutationConfig.RangeOperations,DefaultHandlerProvider:RelayDefaultHandlerProvider,ConnectionHandler,MutationHandlers,VIEWER_ID:ViewerPattern.VIEWER_ID,VIEWER_TYPE:ViewerPattern.VIEWER_TYPE,applyOptimisticMutation,commitLocalUpdate,commitMutation,fetchQuery,fetchQuery_DEPRECATED,isRelayModernEnvironment,requestSubscription,ConnectionInterface,PreloadableQueryRegistry,RelayProfiler,createPayloadFor3DField,RelayConcreteNode,RelayError,RelayFeatureFlags,DEFAULT_HANDLE_KEY:RelayDefaultHandleKey.DEFAULT_HANDLE_KEY,FRAGMENTS_KEY:RelayStoreUtils.FRAGMENTS_KEY,FRAGMENT_OWNER_KEY:RelayStoreUtils.FRAGMENT_OWNER_KEY,ID_KEY:RelayStoreUtils.ID_KEY,REF_KEY:RelayStoreUtils.REF_KEY,REFS_KEY:RelayStoreUtils.REFS_KEY,ROOT_ID:RelayStoreUtils.ROOT_ID,ROOT_TYPE:RelayStoreUtils.ROOT_TYPE,TYPENAME_KEY:RelayStoreUtils.TYPENAME_KEY,deepFreeze,generateClientID,generateUniqueClientID,getRelayHandleKey,isClientID,isPromise,isScalarAndEqual,recycleNodesInto,stableCopy,hasCycle,getFragmentIdentifier,getRefetchMetadata,getPaginationMetadata,getPaginationVariables,getPendingOperationsForFragment,getValueAtPath,__internal:{ResolverFragments,OperationTracker:RelayOperationTracker,createRelayContext,getOperationVariables:RelayConcreteVariables.getOperationVariables,getLocalVariables:RelayConcreteVariables.getLocalVariables,fetchQuery:fetchQueryInternal.fetchQuery,fetchQueryDeduped:fetchQueryInternal.fetchQueryDeduped,getPromiseForActiveRequest:fetchQueryInternal.getPromiseForActiveRequest,getObservableForActiveRequest:fetchQueryInternal.getObservableForActiveRequest,normalizeResponse,withProvidedVariables}},relayRuntime=lib,__defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(s,a,et)=>a in s?__defProp$1(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__spreadValues$1=(s,a)=>{for(var et in a||(a={}))__hasOwnProp$1.call(a,et)&&__defNormalProp$1(s,et,a[et]);if(__getOwnPropSymbols$1)for(var et of __getOwnPropSymbols$1(a))__propIsEnum$1.call(a,et)&&__defNormalProp$1(s,et,a[et]);return s},version="6.0.0",stateChangedSubscriptionQuery=`
  subscription stateChanged {
    stateChanged {
      ... on TargetStateChangedEvent {
        __typename
        targetId
        targetType
        timestamp
      }
      ... on NotificationHistoryStateChangedEvent {
        __typename
        timestamp
      }
    }
  }
`;gql`
  ${stateChangedSubscriptionQuery}
`;var ActiveAlertFragment=gql`
  fragment ActiveAlertFragment on ActiveAlert {
    __typename
    id
    filterOptionsJson
    fusionEventId
    subscriptionValue
    user {
      __typename
      id
      connectedWallets {
        address
        walletBlockchain
      }
    }
  }
`,tenantActiveAlertChangedSubscriptionQuery=`
  subscription tenantActiveAlertChanged {
    tenantActiveAlertChanged {
      __typename
      ... on ActiveAlertCreatedEvent {
        __typename
        activeAlert {
          ...ActiveAlertFragment
        }
      }
      ... on ActiveAlertDeletedEvent {
        alertId
        timestamp
        userId
      }
    }
  }
  ${ActiveAlertFragment}
`;gql`
  ${tenantActiveAlertChangedSubscriptionQuery}
`;var __assign=function(){return __assign=Object.assign||function(a){for(var et,nt=1,at=arguments.length;nt<at;nt++){et=arguments[nt];for(var mt in et)Object.prototype.hasOwnProperty.call(et,mt)&&(a[mt]=et[mt])}return a},__assign.apply(this,arguments)},docCache=new Map,fragmentSourceMap=new Map,printFragmentWarnings=!0,experimentalFragmentVariables=!1;function normalize(s){return s.replace(/[\s,]+/g," ").trim()}function cacheKeyFromLoc(s){return normalize(s.source.body.substring(s.start,s.end))}function processFragments(s){var a=new Set,et=[];return s.definitions.forEach(function(nt){if(nt.kind==="FragmentDefinition"){var at=nt.name.value,mt=cacheKeyFromLoc(nt.loc),wt=fragmentSourceMap.get(at);wt&&!wt.has(mt)?printFragmentWarnings&&console.warn("Warning: fragment with name "+at+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):wt||fragmentSourceMap.set(at,wt=new Set),wt.add(mt),a.has(mt)||(a.add(mt),et.push(nt))}else et.push(nt)}),__assign(__assign({},s),{definitions:et})}function stripLoc(s){var a=new Set(s.definitions);a.forEach(function(nt){nt.loc&&delete nt.loc,Object.keys(nt).forEach(function(at){var mt=nt[at];mt&&typeof mt=="object"&&a.add(mt)})});var et=s.loc;return et&&(delete et.startToken,delete et.endToken),s}function parseDocument(s){var a=normalize(s);if(!docCache.has(a)){var et=parse$1(s,{experimentalFragmentVariables,allowLegacyFragmentVariables:experimentalFragmentVariables});if(!et||et.kind!=="Document")throw new Error("Not a valid GraphQL document.");docCache.set(a,stripLoc(processFragments(et)))}return docCache.get(a)}function gql4(s){for(var a=[],et=1;et<arguments.length;et++)a[et-1]=arguments[et];typeof s=="string"&&(s=[s]);var nt=s[0];return a.forEach(function(at,mt){at&&at.kind==="Document"?nt+=at.loc.source.body:nt+=at,nt+=s[mt+1]}),parseDocument(nt)}function resetCaches(){docCache.clear(),fragmentSourceMap.clear()}function disableFragmentWarnings(){printFragmentWarnings=!1}function enableExperimentalFragmentVariables(){experimentalFragmentVariables=!0}function disableExperimentalFragmentVariables(){experimentalFragmentVariables=!1}var extras={gql:gql4,resetCaches,disableFragmentWarnings,enableExperimentalFragmentVariables,disableExperimentalFragmentVariables};(function(s){s.gql=extras.gql,s.resetCaches=extras.resetCaches,s.disableFragmentWarnings=extras.disableFragmentWarnings,s.enableExperimentalFragmentVariables=extras.enableExperimentalFragmentVariables,s.disableExperimentalFragmentVariables=extras.disableExperimentalFragmentVariables})(gql4||(gql4={}));gql4.default=gql4;var lib_default=gql4,ActiveAlertFragmentFragmentDoc=lib_default`
    fragment ActiveAlertFragment on ActiveAlert {
  __typename
  id
  filterOptionsJson
  fusionEventId
  subscriptionValue
  user {
    __typename
    id
    connectedWallets {
      address
      walletBlockchain
    }
  }
}
    `,FilterFragmentFragmentDoc=lib_default`
    fragment FilterFragment on Filter {
  id
  name
  filterType
}
    `,SourceFragmentFragmentDoc=lib_default`
    fragment SourceFragment on Source {
  id
  name
  type
  blockchainAddress
  fusionEventTypeId
  applicableFilters {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,SourceGroupFragmentFragmentDoc=lib_default`
    fragment SourceGroupFragment on SourceGroup {
  id
  name
  sources {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,EmailTargetFragmentFragmentDoc=lib_default`
    fragment EmailTargetFragment on EmailTarget {
  emailAddress
  id
  isConfirmed
  name
}
    `,SmsTargetFragmentFragmentDoc=lib_default`
    fragment SmsTargetFragment on SmsTarget {
  id
  isConfirmed
  name
  phoneNumber
}
    `,TelegramTargetFragmentFragmentDoc=lib_default`
    fragment TelegramTargetFragment on TelegramTarget {
  id
  isConfirmed
  name
  telegramId
  confirmationUrl
}
    `,DiscordTargetFragmentFragmentDoc=lib_default`
    fragment DiscordTargetFragment on DiscordTarget {
  id
  discordAccountId
  discriminator
  isConfirmed
  username
  name
  userStatus
  verificationLink
  discordServerInviteLink
}
    `,SlackChannelTargetFragmentFragmentDoc=lib_default`
    fragment SlackChannelTargetFragment on SlackChannelTarget {
  id
  name
  slackChannelName
  slackWorkspaceName
  verificationLink
  webhookVerificationLink
  verificationStatus
}
    `,Web3TargetFragmentFragmentDoc=lib_default`
    fragment Web3TargetFragment on Web3Target {
  id
  name
  accountId
  walletBlockchain
  targetProtocol
  isConfirmed
  senderAddress
}
    `,TargetGroupFragmentFragmentDoc=lib_default`
    fragment TargetGroupFragment on TargetGroup {
  id
  name
  emailTargets {
    ...EmailTargetFragment
  }
  smsTargets {
    ...SmsTargetFragment
  }
  telegramTargets {
    ...TelegramTargetFragment
  }
  discordTargets {
    ...DiscordTargetFragment
  }
  slackChannelTargets {
    ...SlackChannelTargetFragment
  }
  web3Targets {
    ...Web3TargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${SlackChannelTargetFragmentFragmentDoc}
${Web3TargetFragmentFragmentDoc}`,AlertFragmentFragmentDoc=lib_default`
    fragment AlertFragment on Alert {
  id
  groupName
  name
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,ConnectedWalletFragmentFragmentDoc=lib_default`
    fragment ConnectedWalletFragment on ConnectedWallet {
  address
  walletBlockchain
}
    `,ArgumentErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentErrorFragment on ArgumentError {
  __typename
  message
  paramName
}
    `,ArgumentNullErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentNullErrorFragment on ArgumentNullError {
  __typename
  message
  paramName
}
    `,ArgumentOutOfRangeErrorFragmentFragmentDoc=lib_default`
    fragment ArgumentOutOfRangeErrorFragment on ArgumentOutOfRangeError {
  __typename
  message
  paramName
}
    `,TargetDoesNotExistErrorFragmentFragmentDoc=lib_default`
    fragment TargetDoesNotExistErrorFragment on TargetDoesNotExistError {
  __typename
  message
}
    `,UnexpectedErrorFragmentFragmentDoc=lib_default`
    fragment UnexpectedErrorFragment on UnexpectedError {
  __typename
  message
}
    `,TargetLimitExceededErrorFragmentFragmentDoc=lib_default`
    fragment TargetLimitExceededErrorFragment on TargetLimitExceededError {
  __typename
  message
}
    `,TargetAssignedToExistingTargetGroupErrorFragmentFragmentDoc=lib_default`
    fragment TargetAssignedToExistingTargetGroupErrorFragment on TargetAssignedToExistingTargetGroupError {
  __typename
  message
}
    `,FusionNotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment FusionNotificationHistoryEntryFragment on FusionNotificationHistoryEntry {
  __typename
  id
  createdDate
  read
  fusionEventVariables
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
      customIconUrl
    }
  }
}
    `,NotificationHistoryEntryFragmentFragmentDoc=lib_default`
    fragment NotificationHistoryEntryFragment on NotificationHistoryEntry {
  __typename
  id
  createdDate
  eventId
  read
  sourceAddress
  category
  transactionSignature
  targets {
    type
    name
  }
  detail {
    __typename
    ... on AccountBalanceChangedEventDetails {
      walletBlockchain
      direction
      newValue
      previousValue
      tokenSymbol
      isWhaleWatch
    }
    ... on BroadcastMessageEventDetails {
      messageType: type
      subject
      message
      messageHtml
    }
    ... on DirectTenantMessageEventDetails {
      tenantName
      targetTemplatesJson
      templateVariablesJson
    }
    ... on NftCollectionsReportEventDetails {
      type
      providerName
      sourceLink
      collections {
        collectionId
        name
        imgUrl
        volume1Day
        volume1DayChange
      }
    }
    ... on DAOProposalChangedEventDetails {
      tenantName
      proposalTitle: title
      description
      state
      daoUrl
      proposalUrl
    }
    ... on NftAuctionChangedEventDetails {
      auctionTitle: title
      auctionUrl
      walletBlockchain
      highBidAmount
      highBidSymbol
      imageUrl
    }
    ... on WalletsActivityReportEventDetails {
      providerName
      sourceLink
      walletActivityType: type
      wallets {
        address
        volume1Day
        maxPurchase1Day
        maxPurchaseName
        maxPurchaseImgUrl
        maxPurchaseTokenAddress
      }
    }
    ... on HealthValueOverThresholdEventDetails {
      name
      value
      threshold
      url
    }
    ... on GenericEventDetails {
      sourceName
      notificationTypeName
      genericMessage: message
      genericMessageHtml: messageHtml
      eventDetailsJson
      action {
        name
        url
      }
      icon
    }
  }
}
    `,PageInfoFragmentFragmentDoc=lib_default`
    fragment PageInfoFragment on PageInfo {
  hasNextPage
  endCursor
}
    `,CreateSlackChannelTargetResponseFragmentFragmentDoc=lib_default`
    fragment CreateSlackChannelTargetResponseFragment on CreateSlackChannelTargetResponse {
  slackChannelTarget {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,GetSlackChannelTargetsResponseFragmentFragmentDoc=lib_default`
    fragment GetSlackChannelTargetsResponseFragment on SlackChannelTargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    slackChannelName
    slackWorkspaceName
    verificationLink
    webhookVerificationLink
    verificationStatus
  }
}
    `,TenantConfigFragmentFragmentDoc=lib_default`
    fragment TenantConfigFragment on TenantConfig {
  id
  type
  dataJson
  fusionEvents {
    id
    metadata
    name
  }
}
    `,TenantUserAlertFragmentFragmentDoc=lib_default`
    fragment TenantUserAlertFragment on TenantUserAlert {
  id
  name
  groupName
  filterOptions
  filter {
    ...FilterFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  targetGroup {
    hasVerifiedFcm
    hasVerifiedSms
    hasVerifiedWeb3
    hasVerifiedEmails
    hasVerifiedDiscord
    hasVerifiedTelegram
  }
}
    ${FilterFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}`,TenantConnectedWalletFragmentFragmentDoc=lib_default`
    fragment TenantConnectedWalletFragment on TenantConnectedWallet {
  address
  walletBlockchain
}
    `,TenantUserFragmentFragmentDoc=lib_default`
    fragment TenantUserFragment on TenantUser {
  id
  alerts {
    ...TenantUserAlertFragment
  }
  connectedWallets {
    ...TenantConnectedWalletFragment
  }
}
    ${TenantUserAlertFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}`,AuthorizationFragmentFragmentDoc=lib_default`
    fragment AuthorizationFragment on Authorization {
  token
  expiry
}
    `,UserFragmentFragmentDoc=lib_default`
    fragment UserFragment on User {
  email
  emailConfirmed
  authorization {
    ...AuthorizationFragment
  }
  roles
}
    ${AuthorizationFragmentFragmentDoc}`,UserTopicFragmentFragmentDoc=lib_default`
    fragment UserTopicFragment on UserTopic {
  name
  topicName
  targetCollections
  targetTemplate
}
    `,GetWeb3TargetResponseFragmentFragmentDoc=lib_default`
    fragment GetWeb3TargetResponseFragment on Web3TargetsConnection {
  edges {
    cursor
  }
  pageInfo {
    endCursor
    hasNextPage
    hasPreviousPage
    startCursor
  }
  nodes {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetResponseFragment on VerifyXmtpTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyCbwTargetResponseFragmentFragmentDoc=lib_default`
    fragment VerifyCbwTargetResponseFragment on VerifyCbwTargetResponse {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc=lib_default`
    fragment VerifyXmtpTargetViaXip42ResponseFragment on VerifyXmtpTargetViaXip42Response {
  web3Target {
    id
    name
    accountId
    walletBlockchain
    targetProtocol
    isConfirmed
    senderAddress
  }
}
    `,WebPushTargetFragmentFragmentDoc=lib_default`
    fragment WebPushTargetFragment on WebPushTarget {
  id
  createdDate
  name
}
    `,AddSourceToSourceGroupDocument=lib_default`
    mutation addSourceToSourceGroup($input: AddSourceToSourceGroupInput!) {
  addSourceToSourceGroup(addSourceToSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,BeginLogInByTransactionDocument=lib_default`
    mutation beginLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!) {
  beginLogInByTransaction(
    beginLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress}
  ) {
    nonce
  }
}
    `,BeginLogInWithWeb3Document=lib_default`
    mutation beginLogInWithWeb3($authAddress: String!, $blockchainType: WalletBlockchain!, $dappAddress: String!, $authType: Web3AuthType!, $walletPubkey: String) {
  beginLogInWithWeb3(
    beginLogInWithWeb3Input: {authAddress: $authAddress, blockchainType: $blockchainType, dappAddress: $dappAddress, authType: $authType, walletPubkey: $walletPubkey}
  ) {
    beginLogInWithWeb3Response {
      nonce
    }
  }
}
    `,BroadcastMessageDocument=lib_default`
    mutation broadcastMessage($idempotencyKey: String, $topicName: String!, $targetTemplates: [KeyValuePairOfTargetTypeAndStringInput!], $variables: [KeyValuePairOfStringAndStringInput!], $timestamp: Long!, $walletBlockchain: WalletBlockchain!, $signature: String!) {
  broadcastMessage(
    broadcastMessageInput: {idempotencyKey: $idempotencyKey, sourceAddress: $topicName, targetTemplates: $targetTemplates, variables: $variables, timestamp: $timestamp, walletBlockchain: $walletBlockchain}
    signature: $signature
  ) {
    id
  }
}
    `,CompleteLogInByTransactionDocument=lib_default`
    mutation completeLogInByTransaction($walletAddress: String!, $walletBlockchain: WalletBlockchain!, $dappAddress: String!, $randomUuid: String!, $transactionSignature: String!) {
  completeLogInByTransaction(
    completeLogInByTransactionInput: {walletAddress: $walletAddress, walletBlockchain: $walletBlockchain, dappAddress: $dappAddress, randomUuid: $randomUuid, transactionSignature: $transactionSignature}
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,CompleteLogInWithWeb3Document=lib_default`
    mutation completeLogInWithWeb3($nonce: String!, $signature: String!, $signedMessage: String!, $signingAddress: String!, $signingPubkey: String!) {
  completeLogInWithWeb3(
    completeLogInWithWeb3Input: {nonce: $nonce, signature: $signature, signedMessage: $signedMessage, signingAddress: $signingAddress, signingPubkey: $signingPubkey}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,ConnectWalletDocument=lib_default`
    mutation connectWallet($walletPublicKey: String!, $timestamp: Long!, $signature: String!, $walletBlockchain: WalletBlockchain!, $accountId: String, $connectWalletConflictResolutionTechnique: ConnectWalletConflictResolutionTechnique) {
  connectWallet(
    connectWalletInput: {walletPublicKey: $walletPublicKey, timestamp: $timestamp, walletBlockchain: $walletBlockchain, accountId: $accountId, connectWalletConflictResolutionTechnique: $connectWalletConflictResolutionTechnique}
    signature: $signature
  ) {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,CreateAlertDocument=lib_default`
    mutation createAlert($name: String!, $sourceGroupId: String!, $filterId: String!, $targetGroupId: String!, $filterOptions: String!, $groupName: String!) {
  createAlert(
    alertInput: {name: $name, sourceGroupId: $sourceGroupId, filterId: $filterId, targetGroupId: $targetGroupId, filterOptions: $filterOptions, groupName: $groupName}
  ) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDirectPushAlertDocument=lib_default`
    mutation createDirectPushAlert($input: CreateDirectPushAlertInput!) {
  createDirectPushAlert(createDirectPushAlertInput: $input) {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,CreateDiscordTargetDocument=lib_default`
    mutation createDiscordTarget($name: String!, $value: String!) {
  createDiscordTarget(createTargetInput: {name: $name, value: $value}) {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,CreateEmailTargetDocument=lib_default`
    mutation createEmailTarget($name: String!, $value: String!) {
  createEmailTarget(createTargetInput: {name: $name, value: $value}) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,CreateFusionAlertsDocument=lib_default`
    mutation createFusionAlerts($input: CreateFusionAlertsInput!) {
  createFusionAlerts(input: $input) {
    alerts {
      groupName
      id
      name
      filterOptions
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${ArgumentErrorFragmentFragmentDoc}
${ArgumentNullErrorFragmentFragmentDoc}
${ArgumentOutOfRangeErrorFragmentFragmentDoc}`,CreateSlackChannelTargetDocument=lib_default`
    mutation createSlackChannelTarget($name: String!, $value: String!) {
  createSlackChannelTarget(input: {name: $name, value: $value}) {
    ...CreateSlackChannelTargetResponseFragment
  }
}
    ${CreateSlackChannelTargetResponseFragmentFragmentDoc}`,CreateSmsTargetDocument=lib_default`
    mutation createSmsTarget($name: String!, $value: String!) {
  createSmsTarget(createTargetInput: {name: $name, value: $value}) {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,CreateSourceDocument=lib_default`
    mutation createSource($name: String, $blockchainAddress: String!, $type: SourceType!, $fusionEventTypeId: String) {
  createSource(
    createSourceInput: {name: $name, blockchainAddress: $blockchainAddress, type: $type, fusionEventTypeId: $fusionEventTypeId}
  ) {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,CreateSourceGroupDocument=lib_default`
    mutation createSourceGroup($name: String!, $sourceIds: [String!]!) {
  createSourceGroup(sourceGroupInput: {name: $name, sourceIds: $sourceIds}) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,CreateTargetGroupDocument=lib_default`
    mutation createTargetGroup($name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  createTargetGroup(
    targetGroupInput: {name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,CreateTelegramTargetDocument=lib_default`
    mutation createTelegramTarget($name: String!, $value: String!) {
  createTelegramTarget(createTargetInput: {name: $name, value: $value}) {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,CreateTenantUserDocument=lib_default`
    mutation createTenantUser($input: CreateTenantUserInput!) {
  createTenantUser(createTenantUserInput: $input) {
    ...TenantUserFragment
  }
}
    ${TenantUserFragmentFragmentDoc}`,CreateWeb3TargetDocument=lib_default`
    mutation createWeb3Target($name: String!, $accountId: String!, $walletBlockchain: WalletBlockchain!, $web3TargetProtocol: Web3TargetProtocol!) {
  createWeb3Target(
    createWeb3TargetInput: {name: $name, accountId: $accountId, walletBlockchain: $walletBlockchain, protocol: $web3TargetProtocol}
  ) {
    ...Web3TargetFragment
  }
}
    ${Web3TargetFragmentFragmentDoc}`,CreateWebPushTargetDocument=lib_default`
    mutation createWebPushTarget($vapidPublicKey: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  createWebPushTarget(
    input: {vapidPublicKey: $vapidPublicKey, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetLimitExceededErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}
${TargetLimitExceededErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,DeleteAlertDocument=lib_default`
    mutation deleteAlert($id: String!) {
  deleteAlert(alertId: $id) {
    id
  }
}
    `,DeleteAlertsDocument=lib_default`
    mutation deleteAlerts($input: DeleteAlertsInput!) {
  deleteAlerts(input: $input) {
    deleteAlertsResponse {
      alertsIds
    }
    errors {
      ...ArgumentErrorFragment
      ...ArgumentNullErrorFragment
      ...ArgumentOutOfRangeErrorFragment
    }
  }
}
    ${ArgumentErrorFragmentFragmentDoc}
${ArgumentNullErrorFragmentFragmentDoc}
${ArgumentOutOfRangeErrorFragmentFragmentDoc}`,DeleteDirectPushAlertDocument=lib_default`
    mutation deleteDirectPushAlert($input: DeleteDirectPushAlertInput!) {
  deleteDirectPushAlert(deleteDirectPushAlertInput: $input) {
    id
  }
}
    `,DeleteDiscordTargetDocument=lib_default`
    mutation deleteDiscordTarget($id: String!) {
  deleteDiscordTarget(deleteTargetInput: {id: $id}) {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,DeleteEmailTargetDocument=lib_default`
    mutation deleteEmailTarget($id: String!) {
  deleteEmailTarget(deleteTargetInput: {id: $id}) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,DeleteSlackChannelTargetDocument=lib_default`
    mutation deleteSlackChannelTarget($id: String!) {
  deleteSlackChannelTarget(input: {id: $id}) {
    slackChannelTarget {
      ...SlackChannelTargetFragment
    }
    errors {
      ...TargetAssignedToExistingTargetGroupErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${SlackChannelTargetFragmentFragmentDoc}
${TargetAssignedToExistingTargetGroupErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,DeleteSmsTargetDocument=lib_default`
    mutation deleteSmsTarget($id: String!) {
  deleteSmsTarget(deleteTargetInput: {id: $id}) {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,DeleteSourceGroupDocument=lib_default`
    mutation deleteSourceGroup($id: String!) {
  deleteSourceGroup(sourceGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteTargetGroupDocument=lib_default`
    mutation deleteTargetGroup($id: String!) {
  deleteTargetGroup(targetGroupInput: {id: $id}) {
    id
  }
}
    `,DeleteTelegramTargetDocument=lib_default`
    mutation deleteTelegramTarget($id: String!) {
  deleteTelegramTarget(deleteTargetInput: {id: $id}) {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,DeleteUserAlertDocument=lib_default`
    mutation deleteUserAlert($alertId: String!) {
  deleteUserAlert(alertId: $alertId) {
    id
  }
}
    `,DeleteWeb3TargetDocument=lib_default`
    mutation deleteWeb3Target($id: String!) {
  deleteWeb3Target(deleteTargetInput: {id: $id}) {
    ...Web3TargetFragment
  }
}
    ${Web3TargetFragmentFragmentDoc}`,DeleteWebPushTargetDocument=lib_default`
    mutation deleteWebPushTarget($id: String!) {
  deleteWebPushTarget(input: {id: $id}) {
    success
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${TargetDoesNotExistErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,LogInByOidcDocument=lib_default`
    mutation logInByOidc($dappId: String!, $oidcProvider: OidcProvider!, $idToken: String!) {
  logInByOidc(
    input: {dappId: $dappId, oidcProvider: $oidcProvider, idToken: $idToken}
  ) {
    user {
      ...UserFragment
    }
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromDappDocument=lib_default`
    mutation logInFromDapp($walletBlockchain: WalletBlockchain!, $walletPublicKey: String!, $dappAddress: String!, $timestamp: Long!, $signature: String!, $accountId: String) {
  logInFromDapp(
    dappLogInInput: {walletBlockchain: $walletBlockchain, walletPublicKey: $walletPublicKey, dappAddress: $dappAddress, timestamp: $timestamp, accountId: $accountId}
    signature: $signature
  ) {
    ...UserFragment
  }
}
    ${UserFragmentFragmentDoc}`,LogInFromServiceDocument=lib_default`
    mutation logInFromService($input: ServiceLogInInput!) {
  logInFromService(serviceLogInInput: $input) {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,MarkFusionNotificationHistoryAsReadDocument=lib_default`
    mutation markFusionNotificationHistoryAsRead($ids: [String!]!, $beforeId: String, $readState: NotificationHistoryReadState) {
  markFusionNotificationHistoryAsRead(
    input: {ids: $ids, beforeId: $beforeId, readState: $readState}
  )
}
    `,PublishFusionMessageDocument=lib_default`
    mutation publishFusionMessage($eventTypeId: String!, $variablesJson: String!, $specificWallets: [KeyValuePairOfStringAndWalletBlockchainInput!]) {
  publishFusionMessage(
    publishFusionMessageInput: {eventTypeId: $eventTypeId, variablesJson: $variablesJson, specificWallets: $specificWallets}
  ) {
    eventUuid
  }
}
    `,RefreshAuthorizationDocument=lib_default`
    mutation refreshAuthorization {
  refreshAuthorization {
    ...AuthorizationFragment
  }
}
    ${AuthorizationFragmentFragmentDoc}`,RemoveSourceFromSourceGroupDocument=lib_default`
    mutation removeSourceFromSourceGroup($input: RemoveSourceFromSourceGroupInput!) {
  removeSourceFromSourceGroup(removeSourceFromSourceGroupInput: $input) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,SendEmailTargetVerificationRequestDocument=lib_default`
    mutation sendEmailTargetVerificationRequest($targetId: String!) {
  sendEmailTargetVerificationRequest(
    sendTargetConfirmationRequestInput: {targetId: $targetId}
  ) {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,SendMessageDocument=lib_default`
    mutation sendMessage($input: SendMessageInput!) {
  sendMessage(sendMessageInput: $input)
}
    `,UpdateSourceGroupDocument=lib_default`
    mutation updateSourceGroup($id: String!, $name: String!, $sourceIds: [String!]!) {
  updateSourceGroup: createSourceGroup(
    sourceGroupInput: {id: $id, name: $name, sourceIds: $sourceIds}
  ) {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,UpdateTargetGroupDocument=lib_default`
    mutation updateTargetGroup($id: String!, $name: String!, $emailTargetIds: [String!]!, $smsTargetIds: [String!]!, $telegramTargetIds: [String!]!, $discordTargetIds: [String!]!, $slackChannelTargetIds: [String!]!, $web3TargetIds: [String!]!) {
  updateTargetGroup: createTargetGroup(
    targetGroupInput: {id: $id, name: $name, emailTargetIds: $emailTargetIds, smsTargetIds: $smsTargetIds, telegramTargetIds: $telegramTargetIds, discordTargetIds: $discordTargetIds, slackChannelTargetIds: $slackChannelTargetIds, web3TargetIds: $web3TargetIds}
  ) {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,UpdateUserSettingsDocument=lib_default`
    mutation updateUserSettings($input: UserSettingsInput!) {
  updateUserSettings(userSettings: $input) {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,UpdateWebPushTargetDocument=lib_default`
    mutation updateWebPushTarget($id: String!, $endpoint: String!, $auth: String!, $p256dh: String!) {
  updateWebPushTarget(
    input: {id: $id, endpoint: $endpoint, auth: $auth, p256dh: $p256dh}
  ) {
    webPushTarget {
      ...WebPushTargetFragment
    }
    errors {
      ...TargetDoesNotExistErrorFragment
      ...UnexpectedErrorFragment
    }
  }
}
    ${WebPushTargetFragmentFragmentDoc}
${TargetDoesNotExistErrorFragmentFragmentDoc}
${UnexpectedErrorFragmentFragmentDoc}`,VerifyCbwTargetDocument=lib_default`
    mutation verifyCbwTarget($input: VerifyCbwTargetInput!) {
  verifyCbwTarget(input: $input) {
    ...VerifyCbwTargetResponseFragment
  }
}
    ${VerifyCbwTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetDocument=lib_default`
    mutation verifyXmtpTarget($input: VerifyXmtpTargetInput!) {
  verifyXmtpTarget(input: $input) {
    ...VerifyXmtpTargetResponseFragment
  }
}
    ${VerifyXmtpTargetResponseFragmentFragmentDoc}`,VerifyXmtpTargetViaXip42Document=lib_default`
    mutation verifyXmtpTargetViaXip42($input: VerifyXmtpTargetViaXip42Input!) {
  verifyXmtpTargetViaXip42(input: $input) {
    ...VerifyXmtpTargetViaXip42ResponseFragment
  }
}
    ${VerifyXmtpTargetViaXip42ResponseFragmentFragmentDoc}`,FetchDataDocument=lib_default`
    query fetchData {
  alert {
    ...AlertFragment
  }
  sourceGroup {
    ...SourceGroupFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  source {
    ...SourceFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
  emailTarget {
    ...EmailTargetFragment
  }
  smsTarget {
    ...SmsTargetFragment
  }
  telegramTarget {
    ...TelegramTargetFragment
  }
  discordTarget {
    ...DiscordTargetFragment
  }
  filter {
    ...FilterFragment
  }
}
    ${AlertFragmentFragmentDoc}
${SourceGroupFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${SourceFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}
${EmailTargetFragmentFragmentDoc}
${SmsTargetFragmentFragmentDoc}
${TelegramTargetFragmentFragmentDoc}
${DiscordTargetFragmentFragmentDoc}
${FilterFragmentFragmentDoc}`,FetchFusionDataDocument=lib_default`
    query fetchFusionData {
  alert {
    ...AlertFragment
  }
  connectedWallet {
    ...ConnectedWalletFragment
  }
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${AlertFragmentFragmentDoc}
${ConnectedWalletFragmentFragmentDoc}
${TargetGroupFragmentFragmentDoc}`,FindTenantConfigDocument=lib_default`
    query findTenantConfig($input: FindTenantConfigInput!) {
  findTenantConfig(findTenantConfigInput: $input) {
    ...TenantConfigFragment
  }
}
    ${TenantConfigFragmentFragmentDoc}`,GetActiveAlertsDocument=lib_default`
    query getActiveAlerts($first: Int, $after: String, $fusionEventId: String!) {
  activeAlerts(
    after: $after
    first: $first
    activeAlertsInput: {fusionEventId: $fusionEventId}
  ) {
    nodes {
      ...ActiveAlertFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${ActiveAlertFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetAlertsDocument=lib_default`
    query getAlerts {
  alert {
    ...AlertFragment
  }
}
    ${AlertFragmentFragmentDoc}`,GetConfigurationForDappDocument=lib_default`
    query getConfigurationForDapp($dappAddress: String!) {
  configurationForDapp(getConfigurationForDappInput: {dappAddress: $dappAddress}) {
    supportedSmsCountryCodes
    supportedTargetTypes
  }
}
    `,GetConnectedWalletsDocument=lib_default`
    query getConnectedWallets {
  connectedWallet {
    ...ConnectedWalletFragment
  }
}
    ${ConnectedWalletFragmentFragmentDoc}`,GetDiscordTargetsDocument=lib_default`
    query getDiscordTargets {
  discordTarget {
    ...DiscordTargetFragment
  }
}
    ${DiscordTargetFragmentFragmentDoc}`,GetEmailTargetsDocument=lib_default`
    query getEmailTargets {
  emailTarget {
    ...EmailTargetFragment
  }
}
    ${EmailTargetFragmentFragmentDoc}`,GetFiltersDocument=lib_default`
    query getFilters {
  filter {
    ...FilterFragment
  }
}
    ${FilterFragmentFragmentDoc}`,GetFusionNotificationHistoryDocument=lib_default`
    query getFusionNotificationHistory($after: String, $first: Int, $includeHidden: Boolean, $includeRead: Boolean) {
  fusionNotificationHistory(
    after: $after
    first: $first
    includeHidden: $includeHidden
    includeRead: $includeRead
  ) {
    nodes {
      ...FusionNotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${FusionNotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetNotificationHistoryDocument=lib_default`
    query getNotificationHistory($after: String, $first: Int) {
  notificationHistory(after: $after, first: $first) {
    nodes {
      ...NotificationHistoryEntryFragment
    }
    pageInfo {
      ...PageInfoFragment
    }
  }
}
    ${NotificationHistoryEntryFragmentFragmentDoc}
${PageInfoFragmentFragmentDoc}`,GetSlackChannelTargetsDocument=lib_default`
    query getSlackChannelTargets($after: String, $first: Int, $ids: [String!]) {
  slackChannelTargets(input: {after: $after, first: $first, ids: $ids}) {
    ...GetSlackChannelTargetsResponseFragment
  }
}
    ${GetSlackChannelTargetsResponseFragmentFragmentDoc}`,GetSmsTargetsDocument=lib_default`
    query getSmsTargets {
  smsTarget {
    ...SmsTargetFragment
  }
}
    ${SmsTargetFragmentFragmentDoc}`,GetSourceConnectionDocument=lib_default`
    query getSourceConnection($input: GetSourcesInput, $first: Int, $after: String) {
  sources(getSourcesInput: $input, first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...SourceFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${SourceFragmentFragmentDoc}`,GetSourceGroupsDocument=lib_default`
    query getSourceGroups {
  sourceGroup {
    ...SourceGroupFragment
  }
}
    ${SourceGroupFragmentFragmentDoc}`,GetSourcesDocument=lib_default`
    query getSources {
  source {
    ...SourceFragment
  }
}
    ${SourceFragmentFragmentDoc}`,GetTargetGroupsDocument=lib_default`
    query getTargetGroups {
  targetGroup {
    ...TargetGroupFragment
  }
}
    ${TargetGroupFragmentFragmentDoc}`,GetTelegramTargetsDocument=lib_default`
    query getTelegramTargets {
  telegramTarget {
    ...TelegramTargetFragment
  }
}
    ${TelegramTargetFragmentFragmentDoc}`,GetTenantConnectedWalletDocument=lib_default`
    query getTenantConnectedWallet($input: GetTenantConnectedWalletInput, $first: Int, $after: String) {
  tenantConnectedWallet(
    getTenantConnectedWalletInput: $input
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantConnectedWalletFragment
      user {
        ...TenantUserFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantConnectedWalletFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTenantUserDocument=lib_default`
    query getTenantUser($first: Int, $after: String) {
  tenantUser(first: $first, after: $after) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...TenantUserFragment
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${TenantUserFragmentFragmentDoc}`,GetTopicsDocument=lib_default`
    query getTopics {
  topics {
    nodes {
      ...UserTopicFragment
    }
  }
}
    ${UserTopicFragmentFragmentDoc}`,GetUnreadNotificationHistoryCountDocument=lib_default`
    query getUnreadNotificationHistoryCount($cardId: String) {
  unreadNotificationHistoryCount(input: {cardId: $cardId}) {
    count
  }
}
    `,GetUserSettingsDocument=lib_default`
    query getUserSettings {
  userSettings {
    detailedAlertHistoryEnabled
    userHasChatEnabled
    ftuStage
  }
}
    `,GetWeb3TargetsDocument=lib_default`
    query getWeb3Targets {
  web3Targets {
    ...GetWeb3TargetResponseFragment
  }
}
    ${GetWeb3TargetResponseFragmentFragmentDoc}`,GetWebPushTargetsDocument=lib_default`
    query getWebPushTargets($ids: [String!], $first: Int, $after: String) {
  webPushTargets(
    input: {ids: $ids, first: $first, after: $after}
    first: $first
    after: $after
  ) {
    pageInfo {
      ...PageInfoFragment
    }
    nodes {
      ...WebPushTargetFragment
    }
    edges {
      cursor
      node {
        ...WebPushTargetFragment
      }
    }
  }
}
    ${PageInfoFragmentFragmentDoc}
${WebPushTargetFragmentFragmentDoc}`,defaultWrapper=(s,a,et,nt)=>s();function getSdk(s,a=defaultWrapper){return{addSourceToSourceGroup(et,nt){return a(at=>s.request(AddSourceToSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"addSourceToSourceGroup","mutation",et)},beginLogInByTransaction(et,nt){return a(at=>s.request(BeginLogInByTransactionDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"beginLogInByTransaction","mutation",et)},beginLogInWithWeb3(et,nt){return a(at=>s.request(BeginLogInWithWeb3Document,et,__spreadValues$1(__spreadValues$1({},nt),at)),"beginLogInWithWeb3","mutation",et)},broadcastMessage(et,nt){return a(at=>s.request(BroadcastMessageDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"broadcastMessage","mutation",et)},completeLogInByTransaction(et,nt){return a(at=>s.request(CompleteLogInByTransactionDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"completeLogInByTransaction","mutation",et)},completeLogInWithWeb3(et,nt){return a(at=>s.request(CompleteLogInWithWeb3Document,et,__spreadValues$1(__spreadValues$1({},nt),at)),"completeLogInWithWeb3","mutation",et)},connectWallet(et,nt){return a(at=>s.request(ConnectWalletDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"connectWallet","mutation",et)},createAlert(et,nt){return a(at=>s.request(CreateAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createAlert","mutation",et)},createDirectPushAlert(et,nt){return a(at=>s.request(CreateDirectPushAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createDirectPushAlert","mutation",et)},createDiscordTarget(et,nt){return a(at=>s.request(CreateDiscordTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createDiscordTarget","mutation",et)},createEmailTarget(et,nt){return a(at=>s.request(CreateEmailTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createEmailTarget","mutation",et)},createFusionAlerts(et,nt){return a(at=>s.request(CreateFusionAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createFusionAlerts","mutation",et)},createSlackChannelTarget(et,nt){return a(at=>s.request(CreateSlackChannelTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSlackChannelTarget","mutation",et)},createSmsTarget(et,nt){return a(at=>s.request(CreateSmsTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSmsTarget","mutation",et)},createSource(et,nt){return a(at=>s.request(CreateSourceDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSource","mutation",et)},createSourceGroup(et,nt){return a(at=>s.request(CreateSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createSourceGroup","mutation",et)},createTargetGroup(et,nt){return a(at=>s.request(CreateTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createTargetGroup","mutation",et)},createTelegramTarget(et,nt){return a(at=>s.request(CreateTelegramTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createTelegramTarget","mutation",et)},createTenantUser(et,nt){return a(at=>s.request(CreateTenantUserDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createTenantUser","mutation",et)},createWeb3Target(et,nt){return a(at=>s.request(CreateWeb3TargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createWeb3Target","mutation",et)},createWebPushTarget(et,nt){return a(at=>s.request(CreateWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"createWebPushTarget","mutation",et)},deleteAlert(et,nt){return a(at=>s.request(DeleteAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteAlert","mutation",et)},deleteAlerts(et,nt){return a(at=>s.request(DeleteAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteAlerts","mutation",et)},deleteDirectPushAlert(et,nt){return a(at=>s.request(DeleteDirectPushAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteDirectPushAlert","mutation",et)},deleteDiscordTarget(et,nt){return a(at=>s.request(DeleteDiscordTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteDiscordTarget","mutation",et)},deleteEmailTarget(et,nt){return a(at=>s.request(DeleteEmailTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteEmailTarget","mutation",et)},deleteSlackChannelTarget(et,nt){return a(at=>s.request(DeleteSlackChannelTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteSlackChannelTarget","mutation",et)},deleteSmsTarget(et,nt){return a(at=>s.request(DeleteSmsTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteSmsTarget","mutation",et)},deleteSourceGroup(et,nt){return a(at=>s.request(DeleteSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteSourceGroup","mutation",et)},deleteTargetGroup(et,nt){return a(at=>s.request(DeleteTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteTargetGroup","mutation",et)},deleteTelegramTarget(et,nt){return a(at=>s.request(DeleteTelegramTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteTelegramTarget","mutation",et)},deleteUserAlert(et,nt){return a(at=>s.request(DeleteUserAlertDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteUserAlert","mutation",et)},deleteWeb3Target(et,nt){return a(at=>s.request(DeleteWeb3TargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteWeb3Target","mutation",et)},deleteWebPushTarget(et,nt){return a(at=>s.request(DeleteWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"deleteWebPushTarget","mutation",et)},logInByOidc(et,nt){return a(at=>s.request(LogInByOidcDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"logInByOidc","mutation",et)},logInFromDapp(et,nt){return a(at=>s.request(LogInFromDappDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"logInFromDapp","mutation",et)},logInFromService(et,nt){return a(at=>s.request(LogInFromServiceDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"logInFromService","mutation",et)},markFusionNotificationHistoryAsRead(et,nt){return a(at=>s.request(MarkFusionNotificationHistoryAsReadDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"markFusionNotificationHistoryAsRead","mutation",et)},publishFusionMessage(et,nt){return a(at=>s.request(PublishFusionMessageDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"publishFusionMessage","mutation",et)},refreshAuthorization(et,nt){return a(at=>s.request(RefreshAuthorizationDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"refreshAuthorization","mutation",et)},removeSourceFromSourceGroup(et,nt){return a(at=>s.request(RemoveSourceFromSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"removeSourceFromSourceGroup","mutation",et)},sendEmailTargetVerificationRequest(et,nt){return a(at=>s.request(SendEmailTargetVerificationRequestDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"sendEmailTargetVerificationRequest","mutation",et)},sendMessage(et,nt){return a(at=>s.request(SendMessageDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"sendMessage","mutation",et)},updateSourceGroup(et,nt){return a(at=>s.request(UpdateSourceGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateSourceGroup","mutation",et)},updateTargetGroup(et,nt){return a(at=>s.request(UpdateTargetGroupDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateTargetGroup","mutation",et)},updateUserSettings(et,nt){return a(at=>s.request(UpdateUserSettingsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateUserSettings","mutation",et)},updateWebPushTarget(et,nt){return a(at=>s.request(UpdateWebPushTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"updateWebPushTarget","mutation",et)},verifyCbwTarget(et,nt){return a(at=>s.request(VerifyCbwTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"verifyCbwTarget","mutation",et)},verifyXmtpTarget(et,nt){return a(at=>s.request(VerifyXmtpTargetDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"verifyXmtpTarget","mutation",et)},verifyXmtpTargetViaXip42(et,nt){return a(at=>s.request(VerifyXmtpTargetViaXip42Document,et,__spreadValues$1(__spreadValues$1({},nt),at)),"verifyXmtpTargetViaXip42","mutation",et)},fetchData(et,nt){return a(at=>s.request(FetchDataDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"fetchData","query",et)},fetchFusionData(et,nt){return a(at=>s.request(FetchFusionDataDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"fetchFusionData","query",et)},findTenantConfig(et,nt){return a(at=>s.request(FindTenantConfigDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"findTenantConfig","query",et)},getActiveAlerts(et,nt){return a(at=>s.request(GetActiveAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getActiveAlerts","query",et)},getAlerts(et,nt){return a(at=>s.request(GetAlertsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getAlerts","query",et)},getConfigurationForDapp(et,nt){return a(at=>s.request(GetConfigurationForDappDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getConfigurationForDapp","query",et)},getConnectedWallets(et,nt){return a(at=>s.request(GetConnectedWalletsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getConnectedWallets","query",et)},getDiscordTargets(et,nt){return a(at=>s.request(GetDiscordTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getDiscordTargets","query",et)},getEmailTargets(et,nt){return a(at=>s.request(GetEmailTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getEmailTargets","query",et)},getFilters(et,nt){return a(at=>s.request(GetFiltersDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getFilters","query",et)},getFusionNotificationHistory(et,nt){return a(at=>s.request(GetFusionNotificationHistoryDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getFusionNotificationHistory","query",et)},getNotificationHistory(et,nt){return a(at=>s.request(GetNotificationHistoryDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getNotificationHistory","query",et)},getSlackChannelTargets(et,nt){return a(at=>s.request(GetSlackChannelTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSlackChannelTargets","query",et)},getSmsTargets(et,nt){return a(at=>s.request(GetSmsTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSmsTargets","query",et)},getSourceConnection(et,nt){return a(at=>s.request(GetSourceConnectionDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSourceConnection","query",et)},getSourceGroups(et,nt){return a(at=>s.request(GetSourceGroupsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSourceGroups","query",et)},getSources(et,nt){return a(at=>s.request(GetSourcesDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getSources","query",et)},getTargetGroups(et,nt){return a(at=>s.request(GetTargetGroupsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTargetGroups","query",et)},getTelegramTargets(et,nt){return a(at=>s.request(GetTelegramTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTelegramTargets","query",et)},getTenantConnectedWallet(et,nt){return a(at=>s.request(GetTenantConnectedWalletDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTenantConnectedWallet","query",et)},getTenantUser(et,nt){return a(at=>s.request(GetTenantUserDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTenantUser","query",et)},getTopics(et,nt){return a(at=>s.request(GetTopicsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getTopics","query",et)},getUnreadNotificationHistoryCount(et,nt){return a(at=>s.request(GetUnreadNotificationHistoryCountDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getUnreadNotificationHistoryCount","query",et)},getUserSettings(et,nt){return a(at=>s.request(GetUserSettingsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getUserSettings","query",et)},getWeb3Targets(et,nt){return a(at=>s.request(GetWeb3TargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getWeb3Targets","query",et)},getWebPushTargets(et,nt){return a(at=>s.request(GetWebPushTargetsDocument,et,__spreadValues$1(__spreadValues$1({},nt),at)),"getWebPushTargets","query",et)}}}var NotifiService=class{constructor(s,a){this._notifiSubService=a,this._typedClient=getSdk(s)}setJwt(s){this._jwt=s,this._notifiSubService.setJwt(s)}async logOut(){this._jwt=void 0,this._notifiSubService.setJwt(void 0)}async addSourceToSourceGroup(s){const a=this._requestHeaders();return this._typedClient.addSourceToSourceGroup(s,a)}async beginLogInByTransaction(s){const a=this._requestHeaders();return this._typedClient.beginLogInByTransaction(s,a)}async broadcastMessage(s){const a=this._requestHeaders();return this._typedClient.broadcastMessage(s,a)}async completeLogInByTransaction(s){var a,et;const nt=this._requestHeaders(),at=await this._typedClient.completeLogInByTransaction(s,nt),mt=(et=(a=at.completeLogInByTransaction)==null?void 0:a.authorization)==null?void 0:et.token;return mt!==void 0&&this._onAuthComplete(mt),at}async connectWallet(s){const a=this._requestHeaders();return await this._typedClient.connectWallet(s,a)}async createAlert(s){const a=this._requestHeaders();return this._typedClient.createAlert(s,a)}async createFusionAlerts(s){const a=this._requestHeaders();return this._typedClient.createFusionAlerts(s,a)}async createDirectPushAlert(s){const a=this._requestHeaders();return this._typedClient.createDirectPushAlert(s,a)}async createEmailTarget(s){const a=this._requestHeaders();return this._typedClient.createEmailTarget(s,a)}async deleteEmailTarget(s){const a=this._requestHeaders();return this._typedClient.deleteEmailTarget(s,a)}async createDiscordTarget(s){const a=this._requestHeaders();return this._typedClient.createDiscordTarget(s,a)}async deleteDiscordTarget(s){const a=this._requestHeaders();return this._typedClient.deleteDiscordTarget(s,a)}async createSlackChannelTarget(s){const a=this._requestHeaders();return this._typedClient.createSlackChannelTarget(s,a)}async deleteSlackChannelTarget(s){const a=this._requestHeaders();return this._typedClient.deleteSlackChannelTarget(s,a)}async createWeb3Target(s){const a=this._requestHeaders();return this._typedClient.createWeb3Target(s,a)}async deleteWeb3Target(s){const a=this._requestHeaders();return this._typedClient.deleteWeb3Target(s,a)}async createSmsTarget(s){const a=this._requestHeaders();return this._typedClient.createSmsTarget(s,a)}async deleteSmsTarget(s){const a=this._requestHeaders();return this._typedClient.deleteSmsTarget(s,a)}async createSource(s){const a=this._requestHeaders();return this._typedClient.createSource(s,a)}async createSourceGroup(s){const a=this._requestHeaders();return this._typedClient.createSourceGroup(s,a)}async createTargetGroup(s){const a=this._requestHeaders();return this._typedClient.createTargetGroup(s,a)}async deleteTelegramTarget(s){const a=this._requestHeaders();return this._typedClient.deleteTelegramTarget(s,a)}async createTenantUser(s){const a=this._requestHeaders();return this._typedClient.createTenantUser(s,a)}async createTelegramTarget(s){const a=this._requestHeaders();return this._typedClient.createTelegramTarget(s,a)}async deleteAlert(s){const a=this._requestHeaders();return this._typedClient.deleteAlert(s,a)}async deleteAlerts(s){const a=this._requestHeaders();return this._typedClient.deleteAlerts(s,a)}async DeleteDirectPushAlert(s){const a=this._requestHeaders();return this._typedClient.deleteDirectPushAlert(s,a)}async deleteUserAlert(s){const a=this._requestHeaders();return this._typedClient.deleteUserAlert(s,a)}async deleteSourceGroup(s){const a=this._requestHeaders();return this._typedClient.deleteSourceGroup(s,a)}async deleteTargetGroup(s){const a=this._requestHeaders();return this._typedClient.deleteTargetGroup(s,a)}async fetchData(s){const a=this._requestHeaders();return this._typedClient.fetchData(s,a)}async fetchFusionData(s){const a=this._requestHeaders();return this._typedClient.fetchFusionData(s,a)}async findTenantConfig(s){const a=this._requestHeaders();return this._typedClient.findTenantConfig(s,a)}async getAlerts(s){const a=this._requestHeaders();return this._typedClient.getAlerts(s,a)}async getActiveAlerts(s){const a=this._requestHeaders();return this._typedClient.getActiveAlerts(s,a)}async getConfigurationForDapp(s){const a=this._requestHeaders();return this._typedClient.getConfigurationForDapp(s,a)}async getConnectedWallets(s){const a=this._requestHeaders();return this._typedClient.getConnectedWallets(s,a)}async getEmailTargets(s){const a=this._requestHeaders();return this._typedClient.getEmailTargets(s,a)}async getDiscordTargets(s){const a=this._requestHeaders();return this._typedClient.getDiscordTargets(s,a)}async getSlackChannelTargets(s){const a=this._requestHeaders();return this._typedClient.getSlackChannelTargets(s,a)}async getWeb3Targets(s){const a=this._requestHeaders();return this._typedClient.getWeb3Targets(s,a)}async getFilters(s){const a=this._requestHeaders();return this._typedClient.getFilters(s,a)}async getFusionNotificationHistory(s){const a=this._requestHeaders();return this._typedClient.getFusionNotificationHistory(s,a)}async getNotificationHistory(s){const a=this._requestHeaders();return this._typedClient.getNotificationHistory(s,a)}async getSmsTargets(s){const a=this._requestHeaders();return this._typedClient.getSmsTargets(s,a)}async getSourceConnection(s){const a=this._requestHeaders();return this._typedClient.getSourceConnection(s,a)}async getSourceGroups(s){const a=this._requestHeaders();return this._typedClient.getSourceGroups(s,a)}async getSources(s){const a=this._requestHeaders();return this._typedClient.getSources(s,a)}async getTargetGroups(s){const a=this._requestHeaders();return this._typedClient.getTargetGroups(s,a)}async getTelegramTargets(s){const a=this._requestHeaders();return this._typedClient.getTelegramTargets(s,a)}async getTenantConnectedWallets(s){const a=this._requestHeaders();return this._typedClient.getTenantConnectedWallet(s,a)}async getTenantUser(s){const a=this._requestHeaders();return this._typedClient.getTenantUser(s,a)}async getTopics(s){const a=this._requestHeaders();return this._typedClient.getTopics(s,a)}async getUnreadNotificationHistoryCount(s){const a=this._requestHeaders();return this._typedClient.getUnreadNotificationHistoryCount(s,a)}subscribeNotificationHistoryStateChanged(s,a,et){return this._notifiSubService.subscribe(this._jwt,stateChangedSubscriptionQuery,s,a,et)}async wsDispose(){this._notifiSubService.disposeClient()}addEventListener(s,a,et,nt){return this._notifiSubService.addEventListener(s,a,et,nt)}removeEventListener(s,a){return this._notifiSubService.removeEventListener(s,a)}async getUserSettings(s){const a=this._requestHeaders();return this._typedClient.getUserSettings(s,a)}async logInFromDapp(s){var a,et;const nt=this._requestHeaders(),at=await this._typedClient.logInFromDapp(s,nt),mt=(et=(a=at.logInFromDapp)==null?void 0:a.authorization)==null?void 0:et.token;return mt!==void 0&&this._onAuthComplete(mt),at}async logInFromService(s){var a;const et=this._requestHeaders(),nt=await this._typedClient.logInFromService(s,et),at=(a=nt.logInFromService)==null?void 0:a.token;return at!==void 0&&this._onAuthComplete(at),nt}async logInByOidc(s){var a,et,nt;const at=this._requestHeaders(),mt=await this._typedClient.logInByOidc(s,at),wt=(nt=(et=(a=mt.logInByOidc)==null?void 0:a.user)==null?void 0:et.authorization)==null?void 0:nt.token;return wt!==void 0&&this._onAuthComplete(wt),mt}async markFusionNotificationHistoryAsRead(s){const a=this._requestHeaders();return this._typedClient.markFusionNotificationHistoryAsRead(s,a)}async updateUserSettings(s){const a=this._requestHeaders();return this._typedClient.updateUserSettings(s,a)}async refreshAuthorization(s){var a;const et=this._requestHeaders(),nt=await this._typedClient.refreshAuthorization(s,et),at=(a=nt.refreshAuthorization)==null?void 0:a.token;return at!==void 0&&this._onAuthComplete(at),nt}async removeSourceFromSourceGroup(s){const a=this._requestHeaders();return this._typedClient.removeSourceFromSourceGroup(s,a)}async sendEmailTargetVerificationRequest(s){const a=this._requestHeaders();return this._typedClient.sendEmailTargetVerificationRequest(s,a)}async sendMessage(s){const a=this._requestHeaders();return this._typedClient.sendMessage(s,a)}async updateSourceGroup(s){const a=this._requestHeaders();return this._typedClient.updateSourceGroup(s,a)}async updateTargetGroup(s){const a=this._requestHeaders();return this._typedClient.updateTargetGroup(s,a)}async beginLogInWithWeb3(s){const a=this._requestHeaders();return this._typedClient.beginLogInWithWeb3(s,a)}async completeLogInWithWeb3(s){var a,et,nt;const at=this._requestHeaders(),mt=await this._typedClient.completeLogInWithWeb3(s,at),wt=(nt=(et=(a=mt==null?void 0:mt.completeLogInWithWeb3)==null?void 0:a.user)==null?void 0:et.authorization)==null?void 0:nt.token;return wt!==void 0&&this._onAuthComplete(wt),mt}async verifyCbwTarget(s){const a=this._requestHeaders();return this._typedClient.verifyCbwTarget(s,a)}async verifyXmtpTarget(s){const a=this._requestHeaders();return this._typedClient.verifyXmtpTarget(s,a)}async verifyXmtpTargetViaXip42(s){const a=this._requestHeaders();return this._typedClient.verifyXmtpTargetViaXip42(s,a)}async createWebPushTarget(s){const a=this._requestHeaders();return this._typedClient.createWebPushTarget(s,a)}async updateWebPushTarget(s){const a=this._requestHeaders();return this._typedClient.updateWebPushTarget(s,a)}async deleteWebPushTarget(s){const a=this._requestHeaders();return this._typedClient.deleteWebPushTarget(s,a)}async getWebPushTargets(s){const a=this._requestHeaders();return this._typedClient.getWebPushTargets(s,a)}_onAuthComplete(s){this._jwt=s,this._notifiSubService.setJwt(s)}_requestHeaders(){const a={"X-Request-Id":v4(),"X-Notifi-Client-Version":version};return this._jwt!==void 0&&(a.Authorization=`Bearer ${this._jwt}`),a}},NotifiEventEmitter=class{constructor(){this.listeners={}}on(s,a,et){this.listeners[s]||(this.listeners[s]={}),this.listeners[s][et]=a}off(s,a){var et;(et=this.listeners[s])!=null&&et[a]&&(this.listeners[s][a].subscription.unsubscribe(),delete this.listeners[s][a])}emit(s,a,...et){var nt,at;(nt=this.listeners[s])!=null&&nt[a]&&(at=this.listeners[s])!=null&&at[a]&&this.listeners[s][a].callback(...et)}},NotifiSubscriptionService=class{constructor(s,a){this.wsurl=s,this.webSocketImpl=a,this.eventEmitter=new NotifiEventEmitter,this.setJwt=et=>{this._jwt=et},this.addEventListener=(et,nt,at,mt)=>{const wt=Math.random().toString(36).slice(2,11),$t={subscriptionQuery:"",id:wt,onError:at,onComplete:mt};switch(et){case"stateChanged":$t.subscriptionQuery=stateChangedSubscriptionQuery;break;case"tenantActiveAlertChanged":$t.subscriptionQuery=tenantActiveAlertChangedSubscriptionQuery;break;default:throw new Error("Unknown event")}const Ct=this._subscribe($t);if(!Ct)throw new Error("NotifiSubscriptionService.addEventListener: Subscription failed");return this.eventEmitter.on(et,{callback:nt,subscription:Ct},wt),wt},this.removeEventListener=(et,nt)=>this.eventEmitter.off(et,nt),this._subscribe=({subscriptionQuery:et,id:nt,onError:at,onComplete:mt})=>(this._wsClient||this._initializeClient(),!this._wsClient||!this._jwt?null:this._toObservable(this._wsClient,{query:et,extensions:{type:"start"}}).subscribe({next:Ct=>{switch(et){case stateChangedSubscriptionQuery:const Dt=getSubscriptionData("stateChanged",Ct);if(!Dt)throw new Error("Invalid stateChanged event data");this.eventEmitter.emit("stateChanged",nt,Dt);break;case tenantActiveAlertChangedSubscriptionQuery:const Ft=getSubscriptionData("tenantActiveAlertChanged",Ct);if(!Ft)throw new Error("Invalid tenantActiveAlertChanged event data");this.eventEmitter.emit("tenantActiveAlertChanged",nt,Ft);break;default:console.warn("Unknown subscription query:",et)}},error:at,complete:mt})),this._initializeClient=()=>{if(!this._jwt)throw new Error("NotifiSubscriptionService._initializeClient: Missing JWT");this._wsClient=createClient({url:this.wsurl,connectionParams:{Authorization:`Bearer ${this._jwt}`},webSocketImpl:this.webSocketImpl})},this.disposeClient=()=>{this._wsClient&&(this._jwt=void 0,this._wsClient.terminate(),this._wsClient.dispose())},this.subscribe=(et,nt,at,mt,wt)=>(this._jwt=et,this._wsClient||this._initializeClient(),this._wsClient?this._toObservable(this._wsClient,{query:nt,extensions:{type:"start"}}).subscribe({next:Dt=>{at&&at(Dt)},error:Dt=>{mt&&Dt instanceof Error&&mt(Dt)},complete:()=>{wt&&wt()}}):null)}_toObservable(s,a){return relayRuntime.Observable.create(et=>s.subscribe(a,{next:nt=>et.next(nt),error:nt=>{nt instanceof Error&&et.error(nt)},complete:()=>et.complete()}))}},getSubscriptionData=(s,a)=>{if(typeof a!="object"||a===null||!("data"in a))return null;const{data:et}=a;return typeof et=="object"&&et!==null&&s in et?et[s]:null},browser=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")};const WebSocket$1=getDefaultExportFromCjs$2(browser);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(s,a,et)=>a in s?__defProp(s,a,{enumerable:!0,configurable:!0,writable:!0,value:et}):s[a]=et,__spreadValues=(s,a)=>{for(var et in a||(a={}))__hasOwnProp.call(a,et)&&__defNormalProp(s,et,a[et]);if(__getOwnPropSymbols)for(var et of __getOwnPropSymbols(a))__propIsEnum.call(a,et)&&__defNormalProp(s,et,a[et]);return s},__spreadProps=(s,a)=>__defProps(s,__getOwnPropDescs(a)),COSMOS_BLOCKCHAINS=["COSMOS","OSMOSIS","NEUTRON","ELYS","ARCHWAY","AXELAR","AGORIC","ORAI","KAVA","CELESTIA","NIBIRU","DYMENSION","PERSISTENCE","DYDX","XION"],EVM_BLOCKCHAINS=["ETHEREUM","POLYGON","ARBITRUM","AVALANCHE","BINANCE","BOB","MONAD","BASE","BLAST","CELO","MANTLE","SCROLL","LINEA","MANTA","BERACHAIN","OPTIMISM","THE_ROOT_NETWORK","SEI","SONIC","SWELLCHAIN","ROME","ZKSYNC"],APTOS_BLOCKCHAINS=["APTOS","MOVEMENT"],SOLANA_BLOCKCHAINS=["SOLANA"],BTC_BLOCKCHAINS=["BITCOIN","ARCH"],UNMAINTAINED_BLOCKCHAINS=["ACALA","EVMOS","ABSTRACT"];function isUnmaintainedBlockchain(s){return UNMAINTAINED_BLOCKCHAINS.includes(s)}function isUsingUnmaintainedBlockchain(s){return isUnmaintainedBlockchain(s.walletBlockchain)}function isCosmosBlockchain(s){return COSMOS_BLOCKCHAINS.includes(s)}function isUsingCosmosBlockchain(s){return isCosmosBlockchain(s.walletBlockchain)}function isEvmBlockchain(s){return EVM_BLOCKCHAINS.includes(s)}function isUsingEvmBlockchain(s){return isEvmBlockchain(s.walletBlockchain)}function isAptosBlockchain(s){return APTOS_BLOCKCHAINS.includes(s)}function isUsingAptosBlockchain(s){return isAptosBlockchain(s.walletBlockchain)}function isBtcBlockchain(s){return BTC_BLOCKCHAINS.includes(s)}function isUsingBtcBlockchain(s){return isBtcBlockchain(s.walletBlockchain)}function isSolanaBlockchain(s){return SOLANA_BLOCKCHAINS.includes(s)}function isUsingSolanaBlockchain(s){return isSolanaBlockchain(s.walletBlockchain)}var checkIsConfigWithPublicKeyAndAddress=s=>"accountAddress"in s,checkIsConfigWithPublicKey=s=>"walletPublicKey"in s,checkIsConfigWithDelegate=s=>"delegatedAddress"in s,checkIsConfigWithOidc=s=>s.walletBlockchain==="OFF_CHAIN",envUrl=(s,a)=>{s||(s="Production");let et="";switch(s){case"Development":et="://api.dev.notifi.network/gql";break;case"Local":et="://localhost:5001/gql";break;case"Production":et="://api.notifi.network/gql";break;case"Staging":et="://api.stg.notifi.network/gql"}return`${a==="websocket"?"wss":s==="Local"?"http":"https"}${et}`},notNullOrEmpty=s=>s!=null,packFilterOptions=s=>s===null?"{}":JSON.stringify(s),createRefResolver=s=>(a,et,nt)=>{if(et.type==="value")return et.value;{if(et.ref===null)throw new Error(`Invalid configuration: Ref ${a} is null`);const at=nt[et.ref];if(s(at))return at;throw new Error(`Invalid value provided for ${a}: ${at}`)}},resolveStringRef=createRefResolver(s=>typeof s=="string"),resolveNumberRef=createRefResolver(s=>typeof s=="number"&&!Number.isNaN(s)),resolveStringArrayRef=createRefResolver(s=>Array.isArray(s)&&s.every(a=>typeof a=="string")),resolveCheckRatioArrayRef=createRefResolver(s=>Array.isArray(s)&&s.every(a=>typeof a=="object"&&typeof a.type=="string"&&typeof a.ratio=="number"&&!Number.isNaN(a.ratio))),areIdsEqual=(s,a)=>{const et=new Set(s);return a.length===et.size&&a.every(nt=>nt!==void 0&&nt.id!==void 0&&et.has(nt.id))},ensureDirectPushSource=async(s,a,et)=>{const at=(await s.getSources({})).source,mt=at==null?void 0:at.find(wt=>wt!==void 0&&wt.type==="DIRECT_PUSH");if(mt===void 0)throw new Error("Failed to identify direct push source");return mt},ensureFusionSource=async(s,a,et)=>{const nt=resolveStringRef(a.name,a.sourceAddress,et),at=resolveStringRef(a.name,a.fusionEventId,et),wt=(await s.getSources({})).source,$t=wt==null?void 0:wt.find(Ft=>Ft!==void 0&&Ft.type==="FUSION_SOURCE"&&Ft.blockchainAddress===nt&&Ft.fusionEventTypeId===at);if($t!==void 0)return $t;const Dt=(await s.createSource({type:"FUSION_SOURCE",blockchainAddress:nt,fusionEventTypeId:at})).createSource;if(Dt===void 0)throw new Error("Failed to create source");return Dt},ensureBroadcastSource=async(s,a,et)=>{const at=(await s.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const mt=resolveStringRef(a.name,a.broadcastId,et),wt=at.find(Dt=>(Dt==null?void 0:Dt.type)==="BROADCAST"&&Dt.blockchainAddress===mt);if(wt!==void 0)return wt;const Ct=(await s.createSource({type:"BROADCAST",blockchainAddress:mt})).createSource;if(Ct===void 0)throw new Error("Failed to create source");return Ct},ensureTradingPairSource=async(s,a,et)=>{const at=(await s.getSources({})).source,mt=at==null?void 0:at.find(wt=>(wt==null?void 0:wt.type)==="DIRECT_PUSH");if(mt===void 0)throw new Error("Failed to identify trading pair source (=directPush)");return mt},ensurePriceChangeSources=async(s,a,et)=>{const at=(await s.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const mt=[],wt=new Set(a.tokenIds);if(at.forEach($t=>{($t==null?void 0:$t.type)==="COIN_PRICE_CHANGES"&&(wt.delete($t.blockchainAddress),mt.push($t))}),wt.size>0){let $t=Promise.resolve();wt.forEach(Ct=>{$t=$t.then(async()=>{const Ft=(await s.createSource({type:"COIN_PRICE_CHANGES",blockchainAddress:Ct})).createSource;Ft!==void 0&&mt.push(Ft)})}),await $t}return mt},ensureWalletBalanceSources=async(s,a,et)=>{const at=(await s.getConnectedWallets({})).connectedWallet;if(!at)throw new Error("Failed to fetch connected wallets");const mt=at.map(Ft=>{var jt;const Nt=(Ut=>{switch(Ut){case"ACALA":return"ACALA_WALLET";case"APTOS":return"APTOS_WALLET";case"MOVEMENT":return"MOVEMENT_WALLET";case"ARBITRUM":return"ARBITRUM_WALLET";case"AVALANCHE":return"AVALANCHE_WALLET";case"BINANCE":return"BINANCE_WALLET";case"ETHEREUM":return"ETHEREUM_WALLET";case"THE_ROOT_NETWORK":return"THE_ROOT_NETWORK";case"BASE":return"ETHEREUM_WALLET";case"BLAST":return"BLAST_WALLET";case"CELO":return"CELO_WALLET";case"MANTLE":return"MANTLE_WALLET";case"LINEA":return"LINEA_WALLET";case"MONAD":return"MONAD_WALLET";case"MANTA":return"MANTA_WALLET";case"SCROLL":return"SCROLL_WALLET";case"POLYGON":return"POLYGON_WALLET";case"SOLANA":return"SOLANA_WALLET";case"OPTIMISM":return"OPTIMISM_WALLET";case"SUI":return"SUI_WALLET";case"ZKSYNC":return"ZKSYNC_WALLET";case"ARCHWAY":return"ARCHWAY_WALLET";case"ELYS":return"ELYS_WALLET";case"AXELAR":return"AXELAR_WALLET";case"NEUTRON":return"NEUTRON_WALLET";case"BERACHAIN":return"BERACHAIN_WALLET";case"XION":return"XION_WALLET";case"AGORIC":return"AGORIC_WALLET";case"ORAI":return"ORAI_WALLET";case"KAVA":return"KAVA_WALLET";case"CELESTIA":return"CELESTIA_WALLET";case"COSMOS":return"COSMOS_WALLET";case"DYMENSION":return"DYMENSION_WALLET";case"PERSISTENCE":return"PERSISTENCE_WALLET";case"DYDX":return"DYDX_WALLET";default:throw new Error("Unsupported walletType")}})(Ft==null?void 0:Ft.walletBlockchain),Lt=(jt=Ft==null?void 0:Ft.address)!=null?jt:"";return{name:`${Nt} ${Lt}`,blockchainAddress:Lt,type:Nt}}),$t=(await s.getSources({})).source;if($t===void 0)throw new Error("Failed to fetch sources");const Ct=mt.map(async Ft=>{const jt=$t.find(Lt=>(Lt==null?void 0:Lt.name)===Ft.name);if(jt)return jt;const{createSource:Nt}=await s.createSource(Ft);if(!Nt)throw new Error(`Failed to create ${Ft.type} source`);return Nt});return await Promise.all(Ct)},normalizeSourceAddress=(s,a)=>{switch(s){case"ETHEREUM_WALLET":case"POLYGON_WALLET":case"ARBITRUM_WALLET":case"BINANCE_WALLET":case"OPTIMISM_WALLET":case"AVALANCHE_WALLET":case"ZKSYNC_WALLET":case"BENQI":case"DELTA_PRIME":case"DELTA_PRIME_LENDING_RATES":case"MOVEMENT_WALLET":case"APTOS_WALLET":return normalizeHexString(a);default:return a}},normalizeHexString=s=>{let a=s;return s!==""&&(a=s.toLowerCase(),a.startsWith("0x")||(a="0x"+a)),a},ensureCustomSources=async(s,a,et)=>{const at=(await s.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const mt=resolveStringRef(a.name,a.sourceAddress,et),wt=normalizeSourceAddress(a.sourceType,mt),$t=at.find(Ft=>(Ft==null?void 0:Ft.type)===a.sourceType&&Ft.blockchainAddress===wt);if($t!==void 0)return $t;const Dt=(await s.createSource({type:a.sourceType,blockchainAddress:wt})).createSource;if(Dt===void 0)throw new Error("Failed to create source");return Dt},ensureXMTPSources=async(s,a,et)=>{const at=(await s.getSources({})).source;if(at===void 0)throw new Error("Failed to fetch sources");const $t=resolveStringArrayRef(a.name,a.XMTPTopics,et).map(Dt=>({name:Dt,blockchainAddress:Dt,type:"XMTP"})).map(async Dt=>{const Ft=at.find(Nt=>(Nt==null?void 0:Nt.type)==="XMTP"&&Nt.name===Dt.name);if(Ft)return Ft;const{createSource:jt}=await s.createSource(Dt);if(!jt)throw new Error("Failed to create XMTP source");return jt});return await Promise.all($t)},ensureHealthCheckSources=async(s,a,et)=>{const at=(await s.getSources({})).source,mt=at==null?void 0:at.find(wt=>(wt==null?void 0:wt.type)==="DIRECT_PUSH");if(mt===void 0)throw new Error("Failed to identify Health Check source (=directPush)");return mt},ensureSources=async(s,a,et)=>{switch(a.type){case"directPush":return[await ensureDirectPushSource(s)];case"broadcast":return[await ensureBroadcastSource(s,a,et)];case"tradingPair":return[await ensureTradingPairSource(s)];case"priceChange":return await ensurePriceChangeSources(s,a);case"walletBalance":return await ensureWalletBalanceSources(s);case"custom":return[await ensureCustomSources(s,a,et)];case"XMTP":return await ensureXMTPSources(s,a,et);case"healthCheck":return[await ensureHealthCheckSources(s)];case"fusionToggle":case"fusion":return[await ensureFusionSource(s,a,et)];case"label":throw new Error("Unsupported event type");default:throw new Error("Unsupported event type")}},ensureSourceGroup=async(s,a,et)=>{var nt,at;const wt=(nt=(await s.getSourceGroups({})).sourceGroup)==null?void 0:nt.find(Dt=>Dt!==void 0&&Dt.name===a);if(wt===void 0){const Ft=(await s.createSourceGroup({name:a,sourceIds:et})).createSourceGroup;if(Ft===void 0)throw new Error("Failed to create source group");return Ft}if(areIdsEqual(et,(at=wt.sources)!=null?at:[]))return wt;const Ct=(await s.updateSourceGroup({id:wt.id,name:a,sourceIds:et})).updateSourceGroup;if(Ct===void 0)throw new Error("Failed to update source group");return Ct},getDirectPushFilter=(s,a,et)=>{var nt;const at=(nt=s.applicableFilters)==null?void 0:nt.find($t=>($t==null?void 0:$t.filterType)==="DIRECT_TENANT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter");const wt={directMessageType:resolveStringRef(a.name,a.directPushId,et)};return{filter:at,filterOptions:wt}},getBroadcastFilter=(s,a,et)=>{var nt;const at=(nt=s.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)==="BROADCAST_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter");return{filter:at,filterOptions:{}}},tradingPairInputsValidator=s=>!(typeof s.direction!="string"||typeof s.price!="number"||typeof s.pair!="string"),getTradingPairFilter=(s,a,et)=>{var nt;const at=(nt=s.applicableFilters)==null?void 0:nt.find(Ct=>(Ct==null?void 0:Ct.filterType)==="DIRECT_TENANT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve TradingPair filter (=directMessage)");const mt=resolveStringArrayRef(a.name,a.tradingPairs,et);if(mt.length===0)throw new Error("No trading pairs found");const wt=tradingPairInputsValidator(et)?et.pair:mt[0],$t=tradingPairInputsValidator(et)?et.price.toFixed(8):"1.00000000";return{filter:at,filterOptions:{tradingPair:wt,values:{and:[{key:"spotPrice",op:et.direction==="above"?"gt":"lt",value:$t}]}}}},getPriceChangeFilter=(s,a,et)=>{const nt=s.flatMap(at=>{var mt;return(mt=at.applicableFilters)!=null?mt:[]}).find(at=>(at==null?void 0:at.filterType)==="COIN_PRICE_CHANGE_EVENTS");if(nt===void 0)throw new Error("Failed to retrieve filter");return{filter:nt,filterOptions:{}}},getWalletBalanceSourceFilter=(s,a,et)=>{var nt;const at=(nt=s.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)==="BALANCE");if(at===void 0)throw new Error("Failed to retrieve filter: wallet balance");return{filter:at,filterOptions:{}}},getFusionSourceFilter=(s,a,et)=>{var nt,at;const mt=(nt=s.applicableFilters)==null?void 0:nt.find($t=>($t==null?void 0:$t.filterType)==="FUSION_SOURCE");if(mt===void 0)throw new Error("Failed to retrieve fusion source filter");let wt={};if(a.selectedUIType==="TOGGLE"||a.selectedUIType==="MULTI_THRESHOLD")a.alertFrequency!==void 0&&(wt={alertFrequency:a.alertFrequency});else if(a.selectedUIType==="HEALTH_CHECK"){const $t=`${a.name}__healthRatio`;et[$t]||(et[`${a.name}__healthRatio`]=a.checkRatios[1].ratio);const Ct=resolveNumberRef($t,{type:"ref",ref:$t},et),Dt=`${a.name}__healthThresholdDirection`;et[Dt]||(et[Dt]=a.checkRatios[0].type==="above"?"above":"below");const Ft=(at=resolveStringRef(Dt,{type:"ref",ref:Dt},et))!=null?at:a.checkRatios[0].ratio;if(!Ct||!Ft)throw new Error("Failed to retrieve health ratio or direction");wt={alertFrequency:a.alertFrequency,threshold:a.numberType==="percentage"?Ct/100:Ct,thresholdDirection:Ft==="above"?"above":"below"}}return{filter:mt,filterOptions:wt}},getCustomFilterOptions=(s,a)=>{var et,nt;switch(s.selectedUIType){case"TOGGLE":return s.filterOptions;case"HEALTH_CHECK":{const at=`${s.name}__healthRatio`,mt=(et=resolveNumberRef(at,{type:"ref",ref:at},a))!=null?et:s.checkRatios[0].ratio,wt=`${s.name}__healthThresholdDirection`,$t=(nt=resolveStringRef(wt,{type:"ref",ref:wt},a))!=null?nt:s.checkRatios[0].ratio;if(!mt||!$t)throw new Error("Failed to retrieve health ratio or direction");return{alertFrequency:s.alertFrequency,threshold:s.numberType==="percentage"?mt/100:mt,thresholdDirection:$t==="above"?"above":"below"}}}},getCustomFilter=(s,a,et)=>{var nt;const at=(nt=s.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)===a.filterType);if(at===void 0)throw new Error("Failed to retrieve filter");return{filter:at,filterOptions:getCustomFilterOptions(a,et)}},getXMTPFilter=(s,a,et)=>{var nt;const at=(nt=s.applicableFilters)==null?void 0:nt.find(mt=>(mt==null?void 0:mt.filterType)==="WEB3_CHAT_MESSAGES");if(at===void 0)throw new Error("Failed to retrieve filter: XMTP");return{filter:at,filterOptions:{}}},checkInputsIsWithIndex=s=>"index"in s,getHealthCheckFilter=(s,a,et)=>{var nt;const at=(nt=s.applicableFilters)==null?void 0:nt.find(Dt=>(Dt==null?void 0:Dt.filterType)==="VALUE_THRESHOLD");if(at===void 0)throw new Error("Failed to retrieve filter: healthCheck");const mt=resolveCheckRatioArrayRef(a.name,a.checkRatios,et);let wt=mt[0].ratio,$t=mt[0].type;const Ct=Dt=>"customPercentage"in Dt&&"thresholdDirection"in Dt;return checkInputsIsWithIndex(et)?(wt=mt[et.index].ratio,$t=mt[et.index].type):Ct(et)&&(wt=et.customPercentage,$t=et.thresholdDirection),{filter:at,filterOptions:{alertFrequency:a.alertFrequency,threshold:wt,thresholdDirection:$t}}},ensureSourceAndFilters=async(s,a,et)=>{const nt=await ensureSources(s,a,et),at=await ensureSourceGroup(s,a.name,nt.map(mt=>mt.id));switch(a.type){case"directPush":{const{filter:mt,filterOptions:wt}=getDirectPushFilter(nt[0],a,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"broadcast":{const{filter:mt,filterOptions:wt}=getBroadcastFilter(nt[0]);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"tradingPair":{if(!tradingPairInputsValidator(et))throw new Error("Invalid tradingPair inputs");const{filter:mt,filterOptions:wt}=getTradingPairFilter(nt[0],a,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"priceChange":{const{filter:mt,filterOptions:wt}=getPriceChangeFilter(nt);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"custom":{const{filter:mt,filterOptions:wt}=getCustomFilter(nt[0],a,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"XMTP":{const{filter:mt,filterOptions:wt}=getXMTPFilter(nt[0]);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"healthCheck":{const{filter:mt,filterOptions:wt}=getHealthCheckFilter(nt[0],a,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"label":throw new Error("Unsupported event type");case"walletBalance":{const{filter:mt,filterOptions:wt}=getWalletBalanceSourceFilter(nt[0]);return{sourceGroup:at,filter:mt,filterOptions:wt}}case"fusionToggle":case"fusion":{const{filter:mt,filterOptions:wt}=getFusionSourceFilter(nt[0],a,et);return{sourceGroup:at,filter:mt,filterOptions:wt}}default:throw new Error("Unsupported event type")}},ensureTarget=(s,a,et,nt)=>async(at,mt)=>{if(mt===void 0)return;const wt=await a(at),$t=nt!==void 0?nt(mt):mt,Ct=wt==null?void 0:wt.find(Ft=>et(Ft)===$t);return Ct!==void 0?Ct.id:(await s(at,$t)).id},ensureEmail=ensureTarget(async(s,a)=>{const nt=(await s.createEmailTarget({name:a.toLowerCase(),value:a.toLowerCase()})).createEmailTarget;if(nt===void 0)throw new Error("Failed to create email target");return nt},async s=>(await s.getEmailTargets({})).emailTarget,s=>{var a;return(a=s==null?void 0:s.emailAddress)==null?void 0:a.toLowerCase()},s=>s.toLowerCase()),ensureSms=ensureTarget(async(s,a)=>{const nt=(await s.createSmsTarget({name:a,value:a})).createSmsTarget;if(nt===void 0)throw new Error("Failed to create sms target");return nt},async s=>(await s.getSmsTargets({})).smsTarget,s=>s==null?void 0:s.phoneNumber),renewTelegram=ensureTarget(async(s,a)=>{const nt=(await s.createTelegramTarget({name:a,value:a})).createTelegramTarget;if(nt===void 0)throw new Error("Failed to create telegramTarget");return nt},async s=>(await s.getTelegramTargets({})).telegramTarget,s=>s==null?void 0:s.name,()=>"Default"),ensureDiscord=ensureTarget(async(s,a)=>{const nt=(await s.createDiscordTarget({name:a,value:a})).createDiscordTarget;if(nt===void 0)throw new Error("Failed to create discordTarget");return nt},async s=>(await s.getDiscordTargets({})).discordTarget,s=>s==null?void 0:s.name,()=>"Default"),ensureSlack=ensureTarget(async(s,a)=>{const nt=(await s.createSlackChannelTarget({name:a,value:a})).createSlackChannelTarget.slackChannelTarget;if(nt===void 0)throw new Error("Failed to create slackTarget");return nt},async s=>{var a;return(a=(await s.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:a.nodes},s=>s==null?void 0:s.name,()=>"Default"),ensureWeb3=ensureTarget(async(s,a)=>{const nt=(await s.createWeb3Target({name:a,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target;if(nt===void 0||nt.id===void 0)throw new Error("Failed to create web3Target");return nt},async s=>{var a;return(a=(await s.getWeb3Targets({})).web3Targets)==null?void 0:a.nodes},s=>s==null?void 0:s.name,()=>"Default"),ensureTelegram=ensureTarget(async(s,a)=>{const nt=(await s.createTelegramTarget({name:a.toLowerCase(),value:a.toLowerCase()})).createTelegramTarget;if(nt===void 0)throw new Error("Failed to create telegramTarget");return nt},async s=>(await s.getTelegramTargets({})).telegramTarget,s=>{var a;return(a=s==null?void 0:s.telegramId)==null?void 0:a.toLowerCase()},s=>s.toLowerCase()),getEnvPrefix=s=>{switch(s){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createInMemoryStorageDriver=s=>{let a=`${getEnvPrefix(s.env||"Production")}:${s.tenantId}:${s.walletBlockchain}`;checkIsConfigWithOidc(s)?a+=`:${s.userAccount}`:checkIsConfigWithPublicKeyAndAddress(s)?a+=`:${s.accountAddress}:${s.authenticationKey}`:checkIsConfigWithDelegate(s)?a+=`:${s.delegatorAddress}`:a+=`:${s.walletPublicKey}`;const et={};return{get:at=>{const mt=`${a}:${at}`;let wt=null;if(mt in et){const $t=et[mt];wt=JSON.parse($t)}return Promise.resolve(wt)},set:(at,mt)=>{const wt=`${a}:${at}`;return mt===null?delete et[wt]:et[wt]=JSON.stringify(mt),Promise.resolve()},has:at=>{const mt=`${a}:${at}`;return Promise.resolve(mt in et)}}},KEY_AUTHORIZATION="authorization",KEY_ROLES="roles",NotifiFrontendStorage=class{constructor(s){this._driver=s}getAuthorization(){return this._driver.get(KEY_AUTHORIZATION)}setAuthorization(s){return this._driver.set(KEY_AUTHORIZATION,s)}hasAuthorization(){return this._driver.has(KEY_AUTHORIZATION)}getRoles(){return this._driver.get(KEY_ROLES)}setRoles(s){return this._driver.set(KEY_ROLES,s)}hasRoles(){return this._driver.has(KEY_ROLES)}};localforage.config({name:"notifi"});var getEnvPrefix2=s=>{switch(s||(s="Production"),s){case"Production":return"notifi-jwt";case"Development":return"notifi-jwt:dev";case"Staging":return"notifi-jwt:stg";case"Local":return"notifi-jwt:local"}},createLocalForageStorageDriver=s=>{let a=`${getEnvPrefix2(s.env)}:${s.tenantId}:${s.walletBlockchain}`;return checkIsConfigWithOidc(s)?a+=`:${s.userAccount}`:checkIsConfigWithPublicKeyAndAddress(s)?a+=`:${s.accountAddress}:${s.authenticationKey}`:checkIsConfigWithDelegate(s)?a+=`:${s.delegatorAddress}`:a+=`:${s.walletPublicKey}`,{get:async nt=>await localforage.getItem(`${a}:${nt}`),set:async(nt,at)=>{await localforage.setItem(`${a}:${nt}`,at)},has:async nt=>(await localforage.keys()).indexOf(`${a}:${nt}`)>=0}},alterTarget=async s=>{var a,et,nt,at,mt,wt;const $t=s.service;if(s.type==="create")switch(s.target){case"email":return(a=(await $t.createEmailTarget({name:s.value,value:s.value})).createEmailTarget)==null?void 0:a.id;case"phoneNumber":return(et=(await $t.createSmsTarget({name:s.value,value:s.value})).createSmsTarget)==null?void 0:et.id;case"telegram":return(nt=(await $t.createTelegramTarget({name:s.value,value:s.value})).createTelegramTarget)==null?void 0:nt.id;case"discord":return(at=(await $t.createDiscordTarget({name:s.value,value:s.value})).createDiscordTarget)==null?void 0:at.id;case"slack":return(mt=(await $t.createSlackChannelTarget({name:s.value,value:s.value})).createSlackChannelTarget.slackChannelTarget)==null?void 0:mt.id;case"wallet":return(wt=(await $t.createWeb3Target({name:s.value,accountId:"",walletBlockchain:"OFF_CHAIN",web3TargetProtocol:"XMTP"})).createWeb3Target)==null?void 0:wt.id}if(s.type==="delete")switch(s.target){case"email":await $t.deleteEmailTarget({id:s.id});return;case"phoneNumber":await $t.deleteSmsTarget({id:s.id});return;case"telegram":await $t.deleteTelegramTarget({id:s.id});return;case"discord":await $t.deleteDiscordTarget({id:s.id});return;case"slack":await $t.deleteSlackChannelTarget({id:s.id});return;case"wallet":await $t.deleteWeb3Target({id:s.id});return}},alterTargetGroupImpl=async(s,a)=>{var et,nt,at,mt,wt,$t,Ct,Dt,Ft,jt,Nt,Lt,Ut;const Vt=(await a.getTargetGroups({})).targetGroup,Yt=Vt==null?void 0:Vt.find(Sr=>(Sr==null?void 0:Sr.name)===s.name);if(!Yt)throw new Error("Target group not found");const er={type:"remove"},[tr,nr,sr,dr,br,vr]=await Promise.all([updateTargets("email",(et=s.email)!=null?et:er,a),updateTargets("phoneNumber",(nt=s.phoneNumber)!=null?nt:er,a),updateTargets("telegram",(at=s.telegram)!=null?at:er,a),updateTargets("discord",(mt=s.discord)!=null?mt:er,a),updateTargets("slack",(wt=s.slack)!=null?wt:er,a),updateTargets("wallet",($t=s.wallet)!=null?$t:er,a)]);if(areIdsEqual(tr,(Ct=Yt.emailTargets)!=null?Ct:[])&&areIdsEqual(nr,(Dt=Yt.smsTargets)!=null?Dt:[])&&areIdsEqual(sr,(Ft=Yt.telegramTargets)!=null?Ft:[])&&areIdsEqual(dr,(jt=Yt.discordTargets)!=null?jt:[])&&areIdsEqual(br,(Nt=Yt.slackChannelTargets)!=null?Nt:[])&&areIdsEqual(vr,(Lt=Yt.web3Targets)!=null?Lt:[]))return Yt;const $r=(await a.updateTargetGroup({id:Yt.id,name:(Ut=Yt.name)!=null?Ut:Yt.id,emailTargetIds:tr,smsTargetIds:nr,telegramTargetIds:sr,discordTargetIds:dr,slackChannelTargetIds:br,web3TargetIds:vr})).updateTargetGroup;if($r===void 0)throw new Error("Failed to update target group");return $r},updateTargets=async(s,a,et)=>{var nt,at;if(a.type==="remove")return[];let mt;switch(s){case"email":mt=(await et.getEmailTargets({})).emailTarget;break;case"phoneNumber":mt=(await et.getSmsTargets({})).smsTarget;break;case"telegram":mt=(await et.getTelegramTargets({})).telegramTarget;break;case"discord":mt=(await et.getDiscordTargets({})).discordTarget;break;case"slack":mt=(nt=(await et.getSlackChannelTargets({})).slackChannelTargets)==null?void 0:nt.nodes;break;case"wallet":mt=(at=(await et.getWeb3Targets({})).web3Targets)==null?void 0:at.nodes;break}if(a.type==="delete"&&(mt!=null&&mt.find(wt=>(wt==null?void 0:wt.id)===a.id)))return await alterTarget({type:a.type,id:a.id,target:s,service:et}),[];if(a.type==="ensure"){const wt=mt==null?void 0:mt.find(Ct=>(Ct==null?void 0:Ct.name)===a.name);if(wt)return[wt.id];const $t=await alterTarget({type:"create",value:a.name,target:s,service:et});if(!$t)throw new Error("Failed to create target");return[$t]}return[]},SIGNING_MESSAGE_WITHOUT_NONCE=`Sign in with Notifi 

    No password needed or gas is needed. 

    Clicking Approve only means you have proved this wallet is owned by you! 

    This request will not trigger any transaction or cost any gas fees. 

    Use of our website and service is subject to our terms of service and privacy policy.`,SIGNING_MESSAGE=`${SIGNING_MESSAGE_WITHOUT_NONCE} 
 
 'Nonce:' `,CHAINS_WITH_LOGIN_WEB3=[...APTOS_BLOCKCHAINS,...COSMOS_BLOCKCHAINS,...SOLANA_BLOCKCHAINS];function isLoginWeb3Params(s){return CHAINS_WITH_LOGIN_WEB3.includes(s.walletBlockchain)}var NotifiFrontendClient=class{constructor(s,a,et){this._configuration=s,this._service=a,this._storage=et,this._clientRandomUuid=null,this._userState=null}get userState(){return this._userState}async initialize(){const[s,a]=await Promise.all([this._storage.getAuthorization(),this._storage.getRoles()]);let et=s;if(et===null){this._service.setJwt(void 0);const $t={status:"loggedOut"};return this._userState=$t,$t}const nt=new Date(et.expiry),at=new Date;if(nt<=at){this._service.setJwt(void 0);const $t={status:"expired",authorization:et};return this._userState=$t,$t}const mt=new Date;if(mt.setDate(at.getDate()+7),nt<mt)try{const Ct=(await this._service.refreshAuthorization({})).refreshAuthorization;Ct!==void 0&&(this._storage.setAuthorization(Ct),et=Ct)}catch($t){return console.error("Failed to refresh Notifi token:",$t),await this.logOut()}this._service.setJwt(et.token);const wt={status:"authenticated",authorization:et,roles:a??[]};return this._userState=wt,wt}async logOut(){await Promise.all([this._storage.setAuthorization(null),this._storage.setRoles(null),this._service.logOut()]),this._service.setJwt(void 0);const s={status:"loggedOut"};return this._userState=s,s}async prepareLoginWithWeb3(s){if(isCosmosBlockchain(s.walletBlockchain)){const a=s.signMessage;if(checkIsConfigWithDelegate(this._configuration)){const{delegatedAddress:et,delegatedPublicKey:nt,delegatorAddress:at}=this._configuration,{nonce:mt}=await this._beginLogInWithWeb3({authAddress:at,authType:"COSMOS_AUTHZ_GRANT"}),wt=`${SIGNING_MESSAGE}${mt}`;return{signMessageParams:{walletBlockchain:s.walletBlockchain,message:wt,signMessage:a},signingAddress:et,signingPubkey:nt,nonce:mt}}else if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{authenticationKey:et,accountAddress:nt}=this._configuration,{nonce:at}=await this._beginLogInWithWeb3({authAddress:nt,authType:"COSMOS_ADR36"}),mt=`${SIGNING_MESSAGE}${at}`;return{signMessageParams:{walletBlockchain:s.walletBlockchain,message:mt,signMessage:a},signingAddress:nt,signingPubkey:et,nonce:at}}}else if(isAptosBlockchain(s.walletBlockchain)){const a=s.signMessage;if(checkIsConfigWithPublicKeyAndAddress(this._configuration)){const{nonce:et}=await this._beginLogInWithWeb3({authAddress:this._configuration.accountAddress,authType:"APTOS_SIGNED_MESSAGE",walletPubkey:this._configuration.authenticationKey});return{signMessageParams:{walletBlockchain:s.walletBlockchain,nonce:et,signMessage:a},signingAddress:this._configuration.accountAddress,signingPubkey:this._configuration.authenticationKey,nonce:et}}}else if(isSolanaBlockchain(s.walletBlockchain)){if(s.walletBlockchain!=="SOLANA")throw new Error("loginViaSolanaHardwareWallet: Only SOLANA is supported");if(checkIsConfigWithPublicKey(this._configuration)){const{nonce:a}=await this._beginLogInWithWeb3({walletPubkey:this._configuration.walletPublicKey,authType:"SOLANA_SIGN_MESSAGE",authAddress:this._configuration.walletPublicKey});return{signMessageParams:{walletBlockchain:s.walletBlockchain,nonce:a,signMessage:s.signMessage},signingAddress:this._configuration.walletPublicKey,signingPubkey:this._configuration.walletPublicKey,nonce:a}}}throw new Error(`Invalid loginWeb3Params: ${JSON.stringify(s)}`)}async logInWithWeb3(s){if(!CHAINS_WITH_LOGIN_WEB3.includes(s.walletBlockchain)||s.walletBlockchain!==s.walletBlockchain)throw new Error(`Wallet blockchain must be one of ${CHAINS_WITH_LOGIN_WEB3.join(", ")} for loginWithWeb3`);const{nonce:a,signingAddress:et,signingPubkey:nt,signMessageParams:at}=await this.prepareLoginWithWeb3(s),mt=await this._authenticate({signMessageParams:at,timestamp:Math.round(Date.now()/1e3)});if(!("signature"in mt)||!mt.signature)throw new Error("Web3loginAuth - Signature required. Please sign the transaction to confirm your notifications.");const{completeLogInWithWeb3:wt}=await this.completeLogInWithWeb3({nonce:a,signature:mt.signature,signedMessage:mt.signedMessage,signingAddress:et,signingPubkey:nt});return wt.user}async logIn(s){const a=Math.round(Date.now()/1e3),{tenantId:et,walletBlockchain:nt}=this._configuration;let at;if(isLoginWeb3Params(s))at=await this.logInWithWeb3(s);else if(nt==="OFF_CHAIN"){const mt=await this._authenticate({signMessageParams:s,timestamp:a});if(!("oidcProvider"in mt))throw new Error("logIn - Invalid signature - expected OidcCredentials");const{oidcProvider:wt,jwt:$t}=mt;at=(await this._service.logInByOidc({dappId:et,oidcProvider:wt,idToken:$t})).logInByOidc.user}else{const mt=await this._authenticate({signMessageParams:s,timestamp:a});if(!("signature"in mt)||typeof mt.signature!="string")throw new Error("logIn - Invalid signature - expected string signature and signedMessage");switch(nt){case"BLAST":case"BERACHAIN":case"CELO":case"MANTLE":case"LINEA":case"SCROLL":case"MANTA":case"MONAD":case"BASE":case"THE_ROOT_NETWORK":case"ETHEREUM":case"POLYGON":case"ARBITRUM":case"AVALANCHE":case"BINANCE":case"OPTIMISM":case"ZKSYNC":case"SOLANA":case"ROME":case"SWELLCHAIN":case"BOB":case"SEI":case"SONIC":{at=(await this._service.logInFromDapp({walletBlockchain:nt,walletPublicKey:this._configuration.walletPublicKey,dappAddress:et,timestamp:a,signature:mt.signature})).logInFromDapp;break}case"SUI":case"NEAR":case"ARCH":case"INJECTIVE":case"BITCOIN":{at=(await this._service.logInFromDapp({walletBlockchain:nt,walletPublicKey:this._configuration.authenticationKey,accountId:this._configuration.accountAddress,dappAddress:et,timestamp:a,signature:mt.signature})).logInFromDapp;break}default:throw new Error(`Unsupported wallet blockchain: ${nt}`)}}return at===void 0?Promise.reject("Failed to login"):(await this._handleLogInResult(at),at)}async _authenticate({signMessageParams:s,timestamp:a}){if(this._configuration.walletBlockchain!==s.walletBlockchain)throw new Error("Sign message params and configuration must have the same blockchain");if(isUsingUnmaintainedBlockchain(s))throw new Error(`Unsupported blockchain: ${s.walletBlockchain}. Please contact us if you beleive this is an error or if you need support for a new blockchain.`);if(isUsingCosmosBlockchain(s)){const{signatureBase64:et,signedMessage:nt}=await s.signMessage(s.message);return{signature:et,signedMessage:nt}}else if(isUsingAptosBlockchain(s)){const{signatureHex:et,signedMessage:nt}=await s.signMessage(SIGNING_MESSAGE_WITHOUT_NONCE,s.nonce);return{signature:et,signedMessage:nt}}else if(isUsingEvmBlockchain(s)){const{walletPublicKey:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${nt}${a.toString()}`,mt=new TextEncoder().encode(at),wt=await s.signMessage(mt);return{signature:normalizeHexString(Buffer$1.from(wt).toString("hex")),signedMessage:at}}else if(isUsingBtcBlockchain(s)||s.walletBlockchain==="INJECTIVE"){const{authenticationKey:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${nt}${a.toString()}`,mt=new TextEncoder().encode(at),wt=await s.signMessage(mt);return{signature:Buffer$1.from(wt).toString("base64"),signedMessage:at}}else if(isUsingSolanaBlockchain(s)){const{walletPublicKey:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${s.nonce}`,mt=new TextEncoder().encode(at),wt=await s.signMessage(mt);if(!wt)throw Error("._authenticate - Signature not completed");return{signature:Buffer$1.from(wt).toString("base64"),signedMessage:at}}switch(s.walletBlockchain){case"SUI":{const{accountAddress:et,tenantId:nt}=this._configuration,at=`${SIGNING_MESSAGE}${et}${nt}${a.toString()}`,mt=new TextEncoder().encode(at);return{signature:(await s.signMessage(mt)).toString(),signedMessage:at}}case"NEAR":{const{authenticationKey:et,accountAddress:nt,tenantId:at}=this._configuration,mt=`${"ed25519:"+et}${at}${nt}${a.toString()}`,wt=new TextEncoder().encode(mt),$t=await window.crypto.subtle.digest("SHA-256",wt),Ct=new Uint8Array($t),Dt=await s.signMessage(Ct);return{signature:Buffer$1.from(Dt).toString("base64"),signedMessage:mt}}case"OFF_CHAIN":{const et=await s.signIn();if(!et)throw new Error("._authenticate: OIDC login failed");return et}}}async _handleLogInResult(s){const a=s==null?void 0:s.authorization,et=a!==void 0?this._storage.setAuthorization(a):Promise.resolve(),nt=s==null?void 0:s.roles,at=nt!==void 0?this._storage.setRoles(nt.filter(notNullOrEmpty)):Promise.resolve();if(a&&nt){const mt={status:"authenticated",authorization:a,roles:nt.filter(wt=>!!wt)};this._userState=mt}await Promise.all([et,at])}async fetchFusionData(){return this._service.fetchFusionData({})}async beginLoginViaTransaction({walletBlockchain:s,walletAddress:a}){const{tenantId:et}=this._configuration,at=(await this._service.beginLogInByTransaction({walletAddress:a,walletBlockchain:s,dappAddress:et})).beginLogInByTransaction.nonce;if(at===null)throw new Error("Failed to begin login process");const mt=crypto.randomUUID();this._clientRandomUuid=mt;const $t=new TextEncoder().encode(at+mt),Ct=await crypto.subtle.digest("SHA-256",$t),Dt=Array.from(new Uint8Array(Ct));let Ft="0x";return(s==="SOLANA"||s==="OSMOSIS")&&(Ft="Notifi Auth: 0x"),{nonce:Ft+Dt.map(Nt=>Nt.toString(16).padStart(2,"0")).join("")}}async completeLoginViaTransaction({walletBlockchain:s,walletAddress:a,transactionSignature:et}){const{tenantId:nt}=this._configuration,at=this._clientRandomUuid;if(this._clientRandomUuid=null,at===null)throw new Error("BeginLoginViaTransaction is required to be called first");const mt=await this._service.completeLogInByTransaction({walletAddress:a,walletBlockchain:s,dappAddress:nt,randomUuid:at,transactionSignature:et});return await this._handleLogInResult(mt.completeLogInByTransaction),mt}async _beginLogInWithWeb3({authType:s,authAddress:a,walletPubkey:et}){const{tenantId:nt}=this._configuration,at=await this._service.beginLogInWithWeb3({dappAddress:nt,authAddress:a,blockchainType:this._configuration.walletBlockchain,authType:s,walletPubkey:et});if(!at.beginLogInWithWeb3.beginLogInWithWeb3Response)throw new Error("Failed to begin login process");return at.beginLogInWithWeb3.beginLogInWithWeb3Response}async completeLogInWithWeb3(s){const a=await this._service.completeLogInWithWeb3(__spreadValues({signingPubkey:""},s));return await this._handleLogInResult(a.completeLogInWithWeb3.user),a}async getTargetGroups(){var s,a;return(a=(s=(await this._service.getTargetGroups({})).targetGroup)==null?void 0:s.filter(notNullOrEmpty))!=null?a:[]}async getAlerts(){var s,a;return(a=(s=(await this._service.getAlerts({})).alert)==null?void 0:s.filter(notNullOrEmpty))!=null?a:[]}async ensureFusionAlerts(s){const a=new Set(s.alerts.map($t=>$t.name)),et=await this._service.getAlerts({}),mt=[...new Set(et.alert)].filter($t=>a.has($t==null?void 0:$t.name)).map($t=>$t==null?void 0:$t.id).filter($t=>!!$t);for(const $t of mt)await this.deleteAlert({id:$t});return(await this._service.createFusionAlerts({input:s})).createFusionAlerts}async deleteAlerts({ids:s}){const et=(await this._service.deleteAlerts({input:{alertIds:s}})).deleteAlerts;if(et===void 0)throw new Error("Failed to delete alerts");return et}async updateWallets(){const s={name:"User Wallets",type:"walletBalance"};return await ensureSourceAndFilters(this._service,s,{})}async getUnreadNotificationHistoryCount(s){const et=(await this._service.getUnreadNotificationHistoryCount({cardId:s})).unreadNotificationHistoryCount;if(!et)throw new Error("Failed to fetch unread notification history count");return et}addEventListener(s,a,et,nt){return this._service.addEventListener(s,a,et,nt)}removeEventListener(s,a){return this._service.removeEventListener(s,a)}async getUserSettings(){const a=(await this._service.getUserSettings({})).userSettings;if(!a)throw new Error("Failed to fetch user settings");return a}async getFusionNotificationHistory(s){var a,et;const nt=await this._service.getFusionNotificationHistory(s),at=(a=nt.fusionNotificationHistory)==null?void 0:a.nodes,mt=(et=nt.fusionNotificationHistory)==null?void 0:et.pageInfo;if(at===void 0||mt===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:mt,nodes:at}}async fetchTenantConfig(s){const et=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},s),{tenant:this._configuration.tenantId})})).findTenantConfig;if(et===void 0||!et.dataJson||!et.fusionEvents)throw new Error("Failed to find tenant config");const nt=et.dataJson;if(nt===void 0)throw new Error("Invalid config data");const at=JSON.parse(nt),mt=et.fusionEvents;if(!at||at.version!=="v1"||!mt)throw new Error("Unsupported config format");const wt=new Map(mt.map(Ct=>{var Dt;return[(Dt=Ct==null?void 0:Ct.name)!=null?Dt:"",Ct??{}]}));wt.delete("");const $t=at.eventTypes.map(Ct=>{if(Ct.type==="fusion"){const Dt=wt.get(Ct.name);return{uiConfig:Ct,fusionEventDescriptor:Dt}}}).filter(Ct=>!!Ct);return{cardConfig:at,fusionEventTopics:$t}}async copyAuthorization(s){var a;const et=await this._storage.getAuthorization(),nt=await this._storage.getRoles(),at=((a=s.storageOption)==null?void 0:a.driverType)==="InMemory"?createInMemoryStorageDriver(s):createLocalForageStorageDriver(s),mt=new NotifiFrontendStorage(at);await Promise.all([mt.setAuthorization(et),mt.setRoles(nt)])}async sendEmailTargetVerification({targetId:s}){var a;const nt=(a=(await this._service.sendEmailTargetVerificationRequest({targetId:s})).sendEmailTargetVerificationRequest)==null?void 0:a.id;if(nt===void 0)throw new Error("Unknown error requesting verification");return nt}async createDiscordTarget(s){return(await this._service.createDiscordTarget({name:s,value:s})).createDiscordTarget}async markFusionNotificationHistoryAsRead(s){return await this._service.markFusionNotificationHistoryAsRead(s)}async updateUserSettings(s){return await this._service.updateUserSettings(s)}async verifyXmtpTarget(s){return await this._service.verifyXmtpTarget(s)}async verifyCbwTarget(s){return await this._service.verifyCbwTarget(s)}async verifyXmtpTargetViaXip42(s){return await this._service.verifyXmtpTargetViaXip42(s)}async createWebPushTarget(s){return await this._service.createWebPushTarget(s)}async updateWebPushTarget(s){return await this._service.updateWebPushTarget(s)}async deleteWebPushTarget(s){return await this._service.deleteWebPushTarget(s)}async getWebPushTargets(s){const et=(await this._service.getWebPushTargets(s)).webPushTargets;if(!et)throw new Error("Failed to fetch webpush targets");return et}async alterTargetGroup(s){return await alterTargetGroupImpl(s,this._service)}async getSourceGroups(){var s,a;return(a=(s=(await this._service.getSourceGroups({})).sourceGroup)==null?void 0:s.filter(notNullOrEmpty))!=null?a:[]}async wsDispose(){this._service.wsDispose()}async getNotificationHistory(s){var a,et;const nt=await this._service.getNotificationHistory(s),at=(a=nt.notificationHistory)==null?void 0:a.nodes,mt=(et=nt.notificationHistory)==null?void 0:et.pageInfo;if(at===void 0||mt===void 0)throw new Error("Failed to fetch notification history");return{pageInfo:mt,nodes:at}}subscribeNotificationHistoryStateChanged(s,a,et){return this._service.subscribeNotificationHistoryStateChanged(s,a,et)}async ensureAlert({eventType:s,inputs:a,targetGroupName:et="Default"}){var nt,at;const[mt,wt,$t]=await Promise.all([this._service.getAlerts({}),this._service.getTargetGroups({}),ensureSourceAndFilters(this._service,s,a)]),Ct=(nt=wt.targetGroup)==null?void 0:nt.find(Yt=>(Yt==null?void 0:Yt.name)===et);if(Ct===void 0)throw new Error("Target group does not exist");const{sourceGroup:Dt,filter:Ft,filterOptions:jt}=$t,Nt=packFilterOptions(jt),Lt=(at=mt.alert)==null?void 0:at.find(Yt=>Yt!==void 0&&Yt.name===s.name);if(Lt!==void 0){if(Lt.sourceGroup.id===Dt.id&&Lt.targetGroup.id===Ct.id&&Lt.filter.id===Ft.id&&Lt.filterOptions===Nt)return Lt;await this.deleteAlert({id:Lt.id})}const Vt=(await this._service.createAlert({name:s.name,sourceGroupId:Dt.id,filterId:Ft.id,targetGroupId:Ct.id,filterOptions:Nt,groupName:"managed"})).createAlert;if(Vt===void 0)throw new Error("Failed to create alert");return Vt}async fetchData(){return this._service.fetchData({})}async fetchSubscriptionCard(s){const et=(await this._service.findTenantConfig({input:__spreadProps(__spreadValues({},s),{tenant:this._configuration.tenantId})})).findTenantConfig;if(et===void 0)throw new Error("Failed to find tenant config");const nt=et.dataJson;if(nt===void 0)throw new Error("Invalid config data");const at=JSON.parse(nt);let mt;switch(at.version){case"v1":{mt=at;break}default:throw new Error("Unsupported config version")}if(mt===void 0)throw new Error("Unsupported config format");return mt}async ensureTargetGroup({name:s,emailAddress:a,phoneNumber:et,telegramId:nt,discordId:at,slackId:mt,walletId:wt}){var $t;const[Ct,Dt,Ft,jt,Nt,Lt,Ut]=await Promise.all([this._service.getTargetGroups({}),ensureEmail(this._service,a),ensureSms(this._service,et),ensureTelegram(this._service,nt),ensureDiscord(this._service,at),ensureSlack(this._service,mt),ensureWeb3(this._service,wt)]),Vt=Dt===void 0?[]:[Dt],Yt=Ft===void 0?[]:[Ft],er=jt===void 0?[]:[jt],tr=Nt===void 0?[]:[Nt],nr=Lt===void 0?[]:[Lt],sr=Ut===void 0?[]:[Ut],dr=($t=Ct.targetGroup)==null?void 0:$t.find(vr=>(vr==null?void 0:vr.name)===s);if(dr!==void 0)return this._updateTargetGroup({existing:dr,emailTargetIds:Vt,smsTargetIds:Yt,telegramTargetIds:er,discordTargetIds:tr,slackChannelTargetIds:nr,web3TargetIds:sr});const br=await this._service.createTargetGroup({name:s,emailTargetIds:Vt,smsTargetIds:Yt,telegramTargetIds:er,discordTargetIds:tr,slackChannelTargetIds:nr,web3TargetIds:sr});if(br.createTargetGroup===void 0)throw new Error("Failed to create target group");return br.createTargetGroup}async renewTargetGroup({name:s,emailAddress:a,phoneNumber:et,telegramId:nt,discordId:at,slackId:mt,walletId:wt}){var $t;const[Ct,Dt,Ft,jt,Nt,Lt,Ut]=await Promise.all([this._service.getTargetGroups({}),ensureEmail(this._service,a),ensureSms(this._service,et),renewTelegram(this._service,nt),ensureDiscord(this._service,at),ensureSlack(this._service,mt),ensureWeb3(this._service,wt)]),Vt=Dt===void 0?[]:[Dt],Yt=Ft===void 0?[]:[Ft],er=jt===void 0?[]:[jt],tr=Nt===void 0?[]:[Nt],nr=Lt===void 0?[]:[Lt],sr=Ut===void 0?[]:[Ut],dr=($t=Ct.targetGroup)==null?void 0:$t.find(vr=>(vr==null?void 0:vr.name)===s);if(dr!==void 0)return this._updateTargetGroup({existing:dr,emailTargetIds:Vt,smsTargetIds:Yt,telegramTargetIds:er,discordTargetIds:tr,slackChannelTargetIds:nr,web3TargetIds:sr});const br=await this._service.createTargetGroup({name:s,emailTargetIds:Vt,smsTargetIds:Yt,telegramTargetIds:er,discordTargetIds:tr,slackChannelTargetIds:nr,web3TargetIds:sr});if(br.createTargetGroup===void 0)throw new Error("Failed to create target group");return br.createTargetGroup}async _updateTargetGroup({existing:s,emailTargetIds:a,smsTargetIds:et,telegramTargetIds:nt,discordTargetIds:at,slackChannelTargetIds:mt,web3TargetIds:wt}){var $t,Ct,Dt,Ft,jt,Nt,Lt;if(areIdsEqual(a,($t=s.emailTargets)!=null?$t:[])&&areIdsEqual(et,(Ct=s.smsTargets)!=null?Ct:[])&&areIdsEqual(nt,(Dt=s.telegramTargets)!=null?Dt:[])&&areIdsEqual(at,(Ft=s.discordTargets)!=null?Ft:[])&&areIdsEqual(mt,(jt=s.slackChannelTargets)!=null?jt:[])&&areIdsEqual(wt,(Nt=s.web3Targets)!=null?Nt:[]))return s;const Vt=(await this._service.updateTargetGroup({id:s.id,name:(Lt=s.name)!=null?Lt:s.id,emailTargetIds:a,smsTargetIds:et,telegramTargetIds:nt,discordTargetIds:at,slackChannelTargetIds:mt,web3TargetIds:wt})).updateTargetGroup;if(Vt===void 0)throw new Error("Failed to update target group");return Vt}async deleteAlert({id:s}){var a;if(((a=(await this._service.deleteAlert({id:s})).deleteAlert)==null?void 0:a.id)===void 0)throw new Error("Failed to delete alert")}},newNotifiStorage=s=>{var a;const et=((a=s.storageOption)==null?void 0:a.driverType)==="InMemory"?createInMemoryStorageDriver(s):createLocalForageStorageDriver(s);return new NotifiFrontendStorage(et)},newNotifiService=(s,a)=>{const et=envUrl(s.env,"http"),nt=envUrl(s.env,"websocket"),at=new GraphQLClient(et,a),mt=new NotifiSubscriptionService(nt,typeof window<"u"?void 0:WebSocket$1);return new NotifiService(at,mt)},instantiateFrontendClient=(s,a,et,nt,at)=>{let mt=null;if("accountAddress"in a?mt={tenantId:s,env:et,walletBlockchain:a.walletBlockchain,authenticationKey:a.walletPublicKey,accountAddress:a.accountAddress,storageOption:nt}:"signingPubkey"in a?mt={tenantId:s,env:et,walletBlockchain:a.walletBlockchain,delegatedAddress:a.signingAddress,delegatedPublicKey:a.walletPublicKey,delegatorAddress:a.signingPubkey,storageOption:nt}:"userAccount"in a?mt={tenantId:s,env:et,userAccount:a.userAccount,storageOption:nt,walletBlockchain:a.walletBlockchain}:mt={tenantId:s,env:et,walletBlockchain:a.walletBlockchain,walletPublicKey:isEvmBlockchain(a.walletBlockchain)?a.walletPublicKey.toLowerCase():a.walletPublicKey,storageOption:nt},!mt)throw new Error("ERROR - instantiateFrontendClient: Invalid UserParams");const wt=newNotifiService(mt,at),$t=newNotifiStorage(mt);return new NotifiFrontendClient(mt,wt,$t)};function useNotifiAlert(){const{notifiClient:s}=useNotifiStore(),{defaultTargetGroup:a,setNotifiAlerts:et,setNotifiSourceGroups:nt,setNotifiSources:at,setIsChecked:mt,setNotifiSubscriptionLoading:wt}=useNotifiStore(),{showCommonToast:$t}=useGlobalToast(),{getNotifiTargetGroups:Ct}=useGetNotifiTargetGroups(),Dt=async()=>{let Vt=a.filter(Yt=>Yt.name==="Default");return Vt.length||(Vt=(await Ct()).filter(Yt=>Yt.name==="Default")),Vt[0]},Ft=Vt=>{const Yt=[],er=[],tr=[];return Vt.forEach(sr=>{(sr.sourceGroup.name.includes("position")||sr.name.includes("Position Range Alerts"))&&sr.name!=="Fusion Source Filter"&&sr.name!=="defaultAlert"&&(Yt.push(sr.sourceGroup),er.push(...sr.sourceGroup.sources.map(dr=>({...dr,alertID:sr.id})))),tr.push(...sr.sourceGroup.sources.map(dr=>({...dr,alertName:sr.name})))}),tr.some(sr=>sr.alertName==="defaultAlert")||Ut(),{sourceGroup:Yt,sources:er}},jt=async Vt=>{try{const Yt=Vt?await Vt.getAlerts():await s.getAlerts();console.log(" ~ getNotifiAlerts ~ alerts:",Yt);const{sourceGroup:er,sources:tr}=Ft(Yt);et(Yt),nt(er),at(tr),wt(!1)}catch(Yt){console.error(" ~ getNotifiAlerts ~ error:",Yt)}},Nt=async Vt=>{console.log(" ~ deleteNotifiAlerts ~ id:",Vt);try{await s.deleteAlert({id:Vt}),$t("Unsubscribed","success","You'll no longer receive alerts when the price goes out of range."),jt(),wt(!1)}catch(Yt){console.error(" ~ deleteNotifiAlerts ~ error:",Yt),$t("There was an error unsubscribe alert","rejected",String(Yt)),wt(!1)}},Lt=async(Vt,Yt)=>{try{const er=await Dt(),tr={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:Vt&&Yt?`Position Range Alerts${new Date().getTime()}`:"defaultAlert",targetGroupId:er.id,subscriptionValue:Vt&&Yt?JSON.stringify({pool_address:Vt,position_index:String(Yt)}):"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]},nr=await s.ensureFusionAlerts(tr);console.log(" ~ createNotifiAlert ~ alerts:",nr),$t("Subscribed to Alerts!","success","Verify your notification channels to receive alerts when the price goes out of range. To edit your alert settings, click the bell icon in the top nav."),jt()}catch(er){console.error(" ~ createNotifiAlert ~ error:",er),$t("There was an error subscribe alert","rejected",String(er)),mt(!1),wt(!1)}},Ut=async()=>{try{const Yt={alerts:[{fusionEventId:"0192d2ba2cc371e5b6583e43295a3272",name:"defaultAlert",targetGroupId:(await Dt()).id,subscriptionValue:"*",filterOptions:JSON.stringify('{"version":1,"input":{}}')}]};await s.ensureFusionAlerts(Yt),jt()}catch(Vt){console.error(" ~ initDefaultAlert ~ error:",Vt)}};return{getNotifiAlerts:jt,createNotifiAlert:Lt,deleteNotifiAlerts:Nt}}function useIntNotifi(){const s="cetus",a="Production",et="SUI",{setNotifiClient:nt,notifiClient:at,setNotifiStatus:mt,setNotifiAccountAddress:wt,setDefaultTargetGroup:$t,setNotifiSourceGroups:Ct,setNotifiSources:Dt,setNotifiLoginLoading:Ft,setTelegramTarget:jt,setEmailTarget:Nt,setSmsTarget:Lt}=useNotifiStore(),{signUserMessage:Ut}=useSigner(),{currentAccount:Vt}=useAccountStore(),{ensureTargetGroup:Yt,getNotifiTargetGroups:er}=useGetNotifiTargetGroups(),{getNotifiAlerts:tr}=useNotifiAlert(),nr=async br=>{const vr=instantiateFrontendClient(s,{walletBlockchain:et,walletPublicKey:br,accountAddress:br},a),yr=await vr.initialize();nt(vr),mt(yr.status),(yr==null?void 0:yr.status)==="authenticated"?(er(vr),tr(vr),wt(br)):dr()},sr=async br=>{try{Ft(!0),console.log(" ~ useInitNotifi.ts:63 ~ notifiLogin ~ notifiClient:",at);const vr=await at.logIn({walletBlockchain:et,signMessage:async $r=>{console.log(" ~ useInitNotifi.ts:63 ~ signMessage: ~ message:",$r);try{return(await Ut($r)).signature}catch(Sr){console.log(" ~ useInitNotifi.ts:67 ~ signMessage: ~ error:",Sr)}}});console.log(" ~ useInitNotifi.ts:67 ~ notifiLogin ~ notifiClient:",at);const{status:yr}=at.userState;mt(yr),yr==="authenticated"&&(Vt!=null&&Vt.address)&&(tr(),er(),wt(Vt.address)),console.log(" ~ useInitNotifi.ts:75 ~ notifiLogin ~ loginResult:",vr),vr&&(await Yt(br),Ft(!1))}catch(vr){console.log(" ~ useInitNotifi.ts:91 ~ notifiLogin ~ error:",vr),Ft(!1)}},dr=()=>{$t([]),Ct([]),Dt([]),Nt({}),jt({}),Lt({})};return{initNotifi:nr,notifiLogin:sr}}const notifi_tab_bg="/images/notifi_tab_bg.png",notifi_tab_bg_h5="/images/notifi_tab_bg_h5.png",codeList=["+1","+32","+33","+34","+351","+354","+358","+36","+41","+43","+44","+45","+46","+47","+48","+49","+60","+61","+63","+65","+82","+852","+886"],FormItem=({label:s,children:a})=>jsxRuntimeExports.jsxs(InputGroup,{h:"42px",borderRadius:"8px",p:"10px 12px",bg:"#141414",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(InputLeftAddon,{fontSize:"14px",h:"20px",lineHeight:"20px",w:"106px",children:s}),jsxRuntimeExports.jsx(Box,{borderColor:"border",pr:"16px",children:jsxRuntimeExports.jsx(Divider$1,{orientation:"vertical"})}),a]});function Notifications(){const[s,a]=reactExports.useState(""),[et,nt]=reactExports.useState(""),[at,mt]=reactExports.useState(""),[wt,$t]=reactExports.useState(""),[Ct,Dt]=reactExports.useState(""),[Ft,jt]=reactExports.useState(""),[Nt,Lt]=reactExports.useState(""),[Ut,Vt]=reactExports.useState(""),{isShowNotifi:Yt,setIsShowNotifi:er,notifiLoginLoading:tr,notifiStatus:nr,emailTarget:sr,telegramTarget:dr,smsTarget:br}=useNotifiStore(),[vr,yr]=reactExports.useState(""),[$r,Sr]=reactExports.useState(""),[wr,fr]=reactExports.useState(!0),[_r,ir]=reactExports.useState(!1),{currentAccount:rr,onWalletModal:or}=useAccountStore(),[ar,ur]=reactExports.useState(!1),{notifiLogin:pr}=useIntNotifi(),{ensureTargetGroup:cr}=useGetNotifiTargetGroups(),[gr,hr]=reactExports.useState(!0),[lr,xr]=reactExports.useState(!1),Mr=Gr=>{if(Gr){const Wr=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;console.log(" ~ Notifications.tsx:99 ~ verifyEmail ~ verifyEmail:"),hr(Wr.test(s))}},Pr=()=>{const Gr={};at&&wt&&(Gr.phoneNumber=at+" "+wt),s&&(Gr.emailAddress=s),et&&(Gr.telegramId=et),nr=="authenticated"?cr(Gr):pr(Gr)};reactExports.useEffect(()=>{if(!sr){yr(""),ir(!1),a(""),Dt("");return}const Gr=(sr==null?void 0:sr.emailAddress)||"",Wr=(sr==null?void 0:sr.isConfirmed)||!1,nn=(sr==null?void 0:sr.id)||"";yr(nn),ir(Wr),a(Gr),Dt(Gr)},[sr]),reactExports.useEffect(()=>{if(!dr){fr(!1),Sr(""),nt(""),jt("");return}const Gr=(dr==null?void 0:dr.telegramId)||"",Wr=(dr==null?void 0:dr.isConfirmed)||!1,nn=dr.confirmationUrl||"";fr(Wr),Sr(nn),nt(Gr),jt(Gr)},[dr]),reactExports.useEffect(()=>{br||(mt("+1"),$t(""),Lt("+1"),Vt(""));const Gr=(br==null?void 0:br.name)||"",Wr=Gr.split(" ")[0]||"+1",nn=Gr.split(" ")[1]||"";mt(Wr),$t(nn),Lt(Wr),Vt(nn)},[br]);const Ar=reactExports.useMemo(()=>!wt&&!s&&!et||at==Nt&&wt==Ut&&s==Ct&&et==Ft?!0:!gr,[s,Ct,at,Nt,wt,Ut,et,Ft]),{notifiClient:Ir}=useNotifiStore(),[qr,Rr]=reactExports.useState(60),[Tr,Er]=reactExports.useState(60),Br=async()=>{Ir.sendEmailTargetVerification({targetId:vr}),xr(!0)},Nr=()=>{Hr(!0),window.open($r,"_blank")},[zr,Hr]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!lr||qr===0){xr(!1);return}const Gr=setInterval(()=>{Rr(Wr=>Wr-1)},1e3);return()=>clearInterval(Gr)},[lr,qr]),reactExports.useEffect(()=>{if(!zr||Tr===0){Hr(!1);return}const Gr=setInterval(()=>{Er(Wr=>Wr-1)},1e3);return()=>clearInterval(Gr)},[zr,Tr]);const[jr,Ur]=reactExports.useState("notifi"),{isApp:Fr}=useWindowWidth();return reactExports.useEffect(()=>{Yt&&Ur("notifi")},[Yt]),jsxRuntimeExports.jsxs(Popover,{isLazy:!0,isOpen:Yt,placement:"bottom-end",offset:[44,10],onClose:ar?()=>{console.log("isMenuOpen")}:()=>{er(!1)},children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},onClick:()=>rr!=null&&rr.address?er(!Yt):or(!0),children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_notification",variant:"gray"})})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(PopoverContent,{p:"0px",border:"1px solid",borderRadius:"12px",borderColor:"border",minW:{base:"352px",lg:"460px"},children:jsxRuntimeExports.jsxs(HStack,{flexDirection:{base:"column",lg:"row"},gap:"0",bg:"bg_seven",borderRadius:"12px",align:"flex-start",children:[jsxRuntimeExports.jsxs(VStack,{pt:{base:"8px",lg:"28px"},pl:{base:"12px",lg:"0"},gap:"0",flexDirection:{base:"row",lg:"column"},children:[jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:jr=="notifi"?Fr?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:jr=="notifi"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Ur("notifi"),children:jsxRuntimeExports.jsx(Image$1,{src:jr=="notifi"?"/images/notifi@2x.png":"/images/logo_not_nor@2x.png",h:"20px",w:"60px",minW:"60px"})}),jsxRuntimeExports.jsx(HStack,{align:"center",justify:"center",backgroundImage:jr=="pawtato"?Fr?notifi_tab_bg_h5:notifi_tab_bg:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:jr=="pawtato"?"999":"0",mr:{base:"0",lg:"-5px"},mb:{base:"-4px",lg:"0"},p:"0 12px",w:{base:"148px",lg:"105px"},h:{base:"40px",lg:"90px"},cursor:"pointer",onClick:()=>Ur("pawtato"),children:jsxRuntimeExports.jsx(Image$1,{src:jr=="pawtato"?"/images/logo_paw_sel@2x.png":"/images/logo_paw_nor@2x.png",h:"11px",w:"66px",minW:"66px"})})]}),jr=="notifi"&&jsxRuntimeExports.jsxs(VStack,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",children:[jsxRuntimeExports.jsx(PopoverBody,{p:"0",borderRadius:"12px",children:jsxRuntimeExports.jsxs(VStack,{gap:"12px",children:[jsxRuntimeExports.jsx(Text,{fontWeight:"500",color:"text_caption",textAlign:"left",w:"100%",mb:"4px",children:"Notifications Setting"}),jsxRuntimeExports.jsx(FormItem,{label:"Email address",children:jsxRuntimeExports.jsx(Input,{type:"email",placeholder:"Email address",fontSize:"14px",h:"20px",lineHeight:"20px",value:s,onFocus:()=>hr(!0),onBlur:Gr=>Mr(Gr.target.value),onChange:Gr=>a(Gr.target.value)})}),!gr&&jsxRuntimeExports.jsx(Text,{w:"100%",color:"primary_red",lineHeight:"20px",textAlign:"left",children:"Please enter a valid email address"}),nr=="authenticated"&&Ct&&(lr||!lr&&!_r)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[lr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification email sent! (",qr,"s)"]}),!_r&&!lr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for email verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Br(),children:"Retry"})]})]}),jsxRuntimeExports.jsxs(FormItem,{label:"Phone number",children:[jsxRuntimeExports.jsx(Menu,{isLazy:!0,onClose:()=>ur(!1),children:({isOpen:Gr})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MenuButton,{isActive:Gr,as:Button,rightIcon:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"12px"}),variant:"unstyled",h:"100%",fontSize:"14px",lineHeight:"20px",color:"text_caption",onClick:()=>ur(!ar),children:at}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(MenuList,{h:"220px",overflow:"auto",zIndex:"99999",children:codeList.map(Wr=>jsxRuntimeExports.jsx(MenuItem,{onClick:nn=>{mt(Wr)},children:Wr},Wr))})})]})}),jsxRuntimeExports.jsx(Input,{type:"tel",placeholder:"Phone number",pl:"16px",fontSize:"14px",h:"20px",lineHeight:"20px",value:wt,onChange:Gr=>$t(Gr.target.value)})]}),jsxRuntimeExports.jsx(FormItem,{label:"Telegram ID",children:jsxRuntimeExports.jsx(Input,{placeholder:"Telegram ID",fontSize:"14px",h:"20px",lineHeight:"20px",value:et,onChange:Gr=>nt(Gr.target.value)})}),nr=="authenticated"&&Ft&&(zr||!zr&&!wr)&&jsxRuntimeExports.jsxs(Flex,{width:"100%",children:[zr&&jsxRuntimeExports.jsxs(Text,{width:"100%",textAlign:"right",children:["Verification telegram sent! (",Tr,"s)"]}),!wr&&!zr&&jsxRuntimeExports.jsxs(Text,{fontSize:"12px",width:"100%",textAlign:"right",children:["Waiting for telegram verification."," ",jsxRuntimeExports.jsx(Text,{color:"primary",as:"span",fontSize:"12px",cursor:"pointer",onClick:()=>Nr(),children:"Retry"})]})]})]})}),jsxRuntimeExports.jsx(PopoverFooter,{border:"none",p:"0",mt:"16px",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",gap:"12px",children:[jsxRuntimeExports.jsx(Button,{w:"100%",h:"42px",borderRadius:"8px",fontWeight:"500",fontSize:"14px",onClick:Pr,isLoading:tr,disabled:Ar||tr||!gr,children:nr=="authenticated"?"Update":"Subscribe"}),jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsxs(Text,{fontSize:"12px",color:"text_paragraph",lineHeight:"20px",children:["Notifications are provided by Notifi. By subscribing, you agree that info you provide to Notifi will be governed by its"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/privacy","_blank")},children:"Privacy Policy"})," ","and"," ",jsxRuntimeExports.jsx(Text,{fontSize:"12px",textDecoration:"underline",as:"span",cursor:"pointer",onClick:()=>{window.open("https://notifi.network/term","_blank")},children:"Terms of Use."})]}),jsxRuntimeExports.jsxs(HStack,{justify:"center",mt:"16px",children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_paragraph",children:"Powered by"}),jsxRuntimeExports.jsx(Image$1,{src:"/images/notifi@2x.png",h:"20px"})]})]})]})})]}),jr=="pawtato"&&jsxRuntimeExports.jsx(PopoverBody,{p:"16px",bg:"bg_secondary",borderRadius:"12px",minW:"350px",h:"314px",children:jsxRuntimeExports.jsxs(VStack,{h:"100%",gap:"28px",justify:"center",align:"center",children:[jsxRuntimeExports.jsxs(Text,{color:"text_caption",lineHeight:"20px",textAlign:"center",children:["Visit Pawtato to manage notification settings for LP Range Alert"," "]}),jsxRuntimeExports.jsx(Button,{w:"100%",h:"40px",fontWeight:"500",fontSize:"14px",onClick:()=>window.open("https://pawtato.app/board"),children:"Subscribe"})]})})]})})})]})}function SwapWidgetDisplay(s){const{h:a,icon:et,borderRadius:nt="12px",color:at="text_caption"}=s,{isSwapWidgetDisplay:mt,setIsSwapWidgetDisplay:wt}=useWebConfigStore();return jsxRuntimeExports.jsxs(HStack,{w:"100%",pl:"16px",pr:"16px",h:a,border:"1px solid",borderColor:"border",bg:"menu_item_bg",justifyContent:"center",gap:"24px",borderRadius:nt,children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",gap:"8px",children:[jsxRuntimeExports.jsx(Image$1,{draggable:"false",src:et,fallbackSrc:"/images/placeholder-token@2x.png",w:"24px",h:"24px",pointerEvents:"none"}),jsxRuntimeExports.jsx(Text,{color:at,fontSize:"14px",children:"Display swap widget"})]}),jsxRuntimeExports.jsx(Switch,{isChecked:mt,onChange:()=>wt(!mt)})]})}const ListItem=({label:s,value:a,onClick:et,isActive:nt})=>jsxRuntimeExports.jsx(Box,{w:"100%",onClick:et,cursor:"pointer",h:"48px",lineHeight:"48px",p:"0px 16px",borderRadius:"12px",border:"1px solid",borderColor:nt?"primary_hover":"transparent",_hover:{bg:"menu_item_hover_bg"},children:jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"text_caption",children:s})}),ExplorerContent=({closeModal:s,isH5:a})=>{const{explorerList:et,currentExplorer:nt,switchExplorer:at}=useRpcConfigStore(),mt=reactExports.useMemo(()=>(console.log(" ~ list ~ explorerList:",et),et),[et]),{successTsToast:wt}=useGlobalToast(),$t=Ct=>{at(Ct),s(),wt({linkLabel:"",getShowInfo:Ft=>({toastTitleText:"Explorer update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["Explorer is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:Ct.name})]})})})};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a?jsxRuntimeExports.jsx(VStack,{gap:"16px",mb:"16px",children:mt.map(Ct=>jsxRuntimeExports.jsxs(HStack,{w:"100%",children:[jsxRuntimeExports.jsx(CheckBox,{checked:Ct.link===nt.link,onClick:()=>$t(Ct)}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"16px",lg:"14px"},children:Ct.name})]},Ct.link))}):jsxRuntimeExports.jsx(VStack,{w:"100%",children:mt.map(Ct=>jsxRuntimeExports.jsx(ListItem,{label:Ct.name,value:Ct.link,isActive:Ct.link===nt.link,onClick:()=>$t(Ct)},Ct.link))})})},H5SettingItem=({icon:s,value:a,label:et,onClick:nt})=>jsxRuntimeExports.jsxs(HStack,{w:"100%",p:"14px 16px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",justify:"space-between",align:"center",bg:"menu_item_bg",onClick:nt,children:[jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:s,fontSize:"20px"}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",children:et})]}),jsxRuntimeExports.jsxs(HStack,{gap:"8px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",fontSize:"14px",children:a}),jsxRuntimeExports.jsx(Icon,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),H5Preferred=()=>{const{currentExplorer:s}=useRpcConfigStore(),[a,et]=reactExports.useState(!1),nt=()=>{et(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:s==null?void 0:s.name,onClick:()=>et(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:a,title:"Preferred Explorer",onClose:()=>et(!1),footer:null,children:jsxRuntimeExports.jsx(ExplorerContent,{closeModal:nt,isH5:!0})})]})};function useRpcWorker(){let s=null;const{setRpcSpeed:a}=useRpcConfigStore();useInterval({interval:5*1e3,callback:()=>{et()}});const et=()=>{s===null&&(s=new Worker("/worker/rpc.worker.js")),s.postMessage({rpcList:defaultNodes.filter(nt=>nt.link.length>0).map(nt=>nt.link)}),s.onmessage=nt=>{nt.data.error?(console.log(" ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data.error:",nt.data.error),a({})):(console.log(" ~ file: useRpcWorker.ts:15 ~ useEffect ~ event.data:",nt.data),nt.data?a(nt.data):a({}))}};reactExports.useEffect(()=>(et(),()=>{s&&s.terminate()}),[])}const RPCContent=({closeModal:s})=>{useRpcWorker();const{rpcSpeed:a}=useRpcConfigStore(),et=Ut=>!/^(http|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(Ut),{nodes:nt,currentNode:at,switchNode:mt}=useRpcConfigStore(),[wt,$t]=reactExports.useState((at==null?void 0:at.name)=="Custom"),[Ct,Dt]=reactExports.useState((at==null?void 0:at.name)=="Custom"?at==null?void 0:at.link:""),Ft=reactExports.useMemo(()=>nt,[nt]),{successTsToast:jt}=useGlobalToast(),Nt=Ut=>{console.log(" ~ handleChangeNode ~ item:",Ut),Ut.name!=="Custom"&&(Dt(""),$t(!1)),mt(Ut),s(),jt({linkLabel:"",getShowInfo:Yt=>({toastTitleText:"RPC update",toastDescriptionContent:()=>jsxRuntimeExports.jsxs(Text,{fontSize:"14px",color:"primary_gray",children:["RPC is currently set to ",jsxRuntimeExports.jsx(Text,{as:"span",fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:Ut.name!=="Custom"?Ut.name:Ut.link})]})})})},Lt=reactExports.useCallback(Ut=>Ut===0?"text_paragraph":Ut<100?"primary_green":Ut>200?"primary_red":"primary_yellow",[]);return jsxRuntimeExports.jsxs(Box,{w:"100%",mt:"-16px",children:[Ft.map(Ut=>{const Vt=Number(a[Ut==null?void 0:Ut.link]||0);return jsxRuntimeExports.jsx(VStack,{mt:"16px",align:"flex-start",children:(Ut==null?void 0:Ut.name)!=="Custom"&&jsxRuntimeExports.jsxs(HStack,{w:"100%",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(HStack,{w:"100%",onClick:()=>Nt(Ut),_hover:{p:{color:"primary"}},children:[jsxRuntimeExports.jsx(CheckBox,{checked:at.name===(Ut==null?void 0:Ut.name),onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:at.name===(Ut==null?void 0:Ut.name)?"primary":"text_paragraph",children:Ut==null?void 0:Ut.name})]}),jsxRuntimeExports.jsxs(HStack,{gap:"5px",children:[Vt>0&&jsxRuntimeExports.jsx(Box,{w:"6px",h:"6px",bg:Lt(Vt),borderRadius:"50%"}),jsxRuntimeExports.jsxs(Text,{fontSize:"12px",fontWeight:"500",color:Lt(Vt),children:[a[Ut.link],isAvailableObject(a)?"ms":""]})]})]})},Ut==null?void 0:Ut.link)}),jsxRuntimeExports.jsxs(HStack,{w:"100%",mt:"16px",_hover:{p:{color:"primary"}},onClick:()=>$t(!wt),children:[jsxRuntimeExports.jsx(CheckBox,{checked:at.name==="Custom",onClick:()=>{}}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:{base:"16px",lg:"14px"},color:at.name==="Custom"?"primary":"text_paragraph",children:"Custom RPC URL"})]}),(at.name==="Custom"||wt)&&jsxRuntimeExports.jsxs(InputGroup,{mt:"16px",h:"40px",borderRadius:"12px",border:"1px solid",borderColor:"border",children:[jsxRuntimeExports.jsx(Input,{p:"13px 16px",fontSize:{base:"16px",lg:"14px"},placeholder:"Custom RPC URL",value:Ct,onChange:Ut=>Dt(Ut.target.value)}),jsxRuntimeExports.jsx(InputRightAddon,{pr:"4px",children:jsxRuntimeExports.jsx(Button,{disabled:et(Ct),fontSize:"14px",fontWeight:"500",h:"32px",w:"78px",borderRadius:"8px",onClick:()=>{Nt({name:"Custom",link:Ct})},children:"Save"})})]})]})},H5RPCNode=()=>{const{currentNode:s}=useRpcConfigStore(),[a,et]=reactExports.useState(!1),nt=()=>{et(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(H5SettingItem,{icon:"#icon-icon_rpc",label:"RPC Node",value:s.name,onClick:()=>et(!0)}),jsxRuntimeExports.jsx(Modal,{isOpen:a,title:"RPC Node",onClose:()=>et(!1),footer:null,children:jsxRuntimeExports.jsx(Box,{mb:"12px",children:jsxRuntimeExports.jsx(RPCContent,{closeModal:nt})})})]})},H5Settings=({language:s,preferred:a,rpcNode:et,swapWidgetDisplay:nt})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SwapWidgetDisplay,{icon:nt.icon,h:"48px",borderRadius:"8px",color:"text_paragraph"}),jsxRuntimeExports.jsx(H5RPCNode,{}),jsxRuntimeExports.jsx(H5Preferred,{value:a.value,options:a.options,onValueChange:at=>a.onValueChange(at)})]}),ConnectButton=reactExports.lazy(()=>__vitePreload(()=>import("./ConnectButton-Cm_VI8Bl.js").then(s=>s.a),__vite__mapDeps([12,8,3,6]))),H5Header=({menus:s,logo:a,setting:et,notifications:nt,chain:at,jump:mt,isCetusPump:wt,children:$t})=>{const[Ct,Dt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Flex,{w:"100%",justifyContent:"space-between",align:"center",p:"0px 8px 0px 12px",h:"48px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[jsxRuntimeExports.jsx(Image$1,{src:"/images/img-logo@2x.png",h:"32px",alt:"logo",onClick:()=>mt("/")}),jsxRuntimeExports.jsxs(Flex,{align:"center",gap:"8px",children:[at&&jsxRuntimeExports.jsx(SwitchChain,{...at}),wt&&jsxRuntimeExports.jsx(BackButton,{w:"114px",h:"36px",text:"Back to DEX",onClick:()=>mt("/")}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{}),children:jsxRuntimeExports.jsx(ConnectButton,{isCetusPump:wt})}),nt&&jsxRuntimeExports.jsx(Notifications,{}),jsxRuntimeExports.jsx(Box,{w:"36px",h:"36px",p:"7px",bg:"bg_secondary",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{bg:"button_outline_hov_bg"},children:jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_menu",onClick:()=>Dt(!Ct)})})]})]}),jsxRuntimeExports.jsx(H5Menu,{menus:s,setting:et,title:jsxRuntimeExports.jsx(Image$1,{src:a.image,h:"32px",alt:"logo",onClick:()=>mt(a.url)}),isOpen:Ct,onClose:()=>Dt(!1),jump:mt,isCetusPump:wt,children:$t})]})},H5Menu=({menus:s,setting:a,title:et,isOpen:nt,onClose:at,jump:mt,isCetusPump:wt,children:$t})=>{var Lt;const{pathname:Ct}=useLocation(),Dt=s==null?void 0:s.find(Ut=>!!(Ut!=null&&Ut.socials)),[Ft,jt]=reactExports.useState([]),Nt=Ut=>{Ft.includes(Ut)?jt([]):jt([Ut])};return jsxRuntimeExports.jsx(Drawer,{title:et,isOpen:nt,onClose:at,placement:"left",size:"full",children:jsxRuntimeExports.jsxs(VStack,{w:"100%",h:"100%",justify:"space-between",children:[jsxRuntimeExports.jsx(VStack,{gap:"36px",w:"100%",align:"flex-start",mt:"32px",children:s.map(Ut=>{var Vt;if(Ut.children){const Yt=isMenuActive(Ut,Ct);return jsxRuntimeExports.jsxs(Box,{w:"100%",children:[jsxRuntimeExports.jsxs(HStack,{onClick:()=>Nt(Ut.title),sx:{p:{color:Yt?"text_caption":"text_paragraph"},svg:{fill:Yt?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsx(Text,{fontSize:"16px",children:Ut.title}),jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:Ft.includes(Ut.title)?"rotate(180deg)":"rotate(0deg)"})]}),Ft.includes(Ut.title)&&jsxRuntimeExports.jsx(VStack,{mt:"12px",bg:"bg_secondary",gap:"24px",p:"20px 16px",w:"100%",align:"flex-start",border:"1px solid",borderColor:"border",borderRadius:"8px",children:(Vt=Ut.children)==null?void 0:Vt.map(er=>{const tr=isMenuActive(er,Ct);return jsxRuntimeExports.jsx(Item,{item:{...er,onClick:(er==null?void 0:er.type)==="onClick"?()=>{var nr;(nr=er==null?void 0:er.onClick)==null||nr.call(er),at()}:void 0},jump:nr=>{mt==null||mt(nr),at()},isActive:tr},er.title)})})]},Ut.title)}return jsxRuntimeExports.jsx(NavLink,{type:Ut==null?void 0:Ut.type,onClick:()=>{(Ut==null?void 0:Ut.type)==="onClick"&&(mt==null||mt(Ut.path),at())},link:Ut.path,isActive:isMenuActive(Ut,Ct),children:jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:Ut.title})},Ut.title)})}),jsxRuntimeExports.jsxs(VStack,{w:"100%",children:[jsxRuntimeExports.jsx(H5Settings,{...a,isCetusPump:wt}),jsxRuntimeExports.jsx(HStack,{w:"100%",children:Dt&&(Dt==null?void 0:Dt.socials)&&((Lt=Dt==null?void 0:Dt.socials)==null?void 0:Lt.map(Ut=>jsxRuntimeExports.jsx(Flex,{flex:"1",onClick:()=>window.open(Ut.path),padding:"14px",h:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"center",align:"center",_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:Ut.icon?jsxRuntimeExports.jsx(Box,{children:typeof Ut.icon=="string"?jsxRuntimeExports.jsx(Icon,{xlinkHref:Ut.icon,variant:"gray"}):jsxRuntimeExports.jsx(Icon,{xlinkHref:Ut.icon.xlinkHref,variant:"gray"})}):null},Ut.title)))}),$t]})]})})},Item=({item:s,jump:a,isActive:et})=>{var mt;const[nt,at]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HStack,{justify:"space-between",h:"20px",lineHeight:"20px",onClick:()=>{var wt;return s!=null&&s.children&&((wt=s==null?void 0:s.children)==null?void 0:wt.length)>1?at(!nt):(s==null?void 0:s.type)==="onClick"?s==null?void 0:s.onClick():(s==null?void 0:s.type)==="_blank"?window.open(s.path,"_blank"):a(s.path)},sx:{p:{color:et?"text_caption":"text_paragraph"},svg:{fill:et?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:s==null?void 0:s.icon,variant:"gray"}),jsxRuntimeExports.jsxs(Box,{position:"relative",children:[jsxRuntimeExports.jsx(Text,{color:"inherit",fontSize:"16px",fontWeight:"500",children:s.title}),(s==null?void 0:s.beta)&&jsxRuntimeExports.jsx(Image$1,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),s.children&&s.children.length>0&&jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_arrow",fontSize:"16px",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:nt?"rotate(180deg)":"rotate(0deg)"})]},s.title),nt&&s.children&&s.children.length>0&&((mt=s.children)==null?void 0:mt.map(wt=>jsxRuntimeExports.jsx(Item,{item:wt,jump:a,isActive:!1},wt.title)))]})};var c=class{constructor(){sn(this,"_listeners",{})}on(s,a,et=0){this._listeners[s]||(this._listeners[s]=[]),a._priority=et,this._listeners[s].indexOf(a)===-1&&(this._listeners[s].push(a),this._listeners[s].length>1&&this._listeners[s].sort(this.listenerSorter))}listenerSorter(s,a){return s._priority-a._priority}off(s,a){if(this._listeners[s]===void 0)return;if(a===void 0){delete this._listeners[s];return}let et=this._listeners[s].indexOf(a);-1<et&&this._listeners[s].splice(et,1)}trigger(s,a={}){if(typeof s=="string"&&(s={type:s,data:typeof a=="object"&&a!==null?a:{}}),typeof this._listeners[s.type]<"u")for(let et=this._listeners[s.type].length-1;et>=0;et--)this._listeners[s.type][et](s)}destroy(){this._listeners={}}},r=class extends c{constructor(a=Math.random()*100|0){super();sn(this,"id");sn(this,"connected");sn(this,"connecting");sn(this,"isChild");sn(this,"debug");sn(this,"supported");sn(this,"origin");sn(this,"_sendLater");sn(this,"iframe");this.id=`BELLHOP:${a}`,this.connected=!1,this.isChild=!0,this.connecting=!1,this.debug=!1,this.origin="*",this._sendLater=[],this.iframe=null,this.receive=this.receive.bind(this)}receive(a){if(this.target===a.source){if(this.logDebugMessage(!0,a),a.data!=="connected"){let et=a.data;if(typeof et=="string")try{et=JSON.parse(et)}catch(nt){console.warn("Bellhop error: ",nt)}this.connected&&typeof et=="object"&&et.type&&this.trigger(et);return}this.onConnectionReceived(a.data)}}onConnectionReceived(a){if(this.connecting=!1,this.connected=!0,!this.isChild){if(!this.target)return;this.target.postMessage(a,this.origin)}for(let et=0;et<this._sendLater.length;et++){let{type:nt,data:at}=this._sendLater[et];this.send(nt,at)}this._sendLater.length=0,this.trigger("connected")}connect(a,et="*"){var nt;this.connecting||(this.disconnect(),this.connecting=!0,a instanceof HTMLIFrameElement&&(this.iframe=a),this.isChild=a===void 0,this.supported=!0,this.isChild&&(this.supported=window!=a),this.origin=et,window.addEventListener("message",this.receive),this.isChild&&(window===this.target?this.trigger("failed"):(nt=this.target)==null||nt.postMessage("connected",this.origin)))}disconnect(){this.connected=!1,this.connecting=!1,this.origin="",this.iframe=null,this.isChild=!0,this._sendLater.length=0,window.removeEventListener("message",this.receive)}send(a,et={}){var at;if(typeof a!="string")throw"The event type must be a string";let nt={type:a,data:et};this.logDebugMessage(!1,nt),this.connecting?this._sendLater.push(nt):(at=this.target)==null||at.postMessage(JSON.stringify(nt,(mt,wt)=>typeof wt=="bigint"?wt.toString():wt),this.origin)}fetch(a,et,nt={},at=!1){if(!this.connecting&&!this.connected)throw"No connection, please call connect() first";let mt=wt=>{at&&this.off(wt.type,mt),et(wt)};this.on(a,mt),this.send(a,nt)}respond(a,et={},nt=!1){let at=this,mt=async function(wt){nt&&at.off(wt,mt),typeof et=="function"?at.send(wt.type,await et()):at.send(wt.type,et)};this.on(a,mt)}logDebugMessage(a=!1,et){this.debug&&typeof this.debug=="function"?console.log({isChild:this.isChild,received:a,message:et}):this.debug&&console.log(`Bellhop Instance (${this.isChild?"Child":"Parent"}) ${a?"Received":"Sent"}`,et)}destroy(){super.destroy(),this.disconnect(),this._sendLater.length=0}get target(){var a;return this.isChild?window.parent:(a=this.iframe)==null?void 0:a.contentWindow}},M=class{constructor(s,a,et){sn(this,"accounts",[]);sn(this,"currentAccount");sn(this,"bellhop",new r);sn(this,"walletMessageListener");sn(this,"onAccountChangeListner");sn(this,"version","1.0.0");sn(this,"name","MSafe Wallet");sn(this,"icon","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ3IiBoZWlnaHQ9IjE3MCIgdmlld0JveD0iMCAwIDI0NyAxNzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTAyLjU5MyAyMy4wMTNDMTA3LjQ5OSAyNi4wNTU4IDExMC43OTQgMzAuODc4NSAxNDAuOTEyIDc5LjEwMzlDMTcyLjQxOSAxMjkuNTUyIDE3My44NjQgMTMyLjExNCAxNzMuODY0IDEzNy41MzZDMTczLjg2NCAxNDIuNDUxIDE3My4zNCAxNDMuNzI1IDE2OS45MTcgMTQ3LjExMkMxNjYuNDc2IDE1MC41MTggMTY1LjIyMiAxNTEuMDE5IDE2MC4xMzggMTUxLjAxOUMxNTUuNTg0IDE1MS4wMTkgMTUzLjUzNiAxNTAuMzc4IDE1MC43OTcgMTQ4LjA5N0MxNDguODY4IDE0Ni40OTEgMTM5Ljg2MiAxMzMuMTc1IDEzMC43ODUgMTE4LjUwOEMxMDMuNzE5IDc0Ljc3NDEgOTAuMDYxIDUzLjE2NzYgODkuNzI2NyA1My41NTQ5Qzg2LjY2ODUgNTcuMTAzMyA3OC42NjEgNzIuMzY1NiA3OC42NjEgNzQuNjQ0M0M3OC42NjEgNzYuNTM4IDg0LjQ0NjMgODcuMzAwNCA5My43MjA1IDEwMi42NThDMTAyLjAwMyAxMTYuMzc0IDEwOS41OTQgMTI5LjUyNCAxMTAuNTg5IDEzMS44ODFDMTE0LjQ2NCAxNDEuMDYyIDEwNy43NTQgMTUxLjAxOSA5Ny42ODc3IDE1MS4wMTlDOTQuODQwOSAxNTEuMDE5IDkxLjIxNTEgMTUwLjE3OCA4OS42MzAzIDE0OS4xNTFDODguMDQ1NSAxNDguMTIyIDgwLjk3OTUgMTM3Ljc4IDczLjkyODcgMTI2LjE2OUM2Ni44Nzc4IDExNC41NTYgNjAuNjc0NSAxMDUuMDU1IDYwLjE0MjggMTA1LjA1NUM1OS42MTEgMTA1LjA1NSA1My42OTMzIDExNC4yMzQgNDYuOTkzMSAxMjUuNDUyQzQwLjI5MjkgMTM2LjY2OSAzMy43MjYyIDE0Ni44MTUgMzIuNDAxNSAxNDcuOTk1QzMxLjA3NjcgMTQ5LjE3NiAyNy43MDYzIDE1MC4zOTYgMjQuOTEyOSAxNTAuNzA5QzE1LjgzODQgMTUxLjcyMSA5IDE0NS44NzggOSAxMzcuMTFDOSAxMzIuODQyIDkuMDQ4NzYgMTMyLjc1MiA0My41MzU2IDc0LjAyOTVDNTcuODI1NCA0OS42OTczIDcxLjIyMTIgMjguMDc5MyA3My4zMDQxIDI1Ljk4OTFDODEuMDc3MSAxOC4xODc5IDkyLjg4IDE2Ljk4OTQgMTAyLjU5MyAyMy4wMTNaTTE2Ni45MDEgMjMuMDIzM0MxNzAuMzA4IDI2LjQ4MjEgMjMzLjQ5OSAxMjcuMTE2IDIzNS40NDcgMTMyLjE4NUMyMzguMjU4IDEzOS41MDQgMjM1LjI3NyAxNDYuMzEyIDIyNy42NjUgMTQ5Ljk2QzIyMy41NDcgMTUxLjkzMyAyMjIuMDczIDE1Mi4xMSAyMTguMjQ1IDE1MS4wODlDMjE1Ljc0OSAxNTAuNDI0IDIxMi44NjYgMTQ4Ljk2IDIxMS44MzggMTQ3LjgzNUMyMTAuODA5IDE0Ni43MSAxOTQuNzk2IDEyMS41IDE3Ni4yNTMgOTEuODExOEMxNDAuMDU0IDMzLjg1NyAxNDAuMDQ0IDMzLjgzNTIgMTQ0LjI3NCAyNS43Mzk4QzE0OC4yNjMgMTguMTAxNyAxNjAuNTk0IDE2LjYyMjggMTY2LjkwMSAyMy4wMjMzWiIgZmlsbD0iIzQ4QjVBNyIvPgo8L3N2Zz4K");sn(this,"chains",[SUI_MAINNET_CHAIN,SUI_TESTNET_CHAIN]);sn(this,"features",{"standard:connect":{version:"1.0.0",connect:async()=>{this.bellhop.send("connect");let s=await this.fetch("account");return this.accounts=s,s.length>0&&(this.currentAccount=s[0]),{accounts:s}}},"standard:events":{version:"1.0.0",on:s=>()=>{}},"sui:signMessage":{version:"1.0.0",signMessage:async()=>{throw new Error("No impl")}},"sui:signPersonalMessage":{version:"1.0.0",signPersonalMessage:async()=>{throw new Error("No impl")}},"sui:signTransactionBlock":{version:"1.0.0",signTransactionBlock:async s=>this.proposeIntention(s)},"sui:signAndExecuteTransactionBlock":{version:"1.0.0",signAndExecuteTransactionBlock:async s=>this.proposeIntention(s)}});this.appName=s,this.clientUrl=a,this.network=et,this.bellhop.connect(),this.bellhop.on("walletMessage",async nt=>{this.walletMessageListener&&this.walletMessageListener.onMessage(nt.data)}),this.bellhop.on("accountChange",async nt=>{this.currentAccount=nt.data,this.onAccountChangeListner&&this.onAccountChangeListner.onAccountChange(this.currentAccount)})}setWalletMessageListener(s){this.walletMessageListener=s}setOnAccountChangeListener(s){this.onAccountChangeListner=s}static inMSafeWallet(){return typeof window<"u"&&typeof document<"u"&&typeof parent<"u"&&typeof parent.window<"u"&&parent.window!==window}async proposeIntention(s){if(!this.currentAccount)throw new Error("Wallet not connected");let a=s.transactionBlock.serialize();this.bellhop.send("proposeIntention",{application:this.appName,...s,transactionBlockSerialize:a,clientUrl:this.clientUrl,network:this.network,account:this.currentAccount,isTransaction:!0});let et;return this.bellhop.on("cancel",async()=>{et&&et("User canceled")}),new Promise((nt,at)=>{et=at})}async fetch(s){return new Promise(a=>{this.bellhop.fetch(s,et=>{a(et.data)})})}};function ConnectWalletModal(s){const{isOpen:a,onClose:et}=s,nt=useWallets(),{isApp:at}=useWindowWidth(),{mutate:mt}=useConnectWallet(),{customToast:wt,successTsToast:$t}=useGlobalToast(),Ct=Ft=>{wt(jsxRuntimeExports.jsxs(VStack,{gap:"8px",alignItems:"start",children:[jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Icon,{xlinkHref:"#icon-icon_close",variant:"error"}),jsxRuntimeExports.jsx(Heading,{fontSize:"14px",fontWeight:"400",whiteSpace:"nowrap",color:"primary_red",children:"Wallet Not Ready Error"})]}),jsxRuntimeExports.jsxs(HStack,{children:[jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"Please install"}),jsxRuntimeExports.jsx(Text,{cursor:"pointer",fontSize:"14px",color:"primary",wordBreak:"break-all",onClick:()=>{window.open(Ft.url,"_blank")},children:Ft.name}),jsxRuntimeExports.jsx(Text,{fontSize:"14px",color:"primary_gray",wordBreak:"break-all",children:"extension first"})]})]}))},Dt=Ft=>{console.log(" ~ file: ConnectWalletModal.tsx:30 ~ ConnectWalletModal ~ supportWalletList:",{supportWalletList:nt,wallet:Ft});const jt=(M==null?void 0:M.inMSafeWallet())&&(Ft==null?void 0:Ft.name)==="MSafe",Nt=nt.find(Ut=>Ut.name===Ft.walletName);if(!jt&&!Nt){Ct(Ft);return}const Lt=jt?{wallet:new M("cetus",getFullnodeUrl("mainnet"),"sui:mainnet"),silent:!0}:{wallet:Nt};mt(Lt,{onSuccess:Ut=>{$t({getShowInfo:Vt=>({iconUrl:Ft.icon.startsWith("http")?Ft.icon:`/images/wallet/${Ft.icon}.png`,toastTitleText:"Wallet Connected"})}),et(),console.log(" ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onSuccess:",Ft.name,Ut)},onError:Ut=>{console.log(" ~ file: ConnectWalletMode.tsx:29 ~ handleConnectWallet ~ onError:",Ut),String(Ut).includes("MetaMask not detected")&&Ct(Ft)}})};return jsxRuntimeExports.jsxs(Modal$1,{autoFocus:!1,returnFocusOnClose:!1,isOpen:a,onClose:et,isCentered:!0,children:[jsxRuntimeExports.jsx(ModalOverlay,{}),jsxRuntimeExports.jsxs(ModalContent,{minW:at?"300px":"552px",children:[jsxRuntimeExports.jsx(ModalHeader,{children:"Connect a Wallet"}),jsxRuntimeExports.jsx(ModalCloseButton,{}),jsxRuntimeExports.jsx(ModalBody,{p:"16px",textAlign:"center",children:jsxRuntimeExports.jsx(VStack,{children:jsxRuntimeExports.jsx(Grid,{templateColumns:at?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:13,w:"100%",children:suiWalletList.map(Ft=>jsxRuntimeExports.jsx(GridItem,{colSpan:1,children:jsxRuntimeExports.jsxs(HStack,{p:"0 12px",h:"60px",bg:"bg_six",borderRadius:"8px",border:"1px solid",borderColor:"border",cursor:"pointer",_hover:{p:{color:"primary"}},onClick:()=>{Dt(Ft)},children:[jsxRuntimeExports.jsx(Image$1,{src:Ft.icon.startsWith("http")?Ft.icon:`/images/wallet/${Ft.icon}.png`,alt:"SVG Image",boxSize:{base:"28px",lg:"36px"},objectFit:"cover",borderRadius:"8px",loading:"lazy"}),jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"4px",children:[Ft.name=="SuiMetaMaskSnap"?jsxRuntimeExports.jsxs(VStack,{align:"flex-start",gap:"0px",children:[jsxRuntimeExports.jsx(Text,{color:"text_caption",textAlign:"left",children:"Sui"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"MetaMask"}),jsxRuntimeExports.jsx(Text,{textAlign:"left",color:"text_caption",children:"Snap"})]}):jsxRuntimeExports.jsx(Text,{lineHeight:"16px",textAlign:"left",color:"text_caption",whiteSpace:"normal",wordBreak:"break-word",overflowWrap:"break-word",children:Ft.name}),Ft.name=="Binance"&&jsxRuntimeExports.jsx(Text,{fontWeight:"500",fontSize:"10px",p:"2px 6px",textAlign:"center",borderRadius:"4px",bg:"primary_opacity.10",color:"primary",children:"Mobile"})]})]})},Ft.name))})})})]})]})}const ConnectWalletModal$1=reactExports.memo(ConnectWalletModal),CetusLayout=reactExports.lazy(()=>__vitePreload(()=>import("./CetusLayout-CsrwZQsW.js").then(s=>s.C),__vite__mapDeps([13,14,15,16,12,8,3,6,17,18,19,2,20,21,22,23,24,25,26,7,27,28,29,30,1,10,31,32,33,34,35,36,9])));function Layout(){const{getTokens:s}=useGetTokens(),{currentAccount:a,addressChangeVersion:et}=useAccountStore(),{clearData:nt}=useXCetusStore();return reactExports.useEffect(()=>{(a===void 0||et>0)&&nt()},[a,et]),reactExports.useEffect(()=>{s()},[]),jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(ChakraProvider,{theme,children:jsxRuntimeExports.jsx(CetusLayout,{})})})}const Stats=reactExports.lazy(()=>__vitePreload(()=>import("./Stats-Bkb2xaaj.js"),__vite__mapDeps([37,38,39,40,41,42,22,43,33,44,45,15,46,47,18,6,48,49,50,51,1,2,3,52,53,34]))),Swap=reactExports.lazy(()=>__vitePreload(()=>import("./Swap-uz234sUa.js"),__vite__mapDeps([54,55,20,56]))),Dca=reactExports.lazy(()=>__vitePreload(()=>import("./Dca-DigZ9Eph.js"),__vite__mapDeps([57,58,20,59,55,26,41,6,34,60,22,10,8,61,62,63,2,25,19,21,7,64,29,36,32,33,65,1,3,66,67,68]))),Pools=reactExports.lazy(()=>__vitePreload(()=>import("./Pools-D4s11PgZ.js"),__vite__mapDeps([69,70,22,21,34,71,72,5,1,2,3,36,38,39,40,41,42,43,33,44,45,15,46,47,18,6,48,49,11,50,51,52,73,74,23,7,8,26,20,75,27,19,10,35,76,77,78,79,80,81,60,82,83,84,67,68,85]))),Liquidity=reactExports.lazy(()=>__vitePreload(()=>import("./Liquidity-ByQUWiKH.js"),__vite__mapDeps([86,50,22,39,73,74,23,70,21,2,7,8,26,20,75,27,19,10,52,35,36,34,76,77,78,79,1,3,80,81,60,14,15,16,40,41,42,43,33,44,45,46,47,18,6,53,82,61,62,67,68,87,88,89,31,90,83,84,91,92,72,5,93,63,94,95,66,28,32,17,29,65]))),PositionDetail=reactExports.lazy(()=>__vitePreload(()=>import("./PositionDetail-BLz9vxNg.js"),__vite__mapDeps([96,50,51,1,2,3,52,35,20,27,36,7,8,87,21,22,39,47,88,68,89,10,77,26,85,82,75,78,70,79,80,81,60,61,62,94,93,63,32,33,97,98,90,83,84,23,34,67]))),Farms=reactExports.lazy(()=>__vitePreload(()=>import("./Farms-Ei-jM_PH.js"),__vite__mapDeps([99,98,26,8,75,78,2,70,22,21,1,3,80,81,60,6,50,100,51,52,42,34,48,67,68]))),CreatePool=reactExports.lazy(()=>__vitePreload(()=>import("./CreatePool-DWLsGqrh.js"),__vite__mapDeps([101,91,2,27,92,14,15,16,72,5,1,3,36,81,21,22,10,31,95,66,89,7,8,32,33,94,102,93,26,20,78,70,79,75,63,88,68,34]))),Limit=reactExports.lazy(()=>__vitePreload(()=>import("./Limit-CmxrLc09.js"),__vite__mapDeps([103,41,6,60,26,8,2,1,3,100,78,70,22,21,50,98,75,80,81,51,52,42,25,19,20,7,63,32,33,65,58,59,55,104,24,27,28,29,30,10,31,56,35,36,16,15,45,66,67,68,34]))),SelectForLiquidity=reactExports.lazy(()=>__vitePreload(()=>import("./SelectForLiquidity-CVpsWuR2.js"),__vite__mapDeps([105,91,2,27,92,14,15,16,72,5,1,3,36,102,93,26,20,78,70,22,21,79,75,8,7,63,88]))),Vaults=reactExports.lazy(()=>__vitePreload(()=>import("./Vaults-lO9b41eg.js"),__vite__mapDeps([106,6,74,23,22,70,21,2,7,8,26,20,75,27,19,10,52,77,51,1,3,42,71,72,5,36,34,48]))),XCetus=reactExports.lazy(()=>__vitePreload(()=>import("./XCetus-d546KdDA.js"),__vite__mapDeps([107,26,75,8,7,84,2,32,33,30,10,77,67,68]))),VaultsDetailPage=reactExports.lazy(()=>__vitePreload(()=>import("./VaultsDetailPage-BD61eJZy.js"),__vite__mapDeps([108,35,20,27,36,7,8,74,23,22,70,21,2,26,75,19,10,6,34,77,1,3,76,64,43,33,44,45,15,46,47,18,109,53,31,110,32,61,62,52,97,94,78,79,93,63,50,98,80,81,60,90,83,84]))),Notfound=reactExports.lazy(()=>__vitePreload(()=>import("./404-DxB3gxPQ.js"),[])),ErrorPage=reactExports.lazy(()=>__vitePreload(()=>import("./Error-QgTAMiV5.js"),[])),TestCoin=reactExports.lazy(()=>__vitePreload(()=>import("./TestCoin-CV8MriDr.js"),[])),TestNotifi=reactExports.lazy(()=>__vitePreload(()=>import("./TestNotifi-CLZBc4pD.js"),__vite__mapDeps([111,83,84,2,79,78,70,22,21]))),RedirectToPools=()=>jsxRuntimeExports.jsx(Navigate,{to:"/pools",replace:!0}),router=[{path:"/",element:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(GeneralLoading,{}),children:jsxRuntimeExports.jsx(Layout,{})}),children:[{path:"swap",element:jsxRuntimeExports.jsx(Swap,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Swap,{})}]},{path:"limit",element:jsxRuntimeExports.jsx(Limit,{}),children:[{path:":pay/:target",element:jsxRuntimeExports.jsx(Limit,{})}]},{path:"dca",element:jsxRuntimeExports.jsx(Dca,{}),children:[{path:":from/:to",element:jsxRuntimeExports.jsx(Dca,{})}]},{path:"pools/*",element:jsxRuntimeExports.jsx(Pools,{})},{path:"pool/list",element:jsxRuntimeExports.jsx(RedirectToPools,{})},{path:"position-detail",element:jsxRuntimeExports.jsx(PositionDetail,{}),children:[{path:":position_nft_id",element:jsxRuntimeExports.jsx(PositionDetail,{})}]},{path:"select-pool",element:jsxRuntimeExports.jsx(SelectForLiquidity,{})},{path:"liquidity/*",element:jsxRuntimeExports.jsx(Liquidity,{})},{path:"create-pool",element:jsxRuntimeExports.jsx(CreatePool,{}),children:[{path:":base/:quote/:fee",element:jsxRuntimeExports.jsx(CreatePool,{})},{path:":base/:quote/",element:jsxRuntimeExports.jsx(CreatePool,{})}]},{path:"farms",element:jsxRuntimeExports.jsx(Farms,{})},{path:"vaults",element:jsxRuntimeExports.jsx(Vaults,{})},{path:"vaults-detail",element:jsxRuntimeExports.jsx(VaultsDetailPage,{}),children:[{path:":vaultId/:category",element:jsxRuntimeExports.jsx(VaultsDetailPage,{})}]},{path:"xCetus",element:jsxRuntimeExports.jsx(XCetus,{})},{path:"buy-crypto",element:jsxRuntimeExports.jsx("div",{children:"buy-crypto"})},{path:"stats",element:jsxRuntimeExports.jsx(Stats,{})},{path:"error",element:jsxRuntimeExports.jsx(ErrorPage,{})},{path:"test-notifi",element:jsxRuntimeExports.jsx(TestNotifi,{})},{path:"test-coin",element:jsxRuntimeExports.jsx(TestCoin,{})},{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/swap"})}]},{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/404"})},{path:"/404",element:jsxRuntimeExports.jsx(Notfound,{})}],router$1=createBrowserRouter(router),{networkConfig}=createNetworkConfig({mainnet:{url:getFullnodeUrl("mainnet")}}),queryClient=new QueryClient;function App(){return jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(SuiClientProvider,{networks:networkConfig,defaultNetwork:"mainnet",children:jsxRuntimeExports.jsx(WalletProvider,{autoConnect:!0,stashedWallet:{name:"Cetus"},children:jsxRuntimeExports.jsx(RouterProvider,{router:router$1})})})})}client$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(App,{})}));export{CoinPairImage as $,dataAttr as A,Box as B,Center as C,ariaAttr as D,mergeRefs as E,callAllHandlers as F,orient$1 as G,HStack as H,Icon as I,forwardRef as J,useMultiStyleConfig as K,omitThemingProps as L,useTheme as M,createContext as N,chakra as O,cx as P,usePeripherySDKStore as Q,create$3 as R,Skeleton as S,Text as T,Block as U,VStack as V,bnToAmount as W,formatNumber as X,timeFormatUTC as Y,Button as Z,__vitePreload as _,useNavigate as a,fetchGet as a$,useAccountStore as a0,SkeletonCircle as a1,useTokenPriceStore as a2,useTokenPrice as a3,d as a4,Decimal$1 as a5,useDebounceFunction as a6,toDecimalsAmount as a7,envConfigs$1 as a8,formatNumberWithDown as a9,fromDecimalsAmountFix as aA,Flex as aB,formatCurrency$1 as aC,Tooltip as aD,ee$1 as aE,useNotifiStore as aF,fixCoinType as aG,isSymbol as aH,isObject$1 as aI,root as aJ,useClmmSDKStore as aK,textEllipses as aL,removeComma as aM,Grid as aN,Divider$1 as aO,formatCurrencyWithKMB as aP,useDeepCompareEffect as aQ,d$3 as aR,amountToBN as aS,TickUtil as aT,isAvailableObject as aU,getBalanceChanges as aV,parsePositionIdFromEvent as aW,ModalFooter as aX,getNearestTickByTick as aY,formatTickPrice as aZ,extractStructTagFromType$1 as a_,useTokenSelectStore as aa,addComma as ab,Modal$1 as ac,ModalOverlay as ad,ModalContent as ae,ModalHeader as af,Heading as ag,ModalCloseButton as ah,ModalBody as ai,Input as aj,NumericFormatInput as ak,useGlobalToast as al,Image$1 as am,useInterval as an,CheckBox as ao,Switch as ap,CetusTooltip as aq,cancelBubble as ar,useGetTokenSource as as,IconTipsTriangle as at,Popover as au,PopoverTrigger as av,Portal as aw,PopoverContent as ax,PopoverBody as ay,fixRounding as az,useWindowWidth as b,Ae$1 as b$,useWebConfigStore as b0,useDisclosure as b1,BackButton as b2,useLocation as b3,H5MapTableItem as b4,transColumns2H5 as b5,timeFormat as b6,identity as b7,React$2 as b8,TickMath as b9,SliderFilledTrack as bA,SliderThumb as bB,W$1 as bC,useRpcConfigStore as bD,Comma as bE,formatTimestamp as bF,clsx as bG,castPath as bH,toKey as bI,isIndex as bJ,baseGet as bK,arrayMap as bL,formatNumberWithKMB as bM,persist as bN,VAULT_FILTER as bO,le as bP,B as bQ,CoinAssist as bR,qt as bS,ChakraProvider as bT,theme as bU,useSigner as bV,Transaction as bW,coinWithBalance as bX,TransactionUtil as bY,useNotifiAlert as bZ,buildPosition as b_,useParams as ba,getTickDataFromUrlData as bb,process$1 as bc,useColorMode as bd,BN as be,ClmmPoolUtil as bf,bnExports as bg,convertScientificToDecimal as bh,InputGroup as bi,InputRightAddon as bj,isSortedSymbols as bk,normalizeSuiAddress$1 as bl,formatPercentage as bm,Ni as bn,fromDecimalsAmount as bo,ke$1 as bp,Menu as bq,MenuButton as br,MenuList as bs,MenuItem as bt,baseIteratee as bu,fixDown as bv,formatNumberWithThreshold as bw,useXCetusStore as bx,Slider as by,SliderTrack as bz,SingleCoinImage as c,sleepTime as c$,g as c0,LocalStorageService as c1,POOL_FAVORITE_LIST as c2,IS_INCENTIVIZED_ONLY as c3,IS_ALL_POOLS as c4,IS_WATCH_LIST as c5,usePopoverContext as c6,usePopoverStyles as c7,CloseButton as c8,defaultNodes as c9,getWallets as cA,ReadonlyWalletAccount as cB,useCryptoStore as cC,useIntNotifi as cD,Outlet as cE,GeneralLoading as cF,global$1 as cG,__spreadArray as cH,__read$3 as cI,useSwitchAccount as cJ,addressAbridge as cK,formatDateTime as cL,useCurrentWallet as cM,useCurrentAccount as cN,useDisconnectWallet as cO,suiWalletList as cP,useTokenSelect as cQ,useStyleConfig as cR,useFormControlContext as cS,useFormControlStyles as cT,__assign$1 as cU,__awaiter as cV,__generator$1 as cW,__rest$1 as cX,baseIsEqual as cY,GridItem as cZ,FormControl as c_,src_default as ca,AggregatorClient22 as cb,Env as cc,SuiClient as cd,m_ as ce,_$1 as cf,ae as cg,j as ch,si as ci,Link$1 as cj,ExplorerContent as ck,RPCContent as cl,SwapWidgetDisplay as cm,isMenuActive as cn,NavLink as co,Notifications as cp,H5Header as cq,getAugmentedNamespace as cr,reactDomExports as cs,getDefaultExportFromCjs$2 as ct,defaultExplorers as cu,TokenSelectCard as cv,useTransactionStore as cw,useConnectWallet as cx,M as cy,getFullnodeUrl as cz,d$2 as d,BlankSpaceRegex as d$,dealWithFastRouterSwapParamsForMsafe as d0,InputRightElement as d1,getNative as d2,eq$1 as d3,isPrototype as d4,arrayLikeKeys as d5,isArrayLike as d6,overArg as d7,stubArray as d8,arrayPush as d9,getAllKeys as dA,TradeInput as dB,defineStyle$1 as dC,keyframes$1 as dD,dayjs as dE,crypto$1 as dF,generateOnRampURL as dG,Toast as dH,CoinSelect$2 as dI,CustomToast as dJ,Notfound$1 as dK,ErrorBoundary as dL,PreView as dM,TokenAvatar as dN,index as dO,Upload as dP,ToastTitle as dQ,TitleText as dR,ConnectWalletModal$1 as dS,useFileUpload as dT,getCroppedImg as dU,calcNumber as dV,replaceFilename as dW,ExcludeCNCharRegex as dX,ExcludeSpecialCharRegex as dY,SymbolExcludeSpecialCharRegex as dZ,SymbolLimitRegex as d_,getSymbols as da,baseGetAllKeys as db,Buffer$1 as dc,commonjsGlobal$1 as dd,axios_1$1 as de,base64ToUint8Array as df,TransactionDataBuilder as dg,parseOwnerBalanceChanges as dh,normalizeCoinType$1 as di,removePercentSign as dj,useTokenBalanceStore as dk,useTokenStore as dl,coinMetadataToCoinInfo as dm,Symbol$1 as dn,isArray as dp,isArguments as dq,isObjectLike as dr,baseGetTag as ds,keys as dt,Uint8Array$1 as du,getTag as dv,baseUnary as dw,nodeUtil as dx,isBuffer as dy,Stack as dz,useExplorer as e,WebSiteUrlRegex as e0,XUrlRegex as e1,DiscordRegex as e2,TelegramRegex as e3,SearchInput as e4,formatPrice as f,getTimeDifferenceString as g,TextWrap as h,SelectTab as i,jsxRuntimeExports as j,Spinner$1 as k,Stack$1 as l,useCallbackRef as m,getIsReversed as n,useControllableState as o,clampValue as p,percentToValue as q,reactExports as r,symbolDataDisplayProcessing as s,roundValueToStep as t,useFetch as u,valueToPercent as v,getStyles as w,getIds as x,useUpdateEffect as y,usePanEvent as z};
