import{ab as D,r as b,j as e,ar as v,T as H,aB as U,I as w,B as y,s as F,ad as V,af as L,ag as O,H as A,a_ as R,ai as q,aj as $,a1 as Y,aw as J,d as K,C as k,c as Q,cG as X,b as Z,$ as ee}from"./index-D49RffYW.js";import{L as oe}from"./Loading-DBRuHM4S.js";import{N as ne}from"./NoData-MWQZy93S.js";import{C as te}from"./CetusTooltip-7TnGbJNH.js";import{S as G}from"./SingleTokenInfo-Cvcahm1q.js";import{u as se}from"./useTokenBalance-Cc02jFZo.js";import{T as ie}from"./TokenGoplusCard-DblzFbeB.js";import{u as ae}from"./index-DMJCbpXt.js";import"./AddressCopyLink-BnCAac35.js";import"./AddressUnderline-CPGiMg8E.js";import"./useToken-BlS8b5ft.js";import"./useAccountBalance-D-weOZgA.js";import"./HTextLabelBox-DVxTk_Ir.js";const re=({keyword:o,currentTab:n,isHaveImg:s})=>{const{filterTokenLoading:c}=D(),p=b.useMemo(()=>{if(o)return"No tokens found";if(!o&&n==="Imported")return"No Imported Tokens";if(!o&&n==="Watchlist")return"No date avalaible"},[o,n]),x=b.useMemo(()=>o?e.jsxs(v,{alignItems:"center",children:[e.jsx(H,{height:"20px",lineHeight:"20px",children:"Or you can enter Coin Type"}),e.jsx(U,{label:"The unique id of coin",placement:"bottom",children:e.jsx("button",{children:e.jsx(w,{marginLeft:"4px",xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}):null,[o]);return c?null:e.jsx(ne,{type:"nodata",text:p,children:x,background:"none",noBorder:!0,noImg:!s})};function le(o){const{balanceInfo:n}=se(o.tokenInfo);return e.jsx(y,{fontSize:"14px",children:F(n==null?void 0:n.balanceFormat,"",o.tokenInfo.decimals)})}function ce({tokenInfo:o,onClose:n,onBack:s,isOpen:c}){return e.jsx(V,{autoFocus:!1,returnFocusOnClose:!1,isOpen:c,onClose:n,isCentered:!0,children:e.jsxs(L,{overflow:"hidden",children:[e.jsx(O,{children:e.jsxs(A,{gap:"12px",children:[e.jsx(R,{onClick:s}),e.jsx(G,{portal:!1,token:o,imgBoxStyle:{w:"28px",h:"28px"}})]})}),e.jsx(q,{onClick:()=>n()}),e.jsx($,{p:"0",children:e.jsx(ie,{tokenInfo:o})})]})})}const N=({token:o,onSelectToken:n,isDisableSelectTokenItem:s,lastSelectedToken:c,currentTab:p,delImportTokenList:x,addUserCollectToken:m,delUserCollectToken:t,userCollectObj:g,isShowCollectListBox:f,isShowTokenListTab:j,onGoplusTokenClick:u,onClose:T,isNotAllowClick:S=!1,isHideDelIcon:I=!1})=>{const{isShowImportBtn:r,setTokenModalOpacity:d}=D(),{currentAccount:l}=Y(),{getTokenSource:_,getTrustTokenSource:B}=J(),[i,z]=b.useState(!1);b.useEffect(()=>{if(o){const a=_([o]);a&&a.length>0&&z(!0)}},[o]);const[C,h]=b.useState(!1);return e.jsxs(v,{minH:"64px",justifyContent:"space-between",alignItems:"center",cursor:o.coin_type==c&&s||S?"not-allowed":"pointer",userSelect:"none",p:"0 16px",marginTop:"8px",_hover:{bg:"primary_opacity.10",borderRadius:"14px"},opacity:o.coin_type==c&&s?"0.5":"1",onClick:()=>{S||n(o)},children:[e.jsx(G,{portal:!1,symbolFontWeight:"600",token:o,haveAddress:!0,imgBoxStyle:{w:"32px",h:"32px"},symbolFontSize:"14px",symbolEllipsesDecimals:20,nameEllipsesDecimals:28,warningIcon:{isNeedShow:p!=="Imported"&&i}}),e.jsxs(v,{alignItems:"center",children:[(l==null?void 0:l.address)&&e.jsxs(y,{textAlign:"right",mr:"4px",children:[e.jsx(le,{tokenInfo:o}),(o==null?void 0:o.balanceUSD)!==void 0&&K(o==null?void 0:o.balanceUSD).gt(0)&&e.jsx(H,{mt:"6px",fontSize:"12px",children:F(o==null?void 0:o.balanceUSD)})]}),!I&&!(o!=null&&o.is_trusted)?e.jsx(w,{marginLeft:"2px",xlinkHref:"#icon-icon_del",svgHover:"primary",onClick:a=>{a.stopPropagation(),x([o])}}):null,g[o.coin_type]&&f?e.jsx(w,{marginLeft:"4px",xlinkHref:"#icon-icon_star_sel",svgFill:"primary",svgHover:"primary",onClick:a=>{a.stopPropagation(),t(o)}}):!r&&f?e.jsx(w,{marginLeft:"4px",xlinkHref:"#icon-icon_star",variant:"primary",onClick:a=>{a.stopPropagation(),m(o)}}):null,e.jsx(te,{placement:"top",tooltip:e.jsx(H,{fontSize:"12px",color:"text_caption",children:"Coin Info"}),children:e.jsx(k,{as:"button",ml:"4px",onClick:a=>{Q(a),u?u(o):(a.target.blur(),h(!0),d(0))},children:e.jsx(w,{xlinkHref:"#icon-icon_tips"})})})]}),C&&e.jsx(ce,{tokenInfo:o,isOpen:C,onBack:()=>{h(!1),d(1)},onClose:T})]})},pe=({list:o,onSelectToken:n,isDisableSelectTokenItem:s,lastSelectedToken:c,currentTab:p,delImportTokenList:x,addUserCollectToken:m,delUserCollectToken:t,userCollectObj:g,width:f,height:j,isShowCollectListBox:u,isShowTokenListTab:T,onClose:S,onGoplusTokenClick:I})=>{const r=b.useRef(null),d=ae({count:o.length,getScrollElement:()=>r.current,estimateSize:()=>64,overscan:10});return e.jsx("div",{ref:r,style:{height:j||"400px",overflowY:"auto"},children:e.jsx("div",{style:{height:`${d.getTotalSize()}px`,position:"relative"},children:d.getVirtualItems().map(l=>e.jsx("div",{style:{position:"absolute",top:l.start,left:0,width:"100%",height:l.size},children:e.jsx(N,{onGoplusTokenClick:I,onClose:S,token:o[l.index],onSelectToken:n,isDisableSelectTokenItem:s,lastSelectedToken:c,currentTab:p,delImportTokenList:x,addUserCollectToken:m,delUserCollectToken:t,isShowCollectListBox:u,isShowTokenListTab:T,userCollectObj:g})},o[l.index].coin_type))})})};function we(o){const{onSelectToken:n,keyword:s,currentLabel:c,currentTab:p,lastSelectedToken:x,isDisableSelectTokenItem:m,tokenList:t,isShowCollectListBox:g,isShowTokenListTab:f,onGoplusTokenClick:j,onClose:u,noDataHaveImg:T=!0,noClickImportItem:S=!1,bg:I,tokenListMaxHeight:r}=o,{delUserCollectToken:d,addUserCollectToken:l,addImportTokenList:_,delImportTokenList:B}=X(),{filterTokenList:i,filterTokenLoading:z,userCollectObj:C,isShowImportBtn:h}=D(),{isApp:a}=Z(),W=(t==null?void 0:t.length)>10,E=(t==null?void 0:t.length)>6;return e.jsxs(y,{maxHeight:r||"400px",pl:E?"4px":"0px",overflow:"auto",children:[h&&s&&(i==null?void 0:i.length)>0&&e.jsx(v,{padding:"0 16px 12px",marginTop:"10px",children:e.jsx(y,{p:"16px",bg:"primary_yellow_opacity.10",borderRadius:"12px",children:e.jsx(H,{color:"primary_yellow",align:"left",fontSize:"12px",lineHeight:"20px",children:"The token is not on the Frequently Traded List. Please note that anyone can create a token on Sui blockchain with any name, including creating fake versions of existing tokens or tokens that claim to represent projects that do not have a token. Always conduct your own research before trading."})})}),z?e.jsx(y,{height:r||"400px",position:"relative",borderRadius:"16px",overflow:"hidden",children:e.jsx(oe,{positionStyle:"absolute",bg:I})}):(t==null?void 0:t.length)>0?W?e.jsx(pe,{onGoplusTokenClick:j,list:t,onSelectToken:n,isDisableSelectTokenItem:m,lastSelectedToken:x,currentTab:p,isShowCollectListBox:g,isShowTokenListTab:f,delImportTokenList:B,addUserCollectToken:l,delUserCollectToken:d,userCollectObj:C,width:a?360:482,height:r,onClose:u}):e.jsx(y,{maxHeight:r||"400px",overflow:"auto",children:t==null?void 0:t.map((M,xe)=>e.jsx(N,{onGoplusTokenClick:j,token:M,onSelectToken:P=>{n(P)},isNotAllowClick:!!(S&&h&&s&&(i==null?void 0:i.length)>0),isShowCollectListBox:g,isShowTokenListTab:f,isDisableSelectTokenItem:m,isHideDelIcon:!!(h&&s&&(i==null?void 0:i.length)>0),lastSelectedToken:x,currentTab:p,delImportTokenList:B,addUserCollectToken:l,delUserCollectToken:d,userCollectObj:C,onClose:u},M.coin_type))}):e.jsx(re,{currentTab:p,keyword:s,isHaveImg:T}),h&&s&&e.jsx(k,{p:"16px 0",children:e.jsx(ee,{w:"120px",h:"36px",fontSize:"14px",onClick:()=>{_([i[0]]),n(i[0])},children:"Import"})})]})}export{we as default};
