{"version":3,"file":"SearchInputBlock-CUyjUB8A.js","sources":["../../src/components/pools/SearchInputBlock.tsx"],"sourcesContent":["import { Block, PoolsDropSelect } from '@cetus/design'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { Token } from '@cetus/types'\nimport { SingleCoinImage } from '@cetus/ui-kit'\nimport Icon from '@cetus/ui-kit/src/components/Icon'\nimport { cancelBubble, textEllipses } from '@cetus/utils'\nimport { Center, Flex, HStack, Popover, PopoverBody, PopoverContent, PopoverTrigger, Text } from '@chakra-ui/react'\nimport { useRef, useState } from 'react'\n\ninterface SearchInputProps {\n  selectCoinList: Token[]\n  onClickSelectCoinList: (tokenInfo: Token) => void\n  onDeleteSelectCoinList: (tokenInfo: Token) => void\n  whiteTokenList?: Token[]\n  isProfile?: boolean\n}\nexport default function SearchInputBlock({\n  whiteTokenList,\n  selectCoinList,\n  onClickSelectCoinList,\n  onDeleteSelectCoinList,\n  isProfile = false\n}: SearchInputProps) {\n  const [isShowList, setIsShowList] = useState(false)\n  const { isApp } = useWindowWidth()\n  const firstItemRef = useRef(null)\n  return (\n    <Popover\n      isLazy\n      placement=\"bottom-start\"\n      trigger=\"click\"\n      modifiers={[\n        {\n          name: 'flip',\n          enabled: false // Disable automatic flip\n        },\n        {\n          name: 'shift',\n          enabled: false // Disable automatic shift\n        }\n      ]}\n      initialFocusRef={firstItemRef}\n    >\n      <PopoverTrigger>\n        <Center\n          ref={firstItemRef}\n          as=\"button\"\n          minW={{\n            base: isProfile ? '100%' : 'calc(100% - 48px)',\n            lg: '292px'\n          }}\n        >\n          <Block\n            cursor={selectCoinList.length >= 2 ? 'not-allowed' : 'pointer'}\n            h={isProfile ? '32px' : '40px'}\n            borderRadius=\"12px\"\n            minW=\"100%\"\n            w=\"unset\"\n            p=\"0px 4px 0 10px\"\n            onClick={() => setIsShowList(true)}\n          >\n            <HStack w=\"100%\" justify=\"space-between\" h=\"100%\" align=\"center\">\n              <Flex align=\"center\" h=\"100%\">\n                <Icon xlinkHref=\"#icon-icon_search\" svgHover=\"text_paragraph\" />\n                <Text ml=\"4px\" whiteSpace=\"nowrap\">\n                  {isApp && selectCoinList.length >= 2 ? '' : 'Filter by token'}\n                </Text>\n              </Flex>\n              <HStack>\n                {selectCoinList?.map((item: Token) => {\n                  return (\n                    <HStack\n                      gap=\"4px\"\n                      align=\"center\"\n                      bg={isProfile ? 'none' : 'button_ghost_bg'}\n                      borderRadius=\"8px\"\n                      p={isProfile ? '5px 0' : '5px 8px'}\n                      key={item?.coin_type}\n                    >\n                      <SingleCoinImage imageUrl={item?.logo_url} w=\"20px\" h=\"20px\" />\n                      <Text ml=\"2px\" color=\"text_caption\">\n                        {isApp ? textEllipses(item?.symbol || '', 5) : textEllipses(item?.symbol || '', 10)}\n                      </Text>\n                      <Icon\n                        xlinkHref=\"#icon-icon_close\"\n                        onClick={(e: any) => {\n                          cancelBubble(e)\n                          onDeleteSelectCoinList(item)\n                          setIsShowList(false)\n                        }}\n                      />\n                    </HStack>\n                  )\n                })}\n              </HStack>\n            </HStack>\n          </Block>\n        </Center>\n      </PopoverTrigger>\n      {isShowList && selectCoinList?.length < 2 && (\n        <PopoverContent\n          w={{\n            base: isProfile ? 'calc(100vw - 24px)' : 'calc(100vw - 68px)',\n            lg: '292px'\n          }}\n        >\n          <PopoverBody p=\"0px\">\n            <PoolsDropSelect\n              whiteTokenList={whiteTokenList}\n              selectTokenList={selectCoinList}\n              onDeleteToken={onDeleteSelectCoinList}\n              onClickToken={onClickSelectCoinList}\n            />\n          </PopoverBody>\n        </PopoverContent>\n      )}\n    </Popover>\n  )\n}\n"],"names":["SearchInputBlock","whiteTokenList","selectCoinList","onClickSelectCoinList","onDeleteSelectCoinList","isProfile","isShowList","setIsShowList","useState","isApp","useWindowWidth","firstItemRef","useRef","jsxs","Popover","jsx","PopoverTrigger","Center","Block","HStack","Flex","Icon","Text","item","SingleCoinImage","textEllipses","e","cancelBubble","PopoverContent","PopoverBody","PoolsDropSelect"],"mappings":"2NAgBA,SAAwBA,EAAiB,CACvC,eAAAC,EACA,eAAAC,EACA,sBAAAC,EACA,uBAAAC,EACA,UAAAC,EAAY,EACd,EAAqB,CACnB,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAAS,EAAK,EAC5C,CAAE,MAAAC,CAAM,EAAIC,EAAe,EAC3BC,EAAeC,SAAO,IAAI,EAE9B,OAAAC,EAAA,KAACC,EAAA,CACC,OAAM,GACN,UAAU,eACV,QAAQ,QACR,UAAW,CACT,CACE,KAAM,OACN,QAAS,EACX,EACA,CACE,KAAM,QACN,QAAS,EAAA,CAEb,EACA,gBAAiBH,EAEjB,SAAA,CAAAI,MAACC,EACC,CAAA,SAAAD,EAAA,IAACE,EAAA,CACC,IAAKN,EACL,GAAG,SACH,KAAM,CACJ,KAAMN,EAAY,OAAS,oBAC3B,GAAI,OACN,EAEA,SAAAU,EAAA,IAACG,EAAA,CACC,OAAQhB,EAAe,QAAU,EAAI,cAAgB,UACrD,EAAGG,EAAY,OAAS,OACxB,aAAa,OACb,KAAK,OACL,EAAE,QACF,EAAE,iBACF,QAAS,IAAME,EAAc,EAAI,EAEjC,SAAAM,EAAAA,KAACM,GAAO,EAAE,OAAO,QAAQ,gBAAgB,EAAE,OAAO,MAAM,SACtD,SAAA,CAAAN,EAAA,KAACO,EAAK,CAAA,MAAM,SAAS,EAAE,OACrB,SAAA,CAAAL,EAAA,IAACM,EAAK,CAAA,UAAU,oBAAoB,SAAS,iBAAiB,EAC9DN,EAAAA,IAACO,EAAK,CAAA,GAAG,MAAM,WAAW,SACvB,SAAAb,GAASP,EAAe,QAAU,EAAI,GAAK,iBAC9C,CAAA,CAAA,EACF,EACCa,EAAA,IAAAI,EAAA,CACE,SAAgBjB,GAAA,YAAAA,EAAA,IAAKqB,GAElBV,EAAA,KAACM,EAAA,CACC,IAAI,MACJ,MAAM,SACN,GAAId,EAAY,OAAS,kBACzB,aAAa,MACb,EAAGA,EAAY,QAAU,UAGzB,SAAA,CAAAU,MAACS,GAAgB,SAAUD,GAAA,YAAAA,EAAM,SAAU,EAAE,OAAO,EAAE,OAAO,QAC5DD,EAAK,CAAA,GAAG,MAAM,MAAM,eAClB,WAAQG,GAAaF,GAAA,YAAAA,EAAM,SAAU,GAAI,CAAC,EAAIE,GAAaF,GAAA,YAAAA,EAAM,SAAU,GAAI,EAAE,EACpF,EACAR,EAAA,IAACM,EAAA,CACC,UAAU,mBACV,QAAUK,GAAW,CACnBC,EAAaD,CAAC,EACdtB,EAAuBmB,CAAI,EAC3BhB,EAAc,EAAK,CAAA,CACrB,CAAA,CACF,CAAA,EAbKgB,GAAA,YAAAA,EAAM,SAcb,EAGN,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CAAA,EAEJ,EACCjB,IAAcJ,GAAA,YAAAA,EAAgB,QAAS,GACtCa,EAAA,IAACa,EAAA,CACC,EAAG,CACD,KAAMvB,EAAY,qBAAuB,qBACzC,GAAI,OACN,EAEA,SAAAU,EAAA,IAACc,EAAY,CAAA,EAAE,MACb,SAAAd,EAAA,IAACe,EAAA,CACC,eAAA7B,EACA,gBAAiBC,EACjB,cAAeE,EACf,aAAcD,CAAA,CAAA,CAElB,CAAA,CAAA,CAAA,CACF,CAAA,CAEJ,CAEJ"}