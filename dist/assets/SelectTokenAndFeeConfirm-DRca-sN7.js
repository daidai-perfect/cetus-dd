import{u as R}from"./useToken-BlS8b5ft.js";import{aE as F,b9 as H,r as j,a9 as Q,bx as P,a as D,j as t,V as g,ah as I,T as a,m as O,bu as $,H as m,I as E,B as W,$ as M,aZ as G,ap as N,aq as U,a2 as V,S as v,g as A,as as Z,at as J,au as K,ad as X,ae as Y,af as L,ai as k,aj as q,aU as T}from"./index-D49RffYW.js";import{i as w}from"./index-BzKWeyUu.js";import{a as tt}from"./FeeTierSelect-D2y7F8IR.js";import{P as st}from"./index-drVjB88T.js";function nt(n,s){return n>s}function ot(n,s,c){for(var l=-1,o=n.length;++l<o;){var i=n[l],r=s(i);if(r!=null&&(x===void 0?r===r&&!F(r):c(r,x)))var x=r,d=i}return d}function it(n,s){return n&&n.length?ot(n,H(s),nt):void 0}function xt(){const[n,s]=j.useState([]),{getTokenInfo:c}=R();j.useEffect(()=>{s(l())},[]);const l=()=>{const i=[];return Q.create_pool_quote_coin_list.forEach(r=>{const x=c(r);x&&i.push(x)}),i};return{isWhiteQuoteToken:j.useCallback(i=>i?n.find(r=>P(r.coin_type)===P(i))!==void 0:!1,[n]),quoteWhiteTokenList:n}}function pt({baseToken:n,quoteToken:s,onBaseTokenChange:c,onQuoteTokenChange:l,feeTier:o,feeTierList:i,onFeeTierChange:r,title:x,description:d,onContinue:C,quoteWhiteTokenList:p,fromSource:h,wrapStyle:_={}}){var z;D(),j.useEffect(()=>{if(h==="addLiquidity"&&(i==null?void 0:i.length)>0){const e=it(i,b=>Number((b==null?void 0:b.tvl)||"0"));e&&r(e)}},[h,i]);const y=e=>{(e==null?void 0:e.coin_type)===(s==null?void 0:s.coin_type)&&l(void 0),c(e)},f=e=>{(e==null?void 0:e.coin_type)===(n==null?void 0:n.coin_type)&&c(void 0),l(e)},S=j.useMemo(()=>n&&s&&!w(n,p)&&!w(s,p),[n==null?void 0:n.coin_type,s==null?void 0:s.coin_type]),u=j.useRef(null);return t.jsxs(g,{w:"100%",gap:{base:"16px",lg:"28px"},bg:"bg_fifth",borderRadius:"12px",p:{base:"16px 8px",lg:"24px"},..._,children:[t.jsxs(g,{gap:"8px",w:"100%",align:"flex-start",children:[t.jsx(I,{fontSize:"16px",fontWeight:"500",children:x}),t.jsx(a,{fontSize:"12px",fontWeight:"500",children:d})]}),t.jsxs(g,{w:"100%",gap:{base:"16px",lg:"32px"},children:[t.jsxs(O,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"12px",justify:"space-between",children:[t.jsx(B,{title:"Base token",value:n,isWhiteSelect:h==="createPool"&&!w(s,p),whiteTokenList:w(s,p)?void 0:p,onChange:y}),t.jsx(B,{title:"Quote token",value:s,isWhiteSelect:h==="createPool"&&!w(n,p),whiteTokenList:w(n,p)?void 0:p,onChange:f})]}),t.jsxs(g,{w:"100%",align:"flex-start",gap:"16px",children:[t.jsxs(g,{w:"100%",align:"flex-start",gap:"8px",children:[t.jsx(a,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Fee tier"}),t.jsx(a,{fontSize:"12px",fontWeight:"500",children:`The ${typeof o=="object"&&(o==null?void 0:o.feeDisplay)||"%"} you will earn in fees.`})]}),t.jsx(tt,{value:o,onChange:e=>r(e),feeTierList:i,placement:"bottom",wrapStyle:{w:((z=u==null?void 0:u.current)==null?void 0:z.clientWidth)||"463px"},children:({isOpen:e,onClick:b})=>t.jsx($,{w:"100%",borderRadius:"12px",h:"48px",border:"1px solid",borderColor:"border",cursor:"pointer",onClick:b,bg:"bg_secondary",ref:u,children:t.jsxs(m,{w:"100%",justifyContent:"space-between",p:"9px 16px",children:[o?t.jsx(a,{color:"text_caption",fontSize:"16px",fontWeight:"500",children:`${typeof o=="object"&&(o==null?void 0:o.feeDisplay)}`}):t.jsx(a,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:"Select fee tier"}),t.jsxs(m,{children:[t.jsx(a,{fontSize:"12px",children:typeof o=="object"&&(o==null?void 0:o.title)}),t.jsx(E,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:e?"rotate(180deg)":"rotate(0deg)"})]})]})})}),S&&t.jsx(W,{p:"6px 16px",w:"100%",borderRadius:"8px",bg:"primary_red_opacity.10",children:t.jsx(a,{fontSize:"12px",lineHeight:"16px",color:"primary_red",children:"To create a pool, one of the assets needs to be selected as the default token."})})]}),t.jsx(M,{w:"100%",borderRadius:"12px",h:"48px",disabled:!n||!s||!o||(o==null?void 0:o.disabled)||S,onClick:()=>C({baseToken:n,quoteToken:s,feeTier:o}),children:"Continue"})]})]})}const B=({title:n,value:s,onChange:c,whiteTokenList:l,isWhiteSelect:o,disabled:i=!1,wrapStyle:r={},symbolStyle:x={},tokenSize:d="28px",tokenStyle:C={},loading:p=!1})=>{var S;const{isOpen:h,onOpen:_,onClose:y}=G(),f=j.useRef(null);return t.jsx(t.Fragment,{children:t.jsxs(N,{modifiers:[{name:"flip",enabled:!1},{name:"shift",enabled:!1}],initialFocusRef:f,isLazy:!0,isOpen:h,trigger:"click",onClose:y,onOpen:_,placement:"bottom-start",children:[t.jsx(U,{children:t.jsx(W,{w:"100%",as:"button",ref:f,disabled:i,children:p?t.jsxs(m,{children:[t.jsx(V,{w:d,h:d}),t.jsx(v,{h:x.fontSize||"16px"})]}):t.jsxs(g,{flex:"1",gap:"8px",align:"flex-start",children:[n&&t.jsx(a,{fontSize:"12px",fontWeight:"500",children:n}),t.jsxs(m,{h:"48px",w:"100%",justify:"space-between",p:"9px 16px",cursor:"pointer",onClick:_,borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"bg_secondary",...r,children:[s?t.jsxs(m,{children:[t.jsx(A,{imageUrl:s==null?void 0:s.logo_url,w:d,h:d,coinType:s==null?void 0:s.coin_type,...C}),t.jsx(a,{color:"text_caption",fontSize:"16px",fontWeight:"600",whiteSpace:"nowrap",...x,children:Z(s==null?void 0:s.symbol)})]}):t.jsx(a,{color:"text_caption",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Select token"}),t.jsx(E,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:h?"rotate(180deg)":"rotate(0deg)"})]})]})})}),t.jsx(J,{w:((S=f==null?void 0:f.current)==null?void 0:S.clientWidth)||"224px",minW:"224px",children:t.jsx(K,{p:"0",children:t.jsx(st,{selectTokenList:s?[s]:[],onClickToken:u=>{c(u),y()},whiteTokenList:l,hideCheckbox:!0})})})]})})};function dt({title:n,subTitle:s,btnText:c,isOpen:l,onClose:o,onConfirm:i}){return t.jsxs(X,{autoFocus:!1,returnFocusOnClose:!1,isOpen:l,onClose:o,isCentered:!0,children:[t.jsx(Y,{}),t.jsxs(L,{children:[t.jsx(k,{}),t.jsx(q,{p:"20px 16px",children:t.jsxs(g,{children:[t.jsx(W,{w:"200px",h:"200px",bg:"url('/images/img_create_pool.png')"}),t.jsx(a,{h:"20px",lineHeight:"20px",fontSize:"14px",color:"text_caption",fontWeight:"500",children:n}),s&&t.jsx(a,{fontSize:"14px",children:s})]})}),t.jsx(T,{p:"0 16px 16px",children:t.jsx(M,{w:"100%",h:"40px",borderRadius:"12px",colorScheme:"blue",fontSize:"16px",fontWeight:"500",onClick:()=>{o(),i()},children:c})})]})]})}export{B as S,dt as a,pt as b,it as m,xt as u};
