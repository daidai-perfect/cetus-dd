{"version":3,"file":"Farms-BNTjIgIY.js","sources":["../../src/components/farms/FarmsBanner.tsx","../../src/components/farms/FarmsListH5.tsx","../../src/components/farms/FarmsTabFilter.tsx","../../src/hooks/farms/useGetFarmList.ts","../../src/pages/Farms.tsx"],"sourcesContent":["import useFarmsActions from '@/hooks/farms/useFarmsAction'\nimport usePositionList from '@/hooks/position/usePositionList'\nimport usePositionStore from '@/store/position'\nimport { PosBaseInfo } from '@/types'\nimport { useAccountStore } from '@cetus/stores'\nimport { d, formatCurrency } from '@cetus/utils'\nimport { Box, Button, Skeleton, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useRef } from 'react'\n\ntype FarmsBannerProps = {\n  totalRewards: string\n}\n\nexport function FarmsBanner(props: FarmsBannerProps) {\n  const { totalRewards } = props\n  const { currentAccount } = useAccountStore()\n  const { posBaseList } = usePositionStore()\n  const { getPositionBaseList, getPosRelatedData } = usePositionList()\n  const { toClaimAllPos, claimLoading } = useFarmsActions()\n  const rewardRef = useRef<HTMLParagraphElement | null>(null)\n  const getPosList = async () => {\n    if (currentAccount?.address) {\n      const list = await getPositionBaseList(currentAccount?.address as string)\n      getPosRelatedData(list as PosBaseInfo[], true)\n    }\n  }\n  const toClaimAll = () => {\n    toClaimAllPos(posBaseList, getPosList)\n  }\n\n  useEffect(() => {\n    if (rewardRef?.current) {\n      rewardRef.current.textContent = formatCurrency(totalRewards, 2)\n    }\n  }, [totalRewards])\n  return (\n    <VStack\n      w=\"100%\"\n      pos=\"absolute\"\n      alignItems=\"start\"\n      sx={{\n        backgroundImage: { base: \"url('/images/farms_banner_h5.png')\", lg: \"url('/images/farms.png')\" },\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat'\n      }}\n    >\n      <VStack minW=\"1200px\" p=\"40px 20px 0\" margin=\"0px auto\" gap=\"12px\" h=\"240px\" alignItems=\"start\">\n        <Text color=\"text_caption\" fontSize=\"28px\" fontWeight=\"500\">\n          Farms\n        </Text>\n        <Text fontSize=\"16px\">Stake your positions to earn higher yield.</Text>\n        {currentAccount?.address && (\n          <Box h=\"20px\" mt=\"16px\">\n            <Skeleton isLoaded={!!totalRewards}>\n              <Text color=\"primary\" fontSize=\"20px\" fontWeight=\"500\" ref={rewardRef}>\n                {/* {formatCurrency(totalRewards, 2)} */}\n              </Text>\n            </Skeleton>\n          </Box>\n        )}\n        {currentAccount?.address && (\n          <Button\n            isLoading={claimLoading}\n            disabled={claimLoading || totalRewards == '--' ? true : d(totalRewards).lte(0)}\n            // w=\"170px\"\n            h=\"28px\"\n            fontSize=\"14px\"\n            borderRadius=\"8px\"\n            onClick={toClaimAll}\n          >\n            Claim All Rewards\n          </Button>\n        )}\n      </VStack>\n    </VStack>\n  )\n}\n","import usePositionStore from '@/store/position'\nimport { PoolApiInfo, PosBaseInfo, PosReward } from '@/types'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport { useAccountStore } from '@cetus/stores'\nimport useTokenPriceStore from '@cetus/stores/src/tokenPrice'\nimport { Icon, NoData } from '@cetus/ui-kit'\nimport { d } from '@cetus/utils'\nimport { Box, Button, HStack, Skeleton, SkeletonCircle, Text, VStack } from '@chakra-ui/react'\nimport { ReactNode, useMemo, useState } from 'react'\nimport AprTooltip from '../common/aprTooltip'\nimport { FarmsExpendBlock } from './FarmsTableItem'\nimport { RewardsBlock } from './RewardsBlock'\nimport { StakedBlock } from './StakedBlock'\nimport { TotalEarnedBlock } from './TotalEarnedBlock'\nimport { ValidRangeBlock } from './ValidRangeBlock'\n\ntype FarmsListH5Props = {\n  dataList: any\n  showSkeletonLoading: boolean\n  currTabLabel: string\n}\n\nfunction FarmsListH5({ dataList, showSkeletonLoading, currTabLabel }: FarmsListH5Props) {\n  const { currentAccount, onWalletModal } = useAccountStore()\n  return (\n    <>\n      {currTabLabel == 'Your Farms' && !currentAccount?.address ? (\n        <NoData\n          type=\"nowallet\"\n          onboard={() => {\n            onWalletModal(true)\n          }}\n        />\n      ) : showSkeletonLoading ? (\n        <FarmsH5Loading />\n      ) : dataList.length === 0 ? (\n        <NoData type=\"nodata\" text=\"No farms found\" />\n      ) : (\n        <VStack w=\"100%\">\n          {dataList.map((apiInfo: any) => {\n            return <H5Item key={apiInfo?.poolAddress} apiInfo={apiInfo} />\n          })}\n        </VStack>\n      )}\n    </>\n  )\n}\nconst H5Item = ({ apiInfo }: { apiInfo: PoolApiInfo }) => {\n  const { getTokenAmountValue } = useTokenPrice()\n  const { coinPriceObj } = useTokenPriceStore()\n  console.log('🚀 ~ FarmsTableItem ~ apiInfo:', apiInfo)\n  const { currentAccount, onWalletModal } = useAccountStore()\n\n  const [openExpendItemObj, setOpenExpendItemObj] = useState<Record<string, boolean>>({})\n\n  const { farmsPosRewardsDataLoading, farmsPosRewardsData, posBaseListLoading, posBaseListGroupByPool } = usePositionStore()\n\n  // 计算单个池子所有仓位的Earned\n  const totalEarned = useMemo(() => {\n    if (!currentAccount?.address || !apiInfo?.poolAddress) return '--'\n    if (!posBaseListLoading && !farmsPosRewardsDataLoading) {\n      // 用posBaseListGroupByPool[apiInfo.poolAddress]?.list遍历一个池子下的所有仓位\n      const posBaseList = posBaseListGroupByPool[apiInfo.poolAddress]?.list || []\n\n      // 累加所有仓位的farms奖励\n      return posBaseList.reduce((total: any, item: PosBaseInfo) => {\n        // 累加单个仓位的所有farms奖励\n        const posFarmsData = farmsPosRewardsData[item?.id] || []\n        console.log('🚀 ~ returnposBaseList.reduce ~ posFarmsData:', total, posFarmsData)\n        const totalAmount = posFarmsData.reduce((sum: any, rewardData: PosReward) => {\n          if (sum === '--') return '--'\n\n          const amountValue = getTokenAmountValue(rewardData?.token.coin_type, rewardData?.display_amount_owed, '--')\n          return amountValue === '--' ? '--' : d(sum).plus(amountValue).toString()\n        }, '0')\n\n        return total === '--' || totalAmount === '--' ? '--' : d(total).plus(totalAmount).toString()\n      }, '0')\n    }\n  }, [posBaseListLoading, farmsPosRewardsData, farmsPosRewardsDataLoading, coinPriceObj, currentAccount?.address])\n\n  const expendList = useMemo(() => {\n    const list =\n      posBaseListGroupByPool?.[apiInfo?.poolAddress]?.list\n        ?.filter(item => item.posType !== 'burn')\n        .sort((a: PosBaseInfo, b: PosBaseInfo) => Number(b.liquidity) - Number(a.liquidity)) || []\n    console.log('🚀 ~ expendList ~ list:', list)\n    return list\n  }, [apiInfo?.poolAddress, posBaseListGroupByPool])\n\n  return (\n    <VStack gap=\"16px\" w=\"100%\" align=\"flex-start\" bg=\"bg_fifth\" border=\"1px solid\" borderColor=\"border\" p=\"8px\" borderRadius=\"12px\">\n      <ValidRangeBlock apiInfo={apiInfo} />\n      <LabelValue\n        label=\"Staked TVL\"\n        value={\n          <Text fontWeight=\"500\" textColor=\"text_caption\" textAlign=\"right\">\n            {apiInfo?.farmsStatedTvlDisplay}\n          </Text>\n        }\n      />\n      <LabelValue label=\"APR\" value={<AprTooltip poolInfo={apiInfo} isPosition={true} />} />\n      <LabelValue label=\"Rewards / day\" value={<RewardsBlock apiInfo={apiInfo} />} />\n      <LabelValue label=\"Your Staked\" value={<StakedBlock apiInfo={apiInfo} />} />\n      <LabelValue\n        label=\"Your Earned\"\n        value={<TotalEarnedBlock totalEarned={totalEarned} apiInfo={apiInfo} disabled={totalEarned == '--' ? true : d(totalEarned).lte(0)} />}\n      />\n      <Button\n        w=\"100%\"\n        h=\"40px\"\n        borderRadius=\"8px\"\n        variant=\"ghost\"\n        onClick={() => {\n          if (openExpendItemObj[apiInfo?.poolAddress]) {\n            openExpendItemObj[apiInfo?.poolAddress] = false\n          } else {\n            openExpendItemObj[apiInfo?.poolAddress] = true\n          }\n          setOpenExpendItemObj({ ...openExpendItemObj })\n        }}\n        sx={{\n          _hover: {\n            svg: {\n              fill: 'text_caption'\n            }\n          }\n        }}\n      >\n        <Icon\n          svgW=\"16px\"\n          xlinkHref=\"#icon-icon_arrow\"\n          variant=\"gray\"\n          transition=\"transform 0.5s\"\n          transform={openExpendItemObj[apiInfo?.poolAddress] ? 'rotate(180deg)' : 'rotate(0deg)'}\n        />\n      </Button>\n      {openExpendItemObj[apiInfo?.poolAddress] && <FarmsExpendBlock expendList={expendList} apiInfo={apiInfo} />}\n    </VStack>\n  )\n}\nconst LabelValue = ({ label, value }: { label: string; value: ReactNode }) => {\n  return (\n    <HStack w=\"100%\" justify=\"space-between\">\n      <Text>{label}</Text>\n      {value}\n    </HStack>\n  )\n}\n\nconst FarmsH5Loading = () => {\n  return (\n    <VStack w=\"100%\" align=\"flex-start\">\n      {[{}, {}, {}].map((item, index) => {\n        return (\n          <VStack\n            key={index}\n            w=\"100%\"\n            align=\"flex-start\"\n            gap=\"16px\"\n            bg=\"bg_fifth\"\n            border=\"1px solid\"\n            borderColor=\"border\"\n            p=\"8px\"\n            borderRadius=\"12px\"\n          >\n            <HStack gap=\"0\">\n              <SkeletonCircle size=\"9\" />\n              <SkeletonCircle size=\"9\" />\n              <Box w=\"4px\" />\n              <Skeleton height=\"4\" width=\"150px\" />\n            </HStack>\n            <HStack w=\"100%\" gap=\"4px\" ml=\"4px\" justify=\"space-between\">\n              <Skeleton height=\"4\" width=\"120px\" />\n              <Skeleton height=\"4\" width=\"120px\" />\n            </HStack>\n            <HStack w=\"100%\" gap=\"4px\" ml=\"4px\" justify=\"space-between\">\n              <Skeleton height=\"4\" width=\"120px\" />\n              <Skeleton height=\"4\" width=\"120px\" />\n            </HStack>\n            <HStack w=\"100%\" gap=\"4px\" ml=\"4px\" justify=\"space-between\">\n              <Skeleton height=\"4\" width=\"120px\" />\n              <Skeleton height=\"4\" width=\"120px\" />\n            </HStack>\n            <HStack w=\"100%\" gap=\"4px\" ml=\"4px\" justify=\"space-between\">\n              <Skeleton height=\"4\" width=\"120px\" />\n              <Skeleton height=\"4\" width=\"120px\" />\n            </HStack>\n          </VStack>\n        )\n      })}\n    </VStack>\n  )\n}\nexport default FarmsListH5\n","import { SelectTab, SortDropBlock } from '@cetus/design'\nimport { Tab } from '@cetus/design/src/components/common/SelectTab'\nimport { SortDropType } from '@cetus/design/src/components/common/SortDropBlock'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { RefreshButton } from '@cetus/ui-kit'\nimport { HStack } from '@chakra-ui/react'\nexport type sortRule = 'desc' | 'asc'\nexport type TabFilterProps = {\n  sortByList: SortDropType[]\n  currTab: Tab<object>\n  tabList: Tab<object>[]\n  currSortType: SortDropType\n  sortRule: sortRule\n  handleChangeTab: (tab: Tab<object>) => void\n  onSortByChange: (type: SortDropType) => void\n  handleChangeSortRule: (sortRule: sortRule) => void\n  handleRefresh: () => void\n}\n\nexport function FarmsTabFilter(props: TabFilterProps) {\n  const { sortByList, currTab, tabList, handleChangeTab, currSortType, onSortByChange, sortRule, handleRefresh, handleChangeSortRule } = props\n  const { isApp } = useWindowWidth()\n\n  return (\n    <HStack\n      w=\"100%\"\n      mt={{ base: '20px', lg: '40px' }}\n      justify=\"space-between\"\n      flexDirection={{\n        base: 'column',\n        lg: 'row'\n      }}\n    >\n      {/* 切换Tab */}\n      <SelectTab\n        type=\"borderTab\"\n        wrapStyle={{\n          w: {\n            base: '100%',\n            lg: '415px'\n          },\n          h: '46px',\n          borderRadius: { base: '8px', lg: '12px' }\n        }}\n        itemStyle={{\n          w: '50%',\n          fontSize: '16px'\n        }}\n        tabList={tabList}\n        currentTab={currTab.label}\n        handleChangeTab={handleChangeTab}\n      />\n      <HStack w={{ base: '100%', lg: 'unset' }}>\n        {/* 选择排序类型 */}\n        <SortDropBlock\n          sortText=\"Sort by\"\n          xlinkHref={sortRule == 'desc' ? '#icon-icon_sort2' : '#icon-icon_sort_asc1'}\n          iconOnClick={() => {\n            if (sortRule === 'asc') {\n              handleChangeSortRule('desc')\n            } else {\n              handleChangeSortRule('asc')\n            }\n          }}\n          minW={isApp ? 'calc(100vw - 126px)' : '120px'}\n          currentSort={currSortType}\n          sortByList={sortByList}\n          onSortByChange={onSortByChange}\n          wrapStyle={{\n            borderRadius: { base: '8px', lg: '12px' }\n          }}\n        />\n        {/* <IconBg\n          xlinkHref={sortRule == 'desc' ? '#icon-icon_sort2' : '#icon-icon_sort_asc1'}\n          borderRadius={{ base: '8px', lg: '12px' }}\n          onClick={() => {\n            if (sortRule === 'asc') {\n              handleChangeSortRule('desc')\n            } else {\n              handleChangeSortRule('asc')\n            }\n          }}\n        /> */}\n        <RefreshButton handleRefresh={handleRefresh} borderRadius={{ base: '8px', lg: '12px' }} />\n      </HStack>\n    </HStack>\n  )\n}\n","import useGetPoolList from '@/hooks/pool/useGetPoolList'\n\nexport default function useGetFarmList() {\n  const { getPoolList } = useGetPoolList()\n\n  const getFarmList = async (orderBy: '-apr' | '-tvl' | 'apr' | 'tvl' = '-tvl') => {\n    const res = await getPoolList({\n      is_vaults: false,\n      display_all_pools: false,\n      has_mining: false,\n      has_farming: true,\n      no_incentives: false,\n      order_by: '-vol',\n      limit: 100,\n      offset: 0\n    })\n    console.log('🚀 ~ getFarmList ~ res:', res)\n\n    return res?.list?.sort((a: any, b: any) => {\n      if (orderBy === '-apr') {\n        return b.feeAndFarmsApr - a.feeAndFarmsApr\n      } else if (orderBy === 'apr') {\n        return a.feeAndFarmsApr - b.feeAndFarmsApr\n      } else if (orderBy === '-tvl') {\n        return b.farmsStatedTvl - a.farmsStatedTvl\n      } else {\n        return a.farmsStatedTvl - b.farmsStatedTvl\n      }\n    })\n  }\n\n  return {\n    getFarmList\n  }\n}\n","import { FarmsBanner } from '@/components/farms/FarmsBanner'\nimport FarmsListH5 from '@/components/farms/FarmsListH5'\nimport { FarmsTabFilter } from '@/components/farms/FarmsTabFilter'\nimport { FarmsTable } from '@/components/farms/FarmsTable'\nimport useGetFarmList from '@/hooks/farms/useGetFarmList'\nimport usePositionList from '@/hooks/position/usePositionList'\nimport usePositionStore from '@/store/position'\nimport { PosBaseInfo, PosReward } from '@/types'\nimport { Tab } from '@cetus/design/src/components/common/SelectTab'\nimport { SortDropType } from '@cetus/design/src/components/common/SortDropBlock'\nimport { useAccountBalance, useRpcListener } from '@cetus/hooks'\nimport useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { useAccountStore } from '@cetus/stores'\nimport useTokenPriceStore from '@cetus/stores/src/tokenPrice'\nimport { d } from '@cetus/utils'\nimport { Box, Text, VStack } from '@chakra-ui/react'\nimport { useEffect, useMemo, useState } from 'react'\n\nfunction Farms() {\n  const { currentAccount } = useAccountStore()\n  const { getPositionBaseList, getPosRelatedData } = usePositionList()\n  const { posBaseList, posBaseListLoading, farmsPosRewardsData, farmsPosRewardsDataLoading } = usePositionStore()\n  const { getFarmList } = useGetFarmList()\n  const [farmsList, setFarmsList] = useState<any>([])\n  const [farmsLiveList, setFarmsLiveList] = useState<any>([])\n  const [myFarmsList, setMyFarmsList] = useState<any>([])\n  const [farmsListLoading, setFarmsListLoading] = useState<boolean>(true)\n  const [positionList, setPositionList] = useState<PosBaseInfo[]>([])\n  const { fetchAccountBalance } = useAccountBalance()\n\n  const [currTab, setCurrTab] = useState<Tab<object>>({\n    label: 'Live'\n  })\n\n  const sortByList: SortDropType[] = [\n    {\n      label: 'APR',\n      value: 'apr'\n    },\n    {\n      label: 'TVL',\n      value: 'tvl'\n    }\n  ]\n  const [queryOptions, setQueryOptions] = useState<any>({\n    sortRule: 'desc',\n    sortType: 'tvl'\n  })\n  const [currSortType, setCurrSortType] = useState<SortDropType>({\n    label: 'TVL',\n    value: 'tvl'\n  })\n\n  const tabList = useMemo(() => {\n    const list: Tab<object>[] = []\n    list.push({\n      label: 'Live',\n      num: !farmsListLoading ? farmsLiveList.length.toString() : undefined\n    })\n\n    list.push({\n      label: 'Your Farms',\n      num: myFarmsList.length > 0 && currentAccount?.address && !farmsListLoading ? myFarmsList.length.toString() : undefined\n    })\n    return list\n  }, [currTab.label, farmsListLoading, farmsLiveList, myFarmsList, currentAccount?.address])\n\n  const getPositionList = async () => {\n    if (currentAccount?.address) {\n      const list = await getPositionBaseList(currentAccount?.address)\n      console.log('🚀 ~ getPositionList ~ currentAccount?.address:', currentAccount?.address)\n      getPosRelatedData(list as PosBaseInfo[], true)\n    } else {\n      setPositionList([])\n    }\n  }\n\n  // useEffect(() => {\n  //   console.log('🚀 ~ useEffect ~ posBaseList:', posBaseList)\n  //   getPosRelatedData(posBaseList, true)\n  // }, [JSON.stringify(posBaseList)])\n\n  const fetchFarmsList = async (queryOptions: any) => {\n    const order_by = queryOptions?.sortRule == 'desc' ? '-' + queryOptions?.sortType : queryOptions?.sortType\n    const res = await getFarmList(order_by)\n    if (res) {\n      setFarmsList(res)\n    }\n  }\n\n  useEffect(() => {\n    console.log('🚀 ~ Farms ~ positionList:', positionList)\n    if (farmsList.length > 0) {\n      if (currTab.label == 'Live') {\n        setFarmsLiveList(farmsList.filter((item: any) => item?.haveFarming))\n        setFarmsListLoading(false)\n      }\n      if (currentAccount?.address && positionList?.length > 0) {\n        const myList = farmsList.filter((item: { poolAddress: string }) => {\n          const posItems = positionList?.filter(pos => pos?.posType === 'farms') // 获取所有符合条件的条目\n          return posItems.some(pos => item?.poolAddress === pos?.clmmPool) // 检查是否有匹配\n        })\n        setMyFarmsList(myList)\n      } else {\n        setMyFarmsList([])\n      }\n      if (!posBaseListLoading) {\n        setFarmsListLoading(false)\n      }\n    } else {\n      setFarmsLiveList([])\n      setMyFarmsList([])\n    }\n  }, [currTab.label, farmsList, currentAccount?.address, positionList, posBaseListLoading])\n\n  useEffect(() => {\n    fetchFarmsList(queryOptions)\n    if (currentAccount?.address) {\n      setFarmsListLoading(true)\n      getPositionList()\n    } else {\n      setPositionList([])\n    }\n  }, [currentAccount?.address])\n\n  useEffect(() => {\n    setPositionList(posBaseList)\n  }, [posBaseList])\n\n  const handleRefresh = () => {\n    setFarmsListLoading(true)\n    fetchFarmsList(queryOptions)\n    // fetchAccountBalance()\n    getPositionList()\n  }\n\n  useRpcListener({\n    onRpcChange: () => {\n      // getPositionList()\n      handleRefresh()\n    }\n  })\n\n  const { fetchTokenPrices } = useTokenPrice()\n\n  // 刷新页面时重新查token价格\n  const getTokensPrice = () => {\n    const coinTypeList: string[] = []\n    farmsList?.forEach((data: any) => {\n      if (!coinTypeList.includes(data.tokenA.coin_type)) {\n        coinTypeList.push(data.tokenA.coin_type)\n      }\n      if (!coinTypeList.includes(data.tokenB.coin_type)) {\n        coinTypeList.push(data.tokenB.coin_type)\n      }\n      if (data?.farmsRewarderList?.length > 0) {\n        data?.farmsRewarderList?.forEach((reward: any) => {\n          coinTypeList.push(reward?.coinType)\n        })\n      }\n    })\n    if (coinTypeList.length > 0) {\n      fetchTokenPrices(Array.from(new Set(coinTypeList)))\n    }\n  }\n\n  useEffect(() => {\n    if (farmsList?.length > 0) {\n      getTokensPrice()\n    }\n  }, [farmsList])\n\n  const { getTokenAmountValue } = useTokenPrice()\n  const { coinPriceObj } = useTokenPriceStore()\n\n  const totalEarned = useMemo(() => {\n    if (!currentAccount?.address) return '--'\n    if (!posBaseListLoading && !farmsPosRewardsDataLoading) {\n      // 累加所有仓位的farms奖励\n      return posBaseList.reduce((total: any, item: PosBaseInfo) => {\n        // 累加单个仓位的所有farms奖励\n        const posFarmsData = farmsPosRewardsData[item?.id] || []\n        const totalAmount = posFarmsData.reduce((sum: any, rewardData: PosReward) => {\n          if (sum === '--') return '--'\n\n          const amountValue = getTokenAmountValue(rewardData?.token.coin_type, rewardData?.display_amount_owed, '--')\n          return amountValue === '--' ? '--' : d(sum).plus(amountValue).toString()\n        }, '0')\n\n        return total === '--' || totalAmount === '--' ? '--' : d(total).plus(totalAmount).toString()\n      }, '0')\n    }\n  }, [posBaseListLoading, farmsPosRewardsData, farmsPosRewardsDataLoading, coinPriceObj, currentAccount?.address])\n  console.log('🚀 ~ totalEarned ~ totalEarned:', totalEarned)\n  const { isApp } = useWindowWidth()\n  return (\n    <VStack gap=\"20px\" w=\"100%\">\n      <FarmsBanner totalRewards={totalEarned as string} />\n      <Box h=\"220px\" />\n      {/* 切换Tab 和 排序 */}\n      <FarmsTabFilter\n        sortByList={sortByList}\n        currTab={currTab}\n        tabList={tabList}\n        handleChangeTab={(tab: Tab<object>) => {\n          setCurrTab(tab)\n        }}\n        currSortType={currSortType}\n        onSortByChange={(type: SortDropType) => {\n          setFarmsListLoading(true)\n          queryOptions.sortType = type.value as any\n          setQueryOptions({ ...queryOptions })\n          setCurrSortType(type)\n          fetchFarmsList(queryOptions)\n        }}\n        sortRule={queryOptions.sortRule}\n        handleChangeSortRule={(sortRule: any) => {\n          setFarmsListLoading(true)\n          queryOptions.sortRule = sortRule\n          setQueryOptions({ ...queryOptions })\n          fetchFarmsList(queryOptions)\n        }}\n        handleRefresh={handleRefresh}\n      />\n      {isApp && (\n        <Text w=\"100%\" fontSize=\"20px\" color=\"text_caption\" mb=\"-8px\">\n          Pools\n        </Text>\n      )}\n      {!isApp && (\n        <FarmsTable\n          dataList={currTab.label == 'Live' ? farmsLiveList : myFarmsList}\n          showSkeletonLoading={farmsListLoading}\n          currTabLabel={currTab?.label}\n        />\n      )}\n      {isApp && (\n        <FarmsListH5\n          dataList={currTab.label == 'Live' ? farmsLiveList : myFarmsList}\n          showSkeletonLoading={farmsListLoading}\n          currTabLabel={currTab?.label}\n        />\n      )}\n    </VStack>\n  )\n}\n\nexport default Farms\n"],"names":["FarmsBanner","props","totalRewards","currentAccount","useAccountStore","posBaseList","usePositionStore","getPositionBaseList","getPosRelatedData","usePositionList","toClaimAllPos","claimLoading","useFarmsActions","rewardRef","useRef","getPosList","list","toClaimAll","useEffect","formatCurrency","jsx","VStack","jsxs","Text","Box","Skeleton","Button","d","FarmsListH5","dataList","showSkeletonLoading","currTabLabel","onWalletModal","Fragment","NoData","FarmsH5Loading","apiInfo","H5Item","getTokenAmountValue","useTokenPrice","coinPriceObj","useTokenPriceStore","openExpendItemObj","setOpenExpendItemObj","useState","farmsPosRewardsDataLoading","farmsPosRewardsData","posBaseListLoading","posBaseListGroupByPool","totalEarned","useMemo","_a","total","item","posFarmsData","totalAmount","sum","rewardData","amountValue","expendList","_b","a","b","ValidRangeBlock","LabelValue","AprTooltip","RewardsBlock","StakedBlock","TotalEarnedBlock","Icon","FarmsExpendBlock","label","value","HStack","index","SkeletonCircle","FarmsTabFilter","sortByList","currTab","tabList","handleChangeTab","currSortType","onSortByChange","sortRule","handleRefresh","handleChangeSortRule","isApp","useWindowWidth","SelectTab","SortDropBlock","RefreshButton","useGetFarmList","getPoolList","useGetPoolList","orderBy","res","Farms","getFarmList","farmsList","setFarmsList","farmsLiveList","setFarmsLiveList","myFarmsList","setMyFarmsList","farmsListLoading","setFarmsListLoading","positionList","setPositionList","useAccountBalance","setCurrTab","queryOptions","setQueryOptions","setCurrSortType","getPositionList","fetchFarmsList","order_by","myList","pos","useRpcListener","fetchTokenPrices","getTokensPrice","coinTypeList","data","reward","tab","type","FarmsTable"],"mappings":"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"}